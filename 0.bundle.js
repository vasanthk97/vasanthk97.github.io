webpackJsonp([0],{6075:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(29),f=n(p),m=a(21),h=n(m),g=a(8),v=n(g),y=a(373),b=n(y),C=a(70),E=a(69),S=a(345),w=a(24),x=a(68),O=n(x),k=a(43),D=a(358),I=n(D),T=a(6090),N=n(T),P=a(6122),A=n(P),j=a(338),M=n(j),F=a(71),R=n(F),B=a(93),_=n(B),L=a(167),H=n(L),V=a(342),U=n(V),W=a(341),z=n(W),Y=a(174),K=n(Y),G=a(186),q=n(G),X=a(359),J=a(352),Q=n(J),Z=a(360),$=n(Z),ee=a(6123),te=n(ee),ae=a(6085),ne=(n(ae),a(49)),oe=a(173),re=n(oe),ie=a(45),le=a(6084),se=n(le),ce=a(31),ue=n(ce),de=a(32),pe=n(de),fe=(a(374),void 0),me=function(e){return{appFrame:{display:"flex",flexDirection:"row",maxHeight:"100vh"},root:{backgroundImage:e.palette.background.main,width:"93.75vw",marginRight:"auto",marginLeft:"auto",alignItems:"center",paddingBottom:"0",justifyContent:"center",fontFamily:e.font.title.fontFamily},hangUpIconIng:{height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",cursor:"pointer"},callText:{marginLeft:".5rem",color:e.palette.primary.main,fontFamily:e.font.title.fontFamily,fontSize:"1rem"},dialpadIcon:{height:"calc(1.6vh + 1.6vw)",paddingRight:"1rem"},voiceMailIcon:{cursor:"pointer",background:"#5DAAE0",borderRadius:"50%",textAlign:"center",padding:"1px"},status:{fontSize:".7rem",color:"white",zIndex:"6"},duration:{marginRight:".6rem",color:e.palette.primary.main},customerName:{fontFamily:e.font.title.fontFamily,fontSize:"1.78rem",color:e.palette.secondary.main,lineHeight:"2.05rem"},customerNumber:{fontFamily:e.font.title.fontFamily,fontSize:".8rem",color:e.palette.secondary.main},transcriptBox:{height:"86.50vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main,position:"relative"},transcriptTitle:{fontSize:"1.2rem",color:e.palette.primary.main,paddingLeft:"1rem",opacity:.65,paddingTop:".5rem",position:"absolute",fontFamily:"Roboto"},nextFab:{right:.25*e.spacing.unit},prevFab:{marginLeft:"-0.5rem"},hangUpButton:{height:"calc(1.53vh + 1.53vw)",width:"2.66666665rem"},hangUpButtonImg:{height:"2.666665rem",width:"2.66666665rem"},dropDownIcon:{color:e.palette.secondary.main},dropDown:{color:e.palette.cardBackground.main},micOffIconImg:{cursor:"pointer",height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)"},micOffIcon:{height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",color:"white"},calledContactName:{fontSize:".76rem",color:"white",lineHeight:"normal"},calledToContactDiv:{width:"80%"},transcriptBoxParent:{paddingBottom:"0px !important",borderRadius:"4px"},closeStyle:{position:"fixed",top:"1%",left:"50%",color:"#fff",fontSize:48,cursor:"pointer"},customerHistoryModal:{position:"absolute",width:"45%",height:"100%",bottom:"0",overflowWrap:"break-word",overflowY:"auto",boxShadow:e.shadows[5],paddingLeft:"1%",backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main,left:"4.2%"},actionIcon:{fontSize:"2rem",color:e.palette.primary.main},actionButton:{height:"4.166vw",borderRadius:"0px",width:"4.166vw"}}},he=function(){for(var e=[],t={product:"hello",region:"America",amount:"5",saleDate:"09/09/1996",customer:"Balraj"},a=0;a<1e3;a++)e.push(t);return e}(),ge=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.openContactDropdown=function(){1==a.state.contactOpen?a.setState({contactOpen:!1}):a.setState({contactOpen:!0})},a.toggleContactPopover=function(e){a.setState({contactOpen:e})},a.getFormattedDuration=function(){var e=a.state.callDuration++,t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),o=Math.floor(e-3600*t-60*n);return n<10&&(n="0"+n),o<10&&(o="0"+o),n+":"+o},a.openVoicemail=function(){a.setState({isVoicemailOpen:!a.state.isVoicemailOpen})},a.closePopTimeline=function(){a.setState({popTimeline:!1})},a.openPopTimeline=function(e){a.setState({popTimeline:!0,popType:e})},a.getTimeline=function(e){var t=(a.props.classes,""),n="",o="";if("PAYMENT_HISTORY"===e&&(t=a.state.customer.payments,n="RECENT PAYMENTS",o="No Payments in Last 30 Days"),"COMM_HISTORY"===e){t=a.state.communication,n="COMMUNICATION HISTORY",o="No Communication History";for(var r in t){var i=t[r].type.toUpperCase();if("CALL"==i){var l=t[r].call.status;t[r].commType="-100"==l?"VOICEMAIL":"CALL"}else"CORRESPONDENCE"==i&&(t[r].commType="MAIL",t[r].customerName=a.state.customer.customerName)}}return u.default.createElement("div",null,("COMM_HISTORY"==e||"PAYMENT_HISTORY"==e)&&u.default.createElement($.default,{popType:e,events:t,mainHeader:n,noEventMsg:o}))},a.toggleMute=function(){a.setState({isMuted:!a.state.isMuted}),(0,C.sipToggleMute)()},a.setDuration=function(){0===a.state.callDuration&&(fe=setInterval(function(){"Connected to"===a.props.callState.status&&a.setState({callDurationInFormat:a.getFormattedDuration()})},1e3))},a.clearIntervalOnHangup=function(){clearInterval(fe)},a.hangUp=function(){(0,C.sipHangup)()},a.openVoicemail=function(){a.setState({isVoicemailOpen:!a.state.isVoicemailOpen})},a.switchToCallPrepPage=function(){a.setState({callPrepPage:!0})},a.switchToCallInCallPage=function(){a.setState({callPrepPage:!1})},a.handleVoicemailMessage=function(){var e=void 0,t=a.calledToFirstName+" "+a.calledToLastName;e="Unknown "===t||"Unnamed Unnamed"===t?a.props.location.state.calledToNumber:t;var n="Voicemail Played for "+(e||"")+"\n";a.setState({voicemailPlayedMessage:n})},a.myRef=u.default.createRef(),a.props.changeCallState({calling:!0,status:""});var n=void 0,l=void 0;null!=a.props.location.state.contactIndex?(console.log("first one"),console.log(a.props),n=a.props.location.state.contactIndex,l=a.props.location.state.customer.contacts[n].id,a.calledToNumber=a.props.location.state.calledToNumber,a.calledToFirstName=a.props.location.state.customer.contacts[n].firstName,a.calledToLastName=a.props.location.state.customer.contacts[n].lastName,a.emailOfCalled=a.props.location.state.customer.contacts[n].email):(console.log(a.props),console.log("second one"),l=a.props.location.state.contactId,a.calledToNumber=a.props.location.state.calledToNumber,a.calledToFirstName=a.props.location.state.calledToFirstName,a.calledToLastName=a.props.location.state.calledToLastName,a.emailOfCalled=a.props.location.state.emailOfCalled),console.log("Email of called",a.emailOfCalled),a.calledToFullName=a.calledToFirstName+" "+a.calledToLastName,"Unknown "!==a.calledToFullName&&"Unnamed Unnamed"!==a.calledToFullName||(a.calledToFullName=a.calledToNumber);var s=a.props.location.state,c=a.props.customers.customers.filter(function(e){return e.id==s.accountId});return a.props.callLog({status:"",contact:{id:l},calledToNumber:a.calledToNumber,contactId:l,calledTo:a.props.location.state.calledTo,startDateTime:new Date}),(0,ie.disableFredaInCall)(),(0,C.sipCall)(a.calledToNumber,a.props.user,c,s.customer,a.props.location.state.invoices),a.state=o({loading:!1,voicemailPlayedMessage:"",redirect:!1,callPrepPage:!1,customer:a.props.location.state.customer,communication:a.props.location.state.communication,callDuration:0,callDurationInFormat:"",transcription:"",summary:"[]",contactOpen:!1,columns:[{name:"product",title:"Product"},{name:"region",title:"Region"},{name:"amount",title:"Sale Amount"},{name:"saleDate",title:"Sale Date"},{name:"customer",title:"Customer"}],currencyColumns:["amount"],pageSizes:[5,10,15],rows:he,invoices:a.props.location.state.invoices,isVoicemailOpen:!1},"transcription",""),console.log(a.props.location.state.invoices,"in incall usual flow"),a}return l(t,e),s(t,[{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.transcription.transcription,a=e.transcription.transcription;a!==t&&this.setState({transcription:a}),this.setState({invoices:e.location.state.invoices})}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUpdate",value:function(e){}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.classes,i=n.theme,l=(parseInt(this.props.match.params.id,10),parseInt(this.props.match.params.id,10),(0,ne.getInitialsFromName)(this.calledToFirstName+" "+this.calledToLastName));i.palette.primary.main;return"Connected to"===this.props.callState.status&&this.setDuration(),u.default.createElement("div",{className:r.appFrame},u.default.createElement(K.default,{topItems:(0,X.getMenuItems)(r,i,this.openPopTimeline)}),u.default.createElement(re.default,null),!0===this.props.callState.calling&&u.default.createElement(M.default,{onSwipeLeft:this.switchToCallPrepPage,onSwipeRight:this.switchToCallInCallPage},u.default.createElement("div",{className:r.root},u.default.createElement(R.default,{open:this.state.popTimeline,disableAutoFocus:!0,onClose:this.closePopTimeline},u.default.createElement("div",null,u.default.createElement("div",{className:r.customerHistoryModal},this.getTimeline(this.state.popType)),u.default.createElement(O.default,{classes:{root:r.closeStyle},onClick:this.closePopTimeline}))),u.default.createElement("div",null,!0===this.props.callState.calling&&u.default.createElement("div",null,u.default.createElement(H.default,{"aria-label":"Add",className:(0,v.default)(r.prevFab,r.fabButtons),classes:{disabled:r.disabledFab},size:"small",disabled:this.state.callPrepPage,onClick:this.switchToCallPrepPage},u.default.createElement(z.default,{className:this.state.callPrepPage?r.disabledArrowicon:r.arrowIcon})),u.default.createElement(H.default,{"aria-label":"Add",classes:{disabled:r.disabledFab},className:(0,v.default)(r.nextFab,r.fabButtons),disabled:!this.state.callPrepPage,size:"small",onClick:this.switchToCallInCallPage},u.default.createElement(U.default,{className:this.state.callPrepPage?r.arrowIcon:r.disabledArrowicon}))),!0===this.props.callState.calling&&u.default.createElement(f.default,{container:!0,xs:12,justify:"space-between",alignItems:"flex-start",style:{marginTop:"1.12vh"}},u.default.createElement(f.default,{item:!0,xs:5,style:{paddingLeft:"0px",paddingRight:"0px"}},this.state.customer.customerName.length<20?u.default.createElement(h.default,{noWrap:!0,className:r.customerName}," ",this.state.customer.customerName):u.default.createElement(_.default,{title:this.state.customer.customerName},u.default.createElement(h.default,{noWrap:!0,className:r.customerName}," ",this.state.customer.customerName)),u.default.createElement("div",{className:r.customerNumber},this.state.customer.customerNumber)),u.default.createElement(f.default,{item:!0,container:!0,sm:6,lg:6,md:6,xl:5,alignItems:"center",justify:"flex-end"},u.default.createElement(f.default,{item:!0,container:!0,lg:8,md:10,xl:10,alignItems:"center",justify:"flex-end",style:{marginRight:"8.333vw"}},u.default.createElement(f.default,{item:!0,container:!0,sm:9,lg:9,md:9,xl:9,alignItems:"center",justify:"space-between",className:r.callGrid},u.default.createElement(f.default,{container:!0,item:!0,lg:7,md:7,xl:7,style:{cursor:"pointer"},onClick:this.openContactDropdown,justify:"flex-start",alignItems:"center"},u.default.createElement(f.default,{item:!0,className:r.customerIconCircle},"Unnamed"===this.calledToFirstName&&"Unnamed"===this.calledToLastName&&u.default.createElement("span",null,"?"),"Unnamed"!==this.calledToFirstName&&"Unnamed"!==this.calledToLastName&&u.default.createElement("span",null,this.calledToFirstName.toUpperCase().charAt(0)+this.calledToLastName.toUpperCase().charAt(0))),u.default.createElement(f.default,{item:!0,lg:7,md:7,xl:7,className:r.callText},u.default.createElement(h.default,{variant:"span",noWrap:!0,className:(0,v.default)(r.status)},this.props.callState.status),u.default.createElement("div",{className:r.calledToContactDiv},u.default.createElement(h.default,{noWrap:!0,className:r.calledContactName},this.calledToFullName))),u.default.createElement(f.default,{item:!0,className:r.dropDown,align:"right"},u.default.createElement(q.default,{className:r.dropDownIcon})),u.default.createElement(f.default,{item:!0,className:r.contactIcon},u.default.createElement(b.default,{dataFromChild:this.toggleContactPopover,contactOpen:this.state.contactOpen,openContacts:!1,contacts:this.state.customer.contacts,customer:this.state.customer,invoices:this.state.invoices,bucketNames:this.props.location.state.bucketNames,nextCustomerUrl:this.nextUrl,toCallCustomers:this.props.location.state.toCallCustomers}))),u.default.createElement(f.default,{container:!0,item:!0,lg:5,md:5,xl:5,alignItems:"center",justify:"flex-end"},u.default.createElement(f.default,{className:r.duration},this.state.callDurationInFormat),u.default.createElement(f.default,{item:!0,className:(0,v.default)(r.micOffIcon,r.centerFlexBox)},this.state.isMuted&&u.default.createElement("img",{className:r.micOffIconImg,src:"/tovo/static/unmute.svg",onClick:this.toggleMute}),!this.state.isMuted&&u.default.createElement("img",{className:r.micOffIconImg,src:a(6124),onClick:this.toggleMute})),u.default.createElement(f.default,{item:!0,align:"right",className:r.hangUpButton},u.default.createElement("img",(e={className:r.hangUpButtonImg,onClick:this.hangUp},o(e,"className",r.hangUpIconIng),o(e,"src",a(6125)),e))))),u.default.createElement(f.default,{item:!0,className:r.dialpadIcon},u.default.createElement(Q.default,{className:r.baseIconSize,customer:this.state.customer})),u.default.createElement(f.default,{item:!0,className:(0,v.default)(r.voiceMailIcon,r.baseIconSize)},u.default.createElement(te.default,{customer:this.state.customer,onVoicemailClick:function(){return t.handleVoicemailMessage()}}))))),!0===this.props.callState.calling&&!1===this.state.callPrepPage&&u.default.createElement("div",{style:{marginTop:"2.037vh"}},u.default.createElement(f.default,{container:!0,xs:12,alignItems:"flex-start",justify:"center",style:{marginLeft:"0px"}},u.default.createElement(f.default,{item:!0,xs:8,align:"left",style:{paddingTop:"0",paddingRight:"1.041vw"}},this.state.invoices&&u.default.createElement(A.default,{collector:this.props.user,emailOfCalled:this.emailOfCalled,customer:this.state.customer,invoices:this.state.invoices,bucketNames:this.props.location.state.bucketNames})),u.default.createElement(f.default,{item:!0,container:!0,xs:4,className:r.transcriptBoxParent},u.default.createElement(se.default,{className:r.transcriptBox,autoScroll:!0,transcriptTitleClassName:r.transcriptTitle,transcriptChatProps:{transcription:this.state.transcription,calledToNameInitials:l,userInitials:"ME",transcriptGridID:"live-transcription-grid"}})))),!0===this.props.callState.calling&&!0===this.state.callPrepPage&&u.default.createElement("div",null,u.default.createElement(I.default,{customer:this.state.customer}))))),!1===this.props.callState.calling&&("Call Failed"===this.props.callState.status||"Wrong Number"==this.props.callState.status||"User Busy"==this.props.callState.status)&&u.default.createElement("div",null,u.default.createElement(k.Redirect,{to:{pathname:"/callprep/"+this.state.customer.id,state:{openContacts:!0,toCallCustomers:this.props.location.state.toCallCustomers}}})),!1===this.props.callState.calling&&u.default.createElement(N.default,{voicemailMessage:this.state.voicemailPlayedMessage,callDuration:this.state.callDuration,toCallCustomers:this.props.location.state.toCallCustomers,nextCustomerUrl:this.props.location.state.nextCustomerUrl,onHangup:this.clearIntervalOnHangup,invoices:this.state.invoices,customer:this.state.customer,calledToName:this.calledToFirstName+" "+this.calledToLastName,bucketNames:this.props.location.state.bucketNames,collector:this.props.user,contactIndex:this.props.location.state.contactIndex,calledToNumber:this.props.location.state.calledToNumber,initialTranscription:this.state.transcription}),!1===this.props.callState.calling&&"Trying to connect"===this.props.callState.status&&u.default.createElement("div",null,u.default.createElement(k.Redirect,{to:{pathname:"/callprep/"+this.state.customer.id,state:{openContacts:!1,toCallCustomers:this.props.location.state.toCallCustomers}}})))}}]),t}(c.Component),ve=function(e){return{user:e.personalDetails,callState:e.callState,transcription:e.transcription,customers:e.customers}},ye=function(e){return{changeCallState:function(t){return e((0,E.changeCallState)(t))},changeStatus:function(t){return e((0,E.changeStatus)(t))},changeTranscription:function(t){return e((0,E.changeTranscription)(t))},callLog:function(t){return e((0,S.addInitialCallLog)(t))}}},be=(0,ue.default)(me,pe.default);t.default=(0,w.connect)(ve,ye)((0,d.withStyles)(be,{withTheme:!0})(ge))},6076:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(73),o=a(94),r=a(187),i=a(95),l=a(188),s=a(190),c=a(122),u=a(191),d=a(189),p=a(192),f=a(361),m=a(362),h=a(363),g=a(364),v=a(365),y=a(366),b=a(367),C=a(193),E=a(368),S=a(369),w=a(370),x=a(371),O=a(372),k=a(121),D=a(96),I=a(46),T=a(123),N=function(){function e(e){var t=(void 0===e?{}:e).locale;this.dateTime12hFormat="MMMM do hh:mm aaaa",this.dateTime24hFormat="MMMM do HH:mm",this.time12hFormat="hh:mm a",this.time24hFormat="HH:mm",this.dateFormat="MMMM do",this.locale=t}return e.prototype.addDays=function(e,t){return Object(n.a)(e,t)},e.prototype.isValid=function(e){return Object(C.a)(e)},e.prototype.getDiff=function(e,t){return Object(i.a)(e,t)},e.prototype.isAfter=function(e,t){return Object(g.a)(e,t)},e.prototype.isBefore=function(e,t){return Object(v.a)(e,t)},e.prototype.startOfDay=function(e){return Object(k.a)(e)},e.prototype.endOfDay=function(e){return Object(s.a)(e)},e.prototype.getHours=function(e){return Object(f.a)(e)},e.prototype.setHours=function(e,t){return Object(S.a)(e,t)},e.prototype.setMinutes=function(e,t){return Object(w.a)(e,t)},e.prototype.getSeconds=function(e){return Object(m.a)(e)},e.prototype.setSeconds=function(e,t){return Object(x.a)(e,t)},e.prototype.isSameDay=function(e,t){return Object(b.a)(e,t)},e.prototype.getStartOfMonth=function(e){return Object(D.a)(e)},e.prototype.getYear=function(e){return Object(h.a)(e)},e.prototype.setYear=function(e,t){return Object(O.a)(e,t)},e.prototype.date=function(e){return void 0===e?new Date:null===e?null:new Date(e)},e.prototype.parse=function(e,t){return""===e?null:Object(E.a)(e,t,new Date)},e.prototype.format=function(e,t){return Object(p.a)(e,t,{locale:this.locale})},e.prototype.isEqual=function(e,t){return null===e&&null===t||Object(y.a)(e,t)},e.prototype.isNull=function(e){return null===e},e.prototype.isAfterDay=function(e,t){return Object(g.a)(e,Object(s.a)(t))},e.prototype.isBeforeDay=function(e,t){return Object(v.a)(e,Object(k.a)(t))},e.prototype.isBeforeYear=function(e,t){return Object(v.a)(e,Object(T.a)(t))},e.prototype.isAfterYear=function(e,t){return Object(g.a)(e,Object(d.a)(t))},e.prototype.formatNumber=function(e){return e},e.prototype.getMinutes=function(e){return e.getMinutes()},e.prototype.getMonth=function(e){return e.getMonth()},e.prototype.getMeridiemText=function(e){return"am"===e?"AM":"PM"},e.prototype.getNextMonth=function(e){return Object(o.a)(e,1)},e.prototype.getPreviousMonth=function(e){return Object(o.a)(e,-1)},e.prototype.mergeDateAndTime=function(e,t){return this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t))},e.prototype.getWeekdays=function(){var e=this,t=new Date;return Object(l.a)({start:Object(I.a)(t,{locale:this.locale}),end:Object(u.a)(t,{locale:this.locale})},{locale:this.locale}).map(function(t){return Object(p.a)(t,"EEEEEE",{locale:e.locale})})},e.prototype.getWeekArray=function(e){for(var t=Object(I.a)(Object(D.a)(e),{locale:this.locale}),a=Object(u.a)(Object(c.a)(e),{locale:this.locale}),o=0,r=t,i=[];Object(v.a)(r,a);){var l=Math.floor(o/7);i[l]=i[l]||[],i[l].push(r),r=Object(n.a)(r,1),o+=1}return i},e.prototype.getYearRange=function(e,t){for(var a=Object(T.a)(e),n=Object(d.a)(t),o=[],i=a;Object(v.a)(i,n);)o.push(i),i=Object(r.a)(i,1);return o},e.prototype.getCalendarHeaderText=function(e){return Object(p.a)(e,"MMMM yyyy",{locale:this.locale})},e.prototype.getYearText=function(e){return Object(p.a)(e,"yyyy",{locale:this.locale})},e.prototype.getDatePickerHeaderText=function(e){return Object(p.a)(e,"EEE, MMM d",{locale:this.locale})},e.prototype.getDateTimePickerHeaderText=function(e){return Object(p.a)(e,"MMM d",{locale:this.locale})},e.prototype.getDayText=function(e){return Object(p.a)(e,"d",{locale:this.locale})},e.prototype.getHourText=function(e,t){return Object(p.a)(e,t?"hh":"HH",{locale:this.locale})},e.prototype.getMinuteText=function(e){return Object(p.a)(e,"mm",{locale:this.locale})},e.prototype.getSecondText=function(e){return Object(p.a)(e,"ss",{locale:this.locale})},e}();t.default=N},6077:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"DatePicker",function(){return Ye}),a.d(t,"InlineDatePicker",function(){return Qe}),a.d(t,"TimePicker",function(){return kt}),a.d(t,"InlineTimePicker",function(){return Tt}),a.d(t,"DateTimePicker",function(){return Wt}),a.d(t,"InlineDateTimePicker",function(){return Yt}),a.d(t,"BasePicker",function(){return ie}),a.d(t,"Calendar",function(){return Fe}),a.d(t,"Day",function(){return Pe}),a.d(t,"TimePickerView",function(){return Et}),a.d(t,"Clock",function(){return ft}),a.d(t,"MuiPickersUtilsProvider",function(){return te});var n=a(6093),o=a(4),r=(a.n(o),a(0)),i=(a.n(r),a(6094)),l=a.n(i),s=a(351),c=a.n(s),u=a(35),d=a.n(u),p=a(335),f=a.n(p),m=a(326),h=a.n(m),g=a(42),v=a.n(g),y=a(169),b=a.n(y),C=a(171),E=a.n(C),S=a(350),w=a.n(S),x=a(19),O=(a.n(x),a(8)),k=a.n(O),D=a(36),I=a.n(D),T=a(57),N=a.n(T),P=a(344),A=a.n(P),j=a(9),M=a.n(j),F=a(184),R=a.n(F),B=a(21),_=a.n(B),L=a(6095),H=(a.n(L),a(20)),V=(a.n(H),a(88)),U=a.n(V),W=a(33),z=a.n(W),Y=a(44),K=a.n(Y),G=a(336),q=a.n(G),X=a(337),J=a.n(X),Q=Object(r.createContext)(null),Z=Q.Consumer,$=Q.Provider,ee=Z,te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={utils:null},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return{utils:new(0,e.utils)({locale:e.locale,moment:e.moment})}},t.prototype.render=function(){return Object(r.createElement)($,{value:this.state.utils,children:this.props.children})},t.defaultProps={locale:void 0,moment:void 0},t}(r.Component),ae=function(e){if(!e)throw new Error("Can not find utils in context. You either a) forgot to wrap your component tree in MuiPickersUtilsProvider; or b) mixed named and direct file imports.  Recommendation: use named imports from the module index.")},ne=function(){return function(e){var t=function(t){return Object(r.createElement)(ee,null,function(a){return ae(a),Object(r.createElement)(e,Object(n.a)({utils:a},t))})};return t.displayName="WithUtils("+(e.displayName||e.name)+")",t}},oe=function(e){var t=e.utils,a=e.value,n=e.initialFocusedDate,o=a||n||t.date(),r=t.date(o);return t.isValid(r)?r:t.date()},re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={date:oe(t.props),isAccepted:!1},t.changeDate=function(e,a){return t.setState({date:e},a)},t.handleAcceptedChange=function(e,a){return t.setState({isAccepted:e},a)},t.handleClear=function(){return t.props.onChange(null)},t.handleAccept=function(){return t.props.onChange(t.state.date)},t.handleSetTodayDate=function(){return t.handleChange(t.props.utils.date(),!1)},t.handleTextFieldChange=function(e){var a=t.props,n=a.onChange,o=a.utils;a.mergePreviousDateOnChange&&(e=o.mergeDateAndTime(t.state.date,e)),null===e?n(null):t.changeDate(e,function(){return n(e)})},t.pick12hOr24hFormat=function(e,a){var n=t.props,o=n.format,r=n.ampm;return o||(r?e:a)},t.handleChange=function(e,a){void 0===a&&(a=!0);var n=t.props,o=n.autoOk,r=n.onChange;t.changeDate(e,function(){a&&o&&(r(e),t.handleAcceptedChange(!0,function(){return t.handleAcceptedChange(!1)}))})},t.handleDismiss=function(){t.setState({date:oe(t.props)})},t}return Object(n.b)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,a=t.utils,n=t.value,o=t.initialFocusedDate;e.value===n&&e.utils.locale===a.locale&&e.initialFocusedDate===o||this.changeDate(oe(this.props))},t.prototype.render=function(){return this.props.children(Object(n.a)({},this.state,{utils:this.props.utils,changeDate:this.changeDate,handleAcceptedChange:this.handleAcceptedChange,handleClear:this.handleClear,handleAccept:this.handleAccept,handleDismiss:this.handleDismiss,handleSetTodayDate:this.handleSetTodayDate,handleTextFieldChange:this.handleTextFieldChange,pick12hOr24hFormat:this.pick12hOr24hFormat,handleChange:this.handleChange}))},t}(r.Component),ie=ne()(re),le=(Object(o.oneOfType)([o.object,o.string,o.number,Object(o.instanceOf)(Date)]),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.inputRef,a=e.keepCharPositions,o=Object(n.c)(e,["inputRef","keepCharPositions"]);return this.props.mask?Object(r.createElement)(l.a,Object(n.a)({},o,{keepCharPositions:a,ref:t})):Object(r.createElement)("input",Object(n.a)({},o,{ref:t}))},t.defaultProps={mask:void 0},t}(r.PureComponent)),se=function(e){var t=e.utils,a=e.value,n=e.format,o=e.invalidLabel,r=e.emptyLabel,i=e.labelFunc,l=null===a,s=t.date(a);return i?i(l?null:s,o):l?r:t.isValid(s)?t.format(s,n):o},ce=function(e,t){var a=t.utils,n=t.maxDate,o=t.minDate,r=t.disablePast,i=t.disableFuture,l=t.maxDateMessage,s=t.minDateMessage,c=t.invalidDateMessage;return a.isValid(e)?n&&a.isAfter(e,a.endOfDay(a.date(n)))||i&&a.isAfter(e,a.endOfDay(a.date()))?l:o&&a.isBefore(e,a.startOfDay(a.date(o)))||r&&a.isBefore(e,a.startOfDay(a.date()))?s:"":a.isNull(e)?"":c},ue=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.state=t.updateState(a.props),a.commitUpdates=function(e){var n=a.props,o=n.onChange,r=n.clearable,i=n.onClear,l=n.utils,s=n.format,c=n.onError;if(""===e)return void(null===a.props.value?a.setState(t.updateState(a.props)):r&&i&&i());var u=l.date(a.state.value),d=l.parse(e,s),p=ce(d,a.props);a.setState({error:p,displayValue:e,value:p?d:u},function(){p||l.isEqual(d,u)||o(d),p&&c&&c(d,p)})},a.handleBlur=function(e){a.props.keyboard&&(e.preventDefault(),e.stopPropagation(),a.commitUpdates(e.target.value),a.props.onBlur&&a.props.onBlur(e))},a.handleChange=function(e){var t=a.props,n=t.utils,o=t.format,r=t.onInputChange,i=n.parse(e.target.value,o);r&&r(e),a.setState({displayValue:e.target.value,error:ce(i,a.props)})},a.handleFocus=function(e){e.stopPropagation(),e.preventDefault(),a.props.keyboard||a.openPicker(e)},a.handleKeyPress=function(e){"Enter"===e.key&&(a.props.disableOpenOnEnter?a.commitUpdates(e.target.value):a.openPicker(e))},a.openPicker=function(e){var t=a.props,n=t.disabled,o=t.onClick;n||o(e)},a}return Object(n.b)(t,e),t.prototype.componentDidUpdate=function(e){this.props.utils.isEqual(this.props.value,e.value)&&e.format===this.props.format&&e.maxDate===this.props.maxDate&&e.minDate===this.props.minDate&&e.emptyLabel===this.props.emptyLabel&&e.utils===this.props.utils||this.setState(t.updateState(this.props))},t.prototype.render=function(){var e=this.props,t=e.adornmentPosition,a=(e.clearable,e.disabled),o=(e.disableFuture,e.disableOpenOnEnter,e.disablePast,e.emptyLabel,e.format,e.InputAdornmentProps),i=e.InputProps,l=(e.invalidDateMessage,e.invalidLabel,e.keyboard),s=e.keyboardIcon,u=(e.labelFunc,e.mask),p=(e.maxDate,e.maxDateMessage,e.minDate,e.minDateMessage,e.onBlur,e.onClear,e.onClick,e.pipe),m=e.keepCharPositions,h=e.TextFieldComponent,g=(e.utils,e.value,e.onInputChange,Object(n.c)(e,["adornmentPosition","clearable","disabled","disableFuture","disableOpenOnEnter","disablePast","emptyLabel","format","InputAdornmentProps","InputProps","invalidDateMessage","invalidLabel","keyboard","keyboardIcon","labelFunc","mask","maxDate","maxDateMessage","minDate","minDateMessage","onBlur","onClear","onClick","pipe","keepCharPositions","TextFieldComponent","utils","value","onInputChange"])),v=this.state,y=v.displayValue,b=v.error,C={inputComponent:le,inputProps:{mask:l?u:null,pipe:l?p:null,keepCharPositions:l?m:void 0,readOnly:!l}};l&&(C[t+"Adornment"]=Object(r.createElement)(f.a,Object(n.a)({position:t},o),Object(r.createElement)(d.a,{disabled:a,onClick:this.openPicker},Object(r.createElement)(c.a,null," ",s," "))));var E=h,S=Object(n.a)({},C,i);return Object(r.createElement)(E,Object(n.a)({onClick:this.handleFocus,error:!!b,helperText:b,onKeyPress:this.handleKeyPress,onBlur:this.handleBlur,disabled:a,value:y},g,{onError:void 0,onChange:this.handleChange,InputProps:S}))},t.defaultProps={disabled:!1,invalidLabel:"Unknown",emptyLabel:"",value:new Date,labelFunc:void 0,format:void 0,InputProps:void 0,keyboard:!1,mask:void 0,keyboardIcon:"event",disableOpenOnEnter:!1,invalidDateMessage:"Invalid Date Format",clearable:!1,onBlur:void 0,onClear:void 0,disablePast:!1,disableFuture:!1,onError:void 0,onInputChange:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",minDateMessage:"Date should not be before minimal date",maxDateMessage:"Date should not be after maximal date",TextFieldComponent:h.a,InputAdornmentProps:{},adornmentPosition:"end",pipe:void 0,keepCharPositions:!1},t.updateState=function(e){return{value:e.value,displayValue:se(e),error:ce(e.utils.date(e.value),e)}},t}(r.PureComponent),de=ne()(ue),pe=function(e){var t,a,o,i=e.children,l=e.classes,s=e.onKeyDown,c=e.onAccept,u=e.onDismiss,d=e.onClear,p=e.onSetToday,f=e.okLabel,m=e.cancelLabel,h=e.clearLabel,g=e.todayLabel,y=e.clearable,C=e.showTodayButton,S=e.showTabs,x=Object(n.c)(e,["children","classes","onKeyDown","onAccept","onDismiss","onClear","onSetToday","okLabel","cancelLabel","clearLabel","todayLabel","clearable","showTodayButton","showTabs"]);return Object(r.createElement)(b.a,Object(n.a)({role:"dialog",onClose:u,classes:{paper:k()(l.dialogRoot,(t={},t[l.dialogWithTabs]=S,t))}},x),Object(r.createElement)(I.a,{target:"window",onKeyDown:s}),Object(r.createElement)(w.a,{children:i,className:k()(l.dialog,(a={},a[l.dialogWithTabs]=S,a))}),Object(r.createElement)(E.a,{classes:{root:y||C?l.dialogActions:void 0,action:k()(l.dialogAction,(o={},o[l.clearableDialogAction]=y,o[l.todayDialogAction]=!y&&C,o))}},y&&Object(r.createElement)(v.a,{color:"primary",onClick:d},h),!y&&C&&Object(r.createElement)(v.a,{color:"primary",onClick:p},g),Object(r.createElement)(v.a,{color:"primary",onClick:u},m),Object(r.createElement)(v.a,{color:"primary",onClick:c},f)))};pe.displayName="ModalDialog";var fe=Object(x.createStyles)({dialogRoot:{minWidth:310,minHeight:405},dialog:{width:310,minHeight:405,overflow:"hidden","&:first-child":{padding:0}},dialogWithTabs:{minHeight:455},dialogActions:{justifyContent:"flex-start"},clearableDialogAction:{"&:first-child":{marginRight:"auto"}},todayDialogAction:{"&:first-child":{marginRight:"auto"}},dialogAction:{}}),me=Object(x.withStyles)(fe,{name:"MuiPickersModal"})(pe),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1},t.handleKeyDown=function(e){switch(N()(e)){case"enter":t.handleAccept();break;default:return}e.preventDefault()},t.handleSetTodayDate=function(){t.props.onSetToday&&t.props.onSetToday()},t.open=function(){t.setState({open:!0}),t.props.onOpen&&t.props.onOpen()},t.close=function(){t.setState({open:!1}),t.props.onClose&&t.props.onClose()},t.handleAccept=function(){t.close(),t.props.onAccept&&t.props.onAccept()},t.handleDismiss=function(){t.close(),t.props.onDismiss&&t.props.onDismiss()},t.handleClear=function(){t.close(),t.props.onClear&&t.props.onClear()},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return e.isAccepted?{open:!1}:null},t.prototype.render=function(){var e=this.props,t=e.value,a=e.format,o=e.children,i=(e.onAccept,e.onDismiss,e.invalidLabel),l=e.labelFunc,s=e.okLabel,c=e.cancelLabel,u=e.clearLabel,d=e.clearable,p=e.todayLabel,f=e.showTodayButton,m=(e.onOpen,e.onClose,e.onSetToday,e.isAccepted,e.DialogProps),h=e.showTabs,g=Object(n.c)(e,["value","format","children","onAccept","onDismiss","invalidLabel","labelFunc","okLabel","cancelLabel","clearLabel","clearable","todayLabel","showTodayButton","onOpen","onClose","onSetToday","isAccepted","DialogProps","showTabs"]);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(de,Object(n.a)({value:t,format:a,onClick:this.open,invalidLabel:i,labelFunc:l,clearable:d},g)),Object(r.createElement)(me,Object(n.a)({showTabs:h,open:this.state.open,onKeyDown:this.handleKeyDown,onClear:this.handleClear,onAccept:this.handleAccept,onDismiss:this.handleDismiss,onSetToday:this.handleSetTodayDate,clearLabel:u,todayLabel:p,okLabel:s,cancelLabel:c,clearable:d,showTodayButton:f,children:o},m)))},t.defaultProps={invalidLabel:void 0,value:new Date,labelFunc:void 0,okLabel:"OK",cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",clearable:!1,showTodayButton:!1,format:void 0,onAccept:void 0,onDismiss:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,onSetToday:void 0,DialogProps:void 0,isAccepted:!1},t}(r.PureComponent),ge=function(e){var t=e.children,a=e.className,o=e.classes,i=Object(n.c)(e,["children","className","classes"]);return Object(r.createElement)(R.a,Object(n.a)({className:k()(o.toolbar,a)},i),t)};ge.defaultProps={className:""};var ve=function(e){return A()({toolbar:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",height:100,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default}})},ye=M()(ve,{name:"MuiPickersToolbar"})(ge),be=function(e){var t,a=e.classes,o=e.selected,i=e.label,l=e.className,s=Object(n.c)(e,["classes","selected","label","className"]);return Object(r.createElement)(_.a,Object(n.a)({className:k()(a.toolbarBtn,l,(t={},t[a.toolbarBtnSelected]=o,t))},s),i)};be.defaultProps={className:""};var Ce=function(e){return{toolbarBtn:{cursor:"pointer",color:"rgba(255, 255, 255, 0.54)"},toolbarBtnSelected:{color:e.palette.common.white}}},Ee=M()(Ce,{name:"MuiPickersToolbarButton"})(be),Se=function(e){var t=e.date,a=e.utils,n=e.minDate,o=e.maxDate,r=e.disableFuture,i=e.disablePast,l=e.shouldDisableDate,s=a.startOfDay(a.date());n=n&&a.date(n),o=o&&a.date(o),i&&a.isBefore(n,s)&&(n=s),r&&a.isAfter(o,s)&&(o=s);var c=a.date(t),u=a.date(t);for(a.isBefore(t,n)&&(c=n,u=null),a.isAfter(t,o)&&(u&&(u=o),c=null);c||u;){if(c&&a.isAfter(c,o)&&(c=null),u&&a.isBefore(u,n)&&(u=null),c){if(!l(c))return c;c=a.addDays(c,1)}if(u){if(!l(u))return u;u=a.addDays(u,-1)}}return null},we=function(e){var t=e.classes,a=e.className,n=e.children,o=e.transKey,i=e.slideDirection;return Object(r.createElement)(L.TransitionGroup,{className:k()(t.transitionContainer,a)},Object(r.createElement)(L.CSSTransition,{key:o,mountOnEnter:!0,unmountOnExit:!0,timeout:350,children:n,classNames:{enter:t["slideEnter-"+i],enterActive:t.slideEnterActive,exit:t.slideExit,exitActive:t["slideExitActiveLeft-"+i]}}))};we.defaultProps={className:void 0};var xe=function(e){var t=e.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return A()({transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:t},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-200%)",transition:t},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(200%)",transition:t}})},Oe=M()(xe,{name:"MuiPickersSlideTransition"})(we),ke=function(e){var t=e.classes,a=e.theme,n=e.currentMonth,o=e.onMonthChange,i=e.leftArrowIcon,l=e.rightArrowIcon,s=e.disablePrevMonth,u=e.disableNextMonth,p=e.utils,f=e.slideDirection,m="rtl"===a.direction,h=function(){return o(p.getNextMonth(n),"left")},g=function(){return o(p.getPreviousMonth(n),"right")};return Object(r.createElement)("div",null,Object(r.createElement)("div",{className:t.switchHeader},Object(r.createElement)(d.a,{disabled:s,onClick:g,className:t.iconButton},Object(r.createElement)(c.a,null,m?l:i)),Object(r.createElement)(Oe,{slideDirection:f,transKey:n.toString(),className:t.transitionContainer},Object(r.createElement)(_.a,{align:"center",variant:"body1"},p.getCalendarHeaderText(n))),Object(r.createElement)(d.a,{disabled:u,onClick:h,className:t.iconButton},Object(r.createElement)(c.a,null,m?i:l))),Object(r.createElement)("div",{className:t.daysHeader},p.getWeekdays().map(function(e,a){return Object(r.createElement)(_.a,{key:a,variant:"caption",className:t.dayLabel},e)})))};ke.defaultProps={leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",disablePrevMonth:!1,disableNextMonth:!1};var De=function(e){return A()({switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing.unit/2,marginBottom:e.spacing.unit},transitionContainer:{width:"100%",height:20},iconButton:{zIndex:2,backgroundColor:e.palette.background.paper,"& > *":{backgroundColor:e.palette.background.paper,"& > *":{zIndex:1,overflow:"visible"}}},daysHeader:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:16},dayLabel:{width:36,margin:"0 2px",textAlign:"center",color:e.palette.text.hint}})},Ie=M()(De,{withTheme:!0,name:"MuiPickersCalendarHeader"})(ne()(ke)),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.children,o=t.classes,i=t.disabled,l=t.hidden,s=t.current,c=t.selected,u=Object(n.c)(t,["children","classes","disabled","hidden","current","selected"]),p=k()(o.day,(e={},e[o.hidden]=l,e[o.current]=s,e[o.selected]=c,e[o.disabled]=i,e));return Object(r.createElement)(d.a,Object(n.a)({className:p,tabIndex:l||i?-1:0},u),a)},t.defaultProps={disabled:!1,hidden:!1,current:!1,selected:!1},t}(r.PureComponent),Ne=function(e){return A()({day:{width:36,height:36,fontSize:e.typography.caption.fontSize,margin:"0 2px",color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium,padding:0},hidden:{opacity:0,pointerEvents:"none"},current:{color:e.palette.primary.main,fontWeight:600},selected:{color:e.palette.common.white,backgroundColor:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{backgroundColor:e.palette.primary.main}},disabled:{pointerEvents:"none",color:e.palette.text.hint}})},Pe=M()(Ne,{name:"MuiPickersDay"})(Te),Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onSelect(t.props.value)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,a=(e.value,e.dayInCurrentMonth),o=e.disabled,i=(e.onSelect,Object(n.c)(e,["children","value","dayInCurrentMonth","disabled","onSelect"]));return Object(r.createElement)("div",Object(n.a)({onClick:a&&!o?this.handleClick:void 0,onKeyPress:a&&!o?this.handleClick:void 0,role:"presentation"},i),t)},t.defaultProps={dayInCurrentMonth:!0,disabled:!1},t}(r.PureComponent),je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={slideDirection:"left",currentMonth:t.props.utils.getStartOfMonth(t.props.date)},t.onDateSelect=function(e,a){void 0===a&&(a=!0);var n=t.props,o=n.date,r=n.utils;t.props.onChange(r.mergeDateAndTime(e,o),a)},t.handleChangeMonth=function(e,a){t.setState({currentMonth:e,slideDirection:a})},t.validateMinMaxDate=function(e){var a=t.props,n=a.minDate,o=a.maxDate,r=a.utils;return n&&r.isBeforeDay(e,r.date(n))||o&&r.isAfterDay(e,r.date(o))},t.shouldDisablePrevMonth=function(){var e=t.props,a=e.utils,n=e.disablePast,o=e.minDate,r=a.date();return!a.isBefore(a.getStartOfMonth(n&&a.isAfter(r,o)?r:a.date(o)),t.state.currentMonth)},t.shouldDisableNextMonth=function(){var e=t.props,a=e.utils,n=e.disableFuture,o=e.maxDate,r=a.date();return!a.isAfter(a.getStartOfMonth(n&&a.isBefore(r,o)?r:a.date(o)),t.state.currentMonth)},t.shouldDisableDate=function(e){var a=t.props,n=a.disablePast,o=a.disableFuture,r=a.shouldDisableDate,i=a.utils;return Boolean(o&&i.isAfterDay(e,i.date())||n&&i.isBeforeDay(e,i.date())||t.validateMinMaxDate(e)||r&&r(e))},t.moveToDay=function(e){e&&!t.shouldDisableDate(e)&&t.onDateSelect(e,!1)},t.handleKeyDown=function(e){var a=t.props,n=a.theme,o=a.date,r=a.utils;switch(N()(e)){case"up":t.moveToDay(r.addDays(o,-7));break;case"down":t.moveToDay(r.addDays(o,7));break;case"left":"ltr"===n.direction?t.moveToDay(r.addDays(o,-1)):t.moveToDay(r.addDays(o,1));break;case"right":"ltr"===n.direction?t.moveToDay(r.addDays(o,1)):t.moveToDay(r.addDays(o,-1));break;default:return}e.preventDefault()},t.renderWeeks=function(){var e=t.props.utils,a=t.state.currentMonth;return e.getWeekArray(a).map(function(e){return Object(r.createElement)("div",{key:"week-"+e[0].toString(),className:t.props.classes.week},t.renderDays(e))})},t.renderDays=function(e){var a=t.props,n=a.date,o=a.renderDay,i=a.utils,l=i.startOfDay(n),s=i.getMonth(t.state.currentMonth),c=i.date();return e.map(function(e){var a=t.shouldDisableDate(e),n=i.getMonth(e)===s,u=Object(r.createElement)(Pe,{current:i.isSameDay(e,c),hidden:!n,disabled:a,selected:i.isSameDay(l,e)},i.getDayText(e));return o&&(u=o(e,l,n,u)),Object(r.createElement)(Ae,{key:e.toString(),value:e,dayInCurrentMonth:n,disabled:a,onSelect:t.onDateSelect},u)})},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e,t){return e.utils.isEqual(e.date,t.lastDate)?null:{lastDate:e.date,currentMonth:e.utils.getStartOfMonth(e.date)}},t.prototype.componentDidMount=function(){var e=this.props,t=e.date,a=e.minDate,n=e.maxDate,o=e.utils,r=e.disablePast;if(this.shouldDisableDate(t)){var i=Se({date:t,utils:o,minDate:a,maxDate:n,disablePast:Boolean(r),disableFuture:Boolean(r),shouldDisableDate:this.shouldDisableDate});this.onDateSelect(i||a,!1)}},t.prototype.render=function(){var e=this.state,t=e.currentMonth,a=e.slideDirection,n=this.props,o=n.classes,i=n.allowKeyboardControl;return Object(r.createElement)(r.Fragment,null,i&&Object(r.createElement)(I.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(r.createElement)(Ie,{slideDirection:a,currentMonth:t,onMonthChange:this.handleChangeMonth,leftArrowIcon:this.props.leftArrowIcon,rightArrowIcon:this.props.rightArrowIcon,disablePrevMonth:this.shouldDisablePrevMonth(),disableNextMonth:this.shouldDisableNextMonth()}),Object(r.createElement)(Oe,{slideDirection:a,transKey:t.toString(),className:o.transitionContainer},Object(r.createElement)("div",{autoFocus:!0},this.renderWeeks())))},t.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,allowKeyboardControl:!1,shouldDisableDate:function(){return!1}},t}(r.Component),Me=function(e){return{transitionContainer:{minHeight:216,marginTop:1.5*e.spacing.unit},week:{display:"flex",justifyContent:"center"}}},Fe=M()(Me,{name:"MuiPickersCalendar",withTheme:!0})(ne()(je)),Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onSelect(t.props.value)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.classes,o=t.selected,i=t.disabled,l=(t.value,t.children),s=Object(n.c)(t,["classes","selected","disabled","value","children"]);return Object(r.createElement)(_.a,Object(n.a)({role:"button",component:"div",className:k()(a.root,(e={},e[a.selected]=o,e[a.disabled]=i,e)),tabIndex:i?-1:0,onClick:this.handleClick,onKeyPress:this.handleClick,color:o?"primary":"default",variant:o?"h5":"subtitle1"},s),l)},t.defaultProps={selected:!1,disabled:!1},t}(r.PureComponent),Be=function(e){return A()({root:{height:5*e.spacing.unit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none","&:focus":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium}},selected:{margin:"10px 0",fontWeight:e.typography.fontWeightMedium},disabled:{pointerEvents:"none",color:e.palette.text.hint}})},_e=M()(Be,{name:"MuiPickersYear"})(Re),Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedYearRef=void 0,t.getSelectedYearRef=function(e){t.selectedYearRef=e},t.scrollToCurrentYear=function(e){var a=t.props.animateYearScrolling,n=Object(H.findDOMNode)(e);n&&n.scrollIntoView&&(a?setTimeout(function(){return n.scrollIntoView({behavior:"smooth"})},100):n.scrollIntoView())},t.onYearSelect=function(e){var a=t.props,n=a.date;(0,a.onChange)(a.utils.setYear(n,e))},t}return Object(n.b)(t,e),t.prototype.componentDidMount=function(){this.selectedYearRef&&this.scrollToCurrentYear(this.selectedYearRef)},t.prototype.render=function(){var e=this,t=this.props,a=t.minDate,n=t.maxDate,o=t.date,i=t.classes,l=t.disablePast,s=t.disableFuture,c=t.utils,u=c.getYear(o);return Object(r.createElement)("div",{className:i.container},c.getYearRange(a,n).map(function(t){var a=c.getYear(t),n=a===u;return Object(r.createElement)(_e,{key:c.getYearText(t),selected:n,value:a,onSelect:e.onYearSelect,ref:n?e.getSelectedYearRef:void 0,disabled:l&&c.isBeforeYear(t,c.date())||s&&c.isAfterYear(t,c.date())},c.getYearText(t))}))},t.defaultProps={animateYearScrolling:!1},t}(r.PureComponent),He=A()({container:{maxHeight:300,overflowY:"auto",justifyContent:"center"}}),Ve=M()(He,{name:"MuiPickersYearSelection"})(ne()(Le)),Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showYearSelection:Boolean(t.props.openToYearSelection)},t.handleYearSelect=function(e){t.props.onChange(e,!1),t.openCalendar()},t.openYearSelection=function(){t.setState({showYearSelection:!0})},t.openCalendar=function(){t.setState({showYearSelection:!1})},t}return Object(n.b)(t,e),Object.defineProperty(t.prototype,"date",{get:function(){return this.props.date},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this.props.utils.date(this.props.minDate)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this.props.utils.date(this.props.maxDate)},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.state.showYearSelection,t=this.props,a=t.disablePast,n=t.disableFuture,o=t.onChange,i=t.animateYearScrolling,l=t.leftArrowIcon,s=t.rightArrowIcon,c=t.renderDay,u=t.utils,d=t.shouldDisableDate,p=t.allowKeyboardControl;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(ye,null,Object(r.createElement)(Ee,{variant:"subtitle1",onClick:this.openYearSelection,selected:e,label:u.getYearText(this.date)}),Object(r.createElement)(Ee,{variant:"h4",onClick:this.openCalendar,selected:!e,label:u.getDatePickerHeaderText(this.date)})),this.props.children,e?Object(r.createElement)(Ve,{date:this.date,onChange:this.handleYearSelect,minDate:this.minDate,maxDate:this.maxDate,disablePast:a,disableFuture:n,animateYearScrolling:i}):Object(r.createElement)(Fe,{date:this.date,onChange:o,disablePast:a,disableFuture:n,minDate:this.minDate,maxDate:this.maxDate,leftArrowIcon:l,rightArrowIcon:s,renderDay:c,shouldDisableDate:d,allowKeyboardControl:p}))},t.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,allowKeyboardControl:!1,animateYearScrolling:void 0,openToYearSelection:!1,children:null,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,shouldDisableDate:void 0},t}(r.PureComponent),We=ne()(Ue),ze=function(e){var t=e.allowKeyboardControl,a=e.animateYearScrolling,o=(e.autoOk,e.disableFuture),i=e.disablePast,l=e.format,s=e.forwardedRef,c=e.labelFunc,u=e.leftArrowIcon,d=e.maxDate,p=e.minDate,f=(e.initialFocusedDate,e.onChange,e.openToYearSelection),m=e.renderDay,h=e.rightArrowIcon,g=e.shouldDisableDate,v=e.value,y=Object(n.c)(e,["allowKeyboardControl","animateYearScrolling","autoOk","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value"]);return Object(r.createElement)(ie,Object(n.a)({},e),function(e){var b=e.date,C=e.utils,E=e.handleAccept,S=e.handleChange,w=e.handleClear,x=e.handleDismiss,O=e.handleSetTodayDate,k=e.handleTextFieldChange,D=e.isAccepted;return Object(r.createElement)(he,Object(n.a)({disableFuture:o,disablePast:i,format:l||C.dateFormat,labelFunc:c,maxDate:d,minDate:p,onAccept:E,onChange:k,onClear:w,onDismiss:x,onSetToday:O,ref:s,value:v,isAccepted:D},y),Object(r.createElement)(We,{date:b,allowKeyboardControl:t,animateYearScrolling:a,disableFuture:o,disablePast:i,leftArrowIcon:u,maxDate:d,minDate:p,onChange:S,openToYearSelection:f,renderDay:m,rightArrowIcon:h,shouldDisableDate:g}))})};ze.defaultProps={value:new Date,format:void 0,autoOk:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0};var Ye=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(ze,Object(n.a)({},e,{forwardedRef:t}))}),Ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={anchorEl:null},t.open=function(e){t.setState({anchorEl:e.currentTarget}),t.props.onOpen&&t.props.onOpen()},t.close=function(){t.setState({anchorEl:null}),t.props.handleAccept(),t.props.onClose&&t.props.onClose()},t.handleKeyDown=function(e){switch(N()(e)){case"enter":t.props.handleAccept(),t.close();break;default:return}e.preventDefault()},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return e.isAccepted?{anchorEl:null}:null},t.prototype.render=function(){var e=this.props,t=e.value,a=e.format,o=e.children,i=(e.onOpen,e.onClose,e.PopoverProps),l=(e.isAccepted,e.keyboard),s=(e.onlyCalendar,e.classes),c=(e.handleAccept,Object(n.c)(e,["value","format","children","onOpen","onClose","PopoverProps","isAccepted","keyboard","onlyCalendar","classes","handleAccept"])),u=Boolean(this.state.anchorEl);return Object(r.createElement)(r.Fragment,null,u&&Object(r.createElement)(I.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(r.createElement)(de,Object(n.a)({value:t,format:a,onClick:this.open,keyboard:l},c)),Object(r.createElement)(U.a,Object(n.a)({id:"picker-popover",open:u,anchorEl:this.state.anchorEl,onClose:this.close,classes:{paper:s.popoverPaper},anchorOrigin:{vertical:"bottom",horizontal:l?"right":"center"},transformOrigin:{vertical:"top",horizontal:l?"right":"center"},children:o},i)))},t.defaultProps={value:new Date,labelFunc:void 0,onlyCalendar:!1,format:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,PopoverProps:void 0,isAccepted:!1,keyboard:void 0},t}(r.PureComponent),Ge={popoverPaper:{maxWidth:310,minWidth:290,paddingBottom:8}},qe=M()(Ge)(Ke),Xe=function(e){var t=e.allowKeyboardControl,a=e.animateYearScrolling,o=e.disableFuture,i=e.disablePast,l=e.format,s=e.forwardedRef,c=e.labelFunc,u=e.leftArrowIcon,d=e.maxDate,p=e.minDate,f=(e.initialFocusedDate,e.onChange,e.openToYearSelection),m=e.renderDay,h=e.rightArrowIcon,g=e.shouldDisableDate,v=e.value,y=(e.autoOk,e.onlyCalendar),b=Object(n.c)(e,["allowKeyboardControl","animateYearScrolling","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value","autoOk","onlyCalendar"]),C=y?Fe:We;return Object(r.createElement)(ie,Object(n.a)({},e,{autoOk:!0}),function(e){var y=e.date,E=e.utils,S=e.isAccepted,w=e.handleChange,x=e.handleTextFieldChange,O=e.handleAccept;return Object(r.createElement)(qe,Object(n.a)({disableFuture:o,disablePast:i,format:l||E.dateFormat,labelFunc:c,maxDate:d,minDate:p,onChange:x,innerRef:s,value:v,isAccepted:S,handleAccept:O},b),Object(r.createElement)(C,{date:y,allowKeyboardControl:t,animateYearScrolling:a,disableFuture:o,disablePast:i,leftArrowIcon:u,maxDate:d,minDate:p,onChange:w,openToYearSelection:f,renderDay:m,rightArrowIcon:h,shouldDisableDate:g}))})};Xe.defaultProps={value:new Date,format:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0,autoOk:void 0,onlyCalendar:!1};var Je,Qe=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Xe,Object(n.a)({},e,{forwardedRef:t}))}),Ze={x:130,y:130},$e={x:Ze.x,y:0},et=$e.x-Ze.x,tt=$e.y-Ze.y,at=function(e){return 57.29577951308232*e},nt=function(e,t,a){var n=t-Ze.x,o=a-Ze.y,r=Math.atan2(et,tt)-Math.atan2(n,o),i=at(r);i=Math.round(i/e)*e,i%=360;var l=Math.floor(i/e)||0,s=Math.pow(n,2)+Math.pow(o,2);return{value:l,distance:Math.sqrt(s)}},ot=function(e,t,a){var n=nt(30,e,t),o=n.value,r=n.distance;return o=o||12,a?o%=12:r<90&&(o+=12,o%=24),o},rt=function(e,t,a){return void 0===a&&(a=6),nt(a,e,t).value},it=function(e,t,a,n){if(a){if((n.getHours(e)>=12?"pm":"am")!==t){var o="am"===t?n.getHours(e)-12:n.getHours(e)+12;return n.setHours(e,o)}}return e};!function(e){e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds"}(Je||(Je={}));var lt=Je,st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={toAnimateTransform:!1,previousType:void 0},t.getAngleStyle=function(){var e=t.props,a=e.value,n=e.isInner,o=e.type,r=o===lt.HOURS?12:60,i=360/r*a;return o===lt.HOURS&&a>12&&(i-=360),{height:n?"26%":"40%",transform:"rotateZ("+i+"deg)"}},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t,a=this.props,n=a.classes,o=a.hasSelected;return Object(r.createElement)("div",{style:this.getAngleStyle(),className:k()(n.pointer,(e={},e[n.animateTransform]=this.state.toAnimateTransform,e))},Object(r.createElement)("div",{className:k()(n.thumb,(t={},t[n.noPoint]=o,t))}))},t.getDerivedStateFromProps=function(e,t){return e.type!==t.previousType?{toAnimateTransform:!0,previousType:e.type}:{toAnimateTransform:!1,previousType:e.type}},t}(r.Component),ct=function(e){return A()({pointer:{width:2,backgroundColor:e.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},animateTransform:{transition:e.transitions.create(["transform","height"])},thumb:{width:4,height:4,backgroundColor:e.palette.common.white,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid "+e.palette.primary.main,boxSizing:"content-box"},noPoint:{backgroundColor:e.palette.primary.main}})},ut=M()(ct,{name:"MuiPickersClockPointer"})(st),dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isMoving=!1,t.handleTouchMove=function(e){t.isMoving=!0,t.setTime(e)},t.handleTouchEnd=function(e){t.isMoving&&(t.setTime(e,!0),t.isMoving=!1)},t.handleMove=function(e){e.preventDefault(),e.stopPropagation(),(void 0===e.buttons?1===e.nativeEvent.which:1===e.buttons)&&t.setTime(e.nativeEvent,!1)},t.handleMouseUp=function(e){t.isMoving&&(t.isMoving=!1),t.setTime(e.nativeEvent,!0)},t.hasSelected=function(){var e=t.props,a=e.type,n=e.value;return a===lt.HOURS||n%5==0},t}return Object(n.b)(t,e),t.prototype.setTime=function(e,t){void 0===t&&(t=!1);var a=e.offsetX,n=e.offsetY;if(void 0===a){var o=e.target.getBoundingClientRect();a=e.changedTouches[0].clientX-o.left,n=e.changedTouches[0].clientY-o.top}var r=this.props.type===lt.SECONDS||this.props.type===lt.MINUTES?rt(a,n):ot(a,n,Boolean(this.props.ampm));this.props.onChange(r,t)},t.prototype.render=function(){var e=this.props,t=e.classes,a=e.value,n=e.children,o=e.type,i=e.ampm,l=!i&&o===lt.HOURS&&(a<1||a>12);return Object(r.createElement)("div",{className:t.container},Object(r.createElement)("div",{className:t.clock},Object(r.createElement)("div",{role:"menu",tabIndex:-1,className:t.squareMask,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMove}),Object(r.createElement)("div",{className:t.pin}),Object(r.createElement)(ut,{type:o,value:a,isInner:l,hasSelected:this.hasSelected()}),n))},t.defaultProps={ampm:!1},t}(r.Component),pt=function(e){return A()({container:{display:"flex",justifyContent:"center",alignItems:"flex-end",margin:4*e.spacing.unit+"px 0 "+e.spacing.unit+"px"},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none",zIndex:1},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:"none",touchActions:"none",userSelect:"none","&:active":{cursor:"move"}},pin:{width:6,height:6,borderRadius:"50%",backgroundColor:e.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})},ft=M()(pt,{name:"MuiPickersClock"})(dt),mt={0:[0,40],1:[55,19.6],2:[94.4,59.5],3:[109,114],4:[94.4,168.5],5:[54.5,208.4],6:[0,223],7:[-54.5,208.4],8:[-94.4,168.5],9:[-109,114],10:[-94.4,59.5],11:[-54.5,19.6],12:[0,5],13:[36.9,49.9],14:[64,77],15:[74,114],16:[64,151],17:[37,178],18:[0,188],19:[-37,178],20:[-64,151],21:[-74,114],22:[-64,77],23:[-37,50]},ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getTransformStyle=function(e){var t=mt[e];return{transform:"translate("+t[0]+"px, "+t[1]+"px"}},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.selected,n=t.label,o=t.index,i=t.classes,l=t.isInner,s=k()(i.clockNumber,(e={},e[i.selected]=a,e));return Object(r.createElement)(_.a,{variant:l?"body1":"subtitle1",component:"span",className:s,style:this.getTransformStyle(o)},n)},t.defaultProps={isInner:!1},t}(r.Component),gt=function(e){var t=4*e.spacing.unit;return A()({clockNumber:{width:t,height:t,userSelect:"none",position:"absolute",left:"calc(50% - "+t/2+"px)",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"light"===e.palette.type?e.palette.text.primary:e.palette.text.hint},selected:{color:e.palette.common.white}})},vt=M()(gt,{name:"MuiPickersClockNumber"})(ht),yt=function(e){for(var t=e.ampm,a=e.utils,o=e.date,i=a.getHours(o),l=[],s=t?1:0,c=t?12:23,u=s;u<=c;u+=1){var d=u.toString();0===u&&(d="00");var p={index:u,label:a.formatNumber(d),selected:function(e){return t?12===e?12===i||0===i:i===e||i-12===e:i===e}(u),isInner:!t&&(0===u||u>12)};l.push(Object(r.createElement)(vt,Object(n.a)({key:u},p)))}return l},bt=function(e){var t=e.value,a=e.utils,n=a.formatNumber;return[Object(r.createElement)(vt,{label:n("00"),selected:0===t,index:12,key:12}),Object(r.createElement)(vt,{label:n("05"),selected:5===t,index:1,key:1}),Object(r.createElement)(vt,{label:n("10"),selected:10===t,index:2,key:2}),Object(r.createElement)(vt,{label:n("15"),selected:15===t,index:3,key:3}),Object(r.createElement)(vt,{label:n("20"),selected:20===t,index:4,key:4}),Object(r.createElement)(vt,{label:n("25"),selected:25===t,index:5,key:5}),Object(r.createElement)(vt,{label:n("30"),selected:30===t,index:6,key:6}),Object(r.createElement)(vt,{label:n("35"),selected:35===t,index:7,key:7}),Object(r.createElement)(vt,{label:n("40"),selected:40===t,index:8,key:8}),Object(r.createElement)(vt,{label:n("45"),selected:45===t,index:9,key:9}),Object(r.createElement)(vt,{label:n("50"),selected:50===t,index:10,key:10}),Object(r.createElement)(vt,{label:n("55"),selected:55===t,index:11,key:11})]},Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getViewProps=function(){var e=t.props,a=e.type,n=e.ampm,o=e.date,r=e.utils;switch(a){case lt.HOURS:return{value:r.getHours(o),children:yt({date:o,ampm:Boolean(n),utils:r}),onChange:t.handleHourChange};case lt.MINUTES:var i=r.getMinutes(o);return{value:i,children:bt({value:i,utils:r}),onChange:t.handleMinutesChange};case lt.SECONDS:var l=r.getSeconds(o);return{value:l,children:bt({value:l,utils:r}),onChange:t.handleSecondsChange};default:throw new Error("You must provide the type for TimePickerView")}},t.handleHourChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setHours(o,e);t.props.onHourChange(i,a)},t.handleMinutesChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setMinutes(o,e);t.props.onMinutesChange(i,a)},t.handleSecondsChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setSeconds(o,e);t.props.onSecondsChange(i,a)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.ampm,a=e.type,o=this.getViewProps();return Object(r.createElement)(ft,Object(n.a)({type:a,ampm:t},o))},t.defaultProps={ampm:!0},t}(r.PureComponent),Et=ne()(Ct),St=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openView:lt.HOURS,meridiemMode:t.props.utils.getHours(t.props.date)>=12?"pm":"am"},t.setMeridiemMode=function(e){return function(){t.setState({meridiemMode:e},function(){return t.handleChange({time:t.props.date,isFinish:!1,openMinutes:!1,openSeconds:!1})})}},t.handleChange=function(e){var a=e.time,n=e.isFinish,o=e.openMinutes,r=e.openSeconds,i=it(a,t.state.meridiemMode,Boolean(t.props.ampm),t.props.utils);if(n){if(!o&&!r)return void t.props.onChange(i,n);o&&t.openMinutesView(),r&&t.openSecondsView()}t.props.onChange(i,!1)},t.handleHourChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!0,openSeconds:!1})},t.handleMinutesChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!1,openSeconds:Boolean(t.props.seconds)})},t.handleSecondsChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!1,openSeconds:!1})},t.openSecondsView=function(){t.setState({openView:lt.SECONDS})},t.openMinutesView=function(){t.setState({openView:lt.MINUTES})},t.openHourView=function(){t.setState({openView:lt.HOURS})},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.classes,n=t.theme,o=t.date,i=t.utils,l=t.ampm,s=t.seconds,c=this.state,u=c.meridiemMode,d=c.openView,p="rtl"===n.direction,f=p?a.hourMinuteLabelReverse:a.hourMinuteLabel;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(ye,{className:k()(a.toolbar,(e={},e[a.toolbarLeftPadding]=l,e))},Object(r.createElement)("div",{className:f},Object(r.createElement)(Ee,{variant:"h2",onClick:this.openHourView,selected:d===lt.HOURS,label:i.getHourText(o,Boolean(l))}),Object(r.createElement)(Ee,{variant:"h2",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h2",onClick:this.openMinutesView,selected:d===lt.MINUTES,label:i.getMinuteText(o)}),s&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Ee,{variant:"h2",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h2",onClick:this.openSecondsView,selected:d===lt.SECONDS,label:i.getSecondText(o)}))),l&&Object(r.createElement)("div",{className:s?a.ampmSelectionWithSeconds:a.ampmSelection},Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"am"===u,variant:"subtitle1",label:i.getMeridiemText("am"),onClick:this.setMeridiemMode("am")}),Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"pm"===u,variant:"subtitle1",label:i.getMeridiemText("pm"),onClick:this.setMeridiemMode("pm")}))),this.props.children,Object(r.createElement)(Et,{date:o,type:this.state.openView,ampm:l,onHourChange:this.handleHourChange,onMinutesChange:this.handleMinutesChange,onSecondsChange:this.handleSecondsChange}))},t.defaultProps={children:null,ampm:!0,seconds:!1},t}(r.Component),wt=function(){return A()({toolbar:{flexDirection:"row",alignItems:"center"},toolbarLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{marginLeft:20,marginRight:-20},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelReverse:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row-reverse"}})},xt=M()(wt,{withTheme:!0,name:"MuiPickersTimePicker"})(ne()(St)),Ot=function(e){var t=e.value,a=(e.format,e.autoOk,e.onChange,e.ampm),o=e.forwardedRef,i=e.seconds,l=Object(n.c)(e,["value","format","autoOk","onChange","ampm","forwardedRef","seconds"]);return Object(r.createElement)(ie,Object(n.a)({mergePreviousDateOnChange:!0},e),function(e){var s=e.date,c=e.utils,u=e.handleAccept,d=e.handleChange,p=e.handleClear,f=e.handleDismiss,m=e.handleSetTodayDate,h=e.handleTextFieldChange,g=e.isAccepted,v=e.pick12hOr24hFormat;return Object(r.createElement)(he,Object(n.a)({ref:o,value:t,onClear:p,onAccept:u,onChange:h,onDismiss:f,onSetToday:m,isAccepted:g,format:v(c.time12hFormat,c.time24hFormat)},l),Object(r.createElement)(xt,{date:s,onChange:d,ampm:a,seconds:i}))})};Ot.defaultProps={value:new Date,format:void 0,autoOk:!1,ampm:!0,forwardedRef:void 0,seconds:!1};var kt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Ot,Object(n.a)({},e,{forwardedRef:t}))}),Dt=function(e){var t=e.value,a=(e.format,e.onChange,e.ampm),o=e.forwardedRef,i=e.seconds,l=Object(n.c)(e,["value","format","onChange","ampm","forwardedRef","seconds"]);return Object(r.createElement)(ie,Object(n.a)({mergePreviousDateOnChange:!0,autoOk:!0},e),function(e){var s=e.date,c=e.utils,u=e.handleChange,d=e.handleTextFieldChange,p=e.isAccepted,f=e.pick12hOr24hFormat,m=e.handleAccept;return Object(r.createElement)(qe,Object(n.a)({innerRef:o,value:t,onChange:d,isAccepted:p,handleAccept:m,format:f(c.time12hFormat,c.time24hFormat)},l),Object(r.createElement)(xt,{date:s,onChange:u,ampm:a,seconds:i}))})};Dt.defaultProps={ampm:!0,value:new Date,format:void 0,forwardedRef:void 0,seconds:!1};var It,Tt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Dt,Object(n.a)({},e,{forwardedRef:t}))});!function(e){e.YEAR="year",e.DATE="date",e.HOUR="hours",e.MINUTES="minutes"}(It||(It={}));var Nt=It,Pt=function(e){return A()({toolbar:{flexDirection:"row",alignItems:"center",paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{top:9,position:"relative",marginLeft:10,marginRight:-10},ampmLabel:{fontSize:18},hourMinuteLabel:{top:5,position:"relative",display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"rtl"===e.direction?"row-reverse":"row"},dateHeader:{height:60},timeHeader:{height:65,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}})},At=function(e){var t=e.date,a=e.classes,n=e.openView,o=e.meridiemMode,i=e.onOpenViewChange,l=e.setMeridiemMode,s=e.utils,c=e.ampm;return Object(r.createElement)(ye,{className:a.toolbar},Object(r.createElement)("div",{className:a.dateHeader},Object(r.createElement)(Ee,{variant:"subtitle1",onClick:function(){return i(Nt.YEAR)},selected:n===Nt.YEAR,label:s.getYearText(t)}),Object(r.createElement)(Ee,{variant:"h4",onClick:function(){return i(Nt.DATE)},selected:n===Nt.DATE,label:s.getDateTimePickerHeaderText(t)})),Object(r.createElement)("div",{className:a.timeHeader},Object(r.createElement)("div",{className:a.hourMinuteLabel},Object(r.createElement)(Ee,{variant:"h3",onClick:function(){return i(Nt.HOUR)},selected:n===Nt.HOUR,label:s.getHourText(t,c)}),Object(r.createElement)(Ee,{variant:"h3",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h3",onClick:function(){return i(Nt.MINUTES)},selected:n===Nt.MINUTES,label:s.getMinuteText(t)})),c&&Object(r.createElement)("div",{className:a.ampmSelection},Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"am"===o,variant:"subtitle1",label:s.getMeridiemText("am"),onClick:l("am")}),Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"pm"===o,variant:"subtitle1",label:s.getMeridiemText("pm"),onClick:l("pm")}))))};At.defaultProps={ampm:!0};var jt=M()(Pt,{name:"MuiPickerDTHeader"})(ne()(At)),Mt=function(e){return e===Nt.DATE||e===Nt.YEAR?"date":"time"},Ft=function(e){return"date"===e?Nt.DATE:Nt.HOUR},Rt=function(e){var t=e.view,a=e.onChange,n=e.classes,o=e.theme,i=e.dateRangeIcon,l=e.timeIcon,s="light"===o.palette.type?"secondary":"primary",u=function(e,n){n!==Mt(t)&&a(Ft(n))};return Object(r.createElement)(z.a,null,Object(r.createElement)(J.a,{fullWidth:!0,value:Mt(t),onChange:u,className:n.tabs,indicatorColor:s},Object(r.createElement)(q.a,{value:"date",icon:Object(r.createElement)(c.a,null,i)}),Object(r.createElement)(q.a,{value:"time",icon:Object(r.createElement)(c.a,null,l)})))},Bt=function(e){return{tabs:{color:e.palette.common.white,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default}}},_t=K()()(M()(Bt,{name:"MuiPickerDTTabs"})(Rt)),Lt=function(e){var t=e.selected,a=e.children;return t?Object(r.createElement)("div",{children:a}):null},Ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openView:t.props.openTo,meridiemMode:t.props.utils.getHours(t.props.date)>=12?"pm":"am"},t.onChange=function(e,a,n){void 0===a&&(a=!0),t.handleChange(e),a&&t.props.autoSubmit&&t.handleViewChange(n)},t.setMeridiemMode=function(e){return function(){t.setState({meridiemMode:e},function(){return t.handleChange(t.props.date,!1)})}},t.handleViewChange=function(e){t.setState({openView:e})},t.handleChange=function(e,a){void 0===a&&(a=!1);var n=it(e,t.state.meridiemMode,Boolean(t.props.ampm),t.props.utils);t.props.onChange(n,a)},t.handleYearChange=function(e){t.onChange(e,!1,Nt.DATE)},t.handleDayChange=function(e,a){t.onChange(e,a,Nt.HOUR)},t.handleHourChange=function(e,a){t.onChange(e,a,Nt.MINUTES)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.state,t=e.openView,a=e.meridiemMode,o=this.props,i=o.date,l=o.minDate,s=o.maxDate,c=o.showTabs,u=o.disablePast,d=o.disableFuture,p=o.leftArrowIcon,f=o.rightArrowIcon,m=o.dateRangeIcon,h=o.timeIcon,g=o.renderDay,v=o.ampm,y=o.shouldDisableDate,b=o.animateYearScrolling,C=o.allowKeyboardControl,E=o.ViewContainerComponent,S=E,w="string"==typeof E?{}:{openView:t,onChange:this.onChange};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(jt,{date:i,openView:t,meridiemMode:a,setMeridiemMode:this.setMeridiemMode,onOpenViewChange:this.handleViewChange,ampm:v}),c&&Object(r.createElement)(_t,{view:t,onChange:this.handleViewChange,dateRangeIcon:m,timeIcon:h}),Object(r.createElement)(S,Object(n.a)({},w),Object(r.createElement)(Lt,{selected:t===Nt.YEAR},Object(r.createElement)(Ve,{date:i,minDate:l,maxDate:s,onChange:this.handleYearChange,disablePast:u,disableFuture:d,animateYearScrolling:b})),Object(r.createElement)(Lt,{selected:t===Nt.DATE},Object(r.createElement)(Fe,{allowKeyboardControl:C,date:i,minDate:l,maxDate:s,onChange:this.handleDayChange,disablePast:u,disableFuture:d,leftArrowIcon:p,rightArrowIcon:f,renderDay:g,shouldDisableDate:y})),Object(r.createElement)(Lt,{selected:t===Nt.HOUR||t===Nt.MINUTES},Object(r.createElement)(Et,{date:i,type:t,onHourChange:this.handleHourChange,onMinutesChange:this.handleChange,onSecondsChange:this.handleChange,ampm:v}))))},t.defaultProps={allowKeyboardControl:!1,ampm:!0,animateYearScrolling:!1,autoSubmit:!0,dateRangeIcon:void 0,disableFuture:!1,disablePast:!1,leftArrowIcon:void 0,renderDay:void 0,rightArrowIcon:void 0,shouldDisableDate:void 0,showTabs:!0,timeIcon:void 0,ViewContainerComponent:"div"},t}(r.Component),Vt=ne()(Ht),Ut=function(e){var t=e.value,a=(e.format,e.autoOk,e.openTo),o=e.minDate,i=e.maxDate,l=(e.initialFocusedDate,e.showTabs),s=e.autoSubmit,c=e.disablePast,u=e.disableFuture,d=e.leftArrowIcon,p=e.rightArrowIcon,f=e.dateRangeIcon,m=e.timeIcon,h=e.renderDay,g=e.ampm,v=e.shouldDisableDate,y=e.animateYearScrolling,b=e.forwardedRef,C=e.allowKeyboardControl,E=Object(n.c)(e,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]),S=l&&"undefined"!=typeof window&&window.innerHeight>667;return Object(r.createElement)(ie,Object(n.a)({},e),function(e){var l=e.date,w=e.utils,x=e.handleAccept,O=e.handleChange,k=e.handleClear,D=e.handleDismiss,I=e.handleSetTodayDate,T=e.handleTextFieldChange,N=e.isAccepted,P=e.pick12hOr24hFormat;return Object(r.createElement)(he,Object(n.a)({showTabs:S,ref:b,disableFuture:u,disablePast:c,maxDate:i,minDate:o,onAccept:x,onChange:T,onClear:k,onDismiss:D,onSetToday:I,value:t,isAccepted:N,format:P(w.dateTime12hFormat,w.dateTime24hFormat)},E),Object(r.createElement)(Vt,{allowKeyboardControl:C,ampm:g,animateYearScrolling:y,autoSubmit:s,date:l,dateRangeIcon:f,disableFuture:u,disablePast:c,leftArrowIcon:d,maxDate:i,minDate:o,onChange:O,openTo:a,renderDay:h,rightArrowIcon:p,shouldDisableDate:v,showTabs:S,timeIcon:m}))})};Ut.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};var Wt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Ut,Object(n.a)({},e,{forwardedRef:t}))}),zt=function(e){var t=e.value,a=(e.format,e.autoOk,e.openTo),o=e.minDate,i=e.maxDate,l=(e.initialFocusedDate,e.showTabs),s=e.autoSubmit,c=e.disablePast,u=e.disableFuture,d=e.leftArrowIcon,p=e.rightArrowIcon,f=e.dateRangeIcon,m=e.timeIcon,h=e.renderDay,g=e.ampm,v=e.shouldDisableDate,y=e.animateYearScrolling,b=e.forwardedRef,C=e.allowKeyboardControl,E=Object(n.c)(e,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]);return Object(r.createElement)(ie,Object(n.a)({},e,{autoOk:!0}),function(e){var S=e.date,w=e.utils,x=e.handleChange,O=e.handleTextFieldChange,k=e.isAccepted,D=e.pick12hOr24hFormat,I=e.handleAccept;return Object(r.createElement)(qe,Object(n.a)({innerRef:b,disableFuture:u,disablePast:c,maxDate:i,minDate:o,onChange:O,value:t,isAccepted:k,handleAccept:I,format:D(w.dateTime12hFormat,w.dateTime24hFormat)},E),Object(r.createElement)(Vt,{allowKeyboardControl:C,ampm:g,animateYearScrolling:y,autoSubmit:s,date:S,dateRangeIcon:f,disableFuture:u,disablePast:c,leftArrowIcon:d,maxDate:i,minDate:o,onChange:x,openTo:a,renderDay:h,rightArrowIcon:p,shouldDisableDate:v,showTabs:l,timeIcon:m}))})};zt.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};var Yt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(zt,Object(n.a)({},e,{forwardedRef:t}))})},6078:function(e,t,a){"use strict";function n(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var o=a(3);t.__esModule=!0,t.default=n;var r=o(a(6097));e.exports=t.default},6079:function(e,t,a){"use strict";function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}},6080:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?f(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var m=n(a(4)),h=n(a(0)),g=a(6099),v={thousandSeparator:m.default.oneOfType([m.default.string,m.default.oneOf([!0])]),decimalSeparator:m.default.string,thousandsGroupStyle:m.default.oneOf(["thousand","lakh","wan"]),decimalScale:m.default.number,fixedDecimalScale:m.default.bool,displayType:m.default.oneOf(["input","text"]),prefix:m.default.string,suffix:m.default.string,format:m.default.oneOfType([m.default.string,m.default.func]),removeFormatting:m.default.func,mask:m.default.oneOfType([m.default.string,m.default.arrayOf(m.default.string)]),value:m.default.oneOfType([m.default.number,m.default.string]),defaultValue:m.default.oneOfType([m.default.number,m.default.string]),isNumericString:m.default.bool,customInput:m.default.func,allowNegative:m.default.bool,allowEmptyFormatting:m.default.bool,onValueChange:m.default.func,onKeyDown:m.default.func,onMouseUp:m.default.func,onChange:m.default.func,onFocus:m.default.func,onBlur:m.default.func,type:m.default.oneOf(["text","tel","password"]),isAllowed:m.default.func,renderText:m.default.func,getInputRef:m.default.func},y={displayType:"input",decimalSeparator:".",thousandsGroupStyle:"thousand",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,allowEmptyFormatting:!1,isNumericString:!1,type:"text",onValueChange:g.noop,onChange:g.noop,onKeyDown:g.noop,onMouseUp:g.noop,onFocus:g.noop,onBlur:g.noop,isAllowed:g.returnTrue,getInputRef:g.noop},b=function(e){function t(e){var a;i(this,t),a=c(this,u(t).call(this,e));var n=e.defaultValue;a.validateProps();var o=a.formatValueProp(n);return a.state={value:o,numAsString:a.removeFormatting(o)},a.selectionBeforeInput={selectionStart:0,selectionEnd:0},a.onChange=a.onChange.bind(f(f(a))),a.onKeyDown=a.onKeyDown.bind(f(f(a))),a.onMouseUp=a.onMouseUp.bind(f(f(a))),a.onFocus=a.onFocus.bind(f(f(a))),a.onBlur=a.onBlur.bind(f(f(a))),a}return d(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,a=this.state,n=this.focusedElm,o=a.value,r=a.numAsString,i=void 0===r?"":r;if(e!==t){this.validateProps();var l=this.formatNumString(i),s=void 0===t.value?l:this.formatValueProp(),c=this.removeFormatting(s),u=parseFloat(c),d=parseFloat(i);(isNaN(u)&&isNaN(d)||u===d)&&l===o&&(null!==n||s===o)||this.updateValue({formattedValue:s,numAsString:c,input:n})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.decimalScale,a=this.getSeparators(),n=a.decimalSeparator,o=this.getNumberRegex(!0),r="-"===e[0];r&&(e=e.replace("-","")),n&&0===t&&(e=e.split(n)[0]),e=(e.match(o)||[]).join("").replace(n,".");var i=e.indexOf(".");return-1!==i&&(e="".concat(e.substring(0,i),".").concat(e.substring(i+1,e.length).replace(new RegExp((0,g.escapeRegExp)(n),"g"),""))),r&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var a=this.props,n=a.format,o=a.decimalScale,r=this.getSeparators(),i=r.decimalSeparator;return new RegExp("\\d"+(!i||0===o||t||n?"":"|"+(0,g.escapeRegExp)(i)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props.decimalSeparator,t=this.props.thousandSeparator;return!0===t&&(t=","),{decimalSeparator:e,thousandSeparator:t}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,a=void 0===t?" ":t;return"string"==typeof a?a:a[e]||" "}},{key:"getValueObject",value:function(e,t){var a=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(a)?void 0:a}}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),a=t.decimalSeparator,n=t.thousandSeparator;if(a===n)throw new Error("\n          Decimal separator can't be same as thousand separator.\n          thousandSeparator: ".concat(n,' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: ').concat(a," (default value for decimalSeparator is .)\n       "));if(e){if(("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask ".concat(e," should not contain numeric character;\n        "))}}},{key:"setPatchedCaretPosition",value:function(e,t,a){(0,g.setCaretPosition)(e,t),setTimeout(function(){e.value===a&&(0,g.setCaretPosition)(e,t)},0)}},{key:"correctCaretPosition",value:function(e,t,a){var n=this.props,o=n.prefix,r=n.suffix,i=n.format;if(""===e)return 0;if(t=(0,g.clamp)(t,0,e.length),!i){var l="-"===e[0];return(0,g.clamp)(t,o.length+(l?1:0),e.length-r.length)}if("function"==typeof i)return t;if("#"===i[t]&&(0,g.charIsNumber)(e[t]))return t;if("#"===i[t-1]&&(0,g.charIsNumber)(e[t-1]))return t;var s=i.indexOf("#"),c=i.lastIndexOf("#");t=(0,g.clamp)(t,s,c+1);for(var u=i.substring(t,i.length).indexOf("#"),d=t,p=t+(-1===u?0:u);d>s&&("#"!==i[d]||!(0,g.charIsNumber)(e[d]));)d-=1;return!(0,g.charIsNumber)(e[p])||"left"===a&&t!==s||t-d<p-t?(0,g.charIsNumber)(e[d])?d+1:d:p}},{key:"getCaretPosition",value:function(e,t,a){var n,o,r=this.props.format,i=this.state.value,l=this.getNumberRegex(!0),s=(e.match(l)||[]).join(""),c=(t.match(l)||[]).join("");for(n=0,o=0;o<a;o++){var u=e[o]||"",d=t[n]||"";if((u.match(l)||u===d)&&("0"!==u||!d.match(l)||"0"===d||s.length===c.length)){for(;u!==t[n]&&n<t.length;)n++;n++}}return"string"!=typeof r||i||(n=t.length),n=this.correctCaretPosition(t,n)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,a=t.format,n=t.prefix,o=t.suffix;if(!a&&e){var r="-"===e[0];r&&(e=e.substring(1,e.length)),e=n&&0===e.indexOf(n)?e.substring(n.length,e.length):e;var i=e.lastIndexOf(o);e=o&&-1!==i&&i===e.length-o.length?e.substring(0,i):e,r&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format,a=t.split("#").filter(function(e){return""!==e}),n=0,o="",r=0,i=a.length;r<=i;r++){var l=a[r]||"",s=r===i?e.length:e.indexOf(l,n);if(-1===s){o=e;break}o+=e.substring(n,s),n=s+l.length}return(o.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,a=t.format,n=t.removeFormatting;return e?(a?e="string"==typeof a?this.removePatternFormatting(e):"function"==typeof n?n(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,a=0,n=t.split(""),o=0,r=t.length;o<r;o++)"#"===t[o]&&(n[o]=e[a]||this.getMaskAtIndex(a),a+=1);return n.join("")}},{key:"formatAsNumber",value:function(e){var t=this.props,a=t.decimalScale,n=t.fixedDecimalScale,o=t.prefix,r=t.suffix,i=t.allowNegative,l=t.thousandsGroupStyle,s=this.getSeparators(),c=s.thousandSeparator,u=s.decimalSeparator,d=-1!==e.indexOf(".")||a&&n,p=(0,g.splitDecimal)(e,i),f=p.beforeDecimal,m=p.afterDecimal,h=p.addNegation;if(void 0!==a&&(m=(0,g.limitToScale)(m,a,n)),c){var v=(0,g.getThousandsGroupRegex)(l);f=f.replace(v,"$1"+c)}return o&&(f=o+f),r&&(m+=r),h&&(f="-"+f),e=f+(d&&u||"")+m}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props,a=t.format,n=t.allowEmptyFormatting,o=e;return""!==e||n?"-"!==e||a?o="string"==typeof a?this.formatWithPattern(o):"function"==typeof a?a(o):this.formatAsNumber(o):(o="-",e=""):o="",o}},{key:"formatValueProp",value:function(e){var t=this.props,a=t.format,n=t.decimalScale,o=t.fixedDecimalScale,r=t.allowEmptyFormatting,i=this.props,l=i.value,s=void 0===l?e:l,c=i.isNumericString,u=!s&&0!==s;return u&&r&&(s=""),u&&!r?"":("number"==typeof s&&(s=s.toString(),c=!0),c&&!a&&"number"==typeof n&&(s=(0,g.roundToPrecision)(s,n,o)),c?this.formatNumString(s):this.formatInput(s))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,a=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),o=a.test(e),r=n.test(e);return e=e.replace(/-/g,""),o&&!r&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.removePrefixAndSuffix(e),e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var a=this.props,n=a.format,o=a.prefix,r=a.suffix,i=a.decimalScale,l=a.fixedDecimalScale,s=this.getSeparators(),c=s.decimalSeparator;return"string"==typeof n&&"#"!==n[e]||!(n||!(e<o.length||e>=t.length-r.length||i&&l&&t[e]===c))}},{key:"checkIfFormatGotDeleted",value:function(e,t,a){for(var n=e;n<t;n++)if(this.isCharacterAFormat(n,a))return!0;return!1}},{key:"correctInputValue",value:function(e,t,a){var n=this.props,o=n.format,r=n.allowNegative,i=n.prefix,l=n.suffix,s=this.getSeparators(),c=s.decimalSeparator,u=this.state.numAsString||"",d=this.selectionBeforeInput,p=d.selectionStart,f=d.selectionEnd,m=(0,g.findChangedIndex)(t,a),h=m.start,v=m.end;if(!o&&"."!==c&&h===v&&"."===a[p])return a.substr(0,p)+c+a.substr(p+1,a.length);var y=o?0:i.length,b=t.length-(o?0:l.length);if(a.length>t.length||!a.length||h===v||0===p&&f===t.length||p===y&&f===b)return a;if(this.checkIfFormatGotDeleted(h,v,t)&&(a=t),!o){var C=this.removeFormatting(a),E=(0,g.splitDecimal)(C,r),S=E.beforeDecimal,w=E.afterDecimal,x=E.addNegation,O=e<a.indexOf(c)+1;if(C.length<u.length&&O&&""===S&&!parseFloat(w))return x?"-":""}return a}},{key:"updateValue",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.noop,n=e.formattedValue,o=e.input,r=e.numAsString,i=e.caretPos,l=this.props.onValueChange,s=this.state.value;if(o){if(!i){var c=e.inputValue||o.value,u=(0,g.getCurrentCaretPosition)(o);i=this.getCaretPosition(c,n,u)}o.value=n,this.setPatchedCaretPosition(o,i,n)}void 0===r&&(r=this.removeFormatting(n)),n!==s?this.setState({value:n,numAsString:r},function(){l(t.getValueObject(n,r)),a()}):a()}},{key:"onChange",value:function(e){e.persist();var t=e.target,a=t.value,n=this.state,o=this.props,r=o.isAllowed,i=n.value||"",l=(0,g.getCurrentCaretPosition)(t);a=this.correctInputValue(l,i,a);var s=this.formatInput(a)||"",c=this.removeFormatting(s);r(this.getValueObject(s,c))||(s=i),this.updateValue({formattedValue:s,numAsString:c,inputValue:a,input:t},function(){o.onChange(e)})}},{key:"onBlur",value:function(e){var t=this.props,a=this.state,n=t.format,o=t.onBlur,r=a.numAsString,i=a.value;if(this.focusedElm=null,!n){r=(0,g.fixLeadingZero)(r);var l=this.formatNumString(r);if(l!==i)return e.persist(),void this.updateValue({formattedValue:l,numAsString:r},function(){o(e)})}o(e)}},{key:"onKeyDown",value:function(e){var t,a=e.target,n=e.key,o=a.selectionStart,r=a.selectionEnd,i=a.value,l=void 0===i?"":i,s=this.props,c=s.decimalScale,u=s.fixedDecimalScale,d=s.prefix,p=s.suffix,f=s.format,m=s.onKeyDown,h=(s.onValueChange,void 0!==c&&u),g=this.getNumberRegex(!1,h),v=new RegExp("-"),y="string"==typeof f;if(this.selectionBeforeInput={selectionStart:o,selectionEnd:r},"ArrowLeft"===n||"Backspace"===n?t=o-1:"ArrowRight"===n?t=o+1:"Delete"===n&&(t=o),void 0===t||o!==r)return void m(e);var b=t,C=y?f.indexOf("#"):d.length,E=y?f.lastIndexOf("#")+1:l.length-p.length;if("ArrowLeft"===n||"ArrowRight"===n){var S="ArrowLeft"===n?"left":"right";b=this.correctCaretPosition(l,t,S)}else if("Delete"!==n||g.test(l[t])||v.test(l[t])){if("Backspace"===n&&!g.test(l[t]))if(o<=C+1&&"-"===l[0]&&void 0===f){var w=l.substring(1);e.persist(),this.updateValue({formattedValue:w,caretPos:b,input:a})}else if(!v.test(l[t])){for(;!g.test(l[b-1])&&b>C;)b--;b=this.correctCaretPosition(l,b,"left")}}else for(;!g.test(l[b])&&b<E;)b++;(b!==t||t<C||t>E)&&(e.preventDefault(),this.setPatchedCaretPosition(a,b,l)),e.isUnitTestRun&&this.setPatchedCaretPosition(a,b,l),this.props.onKeyDown(e)}},{key:"onMouseUp",value:function(e){var t=e.target,a=t.selectionStart,n=t.selectionEnd,o=t.value,r=void 0===o?"":o;if(a===n){var i=this.correctCaretPosition(r,a);i!==a&&this.setPatchedCaretPosition(t,i,r)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),this.focusedElm=e.target,setTimeout(function(){var a=e.target,n=a.selectionStart,o=a.selectionEnd,r=a.value,i=void 0===r?"":r,l=t.correctCaretPosition(i,n);l===n||0===n&&o===i.length||t.setPatchedCaretPosition(a,l,i),t.props.onFocus(e)},0)}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.displayType,n=e.customInput,o=e.renderText,i=e.getInputRef,l=this.state.value,s=(0,g.omit)(this.props,v),c=r({},s,{type:t,value:l,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===a)return o?o(l)||null:h.default.createElement("span",r({},s,{ref:i}),l);if(n){var u=n;return h.default.createElement(u,c)}return h.default.createElement("input",r({},c,{ref:i}))}}]),t}(h.default.Component);b.propTypes=v,b.defaultProps=y;var C=b;t.default=C,e.exports=t.default},6081:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(8),p=n(d),f=a(33),m=n(f),h=a(21),g=n(h),v=a(327),y=n(v),b=a(29),C=n(b),E=a(116),S=n(E),w=a(170),x=n(w),O=a(6082),k=n(O),D=a(40),I=n(D),T=a(41),N=n(T),P=a(4),A=n(P),j=a(168),M=n(j),F=a(35),R=n(F),B=a(68),_=n(B),L=a(339),H=n(L),V=function(e){return{dueDetailsRoot:{borderRadius:"0",background:"transparent"},postCallDueDetailsRoot:{borderRadius:"0",height:"60vh",overflowY:"auto"},menuItemRoot:{color:e.palette.primary.main,fontSize:".9rem",padding:"1.5vh 1.09vw"},menuPaper:{backgroundColor:e.palette.solidBackground.main,overflowY:"auto",border:"2px solid white"},checkedIcon:{color:e.palette.secondary.main,width:"calc(1.2vh + 1.2vw)",height:"calc(1.2vh + 1.2vw)"},selectFilter:{minWidth:120,color:e.palette.primary.main,fontSize:".9rem !important",marginLeft:"1.718vw"},emailIcon:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)"},enabledEmailIcon:{cursor:"pointer"},disabledEmailIcon:{opacity:".5"},blackText:{color:e.palette.primary.main,fontSize:".9rem"},selectMenu:{fontSize:".9rem !important",color:e.palette.primary.main,borderBottom:"1px solid rgba(255,255,255,.2)"},clearSelections:{marginLeft:".5rem",opacity:.65,fontSize:"0.888rem",color:e.palette.primary.main},clearSelectionsParent:{display:"flex",alignItems:"center",color:e.palette.primary.main,fontSize:"1rem",cursor:"pointer",paddingRight:".45rem"},selectIcon:{color:e.palette.secondary.main,opacity:.6},selectLinePostCall:{boxShadow:"none",borderBottom:".7px solid #596A75 !important",padding:".7vh 0"},selectLineInCall:{boxShadow:"none",marginTop:"2.037vh"},invoiceBucketCheckbox:{width:"3.125vw"},checkBoxRoot:{padding:"0"},clearSelectionGrid:{justifyContent:"flex-end"}}},U={invoices:[],filterInvoices:function(){},bucketNames:[]},W=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));z.call(a),a.totalRows=0;for(var n={},i=0;i<e.invoices.length;i++){a.totalRows=a.totalRows+e.invoices[i].length;for(var l=0;l<e.invoices[i].length;l++)e.correctInvoicesMap&&e.invoices[i][l].id in e.correctInvoicesMap?n[e.invoices[i][l].id]=!0:n[e.invoices[i][l].id]=!1}return 1==a.props.postCall&&a.props.setSelectedInvoices(n),a.state={invoices:e.invoices,invoiceType:"All",selectedInvoices:n,allInvoices:e.invoices,globalCheck:!1,isBulkEmail:!0,collector:a.props.collector,customer:a.props.customer,snackBarOpen:!1,snackBarMessage:""},a.props.filterInvoices("All"),a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({invoices:e.invoices,allInvoices:e.invoices},function(){t.setCheck(e.invoices,t.state.selectedInvoices)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=this.props.bucketNames;return c.default.createElement(m.default,{className:this.props.postCall?a.postCallDueDetailsRoot:a.dueDetailsRoot,elevation:0},c.default.createElement(C.default,{container:!0,alignItems:"center",className:this.props.postCall?a.selectLinePostCall:a.selectLineInCall},c.default.createElement(C.default,{item:!0,className:a.invoiceBucketCheckbox,align:"center"},c.default.createElement(y.default,{classes:{root:a.checkBoxRoot},icon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.globalCheck,onClick:this.handleChange})),c.default.createElement(C.default,{item:!0,xs:1},c.default.createElement("span",{className:a.blackText},"Select All")),c.default.createElement(C.default,{item:!0,xs:1,align:"right"},c.default.createElement(g.default,{style:{color:n.palette.primary.main,opacity:.5}},"View  :")),c.default.createElement(C.default,{item:!0,xs:4},c.default.createElement(S.default,{className:(0,p.default)(a.selectFilter),value:this.state.invoiceType,onChange:this.handleFilterChange,classes:{icon:a.selectIcon,selectMenu:a.selectMenu},MenuProps:{classes:{paper:a.menuPaper}},inputProps:{name:"invoiceType",disableUnderline:!0}},c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"All"},"All"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Broken P2P"},"Broken P2P"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Upcoming P2P"},"Upcoming P2P"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Dispute"},"Dispute"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Predicted Delinquent"},"Predicted Delinquent"))),this.props.postCall&&c.default.createElement(C.default,{item:!0,xs:5,align:"right",className:(0,p.default)(a.clearSelectionGrid,a.centerFlexBox)},c.default.createElement("div",{onClick:this.clearSelections,className:a.clearSelectionsParent},c.default.createElement(H.default,{style:{fontSize:"1.1rem",opacity:.65}})," ",c.default.createElement("span",{className:a.clearSelections},"Clear Selections ",this.selectedInvoicesLength()))),!this.props.postCall&&c.default.createElement(C.default,{item:!0,xs:5,align:"right",style:{paddingRight:"0vw"}},this.props.emailOfCalled&&!this.state.isBulkEmail&&c.default.createElement("img",{className:(0,p.default)(a.emailIcon,a.enabledEmailIcon),onClick:this.sendBulkEmail,src:"/tovo/static/Email.svg"}),this.props.emailOfCalled&&!this.state.isBulkEmail&&c.default.createElement("img",{className:(0,p.default)(a.emailIcon,a.disabledEmailIcon),src:"/tovo/static/Email.svg"}))),this.state.invoices.map(function(t,a){return c.default.createElement(k.default,{emailOfCalled:e.props.emailOfCalled,postCall:e.props.postCall,collector:e.props.collector,customer:e.props.customer,selectedInvoices:e.state.selectedInvoices,invoices:t,individual:!1,days:o[a],invoiceType:e.state.invoiceType,updateGlobalMap:e.updateGlobalMap})}),c.default.createElement(M.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:c.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[c.default.createElement(R.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},c.default.createElement(_.default,null))]}))}}]),t}(c.default.Component),z=function(){var e=this;this.setCheck=function(t,a){for(var n=!1,o=t,r=!1,i=0,l=0;l<o.length;l++){i+=o[l].length;for(var s=0;s<o[l].length;s++)if(0==e.state.selectedInvoices[o[l][s].id]){r=!0;break}}for(var l=0;l<o.length;l++)for(var s=0;s<o[l].length;s++)if(1==e.state.selectedInvoices[o[l][s].id]){n=!0,e.setState({isBulkEmail:!1});break}n||e.setState({isBulkEmail:!0}),0==i&&(r=!0),1==r?e.setState({globalCheck:!1}):e.setState({globalCheck:!0})},this.updateGlobalMap=function(t,a,n){var o;switch(a){case"add":o=e.state.selectedInvoices,o[t]=!0,e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"remove":o=e.state.selectedInvoices,o[t]=!1,e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"addArray":if(1==n){o=e.state.selectedInvoices;for(var r=0;r<t.length;r++)o[t[r].id]=!0;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break}o=e.state.selectedInvoices;for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)o[t[i][r].id]=!0;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"removeArray":if(1==n){o=e.state.selectedInvoices;for(var r=0;r<t.length;r++)o[t[r].id]=!1;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break}o=e.state.selectedInvoices;for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)o[t[i][r].id]=!1;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o)}1==e.props.postCall&&e.props.setSelectedInvoices(o)},this.handleChange=function(){1==e.state.globalCheck?e.updateGlobalMap(e.state.invoices,"removeArray",!1):e.updateGlobalMap(e.state.invoices,"addArray",!1)},this.clearSelections=function(){e.updateGlobalMap(e.state.invoices,"removeArray",!1)},this.findType=function(e){return e.p2pDelinquent?"Predicted Delinqment":e.p2pUpcoming?"Upcoming P2P":e.p2pBroken?"Broken P2P":"Dispute"},this.handleFilterChange=function(t){e.setState({invoiceType:t.target.value}),e.props.filterInvoices(t.target.value)},this.preventDefault=function(e){e.preventDefault()},this.openSnackBarWithMessage=function(t){e.setState({snackBarMessage:t}),e.setState({snackBarOpen:!0})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.sendBulkEmail=function(){for(var t=e.state.invoices,a=[],n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)1==e.state.selectedInvoices[t[n][o].id]&&a.push(t[n][o].id);var r={customerId:e.state.customer.id,documentIds:a,from:e.state.collector.emailId,to:e.props.emailOfCalled};N.default.post(I.default.apiUrl+"/correspondence/invoicecopy",r).then(function(t){e.openSnackBarWithMessage("Email sent")}).catch(function(t){e.openSnackBarWithMessage("Error in sending email")})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0;for(var n in t)1==t[n]&&a++;if(0!=a)return"("+a+")"}};W.propTypes={classes:A.default.object.isRequired,invoices:A.default.array,filterInvoices:A.default.func},W.defaultProps=U,t.default=(0,u.withStyles)(V,{withTheme:!0})(W)},6082:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(176),f=n(p),m=a(177),h=n(m),g=a(334),v=n(g),y=a(8),b=n(y),C=a(55),E=a(21),S=n(E),w=a(340),x=n(w),O=a(327),k=n(O),D=a(29),I=n(D),T=a(68),N=n(T),P=a(355),A=n(P),j=a(116),M=n(j),F=a(170),R=n(F),B=a(40),_=n(B),L=a(41),H=n(L),V=a(4),U=n(V),W=a(168),z=n(W),Y=a(35),K=n(Y),G=a(166),q=a(31),X=n(q),J=a(32),Q=n(J),Z=a(328),$=n(Z),ee=a(329),te=n(ee),ae=function(e){var t;return t={root:{padding:"0"},menuItemRoot:{color:e.palette.primary.main,fontSize:".9rem",padding:"1.5vh 1.09vw"},menuPaper:{backgroundColor:e.palette.solidBackground.main,overflowY:"auto"},postCallRoot:{padding:"0",marginTop:".8vh"},icon:{color:e.palette.primary.main,width:"1.25vw",height:"2.22vh",opacity:".6"},checkedIcon:{color:e.palette.secondary.main,zIndex:"3",height:"calc(1.2vh + 1.2vw)",width:"calc(1.2vh + 1.2vw)"},selectFilter:{minWidth:120,marginLeft:"1.718vw"},gridList:{width:"100%",height:"100%",margin:"0 -2px -2px -2px !important",overflow:"hidden"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{backgroundColor:"#39586F"},shift:{margin:"1rem 1rem 0 1rem"},blackText:{color:e.palette.primary.main,fontSize:".95rem",textAlign:"center"},greyText:{opacity:".65"},bucketHeaderText:{color:e.palette.primary.main,fontSize:".9rem"},changeRowBackground:{backgroundColor:"#586973"},defaultBackground:{borderBottom:".7px solid #395C73 !important",height:"5.65vh"},invoiceHeaderText:{fontSize:".9rem",color:e.palette.primary.main,opacity:".5"},panelSummary:{padding:"0",margin:"0"},content:{margin:"0 !important"},expandIcon:{color:e.palette.secondary.main},individualInvoiceHeader:{boxShadow:"none",padding:"2.037vh 1rem 0 1rem"},iconSize:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)"},enabledEmailIcon:{cursor:"pointer"},disabledEmailIcon:{opacity:".5"},summaryExpanded:{minHeight:"5.55vh !important"},disableTimeline:{marginTop:"2.2rem",marginLeft:".2rem"},timeline:{borderLeft:"1px solid #596A75"}},l(t,"disableTimeline",{}),l(t,"postCallTimeline",{borderLeft:"1px solid #395C73"}),l(t,"selectIcon",{color:e.palette.primary.main,opacity:.6}),l(t,"summaryContent",{boxShadow:"none",paddingRight:"0 !important"}),l(t,"invoiceNumberColumn",{width:"14%"}),l(t,"amountColumn",{width:"12%"}),l(t,"brokenColumn",{width:"13.5%"}),l(t,"upcomingColumn",{width:"14%"}),l(t,"disputeColumn",{width:"13%"}),l(t,"predictedColumn",{width:"18%"}),l(t,"checkBoxColumn",{textAlign:"center",minWidth:"3.125vw"}),l(t,"borderBottom",{borderBottom:".7px solid #395C73 !important"}),l(t,"emailColumn",{justifyContent:"flex-end"}),l(t,"invoiceBucketCheckbox",{width:"3.125vw",height:"5.55vh"}),l(t,"verticalTimeline",{width:"3.125vw"}),l(t,"connector",{height:"5.55vh"}),l(t,"checkBoxRoot",{padding:"0"}),l(t,"individualBucketCheckbox",{minWidth:"3.125vw"}),l(t,"selectMenu",{fontSize:".9rem !important",color:e.palette.primary.main,borderBottom:"1px solid rgba(255,255,255,.2)"}),l(t,"gridListTile",{height:"auto !important"}),t},ne={invoices:[],selectedInvoices:[],filterInvoices:function(){}},oe=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));re.call(a);var n;a.totalAmount=0;for(var i={},l=0;l<e.invoices.length;l++)a.totalAmount=a.totalAmount+e.invoices[l].currentOpenAmount,i[e.invoices[l].id]=!1;var s,c;return a.props.individual?(s=i,c="All",a.props.filterInvoices("All"),n=!0):(s=a.props.selectedInvoices,c=e.invoiceType,n=!1),a.state={checked:!1,invoices:e.invoices,allInvoices:e.invoices,selectedInvoices:s,days:e.days,totalAmount:a.totalAmount,invoiceType:c,expanded:n,isBulkEmail:!0,customer:a.props.customer,collector:a.props.collector,snackBarOpen:!1,snackBarMessage:""},a}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){for(var t=0,a=0;a<e.invoices.length;a++)t+=e.invoices[a].currentOpenAmount;e.individual?(this.setState({totalAmount:t,invoices:e.invoices,allInvoices:e.invoices}),this.setCheck(e.invoices,this.state.selectedInvoices)):(this.setState({totalAmount:t,invoices:e.invoices,allInvoices:e.invoices,selectedInvoices:e.selectedInvoices}),this.setCheck(e.invoices,this.state.selectedInvoices))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{style:{position:"relative"}},this.props.individual&&u.default.createElement(I.default,{container:!0,xs:12,alignItems:"center",justify:"space-between",className:a.individualInvoiceHeader},u.default.createElement(I.default,{item:!0,align:"center",style:{zIndex:"5"},className:a.individualBucketCheckbox},u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.checked,onClick:function(){return e.checkAllInvoices(event)}})),u.default.createElement(I.default,{item:!0,xs:1},u.default.createElement("span",{className:a.bucketHeaderText},"Select All")),u.default.createElement(I.default,{item:!0,xs:1,align:"right"},u.default.createElement(S.default,{style:{color:"#989898"}},"View  :  ")),u.default.createElement(I.default,{item:!0,xs:4},u.default.createElement(M.default,{className:(0,b.default)(a.selectFilter),value:this.state.invoiceType,classes:{icon:a.selectIcon,selectMenu:a.selectMenu},onChange:this.handleFilterChange,inputProps:{name:"invoiceType"},MenuProps:{classes:{paper:a.menuPaper}}},u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"All"},"All"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Broken P2P"},"Broken P2P"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Upcoming P2P"},"Upcoming P2P"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Dispute"},"Dispute"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Predicted Delinquent"},"Predicted Delinquent"))),u.default.createElement(I.default,{item:!0,xs:5,align:"right"},this.props.emailOfCalled&&!this.state.isBulkEmail&&u.default.createElement("img",{className:(0,b.default)(a.iconSize,a.enabledEmailIcon),onClick:this.sendBulkEmail,src:"/tovo/static/Email.svg"}),this.props.emailOfCalled&&!this.state.isBulkEmail&&u.default.createElement("img",{className:(0,b.default)(a.iconSize,a.disabledEmailIcon),src:"/tovo/static/Email.svg"}))),u.default.createElement(I.default,{container:!0,alignItems:"flex-start"},u.default.createElement(I.default,{item:!0,xs:12,className:this.props.individual?a.shift:a.noShift},u.default.createElement(f.default,{style:{boxShadow:"none",backgroundColor:"transparent"},defaultExpanded:this.props.individual,expanded:this.state.expanded},!this.props.individual&&u.default.createElement(h.default,{className:a.panelSummary,classes:{content:a.content,expanded:a.summaryExpanded}},u.default.createElement(I.default,{container:!0,alignItems:"center",className:a.summaryContent},u.default.createElement(I.default,{item:!0,className:(0,b.default)(a.invoiceBucketCheckbox,a.centerFlexBox),align:"center"},u.default.createElement("div",{className:a.connector}),u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.checked,onClick:function(){return e.checkAllInvoices(event)}})),u.default.createElement(I.default,{container:!0,alignItems:"center",justify:"space-between",item:!0,xs:11,align:"left",onClick:this.toggleExpand,className:a.borderBottom},u.default.createElement(I.default,{item:!0,xs:10},u.default.createElement("span",{className:a.bucketHeaderText},this.state.days," "),u.default.createElement("span",{className:(0,b.default)(a.greyText,a.bucketHeaderText)},this.selectedInvoicesLength())),u.default.createElement(I.default,{item:!0,xs:2,align:"right"},!this.state.expanded&&u.default.createElement(x.default,{className:(0,b.default)(a.expandIcon,a.iconSize)}),this.state.expanded&&u.default.createElement(G.ExpandLess,{className:(0,b.default)(a.expandIcon,a.iconSize)}))))),u.default.createElement(v.default,{className:this.props.postCall?a.postCallRoot:a.root},!this.props.postCall&&u.default.createElement(I.default,{container:!0},!this.props.individual&&u.default.createElement(I.default,{item:!0,container:!0,className:a.verticalTimeline,justify:"center"},u.default.createElement(I.default,{item:!0,className:this.props.individual?a.disableTimeline:a.timeline})),u.default.createElement(I.default,{item:!0,container:!0,xs:this.props.individual?12:11,alignItems:"center",justify:"center"},u.default.createElement(I.default,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between",style:{marginTop:"1.34vh"}},u.default.createElement(I.default,{item:!0,className:a.checkBoxColumn},u.default.createElement("span",null)),u.default.createElement(I.default,{item:!0,align:"center",className:(0,b.default)(a.invoiceNumberColumn,a.invoiceHeaderText,a.centerFlexBox)},"Invoice Number"),u.default.createElement(I.default,{item:!0,align:"right",className:(0,b.default)(a.amountColumn,a.invoiceHeaderText,a.centerFlexBox)},"Amount"),u.default.createElement(I.default,{item:!0,align:"center",className:(0,b.default)(a.brokenColumn,a.invoiceHeaderText,a.centerFlexBox)},"Broken P2P"),u.default.createElement(I.default,{item:!0,align:"center",className:(0,b.default)(a.upcomingColumn,a.invoiceHeaderText,a.centerFlexBox)},"Upcoming P2P"),u.default.createElement(I.default,{item:!0,align:"center",className:(0,b.default)(a.disputeColumn,a.invoiceHeaderText,a.centerFlexBox)},"Dispute"),u.default.createElement(I.default,{item:!0,align:"center",className:(0,b.default)(a.predictedColumn,a.invoiceHeaderText,a.centerFlexBox)},"Predicted Delinquent"),u.default.createElement(I.default,{item:!0,xs:1,className:(0,b.default)(a.emailColumn,a.centerFlexBox)})),this.state.invoices.map(function(t,n){return u.default.createElement(I.default,{item:!0,container:!0,alignItems:"center",justify:"space-between",xs:12,className:e.state.selectedInvoices[t.id]?(0,b.default)(a.changeRowBackground,a.defaultBackground):a.defaultBackground,key:t.id+"row"},u.default.createElement(I.default,{item:!0,className:a.checkBoxColumn,align:"center",padding:"checkbox"},u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},id:t.id,icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:1==e.state.selectedInvoices[t.id],onClick:function(){return e.addInvoice(t.id)}})),u.default.createElement(I.default,{align:"center",numeric:!0,className:(0,b.default)(a.invoiceNumberColumn,a.blackText,a.centerFlexBox)},t.documentNumber),u.default.createElement(I.default,{align:"right",numeric:!0,className:(0,b.default)(a.amountColumn,a.blackText,a.centerFlexBox)},"$"+(0,C.formatter)(t.currentOpenAmount)),u.default.createElement(I.default,{className:(0,b.default)(a.brokenColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pBroken?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(I.default,{className:(0,b.default)(a.upcomingColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pUpcoming?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(I.default,{className:(0,b.default)(a.disputeColumn,a.centerFlexBox),align:"center",numeric:!0},null!=t.disputeStatus?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(I.default,{className:(0,b.default)(a.predictedColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pDelinquent?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(I.default,{className:(0,b.default)(a.emailColumn,a.centerFlexBox),xs:1,align:"right"},e.props.emailOfCalled&&!e.state.selectedInvoices[t.id]&&u.default.createElement("img",{className:(0,b.default)(a.iconSize,a.enabledEmailIcon),onClick:function(){return e.sendEmail(t.id)},src:"/tovo/static/Email.svg"})))}))),this.props.postCall&&u.default.createElement(I.default,{container:!0},u.default.createElement(I.default,{item:!0,container:!0,className:a.verticalTimeline,justify:"center"},u.default.createElement(I.default,{item:!0,className:a.postCallTimeline})),u.default.createElement(I.default,{item:!0,xs:11},u.default.createElement($.default,{cellHeight:"auto",className:a.gridList},this.state.invoices.map(function(t){return u.default.createElement(te.default,{cols:1,key:t.id,classes:{tile:a.gridListTile},style:{height:"auto",width:"16vw",margin:"0.2rem"}},u.default.createElement("div",{className:1==e.state.selectedInvoices[t.id]?a.selectedGridListDiv:a.gridListDiv},u.default.createElement(k.default,{style:{padding:"2px",alignItems:"center",left:"3%"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),id:t.id,checked:1==e.state.selectedInvoices[t.id],onClick:function(){return e.addInvoice(t.id)}}),u.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},u.default.createElement(S.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.65,lineHeight:"1.7rem"}},t.documentNumber),u.default.createElement(S.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",(0,C.formatter)(t.currentOpenAmount)))))})))))))),u.default.createElement(z.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[u.default.createElement(K.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(N.default,null))]}))}}]),t}(u.default.Component),re=function(){var e=this;this.handleFilterChange=function(t){e.setState({invoiceType:t.target.value}),e.props.filterInvoices(t.target.value)},this.toggleExpand=function(){1==e.state.expanded?e.setState({expanded:!1}):e.setState({expanded:!0})},this.addInvoice=function(t){0==e.state.selectedInvoices[t]?e.props.individual?e.updateLocalMap(t,"add"):e.props.updateGlobalMap(t,"add",!0):e.props.individual?e.updateLocalMap(t,"remove"):e.props.updateGlobalMap(t,"remove",!0)},this.checkAllInvoices=function(t){1==e.state.checked?(e.setState({checked:!1}),e.props.individual?e.updateLocalMap(e.state.invoices,"removeArray"):e.props.updateGlobalMap(e.state.invoices,"removeArray",!0)):(e.setState({checked:!0}),e.props.individual?e.updateLocalMap(e.state.invoices,"addArray"):e.props.updateGlobalMap(e.state.invoices,"addArray",!0))},this.updateLocalMap=function(t,a){switch(a){case"add":var n=e.state.selectedInvoices;n[t]=!0,e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"remove":var n=e.state.selectedInvoices;n[t]=!1,e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"addArray":for(var n=e.state.selectedInvoices,o=0;o<t.length;o++)n[t[o].id]=!0;e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"removeArray":for(var n=e.state.selectedInvoices,o=0;o<t.length;o++)n[t[o].id]=!1;e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n)}},this.setCheck=function(){for(var t=e.state.invoices,a=!1,n=!1,o=0;o<t.length;o++)if(1==e.state.selectedInvoices[t[o].id]){n=!0,e.setState({isBulkEmail:!1});break}n||e.setState({isBulkEmail:!0});for(var r=0;r<t.length;r++)if(0==e.state.selectedInvoices[t[r].id]){a=!0;break}0==t.length&&(a=!0),1==a?e.setState({checked:!1}):e.setState({checked:!0})},this.openSnackBarWithMessage=function(t){e.setState({snackBarMessage:t}),e.setState({snackBarOpen:!0})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.sendEmail=function(t){var a={customerId:e.state.customer.id,documentIds:[t],from:e.state.collector.emailId,to:e.props.emailOfCalled};H.default.post(_.default.apiUrl+"/correspondence/invoicecopy",a).then(function(t){e.openSnackBarWithMessage("Email sent"),console.log(t.data),console.log(t.status),console.log(t.statusText)}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),console.log(t)})},this.sendBulkEmail=function(){console.log("Sending Bulk email");for(var t=e.state.invoices,a=[],n=0;n<t.length;n++)1==e.state.selectedInvoices[t[n].id]&&a.push(t[n].id);var o={customerId:e.state.customer.id,documentIds:a,from:e.state.collector.emailId,to:e.props.emailOfCalled};H.default.post(_.default.apiUrl+"/correspondence/invoicecopy",o).then(function(t){e.openSnackBarWithMessage("Email sent"),console.log(t.data),console.log(t.status),console.log(t.statusText)}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),console.log(t)})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0,n=e.state.invoices;for(var o in n)1==t[n[o].id]&&a++;return 0!=a&&e.props.postCall?"("+a+" Selected)":"(Total: $"+(0,C.formatter)(e.state.totalAmount,"")+" - "+e.state.invoices.length+" Invoices)"}};oe.propTypes={classes:U.default.object.isRequired,invoices:U.default.array,filterInvoices:U.default.func},oe.defaultProps=ne;var ie=(0,X.default)(ae,Q.default);t.default=(0,d.withStyles)(ie,{withTheme:!0})(oe)},6083:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t="transition"+e+"Timeout",a="transition"+e;return function(e){if(e[a]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=o;var r=a(0),i=(n(r),a(4)),l=n(i);t.nameShape=l.default.oneOfType([l.default.string,l.default.shape({enter:l.default.string,leave:l.default.string,active:l.default.string}),l.default.shape({enter:l.default.string,enterActive:l.default.string,leave:l.default.string,leaveActive:l.default.string,appear:l.default.string,appearActive:l.default.string})])},6084:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(4),f=(n(p),a(29)),m=n(f),h=a(6085),g=n(h),v=function(e){return{}},y=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=(e.autoScroll,e.classes,e.className),a=e.transcriptChatProps,n=e.transcriptTitleClassName;return u.default.createElement(m.default,{item:!0,xs:12,container:!0,className:t},u.default.createElement("span",{className:n},"CALL TRANSCRIPT"),u.default.createElement(g.default,l({autoScroll:!0},a)))}}]),t}(c.Component);t.default=(0,d.withStyles)(v,{withTheme:!0})(y)},6085:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=n(u),p=a(19),f=a(6114),m=n(f),h=a(49),g=a(115),v=function(e){return{transcriptTextParent:{whiteSpace:"pre-line",marginTop:"2.5rem",height:"85%",overflowY:"auto",padding:"0.5rem 0.5rem 0.5rem 0px",fontFamily:"Roboto",marginLeft:"1rem",width:"100%",wordWrap:"break-word"}}},y=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.scrollToBottom=function(){var e=a.props.transcriptGridID,t=document.getElementById(e);t&&(document.getElementById(e).scrollTop=t.scrollHeight)},a.generateChatBoxes=function(e,t){return e.includes(g.TRANSCRIPT_DELIMETERS.COLLECTOR)?c.default.createElement(m.default,{key:t,isCollector:!0,initials:a.props.userInitials?a.props.userInitials:"ME",message:e.replace(g.TRANSCRIPT_DELIMETERS.COLLECTOR,"")}):e.includes(g.TRANSCRIPT_DELIMETERS.CUSTOMER)?c.default.createElement(m.default,{key:t,isCollector:!1,initials:a.props.calledToNameInitials,message:e.replace(g.TRANSCRIPT_DELIMETERS.CUSTOMER,"")}):e.includes(g.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS)?c.default.createElement(m.default,{key:t,isDetecting:!0,initials:"",message:e.replace(g.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS,"")}):void 0},a.state={transcription:[]},a}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.autoScroll&&(console.log("Auto Scrolling"),this.scrollToBottom())}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.transcription,n=e.transcriptGridID,o=(0,h.splitTranscript)(a);return c.default.createElement("div",{id:n,className:t.transcriptTextParent},c.default.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},o.map(this.generateChatBoxes)))}}]),t}(s.Component);y.propTypes={classes:d.default.object.isRequired},y.defaultProps={transcription:"",calledToNameInitials:"CN",userInitials:"ME"},t.default=(0,p.withStyles)(v,{withTheme:!0})(y)},6090:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(90),u=a(4),d=(n(u),a(0)),p=n(d),f=a(19),m=a(8),h=n(m),g=a(43),v=a(69),y=a(24),b=a(29),C=n(b),E=a(6091),S=n(E),w=a(166),x=a(23),O=a(42),k=n(O),D=a(326),I=n(D),T=a(86),N=n(T),P=a(40),A=n(P),j=a(41),M=n(j),F=a(6104),R=n(F),B=a(174),_=(n(B),a(173)),L=(n(_),a(87)),H=n(L),V=a(167),U=n(V),W=a(330),z=n(W),Y=a(168),K=n(Y),G=a(35),q=n(G),X=a(68),J=n(X),Q=a(6113),Z=n(Q),$=a(6084),ee=n($),te=a(49),ae=a(115),ne=a(6120),oe=a(6121),re=function(e){return{appFrame:{overflowX:"hidden",display:"flex",flexDirection:"row",maxHeight:"100vh",width:"100%"},root:{margin:"1.12vh 1.041vw 0em 1.041vw",backgroundColor:e.palette.background.main,width:"100%"},transcriptBox:{height:"58.98vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main,marginBottom:"1.85vh"},summaryBox:{height:"25.50vh",padding:"0.8rem",borderRadius:"4px",display:"flex",backgroundColor:e.palette.cardBackground.main},transcriptTitle:{fontSize:"1.1rem",color:e.palette.primary.main,paddingLeft:".8rem",paddingTop:".8rem",opacity:.65,position:"absolute"},nonActionNotesTitle:{fontSize:"1rem",lineHeight:"1.5rem",position:"relative",color:e.palette.primary.main,opacity:.65},customerName:{fontSize:"1.78rem",lineHeight:"2.1rem"},customerDetailText:{fontFamily:e.font.title.fontFamily,color:e.palette.secondary.main},customerNumber:{fontSize:".8rem"},nonActionNotesEditing:{boxShadow:" 0 4px 8px 0 rgba(0,0,0,0.2)",padding:"0.8rem",border:"2px solid #FFF"},test:{width:"auto",height:"10vh",overflowY:"auto",padding:"0px",display:"block !important",color:e.palette.primary.main,whiteSpace:"pre-line"},button:{fontSize:"0.5rem",width:"7.2922vw",boxShadow:"none",minHeight:"4.4444vh",padding:0,"&:hover, &$focusVisible":{backgroundColor:"#86BFE7"}},buttonTitle:{fontFamily:e.font.title.fontFamily,color:e.palette.primary.main},heading:{color:e.palette.primary.main,fontSize:"1.067rem",opacity:.5,paddingBottom:"1.94vh"},nextCustomerUrl:{color:e.palette.secondary.main,fontSize:"0.888rem",height:"4.4444vh",display:"flex",alignItems:"center"},actionButton:{boxShadow:"none",fontSize:"1.111rem","&:hover, &$focusVisible":{backgroundColor:"#86BFE7"},height:"6.48vh"},postCallCardGrid:{marginTop:"2.037vh"},paddingRightOnCard:{paddingRight:"1.041vw"}}},ie=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.snackMessageQueue=[],a.deleteAction=function(e){console.log("ID",e,t);var t=a.state.summary.filter(function(t){return t.id!=e}),n=a.state.summaryCompletionMap;n.delete(e),console.log(n),a.setState({summary:t,summaryCompletionMap:n})},a.markSummaryAsDone=function(e){var t=a.state.summaryCompletionMap,n=a.state.summary;for(var o in n)if(n[o].id==e){n[o].save=!0;break}a.setState({summary:n}),t.set(e,!0),a.setState({summaryCompletionMap:t})},a.updateActionItemCheck=function(e){a.setState({notes:[].concat(o(a.state.notes),[e]),isAnyActionCompleted:!0})},a.savePostCallThings=function(){if((0,ne.checkSummaryCompleteMap)(a.state.summaryCompletionMap))return void a.setState({doReviewDialogOpen:!0});a.state.nonActionNotes&&a.state.nonActionNotes.trim()?a.setState({notes:[].concat(o(a.state.notes),[a.state.nonActionNotes.trim()]),nonActionIncluded:!0},function(){a.saveCallLog()}):a.saveCallLog()},a.saveNotesChanges=function(){a.setState({isEditingOn:!1,prevNonActionNotes:a.state.nonActionNotes},function(){a.blurNonActionNotesBox()})},a.discardNotesChanges=function(){a.setState({isEditingOn:!1,nonActionNotes:a.state.prevNonActionNotes},function(){a.blurNonActionNotesBox()})},a.openSnackbar=function(e){a.snackMessageQueue.push({message:ae.SNACK_MESSAGES[e],key:(new Date).getTime()}),a.state.snackOpen?a.setState({snackOpen:!1}):a.processQueue()},a.processQueue=function(){a.snackMessageQueue.length>0&&a.setState({snackMessage:a.snackMessageQueue.shift(),snackOpen:!0})},a.handleNonactionNotesChange=function(e){a.setState({nonActionNotes:e.target.value})},a.closeSnackbar=function(e,t){"clickaway"!==t&&a.setState({snackOpen:!1})},a.handleSnackbarExit=function(){a.processQueue()},a.handleActionItemClick=function(e){var t=(0,te.createAction)(e);if(console.log("Action created",t),t){var n=a.state.summary.length;t.id=n>0?a.state.summary[n-1].id+1:1,t.save=!1,t.created=!0;var r=a.state.summaryCompletionMap;r.set(t.id,!1),a.setState({summary:[].concat(o(a.state.summary),[t]),summaryCompletionMap:r},function(){var e=document.getElementById("action-summary-grid-container");e&&(e.scrollTop=e.scrollHeight)})}a.closeActionCreatorDialog()},a.closeReviewWarningDialog=function(){a.setState({doReviewDialogOpen:!1})},a.handleActionCreation=function(){a.setState({doOpenNewActionDialog:!0})},a.closeActionCreatorDialog=function(){a.setState({doOpenNewActionDialog:!1})},a.updateSummaryFromChild=function(e,t){var n=a.state.summary;for(var o in n)if(n[o].id==t){n[o].summary=e;break}a.setState({summary:n})},a.updateInvoices=function(e,t){var n=Object.create(a.state.summary),o=[];for(var r in n)if(n[r].id==t){for(var i in e)o.push(e[i].documentNumber);n[r].entities.invoice=o;break}a.setState({summary:n})},a.editNonActionNotes=function(){a.setState({isEditingOn:!0},function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.focus()},500)})},a.blurNonActionNotesBox=function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.blur()},500)},a.initializeSummaryWithDefaults=function(e){if("[]"===e)a.setState({summary:[]});else{var t=(0,ne.appendIdsToSummary)(e),n=(0,ne.createSummaryCompletionMap)(e),o=(0,ne.createInitialNonActionSummaryNotes)(e,a.props.voicemailMessage);a.setState({summary:t,summaryCompletionMap:n,nonActionNotes:o,prevNonActionNotes:o})}},a.saveCallLog=function(){var e=(0,ne.generateNotesAsString)(a.state.notes),t=a.props.callLogState,n=a.props.customer,o={id:t.id,callSummary:a.props.transcription.transcription,duration:a.props.callDuration,note:{customerId:n.id,noteContent:e}};M.default.put(A.default.apiUrl+"/call",o).then(function(e){a.setState({openProgressBar:!1,isPostCallDone:!0}),c.store.dispatch((0,v.changeTranscription)({transcription:""}))}).catch(function(e){a.setState({openProgressBar:!1,isPostCallDone:!0})})},a.genSummaryActionCards=function(e){var t=e.intent;if((0,te.isActionIntent)(t))return p.default.createElement(H.default,{in:!0,key:e.id},p.default.createElement(S.default,{onDelete:function(e){return a.deleteAction(e)},onActionItemConfirm:a.updateActionItemCheck,summary:e,style:{width:"100%",marginBottom:"0.7rem"},intentType:t,allInvoiceList:a.props.invoices,customer:a.props.customer,calledToName:a.props.calledToName,calledToNumber:a.props.calledToNumber,completed:function(){return a.markSummaryAsDone(e.id)},bucketNames:a.props.bucketNames,contactLog:a.props.callLogState,callState:a.props.callState,followupTextList:a.state.followupTextList,reasonCodeList:a.state.reasonCodeList,openSnackbarOnAction:function(e){return a.openSnackbar(e)},updateInvoicesInParent:function(t){return a.updateInvoices(t,e.id)},updateSummaryInParent:function(t){a.updateSummaryFromChild(t,e.id)}}))},a.props.onHangup(),console.log(a.props.nextCustomerUrl,"next customer url"),a.nextCustomeText="GO TO NEXT CUSTOMER",a.nextCustomerUrl=a.props.nextCustomerUrl,a.nextCustomerUrl||(a.nextCustomerUrl="/",a.nextCustomeText="GO BACK TO HOME PAGE"),console.log(a.props.toCallCustomers,"to call customers"),a.state={date:new Date,isEditingOn:!1,summary:"",transcription:a.props.initialTranscription,openProgressBar:!1,doOpenNewActionDialog:!1,isAnyActionCompleted:!1,doReviewDialogOpen:!1,notes:[],isPostCallDone:!1,summaryCompletionMap:new Map,prevNonActionNotes:"",nonActionNotes:"",snackMessage:{},snackOpen:!1,followupTextList:[],reasonCodeList:[],nonActionIncluded:!1},oe.commonService.getDisputeCodes().then(function(e){a.setState({reasonCodeList:e||[]})}).catch(function(e){console.log("Failed to load dispute codes",e)}),oe.commonService.getTaskTypes().then(function(e){a.setState({followupTextList:e||[]})}).catch(function(e){console.log("Failed to load Follow up text list",e)}),a}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.transcription.summary,a=e.transcription.transcription,n=this.props.transcription.transcription;console.log("Summary received in Post Call",JSON.stringify(t)),a&&a!==n&&(console.log("Updating transcription",a),this.setState({transcription:a})),JSON.stringify(t)!==JSON.stringify(this.state.summary)&&this.initializeSummaryWithDefaults(t)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.customer,n=this.props.user,o=this.props.calledToName,r=(0,te.getInitialsFromName)(o);(0,te.getInitialsFromName)(n.name);return p.default.createElement("div",{className:t.appFrame},p.default.createElement("div",{className:t.root},p.default.createElement(C.default,{container:!0},p.default.createElement(C.default,{item:!0,container:!0,alignItems:"flex-start"},p.default.createElement(C.default,{item:!0,xs:10},p.default.createElement("div",{style:{display:"flex",alignItems:"center"}},p.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left"}},p.default.createElement("div",{className:(0,h.default)(t.customerName,t.customerDetailText)},a.customerName),p.default.createElement("div",{className:(0,h.default)(t.customerNumber,t.customerDetailText)},a.customerNumber)))),p.default.createElement(C.default,{item:!0,container:!0,xs:2,justify:"flex-end",style:{marginLeft:"-8.33vw"}},p.default.createElement("div",{style:{margin:"0px 0 0 0",display:"flex",alignItems:"center"}},p.default.createElement(C.default,{item:!0,align:"right"},!this.state.isPostCallDone&&p.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"right",height:"4.444vh"}},p.default.createElement(U.default,{variant:"extended",onClick:this.savePostCallThings,color:"secondary","aria-label":"Add",size:"small",disabled:!this.state.summary,className:t.button},p.default.createElement(x.Typography,{className:t.buttonTitle},"Done"))),this.state.isPostCallDone&&p.default.createElement(g.Link,{style:{textDecoration:"none"},onClick:ae.emptyFunction,to:{pathname:this.nextCustomerUrl,state:{toCallCustomers:this.props.toCallCustomers}}},p.default.createElement(x.Typography,{className:t.nextCustomerUrl},this.nextCustomeText)))))),!this.state.isPostCallDone&&p.default.createElement(C.default,{item:!0,container:!0,className:t.postCallCardGrid},p.default.createElement(C.default,{item:!0,xs:8,className:t.paddingRightOnCard},p.default.createElement("div",null,p.default.createElement(x.Typography,{className:t.heading},"SUGGESTED ACTIONS")),p.default.createElement(C.default,{item:!0,xs:12,style:{height:"auto",maxHeight:"74.7vh",overflowY:"auto"},id:"action-summary-grid-container"},this.state.summary&&this.state.summary.map(function(t){return e.genSummaryActionCards(t)}),!this.state.summary&&p.default.createElement("div",{stlye:{height:"100%"}},p.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"70vh"}},p.default.createElement(N.default,null),p.default.createElement(x.Typography,{style:{color:"white",marginTop:"1.3rem"}},"Generating call summary")))),this.state.summary&&p.default.createElement(k.default,{style:{width:"100%"},color:"secondary",className:t.actionButton,variant:"contained",onClick:function(){e.handleActionCreation()}},p.default.createElement(x.Typography,{color:"primary",style:{fontSize:"1.067rem"}},"+ CREATE NEW ACTION"))),p.default.createElement(C.default,{item:!0,container:!0,xs:4,alignItems:"center",style:{height:"86.29vh"}},p.default.createElement(ee.default,{className:t.transcriptBox,autoScroll:Boolean(!1),transcriptTitleClassName:t.transcriptTitle,transcriptChatProps:{transcription:this.state.transcription,calledToNameInitials:r,userInitials:"ME",transcriptGridID:"post-call-transcription-grid"}}),p.default.createElement(C.default,{item:!0,xs:12,className:t.summaryBox},p.default.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},p.default.createElement("div",null,p.default.createElement("span",{className:t.nonActionNotesTitle},"NON ACTION NOTES"),this.state.summary&&!this.state.isEditingOn&&p.default.createElement(w.BorderColor,{style:{color:"#5DAAE0",float:"right",cursor:"pointer"},onClick:this.editNonActionNotes}),this.state.summary&&this.state.isEditingOn&&p.default.createElement("div",{style:{float:"right"}},p.default.createElement(w.HighlightOff,{style:{marginLeft:"0.4rem",color:"#FF8888",padding:"0 1.3rem 0 0.8rem",cursor:"pointer"},onClick:this.discardNotesChanges}),p.default.createElement(w.CheckCircleOutline,{style:{color:"#5FC32C",cursor:"pointer"},onClick:this.saveNotesChanges}))),this.state.summary&&p.default.createElement(I.default,{id:"non-action-notes-edit-field",multiline:!0,value:this.state.nonActionNotes,onChange:function(t){e.handleNonactionNotesChange(t)},className:this.state.isEditingOn?t.nonActionNotesEditing:t.nonActionNotesNotEditing,margin:"normal",InputProps:{className:t.test,readOnly:Boolean(!this.state.isEditingOn),disableUnderline:Boolean(!0)}}),!this.state.summary&&p.default.createElement("div",{stlye:{height:"100%"}},p.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"20vh"}},p.default.createElement(N.default,{style:{color:"#eeeeee"}}),p.default.createElement(x.Typography,{style:{color:"#eeeeee",marginTop:"1.3rem"}},"Waiting for summary"))))))),this.state.isPostCallDone&&p.default.createElement(C.default,{item:!0,container:!0,xs:12,className:t.postCallCardGrid},p.default.createElement(R.default,{invoiceList:(0,te.generateFinalInvoiceList)(this.state.summary,this.props.invoices),summaryNotes:this.state.notes,nonActionIncluded:this.state.nonActionIncluded,nextCustomerUrl:this.props.nextCustomerUrl,toCallCustomers:this.props.toCallCustomers,customer:this.props.customer,collector:this.props.collector,contactIndex:this.props.contactIndex})),p.default.createElement(Z.default,{open:this.state.doOpenNewActionDialog,onClose:this.closeActionCreatorDialog,onActionItemClick:function(t){return e.handleActionItemClick(t)}}),p.default.createElement(z.default,{open:this.state.doReviewDialogOpen,onClose:this.closeReviewWarningDialog,title:ae.REVIEW_WARNING,actions:[p.default.createElement(k.default,{onClick:this.closeReviewWarningDialog,color:"secondary"},"OK")]}),p.default.createElement(K.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage.key,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:p.default.createElement("span",{id:this.state.snackMessage.key},this.state.snackMessage.message),action:[p.default.createElement(q.default,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.closeSnackbar,onExited:this.handleSnackbarExit},p.default.createElement(J.default,null))]}))))}}]),t}(p.default.Component),le=function(e){return{user:e.personalDetails,callState:e.callState,transcription:e.transcription,callLogState:e.callLogState}};t.default=(0,y.connect)(le)((0,f.withStyles)(re,{withTheme:!0})(ie))},6091:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),f=a(19),m=a(6092),h=n(m),g=a(6100),v=n(g),y=a(6101),b=n(y),C=a(6102),E=n(C),S=a(176),w=n(S),x=a(177),O=n(x),k=a(334),D=n(k),I=a(340),T=n(I),N=a(115),P=function(e){return{panel:{width:"100%",backgroundColor:e.palette.solidBackground.main},expandedBackground:{backgroundColor:"#39586F",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2))",padding:"0 !important"},panelCommon:{padding:"0 !important",borderRadius:"5px",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2))"},expandIcon:{color:e.palette.secondary.main},expansionPanelRoot:{boxShadow:"none !important",borderRadius:"4px !important",marginBottom:"0.83vh"}}},A=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));j.call(a);var n=a.props.summary.entities.invoice,i=a.genInitialInvoiceData(n),l=i.correctInvoices,s=i.correctInvoicesMap,c=i.incorrectFlag;return a.state={expanded:!1,amount:0,invoices:n,summary:a.props.summary,correctInvoices:l,correctInvoicesMap:s,incorrectFlag:c,invoiceCount:0},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.intentType,o=this.getCommonProps();return u.default.createElement(w.default,{classes:{root:a.expansionPanelRoot},expanded:this.state.expanded,className:a.panel},u.default.createElement(O.default,{className:this.state.expanded?a.expandedBackground:a.panelCommon,expandIcon:n!==N.INTENT_TYPES.FOLLOW_UP&&u.default.createElement(T.default,{onClick:this.toggleExpand,className:a.expandIcon})},n===N.INTENT_TYPES.P2P&&u.default.createElement(h.default,l({incorrectFlag:this.state.incorrectFlag,totalAmount:this.state.amount,summary:this.state.summary,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices},o)),n===N.INTENT_TYPES.DISPUTE&&u.default.createElement(v.default,l({incorrectFlag:this.state.incorrectFlag,summary:this.state.summary,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices,reasonCodeList:this.props.reasonCodeList},o)),n===N.INTENT_TYPES.FOLLOW_UP&&u.default.createElement(b.default,l({incorrectFlag:this.state.incorrectFlag,summary:this.state.summary,followupTextList:this.props.followupTextList},o))),u.default.createElement(D.default,{className:a.panelCommon},u.default.createElement(E.default,{sum:this.state.summary,intentType:n,correctInvoices:this.state.correctInvoices,correctInvoicesMap:this.state.correctInvoicesMap,incorrectFlag:this.state.incorrectFlag,onUpdateInvoice:this.updateInvoices,done:this.state.completed,invoices:this.props.allInvoiceList,bucketNames:this.props.bucketNames,updateInvoices:function(t,a){e.updateCorrectInvoices(t,a)}})))}}]),t}(c.Component),j=function(){var e=this;this.toggleExpand=function(){e.setState({expanded:!e.state.expanded})},this.genInitialInvoiceData=function(t){var a=[],n={},o=!1,r=e.props.allInvoiceList;if(t)for(var i=0;i<t.length;i++){for(var l=!1,s=0;s<r.length&&!l;s++)for(var c=0;c<r[s].length;c++){var u=r[s][c];if(t[i]==u.documentNumber){a.push(u),n[u.id]=!0,l=!0;break}}if(!l){var d=Object.create({id:t[i]+"incorrect",documentNumber:t[i]});a.push(d),o=!0}}return Object.freeze({correctInvoices:a,correctInvoicesMap:n,incorrectFlag:o})},this.getCommonProps=function(){return Object.assign({customer:e.props.customer,callToName:e.props.calledToName,calledToNumber:e.props.calledToNumber,contactLog:e.props.contactLog,onActionItemConfirm:e.props.onActionItemConfirm,deleteAction:e.props.onDelete,onCompletion:e.markThisComplete,toggleExpand:e.toggleExpand,openSnackbarOnAction:function(t){return e.props.openSnackbarOnAction(t)},updateSummaryInParent:function(t){e.props.updateSummaryInParent(t,e.state.correctInvoices)}})},this.updateCorrectInvoices=function(t,a){e.setState({correctInvoices:t,correctInvoicesMap:a},function(){e.props.updateInvoicesInParent(t)})},this.updateInvoices=function(t,a){e.setState({incorrectFlag:t,invoiceCount:a})},this.markThisComplete=function(){e.setState({completed:!0,expanded:!1}),e.props.completed()}};A.propTypes={classes:p.default.object.isRequired},t.default=(0,f.withStyles)(P,{withTheme:!0})(A)},6092:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.inputRef,a=e.onChange,n=o(e,["inputRef","onChange"]);return p.default.createElement(_.default,c({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$",allowNegative:!1,decimalScale:8}))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),p=n(d),f=a(42),m=n(f),h=a(4),g=n(h),v=a(8),y=n(v),b=a(19),C=a(166),E=a(6076),S=n(E),w=a(6077),x=a(23),O=a(333),k=n(O),D=a(21),I=n(D),T=a(326),N=n(T),P=a(331),A=n(P),j=a(41),M=n(j),F=a(40),R=n(F),B=a(6080),_=n(B),L=a(29),H=n(L),V=a(86),U=n(V),W=a(330),z=n(W),Y=a(115),K=a(175),G=a(55),q=a(49),X=a(31),J=n(X),Q=a(32),Z=n(Q),$=/(Promise to pay for \d*)|(\d{4}-\d{2}-\d{2}T[\d{2}:]*.\d{3}[-|+]\d{2}:\d{2})|(\d* invoice)/g,ee="Payment commitment received for <Amount> to be paid by <Date> <Invoices>.",te="Create Promise to pay for <Amount> to be paid by <Date> for <Invoices>",ae=function(e){return{textField:{margin:"0px",fontSize:"0.875rem",fontWeight:"bold",color:e.palette.primary.main},test:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6,"&:before":{borderBottom:"1px solid #5DAAE0"},"&:after":{borderBottom:"2px solid #5DAAE0"}},testInitial:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6,"&:before":{borderBottom:"1px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},actionProgressBar:{color:e.palette.primary.main,alignItems:"center",width:"1.5rem !important",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem !important"},cardContent:{color:e.palette.primary.main,opacity:.65,fontSize:"0.9rem"},actionIcon:{color:e.palette.secondary.main,height:"1.6rem",width:"1.6rem"},errorFlag:{color:"#FF4444",marginLeft:".5rem"},disableDoneBtn:{opacity:.4,cursor:"default"}}},ne=(0,x.createMuiTheme)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:k.default.A200,height:"13vh"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:k.default.A700},selected:{backgroundColor:k.default[400]},current:{color:k.default[900]}},MuiFormHelperText:{error:{color:"#FF8888 !important"}},MuiPickersModal:{dialogAction:{color:k.default[400]}}}}),oe=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));re.call(a);var n=a.props.summary.summary.match($),o=n[0].match(/[0-9]{1,}/);return a.state={readOnly:!a.props.summary.created,isEditing:a.props.summary.created||!1,prevAmount:"",amount:o?o[0]:a.props.summary.created?"":0,selectedDate:new Date(n[1]),invoiceCount:a.props.invoiceCount,openActionSave:!1,snackBarOpen:!1,snackBarMessage:"",openWarningDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:a.props.summary.save?(0,K.format)(new Date(n[1]),"MMM dd, yyyy"):"",amountTextFieldWidth:o?12*(""+o).length:15,actionSaveProgressBar:!1,incorrectFlag:a.props.incorrectFlag,invalidDataNotifierMessage:"",openInvalidDataNotifier:!1,summary:a.props.summary,isAmountInvalid:!o},a}return l(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.updateSummary()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({incorrectFlag:e.incorrectFlag}),e.invoiceCount>=0&&e.invoiceCount!=this.state.invoiceCount&&this.setState({invoiceCount:e.invoiceCount},function(){t.updateSummary()})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=(this.props.summary,this.props.fullScreen);return p.default.createElement(H.default,{container:!0,className:a.invoiceSample},p.default.createElement(H.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&p.default.createElement(U.default,{className:a.actionProgressBar}),this.state.isDone&&p.default.createElement(C.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),p.default.createElement(H.default,{item:!0,xs:11,md:11,lg:11,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement(H.default,{item:!0},this.state.isDone&&p.default.createElement(I.default,{style:{opacity:1},className:a.cardContent},"Created  ")),p.default.createElement(H.default,{item:!0},!this.state.isDone&&p.default.createElement(I.default,{style:{opacity:1},className:a.cardContent},"Create  ")),p.default.createElement(H.default,{item:!0},p.default.createElement(I.default,{style:{fontWeight:"bold",opacity:1},className:a.cardContent},"P2P  ")),p.default.createElement(H.default,{item:!0},p.default.createElement(I.default,{className:a.cardContent},"of  ")),p.default.createElement(H.default,{item:!0,style:{minWidth:this.state.isEditing?"7rem":this.state.amountTextFieldWidth,width:this.state.isEditing?"7rem":this.state.amountTextFieldWidth,maxWidth:"9rem"}},p.default.createElement(N.default,{id:"invoice-amount-field-"+this.state.actionId,className:a.textField,value:this.state.amount,onChange:function(t){return e.handleInvoiceCurrencyChange(t)},margin:"normal",padding:"normal",InputProps:{className:this.state.isAmountInvalid?(0,y.default)(a.testInitial,a.inputFieldText):(0,y.default)(a.test,a.inputFieldText),readOnly:Boolean(this.state.readOnly),disableUnderline:Boolean(this.state.readOnly),inputComponent:this.state.isEditing?s:this.FormattedCurrencyInput}})),p.default.createElement(H.default,{item:!0},!this.state.isEditing&&!this.state.isDone&&p.default.createElement(C.BorderColor,{className:a.actionIcon,style:{marginLeft:"6px"},onClick:this.toggleEditing}),this.state.isEditing&&!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(C.HighlightOff,{style:{marginLeft:"0.4rem",color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},className:this.state.prevAmount?"":a.disableDoneBtn,onClick:this.state.prevAmount?this.dismissAmountChanges:Y.emptyFunction}),p.default.createElement(C.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.isAmountInvalid?a.disableDoneBtn:"",onClick:this.state.isAmountInvalid?Y.emptyFunction:this.saveInvoiceAmountChange}))),p.default.createElement(H.default,{item:!0},p.default.createElement(I.default,{className:a.cardContent},"  with due date of  ")),p.default.createElement(H.default,{item:!0}," ",this.state.isDone&&p.default.createElement(I.default,{style:{color:n.palette.primary.main}},this.state.finalSelectedDate)),p.default.createElement(H.default,{item:!0,style:{display:"flex",maxWidth:"8em"}},!this.state.isDone&&p.default.createElement(w.MuiPickersUtilsProvider,{utils:S.default},p.default.createElement(x.MuiThemeProvider,{theme:ne},p.default.createElement(w.DatePicker,{style:{maxWidth:"5.35rem"},allowKeyboardControl:Boolean(!1),format:"MMM dd, yyyy",minDateMessage:"Previous date not acceptable",InputProps:{id:"date-input-field-"+this.state.actionId,className:a.test,readOnly:Boolean(!0),disableUnderline:Boolean(!0)},ref:function(t){e.picker=t},value:this.state.selectedDate,onChange:this.handleDateChange,animateYearScrolling:!1,minDate:new Date}),p.default.createElement(C.DateRange,{className:a.actionIcon,onClick:this.openPicker})))),p.default.createElement(H.default,{item:!0,align:"left"},0!==this.state.invoiceCount&&p.default.createElement("div",{style:{alignItems:"center",display:"flex"}},p.default.createElement(I.default,{className:a.cardContent},!this.state.isEditing&&p.default.createElement("span",null," "),"towards "),p.default.createElement(I.default,{style:{fontWeight:"bold"},className:a.cardContent,onClick:this.props.toggleExpand},this.state.invoiceCount+" Invoice"+(this.state.invoiceCount>1?"s":"")),this.state.incorrectFlag&&p.default.createElement(A.default,{className:a.errorFlag}))))),p.default.createElement(z.default,{fullScreen:o,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[p.default.createElement(m.default,{onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),p.default.createElement(m.default,{onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),p.default.createElement(z.default,{fullScreen:o,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[p.default.createElement(m.default,{onClick:this.closeWarningDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(z.default,{fullScreen:o,open:this.state.openInvalidDataNotifier,onClose:this.closeInvalidDataNotifier,title:this.state.invalidDataNotifierMessage,actions:[p.default.createElement(m.default,{onClick:this.closeInvalidDataNotifier,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(H.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(C.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),p.default.createElement(C.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.checkInvalidation()?"":a.disableDoneBtn,onClick:this.checkInvalidation()?this.saveP2P:Y.emptyFunction}))))}}]),t}(d.Component),re=function(){var e=this;this.handleInvoiceCurrencyChange=function(t){e.setState({amountTextFieldWidth:t.target.value?12*(""+t.target.value.length):50,amount:t.target.value,amountFormatted:t.target.value,isAmountInvalid:!1},function(){e.state.amount||e.setState({isAmountInvalid:!0})})},this.openDataInvalidDialog=function(t){e.setState({openInvalidDataNotifier:!0,invalidDataNotifierMessage:t})},this.closeInvalidDataNotifier=function(){e.setState({openInvalidDataNotifier:!1})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.validateP2PData=function(){var t=e.state.amount;return Number(t)<1?(e.openDataInvalidDialog("Please enter amount > 0."),!1):!!(0,q.isValidDate)(e.state.selectedDate)||(e.openDataInvalidDialog("Found invalid date. Please correct the date to proceed."),!1)},this.checkInvalidation=function(){return!e.state.isAmountInvalid&&!e.state.incorrectFlag&&(0,q.isValidDate)(e.state.selectedDate)},this.saveP2P=function(){if(e.validateP2PData()){console.log(t);var t=null!==e.props.contactLog.contact?e.props.contactLog.contact.id:null,a=e.props.contactLog.callingNumber,n=e.props.correctInvoices.map(function(e){var t={};return t.cmsDocHeaderId=e.id,t});if(e.state.incorrectFlag)return void e.setState({openWarningDialog:!0});e.setState({actionSaveProgressBar:!0,isEditing:!1,readOnly:!0});var o={committedAmount:e.state.amount,committedBy:{id:t,phoneNumber:a},committedDate:new Date(e.state.selectedDate),committedOn:new Date,currency:"$",customerId:e.props.customer.id,pcItems:n};M.default.post(R.default.apiUrl+"/customer/"+e.props.customer.id+"/p2p",o).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({finalSelectedDate:e.getDateFieldValue()},function(){e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1,isDone:!1})})}},this.generateActionSummary=function(){var t=e.state.invoiceCount,a=e.state.selectedDate,n=(0,K.format)(a,"MM-dd-yyyy");return ee.replace("<Amount>","$"+(0,q.formatCurrencyToUSFormat)(e.state.amount)).replace("<Date>",n).replace("<Invoices>",0===t?"":1===t?"for "+t+" invoice":"for "+t+" invoices")},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.dismissAmountChanges=function(){var t=e.state,a=(0,G.customCurrencyFormatter)(e.state.amount).length;e.setState({amount:t.prevAmount,readOnly:!0,isEditing:!1,amountTextFieldWidth:4.5*a}),document.getElementById("invoice-amount-field-"+e.state.actionId).blur()},this.openPicker=function(t){e.picker.open(t)},this.updateSummary=function(){var t=e.state.invoiceCount,a=(0,q.formatDateWithTimezone)(new Date(e.state.selectedDate),"-06:00"),n=te.replace("<Amount>",e.state.amount?e.state.amount:"<amount-of-money>").replace("<Date>",a).replace("<Invoices>",0===t?"<X invoices>":1===t?t+" invoice":t+" invoices");e.props.updateSummaryInParent(n)},this.saveInvoiceAmountChange=function(){var t=(0,G.customCurrencyFormatter)(e.state.amount).length;e.setState({prevAmount:e.state.amount,readOnly:!0,isEditing:!1,amountTextFieldWidth:4.5*t},function(){e.updateSummary()}),document.getElementById("invoice-amount-field-"+e.state.actionId).blur()},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.toggleEditing=function(t){e.setState({readOnly:!1,isEditing:!0},function(){document.getElementById("invoice-amount-field-"+e.state.actionId).focus()})},this.handleDateChange=function(t){e.setState({selectedDate:t},function(){e.updateSummary()})},this.getDateFieldValue=function(){var t="date-input-field-"+e.state.actionId;return document.getElementById(t).value},this.FormattedCurrencyInput=function(t){var a=t.inputRef,n=t.onChange,r=o(t,["inputRef","onChange"]);return p.default.createElement(_.default,c({},r,{getInputRef:a,onValueChange:function(e){n({target:{value:e.value}})},format:function(t){return(0,G.customCurrencyFormatter)(e.state.amount,"$")},decimalScale:8,allowNegative:!1}))}};s.propTypes={inputRef:g.default.func.isRequired,onChange:g.default.func.isRequired},oe.propTypes={classes:g.default.object.isRequired};var ie=(0,J.default)(ae,Z.default);t.default=(0,b.withStyles)(ie,{withTheme:!0})(oe)},6093:function(e,t,a){"use strict";function n(e,t){function a(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}function o(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]]);return a}t.b=n,a.d(t,"a",function(){return i}),t.c=o;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i.apply(this,arguments)}},6094:function(e,t,a){!function(t,n){e.exports=n(a(0))}(0,function(e){return function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return n(u).default}});var d=a(11),p=n(d),f=a(9),m=n(f),h=a(5),g=n(h),v=function(e){function t(){var e;r(this,t);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];var l=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return l.onBlur=l.onBlur.bind(l),l.onChange=l.onChange.bind(l),l}return l(t,e),c(t,[{key:"initTextMask",value:function(){var e=this.props,t=this.props.value;this.textMaskInputElement=(0,g.default)(s({inputElement:this.inputElement},e)),this.textMaskInputElement.update(t)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(){this.initTextMask()}},{key:"render",value:function(){var e=this,t=this.props,a=t.render,n=o(t,["render"]);return delete n.mask,delete n.guide,delete n.pipe,delete n.placeholderChar,delete n.keepCharPositions,delete n.value,delete n.onBlur,delete n.onChange,delete n.showMask,a(function(t){return e.inputElement=t},s({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},n))}},{key:"onChange",value:function(e){this.textMaskInputElement.update(),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"onBlur",value:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e)}}]),t}(p.default.Component);t.default=v,v.propTypes={mask:m.default.oneOfType([m.default.array,m.default.func,m.default.bool,m.default.shape({mask:m.default.oneOfType([m.default.array,m.default.func]),pipe:m.default.func})]).isRequired,guide:m.default.bool,value:m.default.oneOfType([m.default.string,m.default.number]),pipe:m.default.func,placeholderChar:m.default.string,keepCharPositions:m.default.bool,showMask:m.default.bool},v.defaultProps={render:function(e,t){return p.default.createElement("input",s({ref:e},t))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,r.isArray)(t)){if((void 0===t?"undefined":o(t))!==i.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,a),t=(0,r.processCaretTraps)(t).maskWithoutCaretTraps}var n=a.guide,c=void 0===n||n,u=a.previousConformedValue,d=void 0===u?s:u,p=a.placeholderChar,f=void 0===p?i.placeholderChar:p,m=a.placeholder,h=void 0===m?(0,r.convertMaskToPlaceholder)(t,f):m,g=a.currentCaretPosition,v=a.keepCharPositions,y=!1===c&&void 0!==d,b=e.length,C=d.length,E=h.length,S=t.length,w=b-C,x=w>0,O=g+(x?-w:0),k=O+Math.abs(w);if(!0===v&&!x){for(var D=s,I=O;I<k;I++)h[I]===f&&(D+=f);e=e.slice(0,O)+D+e.slice(O,b)}for(var T=e.split(s).map(function(e,t){return{char:e,isNew:t>=O&&t<k}}),N=b-1;N>=0;N--){var P=T[N].char;if(P!==f){P===h[N>=O&&C===S?N-w:N]&&T.splice(N,1)}}var A=s,j=!1;e:for(var M=0;M<E;M++){var F=h[M];if(F===f){if(T.length>0)for(;T.length>0;){var R=T.shift(),B=R.char,_=R.isNew;if(B===f&&!0!==y){A+=f;continue e}if(t[M].test(B)){if(!0===v&&!1!==_&&d!==s&&!1!==c&&x){for(var L=T.length,H=null,V=0;V<L;V++){var U=T[V];if(U.char!==f&&!1===U.isNew)break;if(U.char===f){H=V;break}}null!==H?(A+=B,T.splice(H,1)):M--}else A+=B;continue e}j=!0}!1===y&&(A+=h.substr(M,E));break}A+=F}if(y&&!1===x){for(var W=null,z=0;z<A.length;z++)h[z]===f&&(W=z);A=null!==W?A.substr(0,W+1):s}return{conformedValue:A,meta:{someCharsRejected:j}}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n;var r=a(3),i=a(1),l=[],s=""},function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.placeholderChar;if(!o(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map(function(e){return e instanceof RegExp?t:e}).join("")}function o(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function r(e){return"string"==typeof e||e instanceof String}function i(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)}function l(e){for(var t=[],a=void 0;-1!==(a=e.indexOf(u));)t.push(a),e.splice(a,1);return{maskWithoutCaretTraps:e,indexes:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=n,t.isArray=o,t.isString=r,t.isNumber=i,t.processCaretTraps=l;var s=a(1),c=[],u="[]"},function(e,t){"use strict";function a(e){var t=e.previousConformedValue,a=void 0===t?o:t,r=e.previousPlaceholder,i=void 0===r?o:r,l=e.currentCaretPosition,s=void 0===l?0:l,c=e.conformedValue,u=e.rawValue,d=e.placeholderChar,p=e.placeholder,f=e.indexesOfPipedChars,m=void 0===f?n:f,h=e.caretTrapIndexes,g=void 0===h?n:h;if(0===s||!u.length)return 0;var v=u.length,y=a.length,b=p.length,C=c.length,E=v-y,S=E>0,w=0===y;if(E>1&&!S&&!w)return s;var x=S&&(a===c||c===p),O=0,k=void 0,D=void 0;if(x)O=s-E;else{var I=c.toLowerCase(),T=u.toLowerCase(),N=T.substr(0,s).split(o),P=N.filter(function(e){return-1!==I.indexOf(e)});D=P[P.length-1];var A=i.substr(0,P.length).split(o).filter(function(e){return e!==d}).length,j=p.substr(0,P.length).split(o).filter(function(e){return e!==d}).length,M=j!==A,F=void 0!==i[P.length-1]&&void 0!==p[P.length-2]&&i[P.length-1]!==d&&i[P.length-1]!==p[P.length-1]&&i[P.length-1]===p[P.length-2];!S&&(M||F)&&A>0&&p.indexOf(D)>-1&&void 0!==u[s]&&(k=!0,D=u[s]);for(var R=m.map(function(e){return I[e]}),B=R.filter(function(e){return e===D}).length,_=P.filter(function(e){return e===D}).length,L=p.substr(0,p.indexOf(d)).split(o).filter(function(e,t){return e===D&&u[t]!==e}).length,H=L+_+B+(k?1:0),V=0,U=0;U<C;U++){var W=I[U];if(O=U+1,W===D&&V++,V>=H)break}}if(S){for(var z=O,Y=O;Y<=b;Y++)if(p[Y]===d&&(z=Y),p[Y]===d||-1!==g.indexOf(Y)||Y===b)return z}else if(k){for(var K=O-1;K>=0;K--)if(c[K]===D||-1!==g.indexOf(K)||0===K)return K}else for(var G=O;G>=0;G--)if(p[G-1]===d||-1!==g.indexOf(G)||0===G)return G}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=[],o=""},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=n.inputElement,c=n.mask,d=n.guide,g=n.pipe,y=n.placeholderChar,b=void 0===y?m.placeholderChar:y,C=n.keepCharPositions,E=void 0!==C&&C,S=n.showMask,w=void 0!==S&&S;if(void 0===a&&(a=o.value),a!==t.previousConformedValue){(void 0===c?"undefined":s(c))===v&&void 0!==c.pipe&&void 0!==c.mask&&(g=c.pipe,c=c.mask);var x=void 0,O=void 0;if(c instanceof Array&&(x=(0,f.convertMaskToPlaceholder)(c,b)),!1!==c){var k=i(a),D=o.selectionEnd,I=t.previousConformedValue,T=t.previousPlaceholder,N=void 0;if((void 0===c?"undefined":s(c))===m.strFunction){if(!1===(O=c(k,{currentCaretPosition:D,previousConformedValue:I,placeholderChar:b})))return;var P=(0,f.processCaretTraps)(O),A=P.maskWithoutCaretTraps,j=P.indexes;O=A,N=j,x=(0,f.convertMaskToPlaceholder)(O,b)}else O=c;var M={previousConformedValue:I,guide:d,placeholderChar:b,pipe:g,placeholder:x,currentCaretPosition:D,keepCharPositions:E},F=(0,p.default)(k,O,M),R=F.conformedValue,B=(void 0===g?"undefined":s(g))===m.strFunction,_={};B&&(_=g(R,l({rawValue:k},M)),!1===_?_={value:I,rejected:!0}:(0,f.isString)(_)&&(_={value:_}));var L=B?_.value:R,H=(0,u.default)({previousConformedValue:I,previousPlaceholder:T,conformedValue:L,placeholder:x,rawValue:k,currentCaretPosition:D,placeholderChar:b,indexesOfPipedChars:_.indexesOfPipedChars,caretTrapIndexes:N}),V=L===x&&0===H,U=w?x:h,W=V?U:L;t.previousConformedValue=W,t.previousPlaceholder=x,o.value!==W&&(o.value=W,r(o,H))}}}}}function r(e,t){document.activeElement===e&&(y?b(function(){return e.setSelectionRange(t,t,g)},0):e.setSelectionRange(t,t,g))}function i(e){if((0,f.isString)(e))return e;if((0,f.isNumber)(e))return String(e);if(void 0===e||null===e)return h;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=o;var c=a(4),u=n(c),d=a(2),p=n(d),f=a(3),m=a(1),h="",g="none",v="object",y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout},function(e,t){"use strict";function a(e){return function(){return e}}var n=function(){};n.thatReturns=a,n.thatReturnsFalse=a(!1),n.thatReturnsTrue=a(!0),n.thatReturnsNull=a(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,a){"use strict";function n(e,t,a,n,r,i,l,s){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,n,r,i,l,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};e.exports=n},function(e,t,a){"use strict";var n=a(6),o=a(7),r=a(10);e.exports=function(){function e(e,t,a,n,i,l){l!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t,a){"use strict";"function"==typeof Symbol&&Symbol.iterator,e.exports=a(8)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,a){t.exports=e}])})},6095:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=n(a(6096)),r=n(a(6098)),i=n(a(332)),l=n(a(56));e.exports={Transition:l.default,TransitionGroup:i.default,ReplaceTransition:r.default,CSSTransition:o.default}},6096:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}t.__esModule=!0,t.default=void 0;var i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}t.default=e}(a(4)),n(a(6078))),l=n(a(6079)),s=n(a(0)),c=n(a(56)),u=(a(347),function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,i.default)(e,t)})}),d=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,l.default)(e,t)})},p=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,t.onEnter=function(e,a){var n=t.getClassNames(a?"appear":"enter"),o=n.className;t.removeClasses(e,"exit"),u(e,o),t.props.onEnter&&t.props.onEnter(e)},t.onEntering=function(e,a){var n=t.getClassNames(a?"appear":"enter"),o=n.activeClassName;t.reflowAndAddClass(e,o),t.props.onEntering&&t.props.onEntering(e)},t.onEntered=function(e,a){var n=t.getClassNames("enter"),o=n.doneClassName;t.removeClasses(e,a?"appear":"enter"),u(e,o),t.props.onEntered&&t.props.onEntered(e)},t.onExit=function(e){var a=t.getClassNames("exit"),n=a.className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.getClassNames("exit"),n=a.activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.getClassNames("exit"),n=a.doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var a=t.props.classNames,n="string"!=typeof a?a[e]:a+"-"+e;return{className:n,activeClassName:"string"!=typeof a?a[e+"Active"]:n+"-active",doneClassName:"string"!=typeof a?a[e+"Done"]:n+"-done"}},t}o(t,e);var a=t.prototype;return a.removeClasses=function(e,t){var a=this.getClassNames(t),n=a.className,o=a.activeClassName,r=a.doneClassName;n&&d(e,n),o&&d(e,o),r&&d(e,r)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},a.render=function(){var e=r({},this.props);return delete e.classNames,s.default.createElement(c.default,r({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.default.Component);p.propTypes={};var f=p;t.default=f,e.exports=t.default},6097:function(e,t,a){"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.__esModule=!0,t.default=n,e.exports=t.default},6098:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var i=(n(a(4)),n(a(0))),l=a(20),s=n(a(332)),c=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,t.handleEnter=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEnter",0,a)},t.handleEntering=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEntering",0,a)},t.handleEntered=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEntered",0,a)},t.handleExit=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExit",1,a)},t.handleExiting=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExiting",1,a)},t.handleExited=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExited",1,a)},t}r(t,e);var a=t.prototype;return a.handleLifecycle=function(e,t,a){var n,o=this.props.children,r=i.default.Children.toArray(o)[t];r.props[e]&&(n=r.props)[e].apply(n,a),this.props[e]&&this.props[e]((0,l.findDOMNode)(this))},a.render=function(){var e=this.props,t=e.children,a=e.in,n=o(e,["children","in"]),r=i.default.Children.toArray(t),l=r[0],c=r[1];return delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,i.default.createElement(s.default,n,a?i.default.cloneElement(l,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):i.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(i.default.Component);c.propTypes={};var u=c;t.default=u,e.exports=t.default},6099:function(e,t,a){"use strict";function n(){}function o(){return!0}function r(e){return!!(e||"").match(/\d/)}function i(e){return e.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&")}function l(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a="-"===e[0],n=a&&t;e=e.replace("-","");var o=e.split(".");return{beforeDecimal:o[0],afterDecimal:o[1]||"",hasNagation:a,addNegation:n}}function c(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var a=e.split("."),n=a[0].replace(/^0+/,"")||"0",o=a[1]||"";return"".concat(t?"-":"").concat(n).concat(o?".".concat(o):"")}function u(e,t,a){for(var n="",o=a?"0":"",r=0;r<=t-1;r++)n+=e[r]||o;return n}function d(e,t,a){if(-1!==["","-"].indexOf(e))return e;var n=-1!==e.indexOf(".")&&t,o=s(e),r=o.beforeDecimal,i=o.afterDecimal,l=o.hasNagation,c=parseFloat("0.".concat(i||"0")).toFixed(t).split("."),d=r.split("").reverse().reduce(function(e,t,a){return e.length>a?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e},c[0]),p=u(c[1]||"",Math.min(t,i.length),a),f=l?"-":"",m=n?".":"";return"".concat(f).concat(d).concat(m).concat(p)}function p(e,t){var a={};return Object.keys(e).forEach(function(n){t[n]||(a[n]=e[n])}),a}function f(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var a=e.createTextRange();return a.move("character",t),a.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}function m(e,t){for(var a=0,n=0,o=e.length,r=t.length;e[a]===t[a]&&a<o;)a++;for(;e[o-1-n]===t[r-1-n]&&r-n>a&&o-n>a;)n++;return{start:a,end:o-n}}function h(e,t,a){return Math.min(Math.max(e,t),a)}function g(e){return Math.max(e.selectionStart,e.selectionEnd)}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=n,t.returnTrue=o,t.charIsNumber=r,t.escapeRegExp=i,t.getThousandsGroupRegex=l,t.splitDecimal=s,t.fixLeadingZero=c,t.limitToScale=u,t.roundToPrecision=d,t.omit=p,t.setCaretPosition=f,t.findChangedIndex=m,t.clamp=h,t.getCurrentCaretPosition=g},6100:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(42),d=n(u),p=a(4),f=n(p),m=a(19),h=a(166),g=a(21),v=n(g),y=a(169),b=(n(y),a(171)),C=(n(b),a(172)),E=(n(C),a(331)),S=n(E),w=a(41),x=n(w),O=a(40),k=n(O),D=a(29),I=n(D),T=a(116),N=n(T),P=a(170),A=n(P),j=a(326),M=n(j),F=a(86),R=n(F),B=a(330),_=n(B),L=a(175),H=a(115),V=a(31),U=n(V),W=a(32),z=n(W),Y=a(8),K=(n(Y),{summary:{summary:""},reasonCodeList:"",correctInvoices:"",incorrectFlag:"",toggleExpand:""}),G=/(\d* invoice)|(because of .*)/g,q="Dispute raised for <Invoices> because of : <DISPUTE-REASON>",X="Create Dispute for <Invoices> because of <ReasonCode>",J=function(e){return{selectMenuClass:{fontSize:"0.875rem",opacity:.65,color:e.palette.primary.main},menuItemRoot:{color:e.palette.primary.main+" !important"},menuPaper:{backgroundColor:e.palette.solidBackground.main,height:"20rem !important",overflowY:"auto",border:"2px solid white"},test:{width:"auto",padding:"0px",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6},actionProgressBar:{color:e.palette.primary.main,alignItems:"center",width:"1.5rem !important",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem !important"},textField:{margin:"0px",fontSize:"0.875rem",color:e.palette.primary.main},testInitial:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6,"&:before":{borderBottom:"2px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},cardContent:{color:e.palette.primary.main,opacity:.65},actionIcon:{color:e.palette.secondary.main},errorFlag:{color:"#FF4444",marginLeft:".5rem"},selectIcon:{color:e.palette.secondary.main},disableDoneBtn:{opacity:.4,cursor:"default"}}},Q=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Z.call(a);var n=a.props.summary&&a.props.summary.summary?a.props.summary.summary.match(G):"",i=n[1]?n[1].substring(11):"";return a.props.reasonCodeList.indexOf(i)<0&&(i=""),a.state={reasonCode:i,invoiceCount:a.props.invoiceCount,openActionSave:!1,openWarningDialog:!1,openNoReasonDialog:!1,openNoInvoiceDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:"",change:!1},a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({incorrectFlag:e.incorrectFlag}),e.invoiceCount>=0&&e.invoiceCount!=this.state.invoiceCount&&this.setState({invoiceCount:e.invoiceCount},function(){t.updateSummary()})}},{key:"render",value:function(){var e=this.props.classes,t=(this.props.summary,this.props.fullScreen),a=this.props.reasonCodeList,n=a&&a.map(function(t,a){return c.default.createElement(A.default,{key:a,classes:{root:e.menuItemRoot},value:t},t)});return c.default.createElement(I.default,{container:!0,className:e.invoiceSample},c.default.createElement(I.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},c.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&c.default.createElement(R.default,{className:e.actionProgressBar}),this.state.isDone&&c.default.createElement(h.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),c.default.createElement(I.default,{item:!0},this.state.isDone&&c.default.createElement(v.default,{style:{opacity:1},className:e.cardContent},"Created  ")),c.default.createElement(I.default,{item:!0},!this.state.isDone&&c.default.createElement(v.default,{style:{opacity:1},className:e.cardContent},"Create  ")),c.default.createElement(I.default,{item:!0},c.default.createElement(v.default,{style:{fontWeight:"bold",opacity:1},className:e.cardContent},"DISPUTE  ")),c.default.createElement(I.default,{item:!0},0!==this.state.invoiceCount&&c.default.createElement("div",{style:{alignItems:"center",display:"flex"}},c.default.createElement(v.default,{style:{margin:"0 8px 0 6px"},className:e.cardContent},"for"),c.default.createElement(v.default,{style:{fontWeight:"bold"},className:e.cardContent,onClick:this.props.toggleExpand},this.state.invoiceCount+" Invoice"+(this.state.invoiceCount>1?"s":"")),this.props.incorrectFlag&&c.default.createElement(S.default,{className:e.errorFlag}))),c.default.createElement(I.default,{item:!0},c.default.createElement(v.default,{className:e.cardContent},"  with reason code of  ")),c.default.createElement(I.default,{item:!0,hidden:this.state.isDone},c.default.createElement(N.default,{id:"reason-code-field",value:this.getReasonCode(),onChange:this.handleReasonCodeChange,className:this.state.reasonCode?e.test:e.testInitial,classes:{selectMenu:e.selectMenuClass,icon:e.selectIcon},MenuProps:{classes:{paper:e.menuPaper}}},c.default.createElement(A.default,{classes:{root:e.menuItemRoot},value:"Select",disabled:!0},"Select"),n)),c.default.createElement(I.default,{item:!0,hidden:!this.state.isDone},c.default.createElement(M.default,{id:"reason-code-field-"+this.state.actionId,className:e.selectedReason,value:this.state.reasonCode,margin:"normal",padding:"normal",InputProps:{className:e.test,readOnly:!0,disableUnderline:!0}}))),c.default.createElement(_.default,{fullScreen:t,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),c.default.createElement(_.default,{fullScreen:t,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeWarningDialog,color:"primary",autoFocus:!0},"OK")]}),c.default.createElement(_.default,{fullScreen:t,open:this.state.openNoReasonDialog,onClose:this.closeNoReasonDialog,title:"Please select appropriate dispute reason.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeNoReasonDialog,color:"secondary",autoFocus:!0},"OK")]}),c.default.createElement(_.default,{fullScreen:t,open:this.state.openNoInvoiceDialog,onClose:this.closeNoInvoiceDialog,title:"No invoice selected. Please add at least an invoice to save the dispute.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeNoInvoiceDialog,color:"secondary",autoFocus:!0},"OK")]}),c.default.createElement(I.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&c.default.createElement("div",null,c.default.createElement(h.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),c.default.createElement(h.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.reasonCode?"":e.disableDoneBtn,onClick:this.state.reasonCode?this.saveDispute:H.emptyFunction}))))}}]),t}(s.Component),Z=function(){var e=this;this.saveDispute=function(){var t=e.props.correctInvoices.map(function(e){var t={};return t.cmsDocHeaderId=e.id,t});if(e.props.incorrectFlag)return void e.setState({openWarningDialog:!0});if(!e.state.reasonCode)return void e.setState({openNoReasonDialog:!0});if(0==e.state.invoiceCount)return void e.setState({openNoInvoiceDialog:!0});e.setState({actionSaveProgressBar:!0});var a={reasonCode:e.state.reasonCode,customerId:e.props.customer.id,disputeItems:t};x.default.post(k.default.apiUrl+"/customer/"+e.props.customer.id+"/dispute",a).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1})})},this.generateActionSummary=function(){var t=e.state.invoiceCount;return q.replace("<DISPUTE-REASON>",e.state.reasonCode).replace("<Invoices>",1==t?t+" invoice":t+" invoices")},this.updateSummary=function(){var t=e.state.invoiceCount,a=((0,L.format)(new Date(e.state.selectedDate),"yyyy-MM-dd"),X.replace("<Invoices>",0===t?"<X invoices>":1===t?t+" invoice":t+" invoices").replace("<ReasonCode>",e.state.reasonCode));e.props.updateSummaryInParent(a)},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.closeNoReasonDialog=function(){e.setState({openNoReasonDialog:!1})},this.closeNoInvoiceDialog=function(){e.setState({openNoInvoiceDialog:!1})},this.handleReasonCodeChange=function(t){e.setState({change:!0,reasonCode:t.target.value},function(){e.updateSummary()})},this.getReasonCode=function(){var t=e.props.reasonCodeList;return e.state.reasonCode&&t.indexOf(e.state.reasonCode)>=0?e.state.reasonCode:"Select"}};Q.propTypes={classes:f.default.object.isRequired},Q.defaultProps=K;var $=(0,U.default)(J,z.default);t.default=(0,m.withStyles)($,{withTheme:!0})(Q)},6101:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.inputRef,a=e.onChange,n=o(e,["inputRef","onChange"]);return p.default.createElement(j.default,c({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$"}))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),p=n(d),f=a(42),m=n(f),h=a(4),g=n(h),v=a(19),y=a(166),b=a(6076),C=n(b),E=a(6077),S=a(23),w=a(333),x=n(w),O=a(21),k=n(O),D=a(326),I=(n(D),a(41)),T=n(I),N=a(40),P=n(N),A=a(6080),j=n(A),M=a(29),F=n(M),R=a(116),B=n(R),_=a(170),L=n(_),H=a(86),V=n(H),U=a(330),W=n(U),z=a(175),Y=a(115),K=a(49),G=a(31),q=n(G),X=a(32),J=n(X),Q=a(8),Z=(n(Q),/(\d{4}-\d{2}-\d{2}T[\d{2}:]*.\d{3}[-|+]\d{2}:\d{2})|(reason: .*)/g),$="Follow up  <Contact Name> <Followup Date> <Followup Text>",ee="Create Followup event for <Followup Date> reason: <Followup Text>",te=(new Date,function(e){return{selectMenuClass:{fontSize:"0.875rem",opacity:.65,color:e.palette.primary.main},menuItemRoot:{color:e.palette.primary.main},menuPaper:{backgroundColor:e.palette.solidBackground.main,height:"20rem !important",overflowY:"auto",border:"2px solid white"},test:{width:"auto",padding:"0px",color:e.palette.primary.main,opacity:.6,fontSize:"0.875rem","&:before":{borderBottom:"1px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},testInitial:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6,"&:before":{borderBottom:"1px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},actionProgressBar:{color:e.palette.primary.main,alignItems:"center",width:"1.5rem !important",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem !important"},cardContent:{color:e.palette.primary.main,opacity:.65},actionIcon:{color:e.palette.secondary.main},selectIcon:{color:e.palette.secondary.main},disableDoneBtn:{opacity:.4,cursor:"default"}}}),ae=(0,S.createMuiTheme)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:x.default.A200,height:"13vh"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:x.default.A700},selected:{backgroundColor:x.default[400]},current:{color:x.default[900]}},MuiFormHelperText:{error:{color:"#FF8888 !important"}},MuiPickersModal:{dialogAction:{color:x.default[400]}}}}),ne=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));oe.call(a);var n=a.props.summary.summary.match(Z),o="",l="";return n&&n.length>0&&(o=new Date(n[0]),l=n[1]?n[1].substring(8):null),a.props.followupTextList.indexOf(l)<0&&(l=""),a.state={readOnly:!0,isEditing:!1,followupText:l,selectedDate:new Date(o),openActionSave:!1,openWarningDialog:!1,openInvalidDateDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:a.props.summary.save?(0,z.format)(new Date(n[0]),"MMM dd, yyyy"):"",actionSaveProgressBar:!1,incorrectFlag:null},a}return l(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({incorrectFlag:e.incorrectFlag})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props,n=(a.summary,a.theme),o=this.props.fullScreen,r=this.props.followupTextList,i=r.map(function(e,a){return p.default.createElement(L.default,{key:"followupText"+a,value:e,classes:{root:t.menuItemRoot}},e)});return p.default.createElement(F.default,{container:!0,className:t.invoiceSample},p.default.createElement(F.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&p.default.createElement(V.default,{className:t.actionProgressBar}),this.state.isDone&&p.default.createElement(y.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),p.default.createElement(F.default,{item:!0},this.state.isDone&&p.default.createElement(k.default,{style:{opacity:1},className:t.cardContent},"Created  ")),p.default.createElement(F.default,{item:!0},!this.state.isDone&&p.default.createElement(k.default,{style:{opacity:1},className:t.cardContent},"Create  ")),p.default.createElement(F.default,{item:!0},p.default.createElement(k.default,{style:{opacity:1},className:t.cardContent},"FOLLOW-UP  ")),p.default.createElement(F.default,{item:!0},p.default.createElement(k.default,{className:t.cardContent},"event for  ")),p.default.createElement(F.default,{item:!0}," ",this.state.isDone&&p.default.createElement(k.default,{style:{fontWeight:"bold",color:n.palette.primary.main}},this.state.finalSelectedDate)),p.default.createElement(F.default,{item:!0},!this.state.isDone&&p.default.createElement(E.MuiPickersUtilsProvider,{utils:C.default},p.default.createElement(S.MuiThemeProvider,{theme:ae},p.default.createElement(E.DatePicker,{style:{maxWidth:"5.35rem"},allowKeyboardControl:Boolean(!1),format:"MMM dd, yyyy",minDateMessage:"Previous date not acceptable",InputProps:{id:"date-input-field-"+this.state.actionId,className:t.test,readOnly:Boolean(!0),disableUnderline:Boolean(!0)},ref:function(t){e.picker=t},value:this.state.selectedDate,onChange:this.handleDateChange,animateYearScrolling:!1,minDate:new Date}),p.default.createElement(y.DateRange,{className:t.actionIcon,onClick:this.openPicker})))),p.default.createElement(F.default,{item:!0,hidden:this.state.isDone&&!this.state.followupText},p.default.createElement(k.default,{className:t.cardContent},"  for  ")),p.default.createElement(F.default,{item:!0,hidden:this.state.isDone},p.default.createElement(B.default,{id:"followup-text-field",value:this.getFollowupText(),onChange:this.handleFollowupTextChange,classes:{selectMenu:t.selectMenuClass,icon:t.selectIcon},className:this.state.followupText?t.test:t.testInitial,MenuProps:{classes:{paper:t.menuPaper}}},p.default.createElement(L.default,{classes:{root:t.menuItemRoot},value:"Select",disabled:!0},"Select"),i)),p.default.createElement(F.default,{item:!0,hidden:!this.state.isDone},p.default.createElement(k.default,{className:t.selectMenuClass},this.state.followupText))),p.default.createElement(W.default,{fullScreen:o,open:this.state.openNoTextDialog,onClose:this.closeNoTextDialog,title:"Please select appropriate followup reason.",actions:[p.default.createElement(m.default,{onClick:this.closeNoTextDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(W.default,{fullScreen:o,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[p.default.createElement(m.default,{onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),p.default.createElement(m.default,{onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),p.default.createElement(W.default,{fullScreen:o,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[p.default.createElement(m.default,{onClick:this.closeWarningDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(W.default,{fullScreen:o,open:this.state.openInvalidDateDialog,onClose:this.closeInvalidDateDialog,title:"Found invalid date. Please correct the date to proceed.",actions:[p.default.createElement(m.default,{onClick:this.closeInvalidDateDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(F.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(y.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),p.default.createElement(y.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.followupText?"":t.disableDoneBtn,onClick:this.state.followupText?this.saveFollowup:Y.emptyFunction}))))}}]),t}(d.Component),oe=function(){var e=this;this.validateFollowupData=function(){return e.state.incorrectFlag?(e.setState({openWarningDialog:!0}),!1):!!(0,K.isValidDate)(e.state.selectedDate)||(e.setState({openInvalidDateDialog:!0}),!1)},this.saveFollowup=function(){if(e.validateFollowupData()){if(!e.state.followupText)return void e.setState({openNoTextDialog:!0});e.setState({actionSaveProgressBar:!0});var t=new Date(e.state.selectedDate),a=(0,z.format)(t,"yyyy-MM-dd"),n={dueDate:a,reminderDate:a,subject:e.state.followupText};T.default.post(P.default.apiUrl+"/customer/"+e.props.customer.id+"/task",n).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({finalSelectedDate:e.getDateFieldValue()},function(){e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1})})}},this.generateActionSummary=function(){var t=(e.state.invoiceCount,e.props.calledToNumber),a="Unknown "!=e.props.callToName&&"Unnamed Unnamed"!=e.props.callToName||!t?e.props.callToName:t;return $.replace("<Contact Name>",a).replace("<Followup Date>",e.state.selectedDate?"on "+(0,z.format)(e.state.selectedDate,"MM-dd-yyyy"):"").replace("<Followup Text>",e.state.followupText?"for "+e.state.followupText:"")},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.closeNoTextDialog=function(){e.setState({openNoTextDialog:!1})},this.closeInvalidDateDialog=function(){e.setState({openInvalidDateDialog:!1})},this.toggleEditing=function(t){e.setState({readOnly:!1,isEditing:!0},function(){document.getElementById("invoice-amount-field-"+e.state.actionId).focus()})},this.handleDateChange=function(t){e.setState({selectedDate:t},function(){e.updateSummary()})},this.getDateFieldValue=function(){var t="date-input-field-"+e.state.actionId;return document.getElementById(t).value},this.handleFollowupTextChange=function(t){e.setState({change:!0,followupText:t.target.value},function(){e.updateSummary()})},this.getFollowupText=function(){var t=e.props.followupTextList;return e.state.followupText&&t.indexOf(e.state.followupText)>=0?e.state.followupText:"Select"},this.updateSummary=function(){var t=(e.state.invoiceCount,(0,z.format)(new Date(e.state.selectedDate),"yyyy-MM-dd")),a=ee.replace("<Followup Date>",t).replace("<Followup Text>",e.state.followupText?e.state.followupText:"");e.props.updateSummaryInParent(a)},this.openPicker=function(t){e.picker.open(t)}};s.propTypes={inputRef:g.default.func.isRequired,onChange:g.default.func.isRequired},ne.propTypes={classes:g.default.object.isRequired};var re=(0,q.default)(te,J.default);t.default=(0,v.withStyles)(re,{withTheme:!0})(ne)},6102:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"73vw",border:e.palette.primary.main+" 2px solid"}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),f=a(19),m=a(328),h=n(m),g=a(329),v=n(g),y=a(327),b=n(y),C=a(354),E=(n(C),a(29)),S=n(E),w=a(356),x=(n(w),a(353)),O=(n(x),a(357)),k=(n(O),a(68)),D=n(k),I=a(42),T=n(I),N=a(167),P=(n(N),a(72)),A=(n(P),a(118)),j=(n(A),a(21)),M=n(j),F=a(331),R=n(F),B=a(169),_=n(B),L=a(171),H=n(L),V=a(172),U=n(V),W=a(71),z=n(W),Y=a(6081),K=n(Y),G=a(339),q=n(G),X=a(55),J=a(49),Q=a(6103),Z=(n(Q),/(Promise to pay for \d*)|([0-9]{4}[-][0-9]{2}[-][0-9]{2})|(\d* invoice)/g),$=/(\d* invoice)|(because of .*)/g,ee=function(e){return{invoiceHeader:{height:"6.48148148148vh",display:"flex",alignItems:"center",backgroundColor:e.palette.solidBackground.main,borderBottom:"#395C73 solid 1px",paddingLeft:"3rem"},checkedIcon:{color:e.palette.secondary.main,zIndex:"3",height:"calc(1.2vh + 1.2vw)",width:"calc(1.2vh + 1.2vw)"},invoiceList:{width:"auto",height:"auto",marginTop:"1rem",marginBottom:"1.9rem",justifyContent:"space-around",overflow:"hidden",paddingLeft:"3rem"},correction:{display:"flex"},correctionAlert:{color:"#FF8888",marginLeft:".5rem"},errorFlag:{color:"#FF4444",marginLeft:".5rem"},gridList:{width:"100%",height:"100%",margin:"10px 0px -2px -.4rem !important"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",alignItems:"center",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px"},selectedGridListDiv:{backgroundColor:"#39586F"},incorrectDiv:{display:"flex",border:"#FF8888 dashed 1px",width:"15.41vw",height:"7.40vh",alignItems:"center"},paper:{position:"absolute",width:100*e.spacing.unit,backgroundColor:e.palette.solidBackground.main,boxShadow:e.shadows[5],padding:1*e.spacing.unit,paddingLeft:0,paddingRight:0},button:{color:e.palette.primary.main,marginRight:"2em",fontSize:"0.888rem"},addIcon:{width:"calc(1.1vh + 1.1vw)",height:"calc(1.1vh + 1.1vw)",color:e.palette.secondary.main},primaryText:{color:e.palette.primary.main}}},te=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ae.call(a);var n=a.props.sum,i=a.props.intentType,l=void 0;if("P2P"==i){l=n.summary.match(Z)[0].match(/[0-9]{1,}/),l||(l=0)}var s=new Map,c=a.props.correctInvoices;if(c)for(var u=0;u<c.length;u++){var d=c[u];s.set(d.id.toString(),!1)}if("Dispute"==i){var p=n.summary.match($),f=p[1]?p[1].substring(11):"General Dispute";f||(f="General Dispute")}return a.state={allInvoicesSelected:!1,invoicesCheckboxMap:s,totalAmount:l,invoiceCount:a.props.invoiceCount,correctInvoices:a.props.correctInvoices,correctInvoicesMap:a.props.correctInvoicesMap,incorrectFlag:a.props.incorrectFlag,isMessageDialogOpen:!1,openAddInvoiceModal:!1,invoices:a.props.invoices,allInvoices:a.props.invoices,executeAppendInvoice:!1},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{style:{width:"100%"}},!this.props.done&&u.default.createElement("div",null,u.default.createElement(z.default,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openAddInvoiceModal,onClose:this.closeAddInvoiceModal},u.default.createElement("div",{style:l(n),className:a.paper},u.default.createElement("div",{style:{width:"100%",display:"flex",alignItem:"center",borderBottom:"1px solid  #395C73 ",padding:".2rem 0 .6rem 0"}},u.default.createElement("span",{style:{marginLeft:"1rem",fontSize:"1.3rem",color:n.palette.primary.main,opacity:.65}},"Select and Add Invoices"),u.default.createElement(q.default,{onClick:this.closeAddInvoiceModal,style:{position:"fixed",right:"5%",opacity:.65,cursor:"pointer",color:n.palette.primary.main}})),u.default.createElement(K.default,{setSelectedInvoices:this.setSelectedInvoices,postCall:!0,appendInvoices:this.appendInvoices,filterInvoices:this.filterInvoices,bucketNames:this.props.bucketNames,invoices:this.state.invoices,correctInvoicesMap:this.state.correctInvoicesMap}),u.default.createElement(S.default,{container:!0,xs:12,justify:"flex-end",alignItems:"center",style:{borderTop:"1px solid #395C73",paddingTop:".6rem"}},u.default.createElement(T.default,{variant:"contained",color:"secondary",className:a.button,onClick:function(){return e.appendInvoices(e.state.selectedInvoices)}},"Save ",this.selectedInvoicesLength())))),u.default.createElement("div",{className:a.invoiceHeader},u.default.createElement("div",{style:{display:"flex",alignItems:"center",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},this.state.invoiceCount>0&&u.default.createElement("div",{style:{display:"flex",alignItems:"center",color:n.palette.secondary.main,paddingRight:"1.56vw"}},u.default.createElement(b.default,{style:{padding:"0px"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.allInvoicesSelected,onClick:this.handleAllSelection}),u.default.createElement(M.default,{className:a.primaryText}," Select all")),u.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u.default.createElement(T.default,{variant:"outlined",color:"secondary",size:"small",style:{height:"4.44vh",paddingLeft:"0.666rem",paddingRight:"0.666rem"},onClick:this.openAddInvoiceModal},u.default.createElement(M.default,{style:{marginLeft:"4px",marginRight:"4px",fontSize:".89rem",color:n.palette.secondary.main}},"Select Invoices"))),u.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u.default.createElement(T.default,{variant:"outlined",color:"secondary",size:"small",style:{height:"4.44vh",marginLeft:"1rem",padding:"0 0.666rem"},onClick:this.deleteAllSelection},u.default.createElement(D.default,{className:a.addIcon}),u.default.createElement(M.default,{style:{marginLeft:"4px",fontSize:".89rem",color:n.palette.secondary.main}},"Remove")))))),u.default.createElement("div",{className:a.invoiceList},u.default.createElement("div",{className:a.correction},u.default.createElement(M.default,{className:a.primaryText},this.state.invoiceCount," ",this.state.invoiceCount>1?"Invoices ":"Invoice "),("P2P"==this.props.intentType||"Dispute"==this.props.intentType)&&u.default.createElement(M.default,{style:{opacity:.5},className:a.primaryText}," ($",this.calculateAmount(),")"),this.state.incorrectFlag&&u.default.createElement("div",{style:{display:"flex",marginLeft:".5rem",alignItems:"center"}},u.default.createElement(R.default,{className:a.errorFlag}),u.default.createElement(M.default,{className:a.correctionAlert},"Correction Required(",this.state.correctInvoices.length-Object.keys(this.state.correctInvoicesMap).length,")"))),u.default.createElement(h.default,{cellHeight:"auto",className:a.gridList},this.state.correctInvoices.map(function(t){return u.default.createElement(v.default,{cols:1,key:t.id,style:{height:"auto",width:"16vw",margin:"0.4rem"}},u.default.createElement("div",{className:t.id in e.state.correctInvoicesMap?e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected?classNames(a.selectedGridListDiv,a.gridListDiv):a.gridListDiv:a.incorrectDiv},!e.props.done&&u.default.createElement(b.default,{style:{padding:"2px",left:"3%",alignItems:"center"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),disabled:!(t.id in e.state.correctInvoicesMap),checked:e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected,onClick:function(){return e.toggleCheckbox(t.id.toString())}}),u.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},u.default.createElement(M.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.5,lineHeight:"1.7rem"}},t.documentNumber),u.default.createElement(M.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",t.id in e.state.correctInvoicesMap?(0,X.formatter)(t.currentOpenAmount):"----")),!e.props.done&&u.default.createElement(D.default,{style:{position:"absolute",right:"10%",top:"27%",width:"calc(.8vh + .8vw)",height:"calc(.8vh + .8vw)"},className:a.addIcon,onClick:function(){e.deleteInvoice(t.id)}})))}))),u.default.createElement(_.default,{open:this.state.isMessageDialogOpen,onClose:this.handleMessageDialog,"aria-labelledby":"responsive-dialog-title"},u.default.createElement(U.default,{id:"responsive-dialog-title"},"Please select some invoices."),u.default.createElement(H.default,null,u.default.createElement(T.default,{onClick:this.handleMessageDialog,color:"default"},"OK"))))}}]),t}(c.Component),ae=function(){var e=this;this.setSelectedInvoices=function(t){e.setState({selectedInvoices:t})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0;for(var n in t)1==t[n]&&a++;if(0!=a)return"("+a+")"},this.filterInvoices=function(t){if("All"==t)e.setState({invoices:e.state.allInvoices});else{for(var a=e.state.allInvoices,n=[],o=0;o<a.length;o++){for(var r=[],i=0;i<a[o].length;i++)"Dispute"==t&&null!=a[o][i].disputeStatus?r.push(a[o][i]):"Predicted Delinquent"==t&&1==a[o][i].p2pDelinquent?r.push(a[o][i]):"Upcoming P2P"==t&&1==a[o][i].p2pUpcoming?r.push(a[o][i]):"Broken P2P"==t&&1==a[o][i].p2pBroken&&r.push(a[o][i]);n.push(r)}e.setState({invoices:n})}},this.toggleCheckbox=function(t){var a=e.state.invoicesCheckboxMap.get(t),n=e.state.invoicesCheckboxMap;n.set(t,!a);var o=!0;e.setState({invoicesCheckboxMap:n},function(){var t=!0,a=!1,r=void 0;try{for(var i,l=n.keys()[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var s=i.value;if(!n.get(s)){o=!1;break}}}catch(e){a=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw r}}e.setState({allInvoicesSelected:o})})},this.deleteInvoice=function(t){var a=e.state.correctInvoicesMap;for(var n in a)if(n==t){delete a[n];break}var o=e.state.invoicesCheckboxMap;o.delete(t),e.setState({invoicesCheckboxMap:o,correctInvoices:e.state.correctInvoices.filter(function(e){return e.id!=t}),correctInvoicesMap:a},function(){e.updateInvoicesThings(t),e.props.updateInvoices(e.state.correctInvoices,a)})},this.handleAllSelection=function(){var t=e.state.invoicesCheckboxMap;e.setState(function(e){return{allInvoicesSelected:!e.allInvoicesSelected}},function(){var a=!0,n=!1,o=void 0;try{for(var r,i=t.keys()[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var l=r.value;t.set(l,e.state.allInvoicesSelected)}}catch(e){n=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}e.setState({invoiceChecksMap:t})})},this.deleteAllSelection=function(){var t=e.state.correctInvoices.filter(function(t){return 1==e.state.invoicesCheckboxMap.get(t.id.toString())});if(0==t.length)return void e.setState({isMessageDialogOpen:!0});for(var a=e.state.correctInvoices.filter(function(t){return 0==e.state.invoicesCheckboxMap.get(t.id.toString())}),n=e.state.invoicesCheckboxMap,o=e.state.correctInvoicesMap,r=!1,i=a.length,l=!0,s=0,c=t.length;s<c;++s){var u=t[s].id.toString();n.delete(u),delete o[u]}e.setState({correctInvoices:a,invoicesCheckboxMap:n,correctInvoicesMap:o,invoiceCount:i},function(){for(var t=0;t<i;t++){if(!(a[t].id.toString()in o)){r=!0;break}}for(var s=0;s<i;s++){var c=a[s],u=c.id.toString();if(!n.get(u)){l=!1;break}}e.setState({incorrectFlag:r,allInvoicesSelected:l}),e.props.onUpdateInvoice(r,i),e.props.updateInvoices(e.state.correctInvoices,e.state.correctInvoicesMap)})},this.handleMessageDialog=function(){e.setState(function(e){return{isMessageDialogOpen:!e.isMessageDialogOpen}})},this.openAddInvoiceModal=function(){e.setState({openAddInvoiceModal:!0})},this.closeAddInvoiceModal=function(){e.setState({openAddInvoiceModal:!1})},this.appendInvoices=function(t){for(var a=e.state.correctInvoicesMap,n=e.state.correctInvoices.slice(0),o=e.state.invoicesCheckboxMap,r=0;r<e.state.correctInvoices.length;r++)e.state.correctInvoicesMap[e.state.correctInvoices[r].id]&&(n.splice(n.indexOf(e.state.correctInvoices[r]),1),o.delete(e.state.correctInvoices[r].id.toString()));e.setState({correctInvoices:n,correctInvoicesMap:{},invoicesCheckboxMap:o}),a={};for(var i in t)if(1==t[i])for(var l=!1,s=0;s<e.props.invoices.length&&!l;s++){for(var c=0;c<e.props.invoices[s].length;c++)if(e.props.invoices[s][c].id==i){n.push(e.props.invoices[s][c]),l=!0;break}a[i]=!0}if(t){var u=e.state.invoicesCheckboxMap;for(var d in t)1==t[d]&&u.set(d.toString(),!1);e.setState({invoicesCheckboxMap:u})}e.setState({correctInvoices:n,correctInvoicesMap:a,invoiceCount:n.length},function(){e.props.updateInvoices(e.state.correctInvoices,a)}),e.props.onUpdateInvoice(e.state.incorrectFlag,n.length),e.setState({openAddInvoiceModal:!1})},this.updateInvoicesThings=function(t){var a=e.state.correctInvoicesMap,n=!1,o=e.state.correctInvoices,r=o.length;if(delete a[t],0==r)return e.setState({incorrectFlag:!1,invoiceCount:0}),void e.props.onUpdateInvoice(!1,0);delete a[t],e.setState({correctInvoicesMap:a},function(){for(var t=0;t<r;t++){if(!(o[t].id in a)){n=!0;break}}e.setState({incorrectFlag:n,invoiceCount:r}),e.props.onUpdateInvoice(n,r)})},this.calculateAmount=function(){var t=0,a=e.state.correctInvoices;for(var n in a)t+=a[n].id in e.state.correctInvoicesMap?a[n].currentOpenAmount:0;return 0==t?0:(0,J.formatCurrencyToUSFormat)(t)}};te.propTypes={classes:p.default.object.isRequired},t.default=(0,f.withStyles)(ee,{withTheme:!0})(te)},6103:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(8),p=(n(d),a(55)),f=a(21),m=n(f),h=a(327),g=n(h),v=a(328),y=n(v),b=a(329),C=n(b),E=function(e){return{gridList:{width:"100%",height:"100%",margin:"0 -2px -2px -2px !important",overflow:"hidden"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{backgroundColor:"#39586F"},gridListTile:{height:"auto !important"}}},S={invoicesCheckboxMap:new Map,correctInvoicesMap:{},selectedInvoices:[],invoices:[],done:!0,inInvoiceTable:!1},w=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.addInvoice=function(e){a.props.addInvoice(e)},a.getClassOfGridListTile=function(e,t,n,o){return invoice.id in a.state.correctInvoicesMap?t.get(invoice.id.toString())||a.state.selectedInvoices[invoice.id]?classes.selectedGridListDiv:classes.gridListDiv:classes.incorrectDiv},a.state={invoices:a.props.invoices,selectedInvoices:a.props.selectedInvoices,correctInvoicesMap:a.props.correctInvoicesMap,invoicesCheckboxMap:a.props.invoicesCheckboxMap},a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({invoices:e.invoices,selectedInvoices:e.selectedInvoices,correctInvoicesMap:e.correctInvoicesMap,invoicesCheckboxMap:e.invoicesCheckboxMap})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return c.default.createElement(y.default,{cellHeight:"auto",className:a.gridList},this.state.correctInvoices.map(function(t){return c.default.createElement(C.default,{cols:1,key:t.id,style:{height:"auto",width:"16vw",margin:"0.4rem"}},c.default.createElement("div",{className:e.getClassOfGridListTile(e.state.correctInvoicesMap,e.state.invoicesCheckboxMap,t.id,e.state.selectedInvoices)},!e.props.done&&c.default.createElement(g.default,{style:{padding:"2px",left:"3%",alignItems:"center"},icon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),disabled:!(t.id in e.state.correctInvoicesMap),checked:e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected,onClick:function(){return e.toggleCheckbox(t.id.toString())}}),c.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},c.default.createElement(m.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.5,lineHeight:"1.7rem"}},t.documentNumber),c.default.createElement(m.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",t.id in e.state.correctInvoicesMap?(0,p.formatter)(t.currentOpenAmount):"----")),!(e.props.inInvoiceTable||e.props.done)&&c.default.createElement(Close,{style:{position:"absolute",right:"10%",top:"27%",width:"calc(.8vh + .8vw)",height:"calc(.8vh + .8vw)"},className:a.addIcon,onClick:function(){e.deleteInvoice(t.id)}})))}))}}]),t}(c.default.Component);w.defaultProps=S,t.default=(0,u.withStyles)(E,{withTheme:!0})(w)},6104:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),f=a(19),m=a(29),h=n(m),g=a(23),v=a(92),y=n(v),b=a(182),C=(n(b),a(335)),E=(n(C),a(181)),S=(n(E),a(166),a(40)),w=n(S),x=a(41),O=n(x),k=a(68),D=n(k),I=a(328),T=n(I),N=a(329),P=n(N),A=a(348),j=n(A),M=a(89),F=n(M),R=a(167),B=(n(R),a(168)),_=n(B),L=a(35),H=n(L),V=a(8),U=n(V),W=a(6105),z=(n(W),function(e){return{summaryNotesBox:{maxHeight:"90vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main},summaryNoteitems:{whiteSpace:"pre-line",marginTop:"1em",wordBreak:"break-word",overflowY:"auto",maxHeight:"75.5vh"},summaryNotesHeader:{fontSize:"1.0666rem",fontWeight:"normal",paddingTop:"2.22vh",paddingLeft:"1.026vw",lineHeight:"normal",color:e.palette.primary.main,opacity:.65},summaryEmailHeader:{alignItems:"center",display:"flex"},summaryEmail:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:".125rem",marginBottom:"1.3rem",height:"79vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main},summaryEmailForm:{padding:"0.5rem 0.5rem 0 0.5rem"},emailIdChipsInput:{borderBottom:"0.0625rem solid rgba(93, 170, 224, 0.5)"},emailAddLabel:{fontSize:"0.888rem",marginRight:"0.3em",opacity:.5,color:e.palette.secondary.main},emailIdChips:{height:"1.4em",fontSize:"0.888rem",paddingLeft:"0.1777rem",paddingRight:"0.1777rem",marginRight:"0.2em",backgroundColor:e.palette.secondary.main,color:e.palette.primary.main,"&> span":{fontSize:"0.9rem",marginRight:"0.3rem"},"&:hover, &:focus":{backgroundColor:e.palette.secondary.main},"&:active":{backgroundColor:e.palette.secondary.main}},invalidEmailIdChips:{height:"1.4em",fontSize:"0.888rem",paddingLeft:"0.1777rem",paddingRight:"0.1777rem",marginRight:"0.2em","&> span":{fontSize:"0.9rem",marginRight:"0.3rem"},backgroundColor:"#ff4444",color:e.palette.primary.main,"&:hover, &:focus":{backgroundColor:"#f73838"},"&:active":{backgroundColor:"#f73838"}},removeEmailId:{fontSize:"0.8em",color:e.palette.primary.main},emailIdInput:{marginRight:"0.3125rem",width:"38%",resize:"horizontal",color:e.palette.primary.main,fontSize:"0.9rem"},emailSubject:{borderBottom:"0.0625rem solid rgba(93, 170, 224, 0.5)",fontSize:"0.888rem",color:e.palette.primary.main,"&::placeholder":{color:"#a7a7a7"}},disabledSubjectInput:{fontSize:"0.888rem",color:e.palette.primary.main},summaryEmailBody:{height:"60vh",overflowY:"auto",overflowX:"hidden"},emailBodyText:{marginTop:"0.9rem",color:e.palette.primary.main+" !important"},invoiceCount:{marginBottom:"0.8rem"},invoiceAttachements:{height:"10vh"},gridListDiv:{display:"flex",border:e.palette.secondary.main+" solid 0.0625rem",padding:"0.25rem",borderRadius:"0.25rem"},summaryEmailFooter:{height:"7.4vh",width:"100%",display:"flex",flexDirection:"row-reverse",alignItems:"center",backgroundColor:" #2c414f;"},sendSummaryEmailBtn:{height:"2em",width:"6em",marginRight:"1.2rem",fontSize:"smaller",alignSelf:"center",color:e.palette.primary.main},disableIcon:{display:"none"},notesList:{color:e.palette.primary.main,paddingLeft:"0",marginLeft:"1.7rem"},emptySummaryText:{color:e.palette.primary.main},emptySummaryGrid:{height:"15vh",whiteSpace:"pre-line",wordBreak:"break-word"},warningLine:{display:"flex",alignItems:"center",fontWeight:500,color:e.palette.primary.main,fontSize:".8em",opacity:"0.65"},icon:{marginRight:".5vw"},hideOverflow:{overflow:"hidden"}}}),Y=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.componentDidMount=function(){var e=a.props,t=e.collector,n=e.summaryNotes,o=e.nonActionIncluded,r=a.state.emailAttachements.length>0?"Please find the mentioned invoices attached.":"",i="",l=t.firstName?a.props.collector.firstName:"",s=t.lastName?a.props.collector.lastName:"";for(var c in n){if(c==n.length-1&&o)break;i+=n[c].trim()?"\n• "+n[c]:""}i=i?"\nPlease find below the summary of our conversation:\n"+i+"\n\n"+r+"\n":"";var u=i?"Greetings,\n"+i+"\nRegards,\n"+l+" "+s:"",d=(u.match(/\n/g)||[]).length;a.setState({emailTemplateBody:u,emailBodyHeight:d+1})},a.handleTemplateChange=function(e){a.setState({emailTemplateName:e.target.value});var t=a.state.emailTemplates;console.log(e.target.value);for(var n=0;n<t.length;n++)if(t[n].name==e.target.value){a.setState({emailTemplateSubject:t[n].subject}),a.setState({emailTemplateBody:t[n].body}),a.setState({templateId:t[n].id});break}},a.handleEmailEnter=function(e){if(("blur"===e.type||"Enter"===e.key)&&e.target.value.trim()){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;e.target.value&&(e.target.value=e.target.value.trim());var n=t.test(e.target.value);console.log("this email is "+n);var o=a.state.emailIdChips,r={key:o.length,label:e.target.value,emailId:e.target.value,validate:n};o.push(r),a.setState({toAddr:o}),e.target.value=""}},a.handleEmailIdDelete=function(e){return function(){a.emailAdd.current.focus(),a.setState(function(t){var a=[].concat(o(t.emailIdChips)),n=a.indexOf(e);return a.splice(n,1),{emailIdChips:a}})}},a.handleSubjectChange=function(e){a.setState({emailTemplateSubject:e.target.value})},a.handleEmailBodyChange=function(e){var t=Math.round(document.getElementById("emailBody").scrollHeight);t<=12&&(t=12),a.setState({emailTemplateBody:e.target.value,emailBodyHeight:t})},a.removeAttachement=function(e){var t=a.state.emailAttachements;console.log("remove: "+e);for(var n=0;n<t.length;n++)if(t[n].id==e){t.splice(n,1),a.setState({emailAttachements:t});break}},a.sendSummaryEmail=function(){console.log("sending summary email");for(var e=[],t=0;t<a.state.emailAttachements.length;t++)e.push(a.state.emailAttachements[t].id);if(0==a.state.emailIdChips.length)return void a.openSnackBarWithMessage("Please specify at least one recipient.");for(var n="",t=0;t<a.state.emailIdChips.length;t++)a.state.emailIdChips[t].validate&&(n+=a.state.emailIdChips[t].emailId+",");var o=n.lastIndexOf(",");n=n.slice(0,o),console.log("To: "+n);var r=a.state.emailTemplateBody;r=r.replace(/\n/g,"<br />");var i={body:r,subject:a.state.emailTemplateSubject,customerId:a.props.customer.id,documentIds:e,from:a.props.collector.emailId,to:n};a.setState({emailSent:!0}),O.default.post(w.default.apiUrl+"/correspondence/callsummary",i).then(function(e){a.openSnackBarWithMessage("Email sent"),a.setState({emailSent:!0})}).catch(function(e){a.setState({emailSent:!1}),a.openSnackBarWithMessage("Error in sending email"),console.log(e)})},a.openSnackBarWithMessage=function(e){a.setState({snackBarMessage:e}),a.setState({snackBarOpen:!0})},a.closeSnackbar=function(){a.setState({snackBarOpen:!1})};var n=a.props.contactIndex,l=[];if(null!=n&&"Unnamed"!==a.props.customer.contacts[n].firstName&&"Unnamed"!==a.props.customer.contacts[n].lastName){var s=a.props.customer.contacts[n].firstName+" "+a.props.customer.contacts[n].lastName;l.push({key:0,label:s,emailId:a.props.customer.contacts[n].email,validate:!0})}var c=a.props.invoiceList;return a.state={loading:!0,emailTemplateName:"",emailTemplateBody:"",emailTemplateSubject:"Summary notes as per our conversation.",templateId:-1,emailTemplates:[],emailAttachements:c,emailIdChips:l,snackBarOpen:!1,snackBarMessage:"",emailSent:!1,emailBodyHeight:12},console.log(a.props.summaryNotes,"summary notes in final"),a.emailAdd=u.default.createRef(),O.default.get(w.default.apiUrl+"/correspondence/emailtemplates").then(function(e){var t=[];t=e.data,a.setState({emailTemplates:t},function(){0!=t.length&&(a.setState({emailTemplateName:t[0].name}),a.setState({emailTemplateSubject:t[0].subject}),a.setState({emailTemplateBody:t[0].body}),a.setState({templateId:t[0].id})),a.setState({loading:!1})})}).catch(function(e){console.log(e),console.log("Error in fetching templates"),a.setState({emailTemplates:[]},function(){a.setState({loading:!1})}),a.setState({emailTemplateName:"No Templates!"})}),a}return l(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.customer,t.classes),n=t.summaryNotes,o=t.theme;return console.log(),u.default.createElement("div",{style:{width:"100%"}},u.default.createElement(h.default,{item:!0,xs:12,style:{display:"flex"}},u.default.createElement(h.default,{item:!0,xs:5},u.default.createElement(h.default,{item:!0,xs:12,className:a.summaryNotesBox},u.default.createElement(h.default,{item:!0},u.default.createElement(g.Typography,{className:a.summaryNotesHeader},"SUMMARY NOTES")),u.default.createElement(h.default,{items:!0,id:"summaryNoteitems",className:n&&0!=n.length?a.summaryNoteitems:(0,U.default)(a.emptySummaryGrid,a.centerFlexBox)},(!n||0==n.length)&&u.default.createElement("div",{className:a.warningLine},u.default.createElement(F.default,{className:a.icon}),u.default.createElement("span",{className:a.emptySummaryText},"There is no summary notes ")),n&&0==!n.length&&u.default.createElement("ul",{className:a.notesList},n.map(function(e){return u.default.createElement("li",null,u.default.createElement(g.Typography,{style:{color:o.palette.primary.main,opacity:1,fontSize:"0.88888888888rem",marginBottom:"0.888rem"}},e))}))))),u.default.createElement(h.default,{item:!0,xs:7,style:{paddingLeft:"1.041vw"}},u.default.createElement("div",{className:a.summaryEmailHeader},u.default.createElement(g.Typography,{style:{fontSize:"1.06666rem",fontWeight:"normal",color:"#ffffff",opacity:.65,paddingBottom:"0.2em"}},"SEND SUMMARY MAIL")),u.default.createElement("div",{className:a.summaryEmail},u.default.createElement("div",{className:a.summaryEmailForm},u.default.createElement("div",{className:a.emailIdChipsInput},u.default.createElement("span",{className:a.emailAddLabel},"To "),this.state.emailIdChips.map(function(t,n){return u.default.createElement(j.default,{key:t.key,label:t.label,className:t.validate?a.emailIdChips:a.invalidEmailIdChips,deleteIcon:u.default.createElement(D.default,{className:e.state.emailSent?a.disableIcon:a.removeEmailId}),onDelete:e.handleEmailIdDelete(t),classes:{clickable:t.validate?a.emailIdChips:a.invalidEmailIdChips}})}),u.default.createElement(y.default,{onKeyPress:this.handleEmailEnter,onBlur:this.handleEmailEnter,fullWidth:!0,className:a.emailIdInput,disableUnderline:!0,disabled:this.state.emailSent,inputRef:this.emailAdd})),u.default.createElement(y.default,{fullWidth:!0,style:{marginTop:"1%"},placeholder:"Subject",classes:{disabled:a.disabledSubjectInput},className:a.emailSubject,value:this.state.emailTemplateSubject,onChange:this.handleSubjectChange,disableUnderline:!0,disabled:this.state.emailSent}),u.default.createElement("div",{className:a.summaryEmailBody},u.default.createElement(g.TextField,{id:"emailBody",fullWidth:!0,multiline:!0,value:this.state.emailTemplateBody,onChange:this.handleEmailBodyChange,rows:12,style:{color:"white",overflow:"hidden"},rowsMax:this.state.emailBodyHeight,className:a.emailBodyText,classes:{},InputProps:{disableUnderline:!0,style:{color:"white"},classes:{input:a.hideOverflow}},disabled:this.state.emailSent}),u.default.createElement("div",{className:a.invoiceAttachements},this.state.emailAttachements.length>0&&u.default.createElement("div",{className:a.invoiceCount},u.default.createElement(g.Typography,{style:{color:o.palette.secondary.main,fontSize:"0.9777"}},"Invoice Attachements (",this.state.emailAttachements.length,")")),u.default.createElement(T.default,{cellHeight:"auto",className:a.gridList},this.state.emailAttachements.map(function(e){return u.default.createElement(P.default,{cols:1,key:e.id,style:{height:"auto",width:"12.5rem",padding:"0.25rem"}},u.default.createElement("div",{className:a.gridListDiv},u.default.createElement("div",{style:{display:"block",marginLeft:"0.375rem"}},u.default.createElement(g.Typography,{style:{padding:"0.25rem",fontSize:"0.888rem",opacity:.65,color:o.palette.primary.main}},e.documentNumber),u.default.createElement(g.Typography,{style:{padding:"0.25rem",fontSize:"1rem",color:o.palette.primary.main}},"$ ",e.currentOpenAmount))))}))))),u.default.createElement("div",{className:a.summaryEmailFooter},u.default.createElement(g.Button,{color:"secondary",className:a.sendSummaryEmailBtn,size:"small",variant:"contained",onClick:this.sendSummaryEmail,disabled:this.state.emailSent},"SEND"))))),u.default.createElement(_.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[u.default.createElement(H.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(D.default,null))]}))}}]),t}(c.Component);Y.propTypes={classes:p.default.object.isRequired},t.default=(0,f.withStyles)(z,{withTheme:!0})(Y)},6105:function(e,t,a){"use strict";e.exports=a(6106)},6106:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(0),c=n(s),u=a(4),d=n(u),p=a(6107),f=n(p),m=a(6111),h=n(m),g=a(6083),v=(g.nameShape.isRequired,d.default.bool,d.default.bool,d.default.bool,(0,g.transitionTimeout)("Appear"),(0,g.transitionTimeout)("Enter"),(0,g.transitionTimeout)("Leave"),{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),y=function(e){function t(){var a,n,i;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=r(this,e.call.apply(e,[this].concat(s))),n._wrapChild=function(e){return c.default.createElement(h.default,{name:n.props.transitionName,appear:n.props.transitionAppear,enter:n.props.transitionEnter,leave:n.props.transitionLeave,appearTimeout:n.props.transitionAppearTimeout,enterTimeout:n.props.transitionEnterTimeout,leaveTimeout:n.props.transitionLeaveTimeout},e)},i=a,r(n,i)}return i(t,e),t.prototype.render=function(){return c.default.createElement(f.default,l({},this.props,{childFactory:this._wrapChild}))},t}(c.default.Component);y.displayName="CSSTransitionGroup",y.propTypes={},y.defaultProps=v,t.default=y,e.exports=t.default},6107:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(6108),c=n(s),u=a(0),d=n(u),p=a(4),f=n(p),m=a(6109),h=(n(m),a(6110)),g=(f.default.any,f.default.func,f.default.node,{component:"span",childFactory:function(e){return e}}),v=function(e){function t(a,n){o(this,t);var i=r(this,e.call(this,a,n));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var a=(0,h.getChildMapping)(i.props.children);a&&a.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var a=(0,h.getChildMapping)(i.props.children);a&&a.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var a=(0,h.getChildMapping)(i.props.children);a&&a.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState(function(t){var a=l({},t.children);return delete a[e],{children:a}})},i.childRefs=Object.create(null),i.state={children:(0,h.getChildMapping)(a.children)},i}return i(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,h.getChildMapping)(e.children),a=this.state.children;this.setState({children:(0,h.mergeChildMappings)(a,t)});for(var n in t){var o=a&&a.hasOwnProperty(n);!t[n]||o||this.currentlyTransitioningKeys[n]||this.keysToEnter.push(n)}for(var r in a){var i=t&&t.hasOwnProperty(r);!a[r]||i||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var a=this.keysToLeave;this.keysToLeave=[],a.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[];for(var a in this.state.children)!function(a){var n=e.state.children[a];if(n){var o="string"!=typeof n.ref,r=e.props.childFactory(n),i=function(t){e.childRefs[a]=t};r===n&&o&&(i=(0,c.default)(n.ref,i)),t.push(d.default.cloneElement(r,{key:a,ref:i}))}}(a);var n=l({},this.props);return delete n.transitionLeave,delete n.transitionName,delete n.transitionAppear,delete n.transitionEnter,delete n.childFactory,delete n.transitionLeaveTimeout,delete n.transitionEnterTimeout,delete n.transitionAppearTimeout,delete n.component,d.default.createElement(this.props.component,n,t)},t}(d.default.Component);v.displayName="TransitionGroup",v.propTypes={},v.defaultProps=g,t.default=v,e.exports=t.default},6108:function(e,t){e.exports=function(){for(var e=arguments.length,t=[],a=0;a<e;a++)t[a]=arguments[a];if(t=t.filter(function(e){return null!=e}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},6109:function(e,t,a){"use strict";var n=function(){};e.exports=n},6110:function(e,t,a){"use strict";function n(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function o(e,t){function a(a){return t.hasOwnProperty(a)?t[a]:e[a]}e=e||{},t=t||{};var n={},o=[];for(var r in e)t.hasOwnProperty(r)?o.length&&(n[r]=o,o=[]):o.push(r);var i=void 0,l={};for(var s in t){if(n.hasOwnProperty(s))for(i=0;i<n[s].length;i++){var c=n[s][i];l[n[s][i]]=a(c)}l[s]=a(s)}for(i=0;i<o.length;i++)l[o[i]]=a(o[i]);return l}t.__esModule=!0,t.getChildMapping=n,t.mergeChildMappings=o;var r=a(0)},6111:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return S.length?S.forEach(function(a){return e.addEventListener(a,t,!1)}):setTimeout(t,0),function(){S.length&&S.forEach(function(a){return e.removeEventListener(a,t,!1)})}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=a(6078),u=n(c),d=a(6079),p=n(d),f=a(6112),m=n(f),h=a(349),g=a(0),v=n(g),y=a(4),b=n(y),C=a(20),E=a(6083),S=[];h.transitionEnd&&S.push(h.transitionEnd),h.animationEnd&&S.push(h.animationEnd);var w=(b.default.node,E.nameShape.isRequired,b.default.bool,b.default.bool,b.default.bool,b.default.number,b.default.number,b.default.number,function(e){function t(){var a,n,i;o(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return a=n=r(this,e.call.apply(e,[this].concat(s))),n.componentWillAppear=function(e){n.props.appear?n.transition("appear",e,n.props.appearTimeout):e()},n.componentWillEnter=function(e){n.props.enter?n.transition("enter",e,n.props.enterTimeout):e()},n.componentWillLeave=function(e){n.props.leave?n.transition("leave",e,n.props.leaveTimeout):e()},i=a,r(n,i)}return i(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,a){var n=(0,C.findDOMNode)(this);if(!n)return void(t&&t());var o=this.props.name[e]||this.props.name+"-"+e,r=this.props.name[e+"Active"]||o+"-active",i=null,s=void 0;(0,u.default)(n,o),this.queueClassAndNode(r,n);var c=function(e){e&&e.target!==n||(clearTimeout(i),s&&s(),(0,p.default)(n,o),(0,p.default)(n,r),s&&s(),t&&t())};a?(i=setTimeout(c,a),this.transitionTimeouts.push(i)):h.transitionEnd&&(s=l(n,c))},t.prototype.queueClassAndNode=function(e,t){var a=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,m.default)(function(){return a.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,u.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=s({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,v.default.cloneElement(v.default.Children.only(this.props.children),e)},t}(v.default.Component));w.displayName="CSSTransitionGroupChild",w.propTypes={},t.default=w,e.exports=t.default},6112:function(e,t,a){"use strict";function n(e){var t=(new Date).getTime(),a=Math.max(0,16-(t-d)),n=setTimeout(e,a);return d=t,n}var o=a(3);t.__esModule=!0,t.default=void 0;var r,i=o(a(180)),l=["","webkit","moz","o","ms"],s="clearTimeout",c=n,u=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&l.some(function(e){var t=u(e,"request");if(t in window)return s=u(e,"cancel"),c=function(e){return window[t](e)}});var d=(new Date).getTime();r=function(e){return c(e)},r.cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)};var p=r;t.default=p,e.exports=t.default},6113:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(4),p=n(d),f=a(119),m=n(f),h=a(120),g=n(h),v=a(183),y=n(v),b=a(172),C=n(b),E=a(169),S=n(E),w=a(115),x=function(e){return{dialogPaper:{border:"1px solid white",width:"19.53vw"},dialog:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main},createNewActionDialogHeader:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main+" !important",fontSize:"1.24444rem"},createNewActionDialogOptions:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main+" !important",fontSize:"0.9777rem",pointer:"cursor"}}},O={open:p.default.bool,onClose:p.default.func,onActionItemClick:p.default.func},k={open:!1,onClose:w.emptyFunction,onActionItemClick:w.emptyFunction},D=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){return e.open!==this.props.open}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.classes,o=t.onClose;return c.default.createElement(S.default,{onClose:o,"aria-labelledby":"new-action-dialog-title",open:a,classes:{paperScrollPaper:n.dialogPaper}},c.default.createElement(C.default,{id:"new-action-dialog-title",className:n.dialog},c.default.createElement("div",{className:n.createNewActionDialogHeader},"Create New Action")),c.default.createElement("div",null,c.default.createElement(m.default,{className:n.createNewActionDialogOptions},Object.keys(w.ACTION_TYPES).map(function(t){return c.default.createElement(g.default,{style:{cursor:"pointer"},onClick:function(){return e.props.onActionItemClick(w.ACTION_TYPES[t])},key:t},c.default.createElement(y.default,null,c.default.createElement("div",{className:n.createNewActionDialogOptions},"Create "+w.ACTION_TYPES[t])))}))))}}]),t}(s.Component);D.propTypes=O,D.defaultProps=k,t.default=(0,u.withStyles)(x,{withTheme:!0})(D)},6114:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=n(u),p=a(19),f=a(87),m=n(f),h=a(23),g=a(6115),v=n(g),y=a(115),b=(a(6116),a(179)),C=(n(b),a(6119)),E=n(C),S=function(e){return{chatBubble:{display:"flex",alignItems:"flex-start",padding:"4px",borderRadius:"4px",minWidth:"calc(100% - 2rem)",width:"calc(100% - 2rem)",minHeight:"1rem",marginBottom:"4px"},rightBubble:{opacity:"0.65 !important",alignSelf:"flex-end",flexDirection:"row-reverse"},message:{fontSize:"1rem",color:"#fff"},highlightMessage:{color:"#fff",backgroundColor:"rgba(93, 170, 224, 0.3)"},circledText:{minWidth:"2rem",minHeight:"2rem",maxHeight:"2rem",maxWidth:"2rem",borderRadius:"50%",fontSize:"0.8rem",color:"#fff",lineHeight:"2rem",textAlign:"center",background:"#5DAAE0"},gifAnimator:{},detector:{background:"transparent",border:"1px solid #5DAAE0"},highlighterForLeft:{alignSelf:"center",marginLeft:"10px"},highlighterForRight:{textAlign:"right",alignSelf:"center",marginRight:"10px"}}},w=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.isCollector,a=e.message,n=e.classes,o=e.isDetecting;return c.default.createElement(m.default,{in:!0},c.default.createElement("div",{className:n.chatBubble+" "+(t?n.rightBubble:"")},!o&&c.default.createElement(h.Typography,{className:n.circledText+" "+(o?n.detector:"")},this.props.initials),o&&c.default.createElement("img",{style:{height:"2.5rem",width:"2.5rem"},src:E.default,alt:"Detecting Speakers Animation"}),c.default.createElement(v.default,{className:t?n.highlighterForRight:n.highlighterForLeft,unhighlightClassName:n.message,highlightClassName:n.highlightMessage+" "+n.message,searchWords:y.HIGHLIGHTER_REGEX,textToHighlight:a})))}}]),t}(s.Component);w.propTypes={classes:d.default.object.isRequired,isCollector:d.default.bool,message:d.default.string,isDetecting:d.default.bool},w.defaultProps={isCollector:!1,message:"",isDetecting:!1},t.default=(0,p.withStyles)(S,{withTheme:!0})(w)},6115:function(e,t,a){e.exports=function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){e.exports=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.activeClassName,a=void 0===t?"":t,n=e.activeIndex,o=void 0===n?-1:n,i=e.activeStyle,l=e.autoEscape,s=e.caseSensitive,u=void 0!==s&&s,p=e.className,f=e.findChunks,m=e.highlightClassName,h=void 0===m?"":m,g=e.highlightStyle,v=void 0===g?{}:g,y=e.highlightTag,b=void 0===y?"mark":y,C=e.sanitize,E=e.searchWords,S=e.textToHighlight,w=e.unhighlightClassName,x=void 0===w?"":w,O=e.unhighlightStyle,k=(0,r.findAll)({autoEscape:l,caseSensitive:u,findChunks:f,sanitize:C,searchWords:E,textToHighlight:S}),D=b,I=-1,T="",N=void 0,P=function(e){var t={};for(var a in e)t[a.toLowerCase()]=e[a];return t},A=(0,d.default)(P);return c.default.createElement("span",{className:p},k.map(function(e,t){var n=S.substr(e.start,e.end-e.start);if(e.highlight){I++;var r=void 0;"object"==typeof h?u?r=h[n]:(h=A(h),r=h[n.toLowerCase()]):r=h;var l=I===+o;return T=r+" "+(l?a:""),N=!0===l&&null!=i?Object.assign({},v,i):v,c.default.createElement(D,{className:T,key:t,style:N},n)}return c.default.createElement("span",{className:x,key:t,style:O},n)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=a(3),i=a(4),l=n(i),s=a(14),c=n(s),u=a(15),d=n(u);o.propTypes={activeClassName:l.default.string,activeIndex:l.default.number,activeStyle:l.default.object,autoEscape:l.default.bool,className:l.default.string,findChunks:l.default.func,highlightClassName:l.default.oneOfType([l.default.object,l.default.string]),highlightStyle:l.default.object,highlightTag:l.default.oneOfType([l.default.node,l.default.func,l.default.string]),sanitize:l.default.func,searchWords:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.instanceOf(RegExp)])).isRequired,textToHighlight:l.default.string.isRequired,unhighlightClassName:l.default.string,unhighlightStyle:l.default.object},e.exports=t.default},function(e,t){e.exports=function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){e.exports=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return n.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return n.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return n.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return n.findChunks}})},function(e,t){"use strict";function a(e){return e}function n(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}Object.defineProperty(t,"__esModule",{value:!0});var o=(t.findAll=function(e){var t=e.autoEscape,a=e.caseSensitive,n=void 0!==a&&a,l=e.findChunks,s=void 0===l?r:l,c=e.sanitize,u=e.searchWords,d=e.textToHighlight;return i({chunksToHighlight:o({chunks:s({autoEscape:t,caseSensitive:n,sanitize:c,searchWords:u,textToHighlight:d})}),totalLength:d?d.length:0})},t.combineChunks=function(e){var t=e.chunks;return t=t.sort(function(e,t){return e.start-t.start}).reduce(function(e,t){if(0===e.length)return[t];var a=e.pop();if(t.start<=a.end){var n=Math.max(a.end,t.end);e.push({start:a.start,end:n})}else e.push(a,t);return e},[])}),r=function(e){var t=e.autoEscape,o=e.caseSensitive,r=e.sanitize,i=void 0===r?a:r,l=e.searchWords,s=e.textToHighlight;return s=i(s),l.filter(function(e){return e}).reduce(function(e,a){a=i(a),t&&(a=n(a));for(var r=new RegExp(a,o?"g":"gi"),l=void 0;l=r.exec(s);){var c=l.index,u=r.lastIndex;u>c&&e.push({start:c,end:u}),l.index==r.lastIndex&&r.lastIndex++}return e},[])};t.findChunks=r;var i=t.fillInChunks=function(e){var t=e.chunksToHighlight,a=e.totalLength,n=[],o=function(e,t,a){t-e>0&&n.push({start:e,end:t,highlight:a})};if(0===t.length)o(0,a,!1);else{var r=0;t.forEach(function(e){o(r,e.start,!1),o(e.start,e.end,!0),r=e.end}),o(r,a,!1)}return n}}])},function(e,t,a){(function(t){if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n};e.exports=a(6)(o,!0)}else e.exports=a(13)()}).call(t,a(5))},function(e,t){function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===a||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){h&&f&&(h=!1,f.length?m=f.concat(m):g=-1,m.length&&l())}function l(){if(!h){var e=o(i);h=!0;for(var t=m.length;t;){for(f=m,m=[];++g<t;)f&&f[g].run();g=-1,t=m.length}f=null,h=!1,r(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,d,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:a}catch(e){u=a}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var f,m=[],h=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];m.push(new s(e,t)),1!==m.length||h||o(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,a){(function(t){"use strict";var n=a(7),o=a(8),r=a(9),i=a(10),l=a(11),s=a(12);e.exports=function(e,a){function c(e){var t=e&&(D&&e[D]||e[I]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function d(e){this.message=e,this.stack=""}function p(e){function n(n,c,u,p,f,m,h){if(p=p||T,m=m||u,h!==l)if(a)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var g=p+":"+u;!i[g]&&s<3&&(r(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,p),i[g]=!0,s++)}return null==c[u]?n?new d(null===c[u]?"The "+f+" `"+m+"` is marked as required in `"+p+"`, but its value is `null`.":"The "+f+" `"+m+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(c,u,p,f,m)}if("production"!==t.env.NODE_ENV)var i={},s=0;var c=n.bind(null,!1);return c.isRequired=n.bind(null,!0),c}function f(e){function t(t,a,n,o,r,i){var l=t[a];if(w(l)!==e)return new d("Invalid "+o+" `"+r+"` of type `"+x(l)+"` supplied to `"+n+"`, expected `"+e+"`.");return null}return p(t)}function m(e){function t(t,a,n,o,r){if("function"!=typeof e)return new d("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var i=t[a];if(!Array.isArray(i)){return new d("Invalid "+o+" `"+r+"` of type `"+w(i)+"` supplied to `"+n+"`, expected an array.")}for(var s=0;s<i.length;s++){var c=e(i,s,n,o,r+"["+s+"]",l);if(c instanceof Error)return c}return null}return p(t)}function h(e){function t(t,a,n,o,r){if(!(t[a]instanceof e)){var i=e.name||T;return new d("Invalid "+o+" `"+r+"` of type `"+k(t[a])+"` supplied to `"+n+"`, expected instance of `"+i+"`.")}return null}return p(t)}function g(e){function a(t,a,n,o,r){for(var i=t[a],l=0;l<e.length;l++)if(u(i,e[l]))return null;return new d("Invalid "+o+" `"+r+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?p(a):("production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)}function v(e){function t(t,a,n,o,r){if("function"!=typeof e)return new d("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var i=t[a],s=w(i);if("object"!==s)return new d("Invalid "+o+" `"+r+"` of type `"+s+"` supplied to `"+n+"`, expected an object.");for(var c in i)if(i.hasOwnProperty(c)){var u=e(i,c,n,o,r+"."+c,l);if(u instanceof Error)return u}return null}return p(t)}function y(e){function a(t,a,n,o,r){for(var i=0;i<e.length;i++){if(null==(0,e[i])(t,a,n,o,r,l))return null}return new d("Invalid "+o+" `"+r+"` supplied to `"+n+"`.")}if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var o=0;o<e.length;o++){var i=e[o];if("function"!=typeof i)return r(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",O(i),o),n.thatReturnsNull}return p(a)}function b(e){function t(t,a,n,o,r){var i=t[a],s=w(i);if("object"!==s)return new d("Invalid "+o+" `"+r+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var u=e[c];if(u){var p=u(i,c,n,o,r+"."+c,l);if(p)return p}}return null}return p(t)}function C(e){function t(t,a,n,o,r){var s=t[a],c=w(s);if("object"!==c)return new d("Invalid "+o+" `"+r+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");var u=i({},t[a],e);for(var p in u){var f=e[p];if(!f)return new d("Invalid "+o+" `"+r+"` key `"+p+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[a],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var m=f(s,p,n,o,r+"."+p,l);if(m)return m}return null}return p(t)}function E(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(E);if(null===t||e(t))return!0;var a=c(t);if(!a)return!1;var n,o=a.call(t);if(a!==t.entries){for(;!(n=o.next()).done;)if(!E(n.value))return!1}else for(;!(n=o.next()).done;){var r=n.value;if(r&&!E(r[1]))return!1}return!0;default:return!1}}function S(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function w(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":S(t,e)?"symbol":t}function x(e){if(void 0===e||null===e)return""+e;var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function O(e){var t=x(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function k(e){return e.constructor&&e.constructor.name?e.constructor.name:T}var D="function"==typeof Symbol&&Symbol.iterator,I="@@iterator",T="<<anonymous>>",N={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:function(){return p(n.thatReturnsNull)}(),arrayOf:m,element:function(){function t(t,a,n,o,r){var i=t[a];if(!e(i)){return new d("Invalid "+o+" `"+r+"` of type `"+w(i)+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return p(t)}(),instanceOf:h,node:function(){function e(e,t,a,n,o){return E(e[t])?null:new d("Invalid "+n+" `"+o+"` supplied to `"+a+"`, expected a ReactNode.")}return p(e)}(),objectOf:v,oneOf:g,oneOfType:y,shape:b,exact:C};return d.prototype=Error.prototype,N.checkPropTypes=s,N.PropTypes=N,N}}).call(t,a(5))},function(e,t){"use strict";function a(e){return function(){return e}}var n=function(){};n.thatReturns=a,n.thatReturnsFalse=a(!1),n.thatReturnsTrue=a(!0),n.thatReturnsNull=a(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,a){(function(t){"use strict";function a(e,t,a,o,r,i,l,s){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,o,r,i,l,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=a}).call(t,a(5))},function(e,t,a){(function(t){"use strict";var n=a(7),o=n;if("production"!==t.env.NODE_ENV){var r=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var o=0,r="Warning: "+e.replace(/%s/g,function(){return a[o++]});"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(e){}};o=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var a=arguments.length,n=Array(a>2?a-2:0),o=2;o<a;o++)n[o-2]=arguments[o];r.apply(void 0,[t].concat(n))}}}e.exports=o}).call(t,a(5))},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,l,s=a(e),c=1;c<arguments.length;c++){i=Object(arguments[c]);for(var u in i)o.call(i,u)&&(s[u]=i[u]);if(n){l=n(i);for(var d=0;d<l.length;d++)r.call(i,l[d])&&(s[l[d]]=i[l[d]])}}return s}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){(function(t){"use strict";function n(e,a,n,s,c){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{o("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",s||"React class",n,u,typeof e[u]),d=e[u](a,u,s,n,null,i)}catch(e){d=e}if(r(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,u,typeof d),d instanceof Error&&!(d.message in l)){l[d.message]=!0;var p=c?c():"";r(!1,"Failed %s type: %s%s",n,d.message,null!=p?p:"")}}}if("production"!==t.env.NODE_ENV)var o=a(8),r=a(9),i=a(11),l={};e.exports=n}).call(t,a(5))},function(e,t,a){"use strict";var n=a(7),o=a(8),r=a(11);e.exports=function(){function e(e,t,a,n,i,l){l!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t){e.exports=a(0)},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a=void 0,o=[],r=void 0,i=!1,l=function(e,a){return t(e,o[a])};return function(){for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return i&&a===this&&n.length===o.length&&n.every(l)?r:(i=!0,a=this,o=n,r=e.apply(this,n))}}var n=function(e,t){return e===t};e.exports=a}])},6116:function(e,t,a){(function(e,n){function o(e,a){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(a)?n.showHidden=a:a&&t._extend(n,a),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=r),s(n,e,n.depth)}function r(e,t){var a=o.styles[t];return a?"["+o.colors[a][0]+"m"+e+"["+o.colors[a][1]+"m":e}function i(e,t){return e}function l(e){var t={};return e.forEach(function(e,a){t[e]=!0}),t}function s(e,a,n){if(e.customInspect&&a&&k(a.inspect)&&a.inspect!==t.inspect&&(!a.constructor||a.constructor.prototype!==a)){var o=a.inspect(n,e);return b(o)||(o=s(e,o,n)),o}var r=c(e,a);if(r)return r;var i=Object.keys(a),h=l(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(a)),O(a)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return u(a);if(0===i.length){if(k(a)){var g=a.name?": "+a.name:"";return e.stylize("[Function"+g+"]","special")}if(S(a))return e.stylize(RegExp.prototype.toString.call(a),"regexp");if(x(a))return e.stylize(Date.prototype.toString.call(a),"date");if(O(a))return u(a)}var v="",y=!1,C=["{","}"];if(m(a)&&(y=!0,C=["[","]"]),k(a)){v=" [Function"+(a.name?": "+a.name:"")+"]"}if(S(a)&&(v=" "+RegExp.prototype.toString.call(a)),x(a)&&(v=" "+Date.prototype.toUTCString.call(a)),O(a)&&(v=" "+u(a)),0===i.length&&(!y||0==a.length))return C[0]+v+C[1];if(n<0)return S(a)?e.stylize(RegExp.prototype.toString.call(a),"regexp"):e.stylize("[Object]","special");e.seen.push(a);var E;return E=y?d(e,a,n,h,i):i.map(function(t){return p(e,a,n,h,t,y)}),e.seen.pop(),f(E,v,C)}function c(e,t){if(E(t))return e.stylize("undefined","undefined");if(b(t)){var a="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(a,"string")}return y(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,a,n,o){for(var r=[],i=0,l=t.length;i<l;++i)P(t,String(i))?r.push(p(e,t,a,n,String(i),!0)):r.push("");return o.forEach(function(o){o.match(/^\d+$/)||r.push(p(e,t,a,n,o,!0))}),r}function p(e,t,a,n,o,r){var i,l,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?l=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(l=e.stylize("[Setter]","special")),P(n,o)||(i="["+o+"]"),l||(e.seen.indexOf(c.value)<0?(l=g(a)?s(e,c.value,null):s(e,c.value,a-1),l.indexOf("\n")>-1&&(l=r?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n"))):l=e.stylize("[Circular]","special")),E(i)){if(r&&o.match(/^\d+$/))return l;i=JSON.stringify(""+o),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+l}function f(e,t,a){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?a[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+a[1]:a[0]+t+" "+e.join(", ")+" "+a[1]}function m(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function C(e){return"symbol"==typeof e}function E(e){return void 0===e}function S(e){return w(e)&&"[object RegExp]"===I(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===I(e)}function O(e){return w(e)&&("[object Error]"===I(e)||e instanceof Error)}function k(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function I(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}function N(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],a=0;a<arguments.length;a++)t.push(o(arguments[a]));return t.join(" ")}for(var a=1,n=arguments,r=n.length,i=String(e).replace(A,function(e){if("%%"===e)return"%";if(a>=r)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(e){return"[Circular]"}default:return e}}),l=n[a];a<r;l=n[++a])g(l)||!w(l)?i+=" "+l:i+=" "+o(l);return i},t.deprecate=function(a,o){function r(){if(!i){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),i=!0}return a.apply(this,arguments)}if(E(e.process))return function(){return t.deprecate(a,o).apply(this,arguments)};if(!0===n.noDeprecation)return a;var i=!1;return r};var j,M={};t.debuglog=function(e){if(E(j)&&(j=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!M[e])if(new RegExp("\\b"+e+"\\b","i").test(j)){var a=n.pid;M[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,a,n)}}else M[e]=function(){};return M[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=h,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=y,t.isString=b,t.isSymbol=C,t.isUndefined=E,t.isRegExp=S,t.isObject=w,t.isDate=x,t.isError=O,t.isFunction=k,t.isPrimitive=D,t.isBuffer=a(6117);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=a(6118),t._extend=function(e,t){if(!t||!w(t))return e;for(var a=Object.keys(t),n=a.length;n--;)e[a[n]]=t[a[n]];return e}}).call(t,a(50),a(91))},6117:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},6118:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},6119:function(e,t,a){e.exports=a.p+"317df0b71944b200cb0a2329e7aebc0b.gif"},6120:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSummaryCompleteMap=t.createInitialNonActionSummaryNotes=t.appendIdsToSummary=t.createSummaryCompletionMap=t.generateNotesAsString=void 0;var n=a(49);t.generateNotesAsString=function(e){for(var t="",a=0;a<e.length;a++)t+=a===e.length-1?e[a].trim():e[a].trim()+"/n";return t},t.createSummaryCompletionMap=function(e){var t=new Map;return e&&e.map(function(e){return(0,n.isActionIntent)(e.intent)&&t.set(e.id,!1)}),t},t.appendIdsToSummary=function(e){if(e)for(var t in e)e[t].id=t+1,e[t].save=!1;return e},t.createInitialNonActionSummaryNotes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";t&&(a+=t);for(var o in e)(0,n.isActionIntent)(e[o].intent)&&(a+=e[o].summary);return a},t.checkSummaryCompleteMap=function(e){var t=!0,a=!1,n=void 0;try{for(var o,r=e.values()[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){if(!1===o.value)return!0}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}return!1}},6121:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.commonService=void 0;var o=a(41),r=n(o),i=a(40),l=n(i),s=a(117),c=function(){return r.default.get(l.default.apiUrl+"/disputecodes").then(function(e){return(0,s.handleApiResponse)(e)}).catch(function(e){return(0,s.handleApiResponse)(e)})},u=function(){return r.default.get(l.default.apiUrl+"/tasktypes").then(function(e){return(0,s.handleApiResponse)(e)}).catch(function(e){return(0,s.handleApiResponse)(e)})};t.commonService={getDisputeCodes:c,getTaskTypes:u}},6122:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return u.default.createElement(b.default,{component:"div",style:{paddingTop:"1.85vh"}},u.default.createElement(S.Paper,{elevation:1,style:{overflowY:"auto",height:"78.5vh",borderRadius:"4px",boxShadow:"none",background:e.theme.palette.cardBackground.main}},e.children))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),f=a(19),m=a(337),h=n(m),g=a(336),v=n(g),y=a(21),b=n(y),C=a(6081),E=n(C),S=a(23),w=a(86),x=n(w),O=a(6082),k=n(O),D=a(55);l.propTypes={children:p.default.node.isRequired};var I=function(e){return{root:{},progress:{margin:"7rem 0 0 20rem"},container:{overflow:"auto"},scrollButtons:{color:"white",flex:"0 !important"},indicator:{height:"2px",top:"5.7vh !important"},tabSelected:{color:e.palette.primary.main+" !important"},tabRoot:{color:e.palette.secondary.main,width:"calc(5.666vh + 5.666vw)",minHeight:"6.3vh",maxHeight:"6.3vh"},tabWrapper:{marginBottom:".4vw",width:"calc(5.666vh + 5.666vw)"},tabsFlexContainer:{height:"6.3vh"},tabsRoot:{minHeight:"6.3vh",maxHeight:"6.3vh"},tabsScroller:{marginBottom:"-10vh !important"},invoiceCountText:{color:e.palette.primary.main,fontSize:".8rem",display:"block"}}},T={bucketNames:[],invoices:[]},N=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.filterInvoices=function(e){if("All"==e)a.setState({invoices:a.state.allInvoices});else{for(var t=a.state.allInvoices,n=[],o=0;o<t.length;o++){for(var r=[],i=0;i<t[o].length;i++)"Dispute"==e&&null!=t[o][i].disputeStatus?r.push(t[o][i]):"Predicted Delinquent"==e&&1==t[o][i].p2pDelinquent?r.push(t[o][i]):"Upcoming P2P"==e&&1==t[o][i].p2pUpcoming?r.push(t[o][i]):"Broken P2P"==e&&1==t[o][i].p2pBroken&&r.push(t[o][i]);n.push(r)}a.setState({invoices:n})}},a.handleChange=function(e,t){a.setState({value:t})};var n=a.props.bucketNames.reverse();return n.unshift("Current Due"),a.state={value:0,loading:!1,invoices:e.invoices,allInvoices:e.invoices,days:n},a}return i(t,e),s(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.classes,n=t.theme,o=this.state.value,r=[],i=[],s=0,c=0,d=0;d<this.state.days.length;d++)i.push(0);for(var d=0;d<this.state.invoices.length;d++){r.push(this.state.invoices[d].length);for(var p=0,f=0;f<this.state.invoices[d].length;f++)p+=this.state.invoices[d][f].currentOpenAmount,s+=1,c+=this.state.invoices[d][f].currentOpenAmount;i[d]=p}return u.default.createElement("div",{className:a.root},!1===this.state.loading&&u.default.createElement("div",null,u.default.createElement(h.default,{value:o,onChange:this.handleChange,indicatorColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{scrollButtons:a.scrollButtons,flexContainer:a.tabsFlexContainer,root:a.tabsRoot,scroller:a.tabsScroller},TabIndicatorProps:{className:a.indicator}},u.default.createElement(v.default,{classes:{selected:a.tabSelected,root:a.tabRoot,wrapper:a.tabWrapper},icon:u.default.createElement("div",null,u.default.createElement("span",{className:a.invoiceCountText},s," ($",(0,D.formatter)(c),")"),u.default.createElement("span",{style:{fontSize:".8rem"}},"All Invoices"))}),this.state.days.map(function(e,t){return u.default.createElement(v.default,{classes:{selected:a.tabSelected,root:a.tabRoot},icon:u.default.createElement("div",null,u.default.createElement("span",{className:a.invoiceCountText},r[t]," ($",(0,D.formatter)(i[t]),")"),u.default.createElement("span",{style:{fontSize:".8rem"}},e))})})),0===o&&u.default.createElement(l,{theme:n},u.default.createElement(E.default,{emailOfCalled:this.props.emailOfCalled,collector:this.props.collector,customer:this.props.customer,filterInvoices:this.filterInvoices,bucketNames:this.state.days,invoices:this.state.invoices})),this.state.invoices.map(function(t,r){return o===r+1&&u.default.createElement(l,{theme:n,className:a.container},u.default.createElement(k.default,{emailOfCalled:e.props.emailOfCalled,collector:e.props.collector,customer:e.props.customer,filterInvoices:e.filterInvoices,individual:!0,days:e.state.days[r],invoices:t}))})),this.state.loading&&u.default.createElement("div",null,u.default.createElement(h.default,{value:o,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{scrollButtons:a.scrollButtons}},u.default.createElement(v.default,{style:{color:"white"},label:"All Invoice"}),this.state.days.map(function(e){return u.default.createElement(v.default,{style:{color:"white"},label:e+"days past due"})})),u.default.createElement(S.Paper,{style:{height:"24rem",marginTop:"2rem"}},u.default.createElement(x.default,{className:a.progress,size:100}))))}}]),t}(u.default.Component);N.propTypes={classes:p.default.object.isRequired},N.defaultProps=T,t.default=(0,f.withStyles)(I,{withTheme:!0})(N)},6123:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(88),p=n(d),f=a(23),m=a(86),h=n(m),g=a(69),v=a(24),y=a(166),b=a(70),C=a(115),E=a(168),S=n(E),w=a(68),x=n(w),O=a(41),k=n(O),D=a(40),I=n(D),T=a(8),N=n(T),P=function(e){var t;return{App:{textAlign:"center"},popOver:{color:e.palette.cardBackground.color,width:"20em"},head:{color:e.palette.cardBackground.color,fontSize:"1em",opacity:.65},icon:l({height:"calc(1.6vh + 1.6vw)",minWidth:"calc(1.6vh + 1.6vw)",cursor:"pointer",textAlign:"center",borderRadius:"50%"},"textAlign","center"),voiceMailIcon:{background:"#5DAAE0",padding:"1px"},voicemailSentIcon:{border:"2px solid #5DAAE0"},voicemailProgressParent:{cursor:"pointer",textAlign:"center"},voicemailBox:(t={wordBreak:"break-word",borderBottom:"0.5px solid rgb(93,170,224)"},l(t,"borderBottom","0.5px solid rgba(93,170,224,0.65)"),l(t,"padding","12px 12px 20px 12px"),l(t,"display","flex"),l(t,"marginBottom","20px"),l(t,"flexDirection","row"),t),disabledVoicemailBox:{cursor:"default !important",opacity:"0.65"},voicemailText:{display:"flex",flexDirection:"column",marginLeft:"1.2rem",cursor:"pointer"},voicemailProgress:{width:"inherit !important",height:"inherit !important",fill:"#5DAAE0"},closeIcon:{fill:"lightblue",position:"absolute",right:"3%",fontSize:"2rem",cursor:"pointer"},voicemailBtn:{color:"#FFF",fontSize:"1.7rem",padding:"10%"},voicemailSentBtn:{fontSize:"1.5rem !important"},disableBtn:{opacity:.4,cursor:"default"}}},A=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.initializeVoicemailData=function(e){for(var t=new Map,n=new Map,o=0;o<e.length;o++)t.set(e[o].id,!1),n.set(e[o].id,!1);a.setState({voicemailTemplates:e,voicemailClickMap:t,voicemailSentMap:n})},a.handleOpen=function(){a.setState({open:!0})},a.handleChange=function(e){a.setState({phoneNumber:e.target.value})},a.handleClose=function(){a.setState({open:!1,disableVoicemailClick:!a.state.isVoicemailEnabled})},a.handleVoicemailClick=function(e){if(!a.state.disableVoicemailClick){var t=e.id,n=a.state.voicemailClickMap;n.set(t,!0),a.setState({voicemailClickMap:n,disableVoicemailClick:!0},function(){console.log(e.templateName,a.state.id),a.setState(l({},t,!0)),"OK"===(0,b.sipToggleMute)()?a.setState({snackOpen:!0,snackMessage:"Mic auto muted"}):a.setState({snackOpen:!0,snackMessage:"Failed to auto mute mic!"}),0===t?((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("4"),console.log("1st Template")):1===t?((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("5"),console.log("2nd Template")):((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("6"),console.log("Last template")),a.props.onVoicemailClick()}),setTimeout(function(){var e=a.state.voicemailSentMap;e.set(t,!0),a.setState({voicemailSentMap:e,isVoicemailEnabled:!1})},2e3),setTimeout(function(){return a.handleClose()},C.VOICEMAIL_AUTO_CLOSE_TIMEMOUT)}},a.closeSnackbar=function(){a.setState({snackOpen:!1})},a.isVoicemailAvailable=function(){return"Connected to"===a.props.callState.status&&a.state.voicemailTemplates&&a.state.voicemailTemplates.length>0&&a.state.isVoicemailEnabled},a.state={open:!1,phoneNumber:"",displayNumber:"",dialled:!1,focus:!0,isVoicemailEnabled:!0,isVoicemailClicked:!1,voicemailClickMap:new Map,voicemailSentMap:new Map,voicemailTemplates:[],snackOpen:!1,disableVoicemailClick:!1},k.default.get(I.default.apiUrl+"/voicetemplate").then(function(e){console.log("Voicemail Fetched",e.data),a.initializeVoicemailData(e.data)}).catch(function(e){console.log("Failed to fetch voicemails",e)}),a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{className:a.App},u.default.createElement(y.Voicemail,{className:this.isVoicemailAvailable()?a.voicemailBtn:a.voicemailBtn+" "+a.disableBtn,onClick:this.isVoicemailAvailable()?this.handleOpen:C.emptyFunction}),u.default.createElement(p.default,{id:"simple-popper",open:this.state.open,onClose:this.handleClose,anchorReference:"anchorPosition",anchorPosition:{top:80},PaperProps:{style:{height:"100%",marginTop:"3em",right:"0",background:n.palette.solidBackground.main,borderLeft:"2px solid #FFF",borderRadius:0}},anchorOrigin:{vertical:20,horizontal:20},transformOrigin:{vertical:20,horizontal:20}},u.default.createElement("div",{className:a.popOver},u.default.createElement("div",{style:{display:"flex",paddingLeft:"4%",marginTop:"5%",alignItems:"center"}},u.default.createElement(f.Typography,{className:a.head},"VOICEMAIL"),u.default.createElement(y.Close,{onClick:this.handleClose,className:a.closeIcon})),u.default.createElement("br",null),u.default.createElement("div",null,this.state.voicemailTemplates.map(function(t){return u.default.createElement("div",{className:e.state.disableVoicemailClick?(0,N.default)(a.disabledVoicemailBox,a.voicemailBox):a.voicemailBox,key:t.id},!e.state.voicemailClickMap.get(t.id)&&u.default.createElement("div",{className:(0,N.default)(a.voiceMailIcon,a.icon)},u.default.createElement(y.Voicemail,{className:a.voicemailBtn})),e.state.voicemailClickMap.get(t.id)&&!e.state.voicemailSentMap.get(t.id)&&u.default.createElement("div",{className:(0,N.default)(a.voicemailProgressParent,a.baseIconSize)},u.default.createElement(h.default,{className:a.voicemailProgress})),e.state.voicemailClickMap.get(t.id)&&e.state.voicemailSentMap.get(t.id)&&u.default.createElement("div",{className:(0,N.default)(a.voicemailSentIcon,a.icon)},u.default.createElement(y.Done,{className:(0,N.default)(a.voicemailSentBtn,a.voicemailBtn)})),u.default.createElement("div",{className:a.voicemailText,onClick:function(){return e.handleVoicemailClick(t)}},!e.state.voicemailClickMap.get(t.id)&&u.default.createElement(f.Typography,{style:{color:n.palette.cardBackground.color,opacity:.65}},"Send"),e.state.voicemailClickMap.get(t.id)&&!e.state.voicemailSentMap.get(t.id)&&u.default.createElement(f.Typography,{style:{color:n.palette.cardBackground.color,opacity:.65}},"Sending"),e.state.voicemailClickMap.get(t.id)&&e.state.voicemailSentMap.get(t.id)&&u.default.createElement(f.Typography,{style:{color:"#5DAAE0",opacity:.65}},"Sent"),u.default.createElement(f.Typography,{style:{color:n.palette.cardBackground.color}},t.templateName)),u.default.createElement(y.MoreVert,{style:{right:"3%",position:"fixed"}}))})))),u.default.createElement(S.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:this.state.snackMessage},this.state.snackMessage),action:[u.default.createElement(f.IconButton,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(x.default,null))]}))}}]),t}(c.Component),j=(0,f.withStyles)(P)(A),M=function(e){return{callState:e.callState}},F=function(e){return{changeCaller:function(t){return e((0,g.changeCaller)(t))}}};t.default=(0,v.connect)(M,F)((0,f.withStyles)(P,{withTheme:!0})(j))},6124:function(e,t){e.exports="data:image/png;base64,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"},6125:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAABHNCSVQICAgIfAhkiAAABK1JREFUaIHNmW2IVFUYx3/PndlVS5CdOde3QFQSLWwxBUPMzTQQUwPxZemjlhD0JfRDUGZvRPjJiMgPFSrRF5WCkLKoVJKFtAxpUzFcX6C23Xtnd1a3nM2Z+/Th7uq6O3fumdmdHf9wuTPnPM95fnPm3HPOPY8wClLXnUMQLMVxFqL6CPAAMBWRelS7gC6gE/iRIDhKV9dPAsFIYkrFsMbMBZ4H1iEytzxn7QaOEASf0tX1fSU/omxwNWYtsB2RJ8v1jdDfBMHHZDLvCORsnazBtaGhkUTifUSeqIwvLoD+gUizeN6vNuZObHuQUNfdSSLxS9WgAUTmoHpK0+mX1aJDSxqo604EvgYeHy0+K6kewfebBf6NMokEV7gPY35A5LHq0MVI9Qz5/ErJZrPFqosOFYV6XPfbmkEDiCwkmfxGYXyx6mHgCg7GHAKWVh0uTiKLcd3Pi4354T2eTr+JyDNjAman1Rjz+tDCu35J/6LSikhyzLBspKrACvH94wNFd/e4yL57DhpARBD5SCExUHQbXF13C7CkJmB2epB0+oWBLwKgILjuJWBWzbBspHoN358poGGPG/M09zo0gMgMUqlVcGeovFRDnPLkOFsARGE8xvyDSOy+JVKzZ8O8eTB5MkyZEt6nToVcDtra7lznzsGNGyMDV+3B99NJjFlSEbQxsGkTbNgAjY32fh0dcPo0HDgAJ06UHRaRSRizTNR1dwJvWzs2NsK2bbB+PdTXlx94sC5ehL174eBBuHWrHM9XRY35EpF1saZ1dbBnD2zeXDFnpNrawnavXbP1OOQA06xMt26tDjSEz8iuXeV4PJQEXCvT5uboutZW2L8fTp6EK1cgGPIKaQzMnw+LFsGOHZAssjivXh2W5/M2NJNFXbcXuL+k2bhxcPUqOEWe4Vwu7DG7gHD4MDQ1Fa9raoILF+LbUA0cIH5vkk4Xhwbo7LSHBmhvj65raLBuxgGKvmHcpVJgdXXWwQCYMCG6Tqzf3TscVDOxZpkMqBavM6acgOECFaWbN21baU8icg54uKRZoRCO8ZkzIZuFS5fCq60tvCeT9vPwxo0wfTpMmxbeB3+2nw7bRY15DZG3Yk1nzQqhu7ttG6+mdidRbbH6qy9frj6OrQqFY6KQwHV7iJsS7xWp5vH9iY5AAfiq1jxlqEWgL5ycC4VPagxjL5EPYfCrmzFXEJlRW6oYqf6J788QCBwAAUXkjVpzWei9gbP0oecqZxB5tDZMMVI9j+8vEPgPhp+rPIfqiFIcVZFqQD7/7AA0DAHvP1SPX4zGWqrvSjZ7dnDRsJWn/9DzOCLLxo6spI7ieWuG5omG7VX7Ddag+vuYoUVJ9Wc8b32x5FbRTbb4/g1yuRVAa9XhovUbhcJTUQmtyGMJ6e3tBJagWotV9Sx9fculu7snyqDkeYp4Xi++vxbVHUDfqOMV1wd43mK5fr2rJJttazpp0mzq6vZX7aFVPQ+8KL5/zMa8/ARtKrURx3ll1BaqML+5G8/bV06GeSQp8eXAdmAVIuUdaan2IPIFQfCZZDLfVRK/YvDbDGFacSWwBlgApBBJoZoi7MEO4C/gInAGkVN4Xkv/drpi/Q+0X39cXIV6DwAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMC5idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0luQ2FsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGRhdGUtaW8vZGF0ZS1mbnMvYnVpbGQvaW5kZXguZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXRlcmlhbC11aS1waWNrZXJzL2Rpc3QvbWF0ZXJpYWwtdWktcGlja2Vycy5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbnVtYmVyLWZvcm1hdC9saWIvbnVtYmVyX2Zvcm1hdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9EdWVEZXRhaWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvSW52b2ljZVRhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvUHJvcFR5cGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1RyYW5zY3JpcHRCb3guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL1Bvc3RDYWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0FjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUDJQLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRleHQtbWFzay9kaXN0L3JlYWN0VGV4dE1hc2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvaGFzQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvUmVwbGFjZVRyYW5zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW51bWJlci1mb3JtYXQvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Rpc3B1dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRm9sbG93dXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQWN0aW9uRGV0YWlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9MaXN0T2ZUaWxlLmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9GaW5hbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbkdyb3VwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvVHJhbnNpdGlvbkdyb3VwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGFpbi1mdW5jdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL25vZGVfbW9kdWxlcy93YXJuaW5nL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC91dGlscy9DaGlsZE1hcHBpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdXRpbC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQWN0aW9uQ3JlYXRvckRpYWxvZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DaGF0Qm94LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1oaWdobGlnaHQtd29yZHMvZGlzdC9tYWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9SaXBwbGUuZ2lmIiwid2VicGFjazovLy8uL3NyYy91dGlscy9oZWxwZXJzL3Bvc3RDYWxsSGVscGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9jb21tb25TZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0luQ2FsbERldGFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVm9pY2VtYWlsV3JhcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL21pY19vZmYucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvaGFuZy11cC5wbmciXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiNjA3NSIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmluZVByb3BlcnR5Iiwia2V5IiwidmFsdWUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJjYWxsIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX3N0eWxlcyIsIl9HcmlkIiwiX0dyaWQyIiwiX1R5cG9ncmFwaHkiLCJfVHlwb2dyYXBoeTIiLCJfY2xhc3NuYW1lcyIsIl9jbGFzc25hbWVzMiIsIl9Db250YWN0TGlzdCIsIl9Db250YWN0TGlzdDIiLCJfc2lwVXRpbHMiLCJfYWN0aW9ucyIsIl9jYWxsTG9nQWN0aW9ucyIsIl9yZWFjdFJlZHV4IiwiX0Nsb3NlIiwiX0Nsb3NlMiIsIl9yZWFjdFJvdXRlckRvbSIsIl9DYWxsUHJlcERldGFpbHMiLCJfQ2FsbFByZXBEZXRhaWxzMiIsIl9Qb3N0Q2FsbCIsIl9Qb3N0Q2FsbDIiLCJfSW5DYWxsRGV0YWlscyIsIl9JbkNhbGxEZXRhaWxzMiIsIl9yZWFjdEhhbW1lcmpzIiwiX3JlYWN0SGFtbWVyanMyIiwiX01vZGFsIiwiX01vZGFsMiIsIl9Ub29sdGlwIiwiX1Rvb2x0aXAyIiwiX0ZhYiIsIl9GYWIyIiwiX05hdmlnYXRlTmV4dCIsIl9OYXZpZ2F0ZU5leHQyIiwiX05hdmlnYXRlQmVmb3JlIiwiX05hdmlnYXRlQmVmb3JlMiIsIl9EcmF3ZXIiLCJfRHJhd2VyMiIsIl9BcnJvd0Ryb3BEb3duIiwiX0Fycm93RHJvcERvd24yIiwiX0N1c3RvbWVyRHJhd2VyT3B0aW9ucyIsIl9LZXlQYWRXcmFwcGVkIiwiX0tleVBhZFdyYXBwZWQyIiwiX1ZlcnRpY2FsVGltZUxpbmUiLCJfVmVydGljYWxUaW1lTGluZTIiLCJfVm9pY2VtYWlsV3JhcHBlciIsIl9Wb2ljZW1haWxXcmFwcGVyMiIsIl9UcmFuc2NyaXB0Q2hhdCIsIl9oZWxwZXIiLCJfQ3VzdG9tRm9vdGVyIiwiX0N1c3RvbUZvb3RlcjIiLCJfRnJlZGFCdXR0b24iLCJfVHJhbnNjcmlwdEJveCIsIl9UcmFuc2NyaXB0Qm94MiIsIl9jb21iaW5lU3R5bGVzIiwiX2NvbWJpbmVTdHlsZXMyIiwiX2Jhc2VTdHlsZSIsIl9iYXNlU3R5bGUyIiwidGltZUludGVydmFsIiwicmVxdWlyZSIsInN0eWxlcyIsInRoZW1lIiwiYXBwRnJhbWUiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsIm1heEhlaWdodCIsInJvb3QiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJwYWxldHRlIiwiYmFja2dyb3VuZCIsIm1haW4iLCJ3aWR0aCIsIm1hcmdpblJpZ2h0IiwibWFyZ2luTGVmdCIsImFsaWduSXRlbXMiLCJwYWRkaW5nQm90dG9tIiwianVzdGlmeUNvbnRlbnQiLCJmb250RmFtaWx5IiwiZm9udCIsInRpdGxlIiwiaGFuZ1VwSWNvbkluZyIsImhlaWdodCIsImN1cnNvciIsImNhbGxUZXh0IiwiY29sb3IiLCJwcmltYXJ5IiwiZm9udFNpemUiLCJkaWFscGFkSWNvbiIsInBhZGRpbmdSaWdodCIsInZvaWNlTWFpbEljb24iLCJib3JkZXJSYWRpdXMiLCJ0ZXh0QWxpZ24iLCJwYWRkaW5nIiwic3RhdHVzIiwiekluZGV4IiwiZHVyYXRpb24iLCJjdXN0b21lck5hbWUiLCJzZWNvbmRhcnkiLCJsaW5lSGVpZ2h0IiwiY3VzdG9tZXJOdW1iZXIiLCJ0cmFuc2NyaXB0Qm94IiwiYmFja2dyb3VuZENvbG9yIiwiY2FyZEJhY2tncm91bmQiLCJwb3NpdGlvbiIsInRyYW5zY3JpcHRUaXRsZSIsInBhZGRpbmdMZWZ0Iiwib3BhY2l0eSIsInBhZGRpbmdUb3AiLCJuZXh0RmFiIiwicmlnaHQiLCJzcGFjaW5nIiwidW5pdCIsInByZXZGYWIiLCJoYW5nVXBCdXR0b24iLCJoYW5nVXBCdXR0b25JbWciLCJkcm9wRG93bkljb24iLCJkcm9wRG93biIsIm1pY09mZkljb25JbWciLCJtaWNPZmZJY29uIiwiY2FsbGVkQ29udGFjdE5hbWUiLCJjYWxsZWRUb0NvbnRhY3REaXYiLCJ0cmFuc2NyaXB0Qm94UGFyZW50IiwiY2xvc2VTdHlsZSIsInRvcCIsImxlZnQiLCJjdXN0b21lckhpc3RvcnlNb2RhbCIsImJvdHRvbSIsIm92ZXJmbG93V3JhcCIsIm92ZXJmbG93WSIsImJveFNoYWRvdyIsInNoYWRvd3MiLCJzb2xpZEJhY2tncm91bmQiLCJhY3Rpb25JY29uIiwiYWN0aW9uQnV0dG9uIiwic2FsZXMiLCJyb3dzIiwiaXRlbSIsInByb2R1Y3QiLCJyZWdpb24iLCJhbW91bnQiLCJzYWxlRGF0ZSIsImN1c3RvbWVyIiwicHVzaCIsIkluQ2FsbCIsIl9Db21wb25lbnQiLCJ0aGlzIiwiX3RoaXMiLCJnZXRQcm90b3R5cGVPZiIsIm9wZW5Db250YWN0RHJvcGRvd24iLCJzdGF0ZSIsImNvbnRhY3RPcGVuIiwic2V0U3RhdGUiLCJ0b2dnbGVDb250YWN0UG9wb3ZlciIsImdldEZvcm1hdHRlZER1cmF0aW9uIiwiY2FsbER1cmF0aW9uIiwiaHIiLCJNYXRoIiwiZmxvb3IiLCJtaW4iLCJzZWMiLCJvcGVuVm9pY2VtYWlsIiwiaXNWb2ljZW1haWxPcGVuIiwiY2xvc2VQb3BUaW1lbGluZSIsInBvcFRpbWVsaW5lIiwib3BlblBvcFRpbWVsaW5lIiwicG9wVHlwZSIsImdldFRpbWVsaW5lIiwiZXZlbnRzIiwiY2xhc3NlcyIsIm1haW5IZWFkZXIiLCJub0V2ZW50TXNnIiwicGF5bWVudHMiLCJjb21tdW5pY2F0aW9uIiwidHlwZSIsInRvVXBwZXJDYXNlIiwiY29tbVR5cGUiLCJjcmVhdGVFbGVtZW50IiwidG9nZ2xlTXV0ZSIsImlzTXV0ZWQiLCJzaXBUb2dnbGVNdXRlIiwic2V0RHVyYXRpb24iLCJzZXRJbnRlcnZhbCIsImNhbGxTdGF0ZSIsImNhbGxEdXJhdGlvbkluRm9ybWF0IiwiY2xlYXJJbnRlcnZhbE9uSGFuZ3VwIiwiY2xlYXJJbnRlcnZhbCIsImhhbmdVcCIsInNpcEhhbmd1cCIsInN3aXRjaFRvQ2FsbFByZXBQYWdlIiwiY2FsbFByZXBQYWdlIiwic3dpdGNoVG9DYWxsSW5DYWxsUGFnZSIsImhhbmRsZVZvaWNlbWFpbE1lc3NhZ2UiLCJjb250YWN0IiwiY2FsbGVkTmFtZSIsImNhbGxlZFRvRmlyc3ROYW1lIiwiY2FsbGVkVG9MYXN0TmFtZSIsImxvY2F0aW9uIiwiY2FsbGVkVG9OdW1iZXIiLCJtZXNzYWdlIiwidm9pY2VtYWlsUGxheWVkTWVzc2FnZSIsIm15UmVmIiwiUmVhY3QiLCJjcmVhdGVSZWYiLCJjaGFuZ2VDYWxsU3RhdGUiLCJjYWxsaW5nIiwiY29udGFjdEluZGV4IiwiY2FsbGVkVG9Db250YWN0SWQiLCJjb25zb2xlIiwibG9nIiwiY29udGFjdHMiLCJpZCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWxPZkNhbGxlZCIsImVtYWlsIiwiY29udGFjdElkIiwiY2FsbGVkVG9GdWxsTmFtZSIsImxvY2F0aW9uUHJvcHMiLCJhY2NvdW50IiwiY3VzdG9tZXJzIiwiZmlsdGVyIiwiYWNjb3VudElkIiwiY2FsbExvZyIsImNhbGxlZFRvIiwic3RhcnREYXRlVGltZSIsIkRhdGUiLCJkaXNhYmxlRnJlZGFJbkNhbGwiLCJzaXBDYWxsIiwidXNlciIsImludm9pY2VzIiwibG9hZGluZyIsInJlZGlyZWN0IiwidHJhbnNjcmlwdGlvbiIsInN1bW1hcnkiLCJjb2x1bW5zIiwibmFtZSIsImN1cnJlbmN5Q29sdW1ucyIsInBhZ2VTaXplcyIsIm5leHRQcm9wcyIsImN1cnJlbnRUcmFuc2NyaXB0aW9uIiwibmV3VHJhbnNjcmlwdGlvbiIsIl9SZWFjdCRjcmVhdGVFbGVtZW50IiwiX3RoaXMyIiwiX3Byb3BzIiwiY2FsbGVkVG9OYW1lSW5pdGlhbHMiLCJwYXJzZUludCIsIm1hdGNoIiwicGFyYW1zIiwiZ2V0SW5pdGlhbHNGcm9tTmFtZSIsImNsYXNzTmFtZSIsInRvcEl0ZW1zIiwiZ2V0TWVudUl0ZW1zIiwib25Td2lwZUxlZnQiLCJvblN3aXBlUmlnaHQiLCJvcGVuIiwiZGlzYWJsZUF1dG9Gb2N1cyIsIm9uQ2xvc2UiLCJvbkNsaWNrIiwiYXJpYS1sYWJlbCIsImZhYkJ1dHRvbnMiLCJkaXNhYmxlZCIsImRpc2FibGVkRmFiIiwic2l6ZSIsImRpc2FibGVkQXJyb3dpY29uIiwiYXJyb3dJY29uIiwiY29udGFpbmVyIiwieHMiLCJqdXN0aWZ5Iiwic3R5bGUiLCJtYXJnaW5Ub3AiLCJub1dyYXAiLCJzbSIsImxnIiwibWQiLCJ4bCIsImNhbGxHcmlkIiwiY3VzdG9tZXJJY29uQ2lyY2xlIiwiY2hhckF0IiwidmFyaWFudCIsImFsaWduIiwiY29udGFjdEljb24iLCJkYXRhRnJvbUNoaWxkIiwib3BlbkNvbnRhY3RzIiwiYnVja2V0TmFtZXMiLCJuZXh0Q3VzdG9tZXJVcmwiLCJuZXh0VXJsIiwidG9DYWxsQ3VzdG9tZXJzIiwiY2VudGVyRmxleEJveCIsInNyYyIsImJhc2VJY29uU2l6ZSIsIm9uVm9pY2VtYWlsQ2xpY2siLCJjb2xsZWN0b3IiLCJhdXRvU2Nyb2xsIiwidHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lIiwidHJhbnNjcmlwdENoYXRQcm9wcyIsInVzZXJJbml0aWFscyIsInRyYW5zY3JpcHRHcmlkSUQiLCJSZWRpcmVjdCIsInRvIiwicGF0aG5hbWUiLCJ2b2ljZW1haWxNZXNzYWdlIiwib25IYW5ndXAiLCJjYWxsZWRUb05hbWUiLCJpbml0aWFsVHJhbnNjcmlwdGlvbiIsIkNvbXBvbmVudCIsIm1hcFN0YXRlVG9Qcm9wcyIsInBlcnNvbmFsRGV0YWlscyIsIm1hcERpc3BhdGNoVG9Qcm9wcyIsImRpc3BhdGNoIiwiZGF0YSIsImNoYW5nZVN0YXR1cyIsImNoYW5nZVRyYW5zY3JpcHRpb24iLCJhZGRJbml0aWFsQ2FsbExvZyIsImNvbWJpbmVkU3R5bGUiLCJiYXNlU3R5bGUiLCJjb25uZWN0Iiwid2l0aFN0eWxlcyIsIndpdGhUaGVtZSIsIjYwNzYiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2RhdGVfZm5zX2FkZERheXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9kYXRlX2Zuc19hZGRNb250aHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9kYXRlX2Zuc19hZGRZZWFyc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2RhdGVfZm5zX2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2RhdGVfZm5zX2VhY2hEYXlPZkludGVydmFsX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfZGF0ZV9mbnNfZW5kT2ZEYXlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9kYXRlX2Zuc19lbmRPZk1vbnRoX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfZGF0ZV9mbnNfZW5kT2ZXZWVrX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfZGF0ZV9mbnNfZW5kT2ZZZWFyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX2RhdGVfZm5zX2dldEhvdXJzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX2RhdGVfZm5zX2dldFNlY29uZHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfZGF0ZV9mbnNfZ2V0WWVhcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19kYXRlX2Zuc19pc0FmdGVyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X2RhdGVfZm5zX2lzQmVmb3JlX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2RhdGVfZm5zX2lzRXF1YWxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfZGF0ZV9mbnNfaXNTYW1lRGF5X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X2RhdGVfZm5zX2lzVmFsaWRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfZGF0ZV9mbnNfcGFyc2VfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfZGF0ZV9mbnNfc2V0SG91cnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfZGF0ZV9mbnNfc2V0TWludXRlc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9kYXRlX2Zuc19zZXRTZWNvbmRzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX2RhdGVfZm5zX3NldFllYXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfZGF0ZV9mbnNfc3RhcnRPZkRheV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9kYXRlX2Zuc19zdGFydE9mTW9udGhfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfZGF0ZV9mbnNfc3RhcnRPZldlZWtfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfZGF0ZV9mbnNfc3RhcnRPZlllYXJfXyIsIkRhdGVGbnNVdGlscyIsIl9hIiwibG9jYWxlIiwiZGF0ZVRpbWUxMmhGb3JtYXQiLCJkYXRlVGltZTI0aEZvcm1hdCIsInRpbWUxMmhGb3JtYXQiLCJ0aW1lMjRoRm9ybWF0IiwiZGF0ZUZvcm1hdCIsImFkZERheXMiLCJjb3VudCIsImlzVmFsaWQiLCJnZXREaWZmIiwiY29tcGFyaW5nIiwiaXNBZnRlciIsImlzQmVmb3JlIiwic3RhcnRPZkRheSIsImVuZE9mRGF5IiwiZ2V0SG91cnMiLCJzZXRIb3VycyIsInNldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwic2V0U2Vjb25kcyIsImlzU2FtZURheSIsImdldFN0YXJ0T2ZNb250aCIsImdldFllYXIiLCJzZXRZZWFyIiwiZGF0ZSIsInBhcnNlIiwiZm9ybWF0U3RyaW5nIiwiZm9ybWF0IiwiaXNFcXVhbCIsImlzTnVsbCIsImlzQWZ0ZXJEYXkiLCJpc0JlZm9yZURheSIsImlzQmVmb3JlWWVhciIsImlzQWZ0ZXJZZWFyIiwiZm9ybWF0TnVtYmVyIiwibnVtYmVyVG9Gb3JtYXQiLCJnZXRNaW51dGVzIiwiZ2V0TW9udGgiLCJnZXRNZXJpZGllbVRleHQiLCJhbXBtIiwiZ2V0TmV4dE1vbnRoIiwiZ2V0UHJldmlvdXNNb250aCIsIm1lcmdlRGF0ZUFuZFRpbWUiLCJ0aW1lIiwiZ2V0V2Vla2RheXMiLCJub3ciLCJzdGFydCIsImVuZCIsIm1hcCIsImRheSIsImdldFdlZWtBcnJheSIsImN1cnJlbnQiLCJuZXN0ZWRXZWVrcyIsIndlZWtOdW1iZXIiLCJnZXRZZWFyUmFuZ2UiLCJzdGFydERhdGUiLCJlbmREYXRlIiwieWVhcnMiLCJnZXRDYWxlbmRhckhlYWRlclRleHQiLCJnZXRZZWFyVGV4dCIsImdldERhdGVQaWNrZXJIZWFkZXJUZXh0IiwiZ2V0RGF0ZVRpbWVQaWNrZXJIZWFkZXJUZXh0IiwiZ2V0RGF5VGV4dCIsImdldEhvdXJUZXh0IiwiZ2V0TWludXRlVGV4dCIsImdldFNlY29uZFRleHQiLCI2MDc3IiwiZCIsIkRhdGVQaWNrZXJNb2RhbCQxIiwiRGF0ZVBpY2tlcklubGluZSQxIiwiVGltZVBpY2tlck1vZGFsJDEiLCJUaW1lUGlja2VySW5saW5lJDEiLCJEYXRlVGltZVBpY2tlck1vZGFsJDEiLCJEYXRlVGltZVBpY2tlcklubGluZSQxIiwiQmFzZVBpY2tlciQxIiwiQ2FsZW5kYXIkMSIsIkRheSQxIiwiVGltZVBpY2tlclZpZXckMSIsIkNsb2NrJDEiLCJNdWlQaWNrZXJzVXRpbHNQcm92aWRlciIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Byb3BfdHlwZXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fIiwibiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19yZWFjdF90ZXh0X21hc2tfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19yZWFjdF90ZXh0X21hc2tfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX21hdGVyaWFsX3VpX2NvcmVfSW5wdXRBZG9ybm1lbnRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fbWF0ZXJpYWxfdWlfY29yZV9JbnB1dEFkb3JubWVudF9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX21hdGVyaWFsX3VpX2NvcmVfVGV4dEZpZWxkX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX21hdGVyaWFsX3VpX2NvcmVfVGV4dEZpZWxkX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nQWN0aW9uc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nQ29udGVudF9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fbWF0ZXJpYWxfdWlfY29yZV9Ub29sYmFyX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9yZWFjdF9kb21fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX21hdGVyaWFsX3VpX2NvcmVfUG9wb3Zlcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fbWF0ZXJpYWxfdWlfY29yZV9Qb3BvdmVyX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX21hdGVyaWFsX3VpX2NvcmVfUGFwZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX21hdGVyaWFsX3VpX2NvcmVfUGFwZXJfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFRoZW1lX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoVGhlbWVfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX21hdGVyaWFsX3VpX2NvcmVfVGFiX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX21hdGVyaWFsX3VpX2NvcmVfVGFic19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX19fZGVmYXVsdCIsIkNvbnN1bWVyIiwiUHJvdmlkZXIiLCJNdWlQaWNrZXJzQ29udGV4dENvbnN1bWVyIiwiX3N1cGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ1dGlscyIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsIlV0aWxzIiwibW9tZW50IiwicmVuZGVyIiwiY2hpbGRyZW4iLCJkZWZhdWx0UHJvcHMiLCJ1bmRlZmluZWQiLCJjaGVja1V0aWxzIiwiRXJyb3IiLCJ3aXRoVXRpbHMiLCJDb21wb25lbnQkJDEiLCJXaXRoVXRpbHMiLCJkaXNwbGF5TmFtZSIsImdldEluaXRpYWxEYXRlIiwiaW5pdGlhbEZvY3VzZWREYXRlIiwiaW5pdGlhbERhdGUiLCJCYXNlUGlja2VyIiwiaXNBY2NlcHRlZCIsImNoYW5nZURhdGUiLCJjYWxsYmFjayIsImhhbmRsZUFjY2VwdGVkQ2hhbmdlIiwiaGFuZGxlQ2xlYXIiLCJvbkNoYW5nZSIsImhhbmRsZUFjY2VwdCIsImhhbmRsZVNldFRvZGF5RGF0ZSIsImhhbmRsZUNoYW5nZSIsImhhbmRsZVRleHRGaWVsZENoYW5nZSIsIm1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2UiLCJwaWNrMTJoT3IyNGhGb3JtYXQiLCJkZWZhdWx0MTJoRm9ybWF0IiwiZGVmYXVsdDI0aEZvcm1hdCIsIm5ld0RhdGUiLCJpc0ZpbmlzaCIsImF1dG9PayIsImhhbmRsZURpc21pc3MiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJJbnB1dCIsImlucHV0UmVmIiwia2VlcENoYXJQb3NpdGlvbnMiLCJyZXN0IiwibWFzayIsImEiLCJyZWYiLCJnZXREaXNwbGF5RGF0ZSIsImludmFsaWRMYWJlbCIsImVtcHR5TGFiZWwiLCJsYWJlbEZ1bmMiLCJpc0VtcHR5IiwiZ2V0RXJyb3IiLCJtYXhEYXRlIiwibWluRGF0ZSIsImRpc2FibGVQYXN0IiwiZGlzYWJsZUZ1dHVyZSIsIm1heERhdGVNZXNzYWdlIiwibWluRGF0ZU1lc3NhZ2UiLCJpbnZhbGlkRGF0ZU1lc3NhZ2UiLCJEYXRlVGV4dEZpZWxkIiwidXBkYXRlU3RhdGUiLCJjb21taXRVcGRhdGVzIiwiY2xlYXJhYmxlIiwib25DbGVhciIsIm9uRXJyb3IiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiZXJyb3IiLCJkaXNwbGF5VmFsdWUiLCJoYW5kbGVCbHVyIiwiZSIsImtleWJvYXJkIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJvbkJsdXIiLCJvbklucHV0Q2hhbmdlIiwicGFyc2VkVmFsdWUiLCJoYW5kbGVGb2N1cyIsIm9wZW5QaWNrZXIiLCJoYW5kbGVLZXlQcmVzcyIsImRpc2FibGVPcGVuT25FbnRlciIsImFkb3JubWVudFBvc2l0aW9uIiwiSW5wdXRBZG9ybm1lbnRQcm9wcyIsIklucHV0UHJvcHMiLCJrZXlib2FyZEljb24iLCJwaXBlIiwiVGV4dEZpZWxkQ29tcG9uZW50Iiwib3RoZXIiLCJfYiIsImxvY2FsSW5wdXRQcm9wcyIsImlucHV0Q29tcG9uZW50IiwiaW5wdXRQcm9wcyIsInJlYWRPbmx5IiwiaGVscGVyVGV4dCIsIm9uS2V5UHJlc3MiLCJEYXRlVGV4dEZpZWxkJDEiLCJNb2RhbERpYWxvZyIsIl9jIiwiX2QiLCJvbktleURvd24iLCJvbkFjY2VwdCIsIm9uRGlzbWlzcyIsIm9uU2V0VG9kYXkiLCJva0xhYmVsIiwiY2FuY2VsTGFiZWwiLCJjbGVhckxhYmVsIiwidG9kYXlMYWJlbCIsInNob3dUb2RheUJ1dHRvbiIsInNob3dUYWJzIiwicm9sZSIsInBhcGVyIiwiZGlhbG9nUm9vdCIsImRpYWxvZ1dpdGhUYWJzIiwiZGlhbG9nIiwiZGlhbG9nQWN0aW9ucyIsImFjdGlvbiIsImRpYWxvZ0FjdGlvbiIsImNsZWFyYWJsZURpYWxvZ0FjdGlvbiIsInRvZGF5RGlhbG9nQWN0aW9uIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJvdmVyZmxvdyIsIiY6Zmlyc3QtY2hpbGQiLCJNb2RhbERpYWxvZyQxIiwiTW9kYWxXcmFwcGVyIiwiaGFuZGxlS2V5RG93biIsImV2ZW50Iiwib25PcGVuIiwiY2xvc2UiLCJEaWFsb2dQcm9wcyIsIlBpY2tlclRvb2xiYXIiLCJ0b29sYmFyIiwic3R5bGVzJDEiLCJQaWNrZXJUb29sYmFyJDEiLCJUb29sYmFyQnV0dG9uIiwic2VsZWN0ZWQiLCJsYWJlbCIsInRvb2xiYXJCdG4iLCJ0b29sYmFyQnRuU2VsZWN0ZWQiLCJzdHlsZXMkMiIsImNvbW1vbiIsIndoaXRlIiwiVG9vbGJhckJ1dHRvbiQxIiwiZmluZENsb3Nlc3RFbmFibGVkRGF0ZSIsInNob3VsZERpc2FibGVEYXRlIiwidG9kYXkiLCJmb3J3YXJkIiwiYmFja3dhcmQiLCJTbGlkZVRyYW5zaXRpb24iLCJ0cmFuc0tleSIsInNsaWRlRGlyZWN0aW9uIiwidHJhbnNpdGlvbkNvbnRhaW5lciIsIm1vdW50T25FbnRlciIsInVubW91bnRPbkV4aXQiLCJ0aW1lb3V0IiwiY2xhc3NOYW1lcyIsImVudGVyIiwiZW50ZXJBY3RpdmUiLCJzbGlkZUVudGVyQWN0aXZlIiwiZXhpdCIsInNsaWRlRXhpdCIsImV4aXRBY3RpdmUiLCJzdHlsZXMkMyIsInNsaWRlVHJhbnNpdGlvbiIsInRyYW5zaXRpb25zIiwiZWFzaW5nIiwiJiA+ICoiLCJzbGlkZUVudGVyLWxlZnQiLCJ3aWxsQ2hhbmdlIiwidHJhbnNmb3JtIiwic2xpZGVFbnRlci1yaWdodCIsInRyYW5zaXRpb24iLCJzbGlkZUV4aXRBY3RpdmVMZWZ0LWxlZnQiLCJzbGlkZUV4aXRBY3RpdmVMZWZ0LXJpZ2h0IiwiU2xpZGVUcmFuc2l0aW9uJDEiLCJDYWxlbmRhckhlYWRlciIsImN1cnJlbnRNb250aCIsIm9uTW9udGhDaGFuZ2UiLCJsZWZ0QXJyb3dJY29uIiwicmlnaHRBcnJvd0ljb24iLCJkaXNhYmxlUHJldk1vbnRoIiwiZGlzYWJsZU5leHRNb250aCIsInJ0bCIsImRpcmVjdGlvbiIsInNlbGVjdE5leHRNb250aCIsInNlbGVjdFByZXZpb3VzTW9udGgiLCJzd2l0Y2hIZWFkZXIiLCJpY29uQnV0dG9uIiwidG9TdHJpbmciLCJkYXlzSGVhZGVyIiwiaW5kZXgiLCJkYXlMYWJlbCIsInN0eWxlcyQ0IiwibWFyZ2luQm90dG9tIiwibWFyZ2luIiwidGV4dCIsImhpbnQiLCJDYWxlbmRhckhlYWRlciQxIiwiRGF5IiwiaGlkZGVuIiwidGFiSW5kZXgiLCJzdHlsZXMkNSIsInR5cG9ncmFwaHkiLCJjYXB0aW9uIiwiZm9udFdlaWdodCIsImZvbnRXZWlnaHRNZWRpdW0iLCJwb2ludGVyRXZlbnRzIiwiJjpob3ZlciIsIkRheVdyYXBwZXIiLCJoYW5kbGVDbGljayIsIm9uU2VsZWN0IiwiZGF5SW5DdXJyZW50TW9udGgiLCJDYWxlbmRhciIsIm9uRGF0ZVNlbGVjdCIsImhhbmRsZUNoYW5nZU1vbnRoIiwibmV3TW9udGgiLCJ2YWxpZGF0ZU1pbk1heERhdGUiLCJzaG91bGREaXNhYmxlUHJldk1vbnRoIiwic2hvdWxkRGlzYWJsZU5leHRNb250aCIsIkJvb2xlYW4iLCJtb3ZlVG9EYXkiLCJyZW5kZXJXZWVrcyIsIndlZWsiLCJyZW5kZXJEYXlzIiwicmVuZGVyRGF5Iiwic2VsZWN0ZWREYXRlIiwiY3VycmVudE1vbnRoTnVtYmVyIiwiZGF5Q29tcG9uZW50IiwibGFzdERhdGUiLCJjb21wb25lbnREaWRNb3VudCIsImNsb3Nlc3RFbmFibGVkRGF0ZSIsImFsbG93S2V5Ym9hcmRDb250cm9sIiwiYXV0b0ZvY3VzIiwic3R5bGVzJDYiLCJZZWFyIiwiY29tcG9uZW50Iiwic3R5bGVzJDciLCJvdXRsaW5lIiwiJjpmb2N1cyIsIlllYXIkMSIsIlllYXJTZWxlY3Rpb24iLCJzZWxlY3RlZFllYXJSZWYiLCJnZXRTZWxlY3RlZFllYXJSZWYiLCJzY3JvbGxUb0N1cnJlbnRZZWFyIiwiZG9tTm9kZSIsImFuaW1hdGVZZWFyU2Nyb2xsaW5nIiwiY3VycmVudFllYXJFbGVtZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJzZXRUaW1lb3V0IiwiYmVoYXZpb3IiLCJvblllYXJTZWxlY3QiLCJ5ZWFyIiwiY3VycmVudFllYXIiLCJ5ZWFyTnVtYmVyIiwic3R5bGVzJDgiLCJZZWFyU2VsZWN0aW9uJDEiLCJEYXRlUGlja2VyIiwic2hvd1llYXJTZWxlY3Rpb24iLCJvcGVuVG9ZZWFyU2VsZWN0aW9uIiwiaGFuZGxlWWVhclNlbGVjdCIsIm9wZW5DYWxlbmRhciIsIm9wZW5ZZWFyU2VsZWN0aW9uIiwiZ2V0IiwiRGF0ZVBpY2tlciQxIiwiRGF0ZVBpY2tlck1vZGFsIiwiZm9yd2FyZGVkUmVmIiwiSW5saW5lV3JhcHBlciIsImFuY2hvckVsIiwiY3VycmVudFRhcmdldCIsIlBvcG92ZXJQcm9wcyIsIm9ubHlDYWxlbmRhciIsImlzT3BlbiIsInBvcG92ZXJQYXBlciIsImFuY2hvck9yaWdpbiIsInZlcnRpY2FsIiwiaG9yaXpvbnRhbCIsInRyYW5zZm9ybU9yaWdpbiIsInN0eWxlcyQ5IiwibWF4V2lkdGgiLCJJbmxpbmVXcmFwcGVyJDEiLCJEYXRlUGlja2VySW5saW5lIiwiQ29tcG9uZW50VG9TaG93IiwiaW5uZXJSZWYiLCJDbG9ja1R5cGUiLCJjZW50ZXIiLCJ4IiwieSIsImJhc2VQb2ludCIsImN4IiwiY3kiLCJyYWQyZGVnIiwicmFkIiwiZ2V0QW5nbGVWYWx1ZSIsInN0ZXAiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImF0YW4iLCJhdGFuMiIsImRlZyIsInJvdW5kIiwiZGVsdGEiLCJwb3ciLCJkaXN0YW5jZSIsInNxcnQiLCJjb252ZXJ0VG9NZXJpZGllbSIsIm1lcmlkaWVtIiwiaG91cnMiLCJDbG9ja1R5cGUkMSIsIkNsb2NrUG9pbnRlciIsInRvQW5pbWF0ZVRyYW5zZm9ybSIsInByZXZpb3VzVHlwZSIsImdldEFuZ2xlU3R5bGUiLCJpc0lubmVyIiwibWF4IiwiSE9VUlMiLCJhbmdsZSIsImhhc1NlbGVjdGVkIiwicG9pbnRlciIsImFuaW1hdGVUcmFuc2Zvcm0iLCJ0aHVtYiIsIm5vUG9pbnQiLCJzdHlsZXMkYSIsImJvcmRlciIsImJveFNpemluZyIsIkNsb2NrUG9pbnRlciQxIiwiQ2xvY2siLCJpc01vdmluZyIsImhhbmRsZVRvdWNoTW92ZSIsInNldFRpbWUiLCJoYW5kbGVUb3VjaEVuZCIsImhhbmRsZU1vdmUiLCJidXR0b25zIiwibmF0aXZlRXZlbnQiLCJ3aGljaCIsImhhbmRsZU1vdXNlVXAiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2hhbmdlZFRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsIlNFQ09ORFMiLCJNSU5VVEVTIiwiaXNQb2ludGVySW5uZXIiLCJjbG9jayIsInNxdWFyZU1hc2siLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJvbk1vdXNlVXAiLCJvbk1vdXNlTW92ZSIsInBpbiIsInN0eWxlcyRiIiwidG91Y2hBY3Rpb25zIiwidXNlclNlbGVjdCIsIiY6YWN0aXZlIiwicG9zaXRpb25zIiwiMCIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwiOSIsIjEwIiwiMTEiLCIxMiIsIjEzIiwiMTQiLCIxNSIsIjE2IiwiMTciLCIxOCIsIjE5IiwiMjAiLCIyMSIsIjIyIiwiMjMiLCJDbG9ja051bWJlciIsImdldFRyYW5zZm9ybVN0eWxlIiwiY2xvY2tOdW1iZXIiLCJzdHlsZXMkYyIsIkNsb2NrTnVtYmVyJDEiLCJnZXRIb3VyTnVtYmVycyIsImN1cnJlbnRIb3VycyIsImhvdXJOdW1iZXJzIiwic3RhcnRIb3VyIiwiZW5kSG91ciIsImhvdXIiLCJnZXRNaW51dGVzTnVtYmVycyIsImYiLCJUaW1lUGlja2VyVmlldyIsImdldFZpZXdQcm9wcyIsImhhbmRsZUhvdXJDaGFuZ2UiLCJtaW51dGVzVmFsdWUiLCJoYW5kbGVNaW51dGVzQ2hhbmdlIiwic2Vjb25kc1ZhbHVlIiwiaGFuZGxlU2Vjb25kc0NoYW5nZSIsInVwZGF0ZWRUaW1lIiwib25Ib3VyQ2hhbmdlIiwibWludXRlcyIsIm9uTWludXRlc0NoYW5nZSIsInNlY29uZHMiLCJvblNlY29uZHNDaGFuZ2UiLCJ2aWV3UHJvcHMiLCJUaW1lUGlja2VyIiwib3BlblZpZXciLCJtZXJpZGllbU1vZGUiLCJzZXRNZXJpZGllbU1vZGUiLCJtb2RlIiwib3Blbk1pbnV0ZXMiLCJvcGVuU2Vjb25kcyIsIndpdGhNZXJpZGllbSIsIm9wZW5NaW51dGVzVmlldyIsIm9wZW5TZWNvbmRzVmlldyIsIm9wZW5Ib3VyVmlldyIsImhvdXJNaW51dGVDbGFzc05hbWUiLCJob3VyTWludXRlTGFiZWxSZXZlcnNlIiwiaG91ck1pbnV0ZUxhYmVsIiwidG9vbGJhckxlZnRQYWRkaW5nIiwic2VwYXJhdG9yIiwiYW1wbVNlbGVjdGlvbldpdGhTZWNvbmRzIiwiYW1wbVNlbGVjdGlvbiIsImFtcG1MYWJlbCIsInN0eWxlcyRkIiwiVGltZVBpY2tlciQxIiwiVGltZVBpY2tlck1vZGFsIiwiVGltZVBpY2tlcklubGluZSIsIkRhdGVUaW1lUGlja2VyVmlldyIsIkRhdGVUaW1lUGlja2VyVmlldyQxIiwic3R5bGVzJGUiLCJkYXRlSGVhZGVyIiwidGltZUhlYWRlciIsIkRhdGVUaW1lUGlja2VySGVhZGVyIiwib25PcGVuVmlld0NoYW5nZSIsIllFQVIiLCJEQVRFIiwiSE9VUiIsIkRhdGV0aW1lUGlja2VySGVhZGVyIiwidmlld1RvVGFiSW5kZXgiLCJ0YWJJbmRleFRvVmlldyIsInRhYiIsIkRhdGVUaW1lUGlja2VyVGFicyIsInZpZXciLCJkYXRlUmFuZ2VJY29uIiwidGltZUljb24iLCJpbmRpY2F0b3JDb2xvciIsImZ1bGxXaWR0aCIsInRhYnMiLCJpY29uIiwic3R5bGVzJGYiLCJEYXRlVGltZVBpY2tlclRhYnMkMSIsIkRhdGVUaW1lUGlja2VyVmlldyQyIiwiRGF0ZVRpbWVQaWNrZXIiLCJvcGVuVG8iLCJuZXh0VmlldyIsImF1dG9TdWJtaXQiLCJoYW5kbGVWaWV3Q2hhbmdlIiwiaGFuZGxlWWVhckNoYW5nZSIsImhhbmRsZURheUNoYW5nZSIsIlZpZXdDb250YWluZXJDb21wb25lbnQiLCJDb250YWluZXIiLCJWaWV3Q29udGFpbmVyQ29tcG9uZW50UHJvcHMiLCJEYXRlVGltZVBpY2tlciQxIiwiRGF0ZVRpbWVQaWNrZXJNb2RhbCIsInRvU2hvd1RhYnMiLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsIkRhdGVUaW1lUGlja2VySW5saW5lIiwiNjA3OCIsImFkZENsYXNzIiwiZWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsIl9oYXNDbGFzcyIsInNldEF0dHJpYnV0ZSIsImJhc2VWYWwiLCI2MDc5IiwicmVwbGFjZUNsYXNzTmFtZSIsIm9yaWdDbGFzcyIsImNsYXNzVG9SZW1vdmUiLCJyZXBsYWNlIiwiUmVnRXhwIiwicmVtb3ZlIiwiNjA4MCIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9leHRlbmRzIiwiYXNzaWduIiwic291cmNlIiwiaGFzT3duUHJvcGVydHkiLCJfZGVmaW5lUHJvcGVydGllcyIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfZ2V0UHJvdG90eXBlT2YiLCJvIiwiX3NldFByb3RvdHlwZU9mIiwicCIsIl9wcm9wVHlwZXMiLCJfdXRpbHMiLCJwcm9wVHlwZXMiLCJ0aG91c2FuZFNlcGFyYXRvciIsIm9uZU9mVHlwZSIsInN0cmluZyIsIm9uZU9mIiwiZGVjaW1hbFNlcGFyYXRvciIsInRob3VzYW5kc0dyb3VwU3R5bGUiLCJkZWNpbWFsU2NhbGUiLCJudW1iZXIiLCJmaXhlZERlY2ltYWxTY2FsZSIsImJvb2wiLCJkaXNwbGF5VHlwZSIsInByZWZpeCIsInN1ZmZpeCIsImZ1bmMiLCJyZW1vdmVGb3JtYXR0aW5nIiwiYXJyYXlPZiIsImRlZmF1bHRWYWx1ZSIsImlzTnVtZXJpY1N0cmluZyIsImN1c3RvbUlucHV0IiwiYWxsb3dOZWdhdGl2ZSIsImFsbG93RW1wdHlGb3JtYXR0aW5nIiwib25WYWx1ZUNoYW5nZSIsIm9uRm9jdXMiLCJpc0FsbG93ZWQiLCJyZW5kZXJUZXh0IiwiZ2V0SW5wdXRSZWYiLCJub29wIiwicmV0dXJuVHJ1ZSIsIk51bWJlckZvcm1hdCIsIl9SZWFjdCRDb21wb25lbnQiLCJ2YWxpZGF0ZVByb3BzIiwiZm9ybWF0dGVkVmFsdWUiLCJmb3JtYXRWYWx1ZVByb3AiLCJudW1Bc1N0cmluZyIsInNlbGVjdGlvbkJlZm9yZUlucHV0Iiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJiaW5kIiwidXBkYXRlVmFsdWVJZlJlcXVpcmVkIiwiZm9jdXNlZEVsbSIsInN0YXRlVmFsdWUiLCJfc3RhdGUkbnVtQXNTdHJpbmciLCJsYXN0TnVtU3RyIiwibGFzdFZhbHVlV2l0aE5ld0Zvcm1hdCIsImZvcm1hdE51bVN0cmluZyIsImZsb2F0VmFsdWUiLCJwYXJzZUZsb2F0IiwibGFzdEZsb2F0VmFsdWUiLCJpc05hTiIsInVwZGF0ZVZhbHVlIiwiaW5wdXQiLCJudW0iLCJfdGhpcyRnZXRTZXBhcmF0b3JzIiwiZ2V0U2VwYXJhdG9ycyIsIm51bVJlZ2V4IiwiZ2V0TnVtYmVyUmVnZXgiLCJoYXNOZWdhdGlvbiIsInNwbGl0Iiwiam9pbiIsImZpcnN0RGVjaW1hbEluZGV4IiwiaW5kZXhPZiIsImNvbmNhdCIsInN1YnN0cmluZyIsImVzY2FwZVJlZ0V4cCIsImciLCJpZ25vcmVEZWNpbWFsU2VwYXJhdG9yIiwiX3RoaXMkcHJvcHMiLCJfdGhpcyRnZXRTZXBhcmF0b3JzMiIsIl90aGlzJHByb3BzJG1hc2siLCJfdGhpcyRnZXRTZXBhcmF0b3JzMyIsImVsIiwiY2FyZXRQb3MiLCJjdXJyZW50VmFsdWUiLCJzZXRDYXJldFBvc2l0aW9uIiwiX3RoaXMkcHJvcHMyIiwiY2xhbXAiLCJjaGFySXNOdW1iZXIiLCJmaXJzdEhhc2hQb3NpdGlvbiIsImxhc3RIYXNoUG9zaXRpb24iLCJsYXN0SW5kZXhPZiIsIm5leHRQb3MiLCJjYXJldExlZnRCb3VuZCIsImNhcmV0UmlnaHRCb3VuZCIsImlucHV0VmFsdWUiLCJqIiwiaW5wdXROdW1iZXIiLCJmb3JtYXR0ZWROdW1iZXIiLCJjdXJyZW50SW5wdXRDaGFyIiwiY3VycmVudEZvcm1hdENoYXIiLCJjb3JyZWN0Q2FyZXRQb3NpdGlvbiIsInZhbCIsIl90aGlzJHByb3BzMyIsImlzTmVnYXRpdmUiLCJzdWZmaXhMYXN0SW5kZXgiLCJmb3JtYXRBcnJheSIsInN0ciIsIm51bVN0ciIsImxuIiwicGFydCIsIl90aGlzJHByb3BzNCIsInJlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nIiwicmVtb3ZlUHJlZml4QW5kU3VmZml4IiwiZ2V0RmxvYXRTdHJpbmciLCJoYXNoQ291bnQiLCJmb3JtYXR0ZWROdW1iZXJBcnkiLCJnZXRNYXNrQXRJbmRleCIsIl90aGlzJHByb3BzNSIsIl90aGlzJGdldFNlcGFyYXRvcnM0IiwiaGFzRGVjaW1hbFNlcGFyYXRvciIsIl9zcGxpdERlY2ltYWwiLCJzcGxpdERlY2ltYWwiLCJiZWZvcmVEZWNpbWFsIiwiYWZ0ZXJEZWNpbWFsIiwiYWRkTmVnYXRpb24iLCJsaW1pdFRvU2NhbGUiLCJ0aG91c2FuZHNHcm91cFJlZ2V4IiwiZ2V0VGhvdXNhbmRzR3JvdXBSZWdleCIsIl90aGlzJHByb3BzNiIsImZvcm1hdFdpdGhQYXR0ZXJuIiwiZm9ybWF0QXNOdW1iZXIiLCJfdGhpcyRwcm9wczciLCJfdGhpcyRwcm9wczgiLCJfdGhpcyRwcm9wczgkdmFsdWUiLCJpc05vbk51bWVyaWNGYWxzeSIsInJvdW5kVG9QcmVjaXNpb24iLCJmb3JtYXRJbnB1dCIsIm5lZ2F0aW9uUmVnZXgiLCJkb3VibGVOZWdhdGlvblJlZ2V4IiwidGVzdCIsInJlbW92ZU5lZ2F0aW9uIiwiZm9ybWF0TmVnYXRpb24iLCJfdGhpcyRwcm9wczkiLCJfdGhpcyRnZXRTZXBhcmF0b3JzNSIsImlzQ2hhcmFjdGVyQUZvcm1hdCIsImxhc3RWYWx1ZSIsIl90aGlzJHByb3BzMTAiLCJfdGhpcyRnZXRTZXBhcmF0b3JzNiIsIl90aGlzJHNlbGVjdGlvbkJlZm9yZSIsIl9maW5kQ2hhbmdlZEluZGV4IiwiZmluZENoYW5nZWRJbmRleCIsInN1YnN0ciIsImxlZnRCb3VuZCIsInJpZ2h0Qm91bmQiLCJjaGVja0lmRm9ybWF0R290RGVsZXRlZCIsIm51bWVyaWNTdHJpbmciLCJfc3BsaXREZWNpbWFsMiIsImlzQmVmb3JlRGVjaW1hbFBvaW50Iiwib25VcGRhdGUiLCJjdXJyZW50Q2FyZXRQb3NpdGlvbiIsImdldEN1cnJlbnRDYXJldFBvc2l0aW9uIiwiZ2V0Q2FyZXRQb3NpdGlvbiIsInNldFBhdGNoZWRDYXJldFBvc2l0aW9uIiwiZ2V0VmFsdWVPYmplY3QiLCJwZXJzaXN0IiwiY29ycmVjdElucHV0VmFsdWUiLCJmaXhMZWFkaW5nWmVybyIsImV4cGVjdGVkQ2FyZXRQb3NpdGlvbiIsIl9lbCR2YWx1ZSIsIl90aGlzJHByb3BzMTEiLCJuZWdhdGl2ZVJlZ2V4IiwiaXNQYXR0ZXJuRm9ybWF0IiwibmV3Q2FyZXRQb3NpdGlvbiIsImlzVW5pdFRlc3RSdW4iLCJfZWwkdmFsdWUyIiwiY2FyZXRQb3NpdGlvbiIsIl90aGlzMyIsIl9lbCR2YWx1ZTMiLCJfdGhpcyRwcm9wczEyIiwib3RoZXJQcm9wcyIsIm9taXQiLCJDdXN0b21JbnB1dCIsIl9kZWZhdWx0IiwiNjA4MSIsIl9QYXBlciIsIl9QYXBlcjIiLCJfQ2hlY2tib3giLCJfQ2hlY2tib3gyIiwiX1NlbGVjdCIsIl9TZWxlY3QyIiwiX01lbnVJdGVtIiwiX01lbnVJdGVtMiIsIl9JbnZvaWNlVGFibGUiLCJfSW52b2ljZVRhYmxlMiIsIl9jb25maWciLCJfY29uZmlnMiIsIl9heGlvcyIsIl9heGlvczIiLCJfcHJvcFR5cGVzMiIsIl9TbmFja2JhciIsIl9TbmFja2JhcjIiLCJfSWNvbkJ1dHRvbiIsIl9JY29uQnV0dG9uMiIsIl9DbGVhciIsIl9DbGVhcjIiLCJkdWVEZXRhaWxzUm9vdCIsInBvc3RDYWxsRHVlRGV0YWlsc1Jvb3QiLCJtZW51SXRlbVJvb3QiLCJtZW51UGFwZXIiLCJjaGVja2VkSWNvbiIsInNlbGVjdEZpbHRlciIsImVtYWlsSWNvbiIsImVuYWJsZWRFbWFpbEljb24iLCJkaXNhYmxlZEVtYWlsSWNvbiIsImJsYWNrVGV4dCIsInNlbGVjdE1lbnUiLCJib3JkZXJCb3R0b20iLCJjbGVhclNlbGVjdGlvbnMiLCJjbGVhclNlbGVjdGlvbnNQYXJlbnQiLCJzZWxlY3RJY29uIiwic2VsZWN0TGluZVBvc3RDYWxsIiwic2VsZWN0TGluZUluQ2FsbCIsImludm9pY2VCdWNrZXRDaGVja2JveCIsImNoZWNrQm94Um9vdCIsImNsZWFyU2VsZWN0aW9uR3JpZCIsImZpbHRlckludm9pY2VzIiwiRHVlRGV0YWlscyIsIl9pbml0aWFsaXNlUHJvcHMiLCJ0b3RhbFJvd3MiLCJjb3JyZWN0SW52b2ljZXNNYXAiLCJwb3N0Q2FsbCIsInNldFNlbGVjdGVkSW52b2ljZXMiLCJpbnZvaWNlVHlwZSIsInNlbGVjdGVkSW52b2ljZXMiLCJhbGxJbnZvaWNlcyIsImdsb2JhbENoZWNrIiwiaXNCdWxrRW1haWwiLCJzbmFja0Jhck9wZW4iLCJzbmFja0Jhck1lc3NhZ2UiLCJzZXRDaGVjayIsImRheXMiLCJlbGV2YXRpb24iLCJjaGVja2VkIiwiaGFuZGxlRmlsdGVyQ2hhbmdlIiwiTWVudVByb3BzIiwiZGlzYWJsZVVuZGVybGluZSIsInNlbGVjdGVkSW52b2ljZXNMZW5ndGgiLCJzZW5kQnVsa0VtYWlsIiwiYnVja2V0SW52b2ljZXMiLCJpbmRpdmlkdWFsIiwidXBkYXRlR2xvYmFsTWFwIiwiYXV0b0hpZGVEdXJhdGlvbiIsImNsb3NlU25hY2tiYXIiLCJDb250ZW50UHJvcHMiLCJhcmlhLWRlc2NyaWJlZGJ5IiwiX3RoaXM0IiwiYWxsRW1haWxzRmxhZyIsInRlbXAiLCJmbGFnIiwic3VtIiwiY2FsbEZyb21DaGlsZCIsImZpbmRUeXBlIiwiaW52b2ljZSIsInAycERlbGlucXVlbnQiLCJwMnBVcGNvbWluZyIsInAycEJyb2tlbiIsIm9wZW5TbmFja0JhcldpdGhNZXNzYWdlIiwiZG9jdW1lbnROdW1iZXJzIiwicmVxRW1haWxPYmoiLCJjdXN0b21lcklkIiwiZG9jdW1lbnRJZHMiLCJmcm9tIiwiZW1haWxJZCIsImF4aW9zIiwicG9zdCIsImNvbmZpZyIsImFwaVVybCIsInRoZW4iLCJyZXNwb25zZSIsImNhdGNoIiwic2VsZWN0ZWRJbnZvaWNlc0NvdW50IiwiUHJvcFR5cGVzIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsImFycmF5IiwiNjA4MiIsIl9FeHBhbnNpb25QYW5lbCIsIl9FeHBhbnNpb25QYW5lbDIiLCJfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5IiwiX0V4cGFuc2lvblBhbmVsU3VtbWFyeTIiLCJfRXhwYW5zaW9uUGFuZWxEZXRhaWxzIiwiX0V4cGFuc2lvblBhbmVsRGV0YWlsczIiLCJfZm9ybWF0dGVyIiwiX0V4cGFuZE1vcmUiLCJfRXhwYW5kTW9yZTIiLCJfRG9uZSIsIl9Eb25lMiIsIl9pY29ucyIsIl9HcmlkTGlzdCIsIl9HcmlkTGlzdDIiLCJfR3JpZExpc3RUaWxlIiwiX0dyaWRMaXN0VGlsZTIiLCJfcmVmIiwicG9zdENhbGxSb290IiwiZ3JpZExpc3QiLCJncmlkTGlzdERpdiIsInNlbGVjdGVkR3JpZExpc3REaXYiLCJzaGlmdCIsImdyZXlUZXh0IiwiYnVja2V0SGVhZGVyVGV4dCIsImNoYW5nZVJvd0JhY2tncm91bmQiLCJkZWZhdWx0QmFja2dyb3VuZCIsImludm9pY2VIZWFkZXJUZXh0IiwicGFuZWxTdW1tYXJ5IiwiY29udGVudCIsImV4cGFuZEljb24iLCJpbmRpdmlkdWFsSW52b2ljZUhlYWRlciIsImljb25TaXplIiwic3VtbWFyeUV4cGFuZGVkIiwiZGlzYWJsZVRpbWVsaW5lIiwidGltZWxpbmUiLCJib3JkZXJMZWZ0IiwiSW52b2ljZVRhYmxlIiwiZXhwYW5kZWQiLCJ0b3RhbEFtb3VudCIsImN1cnJlbnRPcGVuQW1vdW50IiwiY2hlY2tlZEludm9pY2VzIiwiaW5kaXZpZHVhbEJ1Y2tldENoZWNrYm94IiwiY2hlY2tBbGxJbnZvaWNlcyIsIm5vU2hpZnQiLCJkZWZhdWx0RXhwYW5kZWQiLCJzdW1tYXJ5Q29udGVudCIsImNvbm5lY3RvciIsInRvZ2dsZUV4cGFuZCIsIkV4cGFuZExlc3MiLCJ2ZXJ0aWNhbFRpbWVsaW5lIiwiY2hlY2tCb3hDb2x1bW4iLCJpbnZvaWNlTnVtYmVyQ29sdW1uIiwiYW1vdW50Q29sdW1uIiwiYnJva2VuQ29sdW1uIiwidXBjb21pbmdDb2x1bW4iLCJkaXNwdXRlQ29sdW1uIiwicHJlZGljdGVkQ29sdW1uIiwiZW1haWxDb2x1bW4iLCJhZGRJbnZvaWNlIiwibnVtZXJpYyIsImRvY3VtZW50TnVtYmVyIiwiZm9ybWF0dGVyIiwiZGlzcHV0ZVN0YXR1cyIsInNlbmRFbWFpbCIsInBvc3RDYWxsVGltZWxpbmUiLCJjZWxsSGVpZ2h0IiwiY29scyIsInRpbGUiLCJncmlkTGlzdFRpbGUiLCJ1cGRhdGVMb2NhbE1hcCIsImludm9pY2VJZCIsInN0YXR1c1RleHQiLCI2MDgzIiwidHJhbnNpdGlvblRpbWVvdXQiLCJ0cmFuc2l0aW9uVHlwZSIsInRpbWVvdXRQcm9wTmFtZSIsImVuYWJsZWRQcm9wTmFtZSIsIm5hbWVTaGFwZSIsInNoYXBlIiwibGVhdmUiLCJhY3RpdmUiLCJsZWF2ZUFjdGl2ZSIsImFwcGVhciIsImFwcGVhckFjdGl2ZSIsIjYwODQiLCJfVHJhbnNjcmlwdENoYXQyIiwiVHJhbnNjcmlwdEJveCIsInRyYW5zY3JpcHRDb250YWluZXJDbGFzcyIsIjYwODUiLCJfQ2hhdEJveCIsIl9DaGF0Qm94MiIsIl9jb25zdGFudHMiLCJ0cmFuc2NyaXB0VGV4dFBhcmVudCIsIndoaXRlU3BhY2UiLCJ3b3JkV3JhcCIsIlRyYW5zY3JpcHRDaGF0Iiwic2Nyb2xsVG9Cb3R0b20iLCJjb250YWluZXJJRCIsInRyYW5zY3JpcHRpb25HcmlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImdlbmVyYXRlQ2hhdEJveGVzIiwidHJhbnNjcmlwdE1lc3NhZ2UiLCJpbmNsdWRlcyIsIlRSQU5TQ1JJUFRfREVMSU1FVEVSUyIsIkNPTExFQ1RPUiIsImlzQ29sbGVjdG9yIiwiaW5pdGlhbHMiLCJDVVNUT01FUiIsIkRFVEVDVElOR19TUEVBS0VSUyIsImlzRGV0ZWN0aW5nIiwicHJldlN0YXRlIiwic25hcHNob3QiLCJleHRyYWN0ZWRUcmFuc2NyaXB0Iiwic3BsaXRUcmFuc2NyaXB0IiwiNjA5MCIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsImFycjIiLCJfc3RvcmUiLCJfQWN0aW9ucyIsIl9BY3Rpb25zMiIsIl9jb3JlIiwiX0J1dHRvbiIsIl9CdXR0b24yIiwiX1RleHRGaWVsZCIsIl9UZXh0RmllbGQyIiwiX0NpcmN1bGFyUHJvZ3Jlc3MiLCJfQ2lyY3VsYXJQcm9ncmVzczIiLCJfRmluYWwiLCJfRmluYWwyIiwiX0dyb3ciLCJfR3JvdzIiLCJfQ3VzdG9tRGlhbG9nIiwiX0N1c3RvbURpYWxvZzIiLCJfQWN0aW9uQ3JlYXRvckRpYWxvZyIsIl9BY3Rpb25DcmVhdG9yRGlhbG9nMiIsIl9wb3N0Q2FsbEhlbHBlciIsIl9jb21tb25TZXJ2aWNlIiwib3ZlcmZsb3dYIiwic3VtbWFyeUJveCIsIm5vbkFjdGlvbk5vdGVzVGl0bGUiLCJjdXN0b21lckRldGFpbFRleHQiLCJub25BY3Rpb25Ob3Rlc0VkaXRpbmciLCJidXR0b24iLCImOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSIsImJ1dHRvblRpdGxlIiwiaGVhZGluZyIsInBvc3RDYWxsQ2FyZEdyaWQiLCJwYWRkaW5nUmlnaHRPbkNhcmQiLCJQb3N0Q2FsbCIsInNuYWNrTWVzc2FnZVF1ZXVlIiwiZGVsZXRlQWN0aW9uIiwic3VtbWFyeUNvbXBsZXRpb25NYXAiLCJkZWxldGUiLCJtYXJrU3VtbWFyeUFzRG9uZSIsImRvbmVNYXAiLCJwcmV2U3VtbWFyeSIsInNhdmUiLCJzZXQiLCJ1cGRhdGVBY3Rpb25JdGVtQ2hlY2siLCJnZW5lcmF0ZWRTdW1tYXJ5Iiwibm90ZXMiLCJpc0FueUFjdGlvbkNvbXBsZXRlZCIsInNhdmVQb3N0Q2FsbFRoaW5ncyIsImNoZWNrU3VtbWFyeUNvbXBsZXRlTWFwIiwiZG9SZXZpZXdEaWFsb2dPcGVuIiwibm9uQWN0aW9uTm90ZXMiLCJ0cmltIiwibm9uQWN0aW9uSW5jbHVkZWQiLCJzYXZlQ2FsbExvZyIsInNhdmVOb3Rlc0NoYW5nZXMiLCJpc0VkaXRpbmdPbiIsInByZXZOb25BY3Rpb25Ob3RlcyIsImJsdXJOb25BY3Rpb25Ob3Rlc0JveCIsImRpc2NhcmROb3Rlc0NoYW5nZXMiLCJvcGVuU25hY2tiYXIiLCJtZXNzYWdlVHlwZSIsIlNOQUNLX01FU1NBR0VTIiwiZ2V0VGltZSIsInNuYWNrT3BlbiIsInByb2Nlc3NRdWV1ZSIsInNuYWNrTWVzc2FnZSIsImhhbmRsZU5vbmFjdGlvbk5vdGVzQ2hhbmdlIiwicmVhc29uIiwiaGFuZGxlU25hY2tiYXJFeGl0IiwiaGFuZGxlQWN0aW9uSXRlbUNsaWNrIiwiYWN0aW9uVHlwZSIsIm5ld0FjdGlvbiIsImNyZWF0ZUFjdGlvbiIsInN1bW1hcnlMZW5ndGgiLCJjbG9zZUFjdGlvbkNyZWF0b3JEaWFsb2ciLCJjbG9zZVJldmlld1dhcm5pbmdEaWFsb2ciLCJoYW5kbGVBY3Rpb25DcmVhdGlvbiIsImRvT3Blbk5ld0FjdGlvbkRpYWxvZyIsInVwZGF0ZVN1bW1hcnlGcm9tQ2hpbGQiLCJuZXdTdW1tYXJ5IiwidXBkYXRlSW52b2ljZXMiLCJ1cGRhdGVkSW52b2ljZXMiLCJ1cGRhdGVkSW52b2ljZUxpc3QiLCJlbnRpdGllcyIsImVkaXROb25BY3Rpb25Ob3RlcyIsInRleHRGaWVsZCIsImZvY3VzIiwiYmx1ciIsImluaXRpYWxpemVTdW1tYXJ5V2l0aERlZmF1bHRzIiwic3VtbWFyeVdpdGhJZHMiLCJhcHBlbmRJZHNUb1N1bW1hcnkiLCJjcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcCIsIm5vbkFjdGlvblN1bW1hcnkiLCJjcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzIiwiY29tYmluZWROb3RlcyIsImdlbmVyYXRlTm90ZXNBc1N0cmluZyIsImNhbGxMb2dTdGF0ZSIsInJlcVBhcmFtcyIsImNhbGxTdW1tYXJ5Iiwibm90ZSIsIm5vdGVDb250ZW50IiwicHV0Iiwib3BlblByb2dyZXNzQmFyIiwiaXNQb3N0Q2FsbERvbmUiLCJzdG9yZSIsImdlblN1bW1hcnlBY3Rpb25DYXJkcyIsImludGVudCIsImlzQWN0aW9uSW50ZW50IiwiaW4iLCJvbkRlbGV0ZSIsIm9uQWN0aW9uSXRlbUNvbmZpcm0iLCJpbnRlbnRUeXBlIiwiYWxsSW52b2ljZUxpc3QiLCJjb21wbGV0ZWQiLCJjb250YWN0TG9nIiwiZm9sbG93dXBUZXh0TGlzdCIsInJlYXNvbkNvZGVMaXN0Iiwib3BlblNuYWNrYmFyT25BY3Rpb24iLCJ1cGRhdGVJbnZvaWNlc0luUGFyZW50IiwidXBkYXRlU3VtbWFyeUluUGFyZW50IiwidXBkYXRlZFN1bW1hcnkiLCJuZXh0Q3VzdG9tZVRleHQiLCJNYXAiLCJjb21tb25TZXJ2aWNlIiwiZ2V0RGlzcHV0ZUNvZGVzIiwiZ2V0VGFza1R5cGVzIiwibmV4dFN1bW1hcnkiLCJuZXh0VHJhbnNjcmlwdGlvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJUeXBvZ3JhcGh5IiwiTGluayIsInRleHREZWNvcmF0aW9uIiwiZW1wdHlGdW5jdGlvbiIsInN0bHllIiwiQm9yZGVyQ29sb3IiLCJmbG9hdCIsIkhpZ2hsaWdodE9mZiIsIkNoZWNrQ2lyY2xlT3V0bGluZSIsIm11bHRpbGluZSIsIm5vbkFjdGlvbk5vdGVzTm90RWRpdGluZyIsImludm9pY2VMaXN0IiwiZ2VuZXJhdGVGaW5hbEludm9pY2VMaXN0Iiwic3VtbWFyeU5vdGVzIiwib25BY3Rpb25JdGVtQ2xpY2siLCJSRVZJRVdfV0FSTklORyIsImFjdGlvbnMiLCJvbkV4aXRlZCIsIjYwOTEiLCJfUDJQIiwiX1AyUDIiLCJfRGlzcHV0ZSIsIl9EaXNwdXRlMiIsIl9Gb2xsb3d1cCIsIl9Gb2xsb3d1cDIiLCJfQWN0aW9uRGV0YWlscyIsIl9BY3Rpb25EZXRhaWxzMiIsInBhbmVsIiwiZXhwYW5kZWRCYWNrZ3JvdW5kIiwicGFuZWxDb21tb24iLCJleHBhbnNpb25QYW5lbFJvb3QiLCJBY3Rpb25zIiwiaW5pdGlhbEludm9pY2VEYXRhIiwiZ2VuSW5pdGlhbEludm9pY2VEYXRhIiwiY29ycmVjdEludm9pY2VzIiwiaW5jb3JyZWN0RmxhZyIsImludm9pY2VDb3VudCIsImNvbW1vblByb3BzIiwiZ2V0Q29tbW9uUHJvcHMiLCJJTlRFTlRfVFlQRVMiLCJGT0xMT1dfVVAiLCJQMlAiLCJESVNQVVRFIiwib25VcGRhdGVJbnZvaWNlIiwiZG9uZSIsImludm9pY2VzTWFwIiwidXBkYXRlQ29ycmVjdEludm9pY2VzIiwiayIsImN1cnJlbnRJbnZvaWNlIiwidGVtcEludm9pY2UiLCJmcmVlemUiLCJjYWxsVG9OYW1lIiwib25Db21wbGV0aW9uIiwibWFya1RoaXNDb21wbGV0ZSIsIjYwOTIiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJrZXlzIiwiTnVtYmVyRm9ybWF0Q3VzdG9tIiwiX3JlYWN0TnVtYmVyRm9ybWF0MiIsInZhbHVlcyIsIl9kYXRlRm5zIiwiX2RhdGVGbnMyIiwiX21hdGVyaWFsVWlQaWNrZXJzIiwiX2JsdWUiLCJfYmx1ZTIiLCJfRXJyb3IiLCJfRXJyb3IyIiwiX3JlYWN0TnVtYmVyRm9ybWF0IiwiX2RhdGVGbnMzIiwiUDJQUmVnZXgiLCJQMlBUZW1wbGF0ZSIsIlAyUF9PUklHX1RFTVBMQVRFIiwiJjpiZWZvcmUiLCImOmFmdGVyIiwidGVzdEluaXRpYWwiLCJhY3Rpb25Qcm9ncmVzc0JhciIsImNhcmRDb250ZW50IiwiZXJyb3JGbGFnIiwiZGlzYWJsZURvbmVCdG4iLCJtYXRlcmlhbFRoZW1lIiwiY3JlYXRlTXVpVGhlbWUiLCJvdmVycmlkZXMiLCJNdWlQaWNrZXJzVG9vbGJhciIsImJsdWUiLCJBMjAwIiwiTXVpUGlja2Vyc0NhbGVuZGFySGVhZGVyIiwiTXVpUGlja2Vyc0RheSIsIkE3MDAiLCJNdWlGb3JtSGVscGVyVGV4dCIsIk11aVBpY2tlcnNNb2RhbCIsImV4dHJhY3RlZERhdGEiLCJleHRyYWN0ZWRBbW91bnQiLCJjcmVhdGVkIiwiaXNFZGl0aW5nIiwicHJldkFtb3VudCIsIm9wZW5BY3Rpb25TYXZlIiwib3Blbldhcm5pbmdEaWFsb2ciLCJhY3Rpb25JZCIsImlzRG9uZSIsImZpbmFsU2VsZWN0ZWREYXRlIiwiYW1vdW50VGV4dEZpZWxkV2lkdGgiLCJhY3Rpb25TYXZlUHJvZ3Jlc3NCYXIiLCJpbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZSIsIm9wZW5JbnZhbGlkRGF0YU5vdGlmaWVyIiwiaXNBbW91bnRJbnZhbGlkIiwidXBkYXRlU3VtbWFyeSIsImZ1bGxTY3JlZW4iLCJpbnZvaWNlU2FtcGxlIiwiRG9uZSIsImhhbmRsZUludm9pY2VDdXJyZW5jeUNoYW5nZSIsImlucHV0RmllbGRUZXh0IiwiRm9ybWF0dGVkQ3VycmVuY3lJbnB1dCIsInRvZ2dsZUVkaXRpbmciLCJkaXNtaXNzQW1vdW50Q2hhbmdlcyIsInNhdmVJbnZvaWNlQW1vdW50Q2hhbmdlIiwiTXVpVGhlbWVQcm92aWRlciIsIm5vZGUiLCJwaWNrZXIiLCJoYW5kbGVEYXRlQ2hhbmdlIiwiRGF0ZVJhbmdlIiwiY2xvc2VBY3Rpb25TYXZlRGlhbG9nIiwiY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nIiwiY2xvc2VBbmREaXNjYXJkRGlhbG9nIiwiY2xvc2VXYXJuaW5nRGlhbG9nIiwiY2xvc2VJbnZhbGlkRGF0YU5vdGlmaWVyIiwib3BlbkFjdGlvbkRpc2NhcmREaWFsb2ciLCJjaGVja0ludmFsaWRhdGlvbiIsInNhdmVQMlAiLCJhbW91bnRGb3JtYXR0ZWQiLCJvcGVuRGF0YUludmFsaWREaWFsb2ciLCJ2YWxpZGF0ZVAyUERhdGEiLCJOdW1iZXIiLCJpc1ZhbGlkRGF0ZSIsInBob25lTnVtYmVyIiwiY2FsbGluZ051bWJlciIsImludm9pY2VPYmoiLCJjbXNEb2NIZWFkZXJJZCIsInJlcU9iaiIsImNvbW1pdHRlZEFtb3VudCIsImNvbW1pdHRlZEJ5IiwiY29tbWl0dGVkRGF0ZSIsImNvbW1pdHRlZE9uIiwiY3VycmVuY3kiLCJwY0l0ZW1zIiwiZ2V0RGF0ZUZpZWxkVmFsdWUiLCJzdW1tYXJ5VG9TYXZlIiwiZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5IiwiZm9ybWF0dGVkRGF0ZSIsImZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCIsImN1cnJlbnRTdGF0ZSIsImFtb3VudFRleHRGaWVsZExlbmd0aCIsImN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyIiwiZm9ybWF0RGF0ZVdpdGhUaW1lem9uZSIsImFyZ3MiLCI2MDkzIiwiX19leHRlbmRzIiwiYiIsIl9fIiwiZXh0ZW5kU3RhdGljcyIsIl9fcmVzdCIsInMiLCJ0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiX19hc3NpZ24iLCI2MDk0IiwiciIsImxvYWRlZCIsIm0iLCJjIiwidSIsImNvbmZvcm1Ub01hc2siLCJsIiwiaCIsInYiLCJ0ZXh0TWFza0lucHV0RWxlbWVudCIsImlucHV0RWxlbWVudCIsInVwZGF0ZSIsImluaXRUZXh0TWFzayIsImd1aWRlIiwicGxhY2Vob2xkZXJDaGFyIiwic2hvd01hc2siLCJzdHJGdW5jdGlvbiIsInByb2Nlc3NDYXJldFRyYXBzIiwibWFza1dpdGhvdXRDYXJldFRyYXBzIiwicHJldmlvdXNDb25mb3JtZWRWYWx1ZSIsInBsYWNlaG9sZGVyIiwiY29udmVydE1hc2tUb1BsYWNlaG9sZGVyIiwiQyIsIk8iLCJUIiwiUCIsInciLCJhYnMiLCJfIiwiTSIsInNsaWNlIiwiUyIsImNoYXIiLCJpc05ldyIsIkUiLCJzcGxpY2UiLCJWIiwiQSIsIk4iLCJCIiwiSSIsIkYiLCJxIiwiRCIsIkwiLCJXIiwiSiIsIlUiLCJIIiwiY29uZm9ybWVkVmFsdWUiLCJtZXRhIiwic29tZUNoYXJzUmVqZWN0ZWQiLCJTdHJpbmciLCJpbmRleGVzIiwiaXNTdHJpbmciLCJpc051bWJlciIsInByZXZpb3VzUGxhY2Vob2xkZXIiLCJyYXdWYWx1ZSIsImluZGV4ZXNPZlBpcGVkQ2hhcnMiLCJjYXJldFRyYXBJbmRleGVzIiwidG9Mb3dlckNhc2UiLCJSIiwiWSIsInoiLCJHIiwicmVqZWN0ZWQiLCJhY3RpdmVFbGVtZW50Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aGF0UmV0dXJucyIsInRoYXRSZXR1cm5zRmFsc2UiLCJ0aGF0UmV0dXJuc1RydWUiLCJ0aGF0UmV0dXJuc051bGwiLCJ0aGF0UmV0dXJuc1RoaXMiLCJ0aGF0UmV0dXJuc0FyZ3VtZW50IiwiZnJhbWVzVG9Qb3AiLCJzeW1ib2wiLCJhbnkiLCJpbnN0YW5jZU9mIiwib2JqZWN0T2YiLCJleGFjdCIsImNoZWNrUHJvcFR5cGVzIiwiNjA5NSIsIl9DU1NUcmFuc2l0aW9uIiwiX1JlcGxhY2VUcmFuc2l0aW9uIiwiX1RyYW5zaXRpb25Hcm91cCIsIl9UcmFuc2l0aW9uIiwiVHJhbnNpdGlvbiIsIlRyYW5zaXRpb25Hcm91cCIsIlJlcGxhY2VUcmFuc2l0aW9uIiwiQ1NTVHJhbnNpdGlvbiIsIjYwOTYiLCJfaW5oZXJpdHNMb29zZSIsIl9hZGRDbGFzcyIsIm5ld09iaiIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfcmVtb3ZlQ2xhc3MiLCJmb3JFYWNoIiwicmVtb3ZlQ2xhc3MiLCJfbGVuIiwiX2tleSIsIm9uRW50ZXIiLCJhcHBlYXJpbmciLCJfdGhpcyRnZXRDbGFzc05hbWVzIiwiZ2V0Q2xhc3NOYW1lcyIsInJlbW92ZUNsYXNzZXMiLCJvbkVudGVyaW5nIiwiX3RoaXMkZ2V0Q2xhc3NOYW1lczIiLCJhY3RpdmVDbGFzc05hbWUiLCJyZWZsb3dBbmRBZGRDbGFzcyIsIm9uRW50ZXJlZCIsIl90aGlzJGdldENsYXNzTmFtZXMzIiwiZG9uZUNsYXNzTmFtZSIsIm9uRXhpdCIsIl90aGlzJGdldENsYXNzTmFtZXM0Iiwib25FeGl0aW5nIiwiX3RoaXMkZ2V0Q2xhc3NOYW1lczUiLCJfdGhpcyRnZXRDbGFzc05hbWVzNiIsIl9wcm90byIsIl90aGlzJGdldENsYXNzTmFtZXM3IiwiNjA5NyIsImhhc0NsYXNzIiwiY29udGFpbnMiLCI2MDk4IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJleGNsdWRlZCIsInNvdXJjZUtleXMiLCJfcmVhY3REb20iLCJfYXJncyIsImhhbmRsZUVudGVyIiwiX2xlbjIiLCJfa2V5MiIsImhhbmRsZUxpZmVjeWNsZSIsImhhbmRsZUVudGVyaW5nIiwiX2xlbjMiLCJfa2V5MyIsImhhbmRsZUVudGVyZWQiLCJfbGVuNCIsIl9rZXk0IiwiaGFuZGxlRXhpdCIsIl9sZW41IiwiX2tleTUiLCJoYW5kbGVFeGl0aW5nIiwiX2xlbjYiLCJfa2V5NiIsImhhbmRsZUV4aXRlZCIsIl9sZW43IiwiX2tleTciLCJoYW5kbGVyIiwiaWR4Iiwib3JpZ2luYWxBcmdzIiwiX2NoaWxkJHByb3BzIiwiY2hpbGQiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJmaW5kRE9NTm9kZSIsImluUHJvcCIsIl9SZWFjdCRDaGlsZHJlbiR0b0FyciIsImZpcnN0Iiwic2Vjb25kIiwiY2xvbmVFbGVtZW50IiwiNjA5OSIsImhhc05hZ2F0aW9uIiwicGFydHMiLCJzY2FsZSIsImZpbGxlciIsInNob3VkSGF2ZURlY2ltYWxTZXBhcmF0b3IiLCJyb3VuZGVkRGVjaW1hbFBhcnRzIiwidG9GaXhlZCIsImludFBhcnQiLCJyZXZlcnNlIiwicmVkdWNlIiwicm91bmRlZFN0ciIsImRlY2ltYWxQYXJ0IiwibmVnYXRpb24iLCJrZXlNYXBzIiwiZmlsdGVyZWRPYmoiLCJjcmVhdGVUZXh0UmFuZ2UiLCJyYW5nZSIsIm1vdmUiLCJzZWxlY3QiLCJwcmV2VmFsdWUiLCJwcmV2TGVuZ3RoIiwibmV3TGVuZ3RoIiwiNjEwMCIsIl9EaWFsb2ciLCJfRGlhbG9nQWN0aW9ucyIsIl9EaWFsb2dUaXRsZSIsImRpc3B1dGVSZWdleCIsIkRJU1BVVEVfVEVNUExBVEUiLCJESVNQVVRFX09SSUdfVEVNUExBVEUiLCJzZWxlY3RNZW51Q2xhc3MiLCJEaXNwdXRlIiwicmVhc29uQ29kZSIsIm9wZW5Ob1JlYXNvbkRpYWxvZyIsIm9wZW5Ob0ludm9pY2VEaWFsb2ciLCJjaGFuZ2UiLCJyZWFzb25Db2RlcyIsIm9wdGlvbkl0ZW1zIiwiZ2V0UmVhc29uQ29kZSIsImhhbmRsZVJlYXNvbkNvZGVDaGFuZ2UiLCJzZWxlY3RlZFJlYXNvbiIsImNsb3NlTm9SZWFzb25EaWFsb2ciLCJjbG9zZU5vSW52b2ljZURpYWxvZyIsInNhdmVEaXNwdXRlIiwiZGlzcHV0ZUl0ZW1zIiwiNjEwMSIsImZvbGxvd3VwUmVnZXgiLCJGT0xMT1dVUF9URU1QTEFURSIsIkZPTExPV1VQX09SSUdfVEVNUExBVEUiLCJGb2xsb3d1cCIsImZvbGxvd3VwVGV4dCIsIm9wZW5JbnZhbGlkRGF0ZURpYWxvZyIsImZvbGxvd3VwVGV4dHMiLCJnZXRGb2xsb3d1cFRleHQiLCJoYW5kbGVGb2xsb3d1cFRleHRDaGFuZ2UiLCJvcGVuTm9UZXh0RGlhbG9nIiwiY2xvc2VOb1RleHREaWFsb2ciLCJjbG9zZUludmFsaWREYXRlRGlhbG9nIiwic2F2ZUZvbGxvd3VwIiwidmFsaWRhdGVGb2xsb3d1cERhdGEiLCJmb2xsb3dEYXRlIiwiZm9sbG93Rm9ybWF0RGF0ZSIsImR1ZURhdGUiLCJyZW1pbmRlckRhdGUiLCJzdWJqZWN0IiwiY29udGFjdE51bWJlciIsImNvbnRhY3ROYW1lIiwiNjEwMiIsImdldE1vZGFsU3R5bGUiLCJfQ2hlY2tDaXJjbGUiLCJfUmFkaW9CdXR0b25VbmNoZWNrZWQiLCJfQWRkIiwiX1JlbW92ZUNpcmNsZU91dGxpbmUiLCJfQ2FyZCIsIl9DYXJkQ29udGVudCIsIl9EaWFsb2cyIiwiX0RpYWxvZ0FjdGlvbnMyIiwiX0RpYWxvZ1RpdGxlMiIsIl9EdWVEZXRhaWwiLCJfRHVlRGV0YWlsMiIsIl9MaXN0T2ZUaWxlIiwiaW52b2ljZUhlYWRlciIsImNvcnJlY3Rpb24iLCJjb3JyZWN0aW9uQWxlcnQiLCJpbmNvcnJlY3REaXYiLCJhZGRJY29uIiwicHJpbWFyeVRleHQiLCJBY3Rpb25EZXRhaWxzIiwiaW52b2ljZUNoZWNrc01hcCIsImFsbEludm9pY2VzU2VsZWN0ZWQiLCJpbnZvaWNlc0NoZWNrYm94TWFwIiwiaXNNZXNzYWdlRGlhbG9nT3BlbiIsIm9wZW5BZGRJbnZvaWNlTW9kYWwiLCJleGVjdXRlQXBwZW5kSW52b2ljZSIsImFyaWEtbGFiZWxsZWRieSIsImNsb3NlQWRkSW52b2ljZU1vZGFsIiwiYWxpZ25JdGVtIiwiYXBwZW5kSW52b2ljZXMiLCJib3JkZXJUb3AiLCJoYW5kbGVBbGxTZWxlY3Rpb24iLCJkZWxldGVBbGxTZWxlY3Rpb24iLCJjYWxjdWxhdGVBbW91bnQiLCJ0b2dnbGVDaGVja2JveCIsImRlbGV0ZUludm9pY2UiLCJoYW5kbGVNZXNzYWdlRGlhbG9nIiwiZmlsdGVyZWRJbnZvaWNlcyIsInRlbXBBcnJheSIsInVwZGF0ZWRDaGVja2JveE1hcCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJuZXh0IiwiaW52b2ljZUtleSIsImVyciIsInJldHVybiIsImludm9pY2VOdW1iZXIiLCJjaGVja2JveE1hcCIsInVwZGF0ZUludm9pY2VzVGhpbmdzIiwiaW52b2ljZU1hcCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsInRvRGVsZXRlSW52b2ljZXMiLCJpbnZvaWNlTGVuZ3RoIiwiYWxsU2VsZWN0ZWQiLCJ0ZW1wTWFwIiwidGVtcEludm9pY2VzIiwidGVtcENoZWNrYm94SW52b2ljZU1hcCIsIjYxMDMiLCJpbkludm9pY2VUYWJsZSIsIkxpc3RPZlRpbGUiLCJnZXRDbGFzc09mR3JpZExpc3RUaWxlIiwiQ2xvc2UiLCI2MTA0IiwiX0lucHV0IiwiX0lucHV0MiIsIl9JbnB1dExhYmVsIiwiX0lucHV0QWRvcm5tZW50IiwiX0Zvcm1Db250cm9sIiwiX0NoaXAiLCJfQ2hpcDIiLCJfSW5mbyIsIl9JbmZvMiIsIl9yZWFjdEFkZG9uc0Nzc1RyYW5zaXRpb25Hcm91cCIsInN1bW1hcnlOb3Rlc0JveCIsInN1bW1hcnlOb3RlaXRlbXMiLCJ3b3JkQnJlYWsiLCJzdW1tYXJ5Tm90ZXNIZWFkZXIiLCJzdW1tYXJ5RW1haWxIZWFkZXIiLCJzdW1tYXJ5RW1haWwiLCJzdW1tYXJ5RW1haWxGb3JtIiwiZW1haWxJZENoaXBzSW5wdXQiLCJlbWFpbEFkZExhYmVsIiwiZW1haWxJZENoaXBzIiwiJj4gc3BhbiIsIiY6aG92ZXIsICY6Zm9jdXMiLCJpbnZhbGlkRW1haWxJZENoaXBzIiwicmVtb3ZlRW1haWxJZCIsImVtYWlsSWRJbnB1dCIsInJlc2l6ZSIsImVtYWlsU3ViamVjdCIsIiY6OnBsYWNlaG9sZGVyIiwiZGlzYWJsZWRTdWJqZWN0SW5wdXQiLCJzdW1tYXJ5RW1haWxCb2R5IiwiZW1haWxCb2R5VGV4dCIsImludm9pY2VBdHRhY2hlbWVudHMiLCJzdW1tYXJ5RW1haWxGb290ZXIiLCJzZW5kU3VtbWFyeUVtYWlsQnRuIiwiYWxpZ25TZWxmIiwiZGlzYWJsZUljb24iLCJub3Rlc0xpc3QiLCJlbXB0eVN1bW1hcnlUZXh0IiwiZW1wdHlTdW1tYXJ5R3JpZCIsIndhcm5pbmdMaW5lIiwiaGlkZU92ZXJmbG93IiwiRmluYWwiLCJpbnZvaWNlU3RyaW5nIiwiZW1haWxBdHRhY2hlbWVudHMiLCJzdW1tYXJ5U3RyaW5nIiwiZW1haWxCb2R5IiwibmV3TGluZUNvdW50IiwiZW1haWxUZW1wbGF0ZUJvZHkiLCJlbWFpbEJvZHlIZWlnaHQiLCJoYW5kbGVUZW1wbGF0ZUNoYW5nZSIsImVtYWlsVGVtcGxhdGVOYW1lIiwidGVtcGxhdGUiLCJlbWFpbFRlbXBsYXRlcyIsImVtYWlsVGVtcGxhdGVTdWJqZWN0IiwiYm9keSIsInRlbXBsYXRlSWQiLCJoYW5kbGVFbWFpbEVudGVyIiwicmUiLCJ2YWxpZCIsImVtYWlsQXJyIiwidmFsaWRhdGUiLCJ0b0FkZHIiLCJoYW5kbGVFbWFpbElkRGVsZXRlIiwiZW1haWxBZGQiLCJjaGlwVG9EZWxldGUiLCJoYW5kbGVTdWJqZWN0Q2hhbmdlIiwiaGFuZGxlRW1haWxCb2R5Q2hhbmdlIiwibmV3TWF4SGVpZ2h0IiwicmVtb3ZlQXR0YWNoZW1lbnQiLCJjdXJyQXR0YWNoZW1lbnRzIiwic2VuZFN1bW1hcnlFbWFpbCIsImRvY3VtZW50SURzIiwicG9zIiwiZW1haWxPYmoiLCJlbWFpbFNlbnQiLCJmdWxsTmFtZSIsIkF0dGFjaGVtZW50cyIsIml0ZW1zIiwiZGVsZXRlSWNvbiIsImNsaWNrYWJsZSIsIlRleHRGaWVsZCIsInJvd3NNYXgiLCJCdXR0b24iLCI2MTA1IiwiNjEwNiIsIl9UcmFuc2l0aW9uR3JvdXAyIiwiX0NTU1RyYW5zaXRpb25Hcm91cENoaWxkIiwiX0NTU1RyYW5zaXRpb25Hcm91cENoaWxkMiIsIl9Qcm9wVHlwZXMiLCJ0cmFuc2l0aW9uQXBwZWFyIiwidHJhbnNpdGlvbkVudGVyIiwidHJhbnNpdGlvbkxlYXZlIiwiQ1NTVHJhbnNpdGlvbkdyb3VwIiwiX3RlbXAiLCJfcmV0IiwiX3dyYXBDaGlsZCIsInRyYW5zaXRpb25OYW1lIiwiYXBwZWFyVGltZW91dCIsInRyYW5zaXRpb25BcHBlYXJUaW1lb3V0IiwiZW50ZXJUaW1lb3V0IiwidHJhbnNpdGlvbkVudGVyVGltZW91dCIsImxlYXZlVGltZW91dCIsInRyYW5zaXRpb25MZWF2ZVRpbWVvdXQiLCJjaGlsZEZhY3RvcnkiLCI2MTA3IiwiX2NoYWluRnVuY3Rpb24iLCJfY2hhaW5GdW5jdGlvbjIiLCJfd2FybmluZyIsIl9DaGlsZE1hcHBpbmciLCJjb250ZXh0IiwicGVyZm9ybUFwcGVhciIsImN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzIiwiY29tcG9uZW50V2lsbEFwcGVhciIsIl9oYW5kbGVEb25lQXBwZWFyaW5nIiwiY29tcG9uZW50RGlkQXBwZWFyIiwiY3VycmVudENoaWxkTWFwcGluZyIsImdldENoaWxkTWFwcGluZyIsInBlcmZvcm1MZWF2ZSIsInBlcmZvcm1FbnRlciIsImNvbXBvbmVudFdpbGxFbnRlciIsIl9oYW5kbGVEb25lRW50ZXJpbmciLCJjb21wb25lbnREaWRFbnRlciIsImNvbXBvbmVudFdpbGxMZWF2ZSIsIl9oYW5kbGVEb25lTGVhdmluZyIsImNvbXBvbmVudERpZExlYXZlIiwia2V5c1RvRW50ZXIiLCJuZXdDaGlsZHJlbiIsImNoaWxkUmVmcyIsImNvbXBvbmVudFdpbGxNb3VudCIsImtleXNUb0xlYXZlIiwiaW5pdGlhbENoaWxkTWFwcGluZyIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0Q2hpbGRNYXBwaW5nIiwicHJldkNoaWxkTWFwcGluZyIsIm1lcmdlQ2hpbGRNYXBwaW5ncyIsImhhc1ByZXYiLCJoYXNOZXh0IiwiY2hpbGRyZW5Ub1JlbmRlciIsImlzQ2FsbGJhY2tSZWYiLCJmYWN0b3J5Q2hpbGQiLCI2MTA4IiwibGVuIiwiZm4iLCI2MTA5Iiwid2FybmluZyIsIjYxMTAiLCJyZXN1bHQiLCJwcmV2IiwiZ2V0VmFsdWVGb3JLZXkiLCJuZXh0S2V5c1BlbmRpbmciLCJwZW5kaW5nS2V5cyIsInByZXZLZXkiLCJjaGlsZE1hcHBpbmciLCJuZXh0S2V5IiwicGVuZGluZ05leHRLZXkiLCI2MTExIiwiYWRkRW5kTGlzdGVuZXIiLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2FkZENsYXNzMiIsIl9yZW1vdmVDbGFzczIiLCJfcmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiX3JlcXVlc3RBbmltYXRpb25GcmFtZTIiLCJfcHJvcGVydGllcyIsInRyYW5zaXRpb25FbmQiLCJhbmltYXRpb25FbmQiLCJDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCIsImNsYXNzTmFtZUFuZE5vZGVRdWV1ZSIsInRyYW5zaXRpb25UaW1lb3V0cyIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwidW5tb3VudGVkIiwiY2xlYXJUaW1lb3V0IiwiYW5pbWF0aW9uVHlwZSIsImZpbmlzaENhbGxiYWNrIiwidGltZXIiLCJyZW1vdmVMaXN0ZW5lcnMiLCJxdWV1ZUNsYXNzQW5kTm9kZSIsImZpbmlzaCIsInJhZkhhbmRsZSIsImZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlIiwib25seSIsIjYxMTIiLCJmYWxsYmFjayIsImN1cnIiLCJtcyIsInJlcSIsImNvbXBhdFJhZiIsIl9pbkRPTSIsInZlbmRvcnMiLCJjYW5jZWwiLCJyYWYiLCJnZXRLZXkiLCJ2ZW5kb3IiLCJzb21lIiwicmFmS2V5IiwiY2IiLCI2MTEzIiwiX0xpc3QiLCJfTGlzdDIiLCJfTGlzdEl0ZW0iLCJfTGlzdEl0ZW0yIiwiX0xpc3RJdGVtVGV4dCIsIl9MaXN0SXRlbVRleHQyIiwiZGlhbG9nUGFwZXIiLCJjcmVhdGVOZXdBY3Rpb25EaWFsb2dIZWFkZXIiLCJjcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zIiwiQWN0aW9uQ3JlYXRvckRpYWxvZyIsInBhcGVyU2Nyb2xsUGFwZXIiLCJBQ1RJT05fVFlQRVMiLCJhY3Rpb25UeXBlS2V5IiwiNjExNCIsIl9yZWFjdEhpZ2hsaWdodFdvcmRzIiwiX3JlYWN0SGlnaGxpZ2h0V29yZHMyIiwiX3JlYWN0R2lmUGxheWVyIiwiX1JpcHBsZSIsIl9SaXBwbGUyIiwiY2hhdEJ1YmJsZSIsInJpZ2h0QnViYmxlIiwiaGlnaGxpZ2h0TWVzc2FnZSIsImNpcmNsZWRUZXh0IiwiZ2lmQW5pbWF0b3IiLCJkZXRlY3RvciIsImhpZ2hsaWdodGVyRm9yTGVmdCIsImhpZ2hsaWdodGVyRm9yUmlnaHQiLCJDaGF0Qm94IiwiUmlwcGxlR2lmIiwiYWx0IiwidW5oaWdobGlnaHRDbGFzc05hbWUiLCJoaWdobGlnaHRDbGFzc05hbWUiLCJzZWFyY2hXb3JkcyIsIkhJR0hMSUdIVEVSX1JFR0VYIiwidGV4dFRvSGlnaGxpZ2h0IiwiNjExNSIsIm1vZHVsZXMiLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJfSGlnaGxpZ2h0ZXIiLCJfSGlnaGxpZ2h0ZXIyIiwiSGlnaGxpZ2h0ZXIiLCJfcmVmJGFjdGl2ZUNsYXNzTmFtZSIsIl9yZWYkYWN0aXZlSW5kZXgiLCJhY3RpdmVJbmRleCIsImFjdGl2ZVN0eWxlIiwiYXV0b0VzY2FwZSIsIl9yZWYkY2FzZVNlbnNpdGl2ZSIsImNhc2VTZW5zaXRpdmUiLCJmaW5kQ2h1bmtzIiwiX3JlZiRoaWdobGlnaHRDbGFzc05hbWUiLCJfcmVmJGhpZ2hsaWdodFN0eWxlIiwiaGlnaGxpZ2h0U3R5bGUiLCJfcmVmJGhpZ2hsaWdodFRhZyIsImhpZ2hsaWdodFRhZyIsInNhbml0aXplIiwiX3JlZiR1bmhpZ2hsaWdodENsYXNzTmFtZSIsInVuaGlnaGxpZ2h0U3R5bGUiLCJjaHVua3MiLCJfaGlnaGxpZ2h0V29yZHNDb3JlIiwiZmluZEFsbCIsIkhpZ2hsaWdodFRhZyIsImhpZ2hsaWdodENvdW50IiwiaGlnaGxpZ2h0Q2xhc3NOYW1lcyIsImhpZ2hsaWdodFN0eWxlcyIsImxvd2VyY2FzZVByb3BzIiwibWFwcGVkIiwibWVtb2l6ZWRMb3dlcmNhc2VQcm9wcyIsIl9tZW1vaXplT25lMiIsImNodW5rIiwiaGlnaGxpZ2h0IiwiaGlnaGxpZ2h0Q2xhc3MiLCJpc0FjdGl2ZSIsIl9tZW1vaXplT25lIiwiY29tYmluZUNodW5rcyIsImZpbGxJbkNodW5rcyIsImlkZW50aXR5IiwiZXNjYXBlUmVnRXhwRm4iLCJfcmVmJGZpbmRDaHVua3MiLCJkZWZhdWx0RmluZENodW5rcyIsImNodW5rc1RvSGlnaGxpZ2h0IiwidG90YWxMZW5ndGgiLCJfcmVmMiIsInNvcnQiLCJwcm9jZXNzZWRDaHVua3MiLCJuZXh0Q2h1bmsiLCJwcmV2Q2h1bmsiLCJwb3AiLCJlbmRJbmRleCIsIl9yZWYzIiwiX3JlZjMkc2FuaXRpemUiLCJzZWFyY2hXb3JkIiwicmVnZXgiLCJleGVjIiwibGFzdEluZGV4IiwiX3JlZjQiLCJhbGxDaHVua3MiLCJhcHBlbmQiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJSRUFDVF9FTEVNRU5UX1RZUEUiLCJmb3IiLCJpc1ZhbGlkRWxlbWVudCIsIiQkdHlwZW9mIiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY2FjaGVkU2V0VGltZW91dCIsInJ1bkNsZWFyVGltZW91dCIsIm1hcmtlciIsImNhY2hlZENsZWFyVGltZW91dCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsInJ1biIsIkl0ZW0iLCJuZXh0VGljayIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJpbnZhcmlhbnQiLCJSZWFjdFByb3BUeXBlc1NlY3JldCIsInRocm93T25EaXJlY3RBY2Nlc3MiLCJnZXRJdGVyYXRvckZuIiwibWF5YmVJdGVyYWJsZSIsIml0ZXJhdG9yRm4iLCJJVEVSQVRPUl9TWU1CT0wiLCJGQVVYX0lURVJBVE9SX1NZTUJPTCIsImlzIiwiUHJvcFR5cGVFcnJvciIsInN0YWNrIiwiY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIiLCJjaGVja1R5cGUiLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJwcm9wRnVsbE5hbWUiLCJzZWNyZXQiLCJBTk9OWU1PVVMiLCJjYWNoZUtleSIsIm1hbnVhbFByb3BUeXBlQ2FsbENhY2hlIiwibWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQiLCJjaGFpbmVkQ2hlY2tUeXBlIiwiY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIiLCJleHBlY3RlZFR5cGUiLCJwcm9wVmFsdWUiLCJnZXRQcm9wVHlwZSIsImdldFByZWNpc2VUeXBlIiwiY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyIiwidHlwZUNoZWNrZXIiLCJjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyIiwiZXhwZWN0ZWRDbGFzcyIsImV4cGVjdGVkQ2xhc3NOYW1lIiwiZ2V0Q2xhc3NOYW1lIiwiY3JlYXRlRW51bVR5cGVDaGVja2VyIiwiZXhwZWN0ZWRWYWx1ZXMiLCJjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyIiwicHJvcFR5cGUiLCJjcmVhdGVVbmlvblR5cGVDaGVja2VyIiwiYXJyYXlPZlR5cGVDaGVja2VycyIsImNoZWNrZXIiLCJnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmciLCJjcmVhdGVTaGFwZVR5cGVDaGVja2VyIiwic2hhcGVUeXBlcyIsImNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIiLCJhbGxLZXlzIiwiaXNOb2RlIiwiZXZlcnkiLCJlbnRyaWVzIiwiZW50cnkiLCJpc1N5bWJvbCIsIlJlYWN0UHJvcFR5cGVzIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJhcmciLCJjb25kaXRpb24iLCJ2YWxpZGF0ZUZvcm1hdCIsImFyZ0luZGV4IiwicHJpbnRXYXJuaW5nIiwidG9PYmplY3QiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0ZXN0MSIsImdldE93blByb3BlcnR5TmFtZXMiLCJ0ZXN0MiIsImZyb21DaGFyQ29kZSIsInRlc3QzIiwibGV0dGVyIiwic3ltYm9scyIsInR5cGVTcGVjcyIsImdldFN0YWNrIiwidHlwZVNwZWNOYW1lIiwiZXgiLCJsb2dnZWRUeXBlRmFpbHVyZXMiLCJzaGltIiwiZ2V0U2hpbSIsInJlc3VsdEZuIiwic2ltcGxlSXNFcXVhbCIsImxhc3RUaGlzIiwibGFzdEFyZ3MiLCJsYXN0UmVzdWx0IiwiY2FsbGVkT25jZSIsImlzTmV3QXJnRXF1YWxUb0xhc3QiLCJuZXdBcmciLCJuZXdBcmdzIiwiNjExNiIsImdsb2JhbCIsImluc3BlY3QiLCJvcHRzIiwiY3R4Iiwic2VlbiIsInN0eWxpemUiLCJzdHlsaXplTm9Db2xvciIsImRlcHRoIiwiY29sb3JzIiwiaXNCb29sZWFuIiwic2hvd0hpZGRlbiIsIl9leHRlbmQiLCJpc1VuZGVmaW5lZCIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJhcnJheVRvSGFzaCIsImhhc2giLCJyZWN1cnNlVGltZXMiLCJpc0Z1bmN0aW9uIiwicmV0IiwicHJpbWl0aXZlIiwiZm9ybWF0UHJpbWl0aXZlIiwidmlzaWJsZUtleXMiLCJpc0Vycm9yIiwiZm9ybWF0RXJyb3IiLCJpc1JlZ0V4cCIsImlzRGF0ZSIsImJhc2UiLCJicmFjZXMiLCJ0b1VUQ1N0cmluZyIsIm91dHB1dCIsImZvcm1hdFByb3BlcnR5IiwicmVkdWNlVG9TaW5nbGVTdHJpbmciLCJzaW1wbGUiLCJsaW5lIiwibnVtTGluZXNFc3QiLCJjdXIiLCJhciIsImlzTnVsbE9yVW5kZWZpbmVkIiwiaXNPYmplY3QiLCJvYmplY3RUb1N0cmluZyIsImlzUHJpbWl0aXZlIiwicGFkIiwidGltZXN0YW1wIiwiZ2V0RGF0ZSIsIm1vbnRocyIsInByb3AiLCJmb3JtYXRSZWdFeHAiLCJvYmplY3RzIiwiZGVwcmVjYXRlIiwibXNnIiwiZGVwcmVjYXRlZCIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJ0cmFjZURlcHJlY2F0aW9uIiwidHJhY2UiLCJub0RlcHJlY2F0aW9uIiwiZGVidWdFbnZpcm9uIiwiZGVidWdzIiwiZGVidWdsb2ciLCJOT0RFX0RFQlVHIiwicGlkIiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImludmVyc2UiLCJncmV5IiwiYmxhY2siLCJjeWFuIiwiZ3JlZW4iLCJtYWdlbnRhIiwicmVkIiwieWVsbG93Iiwic3BlY2lhbCIsImJvb2xlYW4iLCJudWxsIiwicmVnZXhwIiwiaXNCdWZmZXIiLCJpbmhlcml0cyIsIm9yaWdpbiIsIjYxMTciLCJjb3B5IiwiZmlsbCIsInJlYWRVSW50OCIsIjYxMTgiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiVGVtcEN0b3IiLCI2MTE5IiwiNjEyMCIsIm5vdGVzU3RyaW5nIiwiaW5pdGlhbE5vdGVzU3RyaW5nIiwiNjEyMSIsIl9uZXR3b3JrVXRpbHMiLCJoYW5kbGVBcGlSZXNwb25zZSIsIjYxMjIiLCJUYWJDb250YWluZXIiLCJQYXBlciIsIl9UYWJzIiwiX1RhYnMyIiwiX1RhYiIsIl9UYWIyIiwicHJvZ3Jlc3MiLCJzY3JvbGxCdXR0b25zIiwiZmxleCIsImluZGljYXRvciIsInRhYlNlbGVjdGVkIiwidGFiUm9vdCIsInRhYldyYXBwZXIiLCJ0YWJzRmxleENvbnRhaW5lciIsInRhYnNSb290IiwidGFic1Njcm9sbGVyIiwiaW52b2ljZUNvdW50VGV4dCIsIkluQ2FsbERldGFpbHMiLCJ1bnNoaWZ0IiwiaW52b2ljZVRvdGFsQW1vdW50IiwidG90YWxJbnZvaWNlQ291bnQiLCJ3aG9sZUFtb3VudCIsImZsZXhDb250YWluZXIiLCJzY3JvbGxlciIsIlRhYkluZGljYXRvclByb3BzIiwid3JhcHBlciIsInRleHRDb2xvciIsIjYxMjMiLCJfUG9wb3ZlciIsIl9Qb3BvdmVyMiIsIl92b2ljZW1haWxCb3giLCJBcHAiLCJwb3BPdmVyIiwiaGVhZCIsInZvaWNlbWFpbFNlbnRJY29uIiwidm9pY2VtYWlsUHJvZ3Jlc3NQYXJlbnQiLCJ2b2ljZW1haWxCb3giLCJkaXNhYmxlZFZvaWNlbWFpbEJveCIsInZvaWNlbWFpbFRleHQiLCJ2b2ljZW1haWxQcm9ncmVzcyIsImNsb3NlSWNvbiIsInZvaWNlbWFpbEJ0biIsInZvaWNlbWFpbFNlbnRCdG4iLCJkaXNhYmxlQnRuIiwiS2V5UGFkIiwiaW5pdGlhbGl6ZVZvaWNlbWFpbERhdGEiLCJ2b2ljZW1haWxUZW1wbGF0ZXMiLCJ2b2ljZW1haWxDbGlja01hcCIsInZvaWNlbWFpbFNlbnRNYXAiLCJoYW5kbGVPcGVuIiwiaGFuZGxlQ2xvc2UiLCJkaXNhYmxlVm9pY2VtYWlsQ2xpY2siLCJpc1ZvaWNlbWFpbEVuYWJsZWQiLCJoYW5kbGVWb2ljZW1haWxDbGljayIsInZvaWNlbWFpbFRlbXBsYXRlIiwidGVtcGxhdGVOYW1lIiwic2lwU2VuZERUTUYiLCJWT0lDRU1BSUxfQVVUT19DTE9TRV9USU1FTU9VVCIsImlzVm9pY2VtYWlsQXZhaWxhYmxlIiwiZGlzcGxheU51bWJlciIsImRpYWxsZWQiLCJpc1ZvaWNlbWFpbENsaWNrZWQiLCJWb2ljZW1haWwiLCJhbmNob3JSZWZlcmVuY2UiLCJhbmNob3JQb3NpdGlvbiIsIlBhcGVyUHJvcHMiLCJNb3JlVmVydCIsIkljb25CdXR0b24iLCJWb2ljZW1haWxXcmFwcGVyIiwiY2hhbmdlQ2FsbGVyIiwiNjEyNCIsIjYxMjUiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLEtBQ0EsU0FBVUMsRUFBUUMsRUFBU0MsR0FFakMsWUErSEEsU0FBU0MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU0csR0FBZ0JILEVBQUtJLEVBQUtDLEdBQWlLLE1BQXBKRCxLQUFPSixHQUFPTSxPQUFPQyxlQUFlUCxFQUFLSSxHQUFPQyxNQUFPQSxFQUFPRyxZQUFZLEVBQU1DLGNBQWMsRUFBTUMsVUFBVSxJQUFrQlYsRUFBSUksR0FBT0MsRUFBZ0JMLEVBRTNNLFFBQVNXLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFn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QUFBNi9FLGNBQWFwdEUsTTdDbXNrQi9DNVYsR0FBUUssUzZDL3JrQk8sRUFBQWdELEVBQUE2UyxTQUNiVixFQUNBRSxJQUNBLEVBQUF1akMsRUFBQTlpQyxZQUFXaFEsR0FBVWlRLFdBQVcsSUFBUTJzRSxLN0Nnc2tCcENFLEtBQ0EsU0FBVWxqRixFQUFRQyxHOENsaGxCeEJELEVBQUFDLFFBQUEsMHZFOUN3aGxCTWtqRixLQUNBLFNBQVVuakYsRUFBUUMsRytDemhsQnhCRCxFQUFBQyxRQUFBIiwiZmlsZSI6IjAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFswXSx7XG5cbi8qKiovIDYwNzU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX0NvbnRhY3RMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzMpO1xuXG52YXIgX0NvbnRhY3RMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhY3RMaXN0KTtcblxudmFyIF9zaXBVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXG52YXIgX2FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblxudmFyIF9jYWxsTG9nQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ1KTtcblxudmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfQ2xvc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblxudmFyIF9DbG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9zZSk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblxudmFyIF9DYWxsUHJlcERldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OCk7XG5cbnZhciBfQ2FsbFByZXBEZXRhaWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGxQcmVwRGV0YWlscyk7XG5cbnZhciBfUG9zdENhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOTApO1xuXG52YXIgX1Bvc3RDYWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bvc3RDYWxsKTtcblxudmFyIF9JbkNhbGxEZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTIyKTtcblxudmFyIF9JbkNhbGxEZXRhaWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0luQ2FsbERldGFpbHMpO1xuXG52YXIgX3JlYWN0SGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzOCk7XG5cbnZhciBfcmVhY3RIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEhhbW1lcmpzKTtcblxudmFyIF9Nb2RhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXG52YXIgX01vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsKTtcblxudmFyIF9Ub29sdGlwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG5cbnZhciBfVG9vbHRpcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub29sdGlwKTtcblxudmFyIF9GYWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cbnZhciBfRmFiMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZhYik7XG5cbnZhciBfTmF2aWdhdGVOZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDIpO1xuXG52YXIgX05hdmlnYXRlTmV4dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OYXZpZ2F0ZU5leHQpO1xuXG52YXIgX05hdmlnYXRlQmVmb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDEpO1xuXG52YXIgX05hdmlnYXRlQmVmb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05hdmlnYXRlQmVmb3JlKTtcblxudmFyIF9EcmF3ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NCk7XG5cbnZhciBfRHJhd2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RyYXdlcik7XG5cbnZhciBfQXJyb3dEcm9wRG93biA9IF9fd2VicGFja19yZXF1aXJlX18oMTg2KTtcblxudmFyIF9BcnJvd0Ryb3BEb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Fycm93RHJvcERvd24pO1xuXG52YXIgX0N1c3RvbWVyRHJhd2VyT3B0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzU5KTtcblxudmFyIF9LZXlQYWRXcmFwcGVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTIpO1xuXG52YXIgX0tleVBhZFdyYXBwZWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5UGFkV3JhcHBlZCk7XG5cbnZhciBfVmVydGljYWxUaW1lTGluZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzYwKTtcblxudmFyIF9WZXJ0aWNhbFRpbWVMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZlcnRpY2FsVGltZUxpbmUpO1xuXG52YXIgX1ZvaWNlbWFpbFdyYXBwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMjMpO1xuXG52YXIgX1ZvaWNlbWFpbFdyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVm9pY2VtYWlsV3JhcHBlcik7XG5cbnZhciBfVHJhbnNjcmlwdENoYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODUpO1xuXG52YXIgX1RyYW5zY3JpcHRDaGF0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zY3JpcHRDaGF0KTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxudmFyIF9DdXN0b21Gb290ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Myk7XG5cbnZhciBfQ3VzdG9tRm9vdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0N1c3RvbUZvb3Rlcik7XG5cbnZhciBfRnJlZGFCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxudmFyIF9UcmFuc2NyaXB0Qm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDg0KTtcblxudmFyIF9UcmFuc2NyaXB0Qm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zY3JpcHRCb3gpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgX2Jhc2VTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlU3R5bGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdW1tYXJ5RGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18oMzc0KTtcbnZhciB0ZXN0ID0gXCJDdXN0b21lcjogSGkuIEhlbGxvLiBIZXksIENvbGxlY3RvcjogSSB3YW50ZWQgdG8gbWFrZSBzdXJlIHlvdSByZWNlaXZlZCBteSBub3RlLiBUaGUgcGF5bWVudCB3YXMgZHVlIHllc3RlcmRheS4gRGV0ZWN0aW5nIFNwZWFrZXI6IGdldCBpdCB1bmRlciB0aGUgc2VuZGVyLiBJJ20gQ29sbGVjdG9yOiBJIGRpZG4ndCBhIHRlbGwgeW91IGZvcmdvdC4gSXQncyBpbnZvaWNlIG51bWJlciAzNDctNDAwLTQwMDAuIEkgd2lsbCBlbWFpbCB5b3UgcmlnaHQgbm93IGRvZXMgYSBwZXJzb24gYXQgbS5jb20gZW1haWwgYWRkcmVzcyB3b3JrcyBiZXN0IGZvciB5b3U/IEN1c3RvbWVyOiBZZWFoLCB0aGF0J3MgZmluZS4gQ29sbGVjdG9yOiBCaWcgQmVuZCBPbGl2aWEgZ29pbmcgdG8gbWUgdG8gbWUgdGhhdCBjaGVjayBmb3IgdGhpcyBpbnZvaWNlLiBDdXN0b21lcjogSSBhY3R1YWxseSBkb24ndCBoYXZlIHRoZSBjYXNoIGZvciBkZWJhdGUgcmlnaHQgbm93LiBDb2xsZWN0b3I6IE9rYXksIEkgc2VlIHdoZW4gd2Ugd2lsbCBiZSBnZXR0aW5nIHlvdXIgbmV4dCBwYXltZW50LiBDdXN0b21lcjogTm9ydGhlcm4gVG9vbCBpbiB0aGUgMjFzdCBhdCB5b3Ugc2VuZCBtZSBhIGNoZWNrIG9yIFRodXJzZGF5IHRoZSAyMm5kPyBJIHdvbid0IENvbGxlY3RvcjogNyBzZWUgY2FuIGJlIGFibGUgdG8gcGF5IHRoZSB3aG9sZSB0aGluZyBkb25lLiBDb2xsZWN0b3I6IEJ1dCBpZiB5b3Ugc2VuZCBtZSBoYXZlIHRvIHJlZ2lzdGVyIGFuZCB0aGVuIHVwIGF0IHRoZSBlbmQgb2YgdGhlIG1vbnRoLiBDdXN0b21lcjogVGhhdCBhY3R1YWxseSBtaWdodCB3b3JrLiBDb2xsZWN0b3I6IE9rYXksIHNvdW5kcyBnb29kLiBJJ2xsIE1hbGNvbG0gWCBhbWF6aW5nIG1lICQyLDAwMCBvbiBUaHVyc2RheSB0aGUgMjJuZCBhbmQgSSB3aWxsIGZvbGxvdyB1cCB3aXRoIHlvdSB0ZXN0aW5nXCI7XG52YXIgdGltZUludGVydmFsID0gdm9pZCAwO1xudmFyIGF2YWlsYWJsZUZpbHRlck9wZXJhdGlvbnMgPSBbJ2VxdWFsJywgJ25vdEVxdWFsJywgJ2dyZWF0ZXJUaGFuJywgJ2dyZWF0ZXJUaGFuT3JFcXVhbCcsICdsZXNzVGhhbicsICdsZXNzVGhhbk9yRXF1YWwnXTtcblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIGFwcEZyYW1lOiB7XG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICBtYXhIZWlnaHQ6IFwiMTAwdmhcIlxuICAgIH0sXG4gICAgcm9vdDoge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQubWFpbixcbiAgICAgIHdpZHRoOiBcIjkzLjc1dndcIixcbiAgICAgIG1hcmdpblJpZ2h0OiBcImF1dG9cIixcbiAgICAgIG1hcmdpbkxlZnQ6IFwiYXV0b1wiLFxuICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgIHBhZGRpbmdCb3R0b206IFwiMFwiLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHlcblxuICAgIH0sXG4gICAgaGFuZ1VwSWNvbkluZzoge1xuICAgICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgfSxcbiAgICBjYWxsVGV4dDoge1xuICAgICAgbWFyZ2luTGVmdDogXCIuNXJlbVwiLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6IFwiMXJlbVwiXG4gICAgfSxcbiAgICBkaWFscGFkSWNvbjoge1xuICAgICAgaGVpZ2h0OiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcbiAgICAgIHBhZGRpbmdSaWdodDogXCIxcmVtXCJcbiAgICB9LFxuICAgIHZvaWNlTWFpbEljb246IHtcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICBiYWNrZ3JvdW5kOiBcIiM1REFBRTBcIixcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcbiAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgIHBhZGRpbmc6IFwiMXB4XCJcbiAgICB9LFxuICAgIHN0YXR1czoge1xuICAgICAgZm9udFNpemU6IFwiLjdyZW1cIixcbiAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICB6SW5kZXg6IFwiNlwiXG4gICAgfSxcbiAgICBkdXJhdGlvbjoge1xuICAgICAgbWFyZ2luUmlnaHQ6IFwiLjZyZW1cIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgIH0sXG4gICAgY3VzdG9tZXJOYW1lOiB7XG4gICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogXCIxLjc4cmVtXCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcbiAgICAgIGxpbmVIZWlnaHQ6IFwiMi4wNXJlbVwiXG4gICAgfSxcbiAgICBjdXN0b21lck51bWJlcjoge1xuICAgICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6IFwiLjhyZW1cIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgfSxcbiAgICB0cmFuc2NyaXB0Qm94OiB7XG4gICAgICBoZWlnaHQ6IFwiODYuNTB2aFwiLFxuICAgICAgLy8gd2lkdGg6IFwiMjV2aFwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gICAgfSxcbiAgICB0cmFuc2NyaXB0VGl0bGU6IHtcbiAgICAgIGZvbnRTaXplOiBcIjEuMnJlbVwiLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgLy8gcGFkZGluZzogXCIyZW0gMCAyZW0gMFwiXG4gICAgICBwYWRkaW5nTGVmdDogXCIxcmVtXCIsXG4gICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgcGFkZGluZ1RvcDogXCIuNXJlbVwiLFxuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIGZvbnRGYW1pbHk6IFwiUm9ib3RvXCJcbiAgICB9LFxuICAgIG5leHRGYWI6IHtcbiAgICAgIHJpZ2h0OiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAwLjI1XG4gICAgfSxcbiAgICBwcmV2RmFiOiB7XG4gICAgICBtYXJnaW5MZWZ0OiBcIi0wLjVyZW1cIlxuICAgIH0sXG4gICAgaGFuZ1VwQnV0dG9uOiB7XG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXG4gICAgICB3aWR0aDogXCIyLjY2NjY2NjY1cmVtXCJcbiAgICB9LFxuICAgIGhhbmdVcEJ1dHRvbkltZzoge1xuICAgICAgaGVpZ2h0OiBcIjIuNjY2NjY1cmVtXCIsXG4gICAgICB3aWR0aDogXCIyLjY2NjY2NjY1cmVtXCJcbiAgICB9LFxuICAgIGRyb3BEb3duSWNvbjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICB9LFxuICAgIGRyb3BEb3duOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluXG4gICAgfSxcblxuICAgIG1pY09mZkljb25JbWc6IHtcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXG4gICAgICB3aWR0aDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIlxuICAgIH0sXG4gICAgbWljT2ZmSWNvbjoge1xuICAgICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXG4gICAgICBjb2xvcjogXCJ3aGl0ZVwiXG4gICAgfSxcblxuICAgIGNhbGxlZENvbnRhY3ROYW1lOiB7XG4gICAgICBmb250U2l6ZTogXCIuNzZyZW1cIixcbiAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiXG4gICAgfSxcbiAgICBjYWxsZWRUb0NvbnRhY3REaXY6IHtcbiAgICAgIHdpZHRoOiBcIjgwJVwiXG4gICAgfSxcbiAgICB0cmFuc2NyaXB0Qm94UGFyZW50OiB7XG4gICAgICBwYWRkaW5nQm90dG9tOiBcIjBweCAhaW1wb3J0YW50XCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCJcbiAgICB9LFxuICAgIGNsb3NlU3R5bGU6IHtcbiAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICB0b3A6IFwiMSVcIixcbiAgICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICBmb250U2l6ZTogNDgsXG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgfSxcbiAgICBjdXN0b21lckhpc3RvcnlNb2RhbDoge1xuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIHdpZHRoOiBcIjQ1JVwiLFxuICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgIGJvdHRvbTogXCIwXCIsXG4gICAgICBvdmVyZmxvd1dyYXA6IFwiYnJlYWstd29yZFwiLFxuICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgIGJveFNoYWRvdzogdGhlbWUuc2hhZG93c1s1XSxcbiAgICAgIHBhZGRpbmdMZWZ0OiBcIjElXCIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBsZWZ0OiBcIjQuMiVcIlxuICAgIH0sXG4gICAgLy9tZW51IFxuICAgIGFjdGlvbkljb246IHtcbiAgICAgIGZvbnRTaXplOiAnMnJlbScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIGFjdGlvbkJ1dHRvbjoge1xuICAgICAgLy8gcGFkZGluZyA6IFwiMSVcIixcbiAgICAgIGhlaWdodDogXCI0LjE2NnZ3XCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwiMHB4XCIsXG4gICAgICB3aWR0aDogXCI0LjE2NnZ3XCJcbiAgICB9XG5cbiAgfTtcbn07XG5cbnZhciBzYWxlcyA9IGdldFJhbWRvbVJvd3MoKTtcblxuZnVuY3Rpb24gZ2V0UmFtZG9tUm93cygpIHtcbiAgdmFyIHJvd3MgPSBbXTtcbiAgdmFyIGl0ZW0gPSB7IFwicHJvZHVjdFwiOiBcImhlbGxvXCIsIFwicmVnaW9uXCI6IFwiQW1lcmljYVwiLCBcImFtb3VudFwiOiBcIjVcIiwgXCJzYWxlRGF0ZVwiOiBcIjA5LzA5LzE5OTZcIiwgXCJjdXN0b21lclwiOiBcIkJhbHJhalwiIH07XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTAwMDsgaSsrKSB7XG4gICAgcm93cy5wdXNoKGl0ZW0pO1xuICB9XG5cbiAgcmV0dXJuIHJvd3M7XG59XG5cbnZhciBJbkNhbGwgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoSW5DYWxsLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBJbkNhbGwocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5DYWxsKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChJbkNhbGwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJbkNhbGwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5vcGVuQ29udGFjdERyb3Bkb3duID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLmNvbnRhY3RPcGVuID09IHRydWUpIF90aGlzLnNldFN0YXRlKHsgY29udGFjdE9wZW46IGZhbHNlIH0pO2Vsc2UgX3RoaXMuc2V0U3RhdGUoeyBjb250YWN0T3BlbjogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMudG9nZ2xlQ29udGFjdFBvcG92ZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgY29udGFjdE9wZW46IHZhbHVlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5nZXRGb3JtYXR0ZWREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkdXJhdGlvbiA9IF90aGlzLnN0YXRlLmNhbGxEdXJhdGlvbisrO1xuICAgICAgdmFyIGhyID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIDM2MDApO1xuICAgICAgdmFyIG1pbiA9IE1hdGguZmxvb3IoKGR1cmF0aW9uIC0gaHIgKiAzNjAwKSAvIDYwKTtcbiAgICAgIHZhciBzZWMgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC0gaHIgKiAzNjAwIC0gbWluICogNjApO1xuXG4gICAgICBpZiAobWluIDwgMTApIHtcbiAgICAgICAgbWluID0gXCIwXCIgKyBtaW47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWMgPCAxMCkge1xuICAgICAgICBzZWMgPSBcIjBcIiArIHNlYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1pbiArICc6JyArIHNlYztcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblZvaWNlbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgaXNWb2ljZW1haWxPcGVuOiAhX3RoaXMuc3RhdGUuaXNWb2ljZW1haWxPcGVuIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZVBvcFRpbWVsaW5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBwb3BUaW1lbGluZTogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5Qb3BUaW1lbGluZSA9IGZ1bmN0aW9uIChwb3BUeXBlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBvcFRpbWVsaW5lOiB0cnVlLCBwb3BUeXBlOiBwb3BUeXBlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5nZXRUaW1lbGluZSA9IGZ1bmN0aW9uIChwb3BUeXBlKSB7XG4gICAgICB2YXIgY2xhc3NlcyA9IF90aGlzLnByb3BzLmNsYXNzZXM7XG5cbiAgICAgIHZhciBldmVudHMgPSBcIlwiLFxuICAgICAgICAgIG1haW5IZWFkZXIgPSBcIlwiLFxuICAgICAgICAgIG5vRXZlbnRNc2cgPSBcIlwiO1xuICAgICAgaWYgKHBvcFR5cGUgPT09IFwiUEFZTUVOVF9ISVNUT1JZXCIpIHtcbiAgICAgICAgZXZlbnRzID0gX3RoaXMuc3RhdGUuY3VzdG9tZXIucGF5bWVudHM7XG4gICAgICAgIC8vIGV2ZW50cz10aGlzLnBheW1lbnRzO1xuICAgICAgICBtYWluSGVhZGVyID0gXCJSRUNFTlQgUEFZTUVOVFNcIjtcbiAgICAgICAgbm9FdmVudE1zZyA9IFwiTm8gUGF5bWVudHMgaW4gTGFzdCAzMCBEYXlzXCI7XG4gICAgICB9XG4gICAgICBpZiAocG9wVHlwZSA9PT0gXCJDT01NX0hJU1RPUllcIikge1xuICAgICAgICBldmVudHMgPSBfdGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uO1xuICAgICAgICAvLyBldmVudHM9dGhpcy5jb21tdW5pY2F0aW9uO1xuICAgICAgICBtYWluSGVhZGVyID0gXCJDT01NVU5JQ0FUSU9OIEhJU1RPUllcIjtcbiAgICAgICAgbm9FdmVudE1zZyA9IFwiTm8gQ29tbXVuaWNhdGlvbiBIaXN0b3J5XCI7XG4gICAgICAgIGZvciAodmFyIGkgaW4gZXZlbnRzKSB7XG4gICAgICAgICAgdmFyIHR5cGUgPSBldmVudHNbaV0udHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIGlmICh0eXBlID09IFwiQ0FMTFwiKSB7XG4gICAgICAgICAgICB2YXIgc3RhdHVzID0gZXZlbnRzW2ldLmNhbGwuc3RhdHVzO1xuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBcIi0xMDBcIikge1xuICAgICAgICAgICAgICBldmVudHNbaV0uY29tbVR5cGUgPSBcIlZPSUNFTUFJTFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXZlbnRzW2ldLmNvbW1UeXBlID0gXCJDQUxMXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09IFwiQ09SUkVTUE9OREVOQ0VcIikge1xuICAgICAgICAgICAgZXZlbnRzW2ldLmNvbW1UeXBlID0gXCJNQUlMXCI7XG4gICAgICAgICAgICBldmVudHNbaV0uY3VzdG9tZXJOYW1lID0gX3RoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgKHBvcFR5cGUgPT0gXCJDT01NX0hJU1RPUllcIiB8fCBwb3BUeXBlID09IFwiUEFZTUVOVF9ISVNUT1JZXCIpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9WZXJ0aWNhbFRpbWVMaW5lMi5kZWZhdWx0LCB7XG4gICAgICAgICAgcG9wVHlwZTogcG9wVHlwZSxcbiAgICAgICAgICBldmVudHM6IGV2ZW50cyxcbiAgICAgICAgICBtYWluSGVhZGVyOiBtYWluSGVhZGVyLFxuICAgICAgICAgIG5vRXZlbnRNc2c6IG5vRXZlbnRNc2dcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIF90aGlzLnRvZ2dsZU11dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlzTXV0ZWQ6ICFfdGhpcy5zdGF0ZS5pc011dGVkIH0pO1xuICAgICAgKDAsIF9zaXBVdGlscy5zaXBUb2dnbGVNdXRlKSgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zZXREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5jYWxsRHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgdGltZUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIkNvbm5lY3RlZCB0b1wiKSBfdGhpcy5zZXRTdGF0ZSh7IGNhbGxEdXJhdGlvbkluRm9ybWF0OiBfdGhpcy5nZXRGb3JtYXR0ZWREdXJhdGlvbigpIH0pO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2xlYXJJbnRlcnZhbE9uSGFuZ3VwID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lSW50ZXJ2YWwpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5nVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAoMCwgX3NpcFV0aWxzLnNpcEhhbmd1cCkoKTtcbiAgICAgIC8vIHRoaXMucHJvcHMuY2hhbmdlQ2FsbFN0YXRlKHsgY2FsbGluZzogZmFsc2UsIHN0YXR1cyA6IFwiQ29ubmVjdGVkIHRvXCIgfSlcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblZvaWNlbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgaXNWb2ljZW1haWxPcGVuOiAhX3RoaXMuc3RhdGUuaXNWb2ljZW1haWxPcGVuIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5zd2l0Y2hUb0NhbGxQcmVwUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgY2FsbFByZXBQYWdlOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5zd2l0Y2hUb0NhbGxJbkNhbGxQYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjYWxsUHJlcFBhZ2U6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVWb2ljZW1haWxNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAvL2FmdGVyIGZvciBhZGQgY2FsbGVkX3RvX25hbWUgb3IgbnVtYmVyIGlmIHVua25vdyB1c2VyIGFjY29yZGluZ2x5XG5cbiAgICAgIHZhciBjb250YWN0ID0gdm9pZCAwO1xuICAgICAgdmFyIGNhbGxlZE5hbWUgPSBfdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSArIFwiIFwiICsgX3RoaXMuY2FsbGVkVG9MYXN0TmFtZTtcblxuICAgICAgaWYgKGNhbGxlZE5hbWUgPT09IFwiVW5rbm93biBcIiB8fCBjYWxsZWROYW1lID09PSBcIlVubmFtZWQgVW5uYW1lZFwiKSB7XG4gICAgICAgIGNvbnRhY3QgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb051bWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhY3QgPSBjYWxsZWROYW1lO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWVzc2FnZSA9ICdWb2ljZW1haWwgUGxheWVkIGZvciAnICsgKGNvbnRhY3QgPyBjb250YWN0IDogXCJcIikgKyAnXFxuJztcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxQbGF5ZWRNZXNzYWdlOiBtZXNzYWdlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5teVJlZiA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVSZWYoKTtcbiAgICBfdGhpcy5wcm9wcy5jaGFuZ2VDYWxsU3RhdGUoeyBjYWxsaW5nOiB0cnVlLCBzdGF0dXM6IFwiXCIgfSk7XG4gICAgdmFyIGNvbnRhY3RJbmRleCA9IHZvaWQgMCxcbiAgICAgICAgY2FsbGVkVG9Db250YWN0SWQgPSB2b2lkIDA7XG4gICAgaWYgKF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbnRhY3RJbmRleCAhPSBudWxsKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImZpcnN0IG9uZVwiKTtcbiAgICAgIGNvbnNvbGUubG9nKF90aGlzLnByb3BzKTtcbiAgICAgIGNvbnRhY3RJbmRleCA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbnRhY3RJbmRleDtcbiAgICAgIGNhbGxlZFRvQ29udGFjdElkID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5pZDtcbiAgICAgIF90aGlzLmNhbGxlZFRvTnVtYmVyID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9OdW1iZXI7XG4gICAgICBfdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZmlyc3ROYW1lO1xuICAgICAgX3RoaXMuY2FsbGVkVG9MYXN0TmFtZSA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0ubGFzdE5hbWU7XG4gICAgICBfdGhpcy5lbWFpbE9mQ2FsbGVkID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5lbWFpbDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coX3RoaXMucHJvcHMpO1xuICAgICAgY29uc29sZS5sb2coXCJzZWNvbmQgb25lXCIpO1xuICAgICAgY2FsbGVkVG9Db250YWN0SWQgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SWQ7XG4gICAgICBfdGhpcy5jYWxsZWRUb051bWJlciA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyO1xuICAgICAgX3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb0ZpcnN0TmFtZTtcbiAgICAgIF90aGlzLmNhbGxlZFRvTGFzdE5hbWUgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb0xhc3ROYW1lO1xuICAgICAgX3RoaXMuZW1haWxPZkNhbGxlZCA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmVtYWlsT2ZDYWxsZWQ7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiRW1haWwgb2YgY2FsbGVkXCIsIF90aGlzLmVtYWlsT2ZDYWxsZWQpO1xuXG4gICAgX3RoaXMuY2FsbGVkVG9GdWxsTmFtZSA9IF90aGlzLmNhbGxlZFRvRmlyc3ROYW1lICsgXCIgXCIgKyBfdGhpcy5jYWxsZWRUb0xhc3ROYW1lO1xuICAgIGlmIChfdGhpcy5jYWxsZWRUb0Z1bGxOYW1lID09PSBcIlVua25vd24gXCIgfHwgX3RoaXMuY2FsbGVkVG9GdWxsTmFtZSA9PT0gXCJVbm5hbWVkIFVubmFtZWRcIikge1xuICAgICAgX3RoaXMuY2FsbGVkVG9GdWxsTmFtZSA9IF90aGlzLmNhbGxlZFRvTnVtYmVyO1xuICAgIH1cbiAgICB2YXIgbG9jYXRpb25Qcm9wcyA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlO1xuICAgIHZhciBhY2NvdW50ID0gX3RoaXMucHJvcHMuY3VzdG9tZXJzLmN1c3RvbWVycy5maWx0ZXIoZnVuY3Rpb24gKGN1c3RvbWVyKSB7XG4gICAgICByZXR1cm4gY3VzdG9tZXIuaWQgPT0gbG9jYXRpb25Qcm9wcy5hY2NvdW50SWQ7XG4gICAgfSk7XG4gICAgX3RoaXMucHJvcHMuY2FsbExvZyh7XG4gICAgICBzdGF0dXM6IFwiXCIsXG4gICAgICBjb250YWN0OiB7XG4gICAgICAgIGlkOiBjYWxsZWRUb0NvbnRhY3RJZFxuICAgICAgfSxcbiAgICAgIGNhbGxlZFRvTnVtYmVyOiBfdGhpcy5jYWxsZWRUb051bWJlcixcbiAgICAgIGNvbnRhY3RJZDogY2FsbGVkVG9Db250YWN0SWQsXG4gICAgICBjYWxsZWRUbzogX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG8sXG4gICAgICBzdGFydERhdGVUaW1lOiBuZXcgRGF0ZSgpXG4gICAgfSk7XG4gICAgKDAsIF9GcmVkYUJ1dHRvbi5kaXNhYmxlRnJlZGFJbkNhbGwpKCk7XG4gICAgKDAsIF9zaXBVdGlscy5zaXBDYWxsKShfdGhpcy5jYWxsZWRUb051bWJlciwgX3RoaXMucHJvcHMudXNlciwgYWNjb3VudCwgbG9jYXRpb25Qcm9wcy5jdXN0b21lciwgX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMpO1xuICAgIC8vIHdoaWxlKHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgIT0gdHJ1ZSk7XG4gICAgX3RoaXMuc3RhdGUgPSBfZGVmaW5lUHJvcGVydHkoe1xuICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICB2b2ljZW1haWxQbGF5ZWRNZXNzYWdlOiBcIlwiLFxuICAgICAgcmVkaXJlY3Q6IGZhbHNlLFxuICAgICAgY2FsbFByZXBQYWdlOiBmYWxzZSxcbiAgICAgIGN1c3RvbWVyOiBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lcixcbiAgICAgIGNvbW11bmljYXRpb246IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbW11bmljYXRpb24sXG4gICAgICBjYWxsRHVyYXRpb246IDAsXG4gICAgICBjYWxsRHVyYXRpb25JbkZvcm1hdDogXCJcIixcbiAgICAgIHRyYW5zY3JpcHRpb246IFwiXCIsXG4gICAgICBzdW1tYXJ5OiBcIltdXCIsXG4gICAgICBjb250YWN0T3BlbjogZmFsc2UsXG4gICAgICBjb2x1bW5zOiBbeyBuYW1lOiAncHJvZHVjdCcsIHRpdGxlOiAnUHJvZHVjdCcgfSwgeyBuYW1lOiAncmVnaW9uJywgdGl0bGU6ICdSZWdpb24nIH0sIHsgbmFtZTogJ2Ftb3VudCcsIHRpdGxlOiAnU2FsZSBBbW91bnQnIH0sIHsgbmFtZTogJ3NhbGVEYXRlJywgdGl0bGU6ICdTYWxlIERhdGUnIH0sIHsgbmFtZTogJ2N1c3RvbWVyJywgdGl0bGU6ICdDdXN0b21lcicgfV0sXG4gICAgICBjdXJyZW5jeUNvbHVtbnM6IFsnYW1vdW50J10sXG4gICAgICBwYWdlU2l6ZXM6IFs1LCAxMCwgMTVdLFxuICAgICAgcm93czogc2FsZXMsXG4gICAgICBpbnZvaWNlczogX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMsXG4gICAgICBpc1ZvaWNlbWFpbE9wZW46IGZhbHNlXG4gICAgfSwgJ3RyYW5zY3JpcHRpb24nLCBcIlwiKTtcblxuICAgIGNvbnNvbGUubG9nKF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzLCBcImluIGluY2FsbCB1c3VhbCBmbG93XCIpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEluQ2FsbCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge31cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIGN1cnJlbnRUcmFuc2NyaXB0aW9uID0gdGhpcy5wcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XG4gICAgICB2YXIgbmV3VHJhbnNjcmlwdGlvbiA9IG5leHRQcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XG4gICAgICBpZiAobmV3VHJhbnNjcmlwdGlvbiAhPT0gY3VycmVudFRyYW5zY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRyYW5zY3JpcHRpb246IG5ld1RyYW5zY3JpcHRpb24gfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IG5leHRQcm9wcy5sb2NhdGlvbi5zdGF0ZS5pbnZvaWNlcyB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7fVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzKSB7fVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9SZWFjdCRjcmVhdGVFbGVtZW50LFxuICAgICAgICAgIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuXG4gICAgICB2YXIgbmV4dElkID0gcGFyc2VJbnQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuaWQsIDEwKSArIDE7XG4gICAgICB2YXIgcHJldklkID0gcGFyc2VJbnQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuaWQsIDEwKSAtIDE7XG4gICAgICB2YXIgbmV4dFVybCA9IFwiL2NhbGxwcmVwL1wiICsgbmV4dElkO1xuICAgICAgdmFyIHByZXZVcmwgPSBcIi9jYWxscHJlcC9cIiArIHByZXZJZDtcbiAgICAgIHZhciBjYWxsZWRUb05hbWVJbml0aWFscyA9ICgwLCBfaGVscGVyLmdldEluaXRpYWxzRnJvbU5hbWUpKHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyAnICcgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWUpO1xuICAgICAgdmFyIHhBeGlzTGFiZWxTdHlsZXMgPSB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgZm9udFNpemU6IFwiMTNweFwiLFxuICAgICAgICB3aWR0aDogXCI4MCVcIlxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIikge1xuICAgICAgICB0aGlzLnNldER1cmF0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFwcEZyYW1lIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EcmF3ZXIyLmRlZmF1bHQsIHsgdG9wSXRlbXM6ICgwLCBfQ3VzdG9tZXJEcmF3ZXJPcHRpb25zLmdldE1lbnVJdGVtcykoY2xhc3NlcywgdGhlbWUsIHRoaXMub3BlblBvcFRpbWVsaW5lKSB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbUZvb3RlcjIuZGVmYXVsdCwgbnVsbCksXG4gICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX3JlYWN0SGFtbWVyanMyLmRlZmF1bHQsXG4gICAgICAgICAgeyBvblN3aXBlTGVmdDogdGhpcy5zd2l0Y2hUb0NhbGxQcmVwUGFnZSwgb25Td2lwZVJpZ2h0OiB0aGlzLnN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2UgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucm9vdCB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9Nb2RhbDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUucG9wVGltZWxpbmUsXG4gICAgICAgICAgICAgICAgZGlzYWJsZUF1dG9Gb2N1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlUG9wVGltZWxpbmVcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY3VzdG9tZXJIaXN0b3J5TW9kYWwgfSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGltZWxpbmUodGhpcy5zdGF0ZS5wb3BUeXBlKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb3NlMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMuY2xvc2VTdHlsZSB9LFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVBvcFRpbWVsaW5lXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0ZhYjIuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgLy8gY29sb3I9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgLFxuICAgICAgICAgICAgICAgICAgeyAnYXJpYS1sYWJlbCc6ICdBZGQnLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5wcmV2RmFiLCBjbGFzc2VzLmZhYkJ1dHRvbnMpLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IGRpc2FibGVkOiBjbGFzc2VzLmRpc2FibGVkRmFiIH0sXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zd2l0Y2hUb0NhbGxQcmVwUGFnZVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9OYXZpZ2F0ZUJlZm9yZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IHRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID8gY2xhc3Nlcy5kaXNhYmxlZEFycm93aWNvbiA6IGNsYXNzZXMuYXJyb3dJY29uIH0pXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIF9GYWIyLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgIC8vIGNvbG9yPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgICxcbiAgICAgICAgICAgICAgICAgIHsgJ2FyaWEtbGFiZWwnOiAnQWRkJyxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBkaXNhYmxlZDogY2xhc3Nlcy5kaXNhYmxlZEZhYiB9LFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5uZXh0RmFiLCBjbGFzc2VzLmZhYkJ1dHRvbnMpLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIXRoaXMuc3RhdGUuY2FsbFByZXBQYWdlLFxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2VcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTmF2aWdhdGVOZXh0Mi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogIXRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID8gY2xhc3Nlcy5kaXNhYmxlZEFycm93aWNvbiA6IGNsYXNzZXMuYXJyb3dJY29uIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCB4czogMTIsIGp1c3RpZnk6ICdzcGFjZS1iZXR3ZWVuJywgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLCBzdHlsZTogeyBtYXJnaW5Ub3A6IFwiMS4xMnZoXCIgfSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA1LCBzdHlsZTogeyBwYWRkaW5nTGVmdDogXCIwcHhcIiwgcGFkZGluZ1JpZ2h0OiBcIjBweFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lLmxlbmd0aCA8IDIwID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgbm9XcmFwOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgICAgICApIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9Ub29sdGlwMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IHRpdGxlOiB0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub1dyYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jdXN0b21lck51bWJlciB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHNtOiA2LCBsZzogNiwgbWQ6IDYsIHhsOiA1LCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2ZsZXgtZW5kJyB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgbGc6IDgsIG1kOiAxMCwgeGw6IDEwLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2ZsZXgtZW5kJywgc3R5bGU6IHsgbWFyZ2luUmlnaHQ6IFwiOC4zMzN2d1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHNtOiA5LCBsZzogOSwgbWQ6IDksIHhsOiA5LCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ3NwYWNlLWJldHdlZW4nLCBjbGFzc05hbWU6IGNsYXNzZXMuY2FsbEdyaWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGl0ZW06IHRydWUsIGxnOiA3LCBtZDogNywgeGw6IDcsIHN0eWxlOiB7IGN1cnNvcjogXCJwb2ludGVyXCIgfSwgb25DbGljazogdGhpcy5vcGVuQ29udGFjdERyb3Bkb3duLCBqdXN0aWZ5OiAnZmxleC1zdGFydCcsIGFsaWduSXRlbXM6ICdjZW50ZXInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmN1c3RvbWVySWNvbkNpcmNsZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lID09PSBcIlVubmFtZWRcIiAmJiB0aGlzLmNhbGxlZFRvTGFzdE5hbWUgPT09IFwiVW5uYW1lZFwiICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICE9PSBcIlVubmFtZWRcIiAmJiB0aGlzLmNhbGxlZFRvTGFzdE5hbWUgIT09IFwiVW5uYW1lZFwiICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUudG9VcHBlckNhc2UoKS5jaGFyQXQoMCkgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWUudG9VcHBlckNhc2UoKS5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBsZzogNywgbWQ6IDcsIHhsOiA3LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FsbFRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB2YXJpYW50OiAnc3BhbicsIG5vV3JhcDogdHJ1ZSwgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuc3RhdHVzKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYWxsZWRUb0NvbnRhY3REaXYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBub1dyYXA6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5jYWxsZWRDb250YWN0TmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsZWRUb0Z1bGxOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5kcm9wRG93biwgYWxpZ246ICdyaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Fycm93RHJvcERvd24yLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZHJvcERvd25JY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5jb250YWN0SWNvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ29udGFjdExpc3QyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhRnJvbUNoaWxkOiB0aGlzLnRvZ2dsZUNvbnRhY3RQb3BvdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RPcGVuOiB0aGlzLnN0YXRlLmNvbnRhY3RPcGVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Db250YWN0czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdHM6IHRoaXMuc3RhdGUuY3VzdG9tZXIuY29udGFjdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IHRoaXMuc3RhdGUuY3VzdG9tZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXM6IHRoaXMuc3RhdGUuaW52b2ljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0TmFtZXM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuYnVja2V0TmFtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEN1c3RvbWVyVXJsOiB0aGlzLm5leHRVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLnRvQ2FsbEN1c3RvbWVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCBpdGVtOiB0cnVlLCBsZzogNSwgbWQ6IDUsIHhsOiA1LCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2ZsZXgtZW5kJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5kdXJhdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNhbGxEdXJhdGlvbkluRm9ybWF0XG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLm1pY09mZkljb24sIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc011dGVkICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5taWNPZmZJY29uSW1nLCBzcmM6ICcvdG92by9zdGF0aWMvdW5tdXRlLnN2ZycsIG9uQ2xpY2s6IHRoaXMudG9nZ2xlTXV0ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNNdXRlZCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMubWljT2ZmSWNvbkltZywgc3JjOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMjQpLCBvbkNsaWNrOiB0aGlzLnRvZ2dsZU11dGUgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgYWxpZ246ICdyaWdodCcsIGNsYXNzTmFtZTogY2xhc3Nlcy5oYW5nVXBCdXR0b24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIChfUmVhY3QkY3JlYXRlRWxlbWVudCA9IHsgY2xhc3NOYW1lOiBjbGFzc2VzLmhhbmdVcEJ1dHRvbkltZywgb25DbGljazogdGhpcy5oYW5nVXAgfSwgX2RlZmluZVByb3BlcnR5KF9SZWFjdCRjcmVhdGVFbGVtZW50LCAnY2xhc3NOYW1lJywgY2xhc3Nlcy5oYW5nVXBJY29uSW5nKSwgX2RlZmluZVByb3BlcnR5KF9SZWFjdCRjcmVhdGVFbGVtZW50LCAnc3JjJywgX193ZWJwYWNrX3JlcXVpcmVfXyg2MTI1KSksIF9SZWFjdCRjcmVhdGVFbGVtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmRpYWxwYWRJY29uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0tleVBhZFdyYXBwZWQyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmJhc2VJY29uU2l6ZSwgY3VzdG9tZXI6IHRoaXMuc3RhdGUuY3VzdG9tZXIgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy52b2ljZU1haWxJY29uLCBjbGFzc2VzLmJhc2VJY29uU2l6ZSkgfSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVm9pY2VtYWlsV3JhcHBlcjIuZGVmYXVsdCwgeyBjdXN0b21lcjogdGhpcy5zdGF0ZS5jdXN0b21lciwgb25Wb2ljZW1haWxDbGljazogZnVuY3Rpb24gb25Wb2ljZW1haWxDbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVWb2ljZW1haWxNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPT09IGZhbHNlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgbWFyZ2luVG9wOiBcIjIuMDM3dmhcIiB9IH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCB4czogMTIsIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JywganVzdGlmeTogJ2NlbnRlcicsIHN0eWxlOiB7IG1hcmdpbkxlZnQ6IFwiMHB4XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA4LCBhbGlnbjogJ2xlZnQnLCBzdHlsZTogeyBwYWRkaW5nVG9wOiBcIjBcIiwgcGFkZGluZ1JpZ2h0OiBcIjEuMDQxdndcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0luQ2FsbERldGFpbHMyLmRlZmF1bHQsIHsgY29sbGVjdG9yOiB0aGlzLnByb3BzLnVzZXIsIGVtYWlsT2ZDYWxsZWQ6IHRoaXMuZW1haWxPZkNhbGxlZCwgY3VzdG9tZXI6IHRoaXMuc3RhdGUuY3VzdG9tZXIsIGludm9pY2VzOiB0aGlzLnN0YXRlLmludm9pY2VzLCBidWNrZXROYW1lczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lcyB9KVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHhzOiA0LCBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNjcmlwdEJveFBhcmVudCB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNjcmlwdEJveDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50cmFuc2NyaXB0Qm94LFxuICAgICAgICAgICAgICAgICAgICAgIGF1dG9TY3JvbGw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zY3JpcHRUaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q2hhdFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uOiB0aGlzLnN0YXRlLnRyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZWRUb05hbWVJbml0aWFsczogY2FsbGVkVG9OYW1lSW5pdGlhbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5pdGlhbHM6ICdNRScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0R3JpZElEOiAnbGl2ZS10cmFuc2NyaXB0aW9uLWdyaWQnXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiB0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSA9PT0gdHJ1ZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DYWxsUHJlcERldGFpbHMyLmRlZmF1bHQsIHsgY3VzdG9tZXI6IHRoaXMuc3RhdGUuY3VzdG9tZXIgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gZmFsc2UgJiYgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDYWxsIEZhaWxlZFwiIHx8IHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PSBcIldyb25nIE51bWJlclwiIHx8IHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PSBcIlVzZXIgQnVzeVwiKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlckRvbS5SZWRpcmVjdCwge1xuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgcGF0aG5hbWU6IFwiL2NhbGxwcmVwL1wiICsgdGhpcy5zdGF0ZS5jdXN0b21lci5pZCxcbiAgICAgICAgICAgICAgc3RhdGU6IHsgb3BlbkNvbnRhY3RzOiB0cnVlLCB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApLFxuICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSBmYWxzZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUG9zdENhbGwyLmRlZmF1bHQsIHtcbiAgICAgICAgICB2b2ljZW1haWxNZXNzYWdlOiB0aGlzLnN0YXRlLnZvaWNlbWFpbFBsYXllZE1lc3NhZ2UsXG4gICAgICAgICAgY2FsbER1cmF0aW9uOiB0aGlzLnN0YXRlLmNhbGxEdXJhdGlvbixcbiAgICAgICAgICB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzLFxuICAgICAgICAgIG5leHRDdXN0b21lclVybDogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5uZXh0Q3VzdG9tZXJVcmwsXG4gICAgICAgICAgb25IYW5ndXA6IHRoaXMuY2xlYXJJbnRlcnZhbE9uSGFuZ3VwLFxuICAgICAgICAgIGludm9pY2VzOiB0aGlzLnN0YXRlLmludm9pY2VzLFxuICAgICAgICAgIGN1c3RvbWVyOiB0aGlzLnN0YXRlLmN1c3RvbWVyLFxuICAgICAgICAgIGNhbGxlZFRvTmFtZTogdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSArIFwiIFwiICsgdGhpcy5jYWxsZWRUb0xhc3ROYW1lLFxuICAgICAgICAgIGJ1Y2tldE5hbWVzOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmJ1Y2tldE5hbWVzLFxuICAgICAgICAgIGNvbGxlY3RvcjogdGhpcy5wcm9wcy51c2VyLFxuICAgICAgICAgIGNvbnRhY3RJbmRleDogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SW5kZXgsXG4gICAgICAgICAgY2FsbGVkVG9OdW1iZXI6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9OdW1iZXIsXG4gICAgICAgICAgaW5pdGlhbFRyYW5zY3JpcHRpb246IHRoaXMuc3RhdGUudHJhbnNjcmlwdGlvblxuICAgICAgICB9KSxcbiAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gZmFsc2UgJiYgdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIlRyeWluZyB0byBjb25uZWN0XCIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXJEb20uUmVkaXJlY3QsIHsgdG86IHtcbiAgICAgICAgICAgICAgcGF0aG5hbWU6ICcvY2FsbHByZXAvJyArIHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICAgIHN0YXRlOiB7IG9wZW5Db250YWN0czogZmFsc2UsIHRvQ2FsbEN1c3RvbWVyczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS50b0NhbGxDdXN0b21lcnMgfVxuICAgICAgICAgICAgfSB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbkNhbGw7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG5cbiAgICB1c2VyOiBzdGF0ZS5wZXJzb25hbERldGFpbHMsXG4gICAgY2FsbFN0YXRlOiBzdGF0ZS5jYWxsU3RhdGUsXG4gICAgdHJhbnNjcmlwdGlvbjogc3RhdGUudHJhbnNjcmlwdGlvbixcbiAgICBjdXN0b21lcnM6IHN0YXRlLmN1c3RvbWVyc1xuICB9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIGNoYW5nZUNhbGxTdGF0ZTogZnVuY3Rpb24gY2hhbmdlQ2FsbFN0YXRlKGRhdGEpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2FjdGlvbnMuY2hhbmdlQ2FsbFN0YXRlKShkYXRhKSk7XG4gICAgfSxcbiAgICBjaGFuZ2VTdGF0dXM6IGZ1bmN0aW9uIGNoYW5nZVN0YXR1cyhkYXRhKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmNoYW5nZVN0YXR1cykoZGF0YSkpO1xuICAgIH0sXG4gICAgY2hhbmdlVHJhbnNjcmlwdGlvbjogZnVuY3Rpb24gY2hhbmdlVHJhbnNjcmlwdGlvbihkYXRhKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmNoYW5nZVRyYW5zY3JpcHRpb24pKGRhdGEpKTtcbiAgICB9LFxuICAgIGNhbGxMb2c6IGZ1bmN0aW9uIGNhbGxMb2coZGF0YSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfY2FsbExvZ0FjdGlvbnMuYWRkSW5pdGlhbENhbGxMb2cpKGRhdGEpKTtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgY29tYmluZWRTdHlsZSA9ICgwLCBfY29tYmluZVN0eWxlczIuZGVmYXVsdCkoc3R5bGVzLCBfYmFzZVN0eWxlMi5kZWZhdWx0KTtcbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW5DYWxsKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDc2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfZGF0ZV9mbnNfYWRkRGF5c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2RhdGVfZm5zX2FkZE1vbnRoc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2RhdGVfZm5zX2FkZFllYXJzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2RhdGVfZm5zX2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2RhdGVfZm5zX2VhY2hEYXlPZkludGVydmFsX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2RhdGVfZm5zX2VuZE9mRGF5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5MCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2RhdGVfZm5zX2VuZE9mTW9udGhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfZGF0ZV9mbnNfZW5kT2ZXZWVrX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5MSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X2RhdGVfZm5zX2VuZE9mWWVhcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX2RhdGVfZm5zX2dldEhvdXJzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2MSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9kYXRlX2Zuc19nZXRTZWNvbmRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Mik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9kYXRlX2Zuc19nZXRZZWFyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Myk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19kYXRlX2Zuc19pc0FmdGVyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2NCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfZGF0ZV9mbnNfaXNFcXVhbF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfZGF0ZV9mbnNfaXNTYW1lRGF5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Nyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19kYXRlX2Zuc19pc1ZhbGlkX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Myk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9kYXRlX2Zuc19wYXJzZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjgpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfZGF0ZV9mbnNfc2V0SG91cnNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX2RhdGVfZm5zX3NldE1pbnV0ZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzcwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX2RhdGVfZm5zX3NldFNlY29uZHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzcxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX2RhdGVfZm5zX3NldFllYXJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX2RhdGVfZm5zX3N0YXJ0T2ZEYXlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X2RhdGVfZm5zX3N0YXJ0T2ZNb250aF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9kYXRlX2Zuc19zdGFydE9mV2Vla19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9kYXRlX2Zuc19zdGFydE9mWWVhcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjMpO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgRGF0ZUZuc1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGVGbnNVdGlscyhfYSkge1xuICAgICAgICB2YXIgbG9jYWxlID0gKF9hID09PSB2b2lkIDAgPyB7fSA6IF9hKS5sb2NhbGU7XG4gICAgICAgIHRoaXMuZGF0ZVRpbWUxMmhGb3JtYXQgPSBcIk1NTU0gZG8gaGg6bW0gYWFhYVwiO1xuICAgICAgICB0aGlzLmRhdGVUaW1lMjRoRm9ybWF0ID0gXCJNTU1NIGRvIEhIOm1tXCI7XG4gICAgICAgIHRoaXMudGltZTEyaEZvcm1hdCA9IFwiaGg6bW0gYVwiO1xuICAgICAgICB0aGlzLnRpbWUyNGhGb3JtYXQgPSBcIkhIOm1tXCI7XG4gICAgICAgIHRoaXMuZGF0ZUZvcm1hdCA9IFwiTU1NTSBkb1wiO1xuICAgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZTtcbiAgICB9XG4gICAgLy8gTm90ZTogZGF0ZS1mbnMgaW5wdXQgdHlwZXMgYXJlIG1vcmUgbGVuaWVudCB0aGFuIHRoaXMgYWRhcHRlciwgc28gd2UgbmVlZCB0byBleHBvc2Ugb3VyIG1vcmVcbiAgICAvLyAgc3RyaWN0IHNpZ25hdHVyZSBhbmQgZGVsZWdhdGUgdG8gdGhlIG1vcmUgbGVuaWVudCBzaWd0YXR1cmUuICBPdGhlcndpc2UsIHdlIGhhdmUgZG93bnN0cmVhbSB0eXBlIGVycm9ycyB1cG9uIHVzYWdlLlxuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuYWRkRGF5cyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfZGF0ZV9mbnNfYWRkRGF5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19kYXRlX2Zuc19pc1ZhbGlkX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGlmZiA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2RhdGVfZm5zX2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNBZnRlciA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19kYXRlX2Zuc19pc0FmdGVyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0JlZm9yZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc3RhcnRPZkRheSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfZGF0ZV9mbnNfc3RhcnRPZkRheV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmVuZE9mRGF5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2RhdGVfZm5zX2VuZE9mRGF5X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0SG91cnMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX2RhdGVfZm5zX2dldEhvdXJzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0SG91cnMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9kYXRlX2Zuc19zZXRIb3Vyc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5zZXRNaW51dGVzID0gZnVuY3Rpb24gKHZhbHVlLCBjb3VudCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfZGF0ZV9mbnNfc2V0TWludXRlc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRTZWNvbmRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9kYXRlX2Zuc19nZXRTZWNvbmRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0U2Vjb25kcyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX2RhdGVfZm5zX3NldFNlY29uZHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNTYW1lRGF5ID0gZnVuY3Rpb24gKHZhbHVlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X2RhdGVfZm5zX2lzU2FtZURheV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U3RhcnRPZk1vbnRoID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9kYXRlX2Zuc19zdGFydE9mTW9udGhfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRZZWFyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9kYXRlX2Zuc19nZXRZZWFyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0WWVhciA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX2RhdGVfZm5zX3NldFllYXJfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXRTdHJpbmcpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfZGF0ZV9mbnNfcGFyc2VfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGZvcm1hdFN0cmluZywgbmV3IERhdGUoKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChkYXRlLCBmb3JtYXRTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIGZvcm1hdFN0cmluZywgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKGRhdGUsIGNvbXBhcmluZykge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gbnVsbCAmJiBjb21wYXJpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9kYXRlX2Zuc19pc0VxdWFsX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzTnVsbCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlID09PSBudWxsO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0FmdGVyRGF5ID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19kYXRlX2Zuc19pc0FmdGVyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfZGF0ZV9mbnNfZW5kT2ZEYXlfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmVEYXkgPSBmdW5jdGlvbiAoZGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X2RhdGVfZm5zX2lzQmVmb3JlX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX2RhdGVfZm5zX3N0YXJ0T2ZEYXlfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmVZZWFyID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9kYXRlX2Zuc19zdGFydE9mWWVhcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0FmdGVyWWVhciA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfZGF0ZV9mbnNfaXNBZnRlcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X2RhdGVfZm5zX2VuZE9mWWVhcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5mb3JtYXROdW1iZXIgPSBmdW5jdGlvbiAobnVtYmVyVG9Gb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlclRvRm9ybWF0O1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNaW51dGVzID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TWludXRlcygpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNb250aCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldE1vbnRoKCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE1lcmlkaWVtVGV4dCA9IGZ1bmN0aW9uIChhbXBtKSB7XG4gICAgICAgIHJldHVybiBhbXBtID09PSBcImFtXCIgPyBcIkFNXCIgOiBcIlBNXCI7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE5leHRNb250aCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2RhdGVfZm5zX2FkZE1vbnRoc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCAxKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0UHJldmlvdXNNb250aCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2RhdGVfZm5zX2FkZE1vbnRoc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCAtMSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLm1lcmdlRGF0ZUFuZFRpbWUgPSBmdW5jdGlvbiAoZGF0ZSwgdGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRNaW51dGVzKHRoaXMuc2V0SG91cnMoZGF0ZSwgdGhpcy5nZXRIb3Vycyh0aW1lKSksIHRoaXMuZ2V0TWludXRlcyh0aW1lKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFdlZWtkYXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfZGF0ZV9mbnNfZWFjaERheU9mSW50ZXJ2YWxfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoe1xuICAgICAgICAgICAgc3RhcnQ6IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X2RhdGVfZm5zX3N0YXJ0T2ZXZWVrX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG5vdywgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pLFxuICAgICAgICAgICAgZW5kOiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2RhdGVfZm5zX2VuZE9mV2Vla19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShub3csIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KVxuICAgICAgICB9LCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSkubWFwKGZ1bmN0aW9uIChkYXkpIHsgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRheSwgXCJFRUVFRUVcIiwgeyBsb2NhbGU6IF90aGlzLmxvY2FsZSB9KTsgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFdlZWtBcnJheSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X2RhdGVfZm5zX3N0YXJ0T2ZXZWVrX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X2RhdGVfZm5zX3N0YXJ0T2ZNb250aF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlKSwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgICAgICB2YXIgZW5kID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19kYXRlX2Zuc19lbmRPZldlZWtfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9kYXRlX2Zuc19lbmRPZk1vbnRoX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUpLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50ID0gc3RhcnQ7XG4gICAgICAgIHZhciBuZXN0ZWRXZWVrcyA9IFtdO1xuICAgICAgICB3aGlsZSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoY3VycmVudCwgZW5kKSkge1xuICAgICAgICAgICAgdmFyIHdlZWtOdW1iZXIgPSBNYXRoLmZsb29yKGNvdW50IC8gNyk7XG4gICAgICAgICAgICBuZXN0ZWRXZWVrc1t3ZWVrTnVtYmVyXSA9IG5lc3RlZFdlZWtzW3dlZWtOdW1iZXJdIHx8IFtdO1xuICAgICAgICAgICAgbmVzdGVkV2Vla3Nbd2Vla051bWJlcl0ucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2RhdGVfZm5zX2FkZERheXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoY3VycmVudCwgMSk7XG4gICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXN0ZWRXZWVrcztcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhclJhbmdlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI2X2RhdGVfZm5zX3N0YXJ0T2ZZZWFyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHN0YXJ0KTtcbiAgICAgICAgdmFyIGVuZERhdGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X2RhdGVfZm5zX2VuZE9mWWVhcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShlbmQpO1xuICAgICAgICB2YXIgeWVhcnMgPSBbXTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzdGFydERhdGU7XG4gICAgICAgIHdoaWxlIChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShjdXJyZW50LCBlbmREYXRlKSkge1xuICAgICAgICAgICAgeWVhcnMucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2RhdGVfZm5zX2FkZFllYXJzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGN1cnJlbnQsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5ZWFycztcbiAgICB9O1xuICAgIC8vIGRpc3BsYXlpbmcgbWV0aHBkc1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0Q2FsZW5kYXJIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIFwiTU1NTSB5eXl5XCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgXCJ5eXl5XCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGF0ZVBpY2tlckhlYWRlclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgXCJFRUUsIE1NTSBkXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGF0ZVRpbWVQaWNrZXJIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIFwiTU1NIGRcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXREYXlUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIFwiZFwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldEhvdXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUsIGFtcG0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIGFtcG0gPyBcImhoXCIgOiBcIkhIXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TWludXRlVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBcIm1tXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U2Vjb25kVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBcInNzXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIHJldHVybiBEYXRlRm5zVXRpbHM7XG59KCkpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKERhdGVGbnNVdGlscyk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDYwNzc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRhdGVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEYXRlUGlja2VyTW9kYWwkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5saW5lRGF0ZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERhdGVQaWNrZXJJbmxpbmUkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVGltZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRpbWVQaWNrZXJNb2RhbCQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmxpbmVUaW1lUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVGltZVBpY2tlcklubGluZSQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEYXRlVGltZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERhdGVUaW1lUGlja2VyTW9kYWwkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5saW5lRGF0ZVRpbWVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEYXRlVGltZVBpY2tlcklubGluZSQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJCYXNlUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQmFzZVBpY2tlciQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDYWxlbmRhclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENhbGVuZGFyJDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRheVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERheSQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUaW1lUGlja2VyVmlld1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRpbWVQaWNrZXJWaWV3JDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNsb2NrXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2xvY2skMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBNdWlQaWNrZXJzVXRpbHNQcm92aWRlcjsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOTMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3JlYWN0X3RleHRfbWFza19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDk0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfcmVhY3RfdGV4dF9tYXNrX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfcmVhY3RfdGV4dF9tYXNrX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1MSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19tYXRlcmlhbF91aV9jb3JlX0ljb25CdXR0b25fXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19tYXRlcmlhbF91aV9jb3JlX0lucHV0QWRvcm5tZW50X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19tYXRlcmlhbF91aV9jb3JlX0lucHV0QWRvcm5tZW50X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX21hdGVyaWFsX3VpX2NvcmVfSW5wdXRBZG9ybm1lbnRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19tYXRlcmlhbF91aV9jb3JlX1RleHRGaWVsZF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fbWF0ZXJpYWxfdWlfY29yZV9UZXh0RmllbGRfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fbWF0ZXJpYWxfdWlfY29yZV9UZXh0RmllbGRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nQWN0aW9uc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzUwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nQ29udGVudF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9rZXljb2RlX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fbWF0ZXJpYWxfdWlfY29yZV9Ub29sYmFyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9yZWFjdF90cmFuc2l0aW9uX2dyb3VwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOTUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9yZWFjdF90cmFuc2l0aW9uX2dyb3VwX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfcmVhY3RfZG9tX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX3JlYWN0X2RvbV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9yZWFjdF9kb21fXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fbWF0ZXJpYWxfdWlfY29yZV9Qb3BvdmVyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19tYXRlcmlhbF91aV9jb3JlX1BvcG92ZXJfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX21hdGVyaWFsX3VpX2NvcmVfUG9wb3Zlcl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19tYXRlcmlhbF91aV9jb3JlX1BhcGVyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19tYXRlcmlhbF91aV9jb3JlX1BhcGVyX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19tYXRlcmlhbF91aV9jb3JlX1BhcGVyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhUaGVtZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFRoZW1lX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoVGhlbWVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19tYXRlcmlhbF91aV9jb3JlX1RhYl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI2X19tYXRlcmlhbF91aV9jb3JlX1RhYnNfXyk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBfYSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUNvbnRleHRcIl0pKG51bGwpLFxuICAgIENvbnN1bWVyID0gX2EuQ29uc3VtZXIsXG4gICAgUHJvdmlkZXIgPSBfYS5Qcm92aWRlcjtcblxudmFyIE11aVBpY2tlcnNDb250ZXh0Q29uc3VtZXIgPSBDb25zdW1lcjtcblxudmFyIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB1dGlsczogbnVsbFxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIFV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGxvY2FsZSA9IF9hLmxvY2FsZSxcbiAgICAgICAgbW9tZW50ID0gX2EubW9tZW50O1xuICAgIHJldHVybiB7XG4gICAgICB1dGlsczogbmV3IFV0aWxzKHtcbiAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgIG1vbWVudDogbW9tZW50XG4gICAgICB9KVxuICAgIH07XG4gIH07XG5cbiAgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnV0aWxzLFxuICAgICAgY2hpbGRyZW46IHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICB9KTtcbiAgfTtcblxuICAgZmFsc2UgPyBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gICAgdXRpbHM6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBsb2NhbGU6IG9uZU9mVHlwZShbb2JqZWN0LCBzdHJpbmddKSxcbiAgICBjaGlsZHJlbjogb25lT2ZUeXBlKFtlbGVtZW50LmlzUmVxdWlyZWQsIGFycmF5T2YoZWxlbWVudC5pc1JlcXVpcmVkKV0pLmlzUmVxdWlyZWQsXG4gICAgbW9tZW50OiBmdW5jXG4gIH0gOiB2b2lkIDA7XG4gIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBsb2NhbGU6IHVuZGVmaW5lZCxcbiAgICBtb21lbnQ6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcblxudmFyIGNoZWNrVXRpbHMgPSBmdW5jdGlvbiAodXRpbHMpIHtcbiAgaWYgKCF1dGlscykge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBmaW5kIHV0aWxzIGluIGNvbnRleHQuIFlvdSBlaXRoZXIgYSkgZm9yZ290IHRvIHdyYXAgeW91ciBjb21wb25lbnQgdHJlZSBpbiBNdWlQaWNrZXJzVXRpbHNQcm92aWRlcjsgb3IgYikgbWl4ZWQgbmFtZWQgYW5kIGRpcmVjdCBmaWxlIGltcG9ydHMuICBSZWNvbW1lbmRhdGlvbjogdXNlIG5hbWVkIGltcG9ydHMgZnJvbSB0aGUgbW9kdWxlIGluZGV4LicpO1xuICB9XG59O1xuXG52YXIgd2l0aFV0aWxzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKENvbXBvbmVudCQkMSkge1xuICAgIHZhciBXaXRoVXRpbHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShNdWlQaWNrZXJzQ29udGV4dENvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAodXRpbHMpIHtcbiAgICAgICAgY2hlY2tVdGlscyh1dGlscyk7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDb21wb25lbnQkJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgfSwgcHJvcHMpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBXaXRoVXRpbHMuZGlzcGxheU5hbWUgPSBcIldpdGhVdGlscyhcIiArIChDb21wb25lbnQkJDEuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50JCQxLm5hbWUpICsgXCIpXCI7XG4gICAgcmV0dXJuIFdpdGhVdGlscztcbiAgfTtcbn07XG5cbnZhciBnZXRJbml0aWFsRGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBfYS5pbml0aWFsRm9jdXNlZERhdGU7XG4gIHZhciBpbml0aWFsRGF0ZSA9IHZhbHVlIHx8IGluaXRpYWxGb2N1c2VkRGF0ZSB8fCB1dGlscy5kYXRlKCk7XG4gIHZhciBkYXRlID0gdXRpbHMuZGF0ZShpbml0aWFsRGF0ZSk7XG4gIHJldHVybiB1dGlscy5pc1ZhbGlkKGRhdGUpID8gZGF0ZSA6IHV0aWxzLmRhdGUoKTtcbn07XG5cbnZhciBCYXNlUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKEJhc2VQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQmFzZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgZGF0ZTogZ2V0SW5pdGlhbERhdGUoX3RoaXMucHJvcHMpLFxuICAgICAgaXNBY2NlcHRlZDogZmFsc2VcbiAgICB9O1xuXG4gICAgX3RoaXMuY2hhbmdlRGF0ZSA9IGZ1bmN0aW9uIChkYXRlLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0ZTogZGF0ZVxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSA9IGZ1bmN0aW9uIChpc0FjY2VwdGVkLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZFxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5vbkNoYW5nZShudWxsKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQWNjZXB0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9uQ2hhbmdlKF90aGlzLnN0YXRlLmRhdGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZXRUb2RheURhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnByb3BzLnV0aWxzLmRhdGUoKSwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2UgPSBfYS5tZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlO1xuXG4gICAgICBpZiAobWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZSkge1xuICAgICAgICBkYXRlID0gdXRpbHMubWVyZ2VEYXRlQW5kVGltZShfdGhpcy5zdGF0ZS5kYXRlLCBkYXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGUgPT09IG51bGwpIHtcbiAgICAgICAgb25DaGFuZ2UobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5jaGFuZ2VEYXRlKGRhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb25DaGFuZ2UoZGF0ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5waWNrMTJoT3IyNGhGb3JtYXQgPSBmdW5jdGlvbiAoZGVmYXVsdDEyaEZvcm1hdCwgZGVmYXVsdDI0aEZvcm1hdCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICAgIGFtcG0gPSBfYS5hbXBtO1xuXG4gICAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbXBtID8gZGVmYXVsdDEyaEZvcm1hdCA6IGRlZmF1bHQyNGhGb3JtYXQ7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChuZXdEYXRlLCBpc0ZpbmlzaCkge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBhdXRvT2sgPSBfYS5hdXRvT2ssXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZTtcblxuICAgICAgX3RoaXMuY2hhbmdlRGF0ZShuZXdEYXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0ZpbmlzaCAmJiBhdXRvT2spIHtcbiAgICAgICAgICBvbkNoYW5nZShuZXdEYXRlKTsgLy8gcGFzcyBkb3duIGFjY2VwdCB0cnVlLCBhbmQgbWFrZSBpdCBmYWxzZSBpbiB0aGUgbmV4dCB0aWNrXG5cbiAgICAgICAgICBfdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSh0cnVlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UoZmFsc2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRGlzbWlzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0ZTogZ2V0SW5pdGlhbERhdGUoX3RoaXMucHJvcHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQmFzZVBpY2tlci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IF9hLmluaXRpYWxGb2N1c2VkRGF0ZTtcblxuICAgIGlmIChwcmV2UHJvcHMudmFsdWUgIT09IHZhbHVlIHx8IHByZXZQcm9wcy51dGlscy5sb2NhbGUgIT09IHV0aWxzLmxvY2FsZSB8fCBwcmV2UHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlICE9PSBpbml0aWFsRm9jdXNlZERhdGUpIHtcbiAgICAgIHRoaXMuY2hhbmdlRGF0ZShnZXRJbml0aWFsRGF0ZSh0aGlzLnByb3BzKSk7XG4gICAgfVxuICB9O1xuXG4gIEJhc2VQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbihPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgdGhpcy5zdGF0ZSwge1xuICAgICAgdXRpbHM6IHRoaXMucHJvcHMudXRpbHMsXG4gICAgICBjaGFuZ2VEYXRlOiB0aGlzLmNoYW5nZURhdGUsXG4gICAgICBoYW5kbGVBY2NlcHRlZENoYW5nZTogdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSxcbiAgICAgIGhhbmRsZUNsZWFyOiB0aGlzLmhhbmRsZUNsZWFyLFxuICAgICAgaGFuZGxlQWNjZXB0OiB0aGlzLmhhbmRsZUFjY2VwdCxcbiAgICAgIGhhbmRsZURpc21pc3M6IHRoaXMuaGFuZGxlRGlzbWlzcyxcbiAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZTogdGhpcy5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2U6IHRoaXMuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgcGljazEyaE9yMjRoRm9ybWF0OiB0aGlzLnBpY2sxMmhPcjI0aEZvcm1hdCxcbiAgICAgIGhhbmRsZUNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VQaWNrZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBCYXNlUGlja2VyJDEgPSB3aXRoVXRpbHMoKShCYXNlUGlja2VyKTtcblxudmFyIGRhdGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Byb3BfdHlwZXNfX1tcIm9uZU9mVHlwZVwiXSkoW19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19bXCJvYmplY3RcIl0sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19bXCJzdHJpbmdcIl0sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19bXCJudW1iZXJcIl0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fW1wiaW5zdGFuY2VPZlwiXSkoRGF0ZSldKTtcbnZhciBEb21haW5Qcm9wVHlwZXMgPSB7XG4gIGRhdGU6IGRhdGVcbn07XG5cbnZhciBJbnB1dCA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShJbnB1dCwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBJbnB1dCgpIHtcbiAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICBJbnB1dC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGlucHV0UmVmID0gX2EuaW5wdXRSZWYsXG4gICAgICAgIGtlZXBDaGFyUG9zaXRpb25zID0gX2Eua2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIHJlc3QgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcImlucHV0UmVmXCIsIFwia2VlcENoYXJQb3NpdGlvbnNcIl0pO1xuXG4gICAgcmV0dXJuIHRoaXMucHJvcHMubWFzayA/IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19yZWFjdF90ZXh0X21hc2tfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCByZXN0LCB7XG4gICAgICBrZWVwQ2hhclBvc2l0aW9uczoga2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICByZWY6IGlucHV0UmVmXG4gICAgfSkpIDogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJpbnB1dFwiLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcmVzdCwge1xuICAgICAgcmVmOiBpbnB1dFJlZlxuICAgIH0pKTtcbiAgfTtcblxuICAgZmFsc2UgPyBJbnB1dC5wcm9wVHlwZXMgPSB7XG4gICAgbWFzazogYW55LFxuICAgIGlucHV0UmVmOiBmdW5jLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgSW5wdXQuZGVmYXVsdFByb3BzID0ge1xuICAgIG1hc2s6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gSW5wdXQ7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7XG5cbnZhciBnZXREaXNwbGF5RGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICBpbnZhbGlkTGFiZWwgPSBfYS5pbnZhbGlkTGFiZWwsXG4gICAgICBlbXB0eUxhYmVsID0gX2EuZW1wdHlMYWJlbCxcbiAgICAgIGxhYmVsRnVuYyA9IF9hLmxhYmVsRnVuYztcbiAgdmFyIGlzRW1wdHkgPSB2YWx1ZSA9PT0gbnVsbDtcbiAgdmFyIGRhdGUgPSB1dGlscy5kYXRlKHZhbHVlKTtcblxuICBpZiAobGFiZWxGdW5jKSB7XG4gICAgcmV0dXJuIGxhYmVsRnVuYyhpc0VtcHR5ID8gbnVsbCA6IGRhdGUsIGludmFsaWRMYWJlbCk7XG4gIH1cblxuICBpZiAoaXNFbXB0eSkge1xuICAgIHJldHVybiBlbXB0eUxhYmVsO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxzLmlzVmFsaWQoZGF0ZSkgPyB1dGlscy5mb3JtYXQoZGF0ZSwgZm9ybWF0KSA6IGludmFsaWRMYWJlbDtcbn07XG5cbnZhciBnZXRFcnJvciA9IGZ1bmN0aW9uICh2YWx1ZSwgcHJvcHMpIHtcbiAgdmFyIHV0aWxzID0gcHJvcHMudXRpbHMsXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgbWF4RGF0ZU1lc3NhZ2UgPSBwcm9wcy5tYXhEYXRlTWVzc2FnZSxcbiAgICAgIG1pbkRhdGVNZXNzYWdlID0gcHJvcHMubWluRGF0ZU1lc3NhZ2UsXG4gICAgICBpbnZhbGlkRGF0ZU1lc3NhZ2UgPSBwcm9wcy5pbnZhbGlkRGF0ZU1lc3NhZ2U7XG5cbiAgaWYgKCF1dGlscy5pc1ZhbGlkKHZhbHVlKSkge1xuICAgIC8vIGlmIG51bGwgLSBkbyBub3Qgc2hvdyBlcnJvclxuICAgIGlmICh1dGlscy5pc051bGwodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGludmFsaWREYXRlTWVzc2FnZTtcbiAgfVxuXG4gIGlmIChtYXhEYXRlICYmIHV0aWxzLmlzQWZ0ZXIodmFsdWUsIHV0aWxzLmVuZE9mRGF5KHV0aWxzLmRhdGUobWF4RGF0ZSkpKSB8fCBkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXIodmFsdWUsIHV0aWxzLmVuZE9mRGF5KHV0aWxzLmRhdGUoKSkpKSB7XG4gICAgcmV0dXJuIG1heERhdGVNZXNzYWdlO1xuICB9XG5cbiAgaWYgKG1pbkRhdGUgJiYgdXRpbHMuaXNCZWZvcmUodmFsdWUsIHV0aWxzLnN0YXJ0T2ZEYXkodXRpbHMuZGF0ZShtaW5EYXRlKSkpIHx8IGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlKHZhbHVlLCB1dGlscy5zdGFydE9mRGF5KHV0aWxzLmRhdGUoKSkpKSB7XG4gICAgcmV0dXJuIG1pbkRhdGVNZXNzYWdlO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcblxudmFyIERhdGVUZXh0RmllbGQgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoRGF0ZVRleHRGaWVsZCwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXRlVGV4dEZpZWxkKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSBEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlKF90aGlzLnByb3BzKTtcblxuICAgIF90aGlzLmNvbW1pdFVwZGF0ZXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgY2xlYXJhYmxlID0gX2EuY2xlYXJhYmxlLFxuICAgICAgICAgIG9uQ2xlYXIgPSBfYS5vbkNsZWFyLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICAgIG9uRXJyb3IgPSBfYS5vbkVycm9yO1xuXG4gICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKERhdGVUZXh0RmllbGQudXBkYXRlU3RhdGUoX3RoaXMucHJvcHMpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbGVhcmFibGUgJiYgb25DbGVhcikge1xuICAgICAgICAgIG9uQ2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9sZFZhbHVlID0gdXRpbHMuZGF0ZShfdGhpcy5zdGF0ZS52YWx1ZSk7XG4gICAgICB2YXIgbmV3VmFsdWUgPSB1dGlscy5wYXJzZSh2YWx1ZSwgZm9ybWF0KTtcbiAgICAgIHZhciBlcnJvciA9IGdldEVycm9yKG5ld1ZhbHVlLCBfdGhpcy5wcm9wcyk7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICBkaXNwbGF5VmFsdWU6IHZhbHVlLFxuICAgICAgICB2YWx1ZTogZXJyb3IgPyBuZXdWYWx1ZSA6IG9sZFZhbHVlXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghZXJyb3IgJiYgIXV0aWxzLmlzRXF1YWwobmV3VmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICAgIG9uQ2hhbmdlKG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvciAmJiBvbkVycm9yKSB7XG4gICAgICAgICAgb25FcnJvcihuZXdWYWx1ZSwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMua2V5Ym9hcmQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIF90aGlzLmNvbW1pdFVwZGF0ZXMoZS50YXJnZXQudmFsdWUpO1xuXG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkJsdXIpIHtcbiAgICAgICAgICBfdGhpcy5wcm9wcy5vbkJsdXIoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICAgIG9uSW5wdXRDaGFuZ2UgPSBfYS5vbklucHV0Q2hhbmdlO1xuICAgICAgdmFyIHBhcnNlZFZhbHVlID0gdXRpbHMucGFyc2UoZS50YXJnZXQudmFsdWUsIGZvcm1hdCk7XG5cbiAgICAgIGlmIChvbklucHV0Q2hhbmdlKSB7XG4gICAgICAgIG9uSW5wdXRDaGFuZ2UoZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGlzcGxheVZhbHVlOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgZXJyb3I6IGdldEVycm9yKHBhcnNlZFZhbHVlLCBfdGhpcy5wcm9wcylcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmtleWJvYXJkKSB7XG4gICAgICAgIF90aGlzLm9wZW5QaWNrZXIoZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUtleVByZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVPcGVuT25FbnRlcikge1xuICAgICAgICAgIF90aGlzLm9wZW5QaWNrZXIoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPIGNoZWNrIG1lXG4gICAgICAgICAgX3RoaXMuY29tbWl0VXBkYXRlcyhlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblBpY2tlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuXG4gICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgIG9uQ2xpY2soZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIERhdGVUZXh0RmllbGQucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudXRpbHMuaXNFcXVhbCh0aGlzLnByb3BzLnZhbHVlLCBwcmV2UHJvcHMudmFsdWUpIHx8IHByZXZQcm9wcy5mb3JtYXQgIT09IHRoaXMucHJvcHMuZm9ybWF0IHx8IHByZXZQcm9wcy5tYXhEYXRlICE9PSB0aGlzLnByb3BzLm1heERhdGUgfHwgcHJldlByb3BzLm1pbkRhdGUgIT09IHRoaXMucHJvcHMubWluRGF0ZSB8fCBwcmV2UHJvcHMuZW1wdHlMYWJlbCAhPT0gdGhpcy5wcm9wcy5lbXB0eUxhYmVsIHx8IHByZXZQcm9wcy51dGlscyAhPT0gdGhpcy5wcm9wcy51dGlscykge1xuICAgICAgdGhpcy5zZXRTdGF0ZShEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlKHRoaXMucHJvcHMpKTtcbiAgICB9XG4gIH07XG5cbiAgRGF0ZVRleHRGaWVsZC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFkb3JubWVudFBvc2l0aW9uID0gX2EuYWRvcm5tZW50UG9zaXRpb24sXG4gICAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIGRpc2FibGVPcGVuT25FbnRlciA9IF9hLmRpc2FibGVPcGVuT25FbnRlcixcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgZW1wdHlMYWJlbCA9IF9hLmVtcHR5TGFiZWwsXG4gICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgSW5wdXRBZG9ybm1lbnRQcm9wcyA9IF9hLklucHV0QWRvcm5tZW50UHJvcHMsXG4gICAgICAgIElucHV0UHJvcHMgPSBfYS5JbnB1dFByb3BzLFxuICAgICAgICBpbnZhbGlkRGF0ZU1lc3NhZ2UgPSBfYS5pbnZhbGlkRGF0ZU1lc3NhZ2UsXG4gICAgICAgIGludmFsaWRMYWJlbCA9IF9hLmludmFsaWRMYWJlbCxcbiAgICAgICAga2V5Ym9hcmQgPSBfYS5rZXlib2FyZCxcbiAgICAgICAga2V5Ym9hcmRJY29uID0gX2Eua2V5Ym9hcmRJY29uLFxuICAgICAgICBsYWJlbEZ1bmMgPSBfYS5sYWJlbEZ1bmMsXG4gICAgICAgIG1hc2sgPSBfYS5tYXNrLFxuICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgICAgbWF4RGF0ZU1lc3NhZ2UgPSBfYS5tYXhEYXRlTWVzc2FnZSxcbiAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgIG1pbkRhdGVNZXNzYWdlID0gX2EubWluRGF0ZU1lc3NhZ2UsXG4gICAgICAgIG9uQmx1ciA9IF9hLm9uQmx1cixcbiAgICAgICAgb25DbGVhciA9IF9hLm9uQ2xlYXIsXG4gICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLFxuICAgICAgICBwaXBlID0gX2EucGlwZSxcbiAgICAgICAga2VlcENoYXJQb3NpdGlvbnMgPSBfYS5rZWVwQ2hhclBvc2l0aW9ucyxcbiAgICAgICAgVGV4dEZpZWxkQ29tcG9uZW50ID0gX2EuVGV4dEZpZWxkQ29tcG9uZW50LFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBvbklucHV0Q2hhbmdlID0gX2Eub25JbnB1dENoYW5nZSxcbiAgICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcImFkb3JubWVudFBvc2l0aW9uXCIsIFwiY2xlYXJhYmxlXCIsIFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwiZGlzYWJsZU9wZW5PbkVudGVyXCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJlbXB0eUxhYmVsXCIsIFwiZm9ybWF0XCIsIFwiSW5wdXRBZG9ybm1lbnRQcm9wc1wiLCBcIklucHV0UHJvcHNcIiwgXCJpbnZhbGlkRGF0ZU1lc3NhZ2VcIiwgXCJpbnZhbGlkTGFiZWxcIiwgXCJrZXlib2FyZFwiLCBcImtleWJvYXJkSWNvblwiLCBcImxhYmVsRnVuY1wiLCBcIm1hc2tcIiwgXCJtYXhEYXRlXCIsIFwibWF4RGF0ZU1lc3NhZ2VcIiwgXCJtaW5EYXRlXCIsIFwibWluRGF0ZU1lc3NhZ2VcIiwgXCJvbkJsdXJcIiwgXCJvbkNsZWFyXCIsIFwib25DbGlja1wiLCBcInBpcGVcIiwgXCJrZWVwQ2hhclBvc2l0aW9uc1wiLCBcIlRleHRGaWVsZENvbXBvbmVudFwiLCBcInV0aWxzXCIsIFwidmFsdWVcIiwgXCJvbklucHV0Q2hhbmdlXCJdKTtcblxuICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGRpc3BsYXlWYWx1ZSA9IF9iLmRpc3BsYXlWYWx1ZSxcbiAgICAgICAgZXJyb3IgPSBfYi5lcnJvcjtcbiAgICB2YXIgbG9jYWxJbnB1dFByb3BzID0ge1xuICAgICAgaW5wdXRDb21wb25lbnQ6IElucHV0LFxuICAgICAgaW5wdXRQcm9wczoge1xuICAgICAgICBtYXNrOiAha2V5Ym9hcmQgPyBudWxsIDogbWFzayxcbiAgICAgICAgcGlwZTogIWtleWJvYXJkID8gbnVsbCA6IHBpcGUsXG4gICAgICAgIGtlZXBDaGFyUG9zaXRpb25zOiAha2V5Ym9hcmQgPyB1bmRlZmluZWQgOiBrZWVwQ2hhclBvc2l0aW9ucyxcbiAgICAgICAgcmVhZE9ubHk6ICFrZXlib2FyZFxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoa2V5Ym9hcmQpIHtcbiAgICAgIGxvY2FsSW5wdXRQcm9wc1thZG9ybm1lbnRQb3NpdGlvbiArIFwiQWRvcm5tZW50XCJdID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19tYXRlcmlhbF91aV9jb3JlX0lucHV0QWRvcm5tZW50X19fZGVmYXVsdC5hLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICAgIHBvc2l0aW9uOiBhZG9ybm1lbnRQb3NpdGlvblxuICAgICAgfSwgSW5wdXRBZG9ybm1lbnRQcm9wcyksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgb25DbGljazogdGhpcy5vcGVuUGlja2VyXG4gICAgICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fX2RlZmF1bHQuYSwgbnVsbCwgXCIgXCIsIGtleWJvYXJkSWNvbiwgXCIgXCIpKSk7XG4gICAgfVxuXG4gICAgdmFyIENvbXBvbmVudCQkMSA9IFRleHRGaWVsZENvbXBvbmVudDtcblxuICAgIHZhciBpbnB1dFByb3BzID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIGxvY2FsSW5wdXRQcm9wcywgSW5wdXRQcm9wcyk7XG5cbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ29tcG9uZW50JCQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUZvY3VzLFxuICAgICAgZXJyb3I6ICEhZXJyb3IsXG4gICAgICBoZWxwZXJUZXh0OiBlcnJvcixcbiAgICAgIG9uS2V5UHJlc3M6IHRoaXMuaGFuZGxlS2V5UHJlc3MsXG4gICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlQmx1cixcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIHZhbHVlOiBkaXNwbGF5VmFsdWVcbiAgICB9LCBvdGhlciwge1xuICAgICAgb25FcnJvcjogdW5kZWZpbmVkLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgSW5wdXRQcm9wczogaW5wdXRQcm9wc1xuICAgIH0pKTtcbiAgfTtcblxuICAgZmFsc2UgPyBEYXRlVGV4dEZpZWxkLnByb3BUeXBlcyA9IHtcbiAgICB2YWx1ZTogb25lT2ZUeXBlKFtvYmplY3QsIHN0cmluZywgbnVtYmVyLCBpbnN0YW5jZU9mKERhdGUpXSksXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBmb3JtYXQ6IHN0cmluZyxcbiAgICBvbkJsdXI6IGZ1bmMsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIG9uQ2xpY2s6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjbGVhcmFibGU6IGJvb2wsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVkOiBib29sLFxuICAgIElucHV0UHJvcHM6IHNoYXBlKHt9KSxcbiAgICBtYXNrOiBhbnksXG4gICAgbWluRGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgbWF4RGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgaW52YWxpZExhYmVsOiBzdHJpbmcsXG4gICAgZW1wdHlMYWJlbDogc3RyaW5nLFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBrZXlib2FyZDogYm9vbCxcbiAgICBrZXlib2FyZEljb246IG5vZGUsXG4gICAgZGlzYWJsZU9wZW5PbkVudGVyOiBib29sLFxuICAgIGludmFsaWREYXRlTWVzc2FnZTogbm9kZSxcbiAgICBUZXh0RmllbGRDb21wb25lbnQ6IG9uZU9mVHlwZShbc3RyaW5nLCBmdW5jXSksXG4gICAgSW5wdXRBZG9ybm1lbnRQcm9wczogb2JqZWN0LFxuICAgIGFkb3JubWVudFBvc2l0aW9uOiBvbmVPZihbJ3N0YXJ0JywgJ2VuZCddKSxcbiAgICBvbkVycm9yOiBmdW5jLFxuICAgIG9uSW5wdXRDaGFuZ2U6IGZ1bmMsXG4gICAgcGlwZTogZnVuYyxcbiAgICBrZWVwQ2hhclBvc2l0aW9uczogYm9vbFxuICB9IDogdm9pZCAwO1xuICBEYXRlVGV4dEZpZWxkLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgaW52YWxpZExhYmVsOiAnVW5rbm93bicsXG4gICAgZW1wdHlMYWJlbDogJycsXG4gICAgdmFsdWU6IG5ldyBEYXRlKCksXG4gICAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gICAgZm9ybWF0OiB1bmRlZmluZWQsXG4gICAgSW5wdXRQcm9wczogdW5kZWZpbmVkLFxuICAgIGtleWJvYXJkOiBmYWxzZSxcbiAgICBtYXNrOiB1bmRlZmluZWQsXG4gICAga2V5Ym9hcmRJY29uOiAnZXZlbnQnLFxuICAgIGRpc2FibGVPcGVuT25FbnRlcjogZmFsc2UsXG4gICAgaW52YWxpZERhdGVNZXNzYWdlOiAnSW52YWxpZCBEYXRlIEZvcm1hdCcsXG4gICAgY2xlYXJhYmxlOiBmYWxzZSxcbiAgICBvbkJsdXI6IHVuZGVmaW5lZCxcbiAgICBvbkNsZWFyOiB1bmRlZmluZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICAgIG9uRXJyb3I6IHVuZGVmaW5lZCxcbiAgICBvbklucHV0Q2hhbmdlOiB1bmRlZmluZWQsXG4gICAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICAgIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgICBtaW5EYXRlTWVzc2FnZTogJ0RhdGUgc2hvdWxkIG5vdCBiZSBiZWZvcmUgbWluaW1hbCBkYXRlJyxcbiAgICBtYXhEYXRlTWVzc2FnZTogJ0RhdGUgc2hvdWxkIG5vdCBiZSBhZnRlciBtYXhpbWFsIGRhdGUnLFxuICAgIFRleHRGaWVsZENvbXBvbmVudDogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19tYXRlcmlhbF91aV9jb3JlX1RleHRGaWVsZF9fX2RlZmF1bHQuYSxcbiAgICBJbnB1dEFkb3JubWVudFByb3BzOiB7fSxcbiAgICBhZG9ybm1lbnRQb3NpdGlvbjogJ2VuZCcsXG4gICAgcGlwZTogdW5kZWZpbmVkLFxuICAgIGtlZXBDaGFyUG9zaXRpb25zOiBmYWxzZVxuICB9O1xuXG4gIERhdGVUZXh0RmllbGQudXBkYXRlU3RhdGUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgZGlzcGxheVZhbHVlOiBnZXREaXNwbGF5RGF0ZShwcm9wcyksXG4gICAgICBlcnJvcjogZ2V0RXJyb3IocHJvcHMudXRpbHMuZGF0ZShwcm9wcy52YWx1ZSksIHByb3BzKVxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIERhdGVUZXh0RmllbGQ7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7XG5cbnZhciBEYXRlVGV4dEZpZWxkJDEgPSB3aXRoVXRpbHMoKShEYXRlVGV4dEZpZWxkKTtcblxudmFyIE1vZGFsRGlhbG9nID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBvbktleURvd24gPSBfYS5vbktleURvd24sXG4gICAgICBvbkFjY2VwdCA9IF9hLm9uQWNjZXB0LFxuICAgICAgb25EaXNtaXNzID0gX2Eub25EaXNtaXNzLFxuICAgICAgb25DbGVhciA9IF9hLm9uQ2xlYXIsXG4gICAgICBvblNldFRvZGF5ID0gX2Eub25TZXRUb2RheSxcbiAgICAgIG9rTGFiZWwgPSBfYS5va0xhYmVsLFxuICAgICAgY2FuY2VsTGFiZWwgPSBfYS5jYW5jZWxMYWJlbCxcbiAgICAgIGNsZWFyTGFiZWwgPSBfYS5jbGVhckxhYmVsLFxuICAgICAgdG9kYXlMYWJlbCA9IF9hLnRvZGF5TGFiZWwsXG4gICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICBzaG93VG9kYXlCdXR0b24gPSBfYS5zaG93VG9kYXlCdXR0b24sXG4gICAgICBzaG93VGFicyA9IF9hLnNob3dUYWJzLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3Nlc1wiLCBcIm9uS2V5RG93blwiLCBcIm9uQWNjZXB0XCIsIFwib25EaXNtaXNzXCIsIFwib25DbGVhclwiLCBcIm9uU2V0VG9kYXlcIiwgXCJva0xhYmVsXCIsIFwiY2FuY2VsTGFiZWxcIiwgXCJjbGVhckxhYmVsXCIsIFwidG9kYXlMYWJlbFwiLCBcImNsZWFyYWJsZVwiLCBcInNob3dUb2RheUJ1dHRvblwiLCBcInNob3dUYWJzXCJdKTtcblxuICB2YXIgX2IsIF9jLCBfZDtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fX2RlZmF1bHQuYSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgIHJvbGU6IFwiZGlhbG9nXCIsXG4gICAgb25DbG9zZTogb25EaXNtaXNzLFxuICAgIGNsYXNzZXM6IHtcbiAgICAgIHBhcGVyOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy5kaWFsb2dSb290LCAoX2IgPSB7fSwgX2JbY2xhc3Nlcy5kaWFsb2dXaXRoVGFic10gPSBzaG93VGFicywgX2IpKVxuICAgIH1cbiAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX19fZGVmYXVsdC5hLCB7XG4gICAgdGFyZ2V0OiBcIndpbmRvd1wiLFxuICAgIG9uS2V5RG93bjogb25LZXlEb3duXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfX19kZWZhdWx0LmEsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy5kaWFsb2csIChfYyA9IHt9LCBfY1tjbGFzc2VzLmRpYWxvZ1dpdGhUYWJzXSA9IHNob3dUYWJzLCBfYykpXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfX19kZWZhdWx0LmEsIHtcbiAgICBjbGFzc2VzOiB7XG4gICAgICByb290OiBjbGVhcmFibGUgfHwgc2hvd1RvZGF5QnV0dG9uID8gY2xhc3Nlcy5kaWFsb2dBY3Rpb25zIDogdW5kZWZpbmVkLFxuICAgICAgYWN0aW9uOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy5kaWFsb2dBY3Rpb24sIChfZCA9IHt9LCBfZFtjbGFzc2VzLmNsZWFyYWJsZURpYWxvZ0FjdGlvbl0gPSBjbGVhcmFibGUsIF9kW2NsYXNzZXMudG9kYXlEaWFsb2dBY3Rpb25dID0gIWNsZWFyYWJsZSAmJiBzaG93VG9kYXlCdXR0b24sIF9kKSlcbiAgICB9XG4gIH0sIGNsZWFyYWJsZSAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX21hdGVyaWFsX3VpX2NvcmVfQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uQ2xlYXJcbiAgfSwgY2xlYXJMYWJlbCksICFjbGVhcmFibGUgJiYgc2hvd1RvZGF5QnV0dG9uICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fX19kZWZhdWx0LmEsIHtcbiAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgb25DbGljazogb25TZXRUb2RheVxuICB9LCB0b2RheUxhYmVsKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fX2RlZmF1bHQuYSwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkRpc21pc3NcbiAgfSwgY2FuY2VsTGFiZWwpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX21hdGVyaWFsX3VpX2NvcmVfQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uQWNjZXB0XG4gIH0sIG9rTGFiZWwpKSk7XG59O1xuTW9kYWxEaWFsb2cuZGlzcGxheU5hbWUgPSAnTW9kYWxEaWFsb2cnO1xuIGZhbHNlID8gTW9kYWxEaWFsb2cucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICBvbktleURvd246IGZ1bmMuaXNSZXF1aXJlZCxcbiAgb25BY2NlcHQ6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgb25EaXNtaXNzOiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uQ2xlYXI6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIG9rTGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2FuY2VsTGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xlYXJMYWJlbDogbm9kZS5pc1JlcXVpcmVkLFxuICBjbGVhcmFibGU6IGJvb2wuaXNSZXF1aXJlZCxcbiAgdG9kYXlMYWJlbDogbm9kZS5pc1JlcXVpcmVkLFxuICBzaG93VG9kYXlCdXR0b246IGJvb2wuaXNSZXF1aXJlZCxcbiAgb25TZXRUb2RheTogZnVuYy5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xudmFyIGRpYWxvZ1dpZHRoID0gMzEwO1xudmFyIGRpYWxvZ0hlaWdodCA9IDQwNTtcbnZhciBkaWFsb2dIZWlnaHRXaXRoVGFicyA9IDQ1NTtcbnZhciBzdHlsZXMgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfX1tcImNyZWF0ZVN0eWxlc1wiXSkoe1xuICBkaWFsb2dSb290OiB7XG4gICAgbWluV2lkdGg6IGRpYWxvZ1dpZHRoLFxuICAgIG1pbkhlaWdodDogZGlhbG9nSGVpZ2h0XG4gIH0sXG4gIGRpYWxvZzoge1xuICAgIHdpZHRoOiBkaWFsb2dXaWR0aCxcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodCxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgJyY6Zmlyc3QtY2hpbGQnOiB7XG4gICAgICBwYWRkaW5nOiAwXG4gICAgfVxuICB9LFxuICBkaWFsb2dXaXRoVGFiczoge1xuICAgIG1pbkhlaWdodDogZGlhbG9nSGVpZ2h0V2l0aFRhYnNcbiAgfSxcbiAgZGlhbG9nQWN0aW9uczoge1xuICAgIC8vIHNldCBqdXN0aWZ5Q29udGVudCB0byBkZWZhdWx0IHZhbHVlIHRvIGZpeCBJRTExIGxheW91dCBidWdcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2RtdHJLb3ZhbGVua28vbWF0ZXJpYWwtdWktcGlja2Vycy9wdWxsLzI2N1xuICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCdcbiAgfSxcbiAgY2xlYXJhYmxlRGlhbG9nQWN0aW9uOiB7XG4gICAgJyY6Zmlyc3QtY2hpbGQnOiB7XG4gICAgICBtYXJnaW5SaWdodDogJ2F1dG8nXG4gICAgfVxuICB9LFxuICB0b2RheURpYWxvZ0FjdGlvbjoge1xuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgbWFyZ2luUmlnaHQ6ICdhdXRvJ1xuICAgIH1cbiAgfSxcbiAgZGlhbG9nQWN0aW9uOiB7Ly8gZW1wdHkgYnV0IG1heSBiZSBuZWVkZWQgZm9yIG92ZXJyaWRlXG4gIH1cbn0pO1xudmFyIE1vZGFsRGlhbG9nJDEgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfX1tcIndpdGhTdHlsZXNcIl0pKHN0eWxlcywge1xuICBuYW1lOiAnTXVpUGlja2Vyc01vZGFsJ1xufSkoTW9kYWxEaWFsb2cpO1xuXG52YXIgTW9kYWxXcmFwcGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKE1vZGFsV3JhcHBlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBNb2RhbFdyYXBwZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW46IGZhbHNlXG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9rZXljb2RlX19fZGVmYXVsdCgpKGV2ZW50KSkge1xuICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgICAgX3RoaXMuaGFuZGxlQWNjZXB0KCk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGlmIGtleWNvZGUgaXMgbm90IGhhbmRsZWQsIHN0b3AgZXhlY3V0aW9uXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpZiBldmVudCB3YXMgaGFuZGxlZCBwcmV2ZW50IG90aGVyIHNpZGUgZWZmZWN0c1xuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVNldFRvZGF5RGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblNldFRvZGF5KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uU2V0VG9kYXkoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbk9wZW4pIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25PcGVuKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsb3NlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQWNjZXB0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQWNjZXB0KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQWNjZXB0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZURpc21pc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25EaXNtaXNzKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRGlzbWlzcygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlKCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsZWFyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2xlYXIoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTW9kYWxXcmFwcGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICAvLyBvbmx5IGlmIGFjY2VwdCA9IHRydWUgY2xvc2UgdGhlIGRpYWxvZ1xuICAgIGlmIChuZXh0UHJvcHMuaXNBY2NlcHRlZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgTW9kYWxXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICBvbkFjY2VwdCA9IF9hLm9uQWNjZXB0LFxuICAgICAgICBvbkRpc21pc3MgPSBfYS5vbkRpc21pc3MsXG4gICAgICAgIGludmFsaWRMYWJlbCA9IF9hLmludmFsaWRMYWJlbCxcbiAgICAgICAgbGFiZWxGdW5jID0gX2EubGFiZWxGdW5jLFxuICAgICAgICBva0xhYmVsID0gX2Eub2tMYWJlbCxcbiAgICAgICAgY2FuY2VsTGFiZWwgPSBfYS5jYW5jZWxMYWJlbCxcbiAgICAgICAgY2xlYXJMYWJlbCA9IF9hLmNsZWFyTGFiZWwsXG4gICAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgICAgdG9kYXlMYWJlbCA9IF9hLnRvZGF5TGFiZWwsXG4gICAgICAgIHNob3dUb2RheUJ1dHRvbiA9IF9hLnNob3dUb2RheUJ1dHRvbixcbiAgICAgICAgb25PcGVuID0gX2Eub25PcGVuLFxuICAgICAgICBvbkNsb3NlID0gX2Eub25DbG9zZSxcbiAgICAgICAgb25TZXRUb2RheSA9IF9hLm9uU2V0VG9kYXksXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBEaWFsb2dQcm9wcyA9IF9hLkRpYWxvZ1Byb3BzLFxuICAgICAgICBzaG93VGFicyA9IF9hLnNob3dUYWJzLFxuICAgICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShfYSwgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJjaGlsZHJlblwiLCBcIm9uQWNjZXB0XCIsIFwib25EaXNtaXNzXCIsIFwiaW52YWxpZExhYmVsXCIsIFwibGFiZWxGdW5jXCIsIFwib2tMYWJlbFwiLCBcImNhbmNlbExhYmVsXCIsIFwiY2xlYXJMYWJlbFwiLCBcImNsZWFyYWJsZVwiLCBcInRvZGF5TGFiZWxcIiwgXCJzaG93VG9kYXlCdXR0b25cIiwgXCJvbk9wZW5cIiwgXCJvbkNsb3NlXCIsIFwib25TZXRUb2RheVwiLCBcImlzQWNjZXB0ZWRcIiwgXCJEaWFsb2dQcm9wc1wiLCBcInNob3dUYWJzXCJdKTtcblxuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkZyYWdtZW50XCJdLCBudWxsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGV4dEZpZWxkJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgb25DbGljazogdGhpcy5vcGVuLFxuICAgICAgLy8gb25Gb2N1cz17dGhpcy50b2dnbGVQaWNrZXJ9IDwtIEN1cnJlbnRseSBub3QgcHJvcGVybHkgd29ya3Mgd2l0aCAuYmx1cigpIG9uIFRleHRGaWVsZFxuICAgICAgaW52YWxpZExhYmVsOiBpbnZhbGlkTGFiZWwsXG4gICAgICBsYWJlbEZ1bmM6IGxhYmVsRnVuYyxcbiAgICAgIGNsZWFyYWJsZTogY2xlYXJhYmxlXG4gICAgfSwgb3RoZXIpKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoTW9kYWxEaWFsb2ckMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgc2hvd1RhYnM6IHNob3dUYWJzLFxuICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuLFxuICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXG4gICAgICBvbkNsZWFyOiB0aGlzLmhhbmRsZUNsZWFyLFxuICAgICAgb25BY2NlcHQ6IHRoaXMuaGFuZGxlQWNjZXB0LFxuICAgICAgb25EaXNtaXNzOiB0aGlzLmhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiB0aGlzLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIGNsZWFyTGFiZWw6IGNsZWFyTGFiZWwsXG4gICAgICB0b2RheUxhYmVsOiB0b2RheUxhYmVsLFxuICAgICAgb2tMYWJlbDogb2tMYWJlbCxcbiAgICAgIGNhbmNlbExhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgIGNsZWFyYWJsZTogY2xlYXJhYmxlLFxuICAgICAgc2hvd1RvZGF5QnV0dG9uOiBzaG93VG9kYXlCdXR0b24sXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9LCBEaWFsb2dQcm9wcykpKTtcbiAgfTtcblxuICAgZmFsc2UgPyBNb2RhbFdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgIG9rTGFiZWw6IG5vZGUsXG4gICAgY2FuY2VsTGFiZWw6IG5vZGUsXG4gICAgY2xlYXJMYWJlbDogbm9kZSxcbiAgICBjbGVhcmFibGU6IGJvb2wsXG4gICAgdG9kYXlMYWJlbDogc3RyaW5nLFxuICAgIHNob3dUb2RheUJ1dHRvbjogYm9vbCxcbiAgICBvbk9wZW46IGZ1bmMsXG4gICAgZm9ybWF0OiBzdHJpbmcsXG4gICAgRGlhbG9nUHJvcHM6IG9iamVjdCxcbiAgICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgaW52YWxpZExhYmVsOiBub2RlLFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBvbkNsb3NlOiBmdW5jLFxuICAgIG9uQWNjZXB0OiBmdW5jLFxuICAgIG9uRGlzbWlzczogZnVuYyxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIG9uU2V0VG9kYXk6IGZ1bmMsXG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBpc0FjY2VwdGVkOiBib29sLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgTW9kYWxXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpbnZhbGlkTGFiZWw6IHVuZGVmaW5lZCxcbiAgICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgICBva0xhYmVsOiAnT0snLFxuICAgIGNhbmNlbExhYmVsOiAnQ2FuY2VsJyxcbiAgICBjbGVhckxhYmVsOiAnQ2xlYXInLFxuICAgIHRvZGF5TGFiZWw6ICdUb2RheScsXG4gICAgY2xlYXJhYmxlOiBmYWxzZSxcbiAgICBzaG93VG9kYXlCdXR0b246IGZhbHNlLFxuICAgIGZvcm1hdDogdW5kZWZpbmVkLFxuICAgIG9uQWNjZXB0OiB1bmRlZmluZWQsXG4gICAgb25EaXNtaXNzOiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIG9uT3BlbjogdW5kZWZpbmVkLFxuICAgIG9uQ2xvc2U6IHVuZGVmaW5lZCxcbiAgICBvblNldFRvZGF5OiB1bmRlZmluZWQsXG4gICAgRGlhbG9nUHJvcHM6IHVuZGVmaW5lZCxcbiAgICBpc0FjY2VwdGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gTW9kYWxXcmFwcGVyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xuXG52YXIgUGlja2VyVG9vbGJhciA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiY2xhc3Nlc1wiXSk7XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fX2RlZmF1bHQuYSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgIGNsYXNzTmFtZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMudG9vbGJhciwgY2xhc3NOYW1lKVxuICB9LCBvdGhlciksIGNoaWxkcmVuKTtcbn07XG5cbiBmYWxzZSA/IFBpY2tlclRvb2xiYXIucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogYXJyYXlPZihub2RlKS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgY2xhc3NlczogYW55LmlzUmVxdWlyZWQsXG4gIGlubmVyUmVmOiBhbnlcbn0gOiB2b2lkIDA7XG5QaWNrZXJUb29sYmFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiAnJ1xufTtcbnZhciBzdHlsZXMkMSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCgpKHtcbiAgICB0b29sYmFyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGhlaWdodDogMTAwLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiA6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZFtcImRlZmF1bHRcIl1cbiAgICB9XG4gIH0pO1xufTtcbnZhciBQaWNrZXJUb29sYmFyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQxLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzVG9vbGJhcidcbn0pKFBpY2tlclRvb2xiYXIpO1xuXG52YXIgVG9vbGJhckJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBzZWxlY3RlZCA9IF9hLnNlbGVjdGVkLFxuICAgICAgbGFiZWwgPSBfYS5sYWJlbCxcbiAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJjbGFzc2VzXCIsIFwic2VsZWN0ZWRcIiwgXCJsYWJlbFwiLCBcImNsYXNzTmFtZVwiXSk7XG5cbiAgdmFyIF9iO1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnRvb2xiYXJCdG4sIGNsYXNzTmFtZSwgKF9iID0ge30sIF9iW2NsYXNzZXMudG9vbGJhckJ0blNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYikpXG4gIH0sIG90aGVyKSwgbGFiZWwpO1xufTtcblxuIGZhbHNlID8gVG9vbGJhckJ1dHRvbi5wcm9wVHlwZXMgPSB7XG4gIHNlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gIGxhYmVsOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgY2xhc3NlczogYW55LmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuVG9vbGJhckJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJydcbn07XG52YXIgc3R5bGVzJDIgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0b29sYmFyQnRuOiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjU0KSdcbiAgICB9LFxuICAgIHRvb2xiYXJCdG5TZWxlY3RlZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlXG4gICAgfVxuICB9O1xufTtcbnZhciBUb29sYmFyQnV0dG9uJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQyLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzVG9vbGJhckJ1dHRvbidcbn0pKFRvb2xiYXJCdXR0b24pO1xuXG52YXIgZmluZENsb3Nlc3RFbmFibGVkRGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX2Euc2hvdWxkRGlzYWJsZURhdGU7XG4gIHZhciB0b2RheSA9IHV0aWxzLnN0YXJ0T2ZEYXkodXRpbHMuZGF0ZSgpKTtcbiAgbWluRGF0ZSA9IG1pbkRhdGUgJiYgdXRpbHMuZGF0ZShtaW5EYXRlKTtcbiAgbWF4RGF0ZSA9IG1heERhdGUgJiYgdXRpbHMuZGF0ZShtYXhEYXRlKTtcblxuICBpZiAoZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNCZWZvcmUobWluRGF0ZSwgdG9kYXkpKSB7XG4gICAgbWluRGF0ZSA9IHRvZGF5O1xuICB9XG5cbiAgaWYgKGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNBZnRlcihtYXhEYXRlLCB0b2RheSkpIHtcbiAgICBtYXhEYXRlID0gdG9kYXk7XG4gIH1cblxuICB2YXIgZm9yd2FyZCA9IHV0aWxzLmRhdGUoZGF0ZSk7XG4gIHZhciBiYWNrd2FyZCA9IHV0aWxzLmRhdGUoZGF0ZSk7XG5cbiAgaWYgKHV0aWxzLmlzQmVmb3JlKGRhdGUsIG1pbkRhdGUpKSB7XG4gICAgZm9yd2FyZCA9IG1pbkRhdGU7XG4gICAgYmFja3dhcmQgPSBudWxsO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzQWZ0ZXIoZGF0ZSwgbWF4RGF0ZSkpIHtcbiAgICBpZiAoYmFja3dhcmQpIHtcbiAgICAgIGJhY2t3YXJkID0gbWF4RGF0ZTtcbiAgICB9XG5cbiAgICBmb3J3YXJkID0gbnVsbDtcbiAgfVxuXG4gIHdoaWxlIChmb3J3YXJkIHx8IGJhY2t3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQgJiYgdXRpbHMuaXNBZnRlcihmb3J3YXJkLCBtYXhEYXRlKSkge1xuICAgICAgZm9yd2FyZCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGJhY2t3YXJkICYmIHV0aWxzLmlzQmVmb3JlKGJhY2t3YXJkLCBtaW5EYXRlKSkge1xuICAgICAgYmFja3dhcmQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICBpZiAoIXNob3VsZERpc2FibGVEYXRlKGZvcndhcmQpKSB7XG4gICAgICAgIHJldHVybiBmb3J3YXJkO1xuICAgICAgfVxuXG4gICAgICBmb3J3YXJkID0gdXRpbHMuYWRkRGF5cyhmb3J3YXJkLCAxKTtcbiAgICB9XG5cbiAgICBpZiAoYmFja3dhcmQpIHtcbiAgICAgIGlmICghc2hvdWxkRGlzYWJsZURhdGUoYmFja3dhcmQpKSB7XG4gICAgICAgIHJldHVybiBiYWNrd2FyZDtcbiAgICAgIH1cblxuICAgICAgYmFja3dhcmQgPSB1dGlscy5hZGREYXlzKGJhY2t3YXJkLCAtMSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgYW5pbWF0aW9uRHVyYXRpb24gPSAzNTA7XG5cbnZhciBTbGlkZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgIHRyYW5zS2V5ID0gX2EudHJhbnNLZXksXG4gICAgICBzbGlkZURpcmVjdGlvbiA9IF9hLnNsaWRlRGlyZWN0aW9uO1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9yZWFjdF90cmFuc2l0aW9uX2dyb3VwX19bXCJUcmFuc2l0aW9uR3JvdXBcIl0sIHtcbiAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnRyYW5zaXRpb25Db250YWluZXIsIGNsYXNzTmFtZSlcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9yZWFjdF90cmFuc2l0aW9uX2dyb3VwX19bXCJDU1NUcmFuc2l0aW9uXCJdLCB7XG4gICAga2V5OiB0cmFuc0tleSxcbiAgICBtb3VudE9uRW50ZXI6IHRydWUsXG4gICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICB0aW1lb3V0OiBhbmltYXRpb25EdXJhdGlvbixcbiAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lczoge1xuICAgICAgZW50ZXI6IGNsYXNzZXNbXCJzbGlkZUVudGVyLVwiICsgc2xpZGVEaXJlY3Rpb25dLFxuICAgICAgZW50ZXJBY3RpdmU6IGNsYXNzZXMuc2xpZGVFbnRlckFjdGl2ZSxcbiAgICAgIGV4aXQ6IGNsYXNzZXMuc2xpZGVFeGl0LFxuICAgICAgZXhpdEFjdGl2ZTogY2xhc3Nlc1tcInNsaWRlRXhpdEFjdGl2ZUxlZnQtXCIgKyBzbGlkZURpcmVjdGlvbl1cbiAgICB9XG4gIH0pKTtcbn07XG5cbiBmYWxzZSA/IFNsaWRlVHJhbnNpdGlvbi5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzZXM6IHNoYXBlKHt9KS5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgc2xpZGVEaXJlY3Rpb246IG9uZU9mKFsnbGVmdCcsICdyaWdodCddKS5pc1JlcXVpcmVkLFxuICB0cmFuc0tleTogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGlubmVyUmVmOiBhbnlcbn0gOiB2b2lkIDA7XG5TbGlkZVRyYW5zaXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6IHVuZGVmaW5lZFxufTtcbnZhciBzdHlsZXMkMyA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICB2YXIgc2xpZGVUcmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCd0cmFuc2Zvcm0nLCB7XG4gICAgZHVyYXRpb246IGFuaW1hdGlvbkR1cmF0aW9uLFxuICAgIGVhc2luZzogJ2N1YmljLWJlemllcigwLjM1LCAwLjgsIDAuNCwgMSknXG4gIH0pO1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCgpKHtcbiAgICB0cmFuc2l0aW9uQ29udGFpbmVyOiB7XG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAnJiA+IConOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBsZWZ0OiAwXG4gICAgICB9XG4gICAgfSxcbiAgICAnc2xpZGVFbnRlci1sZWZ0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMTAwJSknXG4gICAgfSxcbiAgICAnc2xpZGVFbnRlci1yaWdodCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0xMDAlKSdcbiAgICB9LFxuICAgIHNsaWRlRW50ZXJBY3RpdmU6IHtcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwJSknLFxuICAgICAgdHJhbnNpdGlvbjogc2xpZGVUcmFuc2l0aW9uXG4gICAgfSxcbiAgICBzbGlkZUV4aXQ6IHtcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwJSknXG4gICAgfSxcbiAgICAnc2xpZGVFeGl0QWN0aXZlTGVmdC1sZWZ0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTIwMCUpJyxcbiAgICAgIHRyYW5zaXRpb246IHNsaWRlVHJhbnNpdGlvblxuICAgIH0sXG4gICAgJ3NsaWRlRXhpdEFjdGl2ZUxlZnQtcmlnaHQnOiB7XG4gICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgyMDAlKScsXG4gICAgICB0cmFuc2l0aW9uOiBzbGlkZVRyYW5zaXRpb25cbiAgICB9XG4gIH0pO1xufTtcbnZhciBTbGlkZVRyYW5zaXRpb24kMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJDMsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNTbGlkZVRyYW5zaXRpb24nXG59KShTbGlkZVRyYW5zaXRpb24pO1xuXG52YXIgQ2FsZW5kYXJIZWFkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgdGhlbWUgPSBfYS50aGVtZSxcbiAgICAgIGN1cnJlbnRNb250aCA9IF9hLmN1cnJlbnRNb250aCxcbiAgICAgIG9uTW9udGhDaGFuZ2UgPSBfYS5vbk1vbnRoQ2hhbmdlLFxuICAgICAgbGVmdEFycm93SWNvbiA9IF9hLmxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbiA9IF9hLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgZGlzYWJsZVByZXZNb250aCA9IF9hLmRpc2FibGVQcmV2TW9udGgsXG4gICAgICBkaXNhYmxlTmV4dE1vbnRoID0gX2EuZGlzYWJsZU5leHRNb250aCxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBzbGlkZURpcmVjdGlvbiA9IF9hLnNsaWRlRGlyZWN0aW9uO1xuICB2YXIgcnRsID0gdGhlbWUuZGlyZWN0aW9uID09PSAncnRsJztcblxuICB2YXIgc2VsZWN0TmV4dE1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBvbk1vbnRoQ2hhbmdlKHV0aWxzLmdldE5leHRNb250aChjdXJyZW50TW9udGgpLCAnbGVmdCcpO1xuICB9O1xuXG4gIHZhciBzZWxlY3RQcmV2aW91c01vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBvbk1vbnRoQ2hhbmdlKHV0aWxzLmdldFByZXZpb3VzTW9udGgoY3VycmVudE1vbnRoKSwgJ3JpZ2h0Jyk7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3dpdGNoSGVhZGVyXG4gIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgZGlzYWJsZWQ6IGRpc2FibGVQcmV2TW9udGgsXG4gICAgb25DbGljazogc2VsZWN0UHJldmlvdXNNb250aCxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbkJ1dHRvblxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fX2RlZmF1bHQuYSwgbnVsbCwgcnRsID8gcmlnaHRBcnJvd0ljb24gOiBsZWZ0QXJyb3dJY29uKSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFNsaWRlVHJhbnNpdGlvbiQxLCB7XG4gICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uLFxuICAgIHRyYW5zS2V5OiBjdXJyZW50TW9udGgudG9TdHJpbmcoKSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNpdGlvbkNvbnRhaW5lclxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0LmEsIHtcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICB2YXJpYW50OiBcImJvZHkxXCJcbiAgfSwgdXRpbHMuZ2V0Q2FsZW5kYXJIZWFkZXJUZXh0KGN1cnJlbnRNb250aCkpKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19tYXRlcmlhbF91aV9jb3JlX0ljb25CdXR0b25fX19kZWZhdWx0LmEsIHtcbiAgICBkaXNhYmxlZDogZGlzYWJsZU5leHRNb250aCxcbiAgICBvbkNsaWNrOiBzZWxlY3ROZXh0TW9udGgsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmljb25CdXR0b25cbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0LmEsIG51bGwsIHJ0bCA/IGxlZnRBcnJvd0ljb24gOiByaWdodEFycm93SWNvbikpKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kYXlzSGVhZGVyXG4gIH0sIHV0aWxzLmdldFdlZWtkYXlzKCkubWFwKGZ1bmN0aW9uIChkYXksIGluZGV4KSB7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fX2RlZmF1bHQuYSwge1xuICAgICAga2V5OiBpbmRleCxcbiAgICAgIHZhcmlhbnQ6IFwiY2FwdGlvblwiLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmRheUxhYmVsXG4gICAgfSwgZGF5KTtcbiAgfSkpKTtcbn07XG4gZmFsc2UgPyBDYWxlbmRhckhlYWRlci5wcm9wVHlwZXMgPSB7XG4gIGN1cnJlbnRNb250aDogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIG9uTW9udGhDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIHRoZW1lOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gIGRpc2FibGVQcmV2TW9udGg6IGJvb2wsXG4gIGRpc2FibGVOZXh0TW9udGg6IGJvb2wsXG4gIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgc2xpZGVEaXJlY3Rpb246IG9uZU9mKFsncmlnaHQnLCAnbGVmdCddKS5pc1JlcXVpcmVkLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuQ2FsZW5kYXJIZWFkZXIuZGVmYXVsdFByb3BzID0ge1xuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICBkaXNhYmxlUHJldk1vbnRoOiBmYWxzZSxcbiAgZGlzYWJsZU5leHRNb250aDogZmFsc2Vcbn07XG52YXIgc3R5bGVzJDQgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgc3dpdGNoSGVhZGVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcudW5pdCAvIDIsXG4gICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcudW5pdFxuICAgIH0sXG4gICAgdHJhbnNpdGlvbkNvbnRhaW5lcjoge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogMjBcbiAgICB9LFxuICAgIGljb25CdXR0b246IHtcbiAgICAgIHpJbmRleDogMixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLnBhcGVyLFxuICAgICAgJyYgPiAqJzoge1xuICAgICAgICAvLyBsYWJlbFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcixcbiAgICAgICAgJyYgPiAqJzoge1xuICAgICAgICAgIC8vIGljb25cbiAgICAgICAgICB6SW5kZXg6IDEsXG4gICAgICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkYXlzSGVhZGVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIG1heEhlaWdodDogMTZcbiAgICB9LFxuICAgIGRheUxhYmVsOiB7XG4gICAgICB3aWR0aDogMzYsXG4gICAgICBtYXJnaW46ICcwIDJweCcsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2FsZW5kYXJIZWFkZXIkMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJDQsIHtcbiAgd2l0aFRoZW1lOiB0cnVlLFxuICBuYW1lOiAnTXVpUGlja2Vyc0NhbGVuZGFySGVhZGVyJ1xufSkod2l0aFV0aWxzKCkoQ2FsZW5kYXJIZWFkZXIpKTtcblxudmFyIERheSA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShEYXksIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF5KCkge1xuICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIERheS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX2IuY2hpbGRyZW4sXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBkaXNhYmxlZCA9IF9iLmRpc2FibGVkLFxuICAgICAgICBoaWRkZW4gPSBfYi5oaWRkZW4sXG4gICAgICAgIGN1cnJlbnQgPSBfYi5jdXJyZW50LFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShfYiwgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc2VzXCIsIFwiZGlzYWJsZWRcIiwgXCJoaWRkZW5cIiwgXCJjdXJyZW50XCIsIFwic2VsZWN0ZWRcIl0pO1xuXG4gICAgdmFyIGNsYXNzTmFtZSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLmRheSwgKF9hID0ge30sIF9hW2NsYXNzZXMuaGlkZGVuXSA9IGhpZGRlbiwgX2FbY2xhc3Nlcy5jdXJyZW50XSA9IGN1cnJlbnQsIF9hW2NsYXNzZXMuc2VsZWN0ZWRdID0gc2VsZWN0ZWQsIF9hW2NsYXNzZXMuZGlzYWJsZWRdID0gZGlzYWJsZWQsIF9hKSk7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX19fZGVmYXVsdC5hLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHRhYkluZGV4OiBoaWRkZW4gfHwgZGlzYWJsZWQgPyAtMSA6IDBcbiAgICB9LCBvdGhlciksIGNoaWxkcmVuKTtcbiAgfTtcblxuICAgZmFsc2UgPyBEYXkucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY3VycmVudDogYm9vbCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBoaWRkZW46IGJvb2wsXG4gICAgc2VsZWN0ZWQ6IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBEYXkuZGVmYXVsdFByb3BzID0ge1xuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBoaWRkZW46IGZhbHNlLFxuICAgIGN1cnJlbnQ6IGZhbHNlLFxuICAgIHNlbGVjdGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gRGF5O1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xuXG52YXIgc3R5bGVzJDUgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgZGF5OiB7XG4gICAgICB3aWR0aDogMzYsXG4gICAgICBoZWlnaHQ6IDM2LFxuICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkuY2FwdGlvbi5mb250U2l6ZSxcbiAgICAgIG1hcmdpbjogJzAgMnB4JyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bSxcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9LFxuICAgIGhpZGRlbjoge1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICAgIH0sXG4gICAgY3VycmVudDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgZm9udFdlaWdodDogNjAwXG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bSxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICB9XG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfVxuICB9KTtcbn07XG52YXIgRGF5JDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ1LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzRGF5J1xufSkoRGF5KTtcblxudmFyIERheVdyYXBwZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoRGF5V3JhcHBlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXlXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vblNlbGVjdChfdGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIERheVdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBkYXlJbkN1cnJlbnRNb250aCA9IF9hLmRheUluQ3VycmVudE1vbnRoLFxuICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICBvblNlbGVjdCA9IF9hLm9uU2VsZWN0LFxuICAgICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShfYSwgW1wiY2hpbGRyZW5cIiwgXCJ2YWx1ZVwiLCBcImRheUluQ3VycmVudE1vbnRoXCIsIFwiZGlzYWJsZWRcIiwgXCJvblNlbGVjdFwiXSk7XG5cbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgb25DbGljazogZGF5SW5DdXJyZW50TW9udGggJiYgIWRpc2FibGVkID8gdGhpcy5oYW5kbGVDbGljayA6IHVuZGVmaW5lZCxcbiAgICAgIG9uS2V5UHJlc3M6IGRheUluQ3VycmVudE1vbnRoICYmICFkaXNhYmxlZCA/IHRoaXMuaGFuZGxlQ2xpY2sgOiB1bmRlZmluZWQsXG4gICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiXG4gICAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG4gIH07XG5cbiAgIGZhbHNlID8gRGF5V3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBkYXlJbkN1cnJlbnRNb250aDogYm9vbCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBvblNlbGVjdDogZnVuYy5pc1JlcXVpcmVkLFxuICAgIHZhbHVlOiBhbnkuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuICBEYXlXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkYXlJbkN1cnJlbnRNb250aDogdHJ1ZSxcbiAgICBkaXNhYmxlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIERheVdyYXBwZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7XG5cbnZhciBDYWxlbmRhciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShDYWxlbmRhciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDYWxlbmRhcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc2xpZGVEaXJlY3Rpb246ICdsZWZ0JyxcbiAgICAgIGN1cnJlbnRNb250aDogX3RoaXMucHJvcHMudXRpbHMuZ2V0U3RhcnRPZk1vbnRoKF90aGlzLnByb3BzLmRhdGUpXG4gICAgfTtcblxuICAgIF90aGlzLm9uRGF0ZVNlbGVjdCA9IGZ1bmN0aW9uIChkYXksIGlzRmluaXNoKSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHV0aWxzLm1lcmdlRGF0ZUFuZFRpbWUoZGF5LCBkYXRlKSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2VNb250aCA9IGZ1bmN0aW9uIChuZXdNb250aCwgc2xpZGVEaXJlY3Rpb24pIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY3VycmVudE1vbnRoOiBuZXdNb250aCxcbiAgICAgICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMudmFsaWRhdGVNaW5NYXhEYXRlID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHJldHVybiBtaW5EYXRlICYmIHV0aWxzLmlzQmVmb3JlRGF5KGRheSwgdXRpbHMuZGF0ZShtaW5EYXRlKSkgfHwgbWF4RGF0ZSAmJiB1dGlscy5pc0FmdGVyRGF5KGRheSwgdXRpbHMuZGF0ZShtYXhEYXRlKSk7XG4gICAgfTtcblxuICAgIF90aGlzLnNob3VsZERpc2FibGVQcmV2TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGU7XG4gICAgICB2YXIgbm93ID0gdXRpbHMuZGF0ZSgpO1xuICAgICAgcmV0dXJuICF1dGlscy5pc0JlZm9yZSh1dGlscy5nZXRTdGFydE9mTW9udGgoZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNBZnRlcihub3csIG1pbkRhdGUpID8gbm93IDogdXRpbHMuZGF0ZShtaW5EYXRlKSksIF90aGlzLnN0YXRlLmN1cnJlbnRNb250aCk7XG4gICAgfTtcblxuICAgIF90aGlzLnNob3VsZERpc2FibGVOZXh0TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiAhdXRpbHMuaXNBZnRlcih1dGlscy5nZXRTdGFydE9mTW9udGgoZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0JlZm9yZShub3csIG1heERhdGUpID8gbm93IDogdXRpbHMuZGF0ZShtYXhEYXRlKSksIF90aGlzLnN0YXRlLmN1cnJlbnRNb250aCk7XG4gICAgfTtcblxuICAgIF90aGlzLnNob3VsZERpc2FibGVEYXRlID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9hLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICByZXR1cm4gQm9vbGVhbihkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXJEYXkoZGF5LCB1dGlscy5kYXRlKCkpIHx8IGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlRGF5KGRheSwgdXRpbHMuZGF0ZSgpKSB8fCBfdGhpcy52YWxpZGF0ZU1pbk1heERhdGUoZGF5KSB8fCBzaG91bGREaXNhYmxlRGF0ZSAmJiBzaG91bGREaXNhYmxlRGF0ZShkYXkpKTtcbiAgICB9O1xuXG4gICAgX3RoaXMubW92ZVRvRGF5ID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgaWYgKGRheSAmJiAhX3RoaXMuc2hvdWxkRGlzYWJsZURhdGUoZGF5KSkge1xuICAgICAgICBfdGhpcy5vbkRhdGVTZWxlY3QoZGF5LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHRoZW1lID0gX2EudGhlbWUsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcblxuICAgICAgc3dpdGNoIChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfX19kZWZhdWx0KCkoZXZlbnQpKSB7XG4gICAgICAgIGNhc2UgJ3VwJzpcbiAgICAgICAgICBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAtNykpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZG93bic6XG4gICAgICAgICAgX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgNykpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgdGhlbWUuZGlyZWN0aW9uID09PSAnbHRyJyA/IF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIC0xKSkgOiBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAxKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgIHRoZW1lLmRpcmVjdGlvbiA9PT0gJ2x0cicgPyBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAxKSkgOiBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAtMSkpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gaWYga2V5Y29kZSBpcyBub3QgaGFuZGxlZCwgc3RvcCBleGVjdXRpb25cbiAgICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGlmIGV2ZW50IHdhcyBoYW5kbGVkIHByZXZlbnQgb3RoZXIgc2lkZSBlZmZlY3RzIChlLmcuIHBhZ2Ugc2Nyb2xsKVxuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIF90aGlzLnJlbmRlcldlZWtzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHV0aWxzID0gX3RoaXMucHJvcHMudXRpbHM7XG4gICAgICB2YXIgY3VycmVudE1vbnRoID0gX3RoaXMuc3RhdGUuY3VycmVudE1vbnRoO1xuICAgICAgdmFyIHdlZWtzID0gdXRpbHMuZ2V0V2Vla0FycmF5KGN1cnJlbnRNb250aCk7XG4gICAgICByZXR1cm4gd2Vla3MubWFwKGZ1bmN0aW9uICh3ZWVrKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICAgICAga2V5OiBcIndlZWstXCIgKyB3ZWVrWzBdLnRvU3RyaW5nKCksXG4gICAgICAgICAgY2xhc3NOYW1lOiBfdGhpcy5wcm9wcy5jbGFzc2VzLndlZWtcbiAgICAgICAgfSwgX3RoaXMucmVuZGVyRGF5cyh3ZWVrKSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmVuZGVyRGF5cyA9IGZ1bmN0aW9uICh3ZWVrKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICByZW5kZXJEYXkgPSBfYS5yZW5kZXJEYXksXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciBzZWxlY3RlZERhdGUgPSB1dGlscy5zdGFydE9mRGF5KGRhdGUpO1xuICAgICAgdmFyIGN1cnJlbnRNb250aE51bWJlciA9IHV0aWxzLmdldE1vbnRoKF90aGlzLnN0YXRlLmN1cnJlbnRNb250aCk7XG4gICAgICB2YXIgbm93ID0gdXRpbHMuZGF0ZSgpO1xuICAgICAgcmV0dXJuIHdlZWsubWFwKGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgICAgdmFyIGRpc2FibGVkID0gX3RoaXMuc2hvdWxkRGlzYWJsZURhdGUoZGF5KTtcblxuICAgICAgICB2YXIgZGF5SW5DdXJyZW50TW9udGggPSB1dGlscy5nZXRNb250aChkYXkpID09PSBjdXJyZW50TW9udGhOdW1iZXI7XG4gICAgICAgIHZhciBkYXlDb21wb25lbnQgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXkkMSwge1xuICAgICAgICAgIGN1cnJlbnQ6IHV0aWxzLmlzU2FtZURheShkYXksIG5vdyksXG4gICAgICAgICAgaGlkZGVuOiAhZGF5SW5DdXJyZW50TW9udGgsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIHNlbGVjdGVkOiB1dGlscy5pc1NhbWVEYXkoc2VsZWN0ZWREYXRlLCBkYXkpXG4gICAgICAgIH0sIHV0aWxzLmdldERheVRleHQoZGF5KSk7XG5cbiAgICAgICAgaWYgKHJlbmRlckRheSkge1xuICAgICAgICAgIGRheUNvbXBvbmVudCA9IHJlbmRlckRheShkYXksIHNlbGVjdGVkRGF0ZSwgZGF5SW5DdXJyZW50TW9udGgsIGRheUNvbXBvbmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF5V3JhcHBlciwge1xuICAgICAgICAgIGtleTogZGF5LnRvU3RyaW5nKCksXG4gICAgICAgICAgdmFsdWU6IGRheSxcbiAgICAgICAgICBkYXlJbkN1cnJlbnRNb250aDogZGF5SW5DdXJyZW50TW9udGgsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIG9uU2VsZWN0OiBfdGhpcy5vbkRhdGVTZWxlY3RcbiAgICAgICAgfSwgZGF5Q29tcG9uZW50KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDYWxlbmRhci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBzdGF0ZSkge1xuICAgIGlmICghbmV4dFByb3BzLnV0aWxzLmlzRXF1YWwobmV4dFByb3BzLmRhdGUsIHN0YXRlLmxhc3REYXRlKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFzdERhdGU6IG5leHRQcm9wcy5kYXRlLFxuICAgICAgICBjdXJyZW50TW9udGg6IG5leHRQcm9wcy51dGlscy5nZXRTdGFydE9mTW9udGgobmV4dFByb3BzLmRhdGUpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIENhbGVuZGFyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0O1xuXG4gICAgaWYgKHRoaXMuc2hvdWxkRGlzYWJsZURhdGUoZGF0ZSkpIHtcbiAgICAgIHZhciBjbG9zZXN0RW5hYmxlZERhdGUgPSBmaW5kQ2xvc2VzdEVuYWJsZWREYXRlKHtcbiAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgdXRpbHM6IHV0aWxzLFxuICAgICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgICBkaXNhYmxlUGFzdDogQm9vbGVhbihkaXNhYmxlUGFzdCksXG4gICAgICAgIGRpc2FibGVGdXR1cmU6IEJvb2xlYW4oZGlzYWJsZVBhc3QpLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZTogdGhpcy5zaG91bGREaXNhYmxlRGF0ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLm9uRGF0ZVNlbGVjdChjbG9zZXN0RW5hYmxlZERhdGUgfHwgbWluRGF0ZSwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBDYWxlbmRhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGN1cnJlbnRNb250aCA9IF9hLmN1cnJlbnRNb250aCxcbiAgICAgICAgc2xpZGVEaXJlY3Rpb24gPSBfYS5zbGlkZURpcmVjdGlvbjtcbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBfYi5hbGxvd0tleWJvYXJkQ29udHJvbDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJGcmFnbWVudFwiXSwgbnVsbCwgYWxsb3dLZXlib2FyZENvbnRyb2wgJiYgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fX2RlZmF1bHQuYSwge1xuICAgICAgdGFyZ2V0OiBcIndpbmRvd1wiLFxuICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd25cbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2FsZW5kYXJIZWFkZXIkMSwge1xuICAgICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uLFxuICAgICAgY3VycmVudE1vbnRoOiBjdXJyZW50TW9udGgsXG4gICAgICBvbk1vbnRoQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZU1vbnRoLFxuICAgICAgbGVmdEFycm93SWNvbjogdGhpcy5wcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb246IHRoaXMucHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBkaXNhYmxlUHJldk1vbnRoOiB0aGlzLnNob3VsZERpc2FibGVQcmV2TW9udGgoKSxcbiAgICAgIGRpc2FibGVOZXh0TW9udGg6IHRoaXMuc2hvdWxkRGlzYWJsZU5leHRNb250aCgpXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFNsaWRlVHJhbnNpdGlvbiQxLCB7XG4gICAgICBzbGlkZURpcmVjdGlvbjogc2xpZGVEaXJlY3Rpb24sXG4gICAgICB0cmFuc0tleTogY3VycmVudE1vbnRoLnRvU3RyaW5nKCksXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNpdGlvbkNvbnRhaW5lclxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIC8vIEB0cy1pZ25vcmUgQXV0b2ZvY3VzIHJlcXVpcmVkIGZvciBnZXR0aW5nIHdvcmsga2V5Ym9hcmQgbmF2aWdhdGlvbiBmZWF0dXJlXG4gICAgICBhdXRvRm9jdXM6IHRydWVcbiAgICB9LCB0aGlzLnJlbmRlcldlZWtzKCkpKSk7XG4gIH07XG5cbiAgIGZhbHNlID8gQ2FsZW5kYXIucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICAgIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICAgIHJlbmRlckRheTogZnVuYyxcbiAgICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgQ2FsZW5kYXIuZGVmYXVsdFByb3BzID0ge1xuICAgIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICAgIGxlZnRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByaWdodEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBmYWxzZSxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIENhbGVuZGFyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJDYgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2l0aW9uQ29udGFpbmVyOiB7XG4gICAgICBtaW5IZWlnaHQ6IDM2ICogNixcbiAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0ICogMS41XG4gICAgfSxcbiAgICB3ZWVrOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICB9XG4gIH07XG59O1xudmFyIENhbGVuZGFyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ2LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2FsZW5kYXInLFxuICB3aXRoVGhlbWU6IHRydWVcbn0pKHdpdGhVdGlscygpKENhbGVuZGFyKSk7XG5cbnZhciBZZWFyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKFllYXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gWWVhcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvcHMub25TZWxlY3QoX3RoaXMucHJvcHMudmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBZZWFyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIHNlbGVjdGVkID0gX2Iuc2VsZWN0ZWQsXG4gICAgICAgIGRpc2FibGVkID0gX2IuZGlzYWJsZWQsXG4gICAgICAgIHZhbHVlID0gX2IudmFsdWUsXG4gICAgICAgIGNoaWxkcmVuID0gX2IuY2hpbGRyZW4sXG4gICAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9iLCBbXCJjbGFzc2VzXCIsIFwic2VsZWN0ZWRcIiwgXCJkaXNhYmxlZFwiLCBcInZhbHVlXCIsIFwiY2hpbGRyZW5cIl0pO1xuXG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fX2RlZmF1bHQuYSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgIGNvbXBvbmVudDogXCJkaXZcIixcbiAgICAgIGNsYXNzTmFtZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMucm9vdCwgKF9hID0ge30sIF9hW2NsYXNzZXMuc2VsZWN0ZWRdID0gc2VsZWN0ZWQsIF9hW2NsYXNzZXMuZGlzYWJsZWRdID0gZGlzYWJsZWQsIF9hKSksXG4gICAgICB0YWJJbmRleDogZGlzYWJsZWQgPyAtMSA6IDAsXG4gICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrLFxuICAgICAgb25LZXlQcmVzczogdGhpcy5oYW5kbGVDbGljayxcbiAgICAgIGNvbG9yOiBzZWxlY3RlZCA/ICdwcmltYXJ5JyA6ICdkZWZhdWx0JyxcbiAgICAgIHZhcmlhbnQ6IHNlbGVjdGVkID8gJ2g1JyA6ICdzdWJ0aXRsZTEnXG4gICAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG4gIH07XG5cbiAgIGZhbHNlID8gWWVhci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBvblNlbGVjdDogZnVuYy5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkOiBib29sLFxuICAgIHZhbHVlOiBhbnkuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIFllYXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICBkaXNhYmxlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIFllYXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJDcgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgcm9vdDoge1xuICAgICAgaGVpZ2h0OiB0aGVtZS5zcGFjaW5nLnVuaXQgKiA1LFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgICcmOmZvY3VzJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bVxuICAgICAgfVxuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IHtcbiAgICAgIG1hcmdpbjogJzEwcHggMCcsXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW1cbiAgICB9LFxuICAgIGRpc2FibGVkOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LmhpbnRcbiAgICB9XG4gIH0pO1xufTtcbnZhciBZZWFyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ3LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzWWVhcidcbn0pKFllYXIpO1xuXG52YXIgWWVhclNlbGVjdGlvbiA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShZZWFyU2VsZWN0aW9uLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFllYXJTZWxlY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zZWxlY3RlZFllYXJSZWYgPSB1bmRlZmluZWQ7XG5cbiAgICBfdGhpcy5nZXRTZWxlY3RlZFllYXJSZWYgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICBfdGhpcy5zZWxlY3RlZFllYXJSZWYgPSByZWY7XG4gICAgfTtcblxuICAgIF90aGlzLnNjcm9sbFRvQ3VycmVudFllYXIgPSBmdW5jdGlvbiAoZG9tTm9kZSkge1xuICAgICAgdmFyIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gX3RoaXMucHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmc7XG4gICAgICB2YXIgY3VycmVudFllYXJFbGVtZW50ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfcmVhY3RfZG9tX19bXCJmaW5kRE9NTm9kZVwiXSkoZG9tTm9kZSk7XG5cbiAgICAgIGlmIChjdXJyZW50WWVhckVsZW1lbnQgJiYgY3VycmVudFllYXJFbGVtZW50LnNjcm9sbEludG9WaWV3KSB7XG4gICAgICAgIGlmIChhbmltYXRlWWVhclNjcm9sbGluZykge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRZZWFyRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50WWVhckVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vblllYXJTZWxlY3QgPSBmdW5jdGlvbiAoeWVhcikge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIG5ld0RhdGUgPSB1dGlscy5zZXRZZWFyKGRhdGUsIHllYXIpO1xuICAgICAgb25DaGFuZ2UobmV3RGF0ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFllYXJTZWxlY3Rpb24ucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkWWVhclJlZikge1xuICAgICAgdGhpcy5zY3JvbGxUb0N1cnJlbnRZZWFyKHRoaXMuc2VsZWN0ZWRZZWFyUmVmKTtcbiAgICB9XG4gIH07XG5cbiAgWWVhclNlbGVjdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBtaW5EYXRlID0gX2EubWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgdmFyIGN1cnJlbnRZZWFyID0gdXRpbHMuZ2V0WWVhcihkYXRlKTtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhaW5lclxuICAgIH0sIHV0aWxzLmdldFllYXJSYW5nZShtaW5EYXRlLCBtYXhEYXRlKS5tYXAoZnVuY3Rpb24gKHllYXIpIHtcbiAgICAgIHZhciB5ZWFyTnVtYmVyID0gdXRpbHMuZ2V0WWVhcih5ZWFyKTtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHllYXJOdW1iZXIgPT09IGN1cnJlbnRZZWFyO1xuICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFllYXIkMSwge1xuICAgICAgICBrZXk6IHV0aWxzLmdldFllYXJUZXh0KHllYXIpLFxuICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgIHZhbHVlOiB5ZWFyTnVtYmVyLFxuICAgICAgICBvblNlbGVjdDogX3RoaXMub25ZZWFyU2VsZWN0LFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJlZjogc2VsZWN0ZWQgPyBfdGhpcy5nZXRTZWxlY3RlZFllYXJSZWYgOiB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZVllYXIoeWVhciwgdXRpbHMuZGF0ZSgpKSB8fCBkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXJZZWFyKHllYXIsIHV0aWxzLmRhdGUoKSlcbiAgICAgIH0sIHV0aWxzLmdldFllYXJUZXh0KHllYXIpKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gWWVhclNlbGVjdGlvbi5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogc2hhcGUoe30pLmlzUmVxdWlyZWQsXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIFllYXJTZWxlY3Rpb24uZGVmYXVsdFByb3BzID0ge1xuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZVxuICB9O1xuICByZXR1cm4gWWVhclNlbGVjdGlvbjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkOCA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gIGNvbnRhaW5lcjoge1xuICAgIG1heEhlaWdodDogMzAwLFxuICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICB9XG59KTtcbnZhciBZZWFyU2VsZWN0aW9uJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ4LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzWWVhclNlbGVjdGlvbidcbn0pKHdpdGhVdGlscygpKFllYXJTZWxlY3Rpb24pKTtcblxudmFyIERhdGVQaWNrZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoRGF0ZVBpY2tlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXRlUGlja2VyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93WWVhclNlbGVjdGlvbjogQm9vbGVhbihfdGhpcy5wcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uKVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVZZWFyU2VsZWN0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKGRhdGUsIGZhbHNlKTtcblxuICAgICAgX3RoaXMub3BlbkNhbGVuZGFyKCk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5ZZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93WWVhclNlbGVjdGlvbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5DYWxlbmRhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd1llYXJTZWxlY3Rpb246IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXIucHJvdG90eXBlLCBcImRhdGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0ZTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0ZVBpY2tlci5wcm90b3R5cGUsIFwibWluRGF0ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy51dGlscy5kYXRlKHRoaXMucHJvcHMubWluRGF0ZSk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXIucHJvdG90eXBlLCBcIm1heERhdGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMudXRpbHMuZGF0ZSh0aGlzLnByb3BzLm1heERhdGUpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG5cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzaG93WWVhclNlbGVjdGlvbiA9IHRoaXMuc3RhdGUuc2hvd1llYXJTZWxlY3Rpb247XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gX2EuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICAgIGxlZnRBcnJvd0ljb24gPSBfYS5sZWZ0QXJyb3dJY29uLFxuICAgICAgICByaWdodEFycm93SWNvbiA9IF9hLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgICByZW5kZXJEYXkgPSBfYS5yZW5kZXJEYXksXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX2Euc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gX2EuYWxsb3dLZXlib2FyZENvbnRyb2w7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFBpY2tlclRvb2xiYXIkMSwgbnVsbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuWWVhclNlbGVjdGlvbixcbiAgICAgIHNlbGVjdGVkOiBzaG93WWVhclNlbGVjdGlvbixcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRZZWFyVGV4dCh0aGlzLmRhdGUpXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoNFwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuQ2FsZW5kYXIsXG4gICAgICBzZWxlY3RlZDogIXNob3dZZWFyU2VsZWN0aW9uLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldERhdGVQaWNrZXJIZWFkZXJUZXh0KHRoaXMuZGF0ZSlcbiAgICB9KSksIHRoaXMucHJvcHMuY2hpbGRyZW4sIHNob3dZZWFyU2VsZWN0aW9uID8gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoWWVhclNlbGVjdGlvbiQxLCB7XG4gICAgICBkYXRlOiB0aGlzLmRhdGUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVZZWFyU2VsZWN0LFxuICAgICAgbWluRGF0ZTogdGhpcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZ1xuICAgIH0pIDogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2FsZW5kYXIkMSwge1xuICAgICAgZGF0ZTogdGhpcy5kYXRlLFxuICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgIG1heERhdGU6IHRoaXMubWF4RGF0ZSxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbFxuICAgIH0pKTtcbiAgfTtcblxuICAgZmFsc2UgPyBEYXRlUGlja2VyLnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gICAgb3BlblRvWWVhclNlbGVjdGlvbjogYm9vbCxcbiAgICBjaGlsZHJlbjogbm9kZSxcbiAgICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICAgIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICAgIHJlbmRlckRheTogZnVuYyxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gICAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZVxuICB9IDogdm9pZCAwO1xuICBEYXRlUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gICAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogZmFsc2UsXG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IHVuZGVmaW5lZCxcbiAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBmYWxzZSxcbiAgICBjaGlsZHJlbjogbnVsbCxcbiAgICBsZWZ0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmlnaHRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkXG4gIH07XG4gIHJldHVybiBEYXRlUGlja2VyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xudmFyIERhdGVQaWNrZXIkMSA9IHdpdGhVdGlscygpKERhdGVQaWNrZXIpO1xuXG52YXIgRGF0ZVBpY2tlck1vZGFsID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGxhYmVsRnVuYyA9IHByb3BzLmxhYmVsRnVuYyxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uID0gcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKHByb3BzLCBbXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiYXV0b09rXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVQYXN0XCIsIFwiZm9ybWF0XCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwibGFiZWxGdW5jXCIsIFwibGVmdEFycm93SWNvblwiLCBcIm1heERhdGVcIiwgXCJtaW5EYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwib25DaGFuZ2VcIiwgXCJvcGVuVG9ZZWFyU2VsZWN0aW9uXCIsIFwicmVuZGVyRGF5XCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcInZhbHVlXCJdKTtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQmFzZVBpY2tlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVDbGVhciA9IF9hLmhhbmRsZUNsZWFyLFxuICAgICAgICBoYW5kbGVEaXNtaXNzID0gX2EuaGFuZGxlRGlzbWlzcyxcbiAgICAgICAgaGFuZGxlU2V0VG9kYXlEYXRlID0gX2EuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShNb2RhbFdyYXBwZXIsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCB8fCB1dGlscy5kYXRlRm9ybWF0LFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgICBvbkRpc21pc3M6IGhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiBoYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWRcbiAgICB9LCBvdGhlciksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVQaWNrZXIkMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpO1xuICB9KTtcbn07XG4gZmFsc2UgPyBEYXRlUGlja2VyTW9kYWwucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogYm9vbCxcbiAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBib29sLFxuICBsYWJlbEZ1bmM6IGZ1bmMsXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICByZW5kZXJEYXk6IGZ1bmMsXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuRGF0ZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiB1bmRlZmluZWQsXG4gIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlLFxuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkXG59O1xudmFyIERhdGVQaWNrZXJNb2RhbCQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVQaWNrZXJNb2RhbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBJbmxpbmVXcmFwcGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKElubGluZVdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gSW5saW5lV3JhcHBlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgYW5jaG9yRWw6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFuY2hvckVsOiBlLmN1cnJlbnRUYXJnZXRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25PcGVuKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uT3BlbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYW5jaG9yRWw6IG51bGxcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5wcm9wcy5oYW5kbGVBY2NlcHQoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xvc2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fX2RlZmF1bHQoKShldmVudCkpIHtcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzLnByb3BzLmhhbmRsZUFjY2VwdCgpO1xuXG4gICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBrZXljb2RlIGlzIG5vdCBoYW5kbGVkLCBzdG9wIGV4ZWN1dGlvblxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gaWYgZXZlbnQgd2FzIGhhbmRsZWQgcHJldmVudCBvdGhlciBzaWRlIGVmZmVjdHNcblxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBJbmxpbmVXcmFwcGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICAvLyBvbmx5IGlmIGFjY2VwdCA9IHRydWUgY2xvc2UgdGhlIHBvcG92ZXJcbiAgICBpZiAobmV4dFByb3BzLmlzQWNjZXB0ZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIElubGluZVdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgIG9uT3BlbiA9IF9hLm9uT3BlbixcbiAgICAgICAgb25DbG9zZSA9IF9hLm9uQ2xvc2UsXG4gICAgICAgIFBvcG92ZXJQcm9wcyA9IF9hLlBvcG92ZXJQcm9wcyxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIGtleWJvYXJkID0gX2Eua2V5Ym9hcmQsXG4gICAgICAgIG9ubHlDYWxlbmRhciA9IF9hLm9ubHlDYWxlbmRhcixcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiY2hpbGRyZW5cIiwgXCJvbk9wZW5cIiwgXCJvbkNsb3NlXCIsIFwiUG9wb3ZlclByb3BzXCIsIFwiaXNBY2NlcHRlZFwiLCBcImtleWJvYXJkXCIsIFwib25seUNhbGVuZGFyXCIsIFwiY2xhc3Nlc1wiLCBcImhhbmRsZUFjY2VwdFwiXSk7XG5cbiAgICB2YXIgaXNPcGVuID0gQm9vbGVhbih0aGlzLnN0YXRlLmFuY2hvckVsKTtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJGcmFnbWVudFwiXSwgbnVsbCwgaXNPcGVuICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfcmVhY3RfZXZlbnRfbGlzdGVuZXJfX19kZWZhdWx0LmEsIHtcbiAgICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUZXh0RmllbGQkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW4sXG4gICAgICBrZXlib2FyZDoga2V5Ym9hcmRcbiAgICB9LCBvdGhlcikpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19tYXRlcmlhbF91aV9jb3JlX1BvcG92ZXJfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIGlkOiBcInBpY2tlci1wb3BvdmVyXCIsXG4gICAgICBvcGVuOiBpc09wZW4sXG4gICAgICBhbmNob3JFbDogdGhpcy5zdGF0ZS5hbmNob3JFbCxcbiAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2UsXG4gICAgICBjbGFzc2VzOiB7XG4gICAgICAgIHBhcGVyOiBjbGFzc2VzLnBvcG92ZXJQYXBlclxuICAgICAgfSxcbiAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgICAgIGhvcml6b250YWw6IGtleWJvYXJkID8gJ3JpZ2h0JyA6ICdjZW50ZXInXG4gICAgICB9LFxuICAgICAgdHJhbnNmb3JtT3JpZ2luOiB7XG4gICAgICAgIHZlcnRpY2FsOiAndG9wJyxcbiAgICAgICAgaG9yaXpvbnRhbDoga2V5Ym9hcmQgPyAncmlnaHQnIDogJ2NlbnRlcidcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9LCBQb3BvdmVyUHJvcHMpKSk7XG4gIH07XG5cbiAgIGZhbHNlID8gSW5saW5lV3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgLyoqIFNob3cgb25seSBjYWxlbmRhciBmb3IgZGF0ZXBpY2tlciBpbiBwb3BvdmVyIG1vZGUgKi9cbiAgICBvbmx5Q2FsZW5kYXI6IGJvb2wsXG5cbiAgICAvKiogUGlja2VyIHZhbHVlICovXG4gICAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gICAgLyoqIE9uIG9wZW4gY2FsbGJhY2sgWyhlOiBFdmVudCkgPT4gdm9pZF0gKi9cbiAgICBvbk9wZW46IGZ1bmMsXG5cbiAgICAvKiogT24gY2xvc2UgY2FsbGJhY2sgWyhlOiBFdmVudCkgPT4gdm9pZF0gKi9cbiAgICBvbkNsb3NlOiBmdW5jLFxuXG4gICAgLyoqIEZvcm1hdCBzdHJpbmcgKi9cbiAgICBmb3JtYXQ6IHN0cmluZyxcblxuICAgIC8qKiBEaWFsb2cgcHJvcHMgcGFzc2VkIHRvIG1hdGVyaWFsLXVpIERpYWxvZyAqL1xuICAgIFBvcG92ZXJQcm9wczogb2JqZWN0LFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIGlzQWNjZXB0ZWQ6IGJvb2wsXG4gICAgaGFuZGxlQWNjZXB0OiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBrZXlib2FyZDogYm9vbCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIElubGluZVdyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICAgIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICAgIG9ubHlDYWxlbmRhcjogZmFsc2UsXG4gICAgZm9ybWF0OiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIG9uT3BlbjogdW5kZWZpbmVkLFxuICAgIG9uQ2xvc2U6IHVuZGVmaW5lZCxcbiAgICBQb3BvdmVyUHJvcHM6IHVuZGVmaW5lZCxcbiAgICBpc0FjY2VwdGVkOiBmYWxzZSxcbiAgICBrZXlib2FyZDogdW5kZWZpbmVkXG4gIH07XG4gIHJldHVybiBJbmxpbmVXcmFwcGVyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xudmFyIHN0eWxlcyQ5ID0ge1xuICBwb3BvdmVyUGFwZXI6IHtcbiAgICBtYXhXaWR0aDogMzEwLFxuICAgIG1pbldpZHRoOiAyOTAsXG4gICAgcGFkZGluZ0JvdHRvbTogOFxuICB9XG59OyAvLyBAdHMtaWdub3JlXG5cbnZhciBJbmxpbmVXcmFwcGVyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ5KShJbmxpbmVXcmFwcGVyKTtcblxudmFyIERhdGVQaWNrZXJJbmxpbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIGFsbG93S2V5Ym9hcmRDb250cm9sID0gcHJvcHMuYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgbGFiZWxGdW5jID0gcHJvcHMubGFiZWxGdW5jLFxuICAgICAgbGVmdEFycm93SWNvbiA9IHByb3BzLmxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gcHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlLFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb24gPSBwcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgcmVuZGVyRGF5ID0gcHJvcHMucmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb25seUNhbGVuZGFyID0gcHJvcHMub25seUNhbGVuZGFyLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkocHJvcHMsIFtcImFsbG93S2V5Ym9hcmRDb250cm9sXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJmb3JtYXRcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJsYWJlbEZ1bmNcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwibWF4RGF0ZVwiLCBcIm1pbkRhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJvbkNoYW5nZVwiLCBcIm9wZW5Ub1llYXJTZWxlY3Rpb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJyaWdodEFycm93SWNvblwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwidmFsdWVcIiwgXCJhdXRvT2tcIiwgXCJvbmx5Q2FsZW5kYXJcIl0pO1xuXG4gIHZhciBDb21wb25lbnRUb1Nob3cgPSBvbmx5Q2FsZW5kYXIgPyBDYWxlbmRhciQxIDogRGF0ZVBpY2tlciQxO1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQmFzZVBpY2tlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBhdXRvT2s6IHRydWVcbiAgfSksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQ7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKElubGluZVdyYXBwZXIkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdDogZm9ybWF0IHx8IHV0aWxzLmRhdGVGb3JtYXQsXG4gICAgICBsYWJlbEZ1bmM6IGxhYmVsRnVuYyxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIGlubmVyUmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgaGFuZGxlQWNjZXB0OiBoYW5kbGVBY2NlcHRcbiAgICB9LCBvdGhlciksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENvbXBvbmVudFRvU2hvdywge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpO1xuICB9KTtcbn07XG4gZmFsc2UgPyBEYXRlUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgb25seUNhbGVuZGFyOiBib29sLFxuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVQYXN0OiBib29sLFxuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogYm9vbCxcbiAgbGFiZWxGdW5jOiBmdW5jLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgcmVuZGVyRGF5OiBmdW5jLFxuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKSxcbiAgYXV0b09rOiBib29sXG59IDogdm9pZCAwO1xuRGF0ZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiB1bmRlZmluZWQsXG4gIG9ubHlDYWxlbmRhcjogZmFsc2Vcbn07XG52YXIgRGF0ZVBpY2tlcklubGluZSQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVQaWNrZXJJbmxpbmUsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgY2VudGVyID0ge1xuICB4OiAyNjAgLyAyLFxuICB5OiAyNjAgLyAyXG59O1xudmFyIGJhc2VQb2ludCA9IHtcbiAgeDogY2VudGVyLngsXG4gIHk6IDBcbn07XG52YXIgY3ggPSBiYXNlUG9pbnQueCAtIGNlbnRlci54O1xudmFyIGN5ID0gYmFzZVBvaW50LnkgLSBjZW50ZXIueTtcblxudmFyIHJhZDJkZWcgPSBmdW5jdGlvbiAocmFkKSB7XG4gIHJldHVybiByYWQgKiA1Ny4yOTU3Nzk1MTMwODIzMjtcbn07XG5cbnZhciBnZXRBbmdsZVZhbHVlID0gZnVuY3Rpb24gKHN0ZXAsIG9mZnNldFgsIG9mZnNldFkpIHtcbiAgdmFyIHggPSBvZmZzZXRYIC0gY2VudGVyLng7XG4gIHZhciB5ID0gb2Zmc2V0WSAtIGNlbnRlci55O1xuICB2YXIgYXRhbiA9IE1hdGguYXRhbjIoY3gsIGN5KSAtIE1hdGguYXRhbjIoeCwgeSk7XG4gIHZhciBkZWcgPSByYWQyZGVnKGF0YW4pO1xuICBkZWcgPSBNYXRoLnJvdW5kKGRlZyAvIHN0ZXApICogc3RlcDtcbiAgZGVnICU9IDM2MDtcbiAgdmFyIHZhbHVlID0gTWF0aC5mbG9vcihkZWcgLyBzdGVwKSB8fCAwO1xuICB2YXIgZGVsdGEgPSBNYXRoLnBvdyh4LCAyKSArIE1hdGgucG93KHksIDIpO1xuICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGVsdGEpO1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgfTtcbn07XG5cbnZhciBnZXRIb3VycyA9IGZ1bmN0aW9uIChvZmZzZXRYLCBvZmZzZXRZLCBhbXBtKSB7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICB2YXIgX2EgPSBnZXRBbmdsZVZhbHVlKDMwLCBvZmZzZXRYLCBvZmZzZXRZKSxcbiAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBkaXN0YW5jZSA9IF9hLmRpc3RhbmNlO1xuXG4gIHZhbHVlID0gdmFsdWUgfHwgMTI7XG5cbiAgaWYgKCFhbXBtKSB7XG4gICAgaWYgKGRpc3RhbmNlIDwgOTApIHtcbiAgICAgIHZhbHVlICs9IDEyO1xuICAgICAgdmFsdWUgJT0gMjQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhbHVlICU9IDEyO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBnZXRNaW51dGVzID0gZnVuY3Rpb24gKG9mZnNldFgsIG9mZnNldFksIHN0ZXApIHtcbiAgaWYgKHN0ZXAgPT09IHZvaWQgMCkge1xuICAgIHN0ZXAgPSA2O1xuICB9XG5cbiAgdmFyIHZhbHVlID0gZ2V0QW5nbGVWYWx1ZShzdGVwLCBvZmZzZXRYLCBvZmZzZXRZKS52YWx1ZTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBjb252ZXJ0VG9NZXJpZGllbSA9IGZ1bmN0aW9uICh0aW1lLCBtZXJpZGllbSwgYW1wbSwgdXRpbHMpIHtcbiAgaWYgKGFtcG0pIHtcbiAgICB2YXIgY3VycmVudE1lcmlkaWVtID0gdXRpbHMuZ2V0SG91cnModGltZSkgPj0gMTIgPyAncG0nIDogJ2FtJztcblxuICAgIGlmIChjdXJyZW50TWVyaWRpZW0gIT09IG1lcmlkaWVtKSB7XG4gICAgICB2YXIgaG91cnMgPSBtZXJpZGllbSA9PT0gJ2FtJyA/IHV0aWxzLmdldEhvdXJzKHRpbWUpIC0gMTIgOiB1dGlscy5nZXRIb3Vycyh0aW1lKSArIDEyO1xuICAgICAgcmV0dXJuIHV0aWxzLnNldEhvdXJzKHRpbWUsIGhvdXJzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGltZTtcbn07XG5cbnZhciBDbG9ja1R5cGU7XG5cbihmdW5jdGlvbiAoQ2xvY2tUeXBlKSB7XG4gIENsb2NrVHlwZVtcIkhPVVJTXCJdID0gXCJob3Vyc1wiO1xuICBDbG9ja1R5cGVbXCJNSU5VVEVTXCJdID0gXCJtaW51dGVzXCI7XG4gIENsb2NrVHlwZVtcIlNFQ09ORFNcIl0gPSBcInNlY29uZHNcIjtcbn0pKENsb2NrVHlwZSB8fCAoQ2xvY2tUeXBlID0ge30pKTtcblxudmFyIENsb2NrVHlwZSQxID0gQ2xvY2tUeXBlO1xuXG52YXIgQ2xvY2tQb2ludGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKENsb2NrUG9pbnRlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDbG9ja1BvaW50ZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRvQW5pbWF0ZVRyYW5zZm9ybTogZmFsc2UsXG4gICAgICBwcmV2aW91c1R5cGU6IHVuZGVmaW5lZFxuICAgIH07XG5cbiAgICBfdGhpcy5nZXRBbmdsZVN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgICBpc0lubmVyID0gX2EuaXNJbm5lcixcbiAgICAgICAgICB0eXBlID0gX2EudHlwZTtcbiAgICAgIHZhciBtYXggPSB0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyA/IDEyIDogNjA7XG4gICAgICB2YXIgYW5nbGUgPSAzNjAgLyBtYXggKiB2YWx1ZTtcblxuICAgICAgaWYgKHR5cGUgPT09IENsb2NrVHlwZSQxLkhPVVJTICYmIHZhbHVlID4gMTIpIHtcbiAgICAgICAgYW5nbGUgLT0gMzYwOyAvLyByb3VuZCB1cCBhbmdsZSB0byBtYXggMzYwIGRlZ3JlZXNcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBpc0lubmVyID8gJzI2JScgOiAnNDAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZVooXCIgKyBhbmdsZSArIFwiZGVnKVwiXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9ja1BvaW50ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EsIF9iO1xuXG4gICAgdmFyIF9jID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9jLmNsYXNzZXMsXG4gICAgICAgIGhhc1NlbGVjdGVkID0gX2MuaGFzU2VsZWN0ZWQ7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIHN0eWxlOiB0aGlzLmdldEFuZ2xlU3R5bGUoKSxcbiAgICAgIGNsYXNzTmFtZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMucG9pbnRlciwgKF9hID0ge30sIF9hW2NsYXNzZXMuYW5pbWF0ZVRyYW5zZm9ybV0gPSB0aGlzLnN0YXRlLnRvQW5pbWF0ZVRyYW5zZm9ybSwgX2EpKVxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMudGh1bWIsIChfYiA9IHt9LCBfYltjbGFzc2VzLm5vUG9pbnRdID0gaGFzU2VsZWN0ZWQsIF9iKSlcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gQ2xvY2tQb2ludGVyLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgaGFzU2VsZWN0ZWQ6IGJvb2wuaXNSZXF1aXJlZCxcbiAgICBpc0lubmVyOiBib29sLmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueSxcbiAgICB0eXBlOiBvbmVPZihPYmplY3Qua2V5cyhDbG9ja1R5cGUkMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBDbG9ja1R5cGUkMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG5cbiAgQ2xvY2tQb2ludGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMsIHN0YXRlKSB7XG4gICAgaWYgKG5leHRQcm9wcy50eXBlICE9PSBzdGF0ZS5wcmV2aW91c1R5cGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvQW5pbWF0ZVRyYW5zZm9ybTogdHJ1ZSxcbiAgICAgICAgcHJldmlvdXNUeXBlOiBuZXh0UHJvcHMudHlwZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9BbmltYXRlVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgIHByZXZpb3VzVHlwZTogbmV4dFByb3BzLnR5cGVcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBDbG9ja1BvaW50ZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkYSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCgpKHtcbiAgICBwb2ludGVyOiB7XG4gICAgICB3aWR0aDogMixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGxlZnQ6ICdjYWxjKDUwJSAtIDFweCknLFxuICAgICAgYm90dG9tOiAnNTAlJyxcbiAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2NlbnRlciBib3R0b20gMHB4J1xuICAgIH0sXG4gICAgYW5pbWF0ZVRyYW5zZm9ybToge1xuICAgICAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKFsndHJhbnNmb3JtJywgJ2hlaWdodCddKVxuICAgIH0sXG4gICAgdGh1bWI6IHtcbiAgICAgIHdpZHRoOiA0LFxuICAgICAgaGVpZ2h0OiA0LFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGJvcmRlclJhZGl1czogJzEwMCUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IC0yMSxcbiAgICAgIGxlZnQ6IC0xNSxcbiAgICAgIGJvcmRlcjogXCIxNHB4IHNvbGlkIFwiICsgdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBib3hTaXppbmc6ICdjb250ZW50LWJveCdcbiAgICB9LFxuICAgIG5vUG9pbnQ6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9XG4gIH0pO1xufTtcbnZhciBDbG9ja1BvaW50ZXIkMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGEsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9ja1BvaW50ZXInXG59KShDbG9ja1BvaW50ZXIpO1xuXG52YXIgQ2xvY2sgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoQ2xvY2ssIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2xvY2soKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5pc01vdmluZyA9IGZhbHNlO1xuXG4gICAgX3RoaXMuaGFuZGxlVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLmlzTW92aW5nID0gdHJ1ZTtcblxuICAgICAgX3RoaXMuc2V0VGltZShlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVG91Y2hFbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLmlzTW92aW5nKSB7XG4gICAgICAgIF90aGlzLnNldFRpbWUoZSwgdHJ1ZSk7XG5cbiAgICAgICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBNb3VzZUV2ZW50LndoaWNoIGlzIGRlcHJlY2F0ZWQsIGJ1dCBNb3VzZUV2ZW50LmJ1dHRvbnMgaXMgbm90IHN1cHBvcnRlZCBpbiBTYWZhcmlcblxuICAgICAgdmFyIGlzQnV0dG9uUHJlc3NlZCA9IHR5cGVvZiBlLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnID8gZS5uYXRpdmVFdmVudC53aGljaCA9PT0gMSA6IGUuYnV0dG9ucyA9PT0gMTtcblxuICAgICAgaWYgKGlzQnV0dG9uUHJlc3NlZCkge1xuICAgICAgICBfdGhpcy5zZXRUaW1lKGUubmF0aXZlRXZlbnQsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0VGltZShlLm5hdGl2ZUV2ZW50LCB0cnVlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFzU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlO1xuXG4gICAgICBpZiAodHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZSAlIDUgPT09IDA7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIENsb2NrLnByb3RvdHlwZS5zZXRUaW1lID0gZnVuY3Rpb24gKGUsIGlzRmluaXNoKSB7XG4gICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgIGlzRmluaXNoID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG9mZnNldFggPSBlLm9mZnNldFgsXG4gICAgICAgIG9mZnNldFkgPSBlLm9mZnNldFk7XG5cbiAgICBpZiAodHlwZW9mIG9mZnNldFggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgb2Zmc2V0WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICAgIG9mZnNldFkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLnByb3BzLnR5cGUgPT09IENsb2NrVHlwZSQxLlNFQ09ORFMgfHwgdGhpcy5wcm9wcy50eXBlID09PSBDbG9ja1R5cGUkMS5NSU5VVEVTID8gZ2V0TWludXRlcyhvZmZzZXRYLCBvZmZzZXRZKSA6IGdldEhvdXJzKG9mZnNldFgsIG9mZnNldFksIEJvb2xlYW4odGhpcy5wcm9wcy5hbXBtKSk7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSwgaXNGaW5pc2gpO1xuICB9O1xuXG4gIENsb2NrLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICBhbXBtID0gX2EuYW1wbTtcbiAgICB2YXIgaXNQb2ludGVySW5uZXIgPSAhYW1wbSAmJiB0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyAmJiAodmFsdWUgPCAxIHx8IHZhbHVlID4gMTIpO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY29udGFpbmVyXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNsb2NrXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgcm9sZTogXCJtZW51XCIsXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3F1YXJlTWFzayxcbiAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSxcbiAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmQsXG4gICAgICBvbk1vdXNlVXA6IHRoaXMuaGFuZGxlTW91c2VVcCxcbiAgICAgIG9uTW91c2VNb3ZlOiB0aGlzLmhhbmRsZU1vdmVcbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnBpblxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja1BvaW50ZXIkMSwge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzSW5uZXI6IGlzUG9pbnRlcklubmVyLFxuICAgICAgaGFzU2VsZWN0ZWQ6IHRoaXMuaGFzU2VsZWN0ZWQoKVxuICAgIH0pLCBjaGlsZHJlbikpO1xuICB9O1xuXG4gICBmYWxzZSA/IENsb2NrLnByb3BUeXBlcyA9IHtcbiAgICB0eXBlOiBvbmVPZihPYmplY3Qua2V5cyhDbG9ja1R5cGUkMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBDbG9ja1R5cGUkMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHZhbHVlOiBudW1iZXIuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBhcnJheU9mKG5vZGUpLmlzUmVxdWlyZWQsXG4gICAgYW1wbTogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENsb2NrLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbXBtOiBmYWxzZVxuICB9O1xuICByZXR1cm4gQ2xvY2s7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkYiA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCgpKHtcbiAgICBjb250YWluZXI6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCcsXG4gICAgICBtYXJnaW46IHRoZW1lLnNwYWNpbmcudW5pdCAqIDQgKyBcInB4IDAgXCIgKyB0aGVtZS5zcGFjaW5nLnVuaXQgKyBcInB4XCJcbiAgICB9LFxuICAgIGNsb2NrOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLC4wNyknLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgIGhlaWdodDogMjYwLFxuICAgICAgd2lkdGg6IDI2MCxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgekluZGV4OiAxXG4gICAgfSxcbiAgICBzcXVhcmVNYXNrOiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdhdXRvJyxcbiAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgIHRvdWNoQWN0aW9uczogJ25vbmUnLFxuICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgJyY6YWN0aXZlJzoge1xuICAgICAgICBjdXJzb3I6ICdtb3ZlJ1xuICAgICAgfVxuICAgIH0sXG4gICAgcGluOiB7XG4gICAgICB3aWR0aDogNixcbiAgICAgIGhlaWdodDogNixcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6ICc1MCUnLFxuICAgICAgbGVmdDogJzUwJScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2skMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGIsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9jaydcbn0pKENsb2NrKTtcblxudmFyIHBvc2l0aW9ucyA9IHtcbiAgMDogWzAsIDQwXSxcbiAgMTogWzU1LCAxOS42XSxcbiAgMjogWzk0LjQsIDU5LjVdLFxuICAzOiBbMTA5LCAxMTRdLFxuICA0OiBbOTQuNCwgMTY4LjVdLFxuICA1OiBbNTQuNSwgMjA4LjRdLFxuICA2OiBbMCwgMjIzXSxcbiAgNzogWy01NC41LCAyMDguNF0sXG4gIDg6IFstOTQuNCwgMTY4LjVdLFxuICA5OiBbLTEwOSwgMTE0XSxcbiAgMTA6IFstOTQuNCwgNTkuNV0sXG4gIDExOiBbLTU0LjUsIDE5LjZdLFxuICAxMjogWzAsIDVdLFxuICAxMzogWzM2LjksIDQ5LjldLFxuICAxNDogWzY0LCA3N10sXG4gIDE1OiBbNzQsIDExNF0sXG4gIDE2OiBbNjQsIDE1MV0sXG4gIDE3OiBbMzcsIDE3OF0sXG4gIDE4OiBbMCwgMTg4XSxcbiAgMTk6IFstMzcsIDE3OF0sXG4gIDIwOiBbLTY0LCAxNTFdLFxuICAyMTogWy03NCwgMTE0XSxcbiAgMjI6IFstNjQsIDc3XSxcbiAgMjM6IFstMzcsIDUwXVxufTtcblxudmFyIENsb2NrTnVtYmVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKENsb2NrTnVtYmVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIENsb2NrTnVtYmVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuZ2V0VHJhbnNmb3JtU3R5bGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IHBvc2l0aW9uc1tpbmRleF07XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiICsgcG9zaXRpb25bMF0gKyBcInB4LCBcIiArIHBvc2l0aW9uWzFdICsgXCJweFwiXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9ja051bWJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIHNlbGVjdGVkID0gX2Iuc2VsZWN0ZWQsXG4gICAgICAgIGxhYmVsID0gX2IubGFiZWwsXG4gICAgICAgIGluZGV4ID0gX2IuaW5kZXgsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBpc0lubmVyID0gX2IuaXNJbm5lcjtcbiAgICB2YXIgY2xhc3NOYW1lID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMuY2xvY2tOdW1iZXIsIChfYSA9IHt9LCBfYVtjbGFzc2VzLnNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYSkpO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0LmEsIHtcbiAgICAgIHZhcmlhbnQ6IGlzSW5uZXIgPyAnYm9keTEnIDogJ3N1YnRpdGxlMScsXG4gICAgICBjb21wb25lbnQ6IFwic3BhblwiLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogdGhpcy5nZXRUcmFuc2Zvcm1TdHlsZShpbmRleClcbiAgICB9LCBsYWJlbCk7XG4gIH07XG5cbiAgIGZhbHNlID8gQ2xvY2tOdW1iZXIucHJvcFR5cGVzID0ge1xuICAgIGluZGV4OiBudW1iZXIuaXNSZXF1aXJlZCxcbiAgICBsYWJlbDogc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgc2VsZWN0ZWQ6IGJvb2wuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpc0lubmVyOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgQ2xvY2tOdW1iZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGlzSW5uZXI6IGZhbHNlXG4gIH07XG4gIHJldHVybiBDbG9ja051bWJlcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJDb21wb25lbnRcIl0pO1xudmFyIHN0eWxlcyRjID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHZhciBzaXplID0gdGhlbWUuc3BhY2luZy51bml0ICogNDtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgY2xvY2tOdW1iZXI6IHtcbiAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBsZWZ0OiBcImNhbGMoNTAlIC0gXCIgKyBzaXplIC8gMiArIFwicHgpXCIsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0JyA/IHRoZW1lLnBhbGV0dGUudGV4dC5wcmltYXJ5IDogdGhlbWUucGFsZXR0ZS50ZXh0LmhpbnRcbiAgICB9LFxuICAgIHNlbGVjdGVkOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGVcbiAgICB9XG4gIH0pO1xufTtcbnZhciBDbG9ja051bWJlciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkYywge1xuICBuYW1lOiAnTXVpUGlja2Vyc0Nsb2NrTnVtYmVyJ1xufSkoQ2xvY2tOdW1iZXIpO1xuXG52YXIgZ2V0SG91ck51bWJlcnMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGFtcG0gPSBfYS5hbXBtLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIGRhdGUgPSBfYS5kYXRlO1xuICB2YXIgY3VycmVudEhvdXJzID0gdXRpbHMuZ2V0SG91cnMoZGF0ZSk7XG4gIHZhciBob3VyTnVtYmVycyA9IFtdO1xuICB2YXIgc3RhcnRIb3VyID0gYW1wbSA/IDEgOiAwO1xuICB2YXIgZW5kSG91ciA9IGFtcG0gPyAxMiA6IDIzO1xuXG4gIHZhciBpc1NlbGVjdGVkID0gZnVuY3Rpb24gKGhvdXIpIHtcbiAgICBpZiAoYW1wbSkge1xuICAgICAgaWYgKGhvdXIgPT09IDEyKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50SG91cnMgPT09IDEyIHx8IGN1cnJlbnRIb3VycyA9PT0gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGN1cnJlbnRIb3VycyA9PT0gaG91ciB8fCBjdXJyZW50SG91cnMgLSAxMiA9PT0gaG91cjtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudEhvdXJzID09PSBob3VyO1xuICB9O1xuXG4gIGZvciAodmFyIGhvdXIgPSBzdGFydEhvdXI7IGhvdXIgPD0gZW5kSG91cjsgaG91ciArPSAxKSB7XG4gICAgdmFyIGxhYmVsID0gaG91ci50b1N0cmluZygpO1xuXG4gICAgaWYgKGhvdXIgPT09IDApIHtcbiAgICAgIGxhYmVsID0gJzAwJztcbiAgICB9XG5cbiAgICB2YXIgcHJvcHMgPSB7XG4gICAgICBpbmRleDogaG91cixcbiAgICAgIGxhYmVsOiB1dGlscy5mb3JtYXROdW1iZXIobGFiZWwpLFxuICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQoaG91ciksXG4gICAgICBpc0lubmVyOiAhYW1wbSAmJiAoaG91ciA9PT0gMCB8fCBob3VyID4gMTIpXG4gICAgfTtcbiAgICBob3VyTnVtYmVycy5wdXNoKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIGtleTogaG91clxuICAgIH0sIHByb3BzKSkpO1xuICB9XG5cbiAgcmV0dXJuIGhvdXJOdW1iZXJzO1xufTtcbnZhciBnZXRNaW51dGVzTnVtYmVycyA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gIHZhciBmID0gdXRpbHMuZm9ybWF0TnVtYmVyO1xuICByZXR1cm4gW09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMDAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDAsXG4gICAgaW5kZXg6IDEyLFxuICAgIGtleTogMTJcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMDUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDUsXG4gICAgaW5kZXg6IDEsXG4gICAga2V5OiAxXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzEwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAxMCxcbiAgICBpbmRleDogMixcbiAgICBrZXk6IDJcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMTUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDE1LFxuICAgIGluZGV4OiAzLFxuICAgIGtleTogM1xuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcyMCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMjAsXG4gICAgaW5kZXg6IDQsXG4gICAga2V5OiA0XG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzI1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAyNSxcbiAgICBpbmRleDogNSxcbiAgICBrZXk6IDVcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMzAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDMwLFxuICAgIGluZGV4OiA2LFxuICAgIGtleTogNlxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCczNScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMzUsXG4gICAgaW5kZXg6IDcsXG4gICAga2V5OiA3XG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzQwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA0MCxcbiAgICBpbmRleDogOCxcbiAgICBrZXk6IDhcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNDUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDQ1LFxuICAgIGluZGV4OiA5LFxuICAgIGtleTogOVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCc1MCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNTAsXG4gICAgaW5kZXg6IDEwLFxuICAgIGtleTogMTBcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNTUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDU1LFxuICAgIGluZGV4OiAxMSxcbiAgICBrZXk6IDExXG4gIH0pXTtcbn07XG5cbnZhciBUaW1lUGlja2VyVmlldyA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShUaW1lUGlja2VyVmlldywgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBUaW1lUGlja2VyVmlldygpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmdldFZpZXdQcm9wcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICAgIGFtcG0gPSBfYS5hbXBtLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG5cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIENsb2NrVHlwZSQxLkhPVVJTOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogdXRpbHMuZ2V0SG91cnMoZGF0ZSksXG4gICAgICAgICAgICBjaGlsZHJlbjogZ2V0SG91ck51bWJlcnMoe1xuICAgICAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgICAgICBhbXBtOiBCb29sZWFuKGFtcG0pLFxuICAgICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzLmhhbmRsZUhvdXJDaGFuZ2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgQ2xvY2tUeXBlJDEuTUlOVVRFUzpcbiAgICAgICAgICB2YXIgbWludXRlc1ZhbHVlID0gdXRpbHMuZ2V0TWludXRlcyhkYXRlKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IG1pbnV0ZXNWYWx1ZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBnZXRNaW51dGVzTnVtYmVycyh7XG4gICAgICAgICAgICAgIHZhbHVlOiBtaW51dGVzVmFsdWUsXG4gICAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMuaGFuZGxlTWludXRlc0NoYW5nZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSBDbG9ja1R5cGUkMS5TRUNPTkRTOlxuICAgICAgICAgIHZhciBzZWNvbmRzVmFsdWUgPSB1dGlscy5nZXRTZWNvbmRzKGRhdGUpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogc2Vjb25kc1ZhbHVlLFxuICAgICAgICAgICAgY2hpbGRyZW46IGdldE1pbnV0ZXNOdW1iZXJzKHtcbiAgICAgICAgICAgICAgdmFsdWU6IHNlY29uZHNWYWx1ZSxcbiAgICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlXG4gICAgICAgICAgfTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSB0aGUgdHlwZSBmb3IgVGltZVBpY2tlclZpZXcnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlSG91ckNoYW5nZSA9IGZ1bmN0aW9uIChob3VycywgaXNGaW5pc2gpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgdXBkYXRlZFRpbWUgPSB1dGlscy5zZXRIb3VycyhkYXRlLCBob3Vycyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uSG91ckNoYW5nZSh1cGRhdGVkVGltZSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlID0gZnVuY3Rpb24gKG1pbnV0ZXMsIGlzRmluaXNoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIHVwZGF0ZWRUaW1lID0gdXRpbHMuc2V0TWludXRlcyhkYXRlLCBtaW51dGVzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25NaW51dGVzQ2hhbmdlKHVwZGF0ZWRUaW1lLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVNlY29uZHNDaGFuZ2UgPSBmdW5jdGlvbiAoc2Vjb25kcywgaXNGaW5pc2gpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgdXBkYXRlZFRpbWUgPSB1dGlscy5zZXRTZWNvbmRzKGRhdGUsIHNlY29uZHMpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vblNlY29uZHNDaGFuZ2UodXBkYXRlZFRpbWUsIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVGltZVBpY2tlclZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBhbXBtID0gX2EuYW1wbSxcbiAgICAgICAgdHlwZSA9IF9hLnR5cGU7XG4gICAgdmFyIHZpZXdQcm9wcyA9IHRoaXMuZ2V0Vmlld1Byb3BzKCk7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBhbXBtOiBhbXBtXG4gICAgfSwgdmlld1Byb3BzKSk7XG4gIH07XG5cbiAgIGZhbHNlID8gVGltZVBpY2tlclZpZXcucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uSG91ckNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uTWludXRlc0NoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uU2Vjb25kc0NoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbXBtOiBib29sLFxuICAgIHR5cGU6IG9uZU9mKE9iamVjdC5rZXlzKENsb2NrVHlwZSQxKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIENsb2NrVHlwZSQxW2tleV07XG4gICAgfSkpLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgVGltZVBpY2tlclZpZXcuZGVmYXVsdFByb3BzID0ge1xuICAgIGFtcG06IHRydWVcbiAgfTtcbiAgcmV0dXJuIFRpbWVQaWNrZXJWaWV3O1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xudmFyIFRpbWVQaWNrZXJWaWV3JDEgPSB3aXRoVXRpbHMoKShUaW1lUGlja2VyVmlldyk7XG5cbnZhciBUaW1lUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKFRpbWVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gVGltZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLkhPVVJTLFxuICAgICAgbWVyaWRpZW1Nb2RlOiBfdGhpcy5wcm9wcy51dGlscy5nZXRIb3VycyhfdGhpcy5wcm9wcy5kYXRlKSA+PSAxMiA/ICdwbScgOiAnYW0nXG4gICAgfTtcblxuICAgIF90aGlzLnNldE1lcmlkaWVtTW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbWVyaWRpZW1Nb2RlOiBtb2RlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgICAgIHRpbWU6IF90aGlzLnByb3BzLmRhdGUsXG4gICAgICAgICAgICBpc0ZpbmlzaDogZmFsc2UsXG4gICAgICAgICAgICBvcGVuTWludXRlczogZmFsc2UsXG4gICAgICAgICAgICBvcGVuU2Vjb25kczogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgIHZhciB0aW1lID0gX2EudGltZSxcbiAgICAgICAgICBpc0ZpbmlzaCA9IF9hLmlzRmluaXNoLFxuICAgICAgICAgIG9wZW5NaW51dGVzID0gX2Eub3Blbk1pbnV0ZXMsXG4gICAgICAgICAgb3BlblNlY29uZHMgPSBfYS5vcGVuU2Vjb25kcztcbiAgICAgIHZhciB3aXRoTWVyaWRpZW0gPSBjb252ZXJ0VG9NZXJpZGllbSh0aW1lLCBfdGhpcy5zdGF0ZS5tZXJpZGllbU1vZGUsIEJvb2xlYW4oX3RoaXMucHJvcHMuYW1wbSksIF90aGlzLnByb3BzLnV0aWxzKTtcblxuICAgICAgaWYgKGlzRmluaXNoKSB7XG4gICAgICAgIGlmICghb3Blbk1pbnV0ZXMgJiYgIW9wZW5TZWNvbmRzKSB7XG4gICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uod2l0aE1lcmlkaWVtLCBpc0ZpbmlzaCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3Blbk1pbnV0ZXMpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuTWludXRlc1ZpZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVuU2Vjb25kcykge1xuICAgICAgICAgIF90aGlzLm9wZW5TZWNvbmRzVmlldygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHdpdGhNZXJpZGllbSwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVIb3VyQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBpc0ZpbmlzaDogaXNGaW5pc2gsXG4gICAgICAgIG9wZW5NaW51dGVzOiB0cnVlLFxuICAgICAgICBvcGVuU2Vjb25kczogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBpc0ZpbmlzaDogaXNGaW5pc2gsXG4gICAgICAgIG9wZW5NaW51dGVzOiBmYWxzZSxcbiAgICAgICAgb3BlblNlY29uZHM6IEJvb2xlYW4oX3RoaXMucHJvcHMuc2Vjb25kcylcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBpc0ZpbmlzaDogaXNGaW5pc2gsXG4gICAgICAgIG9wZW5NaW51dGVzOiBmYWxzZSxcbiAgICAgICAgb3BlblNlY29uZHM6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblNlY29uZHNWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuVmlldzogQ2xvY2tUeXBlJDEuU0VDT05EU1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5NaW51dGVzVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLk1JTlVURVNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuSG91clZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5IT1VSU1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRpbWVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgdGhlbWUgPSBfYi50aGVtZSxcbiAgICAgICAgZGF0ZSA9IF9iLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2IudXRpbHMsXG4gICAgICAgIGFtcG0gPSBfYi5hbXBtLFxuICAgICAgICBzZWNvbmRzID0gX2Iuc2Vjb25kcztcbiAgICB2YXIgX2MgPSB0aGlzLnN0YXRlLFxuICAgICAgICBtZXJpZGllbU1vZGUgPSBfYy5tZXJpZGllbU1vZGUsXG4gICAgICAgIG9wZW5WaWV3ID0gX2Mub3BlblZpZXc7XG4gICAgdmFyIHJ0bCA9IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG4gICAgdmFyIGhvdXJNaW51dGVDbGFzc05hbWUgPSBydGwgPyBjbGFzc2VzLmhvdXJNaW51dGVMYWJlbFJldmVyc2UgOiBjbGFzc2VzLmhvdXJNaW51dGVMYWJlbDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJGcmFnbWVudFwiXSwgbnVsbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoUGlja2VyVG9vbGJhciQxLCB7XG4gICAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnRvb2xiYXIsIChfYSA9IHt9LCBfYVtjbGFzc2VzLnRvb2xiYXJMZWZ0UGFkZGluZ10gPSBhbXBtLCBfYSkpXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBob3VyTWludXRlQ2xhc3NOYW1lXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5Ib3VyVmlldyxcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0SG91clRleHQoZGF0ZSwgQm9vbGVhbihhbXBtKSlcbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBsYWJlbDogXCI6XCIsXG4gICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc2VwYXJhdG9yXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuTWludXRlc1ZpZXcsXG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IENsb2NrVHlwZSQxLk1JTlVURVMsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0TWludXRlVGV4dChkYXRlKVxuICAgIH0pLCBzZWNvbmRzICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgbGFiZWw6IFwiOlwiLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlcGFyYXRvclxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlblNlY29uZHNWaWV3LFxuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBDbG9ja1R5cGUkMS5TRUNPTkRTLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldFNlY29uZFRleHQoZGF0ZSlcbiAgICB9KSkpLCBhbXBtICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogc2Vjb25kcyA/IGNsYXNzZXMuYW1wbVNlbGVjdGlvbldpdGhTZWNvbmRzIDogY2xhc3Nlcy5hbXBtU2VsZWN0aW9uXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ2FtJyxcbiAgICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdhbScpLFxuICAgICAgb25DbGljazogdGhpcy5zZXRNZXJpZGllbU1vZGUoJ2FtJylcbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ3BtJyxcbiAgICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdwbScpLFxuICAgICAgb25DbGljazogdGhpcy5zZXRNZXJpZGllbU1vZGUoJ3BtJylcbiAgICB9KSkpLCB0aGlzLnByb3BzLmNoaWxkcmVuLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUaW1lUGlja2VyVmlldyQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgdHlwZTogdGhpcy5zdGF0ZS5vcGVuVmlldyxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBvbkhvdXJDaGFuZ2U6IHRoaXMuaGFuZGxlSG91ckNoYW5nZSxcbiAgICAgIG9uTWludXRlc0NoYW5nZTogdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlLFxuICAgICAgb25TZWNvbmRzQ2hhbmdlOiB0aGlzLmhhbmRsZVNlY29uZHNDaGFuZ2VcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gVGltZVBpY2tlci5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IG5vZGUsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGFtcG06IGJvb2wsXG4gICAgc2Vjb25kczogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIFRpbWVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGNoaWxkcmVuOiBudWxsLFxuICAgIGFtcG06IHRydWUsXG4gICAgc2Vjb25kczogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIFRpbWVQaWNrZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgIH0sXG4gICAgdG9vbGJhckxlZnRQYWRkaW5nOiB7XG4gICAgICBwYWRkaW5nTGVmdDogNTBcbiAgICB9LFxuICAgIHNlcGFyYXRvcjoge1xuICAgICAgbWFyZ2luOiAnMCA0cHggMCAycHgnLFxuICAgICAgY3Vyc29yOiAnZGVmYXVsdCdcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb246IHtcbiAgICAgIG1hcmdpbkxlZnQ6IDIwLFxuICAgICAgbWFyZ2luUmlnaHQ6IC0yMFxuICAgIH0sXG4gICAgYW1wbVNlbGVjdGlvbldpdGhTZWNvbmRzOiB7XG4gICAgICBtYXJnaW5MZWZ0OiAxNSxcbiAgICAgIG1hcmdpblJpZ2h0OiAxMFxuICAgIH0sXG4gICAgYW1wbUxhYmVsOiB7XG4gICAgICBmb250U2l6ZTogMThcbiAgICB9LFxuICAgIGhvdXJNaW51dGVMYWJlbDoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnXG4gICAgfSxcbiAgICBob3VyTWludXRlTGFiZWxSZXZlcnNlOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnXG4gICAgfVxuICB9KTtcbn07XG52YXIgVGltZVBpY2tlciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkZCwge1xuICB3aXRoVGhlbWU6IHRydWUsXG4gIG5hbWU6ICdNdWlQaWNrZXJzVGltZVBpY2tlcidcbn0pKHdpdGhVdGlscygpKFRpbWVQaWNrZXIpKTtcblxudmFyIFRpbWVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIHNlY29uZHMgPSBwcm9wcy5zZWNvbmRzLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiYXV0b09rXCIsIFwib25DaGFuZ2VcIiwgXCJhbXBtXCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwic2Vjb25kc1wiXSk7XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKEJhc2VQaWNrZXIkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgIG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2U6IHRydWVcbiAgfSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVDbGVhciA9IF9hLmhhbmRsZUNsZWFyLFxuICAgICAgICBoYW5kbGVEaXNtaXNzID0gX2EuaGFuZGxlRGlzbWlzcyxcbiAgICAgICAgaGFuZGxlU2V0VG9kYXlEYXRlID0gX2EuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQ7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKE1vZGFsV3JhcHBlciwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBvbkNsZWFyOiBoYW5kbGVDbGVhcixcbiAgICAgIG9uQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgb25EaXNtaXNzOiBoYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLnRpbWUxMmhGb3JtYXQsIHV0aWxzLnRpbWUyNGhGb3JtYXQpXG4gICAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUaW1lUGlja2VyJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIHNlY29uZHM6IHNlY29uZHNcbiAgICB9KSk7XG4gIH0pO1xufTtcbiBmYWxzZSA/IFRpbWVQaWNrZXJNb2RhbC5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogYm9vbCxcbiAgYW1wbTogYm9vbCxcbiAgc2Vjb25kczogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuVGltZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhbXBtOiB0cnVlLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgc2Vjb25kczogZmFsc2Vcbn07XG52YXIgVGltZVBpY2tlck1vZGFsJDEgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJmb3J3YXJkUmVmXCJdKShmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVGltZVBpY2tlck1vZGFsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIFRpbWVQaWNrZXJJbmxpbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgYW1wbSA9IHByb3BzLmFtcG0sXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBzZWNvbmRzID0gcHJvcHMuc2Vjb25kcyxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcIm9uQ2hhbmdlXCIsIFwiYW1wbVwiLCBcImZvcndhcmRlZFJlZlwiLCBcInNlY29uZHNcIl0pO1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShCYXNlUGlja2VyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICBtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlOiB0cnVlLFxuICAgIGF1dG9PazogdHJ1ZVxuICB9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoSW5saW5lV3JhcHBlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBpbm5lclJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBoYW5kbGVBY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLnRpbWUxMmhGb3JtYXQsIHV0aWxzLnRpbWUyNGhGb3JtYXQpXG4gICAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUaW1lUGlja2VyJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIHNlY29uZHM6IHNlY29uZHNcbiAgICB9KSk7XG4gIH0pO1xufTtcbiBmYWxzZSA/IFRpbWVQaWNrZXJJbmxpbmUucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhbXBtOiBib29sLFxuICBzZWNvbmRzOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5UaW1lUGlja2VySW5saW5lLmRlZmF1bHRQcm9wcyA9IHtcbiAgYW1wbTogdHJ1ZSxcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgc2Vjb25kczogZmFsc2Vcbn07XG52YXIgVGltZVBpY2tlcklubGluZSQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRpbWVQaWNrZXJJbmxpbmUsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJWaWV3O1xuXG4oZnVuY3Rpb24gKERhdGVUaW1lUGlja2VyVmlldykge1xuICBEYXRlVGltZVBpY2tlclZpZXdbXCJZRUFSXCJdID0gXCJ5ZWFyXCI7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIkRBVEVcIl0gPSBcImRhdGVcIjtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiSE9VUlwiXSA9IFwiaG91cnNcIjtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiTUlOVVRFU1wiXSA9IFwibWludXRlc1wiO1xufSkoRGF0ZVRpbWVQaWNrZXJWaWV3IHx8IChEYXRlVGltZVBpY2tlclZpZXcgPSB7fSkpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJWaWV3JDEgPSBEYXRlVGltZVBpY2tlclZpZXc7XG5cbnZhciBzdHlsZXMkZSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCgpKHtcbiAgICB0b29sYmFyOiB7XG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgcGFkZGluZ0xlZnQ6IDE2LFxuICAgICAgcGFkZGluZ1JpZ2h0OiAxNixcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYXJvdW5kJ1xuICAgIH0sXG4gICAgc2VwYXJhdG9yOiB7XG4gICAgICBtYXJnaW46ICcwIDRweCAwIDJweCcsXG4gICAgICBjdXJzb3I6ICdkZWZhdWx0J1xuICAgIH0sXG4gICAgYW1wbVNlbGVjdGlvbjoge1xuICAgICAgdG9wOiA5LFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICBtYXJnaW5MZWZ0OiAxMCxcbiAgICAgIG1hcmdpblJpZ2h0OiAtMTBcbiAgICB9LFxuICAgIGFtcG1MYWJlbDoge1xuICAgICAgZm9udFNpemU6IDE4XG4gICAgfSxcbiAgICBob3VyTWludXRlTGFiZWw6IHtcbiAgICAgIHRvcDogNSxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgZmxleERpcmVjdGlvbjogdGhlbWUuZGlyZWN0aW9uID09PSAncnRsJyA/ICdyb3ctcmV2ZXJzZScgOiAncm93J1xuICAgIH0sXG4gICAgZGF0ZUhlYWRlcjoge1xuICAgICAgaGVpZ2h0OiA2MFxuICAgIH0sXG4gICAgdGltZUhlYWRlcjoge1xuICAgICAgaGVpZ2h0OiA2NSxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIERhdGVUaW1lUGlja2VySGVhZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgb3BlblZpZXcgPSBfYS5vcGVuVmlldyxcbiAgICAgIG1lcmlkaWVtTW9kZSA9IF9hLm1lcmlkaWVtTW9kZSxcbiAgICAgIG9uT3BlblZpZXdDaGFuZ2UgPSBfYS5vbk9wZW5WaWV3Q2hhbmdlLFxuICAgICAgc2V0TWVyaWRpZW1Nb2RlID0gX2Euc2V0TWVyaWRpZW1Nb2RlLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIGFtcG0gPSBfYS5hbXBtO1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoUGlja2VyVG9vbGJhciQxLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRvb2xiYXJcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kYXRlSGVhZGVyXG4gIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuWUVBUik7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLllFQVIsXG4gICAgbGFiZWw6IHV0aWxzLmdldFllYXJUZXh0KGRhdGUpXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImg0XCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURSk7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUsXG4gICAgbGFiZWw6IHV0aWxzLmdldERhdGVUaW1lUGlja2VySGVhZGVyVGV4dChkYXRlKVxuICB9KSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudGltZUhlYWRlclxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmhvdXJNaW51dGVMYWJlbFxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImgzXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuSE9VUik7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIsXG4gICAgbGFiZWw6IHV0aWxzLmdldEhvdXJUZXh0KGRhdGUsIGFtcG0pXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImgzXCIsXG4gICAgbGFiZWw6IFwiOlwiLFxuICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuc2VwYXJhdG9yXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImgzXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuTUlOVVRFUyk7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMsXG4gICAgbGFiZWw6IHV0aWxzLmdldE1pbnV0ZVRleHQoZGF0ZSlcbiAgfSkpLCBhbXBtICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbVNlbGVjdGlvblxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgIHNlbGVjdGVkOiBtZXJpZGllbU1vZGUgPT09ICdhbScsXG4gICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdhbScpLFxuICAgIG9uQ2xpY2s6IHNldE1lcmlkaWVtTW9kZSgnYW0nKVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICBzZWxlY3RlZDogbWVyaWRpZW1Nb2RlID09PSAncG0nLFxuICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgncG0nKSxcbiAgICBvbkNsaWNrOiBzZXRNZXJpZGllbU1vZGUoJ3BtJylcbiAgfSkpKSk7XG59O1xuIGZhbHNlID8gRGF0ZVRpbWVQaWNrZXJIZWFkZXIucHJvcFR5cGVzID0ge1xuICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIG1lcmlkaWVtTW9kZTogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9wZW5WaWV3OiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgb25PcGVuVmlld0NoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBzZXRNZXJpZGllbU1vZGU6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBhbXBtOiBib29sLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuRGF0ZVRpbWVQaWNrZXJIZWFkZXIuZGVmYXVsdFByb3BzID0ge1xuICBhbXBtOiB0cnVlXG59O1xudmFyIERhdGV0aW1lUGlja2VySGVhZGVyID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkZSwge1xuICBuYW1lOiAnTXVpUGlja2VyRFRIZWFkZXInXG59KSh3aXRoVXRpbHMoKShEYXRlVGltZVBpY2tlckhlYWRlcikpO1xuXG52YXIgdmlld1RvVGFiSW5kZXggPSBmdW5jdGlvbiAob3BlblZpZXcpIHtcbiAgaWYgKG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFIHx8IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSKSB7XG4gICAgcmV0dXJuICdkYXRlJztcbiAgfVxuXG4gIHJldHVybiAndGltZSc7XG59O1xuXG52YXIgdGFiSW5kZXhUb1ZpZXcgPSBmdW5jdGlvbiAodGFiKSB7XG4gIGlmICh0YWIgPT09ICdkYXRlJykge1xuICAgIHJldHVybiBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFO1xuICB9XG5cbiAgcmV0dXJuIERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVI7XG59O1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJUYWJzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2aWV3ID0gcHJvcHMudmlldyxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIHRoZW1lID0gcHJvcHMudGhlbWUsXG4gICAgICBkYXRlUmFuZ2VJY29uID0gcHJvcHMuZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uID0gcHJvcHMudGltZUljb247XG4gIHZhciBpbmRpY2F0b3JDb2xvciA9IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0JyA/ICdzZWNvbmRhcnknIDogJ3ByaW1hcnknO1xuXG4gIHZhciBoYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHZpZXdUb1RhYkluZGV4KHZpZXcpKSB7XG4gICAgICBvbkNoYW5nZSh0YWJJbmRleFRvVmlldyh2YWx1ZSkpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fbWF0ZXJpYWxfdWlfY29yZV9QYXBlcl9fX2RlZmF1bHQuYSwgbnVsbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX19fZGVmYXVsdC5hLCB7XG4gICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgIHZhbHVlOiB2aWV3VG9UYWJJbmRleCh2aWV3KSxcbiAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50YWJzLFxuICAgIGluZGljYXRvckNvbG9yOiBpbmRpY2F0b3JDb2xvclxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19tYXRlcmlhbF91aV9jb3JlX1RhYl9fX2RlZmF1bHQuYSwge1xuICAgIHZhbHVlOiBcImRhdGVcIixcbiAgICBpY29uOiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fX2RlZmF1bHQuYSwgbnVsbCwgZGF0ZVJhbmdlSWNvbilcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX21hdGVyaWFsX3VpX2NvcmVfVGFiX19fZGVmYXVsdC5hLCB7XG4gICAgdmFsdWU6IFwidGltZVwiLFxuICAgIGljb246IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX19fZGVmYXVsdC5hLCBudWxsLCB0aW1lSWNvbilcbiAgfSkpKTtcbn07XG4gZmFsc2UgPyBEYXRlVGltZVBpY2tlclRhYnMucHJvcFR5cGVzID0ge1xuICB2aWV3OiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIHRoZW1lOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgZGF0ZVJhbmdlSWNvbjogbm9kZS5pc1JlcXVpcmVkLFxuICB0aW1lSWNvbjogbm9kZS5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xudmFyIHN0eWxlcyRmID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdGFiczoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiA6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZFtcImRlZmF1bHRcIl1cbiAgICB9XG4gIH07XG59O1xudmFyIERhdGVUaW1lUGlja2VyVGFicyQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFRoZW1lX19fZGVmYXVsdCgpKCkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkZiwge1xuICBuYW1lOiAnTXVpUGlja2VyRFRUYWJzJ1xufSkoRGF0ZVRpbWVQaWNrZXJUYWJzKSk7XG5cbnZhciBEYXRlVGltZVBpY2tlclZpZXckMiA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgc2VsZWN0ZWQgPSBfYS5zZWxlY3RlZCxcbiAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47XG5cbiAgaWYgKCFzZWxlY3RlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgfSk7XG59O1xuIGZhbHNlID8gRGF0ZVRpbWVQaWNrZXJWaWV3JDIucHJvcFR5cGVzID0ge1xuICBzZWxlY3RlZDogYm9vbC5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoRGF0ZVRpbWVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVRpbWVQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW5WaWV3OiBfdGhpcy5wcm9wcy5vcGVuVG8sXG4gICAgICBtZXJpZGllbU1vZGU6IF90aGlzLnByb3BzLnV0aWxzLmdldEhvdXJzKF90aGlzLnByb3BzLmRhdGUpID49IDEyID8gJ3BtJyA6ICdhbSdcbiAgICB9O1xuXG4gICAgX3RoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gsIG5leHRWaWV3KSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh0aW1lKTtcblxuICAgICAgaWYgKGlzRmluaXNoICYmIF90aGlzLnByb3BzLmF1dG9TdWJtaXQpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlVmlld0NoYW5nZShuZXh0Vmlldyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnNldE1lcmlkaWVtTW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbWVyaWRpZW1Nb2RlOiBtb2RlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnByb3BzLmRhdGUsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVWaWV3Q2hhbmdlID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IHZpZXdcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlzRmluaXNoID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciB3aXRoTWVyaWRpZW0gPSBjb252ZXJ0VG9NZXJpZGllbSh0aW1lLCBfdGhpcy5zdGF0ZS5tZXJpZGllbU1vZGUsIEJvb2xlYW4oX3RoaXMucHJvcHMuYW1wbSksIF90aGlzLnByb3BzLnV0aWxzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uod2l0aE1lcmlkaWVtLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVllYXJDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgX3RoaXMub25DaGFuZ2UoZGF0ZSwgZmFsc2UsIERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVEYXlDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLm9uQ2hhbmdlKGRhdGUsIGlzRmluaXNoLCBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlSG91ckNoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMub25DaGFuZ2UodGltZSwgaXNGaW5pc2gsIERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXRlVGltZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIG9wZW5WaWV3ID0gX2Eub3BlblZpZXcsXG4gICAgICAgIG1lcmlkaWVtTW9kZSA9IF9hLm1lcmlkaWVtTW9kZTtcbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBkYXRlID0gX2IuZGF0ZSxcbiAgICAgICAgbWluRGF0ZSA9IF9iLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYi5tYXhEYXRlLFxuICAgICAgICBzaG93VGFicyA9IF9iLnNob3dUYWJzLFxuICAgICAgICBkaXNhYmxlUGFzdCA9IF9iLmRpc2FibGVQYXN0LFxuICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2IuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgbGVmdEFycm93SWNvbiA9IF9iLmxlZnRBcnJvd0ljb24sXG4gICAgICAgIHJpZ2h0QXJyb3dJY29uID0gX2IucmlnaHRBcnJvd0ljb24sXG4gICAgICAgIGRhdGVSYW5nZUljb24gPSBfYi5kYXRlUmFuZ2VJY29uLFxuICAgICAgICB0aW1lSWNvbiA9IF9iLnRpbWVJY29uLFxuICAgICAgICByZW5kZXJEYXkgPSBfYi5yZW5kZXJEYXksXG4gICAgICAgIGFtcG0gPSBfYi5hbXBtLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9iLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IF9iLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IF9iLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50ID0gX2IuVmlld0NvbnRhaW5lckNvbXBvbmVudDtcbiAgICB2YXIgQ29udGFpbmVyID0gVmlld0NvbnRhaW5lckNvbXBvbmVudDtcbiAgICB2YXIgVmlld0NvbnRhaW5lckNvbXBvbmVudFByb3BzID0gdHlwZW9mIFZpZXdDb250YWluZXJDb21wb25lbnQgPT09ICdzdHJpbmcnID8ge30gOiB7XG4gICAgICBvcGVuVmlldzogb3BlblZpZXcsXG4gICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZVxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGV0aW1lUGlja2VySGVhZGVyLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgb3BlblZpZXc6IG9wZW5WaWV3LFxuICAgICAgbWVyaWRpZW1Nb2RlOiBtZXJpZGllbU1vZGUsXG4gICAgICBzZXRNZXJpZGllbU1vZGU6IHRoaXMuc2V0TWVyaWRpZW1Nb2RlLFxuICAgICAgb25PcGVuVmlld0NoYW5nZTogdGhpcy5oYW5kbGVWaWV3Q2hhbmdlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0pLCBzaG93VGFicyAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGltZVBpY2tlclRhYnMkMSwge1xuICAgICAgdmlldzogb3BlblZpZXcsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVWaWV3Q2hhbmdlLFxuICAgICAgZGF0ZVJhbmdlSWNvbjogZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uOiB0aW1lSWNvblxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDb250YWluZXIsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBWaWV3Q29udGFpbmVyQ29tcG9uZW50UHJvcHMpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGltZVBpY2tlclZpZXckMiwge1xuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoWWVhclNlbGVjdGlvbiQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVZZWFyQ2hhbmdlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZ1xuICAgIH0pKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXJWaWV3JDIsIHtcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURVxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENhbGVuZGFyJDEsIHtcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZURheUNoYW5nZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGVcbiAgICB9KSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUaW1lUGlja2VyVmlldyQyLCB7XG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIgfHwgb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVNcbiAgICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUaW1lUGlja2VyVmlldyQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgdHlwZTogb3BlblZpZXcsXG4gICAgICBvbkhvdXJDaGFuZ2U6IHRoaXMuaGFuZGxlSG91ckNoYW5nZSxcbiAgICAgIG9uTWludXRlc0NoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICBvblNlY29uZHNDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0pKSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IERhdGVUaW1lUGlja2VyLnByb3BUeXBlcyA9IHtcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgICBhbXBtOiBib29sLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICAgIGF1dG9TdWJtaXQ6IGJvb2wsXG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW5pdGlhbEZvY3VzZWREYXRlOiBhbnksXG4gICAgaW5uZXJSZWY6IGFueSxcbiAgICBkYXRlUmFuZ2VJY29uOiBub2RlLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZS5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvcGVuVG86IG9uZU9mKE9iamVjdC5rZXlzKERhdGVUaW1lUGlja2VyVmlldyQxKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lUGlja2VyVmlldyQxW2tleV07XG4gICAgfSkpLmlzUmVxdWlyZWQsXG4gICAgcmVuZGVyRGF5OiBmdW5jLFxuICAgIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIHNob3dUYWJzOiBib29sLFxuICAgIHRpbWVJY29uOiBub2RlLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50OiBvbmVPZlR5cGUoW3N0cmluZywgZnVuYywgb2JqZWN0XSlcbiAgfSA6IHZvaWQgMDtcbiAgRGF0ZVRpbWVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBmYWxzZSxcbiAgICBhbXBtOiB0cnVlLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgICBhdXRvU3VibWl0OiB0cnVlLFxuICAgIGRhdGVSYW5nZUljb246IHVuZGVmaW5lZCxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gICAgbGVmdEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICAgIHJpZ2h0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgICBzaG93VGFiczogdHJ1ZSxcbiAgICB0aW1lSWNvbjogdW5kZWZpbmVkLFxuICAgIFZpZXdDb250YWluZXJDb21wb25lbnQ6ICdkaXYnXG4gIH07XG4gIHJldHVybiBEYXRlVGltZVBpY2tlcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJDb21wb25lbnRcIl0pO1xudmFyIERhdGVUaW1lUGlja2VyJDEgPSB3aXRoVXRpbHMoKShEYXRlVGltZVBpY2tlcik7XG5cbnZhciBEYXRlVGltZVBpY2tlck1vZGFsID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb3BlblRvID0gcHJvcHMub3BlblRvLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIHNob3dUYWJzID0gcHJvcHMuc2hvd1RhYnMsXG4gICAgICBhdXRvU3VibWl0ID0gcHJvcHMuYXV0b1N1Ym1pdCxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIGRhdGVSYW5nZUljb24gPSBwcm9wcy5kYXRlUmFuZ2VJY29uLFxuICAgICAgdGltZUljb24gPSBwcm9wcy50aW1lSWNvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBwcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gcHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiYXV0b09rXCIsIFwib3BlblRvXCIsIFwibWluRGF0ZVwiLCBcIm1heERhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJzaG93VGFic1wiLCBcImF1dG9TdWJtaXRcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJkYXRlUmFuZ2VJY29uXCIsIFwidGltZUljb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJhbXBtXCIsIFwic2hvdWxkRGlzYWJsZURhdGVcIiwgXCJhbmltYXRlWWVhclNjcm9sbGluZ1wiLCBcImZvcndhcmRlZFJlZlwiLCBcImFsbG93S2V5Ym9hcmRDb250cm9sXCJdKTsgLy8gZG8gbm90IHNob3cgdGFicyBmb3Igc21hbGwgc2NyZWVuc1xuXG5cbiAgdmFyIHRvU2hvd1RhYnMgPSBzaG93VGFicyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuaW5uZXJIZWlnaHQgPiA2Njc7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShCYXNlUGlja2VyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0LFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZUNsZWFyID0gX2EuaGFuZGxlQ2xlYXIsXG4gICAgICAgIGhhbmRsZURpc21pc3MgPSBfYS5oYW5kbGVEaXNtaXNzLFxuICAgICAgICBoYW5kbGVTZXRUb2RheURhdGUgPSBfYS5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdCA9IF9hLnBpY2sxMmhPcjI0aEZvcm1hdDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoTW9kYWxXcmFwcGVyLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBzaG93VGFiczogdG9TaG93VGFicyxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25BY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBvbkNsZWFyOiBoYW5kbGVDbGVhcixcbiAgICAgIG9uRGlzbWlzczogaGFuZGxlRGlzbWlzcyxcbiAgICAgIG9uU2V0VG9kYXk6IGhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy5kYXRlVGltZTEyaEZvcm1hdCwgdXRpbHMuZGF0ZVRpbWUyNGhGb3JtYXQpXG4gICAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGltZVBpY2tlciQxLCB7XG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgYXV0b1N1Ym1pdDogYXV0b1N1Ym1pdCxcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBkYXRlUmFuZ2VJY29uOiBkYXRlUmFuZ2VJY29uLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBvcGVuVG86IG9wZW5UbyxcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlLFxuICAgICAgc2hvd1RhYnM6IHRvU2hvd1RhYnMsXG4gICAgICB0aW1lSWNvbjogdGltZUljb25cbiAgICB9KSk7XG4gIH0pO1xufTtcbiBmYWxzZSA/IERhdGVUaW1lUGlja2VyTW9kYWwucHJvcFR5cGVzID0ge1xuICAvKiogRGF0ZS10aW1lIHBpY2tlciB2YWx1ZSAqL1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG5cbiAgLyoqIERhdGUgZm9ybWF0IHN0cmluZyBmb3IgaW5wdXQgKi9cbiAgZm9ybWF0OiBzdHJpbmcsXG5cbiAgLyoqIENhbGxiYWNrIGZpcmluZyB3aGVuIGRhdGUgYWNjZXB0ZWQgWyhkYXRlOiBEYXRlKSA9PiB2b2lkXSAqL1xuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKiBBdXRvIGFjY2VwdCBkYXRlIG9uIG1pbnV0ZSBzZWxlY3Rpb24gKi9cbiAgYXV0b09rOiBib29sLFxuXG4gIC8qKiBNb3ZlIHRvIHRoZSBuZXh0IHBhcnQgb2YgZGF0ZSBvbiBzZWxlY3QgKHllYXIgLT4gZGF0ZSAtPiBob3VyIC0+IG1pbnV0ZSkgKi9cbiAgYXV0b1N1Ym1pdDogYm9vbCxcblxuICAvKiogRGlzYWJsZSBmdXR1cmUgZGF0ZXMgKi9cbiAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcblxuICAvKiogRGlzYWJsZSBwYXN0IGRhdGVzICovXG4gIGRpc2FibGVQYXN0OiBib29sLFxuXG4gIC8qKiBNaW4gc2VsZWN0YWJsZSBkYXRlICovXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBNYXggc2VsZWN0YWJsZSBkYXRlICovXG4gIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBJbml0aWFsIGZvY3VzZWQgZGF0ZSB3aGVuIGNhbGVuZGFyIG9wZW5zLCBpZiBubyB2YWx1ZSBpcyBwcm92aWRlZCAqL1xuICBpbml0aWFsRm9jdXNlZERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBTaG93IGRhdGUvdGltZSB0YWJzICovXG4gIHNob3dUYWJzOiBib29sLFxuXG4gIC8qKiBMZWZ0IGFycm93IGljb24gKi9cbiAgbGVmdEFycm93SWNvbjogbm9kZSxcblxuICAvKiogUmlnaHQgYXJyb3cgaWNvbiAqL1xuICByaWdodEFycm93SWNvbjogbm9kZSxcblxuICAvKiogRGF0ZSB0YWIgaWNvbiAqL1xuICBkYXRlUmFuZ2VJY29uOiBub2RlLFxuXG4gIC8qKiBUaW1lIHRhYiBpY29uICovXG4gIHRpbWVJY29uOiBub2RlLFxuXG4gIC8qKlxuICAgKiBDdXN0b20gcmVuZGVyZXIgZm9yIGRheVxuICAgKiBbKGRhdGU6IERhdGUsIG5vd1NlbGVjdGVkRGF0ZTogRGF0ZSwgaXNJbkN1cnJlbnRNb250aDogYm9vbGVhbikgPT4gUmVhY3RFbGVtZW50XVxuICAgKi9cbiAgcmVuZGVyRGF5OiBmdW5jLFxuXG4gIC8qKiAxMmgvMjRoIHZpZXcgZm9yIGhvdXIgc2VsZWN0aW9uIGNsb2NrICovXG4gIGFtcG06IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgc3BlY2lmaWMgZGF0ZSBbKGRhdGU6IERhdGUpID0+IGJvb2xlYW5dICovXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuXG4gIC8qKiBFbmFibGUgYW5pbWF0ZWQgc2Nyb2xsaW5nIHRvIGN1cnJlbnQgeWVhciAqL1xuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcblxuICAvKiogT3BlbiBkaXJlY3RseSB0byBwYXJ0aWN1bGFyIHZpZXcgKi9cbiAgb3BlblRvOiBvbmVPZihbJ3llYXInLCAnZGF0ZScsICdob3VyJywgJ21pbnV0ZXMnXSksXG5cbiAgLyoqIEVuYWJsZXMga2V5Ym9hcmQgbGlzdGVuZXIgZm9yIG1vdmluZyBiZXR3ZWVuIGRheXMgaW4gY2FsZW5kYXIgKi9cbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcbkRhdGVUaW1lUGlja2VyTW9kYWwuZGVmYXVsdFByb3BzID0ge1xuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIGF1dG9PazogZmFsc2UsXG4gIGF1dG9TdWJtaXQ6IHRydWUsXG4gIG9wZW5UbzogJ2RhdGUnLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiB1bmRlZmluZWQsXG4gIHNob3dUYWJzOiB0cnVlLFxuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICBkYXRlUmFuZ2VJY29uOiAnZGF0ZV9yYW5nZScsXG4gIHRpbWVJY29uOiAnYWNjZXNzX3RpbWUnLFxuICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgYW1wbTogdHJ1ZSxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IHRydWVcbn07XG52YXIgRGF0ZVRpbWVQaWNrZXJNb2RhbCQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUaW1lUGlja2VyTW9kYWwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJJbmxpbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBvcGVuVG8gPSBwcm9wcy5vcGVuVG8sXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIG1heERhdGUgPSBwcm9wcy5tYXhEYXRlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gcHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlLFxuICAgICAgc2hvd1RhYnMgPSBwcm9wcy5zaG93VGFicyxcbiAgICAgIGF1dG9TdWJtaXQgPSBwcm9wcy5hdXRvU3VibWl0LFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgbGVmdEFycm93SWNvbiA9IHByb3BzLmxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbiA9IHByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgZGF0ZVJhbmdlSWNvbiA9IHByb3BzLmRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbiA9IHByb3BzLnRpbWVJY29uLFxuICAgICAgcmVuZGVyRGF5ID0gcHJvcHMucmVuZGVyRGF5LFxuICAgICAgYW1wbSA9IHByb3BzLmFtcG0sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gcHJvcHMuYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShwcm9wcywgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJhdXRvT2tcIiwgXCJvcGVuVG9cIiwgXCJtaW5EYXRlXCIsIFwibWF4RGF0ZVwiLCBcImluaXRpYWxGb2N1c2VkRGF0ZVwiLCBcInNob3dUYWJzXCIsIFwiYXV0b1N1Ym1pdFwiLCBcImRpc2FibGVQYXN0XCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImxlZnRBcnJvd0ljb25cIiwgXCJyaWdodEFycm93SWNvblwiLCBcImRhdGVSYW5nZUljb25cIiwgXCJ0aW1lSWNvblwiLCBcInJlbmRlckRheVwiLCBcImFtcG1cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwiYWxsb3dLZXlib2FyZENvbnRyb2xcIl0pO1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShCYXNlUGlja2VyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGF1dG9PazogdHJ1ZVxuICB9KSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdCA9IF9hLnBpY2sxMmhPcjI0aEZvcm1hdCxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0O1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShJbmxpbmVXcmFwcGVyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIGlubmVyUmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGhhbmRsZUFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgZm9ybWF0OiBwaWNrMTJoT3IyNGhGb3JtYXQodXRpbHMuZGF0ZVRpbWUxMmhGb3JtYXQsIHV0aWxzLmRhdGVUaW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXIkMSwge1xuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9TdWJtaXQ6IGF1dG9TdWJtaXQsXG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgZGF0ZVJhbmdlSWNvbjogZGF0ZVJhbmdlSWNvbixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvOiBvcGVuVG8sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHNob3dUYWJzOiBzaG93VGFicyxcbiAgICAgIHRpbWVJY29uOiB0aW1lSWNvblxuICAgIH0pKTtcbiAgfSk7XG59O1xuIGZhbHNlID8gRGF0ZVRpbWVQaWNrZXJJbmxpbmUucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IGJvb2wsXG4gIGF1dG9TdWJtaXQ6IGJvb2wsXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gIGRpc2FibGVQYXN0OiBib29sLFxuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIHNob3dUYWJzOiBib29sLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgZGF0ZVJhbmdlSWNvbjogbm9kZSxcbiAgdGltZUljb246IG5vZGUsXG4gIHJlbmRlckRheTogZnVuYyxcbiAgYW1wbTogYm9vbCxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICBvcGVuVG86IG9uZU9mKFsneWVhcicsICdkYXRlJywgJ2hvdXInLCAnbWludXRlcyddKSxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcbkRhdGVUaW1lUGlja2VySW5saW5lLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhdXRvU3VibWl0OiB0cnVlLFxuICBvcGVuVG86ICdkYXRlJyxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBzaG93VGFiczogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgZGF0ZVJhbmdlSWNvbjogJ2RhdGVfcmFuZ2UnLFxuICB0aW1lSWNvbjogJ2FjY2Vzc190aW1lJyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGFtcG06IHRydWUsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlXG59O1xudmFyIERhdGVUaW1lUGlja2VySW5saW5lJDEgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJmb3J3YXJkUmVmXCJdKShmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXJJbmxpbmUsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGVyaWFsLXVpLXBpY2tlcnMuZXNtLmpzLm1hcFxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDc4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBhZGRDbGFzcztcblxudmFyIF9oYXNDbGFzcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MDk3KSk7XG5cbmZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO2Vsc2UgaWYgKCEoMCwgX2hhc0NsYXNzLmRlZmF1bHQpKGVsZW1lbnQsIGNsYXNzTmFtZSkpIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgPT09ICdzdHJpbmcnKSBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnICsgY2xhc3NOYW1lO2Vsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKGVsZW1lbnQuY2xhc3NOYW1lICYmIGVsZW1lbnQuY2xhc3NOYW1lLmJhc2VWYWwgfHwgJycpICsgJyAnICsgY2xhc3NOYW1lKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwNzk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIHJlcGxhY2VDbGFzc05hbWUob3JpZ0NsYXNzLCBjbGFzc1RvUmVtb3ZlKSB7XG4gIHJldHVybiBvcmlnQ2xhc3MucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgY2xhc3NUb1JlbW92ZSArICcoPzpcXFxcc3wkKScsICdnJyksICckMScpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7ZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSByZXBsYWNlQ2xhc3NOYW1lKGVsZW1lbnQuY2xhc3NOYW1lLCBjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgcmVwbGFjZUNsYXNzTmFtZShlbGVtZW50LmNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8ICcnLCBjbGFzc05hbWUpKTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDgwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpO1xuXG52YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDk5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbnZhciBwcm9wVHlwZXMgPSB7XG4gIHRob3VzYW5kU2VwYXJhdG9yOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoW3RydWVdKV0pLFxuICBkZWNpbWFsU2VwYXJhdG9yOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICB0aG91c2FuZHNHcm91cFN0eWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWyd0aG91c2FuZCcsICdsYWtoJywgJ3dhbiddKSxcbiAgZGVjaW1hbFNjYWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLFxuICBmaXhlZERlY2ltYWxTY2FsZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIGRpc3BsYXlUeXBlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWydpbnB1dCcsICd0ZXh0J10pLFxuICBwcmVmaXg6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIHN1ZmZpeDogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcbiAgZm9ybWF0OiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY10pLFxuICByZW1vdmVGb3JtYXR0aW5nOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgbWFzazogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyldKSxcbiAgdmFsdWU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIsIF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmddKSxcbiAgZGVmYXVsdFZhbHVlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLCBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nXSksXG4gIGlzTnVtZXJpY1N0cmluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIGN1c3RvbUlucHV0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgYWxsb3dOZWdhdGl2ZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIGFsbG93RW1wdHlGb3JtYXR0aW5nOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcbiAgb25WYWx1ZUNoYW5nZTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uS2V5RG93bjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uTW91c2VVcDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgb25Gb2N1czogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uQmx1cjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIHR5cGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZihbJ3RleHQnLCAndGVsJywgJ3Bhc3N3b3JkJ10pLFxuICBpc0FsbG93ZWQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICByZW5kZXJUZXh0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgZ2V0SW5wdXRSZWY6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jXG59O1xudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzcGxheVR5cGU6ICdpbnB1dCcsXG4gIGRlY2ltYWxTZXBhcmF0b3I6ICcuJyxcbiAgdGhvdXNhbmRzR3JvdXBTdHlsZTogJ3Rob3VzYW5kJyxcbiAgZml4ZWREZWNpbWFsU2NhbGU6IGZhbHNlLFxuICBwcmVmaXg6ICcnLFxuICBzdWZmaXg6ICcnLFxuICBhbGxvd05lZ2F0aXZlOiB0cnVlLFxuICBhbGxvd0VtcHR5Rm9ybWF0dGluZzogZmFsc2UsXG4gIGlzTnVtZXJpY1N0cmluZzogZmFsc2UsXG4gIHR5cGU6ICd0ZXh0JyxcbiAgb25WYWx1ZUNoYW5nZTogX3V0aWxzLm5vb3AsXG4gIG9uQ2hhbmdlOiBfdXRpbHMubm9vcCxcbiAgb25LZXlEb3duOiBfdXRpbHMubm9vcCxcbiAgb25Nb3VzZVVwOiBfdXRpbHMubm9vcCxcbiAgb25Gb2N1czogX3V0aWxzLm5vb3AsXG4gIG9uQmx1cjogX3V0aWxzLm5vb3AsXG4gIGlzQWxsb3dlZDogX3V0aWxzLnJldHVyblRydWUsXG4gIGdldElucHV0UmVmOiBfdXRpbHMubm9vcFxufTtcblxudmFyIE51bWJlckZvcm1hdCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTnVtYmVyRm9ybWF0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBOdW1iZXJGb3JtYXQocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtYmVyRm9ybWF0KTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKE51bWJlckZvcm1hdCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7IC8vdmFsaWRhdGUgcHJvcHNcblxuICAgIF90aGlzLnZhbGlkYXRlUHJvcHMoKTtcblxuICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IF90aGlzLmZvcm1hdFZhbHVlUHJvcChkZWZhdWx0VmFsdWUpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICBudW1Bc1N0cmluZzogX3RoaXMucmVtb3ZlRm9ybWF0dGluZyhmb3JtYXR0ZWRWYWx1ZSlcbiAgICB9O1xuICAgIF90aGlzLnNlbGVjdGlvbkJlZm9yZUlucHV0ID0ge1xuICAgICAgc2VsZWN0aW9uU3RhcnQ6IDAsXG4gICAgICBzZWxlY3Rpb25FbmQ6IDBcbiAgICB9O1xuICAgIF90aGlzLm9uQ2hhbmdlID0gX3RoaXMub25DaGFuZ2UuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgX3RoaXMub25LZXlEb3duID0gX3RoaXMub25LZXlEb3duLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgIF90aGlzLm9uTW91c2VVcCA9IF90aGlzLm9uTW91c2VVcC5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICBfdGhpcy5vbkZvY3VzID0gX3RoaXMub25Gb2N1cy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICBfdGhpcy5vbkJsdXIgPSBfdGhpcy5vbkJsdXIuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE51bWJlckZvcm1hdCwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgIHRoaXMudXBkYXRlVmFsdWVJZlJlcXVpcmVkKHByZXZQcm9wcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVZhbHVlSWZSZXF1aXJlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWYWx1ZUlmUmVxdWlyZWQocHJldlByb3BzKSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBmb2N1c2VkRWxtID0gdGhpcy5mb2N1c2VkRWxtO1xuICAgICAgdmFyIHN0YXRlVmFsdWUgPSBzdGF0ZS52YWx1ZSxcbiAgICAgICAgICBfc3RhdGUkbnVtQXNTdHJpbmcgPSBzdGF0ZS5udW1Bc1N0cmluZyxcbiAgICAgICAgICBsYXN0TnVtU3RyID0gX3N0YXRlJG51bUFzU3RyaW5nID09PSB2b2lkIDAgPyAnJyA6IF9zdGF0ZSRudW1Bc1N0cmluZztcblxuICAgICAgaWYgKHByZXZQcm9wcyAhPT0gcHJvcHMpIHtcbiAgICAgICAgLy92YWxpZGF0ZSBwcm9wc1xuICAgICAgICB0aGlzLnZhbGlkYXRlUHJvcHMoKTtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZVdpdGhOZXdGb3JtYXQgPSB0aGlzLmZvcm1hdE51bVN0cmluZyhsYXN0TnVtU3RyKTtcbiAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gcHJvcHMudmFsdWUgPT09IHVuZGVmaW5lZCA/IGxhc3RWYWx1ZVdpdGhOZXdGb3JtYXQgOiB0aGlzLmZvcm1hdFZhbHVlUHJvcCgpO1xuICAgICAgICB2YXIgbnVtQXNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQobnVtQXNTdHJpbmcpO1xuICAgICAgICB2YXIgbGFzdEZsb2F0VmFsdWUgPSBwYXJzZUZsb2F0KGxhc3ROdW1TdHIpO1xuXG4gICAgICAgIGlmICggLy93aGlsZSB0eXBpbmcgc2V0IHN0YXRlIG9ubHkgd2hlbiBmbG9hdCB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICghaXNOYU4oZmxvYXRWYWx1ZSkgfHwgIWlzTmFOKGxhc3RGbG9hdFZhbHVlKSkgJiYgZmxvYXRWYWx1ZSAhPT0gbGFzdEZsb2F0VmFsdWUgfHwgLy9jYW4gYWxzbyBzZXQgc3RhdGUgd2hlbiBmbG9hdCB2YWx1ZSBpcyBzYW1lIGFuZCB0aGUgZm9ybWF0IHByb3BzIGNoYW5nZXNcbiAgICAgICAgbGFzdFZhbHVlV2l0aE5ld0Zvcm1hdCAhPT0gc3RhdGVWYWx1ZSB8fCAvL3NldCBzdGF0ZSBhbHdheXMgd2hlbiBub3QgaW4gZm9jdXMgYW5kIGZvcm1hdHRlZCB2YWx1ZSBpcyBjaGFuZ2VkXG4gICAgICAgIGZvY3VzZWRFbG0gPT09IG51bGwgJiYgZm9ybWF0dGVkVmFsdWUgIT09IHN0YXRlVmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlOiBmb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgICAgIG51bUFzU3RyaW5nOiBudW1Bc1N0cmluZyxcbiAgICAgICAgICAgIGlucHV0OiBmb2N1c2VkRWxtXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqIE1pc2MgbWV0aG9kcyAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldEZsb2F0U3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZsb2F0U3RyaW5nKCkge1xuICAgICAgdmFyIG51bSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICB2YXIgZGVjaW1hbFNjYWxlID0gdGhpcy5wcm9wcy5kZWNpbWFsU2NhbGU7XG5cbiAgICAgIHZhciBfdGhpcyRnZXRTZXBhcmF0b3JzID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgdmFyIG51bVJlZ2V4ID0gdGhpcy5nZXROdW1iZXJSZWdleCh0cnVlKTsgLy9yZW1vdmUgbmVnYXRpb24gZm9yIHJlZ2V4IGNoZWNrXG5cbiAgICAgIHZhciBoYXNOZWdhdGlvbiA9IG51bVswXSA9PT0gJy0nO1xuICAgICAgaWYgKGhhc05lZ2F0aW9uKSBudW0gPSBudW0ucmVwbGFjZSgnLScsICcnKTsgLy9pZiBkZWNpbWFsIHNjYWxlIGlzIHplcm8gcmVtb3ZlIGRlY2ltYWwgYW5kIG51bWJlciBhZnRlciBkZWNpbWFsU2VwYXJhdG9yXG5cbiAgICAgIGlmIChkZWNpbWFsU2VwYXJhdG9yICYmIGRlY2ltYWxTY2FsZSA9PT0gMCkge1xuICAgICAgICBudW0gPSBudW0uc3BsaXQoZGVjaW1hbFNlcGFyYXRvcilbMF07XG4gICAgICB9XG5cbiAgICAgIG51bSA9IChudW0ubWF0Y2gobnVtUmVnZXgpIHx8IFtdKS5qb2luKCcnKS5yZXBsYWNlKGRlY2ltYWxTZXBhcmF0b3IsICcuJyk7IC8vcmVtb3ZlIGV4dHJhIGRlY2ltYWxzXG5cbiAgICAgIHZhciBmaXJzdERlY2ltYWxJbmRleCA9IG51bS5pbmRleE9mKCcuJyk7XG5cbiAgICAgIGlmIChmaXJzdERlY2ltYWxJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgbnVtID0gXCJcIi5jb25jYXQobnVtLnN1YnN0cmluZygwLCBmaXJzdERlY2ltYWxJbmRleCksIFwiLlwiKS5jb25jYXQobnVtLnN1YnN0cmluZyhmaXJzdERlY2ltYWxJbmRleCArIDEsIG51bS5sZW5ndGgpLnJlcGxhY2UobmV3IFJlZ0V4cCgoMCwgX3V0aWxzLmVzY2FwZVJlZ0V4cCkoZGVjaW1hbFNlcGFyYXRvciksICdnJyksICcnKSk7XG4gICAgICB9IC8vYWRkIG5lZ2F0aW9uIGJhY2tcblxuXG4gICAgICBpZiAoaGFzTmVnYXRpb24pIG51bSA9ICctJyArIG51bTtcbiAgICAgIHJldHVybiBudW07XG4gICAgfSAvL3JldHVybmVkIHJlZ2V4IGFzc3VtZXMgZGVjaW1hbFNlcGFyYXRvciBpcyBhcyBwZXIgcHJvcFxuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TnVtYmVyUmVnZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TnVtYmVyUmVnZXgoZywgaWdub3JlRGVjaW1hbFNlcGFyYXRvcikge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wcy5mb3JtYXQsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHMuZGVjaW1hbFNjYWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczIgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczIuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ1xcXFxkJyArIChkZWNpbWFsU2VwYXJhdG9yICYmIGRlY2ltYWxTY2FsZSAhPT0gMCAmJiAhaWdub3JlRGVjaW1hbFNlcGFyYXRvciAmJiAhZm9ybWF0ID8gJ3wnICsgKDAsIF91dGlscy5lc2NhcGVSZWdFeHApKGRlY2ltYWxTZXBhcmF0b3IpIDogJycpLCBnID8gJ2cnIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U2VwYXJhdG9yc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZXBhcmF0b3JzKCkge1xuICAgICAgdmFyIGRlY2ltYWxTZXBhcmF0b3IgPSB0aGlzLnByb3BzLmRlY2ltYWxTZXBhcmF0b3I7XG4gICAgICB2YXIgdGhvdXNhbmRTZXBhcmF0b3IgPSB0aGlzLnByb3BzLnRob3VzYW5kU2VwYXJhdG9yO1xuXG4gICAgICBpZiAodGhvdXNhbmRTZXBhcmF0b3IgPT09IHRydWUpIHtcbiAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSAnLCc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlY2ltYWxTZXBhcmF0b3I6IGRlY2ltYWxTZXBhcmF0b3IsXG4gICAgICAgIHRob3VzYW5kU2VwYXJhdG9yOiB0aG91c2FuZFNlcGFyYXRvclxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TWFza0F0SW5kZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWFza0F0SW5kZXgoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyRtYXNrID0gdGhpcy5wcm9wcy5tYXNrLFxuICAgICAgICAgIG1hc2sgPSBfdGhpcyRwcm9wcyRtYXNrID09PSB2b2lkIDAgPyAnICcgOiBfdGhpcyRwcm9wcyRtYXNrO1xuXG4gICAgICBpZiAodHlwZW9mIG1hc2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBtYXNrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFza1tpbmRleF0gfHwgJyAnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRWYWx1ZU9iamVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZU9iamVjdChmb3JtYXR0ZWRWYWx1ZSwgbnVtQXNTdHJpbmcpIHtcbiAgICAgIHZhciBmbG9hdFZhbHVlID0gcGFyc2VGbG9hdChudW1Bc1N0cmluZyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgIHZhbHVlOiBudW1Bc1N0cmluZyxcbiAgICAgICAgZmxvYXRWYWx1ZTogaXNOYU4oZmxvYXRWYWx1ZSkgPyB1bmRlZmluZWQgOiBmbG9hdFZhbHVlXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ2YWxpZGF0ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMoKSB7XG4gICAgICB2YXIgbWFzayA9IHRoaXMucHJvcHMubWFzazsgLy92YWxpZGF0ZSBkZWNpbWFsU2VwYXJhdG9yIGFuZCB0aG91c2FuZFNlcGFyYXRvclxuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczMgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczMuZGVjaW1hbFNlcGFyYXRvcixcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMzLnRob3VzYW5kU2VwYXJhdG9yO1xuXG4gICAgICBpZiAoZGVjaW1hbFNlcGFyYXRvciA9PT0gdGhvdXNhbmRTZXBhcmF0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXFxuICAgICAgICAgIERlY2ltYWwgc2VwYXJhdG9yIGNhbid0IGJlIHNhbWUgYXMgdGhvdXNhbmQgc2VwYXJhdG9yLlxcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvcjogXCIuY29uY2F0KHRob3VzYW5kU2VwYXJhdG9yLCBcIiAodGhvdXNhbmRTZXBhcmF0b3IgPSB7dHJ1ZX0gaXMgc2FtZSBhcyB0aG91c2FuZFNlcGFyYXRvciA9IFxcXCIsXFxcIilcXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvcjogXCIpLmNvbmNhdChkZWNpbWFsU2VwYXJhdG9yLCBcIiAoZGVmYXVsdCB2YWx1ZSBmb3IgZGVjaW1hbFNlcGFyYXRvciBpcyAuKVxcbiAgICAgICBcIikpO1xuICAgICAgfSAvL3ZhbGlkYXRlIG1hc2tcblxuXG4gICAgICBpZiAobWFzaykge1xuICAgICAgICB2YXIgbWFza0FzU3RyID0gbWFzayA9PT0gJ3N0cmluZycgPyBtYXNrIDogbWFzay50b1N0cmluZygpO1xuXG4gICAgICAgIGlmIChtYXNrQXNTdHIubWF0Y2goL1xcZC9nKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcbiAgICAgICAgICBNYXNrIFwiLmNvbmNhdChtYXNrLCBcIiBzaG91bGQgbm90IGNvbnRhaW4gbnVtZXJpYyBjaGFyYWN0ZXI7XFxuICAgICAgICBcIikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBNaXNjIG1ldGhvZHMgZW5kICoqL1xuXG4gICAgLyoqIGNhcmV0IHNwZWNpZmljIG1ldGhvZHMgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRQYXRjaGVkQ2FyZXRQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3MsIGN1cnJlbnRWYWx1ZSkge1xuICAgICAgLyogc2V0dGluZyBjYXJldCBwb3NpdGlvbiB3aXRoaW4gdGltZW91dCBvZiAwbXMgaXMgcmVxdWlyZWQgZm9yIG1vYmlsZSBjaHJvbWUsXG4gICAgICBvdGhlcndpc2UgYnJvd3NlciByZXNldHMgdGhlIGNhcmV0IHBvc2l0aW9uIGFmdGVyIHdlIHNldCBpdFxuICAgICAgV2UgYXJlIGFsc28gc2V0dGluZyBpdCB3aXRob3V0IHRpbWVvdXQgc28gdGhhdCBpbiBub3JtYWwgYnJvd3NlciB3ZSBkb24ndCBzZWUgdGhlIGZsaWNrZXJpbmcgKi9cbiAgICAgICgwLCBfdXRpbHMuc2V0Q2FyZXRQb3NpdGlvbikoZWwsIGNhcmV0UG9zKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZWwudmFsdWUgPT09IGN1cnJlbnRWYWx1ZSkgKDAsIF91dGlscy5zZXRDYXJldFBvc2l0aW9uKShlbCwgY2FyZXRQb3MpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICAgIC8qIFRoaXMga2VlcHMgdGhlIGNhcmV0IHdpdGhpbiB0eXBpbmcgYXJlYSBzbyBwZW9wbGUgY2FuJ3QgdHlwZSBpbiBiZXR3ZWVuIHByZWZpeCBvciBzdWZmaXggKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvcnJlY3RDYXJldFBvc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBjYXJldFBvcywgZGlyZWN0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczIucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzMi5zdWZmaXgsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMyLmZvcm1hdDsgLy9pZiB2YWx1ZSBpcyBlbXB0eSByZXR1cm4gMFxuXG4gICAgICBpZiAodmFsdWUgPT09ICcnKSByZXR1cm4gMDsgLy9jYXJldCBwb3NpdGlvbiBzaG91bGQgYmUgYmV0d2VlbiAwIGFuZCB2YWx1ZSBsZW5ndGhcblxuICAgICAgY2FyZXRQb3MgPSAoMCwgX3V0aWxzLmNsYW1wKShjYXJldFBvcywgMCwgdmFsdWUubGVuZ3RoKTsgLy9pbiBjYXNlIG9mIGZvcm1hdCBhcyBudW1iZXIgbGltaXQgYmV0d2VlbiBwcmVmaXggYW5kIHN1ZmZpeFxuXG4gICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICB2YXIgaGFzTmVnYXRpb24gPSB2YWx1ZVswXSA9PT0gJy0nO1xuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5jbGFtcCkoY2FyZXRQb3MsIHByZWZpeC5sZW5ndGggKyAoaGFzTmVnYXRpb24gPyAxIDogMCksIHZhbHVlLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpO1xuICAgICAgfSAvL2luIGNhc2UgaWYgY3VzdG9tIGZvcm1hdCBtZXRob2QgZG9uJ3QgZG8gYW55dGhpbmdcblxuXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGNhcmV0UG9zO1xuICAgICAgLyogaW4gY2FzZSBmb3JtYXQgaXMgc3RyaW5nIGZpbmQgdGhlIGNsb3Nlc3QgIyBwb3NpdGlvbiBmcm9tIHRoZSBjYXJldCBwb3NpdGlvbiAqL1xuICAgICAgLy9pbiBjYXNlIHRoZSBjYXJldFBvcyBoYXZlIGlucHV0IHZhbHVlIG9uIGl0IGRvbid0IGRvIGFueXRoaW5nXG5cbiAgICAgIGlmIChmb3JtYXRbY2FyZXRQb3NdID09PSAnIycgJiYgKDAsIF91dGlscy5jaGFySXNOdW1iZXIpKHZhbHVlW2NhcmV0UG9zXSkpIHJldHVybiBjYXJldFBvczsgLy9pZiBjYXJldFBvcyBpcyBqdXN0IGFmdGVyIGlucHV0IHZhbHVlIGRvbid0IGRvIGFueXRoaW5nXG5cbiAgICAgIGlmIChmb3JtYXRbY2FyZXRQb3MgLSAxXSA9PT0gJyMnICYmICgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldFBvcyAtIDFdKSkgcmV0dXJuIGNhcmV0UG9zOyAvL2ZpbmQgdGhlIG5lYXJlc3QgY2FyZXQgcG9zaXRpb25cblxuICAgICAgdmFyIGZpcnN0SGFzaFBvc2l0aW9uID0gZm9ybWF0LmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBsYXN0SGFzaFBvc2l0aW9uID0gZm9ybWF0Lmxhc3RJbmRleE9mKCcjJyk7IC8vbGltaXQgdGhlIGN1cnNvciBiZXR3ZWVuIHRoZSBmaXJzdCAjIHBvc2l0aW9uIGFuZCB0aGUgbGFzdCAjIHBvc2l0aW9uXG5cbiAgICAgIGNhcmV0UG9zID0gKDAsIF91dGlscy5jbGFtcCkoY2FyZXRQb3MsIGZpcnN0SGFzaFBvc2l0aW9uLCBsYXN0SGFzaFBvc2l0aW9uICsgMSk7XG4gICAgICB2YXIgbmV4dFBvcyA9IGZvcm1hdC5zdWJzdHJpbmcoY2FyZXRQb3MsIGZvcm1hdC5sZW5ndGgpLmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBjYXJldExlZnRCb3VuZCA9IGNhcmV0UG9zO1xuICAgICAgdmFyIGNhcmV0UmlnaHRCb3VuZCA9IGNhcmV0UG9zICsgKG5leHRQb3MgPT09IC0xID8gMCA6IG5leHRQb3MpOyAvL2dldCB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIGxhc3QgbnVtYmVyIGlzIHByZXNlbnRcblxuICAgICAgd2hpbGUgKGNhcmV0TGVmdEJvdW5kID4gZmlyc3RIYXNoUG9zaXRpb24gJiYgKGZvcm1hdFtjYXJldExlZnRCb3VuZF0gIT09ICcjJyB8fCAhKDAsIF91dGlscy5jaGFySXNOdW1iZXIpKHZhbHVlW2NhcmV0TGVmdEJvdW5kXSkpKSB7XG4gICAgICAgIGNhcmV0TGVmdEJvdW5kIC09IDE7XG4gICAgICB9XG5cbiAgICAgIHZhciBnb1RvTGVmdCA9ICEoMCwgX3V0aWxzLmNoYXJJc051bWJlcikodmFsdWVbY2FyZXRSaWdodEJvdW5kXSkgfHwgZGlyZWN0aW9uID09PSAnbGVmdCcgJiYgY2FyZXRQb3MgIT09IGZpcnN0SGFzaFBvc2l0aW9uIHx8IGNhcmV0UG9zIC0gY2FyZXRMZWZ0Qm91bmQgPCBjYXJldFJpZ2h0Qm91bmQgLSBjYXJldFBvcztcblxuICAgICAgaWYgKGdvVG9MZWZ0KSB7XG4gICAgICAgIC8vY2hlY2sgaWYgbnVtYmVyIHNob3VsZCBiZSB0YWtlbiBhZnRlciB0aGUgYm91bmQgb3IgYWZ0ZXIgaXRcbiAgICAgICAgLy9pZiBudW1iZXIgcHJlY2VkaW5nIGEgdmFsaWQgbnVtYmVyIGtlZXAgaXQgYWZ0ZXJcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldExlZnRCb3VuZF0pID8gY2FyZXRMZWZ0Qm91bmQgKyAxIDogY2FyZXRMZWZ0Qm91bmQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYXJldFJpZ2h0Qm91bmQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldENhcmV0UG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2FyZXRQb3NpdGlvbihpbnB1dFZhbHVlLCBmb3JtYXR0ZWRWYWx1ZSwgY2FyZXRQb3MpIHtcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcbiAgICAgIHZhciBzdGF0ZVZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgIHZhciBudW1SZWdleCA9IHRoaXMuZ2V0TnVtYmVyUmVnZXgodHJ1ZSk7XG4gICAgICB2YXIgaW5wdXROdW1iZXIgPSAoaW5wdXRWYWx1ZS5tYXRjaChudW1SZWdleCkgfHwgW10pLmpvaW4oJycpO1xuICAgICAgdmFyIGZvcm1hdHRlZE51bWJlciA9IChmb3JtYXR0ZWRWYWx1ZS5tYXRjaChudW1SZWdleCkgfHwgW10pLmpvaW4oJycpO1xuICAgICAgdmFyIGosIGk7XG4gICAgICBqID0gMDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGNhcmV0UG9zOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJlbnRJbnB1dENoYXIgPSBpbnB1dFZhbHVlW2ldIHx8ICcnO1xuICAgICAgICB2YXIgY3VycmVudEZvcm1hdENoYXIgPSBmb3JtYXR0ZWRWYWx1ZVtqXSB8fCAnJzsgLy9ubyBuZWVkIHRvIGluY3JlYXNlIG5ldyBjdXJzb3IgcG9zaXRpb24gaWYgZm9ybWF0dGVkIHZhbHVlIGRvZXMgbm90IGhhdmUgdGhvc2UgY2hhcmFjdGVyc1xuICAgICAgICAvL2Nhc2UgaW5wdXRWYWx1ZSA9IDFhMjMgYW5kIGZvcm1hdHRlZFZhbHVlID0gIDEyM1xuXG4gICAgICAgIGlmICghY3VycmVudElucHV0Q2hhci5tYXRjaChudW1SZWdleCkgJiYgY3VycmVudElucHV0Q2hhciAhPT0gY3VycmVudEZvcm1hdENoYXIpIGNvbnRpbnVlOyAvL1doZW4gd2UgYXJlIHN0cmlwaW5nIG91dCBsZWFkaW5nIHplcm9zIG1haW50YWluIHRoZSBuZXcgY3Vyc29yIHBvc2l0aW9uXG4gICAgICAgIC8vQ2FzZSBpbnB1dFZhbHVlID0gMDAwMjMgYW5kIGZvcm1hdHRlZFZhbHVlID0gMjM7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRJbnB1dENoYXIgPT09ICcwJyAmJiBjdXJyZW50Rm9ybWF0Q2hhci5tYXRjaChudW1SZWdleCkgJiYgY3VycmVudEZvcm1hdENoYXIgIT09ICcwJyAmJiBpbnB1dE51bWJlci5sZW5ndGggIT09IGZvcm1hdHRlZE51bWJlci5sZW5ndGgpIGNvbnRpbnVlOyAvL3dlIGFyZSBub3QgdXNpbmcgY3VycmVudEZvcm1hdENoYXIgYmVjYXVzZSBqIGNhbiBjaGFuZ2UgaGVyZVxuXG4gICAgICAgIHdoaWxlIChjdXJyZW50SW5wdXRDaGFyICE9PSBmb3JtYXR0ZWRWYWx1ZVtqXSAmJiBqIDwgZm9ybWF0dGVkVmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgaisrO1xuICAgICAgICB9XG5cbiAgICAgICAgaisrO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycgJiYgIXN0YXRlVmFsdWUpIHtcbiAgICAgICAgLy9zZXQgaXQgdG8gdGhlIG1heGltdW0gdmFsdWUgc28gaXQgZ29lcyBhZnRlciB0aGUgbGFzdCBudW1iZXJcbiAgICAgICAgaiA9IGZvcm1hdHRlZFZhbHVlLmxlbmd0aDtcbiAgICAgIH0gLy9jb3JyZWN0IGNhcmV0IHBvc2l0aW9uIGlmIGl0cyBvdXRzaWRlIG9mIGVkaXRhYmxlIGFyZWFcblxuXG4gICAgICBqID0gdGhpcy5jb3JyZWN0Q2FyZXRQb3NpdGlvbihmb3JtYXR0ZWRWYWx1ZSwgaik7XG4gICAgICByZXR1cm4gajtcbiAgICB9XG4gICAgLyoqIGNhcmV0IHNwZWNpZmljIG1ldGhvZHMgZW5kcyAqKi9cblxuICAgIC8qKiBtZXRob2RzIHRvIHJlbW92ZSBmb3JtYXR0dGluZyAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVByZWZpeEFuZFN1ZmZpeFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVQcmVmaXhBbmRTdWZmaXgodmFsKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczMuZm9ybWF0LFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzMy5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHMzLnN1ZmZpeDsgLy9yZW1vdmUgcHJlZml4IGFuZCBzdWZmaXhcblxuICAgICAgaWYgKCFmb3JtYXQgJiYgdmFsKSB7XG4gICAgICAgIHZhciBpc05lZ2F0aXZlID0gdmFsWzBdID09PSAnLSc7IC8vcmVtb3ZlIG5lZ2F0aW9uIHNpZ25cblxuICAgICAgICBpZiAoaXNOZWdhdGl2ZSkgdmFsID0gdmFsLnN1YnN0cmluZygxLCB2YWwubGVuZ3RoKTsgLy9yZW1vdmUgcHJlZml4XG5cbiAgICAgICAgdmFsID0gcHJlZml4ICYmIHZhbC5pbmRleE9mKHByZWZpeCkgPT09IDAgPyB2YWwuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgsIHZhbC5sZW5ndGgpIDogdmFsOyAvL3JlbW92ZSBzdWZmaXhcblxuICAgICAgICB2YXIgc3VmZml4TGFzdEluZGV4ID0gdmFsLmxhc3RJbmRleE9mKHN1ZmZpeCk7XG4gICAgICAgIHZhbCA9IHN1ZmZpeCAmJiBzdWZmaXhMYXN0SW5kZXggIT09IC0xICYmIHN1ZmZpeExhc3RJbmRleCA9PT0gdmFsLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGggPyB2YWwuc3Vic3RyaW5nKDAsIHN1ZmZpeExhc3RJbmRleCkgOiB2YWw7IC8vYWRkIG5lZ2F0aW9uIHNpZ24gYmFja1xuXG4gICAgICAgIGlmIChpc05lZ2F0aXZlKSB2YWwgPSAnLScgKyB2YWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nKHZhbCkge1xuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0O1xuICAgICAgdmFyIGZvcm1hdEFycmF5ID0gZm9ybWF0LnNwbGl0KCcjJykuZmlsdGVyKGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ciAhPT0gJyc7XG4gICAgICB9KTtcbiAgICAgIHZhciBzdGFydCA9IDA7XG4gICAgICB2YXIgbnVtU3RyID0gJyc7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGZvcm1hdEFycmF5Lmxlbmd0aDsgaSA8PSBsbjsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gZm9ybWF0QXJyYXlbaV0gfHwgJyc7IC8vaWYgaSBpcyB0aGUgbGFzdCBmcmFnbWVudCB0YWtlIHRoZSBpbmRleCBvZiBlbmQgb2YgdGhlIHZhbHVlXG4gICAgICAgIC8vRm9yIGNhc2UgbGlrZSArMSAoOTExKSA5MTEgOTEgOTEgaGF2aW5nIHBhdHRlcm4gKzEgKCMjIykgIyMjICMjICMjXG5cbiAgICAgICAgdmFyIGluZGV4ID0gaSA9PT0gbG4gPyB2YWwubGVuZ3RoIDogdmFsLmluZGV4T2YocGFydCwgc3RhcnQpO1xuICAgICAgICAvKiBpbiBhbnkgY2FzZSBpZiB3ZSBkb24ndCBmaW5kIHRoZSBwYXR0ZXJuIHBhcnQgaW4gdGhlIHZhbHVlIGFzc3VtZSB0aGUgdmFsIGFzIG51bWVyaWMgc3RyaW5nXG4gICAgICAgIFRoaXMgd2lsbCBiZSBhbHNvIGluIGNhc2UgaWYgdXNlciBoYXMgc3RhcnRlZCB0eXBpbmcsIGluIGFueSBvdGhlciBjYXNlIGl0IHdpbGwgbm90IGJlIC0xXG4gICAgICAgIHVubGVzcyB3cm9uZyBwcm9wIHZhbHVlIGlzIHByb3ZpZGVkICovXG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIG51bVN0ciA9IHZhbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBudW1TdHIgKz0gdmFsLnN1YnN0cmluZyhzdGFydCwgaW5kZXgpO1xuICAgICAgICAgIHN0YXJ0ID0gaW5kZXggKyBwYXJ0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKG51bVN0ci5tYXRjaCgvXFxkL2cpIHx8IFtdKS5qb2luKCcnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlRm9ybWF0dGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nKHZhbCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHM0LmZvcm1hdCxcbiAgICAgICAgICByZW1vdmVGb3JtYXR0aW5nID0gX3RoaXMkcHJvcHM0LnJlbW92ZUZvcm1hdHRpbmc7XG4gICAgICBpZiAoIXZhbCkgcmV0dXJuIHZhbDtcblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFsID0gdGhpcy5yZW1vdmVQcmVmaXhBbmRTdWZmaXgodmFsKTtcbiAgICAgICAgdmFsID0gdGhpcy5nZXRGbG9hdFN0cmluZyh2YWwpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YWwgPSB0aGlzLnJlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nKHZhbCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZW1vdmVGb3JtYXR0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vY29uZGl0aW9uIG5lZWQgdG8gYmUgaGFuZGxlZCBpZiBmb3JtYXQgbWV0aG9kIGlzIHByb3ZpZGUsXG4gICAgICAgIHZhbCA9IHJlbW92ZUZvcm1hdHRpbmcodmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9ICh2YWwubWF0Y2goL1xcZC9nKSB8fCBbXSkuam9pbignJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIC8qKiBtZXRob2RzIHRvIHJlbW92ZSBmb3JtYXR0dGluZyBlbmQgKiovXG5cbiAgICAvKioqIGZvcm1hdCBzcGVjaWZpYyBtZXRob2RzIHN0YXJ0ICoqKi9cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCB3aGVuICMgYmFzZWQgc3RyaW5nIGlzIHByb3ZpZGVkXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBudW1TdHIgTnVtZXJpYyBTdHJpbmdcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICBmb3JtYXR0ZWQgVmFsdWVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdFdpdGhQYXR0ZXJuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFdpdGhQYXR0ZXJuKG51bVN0cikge1xuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0O1xuICAgICAgdmFyIGhhc2hDb3VudCA9IDA7XG4gICAgICB2YXIgZm9ybWF0dGVkTnVtYmVyQXJ5ID0gZm9ybWF0LnNwbGl0KCcnKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxuID0gZm9ybWF0Lmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdFtpXSA9PT0gJyMnKSB7XG4gICAgICAgICAgZm9ybWF0dGVkTnVtYmVyQXJ5W2ldID0gbnVtU3RyW2hhc2hDb3VudF0gfHwgdGhpcy5nZXRNYXNrQXRJbmRleChoYXNoQ291bnQpO1xuICAgICAgICAgIGhhc2hDb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3JtYXR0ZWROdW1iZXJBcnkuam9pbignJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gbnVtU3RyIE51bWVyaWMgc3RyaW5nL2Zsb2F0U3RyaW5nXSBJdCBhbHdheXMgaGF2ZSBkZWNpbWFsU2VwYXJhdG9yIGFzIC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGZvcm1hdHRlZCBWYWx1ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0QXNOdW1iZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0QXNOdW1iZXIobnVtU3RyKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczUuZGVjaW1hbFNjYWxlLFxuICAgICAgICAgIGZpeGVkRGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM1LmZpeGVkRGVjaW1hbFNjYWxlLFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzNS5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHM1LnN1ZmZpeCxcbiAgICAgICAgICBhbGxvd05lZ2F0aXZlID0gX3RoaXMkcHJvcHM1LmFsbG93TmVnYXRpdmUsXG4gICAgICAgICAgdGhvdXNhbmRzR3JvdXBTdHlsZSA9IF90aGlzJHByb3BzNS50aG91c2FuZHNHcm91cFN0eWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczQgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnM0LnRob3VzYW5kU2VwYXJhdG9yLFxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzNC5kZWNpbWFsU2VwYXJhdG9yO1xuXG4gICAgICB2YXIgaGFzRGVjaW1hbFNlcGFyYXRvciA9IG51bVN0ci5pbmRleE9mKCcuJykgIT09IC0xIHx8IGRlY2ltYWxTY2FsZSAmJiBmaXhlZERlY2ltYWxTY2FsZTtcblxuICAgICAgdmFyIF9zcGxpdERlY2ltYWwgPSAoMCwgX3V0aWxzLnNwbGl0RGVjaW1hbCkobnVtU3RyLCBhbGxvd05lZ2F0aXZlKSxcbiAgICAgICAgICBiZWZvcmVEZWNpbWFsID0gX3NwbGl0RGVjaW1hbC5iZWZvcmVEZWNpbWFsLFxuICAgICAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYWZ0ZXJEZWNpbWFsLFxuICAgICAgICAgIGFkZE5lZ2F0aW9uID0gX3NwbGl0RGVjaW1hbC5hZGROZWdhdGlvbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3RcbiAgICAgIC8vYXBwbHkgZGVjaW1hbCBwcmVjaXNpb24gaWYgaXRzIGRlZmluZWRcblxuXG4gICAgICBpZiAoZGVjaW1hbFNjYWxlICE9PSB1bmRlZmluZWQpIGFmdGVyRGVjaW1hbCA9ICgwLCBfdXRpbHMubGltaXRUb1NjYWxlKShhZnRlckRlY2ltYWwsIGRlY2ltYWxTY2FsZSwgZml4ZWREZWNpbWFsU2NhbGUpO1xuXG4gICAgICBpZiAodGhvdXNhbmRTZXBhcmF0b3IpIHtcbiAgICAgICAgdmFyIHRob3VzYW5kc0dyb3VwUmVnZXggPSAoMCwgX3V0aWxzLmdldFRob3VzYW5kc0dyb3VwUmVnZXgpKHRob3VzYW5kc0dyb3VwU3R5bGUpO1xuICAgICAgICBiZWZvcmVEZWNpbWFsID0gYmVmb3JlRGVjaW1hbC5yZXBsYWNlKHRob3VzYW5kc0dyb3VwUmVnZXgsICckMScgKyB0aG91c2FuZFNlcGFyYXRvcik7XG4gICAgICB9IC8vYWRkIHByZWZpeCBhbmQgc3VmZml4XG5cblxuICAgICAgaWYgKHByZWZpeCkgYmVmb3JlRGVjaW1hbCA9IHByZWZpeCArIGJlZm9yZURlY2ltYWw7XG4gICAgICBpZiAoc3VmZml4KSBhZnRlckRlY2ltYWwgPSBhZnRlckRlY2ltYWwgKyBzdWZmaXg7IC8vcmVzdG9yZSBuZWdhdGlvbiBzaWduXG5cbiAgICAgIGlmIChhZGROZWdhdGlvbikgYmVmb3JlRGVjaW1hbCA9ICctJyArIGJlZm9yZURlY2ltYWw7XG4gICAgICBudW1TdHIgPSBiZWZvcmVEZWNpbWFsICsgKGhhc0RlY2ltYWxTZXBhcmF0b3IgJiYgZGVjaW1hbFNlcGFyYXRvciB8fCAnJykgKyBhZnRlckRlY2ltYWw7XG4gICAgICByZXR1cm4gbnVtU3RyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JtYXROdW1TdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0TnVtU3RyaW5nKCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgIHZhciBfdGhpcyRwcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzNi5mb3JtYXQsXG4gICAgICAgICAgYWxsb3dFbXB0eUZvcm1hdHRpbmcgPSBfdGhpcyRwcm9wczYuYWxsb3dFbXB0eUZvcm1hdHRpbmc7XG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgaWYgKHZhbHVlID09PSAnJyAmJiAhYWxsb3dFbXB0eUZvcm1hdHRpbmcpIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICctJyAmJiAhZm9ybWF0KSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gJy0nO1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHRoaXMuZm9ybWF0V2l0aFBhdHRlcm4oZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gZm9ybWF0KGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXRBc051bWJlcihmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3JtYXR0ZWRWYWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0VmFsdWVQcm9wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFZhbHVlUHJvcChkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczcgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzNy5mb3JtYXQsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM3LmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzNy5maXhlZERlY2ltYWxTY2FsZSxcbiAgICAgICAgICBhbGxvd0VtcHR5Rm9ybWF0dGluZyA9IF90aGlzJHByb3BzNy5hbGxvd0VtcHR5Rm9ybWF0dGluZztcbiAgICAgIHZhciBfdGhpcyRwcm9wczggPSB0aGlzLnByb3BzLFxuICAgICAgICAgIF90aGlzJHByb3BzOCR2YWx1ZSA9IF90aGlzJHByb3BzOC52YWx1ZSxcbiAgICAgICAgICB2YWx1ZSA9IF90aGlzJHByb3BzOCR2YWx1ZSA9PT0gdm9pZCAwID8gZGVmYXVsdFZhbHVlIDogX3RoaXMkcHJvcHM4JHZhbHVlLFxuICAgICAgICAgIGlzTnVtZXJpY1N0cmluZyA9IF90aGlzJHByb3BzOC5pc051bWVyaWNTdHJpbmc7XG4gICAgICB2YXIgaXNOb25OdW1lcmljRmFsc3kgPSAhdmFsdWUgJiYgdmFsdWUgIT09IDA7XG5cbiAgICAgIGlmIChpc05vbk51bWVyaWNGYWxzeSAmJiBhbGxvd0VtcHR5Rm9ybWF0dGluZykge1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfSAvLyBpZiB2YWx1ZSBpcyBub3QgZGVmaW5lZCByZXR1cm4gZW1wdHkgc3RyaW5nXG5cblxuICAgICAgaWYgKGlzTm9uTnVtZXJpY0ZhbHN5ICYmICFhbGxvd0VtcHR5Rm9ybWF0dGluZykgcmV0dXJuICcnO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIGlzTnVtZXJpY1N0cmluZyA9IHRydWU7XG4gICAgICB9IC8vcm91bmQgdGhlIG51bWJlciBiYXNlZCBvbiBkZWNpbWFsU2NhbGVcbiAgICAgIC8vZm9ybWF0IG9ubHkgaWYgbm9uIGZvcm1hdHRlZCB2YWx1ZSBpcyBwcm92aWRlZFxuXG5cbiAgICAgIGlmIChpc051bWVyaWNTdHJpbmcgJiYgIWZvcm1hdCAmJiB0eXBlb2YgZGVjaW1hbFNjYWxlID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YWx1ZSA9ICgwLCBfdXRpbHMucm91bmRUb1ByZWNpc2lvbikodmFsdWUsIGRlY2ltYWxTY2FsZSwgZml4ZWREZWNpbWFsU2NhbGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBpc051bWVyaWNTdHJpbmcgPyB0aGlzLmZvcm1hdE51bVN0cmluZyh2YWx1ZSkgOiB0aGlzLmZvcm1hdElucHV0KHZhbHVlKTtcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRWYWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0TmVnYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0TmVnYXRpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgdmFyIGFsbG93TmVnYXRpdmUgPSB0aGlzLnByb3BzLmFsbG93TmVnYXRpdmU7XG4gICAgICB2YXIgbmVnYXRpb25SZWdleCA9IG5ldyBSZWdFeHAoJygtKScpO1xuICAgICAgdmFyIGRvdWJsZU5lZ2F0aW9uUmVnZXggPSBuZXcgUmVnRXhwKCcoLSkoLikqKC0pJyk7IC8vIENoZWNrIG51bWJlciBoYXMgJy0nIHZhbHVlXG5cbiAgICAgIHZhciBoYXNOZWdhdGlvbiA9IG5lZ2F0aW9uUmVnZXgudGVzdCh2YWx1ZSk7IC8vIENoZWNrIG51bWJlciBoYXMgMiBvciBtb3JlICctJyB2YWx1ZXNcblxuICAgICAgdmFyIHJlbW92ZU5lZ2F0aW9uID0gZG91YmxlTmVnYXRpb25SZWdleC50ZXN0KHZhbHVlKTsgLy9yZW1vdmUgbmVnYXRpb25cblxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8tL2csICcnKTtcblxuICAgICAgaWYgKGhhc05lZ2F0aW9uICYmICFyZW1vdmVOZWdhdGlvbiAmJiBhbGxvd05lZ2F0aXZlKSB7XG4gICAgICAgIHZhbHVlID0gJy0nICsgdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0SW5wdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0SW5wdXQoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0OyAvL2Zvcm1hdCBuZWdhdGlvbiBvbmx5IGlmIHdlIGFyZSBmb3JtYXR0aW5nIGFzIG51bWJlclxuXG4gICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMucmVtb3ZlUHJlZml4QW5kU3VmZml4KHZhbHVlKTtcbiAgICAgICAgdmFsdWUgPSB0aGlzLmZvcm1hdE5lZ2F0aW9uKHZhbHVlKTtcbiAgICAgIH0gLy9yZW1vdmUgZm9ybWF0dGluZyBmcm9tIG51bWJlclxuXG5cbiAgICAgIHZhbHVlID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKHZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdE51bVN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKiogZm9ybWF0IHNwZWNpZmljIG1ldGhvZHMgZW5kICoqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQ2hhcmFjdGVyQUZvcm1hdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NoYXJhY3RlckFGb3JtYXQoY2FyZXRQb3MsIHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM5ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczkuZm9ybWF0LFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzOS5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHM5LnN1ZmZpeCxcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczkuZGVjaW1hbFNjYWxlLFxuICAgICAgICAgIGZpeGVkRGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM5LmZpeGVkRGVjaW1hbFNjYWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczUgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczUuZGVjaW1hbFNlcGFyYXRvcjsgLy9jaGVjayB3aXRoaW4gZm9ybWF0IHBhdHRlcm5cblxuXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycgJiYgZm9ybWF0W2NhcmV0UG9zXSAhPT0gJyMnKSByZXR1cm4gdHJ1ZTsgLy9jaGVjayBpbiBudW1iZXIgZm9ybWF0XG5cbiAgICAgIGlmICghZm9ybWF0ICYmIChjYXJldFBvcyA8IHByZWZpeC5sZW5ndGggfHwgY2FyZXRQb3MgPj0gdmFsdWUubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCB8fCBkZWNpbWFsU2NhbGUgJiYgZml4ZWREZWNpbWFsU2NhbGUgJiYgdmFsdWVbY2FyZXRQb3NdID09PSBkZWNpbWFsU2VwYXJhdG9yKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGVja0lmRm9ybWF0R290RGVsZXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0lmRm9ybWF0R290RGVsZXRlZChzdGFydCwgZW5kLCB2YWx1ZSkge1xuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJBRm9ybWF0KGksIHZhbHVlKSkgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIGNoZWNrIGlmIGFueSBmb3JtYXR0aW5nIGdvdCByZW1vdmVkIGJ5IHRoZSBkZWxldGUgb3IgYmFja3NwYWNlIGFuZCByZXNldCB0aGUgdmFsdWVcbiAgICAgKiBJdCB3aWxsIGFsc28gd29yayBhcyBmYWxsYmFjayBpZiBhbmRyb2lkIGNob21lIGtleURvd24gaGFuZGxlciBkb2VzIG5vdCB3b3JrXG4gICAgICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29ycmVjdElucHV0VmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ycmVjdElucHV0VmFsdWUoY2FyZXRQb3MsIGxhc3RWYWx1ZSwgdmFsdWUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczEwID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczEwLmZvcm1hdCxcbiAgICAgICAgICBhbGxvd05lZ2F0aXZlID0gX3RoaXMkcHJvcHMxMC5hbGxvd05lZ2F0aXZlLFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzMTAucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzMTAuc3VmZml4O1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczYgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczYuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgdmFyIGxhc3ROdW1TdHIgPSB0aGlzLnN0YXRlLm51bUFzU3RyaW5nIHx8ICcnO1xuICAgICAgdmFyIF90aGlzJHNlbGVjdGlvbkJlZm9yZSA9IHRoaXMuc2VsZWN0aW9uQmVmb3JlSW5wdXQsXG4gICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSBfdGhpcyRzZWxlY3Rpb25CZWZvcmUuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgc2VsZWN0aW9uRW5kID0gX3RoaXMkc2VsZWN0aW9uQmVmb3JlLnNlbGVjdGlvbkVuZDtcblxuICAgICAgdmFyIF9maW5kQ2hhbmdlZEluZGV4ID0gKDAsIF91dGlscy5maW5kQ2hhbmdlZEluZGV4KShsYXN0VmFsdWUsIHZhbHVlKSxcbiAgICAgICAgICBzdGFydCA9IF9maW5kQ2hhbmdlZEluZGV4LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IF9maW5kQ2hhbmdlZEluZGV4LmVuZDtcbiAgICAgIC8qKiBDaGVjayBpZiBvbmx5IC4gaXMgYWRkZWQgaW4gdGhlIG51bWVyaWMgZm9ybWF0IGFuZCByZXBsYWNlIGl0IHdpdGggZGVjaW1hbCBzZXBhcmF0b3IgKi9cblxuXG4gICAgICBpZiAoIWZvcm1hdCAmJiBkZWNpbWFsU2VwYXJhdG9yICE9PSAnLicgJiYgc3RhcnQgPT09IGVuZCAmJiB2YWx1ZVtzZWxlY3Rpb25TdGFydF0gPT09ICcuJykge1xuICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyKDAsIHNlbGVjdGlvblN0YXJ0KSArIGRlY2ltYWxTZXBhcmF0b3IgKyB2YWx1ZS5zdWJzdHIoc2VsZWN0aW9uU3RhcnQgKyAxLCB2YWx1ZS5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgLyogZG9uJ3QgZG8gYW55aHRpbmcgaWYgc29tZXRoaW5nIGdvdCBhZGRlZCxcbiAgICAgICBvciBpZiB2YWx1ZSBpcyBlbXB0eSBzdHJpbmcgKHdoZW4gd2hvbGUgaW5wdXQgaXMgY2xlYXJlZClcbiAgICAgICBvciB3aG9sZSBpbnB1dCBpcyByZXBsYWNlIHdpdGggYSBudW1iZXJcbiAgICAgICovXG5cblxuICAgICAgdmFyIGxlZnRCb3VuZCA9ICEhZm9ybWF0ID8gMCA6IHByZWZpeC5sZW5ndGg7XG4gICAgICB2YXIgcmlnaHRCb3VuZCA9IGxhc3RWYWx1ZS5sZW5ndGggLSAoISFmb3JtYXQgPyAwIDogc3VmZml4Lmxlbmd0aCk7XG5cbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiBsYXN0VmFsdWUubGVuZ3RoIHx8ICF2YWx1ZS5sZW5ndGggfHwgc3RhcnQgPT09IGVuZCB8fCBzZWxlY3Rpb25TdGFydCA9PT0gMCAmJiBzZWxlY3Rpb25FbmQgPT09IGxhc3RWYWx1ZS5sZW5ndGggfHwgc2VsZWN0aW9uU3RhcnQgPT09IGxlZnRCb3VuZCAmJiBzZWxlY3Rpb25FbmQgPT09IHJpZ2h0Qm91bmQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSAvL2lmIGZvcm1hdCBnb3QgZGVsZXRlZCByZXNldCB0aGUgdmFsdWUgdG8gbGFzdCB2YWx1ZVxuXG5cbiAgICAgIGlmICh0aGlzLmNoZWNrSWZGb3JtYXRHb3REZWxldGVkKHN0YXJ0LCBlbmQsIGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICB9IC8vZm9yIG51bWJlcnMgY2hlY2sgaWYgYmVmb3JlRGVjaW1hbCBnb3QgZGVsZXRlZCBhbmQgdGhlcmUgaXMgbm90aGluZyBhZnRlciBkZWNpbWFsLFxuICAgICAgLy9jbGVhciBhbGwgbnVtYmVycyBpbiBzdWNoIGNhc2Ugd2hpbGUga2VlcGluZyB0aGUgLSBzaWduXG5cblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFyIG51bWVyaWNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcodmFsdWUpO1xuXG4gICAgICAgIHZhciBfc3BsaXREZWNpbWFsMiA9ICgwLCBfdXRpbHMuc3BsaXREZWNpbWFsKShudW1lcmljU3RyaW5nLCBhbGxvd05lZ2F0aXZlKSxcbiAgICAgICAgICAgIGJlZm9yZURlY2ltYWwgPSBfc3BsaXREZWNpbWFsMi5iZWZvcmVEZWNpbWFsLFxuICAgICAgICAgICAgYWZ0ZXJEZWNpbWFsID0gX3NwbGl0RGVjaW1hbDIuYWZ0ZXJEZWNpbWFsLFxuICAgICAgICAgICAgYWRkTmVnYXRpb24gPSBfc3BsaXREZWNpbWFsMi5hZGROZWdhdGlvbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3RcbiAgICAgICAgLy9jbGVhciBvbmx5IGlmIHNvbWV0aGluZyBnb3QgZGVsZXRlZFxuXG5cbiAgICAgICAgdmFyIGlzQmVmb3JlRGVjaW1hbFBvaW50ID0gY2FyZXRQb3MgPCB2YWx1ZS5pbmRleE9mKGRlY2ltYWxTZXBhcmF0b3IpICsgMTtcblxuICAgICAgICBpZiAobnVtZXJpY1N0cmluZy5sZW5ndGggPCBsYXN0TnVtU3RyLmxlbmd0aCAmJiBpc0JlZm9yZURlY2ltYWxQb2ludCAmJiBiZWZvcmVEZWNpbWFsID09PSAnJyAmJiAhcGFyc2VGbG9hdChhZnRlckRlY2ltYWwpKSB7XG4gICAgICAgICAgcmV0dXJuIGFkZE5lZ2F0aW9uID8gJy0nIDogJyc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvKiogVXBkYXRlIHZhbHVlIGFuZCBjYXJldCBwb3NpdGlvbiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlVmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVmFsdWUocGFyYW1zKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIG9uVXBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBfdXRpbHMubm9vcDtcbiAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IHBhcmFtcy5mb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgICBpbnB1dCA9IHBhcmFtcy5pbnB1dDtcbiAgICAgIHZhciBudW1Bc1N0cmluZyA9IHBhcmFtcy5udW1Bc1N0cmluZyxcbiAgICAgICAgICBjYXJldFBvcyA9IHBhcmFtcy5jYXJldFBvcztcbiAgICAgIHZhciBvblZhbHVlQ2hhbmdlID0gdGhpcy5wcm9wcy5vblZhbHVlQ2hhbmdlO1xuICAgICAgdmFyIGxhc3RWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7IC8vc2V0IGNhcmV0IHBvc2l0aW9uLCBhbmQgdmFsdWUgaW1wZXJhdGl2ZWx5IHdoZW4gZWxlbWVudCBpcyBwcm92aWRlZFxuXG4gICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgLy9jYWxjdWxhdGUgY2FyZXQgcG9zaXRpb24gaWYgbm90IGRlZmluZWRcbiAgICAgICAgaWYgKCFjYXJldFBvcykge1xuICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gcGFyYW1zLmlucHV0VmFsdWUgfHwgaW5wdXQudmFsdWU7XG4gICAgICAgICAgdmFyIGN1cnJlbnRDYXJldFBvc2l0aW9uID0gKDAsIF91dGlscy5nZXRDdXJyZW50Q2FyZXRQb3NpdGlvbikoaW5wdXQpOyAvL2dldCB0aGUgY2FyZXQgcG9zaXRpb25cblxuICAgICAgICAgIGNhcmV0UG9zID0gdGhpcy5nZXRDYXJldFBvc2l0aW9uKGlucHV0VmFsdWUsIGZvcm1hdHRlZFZhbHVlLCBjdXJyZW50Q2FyZXRQb3NpdGlvbik7XG4gICAgICAgIH0gLy9zZXQgdGhlIHZhbHVlIGltcGVyYXRpdmVseSwgdGhpcyBpcyByZXF1aXJlZCBmb3IgSUUgZml4XG5cblxuICAgICAgICBpbnB1dC52YWx1ZSA9IGZvcm1hdHRlZFZhbHVlOyAvL3NldCBjYXJldCBwb3NpdGlvblxuXG4gICAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oaW5wdXQsIGNhcmV0UG9zLCBmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9IC8vY2FsY3VsYXRlIG51bWVyaWMgc3RyaW5nIGlmIG5vdCBwYXNzZWRcblxuXG4gICAgICBpZiAobnVtQXNTdHJpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBudW1Bc1N0cmluZyA9IHRoaXMucmVtb3ZlRm9ybWF0dGluZyhmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9IC8vdXBkYXRlIHN0YXRlIGlmIHZhbHVlIGlzIGNoYW5nZWRcblxuXG4gICAgICBpZiAoZm9ybWF0dGVkVmFsdWUgIT09IGxhc3RWYWx1ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB2YWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgbnVtQXNTdHJpbmc6IG51bUFzU3RyaW5nXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvblZhbHVlQ2hhbmdlKF90aGlzMi5nZXRWYWx1ZU9iamVjdChmb3JtYXR0ZWRWYWx1ZSwgbnVtQXNTdHJpbmcpKTtcbiAgICAgICAgICBvblVwZGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgIGUucGVyc2lzdCgpO1xuICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG4gICAgICB2YXIgaW5wdXRWYWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICB2YXIgaXNBbGxvd2VkID0gcHJvcHMuaXNBbGxvd2VkO1xuICAgICAgdmFyIGxhc3RWYWx1ZSA9IHN0YXRlLnZhbHVlIHx8ICcnO1xuICAgICAgdmFyIGN1cnJlbnRDYXJldFBvc2l0aW9uID0gKDAsIF91dGlscy5nZXRDdXJyZW50Q2FyZXRQb3NpdGlvbikoZWwpO1xuICAgICAgaW5wdXRWYWx1ZSA9IHRoaXMuY29ycmVjdElucHV0VmFsdWUoY3VycmVudENhcmV0UG9zaXRpb24sIGxhc3RWYWx1ZSwgaW5wdXRWYWx1ZSk7XG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdElucHV0KGlucHV0VmFsdWUpIHx8ICcnO1xuICAgICAgdmFyIG51bUFzU3RyaW5nID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgIHZhciB2YWx1ZU9iaiA9IHRoaXMuZ2V0VmFsdWVPYmplY3QoZm9ybWF0dGVkVmFsdWUsIG51bUFzU3RyaW5nKTtcblxuICAgICAgaWYgKCFpc0FsbG93ZWQodmFsdWVPYmopKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gbGFzdFZhbHVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZVZhbHVlKHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmcsXG4gICAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWUsXG4gICAgICAgIGlucHV0OiBlbFxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBwcm9wcy5vbkNoYW5nZShlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkJsdXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25CbHVyKGUpIHtcbiAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgdmFyIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgICAgICBvbkJsdXIgPSBwcm9wcy5vbkJsdXI7XG4gICAgICB2YXIgbnVtQXNTdHJpbmcgPSBzdGF0ZS5udW1Bc1N0cmluZztcbiAgICAgIHZhciBsYXN0VmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICAgIHRoaXMuZm9jdXNlZEVsbSA9IG51bGw7XG5cbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIG51bUFzU3RyaW5nID0gKDAsIF91dGlscy5maXhMZWFkaW5nWmVybykobnVtQXNTdHJpbmcpO1xuICAgICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdE51bVN0cmluZyhudW1Bc1N0cmluZyk7IC8vY2hhbmdlIHRoZSBzdGF0ZVxuXG4gICAgICAgIGlmIChmb3JtYXR0ZWRWYWx1ZSAhPT0gbGFzdFZhbHVlKSB7XG4gICAgICAgICAgLy8gdGhlIGV2ZW50IG5lZWRzIHRvIGJlIHBlcnNpc3RlZCBiZWNhdXNlIGl0cyBwcm9wZXJ0aWVzIGNhbiBiZSBhY2Nlc3NlZCBpbiBhbiBhc3luY2hyb25vdXMgd2F5XG4gICAgICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgICBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmdcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvbkJsdXIoZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG9uQmx1cihlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25LZXlEb3duXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICB2YXIgZWwgPSBlLnRhcmdldDtcbiAgICAgIHZhciBrZXkgPSBlLmtleTtcbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IGVsLnNlbGVjdGlvbkVuZCxcbiAgICAgICAgICBfZWwkdmFsdWUgPSBlbC52YWx1ZSxcbiAgICAgICAgICB2YWx1ZSA9IF9lbCR2YWx1ZSA9PT0gdm9pZCAwID8gJycgOiBfZWwkdmFsdWU7XG4gICAgICB2YXIgZXhwZWN0ZWRDYXJldFBvc2l0aW9uO1xuICAgICAgdmFyIF90aGlzJHByb3BzMTEgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzMTEuZGVjaW1hbFNjYWxlLFxuICAgICAgICAgIGZpeGVkRGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHMxMS5maXhlZERlY2ltYWxTY2FsZSxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczExLnByZWZpeCxcbiAgICAgICAgICBzdWZmaXggPSBfdGhpcyRwcm9wczExLnN1ZmZpeCxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczExLmZvcm1hdCxcbiAgICAgICAgICBvbktleURvd24gPSBfdGhpcyRwcm9wczExLm9uS2V5RG93bixcbiAgICAgICAgICBvblZhbHVlQ2hhbmdlID0gX3RoaXMkcHJvcHMxMS5vblZhbHVlQ2hhbmdlO1xuICAgICAgdmFyIGlnbm9yZURlY2ltYWxTZXBhcmF0b3IgPSBkZWNpbWFsU2NhbGUgIT09IHVuZGVmaW5lZCAmJiBmaXhlZERlY2ltYWxTY2FsZTtcbiAgICAgIHZhciBudW1SZWdleCA9IHRoaXMuZ2V0TnVtYmVyUmVnZXgoZmFsc2UsIGlnbm9yZURlY2ltYWxTZXBhcmF0b3IpO1xuICAgICAgdmFyIG5lZ2F0aXZlUmVnZXggPSBuZXcgUmVnRXhwKCctJyk7XG4gICAgICB2YXIgaXNQYXR0ZXJuRm9ybWF0ID0gdHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZyc7XG4gICAgICB0aGlzLnNlbGVjdGlvbkJlZm9yZUlucHV0ID0ge1xuICAgICAgICBzZWxlY3Rpb25TdGFydDogc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgIHNlbGVjdGlvbkVuZDogc2VsZWN0aW9uRW5kIC8vSGFuZGxlIGJhY2tzcGFjZSBhbmQgZGVsZXRlIGFnYWluc3Qgbm9uIG51bWVyaWNhbC9kZWNpbWFsIGNoYXJhY3RlcnMgb3IgYXJyb3cga2V5c1xuXG4gICAgICB9O1xuXG4gICAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBrZXkgPT09ICdCYWNrc3BhY2UnKSB7XG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0IC0gMTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQXJyb3dSaWdodCcpIHtcbiAgICAgICAgZXhwZWN0ZWRDYXJldFBvc2l0aW9uID0gc2VsZWN0aW9uU3RhcnQgKyAxO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdEZWxldGUnKSB7XG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0O1xuICAgICAgfSAvL2lmIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiBpcyBub3Qgc2V0IGl0IG1lYW5zIHdlIGRvbid0IHdhbnQgdG8gSGFuZGxlIGtleURvd25cbiAgICAgIC8vYWxzbyBpZiBtdWx0aXBsZSBjaGFyYWN0ZXJzIGFyZSBzZWxlY3RlZCBkb24ndCBoYW5kbGVcblxuXG4gICAgICBpZiAoZXhwZWN0ZWRDYXJldFBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgc2VsZWN0aW9uU3RhcnQgIT09IHNlbGVjdGlvbkVuZCkge1xuICAgICAgICBvbktleURvd24oZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld0NhcmV0UG9zaXRpb24gPSBleHBlY3RlZENhcmV0UG9zaXRpb247XG4gICAgICB2YXIgbGVmdEJvdW5kID0gaXNQYXR0ZXJuRm9ybWF0ID8gZm9ybWF0LmluZGV4T2YoJyMnKSA6IHByZWZpeC5sZW5ndGg7XG4gICAgICB2YXIgcmlnaHRCb3VuZCA9IGlzUGF0dGVybkZvcm1hdCA/IGZvcm1hdC5sYXN0SW5kZXhPZignIycpICsgMSA6IHZhbHVlLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGg7XG5cbiAgICAgIGlmIChrZXkgPT09ICdBcnJvd0xlZnQnIHx8IGtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBrZXkgPT09ICdBcnJvd0xlZnQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiwgZGlyZWN0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnRGVsZXRlJyAmJiAhbnVtUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSAmJiAhbmVnYXRpdmVSZWdleC50ZXN0KHZhbHVlW2V4cGVjdGVkQ2FyZXRQb3NpdGlvbl0pKSB7XG4gICAgICAgIHdoaWxlICghbnVtUmVnZXgudGVzdCh2YWx1ZVtuZXdDYXJldFBvc2l0aW9uXSkgJiYgbmV3Q2FyZXRQb3NpdGlvbiA8IHJpZ2h0Qm91bmQpIHtcbiAgICAgICAgICBuZXdDYXJldFBvc2l0aW9uKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQmFja3NwYWNlJyAmJiAhbnVtUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSkge1xuICAgICAgICAvKiBOT1RFOiBUaGlzIGlzIHNwZWNpYWwgY2FzZSB3aGVuIGJhY2tzcGFjZSBpcyBwcmVzc2VkIG9uIGFcbiAgICAgICAgbmVnYXRpdmUgdmFsdWUgd2hpbGUgdGhlIGN1cnNvciBwb3NpdGlvbiBpcyBhZnRlciBwcmVmaXguIFdlIGNhbid0IGhhbmRsZSBpdCBvbiBvbkNoYW5nZSBiZWNhdXNlXG4gICAgICAgIHdlIHdpbGwgbm90IGhhdmUgYW55IGluZm9ybWF0aW9uIG9mIGtleVByZXNzXG4gICAgICAgICovXG4gICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA8PSBsZWZ0Qm91bmQgKyAxICYmIHZhbHVlWzBdID09PSAnLScgJiYgdHlwZW9mIGZvcm1hdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSk7IC8vcGVyc2lzdCBldmVudCBiZWZvcmUgcGVyZm9ybWluZyBhc3luYyB0YXNrXG5cbiAgICAgICAgICBlLnBlcnNpc3QoKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgICAgICAgIGNhcmV0UG9zOiBuZXdDYXJldFBvc2l0aW9uLFxuICAgICAgICAgICAgaW5wdXQ6IGVsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW5lZ2F0aXZlUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSkge1xuICAgICAgICAgIHdoaWxlICghbnVtUmVnZXgudGVzdCh2YWx1ZVtuZXdDYXJldFBvc2l0aW9uIC0gMV0pICYmIG5ld0NhcmV0UG9zaXRpb24gPiBsZWZ0Qm91bmQpIHtcbiAgICAgICAgICAgIG5ld0NhcmV0UG9zaXRpb24tLTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXdDYXJldFBvc2l0aW9uID0gdGhpcy5jb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgbmV3Q2FyZXRQb3NpdGlvbiwgJ2xlZnQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobmV3Q2FyZXRQb3NpdGlvbiAhPT0gZXhwZWN0ZWRDYXJldFBvc2l0aW9uIHx8IGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA8IGxlZnRCb3VuZCB8fCBleHBlY3RlZENhcmV0UG9zaXRpb24gPiByaWdodEJvdW5kKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgbmV3Q2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgLyogTk9URTogdGhpcyBpcyBqdXN0IHJlcXVpcmVkIGZvciB1bml0IHRlc3QgYXMgd2UgbmVlZCB0byBnZXQgdGhlIG5ld0NhcmV0UG9zaXRpb24sXG4gICAgICAgICAgICAgIFJlbW92ZSB0aGlzIHdoZW4geW91IGZpbmQgZGlmZmVyZW50IHNvbHV0aW9uICovXG5cblxuICAgICAgaWYgKGUuaXNVbml0VGVzdFJ1bikge1xuICAgICAgICB0aGlzLnNldFBhdGNoZWRDYXJldFBvc2l0aW9uKGVsLCBuZXdDYXJldFBvc2l0aW9uLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMub25LZXlEb3duKGUpO1xuICAgIH1cbiAgICAvKiogcmVxdWlyZWQgdG8gaGFuZGxlIHRoZSBjYXJldCBwb3NpdGlvbiB3aGVuIGNsaWNrIGFueXdoZXJlIHdpdGhpbiB0aGUgaW5wdXQgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdXNlVXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZVVwKGUpIHtcbiAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xuICAgICAgLyoqXG4gICAgICAgKiBOT1RFOiB3ZSBoYXZlIHRvIGdpdmUgZGVmYXVsdCB2YWx1ZSBmb3IgdmFsdWUgYXMgaW4gY2FzZSB3aGVuIGN1c3RvbSBpbnB1dCBpcyBwcm92aWRlZFxuICAgICAgICogdmFsdWUgY2FuIGNvbWUgYXMgdW5kZWZpbmVkIHdoZW4gbm90aGluZyBpcyBwcm92aWRlZCBvbiB2YWx1ZSBwcm9wLlxuICAgICAgKi9cblxuICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gZWwuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgc2VsZWN0aW9uRW5kID0gZWwuc2VsZWN0aW9uRW5kLFxuICAgICAgICAgIF9lbCR2YWx1ZTIgPSBlbC52YWx1ZSxcbiAgICAgICAgICB2YWx1ZSA9IF9lbCR2YWx1ZTIgPT09IHZvaWQgMCA/ICcnIDogX2VsJHZhbHVlMjtcblxuICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgdmFyIGNhcmV0UG9zaXRpb24gPSB0aGlzLmNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBzZWxlY3Rpb25TdGFydCk7XG5cbiAgICAgICAgaWYgKGNhcmV0UG9zaXRpb24gIT09IHNlbGVjdGlvblN0YXJ0KSB7XG4gICAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMub25Nb3VzZVVwKGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkZvY3VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRm9jdXMoZSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIC8vIFdvcmthcm91bmQgQ2hyb21lIGFuZCBTYWZhcmkgYnVnIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc3OTMyOFxuICAgICAgLy8gKG9uRm9jdXMgZXZlbnQgdGFyZ2V0IHNlbGVjdGlvblN0YXJ0IGlzIGFsd2F5cyAwIGJlZm9yZSBzZXRUaW1lb3V0KVxuICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICB0aGlzLmZvY3VzZWRFbG0gPSBlLnRhcmdldDtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWwgPSBlLnRhcmdldDtcbiAgICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gZWwuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgICBzZWxlY3Rpb25FbmQgPSBlbC5zZWxlY3Rpb25FbmQsXG4gICAgICAgICAgICBfZWwkdmFsdWUzID0gZWwudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZSA9IF9lbCR2YWx1ZTMgPT09IHZvaWQgMCA/ICcnIDogX2VsJHZhbHVlMztcblxuICAgICAgICB2YXIgY2FyZXRQb3NpdGlvbiA9IF90aGlzMy5jb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgc2VsZWN0aW9uU3RhcnQpOyAvL3NldFBhdGNoZWRDYXJldFBvc2l0aW9uIG9ubHkgd2hlbiBldmVyeXRoaW5nIGlzIG5vdCBzZWxlY3RlZCBvbiBmb2N1cyAod2hpbGUgdGFiYmluZyBpbnRvIHRoZSBmaWVsZClcblxuXG4gICAgICAgIGlmIChjYXJldFBvc2l0aW9uICE9PSBzZWxlY3Rpb25TdGFydCAmJiAhKHNlbGVjdGlvblN0YXJ0ID09PSAwICYmIHNlbGVjdGlvbkVuZCA9PT0gdmFsdWUubGVuZ3RoKSkge1xuICAgICAgICAgIF90aGlzMy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnByb3BzLm9uRm9jdXMoZSk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczEyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB0eXBlID0gX3RoaXMkcHJvcHMxMi50eXBlLFxuICAgICAgICAgIGRpc3BsYXlUeXBlID0gX3RoaXMkcHJvcHMxMi5kaXNwbGF5VHlwZSxcbiAgICAgICAgICBjdXN0b21JbnB1dCA9IF90aGlzJHByb3BzMTIuY3VzdG9tSW5wdXQsXG4gICAgICAgICAgcmVuZGVyVGV4dCA9IF90aGlzJHByb3BzMTIucmVuZGVyVGV4dCxcbiAgICAgICAgICBnZXRJbnB1dFJlZiA9IF90aGlzJHByb3BzMTIuZ2V0SW5wdXRSZWY7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgICAgdmFyIG90aGVyUHJvcHMgPSAoMCwgX3V0aWxzLm9taXQpKHRoaXMucHJvcHMsIHByb3BUeXBlcyk7XG5cbiAgICAgIHZhciBpbnB1dFByb3BzID0gX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZSxcbiAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93bixcbiAgICAgICAgb25Nb3VzZVVwOiB0aGlzLm9uTW91c2VVcCxcbiAgICAgICAgb25Gb2N1czogdGhpcy5vbkZvY3VzLFxuICAgICAgICBvbkJsdXI6IHRoaXMub25CbHVyXG4gICAgICB9KTtcblxuICAgICAgaWYgKGRpc3BsYXlUeXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHQgPyByZW5kZXJUZXh0KHZhbHVlKSB8fCBudWxsIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHtcbiAgICAgICAgICByZWY6IGdldElucHV0UmVmXG4gICAgICAgIH0pLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGN1c3RvbUlucHV0KSB7XG4gICAgICAgIHZhciBDdXN0b21JbnB1dCA9IGN1c3RvbUlucHV0O1xuICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChDdXN0b21JbnB1dCwgaW5wdXRQcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe30sIGlucHV0UHJvcHMsIHtcbiAgICAgICAgcmVmOiBnZXRJbnB1dFJlZlxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBOdW1iZXJGb3JtYXQ7XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbk51bWJlckZvcm1hdC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5OdW1iZXJGb3JtYXQuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xudmFyIF9kZWZhdWx0ID0gTnVtYmVyRm9ybWF0O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwODE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfUGFwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblxudmFyIF9QYXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXBlcik7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX1R5cG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHlwb2dyYXBoeSk7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNyk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblxudmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblxudmFyIF9NZW51SXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcwKTtcblxudmFyIF9NZW51SXRlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZW51SXRlbSk7XG5cbnZhciBfSW52b2ljZVRhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDgyKTtcblxudmFyIF9JbnZvaWNlVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW52b2ljZVRhYmxlKTtcblxudmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxudmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxudmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1NuYWNrYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjgpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxudmFyIF9JY29uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cbnZhciBfSWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uQnV0dG9uKTtcblxudmFyIF9DbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXG52YXIgX0Nsb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlKTtcblxudmFyIF9DbGVhciA9IF9fd2VicGFja19yZXF1aXJlX18oMzM5KTtcblxudmFyIF9DbGVhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbGVhcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGR1ZURldGFpbHNSb290OiB7XG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiMFwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHBvc3RDYWxsRHVlRGV0YWlsc1Jvb3Q6IHtcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIwXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiNjB2aFwiLFxuICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIlxuICAgICAgICB9LFxuICAgICAgICBtZW51SXRlbVJvb3Q6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjEuNXZoIDEuMDl2d1wiXG4gICAgICAgIH0sXG4gICAgICAgIG1lbnVQYXBlcjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIycHggc29saWQgd2hpdGVcIlxuICAgICAgICB9LFxuICAgICAgICBjaGVja2VkSWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdEZpbHRlcjoge1xuICAgICAgICAgICAgbWluV2lkdGg6IDEyMCxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi45cmVtICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMS43MTh2d1wiXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsSWNvbjoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS40NnZoICsgMS40NnZ3KVwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgZW5hYmxlZEVtYWlsSWNvbjoge1xuICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZEVtYWlsSWNvbjoge1xuICAgICAgICAgICAgb3BhY2l0eTogXCIuNVwiXG4gICAgICAgIH0sXG4gICAgICAgIGJsYWNrVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RNZW51OiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIuOXJlbSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjIpXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJTZWxlY3Rpb25zOiB7XG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBjbGVhclNlbGVjdGlvbnNQYXJlbnQ6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiLjQ1cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0SWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAuNlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RMaW5lUG9zdENhbGw6IHtcbiAgICAgICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjNTk2QTc1ICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiLjd2aCAwXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0TGluZUluQ2FsbDoge1xuICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIyLjAzN3ZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUJ1Y2tldENoZWNrYm94OiB7XG4gICAgICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tCb3hSb290OiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjBcIlxuICAgICAgICB9LFxuICAgICAgICBjbGVhclNlbGVjdGlvbkdyaWQ6IHtcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCJcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGludm9pY2VzOiBbXSxcbiAgICBmaWx0ZXJJbnZvaWNlczogZnVuY3Rpb24gZmlsdGVySW52b2ljZXMoKSB7fSxcbiAgICBidWNrZXROYW1lczogW11cbn07XG5cbnZhciBEdWVEZXRhaWxzID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRHVlRGV0YWlscywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEdWVEZXRhaWxzKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEdWVEZXRhaWxzKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRHVlRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKER1ZURldGFpbHMpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgICAgICBfdGhpcy50b3RhbFJvd3MgPSAwO1xuICAgICAgICB2YXIgbWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIF90aGlzLnRvdGFsUm93cyA9IF90aGlzLnRvdGFsUm93cyArIHByb3BzLmludm9pY2VzW2pdLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXNbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCkgbWFwW3Byb3BzLmludm9pY2VzW2pdW2ldLmlkXSA9IGZhbHNlO2Vsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW52b2ljZXNbal1baV0uaWQgaW4gcHJvcHMuY29ycmVjdEludm9pY2VzTWFwKSBtYXBbcHJvcHMuaW52b2ljZXNbal1baV0uaWRdID0gdHJ1ZTtlbHNlIG1hcFtwcm9wcy5pbnZvaWNlc1tqXVtpXS5pZF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMucHJvcHMucG9zdENhbGwgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMuc2V0U2VsZWN0ZWRJbnZvaWNlcyhtYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBpbnZvaWNlVHlwZTogXCJBbGxcIixcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IG1hcCxcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGdsb2JhbENoZWNrOiBmYWxzZSxcbiAgICAgICAgICAgIGlzQnVsa0VtYWlsOiB0cnVlLFxuICAgICAgICAgICAgY29sbGVjdG9yOiBfdGhpcy5wcm9wcy5jb2xsZWN0b3IsXG4gICAgICAgICAgICBjdXN0b21lcjogX3RoaXMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnByb3BzLmZpbHRlckludm9pY2VzKFwiQWxsXCIpO1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRHVlRGV0YWlscywgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsIF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcyx0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcblxuXG4gICAgICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cblxuXG4gICAgICAgIC8vIFNlbmQgZW1haWwgZm9yIG1vcmUgdGhhbiBvbmUgaW52b2ljZVxuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuICAgICAgICAgICAgdmFyIGRheXMgPSB0aGlzLnByb3BzLmJ1Y2tldE5hbWVzO1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5wb3N0Q2FsbCA/IGNsYXNzZXMucG9zdENhbGxEdWVEZXRhaWxzUm9vdCA6IGNsYXNzZXMuZHVlRGV0YWlsc1Jvb3QsIGVsZXZhdGlvbjogMCB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBjbGFzc05hbWU6IHRoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnNlbGVjdExpbmVQb3N0Q2FsbCA6IGNsYXNzZXMuc2VsZWN0TGluZUluQ2FsbCB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUJ1Y2tldENoZWNrYm94LCBhbGlnbjogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMuY2hlY2tCb3hSb290IH0sIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2ZycgfSksIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZDogdGhpcy5zdGF0ZS5nbG9iYWxDaGVjaywgb25DbGljazogdGhpcy5oYW5kbGVDaGFuZ2UgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5ibGFja1RleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0IEFsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmlldyBcXHhBMDonXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfU2VsZWN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuc2VsZWN0RmlsdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW52b2ljZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUZpbHRlckNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24sIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW51UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJpbnZvaWNlVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdBbGwnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBbGwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdCcm9rZW4gUDJQJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQnJva2VuIFAyUCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ1VwY29taW5nIFAyUCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VwY29taW5nIFAyUCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0Rpc3B1dGUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEaXNwdXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnUHJlZGljdGVkIERlbGlucXVlbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdQcmVkaWN0ZWQgRGVsaW5xdWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucG9zdENhbGwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDUsIGFsaWduOiAncmlnaHQnLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5jbGVhclNlbGVjdGlvbkdyaWQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbGVhclNlbGVjdGlvbnMsIGNsYXNzTmFtZTogY2xhc3Nlcy5jbGVhclNlbGVjdGlvbnNQYXJlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xlYXIyLmRlZmF1bHQsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMS4xcmVtXCIsIG9wYWNpdHk6IDAuNjUgfSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2xlYXJTZWxlY3Rpb25zIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDbGVhciBTZWxlY3Rpb25zICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogNSwgYWxpZ246ICdyaWdodCcsIHN0eWxlOiB7IHBhZGRpbmdSaWdodDogXCIwdndcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxJY29uLCBjbGFzc2VzLmVuYWJsZWRFbWFpbEljb24pLCBvbkNsaWNrOiB0aGlzLnNlbmRCdWxrRW1haWwsIHNyYzogJy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLmlzQnVsa0VtYWlsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmVtYWlsSWNvbiwgY2xhc3Nlcy5kaXNhYmxlZEVtYWlsSWNvbiksIHNyYzogJy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGZ1bmN0aW9uIChidWNrZXRJbnZvaWNlcywgaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnZvaWNlVGFibGUyLmRlZmF1bHQsIHsgZW1haWxPZkNhbGxlZDogX3RoaXMzLnByb3BzLmVtYWlsT2ZDYWxsZWQsIHBvc3RDYWxsOiBfdGhpczMucHJvcHMucG9zdENhbGwsIGNvbGxlY3RvcjogX3RoaXMzLnByb3BzLmNvbGxlY3RvciwgY3VzdG9tZXI6IF90aGlzMy5wcm9wcy5jdXN0b21lciwgc2VsZWN0ZWRJbnZvaWNlczogX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMsIGludm9pY2VzOiBidWNrZXRJbnZvaWNlcywgaW5kaXZpZHVhbDogZmFsc2UsIGRheXM6IGRheXNbaWRdLCBpbnZvaWNlVHlwZTogX3RoaXMzLnN0YXRlLmludm9pY2VUeXBlLCB1cGRhdGVHbG9iYWxNYXA6IF90aGlzMy51cGRhdGVHbG9iYWxNYXAgfSk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tCYXJPcGVuLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbWVzc2FnZS1pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlU25hY2tiYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICldXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRHVlRGV0YWlscztcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHRoaXMuc2V0Q2hlY2sgPSBmdW5jdGlvbiAoaW52b2ljZXMsIHNlbGVjdGVkSW52b2ljZXMpIHtcblxuICAgICAgICB2YXIgYWxsRW1haWxzRmxhZyA9IGZhbHNlO1xuXG4gICAgICAgIHZhciB0ZW1wID0gaW52b2ljZXM7XG5cbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgc3VtID0gc3VtICsgdGVtcFtqXS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vZW5hYmxlIG9yIGRpc2FibGUgZW1haWwgaWNvbiBiYXNlZCBvbiBzZWxlY3Rpb25cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBhbGxFbWFpbHNGbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFsbEVtYWlsc0ZsYWcpIHtcbiAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGlzQnVsa0VtYWlsOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdW0gPT0gMCkgZmxhZyA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSkgX3RoaXM0LnNldFN0YXRlKHsgZ2xvYmFsQ2hlY2s6IGZhbHNlIH0pO2Vsc2UgX3RoaXM0LnNldFN0YXRlKHsgZ2xvYmFsQ2hlY2s6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlR2xvYmFsTWFwID0gZnVuY3Rpb24gKGRhdGEsIGZsYWcsIGNhbGxGcm9tQ2hpbGQpIHtcbiAgICAgICAgdmFyIHRlbXA7XG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xuICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICAgICAgICAgIHRlbXAgPSBfdGhpczQuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJlbW92ZVwiOlxuICAgICAgICAgICAgICAgIHRlbXAgPSBfdGhpczQuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0Q2hlY2soX3RoaXM0LnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhZGRBcnJheVwiOlxuICAgICAgICAgICAgICAgIGlmIChjYWxsRnJvbUNoaWxkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IF90aGlzNC5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtpXS5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1fdGhpczQuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0Q2hlY2soX3RoaXM0LnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInJlbW92ZUFycmF5XCI6XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxGcm9tQ2hpbGQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9X3RoaXM0LnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldENoZWNrKF90aGlzNC5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXM0LnByb3BzLnBvc3RDYWxsID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzNC5wcm9wcy5zZXRTZWxlY3RlZEludm9pY2VzKHRlbXApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLmdsb2JhbENoZWNrID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVHbG9iYWxNYXAoX3RoaXM0LnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVHbG9iYWxNYXAoX3RoaXM0LnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNsZWFyU2VsZWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnVwZGF0ZUdsb2JhbE1hcChfdGhpczQuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIiwgZmFsc2UpO1xuICAgIH07XG5cbiAgICB0aGlzLmZpbmRUeXBlID0gZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgaWYgKGludm9pY2UucDJwRGVsaW5xdWVudCkgcmV0dXJuIFwiUHJlZGljdGVkIERlbGlucW1lbnRcIjtcbiAgICAgICAgaWYgKGludm9pY2UucDJwVXBjb21pbmcpIHJldHVybiBcIlVwY29taW5nIFAyUFwiO1xuICAgICAgICBpZiAoaW52b2ljZS5wMnBCcm9rZW4pIHJldHVybiBcIkJyb2tlbiBQMlBcIjtcbiAgICAgICAgcmV0dXJuIFwiRGlzcHV0ZVwiO1xuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZUZpbHRlckNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyB0aGlzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICAgICAgICAvLyB2YXIgaW52b2ljZVR5cGUgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgLy8gaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXG4gICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IHRoaXMuc3RhdGUuYWxsSW52b2ljZXMgfSwoKSA9PiB7dGhpcy5zZXRDaGVjaygpfSk7XG4gICAgICAgIC8vIGVsc2Uge1xuICAgICAgICAvLyAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcbiAgICAgICAgLy8gICAgIHZhciBmaWx0ZXJlZEludm9pY2VzID0gW11cbiAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIC8vICAgICAgICAgZmlsdGVyZWRJbnZvaWNlc1tpXSA9IGludm9pY2VzW2ldLmZpbHRlcihpbnZvaWNlID0+IHRoaXMuZmluZFR5cGUoaW52b2ljZSkgPT0gaW52b2ljZVR5cGUpO1xuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0sKCkgPT4ge3RoaXMuc2V0Q2hlY2soKX0pO1xuICAgICAgICAvLyB9XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGludm9pY2VUeXBlOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgIF90aGlzNC5wcm9wcy5maWx0ZXJJbnZvaWNlcyhldmVudC50YXJnZXQudmFsdWUpO1xuICAgIH07XG5cbiAgICB0aGlzLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzbmFja0Jhck1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbmRCdWxrRW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZW1wID0gX3RoaXM0LnN0YXRlLmludm9pY2VzO1xuICAgICAgICB2YXIgZG9jdW1lbnROdW1iZXJzID0gW107XG5cbiAgICAgICAgLy8gR2V0IHRoZSBjaGVja2VkIGludm9pY2VzIElkXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzNC5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbal1baV0uaWRdID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXJzLnB1c2godGVtcFtqXVtpXS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcbiAgICAgICAgdmFyIHJlcUVtYWlsT2JqID0ge1xuICAgICAgICAgICAgY3VzdG9tZXJJZDogX3RoaXM0LnN0YXRlLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IGRvY3VtZW50TnVtYmVycyxcbiAgICAgICAgICAgIGZyb206IF90aGlzNC5zdGF0ZS5jb2xsZWN0b3IuZW1haWxJZCwgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxuICAgICAgICAgICAgdG86IF90aGlzNC5wcm9wcy5lbWFpbE9mQ2FsbGVkIC8vZ2V0IGZyb20gQ29udGFjdCBvYmplY3QuXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTWFraW5nIGEgcG9zdCBjYWxsIGZvciBzZW5kaW5nIGVtYWlsc1xuICAgICAgICBfYXhpb3MyLmRlZmF1bHQucG9zdChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHknLCByZXFFbWFpbE9iailcbiAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgICAvLyBtb2NrIHNlcnZlciBhcGlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpczQub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzQ291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpIGluIHNlbGVjdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzW2ldID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyknO1xuICAgIH07XG59O1xuXG5EdWVEZXRhaWxzLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICAgIGZpbHRlckludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5cbkR1ZURldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKER1ZURldGFpbHMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA4Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nik7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWwpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsU3VtbWFyeSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc3KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbERldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNCk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuc2lvblBhbmVsRGV0YWlscyk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9FeHBhbmRNb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDApO1xuXG52YXIgX0V4cGFuZE1vcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5kTW9yZSk7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNyk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX0RvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1NSk7XG5cbnZhciBfRG9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Eb25lKTtcblxudmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MCk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfU25hY2tiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7XG5cbnZhciBfU25hY2tiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25hY2tiYXIpO1xuXG52YXIgX0ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblxudmFyIF9JY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25CdXR0b24pO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgX2Jhc2VTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlU3R5bGUpO1xuXG52YXIgX0dyaWRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjgpO1xuXG52YXIgX0dyaWRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0KTtcblxudmFyIF9HcmlkTGlzdFRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSk7XG5cbnZhciBfR3JpZExpc3RUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0VGlsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbi8vIGltcG9ydCBMaXN0T2ZUaWxlIGZyb20gJy4vTGlzdE9mVGlsZSc7XG5cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMFwiXG4gICAgICAgIH0sXG4gICAgICAgIG1lbnVJdGVtUm9vdDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMS41dmggMS4wOXZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgbWVudVBhcGVyOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiXG4gICAgICAgIH0sXG4gICAgICAgIHBvc3RDYWxsUm9vdDoge1xuICAgICAgICAgICAgcGFkZGluZzogXCIwXCIsXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IFwiLjh2aFwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEuMjV2d1wiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjIuMjJ2aFwiLFxuICAgICAgICAgICAgb3BhY2l0eTogXCIuNlwiXG5cbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tlZEljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAgICAgekluZGV4OiBcIjNcIixcbiAgICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0RmlsdGVyOiB7XG4gICAgICAgICAgICBtaW5XaWR0aDogMTIwLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIxLjcxOHZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBtYXJnaW46ICcwIC0ycHggLTJweCAtMnB4ICFpbXBvcnRhbnQnLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3REaXY6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcbiAgICAgICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RlZEdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiXG4gICAgICAgIH0sXG4gICAgICAgIHNoaWZ0OiB7XG4gICAgICAgICAgICBtYXJnaW46IFwiMXJlbSAxcmVtIDAgMXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGJsYWNrVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjk1cmVtXCIsXG4gICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JleVRleHQ6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiLjY1XCJcbiAgICAgICAgfSxcbiAgICAgICAgYnVja2V0SGVhZGVyVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2VSb3dCYWNrZ3JvdW5kOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzU4Njk3M1wiXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRCYWNrZ3JvdW5kOiB7XG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjMzk1QzczICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI1LjY1dmhcIlxuICAgICAgICB9LFxuICAgICAgICBpbnZvaWNlSGVhZGVyVGV4dDoge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiLjVcIlxuICAgICAgICB9LFxuICAgICAgICBwYW5lbFN1bW1hcnk6IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMFwiLCBtYXJnaW46IFwiMFwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgIG1hcmdpbjogXCIwICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBleHBhbmRJY29uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBpbmRpdmlkdWFsSW52b2ljZUhlYWRlcjoge1xuICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMi4wMzd2aCAxcmVtIDAgMXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb25TaXplOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIlxuICAgICAgICB9LFxuICAgICAgICBlbmFibGVkRW1haWxJY29uOiB7XG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkRW1haWxJY29uOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiBcIi41XCJcbiAgICAgICAgfSxcbiAgICAgICAgc3VtbWFyeUV4cGFuZGVkOiB7XG4gICAgICAgICAgICBtaW5IZWlnaHQ6IFwiNS41NXZoICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlVGltZWxpbmU6IHtcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIyLjJyZW1cIiwgbWFyZ2luTGVmdDogXCIuMnJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVsaW5lOiB7XG4gICAgICAgICAgICBib3JkZXJMZWZ0OiBcIjFweCBzb2xpZCAjNTk2QTc1XCJcbiAgICAgICAgfVxuICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZGlzYWJsZVRpbWVsaW5lJywge30pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3Bvc3RDYWxsVGltZWxpbmUnLCB7XG4gICAgICAgIGJvcmRlckxlZnQ6IFwiMXB4IHNvbGlkICMzOTVDNzNcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3NlbGVjdEljb24nLCB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgb3BhY2l0eTogLjZcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdzdW1tYXJ5Q29udGVudCcsIHtcbiAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAgIWltcG9ydGFudFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnaW52b2ljZU51bWJlckNvbHVtbicsIHtcbiAgICAgICAgd2lkdGg6IFwiMTQlXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdhbW91bnRDb2x1bW4nLCB7XG4gICAgICAgIHdpZHRoOiBcIjEyJVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnYnJva2VuQ29sdW1uJywge1xuICAgICAgICB3aWR0aDogXCIxMy41JVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAndXBjb21pbmdDb2x1bW4nLCB7XG4gICAgICAgIHdpZHRoOiBcIjE0JVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZGlzcHV0ZUNvbHVtbicsIHtcbiAgICAgICAgd2lkdGg6IFwiMTMlXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdwcmVkaWN0ZWRDb2x1bW4nLCB7XG4gICAgICAgIHdpZHRoOiBcIjE4JVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnY2hlY2tCb3hDb2x1bW4nLCB7XG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgbWluV2lkdGg6IFwiMy4xMjV2d1wiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnYm9yZGVyQm90dG9tJywge1xuICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjMzk1QzczICFpbXBvcnRhbnRcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2VtYWlsQ29sdW1uJywge1xuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnaW52b2ljZUJ1Y2tldENoZWNrYm94Jywge1xuICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCIsXG4gICAgICAgIGhlaWdodDogXCI1LjU1dmhcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3ZlcnRpY2FsVGltZWxpbmUnLCB7XG4gICAgICAgIHdpZHRoOiBcIjMuMTI1dndcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2Nvbm5lY3RvcicsIHtcbiAgICAgICAgaGVpZ2h0OiBcIjUuNTV2aFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnY2hlY2tCb3hSb290Jywge1xuICAgICAgICBwYWRkaW5nOiBcIjBcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2luZGl2aWR1YWxCdWNrZXRDaGVja2JveCcsIHtcbiAgICAgICAgbWluV2lkdGg6IFwiMy4xMjV2d1wiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnc2VsZWN0TWVudScsIHtcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW0gIWltcG9ydGFudFwiLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMilcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2dyaWRMaXN0VGlsZScsIHtcbiAgICAgICAgaGVpZ2h0OiBcImF1dG8gIWltcG9ydGFudFwiXG4gICAgfSksIF9yZWY7XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGludm9pY2VzOiBbXSxcbiAgICBzZWxlY3RlZEludm9pY2VzOiBbXSxcbiAgICBmaWx0ZXJJbnZvaWNlczogZnVuY3Rpb24gZmlsdGVySW52b2ljZXMoKSB7fVxufTtcblxudmFyIEludm9pY2VUYWJsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEludm9pY2VUYWJsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBJbnZvaWNlVGFibGUocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludm9pY2VUYWJsZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEludm9pY2VUYWJsZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEludm9pY2VUYWJsZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIHZhciBleHBhbmRlZDtcbiAgICAgICAgX3RoaXMudG90YWxBbW91bnQgPSAwO1xuICAgICAgICB2YXIgbWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF90aGlzLnRvdGFsQW1vdW50ID0gX3RoaXMudG90YWxBbW91bnQgKyBwcm9wcy5pbnZvaWNlc1tpXS5jdXJyZW50T3BlbkFtb3VudDtcbiAgICAgICAgICAgIG1hcFtwcm9wcy5pbnZvaWNlc1tpXS5pZF0gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hlY2tlZEludm9pY2VzO1xuICAgICAgICB2YXIgaW52b2ljZVR5cGU7XG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5pbmRpdmlkdWFsKSB7XG4gICAgICAgICAgICBjaGVja2VkSW52b2ljZXMgPSBtYXA7XG4gICAgICAgICAgICBpbnZvaWNlVHlwZSA9IFwiQWxsXCI7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5maWx0ZXJJbnZvaWNlcyhcIkFsbFwiKTtcbiAgICAgICAgICAgIGV4cGFuZGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrZWRJbnZvaWNlcyA9IF90aGlzLnByb3BzLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICBpbnZvaWNlVHlwZSA9IHByb3BzLmludm9pY2VUeXBlO1xuICAgICAgICAgICAgZXhwYW5kZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzOiBjaGVja2VkSW52b2ljZXMsXG4gICAgICAgICAgICBkYXlzOiBwcm9wcy5kYXlzLFxuICAgICAgICAgICAgdG90YWxBbW91bnQ6IF90aGlzLnRvdGFsQW1vdW50LFxuICAgICAgICAgICAgaW52b2ljZVR5cGU6IGludm9pY2VUeXBlLFxuICAgICAgICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuICAgICAgICAgICAgaXNCdWxrRW1haWw6IHRydWUsXG4gICAgICAgICAgICBjdXN0b21lcjogX3RoaXMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICBjb2xsZWN0b3I6IF90aGlzLnByb3BzLmNvbGxlY3RvcixcbiAgICAgICAgICAgIHNuYWNrQmFyT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCJcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhJbnZvaWNlVGFibGUsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcykge1xuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjaygpICAgIFxuICAgICAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3VtID0gc3VtICsgcHJvcHMuaW52b2ljZXNbaV0uY3VycmVudE9wZW5BbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcHMuaW5kaXZpZHVhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0b3RhbEFtb3VudDogc3VtLCBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHByb3BzLmludm9pY2VzLCB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG90YWxBbW91bnQ6IHN1bSwgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLCBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIHNlbGVjdGVkSW52b2ljZXM6IHByb3BzLnNlbGVjdGVkSW52b2ljZXMgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcywgdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vV2lsbCBjaGVjayBhbmQgbWFwIGFsbCBpbnZvaWNlcyBhcmUgc2VsZWN0ZWQgb3Igbm90XG5cblxuICAgICAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcblxuXG4gICAgICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cblxuXG4gICAgICAgIC8vIFNlbmQgZW1haWwgZm9yIGluZGl2aWR1YWwgaW52b2ljZVxuXG5cbiAgICAgICAgLy8gU2VuZCBlbWFpbCBmb3IgbW9yZSB0aGFuIG9uZSBpbnZvaWNlXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG5cblxuICAgICAgICAvL1JlbmRlciBmdW5jdGlvbiBcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfSB9LFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaW5kaXZpZHVhbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCB4czogMTIsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIGNsYXNzTmFtZTogY2xhc3Nlcy5pbmRpdmlkdWFsSW52b2ljZUhlYWRlciB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIHN0eWxlOiB7IHpJbmRleDogXCI1XCIgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmluZGl2aWR1YWxCdWNrZXRDaGVja2JveCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoZWNrYm94Mi5kZWZhdWx0LCB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfSwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkOiB0aGlzLnN0YXRlLmNoZWNrZWQsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2hlY2tBbGxJbnZvaWNlcyhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmJ1Y2tldEhlYWRlclRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0IEFsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiBcIiM5ODk4OThcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZpZXcgXFx4QTA6ICAnXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfU2VsZWN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuc2VsZWN0RmlsdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW52b2ljZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgaWNvbjogY2xhc3Nlcy5zZWxlY3RJY29uLCBzZWxlY3RNZW51OiBjbGFzc2VzLnNlbGVjdE1lbnUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRmlsdGVyQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImludm9pY2VUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVudVByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0FsbCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0Jyb2tlbiBQMlAnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdCcm9rZW4gUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnVXBjb21pbmcgUDJQJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBjb21pbmcgUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnRGlzcHV0ZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Rpc3B1dGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdQcmVkaWN0ZWQgRGVsaW5xdWVudCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ByZWRpY3RlZCBEZWxpbnF1ZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDUsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbiksIG9uQ2xpY2s6IHRoaXMuc2VuZEJ1bGtFbWFpbCwgc3JjOiAnL3Rvdm8vc3RhdGljL0VtYWlsLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZGlzYWJsZWRFbWFpbEljb24pLCBzcmM6ICcvdG92by9zdGF0aWMvRW1haWwuc3ZnJyB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEyLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuaW5kaXZpZHVhbCA/IGNsYXNzZXMuc2hpZnQgOiBjbGFzc2VzLm5vU2hpZnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGJveFNoYWRvdzogXCJub25lXCIsIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiIH0sIGRlZmF1bHRFeHBhbmRlZDogdGhpcy5wcm9wcy5pbmRpdmlkdWFsLCBleHBhbmRlZDogdGhpcy5zdGF0ZS5leHBhbmRlZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmluZGl2aWR1YWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnBhbmVsU3VtbWFyeSwgY2xhc3NlczogeyBjb250ZW50OiBjbGFzc2VzLmNvbnRlbnQsIGV4cGFuZGVkOiBjbGFzc2VzLnN1bW1hcnlFeHBhbmRlZCB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5Q29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5pbnZvaWNlQnVja2V0Q2hlY2tib3gsIGNsYXNzZXMuY2VudGVyRmxleEJveCksIGFsaWduOiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jb25uZWN0b3IgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoZWNrYm94Mi5kZWZhdWx0LCB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfSwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkOiB0aGlzLnN0YXRlLmNoZWNrZWQsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNoZWNrQWxsSW52b2ljZXMoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIGl0ZW06IHRydWUsIHhzOiAxMSwgYWxpZ246ICdsZWZ0Jywgb25DbGljazogdGhpcy50b2dnbGVFeHBhbmQsIGNsYXNzTmFtZTogY2xhc3Nlcy5ib3JkZXJCb3R0b20gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuYnVja2V0SGVhZGVyVGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZ3JleVRleHQsIGNsYXNzZXMuYnVja2V0SGVhZGVyVGV4dCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMiwgYWxpZ246ICdyaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuZXhwYW5kZWQgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0V4cGFuZE1vcmUyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZXhwYW5kSWNvbiwgY2xhc3Nlcy5pY29uU2l6ZSkgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZXhwYW5kZWQgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkV4cGFuZExlc3MsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZXhwYW5kSWNvbiwgY2xhc3Nlcy5pY29uU2l6ZSkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogIXRoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnJvb3QgOiBjbGFzc2VzLnBvc3RDYWxsUm9vdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmluZGl2aWR1YWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy52ZXJ0aWNhbFRpbWVsaW5lLCBqdXN0aWZ5OiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9HcmlkMi5kZWZhdWx0LCB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5pbmRpdmlkdWFsID8gY2xhc3Nlcy5kaXNhYmxlVGltZWxpbmUgOiBjbGFzc2VzLnRpbWVsaW5lIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHhzOiB0aGlzLnByb3BzLmluZGl2aWR1YWwgPyAxMiA6IDExLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY29udGFpbmVyOiB0cnVlLCB4czogMTIsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIHN0eWxlOiB7IG1hcmdpblRvcDogXCIxLjM0dmhcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja0JveENvbHVtbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmludm9pY2VOdW1iZXJDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJbnZvaWNlIE51bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgYWxpZ246ICdyaWdodCcsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmFtb3VudENvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Ftb3VudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgYWxpZ246ICdjZW50ZXInLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5icm9rZW5Db2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdCcm9rZW4gUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnVwY29taW5nQ29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBjb21pbmcgUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmRpc3B1dGVDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEaXNwdXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnByZWRpY3RlZENvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ByZWRpY3RlZCBEZWxpbnF1ZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfR3JpZDIuZGVmYXVsdCwgeyBpdGVtOiB0cnVlLCB4czogMSwgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGZ1bmN0aW9uIChpbnZvaWNlLCBpZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIHhzOiAxMiwgY2xhc3NOYW1lOiBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA/ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5jaGFuZ2VSb3dCYWNrZ3JvdW5kLCBjbGFzc2VzLmRlZmF1bHRCYWNrZ3JvdW5kKSA6IGNsYXNzZXMuZGVmYXVsdEJhY2tncm91bmQsIGtleTogaW52b2ljZS5pZCArIFwicm93XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrQm94Q29sdW1uLCBhbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICdjaGVja2JveCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLmNoZWNrQm94Um9vdCB9LCBpZDogaW52b2ljZS5pZCwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkOiBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA9PSB0cnVlLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hZGRJbnZvaWNlKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBhbGlnbjogJ2NlbnRlcicsIG51bWVyaWM6IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmludm9pY2VOdW1iZXJDb2x1bW4sIGNsYXNzZXMuYmxhY2tUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kb2N1bWVudE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgYWxpZ246ICdyaWdodCcsIG51bWVyaWM6IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmFtb3VudENvbHVtbiwgY2xhc3Nlcy5ibGFja1RleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiRcIiArICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmJyb2tlbkNvbHVtbiwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSwgYWxpZ246ICdjZW50ZXInLCBudW1lcmljOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5wMnBCcm9rZW4gPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMudXBjb21pbmdDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCksIGFsaWduOiAnY2VudGVyJywgbnVtZXJpYzogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UucDJwVXBjb21pbmcgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZGlzcHV0ZUNvbHVtbiwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSwgYWxpZ246ICdjZW50ZXInLCBudW1lcmljOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kaXNwdXRlU3RhdHVzICE9IG51bGwgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMucHJlZGljdGVkQ29sdW1uLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpLCBhbGlnbjogJ2NlbnRlcicsIG51bWVyaWM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLnAycERlbGlucXVlbnQgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCksIHhzOiAxLCBhbGlnbjogJ3JpZ2h0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICFfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5pY29uU2l6ZSwgY2xhc3Nlcy5lbmFibGVkRW1haWxJY29uKSwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2VuZEVtYWlsKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBzcmM6ICcvdG92by9zdGF0aWMvRW1haWwuc3ZnJyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucG9zdENhbGwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLnZlcnRpY2FsVGltZWxpbmUsIGp1c3RpZnk6ICdjZW50ZXInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0dyaWQyLmRlZmF1bHQsIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLnBvc3RDYWxsVGltZWxpbmUgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZExpc3QyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2VsbEhlaWdodDogXCJhdXRvXCIsIGNsYXNzTmFtZTogY2xhc3Nlcy5ncmlkTGlzdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkTGlzdFRpbGUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xzOiAxLCBrZXk6IGludm9pY2UuaWQsIGNsYXNzZXM6IHsgdGlsZTogY2xhc3Nlcy5ncmlkTGlzdFRpbGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuMnJlbScgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID09IHRydWUgPyBjbGFzc2VzLnNlbGVjdGVkR3JpZExpc3REaXYgOiBjbGFzc2VzLmdyaWRMaXN0RGl2IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBzdHlsZTogeyBwYWRkaW5nOiAnMnB4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGxlZnQ6IFwiMyVcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnZvaWNlLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5kb2N1bWVudE51bWJlcikgfHwgdGhpcy5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIG9uQ2xpY2s9eygpID0+IHRoaXMudG9nZ2xlQ2hlY2tib3goaW52b2ljZS5kb2N1bWVudE51bWJlcil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID09IHRydWUsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hZGRJbnZvaWNlKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIiwgbWFyZ2luTGVmdDogJzF2dycgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6IFwiLjg5cmVtXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC42NSwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kb2N1bWVudE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiAnMS4xNTZyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgX2Zvcm1hdHRlci5mb3JtYXR0ZXIpKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tCYXJPcGVuLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbWVzc2FnZS1pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlU25hY2tiYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICldXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSW52b2ljZVRhYmxlO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdGhpcy5oYW5kbGVGaWx0ZXJDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgX3RoaXMzLnByb3BzLmZpbHRlckludm9pY2VzKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlRXhwYW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLmV4cGFuZGVkID09IHRydWUpIF90aGlzMy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiBmYWxzZSB9KTtlbHNlIF90aGlzMy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZEludm9pY2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgLy8gdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkO1xuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJJRCBpc1wiLGlkKVxuICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaWRdID09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMzLnByb3BzLmluZGl2aWR1YWwpIF90aGlzMy51cGRhdGVMb2NhbE1hcChpZCwgXCJhZGRcIik7ZWxzZSBfdGhpczMucHJvcHMudXBkYXRlR2xvYmFsTWFwKGlkLCBcImFkZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHRoaXMuc2V0Q2hlY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfdGhpczMucHJvcHMuaW5kaXZpZHVhbCkgX3RoaXMzLnVwZGF0ZUxvY2FsTWFwKGlkLCBcInJlbW92ZVwiKTtlbHNlIF90aGlzMy5wcm9wcy51cGRhdGVHbG9iYWxNYXAoaWQsIFwicmVtb3ZlXCIsIHRydWUpO1xuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tBbGxJbnZvaWNlcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5jaGVja2VkID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5pbmRpdmlkdWFsKSBfdGhpczMudXBkYXRlTG9jYWxNYXAoX3RoaXMzLnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIpO2Vsc2UgX3RoaXMzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcChfdGhpczMuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIiwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBjaGVja2VkOiB0cnVlIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5pbmRpdmlkdWFsKSBfdGhpczMudXBkYXRlTG9jYWxNYXAoX3RoaXMzLnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIpO2Vsc2UgX3RoaXMzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcChfdGhpczMuc3RhdGUuaW52b2ljZXMsIFwiYWRkQXJyYXlcIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVMb2NhbE1hcCA9IGZ1bmN0aW9uIChkYXRhLCBmbGFnKSB7XG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xuICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgdGVtcFtkYXRhXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0Q2hlY2soX3RoaXMzLnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgIHRlbXBbZGF0YV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRDaGVjayhfdGhpczMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFkZEFycmF5XCI6XG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldENoZWNrKF90aGlzMy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlQXJyYXlcIjpcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbaV0uaWRdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldENoZWNrKF90aGlzMy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zZXRDaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBfdGhpczMuc3RhdGUuaW52b2ljZXM7XG4gICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBhbGxFbWFpbHNGbGFnID0gZmFsc2U7XG5cbiAgICAgICAgLy9lbmFibGUgb3IgZGlzYWJsZSBlbWFpbCBpY29uIGJhc2VkIG9uIHNlbGVjdGlvblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlbXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2pdLmlkXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYWxsRW1haWxzRmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWxsRW1haWxzRmxhZykge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtpXS5pZF0gPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGVtcC5sZW5ndGggPT0gMCkgZmxhZyA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSkgX3RoaXMzLnNldFN0YXRlKHsgY2hlY2tlZDogZmFsc2UgfSk7ZWxzZSBfdGhpczMuc2V0U3RhdGUoeyBjaGVja2VkOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc25hY2tCYXJNZXNzYWdlOiBtZXNzYWdlIH0pO1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VTbmFja2JhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZW5kRW1haWwgPSBmdW5jdGlvbiAoaW52b2ljZUlkKSB7XG4gICAgICAgIC8vQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcbiAgICAgICAgdmFyIHJlcUVtYWlsT2JqID0ge1xuICAgICAgICAgICAgY3VzdG9tZXJJZDogX3RoaXMzLnN0YXRlLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IFtpbnZvaWNlSWRdLFxuICAgICAgICAgICAgZnJvbTogX3RoaXMzLnN0YXRlLmNvbGxlY3Rvci5lbWFpbElkLCAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXG4gICAgICAgICAgICB0bzogX3RoaXMzLnByb3BzLmVtYWlsT2ZDYWxsZWQgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cbiAgICAgICAgfTtcblxuICAgICAgICAvL01ha2luZyBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgRW1haWwgZm9yIHRoaXMgaW52b2ljZVxuICAgICAgICBfYXhpb3MyLmRlZmF1bHQucG9zdChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHknLCByZXFFbWFpbE9iailcbiAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgLy8gbW9jayBzZXJ2ZXIgYXBpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgX3RoaXMzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzMy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbmRCdWxrRW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyBCdWxrIGVtYWlsXCIpO1xuICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlcztcbiAgICAgICAgdmFyIGRvY3VtZW50TnVtYmVycyA9IFtdO1xuXG4gICAgICAgIC8vIEdldCB0aGUgY2hlY2tlZCBpbnZvaWNlIElkc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2ldLmlkXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXJzLnB1c2godGVtcFtpXS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGluZyByZXF1ZXN0IG9iamVjdFxuICAgICAgICB2YXIgcmVxRW1haWxPYmogPSB7XG4gICAgICAgICAgICBjdXN0b21lcklkOiBfdGhpczMuc3RhdGUuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBkb2N1bWVudElkczogZG9jdW1lbnROdW1iZXJzLFxuICAgICAgICAgICAgZnJvbTogX3RoaXMzLnN0YXRlLmNvbGxlY3Rvci5lbWFpbElkLCAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXG4gICAgICAgICAgICB0bzogX3RoaXMzLnByb3BzLmVtYWlsT2ZDYWxsZWRcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNYWtpbmcgYSBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgZW1haWxzXG4gICAgICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weScsIHJlcUVtYWlsT2JqKVxuICAgICAgICAvLyBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopICAgIC8vIG1vY2sgc2VydmVyIGFwaVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIF90aGlzMy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVtYWlsIHNlbnRcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFcnJvciBpbiBzZW5kaW5nIGVtYWlsXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMDtcbiAgICAgICAgdmFyIGludm9pY2VzID0gX3RoaXMzLnN0YXRlLmludm9pY2VzO1xuICAgICAgICBmb3IgKHZhciBpIGluIGludm9pY2VzKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlc1tpXS5pZF0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXNDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzQ291bnQgPT0gMCB8fCAhX3RoaXMzLnByb3BzLnBvc3RDYWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gJyhUb3RhbDogJCcgKyAoMCwgX2Zvcm1hdHRlci5mb3JtYXR0ZXIpKF90aGlzMy5zdGF0ZS50b3RhbEFtb3VudCwgXCJcIikgKyAnIC0gJyArIF90aGlzMy5zdGF0ZS5pbnZvaWNlcy5sZW5ndGggKyAnIEludm9pY2VzKSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcoJyArIHNlbGVjdGVkSW52b2ljZXNDb3VudCArICcgU2VsZWN0ZWQpJztcbiAgICB9O1xufTtcblxuSW52b2ljZVRhYmxlLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICAgIGZpbHRlckludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5cbkludm9pY2VUYWJsZS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbnZhciBjb21iaW5lZFN0eWxlID0gKDAsIF9jb21iaW5lU3R5bGVzMi5kZWZhdWx0KShzdHlsZXMsIF9iYXNlU3R5bGUyLmRlZmF1bHQpO1xuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW52b2ljZVRhYmxlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwODM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLm5hbWVTaGFwZSA9IHVuZGVmaW5lZDtcbmV4cG9ydHMudHJhbnNpdGlvblRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25UaW1lb3V0KHRyYW5zaXRpb25UeXBlKSB7XG4gIHZhciB0aW1lb3V0UHJvcE5hbWUgPSAndHJhbnNpdGlvbicgKyB0cmFuc2l0aW9uVHlwZSArICdUaW1lb3V0JztcbiAgdmFyIGVuYWJsZWRQcm9wTmFtZSA9ICd0cmFuc2l0aW9uJyArIHRyYW5zaXRpb25UeXBlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAvLyBJZiB0aGUgdHJhbnNpdGlvbiBpcyBlbmFibGVkXG4gICAgaWYgKHByb3BzW2VuYWJsZWRQcm9wTmFtZV0pIHtcbiAgICAgIC8vIElmIG5vIHRpbWVvdXQgZHVyYXRpb24gaXMgcHJvdmlkZWRcbiAgICAgIGlmIChwcm9wc1t0aW1lb3V0UHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcih0aW1lb3V0UHJvcE5hbWUgKyAnIHdhc25cXCd0IHN1cHBsaWVkIHRvIENTU1RyYW5zaXRpb25Hcm91cDogJyArICd0aGlzIGNhbiBjYXVzZSB1bnJlbGlhYmxlIGFuaW1hdGlvbnMgYW5kIHdvblxcJ3QgYmUgc3VwcG9ydGVkIGluICcgKyAnYSBmdXR1cmUgdmVyc2lvbiBvZiBSZWFjdC4gU2VlICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1hbmltYXRpb24tdHJhbnNpdGlvbi1ncm91cC10aW1lb3V0IGZvciBtb3JlICcgKyAnaW5mb3JtYXRpb24uJyk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGR1cmF0aW9uIGlzbid0IGEgbnVtYmVyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wc1t0aW1lb3V0UHJvcE5hbWVdICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRpbWVvdXRQcm9wTmFtZSArICcgbXVzdCBiZSBhIG51bWJlciAoaW4gbWlsbGlzZWNvbmRzKScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG52YXIgbmFtZVNoYXBlID0gZXhwb3J0cy5uYW1lU2hhcGUgPSBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xuICBlbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufSksIF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xuICBlbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGVudGVyQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgbGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBsZWF2ZUFjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFwcGVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFwcGVhckFjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcbn0pXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDg0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX1RyYW5zY3JpcHRDaGF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDg1KTtcblxudmFyIF9UcmFuc2NyaXB0Q2hhdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2NyaXB0Q2hhdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7fTtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gICAgdHJhbnNjcmlwdEdyaWRJRDogJ3RyYW5zY3JpcHRpb24tZ3JpZCcsXG4gICAgdHJhbnNjcmlwdENvbnRhaW5lckNsYXNzOiAnJyxcbiAgICB0cmFuc2NyaXB0VGl0bGVDbGFzc05hbWU6ICcnLFxuICAgIHRyYW5zY3JpcHRDaGF0UHJvcHM6IHt9XG59O1xuXG52YXIgVHJhbnNjcmlwdEJveCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFRyYW5zY3JpcHRCb3gsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gVHJhbnNjcmlwdEJveChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNjcmlwdEJveCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRyYW5zY3JpcHRCb3guX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUcmFuc2NyaXB0Qm94KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoVHJhbnNjcmlwdEJveCwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGF1dG9TY3JvbGwgPSBfcHJvcHMuYXV0b1Njcm9sbCxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdENvbnRhaW5lckNsYXNzID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q2hhdFByb3BzID0gX3Byb3BzLnRyYW5zY3JpcHRDaGF0UHJvcHMsXG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lID0gX3Byb3BzLnRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZTtcblxuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpdGVtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB4czogMTIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3NcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB0cmFuc2NyaXB0VGl0bGVDbGFzc05hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgJ0NBTEwgVFJBTlNDUklQVCdcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2NyaXB0Q2hhdDIuZGVmYXVsdCwgX2V4dGVuZHMoe1xuICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsOiB0cnVlXG4gICAgICAgICAgICAgICAgfSwgdHJhbnNjcmlwdENoYXRQcm9wcykpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRyYW5zY3JpcHRCb3g7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFRyYW5zY3JpcHRCb3gpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA4NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfQ2hhdEJveCA9IF9fd2VicGFja19yZXF1aXJlX18oNjExNCk7XG5cbnZhciBfQ2hhdEJveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaGF0Qm94KTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBhdXRob3IgQmFscmFqIFNpbmdoIDxiYWxyYWpzaW5naC5zQGhpZ2hyYWRpdXMuY29tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHRyYW5zY3JpcHRUZXh0UGFyZW50OiB7XG4gICAgICB3aGl0ZVNwYWNlOiAncHJlLWxpbmUnLFxuICAgICAgbWFyZ2luVG9wOiAnMi41cmVtJyxcbiAgICAgIGhlaWdodDogJzg1JScsXG4gICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgIHBhZGRpbmc6ICcwLjVyZW0gMC41cmVtIDAuNXJlbSAwcHgnLFxuICAgICAgZm9udEZhbWlseTogJ1JvYm90bycsXG4gICAgICBtYXJnaW5MZWZ0OiAnMXJlbScsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgd29yZFdyYXA6ICdicmVhay13b3JkJ1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBUcmFuc2NyaXB0Q2hhdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUcmFuc2NyaXB0Q2hhdCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHJhbnNjcmlwdENoYXQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNjcmlwdENoYXQpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRyYW5zY3JpcHRDaGF0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHJhbnNjcmlwdENoYXQpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5zY3JvbGxUb0JvdHRvbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGxldCBjdXJyZW50ID0gdGhpcy5teVJlZi5jdXJyZW50O1xuICAgICAgdmFyIGNvbnRhaW5lcklEID0gX3RoaXMucHJvcHMudHJhbnNjcmlwdEdyaWRJRDtcbiAgICAgIHZhciB0cmFuc2NyaXB0aW9uR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklEKTtcbiAgICAgIGlmICh0cmFuc2NyaXB0aW9uR3JpZCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJRCkuc2Nyb2xsVG9wID0gdHJhbnNjcmlwdGlvbkdyaWQuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5nZW5lcmF0ZUNoYXRCb3hlcyA9IGZ1bmN0aW9uICh0cmFuc2NyaXB0TWVzc2FnZSwgaW5kZXgpIHtcbiAgICAgIC8vY29sbGVjdG9yIHRvIHRoZSByaWdodFxuICAgICAgaWYgKHRyYW5zY3JpcHRNZXNzYWdlLmluY2x1ZGVzKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkNPTExFQ1RPUikpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGF0Qm94Mi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICBpc0NvbGxlY3RvcjogdHJ1ZSxcbiAgICAgICAgICBpbml0aWFsczogX3RoaXMucHJvcHMudXNlckluaXRpYWxzID8gX3RoaXMucHJvcHMudXNlckluaXRpYWxzIDogXCJNRVwiLFxuICAgICAgICAgIG1lc3NhZ2U6IHRyYW5zY3JpcHRNZXNzYWdlLnJlcGxhY2UoX2NvbnN0YW50cy5UUkFOU0NSSVBUX0RFTElNRVRFUlMuQ09MTEVDVE9SLCBcIlwiKVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNjcmlwdE1lc3NhZ2UuaW5jbHVkZXMoX2NvbnN0YW50cy5UUkFOU0NSSVBUX0RFTElNRVRFUlMuQ1VTVE9NRVIpKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hhdEJveDIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgaXNDb2xsZWN0b3I6IGZhbHNlLFxuICAgICAgICAgIGluaXRpYWxzOiBfdGhpcy5wcm9wcy5jYWxsZWRUb05hbWVJbml0aWFscyxcbiAgICAgICAgICBtZXNzYWdlOiB0cmFuc2NyaXB0TWVzc2FnZS5yZXBsYWNlKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkNVU1RPTUVSLCBcIlwiKVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNjcmlwdE1lc3NhZ2UuaW5jbHVkZXMoX2NvbnN0YW50cy5UUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTKSkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoYXRCb3gyLmRlZmF1bHQsIHtcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgIGlzRGV0ZWN0aW5nOiB0cnVlLFxuICAgICAgICAgIGluaXRpYWxzOiBcIlwiLFxuICAgICAgICAgIG1lc3NhZ2U6IHRyYW5zY3JpcHRNZXNzYWdlLnJlcGxhY2UoX2NvbnN0YW50cy5UUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTLCBcIlwiKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0cmFuc2NyaXB0aW9uOiBbXVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRyYW5zY3JpcHRDaGF0LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSwgc25hcHNob3QpIHtcblxuICAgICAgaWYgKHRoaXMucHJvcHMuYXV0b1Njcm9sbCkge1xuICAgICAgICBjb25zb2xlLmxvZygnQXV0byBTY3JvbGxpbmcnKTtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICB0cmFuc2NyaXB0aW9uID0gX3Byb3BzLnRyYW5zY3JpcHRpb24sXG4gICAgICAgICAgdHJhbnNjcmlwdEdyaWRJRCA9IF9wcm9wcy50cmFuc2NyaXB0R3JpZElEO1xuXG4gICAgICB2YXIgZXh0cmFjdGVkVHJhbnNjcmlwdCA9ICgwLCBfaGVscGVyLnNwbGl0VHJhbnNjcmlwdCkodHJhbnNjcmlwdGlvbik7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGlkOiB0cmFuc2NyaXB0R3JpZElELCBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNjcmlwdFRleHRQYXJlbnQgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIxMDAlXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiIH0gfSxcbiAgICAgICAgICBleHRyYWN0ZWRUcmFuc2NyaXB0Lm1hcCh0aGlzLmdlbmVyYXRlQ2hhdEJveGVzKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUcmFuc2NyaXB0Q2hhdDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblRyYW5zY3JpcHRDaGF0LnByb3BUeXBlcyA9IHtcbiAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblRyYW5zY3JpcHRDaGF0LmRlZmF1bHRQcm9wcyA9IHtcbiAgdHJhbnNjcmlwdGlvbjogXCJcIixcbiAgY2FsbGVkVG9OYW1lSW5pdGlhbHM6IFwiQ05cIiwgLy9DTiA9IEN1c3RvbWVyIE5hbWVcbiAgdXNlckluaXRpYWxzOiBcIk1FXCJcbn07XG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFRyYW5zY3JpcHRDaGF0KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9yZWFjdFJvdXRlckRvbSA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXG52YXIgX2FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblxudmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA5MSk7XG5cbnZhciBfQWN0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BY3Rpb25zKTtcblxudmFyIF9pY29ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTY2KTtcblxudmFyIF9jb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cbnZhciBfQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0J1dHRvbik7XG5cbnZhciBfVGV4dEZpZWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjYpO1xuXG52YXIgX1RleHRGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0RmllbGQpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmN1bGFyUHJvZ3Jlc3MpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX0ZpbmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA0KTtcblxudmFyIF9GaW5hbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaW5hbCk7XG5cbnZhciBfRHJhd2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzQpO1xuXG52YXIgX0RyYXdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EcmF3ZXIpO1xuXG52YXIgX0N1c3RvbUZvb3RlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTczKTtcblxudmFyIF9DdXN0b21Gb290ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ3VzdG9tRm9vdGVyKTtcblxudmFyIF9Hcm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nyk7XG5cbnZhciBfR3JvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm93KTtcblxudmFyIF9GYWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cbnZhciBfRmFiMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZhYik7XG5cbnZhciBfQ3VzdG9tRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzApO1xuXG52YXIgX0N1c3RvbURpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21EaWFsb2cpO1xuXG52YXIgX1NuYWNrYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjgpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxudmFyIF9JY29uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cbnZhciBfSWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uQnV0dG9uKTtcblxudmFyIF9DbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXG52YXIgX0Nsb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlKTtcblxudmFyIF9BY3Rpb25DcmVhdG9yRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTEzKTtcblxudmFyIF9BY3Rpb25DcmVhdG9yRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FjdGlvbkNyZWF0b3JEaWFsb2cpO1xuXG52YXIgX1RyYW5zY3JpcHRCb3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODQpO1xuXG52YXIgX1RyYW5zY3JpcHRCb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNjcmlwdEJveCk7XG5cbnZhciBfaGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXG52YXIgX3Bvc3RDYWxsSGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTIwKTtcblxudmFyIF9jb21tb25TZXJ2aWNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTIxKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIGFwcEZyYW1lOiB7XG4gICAgICBvdmVyZmxvd1g6ICdoaWRkZW4nLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBtYXhIZWlnaHQ6ICcxMDB2aCcsXG4gICAgICB3aWR0aDogJzEwMCUnXG4gICAgfSxcbiAgICByb290OiB7XG4gICAgICBtYXJnaW46ICcxLjEydmggMS4wNDF2dyAwZW0gMS4wNDF2dycsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5tYWluLFxuICAgICAgd2lkdGg6IFwiMTAwJVwiXG4gICAgfSxcbiAgICB0cmFuc2NyaXB0Qm94OiB7XG4gICAgICBoZWlnaHQ6ICc1OC45OHZoJyxcbiAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbixcbiAgICAgIG1hcmdpbkJvdHRvbTogJzEuODV2aCdcbiAgICB9LFxuICAgIHN1bW1hcnlCb3g6IHtcbiAgICAgIGhlaWdodDogJzI1LjUwdmgnLFxuICAgICAgcGFkZGluZzogJzAuOHJlbScsXG4gICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW5cbiAgICB9LFxuICAgIHRyYW5zY3JpcHRUaXRsZToge1xuICAgICAgZm9udFNpemU6ICcxLjFyZW0nLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgcGFkZGluZ0xlZnQ6IFwiLjhyZW1cIixcbiAgICAgIHBhZGRpbmdUb3A6IFwiLjhyZW1cIixcbiAgICAgIG9wYWNpdHk6IDAuNjUsXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXG4gICAgfSxcbiAgICBub25BY3Rpb25Ob3Rlc1RpdGxlOiB7XG4gICAgICBmb250U2l6ZTogXCIxcmVtXCIsXG4gICAgICBsaW5lSGVpZ2h0OiBcIjEuNXJlbVwiLFxuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIG9wYWNpdHk6IDAuNjVcbiAgICB9LFxuICAgIGN1c3RvbWVyTmFtZToge1xuICAgICAgZm9udFNpemU6IFwiMS43OHJlbVwiLFxuICAgICAgbGluZUhlaWdodDogXCIyLjFyZW1cIlxuICAgIH0sXG4gICAgY3VzdG9tZXJEZXRhaWxUZXh0OiB7XG4gICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgIH0sXG4gICAgY3VzdG9tZXJOdW1iZXI6IHtcbiAgICAgIGZvbnRTaXplOiBcIi44cmVtXCJcbiAgICB9LFxuICAgIG5vbkFjdGlvbk5vdGVzRWRpdGluZzoge1xuICAgICAgYm94U2hhZG93OiBcIiAwIDRweCA4cHggMCByZ2JhKDAsMCwwLDAuMilcIixcbiAgICAgIHBhZGRpbmc6IFwiMC44cmVtXCIsXG4gICAgICBib3JkZXI6IFwiMnB4IHNvbGlkICNGRkZcIlxuICAgIH0sXG4gICAgdGVzdDoge1xuICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgIGhlaWdodDogJzEwdmgnLFxuICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICBwYWRkaW5nOiAnMHB4JyxcbiAgICAgIGRpc3BsYXk6ICdibG9jayAhaW1wb3J0YW50JyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIHdoaXRlU3BhY2U6ICdwcmUtbGluZSdcbiAgICB9LFxuICAgIGJ1dHRvbjoge1xuICAgICAgZm9udFNpemU6IFwiMC41cmVtXCIsXG4gICAgICB3aWR0aDogXCI3LjI5MjJ2d1wiLFxuICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgIG1pbkhlaWdodDogXCI0LjQ0NDR2aFwiLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2QkZFNydcbiAgICAgIH1cbiAgICB9LFxuICAgIGJ1dHRvblRpdGxlOiB7XG4gICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIGhlYWRpbmc6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRTaXplOiAnMS4wNjdyZW0nLFxuICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgcGFkZGluZ0JvdHRvbTogJzEuOTR2aCdcbiAgICB9LFxuICAgIG5leHRDdXN0b21lclVybDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICBmb250U2l6ZTogJzAuODg4cmVtJyxcbiAgICAgIGhlaWdodDogXCI0LjQ0NDR2aFwiLFxuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICBhY3Rpb25CdXR0b246IHtcbiAgICAgIGJveFNoYWRvdzogJ25vbmUnLFxuICAgICAgZm9udFNpemU6ICcxLjExMXJlbScsXG4gICAgICAnJjpob3ZlciwgJiRmb2N1c1Zpc2libGUnOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM4NkJGRTcnXG4gICAgICB9LFxuICAgICAgaGVpZ2h0OiAnNi40OHZoJ1xuICAgIH0sXG4gICAgcG9zdENhbGxDYXJkR3JpZDoge1xuICAgICAgbWFyZ2luVG9wOiAnMi4wMzd2aCdcbiAgICB9LFxuICAgIHBhZGRpbmdSaWdodE9uQ2FyZDoge1xuICAgICAgcGFkZGluZ1JpZ2h0OiAnMS4wNDF2dydcbiAgICB9XG4gIH07XG59O1xuXG52YXIgUG9zdENhbGwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUG9zdENhbGwsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBvc3RDYWxsKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvc3RDYWxsKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQb3N0Q2FsbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBvc3RDYWxsKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc25hY2tNZXNzYWdlUXVldWUgPSBbXTtcblxuICAgIF90aGlzLmRlbGV0ZUFjdGlvbiA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgY29uc29sZS5sb2coXCJJRFwiLCBpZCwgc3VtbWFyeSk7XG4gICAgICB2YXIgc3VtbWFyeSA9IF90aGlzLnN0YXRlLnN1bW1hcnkuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICByZXR1cm4gZWwuaWQgIT0gaWQ7XG4gICAgICB9KTtcbiAgICAgIHZhciBtYXAgPSBfdGhpcy5zdGF0ZS5zdW1tYXJ5Q29tcGxldGlvbk1hcDtcblxuICAgICAgbWFwLmRlbGV0ZShpZCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKG1hcCk7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogc3VtbWFyeSwgc3VtbWFyeUNvbXBsZXRpb25NYXA6IG1hcCB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMubWFya1N1bW1hcnlBc0RvbmUgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHZhciBkb25lTWFwID0gX3RoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XG4gICAgICB2YXIgcHJldlN1bW1hcnkgPSBfdGhpcy5zdGF0ZS5zdW1tYXJ5O1xuXG4gICAgICBmb3IgKHZhciBpIGluIHByZXZTdW1tYXJ5KSB7XG4gICAgICAgIGlmIChwcmV2U3VtbWFyeVtpXS5pZCA9PSBpZCkge1xuICAgICAgICAgIHByZXZTdW1tYXJ5W2ldLnNhdmUgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogcHJldlN1bW1hcnkgfSk7XG4gICAgICBkb25lTWFwLnNldChpZCwgdHJ1ZSk7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnlDb21wbGV0aW9uTWFwOiBkb25lTWFwIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy51cGRhdGVBY3Rpb25JdGVtQ2hlY2sgPSBmdW5jdGlvbiAoZ2VuZXJhdGVkU3VtbWFyeSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBub3RlczogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5zdGF0ZS5ub3RlcyksIFtnZW5lcmF0ZWRTdW1tYXJ5XSksXG4gICAgICAgIGlzQW55QWN0aW9uQ29tcGxldGVkOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc2F2ZVBvc3RDYWxsVGhpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCgwLCBfcG9zdENhbGxIZWxwZXIuY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXApKF90aGlzLnN0YXRlLnN1bW1hcnlDb21wbGV0aW9uTWFwKSkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGRvUmV2aWV3RGlhbG9nT3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXMgJiYgX3RoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXMudHJpbSgpKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBub3RlczogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5zdGF0ZS5ub3RlcyksIFtfdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlcy50cmltKCldKSxcbiAgICAgICAgICBub25BY3Rpb25JbmNsdWRlZDogdHJ1ZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuc2F2ZUNhbGxMb2coKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zYXZlQ2FsbExvZygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5zYXZlTm90ZXNDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXG4gICAgICAgIHByZXZOb25BY3Rpb25Ob3RlczogX3RoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXNcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuYmx1ck5vbkFjdGlvbk5vdGVzQm94KCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZGlzY2FyZE5vdGVzQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxuICAgICAgICBub25BY3Rpb25Ob3RlczogX3RoaXMuc3RhdGUucHJldk5vbkFjdGlvbk5vdGVzXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmJsdXJOb25BY3Rpb25Ob3Rlc0JveCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5TbmFja2JhciA9IGZ1bmN0aW9uIChtZXNzYWdlVHlwZSkge1xuICAgICAgX3RoaXMuc25hY2tNZXNzYWdlUXVldWUucHVzaCh7XG4gICAgICAgIG1lc3NhZ2U6IF9jb25zdGFudHMuU05BQ0tfTUVTU0FHRVNbbWVzc2FnZVR5cGVdLFxuICAgICAgICBrZXk6IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnN0YXRlLnNuYWNrT3Blbikge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNuYWNrT3BlbjogZmFsc2UgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5wcm9jZXNzUXVldWUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucHJvY2Vzc1F1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnNuYWNrTWVzc2FnZVF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNuYWNrTWVzc2FnZTogX3RoaXMuc25hY2tNZXNzYWdlUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICBzbmFja09wZW46IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU5vbmFjdGlvbk5vdGVzQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgbm9uQWN0aW9uTm90ZXM6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKGV2ZW50LCByZWFzb24pIHtcbiAgICAgIGlmIChyZWFzb24gPT09ICdjbGlja2F3YXknKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU25hY2tiYXJFeGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjdGlvbkl0ZW1DbGljayA9IGZ1bmN0aW9uIChhY3Rpb25UeXBlKSB7XG4gICAgICB2YXIgbmV3QWN0aW9uID0gKDAsIF9oZWxwZXIuY3JlYXRlQWN0aW9uKShhY3Rpb25UeXBlKTtcbiAgICAgIC8vQWRkIHRoZSBuZXdseSBjcmVhdGVkIGFjdGlvbiB0byBzdW1tYXJ5IGFycmF5XG4gICAgICAvL2lmIG5ld0FjdGlvbiBpcyBudWxsIHNraXAgYWRkaW5nIGl0XG4gICAgICBjb25zb2xlLmxvZygnQWN0aW9uIGNyZWF0ZWQnLCBuZXdBY3Rpb24pO1xuICAgICAgaWYgKG5ld0FjdGlvbikge1xuICAgICAgICB2YXIgc3VtbWFyeUxlbmd0aCA9IF90aGlzLnN0YXRlLnN1bW1hcnkubGVuZ3RoO1xuXG4gICAgICAgIGlmIChzdW1tYXJ5TGVuZ3RoID4gMCkge1xuICAgICAgICAgIG5ld0FjdGlvblsnaWQnXSA9IF90aGlzLnN0YXRlLnN1bW1hcnlbc3VtbWFyeUxlbmd0aCAtIDFdWydpZCddICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdBY3Rpb25bJ2lkJ10gPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3QWN0aW9uWydzYXZlJ10gPSBmYWxzZTtcbiAgICAgICAgbmV3QWN0aW9uWydjcmVhdGVkJ10gPSB0cnVlO1xuXG4gICAgICAgIHZhciBzdW1tYXJ5Q29tcGxldGlvbk1hcCA9IF90aGlzLnN0YXRlLnN1bW1hcnlDb21wbGV0aW9uTWFwO1xuICAgICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcC5zZXQobmV3QWN0aW9uLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN1bW1hcnk6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuc3RhdGUuc3VtbWFyeSksIFtuZXdBY3Rpb25dKSxcbiAgICAgICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcDogc3VtbWFyeUNvbXBsZXRpb25NYXBcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rpb24tc3VtbWFyeS1ncmlkLWNvbnRhaW5lcicpO1xuICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgZWwuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZygpO1xuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZVJldmlld1dhcm5pbmdEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGRvUmV2aWV3RGlhbG9nT3BlbjogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjdGlvbkNyZWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBkb09wZW5OZXdBY3Rpb25EaWFsb2c6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgZG9PcGVuTmV3QWN0aW9uRGlhbG9nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMudXBkYXRlU3VtbWFyeUZyb21DaGlsZCA9IGZ1bmN0aW9uIChuZXdTdW1tYXJ5LCBpZCkge1xuICAgICAgdmFyIHByZXZTdW1tYXJ5ID0gX3RoaXMuc3RhdGUuc3VtbWFyeTtcblxuICAgICAgZm9yICh2YXIgaSBpbiBwcmV2U3VtbWFyeSkge1xuICAgICAgICBpZiAocHJldlN1bW1hcnlbaV0uaWQgPT0gaWQpIHtcbiAgICAgICAgICBwcmV2U3VtbWFyeVtpXS5zdW1tYXJ5ID0gbmV3U3VtbWFyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHByZXZTdW1tYXJ5IH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy51cGRhdGVJbnZvaWNlcyA9IGZ1bmN0aW9uICh1cGRhdGVkSW52b2ljZXMsIGlkKSB7XG4gICAgICB2YXIgcHJldlN1bW1hcnkgPSBPYmplY3QuY3JlYXRlKF90aGlzLnN0YXRlLnN1bW1hcnkpO1xuICAgICAgdmFyIHVwZGF0ZWRJbnZvaWNlTGlzdCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSBpbiBwcmV2U3VtbWFyeSkge1xuICAgICAgICBpZiAocHJldlN1bW1hcnlbaV0uaWQgPT0gaWQpIHtcbiAgICAgICAgICBmb3IgKHZhciBfaSBpbiB1cGRhdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRJbnZvaWNlTGlzdC5wdXNoKHVwZGF0ZWRJbnZvaWNlc1tfaV0uZG9jdW1lbnROdW1iZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHByZXZTdW1tYXJ5W2ldLmVudGl0aWVzLmludm9pY2UgPSB1cGRhdGVkSW52b2ljZUxpc3Q7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBwcmV2U3VtbWFyeSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZWRpdE5vbkFjdGlvbk5vdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBpc0VkaXRpbmdPbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciB0ZXh0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uLWFjdGlvbi1ub3Rlcy1lZGl0LWZpZWxkJyk7XG4gICAgICAgICAgaWYgKHRleHRGaWVsZCkge1xuICAgICAgICAgICAgdGV4dEZpZWxkLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCA1MDApO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmJsdXJOb25BY3Rpb25Ob3Rlc0JveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGRcIik7XG4gICAgICAgIGlmICh0ZXh0RmllbGQpIHtcbiAgICAgICAgICB0ZXh0RmllbGQuYmx1cigpO1xuICAgICAgICB9XG4gICAgICB9LCA1MDApO1xuICAgIH07XG5cbiAgICBfdGhpcy5pbml0aWFsaXplU3VtbWFyeVdpdGhEZWZhdWx0cyA9IGZ1bmN0aW9uIChzdW1tYXJ5KSB7XG5cbiAgICAgIGlmIChzdW1tYXJ5ID09PSAnW10nKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogW10gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc3VtbWFyeVdpdGhJZHMgPSAoMCwgX3Bvc3RDYWxsSGVscGVyLmFwcGVuZElkc1RvU3VtbWFyeSkoc3VtbWFyeSk7XG4gICAgICAgIHZhciBzdW1tYXJ5Q29tcGxldGlvbk1hcCA9ICgwLCBfcG9zdENhbGxIZWxwZXIuY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXApKHN1bW1hcnkpO1xuICAgICAgICB2YXIgbm9uQWN0aW9uU3VtbWFyeSA9ICgwLCBfcG9zdENhbGxIZWxwZXIuY3JlYXRlSW5pdGlhbE5vbkFjdGlvblN1bW1hcnlOb3Rlcykoc3VtbWFyeSwgX3RoaXMucHJvcHMudm9pY2VtYWlsTWVzc2FnZSk7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzdW1tYXJ5OiBzdW1tYXJ5V2l0aElkcyxcbiAgICAgICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcDogc3VtbWFyeUNvbXBsZXRpb25NYXAsXG4gICAgICAgICAgbm9uQWN0aW9uTm90ZXM6IG5vbkFjdGlvblN1bW1hcnksXG4gICAgICAgICAgcHJldk5vbkFjdGlvbk5vdGVzOiBub25BY3Rpb25TdW1tYXJ5XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5zYXZlQ2FsbExvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjb21iaW5lZE5vdGVzID0gKDAsIF9wb3N0Q2FsbEhlbHBlci5nZW5lcmF0ZU5vdGVzQXNTdHJpbmcpKF90aGlzLnN0YXRlLm5vdGVzKTtcbiAgICAgIHZhciBjYWxsTG9nU3RhdGUgPSBfdGhpcy5wcm9wcy5jYWxsTG9nU3RhdGU7XG4gICAgICB2YXIgY3VzdG9tZXIgPSBfdGhpcy5wcm9wcy5jdXN0b21lcjtcbiAgICAgIHZhciByZXFQYXJhbXMgPSB7XG4gICAgICAgIGlkOiBjYWxsTG9nU3RhdGUuaWQsXG4gICAgICAgIGNhbGxTdW1tYXJ5OiBfdGhpcy5wcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb24sXG4gICAgICAgIGR1cmF0aW9uOiBfdGhpcy5wcm9wcy5jYWxsRHVyYXRpb24sXG4gICAgICAgIG5vdGU6IHtcbiAgICAgICAgICBjdXN0b21lcklkOiBjdXN0b21lci5pZCxcbiAgICAgICAgICBub3RlQ29udGVudDogY29tYmluZWROb3Rlc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgX2F4aW9zMi5kZWZhdWx0LnB1dChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvY2FsbCcsIHJlcVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBvcGVuUHJvZ3Jlc3NCYXI6IGZhbHNlLCBpc1Bvc3RDYWxsRG9uZTogdHJ1ZSB9KTtcbiAgICAgICAgX3N0b3JlLnN0b3JlLmRpc3BhdGNoKCgwLCBfYWN0aW9ucy5jaGFuZ2VUcmFuc2NyaXB0aW9uKSh7IHRyYW5zY3JpcHRpb246IFwiXCIgfSkpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBvcGVuUHJvZ3Jlc3NCYXI6IGZhbHNlLCBpc1Bvc3RDYWxsRG9uZTogdHJ1ZSB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5nZW5TdW1tYXJ5QWN0aW9uQ2FyZHMgPSBmdW5jdGlvbiAoc3VtbWFyeSkge1xuXG4gICAgICB2YXIgaW50ZW50ID0gc3VtbWFyeS5pbnRlbnQ7XG5cbiAgICAgIGlmICghKDAsIF9oZWxwZXIuaXNBY3Rpb25JbnRlbnQpKGludGVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9Hcm93Mi5kZWZhdWx0LFxuICAgICAgICB7XG4gICAgICAgICAgJ2luJzogdHJ1ZSxcbiAgICAgICAgICBrZXk6IHN1bW1hcnkuaWRcbiAgICAgICAgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0FjdGlvbnMyLmRlZmF1bHQsIHtcbiAgICAgICAgICBvbkRlbGV0ZTogZnVuY3Rpb24gb25EZWxldGUoaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5kZWxldGVBY3Rpb24oaWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25BY3Rpb25JdGVtQ29uZmlybTogX3RoaXMudXBkYXRlQWN0aW9uSXRlbUNoZWNrLFxuICAgICAgICAgIHN1bW1hcnk6IHN1bW1hcnksXG4gICAgICAgICAgc3R5bGU6IHsgd2lkdGg6IFwiMTAwJVwiLCBtYXJnaW5Cb3R0b206IFwiMC43cmVtXCIgfSxcbiAgICAgICAgICBpbnRlbnRUeXBlOiBpbnRlbnQsXG4gICAgICAgICAgYWxsSW52b2ljZUxpc3Q6IF90aGlzLnByb3BzLmludm9pY2VzLFxuICAgICAgICAgIGN1c3RvbWVyOiBfdGhpcy5wcm9wcy5jdXN0b21lcixcbiAgICAgICAgICBjYWxsZWRUb05hbWU6IF90aGlzLnByb3BzLmNhbGxlZFRvTmFtZSxcbiAgICAgICAgICBjYWxsZWRUb051bWJlcjogX3RoaXMucHJvcHMuY2FsbGVkVG9OdW1iZXIsXG4gICAgICAgICAgY29tcGxldGVkOiBmdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMubWFya1N1bW1hcnlBc0RvbmUoc3VtbWFyeS5pZCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBidWNrZXROYW1lczogX3RoaXMucHJvcHMuYnVja2V0TmFtZXMsXG4gICAgICAgICAgY29udGFjdExvZzogX3RoaXMucHJvcHMuY2FsbExvZ1N0YXRlLFxuICAgICAgICAgIGNhbGxTdGF0ZTogX3RoaXMucHJvcHMuY2FsbFN0YXRlLFxuICAgICAgICAgIGZvbGxvd3VwVGV4dExpc3Q6IF90aGlzLnN0YXRlLmZvbGxvd3VwVGV4dExpc3QsXG4gICAgICAgICAgcmVhc29uQ29kZUxpc3Q6IF90aGlzLnN0YXRlLnJlYXNvbkNvZGVMaXN0LFxuICAgICAgICAgIG9wZW5TbmFja2Jhck9uQWN0aW9uOiBmdW5jdGlvbiBvcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9wZW5TbmFja2JhcihtZXNzYWdlVHlwZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB1cGRhdGVJbnZvaWNlc0luUGFyZW50OiBmdW5jdGlvbiB1cGRhdGVJbnZvaWNlc0luUGFyZW50KHVwZGF0ZWRJbnZvaWNlcykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZUludm9pY2VzKHVwZGF0ZWRJbnZvaWNlcywgc3VtbWFyeS5pZCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB1cGRhdGVTdW1tYXJ5SW5QYXJlbnQ6IGZ1bmN0aW9uIHVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSkge1xuICAgICAgICAgICAgX3RoaXMudXBkYXRlU3VtbWFyeUZyb21DaGlsZCh1cGRhdGVkU3VtbWFyeSwgc3VtbWFyeS5pZCk7XG4gICAgICAgICAgfSB9KVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgX3RoaXMucHJvcHMub25IYW5ndXAoKTtcbiAgICBjb25zb2xlLmxvZyhfdGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmwsIFwibmV4dCBjdXN0b21lciB1cmxcIik7XG4gICAgX3RoaXMubmV4dEN1c3RvbWVUZXh0ID0gXCJHTyBUTyBORVhUIENVU1RPTUVSXCI7XG4gICAgX3RoaXMubmV4dEN1c3RvbWVyVXJsID0gX3RoaXMucHJvcHMubmV4dEN1c3RvbWVyVXJsO1xuICAgIGlmICghX3RoaXMubmV4dEN1c3RvbWVyVXJsKSB7XG4gICAgICBfdGhpcy5uZXh0Q3VzdG9tZXJVcmwgPSBcIi9cIjtcbiAgICAgIF90aGlzLm5leHRDdXN0b21lVGV4dCA9IFwiR08gQkFDSyBUTyBIT01FIFBBR0VcIjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coX3RoaXMucHJvcHMudG9DYWxsQ3VzdG9tZXJzLCBcInRvIGNhbGwgY3VzdG9tZXJzXCIpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBkYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxuICAgICAgc3VtbWFyeTogJycsXG4gICAgICB0cmFuc2NyaXB0aW9uOiBfdGhpcy5wcm9wcy5pbml0aWFsVHJhbnNjcmlwdGlvbixcbiAgICAgIG9wZW5Qcm9ncmVzc0JhcjogZmFsc2UsXG4gICAgICBkb09wZW5OZXdBY3Rpb25EaWFsb2c6IGZhbHNlLFxuICAgICAgaXNBbnlBY3Rpb25Db21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgZG9SZXZpZXdEaWFsb2dPcGVuOiBmYWxzZSxcbiAgICAgIG5vdGVzOiBbXSxcbiAgICAgIGlzUG9zdENhbGxEb25lOiBmYWxzZSxcbiAgICAgIHN1bW1hcnlDb21wbGV0aW9uTWFwOiBuZXcgTWFwKCksXG4gICAgICBwcmV2Tm9uQWN0aW9uTm90ZXM6ICcnLFxuICAgICAgbm9uQWN0aW9uTm90ZXM6ICcnLFxuICAgICAgc25hY2tNZXNzYWdlOiB7fSxcbiAgICAgIHNuYWNrT3BlbjogZmFsc2UsXG4gICAgICBmb2xsb3d1cFRleHRMaXN0OiBbXSxcbiAgICAgIHJlYXNvbkNvZGVMaXN0OiBbXSxcbiAgICAgIG5vbkFjdGlvbkluY2x1ZGVkOiBmYWxzZVxuICAgIH07XG5cbiAgICBfY29tbW9uU2VydmljZS5jb21tb25TZXJ2aWNlLmdldERpc3B1dGVDb2RlcygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHJlYXNvbkNvZGVMaXN0OiByZXNwb25zZSA/IHJlc3BvbnNlIDogW10gfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBsb2FkIGRpc3B1dGUgY29kZXNcIiwgZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgX2NvbW1vblNlcnZpY2UuY29tbW9uU2VydmljZS5nZXRUYXNrVHlwZXMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBmb2xsb3d1cFRleHRMaXN0OiByZXNwb25zZSA/IHJlc3BvbnNlIDogW10gfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBsb2FkIEZvbGxvdyB1cCB0ZXh0IGxpc3RcIiwgZXJyb3IpO1xuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQb3N0Q2FsbCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBuZXh0U3VtbWFyeSA9IG5leHRQcm9wcy50cmFuc2NyaXB0aW9uLnN1bW1hcnk7XG4gICAgICB2YXIgbmV4dFRyYW5zY3JpcHRpb24gPSBuZXh0UHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xuICAgICAgdmFyIGN1cnJlbnRUcmFuc2NyaXB0aW9uID0gdGhpcy5wcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XG4gICAgICBjb25zb2xlLmxvZygnU3VtbWFyeSByZWNlaXZlZCBpbiBQb3N0IENhbGwnLCBKU09OLnN0cmluZ2lmeShuZXh0U3VtbWFyeSkpO1xuXG4gICAgICBpZiAobmV4dFRyYW5zY3JpcHRpb24gJiYgbmV4dFRyYW5zY3JpcHRpb24gIT09IGN1cnJlbnRUcmFuc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyB0cmFuc2NyaXB0aW9uJywgbmV4dFRyYW5zY3JpcHRpb24pO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdHJhbnNjcmlwdGlvbjogbmV4dFRyYW5zY3JpcHRpb24gfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChKU09OLnN0cmluZ2lmeShuZXh0U3VtbWFyeSkgIT09IEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuc3VtbWFyeSkpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplU3VtbWFyeVdpdGhEZWZhdWx0cyhuZXh0U3VtbWFyeSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjbGFzc2VzID0gdGhpcy5wcm9wcy5jbGFzc2VzO1xuICAgICAgdmFyIGN1c3RvbWVyID0gdGhpcy5wcm9wcy5jdXN0b21lcjtcblxuICAgICAgdmFyIHVzZXIgPSB0aGlzLnByb3BzLnVzZXI7XG4gICAgICB2YXIgY2FsbGVkVG9OYW1lID0gdGhpcy5wcm9wcy5jYWxsZWRUb05hbWU7XG4gICAgICB2YXIgY2FsbGVkVG9OYW1lSW5pdGlhbHMgPSAoMCwgX2hlbHBlci5nZXRJbml0aWFsc0Zyb21OYW1lKShjYWxsZWRUb05hbWUpO1xuICAgICAgdmFyIHVzZXJJbml0aWFscyA9ICgwLCBfaGVscGVyLmdldEluaXRpYWxzRnJvbU5hbWUpKHVzZXIubmFtZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFwcEZyYW1lIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnJvb3QgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0J1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBpdGVtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgeHM6IDEwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2xlZnQnXG4gICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmN1c3RvbWVyTmFtZSwgY2xhc3Nlcy5jdXN0b21lckRldGFpbFRleHQpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuY3VzdG9tZXJOdW1iZXIsIGNsYXNzZXMuY3VzdG9tZXJEZXRhaWxUZXh0KSB9LFxuICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICAgICAgICBjb250YWluZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICB4czogMixcbiAgICAgICAgICAgICAgICAgIGp1c3RpZnk6ICdmbGV4LWVuZCcsXG4gICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5MZWZ0OiAnLTguMzN2dycgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcwcHggMCAwIDAnLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0J1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzQuNDQ0dmgnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9GYWIyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdleHRlbmRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc2F2ZVBvc3RDYWxsVGhpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0FkZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnN0YXRlLnN1bW1hcnkgPyBmYWxzZSA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5idXR0b24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5idXR0b25UaXRsZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnRG9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNQb3N0Q2FsbERvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Um91dGVyRG9tLkxpbmssXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgdGV4dERlY29yYXRpb246ICdub25lJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IHRoaXMubmV4dEN1c3RvbWVyVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvQ2FsbEN1c3RvbWVyczogdGhpcy5wcm9wcy50b0NhbGxDdXN0b21lcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMubmV4dEN1c3RvbWVyVXJsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDdXN0b21lVGV4dFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5wb3N0Q2FsbENhcmRHcmlkIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDgsIGNsYXNzTmFtZTogY2xhc3Nlcy5wYWRkaW5nUmlnaHRPbkNhcmQgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5oZWFkaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICdTVUdHRVNURUQgQUNUSU9OUydcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHhzOiAxMixcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICc3NC43dmgnLFxuICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlkOiAnYWN0aW9uLXN1bW1hcnktZ3JpZC1jb250YWluZXInXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIHRoaXMuc3RhdGUuc3VtbWFyeS5tYXAoZnVuY3Rpb24gKHN1bW1hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZW5TdW1tYXJ5QWN0aW9uQ2FyZHMoc3VtbWFyeSk7XG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLnN1bW1hcnkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IHN0bHllOiB7IGhlaWdodDogJzEwMCUnIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnNzB2aCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAnMS4zcmVtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnR2VuZXJhdGluZyBjYWxsIHN1bW1hcnknXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1bW1hcnkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyB3aWR0aDogJzEwMCUnIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvbkJ1dHRvbixcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ2NvbnRhaW5lZCcsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmhhbmRsZUFjdGlvbkNyZWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgZm9udFNpemU6ICcxLjA2N3JlbScgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnKyBDUkVBVEUgTkVXIEFDVElPTidcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHhzOiA0LFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6ICc4Ni4yOXZoJyB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNjcmlwdEJveDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zY3JpcHRCb3gsXG4gICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsOiBCb29sZWFuKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZTogY2xhc3Nlcy50cmFuc2NyaXB0VGl0bGUsXG4gICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q2hhdFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IHRoaXMuc3RhdGUudHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVkVG9OYW1lSW5pdGlhbHM6IGNhbGxlZFRvTmFtZUluaXRpYWxzLFxuICAgICAgICAgICAgICAgICAgICB1c2VySW5pdGlhbHM6ICdNRScsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRHcmlkSUQ6ICdwb3N0LWNhbGwtdHJhbnNjcmlwdGlvbi1ncmlkJ1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHhzOiAxMixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN1bW1hcnlCb3hcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLm5vbkFjdGlvbk5vdGVzVGl0bGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdOT04gQUNUSU9OIE5PVEVTJ1xuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmICF0aGlzLnN0YXRlLmlzRWRpdGluZ09uICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Cb3JkZXJDb2xvciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjNURBQUUwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQ6ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5lZGl0Tm9uQWN0aW9uTm90ZXNcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1bW1hcnkgJiYgdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmbG9hdDogJ3JpZ2h0JyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuSGlnaGxpZ2h0T2ZmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogJzAuNHJlbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjRkY4ODg4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMCAxLjNyZW0gMCAwLjhyZW0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuZGlzY2FyZE5vdGVzQ2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuQ2hlY2tDaXJjbGVPdXRsaW5lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjNUZDMzJDJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNhdmVOb3Rlc0NoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1bW1hcnkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgIGlkOiAnbm9uLWFjdGlvbi1ub3Rlcy1lZGl0LWZpZWxkJyxcbiAgICAgICAgICAgICAgICAgICAgICBtdWx0aWxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5oYW5kbGVOb25hY3Rpb25Ob3Rlc0NoYW5nZShlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiA/IGNsYXNzZXMubm9uQWN0aW9uTm90ZXNFZGl0aW5nIDogY2xhc3Nlcy5ub25BY3Rpb25Ob3Rlc05vdEVkaXRpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnbm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICBJbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKCF0aGlzLnN0YXRlLmlzRWRpdGluZ09uKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IEJvb2xlYW4odHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgc3RseWU6IHsgaGVpZ2h0OiAnMTAwJScgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcyMHZoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2lyY3VsYXJQcm9ncmVzczIuZGVmYXVsdCwgeyBzdHlsZTogeyBjb2xvcjogJyNlZWVlZWUnIH0gfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZWVlZWVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogJzEuM3JlbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdXYWl0aW5nIGZvciBzdW1tYXJ5J1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNQb3N0Q2FsbERvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgeHM6IDEyLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5wb3N0Q2FsbENhcmRHcmlkXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9GaW5hbDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgIGludm9pY2VMaXN0OiAoMCwgX2hlbHBlci5nZW5lcmF0ZUZpbmFsSW52b2ljZUxpc3QpKHRoaXMuc3RhdGUuc3VtbWFyeSwgdGhpcy5wcm9wcy5pbnZvaWNlcyksXG4gICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzOiB0aGlzLnN0YXRlLm5vdGVzLFxuICAgICAgICAgICAgICAgIG5vbkFjdGlvbkluY2x1ZGVkOiB0aGlzLnN0YXRlLm5vbkFjdGlvbkluY2x1ZGVkLFxuICAgICAgICAgICAgICAgIG5leHRDdXN0b21lclVybDogdGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmwsXG4gICAgICAgICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVycyxcbiAgICAgICAgICAgICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5jdXN0b21lcixcbiAgICAgICAgICAgICAgICBjb2xsZWN0b3I6IHRoaXMucHJvcHMuY29sbGVjdG9yLFxuICAgICAgICAgICAgICAgIGNvbnRhY3RJbmRleDogdGhpcy5wcm9wcy5jb250YWN0SW5kZXhcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQWN0aW9uQ3JlYXRvckRpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLmRvT3Blbk5ld0FjdGlvbkRpYWxvZyxcbiAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZUFjdGlvbkNyZWF0b3JEaWFsb2csXG4gICAgICAgICAgICAgIG9uQWN0aW9uSXRlbUNsaWNrOiBmdW5jdGlvbiBvbkFjdGlvbkl0ZW1DbGljayhhY3Rpb25UeXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVBY3Rpb25JdGVtQ2xpY2soYWN0aW9uVHlwZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLmRvUmV2aWV3RGlhbG9nT3BlbixcbiAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZVJldmlld1dhcm5pbmdEaWFsb2csXG4gICAgICAgICAgICAgIHRpdGxlOiBfY29uc3RhbnRzLlJFVklFV19XQVJOSU5HLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlUmV2aWV3V2FybmluZ0RpYWxvZyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICAgICApXVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU25hY2tiYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgYW5jaG9yT3JpZ2luOiB7XG4gICAgICAgICAgICAgICAgdmVydGljYWw6IFwiYm90dG9tXCIsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJsZWZ0XCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAga2V5OiB0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZS5rZXksXG4gICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tPcGVuLFxuICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogJ21lc3NhZ2UtaWQnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICB7IGlkOiB0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZS5rZXkgfSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZS5tZXNzYWdlXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9JY29uQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGtleTogJ2Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2xvc2UsXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICBvbkV4aXRlZDogdGhpcy5oYW5kbGVTbmFja2JhckV4aXRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgbnVsbClcbiAgICAgICAgICAgICAgKV1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQb3N0Q2FsbDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS5wZXJzb25hbERldGFpbHMsXG4gICAgY2FsbFN0YXRlOiBzdGF0ZS5jYWxsU3RhdGUsXG4gICAgdHJhbnNjcmlwdGlvbjogc3RhdGUudHJhbnNjcmlwdGlvbixcbiAgICBjYWxsTG9nU3RhdGU6IHN0YXRlLmNhbGxMb2dTdGF0ZVxuICB9O1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcykoKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShQb3N0Q2FsbCkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9QMlAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOTIpO1xuXG52YXIgX1AyUDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QMlApO1xuXG52YXIgX0Rpc3B1dGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMDApO1xuXG52YXIgX0Rpc3B1dGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzcHV0ZSk7XG5cbnZhciBfRm9sbG93dXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMDEpO1xuXG52YXIgX0ZvbGxvd3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZvbGxvd3VwKTtcblxudmFyIF9BY3Rpb25EZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTAyKTtcblxudmFyIF9BY3Rpb25EZXRhaWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FjdGlvbkRldGFpbHMpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzYpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuc2lvblBhbmVsKTtcblxudmFyIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nyk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuc2lvblBhbmVsU3VtbWFyeSk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWxEZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzQpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsRGV0YWlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FeHBhbnNpb25QYW5lbERldGFpbHMpO1xuXG52YXIgX0V4cGFuZE1vcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0MCk7XG5cbnZhciBfRXhwYW5kTW9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FeHBhbmRNb3JlKTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBhbmVsOiB7XG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZXhwYW5kZWRCYWNrZ3JvdW5kOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiLFxuICAgICAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDBweCAzcHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yKSlcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMCAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgcGFuZWxDb21tb246IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMCAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNXB4XCIsXG4gICAgICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMHB4IDNweCA2cHggcmdiYSgwLCAwLCAwLCAwLjIpKVwiXG4gICAgICAgIH0sXG4gICAgICAgIGV4cGFuZEljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGV4cGFuc2lvblBhbmVsUm9vdDoge1xuICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmUgIWltcG9ydGFudFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweCAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC44M3ZoXCJcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgQWN0aW9ucyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEFjdGlvbnMsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQWN0aW9ucyhwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWN0aW9ucyk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFjdGlvbnMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBY3Rpb25zKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cbiAgICAgICAgdmFyIGludm9pY2VzID0gX3RoaXMucHJvcHMuc3VtbWFyeS5lbnRpdGllc1tcImludm9pY2VcIl07XG4gICAgICAgIHZhciBpbml0aWFsSW52b2ljZURhdGEgPSBfdGhpcy5nZW5Jbml0aWFsSW52b2ljZURhdGEoaW52b2ljZXMpO1xuICAgICAgICB2YXIgY29ycmVjdEludm9pY2VzID0gaW5pdGlhbEludm9pY2VEYXRhLmNvcnJlY3RJbnZvaWNlcyxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcCA9IGluaXRpYWxJbnZvaWNlRGF0YS5jb3JyZWN0SW52b2ljZXNNYXAsXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnID0gaW5pdGlhbEludm9pY2VEYXRhLmluY29ycmVjdEZsYWc7XG5cblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGV4cGFuZGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGFtb3VudDogMCxcbiAgICAgICAgICAgIGludm9pY2VzOiBpbnZvaWNlcyxcbiAgICAgICAgICAgIHN1bW1hcnk6IF90aGlzLnByb3BzLnN1bW1hcnksXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IGNvcnJlY3RJbnZvaWNlcyxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogaW5jb3JyZWN0RmxhZyxcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogMFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEFjdGlvbnMsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgIGludGVudFR5cGUgPSBfcHJvcHMuaW50ZW50VHlwZTtcblxuICAgICAgICAgICAgdmFyIGNvbW1vblByb3BzID0gdGhpcy5nZXRDb21tb25Qcm9wcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0V4cGFuc2lvblBhbmVsMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyByb290OiBjbGFzc2VzLmV4cGFuc2lvblBhbmVsUm9vdCB9LFxuICAgICAgICAgICAgICAgICAgICBleHBhbmRlZDogdGhpcy5zdGF0ZS5leHBhbmRlZCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnBhbmVsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0V4cGFuc2lvblBhbmVsU3VtbWFyeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnN0YXRlLmV4cGFuZGVkID8gY2xhc3Nlcy5leHBhbmRlZEJhY2tncm91bmQgOiBjbGFzc2VzLnBhbmVsQ29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwYW5kSWNvbjogaW50ZW50VHlwZSAhPT0gX2NvbnN0YW50cy5JTlRFTlRfVFlQRVMuRk9MTE9XX1VQICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9FeHBhbmRNb3JlMi5kZWZhdWx0LCB7IG9uQ2xpY2s6IHRoaXMudG9nZ2xlRXhwYW5kLCBjbGFzc05hbWU6IGNsYXNzZXMuZXhwYW5kSWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlID09PSBfY29uc3RhbnRzLklOVEVOVF9UWVBFUy5QMlAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1AyUDIuZGVmYXVsdCwgX2V4dGVuZHMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxBbW91bnQ6IHRoaXMuc3RhdGUuYW1vdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogdGhpcy5zdGF0ZS5zdW1tYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZUNvdW50OiB0aGlzLnN0YXRlLmludm9pY2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNcbiAgICAgICAgICAgICAgICAgICAgfSwgY29tbW9uUHJvcHMpKSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZSA9PT0gX2NvbnN0YW50cy5JTlRFTlRfVFlQRVMuRElTUFVURSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRGlzcHV0ZTIuZGVmYXVsdCwgX2V4dGVuZHMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogdGhpcy5zdGF0ZS5zdW1tYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZUNvdW50OiB0aGlzLnN0YXRlLmludm9pY2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb25Db2RlTGlzdDogdGhpcy5wcm9wcy5yZWFzb25Db2RlTGlzdFxuICAgICAgICAgICAgICAgICAgICB9LCBjb21tb25Qcm9wcykpLFxuICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlID09PSBfY29uc3RhbnRzLklOVEVOVF9UWVBFUy5GT0xMT1dfVVAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZvbGxvd3VwMi5kZWZhdWx0LCBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiB0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiB0aGlzLnN0YXRlLnN1bW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3d1cFRleHRMaXN0OiB0aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3RcbiAgICAgICAgICAgICAgICAgICAgfSwgY29tbW9uUHJvcHMpKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbERldGFpbHMyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnBhbmVsQ29tbW9uIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9BY3Rpb25EZXRhaWxzMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdW06IHRoaXMuc3RhdGUuc3VtbWFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudFR5cGU6IGludGVudFR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlSW52b2ljZTogdGhpcy51cGRhdGVJbnZvaWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IHRoaXMuc3RhdGUuY29tcGxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXM6IHRoaXMucHJvcHMuYWxsSW52b2ljZUxpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXROYW1lczogdGhpcy5wcm9wcy5idWNrZXROYW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUludm9pY2VzOiBmdW5jdGlvbiB1cGRhdGVJbnZvaWNlcyhpbnZvaWNlcywgaW52b2ljZXNNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlQ29ycmVjdEludm9pY2VzKGludm9pY2VzLCBpbnZvaWNlc01hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFjdGlvbnM7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB0aGlzLnRvZ2dsZUV4cGFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgZXhwYW5kZWQ6ICFfdGhpczMuc3RhdGUuZXhwYW5kZWQgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2VuSW5pdGlhbEludm9pY2VEYXRhID0gZnVuY3Rpb24gKGludm9pY2VzKSB7XG4gICAgICAgIHZhciBjb3JyZWN0SW52b2ljZXMgPSBbXTtcbiAgICAgICAgdmFyIGNvcnJlY3RJbnZvaWNlc01hcCA9IHt9O1xuICAgICAgICB2YXIgaW5jb3JyZWN0RmxhZyA9IGZhbHNlO1xuICAgICAgICB2YXIgYWxsSW52b2ljZUxpc3QgPSBfdGhpczMucHJvcHMuYWxsSW52b2ljZUxpc3Q7XG5cbiAgICAgICAgaWYgKGludm9pY2VzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYWxsSW52b2ljZUxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBhbGxJbnZvaWNlTGlzdFtqXS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJbnZvaWNlID0gYWxsSW52b2ljZUxpc3Rbal1ba107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnZvaWNlc1tpXSA9PSBjdXJyZW50SW52b2ljZS5kb2N1bWVudE51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcy5wdXNoKGN1cnJlbnRJbnZvaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXBbY3VycmVudEludm9pY2UuaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghZmxhZykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcEludm9pY2UgPSBPYmplY3QuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnZvaWNlc1tpXSArICdpbmNvcnJlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXI6IGludm9pY2VzW2ldXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcy5wdXNoKHRlbXBJbnZvaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGludm9pY2VEYXRhID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IGNvcnJlY3RJbnZvaWNlcyxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogaW5jb3JyZWN0RmxhZ1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gaW52b2ljZURhdGE7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q29tbW9uUHJvcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGN1c3RvbWVyOiBfdGhpczMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICBjYWxsVG9OYW1lOiBfdGhpczMucHJvcHMuY2FsbGVkVG9OYW1lLFxuICAgICAgICAgICAgY2FsbGVkVG9OdW1iZXI6IF90aGlzMy5wcm9wcy5jYWxsZWRUb051bWJlcixcbiAgICAgICAgICAgIGNvbnRhY3RMb2c6IF90aGlzMy5wcm9wcy5jb250YWN0TG9nLFxuICAgICAgICAgICAgb25BY3Rpb25JdGVtQ29uZmlybTogX3RoaXMzLnByb3BzLm9uQWN0aW9uSXRlbUNvbmZpcm0sXG4gICAgICAgICAgICBkZWxldGVBY3Rpb246IF90aGlzMy5wcm9wcy5vbkRlbGV0ZSxcbiAgICAgICAgICAgIG9uQ29tcGxldGlvbjogX3RoaXMzLm1hcmtUaGlzQ29tcGxldGUsXG4gICAgICAgICAgICB0b2dnbGVFeHBhbmQ6IF90aGlzMy50b2dnbGVFeHBhbmQsXG4gICAgICAgICAgICBvcGVuU25hY2tiYXJPbkFjdGlvbjogZnVuY3Rpb24gb3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZVR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnByb3BzLm9wZW5TbmFja2Jhck9uQWN0aW9uKG1lc3NhZ2VUeXBlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVTdW1tYXJ5SW5QYXJlbnQ6IGZ1bmN0aW9uIHVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnksIF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVDb3JyZWN0SW52b2ljZXMgPSBmdW5jdGlvbiAoaW52b2ljZXMsIGludm9pY2VzTWFwKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IGludm9pY2VzLFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBpbnZvaWNlc01hcFxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMudXBkYXRlSW52b2ljZXNJblBhcmVudChpbnZvaWNlcyk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZUludm9pY2VzID0gZnVuY3Rpb24gKGZsYWcsIGludm9pY2VDb3VudCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogZmxhZyxcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogaW52b2ljZUNvdW50XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLm1hcmtUaGlzQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGNvbXBsZXRlZDogdHJ1ZSwgZXhwYW5kZWQ6IGZhbHNlIH0pO1xuICAgICAgICBfdGhpczMucHJvcHMuY29tcGxldGVkKCk7XG4gICAgfTtcbn07XG5cbkFjdGlvbnMucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoQWN0aW9ucyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDkyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxudmFyIF9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnV0dG9uKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cbnZhciBfZGF0ZUZucyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3Nik7XG5cbnZhciBfZGF0ZUZuczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlRm5zKTtcblxudmFyIF9tYXRlcmlhbFVpUGlja2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3Nyk7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX2JsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMyk7XG5cbnZhciBfYmx1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ibHVlKTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNik7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfRXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMSk7XG5cbnZhciBfRXJyb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXJyb3IpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX3JlYWN0TnVtYmVyRm9ybWF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDgwKTtcblxudmFyIF9yZWFjdE51bWJlckZvcm1hdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdE51bWJlckZvcm1hdCk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY3VsYXJQcm9ncmVzcyk7XG5cbnZhciBfQ3VzdG9tRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzApO1xuXG52YXIgX0N1c3RvbURpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21EaWFsb2cpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblxudmFyIF9kYXRlRm5zMyA9IF9fd2VicGFja19yZXF1aXJlX18oMTc1KTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxudmFyIF9jb21iaW5lU3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cbnZhciBfY29tYmluZVN0eWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lU3R5bGVzKTtcblxudmFyIF9iYXNlU3R5bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblxudmFyIF9iYXNlU3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFzZVN0eWxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vY29uc3RhbnRzXG52YXIgUDJQUmVnZXggPSAvKFByb21pc2UgdG8gcGF5IGZvciBcXGQqKXwoXFxkezR9LVxcZHsyfS1cXGR7Mn1UW1xcZHsyfTpdKi5cXGR7M31bLXwrXVxcZHsyfTpcXGR7Mn0pfChcXGQqIGludm9pY2UpL2c7XG52YXIgZGlzY2FyZE1lc3NhZ2UgPSBcIlRoaXMgd2lsbCBiZSByZW1vdmVkIHBlcm1hbmVudGx5IGZyb20gdGhlIHN1Z2dlc3RlZCBhY3Rpb25zLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLlwiO1xudmFyIHJlc29sdmVNZXNzYWdlID0gXCIgVW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBhY3Rpb24uIFBsZWFzZSByZXNvbHZlIHRoZSBlcnJvcnMgdG8gYXBwcm92ZS5cIjtcbnZhciBQMlBUZW1wbGF0ZSA9IFwiUGF5bWVudCBjb21taXRtZW50IHJlY2VpdmVkIGZvciA8QW1vdW50PiB0byBiZSBwYWlkIGJ5IDxEYXRlPiA8SW52b2ljZXM+LlwiO1xudmFyIFAyUF9PUklHX1RFTVBMQVRFID0gXCJDcmVhdGUgUHJvbWlzZSB0byBwYXkgZm9yIDxBbW91bnQ+IHRvIGJlIHBhaWQgYnkgPERhdGU+IGZvciA8SW52b2ljZXM+XCI7XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0RmllbGQ6IHtcbiAgICAgICAgICAgIG1hcmdpbjogXCIwcHhcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICB0ZXN0OiB7XG4gICAgICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgb3BhY2l0eTogMC42LFxuXG4gICAgICAgICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICM1REFBRTBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjNURBQUUwXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGVzdEluaXRpYWw6IHtcbiAgICAgICAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgICAgICBwYWRkaW5nOiAnMHB4JyxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjYsXG5cbiAgICAgICAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2ZmNDU0M1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25Qcm9ncmVzc0Jhcjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxLjVyZW0gIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIGNhcmRDb250ZW50OiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uSWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMS42cmVtXCIsXG4gICAgICAgICAgICB3aWR0aDogXCIxLjZyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlcnJvckZsYWc6IHtcbiAgICAgICAgICAgIGNvbG9yOiBcIiNGRjQ0NDRcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlRG9uZUJ0bjoge1xuICAgICAgICAgICAgb3BhY2l0eTogMC40LFxuICAgICAgICAgICAgY3Vyc29yOiBcImRlZmF1bHRcIlxuICAgICAgICB9XG5cbiAgICB9O1xufTtcblxudmFyIG1hdGVyaWFsVGhlbWUgPSAoMCwgX2NvcmUuY3JlYXRlTXVpVGhlbWUpKHtcbiAgICAvLyBvdmVycmlkZXM6IHtcbiAgICAvLyAgICAgTXVpRGlhbG9nIDoge1xuICAgIC8vICAgICAgICAgcGFwZXIgOiB7XG4gICAgLy8gICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yIDogXCIjMjczRDQ5XCIsXG4gICAgLy8gICAgICAgICAgICAgYm9yZGVyIDogXCIzcHggc29saWQgd2hpdGVcIlxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9LFxuICAgIC8vICAgICBNdWlQaWNrZXJzU2xpZGVUcmFuc2l0aW9uIDoge1xuICAgIC8vICAgICAgICAgdHJhbnNpdGlvbkNvbnRhaW5lciA6IHtcbiAgICAvLyAgICAgICAgICAgICBjb2xvciA6IFwiIzVEQUFFMFwiLFxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9LFxuICAgIC8vIE11aVBpY2tlcnNUb29sYmFyOiB7XG4gICAgLy8gICAgIHRvb2xiYXI6IHtcbiAgICAvLyAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjNURBQUUwXCIsXG4gICAgLy8gICAgICAgICBoZWlnaHQgOiBcIjEzdmhcIlxuICAgIC8vICAgICB9LFxuICAgIC8vIH0sXG4gICAgLy8gICAgIE11aVBpY2tlcnNDYWxlbmRhckhlYWRlcjoge1xuICAgIC8vICAgICAgICAgc3dpdGNoSGVhZGVyOiB7XG4gICAgLy8gICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBsaWdodEJsdWUuQTIwMCxcbiAgICAvLyAgICAgICAgICAgICAvLyBjb2xvcjogJ3doaXRlJyxcbiAgICAvLyAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICBkYXlMYWJlbCA6IHtcbiAgICAvLyAgICAgICAgICAgICBjb2xvciA6IFwiIzVEQUFFMFwiLFxuICAgIC8vICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgIGljb25CdXR0b24gOiB7XG4gICAgLy8gICAgICAgICAgICAgY29sb3IgOiBcIiM1REFBRTBcIixcbiAgICAvLyAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgOiBcInRyYW5zcGFyZW50XCJcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSxcbiAgICAvLyAgICAgTXVpSWNvbkJ1dHRvbiA6IHtcbiAgICAvLyAgICAgICAgIHJvb3QgOiB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGRpc2FibGVkIDoge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29sb3IgOiBcIiM1REFBRTBcIlxuICAgIC8vICAgICAgICAgICAgICAgICB9XG5cbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSxcbiAgICAvLyAgICAgTXVpVHlwb2dyYXBoeSA6IHtcbiAgICAvLyAgICAgICAgIGJvZHkxIDoge1xuICAgIC8vICAgICAgICAgICAgIGNvbG9yIDogXCIjNURBQUUwXCIsXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIE11aVBpY2tlcnNEYXk6IHtcbiAgICAvLyAgICAgICAgIGRheToge1xuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBcIiM1REFBRTBcIixcbiAgICAvLyAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICBzZWxlY3RlZDoge1xuICAgIC8vICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmx1ZVsnNDAwJ10sXG4gICAgLy8gICAgICAgICB9LFxuICAgIC8vICAgICAgICAgY3VycmVudDoge1xuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBibHVlWyc5MDAnXSxcbiAgICAvLyAgICAgICAgIH0sXG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XG4gICAgLy8gICAgICAgICBlcnJvcjoge1xuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBcIiNGRjg4ODggIWltcG9ydGFudFwiLFxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9LFxuICAgIC8vICAgICBNdWlQaWNrZXJzTW9kYWw6IHtcbiAgICAvLyAgICAgICAgIGRpYWxvZ0FjdGlvbjoge1xuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBibHVlWyc0MDAnXSxcbiAgICAvLyAgICAgICAgIH0sXG4gICAgLy8gICAgIH0sXG4gICAgLy8gfSxcbiAgICBvdmVycmlkZXM6IHtcbiAgICAgICAgTXVpUGlja2Vyc1Rvb2xiYXI6IHtcbiAgICAgICAgICAgIHRvb2xiYXI6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IF9ibHVlMi5kZWZhdWx0LkEyMDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEzdmhcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXI6IHtcbiAgICAgICAgICAgIHN3aXRjaEhlYWRlcjoge1xuICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjogbGlnaHRCbHVlLkEyMDAsXG4gICAgICAgICAgICAgICAgLy8gY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE11aVBpY2tlcnNEYXk6IHtcbiAgICAgICAgICAgIGRheToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBfYmx1ZTIuZGVmYXVsdC5BNzAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IF9ibHVlMi5kZWZhdWx0Wyc0MDAnXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1cnJlbnQ6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogX2JsdWUyLmRlZmF1bHRbJzkwMCddXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNGRjg4ODggIWltcG9ydGFudFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE11aVBpY2tlcnNNb2RhbDoge1xuICAgICAgICAgICAgZGlhbG9nQWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IF9ibHVlMi5kZWZhdWx0Wyc0MDAnXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBQMlAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhQMlAsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUDJQKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQMlApO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQMlAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQMlApKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgICAgICB2YXIgZXh0cmFjdGVkRGF0YSA9IF90aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChQMlBSZWdleCk7XG4gICAgICAgIHZhciBleHRyYWN0ZWRBbW91bnQgPSBleHRyYWN0ZWREYXRhWzBdLm1hdGNoKC9bMC05XXsxLH0vKTtcblxuICAgICAgICAvLyBsZXQgbm9PZkludm9pY2VzID0gZXh0cmFjdGVkRGF0YVsyXSA/IGV4dHJhY3RlZERhdGFbMl0ubWF0Y2goL1swLTldezEsfS8pIDogMDtcblxuICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xuICAgICAgICAvLyAgICAgbm9PZkludm9pY2VzID0gMDtcbiAgICAgICAgLy8gfVxuXG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICByZWFkT25seTogIV90aGlzLnByb3BzLnN1bW1hcnkuY3JlYXRlZCxcbiAgICAgICAgICAgIGlzRWRpdGluZzogX3RoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgcHJldkFtb3VudDogXCJcIixcbiAgICAgICAgICAgIGFtb3VudDogZXh0cmFjdGVkQW1vdW50ID8gZXh0cmFjdGVkQW1vdW50WzBdIDogX3RoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkID8gXCJcIiA6IDAsXG4gICAgICAgICAgICBzZWxlY3RlZERhdGU6IG5ldyBEYXRlKGV4dHJhY3RlZERhdGFbMV0pLFxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiBfdGhpcy5wcm9wcy5pbnZvaWNlQ291bnQsXG4gICAgICAgICAgICBvcGVuQWN0aW9uU2F2ZTogZmFsc2UsXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiLFxuICAgICAgICAgICAgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlLFxuICAgICAgICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxuICAgICAgICAgICAgYWN0aW9uSWQ6IF90aGlzLnByb3BzLnN1bW1hcnkuaWQsXG4gICAgICAgICAgICBpc0RvbmU6IF90aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSxcbiAgICAgICAgICAgIGZpbmFsU2VsZWN0ZWREYXRlOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUgPyAoMCwgX2RhdGVGbnMzLmZvcm1hdCkobmV3IERhdGUoZXh0cmFjdGVkRGF0YVsxXSksIFwiTU1NIGRkLCB5eXl5XCIpIDogXCJcIixcbiAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBleHRyYWN0ZWRBbW91bnQgPyAoXCJcIiArIGV4dHJhY3RlZEFtb3VudCkubGVuZ3RoICogMTIgOiAxNSxcbiAgICAgICAgICAgIGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UsXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBfdGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnLFxuICAgICAgICAgICAgaW52YWxpZERhdGFOb3RpZmllck1lc3NhZ2U6IFwiXCIsXG4gICAgICAgICAgICBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogZmFsc2UsXG4gICAgICAgICAgICBzdW1tYXJ5OiBfdGhpcy5wcm9wcy5zdW1tYXJ5LFxuICAgICAgICAgICAgaXNBbW91bnRJbnZhbGlkOiBleHRyYWN0ZWRBbW91bnQgPyBmYWxzZSA6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQMlAsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBuZXh0UHJvcHMuaW5jb3JyZWN0RmxhZ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHMuaW52b2ljZUNvdW50ID49IDAgJiYgbmV4dFByb3BzLmludm9pY2VDb3VudCAhPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlQ291bnQ6IG5leHRQcm9wcy5pbnZvaWNlQ291bnQgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5ID0gdGhpcy5wcm9wcy5zdW1tYXJ5O1xuICAgICAgICAgICAgdmFyIGZ1bGxTY3JlZW4gPSB0aGlzLnByb3BzLmZ1bGxTY3JlZW47XG5cblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZVNhbXBsZSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTAsIG1kOiAxMCwgbGc6IDEwLCBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnZmxleC1zdGFydCcgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgd2lkdGg6IFwiM3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aW9uU2F2ZVByb2dyZXNzQmFyICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25Qcm9ncmVzc0JhciB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Eb25lLCB7IHN0eWxlOiB7IGNvbG9yOiBcIiM1RkMzMkNcIiwgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIiwgaGVpZ2h0OiBcIjEuNXJlbVwiLCB3aWR0aDogXCIxLjVyZW1cIiB9IH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMSwgbWQ6IDExLCBsZzogMTEsIGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnk6ICdmbGV4LXN0YXJ0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGVkIFxceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGUgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250V2VpZ2h0OiBcImJvbGRcIiwgb3BhY2l0eTogMSB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1AyUCBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb2YgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgc3R5bGU6IHsgbWluV2lkdGg6IHRoaXMuc3RhdGUuaXNFZGl0aW5nID8gXCI3cmVtXCIgOiB0aGlzLnN0YXRlLmFtb3VudFRleHRGaWVsZFdpZHRoLCB3aWR0aDogdGhpcy5zdGF0ZS5pc0VkaXRpbmcgPyBcIjdyZW1cIiA6IHRoaXMuc3RhdGUuYW1vdW50VGV4dEZpZWxkV2lkdGgsIG1heFdpZHRoOiBcIjlyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRleHRGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuYW1vdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5oYW5kbGVJbnZvaWNlQ3VycmVuY3lDaGFuZ2UoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJ25vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICdub3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnRlc3RJbml0aWFsLCBjbGFzc2VzLmlucHV0RmllbGRUZXh0KSA6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy50ZXN0LCBjbGFzc2VzLmlucHV0RmllbGRUZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKHRoaXMuc3RhdGUucmVhZE9ubHkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogQm9vbGVhbih0aGlzLnN0YXRlLnJlYWRPbmx5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Q29tcG9uZW50OiB0aGlzLnN0YXRlLmlzRWRpdGluZyA/IE51bWJlckZvcm1hdEN1c3RvbSA6IHRoaXMuRm9ybWF0dGVkQ3VycmVuY3lJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0VkaXRpbmcgJiYgIXRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Cb3JkZXJDb2xvciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuYWN0aW9uSWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luTGVmdDogXCI2cHhcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZUVkaXRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuSGlnaGxpZ2h0T2ZmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5MZWZ0OiBcIjAuNHJlbVwiLCBjb2xvcjogXCIjRkY4ODg4XCIsIHBhZGRpbmc6IFwiMCAxLjNyZW0gMCAwLjhyZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAhdGhpcy5zdGF0ZS5wcmV2QW1vdW50ID8gY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0biA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAhdGhpcy5zdGF0ZS5wcmV2QW1vdW50ID8gX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uIDogdGhpcy5kaXNtaXNzQW1vdW50Q2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkNoZWNrQ2lyY2xlT3V0bGluZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IFwiIzVGQzMyQ1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0biA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnN0YXRlLmlzQW1vdW50SW52YWxpZCA/IF9jb25zdGFudHMuZW1wdHlGdW5jdGlvbiA6IHRoaXMuc2F2ZUludm9pY2VBbW91bnRDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTAgd2l0aCBkdWUgZGF0ZSBvZiBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZpbmFsU2VsZWN0ZWREYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIG1heFdpZHRoOiBcIjhlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tYXRlcmlhbFVpUGlja2Vycy5NdWlQaWNrZXJzVXRpbHNQcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dGlsczogX2RhdGVGbnMyLmRlZmF1bHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5NdWlUaGVtZVByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGVtZTogbWF0ZXJpYWxUaGVtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX21hdGVyaWFsVWlQaWNrZXJzLkRhdGVQaWNrZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXhXaWR0aDogXCI1LjM1cmVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogQm9vbGVhbihmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAnTU1NIGRkLCB5eXl5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5EYXRlTWVzc2FnZTogJ1ByZXZpb3VzIGRhdGUgbm90IGFjY2VwdGFibGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiZGF0ZS1pbnB1dC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogQm9vbGVhbih0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogQm9vbGVhbih0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMucGlja2VyID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVEYXRlQ2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25DbGljaz17ZSA9PiBlLnByZXZlbnREZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRhdGU6IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkRhdGVSYW5nZSwgeyBjbGFzc05hbWU6IGNsYXNzZXMuYWN0aW9uSWNvbiwgb25DbGljazogdGhpcy5vcGVuUGlja2VyIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2xlZnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgIT09IDAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGRpc3BsYXk6IFwiZmxleFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0VkaXRpbmcgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3dhcmRzXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGZvbnRXZWlnaHQ6ICdib2xkJyB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQsIG9uQ2xpY2s6IHRoaXMucHJvcHMudG9nZ2xlRXhwYW5kIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCArIFwiIEludm9pY2VcIiArICh0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDEgPyBcInNcIiA6IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRXJyb3IyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVycm9yRmxhZyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwgeyBmdWxsU2NyZWVuOiBmdWxsU2NyZWVuLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5BY3Rpb25TYXZlLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZywgdGl0bGU6IGRpc2NhcmRNZXNzYWdlLCBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZywgY29sb3I6ICdzZWNvbmRhcnknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnRGlzYWdyZWUnXG4gICAgICAgICAgICAgICAgICAgICksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2csIGNvbG9yOiAncHJpbWFyeScsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0FncmVlJ1xuICAgICAgICAgICAgICAgICAgICApXSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3Blbldhcm5pbmdEaWFsb2csXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nLCB0aXRsZTogcmVzb2x2ZU1lc3NhZ2UsIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nLCBjb2xvcjogJ3NlY29uZGFyeScsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICAgICAgICAgICApXSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbkludmFsaWREYXRhTm90aWZpZXIsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VJbnZhbGlkRGF0YU5vdGlmaWVyLCB0aXRsZTogdGhpcy5zdGF0ZS5pbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZSwgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbG9zZUludmFsaWREYXRhTm90aWZpZXIsIGNvbG9yOiAnc2Vjb25kYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMiwgbWQ6IDIsIGxnOiAyIH0sXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5IaWdobGlnaHRPZmYsIHsgc3R5bGU6IHsgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIgfSwgb25DbGljazogdGhpcy5vcGVuQWN0aW9uRGlzY2FyZERpYWxvZyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5DaGVja0NpcmNsZU91dGxpbmUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuY2hlY2tJbnZhbGlkYXRpb24oKSA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2hlY2tJbnZhbGlkYXRpb24oKSA/IHRoaXMuc2F2ZVAyUCA6IF9jb25zdGFudHMuZW1wdHlGdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUDJQO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgdGhpcy5oYW5kbGVJbnZvaWNlQ3VycmVuY3lDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGV2ZW50LnRhcmdldC52YWx1ZSA/IChcIlwiICsgZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCkgKiAxMiA6IDUwLFxuICAgICAgICAgICAgYW1vdW50OiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICBhbW91bnRGb3JtYXR0ZWQ6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgIGlzQW1vdW50SW52YWxpZDogZmFsc2VcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpczQuc3RhdGUuYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgaXNBbW91bnRJbnZhbGlkOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2cgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgb3BlbkludmFsaWREYXRhTm90aWZpZXI6IHRydWUsXG4gICAgICAgICAgICBpbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZTogbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZUludmFsaWREYXRhTm90aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IG9wZW5JbnZhbGlkRGF0YU5vdGlmaWVyOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnZhbGlkYXRlUDJQRGF0YSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgYW1vdW50ID0gX3RoaXM0LnN0YXRlLmFtb3VudDtcblxuICAgICAgICBpZiAoTnVtYmVyKGFtb3VudCkgPCAxKSB7XG4gICAgICAgICAgICBfdGhpczQub3BlbkRhdGFJbnZhbGlkRGlhbG9nKFwiUGxlYXNlIGVudGVyIGFtb3VudCA+IDAuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEoMCwgX2hlbHBlci5pc1ZhbGlkRGF0ZSkoX3RoaXM0LnN0YXRlLnNlbGVjdGVkRGF0ZSkpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuRGF0YUludmFsaWREaWFsb2coXCJGb3VuZCBpbnZhbGlkIGRhdGUuIFBsZWFzZSBjb3JyZWN0IHRoZSBkYXRlIHRvIHByb2NlZWQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tJbnZhbGlkYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhX3RoaXM0LnN0YXRlLmlzQW1vdW50SW52YWxpZCAmJiAhX3RoaXM0LnN0YXRlLmluY29ycmVjdEZsYWcgJiYgKDAsIF9oZWxwZXIuaXNWYWxpZERhdGUpKF90aGlzNC5zdGF0ZS5zZWxlY3RlZERhdGUpO1xuICAgIH07XG5cbiAgICB0aGlzLnNhdmVQMlAgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKCFfdGhpczQudmFsaWRhdGVQMlBEYXRhKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhjb250YWN0SWQpO1xuICAgICAgICB2YXIgY29udGFjdElkID0gX3RoaXM0LnByb3BzLmNvbnRhY3RMb2cuY29udGFjdCAhPT0gbnVsbCA/IF90aGlzNC5wcm9wcy5jb250YWN0TG9nLmNvbnRhY3QuaWQgOiBudWxsO1xuICAgICAgICB2YXIgcGhvbmVOdW1iZXIgPSBfdGhpczQucHJvcHMuY29udGFjdExvZy5jYWxsaW5nTnVtYmVyO1xuICAgICAgICB2YXIgaW52b2ljZXMgPSBfdGhpczQucHJvcHMuY29ycmVjdEludm9pY2VzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgdmFyIGludm9pY2VPYmogPSB7fTtcbiAgICAgICAgICAgIGludm9pY2VPYmouY21zRG9jSGVhZGVySWQgPSBpbnZvaWNlLmlkO1xuICAgICAgICAgICAgcmV0dXJuIGludm9pY2VPYmo7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfdGhpczQuc3RhdGUuaW5jb3JyZWN0RmxhZykge1xuICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IHRydWUsIGlzRWRpdGluZzogZmFsc2UsIHJlYWRPbmx5OiB0cnVlIH0pO1xuICAgICAgICB2YXIgcmVxT2JqID0ge1xuICAgICAgICAgICAgY29tbWl0dGVkQW1vdW50OiBfdGhpczQuc3RhdGUuYW1vdW50LFxuICAgICAgICAgICAgY29tbWl0dGVkQnk6IHtcbiAgICAgICAgICAgICAgICBpZDogY29udGFjdElkLFxuICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBwaG9uZU51bWJlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbW1pdHRlZERhdGU6IG5ldyBEYXRlKF90aGlzNC5zdGF0ZS5zZWxlY3RlZERhdGUpLFxuICAgICAgICAgICAgY29tbWl0dGVkT246IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBjdXJyZW5jeTogXCIkXCIsXG4gICAgICAgICAgICBjdXN0b21lcklkOiBfdGhpczQucHJvcHMuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBwY0l0ZW1zOiBpbnZvaWNlc1xuICAgICAgICB9O1xuXG4gICAgICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jdXN0b21lci8nICsgX3RoaXM0LnByb3BzLmN1c3RvbWVyLmlkICsgJy9wMnAnLCByZXFPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpczQub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJTVUNDRVNTXCIpO1xuICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgZmluYWxTZWxlY3RlZERhdGU6IF90aGlzNC5nZXREYXRlRmllbGRWYWx1ZSgpIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgaXNEb25lOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL3VwZGF0ZSBmbGFnIGluIGFjdGlvbnMgfCBwb3N0IGNhbGwgXG4gICAgICAgICAgICB2YXIgc3VtbWFyeVRvU2F2ZSA9IF90aGlzNC5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcbiAgICAgICAgICAgIF90aGlzNC5wcm9wcy5vbkNvbXBsZXRpb24oKTtcbiAgICAgICAgICAgIF90aGlzNC5wcm9wcy5vbkFjdGlvbkl0ZW1Db25maXJtKHN1bW1hcnlUb1NhdmUpO1xuICAgICAgICAgICAgX3RoaXM0LnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpczQub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcbiAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UsIGlzRG9uZTogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdlbmVyYXRlQWN0aW9uU3VtbWFyeSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgaW52b2ljZUNvdW50ID0gX3RoaXM0LnN0YXRlLmludm9pY2VDb3VudDtcbiAgICAgICAgdmFyIGRhdGUgPSBfdGhpczQuc3RhdGUuc2VsZWN0ZWREYXRlO1xuICAgICAgICB2YXIgZm9ybWF0dGVkRGF0ZSA9ICgwLCBfZGF0ZUZuczMuZm9ybWF0KShkYXRlLCBcIk1NLWRkLXl5eXlcIik7XG5cbiAgICAgICAgdmFyIGdlbmVyYXRlZFN1bW1hcnkgPSBQMlBUZW1wbGF0ZS5yZXBsYWNlKFwiPEFtb3VudD5cIiwgXCIkXCIgKyAoMCwgX2hlbHBlci5mb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQpKF90aGlzNC5zdGF0ZS5hbW91bnQpKS5yZXBsYWNlKFwiPERhdGU+XCIsIGZvcm1hdHRlZERhdGUpLnJlcGxhY2UoXCI8SW52b2ljZXM+XCIsIGludm9pY2VDb3VudCA9PT0gMCA/IFwiXCIgOiBpbnZvaWNlQ291bnQgPT09IDEgPyBcImZvciBcIiArIGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IFwiZm9yIFwiICsgaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIik7XG5cbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFN1bW1hcnk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBfdGhpczQucHJvcHMub3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZSk7XG4gICAgfTtcblxuICAgIHRoaXMuZGlzbWlzc0Ftb3VudENoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBfdGhpczQuc3RhdGU7XG4gICAgICAgIHZhciBhbW91bnRUZXh0RmllbGRMZW5ndGggPSAoMCwgX2Zvcm1hdHRlci5jdXN0b21DdXJyZW5jeUZvcm1hdHRlcikoX3RoaXM0LnN0YXRlLmFtb3VudCkubGVuZ3RoO1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYW1vdW50OiBjdXJyZW50U3RhdGUucHJldkFtb3VudCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBhbW91bnRUZXh0RmllbGRMZW5ndGggKiA0LjVcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyBfdGhpczQuc3RhdGUuYWN0aW9uSWQpLmJsdXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuUGlja2VyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3RoaXM0LnBpY2tlci5vcGVuKGUpO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZVN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IF90aGlzNC5zdGF0ZS5pbnZvaWNlQ291bnQ7XG4gICAgICAgIHZhciBmb3JtYXR0ZWREYXRlID0gKDAsIF9oZWxwZXIuZm9ybWF0RGF0ZVdpdGhUaW1lem9uZSkobmV3IERhdGUoX3RoaXM0LnN0YXRlLnNlbGVjdGVkRGF0ZSksIFwiLTA2OjAwXCIpO1xuICAgICAgICB2YXIgdXBkYXRlZFN1bW1hcnkgPSBQMlBfT1JJR19URU1QTEFURS5yZXBsYWNlKFwiPEFtb3VudD5cIiwgX3RoaXM0LnN0YXRlLmFtb3VudCA/IF90aGlzNC5zdGF0ZS5hbW91bnQgOiBcIjxhbW91bnQtb2YtbW9uZXk+XCIpLnJlcGxhY2UoXCI8RGF0ZT5cIiwgZm9ybWF0dGVkRGF0ZSkucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgaW52b2ljZUNvdW50ID09PSAwID8gXCI8WCBpbnZvaWNlcz5cIiA6IGludm9pY2VDb3VudCA9PT0gMSA/IGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpO1xuICAgICAgICBfdGhpczQucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zYXZlSW52b2ljZUFtb3VudENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgYW1vdW50VGV4dEZpZWxkTGVuZ3RoID0gKDAsIF9mb3JtYXR0ZXIuY3VzdG9tQ3VycmVuY3lGb3JtYXR0ZXIpKF90aGlzNC5zdGF0ZS5hbW91bnQpLmxlbmd0aDtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHtcbiAgICAgICAgICAgIHByZXZBbW91bnQ6IF90aGlzNC5zdGF0ZS5hbW91bnQsXG4gICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgIGlzRWRpdGluZzogZmFsc2UsXG4gICAgICAgICAgICBhbW91bnRUZXh0RmllbGRXaWR0aDogYW1vdW50VGV4dEZpZWxkTGVuZ3RoICogNC41XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgX3RoaXM0LnN0YXRlLmFjdGlvbklkKS5ibHVyKCk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM0LnByb3BzLmRlbGV0ZUFjdGlvbihfdGhpczQuc3RhdGUuYWN0aW9uSWQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy50b2dnbGVFZGl0aW5nID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgcmVhZE9ubHk6IGZhbHNlLCBpc0VkaXRpbmc6IHRydWUgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIF90aGlzNC5zdGF0ZS5hY3Rpb25JZCkuZm9jdXMoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlRGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNlbGVjdGVkRGF0ZTogZGF0ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczQudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXREYXRlRmllbGRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlkID0gXCJkYXRlLWlucHV0LWZpZWxkLVwiICsgX3RoaXM0LnN0YXRlLmFjdGlvbklkO1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnZhbHVlO1xuICAgIH07XG5cbiAgICB0aGlzLkZvcm1hdHRlZEN1cnJlbmN5SW5wdXQgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdmFyIGlucHV0UmVmID0gcHJvcHMuaW5wdXRSZWYsXG4gICAgICAgICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFsnaW5wdXRSZWYnLCAnb25DaGFuZ2UnXSk7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdE51bWJlckZvcm1hdDIuZGVmYXVsdCwgX2V4dGVuZHMoe30sIG90aGVyLCB7XG4gICAgICAgICAgICBnZXRJbnB1dFJlZjogaW5wdXRSZWYsXG4gICAgICAgICAgICBvblZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBvblZhbHVlQ2hhbmdlKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdChhcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfZm9ybWF0dGVyLmN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyKShfdGhpczQuc3RhdGUuYW1vdW50LCBcIiRcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVjaW1hbFNjYWxlOiA4LFxuICAgICAgICAgICAgYWxsb3dOZWdhdGl2ZTogZmFsc2VcbiAgICAgICAgfSkpO1xuICAgIH07XG59O1xuXG5mdW5jdGlvbiBOdW1iZXJGb3JtYXRDdXN0b20ocHJvcHMpIHtcbiAgICB2YXIgaW5wdXRSZWYgPSBwcm9wcy5pbnB1dFJlZixcbiAgICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFsnaW5wdXRSZWYnLCAnb25DaGFuZ2UnXSk7XG5cbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0TnVtYmVyRm9ybWF0Mi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgb3RoZXIsIHtcbiAgICAgICAgZ2V0SW5wdXRSZWY6IGlucHV0UmVmLFxuICAgICAgICBvblZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBvblZhbHVlQ2hhbmdlKHZhbHVlcykge1xuICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzLnZhbHVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRob3VzYW5kU2VwYXJhdG9yOiB0cnVlLFxuICAgICAgICBwcmVmaXg6ICckJyxcbiAgICAgICAgYWxsb3dOZWdhdGl2ZTogZmFsc2UsXG4gICAgICAgIGRlY2ltYWxTY2FsZTogOFxuICAgIH0pKTtcbn1cblxuTnVtYmVyRm9ybWF0Q3VzdG9tLnByb3BUeXBlcyA9IHtcbiAgICBpbnB1dFJlZjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkXG59O1xuXG5QMlAucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbnZhciBjb21iaW5lZFN0eWxlID0gKDAsIF9jb21iaW5lU3R5bGVzMi5kZWZhdWx0KShzdHlsZXMsIF9iYXNlU3R5bGUyLmRlZmF1bHQpO1xuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoUDJQKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImJcIl0gPSBfX2V4dGVuZHM7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fYXNzaWduOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJjXCJdID0gX19yZXN0O1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fZGVjb3JhdGUgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX3BhcmFtICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19tZXRhZGF0YSAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fYXdhaXRlciAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fZ2VuZXJhdG9yICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19leHBvcnRTdGFyICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX192YWx1ZXMgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX3JlYWQgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX3NwcmVhZCAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fYXdhaXQgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX2FzeW5jR2VuZXJhdG9yICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19hc3luY0RlbGVnYXRvciAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fYXN5bmNWYWx1ZXMgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX21ha2VUZW1wbGF0ZU9iamVjdCAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9faW1wb3J0U3RhciAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9faW1wb3J0RGVmYXVsdCAqL1xuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuIWZ1bmN0aW9uKGUsdCl7IHRydWU/bW9kdWxlLmV4cG9ydHM9dChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcInJlYWN0XCJdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMucmVhY3RUZXh0TWFzaz10KHJlcXVpcmUoXCJyZWFjdFwiKSk6ZS5yZWFjdFRleHRNYXNrPXQoZS5SZWFjdCl9KHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobil7aWYocltuXSlyZXR1cm4gcltuXS5leHBvcnRzO3ZhciBvPXJbbl09e2V4cG9ydHM6e30saWQ6bixsb2FkZWQ6ITF9O3JldHVybiBlW25dLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHQpLG8ubG9hZGVkPSEwLG8uZXhwb3J0c312YXIgcj17fTtyZXR1cm4gdC5tPWUsdC5jPXIsdC5wPVwiXCIsdCgwKX0oW2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9e307Zm9yKHZhciBuIGluIGUpdC5pbmRleE9mKG4pPj0wfHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHJbbl09ZVtuXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHUoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbmZvcm1Ub01hc2s9dm9pZCAwO3ZhciBsPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxmPXIoMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjb25mb3JtVG9NYXNrXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oZikuZGVmYXVsdH19KTt2YXIgYz1yKDExKSxwPW4oYyksZD1yKDkpLGg9bihkKSx2PXIoNSkseT1uKHYpLG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlO2kodGhpcyx0KTtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KHIpLG89MDtvPHI7bysrKW5bb109YXJndW1lbnRzW29dO3ZhciB1PWEodGhpcywoZT10Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChuKSkpO3JldHVybiB1Lm9uQmx1cj11Lm9uQmx1ci5iaW5kKHUpLHUub25DaGFuZ2U9dS5vbkNoYW5nZS5iaW5kKHUpLHV9cmV0dXJuIHUodCxlKSxzKHQsW3trZXk6XCJpbml0VGV4dE1hc2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD10aGlzLnByb3BzLnZhbHVlO3RoaXMudGV4dE1hc2tJbnB1dEVsZW1lbnQ9KDAseS5kZWZhdWx0KShsKHtpbnB1dEVsZW1lbnQ6dGhpcy5pbnB1dEVsZW1lbnR9LGUpKSx0aGlzLnRleHRNYXNrSW5wdXRFbGVtZW50LnVwZGF0ZSh0KX19LHtrZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbml0VGV4dE1hc2soKX19LHtrZXk6XCJjb21wb25lbnREaWRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5pdFRleHRNYXNrKCl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXMscj10aGlzLnByb3BzLGU9ci5yZW5kZXIsbj1vKHIsW1wicmVuZGVyXCJdKTtkZWxldGUgbi5tYXNrLGRlbGV0ZSBuLmd1aWRlLGRlbGV0ZSBuLnBpcGUsZGVsZXRlIG4ucGxhY2Vob2xkZXJDaGFyLGRlbGV0ZSBuLmtlZXBDaGFyUG9zaXRpb25zLGRlbGV0ZSBuLnZhbHVlLGRlbGV0ZSBuLm9uQmx1cixkZWxldGUgbi5vbkNoYW5nZSxkZWxldGUgbi5zaG93TWFzazt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gdC5pbnB1dEVsZW1lbnQ9ZX07cmV0dXJuIGUoaSxsKHtvbkJsdXI6dGhpcy5vbkJsdXIsb25DaGFuZ2U6dGhpcy5vbkNoYW5nZSxkZWZhdWx0VmFsdWU6dGhpcy5wcm9wcy52YWx1ZX0sbikpfX0se2tleTpcIm9uQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy50ZXh0TWFza0lucHV0RWxlbWVudC51cGRhdGUoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnByb3BzLm9uQ2hhbmdlJiZ0aGlzLnByb3BzLm9uQ2hhbmdlKGUpfX0se2tleTpcIm9uQmx1clwiLHZhbHVlOmZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMucHJvcHMub25CbHVyJiZ0aGlzLnByb3BzLm9uQmx1cihlKX19XSksdH0ocC5kZWZhdWx0LkNvbXBvbmVudCk7dC5kZWZhdWx0PW0sbS5wcm9wVHlwZXM9e21hc2s6aC5kZWZhdWx0Lm9uZU9mVHlwZShbaC5kZWZhdWx0LmFycmF5LGguZGVmYXVsdC5mdW5jLGguZGVmYXVsdC5ib29sLGguZGVmYXVsdC5zaGFwZSh7bWFzazpoLmRlZmF1bHQub25lT2ZUeXBlKFtoLmRlZmF1bHQuYXJyYXksaC5kZWZhdWx0LmZ1bmNdKSxwaXBlOmguZGVmYXVsdC5mdW5jfSldKS5pc1JlcXVpcmVkLGd1aWRlOmguZGVmYXVsdC5ib29sLHZhbHVlOmguZGVmYXVsdC5vbmVPZlR5cGUoW2guZGVmYXVsdC5zdHJpbmcsaC5kZWZhdWx0Lm51bWJlcl0pLHBpcGU6aC5kZWZhdWx0LmZ1bmMscGxhY2Vob2xkZXJDaGFyOmguZGVmYXVsdC5zdHJpbmcsa2VlcENoYXJQb3NpdGlvbnM6aC5kZWZhdWx0LmJvb2wsc2hvd01hc2s6aC5kZWZhdWx0LmJvb2x9LG0uZGVmYXVsdFByb3BzPXtyZW5kZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLGwoe3JlZjplfSx0KSl9fX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnBsYWNlaG9sZGVyQ2hhcj1cIl9cIix0LnN0ckZ1bmN0aW9uPVwiZnVuY3Rpb25cIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bCx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp1LHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2lmKCEoMCxpLmlzQXJyYXkpKHQpKXtpZigoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjpvKHQpKSE9PWEuc3RyRnVuY3Rpb24pdGhyb3cgbmV3IEVycm9yKFwiVGV4dC1tYXNrOmNvbmZvcm1Ub01hc2s7IFRoZSBtYXNrIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkuXCIpO3Q9dChlLHIpLHQ9KDAsaS5wcm9jZXNzQ2FyZXRUcmFwcykodCkubWFza1dpdGhvdXRDYXJldFRyYXBzfXZhciBuPXIuZ3VpZGUscz12b2lkIDA9PT1ufHxuLGY9ci5wcmV2aW91c0NvbmZvcm1lZFZhbHVlLGM9dm9pZCAwPT09Zj9sOmYscD1yLnBsYWNlaG9sZGVyQ2hhcixkPXZvaWQgMD09PXA/YS5wbGFjZWhvbGRlckNoYXI6cCxoPXIucGxhY2Vob2xkZXIsdj12b2lkIDA9PT1oPygwLGkuY29udmVydE1hc2tUb1BsYWNlaG9sZGVyKSh0LGQpOmgseT1yLmN1cnJlbnRDYXJldFBvc2l0aW9uLG09ci5rZWVwQ2hhclBvc2l0aW9ucyxiPXM9PT0hMSYmdm9pZCAwIT09YyxnPWUubGVuZ3RoLGs9Yy5sZW5ndGgsQz12Lmxlbmd0aCxPPXQubGVuZ3RoLFQ9Zy1rLFA9VD4wLHg9eSsoUD8tVDowKSx3PXgrTWF0aC5hYnMoVCk7aWYobT09PSEwJiYhUCl7Zm9yKHZhciBfPWwsTT14O008dztNKyspdltNXT09PWQmJihfKz1kKTtlPWUuc2xpY2UoMCx4KStfK2Uuc2xpY2UoeCxnKX1mb3IodmFyIFM9ZS5zcGxpdChsKS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm57Y2hhcjplLGlzTmV3OnQ+PXgmJnQ8d319KSxqPWctMTtqPj0wO2otLSl7dmFyIEU9U1tqXS5jaGFyO2lmKEUhPT1kKXt2YXIgUj1qPj14JiZrPT09TztFPT09dltSP2otVDpqXSYmUy5zcGxpY2UoaiwxKX19dmFyIFY9bCxBPSExO2U6Zm9yKHZhciBOPTA7TjxDO04rKyl7dmFyIEI9dltOXTtpZihCPT09ZCl7aWYoUy5sZW5ndGg+MClmb3IoO1MubGVuZ3RoPjA7KXt2YXIgST1TLnNoaWZ0KCksRj1JLmNoYXIscT1JLmlzTmV3O2lmKEY9PT1kJiZiIT09ITApe1YrPWQ7Y29udGludWUgZX1pZih0W05dLnRlc3QoRikpe2lmKG09PT0hMCYmcSE9PSExJiZjIT09bCYmcyE9PSExJiZQKXtmb3IodmFyIEQ9Uy5sZW5ndGgsTD1udWxsLFc9MDtXPEQ7VysrKXt2YXIgSj1TW1ddO2lmKEouY2hhciE9PWQmJkouaXNOZXc9PT0hMSlicmVhaztpZihKLmNoYXI9PT1kKXtMPVc7YnJlYWt9fW51bGwhPT1MPyhWKz1GLFMuc3BsaWNlKEwsMSkpOk4tLX1lbHNlIFYrPUY7Y29udGludWUgZX1BPSEwfWI9PT0hMSYmKFYrPXYuc3Vic3RyKE4sQykpO2JyZWFrfVYrPUJ9aWYoYiYmUD09PSExKXtmb3IodmFyIFU9bnVsbCxIPTA7SDxWLmxlbmd0aDtIKyspdltIXT09PWQmJihVPUgpO1Y9bnVsbCE9PVU/Vi5zdWJzdHIoMCxVKzEpOmx9cmV0dXJue2NvbmZvcm1lZFZhbHVlOlYsbWV0YTp7c29tZUNoYXJzUmVqZWN0ZWQ6QX19fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1uO3ZhciBpPXIoMyksYT1yKDEpLHU9W10sbD1cIlwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpzLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmwucGxhY2Vob2xkZXJDaGFyO2lmKCFvKGUpKXRocm93IG5ldyBFcnJvcihcIlRleHQtbWFzazpjb252ZXJ0TWFza1RvUGxhY2Vob2xkZXI7IFRoZSBtYXNrIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkuXCIpO2lmKGUuaW5kZXhPZih0KSE9PS0xKXRocm93IG5ldyBFcnJvcihcIlBsYWNlaG9sZGVyIGNoYXJhY3RlciBtdXN0IG5vdCBiZSB1c2VkIGFzIHBhcnQgb2YgdGhlIG1hc2suIFBsZWFzZSBzcGVjaWZ5IGEgY2hhcmFjdGVyIHRoYXQgaXMgbm90IHByZXNlbnQgaW4geW91ciBtYXNrIGFzIHlvdXIgcGxhY2Vob2xkZXIgY2hhcmFjdGVyLlxcblxcblwiKyhcIlRoZSBwbGFjZWhvbGRlciBjaGFyYWN0ZXIgdGhhdCB3YXMgcmVjZWl2ZWQgaXM6IFwiK0pTT04uc3RyaW5naWZ5KHQpK1wiXFxuXFxuXCIpKyhcIlRoZSBtYXNrIHRoYXQgd2FzIHJlY2VpdmVkIGlzOiBcIitKU09OLnN0cmluZ2lmeShlKSkpO3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFJlZ0V4cD90OmV9KS5qb2luKFwiXCIpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkmJkFycmF5LmlzQXJyYXkoZSl8fGUgaW5zdGFuY2VvZiBBcnJheX1mdW5jdGlvbiBpKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgU3RyaW5nfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJnZvaWQgMD09PWUubGVuZ3RoJiYhaXNOYU4oZSl9ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9W10scj12b2lkIDA7cj1lLmluZGV4T2YoZiksciE9PS0xOyl0LnB1c2gociksZS5zcGxpY2UociwxKTtyZXR1cm57bWFza1dpdGhvdXRDYXJldFRyYXBzOmUsaW5kZXhlczp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcj1uLHQuaXNBcnJheT1vLHQuaXNTdHJpbmc9aSx0LmlzTnVtYmVyPWEsdC5wcm9jZXNzQ2FyZXRUcmFwcz11O3ZhciBsPXIoMSkscz1bXSxmPVwiW11cIn0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3ZhciB0PWUucHJldmlvdXNDb25mb3JtZWRWYWx1ZSxyPXZvaWQgMD09PXQ/bzp0LGk9ZS5wcmV2aW91c1BsYWNlaG9sZGVyLGE9dm9pZCAwPT09aT9vOmksdT1lLmN1cnJlbnRDYXJldFBvc2l0aW9uLGw9dm9pZCAwPT09dT8wOnUscz1lLmNvbmZvcm1lZFZhbHVlLGY9ZS5yYXdWYWx1ZSxjPWUucGxhY2Vob2xkZXJDaGFyLHA9ZS5wbGFjZWhvbGRlcixkPWUuaW5kZXhlc09mUGlwZWRDaGFycyxoPXZvaWQgMD09PWQ/bjpkLHY9ZS5jYXJldFRyYXBJbmRleGVzLHk9dm9pZCAwPT09dj9uOnY7aWYoMD09PWx8fCFmLmxlbmd0aClyZXR1cm4gMDt2YXIgbT1mLmxlbmd0aCxiPXIubGVuZ3RoLGc9cC5sZW5ndGgsaz1zLmxlbmd0aCxDPW0tYixPPUM+MCxUPTA9PT1iLFA9Qz4xJiYhTyYmIVQ7aWYoUClyZXR1cm4gbDt2YXIgeD1PJiYocj09PXN8fHM9PT1wKSx3PTAsXz12b2lkIDAsTT12b2lkIDA7aWYoeCl3PWwtQztlbHNle3ZhciBTPXMudG9Mb3dlckNhc2UoKSxqPWYudG9Mb3dlckNhc2UoKSxFPWouc3Vic3RyKDAsbCkuc3BsaXQobyksUj1FLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gUy5pbmRleE9mKGUpIT09LTF9KTtNPVJbUi5sZW5ndGgtMV07dmFyIFY9YS5zdWJzdHIoMCxSLmxlbmd0aCkuc3BsaXQobykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09Y30pLmxlbmd0aCxBPXAuc3Vic3RyKDAsUi5sZW5ndGgpLnNwbGl0KG8pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWN9KS5sZW5ndGgsTj1BIT09VixCPXZvaWQgMCE9PWFbUi5sZW5ndGgtMV0mJnZvaWQgMCE9PXBbUi5sZW5ndGgtMl0mJmFbUi5sZW5ndGgtMV0hPT1jJiZhW1IubGVuZ3RoLTFdIT09cFtSLmxlbmd0aC0xXSYmYVtSLmxlbmd0aC0xXT09PXBbUi5sZW5ndGgtMl07IU8mJihOfHxCKSYmVj4wJiZwLmluZGV4T2YoTSk+LTEmJnZvaWQgMCE9PWZbbF0mJihfPSEwLE09ZltsXSk7Zm9yKHZhciBJPWgubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBTW2VdfSksRj1JLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PU19KS5sZW5ndGgscT1SLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PU19KS5sZW5ndGgsRD1wLnN1YnN0cigwLHAuaW5kZXhPZihjKSkuc3BsaXQobykuZmlsdGVyKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT1NJiZmW3RdIT09ZX0pLmxlbmd0aCxMPUQrcStGKyhfPzE6MCksVz0wLEo9MDtKPGs7SisrKXt2YXIgVT1TW0pdO2lmKHc9SisxLFU9PT1NJiZXKyssVz49TClicmVha319aWYoTyl7Zm9yKHZhciBIPXcsWT13O1k8PWc7WSsrKWlmKHBbWV09PT1jJiYoSD1ZKSxwW1ldPT09Y3x8eS5pbmRleE9mKFkpIT09LTF8fFk9PT1nKXJldHVybiBIfWVsc2UgaWYoXyl7Zm9yKHZhciB6PXctMTt6Pj0wO3otLSlpZihzW3pdPT09TXx8eS5pbmRleE9mKHopIT09LTF8fDA9PT16KXJldHVybiB6fWVsc2UgZm9yKHZhciBHPXc7Rz49MDtHLS0paWYocFtHLTFdPT09Y3x8eS5pbmRleE9mKEcpIT09LTF8fDA9PT1HKXJldHVybiBHfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1yO3ZhciBuPVtdLG89XCJcIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIG8oZSl7dmFyIHQ9e3ByZXZpb3VzQ29uZm9ybWVkVmFsdWU6dm9pZCAwLHByZXZpb3VzUGxhY2Vob2xkZXI6dm9pZCAwfTtyZXR1cm57c3RhdGU6dCx1cGRhdGU6ZnVuY3Rpb24ocil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmUsbz1uLmlucHV0RWxlbWVudCxzPW4ubWFzayxjPW4uZ3VpZGUseT1uLnBpcGUsYj1uLnBsYWNlaG9sZGVyQ2hhcixnPXZvaWQgMD09PWI/aC5wbGFjZWhvbGRlckNoYXI6YixrPW4ua2VlcENoYXJQb3NpdGlvbnMsQz12b2lkIDAhPT1rJiZrLE89bi5zaG93TWFzayxUPXZvaWQgMCE9PU8mJk87aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHImJihyPW8udmFsdWUpLHIhPT10LnByZXZpb3VzQ29uZm9ybWVkVmFsdWUpeyhcInVuZGVmaW5lZFwiPT10eXBlb2Ygcz9cInVuZGVmaW5lZFwiOmwocykpPT09bSYmdm9pZCAwIT09cy5waXBlJiZ2b2lkIDAhPT1zLm1hc2smJih5PXMucGlwZSxzPXMubWFzayk7dmFyIFA9dm9pZCAwLHg9dm9pZCAwO2lmKHMgaW5zdGFuY2VvZiBBcnJheSYmKFA9KDAsZC5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXIpKHMsZykpLHMhPT0hMSl7dmFyIHc9YShyKSxfPW8uc2VsZWN0aW9uRW5kLE09dC5wcmV2aW91c0NvbmZvcm1lZFZhbHVlLFM9dC5wcmV2aW91c1BsYWNlaG9sZGVyLGo9dm9pZCAwO2lmKChcInVuZGVmaW5lZFwiPT10eXBlb2Ygcz9cInVuZGVmaW5lZFwiOmwocykpPT09aC5zdHJGdW5jdGlvbil7aWYoeD1zKHcse2N1cnJlbnRDYXJldFBvc2l0aW9uOl8scHJldmlvdXNDb25mb3JtZWRWYWx1ZTpNLHBsYWNlaG9sZGVyQ2hhcjpnfSkseD09PSExKXJldHVybjt2YXIgRT0oMCxkLnByb2Nlc3NDYXJldFRyYXBzKSh4KSxSPUUubWFza1dpdGhvdXRDYXJldFRyYXBzLFY9RS5pbmRleGVzO3g9UixqPVYsUD0oMCxkLmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcikoeCxnKX1lbHNlIHg9czt2YXIgQT17cHJldmlvdXNDb25mb3JtZWRWYWx1ZTpNLGd1aWRlOmMscGxhY2Vob2xkZXJDaGFyOmcscGlwZTp5LHBsYWNlaG9sZGVyOlAsY3VycmVudENhcmV0UG9zaXRpb246XyxrZWVwQ2hhclBvc2l0aW9uczpDfSxOPSgwLHAuZGVmYXVsdCkodyx4LEEpLEI9Ti5jb25mb3JtZWRWYWx1ZSxJPShcInVuZGVmaW5lZFwiPT10eXBlb2YgeT9cInVuZGVmaW5lZFwiOmwoeSkpPT09aC5zdHJGdW5jdGlvbixGPXt9O0kmJihGPXkoQix1KHtyYXdWYWx1ZTp3fSxBKSksRj09PSExP0Y9e3ZhbHVlOk0scmVqZWN0ZWQ6ITB9OigwLGQuaXNTdHJpbmcpKEYpJiYoRj17dmFsdWU6Rn0pKTt2YXIgcT1JP0YudmFsdWU6QixEPSgwLGYuZGVmYXVsdCkoe3ByZXZpb3VzQ29uZm9ybWVkVmFsdWU6TSxwcmV2aW91c1BsYWNlaG9sZGVyOlMsY29uZm9ybWVkVmFsdWU6cSxwbGFjZWhvbGRlcjpQLHJhd1ZhbHVlOncsY3VycmVudENhcmV0UG9zaXRpb246XyxwbGFjZWhvbGRlckNoYXI6ZyxpbmRleGVzT2ZQaXBlZENoYXJzOkYuaW5kZXhlc09mUGlwZWRDaGFycyxjYXJldFRyYXBJbmRleGVzOmp9KSxMPXE9PT1QJiYwPT09RCxXPVQ/UDp2LEo9TD9XOnE7dC5wcmV2aW91c0NvbmZvcm1lZFZhbHVlPUosdC5wcmV2aW91c1BsYWNlaG9sZGVyPVAsby52YWx1ZSE9PUomJihvLnZhbHVlPUosaShvLEQpKX19fX19ZnVuY3Rpb24gaShlLHQpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1lJiYoYj9nKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2V0U2VsZWN0aW9uUmFuZ2UodCx0LHkpfSwwKTplLnNldFNlbGVjdGlvblJhbmdlKHQsdCx5KSl9ZnVuY3Rpb24gYShlKXtpZigoMCxkLmlzU3RyaW5nKShlKSlyZXR1cm4gZTtpZigoMCxkLmlzTnVtYmVyKShlKSlyZXR1cm4gU3RyaW5nKGUpO2lmKHZvaWQgMD09PWV8fG51bGw9PT1lKXJldHVybiB2O3Rocm93IG5ldyBFcnJvcihcIlRoZSAndmFsdWUnIHByb3ZpZGVkIHRvIFRleHQgTWFzayBuZWVkcyB0byBiZSBhIHN0cmluZyBvciBhIG51bWJlci4gVGhlIHZhbHVlIHJlY2VpdmVkIHdhczpcXG5cXG4gXCIrSlNPTi5zdHJpbmdpZnkoZSkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGw9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07dC5kZWZhdWx0PW87dmFyIHM9cig0KSxmPW4ocyksYz1yKDIpLHA9bihjKSxkPXIoMyksaD1yKDEpLHY9XCJcIix5PVwibm9uZVwiLG09XCJvYmplY3RcIixiPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxnPVwidW5kZWZpbmVkXCIhPXR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU/cmVxdWVzdEFuaW1hdGlvbkZyYW1lOnNldFRpbWVvdXR9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19dmFyIG49ZnVuY3Rpb24oKXt9O24udGhhdFJldHVybnM9cixuLnRoYXRSZXR1cm5zRmFsc2U9cighMSksbi50aGF0UmV0dXJuc1RydWU9cighMCksbi50aGF0UmV0dXJuc051bGw9cihudWxsKSxuLnRoYXRSZXR1cm5zVGhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxuLnRoYXRSZXR1cm5zQXJndW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQscixuLGksYSx1LGwpe2lmKG8odCksIWUpe3ZhciBzO2lmKHZvaWQgMD09PXQpcz1uZXcgRXJyb3IoXCJNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLlwiKTtlbHNle3ZhciBmPVtyLG4saSxhLHUsbF0sYz0wO3M9bmV3IEVycm9yKHQucmVwbGFjZSgvJXMvZyxmdW5jdGlvbigpe3JldHVybiBmW2MrK119KSkscy5uYW1lPVwiSW52YXJpYW50IFZpb2xhdGlvblwifXRocm93IHMuZnJhbWVzVG9Qb3A9MSxzfX12YXIgbz1mdW5jdGlvbihlKXt9O2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig2KSxvPXIoNyksaT1yKDEwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLG4sYSx1KXt1IT09aSYmbyghMSxcIkNhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuIFVzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uIFJlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXNcIil9ZnVuY3Rpb24gdCgpe3JldHVybiBlfWUuaXNSZXF1aXJlZD1lO3ZhciByPXthcnJheTplLGJvb2w6ZSxmdW5jOmUsbnVtYmVyOmUsb2JqZWN0OmUsc3RyaW5nOmUsc3ltYm9sOmUsYW55OmUsYXJyYXlPZjp0LGVsZW1lbnQ6ZSxpbnN0YW5jZU9mOnQsbm9kZTplLG9iamVjdE9mOnQsb25lT2Y6dCxvbmVPZlR5cGU6dCxzaGFwZTp0LGV4YWN0OnR9O3JldHVybiByLmNoZWNrUHJvcFR5cGVzPW4sci5Qcm9wVHlwZXM9cixyfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGUuZXhwb3J0cz1yKDgpKCl9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9XCJTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRFwiO2UuZXhwb3J0cz1yfSxmdW5jdGlvbih0LHIpe3QuZXhwb3J0cz1lfV0pfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDk1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX0NTU1RyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjA5NikpO1xuXG52YXIgX1JlcGxhY2VUcmFuc2l0aW9uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOTgpKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzMyKSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1NikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgVHJhbnNpdGlvbjogX1RyYW5zaXRpb24uZGVmYXVsdCxcbiAgVHJhbnNpdGlvbkdyb3VwOiBfVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHQsXG4gIFJlcGxhY2VUcmFuc2l0aW9uOiBfUmVwbGFjZVRyYW5zaXRpb24uZGVmYXVsdCxcbiAgQ1NTVHJhbnNpdGlvbjogX0NTU1RyYW5zaXRpb24uZGVmYXVsdFxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBQcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKTtcblxudmFyIF9hZGRDbGFzcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MDc4KSk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjA3OSkpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKTtcblxudmFyIF9UcmFuc2l0aW9uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KSk7XG5cbnZhciBfUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbiBhZGRDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9hZGRDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9yZW1vdmVDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcHJvcFR5cGVzID0gIGZhbHNlID8gX2V4dGVuZHMoe30sIF9UcmFuc2l0aW9uLmRlZmF1bHQucHJvcFR5cGVzLCB7XG4gIC8qKlxuICAgKiBUaGUgYW5pbWF0aW9uIGNsYXNzTmFtZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50IGFzIGl0IGVudGVycywgZXhpdHMgb3IgaGFzIGZpbmlzaGVkIHRoZSB0cmFuc2l0aW9uLlxuICAgKiBBIHNpbmdsZSBuYW1lIGNhbiBiZSBwcm92aWRlZCBhbmQgaXQgd2lsbCBiZSBzdWZmaXhlZCBmb3IgZWFjaCBzdGFnZTogZS5nLlxuICAgKlxuICAgKiBgY2xhc3NOYW1lcz1cImZhZGVcImAgYXBwbGllcyBgZmFkZS1lbnRlcmAsIGBmYWRlLWVudGVyLWFjdGl2ZWAsIGBmYWRlLWVudGVyLWRvbmVgLFxuICAgKiBgZmFkZS1leGl0YCwgYGZhZGUtZXhpdC1hY3RpdmVgLCBgZmFkZS1leGl0LWRvbmVgLCBgZmFkZS1hcHBlYXJgLCBhbmQgYGZhZGUtYXBwZWFyLWFjdGl2ZWAuXG4gICAqIEVhY2ggaW5kaXZpZHVhbCBjbGFzc05hbWVzIGNhbiBhbHNvIGJlIHNwZWNpZmllZCBpbmRlcGVuZGVudGx5IGxpa2U6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3tcbiAgICogIGFwcGVhcjogJ215LWFwcGVhcicsXG4gICAqICBhcHBlYXJBY3RpdmU6ICdteS1hY3RpdmUtYXBwZWFyJyxcbiAgICogIGVudGVyOiAnbXktZW50ZXInLFxuICAgKiAgZW50ZXJBY3RpdmU6ICdteS1hY3RpdmUtZW50ZXInLFxuICAgKiAgZW50ZXJEb25lOiAnbXktZG9uZS1lbnRlcicsXG4gICAqICBleGl0OiAnbXktZXhpdCcsXG4gICAqICBleGl0QWN0aXZlOiAnbXktYWN0aXZlLWV4aXQnLFxuICAgKiAgZXhpdERvbmU6ICdteS1kb25lLWV4aXQnLFxuICAgKiB9fVxuICAgKiBgYGBcbiAgICpcbiAgICogSWYgeW91IHdhbnQgdG8gc2V0IHRoZXNlIGNsYXNzZXMgdXNpbmcgQ1NTIE1vZHVsZXM6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuY3NzJztcbiAgICogYGBgXG4gICAqXG4gICAqIHlvdSBtaWdodCB3YW50IHRvIHVzZSBjYW1lbENhc2UgaW4geW91ciBDU1MgZmlsZSwgdGhhdCB3YXkgY291bGQgc2ltcGx5IHNwcmVhZFxuICAgKiB0aGVtIGluc3RlYWQgb2YgbGlzdGluZyB0aGVtIG9uZSBieSBvbmU6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3sgLi4uc3R5bGVzIH19XG4gICAqIGBgYFxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nIHwge1xuICAgKiAgYXBwZWFyPzogc3RyaW5nLFxuICAgKiAgYXBwZWFyQWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZW50ZXI/OiBzdHJpbmcsXG4gICAqICBlbnRlckFjdGl2ZT86IHN0cmluZyxcbiAgICogIGVudGVyRG9uZT86IHN0cmluZyxcbiAgICogIGV4aXQ/OiBzdHJpbmcsXG4gICAqICBleGl0QWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZXhpdERvbmU/OiBzdHJpbmcsXG4gICAqIH19XG4gICAqL1xuICBjbGFzc05hbWVzOiBfUHJvcFR5cGVzLmNsYXNzTmFtZXNTaGFwZSxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyJyBvciAnYXBwZWFyJyBjbGFzcyBpc1xuICAgKiBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyLWFjdGl2ZScgb3JcbiAgICogJ2FwcGVhci1hY3RpdmUnIGNsYXNzIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbClcbiAgICovXG4gIG9uRW50ZXJpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXInIG9yXG4gICAqICdhcHBlYXInIGNsYXNzZXMgYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGRvbmVgIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBET00gbm9kZS5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzIGlzXG4gICAqIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KVxuICAgKi9cbiAgb25FeGl0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQtYWN0aXZlJyBpcyBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudFxuICAgKi9cbiAgb25FeGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzZXNcbiAgICogYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGV4aXQtZG9uZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIERPTSBub2RlLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudClcbiAgICovXG4gIG9uRXhpdGVkOiBQcm9wVHlwZXMuZnVuY1xufSkgOiB7fTs7XG4vKipcbiAqIEEgYFRyYW5zaXRpb25gIGNvbXBvbmVudCB1c2luZyBDU1MgdHJhbnNpdGlvbnMgYW5kIGFuaW1hdGlvbnMuXG4gKiBJdCdzIGluc3BpcmVkIGJ5IHRoZSBleGNlbGxlbnQgW25nLWFuaW1hdGVdKGh0dHA6Ly93d3cubmdhbmltYXRlLm9yZy8pIGxpYnJhcnkuXG4gKlxuICogYENTU1RyYW5zaXRpb25gIGFwcGxpZXMgYSBwYWlyIG9mIGNsYXNzIG5hbWVzIGR1cmluZyB0aGUgYGFwcGVhcmAsIGBlbnRlcmAsXG4gKiBhbmQgYGV4aXRgIHN0YWdlcyBvZiB0aGUgdHJhbnNpdGlvbi4gVGhlIGZpcnN0IGNsYXNzIGlzIGFwcGxpZWQgYW5kIHRoZW4gYVxuICogc2Vjb25kIFwiYWN0aXZlXCIgY2xhc3MgaW4gb3JkZXIgdG8gYWN0aXZhdGUgdGhlIGNzcyBhbmltYXRpb24uIEFmdGVyIHRoZSBhbmltYXRpb24sXG4gKiBtYXRjaGluZyBgZG9uZWAgY2xhc3MgbmFtZXMgYXJlIGFwcGxpZWQgdG8gcGVyc2lzdCB0aGUgYW5pbWF0aW9uIHN0YXRlLlxuICpcbiAqIFdoZW4gdGhlIGBpbmAgcHJvcCBpcyB0b2dnbGVkIHRvIGB0cnVlYCB0aGUgQ29tcG9uZW50IHdpbGwgZ2V0XG4gKiB0aGUgYGV4YW1wbGUtZW50ZXJgIENTUyBjbGFzcyBhbmQgdGhlIGBleGFtcGxlLWVudGVyLWFjdGl2ZWAgQ1NTIGNsYXNzXG4gKiBhZGRlZCBpbiB0aGUgbmV4dCB0aWNrLiBUaGlzIGlzIGEgY29udmVudGlvbiBiYXNlZCBvbiB0aGUgYGNsYXNzTmFtZXNgIHByb3AuXG4gKi9cblxudmFyIENTU1RyYW5zaXRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ1NTVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLm9uRW50ZXIgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lcyA9IF90aGlzLmdldENsYXNzTmFtZXMoYXBwZWFyaW5nID8gJ2FwcGVhcicgOiAnZW50ZXInKSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzLmNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZXhpdCcpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkVudGVyaW5nID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMyID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcyhhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpLFxuICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXMyLmFjdGl2ZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJpbmcpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FbnRlcmluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FbnRlcmVkID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMzID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZW50ZXInKSxcbiAgICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczMuZG9uZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCBhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBkb25lQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJlZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczQgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczQuY2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdhcHBlYXInKTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZW50ZXInKTtcblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRXhpdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkV4aXQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdGluZyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczUgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczUuYWN0aXZlQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0aW5nKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRXhpdGluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FeGl0ZWQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXM2ID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZXhpdCcpLFxuICAgICAgICAgIGRvbmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNi5kb25lQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdleGl0Jyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGRvbmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0ZWQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FeGl0ZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmdldENsYXNzTmFtZXMgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgdmFyIGNsYXNzTmFtZXMgPSBfdGhpcy5wcm9wcy5jbGFzc05hbWVzO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZV0gOiBjbGFzc05hbWVzICsgJy0nICsgdHlwZTtcbiAgICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSB0eXBlb2YgY2xhc3NOYW1lcyAhPT0gJ3N0cmluZycgPyBjbGFzc05hbWVzW3R5cGUgKyAnQWN0aXZlJ10gOiBjbGFzc05hbWUgKyAnLWFjdGl2ZSc7XG4gICAgICB2YXIgZG9uZUNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZSArICdEb25lJ10gOiBjbGFzc05hbWUgKyAnLWRvbmUnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIGFjdGl2ZUNsYXNzTmFtZTogYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lOiBkb25lQ2xhc3NOYW1lXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ1NTVHJhbnNpdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbW92ZUNsYXNzZXMgPSBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKG5vZGUsIHR5cGUpIHtcbiAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczcgPSB0aGlzLmdldENsYXNzTmFtZXModHlwZSksXG4gICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM3LmNsYXNzTmFtZSxcbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuZG9uZUNsYXNzTmFtZTtcblxuICAgIGNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuICAgIGFjdGl2ZUNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuICAgIGRvbmVDbGFzc05hbWUgJiYgcmVtb3ZlQ2xhc3Mobm9kZSwgZG9uZUNsYXNzTmFtZSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlZmxvd0FuZEFkZENsYXNzID0gZnVuY3Rpb24gcmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBmb3IgdG8gZm9yY2UgYSByZXBhaW50LFxuICAgIC8vIHdoaWNoIGlzIG5lY2Vzc2FyeSBpbiBvcmRlciB0byB0cmFuc2l0aW9uIHN0eWxlcyB3aGVuIGFkZGluZyBhIGNsYXNzIG5hbWUuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICBub2RlICYmIG5vZGUuc2Nyb2xsVG9wO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG5cbiAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lcztcbiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIG9uRW50ZXI6IHRoaXMub25FbnRlcixcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5vbkVudGVyZWQsXG4gICAgICBvbkVudGVyaW5nOiB0aGlzLm9uRW50ZXJpbmcsXG4gICAgICBvbkV4aXQ6IHRoaXMub25FeGl0LFxuICAgICAgb25FeGl0aW5nOiB0aGlzLm9uRXhpdGluZyxcbiAgICAgIG9uRXhpdGVkOiB0aGlzLm9uRXhpdGVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBDU1NUcmFuc2l0aW9uO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5DU1NUcmFuc2l0aW9uLnByb3BUeXBlcyA9ICBmYWxzZSA/IHByb3BUeXBlcyA6IHt9O1xudmFyIF9kZWZhdWx0ID0gQ1NTVHJhbnNpdGlvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBoYXNDbGFzcztcblxuZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgcmV0dXJuICEhY2xhc3NOYW1lICYmIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7ZWxzZSByZXR1cm4gKFwiIFwiICsgKGVsZW1lbnQuY2xhc3NOYW1lLmJhc2VWYWwgfHwgZWxlbWVudC5jbGFzc05hbWUpICsgXCIgXCIpLmluZGV4T2YoXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIikgIT09IC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKTtcblxudmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMzIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgaW46IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihwcm9wcywgcHJvcE5hbWUpIHtcbiAgICBpZiAoX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4uY291bnQocHJvcHNbcHJvcE5hbWVdKSAhPT0gMikgcmV0dXJuIG5ldyBFcnJvcihcIlxcXCJcIiArIHByb3BOYW1lICsgXCJcXFwiIG11c3QgYmUgZXhhY3RseSB0d28gdHJhbnNpdGlvbiBjb21wb25lbnRzLlwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSA6IHt9Oztcbi8qKlxuICogVGhlIGA8UmVwbGFjZVRyYW5zaXRpb24+YCBjb21wb25lbnQgaXMgYSBzcGVjaWFsaXplZCBgVHJhbnNpdGlvbmAgY29tcG9uZW50XG4gKiB0aGF0IGFuaW1hdGVzIGJldHdlZW4gdHdvIGNoaWxkcmVuLlxuICpcbiAqIGBgYGpzeFxuICogPFJlcGxhY2VUcmFuc2l0aW9uIGluPlxuICogICA8RmFkZT48ZGl2PkkgYXBwZWFyIGZpcnN0PC9kaXY+PC9GYWRlPlxuICogICA8RmFkZT48ZGl2PkkgcmVwbGFjZSB0aGUgYWJvdmU8L2Rpdj48L0ZhZGU+XG4gKiA8L1JlcGxhY2VUcmFuc2l0aW9uPlxuICogYGBgXG4gKi9cblxudmFyIFJlcGxhY2VUcmFuc2l0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJlcGxhY2VUcmFuc2l0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSZXBsYWNlVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KF9hcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FbnRlcicsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFbnRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXJpbmcnLCAwLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXJlZCcsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFeGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTVdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0JywgMSwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUV4aXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjYpLCBfa2V5NiA9IDA7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHtcbiAgICAgICAgYXJnc1tfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkV4aXRpbmcnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRXhpdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW43KSwgX2tleTcgPSAwOyBfa2V5NyA8IF9sZW43OyBfa2V5NysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTddID0gYXJndW1lbnRzW19rZXk3XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0ZWQnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJlcGxhY2VUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uaGFuZGxlTGlmZWN5Y2xlID0gZnVuY3Rpb24gaGFuZGxlTGlmZWN5Y2xlKGhhbmRsZXIsIGlkeCwgb3JpZ2luYWxBcmdzKSB7XG4gICAgdmFyIF9jaGlsZCRwcm9wcztcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICB2YXIgY2hpbGQgPSBfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKVtpZHhdO1xuXG4gICAgaWYgKGNoaWxkLnByb3BzW2hhbmRsZXJdKSAoX2NoaWxkJHByb3BzID0gY2hpbGQucHJvcHMpW2hhbmRsZXJdLmFwcGx5KF9jaGlsZCRwcm9wcywgb3JpZ2luYWxBcmdzKTtcbiAgICBpZiAodGhpcy5wcm9wc1toYW5kbGVyXSkgdGhpcy5wcm9wc1toYW5kbGVyXSgoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzKSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBpblByb3AgPSBfdGhpcyRwcm9wcy5pbixcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wiY2hpbGRyZW5cIiwgXCJpblwiXSk7XG5cbiAgICB2YXIgX1JlYWN0JENoaWxkcmVuJHRvQXJyID0gX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbiksXG4gICAgICAgIGZpcnN0ID0gX1JlYWN0JENoaWxkcmVuJHRvQXJyWzBdLFxuICAgICAgICBzZWNvbmQgPSBfUmVhY3QkQ2hpbGRyZW4kdG9BcnJbMV07XG5cbiAgICBkZWxldGUgcHJvcHMub25FbnRlcjtcbiAgICBkZWxldGUgcHJvcHMub25FbnRlcmluZztcbiAgICBkZWxldGUgcHJvcHMub25FbnRlcmVkO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkV4aXQ7XG4gICAgZGVsZXRlIHByb3BzLm9uRXhpdGluZztcbiAgICBkZWxldGUgcHJvcHMub25FeGl0ZWQ7XG4gICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RyYW5zaXRpb25Hcm91cC5kZWZhdWx0LCBwcm9wcywgaW5Qcm9wID8gX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KGZpcnN0LCB7XG4gICAgICBrZXk6ICdmaXJzdCcsXG4gICAgICBvbkVudGVyOiB0aGlzLmhhbmRsZUVudGVyLFxuICAgICAgb25FbnRlcmluZzogdGhpcy5oYW5kbGVFbnRlcmluZyxcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5oYW5kbGVFbnRlcmVkXG4gICAgfSkgOiBfcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoc2Vjb25kLCB7XG4gICAgICBrZXk6ICdzZWNvbmQnLFxuICAgICAgb25FbnRlcjogdGhpcy5oYW5kbGVFeGl0LFxuICAgICAgb25FbnRlcmluZzogdGhpcy5oYW5kbGVFeGl0aW5nLFxuICAgICAgb25FbnRlcmVkOiB0aGlzLmhhbmRsZUV4aXRlZFxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gUmVwbGFjZVRyYW5zaXRpb247XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cblJlcGxhY2VUcmFuc2l0aW9uLnByb3BUeXBlcyA9ICBmYWxzZSA/IHByb3BUeXBlcyA6IHt9O1xudmFyIF9kZWZhdWx0ID0gUmVwbGFjZVRyYW5zaXRpb247XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDk5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5ub29wID0gbm9vcDtcbmV4cG9ydHMucmV0dXJuVHJ1ZSA9IHJldHVyblRydWU7XG5leHBvcnRzLmNoYXJJc051bWJlciA9IGNoYXJJc051bWJlcjtcbmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuZXhwb3J0cy5nZXRUaG91c2FuZHNHcm91cFJlZ2V4ID0gZ2V0VGhvdXNhbmRzR3JvdXBSZWdleDtcbmV4cG9ydHMuc3BsaXREZWNpbWFsID0gc3BsaXREZWNpbWFsO1xuZXhwb3J0cy5maXhMZWFkaW5nWmVybyA9IGZpeExlYWRpbmdaZXJvO1xuZXhwb3J0cy5saW1pdFRvU2NhbGUgPSBsaW1pdFRvU2NhbGU7XG5leHBvcnRzLnJvdW5kVG9QcmVjaXNpb24gPSByb3VuZFRvUHJlY2lzaW9uO1xuZXhwb3J0cy5vbWl0ID0gb21pdDtcbmV4cG9ydHMuc2V0Q2FyZXRQb3NpdGlvbiA9IHNldENhcmV0UG9zaXRpb247XG5leHBvcnRzLmZpbmRDaGFuZ2VkSW5kZXggPSBmaW5kQ2hhbmdlZEluZGV4O1xuZXhwb3J0cy5jbGFtcCA9IGNsYW1wO1xuZXhwb3J0cy5nZXRDdXJyZW50Q2FyZXRQb3NpdGlvbiA9IGdldEN1cnJlbnRDYXJldFBvc2l0aW9uO1xuXG4vLyBiYXNpYyBub29wIGZ1bmN0aW9uXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNoYXJJc051bWJlcihjaGFyKSB7XG4gIHJldHVybiAhIShjaGFyIHx8ICcnKS5tYXRjaCgvXFxkLyk7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLVtcXF0ve30oKSorPy5cXFxcXiR8XS9nLCBcIlxcXFwkJlwiKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGhvdXNhbmRzR3JvdXBSZWdleCh0aG91c2FuZHNHcm91cFN0eWxlKSB7XG4gIHN3aXRjaCAodGhvdXNhbmRzR3JvdXBTdHlsZSkge1xuICAgIGNhc2UgJ2xha2gnOlxuICAgICAgcmV0dXJuIC8oXFxkKz8pKD89KFxcZFxcZCkrKFxcZCkoPyFcXGQpKShcXC5cXGQrKT8vZztcblxuICAgIGNhc2UgJ3dhbic6XG4gICAgICByZXR1cm4gLyhcXGQpKD89KFxcZHs0fSkrKD8hXFxkKSkvZztcblxuICAgIGNhc2UgJ3Rob3VzYW5kJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIC8oXFxkKSg/PShcXGR7M30pKyg/IVxcZCkpL2c7XG4gIH1cbn0gLy9zcGlsdCBhIGZsb2F0IG51bWJlciBpbnRvIGRpZmZlcmVudCBwYXJ0cyBiZWZvcmVEZWNpbWFsLCBhZnRlckRlY2ltYWwsIGFuZCBuZWdhdGlvblxuXG5cbmZ1bmN0aW9uIHNwbGl0RGVjaW1hbChudW1TdHIpIHtcbiAgdmFyIGFsbG93TmVnYXRpdmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG4gIHZhciBoYXNOYWdhdGlvbiA9IG51bVN0clswXSA9PT0gJy0nO1xuICB2YXIgYWRkTmVnYXRpb24gPSBoYXNOYWdhdGlvbiAmJiBhbGxvd05lZ2F0aXZlO1xuICBudW1TdHIgPSBudW1TdHIucmVwbGFjZSgnLScsICcnKTtcbiAgdmFyIHBhcnRzID0gbnVtU3RyLnNwbGl0KCcuJyk7XG4gIHZhciBiZWZvcmVEZWNpbWFsID0gcGFydHNbMF07XG4gIHZhciBhZnRlckRlY2ltYWwgPSBwYXJ0c1sxXSB8fCAnJztcbiAgcmV0dXJuIHtcbiAgICBiZWZvcmVEZWNpbWFsOiBiZWZvcmVEZWNpbWFsLFxuICAgIGFmdGVyRGVjaW1hbDogYWZ0ZXJEZWNpbWFsLFxuICAgIGhhc05hZ2F0aW9uOiBoYXNOYWdhdGlvbixcbiAgICBhZGROZWdhdGlvbjogYWRkTmVnYXRpb25cbiAgfTtcbn1cblxuZnVuY3Rpb24gZml4TGVhZGluZ1plcm8obnVtU3RyKSB7XG4gIGlmICghbnVtU3RyKSByZXR1cm4gbnVtU3RyO1xuICB2YXIgaXNOZWdhdGl2ZSA9IG51bVN0clswXSA9PT0gJy0nO1xuICBpZiAoaXNOZWdhdGl2ZSkgbnVtU3RyID0gbnVtU3RyLnN1YnN0cmluZygxLCBudW1TdHIubGVuZ3RoKTtcbiAgdmFyIHBhcnRzID0gbnVtU3RyLnNwbGl0KCcuJyk7XG4gIHZhciBiZWZvcmVEZWNpbWFsID0gcGFydHNbMF0ucmVwbGFjZSgvXjArLywgJycpIHx8ICcwJztcbiAgdmFyIGFmdGVyRGVjaW1hbCA9IHBhcnRzWzFdIHx8ICcnO1xuICByZXR1cm4gXCJcIi5jb25jYXQoaXNOZWdhdGl2ZSA/ICctJyA6ICcnKS5jb25jYXQoYmVmb3JlRGVjaW1hbCkuY29uY2F0KGFmdGVyRGVjaW1hbCA/IFwiLlwiLmNvbmNhdChhZnRlckRlY2ltYWwpIDogJycpO1xufVxuLyoqXG4gKiBsaW1pdCBkZWNpbWFsIG51bWJlcnMgdG8gZ2l2ZW4gc2NhbGVcbiAqIE5vdCB1c2VkIC5maXhlZFRvIGJlY2F1c2UgdGhhdCB3aWxsIGJyZWFrIHdpdGggYmlnIG51bWJlcnNcbiAqL1xuXG5cbmZ1bmN0aW9uIGxpbWl0VG9TY2FsZShudW1TdHIsIHNjYWxlLCBmaXhlZERlY2ltYWxTY2FsZSkge1xuICB2YXIgc3RyID0gJyc7XG4gIHZhciBmaWxsZXIgPSBmaXhlZERlY2ltYWxTY2FsZSA/ICcwJyA6ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDw9IHNjYWxlIC0gMTsgaSsrKSB7XG4gICAgc3RyICs9IG51bVN0cltpXSB8fCBmaWxsZXI7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyByZXF1aXJlZCB0byByb3VuZCBwcm9wIHZhbHVlIHRvIGdpdmVuIHNjYWxlLlxuICogTm90IHVzZWQgLnJvdW5kIG9yIC5maXhlZFRvIGJlY2F1c2UgdGhhdCB3aWxsIGJyZWFrIHdpdGggYmlnIG51bWJlcnNcbiAqL1xuXG5cbmZ1bmN0aW9uIHJvdW5kVG9QcmVjaXNpb24obnVtU3RyLCBzY2FsZSwgZml4ZWREZWNpbWFsU2NhbGUpIHtcbiAgLy9pZiBudW1iZXIgaXMgZW1wdHkgZG9uJ3QgZG8gYW55dGhpbmcgcmV0dXJuIGVtcHR5IHN0cmluZ1xuICBpZiAoWycnLCAnLSddLmluZGV4T2YobnVtU3RyKSAhPT0gLTEpIHJldHVybiBudW1TdHI7XG4gIHZhciBzaG91ZEhhdmVEZWNpbWFsU2VwYXJhdG9yID0gbnVtU3RyLmluZGV4T2YoJy4nKSAhPT0gLTEgJiYgc2NhbGU7XG5cbiAgdmFyIF9zcGxpdERlY2ltYWwgPSBzcGxpdERlY2ltYWwobnVtU3RyKSxcbiAgICAgIGJlZm9yZURlY2ltYWwgPSBfc3BsaXREZWNpbWFsLmJlZm9yZURlY2ltYWwsXG4gICAgICBhZnRlckRlY2ltYWwgPSBfc3BsaXREZWNpbWFsLmFmdGVyRGVjaW1hbCxcbiAgICAgIGhhc05hZ2F0aW9uID0gX3NwbGl0RGVjaW1hbC5oYXNOYWdhdGlvbjtcblxuICB2YXIgcm91bmRlZERlY2ltYWxQYXJ0cyA9IHBhcnNlRmxvYXQoXCIwLlwiLmNvbmNhdChhZnRlckRlY2ltYWwgfHwgJzAnKSkudG9GaXhlZChzY2FsZSkuc3BsaXQoJy4nKTtcbiAgdmFyIGludFBhcnQgPSBiZWZvcmVEZWNpbWFsLnNwbGl0KCcnKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChyb3VuZGVkU3RyLCBjdXJyZW50LCBpZHgpIHtcbiAgICBpZiAocm91bmRlZFN0ci5sZW5ndGggPiBpZHgpIHtcbiAgICAgIHJldHVybiAoTnVtYmVyKHJvdW5kZWRTdHJbMF0pICsgTnVtYmVyKGN1cnJlbnQpKS50b1N0cmluZygpICsgcm91bmRlZFN0ci5zdWJzdHJpbmcoMSwgcm91bmRlZFN0ci5sZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50ICsgcm91bmRlZFN0cjtcbiAgfSwgcm91bmRlZERlY2ltYWxQYXJ0c1swXSk7XG4gIHZhciBkZWNpbWFsUGFydCA9IGxpbWl0VG9TY2FsZShyb3VuZGVkRGVjaW1hbFBhcnRzWzFdIHx8ICcnLCBNYXRoLm1pbihzY2FsZSwgYWZ0ZXJEZWNpbWFsLmxlbmd0aCksIGZpeGVkRGVjaW1hbFNjYWxlKTtcbiAgdmFyIG5lZ2F0aW9uID0gaGFzTmFnYXRpb24gPyAnLScgOiAnJztcbiAgdmFyIGRlY2ltYWxTZXBhcmF0b3IgPSBzaG91ZEhhdmVEZWNpbWFsU2VwYXJhdG9yID8gJy4nIDogJyc7XG4gIHJldHVybiBcIlwiLmNvbmNhdChuZWdhdGlvbikuY29uY2F0KGludFBhcnQpLmNvbmNhdChkZWNpbWFsU2VwYXJhdG9yKS5jb25jYXQoZGVjaW1hbFBhcnQpO1xufVxuXG5mdW5jdGlvbiBvbWl0KG9iaiwga2V5TWFwcykge1xuICB2YXIgZmlsdGVyZWRPYmogPSB7fTtcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIWtleU1hcHNba2V5XSkgZmlsdGVyZWRPYmpba2V5XSA9IG9ialtrZXldO1xuICB9KTtcbiAgcmV0dXJuIGZpbHRlcmVkT2JqO1xufVxuLyoqIHNldCB0aGUgY2FyZXQgcG9zaXRvbiBpbiBhbiBpbnB1dCBmaWVsZCAqKi9cblxuXG5mdW5jdGlvbiBzZXRDYXJldFBvc2l0aW9uKGVsLCBjYXJldFBvcykge1xuICBlbC52YWx1ZSA9IGVsLnZhbHVlOyAvLyBeIHRoaXMgaXMgdXNlZCB0byBub3Qgb25seSBnZXQgXCJmb2N1c1wiLCBidXRcbiAgLy8gdG8gbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgaXQgZXZlcnl0aGluZyAtc2VsZWN0ZWQtXG4gIC8vIChpdCBjYXVzZXMgYW4gaXNzdWUgaW4gY2hyb21lLCBhbmQgaGF2aW5nIGl0IGRvZXNuJ3QgaHVydCBhbnkgb3RoZXIgYnJvd3NlcilcblxuICBpZiAoZWwgIT09IG51bGwpIHtcbiAgICBpZiAoZWwuY3JlYXRlVGV4dFJhbmdlKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBlbC5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgIHJhbmdlLm1vdmUoJ2NoYXJhY3RlcicsIGNhcmV0UG9zKTtcbiAgICAgIHJhbmdlLnNlbGVjdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyAoZWwuc2VsZWN0aW9uU3RhcnQgPT09IDAgYWRkZWQgZm9yIEZpcmVmb3ggYnVnKVxuXG5cbiAgICBpZiAoZWwuc2VsZWN0aW9uU3RhcnQgfHwgZWwuc2VsZWN0aW9uU3RhcnQgPT09IDApIHtcbiAgICAgIGVsLmZvY3VzKCk7XG4gICAgICBlbC5zZXRTZWxlY3Rpb25SYW5nZShjYXJldFBvcywgY2FyZXRQb3MpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBmYWlsIGNpdHksIGZvcnR1bmF0ZWx5IHRoaXMgbmV2ZXIgaGFwcGVucyAoYXMgZmFyIGFzIEkndmUgdGVzdGVkKSA6KVxuXG5cbiAgICBlbC5mb2N1cygpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuLyoqXG4gIEdpdmVuIHByZXZpb3VzIHZhbHVlIGFuZCBuZXdWYWx1ZSBpdCByZXR1cm5zIHRoZSBpbmRleFxuICBzdGFydCAtIGVuZCB0byB3aGljaCB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLlxuICBUaGlzIGZ1bmN0aW9uIG1ha2VzIGFzc3VtcHRpb24gYWJvdXQgb25seSBjb25zZWN1dGl2ZVxuICBjaGFyYWN0ZXJzIGFyZSBjaGFuZ2VkIHdoaWNoIGlzIGNvcnJlY3QgYXNzdW1wdGlvbiBmb3IgY2FyZXQgaW5wdXQuXG4qL1xuXG5cbmZ1bmN0aW9uIGZpbmRDaGFuZ2VkSW5kZXgocHJldlZhbHVlLCBuZXdWYWx1ZSkge1xuICB2YXIgaSA9IDAsXG4gICAgICBqID0gMDtcbiAgdmFyIHByZXZMZW5ndGggPSBwcmV2VmFsdWUubGVuZ3RoO1xuICB2YXIgbmV3TGVuZ3RoID0gbmV3VmFsdWUubGVuZ3RoO1xuXG4gIHdoaWxlIChwcmV2VmFsdWVbaV0gPT09IG5ld1ZhbHVlW2ldICYmIGkgPCBwcmV2TGVuZ3RoKSB7XG4gICAgaSsrO1xuICB9IC8vY2hlY2sgd2hhdCBoYXMgYmVlbiBjaGFuZ2VkIGZyb20gbGFzdFxuXG5cbiAgd2hpbGUgKHByZXZWYWx1ZVtwcmV2TGVuZ3RoIC0gMSAtIGpdID09PSBuZXdWYWx1ZVtuZXdMZW5ndGggLSAxIC0gal0gJiYgbmV3TGVuZ3RoIC0gaiA+IGkgJiYgcHJldkxlbmd0aCAtIGogPiBpKSB7XG4gICAgaisrO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydDogaSxcbiAgICBlbmQ6IHByZXZMZW5ndGggLSBqXG4gIH07XG59XG4vKlxuICBSZXR1cm5zIGEgbnVtYmVyIHdob3NlIHZhbHVlIGlzIGxpbWl0ZWQgdG8gdGhlIGdpdmVuIHJhbmdlXG4qL1xuXG5cbmZ1bmN0aW9uIGNsYW1wKG51bSwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG51bSwgbWluKSwgbWF4KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudENhcmV0UG9zaXRpb24oZWwpIHtcbiAgLypNYXggb2Ygc2VsZWN0aW9uU3RhcnQgYW5kIHNlbGVjdGlvbkVuZCBpcyB0YWtlbiBmb3IgdGhlIHBhdGNoIG9mIHBpeGVsIGFuZCBvdGhlciBtb2JpbGUgZGV2aWNlIGNhcmV0IGJ1ZyovXG4gIHJldHVybiBNYXRoLm1heChlbC5zZWxlY3Rpb25TdGFydCwgZWwuc2VsZWN0aW9uRW5kKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMDA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG52YXIgX0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CdXR0b24pO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX1R5cG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHlwb2dyYXBoeSk7XG5cbnZhciBfRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjkpO1xuXG52YXIgX0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2cpO1xuXG52YXIgX0RpYWxvZ0FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7XG5cbnZhciBfRGlhbG9nQWN0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2dBY3Rpb25zKTtcblxudmFyIF9EaWFsb2dUaXRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcblxudmFyIF9EaWFsb2dUaXRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2dUaXRsZSk7XG5cbnZhciBfRXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMSk7XG5cbnZhciBfRXJyb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXJyb3IpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblxudmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblxudmFyIF9NZW51SXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcwKTtcblxudmFyIF9NZW51SXRlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZW51SXRlbSk7XG5cbnZhciBfVGV4dEZpZWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjYpO1xuXG52YXIgX1RleHRGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0RmllbGQpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmN1bGFyUHJvZ3Jlc3MpO1xuXG52YXIgX0N1c3RvbURpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzMwKTtcblxudmFyIF9DdXN0b21EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ3VzdG9tRGlhbG9nKTtcblxudmFyIF9kYXRlRm5zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblxudmFyIF9jb21iaW5lU3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cbnZhciBfY29tYmluZVN0eWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lU3R5bGVzKTtcblxudmFyIF9iYXNlU3R5bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblxudmFyIF9iYXNlU3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFzZVN0eWxlKTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gICAgc3VtbWFyeToge1xuICAgICAgICBzdW1tYXJ5OiBcIlwiXG4gICAgfSxcbiAgICByZWFzb25Db2RlTGlzdDogXCJcIixcbiAgICBjb3JyZWN0SW52b2ljZXM6IFwiXCIsXG4gICAgaW5jb3JyZWN0RmxhZzogXCJcIixcbiAgICB0b2dnbGVFeHBhbmQ6IFwiXCJcbn07XG5cbi8vY29uc3RhbnRzXG4vLyBjb25zdCBEaXNwdXRlUmVnZXggPSAvKERpc3B1dGUgZm9yIFxcZCopfChbMC05XXs0fVstXVswLTldezJ9Wy1dWzAtOV17Mn0pfChcXGQqIGludm9pY2UpL2c7XG52YXIgZGlzcHV0ZVJlZ2V4ID0gLyhcXGQqIGludm9pY2UpfChiZWNhdXNlIG9mIC4qKS9nO1xudmFyIGRpc2NhcmRNZXNzYWdlID0gXCJUaGlzIHdpbGwgYmUgcmVtb3ZlZCBwZXJtYW5lbnRseSBmcm9tIHRoZSBzdWdnZXN0ZWQgYWN0aW9ucy4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS5cIjtcbnZhciByZXNvbHZlTWVzc2FnZSA9IFwiIFVuYWJsZSB0byBjb21wbGV0ZSB0aGUgYWN0aW9uLiBQbGVhc2UgcmVzb2x2ZSB0aGUgZXJyb3JzIHRvIGFwcHJvdmUuXCI7XG52YXIgbm9SZWFzb25NZXNzYWdlID0gXCJQbGVhc2Ugc2VsZWN0IGFwcHJvcHJpYXRlIGRpc3B1dGUgcmVhc29uLlwiO1xudmFyIG5vSW52b2ljZU1lc3NhZ2UgPSBcIk5vIGludm9pY2Ugc2VsZWN0ZWQuIFBsZWFzZSBhZGQgYXQgbGVhc3QgYW4gaW52b2ljZSB0byBzYXZlIHRoZSBkaXNwdXRlLlwiO1xudmFyIERJU1BVVEVfVEVNUExBVEUgPSBcIkRpc3B1dGUgcmFpc2VkIGZvciA8SW52b2ljZXM+IGJlY2F1c2Ugb2YgOiA8RElTUFVURS1SRUFTT04+XCI7XG52YXIgRElTUFVURV9PUklHX1RFTVBMQVRFID0gXCJDcmVhdGUgRGlzcHV0ZSBmb3IgPEludm9pY2VzPiBiZWNhdXNlIG9mIDxSZWFzb25Db2RlPlwiO1xudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG5cbiAgICAgICAgc2VsZWN0TWVudUNsYXNzOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxuICAgICAgICAgICAgb3BhY2l0eTogMC42NSxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBtZW51SXRlbVJvb3Q6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArIFwiICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBtZW51UGFwZXI6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgICAgICAgIGhlaWdodDogXCIyMHJlbSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCB3aGl0ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgICAgICBwYWRkaW5nOiAnMHB4JyxcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjZcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uUHJvZ3Jlc3NCYXI6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB3aWR0aDogXCIxLjVyZW0gIWltcG9ydGFudFwiLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMS41cmVtICFpbXBvcnRhbnRcIlxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdGV4dEZpZWxkOiB7XG4gICAgICAgICAgICBtYXJnaW46IFwiMHB4XCIsXG4gICAgICAgICAgICAvLyB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxuICAgICAgICAgICAgLy8gcGFkZGluZzogXCIwcHhcIixcbiAgICAgICAgICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXG4gICAgICAgICAgICAvLyB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICB0ZXN0SW5pdGlhbDoge1xuICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgICAgICAgIHBhZGRpbmc6ICcwcHgnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNixcblxuICAgICAgICAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiY6YWZ0ZXJcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2FyZENvbnRlbnQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNjVcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uSWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3JGbGFnOiB7XG4gICAgICAgICAgICBjb2xvcjogXCIjRkY0NDQ0XCIsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0SWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZGlzYWJsZURvbmVCdG46IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNCxcbiAgICAgICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCJcblxuICAgICAgICAgICAgLy8gdGVzdDoge1xuICAgICAgICAgICAgLy8gICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgICAgICAvLyAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICAgICAgICAvLyAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgICAgLy8gICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICAvLyAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgLy8gICAgIG9wYWNpdHk6IDAuNixcblxuICAgICAgICAgICAgLy8gICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgLy8gICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICM1REFBRTBcIixcbiAgICAgICAgICAgIC8vICAgICB9LFxuICAgICAgICAgICAgLy8gICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgIzVEQUFFMFwiLFxuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAvLyB0ZXN0SW5pdGlhbDoge1xuICAgICAgICAgICAgLy8gICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgICAgICAvLyAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICAgICAgICAvLyAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgICAgLy8gICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICAvLyAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgLy8gICAgIG9wYWNpdHk6IDAuNixcblxuICAgICAgICAgICAgLy8gICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgLy8gICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIixcbiAgICAgICAgICAgIC8vICAgICB9LFxuICAgICAgICAgICAgLy8gICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiLFxuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vIH0sXG5cbiAgICAgICAgfSB9O1xufTtcblxudmFyIERpc3B1dGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhEaXNwdXRlLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIERpc3B1dGUocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpc3B1dGUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEaXNwdXRlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGlzcHV0ZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIHZhciBleHRyYWN0ZWREYXRhID0gX3RoaXMucHJvcHMuc3VtbWFyeSAmJiBfdGhpcy5wcm9wcy5zdW1tYXJ5LnN1bW1hcnkgPyBfdGhpcy5wcm9wcy5zdW1tYXJ5LnN1bW1hcnkubWF0Y2goZGlzcHV0ZVJlZ2V4KSA6IFwiXCI7XG4gICAgICAgIC8vIGxldCBleHRyYWN0ZWRBbW91bnQgPSBleHRyYWN0ZWREYXRhWzBdLm1hdGNoKC9bMC05XXsxLH0vKTtcbiAgICAgICAgLy8gaWYgKCFleHRyYWN0ZWRBbW91bnQpIGV4dHJhY3RlZEFtb3VudCA9IDA7ICAgICAgICBcblxuICAgICAgICAvLyBsZXQgbm9PZkludm9pY2VzID0gZXh0cmFjdGVkRGF0YVswXSA/IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pIDogMDtcblxuICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xuICAgICAgICAvLyAgICAgbm9PZkludm9pY2VzID0gMDtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHZhciByZWFzb25Db2RlID0gZXh0cmFjdGVkRGF0YVsxXSA/IGV4dHJhY3RlZERhdGFbMV0uc3Vic3RyaW5nKDExKSA6IFwiXCI7XG4gICAgICAgIHZhciByZWFzb25Db2RlcyA9IF90aGlzLnByb3BzLnJlYXNvbkNvZGVMaXN0O1xuXG4gICAgICAgIGlmIChyZWFzb25Db2Rlcy5pbmRleE9mKHJlYXNvbkNvZGUpIDwgMCkge1xuICAgICAgICAgICAgcmVhc29uQ29kZSA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHJlYXNvbkNvZGU6IHJlYXNvbkNvZGUsXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IF90aGlzLnByb3BzLmludm9pY2VDb3VudCxcbiAgICAgICAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5Ob1JlYXNvbkRpYWxvZzogZmFsc2UsXG4gICAgICAgICAgICBvcGVuTm9JbnZvaWNlRGlhbG9nOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5Qcm9ncmVzc0JhcjogdHJ1ZSxcbiAgICAgICAgICAgIGFjdGlvbklkOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxuICAgICAgICAgICAgaXNEb25lOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUsXG4gICAgICAgICAgICAvLyBpc0RvbmU6IGZhbHNlLFxuICAgICAgICAgICAgZmluYWxTZWxlY3RlZERhdGU6IFwiXCIsXG4gICAgICAgICAgICAvLyByZWFzb25Db2RlVGV4dEZpZWxkV2lkdGg6IHJlYXNvbkNvZGUgPyAoXCJcIiArIHJlYXNvbkNvZGUpLmxlbmd0aCAqIDEyIDogNTAsXG4gICAgICAgICAgICBjaGFuZ2U6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRGlzcHV0ZSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IG5leHRQcm9wcy5pbmNvcnJlY3RGbGFnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKG5leHRQcm9wcy5pbnZvaWNlQ291bnQgPj0gMCAmJiBuZXh0UHJvcHMuaW52b2ljZUNvdW50ICE9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VDb3VudDogbmV4dFByb3BzLmludm9pY2VDb3VudCB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLypjaGFuZ2UqIGJvdHRvbiAzIGZ1bmN0aW9uc1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLnByb3BzLmNsYXNzZXM7XG4gICAgICAgICAgICB2YXIgc3VtbWFyeSA9IHRoaXMucHJvcHMuc3VtbWFyeTtcbiAgICAgICAgICAgIHZhciBmdWxsU2NyZWVuID0gdGhpcy5wcm9wcy5mdWxsU2NyZWVuO1xuXG5cbiAgICAgICAgICAgIHZhciByZWFzb25Db2RlcyA9IHRoaXMucHJvcHMucmVhc29uQ29kZUxpc3Q7XG4gICAgICAgICAgICB2YXIgb3B0aW9uSXRlbXMgPSByZWFzb25Db2RlcyAmJiByZWFzb25Db2Rlcy5tYXAoZnVuY3Rpb24gKHJlYXNvbkNvZGUsIGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiBpZCwgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogcmVhc29uQ29kZSB9LFxuICAgICAgICAgICAgICAgICAgICByZWFzb25Db2RlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlU2FtcGxlIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMCwgbWQ6IDEwLCBsZzogMTAsIGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnk6ICdmbGV4LXN0YXJ0JyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIzcmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3Rpb25TYXZlUHJvZ3Jlc3NCYXIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NpcmN1bGFyUHJvZ3Jlc3MyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvblByb2dyZXNzQmFyIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkRvbmUsIHsgc3R5bGU6IHsgY29sb3I6IFwiIzVGQzMyQ1wiLCBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIiwgcGFkZGluZ1JpZ2h0OiBcIjAuNXJlbVwiLCBoZWlnaHQ6IFwiMS41cmVtXCIsIHdpZHRoOiBcIjEuNXJlbVwiIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBvcGFjaXR5OiAxIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGVkIFxceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBvcGFjaXR5OiAxIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGUgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZm9udFdlaWdodDogXCJib2xkXCIsIG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0RJU1BVVEUgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ICE9PSAwICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZGlzcGxheTogXCJmbGV4XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBtYXJnaW46IFwiMCA4cHggMCA2cHhcIiB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250V2VpZ2h0OiAnYm9sZCcgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50LCBvbkNsaWNrOiB0aGlzLnByb3BzLnRvZ2dsZUV4cGFuZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCArIFwiIEludm9pY2VcIiArICh0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDEgPyBcInNcIiA6IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmluY29ycmVjdEZsYWcgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Vycm9yMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5lcnJvckZsYWcgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTAgd2l0aCByZWFzb24gY29kZSBvZiBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLnJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaGlkZGVuOiB0aGlzLnN0YXRlLmlzRG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9TZWxlY3QyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3JlYXNvbi1jb2RlLWZpZWxkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuZ2V0UmVhc29uQ29kZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVSZWFzb25Db2RlQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUucmVhc29uQ29kZSA/IGNsYXNzZXMudGVzdCA6IGNsYXNzZXMudGVzdEluaXRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgc2VsZWN0TWVudTogY2xhc3Nlcy5zZWxlY3RNZW51Q2xhc3MsIGljb246IGNsYXNzZXMuc2VsZWN0SWNvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW51UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnU2VsZWN0JywgZGlzYWJsZWQ6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NlbGVjdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkl0ZW1zXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHlsZT17eyB3aWR0aDogdGhpcy5zdGF0ZS5yZWFzb25Db2RlVGV4dEZpZWxkV2lkdGggfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGhpZGRlbjogIXRoaXMuc3RhdGUuaXNEb25lXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcInJlYXNvbi1jb2RlLWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc2VsZWN0ZWRSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUucmVhc29uQ29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUludm9pY2VDdXJyZW5jeUNoYW5nZShcImFtb3VudFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIG1hcmdpbjogJ25vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJ25vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5wdXRDb21wb25lbnQ6IE51bWJlckZvcm1hdEN1c3RvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbkFjdGlvblNhdmUsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VBY3Rpb25TYXZlRGlhbG9nLCB0aXRsZTogZGlzY2FyZE1lc3NhZ2UsIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJDdXN0b21EaWFsb2dcIiArIDAsIG9uQ2xpY2s6IHRoaXMuY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nLCBjb2xvcjogJ3NlY29uZGFyeScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdEaXNhZ3JlZSdcbiAgICAgICAgICAgICAgICAgICAgKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwiQ3VzdG9tRGlhbG9nXCIgKyAwLCBvbkNsaWNrOiB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZywgY29sb3I6ICdwcmltYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnQWdyZWUnXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHsgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZyxcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2csIHRpdGxlOiByZXNvbHZlTWVzc2FnZSwgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBcIkN1c3RvbURpYWxvZ1wiICsgMCwgb25DbGljazogdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2csIGNvbG9yOiAncHJpbWFyeScsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICAgICAgICAgICApXSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3Blbk5vUmVhc29uRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlTm9SZWFzb25EaWFsb2csIHRpdGxlOiBub1JlYXNvbk1lc3NhZ2UsIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJDdXN0b21EaWFsb2dcIiArIDAsIG9uQ2xpY2s6IHRoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZywgY29sb3I6ICdzZWNvbmRhcnknLCBhdXRvRm9jdXM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdPSydcbiAgICAgICAgICAgICAgICAgICAgKV0gfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwgeyBmdWxsU2NyZWVuOiBmdWxsU2NyZWVuLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5Ob0ludm9pY2VEaWFsb2csXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VOb0ludm9pY2VEaWFsb2csIHRpdGxlOiBub0ludm9pY2VNZXNzYWdlLCBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwiQ3VzdG9tRGlhbG9nXCIgKyAwLCBvbkNsaWNrOiB0aGlzLmNsb3NlTm9JbnZvaWNlRGlhbG9nLCBjb2xvcjogJ3NlY29uZGFyeScsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICAgICAgICAgICApXSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDIsIG1kOiAyLCBsZzogMiB9LFxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuSGlnaGxpZ2h0T2ZmLCB7IHN0eWxlOiB7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH0sIG9uQ2xpY2s6IHRoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2cgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuQ2hlY2tDaXJjbGVPdXRsaW5lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IFwiIzVGQzMyQ1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnN0YXRlLnJlYXNvbkNvZGUgPyBcIlwiIDogY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0bixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnN0YXRlLnJlYXNvbkNvZGUgPyB0aGlzLnNhdmVEaXNwdXRlIDogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERpc3B1dGU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB0aGlzLnNhdmVEaXNwdXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW52b2ljZXMgPSBfdGhpczMucHJvcHMuY29ycmVjdEludm9pY2VzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgdmFyIGludm9pY2VPYmogPSB7fTtcbiAgICAgICAgICAgIGludm9pY2VPYmouY21zRG9jSGVhZGVySWQgPSBpbnZvaWNlLmlkO1xuICAgICAgICAgICAgcmV0dXJuIGludm9pY2VPYmo7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfdGhpczMucHJvcHMuaW5jb3JyZWN0RmxhZykge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIV90aGlzMy5zdGF0ZS5yZWFzb25Db2RlKSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuTm9SZWFzb25EaWFsb2c6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLmludm9pY2VDb3VudCA9PSAwKSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuTm9JbnZvaWNlRGlhbG9nOiB0cnVlIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiB0cnVlIH0pO1xuXG4gICAgICAgIHZhciByZXFPYmogPSB7XG4gICAgICAgICAgICAvLyBhY3R1YWxEaXNwdXRlQW1vdW50OiB0aGlzLnN0YXRlLmFtb3VudCxcbiAgICAgICAgICAgIHJlYXNvbkNvZGU6IF90aGlzMy5zdGF0ZS5yZWFzb25Db2RlLFxuICAgICAgICAgICAgY3VzdG9tZXJJZDogX3RoaXMzLnByb3BzLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgZGlzcHV0ZUl0ZW1zOiBpbnZvaWNlc1xuICAgICAgICB9O1xuXG4gICAgICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jdXN0b21lci8nICsgX3RoaXMzLnByb3BzLmN1c3RvbWVyLmlkICsgJy9kaXNwdXRlJywgcmVxT2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgX3RoaXMzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiU1VDQ0VTU1wiKTtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGlzRG9uZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy91cGRhdGUgZmxhZyBpbiBhY3Rpb25zIHwgcG9zdCBjYWxsIFxuICAgICAgICAgICAgdmFyIHN1bW1hcnlUb1NhdmUgPSBfdGhpczMuZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5KCk7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMub25Db21wbGV0aW9uKCk7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybShzdW1tYXJ5VG9TYXZlKTtcbiAgICAgICAgICAgIF90aGlzMy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgX3RoaXMzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRVJST1JcIik7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnZvaWNlQ291bnQgPSBfdGhpczMuc3RhdGUuaW52b2ljZUNvdW50O1xuXG4gICAgICAgIHZhciBnZW5lcmF0ZWRTdW1tYXJ5ID0gRElTUFVURV9URU1QTEFURS5yZXBsYWNlKFwiPERJU1BVVEUtUkVBU09OPlwiLCBfdGhpczMuc3RhdGUucmVhc29uQ29kZSkucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgaW52b2ljZUNvdW50ID09IDEgPyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlXCIgOiBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlc1wiKTtcblxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkU3VtbWFyeTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVTdW1tYXJ5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBpbnZvaWNlQ291bnQgPSBfdGhpczMuc3RhdGUuaW52b2ljZUNvdW50O1xuICAgICAgICB2YXIgZm9ybWF0dGVkRGF0ZSA9ICgwLCBfZGF0ZUZucy5mb3JtYXQpKG5ldyBEYXRlKF90aGlzMy5zdGF0ZS5zZWxlY3RlZERhdGUpLCBcInl5eXktTU0tZGRcIik7XG4gICAgICAgIHZhciB1cGRhdGVkU3VtbWFyeSA9IERJU1BVVEVfT1JJR19URU1QTEFURS5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCBpbnZvaWNlQ291bnQgPT09IDAgPyBcIjxYIGludm9pY2VzPlwiIDogaW52b2ljZUNvdW50ID09PSAxID8gaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZVwiIDogaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIikucmVwbGFjZShcIjxSZWFzb25Db2RlPlwiLCBfdGhpczMuc3RhdGUucmVhc29uQ29kZSk7XG4gICAgICAgIF90aGlzMy5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgX3RoaXMzLnByb3BzLm9wZW5TbmFja2Jhck9uQWN0aW9uKG1lc3NhZ2UpO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5kZWxldGVBY3Rpb24oX3RoaXMzLnN0YXRlLmFjdGlvbklkKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3Blbk5vUmVhc29uRGlhbG9nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3Blbk5vSW52b2ljZURpYWxvZzogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlUmVhc29uQ29kZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY2hhbmdlOiB0cnVlLFxuICAgICAgICAgICAgcmVhc29uQ29kZTogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAvLyByZWFzb25Db2RlVGV4dEZpZWxkV2lkdGg6IGV2ZW50LnRhcmdldC52YWx1ZSA/IChcIlwiICsgZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCkgKiAxMiA6IDUwXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFJlYXNvbkNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZWFzb25Db2RlcyA9IF90aGlzMy5wcm9wcy5yZWFzb25Db2RlTGlzdDtcbiAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5yZWFzb25Db2RlICYmIHJlYXNvbkNvZGVzLmluZGV4T2YoX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGUpID49IDApIHtcbiAgICAgICAgICAgIC8vIHJldHVybiBcIlNlbGVjdFwiO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zdGF0ZS5yZWFzb25Db2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlNlbGVjdFwiO1xuICAgIH07XG59O1xuXG5EaXNwdXRlLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuXG5EaXNwdXRlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxudmFyIGNvbWJpbmVkU3R5bGUgPSAoMCwgX2NvbWJpbmVTdHlsZXMyLmRlZmF1bHQpKHN0eWxlcywgX2Jhc2VTdHlsZTIuZGVmYXVsdCk7XG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShjb21iaW5lZFN0eWxlLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShEaXNwdXRlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMDE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxudmFyIF9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnV0dG9uKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXG52YXIgX2RhdGVGbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNzYpO1xuXG52YXIgX2RhdGVGbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGF0ZUZucyk7XG5cbnZhciBfbWF0ZXJpYWxVaVBpY2tlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNzcpO1xuXG52YXIgX2NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF9ibHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzMpO1xuXG52YXIgX2JsdWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmx1ZSk7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX1R5cG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHlwb2dyYXBoeSk7XG5cbnZhciBfVGV4dEZpZWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjYpO1xuXG52YXIgX1RleHRGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0RmllbGQpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX3JlYWN0TnVtYmVyRm9ybWF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDgwKTtcblxudmFyIF9yZWFjdE51bWJlckZvcm1hdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdE51bWJlckZvcm1hdCk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfU2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXG52YXIgX1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3QpO1xuXG52YXIgX01lbnVJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzApO1xuXG52YXIgX01lbnVJdGVtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lbnVJdGVtKTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaXJjdWxhclByb2dyZXNzKTtcblxudmFyIF9DdXN0b21EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMCk7XG5cbnZhciBfQ3VzdG9tRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0N1c3RvbURpYWxvZyk7XG5cbnZhciBfZGF0ZUZuczMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NSk7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXG52YXIgX2hlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgX2Jhc2VTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlU3R5bGUpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vL2NvbnN0YW50c1xudmFyIGZvbGxvd3VwUmVnZXggPSAvKFxcZHs0fS1cXGR7Mn0tXFxkezJ9VFtcXGR7Mn06XSouXFxkezN9Wy18K11cXGR7Mn06XFxkezJ9KXwocmVhc29uOiAuKikvZztcbnZhciBkaXNjYXJkTWVzc2FnZSA9IFwiVGhpcyB3aWxsIGJlIHJlbW92ZWQgcGVybWFuZW50bHkgZnJvbSB0aGUgc3VnZ2VzdGVkIGFjdGlvbnMuIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuXCI7XG52YXIgcmVzb2x2ZU1lc3NhZ2UgPSBcIiBVbmFibGUgdG8gY29tcGxldGUgdGhlIGFjdGlvbi4gUGxlYXNlIHJlc29sdmUgdGhlIGVycm9ycyB0byBhcHByb3ZlLlwiO1xudmFyIG5vVGV4dE1lc3NhZ2UgPSBcIlBsZWFzZSBzZWxlY3QgYXBwcm9wcmlhdGUgZm9sbG93dXAgcmVhc29uLlwiO1xudmFyIGludmFsaWREYXRlTWVzc2FnZSA9IFwiRm91bmQgaW52YWxpZCBkYXRlLiBQbGVhc2UgY29ycmVjdCB0aGUgZGF0ZSB0byBwcm9jZWVkLlwiO1xudmFyIEZPTExPV1VQX1RFTVBMQVRFID0gXCJGb2xsb3cgdXAgIDxDb250YWN0IE5hbWU+IDxGb2xsb3d1cCBEYXRlPiA8Rm9sbG93dXAgVGV4dD5cIjtcbnZhciBGT0xMT1dVUF9PUklHX1RFTVBMQVRFID0gXCJDcmVhdGUgRm9sbG93dXAgZXZlbnQgZm9yIDxGb2xsb3d1cCBEYXRlPiByZWFzb246IDxGb2xsb3d1cCBUZXh0PlwiO1xudmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHNlbGVjdE1lbnVDbGFzczoge1xuICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgIG9wYWNpdHk6IDAuNjUsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIG1lbnVJdGVtUm9vdDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgfSxcbiAgICBtZW51UGFwZXI6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgIGhlaWdodDogXCIyMHJlbSAhaW1wb3J0YW50XCIsXG4gICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCB3aGl0ZVwiXG4gICAgfSxcbiAgICB0ZXN0OiB7XG4gICAgICB3aWR0aDogXCJhdXRvXCIsXG4gICAgICBwYWRkaW5nOiBcIjBweFwiLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgb3BhY2l0eTogMC42LFxuICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICNmZjQ1NDNcIlxuICAgICAgfSxcbiAgICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiXG4gICAgICB9XG4gICAgfSxcbiAgICB0ZXN0SW5pdGlhbDoge1xuICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgIHBhZGRpbmc6ICcwcHgnLFxuICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIG9wYWNpdHk6IDAuNixcblxuICAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2ZmNDU0M1wiXG4gICAgICB9LFxuICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGFjdGlvblByb2dyZXNzQmFyOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgd2lkdGg6IFwiMS41cmVtICFpbXBvcnRhbnRcIixcbiAgICAgIHBhZGRpbmdMZWZ0OiBcIjAuNXJlbVwiLFxuICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAuNXJlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjEuNXJlbSAhaW1wb3J0YW50XCJcbiAgICB9LFxuICAgIGNhcmRDb250ZW50OiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBvcGFjaXR5OiAwLjY1XG4gICAgfSxcbiAgICBhY3Rpb25JY29uOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgIH0sXG4gICAgc2VsZWN0SWNvbjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICB9LFxuICAgIGRpc2FibGVEb25lQnRuOiB7XG4gICAgICBvcGFjaXR5OiAwLjQsXG4gICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiXG4gICAgfVxuICB9O1xufTtcblxudmFyIG1hdGVyaWFsVGhlbWUgPSAoMCwgX2NvcmUuY3JlYXRlTXVpVGhlbWUpKHtcbiAgb3ZlcnJpZGVzOiB7XG4gICAgTXVpUGlja2Vyc1Rvb2xiYXI6IHtcbiAgICAgIHRvb2xiYXI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBfYmx1ZTIuZGVmYXVsdC5BMjAwLFxuICAgICAgICBoZWlnaHQ6IFwiMTN2aFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXI6IHtcbiAgICAgIHN3aXRjaEhlYWRlcjoge1xuICAgICAgICAvLyBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Qmx1ZS5BMjAwLFxuICAgICAgICAvLyBjb2xvcjogJ3doaXRlJyxcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aVBpY2tlcnNEYXk6IHtcbiAgICAgIGRheToge1xuICAgICAgICBjb2xvcjogX2JsdWUyLmRlZmF1bHQuQTcwMFxuICAgICAgfSxcbiAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogX2JsdWUyLmRlZmF1bHRbXCI0MDBcIl1cbiAgICAgIH0sXG4gICAgICBjdXJyZW50OiB7XG4gICAgICAgIGNvbG9yOiBfYmx1ZTIuZGVmYXVsdFtcIjkwMFwiXVxuICAgICAgfVxuICAgIH0sXG4gICAgTXVpRm9ybUhlbHBlclRleHQ6IHtcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvbG9yOiBcIiNGRjg4ODggIWltcG9ydGFudFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlQaWNrZXJzTW9kYWw6IHtcbiAgICAgIGRpYWxvZ0FjdGlvbjoge1xuICAgICAgICBjb2xvcjogX2JsdWUyLmRlZmF1bHRbXCI0MDBcIl1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgRm9sbG93dXAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRm9sbG93dXAsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEZvbGxvd3VwKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvbGxvd3VwKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGb2xsb3d1cC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZvbGxvd3VwKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgIHZhciBleHRyYWN0ZWREYXRhID0gX3RoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKGZvbGxvd3VwUmVnZXgpO1xuICAgIHZhciBzZWxlY3RlZERhdGUgPSBcIlwiO1xuICAgIHZhciBmb2xsb3d1cFRleHQgPSBcIlwiO1xuICAgIGlmIChleHRyYWN0ZWREYXRhICYmIGV4dHJhY3RlZERhdGEubGVuZ3RoID4gMCkge1xuICAgICAgc2VsZWN0ZWREYXRlID0gbmV3IERhdGUoZXh0cmFjdGVkRGF0YVswXSk7XG4gICAgICBmb2xsb3d1cFRleHQgPSBleHRyYWN0ZWREYXRhWzFdID8gZXh0cmFjdGVkRGF0YVsxXS5zdWJzdHJpbmcoOCkgOiBudWxsO1xuICAgIH1cblxuICAgIHZhciBmb2xsb3d1cFRleHRzID0gX3RoaXMucHJvcHMuZm9sbG93dXBUZXh0TGlzdDtcblxuICAgIGlmIChmb2xsb3d1cFRleHRzLmluZGV4T2YoZm9sbG93dXBUZXh0KSA8IDApIHtcbiAgICAgIGZvbGxvd3VwVGV4dCA9IFwiXCI7XG4gICAgfVxuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgIGlzRWRpdGluZzogZmFsc2UsXG4gICAgICBmb2xsb3d1cFRleHQ6IGZvbGxvd3VwVGV4dCxcbiAgICAgIHNlbGVjdGVkRGF0ZTogbmV3IERhdGUoc2VsZWN0ZWREYXRlKSxcbiAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcbiAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcbiAgICAgIG9wZW5JbnZhbGlkRGF0ZURpYWxvZzogZmFsc2UsXG4gICAgICBvcGVuUHJvZ3Jlc3NCYXI6IHRydWUsXG4gICAgICBhY3Rpb25JZDogX3RoaXMucHJvcHMuc3VtbWFyeS5pZCxcbiAgICAgIGlzRG9uZTogX3RoaXMucHJvcHMuc3VtbWFyeS5zYXZlLFxuICAgICAgZmluYWxTZWxlY3RlZERhdGU6IF90aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSA/ICgwLCBfZGF0ZUZuczMuZm9ybWF0KShuZXcgRGF0ZShleHRyYWN0ZWREYXRhWzBdKSwgXCJNTU0gZGQsIHl5eXlcIikgOiBcIlwiLFxuICAgICAgLy8gZm9sbG93dXBUZXh0RmllbGRXaWR0aDogZm9sbG93dXBUZXh0ID8gKFwiXCIgKyBmb2xsb3d1cFRleHQpLmxlbmd0aCAqIDEyIDogNTAsXG4gICAgICBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlLFxuICAgICAgaW5jb3JyZWN0RmxhZzogbnVsbFxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZvbGxvd3VwLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGluY29ycmVjdEZsYWc6IG5leHRQcm9wcy5pbmNvcnJlY3RGbGFnXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLnByb3BzLmNsYXNzZXM7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzdW1tYXJ5ID0gX3Byb3BzLnN1bW1hcnksXG4gICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG4gICAgICB2YXIgZnVsbFNjcmVlbiA9IHRoaXMucHJvcHMuZnVsbFNjcmVlbjtcblxuXG4gICAgICB2YXIgZm9sbG93dXBUZXh0cyA9IHRoaXMucHJvcHMuZm9sbG93dXBUZXh0TGlzdDtcbiAgICAgIHZhciBvcHRpb25JdGVtcyA9IGZvbGxvd3VwVGV4dHMubWFwKGZ1bmN0aW9uIChmb2xsb3d1cFRleHQsIGlkKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiBcImZvbGxvd3VwVGV4dFwiICsgaWQsXG4gICAgICAgICAgICB2YWx1ZTogZm9sbG93dXBUZXh0LFxuICAgICAgICAgICAgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb2xsb3d1cFRleHRcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmludm9pY2VTYW1wbGUgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgIHhzOiAxMCxcbiAgICAgICAgICAgIG1kOiAxMCxcbiAgICAgICAgICAgIGxnOiAxMCxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAganVzdGlmeTogJ2ZsZXgtc3RhcnQnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIzcmVtXCIgfSB9LFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3Rpb25TYXZlUHJvZ3Jlc3NCYXIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NpcmN1bGFyUHJvZ3Jlc3MyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvblByb2dyZXNzQmFyIH0pLFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkRvbmUsIHtcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjNUZDMzJDXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxLjVyZW1cIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxLjVyZW1cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnQ3JlYXRlZCBcXHhBMCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHlsZTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdDcmVhdGUgXFx4QTAnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHsgc3R5bGU6IHsgb3BhY2l0eTogMSB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgJ0ZPTExPVy1VUCBcXHhBMCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgJ2V2ZW50IGZvciBcXHhBMCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZpbmFsU2VsZWN0ZWREYXRlXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9tYXRlcmlhbFVpUGlja2Vycy5NdWlQaWNrZXJzVXRpbHNQcm92aWRlcixcbiAgICAgICAgICAgICAgeyB1dGlsczogX2RhdGVGbnMyLmRlZmF1bHQgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX2NvcmUuTXVpVGhlbWVQcm92aWRlcixcbiAgICAgICAgICAgICAgICB7IHRoZW1lOiBtYXRlcmlhbFRoZW1lIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX21hdGVyaWFsVWlQaWNrZXJzLkRhdGVQaWNrZXIsIHtcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1heFdpZHRoOiBcIjUuMzVyZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IEJvb2xlYW4oZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgZm9ybWF0OiAnTU1NIGRkLCB5eXl5JyxcbiAgICAgICAgICAgICAgICAgIG1pbkRhdGVNZXNzYWdlOiAnUHJldmlvdXMgZGF0ZSBub3QgYWNjZXB0YWJsZScsXG4gICAgICAgICAgICAgICAgICBJbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4odHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IEJvb2xlYW4odHJ1ZSlcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5waWNrZXIgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZURhdGVDaGFuZ2VcbiAgICAgICAgICAgICAgICAgIC8vIG9uQ2xpY2s9e2UgPT4gZS5wcmV2ZW50RGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICwgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgbWluRGF0ZTogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5EYXRlUmFuZ2UsIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25JY29uLFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vcGVuUGlja2VyXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgaGlkZGVuOiB0aGlzLnN0YXRlLmlzRG9uZSAmJiAhdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgJ1xceEEwIGZvciBcXHhBMCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGl0ZW06IHRydWVcbiAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0RmllbGRXaWR0aCB9fVxuICAgICAgICAgICAgICAsIGhpZGRlbjogdGhpcy5zdGF0ZS5pc0RvbmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1NlbGVjdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnZm9sbG93dXAtdGV4dC1maWVsZCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuZ2V0Rm9sbG93dXBUZXh0KCksXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRm9sbG93dXBUZXh0Q2hhbmdlLFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICAgIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudUNsYXNzLFxuICAgICAgICAgICAgICAgICAgaWNvbjogY2xhc3Nlcy5zZWxlY3RJY29uXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0ID8gY2xhc3Nlcy50ZXN0IDogY2xhc3Nlcy50ZXN0SW5pdGlhbCxcbiAgICAgICAgICAgICAgICBNZW51UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LFxuICAgICAgICAgICAgICAgICAgdmFsdWU6ICdTZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdTZWxlY3QnXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIG9wdGlvbkl0ZW1zXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpdGVtOiB0cnVlXG4gICAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dEZpZWxkV2lkdGggfX1cbiAgICAgICAgICAgICAgLCBoaWRkZW46ICF0aGlzLnN0YXRlLmlzRG9uZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc2VsZWN0TWVudUNsYXNzIH0sXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0XG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5Ob1RleHREaWFsb2csXG4gICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZU5vVGV4dERpYWxvZyxcbiAgICAgICAgICB0aXRsZTogbm9UZXh0TWVzc2FnZSxcbiAgICAgICAgICBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlTm9UZXh0RGlhbG9nLFxuICAgICAgICAgICAgICBjb2xvcjogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgIGF1dG9Gb2N1czogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdPSydcbiAgICAgICAgICApXVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgIGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuQWN0aW9uU2F2ZSxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZyxcbiAgICAgICAgICB0aXRsZTogZGlzY2FyZE1lc3NhZ2UsXG4gICAgICAgICAgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2csIGNvbG9yOiAnc2Vjb25kYXJ5JyB9LFxuICAgICAgICAgICAgJ0Rpc2FncmVlJ1xuICAgICAgICAgICksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2csXG4gICAgICAgICAgICAgIGNvbG9yOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgIGF1dG9Gb2N1czogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdBZ3JlZSdcbiAgICAgICAgICApXVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgIGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZyxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZyxcbiAgICAgICAgICB0aXRsZTogcmVzb2x2ZU1lc3NhZ2UsXG4gICAgICAgICAgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2csXG4gICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICldXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5JbnZhbGlkRGF0ZURpYWxvZyxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlSW52YWxpZERhdGVEaWFsb2csXG4gICAgICAgICAgdGl0bGU6IGludmFsaWREYXRlTWVzc2FnZSxcbiAgICAgICAgICBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlSW52YWxpZERhdGVEaWFsb2csXG4gICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICldXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAyLCBtZDogMiwgbGc6IDIgfSxcbiAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuSGlnaGxpZ2h0T2ZmLCB7XG4gICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH0sXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2dcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkNoZWNrQ2lyY2xlT3V0bGluZSwge1xuICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIgfSxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRuLFxuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IHRoaXMuc2F2ZUZvbGxvd3VwIDogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRm9sbG93dXA7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gIHRoaXMudmFsaWRhdGVGb2xsb3d1cERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKF90aGlzMy5zdGF0ZS5pbmNvcnJlY3RGbGFnKSB7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoISgwLCBfaGVscGVyLmlzVmFsaWREYXRlKShfdGhpczMuc3RhdGUuc2VsZWN0ZWREYXRlKSkge1xuICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkludmFsaWREYXRlRGlhbG9nOiB0cnVlIH0pO1xuICAgICAgLy8gdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2coXCJQbGVhc2UgY29ycmVjdCBkYXRlIGZpcnN0LlwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICB0aGlzLnNhdmVGb2xsb3d1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIV90aGlzMy52YWxpZGF0ZUZvbGxvd3VwRGF0YSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0KSB7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuTm9UZXh0RGlhbG9nOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSB9KTtcbiAgICB2YXIgZm9sbG93RGF0ZSA9IG5ldyBEYXRlKF90aGlzMy5zdGF0ZS5zZWxlY3RlZERhdGUpO1xuICAgIHZhciBmb2xsb3dGb3JtYXREYXRlID0gKDAsIF9kYXRlRm5zMy5mb3JtYXQpKGZvbGxvd0RhdGUsIFwieXl5eS1NTS1kZFwiKTtcblxuICAgIHZhciByZXFPYmogPSB7XG4gICAgICBkdWVEYXRlOiBmb2xsb3dGb3JtYXREYXRlLFxuICAgICAgcmVtaW5kZXJEYXRlOiBmb2xsb3dGb3JtYXREYXRlLFxuICAgICAgc3ViamVjdDogX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dFxuICAgICAgLy8gYXNzaWduZWRUb1VzZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIuaWQsXG4gICAgfTtcblxuICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jdXN0b21lci8nICsgX3RoaXMzLnByb3BzLmN1c3RvbWVyLmlkICsgJy90YXNrJywgcmVxT2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgX3RoaXMzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiU1VDQ0VTU1wiKTtcbiAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGZpbmFsU2VsZWN0ZWREYXRlOiBfdGhpczMuZ2V0RGF0ZUZpZWxkVmFsdWUoKSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGlzRG9uZTogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbFxuICAgICAgdmFyIHN1bW1hcnlUb1NhdmUgPSBfdGhpczMuZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5KCk7XG4gICAgICBfdGhpczMucHJvcHMub25Db21wbGV0aW9uKCk7XG4gICAgICBfdGhpczMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybShzdW1tYXJ5VG9TYXZlKTtcbiAgICAgIF90aGlzMy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcbiAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGludm9pY2VDb3VudCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlQ291bnQ7XG4gICAgdmFyIGNvbnRhY3ROdW1iZXIgPSBfdGhpczMucHJvcHMuY2FsbGVkVG9OdW1iZXI7XG4gICAgLy8gbGV0IHNlbGVjdGVkZm9ybWF0dGVkRGF0ZSA9IChkYXRlLmdldE1vbnRoKCkgKyAxKSArICctJyArIGRhdGUuZ2V0RGF0ZSgpICsgJy0nICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHZhciBjb250YWN0TmFtZSA9IChfdGhpczMucHJvcHMuY2FsbFRvTmFtZSA9PSBcIlVua25vd24gXCIgfHwgX3RoaXMzLnByb3BzLmNhbGxUb05hbWUgPT0gXCJVbm5hbWVkIFVubmFtZWRcIikgJiYgY29udGFjdE51bWJlciA/IGNvbnRhY3ROdW1iZXIgOiBfdGhpczMucHJvcHMuY2FsbFRvTmFtZTtcbiAgICB2YXIgZ2VuZXJhdGVkU3VtbWFyeSA9IEZPTExPV1VQX1RFTVBMQVRFLnJlcGxhY2UoXCI8Q29udGFjdCBOYW1lPlwiLCBjb250YWN0TmFtZSkucmVwbGFjZShcIjxGb2xsb3d1cCBEYXRlPlwiLCBfdGhpczMuc3RhdGUuc2VsZWN0ZWREYXRlID8gXCJvbiBcIiArICgwLCBfZGF0ZUZuczMuZm9ybWF0KShfdGhpczMuc3RhdGUuc2VsZWN0ZWREYXRlLCBcIk1NLWRkLXl5eXlcIikgOiBcIlwiKS5yZXBsYWNlKFwiPEZvbGxvd3VwIFRleHQ+XCIsIF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQgPyBcImZvciBcIiArIF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQgOiBcIlwiKTtcblxuICAgIHJldHVybiBnZW5lcmF0ZWRTdW1tYXJ5O1xuICB9O1xuXG4gIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIF90aGlzMy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcbiAgfTtcblxuICB0aGlzLm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9KTtcbiAgfTtcblxuICB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMzLnByb3BzLmRlbGV0ZUFjdGlvbihfdGhpczMuc3RhdGUuYWN0aW9uSWQpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcbiAgfTtcblxuICB0aGlzLmNsb3NlTm9UZXh0RGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Ob1RleHREaWFsb2c6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuSW52YWxpZERhdGVEaWFsb2c6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMudG9nZ2xlRWRpdGluZyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgcmVhZE9ubHk6IGZhbHNlLCBpc0VkaXRpbmc6IHRydWUgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIF90aGlzMy5zdGF0ZS5hY3Rpb25JZCkuZm9jdXMoKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZURhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkRGF0ZTogZGF0ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczMudXBkYXRlU3VtbWFyeSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0RGF0ZUZpZWxkVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlkID0gXCJkYXRlLWlucHV0LWZpZWxkLVwiICsgX3RoaXMzLnN0YXRlLmFjdGlvbklkO1xuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWU7XG4gIH07XG5cbiAgdGhpcy5oYW5kbGVGb2xsb3d1cFRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgY2hhbmdlOiB0cnVlLFxuICAgICAgZm9sbG93dXBUZXh0OiBldmVudC50YXJnZXQudmFsdWVcbiAgICAgIC8vIGZvbGxvd3VwVGV4dEZpZWxkV2lkdGg6IGV2ZW50LnRhcmdldC52YWx1ZSA/IChcIlwiICsgZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCkgKiAxMiA6IDUwXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdldEZvbGxvd3VwVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZm9sbG93dXBUZXh0cyA9IF90aGlzMy5wcm9wcy5mb2xsb3d1cFRleHRMaXN0O1xuICAgIGlmIChfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0ICYmIGZvbGxvd3VwVGV4dHMuaW5kZXhPZihfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0KSA+PSAwKSB7XG4gICAgICByZXR1cm4gX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIFwiU2VsZWN0XCI7XG4gIH07XG5cbiAgdGhpcy51cGRhdGVTdW1tYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbnZvaWNlQ291bnQgPSBfdGhpczMuc3RhdGUuaW52b2ljZUNvdW50O1xuICAgIHZhciBmb3JtYXR0ZWREYXRlID0gKDAsIF9kYXRlRm5zMy5mb3JtYXQpKG5ldyBEYXRlKF90aGlzMy5zdGF0ZS5zZWxlY3RlZERhdGUpLCBcInl5eXktTU0tZGRcIik7XG4gICAgdmFyIHVwZGF0ZWRTdW1tYXJ5ID0gRk9MTE9XVVBfT1JJR19URU1QTEFURS5yZXBsYWNlKFwiPEZvbGxvd3VwIERhdGU+XCIsIGZvcm1hdHRlZERhdGUpLnJlcGxhY2UoXCI8Rm9sbG93dXAgVGV4dD5cIiwgX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQgOiBcIlwiKTtcbiAgICBfdGhpczMucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KTtcbiAgfTtcblxuICB0aGlzLm9wZW5QaWNrZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIF90aGlzMy5waWNrZXIub3BlbihlKTtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIE51bWJlckZvcm1hdEN1c3RvbShwcm9wcykge1xuICB2YXIgaW5wdXRSZWYgPSBwcm9wcy5pbnB1dFJlZixcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgWydpbnB1dFJlZicsICdvbkNoYW5nZSddKTtcblxuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0TnVtYmVyRm9ybWF0Mi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgb3RoZXIsIHtcbiAgICBnZXRJbnB1dFJlZjogaW5wdXRSZWYsXG4gICAgb25WYWx1ZUNoYW5nZTogZnVuY3Rpb24gb25WYWx1ZUNoYW5nZSh2YWx1ZXMpIHtcbiAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlcy52YWx1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRob3VzYW5kU2VwYXJhdG9yOiB0cnVlLFxuICAgIHByZWZpeDogJyQnXG4gIH0pKTtcbn1cblxuTnVtYmVyRm9ybWF0Q3VzdG9tLnByb3BUeXBlcyA9IHtcbiAgaW5wdXRSZWY6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBvbkNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWRcbn07XG5cbkZvbGxvd3VwLnByb3BUeXBlcyA9IHtcbiAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxudmFyIGNvbWJpbmVkU3R5bGUgPSAoMCwgX2NvbWJpbmVTdHlsZXMyLmRlZmF1bHQpKHN0eWxlcywgX2Jhc2VTdHlsZTIuZGVmYXVsdCk7XG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShjb21iaW5lZFN0eWxlLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShGb2xsb3d1cCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTAyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX0dyaWRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjgpO1xuXG52YXIgX0dyaWRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0KTtcblxudmFyIF9HcmlkTGlzdFRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSk7XG5cbnZhciBfR3JpZExpc3RUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0VGlsZSk7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNyk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0NoZWNrQ2lyY2xlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTQpO1xuXG52YXIgX0NoZWNrQ2lyY2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrQ2lyY2xlKTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9SYWRpb0J1dHRvblVuY2hlY2tlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzU2KTtcblxudmFyIF9SYWRpb0J1dHRvblVuY2hlY2tlZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYWRpb0J1dHRvblVuY2hlY2tlZCk7XG5cbnZhciBfQWRkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTMpO1xuXG52YXIgX0FkZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BZGQpO1xuXG52YXIgX1JlbW92ZUNpcmNsZU91dGxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Nyk7XG5cbnZhciBfUmVtb3ZlQ2lyY2xlT3V0bGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW1vdmVDaXJjbGVPdXRsaW5lKTtcblxudmFyIF9DbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXG52YXIgX0Nsb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlKTtcblxudmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxudmFyIF9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnV0dG9uKTtcblxudmFyIF9GYWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cbnZhciBfRmFiMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZhYik7XG5cbnZhciBfQ2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oNzIpO1xuXG52YXIgX0NhcmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZCk7XG5cbnZhciBfQ2FyZENvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cbnZhciBfQ2FyZENvbnRlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZENvbnRlbnQpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0Vycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzEpO1xuXG52YXIgX0Vycm9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Vycm9yKTtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfRGlhbG9nQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcxKTtcblxudmFyIF9EaWFsb2dBY3Rpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ0FjdGlvbnMpO1xuXG52YXIgX0RpYWxvZ1RpdGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXG52YXIgX0RpYWxvZ1RpdGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ1RpdGxlKTtcblxudmFyIF9Nb2RhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXG52YXIgX01vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsKTtcblxudmFyIF9EdWVEZXRhaWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODEpO1xuXG52YXIgX0R1ZURldGFpbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EdWVEZXRhaWwpO1xuXG52YXIgX0NsZWFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzkpO1xuXG52YXIgX0NsZWFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NsZWFyKTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxudmFyIF9MaXN0T2ZUaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTAzKTtcblxudmFyIF9MaXN0T2ZUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3RPZlRpbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBQMlBSZWdleCA9IC8oUHJvbWlzZSB0byBwYXkgZm9yIFxcZCopfChbMC05XXs0fVstXVswLTldezJ9Wy1dWzAtOV17Mn0pfChcXGQqIGludm9pY2UpL2c7XG52YXIgbWVzc2FnZSA9IFwiUGxlYXNlIHNlbGVjdCBzb21lIGludm9pY2VzLlwiO1xudmFyIGRpc3B1dGVSZWdleCA9IC8oXFxkKiBpbnZvaWNlKXwoYmVjYXVzZSBvZiAuKikvZztcblxuZnVuY3Rpb24gcmFuZCgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjApIC0gMTA7XG59XG5cbmZ1bmN0aW9uIGdldE1vZGFsU3R5bGUodGhlbWUpIHtcbiAgICB2YXIgdG9wID0gNTA7XG4gICAgdmFyIGxlZnQgPSA1MDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogdG9wICsgJyUnLFxuICAgICAgICBsZWZ0OiBsZWZ0ICsgJyUnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLScgKyB0b3AgKyAnJSwgLScgKyBsZWZ0ICsgJyUpJyxcbiAgICAgICAgd2lkdGg6IFwiNzN2d1wiLFxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgMnB4IHNvbGlkXCJcbiAgICB9O1xufVxuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHtcblxuICAgICAgICBpbnZvaWNlSGVhZGVyOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiNi40ODE0ODE0ODE0OHZoXCIsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIjMzk1QzczIHNvbGlkIDFweFwiLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiM3JlbVwiXG4gICAgICAgICAgICAvLyBib3JkZXJUb3A6IFwic29saWQgYmxhY2sgMXB4XCJcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tlZEljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAgICAgekluZGV4OiBcIjNcIixcbiAgICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUxpc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMXJlbVwiLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuOXJlbVwiLFxuICAgICAgICAgICAgLy8gZmxleFdyYXA6ICd3cmFwJyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYXJvdW5kJyxcbiAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjNyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBjb3JyZWN0aW9uOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIlxuICAgICAgICB9LFxuICAgICAgICBjb3JyZWN0aW9uQWxlcnQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiBcIiNGRjg4ODhcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlcnJvckZsYWc6IHtcbiAgICAgICAgICAgIGNvbG9yOiBcIiNGRjQ0NDRcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBncmlkTGlzdDoge1xuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgIG1hcmdpbjogJzEwcHggMHB4IC0ycHggLS40cmVtICFpbXBvcnRhbnQnXG4gICAgICAgIH0sXG4gICAgICAgIGdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiNy40MHZoXCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgYm9yZGVyOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluICsgXCIgc29saWQgMXB4XCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzOTU4NkZcIlxuICAgICAgICB9LFxuICAgICAgICBpbmNvcnJlY3REaXY6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGJvcmRlcjogXCIjRkY4ODg4IGRhc2hlZCAxcHhcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgcGFwZXI6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgd2lkdGg6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDEwMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgICAgICAgIGJveFNoYWRvdzogdGhlbWUuc2hhZG93c1s1XSxcbiAgICAgICAgICAgIHBhZGRpbmc6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDEsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogMCxcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMFxuICAgICAgICB9LFxuICAgICAgICBidXR0b246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjJlbVwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBhZGRJY29uOiB7XG4gICAgICAgICAgICB3aWR0aDogJ2NhbGMoMS4xdmggKyAxLjF2dyknLFxuICAgICAgICAgICAgaGVpZ2h0OiAnY2FsYygxLjF2aCArIDEuMXZ3KScsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBwcmltYXJ5VGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIEFjdGlvbkRldGFpbHMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhBY3Rpb25EZXRhaWxzLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEFjdGlvbkRldGFpbHMocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjdGlvbkRldGFpbHMpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBY3Rpb25EZXRhaWxzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWN0aW9uRGV0YWlscykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIHZhciBzdW1tYXJ5ID0gX3RoaXMucHJvcHMuc3VtO1xuICAgICAgICB2YXIgaW50ZW50VHlwZSA9IF90aGlzLnByb3BzLmludGVudFR5cGU7XG4gICAgICAgIHZhciBleHRyYWN0ZWRBbW91bnQgPSB2b2lkIDA7XG4gICAgICAgIC8vIGxldCBub09mSW52b2ljZXMgPSAwO1xuICAgICAgICBpZiAoaW50ZW50VHlwZSA9PSBcIlAyUFwiKSB7XG4gICAgICAgICAgICB2YXIgZXh0cmFjdGVkRGF0YSA9IHN1bW1hcnkuc3VtbWFyeS5tYXRjaChQMlBSZWdleCk7XG4gICAgICAgICAgICBleHRyYWN0ZWRBbW91bnQgPSBleHRyYWN0ZWREYXRhWzBdLm1hdGNoKC9bMC05XXsxLH0vKTtcblxuICAgICAgICAgICAgaWYgKCFleHRyYWN0ZWRBbW91bnQpIHtcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRBbW91bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm9PZkludm9pY2VzID0gZXh0cmFjdGVkRGF0YVsyXSA/IGV4dHJhY3RlZERhdGFbMl0ubWF0Y2goL1swLTldezEsfS8pIDogMDtcblxuICAgICAgICAgICAgLy8gaWYgKCFub09mSW52b2ljZXMpIHtcbiAgICAgICAgICAgIC8vICAgICBub09mSW52b2ljZXMgPSAwO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGludm9pY2VDaGVja3NNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlcztcbiAgICAgICAgaWYgKGludm9pY2VzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludm9pY2UgPSBpbnZvaWNlc1tpXTtcblxuICAgICAgICAgICAgICAgIGludm9pY2VDaGVja3NNYXAuc2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGludGVudFR5cGUgPT0gXCJEaXNwdXRlXCIpIHtcbiAgICAgICAgICAgIHZhciBfZXh0cmFjdGVkRGF0YSA9IHN1bW1hcnkuc3VtbWFyeS5tYXRjaChkaXNwdXRlUmVnZXgpO1xuICAgICAgICAgICAgLy8gbm9PZkludm9pY2VzID0gZXh0cmFjdGVkRGF0YVswXSA/IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pIDogMDtcblxuICAgICAgICAgICAgLy8gaWYgKCFub09mSW52b2ljZXMpIHtcbiAgICAgICAgICAgIC8vICAgICBub09mSW52b2ljZXMgPSAwO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICB2YXIgcmVhc29uQ29kZSA9IF9leHRyYWN0ZWREYXRhWzFdID8gX2V4dHJhY3RlZERhdGFbMV0uc3Vic3RyaW5nKDExKSA6IFwiR2VuZXJhbCBEaXNwdXRlXCI7XG5cbiAgICAgICAgICAgIGlmICghcmVhc29uQ29kZSkge1xuICAgICAgICAgICAgICAgIHJlYXNvbkNvZGUgPSBcIkdlbmVyYWwgRGlzcHV0ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBhbGxJbnZvaWNlc1NlbGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IGludm9pY2VDaGVja3NNYXAsXG4gICAgICAgICAgICB0b3RhbEFtb3VudDogZXh0cmFjdGVkQW1vdW50LFxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiBfdGhpcy5wcm9wcy5pbnZvaWNlQ291bnQsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IF90aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlcyxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogX3RoaXMucHJvcHMuY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogX3RoaXMucHJvcHMuaW5jb3JyZWN0RmxhZyxcbiAgICAgICAgICAgIGlzTWVzc2FnZURpYWxvZ09wZW46IGZhbHNlLFxuICAgICAgICAgICAgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UsXG4gICAgICAgICAgICBpbnZvaWNlczogX3RoaXMucHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogX3RoaXMucHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBleGVjdXRlQXBwZW5kSW52b2ljZTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLy8gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAvLyAgICAgLy8gdGhpcy5zZXRTdGF0ZSh7Y29ycmVjdEludm9pY2VzOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzfSk7XG4gICAgLy8gICAgIC8vICB0aGlzLnNldFN0YXRlKHtjb3JyZWN0SW52b2ljZXM6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXMsY29ycmVjdEludm9pY2VzTWFwOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzTWFwfSlcblxuICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHtjb3JyZWN0SW52b2ljZXM6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcH0pO1xuICAgIC8vIH1cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEFjdGlvbkRldGFpbHMsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgIHRoZW1lID0gX3Byb3BzLnRoZW1lO1xuXG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiAnMTAwJScgfSB9LFxuICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmRvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9Nb2RhbDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogJ3NpbXBsZS1tb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnc2ltcGxlLW1vZGFsLWRlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5BZGRJbnZvaWNlTW9kYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZUFkZEludm9pY2VNb2RhbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IGdldE1vZGFsU3R5bGUodGhlbWUpLCBjbGFzc05hbWU6IGNsYXNzZXMucGFwZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgd2lkdGg6IFwiMTAwJVwiLCBkaXNwbGF5OiBcImZsZXhcIiwgYWxpZ25JdGVtOiBcImNlbnRlclwiLCBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICAjMzk1QzczIFwiLCBwYWRkaW5nOiBcIi4ycmVtIDAgLjZyZW0gMFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpbkxlZnQ6IFwiMXJlbVwiLCBmb250U2l6ZTogXCIxLjNyZW1cIiwgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAwLjY1IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZWxlY3QgYW5kIEFkZCBJbnZvaWNlcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NsZWFyMi5kZWZhdWx0LCB7IG9uQ2xpY2s6IHRoaXMuY2xvc2VBZGRJbnZvaWNlTW9kYWwsIHN0eWxlOiB7IHBvc2l0aW9uOiBcImZpeGVkXCIsIHJpZ2h0OiBcIjUlXCIsIG9wYWNpdHk6IDAuNjUsIGN1cnNvcjogXCJwb2ludGVyXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRHVlRGV0YWlsMi5kZWZhdWx0LCB7IHNldFNlbGVjdGVkSW52b2ljZXM6IHRoaXMuc2V0U2VsZWN0ZWRJbnZvaWNlcywgcG9zdENhbGw6IHRydWUsIGFwcGVuZEludm9pY2VzOiB0aGlzLmFwcGVuZEludm9pY2VzLCBmaWx0ZXJJbnZvaWNlczogdGhpcy5maWx0ZXJJbnZvaWNlcywgYnVja2V0TmFtZXM6IHRoaXMucHJvcHMuYnVja2V0TmFtZXMsIGludm9pY2VzOiB0aGlzLnN0YXRlLmludm9pY2VzLCBjb3JyZWN0SW52b2ljZXNNYXA6IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIHhzOiAxMiwganVzdGlmeTogJ2ZsZXgtZW5kJywgYWxpZ25JdGVtczogJ2NlbnRlcicsIHN0eWxlOiB7IGJvcmRlclRvcDogXCIxcHggc29saWQgIzM5NUM3M1wiLCBwYWRkaW5nVG9wOiBcIi42cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHZhcmlhbnQ6ICdjb250YWluZWQnLCBjb2xvcjogJ3NlY29uZGFyeScsIGNsYXNzTmFtZTogY2xhc3Nlcy5idXR0b24sIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYXBwZW5kSW52b2ljZXMoX3RoaXMyLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTYXZlICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGgoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUhlYWRlciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBwYWRkaW5nVG9wOiBcIjAuNXJlbVwiLCBwYWRkaW5nQm90dG9tOiBcIjAuNXJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLCBwYWRkaW5nUmlnaHQ6IFwiMS41NnZ3XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgc3R5bGU6IHsgcGFkZGluZzogJzBweCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUFsbFNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnByaW1hcnlUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTBTZWxlY3QgYWxsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFyaWFudDogJ291dGxpbmVkJywgY29sb3I6ICdzZWNvbmRhcnknLCBzaXplOiAnc21hbGwnLCBzdHlsZTogeyBoZWlnaHQ6IFwiNC40NHZoXCIsIHBhZGRpbmdMZWZ0OiBcIjAuNjY2cmVtXCIsIHBhZGRpbmdSaWdodDogXCIwLjY2NnJlbVwiIH0sIG9uQ2xpY2s6IHRoaXMub3BlbkFkZEludm9pY2VNb2RhbCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBtYXJnaW5MZWZ0OiAnNHB4JywgbWFyZ2luUmlnaHQ6ICc0cHgnLCBmb250U2l6ZTogJy44OXJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0IEludm9pY2VzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFyaWFudDogJ291dGxpbmVkJywgY29sb3I6ICdzZWNvbmRhcnknLCBzaXplOiAnc21hbGwnLCBzdHlsZTogeyBoZWlnaHQ6IFwiNC40NHZoXCIsIG1hcmdpbkxlZnQ6IFwiMXJlbVwiLCBwYWRkaW5nOiBcIjAgMC42NjZyZW1cIiB9LCBvbkNsaWNrOiB0aGlzLmRlbGV0ZUFsbFNlbGVjdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb3NlMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hZGRJY29uIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBtYXJnaW5MZWZ0OiAnNHB4JywgZm9udFNpemU6ICcuODlyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1JlbW92ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlTGlzdCB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY29ycmVjdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucHJpbWFyeVRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgPiAxID8gXCJJbnZvaWNlcyBcIiA6IFwiSW52b2ljZSBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLmludGVudFR5cGUgPT0gXCJQMlBcIiB8fCB0aGlzLnByb3BzLmludGVudFR5cGUgPT0gXCJEaXNwdXRlXCIpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgb3BhY2l0eTogMC41IH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5wcmltYXJ5VGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHhBMCgkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUFtb3VudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBtYXJnaW5MZWZ0OiBcIi41cmVtXCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9FcnJvcjIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuZXJyb3JGbGFnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY29ycmVjdGlvbkFsZXJ0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb3JyZWN0aW9uIFJlcXVpcmVkKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLmxlbmd0aCAtIE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZExpc3QyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNlbGxIZWlnaHQ6IFwiYXV0b1wiLCBjbGFzc05hbWU6IGNsYXNzZXMuZ3JpZExpc3QgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0VGlsZTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xzOiAxLCBrZXk6IGludm9pY2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxNnZ3JywgbWFyZ2luOiAnMC40cmVtJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogaW52b2ljZS5pZCBpbiBfdGhpczIuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwID8gX3RoaXMyLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgfHwgX3RoaXMyLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWQgPyBjbGFzc05hbWVzKGNsYXNzZXMuc2VsZWN0ZWRHcmlkTGlzdERpdiwgY2xhc3Nlcy5ncmlkTGlzdERpdikgOiBjbGFzc2VzLmdyaWRMaXN0RGl2IDogY2xhc3Nlcy5pbmNvcnJlY3REaXYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFfdGhpczIucHJvcHMuZG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgc3R5bGU6IHsgcGFkZGluZzogJzJweCcsIGxlZnQ6IFwiMyVcIiwgYWxpZ25JdGVtczogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIShpbnZvaWNlLmlkIGluIF90aGlzMi5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IF90aGlzMi5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudG9nZ2xlQ2hlY2tib3goaW52b2ljZS5pZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIiwgbWFyZ2luTGVmdDogJzF2dycgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6IFwiLjg5cmVtXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41LCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kb2N1bWVudE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogJzEuMTU2cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLmlkIGluIF90aGlzMi5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAgPyAoMCwgX2Zvcm1hdHRlci5mb3JtYXR0ZXIpKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpIDogXCItLS0tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIV90aGlzMi5wcm9wcy5kb25lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8RmFiIHZhcmlhbnQ9XCJjb250YWluZWRcIiBzaXplPSdzbWFsbCcgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBzdHlsZTogeyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLCB3aWR0aDogXCJjYWxjKC44dmggKyAuOHZ3KVwiLCBoZWlnaHQ6IFwiY2FsYyguOHZoICsgLjh2dylcIiB9LCBjbGFzc05hbWU6IGNsYXNzZXMuYWRkSWNvbiwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRlbGV0ZUludm9pY2UoaW52b2ljZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC9GYWI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0RpYWxvZzIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5pc01lc3NhZ2VEaWFsb2dPcGVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6ICdyZXNwb25zaXZlLWRpYWxvZy10aXRsZSdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfRGlhbG9nVGl0bGUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAncmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0RpYWxvZ0FjdGlvbnMyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuaGFuZGxlTWVzc2FnZURpYWxvZywgY29sb3I6ICdkZWZhdWx0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPSydcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQWN0aW9uRGV0YWlscztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHRoaXMuc2V0U2VsZWN0ZWRJbnZvaWNlcyA9IGZ1bmN0aW9uIChpbnZvaWNlcykge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiBpbnZvaWNlcyB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBzZWxlY3RlZEludm9pY2VzKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlc0NvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNDb3VudCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcoJyArIHNlbGVjdGVkSW52b2ljZXNDb3VudCArICcpJztcbiAgICB9O1xuXG4gICAgdGhpcy5maWx0ZXJJbnZvaWNlcyA9IGZ1bmN0aW9uIChpbnZvaWNlVHlwZSkge1xuICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJBbGxcIikgX3RoaXMzLnNldFN0YXRlKHsgaW52b2ljZXM6IF90aGlzMy5zdGF0ZS5hbGxJbnZvaWNlcyB9KTtlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5hbGxJbnZvaWNlcztcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZEludm9pY2VzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXBBcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiRGlzcHV0ZVwiICYmIGludm9pY2VzW2ldW2pdLmRpc3B1dGVTdGF0dXMgIT0gbnVsbCkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO2Vsc2UgaWYgKGludm9pY2VUeXBlID09IFwiUHJlZGljdGVkIERlbGlucXVlbnRcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBEZWxpbnF1ZW50ID09IHRydWUpIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKTtlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlVwY29taW5nIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycFVwY29taW5nID09IHRydWUpIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKTtlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIkJyb2tlbiBQMlBcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBCcm9rZW4gPT0gdHJ1ZSkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEludm9pY2VzLnB1c2godGVtcEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlQ2hlY2tib3ggPSBmdW5jdGlvbiAoaWQpIHtcblxuICAgICAgICB2YXIgY2hlY2tlZCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpZCk7XG4gICAgICAgIHZhciB1cGRhdGVkQ2hlY2tib3hNYXAgPSBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcbiAgICAgICAgdXBkYXRlZENoZWNrYm94TWFwLnNldChpZCwgIWNoZWNrZWQpO1xuICAgICAgICB2YXIgZmxhZyA9IHRydWU7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGludm9pY2VzQ2hlY2tib3hNYXA6IHVwZGF0ZWRDaGVja2JveE1hcCB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB1cGRhdGVkQ2hlY2tib3hNYXAua2V5cygpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW52b2ljZUtleSA9IF9zdGVwLnZhbHVlO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF1cGRhdGVkQ2hlY2tib3hNYXAuZ2V0KGludm9pY2VLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFsbEludm9pY2VzU2VsZWN0ZWQ6IGZsYWcgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmRlbGV0ZUludm9pY2UgPSBmdW5jdGlvbiAoaW52b2ljZU51bWJlcikge1xuXG4gICAgICAgIHZhciB0ZW1wID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGVtcCkge1xuICAgICAgICAgICAgaWYgKGtleSA9PSBpbnZvaWNlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRlbXBba2V5XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGVja2JveE1hcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xuICAgICAgICBjaGVja2JveE1hcC5kZWxldGUoaW52b2ljZU51bWJlcik7XG4gICAgICAgIC8vIGZvciAobGV0IGtleSBvZiBjaGVja2JveE1hcCkge1xuXG4gICAgICAgIC8vICAgICBpZiAoa2V5ID09IE51bWJlcihpbnZvaWNlTnVtYmVyKSkge1xuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICAgIC8vICAgICAgICAgY2hlY2tib3hNYXAuZGVsZXRlKGtleSk7XG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cblxuXG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBjaGVja2JveE1hcCxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW52b2ljZS5pZCAhPSBpbnZvaWNlTnVtYmVyO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IHRlbXBcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZUludm9pY2VzVGhpbmdzKGludm9pY2VOdW1iZXIpO190aGlzMy5wcm9wcy51cGRhdGVJbnZvaWNlcyhfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlQWxsU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW52b2ljZU1hcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xuXG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFsbEludm9pY2VzU2VsZWN0ZWQ6ICFwcmV2U3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IGludm9pY2VNYXAua2V5cygpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnZvaWNlS2V5ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGludm9pY2VNYXAuc2V0KGludm9pY2VLZXksIF90aGlzMy5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW52b2ljZUNoZWNrc01hcDogaW52b2ljZU1hcCB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZGVsZXRlQWxsU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciB0b0RlbGV0ZUludm9pY2VzID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSA9PSB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodG9EZWxldGVJbnZvaWNlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNNZXNzYWdlRGlhbG9nT3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1cGRhdGVkSW52b2ljZXMgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLmZpbHRlcihmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpID09IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgaW52b2ljZXNDaGVja2JveE1hcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xuICAgICAgICB2YXIgaW52b2ljZU1hcCA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXA7XG4gICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBpbnZvaWNlTGVuZ3RoID0gdXBkYXRlZEludm9pY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIGFsbFNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0b0RlbGV0ZUludm9pY2VzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IHRvRGVsZXRlSW52b2ljZXNbaV0uaWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXAuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogdXBkYXRlZEludm9pY2VzLFxuICAgICAgICAgICAgLy8gaW52b2ljZUNvdW50OiB1cGRhdGVkSW52b2ljZXMubGVuZ3RoLFxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogaW52b2ljZXNDaGVja2JveE1hcCxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogaW52b2ljZU1hcCxcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogaW52b2ljZUxlbmd0aFxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgaW52b2ljZUxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnZvaWNlID0gdXBkYXRlZEludm9pY2VzW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgX2tleSA9IGludm9pY2UuaWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAoIShfa2V5IGluIGludm9pY2VNYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGludm9pY2VMZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pbnZvaWNlID0gdXBkYXRlZEludm9pY2VzW19pMl07XG4gICAgICAgICAgICAgICAgdmFyIF9rZXkyID0gX2ludm9pY2UuaWQudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgICAgIGlmICghaW52b2ljZXNDaGVja2JveE1hcC5nZXQoX2tleTIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbFNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmxhZywgYWxsSW52b2ljZXNTZWxlY3RlZDogYWxsU2VsZWN0ZWQgfSk7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZsYWcsIGludm9pY2VMZW5ndGgpO1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLnVwZGF0ZUludm9pY2VzKF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsIF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpc01lc3NhZ2VEaWFsb2dPcGVuOiAhcHJldlN0YXRlLmlzTWVzc2FnZURpYWxvZ09wZW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5BZGRJbnZvaWNlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BZGRJbnZvaWNlTW9kYWw6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VBZGRJbnZvaWNlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BZGRJbnZvaWNlTW9kYWw6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmFwcGVuZEludm9pY2VzID0gZnVuY3Rpb24gKGludm9pY2VzKSB7XG4gICAgICAgIHZhciB0ZW1wTWFwID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcbiAgICAgICAgdmFyIHRlbXBJbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuc2xpY2UoMCk7XG4gICAgICAgIHZhciB0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwID0gX3RoaXMzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXBbX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXS5pZF0pIHtcbiAgICAgICAgICAgICAgICB0ZW1wSW52b2ljZXMuc3BsaWNlKHRlbXBJbnZvaWNlcy5pbmRleE9mKF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNbaV0pLCAxKTtcbiAgICAgICAgICAgICAgICB0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwLmRlbGV0ZShfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzW2ldLmlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGNvcnJlY3RJbnZvaWNlczogdGVtcEludm9pY2VzLCBjb3JyZWN0SW52b2ljZXNNYXA6IHt9LCBpbnZvaWNlc0NoZWNrYm94TWFwOiB0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwIH0pO1xuICAgICAgICB0ZW1wTWFwID0ge307XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIGludm9pY2VzKSB7XG4gICAgICAgICAgICBpZiAoaW52b2ljZXNba2V5XSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IF90aGlzMy5wcm9wcy5pbnZvaWNlcy5sZW5ndGg7IHArKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZykgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHEgPSAwOyBxIDwgX3RoaXMzLnByb3BzLmludm9pY2VzW3BdLmxlbmd0aDsgcSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLnByb3BzLmludm9pY2VzW3BdW3FdLmlkID09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBJbnZvaWNlcy5wdXNoKF90aGlzMy5wcm9wcy5pbnZvaWNlc1twXVtxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGVtcE1hcFtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludm9pY2VzKSB7XG4gICAgICAgICAgICB2YXIgaW52b2ljZXNDaGVja2JveE1hcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfa2V5MyBpbiBpbnZvaWNlcykge1xuICAgICAgICAgICAgICAgIGlmIChpbnZvaWNlc1tfa2V5M10gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwLnNldChfa2V5My50b1N0cmluZygpLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpbnZvaWNlc0NoZWNrYm94TWFwOiBpbnZvaWNlc0NoZWNrYm94TWFwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgY29ycmVjdEludm9pY2VzOiB0ZW1wSW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDogdGVtcE1hcCwgaW52b2ljZUNvdW50OiB0ZW1wSW52b2ljZXMubGVuZ3RoIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy51cGRhdGVJbnZvaWNlcyhfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLCB0ZW1wTWFwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzMy5wcm9wcy5vblVwZGF0ZUludm9pY2UoX3RoaXMzLnN0YXRlLmluY29ycmVjdEZsYWcsIHRlbXBJbnZvaWNlcy5sZW5ndGgpO1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWRkSW52b2ljZU1vZGFsOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVJbnZvaWNlc1RoaW5ncyA9IGZ1bmN0aW9uIChpbnZvaWNlTnVtYmVyKSB7XG5cbiAgICAgICAgdmFyIGludm9pY2VNYXAgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwO1xuICAgICAgICAvLyBsZXQgYWxsSW52b2ljZXNMaXN0ID0gdGhpcy5wcm9wcy5hbGxJbnZvaWNlc0xpc3Q7XG4gICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXM7XG4gICAgICAgIHZhciBpbnZvaWNlTGVuZ3RoID0gaW52b2ljZXMubGVuZ3RoO1xuICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtpbnZvaWNlTnVtYmVyXTtcblxuICAgICAgICBpZiAoaW52b2ljZUxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpbmNvcnJlY3RGbGFnOiBmYWxzZSwgaW52b2ljZUNvdW50OiAwIH0pO1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9uVXBkYXRlSW52b2ljZShmYWxzZSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtpbnZvaWNlTnVtYmVyXTtcblxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBjb3JyZWN0SW52b2ljZXNNYXA6IGludm9pY2VNYXAgfSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnZvaWNlID0gaW52b2ljZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIShpbnZvaWNlLmlkIGluIGludm9pY2VNYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGluY29ycmVjdEZsYWc6IGZsYWcsIGludm9pY2VDb3VudDogaW52b2ljZUxlbmd0aCB9KTtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5vblVwZGF0ZUludm9pY2UoZmxhZywgaW52b2ljZUxlbmd0aCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNhbGN1bGF0ZUFtb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFtb3VudCA9IDA7XG4gICAgICAgIHZhciBjb3JyZWN0SW52b2ljZXMgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzO1xuICAgICAgICBmb3IgKHZhciBpIGluIGNvcnJlY3RJbnZvaWNlcykge1xuICAgICAgICAgICAgYW1vdW50ICs9IGNvcnJlY3RJbnZvaWNlc1tpXS5pZCBpbiBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwID8gY29ycmVjdEludm9pY2VzW2ldLmN1cnJlbnRPcGVuQW1vdW50IDogMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW1vdW50ID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgX2hlbHBlci5mb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQpKGFtb3VudCk7XG4gICAgfTtcbn07XG5cbkFjdGlvbkRldGFpbHMucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBnZXRJbnZvaWNlcygpIHtcblxuLy8gICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzKTtcblxuLy8gICAgIGxldCBkb2N1bWVudE51bWJlcnMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5tYXAoaW52b2ljZSA9PiB7XG4vLyAgICAgICAgIHJldHVybiBpbnZvaWNlLmRvY3VtZW50TnVtYmVyO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgY29uc29sZS5sb2coXCJET0NVXCIsIGRvY3VtZW50TnVtYmVycyk7XG5cbi8vICAgICByZXR1cm4gZG9jdW1lbnROdW1iZXJzO1xuLy8gfVxuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEFjdGlvbkRldGFpbHMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwMzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9DaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMzI3KTtcblxudmFyIF9DaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaGVja2JveCk7XG5cbnZhciBfR3JpZExpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOCk7XG5cbnZhciBfR3JpZExpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZExpc3QpO1xuXG52YXIgX0dyaWRMaXN0VGlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzI5KTtcblxudmFyIF9HcmlkTGlzdFRpbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZExpc3RUaWxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHtcblxuICAgICAgICBncmlkTGlzdDoge1xuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgIG1hcmdpbjogJzAgLTJweCAtMnB4IC0ycHggIWltcG9ydGFudCcsXG4gICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxuICAgICAgICB9LFxuICAgICAgICBncmlkTGlzdERpdjoge1xuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTUuNDF2d1wiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxuICAgICAgICAgICAgYm9yZGVyOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluICsgXCIgc29saWQgMXB4XCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGVkR3JpZExpc3REaXY6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3RUaWxlOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiYXV0byAhaW1wb3J0YW50XCJcbiAgICAgICAgfVxuXG4gICAgfTtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gICAgaW52b2ljZXNDaGVja2JveE1hcDogbmV3IE1hcCgpLFxuICAgIGNvcnJlY3RJbnZvaWNlc01hcDoge30sXG4gICAgc2VsZWN0ZWRJbnZvaWNlczogW10sXG4gICAgaW52b2ljZXM6IFtdLFxuICAgIGRvbmU6IHRydWUsXG4gICAgaW5JbnZvaWNlVGFibGU6IGZhbHNlXG59O1xuXG52YXIgTGlzdE9mVGlsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKExpc3RPZlRpbGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gTGlzdE9mVGlsZShwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGlzdE9mVGlsZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExpc3RPZlRpbGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMaXN0T2ZUaWxlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLmFkZEludm9pY2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIF90aGlzLnByb3BzLmFkZEludm9pY2UoaWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmdldENsYXNzT2ZHcmlkTGlzdFRpbGUgPSBmdW5jdGlvbiAoY29ycmVjdEludm9pY2VzTWFwLCBpbnZvaWNlc0NoZWNrYm94TWFwLCBpZCwgc2VsZWN0ZWRJbnZvaWNlcykge1xuICAgICAgICAgICAgaWYgKCEoaW52b2ljZS5pZCBpbiBfdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApKSByZXR1cm4gY2xhc3Nlcy5pbmNvcnJlY3REaXY7XG4gICAgICAgICAgICBpZiAoaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCBfdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdKSByZXR1cm4gY2xhc3Nlcy5zZWxlY3RlZEdyaWRMaXN0RGl2O1xuICAgICAgICAgICAgcmV0dXJuIGNsYXNzZXMuZ3JpZExpc3REaXY7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBpbnZvaWNlczogX3RoaXMucHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzOiBfdGhpcy5wcm9wcy5zZWxlY3RlZEludm9pY2VzLFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBfdGhpcy5wcm9wcy5jb3JyZWN0SW52b2ljZXNNYXAsXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBfdGhpcy5wcm9wcy5pbnZvaWNlc0NoZWNrYm94TWFwXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhMaXN0T2ZUaWxlLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpbnZvaWNlczogbmV4dFByb3BzLmludm9pY2VzLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IG5leHRQcm9wcy5zZWxlY3RlZEludm9pY2VzLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcbiAgICAgICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBuZXh0UHJvcHMuaW52b2ljZXNDaGVja2JveE1hcFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG5cbiAgICAgICAgLy9SZW5kZXIgZnVuY3Rpb24gXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgIHRoZW1lID0gX3Byb3BzLnRoZW1lO1xuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWRMaXN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHsgY2VsbEhlaWdodDogXCJhdXRvXCIsIGNsYXNzTmFtZTogY2xhc3Nlcy5ncmlkTGlzdCB9LFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZExpc3RUaWxlMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xzOiAxLCBrZXk6IGludm9pY2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuNHJlbScgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IF90aGlzMi5nZXRDbGFzc09mR3JpZExpc3RUaWxlKF90aGlzMi5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAsIF90aGlzMi5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLCBpbnZvaWNlLmlkLCBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcykgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhX3RoaXMyLnByb3BzLmRvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoZWNrYm94Mi5kZWZhdWx0LCB7IHN0eWxlOiB7IHBhZGRpbmc6ICcycHgnLCBsZWZ0OiBcIjMlXCIsIGFsaWduSXRlbXM6ICdjZW50ZXInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICEoaW52b2ljZS5pZCBpbiBfdGhpczIuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogX3RoaXMyLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgfHwgX3RoaXMyLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZUNoZWNrYm94KGludm9pY2UuaWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIiwgbWFyZ2luTGVmdDogJzF2dycgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6IFwiLjg5cmVtXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41LCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuZG9jdW1lbnROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiAnMS4xNTZyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5pZCBpbiBfdGhpczIuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwID8gKDAsIF9mb3JtYXR0ZXIuZm9ybWF0dGVyKShpbnZvaWNlLmN1cnJlbnRPcGVuQW1vdW50KSA6IFwiLS0tLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoX3RoaXMyLnByb3BzLmluSW52b2ljZVRhYmxlIHx8IF90aGlzMi5wcm9wcy5kb25lKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxGYWIgdmFyaWFudD1cImNvbnRhaW5lZFwiIHNpemU9J3NtYWxsJyAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KENsb3NlLCB7IHN0eWxlOiB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHJpZ2h0OiBcIjEwJVwiLCB0b3A6IFwiMjclXCIsIHdpZHRoOiBcImNhbGMoLjh2aCArIC44dncpXCIsIGhlaWdodDogXCJjYWxjKC44dmggKyAuOHZ3KVwiIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5hZGRJY29uLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRlbGV0ZUludm9pY2UoaW52b2ljZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8L0ZhYj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIExpc3RPZlRpbGU7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5MaXN0T2ZUaWxlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShMaXN0T2ZUaWxlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMDQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX0lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7XG5cbnZhciBfSW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5wdXQpO1xuXG52YXIgX0lucHV0TGFiZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Mik7XG5cbnZhciBfSW5wdXRMYWJlbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dExhYmVsKTtcblxudmFyIF9JbnB1dEFkb3JubWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzM1KTtcblxudmFyIF9JbnB1dEFkb3JubWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dEFkb3JubWVudCk7XG5cbnZhciBfRm9ybUNvbnRyb2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MSk7XG5cbnZhciBfRm9ybUNvbnRyb2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRm9ybUNvbnRyb2wpO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX0dyaWRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjgpO1xuXG52YXIgX0dyaWRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0KTtcblxudmFyIF9HcmlkTGlzdFRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSk7XG5cbnZhciBfR3JpZExpc3RUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0VGlsZSk7XG5cbnZhciBfQ2hpcCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ4KTtcblxudmFyIF9DaGlwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoaXApO1xuXG52YXIgX0luZm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTtcblxudmFyIF9JbmZvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0luZm8pO1xuXG52YXIgX0ZhYiA9IF9fd2VicGFja19yZXF1aXJlX18oMTY3KTtcblxudmFyIF9GYWIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmFiKTtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblxudmFyIF9TbmFja2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2Jhcik7XG5cbnZhciBfSWNvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXG52YXIgX0ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvbkJ1dHRvbik7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9yZWFjdEFkZG9uc0Nzc1RyYW5zaXRpb25Hcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwNSk7XG5cbnZhciBfcmVhY3RBZGRvbnNDc3NUcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RBZGRvbnNDc3NUcmFuc2l0aW9uR3JvdXApO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENsYXNzIE5hbWUgVEJEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogVGVtcG9yYXJ5IHBhcmtpbmcgYXMgRmluYWwuanNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuXG4vL1Rlc3RpbmcgYW5pbWF0aW9uc1xuXG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuXG4gICAgICAgIHN1bW1hcnlOb3Rlc0JveDoge1xuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjkwdmhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlOb3RlaXRlbXM6IHtcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIxZW1cIixcbiAgICAgICAgICAgIHdvcmRCcmVhazogXCJicmVhay13b3JkXCIsXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjc1LjV2aFwiXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlOb3Rlc0hlYWRlcjoge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiMS4wNjY2cmVtXCIsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgcGFkZGluZ1RvcDogXCIyLjIydmhcIixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjEuMDI2dndcIixcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1XG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlFbWFpbEhlYWRlcjoge1xuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlFbWFpbDoge1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgbWFyZ2luVG9wOiBcIi4xMjVyZW1cIixcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIxLjNyZW1cIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3OXZoXCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpblxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5RW1haWxGb3JtOiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAwLjVyZW0gMCAwLjVyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlbWFpbElkQ2hpcHNJbnB1dDoge1xuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjAuMDYyNXJlbSBzb2xpZCByZ2JhKDkzLCAxNzAsIDIyNCwgMC41KVwiXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsQWRkTGFiZWw6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjNlbVwiLFxuICAgICAgICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZW1haWxJZENoaXBzOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiMS40ZW1cIixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjE3NzdyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjE3NzdyZW1cIixcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuMmVtXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBcIiY+IHNwYW5cIjoge1xuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuM3JlbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJyY6aG92ZXIsICY6Zm9jdXMnOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJyY6YWN0aXZlJzoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnZhbGlkRW1haWxJZENoaXBzOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiMS40ZW1cIixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjE3NzdyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjE3NzdyZW1cIixcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuMmVtXCIsXG4gICAgICAgICAgICBcIiY+IHNwYW5cIjoge1xuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuM3JlbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZjQ0NDRcIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgICcmOmhvdmVyLCAmOmZvY3VzJzoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjczODM4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnJjphY3RpdmUnOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNzM4MzhcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVFbWFpbElkOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjhlbVwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsSWRJbnB1dDoge1xuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4zMTI1cmVtXCIsXG4gICAgICAgICAgICB3aWR0aDogXCIzOCVcIixcbiAgICAgICAgICAgIHJlc2l6ZTogXCJob3Jpem9udGFsXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlbWFpbFN1YmplY3Q6IHtcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIwLjA2MjVyZW0gc29saWQgcmdiYSg5MywgMTcwLCAyMjQsIDAuNSlcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICAnJjo6cGxhY2Vob2xkZXInOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICcjYTdhN2E3J1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZFN1YmplY3RJbnB1dDoge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5RW1haWxCb2R5OiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiNjB2aFwiLFxuICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgIG92ZXJmbG93WDogXCJoaWRkZW5cIlxuICAgICAgICB9LFxuICAgICAgICBlbWFpbEJvZHlUZXh0OiB7XG4gICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUNvdW50OiB7XG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC44cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUF0dGFjaGVtZW50czoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwdmhcIlxuICAgICAgICB9LFxuICAgICAgICBncmlkTGlzdERpdjoge1xuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgYm9yZGVyOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluICsgXCIgc29saWQgMC4wNjI1cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiAnMC4yNXJlbScsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICcwLjI1cmVtJ1xuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5RW1haWxGb290ZXI6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjR2aFwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvdy1yZXZlcnNlXCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiAjMmM0MTRmO1wiXG4gICAgICAgIH0sXG4gICAgICAgIHNlbmRTdW1tYXJ5RW1haWxCdG46IHtcbiAgICAgICAgICAgIGhlaWdodDogJzJlbScsXG4gICAgICAgICAgICB3aWR0aDogJzZlbScsXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIxLjJyZW1cIixcbiAgICAgICAgICAgIGZvbnRTaXplOiAnc21hbGxlcicsXG4gICAgICAgICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVJY29uOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICB9LFxuICAgICAgICBub3Rlc0xpc3Q6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjBcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMS43cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgZW1wdHlTdW1tYXJ5VGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGVtcHR5U3VtbWFyeUdyaWQ6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCIxNXZoXCIsXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiBcInByZS1saW5lXCIsXG4gICAgICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiXG4gICAgICAgIH0sXG4gICAgICAgIHdhcm5pbmdMaW5lOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiA1MDAsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBmb250U2l6ZTogXCIuOGVtXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiBcIjAuNjVcIlxuICAgICAgICB9LFxuICAgICAgICBpY29uOiB7XG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIuNXZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgaGlkZU92ZXJmbG93OiB7XG4gICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBGaW5hbCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEZpbmFsLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEZpbmFsKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaW5hbCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEZpbmFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRmluYWwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjb2xsZWN0b3IgPSBfdGhpcyRwcm9wcy5jb2xsZWN0b3IsXG4gICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzID0gX3RoaXMkcHJvcHMuc3VtbWFyeU5vdGVzLFxuICAgICAgICAgICAgICAgIG5vbkFjdGlvbkluY2x1ZGVkID0gX3RoaXMkcHJvcHMubm9uQWN0aW9uSW5jbHVkZWQ7XG5cbiAgICAgICAgICAgIHZhciBpbnZvaWNlU3RyaW5nID0gX3RoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoID4gMCA/IFwiUGxlYXNlIGZpbmQgdGhlIG1lbnRpb25lZCBpbnZvaWNlcyBhdHRhY2hlZC5cIiA6IFwiXCI7XG4gICAgICAgICAgICB2YXIgc3VtbWFyeVN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgZmlyc3ROYW1lID0gY29sbGVjdG9yLmZpcnN0TmFtZSA/IF90aGlzLnByb3BzLmNvbGxlY3Rvci5maXJzdE5hbWUgOiBcIlwiO1xuICAgICAgICAgICAgdmFyIGxhc3ROYW1lID0gY29sbGVjdG9yLmxhc3ROYW1lID8gX3RoaXMucHJvcHMuY29sbGVjdG9yLmxhc3ROYW1lIDogXCJcIjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gc3VtbWFyeU5vdGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gc3VtbWFyeU5vdGVzLmxlbmd0aCAtIDEgJiYgbm9uQWN0aW9uSW5jbHVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1bW1hcnlTdHJpbmcgKz0gc3VtbWFyeU5vdGVzW2ldLnRyaW0oKSA/ICdcXG5cXHUyMDIyICcgKyBzdW1tYXJ5Tm90ZXNbaV0gOiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VtbWFyeVN0cmluZyA9IHN1bW1hcnlTdHJpbmcgPyAnXFxuUGxlYXNlIGZpbmQgYmVsb3cgdGhlIHN1bW1hcnkgb2Ygb3VyIGNvbnZlcnNhdGlvbjpcXG4nICsgc3VtbWFyeVN0cmluZyArICdcXG5cXG4nICsgaW52b2ljZVN0cmluZyArICdcXG4nIDogXCJcIjtcbiAgICAgICAgICAgIHZhciBlbWFpbEJvZHkgPSBzdW1tYXJ5U3RyaW5nID8gJ0dyZWV0aW5ncyxcXG4nICsgc3VtbWFyeVN0cmluZyArICdcXG5SZWdhcmRzLFxcbicgKyAoZmlyc3ROYW1lICsgXCIgXCIgKyBsYXN0TmFtZSkgOiBcIlwiO1xuICAgICAgICAgICAgdmFyIG5ld0xpbmVDb3VudCA9IChlbWFpbEJvZHkubWF0Y2goL1xcbi9nKSB8fCBbXSkubGVuZ3RoO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlQm9keTogZW1haWxCb2R5LCBlbWFpbEJvZHlIZWlnaHQ6IG5ld0xpbmVDb3VudCArIDEgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlVGVtcGxhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZU5hbWU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcblxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gX3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZXM7XG5cbiAgICAgICAgICAgIC8vY2hlY2sgaWYgbm8gdGVtcGxhdGUgaXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC52YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlcy5mb3JFYWNoKGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wbGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVtpXS5uYW1lID09IGV2ZW50LnRhcmdldC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVTdWJqZWN0OiB0ZW1wbGF0ZVtpXS5zdWJqZWN0IH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVCb2R5OiB0ZW1wbGF0ZVtpXS5ib2R5IH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHRlbXBsYXRlSWQ6IHRlbXBsYXRlW2ldLmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRlbXBsYXRlLnN1YmplY3QpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlRW1haWxFbnRlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKChldmVudC50eXBlID09PSAnYmx1cicgfHwgZXZlbnQua2V5ID09PSAnRW50ZXInKSAmJiBldmVudC50YXJnZXQudmFsdWUudHJpbSgpKSB7XG5cbiAgICAgICAgICAgICAgICAvL3JlZ3VsYXIgZXhwcmVzc2lvbiAtIHRvIGNoZWNrIEBob3N0LmRvbWFpblxuICAgICAgICAgICAgICAgIHZhciByZSA9IC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy92YWxpZGF0ZSB0aGUgZW50ZXJlZCBlbWFpbCBpZFxuICAgICAgICAgICAgICAgIHZhciB2YWxpZCA9IHJlLnRlc3QoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMgZW1haWwgaXMgXCIgKyB2YWxpZCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZW1haWxBcnIgPSBfdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHM7XG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBlbWFpbEFyci5sZW5ndGgsIGxhYmVsOiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsSWQ6IGV2ZW50LnRhcmdldC52YWx1ZSwgdmFsaWRhdGU6IHZhbGlkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBlbWFpbEFyci5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB0b0FkZHI6IGVtYWlsQXJyIH0pO1xuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlRW1haWxJZERlbGV0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtYWlsQWRkLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVtYWlsSWRDaGlwcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuZW1haWxJZENoaXBzKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlwVG9EZWxldGUgPSBlbWFpbElkQ2hpcHMuaW5kZXhPZihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZW1haWxJZENoaXBzLnNwbGljZShjaGlwVG9EZWxldGUsIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBlbWFpbElkQ2hpcHM6IGVtYWlsSWRDaGlwcyB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVTdWJqZWN0Q2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlRW1haWxCb2R5Q2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgbmV3TWF4SGVpZ2h0ID0gTWF0aC5yb3VuZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWxCb2R5Jykuc2Nyb2xsSGVpZ2h0KTtcbiAgICAgICAgICAgIGlmIChuZXdNYXhIZWlnaHQgPD0gMTIpIHtcbiAgICAgICAgICAgICAgICBuZXdNYXhIZWlnaHQgPSAxMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBlbWFpbFRlbXBsYXRlQm9keTogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgIGVtYWlsQm9keUhlaWdodDogbmV3TWF4SGVpZ2h0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5yZW1vdmVBdHRhY2hlbWVudCA9IGZ1bmN0aW9uIChkb2N1bWVudE51bWJlcikge1xuICAgICAgICAgICAgdmFyIGN1cnJBdHRhY2hlbWVudHMgPSBfdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZlOiBcIiArIGRvY3VtZW50TnVtYmVyKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VyckF0dGFjaGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyQXR0YWNoZW1lbnRzW2ldLmlkID09IGRvY3VtZW50TnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJBdHRhY2hlbWVudHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsQXR0YWNoZW1lbnRzOiBjdXJyQXR0YWNoZW1lbnRzIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuc2VuZFN1bW1hcnlFbWFpbCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZW5kaW5nIHN1bW1hcnkgZW1haWxcIik7XG5cbiAgICAgICAgICAgIC8vSW52b2ljZSBkb2N1bWVudCBpZHMgXG4gICAgICAgICAgICB2YXIgZG9jdW1lbnRJRHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudElEcy5wdXNoKF90aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzW2ldLmlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9pZiBubyB0b0FkZHIgaXMgcHJlc2VudCwgc2hvdyBpbiBzbmFjayBiYXJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlBsZWFzZSBzcGVjaWZ5IGF0IGxlYXN0IG9uZSByZWNpcGllbnQuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy90byBlbWFpbCBhZGRyZXNzZXMgXG4gICAgICAgICAgICB2YXIgdG9BZGRyID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuc3RhdGUuZW1haWxJZENoaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlLmVtYWlsSWRDaGlwc1tpXS52YWxpZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0b0FkZHIgKz0gX3RoaXMuc3RhdGUuZW1haWxJZENoaXBzW2ldLmVtYWlsSWQgKyBcIixcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vcmVtb3ZlIGxhc3QgY29tbWFcbiAgICAgICAgICAgIHZhciBwb3MgPSB0b0FkZHIubGFzdEluZGV4T2YoXCIsXCIpO1xuICAgICAgICAgICAgdG9BZGRyID0gdG9BZGRyLnNsaWNlKDAsIHBvcyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRvOiBcIiArIHRvQWRkcik7XG5cbiAgICAgICAgICAgIHZhciBlbWFpbEJvZHkgPSBfdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlQm9keTtcbiAgICAgICAgICAgIGVtYWlsQm9keSA9IGVtYWlsQm9keS5yZXBsYWNlKC9cXG4vZywgJzxiciAvPicpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGluZyByZXF1ZXN0IGVtYWlsIG9iamVjdFxuICAgICAgICAgICAgdmFyIGVtYWlsT2JqID0ge1xuICAgICAgICAgICAgICAgIGJvZHk6IGVtYWlsQm9keSxcbiAgICAgICAgICAgICAgICBzdWJqZWN0OiBfdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlU3ViamVjdCxcbiAgICAgICAgICAgICAgICAvLyBjb3JyVHlwZUlkOiB0aGlzLnN0YXRlLnRlbXBsYXRlSWQsICAgIC8vIHdoYXQgIGlmIHRlbXBsYXRlcyBhcmUgbm90IGZldGNoZWQuIFxuICAgICAgICAgICAgICAgIGN1c3RvbWVySWQ6IF90aGlzLnByb3BzLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50SWRzOiBkb2N1bWVudElEcyxcbiAgICAgICAgICAgICAgICBmcm9tOiBfdGhpcy5wcm9wcy5jb2xsZWN0b3IuZW1haWxJZCwgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxuICAgICAgICAgICAgICAgIHRvOiB0b0FkZHIgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIE1ha2luZyBhIHBvc3QgY2FsbCBmb3Igc2VuZGluZyBlbWFpbHNcbiAgICAgICAgICAgIC8vYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9jYWxsc3VtbWFyeWAsIHJlcUVtYWlsT2JqKSAtIGFjdHVhbCBhcGlcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiB0cnVlIH0pO1xuICAgICAgICAgICAgX2F4aW9zMi5kZWZhdWx0LnBvc3QoX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyAnL2NvcnJlc3BvbmRlbmNlL2NhbGxzdW1tYXJ5JywgZW1haWxPYmopIC8vIG1vY2sgc2VydmVyIGFwaVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIC8vZGlzYWJsZSB0byB0aGUgY29tcG9uZW50IHRvIHJlYWQgb25seSBtb2RlLlxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFNlbnQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRXJyb3IgaW4gc2VuZGluZyBlbWFpbFwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyTWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiB0cnVlIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmNsb3NlU25hY2tiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGNvbnRhY3RJbmRleCA9IF90aGlzLnByb3BzLmNvbnRhY3RJbmRleDtcbiAgICAgICAgdmFyIGNvbnRhY3RzID0gW107XG4gICAgICAgIGlmIChjb250YWN0SW5kZXggIT0gbnVsbCAmJiBfdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmZpcnN0TmFtZSAhPT0gXCJVbm5hbWVkXCIgJiYgX3RoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5sYXN0TmFtZSAhPT0gXCJVbm5hbWVkXCIpIHtcbiAgICAgICAgICAgIHZhciBmdWxsTmFtZSA9IF90aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZmlyc3ROYW1lICsgXCIgXCIgKyBfdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmxhc3ROYW1lO1xuXG4gICAgICAgICAgICBjb250YWN0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsSWQ6IF90aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZW1haWwsXG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIEF0dGFjaGVtZW50cyA9IF90aGlzLnByb3BzLmludm9pY2VMaXN0O1xuICAgICAgICB2YXIgc3ViamVjdCA9IFwiU3VtbWFyeSBub3RlcyBhcyBwZXIgb3VyIGNvbnZlcnNhdGlvbi5cIjtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlTmFtZTogXCJcIixcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVCb2R5OiBcIlwiLFxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IHN1YmplY3QsXG4gICAgICAgICAgICB0ZW1wbGF0ZUlkOiAtMSxcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVzOiBbXSxcbiAgICAgICAgICAgIGVtYWlsQXR0YWNoZW1lbnRzOiBBdHRhY2hlbWVudHMsXG4gICAgICAgICAgICBlbWFpbElkQ2hpcHM6IGNvbnRhY3RzLFxuICAgICAgICAgICAgc25hY2tCYXJPcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIHNuYWNrQmFyTWVzc2FnZTogXCJcIixcbiAgICAgICAgICAgIGVtYWlsU2VudDogZmFsc2UsXG4gICAgICAgICAgICBlbWFpbEJvZHlIZWlnaHQ6IDEyXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coX3RoaXMucHJvcHMuc3VtbWFyeU5vdGVzLCBcInN1bW1hcnkgbm90ZXMgaW4gZmluYWxcIik7XG4gICAgICAgIF90aGlzLmVtYWlsQWRkID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZVJlZigpO1xuXG4gICAgICAgIC8vZ2V0IGVtYWlsIFRlbXBsYXRlc1xuICAgICAgICBfYXhpb3MyLmRlZmF1bHQuZ2V0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jb3JyZXNwb25kZW5jZS9lbWFpbHRlbXBsYXRlcycpXG4gICAgICAgIC8vIGF4aW9zLmdldChgJHtjb25maWcuYXBpVXJsfS9lbWFpbHRlbXBsYXRlc2ApXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICAgICAgYXJyID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZXM6IGFyciB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVOYW1lOiBhcnJbMF0ubmFtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlU3ViamVjdDogYXJyWzBdLnN1YmplY3QgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZUJvZHk6IGFyclswXS5ib2R5IH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHRlbXBsYXRlSWQ6IGFyclswXS5pZCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgaW4gZmV0Y2hpbmcgdGVtcGxhdGVzXCIpO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlczogW10gfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZU5hbWU6IFwiTm8gVGVtcGxhdGVzIVwiIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL2dldCBzZWxlY3RlZCBpbnZvaWNlIGZyb20gcG9zdCBjYWxsIHBhZ2VcbiAgICAgICAgLy90aGlzLnNldFN0YXRlKHsgZW1haWxBdHRhY2hlbWVudHM6IHRoaXMucHJvcHMuaW52b2ljZUxpc3R9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBmdW5jdGlvbiBmb3IgY2hhbmdlIGluIHRlbXBsYXRlIHNlbGVjdGlvblxuXG5cbiAgICAvLyBvbiBwcmVzc2luZyBlbnRlciBrZXkgYWZ0ZXIgZW1haWwgaWQgYWRkaXRpb25cblxuXG4gICAgLy9oYW5kbGUgZnVuY3Rpb24gd2hlbiBlbWFpbElkIGNoaXAgaXMgcmVtb3ZlZFxuXG5cbiAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgc3ViamVjdFxuXG5cbiAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgYm9keVxuXG5cbiAgICAvLyByZW1vdmUgYXR0YWNoZW1lbnQgZnJvbSBlbWFpbFxuXG5cbiAgICAvLyBTZW5kIHBvc3QgY2FsbCBzdW1tYXJ5IGVtYWlsXG5cblxuICAgIC8vIE9wZW4gc25hY2sgYmFyIHdpdGggbWVzc2FnZVxuXG5cbiAgICAvLyBDbG9zZSBzbmFjayBiYXIgdXNpbmcgY3Jvc3MgYnV0dG9uXG5cblxuICAgIF9jcmVhdGVDbGFzcyhGaW5hbCwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjdXN0b21lciA9IF9wcm9wcy5jdXN0b21lcixcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzID0gX3Byb3BzLnN1bW1hcnlOb3RlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgLy8gICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnJvb3R9PlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgPFJlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU9XCJleGFtcGxlXCJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB0cmFuc2l0aW9uQXBwZWFyPXt0cnVlfVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRyYW5zaXRpb25BcHBlYXJUaW1lb3V0PXs1MDB9XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdHJhbnNpdGlvbkVudGVyPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB0cmFuc2l0aW9uTGVhdmU9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgPlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs5fT5cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiBcIjE2cHhcIiwgZGlzcGxheTogXCJmbGV4XCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIgfX0+XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY29tcGFueUxvZ299PntjdXN0b21lci5jdXN0b21lck5hbWUuY2hhckF0KDApfTwvZGl2PlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLCBhbGlnbkl0ZW1zOiBcImxlZnRcIiB9fT5cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJOYW1lfT57Y3VzdG9tZXIuY3VzdG9tZXJOYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lck51bWJlcn0gc3R5bGU9e3sgbWFyZ2luVG9wOiBcIjhweFwiLCBmb250U2l6ZTogXCIwLjhlbVwiIH19PntjdXN0b21lci5jdXN0b21lck51bWJlcn08L2Rpdj5cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8L0dyaWQ+XG5cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTJ9IHN0eWxlPXt7IHBhZGRpbmc6IFwiMHB4IDEycHggMTJweCAxMnB4XCIsIH19PlxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIxMDAlXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTIsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHBhZGRpbmc6IFwiMHB4IDhweCA4cHggOHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogNSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTIsIGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5Tm90ZXNCb3ggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5Tm90ZXNIZWFkZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU1VNTUFSWSBOT1RFUydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbXM6IHRydWUsIGlkOiAnc3VtbWFyeU5vdGVpdGVtcycsIGNsYXNzTmFtZTogIXN1bW1hcnlOb3RlcyB8fCBzdW1tYXJ5Tm90ZXMubGVuZ3RoID09IDAgPyAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1wdHlTdW1tYXJ5R3JpZCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSA6IGNsYXNzZXMuc3VtbWFyeU5vdGVpdGVtcyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzdW1tYXJ5Tm90ZXMgfHwgc3VtbWFyeU5vdGVzLmxlbmd0aCA9PSAwKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy53YXJuaW5nTGluZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbmZvMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVtcHR5U3VtbWFyeVRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZXJlIGlzIG5vIHN1bW1hcnkgbm90ZXMgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXMgJiYgIXN1bW1hcnlOb3Rlcy5sZW5ndGggPT0gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLm5vdGVzTGlzdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnlOb3Rlcy5tYXAoZnVuY3Rpb24gKG5vdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAxLCBmb250U2l6ZTogXCIwLjg4ODg4ODg4ODg4cmVtXCIsIG1hcmdpbkJvdHRvbTogXCIwLjg4OHJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA3LCBzdHlsZTogeyBwYWRkaW5nTGVmdDogXCIxLjA0MXZ3XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsSGVhZGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMS4wNjY2NnJlbVwiLCBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLCBjb2xvcjogXCIjZmZmZmZmXCIsIG9wYWNpdHk6IDAuNjUsIHBhZGRpbmdCb3R0b206IFwiMC4yZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VORCBTVU1NQVJZIE1BSUwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5RW1haWxGb3JtIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5lbWFpbElkQ2hpcHNJbnB1dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVtYWlsQWRkTGFiZWwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZW1haWxJZENoaXBzLm1hcChmdW5jdGlvbiAoZW1haWwsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hpcDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBlbWFpbC5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZW1haWwubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGVtYWlsLnZhbGlkYXRlID8gY2xhc3Nlcy5lbWFpbElkQ2hpcHMgOiBjbGFzc2VzLmludmFsaWRFbWFpbElkQ2hpcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICFfdGhpczIuc3RhdGUuZW1haWxTZW50ID8gY2xhc3Nlcy5yZW1vdmVFbWFpbElkIDogY2xhc3Nlcy5kaXNhYmxlSWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZTogX3RoaXMyLmhhbmRsZUVtYWlsSWREZWxldGUoZW1haWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBjbGlja2FibGU6IGVtYWlsLnZhbGlkYXRlID8gY2xhc3Nlcy5lbWFpbElkQ2hpcHMgOiBjbGFzc2VzLmludmFsaWRFbWFpbElkQ2hpcHMgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW5wdXQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlQcmVzczogdGhpcy5oYW5kbGVFbWFpbEVudGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlRW1haWxFbnRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZW1haWxJZElucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5lbWFpbFNlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UmVmOiB0aGlzLmVtYWlsQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW5wdXQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luVG9wOiBcIjElXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ1N1YmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRTdWJqZWN0SW5wdXQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZW1haWxTdWJqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVTdWJqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVN1YmplY3RDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5lbWFpbFNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsQm9keSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb3JlLlRleHRGaWVsZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2VtYWlsQm9keScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRW1haWxCb2R5Q2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IFwid2hpdGVcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c01heDogdGhpcy5zdGF0ZS5lbWFpbEJvZHlIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5lbWFpbEJvZHlUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIndoaXRlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgaW5wdXQ6IGNsYXNzZXMuaGlkZU92ZXJmbG93IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuc3RhdGUuZW1haWxTZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlQXR0YWNoZW1lbnRzIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoID4gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUNvdW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sIGZvbnRTaXplOiBcIjAuOTc3N1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSW52b2ljZSBBdHRhY2hlbWVudHMgKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjZWxsSGVpZ2h0OiBcImF1dG9cIiwgY2xhc3NOYW1lOiBjbGFzc2VzLmdyaWRMaXN0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0VGlsZTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xzOiAxLCBrZXk6IGludm9pY2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxMi41cmVtJywgcGFkZGluZzogJzAuMjVyZW0nIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmdyaWRMaXN0RGl2IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdibG9jaycsIG1hcmdpbkxlZnQ6ICcwLjM3NXJlbScgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6ICcwLjI1cmVtJywgZm9udFNpemU6ICcwLjg4OHJlbScsIG9wYWNpdHk6IDAuNjUsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuZG9jdW1lbnROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6ICcwLjI1cmVtJywgZm9udFNpemU6ICcxcmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsRm9vdGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5CdXR0b24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZW5kU3VtbWFyeUVtYWlsQnRuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiAnY29udGFpbmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zZW5kU3VtbWFyeUVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5lbWFpbFNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRU5EJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU25hY2tiYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiAnYm90dG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLnNuYWNrQmFyT3BlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb246IDIwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBDb250ZW50UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbWVzc2FnZS1pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNuYWNrQmFyTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9JY29uQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdDbG9zZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVNuYWNrYmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICApXVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRmluYWw7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5GaW5hbC5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShGaW5hbCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTA1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA2KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA3KTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNpdGlvbkdyb3VwKTtcblxudmFyIF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCA9IF9fd2VicGFja19yZXF1aXJlX18oNjExMSk7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQpO1xuXG52YXIgX1Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4Myk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgdHJhbnNpdGlvbk5hbWU6IF9Qcm9wVHlwZXMubmFtZVNoYXBlLmlzUmVxdWlyZWQsXG5cbiAgdHJhbnNpdGlvbkFwcGVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0cmFuc2l0aW9uRW50ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdHJhbnNpdGlvbkxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHRyYW5zaXRpb25BcHBlYXJUaW1lb3V0OiAoMCwgX1Byb3BUeXBlcy50cmFuc2l0aW9uVGltZW91dCkoJ0FwcGVhcicpLFxuICB0cmFuc2l0aW9uRW50ZXJUaW1lb3V0OiAoMCwgX1Byb3BUeXBlcy50cmFuc2l0aW9uVGltZW91dCkoJ0VudGVyJyksXG4gIHRyYW5zaXRpb25MZWF2ZVRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnTGVhdmUnKVxufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgdHJhbnNpdGlvbkFwcGVhcjogZmFsc2UsXG4gIHRyYW5zaXRpb25FbnRlcjogdHJ1ZSxcbiAgdHJhbnNpdGlvbkxlYXZlOiB0cnVlXG59O1xuXG52YXIgQ1NTVHJhbnNpdGlvbkdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENTU1RyYW5zaXRpb25Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbkdyb3VwKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NTVHJhbnNpdGlvbkdyb3VwKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5fd3JhcENoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NTU1RyYW5zaXRpb25Hcm91cENoaWxkMi5kZWZhdWx0LCB7XG4gICAgICAgIG5hbWU6IF90aGlzLnByb3BzLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICBhcHBlYXI6IF90aGlzLnByb3BzLnRyYW5zaXRpb25BcHBlYXIsXG4gICAgICAgIGVudGVyOiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uRW50ZXIsXG4gICAgICAgIGxlYXZlOiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uTGVhdmUsXG4gICAgICAgIGFwcGVhclRpbWVvdXQ6IF90aGlzLnByb3BzLnRyYW5zaXRpb25BcHBlYXJUaW1lb3V0LFxuICAgICAgICBlbnRlclRpbWVvdXQ6IF90aGlzLnByb3BzLnRyYW5zaXRpb25FbnRlclRpbWVvdXQsXG4gICAgICAgIGxlYXZlVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkxlYXZlVGltZW91dFxuICAgICAgfSwgY2hpbGQpO1xuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgLy8gV2UgbmVlZCB0byBwcm92aWRlIHRoaXMgY2hpbGRGYWN0b3J5IHNvIHRoYXRcbiAgLy8gUmVhY3RDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCBjYW4gcmVjZWl2ZSB1cGRhdGVzIHRvIG5hbWUsIGVudGVyLCBhbmRcbiAgLy8gbGVhdmUgd2hpbGUgaXQgaXMgbGVhdmluZy5cblxuXG4gIENTU1RyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbkdyb3VwMi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyBjaGlsZEZhY3Rvcnk6IHRoaXMuX3dyYXBDaGlsZCB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb25Hcm91cDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkNTU1RyYW5zaXRpb25Hcm91cC5kaXNwbGF5TmFtZSA9ICdDU1NUcmFuc2l0aW9uR3JvdXAnO1xuXG5cbkNTU1RyYW5zaXRpb25Hcm91cC5wcm9wVHlwZXMgPSAgZmFsc2UgPyBwcm9wVHlwZXMgOiB7fTtcbkNTU1RyYW5zaXRpb25Hcm91cC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENTU1RyYW5zaXRpb25Hcm91cDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwNzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jaGFpbkZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA4KTtcblxudmFyIF9jaGFpbkZ1bmN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoYWluRnVuY3Rpb24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA5KTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX0NoaWxkTWFwcGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjExMCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgY29tcG9uZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueSxcbiAgY2hpbGRGYWN0b3J5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGVcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGNvbXBvbmVudDogJ3NwYW4nLFxuICBjaGlsZEZhY3Rvcnk6IGZ1bmN0aW9uIGNoaWxkRmFjdG9yeShjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZDtcbiAgfVxufTtcblxudmFyIFRyYW5zaXRpb25Hcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUcmFuc2l0aW9uR3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRyYW5zaXRpb25Hcm91cChwcm9wcywgY29udGV4dCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2l0aW9uR3JvdXApO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cbiAgICBfdGhpcy5wZXJmb3JtQXBwZWFyID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldID0gdHJ1ZTtcblxuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsQXBwZWFyKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsQXBwZWFyKF90aGlzLl9oYW5kbGVEb25lQXBwZWFyaW5nLmJpbmQoX3RoaXMsIGtleSwgY29tcG9uZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5faGFuZGxlRG9uZUFwcGVhcmluZyhrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9oYW5kbGVEb25lQXBwZWFyaW5nID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZEFwcGVhcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkQXBwZWFyKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgICB2YXIgY3VycmVudENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoIWN1cnJlbnRDaGlsZE1hcHBpbmcgfHwgIWN1cnJlbnRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAvLyBUaGlzIHdhcyByZW1vdmVkIGJlZm9yZSBpdCBoYWQgZnVsbHkgYXBwZWFyZWQuIFJlbW92ZSBpdC5cbiAgICAgICAgX3RoaXMucGVyZm9ybUxlYXZlKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucGVyZm9ybUVudGVyID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldID0gdHJ1ZTtcblxuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsRW50ZXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudFdpbGxFbnRlcihfdGhpcy5faGFuZGxlRG9uZUVudGVyaW5nLmJpbmQoX3RoaXMsIGtleSwgY29tcG9uZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5faGFuZGxlRG9uZUVudGVyaW5nKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX2hhbmRsZURvbmVFbnRlcmluZyA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRFbnRlcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkRW50ZXIoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV07XG5cbiAgICAgIHZhciBjdXJyZW50Q2hpbGRNYXBwaW5nID0gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG5cbiAgICAgIGlmICghY3VycmVudENoaWxkTWFwcGluZyB8fCAhY3VycmVudENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIC8vIFRoaXMgd2FzIHJlbW92ZWQgYmVmb3JlIGl0IGhhZCBmdWxseSBlbnRlcmVkLiBSZW1vdmUgaXQuXG4gICAgICAgIF90aGlzLnBlcmZvcm1MZWF2ZShrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnBlcmZvcm1MZWF2ZSA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbExlYXZlKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsTGVhdmUoX3RoaXMuX2hhbmRsZURvbmVMZWF2aW5nLmJpbmQoX3RoaXMsIGtleSwgY29tcG9uZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBpcyBzb21ld2hhdCBkYW5nZXJvdXMgYi9jIGl0IGNhbGxzIHNldFN0YXRlKClcbiAgICAgICAgLy8gYWdhaW4sIGVmZmVjdGl2ZWx5IG11dGF0aW5nIHRoZSBjb21wb25lbnQgYmVmb3JlIGFsbCB0aGUgd29ya1xuICAgICAgICAvLyBpcyBkb25lLlxuICAgICAgICBfdGhpcy5faGFuZGxlRG9uZUxlYXZpbmcoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5faGFuZGxlRG9uZUxlYXZpbmcgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkTGVhdmUpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZExlYXZlKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgICB2YXIgY3VycmVudENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoY3VycmVudENoaWxkTWFwcGluZyAmJiBjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgLy8gVGhpcyBlbnRlcmVkIGFnYWluIGJlZm9yZSBpdCBmdWxseSBsZWZ0LiBBZGQgaXQgYWdhaW4uXG4gICAgICAgIF90aGlzLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IF9leHRlbmRzKHt9LCBzdGF0ZS5jaGlsZHJlbik7XG4gICAgICAgICAgZGVsZXRlIG5ld0NoaWxkcmVuW2tleV07XG4gICAgICAgICAgcmV0dXJuIHsgY2hpbGRyZW46IG5ld0NoaWxkcmVuIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jaGlsZFJlZnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjaGlsZHJlbjogKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShwcm9wcy5jaGlsZHJlbilcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXMgPSB7fTtcbiAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG4gICAgdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgaW5pdGlhbENoaWxkTWFwcGluZyA9IHRoaXMuc3RhdGUuY2hpbGRyZW47XG4gICAgZm9yICh2YXIga2V5IGluIGluaXRpYWxDaGlsZE1hcHBpbmcpIHtcbiAgICAgIGlmIChpbml0aWFsQ2hpbGRNYXBwaW5nW2tleV0pIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtQXBwZWFyKGtleSwgdGhpcy5jaGlsZFJlZnNba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIG5leHRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKG5leHRQcm9wcy5jaGlsZHJlbik7XG4gICAgdmFyIHByZXZDaGlsZE1hcHBpbmcgPSB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaGlsZHJlbjogKDAsIF9DaGlsZE1hcHBpbmcubWVyZ2VDaGlsZE1hcHBpbmdzKShwcmV2Q2hpbGRNYXBwaW5nLCBuZXh0Q2hpbGRNYXBwaW5nKVxuICAgIH0pO1xuXG4gICAgZm9yICh2YXIga2V5IGluIG5leHRDaGlsZE1hcHBpbmcpIHtcbiAgICAgIHZhciBoYXNQcmV2ID0gcHJldkNoaWxkTWFwcGluZyAmJiBwcmV2Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBpZiAobmV4dENoaWxkTWFwcGluZ1trZXldICYmICFoYXNQcmV2ICYmICF0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0pIHtcbiAgICAgICAgdGhpcy5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2tleSBpbiBwcmV2Q2hpbGRNYXBwaW5nKSB7XG4gICAgICB2YXIgaGFzTmV4dCA9IG5leHRDaGlsZE1hcHBpbmcgJiYgbmV4dENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShfa2V5KTtcbiAgICAgIGlmIChwcmV2Q2hpbGRNYXBwaW5nW19rZXldICYmICFoYXNOZXh0ICYmICF0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW19rZXldKSB7XG4gICAgICAgIHRoaXMua2V5c1RvTGVhdmUucHVzaChfa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB3ZSB3YW50IHRvIHNvbWVkYXkgY2hlY2sgZm9yIHJlb3JkZXJpbmcsIHdlIGNvdWxkIGRvIGl0IGhlcmUuXG4gIH07XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIga2V5c1RvRW50ZXIgPSB0aGlzLmtleXNUb0VudGVyO1xuICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICBrZXlzVG9FbnRlci5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBfdGhpczIucGVyZm9ybUVudGVyKGtleSwgX3RoaXMyLmNoaWxkUmVmc1trZXldKTtcbiAgICB9KTtcblxuICAgIHZhciBrZXlzVG9MZWF2ZSA9IHRoaXMua2V5c1RvTGVhdmU7XG4gICAgdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuICAgIGtleXNUb0xlYXZlLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIF90aGlzMi5wZXJmb3JtTGVhdmUoa2V5LCBfdGhpczIuY2hpbGRSZWZzW2tleV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgLy8gVE9ETzogd2UgY291bGQgZ2V0IHJpZCBvZiB0aGUgbmVlZCBmb3IgdGhlIHdyYXBwZXIgbm9kZVxuICAgIC8vIGJ5IGNsb25pbmcgYSBzaW5nbGUgY2hpbGRcbiAgICB2YXIgY2hpbGRyZW5Ub1JlbmRlciA9IFtdO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3Aoa2V5KSB7XG4gICAgICB2YXIgY2hpbGQgPSBfdGhpczMuc3RhdGUuY2hpbGRyZW5ba2V5XTtcbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICB2YXIgaXNDYWxsYmFja1JlZiA9IHR5cGVvZiBjaGlsZC5yZWYgIT09ICdzdHJpbmcnO1xuICAgICAgICB2YXIgZmFjdG9yeUNoaWxkID0gX3RoaXMzLnByb3BzLmNoaWxkRmFjdG9yeShjaGlsZCk7XG4gICAgICAgIHZhciByZWYgPSBmdW5jdGlvbiByZWYocikge1xuICAgICAgICAgIF90aGlzMy5jaGlsZFJlZnNba2V5XSA9IHI7XG4gICAgICAgIH07XG5cbiAgICAgICAgIGZhbHNlID8gKDAsIF93YXJuaW5nMi5kZWZhdWx0KShpc0NhbGxiYWNrUmVmLCAnc3RyaW5nIHJlZnMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gY2hpbGRyZW4gb2YgVHJhbnNpdGlvbkdyb3VwIGFuZCB3aWxsIGJlIGlnbm9yZWQuICcgKyAnUGxlYXNlIHVzZSBhIGNhbGxiYWNrIHJlZiBpbnN0ZWFkOiBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3JlZnMtYW5kLXRoZS1kb20uaHRtbCN0aGUtcmVmLWNhbGxiYWNrLWF0dHJpYnV0ZScpIDogdm9pZCAwO1xuXG4gICAgICAgIC8vIEFsd2F5cyBjaGFpbmluZyB0aGUgcmVmcyBsZWFkcyB0byBwcm9ibGVtcyB3aGVuIHRoZSBjaGlsZEZhY3RvcnlcbiAgICAgICAgLy8gd3JhcHMgdGhlIGNoaWxkLiBUaGUgY2hpbGQgcmVmIGNhbGxiYWNrIGdldHMgY2FsbGVkIHR3aWNlIHdpdGggdGhlXG4gICAgICAgIC8vIHdyYXBwZXIgYW5kIHRoZSBjaGlsZC4gU28gd2Ugb25seSBuZWVkIHRvIGNoYWluIHRoZSByZWYgaWYgdGhlXG4gICAgICAgIC8vIGZhY3RvcnlDaGlsZCBpcyBub3QgZGlmZmVyZW50IGZyb20gY2hpbGQuXG4gICAgICAgIGlmIChmYWN0b3J5Q2hpbGQgPT09IGNoaWxkICYmIGlzQ2FsbGJhY2tSZWYpIHtcbiAgICAgICAgICByZWYgPSAoMCwgX2NoYWluRnVuY3Rpb24yLmRlZmF1bHQpKGNoaWxkLnJlZiwgcmVmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFlvdSBtYXkgbmVlZCB0byBhcHBseSByZWFjdGl2ZSB1cGRhdGVzIHRvIGEgY2hpbGQgYXMgaXQgaXMgbGVhdmluZy5cbiAgICAgICAgLy8gVGhlIG5vcm1hbCBSZWFjdCB3YXkgdG8gZG8gaXQgd29uJ3Qgd29yayBzaW5jZSB0aGUgY2hpbGQgd2lsbCBoYXZlXG4gICAgICAgIC8vIGFscmVhZHkgYmVlbiByZW1vdmVkLiBJbiBjYXNlIHlvdSBuZWVkIHRoaXMgYmVoYXZpb3IgeW91IGNhbiBwcm92aWRlXG4gICAgICAgIC8vIGEgY2hpbGRGYWN0b3J5IGZ1bmN0aW9uIHRvIHdyYXAgZXZlcnkgY2hpbGQsIGV2ZW4gdGhlIG9uZXMgdGhhdCBhcmVcbiAgICAgICAgLy8gbGVhdmluZy5cbiAgICAgICAgY2hpbGRyZW5Ub1JlbmRlci5wdXNoKF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoZmFjdG9yeUNoaWxkLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgcmVmOiByZWZcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5zdGF0ZS5jaGlsZHJlbikge1xuICAgICAgX2xvb3Aoa2V5KTtcbiAgICB9XG5cbiAgICAvLyBEbyBub3QgZm9yd2FyZCBUcmFuc2l0aW9uR3JvdXAgcHJvcHMgdG8gcHJpbWl0aXZlIERPTSBub2Rlc1xuICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkxlYXZlO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uTmFtZTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkFwcGVhcjtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkVudGVyO1xuICAgIGRlbGV0ZSBwcm9wcy5jaGlsZEZhY3Rvcnk7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25MZWF2ZVRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25FbnRlclRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25BcHBlYXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5jb21wb25lbnQ7XG5cbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5jb21wb25lbnQsIHByb3BzLCBjaGlsZHJlblRvUmVuZGVyKTtcbiAgfTtcblxuICByZXR1cm4gVHJhbnNpdGlvbkdyb3VwO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuVHJhbnNpdGlvbkdyb3VwLmRpc3BsYXlOYW1lID0gJ1RyYW5zaXRpb25Hcm91cCc7XG5cblxuVHJhbnNpdGlvbkdyb3VwLnByb3BUeXBlcyA9ICBmYWxzZSA/IHByb3BUeXBlcyA6IHt9O1xuVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNpdGlvbkdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTA4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2hhaW4oKXtcbiAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgdmFyIGFyZ3MgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV1cblxuICBhcmdzID0gYXJncy5maWx0ZXIoZnVuY3Rpb24oZm4peyByZXR1cm4gZm4gIT0gbnVsbCB9KVxuXG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZFxuICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHJldHVybiBhcmdzWzBdXG5cbiAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uKGN1cnJlbnQsIG5leHQpe1xuICAgIHJldHVybiBmdW5jdGlvbiBjaGFpbmVkRnVuY3Rpb24oKSB7XG4gICAgICBjdXJyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBuZXh0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSlcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5cblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAoZmFsc2UpIHtcbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcbiAgICAgICAgJ21lc3NhZ2UgYXJndW1lbnQnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQubGVuZ3RoIDwgMTAgfHwgKC9eW3NcXFddKiQvKS50ZXN0KGZvcm1hdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSB3YXJuaW5nIGZvcm1hdCBzaG91bGQgYmUgYWJsZSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzICcgK1xuICAgICAgICAnd2FybmluZy4gUGxlYXNlLCB1c2UgYSBtb3JlIGRlc2NyaXB0aXZlIGZvcm1hdCB0aGFuOiAnICsgZm9ybWF0XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgIH0gY2F0Y2goeCkge31cbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZ2V0Q2hpbGRNYXBwaW5nID0gZ2V0Q2hpbGRNYXBwaW5nO1xuZXhwb3J0cy5tZXJnZUNoaWxkTWFwcGluZ3MgPSBtZXJnZUNoaWxkTWFwcGluZ3M7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4vKipcbiAqIEdpdmVuIGB0aGlzLnByb3BzLmNoaWxkcmVuYCwgcmV0dXJuIGFuIG9iamVjdCBtYXBwaW5nIGtleSB0byBjaGlsZC5cbiAqXG4gKiBAcGFyYW0geyp9IGNoaWxkcmVuIGB0aGlzLnByb3BzLmNoaWxkcmVuYFxuICogQHJldHVybiB7b2JqZWN0fSBNYXBwaW5nIG9mIGtleSB0byBjaGlsZFxuICovXG5mdW5jdGlvbiBnZXRDaGlsZE1hcHBpbmcoY2hpbGRyZW4pIHtcbiAgaWYgKCFjaGlsZHJlbikge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICB2YXIgcmVzdWx0ID0ge307XG4gIF9yZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZDtcbiAgfSkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICByZXN1bHRbY2hpbGQua2V5XSA9IGNoaWxkO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBXaGVuIHlvdSdyZSBhZGRpbmcgb3IgcmVtb3ZpbmcgY2hpbGRyZW4gc29tZSBtYXkgYmUgYWRkZWQgb3IgcmVtb3ZlZCBpbiB0aGVcbiAqIHNhbWUgcmVuZGVyIHBhc3MuIFdlIHdhbnQgdG8gc2hvdyAqYm90aCogc2luY2Ugd2Ugd2FudCB0byBzaW11bHRhbmVvdXNseVxuICogYW5pbWF0ZSBlbGVtZW50cyBpbiBhbmQgb3V0LiBUaGlzIGZ1bmN0aW9uIHRha2VzIGEgcHJldmlvdXMgc2V0IG9mIGtleXNcbiAqIGFuZCBhIG5ldyBzZXQgb2Yga2V5cyBhbmQgbWVyZ2VzIHRoZW0gd2l0aCBpdHMgYmVzdCBndWVzcyBvZiB0aGUgY29ycmVjdFxuICogb3JkZXJpbmcuIEluIHRoZSBmdXR1cmUgd2UgbWF5IGV4cG9zZSBzb21lIG9mIHRoZSB1dGlsaXRpZXMgaW5cbiAqIFJlYWN0TXVsdGlDaGlsZCB0byBtYWtlIHRoaXMgZWFzeSwgYnV0IGZvciBub3cgUmVhY3QgaXRzZWxmIGRvZXMgbm90XG4gKiBkaXJlY3RseSBoYXZlIHRoaXMgY29uY2VwdCBvZiB0aGUgdW5pb24gb2YgcHJldkNoaWxkcmVuIGFuZCBuZXh0Q2hpbGRyZW5cbiAqIHNvIHdlIGltcGxlbWVudCBpdCBoZXJlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcmV2IHByZXYgY2hpbGRyZW4gYXMgcmV0dXJuZWQgZnJvbVxuICogYFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcoKWAuXG4gKiBAcGFyYW0ge29iamVjdH0gbmV4dCBuZXh0IGNoaWxkcmVuIGFzIHJldHVybmVkIGZyb21cbiAqIGBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKClgLlxuICogQHJldHVybiB7b2JqZWN0fSBhIGtleSBzZXQgdGhhdCBjb250YWlucyBhbGwga2V5cyBpbiBgcHJldmAgYW5kIGFsbCBrZXlzXG4gKiBpbiBgbmV4dGAgaW4gYSByZWFzb25hYmxlIG9yZGVyLlxuICovXG5mdW5jdGlvbiBtZXJnZUNoaWxkTWFwcGluZ3MocHJldiwgbmV4dCkge1xuICBwcmV2ID0gcHJldiB8fCB7fTtcbiAgbmV4dCA9IG5leHQgfHwge307XG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWVGb3JLZXkoa2V5KSB7XG4gICAgaWYgKG5leHQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmV0dXJuIG5leHRba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJldltrZXldO1xuICB9XG5cbiAgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gIC8vIHRoZSBjb21iaW5lZCBsaXN0XG4gIHZhciBuZXh0S2V5c1BlbmRpbmcgPSB7fTtcblxuICB2YXIgcGVuZGluZ0tleXMgPSBbXTtcbiAgZm9yICh2YXIgcHJldktleSBpbiBwcmV2KSB7XG4gICAgaWYgKG5leHQuaGFzT3duUHJvcGVydHkocHJldktleSkpIHtcbiAgICAgIGlmIChwZW5kaW5nS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dEtleXNQZW5kaW5nW3ByZXZLZXldID0gcGVuZGluZ0tleXM7XG4gICAgICAgIHBlbmRpbmdLZXlzID0gW107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlbmRpbmdLZXlzLnB1c2gocHJldktleSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGkgPSB2b2lkIDA7XG4gIHZhciBjaGlsZE1hcHBpbmcgPSB7fTtcbiAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0KSB7XG4gICAgaWYgKG5leHRLZXlzUGVuZGluZy5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IG5leHRLZXlzUGVuZGluZ1tuZXh0S2V5XS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGVuZGluZ05leHRLZXkgPSBuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV1baV07XG4gICAgICAgIGNoaWxkTWFwcGluZ1tuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV1baV1dID0gZ2V0VmFsdWVGb3JLZXkocGVuZGluZ05leHRLZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjaGlsZE1hcHBpbmdbbmV4dEtleV0gPSBnZXRWYWx1ZUZvcktleShuZXh0S2V5KTtcbiAgfVxuXG4gIC8vIEZpbmFsbHksIGFkZCB0aGUga2V5cyB3aGljaCBkaWRuJ3QgYXBwZWFyIGJlZm9yZSBhbnkga2V5IGluIGBuZXh0YFxuICBmb3IgKGkgPSAwOyBpIDwgcGVuZGluZ0tleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjaGlsZE1hcHBpbmdbcGVuZGluZ0tleXNbaV1dID0gZ2V0VmFsdWVGb3JLZXkocGVuZGluZ0tleXNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkTWFwcGluZztcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfYWRkQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNzgpO1xuXG52YXIgX2FkZENsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZENsYXNzKTtcblxudmFyIF9yZW1vdmVDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3OSk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVtb3ZlQ2xhc3MpO1xuXG52YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjExMik7XG5cbnZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlcXVlc3RBbmltYXRpb25GcmFtZSk7XG5cbnZhciBfcHJvcGVydGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ5KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblxudmFyIF9Qcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBldmVudHMgPSBbXTtcbmlmIChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKSBldmVudHMucHVzaChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKTtcbmlmIChfcHJvcGVydGllcy5hbmltYXRpb25FbmQpIGV2ZW50cy5wdXNoKF9wcm9wZXJ0aWVzLmFuaW1hdGlvbkVuZCk7XG5cbmZ1bmN0aW9uIGFkZEVuZExpc3RlbmVyKG5vZGUsIGxpc3RlbmVyKSB7XG4gIGlmIChldmVudHMubGVuZ3RoKSB7XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZXRUaW1lb3V0KGxpc3RlbmVyLCAwKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFldmVudHMubGVuZ3RoKSByZXR1cm47XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfTtcbn1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgbmFtZTogX1Byb3BUeXBlcy5uYW1lU2hhcGUuaXNSZXF1aXJlZCxcblxuICAvLyBPbmNlIHdlIHJlcXVpcmUgdGltZW91dHMgdG8gYmUgc3BlY2lmaWVkLCB3ZSBjYW4gcmVtb3ZlIHRoZVxuICAvLyBib29sZWFuIGZsYWdzIChhcHBlYXIgZXRjLikgYW5kIGp1c3QgYWNjZXB0IGEgbnVtYmVyXG4gIC8vIG9yIGEgYm9vbCBmb3IgdGhlIHRpbWVvdXQgZmxhZ3MgKGFwcGVhclRpbWVvdXQgZXRjLilcbiAgYXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGFwcGVhclRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBlbnRlclRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBsZWF2ZVRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyXG59O1xuXG52YXIgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENTU1RyYW5zaXRpb25Hcm91cENoaWxkKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmNvbXBvbmVudFdpbGxBcHBlYXIgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmFwcGVhcikge1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uKCdhcHBlYXInLCBkb25lLCBfdGhpcy5wcm9wcy5hcHBlYXJUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jb21wb25lbnRXaWxsRW50ZXIgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmVudGVyKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2VudGVyJywgZG9uZSwgX3RoaXMucHJvcHMuZW50ZXJUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jb21wb25lbnRXaWxsTGVhdmUgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmxlYXZlKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2xlYXZlJywgZG9uZSwgX3RoaXMucHJvcHMubGVhdmVUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUgPSBbXTtcbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cyA9IFtdO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMudW5tb3VudGVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5sZW5ndGggPSAwO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS50cmFuc2l0aW9uID0gZnVuY3Rpb24gdHJhbnNpdGlvbihhbmltYXRpb25UeXBlLCBmaW5pc2hDYWxsYmFjaywgdGltZW91dCkge1xuICAgIHZhciBub2RlID0gKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcyk7XG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIGlmIChmaW5pc2hDYWxsYmFjaykge1xuICAgICAgICBmaW5pc2hDYWxsYmFjaygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLm5hbWVbYW5pbWF0aW9uVHlwZV0gfHwgdGhpcy5wcm9wcy5uYW1lICsgJy0nICsgYW5pbWF0aW9uVHlwZTtcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gdGhpcy5wcm9wcy5uYW1lW2FuaW1hdGlvblR5cGUgKyAnQWN0aXZlJ10gfHwgY2xhc3NOYW1lICsgJy1hY3RpdmUnO1xuICAgIHZhciB0aW1lciA9IG51bGw7XG4gICAgdmFyIHJlbW92ZUxpc3RlbmVycyA9IHZvaWQgMDtcblxuICAgICgwLCBfYWRkQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGNsYXNzTmFtZSk7XG5cbiAgICAvLyBOZWVkIHRvIGRvIHRoaXMgdG8gYWN0dWFsbHkgdHJpZ2dlciBhIHRyYW5zaXRpb24uXG4gICAgdGhpcy5xdWV1ZUNsYXNzQW5kTm9kZShhY3RpdmVDbGFzc05hbWUsIG5vZGUpO1xuXG4gICAgLy8gQ2xlYW4tdXAgdGhlIGFuaW1hdGlvbiBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5XG4gICAgdmFyIGZpbmlzaCA9IGZ1bmN0aW9uIGZpbmlzaChlKSB7XG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICBpZiAocmVtb3ZlTGlzdGVuZXJzKSByZW1vdmVMaXN0ZW5lcnMoKTtcblxuICAgICAgKDAsIF9yZW1vdmVDbGFzczIuZGVmYXVsdCkobm9kZSwgY2xhc3NOYW1lKTtcbiAgICAgICgwLCBfcmVtb3ZlQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChyZW1vdmVMaXN0ZW5lcnMpIHJlbW92ZUxpc3RlbmVycygpO1xuXG4gICAgICAvLyBVc3VhbGx5IHRoaXMgb3B0aW9uYWwgY2FsbGJhY2sgaXMgdXNlZCBmb3IgaW5mb3JtaW5nIGFuIG93bmVyIG9mXG4gICAgICAvLyBhIGxlYXZlIGFuaW1hdGlvbiBhbmQgdGVsbGluZyBpdCB0byByZW1vdmUgdGhlIGNoaWxkLlxuICAgICAgaWYgKGZpbmlzaENhbGxiYWNrKSB7XG4gICAgICAgIGZpbmlzaENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZmluaXNoLCB0aW1lb3V0KTtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXRzLnB1c2godGltZXIpO1xuICAgIH0gZWxzZSBpZiAoX3Byb3BlcnRpZXMudHJhbnNpdGlvbkVuZCkge1xuICAgICAgcmVtb3ZlTGlzdGVuZXJzID0gYWRkRW5kTGlzdGVuZXIobm9kZSwgZmluaXNoKTtcbiAgICB9XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLnF1ZXVlQ2xhc3NBbmROb2RlID0gZnVuY3Rpb24gcXVldWVDbGFzc0FuZE5vZGUoY2xhc3NOYW1lLCBub2RlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5wdXNoKHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgbm9kZTogbm9kZVxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnJhZkhhbmRsZSkge1xuICAgICAgdGhpcy5yYWZIYW5kbGUgPSAoMCwgX3JlcXVlc3RBbmltYXRpb25GcmFtZTIuZGVmYXVsdCkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLmZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlID0gZnVuY3Rpb24gZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUoKSB7XG4gICAgaWYgKCF0aGlzLnVubW91bnRlZCkge1xuICAgICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgZm9yIHRvIGZvcmNlIGEgcmVwYWludCxcbiAgICAgICAgLy8gd2hpY2ggaXMgbmVjZXNzYXJ5IGluIG9yZGVyIHRvIHRyYW5zaXRpb24gc3R5bGVzIHdoZW4gYWRkaW5nIGEgY2xhc3MgbmFtZS5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICAgIG9iai5ub2RlLnNjcm9sbFRvcDtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgICAgICAgKDAsIF9hZGRDbGFzczIuZGVmYXVsdCkob2JqLm5vZGUsIG9iai5jbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5yYWZIYW5kbGUgPSBudWxsO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIGRlbGV0ZSBwcm9wcy5uYW1lO1xuICAgIGRlbGV0ZSBwcm9wcy5hcHBlYXI7XG4gICAgZGVsZXRlIHByb3BzLmVudGVyO1xuICAgIGRlbGV0ZSBwcm9wcy5sZWF2ZTtcbiAgICBkZWxldGUgcHJvcHMuYXBwZWFyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMuZW50ZXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5sZWF2ZVRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmNoaWxkcmVuO1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pLCBwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb25Hcm91cENoaWxkO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQuZGlzcGxheU5hbWUgPSAnQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQnO1xuXG5cbkNTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3BUeXBlcyA9ICBmYWxzZSA/IHByb3BUeXBlcyA6IHt9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExMjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2luRE9NID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MCkpO1xuXG52YXIgdmVuZG9ycyA9IFsnJywgJ3dlYmtpdCcsICdtb3onLCAnbycsICdtcyddO1xudmFyIGNhbmNlbCA9ICdjbGVhclRpbWVvdXQnO1xudmFyIHJhZiA9IGZhbGxiYWNrO1xudmFyIGNvbXBhdFJhZjtcblxudmFyIGdldEtleSA9IGZ1bmN0aW9uIGdldEtleSh2ZW5kb3IsIGspIHtcbiAgcmV0dXJuIHZlbmRvciArICghdmVuZG9yID8gayA6IGtbMF0udG9VcHBlckNhc2UoKSArIGsuc3Vic3RyKDEpKSArICdBbmltYXRpb25GcmFtZSc7XG59O1xuXG5pZiAoX2luRE9NLmRlZmF1bHQpIHtcbiAgdmVuZG9ycy5zb21lKGZ1bmN0aW9uICh2ZW5kb3IpIHtcbiAgICB2YXIgcmFmS2V5ID0gZ2V0S2V5KHZlbmRvciwgJ3JlcXVlc3QnKTtcblxuICAgIGlmIChyYWZLZXkgaW4gd2luZG93KSB7XG4gICAgICBjYW5jZWwgPSBnZXRLZXkodmVuZG9yLCAnY2FuY2VsJyk7XG4gICAgICByZXR1cm4gcmFmID0gZnVuY3Rpb24gcmFmKGNiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3dbcmFmS2V5XShjYik7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG4vKiBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L3JhZiAqL1xuXG5cbnZhciBwcmV2ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbmZ1bmN0aW9uIGZhbGxiYWNrKGZuKSB7XG4gIHZhciBjdXJyID0gbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICBtcyA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnIgLSBwcmV2KSksXG4gICAgICByZXEgPSBzZXRUaW1lb3V0KGZuLCBtcyk7XG4gIHByZXYgPSBjdXJyO1xuICByZXR1cm4gcmVxO1xufVxuXG5jb21wYXRSYWYgPSBmdW5jdGlvbiBjb21wYXRSYWYoY2IpIHtcbiAgcmV0dXJuIHJhZihjYik7XG59O1xuXG5jb21wYXRSYWYuY2FuY2VsID0gZnVuY3Rpb24gKGlkKSB7XG4gIHdpbmRvd1tjYW5jZWxdICYmIHR5cGVvZiB3aW5kb3dbY2FuY2VsXSA9PT0gJ2Z1bmN0aW9uJyAmJiB3aW5kb3dbY2FuY2VsXShpZCk7XG59O1xuXG52YXIgX2RlZmF1bHQgPSBjb21wYXRSYWY7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTEzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0xpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG5cbnZhciBfTGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaXN0KTtcblxudmFyIF9MaXN0SXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKTtcblxudmFyIF9MaXN0SXRlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaXN0SXRlbSk7XG5cbnZhciBfTGlzdEl0ZW1UZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODMpO1xuXG52YXIgX0xpc3RJdGVtVGV4dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaXN0SXRlbVRleHQpO1xuXG52YXIgX0RpYWxvZ1RpdGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXG52YXIgX0RpYWxvZ1RpdGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ1RpdGxlKTtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBkaWFsb2dQYXBlcjoge1xuICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHdoaXRlJyxcbiAgICAgICAgICAgIHdpZHRoOiAnMTkuNTN2dydcbiAgICAgICAgfSxcbiAgICAgICAgZGlhbG9nOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlTmV3QWN0aW9uRGlhbG9nSGVhZGVyOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyAnICFpbXBvcnRhbnQnLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxLjI0NDQ0cmVtJ1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyAnICFpbXBvcnRhbnQnLFxuICAgICAgICAgICAgZm9udFNpemU6ICcwLjk3NzdyZW0nLFxuICAgICAgICAgICAgcG9pbnRlcjogJ2N1cnNvcidcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgcHJvcFR5cGVzID0ge1xuICAgIG9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgICBvbkNsb3NlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gICAgb25BY3Rpb25JdGVtQ2xpY2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBvcGVuOiBmYWxzZSxcbiAgICBvbkNsb3NlOiBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb24sXG4gICAgb25BY3Rpb25JdGVtQ2xpY2s6IF9jb25zdGFudHMuZW1wdHlGdW5jdGlvblxufTtcblxudmFyIEFjdGlvbkNyZWF0b3JEaWFsb2cgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhBY3Rpb25DcmVhdG9yRGlhbG9nLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEFjdGlvbkNyZWF0b3JEaWFsb2cocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjdGlvbkNyZWF0b3JEaWFsb2cpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBY3Rpb25DcmVhdG9yRGlhbG9nLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWN0aW9uQ3JlYXRvckRpYWxvZykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEFjdGlvbkNyZWF0b3JEaWFsb2csIFt7XG4gICAgICAgIGtleTogJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgICAgICAgICBpZiAobmV4dFByb3BzLm9wZW4gIT09IHRoaXMucHJvcHMub3Blbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgb3BlbiA9IF9wcm9wcy5vcGVuLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICBvbkNsb3NlID0gX3Byb3BzLm9uQ2xvc2U7XG5cblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9EaWFsb2cyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiBvbkNsb3NlLFxuICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogJ25ldy1hY3Rpb24tZGlhbG9nLXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBwYXBlclNjcm9sbFBhcGVyOiBjbGFzc2VzLmRpYWxvZ1BhcGVyIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfRGlhbG9nVGl0bGUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnbmV3LWFjdGlvbi1kaWFsb2ctdGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmRpYWxvZyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY3JlYXRlTmV3QWN0aW9uRGlhbG9nSGVhZGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ3JlYXRlIE5ldyBBY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfTGlzdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNyZWF0ZU5ld0FjdGlvbkRpYWxvZ09wdGlvbnMgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF9jb25zdGFudHMuQUNUSU9OX1RZUEVTKS5tYXAoZnVuY3Rpb24gKGFjdGlvblR5cGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9MaXN0SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY3Vyc29yOiAncG9pbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5wcm9wcy5vbkFjdGlvbkl0ZW1DbGljayhfY29uc3RhbnRzLkFDVElPTl9UWVBFU1thY3Rpb25UeXBlS2V5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBhY3Rpb25UeXBlS2V5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0xpc3RJdGVtVGV4dDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZSAnICsgX2NvbnN0YW50cy5BQ1RJT05fVFlQRVNbYWN0aW9uVHlwZUtleV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBY3Rpb25DcmVhdG9yRGlhbG9nO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuLy9yZW1vdmUgcHJvcFR5cGVzIGluIHByb2R1Y3Rpb25cblxuXG5BY3Rpb25DcmVhdG9yRGlhbG9nLnByb3BUeXBlcyA9IHByb3BUeXBlcztcbkFjdGlvbkNyZWF0b3JEaWFsb2cuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEFjdGlvbkNyZWF0b3JEaWFsb2cpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExNDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9Hcm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nyk7XG5cbnZhciBfR3JvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm93KTtcblxudmFyIF9jb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfcmVhY3RIaWdobGlnaHRXb3JkcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjExNSk7XG5cbnZhciBfcmVhY3RIaWdobGlnaHRXb3JkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEhpZ2hsaWdodFdvcmRzKTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbnZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjExNik7XG5cbnZhciBfcmVhY3RHaWZQbGF5ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OSk7XG5cbnZhciBfcmVhY3RHaWZQbGF5ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RHaWZQbGF5ZXIpO1xuXG52YXIgX1JpcHBsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjExOSk7XG5cbnZhciBfUmlwcGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JpcHBsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBhdXRob3IgQmFscmFqIFNpbmdoIDxiYWxyYWpzaW5naC5zQGhpZ2hyYWRpdXMuY29tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG5cbiAgICAgICAgY2hhdEJ1YmJsZToge1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImZsZXgtc3RhcnRcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiNHB4XCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICBtaW5XaWR0aDogXCJjYWxjKDEwMCUgLSAycmVtKVwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxMDAlIC0gMnJlbSlcIixcbiAgICAgICAgICAgIG1pbkhlaWdodDogXCIxcmVtXCIsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiNHB4XCJcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHRCdWJibGU6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiMC42NSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBhbGlnblNlbGY6IFwiZmxleC1lbmRcIixcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93LXJldmVyc2VcIlxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIxcmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogXCIjZmZmXCJcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0TWVzc2FnZToge1xuICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoOTMsIDE3MCwgMjI0LCAwLjMpXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2lyY2xlZFRleHQ6IHtcbiAgICAgICAgICAgIG1pbldpZHRoOiBcIjJyZW1cIixcbiAgICAgICAgICAgIG1pbkhlaWdodDogXCIycmVtXCIsXG4gICAgICAgICAgICBtYXhIZWlnaHQ6IFwiMnJlbVwiLFxuICAgICAgICAgICAgbWF4V2lkdGg6IFwiMnJlbVwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBcIjJyZW1cIixcbiAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiIzVEQUFFMFwiXG4gICAgICAgIH0sXG4gICAgICAgIGdpZkFuaW1hdG9yOiB7fSxcbiAgICAgICAgZGV0ZWN0b3I6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzVEQUFFMFwiXG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodGVyRm9yTGVmdDoge1xuICAgICAgICAgICAgYWxpZ25TZWxmOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIxMHB4XCJcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0ZXJGb3JSaWdodDoge1xuICAgICAgICAgICAgdGV4dEFsaWduOiBcInJpZ2h0XCIsXG4gICAgICAgICAgICBhbGlnblNlbGY6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIxMHB4XCJcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgQ2hhdEJveCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKENoYXRCb3gsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ2hhdEJveChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhdEJveCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENoYXRCb3guX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDaGF0Qm94KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2hhdEJveCwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGlzQ29sbGVjdG9yID0gX3Byb3BzLmlzQ29sbGVjdG9yLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfcHJvcHMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgaXNEZXRlY3RpbmcgPSBfcHJvcHMuaXNEZXRlY3Rpbmc7XG5cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAvL2NvbW1lbnQgPEdyb3c+IGFuZCA8L0dyb3c+IGZvbGxvd2luZyBmb3IgcnVubmluZyB0ZXN0cyBzdWl0ZVxuICAgICAgICAgICAgICAgIC8vY2Fubm90IHNldCB0cmFuc2l0aW9ucyBpbiBub2RlIGVudlxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JvdzIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyAnaW4nOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGF0QnViYmxlICsgXCIgXCIgKyAoaXNDb2xsZWN0b3IgPyBjbGFzc2VzLnJpZ2h0QnViYmxlIDogXCJcIikgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc0RldGVjdGluZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNpcmNsZWRUZXh0ICsgXCIgXCIgKyAoaXNEZXRlY3RpbmcgPyBjbGFzc2VzLmRldGVjdG9yIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RldGVjdGluZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGhlaWdodDogXCIyLjVyZW1cIiwgd2lkdGg6IFwiMi41cmVtXCIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNyYz17XCIvdG92by9zdGF0aWMvUmlwcGxlLmdpZlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgc3JjOiBfUmlwcGxlMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdDogJ0RldGVjdGluZyBTcGVha2VycyBBbmltYXRpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEhpZ2hsaWdodFdvcmRzMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBpc0NvbGxlY3RvciA/IGNsYXNzZXMuaGlnaGxpZ2h0ZXJGb3JSaWdodCA6IGNsYXNzZXMuaGlnaGxpZ2h0ZXJGb3JMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaGlnaGxpZ2h0Q2xhc3NOYW1lOiBjbGFzc2VzLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lOiBjbGFzc2VzLmhpZ2hsaWdodE1lc3NhZ2UgKyBcIiBcIiArIGNsYXNzZXMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hXb3JkczogX2NvbnN0YW50cy5ISUdITElHSFRFUl9SRUdFWCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0VG9IaWdobGlnaHQ6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENoYXRCb3g7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DaGF0Qm94LnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGlzQ29sbGVjdG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gICAgbWVzc2FnZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gICAgaXNEZXRlY3Rpbmc6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbFxufTtcbkNoYXRCb3guZGVmYXVsdFByb3BzID0ge1xuICAgIGlzQ29sbGVjdG9yOiBmYWxzZSxcbiAgICBtZXNzYWdlOiBcIlwiLFxuICAgIGlzRGV0ZWN0aW5nOiBmYWxzZVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoQ2hhdEJveCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTE1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9XG4vKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9IaWdobGlnaHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0hpZ2hsaWdodGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hpZ2hsaWdodGVyKTtcblxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBfSGlnaGxpZ2h0ZXIyWydkZWZhdWx0J107XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEhpZ2hsaWdodGVyO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9oaWdobGlnaHRXb3Jkc0NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9tZW1vaXplT25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX21lbW9pemVPbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWVtb2l6ZU9uZSk7XG5cdFxuXHRIaWdobGlnaHRlci5wcm9wVHlwZXMgPSB7XG5cdCAgYWN0aXZlQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcblx0ICBhY3RpdmVJbmRleDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5udW1iZXIsXG5cdCAgYWN0aXZlU3R5bGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0LFxuXHQgIGF1dG9Fc2NhcGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcblx0ICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXHQgIGZpbmRDaHVua3M6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblx0ICBoaWdobGlnaHRDbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdCwgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmddKSxcblx0ICBoaWdobGlnaHRTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3QsXG5cdCAgaGlnaGxpZ2h0VGFnOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9uZU9mVHlwZShbX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nXSksXG5cdCAgc2FuaXRpemU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblx0ICBzZWFyY2hXb3JkczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5hcnJheU9mKF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZywgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5pbnN0YW5jZU9mKFJlZ0V4cCldKSkuaXNSZXF1aXJlZCxcblx0ICB0ZXh0VG9IaWdobGlnaHQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAgdW5oaWdobGlnaHRDbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXHQgIHVuaGlnaGxpZ2h0U3R5bGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0XG5cdH07XG5cdFxuXHQvKipcblx0ICogSGlnaGxpZ2h0cyBhbGwgb2NjdXJyZW5jZXMgb2Ygc2VhcmNoIHRlcm1zIChzZWFyY2hUZXh0KSB3aXRoaW4gYSBzdHJpbmcgKHRleHRUb0hpZ2hsaWdodCkuXG5cdCAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbiBhcnJheSBvZiBzdHJpbmdzIGFuZCA8c3Bhbj5zICh3cmFwcGluZyBoaWdobGlnaHRlZCB3b3JkcykuXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gSGlnaGxpZ2h0ZXIoX3JlZikge1xuXHQgIHZhciBfcmVmJGFjdGl2ZUNsYXNzTmFtZSA9IF9yZWYuYWN0aXZlQ2xhc3NOYW1lO1xuXHQgIHZhciBhY3RpdmVDbGFzc05hbWUgPSBfcmVmJGFjdGl2ZUNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJGFjdGl2ZUNsYXNzTmFtZTtcblx0ICB2YXIgX3JlZiRhY3RpdmVJbmRleCA9IF9yZWYuYWN0aXZlSW5kZXg7XG5cdCAgdmFyIGFjdGl2ZUluZGV4ID0gX3JlZiRhY3RpdmVJbmRleCA9PT0gdW5kZWZpbmVkID8gLTEgOiBfcmVmJGFjdGl2ZUluZGV4O1xuXHQgIHZhciBhY3RpdmVTdHlsZSA9IF9yZWYuYWN0aXZlU3R5bGU7XG5cdCAgdmFyIGF1dG9Fc2NhcGUgPSBfcmVmLmF1dG9Fc2NhcGU7XG5cdCAgdmFyIF9yZWYkY2FzZVNlbnNpdGl2ZSA9IF9yZWYuY2FzZVNlbnNpdGl2ZTtcblx0ICB2YXIgY2FzZVNlbnNpdGl2ZSA9IF9yZWYkY2FzZVNlbnNpdGl2ZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGNhc2VTZW5zaXRpdmU7XG5cdCAgdmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lO1xuXHQgIHZhciBmaW5kQ2h1bmtzID0gX3JlZi5maW5kQ2h1bmtzO1xuXHQgIHZhciBfcmVmJGhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYuaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciBoaWdobGlnaHRDbGFzc05hbWUgPSBfcmVmJGhpZ2hsaWdodENsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJGhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICB2YXIgX3JlZiRoaWdobGlnaHRTdHlsZSA9IF9yZWYuaGlnaGxpZ2h0U3R5bGU7XG5cdCAgdmFyIGhpZ2hsaWdodFN0eWxlID0gX3JlZiRoaWdobGlnaHRTdHlsZSA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGhpZ2hsaWdodFN0eWxlO1xuXHQgIHZhciBfcmVmJGhpZ2hsaWdodFRhZyA9IF9yZWYuaGlnaGxpZ2h0VGFnO1xuXHQgIHZhciBoaWdobGlnaHRUYWcgPSBfcmVmJGhpZ2hsaWdodFRhZyA9PT0gdW5kZWZpbmVkID8gJ21hcmsnIDogX3JlZiRoaWdobGlnaHRUYWc7XG5cdCAgdmFyIHNhbml0aXplID0gX3JlZi5zYW5pdGl6ZTtcblx0ICB2YXIgc2VhcmNoV29yZHMgPSBfcmVmLnNlYXJjaFdvcmRzO1xuXHQgIHZhciB0ZXh0VG9IaWdobGlnaHQgPSBfcmVmLnRleHRUb0hpZ2hsaWdodDtcblx0ICB2YXIgX3JlZiR1bmhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYudW5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZiR1bmhpZ2hsaWdodENsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciB1bmhpZ2hsaWdodFN0eWxlID0gX3JlZi51bmhpZ2hsaWdodFN0eWxlO1xuXHRcblx0ICB2YXIgY2h1bmtzID0gKDAsIF9oaWdobGlnaHRXb3Jkc0NvcmUuZmluZEFsbCkoe1xuXHQgICAgYXV0b0VzY2FwZTogYXV0b0VzY2FwZSxcblx0ICAgIGNhc2VTZW5zaXRpdmU6IGNhc2VTZW5zaXRpdmUsXG5cdCAgICBmaW5kQ2h1bmtzOiBmaW5kQ2h1bmtzLFxuXHQgICAgc2FuaXRpemU6IHNhbml0aXplLFxuXHQgICAgc2VhcmNoV29yZHM6IHNlYXJjaFdvcmRzLFxuXHQgICAgdGV4dFRvSGlnaGxpZ2h0OiB0ZXh0VG9IaWdobGlnaHRcblx0ICB9KTtcblx0ICB2YXIgSGlnaGxpZ2h0VGFnID0gaGlnaGxpZ2h0VGFnO1xuXHQgIHZhciBoaWdobGlnaHRDb3VudCA9IC0xO1xuXHQgIHZhciBoaWdobGlnaHRDbGFzc05hbWVzID0gJyc7XG5cdCAgdmFyIGhpZ2hsaWdodFN0eWxlcyA9IHVuZGVmaW5lZDtcblx0XG5cdCAgdmFyIGxvd2VyY2FzZVByb3BzID0gZnVuY3Rpb24gbG93ZXJjYXNlUHJvcHMob2JqZWN0KSB7XG5cdCAgICB2YXIgbWFwcGVkID0ge307XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG5cdCAgICAgIG1hcHBlZFtrZXkudG9Mb3dlckNhc2UoKV0gPSBvYmplY3Rba2V5XTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBtYXBwZWQ7XG5cdCAgfTtcblx0ICB2YXIgbWVtb2l6ZWRMb3dlcmNhc2VQcm9wcyA9ICgwLCBfbWVtb2l6ZU9uZTJbJ2RlZmF1bHQnXSkobG93ZXJjYXNlUHJvcHMpO1xuXHRcblx0ICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAnc3BhbicsXG5cdCAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sXG5cdCAgICBjaHVua3MubWFwKGZ1bmN0aW9uIChjaHVuaywgaW5kZXgpIHtcblx0ICAgICAgdmFyIHRleHQgPSB0ZXh0VG9IaWdobGlnaHQuc3Vic3RyKGNodW5rLnN0YXJ0LCBjaHVuay5lbmQgLSBjaHVuay5zdGFydCk7XG5cdFxuXHQgICAgICBpZiAoY2h1bmsuaGlnaGxpZ2h0KSB7XG5cdCAgICAgICAgaGlnaGxpZ2h0Q291bnQrKztcblx0XG5cdCAgICAgICAgdmFyIGhpZ2hsaWdodENsYXNzID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIGlmICh0eXBlb2YgaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgaWYgKCFjYXNlU2Vuc2l0aXZlKSB7XG5cdCAgICAgICAgICAgIGhpZ2hsaWdodENsYXNzTmFtZSA9IG1lbW9pemVkTG93ZXJjYXNlUHJvcHMoaGlnaGxpZ2h0Q2xhc3NOYW1lKTtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3MgPSBoaWdobGlnaHRDbGFzc05hbWVbdGV4dC50b0xvd2VyQ2FzZSgpXTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGhpZ2hsaWdodENsYXNzID0gaGlnaGxpZ2h0Q2xhc3NOYW1lW3RleHRdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBoaWdobGlnaHRDbGFzcyA9IGhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBpc0FjdGl2ZSA9IGhpZ2hsaWdodENvdW50ID09PSArYWN0aXZlSW5kZXg7XG5cdFxuXHQgICAgICAgIGhpZ2hsaWdodENsYXNzTmFtZXMgPSBoaWdobGlnaHRDbGFzcyArICcgJyArIChpc0FjdGl2ZSA/IGFjdGl2ZUNsYXNzTmFtZSA6ICcnKTtcblx0ICAgICAgICBoaWdobGlnaHRTdHlsZXMgPSBpc0FjdGl2ZSA9PT0gdHJ1ZSAmJiBhY3RpdmVTdHlsZSAhPSBudWxsID8gT2JqZWN0LmFzc2lnbih7fSwgaGlnaGxpZ2h0U3R5bGUsIGFjdGl2ZVN0eWxlKSA6IGhpZ2hsaWdodFN0eWxlO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBIaWdobGlnaHRUYWcsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogaGlnaGxpZ2h0Q2xhc3NOYW1lcyxcblx0ICAgICAgICAgICAga2V5OiBpbmRleCxcblx0ICAgICAgICAgICAgc3R5bGU6IGhpZ2hsaWdodFN0eWxlc1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHRleHRcblx0ICAgICAgICApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiB1bmhpZ2hsaWdodENsYXNzTmFtZSxcblx0ICAgICAgICAgICAga2V5OiBpbmRleCxcblx0ICAgICAgICAgICAgc3R5bGU6IHVuaGlnaGxpZ2h0U3R5bGVcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICB0ZXh0XG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICApO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPVxuXHQvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG5cdC8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuXHQvKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cblx0LyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0LyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuXHQvKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdC8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG5cdC8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuXHQvKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG5cdC8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcblx0LyoqKioqKi8gXHRcdH07XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0LyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHQvKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHQvKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuXHQvKioqKioqLyBcdH1cblx0LyoqKioqKi9cblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuXHQvKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcblx0LyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG5cdC8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcblx0LyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblx0LyoqKioqKi8gfSlcblx0LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblx0LyoqKioqKi8gKFtcblx0LyogMCAqL1xuXHQvKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cdFxuXHRcdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdFxuXHQvKioqLyB9KSxcblx0LyogMSAqL1xuXHQvKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cdFxuXHRcdCd1c2Ugc3RyaWN0Jztcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHQgIHZhbHVlOiB0cnVlXG5cdFx0fSk7XG5cdFx0XG5cdFx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFx0XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjb21iaW5lQ2h1bmtzJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmNvbWJpbmVDaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaWxsSW5DaHVua3MnLCB7XG5cdFx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFx0ICAgIHJldHVybiBfdXRpbHMuZmlsbEluQ2h1bmtzO1xuXHRcdCAgfVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZmluZEFsbCcsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5maW5kQWxsO1xuXHRcdCAgfVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZmluZENodW5rcycsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5maW5kQ2h1bmtzO1xuXHRcdCAgfVxuXHRcdH0pO1xuXHRcblx0LyoqKi8gfSksXG5cdC8qIDIgKi9cblx0LyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXHRcblx0XHQndXNlIHN0cmljdCc7XG5cdFx0XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0ICB2YWx1ZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgY2h1bmsgb2JqZWN0cyByZXByZXNlbnRpbmcgYm90aCBoaWdsaWdodGFibGUgYW5kIG5vbiBoaWdobGlnaHRhYmxlIHBpZWNlcyBvZiB0ZXh0IHRoYXQgbWF0Y2ggZWFjaCBzZWFyY2ggd29yZC5cblx0XHQgKiBAcmV0dXJuIEFycmF5IG9mIFwiY2h1bmtzXCIgKHdoZXJlIGEgQ2h1bmsgaXMgeyBzdGFydDpudW1iZXIsIGVuZDpudW1iZXIsIGhpZ2hsaWdodDpib29sZWFuIH0pXG5cdFx0ICovXG5cdFx0dmFyIGZpbmRBbGwgPSBleHBvcnRzLmZpbmRBbGwgPSBmdW5jdGlvbiBmaW5kQWxsKF9yZWYpIHtcblx0XHQgIHZhciBhdXRvRXNjYXBlID0gX3JlZi5hdXRvRXNjYXBlLFxuXHRcdCAgICAgIF9yZWYkY2FzZVNlbnNpdGl2ZSA9IF9yZWYuY2FzZVNlbnNpdGl2ZSxcblx0XHQgICAgICBjYXNlU2Vuc2l0aXZlID0gX3JlZiRjYXNlU2Vuc2l0aXZlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkY2FzZVNlbnNpdGl2ZSxcblx0XHQgICAgICBfcmVmJGZpbmRDaHVua3MgPSBfcmVmLmZpbmRDaHVua3MsXG5cdFx0ICAgICAgZmluZENodW5rcyA9IF9yZWYkZmluZENodW5rcyA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEZpbmRDaHVua3MgOiBfcmVmJGZpbmRDaHVua3MsXG5cdFx0ICAgICAgc2FuaXRpemUgPSBfcmVmLnNhbml0aXplLFxuXHRcdCAgICAgIHNlYXJjaFdvcmRzID0gX3JlZi5zZWFyY2hXb3Jkcyxcblx0XHQgICAgICB0ZXh0VG9IaWdobGlnaHQgPSBfcmVmLnRleHRUb0hpZ2hsaWdodDtcblx0XHQgIHJldHVybiBmaWxsSW5DaHVua3Moe1xuXHRcdCAgICBjaHVua3NUb0hpZ2hsaWdodDogY29tYmluZUNodW5rcyh7XG5cdFx0ICAgICAgY2h1bmtzOiBmaW5kQ2h1bmtzKHtcblx0XHQgICAgICAgIGF1dG9Fc2NhcGU6IGF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgICBjYXNlU2Vuc2l0aXZlOiBjYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgICAgc2FuaXRpemU6IHNhbml0aXplLFxuXHRcdCAgICAgICAgc2VhcmNoV29yZHM6IHNlYXJjaFdvcmRzLFxuXHRcdCAgICAgICAgdGV4dFRvSGlnaGxpZ2h0OiB0ZXh0VG9IaWdobGlnaHRcblx0XHQgICAgICB9KVxuXHRcdCAgICB9KSxcblx0XHQgICAgdG90YWxMZW5ndGg6IHRleHRUb0hpZ2hsaWdodCA/IHRleHRUb0hpZ2hsaWdodC5sZW5ndGggOiAwXG5cdFx0ICB9KTtcblx0XHR9O1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIFRha2VzIGFuIGFycmF5IG9mIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9IG9iamVjdHMgYW5kIGNvbWJpbmVzIGNodW5rcyB0aGF0IG92ZXJsYXAgaW50byBzaW5nbGUgY2h1bmtzLlxuXHRcdCAqIEByZXR1cm4ge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqL1xuXHRcdHZhciBjb21iaW5lQ2h1bmtzID0gZXhwb3J0cy5jb21iaW5lQ2h1bmtzID0gZnVuY3Rpb24gY29tYmluZUNodW5rcyhfcmVmMikge1xuXHRcdCAgdmFyIGNodW5rcyA9IF9yZWYyLmNodW5rcztcblx0XHRcblx0XHQgIGNodW5rcyA9IGNodW5rcy5zb3J0KGZ1bmN0aW9uIChmaXJzdCwgc2Vjb25kKSB7XG5cdFx0ICAgIHJldHVybiBmaXJzdC5zdGFydCAtIHNlY29uZC5zdGFydDtcblx0XHQgIH0pLnJlZHVjZShmdW5jdGlvbiAocHJvY2Vzc2VkQ2h1bmtzLCBuZXh0Q2h1bmspIHtcblx0XHQgICAgLy8gRmlyc3QgY2h1bmsganVzdCBnb2VzIHN0cmFpZ2h0IGluIHRoZSBhcnJheS4uLlxuXHRcdCAgICBpZiAocHJvY2Vzc2VkQ2h1bmtzLmxlbmd0aCA9PT0gMCkge1xuXHRcdCAgICAgIHJldHVybiBbbmV4dENodW5rXTtcblx0XHQgICAgfSBlbHNlIHtcblx0XHQgICAgICAvLyAuLi4gc3Vic2VxdWVudCBjaHVua3MgZ2V0IGNoZWNrZWQgdG8gc2VlIGlmIHRoZXkgb3ZlcmxhcC4uLlxuXHRcdCAgICAgIHZhciBwcmV2Q2h1bmsgPSBwcm9jZXNzZWRDaHVua3MucG9wKCk7XG5cdFx0ICAgICAgaWYgKG5leHRDaHVuay5zdGFydCA8PSBwcmV2Q2h1bmsuZW5kKSB7XG5cdFx0ICAgICAgICAvLyBJdCBtYXkgYmUgdGhlIGNhc2UgdGhhdCBwcmV2Q2h1bmsgY29tcGxldGVseSBzdXJyb3VuZHMgbmV4dENodW5rLCBzbyB0YWtlIHRoZVxuXHRcdCAgICAgICAgLy8gbGFyZ2VzdCBvZiB0aGUgZW5kIGluZGVjZXMuXG5cdFx0ICAgICAgICB2YXIgZW5kSW5kZXggPSBNYXRoLm1heChwcmV2Q2h1bmsuZW5kLCBuZXh0Q2h1bmsuZW5kKTtcblx0XHQgICAgICAgIHByb2Nlc3NlZENodW5rcy5wdXNoKHsgc3RhcnQ6IHByZXZDaHVuay5zdGFydCwgZW5kOiBlbmRJbmRleCB9KTtcblx0XHQgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgcHJvY2Vzc2VkQ2h1bmtzLnB1c2gocHJldkNodW5rLCBuZXh0Q2h1bmspO1xuXHRcdCAgICAgIH1cblx0XHQgICAgICByZXR1cm4gcHJvY2Vzc2VkQ2h1bmtzO1xuXHRcdCAgICB9XG5cdFx0ICB9LCBbXSk7XG5cdFx0XG5cdFx0ICByZXR1cm4gY2h1bmtzO1xuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogRXhhbWluZSB0ZXh0IGZvciBhbnkgbWF0Y2hlcy5cblx0XHQgKiBJZiB3ZSBmaW5kIG1hdGNoZXMsIGFkZCB0aGVtIHRvIHRoZSByZXR1cm5lZCBhcnJheSBhcyBhIFwiY2h1bmtcIiBvYmplY3QgKHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9KS5cblx0XHQgKiBAcmV0dXJuIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9W11cblx0XHQgKi9cblx0XHR2YXIgZGVmYXVsdEZpbmRDaHVua3MgPSBmdW5jdGlvbiBkZWZhdWx0RmluZENodW5rcyhfcmVmMykge1xuXHRcdCAgdmFyIGF1dG9Fc2NhcGUgPSBfcmVmMy5hdXRvRXNjYXBlLFxuXHRcdCAgICAgIGNhc2VTZW5zaXRpdmUgPSBfcmVmMy5jYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIF9yZWYzJHNhbml0aXplID0gX3JlZjMuc2FuaXRpemUsXG5cdFx0ICAgICAgc2FuaXRpemUgPSBfcmVmMyRzYW5pdGl6ZSA9PT0gdW5kZWZpbmVkID8gaWRlbnRpdHkgOiBfcmVmMyRzYW5pdGl6ZSxcblx0XHQgICAgICBzZWFyY2hXb3JkcyA9IF9yZWYzLnNlYXJjaFdvcmRzLFxuXHRcdCAgICAgIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYzLnRleHRUb0hpZ2hsaWdodDtcblx0XHRcblx0XHQgIHRleHRUb0hpZ2hsaWdodCA9IHNhbml0aXplKHRleHRUb0hpZ2hsaWdodCk7XG5cdFx0XG5cdFx0ICByZXR1cm4gc2VhcmNoV29yZHMuZmlsdGVyKGZ1bmN0aW9uIChzZWFyY2hXb3JkKSB7XG5cdFx0ICAgIHJldHVybiBzZWFyY2hXb3JkO1xuXHRcdCAgfSkgLy8gUmVtb3ZlIGVtcHR5IHdvcmRzXG5cdFx0ICAucmVkdWNlKGZ1bmN0aW9uIChjaHVua3MsIHNlYXJjaFdvcmQpIHtcblx0XHQgICAgc2VhcmNoV29yZCA9IHNhbml0aXplKHNlYXJjaFdvcmQpO1xuXHRcdFxuXHRcdCAgICBpZiAoYXV0b0VzY2FwZSkge1xuXHRcdCAgICAgIHNlYXJjaFdvcmQgPSBlc2NhcGVSZWdFeHBGbihzZWFyY2hXb3JkKTtcblx0XHQgICAgfVxuXHRcdFxuXHRcdCAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHNlYXJjaFdvcmQsIGNhc2VTZW5zaXRpdmUgPyAnZycgOiAnZ2knKTtcblx0XHRcblx0XHQgICAgdmFyIG1hdGNoID0gdm9pZCAwO1xuXHRcdCAgICB3aGlsZSAobWF0Y2ggPSByZWdleC5leGVjKHRleHRUb0hpZ2hsaWdodCkpIHtcblx0XHQgICAgICB2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDtcblx0XHQgICAgICB2YXIgZW5kID0gcmVnZXgubGFzdEluZGV4O1xuXHRcdCAgICAgIC8vIFdlIGRvIG5vdCByZXR1cm4gemVyby1sZW5ndGggbWF0Y2hlc1xuXHRcdCAgICAgIGlmIChlbmQgPiBzdGFydCkge1xuXHRcdCAgICAgICAgY2h1bmtzLnB1c2goeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pO1xuXHRcdCAgICAgIH1cblx0XHRcblx0XHQgICAgICAvLyBQcmV2ZW50IGJyb3dzZXJzIGxpa2UgRmlyZWZveCBmcm9tIGdldHRpbmcgc3R1Y2sgaW4gYW4gaW5maW5pdGUgbG9vcFxuXHRcdCAgICAgIC8vIFNlZSBodHRwOi8vd3d3LnJlZ2V4Z3VydS5jb20vMjAwOC8wNC93YXRjaC1vdXQtZm9yLXplcm8tbGVuZ3RoLW1hdGNoZXMvXG5cdFx0ICAgICAgaWYgKG1hdGNoLmluZGV4ID09IHJlZ2V4Lmxhc3RJbmRleCkge1xuXHRcdCAgICAgICAgcmVnZXgubGFzdEluZGV4Kys7XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIHJldHVybiBjaHVua3M7XG5cdFx0ICB9LCBbXSk7XG5cdFx0fTtcblx0XHQvLyBBbGxvdyB0aGUgZmluZENodW5rcyB0byBiZSBvdmVycmlkZGVuIGluIGZpbmRBbGwsXG5cdFx0Ly8gYnV0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3ZSBleHBvcnQgYXMgdGhlIG9sZCBuYW1lXG5cdFx0ZXhwb3J0cy5maW5kQ2h1bmtzID0gZGVmYXVsdEZpbmRDaHVua3M7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogR2l2ZW4gYSBzZXQgb2YgY2h1bmtzIHRvIGhpZ2hsaWdodCwgY3JlYXRlIGFuIGFkZGl0aW9uYWwgc2V0IG9mIGNodW5rc1xuXHRcdCAqIHRvIHJlcHJlc2VudCB0aGUgYml0cyBvZiB0ZXh0IGJldHdlZW4gdGhlIGhpZ2hsaWdodGVkIHRleHQuXG5cdFx0ICogQHBhcmFtIGNodW5rc1RvSGlnaGxpZ2h0IHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9W11cblx0XHQgKiBAcGFyYW0gdG90YWxMZW5ndGggbnVtYmVyXG5cdFx0ICogQHJldHVybiB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyLCBoaWdobGlnaHQ6Ym9vbGVhbn1bXVxuXHRcdCAqL1xuXHRcdFxuXHRcdHZhciBmaWxsSW5DaHVua3MgPSBleHBvcnRzLmZpbGxJbkNodW5rcyA9IGZ1bmN0aW9uIGZpbGxJbkNodW5rcyhfcmVmNCkge1xuXHRcdCAgdmFyIGNodW5rc1RvSGlnaGxpZ2h0ID0gX3JlZjQuY2h1bmtzVG9IaWdobGlnaHQsXG5cdFx0ICAgICAgdG90YWxMZW5ndGggPSBfcmVmNC50b3RhbExlbmd0aDtcblx0XHRcblx0XHQgIHZhciBhbGxDaHVua3MgPSBbXTtcblx0XHQgIHZhciBhcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoc3RhcnQsIGVuZCwgaGlnaGxpZ2h0KSB7XG5cdFx0ICAgIGlmIChlbmQgLSBzdGFydCA+IDApIHtcblx0XHQgICAgICBhbGxDaHVua3MucHVzaCh7XG5cdFx0ICAgICAgICBzdGFydDogc3RhcnQsXG5cdFx0ICAgICAgICBlbmQ6IGVuZCxcblx0XHQgICAgICAgIGhpZ2hsaWdodDogaGlnaGxpZ2h0XG5cdFx0ICAgICAgfSk7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFx0XG5cdFx0ICBpZiAoY2h1bmtzVG9IaWdobGlnaHQubGVuZ3RoID09PSAwKSB7XG5cdFx0ICAgIGFwcGVuZCgwLCB0b3RhbExlbmd0aCwgZmFsc2UpO1xuXHRcdCAgfSBlbHNlIHtcblx0XHQgICAgdmFyIGxhc3RJbmRleCA9IDA7XG5cdFx0ICAgIGNodW5rc1RvSGlnaGxpZ2h0LmZvckVhY2goZnVuY3Rpb24gKGNodW5rKSB7XG5cdFx0ICAgICAgYXBwZW5kKGxhc3RJbmRleCwgY2h1bmsuc3RhcnQsIGZhbHNlKTtcblx0XHQgICAgICBhcHBlbmQoY2h1bmsuc3RhcnQsIGNodW5rLmVuZCwgdHJ1ZSk7XG5cdFx0ICAgICAgbGFzdEluZGV4ID0gY2h1bmsuZW5kO1xuXHRcdCAgICB9KTtcblx0XHQgICAgYXBwZW5kKGxhc3RJbmRleCwgdG90YWxMZW5ndGgsIGZhbHNlKTtcblx0XHQgIH1cblx0XHQgIHJldHVybiBhbGxDaHVua3M7XG5cdFx0fTtcblx0XHRcblx0XHRmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuXHRcdCAgcmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0XHRcblx0XHRmdW5jdGlvbiBlc2NhcGVSZWdFeHBGbihzdHIpIHtcblx0XHQgIHJldHVybiBzdHIucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csICdcXFxcJCYnKTtcblx0XHR9XG5cdFxuXHQvKioqLyB9KVxuXHQvKioqKioqLyBdKTtcblx0Ly8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG5cdCAgICBTeW1ib2wuZm9yICYmXG5cdCAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG5cdCAgICAweGVhYzc7XG5cdFxuXHQgIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG5cdCAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuXHQgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcblx0ICB9O1xuXHRcblx0ICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cblx0ICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG5cdCAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuXHQgIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG5cdH0gZWxzZSB7XG5cdCAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cblx0ICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSgpO1xuXHR9XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHR2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdFxuXHQvLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcblx0Ly8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG5cdC8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcblx0Ly8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblx0XG5cdHZhciBjYWNoZWRTZXRUaW1lb3V0O1xuXHR2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdGZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgIH1cblx0fSAoKSlcblx0ZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcblx0ICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcblx0ICAgICAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdH1cblx0ZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuXHQgICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG5cdCAgICAgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuXHQgICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHRcblx0fVxuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlKGxlbikge1xuXHQgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuXHQgICAgICAgIHF1ZXVlID0gW107XG5cdCAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHR9XG5cdFxuXHRwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcblx0ICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG5cdCAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblx0ZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG5cdCAgICB0aGlzLmZ1biA9IGZ1bjtcblx0ICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcblx0fTtcblx0cHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcblx0cHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcblx0cHJvY2Vzcy5lbnYgPSB7fTtcblx0cHJvY2Vzcy5hcmd2ID0gW107XG5cdHByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXHRwcm9jZXNzLnZlcnNpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHByb2Nlc3Mub24gPSBub29wO1xuXHRwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5vbmNlID0gbm9vcDtcblx0cHJvY2Vzcy5vZmYgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuXHRwcm9jZXNzLmVtaXQgPSBub29wO1xuXHRwcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cdFxuXHRwcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cdFxuXHRwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0dmFyIHdhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHR2YXIgYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0dmFyIGNoZWNrUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG5cdCAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuXHQgIHZhciBJVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcblx0ICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblx0XG5cdCAgLyoqXG5cdCAgICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuXHQgICAqXG5cdCAgICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG15SXRlcmFibGUpO1xuXHQgICAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuXHQgICAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcblx0ICAgKiAgICAgICAuLi5cblx0ICAgKiAgICAgfVxuXHQgICAqXG5cdCAgICogQHBhcmFtIHs/b2JqZWN0fSBtYXliZUl0ZXJhYmxlXG5cdCAgICogQHJldHVybiB7P2Z1bmN0aW9ufVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuXHQgICAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcblx0ICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICByZXR1cm4gaXRlcmF0b3JGbjtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyB0aGF0IGFsbG93IGRlY2xhcmF0aW9uIGFuZCB2YWxpZGF0aW9uIG9mIHByb3BzIHRoYXQgYXJlXG5cdCAgICogc3VwcGxpZWQgdG8gUmVhY3QgY29tcG9uZW50cy4gRXhhbXBsZSB1c2FnZTpcblx0ICAgKlxuXHQgICAqICAgdmFyIFByb3BzID0gcmVxdWlyZSgnUmVhY3RQcm9wVHlwZXMnKTtcblx0ICAgKiAgIHZhciBNeUFydGljbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdCAgICogICAgIHByb3BUeXBlczoge1xuXHQgICAqICAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBwcm9wIG5hbWVkIFwiZGVzY3JpcHRpb25cIi5cblx0ICAgKiAgICAgICBkZXNjcmlwdGlvbjogUHJvcHMuc3RyaW5nLFxuXHQgICAqXG5cdCAgICogICAgICAgLy8gQSByZXF1aXJlZCBlbnVtIHByb3AgbmFtZWQgXCJjYXRlZ29yeVwiLlxuXHQgICAqICAgICAgIGNhdGVnb3J5OiBQcm9wcy5vbmVPZihbJ05ld3MnLCdQaG90b3MnXSkuaXNSZXF1aXJlZCxcblx0ICAgKlxuXHQgICAqICAgICAgIC8vIEEgcHJvcCBuYW1lZCBcImRpYWxvZ1wiIHRoYXQgcmVxdWlyZXMgYW4gaW5zdGFuY2Ugb2YgRGlhbG9nLlxuXHQgICAqICAgICAgIGRpYWxvZzogUHJvcHMuaW5zdGFuY2VPZihEaWFsb2cpLmlzUmVxdWlyZWRcblx0ICAgKiAgICAgfSxcblx0ICAgKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHsgLi4uIH1cblx0ICAgKiAgIH0pO1xuXHQgICAqXG5cdCAgICogQSBtb3JlIGZvcm1hbCBzcGVjaWZpY2F0aW9uIG9mIGhvdyB0aGVzZSBtZXRob2RzIGFyZSB1c2VkOlxuXHQgICAqXG5cdCAgICogICB0eXBlIDo9IGFycmF5fGJvb2x8ZnVuY3xvYmplY3R8bnVtYmVyfHN0cmluZ3xvbmVPZihbLi4uXSl8aW5zdGFuY2VPZiguLi4pXG5cdCAgICogICBkZWNsIDo9IFJlYWN0UHJvcFR5cGVzLnt0eXBlfSguaXNSZXF1aXJlZCk/XG5cdCAgICpcblx0ICAgKiBFYWNoIGFuZCBldmVyeSBkZWNsYXJhdGlvbiBwcm9kdWNlcyBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgc2lnbmF0dXJlLiBUaGlzXG5cdCAgICogYWxsb3dzIHRoZSBjcmVhdGlvbiBvZiBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbnMuIEZvciBleGFtcGxlOlxuXHQgICAqXG5cdCAgICogIHZhciBNeUxpbmsgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdCAgICogICAgcHJvcFR5cGVzOiB7XG5cdCAgICogICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgb3IgVVJJIHByb3AgbmFtZWQgXCJocmVmXCIuXG5cdCAgICogICAgICBocmVmOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcblx0ICAgKiAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgKiAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wVmFsdWUgIT09ICdzdHJpbmcnICYmXG5cdCAgICogICAgICAgICAgICAhKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFVSSSkpIHtcblx0ICAgKiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFxuXHQgICAqICAgICAgICAgICAgJ0V4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIFVSSSBmb3IgJyArIHByb3BOYW1lICsgJyBpbiAnICtcblx0ICAgKiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcblx0ICAgKiAgICAgICAgICApO1xuXHQgICAqICAgICAgICB9XG5cdCAgICogICAgICB9XG5cdCAgICogICAgfSxcblx0ICAgKiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgey4uLn1cblx0ICAgKiAgfSk7XG5cdCAgICpcblx0ICAgKiBAaW50ZXJuYWxcblx0ICAgKi9cblx0XG5cdCAgdmFyIEFOT05ZTU9VUyA9ICc8PGFub255bW91cz4+Jztcblx0XG5cdCAgLy8gSW1wb3J0YW50IVxuXHQgIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzYC5cblx0ICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG5cdCAgICBhcnJheTogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2FycmF5JyksXG5cdCAgICBib29sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYm9vbGVhbicpLFxuXHQgICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG5cdCAgICBudW1iZXI6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdudW1iZXInKSxcblx0ICAgIG9iamVjdDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ29iamVjdCcpLFxuXHQgICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG5cdCAgICBzeW1ib2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzeW1ib2wnKSxcblx0XG5cdCAgICBhbnk6IGNyZWF0ZUFueVR5cGVDaGVja2VyKCksXG5cdCAgICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG5cdCAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcblx0ICAgIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXG5cdCAgICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuXHQgICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXG5cdCAgICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxuXHQgICAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuXHQgICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIsXG5cdCAgICBleGFjdDogY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcixcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG5cdCAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG5cdCAgICovXG5cdCAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXHQgIGZ1bmN0aW9uIGlzKHgsIHkpIHtcblx0ICAgIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cblx0ICAgIGlmICh4ID09PSB5KSB7XG5cdCAgICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuXHQgICAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuXHQgICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBTdGVwIDYuYTogTmFOID09IE5hTlxuXHQgICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuXHQgICAgfVxuXHQgIH1cblx0ICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cblx0XG5cdCAgLyoqXG5cdCAgICogV2UgdXNlIGFuIEVycm9yLWxpa2Ugb2JqZWN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFzIHBlb3BsZSBtYXkgY2FsbFxuXHQgICAqIFByb3BUeXBlcyBkaXJlY3RseSBhbmQgaW5zcGVjdCB0aGVpciBvdXRwdXQuIEhvd2V2ZXIsIHdlIGRvbid0IHVzZSByZWFsXG5cdCAgICogRXJyb3JzIGFueW1vcmUuIFdlIGRvbid0IGluc3BlY3QgdGhlaXIgc3RhY2sgYW55d2F5LCBhbmQgY3JlYXRpbmcgdGhlbVxuXHQgICAqIGlzIHByb2hpYml0aXZlbHkgZXhwZW5zaXZlIGlmIHRoZXkgYXJlIGNyZWF0ZWQgdG9vIG9mdGVuLCBzdWNoIGFzIHdoYXRcblx0ICAgKiBoYXBwZW5zIGluIG9uZU9mVHlwZSgpIGZvciBhbnkgdHlwZSBiZWZvcmUgdGhlIG9uZSB0aGF0IG1hdGNoZWQuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlKSB7XG5cdCAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHQgICAgdGhpcy5zdGFjayA9ICcnO1xuXHQgIH1cblx0ICAvLyBNYWtlIGBpbnN0YW5jZW9mIEVycm9yYCBzdGlsbCB3b3JrIGZvciByZXR1cm5lZCBlcnJvcnMuXG5cdCAgUHJvcFR5cGVFcnJvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICB2YXIgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGUgPSB7fTtcblx0ICAgICAgdmFyIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50ID0gMDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuXHQgICAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBBTk9OWU1PVVM7XG5cdCAgICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcblx0XG5cdCAgICAgIGlmIChzZWNyZXQgIT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG5cdCAgICAgICAgaWYgKHRocm93T25EaXJlY3RBY2Nlc3MpIHtcblx0ICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxuXHQgICAgICAgICAgaW52YXJpYW50KFxuXHQgICAgICAgICAgICBmYWxzZSxcblx0ICAgICAgICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuXHQgICAgICAgICAgICAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICtcblx0ICAgICAgICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgIC8vIE9sZCBiZWhhdmlvciBmb3IgcGVvcGxlIHVzaW5nIFJlYWN0LlByb3BUeXBlc1xuXHQgICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuXHQgICAgICAgICAgaWYgKFxuXHQgICAgICAgICAgICAhbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldICYmXG5cdCAgICAgICAgICAgIC8vIEF2b2lkIHNwYW1taW5nIHRoZSBjb25zb2xlIGJlY2F1c2UgdGhleSBhcmUgb2Z0ZW4gbm90IGFjdGlvbmFibGUgZXhjZXB0IGZvciBsaWIgYXV0aG9yc1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA8IDNcblx0ICAgICAgICAgICkge1xuXHQgICAgICAgICAgICB3YXJuaW5nKFxuXHQgICAgICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgICAgICdZb3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgYSBSZWFjdC5Qcm9wVHlwZXMgdmFsaWRhdGlvbiAnICtcblx0ICAgICAgICAgICAgICAnZnVuY3Rpb24gZm9yIHRoZSBgJXNgIHByb3Agb24gYCVzYC4gVGhpcyBpcyBkZXByZWNhdGVkICcgK1xuXHQgICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICAgICAgICAgJ1lvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8gYSB0aGlyZC1wYXJ0eSBQcm9wVHlwZXMgJyArXG5cdCAgICAgICAgICAgICAgJ2xpYnJhcnkuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmctZG9udC1jYWxsLXByb3B0eXBlcyAnICsgJ2ZvciBkZXRhaWxzLicsXG5cdCAgICAgICAgICAgICAgcHJvcEZ1bGxOYW1lLFxuXHQgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldID0gdHJ1ZTtcblx0ICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQrKztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG5cdCAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcblx0ICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgdW5kZWZpbmVkYC4nKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG5cdCAgICBjaGFpbmVkQ2hlY2tUeXBlLmlzUmVxdWlyZWQgPSBjaGVja1R5cGUuYmluZChudWxsLCB0cnVlKTtcblx0XG5cdCAgICByZXR1cm4gY2hhaW5lZENoZWNrVHlwZTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcblx0ICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcblx0ICAgICAgICAvLyBjaGVjaywgYnV0IHdlIGNhbiBvZmZlciBhIG1vcmUgcHJlY2lzZSBlcnJvciBtZXNzYWdlIGhlcmUgcmF0aGVyIHRoYW5cblx0ICAgICAgICAvLyAnb2YgdHlwZSBgb2JqZWN0YCcuXG5cdCAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBhcnJheS4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnWycgKyBpICsgJ10nLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuXHQgICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50LicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuXHQgICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG5cdCAgICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIGFjdHVhbENsYXNzTmFtZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnaW5zdGFuY2Ugb2YgYCcgKyBleHBlY3RlZENsYXNzTmFtZSArICdgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcblx0ICAgIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mLCBleHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBhcnJheS4nKSA6IHZvaWQgMDtcblx0ICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XG5cdCAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG5cdCAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdmFsdWUgYCcgKyBwcm9wVmFsdWUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgb25lIG9mICcgKyB2YWx1ZXNTdHJpbmcgKyAnLicpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wVmFsdWUpIHtcblx0ICAgICAgICBpZiAocHJvcFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0ICAgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5T2ZUeXBlQ2hlY2tlcnMpKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuXHQgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcblx0ICAgICAgaWYgKHR5cGVvZiBjaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgd2FybmluZyhcblx0ICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2ZUeXBlLiBFeHBlY3RlZCBhbiBhcnJheSBvZiBjaGVjayBmdW5jdGlvbnMsIGJ1dCAnICtcblx0ICAgICAgICAgICdyZWNlaXZlZCAlcyBhdCBpbmRleCAlcy4nLFxuXHQgICAgICAgICAgZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKGNoZWNrZXIpLFxuXHQgICAgICAgICAgaVxuXHQgICAgICAgICk7XG5cdCAgICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcblx0ICAgICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KSA9PSBudWxsKSB7XG5cdCAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIFJlYWN0Tm9kZS4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuXHQgICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuXHQgICAgICAgIGlmICghY2hlY2tlcikge1xuXHQgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGFsbCBrZXlzIGluIGNhc2Ugc29tZSBhcmUgcmVxdWlyZWQgYnV0IG1pc3NpbmcgZnJvbVxuXHQgICAgICAvLyBwcm9wcy5cblx0ICAgICAgdmFyIGFsbEtleXMgPSBhc3NpZ24oe30sIHByb3BzW3Byb3BOYW1lXSwgc2hhcGVUeXBlcyk7XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBhbGxLZXlzKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cdCAgICAgICAgaWYgKCFjaGVja2VyKSB7XG5cdCAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXG5cdCAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcblx0ICAgICAgICAgICAgJ1xcbkJhZCBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShwcm9wc1twcm9wTmFtZV0sIG51bGwsICcgICcpICtcblx0ICAgICAgICAgICAgJ1xcblZhbGlkIGtleXM6ICcgKyAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoc2hhcGVUeXBlcyksIG51bGwsICcgICcpXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgaWYgKGVycm9yKSB7XG5cdCAgICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG5cdCAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wVmFsdWUpIHtcblx0ICAgICAgY2FzZSAnbnVtYmVyJzpcblx0ICAgICAgY2FzZSAnc3RyaW5nJzpcblx0ICAgICAgY2FzZSAndW5kZWZpbmVkJzpcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgY2FzZSAnYm9vbGVhbic6XG5cdCAgICAgICAgcmV0dXJuICFwcm9wVmFsdWU7XG5cdCAgICAgIGNhc2UgJ29iamVjdCc6XG5cdCAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IGlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcblx0ICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuXHQgICAgICAgICAgdmFyIHN0ZXA7XG5cdCAgICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gcHJvcFZhbHVlLmVudHJpZXMpIHtcblx0ICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHQgICAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAvLyBJdGVyYXRvciB3aWxsIHByb3ZpZGUgZW50cnkgW2ssdl0gdHVwbGVzIHJhdGhlciB0aGFuIHZhbHVlcy5cblx0ICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHQgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG5cdCAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSB7XG5cdCAgICAvLyBOYXRpdmUgU3ltYm9sLlxuXHQgICAgaWYgKHByb3BUeXBlID09PSAnc3ltYm9sJykge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddID09PSAnU3ltYm9sJ1xuXHQgICAgaWYgKHByb3BWYWx1ZVsnQEB0b1N0cmluZ1RhZyddID09PSAnU3ltYm9sJykge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBGYWxsYmFjayBmb3Igbm9uLXNwZWMgY29tcGxpYW50IFN5bWJvbHMgd2hpY2ggYXJlIHBvbHlmaWxsZWQuXG5cdCAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wVmFsdWUgaW5zdGFuY2VvZiBTeW1ib2wpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgLy8gRXF1aXZhbGVudCBvZiBgdHlwZW9mYCBidXQgd2l0aCBzcGVjaWFsIGhhbmRsaW5nIGZvciBhcnJheSBhbmQgcmVnZXhwLlxuXHQgIGZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuXHQgICAgdmFyIHByb3BUeXBlID0gdHlwZW9mIHByb3BWYWx1ZTtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgcmV0dXJuICdhcnJheSc7XG5cdCAgICB9XG5cdCAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG5cdCAgICAgIC8vIE9sZCB3ZWJraXRzIChhdCBsZWFzdCB1bnRpbCBBbmRyb2lkIDQuMCkgcmV0dXJuICdmdW5jdGlvbicgcmF0aGVyIHRoYW5cblx0ICAgICAgLy8gJ29iamVjdCcgZm9yIHR5cGVvZiBhIFJlZ0V4cC4gV2UnbGwgbm9ybWFsaXplIHRoaXMgaGVyZSBzbyB0aGF0IC9ibGEvXG5cdCAgICAgIC8vIHBhc3NlcyBQcm9wVHlwZXMub2JqZWN0LlxuXHQgICAgICByZXR1cm4gJ29iamVjdCc7XG5cdCAgICB9XG5cdCAgICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcblx0ICAgICAgcmV0dXJuICdzeW1ib2wnO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHByb3BUeXBlO1xuXHQgIH1cblx0XG5cdCAgLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuXHQgIC8vIFNlZSBgY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXJgLlxuXHQgIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuXHQgICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BWYWx1ZSA9PT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gJycgKyBwcm9wVmFsdWU7XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuXHQgICAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuXHQgICAgICAgIHJldHVybiAnZGF0ZSc7XG5cdCAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG5cdCAgICAgICAgcmV0dXJuICdyZWdleHAnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcHJvcFR5cGU7XG5cdCAgfVxuXHRcblx0ICAvLyBSZXR1cm5zIGEgc3RyaW5nIHRoYXQgaXMgcG9zdGZpeGVkIHRvIGEgd2FybmluZyBhYm91dCBhbiBpbnZhbGlkIHR5cGUuXG5cdCAgLy8gRm9yIGV4YW1wbGUsIFwidW5kZWZpbmVkXCIgb3IgXCJvZiB0eXBlIGFycmF5XCJcblx0ICBmdW5jdGlvbiBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcodmFsdWUpIHtcblx0ICAgIHZhciB0eXBlID0gZ2V0UHJlY2lzZVR5cGUodmFsdWUpO1xuXHQgICAgc3dpdGNoICh0eXBlKSB7XG5cdCAgICAgIGNhc2UgJ2FycmF5Jzpcblx0ICAgICAgY2FzZSAnb2JqZWN0Jzpcblx0ICAgICAgICByZXR1cm4gJ2FuICcgKyB0eXBlO1xuXHQgICAgICBjYXNlICdib29sZWFuJzpcblx0ICAgICAgY2FzZSAnZGF0ZSc6XG5cdCAgICAgIGNhc2UgJ3JlZ2V4cCc6XG5cdCAgICAgICAgcmV0dXJuICdhICcgKyB0eXBlO1xuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJldHVybiB0eXBlO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gUmV0dXJucyBjbGFzcyBuYW1lIG9mIHRoZSBvYmplY3QsIGlmIGFueS5cblx0ICBmdW5jdGlvbiBnZXRDbGFzc05hbWUocHJvcFZhbHVlKSB7XG5cdCAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcblx0ICAgICAgcmV0dXJuIEFOT05ZTU9VUztcblx0ICAgIH1cblx0ICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcblx0ICB9XG5cdFxuXHQgIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gY2hlY2tQcm9wVHlwZXM7XG5cdCAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cdFxuXHQgIHJldHVybiBSZWFjdFByb3BUeXBlcztcblx0fTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHQvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqXG5cdCAqIFxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZykge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gYXJnO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuXHQgKiBwcmltYXJpbHkgdXNlZnVsIGlkaW9tYXRpY2FsbHkgZm9yIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGVuZHBvaW50cyB3aGljaFxuXHQgKiBhbHdheXMgbmVlZCB0byBiZSBjYWxsYWJsZSwgc2luY2UgSlMgbGFja3MgYSBudWxsLWNhbGwgaWRpb20gYWxhIENvY29hLlxuXHQgKi9cblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge307XG5cdFxuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWUgPSBtYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcblx0ICByZXR1cm4gYXJnO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBlbXB0eUZ1bmN0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICpcblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuXHQgKlxuXHQgKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuXHQgKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcblx0ICogZXhwZWN0aW5nLlxuXHQgKlxuXHQgKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuXHQgKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG5cdCAqL1xuXHRcblx0dmFyIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7fTtcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG5cdCAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblx0XG5cdCAgaWYgKCFjb25kaXRpb24pIHtcblx0ICAgIHZhciBlcnJvcjtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG5cdCAgICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdCAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG5cdCAgICAgIH0pKTtcblx0ICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcblx0ICAgIH1cblx0XG5cdCAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG5cdCAgICB0aHJvdyBlcnJvcjtcblx0ICB9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlbXB0eUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdC8qKlxuXHQgKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG5cdCAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcblx0ICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcblx0ICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG5cdCAqL1xuXHRcblx0dmFyIHdhcm5pbmcgPSBlbXB0eUZ1bmN0aW9uO1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGZvcm1hdCkge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdCAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG5cdCAgICB9KTtcblx0ICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cblx0ICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG5cdCAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdCAgICB9IGNhdGNoICh4KSB7fVxuXHQgIH07XG5cdFxuXHQgIHdhcm5pbmcgPSBmdW5jdGlvbiB3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZm9ybWF0LmluZGV4T2YoJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICcpID09PSAwKSB7XG5cdCAgICAgIHJldHVybjsgLy8gSWdub3JlIENvbXBvc2l0ZUNvbXBvbmVudCBwcm9wdHlwZSBjaGVjay5cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWNvbmRpdGlvbikge1xuXHQgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHdhcm5pbmc7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qXG5cdG9iamVjdC1hc3NpZ25cblx0KGMpIFNpbmRyZSBTb3JodXNcblx0QGxpY2Vuc2UgTUlUXG5cdCovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cdHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXHR2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXHR2YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cdFxuXHRmdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0XHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIE9iamVjdCh2YWwpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXHRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdFx0dmFyIHRlc3QyID0ge307XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0XHR9KTtcblx0XHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdFx0dmFyIGZyb207XG5cdFx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0XHR2YXIgc3ltYm9scztcblx0XG5cdFx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblx0XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHRvO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFyIGludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdCAgdmFyIHdhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHQgIHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHQgIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEFzc2VydCB0aGF0IHRoZSB2YWx1ZXMgbWF0Y2ggd2l0aCB0aGUgdHlwZSBzcGVjcy5cblx0ICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSB0eXBlU3BlY3MgTWFwIG9mIG5hbWUgdG8gYSBSZWFjdFByb3BUeXBlXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb24gZS5nLiBcInByb3BcIiwgXCJjb250ZXh0XCIsIFwiY2hpbGQgY29udGV4dFwiXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudCBmb3IgZXJyb3IgbWVzc2FnZXMuXG5cdCAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcblx0ICAgICAgaWYgKHR5cGVTcGVjcy5oYXNPd25Qcm9wZXJ0eSh0eXBlU3BlY05hbWUpKSB7XG5cdCAgICAgICAgdmFyIGVycm9yO1xuXHQgICAgICAgIC8vIFByb3AgdHlwZSB2YWxpZGF0aW9uIG1heSB0aHJvdy4gSW4gY2FzZSB0aGV5IGRvLCB3ZSBkb24ndCB3YW50IHRvXG5cdCAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuXHQgICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG5cdCAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG5cdCAgICAgICAgICBpbnZhcmlhbnQodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdID09PSAnZnVuY3Rpb24nLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSAnICsgJ3RoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAlc2AuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBsb2NhdGlvbiwgdHlwZVNwZWNOYW1lLCB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0pO1xuXHQgICAgICAgICAgZXJyb3IgPSB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSh2YWx1ZXMsIHR5cGVTcGVjTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICB9IGNhdGNoIChleCkge1xuXHQgICAgICAgICAgZXJyb3IgPSBleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgd2FybmluZyghZXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciwgJyVzOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJXMgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIGVycm9yKTtcblx0ICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuXHQgICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG5cdCAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuXHQgICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblx0XG5cdCAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkICVzIHR5cGU6ICVzJXMnLCBsb2NhdGlvbiwgZXJyb3IubWVzc2FnZSwgc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJycpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBpbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuXHQgICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcblx0ICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpbnZhcmlhbnQoXG5cdCAgICAgIGZhbHNlLFxuXHQgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcblx0ICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG5cdCAgICApO1xuXHQgIH07XG5cdCAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcblx0ICBmdW5jdGlvbiBnZXRTaGltKCkge1xuXHQgICAgcmV0dXJuIHNoaW07XG5cdCAgfTtcblx0ICAvLyBJbXBvcnRhbnQhXG5cdCAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG5cdCAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuXHQgICAgYXJyYXk6IHNoaW0sXG5cdCAgICBib29sOiBzaGltLFxuXHQgICAgZnVuYzogc2hpbSxcblx0ICAgIG51bWJlcjogc2hpbSxcblx0ICAgIG9iamVjdDogc2hpbSxcblx0ICAgIHN0cmluZzogc2hpbSxcblx0ICAgIHN5bWJvbDogc2hpbSxcblx0XG5cdCAgICBhbnk6IHNoaW0sXG5cdCAgICBhcnJheU9mOiBnZXRTaGltLFxuXHQgICAgZWxlbWVudDogc2hpbSxcblx0ICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG5cdCAgICBub2RlOiBzaGltLFxuXHQgICAgb2JqZWN0T2Y6IGdldFNoaW0sXG5cdCAgICBvbmVPZjogZ2V0U2hpbSxcblx0ICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcblx0ICAgIHNoYXBlOiBnZXRTaGltLFxuXHQgICAgZXhhY3Q6IGdldFNoaW1cblx0ICB9O1xuXHRcblx0ICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247XG5cdCAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cdFxuXHQgIHJldHVybiBSZWFjdFByb3BUeXBlcztcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHNpbXBsZUlzRXF1YWwgPSBmdW5jdGlvbiBzaW1wbGVJc0VxdWFsKGEsIGIpIHtcblx0ICByZXR1cm4gYSA9PT0gYjtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGluZGV4IChyZXN1bHRGbikge1xuXHQgIHZhciBpc0VxdWFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBzaW1wbGVJc0VxdWFsO1xuXHRcblx0ICB2YXIgbGFzdFRoaXMgPSB2b2lkIDA7XG5cdCAgdmFyIGxhc3RBcmdzID0gW107XG5cdCAgdmFyIGxhc3RSZXN1bHQgPSB2b2lkIDA7XG5cdCAgdmFyIGNhbGxlZE9uY2UgPSBmYWxzZTtcblx0XG5cdCAgdmFyIGlzTmV3QXJnRXF1YWxUb0xhc3QgPSBmdW5jdGlvbiBpc05ld0FyZ0VxdWFsVG9MYXN0KG5ld0FyZywgaW5kZXgpIHtcblx0ICAgIHJldHVybiBpc0VxdWFsKG5ld0FyZywgbGFzdEFyZ3NbaW5kZXhdKTtcblx0ICB9O1xuXHRcblx0ICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24gcmVzdWx0KCkge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG5ld0FyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgbmV3QXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY2FsbGVkT25jZSAmJiBsYXN0VGhpcyA9PT0gdGhpcyAmJiBuZXdBcmdzLmxlbmd0aCA9PT0gbGFzdEFyZ3MubGVuZ3RoICYmIG5ld0FyZ3MuZXZlcnkoaXNOZXdBcmdFcXVhbFRvTGFzdCkpIHtcblx0ICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgY2FsbGVkT25jZSA9IHRydWU7XG5cdCAgICBsYXN0VGhpcyA9IHRoaXM7XG5cdCAgICBsYXN0QXJncyA9IG5ld0FyZ3M7XG5cdCAgICBsYXN0UmVzdWx0ID0gcmVzdWx0Rm4uYXBwbHkodGhpcywgbmV3QXJncyk7XG5cdCAgICByZXR1cm4gbGFzdFJlc3VsdDtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGluZGV4O1xuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1haW4uanMubWFwXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTE2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsLCBwcm9jZXNzKSB7Ly8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTE3KTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTE4KTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKSwgX193ZWJwYWNrX3JlcXVpcmVfXyg5MSkpKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExNzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCIzMTdkZjBiNzE5NDRiMjAwY2IwYTIzMjllN2FlYmMwYi5naWZcIjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMjA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXAgPSBleHBvcnRzLmNyZWF0ZUluaXRpYWxOb25BY3Rpb25TdW1tYXJ5Tm90ZXMgPSBleHBvcnRzLmFwcGVuZElkc1RvU3VtbWFyeSA9IGV4cG9ydHMuY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXAgPSBleHBvcnRzLmdlbmVyYXRlTm90ZXNBc1N0cmluZyA9IHVuZGVmaW5lZDtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxudmFyIGdlbmVyYXRlTm90ZXNBc1N0cmluZyA9IGV4cG9ydHMuZ2VuZXJhdGVOb3Rlc0FzU3RyaW5nID0gZnVuY3Rpb24gZ2VuZXJhdGVOb3Rlc0FzU3RyaW5nKG5vdGVzKSB7XG4gICAgdmFyIG5vdGVzU3RyaW5nID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5vdGVzU3RyaW5nICs9IGkgPT09IG5vdGVzLmxlbmd0aCAtIDEgPyBub3Rlc1tpXS50cmltKCkgOiBub3Rlc1tpXS50cmltKCkgKyAnL24nO1xuICAgIH1cblxuICAgIHJldHVybiBub3Rlc1N0cmluZztcbn07XG5cbnZhciBjcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcCA9IGV4cG9ydHMuY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXAgPSBmdW5jdGlvbiBjcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcChzdW1tYXJ5KSB7XG4gICAgdmFyIG1hcCA9IG5ldyBNYXAoKTtcblxuICAgIHN1bW1hcnkgJiYgc3VtbWFyeS5tYXAoZnVuY3Rpb24gKHN1bW1hcnkpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaGVscGVyLmlzQWN0aW9uSW50ZW50KShzdW1tYXJ5LmludGVudCkgJiYgbWFwLnNldChzdW1tYXJ5LmlkLCBmYWxzZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWFwO1xufTtcblxudmFyIGFwcGVuZElkc1RvU3VtbWFyeSA9IGV4cG9ydHMuYXBwZW5kSWRzVG9TdW1tYXJ5ID0gZnVuY3Rpb24gYXBwZW5kSWRzVG9TdW1tYXJ5KHN1bW1hcnkpIHtcbiAgICAvL2FwcGVuZCBpZHMgdG8gc3VtbWFyeVxuICAgIGlmIChzdW1tYXJ5KSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gc3VtbWFyeSkge1xuICAgICAgICAgICAgc3VtbWFyeVtpXVsnaWQnXSA9IGkgKyAxO1xuICAgICAgICAgICAgc3VtbWFyeVtpXVsnc2F2ZSddID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3VtbWFyeTtcbn07XG5cbnZhciBjcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzID0gZXhwb3J0cy5jcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzID0gZnVuY3Rpb24gY3JlYXRlSW5pdGlhbE5vbkFjdGlvblN1bW1hcnlOb3RlcyhzdW1tYXJ5KSB7XG4gICAgdmFyIHZvaWNlbWFpbE1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gICAgdmFyIGluaXRpYWxOb3Rlc1N0cmluZyA9ICcnO1xuXG4gICAgaWYgKHZvaWNlbWFpbE1lc3NhZ2UpIHtcbiAgICAgICAgaW5pdGlhbE5vdGVzU3RyaW5nICs9IHZvaWNlbWFpbE1lc3NhZ2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSBpbiBzdW1tYXJ5KSB7XG4gICAgICAgIGlmICgoMCwgX2hlbHBlci5pc0FjdGlvbkludGVudCkoc3VtbWFyeVtpXS5pbnRlbnQpKSB7XG4gICAgICAgICAgICBpbml0aWFsTm90ZXNTdHJpbmcgKz0gc3VtbWFyeVtpXS5zdW1tYXJ5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluaXRpYWxOb3Rlc1N0cmluZztcbn07XG5cbi8vY2hlY2tzIGlmIHRoZSBtYXAgY29udGFpbnMgYW55IGZhbHNlIHZhbHVlXG4vL3JldHVybiB0cnVlIGlmIGl0IGRvZXNcbnZhciBjaGVja1N1bW1hcnlDb21wbGV0ZU1hcCA9IGV4cG9ydHMuY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXAgPSBmdW5jdGlvbiBjaGVja1N1bW1hcnlDb21wbGV0ZU1hcChzdW1tYXJ5Q29tcGxldGlvbk1hcCkge1xuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuXG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHN1bW1hcnlDb21wbGV0aW9uTWFwLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodmFsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEyMTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jb21tb25TZXJ2aWNlID0gdW5kZWZpbmVkO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX25ldHdvcmtVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE3KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy9jb21tZW50IG91dCBmb2xsb3dpbmcgYmVmb3JlIHB1c2ggdG8gZ2l0XG4vLyBjb25zdCBCQVNFX0VORFBPSU5UID0gJy9jb21tb24nO1xuXG4vL2ZvciBsb2NhbGhvc3QsIGNvbW1lbnQgZm9sbG93aW5nIGJlZm9yZSBwdXNoIHRvIGdpdFxudmFyIEJBU0VfRU5EUE9JTlQgPSAnJztcblxudmFyIERJU1BVVEVfRU5EUE9JTlQgPSAnL2Rpc3B1dGVjb2Rlcyc7XG52YXIgRk9MTE9XX1VQX0VORFBPSU5UID0gJy90YXNrdHlwZXMnO1xuXG52YXIgZ2V0RGlzcHV0ZUNvZGVzID0gZnVuY3Rpb24gZ2V0RGlzcHV0ZUNvZGVzKCkge1xuICAgIHJldHVybiBfYXhpb3MyLmRlZmF1bHQuZ2V0KCcnICsgX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyBCQVNFX0VORFBPSU5UICsgRElTUFVURV9FTkRQT0lOVCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfbmV0d29ya1V0aWxzLmhhbmRsZUFwaVJlc3BvbnNlKShyZXNwb25zZSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAoMCwgX25ldHdvcmtVdGlscy5oYW5kbGVBcGlSZXNwb25zZSkoZXJyb3IpO1xuICAgIH0pO1xufTtcblxudmFyIGdldFRhc2tUeXBlcyA9IGZ1bmN0aW9uIGdldFRhc2tUeXBlcygpIHtcbiAgICByZXR1cm4gX2F4aW9zMi5kZWZhdWx0LmdldCgnJyArIF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgQkFTRV9FTkRQT0lOVCArIEZPTExPV19VUF9FTkRQT0lOVCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfbmV0d29ya1V0aWxzLmhhbmRsZUFwaVJlc3BvbnNlKShyZXNwb25zZSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAoMCwgX25ldHdvcmtVdGlscy5oYW5kbGVBcGlSZXNwb25zZSkoZXJyb3IpO1xuICAgIH0pO1xufTtcblxudmFyIGNvbW1vblNlcnZpY2UgPSBleHBvcnRzLmNvbW1vblNlcnZpY2UgPSB7IGdldERpc3B1dGVDb2RlczogZ2V0RGlzcHV0ZUNvZGVzLCBnZXRUYXNrVHlwZXM6IGdldFRhc2tUeXBlcyB9O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEyMjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9UYWJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXG52YXIgX1RhYnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFicyk7XG5cbnZhciBfVGFiID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzYpO1xuXG52YXIgX1RhYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWIpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0R1ZURldGFpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4MSk7XG5cbnZhciBfRHVlRGV0YWlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0R1ZURldGFpbCk7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmN1bGFyUHJvZ3Jlc3MpO1xuXG52YXIgX0ludm9pY2VUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4Mik7XG5cbnZhciBfSW52b2ljZVRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludm9pY2VUYWJsZSk7XG5cbnZhciBfZm9ybWF0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gVGFiQ29udGFpbmVyKHByb3BzLCB0aGVtZSkge1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgIHsgY29tcG9uZW50OiAnZGl2Jywgc3R5bGU6IHsgcGFkZGluZ1RvcDogXCIxLjg1dmhcIiB9IH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX2NvcmUuUGFwZXIsXG4gICAgICAgICAgICB7IGVsZXZhdGlvbjogMSwgc3R5bGU6IHsgb3ZlcmZsb3dZOiBcImF1dG9cIiwgaGVpZ2h0OiBcIjc4LjV2aFwiLCBib3JkZXJSYWRpdXM6IFwiNHB4XCIsIGJveFNoYWRvdzogXCJub25lXCIsIGJhY2tncm91bmQ6IHByb3BzLnRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbiB9IH0sXG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlblxuICAgICAgICApXG4gICAgKTtcbn1cblxuVGFiQ29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLmlzUmVxdWlyZWRcbn07XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgICAvLyAgd2lkdGg6IFwiNjEuNDg5dndcIlxuICAgICAgICB9LFxuICAgICAgICBwcm9ncmVzczoge1xuICAgICAgICAgICAgbWFyZ2luOiBcIjdyZW0gMCAwIDIwcmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2Nyb2xsQnV0dG9uczoge1xuICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgIGZsZXg6IFwiMCAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgaW5kaWNhdG9yOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiMnB4XCIsXG4gICAgICAgICAgICB0b3A6IFwiNS43dmggIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHRhYlNlbGVjdGVkOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgdGFiUm9vdDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDUuNjY2dmggKyA1LjY2NnZ3KVwiLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjYuM3ZoXCIsXG4gICAgICAgICAgICBtYXhIZWlnaHQ6IFwiNi4zdmhcIlxuICAgICAgICB9LFxuICAgICAgICB0YWJXcmFwcGVyOiB7XG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiLjR2d1wiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYyg1LjY2NnZoICsgNS42NjZ2dylcIlxuICAgICAgICB9LFxuICAgICAgICB0YWJzRmxleENvbnRhaW5lcjoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjYuM3ZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGFic1Jvb3Q6IHtcbiAgICAgICAgICAgIG1pbkhlaWdodDogXCI2LjN2aFwiLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjYuM3ZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGFic1Njcm9sbGVyOiB7XG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiLTEwdmggIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIGludm9pY2VDb3VudFRleHQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi44cmVtXCIsXG4gICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGJ1Y2tldE5hbWVzOiBbXSxcbiAgICBpbnZvaWNlczogW11cbn07XG5cbnZhciBJbkNhbGxEZXRhaWxzID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoSW5DYWxsRGV0YWlscywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBJbkNhbGxEZXRhaWxzKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbkNhbGxEZXRhaWxzKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW5DYWxsRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEluQ2FsbERldGFpbHMpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuZmlsdGVySW52b2ljZXMgPSBmdW5jdGlvbiAoaW52b2ljZVR5cGUpIHtcbiAgICAgICAgICAgIGlmIChpbnZvaWNlVHlwZSA9PSBcIkFsbFwiKSBfdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBfdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcyB9KTtlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaW52b2ljZXMgPSBfdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRJbnZvaWNlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBBcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGludm9pY2VzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJEaXNwdXRlXCIgJiYgaW52b2ljZXNbaV1bal0uZGlzcHV0ZVN0YXR1cyAhPSBudWxsKSB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSk7ZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJQcmVkaWN0ZWQgRGVsaW5xdWVudFwiICYmIGludm9pY2VzW2ldW2pdLnAycERlbGlucXVlbnQgPT0gdHJ1ZSkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO2Vsc2UgaWYgKGludm9pY2VUeXBlID09IFwiVXBjb21pbmcgUDJQXCIgJiYgaW52b2ljZXNbaV1bal0ucDJwVXBjb21pbmcgPT0gdHJ1ZSkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO2Vsc2UgaWYgKGludm9pY2VUeXBlID09IFwiQnJva2VuIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycEJyb2tlbiA9PSB0cnVlKSB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRJbnZvaWNlcy5wdXNoKHRlbXBBcnJheSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IGZpbHRlcmVkSW52b2ljZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGRheXMgPSBfdGhpcy5wcm9wcy5idWNrZXROYW1lcy5yZXZlcnNlKCk7XG4gICAgICAgIGRheXMudW5zaGlmdChcIkN1cnJlbnQgRHVlXCIpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGRheXM6IGRheXNcbiAgICAgICAgICAgIC8vIGFsbEludm9pY2VzOiB0aGlzLnByb3BzLmludm9pY2VzLFxuXG4gICAgICAgICAgICAvLyBmaWx0ZXJJbnZvaWNlcyA9IGZpbHRlckludm9pY2VzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIC8vIGxldCB1cmwgPSBgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlc2BcbiAgICAgICAgICAgIC8vIGF4aW9zLmdldCh1cmwpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogcmVzcG9uc2UuZGF0YSB9KVxuICAgICAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBhbGxJbnZvaWNlczogcmVzcG9uc2UuZGF0YSB9KVxuICAgICAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgICAgICAgLy8gfSlcblxuXG4gICAgICAgIH07cmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8vRmlsdGVyIGludm9pY2UgYmFzZWQgb24gYnVja2V0XG5cblxuICAgIF9jcmVhdGVDbGFzcyhJbkNhbGxEZXRhaWxzLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuXG5cbiAgICAgICAgLy8gY2hlY2sgaWYgcHJpbWFyeSBlbWFpbCBJRCBpcyBwcmVzZW50IGluIGN1c3RvbWVyIGNvbnRhY3RzLlxuICAgICAgICAvLyBjaGVja0VtYWlsSUQgPSAoKSA9PiB7XG5cbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnByb3BzLmN1c3RvbWVyID09IHVuZGVmaW5lZCB8fCB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbaV0ucHJpbWFyeSA9PT0gdHJ1ZSAmJiB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2ldLmVtYWlsKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vICAgICB9XG5cbiAgICAgICAgLy8gfTtcblxuICAgICAgICAvLyAgZmluZFR5cGUgPSAoaW52b2ljZSkgPT4ge1xuICAgICAgICAvLyAgICAgICAgc3dpdGNoKGludm9pY2UpXG4gICAgICAgIC8vICAgICAgICB7XG4gICAgICAgIC8vICAgICAgICAgICAgY2FzZSBpbnZvaWNlLnAycERlbGlucXVlbnQgPT0gdHJ1ZSA6XG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIlByZWRpY3RlZCBEZWxpbnFtZW50XCJcbiAgICAgICAgLy8gICAgICAgICAgICBjYXNlIGludm9pY2UucDJwVXBjb21pbmcgPT0gdHJ1ZSA6XG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIlVwY29taW5nIFAyUFwiXG4gICAgICAgIC8vICAgICAgICAgICAgIGNhc2UgaW52b2ljZS5wMnBCcm9rZW4gPT0gdHJ1ZSA6XG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIkJyb2tlbiBQMlBcIlxuICAgICAgICAvLyAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gXCJEaXNwdXRlXCJcbiAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgLy8gIH1cbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXG4gICAgICAgICAgICAvLyBkYXlzID0gZGF5cy51bnNoaWZ0KFwiQ3VycmUgICBudCBEdWVcIilcblxuICAgICAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IFtdO1xuICAgICAgICAgICAgdmFyIGludm9pY2VUb3RhbEFtb3VudCA9IFtdO1xuICAgICAgICAgICAgdmFyIHRvdGFsSW52b2ljZUNvdW50ID0gMDtcbiAgICAgICAgICAgIHZhciB3aG9sZUFtb3VudCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUuZGF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGludm9pY2VUb3RhbEFtb3VudC5wdXNoKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW52b2ljZUNvdW50LnB1c2godGhpcy5zdGF0ZS5pbnZvaWNlc1tpXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZhciBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5zdGF0ZS5pbnZvaWNlc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBzdW0gPSBzdW0gKyB0aGlzLnN0YXRlLmludm9pY2VzW2ldW2pdLmN1cnJlbnRPcGVuQW1vdW50O1xuICAgICAgICAgICAgICAgICAgICB0b3RhbEludm9pY2VDb3VudCA9IHRvdGFsSW52b2ljZUNvdW50ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgd2hvbGVBbW91bnQgPSB3aG9sZUFtb3VudCArIHRoaXMuc3RhdGUuaW52b2ljZXNbaV1bal0uY3VycmVudE9wZW5BbW91bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGludm9pY2VUb3RhbEFtb3VudFtpXSA9IHN1bTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnJvb3QgfSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmxvYWRpbmcgPT09IGZhbHNlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfVGFiczIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IHZhbHVlLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yQ29sb3I6ICdwcmltYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiAnc2Nyb2xsYWJsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgc2Nyb2xsQnV0dG9uczogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgc2Nyb2xsQnV0dG9uczogY2xhc3Nlcy5zY3JvbGxCdXR0b25zLCBmbGV4Q29udGFpbmVyOiBjbGFzc2VzLnRhYnNGbGV4Q29udGFpbmVyLCByb290OiBjbGFzc2VzLnRhYnNSb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlcjogY2xhc3Nlcy50YWJzU2Nyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhYkluZGljYXRvclByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pbmRpY2F0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RhYjIuZGVmYXVsdCwgeyBjbGFzc2VzOiB7IHNlbGVjdGVkOiBjbGFzc2VzLnRhYlNlbGVjdGVkLCByb290OiBjbGFzc2VzLnRhYlJvb3QsIHdyYXBwZXI6IGNsYXNzZXMudGFiV3JhcHBlciB9LCBpY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUNvdW50VGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxJbnZvaWNlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICgkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikod2hvbGVBbW91bnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250U2l6ZTogXCIuOHJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBbGwgSW52b2ljZXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXlzLm1hcChmdW5jdGlvbiAoZGF5LCBpZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UYWIyLmRlZmF1bHQsIHsgY2xhc3NlczogeyBzZWxlY3RlZDogY2xhc3Nlcy50YWJTZWxlY3RlZCwgcm9vdDogY2xhc3Nlcy50YWJSb290IH0sIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmludm9pY2VDb3VudFRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnRbaWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgKCQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikoaW52b2ljZVRvdGFsQW1vdW50W2lkXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiLjhyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhYkNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhlbWU6IHRoZW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRHVlRGV0YWlsMi5kZWZhdWx0LCB7IGVtYWlsT2ZDYWxsZWQ6IHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCwgY29sbGVjdG9yOiB0aGlzLnByb3BzLmNvbGxlY3RvciwgY3VzdG9tZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIsIGZpbHRlckludm9pY2VzOiB0aGlzLmZpbHRlckludm9pY2VzLCBidWNrZXROYW1lczogdGhpcy5zdGF0ZS5kYXlzLCBpbnZvaWNlczogdGhpcy5zdGF0ZS5pbnZvaWNlcyB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzLm1hcChmdW5jdGlvbiAoYnVja2V0SW52b2ljZXMsIGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGlkICsgMSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWJDb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGVtZTogdGhlbWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5jb250YWluZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW52b2ljZVRhYmxlMi5kZWZhdWx0LCB7IGVtYWlsT2ZDYWxsZWQ6IF90aGlzMi5wcm9wcy5lbWFpbE9mQ2FsbGVkLCBjb2xsZWN0b3I6IF90aGlzMi5wcm9wcy5jb2xsZWN0b3IsIGN1c3RvbWVyOiBfdGhpczIucHJvcHMuY3VzdG9tZXIsIGZpbHRlckludm9pY2VzOiBfdGhpczIuZmlsdGVySW52b2ljZXMsIGluZGl2aWR1YWw6IHRydWUsIGRheXM6IF90aGlzMi5zdGF0ZS5kYXlzW2lkXSwgaW52b2ljZXM6IGJ1Y2tldEludm9pY2VzIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5sb2FkaW5nICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfVGFiczIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JDb2xvcjogJ3ByaW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogJ3ByaW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdzY3JvbGxhYmxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxCdXR0b25zOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBzY3JvbGxCdXR0b25zOiBjbGFzc2VzLnNjcm9sbEJ1dHRvbnMgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UYWIyLmRlZmF1bHQsIHsgc3R5bGU6IHsgY29sb3I6IFwid2hpdGVcIiB9LCBsYWJlbDogJ0FsbCBJbnZvaWNlJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZGF5cy5tYXAoZnVuY3Rpb24gKGRheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGFiMi5kZWZhdWx0LCB7IHN0eWxlOiB7IGNvbG9yOiBcIndoaXRlXCIgfSwgbGFiZWw6IGRheSArIFwiZGF5cyBwYXN0IGR1ZVwiIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5QYXBlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgaGVpZ2h0OiBcIjI0cmVtXCIsIG1hcmdpblRvcDogXCIycmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NpcmN1bGFyUHJvZ3Jlc3MyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnByb2dyZXNzLCBzaXplOiAxMDAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSW5DYWxsRGV0YWlscztcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkluQ2FsbERldGFpbHMucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbkluQ2FsbERldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEluQ2FsbERldGFpbHMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEyMzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1BvcG92ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcblxudmFyIF9Qb3BvdmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvcG92ZXIpO1xuXG52YXIgX2NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaXJjdWxhclByb2dyZXNzKTtcblxudmFyIF9hY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cbnZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXG52YXIgX3NpcFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXG52YXIgX1NuYWNrYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjgpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxudmFyIF9DbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXG52YXIgX0Nsb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlKTtcblxudmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblxudmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxudmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgdmFyIF92b2ljZW1haWxCb3g7XG5cbiAgcmV0dXJuIHtcbiAgICBBcHA6IHtcbiAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIlxuICAgIH0sXG4gICAgcG9wT3Zlcjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsXG4gICAgICB3aWR0aDogXCIyMGVtXCJcbiAgICB9LFxuICAgIGhlYWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLFxuICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICBvcGFjaXR5OiAwLjY1XG4gICAgfSxcbiAgICBpY29uOiBfZGVmaW5lUHJvcGVydHkoe1xuICAgICAgaGVpZ2h0OiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcbiAgICAgIG1pbldpZHRoOiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCJcbiAgICB9LCAndGV4dEFsaWduJywgXCJjZW50ZXJcIiksXG4gICAgdm9pY2VNYWlsSWNvbjoge1xuICAgICAgYmFja2dyb3VuZDogXCIjNURBQUUwXCIsXG4gICAgICBwYWRkaW5nOiBcIjFweFwiXG4gICAgfSxcbiAgICB2b2ljZW1haWxTZW50SWNvbjoge1xuICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjNURBQUUwXCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbFByb2dyZXNzUGFyZW50OiB7XG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICB2b2ljZW1haWxCb3g6IChfdm9pY2VtYWlsQm94ID0ge1xuICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcbiAgICAgIGJvcmRlckJvdHRvbTogXCIwLjVweCBzb2xpZCByZ2IoOTMsMTcwLDIyNClcIlxuICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfdm9pY2VtYWlsQm94LCAnYm9yZGVyQm90dG9tJywgXCIwLjVweCBzb2xpZCByZ2JhKDkzLDE3MCwyMjQsMC42NSlcIiksIF9kZWZpbmVQcm9wZXJ0eShfdm9pY2VtYWlsQm94LCAncGFkZGluZycsIFwiMTJweCAxMnB4IDIwcHggMTJweFwiKSwgX2RlZmluZVByb3BlcnR5KF92b2ljZW1haWxCb3gsICdkaXNwbGF5JywgXCJmbGV4XCIpLCBfZGVmaW5lUHJvcGVydHkoX3ZvaWNlbWFpbEJveCwgJ21hcmdpbkJvdHRvbScsIFwiMjBweFwiKSwgX2RlZmluZVByb3BlcnR5KF92b2ljZW1haWxCb3gsICdmbGV4RGlyZWN0aW9uJywgXCJyb3dcIiksIF92b2ljZW1haWxCb3gpLFxuICAgIGRpc2FibGVkVm9pY2VtYWlsQm94OiB7XG4gICAgICBjdXJzb3I6IFwiZGVmYXVsdCAhaW1wb3J0YW50XCIsXG4gICAgICBvcGFjaXR5OiBcIjAuNjVcIlxuICAgIH0sXG4gICAgdm9pY2VtYWlsVGV4dDoge1xuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgbWFyZ2luTGVmdDogXCIxLjJyZW1cIixcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbFByb2dyZXNzOiB7XG4gICAgICB3aWR0aDogXCJpbmhlcml0ICFpbXBvcnRhbnRcIixcbiAgICAgIGhlaWdodDogXCJpbmhlcml0ICFpbXBvcnRhbnRcIixcbiAgICAgIGZpbGw6IFwiIzVEQUFFMFwiXG4gICAgfSxcbiAgICBjbG9zZUljb246IHtcbiAgICAgIGZpbGw6IFwibGlnaHRibHVlXCIsXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgcmlnaHQ6IFwiMyVcIixcbiAgICAgIGZvbnRTaXplOiBcIjJyZW1cIixcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbEJ0bjoge1xuICAgICAgY29sb3I6IFwiI0ZGRlwiLFxuICAgICAgZm9udFNpemU6IFwiMS43cmVtXCIsXG4gICAgICBwYWRkaW5nOiBcIjEwJVwiXG4gICAgfSxcbiAgICB2b2ljZW1haWxTZW50QnRuOiB7XG4gICAgICBmb250U2l6ZTogXCIxLjVyZW0gIWltcG9ydGFudFwiXG4gICAgfSxcbiAgICBkaXNhYmxlQnRuOiB7XG4gICAgICBvcGFjaXR5OiAwLjQsXG4gICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiXG4gICAgfVxuICB9O1xufTtcblxudmFyIEtleVBhZCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhLZXlQYWQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEtleVBhZChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlQYWQpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEtleVBhZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEtleVBhZCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmluaXRpYWxpemVWb2ljZW1haWxEYXRhID0gZnVuY3Rpb24gKHZvaWNlbWFpbFRlbXBsYXRlcykge1xuICAgICAgdmFyIHZvaWNlbWFpbENsaWNrTWFwID0gbmV3IE1hcCgpO1xuICAgICAgdmFyIHZvaWNlbWFpbFNlbnRNYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm9pY2VtYWlsVGVtcGxhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZvaWNlbWFpbENsaWNrTWFwLnNldCh2b2ljZW1haWxUZW1wbGF0ZXNbaV0uaWQsIGZhbHNlKTtcbiAgICAgICAgdm9pY2VtYWlsU2VudE1hcC5zZXQodm9pY2VtYWlsVGVtcGxhdGVzW2ldLmlkLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdm9pY2VtYWlsVGVtcGxhdGVzOiB2b2ljZW1haWxUZW1wbGF0ZXMsXG4gICAgICAgIHZvaWNlbWFpbENsaWNrTWFwOiB2b2ljZW1haWxDbGlja01hcCxcbiAgICAgICAgdm9pY2VtYWlsU2VudE1hcDogdm9pY2VtYWlsU2VudE1hcFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW46IHRydWUgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBob25lTnVtYmVyOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW46IGZhbHNlLCBkaXNhYmxlVm9pY2VtYWlsQ2xpY2s6ICFfdGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbEVuYWJsZWQgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVZvaWNlbWFpbENsaWNrID0gZnVuY3Rpb24gKHZvaWNlbWFpbFRlbXBsYXRlKSB7XG5cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5kaXNhYmxlVm9pY2VtYWlsQ2xpY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaWQgPSB2b2ljZW1haWxUZW1wbGF0ZS5pZDtcbiAgICAgIHZhciB2b2ljZW1haWxDbGlja01hcCA9IF90aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwO1xuICAgICAgdm9pY2VtYWlsQ2xpY2tNYXAuc2V0KGlkLCB0cnVlKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxDbGlja01hcDogdm9pY2VtYWlsQ2xpY2tNYXAsIGRpc2FibGVWb2ljZW1haWxDbGljazogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHZvaWNlbWFpbFRlbXBsYXRlLnRlbXBsYXRlTmFtZSwgX3RoaXMuc3RhdGUuaWQpO1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIGlkLCB0cnVlKSk7XG4gICAgICAgIGlmICgoMCwgX3NpcFV0aWxzLnNpcFRvZ2dsZU11dGUpKCkgPT09IFwiT0tcIikge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiB0cnVlLCBzbmFja01lc3NhZ2U6IFwiTWljIGF1dG8gbXV0ZWRcIiB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNuYWNrT3BlbjogdHJ1ZSwgc25hY2tNZXNzYWdlOiBcIkZhaWxlZCB0byBhdXRvIG11dGUgbWljIVwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlkID09PSAwKSB7XG4gICAgICAgICAgKDAsIF9zaXBVdGlscy5zaXBTZW5kRFRNRikoJyMnKTtcbiAgICAgICAgICAoMCwgX3NpcFV0aWxzLnNpcFNlbmREVE1GKSgnNCcpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiMXN0IFRlbXBsYXRlXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGlkID09PSAxKSB7XG4gICAgICAgICAgKDAsIF9zaXBVdGlscy5zaXBTZW5kRFRNRikoJyMnKTtcbiAgICAgICAgICAoMCwgX3NpcFV0aWxzLnNpcFNlbmREVE1GKSgnNScpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiMm5kIFRlbXBsYXRlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICgwLCBfc2lwVXRpbHMuc2lwU2VuZERUTUYpKCcjJyk7XG4gICAgICAgICAgKDAsIF9zaXBVdGlscy5zaXBTZW5kRFRNRikoJzYnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkxhc3QgdGVtcGxhdGVcIik7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5wcm9wcy5vblZvaWNlbWFpbENsaWNrKCk7XG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdm9pY2VtYWlsU2VudE1hcCA9IF90aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXA7XG4gICAgICAgIHZvaWNlbWFpbFNlbnRNYXAuc2V0KGlkLCB0cnVlKTtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxTZW50TWFwOiB2b2ljZW1haWxTZW50TWFwLCBpc1ZvaWNlbWFpbEVuYWJsZWQ6IGZhbHNlIH0pO1xuICAgICAgfSwgMjAwMCk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNsb3NlKCk7XG4gICAgICB9LCBfY29uc3RhbnRzLlZPSUNFTUFJTF9BVVRPX0NMT1NFX1RJTUVNT1VUKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2VTbmFja2JhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaXNWb2ljZW1haWxBdmFpbGFibGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIkNvbm5lY3RlZCB0b1wiICYmIF90aGlzLnN0YXRlLnZvaWNlbWFpbFRlbXBsYXRlcyAmJiBfdGhpcy5zdGF0ZS52b2ljZW1haWxUZW1wbGF0ZXMubGVuZ3RoID4gMCAmJiBfdGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbEVuYWJsZWQ7XG4gICAgfTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogZmFsc2UsXG4gICAgICBwaG9uZU51bWJlcjogXCJcIixcbiAgICAgIGRpc3BsYXlOdW1iZXI6IFwiXCIsXG4gICAgICBkaWFsbGVkOiBmYWxzZSxcbiAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgaXNWb2ljZW1haWxFbmFibGVkOiB0cnVlLFxuICAgICAgaXNWb2ljZW1haWxDbGlja2VkOiBmYWxzZSxcbiAgICAgIHZvaWNlbWFpbENsaWNrTWFwOiBuZXcgTWFwKCksXG4gICAgICB2b2ljZW1haWxTZW50TWFwOiBuZXcgTWFwKCksXG4gICAgICB2b2ljZW1haWxUZW1wbGF0ZXM6IFtdLFxuICAgICAgc25hY2tPcGVuOiBmYWxzZSxcbiAgICAgIGRpc2FibGVWb2ljZW1haWxDbGljazogZmFsc2VcbiAgICB9O1xuXG4gICAgX2F4aW9zMi5kZWZhdWx0LmdldChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvdm9pY2V0ZW1wbGF0ZScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlZvaWNlbWFpbCBGZXRjaGVkXCIsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgX3RoaXMuaW5pdGlhbGl6ZVZvaWNlbWFpbERhdGEocmVzcG9uc2UuZGF0YSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBmZXRjaCB2b2ljZW1haWxzXCIsIGVycm9yKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoS2V5UGFkLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuQXBwIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Wb2ljZW1haWwsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuaXNWb2ljZW1haWxBdmFpbGFibGUoKSA/IGNsYXNzZXMudm9pY2VtYWlsQnRuIDogY2xhc3Nlcy52b2ljZW1haWxCdG4gKyBcIiBcIiArIGNsYXNzZXMuZGlzYWJsZUJ0bixcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLmlzVm9pY2VtYWlsQXZhaWxhYmxlKCkgPyB0aGlzLmhhbmRsZU9wZW4gOiBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb25cbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9Qb3BvdmVyMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnc2ltcGxlLXBvcHBlcicsXG4gICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW4sXG4gICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmhhbmRsZUNsb3NlLFxuICAgICAgICAgICAgYW5jaG9yUmVmZXJlbmNlOiAnYW5jaG9yUG9zaXRpb24nLFxuICAgICAgICAgICAgYW5jaG9yUG9zaXRpb246IHsgdG9wOiA4MCB9LFxuICAgICAgICAgICAgUGFwZXJQcm9wczoge1xuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjNlbVwiLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBcIjBcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6IFwiMnB4IHNvbGlkICNGRkZcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICB2ZXJ0aWNhbDogMjAsXG4gICAgICAgICAgICAgIGhvcml6b250YWw6IDIwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiB7XG4gICAgICAgICAgICAgIHZlcnRpY2FsOiAyMCxcbiAgICAgICAgICAgICAgaG9yaXpvbnRhbDogMjBcbiAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucG9wT3ZlciB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBwYWRkaW5nTGVmdDogXCI0JVwiLCBtYXJnaW5Ub3A6IFwiNSVcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9IH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaGVhZCB9LFxuICAgICAgICAgICAgICAgICdWT0lDRU1BSUwnXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5DbG9zZSwgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsb3NlLCBjbGFzc05hbWU6IGNsYXNzZXMuY2xvc2VJY29uIH0pXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUudm9pY2VtYWlsVGVtcGxhdGVzLm1hcChmdW5jdGlvbiAodm9pY2VtYWlsVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBfdGhpczIuc3RhdGUuZGlzYWJsZVZvaWNlbWFpbENsaWNrID8gKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmRpc2FibGVkVm9pY2VtYWlsQm94LCBjbGFzc2VzLnZvaWNlbWFpbEJveCkgOiBjbGFzc2VzLnZvaWNlbWFpbEJveCwga2V5OiB2b2ljZW1haWxUZW1wbGF0ZS5pZCB9LFxuICAgICAgICAgICAgICAgICAgIV90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy52b2ljZU1haWxJY29uLCBjbGFzc2VzLmljb24pIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Wb2ljZW1haWwsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnZvaWNlbWFpbEJ0biB9KVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmICFfdGhpczIuc3RhdGUudm9pY2VtYWlsU2VudE1hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy52b2ljZW1haWxQcm9ncmVzc1BhcmVudCwgY2xhc3Nlcy5iYXNlSWNvblNpemUpIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy52b2ljZW1haWxQcm9ncmVzcyB9KVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF90aGlzMi5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnZvaWNlbWFpbFNlbnRJY29uLCBjbGFzc2VzLmljb24pIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Eb25lLCB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnZvaWNlbWFpbFNlbnRCdG4sIGNsYXNzZXMudm9pY2VtYWlsQnRuKSB9KVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMudm9pY2VtYWlsVGV4dCwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlVm9pY2VtYWlsQ2xpY2sodm9pY2VtYWlsVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgIV90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvciwgb3BhY2l0eTogMC42NSB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgJ1NlbmQnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmICFfdGhpczIuc3RhdGUudm9pY2VtYWlsU2VudE1hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvciwgb3BhY2l0eTogMC42NSB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgJ1NlbmRpbmcnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF90aGlzMi5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiBcIiM1REFBRTBcIiwgb3BhY2l0eTogMC42NSB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgJ1NlbnQnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvciB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgdm9pY2VtYWlsVGVtcGxhdGUudGVtcGxhdGVOYW1lXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuTW9yZVZlcnQsIHsgc3R5bGU6IHsgcmlnaHQ6IFwiMyVcIiwgcG9zaXRpb246IFwiZml4ZWRcIiB9IH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TbmFja2JhcjIuZGVmYXVsdCwge1xuICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBrZXk6IHRoaXMuc3RhdGUuc25hY2tNZXNzYWdlLFxuICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tPcGVuLFxuICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb246IDIwMDAsXG4gICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZVNuYWNrYmFyLFxuICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1lc3NhZ2U6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgeyBpZDogdGhpcy5zdGF0ZS5zbmFja01lc3NhZ2UgfSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tNZXNzYWdlXG4gICAgICAgICAgKSxcbiAgICAgICAgICBhY3Rpb246IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9jb3JlLkljb25CdXR0b24sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGtleTogJ2Nsb3NlJyxcbiAgICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnQ2xvc2UnLFxuICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2xvc2UsXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2xvc2VTbmFja2JhclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgbnVsbClcbiAgICAgICAgICApXVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gS2V5UGFkO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIFZvaWNlbWFpbFdyYXBwZXIgPSAoMCwgX2NvcmUud2l0aFN0eWxlcykoc3R5bGVzKShLZXlQYWQpO1xudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuXG4gICAgY2FsbFN0YXRlOiBzdGF0ZS5jYWxsU3RhdGVcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICAvLyBjaGFuZ2VDYWxsU3RhdGU6IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZUNhbGxTdGF0ZShkYXRhKSkpXG4gICAgY2hhbmdlQ2FsbGVyOiBmdW5jdGlvbiBjaGFuZ2VDYWxsZXIoZGF0YSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfYWN0aW9ucy5jaGFuZ2VDYWxsZXIpKGRhdGEpKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKCgwLCBfY29yZS53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFZvaWNlbWFpbFdyYXBwZXIpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMjQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQVlBQUFCWHVTczNBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFCbDVKUkVGVWFJSEZtbDlzVTljZHh6Ky82eHU3T0k3eUY1clEwdGpBSnA3VzBDR3hmMktHN24wZ0RaQmFXTDFObXNRVDJSNm1TYVVTRTNUZEhxYkN3NlE5VENJdDJjUFNoNlRhdzU1RzNIL3FXbFNSZEJJYjBsckhMQ01lQkloSjRzVDI5ZjN0d1grSTdlcy8xdzd3ZmJvKzkvenUrWnpmL1oxemZ2Y2NDMjBxTWhucnNTM1BkMjEwQk5Xd0tFR0VZRmtsWlU2Rk9VU2lCakpqbUxuM3hvNkVsdHBwVjFvMWZQblA4VmNFUFN6QzRWYnNWWmxTWk9wUHg0ZmZhc1hlRlhoa010WmpXY1pwc1RWUzVkVldwY3lwSVdPbWFWOTA4eGFhQmoveFRpd3N0bHphTk9CS0tYTnE2SS9HajRhaXpWUnZDQjZaalBYa3NzYWJvSkgyNlpxUXlvWEx4NGQvMXFoYVhmRElaS3pIeXNxMHdNam1rVFdXd296Wm9RZnJoWTVSNjhaTEU3R1JKd0VOSURCaVpXWDZwWWxZemJZZFBmNmtQRjJwZXA0M0t3dmFoUjd1OFhKeWJ4OWZHZkFod0h3eXkxLytsZVRqbTZ1dW4xWDBQTEMzOGw1VnFPU3l4cHRPMFAxK0R3UCtxbjZXYVhlL2oxY1BEdkxWQWpUQXM5MGRuTm8vd0E5ZjZITU5Yb1EvTVJHN1VCZjh4RHV4c05QczBlLzNjT2JnRUdjT0RkSzd4ZVBZZ0duQXo3K3pqYWRNNS9IK3ZWMWRmT3U1emhiaDVYU2V6UUU4TWhuckVWc3VPUm1lMnIrVmZyK0h2aTBlWGpzMDVBaS9kN3VmZ0xmbVdBY2d2TE9ySlhBQXNlVlNaRExXVXdWdVpSaXR0Ymo4NFpORjdxM2xBQmp3TzhQdjZQWTJiUHpaN280V3NRRWhhR1VZTGY0c2dZdkk2Vm8yaXltTDgxY1NkZUhmajYyUVhNL1ZiZHMwV2s2TjhveklLOFZyQStEa1JDd0M5TlMwb0RIOFlzcmkzSFNpSVh4YkVvSUYxcExIbThyd0dzSGZYbmtNOEFWV3llY2ljdCtONVlEZjVNeWhRZnBLM3M1eDdzb0M5d3NkMmhZd2VlM2dJTjFQbFkrRGRVdjU2ZVROdHNrOUhkcHJXQm5DamF1VzYwbDczc29RTm1oeGhXd1cva0hhM2pUZ0RSb3hSTng3dktoYThNVVF1YjFpOGZvamdCY2hiS0F5M001RG5PRFBiSWp2aGVYc3BzTXIwbTFzeGhmTllzcmlnN21WMHUrbkE2WXovQ2JGdk1CSS9hekpRVC9lMTg5Z29JUGtlbzdmLy8xT3FUeWIwN0o2UmZqemhVRzZzSnpsdCsvL3I2ek9OM1owY21oWFBnMTQrOXBkNXBQWnBqbnFKeGNPR3ZDYjdObnFZOTh6L3JMeS96Nm9iclRTODNkV3JiTDdPL3U4N05ucVk4OVduMXNNOStCRlFJK1J6NzJMdW5ZcnhVcW1PbzRyNFRkcVoxOGVPS2R3eTZIajlXUW9HbmRqY08xV3FuUjlJQlFvWGRzS3YvdmdOdXVXVnRrNHdSc0NRMTM1cE9zZmlUWHNhck9hVXRWWlEyRE9EZmoxMitzbHI3KzRxNHRnNzBPdmYzRXZ6YS8rdHNDVkw1YXhOZCtaNGx1b2hMY1Zmdk5lZ2xSV2lYNjVVdDFRSFltdzVQbmFEMGFESXVKcUxuK1F6ckYvUnljaThQeVFudy9uVnNnVUJ1ZHkybVptWVkycDYwbW1yaWY1ZEQ3Rk41OEw0RE9GZ05mZzY4LzQrWFErUmRwU0hxUnRaaFpTM0ZoTXV3Slg1UzBEbUhGbEJWeWRUL0ZSUFA4TjJiZkZ3OWtYaHhqc2NwNmc3cXhhL0hvNjcxbDQ2UGt1WDM1NHVabEpObWpHODhMTG93bTE1WmR1TFQ5UHJMRzd6OGUyZ0VtbjF5QWM2cUxUYTVCY3o1SEsybVV4MitFUk9uMGVRb1d3Q25nTjltNzM4OGwvVmt0dnlvMU1MNmNFNE9SRWJBcmsrMjRmSUFJLzJkZlBnV0Nnck54V1dGeTFXTTNhRFBqTmtuY3JkYXV3TUMyN1dsWDEzY3ZIUW9lTFQ1eHlDdzJnQ24rOGVwZXh6KzZ4bG4zb09VUHlxVzJvMTFzR25jNHBIOFlmZW5sN1Z3ZXZiZ2liSmpVRkd6YUVUa3pFNW9UVzg1WU9qL0R0NFU1Q3ZUNTI5L3ZZVWZpK1hNc3FIOFZYK09lZGRUNVBySkcybE4zOVBuNXg0T25TamtDem5sYzBQbjRzRklTTkM1QXkxaW8wNUpmODZKY3JYUHJzTG4rOWtTeVZMeXhuZWZ2YVBhNFdaaEtBZjk5TjgwWTBVWnJ6bS9XOENLWDlsVkpOMDhzRnQ0dFJPNHJkei9CR05GRUtzVWJ3aXNZdkh3MVZnNDhkQ1MwaFBKNnQ1SUppOXpPODNpeDhCVnRaamZHam9haXF0blMwMGFwdUx1WGhWd3NyckNCb3hReXA2TVhLRGYrcXJwbGVSbFYxOWhHeVZ1bm1Vb2J6MHdsdUxLWTVkMldoTEZsVDFkbnhZNkhSU3B2YTI4d1pvaUx5L0NQa2JTaFZuVFc5aEoyMm1SMUh3dGlSMEpJdFJCNjM1emRLVldkdElWTHJWS0x4VWNvVDhIdzlUeGZWMU9HVmxlV3NVSHR2Y1RPbDZFV25tSzZVcStOQ2xMRjJWdGQ2VWpTT0VObTA0OEtOS29UT0tFSmtzenFnYUJ4bGJQeDQ2S3didTViM2ZRdTdwb2RieVNyejBuZUJxY3ZIUWkybEd1MXRXRk42QzJGZ1JJU3dRckR5YmFqcXJBaExxa1NCR2ROTHROMC9JZndmMGhzREpyOHltOWNBQUFBQVNVVk9SSzVDWUlJPVwiXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTI1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDNEFBQUF1Q0FZQUFBQlh1U3MzQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQksxSlJFRlVhSUhObVcySVZGVVl4My9QbmRsVlM1Q2RPZGUzUUZRU0xXd3hCVVBNelRRUVV3UHhaZW1qbGhEMEpmUkRVR1p2UlBqSmlNZ1BGU3JSRjVXQ2tMS29WSktGdEF4cFV6RmNYNkMyM1h0bmQxYTNuTTJaKy9UaDd1cTZPM2Z1bWRtZEhmOXd1VFBuUE05NWZuUG0zSFBPUFk4d0NsTFhuVU1RTE1WeEZxTDZDUEFBTUJXUmVsUzdnQzZnRS9pUklEaEtWOWRQQXNGSVlrckZzTWJNQlo0SDFpRXl0enhuN1FhT0VBU2YwdFgxZlNVL29teHdOV1l0c0IyUko4djFqZERmQk1ISFpETHZDT1JzbmF6QnRhR2hrVVRpZlVTZXFJd3ZMb0QrZ1VpemVONnZOdVpPYkh1UVVOZmRTU0x4UzlXZ0FVVG1vSHBLMCttWDFhSkRTeHFvNjA0RXZnWWVIeTArSzZrZXdmZWJCZjZOTW9rRVY3Z1BZMzVBNUxIcTBNVkk5UXo1L0VySlpyUEZxb3NPRllWNlhQZmJta0VEaUN3a21meEdZWHl4Nm1IZ0NnN0dIQUtXVmgwdVRpS0xjZDNQaTQzNTRUMmVUcitKeUROakFtYW4xUmp6K3REQ3UzNUovNkxTaWtoeXpMQnNwS3JBQ3ZIOTR3TkZkL2U0eUw1N0RocEFSQkQ1U0NFeFVIUWJYRjEzQzdDa0ptQjJlcEIwK29XQkx3S2dJTGp1SldCV3piQnNwSG9OMzU4cG9HR1BHL00wOXpvMGdNZ01VcWxWY0dlb3ZGUkRuUExrT0ZzQVJHRTh4dnlEU095K0pWS3paOE84ZVRCNU1reVpFdDZuVG9WY0R0cmE3bHpuenNHTkd5TURWKzNCOTlOSmpGbFNFYlF4c0drVGJOZ0FqWTMyZmgwZGNQbzBIRGdBSjA2VUhSYVJTUml6VE5SMWR3SnZXenMyTnNLMmJiQitQZFRYbHg5NHNDNWVoTDE3NGVCQnVIV3JITTlYUlkzNUVwRjFzYVoxZGJCbkQyemVYREZucE5yYXduYXZYYlAxT09RQTA2eE10MjZ0RGpTRXo4aXVYZVY0UEpRRVhDdlQ1dWJvdXRaVzJMOGZUcDZFSzFjZ0dQSUthUXpNbncrTEZzR09IWkFzc2ppdlhoMlc1L00yTkpORlhiY1h1TCtrMmJoeGNQVXFPRVdlNFZ3dTdERzdnSEQ0TURRMUZhOXJhb0lMRitMYlVBMGNJSDV2a2s0WGh3Ym83TFNIQm1odmo2NXJhTEJ1eGdHS3ZtSGNwVkpnZFhYV3dRQ1lNQ0c2VHF6ZjNUc2NWRE94WnBrTXFCYXZNNmFjZ09FQ0ZhV2JOMjFiYVU4aWNnNTR1S1Jab1JDTzhaa3pJWnVGUzVmQ3E2MHR2Q2VUOXZQd3hvMHdmVHBNbXhiZUIzKzJudzdiUlkxNURaRzNZazFuelFxaHU3dHRHNittZGlkUmJiSDZxeTlmcmo2T3JRcUZZNktRd0hWN2lKc1M3eFdwNXZIOWlZNUFBZmlxMWp4bHFFV2dMNXljQzRWUGFneGpMNUVQWWZDcm16RlhFSmxSVzZvWXFmNko3ODhRQ0J3QUFVWGtqVnB6V2VpOWdiUDBvZWNxWnhCNXREWk1NVkk5ais4dkVQZ1BocCtyUElmcWlGSWNWWkZxUUQ3LzdBQTBEQUh2UDFTUFg0ekdXcXJ2U2paN2RuRFJzSlduLzlEek9DTEx4bzZzcEk3aWVXdUc1b21HN1ZYN0RkYWcrdnVZb1VWSjlXYzhiMzJ4NUZiUlRiYjQvZzF5dVJWQWE5WGhvdlViaGNKVFVRbXR5R01KNmUzdEJKYWdXb3RWOVN4OWZjdWx1N3NueXFEa2VZcDRYaSsrdnhiVkhVRGZxT01WMXdkNDNtSzVmcjJySkp0dGF6cHAwbXpxNnZaWDdhRlZQUSs4S0w1L3pNYTgvQVJ0S3JVUngzbGwxQmFxTUwrNUc4L2JWMDZHZVNRcDhlWEFkbUFWSXVVZGFhbjJJUElGUWZDWlpETGZWUksvWXZEYkRHRmFjU1d3QmxnQXBCQkpvWm9pN01FTzRDL2dJbkFHa1ZONFhrdi9kcnBpL1ErMFgzOWNYSVY2RHdBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuXG4vKioqLyB9KVxuXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gMC5idW5kbGUuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IENvbnRhY3RMaXN0IGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGFjdExpc3QnO1xyXG5pbXBvcnQgeyBzaXBDYWxsLCBzaXBIYW5ndXAsIHNpcFRvZ2dsZU11dGUgfSBmcm9tICcuLi91dGlscy9zaXBVdGlscyc7XHJcbmltcG9ydCB7IGNoYW5nZUNhbGxTdGF0ZSwgY2hhbmdlU3RhdHVzLCBjaGFuZ2VUcmFuc2NyaXB0aW9uIH0gZnJvbSAnLi4vYWN0aW9ucy9hY3Rpb25zJztcclxuaW1wb3J0IHsgYWRkSW5pdGlhbENhbGxMb2cgfSBmcm9tICcuLi9hY3Rpb25zL2NhbGxMb2dBY3Rpb25zJztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IENsb3NlIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcbmltcG9ydCB7IFJlZGlyZWN0IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCBDYWxsUHJlcERldGFpbHMgZnJvbSAnLi4vY29tcG9uZW50cy9DYWxsUHJlcERldGFpbHMnO1xyXG5pbXBvcnQgUG9zdENhbGwgZnJvbSAnLi9Qb3N0Q2FsbCc7XHJcbmltcG9ydCBJbkNhbGxEZXRhaWxzIGZyb20gJy4uL2NvbXBvbmVudHMvSW5DYWxsRGV0YWlscyc7XHJcbmltcG9ydCBIYW1tZXIgZnJvbSAncmVhY3QtaGFtbWVyanMnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTW9kYWwnO1xyXG5pbXBvcnQgVG9vbHRpcCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Ub29sdGlwJztcclxuaW1wb3J0IEZhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9GYWInO1xyXG5pbXBvcnQgTmF2aWdhdGVOZXh0IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9OYXZpZ2F0ZU5leHQnO1xyXG5pbXBvcnQgTmF2aWdhdGVCZWZvcmUgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL05hdmlnYXRlQmVmb3JlJztcclxuaW1wb3J0IERyYXdlciBmcm9tICcuLi9jb21wb25lbnRzL0RyYXdlcic7XHJcbmltcG9ydCBBcnJvd0Ryb3BEb3duSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQXJyb3dEcm9wRG93bic7XHJcbmltcG9ydCB7IGdldE1lbnVJdGVtcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ3VzdG9tZXJEcmF3ZXJPcHRpb25zJztcclxuaW1wb3J0IEtleVBhZFdyYXBwZWQgZnJvbSAnLi4vY29tcG9uZW50cy9LZXlQYWRXcmFwcGVkJztcclxuaW1wb3J0IFZlcnRpY2FsVGltZUxpbmUgZnJvbSAnLi4vY29tcG9uZW50cy9WZXJ0aWNhbFRpbWVMaW5lJztcclxuaW1wb3J0IFZvaWNlbWFpbFdyYXBwZXIgZnJvbSAnLi4vY29tcG9uZW50cy9Wb2ljZW1haWxXcmFwcGVyJztcclxuaW1wb3J0IFRyYW5zY3JpcHRDaGF0IGZyb20gJy4uL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQnO1xyXG5pbXBvcnQgeyBnZXRJbml0aWFsc0Zyb21OYW1lIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcclxuaW1wb3J0IEN1c3RvbUZvb3RlciBmcm9tICcuLi9jb21wb25lbnRzL0N1c3RvbUZvb3Rlcic7XHJcbmltcG9ydCB7IGRpc2FibGVGcmVkYUluQ2FsbCB9IGZyb20gJy4uL2NvbXBvbmVudHMvRnJlZWRhL0ZyZWRhQnV0dG9uJztcclxuaW1wb3J0IFRyYW5zY3JpcHRCb3ggZnJvbSAnLi4vY29tcG9uZW50cy9UcmFuc2NyaXB0Qm94JztcclxuaW1wb3J0IGNvbWJpbmVTdHlsZXMgZnJvbSAnLi4vdXRpbHMvY29tYmluZVN0eWxlcyc7XHJcbmltcG9ydCBiYXNlU3R5bGUgZnJvbSAnLi4vdXRpbHMvYmFzZVN0eWxlJ1xyXG5cclxuXHJcbmNvbnN0IHN1bW1hcnlEYXRhID0gcmVxdWlyZSgnLi4vYXNzZXRzL3NhbXBsZV9uZXdfanNvbi5qc29uJyk7XHJcbmNvbnN0IHRlc3QgPSBcIkN1c3RvbWVyOiBIaS4gSGVsbG8uIEhleSwgQ29sbGVjdG9yOiBJIHdhbnRlZCB0byBtYWtlIHN1cmUgeW91IHJlY2VpdmVkIG15IG5vdGUuIFRoZSBwYXltZW50IHdhcyBkdWUgeWVzdGVyZGF5LiBEZXRlY3RpbmcgU3BlYWtlcjogZ2V0IGl0IHVuZGVyIHRoZSBzZW5kZXIuIEknbSBDb2xsZWN0b3I6IEkgZGlkbid0IGEgdGVsbCB5b3UgZm9yZ290LiBJdCdzIGludm9pY2UgbnVtYmVyIDM0Ny00MDAtNDAwMC4gSSB3aWxsIGVtYWlsIHlvdSByaWdodCBub3cgZG9lcyBhIHBlcnNvbiBhdCBtLmNvbSBlbWFpbCBhZGRyZXNzIHdvcmtzIGJlc3QgZm9yIHlvdT8gQ3VzdG9tZXI6IFllYWgsIHRoYXQncyBmaW5lLiBDb2xsZWN0b3I6IEJpZyBCZW5kIE9saXZpYSBnb2luZyB0byBtZSB0byBtZSB0aGF0IGNoZWNrIGZvciB0aGlzIGludm9pY2UuIEN1c3RvbWVyOiBJIGFjdHVhbGx5IGRvbid0IGhhdmUgdGhlIGNhc2ggZm9yIGRlYmF0ZSByaWdodCBub3cuIENvbGxlY3RvcjogT2theSwgSSBzZWUgd2hlbiB3ZSB3aWxsIGJlIGdldHRpbmcgeW91ciBuZXh0IHBheW1lbnQuIEN1c3RvbWVyOiBOb3J0aGVybiBUb29sIGluIHRoZSAyMXN0IGF0IHlvdSBzZW5kIG1lIGEgY2hlY2sgb3IgVGh1cnNkYXkgdGhlIDIybmQ/IEkgd29uJ3QgQ29sbGVjdG9yOiA3IHNlZSBjYW4gYmUgYWJsZSB0byBwYXkgdGhlIHdob2xlIHRoaW5nIGRvbmUuIENvbGxlY3RvcjogQnV0IGlmIHlvdSBzZW5kIG1lIGhhdmUgdG8gcmVnaXN0ZXIgYW5kIHRoZW4gdXAgYXQgdGhlIGVuZCBvZiB0aGUgbW9udGguIEN1c3RvbWVyOiBUaGF0IGFjdHVhbGx5IG1pZ2h0IHdvcmsuIENvbGxlY3RvcjogT2theSwgc291bmRzIGdvb2QuIEknbGwgTWFsY29sbSBYIGFtYXppbmcgbWUgJDIsMDAwIG9uIFRodXJzZGF5IHRoZSAyMm5kIGFuZCBJIHdpbGwgZm9sbG93IHVwIHdpdGggeW91IHRlc3RpbmdcIjtcclxubGV0IHRpbWVJbnRlcnZhbDtcclxuY29uc3QgYXZhaWxhYmxlRmlsdGVyT3BlcmF0aW9ucyA9IFtcclxuICAnZXF1YWwnLCAnbm90RXF1YWwnLFxyXG4gICdncmVhdGVyVGhhbicsICdncmVhdGVyVGhhbk9yRXF1YWwnLFxyXG4gICdsZXNzVGhhbicsICdsZXNzVGhhbk9yRXF1YWwnLFxyXG5dO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICBhcHBGcmFtZToge1xyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAgbWF4SGVpZ2h0OiBcIjEwMHZoXCJcclxuICB9LFxyXG4gIHJvb3Q6IHtcclxuICAgIGJhY2tncm91bmRJbWFnZTogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLm1haW4sXHJcbiAgICB3aWR0aDogXCI5My43NXZ3XCIsXHJcbiAgICBtYXJnaW5SaWdodDogXCJhdXRvXCIsXHJcbiAgICBtYXJnaW5MZWZ0OiBcImF1dG9cIixcclxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICBwYWRkaW5nQm90dG9tOiBcIjBcIixcclxuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5XHJcblxyXG4gIH0sXHJcbiAgaGFuZ1VwSWNvbkluZzoge1xyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG4gICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gIH0sXHJcbiAgY2FsbFRleHQ6IHtcclxuICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcclxuICAgIGZvbnRTaXplOiBcIjFyZW1cIixcclxuICB9LFxyXG4gIGRpYWxwYWRJY29uOiB7XHJcbiAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxyXG4gICAgcGFkZGluZ1JpZ2h0OiBcIjFyZW1cIixcclxuICB9LFxyXG4gIHZvaWNlTWFpbEljb246IHtcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICBiYWNrZ3JvdW5kOiBcIiM1REFBRTBcIixcclxuICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgIHBhZGRpbmc6IFwiMXB4XCIsXHJcbiAgfSxcclxuICBzdGF0dXM6IHtcclxuICAgIGZvbnRTaXplOiBcIi43cmVtXCIsXHJcbiAgICBjb2xvcjogXCJ3aGl0ZVwiLFxyXG4gICAgekluZGV4OiBcIjZcIlxyXG4gIH0sXHJcbiAgZHVyYXRpb246IHtcclxuICAgIG1hcmdpblJpZ2h0OiBcIi42cmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICB9LFxyXG4gIGN1c3RvbWVyTmFtZToge1xyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgZm9udFNpemU6IFwiMS43OHJlbVwiLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICBsaW5lSGVpZ2h0OiBcIjIuMDVyZW1cIlxyXG4gIH0sXHJcbiAgY3VzdG9tZXJOdW1iZXI6IHtcclxuICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcclxuICAgIGZvbnRTaXplOiBcIi44cmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICB9LFxyXG4gIHRyYW5zY3JpcHRCb3g6IHtcclxuICAgIGhlaWdodDogXCI4Ni41MHZoXCIsXHJcbiAgICAvLyB3aWR0aDogXCIyNXZoXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbixcclxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgfSxcclxuICB0cmFuc2NyaXB0VGl0bGU6IHtcclxuICAgIGZvbnRTaXplOiBcIjEuMnJlbVwiLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgLy8gcGFkZGluZzogXCIyZW0gMCAyZW0gMFwiXHJcbiAgICBwYWRkaW5nTGVmdDogXCIxcmVtXCIsXHJcbiAgICBvcGFjaXR5OiAwLjY1LFxyXG4gICAgcGFkZGluZ1RvcDogXCIuNXJlbVwiLFxyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIGZvbnRGYW1pbHk6IFwiUm9ib3RvXCJcclxuICB9LFxyXG4gIG5leHRGYWI6IHtcclxuICAgIHJpZ2h0OiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAwLjI1LFxyXG4gIH0sXHJcbiAgcHJldkZhYjoge1xyXG4gICAgbWFyZ2luTGVmdDogXCItMC41cmVtXCIsXHJcbiAgfSxcclxuICBoYW5nVXBCdXR0b246IHtcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcclxuICAgIHdpZHRoOiBcIjIuNjY2NjY2NjVyZW1cIixcclxuICB9LFxyXG4gIGhhbmdVcEJ1dHRvbkltZzoge1xyXG4gICAgaGVpZ2h0OiBcIjIuNjY2NjY1cmVtXCIsXHJcbiAgICB3aWR0aDogXCIyLjY2NjY2NjY1cmVtXCIsXHJcbiAgfSxcclxuICBkcm9wRG93bkljb246IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgfSxcclxuICBkcm9wRG93bjoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpblxyXG4gIH0sXHJcblxyXG4gIG1pY09mZkljb25JbWc6IHtcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICBoZWlnaHQ6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXHJcbiAgICB3aWR0aDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcclxuICB9LFxyXG4gIG1pY09mZkljb246IHtcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcclxuICAgIHdpZHRoOiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG4gICAgY29sb3I6IFwid2hpdGVcIlxyXG4gIH0sXHJcblxyXG4gIGNhbGxlZENvbnRhY3ROYW1lOiB7XHJcbiAgICBmb250U2l6ZTogXCIuNzZyZW1cIixcclxuICAgIGNvbG9yOiBcIndoaXRlXCIsXHJcbiAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiLFxyXG4gIH0sXHJcbiAgY2FsbGVkVG9Db250YWN0RGl2OiB7XHJcbiAgICB3aWR0aDogXCI4MCVcIlxyXG4gIH0sXHJcbiAgdHJhbnNjcmlwdEJveFBhcmVudDoge1xyXG4gICAgcGFkZGluZ0JvdHRvbTogXCIwcHggIWltcG9ydGFudFwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiXHJcbiAgfSxcclxuICBjbG9zZVN0eWxlOiB7XHJcbiAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxyXG4gICAgdG9wOiBcIjElXCIsXHJcbiAgICBsZWZ0OiBcIjUwJVwiLFxyXG4gICAgY29sb3I6IFwiI2ZmZlwiLFxyXG4gICAgZm9udFNpemU6IDQ4LFxyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIlxyXG4gIH0sXHJcbiAgY3VzdG9tZXJIaXN0b3J5TW9kYWw6IHtcclxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICB3aWR0aDogXCI0NSVcIixcclxuICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICBib3R0b206IFwiMFwiLFxyXG4gICAgb3ZlcmZsb3dXcmFwOiBcImJyZWFrLXdvcmRcIixcclxuICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICBib3hTaGFkb3c6IHRoZW1lLnNoYWRvd3NbNV0sXHJcbiAgICBwYWRkaW5nTGVmdDogXCIxJVwiLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgbGVmdDogXCI0LjIlXCJcclxuICB9LFxyXG4gIC8vbWVudSBcclxuICBhY3Rpb25JY29uOiB7XHJcbiAgICBmb250U2l6ZTogJzJyZW0nLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgfSxcclxuICBhY3Rpb25CdXR0b246IHtcclxuICAgIC8vIHBhZGRpbmcgOiBcIjElXCIsXHJcbiAgICBoZWlnaHQ6IFwiNC4xNjZ2d1wiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjBweFwiLFxyXG4gICAgd2lkdGg6IFwiNC4xNjZ2d1wiLFxyXG4gIH0sXHJcblxyXG5cclxufSlcclxuXHJcbmNvbnN0IHNhbGVzID0gZ2V0UmFtZG9tUm93cygpO1xyXG5cclxuZnVuY3Rpb24gZ2V0UmFtZG9tUm93cygpIHtcclxuICBsZXQgcm93cyA9IFtdO1xyXG4gIGxldCBpdGVtID0geyBcInByb2R1Y3RcIjogXCJoZWxsb1wiLCBcInJlZ2lvblwiOiBcIkFtZXJpY2FcIiwgXCJhbW91bnRcIjogXCI1XCIsIFwic2FsZURhdGVcIjogXCIwOS8wOS8xOTk2XCIsIFwiY3VzdG9tZXJcIjogXCJCYWxyYWpcIiwgfTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKykge1xyXG4gICAgcm93cy5wdXNoKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJvd3M7XHJcbn1cclxuXHJcbmNsYXNzIEluQ2FsbCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLm15UmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcbiAgICB0aGlzLnByb3BzLmNoYW5nZUNhbGxTdGF0ZSh7IGNhbGxpbmc6IHRydWUsIHN0YXR1czogXCJcIiB9KVxyXG4gICAgbGV0IGNvbnRhY3RJbmRleCwgY2FsbGVkVG9Db250YWN0SWRcclxuICAgIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbnRhY3RJbmRleCAhPSBudWxsKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiZmlyc3Qgb25lXCIpXHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMpXHJcbiAgICAgIGNvbnRhY3RJbmRleCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdEluZGV4O1xyXG4gICAgICBjYWxsZWRUb0NvbnRhY3RJZCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5pZFxyXG4gICAgICB0aGlzLmNhbGxlZFRvTnVtYmVyID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb051bWJlcjtcclxuICAgICAgdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5maXJzdE5hbWU7XHJcbiAgICAgIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5sYXN0TmFtZTtcclxuICAgICAgdGhpcy5lbWFpbE9mQ2FsbGVkID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmVtYWlsO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMpXHJcbiAgICAgIGNvbnNvbGUubG9nKFwic2Vjb25kIG9uZVwiKVxyXG4gICAgICBjYWxsZWRUb0NvbnRhY3RJZCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdElkXHJcbiAgICAgIHRoaXMuY2FsbGVkVG9OdW1iZXIgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyO1xyXG4gICAgICB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb0ZpcnN0TmFtZTtcclxuICAgICAgdGhpcy5jYWxsZWRUb0xhc3ROYW1lID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb0xhc3ROYW1lO1xyXG4gICAgICB0aGlzLmVtYWlsT2ZDYWxsZWQgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmVtYWlsT2ZDYWxsZWRcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwiRW1haWwgb2YgY2FsbGVkXCIsIHRoaXMuZW1haWxPZkNhbGxlZClcclxuXHJcbiAgICB0aGlzLmNhbGxlZFRvRnVsbE5hbWUgPSB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICsgXCIgXCIgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWU7XHJcbiAgICBpZiAodGhpcy5jYWxsZWRUb0Z1bGxOYW1lID09PSBcIlVua25vd24gXCIgfHwgdGhpcy5jYWxsZWRUb0Z1bGxOYW1lID09PSBcIlVubmFtZWQgVW5uYW1lZFwiKSB7XHJcbiAgICAgIHRoaXMuY2FsbGVkVG9GdWxsTmFtZSA9IHRoaXMuY2FsbGVkVG9OdW1iZXI7XHJcbiAgICB9XHJcbiAgICBsZXQgbG9jYXRpb25Qcm9wcyA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGU7XHJcbiAgICBsZXQgYWNjb3VudCA9IHRoaXMucHJvcHMuY3VzdG9tZXJzLmN1c3RvbWVycy5maWx0ZXIoY3VzdG9tZXIgPT4gY3VzdG9tZXIuaWQgPT0gbG9jYXRpb25Qcm9wcy5hY2NvdW50SWQpO1xyXG4gICAgdGhpcy5wcm9wcy5jYWxsTG9nKHtcclxuICAgICAgc3RhdHVzOiBcIlwiLFxyXG4gICAgICBjb250YWN0OiB7XHJcbiAgICAgICAgaWQ6IGNhbGxlZFRvQ29udGFjdElkXHJcbiAgICAgIH0sXHJcbiAgICAgIGNhbGxlZFRvTnVtYmVyOiB0aGlzLmNhbGxlZFRvTnVtYmVyLFxyXG4gICAgICBjb250YWN0SWQ6IGNhbGxlZFRvQ29udGFjdElkLFxyXG4gICAgICBjYWxsZWRUbzogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUbyxcclxuICAgICAgc3RhcnREYXRlVGltZTogbmV3IERhdGUoKSxcclxuICAgIH0pO1xyXG4gICAgZGlzYWJsZUZyZWRhSW5DYWxsKClcclxuICAgIHNpcENhbGwodGhpcy5jYWxsZWRUb051bWJlciwgdGhpcy5wcm9wcy51c2VyLCBhY2NvdW50LCBsb2NhdGlvblByb3BzLmN1c3RvbWVyLCB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzKTtcclxuICAgIC8vIHdoaWxlKHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgIT0gdHJ1ZSk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgdm9pY2VtYWlsUGxheWVkTWVzc2FnZTogXCJcIixcclxuICAgICAgcmVkaXJlY3Q6IGZhbHNlLFxyXG4gICAgICBjYWxsUHJlcFBhZ2U6IGZhbHNlLFxyXG4gICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lcixcclxuICAgICAgY29tbXVuaWNhdGlvbjogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb21tdW5pY2F0aW9uLFxyXG4gICAgICBjYWxsRHVyYXRpb246IDAsXHJcbiAgICAgIGNhbGxEdXJhdGlvbkluRm9ybWF0OiBcIlwiLFxyXG4gICAgICB0cmFuc2NyaXB0aW9uOiBcIlwiLFxyXG4gICAgICBzdW1tYXJ5OiBcIltdXCIsXHJcbiAgICAgIGNvbnRhY3RPcGVuOiBmYWxzZSxcclxuICAgICAgY29sdW1uczogW1xyXG4gICAgICAgIHsgbmFtZTogJ3Byb2R1Y3QnLCB0aXRsZTogJ1Byb2R1Y3QnIH0sXHJcbiAgICAgICAgeyBuYW1lOiAncmVnaW9uJywgdGl0bGU6ICdSZWdpb24nIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnYW1vdW50JywgdGl0bGU6ICdTYWxlIEFtb3VudCcgfSxcclxuICAgICAgICB7IG5hbWU6ICdzYWxlRGF0ZScsIHRpdGxlOiAnU2FsZSBEYXRlJyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ2N1c3RvbWVyJywgdGl0bGU6ICdDdXN0b21lcicgfSxcclxuICAgICAgXSxcclxuICAgICAgY3VycmVuY3lDb2x1bW5zOiBbJ2Ftb3VudCddLFxyXG4gICAgICBwYWdlU2l6ZXM6IFs1LCAxMCwgMTVdLFxyXG4gICAgICByb3dzOiBzYWxlcyxcclxuICAgICAgaW52b2ljZXM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMsXHJcbiAgICAgIGlzVm9pY2VtYWlsT3BlbjogZmFsc2UsXHJcbiAgICAgIHRyYW5zY3JpcHRpb246IFwiXCIsXHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5pbnZvaWNlcywgXCJpbiBpbmNhbGwgdXN1YWwgZmxvd1wiKVxyXG5cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIGxldCBjdXJyZW50VHJhbnNjcmlwdGlvbiA9IHRoaXMucHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xyXG4gICAgbGV0IG5ld1RyYW5zY3JpcHRpb24gPSBuZXh0UHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xyXG4gICAgaWYgKG5ld1RyYW5zY3JpcHRpb24gIT09IGN1cnJlbnRUcmFuc2NyaXB0aW9uKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB0cmFuc2NyaXB0aW9uOiBuZXdUcmFuc2NyaXB0aW9uIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBuZXh0UHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMgfSk7XHJcbiAgfVxyXG5cclxuICBvcGVuQ29udGFjdERyb3Bkb3duID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY29udGFjdE9wZW4gPT0gdHJ1ZSlcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnRhY3RPcGVuOiBmYWxzZSB9KTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnRhY3RPcGVuOiB0cnVlIH0pO1xyXG4gIH07XHJcbiAgdG9nZ2xlQ29udGFjdFBvcG92ZXIgPSB2YWx1ZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgY29udGFjdE9wZW46IHZhbHVlIH0pO1xyXG4gIH07XHJcbiAgZ2V0Rm9ybWF0dGVkRHVyYXRpb24gPSAoKSA9PiB7XHJcbiAgICBsZXQgZHVyYXRpb24gPSB0aGlzLnN0YXRlLmNhbGxEdXJhdGlvbisrO1xyXG4gICAgdmFyIGhyID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIDM2MDApO1xyXG4gICAgdmFyIG1pbiA9IE1hdGguZmxvb3IoKGR1cmF0aW9uIC0gKGhyICogMzYwMCkpIC8gNjApO1xyXG4gICAgdmFyIHNlYyA9IE1hdGguZmxvb3IoZHVyYXRpb24gLSAoaHIgKiAzNjAwKSAtIChtaW4gKiA2MCkpO1xyXG5cclxuICAgIGlmIChtaW4gPCAxMCkge1xyXG4gICAgICBtaW4gPSBcIjBcIiArIG1pbjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2VjIDwgMTApIHtcclxuICAgICAgc2VjID0gXCIwXCIgKyBzZWM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1pbiArICc6JyArIHNlYztcclxuICB9XHJcblxyXG4gIG9wZW5Wb2ljZW1haWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNWb2ljZW1haWxPcGVuOiAhdGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbE9wZW4gfSlcclxuICB9XHJcblxyXG4gIGNsb3NlUG9wVGltZWxpbmUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgcG9wVGltZWxpbmU6IGZhbHNlIH0pO1xyXG4gIH07XHJcblxyXG4gIG9wZW5Qb3BUaW1lbGluZSA9IHBvcFR5cGUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFRpbWVsaW5lOiB0cnVlLCBwb3BUeXBlOiBwb3BUeXBlIH0pO1xyXG4gIH07XHJcblxyXG4gIGdldFRpbWVsaW5lID0gcG9wVHlwZSA9PiB7XHJcbiAgICBjb25zdCB7IGNsYXNzZXMgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBsZXQgZXZlbnRzID0gXCJcIiwgbWFpbkhlYWRlciA9IFwiXCIsIG5vRXZlbnRNc2cgPSBcIlwiO1xyXG4gICAgaWYgKHBvcFR5cGUgPT09IFwiUEFZTUVOVF9ISVNUT1JZXCIpIHtcclxuICAgICAgZXZlbnRzID0gdGhpcy5zdGF0ZS5jdXN0b21lci5wYXltZW50cztcclxuICAgICAgLy8gZXZlbnRzPXRoaXMucGF5bWVudHM7XHJcbiAgICAgIG1haW5IZWFkZXIgPSBcIlJFQ0VOVCBQQVlNRU5UU1wiO1xyXG4gICAgICBub0V2ZW50TXNnID0gXCJObyBQYXltZW50cyBpbiBMYXN0IDMwIERheXNcIlxyXG4gICAgfVxyXG4gICAgaWYgKHBvcFR5cGUgPT09IFwiQ09NTV9ISVNUT1JZXCIpIHtcclxuICAgICAgZXZlbnRzID0gdGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uO1xyXG4gICAgICAvLyBldmVudHM9dGhpcy5jb21tdW5pY2F0aW9uO1xyXG4gICAgICBtYWluSGVhZGVyID0gXCJDT01NVU5JQ0FUSU9OIEhJU1RPUllcIjtcclxuICAgICAgbm9FdmVudE1zZyA9IFwiTm8gQ29tbXVuaWNhdGlvbiBIaXN0b3J5XCJcclxuICAgICAgZm9yIChsZXQgaSBpbiBldmVudHMpIHtcclxuICAgICAgICBsZXQgdHlwZSA9IGV2ZW50c1tpXS50eXBlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJDQUxMXCIpIHtcclxuICAgICAgICAgIGxldCBzdGF0dXMgPSBldmVudHNbaV0uY2FsbC5zdGF0dXM7XHJcbiAgICAgICAgICBpZiAoc3RhdHVzID09IFwiLTEwMFwiKSB7XHJcbiAgICAgICAgICAgIGV2ZW50c1tpXS5jb21tVHlwZSA9IFwiVk9JQ0VNQUlMXCI7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudHNbaV0uY29tbVR5cGUgPSBcIkNBTExcIjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJDT1JSRVNQT05ERU5DRVwiKSB7XHJcbiAgICAgICAgICBldmVudHNbaV0uY29tbVR5cGUgPSBcIk1BSUxcIjtcclxuICAgICAgICAgIGV2ZW50c1tpXS5jdXN0b21lck5hbWUgPSB0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgeygocG9wVHlwZSA9PSBcIkNPTU1fSElTVE9SWVwiKSB8fCBwb3BUeXBlID09IFwiUEFZTUVOVF9ISVNUT1JZXCIpICYmXHJcbiAgICAgICAgICA8VmVydGljYWxUaW1lTGluZVxyXG4gICAgICAgICAgICBwb3BUeXBlPXtwb3BUeXBlfVxyXG4gICAgICAgICAgICBldmVudHM9e2V2ZW50c31cclxuICAgICAgICAgICAgbWFpbkhlYWRlcj17bWFpbkhlYWRlcn1cclxuICAgICAgICAgICAgbm9FdmVudE1zZz17bm9FdmVudE1zZ31cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgdG9nZ2xlTXV0ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc011dGVkOiAhdGhpcy5zdGF0ZS5pc011dGVkIH0pXHJcbiAgICBzaXBUb2dnbGVNdXRlKCk7XHJcbiAgfVxyXG5cclxuICBzZXREdXJhdGlvbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmNhbGxEdXJhdGlvbiA9PT0gMCkge1xyXG4gICAgICB0aW1lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIilcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjYWxsRHVyYXRpb25JbkZvcm1hdDogdGhpcy5nZXRGb3JtYXR0ZWREdXJhdGlvbigpIH0pXHJcblxyXG4gICAgICB9LCAxMDAwKVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gIH1cclxuXHJcbiAgY2xlYXJJbnRlcnZhbE9uSGFuZ3VwID0gKCkgPT4ge1xyXG4gICAgY2xlYXJJbnRlcnZhbCh0aW1lSW50ZXJ2YWwpXHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGhhbmdVcCA9ICgpID0+IHtcclxuICAgIHNpcEhhbmd1cCgpXHJcbiAgICAvLyB0aGlzLnByb3BzLmNoYW5nZUNhbGxTdGF0ZSh7IGNhbGxpbmc6IGZhbHNlLCBzdGF0dXMgOiBcIkNvbm5lY3RlZCB0b1wiIH0pXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMpIHsgfVxyXG5cclxuICBvcGVuVm9pY2VtYWlsID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzVm9pY2VtYWlsT3BlbjogIXRoaXMuc3RhdGUuaXNWb2ljZW1haWxPcGVuIH0pXHJcbiAgfVxyXG5cclxuICBzd2l0Y2hUb0NhbGxQcmVwUGFnZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBjYWxsUHJlcFBhZ2U6IHRydWUgfSlcclxuICB9XHJcblxyXG4gIHN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgY2FsbFByZXBQYWdlOiBmYWxzZSB9KVxyXG5cclxuICB9XHJcblxyXG4gIGhhbmRsZVZvaWNlbWFpbE1lc3NhZ2UgPSAoKSA9PiB7XHJcblxyXG4gICAgLy9hZnRlciBmb3IgYWRkIGNhbGxlZF90b19uYW1lIG9yIG51bWJlciBpZiB1bmtub3cgdXNlciBhY2NvcmRpbmdseVxyXG5cclxuICAgIGxldCBjb250YWN0O1xyXG4gICAgbGV0IGNhbGxlZE5hbWUgPSB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICsgXCIgXCIgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWU7XHJcblxyXG4gICAgaWYgKGNhbGxlZE5hbWUgPT09IFwiVW5rbm93biBcIiB8fCBjYWxsZWROYW1lID09PSBcIlVubmFtZWQgVW5uYW1lZFwiKSB7XHJcbiAgICAgIGNvbnRhY3QgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29udGFjdCA9IGNhbGxlZE5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG1lc3NhZ2UgPSBgVm9pY2VtYWlsIFBsYXllZCBmb3IgJHtjb250YWN0ID8gY29udGFjdCA6IFwiXCJ9XFxuYDtcclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgdm9pY2VtYWlsUGxheWVkTWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcblxyXG5cclxuICAgIGxldCBuZXh0SWQgPSBwYXJzZUludCh0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pZCwgMTApICsgMTtcclxuICAgIGxldCBwcmV2SWQgPSBwYXJzZUludCh0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pZCwgMTApIC0gMTtcclxuICAgIGxldCBuZXh0VXJsID0gXCIvY2FsbHByZXAvXCIgKyBuZXh0SWQ7XHJcbiAgICBsZXQgcHJldlVybCA9IFwiL2NhbGxwcmVwL1wiICsgcHJldklkO1xyXG4gICAgY29uc3QgY2FsbGVkVG9OYW1lSW5pdGlhbHMgPSBnZXRJbml0aWFsc0Zyb21OYW1lKGAke3RoaXMuY2FsbGVkVG9GaXJzdE5hbWV9ICR7dGhpcy5jYWxsZWRUb0xhc3ROYW1lfWApO1xyXG4gICAgY29uc3QgeEF4aXNMYWJlbFN0eWxlcyA9IHtcclxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICBmb250U2l6ZTogXCIxM3B4XCIsXHJcbiAgICAgIHdpZHRoOiBcIjgwJVwiXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIikge1xyXG4gICAgICB0aGlzLnNldER1cmF0aW9uKClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5hcHBGcmFtZX0+XHJcbiAgICAgICAgPERyYXdlciB0b3BJdGVtcz17Z2V0TWVudUl0ZW1zKGNsYXNzZXMsIHRoZW1lLCB0aGlzLm9wZW5Qb3BUaW1lbGluZSl9IC8+XHJcbiAgICAgICAgPEN1c3RvbUZvb3RlciAvPlxyXG4gICAgICAgIHt0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmXHJcbiAgICAgICAgICA8SGFtbWVyIG9uU3dpcGVMZWZ0PXt0aGlzLnN3aXRjaFRvQ2FsbFByZXBQYWdlfSBvblN3aXBlUmlnaHQ9e3RoaXMuc3dpdGNoVG9DYWxsSW5DYWxsUGFnZX0gPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fSA+XHJcbiAgICAgICAgICAgICAgPE1vZGFsXHJcbiAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLnBvcFRpbWVsaW5lfVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZUF1dG9Gb2N1cz17dHJ1ZX1cclxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VQb3BUaW1lbGluZX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lckhpc3RvcnlNb2RhbH0+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0VGltZWxpbmUodGhpcy5zdGF0ZS5wb3BUeXBlKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxDbG9zZVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5jbG9zZVN0eWxlIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVBvcFRpbWVsaW5lfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDxGYWJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQWRkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMucHJldkZhYiwgY2xhc3Nlcy5mYWJCdXR0b25zKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17eyBkaXNhYmxlZDogY2xhc3Nlcy5kaXNhYmxlZEZhYiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3dpdGNoVG9DYWxsUHJlcFBhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZpZ2F0ZUJlZm9yZSBjbGFzc05hbWU9e3RoaXMuc3RhdGUuY2FsbFByZXBQYWdlID8gY2xhc3Nlcy5kaXNhYmxlZEFycm93aWNvbiA6IGNsYXNzZXMuYXJyb3dJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9GYWI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8RmFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbG9yPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkFkZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRGYWIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMubmV4dEZhYiwgY2xhc3Nlcy5mYWJCdXR0b25zKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zd2l0Y2hUb0NhbGxJbkNhbGxQYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TmF2aWdhdGVOZXh0IGNsYXNzTmFtZT17IXRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID8gY2xhc3Nlcy5kaXNhYmxlZEFycm93aWNvbiA6IGNsYXNzZXMuYXJyb3dJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9GYWI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiZcclxuICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIHhzPXsxMn0ganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiBhbGlnbkl0ZW1zPVwiZmxleC1zdGFydFwiIHN0eWxlPXt7IG1hcmdpblRvcDogXCIxLjEydmhcIiB9fT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17NX0gc3R5bGU9e3sgcGFkZGluZ0xlZnQ6IFwiMHB4XCIsIHBhZGRpbmdSaWdodDogXCIwcHhcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lck5hbWV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWV9ICBcclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWUubGVuZ3RoIDwgMjAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub1dyYXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIiBcIn1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUb29sdGlwIHRpdGxlPXt0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub1dyYXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lck5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIiBcIn1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lck51bWJlcn0+e3RoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOdW1iZXJ9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIHNtPXs2fSBsZz17Nn0gbWQ9ezZ9IHhsPXs1fSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cImZsZXgtZW5kXCIgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjb250YWluZXIgbGc9ezh9IG1kPXsxMH0geGw9ezEwfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cImZsZXgtZW5kXCIgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IFwiOC4zMzN2d1wiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBzbT17OX0gbGc9ezl9IG1kPXs5fSB4bD17OX0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJzcGFjZS1iZXR3ZWVuXCIgY2xhc3NOYW1lPXtjbGFzc2VzLmNhbGxHcmlkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgaXRlbSBsZz17N30gbWQ9ezd9IHhsPXs3fSBzdHlsZT17eyBjdXJzb3I6IFwicG9pbnRlclwiIH19IG9uQ2xpY2s9e3RoaXMub3BlbkNvbnRhY3REcm9wZG93bn0ganVzdGlmeT1cImZsZXgtc3RhcnRcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lckljb25DaXJjbGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSA9PT0gXCJVbm5hbWVkXCIgJiYgdGhpcy5jYWxsZWRUb0xhc3ROYW1lID09PSBcIlVubmFtZWRcIiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPj88L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICE9PSBcIlVubmFtZWRcIiAmJiB0aGlzLmNhbGxlZFRvTGFzdE5hbWUgIT09IFwiVW5uYW1lZFwiICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUudG9VcHBlckNhc2UoKS5jaGFyQXQoMCkgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWUudG9VcHBlckNhc2UoKS5jaGFyQXQoMCl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGxnPXs3fSBtZD17N30geGw9ezd9IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYWxsVGV4dH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJzcGFuXCIgbm9XcmFwIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnN0YXR1cyl9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNhbGxlZFRvQ29udGFjdERpdn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgbm9XcmFwPXt0cnVlfSBjbGFzc05hbWU9e2NsYXNzZXMuY2FsbGVkQ29udGFjdE5hbWV9ID5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5jYWxsZWRUb0Z1bGxOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLmRyb3BEb3dufSBhbGlnbj1cInJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd0Ryb3BEb3duSWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5kcm9wRG93bkljb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5jb250YWN0SWNvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb250YWN0TGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFGcm9tQ2hpbGQ9e3RoaXMudG9nZ2xlQ29udGFjdFBvcG92ZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdE9wZW49e3RoaXMuc3RhdGUuY29udGFjdE9wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkNvbnRhY3RzPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0cz17dGhpcy5zdGF0ZS5jdXN0b21lci5jb250YWN0c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlcz17dGhpcy5zdGF0ZS5pbnZvaWNlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXROYW1lcz17dGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q3VzdG9tZXJVcmw9e3RoaXMubmV4dFVybH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b0NhbGxDdXN0b21lcnM9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS50b0NhbGxDdXN0b21lcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NvbnRhY3RMaXN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgaXRlbSBsZz17NX0gbWQ9ezV9IHhsPXs1fSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cImZsZXgtZW5kXCI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc2VzLmR1cmF0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuY2FsbER1cmF0aW9uSW5Gb3JtYXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLm1pY09mZkljb24sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNNdXRlZCAmJiA8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5taWNPZmZJY29uSW1nfSBzcmM9eycvdG92by9zdGF0aWMvdW5tdXRlLnN2Zyd9IG9uQ2xpY2s9e3RoaXMudG9nZ2xlTXV0ZX0gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5pc011dGVkICYmIDxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLm1pY09mZkljb25JbWd9IHNyYz17cmVxdWlyZSgnLi4vYXNzZXRzL21pY19vZmYucG5nJyl9IG9uQ2xpY2s9e3RoaXMudG9nZ2xlTXV0ZX0gLz59XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cInJpZ2h0XCIgY2xhc3NOYW1lPXtjbGFzc2VzLmhhbmdVcEJ1dHRvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmhhbmdVcEJ1dHRvbkltZ30gb25DbGljaz17dGhpcy5oYW5nVXB9IGNsYXNzTmFtZT17Y2xhc3Nlcy5oYW5nVXBJY29uSW5nfSBzcmM9e3JlcXVpcmUoJy4uL2Fzc2V0cy9oYW5nLXVwLnBuZycpfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMuZGlhbHBhZEljb259PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxLZXlQYWRXcmFwcGVkIGNsYXNzTmFtZT17Y2xhc3Nlcy5iYXNlSWNvblNpemV9IGN1c3RvbWVyPXt0aGlzLnN0YXRlLmN1c3RvbWVyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMudm9pY2VNYWlsSWNvbiwgY2xhc3Nlcy5iYXNlSWNvblNpemUpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Vm9pY2VtYWlsV3JhcHBlciBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn0gb25Wb2ljZW1haWxDbGljaz17KCkgPT4gdGhpcy5oYW5kbGVWb2ljZW1haWxNZXNzYWdlKCl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiB0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSA9PT0gZmFsc2UgJiZcclxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiMi4wMzd2aFwiIH19PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgeHM9ezEyfSBhbGlnbkl0ZW1zPVwiZmxleC1zdGFydFwiIGp1c3RpZnk9XCJjZW50ZXJcIiBzdHlsZT17eyBtYXJnaW5MZWZ0OiBcIjBweFwiIH19ID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezh9IGFsaWduPVwibGVmdFwiIHN0eWxlPXt7IHBhZGRpbmdUb3A6IFwiMFwiLCBwYWRkaW5nUmlnaHQ6IFwiMS4wNDF2d1wiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbnZvaWNlcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbkNhbGxEZXRhaWxzIGNvbGxlY3Rvcj17dGhpcy5wcm9wcy51c2VyfSBlbWFpbE9mQ2FsbGVkPXt0aGlzLmVtYWlsT2ZDYWxsZWR9IGN1c3RvbWVyPXt0aGlzLnN0YXRlLmN1c3RvbWVyfSBpbnZvaWNlcz17dGhpcy5zdGF0ZS5pbnZvaWNlc30gYnVja2V0TmFtZXM9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuYnVja2V0TmFtZXN9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIHhzPXs0fSBjbGFzc05hbWU9e2NsYXNzZXMudHJhbnNjcmlwdEJveFBhcmVudH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFuc2NyaXB0Qm94XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnRyYW5zY3JpcHRCb3h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Njcm9sbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZT17Y2xhc3Nlcy50cmFuc2NyaXB0VGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdENoYXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbjogdGhpcy5zdGF0ZS50cmFuc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkVG9OYW1lSW5pdGlhbHM6IGNhbGxlZFRvTmFtZUluaXRpYWxzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckluaXRpYWxzOiAnTUUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdEdyaWRJRDogJ2xpdmUtdHJhbnNjcmlwdGlvbi1ncmlkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiB0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSA9PT0gdHJ1ZSAmJlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxDYWxsUHJlcERldGFpbHMgY3VzdG9tZXI9e3RoaXMuc3RhdGUuY3VzdG9tZXJ9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvSGFtbWVyPlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gZmFsc2UgJiZcclxuICAgICAgICAgIChcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIkNhbGwgRmFpbGVkXCIgfHxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09IFwiV3JvbmcgTnVtYmVyXCIgfHxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09IFwiVXNlciBCdXN5XCIpICYmIChcclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8UmVkaXJlY3RcclxuICAgICAgICAgICAgICAgIHRvPXt7XHJcbiAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiBcIi9jYWxscHJlcC9cIiArIHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXHJcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiB7IG9wZW5Db250YWN0czogdHJ1ZSwgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLnRvQ2FsbEN1c3RvbWVycyB9XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSBmYWxzZSAmJiAoXHJcbiAgICAgICAgICAgIDxQb3N0Q2FsbFxyXG4gICAgICAgICAgICAgIHZvaWNlbWFpbE1lc3NhZ2U9e3RoaXMuc3RhdGUudm9pY2VtYWlsUGxheWVkTWVzc2FnZX1cclxuICAgICAgICAgICAgICBjYWxsRHVyYXRpb249e3RoaXMuc3RhdGUuY2FsbER1cmF0aW9ufVxyXG4gICAgICAgICAgICAgIHRvQ2FsbEN1c3RvbWVycz17dGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS50b0NhbGxDdXN0b21lcnN9XHJcbiAgICAgICAgICAgICAgbmV4dEN1c3RvbWVyVXJsPXt0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLm5leHRDdXN0b21lclVybH1cclxuICAgICAgICAgICAgICBvbkhhbmd1cD17dGhpcy5jbGVhckludGVydmFsT25IYW5ndXB9XHJcbiAgICAgICAgICAgICAgaW52b2ljZXM9e3RoaXMuc3RhdGUuaW52b2ljZXN9XHJcbiAgICAgICAgICAgICAgY3VzdG9tZXI9e3RoaXMuc3RhdGUuY3VzdG9tZXJ9XHJcbiAgICAgICAgICAgICAgY2FsbGVkVG9OYW1lPXt0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICsgXCIgXCIgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWV9XHJcbiAgICAgICAgICAgICAgYnVja2V0TmFtZXM9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuYnVja2V0TmFtZXN9XHJcbiAgICAgICAgICAgICAgY29sbGVjdG9yPXt0aGlzLnByb3BzLnVzZXJ9XHJcbiAgICAgICAgICAgICAgY29udGFjdEluZGV4PXt0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbnRhY3RJbmRleH1cclxuICAgICAgICAgICAgICBjYWxsZWRUb051bWJlcj17dGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb051bWJlcn1cclxuICAgICAgICAgICAgICBpbml0aWFsVHJhbnNjcmlwdGlvbj17dGhpcy5zdGF0ZS50cmFuc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSBmYWxzZSAmJiB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiVHJ5aW5nIHRvIGNvbm5lY3RcIiAmJlxyXG4gICAgICAgICAgPGRpdj5cclxuXHJcbiAgICAgICAgICAgIDxSZWRpcmVjdCB0bz17e1xyXG4gICAgICAgICAgICAgIHBhdGhuYW1lOiAnL2NhbGxwcmVwLycgKyB0aGlzLnN0YXRlLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICAgIHN0YXRlOiB7IG9wZW5Db250YWN0czogZmFsc2UsIHRvQ2FsbEN1c3RvbWVyczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS50b0NhbGxDdXN0b21lcnMgfVxyXG4gICAgICAgICAgICB9fSAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe1xyXG5cclxuICB1c2VyOiBzdGF0ZS5wZXJzb25hbERldGFpbHMsXHJcbiAgY2FsbFN0YXRlOiBzdGF0ZS5jYWxsU3RhdGUsXHJcbiAgdHJhbnNjcmlwdGlvbjogc3RhdGUudHJhbnNjcmlwdGlvbixcclxuICBjdXN0b21lcnM6IHN0YXRlLmN1c3RvbWVycyxcclxufSlcclxuXHJcbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IGRpc3BhdGNoID0+ICh7XHJcbiAgY2hhbmdlQ2FsbFN0YXRlOiBkYXRhID0+IChkaXNwYXRjaChjaGFuZ2VDYWxsU3RhdGUoZGF0YSkpKSxcclxuICBjaGFuZ2VTdGF0dXM6IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZVN0YXR1cyhkYXRhKSkpLFxyXG4gIGNoYW5nZVRyYW5zY3JpcHRpb246IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZVRyYW5zY3JpcHRpb24oZGF0YSkpKSxcclxuICBjYWxsTG9nOiBkYXRhID0+IChkaXNwYXRjaChhZGRJbml0aWFsQ2FsbExvZyhkYXRhKSkpXHJcbn0pXHJcblxyXG5jb25zdCBjb21iaW5lZFN0eWxlID0gY29tYmluZVN0eWxlcyhzdHlsZXMsIGJhc2VTdHlsZSlcclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcclxuICBtYXBTdGF0ZVRvUHJvcHMsXHJcbiAgbWFwRGlzcGF0Y2hUb1Byb3BzLFxyXG4pKHdpdGhTdHlsZXMoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW5DYWxsKSlcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92aWV3cy9JbkNhbGwuanMiLCJpbXBvcnQgYWRkRGF5cyBmcm9tICdkYXRlLWZucy9hZGREYXlzJztcbmltcG9ydCBhZGRNb250aHMgZnJvbSAnZGF0ZS1mbnMvYWRkTW9udGhzJztcbmltcG9ydCBhZGRZZWFycyBmcm9tICdkYXRlLWZucy9hZGRZZWFycyc7XG5pbXBvcnQgZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzIGZyb20gJ2RhdGUtZm5zL2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyc7XG5pbXBvcnQgZWFjaERheU9mSW50ZXJ2YWwgZnJvbSAnZGF0ZS1mbnMvZWFjaERheU9mSW50ZXJ2YWwnO1xuaW1wb3J0IGVuZE9mRGF5IGZyb20gJ2RhdGUtZm5zL2VuZE9mRGF5JztcbmltcG9ydCBlbmRPZk1vbnRoIGZyb20gJ2RhdGUtZm5zL2VuZE9mTW9udGgnO1xuaW1wb3J0IGVuZE9mV2VlayBmcm9tICdkYXRlLWZucy9lbmRPZldlZWsnO1xuaW1wb3J0IGVuZE9mWWVhciBmcm9tICdkYXRlLWZucy9lbmRPZlllYXInO1xuaW1wb3J0IGZvcm1hdCBmcm9tICdkYXRlLWZucy9mb3JtYXQnO1xuaW1wb3J0IGdldEhvdXJzIGZyb20gJ2RhdGUtZm5zL2dldEhvdXJzJztcbmltcG9ydCBnZXRTZWNvbmRzIGZyb20gJ2RhdGUtZm5zL2dldFNlY29uZHMnO1xuaW1wb3J0IGdldFllYXIgZnJvbSAnZGF0ZS1mbnMvZ2V0WWVhcic7XG5pbXBvcnQgaXNBZnRlciBmcm9tICdkYXRlLWZucy9pc0FmdGVyJztcbmltcG9ydCBpc0JlZm9yZSBmcm9tICdkYXRlLWZucy9pc0JlZm9yZSc7XG5pbXBvcnQgaXNFcXVhbCBmcm9tICdkYXRlLWZucy9pc0VxdWFsJztcbmltcG9ydCBpc1NhbWVEYXkgZnJvbSAnZGF0ZS1mbnMvaXNTYW1lRGF5JztcbmltcG9ydCBpc1ZhbGlkIGZyb20gJ2RhdGUtZm5zL2lzVmFsaWQnO1xuaW1wb3J0IGRhdGVGbnNQYXJzZSBmcm9tICdkYXRlLWZucy9wYXJzZSc7XG5pbXBvcnQgc2V0SG91cnMgZnJvbSAnZGF0ZS1mbnMvc2V0SG91cnMnO1xuaW1wb3J0IHNldE1pbnV0ZXMgZnJvbSAnZGF0ZS1mbnMvc2V0TWludXRlcyc7XG5pbXBvcnQgc2V0U2Vjb25kcyBmcm9tICdkYXRlLWZucy9zZXRTZWNvbmRzJztcbmltcG9ydCBzZXRZZWFyIGZyb20gJ2RhdGUtZm5zL3NldFllYXInO1xuaW1wb3J0IHN0YXJ0T2ZEYXkgZnJvbSAnZGF0ZS1mbnMvc3RhcnRPZkRheSc7XG5pbXBvcnQgc3RhcnRPZk1vbnRoIGZyb20gJ2RhdGUtZm5zL3N0YXJ0T2ZNb250aCc7XG5pbXBvcnQgc3RhcnRPZldlZWsgZnJvbSAnZGF0ZS1mbnMvc3RhcnRPZldlZWsnO1xuaW1wb3J0IHN0YXJ0T2ZZZWFyIGZyb20gJ2RhdGUtZm5zL3N0YXJ0T2ZZZWFyJztcblxudmFyIERhdGVGbnNVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRlRm5zVXRpbHMoX2EpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IChfYSA9PT0gdm9pZCAwID8ge30gOiBfYSkubG9jYWxlO1xuICAgICAgICB0aGlzLmRhdGVUaW1lMTJoRm9ybWF0ID0gXCJNTU1NIGRvIGhoOm1tIGFhYWFcIjtcbiAgICAgICAgdGhpcy5kYXRlVGltZTI0aEZvcm1hdCA9IFwiTU1NTSBkbyBISDptbVwiO1xuICAgICAgICB0aGlzLnRpbWUxMmhGb3JtYXQgPSBcImhoOm1tIGFcIjtcbiAgICAgICAgdGhpcy50aW1lMjRoRm9ybWF0ID0gXCJISDptbVwiO1xuICAgICAgICB0aGlzLmRhdGVGb3JtYXQgPSBcIk1NTU0gZG9cIjtcbiAgICAgICAgdGhpcy5sb2NhbGUgPSBsb2NhbGU7XG4gICAgfVxuICAgIC8vIE5vdGU6IGRhdGUtZm5zIGlucHV0IHR5cGVzIGFyZSBtb3JlIGxlbmllbnQgdGhhbiB0aGlzIGFkYXB0ZXIsIHNvIHdlIG5lZWQgdG8gZXhwb3NlIG91ciBtb3JlXG4gICAgLy8gIHN0cmljdCBzaWduYXR1cmUgYW5kIGRlbGVnYXRlIHRvIHRoZSBtb3JlIGxlbmllbnQgc2lndGF0dXJlLiAgT3RoZXJ3aXNlLCB3ZSBoYXZlIGRvd25zdHJlYW0gdHlwZSBlcnJvcnMgdXBvbiB1c2FnZS5cbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmFkZERheXMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBhZGREYXlzKHZhbHVlLCBjb3VudCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzVmFsaWQodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXREaWZmID0gZnVuY3Rpb24gKHZhbHVlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGRpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNBZnRlciA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBpc0FmdGVyKHZhbHVlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0JlZm9yZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBpc0JlZm9yZSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc3RhcnRPZkRheSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gc3RhcnRPZkRheSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmVuZE9mRGF5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBlbmRPZkRheSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldEhvdXJzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRIb3Vycyh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnNldEhvdXJzID0gZnVuY3Rpb24gKHZhbHVlLCBjb3VudCkge1xuICAgICAgICByZXR1cm4gc2V0SG91cnModmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0TWludXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIHNldE1pbnV0ZXModmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U2Vjb25kcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZ2V0U2Vjb25kcyh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnNldFNlY29uZHMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBzZXRTZWNvbmRzKHZhbHVlLCBjb3VudCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzU2FtZURheSA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBpc1NhbWVEYXkodmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFN0YXJ0T2ZNb250aCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gc3RhcnRPZk1vbnRoKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZ2V0WWVhcih2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnNldFllYXIgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBzZXRZZWFyKHZhbHVlLCBjb3VudCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmRhdGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZm9ybWF0U3RyaW5nKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGVGbnNQYXJzZSh2YWx1ZSwgZm9ybWF0U3RyaW5nLCBuZXcgRGF0ZSgpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKGRhdGUsIGZvcm1hdFN0cmluZykge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIGZvcm1hdFN0cmluZywgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKGRhdGUsIGNvbXBhcmluZykge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gbnVsbCAmJiBjb21wYXJpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0VxdWFsKGRhdGUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzTnVsbCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlID09PSBudWxsO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0FmdGVyRGF5ID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0FmdGVyKGRhdGUsIGVuZE9mRGF5KHZhbHVlKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQmVmb3JlRGF5ID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0JlZm9yZShkYXRlLCBzdGFydE9mRGF5KHZhbHVlKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQmVmb3JlWWVhciA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNCZWZvcmUoZGF0ZSwgc3RhcnRPZlllYXIodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNBZnRlclllYXIgPSBmdW5jdGlvbiAoZGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzQWZ0ZXIoZGF0ZSwgZW5kT2ZZZWFyKHZhbHVlKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmZvcm1hdE51bWJlciA9IGZ1bmN0aW9uIChudW1iZXJUb0Zvcm1hdCkge1xuICAgICAgICByZXR1cm4gbnVtYmVyVG9Gb3JtYXQ7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE1pbnV0ZXMgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE1vbnRoID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TWVyaWRpZW1UZXh0ID0gZnVuY3Rpb24gKGFtcG0pIHtcbiAgICAgICAgcmV0dXJuIGFtcG0gPT09IFwiYW1cIiA/IFwiQU1cIiA6IFwiUE1cIjtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TmV4dE1vbnRoID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGFkZE1vbnRocyhkYXRlLCAxKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0UHJldmlvdXNNb250aCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBhZGRNb250aHMoZGF0ZSwgLTEpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5tZXJnZURhdGVBbmRUaW1lID0gZnVuY3Rpb24gKGRhdGUsIHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TWludXRlcyh0aGlzLnNldEhvdXJzKGRhdGUsIHRoaXMuZ2V0SG91cnModGltZSkpLCB0aGlzLmdldE1pbnV0ZXModGltZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRXZWVrZGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHJldHVybiBlYWNoRGF5T2ZJbnRlcnZhbCh7XG4gICAgICAgICAgICBzdGFydDogc3RhcnRPZldlZWsobm93LCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSksXG4gICAgICAgICAgICBlbmQ6IGVuZE9mV2Vlayhub3csIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KVxuICAgICAgICB9LCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSkubWFwKGZ1bmN0aW9uIChkYXkpIHsgcmV0dXJuIGZvcm1hdChkYXksIFwiRUVFRUVFXCIsIHsgbG9jYWxlOiBfdGhpcy5sb2NhbGUgfSk7IH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRXZWVrQXJyYXkgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSBzdGFydE9mV2VlayhzdGFydE9mTW9udGgoZGF0ZSksIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICAgICAgdmFyIGVuZCA9IGVuZE9mV2VlayhlbmRPZk1vbnRoKGRhdGUpLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50ID0gc3RhcnQ7XG4gICAgICAgIHZhciBuZXN0ZWRXZWVrcyA9IFtdO1xuICAgICAgICB3aGlsZSAoaXNCZWZvcmUoY3VycmVudCwgZW5kKSkge1xuICAgICAgICAgICAgdmFyIHdlZWtOdW1iZXIgPSBNYXRoLmZsb29yKGNvdW50IC8gNyk7XG4gICAgICAgICAgICBuZXN0ZWRXZWVrc1t3ZWVrTnVtYmVyXSA9IG5lc3RlZFdlZWtzW3dlZWtOdW1iZXJdIHx8IFtdO1xuICAgICAgICAgICAgbmVzdGVkV2Vla3Nbd2Vla051bWJlcl0ucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBhZGREYXlzKGN1cnJlbnQsIDEpO1xuICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmVzdGVkV2Vla3M7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFllYXJSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgIHZhciBzdGFydERhdGUgPSBzdGFydE9mWWVhcihzdGFydCk7XG4gICAgICAgIHZhciBlbmREYXRlID0gZW5kT2ZZZWFyKGVuZCk7XG4gICAgICAgIHZhciB5ZWFycyA9IFtdO1xuICAgICAgICB2YXIgY3VycmVudCA9IHN0YXJ0RGF0ZTtcbiAgICAgICAgd2hpbGUgKGlzQmVmb3JlKGN1cnJlbnQsIGVuZERhdGUpKSB7XG4gICAgICAgICAgICB5ZWFycy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgY3VycmVudCA9IGFkZFllYXJzKGN1cnJlbnQsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5ZWFycztcbiAgICB9O1xuICAgIC8vIGRpc3BsYXlpbmcgbWV0aHBkc1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0Q2FsZW5kYXJIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcIk1NTU0geXl5eVwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFllYXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcInl5eXlcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXREYXRlUGlja2VySGVhZGVyVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgXCJFRUUsIE1NTSBkXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGF0ZVRpbWVQaWNrZXJIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcIk1NTSBkXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGF5VGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgXCJkXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0SG91clRleHQgPSBmdW5jdGlvbiAoZGF0ZSwgYW1wbSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIGFtcG0gPyBcImhoXCIgOiBcIkhIXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TWludXRlVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgXCJtbVwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFNlY29uZFRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIFwic3NcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIERhdGVGbnNVdGlscztcbn0oKSk7XG5cbmV4cG9ydCBkZWZhdWx0IERhdGVGbnNVdGlscztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BkYXRlLWlvL2RhdGUtZm5zL2J1aWxkL2luZGV4LmVzbS5qc1xuLy8gbW9kdWxlIGlkID0gNjA3NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBfX2V4dGVuZHMsIF9fYXNzaWduLCBfX3Jlc3QgfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgeyBmdW5jLCBvbmVPZlR5cGUsIG9iamVjdCwgc3RyaW5nLCBlbGVtZW50LCBhcnJheU9mLCBib29sLCBub2RlLCBhbnksIG9uZU9mLCBudW1iZXIsIGluc3RhbmNlT2YsIHNoYXBlIH0gZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBjcmVhdGVFbGVtZW50LCBDb21wb25lbnQsIEZyYWdtZW50LCBQdXJlQ29tcG9uZW50LCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1hc2tlZElucHV0IGZyb20gJ3JlYWN0LXRleHQtbWFzayc7XG5pbXBvcnQgSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uJztcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b24nO1xuaW1wb3J0IElucHV0QWRvcm5tZW50IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0lucHV0QWRvcm5tZW50JztcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nJztcbmltcG9ydCBEaWFsb2dBY3Rpb25zIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ0FjdGlvbnMnO1xuaW1wb3J0IERpYWxvZ0NvbnRlbnQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQ29udGVudCc7XG5pbXBvcnQgeyBjcmVhdGVTdHlsZXMsIHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgRXZlbnRMaXN0ZW5lciBmcm9tICdyZWFjdC1ldmVudC1saXN0ZW5lcic7XG5pbXBvcnQga2V5Y29kZSBmcm9tICdrZXljb2RlJztcbmltcG9ydCBjcmVhdGVTdHlsZXMkMSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMvY3JlYXRlU3R5bGVzJztcbmltcG9ydCB3aXRoU3R5bGVzJDEgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzL3dpdGhTdHlsZXMnO1xuaW1wb3J0IFRvb2xiYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVG9vbGJhcic7XG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcbmltcG9ydCB7IENTU1RyYW5zaXRpb24sIFRyYW5zaXRpb25Hcm91cCB9IGZyb20gJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAnO1xuaW1wb3J0IHsgZmluZERPTU5vZGUgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFBvcG92ZXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvUG9wb3Zlcic7XG5pbXBvcnQgUGFwZXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvUGFwZXInO1xuaW1wb3J0IHdpdGhUaGVtZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMvd2l0aFRoZW1lJztcbmltcG9ydCBUYWIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGFiJztcbmltcG9ydCBUYWJzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RhYnMnO1xuXG52YXIgX2EgPSBjcmVhdGVDb250ZXh0KG51bGwpLFxuICAgIENvbnN1bWVyID0gX2EuQ29uc3VtZXIsXG4gICAgUHJvdmlkZXIgPSBfYS5Qcm92aWRlcjtcblxudmFyIE11aVBpY2tlcnNDb250ZXh0Q29uc3VtZXIgPSBDb25zdW1lcjtcblxudmFyIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB1dGlsczogbnVsbFxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIFV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGxvY2FsZSA9IF9hLmxvY2FsZSxcbiAgICAgICAgbW9tZW50ID0gX2EubW9tZW50O1xuICAgIHJldHVybiB7XG4gICAgICB1dGlsczogbmV3IFV0aWxzKHtcbiAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgIG1vbWVudDogbW9tZW50XG4gICAgICB9KVxuICAgIH07XG4gIH07XG5cbiAgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChQcm92aWRlciwge1xuICAgICAgdmFsdWU6IHRoaXMuc3RhdGUudXRpbHMsXG4gICAgICBjaGlsZHJlbjogdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgIH0pO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLnByb3BUeXBlcyA9IHtcbiAgICB1dGlsczogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGxvY2FsZTogb25lT2ZUeXBlKFtvYmplY3QsIHN0cmluZ10pLFxuICAgIGNoaWxkcmVuOiBvbmVPZlR5cGUoW2VsZW1lbnQuaXNSZXF1aXJlZCwgYXJyYXlPZihlbGVtZW50LmlzUmVxdWlyZWQpXSkuaXNSZXF1aXJlZCxcbiAgICBtb21lbnQ6IGZ1bmNcbiAgfSA6IHZvaWQgMDtcbiAgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGxvY2FsZTogdW5kZWZpbmVkLFxuICAgIG1vbWVudDogdW5kZWZpbmVkXG4gIH07XG4gIHJldHVybiBNdWlQaWNrZXJzVXRpbHNQcm92aWRlcjtcbn0oQ29tcG9uZW50KTtcblxudmFyIGNoZWNrVXRpbHMgPSBmdW5jdGlvbiAodXRpbHMpIHtcbiAgaWYgKCF1dGlscykge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBmaW5kIHV0aWxzIGluIGNvbnRleHQuIFlvdSBlaXRoZXIgYSkgZm9yZ290IHRvIHdyYXAgeW91ciBjb21wb25lbnQgdHJlZSBpbiBNdWlQaWNrZXJzVXRpbHNQcm92aWRlcjsgb3IgYikgbWl4ZWQgbmFtZWQgYW5kIGRpcmVjdCBmaWxlIGltcG9ydHMuICBSZWNvbW1lbmRhdGlvbjogdXNlIG5hbWVkIGltcG9ydHMgZnJvbSB0aGUgbW9kdWxlIGluZGV4LicpO1xuICB9XG59O1xuXG52YXIgd2l0aFV0aWxzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKENvbXBvbmVudCQkMSkge1xuICAgIHZhciBXaXRoVXRpbHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KE11aVBpY2tlcnNDb250ZXh0Q29uc3VtZXIsIG51bGwsIGZ1bmN0aW9uICh1dGlscykge1xuICAgICAgICBjaGVja1V0aWxzKHV0aWxzKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50JCQxLCBfX2Fzc2lnbih7XG4gICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgIH0sIHByb3BzKSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgV2l0aFV0aWxzLmRpc3BsYXlOYW1lID0gXCJXaXRoVXRpbHMoXCIgKyAoQ29tcG9uZW50JCQxLmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudCQkMS5uYW1lKSArIFwiKVwiO1xuICAgIHJldHVybiBXaXRoVXRpbHM7XG4gIH07XG59O1xuXG52YXIgZ2V0SW5pdGlhbERhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gX2EuaW5pdGlhbEZvY3VzZWREYXRlO1xuICB2YXIgaW5pdGlhbERhdGUgPSB2YWx1ZSB8fCBpbml0aWFsRm9jdXNlZERhdGUgfHwgdXRpbHMuZGF0ZSgpO1xuICB2YXIgZGF0ZSA9IHV0aWxzLmRhdGUoaW5pdGlhbERhdGUpO1xuICByZXR1cm4gdXRpbHMuaXNWYWxpZChkYXRlKSA/IGRhdGUgOiB1dGlscy5kYXRlKCk7XG59O1xuXG52YXIgQmFzZVBpY2tlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhCYXNlUGlja2VyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEJhc2VQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRhdGU6IGdldEluaXRpYWxEYXRlKF90aGlzLnByb3BzKSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGZhbHNlXG4gICAgfTtcblxuICAgIF90aGlzLmNoYW5nZURhdGUgPSBmdW5jdGlvbiAoZGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRhdGU6IGRhdGVcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UgPSBmdW5jdGlvbiAoaXNBY2NlcHRlZCwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWRcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucHJvcHMub25DaGFuZ2UobnVsbCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjY2VwdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5vbkNoYW5nZShfdGhpcy5zdGF0ZS5kYXRlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU2V0VG9kYXlEYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNoYW5nZShfdGhpcy5wcm9wcy51dGlscy5kYXRlKCksIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlID0gX2EubWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZTtcblxuICAgICAgaWYgKG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2UpIHtcbiAgICAgICAgZGF0ZSA9IHV0aWxzLm1lcmdlRGF0ZUFuZFRpbWUoX3RoaXMuc3RhdGUuZGF0ZSwgZGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRlID09PSBudWxsKSB7XG4gICAgICAgIG9uQ2hhbmdlKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuY2hhbmdlRGF0ZShkYXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlKGRhdGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucGljazEyaE9yMjRoRm9ybWF0ID0gZnVuY3Rpb24gKGRlZmF1bHQxMmhGb3JtYXQsIGRlZmF1bHQyNGhGb3JtYXQpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBhbXBtID0gX2EuYW1wbTtcblxuICAgICAgaWYgKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gZm9ybWF0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYW1wbSA/IGRlZmF1bHQxMmhGb3JtYXQgOiBkZWZhdWx0MjRoRm9ybWF0O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAobmV3RGF0ZSwgaXNGaW5pc2gpIHtcbiAgICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlzRmluaXNoID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b09rID0gX2EuYXV0b09rLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2U7XG5cbiAgICAgIF90aGlzLmNoYW5nZURhdGUobmV3RGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNGaW5pc2ggJiYgYXV0b09rKSB7XG4gICAgICAgICAgb25DaGFuZ2UobmV3RGF0ZSk7IC8vIHBhc3MgZG93biBhY2NlcHQgdHJ1ZSwgYW5kIG1ha2UgaXQgZmFsc2UgaW4gdGhlIG5leHQgdGlja1xuXG4gICAgICAgICAgX3RoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UodHJ1ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUFjY2VwdGVkQ2hhbmdlKGZhbHNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZURpc21pc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRhdGU6IGdldEluaXRpYWxEYXRlKF90aGlzLnByb3BzKVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEJhc2VQaWNrZXIucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBfYS5pbml0aWFsRm9jdXNlZERhdGU7XG5cbiAgICBpZiAocHJldlByb3BzLnZhbHVlICE9PSB2YWx1ZSB8fCBwcmV2UHJvcHMudXRpbHMubG9jYWxlICE9PSB1dGlscy5sb2NhbGUgfHwgcHJldlByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSAhPT0gaW5pdGlhbEZvY3VzZWREYXRlKSB7XG4gICAgICB0aGlzLmNoYW5nZURhdGUoZ2V0SW5pdGlhbERhdGUodGhpcy5wcm9wcykpO1xuICAgIH1cbiAgfTtcblxuICBCYXNlUGlja2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4oX19hc3NpZ24oe30sIHRoaXMuc3RhdGUsIHtcbiAgICAgIHV0aWxzOiB0aGlzLnByb3BzLnV0aWxzLFxuICAgICAgY2hhbmdlRGF0ZTogdGhpcy5jaGFuZ2VEYXRlLFxuICAgICAgaGFuZGxlQWNjZXB0ZWRDaGFuZ2U6IHRoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UsXG4gICAgICBoYW5kbGVDbGVhcjogdGhpcy5oYW5kbGVDbGVhcixcbiAgICAgIGhhbmRsZUFjY2VwdDogdGhpcy5oYW5kbGVBY2NlcHQsXG4gICAgICBoYW5kbGVEaXNtaXNzOiB0aGlzLmhhbmRsZURpc21pc3MsXG4gICAgICBoYW5kbGVTZXRUb2RheURhdGU6IHRoaXMuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlOiB0aGlzLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdDogdGhpcy5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICBoYW5kbGVDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBCYXNlUGlja2VyO1xufShDb21wb25lbnQpO1xudmFyIEJhc2VQaWNrZXIkMSA9IHdpdGhVdGlscygpKEJhc2VQaWNrZXIpO1xuXG52YXIgZGF0ZSA9IG9uZU9mVHlwZShbb2JqZWN0LCBzdHJpbmcsIG51bWJlciwgaW5zdGFuY2VPZihEYXRlKV0pO1xudmFyIERvbWFpblByb3BUeXBlcyA9IHtcbiAgZGF0ZTogZGF0ZVxufTtcblxudmFyIElucHV0ID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKElucHV0LCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIElucHV0KCkge1xuICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIElucHV0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgaW5wdXRSZWYgPSBfYS5pbnB1dFJlZixcbiAgICAgICAga2VlcENoYXJQb3NpdGlvbnMgPSBfYS5rZWVwQ2hhclBvc2l0aW9ucyxcbiAgICAgICAgcmVzdCA9IF9fcmVzdChfYSwgW1wiaW5wdXRSZWZcIiwgXCJrZWVwQ2hhclBvc2l0aW9uc1wiXSk7XG5cbiAgICByZXR1cm4gdGhpcy5wcm9wcy5tYXNrID8gY3JlYXRlRWxlbWVudChNYXNrZWRJbnB1dCwgX19hc3NpZ24oe30sIHJlc3QsIHtcbiAgICAgIGtlZXBDaGFyUG9zaXRpb25zOiBrZWVwQ2hhclBvc2l0aW9ucyxcbiAgICAgIHJlZjogaW5wdXRSZWZcbiAgICB9KSkgOiBjcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX19hc3NpZ24oe30sIHJlc3QsIHtcbiAgICAgIHJlZjogaW5wdXRSZWZcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gSW5wdXQucHJvcFR5cGVzID0ge1xuICAgIG1hc2s6IGFueSxcbiAgICBpbnB1dFJlZjogZnVuYy5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIElucHV0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtYXNrOiB1bmRlZmluZWRcbiAgfTtcbiAgcmV0dXJuIElucHV0O1xufShQdXJlQ29tcG9uZW50KTtcblxudmFyIGdldERpc3BsYXlEYXRlID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgIGludmFsaWRMYWJlbCA9IF9hLmludmFsaWRMYWJlbCxcbiAgICAgIGVtcHR5TGFiZWwgPSBfYS5lbXB0eUxhYmVsLFxuICAgICAgbGFiZWxGdW5jID0gX2EubGFiZWxGdW5jO1xuICB2YXIgaXNFbXB0eSA9IHZhbHVlID09PSBudWxsO1xuICB2YXIgZGF0ZSA9IHV0aWxzLmRhdGUodmFsdWUpO1xuXG4gIGlmIChsYWJlbEZ1bmMpIHtcbiAgICByZXR1cm4gbGFiZWxGdW5jKGlzRW1wdHkgPyBudWxsIDogZGF0ZSwgaW52YWxpZExhYmVsKTtcbiAgfVxuXG4gIGlmIChpc0VtcHR5KSB7XG4gICAgcmV0dXJuIGVtcHR5TGFiZWw7XG4gIH1cblxuICByZXR1cm4gdXRpbHMuaXNWYWxpZChkYXRlKSA/IHV0aWxzLmZvcm1hdChkYXRlLCBmb3JtYXQpIDogaW52YWxpZExhYmVsO1xufTtcblxudmFyIGdldEVycm9yID0gZnVuY3Rpb24gKHZhbHVlLCBwcm9wcykge1xuICB2YXIgdXRpbHMgPSBwcm9wcy51dGlscyxcbiAgICAgIG1heERhdGUgPSBwcm9wcy5tYXhEYXRlLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBtYXhEYXRlTWVzc2FnZSA9IHByb3BzLm1heERhdGVNZXNzYWdlLFxuICAgICAgbWluRGF0ZU1lc3NhZ2UgPSBwcm9wcy5taW5EYXRlTWVzc2FnZSxcbiAgICAgIGludmFsaWREYXRlTWVzc2FnZSA9IHByb3BzLmludmFsaWREYXRlTWVzc2FnZTtcblxuICBpZiAoIXV0aWxzLmlzVmFsaWQodmFsdWUpKSB7XG4gICAgLy8gaWYgbnVsbCAtIGRvIG5vdCBzaG93IGVycm9yXG4gICAgaWYgKHV0aWxzLmlzTnVsbCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICByZXR1cm4gaW52YWxpZERhdGVNZXNzYWdlO1xuICB9XG5cbiAgaWYgKG1heERhdGUgJiYgdXRpbHMuaXNBZnRlcih2YWx1ZSwgdXRpbHMuZW5kT2ZEYXkodXRpbHMuZGF0ZShtYXhEYXRlKSkpIHx8IGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNBZnRlcih2YWx1ZSwgdXRpbHMuZW5kT2ZEYXkodXRpbHMuZGF0ZSgpKSkpIHtcbiAgICByZXR1cm4gbWF4RGF0ZU1lc3NhZ2U7XG4gIH1cblxuICBpZiAobWluRGF0ZSAmJiB1dGlscy5pc0JlZm9yZSh2YWx1ZSwgdXRpbHMuc3RhcnRPZkRheSh1dGlscy5kYXRlKG1pbkRhdGUpKSkgfHwgZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNCZWZvcmUodmFsdWUsIHV0aWxzLnN0YXJ0T2ZEYXkodXRpbHMuZGF0ZSgpKSkpIHtcbiAgICByZXR1cm4gbWluRGF0ZU1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gJyc7XG59O1xuXG52YXIgRGF0ZVRleHRGaWVsZCA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhEYXRlVGV4dEZpZWxkLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIERhdGVUZXh0RmllbGQoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IERhdGVUZXh0RmllbGQudXBkYXRlU3RhdGUoX3RoaXMucHJvcHMpO1xuXG4gICAgX3RoaXMuY29tbWl0VXBkYXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICAgICAgb25DbGVhciA9IF9hLm9uQ2xlYXIsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgICAgb25FcnJvciA9IF9hLm9uRXJyb3I7XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgaWYgKF90aGlzLnByb3BzLnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZShfdGhpcy5wcm9wcykpO1xuICAgICAgICB9IGVsc2UgaWYgKGNsZWFyYWJsZSAmJiBvbkNsZWFyKSB7XG4gICAgICAgICAgb25DbGVhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2xkVmFsdWUgPSB1dGlscy5kYXRlKF90aGlzLnN0YXRlLnZhbHVlKTtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IHV0aWxzLnBhcnNlKHZhbHVlLCBmb3JtYXQpO1xuICAgICAgdmFyIGVycm9yID0gZ2V0RXJyb3IobmV3VmFsdWUsIF90aGlzLnByb3BzKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgIGRpc3BsYXlWYWx1ZTogdmFsdWUsXG4gICAgICAgIHZhbHVlOiBlcnJvciA/IG5ld1ZhbHVlIDogb2xkVmFsdWVcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFlcnJvciAmJiAhdXRpbHMuaXNFcXVhbChuZXdWYWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgICAgb25DaGFuZ2UobmV3VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yICYmIG9uRXJyb3IpIHtcbiAgICAgICAgICBvbkVycm9yKG5ld1ZhbHVlLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVCbHVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5rZXlib2FyZCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgX3RoaXMuY29tbWl0VXBkYXRlcyhlLnRhcmdldC52YWx1ZSk7XG5cbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQmx1cikge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uQmx1cihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgICAgb25JbnB1dENoYW5nZSA9IF9hLm9uSW5wdXRDaGFuZ2U7XG4gICAgICB2YXIgcGFyc2VkVmFsdWUgPSB1dGlscy5wYXJzZShlLnRhcmdldC52YWx1ZSwgZm9ybWF0KTtcblxuICAgICAgaWYgKG9uSW5wdXRDaGFuZ2UpIHtcbiAgICAgICAgb25JbnB1dENoYW5nZShlKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkaXNwbGF5VmFsdWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICBlcnJvcjogZ2V0RXJyb3IocGFyc2VkVmFsdWUsIF90aGlzLnByb3BzKVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMua2V5Ym9hcmQpIHtcbiAgICAgICAgX3RoaXMub3BlblBpY2tlcihlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgIGlmICghX3RoaXMucHJvcHMuZGlzYWJsZU9wZW5PbkVudGVyKSB7XG4gICAgICAgICAgX3RoaXMub3BlblBpY2tlcihlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlIFRPRE8gY2hlY2sgbWVcbiAgICAgICAgICBfdGhpcy5jb21taXRVcGRhdGVzKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuUGlja2VyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG4gICAgICAgICAgb25DbGljayA9IF9hLm9uQ2xpY2s7XG5cbiAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgb25DbGljayhlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgRGF0ZVRleHRGaWVsZC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgIGlmICghdGhpcy5wcm9wcy51dGlscy5pc0VxdWFsKHRoaXMucHJvcHMudmFsdWUsIHByZXZQcm9wcy52YWx1ZSkgfHwgcHJldlByb3BzLmZvcm1hdCAhPT0gdGhpcy5wcm9wcy5mb3JtYXQgfHwgcHJldlByb3BzLm1heERhdGUgIT09IHRoaXMucHJvcHMubWF4RGF0ZSB8fCBwcmV2UHJvcHMubWluRGF0ZSAhPT0gdGhpcy5wcm9wcy5taW5EYXRlIHx8IHByZXZQcm9wcy5lbXB0eUxhYmVsICE9PSB0aGlzLnByb3BzLmVtcHR5TGFiZWwgfHwgcHJldlByb3BzLnV0aWxzICE9PSB0aGlzLnByb3BzLnV0aWxzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKERhdGVUZXh0RmllbGQudXBkYXRlU3RhdGUodGhpcy5wcm9wcykpO1xuICAgIH1cbiAgfTtcblxuICBEYXRlVGV4dEZpZWxkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgYWRvcm5tZW50UG9zaXRpb24gPSBfYS5hZG9ybm1lbnRQb3NpdGlvbixcbiAgICAgICAgY2xlYXJhYmxlID0gX2EuY2xlYXJhYmxlLFxuICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgZGlzYWJsZU9wZW5PbkVudGVyID0gX2EuZGlzYWJsZU9wZW5PbkVudGVyLFxuICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0LFxuICAgICAgICBlbXB0eUxhYmVsID0gX2EuZW1wdHlMYWJlbCxcbiAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICBJbnB1dEFkb3JubWVudFByb3BzID0gX2EuSW5wdXRBZG9ybm1lbnRQcm9wcyxcbiAgICAgICAgSW5wdXRQcm9wcyA9IF9hLklucHV0UHJvcHMsXG4gICAgICAgIGludmFsaWREYXRlTWVzc2FnZSA9IF9hLmludmFsaWREYXRlTWVzc2FnZSxcbiAgICAgICAgaW52YWxpZExhYmVsID0gX2EuaW52YWxpZExhYmVsLFxuICAgICAgICBrZXlib2FyZCA9IF9hLmtleWJvYXJkLFxuICAgICAgICBrZXlib2FyZEljb24gPSBfYS5rZXlib2FyZEljb24sXG4gICAgICAgIGxhYmVsRnVuYyA9IF9hLmxhYmVsRnVuYyxcbiAgICAgICAgbWFzayA9IF9hLm1hc2ssXG4gICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICBtYXhEYXRlTWVzc2FnZSA9IF9hLm1heERhdGVNZXNzYWdlLFxuICAgICAgICBtaW5EYXRlID0gX2EubWluRGF0ZSxcbiAgICAgICAgbWluRGF0ZU1lc3NhZ2UgPSBfYS5taW5EYXRlTWVzc2FnZSxcbiAgICAgICAgb25CbHVyID0gX2Eub25CbHVyLFxuICAgICAgICBvbkNsZWFyID0gX2Eub25DbGVhcixcbiAgICAgICAgb25DbGljayA9IF9hLm9uQ2xpY2ssXG4gICAgICAgIHBpcGUgPSBfYS5waXBlLFxuICAgICAgICBrZWVwQ2hhclBvc2l0aW9ucyA9IF9hLmtlZXBDaGFyUG9zaXRpb25zLFxuICAgICAgICBUZXh0RmllbGRDb21wb25lbnQgPSBfYS5UZXh0RmllbGRDb21wb25lbnQsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIG9uSW5wdXRDaGFuZ2UgPSBfYS5vbklucHV0Q2hhbmdlLFxuICAgICAgICBvdGhlciA9IF9fcmVzdChfYSwgW1wiYWRvcm5tZW50UG9zaXRpb25cIiwgXCJjbGVhcmFibGVcIiwgXCJkaXNhYmxlZFwiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJkaXNhYmxlT3Blbk9uRW50ZXJcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImVtcHR5TGFiZWxcIiwgXCJmb3JtYXRcIiwgXCJJbnB1dEFkb3JubWVudFByb3BzXCIsIFwiSW5wdXRQcm9wc1wiLCBcImludmFsaWREYXRlTWVzc2FnZVwiLCBcImludmFsaWRMYWJlbFwiLCBcImtleWJvYXJkXCIsIFwia2V5Ym9hcmRJY29uXCIsIFwibGFiZWxGdW5jXCIsIFwibWFza1wiLCBcIm1heERhdGVcIiwgXCJtYXhEYXRlTWVzc2FnZVwiLCBcIm1pbkRhdGVcIiwgXCJtaW5EYXRlTWVzc2FnZVwiLCBcIm9uQmx1clwiLCBcIm9uQ2xlYXJcIiwgXCJvbkNsaWNrXCIsIFwicGlwZVwiLCBcImtlZXBDaGFyUG9zaXRpb25zXCIsIFwiVGV4dEZpZWxkQ29tcG9uZW50XCIsIFwidXRpbHNcIiwgXCJ2YWx1ZVwiLCBcIm9uSW5wdXRDaGFuZ2VcIl0pO1xuXG4gICAgdmFyIF9iID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgZGlzcGxheVZhbHVlID0gX2IuZGlzcGxheVZhbHVlLFxuICAgICAgICBlcnJvciA9IF9iLmVycm9yO1xuICAgIHZhciBsb2NhbElucHV0UHJvcHMgPSB7XG4gICAgICBpbnB1dENvbXBvbmVudDogSW5wdXQsXG4gICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgIG1hc2s6ICFrZXlib2FyZCA/IG51bGwgOiBtYXNrLFxuICAgICAgICBwaXBlOiAha2V5Ym9hcmQgPyBudWxsIDogcGlwZSxcbiAgICAgICAga2VlcENoYXJQb3NpdGlvbnM6ICFrZXlib2FyZCA/IHVuZGVmaW5lZCA6IGtlZXBDaGFyUG9zaXRpb25zLFxuICAgICAgICByZWFkT25seTogIWtleWJvYXJkXG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChrZXlib2FyZCkge1xuICAgICAgbG9jYWxJbnB1dFByb3BzW2Fkb3JubWVudFBvc2l0aW9uICsgXCJBZG9ybm1lbnRcIl0gPSBjcmVhdGVFbGVtZW50KElucHV0QWRvcm5tZW50LCBfX2Fzc2lnbih7XG4gICAgICAgIHBvc2l0aW9uOiBhZG9ybm1lbnRQb3NpdGlvblxuICAgICAgfSwgSW5wdXRBZG9ybm1lbnRQcm9wcyksIGNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwge1xuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub3BlblBpY2tlclxuICAgICAgfSwgY3JlYXRlRWxlbWVudChJY29uLCBudWxsLCBcIiBcIiwga2V5Ym9hcmRJY29uLCBcIiBcIikpKTtcbiAgICB9XG5cbiAgICB2YXIgQ29tcG9uZW50JCQxID0gVGV4dEZpZWxkQ29tcG9uZW50O1xuXG4gICAgdmFyIGlucHV0UHJvcHMgPSBfX2Fzc2lnbih7fSwgbG9jYWxJbnB1dFByb3BzLCBJbnB1dFByb3BzKTtcblxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KENvbXBvbmVudCQkMSwgX19hc3NpZ24oe1xuICAgICAgb25DbGljazogdGhpcy5oYW5kbGVGb2N1cyxcbiAgICAgIGVycm9yOiAhIWVycm9yLFxuICAgICAgaGVscGVyVGV4dDogZXJyb3IsXG4gICAgICBvbktleVByZXNzOiB0aGlzLmhhbmRsZUtleVByZXNzLFxuICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICB2YWx1ZTogZGlzcGxheVZhbHVlXG4gICAgfSwgb3RoZXIsIHtcbiAgICAgIG9uRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgIElucHV0UHJvcHM6IGlucHV0UHJvcHNcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVRleHRGaWVsZC5wcm9wVHlwZXMgPSB7XG4gICAgdmFsdWU6IG9uZU9mVHlwZShbb2JqZWN0LCBzdHJpbmcsIG51bWJlciwgaW5zdGFuY2VPZihEYXRlKV0pLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgZm9ybWF0OiBzdHJpbmcsXG4gICAgb25CbHVyOiBmdW5jLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgb25DbGVhcjogZnVuYyxcbiAgICBvbkNsaWNrOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2xlYXJhYmxlOiBib29sLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBJbnB1dFByb3BzOiBzaGFwZSh7fSksXG4gICAgbWFzazogYW55LFxuICAgIG1pbkRhdGVNZXNzYWdlOiBub2RlLFxuICAgIG1heERhdGVNZXNzYWdlOiBub2RlLFxuICAgIGludmFsaWRMYWJlbDogc3RyaW5nLFxuICAgIGVtcHR5TGFiZWw6IHN0cmluZyxcbiAgICBsYWJlbEZ1bmM6IGZ1bmMsXG4gICAga2V5Ym9hcmQ6IGJvb2wsXG4gICAga2V5Ym9hcmRJY29uOiBub2RlLFxuICAgIGRpc2FibGVPcGVuT25FbnRlcjogYm9vbCxcbiAgICBpbnZhbGlkRGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgVGV4dEZpZWxkQ29tcG9uZW50OiBvbmVPZlR5cGUoW3N0cmluZywgZnVuY10pLFxuICAgIElucHV0QWRvcm5tZW50UHJvcHM6IG9iamVjdCxcbiAgICBhZG9ybm1lbnRQb3NpdGlvbjogb25lT2YoWydzdGFydCcsICdlbmQnXSksXG4gICAgb25FcnJvcjogZnVuYyxcbiAgICBvbklucHV0Q2hhbmdlOiBmdW5jLFxuICAgIHBpcGU6IGZ1bmMsXG4gICAga2VlcENoYXJQb3NpdGlvbnM6IGJvb2xcbiAgfSA6IHZvaWQgMDtcbiAgRGF0ZVRleHRGaWVsZC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIGludmFsaWRMYWJlbDogJ1Vua25vd24nLFxuICAgIGVtcHR5TGFiZWw6ICcnLFxuICAgIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICAgIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICAgIGZvcm1hdDogdW5kZWZpbmVkLFxuICAgIElucHV0UHJvcHM6IHVuZGVmaW5lZCxcbiAgICBrZXlib2FyZDogZmFsc2UsXG4gICAgbWFzazogdW5kZWZpbmVkLFxuICAgIGtleWJvYXJkSWNvbjogJ2V2ZW50JyxcbiAgICBkaXNhYmxlT3Blbk9uRW50ZXI6IGZhbHNlLFxuICAgIGludmFsaWREYXRlTWVzc2FnZTogJ0ludmFsaWQgRGF0ZSBGb3JtYXQnLFxuICAgIGNsZWFyYWJsZTogZmFsc2UsXG4gICAgb25CbHVyOiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBvbkVycm9yOiB1bmRlZmluZWQsXG4gICAgb25JbnB1dENoYW5nZTogdW5kZWZpbmVkLFxuICAgIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gICAgbWluRGF0ZU1lc3NhZ2U6ICdEYXRlIHNob3VsZCBub3QgYmUgYmVmb3JlIG1pbmltYWwgZGF0ZScsXG4gICAgbWF4RGF0ZU1lc3NhZ2U6ICdEYXRlIHNob3VsZCBub3QgYmUgYWZ0ZXIgbWF4aW1hbCBkYXRlJyxcbiAgICBUZXh0RmllbGRDb21wb25lbnQ6IFRleHRGaWVsZCxcbiAgICBJbnB1dEFkb3JubWVudFByb3BzOiB7fSxcbiAgICBhZG9ybm1lbnRQb3NpdGlvbjogJ2VuZCcsXG4gICAgcGlwZTogdW5kZWZpbmVkLFxuICAgIGtlZXBDaGFyUG9zaXRpb25zOiBmYWxzZVxuICB9O1xuXG4gIERhdGVUZXh0RmllbGQudXBkYXRlU3RhdGUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgZGlzcGxheVZhbHVlOiBnZXREaXNwbGF5RGF0ZShwcm9wcyksXG4gICAgICBlcnJvcjogZ2V0RXJyb3IocHJvcHMudXRpbHMuZGF0ZShwcm9wcy52YWx1ZSksIHByb3BzKVxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIERhdGVUZXh0RmllbGQ7XG59KFB1cmVDb21wb25lbnQpO1xuXG52YXIgRGF0ZVRleHRGaWVsZCQxID0gd2l0aFV0aWxzKCkoRGF0ZVRleHRGaWVsZCk7XG5cbnZhciBNb2RhbERpYWxvZyA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgb25LZXlEb3duID0gX2Eub25LZXlEb3duLFxuICAgICAgb25BY2NlcHQgPSBfYS5vbkFjY2VwdCxcbiAgICAgIG9uRGlzbWlzcyA9IF9hLm9uRGlzbWlzcyxcbiAgICAgIG9uQ2xlYXIgPSBfYS5vbkNsZWFyLFxuICAgICAgb25TZXRUb2RheSA9IF9hLm9uU2V0VG9kYXksXG4gICAgICBva0xhYmVsID0gX2Eub2tMYWJlbCxcbiAgICAgIGNhbmNlbExhYmVsID0gX2EuY2FuY2VsTGFiZWwsXG4gICAgICBjbGVhckxhYmVsID0gX2EuY2xlYXJMYWJlbCxcbiAgICAgIHRvZGF5TGFiZWwgPSBfYS50b2RheUxhYmVsLFxuICAgICAgY2xlYXJhYmxlID0gX2EuY2xlYXJhYmxlLFxuICAgICAgc2hvd1RvZGF5QnV0dG9uID0gX2Euc2hvd1RvZGF5QnV0dG9uLFxuICAgICAgc2hvd1RhYnMgPSBfYS5zaG93VGFicyxcbiAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzZXNcIiwgXCJvbktleURvd25cIiwgXCJvbkFjY2VwdFwiLCBcIm9uRGlzbWlzc1wiLCBcIm9uQ2xlYXJcIiwgXCJvblNldFRvZGF5XCIsIFwib2tMYWJlbFwiLCBcImNhbmNlbExhYmVsXCIsIFwiY2xlYXJMYWJlbFwiLCBcInRvZGF5TGFiZWxcIiwgXCJjbGVhcmFibGVcIiwgXCJzaG93VG9kYXlCdXR0b25cIiwgXCJzaG93VGFic1wiXSk7XG5cbiAgdmFyIF9iLCBfYywgX2Q7XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRGlhbG9nLCBfX2Fzc2lnbih7XG4gICAgcm9sZTogXCJkaWFsb2dcIixcbiAgICBvbkNsb3NlOiBvbkRpc21pc3MsXG4gICAgY2xhc3Nlczoge1xuICAgICAgcGFwZXI6IGNsYXNzbmFtZXMoY2xhc3Nlcy5kaWFsb2dSb290LCAoX2IgPSB7fSwgX2JbY2xhc3Nlcy5kaWFsb2dXaXRoVGFic10gPSBzaG93VGFicywgX2IpKVxuICAgIH1cbiAgfSwgb3RoZXIpLCBjcmVhdGVFbGVtZW50KEV2ZW50TGlzdGVuZXIsIHtcbiAgICB0YXJnZXQ6IFwid2luZG93XCIsXG4gICAgb25LZXlEb3duOiBvbktleURvd25cbiAgfSksIGNyZWF0ZUVsZW1lbnQoRGlhbG9nQ29udGVudCwge1xuICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy5kaWFsb2csIChfYyA9IHt9LCBfY1tjbGFzc2VzLmRpYWxvZ1dpdGhUYWJzXSA9IHNob3dUYWJzLCBfYykpXG4gIH0pLCBjcmVhdGVFbGVtZW50KERpYWxvZ0FjdGlvbnMsIHtcbiAgICBjbGFzc2VzOiB7XG4gICAgICByb290OiBjbGVhcmFibGUgfHwgc2hvd1RvZGF5QnV0dG9uID8gY2xhc3Nlcy5kaWFsb2dBY3Rpb25zIDogdW5kZWZpbmVkLFxuICAgICAgYWN0aW9uOiBjbGFzc25hbWVzKGNsYXNzZXMuZGlhbG9nQWN0aW9uLCAoX2QgPSB7fSwgX2RbY2xhc3Nlcy5jbGVhcmFibGVEaWFsb2dBY3Rpb25dID0gY2xlYXJhYmxlLCBfZFtjbGFzc2VzLnRvZGF5RGlhbG9nQWN0aW9uXSA9ICFjbGVhcmFibGUgJiYgc2hvd1RvZGF5QnV0dG9uLCBfZCkpXG4gICAgfVxuICB9LCBjbGVhcmFibGUgJiYgY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgb25DbGljazogb25DbGVhclxuICB9LCBjbGVhckxhYmVsKSwgIWNsZWFyYWJsZSAmJiBzaG93VG9kYXlCdXR0b24gJiYgY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgb25DbGljazogb25TZXRUb2RheVxuICB9LCB0b2RheUxhYmVsKSwgY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgb25DbGljazogb25EaXNtaXNzXG4gIH0sIGNhbmNlbExhYmVsKSwgY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgb25DbGljazogb25BY2NlcHRcbiAgfSwgb2tMYWJlbCkpKTtcbn07XG5Nb2RhbERpYWxvZy5kaXNwbGF5TmFtZSA9ICdNb2RhbERpYWxvZyc7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBNb2RhbERpYWxvZy5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gIG9uS2V5RG93bjogZnVuYy5pc1JlcXVpcmVkLFxuICBvbkFjY2VwdDogZnVuYy5pc1JlcXVpcmVkLFxuICBvbkRpc21pc3M6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgb25DbGVhcjogZnVuYy5pc1JlcXVpcmVkLFxuICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgb2tMYWJlbDogbm9kZS5pc1JlcXVpcmVkLFxuICBjYW5jZWxMYWJlbDogbm9kZS5pc1JlcXVpcmVkLFxuICBjbGVhckxhYmVsOiBub2RlLmlzUmVxdWlyZWQsXG4gIGNsZWFyYWJsZTogYm9vbC5pc1JlcXVpcmVkLFxuICB0b2RheUxhYmVsOiBub2RlLmlzUmVxdWlyZWQsXG4gIHNob3dUb2RheUJ1dHRvbjogYm9vbC5pc1JlcXVpcmVkLFxuICBvblNldFRvZGF5OiBmdW5jLmlzUmVxdWlyZWRcbn0gOiB2b2lkIDA7XG52YXIgZGlhbG9nV2lkdGggPSAzMTA7XG52YXIgZGlhbG9nSGVpZ2h0ID0gNDA1O1xudmFyIGRpYWxvZ0hlaWdodFdpdGhUYWJzID0gNDU1O1xudmFyIHN0eWxlcyA9IGNyZWF0ZVN0eWxlcyh7XG4gIGRpYWxvZ1Jvb3Q6IHtcbiAgICBtaW5XaWR0aDogZGlhbG9nV2lkdGgsXG4gICAgbWluSGVpZ2h0OiBkaWFsb2dIZWlnaHRcbiAgfSxcbiAgZGlhbG9nOiB7XG4gICAgd2lkdGg6IGRpYWxvZ1dpZHRoLFxuICAgIG1pbkhlaWdodDogZGlhbG9nSGVpZ2h0LFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAnJjpmaXJzdC1jaGlsZCc6IHtcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9XG4gIH0sXG4gIGRpYWxvZ1dpdGhUYWJzOiB7XG4gICAgbWluSGVpZ2h0OiBkaWFsb2dIZWlnaHRXaXRoVGFic1xuICB9LFxuICBkaWFsb2dBY3Rpb25zOiB7XG4gICAgLy8gc2V0IGp1c3RpZnlDb250ZW50IHRvIGRlZmF1bHQgdmFsdWUgdG8gZml4IElFMTEgbGF5b3V0IGJ1Z1xuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZG10cktvdmFsZW5rby9tYXRlcmlhbC11aS1waWNrZXJzL3B1bGwvMjY3XG4gICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0J1xuICB9LFxuICBjbGVhcmFibGVEaWFsb2dBY3Rpb246IHtcbiAgICAnJjpmaXJzdC1jaGlsZCc6IHtcbiAgICAgIG1hcmdpblJpZ2h0OiAnYXV0bydcbiAgICB9XG4gIH0sXG4gIHRvZGF5RGlhbG9nQWN0aW9uOiB7XG4gICAgJyY6Zmlyc3QtY2hpbGQnOiB7XG4gICAgICBtYXJnaW5SaWdodDogJ2F1dG8nXG4gICAgfVxuICB9LFxuICBkaWFsb2dBY3Rpb246IHsvLyBlbXB0eSBidXQgbWF5IGJlIG5lZWRlZCBmb3Igb3ZlcnJpZGVcbiAgfVxufSk7XG52YXIgTW9kYWxEaWFsb2ckMSA9IHdpdGhTdHlsZXMoc3R5bGVzLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzTW9kYWwnXG59KShNb2RhbERpYWxvZyk7XG5cbnZhciBNb2RhbFdyYXBwZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoTW9kYWxXcmFwcGVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIE1vZGFsV3JhcHBlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogZmFsc2VcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoIChrZXljb2RlKGV2ZW50KSkge1xuICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgICAgX3RoaXMuaGFuZGxlQWNjZXB0KCk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGlmIGtleWNvZGUgaXMgbm90IGhhbmRsZWQsIHN0b3AgZXhlY3V0aW9uXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpZiBldmVudCB3YXMgaGFuZGxlZCBwcmV2ZW50IG90aGVyIHNpZGUgZWZmZWN0c1xuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVNldFRvZGF5RGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblNldFRvZGF5KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uU2V0VG9kYXkoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbk9wZW4pIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25PcGVuKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsb3NlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQWNjZXB0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQWNjZXB0KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQWNjZXB0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZURpc21pc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25EaXNtaXNzKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRGlzbWlzcygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlKCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsZWFyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2xlYXIoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTW9kYWxXcmFwcGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICAvLyBvbmx5IGlmIGFjY2VwdCA9IHRydWUgY2xvc2UgdGhlIGRpYWxvZ1xuICAgIGlmIChuZXh0UHJvcHMuaXNBY2NlcHRlZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgTW9kYWxXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICBvbkFjY2VwdCA9IF9hLm9uQWNjZXB0LFxuICAgICAgICBvbkRpc21pc3MgPSBfYS5vbkRpc21pc3MsXG4gICAgICAgIGludmFsaWRMYWJlbCA9IF9hLmludmFsaWRMYWJlbCxcbiAgICAgICAgbGFiZWxGdW5jID0gX2EubGFiZWxGdW5jLFxuICAgICAgICBva0xhYmVsID0gX2Eub2tMYWJlbCxcbiAgICAgICAgY2FuY2VsTGFiZWwgPSBfYS5jYW5jZWxMYWJlbCxcbiAgICAgICAgY2xlYXJMYWJlbCA9IF9hLmNsZWFyTGFiZWwsXG4gICAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgICAgdG9kYXlMYWJlbCA9IF9hLnRvZGF5TGFiZWwsXG4gICAgICAgIHNob3dUb2RheUJ1dHRvbiA9IF9hLnNob3dUb2RheUJ1dHRvbixcbiAgICAgICAgb25PcGVuID0gX2Eub25PcGVuLFxuICAgICAgICBvbkNsb3NlID0gX2Eub25DbG9zZSxcbiAgICAgICAgb25TZXRUb2RheSA9IF9hLm9uU2V0VG9kYXksXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBEaWFsb2dQcm9wcyA9IF9hLkRpYWxvZ1Byb3BzLFxuICAgICAgICBzaG93VGFicyA9IF9hLnNob3dUYWJzLFxuICAgICAgICBvdGhlciA9IF9fcmVzdChfYSwgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJjaGlsZHJlblwiLCBcIm9uQWNjZXB0XCIsIFwib25EaXNtaXNzXCIsIFwiaW52YWxpZExhYmVsXCIsIFwibGFiZWxGdW5jXCIsIFwib2tMYWJlbFwiLCBcImNhbmNlbExhYmVsXCIsIFwiY2xlYXJMYWJlbFwiLCBcImNsZWFyYWJsZVwiLCBcInRvZGF5TGFiZWxcIiwgXCJzaG93VG9kYXlCdXR0b25cIiwgXCJvbk9wZW5cIiwgXCJvbkNsb3NlXCIsIFwib25TZXRUb2RheVwiLCBcImlzQWNjZXB0ZWRcIiwgXCJEaWFsb2dQcm9wc1wiLCBcInNob3dUYWJzXCJdKTtcblxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBjcmVhdGVFbGVtZW50KERhdGVUZXh0RmllbGQkMSwgX19hc3NpZ24oe1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW4sXG4gICAgICAvLyBvbkZvY3VzPXt0aGlzLnRvZ2dsZVBpY2tlcn0gPC0gQ3VycmVudGx5IG5vdCBwcm9wZXJseSB3b3JrcyB3aXRoIC5ibHVyKCkgb24gVGV4dEZpZWxkXG4gICAgICBpbnZhbGlkTGFiZWw6IGludmFsaWRMYWJlbCxcbiAgICAgIGxhYmVsRnVuYzogbGFiZWxGdW5jLFxuICAgICAgY2xlYXJhYmxlOiBjbGVhcmFibGVcbiAgICB9LCBvdGhlcikpLCBjcmVhdGVFbGVtZW50KE1vZGFsRGlhbG9nJDEsIF9fYXNzaWduKHtcbiAgICAgIHNob3dUYWJzOiBzaG93VGFicyxcbiAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbixcbiAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuICAgICAgb25DbGVhcjogdGhpcy5oYW5kbGVDbGVhcixcbiAgICAgIG9uQWNjZXB0OiB0aGlzLmhhbmRsZUFjY2VwdCxcbiAgICAgIG9uRGlzbWlzczogdGhpcy5oYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogdGhpcy5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICBjbGVhckxhYmVsOiBjbGVhckxhYmVsLFxuICAgICAgdG9kYXlMYWJlbDogdG9kYXlMYWJlbCxcbiAgICAgIG9rTGFiZWw6IG9rTGFiZWwsXG4gICAgICBjYW5jZWxMYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICBjbGVhcmFibGU6IGNsZWFyYWJsZSxcbiAgICAgIHNob3dUb2RheUJ1dHRvbjogc2hvd1RvZGF5QnV0dG9uLFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfSwgRGlhbG9nUHJvcHMpKSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gTW9kYWxXcmFwcGVyLnByb3BUeXBlcyA9IHtcbiAgICBva0xhYmVsOiBub2RlLFxuICAgIGNhbmNlbExhYmVsOiBub2RlLFxuICAgIGNsZWFyTGFiZWw6IG5vZGUsXG4gICAgY2xlYXJhYmxlOiBib29sLFxuICAgIHRvZGF5TGFiZWw6IHN0cmluZyxcbiAgICBzaG93VG9kYXlCdXR0b246IGJvb2wsXG4gICAgb25PcGVuOiBmdW5jLFxuICAgIGZvcm1hdDogc3RyaW5nLFxuICAgIERpYWxvZ1Byb3BzOiBvYmplY3QsXG4gICAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGludmFsaWRMYWJlbDogbm9kZSxcbiAgICBsYWJlbEZ1bmM6IGZ1bmMsXG4gICAgb25DbG9zZTogZnVuYyxcbiAgICBvbkFjY2VwdDogZnVuYyxcbiAgICBvbkRpc21pc3M6IGZ1bmMsXG4gICAgb25DbGVhcjogZnVuYyxcbiAgICBvblNldFRvZGF5OiBmdW5jLFxuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgaXNBY2NlcHRlZDogYm9vbC5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIE1vZGFsV3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaW52YWxpZExhYmVsOiB1bmRlZmluZWQsXG4gICAgdmFsdWU6IG5ldyBEYXRlKCksXG4gICAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gICAgb2tMYWJlbDogJ09LJyxcbiAgICBjYW5jZWxMYWJlbDogJ0NhbmNlbCcsXG4gICAgY2xlYXJMYWJlbDogJ0NsZWFyJyxcbiAgICB0b2RheUxhYmVsOiAnVG9kYXknLFxuICAgIGNsZWFyYWJsZTogZmFsc2UsXG4gICAgc2hvd1RvZGF5QnV0dG9uOiBmYWxzZSxcbiAgICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgICBvbkFjY2VwdDogdW5kZWZpbmVkLFxuICAgIG9uRGlzbWlzczogdW5kZWZpbmVkLFxuICAgIG9uQ2xlYXI6IHVuZGVmaW5lZCxcbiAgICBvbk9wZW46IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlOiB1bmRlZmluZWQsXG4gICAgb25TZXRUb2RheTogdW5kZWZpbmVkLFxuICAgIERpYWxvZ1Byb3BzOiB1bmRlZmluZWQsXG4gICAgaXNBY2NlcHRlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIE1vZGFsV3JhcHBlcjtcbn0oUHVyZUNvbXBvbmVudCk7XG5cbnZhciBQaWNrZXJUb29sYmFyID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBvdGhlciA9IF9fcmVzdChfYSwgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJjbGFzc2VzXCJdKTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChUb29sYmFyLCBfX2Fzc2lnbih7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMudG9vbGJhciwgY2xhc3NOYW1lKVxuICB9LCBvdGhlciksIGNoaWxkcmVuKTtcbn07XG5cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFBpY2tlclRvb2xiYXIucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogYXJyYXlPZihub2RlKS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgY2xhc3NlczogYW55LmlzUmVxdWlyZWQsXG4gIGlubmVyUmVmOiBhbnlcbn0gOiB2b2lkIDA7XG5QaWNrZXJUb29sYmFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiAnJ1xufTtcbnZhciBzdHlsZXMkMSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIHRvb2xiYXI6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgaGVpZ2h0OiAxMDAsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0JyA/IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluIDogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kW1wiZGVmYXVsdFwiXVxuICAgIH1cbiAgfSk7XG59O1xudmFyIFBpY2tlclRvb2xiYXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkMSwge1xuICBuYW1lOiAnTXVpUGlja2Vyc1Rvb2xiYXInXG59KShQaWNrZXJUb29sYmFyKTtcblxudmFyIFRvb2xiYXJCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgc2VsZWN0ZWQgPSBfYS5zZWxlY3RlZCxcbiAgICAgIGxhYmVsID0gX2EubGFiZWwsXG4gICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICBvdGhlciA9IF9fcmVzdChfYSwgW1wiY2xhc3Nlc1wiLCBcInNlbGVjdGVkXCIsIFwibGFiZWxcIiwgXCJjbGFzc05hbWVcIl0pO1xuXG4gIHZhciBfYjtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCBfX2Fzc2lnbih7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMudG9vbGJhckJ0biwgY2xhc3NOYW1lLCAoX2IgPSB7fSwgX2JbY2xhc3Nlcy50b29sYmFyQnRuU2VsZWN0ZWRdID0gc2VsZWN0ZWQsIF9iKSlcbiAgfSwgb3RoZXIpLCBsYWJlbCk7XG59O1xuXG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBUb29sYmFyQnV0dG9uLnByb3BUeXBlcyA9IHtcbiAgc2VsZWN0ZWQ6IGJvb2wuaXNSZXF1aXJlZCxcbiAgbGFiZWw6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBjbGFzc2VzOiBhbnkuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIGlubmVyUmVmOiBhbnlcbn0gOiB2b2lkIDA7XG5Ub29sYmFyQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiAnJ1xufTtcbnZhciBzdHlsZXMkMiA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHRvb2xiYXJCdG46IHtcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNTQpJ1xuICAgIH0sXG4gICAgdG9vbGJhckJ0blNlbGVjdGVkOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGVcbiAgICB9XG4gIH07XG59O1xudmFyIFRvb2xiYXJCdXR0b24kMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkMiwge1xuICBuYW1lOiAnTXVpUGlja2Vyc1Rvb2xiYXJCdXR0b24nXG59KShUb29sYmFyQnV0dG9uKTtcblxudmFyIGZpbmRDbG9zZXN0RW5hYmxlZERhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9hLnNob3VsZERpc2FibGVEYXRlO1xuICB2YXIgdG9kYXkgPSB1dGlscy5zdGFydE9mRGF5KHV0aWxzLmRhdGUoKSk7XG4gIG1pbkRhdGUgPSBtaW5EYXRlICYmIHV0aWxzLmRhdGUobWluRGF0ZSk7XG4gIG1heERhdGUgPSBtYXhEYXRlICYmIHV0aWxzLmRhdGUobWF4RGF0ZSk7XG5cbiAgaWYgKGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlKG1pbkRhdGUsIHRvZGF5KSkge1xuICAgIG1pbkRhdGUgPSB0b2RheTtcbiAgfVxuXG4gIGlmIChkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXIobWF4RGF0ZSwgdG9kYXkpKSB7XG4gICAgbWF4RGF0ZSA9IHRvZGF5O1xuICB9XG5cbiAgdmFyIGZvcndhcmQgPSB1dGlscy5kYXRlKGRhdGUpO1xuICB2YXIgYmFja3dhcmQgPSB1dGlscy5kYXRlKGRhdGUpO1xuXG4gIGlmICh1dGlscy5pc0JlZm9yZShkYXRlLCBtaW5EYXRlKSkge1xuICAgIGZvcndhcmQgPSBtaW5EYXRlO1xuICAgIGJhY2t3YXJkID0gbnVsbDtcbiAgfVxuXG4gIGlmICh1dGlscy5pc0FmdGVyKGRhdGUsIG1heERhdGUpKSB7XG4gICAgaWYgKGJhY2t3YXJkKSB7XG4gICAgICBiYWNrd2FyZCA9IG1heERhdGU7XG4gICAgfVxuXG4gICAgZm9yd2FyZCA9IG51bGw7XG4gIH1cblxuICB3aGlsZSAoZm9yd2FyZCB8fCBiYWNrd2FyZCkge1xuICAgIGlmIChmb3J3YXJkICYmIHV0aWxzLmlzQWZ0ZXIoZm9yd2FyZCwgbWF4RGF0ZSkpIHtcbiAgICAgIGZvcndhcmQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChiYWNrd2FyZCAmJiB1dGlscy5pc0JlZm9yZShiYWNrd2FyZCwgbWluRGF0ZSkpIHtcbiAgICAgIGJhY2t3YXJkID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgaWYgKCFzaG91bGREaXNhYmxlRGF0ZShmb3J3YXJkKSkge1xuICAgICAgICByZXR1cm4gZm9yd2FyZDtcbiAgICAgIH1cblxuICAgICAgZm9yd2FyZCA9IHV0aWxzLmFkZERheXMoZm9yd2FyZCwgMSk7XG4gICAgfVxuXG4gICAgaWYgKGJhY2t3YXJkKSB7XG4gICAgICBpZiAoIXNob3VsZERpc2FibGVEYXRlKGJhY2t3YXJkKSkge1xuICAgICAgICByZXR1cm4gYmFja3dhcmQ7XG4gICAgICB9XG5cbiAgICAgIGJhY2t3YXJkID0gdXRpbHMuYWRkRGF5cyhiYWNrd2FyZCwgLTEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIGFuaW1hdGlvbkR1cmF0aW9uID0gMzUwO1xuXG52YXIgU2xpZGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICB0cmFuc0tleSA9IF9hLnRyYW5zS2V5LFxuICAgICAgc2xpZGVEaXJlY3Rpb24gPSBfYS5zbGlkZURpcmVjdGlvbjtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoVHJhbnNpdGlvbkdyb3VwLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMudHJhbnNpdGlvbkNvbnRhaW5lciwgY2xhc3NOYW1lKVxuICB9LCBjcmVhdGVFbGVtZW50KENTU1RyYW5zaXRpb24sIHtcbiAgICBrZXk6IHRyYW5zS2V5LFxuICAgIG1vdW50T25FbnRlcjogdHJ1ZSxcbiAgICB1bm1vdW50T25FeGl0OiB0cnVlLFxuICAgIHRpbWVvdXQ6IGFuaW1hdGlvbkR1cmF0aW9uLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICBjbGFzc05hbWVzOiB7XG4gICAgICBlbnRlcjogY2xhc3Nlc1tcInNsaWRlRW50ZXItXCIgKyBzbGlkZURpcmVjdGlvbl0sXG4gICAgICBlbnRlckFjdGl2ZTogY2xhc3Nlcy5zbGlkZUVudGVyQWN0aXZlLFxuICAgICAgZXhpdDogY2xhc3Nlcy5zbGlkZUV4aXQsXG4gICAgICBleGl0QWN0aXZlOiBjbGFzc2VzW1wic2xpZGVFeGl0QWN0aXZlTGVmdC1cIiArIHNsaWRlRGlyZWN0aW9uXVxuICAgIH1cbiAgfSkpO1xufTtcblxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gU2xpZGVUcmFuc2l0aW9uLnByb3BUeXBlcyA9IHtcbiAgY2xhc3Nlczogc2hhcGUoe30pLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxuICBzbGlkZURpcmVjdGlvbjogb25lT2YoWydsZWZ0JywgJ3JpZ2h0J10pLmlzUmVxdWlyZWQsXG4gIHRyYW5zS2V5OiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcblNsaWRlVHJhbnNpdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogdW5kZWZpbmVkXG59O1xudmFyIHN0eWxlcyQzID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHZhciBzbGlkZVRyYW5zaXRpb24gPSB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoJ3RyYW5zZm9ybScsIHtcbiAgICBkdXJhdGlvbjogYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgZWFzaW5nOiAnY3ViaWMtYmV6aWVyKDAuMzUsIDAuOCwgMC40LCAxKSdcbiAgfSk7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgdHJhbnNpdGlvbkNvbnRhaW5lcjoge1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgJyYgPiAqJzoge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfVxuICAgIH0sXG4gICAgJ3NsaWRlRW50ZXItbGVmdCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDEwMCUpJ1xuICAgIH0sXG4gICAgJ3NsaWRlRW50ZXItcmlnaHQnOiB7XG4gICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtMTAwJSknXG4gICAgfSxcbiAgICBzbGlkZUVudGVyQWN0aXZlOiB7XG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCUpJyxcbiAgICAgIHRyYW5zaXRpb246IHNsaWRlVHJhbnNpdGlvblxuICAgIH0sXG4gICAgc2xpZGVFeGl0OiB7XG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCUpJ1xuICAgIH0sXG4gICAgJ3NsaWRlRXhpdEFjdGl2ZUxlZnQtbGVmdCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0yMDAlKScsXG4gICAgICB0cmFuc2l0aW9uOiBzbGlkZVRyYW5zaXRpb25cbiAgICB9LFxuICAgICdzbGlkZUV4aXRBY3RpdmVMZWZ0LXJpZ2h0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMjAwJSknLFxuICAgICAgdHJhbnNpdGlvbjogc2xpZGVUcmFuc2l0aW9uXG4gICAgfVxuICB9KTtcbn07XG52YXIgU2xpZGVUcmFuc2l0aW9uJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJDMsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNTbGlkZVRyYW5zaXRpb24nXG59KShTbGlkZVRyYW5zaXRpb24pO1xuXG52YXIgQ2FsZW5kYXJIZWFkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgdGhlbWUgPSBfYS50aGVtZSxcbiAgICAgIGN1cnJlbnRNb250aCA9IF9hLmN1cnJlbnRNb250aCxcbiAgICAgIG9uTW9udGhDaGFuZ2UgPSBfYS5vbk1vbnRoQ2hhbmdlLFxuICAgICAgbGVmdEFycm93SWNvbiA9IF9hLmxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbiA9IF9hLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgZGlzYWJsZVByZXZNb250aCA9IF9hLmRpc2FibGVQcmV2TW9udGgsXG4gICAgICBkaXNhYmxlTmV4dE1vbnRoID0gX2EuZGlzYWJsZU5leHRNb250aCxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBzbGlkZURpcmVjdGlvbiA9IF9hLnNsaWRlRGlyZWN0aW9uO1xuICB2YXIgcnRsID0gdGhlbWUuZGlyZWN0aW9uID09PSAncnRsJztcblxuICB2YXIgc2VsZWN0TmV4dE1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBvbk1vbnRoQ2hhbmdlKHV0aWxzLmdldE5leHRNb250aChjdXJyZW50TW9udGgpLCAnbGVmdCcpO1xuICB9O1xuXG4gIHZhciBzZWxlY3RQcmV2aW91c01vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBvbk1vbnRoQ2hhbmdlKHV0aWxzLmdldFByZXZpb3VzTW9udGgoY3VycmVudE1vbnRoKSwgJ3JpZ2h0Jyk7XG4gIH07XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN3aXRjaEhlYWRlclxuICB9LCBjcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHtcbiAgICBkaXNhYmxlZDogZGlzYWJsZVByZXZNb250aCxcbiAgICBvbkNsaWNrOiBzZWxlY3RQcmV2aW91c01vbnRoLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uQnV0dG9uXG4gIH0sIGNyZWF0ZUVsZW1lbnQoSWNvbiwgbnVsbCwgcnRsID8gcmlnaHRBcnJvd0ljb24gOiBsZWZ0QXJyb3dJY29uKSksIGNyZWF0ZUVsZW1lbnQoU2xpZGVUcmFuc2l0aW9uJDEsIHtcbiAgICBzbGlkZURpcmVjdGlvbjogc2xpZGVEaXJlY3Rpb24sXG4gICAgdHJhbnNLZXk6IGN1cnJlbnRNb250aC50b1N0cmluZygpLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50cmFuc2l0aW9uQ29udGFpbmVyXG4gIH0sIGNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwge1xuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIHZhcmlhbnQ6IFwiYm9keTFcIlxuICB9LCB1dGlscy5nZXRDYWxlbmRhckhlYWRlclRleHQoY3VycmVudE1vbnRoKSkpLCBjcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHtcbiAgICBkaXNhYmxlZDogZGlzYWJsZU5leHRNb250aCxcbiAgICBvbkNsaWNrOiBzZWxlY3ROZXh0TW9udGgsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmljb25CdXR0b25cbiAgfSwgY3JlYXRlRWxlbWVudChJY29uLCBudWxsLCBydGwgPyBsZWZ0QXJyb3dJY29uIDogcmlnaHRBcnJvd0ljb24pKSksIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kYXlzSGVhZGVyXG4gIH0sIHV0aWxzLmdldFdlZWtkYXlzKCkubWFwKGZ1bmN0aW9uIChkYXksIGluZGV4KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwge1xuICAgICAga2V5OiBpbmRleCxcbiAgICAgIHZhcmlhbnQ6IFwiY2FwdGlvblwiLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmRheUxhYmVsXG4gICAgfSwgZGF5KTtcbiAgfSkpKTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDYWxlbmRhckhlYWRlci5wcm9wVHlwZXMgPSB7XG4gIGN1cnJlbnRNb250aDogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIG9uTW9udGhDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIHRoZW1lOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gIGRpc2FibGVQcmV2TW9udGg6IGJvb2wsXG4gIGRpc2FibGVOZXh0TW9udGg6IGJvb2wsXG4gIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgc2xpZGVEaXJlY3Rpb246IG9uZU9mKFsncmlnaHQnLCAnbGVmdCddKS5pc1JlcXVpcmVkLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuQ2FsZW5kYXJIZWFkZXIuZGVmYXVsdFByb3BzID0ge1xuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICBkaXNhYmxlUHJldk1vbnRoOiBmYWxzZSxcbiAgZGlzYWJsZU5leHRNb250aDogZmFsc2Vcbn07XG52YXIgc3R5bGVzJDQgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICBzd2l0Y2hIZWFkZXI6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0IC8gMixcbiAgICAgIG1hcmdpbkJvdHRvbTogdGhlbWUuc3BhY2luZy51bml0XG4gICAgfSxcbiAgICB0cmFuc2l0aW9uQ29udGFpbmVyOiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAyMFxuICAgIH0sXG4gICAgaWNvbkJ1dHRvbjoge1xuICAgICAgekluZGV4OiAyLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQucGFwZXIsXG4gICAgICAnJiA+IConOiB7XG4gICAgICAgIC8vIGxhYmVsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLnBhcGVyLFxuICAgICAgICAnJiA+IConOiB7XG4gICAgICAgICAgLy8gaWNvblxuICAgICAgICAgIHpJbmRleDogMSxcbiAgICAgICAgICBvdmVyZmxvdzogJ3Zpc2libGUnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRheXNIZWFkZXI6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgbWF4SGVpZ2h0OiAxNlxuICAgIH0sXG4gICAgZGF5TGFiZWw6IHtcbiAgICAgIHdpZHRoOiAzNixcbiAgICAgIG1hcmdpbjogJzAgMnB4JyxcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LmhpbnRcbiAgICB9XG4gIH0pO1xufTtcbnZhciBDYWxlbmRhckhlYWRlciQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQ0LCB7XG4gIHdpdGhUaGVtZTogdHJ1ZSxcbiAgbmFtZTogJ011aVBpY2tlcnNDYWxlbmRhckhlYWRlcidcbn0pKHdpdGhVdGlscygpKENhbGVuZGFySGVhZGVyKSk7XG5cbnZhciBEYXkgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoRGF5LCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIERheSgpIHtcbiAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICBEYXkucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF9iLmNoaWxkcmVuLFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgZGlzYWJsZWQgPSBfYi5kaXNhYmxlZCxcbiAgICAgICAgaGlkZGVuID0gX2IuaGlkZGVuLFxuICAgICAgICBjdXJyZW50ID0gX2IuY3VycmVudCxcbiAgICAgICAgc2VsZWN0ZWQgPSBfYi5zZWxlY3RlZCxcbiAgICAgICAgb3RoZXIgPSBfX3Jlc3QoX2IsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3Nlc1wiLCBcImRpc2FibGVkXCIsIFwiaGlkZGVuXCIsIFwiY3VycmVudFwiLCBcInNlbGVjdGVkXCJdKTtcblxuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc25hbWVzKGNsYXNzZXMuZGF5LCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy5oaWRkZW5dID0gaGlkZGVuLCBfYVtjbGFzc2VzLmN1cnJlbnRdID0gY3VycmVudCwgX2FbY2xhc3Nlcy5zZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2FbY2xhc3Nlcy5kaXNhYmxlZF0gPSBkaXNhYmxlZCwgX2EpKTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCBfX2Fzc2lnbih7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHRhYkluZGV4OiBoaWRkZW4gfHwgZGlzYWJsZWQgPyAtMSA6IDBcbiAgICB9LCBvdGhlciksIGNoaWxkcmVuKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXkucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY3VycmVudDogYm9vbCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBoaWRkZW46IGJvb2wsXG4gICAgc2VsZWN0ZWQ6IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBEYXkuZGVmYXVsdFByb3BzID0ge1xuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBoaWRkZW46IGZhbHNlLFxuICAgIGN1cnJlbnQ6IGZhbHNlLFxuICAgIHNlbGVjdGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gRGF5O1xufShQdXJlQ29tcG9uZW50KTtcblxudmFyIHN0eWxlcyQ1ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgZGF5OiB7XG4gICAgICB3aWR0aDogMzYsXG4gICAgICBoZWlnaHQ6IDM2LFxuICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkuY2FwdGlvbi5mb250U2l6ZSxcbiAgICAgIG1hcmdpbjogJzAgMnB4JyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bSxcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9LFxuICAgIGhpZGRlbjoge1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICAgIH0sXG4gICAgY3VycmVudDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgZm9udFdlaWdodDogNjAwXG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bSxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICB9XG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfVxuICB9KTtcbn07XG52YXIgRGF5JDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJDUsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNEYXknXG59KShEYXkpO1xuXG52YXIgRGF5V3JhcHBlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhEYXlXcmFwcGVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIERheVdyYXBwZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uU2VsZWN0KF90aGlzLnByb3BzLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgRGF5V3JhcHBlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGRheUluQ3VycmVudE1vbnRoID0gX2EuZGF5SW5DdXJyZW50TW9udGgsXG4gICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG4gICAgICAgIG9uU2VsZWN0ID0gX2Eub25TZWxlY3QsXG4gICAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJjaGlsZHJlblwiLCBcInZhbHVlXCIsIFwiZGF5SW5DdXJyZW50TW9udGhcIiwgXCJkaXNhYmxlZFwiLCBcIm9uU2VsZWN0XCJdKTtcblxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHtcbiAgICAgIG9uQ2xpY2s6IGRheUluQ3VycmVudE1vbnRoICYmICFkaXNhYmxlZCA/IHRoaXMuaGFuZGxlQ2xpY2sgOiB1bmRlZmluZWQsXG4gICAgICBvbktleVByZXNzOiBkYXlJbkN1cnJlbnRNb250aCAmJiAhZGlzYWJsZWQgPyB0aGlzLmhhbmRsZUNsaWNrIDogdW5kZWZpbmVkLFxuICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIlxuICAgIH0sIG90aGVyKSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERheVdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgZGF5SW5DdXJyZW50TW9udGg6IGJvb2wsXG4gICAgZGlzYWJsZWQ6IGJvb2wsXG4gICAgb25TZWxlY3Q6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogYW55LmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgRGF5V3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGF5SW5DdXJyZW50TW9udGg6IHRydWUsXG4gICAgZGlzYWJsZWQ6IGZhbHNlXG4gIH07XG4gIHJldHVybiBEYXlXcmFwcGVyO1xufShQdXJlQ29tcG9uZW50KTtcblxudmFyIENhbGVuZGFyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKENhbGVuZGFyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIENhbGVuZGFyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzbGlkZURpcmVjdGlvbjogJ2xlZnQnLFxuICAgICAgY3VycmVudE1vbnRoOiBfdGhpcy5wcm9wcy51dGlscy5nZXRTdGFydE9mTW9udGgoX3RoaXMucHJvcHMuZGF0ZSlcbiAgICB9O1xuXG4gICAgX3RoaXMub25EYXRlU2VsZWN0ID0gZnVuY3Rpb24gKGRheSwgaXNGaW5pc2gpIHtcbiAgICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlzRmluaXNoID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcblxuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UodXRpbHMubWVyZ2VEYXRlQW5kVGltZShkYXksIGRhdGUpLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZU1vbnRoID0gZnVuY3Rpb24gKG5ld01vbnRoLCBzbGlkZURpcmVjdGlvbikge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50TW9udGg6IG5ld01vbnRoLFxuICAgICAgICBzbGlkZURpcmVjdGlvbjogc2xpZGVEaXJlY3Rpb25cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy52YWxpZGF0ZU1pbk1heERhdGUgPSBmdW5jdGlvbiAoZGF5KSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBtaW5EYXRlID0gX2EubWluRGF0ZSxcbiAgICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgcmV0dXJuIG1pbkRhdGUgJiYgdXRpbHMuaXNCZWZvcmVEYXkoZGF5LCB1dGlscy5kYXRlKG1pbkRhdGUpKSB8fCBtYXhEYXRlICYmIHV0aWxzLmlzQWZ0ZXJEYXkoZGF5LCB1dGlscy5kYXRlKG1heERhdGUpKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc2hvdWxkRGlzYWJsZVByZXZNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgICBtaW5EYXRlID0gX2EubWluRGF0ZTtcbiAgICAgIHZhciBub3cgPSB1dGlscy5kYXRlKCk7XG4gICAgICByZXR1cm4gIXV0aWxzLmlzQmVmb3JlKHV0aWxzLmdldFN0YXJ0T2ZNb250aChkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0FmdGVyKG5vdywgbWluRGF0ZSkgPyBub3cgOiB1dGlscy5kYXRlKG1pbkRhdGUpKSwgX3RoaXMuc3RhdGUuY3VycmVudE1vbnRoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc2hvdWxkRGlzYWJsZU5leHRNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGU7XG4gICAgICB2YXIgbm93ID0gdXRpbHMuZGF0ZSgpO1xuICAgICAgcmV0dXJuICF1dGlscy5pc0FmdGVyKHV0aWxzLmdldFN0YXJ0T2ZNb250aChkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQmVmb3JlKG5vdywgbWF4RGF0ZSkgPyBub3cgOiB1dGlscy5kYXRlKG1heERhdGUpKSwgX3RoaXMuc3RhdGUuY3VycmVudE1vbnRoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc2hvdWxkRGlzYWJsZURhdGUgPSBmdW5jdGlvbiAoZGF5KSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0LFxuICAgICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX2Euc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHJldHVybiBCb29sZWFuKGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNBZnRlckRheShkYXksIHV0aWxzLmRhdGUoKSkgfHwgZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNCZWZvcmVEYXkoZGF5LCB1dGlscy5kYXRlKCkpIHx8IF90aGlzLnZhbGlkYXRlTWluTWF4RGF0ZShkYXkpIHx8IHNob3VsZERpc2FibGVEYXRlICYmIHNob3VsZERpc2FibGVEYXRlKGRheSkpO1xuICAgIH07XG5cbiAgICBfdGhpcy5tb3ZlVG9EYXkgPSBmdW5jdGlvbiAoZGF5KSB7XG4gICAgICBpZiAoZGF5ICYmICFfdGhpcy5zaG91bGREaXNhYmxlRGF0ZShkYXkpKSB7XG4gICAgICAgIF90aGlzLm9uRGF0ZVNlbGVjdChkYXksIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdGhlbWUgPSBfYS50aGVtZSxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuXG4gICAgICBzd2l0Y2ggKGtleWNvZGUoZXZlbnQpKSB7XG4gICAgICAgIGNhc2UgJ3VwJzpcbiAgICAgICAgICBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAtNykpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZG93bic6XG4gICAgICAgICAgX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgNykpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgdGhlbWUuZGlyZWN0aW9uID09PSAnbHRyJyA/IF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIC0xKSkgOiBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAxKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgIHRoZW1lLmRpcmVjdGlvbiA9PT0gJ2x0cicgPyBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAxKSkgOiBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAtMSkpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gaWYga2V5Y29kZSBpcyBub3QgaGFuZGxlZCwgc3RvcCBleGVjdXRpb25cbiAgICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGlmIGV2ZW50IHdhcyBoYW5kbGVkIHByZXZlbnQgb3RoZXIgc2lkZSBlZmZlY3RzIChlLmcuIHBhZ2Ugc2Nyb2xsKVxuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIF90aGlzLnJlbmRlcldlZWtzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHV0aWxzID0gX3RoaXMucHJvcHMudXRpbHM7XG4gICAgICB2YXIgY3VycmVudE1vbnRoID0gX3RoaXMuc3RhdGUuY3VycmVudE1vbnRoO1xuICAgICAgdmFyIHdlZWtzID0gdXRpbHMuZ2V0V2Vla0FycmF5KGN1cnJlbnRNb250aCk7XG4gICAgICByZXR1cm4gd2Vla3MubWFwKGZ1bmN0aW9uICh3ZWVrKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBrZXk6IFwid2Vlay1cIiArIHdlZWtbMF0udG9TdHJpbmcoKSxcbiAgICAgICAgICBjbGFzc05hbWU6IF90aGlzLnByb3BzLmNsYXNzZXMud2Vla1xuICAgICAgICB9LCBfdGhpcy5yZW5kZXJEYXlzKHdlZWspKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5yZW5kZXJEYXlzID0gZnVuY3Rpb24gKHdlZWspIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHJlbmRlckRheSA9IF9hLnJlbmRlckRheSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIHNlbGVjdGVkRGF0ZSA9IHV0aWxzLnN0YXJ0T2ZEYXkoZGF0ZSk7XG4gICAgICB2YXIgY3VycmVudE1vbnRoTnVtYmVyID0gdXRpbHMuZ2V0TW9udGgoX3RoaXMuc3RhdGUuY3VycmVudE1vbnRoKTtcbiAgICAgIHZhciBub3cgPSB1dGlscy5kYXRlKCk7XG4gICAgICByZXR1cm4gd2Vlay5tYXAoZnVuY3Rpb24gKGRheSkge1xuICAgICAgICB2YXIgZGlzYWJsZWQgPSBfdGhpcy5zaG91bGREaXNhYmxlRGF0ZShkYXkpO1xuXG4gICAgICAgIHZhciBkYXlJbkN1cnJlbnRNb250aCA9IHV0aWxzLmdldE1vbnRoKGRheSkgPT09IGN1cnJlbnRNb250aE51bWJlcjtcbiAgICAgICAgdmFyIGRheUNvbXBvbmVudCA9IGNyZWF0ZUVsZW1lbnQoRGF5JDEsIHtcbiAgICAgICAgICBjdXJyZW50OiB1dGlscy5pc1NhbWVEYXkoZGF5LCBub3cpLFxuICAgICAgICAgIGhpZGRlbjogIWRheUluQ3VycmVudE1vbnRoLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBzZWxlY3RlZDogdXRpbHMuaXNTYW1lRGF5KHNlbGVjdGVkRGF0ZSwgZGF5KVxuICAgICAgICB9LCB1dGlscy5nZXREYXlUZXh0KGRheSkpO1xuXG4gICAgICAgIGlmIChyZW5kZXJEYXkpIHtcbiAgICAgICAgICBkYXlDb21wb25lbnQgPSByZW5kZXJEYXkoZGF5LCBzZWxlY3RlZERhdGUsIGRheUluQ3VycmVudE1vbnRoLCBkYXlDb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRGF5V3JhcHBlciwge1xuICAgICAgICAgIGtleTogZGF5LnRvU3RyaW5nKCksXG4gICAgICAgICAgdmFsdWU6IGRheSxcbiAgICAgICAgICBkYXlJbkN1cnJlbnRNb250aDogZGF5SW5DdXJyZW50TW9udGgsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIG9uU2VsZWN0OiBfdGhpcy5vbkRhdGVTZWxlY3RcbiAgICAgICAgfSwgZGF5Q29tcG9uZW50KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDYWxlbmRhci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBzdGF0ZSkge1xuICAgIGlmICghbmV4dFByb3BzLnV0aWxzLmlzRXF1YWwobmV4dFByb3BzLmRhdGUsIHN0YXRlLmxhc3REYXRlKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFzdERhdGU6IG5leHRQcm9wcy5kYXRlLFxuICAgICAgICBjdXJyZW50TW9udGg6IG5leHRQcm9wcy51dGlscy5nZXRTdGFydE9mTW9udGgobmV4dFByb3BzLmRhdGUpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIENhbGVuZGFyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0O1xuXG4gICAgaWYgKHRoaXMuc2hvdWxkRGlzYWJsZURhdGUoZGF0ZSkpIHtcbiAgICAgIHZhciBjbG9zZXN0RW5hYmxlZERhdGUgPSBmaW5kQ2xvc2VzdEVuYWJsZWREYXRlKHtcbiAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgdXRpbHM6IHV0aWxzLFxuICAgICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgICBkaXNhYmxlUGFzdDogQm9vbGVhbihkaXNhYmxlUGFzdCksXG4gICAgICAgIGRpc2FibGVGdXR1cmU6IEJvb2xlYW4oZGlzYWJsZVBhc3QpLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZTogdGhpcy5zaG91bGREaXNhYmxlRGF0ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLm9uRGF0ZVNlbGVjdChjbG9zZXN0RW5hYmxlZERhdGUgfHwgbWluRGF0ZSwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBDYWxlbmRhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGN1cnJlbnRNb250aCA9IF9hLmN1cnJlbnRNb250aCxcbiAgICAgICAgc2xpZGVEaXJlY3Rpb24gPSBfYS5zbGlkZURpcmVjdGlvbjtcbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBfYi5hbGxvd0tleWJvYXJkQ29udHJvbDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgYWxsb3dLZXlib2FyZENvbnRyb2wgJiYgY3JlYXRlRWxlbWVudChFdmVudExpc3RlbmVyLCB7XG4gICAgICB0YXJnZXQ6IFwid2luZG93XCIsXG4gICAgICBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93blxuICAgIH0pLCBjcmVhdGVFbGVtZW50KENhbGVuZGFySGVhZGVyJDEsIHtcbiAgICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvbixcbiAgICAgIGN1cnJlbnRNb250aDogY3VycmVudE1vbnRoLFxuICAgICAgb25Nb250aENoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VNb250aCxcbiAgICAgIGxlZnRBcnJvd0ljb246IHRoaXMucHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiB0aGlzLnByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgZGlzYWJsZVByZXZNb250aDogdGhpcy5zaG91bGREaXNhYmxlUHJldk1vbnRoKCksXG4gICAgICBkaXNhYmxlTmV4dE1vbnRoOiB0aGlzLnNob3VsZERpc2FibGVOZXh0TW9udGgoKVxuICAgIH0pLCBjcmVhdGVFbGVtZW50KFNsaWRlVHJhbnNpdGlvbiQxLCB7XG4gICAgICBzbGlkZURpcmVjdGlvbjogc2xpZGVEaXJlY3Rpb24sXG4gICAgICB0cmFuc0tleTogY3VycmVudE1vbnRoLnRvU3RyaW5nKCksXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNpdGlvbkNvbnRhaW5lclxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgLy8gQHRzLWlnbm9yZSBBdXRvZm9jdXMgcmVxdWlyZWQgZm9yIGdldHRpbmcgd29yayBrZXlib2FyZCBuYXZpZ2F0aW9uIGZlYXR1cmVcbiAgICAgIGF1dG9Gb2N1czogdHJ1ZVxuICAgIH0sIHRoaXMucmVuZGVyV2Vla3MoKSkpKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDYWxlbmRhci5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gICAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gICAgcmVuZGVyRGF5OiBmdW5jLFxuICAgIHRoZW1lOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBDYWxlbmRhci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICAgIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gICAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gICAgbGVmdEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJpZ2h0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGZhbHNlLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICByZXR1cm4gQ2FsZW5kYXI7XG59KENvbXBvbmVudCk7XG52YXIgc3R5bGVzJDYgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2l0aW9uQ29udGFpbmVyOiB7XG4gICAgICBtaW5IZWlnaHQ6IDM2ICogNixcbiAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0ICogMS41XG4gICAgfSxcbiAgICB3ZWVrOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICB9XG4gIH07XG59O1xudmFyIENhbGVuZGFyJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJDYsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDYWxlbmRhcicsXG4gIHdpdGhUaGVtZTogdHJ1ZVxufSkod2l0aFV0aWxzKCkoQ2FsZW5kYXIpKTtcblxudmFyIFllYXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoWWVhciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBZZWFyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vblNlbGVjdChfdGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFllYXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgc2VsZWN0ZWQgPSBfYi5zZWxlY3RlZCxcbiAgICAgICAgZGlzYWJsZWQgPSBfYi5kaXNhYmxlZCxcbiAgICAgICAgdmFsdWUgPSBfYi52YWx1ZSxcbiAgICAgICAgY2hpbGRyZW4gPSBfYi5jaGlsZHJlbixcbiAgICAgICAgb3RoZXIgPSBfX3Jlc3QoX2IsIFtcImNsYXNzZXNcIiwgXCJzZWxlY3RlZFwiLCBcImRpc2FibGVkXCIsIFwidmFsdWVcIiwgXCJjaGlsZHJlblwiXSk7XG5cbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCBfX2Fzc2lnbih7XG4gICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgY29tcG9uZW50OiBcImRpdlwiLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMucm9vdCwgKF9hID0ge30sIF9hW2NsYXNzZXMuc2VsZWN0ZWRdID0gc2VsZWN0ZWQsIF9hW2NsYXNzZXMuZGlzYWJsZWRdID0gZGlzYWJsZWQsIF9hKSksXG4gICAgICB0YWJJbmRleDogZGlzYWJsZWQgPyAtMSA6IDAsXG4gICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrLFxuICAgICAgb25LZXlQcmVzczogdGhpcy5oYW5kbGVDbGljayxcbiAgICAgIGNvbG9yOiBzZWxlY3RlZCA/ICdwcmltYXJ5JyA6ICdkZWZhdWx0JyxcbiAgICAgIHZhcmlhbnQ6IHNlbGVjdGVkID8gJ2g1JyA6ICdzdWJ0aXRsZTEnXG4gICAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gWWVhci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBvblNlbGVjdDogZnVuYy5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkOiBib29sLFxuICAgIHZhbHVlOiBhbnkuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIFllYXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICBkaXNhYmxlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIFllYXI7XG59KFB1cmVDb21wb25lbnQpO1xudmFyIHN0eWxlcyQ3ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgcm9vdDoge1xuICAgICAgaGVpZ2h0OiB0aGVtZS5zcGFjaW5nLnVuaXQgKiA1LFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgICcmOmZvY3VzJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bVxuICAgICAgfVxuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IHtcbiAgICAgIG1hcmdpbjogJzEwcHggMCcsXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW1cbiAgICB9LFxuICAgIGRpc2FibGVkOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LmhpbnRcbiAgICB9XG4gIH0pO1xufTtcbnZhciBZZWFyJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJDcsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNZZWFyJ1xufSkoWWVhcik7XG5cbnZhciBZZWFyU2VsZWN0aW9uID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKFllYXJTZWxlY3Rpb24sIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gWWVhclNlbGVjdGlvbigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnNlbGVjdGVkWWVhclJlZiA9IHVuZGVmaW5lZDtcblxuICAgIF90aGlzLmdldFNlbGVjdGVkWWVhclJlZiA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgIF90aGlzLnNlbGVjdGVkWWVhclJlZiA9IHJlZjtcbiAgICB9O1xuXG4gICAgX3RoaXMuc2Nyb2xsVG9DdXJyZW50WWVhciA9IGZ1bmN0aW9uIChkb21Ob2RlKSB7XG4gICAgICB2YXIgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBfdGhpcy5wcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZztcbiAgICAgIHZhciBjdXJyZW50WWVhckVsZW1lbnQgPSBmaW5kRE9NTm9kZShkb21Ob2RlKTtcblxuICAgICAgaWYgKGN1cnJlbnRZZWFyRWxlbWVudCAmJiBjdXJyZW50WWVhckVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcpIHtcbiAgICAgICAgaWYgKGFuaW1hdGVZZWFyU2Nyb2xsaW5nKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFllYXJFbGVtZW50LnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJlbnRZZWFyRWxlbWVudC5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uWWVhclNlbGVjdCA9IGZ1bmN0aW9uICh5ZWFyKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgbmV3RGF0ZSA9IHV0aWxzLnNldFllYXIoZGF0ZSwgeWVhcik7XG4gICAgICBvbkNoYW5nZShuZXdEYXRlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgWWVhclNlbGVjdGlvbi5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRZZWFyUmVmKSB7XG4gICAgICB0aGlzLnNjcm9sbFRvQ3VycmVudFllYXIodGhpcy5zZWxlY3RlZFllYXJSZWYpO1xuICAgIH1cbiAgfTtcblxuICBZZWFyU2VsZWN0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0LFxuICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICB2YXIgY3VycmVudFllYXIgPSB1dGlscy5nZXRZZWFyKGRhdGUpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jb250YWluZXJcbiAgICB9LCB1dGlscy5nZXRZZWFyUmFuZ2UobWluRGF0ZSwgbWF4RGF0ZSkubWFwKGZ1bmN0aW9uICh5ZWFyKSB7XG4gICAgICB2YXIgeWVhck51bWJlciA9IHV0aWxzLmdldFllYXIoeWVhcik7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSB5ZWFyTnVtYmVyID09PSBjdXJyZW50WWVhcjtcbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFllYXIkMSwge1xuICAgICAgICBrZXk6IHV0aWxzLmdldFllYXJUZXh0KHllYXIpLFxuICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgIHZhbHVlOiB5ZWFyTnVtYmVyLFxuICAgICAgICBvblNlbGVjdDogX3RoaXMub25ZZWFyU2VsZWN0LFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJlZjogc2VsZWN0ZWQgPyBfdGhpcy5nZXRTZWxlY3RlZFllYXJSZWYgOiB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZVllYXIoeWVhciwgdXRpbHMuZGF0ZSgpKSB8fCBkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXJZZWFyKHllYXIsIHV0aWxzLmRhdGUoKSlcbiAgICAgIH0sIHV0aWxzLmdldFllYXJUZXh0KHllYXIpKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gWWVhclNlbGVjdGlvbi5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogc2hhcGUoe30pLmlzUmVxdWlyZWQsXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIFllYXJTZWxlY3Rpb24uZGVmYXVsdFByb3BzID0ge1xuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZVxuICB9O1xuICByZXR1cm4gWWVhclNlbGVjdGlvbjtcbn0oUHVyZUNvbXBvbmVudCk7XG52YXIgc3R5bGVzJDggPSBjcmVhdGVTdHlsZXMkMSh7XG4gIGNvbnRhaW5lcjoge1xuICAgIG1heEhlaWdodDogMzAwLFxuICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICB9XG59KTtcbnZhciBZZWFyU2VsZWN0aW9uJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJDgsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNZZWFyU2VsZWN0aW9uJ1xufSkod2l0aFV0aWxzKCkoWWVhclNlbGVjdGlvbikpO1xuXG52YXIgRGF0ZVBpY2tlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhEYXRlUGlja2VyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIERhdGVQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3dZZWFyU2VsZWN0aW9uOiBCb29sZWFuKF90aGlzLnByb3BzLm9wZW5Ub1llYXJTZWxlY3Rpb24pXG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVllYXJTZWxlY3QgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoZGF0ZSwgZmFsc2UpO1xuXG4gICAgICBfdGhpcy5vcGVuQ2FsZW5kYXIoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblllYXJTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3dZZWFyU2VsZWN0aW9uOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbkNhbGVuZGFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93WWVhclNlbGVjdGlvbjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0ZVBpY2tlci5wcm90b3R5cGUsIFwiZGF0ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXRlO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRlUGlja2VyLnByb3RvdHlwZSwgXCJtaW5EYXRlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnV0aWxzLmRhdGUodGhpcy5wcm9wcy5taW5EYXRlKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0ZVBpY2tlci5wcm90b3R5cGUsIFwibWF4RGF0ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy51dGlscy5kYXRlKHRoaXMucHJvcHMubWF4RGF0ZSk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcblxuICBEYXRlUGlja2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNob3dZZWFyU2VsZWN0aW9uID0gdGhpcy5zdGF0ZS5zaG93WWVhclNlbGVjdGlvbjtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0LFxuICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBfYS5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgICAgbGVmdEFycm93SWNvbiA9IF9hLmxlZnRBcnJvd0ljb24sXG4gICAgICAgIHJpZ2h0QXJyb3dJY29uID0gX2EucmlnaHRBcnJvd0ljb24sXG4gICAgICAgIHJlbmRlckRheSA9IF9hLnJlbmRlckRheSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBfYS5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBfYS5hbGxvd0tleWJvYXJkQ29udHJvbDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgY3JlYXRlRWxlbWVudChQaWNrZXJUb29sYmFyJDEsIG51bGwsIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuWWVhclNlbGVjdGlvbixcbiAgICAgIHNlbGVjdGVkOiBzaG93WWVhclNlbGVjdGlvbixcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRZZWFyVGV4dCh0aGlzLmRhdGUpXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImg0XCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5DYWxlbmRhcixcbiAgICAgIHNlbGVjdGVkOiAhc2hvd1llYXJTZWxlY3Rpb24sXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0RGF0ZVBpY2tlckhlYWRlclRleHQodGhpcy5kYXRlKVxuICAgIH0pKSwgdGhpcy5wcm9wcy5jaGlsZHJlbiwgc2hvd1llYXJTZWxlY3Rpb24gPyBjcmVhdGVFbGVtZW50KFllYXJTZWxlY3Rpb24kMSwge1xuICAgICAgZGF0ZTogdGhpcy5kYXRlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlWWVhclNlbGVjdCxcbiAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgIG1heERhdGU6IHRoaXMubWF4RGF0ZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmdcbiAgICB9KSA6IGNyZWF0ZUVsZW1lbnQoQ2FsZW5kYXIkMSwge1xuICAgICAgZGF0ZTogdGhpcy5kYXRlLFxuICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgIG1heERhdGU6IHRoaXMubWF4RGF0ZSxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbFxuICAgIH0pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlUGlja2VyLnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gICAgb3BlblRvWWVhclNlbGVjdGlvbjogYm9vbCxcbiAgICBjaGlsZHJlbjogbm9kZSxcbiAgICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICAgIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICAgIHJlbmRlckRheTogZnVuYyxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gICAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZVxuICB9IDogdm9pZCAwO1xuICBEYXRlUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gICAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogZmFsc2UsXG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IHVuZGVmaW5lZCxcbiAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBmYWxzZSxcbiAgICBjaGlsZHJlbjogbnVsbCxcbiAgICBsZWZ0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmlnaHRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkXG4gIH07XG4gIHJldHVybiBEYXRlUGlja2VyO1xufShQdXJlQ29tcG9uZW50KTtcbnZhciBEYXRlUGlja2VyJDEgPSB3aXRoVXRpbHMoKShEYXRlUGlja2VyKTtcblxudmFyIERhdGVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBwcm9wcy5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gcHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBsYWJlbEZ1bmMgPSBwcm9wcy5sYWJlbEZ1bmMsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gcHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGUgPSBwcm9wcy5tYXhEYXRlLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBwcm9wcy5pbml0aWFsRm9jdXNlZERhdGUsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbiA9IHByb3BzLm9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICByZW5kZXJEYXkgPSBwcm9wcy5yZW5kZXJEYXksXG4gICAgICByaWdodEFycm93SWNvbiA9IHByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBwcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBvdGhlciA9IF9fcmVzdChwcm9wcywgW1wiYWxsb3dLZXlib2FyZENvbnRyb2xcIiwgXCJhbmltYXRlWWVhclNjcm9sbGluZ1wiLCBcImF1dG9Pa1wiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImZvcm1hdFwiLCBcImZvcndhcmRlZFJlZlwiLCBcImxhYmVsRnVuY1wiLCBcImxlZnRBcnJvd0ljb25cIiwgXCJtYXhEYXRlXCIsIFwibWluRGF0ZVwiLCBcImluaXRpYWxGb2N1c2VkRGF0ZVwiLCBcIm9uQ2hhbmdlXCIsIFwib3BlblRvWWVhclNlbGVjdGlvblwiLCBcInJlbmRlckRheVwiLCBcInJpZ2h0QXJyb3dJY29uXCIsIFwic2hvdWxkRGlzYWJsZURhdGVcIiwgXCJ2YWx1ZVwiXSk7XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQmFzZVBpY2tlciQxLCBfX2Fzc2lnbih7fSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVDbGVhciA9IF9hLmhhbmRsZUNsZWFyLFxuICAgICAgICBoYW5kbGVEaXNtaXNzID0gX2EuaGFuZGxlRGlzbWlzcyxcbiAgICAgICAgaGFuZGxlU2V0VG9kYXlEYXRlID0gX2EuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KE1vZGFsV3JhcHBlciwgX19hc3NpZ24oe1xuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdDogZm9ybWF0IHx8IHV0aWxzLmRhdGVGb3JtYXQsXG4gICAgICBsYWJlbEZ1bmM6IGxhYmVsRnVuYyxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25BY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBvbkNsZWFyOiBoYW5kbGVDbGVhcixcbiAgICAgIG9uRGlzbWlzczogaGFuZGxlRGlzbWlzcyxcbiAgICAgIG9uU2V0VG9kYXk6IGhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZFxuICAgIH0sIG90aGVyKSwgY3JlYXRlRWxlbWVudChEYXRlUGlja2VyJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IG9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZVxuICAgIH0pKTtcbiAgfSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVBpY2tlck1vZGFsLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IGJvb2wsXG4gIGRpc2FibGVQYXN0OiBib29sLFxuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogYm9vbCxcbiAgbGFiZWxGdW5jOiBmdW5jLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgcmVuZGVyRGF5OiBmdW5jLFxuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcbkRhdGVQaWNrZXJNb2RhbC5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiBmYWxzZSxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZFxufTtcbnZhciBEYXRlUGlja2VyTW9kYWwkMSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRGF0ZVBpY2tlck1vZGFsLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIElubGluZVdyYXBwZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoSW5saW5lV3JhcHBlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBJbmxpbmVXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBhbmNob3JFbDogbnVsbFxuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYW5jaG9yRWw6IGUuY3VycmVudFRhcmdldFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbk9wZW4pIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25PcGVuKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBhbmNob3JFbDogbnVsbFxuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLnByb3BzLmhhbmRsZUFjY2VwdCgpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoa2V5Y29kZShldmVudCkpIHtcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzLnByb3BzLmhhbmRsZUFjY2VwdCgpO1xuXG4gICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBrZXljb2RlIGlzIG5vdCBoYW5kbGVkLCBzdG9wIGV4ZWN1dGlvblxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gaWYgZXZlbnQgd2FzIGhhbmRsZWQgcHJldmVudCBvdGhlciBzaWRlIGVmZmVjdHNcblxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBJbmxpbmVXcmFwcGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICAvLyBvbmx5IGlmIGFjY2VwdCA9IHRydWUgY2xvc2UgdGhlIHBvcG92ZXJcbiAgICBpZiAobmV4dFByb3BzLmlzQWNjZXB0ZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIElubGluZVdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgIG9uT3BlbiA9IF9hLm9uT3BlbixcbiAgICAgICAgb25DbG9zZSA9IF9hLm9uQ2xvc2UsXG4gICAgICAgIFBvcG92ZXJQcm9wcyA9IF9hLlBvcG92ZXJQcm9wcyxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIGtleWJvYXJkID0gX2Eua2V5Ym9hcmQsXG4gICAgICAgIG9ubHlDYWxlbmRhciA9IF9hLm9ubHlDYWxlbmRhcixcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgb3RoZXIgPSBfX3Jlc3QoX2EsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiY2hpbGRyZW5cIiwgXCJvbk9wZW5cIiwgXCJvbkNsb3NlXCIsIFwiUG9wb3ZlclByb3BzXCIsIFwiaXNBY2NlcHRlZFwiLCBcImtleWJvYXJkXCIsIFwib25seUNhbGVuZGFyXCIsIFwiY2xhc3Nlc1wiLCBcImhhbmRsZUFjY2VwdFwiXSk7XG5cbiAgICB2YXIgaXNPcGVuID0gQm9vbGVhbih0aGlzLnN0YXRlLmFuY2hvckVsKTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgaXNPcGVuICYmIGNyZWF0ZUVsZW1lbnQoRXZlbnRMaXN0ZW5lciwge1xuICAgICAgdGFyZ2V0OiBcIndpbmRvd1wiLFxuICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd25cbiAgICB9KSwgY3JlYXRlRWxlbWVudChEYXRlVGV4dEZpZWxkJDEsIF9fYXNzaWduKHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgb25DbGljazogdGhpcy5vcGVuLFxuICAgICAga2V5Ym9hcmQ6IGtleWJvYXJkXG4gICAgfSwgb3RoZXIpKSwgY3JlYXRlRWxlbWVudChQb3BvdmVyLCBfX2Fzc2lnbih7XG4gICAgICBpZDogXCJwaWNrZXItcG9wb3ZlclwiLFxuICAgICAgb3BlbjogaXNPcGVuLFxuICAgICAgYW5jaG9yRWw6IHRoaXMuc3RhdGUuYW5jaG9yRWwsXG4gICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlLFxuICAgICAgY2xhc3Nlczoge1xuICAgICAgICBwYXBlcjogY2xhc3Nlcy5wb3BvdmVyUGFwZXJcbiAgICAgIH0sXG4gICAgICBhbmNob3JPcmlnaW46IHtcbiAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICBob3Jpem9udGFsOiBrZXlib2FyZCA/ICdyaWdodCcgOiAnY2VudGVyJ1xuICAgICAgfSxcbiAgICAgIHRyYW5zZm9ybU9yaWdpbjoge1xuICAgICAgICB2ZXJ0aWNhbDogJ3RvcCcsXG4gICAgICAgIGhvcml6b250YWw6IGtleWJvYXJkID8gJ3JpZ2h0JyA6ICdjZW50ZXInXG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfSwgUG9wb3ZlclByb3BzKSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IElubGluZVdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgIC8qKiBTaG93IG9ubHkgY2FsZW5kYXIgZm9yIGRhdGVwaWNrZXIgaW4gcG9wb3ZlciBtb2RlICovXG4gICAgb25seUNhbGVuZGFyOiBib29sLFxuXG4gICAgLyoqIFBpY2tlciB2YWx1ZSAqL1xuICAgIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAgIC8qKiBPbiBvcGVuIGNhbGxiYWNrIFsoZTogRXZlbnQpID0+IHZvaWRdICovXG4gICAgb25PcGVuOiBmdW5jLFxuXG4gICAgLyoqIE9uIGNsb3NlIGNhbGxiYWNrIFsoZTogRXZlbnQpID0+IHZvaWRdICovXG4gICAgb25DbG9zZTogZnVuYyxcblxuICAgIC8qKiBGb3JtYXQgc3RyaW5nICovXG4gICAgZm9ybWF0OiBzdHJpbmcsXG5cbiAgICAvKiogRGlhbG9nIHByb3BzIHBhc3NlZCB0byBtYXRlcmlhbC11aSBEaWFsb2cgKi9cbiAgICBQb3BvdmVyUHJvcHM6IG9iamVjdCxcbiAgICBsYWJlbEZ1bmM6IGZ1bmMsXG4gICAgb25DbGVhcjogZnVuYyxcbiAgICBpc0FjY2VwdGVkOiBib29sLFxuICAgIGhhbmRsZUFjY2VwdDogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAga2V5Ym9hcmQ6IGJvb2wsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBJbmxpbmVXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgICBvbmx5Q2FsZW5kYXI6IGZhbHNlLFxuICAgIGZvcm1hdDogdW5kZWZpbmVkLFxuICAgIG9uQ2xlYXI6IHVuZGVmaW5lZCxcbiAgICBvbk9wZW46IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlOiB1bmRlZmluZWQsXG4gICAgUG9wb3ZlclByb3BzOiB1bmRlZmluZWQsXG4gICAgaXNBY2NlcHRlZDogZmFsc2UsXG4gICAga2V5Ym9hcmQ6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gSW5saW5lV3JhcHBlcjtcbn0oUHVyZUNvbXBvbmVudCk7XG52YXIgc3R5bGVzJDkgPSB7XG4gIHBvcG92ZXJQYXBlcjoge1xuICAgIG1heFdpZHRoOiAzMTAsXG4gICAgbWluV2lkdGg6IDI5MCxcbiAgICBwYWRkaW5nQm90dG9tOiA4XG4gIH1cbn07IC8vIEB0cy1pZ25vcmVcblxudmFyIElubGluZVdyYXBwZXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkOSkoSW5saW5lV3JhcHBlcik7XG5cbnZhciBEYXRlUGlja2VySW5saW5lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGxhYmVsRnVuYyA9IHByb3BzLmxhYmVsRnVuYyxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uID0gcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9ubHlDYWxlbmRhciA9IHByb3BzLm9ubHlDYWxlbmRhcixcbiAgICAgIG90aGVyID0gX19yZXN0KHByb3BzLCBbXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVQYXN0XCIsIFwiZm9ybWF0XCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwibGFiZWxGdW5jXCIsIFwibGVmdEFycm93SWNvblwiLCBcIm1heERhdGVcIiwgXCJtaW5EYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwib25DaGFuZ2VcIiwgXCJvcGVuVG9ZZWFyU2VsZWN0aW9uXCIsIFwicmVuZGVyRGF5XCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcInZhbHVlXCIsIFwiYXV0b09rXCIsIFwib25seUNhbGVuZGFyXCJdKTtcblxuICB2YXIgQ29tcG9uZW50VG9TaG93ID0gb25seUNhbGVuZGFyID8gQ2FsZW5kYXIkMSA6IERhdGVQaWNrZXIkMTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQmFzZVBpY2tlciQxLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBhdXRvT2s6IHRydWVcbiAgfSksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQ7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoSW5saW5lV3JhcHBlciQxLCBfX2Fzc2lnbih7XG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgdXRpbHMuZGF0ZUZvcm1hdCxcbiAgICAgIGxhYmVsRnVuYzogbGFiZWxGdW5jLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgaW5uZXJSZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBoYW5kbGVBY2NlcHQ6IGhhbmRsZUFjY2VwdFxuICAgIH0sIG90aGVyKSwgY3JlYXRlRWxlbWVudChDb21wb25lbnRUb1Nob3csIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IG9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZVxuICAgIH0pKTtcbiAgfSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVBpY2tlcklubGluZS5wcm9wVHlwZXMgPSB7XG4gIG9ubHlDYWxlbmRhcjogYm9vbCxcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGJvb2wsXG4gIGxhYmVsRnVuYzogZnVuYyxcbiAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gIHJlbmRlckRheTogZnVuYyxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSksXG4gIGF1dG9PazogYm9vbFxufSA6IHZvaWQgMDtcbkRhdGVQaWNrZXJJbmxpbmUuZGVmYXVsdFByb3BzID0ge1xuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IHVuZGVmaW5lZCxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBmYWxzZSxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IHRydWUsXG4gIGxlZnRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19sZWZ0JyxcbiAgcmlnaHRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19yaWdodCcsXG4gIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIGF1dG9PazogdW5kZWZpbmVkLFxuICBvbmx5Q2FsZW5kYXI6IGZhbHNlXG59O1xudmFyIERhdGVQaWNrZXJJbmxpbmUkMSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRGF0ZVBpY2tlcklubGluZSwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBjZW50ZXIgPSB7XG4gIHg6IDI2MCAvIDIsXG4gIHk6IDI2MCAvIDJcbn07XG52YXIgYmFzZVBvaW50ID0ge1xuICB4OiBjZW50ZXIueCxcbiAgeTogMFxufTtcbnZhciBjeCA9IGJhc2VQb2ludC54IC0gY2VudGVyLng7XG52YXIgY3kgPSBiYXNlUG9pbnQueSAtIGNlbnRlci55O1xuXG52YXIgcmFkMmRlZyA9IGZ1bmN0aW9uIChyYWQpIHtcbiAgcmV0dXJuIHJhZCAqIDU3LjI5NTc3OTUxMzA4MjMyO1xufTtcblxudmFyIGdldEFuZ2xlVmFsdWUgPSBmdW5jdGlvbiAoc3RlcCwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xuICB2YXIgeCA9IG9mZnNldFggLSBjZW50ZXIueDtcbiAgdmFyIHkgPSBvZmZzZXRZIC0gY2VudGVyLnk7XG4gIHZhciBhdGFuID0gTWF0aC5hdGFuMihjeCwgY3kpIC0gTWF0aC5hdGFuMih4LCB5KTtcbiAgdmFyIGRlZyA9IHJhZDJkZWcoYXRhbik7XG4gIGRlZyA9IE1hdGgucm91bmQoZGVnIC8gc3RlcCkgKiBzdGVwO1xuICBkZWcgJT0gMzYwO1xuICB2YXIgdmFsdWUgPSBNYXRoLmZsb29yKGRlZyAvIHN0ZXApIHx8IDA7XG4gIHZhciBkZWx0YSA9IE1hdGgucG93KHgsIDIpICsgTWF0aC5wb3coeSwgMik7XG4gIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChkZWx0YSk7XG4gIHJldHVybiB7XG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIGRpc3RhbmNlOiBkaXN0YW5jZVxuICB9O1xufTtcblxudmFyIGdldEhvdXJzID0gZnVuY3Rpb24gKG9mZnNldFgsIG9mZnNldFksIGFtcG0pIHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gIHZhciBfYSA9IGdldEFuZ2xlVmFsdWUoMzAsIG9mZnNldFgsIG9mZnNldFkpLFxuICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgIGRpc3RhbmNlID0gX2EuZGlzdGFuY2U7XG5cbiAgdmFsdWUgPSB2YWx1ZSB8fCAxMjtcblxuICBpZiAoIWFtcG0pIHtcbiAgICBpZiAoZGlzdGFuY2UgPCA5MCkge1xuICAgICAgdmFsdWUgKz0gMTI7XG4gICAgICB2YWx1ZSAlPSAyNDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgJT0gMTI7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIGdldE1pbnV0ZXMgPSBmdW5jdGlvbiAob2Zmc2V0WCwgb2Zmc2V0WSwgc3RlcCkge1xuICBpZiAoc3RlcCA9PT0gdm9pZCAwKSB7XG4gICAgc3RlcCA9IDY7XG4gIH1cblxuICB2YXIgdmFsdWUgPSBnZXRBbmdsZVZhbHVlKHN0ZXAsIG9mZnNldFgsIG9mZnNldFkpLnZhbHVlO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIGNvbnZlcnRUb01lcmlkaWVtID0gZnVuY3Rpb24gKHRpbWUsIG1lcmlkaWVtLCBhbXBtLCB1dGlscykge1xuICBpZiAoYW1wbSkge1xuICAgIHZhciBjdXJyZW50TWVyaWRpZW0gPSB1dGlscy5nZXRIb3Vycyh0aW1lKSA+PSAxMiA/ICdwbScgOiAnYW0nO1xuXG4gICAgaWYgKGN1cnJlbnRNZXJpZGllbSAhPT0gbWVyaWRpZW0pIHtcbiAgICAgIHZhciBob3VycyA9IG1lcmlkaWVtID09PSAnYW0nID8gdXRpbHMuZ2V0SG91cnModGltZSkgLSAxMiA6IHV0aWxzLmdldEhvdXJzKHRpbWUpICsgMTI7XG4gICAgICByZXR1cm4gdXRpbHMuc2V0SG91cnModGltZSwgaG91cnMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aW1lO1xufTtcblxudmFyIENsb2NrVHlwZTtcblxuKGZ1bmN0aW9uIChDbG9ja1R5cGUpIHtcbiAgQ2xvY2tUeXBlW1wiSE9VUlNcIl0gPSBcImhvdXJzXCI7XG4gIENsb2NrVHlwZVtcIk1JTlVURVNcIl0gPSBcIm1pbnV0ZXNcIjtcbiAgQ2xvY2tUeXBlW1wiU0VDT05EU1wiXSA9IFwic2Vjb25kc1wiO1xufSkoQ2xvY2tUeXBlIHx8IChDbG9ja1R5cGUgPSB7fSkpO1xuXG52YXIgQ2xvY2tUeXBlJDEgPSBDbG9ja1R5cGU7XG5cbnZhciBDbG9ja1BvaW50ZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQ2xvY2tQb2ludGVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIENsb2NrUG9pbnRlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdG9BbmltYXRlVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgIHByZXZpb3VzVHlwZTogdW5kZWZpbmVkXG4gICAgfTtcblxuICAgIF90aGlzLmdldEFuZ2xlU3R5bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICAgIGlzSW5uZXIgPSBfYS5pc0lubmVyLFxuICAgICAgICAgIHR5cGUgPSBfYS50eXBlO1xuICAgICAgdmFyIG1heCA9IHR5cGUgPT09IENsb2NrVHlwZSQxLkhPVVJTID8gMTIgOiA2MDtcbiAgICAgIHZhciBhbmdsZSA9IDM2MCAvIG1heCAqIHZhbHVlO1xuXG4gICAgICBpZiAodHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMgJiYgdmFsdWUgPiAxMikge1xuICAgICAgICBhbmdsZSAtPSAzNjA7IC8vIHJvdW5kIHVwIGFuZ2xlIHRvIG1heCAzNjAgZGVncmVlc1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IGlzSW5uZXIgPyAnMjYlJyA6ICc0MCUnLFxuICAgICAgICB0cmFuc2Zvcm06IFwicm90YXRlWihcIiArIGFuZ2xlICsgXCJkZWcpXCJcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIENsb2NrUG9pbnRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSwgX2I7XG5cbiAgICB2YXIgX2MgPSB0aGlzLnByb3BzLFxuICAgICAgICBjbGFzc2VzID0gX2MuY2xhc3NlcyxcbiAgICAgICAgaGFzU2VsZWN0ZWQgPSBfYy5oYXNTZWxlY3RlZDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBzdHlsZTogdGhpcy5nZXRBbmdsZVN0eWxlKCksXG4gICAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy5wb2ludGVyLCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy5hbmltYXRlVHJhbnNmb3JtXSA9IHRoaXMuc3RhdGUudG9BbmltYXRlVHJhbnNmb3JtLCBfYSkpXG4gICAgfSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy50aHVtYiwgKF9iID0ge30sIF9iW2NsYXNzZXMubm9Qb2ludF0gPSBoYXNTZWxlY3RlZCwgX2IpKVxuICAgIH0pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDbG9ja1BvaW50ZXIucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHZhbHVlOiBudW1iZXIuaXNSZXF1aXJlZCxcbiAgICBoYXNTZWxlY3RlZDogYm9vbC5pc1JlcXVpcmVkLFxuICAgIGlzSW5uZXI6IGJvb2wuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55LFxuICAgIHR5cGU6IG9uZU9mKE9iamVjdC5rZXlzKENsb2NrVHlwZSQxKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIENsb2NrVHlwZSQxW2tleV07XG4gICAgfSkpLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcblxuICBDbG9ja1BvaW50ZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcywgc3RhdGUpIHtcbiAgICBpZiAobmV4dFByb3BzLnR5cGUgIT09IHN0YXRlLnByZXZpb3VzVHlwZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9BbmltYXRlVHJhbnNmb3JtOiB0cnVlLFxuICAgICAgICBwcmV2aW91c1R5cGU6IG5leHRQcm9wcy50eXBlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0b0FuaW1hdGVUcmFuc2Zvcm06IGZhbHNlLFxuICAgICAgcHJldmlvdXNUeXBlOiBuZXh0UHJvcHMudHlwZVxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIENsb2NrUG9pbnRlcjtcbn0oQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkYSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIHBvaW50ZXI6IHtcbiAgICAgIHdpZHRoOiAyLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgbGVmdDogJ2NhbGMoNTAlIC0gMXB4KScsXG4gICAgICBib3R0b206ICc1MCUnLFxuICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnY2VudGVyIGJvdHRvbSAwcHgnXG4gICAgfSxcbiAgICBhbmltYXRlVHJhbnNmb3JtOiB7XG4gICAgICB0cmFuc2l0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoWyd0cmFuc2Zvcm0nLCAnaGVpZ2h0J10pXG4gICAgfSxcbiAgICB0aHVtYjoge1xuICAgICAgd2lkdGg6IDQsXG4gICAgICBoZWlnaHQ6IDQsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMTAwJScsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogLTIxLFxuICAgICAgbGVmdDogLTE1LFxuICAgICAgYm9yZGVyOiBcIjE0cHggc29saWQgXCIgKyB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGJveFNpemluZzogJ2NvbnRlbnQtYm94J1xuICAgIH0sXG4gICAgbm9Qb2ludDoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgIH1cbiAgfSk7XG59O1xudmFyIENsb2NrUG9pbnRlciQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyRhLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2xvY2tQb2ludGVyJ1xufSkoQ2xvY2tQb2ludGVyKTtcblxudmFyIENsb2NrID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKENsb2NrLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIENsb2NrKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcblxuICAgIF90aGlzLmhhbmRsZVRvdWNoTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5pc01vdmluZyA9IHRydWU7XG5cbiAgICAgIF90aGlzLnNldFRpbWUoZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVRvdWNoRW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5pc01vdmluZykge1xuICAgICAgICBfdGhpcy5zZXRUaW1lKGUsIHRydWUpO1xuXG4gICAgICAgIF90aGlzLmlzTW92aW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gTW91c2VFdmVudC53aGljaCBpcyBkZXByZWNhdGVkLCBidXQgTW91c2VFdmVudC5idXR0b25zIGlzIG5vdCBzdXBwb3J0ZWQgaW4gU2FmYXJpXG5cbiAgICAgIHZhciBpc0J1dHRvblByZXNzZWQgPSB0eXBlb2YgZS5idXR0b25zID09PSAndW5kZWZpbmVkJyA/IGUubmF0aXZlRXZlbnQud2hpY2ggPT09IDEgOiBlLmJ1dHRvbnMgPT09IDE7XG5cbiAgICAgIGlmIChpc0J1dHRvblByZXNzZWQpIHtcbiAgICAgICAgX3RoaXMuc2V0VGltZShlLm5hdGl2ZUV2ZW50LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLmlzTW92aW5nKSB7XG4gICAgICAgIF90aGlzLmlzTW92aW5nID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFRpbWUoZS5uYXRpdmVFdmVudCwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhc1NlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdHlwZSA9IF9hLnR5cGUsXG4gICAgICAgICAgdmFsdWUgPSBfYS52YWx1ZTtcblxuICAgICAgaWYgKHR5cGUgPT09IENsb2NrVHlwZSQxLkhPVVJTKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWUgJSA1ID09PSAwO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9jay5wcm90b3R5cGUuc2V0VGltZSA9IGZ1bmN0aW9uIChlLCBpc0ZpbmlzaCkge1xuICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICBpc0ZpbmlzaCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBvZmZzZXRYID0gZS5vZmZzZXRYLFxuICAgICAgICBvZmZzZXRZID0gZS5vZmZzZXRZO1xuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXRYID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHJlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIG9mZnNldFggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgICBvZmZzZXRZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gcmVjdC50b3A7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy50eXBlID09PSBDbG9ja1R5cGUkMS5TRUNPTkRTIHx8IHRoaXMucHJvcHMudHlwZSA9PT0gQ2xvY2tUeXBlJDEuTUlOVVRFUyA/IGdldE1pbnV0ZXMob2Zmc2V0WCwgb2Zmc2V0WSkgOiBnZXRIb3VycyhvZmZzZXRYLCBvZmZzZXRZLCBCb29sZWFuKHRoaXMucHJvcHMuYW1wbSkpO1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUsIGlzRmluaXNoKTtcbiAgfTtcblxuICBDbG9jay5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgYW1wbSA9IF9hLmFtcG07XG4gICAgdmFyIGlzUG9pbnRlcklubmVyID0gIWFtcG0gJiYgdHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMgJiYgKHZhbHVlIDwgMSB8fCB2YWx1ZSA+IDEyKTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY29udGFpbmVyXG4gICAgfSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2xvY2tcbiAgICB9LCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJvbGU6IFwibWVudVwiLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNxdWFyZU1hc2ssXG4gICAgICBvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUsXG4gICAgICBvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kLFxuICAgICAgb25Nb3VzZVVwOiB0aGlzLmhhbmRsZU1vdXNlVXAsXG4gICAgICBvbk1vdXNlTW92ZTogdGhpcy5oYW5kbGVNb3ZlXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnBpblxuICAgIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrUG9pbnRlciQxLCB7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNJbm5lcjogaXNQb2ludGVySW5uZXIsXG4gICAgICBoYXNTZWxlY3RlZDogdGhpcy5oYXNTZWxlY3RlZCgpXG4gICAgfSksIGNoaWxkcmVuKSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQ2xvY2sucHJvcFR5cGVzID0ge1xuICAgIHR5cGU6IG9uZU9mKE9iamVjdC5rZXlzKENsb2NrVHlwZSQxKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIENsb2NrVHlwZSQxW2tleV07XG4gICAgfSkpLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdmFsdWU6IG51bWJlci5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IGFycmF5T2Yobm9kZSkuaXNSZXF1aXJlZCxcbiAgICBhbXBtOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgQ2xvY2suZGVmYXVsdFByb3BzID0ge1xuICAgIGFtcG06IGZhbHNlXG4gIH07XG4gIHJldHVybiBDbG9jaztcbn0oQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkYiA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIGNvbnRhaW5lcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJyxcbiAgICAgIG1hcmdpbjogdGhlbWUuc3BhY2luZy51bml0ICogNCArIFwicHggMCBcIiArIHRoZW1lLnNwYWNpbmcudW5pdCArIFwicHhcIlxuICAgIH0sXG4gICAgY2xvY2s6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsLjA3KScsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgaGVpZ2h0OiAyNjAsXG4gICAgICB3aWR0aDogMjYwLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICB6SW5kZXg6IDFcbiAgICB9LFxuICAgIHNxdWFyZU1hc2s6IHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgcG9pbnRlckV2ZW50czogJ2F1dG8nLFxuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgdG91Y2hBY3Rpb25zOiAnbm9uZScsXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICAnJjphY3RpdmUnOiB7XG4gICAgICAgIGN1cnNvcjogJ21vdmUnXG4gICAgICB9XG4gICAgfSxcbiAgICBwaW46IHtcbiAgICAgIHdpZHRoOiA2LFxuICAgICAgaGVpZ2h0OiA2LFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogJzUwJScsXG4gICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSdcbiAgICB9XG4gIH0pO1xufTtcbnZhciBDbG9jayQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyRiLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2xvY2snXG59KShDbG9jayk7XG5cbnZhciBwb3NpdGlvbnMgPSB7XG4gIDA6IFswLCA0MF0sXG4gIDE6IFs1NSwgMTkuNl0sXG4gIDI6IFs5NC40LCA1OS41XSxcbiAgMzogWzEwOSwgMTE0XSxcbiAgNDogWzk0LjQsIDE2OC41XSxcbiAgNTogWzU0LjUsIDIwOC40XSxcbiAgNjogWzAsIDIyM10sXG4gIDc6IFstNTQuNSwgMjA4LjRdLFxuICA4OiBbLTk0LjQsIDE2OC41XSxcbiAgOTogWy0xMDksIDExNF0sXG4gIDEwOiBbLTk0LjQsIDU5LjVdLFxuICAxMTogWy01NC41LCAxOS42XSxcbiAgMTI6IFswLCA1XSxcbiAgMTM6IFszNi45LCA0OS45XSxcbiAgMTQ6IFs2NCwgNzddLFxuICAxNTogWzc0LCAxMTRdLFxuICAxNjogWzY0LCAxNTFdLFxuICAxNzogWzM3LCAxNzhdLFxuICAxODogWzAsIDE4OF0sXG4gIDE5OiBbLTM3LCAxNzhdLFxuICAyMDogWy02NCwgMTUxXSxcbiAgMjE6IFstNzQsIDExNF0sXG4gIDIyOiBbLTY0LCA3N10sXG4gIDIzOiBbLTM3LCA1MF1cbn07XG5cbnZhciBDbG9ja051bWJlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhDbG9ja051bWJlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDbG9ja051bWJlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmdldFRyYW5zZm9ybVN0eWxlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgcG9zaXRpb24gPSBwb3NpdGlvbnNbaW5kZXhdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIiArIHBvc2l0aW9uWzBdICsgXCJweCwgXCIgKyBwb3NpdGlvblsxXSArIFwicHhcIlxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2xvY2tOdW1iZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBsYWJlbCA9IF9iLmxhYmVsLFxuICAgICAgICBpbmRleCA9IF9iLmluZGV4LFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgaXNJbm5lciA9IF9iLmlzSW5uZXI7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzbmFtZXMoY2xhc3Nlcy5jbG9ja051bWJlciwgKF9hID0ge30sIF9hW2NsYXNzZXMuc2VsZWN0ZWRdID0gc2VsZWN0ZWQsIF9hKSk7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwge1xuICAgICAgdmFyaWFudDogaXNJbm5lciA/ICdib2R5MScgOiAnc3VidGl0bGUxJyxcbiAgICAgIGNvbXBvbmVudDogXCJzcGFuXCIsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiB0aGlzLmdldFRyYW5zZm9ybVN0eWxlKGluZGV4KVxuICAgIH0sIGxhYmVsKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDbG9ja051bWJlci5wcm9wVHlwZXMgPSB7XG4gICAgaW5kZXg6IG51bWJlci5pc1JlcXVpcmVkLFxuICAgIGxhYmVsOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBzZWxlY3RlZDogYm9vbC5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGlzSW5uZXI6IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBDbG9ja051bWJlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaXNJbm5lcjogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIENsb2NrTnVtYmVyO1xufShDb21wb25lbnQpO1xudmFyIHN0eWxlcyRjID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHZhciBzaXplID0gdGhlbWUuc3BhY2luZy51bml0ICogNDtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICBjbG9ja051bWJlcjoge1xuICAgICAgd2lkdGg6IHNpemUsXG4gICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGxlZnQ6IFwiY2FsYyg1MCUgLSBcIiArIHNpemUgLyAyICsgXCJweClcIixcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50eXBlID09PSAnbGlnaHQnID8gdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnkgOiB0aGVtZS5wYWxldHRlLnRleHQuaGludFxuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZVxuICAgIH1cbiAgfSk7XG59O1xudmFyIENsb2NrTnVtYmVyJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJGMsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9ja051bWJlcidcbn0pKENsb2NrTnVtYmVyKTtcblxudmFyIGdldEhvdXJOdW1iZXJzID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBhbXBtID0gX2EuYW1wbSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBkYXRlID0gX2EuZGF0ZTtcbiAgdmFyIGN1cnJlbnRIb3VycyA9IHV0aWxzLmdldEhvdXJzKGRhdGUpO1xuICB2YXIgaG91ck51bWJlcnMgPSBbXTtcbiAgdmFyIHN0YXJ0SG91ciA9IGFtcG0gPyAxIDogMDtcbiAgdmFyIGVuZEhvdXIgPSBhbXBtID8gMTIgOiAyMztcblxuICB2YXIgaXNTZWxlY3RlZCA9IGZ1bmN0aW9uIChob3VyKSB7XG4gICAgaWYgKGFtcG0pIHtcbiAgICAgIGlmIChob3VyID09PSAxMikge1xuICAgICAgICByZXR1cm4gY3VycmVudEhvdXJzID09PSAxMiB8fCBjdXJyZW50SG91cnMgPT09IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjdXJyZW50SG91cnMgPT09IGhvdXIgfHwgY3VycmVudEhvdXJzIC0gMTIgPT09IGhvdXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRIb3VycyA9PT0gaG91cjtcbiAgfTtcblxuICBmb3IgKHZhciBob3VyID0gc3RhcnRIb3VyOyBob3VyIDw9IGVuZEhvdXI7IGhvdXIgKz0gMSkge1xuICAgIHZhciBsYWJlbCA9IGhvdXIudG9TdHJpbmcoKTtcblxuICAgIGlmIChob3VyID09PSAwKSB7XG4gICAgICBsYWJlbCA9ICcwMCc7XG4gICAgfVxuXG4gICAgdmFyIHByb3BzID0ge1xuICAgICAgaW5kZXg6IGhvdXIsXG4gICAgICBsYWJlbDogdXRpbHMuZm9ybWF0TnVtYmVyKGxhYmVsKSxcbiAgICAgIHNlbGVjdGVkOiBpc1NlbGVjdGVkKGhvdXIpLFxuICAgICAgaXNJbm5lcjogIWFtcG0gJiYgKGhvdXIgPT09IDAgfHwgaG91ciA+IDEyKVxuICAgIH07XG4gICAgaG91ck51bWJlcnMucHVzaChjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIF9fYXNzaWduKHtcbiAgICAgIGtleTogaG91clxuICAgIH0sIHByb3BzKSkpO1xuICB9XG5cbiAgcmV0dXJuIGhvdXJOdW1iZXJzO1xufTtcbnZhciBnZXRNaW51dGVzTnVtYmVycyA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gIHZhciBmID0gdXRpbHMuZm9ybWF0TnVtYmVyO1xuICByZXR1cm4gW2NyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcwMCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMCxcbiAgICBpbmRleDogMTIsXG4gICAga2V5OiAxMlxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzA1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA1LFxuICAgIGluZGV4OiAxLFxuICAgIGtleTogMVxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzEwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAxMCxcbiAgICBpbmRleDogMixcbiAgICBrZXk6IDJcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcxNScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMTUsXG4gICAgaW5kZXg6IDMsXG4gICAga2V5OiAzXG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMjAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDIwLFxuICAgIGluZGV4OiA0LFxuICAgIGtleTogNFxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzI1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAyNSxcbiAgICBpbmRleDogNSxcbiAgICBrZXk6IDVcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCczMCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMzAsXG4gICAgaW5kZXg6IDYsXG4gICAga2V5OiA2XG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMzUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDM1LFxuICAgIGluZGV4OiA3LFxuICAgIGtleTogN1xuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzQwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA0MCxcbiAgICBpbmRleDogOCxcbiAgICBrZXk6IDhcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCc0NScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNDUsXG4gICAgaW5kZXg6IDksXG4gICAga2V5OiA5XG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNTAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDUwLFxuICAgIGluZGV4OiAxMCxcbiAgICBrZXk6IDEwXG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNTUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDU1LFxuICAgIGluZGV4OiAxMSxcbiAgICBrZXk6IDExXG4gIH0pXTtcbn07XG5cbnZhciBUaW1lUGlja2VyVmlldyA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhUaW1lUGlja2VyVmlldywgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBUaW1lUGlja2VyVmlldygpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmdldFZpZXdQcm9wcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICAgIGFtcG0gPSBfYS5hbXBtLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG5cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIENsb2NrVHlwZSQxLkhPVVJTOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogdXRpbHMuZ2V0SG91cnMoZGF0ZSksXG4gICAgICAgICAgICBjaGlsZHJlbjogZ2V0SG91ck51bWJlcnMoe1xuICAgICAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgICAgICBhbXBtOiBCb29sZWFuKGFtcG0pLFxuICAgICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzLmhhbmRsZUhvdXJDaGFuZ2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgQ2xvY2tUeXBlJDEuTUlOVVRFUzpcbiAgICAgICAgICB2YXIgbWludXRlc1ZhbHVlID0gdXRpbHMuZ2V0TWludXRlcyhkYXRlKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IG1pbnV0ZXNWYWx1ZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBnZXRNaW51dGVzTnVtYmVycyh7XG4gICAgICAgICAgICAgIHZhbHVlOiBtaW51dGVzVmFsdWUsXG4gICAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMuaGFuZGxlTWludXRlc0NoYW5nZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSBDbG9ja1R5cGUkMS5TRUNPTkRTOlxuICAgICAgICAgIHZhciBzZWNvbmRzVmFsdWUgPSB1dGlscy5nZXRTZWNvbmRzKGRhdGUpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogc2Vjb25kc1ZhbHVlLFxuICAgICAgICAgICAgY2hpbGRyZW46IGdldE1pbnV0ZXNOdW1iZXJzKHtcbiAgICAgICAgICAgICAgdmFsdWU6IHNlY29uZHNWYWx1ZSxcbiAgICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlXG4gICAgICAgICAgfTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSB0aGUgdHlwZSBmb3IgVGltZVBpY2tlclZpZXcnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlSG91ckNoYW5nZSA9IGZ1bmN0aW9uIChob3VycywgaXNGaW5pc2gpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgdXBkYXRlZFRpbWUgPSB1dGlscy5zZXRIb3VycyhkYXRlLCBob3Vycyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uSG91ckNoYW5nZSh1cGRhdGVkVGltZSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlID0gZnVuY3Rpb24gKG1pbnV0ZXMsIGlzRmluaXNoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIHVwZGF0ZWRUaW1lID0gdXRpbHMuc2V0TWludXRlcyhkYXRlLCBtaW51dGVzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25NaW51dGVzQ2hhbmdlKHVwZGF0ZWRUaW1lLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVNlY29uZHNDaGFuZ2UgPSBmdW5jdGlvbiAoc2Vjb25kcywgaXNGaW5pc2gpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgdXBkYXRlZFRpbWUgPSB1dGlscy5zZXRTZWNvbmRzKGRhdGUsIHNlY29uZHMpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vblNlY29uZHNDaGFuZ2UodXBkYXRlZFRpbWUsIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVGltZVBpY2tlclZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBhbXBtID0gX2EuYW1wbSxcbiAgICAgICAgdHlwZSA9IF9hLnR5cGU7XG4gICAgdmFyIHZpZXdQcm9wcyA9IHRoaXMuZ2V0Vmlld1Byb3BzKCk7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQ2xvY2skMSwgX19hc3NpZ24oe1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGFtcG06IGFtcG1cbiAgICB9LCB2aWV3UHJvcHMpKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBUaW1lUGlja2VyVmlldy5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgb25Ib3VyQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgb25NaW51dGVzQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgb25TZWNvbmRzQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGFtcG06IGJvb2wsXG4gICAgdHlwZTogb25lT2YoT2JqZWN0LmtleXMoQ2xvY2tUeXBlJDEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gQ2xvY2tUeXBlJDFba2V5XTtcbiAgICB9KSkuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuICBUaW1lUGlja2VyVmlldy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYW1wbTogdHJ1ZVxuICB9O1xuICByZXR1cm4gVGltZVBpY2tlclZpZXc7XG59KFB1cmVDb21wb25lbnQpO1xudmFyIFRpbWVQaWNrZXJWaWV3JDEgPSB3aXRoVXRpbHMoKShUaW1lUGlja2VyVmlldyk7XG5cbnZhciBUaW1lUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKFRpbWVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gVGltZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLkhPVVJTLFxuICAgICAgbWVyaWRpZW1Nb2RlOiBfdGhpcy5wcm9wcy51dGlscy5nZXRIb3VycyhfdGhpcy5wcm9wcy5kYXRlKSA+PSAxMiA/ICdwbScgOiAnYW0nXG4gICAgfTtcblxuICAgIF90aGlzLnNldE1lcmlkaWVtTW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbWVyaWRpZW1Nb2RlOiBtb2RlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgICAgIHRpbWU6IF90aGlzLnByb3BzLmRhdGUsXG4gICAgICAgICAgICBpc0ZpbmlzaDogZmFsc2UsXG4gICAgICAgICAgICBvcGVuTWludXRlczogZmFsc2UsXG4gICAgICAgICAgICBvcGVuU2Vjb25kczogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgIHZhciB0aW1lID0gX2EudGltZSxcbiAgICAgICAgICBpc0ZpbmlzaCA9IF9hLmlzRmluaXNoLFxuICAgICAgICAgIG9wZW5NaW51dGVzID0gX2Eub3Blbk1pbnV0ZXMsXG4gICAgICAgICAgb3BlblNlY29uZHMgPSBfYS5vcGVuU2Vjb25kcztcbiAgICAgIHZhciB3aXRoTWVyaWRpZW0gPSBjb252ZXJ0VG9NZXJpZGllbSh0aW1lLCBfdGhpcy5zdGF0ZS5tZXJpZGllbU1vZGUsIEJvb2xlYW4oX3RoaXMucHJvcHMuYW1wbSksIF90aGlzLnByb3BzLnV0aWxzKTtcblxuICAgICAgaWYgKGlzRmluaXNoKSB7XG4gICAgICAgIGlmICghb3Blbk1pbnV0ZXMgJiYgIW9wZW5TZWNvbmRzKSB7XG4gICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uod2l0aE1lcmlkaWVtLCBpc0ZpbmlzaCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3Blbk1pbnV0ZXMpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuTWludXRlc1ZpZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVuU2Vjb25kcykge1xuICAgICAgICAgIF90aGlzLm9wZW5TZWNvbmRzVmlldygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHdpdGhNZXJpZGllbSwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVIb3VyQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBpc0ZpbmlzaDogaXNGaW5pc2gsXG4gICAgICAgIG9wZW5NaW51dGVzOiB0cnVlLFxuICAgICAgICBvcGVuU2Vjb25kczogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBpc0ZpbmlzaDogaXNGaW5pc2gsXG4gICAgICAgIG9wZW5NaW51dGVzOiBmYWxzZSxcbiAgICAgICAgb3BlblNlY29uZHM6IEJvb2xlYW4oX3RoaXMucHJvcHMuc2Vjb25kcylcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBpc0ZpbmlzaDogaXNGaW5pc2gsXG4gICAgICAgIG9wZW5NaW51dGVzOiBmYWxzZSxcbiAgICAgICAgb3BlblNlY29uZHM6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblNlY29uZHNWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuVmlldzogQ2xvY2tUeXBlJDEuU0VDT05EU1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5NaW51dGVzVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLk1JTlVURVNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuSG91clZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5IT1VSU1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRpbWVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgdGhlbWUgPSBfYi50aGVtZSxcbiAgICAgICAgZGF0ZSA9IF9iLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2IudXRpbHMsXG4gICAgICAgIGFtcG0gPSBfYi5hbXBtLFxuICAgICAgICBzZWNvbmRzID0gX2Iuc2Vjb25kcztcbiAgICB2YXIgX2MgPSB0aGlzLnN0YXRlLFxuICAgICAgICBtZXJpZGllbU1vZGUgPSBfYy5tZXJpZGllbU1vZGUsXG4gICAgICAgIG9wZW5WaWV3ID0gX2Mub3BlblZpZXc7XG4gICAgdmFyIHJ0bCA9IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG4gICAgdmFyIGhvdXJNaW51dGVDbGFzc05hbWUgPSBydGwgPyBjbGFzc2VzLmhvdXJNaW51dGVMYWJlbFJldmVyc2UgOiBjbGFzc2VzLmhvdXJNaW51dGVMYWJlbDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgY3JlYXRlRWxlbWVudChQaWNrZXJUb29sYmFyJDEsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnRvb2xiYXIsIChfYSA9IHt9LCBfYVtjbGFzc2VzLnRvb2xiYXJMZWZ0UGFkZGluZ10gPSBhbXBtLCBfYSkpXG4gICAgfSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGhvdXJNaW51dGVDbGFzc05hbWVcbiAgICB9LCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuSG91clZpZXcsXG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IENsb2NrVHlwZSQxLkhPVVJTLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldEhvdXJUZXh0KGRhdGUsIEJvb2xlYW4oYW1wbSkpXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBsYWJlbDogXCI6XCIsXG4gICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc2VwYXJhdG9yXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5NaW51dGVzVmlldyxcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gQ2xvY2tUeXBlJDEuTUlOVVRFUyxcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRNaW51dGVUZXh0KGRhdGUpXG4gICAgfSksIHNlY29uZHMgJiYgY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIGxhYmVsOiBcIjpcIixcbiAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZXBhcmF0b3JcbiAgICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlblNlY29uZHNWaWV3LFxuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBDbG9ja1R5cGUkMS5TRUNPTkRTLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldFNlY29uZFRleHQoZGF0ZSlcbiAgICB9KSkpLCBhbXBtICYmIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBzZWNvbmRzID8gY2xhc3Nlcy5hbXBtU2VsZWN0aW9uV2l0aFNlY29uZHMgOiBjbGFzc2VzLmFtcG1TZWxlY3Rpb25cbiAgICB9LCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICAgIHNlbGVjdGVkOiBtZXJpZGllbU1vZGUgPT09ICdhbScsXG4gICAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgnYW0nKSxcbiAgICAgIG9uQ2xpY2s6IHRoaXMuc2V0TWVyaWRpZW1Nb2RlKCdhbScpXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ3BtJyxcbiAgICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdwbScpLFxuICAgICAgb25DbGljazogdGhpcy5zZXRNZXJpZGllbU1vZGUoJ3BtJylcbiAgICB9KSkpLCB0aGlzLnByb3BzLmNoaWxkcmVuLCBjcmVhdGVFbGVtZW50KFRpbWVQaWNrZXJWaWV3JDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICB0eXBlOiB0aGlzLnN0YXRlLm9wZW5WaWV3LFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIG9uSG91ckNoYW5nZTogdGhpcy5oYW5kbGVIb3VyQ2hhbmdlLFxuICAgICAgb25NaW51dGVzQ2hhbmdlOiB0aGlzLmhhbmRsZU1pbnV0ZXNDaGFuZ2UsXG4gICAgICBvblNlY29uZHNDaGFuZ2U6IHRoaXMuaGFuZGxlU2Vjb25kc0NoYW5nZVxuICAgIH0pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBUaW1lUGlja2VyLnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHRoZW1lOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjaGlsZHJlbjogbm9kZSxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgYW1wbTogYm9vbCxcbiAgICBzZWNvbmRzOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgVGltZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY2hpbGRyZW46IG51bGwsXG4gICAgYW1wbTogdHJ1ZSxcbiAgICBzZWNvbmRzOiBmYWxzZVxuICB9O1xuICByZXR1cm4gVGltZVBpY2tlcjtcbn0oQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICB0b29sYmFyOiB7XG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXG4gICAgfSxcbiAgICB0b29sYmFyTGVmdFBhZGRpbmc6IHtcbiAgICAgIHBhZGRpbmdMZWZ0OiA1MFxuICAgIH0sXG4gICAgc2VwYXJhdG9yOiB7XG4gICAgICBtYXJnaW46ICcwIDRweCAwIDJweCcsXG4gICAgICBjdXJzb3I6ICdkZWZhdWx0J1xuICAgIH0sXG4gICAgYW1wbVNlbGVjdGlvbjoge1xuICAgICAgbWFyZ2luTGVmdDogMjAsXG4gICAgICBtYXJnaW5SaWdodDogLTIwXG4gICAgfSxcbiAgICBhbXBtU2VsZWN0aW9uV2l0aFNlY29uZHM6IHtcbiAgICAgIG1hcmdpbkxlZnQ6IDE1LFxuICAgICAgbWFyZ2luUmlnaHQ6IDEwXG4gICAgfSxcbiAgICBhbXBtTGFiZWw6IHtcbiAgICAgIGZvbnRTaXplOiAxOFxuICAgIH0sXG4gICAgaG91ck1pbnV0ZUxhYmVsOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCdcbiAgICB9LFxuICAgIGhvdXJNaW51dGVMYWJlbFJldmVyc2U6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJyxcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3ctcmV2ZXJzZSdcbiAgICB9XG4gIH0pO1xufTtcbnZhciBUaW1lUGlja2VyJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJGQsIHtcbiAgd2l0aFRoZW1lOiB0cnVlLFxuICBuYW1lOiAnTXVpUGlja2Vyc1RpbWVQaWNrZXInXG59KSh3aXRoVXRpbHMoKShUaW1lUGlja2VyKSk7XG5cbnZhciBUaW1lUGlja2VyTW9kYWwgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgYW1wbSA9IHByb3BzLmFtcG0sXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBzZWNvbmRzID0gcHJvcHMuc2Vjb25kcyxcbiAgICAgIG90aGVyID0gX19yZXN0KHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImF1dG9Pa1wiLCBcIm9uQ2hhbmdlXCIsIFwiYW1wbVwiLCBcImZvcndhcmRlZFJlZlwiLCBcInNlY29uZHNcIl0pO1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KEJhc2VQaWNrZXIkMSwgX19hc3NpZ24oe1xuICAgIG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2U6IHRydWVcbiAgfSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVDbGVhciA9IF9hLmhhbmRsZUNsZWFyLFxuICAgICAgICBoYW5kbGVEaXNtaXNzID0gX2EuaGFuZGxlRGlzbWlzcyxcbiAgICAgICAgaGFuZGxlU2V0VG9kYXlEYXRlID0gX2EuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQ7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoTW9kYWxXcmFwcGVyLCBfX2Fzc2lnbih7XG4gICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIG9uQ2xlYXI6IGhhbmRsZUNsZWFyLFxuICAgICAgb25BY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBvbkRpc21pc3M6IGhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiBoYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgZm9ybWF0OiBwaWNrMTJoT3IyNGhGb3JtYXQodXRpbHMudGltZTEyaEZvcm1hdCwgdXRpbHMudGltZTI0aEZvcm1hdClcbiAgICB9LCBvdGhlciksIGNyZWF0ZUVsZW1lbnQoVGltZVBpY2tlciQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBzZWNvbmRzOiBzZWNvbmRzXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBUaW1lUGlja2VyTW9kYWwucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IGJvb2wsXG4gIGFtcG06IGJvb2wsXG4gIHNlY29uZHM6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcblRpbWVQaWNrZXJNb2RhbC5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiBmYWxzZSxcbiAgYW1wbTogdHJ1ZSxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIHNlY29uZHM6IGZhbHNlXG59O1xudmFyIFRpbWVQaWNrZXJNb2RhbCQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChUaW1lUGlja2VyTW9kYWwsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgVGltZVBpY2tlcklubGluZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIHNlY29uZHMgPSBwcm9wcy5zZWNvbmRzLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwib25DaGFuZ2VcIiwgXCJhbXBtXCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwic2Vjb25kc1wiXSk7XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQmFzZVBpY2tlciQxLCBfX2Fzc2lnbih7XG4gICAgbWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZTogdHJ1ZSxcbiAgICBhdXRvT2s6IHRydWVcbiAgfSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgcGljazEyaE9yMjRoRm9ybWF0ID0gX2EucGljazEyaE9yMjRoRm9ybWF0LFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQ7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoSW5saW5lV3JhcHBlciQxLCBfX2Fzc2lnbih7XG4gICAgICBpbm5lclJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBoYW5kbGVBY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLnRpbWUxMmhGb3JtYXQsIHV0aWxzLnRpbWUyNGhGb3JtYXQpXG4gICAgfSwgb3RoZXIpLCBjcmVhdGVFbGVtZW50KFRpbWVQaWNrZXIkMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgc2Vjb25kczogc2Vjb25kc1xuICAgIH0pKTtcbiAgfSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVGltZVBpY2tlcklubGluZS5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGFtcG06IGJvb2wsXG4gIHNlY29uZHM6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcblRpbWVQaWNrZXJJbmxpbmUuZGVmYXVsdFByb3BzID0ge1xuICBhbXBtOiB0cnVlLFxuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkLFxuICBzZWNvbmRzOiBmYWxzZVxufTtcbnZhciBUaW1lUGlja2VySW5saW5lJDEgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFRpbWVQaWNrZXJJbmxpbmUsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJWaWV3O1xuXG4oZnVuY3Rpb24gKERhdGVUaW1lUGlja2VyVmlldykge1xuICBEYXRlVGltZVBpY2tlclZpZXdbXCJZRUFSXCJdID0gXCJ5ZWFyXCI7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIkRBVEVcIl0gPSBcImRhdGVcIjtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiSE9VUlwiXSA9IFwiaG91cnNcIjtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiTUlOVVRFU1wiXSA9IFwibWludXRlc1wiO1xufSkoRGF0ZVRpbWVQaWNrZXJWaWV3IHx8IChEYXRlVGltZVBpY2tlclZpZXcgPSB7fSkpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJWaWV3JDEgPSBEYXRlVGltZVBpY2tlclZpZXc7XG5cbnZhciBzdHlsZXMkZSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIHRvb2xiYXI6IHtcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBwYWRkaW5nTGVmdDogMTYsXG4gICAgICBwYWRkaW5nUmlnaHQ6IDE2LFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1hcm91bmQnXG4gICAgfSxcbiAgICBzZXBhcmF0b3I6IHtcbiAgICAgIG1hcmdpbjogJzAgNHB4IDAgMnB4JyxcbiAgICAgIGN1cnNvcjogJ2RlZmF1bHQnXG4gICAgfSxcbiAgICBhbXBtU2VsZWN0aW9uOiB7XG4gICAgICB0b3A6IDksXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIG1hcmdpbkxlZnQ6IDEwLFxuICAgICAgbWFyZ2luUmlnaHQ6IC0xMFxuICAgIH0sXG4gICAgYW1wbUxhYmVsOiB7XG4gICAgICBmb250U2l6ZTogMThcbiAgICB9LFxuICAgIGhvdXJNaW51dGVMYWJlbDoge1xuICAgICAgdG9wOiA1LFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiB0aGVtZS5kaXJlY3Rpb24gPT09ICdydGwnID8gJ3Jvdy1yZXZlcnNlJyA6ICdyb3cnXG4gICAgfSxcbiAgICBkYXRlSGVhZGVyOiB7XG4gICAgICBoZWlnaHQ6IDYwXG4gICAgfSxcbiAgICB0aW1lSGVhZGVyOiB7XG4gICAgICBoZWlnaHQ6IDY1LFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnXG4gICAgfVxuICB9KTtcbn07XG52YXIgRGF0ZVRpbWVQaWNrZXJIZWFkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBvcGVuVmlldyA9IF9hLm9wZW5WaWV3LFxuICAgICAgbWVyaWRpZW1Nb2RlID0gX2EubWVyaWRpZW1Nb2RlLFxuICAgICAgb25PcGVuVmlld0NoYW5nZSA9IF9hLm9uT3BlblZpZXdDaGFuZ2UsXG4gICAgICBzZXRNZXJpZGllbU1vZGUgPSBfYS5zZXRNZXJpZGllbU1vZGUsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgYW1wbSA9IF9hLmFtcG07XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFBpY2tlclRvb2xiYXIkMSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50b29sYmFyXG4gIH0sIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kYXRlSGVhZGVyXG4gIH0sIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gb25PcGVuVmlld0NoYW5nZShEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSKTtcbiAgICB9LFxuICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuWUVBUixcbiAgICBsYWJlbDogdXRpbHMuZ2V0WWVhclRleHQoZGF0ZSlcbiAgfSksIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoNFwiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFLFxuICAgIGxhYmVsOiB1dGlscy5nZXREYXRlVGltZVBpY2tlckhlYWRlclRleHQoZGF0ZSlcbiAgfSkpLCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudGltZUhlYWRlclxuICB9LCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuaG91ck1pbnV0ZUxhYmVsXG4gIH0sIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoM1wiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSLFxuICAgIGxhYmVsOiB1dGlscy5nZXRIb3VyVGV4dChkYXRlLCBhbXBtKVxuICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImgzXCIsXG4gICAgbGFiZWw6IFwiOlwiLFxuICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuc2VwYXJhdG9yXG4gIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgIHZhcmlhbnQ6IFwiaDNcIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gb25PcGVuVmlld0NoYW5nZShEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTKTtcbiAgICB9LFxuICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuTUlOVVRFUyxcbiAgICBsYWJlbDogdXRpbHMuZ2V0TWludXRlVGV4dChkYXRlKVxuICB9KSksIGFtcG0gJiYgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1TZWxlY3Rpb25cbiAgfSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgIHNlbGVjdGVkOiBtZXJpZGllbU1vZGUgPT09ICdhbScsXG4gICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdhbScpLFxuICAgIG9uQ2xpY2s6IHNldE1lcmlkaWVtTW9kZSgnYW0nKVxuICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgIHNlbGVjdGVkOiBtZXJpZGllbU1vZGUgPT09ICdwbScsXG4gICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdwbScpLFxuICAgIG9uQ2xpY2s6IHNldE1lcmlkaWVtTW9kZSgncG0nKVxuICB9KSkpKTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlVGltZVBpY2tlckhlYWRlci5wcm9wVHlwZXMgPSB7XG4gIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgbWVyaWRpZW1Nb2RlOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgb3BlblZpZXc6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBvbk9wZW5WaWV3Q2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIHNldE1lcmlkaWVtTW9kZTogZnVuYy5pc1JlcXVpcmVkLFxuICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGFtcG06IGJvb2wsXG4gIGlubmVyUmVmOiBhbnlcbn0gOiB2b2lkIDA7XG5EYXRlVGltZVBpY2tlckhlYWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGFtcG06IHRydWVcbn07XG52YXIgRGF0ZXRpbWVQaWNrZXJIZWFkZXIgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJGUsIHtcbiAgbmFtZTogJ011aVBpY2tlckRUSGVhZGVyJ1xufSkod2l0aFV0aWxzKCkoRGF0ZVRpbWVQaWNrZXJIZWFkZXIpKTtcblxudmFyIHZpZXdUb1RhYkluZGV4ID0gZnVuY3Rpb24gKG9wZW5WaWV3KSB7XG4gIGlmIChvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURSB8fCBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuWUVBUikge1xuICAgIHJldHVybiAnZGF0ZSc7XG4gIH1cblxuICByZXR1cm4gJ3RpbWUnO1xufTtcblxudmFyIHRhYkluZGV4VG9WaWV3ID0gZnVuY3Rpb24gKHRhYikge1xuICBpZiAodGFiID09PSAnZGF0ZScpIHtcbiAgICByZXR1cm4gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURTtcbiAgfVxuXG4gIHJldHVybiBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSO1xufTtcblxudmFyIERhdGVUaW1lUGlja2VyVGFicyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmlldyA9IHByb3BzLnZpZXcsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgY2xhc3NlcyA9IHByb3BzLmNsYXNzZXMsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lLFxuICAgICAgZGF0ZVJhbmdlSWNvbiA9IHByb3BzLmRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbiA9IHByb3BzLnRpbWVJY29uO1xuICB2YXIgaW5kaWNhdG9yQ29sb3IgPSB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyAnc2Vjb25kYXJ5JyA6ICdwcmltYXJ5JztcblxuICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB2aWV3VG9UYWJJbmRleCh2aWV3KSkge1xuICAgICAgb25DaGFuZ2UodGFiSW5kZXhUb1ZpZXcodmFsdWUpKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoUGFwZXIsIG51bGwsIGNyZWF0ZUVsZW1lbnQoVGFicywge1xuICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICB2YWx1ZTogdmlld1RvVGFiSW5kZXgodmlldyksXG4gICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudGFicyxcbiAgICBpbmRpY2F0b3JDb2xvcjogaW5kaWNhdG9yQ29sb3JcbiAgfSwgY3JlYXRlRWxlbWVudChUYWIsIHtcbiAgICB2YWx1ZTogXCJkYXRlXCIsXG4gICAgaWNvbjogY3JlYXRlRWxlbWVudChJY29uLCBudWxsLCBkYXRlUmFuZ2VJY29uKVxuICB9KSwgY3JlYXRlRWxlbWVudChUYWIsIHtcbiAgICB2YWx1ZTogXCJ0aW1lXCIsXG4gICAgaWNvbjogY3JlYXRlRWxlbWVudChJY29uLCBudWxsLCB0aW1lSWNvbilcbiAgfSkpKTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlVGltZVBpY2tlclRhYnMucHJvcFR5cGVzID0ge1xuICB2aWV3OiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIHRoZW1lOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgZGF0ZVJhbmdlSWNvbjogbm9kZS5pc1JlcXVpcmVkLFxuICB0aW1lSWNvbjogbm9kZS5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xudmFyIHN0eWxlcyRmID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdGFiczoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiA6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZFtcImRlZmF1bHRcIl1cbiAgICB9XG4gIH07XG59O1xudmFyIERhdGVUaW1lUGlja2VyVGFicyQxID0gd2l0aFRoZW1lKCkod2l0aFN0eWxlcyQxKHN0eWxlcyRmLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJEVFRhYnMnXG59KShEYXRlVGltZVBpY2tlclRhYnMpKTtcblxudmFyIERhdGVUaW1lUGlja2VyVmlldyQyID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBzZWxlY3RlZCA9IF9hLnNlbGVjdGVkLFxuICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbjtcblxuICBpZiAoIXNlbGVjdGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH0pO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVUaW1lUGlja2VyVmlldyQyLnByb3BUeXBlcyA9IHtcbiAgc2VsZWN0ZWQ6IGJvb2wuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcblxudmFyIERhdGVUaW1lUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKERhdGVUaW1lUGlja2VyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIERhdGVUaW1lUGlja2VyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuVmlldzogX3RoaXMucHJvcHMub3BlblRvLFxuICAgICAgbWVyaWRpZW1Nb2RlOiBfdGhpcy5wcm9wcy51dGlscy5nZXRIb3VycyhfdGhpcy5wcm9wcy5kYXRlKSA+PSAxMiA/ICdwbScgOiAnYW0nXG4gICAgfTtcblxuICAgIF90aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoLCBuZXh0Vmlldykge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UodGltZSk7XG5cbiAgICAgIGlmIChpc0ZpbmlzaCAmJiBfdGhpcy5wcm9wcy5hdXRvU3VibWl0KSB7XG4gICAgICAgIF90aGlzLmhhbmRsZVZpZXdDaGFuZ2UobmV4dFZpZXcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRNZXJpZGllbU1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1lcmlkaWVtTW9kZTogbW9kZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNoYW5nZShfdGhpcy5wcm9wcy5kYXRlLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVmlld0NoYW5nZSA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiB2aWV3XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgd2l0aE1lcmlkaWVtID0gY29udmVydFRvTWVyaWRpZW0odGltZSwgX3RoaXMuc3RhdGUubWVyaWRpZW1Nb2RlLCBCb29sZWFuKF90aGlzLnByb3BzLmFtcG0pLCBfdGhpcy5wcm9wcy51dGlscyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHdpdGhNZXJpZGllbSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVZZWFyQ2hhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIF90aGlzLm9uQ2hhbmdlKGRhdGUsIGZhbHNlLCBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRGF5Q2hhbmdlID0gZnVuY3Rpb24gKGRhdGUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5vbkNoYW5nZShkYXRlLCBpc0ZpbmlzaCwgRGF0ZVRpbWVQaWNrZXJWaWV3JDEuSE9VUik7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUhvdXJDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLm9uQ2hhbmdlKHRpbWUsIGlzRmluaXNoLCBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgRGF0ZVRpbWVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnN0YXRlLFxuICAgICAgICBvcGVuVmlldyA9IF9hLm9wZW5WaWV3LFxuICAgICAgICBtZXJpZGllbU1vZGUgPSBfYS5tZXJpZGllbU1vZGU7XG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0ZSA9IF9iLmRhdGUsXG4gICAgICAgIG1pbkRhdGUgPSBfYi5taW5EYXRlLFxuICAgICAgICBtYXhEYXRlID0gX2IubWF4RGF0ZSxcbiAgICAgICAgc2hvd1RhYnMgPSBfYi5zaG93VGFicyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYi5kaXNhYmxlUGFzdCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9iLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIGxlZnRBcnJvd0ljb24gPSBfYi5sZWZ0QXJyb3dJY29uLFxuICAgICAgICByaWdodEFycm93SWNvbiA9IF9iLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgICBkYXRlUmFuZ2VJY29uID0gX2IuZGF0ZVJhbmdlSWNvbixcbiAgICAgICAgdGltZUljb24gPSBfYi50aW1lSWNvbixcbiAgICAgICAgcmVuZGVyRGF5ID0gX2IucmVuZGVyRGF5LFxuICAgICAgICBhbXBtID0gX2IuYW1wbSxcbiAgICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBfYi5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBfYi5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBfYi5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgICAgVmlld0NvbnRhaW5lckNvbXBvbmVudCA9IF9iLlZpZXdDb250YWluZXJDb21wb25lbnQ7XG4gICAgdmFyIENvbnRhaW5lciA9IFZpZXdDb250YWluZXJDb21wb25lbnQ7XG4gICAgdmFyIFZpZXdDb250YWluZXJDb21wb25lbnRQcm9wcyA9IHR5cGVvZiBWaWV3Q29udGFpbmVyQ29tcG9uZW50ID09PSAnc3RyaW5nJyA/IHt9IDoge1xuICAgICAgb3BlblZpZXc6IG9wZW5WaWV3LFxuICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2VcbiAgICB9O1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBjcmVhdGVFbGVtZW50KERhdGV0aW1lUGlja2VySGVhZGVyLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgb3BlblZpZXc6IG9wZW5WaWV3LFxuICAgICAgbWVyaWRpZW1Nb2RlOiBtZXJpZGllbU1vZGUsXG4gICAgICBzZXRNZXJpZGllbU1vZGU6IHRoaXMuc2V0TWVyaWRpZW1Nb2RlLFxuICAgICAgb25PcGVuVmlld0NoYW5nZTogdGhpcy5oYW5kbGVWaWV3Q2hhbmdlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0pLCBzaG93VGFicyAmJiBjcmVhdGVFbGVtZW50KERhdGVUaW1lUGlja2VyVGFicyQxLCB7XG4gICAgICB2aWV3OiBvcGVuVmlldyxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVZpZXdDaGFuZ2UsXG4gICAgICBkYXRlUmFuZ2VJY29uOiBkYXRlUmFuZ2VJY29uLFxuICAgICAgdGltZUljb246IHRpbWVJY29uXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyLCBfX2Fzc2lnbih7fSwgVmlld0NvbnRhaW5lckNvbXBvbmVudFByb3BzKSwgY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlclZpZXckMiwge1xuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSXG4gICAgfSwgY3JlYXRlRWxlbWVudChZZWFyU2VsZWN0aW9uJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVllYXJDaGFuZ2UsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGFuaW1hdGVZZWFyU2Nyb2xsaW5nXG4gICAgfSkpLCBjcmVhdGVFbGVtZW50KERhdGVUaW1lUGlja2VyVmlldyQyLCB7XG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEVcbiAgICB9LCBjcmVhdGVFbGVtZW50KENhbGVuZGFyJDEsIHtcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZURheUNoYW5nZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGVcbiAgICB9KSksIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXJWaWV3JDIsIHtcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuSE9VUiB8fCBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuTUlOVVRFU1xuICAgIH0sIGNyZWF0ZUVsZW1lbnQoVGltZVBpY2tlclZpZXckMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIHR5cGU6IG9wZW5WaWV3LFxuICAgICAgb25Ib3VyQ2hhbmdlOiB0aGlzLmhhbmRsZUhvdXJDaGFuZ2UsXG4gICAgICBvbk1pbnV0ZXNDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgb25TZWNvbmRzQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgIGFtcG06IGFtcG1cbiAgICB9KSkpKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlVGltZVBpY2tlci5wcm9wVHlwZXMgPSB7XG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gICAgYW1wbTogYm9vbCxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgICBhdXRvU3VibWl0OiBib29sLFxuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGluaXRpYWxGb2N1c2VkRGF0ZTogYW55LFxuICAgIGlubmVyUmVmOiBhbnksXG4gICAgZGF0ZVJhbmdlSWNvbjogbm9kZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZS5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgb3BlblRvOiBvbmVPZihPYmplY3Qua2V5cyhEYXRlVGltZVBpY2tlclZpZXckMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBEYXRlVGltZVBpY2tlclZpZXckMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkLFxuICAgIHJlbmRlckRheTogZnVuYyxcbiAgICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgICBzaG93VGFiczogYm9vbCxcbiAgICB0aW1lSWNvbjogbm9kZSxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgVmlld0NvbnRhaW5lckNvbXBvbmVudDogb25lT2ZUeXBlKFtzdHJpbmcsIGZ1bmMsIG9iamVjdF0pXG4gIH0gOiB2b2lkIDA7XG4gIERhdGVUaW1lUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogZmFsc2UsXG4gICAgYW1wbTogdHJ1ZSxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gICAgYXV0b1N1Ym1pdDogdHJ1ZSxcbiAgICBkYXRlUmFuZ2VJY29uOiB1bmRlZmluZWQsXG4gICAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGxlZnRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgICByaWdodEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gICAgc2hvd1RhYnM6IHRydWUsXG4gICAgdGltZUljb246IHVuZGVmaW5lZCxcbiAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50OiAnZGl2J1xuICB9O1xuICByZXR1cm4gRGF0ZVRpbWVQaWNrZXI7XG59KENvbXBvbmVudCk7XG52YXIgRGF0ZVRpbWVQaWNrZXIkMSA9IHdpdGhVdGlscygpKERhdGVUaW1lUGlja2VyKTtcblxudmFyIERhdGVUaW1lUGlja2VyTW9kYWwgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBvcGVuVG8gPSBwcm9wcy5vcGVuVG8sXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIG1heERhdGUgPSBwcm9wcy5tYXhEYXRlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gcHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlLFxuICAgICAgc2hvd1RhYnMgPSBwcm9wcy5zaG93VGFicyxcbiAgICAgIGF1dG9TdWJtaXQgPSBwcm9wcy5hdXRvU3VibWl0LFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgbGVmdEFycm93SWNvbiA9IHByb3BzLmxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbiA9IHByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgZGF0ZVJhbmdlSWNvbiA9IHByb3BzLmRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbiA9IHByb3BzLnRpbWVJY29uLFxuICAgICAgcmVuZGVyRGF5ID0gcHJvcHMucmVuZGVyRGF5LFxuICAgICAgYW1wbSA9IHByb3BzLmFtcG0sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gcHJvcHMuYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBvdGhlciA9IF9fcmVzdChwcm9wcywgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJhdXRvT2tcIiwgXCJvcGVuVG9cIiwgXCJtaW5EYXRlXCIsIFwibWF4RGF0ZVwiLCBcImluaXRpYWxGb2N1c2VkRGF0ZVwiLCBcInNob3dUYWJzXCIsIFwiYXV0b1N1Ym1pdFwiLCBcImRpc2FibGVQYXN0XCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImxlZnRBcnJvd0ljb25cIiwgXCJyaWdodEFycm93SWNvblwiLCBcImRhdGVSYW5nZUljb25cIiwgXCJ0aW1lSWNvblwiLCBcInJlbmRlckRheVwiLCBcImFtcG1cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwiYWxsb3dLZXlib2FyZENvbnRyb2xcIl0pOyAvLyBkbyBub3Qgc2hvdyB0YWJzIGZvciBzbWFsbCBzY3JlZW5zXG5cblxuICB2YXIgdG9TaG93VGFicyA9IHNob3dUYWJzICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5pbm5lckhlaWdodCA+IDY2NztcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQmFzZVBpY2tlciQxLCBfX2Fzc2lnbih7fSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVDbGVhciA9IF9hLmhhbmRsZUNsZWFyLFxuICAgICAgICBoYW5kbGVEaXNtaXNzID0gX2EuaGFuZGxlRGlzbWlzcyxcbiAgICAgICAgaGFuZGxlU2V0VG9kYXlEYXRlID0gX2EuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQ7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoTW9kYWxXcmFwcGVyLCBfX2Fzc2lnbih7XG4gICAgICBzaG93VGFiczogdG9TaG93VGFicyxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25BY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBvbkNsZWFyOiBoYW5kbGVDbGVhcixcbiAgICAgIG9uRGlzbWlzczogaGFuZGxlRGlzbWlzcyxcbiAgICAgIG9uU2V0VG9kYXk6IGhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy5kYXRlVGltZTEyaEZvcm1hdCwgdXRpbHMuZGF0ZVRpbWUyNGhGb3JtYXQpXG4gICAgfSwgb3RoZXIpLCBjcmVhdGVFbGVtZW50KERhdGVUaW1lUGlja2VyJDEsIHtcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBhdXRvU3VibWl0OiBhdXRvU3VibWl0LFxuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGRhdGVSYW5nZUljb246IGRhdGVSYW5nZUljb24sXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIG9wZW5Ubzogb3BlblRvLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBzaG93VGFiczogdG9TaG93VGFicyxcbiAgICAgIHRpbWVJY29uOiB0aW1lSWNvblxuICAgIH0pKTtcbiAgfSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVRpbWVQaWNrZXJNb2RhbC5wcm9wVHlwZXMgPSB7XG4gIC8qKiBEYXRlLXRpbWUgcGlja2VyIHZhbHVlICovXG4gIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogRGF0ZSBmb3JtYXQgc3RyaW5nIGZvciBpbnB1dCAqL1xuICBmb3JtYXQ6IHN0cmluZyxcblxuICAvKiogQ2FsbGJhY2sgZmlyaW5nIHdoZW4gZGF0ZSBhY2NlcHRlZCBbKGRhdGU6IERhdGUpID0+IHZvaWRdICovXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqIEF1dG8gYWNjZXB0IGRhdGUgb24gbWludXRlIHNlbGVjdGlvbiAqL1xuICBhdXRvT2s6IGJvb2wsXG5cbiAgLyoqIE1vdmUgdG8gdGhlIG5leHQgcGFydCBvZiBkYXRlIG9uIHNlbGVjdCAoeWVhciAtPiBkYXRlIC0+IGhvdXIgLT4gbWludXRlKSAqL1xuICBhdXRvU3VibWl0OiBib29sLFxuXG4gIC8qKiBEaXNhYmxlIGZ1dHVyZSBkYXRlcyAqL1xuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuXG4gIC8qKiBEaXNhYmxlIHBhc3QgZGF0ZXMgKi9cbiAgZGlzYWJsZVBhc3Q6IGJvb2wsXG5cbiAgLyoqIE1pbiBzZWxlY3RhYmxlIGRhdGUgKi9cbiAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG5cbiAgLyoqIE1heCBzZWxlY3RhYmxlIGRhdGUgKi9cbiAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG5cbiAgLyoqIEluaXRpYWwgZm9jdXNlZCBkYXRlIHdoZW4gY2FsZW5kYXIgb3BlbnMsIGlmIG5vIHZhbHVlIGlzIHByb3ZpZGVkICovXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG5cbiAgLyoqIFNob3cgZGF0ZS90aW1lIHRhYnMgKi9cbiAgc2hvd1RhYnM6IGJvb2wsXG5cbiAgLyoqIExlZnQgYXJyb3cgaWNvbiAqL1xuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuXG4gIC8qKiBSaWdodCBhcnJvdyBpY29uICovXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuXG4gIC8qKiBEYXRlIHRhYiBpY29uICovXG4gIGRhdGVSYW5nZUljb246IG5vZGUsXG5cbiAgLyoqIFRpbWUgdGFiIGljb24gKi9cbiAgdGltZUljb246IG5vZGUsXG5cbiAgLyoqXG4gICAqIEN1c3RvbSByZW5kZXJlciBmb3IgZGF5XG4gICAqIFsoZGF0ZTogRGF0ZSwgbm93U2VsZWN0ZWREYXRlOiBEYXRlLCBpc0luQ3VycmVudE1vbnRoOiBib29sZWFuKSA9PiBSZWFjdEVsZW1lbnRdXG4gICAqL1xuICByZW5kZXJEYXk6IGZ1bmMsXG5cbiAgLyoqIDEyaC8yNGggdmlldyBmb3IgaG91ciBzZWxlY3Rpb24gY2xvY2sgKi9cbiAgYW1wbTogYm9vbCxcblxuICAvKiogRGlzYWJsZSBzcGVjaWZpYyBkYXRlIFsoZGF0ZTogRGF0ZSkgPT4gYm9vbGVhbl0gKi9cbiAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG5cbiAgLyoqIEVuYWJsZSBhbmltYXRlZCBzY3JvbGxpbmcgdG8gY3VycmVudCB5ZWFyICovXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuXG4gIC8qKiBPcGVuIGRpcmVjdGx5IHRvIHBhcnRpY3VsYXIgdmlldyAqL1xuICBvcGVuVG86IG9uZU9mKFsneWVhcicsICdkYXRlJywgJ2hvdXInLCAnbWludXRlcyddKSxcblxuICAvKiogRW5hYmxlcyBrZXlib2FyZCBsaXN0ZW5lciBmb3IgbW92aW5nIGJldHdlZW4gZGF5cyBpbiBjYWxlbmRhciAqL1xuICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuRGF0ZVRpbWVQaWNrZXJNb2RhbC5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiBmYWxzZSxcbiAgYXV0b1N1Ym1pdDogdHJ1ZSxcbiAgb3BlblRvOiAnZGF0ZScsXG4gIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IHVuZGVmaW5lZCxcbiAgc2hvd1RhYnM6IHRydWUsXG4gIGxlZnRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19sZWZ0JyxcbiAgcmlnaHRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19yaWdodCcsXG4gIGRhdGVSYW5nZUljb246ICdkYXRlX3JhbmdlJyxcbiAgdGltZUljb246ICdhY2Nlc3NfdGltZScsXG4gIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICBhbXBtOiB0cnVlLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZVxufTtcbnZhciBEYXRlVGltZVBpY2tlck1vZGFsJDEgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KERhdGVUaW1lUGlja2VyTW9kYWwsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJJbmxpbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBvcGVuVG8gPSBwcm9wcy5vcGVuVG8sXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIG1heERhdGUgPSBwcm9wcy5tYXhEYXRlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gcHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlLFxuICAgICAgc2hvd1RhYnMgPSBwcm9wcy5zaG93VGFicyxcbiAgICAgIGF1dG9TdWJtaXQgPSBwcm9wcy5hdXRvU3VibWl0LFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgbGVmdEFycm93SWNvbiA9IHByb3BzLmxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbiA9IHByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgZGF0ZVJhbmdlSWNvbiA9IHByb3BzLmRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbiA9IHByb3BzLnRpbWVJY29uLFxuICAgICAgcmVuZGVyRGF5ID0gcHJvcHMucmVuZGVyRGF5LFxuICAgICAgYW1wbSA9IHByb3BzLmFtcG0sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gcHJvcHMuYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBvdGhlciA9IF9fcmVzdChwcm9wcywgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJhdXRvT2tcIiwgXCJvcGVuVG9cIiwgXCJtaW5EYXRlXCIsIFwibWF4RGF0ZVwiLCBcImluaXRpYWxGb2N1c2VkRGF0ZVwiLCBcInNob3dUYWJzXCIsIFwiYXV0b1N1Ym1pdFwiLCBcImRpc2FibGVQYXN0XCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImxlZnRBcnJvd0ljb25cIiwgXCJyaWdodEFycm93SWNvblwiLCBcImRhdGVSYW5nZUljb25cIiwgXCJ0aW1lSWNvblwiLCBcInJlbmRlckRheVwiLCBcImFtcG1cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwiYWxsb3dLZXlib2FyZENvbnRyb2xcIl0pO1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KEJhc2VQaWNrZXIkMSwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgYXV0b09rOiB0cnVlXG4gIH0pLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgcGljazEyaE9yMjRoRm9ybWF0ID0gX2EucGljazEyaE9yMjRoRm9ybWF0LFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQ7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoSW5saW5lV3JhcHBlciQxLCBfX2Fzc2lnbih7XG4gICAgICBpbm5lclJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBoYW5kbGVBY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLmRhdGVUaW1lMTJoRm9ybWF0LCB1dGlscy5kYXRlVGltZTI0aEZvcm1hdClcbiAgICB9LCBvdGhlciksIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXIkMSwge1xuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9TdWJtaXQ6IGF1dG9TdWJtaXQsXG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgZGF0ZVJhbmdlSWNvbjogZGF0ZVJhbmdlSWNvbixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvOiBvcGVuVG8sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHNob3dUYWJzOiBzaG93VGFicyxcbiAgICAgIHRpbWVJY29uOiB0aW1lSWNvblxuICAgIH0pKTtcbiAgfSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVRpbWVQaWNrZXJJbmxpbmUucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IGJvb2wsXG4gIGF1dG9TdWJtaXQ6IGJvb2wsXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gIGRpc2FibGVQYXN0OiBib29sLFxuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIHNob3dUYWJzOiBib29sLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgZGF0ZVJhbmdlSWNvbjogbm9kZSxcbiAgdGltZUljb246IG5vZGUsXG4gIHJlbmRlckRheTogZnVuYyxcbiAgYW1wbTogYm9vbCxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICBvcGVuVG86IG9uZU9mKFsneWVhcicsICdkYXRlJywgJ2hvdXInLCAnbWludXRlcyddKSxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcbkRhdGVUaW1lUGlja2VySW5saW5lLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhdXRvU3VibWl0OiB0cnVlLFxuICBvcGVuVG86ICdkYXRlJyxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBzaG93VGFiczogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgZGF0ZVJhbmdlSWNvbjogJ2RhdGVfcmFuZ2UnLFxuICB0aW1lSWNvbjogJ2FjY2Vzc190aW1lJyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGFtcG06IHRydWUsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlXG59O1xudmFyIERhdGVUaW1lUGlja2VySW5saW5lJDEgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KERhdGVUaW1lUGlja2VySW5saW5lLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxuZXhwb3J0IHsgRGF0ZVBpY2tlck1vZGFsJDEgYXMgRGF0ZVBpY2tlciwgRGF0ZVBpY2tlcklubGluZSQxIGFzIElubGluZURhdGVQaWNrZXIsIFRpbWVQaWNrZXJNb2RhbCQxIGFzIFRpbWVQaWNrZXIsIFRpbWVQaWNrZXJJbmxpbmUkMSBhcyBJbmxpbmVUaW1lUGlja2VyLCBEYXRlVGltZVBpY2tlck1vZGFsJDEgYXMgRGF0ZVRpbWVQaWNrZXIsIERhdGVUaW1lUGlja2VySW5saW5lJDEgYXMgSW5saW5lRGF0ZVRpbWVQaWNrZXIsIEJhc2VQaWNrZXIkMSBhcyBCYXNlUGlja2VyLCBDYWxlbmRhciQxIGFzIENhbGVuZGFyLCBEYXkkMSBhcyBEYXksIFRpbWVQaWNrZXJWaWV3JDEgYXMgVGltZVBpY2tlclZpZXcsIENsb2NrJDEgYXMgQ2xvY2ssIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRlcmlhbC11aS1waWNrZXJzLmVzbS5qcy5tYXBcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL21hdGVyaWFsLXVpLXBpY2tlcnMvZGlzdC9tYXRlcmlhbC11aS1waWNrZXJzLmVzbS5qc1xuLy8gbW9kdWxlIGlkID0gNjA3N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBhZGRDbGFzcztcblxudmFyIF9oYXNDbGFzcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vaGFzQ2xhc3NcIikpO1xuXG5mdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtlbHNlIGlmICghKDAsIF9oYXNDbGFzcy5kZWZhdWx0KShlbGVtZW50LCBjbGFzc05hbWUpKSBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZTtlbHNlIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIChlbGVtZW50LmNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8ICcnKSArICcgJyArIGNsYXNzTmFtZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvYWRkQ2xhc3MuanNcbi8vIG1vZHVsZSBpZCA9IDYwNzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiByZXBsYWNlQ2xhc3NOYW1lKG9yaWdDbGFzcywgY2xhc3NUb1JlbW92ZSkge1xuICByZXR1cm4gb3JpZ0NsYXNzLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGNsYXNzVG9SZW1vdmUgKyAnKD86XFxcXHN8JCknLCAnZycpLCAnJDEnKS5yZXBsYWNlKC9cXHMrL2csICcgJykucmVwbGFjZSgvXlxccyp8XFxzKiQvZywgJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO2Vsc2UgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIGVsZW1lbnQuY2xhc3NOYW1lID0gcmVwbGFjZUNsYXNzTmFtZShlbGVtZW50LmNsYXNzTmFtZSwgY2xhc3NOYW1lKTtlbHNlIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHJlcGxhY2VDbGFzc05hbWUoZWxlbWVudC5jbGFzc05hbWUgJiYgZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbCB8fCAnJywgY2xhc3NOYW1lKSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL3JlbW92ZUNsYXNzLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICB0aG91c2FuZFNlcGFyYXRvcjogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFt0cnVlXSldKSxcbiAgZGVjaW1hbFNlcGFyYXRvcjogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcbiAgdGhvdXNhbmRzR3JvdXBTdHlsZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFsndGhvdXNhbmQnLCAnbGFraCcsICd3YW4nXSksXG4gIGRlY2ltYWxTY2FsZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcixcbiAgZml4ZWREZWNpbWFsU2NhbGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICBkaXNwbGF5VHlwZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFsnaW5wdXQnLCAndGV4dCddKSxcbiAgcHJlZml4OiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICBzdWZmaXg6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIGZvcm1hdDogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmNdKSxcbiAgcmVtb3ZlRm9ybWF0dGluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG1hc2s6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcpXSksXG4gIHZhbHVlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLCBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nXSksXG4gIGRlZmF1bHRWYWx1ZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlciwgX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZ10pLFxuICBpc051bWVyaWNTdHJpbmc6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICBjdXN0b21JbnB1dDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIGFsbG93TmVnYXRpdmU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICBhbGxvd0VtcHR5Rm9ybWF0dGluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIG9uVmFsdWVDaGFuZ2U6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbktleURvd246IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbk1vdXNlVXA6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbkNoYW5nZTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uRm9jdXM6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbkJsdXI6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICB0eXBlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWyd0ZXh0JywgJ3RlbCcsICdwYXNzd29yZCddKSxcbiAgaXNBbGxvd2VkOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgcmVuZGVyVGV4dDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIGdldElucHV0UmVmOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY1xufTtcbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGRpc3BsYXlUeXBlOiAnaW5wdXQnLFxuICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXG4gIHRob3VzYW5kc0dyb3VwU3R5bGU6ICd0aG91c2FuZCcsXG4gIGZpeGVkRGVjaW1hbFNjYWxlOiBmYWxzZSxcbiAgcHJlZml4OiAnJyxcbiAgc3VmZml4OiAnJyxcbiAgYWxsb3dOZWdhdGl2ZTogdHJ1ZSxcbiAgYWxsb3dFbXB0eUZvcm1hdHRpbmc6IGZhbHNlLFxuICBpc051bWVyaWNTdHJpbmc6IGZhbHNlLFxuICB0eXBlOiAndGV4dCcsXG4gIG9uVmFsdWVDaGFuZ2U6IF91dGlscy5ub29wLFxuICBvbkNoYW5nZTogX3V0aWxzLm5vb3AsXG4gIG9uS2V5RG93bjogX3V0aWxzLm5vb3AsXG4gIG9uTW91c2VVcDogX3V0aWxzLm5vb3AsXG4gIG9uRm9jdXM6IF91dGlscy5ub29wLFxuICBvbkJsdXI6IF91dGlscy5ub29wLFxuICBpc0FsbG93ZWQ6IF91dGlscy5yZXR1cm5UcnVlLFxuICBnZXRJbnB1dFJlZjogX3V0aWxzLm5vb3Bcbn07XG5cbnZhciBOdW1iZXJGb3JtYXQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKE51bWJlckZvcm1hdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTnVtYmVyRm9ybWF0KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE51bWJlckZvcm1hdCk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihOdW1iZXJGb3JtYXQpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlOyAvL3ZhbGlkYXRlIHByb3BzXG5cbiAgICBfdGhpcy52YWxpZGF0ZVByb3BzKCk7XG5cbiAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBfdGhpcy5mb3JtYXRWYWx1ZVByb3AoZGVmYXVsdFZhbHVlKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgbnVtQXNTdHJpbmc6IF90aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpXG4gICAgfTtcbiAgICBfdGhpcy5zZWxlY3Rpb25CZWZvcmVJbnB1dCA9IHtcbiAgICAgIHNlbGVjdGlvblN0YXJ0OiAwLFxuICAgICAgc2VsZWN0aW9uRW5kOiAwXG4gICAgfTtcbiAgICBfdGhpcy5vbkNoYW5nZSA9IF90aGlzLm9uQ2hhbmdlLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgIF90aGlzLm9uS2V5RG93biA9IF90aGlzLm9uS2V5RG93bi5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICBfdGhpcy5vbk1vdXNlVXAgPSBfdGhpcy5vbk1vdXNlVXAuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgX3RoaXMub25Gb2N1cyA9IF90aGlzLm9uRm9jdXMuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgX3RoaXMub25CbHVyID0gX3RoaXMub25CbHVyLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOdW1iZXJGb3JtYXQsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICB0aGlzLnVwZGF0ZVZhbHVlSWZSZXF1aXJlZChwcmV2UHJvcHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVWYWx1ZUlmUmVxdWlyZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVmFsdWVJZlJlcXVpcmVkKHByZXZQcm9wcykge1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgZm9jdXNlZEVsbSA9IHRoaXMuZm9jdXNlZEVsbTtcbiAgICAgIHZhciBzdGF0ZVZhbHVlID0gc3RhdGUudmFsdWUsXG4gICAgICAgICAgX3N0YXRlJG51bUFzU3RyaW5nID0gc3RhdGUubnVtQXNTdHJpbmcsXG4gICAgICAgICAgbGFzdE51bVN0ciA9IF9zdGF0ZSRudW1Bc1N0cmluZyA9PT0gdm9pZCAwID8gJycgOiBfc3RhdGUkbnVtQXNTdHJpbmc7XG5cbiAgICAgIGlmIChwcmV2UHJvcHMgIT09IHByb3BzKSB7XG4gICAgICAgIC8vdmFsaWRhdGUgcHJvcHNcbiAgICAgICAgdGhpcy52YWxpZGF0ZVByb3BzKCk7XG4gICAgICAgIHZhciBsYXN0VmFsdWVXaXRoTmV3Rm9ybWF0ID0gdGhpcy5mb3JtYXROdW1TdHJpbmcobGFzdE51bVN0cik7XG4gICAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IHByb3BzLnZhbHVlID09PSB1bmRlZmluZWQgPyBsYXN0VmFsdWVXaXRoTmV3Rm9ybWF0IDogdGhpcy5mb3JtYXRWYWx1ZVByb3AoKTtcbiAgICAgICAgdmFyIG51bUFzU3RyaW5nID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgICAgdmFyIGZsb2F0VmFsdWUgPSBwYXJzZUZsb2F0KG51bUFzU3RyaW5nKTtcbiAgICAgICAgdmFyIGxhc3RGbG9hdFZhbHVlID0gcGFyc2VGbG9hdChsYXN0TnVtU3RyKTtcblxuICAgICAgICBpZiAoIC8vd2hpbGUgdHlwaW5nIHNldCBzdGF0ZSBvbmx5IHdoZW4gZmxvYXQgdmFsdWUgY2hhbmdlc1xuICAgICAgICAoIWlzTmFOKGZsb2F0VmFsdWUpIHx8ICFpc05hTihsYXN0RmxvYXRWYWx1ZSkpICYmIGZsb2F0VmFsdWUgIT09IGxhc3RGbG9hdFZhbHVlIHx8IC8vY2FuIGFsc28gc2V0IHN0YXRlIHdoZW4gZmxvYXQgdmFsdWUgaXMgc2FtZSBhbmQgdGhlIGZvcm1hdCBwcm9wcyBjaGFuZ2VzXG4gICAgICAgIGxhc3RWYWx1ZVdpdGhOZXdGb3JtYXQgIT09IHN0YXRlVmFsdWUgfHwgLy9zZXQgc3RhdGUgYWx3YXlzIHdoZW4gbm90IGluIGZvY3VzIGFuZCBmb3JtYXR0ZWQgdmFsdWUgaXMgY2hhbmdlZFxuICAgICAgICBmb2N1c2VkRWxtID09PSBudWxsICYmIGZvcm1hdHRlZFZhbHVlICE9PSBzdGF0ZVZhbHVlKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgICBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmcsXG4gICAgICAgICAgICBpbnB1dDogZm9jdXNlZEVsbVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBNaXNjIG1ldGhvZHMgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRGbG9hdFN0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGbG9hdFN0cmluZygpIHtcbiAgICAgIHZhciBudW0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgdmFyIGRlY2ltYWxTY2FsZSA9IHRoaXMucHJvcHMuZGVjaW1hbFNjYWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9ycyA9IHRoaXMuZ2V0U2VwYXJhdG9ycygpLFxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzLmRlY2ltYWxTZXBhcmF0b3I7XG5cbiAgICAgIHZhciBudW1SZWdleCA9IHRoaXMuZ2V0TnVtYmVyUmVnZXgodHJ1ZSk7IC8vcmVtb3ZlIG5lZ2F0aW9uIGZvciByZWdleCBjaGVja1xuXG4gICAgICB2YXIgaGFzTmVnYXRpb24gPSBudW1bMF0gPT09ICctJztcbiAgICAgIGlmIChoYXNOZWdhdGlvbikgbnVtID0gbnVtLnJlcGxhY2UoJy0nLCAnJyk7IC8vaWYgZGVjaW1hbCBzY2FsZSBpcyB6ZXJvIHJlbW92ZSBkZWNpbWFsIGFuZCBudW1iZXIgYWZ0ZXIgZGVjaW1hbFNlcGFyYXRvclxuXG4gICAgICBpZiAoZGVjaW1hbFNlcGFyYXRvciAmJiBkZWNpbWFsU2NhbGUgPT09IDApIHtcbiAgICAgICAgbnVtID0gbnVtLnNwbGl0KGRlY2ltYWxTZXBhcmF0b3IpWzBdO1xuICAgICAgfVxuXG4gICAgICBudW0gPSAobnVtLm1hdGNoKG51bVJlZ2V4KSB8fCBbXSkuam9pbignJykucmVwbGFjZShkZWNpbWFsU2VwYXJhdG9yLCAnLicpOyAvL3JlbW92ZSBleHRyYSBkZWNpbWFsc1xuXG4gICAgICB2YXIgZmlyc3REZWNpbWFsSW5kZXggPSBudW0uaW5kZXhPZignLicpO1xuXG4gICAgICBpZiAoZmlyc3REZWNpbWFsSW5kZXggIT09IC0xKSB7XG4gICAgICAgIG51bSA9IFwiXCIuY29uY2F0KG51bS5zdWJzdHJpbmcoMCwgZmlyc3REZWNpbWFsSW5kZXgpLCBcIi5cIikuY29uY2F0KG51bS5zdWJzdHJpbmcoZmlyc3REZWNpbWFsSW5kZXggKyAxLCBudW0ubGVuZ3RoKS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsIF91dGlscy5lc2NhcGVSZWdFeHApKGRlY2ltYWxTZXBhcmF0b3IpLCAnZycpLCAnJykpO1xuICAgICAgfSAvL2FkZCBuZWdhdGlvbiBiYWNrXG5cblxuICAgICAgaWYgKGhhc05lZ2F0aW9uKSBudW0gPSAnLScgKyBudW07XG4gICAgICByZXR1cm4gbnVtO1xuICAgIH0gLy9yZXR1cm5lZCByZWdleCBhc3N1bWVzIGRlY2ltYWxTZXBhcmF0b3IgaXMgYXMgcGVyIHByb3BcblxuICB9LCB7XG4gICAga2V5OiBcImdldE51bWJlclJlZ2V4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE51bWJlclJlZ2V4KGcsIGlnbm9yZURlY2ltYWxTZXBhcmF0b3IpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMuZm9ybWF0LFxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzLmRlY2ltYWxTY2FsZTtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnMyID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMyLmRlY2ltYWxTZXBhcmF0b3I7XG5cbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKCdcXFxcZCcgKyAoZGVjaW1hbFNlcGFyYXRvciAmJiBkZWNpbWFsU2NhbGUgIT09IDAgJiYgIWlnbm9yZURlY2ltYWxTZXBhcmF0b3IgJiYgIWZvcm1hdCA/ICd8JyArICgwLCBfdXRpbHMuZXNjYXBlUmVnRXhwKShkZWNpbWFsU2VwYXJhdG9yKSA6ICcnKSwgZyA/ICdnJyA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFNlcGFyYXRvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VwYXJhdG9ycygpIHtcbiAgICAgIHZhciBkZWNpbWFsU2VwYXJhdG9yID0gdGhpcy5wcm9wcy5kZWNpbWFsU2VwYXJhdG9yO1xuICAgICAgdmFyIHRob3VzYW5kU2VwYXJhdG9yID0gdGhpcy5wcm9wcy50aG91c2FuZFNlcGFyYXRvcjtcblxuICAgICAgaWYgKHRob3VzYW5kU2VwYXJhdG9yID09PSB0cnVlKSB7XG4gICAgICAgIHRob3VzYW5kU2VwYXJhdG9yID0gJywnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZWNpbWFsU2VwYXJhdG9yOiBkZWNpbWFsU2VwYXJhdG9yLFxuICAgICAgICB0aG91c2FuZFNlcGFyYXRvcjogdGhvdXNhbmRTZXBhcmF0b3JcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE1hc2tBdEluZGV4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1hc2tBdEluZGV4KGluZGV4KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMkbWFzayA9IHRoaXMucHJvcHMubWFzayxcbiAgICAgICAgICBtYXNrID0gX3RoaXMkcHJvcHMkbWFzayA9PT0gdm9pZCAwID8gJyAnIDogX3RoaXMkcHJvcHMkbWFzaztcblxuICAgICAgaWYgKHR5cGVvZiBtYXNrID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbWFzaztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hc2tbaW5kZXhdIHx8ICcgJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmFsdWVPYmplY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWVPYmplY3QoZm9ybWF0dGVkVmFsdWUsIG51bUFzU3RyaW5nKSB7XG4gICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQobnVtQXNTdHJpbmcpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICB2YWx1ZTogbnVtQXNTdHJpbmcsXG4gICAgICAgIGZsb2F0VmFsdWU6IGlzTmFOKGZsb2F0VmFsdWUpID8gdW5kZWZpbmVkIDogZmxvYXRWYWx1ZVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidmFsaWRhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZVByb3BzKCkge1xuICAgICAgdmFyIG1hc2sgPSB0aGlzLnByb3BzLm1hc2s7IC8vdmFsaWRhdGUgZGVjaW1hbFNlcGFyYXRvciBhbmQgdGhvdXNhbmRTZXBhcmF0b3JcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnMzID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMzLmRlY2ltYWxTZXBhcmF0b3IsXG4gICAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzMy50aG91c2FuZFNlcGFyYXRvcjtcblxuICAgICAgaWYgKGRlY2ltYWxTZXBhcmF0b3IgPT09IHRob3VzYW5kU2VwYXJhdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcbiAgICAgICAgICBEZWNpbWFsIHNlcGFyYXRvciBjYW4ndCBiZSBzYW1lIGFzIHRob3VzYW5kIHNlcGFyYXRvci5cXG4gICAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3I6IFwiLmNvbmNhdCh0aG91c2FuZFNlcGFyYXRvciwgXCIgKHRob3VzYW5kU2VwYXJhdG9yID0ge3RydWV9IGlzIHNhbWUgYXMgdGhvdXNhbmRTZXBhcmF0b3IgPSBcXFwiLFxcXCIpXFxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3I6IFwiKS5jb25jYXQoZGVjaW1hbFNlcGFyYXRvciwgXCIgKGRlZmF1bHQgdmFsdWUgZm9yIGRlY2ltYWxTZXBhcmF0b3IgaXMgLilcXG4gICAgICAgXCIpKTtcbiAgICAgIH0gLy92YWxpZGF0ZSBtYXNrXG5cblxuICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgdmFyIG1hc2tBc1N0ciA9IG1hc2sgPT09ICdzdHJpbmcnID8gbWFzayA6IG1hc2sudG9TdHJpbmcoKTtcblxuICAgICAgICBpZiAobWFza0FzU3RyLm1hdGNoKC9cXGQvZykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcXG4gICAgICAgICAgTWFzayBcIi5jb25jYXQobWFzaywgXCIgc2hvdWxkIG5vdCBjb250YWluIG51bWVyaWMgY2hhcmFjdGVyO1xcbiAgICAgICAgXCIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKiogTWlzYyBtZXRob2RzIGVuZCAqKi9cblxuICAgIC8qKiBjYXJldCBzcGVjaWZpYyBtZXRob2RzICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0UGF0Y2hlZENhcmV0UG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zLCBjdXJyZW50VmFsdWUpIHtcbiAgICAgIC8qIHNldHRpbmcgY2FyZXQgcG9zaXRpb24gd2l0aGluIHRpbWVvdXQgb2YgMG1zIGlzIHJlcXVpcmVkIGZvciBtb2JpbGUgY2hyb21lLFxuICAgICAgb3RoZXJ3aXNlIGJyb3dzZXIgcmVzZXRzIHRoZSBjYXJldCBwb3NpdGlvbiBhZnRlciB3ZSBzZXQgaXRcbiAgICAgIFdlIGFyZSBhbHNvIHNldHRpbmcgaXQgd2l0aG91dCB0aW1lb3V0IHNvIHRoYXQgaW4gbm9ybWFsIGJyb3dzZXIgd2UgZG9uJ3Qgc2VlIHRoZSBmbGlja2VyaW5nICovXG4gICAgICAoMCwgX3V0aWxzLnNldENhcmV0UG9zaXRpb24pKGVsLCBjYXJldFBvcyk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGVsLnZhbHVlID09PSBjdXJyZW50VmFsdWUpICgwLCBfdXRpbHMuc2V0Q2FyZXRQb3NpdGlvbikoZWwsIGNhcmV0UG9zKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgICAvKiBUaGlzIGtlZXBzIHRoZSBjYXJldCB3aXRoaW4gdHlwaW5nIGFyZWEgc28gcGVvcGxlIGNhbid0IHR5cGUgaW4gYmV0d2VlbiBwcmVmaXggb3Igc3VmZml4ICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb3JyZWN0Q2FyZXRQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgY2FyZXRQb3MsIGRpcmVjdGlvbikge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcHJlZml4ID0gX3RoaXMkcHJvcHMyLnByZWZpeCxcbiAgICAgICAgICBzdWZmaXggPSBfdGhpcyRwcm9wczIuc3VmZml4LFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzMi5mb3JtYXQ7IC8vaWYgdmFsdWUgaXMgZW1wdHkgcmV0dXJuIDBcblxuICAgICAgaWYgKHZhbHVlID09PSAnJykgcmV0dXJuIDA7IC8vY2FyZXQgcG9zaXRpb24gc2hvdWxkIGJlIGJldHdlZW4gMCBhbmQgdmFsdWUgbGVuZ3RoXG5cbiAgICAgIGNhcmV0UG9zID0gKDAsIF91dGlscy5jbGFtcCkoY2FyZXRQb3MsIDAsIHZhbHVlLmxlbmd0aCk7IC8vaW4gY2FzZSBvZiBmb3JtYXQgYXMgbnVtYmVyIGxpbWl0IGJldHdlZW4gcHJlZml4IGFuZCBzdWZmaXhcblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFyIGhhc05lZ2F0aW9uID0gdmFsdWVbMF0gPT09ICctJztcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuY2xhbXApKGNhcmV0UG9zLCBwcmVmaXgubGVuZ3RoICsgKGhhc05lZ2F0aW9uID8gMSA6IDApLCB2YWx1ZS5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKTtcbiAgICAgIH0gLy9pbiBjYXNlIGlmIGN1c3RvbSBmb3JtYXQgbWV0aG9kIGRvbid0IGRvIGFueXRoaW5nXG5cblxuICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdmdW5jdGlvbicpIHJldHVybiBjYXJldFBvcztcbiAgICAgIC8qIGluIGNhc2UgZm9ybWF0IGlzIHN0cmluZyBmaW5kIHRoZSBjbG9zZXN0ICMgcG9zaXRpb24gZnJvbSB0aGUgY2FyZXQgcG9zaXRpb24gKi9cbiAgICAgIC8vaW4gY2FzZSB0aGUgY2FyZXRQb3MgaGF2ZSBpbnB1dCB2YWx1ZSBvbiBpdCBkb24ndCBkbyBhbnl0aGluZ1xuXG4gICAgICBpZiAoZm9ybWF0W2NhcmV0UG9zXSA9PT0gJyMnICYmICgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldFBvc10pKSByZXR1cm4gY2FyZXRQb3M7IC8vaWYgY2FyZXRQb3MgaXMganVzdCBhZnRlciBpbnB1dCB2YWx1ZSBkb24ndCBkbyBhbnl0aGluZ1xuXG4gICAgICBpZiAoZm9ybWF0W2NhcmV0UG9zIC0gMV0gPT09ICcjJyAmJiAoMCwgX3V0aWxzLmNoYXJJc051bWJlcikodmFsdWVbY2FyZXRQb3MgLSAxXSkpIHJldHVybiBjYXJldFBvczsgLy9maW5kIHRoZSBuZWFyZXN0IGNhcmV0IHBvc2l0aW9uXG5cbiAgICAgIHZhciBmaXJzdEhhc2hQb3NpdGlvbiA9IGZvcm1hdC5pbmRleE9mKCcjJyk7XG4gICAgICB2YXIgbGFzdEhhc2hQb3NpdGlvbiA9IGZvcm1hdC5sYXN0SW5kZXhPZignIycpOyAvL2xpbWl0IHRoZSBjdXJzb3IgYmV0d2VlbiB0aGUgZmlyc3QgIyBwb3NpdGlvbiBhbmQgdGhlIGxhc3QgIyBwb3NpdGlvblxuXG4gICAgICBjYXJldFBvcyA9ICgwLCBfdXRpbHMuY2xhbXApKGNhcmV0UG9zLCBmaXJzdEhhc2hQb3NpdGlvbiwgbGFzdEhhc2hQb3NpdGlvbiArIDEpO1xuICAgICAgdmFyIG5leHRQb3MgPSBmb3JtYXQuc3Vic3RyaW5nKGNhcmV0UG9zLCBmb3JtYXQubGVuZ3RoKS5pbmRleE9mKCcjJyk7XG4gICAgICB2YXIgY2FyZXRMZWZ0Qm91bmQgPSBjYXJldFBvcztcbiAgICAgIHZhciBjYXJldFJpZ2h0Qm91bmQgPSBjYXJldFBvcyArIChuZXh0UG9zID09PSAtMSA/IDAgOiBuZXh0UG9zKTsgLy9nZXQgdGhlIHBvc2l0aW9uIHdoZXJlIHRoZSBsYXN0IG51bWJlciBpcyBwcmVzZW50XG5cbiAgICAgIHdoaWxlIChjYXJldExlZnRCb3VuZCA+IGZpcnN0SGFzaFBvc2l0aW9uICYmIChmb3JtYXRbY2FyZXRMZWZ0Qm91bmRdICE9PSAnIycgfHwgISgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldExlZnRCb3VuZF0pKSkge1xuICAgICAgICBjYXJldExlZnRCb3VuZCAtPSAxO1xuICAgICAgfVxuXG4gICAgICB2YXIgZ29Ub0xlZnQgPSAhKDAsIF91dGlscy5jaGFySXNOdW1iZXIpKHZhbHVlW2NhcmV0UmlnaHRCb3VuZF0pIHx8IGRpcmVjdGlvbiA9PT0gJ2xlZnQnICYmIGNhcmV0UG9zICE9PSBmaXJzdEhhc2hQb3NpdGlvbiB8fCBjYXJldFBvcyAtIGNhcmV0TGVmdEJvdW5kIDwgY2FyZXRSaWdodEJvdW5kIC0gY2FyZXRQb3M7XG5cbiAgICAgIGlmIChnb1RvTGVmdCkge1xuICAgICAgICAvL2NoZWNrIGlmIG51bWJlciBzaG91bGQgYmUgdGFrZW4gYWZ0ZXIgdGhlIGJvdW5kIG9yIGFmdGVyIGl0XG4gICAgICAgIC8vaWYgbnVtYmVyIHByZWNlZGluZyBhIHZhbGlkIG51bWJlciBrZWVwIGl0IGFmdGVyXG4gICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmNoYXJJc051bWJlcikodmFsdWVbY2FyZXRMZWZ0Qm91bmRdKSA/IGNhcmV0TGVmdEJvdW5kICsgMSA6IGNhcmV0TGVmdEJvdW5kO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FyZXRSaWdodEJvdW5kO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDYXJldFBvc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENhcmV0UG9zaXRpb24oaW5wdXRWYWx1ZSwgZm9ybWF0dGVkVmFsdWUsIGNhcmV0UG9zKSB7XG4gICAgICB2YXIgZm9ybWF0ID0gdGhpcy5wcm9wcy5mb3JtYXQ7XG4gICAgICB2YXIgc3RhdGVWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgICB2YXIgbnVtUmVnZXggPSB0aGlzLmdldE51bWJlclJlZ2V4KHRydWUpO1xuICAgICAgdmFyIGlucHV0TnVtYmVyID0gKGlucHV0VmFsdWUubWF0Y2gobnVtUmVnZXgpIHx8IFtdKS5qb2luKCcnKTtcbiAgICAgIHZhciBmb3JtYXR0ZWROdW1iZXIgPSAoZm9ybWF0dGVkVmFsdWUubWF0Y2gobnVtUmVnZXgpIHx8IFtdKS5qb2luKCcnKTtcbiAgICAgIHZhciBqLCBpO1xuICAgICAgaiA9IDA7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYXJldFBvczsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyZW50SW5wdXRDaGFyID0gaW5wdXRWYWx1ZVtpXSB8fCAnJztcbiAgICAgICAgdmFyIGN1cnJlbnRGb3JtYXRDaGFyID0gZm9ybWF0dGVkVmFsdWVbal0gfHwgJyc7IC8vbm8gbmVlZCB0byBpbmNyZWFzZSBuZXcgY3Vyc29yIHBvc2l0aW9uIGlmIGZvcm1hdHRlZCB2YWx1ZSBkb2VzIG5vdCBoYXZlIHRob3NlIGNoYXJhY3RlcnNcbiAgICAgICAgLy9jYXNlIGlucHV0VmFsdWUgPSAxYTIzIGFuZCBmb3JtYXR0ZWRWYWx1ZSA9ICAxMjNcblxuICAgICAgICBpZiAoIWN1cnJlbnRJbnB1dENoYXIubWF0Y2gobnVtUmVnZXgpICYmIGN1cnJlbnRJbnB1dENoYXIgIT09IGN1cnJlbnRGb3JtYXRDaGFyKSBjb250aW51ZTsgLy9XaGVuIHdlIGFyZSBzdHJpcGluZyBvdXQgbGVhZGluZyB6ZXJvcyBtYWludGFpbiB0aGUgbmV3IGN1cnNvciBwb3NpdGlvblxuICAgICAgICAvL0Nhc2UgaW5wdXRWYWx1ZSA9IDAwMDIzIGFuZCBmb3JtYXR0ZWRWYWx1ZSA9IDIzO1xuXG4gICAgICAgIGlmIChjdXJyZW50SW5wdXRDaGFyID09PSAnMCcgJiYgY3VycmVudEZvcm1hdENoYXIubWF0Y2gobnVtUmVnZXgpICYmIGN1cnJlbnRGb3JtYXRDaGFyICE9PSAnMCcgJiYgaW5wdXROdW1iZXIubGVuZ3RoICE9PSBmb3JtYXR0ZWROdW1iZXIubGVuZ3RoKSBjb250aW51ZTsgLy93ZSBhcmUgbm90IHVzaW5nIGN1cnJlbnRGb3JtYXRDaGFyIGJlY2F1c2UgaiBjYW4gY2hhbmdlIGhlcmVcblxuICAgICAgICB3aGlsZSAoY3VycmVudElucHV0Q2hhciAhPT0gZm9ybWF0dGVkVmFsdWVbal0gJiYgaiA8IGZvcm1hdHRlZFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgIGorKztcbiAgICAgICAgfVxuXG4gICAgICAgIGorKztcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnICYmICFzdGF0ZVZhbHVlKSB7XG4gICAgICAgIC8vc2V0IGl0IHRvIHRoZSBtYXhpbXVtIHZhbHVlIHNvIGl0IGdvZXMgYWZ0ZXIgdGhlIGxhc3QgbnVtYmVyXG4gICAgICAgIGogPSBmb3JtYXR0ZWRWYWx1ZS5sZW5ndGg7XG4gICAgICB9IC8vY29ycmVjdCBjYXJldCBwb3NpdGlvbiBpZiBpdHMgb3V0c2lkZSBvZiBlZGl0YWJsZSBhcmVhXG5cblxuICAgICAgaiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24oZm9ybWF0dGVkVmFsdWUsIGopO1xuICAgICAgcmV0dXJuIGo7XG4gICAgfVxuICAgIC8qKiBjYXJldCBzcGVjaWZpYyBtZXRob2RzIGVuZHMgKiovXG5cbiAgICAvKiogbWV0aG9kcyB0byByZW1vdmUgZm9ybWF0dHRpbmcgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVQcmVmaXhBbmRTdWZmaXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlUHJlZml4QW5kU3VmZml4KHZhbCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMzLmZvcm1hdCxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczMucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzMy5zdWZmaXg7IC8vcmVtb3ZlIHByZWZpeCBhbmQgc3VmZml4XG5cbiAgICAgIGlmICghZm9ybWF0ICYmIHZhbCkge1xuICAgICAgICB2YXIgaXNOZWdhdGl2ZSA9IHZhbFswXSA9PT0gJy0nOyAvL3JlbW92ZSBuZWdhdGlvbiBzaWduXG5cbiAgICAgICAgaWYgKGlzTmVnYXRpdmUpIHZhbCA9IHZhbC5zdWJzdHJpbmcoMSwgdmFsLmxlbmd0aCk7IC8vcmVtb3ZlIHByZWZpeFxuXG4gICAgICAgIHZhbCA9IHByZWZpeCAmJiB2YWwuaW5kZXhPZihwcmVmaXgpID09PSAwID8gdmFsLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoLCB2YWwubGVuZ3RoKSA6IHZhbDsgLy9yZW1vdmUgc3VmZml4XG5cbiAgICAgICAgdmFyIHN1ZmZpeExhc3RJbmRleCA9IHZhbC5sYXN0SW5kZXhPZihzdWZmaXgpO1xuICAgICAgICB2YWwgPSBzdWZmaXggJiYgc3VmZml4TGFzdEluZGV4ICE9PSAtMSAmJiBzdWZmaXhMYXN0SW5kZXggPT09IHZhbC5sZW5ndGggLSBzdWZmaXgubGVuZ3RoID8gdmFsLnN1YnN0cmluZygwLCBzdWZmaXhMYXN0SW5kZXgpIDogdmFsOyAvL2FkZCBuZWdhdGlvbiBzaWduIGJhY2tcblxuICAgICAgICBpZiAoaXNOZWdhdGl2ZSkgdmFsID0gJy0nICsgdmFsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVQYXR0ZXJuRm9ybWF0dGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVQYXR0ZXJuRm9ybWF0dGluZyh2YWwpIHtcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcbiAgICAgIHZhciBmb3JtYXRBcnJheSA9IGZvcm1hdC5zcGxpdCgnIycpLmZpbHRlcihmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIgIT09ICcnO1xuICAgICAgfSk7XG4gICAgICB2YXIgc3RhcnQgPSAwO1xuICAgICAgdmFyIG51bVN0ciA9ICcnO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbG4gPSBmb3JtYXRBcnJheS5sZW5ndGg7IGkgPD0gbG47IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGZvcm1hdEFycmF5W2ldIHx8ICcnOyAvL2lmIGkgaXMgdGhlIGxhc3QgZnJhZ21lbnQgdGFrZSB0aGUgaW5kZXggb2YgZW5kIG9mIHRoZSB2YWx1ZVxuICAgICAgICAvL0ZvciBjYXNlIGxpa2UgKzEgKDkxMSkgOTExIDkxIDkxIGhhdmluZyBwYXR0ZXJuICsxICgjIyMpICMjIyAjIyAjI1xuXG4gICAgICAgIHZhciBpbmRleCA9IGkgPT09IGxuID8gdmFsLmxlbmd0aCA6IHZhbC5pbmRleE9mKHBhcnQsIHN0YXJ0KTtcbiAgICAgICAgLyogaW4gYW55IGNhc2UgaWYgd2UgZG9uJ3QgZmluZCB0aGUgcGF0dGVybiBwYXJ0IGluIHRoZSB2YWx1ZSBhc3N1bWUgdGhlIHZhbCBhcyBudW1lcmljIHN0cmluZ1xuICAgICAgICBUaGlzIHdpbGwgYmUgYWxzbyBpbiBjYXNlIGlmIHVzZXIgaGFzIHN0YXJ0ZWQgdHlwaW5nLCBpbiBhbnkgb3RoZXIgY2FzZSBpdCB3aWxsIG5vdCBiZSAtMVxuICAgICAgICB1bmxlc3Mgd3JvbmcgcHJvcCB2YWx1ZSBpcyBwcm92aWRlZCAqL1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBudW1TdHIgPSB2YWw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbnVtU3RyICs9IHZhbC5zdWJzdHJpbmcoc3RhcnQsIGluZGV4KTtcbiAgICAgICAgICBzdGFydCA9IGluZGV4ICsgcGFydC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChudW1TdHIubWF0Y2goL1xcZC9nKSB8fCBbXSkuam9pbignJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUZvcm1hdHRpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRm9ybWF0dGluZyh2YWwpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzNC5mb3JtYXQsXG4gICAgICAgICAgcmVtb3ZlRm9ybWF0dGluZyA9IF90aGlzJHByb3BzNC5yZW1vdmVGb3JtYXR0aW5nO1xuICAgICAgaWYgKCF2YWwpIHJldHVybiB2YWw7XG5cbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIHZhbCA9IHRoaXMucmVtb3ZlUHJlZml4QW5kU3VmZml4KHZhbCk7XG4gICAgICAgIHZhbCA9IHRoaXMuZ2V0RmxvYXRTdHJpbmcodmFsKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFsID0gdGhpcy5yZW1vdmVQYXR0ZXJuRm9ybWF0dGluZyh2YWwpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmVtb3ZlRm9ybWF0dGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvL2NvbmRpdGlvbiBuZWVkIHRvIGJlIGhhbmRsZWQgaWYgZm9ybWF0IG1ldGhvZCBpcyBwcm92aWRlLFxuICAgICAgICB2YWwgPSByZW1vdmVGb3JtYXR0aW5nKHZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSAodmFsLm1hdGNoKC9cXGQvZykgfHwgW10pLmpvaW4oJycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICAvKiogbWV0aG9kcyB0byByZW1vdmUgZm9ybWF0dHRpbmcgZW5kICoqL1xuXG4gICAgLyoqKiBmb3JtYXQgc3BlY2lmaWMgbWV0aG9kcyBzdGFydCAqKiovXG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgd2hlbiAjIGJhc2VkIHN0cmluZyBpcyBwcm92aWRlZFxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gbnVtU3RyIE51bWVyaWMgU3RyaW5nXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgZm9ybWF0dGVkIFZhbHVlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmb3JtYXRXaXRoUGF0dGVyblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRXaXRoUGF0dGVybihudW1TdHIpIHtcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcbiAgICAgIHZhciBoYXNoQ291bnQgPSAwO1xuICAgICAgdmFyIGZvcm1hdHRlZE51bWJlckFyeSA9IGZvcm1hdC5zcGxpdCgnJyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGZvcm1hdC5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICAgIGlmIChmb3JtYXRbaV0gPT09ICcjJykge1xuICAgICAgICAgIGZvcm1hdHRlZE51bWJlckFyeVtpXSA9IG51bVN0cltoYXNoQ291bnRdIHx8IHRoaXMuZ2V0TWFza0F0SW5kZXgoaGFzaENvdW50KTtcbiAgICAgICAgICBoYXNoQ291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm9ybWF0dGVkTnVtYmVyQXJ5LmpvaW4oJycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IG51bVN0ciBOdW1lcmljIHN0cmluZy9mbG9hdFN0cmluZ10gSXQgYWx3YXlzIGhhdmUgZGVjaW1hbFNlcGFyYXRvciBhcyAuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBmb3JtYXR0ZWQgVmFsdWVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdEFzTnVtYmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdEFzTnVtYmVyKG51bVN0cikge1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM1LmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzNS5maXhlZERlY2ltYWxTY2FsZSxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczUucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzNS5zdWZmaXgsXG4gICAgICAgICAgYWxsb3dOZWdhdGl2ZSA9IF90aGlzJHByb3BzNS5hbGxvd05lZ2F0aXZlLFxuICAgICAgICAgIHRob3VzYW5kc0dyb3VwU3R5bGUgPSBfdGhpcyRwcm9wczUudGhvdXNhbmRzR3JvdXBTdHlsZTtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnM0ID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzNC50aG91c2FuZFNlcGFyYXRvcixcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczQuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgdmFyIGhhc0RlY2ltYWxTZXBhcmF0b3IgPSBudW1TdHIuaW5kZXhPZignLicpICE9PSAtMSB8fCBkZWNpbWFsU2NhbGUgJiYgZml4ZWREZWNpbWFsU2NhbGU7XG5cbiAgICAgIHZhciBfc3BsaXREZWNpbWFsID0gKDAsIF91dGlscy5zcGxpdERlY2ltYWwpKG51bVN0ciwgYWxsb3dOZWdhdGl2ZSksXG4gICAgICAgICAgYmVmb3JlRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYmVmb3JlRGVjaW1hbCxcbiAgICAgICAgICBhZnRlckRlY2ltYWwgPSBfc3BsaXREZWNpbWFsLmFmdGVyRGVjaW1hbCxcbiAgICAgICAgICBhZGROZWdhdGlvbiA9IF9zcGxpdERlY2ltYWwuYWRkTmVnYXRpb247IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgICAvL2FwcGx5IGRlY2ltYWwgcHJlY2lzaW9uIGlmIGl0cyBkZWZpbmVkXG5cblxuICAgICAgaWYgKGRlY2ltYWxTY2FsZSAhPT0gdW5kZWZpbmVkKSBhZnRlckRlY2ltYWwgPSAoMCwgX3V0aWxzLmxpbWl0VG9TY2FsZSkoYWZ0ZXJEZWNpbWFsLCBkZWNpbWFsU2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKTtcblxuICAgICAgaWYgKHRob3VzYW5kU2VwYXJhdG9yKSB7XG4gICAgICAgIHZhciB0aG91c2FuZHNHcm91cFJlZ2V4ID0gKDAsIF91dGlscy5nZXRUaG91c2FuZHNHcm91cFJlZ2V4KSh0aG91c2FuZHNHcm91cFN0eWxlKTtcbiAgICAgICAgYmVmb3JlRGVjaW1hbCA9IGJlZm9yZURlY2ltYWwucmVwbGFjZSh0aG91c2FuZHNHcm91cFJlZ2V4LCAnJDEnICsgdGhvdXNhbmRTZXBhcmF0b3IpO1xuICAgICAgfSAvL2FkZCBwcmVmaXggYW5kIHN1ZmZpeFxuXG5cbiAgICAgIGlmIChwcmVmaXgpIGJlZm9yZURlY2ltYWwgPSBwcmVmaXggKyBiZWZvcmVEZWNpbWFsO1xuICAgICAgaWYgKHN1ZmZpeCkgYWZ0ZXJEZWNpbWFsID0gYWZ0ZXJEZWNpbWFsICsgc3VmZml4OyAvL3Jlc3RvcmUgbmVnYXRpb24gc2lnblxuXG4gICAgICBpZiAoYWRkTmVnYXRpb24pIGJlZm9yZURlY2ltYWwgPSAnLScgKyBiZWZvcmVEZWNpbWFsO1xuICAgICAgbnVtU3RyID0gYmVmb3JlRGVjaW1hbCArIChoYXNEZWNpbWFsU2VwYXJhdG9yICYmIGRlY2ltYWxTZXBhcmF0b3IgfHwgJycpICsgYWZ0ZXJEZWNpbWFsO1xuICAgICAgcmV0dXJuIG51bVN0cjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0TnVtU3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdE51bVN0cmluZygpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczYuZm9ybWF0LFxuICAgICAgICAgIGFsbG93RW1wdHlGb3JtYXR0aW5nID0gX3RoaXMkcHJvcHM2LmFsbG93RW1wdHlGb3JtYXR0aW5nO1xuICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdmFsdWU7XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gJycgJiYgIWFsbG93RW1wdHlGb3JtYXR0aW5nKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gJyc7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnLScgJiYgIWZvcm1hdCkge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9ICctJztcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdFdpdGhQYXR0ZXJuKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdChmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHRoaXMuZm9ybWF0QXNOdW1iZXIoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdFZhbHVlUHJvcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRWYWx1ZVByb3AoZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczcuZm9ybWF0LFxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzNy5kZWNpbWFsU2NhbGUsXG4gICAgICAgICAgZml4ZWREZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczcuZml4ZWREZWNpbWFsU2NhbGUsXG4gICAgICAgICAgYWxsb3dFbXB0eUZvcm1hdHRpbmcgPSBfdGhpcyRwcm9wczcuYWxsb3dFbXB0eUZvcm1hdHRpbmc7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM4ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBfdGhpcyRwcm9wczgkdmFsdWUgPSBfdGhpcyRwcm9wczgudmFsdWUsXG4gICAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wczgkdmFsdWUgPT09IHZvaWQgMCA/IGRlZmF1bHRWYWx1ZSA6IF90aGlzJHByb3BzOCR2YWx1ZSxcbiAgICAgICAgICBpc051bWVyaWNTdHJpbmcgPSBfdGhpcyRwcm9wczguaXNOdW1lcmljU3RyaW5nO1xuICAgICAgdmFyIGlzTm9uTnVtZXJpY0ZhbHN5ID0gIXZhbHVlICYmIHZhbHVlICE9PSAwO1xuXG4gICAgICBpZiAoaXNOb25OdW1lcmljRmFsc3kgJiYgYWxsb3dFbXB0eUZvcm1hdHRpbmcpIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH0gLy8gaWYgdmFsdWUgaXMgbm90IGRlZmluZWQgcmV0dXJuIGVtcHR5IHN0cmluZ1xuXG5cbiAgICAgIGlmIChpc05vbk51bWVyaWNGYWxzeSAmJiAhYWxsb3dFbXB0eUZvcm1hdHRpbmcpIHJldHVybiAnJztcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICBpc051bWVyaWNTdHJpbmcgPSB0cnVlO1xuICAgICAgfSAvL3JvdW5kIHRoZSBudW1iZXIgYmFzZWQgb24gZGVjaW1hbFNjYWxlXG4gICAgICAvL2Zvcm1hdCBvbmx5IGlmIG5vbiBmb3JtYXR0ZWQgdmFsdWUgaXMgcHJvdmlkZWRcblxuXG4gICAgICBpZiAoaXNOdW1lcmljU3RyaW5nICYmICFmb3JtYXQgJiYgdHlwZW9mIGRlY2ltYWxTY2FsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFsdWUgPSAoMCwgX3V0aWxzLnJvdW5kVG9QcmVjaXNpb24pKHZhbHVlLCBkZWNpbWFsU2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gaXNOdW1lcmljU3RyaW5nID8gdGhpcy5mb3JtYXROdW1TdHJpbmcodmFsdWUpIDogdGhpcy5mb3JtYXRJbnB1dCh2YWx1ZSk7XG4gICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdE5lZ2F0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdE5lZ2F0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgIHZhciBhbGxvd05lZ2F0aXZlID0gdGhpcy5wcm9wcy5hbGxvd05lZ2F0aXZlO1xuICAgICAgdmFyIG5lZ2F0aW9uUmVnZXggPSBuZXcgUmVnRXhwKCcoLSknKTtcbiAgICAgIHZhciBkb3VibGVOZWdhdGlvblJlZ2V4ID0gbmV3IFJlZ0V4cCgnKC0pKC4pKigtKScpOyAvLyBDaGVjayBudW1iZXIgaGFzICctJyB2YWx1ZVxuXG4gICAgICB2YXIgaGFzTmVnYXRpb24gPSBuZWdhdGlvblJlZ2V4LnRlc3QodmFsdWUpOyAvLyBDaGVjayBudW1iZXIgaGFzIDIgb3IgbW9yZSAnLScgdmFsdWVzXG5cbiAgICAgIHZhciByZW1vdmVOZWdhdGlvbiA9IGRvdWJsZU5lZ2F0aW9uUmVnZXgudGVzdCh2YWx1ZSk7IC8vcmVtb3ZlIG5lZ2F0aW9uXG5cbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvLS9nLCAnJyk7XG5cbiAgICAgIGlmIChoYXNOZWdhdGlvbiAmJiAhcmVtb3ZlTmVnYXRpb24gJiYgYWxsb3dOZWdhdGl2ZSkge1xuICAgICAgICB2YWx1ZSA9ICctJyArIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdElucHV0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdElucHV0KCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDsgLy9mb3JtYXQgbmVnYXRpb24gb25seSBpZiB3ZSBhcmUgZm9ybWF0dGluZyBhcyBudW1iZXJcblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFsdWUgPSB0aGlzLnJlbW92ZVByZWZpeEFuZFN1ZmZpeCh2YWx1ZSk7XG4gICAgICAgIHZhbHVlID0gdGhpcy5mb3JtYXROZWdhdGlvbih2YWx1ZSk7XG4gICAgICB9IC8vcmVtb3ZlIGZvcm1hdHRpbmcgZnJvbSBudW1iZXJcblxuXG4gICAgICB2YWx1ZSA9IHRoaXMucmVtb3ZlRm9ybWF0dGluZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXROdW1TdHJpbmcodmFsdWUpO1xuICAgIH1cbiAgICAvKioqIGZvcm1hdCBzcGVjaWZpYyBtZXRob2RzIGVuZCAqKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0NoYXJhY3RlckFGb3JtYXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDaGFyYWN0ZXJBRm9ybWF0KGNhcmV0UG9zLCB2YWx1ZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzOSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHM5LmZvcm1hdCxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczkucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzOS5zdWZmaXgsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM5LmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzOS5maXhlZERlY2ltYWxTY2FsZTtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnM1ID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnM1LmRlY2ltYWxTZXBhcmF0b3I7IC8vY2hlY2sgd2l0aGluIGZvcm1hdCBwYXR0ZXJuXG5cblxuICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnICYmIGZvcm1hdFtjYXJldFBvc10gIT09ICcjJykgcmV0dXJuIHRydWU7IC8vY2hlY2sgaW4gbnVtYmVyIGZvcm1hdFxuXG4gICAgICBpZiAoIWZvcm1hdCAmJiAoY2FyZXRQb3MgPCBwcmVmaXgubGVuZ3RoIHx8IGNhcmV0UG9zID49IHZhbHVlLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGggfHwgZGVjaW1hbFNjYWxlICYmIGZpeGVkRGVjaW1hbFNjYWxlICYmIHZhbHVlW2NhcmV0UG9zXSA9PT0gZGVjaW1hbFNlcGFyYXRvcikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tJZkZvcm1hdEdvdERlbGV0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tJZkZvcm1hdEdvdERlbGV0ZWQoc3RhcnQsIGVuZCwgdmFsdWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyQUZvcm1hdChpLCB2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBjaGVjayBpZiBhbnkgZm9ybWF0dGluZyBnb3QgcmVtb3ZlZCBieSB0aGUgZGVsZXRlIG9yIGJhY2tzcGFjZSBhbmQgcmVzZXQgdGhlIHZhbHVlXG4gICAgICogSXQgd2lsbCBhbHNvIHdvcmsgYXMgZmFsbGJhY2sgaWYgYW5kcm9pZCBjaG9tZSBrZXlEb3duIGhhbmRsZXIgZG9lcyBub3Qgd29ya1xuICAgICAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvcnJlY3RJbnB1dFZhbHVlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvcnJlY3RJbnB1dFZhbHVlKGNhcmV0UG9zLCBsYXN0VmFsdWUsIHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMxMCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMxMC5mb3JtYXQsXG4gICAgICAgICAgYWxsb3dOZWdhdGl2ZSA9IF90aGlzJHByb3BzMTAuYWxsb3dOZWdhdGl2ZSxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczEwLnByZWZpeCxcbiAgICAgICAgICBzdWZmaXggPSBfdGhpcyRwcm9wczEwLnN1ZmZpeDtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnM2ID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnM2LmRlY2ltYWxTZXBhcmF0b3I7XG5cbiAgICAgIHZhciBsYXN0TnVtU3RyID0gdGhpcy5zdGF0ZS5udW1Bc1N0cmluZyB8fCAnJztcbiAgICAgIHZhciBfdGhpcyRzZWxlY3Rpb25CZWZvcmUgPSB0aGlzLnNlbGVjdGlvbkJlZm9yZUlucHV0LFxuICAgICAgICAgIHNlbGVjdGlvblN0YXJ0ID0gX3RoaXMkc2VsZWN0aW9uQmVmb3JlLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IF90aGlzJHNlbGVjdGlvbkJlZm9yZS5zZWxlY3Rpb25FbmQ7XG5cbiAgICAgIHZhciBfZmluZENoYW5nZWRJbmRleCA9ICgwLCBfdXRpbHMuZmluZENoYW5nZWRJbmRleCkobGFzdFZhbHVlLCB2YWx1ZSksXG4gICAgICAgICAgc3RhcnQgPSBfZmluZENoYW5nZWRJbmRleC5zdGFydCxcbiAgICAgICAgICBlbmQgPSBfZmluZENoYW5nZWRJbmRleC5lbmQ7XG4gICAgICAvKiogQ2hlY2sgaWYgb25seSAuIGlzIGFkZGVkIGluIHRoZSBudW1lcmljIGZvcm1hdCBhbmQgcmVwbGFjZSBpdCB3aXRoIGRlY2ltYWwgc2VwYXJhdG9yICovXG5cblxuICAgICAgaWYgKCFmb3JtYXQgJiYgZGVjaW1hbFNlcGFyYXRvciAhPT0gJy4nICYmIHN0YXJ0ID09PSBlbmQgJiYgdmFsdWVbc2VsZWN0aW9uU3RhcnRdID09PSAnLicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cigwLCBzZWxlY3Rpb25TdGFydCkgKyBkZWNpbWFsU2VwYXJhdG9yICsgdmFsdWUuc3Vic3RyKHNlbGVjdGlvblN0YXJ0ICsgMSwgdmFsdWUubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIC8qIGRvbid0IGRvIGFueWh0aW5nIGlmIHNvbWV0aGluZyBnb3QgYWRkZWQsXG4gICAgICAgb3IgaWYgdmFsdWUgaXMgZW1wdHkgc3RyaW5nICh3aGVuIHdob2xlIGlucHV0IGlzIGNsZWFyZWQpXG4gICAgICAgb3Igd2hvbGUgaW5wdXQgaXMgcmVwbGFjZSB3aXRoIGEgbnVtYmVyXG4gICAgICAqL1xuXG5cbiAgICAgIHZhciBsZWZ0Qm91bmQgPSAhIWZvcm1hdCA/IDAgOiBwcmVmaXgubGVuZ3RoO1xuICAgICAgdmFyIHJpZ2h0Qm91bmQgPSBsYXN0VmFsdWUubGVuZ3RoIC0gKCEhZm9ybWF0ID8gMCA6IHN1ZmZpeC5sZW5ndGgpO1xuXG4gICAgICBpZiAodmFsdWUubGVuZ3RoID4gbGFzdFZhbHVlLmxlbmd0aCB8fCAhdmFsdWUubGVuZ3RoIHx8IHN0YXJ0ID09PSBlbmQgfHwgc2VsZWN0aW9uU3RhcnQgPT09IDAgJiYgc2VsZWN0aW9uRW5kID09PSBsYXN0VmFsdWUubGVuZ3RoIHx8IHNlbGVjdGlvblN0YXJ0ID09PSBsZWZ0Qm91bmQgJiYgc2VsZWN0aW9uRW5kID09PSByaWdodEJvdW5kKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gLy9pZiBmb3JtYXQgZ290IGRlbGV0ZWQgcmVzZXQgdGhlIHZhbHVlIHRvIGxhc3QgdmFsdWVcblxuXG4gICAgICBpZiAodGhpcy5jaGVja0lmRm9ybWF0R290RGVsZXRlZChzdGFydCwgZW5kLCBsYXN0VmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gbGFzdFZhbHVlO1xuICAgICAgfSAvL2ZvciBudW1iZXJzIGNoZWNrIGlmIGJlZm9yZURlY2ltYWwgZ290IGRlbGV0ZWQgYW5kIHRoZXJlIGlzIG5vdGhpbmcgYWZ0ZXIgZGVjaW1hbCxcbiAgICAgIC8vY2xlYXIgYWxsIG51bWJlcnMgaW4gc3VjaCBjYXNlIHdoaWxlIGtlZXBpbmcgdGhlIC0gc2lnblxuXG5cbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIHZhciBudW1lcmljU3RyaW5nID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKHZhbHVlKTtcblxuICAgICAgICB2YXIgX3NwbGl0RGVjaW1hbDIgPSAoMCwgX3V0aWxzLnNwbGl0RGVjaW1hbCkobnVtZXJpY1N0cmluZywgYWxsb3dOZWdhdGl2ZSksXG4gICAgICAgICAgICBiZWZvcmVEZWNpbWFsID0gX3NwbGl0RGVjaW1hbDIuYmVmb3JlRGVjaW1hbCxcbiAgICAgICAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwyLmFmdGVyRGVjaW1hbCxcbiAgICAgICAgICAgIGFkZE5lZ2F0aW9uID0gX3NwbGl0RGVjaW1hbDIuYWRkTmVnYXRpb247IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgICAgIC8vY2xlYXIgb25seSBpZiBzb21ldGhpbmcgZ290IGRlbGV0ZWRcblxuXG4gICAgICAgIHZhciBpc0JlZm9yZURlY2ltYWxQb2ludCA9IGNhcmV0UG9zIDwgdmFsdWUuaW5kZXhPZihkZWNpbWFsU2VwYXJhdG9yKSArIDE7XG5cbiAgICAgICAgaWYgKG51bWVyaWNTdHJpbmcubGVuZ3RoIDwgbGFzdE51bVN0ci5sZW5ndGggJiYgaXNCZWZvcmVEZWNpbWFsUG9pbnQgJiYgYmVmb3JlRGVjaW1hbCA9PT0gJycgJiYgIXBhcnNlRmxvYXQoYWZ0ZXJEZWNpbWFsKSkge1xuICAgICAgICAgIHJldHVybiBhZGROZWdhdGlvbiA/ICctJyA6ICcnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqIFVwZGF0ZSB2YWx1ZSBhbmQgY2FyZXQgcG9zaXRpb24gKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVZhbHVlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVZhbHVlKHBhcmFtcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBvblVwZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogX3V0aWxzLm5vb3A7XG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBwYXJhbXMuZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgaW5wdXQgPSBwYXJhbXMuaW5wdXQ7XG4gICAgICB2YXIgbnVtQXNTdHJpbmcgPSBwYXJhbXMubnVtQXNTdHJpbmcsXG4gICAgICAgICAgY2FyZXRQb3MgPSBwYXJhbXMuY2FyZXRQb3M7XG4gICAgICB2YXIgb25WYWx1ZUNoYW5nZSA9IHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZTtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlOyAvL3NldCBjYXJldCBwb3NpdGlvbiwgYW5kIHZhbHVlIGltcGVyYXRpdmVseSB3aGVuIGVsZW1lbnQgaXMgcHJvdmlkZWRcblxuICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgIC8vY2FsY3VsYXRlIGNhcmV0IHBvc2l0aW9uIGlmIG5vdCBkZWZpbmVkXG4gICAgICAgIGlmICghY2FyZXRQb3MpIHtcbiAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IHBhcmFtcy5pbnB1dFZhbHVlIHx8IGlucHV0LnZhbHVlO1xuICAgICAgICAgIHZhciBjdXJyZW50Q2FyZXRQb3NpdGlvbiA9ICgwLCBfdXRpbHMuZ2V0Q3VycmVudENhcmV0UG9zaXRpb24pKGlucHV0KTsgLy9nZXQgdGhlIGNhcmV0IHBvc2l0aW9uXG5cbiAgICAgICAgICBjYXJldFBvcyA9IHRoaXMuZ2V0Q2FyZXRQb3NpdGlvbihpbnB1dFZhbHVlLCBmb3JtYXR0ZWRWYWx1ZSwgY3VycmVudENhcmV0UG9zaXRpb24pO1xuICAgICAgICB9IC8vc2V0IHRoZSB2YWx1ZSBpbXBlcmF0aXZlbHksIHRoaXMgaXMgcmVxdWlyZWQgZm9yIElFIGZpeFxuXG5cbiAgICAgICAgaW5wdXQudmFsdWUgPSBmb3JtYXR0ZWRWYWx1ZTsgLy9zZXQgY2FyZXQgcG9zaXRpb25cblxuICAgICAgICB0aGlzLnNldFBhdGNoZWRDYXJldFBvc2l0aW9uKGlucHV0LCBjYXJldFBvcywgZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfSAvL2NhbGN1bGF0ZSBudW1lcmljIHN0cmluZyBpZiBub3QgcGFzc2VkXG5cblxuICAgICAgaWYgKG51bUFzU3RyaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbnVtQXNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfSAvL3VwZGF0ZSBzdGF0ZSBpZiB2YWx1ZSBpcyBjaGFuZ2VkXG5cblxuICAgICAgaWYgKGZvcm1hdHRlZFZhbHVlICE9PSBsYXN0VmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICAgIG51bUFzU3RyaW5nOiBudW1Bc1N0cmluZ1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25WYWx1ZUNoYW5nZShfdGhpczIuZ2V0VmFsdWVPYmplY3QoZm9ybWF0dGVkVmFsdWUsIG51bUFzU3RyaW5nKSk7XG4gICAgICAgICAgb25VcGRhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICBlLnBlcnNpc3QoKTtcbiAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xuICAgICAgdmFyIGlucHV0VmFsdWUgPSBlbC52YWx1ZTtcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgdmFyIGlzQWxsb3dlZCA9IHByb3BzLmlzQWxsb3dlZDtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSBzdGF0ZS52YWx1ZSB8fCAnJztcbiAgICAgIHZhciBjdXJyZW50Q2FyZXRQb3NpdGlvbiA9ICgwLCBfdXRpbHMuZ2V0Q3VycmVudENhcmV0UG9zaXRpb24pKGVsKTtcbiAgICAgIGlucHV0VmFsdWUgPSB0aGlzLmNvcnJlY3RJbnB1dFZhbHVlKGN1cnJlbnRDYXJldFBvc2l0aW9uLCBsYXN0VmFsdWUsIGlucHV0VmFsdWUpO1xuICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXRJbnB1dChpbnB1dFZhbHVlKSB8fCAnJztcbiAgICAgIHZhciBudW1Bc1N0cmluZyA9IHRoaXMucmVtb3ZlRm9ybWF0dGluZyhmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB2YXIgdmFsdWVPYmogPSB0aGlzLmdldFZhbHVlT2JqZWN0KGZvcm1hdHRlZFZhbHVlLCBudW1Bc1N0cmluZyk7XG5cbiAgICAgIGlmICghaXNBbGxvd2VkKHZhbHVlT2JqKSkge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGxhc3RWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlOiBmb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgbnVtQXNTdHJpbmc6IG51bUFzU3RyaW5nLFxuICAgICAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlLFxuICAgICAgICBpbnB1dDogZWxcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcHJvcHMub25DaGFuZ2UoZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25CbHVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQmx1cihlKSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIHZhciBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICAgICAgb25CbHVyID0gcHJvcHMub25CbHVyO1xuICAgICAgdmFyIG51bUFzU3RyaW5nID0gc3RhdGUubnVtQXNTdHJpbmc7XG4gICAgICB2YXIgbGFzdFZhbHVlID0gc3RhdGUudmFsdWU7XG4gICAgICB0aGlzLmZvY3VzZWRFbG0gPSBudWxsO1xuXG4gICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICBudW1Bc1N0cmluZyA9ICgwLCBfdXRpbHMuZml4TGVhZGluZ1plcm8pKG51bUFzU3RyaW5nKTtcbiAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXROdW1TdHJpbmcobnVtQXNTdHJpbmcpOyAvL2NoYW5nZSB0aGUgc3RhdGVcblxuICAgICAgICBpZiAoZm9ybWF0dGVkVmFsdWUgIT09IGxhc3RWYWx1ZSkge1xuICAgICAgICAgIC8vIHRoZSBldmVudCBuZWVkcyB0byBiZSBwZXJzaXN0ZWQgYmVjYXVzZSBpdHMgcHJvcGVydGllcyBjYW4gYmUgYWNjZXNzZWQgaW4gYW4gYXN5bmNocm9ub3VzIHdheVxuICAgICAgICAgIGUucGVyc2lzdCgpO1xuICAgICAgICAgIHRoaXMudXBkYXRlVmFsdWUoe1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICAgICAgbnVtQXNTdHJpbmc6IG51bUFzU3RyaW5nXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb25CbHVyKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBvbkJsdXIoZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uS2V5RG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG4gICAgICB2YXIga2V5ID0gZS5rZXk7XG4gICAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSBlbC5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICBzZWxlY3Rpb25FbmQgPSBlbC5zZWxlY3Rpb25FbmQsXG4gICAgICAgICAgX2VsJHZhbHVlID0gZWwudmFsdWUsXG4gICAgICAgICAgdmFsdWUgPSBfZWwkdmFsdWUgPT09IHZvaWQgMCA/ICcnIDogX2VsJHZhbHVlO1xuICAgICAgdmFyIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbjtcbiAgICAgIHZhciBfdGhpcyRwcm9wczExID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczExLmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzMTEuZml4ZWREZWNpbWFsU2NhbGUsXG4gICAgICAgICAgcHJlZml4ID0gX3RoaXMkcHJvcHMxMS5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHMxMS5zdWZmaXgsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMxMS5mb3JtYXQsXG4gICAgICAgICAgb25LZXlEb3duID0gX3RoaXMkcHJvcHMxMS5vbktleURvd24sXG4gICAgICAgICAgb25WYWx1ZUNoYW5nZSA9IF90aGlzJHByb3BzMTEub25WYWx1ZUNoYW5nZTtcbiAgICAgIHZhciBpZ25vcmVEZWNpbWFsU2VwYXJhdG9yID0gZGVjaW1hbFNjYWxlICE9PSB1bmRlZmluZWQgJiYgZml4ZWREZWNpbWFsU2NhbGU7XG4gICAgICB2YXIgbnVtUmVnZXggPSB0aGlzLmdldE51bWJlclJlZ2V4KGZhbHNlLCBpZ25vcmVEZWNpbWFsU2VwYXJhdG9yKTtcbiAgICAgIHZhciBuZWdhdGl2ZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnLScpO1xuICAgICAgdmFyIGlzUGF0dGVybkZvcm1hdCA9IHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnO1xuICAgICAgdGhpcy5zZWxlY3Rpb25CZWZvcmVJbnB1dCA9IHtcbiAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IHNlbGVjdGlvblN0YXJ0LFxuICAgICAgICBzZWxlY3Rpb25FbmQ6IHNlbGVjdGlvbkVuZCAvL0hhbmRsZSBiYWNrc3BhY2UgYW5kIGRlbGV0ZSBhZ2FpbnN0IG5vbiBudW1lcmljYWwvZGVjaW1hbCBjaGFyYWN0ZXJzIG9yIGFycm93IGtleXNcblxuICAgICAgfTtcblxuICAgICAgaWYgKGtleSA9PT0gJ0Fycm93TGVmdCcgfHwga2V5ID09PSAnQmFja3NwYWNlJykge1xuICAgICAgICBleHBlY3RlZENhcmV0UG9zaXRpb24gPSBzZWxlY3Rpb25TdGFydCAtIDE7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0ICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnRGVsZXRlJykge1xuICAgICAgICBleHBlY3RlZENhcmV0UG9zaXRpb24gPSBzZWxlY3Rpb25TdGFydDtcbiAgICAgIH0gLy9pZiBleHBlY3RlZENhcmV0UG9zaXRpb24gaXMgbm90IHNldCBpdCBtZWFucyB3ZSBkb24ndCB3YW50IHRvIEhhbmRsZSBrZXlEb3duXG4gICAgICAvL2Fsc28gaWYgbXVsdGlwbGUgY2hhcmFjdGVycyBhcmUgc2VsZWN0ZWQgZG9uJ3QgaGFuZGxlXG5cblxuICAgICAgaWYgKGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHNlbGVjdGlvblN0YXJ0ICE9PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgb25LZXlEb3duKGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdDYXJldFBvc2l0aW9uID0gZXhwZWN0ZWRDYXJldFBvc2l0aW9uO1xuICAgICAgdmFyIGxlZnRCb3VuZCA9IGlzUGF0dGVybkZvcm1hdCA/IGZvcm1hdC5pbmRleE9mKCcjJykgOiBwcmVmaXgubGVuZ3RoO1xuICAgICAgdmFyIHJpZ2h0Qm91bmQgPSBpc1BhdHRlcm5Gb3JtYXQgPyBmb3JtYXQubGFzdEluZGV4T2YoJyMnKSArIDEgOiB2YWx1ZS5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuXG4gICAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBrZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0ga2V5ID09PSAnQXJyb3dMZWZ0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIG5ld0NhcmV0UG9zaXRpb24gPSB0aGlzLmNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBleHBlY3RlZENhcmV0UG9zaXRpb24sIGRpcmVjdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0RlbGV0ZScgJiYgIW51bVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkgJiYgIW5lZ2F0aXZlUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSkge1xuICAgICAgICB3aGlsZSAoIW51bVJlZ2V4LnRlc3QodmFsdWVbbmV3Q2FyZXRQb3NpdGlvbl0pICYmIG5ld0NhcmV0UG9zaXRpb24gPCByaWdodEJvdW5kKSB7XG4gICAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbisrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0JhY2tzcGFjZScgJiYgIW51bVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkpIHtcbiAgICAgICAgLyogTk9URTogVGhpcyBpcyBzcGVjaWFsIGNhc2Ugd2hlbiBiYWNrc3BhY2UgaXMgcHJlc3NlZCBvbiBhXG4gICAgICAgIG5lZ2F0aXZlIHZhbHVlIHdoaWxlIHRoZSBjdXJzb3IgcG9zaXRpb24gaXMgYWZ0ZXIgcHJlZml4LiBXZSBjYW4ndCBoYW5kbGUgaXQgb24gb25DaGFuZ2UgYmVjYXVzZVxuICAgICAgICB3ZSB3aWxsIG5vdCBoYXZlIGFueSBpbmZvcm1hdGlvbiBvZiBrZXlQcmVzc1xuICAgICAgICAqL1xuICAgICAgICBpZiAoc2VsZWN0aW9uU3RhcnQgPD0gbGVmdEJvdW5kICsgMSAmJiB2YWx1ZVswXSA9PT0gJy0nICYmIHR5cGVvZiBmb3JtYXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEpOyAvL3BlcnNpc3QgZXZlbnQgYmVmb3JlIHBlcmZvcm1pbmcgYXN5bmMgdGFza1xuXG4gICAgICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogbmV3VmFsdWUsXG4gICAgICAgICAgICBjYXJldFBvczogbmV3Q2FyZXRQb3NpdGlvbixcbiAgICAgICAgICAgIGlucHV0OiBlbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZWdhdGl2ZVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkpIHtcbiAgICAgICAgICB3aGlsZSAoIW51bVJlZ2V4LnRlc3QodmFsdWVbbmV3Q2FyZXRQb3NpdGlvbiAtIDFdKSAmJiBuZXdDYXJldFBvc2l0aW9uID4gbGVmdEJvdW5kKSB7XG4gICAgICAgICAgICBuZXdDYXJldFBvc2l0aW9uLS07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIG5ld0NhcmV0UG9zaXRpb24sICdsZWZ0Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0NhcmV0UG9zaXRpb24gIT09IGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiB8fCBleHBlY3RlZENhcmV0UG9zaXRpb24gPCBsZWZ0Qm91bmQgfHwgZXhwZWN0ZWRDYXJldFBvc2l0aW9uID4gcmlnaHRCb3VuZCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIG5ld0NhcmV0UG9zaXRpb24sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8qIE5PVEU6IHRoaXMgaXMganVzdCByZXF1aXJlZCBmb3IgdW5pdCB0ZXN0IGFzIHdlIG5lZWQgdG8gZ2V0IHRoZSBuZXdDYXJldFBvc2l0aW9uLFxuICAgICAgICAgICAgICBSZW1vdmUgdGhpcyB3aGVuIHlvdSBmaW5kIGRpZmZlcmVudCBzb2x1dGlvbiAqL1xuXG5cbiAgICAgIGlmIChlLmlzVW5pdFRlc3RSdW4pIHtcbiAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgbmV3Q2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3BzLm9uS2V5RG93bihlKTtcbiAgICB9XG4gICAgLyoqIHJlcXVpcmVkIHRvIGhhbmRsZSB0aGUgY2FyZXQgcG9zaXRpb24gd2hlbiBjbGljayBhbnl3aGVyZSB3aXRoaW4gdGhlIGlucHV0ICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZVVwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VVcChlKSB7XG4gICAgICB2YXIgZWwgPSBlLnRhcmdldDtcbiAgICAgIC8qKlxuICAgICAgICogTk9URTogd2UgaGF2ZSB0byBnaXZlIGRlZmF1bHQgdmFsdWUgZm9yIHZhbHVlIGFzIGluIGNhc2Ugd2hlbiBjdXN0b20gaW5wdXQgaXMgcHJvdmlkZWRcbiAgICAgICAqIHZhbHVlIGNhbiBjb21lIGFzIHVuZGVmaW5lZCB3aGVuIG5vdGhpbmcgaXMgcHJvdmlkZWQgb24gdmFsdWUgcHJvcC5cbiAgICAgICovXG5cbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IGVsLnNlbGVjdGlvbkVuZCxcbiAgICAgICAgICBfZWwkdmFsdWUyID0gZWwudmFsdWUsXG4gICAgICAgICAgdmFsdWUgPSBfZWwkdmFsdWUyID09PSB2b2lkIDAgPyAnJyA6IF9lbCR2YWx1ZTI7XG5cbiAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA9PT0gc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHZhciBjYXJldFBvc2l0aW9uID0gdGhpcy5jb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgc2VsZWN0aW9uU3RhcnQpO1xuXG4gICAgICAgIGlmIChjYXJldFBvc2l0aW9uICE9PSBzZWxlY3Rpb25TdGFydCkge1xuICAgICAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zaXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3BzLm9uTW91c2VVcChlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Gb2N1c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkZvY3VzKGUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAvLyBXb3JrYXJvdW5kIENocm9tZSBhbmQgU2FmYXJpIGJ1ZyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03NzkzMjhcbiAgICAgIC8vIChvbkZvY3VzIGV2ZW50IHRhcmdldCBzZWxlY3Rpb25TdGFydCBpcyBhbHdheXMgMCBiZWZvcmUgc2V0VGltZW91dClcbiAgICAgIGUucGVyc2lzdCgpO1xuICAgICAgdGhpcy5mb2N1c2VkRWxtID0gZS50YXJnZXQ7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG4gICAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgc2VsZWN0aW9uRW5kID0gZWwuc2VsZWN0aW9uRW5kLFxuICAgICAgICAgICAgX2VsJHZhbHVlMyA9IGVsLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWUgPSBfZWwkdmFsdWUzID09PSB2b2lkIDAgPyAnJyA6IF9lbCR2YWx1ZTM7XG5cbiAgICAgICAgdmFyIGNhcmV0UG9zaXRpb24gPSBfdGhpczMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIHNlbGVjdGlvblN0YXJ0KTsgLy9zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbiBvbmx5IHdoZW4gZXZlcnl0aGluZyBpcyBub3Qgc2VsZWN0ZWQgb24gZm9jdXMgKHdoaWxlIHRhYmJpbmcgaW50byB0aGUgZmllbGQpXG5cblxuICAgICAgICBpZiAoY2FyZXRQb3NpdGlvbiAhPT0gc2VsZWN0aW9uU3RhcnQgJiYgIShzZWxlY3Rpb25TdGFydCA9PT0gMCAmJiBzZWxlY3Rpb25FbmQgPT09IHZhbHVlLmxlbmd0aCkpIHtcbiAgICAgICAgICBfdGhpczMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zaXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy5wcm9wcy5vbkZvY3VzKGUpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMxMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdHlwZSA9IF90aGlzJHByb3BzMTIudHlwZSxcbiAgICAgICAgICBkaXNwbGF5VHlwZSA9IF90aGlzJHByb3BzMTIuZGlzcGxheVR5cGUsXG4gICAgICAgICAgY3VzdG9tSW5wdXQgPSBfdGhpcyRwcm9wczEyLmN1c3RvbUlucHV0LFxuICAgICAgICAgIHJlbmRlclRleHQgPSBfdGhpcyRwcm9wczEyLnJlbmRlclRleHQsXG4gICAgICAgICAgZ2V0SW5wdXRSZWYgPSBfdGhpcyRwcm9wczEyLmdldElucHV0UmVmO1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgIHZhciBvdGhlclByb3BzID0gKDAsIF91dGlscy5vbWl0KSh0aGlzLnByb3BzLCBwcm9wVHlwZXMpO1xuXG4gICAgICB2YXIgaW5wdXRQcm9wcyA9IF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2UsXG4gICAgICAgIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sXG4gICAgICAgIG9uTW91c2VVcDogdGhpcy5vbk1vdXNlVXAsXG4gICAgICAgIG9uRm9jdXM6IHRoaXMub25Gb2N1cyxcbiAgICAgICAgb25CbHVyOiB0aGlzLm9uQmx1clxuICAgICAgfSk7XG5cbiAgICAgIGlmIChkaXNwbGF5VHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0ID8gcmVuZGVyVGV4dCh2YWx1ZSkgfHwgbnVsbCA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7XG4gICAgICAgICAgcmVmOiBnZXRJbnB1dFJlZlxuICAgICAgICB9KSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChjdXN0b21JbnB1dCkge1xuICAgICAgICB2YXIgQ3VzdG9tSW5wdXQgPSBjdXN0b21JbnB1dDtcbiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ3VzdG9tSW5wdXQsIGlucHV0UHJvcHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIF9leHRlbmRzKHt9LCBpbnB1dFByb3BzLCB7XG4gICAgICAgIHJlZjogZ2V0SW5wdXRSZWZcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTnVtYmVyRm9ybWF0O1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5OdW1iZXJGb3JtYXQucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuTnVtYmVyRm9ybWF0LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcbnZhciBfZGVmYXVsdCA9IE51bWJlckZvcm1hdDtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtbnVtYmVyLWZvcm1hdC9saWIvbnVtYmVyX2Zvcm1hdC5qc1xuLy8gbW9kdWxlIGlkID0gNjA4MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCBQYXBlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9QYXBlcic7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2hlY2tib3gnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcclxuaW1wb3J0IFNlbGVjdCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TZWxlY3QnO1xyXG5pbXBvcnQgTWVudUl0ZW0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTWVudUl0ZW0nO1xyXG5pbXBvcnQgSW52b2ljZVRhYmxlIGZyb20gJy4vSW52b2ljZVRhYmxlJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdjb25maWcnO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgU25hY2tiYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU25hY2tiYXInO1xyXG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uQnV0dG9uJztcclxuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xvc2UnO1xyXG5pbXBvcnQgQ2xlYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0NsZWFyJztcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgICBkdWVEZXRhaWxzUm9vdDoge1xyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIwXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiXHJcbiAgICB9LFxyXG4gICAgcG9zdENhbGxEdWVEZXRhaWxzUm9vdDoge1xyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIwXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjYwdmhcIixcclxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiXHJcbiAgICB9LFxyXG4gICAgbWVudUl0ZW1Sb290OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIxLjV2aCAxLjA5dndcIlxyXG4gICAgfSxcclxuICAgIG1lbnVQYXBlcjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxyXG4gICAgICAgIGJvcmRlcjogXCIycHggc29saWQgd2hpdGVcIlxyXG4gICAgfSxcclxuICAgIGNoZWNrZWRJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgd2lkdGg6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiLFxyXG4gICAgICAgIGhlaWdodDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcclxuICAgIH0sXHJcbiAgICBzZWxlY3RGaWx0ZXI6IHtcclxuICAgICAgICBtaW5XaWR0aDogMTIwLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBmb250U2l6ZTogXCIuOXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgbWFyZ2luTGVmdDogXCIxLjcxOHZ3XCIsXHJcbiAgICB9LFxyXG4gICAgZW1haWxJY29uOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS40NnZoICsgMS40NnZ3KVwiLFxyXG4gICAgICAgIHdpZHRoOiBcImNhbGMoMS40NnZoICsgMS40NnZ3KVwiLFxyXG4gICAgfSxcclxuICAgIGVuYWJsZWRFbWFpbEljb246IHtcclxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXHJcbiAgICB9LFxyXG4gICAgZGlzYWJsZWRFbWFpbEljb246IHtcclxuICAgICAgICBvcGFjaXR5OiBcIi41XCJcclxuICAgIH0sXHJcbiAgICBibGFja1RleHQ6IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcclxuICAgIH0sXHJcbiAgICBzZWxlY3RNZW51OiB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW0gIWltcG9ydGFudFwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjIpXCIsXHJcbiAgICB9LFxyXG4gICAgY2xlYXJTZWxlY3Rpb25zOiB7XHJcbiAgICAgICAgbWFyZ2luTGVmdDogXCIuNXJlbVwiLFxyXG4gICAgICAgIG9wYWNpdHk6IDAuNjUsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBjbGVhclNlbGVjdGlvbnNQYXJlbnQ6IHtcclxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBmb250U2l6ZTogXCIxcmVtXCIsXHJcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiLjQ1cmVtXCJcclxuICAgIH0sXHJcbiAgICBzZWxlY3RJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eTogLjZcclxuICAgIH0sXHJcbiAgICBzZWxlY3RMaW5lUG9zdENhbGw6IHtcclxuICAgICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxyXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIuN3B4IHNvbGlkICM1OTZBNzUgIWltcG9ydGFudFwiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiLjd2aCAwXCJcclxuICAgIH0sXHJcbiAgICBzZWxlY3RMaW5lSW5DYWxsOiB7XHJcbiAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiMi4wMzd2aFwiXHJcbiAgICB9LFxyXG4gICAgaW52b2ljZUJ1Y2tldENoZWNrYm94OiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMy4xMjV2d1wiXHJcbiAgICB9LFxyXG4gICAgY2hlY2tCb3hSb290OiB7XHJcbiAgICAgICAgcGFkZGluZzogXCIwXCJcclxuICAgIH0sXHJcbiAgICBjbGVhclNlbGVjdGlvbkdyaWQ6IHtcclxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiLFxyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBpbnZvaWNlczogW10sXHJcbiAgICBmaWx0ZXJJbnZvaWNlczogZnVuY3Rpb24oKSB7fSxcclxuICAgIGJ1Y2tldE5hbWVzOiBbXSxcclxufTtcclxuXHJcbmNsYXNzIER1ZURldGFpbHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpXHJcbiAgICAgICAgdGhpcy50b3RhbFJvd3MgPSAwO1xyXG4gICAgICAgIHZhciBtYXAgPSB7fVxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgdGhpcy50b3RhbFJvd3MgPSB0aGlzLnRvdGFsUm93cyArIHByb3BzLmludm9pY2VzW2pdLmxlbmd0aFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmludm9pY2VzW2pdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzLmNvcnJlY3RJbnZvaWNlc01hcClcclxuICAgICAgICAgICAgICAgICAgICBtYXBbcHJvcHMuaW52b2ljZXNbal1baV0uaWRdID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5pbnZvaWNlc1tqXVtpXS5pZCBpbiBwcm9wcy5jb3JyZWN0SW52b2ljZXNNYXApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcFtwcm9wcy5pbnZvaWNlc1tqXVtpXS5pZF0gPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBbcHJvcHMuaW52b2ljZXNbal1baV0uaWRdID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucG9zdENhbGwgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNldFNlbGVjdGVkSW52b2ljZXMobWFwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgaW52b2ljZVR5cGU6IFwiQWxsXCIsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IG1hcCxcclxuICAgICAgICAgICAgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBnbG9iYWxDaGVjazogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzQnVsa0VtYWlsOiB0cnVlLFxyXG4gICAgICAgICAgICBjb2xsZWN0b3I6IHRoaXMucHJvcHMuY29sbGVjdG9yLFxyXG4gICAgICAgICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5jdXN0b21lcixcclxuICAgICAgICAgICAgc25hY2tCYXJPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJJbnZvaWNlcyhcIkFsbFwiKVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcykge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyB9LCAoKSA9PiB7IHRoaXMuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsIHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcykgfSlcclxuICAgICAgICAvLyB0aGlzLnNldENoZWNrKHByb3BzLmludm9pY2VzLHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcylcclxuICAgIH1cclxuXHJcbiAgICBzZXRDaGVjayA9IChpbnZvaWNlcywgc2VsZWN0ZWRJbnZvaWNlcykgPT4ge1xyXG5cclxuICAgICAgICB2YXIgYWxsRW1haWxzRmxhZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgdGVtcCA9IGludm9pY2VzXHJcblxyXG4gICAgICAgIHZhciBmbGFnID0gZmFsc2VcclxuICAgICAgICB2YXIgc3VtID0gMDtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlbXAubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgc3VtID0gc3VtICsgdGVtcFtqXS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcFtqXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2pdW2ldLmlkXSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vZW5hYmxlIG9yIGRpc2FibGUgZW1haWwgaWNvbiBiYXNlZCBvbiBzZWxlY3Rpb25cclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlbXAubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wW2pdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbal1baV0uaWRdID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxFbWFpbHNGbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWFsbEVtYWlsc0ZsYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzQnVsa0VtYWlsOiB0cnVlIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3VtID09IDApXHJcbiAgICAgICAgICAgIGZsYWcgPSB0cnVlXHJcblxyXG4gICAgICAgIGlmIChmbGFnID09IHRydWUpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBnbG9iYWxDaGVjazogZmFsc2UgfSlcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBnbG9iYWxDaGVjazogdHJ1ZSB9KVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlR2xvYmFsTWFwID0gKGRhdGEsIGZsYWcsIGNhbGxGcm9tQ2hpbGQpID0+IHtcclxuICAgICAgICB2YXIgdGVtcDtcclxuICAgICAgICBzd2l0Y2ggKGZsYWcpIHtcclxuICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxyXG4gICAgICAgICAgICAgICAgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1xyXG4gICAgICAgICAgICAgICAgdGVtcFtkYXRhXSA9IHRydWVcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInJlbW92ZVwiOlxyXG4gICAgICAgICAgICAgICAgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1xyXG4gICAgICAgICAgICAgICAgdGVtcFtkYXRhXSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhZGRBcnJheVwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxGcm9tQ2hpbGQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmxlbmd0aDsgaisrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFbal0ubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbal1baV0uaWRdID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlQXJyYXlcIjpcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsRnJvbUNoaWxkID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtpXS5pZF0gPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEubGVuZ3RoOyBqKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVtqXS5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtqXVtpXS5pZF0gPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wb3N0Q2FsbCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0U2VsZWN0ZWRJbnZvaWNlcyh0ZW1wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmdsb2JhbENoZWNrID09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVHbG9iYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJyZW1vdmVBcnJheVwiLCBmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR2xvYmFsTWFwKHRoaXMuc3RhdGUuaW52b2ljZXMsIFwiYWRkQXJyYXlcIiwgZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xlYXJTZWxlY3Rpb25zID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlR2xvYmFsTWFwKHRoaXMuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIiwgZmFsc2UpXHJcbiAgICB9XHJcbiAgICBmaW5kVHlwZSA9IChpbnZvaWNlKSA9PiB7XHJcbiAgICAgICAgaWYgKGludm9pY2UucDJwRGVsaW5xdWVudClcclxuICAgICAgICAgICAgcmV0dXJuIFwiUHJlZGljdGVkIERlbGlucW1lbnRcIlxyXG4gICAgICAgIGlmIChpbnZvaWNlLnAycFVwY29taW5nKVxyXG4gICAgICAgICAgICByZXR1cm4gXCJVcGNvbWluZyBQMlBcIlxyXG4gICAgICAgIGlmIChpbnZvaWNlLnAycEJyb2tlbilcclxuICAgICAgICAgICAgcmV0dXJuIFwiQnJva2VuIFAyUFwiXHJcbiAgICAgICAgcmV0dXJuIFwiRGlzcHV0ZVwiXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRmlsdGVyQ2hhbmdlID0gZXZlbnQgPT4ge1xyXG4gICAgICAgIC8vIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlVHlwZTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pXHJcbiAgICAgICAgLy8gdmFyIGludm9pY2VUeXBlID0gZXZlbnQudGFyZ2V0LnZhbHVlXHJcbiAgICAgICAgLy8gaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXHJcbiAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcyB9LCgpID0+IHt0aGlzLnNldENoZWNrKCl9KTtcclxuICAgICAgICAvLyBlbHNlIHtcclxuICAgICAgICAvLyAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcclxuICAgICAgICAvLyAgICAgdmFyIGZpbHRlcmVkSW52b2ljZXMgPSBbXVxyXG4gICAgICAgIC8vICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIC8vICAgICAgICAgZmlsdGVyZWRJbnZvaWNlc1tpXSA9IGludm9pY2VzW2ldLmZpbHRlcihpbnZvaWNlID0+IHRoaXMuZmluZFR5cGUoaW52b2ljZSkgPT0gaW52b2ljZVR5cGUpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IGZpbHRlcmVkSW52b2ljZXMgfSwoKSA9PiB7dGhpcy5zZXRDaGVjaygpfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlVHlwZTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pXHJcbiAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJJbnZvaWNlcyhldmVudC50YXJnZXQudmFsdWUpXHJcbiAgICB9XHJcblxyXG4gICAgcHJldmVudERlZmF1bHQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9wZW4gc25hY2sgYmFyIHdpdGggbWVzc2FnZVxyXG4gICAgb3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBtZXNzYWdlID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJNZXNzYWdlOiBtZXNzYWdlIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IHRydWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2xvc2Ugc25hY2sgYmFyIHVzaW5nIGNyb3NzIGJ1dHRvblxyXG4gICAgY2xvc2VTbmFja2JhciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZW5kIGVtYWlsIGZvciBtb3JlIHRoYW4gb25lIGludm9pY2VcclxuICAgIHNlbmRCdWxrRW1haWwgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIHRlbXAgPSB0aGlzLnN0YXRlLmludm9pY2VzO1xyXG4gICAgICAgIHZhciBkb2N1bWVudE51bWJlcnMgPSBbXTtcclxuXHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgY2hlY2tlZCBpbnZvaWNlcyBJZFxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TnVtYmVycy5wdXNoKHRlbXBbal1baV0uaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGluZyByZXF1ZXN0IG9iamVjdFxyXG4gICAgICAgIGxldCByZXFFbWFpbE9iaiA9IHtcclxuICAgICAgICAgICAgY3VzdG9tZXJJZDogdGhpcy5zdGF0ZS5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IGRvY3VtZW50TnVtYmVycyxcclxuICAgICAgICAgICAgZnJvbTogdGhpcy5zdGF0ZS5jb2xsZWN0b3IuZW1haWxJZCwgIC8vZ2V0IGZyb20gY29sbGVjdG9yIHByb2ZpbGVcclxuICAgICAgICAgICAgdG86IHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCwgIC8vZ2V0IGZyb20gQ29udGFjdCBvYmplY3QuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gTWFraW5nIGEgcG9zdCBjYWxsIGZvciBzZW5kaW5nIGVtYWlsc1xyXG4gICAgICAgIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHlgLCByZXFFbWFpbE9iailcclxuICAgICAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgICAvLyBtb2NrIHNlcnZlciBhcGlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVtYWlsIHNlbnRcIik7XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdGVkSW52b2ljZXNMZW5ndGggPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSW52b2ljZXMgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSW52b2ljZXNDb3VudCA9IDBcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNlbGVjdGVkSW52b2ljZXMpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNbaV0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlc0NvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICcoJyArIHNlbGVjdGVkSW52b2ljZXNDb3VudCArICcpJztcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICB2YXIgZGF5cyA9IHRoaXMucHJvcHMuYnVja2V0TmFtZXNcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8UGFwZXIgY2xhc3NOYW1lPXt0aGlzLnByb3BzLnBvc3RDYWxsID8gY2xhc3Nlcy5wb3N0Q2FsbER1ZURldGFpbHNSb290IDogY2xhc3Nlcy5kdWVEZXRhaWxzUm9vdH0gZWxldmF0aW9uPXswfT5cclxuICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciAgYWxpZ25JdGVtcz1cImNlbnRlclwiIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5wb3N0Q2FsbCA/IGNsYXNzZXMuc2VsZWN0TGluZVBvc3RDYWxsIDogY2xhc3Nlcy5zZWxlY3RMaW5lSW5DYWxsfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUJ1Y2tldENoZWNrYm94fSBhbGlnbj1cImNlbnRlclwiPjxDaGVja2JveCBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMuY2hlY2tCb3hSb290IH19IGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59IGNoZWNrZWRJY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZD17dGhpcy5zdGF0ZS5nbG9iYWxDaGVja30gb25DbGljaz17dGhpcy5oYW5kbGVDaGFuZ2V9IC8+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezF9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMuYmxhY2tUZXh0fT5TZWxlY3QgQWxsPC9zcGFuPjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxfSBhbGlnbj1cInJpZ2h0XCI+PFR5cG9ncmFwaHkgc3R5bGU9e3sgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAwLjUgfX0+VmlldyAmbmJzcDs6PC9UeXBvZ3JhcGh5PjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuc2VsZWN0RmlsdGVyKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmludm9pY2VUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRmlsdGVyQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17eyBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24sIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVudVByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiaW52b2ljZVR5cGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J0FsbCd9PkFsbDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J0Jyb2tlbiBQMlAnfT5Ccm9rZW4gUDJQPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnVXBjb21pbmcgUDJQJ30+VXBjb21pbmcgUDJQPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnRGlzcHV0ZSd9PkRpc3B1dGU8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydQcmVkaWN0ZWQgRGVsaW5xdWVudCd9PlByZWRpY3RlZCBEZWxpbnF1ZW50PC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnBvc3RDYWxsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezV9IGFsaWduPVwicmlnaHRcIiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5jbGVhclNlbGVjdGlvbkdyaWQsY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9e3RoaXMuY2xlYXJTZWxlY3Rpb25zfSBjbGFzc05hbWU9e2NsYXNzZXMuY2xlYXJTZWxlY3Rpb25zUGFyZW50fT48Q2xlYXIgc3R5bGU9e3sgZm9udFNpemU6IFwiMS4xcmVtXCIsIG9wYWNpdHk6IDAuNjUgfX0gLz4gPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmNsZWFyU2VsZWN0aW9uc30+Q2xlYXIgU2VsZWN0aW9ucyB7dGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoKCl9PC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHshdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs1fSBhbGlnbj1cInJpZ2h0XCIgc3R5bGU9e3sgcGFkZGluZ1JpZ2h0OiBcIjB2d1wiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAodGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLmlzQnVsa0VtYWlsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwgaW1nIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmVtYWlsSWNvbiwgY2xhc3Nlcy5lbmFibGVkRW1haWxJY29uKX0gb25DbGljaz17dGhpcy5zZW5kQnVsa0VtYWlsfSBzcmM9eycvdG92by9zdGF0aWMvRW1haWwuc3ZnJ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLmlzQnVsa0VtYWlsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwgaW1nIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmVtYWlsSWNvbiwgY2xhc3Nlcy5kaXNhYmxlZEVtYWlsSWNvbil9IHNyYz17Jy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW52b2ljZXMubWFwKChidWNrZXRJbnZvaWNlcywgaWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW52b2ljZVRhYmxlIGVtYWlsT2ZDYWxsZWQ9e3RoaXMucHJvcHMuZW1haWxPZkNhbGxlZH0gcG9zdENhbGw9e3RoaXMucHJvcHMucG9zdENhbGx9IGNvbGxlY3Rvcj17dGhpcy5wcm9wcy5jb2xsZWN0b3J9IGN1c3RvbWVyPXt0aGlzLnByb3BzLmN1c3RvbWVyfSBzZWxlY3RlZEludm9pY2VzPXt0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXN9IGludm9pY2VzPXtidWNrZXRJbnZvaWNlc30gaW5kaXZpZHVhbD17ZmFsc2V9IGRheXM9e2RheXNbaWRdfSBpbnZvaWNlVHlwZT17dGhpcy5zdGF0ZS5pbnZvaWNlVHlwZX0gdXBkYXRlR2xvYmFsTWFwPXt0aGlzLnVwZGF0ZUdsb2JhbE1hcH0+PC9JbnZvaWNlVGFibGU+XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8U25hY2tiYXJcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3JPcmlnaW49e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLnNuYWNrQmFyT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uPXsyMDAwfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgICAgICAgICAgICBDb250ZW50UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXs8c3BhbiBpZD1cIm1lc3NhZ2UtaWRcIj57dGhpcy5zdGF0ZS5zbmFja0Jhck1lc3NhZ2V9PC9zcGFuPn1cclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb249e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cImNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cImluaGVyaXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNsb3NlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvUGFwZXI+XHJcblxyXG4gICAgICAgICk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5EdWVEZXRhaWxzLnByb3BUeXBlcyA9IHtcclxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIGludm9pY2VzOiBQcm9wVHlwZXMuYXJyYXksXHJcbiAgICBmaWx0ZXJJbnZvaWNlczogUHJvcFR5cGVzLmZ1bmNcclxufTtcclxuXHJcbkR1ZURldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKER1ZURldGFpbHMpO1xyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvRHVlRGV0YWlsLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBFeHBhbnNpb25QYW5lbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbCc7XHJcbmltcG9ydCBFeHBhbnNpb25QYW5lbFN1bW1hcnkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRXhwYW5zaW9uUGFuZWxTdW1tYXJ5JztcclxuaW1wb3J0IEV4cGFuc2lvblBhbmVsRGV0YWlscyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbERldGFpbHMnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiO1xyXG5pbXBvcnQgeyBmb3JtYXR0ZXIgfSBmcm9tICcuLi91dGlscy9mb3JtYXR0ZXInO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IEV4cGFuZE1vcmVJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FeHBhbmRNb3JlJztcclxuaW1wb3J0IENoZWNrYm94IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NoZWNrYm94JztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBDbG9zZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJ1xyXG5pbXBvcnQgRG9uZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0RvbmUnXHJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL1NlbGVjdFwiO1xyXG5pbXBvcnQgTWVudUl0ZW0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL01lbnVJdGVtXCI7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IFNuYWNrYmFyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NuYWNrYmFyJztcclxuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvbic7XHJcbmltcG9ydCB7IEV4cGFuZExlc3MgfSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMnO1xyXG4vLyBpbXBvcnQgTGlzdE9mVGlsZSBmcm9tICcuL0xpc3RPZlRpbGUnO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICAnLi4vdXRpbHMvYmFzZVN0eWxlJ1xyXG5pbXBvcnQgR3JpZExpc3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3QnO1xyXG5pbXBvcnQgR3JpZExpc3RUaWxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWRMaXN0VGlsZSc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gICAgcm9vdDoge1xyXG4gICAgICAgIHBhZGRpbmc6IFwiMFwiXHJcbiAgICB9LFxyXG4gICAgbWVudUl0ZW1Sb290OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIxLjV2aCAxLjA5dndcIlxyXG4gICAgfSxcclxuICAgIG1lbnVQYXBlcjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiXHJcbiAgICB9LFxyXG4gICAgcG9zdENhbGxSb290OiB7XHJcbiAgICAgICAgcGFkZGluZzogXCIwXCIsXHJcbiAgICAgICAgbWFyZ2luVG9wOiBcIi44dmhcIlxyXG4gICAgfSxcclxuICAgIGljb246IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgd2lkdGg6IFwiMS4yNXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjIuMjJ2aFwiLFxyXG4gICAgICAgIG9wYWNpdHk6IFwiLjZcIlxyXG5cclxuICAgIH0sXHJcbiAgICBjaGVja2VkSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIHpJbmRleDogXCIzXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcclxuICAgIH0sXHJcbiAgICBzZWxlY3RGaWx0ZXI6IHtcclxuICAgICAgICBtaW5XaWR0aDogMTIwLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiMS43MTh2d1wiXHJcbiAgICB9LFxyXG4gICAgZ3JpZExpc3Q6IHtcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcclxuICAgICAgICBtYXJnaW46ICcwIC0ycHggLTJweCAtMnB4ICFpbXBvcnRhbnQnLFxyXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXHJcbiAgICB9LFxyXG4gICAgZ3JpZExpc3REaXY6IHtcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgd2lkdGg6IFwiMTUuNDF2d1wiLFxyXG4gICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcclxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAxcHhcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxyXG4gICAgfSxcclxuICAgIHNlbGVjdGVkR3JpZExpc3REaXY6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiLFxyXG4gICAgfSxcclxuICAgIHNoaWZ0OiB7XHJcbiAgICAgICAgbWFyZ2luOiBcIjFyZW0gMXJlbSAwIDFyZW1cIlxyXG4gICAgfSxcclxuICAgIGJsYWNrVGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBmb250U2l6ZTogXCIuOTVyZW1cIixcclxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICB9LFxyXG4gICAgZ3JleVRleHQ6IHtcclxuICAgICAgICBvcGFjaXR5OiBcIi42NVwiXHJcbiAgICB9LFxyXG4gICAgYnVja2V0SGVhZGVyVGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBmb250U2l6ZTogXCIuOXJlbVwiLFxyXG4gICAgfSxcclxuICAgIGNoYW5nZVJvd0JhY2tncm91bmQ6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzU4Njk3M1wiLFxyXG4gICAgfSxcclxuICAgIGRlZmF1bHRCYWNrZ3JvdW5kOiB7XHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIi43cHggc29saWQgIzM5NUM3MyAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjUuNjV2aFwiXHJcbiAgICB9LFxyXG4gICAgaW52b2ljZUhlYWRlclRleHQ6IHtcclxuICAgICAgICBmb250U2l6ZTogXCIuOXJlbVwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiBcIi41XCJcclxuICAgIH0sXHJcbiAgICBwYW5lbFN1bW1hcnk6IHtcclxuICAgICAgICBwYWRkaW5nOiBcIjBcIiwgbWFyZ2luOiBcIjBcIlxyXG4gICAgfSxcclxuICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICBtYXJnaW46IFwiMCAhaW1wb3J0YW50XCIsXHJcbiAgICB9LFxyXG4gICAgZXhwYW5kSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgaW5kaXZpZHVhbEludm9pY2VIZWFkZXI6IHtcclxuICAgICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiMi4wMzd2aCAxcmVtIDAgMXJlbVwiXHJcbiAgICB9LFxyXG4gICAgaWNvblNpemU6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXHJcbiAgICB9LFxyXG4gICAgZW5hYmxlZEVtYWlsSWNvbjoge1xyXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcclxuICAgIH0sXHJcbiAgICBkaXNhYmxlZEVtYWlsSWNvbjoge1xyXG4gICAgICAgIG9wYWNpdHk6IFwiLjVcIlxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFeHBhbmRlZDoge1xyXG4gICAgICAgIG1pbkhlaWdodDogXCI1LjU1dmggIWltcG9ydGFudFwiXHJcbiAgICB9LFxyXG4gICAgZGlzYWJsZVRpbWVsaW5lOiB7XHJcbiAgICAgICAgbWFyZ2luVG9wOiBcIjIuMnJlbVwiLCBtYXJnaW5MZWZ0OiBcIi4ycmVtXCJcclxuICAgIH0sXHJcbiAgICB0aW1lbGluZToge1xyXG4gICAgICAgIGJvcmRlckxlZnQ6IFwiMXB4IHNvbGlkICM1OTZBNzVcIixcclxuICAgIH0sXHJcbiAgICBkaXNhYmxlVGltZWxpbmU6IHtcclxuXHJcbiAgICB9LFxyXG4gICAgcG9zdENhbGxUaW1lbGluZToge1xyXG4gICAgICAgIGJvcmRlckxlZnQ6IFwiMXB4IHNvbGlkICMzOTVDNzNcIixcclxuICAgIH0sXHJcbiAgICBzZWxlY3RJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHk6IC42XHJcbiAgICB9LFxyXG4gICAgc3VtbWFyeUNvbnRlbnQ6IHtcclxuICAgICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogXCIwICFpbXBvcnRhbnRcIixcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlTnVtYmVyQ29sdW1uOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTQlXCJcclxuICAgIH0sXHJcbiAgICBhbW91bnRDb2x1bW46IHtcclxuICAgICAgICB3aWR0aDogXCIxMiVcIlxyXG4gICAgfSxcclxuICAgIGJyb2tlbkNvbHVtbjoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEzLjUlXCJcclxuICAgIH0sXHJcbiAgICB1cGNvbWluZ0NvbHVtbjoge1xyXG4gICAgICAgIHdpZHRoOiBcIjE0JVwiXHJcbiAgICB9LFxyXG4gICAgZGlzcHV0ZUNvbHVtbjoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEzJVwiXHJcbiAgICB9LFxyXG4gICAgcHJlZGljdGVkQ29sdW1uOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTglXCJcclxuICAgIH0sXHJcbiAgICBjaGVja0JveENvbHVtbjoge1xyXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgICAgICBtaW5XaWR0aDogXCIzLjEyNXZ3XCIsXHJcbiAgICB9LFxyXG4gICAgYm9yZGVyQm90dG9tOiB7XHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIi43cHggc29saWQgIzM5NUM3MyAhaW1wb3J0YW50XCIsXHJcbiAgICB9LFxyXG4gICAgZW1haWxDb2x1bW46IHtcclxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiXHJcbiAgICB9LFxyXG4gICAgaW52b2ljZUJ1Y2tldENoZWNrYm94OiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMy4xMjV2d1wiLFxyXG4gICAgICAgIGhlaWdodDogXCI1LjU1dmhcIixcclxuICAgIH0sXHJcbiAgICB2ZXJ0aWNhbFRpbWVsaW5lOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMy4xMjV2d1wiLFxyXG4gICAgfSxcclxuICAgIGNvbm5lY3Rvcjoge1xyXG4gICAgICAgIGhlaWdodDogXCI1LjU1dmhcIlxyXG4gICAgfSxcclxuICAgIGNoZWNrQm94Um9vdDoge1xyXG4gICAgICAgIHBhZGRpbmc6IFwiMFwiXHJcbiAgICB9LFxyXG4gICAgaW5kaXZpZHVhbEJ1Y2tldENoZWNrYm94OiB7XHJcbiAgICAgICAgbWluV2lkdGg6IFwiMy4xMjV2d1wiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0TWVudToge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtICFpbXBvcnRhbnRcIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4yKVwiLFxyXG4gICAgfSxcclxuICAgIGdyaWRMaXN0VGlsZToge1xyXG4gICAgICAgIGhlaWdodDogXCJhdXRvICFpbXBvcnRhbnRcIlxyXG4gICAgfVxyXG5cclxufSk7XHJcblxyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgaW52b2ljZXM6IFtdLFxyXG4gICAgc2VsZWN0ZWRJbnZvaWNlczogW10sXHJcbiAgICBmaWx0ZXJJbnZvaWNlczogZnVuY3Rpb24oKSB7fVxyXG59O1xyXG5cclxuY2xhc3MgSW52b2ljZVRhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcylcclxuICAgICAgICB2YXIgZXhwYW5kZWQ7XHJcbiAgICAgICAgdGhpcy50b3RhbEFtb3VudCA9IDA7XHJcbiAgICAgICAgdmFyIG1hcCA9IHt9O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy50b3RhbEFtb3VudCA9IHRoaXMudG90YWxBbW91bnQgKyBwcm9wcy5pbnZvaWNlc1tpXS5jdXJyZW50T3BlbkFtb3VudDtcclxuICAgICAgICAgICAgbWFwW3Byb3BzLmludm9pY2VzW2ldLmlkXSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY2hlY2tlZEludm9pY2VzO1xyXG4gICAgICAgIHZhciBpbnZvaWNlVHlwZTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pbmRpdmlkdWFsKSB7XHJcbiAgICAgICAgICAgIGNoZWNrZWRJbnZvaWNlcyA9IG1hcDtcclxuICAgICAgICAgICAgaW52b2ljZVR5cGUgPSBcIkFsbFwiO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmZpbHRlckludm9pY2VzKFwiQWxsXCIpO1xyXG4gICAgICAgICAgICBleHBhbmRlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjaGVja2VkSW52b2ljZXMgPSB0aGlzLnByb3BzLnNlbGVjdGVkSW52b2ljZXM7XHJcbiAgICAgICAgICAgIGludm9pY2VUeXBlID0gcHJvcHMuaW52b2ljZVR5cGU7XHJcbiAgICAgICAgICAgIGV4cGFuZGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBjaGVja2VkOiBmYWxzZSxcclxuICAgICAgICAgICAgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IGNoZWNrZWRJbnZvaWNlcyxcclxuICAgICAgICAgICAgZGF5czogcHJvcHMuZGF5cyxcclxuICAgICAgICAgICAgdG90YWxBbW91bnQ6IHRoaXMudG90YWxBbW91bnQsXHJcbiAgICAgICAgICAgIGludm9pY2VUeXBlOiBpbnZvaWNlVHlwZSxcclxuICAgICAgICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxyXG4gICAgICAgICAgICBpc0J1bGtFbWFpbDogdHJ1ZSxcclxuICAgICAgICAgICAgY3VzdG9tZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIsXHJcbiAgICAgICAgICAgIGNvbGxlY3RvcjogdGhpcy5wcm9wcy5jb2xsZWN0b3IsXHJcbiAgICAgICAgICAgIHNuYWNrQmFyT3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNuYWNrQmFyTWVzc2FnZTogXCJcIixcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XHJcbiAgICAgICAgLy8gdGhpcy5zZXRDaGVjaygpICAgIFxyXG4gICAgICAgIHZhciBzdW0gPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc3VtID0gc3VtICsgcHJvcHMuaW52b2ljZXNbaV0uY3VycmVudE9wZW5BbW91bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcm9wcy5pbmRpdmlkdWFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0b3RhbEFtb3VudDogc3VtLCBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcywgdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0b3RhbEFtb3VudDogc3VtLCBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgc2VsZWN0ZWRJbnZvaWNlczogcHJvcHMuc2VsZWN0ZWRJbnZvaWNlcyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcywgdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRmlsdGVyQ2hhbmdlID0gZXZlbnQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlVHlwZTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pXHJcbiAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJJbnZvaWNlcyhldmVudC50YXJnZXQudmFsdWUpXHJcbiAgICB9O1xyXG5cclxuICAgIHRvZ2dsZUV4cGFuZCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5leHBhbmRlZCA9PSB0cnVlKVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXhwYW5kZWQ6IGZhbHNlIH0pXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXhwYW5kZWQ6IHRydWUgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgYWRkSW52b2ljZSA9IChpZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhciBpZCA9IGV2ZW50LnRhcmdldC5pZDtcclxuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJJRCBpc1wiLGlkKVxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaWRdID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmluZGl2aWR1YWwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsTWFwKGlkLCBcImFkZFwiKVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcChpZCwgXCJhZGRcIiwgdHJ1ZSlcclxuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5kaXZpZHVhbClcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTG9jYWxNYXAoaWQsIFwicmVtb3ZlXCIpXHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXBkYXRlR2xvYmFsTWFwKGlkLCBcInJlbW92ZVwiLCB0cnVlKVxyXG4gICAgICAgICAgICAvLyB0aGlzLnNldENoZWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG4gICAgY2hlY2tBbGxJbnZvaWNlcyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIC8vICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNoZWNrZWQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogZmFsc2UgfSlcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5kaXZpZHVhbClcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTG9jYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJyZW1vdmVBcnJheVwiKVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcCh0aGlzLnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIsIHRydWUpXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IHRydWUgfSlcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5kaXZpZHVhbClcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTG9jYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJhZGRBcnJheVwiKVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcCh0aGlzLnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIsIHRydWUpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vV2lsbCBjaGVjayBhbmQgbWFwIGFsbCBpbnZvaWNlcyBhcmUgc2VsZWN0ZWQgb3Igbm90XHJcbiAgICB1cGRhdGVMb2NhbE1hcCA9IChkYXRhLCBmbGFnKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChmbGFnKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhZGRcIjpcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgICAgICAgICAgdGVtcFtkYXRhXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInJlbW92ZVwiOlxyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XHJcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImFkZEFycmF5XCI6XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtpXS5pZF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVBcnJheVwiOlxyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbaV0uaWRdID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldENoZWNrID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciB0ZW1wID0gdGhpcy5zdGF0ZS5pbnZvaWNlcztcclxuICAgICAgICB2YXIgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBhbGxFbWFpbHNGbGFnID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vZW5hYmxlIG9yIGRpc2FibGUgZW1haWwgaWNvbiBiYXNlZCBvbiBzZWxlY3Rpb25cclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlbXAubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2pdLmlkXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxFbWFpbHNGbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0J1bGtFbWFpbDogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFsbEVtYWlsc0ZsYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzQnVsa0VtYWlsOiB0cnVlIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2ldLmlkXSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGVtcC5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgZmxhZyA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmIChmbGFnID09IHRydWUpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjaGVja2VkOiBmYWxzZSB9KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjaGVja2VkOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9wZW4gc25hY2sgYmFyIHdpdGggbWVzc2FnZVxyXG4gICAgb3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBtZXNzYWdlID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJNZXNzYWdlOiBtZXNzYWdlIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IHRydWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2xvc2Ugc25hY2sgYmFyIHVzaW5nIGNyb3NzIGJ1dHRvblxyXG4gICAgY2xvc2VTbmFja2JhciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZW5kIGVtYWlsIGZvciBpbmRpdmlkdWFsIGludm9pY2VcclxuICAgIHNlbmRFbWFpbCA9IChpbnZvaWNlSWQpID0+IHtcclxuICAgICAgICAvL0NyZWF0aW5nIHJlcXVlc3Qgb2JqZWN0XHJcbiAgICAgICAgbGV0IHJlcUVtYWlsT2JqID0ge1xyXG4gICAgICAgICAgICBjdXN0b21lcklkOiB0aGlzLnN0YXRlLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICBkb2N1bWVudElkczogW2ludm9pY2VJZF0sXHJcbiAgICAgICAgICAgIGZyb206IHRoaXMuc3RhdGUuY29sbGVjdG9yLmVtYWlsSWQsICAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXHJcbiAgICAgICAgICAgIHRvOiB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQsICAvL2dldCBmcm9tIENvbnRhY3Qgb2JqZWN0LlxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vTWFraW5nIHBvc3QgY2FsbCBmb3Igc2VuZGluZyBFbWFpbCBmb3IgdGhpcyBpbnZvaWNlXHJcbiAgICAgICAgYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKVxyXG4gICAgICAgICAgICAvLyBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2NvcnJlc3BvbmRlbmNlL2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopICAvLyBtb2NrIHNlcnZlciBhcGlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVtYWlsIHNlbnRcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFcnJvciBpbiBzZW5kaW5nIGVtYWlsXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZW5kIGVtYWlsIGZvciBtb3JlIHRoYW4gb25lIGludm9pY2VcclxuICAgIHNlbmRCdWxrRW1haWwgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTZW5kaW5nIEJ1bGsgZW1haWxcIik7XHJcbiAgICAgICAgdmFyIHRlbXAgPSB0aGlzLnN0YXRlLmludm9pY2VzO1xyXG4gICAgICAgIHZhciBkb2N1bWVudE51bWJlcnMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBjaGVja2VkIGludm9pY2UgSWRzXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtpXS5pZF0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXJzLnB1c2godGVtcFtpXS5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWF0aW5nIHJlcXVlc3Qgb2JqZWN0XHJcbiAgICAgICAgbGV0IHJlcUVtYWlsT2JqID0ge1xyXG4gICAgICAgICAgICBjdXN0b21lcklkOiB0aGlzLnN0YXRlLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICBkb2N1bWVudElkczogZG9jdW1lbnROdW1iZXJzLFxyXG4gICAgICAgICAgICBmcm9tOiB0aGlzLnN0YXRlLmNvbGxlY3Rvci5lbWFpbElkLCAgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxyXG4gICAgICAgICAgICB0bzogdGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIE1ha2luZyBhIHBvc3QgY2FsbCBmb3Igc2VuZGluZyBlbWFpbHNcclxuICAgICAgICBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2NvcnJlc3BvbmRlbmNlL2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopXHJcbiAgICAgICAgICAgIC8vIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vaW52b2ljZWNvcHlgLCByZXFFbWFpbE9iaikgICAgLy8gbW9jayBzZXJ2ZXIgYXBpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRXJyb3IgaW4gc2VuZGluZyBlbWFpbFwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMDtcclxuICAgICAgICBsZXQgaW52b2ljZXMgPSB0aGlzLnN0YXRlLmludm9pY2VzO1xyXG4gICAgICAgIGZvciAobGV0IGkgaW4gaW52b2ljZXMpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNbaW52b2ljZXNbaV0uaWRdID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXNDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzQ291bnQgPT0gMCB8fCAhdGhpcy5wcm9wcy5wb3N0Q2FsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYChUb3RhbDogXFwkJHtmb3JtYXR0ZXIodGhpcy5zdGF0ZS50b3RhbEFtb3VudCwgXCJcIil9IC0gJHt0aGlzLnN0YXRlLmludm9pY2VzLmxlbmd0aH0gSW52b2ljZXMpYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICcoJyArIHNlbGVjdGVkSW52b2ljZXNDb3VudCArICcgU2VsZWN0ZWQpJztcclxuICAgIH1cclxuXHJcbiAgICAvL1JlbmRlciBmdW5jdGlvbiBcclxuICAgIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfX0+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbmRpdmlkdWFsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIHhzPXsxMn0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJzcGFjZS1iZXR3ZWVuXCIgY2xhc3NOYW1lPXtjbGFzc2VzLmluZGl2aWR1YWxJbnZvaWNlSGVhZGVyfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cImNlbnRlclwiIHN0eWxlPXt7IHpJbmRleDogXCI1XCIgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmluZGl2aWR1YWxCdWNrZXRDaGVja2JveH0+PENoZWNrYm94IGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfX0gaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fSBjaGVja2VkPXt0aGlzLnN0YXRlLmNoZWNrZWR9IG9uQ2xpY2s9eygpID0+IHRoaXMuY2hlY2tBbGxJbnZvaWNlcyhldmVudCl9IC8+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxfT48c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMuYnVja2V0SGVhZGVyVGV4dH0+U2VsZWN0IEFsbDwvc3Bhbj48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezF9IGFsaWduPVwicmlnaHRcIj48VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogXCIjOTg5ODk4XCIgfX0+VmlldyAmbmJzcDs6ICA8L1R5cG9ncmFwaHk+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5zZWxlY3RGaWx0ZXIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmludm9pY2VUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgaWNvbjogY2xhc3Nlcy5zZWxlY3RJY29uLCBzZWxlY3RNZW51OiBjbGFzc2VzLnNlbGVjdE1lbnUgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVGaWx0ZXJDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImludm9pY2VUeXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW51UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J0FsbCd9PkFsbDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydCcm9rZW4gUDJQJ30+QnJva2VuIFAyUDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydVcGNvbWluZyBQMlAnfT5VcGNvbWluZyBQMlA8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnRGlzcHV0ZSd9PkRpc3B1dGU8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnUHJlZGljdGVkIERlbGlucXVlbnQnfT5QcmVkaWN0ZWQgRGVsaW5xdWVudDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs1fSBhbGlnbj1cInJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhdGhpcy5zdGF0ZS5pc0J1bGtFbWFpbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmljb25TaXplLCBjbGFzc2VzLmVuYWJsZWRFbWFpbEljb24pfSBvbkNsaWNrPXt0aGlzLnNlbmRCdWxrRW1haWx9IHNyYz17Jy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5pY29uU2l6ZSwgY2xhc3Nlcy5kaXNhYmxlZEVtYWlsSWNvbil9IHNyYz17Jy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGFsaWduSXRlbXM9XCJmbGV4LXN0YXJ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTJ9IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5pbmRpdmlkdWFsID8gY2xhc3Nlcy5zaGlmdCA6IGNsYXNzZXMubm9TaGlmdH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbnNpb25QYW5lbCBzdHlsZT17eyBib3hTaGFkb3c6IFwibm9uZVwiLCBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIiB9fSBkZWZhdWx0RXhwYW5kZWQ9e3RoaXMucHJvcHMuaW5kaXZpZHVhbH0gZXhwYW5kZWQ9e3RoaXMuc3RhdGUuZXhwYW5kZWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnByb3BzLmluZGl2aWR1YWwgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXhwYW5zaW9uUGFuZWxTdW1tYXJ5IGNsYXNzTmFtZT17Y2xhc3Nlcy5wYW5lbFN1bW1hcnl9IGNsYXNzZXM9e3sgY29udGVudDogY2xhc3Nlcy5jb250ZW50LCBleHBhbmRlZDogY2xhc3Nlcy5zdW1tYXJ5RXhwYW5kZWQgfX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgYWxpZ25JdGVtcz1cImNlbnRlclwiIGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5Q29udGVudH0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5pbnZvaWNlQnVja2V0Q2hlY2tib3gsY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gYWxpZ249XCJjZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb25uZWN0b3J9PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMuY2hlY2tCb3hSb290IH19IGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59IGNoZWNrZWRJY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZD17dGhpcy5zdGF0ZS5jaGVja2VkfSBvbkNsaWNrPXsoKSA9PiB0aGlzLmNoZWNrQWxsSW52b2ljZXMoZXZlbnQpfSAvPjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiBpdGVtIHhzPXsxMX0gYWxpZ249XCJsZWZ0XCIgb25DbGljaz17dGhpcy50b2dnbGVFeHBhbmR9IGNsYXNzTmFtZT17Y2xhc3Nlcy5ib3JkZXJCb3R0b219PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEwfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmJ1Y2tldEhlYWRlclRleHR9Pnt0aGlzLnN0YXRlLmRheXN9Jm5ic3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuZ3JleVRleHQsY2xhc3Nlcy5idWNrZXRIZWFkZXJUZXh0KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17Mn0gYWxpZ249XCJyaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUuZXhwYW5kZWQgJiYgPEV4cGFuZE1vcmVJY29uIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmV4cGFuZEljb24sY2xhc3Nlcy5pY29uU2l6ZSl9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5leHBhbmRlZCAmJiA8RXhwYW5kTGVzcyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5leHBhbmRJY29uLGNsYXNzZXMuaWNvblNpemUpfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsU3VtbWFyeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbnNpb25QYW5lbERldGFpbHMgY2xhc3NOYW1lPXshdGhpcy5wcm9wcy5wb3N0Q2FsbCA/IGNsYXNzZXMucm9vdCA6IGNsYXNzZXMucG9zdENhbGxSb290fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMucHJvcHMucG9zdENhbGwgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnByb3BzLmluZGl2aWR1YWwgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMudmVydGljYWxUaW1lbGluZX0ganVzdGlmeT1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5pbmRpdmlkdWFsID8gY2xhc3Nlcy5kaXNhYmxlVGltZWxpbmUgOiBjbGFzc2VzLnRpbWVsaW5lfSA+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciB4cz17dGhpcy5wcm9wcy5pbmRpdmlkdWFsID8gMTIgOiAxMX0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJjZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciB4cz17MTJ9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIHN0eWxlPXt7IG1hcmdpblRvcDogXCIxLjM0dmhcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tCb3hDb2x1bW59PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJjZW50ZXJcIiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5pbnZvaWNlTnVtYmVyQ29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnZvaWNlIE51bWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJyaWdodFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmFtb3VudENvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cImNlbnRlclwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmJyb2tlbkNvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnJva2VuIFAyUFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJjZW50ZXJcIiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy51cGNvbWluZ0NvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXBjb21pbmcgUDJQXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cImNlbnRlclwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmRpc3B1dGVDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlzcHV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJjZW50ZXJcIiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5wcmVkaWN0ZWRDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJlZGljdGVkIERlbGlucXVlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5lbWFpbENvbHVtbixjbGFzc2VzLmNlbnRlckZsZXhCb3gpfT48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlcy5tYXAoKGludm9pY2UsIGlkKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiB4cz17MTJ9IGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID8gY2xhc3NOYW1lcyhjbGFzc2VzLmNoYW5nZVJvd0JhY2tncm91bmQsIGNsYXNzZXMuZGVmYXVsdEJhY2tncm91bmQpIDogY2xhc3Nlcy5kZWZhdWx0QmFja2dyb3VuZH0ga2V5PXtpbnZvaWNlLmlkICsgXCJyb3dcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrQm94Q29sdW1ufSBhbGlnbj1cImNlbnRlclwiIHBhZGRpbmc9XCJjaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfX0gaWQ9e2ludm9pY2UuaWR9IGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59IGNoZWNrZWRJY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZD17dGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID09IHRydWV9IG9uQ2xpY2s9eygpID0+IHRoaXMuYWRkSW52b2ljZShpbnZvaWNlLmlkKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBhbGlnbj1cImNlbnRlclwiIG51bWVyaWMgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuaW52b2ljZU51bWJlckNvbHVtbiwgY2xhc3Nlcy5ibGFja1RleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ludm9pY2UuZG9jdW1lbnROdW1iZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgYWxpZ249XCJyaWdodFwiIG51bWVyaWMgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuYW1vdW50Q29sdW1uLCBjbGFzc2VzLmJsYWNrVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCIkXCIgKyBmb3JtYXR0ZXIoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuYnJva2VuQ29sdW1uLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpfSBhbGlnbj1cImNlbnRlclwiIG51bWVyaWM+e2ludm9pY2UucDJwQnJva2VuID8gPERvbmVJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPiA6IDxDbG9zZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+fTwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMudXBjb21pbmdDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9IGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYz57aW52b2ljZS5wMnBVcGNvbWluZyA/IDxEb25lSWNvbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz4gOiA8Q2xvc2VJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPn08L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmRpc3B1dGVDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9IGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYz57aW52b2ljZS5kaXNwdXRlU3RhdHVzICE9IG51bGwgPyA8RG9uZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+IDogPENsb3NlSWNvbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz59PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5wcmVkaWN0ZWRDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9IGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYz57aW52b2ljZS5wMnBEZWxpbnF1ZW50ID8gPERvbmVJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPiA6IDxDbG9zZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+fTwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuZW1haWxDb2x1bW4sY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0geHM9ezF9IGFsaWduPVwicmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgKHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbil9IG9uQ2xpY2s9eygpID0+IHRoaXMuc2VuZEVtYWlsKGludm9pY2UuaWQpfSBzcmM9eycvdG92by9zdGF0aWMvRW1haWwuc3ZnJ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMudmVydGljYWxUaW1lbGluZX0ganVzdGlmeT1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLnBvc3RDYWxsVGltZWxpbmV9ID48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPExpc3RPZlRpbGUgaW5JbnZvaWNlVGFibGUgaW52b2ljZXM9e3RoaXMuc3RhdGUuaW52b2ljZXN9IHNlbGVjdGVkSW52b2ljZXM9e3RoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc30gYWRkSW52b2ljZT17dGhpcy5hZGRJbnZvaWNlfSAvPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExpc3QgY2VsbEhlaWdodD17XCJhdXRvXCJ9IGNsYXNzTmFtZT17Y2xhc3Nlcy5ncmlkTGlzdH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGludm9pY2UgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGlzdFRpbGUgY29scz17MX0ga2V5PXtpbnZvaWNlLmlkfSBjbGFzc2VzPXt7IHRpbGU6IGNsYXNzZXMuZ3JpZExpc3RUaWxlIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxNnZ3JywgbWFyZ2luOiAnMC4ycmVtJyB9fT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17KHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA9PSB0cnVlKSA/IGNsYXNzZXMuc2VsZWN0ZWRHcmlkTGlzdERpdiA6IGNsYXNzZXMuZ3JpZExpc3REaXZ9ID5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IHBhZGRpbmc6ICcycHgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgbGVmdDogXCIzJVwiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2ludm9pY2UuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY2hlY2tlZD17dGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmRvY3VtZW50TnVtYmVyKSB8fCB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRvZ2dsZUNoZWNrYm94KGludm9pY2UuZG9jdW1lbnROdW1iZXIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaW52b2ljZS5pZF0gPT0gdHJ1ZX0gb25DbGljaz17KCkgPT4gdGhpcy5hZGRJbnZvaWNlKGludm9pY2UuaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLCBtYXJnaW5MZWZ0OiAnMXZ3JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNjUsIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfX0+e2ludm9pY2UuZG9jdW1lbnROdW1iZXJ9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6ICcxLjE1NnJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9fT4ke2Zvcm1hdHRlcihpbnZvaWNlLmN1cnJlbnRPcGVuQW1vdW50KX08L1R5cG9ncmFwaHk+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxDbG9zZSBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB3aWR0aDogXCJjYWxjKC44dmggKyAuOHZ3KVwiLCBoZWlnaHQ6IFwiY2FsYyguOHZoICsgLjh2dylcIiwgcmlnaHQ6IFwiMTAlXCIsIHRvcDogXCIyNyVcIiwgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gfX0gLz4gKi99XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0VGlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGlzdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRXhwYW5zaW9uUGFuZWxEZXRhaWxzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDxTbmFja2JhclxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdsZWZ0JyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc25hY2tCYXJPcGVufVxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezIwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ezxzcGFuIGlkPVwibWVzc2FnZS1pZFwiPnt0aGlzLnN0YXRlLnNuYWNrQmFyTWVzc2FnZX08L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbj17W1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiY2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwiaW5oZXJpdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2xvc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPixcclxuICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuSW52b2ljZVRhYmxlLnByb3BUeXBlcyA9IHtcclxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIGludm9pY2VzOiBQcm9wVHlwZXMuYXJyYXksXHJcbiAgICBmaWx0ZXJJbnZvaWNlczogUHJvcFR5cGVzLmZ1bmNcclxufTtcclxuXHJcbkludm9pY2VUYWJsZS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XHJcblxyXG5jb25zdCBjb21iaW5lZFN0eWxlID0gY29tYmluZVN0eWxlcyhzdHlsZXMsYmFzZVN0eWxlKVxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEludm9pY2VUYWJsZSk7XHJcblxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvSW52b2ljZVRhYmxlLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5uYW1lU2hhcGUgPSB1bmRlZmluZWQ7XG5leHBvcnRzLnRyYW5zaXRpb25UaW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25UaW1lb3V0KHRyYW5zaXRpb25UeXBlKSB7XG4gIHZhciB0aW1lb3V0UHJvcE5hbWUgPSAndHJhbnNpdGlvbicgKyB0cmFuc2l0aW9uVHlwZSArICdUaW1lb3V0JztcbiAgdmFyIGVuYWJsZWRQcm9wTmFtZSA9ICd0cmFuc2l0aW9uJyArIHRyYW5zaXRpb25UeXBlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAvLyBJZiB0aGUgdHJhbnNpdGlvbiBpcyBlbmFibGVkXG4gICAgaWYgKHByb3BzW2VuYWJsZWRQcm9wTmFtZV0pIHtcbiAgICAgIC8vIElmIG5vIHRpbWVvdXQgZHVyYXRpb24gaXMgcHJvdmlkZWRcbiAgICAgIGlmIChwcm9wc1t0aW1lb3V0UHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcih0aW1lb3V0UHJvcE5hbWUgKyAnIHdhc25cXCd0IHN1cHBsaWVkIHRvIENTU1RyYW5zaXRpb25Hcm91cDogJyArICd0aGlzIGNhbiBjYXVzZSB1bnJlbGlhYmxlIGFuaW1hdGlvbnMgYW5kIHdvblxcJ3QgYmUgc3VwcG9ydGVkIGluICcgKyAnYSBmdXR1cmUgdmVyc2lvbiBvZiBSZWFjdC4gU2VlICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1hbmltYXRpb24tdHJhbnNpdGlvbi1ncm91cC10aW1lb3V0IGZvciBtb3JlICcgKyAnaW5mb3JtYXRpb24uJyk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGR1cmF0aW9uIGlzbid0IGEgbnVtYmVyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wc1t0aW1lb3V0UHJvcE5hbWVdICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRpbWVvdXRQcm9wTmFtZSArICcgbXVzdCBiZSBhIG51bWJlciAoaW4gbWlsbGlzZWNvbmRzKScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG52YXIgbmFtZVNoYXBlID0gZXhwb3J0cy5uYW1lU2hhcGUgPSBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xuICBlbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufSksIF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xuICBlbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGVudGVyQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgbGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBsZWF2ZUFjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFwcGVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFwcGVhckFjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcbn0pXSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL1Byb3BUeXBlcy5qc1xuLy8gbW9kdWxlIGlkID0gNjA4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzLCB3aXRoVGhlbWUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcclxuaW1wb3J0IFRyYW5zY3JpcHRDaGF0IGZyb20gJy4uL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQnO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuXHJcbn0pO1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgdHJhbnNjcmlwdEdyaWRJRDogJ3RyYW5zY3JpcHRpb24tZ3JpZCcsXHJcbiAgICB0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3M6ICcnLFxyXG4gICAgdHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lOiAnJyxcclxuICAgIHRyYW5zY3JpcHRDaGF0UHJvcHM6IHt9LFxyXG59O1xyXG5cclxuY2xhc3MgVHJhbnNjcmlwdEJveCBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICAgIGF1dG9TY3JvbGwsXHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzLFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3MsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q2hhdFByb3BzLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lLFxyXG4gICAgICAgICAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIHhzPXsxMn1cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3N9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17dHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lfT5DQUxMIFRSQU5TQ1JJUFQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8VHJhbnNjcmlwdENoYXRcclxuICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsXHJcbiAgICAgICAgICAgICAgICAgICAgey4uLnRyYW5zY3JpcHRDaGF0UHJvcHN9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KSkoVHJhbnNjcmlwdEJveCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvVHJhbnNjcmlwdEJveC5qcyIsIi8qKlxyXG4gKiBAYXV0aG9yIEJhbHJhaiBTaW5naCA8YmFscmFqc2luZ2guc0BoaWdocmFkaXVzLmNvbT5cclxuICovXHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IENoYXRCb3ggZnJvbSAnLi9DaGF0Qm94JztcclxuaW1wb3J0IHsgc3BsaXRUcmFuc2NyaXB0IH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcclxuaW1wb3J0IHsgVFJBTlNDUklQVF9ERUxJTUVURVJTIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgdHJhbnNjcmlwdFRleHRQYXJlbnQ6IHtcclxuICAgIHdoaXRlU3BhY2U6ICdwcmUtbGluZScsXHJcbiAgICBtYXJnaW5Ub3A6ICcyLjVyZW0nLFxyXG4gICAgaGVpZ2h0OiAnODUlJyxcclxuICAgIG92ZXJmbG93WTogJ2F1dG8nLFxyXG4gICAgcGFkZGluZzogJzAuNXJlbSAwLjVyZW0gMC41cmVtIDBweCcsXHJcbiAgICBmb250RmFtaWx5OiAnUm9ib3RvJyxcclxuICAgIG1hcmdpbkxlZnQ6ICcxcmVtJyxcclxuICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnXHJcbiAgfSxcclxufSk7XHJcblxyXG5jbGFzcyBUcmFuc2NyaXB0Q2hhdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICB0cmFuc2NyaXB0aW9uOiBbXVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcclxuICB9O1xyXG5cclxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgdHJhbnNjcmlwdGlvbjogXCJcIixcclxuICAgIGNhbGxlZFRvTmFtZUluaXRpYWxzOiBcIkNOXCIsIC8vQ04gPSBDdXN0b21lciBOYW1lXHJcbiAgICB1c2VySW5pdGlhbHM6IFwiTUVcIixcclxuICB9O1xyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KSB7XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYXV0b1Njcm9sbCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnQXV0byBTY3JvbGxpbmcnKTtcclxuICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XHJcbiAgICAvLyBsZXQgY3VycmVudCA9IHRoaXMubXlSZWYuY3VycmVudDtcclxuICAgIGNvbnN0IGNvbnRhaW5lcklEID0gdGhpcy5wcm9wcy50cmFuc2NyaXB0R3JpZElEO1xyXG4gICAgbGV0IHRyYW5zY3JpcHRpb25HcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySUQpO1xyXG4gICAgaWYgKHRyYW5zY3JpcHRpb25HcmlkKSB7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklEKS5zY3JvbGxUb3AgPSB0cmFuc2NyaXB0aW9uR3JpZC5zY3JvbGxIZWlnaHQ7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZ2VuZXJhdGVDaGF0Qm94ZXMgPSAodHJhbnNjcmlwdE1lc3NhZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAvL2NvbGxlY3RvciB0byB0aGUgcmlnaHRcclxuICAgIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhUUkFOU0NSSVBUX0RFTElNRVRFUlMuQ09MTEVDVE9SKSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxDaGF0Qm94XHJcbiAgICAgICAgICBrZXk9e2luZGV4fVxyXG4gICAgICAgICAgaXNDb2xsZWN0b3JcclxuICAgICAgICAgIGluaXRpYWxzPXt0aGlzLnByb3BzLnVzZXJJbml0aWFscyA/IHRoaXMucHJvcHMudXNlckluaXRpYWxzIDogXCJNRVwifVxyXG4gICAgICAgICAgbWVzc2FnZT17dHJhbnNjcmlwdE1lc3NhZ2UucmVwbGFjZShUUkFOU0NSSVBUX0RFTElNRVRFUlMuQ09MTEVDVE9SLCBcIlwiKX1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhUUkFOU0NSSVBUX0RFTElNRVRFUlMuQ1VTVE9NRVIpKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPENoYXRCb3hcclxuICAgICAgICAgIGtleT17aW5kZXh9XHJcbiAgICAgICAgICBpc0NvbGxlY3Rvcj17ZmFsc2V9XHJcbiAgICAgICAgICBpbml0aWFscz17dGhpcy5wcm9wcy5jYWxsZWRUb05hbWVJbml0aWFsc31cclxuICAgICAgICAgIG1lc3NhZ2U9e3RyYW5zY3JpcHRNZXNzYWdlLnJlcGxhY2UoVFJBTlNDUklQVF9ERUxJTUVURVJTLkNVU1RPTUVSLCBcIlwiKX1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhUUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTKSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxDaGF0Qm94XHJcbiAgICAgICAgICBrZXk9e2luZGV4fVxyXG4gICAgICAgICAgaXNEZXRlY3RpbmdcclxuICAgICAgICAgIGluaXRpYWxzPXtcIlwifVxyXG4gICAgICAgICAgbWVzc2FnZT17dHJhbnNjcmlwdE1lc3NhZ2UucmVwbGFjZShUUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTLCBcIlwiKX1cclxuICAgICAgICAvPlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzLCB0cmFuc2NyaXB0aW9uLCB0cmFuc2NyaXB0R3JpZElEIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgbGV0IGV4dHJhY3RlZFRyYW5zY3JpcHQgPSBzcGxpdFRyYW5zY3JpcHQodHJhbnNjcmlwdGlvbik7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGlkPXt0cmFuc2NyaXB0R3JpZElEfSBjbGFzc05hbWU9e2NsYXNzZXMudHJhbnNjcmlwdFRleHRQYXJlbnR9PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiB9fT5cclxuICAgICAgICAgIHtleHRyYWN0ZWRUcmFuc2NyaXB0Lm1hcCh0aGlzLmdlbmVyYXRlQ2hhdEJveGVzKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFRyYW5zY3JpcHRDaGF0KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQuanMiLCJpbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL3V0aWxzL3N0b3JlJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB7IGNoYW5nZVRyYW5zY3JpcHRpb24sIH0gZnJvbSAnLi4vYWN0aW9ucy9hY3Rpb25zJztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL2NvbXBvbmVudHMvQWN0aW9ucyc7XHJcbmltcG9ydCB7XHJcbiAgQm9yZGVyQ29sb3IsXHJcbiAgSGlnaGxpZ2h0T2ZmLFxyXG4gIENoZWNrQ2lyY2xlT3V0bGluZVxyXG59IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy8nO1xyXG5pbXBvcnQgeyBUeXBvZ3JhcGh5IH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0J1dHRvbic7XHJcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IEZpbmFsIGZyb20gJy4vRmluYWwnO1xyXG5pbXBvcnQgRHJhd2VyIGZyb20gJy4uL2NvbXBvbmVudHMvRHJhd2VyJztcclxuaW1wb3J0IEN1c3RvbUZvb3RlciBmcm9tICcuLi9jb21wb25lbnRzL0N1c3RvbUZvb3Rlcic7XHJcbmltcG9ydCBHcm93IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyb3cnO1xyXG5pbXBvcnQgRmFiIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ZhYic7XHJcbmltcG9ydCBDdXN0b21EaWFsb2cgZnJvbSAnLi4vY29tcG9uZW50cy9DdXN0b21EaWFsb2cnO1xyXG5pbXBvcnQgU25hY2tiYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU25hY2tiYXInO1xyXG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uQnV0dG9uJztcclxuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xvc2UnO1xyXG5pbXBvcnQgQWN0aW9uQ3JlYXRvckRpYWxvZyBmcm9tICcuLi9jb21wb25lbnRzL0FjdGlvbkNyZWF0b3JEaWFsb2cnO1xyXG5pbXBvcnQgVHJhbnNjcmlwdEJveCBmcm9tICcuLi9jb21wb25lbnRzL1RyYW5zY3JpcHRCb3gnO1xyXG5pbXBvcnQge1xyXG4gIGdldEluaXRpYWxzRnJvbU5hbWUsXHJcbiAgY3JlYXRlQWN0aW9uLFxyXG4gIGdlbmVyYXRlRmluYWxJbnZvaWNlTGlzdCxcclxuICBpc0FjdGlvbkludGVudFxyXG59IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XHJcbmltcG9ydCB7XHJcbiAgUkVWSUVXX1dBUk5JTkcsXHJcbiAgU05BQ0tfTUVTU0FHRVMsXHJcbiAgZW1wdHlGdW5jdGlvblxyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7XHJcbiAgZ2VuZXJhdGVOb3Rlc0FzU3RyaW5nLFxyXG4gIGNyZWF0ZVN1bW1hcnlDb21wbGV0aW9uTWFwLFxyXG4gIGFwcGVuZElkc1RvU3VtbWFyeSxcclxuICBjcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzLFxyXG4gIGNoZWNrU3VtbWFyeUNvbXBsZXRlTWFwXHJcbn0gZnJvbSAnLi4vdXRpbHMvaGVscGVycy9wb3N0Q2FsbEhlbHBlcidcclxuaW1wb3J0IHsgY29tbW9uU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1vblNlcnZpY2UnO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICBhcHBGcmFtZToge1xyXG4gICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcclxuICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxyXG4gICAgbWF4SGVpZ2h0OiAnMTAwdmgnLFxyXG4gICAgd2lkdGggOiAnMTAwJSdcclxuICB9LFxyXG4gIHJvb3Q6IHtcclxuICAgIG1hcmdpbjogJzEuMTJ2aCAxLjA0MXZ3IDBlbSAxLjA0MXZ3JyxcclxuICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLm1haW4sXHJcbiAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgfSxcclxuICB0cmFuc2NyaXB0Qm94OiB7XHJcbiAgICBoZWlnaHQ6ICc1OC45OHZoJyxcclxuICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbixcclxuICAgIG1hcmdpbkJvdHRvbTogJzEuODV2aCdcclxuICB9LFxyXG4gIHN1bW1hcnlCb3g6IHtcclxuICAgIGhlaWdodDogJzI1LjUwdmgnLFxyXG4gICAgcGFkZGluZzogJzAuOHJlbScsXHJcbiAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgfSxcclxuICB0cmFuc2NyaXB0VGl0bGU6IHtcclxuICAgIGZvbnRTaXplOiAnMS4xcmVtJyxcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIHBhZGRpbmdMZWZ0OiBcIi44cmVtXCIsXHJcbiAgICBwYWRkaW5nVG9wOiBcIi44cmVtXCIsXHJcbiAgICBvcGFjaXR5OiAwLjY1LFxyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICB9LFxyXG4gIG5vbkFjdGlvbk5vdGVzVGl0bGU6IHtcclxuICAgIGZvbnRTaXplOiBcIjFyZW1cIixcclxuICAgIGxpbmVIZWlnaHQ6IFwiMS41cmVtXCIsXHJcbiAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgb3BhY2l0eTogMC42NVxyXG4gIH0sXHJcbiAgY3VzdG9tZXJOYW1lOiB7XHJcbiAgICBmb250U2l6ZTogXCIxLjc4cmVtXCIsXHJcbiAgICBsaW5lSGVpZ2h0OiBcIjIuMXJlbVwiXHJcbiAgfSxcclxuICBjdXN0b21lckRldGFpbFRleHQ6IHtcclxuICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gIH0sXHJcbiAgY3VzdG9tZXJOdW1iZXI6IHtcclxuICAgIGZvbnRTaXplOiBcIi44cmVtXCIsXHJcbiAgfSxcclxuICBub25BY3Rpb25Ob3Rlc0VkaXRpbmc6IHtcclxuICAgIGJveFNoYWRvdzogXCIgMCA0cHggOHB4IDAgcmdiYSgwLDAsMCwwLjIpXCIsXHJcbiAgICBwYWRkaW5nOiBcIjAuOHJlbVwiLFxyXG4gICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjRkZGXCIsXHJcbiAgfSxcclxuICB0ZXN0OiB7XHJcbiAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgaGVpZ2h0OiAnMTB2aCcsXHJcbiAgICBvdmVyZmxvd1k6ICdhdXRvJyxcclxuICAgIHBhZGRpbmc6ICcwcHgnLFxyXG4gICAgZGlzcGxheTogJ2Jsb2NrICFpbXBvcnRhbnQnLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgd2hpdGVTcGFjZTogJ3ByZS1saW5lJyxcclxuICB9LFxyXG4gIGJ1dHRvbjoge1xyXG4gICAgZm9udFNpemU6IFwiMC41cmVtXCIsXHJcbiAgICB3aWR0aDogXCI3LjI5MjJ2d1wiLFxyXG4gICAgYm94U2hhZG93OiBcIm5vbmVcIixcclxuICAgIG1pbkhlaWdodDogXCI0LjQ0NDR2aFwiLFxyXG4gICAgcGFkZGluZzogMCxcclxuICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2QkZFNycsXHJcbiAgICB9XHJcbiAgfSxcclxuICBidXR0b25UaXRsZToge1xyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gIH0sXHJcbiAgaGVhZGluZzoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgZm9udFNpemU6ICcxLjA2N3JlbScsXHJcbiAgICBvcGFjaXR5OiAwLjUsXHJcbiAgICBwYWRkaW5nQm90dG9tOiAnMS45NHZoJ1xyXG4gIH0sXHJcbiAgbmV4dEN1c3RvbWVyVXJsOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgIGZvbnRTaXplOiAnMC44ODhyZW0nLFxyXG4gICAgaGVpZ2h0OiBcIjQuNDQ0NHZoXCIsXHJcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuICB9LFxyXG4gIGFjdGlvbkJ1dHRvbjoge1xyXG4gICAgYm94U2hhZG93OiAnbm9uZScsXHJcbiAgICBmb250U2l6ZTogJzEuMTExcmVtJyxcclxuICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2QkZFNycsXHJcbiAgICB9LFxyXG4gICAgaGVpZ2h0OiAnNi40OHZoJ1xyXG4gIH0sXHJcbiAgcG9zdENhbGxDYXJkR3JpZDoge1xyXG4gICAgbWFyZ2luVG9wOiAnMi4wMzd2aCdcclxuICB9LFxyXG4gIHBhZGRpbmdSaWdodE9uQ2FyZDoge1xyXG4gICAgcGFkZGluZ1JpZ2h0OiAnMS4wNDF2dydcclxuICB9LFxyXG59KTtcclxuXHJcbmNsYXNzIFBvc3RDYWxsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBzbmFja01lc3NhZ2VRdWV1ZSA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMucHJvcHMub25IYW5ndXAoKTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMubmV4dEN1c3RvbWVyVXJsLCBcIm5leHQgY3VzdG9tZXIgdXJsXCIpXHJcbiAgICB0aGlzLm5leHRDdXN0b21lVGV4dCA9IFwiR08gVE8gTkVYVCBDVVNUT01FUlwiXHJcbiAgICB0aGlzLm5leHRDdXN0b21lclVybCA9IHRoaXMucHJvcHMubmV4dEN1c3RvbWVyVXJsXHJcbiAgICBpZiAoIXRoaXMubmV4dEN1c3RvbWVyVXJsKSB7XHJcbiAgICAgIHRoaXMubmV4dEN1c3RvbWVyVXJsID0gXCIvXCJcclxuICAgICAgdGhpcy5uZXh0Q3VzdG9tZVRleHQgPSBcIkdPIEJBQ0sgVE8gSE9NRSBQQUdFXCJcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMudG9DYWxsQ3VzdG9tZXJzLCBcInRvIGNhbGwgY3VzdG9tZXJzXCIpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGRhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgIGlzRWRpdGluZ09uOiBmYWxzZSxcclxuICAgICAgc3VtbWFyeTogJycsXHJcbiAgICAgIHRyYW5zY3JpcHRpb246IHRoaXMucHJvcHMuaW5pdGlhbFRyYW5zY3JpcHRpb24sXHJcbiAgICAgIG9wZW5Qcm9ncmVzc0JhcjogZmFsc2UsXHJcbiAgICAgIGRvT3Blbk5ld0FjdGlvbkRpYWxvZzogZmFsc2UsXHJcbiAgICAgIGlzQW55QWN0aW9uQ29tcGxldGVkOiBmYWxzZSxcclxuICAgICAgZG9SZXZpZXdEaWFsb2dPcGVuOiBmYWxzZSxcclxuICAgICAgbm90ZXM6IFtdLFxyXG4gICAgICBpc1Bvc3RDYWxsRG9uZTogZmFsc2UsXHJcbiAgICAgIHN1bW1hcnlDb21wbGV0aW9uTWFwOiBuZXcgTWFwKCksXHJcbiAgICAgIHByZXZOb25BY3Rpb25Ob3RlczogJycsXHJcbiAgICAgIG5vbkFjdGlvbk5vdGVzOiAnJyxcclxuICAgICAgc25hY2tNZXNzYWdlOiB7fSxcclxuICAgICAgc25hY2tPcGVuOiBmYWxzZSxcclxuICAgICAgZm9sbG93dXBUZXh0TGlzdDogW10sXHJcbiAgICAgIHJlYXNvbkNvZGVMaXN0OiBbXSxcclxuICAgICAgbm9uQWN0aW9uSW5jbHVkZWQ6IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgY29tbW9uU2VydmljZVxyXG4gICAgICAuZ2V0RGlzcHV0ZUNvZGVzKClcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZWFzb25Db2RlTGlzdDogcmVzcG9uc2UgPyByZXNwb25zZSA6IFtdIH0pXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gbG9hZCBkaXNwdXRlIGNvZGVzXCIsIGVycm9yKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgY29tbW9uU2VydmljZVxyXG4gICAgICAuZ2V0VGFza1R5cGVzKClcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmb2xsb3d1cFRleHRMaXN0OiByZXNwb25zZSA/IHJlc3BvbnNlIDogW10gfSlcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBsb2FkIEZvbGxvdyB1cCB0ZXh0IGxpc3RcIiwgZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUFjdGlvbiA9IGlkID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiSURcIiwgaWQsIHN1bW1hcnkpO1xyXG4gICAgbGV0IHN1bW1hcnkgPSB0aGlzLnN0YXRlLnN1bW1hcnkuZmlsdGVyKGVsID0+IGVsLmlkICE9IGlkKTtcclxuICAgIGxldCBtYXAgPSB0aGlzLnN0YXRlLnN1bW1hcnlDb21wbGV0aW9uTWFwO1xyXG5cclxuICAgIG1hcC5kZWxldGUoaWQpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKG1hcCk7XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHN1bW1hcnksIHN1bW1hcnlDb21wbGV0aW9uTWFwOiBtYXAsIH0pO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIGxldCBuZXh0U3VtbWFyeSA9IG5leHRQcm9wcy50cmFuc2NyaXB0aW9uLnN1bW1hcnk7XHJcbiAgICBsZXQgbmV4dFRyYW5zY3JpcHRpb24gPSBuZXh0UHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xyXG4gICAgbGV0IGN1cnJlbnRUcmFuc2NyaXB0aW9uID0gdGhpcy5wcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XHJcbiAgICBjb25zb2xlLmxvZygnU3VtbWFyeSByZWNlaXZlZCBpbiBQb3N0IENhbGwnLCBKU09OLnN0cmluZ2lmeShuZXh0U3VtbWFyeSkpO1xyXG5cclxuICAgIGlmICgobmV4dFRyYW5zY3JpcHRpb24pICYmIChuZXh0VHJhbnNjcmlwdGlvbiAhPT0gY3VycmVudFRyYW5zY3JpcHRpb24pKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyB0cmFuc2NyaXB0aW9uJywgbmV4dFRyYW5zY3JpcHRpb24pXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB0cmFuc2NyaXB0aW9uIDogbmV4dFRyYW5zY3JpcHRpb24gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKEpTT04uc3RyaW5naWZ5KG5leHRTdW1tYXJ5KSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZS5zdW1tYXJ5KSkge1xyXG4gICAgICB0aGlzLmluaXRpYWxpemVTdW1tYXJ5V2l0aERlZmF1bHRzKG5leHRTdW1tYXJ5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1hcmtTdW1tYXJ5QXNEb25lID0gaWQgPT4ge1xyXG4gICAgbGV0IGRvbmVNYXAgPSB0aGlzLnN0YXRlLnN1bW1hcnlDb21wbGV0aW9uTWFwO1xyXG4gICAgbGV0IHByZXZTdW1tYXJ5ID0gdGhpcy5zdGF0ZS5zdW1tYXJ5O1xyXG5cclxuICAgIGZvciAobGV0IGkgaW4gcHJldlN1bW1hcnkpIHtcclxuICAgICAgaWYgKHByZXZTdW1tYXJ5W2ldLmlkID09IGlkKSB7XHJcbiAgICAgICAgcHJldlN1bW1hcnlbaV0uc2F2ZSA9IHRydWU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogcHJldlN1bW1hcnkgfSk7XHJcbiAgICBkb25lTWFwLnNldChpZCwgdHJ1ZSk7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeUNvbXBsZXRpb25NYXA6IGRvbmVNYXAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVBY3Rpb25JdGVtQ2hlY2sgPSBnZW5lcmF0ZWRTdW1tYXJ5ID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBub3RlczogWy4uLnRoaXMuc3RhdGUubm90ZXMsIGdlbmVyYXRlZFN1bW1hcnldLFxyXG4gICAgICBpc0FueUFjdGlvbkNvbXBsZXRlZDogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzYXZlUG9zdENhbGxUaGluZ3MgPSAoKSA9PiB7XHJcbiAgICBpZiAoY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXAodGhpcy5zdGF0ZS5zdW1tYXJ5Q29tcGxldGlvbk1hcCkpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRvUmV2aWV3RGlhbG9nT3BlbjogdHJ1ZSB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzICYmIHRoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXMudHJpbSgpKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIG5vdGVzOiBbLi4udGhpcy5zdGF0ZS5ub3RlcywgdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlcy50cmltKCldLFxyXG4gICAgICAgIG5vbkFjdGlvbkluY2x1ZGVkOiB0cnVlXHJcbiAgICAgIH0sICgpID0+IHtcclxuICAgICAgICB0aGlzLnNhdmVDYWxsTG9nKCk7XHJcbiAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2F2ZUNhbGxMb2coKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNhdmVOb3Rlc0NoYW5nZXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxyXG4gICAgICBwcmV2Tm9uQWN0aW9uTm90ZXM6XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlc1xyXG4gICAgfSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmJsdXJOb25BY3Rpb25Ob3Rlc0JveCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkaXNjYXJkTm90ZXNDaGFuZ2VzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzRWRpdGluZ09uOiBmYWxzZSxcclxuICAgICAgbm9uQWN0aW9uTm90ZXM6XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5wcmV2Tm9uQWN0aW9uTm90ZXNcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgdGhpcy5ibHVyTm9uQWN0aW9uTm90ZXNCb3goKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb3BlblNuYWNrYmFyID0gbWVzc2FnZVR5cGUgPT4ge1xyXG4gICAgdGhpcy5zbmFja01lc3NhZ2VRdWV1ZS5wdXNoKHtcclxuICAgICAgbWVzc2FnZTogU05BQ0tfTUVTU0FHRVNbbWVzc2FnZVR5cGVdLFxyXG4gICAgICBrZXk6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuc25hY2tPcGVuKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja09wZW46IGZhbHNlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wcm9jZXNzUXVldWUoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcm9jZXNzUXVldWUgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zbmFja01lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHNuYWNrTWVzc2FnZTogdGhpcy5zbmFja01lc3NhZ2VRdWV1ZS5zaGlmdCgpLFxyXG4gICAgICAgIHNuYWNrT3BlbjogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlTm9uYWN0aW9uTm90ZXNDaGFuZ2UgPSBlID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBub25BY3Rpb25Ob3RlczogZS50YXJnZXQudmFsdWUgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVNuYWNrYmFyID0gKGV2ZW50LCByZWFzb24pID0+IHtcclxuICAgIGlmIChyZWFzb24gPT09ICdjbGlja2F3YXknKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja09wZW46IGZhbHNlIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZVNuYWNrYmFyRXhpdCA9ICgpID0+IHtcclxuICAgIHRoaXMucHJvY2Vzc1F1ZXVlKCk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlQWN0aW9uSXRlbUNsaWNrID0gYWN0aW9uVHlwZSA9PiB7XHJcbiAgICBsZXQgbmV3QWN0aW9uID0gY3JlYXRlQWN0aW9uKGFjdGlvblR5cGUpO1xyXG4gICAgLy9BZGQgdGhlIG5ld2x5IGNyZWF0ZWQgYWN0aW9uIHRvIHN1bW1hcnkgYXJyYXlcclxuICAgIC8vaWYgbmV3QWN0aW9uIGlzIG51bGwgc2tpcCBhZGRpbmcgaXRcclxuICAgIGNvbnNvbGUubG9nKCdBY3Rpb24gY3JlYXRlZCcsIG5ld0FjdGlvbik7XHJcbiAgICBpZiAobmV3QWN0aW9uKSB7XHJcbiAgICAgIGNvbnN0IHN1bW1hcnlMZW5ndGggPSB0aGlzLnN0YXRlLnN1bW1hcnkubGVuZ3RoO1xyXG5cclxuICAgICAgaWYgKHN1bW1hcnlMZW5ndGggPiAwKSB7XHJcbiAgICAgICAgbmV3QWN0aW9uWydpZCddID0gdGhpcy5zdGF0ZS5zdW1tYXJ5W3N1bW1hcnlMZW5ndGggLSAxXVsnaWQnXSArIDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV3QWN0aW9uWydpZCddID0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3QWN0aW9uWydzYXZlJ10gPSBmYWxzZTtcclxuICAgICAgbmV3QWN0aW9uWydjcmVhdGVkJ10gPSB0cnVlO1xyXG5cclxuICAgICAgbGV0IHN1bW1hcnlDb21wbGV0aW9uTWFwID0gdGhpcy5zdGF0ZS5zdW1tYXJ5Q29tcGxldGlvbk1hcDtcclxuICAgICAgc3VtbWFyeUNvbXBsZXRpb25NYXAuc2V0KG5ld0FjdGlvbi5pZCwgZmFsc2UpO1xyXG5cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgc3VtbWFyeTogWy4uLnRoaXMuc3RhdGUuc3VtbWFyeSwgbmV3QWN0aW9uXSxcclxuICAgICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcCxcclxuICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rpb24tc3VtbWFyeS1ncmlkLWNvbnRhaW5lcicpO1xyXG4gICAgICAgIGlmIChlbCkge1xyXG4gICAgICAgICAgZWwuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jbG9zZUFjdGlvbkNyZWF0b3JEaWFsb2coKTtcclxuICB9XHJcblxyXG4gIGNsb3NlUmV2aWV3V2FybmluZ0RpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBkb1Jldmlld0RpYWxvZ09wZW46IGZhbHNlIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQWN0aW9uQ3JlYXRpb24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgZG9PcGVuTmV3QWN0aW9uRGlhbG9nOiB0cnVlIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VBY3Rpb25DcmVhdG9yRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRvT3Blbk5ld0FjdGlvbkRpYWxvZzogZmFsc2UgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTdW1tYXJ5RnJvbUNoaWxkID0gKG5ld1N1bW1hcnksIGlkKSA9PiB7XHJcbiAgICBsZXQgcHJldlN1bW1hcnkgPSB0aGlzLnN0YXRlLnN1bW1hcnk7XHJcblxyXG4gICAgZm9yIChsZXQgaSBpbiBwcmV2U3VtbWFyeSkge1xyXG4gICAgICBpZiAocHJldlN1bW1hcnlbaV0uaWQgPT0gaWQpIHtcclxuICAgICAgICBwcmV2U3VtbWFyeVtpXS5zdW1tYXJ5ID0gbmV3U3VtbWFyeTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBwcmV2U3VtbWFyeSB9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUludm9pY2VzID0gKHVwZGF0ZWRJbnZvaWNlcywgaWQpID0+IHtcclxuICAgIGxldCBwcmV2U3VtbWFyeSA9IE9iamVjdC5jcmVhdGUodGhpcy5zdGF0ZS5zdW1tYXJ5KTtcclxuICAgIGxldCB1cGRhdGVkSW52b2ljZUxpc3QgPSBbXTtcclxuICAgIGZvciAobGV0IGkgaW4gcHJldlN1bW1hcnkpIHtcclxuICAgICAgaWYgKHByZXZTdW1tYXJ5W2ldLmlkID09IGlkKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiB1cGRhdGVkSW52b2ljZXMpIHtcclxuICAgICAgICAgIHVwZGF0ZWRJbnZvaWNlTGlzdC5wdXNoKHVwZGF0ZWRJbnZvaWNlc1tpXS5kb2N1bWVudE51bWJlcilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByZXZTdW1tYXJ5W2ldLmVudGl0aWVzLmludm9pY2UgPSB1cGRhdGVkSW52b2ljZUxpc3Q7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogcHJldlN1bW1hcnkgfSk7XHJcbiAgfVxyXG5cclxuICBlZGl0Tm9uQWN0aW9uTm90ZXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNFZGl0aW5nT246IHRydWUgfSwgKCkgPT4ge1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgdGV4dEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vbi1hY3Rpb24tbm90ZXMtZWRpdC1maWVsZCcpO1xyXG4gICAgICAgIGlmICh0ZXh0RmllbGQpIHtcclxuICAgICAgICAgIHRleHRGaWVsZC5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgNTAwKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBibHVyTm9uQWN0aW9uTm90ZXNCb3ggPSAoKSA9PiB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgbGV0IHRleHRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9uLWFjdGlvbi1ub3Rlcy1lZGl0LWZpZWxkXCIpO1xyXG4gICAgICBpZiAodGV4dEZpZWxkKSB7XHJcbiAgICAgICAgdGV4dEZpZWxkLmJsdXIoKTtcclxuICAgICAgfVxyXG4gICAgfSwgNTAwKVxyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZVN1bW1hcnlXaXRoRGVmYXVsdHMgPSAoc3VtbWFyeSkgPT4ge1xyXG5cclxuICAgIGlmIChzdW1tYXJ5ID09PSAnW10nKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBbXSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBzdW1tYXJ5V2l0aElkcyA9IGFwcGVuZElkc1RvU3VtbWFyeShzdW1tYXJ5KTtcclxuICAgICAgbGV0IHN1bW1hcnlDb21wbGV0aW9uTWFwID0gY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXAoc3VtbWFyeSk7XHJcbiAgICAgIGxldCBub25BY3Rpb25TdW1tYXJ5ID0gY3JlYXRlSW5pdGlhbE5vbkFjdGlvblN1bW1hcnlOb3RlcyhzdW1tYXJ5LCB0aGlzLnByb3BzLnZvaWNlbWFpbE1lc3NhZ2UpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHN1bW1hcnk6IHN1bW1hcnlXaXRoSWRzLFxyXG4gICAgICAgICAgc3VtbWFyeUNvbXBsZXRpb25NYXAsXHJcbiAgICAgICAgICBub25BY3Rpb25Ob3Rlczogbm9uQWN0aW9uU3VtbWFyeSxcclxuICAgICAgICAgIHByZXZOb25BY3Rpb25Ob3Rlczogbm9uQWN0aW9uU3VtbWFyeSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzYXZlQ2FsbExvZyA9ICgpID0+IHtcclxuICAgIGNvbnN0IGNvbWJpbmVkTm90ZXMgPSBnZW5lcmF0ZU5vdGVzQXNTdHJpbmcodGhpcy5zdGF0ZS5ub3Rlcyk7XHJcbiAgICBjb25zdCBjYWxsTG9nU3RhdGUgPSB0aGlzLnByb3BzLmNhbGxMb2dTdGF0ZTtcclxuICAgIGNvbnN0IGN1c3RvbWVyID0gdGhpcy5wcm9wcy5jdXN0b21lcjtcclxuICAgIGNvbnN0IHJlcVBhcmFtcyA9IHtcclxuICAgICAgaWQ6IGNhbGxMb2dTdGF0ZS5pZCxcclxuICAgICAgY2FsbFN1bW1hcnk6IHRoaXMucHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uLFxyXG4gICAgICBkdXJhdGlvbjogdGhpcy5wcm9wcy5jYWxsRHVyYXRpb24sXHJcbiAgICAgIG5vdGU6IHtcclxuICAgICAgICBjdXN0b21lcklkOiBjdXN0b21lci5pZCxcclxuICAgICAgICBub3RlQ29udGVudDogY29tYmluZWROb3RlcyxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXhpb3MucHV0KGAke2NvbmZpZy5hcGlVcmx9L2NhbGxgLCByZXFQYXJhbXMpXHJcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlblByb2dyZXNzQmFyOiBmYWxzZSwgaXNQb3N0Q2FsbERvbmU6IHRydWUgfSk7XHJcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goY2hhbmdlVHJhbnNjcmlwdGlvbih7IHRyYW5zY3JpcHRpb246IFwiXCIgfSkpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlblByb2dyZXNzQmFyOiBmYWxzZSwgaXNQb3N0Q2FsbERvbmU6IHRydWUgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG5cclxuICBnZW5TdW1tYXJ5QWN0aW9uQ2FyZHMgPSAoc3VtbWFyeSkgPT4ge1xyXG5cclxuICAgIGxldCBpbnRlbnQgPSBzdW1tYXJ5LmludGVudDtcclxuXHJcbiAgICBpZiAoIWlzQWN0aW9uSW50ZW50KGludGVudCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxHcm93XHJcbiAgICAgICAgaW49e3RydWV9XHJcbiAgICAgICAga2V5PXtzdW1tYXJ5LmlkfVxyXG4gICAgICA+XHJcbiAgICAgICAgPEFjdGlvbnNcclxuICAgICAgICAgIG9uRGVsZXRlPXsoaWQpID0+IHRoaXMuZGVsZXRlQWN0aW9uKGlkKX1cclxuICAgICAgICAgIG9uQWN0aW9uSXRlbUNvbmZpcm09e3RoaXMudXBkYXRlQWN0aW9uSXRlbUNoZWNrfVxyXG4gICAgICAgICAgc3VtbWFyeT17c3VtbWFyeX1cclxuICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiwgbWFyZ2luQm90dG9tOiBcIjAuN3JlbVwiIH19XHJcbiAgICAgICAgICBpbnRlbnRUeXBlPXtpbnRlbnR9XHJcbiAgICAgICAgICBhbGxJbnZvaWNlTGlzdD17dGhpcy5wcm9wcy5pbnZvaWNlc31cclxuICAgICAgICAgIGN1c3RvbWVyPXt0aGlzLnByb3BzLmN1c3RvbWVyfVxyXG4gICAgICAgICAgY2FsbGVkVG9OYW1lPXt0aGlzLnByb3BzLmNhbGxlZFRvTmFtZX1cclxuICAgICAgICAgIGNhbGxlZFRvTnVtYmVyPXt0aGlzLnByb3BzLmNhbGxlZFRvTnVtYmVyfVxyXG4gICAgICAgICAgY29tcGxldGVkPXsoKSA9PiB0aGlzLm1hcmtTdW1tYXJ5QXNEb25lKHN1bW1hcnkuaWQpfVxyXG4gICAgICAgICAgYnVja2V0TmFtZXM9e3RoaXMucHJvcHMuYnVja2V0TmFtZXN9XHJcbiAgICAgICAgICBjb250YWN0TG9nPXt0aGlzLnByb3BzLmNhbGxMb2dTdGF0ZX1cclxuICAgICAgICAgIGNhbGxTdGF0ZT17dGhpcy5wcm9wcy5jYWxsU3RhdGV9XHJcbiAgICAgICAgICBmb2xsb3d1cFRleHRMaXN0PXt0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dExpc3R9XHJcbiAgICAgICAgICByZWFzb25Db2RlTGlzdD17dGhpcy5zdGF0ZS5yZWFzb25Db2RlTGlzdH1cclxuICAgICAgICAgIG9wZW5TbmFja2Jhck9uQWN0aW9uPXsobWVzc2FnZVR5cGUpID0+IHRoaXMub3BlblNuYWNrYmFyKG1lc3NhZ2VUeXBlKX1cclxuICAgICAgICAgIHVwZGF0ZUludm9pY2VzSW5QYXJlbnQ9eyh1cGRhdGVkSW52b2ljZXMpID0+IHRoaXMudXBkYXRlSW52b2ljZXModXBkYXRlZEludm9pY2VzLCBzdW1tYXJ5LmlkKX1cclxuICAgICAgICAgIHVwZGF0ZVN1bW1hcnlJblBhcmVudD17KHVwZGF0ZWRTdW1tYXJ5KSA9PiB7IHRoaXMudXBkYXRlU3VtbWFyeUZyb21DaGlsZCh1cGRhdGVkU3VtbWFyeSwgc3VtbWFyeS5pZCkgfX0gLz5cclxuICAgICAgPC9Hcm93PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IHsgY3VzdG9tZXIgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBsZXQgdXNlciA9IHRoaXMucHJvcHMudXNlcjtcclxuICAgIGxldCBjYWxsZWRUb05hbWUgPSB0aGlzLnByb3BzLmNhbGxlZFRvTmFtZTtcclxuICAgIGxldCBjYWxsZWRUb05hbWVJbml0aWFscyA9IGdldEluaXRpYWxzRnJvbU5hbWUoY2FsbGVkVG9OYW1lKTtcclxuICAgIGxldCB1c2VySW5pdGlhbHMgPSBnZXRJbml0aWFsc0Zyb21OYW1lKHVzZXIubmFtZSk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuYXBwRnJhbWV9PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fT5cclxuICAgICAgICAgIDxHcmlkIGNvbnRhaW5lcj5cclxuICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgICAgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgYWxpZ25JdGVtcz1cImZsZXgtc3RhcnRcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIHhzPXsxMH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcclxuICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnbGVmdCdcclxuICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5jdXN0b21lck5hbWUsIGNsYXNzZXMuY3VzdG9tZXJEZXRhaWxUZXh0KX0+e2N1c3RvbWVyLmN1c3RvbWVyTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmN1c3RvbWVyTnVtYmVyLCBjbGFzc2VzLmN1c3RvbWVyRGV0YWlsVGV4dCl9PntjdXN0b21lci5jdXN0b21lck51bWJlcn08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgeHM9ezJ9XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5PVwiZmxleC1lbmRcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luTGVmdDogJy04LjMzdncnIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBtYXJnaW46ICcwcHggMCAwIDAnLFxyXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8R3JpZFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBhbGlnbj1cInJpZ2h0XCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAncmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzQuNDQ0dmgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RmFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZXh0ZW5kZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zYXZlUG9zdENhbGxUaGluZ3N9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPSdBZGQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuc3VtbWFyeSA/IGZhbHNlIDogdHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5idXR0b259PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmJ1dHRvblRpdGxlfT5Eb25lPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRmFiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgdGV4dERlY29yYXRpb246ICdub25lJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2VtcHR5RnVuY3Rpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG89e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiB0aGlzLm5leHRDdXN0b21lclVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvQ2FsbEN1c3RvbWVyczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMubmV4dEN1c3RvbWVyVXJsfT57dGhpcy5uZXh0Q3VzdG9tZVRleHR9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIChcclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5wb3N0Q2FsbENhcmRHcmlkfT5cclxuICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17OH0gY2xhc3NOYW1lPXtjbGFzc2VzLnBhZGRpbmdSaWdodE9uQ2FyZH0gPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuaGVhZGluZ30+U1VHR0VTVEVEIEFDVElPTlM8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgIHhzPXsxMn1cclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICc3NC43dmgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIGlkPSdhY3Rpb24tc3VtbWFyeS1ncmlkLWNvbnRhaW5lcidcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdW1tYXJ5Lm1hcChzdW1tYXJ5ID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuU3VtbWFyeUFjdGlvbkNhcmRzKHN1bW1hcnkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0bHllPXt7IGhlaWdodDogJzEwMCUnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnNzB2aCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6ICcxLjNyZW0nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdlbmVyYXRpbmcgY2FsbCBzdW1tYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb25CdXR0b259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyB0aGlzLmhhbmRsZUFjdGlvbkNyZWF0aW9uKCkgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxLjA2N3JlbScgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIENSRUFURSBORVcgQUNUSU9OXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgICAgICBpdGVtIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIHhzPXs0fVxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM9XCJjZW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogJzg2LjI5dmgnIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8VHJhbnNjcmlwdEJveFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnRyYW5zY3JpcHRCb3h9XHJcbiAgICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsPXtCb29sZWFuKGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZT17Y2xhc3Nlcy50cmFuc2NyaXB0VGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q2hhdFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IHRoaXMuc3RhdGUudHJhbnNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkVG9OYW1lSW5pdGlhbHM6IGNhbGxlZFRvTmFtZUluaXRpYWxzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5pdGlhbHM6ICdNRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRHcmlkSUQ6ICdwb3N0LWNhbGwtdHJhbnNjcmlwdGlvbi1ncmlkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICB4cz17MTJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeUJveH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJSdcclxuICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5ub25BY3Rpb25Ob3Rlc1RpdGxlfT5OT04gQUNUSU9OIE5PVEVTPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiAhdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3JkZXJDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM1REFBRTAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQ6ICdyaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5lZGl0Tm9uQWN0aW9uTm90ZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiB0aGlzLnN0YXRlLmlzRWRpdGluZ09uICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmbG9hdDogJ3JpZ2h0JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0T2ZmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAnMC40cmVtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjRkY4ODg4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzAgMS4zcmVtIDAgMC44cmVtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmRpc2NhcmROb3Rlc0NoYW5nZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM1RkMzMkMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2F2ZU5vdGVzQ2hhbmdlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J25vbi1hY3Rpb24tbm90ZXMtZWRpdC1maWVsZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHsgdGhpcy5oYW5kbGVOb25hY3Rpb25Ob3Rlc0NoYW5nZShlKSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNFZGl0aW5nT24gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5ub25BY3Rpb25Ob3Rlc0VkaXRpbmcgOiBjbGFzc2VzLm5vbkFjdGlvbk5vdGVzTm90RWRpdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbj1cIm5vcm1hbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogQm9vbGVhbighdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogQm9vbGVhbih0cnVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3RseWU9e3sgaGVpZ2h0OiAnMTAwJScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzIwdmgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjdWxhclByb2dyZXNzIHN0eWxlPXt7IGNvbG9yOiAnI2VlZWVlZScgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZWVlZWVlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogJzEuM3JlbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdhaXRpbmcgZm9yIHN1bW1hcnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNQb3N0Q2FsbERvbmUgJiYgKFxyXG4gICAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgICAgaXRlbVxyXG4gICAgICAgICAgICAgICAgICBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgeHM9ezEyfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMucG9zdENhbGxDYXJkR3JpZH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPEZpbmFsXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2ljZUxpc3Q9e2dlbmVyYXRlRmluYWxJbnZvaWNlTGlzdCh0aGlzLnN0YXRlLnN1bW1hcnksIHRoaXMucHJvcHMuaW52b2ljZXMpfVxyXG4gICAgICAgICAgICAgICAgICAgIHN1bW1hcnlOb3Rlcz17dGhpcy5zdGF0ZS5ub3Rlc31cclxuICAgICAgICAgICAgICAgICAgICBub25BY3Rpb25JbmNsdWRlZD17dGhpcy5zdGF0ZS5ub25BY3Rpb25JbmNsdWRlZH1cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Q3VzdG9tZXJVcmw9e3RoaXMucHJvcHMubmV4dEN1c3RvbWVyVXJsfVxyXG4gICAgICAgICAgICAgICAgICAgIHRvQ2FsbEN1c3RvbWVycz17dGhpcy5wcm9wcy50b0NhbGxDdXN0b21lcnN9XHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI9e3RoaXMucHJvcHMuY3VzdG9tZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdG9yPXt0aGlzLnByb3BzLmNvbGxlY3Rvcn1cclxuICAgICAgICAgICAgICAgICAgICBjb250YWN0SW5kZXg9e3RoaXMucHJvcHMuY29udGFjdEluZGV4fVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDwvRmluYWw+XHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDxBY3Rpb25DcmVhdG9yRGlhbG9nXHJcbiAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5kb09wZW5OZXdBY3Rpb25EaWFsb2d9XHJcbiAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvbkNyZWF0b3JEaWFsb2d9XHJcbiAgICAgICAgICAgICAgb25BY3Rpb25JdGVtQ2xpY2s9eyhhY3Rpb25UeXBlKSA9PiB0aGlzLmhhbmRsZUFjdGlvbkl0ZW1DbGljayhhY3Rpb25UeXBlKX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPEN1c3RvbURpYWxvZ1xyXG4gICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuZG9SZXZpZXdEaWFsb2dPcGVufVxyXG4gICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VSZXZpZXdXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgIHRpdGxlPXtSRVZJRVdfV0FSTklOR31cclxuICAgICAgICAgICAgICBhY3Rpb25zPXtbXHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VSZXZpZXdXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8U25hY2tiYXJcclxuICAgICAgICAgICAgICBhbmNob3JPcmlnaW49e3tcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBcImJvdHRvbVwiLFxyXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJsZWZ0XCIsXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBrZXk9e3RoaXMuc3RhdGUuc25hY2tNZXNzYWdlLmtleX1cclxuICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLnNuYWNrT3Blbn1cclxuICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uPXsyMDAwfVxyXG4gICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgICAgICBDb250ZW50UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogJ21lc3NhZ2UtaWQnLFxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgbWVzc2FnZT17PHNwYW4gaWQ9e3RoaXMuc3RhdGUuc25hY2tNZXNzYWdlLmtleX0+e3RoaXMuc3RhdGUuc25hY2tNZXNzYWdlLm1lc3NhZ2V9PC9zcGFuPn1cclxuICAgICAgICAgICAgICBhY3Rpb249e1tcclxuICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIGtleT1cImNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD0nQ2xvc2UnXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yPVwiaW5oZXJpdFwiXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jbG9zZX1cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICBvbkV4aXRlZD17dGhpcy5oYW5kbGVTbmFja2JhckV4aXR9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24gLz5cclxuICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj4sXHJcbiAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4gKHtcclxuICB1c2VyOiBzdGF0ZS5wZXJzb25hbERldGFpbHMsXHJcbiAgY2FsbFN0YXRlOiBzdGF0ZS5jYWxsU3RhdGUsXHJcbiAgdHJhbnNjcmlwdGlvbjogc3RhdGUudHJhbnNjcmlwdGlvbixcclxuICBjYWxsTG9nU3RhdGU6IHN0YXRlLmNhbGxMb2dTdGF0ZSxcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXHJcbiAgbWFwU3RhdGVUb1Byb3BzLFxyXG4pKHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShQb3N0Q2FsbCkpXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92aWV3cy9Qb3N0Q2FsbC5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgUDJQIGZyb20gJy4uL2NvbXBvbmVudHMvUDJQJztcclxuaW1wb3J0IERpc3B1dGUgZnJvbSAnLi4vY29tcG9uZW50cy9EaXNwdXRlJztcclxuaW1wb3J0IEZvbGxvd3VwIGZyb20gJy4uL2NvbXBvbmVudHMvRm9sbG93dXAnO1xyXG5pbXBvcnQgQWN0aW9uRGV0YWlscyBmcm9tICcuLi9jb21wb25lbnRzL0FjdGlvbkRldGFpbHMnO1xyXG5pbXBvcnQgRXhwYW5zaW9uUGFuZWwgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRXhwYW5zaW9uUGFuZWwnO1xyXG5pbXBvcnQgRXhwYW5zaW9uUGFuZWxTdW1tYXJ5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0V4cGFuc2lvblBhbmVsU3VtbWFyeSc7XHJcbmltcG9ydCBFeHBhbnNpb25QYW5lbERldGFpbHMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRXhwYW5zaW9uUGFuZWxEZXRhaWxzJztcclxuaW1wb3J0IEV4cGFuZE1vcmVJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FeHBhbmRNb3JlJztcclxuaW1wb3J0IHsgSU5URU5UX1RZUEVTIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgICBwYW5lbDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICB9LFxyXG4gICAgZXhwYW5kZWRCYWNrZ3JvdW5kOiB7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzOTU4NkZcIixcclxuICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMHB4IDNweCA2cHggcmdiYSgwLCAwLCAwLCAwLjIpKVwiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiMCAhaW1wb3J0YW50XCIsXHJcbiAgICB9LFxyXG4gICAgcGFuZWxDb21tb246IHtcclxuICAgICAgICBwYWRkaW5nOiBcIjAgIWltcG9ydGFudFwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI1cHhcIixcclxuICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMHB4IDNweCA2cHggcmdiYSgwLCAwLCAwLCAwLjIpKVwiXHJcbiAgICB9LFxyXG4gICAgZXhwYW5kSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgZXhwYW5zaW9uUGFuZWxSb290OiB7XHJcbiAgICAgICAgYm94U2hhZG93OiBcIm5vbmUgIWltcG9ydGFudFwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHggIWltcG9ydGFudFwiLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjgzdmhcIlxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNsYXNzIEFjdGlvbnMgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIGxldCBpbnZvaWNlcyA9IHRoaXMucHJvcHMuc3VtbWFyeS5lbnRpdGllc1tcImludm9pY2VcIl07XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbEludm9pY2VEYXRhID0gdGhpcy5nZW5Jbml0aWFsSW52b2ljZURhdGEoaW52b2ljZXMpO1xyXG4gICAgICAgIGNvbnN0IHsgY29ycmVjdEludm9pY2VzLCBjb3JyZWN0SW52b2ljZXNNYXAsIGluY29ycmVjdEZsYWcgfSA9IGluaXRpYWxJbnZvaWNlRGF0YTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBhbW91bnQ6IDAsXHJcbiAgICAgICAgICAgIGludm9pY2VzLFxyXG4gICAgICAgICAgICBzdW1tYXJ5OiB0aGlzLnByb3BzLnN1bW1hcnksXHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcyxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwLFxyXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IDAsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZUV4cGFuZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXhwYW5kZWQ6ICF0aGlzLnN0YXRlLmV4cGFuZGVkIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZ2VuSW5pdGlhbEludm9pY2VEYXRhID0gKGludm9pY2VzKSA9PiB7XHJcbiAgICAgICAgbGV0IGNvcnJlY3RJbnZvaWNlcyA9IFtdO1xyXG4gICAgICAgIGxldCBjb3JyZWN0SW52b2ljZXNNYXAgPSB7fTtcclxuICAgICAgICBsZXQgaW5jb3JyZWN0RmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGFsbEludm9pY2VMaXN0ID0gdGhpcy5wcm9wcy5hbGxJbnZvaWNlTGlzdDtcclxuXHJcbiAgICAgICAgaWYgKGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBmbGFnID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhbGxJbnZvaWNlTGlzdC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBhbGxJbnZvaWNlTGlzdFtqXS5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudEludm9pY2UgPSBhbGxJbnZvaWNlTGlzdFtqXVtrXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnZvaWNlc1tpXSA9PSBjdXJyZW50SW52b2ljZS5kb2N1bWVudE51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzLnB1c2goY3VycmVudEludm9pY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwW2N1cnJlbnRJbnZvaWNlLmlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghZmxhZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wSW52b2ljZSA9IE9iamVjdC5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogYCR7aW52b2ljZXNbaV19aW5jb3JyZWN0YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXI6IGludm9pY2VzW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcy5wdXNoKHRlbXBJbnZvaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBpbnZvaWNlRGF0YSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXMsXHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGludm9pY2VEYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbW1vblByb3BzID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcclxuICAgICAgICAgICAgY3VzdG9tZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIsXHJcbiAgICAgICAgICAgIGNhbGxUb05hbWU6IHRoaXMucHJvcHMuY2FsbGVkVG9OYW1lLFxyXG4gICAgICAgICAgICBjYWxsZWRUb051bWJlcjogdGhpcy5wcm9wcy5jYWxsZWRUb051bWJlcixcclxuICAgICAgICAgICAgY29udGFjdExvZzogdGhpcy5wcm9wcy5jb250YWN0TG9nLFxyXG4gICAgICAgICAgICBvbkFjdGlvbkl0ZW1Db25maXJtOiB0aGlzLnByb3BzLm9uQWN0aW9uSXRlbUNvbmZpcm0sXHJcbiAgICAgICAgICAgIGRlbGV0ZUFjdGlvbjogdGhpcy5wcm9wcy5vbkRlbGV0ZSxcclxuICAgICAgICAgICAgb25Db21wbGV0aW9uOiB0aGlzLm1hcmtUaGlzQ29tcGxldGUsXHJcbiAgICAgICAgICAgIHRvZ2dsZUV4cGFuZDogdGhpcy50b2dnbGVFeHBhbmQsXHJcbiAgICAgICAgICAgIG9wZW5TbmFja2Jhck9uQWN0aW9uOiAobWVzc2FnZVR5cGUpID0+IHRoaXMucHJvcHMub3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZVR5cGUpLFxyXG4gICAgICAgICAgICB1cGRhdGVTdW1tYXJ5SW5QYXJlbnQ6ICh1cGRhdGVkU3VtbWFyeSkgPT4geyB0aGlzLnByb3BzLnVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSwgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMpIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb3JyZWN0SW52b2ljZXMgPSAoaW52b2ljZXMsIGludm9pY2VzTWFwKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiBpbnZvaWNlcyxcclxuICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogaW52b2ljZXNNYXBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVJbnZvaWNlc0luUGFyZW50KGludm9pY2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSW52b2ljZXMgPSAoZmxhZywgaW52b2ljZUNvdW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IGZsYWcsXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogaW52b2ljZUNvdW50LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1hcmtUaGlzQ29tcGxldGUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbXBsZXRlZDogdHJ1ZSwgZXhwYW5kZWQ6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMucHJvcHMuY29tcGxldGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcywgaW50ZW50VHlwZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCBjb21tb25Qcm9wcyA9IHRoaXMuZ2V0Q29tbW9uUHJvcHMoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEV4cGFuc2lvblBhbmVsXHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMuZXhwYW5zaW9uUGFuZWxSb290IH19XHJcbiAgICAgICAgICAgICAgICBleHBhbmRlZD17dGhpcy5zdGF0ZS5leHBhbmRlZH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5wYW5lbH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPEV4cGFuc2lvblBhbmVsU3VtbWFyeVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5leHBhbmRlZCA/IGNsYXNzZXMuZXhwYW5kZWRCYWNrZ3JvdW5kIDogY2xhc3Nlcy5wYW5lbENvbW1vbn1cclxuICAgICAgICAgICAgICAgICAgICBleHBhbmRJY29uPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZSAhPT0gSU5URU5UX1RZUEVTLkZPTExPV19VUCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXhwYW5kTW9yZUljb24gb25DbGljaz17dGhpcy50b2dnbGVFeHBhbmR9IGNsYXNzTmFtZT17Y2xhc3Nlcy5leHBhbmRJY29ufSAvPilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlID09PSBJTlRFTlRfVFlQRVMuUDJQICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQMlBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnPXsgdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEFtb3VudD17dGhpcy5zdGF0ZS5hbW91bnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeT17IHRoaXMuc3RhdGUuc3VtbWFyeSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZUNvdW50PXsgdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcz17IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZSA9PT0gSU5URU5UX1RZUEVTLkRJU1BVVEUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpc3B1dGUgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZz17dGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnk9e3RoaXMuc3RhdGUuc3VtbWFyeX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQ9e3RoaXMuc3RhdGUuaW52b2ljZUNvdW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcz17dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uQ29kZUxpc3Q9e3RoaXMucHJvcHMucmVhc29uQ29kZUxpc3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLmNvbW1vblByb3BzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudFR5cGUgPT09IElOVEVOVF9UWVBFUy5GT0xMT1dfVVAgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvbGxvd3VwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZz17dGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnk9e3RoaXMuc3RhdGUuc3VtbWFyeX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3d1cFRleHRMaXN0PXt0aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLmNvbW1vblByb3BzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDwvRXhwYW5zaW9uUGFuZWxTdW1tYXJ5PlxyXG4gICAgICAgICAgICAgICAgPEV4cGFuc2lvblBhbmVsRGV0YWlscyBjbGFzc05hbWU9e2NsYXNzZXMucGFuZWxDb21tb259PlxyXG4gICAgICAgICAgICAgICAgICAgIDxBY3Rpb25EZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bT17dGhpcy5zdGF0ZS5zdW1tYXJ5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlPXtpbnRlbnRUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM9e3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA9e3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnPXt0aGlzLnN0YXRlLmluY29ycmVjdEZsYWd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlSW52b2ljZT17dGhpcy51cGRhdGVJbnZvaWNlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZT17dGhpcy5zdGF0ZS5jb21wbGV0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VzPXt0aGlzLnByb3BzLmFsbEludm9pY2VMaXN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXROYW1lcz17dGhpcy5wcm9wcy5idWNrZXROYW1lc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSW52b2ljZXM9eyhpbnZvaWNlcywgaW52b2ljZXNNYXApID0+IHsgdGhpcy51cGRhdGVDb3JyZWN0SW52b2ljZXMoaW52b2ljZXMsIGludm9pY2VzTWFwKSB9fVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9FeHBhbnNpb25QYW5lbERldGFpbHM+XHJcbiAgICAgICAgICAgIDwvRXhwYW5zaW9uUGFuZWw+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5BY3Rpb25zLnByb3BUeXBlcyA9IHtcclxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShBY3Rpb25zKVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0FjdGlvbnMuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0J1dHRvbic7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgeyBEb25lLCBIaWdobGlnaHRPZmYsIEJvcmRlckNvbG9yLCBEYXRlUmFuZ2UsIENoZWNrQ2lyY2xlT3V0bGluZSB9IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucyc7XHJcbmltcG9ydCBEYXRlRm5zVXRpbHMgZnJvbSAnQGRhdGUtaW8vZGF0ZS1mbnMnO1xyXG5pbXBvcnQgeyBNdWlQaWNrZXJzVXRpbHNQcm92aWRlciwgRGF0ZVBpY2tlciB9IGZyb20gJ21hdGVyaWFsLXVpLXBpY2tlcnMnO1xyXG5pbXBvcnQgeyBNdWlUaGVtZVByb3ZpZGVyLCBjcmVhdGVNdWlUaGVtZSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IGJsdWUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvY29sb3JzL2JsdWUnO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGQnO1xyXG5pbXBvcnQgRXJyb3IgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Vycm9yJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdjb25maWcnO1xyXG5pbXBvcnQgTnVtYmVyRm9ybWF0IGZyb20gJ3JlYWN0LW51bWJlci1mb3JtYXQnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCBDdXN0b21EaWFsb2cgZnJvbSAnLi9DdXN0b21EaWFsb2cnO1xyXG5pbXBvcnQgeyBlbXB0eUZ1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnO1xyXG5pbXBvcnQgeyBjdXN0b21DdXJyZW5jeUZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcbmltcG9ydCB7IGlzVmFsaWREYXRlLCBmb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQsIGZvcm1hdERhdGVXaXRoVGltZXpvbmUgfSBmcm9tICcuLi91dGlscy9oZWxwZXInO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICAnLi4vdXRpbHMvYmFzZVN0eWxlJztcclxuXHJcbi8vY29uc3RhbnRzXHJcbmNvbnN0IFAyUFJlZ2V4ID0gLyhQcm9taXNlIHRvIHBheSBmb3IgXFxkKil8KFxcZHs0fS1cXGR7Mn0tXFxkezJ9VFtcXGR7Mn06XSouXFxkezN9Wy18K11cXGR7Mn06XFxkezJ9KXwoXFxkKiBpbnZvaWNlKS9nO1xyXG5jb25zdCBkaXNjYXJkTWVzc2FnZSA9IFwiVGhpcyB3aWxsIGJlIHJlbW92ZWQgcGVybWFuZW50bHkgZnJvbSB0aGUgc3VnZ2VzdGVkIGFjdGlvbnMuIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuXCI7XHJcbmNvbnN0IHJlc29sdmVNZXNzYWdlID0gXCIgVW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBhY3Rpb24uIFBsZWFzZSByZXNvbHZlIHRoZSBlcnJvcnMgdG8gYXBwcm92ZS5cIjtcclxuY29uc3QgUDJQVGVtcGxhdGUgPSBcIlBheW1lbnQgY29tbWl0bWVudCByZWNlaXZlZCBmb3IgPEFtb3VudD4gdG8gYmUgcGFpZCBieSA8RGF0ZT4gPEludm9pY2VzPi5cIjtcclxuY29uc3QgUDJQX09SSUdfVEVNUExBVEUgPSBcIkNyZWF0ZSBQcm9taXNlIHRvIHBheSBmb3IgPEFtb3VudD4gdG8gYmUgcGFpZCBieSA8RGF0ZT4gZm9yIDxJbnZvaWNlcz5cIjtcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgICB0ZXh0RmllbGQ6IHtcclxuICAgICAgICBtYXJnaW46IFwiMHB4XCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICB0ZXN0OiB7XHJcbiAgICAgICAgd2lkdGg6ICdhdXRvJyxcclxuICAgICAgICBwYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eTogMC42LFxyXG5cclxuICAgICAgICBcIiY6YmVmb3JlXCI6IHtcclxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjNURBQUUwXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIiY6YWZ0ZXJcIjoge1xyXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICM1REFBRTBcIixcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdGVzdEluaXRpYWw6IHtcclxuICAgICAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgICAgIHBhZGRpbmc6ICcwcHgnLFxyXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiAwLjYsXHJcblxyXG4gICAgICAgIFwiJjpiZWZvcmVcIjoge1xyXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICNmZjQ1NDNcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiJjphZnRlclwiOiB7XHJcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhY3Rpb25Qcm9ncmVzc0Jhcjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAuNXJlbVwiLFxyXG4gICAgICAgIGhlaWdodDogXCIxLjVyZW0gIWltcG9ydGFudFwiLFxyXG4gICAgfSxcclxuICAgIGNhcmRDb250ZW50OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHkgOiAwLjY1LFxyXG4gICAgICAgIGZvbnRTaXplIDogXCIwLjlyZW1cIlxyXG4gICAgfSxcclxuICAgIGFjdGlvbkljb246IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgICAgICBoZWlnaHQgOiBcIjEuNnJlbVwiLFxyXG4gICAgICAgIHdpZHRoICA6IFwiMS42cmVtXCJcclxuICAgIH0sXHJcbiAgICBlcnJvckZsYWc6IHtcclxuICAgICAgICBjb2xvcjogXCIjRkY0NDQ0XCIsXHJcbiAgICAgICAgbWFyZ2luTGVmdDogXCIuNXJlbVwiXHJcbiAgICB9LFxyXG4gICAgZGlzYWJsZURvbmVCdG46IHtcclxuICAgICAgICBvcGFjaXR5OiAwLjQsXHJcbiAgICAgICAgY3Vyc29yOiBcImRlZmF1bHRcIixcclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxuY29uc3QgbWF0ZXJpYWxUaGVtZSA9IGNyZWF0ZU11aVRoZW1lKHtcclxuICAgIC8vIG92ZXJyaWRlczoge1xyXG4gICAgLy8gICAgIE11aURpYWxvZyA6IHtcclxuICAgIC8vICAgICAgICAgcGFwZXIgOiB7XHJcbiAgICAvLyAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgOiBcIiMyNzNENDlcIixcclxuICAgIC8vICAgICAgICAgICAgIGJvcmRlciA6IFwiM3B4IHNvbGlkIHdoaXRlXCJcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgICAgTXVpUGlja2Vyc1NsaWRlVHJhbnNpdGlvbiA6IHtcclxuICAgIC8vICAgICAgICAgdHJhbnNpdGlvbkNvbnRhaW5lciA6IHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbG9yIDogXCIjNURBQUUwXCIsXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vIE11aVBpY2tlcnNUb29sYmFyOiB7XHJcbiAgICAgICAgLy8gICAgIHRvb2xiYXI6IHtcclxuICAgICAgICAvLyAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjNURBQUUwXCIsXHJcbiAgICAgICAgLy8gICAgICAgICBoZWlnaHQgOiBcIjEzdmhcIlxyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vIH0sXHJcbiAgICAvLyAgICAgTXVpUGlja2Vyc0NhbGVuZGFySGVhZGVyOiB7XHJcbiAgICAvLyAgICAgICAgIHN3aXRjaEhlYWRlcjoge1xyXG4gICAgLy8gICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBsaWdodEJsdWUuQTIwMCxcclxuICAgIC8vICAgICAgICAgICAgIC8vIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgICAgICBkYXlMYWJlbCA6IHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbG9yIDogXCIjNURBQUUwXCIsXHJcbiAgICAvLyAgICAgICAgIH0sXHJcbiAgICAvLyAgICAgICAgIGljb25CdXR0b24gOiB7XHJcbiAgICAvLyAgICAgICAgICAgICBjb2xvciA6IFwiIzVEQUFFMFwiLFxyXG4gICAgLy8gICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yIDogXCJ0cmFuc3BhcmVudFwiXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIE11aUljb25CdXR0b24gOiB7XHJcbiAgICAvLyAgICAgICAgIHJvb3QgOiB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgZGlzYWJsZWQgOiB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yIDogXCIjNURBQUUwXCJcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgICAgTXVpVHlwb2dyYXBoeSA6IHtcclxuICAgIC8vICAgICAgICAgYm9keTEgOiB7XHJcbiAgICAvLyAgICAgICAgICAgICBjb2xvciA6IFwiIzVEQUFFMFwiLFxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSxcclxuICAgIC8vICAgICBNdWlQaWNrZXJzRGF5OiB7XHJcbiAgICAvLyAgICAgICAgIGRheToge1xyXG4gICAgLy8gICAgICAgICAgICAgY29sb3I6IFwiIzVEQUFFMFwiLFxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgICAgICBzZWxlY3RlZDoge1xyXG4gICAgLy8gICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBibHVlWyc0MDAnXSxcclxuICAgIC8vICAgICAgICAgfSxcclxuICAgIC8vICAgICAgICAgY3VycmVudDoge1xyXG4gICAgLy8gICAgICAgICAgICAgY29sb3I6IGJsdWVbJzkwMCddLFxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgICAgTXVpRm9ybUhlbHBlclRleHQ6IHtcclxuICAgIC8vICAgICAgICAgZXJyb3I6IHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBcIiNGRjg4ODggIWltcG9ydGFudFwiLFxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSxcclxuICAgIC8vICAgICBNdWlQaWNrZXJzTW9kYWw6IHtcclxuICAgIC8vICAgICAgICAgZGlhbG9nQWN0aW9uOiB7XHJcbiAgICAvLyAgICAgICAgICAgICBjb2xvcjogYmx1ZVsnNDAwJ10sXHJcbiAgICAvLyAgICAgICAgIH0sXHJcbiAgICAvLyAgICAgfSxcclxuICAgIC8vIH0sXHJcbiAgICBvdmVycmlkZXM6IHtcclxuICAgICAgICBNdWlQaWNrZXJzVG9vbGJhcjoge1xyXG4gICAgICAgICAgICB0b29sYmFyOiB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJsdWUuQTIwMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodCA6IFwiMTN2aFwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXI6IHtcclxuICAgICAgICAgICAgc3dpdGNoSGVhZGVyOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Qmx1ZS5BMjAwLFxyXG4gICAgICAgICAgICAgICAgLy8gY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBNdWlQaWNrZXJzRGF5OiB7XHJcbiAgICAgICAgICAgIGRheToge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IGJsdWUuQTcwMCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmx1ZVsnNDAwJ10sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBibHVlWyc5MDAnXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XHJcbiAgICAgICAgICAgIGVycm9yOiB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjRkY4ODg4ICFpbXBvcnRhbnRcIixcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTXVpUGlja2Vyc01vZGFsOiB7XHJcbiAgICAgICAgICAgIGRpYWxvZ0FjdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IGJsdWVbJzQwMCddLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG59KTtcclxuXHJcbmNsYXNzIFAyUCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICBsZXQgZXh0cmFjdGVkRGF0YSA9IHRoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKFAyUFJlZ2V4KTtcclxuICAgICAgICBsZXQgZXh0cmFjdGVkQW1vdW50ID0gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9Lyk7XHJcblxyXG4gICAgICAgIC8vIGxldCBub09mSW52b2ljZXMgPSBleHRyYWN0ZWREYXRhWzJdID8gZXh0cmFjdGVkRGF0YVsyXS5tYXRjaCgvWzAtOV17MSx9LykgOiAwO1xyXG5cclxuICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xyXG4gICAgICAgIC8vICAgICBub09mSW52b2ljZXMgPSAwO1xyXG4gICAgICAgIC8vIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHJlYWRPbmx5OiAhdGhpcy5wcm9wcy5zdW1tYXJ5LmNyZWF0ZWQsXHJcbiAgICAgICAgICAgIGlzRWRpdGluZzogdGhpcy5wcm9wcy5zdW1tYXJ5LmNyZWF0ZWQgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgIHByZXZBbW91bnQ6IFwiXCIsXHJcbiAgICAgICAgICAgIGFtb3VudDogZXh0cmFjdGVkQW1vdW50ID8gZXh0cmFjdGVkQW1vdW50WzBdIDogdGhpcy5wcm9wcy5zdW1tYXJ5LmNyZWF0ZWQgPyBcIlwiIDogMCxcclxuICAgICAgICAgICAgc2VsZWN0ZWREYXRlOiBuZXcgRGF0ZShleHRyYWN0ZWREYXRhWzFdKSxcclxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiB0aGlzLnByb3BzLmludm9pY2VDb3VudCxcclxuICAgICAgICAgICAgb3BlbkFjdGlvblNhdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcclxuICAgICAgICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxyXG4gICAgICAgICAgICBhY3Rpb25JZDogdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxyXG4gICAgICAgICAgICBpc0RvbmU6IHRoaXMucHJvcHMuc3VtbWFyeS5zYXZlLFxyXG4gICAgICAgICAgICBmaW5hbFNlbGVjdGVkRGF0ZTogdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUgPyBmb3JtYXQobmV3IERhdGUoZXh0cmFjdGVkRGF0YVsxXSksIFwiTU1NIGRkLCB5eXl5XCIpIDogXCJcIixcclxuICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGV4dHJhY3RlZEFtb3VudCA/IChcIlwiICsgZXh0cmFjdGVkQW1vdW50KS5sZW5ndGggKiAxMiA6IDE1LFxyXG4gICAgICAgICAgICBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiB0aGlzLnByb3BzLmluY29ycmVjdEZsYWcsXHJcbiAgICAgICAgICAgIGludmFsaWREYXRhTm90aWZpZXJNZXNzYWdlOiBcIlwiLFxyXG4gICAgICAgICAgICBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogZmFsc2UsXHJcbiAgICAgICAgICAgIHN1bW1hcnk6IHRoaXMucHJvcHMuc3VtbWFyeSxcclxuICAgICAgICAgICAgaXNBbW91bnRJbnZhbGlkOiAoZXh0cmFjdGVkQW1vdW50ID8gZmFsc2UgOiB0cnVlKSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlSW52b2ljZUN1cnJlbmN5Q2hhbmdlID0gKGV2ZW50KSA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBhbW91bnRUZXh0RmllbGRXaWR0aDogZXZlbnQudGFyZ2V0LnZhbHVlID8gKFwiXCIgKyBldmVudC50YXJnZXQudmFsdWUubGVuZ3RoKSAqIDEyIDogNTAsXHJcbiAgICAgICAgICAgIGFtb3VudDogZXZlbnQudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICBhbW91bnRGb3JtYXR0ZWQ6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgaXNBbW91bnRJbnZhbGlkOiBmYWxzZSxcclxuICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5hbW91bnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0Ftb3VudEludmFsaWQ6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogbmV4dFByb3BzLmluY29ycmVjdEZsYWcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChuZXh0UHJvcHMuaW52b2ljZUNvdW50ID49IDAgJiYgbmV4dFByb3BzLmludm9pY2VDb3VudCAhPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZUNvdW50OiBuZXh0UHJvcHMuaW52b2ljZUNvdW50IH1cclxuICAgICAgICAgICAgICAgICwgKCkgPT4geyB0aGlzLnVwZGF0ZVN1bW1hcnkoKSB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvcGVuRGF0YUludmFsaWREaWFsb2cgPSAobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogdHJ1ZSxcclxuICAgICAgICAgICAgaW52YWxpZERhdGFOb3RpZmllck1lc3NhZ2U6IG1lc3NhZ2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VJbnZhbGlkRGF0YU5vdGlmaWVyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VTbmFja2JhciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZVAyUERhdGEgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCBhbW91bnQgPSB0aGlzLnN0YXRlLmFtb3VudDtcclxuXHJcbiAgICAgICAgaWYgKE51bWJlcihhbW91bnQpIDwgMSkge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5EYXRhSW52YWxpZERpYWxvZyhcIlBsZWFzZSBlbnRlciBhbW91bnQgPiAwLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFpc1ZhbGlkRGF0ZSh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2coXCJGb3VuZCBpbnZhbGlkIGRhdGUuIFBsZWFzZSBjb3JyZWN0IHRoZSBkYXRlIHRvIHByb2NlZWQuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja0ludmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gKCF0aGlzLnN0YXRlLmlzQW1vdW50SW52YWxpZCAmJlxyXG4gICAgICAgICAgICAhdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmIGlzVmFsaWREYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlKSlcclxuICAgIH1cclxuXHJcbiAgICBzYXZlUDJQID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVQMlBEYXRhKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhjb250YWN0SWQpXHJcbiAgICAgICAgbGV0IGNvbnRhY3RJZCA9IHRoaXMucHJvcHMuY29udGFjdExvZy5jb250YWN0ICE9PSBudWxsID8gIHRoaXMucHJvcHMuY29udGFjdExvZy5jb250YWN0LmlkIDogbnVsbDtcclxuICAgICAgICBsZXQgcGhvbmVOdW1iZXIgPSB0aGlzLnByb3BzLmNvbnRhY3RMb2cuY2FsbGluZ051bWJlclxyXG4gICAgICAgIGxldCBpbnZvaWNlcyA9IHRoaXMucHJvcHMuY29ycmVjdEludm9pY2VzLm1hcChpbnZvaWNlID0+IHtcclxuICAgICAgICAgICAgbGV0IGludm9pY2VPYmogPSB7fVxyXG4gICAgICAgICAgICBpbnZvaWNlT2JqLmNtc0RvY0hlYWRlcklkID0gaW52b2ljZS5pZFxyXG4gICAgICAgICAgICByZXR1cm4gaW52b2ljZU9iajtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiB0cnVlLCBpc0VkaXRpbmc6IGZhbHNlLCByZWFkT25seTogdHJ1ZSB9KTtcclxuICAgICAgICBsZXQgcmVxT2JqID0ge1xyXG4gICAgICAgICAgICBjb21taXR0ZWRBbW91bnQ6IHRoaXMuc3RhdGUuYW1vdW50LFxyXG4gICAgICAgICAgICBjb21taXR0ZWRCeToge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGNvbnRhY3RJZCxcclxuICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBwaG9uZU51bWJlcixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29tbWl0dGVkRGF0ZTogbmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpLFxyXG4gICAgICAgICAgICBjb21taXR0ZWRPbjogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgY3VycmVuY3k6IFwiJFwiLFxyXG4gICAgICAgICAgICBjdXN0b21lcklkOiB0aGlzLnByb3BzLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICBwY0l0ZW1zOiBpbnZvaWNlcyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2N1c3RvbWVyLyR7dGhpcy5wcm9wcy5jdXN0b21lci5pZH0vcDJwYCwgcmVxT2JqKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiU1VDQ0VTU1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaW5hbFNlbGVjdGVkRGF0ZTogdGhpcy5nZXREYXRlRmllbGRWYWx1ZSgpIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0RvbmU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy91cGRhdGUgZmxhZyBpbiBhY3Rpb25zIHwgcG9zdCBjYWxsIFxyXG4gICAgICAgICAgICAgICAgbGV0IHN1bW1hcnlUb1NhdmUgPSB0aGlzLmdlbmVyYXRlQWN0aW9uU3VtbWFyeSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybShzdW1tYXJ5VG9TYXZlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3VtbWFyeSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVSUk9SXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UsIGlzRG9uZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQWN0aW9uU3VtbWFyeSA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VDb3VudCA9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50O1xyXG4gICAgICAgIGxldCBkYXRlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGU7XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXQoZGF0ZSwgXCJNTS1kZC15eXl5XCIpO1xyXG5cclxuICAgICAgICBsZXQgZ2VuZXJhdGVkU3VtbWFyeSA9IFAyUFRlbXBsYXRlLnJlcGxhY2UoXCI8QW1vdW50PlwiLCBcIiRcIiArIGZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCh0aGlzLnN0YXRlLmFtb3VudCkpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPERhdGU+XCIsIGZvcm1hdHRlZERhdGUpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCAoaW52b2ljZUNvdW50ID09PSAwKSA/IFwiXCIgOiBpbnZvaWNlQ291bnQgPT09IDEgPyBcImZvciBcIiArIGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IFwiZm9yIFwiICsgaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIik7XHJcblxyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZWRTdW1tYXJ5O1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNtaXNzQW1vdW50Q2hhbmdlcyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGFtb3VudFRleHRGaWVsZExlbmd0aCA9IGN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyKHRoaXMuc3RhdGUuYW1vdW50KS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYW1vdW50OiBjdXJyZW50U3RhdGUucHJldkFtb3VudCxcclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBhbW91bnRUZXh0RmllbGRMZW5ndGggKiA0LjUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkKS5ibHVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlblBpY2tlciA9IGUgPT4ge1xyXG4gICAgICAgIHRoaXMucGlja2VyLm9wZW4oZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHVwZGF0ZVN1bW1hcnkgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCBpbnZvaWNlQ291bnQgPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudDtcclxuICAgICAgICBsZXQgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdERhdGVXaXRoVGltZXpvbmUobmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpLCBcIi0wNjowMFwiKTtcclxuICAgICAgICBsZXQgdXBkYXRlZFN1bW1hcnkgPSBQMlBfT1JJR19URU1QTEFURS5yZXBsYWNlKFwiPEFtb3VudD5cIiwgdGhpcy5zdGF0ZS5hbW91bnQgPyB0aGlzLnN0YXRlLmFtb3VudCA6IFwiPGFtb3VudC1vZi1tb25leT5cIilcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCI8RGF0ZT5cIiwgZm9ybWF0dGVkRGF0ZSlcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCI8SW52b2ljZXM+XCIsIChpbnZvaWNlQ291bnQgPT09IDApID8gXCI8WCBpbnZvaWNlcz5cIiA6XHJcbiAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQgPT09IDEgPyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlXCIgOiBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlc1wiKTtcclxuICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZUludm9pY2VBbW91bnRDaGFuZ2UgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGNvbnN0IGFtb3VudFRleHRGaWVsZExlbmd0aCA9IGN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyKHRoaXMuc3RhdGUuYW1vdW50KS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgIHByZXZBbW91bnQ6IHRoaXMuc3RhdGUuYW1vdW50LCBcclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLCBcclxuICAgICAgICAgICAgICAgIGlzRWRpdGluZzogZmFsc2UsIFxyXG4gICAgICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGFtb3VudFRleHRGaWVsZExlbmd0aCAqIDQuNSxcclxuICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgICgpID0+IHsgdGhpcy51cGRhdGVTdW1tYXJ5KCk7fSBcclxuICAgICAgICApO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkKS5ibHVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbkFjdGlvbkRpc2NhcmREaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VBbmREaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVBY3Rpb24odGhpcy5zdGF0ZS5hY3Rpb25JZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlV2FybmluZ0RpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZUVkaXRpbmcgPSAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZWFkT25seTogZmFsc2UsIGlzRWRpdGluZzogdHJ1ZSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkKS5mb2N1cygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEYXRlQ2hhbmdlID0gZGF0ZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkRGF0ZTogZGF0ZSB9LCAoKSA9PiB7IHRoaXMudXBkYXRlU3VtbWFyeSgpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGVGaWVsZFZhbHVlID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBpZCA9IFwiZGF0ZS1pbnB1dC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQ7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBGb3JtYXR0ZWRDdXJyZW5jeUlucHV0ID0gKHByb3BzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBpbnB1dFJlZiwgb25DaGFuZ2UsIC4uLm90aGVyIH0gPSBwcm9wcztcclxuICAgIFxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxOdW1iZXJGb3JtYXRcclxuICAgICAgICAgICAgICAgIHsuLi5vdGhlcn1cclxuICAgICAgICAgICAgICAgIGdldElucHV0UmVmPXtpbnB1dFJlZn1cclxuICAgICAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U9e3ZhbHVlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXMudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgZm9ybWF0PXsoYXJncykgPT4gY3VzdG9tQ3VycmVuY3lGb3JtYXR0ZXIodGhpcy5zdGF0ZS5hbW91bnQsIFwiJFwiKX1cclxuICAgICAgICAgICAgICAgIGRlY2ltYWxTY2FsZT17OH1cclxuICAgICAgICAgICAgICAgIGFsbG93TmVnYXRpdmU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBzdW1tYXJ5IH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgZnVsbFNjcmVlbiB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlU2FtcGxlfT5cclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEwfSBtZD17MTB9IGxnPXsxMH0gY29udGFpbmVyIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwiZmxleC1zdGFydFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IFwiM3JlbVwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFjdGlvblNhdmVQcm9ncmVzc0JhciAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgY2xhc3NOYW1lPXtjbGFzc2VzLmFjdGlvblByb2dyZXNzQmFyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RG9uZSBzdHlsZT17eyBjb2xvcjogXCIjNUZDMzJDXCIgLCBwYWRkaW5nTGVmdCA6IFwiMC41cmVtXCIsIHBhZGRpbmdSaWdodCA6IFwiMC41cmVtXCIsIGhlaWdodCA6IFwiMS41cmVtXCIsIHdpZHRoIDogXCIxLjVyZW1cIiB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTF9IG1kPXsxMX0gbGc9ezExfSBjb250YWluZXIgYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJmbGV4LXN0YXJ0XCI+IFxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzRG9uZSAmJiA8VHlwb2dyYXBoeSBzdHlsZT17eyAgb3BhY2l0eSA6IDEsICB9fSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9PkNyZWF0ZWQgJm5ic3A7PC9UeXBvZ3JhcGh5Pn1cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnN0YXRlLmlzRG9uZSAmJiA8VHlwb2dyYXBoeSBzdHlsZT17eyBvcGFjaXR5IDogMSwgIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0gPkNyZWF0ZSAmbmJzcDs8L1R5cG9ncmFwaHk+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250V2VpZ2h0OiBcImJvbGRcIiwgb3BhY2l0eSA6IDEsICB9fSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9ID5QMlAgJm5ic3A7PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9ID5vZiAmbmJzcDs8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHN0eWxlPXt7IG1pbldpZHRoOiB0aGlzLnN0YXRlLmlzRWRpdGluZyA/IFwiN3JlbVwiIDogdGhpcy5zdGF0ZS5hbW91bnRUZXh0RmllbGRXaWR0aCAsIHdpZHRoOiB0aGlzLnN0YXRlLmlzRWRpdGluZyA/IFwiN3JlbVwiIDogdGhpcy5zdGF0ZS5hbW91bnRUZXh0RmllbGRXaWR0aCwgbWF4V2lkdGg6IFwiOXJlbVwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17XCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWR9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnRleHRGaWVsZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFtb3VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5oYW5kbGVJbnZvaWNlQ3VycmVuY3lDaGFuZ2UoZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW49XCJub3JtYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1cIm5vcm1hbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnB1dFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnN0YXRlLmlzQW1vdW50SW52YWxpZCA/IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lcyhjbGFzc2VzLnRlc3RJbml0aWFsLGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMoY2xhc3Nlcy50ZXN0LGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKHRoaXMuc3RhdGUucmVhZE9ubHkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IEJvb2xlYW4odGhpcy5zdGF0ZS5yZWFkT25seSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDb21wb25lbnQ6IHRoaXMuc3RhdGUuaXNFZGl0aW5nID8gTnVtYmVyRm9ybWF0Q3VzdG9tIDogdGhpcy5Gb3JtYXR0ZWRDdXJyZW5jeUlucHV0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNFZGl0aW5nICYmICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3JkZXJDb2xvciBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9uSWNvbn0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luTGVmdDogXCI2cHhcIiB9fSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZUVkaXRpbmd9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiAhdGhpcy5zdGF0ZS5pc0RvbmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhpZ2hsaWdodE9mZiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luTGVmdDogXCIwLjRyZW1cIiwgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIsIH19IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyF0aGlzLnN0YXRlLnByZXZBbW91bnQgPyBjbGFzc2VzLmRpc2FibGVEb25lQnRuIDogXCJcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17IXRoaXMuc3RhdGUucHJldkFtb3VudCA/IGVtcHR5RnVuY3Rpb24gOiB0aGlzLmRpc21pc3NBbW91bnRDaGFuZ2VzfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZU91dGxpbmUgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIiM1RkMzMkNcIiwgfX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgPyBjbGFzc2VzLmRpc2FibGVEb25lQnRuIDogXCJcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgPyBlbXB0eUZ1bmN0aW9uIDogdGhpcy5zYXZlSW52b2ljZUFtb3VudENoYW5nZX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0gPiZuYnNwOyB3aXRoIGR1ZSBkYXRlIG9mICZuYnNwOzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT4ge3RoaXMuc3RhdGUuaXNEb25lICYmIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9fT57dGhpcy5zdGF0ZS5maW5hbFNlbGVjdGVkRGF0ZX08L1R5cG9ncmFwaHk+fTwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBtYXhXaWR0aDogXCI4ZW1cIiB9fT57IXRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxNdWlQaWNrZXJzVXRpbHNQcm92aWRlciB1dGlscz17RGF0ZUZuc1V0aWxzfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNdWlUaGVtZVByb3ZpZGVyIHRoZW1lPXttYXRlcmlhbFRoZW1lfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXhXaWR0aDogXCI1LjM1cmVtXCIsIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sPXtCb29sZWFuKGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0PVwiTU1NIGRkLCB5eXl5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGF0ZU1lc3NhZ2U9XCJQcmV2aW91cyBkYXRlIG5vdCBhY2NlcHRhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiZGF0ZS1pbnB1dC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogQm9vbGVhbih0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e25vZGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zZWxlY3RlZERhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZURhdGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uQ2xpY2s9e2UgPT4gZS5wcmV2ZW50RGVmYXVsdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5EYXRlPXtuZXcgRGF0ZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVSYW5nZSBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9uSWNvbn0gb25DbGljaz17dGhpcy5vcGVuUGlja2VyfSAvPjwvTXVpVGhlbWVQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9NdWlQaWNrZXJzVXRpbHNQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJsZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmludm9pY2VDb3VudCAhPT0gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZGlzcGxheTogXCJmbGV4XCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNFZGl0aW5nICYmIDxzcGFuPiZuYnNwOzwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3dhcmRzJm5ic3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fSBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZUV4cGFuZH0gPnt0aGlzLnN0YXRlLmludm9pY2VDb3VudCArIFwiIEludm9pY2VcIiArICh0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDEgPyBcInNcIiA6IFwiXCIpfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmIDxFcnJvciBjbGFzc05hbWU9e2NsYXNzZXMuZXJyb3JGbGFnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDxDdXN0b21EaWFsb2cgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5BY3Rpb25TYXZlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VBY3Rpb25TYXZlRGlhbG9nfSB0aXRsZT17ZGlzY2FyZE1lc3NhZ2V9IGFjdGlvbnM9e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgWzxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2d9IGNvbG9yPVwicHJpbWFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFncmVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPl1cclxuICAgICAgICAgICAgICAgICAgICB9IC8+XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tRGlhbG9nIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlV2FybmluZ0RpYWxvZ30gdGl0bGU9e3Jlc29sdmVNZXNzYWdlfSBhY3Rpb25zPXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFs8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfSBjb2xvcj1cInNlY29uZGFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XVxyXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cclxuICAgICAgICAgICAgICAgIDxDdXN0b21EaWFsb2cgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5JbnZhbGlkRGF0YU5vdGlmaWVyfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VJbnZhbGlkRGF0YU5vdGlmaWVyfSB0aXRsZT17dGhpcy5zdGF0ZS5pbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlSW52YWxpZERhdGFOb3RpZmllcn0gY29sb3I9XCJzZWNvbmRhcnlcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPl1cclxuICAgICAgICAgICAgICAgICAgICB9IC8+XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsyfSBtZD17Mn0gbGc9ezJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0T2ZmIHN0eWxlPXt7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH19IG9uQ2xpY2s9e3RoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2d9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwiIzVGQzMyQ1wiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmNoZWNrSW52YWxpZGF0aW9uKCkgPyBcIlwiIDogY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0bn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNoZWNrSW52YWxpZGF0aW9uKCkgPyB0aGlzLnNhdmVQMlAgOiBlbXB0eUZ1bmN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTnVtYmVyRm9ybWF0Q3VzdG9tKHByb3BzKSB7XHJcbiAgICBjb25zdCB7IGlucHV0UmVmLCBvbkNoYW5nZSwgLi4ub3RoZXIgfSA9IHByb3BzO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPE51bWJlckZvcm1hdFxyXG4gICAgICAgICAgICB7Li4ub3RoZXJ9XHJcbiAgICAgICAgICAgIGdldElucHV0UmVmPXtpbnB1dFJlZn1cclxuICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17dmFsdWVzID0+IHtcclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlcy52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHRob3VzYW5kU2VwYXJhdG9yXHJcbiAgICAgICAgICAgIHByZWZpeD1cIiRcIlxyXG4gICAgICAgICAgICBhbGxvd05lZ2F0aXZlPXtmYWxzZX1cclxuICAgICAgICAgICAgZGVjaW1hbFNjYWxlPXs4fVxyXG4gICAgICAgIC8+XHJcbiAgICApO1xyXG59XHJcblxyXG5OdW1iZXJGb3JtYXRDdXN0b20ucHJvcFR5cGVzID0ge1xyXG4gICAgaW5wdXRSZWY6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxufTtcclxuXHJcblAyUC5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5jb25zdCBjb21iaW5lZFN0eWxlID0gY29tYmluZVN0eWxlcyhzdHlsZXMsYmFzZVN0eWxlKVxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFAyUClcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9QMlAuanMiLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qc1xuLy8gbW9kdWxlIGlkID0gNjA5M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoXCJyZWFjdFwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJyZWFjdFwiXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLnJlYWN0VGV4dE1hc2s9dChyZXF1aXJlKFwicmVhY3RcIikpOmUucmVhY3RUZXh0TWFzaz10KGUuUmVhY3QpfSh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4pe2lmKHJbbl0pcmV0dXJuIHJbbl0uZXhwb3J0czt2YXIgbz1yW25dPXtleHBvcnRzOnt9LGlkOm4sbG9hZGVkOiExfTtyZXR1cm4gZVtuXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyx0KSxvLmxvYWRlZD0hMCxvLmV4cG9ydHN9dmFyIHI9e307cmV0dXJuIHQubT1lLHQuYz1yLHQucD1cIlwiLHQoMCl9KFtmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbyhlLHQpe3ZhciByPXt9O2Zvcih2YXIgbiBpbiBlKXQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJihyW25dPWVbbl0pO3JldHVybiByfWZ1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiB1KGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jb25mb3JtVG9NYXNrPXZvaWQgMDt2YXIgbD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksZj1yKDIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiY29uZm9ybVRvTWFza1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGYpLmRlZmF1bHR9fSk7dmFyIGM9cigxMSkscD1uKGMpLGQ9cig5KSxoPW4oZCksdj1yKDUpLHk9bih2KSxtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZTtpKHRoaXMsdCk7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShyKSxvPTA7bzxyO28rKyluW29dPWFyZ3VtZW50c1tvXTt2YXIgdT1hKHRoaXMsKGU9dC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobikpKTtyZXR1cm4gdS5vbkJsdXI9dS5vbkJsdXIuYmluZCh1KSx1Lm9uQ2hhbmdlPXUub25DaGFuZ2UuYmluZCh1KSx1fXJldHVybiB1KHQsZSkscyh0LFt7a2V5OlwiaW5pdFRleHRNYXNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9dGhpcy5wcm9wcy52YWx1ZTt0aGlzLnRleHRNYXNrSW5wdXRFbGVtZW50PSgwLHkuZGVmYXVsdCkobCh7aW5wdXRFbGVtZW50OnRoaXMuaW5wdXRFbGVtZW50fSxlKSksdGhpcy50ZXh0TWFza0lucHV0RWxlbWVudC51cGRhdGUodCl9fSx7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5pdFRleHRNYXNrKCl9fSx7a2V5OlwiY29tcG9uZW50RGlkVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmluaXRUZXh0TWFzaygpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uIGUoKXt2YXIgdD10aGlzLHI9dGhpcy5wcm9wcyxlPXIucmVuZGVyLG49byhyLFtcInJlbmRlclwiXSk7ZGVsZXRlIG4ubWFzayxkZWxldGUgbi5ndWlkZSxkZWxldGUgbi5waXBlLGRlbGV0ZSBuLnBsYWNlaG9sZGVyQ2hhcixkZWxldGUgbi5rZWVwQ2hhclBvc2l0aW9ucyxkZWxldGUgbi52YWx1ZSxkZWxldGUgbi5vbkJsdXIsZGVsZXRlIG4ub25DaGFuZ2UsZGVsZXRlIG4uc2hvd01hc2s7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5wdXRFbGVtZW50PWV9O3JldHVybiBlKGksbCh7b25CbHVyOnRoaXMub25CbHVyLG9uQ2hhbmdlOnRoaXMub25DaGFuZ2UsZGVmYXVsdFZhbHVlOnRoaXMucHJvcHMudmFsdWV9LG4pKX19LHtrZXk6XCJvbkNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGV4dE1hc2tJbnB1dEVsZW1lbnQudXBkYXRlKCksXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5wcm9wcy5vbkNoYW5nZSYmdGhpcy5wcm9wcy5vbkNoYW5nZShlKX19LHtrZXk6XCJvbkJsdXJcIix2YWx1ZTpmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnByb3BzLm9uQmx1ciYmdGhpcy5wcm9wcy5vbkJsdXIoZSl9fV0pLHR9KHAuZGVmYXVsdC5Db21wb25lbnQpO3QuZGVmYXVsdD1tLG0ucHJvcFR5cGVzPXttYXNrOmguZGVmYXVsdC5vbmVPZlR5cGUoW2guZGVmYXVsdC5hcnJheSxoLmRlZmF1bHQuZnVuYyxoLmRlZmF1bHQuYm9vbCxoLmRlZmF1bHQuc2hhcGUoe21hc2s6aC5kZWZhdWx0Lm9uZU9mVHlwZShbaC5kZWZhdWx0LmFycmF5LGguZGVmYXVsdC5mdW5jXSkscGlwZTpoLmRlZmF1bHQuZnVuY30pXSkuaXNSZXF1aXJlZCxndWlkZTpoLmRlZmF1bHQuYm9vbCx2YWx1ZTpoLmRlZmF1bHQub25lT2ZUeXBlKFtoLmRlZmF1bHQuc3RyaW5nLGguZGVmYXVsdC5udW1iZXJdKSxwaXBlOmguZGVmYXVsdC5mdW5jLHBsYWNlaG9sZGVyQ2hhcjpoLmRlZmF1bHQuc3RyaW5nLGtlZXBDaGFyUG9zaXRpb25zOmguZGVmYXVsdC5ib29sLHNob3dNYXNrOmguZGVmYXVsdC5ib29sfSxtLmRlZmF1bHRQcm9wcz17cmVuZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIixsKHtyZWY6ZX0sdCkpfX19LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5wbGFjZWhvbGRlckNoYXI9XCJfXCIsdC5zdHJGdW5jdGlvbj1cImZ1bmN0aW9uXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOmwsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtpZighKDAsaS5pc0FycmF5KSh0KSl7aWYoKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6byh0KSkhPT1hLnN0ckZ1bmN0aW9uKXRocm93IG5ldyBFcnJvcihcIlRleHQtbWFzazpjb25mb3JtVG9NYXNrOyBUaGUgbWFzayBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5LlwiKTt0PXQoZSxyKSx0PSgwLGkucHJvY2Vzc0NhcmV0VHJhcHMpKHQpLm1hc2tXaXRob3V0Q2FyZXRUcmFwc312YXIgbj1yLmd1aWRlLHM9dm9pZCAwPT09bnx8bixmPXIucHJldmlvdXNDb25mb3JtZWRWYWx1ZSxjPXZvaWQgMD09PWY/bDpmLHA9ci5wbGFjZWhvbGRlckNoYXIsZD12b2lkIDA9PT1wP2EucGxhY2Vob2xkZXJDaGFyOnAsaD1yLnBsYWNlaG9sZGVyLHY9dm9pZCAwPT09aD8oMCxpLmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcikodCxkKTpoLHk9ci5jdXJyZW50Q2FyZXRQb3NpdGlvbixtPXIua2VlcENoYXJQb3NpdGlvbnMsYj1zPT09ITEmJnZvaWQgMCE9PWMsZz1lLmxlbmd0aCxrPWMubGVuZ3RoLEM9di5sZW5ndGgsTz10Lmxlbmd0aCxUPWctayxQPVQ+MCx4PXkrKFA/LVQ6MCksdz14K01hdGguYWJzKFQpO2lmKG09PT0hMCYmIVApe2Zvcih2YXIgXz1sLE09eDtNPHc7TSsrKXZbTV09PT1kJiYoXys9ZCk7ZT1lLnNsaWNlKDAseCkrXytlLnNsaWNlKHgsZyl9Zm9yKHZhciBTPWUuc3BsaXQobCkubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJue2NoYXI6ZSxpc05ldzp0Pj14JiZ0PHd9fSksaj1nLTE7aj49MDtqLS0pe3ZhciBFPVNbal0uY2hhcjtpZihFIT09ZCl7dmFyIFI9aj49eCYmaz09PU87RT09PXZbUj9qLVQ6al0mJlMuc3BsaWNlKGosMSl9fXZhciBWPWwsQT0hMTtlOmZvcih2YXIgTj0wO048QztOKyspe3ZhciBCPXZbTl07aWYoQj09PWQpe2lmKFMubGVuZ3RoPjApZm9yKDtTLmxlbmd0aD4wOyl7dmFyIEk9Uy5zaGlmdCgpLEY9SS5jaGFyLHE9SS5pc05ldztpZihGPT09ZCYmYiE9PSEwKXtWKz1kO2NvbnRpbnVlIGV9aWYodFtOXS50ZXN0KEYpKXtpZihtPT09ITAmJnEhPT0hMSYmYyE9PWwmJnMhPT0hMSYmUCl7Zm9yKHZhciBEPVMubGVuZ3RoLEw9bnVsbCxXPTA7VzxEO1crKyl7dmFyIEo9U1tXXTtpZihKLmNoYXIhPT1kJiZKLmlzTmV3PT09ITEpYnJlYWs7aWYoSi5jaGFyPT09ZCl7TD1XO2JyZWFrfX1udWxsIT09TD8oVis9RixTLnNwbGljZShMLDEpKTpOLS19ZWxzZSBWKz1GO2NvbnRpbnVlIGV9QT0hMH1iPT09ITEmJihWKz12LnN1YnN0cihOLEMpKTticmVha31WKz1CfWlmKGImJlA9PT0hMSl7Zm9yKHZhciBVPW51bGwsSD0wO0g8Vi5sZW5ndGg7SCsrKXZbSF09PT1kJiYoVT1IKTtWPW51bGwhPT1VP1Yuc3Vic3RyKDAsVSsxKTpsfXJldHVybntjb25mb3JtZWRWYWx1ZTpWLG1ldGE6e3NvbWVDaGFyc1JlamVjdGVkOkF9fX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTt0LmRlZmF1bHQ9bjt2YXIgaT1yKDMpLGE9cigxKSx1PVtdLGw9XCJcIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06cyx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpsLnBsYWNlaG9sZGVyQ2hhcjtpZighbyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJUZXh0LW1hc2s6Y29udmVydE1hc2tUb1BsYWNlaG9sZGVyOyBUaGUgbWFzayBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5LlwiKTtpZihlLmluZGV4T2YodCkhPT0tMSl0aHJvdyBuZXcgRXJyb3IoXCJQbGFjZWhvbGRlciBjaGFyYWN0ZXIgbXVzdCBub3QgYmUgdXNlZCBhcyBwYXJ0IG9mIHRoZSBtYXNrLiBQbGVhc2Ugc3BlY2lmeSBhIGNoYXJhY3RlciB0aGF0IGlzIG5vdCBwcmVzZW50IGluIHlvdXIgbWFzayBhcyB5b3VyIHBsYWNlaG9sZGVyIGNoYXJhY3Rlci5cXG5cXG5cIisoXCJUaGUgcGxhY2Vob2xkZXIgY2hhcmFjdGVyIHRoYXQgd2FzIHJlY2VpdmVkIGlzOiBcIitKU09OLnN0cmluZ2lmeSh0KStcIlxcblxcblwiKSsoXCJUaGUgbWFzayB0aGF0IHdhcyByZWNlaXZlZCBpczogXCIrSlNPTi5zdHJpbmdpZnkoZSkpKTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBSZWdFeHA/dDplfSkuam9pbihcIlwiKX1mdW5jdGlvbiBvKGUpe3JldHVybiBBcnJheS5pc0FycmF5JiZBcnJheS5pc0FycmF5KGUpfHxlIGluc3RhbmNlb2YgQXJyYXl9ZnVuY3Rpb24gaShlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZ31mdW5jdGlvbiBhKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZ2b2lkIDA9PT1lLmxlbmd0aCYmIWlzTmFOKGUpfWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PVtdLHI9dm9pZCAwO3I9ZS5pbmRleE9mKGYpLHIhPT0tMTspdC5wdXNoKHIpLGUuc3BsaWNlKHIsMSk7cmV0dXJue21hc2tXaXRob3V0Q2FyZXRUcmFwczplLGluZGV4ZXM6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXI9bix0LmlzQXJyYXk9byx0LmlzU3RyaW5nPWksdC5pc051bWJlcj1hLHQucHJvY2Vzc0NhcmV0VHJhcHM9dTt2YXIgbD1yKDEpLHM9W10sZj1cIltdXCJ9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXt2YXIgdD1lLnByZXZpb3VzQ29uZm9ybWVkVmFsdWUscj12b2lkIDA9PT10P286dCxpPWUucHJldmlvdXNQbGFjZWhvbGRlcixhPXZvaWQgMD09PWk/bzppLHU9ZS5jdXJyZW50Q2FyZXRQb3NpdGlvbixsPXZvaWQgMD09PXU/MDp1LHM9ZS5jb25mb3JtZWRWYWx1ZSxmPWUucmF3VmFsdWUsYz1lLnBsYWNlaG9sZGVyQ2hhcixwPWUucGxhY2Vob2xkZXIsZD1lLmluZGV4ZXNPZlBpcGVkQ2hhcnMsaD12b2lkIDA9PT1kP246ZCx2PWUuY2FyZXRUcmFwSW5kZXhlcyx5PXZvaWQgMD09PXY/bjp2O2lmKDA9PT1sfHwhZi5sZW5ndGgpcmV0dXJuIDA7dmFyIG09Zi5sZW5ndGgsYj1yLmxlbmd0aCxnPXAubGVuZ3RoLGs9cy5sZW5ndGgsQz1tLWIsTz1DPjAsVD0wPT09YixQPUM+MSYmIU8mJiFUO2lmKFApcmV0dXJuIGw7dmFyIHg9TyYmKHI9PT1zfHxzPT09cCksdz0wLF89dm9pZCAwLE09dm9pZCAwO2lmKHgpdz1sLUM7ZWxzZXt2YXIgUz1zLnRvTG93ZXJDYXNlKCksaj1mLnRvTG93ZXJDYXNlKCksRT1qLnN1YnN0cigwLGwpLnNwbGl0KG8pLFI9RS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFMuaW5kZXhPZihlKSE9PS0xfSk7TT1SW1IubGVuZ3RoLTFdO3ZhciBWPWEuc3Vic3RyKDAsUi5sZW5ndGgpLnNwbGl0KG8pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWN9KS5sZW5ndGgsQT1wLnN1YnN0cigwLFIubGVuZ3RoKS5zcGxpdChvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1jfSkubGVuZ3RoLE49QSE9PVYsQj12b2lkIDAhPT1hW1IubGVuZ3RoLTFdJiZ2b2lkIDAhPT1wW1IubGVuZ3RoLTJdJiZhW1IubGVuZ3RoLTFdIT09YyYmYVtSLmxlbmd0aC0xXSE9PXBbUi5sZW5ndGgtMV0mJmFbUi5sZW5ndGgtMV09PT1wW1IubGVuZ3RoLTJdOyFPJiYoTnx8QikmJlY+MCYmcC5pbmRleE9mKE0pPi0xJiZ2b2lkIDAhPT1mW2xdJiYoXz0hMCxNPWZbbF0pO2Zvcih2YXIgST1oLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gU1tlXX0pLEY9SS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1NfSkubGVuZ3RoLHE9Ui5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1NfSkubGVuZ3RoLEQ9cC5zdWJzdHIoMCxwLmluZGV4T2YoYykpLnNwbGl0KG8pLmZpbHRlcihmdW5jdGlvbihlLHQpe3JldHVybiBlPT09TSYmZlt0XSE9PWV9KS5sZW5ndGgsTD1EK3ErRisoXz8xOjApLFc9MCxKPTA7SjxrO0orKyl7dmFyIFU9U1tKXTtpZih3PUorMSxVPT09TSYmVysrLFc+PUwpYnJlYWt9fWlmKE8pe2Zvcih2YXIgSD13LFk9dztZPD1nO1krKylpZihwW1ldPT09YyYmKEg9WSkscFtZXT09PWN8fHkuaW5kZXhPZihZKSE9PS0xfHxZPT09ZylyZXR1cm4gSH1lbHNlIGlmKF8pe2Zvcih2YXIgej13LTE7ej49MDt6LS0paWYoc1t6XT09PU18fHkuaW5kZXhPZih6KSE9PS0xfHwwPT09eilyZXR1cm4gen1lbHNlIGZvcih2YXIgRz13O0c+PTA7Ry0tKWlmKHBbRy0xXT09PWN8fHkuaW5kZXhPZihHKSE9PS0xfHwwPT09RylyZXR1cm4gR31PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9cjt2YXIgbj1bXSxvPVwiXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBvKGUpe3ZhciB0PXtwcmV2aW91c0NvbmZvcm1lZFZhbHVlOnZvaWQgMCxwcmV2aW91c1BsYWNlaG9sZGVyOnZvaWQgMH07cmV0dXJue3N0YXRlOnQsdXBkYXRlOmZ1bmN0aW9uKHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTplLG89bi5pbnB1dEVsZW1lbnQscz1uLm1hc2ssYz1uLmd1aWRlLHk9bi5waXBlLGI9bi5wbGFjZWhvbGRlckNoYXIsZz12b2lkIDA9PT1iP2gucGxhY2Vob2xkZXJDaGFyOmIsaz1uLmtlZXBDaGFyUG9zaXRpb25zLEM9dm9pZCAwIT09ayYmayxPPW4uc2hvd01hc2ssVD12b2lkIDAhPT1PJiZPO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiByJiYocj1vLnZhbHVlKSxyIT09dC5wcmV2aW91c0NvbmZvcm1lZFZhbHVlKXsoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHM/XCJ1bmRlZmluZWRcIjpsKHMpKT09PW0mJnZvaWQgMCE9PXMucGlwZSYmdm9pZCAwIT09cy5tYXNrJiYoeT1zLnBpcGUscz1zLm1hc2spO3ZhciBQPXZvaWQgMCx4PXZvaWQgMDtpZihzIGluc3RhbmNlb2YgQXJyYXkmJihQPSgwLGQuY29udmVydE1hc2tUb1BsYWNlaG9sZGVyKShzLGcpKSxzIT09ITEpe3ZhciB3PWEociksXz1vLnNlbGVjdGlvbkVuZCxNPXQucHJldmlvdXNDb25mb3JtZWRWYWx1ZSxTPXQucHJldmlvdXNQbGFjZWhvbGRlcixqPXZvaWQgMDtpZigoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHM/XCJ1bmRlZmluZWRcIjpsKHMpKT09PWguc3RyRnVuY3Rpb24pe2lmKHg9cyh3LHtjdXJyZW50Q2FyZXRQb3NpdGlvbjpfLHByZXZpb3VzQ29uZm9ybWVkVmFsdWU6TSxwbGFjZWhvbGRlckNoYXI6Z30pLHg9PT0hMSlyZXR1cm47dmFyIEU9KDAsZC5wcm9jZXNzQ2FyZXRUcmFwcykoeCksUj1FLm1hc2tXaXRob3V0Q2FyZXRUcmFwcyxWPUUuaW5kZXhlczt4PVIsaj1WLFA9KDAsZC5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXIpKHgsZyl9ZWxzZSB4PXM7dmFyIEE9e3ByZXZpb3VzQ29uZm9ybWVkVmFsdWU6TSxndWlkZTpjLHBsYWNlaG9sZGVyQ2hhcjpnLHBpcGU6eSxwbGFjZWhvbGRlcjpQLGN1cnJlbnRDYXJldFBvc2l0aW9uOl8sa2VlcENoYXJQb3NpdGlvbnM6Q30sTj0oMCxwLmRlZmF1bHQpKHcseCxBKSxCPU4uY29uZm9ybWVkVmFsdWUsST0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHk/XCJ1bmRlZmluZWRcIjpsKHkpKT09PWguc3RyRnVuY3Rpb24sRj17fTtJJiYoRj15KEIsdSh7cmF3VmFsdWU6d30sQSkpLEY9PT0hMT9GPXt2YWx1ZTpNLHJlamVjdGVkOiEwfTooMCxkLmlzU3RyaW5nKShGKSYmKEY9e3ZhbHVlOkZ9KSk7dmFyIHE9ST9GLnZhbHVlOkIsRD0oMCxmLmRlZmF1bHQpKHtwcmV2aW91c0NvbmZvcm1lZFZhbHVlOk0scHJldmlvdXNQbGFjZWhvbGRlcjpTLGNvbmZvcm1lZFZhbHVlOnEscGxhY2Vob2xkZXI6UCxyYXdWYWx1ZTp3LGN1cnJlbnRDYXJldFBvc2l0aW9uOl8scGxhY2Vob2xkZXJDaGFyOmcsaW5kZXhlc09mUGlwZWRDaGFyczpGLmluZGV4ZXNPZlBpcGVkQ2hhcnMsY2FyZXRUcmFwSW5kZXhlczpqfSksTD1xPT09UCYmMD09PUQsVz1UP1A6dixKPUw/VzpxO3QucHJldmlvdXNDb25mb3JtZWRWYWx1ZT1KLHQucHJldmlvdXNQbGFjZWhvbGRlcj1QLG8udmFsdWUhPT1KJiYoby52YWx1ZT1KLGkobyxEKSl9fX19fWZ1bmN0aW9uIGkoZSx0KXtkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZSYmKGI/ZyhmdW5jdGlvbigpe3JldHVybiBlLnNldFNlbGVjdGlvblJhbmdlKHQsdCx5KX0sMCk6ZS5zZXRTZWxlY3Rpb25SYW5nZSh0LHQseSkpfWZ1bmN0aW9uIGEoZSl7aWYoKDAsZC5pc1N0cmluZykoZSkpcmV0dXJuIGU7aWYoKDAsZC5pc051bWJlcikoZSkpcmV0dXJuIFN0cmluZyhlKTtpZih2b2lkIDA9PT1lfHxudWxsPT09ZSlyZXR1cm4gdjt0aHJvdyBuZXcgRXJyb3IoXCJUaGUgJ3ZhbHVlJyBwcm92aWRlZCB0byBUZXh0IE1hc2sgbmVlZHMgdG8gYmUgYSBzdHJpbmcgb3IgYSBudW1iZXIuIFRoZSB2YWx1ZSByZWNlaXZlZCB3YXM6XFxuXFxuIFwiK0pTT04uc3RyaW5naWZ5KGUpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1vO3ZhciBzPXIoNCksZj1uKHMpLGM9cigyKSxwPW4oYyksZD1yKDMpLGg9cigxKSx2PVwiXCIseT1cIm5vbmVcIixtPVwib2JqZWN0XCIsYj1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvQW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZz1cInVuZGVmaW5lZFwiIT10eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lP3JlcXVlc3RBbmltYXRpb25GcmFtZTpzZXRUaW1lb3V0fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fXZhciBuPWZ1bmN0aW9uKCl7fTtuLnRoYXRSZXR1cm5zPXIsbi50aGF0UmV0dXJuc0ZhbHNlPXIoITEpLG4udGhhdFJldHVybnNUcnVlPXIoITApLG4udGhhdFJldHVybnNOdWxsPXIobnVsbCksbi50aGF0UmV0dXJuc1RoaXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbi50aGF0UmV0dXJuc0FyZ3VtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlfSxlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LHIsbixpLGEsdSxsKXtpZihvKHQpLCFlKXt2YXIgcztpZih2b2lkIDA9PT10KXM9bmV3IEVycm9yKFwiTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7ZWxzZXt2YXIgZj1bcixuLGksYSx1LGxdLGM9MDtzPW5ldyBFcnJvcih0LnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gZltjKytdfSkpLHMubmFtZT1cIkludmFyaWFudCBWaW9sYXRpb25cIn10aHJvdyBzLmZyYW1lc1RvUG9wPTEsc319dmFyIG89ZnVuY3Rpb24oZSl7fTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoNiksbz1yKDcpLGk9cigxMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixuLGEsdSl7dSE9PWkmJm8oITEsXCJDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiBVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiBSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzXCIpfWZ1bmN0aW9uIHQoKXtyZXR1cm4gZX1lLmlzUmVxdWlyZWQ9ZTt2YXIgcj17YXJyYXk6ZSxib29sOmUsZnVuYzplLG51bWJlcjplLG9iamVjdDplLHN0cmluZzplLHN5bWJvbDplLGFueTplLGFycmF5T2Y6dCxlbGVtZW50OmUsaW5zdGFuY2VPZjp0LG5vZGU6ZSxvYmplY3RPZjp0LG9uZU9mOnQsb25lT2ZUeXBlOnQsc2hhcGU6dCxleGFjdDp0fTtyZXR1cm4gci5jaGVja1Byb3BUeXBlcz1uLHIuUHJvcFR5cGVzPXIscn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxlLmV4cG9ydHM9cig4KSgpfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciByPVwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIjtlLmV4cG9ydHM9cn0sZnVuY3Rpb24odCxyKXt0LmV4cG9ydHM9ZX1dKX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRleHQtbWFzay9kaXN0L3JlYWN0VGV4dE1hc2suanNcbi8vIG1vZHVsZSBpZCA9IDYwOTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vQ1NTVHJhbnNpdGlvblwiKSk7XG5cbnZhciBfUmVwbGFjZVRyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1JlcGxhY2VUcmFuc2l0aW9uXCIpKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1RyYW5zaXRpb25Hcm91cFwiKSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvblwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUcmFuc2l0aW9uOiBfVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBUcmFuc2l0aW9uR3JvdXA6IF9UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdCxcbiAgUmVwbGFjZVRyYW5zaXRpb246IF9SZXBsYWNlVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBDU1NUcmFuc2l0aW9uOiBfQ1NTVHJhbnNpdGlvbi5kZWZhdWx0XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDYwOTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBQcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfYWRkQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9jbGFzcy9hZGRDbGFzc1wiKSk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvblwiKSk7XG5cbnZhciBfUHJvcFR5cGVzID0gcmVxdWlyZShcIi4vdXRpbHMvUHJvcFR5cGVzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbiBhZGRDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9hZGRDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9yZW1vdmVDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gX2V4dGVuZHMoe30sIF9UcmFuc2l0aW9uLmRlZmF1bHQucHJvcFR5cGVzLCB7XG4gIC8qKlxuICAgKiBUaGUgYW5pbWF0aW9uIGNsYXNzTmFtZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50IGFzIGl0IGVudGVycywgZXhpdHMgb3IgaGFzIGZpbmlzaGVkIHRoZSB0cmFuc2l0aW9uLlxuICAgKiBBIHNpbmdsZSBuYW1lIGNhbiBiZSBwcm92aWRlZCBhbmQgaXQgd2lsbCBiZSBzdWZmaXhlZCBmb3IgZWFjaCBzdGFnZTogZS5nLlxuICAgKlxuICAgKiBgY2xhc3NOYW1lcz1cImZhZGVcImAgYXBwbGllcyBgZmFkZS1lbnRlcmAsIGBmYWRlLWVudGVyLWFjdGl2ZWAsIGBmYWRlLWVudGVyLWRvbmVgLFxuICAgKiBgZmFkZS1leGl0YCwgYGZhZGUtZXhpdC1hY3RpdmVgLCBgZmFkZS1leGl0LWRvbmVgLCBgZmFkZS1hcHBlYXJgLCBhbmQgYGZhZGUtYXBwZWFyLWFjdGl2ZWAuXG4gICAqIEVhY2ggaW5kaXZpZHVhbCBjbGFzc05hbWVzIGNhbiBhbHNvIGJlIHNwZWNpZmllZCBpbmRlcGVuZGVudGx5IGxpa2U6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3tcbiAgICogIGFwcGVhcjogJ215LWFwcGVhcicsXG4gICAqICBhcHBlYXJBY3RpdmU6ICdteS1hY3RpdmUtYXBwZWFyJyxcbiAgICogIGVudGVyOiAnbXktZW50ZXInLFxuICAgKiAgZW50ZXJBY3RpdmU6ICdteS1hY3RpdmUtZW50ZXInLFxuICAgKiAgZW50ZXJEb25lOiAnbXktZG9uZS1lbnRlcicsXG4gICAqICBleGl0OiAnbXktZXhpdCcsXG4gICAqICBleGl0QWN0aXZlOiAnbXktYWN0aXZlLWV4aXQnLFxuICAgKiAgZXhpdERvbmU6ICdteS1kb25lLWV4aXQnLFxuICAgKiB9fVxuICAgKiBgYGBcbiAgICpcbiAgICogSWYgeW91IHdhbnQgdG8gc2V0IHRoZXNlIGNsYXNzZXMgdXNpbmcgQ1NTIE1vZHVsZXM6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuY3NzJztcbiAgICogYGBgXG4gICAqXG4gICAqIHlvdSBtaWdodCB3YW50IHRvIHVzZSBjYW1lbENhc2UgaW4geW91ciBDU1MgZmlsZSwgdGhhdCB3YXkgY291bGQgc2ltcGx5IHNwcmVhZFxuICAgKiB0aGVtIGluc3RlYWQgb2YgbGlzdGluZyB0aGVtIG9uZSBieSBvbmU6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3sgLi4uc3R5bGVzIH19XG4gICAqIGBgYFxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nIHwge1xuICAgKiAgYXBwZWFyPzogc3RyaW5nLFxuICAgKiAgYXBwZWFyQWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZW50ZXI/OiBzdHJpbmcsXG4gICAqICBlbnRlckFjdGl2ZT86IHN0cmluZyxcbiAgICogIGVudGVyRG9uZT86IHN0cmluZyxcbiAgICogIGV4aXQ/OiBzdHJpbmcsXG4gICAqICBleGl0QWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZXhpdERvbmU/OiBzdHJpbmcsXG4gICAqIH19XG4gICAqL1xuICBjbGFzc05hbWVzOiBfUHJvcFR5cGVzLmNsYXNzTmFtZXNTaGFwZSxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyJyBvciAnYXBwZWFyJyBjbGFzcyBpc1xuICAgKiBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyLWFjdGl2ZScgb3JcbiAgICogJ2FwcGVhci1hY3RpdmUnIGNsYXNzIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbClcbiAgICovXG4gIG9uRW50ZXJpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXInIG9yXG4gICAqICdhcHBlYXInIGNsYXNzZXMgYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGRvbmVgIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBET00gbm9kZS5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzIGlzXG4gICAqIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KVxuICAgKi9cbiAgb25FeGl0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQtYWN0aXZlJyBpcyBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudFxuICAgKi9cbiAgb25FeGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzZXNcbiAgICogYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGV4aXQtZG9uZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIERPTSBub2RlLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudClcbiAgICovXG4gIG9uRXhpdGVkOiBQcm9wVHlwZXMuZnVuY1xufSkgOiB7fTs7XG4vKipcbiAqIEEgYFRyYW5zaXRpb25gIGNvbXBvbmVudCB1c2luZyBDU1MgdHJhbnNpdGlvbnMgYW5kIGFuaW1hdGlvbnMuXG4gKiBJdCdzIGluc3BpcmVkIGJ5IHRoZSBleGNlbGxlbnQgW25nLWFuaW1hdGVdKGh0dHA6Ly93d3cubmdhbmltYXRlLm9yZy8pIGxpYnJhcnkuXG4gKlxuICogYENTU1RyYW5zaXRpb25gIGFwcGxpZXMgYSBwYWlyIG9mIGNsYXNzIG5hbWVzIGR1cmluZyB0aGUgYGFwcGVhcmAsIGBlbnRlcmAsXG4gKiBhbmQgYGV4aXRgIHN0YWdlcyBvZiB0aGUgdHJhbnNpdGlvbi4gVGhlIGZpcnN0IGNsYXNzIGlzIGFwcGxpZWQgYW5kIHRoZW4gYVxuICogc2Vjb25kIFwiYWN0aXZlXCIgY2xhc3MgaW4gb3JkZXIgdG8gYWN0aXZhdGUgdGhlIGNzcyBhbmltYXRpb24uIEFmdGVyIHRoZSBhbmltYXRpb24sXG4gKiBtYXRjaGluZyBgZG9uZWAgY2xhc3MgbmFtZXMgYXJlIGFwcGxpZWQgdG8gcGVyc2lzdCB0aGUgYW5pbWF0aW9uIHN0YXRlLlxuICpcbiAqIFdoZW4gdGhlIGBpbmAgcHJvcCBpcyB0b2dnbGVkIHRvIGB0cnVlYCB0aGUgQ29tcG9uZW50IHdpbGwgZ2V0XG4gKiB0aGUgYGV4YW1wbGUtZW50ZXJgIENTUyBjbGFzcyBhbmQgdGhlIGBleGFtcGxlLWVudGVyLWFjdGl2ZWAgQ1NTIGNsYXNzXG4gKiBhZGRlZCBpbiB0aGUgbmV4dCB0aWNrLiBUaGlzIGlzIGEgY29udmVudGlvbiBiYXNlZCBvbiB0aGUgYGNsYXNzTmFtZXNgIHByb3AuXG4gKi9cblxudmFyIENTU1RyYW5zaXRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ1NTVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLm9uRW50ZXIgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lcyA9IF90aGlzLmdldENsYXNzTmFtZXMoYXBwZWFyaW5nID8gJ2FwcGVhcicgOiAnZW50ZXInKSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzLmNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZXhpdCcpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkVudGVyaW5nID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMyID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcyhhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpLFxuICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXMyLmFjdGl2ZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJpbmcpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FbnRlcmluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FbnRlcmVkID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMzID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZW50ZXInKSxcbiAgICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczMuZG9uZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCBhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBkb25lQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJlZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczQgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczQuY2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdhcHBlYXInKTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZW50ZXInKTtcblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRXhpdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkV4aXQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdGluZyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczUgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczUuYWN0aXZlQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0aW5nKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRXhpdGluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FeGl0ZWQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXM2ID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZXhpdCcpLFxuICAgICAgICAgIGRvbmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNi5kb25lQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdleGl0Jyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGRvbmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0ZWQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FeGl0ZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmdldENsYXNzTmFtZXMgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgdmFyIGNsYXNzTmFtZXMgPSBfdGhpcy5wcm9wcy5jbGFzc05hbWVzO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZV0gOiBjbGFzc05hbWVzICsgJy0nICsgdHlwZTtcbiAgICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSB0eXBlb2YgY2xhc3NOYW1lcyAhPT0gJ3N0cmluZycgPyBjbGFzc05hbWVzW3R5cGUgKyAnQWN0aXZlJ10gOiBjbGFzc05hbWUgKyAnLWFjdGl2ZSc7XG4gICAgICB2YXIgZG9uZUNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZSArICdEb25lJ10gOiBjbGFzc05hbWUgKyAnLWRvbmUnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIGFjdGl2ZUNsYXNzTmFtZTogYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lOiBkb25lQ2xhc3NOYW1lXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ1NTVHJhbnNpdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbW92ZUNsYXNzZXMgPSBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKG5vZGUsIHR5cGUpIHtcbiAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczcgPSB0aGlzLmdldENsYXNzTmFtZXModHlwZSksXG4gICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM3LmNsYXNzTmFtZSxcbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuZG9uZUNsYXNzTmFtZTtcblxuICAgIGNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuICAgIGFjdGl2ZUNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuICAgIGRvbmVDbGFzc05hbWUgJiYgcmVtb3ZlQ2xhc3Mobm9kZSwgZG9uZUNsYXNzTmFtZSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlZmxvd0FuZEFkZENsYXNzID0gZnVuY3Rpb24gcmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBmb3IgdG8gZm9yY2UgYSByZXBhaW50LFxuICAgIC8vIHdoaWNoIGlzIG5lY2Vzc2FyeSBpbiBvcmRlciB0byB0cmFuc2l0aW9uIHN0eWxlcyB3aGVuIGFkZGluZyBhIGNsYXNzIG5hbWUuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICBub2RlICYmIG5vZGUuc2Nyb2xsVG9wO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG5cbiAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lcztcbiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIG9uRW50ZXI6IHRoaXMub25FbnRlcixcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5vbkVudGVyZWQsXG4gICAgICBvbkVudGVyaW5nOiB0aGlzLm9uRW50ZXJpbmcsXG4gICAgICBvbkV4aXQ6IHRoaXMub25FeGl0LFxuICAgICAgb25FeGl0aW5nOiB0aGlzLm9uRXhpdGluZyxcbiAgICAgIG9uRXhpdGVkOiB0aGlzLm9uRXhpdGVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBDU1NUcmFuc2l0aW9uO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5DU1NUcmFuc2l0aW9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xudmFyIF9kZWZhdWx0ID0gQ1NTVHJhbnNpdGlvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDYwOTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBoYXNDbGFzcztcblxuZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgcmV0dXJuICEhY2xhc3NOYW1lICYmIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7ZWxzZSByZXR1cm4gKFwiIFwiICsgKGVsZW1lbnQuY2xhc3NOYW1lLmJhc2VWYWwgfHwgZWxlbWVudC5jbGFzc05hbWUpICsgXCIgXCIpLmluZGV4T2YoXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIikgIT09IC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2hhc0NsYXNzLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDk3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1RyYW5zaXRpb25Hcm91cFwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBwcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGluOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogZnVuY3Rpb24gY2hpbGRyZW4ocHJvcHMsIHByb3BOYW1lKSB7XG4gICAgaWYgKF9yZWFjdC5kZWZhdWx0LkNoaWxkcmVuLmNvdW50KHByb3BzW3Byb3BOYW1lXSkgIT09IDIpIHJldHVybiBuZXcgRXJyb3IoXCJcXFwiXCIgKyBwcm9wTmFtZSArIFwiXFxcIiBtdXN0IGJlIGV4YWN0bHkgdHdvIHRyYW5zaXRpb24gY29tcG9uZW50cy5cIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0gOiB7fTs7XG4vKipcbiAqIFRoZSBgPFJlcGxhY2VUcmFuc2l0aW9uPmAgY29tcG9uZW50IGlzIGEgc3BlY2lhbGl6ZWQgYFRyYW5zaXRpb25gIGNvbXBvbmVudFxuICogdGhhdCBhbmltYXRlcyBiZXR3ZWVuIHR3byBjaGlsZHJlbi5cbiAqXG4gKiBgYGBqc3hcbiAqIDxSZXBsYWNlVHJhbnNpdGlvbiBpbj5cbiAqICAgPEZhZGU+PGRpdj5JIGFwcGVhciBmaXJzdDwvZGl2PjwvRmFkZT5cbiAqICAgPEZhZGU+PGRpdj5JIHJlcGxhY2UgdGhlIGFib3ZlPC9kaXY+PC9GYWRlPlxuICogPC9SZXBsYWNlVHJhbnNpdGlvbj5cbiAqIGBgYFxuICovXG5cbnZhciBSZXBsYWNlVHJhbnNpdGlvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSZXBsYWNlVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUmVwbGFjZVRyYW5zaXRpb24oKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF9hcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgX2FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChfYXJncykpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5oYW5kbGVFbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXInLCAwLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRW50ZXJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkVudGVyaW5nJywgMCwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUVudGVyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkVudGVyZWQnLCAwLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRXhpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNSksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgICAgICBhcmdzW19rZXk1XSA9IGFyZ3VtZW50c1tfa2V5NV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRXhpdCcsIDEsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFeGl0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjYgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW42KSwgX2tleTYgPSAwOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTZdID0gYXJndW1lbnRzW19rZXk2XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0aW5nJywgMSwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUV4aXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW43ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNyksIF9rZXk3ID0gMDsgX2tleTcgPCBfbGVuNzsgX2tleTcrKykge1xuICAgICAgICBhcmdzW19rZXk3XSA9IGFyZ3VtZW50c1tfa2V5N107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRXhpdGVkJywgMSwgYXJncyk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBSZXBsYWNlVHJhbnNpdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmhhbmRsZUxpZmVjeWNsZSA9IGZ1bmN0aW9uIGhhbmRsZUxpZmVjeWNsZShoYW5kbGVyLCBpZHgsIG9yaWdpbmFsQXJncykge1xuICAgIHZhciBfY2hpbGQkcHJvcHM7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgdmFyIGNoaWxkID0gX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbilbaWR4XTtcblxuICAgIGlmIChjaGlsZC5wcm9wc1toYW5kbGVyXSkgKF9jaGlsZCRwcm9wcyA9IGNoaWxkLnByb3BzKVtoYW5kbGVyXS5hcHBseShfY2hpbGQkcHJvcHMsIG9yaWdpbmFsQXJncyk7XG4gICAgaWYgKHRoaXMucHJvcHNbaGFuZGxlcl0pIHRoaXMucHJvcHNbaGFuZGxlcl0oKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcykpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgaW5Qcm9wID0gX3RoaXMkcHJvcHMuaW4sXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiaW5cIl0pO1xuXG4gICAgdmFyIF9SZWFjdCRDaGlsZHJlbiR0b0FyciA9IF9yZWFjdC5kZWZhdWx0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pLFxuICAgICAgICBmaXJzdCA9IF9SZWFjdCRDaGlsZHJlbiR0b0FyclswXSxcbiAgICAgICAgc2Vjb25kID0gX1JlYWN0JENoaWxkcmVuJHRvQXJyWzFdO1xuXG4gICAgZGVsZXRlIHByb3BzLm9uRW50ZXI7XG4gICAgZGVsZXRlIHByb3BzLm9uRW50ZXJpbmc7XG4gICAgZGVsZXRlIHByb3BzLm9uRW50ZXJlZDtcbiAgICBkZWxldGUgcHJvcHMub25FeGl0O1xuICAgIGRlbGV0ZSBwcm9wcy5vbkV4aXRpbmc7XG4gICAgZGVsZXRlIHByb3BzLm9uRXhpdGVkO1xuICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdCwgcHJvcHMsIGluUHJvcCA/IF9yZWFjdC5kZWZhdWx0LmNsb25lRWxlbWVudChmaXJzdCwge1xuICAgICAga2V5OiAnZmlyc3QnLFxuICAgICAgb25FbnRlcjogdGhpcy5oYW5kbGVFbnRlcixcbiAgICAgIG9uRW50ZXJpbmc6IHRoaXMuaGFuZGxlRW50ZXJpbmcsXG4gICAgICBvbkVudGVyZWQ6IHRoaXMuaGFuZGxlRW50ZXJlZFxuICAgIH0pIDogX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KHNlY29uZCwge1xuICAgICAga2V5OiAnc2Vjb25kJyxcbiAgICAgIG9uRW50ZXI6IHRoaXMuaGFuZGxlRXhpdCxcbiAgICAgIG9uRW50ZXJpbmc6IHRoaXMuaGFuZGxlRXhpdGluZyxcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5oYW5kbGVFeGl0ZWRcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlcGxhY2VUcmFuc2l0aW9uO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5SZXBsYWNlVHJhbnNpdGlvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBwcm9wVHlwZXMgOiB7fTtcbnZhciBfZGVmYXVsdCA9IFJlcGxhY2VUcmFuc2l0aW9uO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvUmVwbGFjZVRyYW5zaXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDYwOThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm5vb3AgPSBub29wO1xuZXhwb3J0cy5yZXR1cm5UcnVlID0gcmV0dXJuVHJ1ZTtcbmV4cG9ydHMuY2hhcklzTnVtYmVyID0gY2hhcklzTnVtYmVyO1xuZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBlc2NhcGVSZWdFeHA7XG5leHBvcnRzLmdldFRob3VzYW5kc0dyb3VwUmVnZXggPSBnZXRUaG91c2FuZHNHcm91cFJlZ2V4O1xuZXhwb3J0cy5zcGxpdERlY2ltYWwgPSBzcGxpdERlY2ltYWw7XG5leHBvcnRzLmZpeExlYWRpbmdaZXJvID0gZml4TGVhZGluZ1plcm87XG5leHBvcnRzLmxpbWl0VG9TY2FsZSA9IGxpbWl0VG9TY2FsZTtcbmV4cG9ydHMucm91bmRUb1ByZWNpc2lvbiA9IHJvdW5kVG9QcmVjaXNpb247XG5leHBvcnRzLm9taXQgPSBvbWl0O1xuZXhwb3J0cy5zZXRDYXJldFBvc2l0aW9uID0gc2V0Q2FyZXRQb3NpdGlvbjtcbmV4cG9ydHMuZmluZENoYW5nZWRJbmRleCA9IGZpbmRDaGFuZ2VkSW5kZXg7XG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XG5leHBvcnRzLmdldEN1cnJlbnRDYXJldFBvc2l0aW9uID0gZ2V0Q3VycmVudENhcmV0UG9zaXRpb247XG5cbi8vIGJhc2ljIG5vb3AgZnVuY3Rpb25cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY2hhcklzTnVtYmVyKGNoYXIpIHtcbiAgcmV0dXJuICEhKGNoYXIgfHwgJycpLm1hdGNoKC9cXGQvKTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1stW1xcXS97fSgpKis/LlxcXFxeJHxdL2csIFwiXFxcXCQmXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRUaG91c2FuZHNHcm91cFJlZ2V4KHRob3VzYW5kc0dyb3VwU3R5bGUpIHtcbiAgc3dpdGNoICh0aG91c2FuZHNHcm91cFN0eWxlKSB7XG4gICAgY2FzZSAnbGFraCc6XG4gICAgICByZXR1cm4gLyhcXGQrPykoPz0oXFxkXFxkKSsoXFxkKSg/IVxcZCkpKFxcLlxcZCspPy9nO1xuXG4gICAgY2FzZSAnd2FuJzpcbiAgICAgIHJldHVybiAvKFxcZCkoPz0oXFxkezR9KSsoPyFcXGQpKS9nO1xuXG4gICAgY2FzZSAndGhvdXNhbmQnOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gLyhcXGQpKD89KFxcZHszfSkrKD8hXFxkKSkvZztcbiAgfVxufSAvL3NwaWx0IGEgZmxvYXQgbnVtYmVyIGludG8gZGlmZmVyZW50IHBhcnRzIGJlZm9yZURlY2ltYWwsIGFmdGVyRGVjaW1hbCwgYW5kIG5lZ2F0aW9uXG5cblxuZnVuY3Rpb24gc3BsaXREZWNpbWFsKG51bVN0cikge1xuICB2YXIgYWxsb3dOZWdhdGl2ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgdmFyIGhhc05hZ2F0aW9uID0gbnVtU3RyWzBdID09PSAnLSc7XG4gIHZhciBhZGROZWdhdGlvbiA9IGhhc05hZ2F0aW9uICYmIGFsbG93TmVnYXRpdmU7XG4gIG51bVN0ciA9IG51bVN0ci5yZXBsYWNlKCctJywgJycpO1xuICB2YXIgcGFydHMgPSBudW1TdHIuc3BsaXQoJy4nKTtcbiAgdmFyIGJlZm9yZURlY2ltYWwgPSBwYXJ0c1swXTtcbiAgdmFyIGFmdGVyRGVjaW1hbCA9IHBhcnRzWzFdIHx8ICcnO1xuICByZXR1cm4ge1xuICAgIGJlZm9yZURlY2ltYWw6IGJlZm9yZURlY2ltYWwsXG4gICAgYWZ0ZXJEZWNpbWFsOiBhZnRlckRlY2ltYWwsXG4gICAgaGFzTmFnYXRpb246IGhhc05hZ2F0aW9uLFxuICAgIGFkZE5lZ2F0aW9uOiBhZGROZWdhdGlvblxuICB9O1xufVxuXG5mdW5jdGlvbiBmaXhMZWFkaW5nWmVybyhudW1TdHIpIHtcbiAgaWYgKCFudW1TdHIpIHJldHVybiBudW1TdHI7XG4gIHZhciBpc05lZ2F0aXZlID0gbnVtU3RyWzBdID09PSAnLSc7XG4gIGlmIChpc05lZ2F0aXZlKSBudW1TdHIgPSBudW1TdHIuc3Vic3RyaW5nKDEsIG51bVN0ci5sZW5ndGgpO1xuICB2YXIgcGFydHMgPSBudW1TdHIuc3BsaXQoJy4nKTtcbiAgdmFyIGJlZm9yZURlY2ltYWwgPSBwYXJ0c1swXS5yZXBsYWNlKC9eMCsvLCAnJykgfHwgJzAnO1xuICB2YXIgYWZ0ZXJEZWNpbWFsID0gcGFydHNbMV0gfHwgJyc7XG4gIHJldHVybiBcIlwiLmNvbmNhdChpc05lZ2F0aXZlID8gJy0nIDogJycpLmNvbmNhdChiZWZvcmVEZWNpbWFsKS5jb25jYXQoYWZ0ZXJEZWNpbWFsID8gXCIuXCIuY29uY2F0KGFmdGVyRGVjaW1hbCkgOiAnJyk7XG59XG4vKipcbiAqIGxpbWl0IGRlY2ltYWwgbnVtYmVycyB0byBnaXZlbiBzY2FsZVxuICogTm90IHVzZWQgLmZpeGVkVG8gYmVjYXVzZSB0aGF0IHdpbGwgYnJlYWsgd2l0aCBiaWcgbnVtYmVyc1xuICovXG5cblxuZnVuY3Rpb24gbGltaXRUb1NjYWxlKG51bVN0ciwgc2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKSB7XG4gIHZhciBzdHIgPSAnJztcbiAgdmFyIGZpbGxlciA9IGZpeGVkRGVjaW1hbFNjYWxlID8gJzAnIDogJyc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2NhbGUgLSAxOyBpKyspIHtcbiAgICBzdHIgKz0gbnVtU3RyW2ldIHx8IGZpbGxlcjtcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIHJlcXVpcmVkIHRvIHJvdW5kIHByb3AgdmFsdWUgdG8gZ2l2ZW4gc2NhbGUuXG4gKiBOb3QgdXNlZCAucm91bmQgb3IgLmZpeGVkVG8gYmVjYXVzZSB0aGF0IHdpbGwgYnJlYWsgd2l0aCBiaWcgbnVtYmVyc1xuICovXG5cblxuZnVuY3Rpb24gcm91bmRUb1ByZWNpc2lvbihudW1TdHIsIHNjYWxlLCBmaXhlZERlY2ltYWxTY2FsZSkge1xuICAvL2lmIG51bWJlciBpcyBlbXB0eSBkb24ndCBkbyBhbnl0aGluZyByZXR1cm4gZW1wdHkgc3RyaW5nXG4gIGlmIChbJycsICctJ10uaW5kZXhPZihudW1TdHIpICE9PSAtMSkgcmV0dXJuIG51bVN0cjtcbiAgdmFyIHNob3VkSGF2ZURlY2ltYWxTZXBhcmF0b3IgPSBudW1TdHIuaW5kZXhPZignLicpICE9PSAtMSAmJiBzY2FsZTtcblxuICB2YXIgX3NwbGl0RGVjaW1hbCA9IHNwbGl0RGVjaW1hbChudW1TdHIpLFxuICAgICAgYmVmb3JlRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYmVmb3JlRGVjaW1hbCxcbiAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYWZ0ZXJEZWNpbWFsLFxuICAgICAgaGFzTmFnYXRpb24gPSBfc3BsaXREZWNpbWFsLmhhc05hZ2F0aW9uO1xuXG4gIHZhciByb3VuZGVkRGVjaW1hbFBhcnRzID0gcGFyc2VGbG9hdChcIjAuXCIuY29uY2F0KGFmdGVyRGVjaW1hbCB8fCAnMCcpKS50b0ZpeGVkKHNjYWxlKS5zcGxpdCgnLicpO1xuICB2YXIgaW50UGFydCA9IGJlZm9yZURlY2ltYWwuc3BsaXQoJycpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKHJvdW5kZWRTdHIsIGN1cnJlbnQsIGlkeCkge1xuICAgIGlmIChyb3VuZGVkU3RyLmxlbmd0aCA+IGlkeCkge1xuICAgICAgcmV0dXJuIChOdW1iZXIocm91bmRlZFN0clswXSkgKyBOdW1iZXIoY3VycmVudCkpLnRvU3RyaW5nKCkgKyByb3VuZGVkU3RyLnN1YnN0cmluZygxLCByb3VuZGVkU3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnQgKyByb3VuZGVkU3RyO1xuICB9LCByb3VuZGVkRGVjaW1hbFBhcnRzWzBdKTtcbiAgdmFyIGRlY2ltYWxQYXJ0ID0gbGltaXRUb1NjYWxlKHJvdW5kZWREZWNpbWFsUGFydHNbMV0gfHwgJycsIE1hdGgubWluKHNjYWxlLCBhZnRlckRlY2ltYWwubGVuZ3RoKSwgZml4ZWREZWNpbWFsU2NhbGUpO1xuICB2YXIgbmVnYXRpb24gPSBoYXNOYWdhdGlvbiA/ICctJyA6ICcnO1xuICB2YXIgZGVjaW1hbFNlcGFyYXRvciA9IHNob3VkSGF2ZURlY2ltYWxTZXBhcmF0b3IgPyAnLicgOiAnJztcbiAgcmV0dXJuIFwiXCIuY29uY2F0KG5lZ2F0aW9uKS5jb25jYXQoaW50UGFydCkuY29uY2F0KGRlY2ltYWxTZXBhcmF0b3IpLmNvbmNhdChkZWNpbWFsUGFydCk7XG59XG5cbmZ1bmN0aW9uIG9taXQob2JqLCBrZXlNYXBzKSB7XG4gIHZhciBmaWx0ZXJlZE9iaiA9IHt9O1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICgha2V5TWFwc1trZXldKSBmaWx0ZXJlZE9ialtrZXldID0gb2JqW2tleV07XG4gIH0pO1xuICByZXR1cm4gZmlsdGVyZWRPYmo7XG59XG4vKiogc2V0IHRoZSBjYXJldCBwb3NpdG9uIGluIGFuIGlucHV0IGZpZWxkICoqL1xuXG5cbmZ1bmN0aW9uIHNldENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zKSB7XG4gIGVsLnZhbHVlID0gZWwudmFsdWU7IC8vIF4gdGhpcyBpcyB1c2VkIHRvIG5vdCBvbmx5IGdldCBcImZvY3VzXCIsIGJ1dFxuICAvLyB0byBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBpdCBldmVyeXRoaW5nIC1zZWxlY3RlZC1cbiAgLy8gKGl0IGNhdXNlcyBhbiBpc3N1ZSBpbiBjaHJvbWUsIGFuZCBoYXZpbmcgaXQgZG9lc24ndCBodXJ0IGFueSBvdGhlciBicm93c2VyKVxuXG4gIGlmIChlbCAhPT0gbnVsbCkge1xuICAgIGlmIChlbC5jcmVhdGVUZXh0UmFuZ2UpIHtcbiAgICAgIHZhciByYW5nZSA9IGVsLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgcmFuZ2UubW92ZSgnY2hhcmFjdGVyJywgY2FyZXRQb3MpO1xuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIChlbC5zZWxlY3Rpb25TdGFydCA9PT0gMCBhZGRlZCBmb3IgRmlyZWZveCBidWcpXG5cblxuICAgIGlmIChlbC5zZWxlY3Rpb25TdGFydCB8fCBlbC5zZWxlY3Rpb25TdGFydCA9PT0gMCkge1xuICAgICAgZWwuZm9jdXMoKTtcbiAgICAgIGVsLnNldFNlbGVjdGlvblJhbmdlKGNhcmV0UG9zLCBjYXJldFBvcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIGZhaWwgY2l0eSwgZm9ydHVuYXRlbHkgdGhpcyBuZXZlciBoYXBwZW5zIChhcyBmYXIgYXMgSSd2ZSB0ZXN0ZWQpIDopXG5cblxuICAgIGVsLmZvY3VzKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4vKipcbiAgR2l2ZW4gcHJldmlvdXMgdmFsdWUgYW5kIG5ld1ZhbHVlIGl0IHJldHVybnMgdGhlIGluZGV4XG4gIHN0YXJ0IC0gZW5kIHRvIHdoaWNoIHZhbHVlcyBoYXZlIGNoYW5nZWQuXG4gIFRoaXMgZnVuY3Rpb24gbWFrZXMgYXNzdW1wdGlvbiBhYm91dCBvbmx5IGNvbnNlY3V0aXZlXG4gIGNoYXJhY3RlcnMgYXJlIGNoYW5nZWQgd2hpY2ggaXMgY29ycmVjdCBhc3N1bXB0aW9uIGZvciBjYXJldCBpbnB1dC5cbiovXG5cblxuZnVuY3Rpb24gZmluZENoYW5nZWRJbmRleChwcmV2VmFsdWUsIG5ld1ZhbHVlKSB7XG4gIHZhciBpID0gMCxcbiAgICAgIGogPSAwO1xuICB2YXIgcHJldkxlbmd0aCA9IHByZXZWYWx1ZS5sZW5ndGg7XG4gIHZhciBuZXdMZW5ndGggPSBuZXdWYWx1ZS5sZW5ndGg7XG5cbiAgd2hpbGUgKHByZXZWYWx1ZVtpXSA9PT0gbmV3VmFsdWVbaV0gJiYgaSA8IHByZXZMZW5ndGgpIHtcbiAgICBpKys7XG4gIH0gLy9jaGVjayB3aGF0IGhhcyBiZWVuIGNoYW5nZWQgZnJvbSBsYXN0XG5cblxuICB3aGlsZSAocHJldlZhbHVlW3ByZXZMZW5ndGggLSAxIC0gal0gPT09IG5ld1ZhbHVlW25ld0xlbmd0aCAtIDEgLSBqXSAmJiBuZXdMZW5ndGggLSBqID4gaSAmJiBwcmV2TGVuZ3RoIC0gaiA+IGkpIHtcbiAgICBqKys7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBpLFxuICAgIGVuZDogcHJldkxlbmd0aCAtIGpcbiAgfTtcbn1cbi8qXG4gIFJldHVybnMgYSBudW1iZXIgd2hvc2UgdmFsdWUgaXMgbGltaXRlZCB0byB0aGUgZ2l2ZW4gcmFuZ2VcbiovXG5cblxuZnVuY3Rpb24gY2xhbXAobnVtLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q2FyZXRQb3NpdGlvbihlbCkge1xuICAvKk1heCBvZiBzZWxlY3Rpb25TdGFydCBhbmQgc2VsZWN0aW9uRW5kIGlzIHRha2VuIGZvciB0aGUgcGF0Y2ggb2YgcGl4ZWwgYW5kIG90aGVyIG1vYmlsZSBkZXZpY2UgY2FyZXQgYnVnKi9cbiAgcmV0dXJuIE1hdGgubWF4KGVsLnNlbGVjdGlvblN0YXJ0LCBlbC5zZWxlY3Rpb25FbmQpO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LW51bWJlci1mb3JtYXQvbGliL3V0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDk5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCB7IERvbmUsIEhpZ2hsaWdodE9mZiwgQ2hlY2tDaXJjbGVPdXRsaW5lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nJztcclxuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQWN0aW9ucyc7XHJcbmltcG9ydCBEaWFsb2dUaXRsZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dUaXRsZSc7XHJcbmltcG9ydCBFcnJvciBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRXJyb3InO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NlbGVjdCc7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9NZW51SXRlbSc7XHJcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCBDdXN0b21EaWFsb2cgZnJvbSAnLi9DdXN0b21EaWFsb2cnXHJcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gXCJkYXRlLWZuc1wiO1xyXG5pbXBvcnQgeyBlbXB0eUZ1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICAnLi4vdXRpbHMvYmFzZVN0eWxlJztcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcblxyXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBzdW1tYXJ5OiB7XHJcbiAgICAgICAgc3VtbWFyeTogXCJcIixcclxuICAgIH0sXHJcbiAgICByZWFzb25Db2RlTGlzdDogXCJcIixcclxuICAgIGNvcnJlY3RJbnZvaWNlczogXCJcIixcclxuICAgIGluY29ycmVjdEZsYWc6IFwiXCIsXHJcbiAgICB0b2dnbGVFeHBhbmQ6IFwiXCJcclxuICB9O1xyXG5cclxuLy9jb25zdGFudHNcclxuLy8gY29uc3QgRGlzcHV0ZVJlZ2V4ID0gLyhEaXNwdXRlIGZvciBcXGQqKXwoWzAtOV17NH1bLV1bMC05XXsyfVstXVswLTldezJ9KXwoXFxkKiBpbnZvaWNlKS9nO1xyXG5jb25zdCBkaXNwdXRlUmVnZXggPSAvKFxcZCogaW52b2ljZSl8KGJlY2F1c2Ugb2YgLiopL2c7XHJcbmNvbnN0IGRpc2NhcmRNZXNzYWdlID0gXCJUaGlzIHdpbGwgYmUgcmVtb3ZlZCBwZXJtYW5lbnRseSBmcm9tIHRoZSBzdWdnZXN0ZWQgYWN0aW9ucy4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS5cIjtcclxuY29uc3QgcmVzb2x2ZU1lc3NhZ2UgPSBcIiBVbmFibGUgdG8gY29tcGxldGUgdGhlIGFjdGlvbi4gUGxlYXNlIHJlc29sdmUgdGhlIGVycm9ycyB0byBhcHByb3ZlLlwiO1xyXG5jb25zdCBub1JlYXNvbk1lc3NhZ2UgPSBcIlBsZWFzZSBzZWxlY3QgYXBwcm9wcmlhdGUgZGlzcHV0ZSByZWFzb24uXCI7XHJcbmNvbnN0IG5vSW52b2ljZU1lc3NhZ2UgPSBcIk5vIGludm9pY2Ugc2VsZWN0ZWQuIFBsZWFzZSBhZGQgYXQgbGVhc3QgYW4gaW52b2ljZSB0byBzYXZlIHRoZSBkaXNwdXRlLlwiO1xyXG5jb25zdCBESVNQVVRFX1RFTVBMQVRFID0gXCJEaXNwdXRlIHJhaXNlZCBmb3IgPEludm9pY2VzPiBiZWNhdXNlIG9mIDogPERJU1BVVEUtUkVBU09OPlwiO1xyXG5jb25zdCBESVNQVVRFX09SSUdfVEVNUExBVEUgPSBcIkNyZWF0ZSBEaXNwdXRlIGZvciA8SW52b2ljZXM+IGJlY2F1c2Ugb2YgPFJlYXNvbkNvZGU+XCI7XHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcblxyXG4gICAgc2VsZWN0TWVudUNsYXNzOiB7XHJcbiAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICAgIG9wYWNpdHkgOiAwLjY1LFxyXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBtZW51SXRlbVJvb3Q6IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICBtZW51UGFwZXI6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICAgICAgaGVpZ2h0OiBcIjIwcmVtICFpbXBvcnRhbnRcIixcclxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxyXG4gICAgICAgIGJvcmRlcjogXCIycHggc29saWQgd2hpdGVcIlxyXG4gICAgIH0sXHJcbiAgICB0ZXN0OiB7XHJcbiAgICAgICAgd2lkdGg6ICdhdXRvJyxcclxuICAgICAgICBwYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiAwLjZcclxuICAgIH0sXHJcbiAgICBhY3Rpb25Qcm9ncmVzc0Jhcjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgcGFkZGluZ0xlZnQgOiBcIjAuNXJlbVwiLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodCA6IFwiMC41cmVtXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICAgIFxyXG4gICAgfSxcclxuXHJcbiAgICB0ZXh0RmllbGQ6IHtcclxuICAgICAgICBtYXJnaW46IFwiMHB4XCIsXHJcbiAgICAgICAgLy8gd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICAgICAgLy8gcGFkZGluZzogXCIwcHhcIixcclxuICAgICAgICAvLyBtYXhXaWR0aDogXCIxMjBweFwiLFxyXG4gICAgICAgIC8vIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgICAgIHRlc3RJbml0aWFsOiB7XHJcbiAgICAgICAgd2lkdGg6ICdhdXRvJyxcclxuICAgICAgICBwYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eTogMC42LFxyXG5cclxuICAgICAgICBcIiY6YmVmb3JlXCI6IHtcclxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIiY6YWZ0ZXJcIjoge1xyXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIixcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgXHJcbiAgICBjYXJkQ29udGVudCA6IHtcclxuICAgICAgICBjb2xvciA6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHkgOiAwLjY1XHJcbiAgICB9LFxyXG4gICAgYWN0aW9uSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgZXJyb3JGbGFnOiB7XHJcbiAgICAgICAgY29sb3I6IFwiI0ZGNDQ0NFwiLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxyXG4gICAgfSxcclxuICAgIHNlbGVjdEljb246IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgIH0sXHJcbiAgICBkaXNhYmxlRG9uZUJ0bjoge1xyXG4gICAgICAgIG9wYWNpdHk6IDAuNCxcclxuICAgICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiLFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyB0ZXN0OiB7XHJcbiAgICAvLyAgICAgd2lkdGg6ICdhdXRvJyxcclxuICAgIC8vICAgICBwYWRkaW5nOiAnMHB4JyxcclxuICAgIC8vICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAvLyAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgIC8vICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAvLyAgICAgb3BhY2l0eTogMC42LFxyXG5cclxuICAgIC8vICAgICBcIiY6YmVmb3JlXCI6IHtcclxuICAgIC8vICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjNURBQUUwXCIsXHJcbiAgICAvLyAgICAgfSxcclxuICAgIC8vICAgICBcIiY6YWZ0ZXJcIjoge1xyXG4gICAgLy8gICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICM1REFBRTBcIixcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gdGVzdEluaXRpYWw6IHtcclxuICAgIC8vICAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgLy8gICAgIHBhZGRpbmc6ICcwcHgnLFxyXG4gICAgLy8gICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgIC8vICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgLy8gICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIC8vICAgICBvcGFjaXR5OiAwLjYsXHJcblxyXG4gICAgLy8gICAgIFwiJjpiZWZvcmVcIjoge1xyXG4gICAgLy8gICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIixcclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIFwiJjphZnRlclwiOiB7XHJcbiAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcblxyXG59KTtcclxuXHJcbmNsYXNzIERpc3B1dGUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgbGV0IGV4dHJhY3RlZERhdGEgPSAodGhpcy5wcm9wcy5zdW1tYXJ5ICYmIHRoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5KT90aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChkaXNwdXRlUmVnZXgpOlwiXCI7XHJcbiAgICAgICAgLy8gbGV0IGV4dHJhY3RlZEFtb3VudCA9IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pO1xyXG4gICAgICAgIC8vIGlmICghZXh0cmFjdGVkQW1vdW50KSBleHRyYWN0ZWRBbW91bnQgPSAwOyAgICAgICAgXHJcblxyXG4gICAgICAgIC8vIGxldCBub09mSW52b2ljZXMgPSBleHRyYWN0ZWREYXRhWzBdID8gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9LykgOiAwO1xyXG5cclxuICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xyXG4gICAgICAgIC8vICAgICBub09mSW52b2ljZXMgPSAwO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgbGV0IHJlYXNvbkNvZGUgPSBleHRyYWN0ZWREYXRhWzFdID8gZXh0cmFjdGVkRGF0YVsxXS5zdWJzdHJpbmcoMTEpIDogXCJcIjtcclxuICAgICAgICBsZXQgcmVhc29uQ29kZXMgPSB0aGlzLnByb3BzLnJlYXNvbkNvZGVMaXN0O1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHJlYXNvbkNvZGVzLmluZGV4T2YocmVhc29uQ29kZSkgPCAwKSB7XHJcbiAgICAgICAgICAgIHJlYXNvbkNvZGUgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICByZWFzb25Db2RlOiByZWFzb25Db2RlLFxyXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IHRoaXMucHJvcHMuaW52b2ljZUNvdW50LFxyXG4gICAgICAgICAgICBvcGVuQWN0aW9uU2F2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcclxuICAgICAgICAgICAgb3Blbk5vUmVhc29uRGlhbG9nOiBmYWxzZSxcclxuICAgICAgICAgICAgb3Blbk5vSW52b2ljZURpYWxvZzogZmFsc2UsXHJcbiAgICAgICAgICAgIG9wZW5Qcm9ncmVzc0JhcjogdHJ1ZSxcclxuICAgICAgICAgICAgYWN0aW9uSWQ6IHRoaXMucHJvcHMuc3VtbWFyeS5pZCxcclxuICAgICAgICAgICAgaXNEb25lOiB0aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSxcclxuICAgICAgICAgICAgLy8gaXNEb25lOiBmYWxzZSxcclxuICAgICAgICAgICAgZmluYWxTZWxlY3RlZERhdGU6IFwiXCIsXHJcbiAgICAgICAgICAgIC8vIHJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aDogcmVhc29uQ29kZSA/IChcIlwiICsgcmVhc29uQ29kZSkubGVuZ3RoICogMTIgOiA1MCxcclxuICAgICAgICAgICAgY2hhbmdlOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogbmV4dFByb3BzLmluY29ycmVjdEZsYWcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChuZXh0UHJvcHMuaW52b2ljZUNvdW50ID49IDAgJiYgbmV4dFByb3BzLmludm9pY2VDb3VudCAhPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZUNvdW50OiBuZXh0UHJvcHMuaW52b2ljZUNvdW50IH1cclxuICAgICAgICAgICAgICAgICwgKCkgPT4geyB0aGlzLnVwZGF0ZVN1bW1hcnkoKSB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vKmNoYW5nZSogYm90dG9uIDMgZnVuY3Rpb25zXHJcbiAgICBzYXZlRGlzcHV0ZSA9ICgpID0+IHtcclxuICAgICAgICBsZXQgaW52b2ljZXMgPSB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlcy5tYXAoaW52b2ljZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbnZvaWNlT2JqID0ge31cclxuICAgICAgICAgICAgaW52b2ljZU9iai5jbXNEb2NIZWFkZXJJZCA9IGludm9pY2UuaWRcclxuICAgICAgICAgICAgcmV0dXJuIGludm9pY2VPYmo7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmluY29ycmVjdEZsYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUucmVhc29uQ29kZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbk5vUmVhc29uRGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbk5vSW52b2ljZURpYWxvZzogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbGV0IHJlcU9iaiA9IHtcclxuICAgICAgICAgICAgLy8gYWN0dWFsRGlzcHV0ZUFtb3VudDogdGhpcy5zdGF0ZS5hbW91bnQsXHJcbiAgICAgICAgICAgIHJlYXNvbkNvZGU6IHRoaXMuc3RhdGUucmVhc29uQ29kZSxcclxuICAgICAgICAgICAgY3VzdG9tZXJJZDogdGhpcy5wcm9wcy5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgZGlzcHV0ZUl0ZW1zOiBpbnZvaWNlcyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2N1c3RvbWVyLyR7dGhpcy5wcm9wcy5jdXN0b21lci5pZH0vZGlzcHV0ZWAsIHJlcU9iailcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlNVQ0NFU1NcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzRG9uZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvL3VwZGF0ZSBmbGFnIGluIGFjdGlvbnMgfCBwb3N0IGNhbGwgXHJcbiAgICAgICAgICAgICAgICBsZXQgc3VtbWFyeVRvU2F2ZSA9IHRoaXMuZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkFjdGlvbkl0ZW1Db25maXJtKHN1bW1hcnlUb1NhdmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRVJST1JcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5ID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBpbnZvaWNlQ291bnQgPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudDtcclxuXHJcbiAgICAgICAgbGV0IGdlbmVyYXRlZFN1bW1hcnkgPSBESVNQVVRFX1RFTVBMQVRFLnJlcGxhY2UoXCI8RElTUFVURS1SRUFTT04+XCIsIHRoaXMuc3RhdGUucmVhc29uQ29kZSlcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCI8SW52b2ljZXM+XCIsIChpbnZvaWNlQ291bnQgPT0gMSkgPyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlXCIgOiBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlc1wiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFN1bW1hcnk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU3VtbWFyeSA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VDb3VudCA9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50O1xyXG4gICAgICAgIGxldCBmb3JtYXR0ZWREYXRlID0gZm9ybWF0KG5ldyBEYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlKSwgXCJ5eXl5LU1NLWRkXCIpO1xyXG4gICAgICAgIGxldCB1cGRhdGVkU3VtbWFyeSA9IERJU1BVVEVfT1JJR19URU1QTEFURS5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCAoaW52b2ljZUNvdW50ID09PSAwKSA/IFwiPFggaW52b2ljZXM+XCIgOiBpbnZvaWNlQ291bnQgPT09IDEgPyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlXCIgOiBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlc1wiKVxyXG4gICAgICAgICAgICAucmVwbGFjZShcIjxSZWFzb25Db2RlPlwiLCB0aGlzLnN0YXRlLnJlYXNvbkNvZGUpO1xyXG4gICAgICAgIHRoaXMucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IG1lc3NhZ2UgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbkFjdGlvbkRpc2NhcmREaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VBbmREaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVBY3Rpb24odGhpcy5zdGF0ZS5hY3Rpb25JZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlV2FybmluZ0RpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlTm9SZWFzb25EaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5Ob1JlYXNvbkRpYWxvZzogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VOb0ludm9pY2VEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5Ob0ludm9pY2VEaWFsb2c6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVJlYXNvbkNvZGVDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGNoYW5nZTogdHJ1ZSxcclxuICAgICAgICAgICAgcmVhc29uQ29kZTogZXZlbnQudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICAvLyByZWFzb25Db2RlVGV4dEZpZWxkV2lkdGg6IGV2ZW50LnRhcmdldC52YWx1ZSA/IChcIlwiICsgZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCkgKiAxMiA6IDUwXHJcbiAgICAgICAgfSwgKCkgPT4geyB0aGlzLnVwZGF0ZVN1bW1hcnkoKSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZ2V0UmVhc29uQ29kZSA9ICgpID0+IHtcclxuICAgICAgICBsZXQgcmVhc29uQ29kZXMgPSB0aGlzLnByb3BzLnJlYXNvbkNvZGVMaXN0O1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnJlYXNvbkNvZGUgJiYgcmVhc29uQ29kZXMuaW5kZXhPZih0aGlzLnN0YXRlLnJlYXNvbkNvZGUpID49IDApIHtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIFwiU2VsZWN0XCI7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnJlYXNvbkNvZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlNlbGVjdFwiO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGNsYXNzZXMgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBzdW1tYXJ5IH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgZnVsbFNjcmVlbiB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgbGV0IHJlYXNvbkNvZGVzID0gdGhpcy5wcm9wcy5yZWFzb25Db2RlTGlzdDtcclxuICAgICAgICBsZXQgb3B0aW9uSXRlbXMgPSByZWFzb25Db2RlcyAmJiByZWFzb25Db2Rlcy5tYXAoKHJlYXNvbkNvZGUsIGlkKSA9PlxyXG4gICAgICAgICAgICA8TWVudUl0ZW0ga2V5PXtpZH0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17cmVhc29uQ29kZX0+e3JlYXNvbkNvZGV9PC9NZW51SXRlbT5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8R3JpZCBjb250YWluZXIgY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VTYW1wbGV9PlxyXG4gICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTB9IG1kPXsxMH0gbGc9ezEwfSBjb250YWluZXIgYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJmbGV4LXN0YXJ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogXCIzcmVtXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aW9uU2F2ZVByb2dyZXNzQmFyICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9uUHJvZ3Jlc3NCYXJ9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEb25lIHN0eWxlPXt7IGNvbG9yOiBcIiM1RkMzMkNcIiAsIHBhZGRpbmdMZWZ0IDogXCIwLjVyZW1cIiwgcGFkZGluZ1JpZ2h0IDogXCIwLjVyZW1cIiwgaGVpZ2h0IDogXCIxLjVyZW1cIiwgd2lkdGggOiBcIjEuNXJlbVwiIH19IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0RvbmUgJiYgPFR5cG9ncmFwaHkgIHN0eWxlPXt7ICBvcGFjaXR5IDogMSwgIH19IGNsYXNzTmFtZSA9IHtjbGFzc2VzLmNhcmRDb250ZW50fSA+Q3JlYXRlZCAmbmJzcDs8L1R5cG9ncmFwaHk+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNEb25lICYmIDxUeXBvZ3JhcGh5IHN0eWxlPXt7ICBvcGFjaXR5IDogMSwgIH19IGNsYXNzTmFtZSA9IHtjbGFzc2VzLmNhcmRDb250ZW50fT5DcmVhdGUgJm5ic3A7PC9UeXBvZ3JhcGh5Pn1cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgZm9udFdlaWdodDogXCJib2xkXCIsIG9wYWNpdHkgOiAxLCB9fSBjbGFzc05hbWUgPSB7Y2xhc3Nlcy5jYXJkQ29udGVudH0+RElTUFVURSAmbmJzcDs8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmludm9pY2VDb3VudCAhPT0gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZGlzcGxheTogXCJmbGV4XCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgbWFyZ2luOiBcIjAgOHB4IDAgNnB4XCIgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fT5mb3I8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgZm9udFdlaWdodDogJ2JvbGQnIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0gb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVFeHBhbmR9Pnt0aGlzLnN0YXRlLmludm9pY2VDb3VudCArIFwiIEludm9pY2VcIiArICh0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDEgPyBcInNcIiA6IFwiXCIpfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnICYmIDxFcnJvciBjbGFzc05hbWU9e2NsYXNzZXMuZXJyb3JGbGFnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9PiZuYnNwOyB3aXRoIHJlYXNvbiBjb2RlIG9mICZuYnNwOzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHlsZT17eyB3aWR0aDogdGhpcy5zdGF0ZS5yZWFzb25Db2RlVGV4dEZpZWxkV2lkdGggfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuPXt0aGlzLnN0YXRlLmlzRG9uZX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwicmVhc29uLWNvZGUtZmllbGRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuZ2V0UmVhc29uQ29kZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlUmVhc29uQ29kZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5yZWFzb25Db2RlID8gKGNsYXNzZXMudGVzdCkgOiAoY2xhc3Nlcy50ZXN0SW5pdGlhbCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudUNsYXNzLCBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24gfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnVQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9XCJTZWxlY3RcIiBkaXNhYmxlZCA+U2VsZWN0PC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcHRpb25JdGVtc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUucmVhc29uQ29kZVRleHRGaWVsZFdpZHRoIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbj17IXRoaXMuc3RhdGUuaXNEb25lfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e1wicmVhc29uLWNvZGUtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnNlbGVjdGVkUmVhc29ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucmVhc29uQ29kZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUludm9pY2VDdXJyZW5jeUNoYW5nZShcImFtb3VudFwiKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbj1cIm5vcm1hbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nPVwibm9ybWFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlucHV0Q29tcG9uZW50OiBOdW1iZXJGb3JtYXRDdXN0b20sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLnJlYXNvbkNvZGU/KGNsYXNzZXMuc2VsZWN0ZWRSZWFzb24pOihjbGFzc2VzLmVtcHR5UmVhc29uKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID57dGhpcy5zdGF0ZS5yZWFzb25Db2RlfTwvVHlwb2dyYXBoeT4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFjdGlvblNhdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e2Rpc2NhcmRNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWdyZWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbURpYWxvZyBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFjdGlvblNhdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2d9IHRpdGxlPXtkaXNjYXJkTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24ga2V5PXtcIkN1c3RvbURpYWxvZ1wiKzB9IG9uQ2xpY2s9e3RoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nfSBjb2xvcj1cInByaW1hcnlcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5dXHJcbiAgICAgICAgICAgICAgICAgICAgfSAvPlxyXG5cclxuICAgICAgICAgICAgICAgIHsvKiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5XYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgaWQ9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiPntyZXNvbHZlTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tRGlhbG9nIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlV2FybmluZ0RpYWxvZ30gdGl0bGU9e3Jlc29sdmVNZXNzYWdlfSBhY3Rpb25zPXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFs8QnV0dG9uICBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9IGNvbG9yPVwicHJpbWFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XVxyXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cclxuICAgICAgICAgICAgICAgIHsvKiA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5Ob1JlYXNvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlTm9SZWFzb25EaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e25vUmVhc29uTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbURpYWxvZyBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbk5vUmVhc29uRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZ30gdGl0bGU9e25vUmVhc29uTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZU5vUmVhc29uRGlhbG9nfSBjb2xvcj1cInNlY29uZGFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XVxyXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cclxuICAgICAgICAgICAgICAgIHsvKiA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5Ob0ludm9pY2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGlkPVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIj57bm9JbnZvaWNlTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VOb0ludm9pY2VEaWFsb2d9IGNvbG9yPVwiZGVmYXVsdFwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPiAqL31cclxuICAgICAgICAgICAgICAgIDxDdXN0b21EaWFsb2cgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5Ob0ludm9pY2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZ30gdGl0bGU9e25vSW52b2ljZU1lc3NhZ2V9IGFjdGlvbnM9e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgWzxCdXR0b24ga2V5PXtcIkN1c3RvbURpYWxvZ1wiKzB9IG9uQ2xpY2s9e3RoaXMuY2xvc2VOb0ludm9pY2VEaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5dXHJcbiAgICAgICAgICAgICAgICAgICAgfSAvPlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsyfSBtZD17Mn0gbGc9ezJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0T2ZmIHN0eWxlPXt7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH19IG9uQ2xpY2s9e3RoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2d9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIiM1RkMzMkNcIiB9fSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuc3RhdGUucmVhc29uQ29kZSA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhdGUucmVhc29uQ29kZSA/IHRoaXMuc2F2ZURpc3B1dGUgOiBlbXB0eUZ1bmN0aW9ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuRGlzcHV0ZS5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5EaXNwdXRlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcclxuXHJcbmNvbnN0IGNvbWJpbmVkU3R5bGUgPSBjb21iaW5lU3R5bGVzKHN0eWxlcyxiYXNlU3R5bGUpXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoRGlzcHV0ZSlcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9EaXNwdXRlLmpzIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IHtcclxuICBEb25lLFxyXG4gIEhpZ2hsaWdodE9mZixcclxuICBEYXRlUmFuZ2UsXHJcbiAgQ2hlY2tDaXJjbGVPdXRsaW5lXHJcbn0gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29uc1wiO1xyXG5pbXBvcnQgRGF0ZUZuc1V0aWxzIGZyb20gJ0BkYXRlLWlvL2RhdGUtZm5zJztcclxuaW1wb3J0IHsgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIgfSBmcm9tICdtYXRlcmlhbC11aS1waWNrZXJzJztcclxuaW1wb3J0IHsgRGF0ZVBpY2tlciB9IGZyb20gJ21hdGVyaWFsLXVpLXBpY2tlcnMnO1xyXG5pbXBvcnQgeyBNdWlUaGVtZVByb3ZpZGVyLCBjcmVhdGVNdWlUaGVtZSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IGJsdWUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvY29sb3JzL2JsdWUnO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGQnO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBOdW1iZXJGb3JtYXQgZnJvbSAncmVhY3QtbnVtYmVyLWZvcm1hdCc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NlbGVjdCc7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9NZW51SXRlbSc7XHJcbmltcG9ydCBDaXJjdWxhclByb2dyZXNzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NpcmN1bGFyUHJvZ3Jlc3MnO1xyXG5pbXBvcnQgQ3VzdG9tRGlhbG9nIGZyb20gJy4vQ3VzdG9tRGlhbG9nJztcclxuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnO1xyXG5pbXBvcnQgeyBlbXB0eUZ1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgaXNWYWxpZERhdGUgfSBmcm9tICcuLi91dGlscy9oZWxwZXInO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICcuLi91dGlscy9iYXNlU3R5bGUnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcbi8vY29uc3RhbnRzXHJcbmNvbnN0IGZvbGxvd3VwUmVnZXggPSAvKFxcZHs0fS1cXGR7Mn0tXFxkezJ9VFtcXGR7Mn06XSouXFxkezN9Wy18K11cXGR7Mn06XFxkezJ9KXwocmVhc29uOiAuKikvZztcclxuY29uc3QgZGlzY2FyZE1lc3NhZ2UgPVxyXG4gIFwiVGhpcyB3aWxsIGJlIHJlbW92ZWQgcGVybWFuZW50bHkgZnJvbSB0aGUgc3VnZ2VzdGVkIGFjdGlvbnMuIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuXCI7XHJcbmNvbnN0IHJlc29sdmVNZXNzYWdlID1cclxuICBcIiBVbmFibGUgdG8gY29tcGxldGUgdGhlIGFjdGlvbi4gUGxlYXNlIHJlc29sdmUgdGhlIGVycm9ycyB0byBhcHByb3ZlLlwiO1xyXG5jb25zdCBub1RleHRNZXNzYWdlID0gXCJQbGVhc2Ugc2VsZWN0IGFwcHJvcHJpYXRlIGZvbGxvd3VwIHJlYXNvbi5cIjtcclxuY29uc3QgaW52YWxpZERhdGVNZXNzYWdlID1cclxuICBcIkZvdW5kIGludmFsaWQgZGF0ZS4gUGxlYXNlIGNvcnJlY3QgdGhlIGRhdGUgdG8gcHJvY2VlZC5cIjtcclxuY29uc3QgRk9MTE9XVVBfVEVNUExBVEUgPVxyXG4gIFwiRm9sbG93IHVwICA8Q29udGFjdCBOYW1lPiA8Rm9sbG93dXAgRGF0ZT4gPEZvbGxvd3VwIFRleHQ+XCI7XHJcbmNvbnN0IEZPTExPV1VQX09SSUdfVEVNUExBVEUgPVxyXG4gIFwiQ3JlYXRlIEZvbGxvd3VwIGV2ZW50IGZvciA8Rm9sbG93dXAgRGF0ZT4gcmVhc29uOiA8Rm9sbG93dXAgVGV4dD5cIjtcclxuY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICBzZWxlY3RNZW51Q2xhc3M6IHtcclxuICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICBvcGFjaXR5IDogMC42NSxcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gIH0sXHJcbiAgbWVudUl0ZW1Sb290OiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICB9LFxyXG4gIG1lbnVQYXBlcjoge1xyXG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgaGVpZ2h0OiBcIjIwcmVtICFpbXBvcnRhbnRcIixcclxuICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICBib3JkZXI6IFwiMnB4IHNvbGlkIHdoaXRlXCJcclxuICB9LFxyXG4gIHRlc3Q6IHtcclxuICAgIHdpZHRoOiBcImF1dG9cIixcclxuICAgIHBhZGRpbmc6IFwiMHB4XCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBvcGFjaXR5OiAwLjYsXHJcbiAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgXCImOmJlZm9yZVwiOiB7XHJcbiAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgfSxcclxuICAgIFwiJjphZnRlclwiOiB7XHJcbiAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgfVxyXG4gIH0sXHJcbiAgdGVzdEluaXRpYWw6IHtcclxuICAgIHdpZHRoOiAnYXV0bycsXHJcbiAgICBwYWRkaW5nOiAnMHB4JyxcclxuICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBvcGFjaXR5OiAwLjYsXHJcblxyXG4gICAgXCImOmJlZm9yZVwiOiB7XHJcbiAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgfSxcclxuICAgIFwiJjphZnRlclwiOiB7XHJcbiAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgfVxyXG4gIH0sXHJcbiAgYWN0aW9uUHJvZ3Jlc3NCYXI6IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICB3aWR0aDogXCIxLjVyZW0gIWltcG9ydGFudFwiLFxyXG4gICAgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsXHJcbiAgICBwYWRkaW5nUmlnaHQ6IFwiMC41cmVtXCIsXHJcbiAgICBoZWlnaHQ6IFwiMS41cmVtICFpbXBvcnRhbnRcIlxyXG4gIH0sXHJcbiAgY2FyZENvbnRlbnQ6IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIG9wYWNpdHk6IDAuNjVcclxuICB9LFxyXG4gIGFjdGlvbkljb246IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgfSxcclxuICBzZWxlY3RJY29uOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxyXG4gIH0sXHJcbiAgZGlzYWJsZURvbmVCdG46IHtcclxuICAgIG9wYWNpdHk6IDAuNCxcclxuICAgIGN1cnNvcjogXCJkZWZhdWx0XCJcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgbWF0ZXJpYWxUaGVtZSA9IGNyZWF0ZU11aVRoZW1lKHtcclxuICBvdmVycmlkZXM6IHtcclxuICAgIE11aVBpY2tlcnNUb29sYmFyOiB7XHJcbiAgICAgIHRvb2xiYXI6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJsdWUuQTIwMCxcclxuICAgICAgICBoZWlnaHQ6IFwiMTN2aFwiXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXI6IHtcclxuICAgICAgc3dpdGNoSGVhZGVyOiB7XHJcbiAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBsaWdodEJsdWUuQTIwMCxcclxuICAgICAgICAvLyBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE11aVBpY2tlcnNEYXk6IHtcclxuICAgICAgZGF5OiB7XHJcbiAgICAgICAgY29sb3I6IGJsdWUuQTcwMFxyXG4gICAgICB9LFxyXG4gICAgICBzZWxlY3RlZDoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogYmx1ZVtcIjQwMFwiXVxyXG4gICAgICB9LFxyXG4gICAgICBjdXJyZW50OiB7XHJcbiAgICAgICAgY29sb3I6IGJsdWVbXCI5MDBcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XHJcbiAgICAgIGVycm9yOiB7XHJcbiAgICAgICAgY29sb3I6IFwiI0ZGODg4OCAhaW1wb3J0YW50XCJcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE11aVBpY2tlcnNNb2RhbDoge1xyXG4gICAgICBkaWFsb2dBY3Rpb246IHtcclxuICAgICAgICBjb2xvcjogYmx1ZVtcIjQwMFwiXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbmNsYXNzIEZvbGxvd3VwIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgbGV0IGV4dHJhY3RlZERhdGEgPSB0aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChmb2xsb3d1cFJlZ2V4KTtcclxuICAgIGxldCBzZWxlY3RlZERhdGUgPSBcIlwiO1xyXG4gICAgbGV0IGZvbGxvd3VwVGV4dCA9IFwiXCI7XHJcbiAgICBpZiAoZXh0cmFjdGVkRGF0YSAmJiBleHRyYWN0ZWREYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgc2VsZWN0ZWREYXRlID0gbmV3IERhdGUoZXh0cmFjdGVkRGF0YVswXSk7XHJcbiAgICAgIGZvbGxvd3VwVGV4dCA9IGV4dHJhY3RlZERhdGFbMV0gPyBleHRyYWN0ZWREYXRhWzFdLnN1YnN0cmluZyg4KSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGZvbGxvd3VwVGV4dHMgPSB0aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3Q7XHJcblxyXG4gICAgaWYgKGZvbGxvd3VwVGV4dHMuaW5kZXhPZihmb2xsb3d1cFRleHQpIDwgMCkge1xyXG4gICAgICBmb2xsb3d1cFRleHQgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHJlYWRPbmx5OiB0cnVlLFxyXG4gICAgICBpc0VkaXRpbmc6IGZhbHNlLFxyXG4gICAgICBmb2xsb3d1cFRleHQ6IGZvbGxvd3VwVGV4dCxcclxuICAgICAgc2VsZWN0ZWREYXRlOiBuZXcgRGF0ZShzZWxlY3RlZERhdGUpLFxyXG4gICAgICBvcGVuQWN0aW9uU2F2ZTogZmFsc2UsXHJcbiAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcclxuICAgICAgb3BlbkludmFsaWREYXRlRGlhbG9nOiBmYWxzZSxcclxuICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxyXG4gICAgICBhY3Rpb25JZDogdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxyXG4gICAgICBpc0RvbmU6IHRoaXMucHJvcHMuc3VtbWFyeS5zYXZlLFxyXG4gICAgICBmaW5hbFNlbGVjdGVkRGF0ZTogdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmVcclxuICAgICAgICA/IGZvcm1hdChuZXcgRGF0ZShleHRyYWN0ZWREYXRhWzBdKSwgXCJNTU0gZGQsIHl5eXlcIilcclxuICAgICAgICA6IFwiXCIsXHJcbiAgICAgIC8vIGZvbGxvd3VwVGV4dEZpZWxkV2lkdGg6IGZvbGxvd3VwVGV4dCA/IChcIlwiICsgZm9sbG93dXBUZXh0KS5sZW5ndGggKiAxMiA6IDUwLFxyXG4gICAgICBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlLFxyXG4gICAgICBpbmNvcnJlY3RGbGFnOiBudWxsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpbmNvcnJlY3RGbGFnOiBuZXh0UHJvcHMuaW5jb3JyZWN0RmxhZ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB2YWxpZGF0ZUZvbGxvd3VwRGF0YSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1ZhbGlkRGF0ZSh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSkpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5JbnZhbGlkRGF0ZURpYWxvZzogdHJ1ZSB9KTtcclxuICAgICAgLy8gdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2coXCJQbGVhc2UgY29ycmVjdCBkYXRlIGZpcnN0LlwiKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIHNhdmVGb2xsb3d1cCA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy52YWxpZGF0ZUZvbGxvd3VwRGF0YSgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuZm9sbG93dXBUZXh0KSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9UZXh0RGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSB9KTtcclxuICAgIGxldCBmb2xsb3dEYXRlID0gbmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpO1xyXG4gICAgbGV0IGZvbGxvd0Zvcm1hdERhdGUgPSBmb3JtYXQoZm9sbG93RGF0ZSwgXCJ5eXl5LU1NLWRkXCIpO1xyXG5cclxuICAgIGxldCByZXFPYmogPSB7XHJcbiAgICAgIGR1ZURhdGU6IGZvbGxvd0Zvcm1hdERhdGUsXHJcbiAgICAgIHJlbWluZGVyRGF0ZTogZm9sbG93Rm9ybWF0RGF0ZSxcclxuICAgICAgc3ViamVjdDogdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRcclxuICAgICAgLy8gYXNzaWduZWRUb1VzZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIuaWQsXHJcbiAgICB9O1xyXG5cclxuICAgIGF4aW9zXHJcbiAgICAgIC5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2N1c3RvbWVyLyR7dGhpcy5wcm9wcy5jdXN0b21lci5pZH0vdGFza2AsIHJlcU9iailcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJTVUNDRVNTXCIpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaW5hbFNlbGVjdGVkRGF0ZTogdGhpcy5nZXREYXRlRmllbGRWYWx1ZSgpIH0sICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzRG9uZTogdHJ1ZSB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbFxyXG4gICAgICAgIGxldCBzdW1tYXJ5VG9TYXZlID0gdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGlvbigpO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybShzdW1tYXJ5VG9TYXZlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRVJST1JcIik7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcbiAgZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5ID0gKCkgPT4ge1xyXG4gICAgbGV0IGludm9pY2VDb3VudCA9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50O1xyXG4gICAgbGV0IGNvbnRhY3ROdW1iZXIgPSB0aGlzLnByb3BzLmNhbGxlZFRvTnVtYmVyO1xyXG4gICAgLy8gbGV0IHNlbGVjdGVkZm9ybWF0dGVkRGF0ZSA9IChkYXRlLmdldE1vbnRoKCkgKyAxKSArICctJyArIGRhdGUuZ2V0RGF0ZSgpICsgJy0nICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgbGV0IGNvbnRhY3ROYW1lID1cclxuICAgICAgKHRoaXMucHJvcHMuY2FsbFRvTmFtZSA9PSBcIlVua25vd24gXCIgfHxcclxuICAgICAgICB0aGlzLnByb3BzLmNhbGxUb05hbWUgPT0gXCJVbm5hbWVkIFVubmFtZWRcIikgJiZcclxuICAgICAgICBjb250YWN0TnVtYmVyXHJcbiAgICAgICAgPyBjb250YWN0TnVtYmVyXHJcbiAgICAgICAgOiB0aGlzLnByb3BzLmNhbGxUb05hbWU7XHJcbiAgICBsZXQgZ2VuZXJhdGVkU3VtbWFyeSA9IEZPTExPV1VQX1RFTVBMQVRFLnJlcGxhY2UoXHJcbiAgICAgIFwiPENvbnRhY3QgTmFtZT5cIixcclxuICAgICAgY29udGFjdE5hbWVcclxuICAgIClcclxuICAgICAgLnJlcGxhY2UoXHJcbiAgICAgICAgXCI8Rm9sbG93dXAgRGF0ZT5cIixcclxuICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZVxyXG4gICAgICAgICAgPyBcIm9uIFwiICsgZm9ybWF0KHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLCBcIk1NLWRkLXl5eXlcIilcclxuICAgICAgICAgIDogXCJcIlxyXG4gICAgICApXHJcbiAgICAgIC5yZXBsYWNlKFxyXG4gICAgICAgIFwiPEZvbGxvd3VwIFRleHQ+XCIsXHJcbiAgICAgICAgdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgPyBcImZvciBcIiArIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0IDogXCJcIlxyXG4gICAgICApO1xyXG5cclxuICAgIHJldHVybiBnZW5lcmF0ZWRTdW1tYXJ5O1xyXG4gIH07XHJcblxyXG4gIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLm9wZW5TbmFja2Jhck9uQWN0aW9uKG1lc3NhZ2UpO1xyXG4gIH07XHJcblxyXG4gIG9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pO1xyXG4gIH07XHJcblxyXG4gIGNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2VBbmREaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMuZGVsZXRlQWN0aW9uKHRoaXMuc3RhdGUuYWN0aW9uSWQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2VXYXJuaW5nRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcclxuICB9O1xyXG5cclxuICBjbG9zZU5vVGV4dERpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9UZXh0RGlhbG9nOiBmYWxzZSB9KTtcclxuICB9O1xyXG5cclxuICBjbG9zZUludmFsaWREYXRlRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5JbnZhbGlkRGF0ZURpYWxvZzogZmFsc2UgfSk7XHJcbiAgfTtcclxuXHJcbiAgdG9nZ2xlRWRpdGluZyA9IGUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHJlYWRPbmx5OiBmYWxzZSwgaXNFZGl0aW5nOiB0cnVlIH0sICgpID0+IHtcclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQpXHJcbiAgICAgICAgLmZvY3VzKCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVEYXRlQ2hhbmdlID0gZGF0ZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWREYXRlOiBkYXRlIH0sICgpID0+IHtcclxuICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBnZXREYXRlRmllbGRWYWx1ZSA9ICgpID0+IHtcclxuICAgIGxldCBpZCA9IFwiZGF0ZS1pbnB1dC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQ7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnZhbHVlO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUZvbGxvd3VwVGV4dENoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgIHtcclxuICAgICAgICBjaGFuZ2U6IHRydWUsXHJcbiAgICAgICAgZm9sbG93dXBUZXh0OiBldmVudC50YXJnZXQudmFsdWVcclxuICAgICAgICAvLyBmb2xsb3d1cFRleHRGaWVsZFdpZHRoOiBldmVudC50YXJnZXQudmFsdWUgPyAoXCJcIiArIGV2ZW50LnRhcmdldC52YWx1ZS5sZW5ndGgpICogMTIgOiA1MFxyXG4gICAgICB9LFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgZ2V0Rm9sbG93dXBUZXh0ID0gKCkgPT4ge1xyXG4gICAgbGV0IGZvbGxvd3VwVGV4dHMgPSB0aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3Q7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0ICYmXHJcbiAgICAgIGZvbGxvd3VwVGV4dHMuaW5kZXhPZih0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCkgPj0gMFxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dDtcclxuICAgIH1cclxuICAgIHJldHVybiBcIlNlbGVjdFwiO1xyXG4gIH07XHJcblxyXG4gIHVwZGF0ZVN1bW1hcnkgPSAoKSA9PiB7XHJcbiAgICBsZXQgaW52b2ljZUNvdW50ID0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQ7XHJcbiAgICBsZXQgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdChuZXcgRGF0ZSh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSksIFwieXl5eS1NTS1kZFwiKTtcclxuICAgIGxldCB1cGRhdGVkU3VtbWFyeSA9IEZPTExPV1VQX09SSUdfVEVNUExBVEUucmVwbGFjZShcclxuICAgICAgXCI8Rm9sbG93dXAgRGF0ZT5cIixcclxuICAgICAgZm9ybWF0dGVkRGF0ZVxyXG4gICAgKS5yZXBsYWNlKFxyXG4gICAgICBcIjxGb2xsb3d1cCBUZXh0PlwiLFxyXG4gICAgICB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0IDogXCJcIlxyXG4gICAgKTtcclxuICAgIHRoaXMucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KTtcclxuICB9O1xyXG5cclxuICBvcGVuUGlja2VyID0gZSA9PiB7XHJcbiAgICB0aGlzLnBpY2tlci5vcGVuKGUpO1xyXG4gIH07XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IHsgc3VtbWFyeSwgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zdCB7IGZ1bGxTY3JlZW4gfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgbGV0IGZvbGxvd3VwVGV4dHMgPSB0aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3Q7XHJcbiAgICBsZXQgb3B0aW9uSXRlbXMgPSBmb2xsb3d1cFRleHRzLm1hcCgoZm9sbG93dXBUZXh0LCBpZCkgPT4gKFxyXG4gICAgICA8TWVudUl0ZW1cclxuICAgICAgICBrZXk9e1wiZm9sbG93dXBUZXh0XCIgKyBpZH1cclxuICAgICAgICB2YWx1ZT17Zm9sbG93dXBUZXh0fVxyXG4gICAgICAgIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX1cclxuICAgICAgPlxyXG4gICAgICAgIHtmb2xsb3d1cFRleHR9XHJcbiAgICAgIDwvTWVudUl0ZW0+XHJcbiAgICApKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8R3JpZCBjb250YWluZXIgY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VTYW1wbGV9PlxyXG4gICAgICAgIDxHcmlkXHJcbiAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICB4cz17MTB9XHJcbiAgICAgICAgICBtZD17MTB9XHJcbiAgICAgICAgICBsZz17MTB9XHJcbiAgICAgICAgICBjb250YWluZXJcclxuICAgICAgICAgIGFsaWduSXRlbXM9XCJjZW50ZXJcIlxyXG4gICAgICAgICAganVzdGlmeT1cImZsZXgtc3RhcnRcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IFwiM3JlbVwiIH19PlxyXG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5hY3Rpb25TYXZlUHJvZ3Jlc3NCYXIgJiYgKFxyXG4gICAgICAgICAgICAgIDxDaXJjdWxhclByb2dyZXNzIGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb25Qcm9ncmVzc0Jhcn0gLz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNEb25lICYmIChcclxuICAgICAgICAgICAgICA8RG9uZVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzVGQzMyQ1wiLFxyXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIixcclxuICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAuNXJlbVwiLFxyXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMS41cmVtXCIsXHJcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEuNXJlbVwiXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG9wYWNpdHk6IDEgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBDcmVhdGVkICZuYnNwO1xyXG4gICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5pc0RvbmUgJiYgKFxyXG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBvcGFjaXR5OiAxIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgQ3JlYXRlICZuYnNwO1xyXG4gICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IG9wYWNpdHk6IDEgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fT5cclxuICAgICAgICAgICAgICBGT0xMT1ctVVAgJm5ic3A7XHJcbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0+XHJcbiAgICAgICAgICAgICAgZXZlbnQgZm9yICZuYnNwO1xyXG4gICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICB7XCIgXCJ9XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZmluYWxTZWxlY3RlZERhdGV9XHJcbiAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgeyF0aGlzLnN0YXRlLmlzRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgPE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyIHV0aWxzPXtEYXRlRm5zVXRpbHN9PlxyXG4gICAgICAgICAgICAgICAgPE11aVRoZW1lUHJvdmlkZXIgdGhlbWU9e21hdGVyaWFsVGhlbWV9PlxyXG4gICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1heFdpZHRoOiBcIjUuMzVyZW1cIiB9fVxyXG4gICAgICAgICAgICAgICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sPXtCb29sZWFuKGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ9XCJNTU0gZGQsIHl5eXlcIlxyXG4gICAgICAgICAgICAgICAgICAgIG1pbkRhdGVNZXNzYWdlPVwiUHJldmlvdXMgZGF0ZSBub3QgYWNjZXB0YWJsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiZGF0ZS1pbnB1dC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogQm9vbGVhbih0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtub2RlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGlja2VyID0gbm9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVEYXRlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uQ2xpY2s9e2UgPT4gZS5wcmV2ZW50RGVmYXVsdH1cclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRlWWVhclNjcm9sbGluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgbWluRGF0ZT17bmV3IERhdGUoKX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPERhdGVSYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb25JY29ufVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub3BlblBpY2tlcn1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvTXVpVGhlbWVQcm92aWRlcj5cclxuICAgICAgICAgICAgICA8L011aVBpY2tlcnNVdGlsc1Byb3ZpZGVyPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgPEdyaWQgaXRlbSBoaWRkZW49e3RoaXMuc3RhdGUuaXNEb25lICYmICF0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dH0+XHJcbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0+XHJcbiAgICAgICAgICAgICAgJm5ic3A7IGZvciAmbmJzcDtcclxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgaXRlbVxyXG4gICAgICAgICAgICAvLyBzdHlsZT17eyB3aWR0aDogdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRGaWVsZFdpZHRoIH19XHJcbiAgICAgICAgICAgIGhpZGRlbj17dGhpcy5zdGF0ZS5pc0RvbmV9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxTZWxlY3RcclxuICAgICAgICAgICAgICBpZD1cImZvbGxvd3VwLXRleHQtZmllbGRcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLmdldEZvbGxvd3VwVGV4dCgpfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUZvbGxvd3VwVGV4dENoYW5nZX1cclxuICAgICAgICAgICAgICBjbGFzc2VzPXt7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RNZW51OiBjbGFzc2VzLnNlbGVjdE1lbnVDbGFzcyxcclxuICAgICAgICAgICAgICAgIGljb246IGNsYXNzZXMuc2VsZWN0SWNvblxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0XHJcbiAgICAgICAgICAgICAgICAgID8gY2xhc3Nlcy50ZXN0XHJcbiAgICAgICAgICAgICAgICAgIDogY2xhc3Nlcy50ZXN0SW5pdGlhbFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBNZW51UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcclxuICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxNZW51SXRlbVxyXG4gICAgICAgICAgICAgICAgY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fVxyXG4gICAgICAgICAgICAgICAgdmFsdWU9XCJTZWxlY3RcIlxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBTZWxlY3RcclxuICAgICAgICAgICAgICA8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgIHtvcHRpb25JdGVtc31cclxuICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZFxyXG4gICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dEZpZWxkV2lkdGggfX1cclxuICAgICAgICAgICAgaGlkZGVuPXshdGhpcy5zdGF0ZS5pc0RvbmV9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuc2VsZWN0TWVudUNsYXNzfT57dGhpcy5zdGF0ZS5mb2xsb3d1cFRleHR9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgPEN1c3RvbURpYWxvZ1xyXG4gICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbk5vVGV4dERpYWxvZ31cclxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VOb1RleHREaWFsb2d9XHJcbiAgICAgICAgICB0aXRsZT17bm9UZXh0TWVzc2FnZX1cclxuICAgICAgICAgIGFjdGlvbnM9e1tcclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VOb1RleHREaWFsb2d9XHJcbiAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICBdfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFjdGlvblNhdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e2Rpc2NhcmRNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWdyZWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgIDxDdXN0b21EaWFsb2dcclxuICAgICAgICAgIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5BY3Rpb25TYXZlfVxyXG4gICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2d9XHJcbiAgICAgICAgICB0aXRsZT17ZGlzY2FyZE1lc3NhZ2V9XHJcbiAgICAgICAgICBhY3Rpb25zPXtbXHJcbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgRGlzYWdyZWVcclxuICAgICAgICAgICAgPC9CdXR0b24+LFxyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2d9XHJcbiAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICBhdXRvRm9jdXNcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEFncmVlXHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgXX1cclxuICAgICAgICAvPlxyXG4gICAgICAgIHsvKiA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5XYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgaWQ9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiPntyZXNvbHZlTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgPEN1c3RvbURpYWxvZ1xyXG4gICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbldhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlV2FybmluZ0RpYWxvZ31cclxuICAgICAgICAgIHRpdGxlPXtyZXNvbHZlTWVzc2FnZX1cclxuICAgICAgICAgIGFjdGlvbnM9e1tcclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICBhdXRvRm9jdXNcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgXX1cclxuICAgICAgICAvPlxyXG4gICAgICAgIHsvKiA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5JbnZhbGlkRGF0ZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlSW52YWxpZERhdGVEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e2ludmFsaWREYXRlTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgIDxDdXN0b21EaWFsb2dcclxuICAgICAgICAgIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5JbnZhbGlkRGF0ZURpYWxvZ31cclxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZ31cclxuICAgICAgICAgIHRpdGxlPXtpbnZhbGlkRGF0ZU1lc3NhZ2V9XHJcbiAgICAgICAgICBhY3Rpb25zPXtbXHJcbiAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlSW52YWxpZERhdGVEaWFsb2d9XHJcbiAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICBdfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPEdyaWQgaXRlbSB4cz17Mn0gbWQ9ezJ9IGxnPXsyfT5cclxuICAgICAgICAgIHshdGhpcy5zdGF0ZS5pc0RvbmUgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxIaWdobGlnaHRPZmZcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH19XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlT3V0bGluZVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwiIzVGQzMyQ1wiIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgPyB0aGlzLnNhdmVGb2xsb3d1cCA6IGVtcHR5RnVuY3Rpb25cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9HcmlkPlxyXG4gICAgICA8L0dyaWQ+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTnVtYmVyRm9ybWF0Q3VzdG9tKHByb3BzKSB7XHJcbiAgY29uc3QgeyBpbnB1dFJlZiwgb25DaGFuZ2UsIC4uLm90aGVyIH0gPSBwcm9wcztcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxOdW1iZXJGb3JtYXRcclxuICAgICAgey4uLm90aGVyfVxyXG4gICAgICBnZXRJbnB1dFJlZj17aW5wdXRSZWZ9XHJcbiAgICAgIG9uVmFsdWVDaGFuZ2U9e3ZhbHVlcyA9PiB7XHJcbiAgICAgICAgb25DaGFuZ2Uoe1xyXG4gICAgICAgICAgdGFyZ2V0OiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXMudmFsdWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfX1cclxuICAgICAgdGhvdXNhbmRTZXBhcmF0b3JcclxuICAgICAgcHJlZml4PVwiJFwiXHJcbiAgICAvPlxyXG4gICk7XHJcbn1cclxuXHJcbk51bWJlckZvcm1hdEN1c3RvbS5wcm9wVHlwZXMgPSB7XHJcbiAgaW5wdXRSZWY6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcclxufTtcclxuXHJcbkZvbGxvd3VwLnByb3BUeXBlcyA9IHtcclxuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcclxufTtcclxuXHJcbmNvbnN0IGNvbWJpbmVkU3R5bGUgPSBjb21iaW5lU3R5bGVzKHN0eWxlcywgYmFzZVN0eWxlKVxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEZvbGxvd3VwKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvRm9sbG93dXAuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IEdyaWRMaXN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWRMaXN0JztcclxuaW1wb3J0IEdyaWRMaXN0VGlsZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkTGlzdFRpbGUnO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2hlY2tib3gnO1xyXG5pbXBvcnQgQ2hlY2tDaXJjbGVJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DaGVja0NpcmNsZSc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgUmFkaW9CdXR0b25VbmNoZWNrZWRJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9SYWRpb0J1dHRvblVuY2hlY2tlZCc7XHJcbmltcG9ydCBBZGQgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0FkZCc7XHJcbmltcG9ydCBSZW1vdmVDaXJjbGVPdXRsaW5lIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9SZW1vdmVDaXJjbGVPdXRsaW5lJztcclxuaW1wb3J0IENsb3NlIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IEZhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9GYWInO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DYXJkJztcclxuaW1wb3J0IENhcmRDb250ZW50IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NhcmRDb250ZW50JztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBFcnJvciBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRXJyb3InO1xyXG5pbXBvcnQgRGlhbG9nIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZyc7XHJcbmltcG9ydCBEaWFsb2dBY3Rpb25zIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ0FjdGlvbnMnO1xyXG5pbXBvcnQgRGlhbG9nVGl0bGUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nVGl0bGUnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTW9kYWwnO1xyXG5pbXBvcnQgRHVlRGV0YWlsIGZyb20gJy4vRHVlRGV0YWlsJztcclxuaW1wb3J0IENsZWFyIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbGVhcic7XHJcbmltcG9ydCB7IGZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcbmltcG9ydCB7IGZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XHJcbmltcG9ydCBMaXN0T2ZUaWxlIGZyb20gJy4vTGlzdE9mVGlsZSc7XHJcblxyXG5cclxuY29uc3QgUDJQUmVnZXggPSAvKFByb21pc2UgdG8gcGF5IGZvciBcXGQqKXwoWzAtOV17NH1bLV1bMC05XXsyfVstXVswLTldezJ9KXwoXFxkKiBpbnZvaWNlKS9nO1xyXG5jb25zdCBtZXNzYWdlID0gXCJQbGVhc2Ugc2VsZWN0IHNvbWUgaW52b2ljZXMuXCI7XHJcbmNvbnN0IGRpc3B1dGVSZWdleCA9IC8oXFxkKiBpbnZvaWNlKXwoYmVjYXVzZSBvZiAuKikvZztcclxuXHJcbmZ1bmN0aW9uIHJhbmQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjApIC0gMTA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1vZGFsU3R5bGUodGhlbWUpIHtcclxuICAgIGNvbnN0IHRvcCA9IDUwO1xyXG4gICAgY29uc3QgbGVmdCA9IDUwO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9wOiBgJHt0b3B9JWAsXHJcbiAgICAgICAgbGVmdDogYCR7bGVmdH0lYCxcclxuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoLSR7dG9wfSUsIC0ke2xlZnR9JSlgLFxyXG4gICAgICAgIHdpZHRoOiBcIjczdndcIixcclxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgMnB4IHNvbGlkXCIsXHJcbiAgICB9O1xyXG59XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG5cclxuICAgIGludm9pY2VIZWFkZXI6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNi40ODE0ODE0ODE0OHZoXCIsXHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiIzM5NUM3MyBzb2xpZCAxcHhcIixcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIzcmVtXCJcclxuICAgICAgICAvLyBib3JkZXJUb3A6IFwic29saWQgYmxhY2sgMXB4XCJcclxuICAgIH0sXHJcbiAgICBjaGVja2VkSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIHpJbmRleDogXCIzXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcImF1dG9cIixcclxuICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxyXG4gICAgICAgIG1hcmdpblRvcDogXCIxcmVtXCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuOXJlbVwiLFxyXG4gICAgICAgIC8vIGZsZXhXcmFwOiAnd3JhcCcsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1hcm91bmQnLFxyXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIzcmVtXCJcclxuICAgIH0sXHJcbiAgICBjb3JyZWN0aW9uOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICB9LFxyXG4gICAgY29ycmVjdGlvbkFsZXJ0OiB7XHJcbiAgICAgICAgY29sb3I6IFwiI0ZGODg4OFwiLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxyXG4gICAgfSxcclxuICAgIGVycm9yRmxhZzoge1xyXG4gICAgICAgIGNvbG9yOiBcIiNGRjQ0NDRcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogJzEwcHggMHB4IC0ycHggLS40cmVtICFpbXBvcnRhbnQnLFxyXG4gICAgfSxcclxuICAgIGdyaWRMaXN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcclxuICAgICAgICBoZWlnaHQ6IFwiNy40MHZoXCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAxcHhcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXHJcbiAgICB9LFxyXG4gICAgaW5jb3JyZWN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGJvcmRlcjogXCIjRkY4ODg4IGRhc2hlZCAxcHhcIixcclxuICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuICAgIH0sXHJcbiAgICBwYXBlcjoge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHdpZHRoOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAxMDAsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgIGJveFNoYWRvdzogdGhlbWUuc2hhZG93c1s1XSxcclxuICAgICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAxLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiAwLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogMFxyXG4gICAgfSxcclxuICAgIGJ1dHRvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIyZW1cIixcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiXHJcbiAgICB9LFxyXG4gICAgYWRkSWNvbjoge1xyXG4gICAgICAgIHdpZHRoOiAnY2FsYygxLjF2aCArIDEuMXZ3KScsXHJcbiAgICAgICAgaGVpZ2h0OiAnY2FsYygxLjF2aCArIDEuMXZ3KScsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBwcmltYXJ5VGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxufSk7XHJcblxyXG5jbGFzcyBBY3Rpb25EZXRhaWxzIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIGxldCBzdW1tYXJ5ID0gdGhpcy5wcm9wcy5zdW07XHJcbiAgICAgICAgbGV0IGludGVudFR5cGUgPSB0aGlzLnByb3BzLmludGVudFR5cGU7XHJcbiAgICAgICAgbGV0IGV4dHJhY3RlZEFtb3VudDtcclxuICAgICAgICAvLyBsZXQgbm9PZkludm9pY2VzID0gMDtcclxuICAgICAgICBpZiAoaW50ZW50VHlwZSA9PSBcIlAyUFwiKSB7XHJcbiAgICAgICAgICAgIGxldCBleHRyYWN0ZWREYXRhID0gc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKFAyUFJlZ2V4KTtcclxuICAgICAgICAgICAgZXh0cmFjdGVkQW1vdW50ID0gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9LylcclxuXHJcbiAgICAgICAgICAgIGlmICghZXh0cmFjdGVkQW1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRBbW91bnQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vT2ZJbnZvaWNlcyA9IGV4dHJhY3RlZERhdGFbMl0gPyBleHRyYWN0ZWREYXRhWzJdLm1hdGNoKC9bMC05XXsxLH0vKSA6IDA7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xyXG4gICAgICAgICAgICAvLyAgICAgbm9PZkludm9pY2VzID0gMDtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VDaGVja3NNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5wcm9wcy5jb3JyZWN0SW52b2ljZXM7XHJcbiAgICAgICAgaWYgKGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnZvaWNlID0gaW52b2ljZXNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgaW52b2ljZUNoZWNrc01hcC5zZXQoaW52b2ljZS5pZC50b1N0cmluZygpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAoaW50ZW50VHlwZSA9PSBcIkRpc3B1dGVcIikge1xyXG4gICAgICAgICAgICBsZXQgZXh0cmFjdGVkRGF0YSA9IHN1bW1hcnkuc3VtbWFyeS5tYXRjaChkaXNwdXRlUmVnZXgpO1xyXG4gICAgICAgICAgICAvLyBub09mSW52b2ljZXMgPSBleHRyYWN0ZWREYXRhWzBdID8gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9LykgOiAwO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKCFub09mSW52b2ljZXMpIHtcclxuICAgICAgICAgICAgLy8gICAgIG5vT2ZJbnZvaWNlcyA9IDA7XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIGxldCByZWFzb25Db2RlID0gZXh0cmFjdGVkRGF0YVsxXSA/IGV4dHJhY3RlZERhdGFbMV0uc3Vic3RyaW5nKDExKSA6IFwiR2VuZXJhbCBEaXNwdXRlXCI7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXJlYXNvbkNvZGUpIHtcclxuICAgICAgICAgICAgICAgIHJlYXNvbkNvZGUgPSBcIkdlbmVyYWwgRGlzcHV0ZVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBhbGxJbnZvaWNlc1NlbGVjdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogaW52b2ljZUNoZWNrc01hcCxcclxuICAgICAgICAgICAgdG90YWxBbW91bnQ6IGV4dHJhY3RlZEFtb3VudCxcclxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiB0aGlzLnByb3BzLmludm9pY2VDb3VudCxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlcyxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogdGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgICAgICBpc01lc3NhZ2VEaWFsb2dPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIGludm9pY2VzOiB0aGlzLnByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogdGhpcy5wcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgZXhlY3V0ZUFwcGVuZEludm9pY2U6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIC8vICAgICAvLyB0aGlzLnNldFN0YXRlKHtjb3JyZWN0SW52b2ljZXM6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXN9KTtcclxuICAgIC8vICAgICAvLyAgdGhpcy5zZXRTdGF0ZSh7Y29ycmVjdEludm9pY2VzOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzLGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcH0pXHJcblxyXG4gICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoe2NvcnJlY3RJbnZvaWNlczogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlcywgY29ycmVjdEludm9pY2VzTWFwOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzTWFwfSk7XHJcbiAgICAvLyB9XHJcbiAgICBzZXRTZWxlY3RlZEludm9pY2VzID0gKGludm9pY2VzKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IGludm9pY2VzIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMFxyXG4gICAgICAgIGZvciAobGV0IGkgaW4gc2VsZWN0ZWRJbnZvaWNlcykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyknO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbHRlckludm9pY2VzID0gKGludm9pY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcyB9KTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcclxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkSW52b2ljZXMgPSBbXVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEFycmF5ID0gW11cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJEaXNwdXRlXCIgJiYgaW52b2ljZXNbaV1bal0uZGlzcHV0ZVN0YXR1cyAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlByZWRpY3RlZCBEZWxpbnF1ZW50XCIgJiYgaW52b2ljZXNbaV1bal0ucDJwRGVsaW5xdWVudCA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlVwY29taW5nIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycFVwY29taW5nID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGludm9pY2VUeXBlID09IFwiQnJva2VuIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycEJyb2tlbiA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkSW52b2ljZXMucHVzaCh0ZW1wQXJyYXkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVDaGVja2JveCA9IGlkID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGNoZWNrZWQgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGlkKTtcclxuICAgICAgICBsZXQgdXBkYXRlZENoZWNrYm94TWFwID0gdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xyXG4gICAgICAgIHVwZGF0ZWRDaGVja2JveE1hcC5zZXQoaWQsICFjaGVja2VkKTtcclxuICAgICAgICBsZXQgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzQ2hlY2tib3hNYXA6IHVwZGF0ZWRDaGVja2JveE1hcCB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGludm9pY2VLZXkgb2YgdXBkYXRlZENoZWNrYm94TWFwLmtleXMoKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlZENoZWNrYm94TWFwLmdldChpbnZvaWNlS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFsbEludm9pY2VzU2VsZWN0ZWQ6IGZsYWcgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUludm9pY2UgPSBpbnZvaWNlTnVtYmVyID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHRlbXAgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRlbXApIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PSBpbnZvaWNlTnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGVtcFtrZXldO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjaGVja2JveE1hcCA9IHRoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcclxuICAgICAgICBjaGVja2JveE1hcC5kZWxldGUoaW52b2ljZU51bWJlcik7XHJcbiAgICAgICAgLy8gZm9yIChsZXQga2V5IG9mIGNoZWNrYm94TWFwKSB7XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAoa2V5ID09IE51bWJlcihpbnZvaWNlTnVtYmVyKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coa2V5KTtcclxuICAgICAgICAvLyAgICAgICAgIGNoZWNrYm94TWFwLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBjaGVja2JveE1hcCxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoaW52b2ljZSA9PiBpbnZvaWNlLmlkICE9IGludm9pY2VOdW1iZXIpLFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IHRlbXBcclxuICAgICAgICB9LFxyXG4gICAgICAgICAgICAoKSA9PiB7IHRoaXMudXBkYXRlSW52b2ljZXNUaGluZ3MoaW52b2ljZU51bWJlcik7IHRoaXMucHJvcHMudXBkYXRlSW52b2ljZXModGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsIHRlbXApIH1cclxuICAgICAgICApXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVBbGxTZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGludm9pY2VNYXAgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XHJcbiAgICAgICAgICAgIGFsbEludm9pY2VzU2VsZWN0ZWQ6ICFwcmV2U3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZFxyXG4gICAgICAgIH0pLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGludm9pY2VLZXkgb2YgaW52b2ljZU1hcC5rZXlzKCkpIHtcclxuICAgICAgICAgICAgICAgIGludm9pY2VNYXAuc2V0KGludm9pY2VLZXksIHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlQ2hlY2tzTWFwOiBpbnZvaWNlTWFwIH0pO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUFsbFNlbGVjdGlvbiA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHRvRGVsZXRlSW52b2ljZXMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoaW52b2ljZSA9PlxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgPT0gdHJ1ZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICh0b0RlbGV0ZUludm9pY2VzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc01lc3NhZ2VEaWFsb2dPcGVuOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdXBkYXRlZEludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuZmlsdGVyKGludm9pY2UgPT5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpID09IGZhbHNlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VzQ2hlY2tib3hNYXAgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XHJcbiAgICAgICAgbGV0IGludm9pY2VNYXAgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcclxuICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBpbnZvaWNlTGVuZ3RoID0gdXBkYXRlZEludm9pY2VzLmxlbmd0aDtcclxuICAgICAgICBsZXQgYWxsU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdG9EZWxldGVJbnZvaWNlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IGtleSA9IHRvRGVsZXRlSW52b2ljZXNbaV0uaWQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcC5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgZGVsZXRlIGludm9pY2VNYXBba2V5XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IHVwZGF0ZWRJbnZvaWNlcyxcclxuICAgICAgICAgICAgLy8gaW52b2ljZUNvdW50OiB1cGRhdGVkSW52b2ljZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBpbnZvaWNlc0NoZWNrYm94TWFwLFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IGludm9pY2VNYXAsXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogaW52b2ljZUxlbmd0aCxcclxuICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW52b2ljZUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW52b2ljZSA9IHVwZGF0ZWRJbnZvaWNlc1tpXTtcclxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBpbnZvaWNlLmlkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gaW52b2ljZU1hcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnZvaWNlTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnZvaWNlID0gdXBkYXRlZEludm9pY2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IGludm9pY2UuaWQudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmxhZywgYWxsSW52b2ljZXNTZWxlY3RlZDogYWxsU2VsZWN0ZWQgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZsYWcsIGludm9pY2VMZW5ndGgpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZUludm9pY2VzKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLCB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVNZXNzYWdlRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XHJcbiAgICAgICAgICAgIGlzTWVzc2FnZURpYWxvZ09wZW46ICFwcmV2U3RhdGUuaXNNZXNzYWdlRGlhbG9nT3BlbixcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICBvcGVuQWRkSW52b2ljZU1vZGFsID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWRkSW52b2ljZU1vZGFsOiB0cnVlIH0pXHJcbiAgICB9XHJcbiAgICBjbG9zZUFkZEludm9pY2VNb2RhbCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UgfSlcclxuICAgIH1cclxuICAgIGFwcGVuZEludm9pY2VzID0gaW52b2ljZXMgPT4ge1xyXG4gICAgICAgIHZhciB0ZW1wTWFwID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXBcclxuICAgICAgICB2YXIgdGVtcEludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuc2xpY2UoMClcclxuICAgICAgICB2YXIgdGVtcENoZWNrYm94SW52b2ljZU1hcCA9IHRoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwW3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzW2ldLmlkXSkge1xyXG4gICAgICAgICAgICAgICAgdGVtcEludm9pY2VzLnNwbGljZSh0ZW1wSW52b2ljZXMuaW5kZXhPZih0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXSksIDEpXHJcbiAgICAgICAgICAgICAgICB0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwLmRlbGV0ZSh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXS5pZC50b1N0cmluZygpKVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29ycmVjdEludm9pY2VzOiB0ZW1wSW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDoge30sIGludm9pY2VzQ2hlY2tib3hNYXA6IHRlbXBDaGVja2JveEludm9pY2VNYXAgfSlcclxuICAgICAgICB0ZW1wTWFwID0ge31cclxuXHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnZvaWNlc1trZXldID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHRoaXMucHJvcHMuaW52b2ljZXMubGVuZ3RoOyBwKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcSA9IDA7IHEgPCB0aGlzLnByb3BzLmludm9pY2VzW3BdLmxlbmd0aDsgcSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmludm9pY2VzW3BdW3FdLmlkID09IGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEludm9pY2VzLnB1c2godGhpcy5wcm9wcy5pbnZvaWNlc1twXVtxXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0ZW1wTWFwW2tleV0gPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGxldCBpbnZvaWNlc0NoZWNrYm94TWFwID0gdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW52b2ljZXNba2V5XSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcC5zZXQoa2V5LnRvU3RyaW5nKCksIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzQ2hlY2tib3hNYXA6IGludm9pY2VzQ2hlY2tib3hNYXAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29ycmVjdEludm9pY2VzOiB0ZW1wSW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDogdGVtcE1hcCwgaW52b2ljZUNvdW50OiB0ZW1wSW52b2ljZXMubGVuZ3RoIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVJbnZvaWNlcyh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcywgdGVtcE1hcCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLnByb3BzLm9uVXBkYXRlSW52b2ljZSh0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcsIHRlbXBJbnZvaWNlcy5sZW5ndGgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWRkSW52b2ljZU1vZGFsOiBmYWxzZSB9KVxyXG5cclxuICAgIH1cclxuICAgIHVwZGF0ZUludm9pY2VzVGhpbmdzID0gKGludm9pY2VOdW1iZXIpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VNYXAgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcclxuICAgICAgICAvLyBsZXQgYWxsSW52b2ljZXNMaXN0ID0gdGhpcy5wcm9wcy5hbGxJbnZvaWNlc0xpc3Q7XHJcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcclxuICAgICAgICBsZXQgaW52b2ljZXMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcztcclxuICAgICAgICBsZXQgaW52b2ljZUxlbmd0aCA9IGludm9pY2VzLmxlbmd0aDtcclxuICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtpbnZvaWNlTnVtYmVyXTtcclxuXHJcbiAgICAgICAgaWYgKGludm9pY2VMZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmFsc2UsIGludm9pY2VDb3VudDogMCB9KTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZUludm9pY2UoZmFsc2UsIDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtpbnZvaWNlTnVtYmVyXTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvcnJlY3RJbnZvaWNlc01hcDogaW52b2ljZU1hcCB9LCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludm9pY2VMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGludm9pY2UgPSBpbnZvaWNlc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIShpbnZvaWNlLmlkIGluIGludm9pY2VNYXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbmNvcnJlY3RGbGFnOiBmbGFnLCBpbnZvaWNlQ291bnQ6IGludm9pY2VMZW5ndGggfSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZsYWcsIGludm9pY2VMZW5ndGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGF0ZUFtb3VudCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgYW1vdW50ID0gMDtcclxuICAgICAgICBsZXQgY29ycmVjdEludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXM7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBjb3JyZWN0SW52b2ljZXMpIHtcclxuICAgICAgICAgICAgYW1vdW50ICs9IChjb3JyZWN0SW52b2ljZXNbaV0uaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApID8gY29ycmVjdEludm9pY2VzW2ldLmN1cnJlbnRPcGVuQW1vdW50IDogMFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW1vdW50ID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQoYW1vdW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuXHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj48TW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwic2ltcGxlLW1vZGFsLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cInNpbXBsZS1tb2RhbC1kZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFkZEludm9pY2VNb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFkZEludm9pY2VNb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e2dldE1vZGFsU3R5bGUodGhlbWUpfSBjbGFzc05hbWU9e2NsYXNzZXMucGFwZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW06IFwiY2VudGVyXCIsIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgICMzOTVDNzMgXCIsIHBhZGRpbmc6IFwiLjJyZW0gMCAuNnJlbSAwXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgbWFyZ2luTGVmdDogXCIxcmVtXCIsIGZvbnRTaXplOiBcIjEuM3JlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNjUgfX0+U2VsZWN0IGFuZCBBZGQgSW52b2ljZXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsZWFyIG9uQ2xpY2s9e3RoaXMuY2xvc2VBZGRJbnZvaWNlTW9kYWx9IHN0eWxlPXt7IHBvc2l0aW9uOiBcImZpeGVkXCIsIHJpZ2h0OiBcIjUlXCIsIG9wYWNpdHk6IDAuNjUsIGN1cnNvcjogXCJwb2ludGVyXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RHVlRGV0YWlsIHNldFNlbGVjdGVkSW52b2ljZXM9e3RoaXMuc2V0U2VsZWN0ZWRJbnZvaWNlc30gcG9zdENhbGw9e3RydWV9IGFwcGVuZEludm9pY2VzPXt0aGlzLmFwcGVuZEludm9pY2VzfSBmaWx0ZXJJbnZvaWNlcz17dGhpcy5maWx0ZXJJbnZvaWNlc30gYnVja2V0TmFtZXM9e3RoaXMucHJvcHMuYnVja2V0TmFtZXN9IGludm9pY2VzPXt0aGlzLnN0YXRlLmludm9pY2VzfSBjb3JyZWN0SW52b2ljZXNNYXA9e3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwfT48L0R1ZURldGFpbD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgeHM9ezEyfSBqdXN0aWZ5PVwiZmxleC1lbmRcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgc3R5bGU9e3sgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCAjMzk1QzczXCIsIHBhZGRpbmdUb3A6IFwiLjZyZW1cIiB9fT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiY29udGFpbmVkXCIgY29sb3I9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9e2NsYXNzZXMuYnV0dG9ufSBvbkNsaWNrPXsoKSA9PiB0aGlzLmFwcGVuZEludm9pY2VzKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTYXZlIHt0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGgoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUhlYWRlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIHBhZGRpbmdUb3A6IFwiMC41cmVtXCIsIHBhZGRpbmdCb3R0b206IFwiMC41cmVtXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLCBwYWRkaW5nUmlnaHQ6IFwiMS41NnZ3XCIgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IHBhZGRpbmc6ICcwcHgnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQWxsU2VsZWN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMucHJpbWFyeVRleHR9PiZuYnNwO1NlbGVjdCBhbGw8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lZFwiIGNvbG9yPVwic2Vjb25kYXJ5XCIgc2l6ZT0nc21hbGwnIHN0eWxlPXt7IGhlaWdodDogXCI0LjQ0dmhcIiwgcGFkZGluZ0xlZnQ6IFwiMC42NjZyZW1cIiwgcGFkZGluZ1JpZ2h0OiBcIjAuNjY2cmVtXCIgfX0gb25DbGljaz17dGhpcy5vcGVuQWRkSW52b2ljZU1vZGFsfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8QWRkIGNsYXNzTmFtZT17Y2xhc3Nlcy5hZGRJY29ufSAvPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICc0cHgnLCBtYXJnaW5SaWdodDogJzRweCcsIGZvbnRTaXplOiAnLjg5cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gfX0+U2VsZWN0IEludm9pY2VzPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPEZhYiB2YXJpYW50PVwiY29udGFpbmVkXCIgc2l6ZT0nc21hbGwnIHN0eWxlPXt7IHdpZHRoOiBcIjM2cHhcIiwgaGVpZ2h0OiBcIjM2cHhcIiwgbWFyZ2luTGVmdDogXCIxMHB4XCIgfX0gb25DbGljaz17dGhpcy5kZWxldGVBbGxTZWxlY3Rpb259PjxSZW1vdmVDaXJjbGVPdXRsaW5lIHN0eWxlPXt7IHdpZHRoOiBcIjEuMGVtXCIsIGNvbG9yOiBcImdyYXlcIiB9fSAvPjwvRmFiPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lZFwiIGNvbG9yPVwic2Vjb25kYXJ5XCIgc2l6ZT0nc21hbGwnIHN0eWxlPXt7IGhlaWdodDogXCI0LjQ0dmhcIiwgbWFyZ2luTGVmdDogXCIxcmVtXCIsIHBhZGRpbmc6IFwiMCAwLjY2NnJlbVwiIH19IG9uQ2xpY2s9e3RoaXMuZGVsZXRlQWxsU2VsZWN0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZSBjbGFzc05hbWU9e2NsYXNzZXMuYWRkSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICc0cHgnLCBmb250U2l6ZTogJy44OXJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluIH19PlJlbW92ZTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUxpc3R9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb3JyZWN0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5wcmltYXJ5VGV4dH0+e3RoaXMuc3RhdGUuaW52b2ljZUNvdW50fSB7dGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgPiAxID8gXCJJbnZvaWNlcyBcIiA6IFwiSW52b2ljZSBcIn08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMuaW50ZW50VHlwZSA9PSBcIlAyUFwiIHx8IHRoaXMucHJvcHMuaW50ZW50VHlwZSA9PSBcIkRpc3B1dGVcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBvcGFjaXR5OiAwLjUgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLnByaW1hcnlUZXh0fT4mbmJzcDsoJHt0aGlzLmNhbGN1bGF0ZUFtb3VudCgpfSk8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgbWFyZ2luTGVmdDogXCIuNXJlbVwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXJyb3IgY2xhc3NOYW1lPXtjbGFzc2VzLmVycm9yRmxhZ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmNvcnJlY3Rpb25BbGVydH0+Q29ycmVjdGlvbiBSZXF1aXJlZCh7dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubGVuZ3RoIC0gT2JqZWN0LmtleXModGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApLmxlbmd0aH0pPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxMaXN0T2ZUaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlcz17dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA9e3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcD17dGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU9e3RoaXMucHJvcHMuZG9uZX0vPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0IGNlbGxIZWlnaHQ9e1wiYXV0b1wifSBjbGFzc05hbWU9e2NsYXNzZXMuZ3JpZExpc3R9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLm1hcChpbnZvaWNlID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGlzdFRpbGUgY29scz17MX0ga2V5PXtpbnZvaWNlLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogJ2F1dG8nLHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuNHJlbScgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsoaW52b2ljZS5pZCBpbiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCkgPyAodGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCA/IGNsYXNzTmFtZXMoY2xhc3Nlcy5zZWxlY3RlZEdyaWRMaXN0RGl2LGNsYXNzZXMuZ3JpZExpc3REaXYpIDogY2xhc3Nlcy5ncmlkTGlzdERpdikgOiBjbGFzc2VzLmluY29ycmVjdERpdn0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggc3R5bGU9e3sgIHBhZGRpbmc6ICcycHgnLCBsZWZ0ICA6XCIzJVwiLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IShpbnZvaWNlLmlkIGluIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRvZ2dsZUNoZWNrYm94KGludm9pY2UuaWQudG9TdHJpbmcoKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsanVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41LCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH19PntpbnZvaWNlLmRvY3VtZW50TnVtYmVyfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogJzEuMTU2cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfX0+JHtpbnZvaWNlLmlkIGluIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwID8gZm9ybWF0dGVyKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpIDogXCItLS0tXCJ9PC9UeXBvZ3JhcGh5PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8RmFiIHZhcmlhbnQ9XCJjb250YWluZWRcIiBzaXplPSdzbWFsbCcgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZSBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLHdpZHRoOiBcImNhbGMoLjh2aCArIC44dncpXCIsIGhlaWdodDogXCJjYWxjKC44dmggKyAuOHZ3KVwiIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5hZGRJY29ufSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuZGVsZXRlSW52b2ljZShpbnZvaWNlLmlkKSB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC9GYWI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0VGlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGlzdD48L2Rpdj5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLmlzTWVzc2FnZURpYWxvZ09wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgaWQ9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiPnttZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuQWN0aW9uRGV0YWlscy5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG4vLyBleHBvcnQgZnVuY3Rpb24gZ2V0SW52b2ljZXMoKSB7XHJcblxyXG4vLyAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMpO1xyXG5cclxuLy8gICAgIGxldCBkb2N1bWVudE51bWJlcnMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5tYXAoaW52b2ljZSA9PiB7XHJcbi8vICAgICAgICAgcmV0dXJuIGludm9pY2UuZG9jdW1lbnROdW1iZXI7XHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICBjb25zb2xlLmxvZyhcIkRPQ1VcIiwgZG9jdW1lbnROdW1iZXJzKTtcclxuXHJcbi8vICAgICByZXR1cm4gZG9jdW1lbnROdW1iZXJzO1xyXG4vLyB9XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoQWN0aW9uRGV0YWlscylcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9BY3Rpb25EZXRhaWxzLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XHJcbmltcG9ydCB7IGZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2hlY2tib3gnO1xyXG5pbXBvcnQgR3JpZExpc3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3QnO1xyXG5pbXBvcnQgR3JpZExpc3RUaWxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWRMaXN0VGlsZSc7XHJcblxyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuXHJcbiAgICBncmlkTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogJzAgLTJweCAtMnB4IC0ycHggIWltcG9ydGFudCcsXHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdERpdjoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxyXG4gICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXHJcbiAgICB9LFxyXG4gICAgZ3JpZExpc3RUaWxlOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcImF1dG8gIWltcG9ydGFudFwiXHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IG5ldyBNYXAoKSxcclxuICAgIGNvcnJlY3RJbnZvaWNlc01hcDoge30sXHJcbiAgICBzZWxlY3RlZEludm9pY2VzOiBbXSxcclxuICAgIGludm9pY2VzOiBbXSxcclxuICAgIGRvbmU6IHRydWUsXHJcbiAgICBpbkludm9pY2VUYWJsZTogZmFsc2VcclxufTtcclxuXHJcbmNsYXNzIExpc3RPZlRpbGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaW52b2ljZXM6IHRoaXMucHJvcHMuaW52b2ljZXMsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IHRoaXMucHJvcHMuc2VsZWN0ZWRJbnZvaWNlcyxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogdGhpcy5wcm9wcy5pbnZvaWNlc0NoZWNrYm94TWFwXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbiAgICBhZGRJbnZvaWNlID0gKGlkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5hZGRJbnZvaWNlKGlkKVxyXG4gICAgfVxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaW52b2ljZXM6IG5leHRQcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlczogbmV4dFByb3BzLnNlbGVjdGVkSW52b2ljZXMsXHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogbmV4dFByb3BzLmludm9pY2VzQ2hlY2tib3hNYXBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZSA9IChjb3JyZWN0SW52b2ljZXNNYXAsIGludm9pY2VzQ2hlY2tib3hNYXAsIGlkLCBzZWxlY3RlZEludm9pY2VzKSA9PiB7XHJcbiAgICAgICAgaWYgKCEoaW52b2ljZS5pZCBpbiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCkpXHJcbiAgICAgICAgICAgIHJldHVybiBjbGFzc2VzLmluY29ycmVjdERpdlxyXG4gICAgICAgIGlmIChpbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSlcclxuICAgICAgICAgICAgcmV0dXJuIGNsYXNzZXMuc2VsZWN0ZWRHcmlkTGlzdERpdlxyXG4gICAgICAgIHJldHVybiBjbGFzc2VzLmdyaWRMaXN0RGl2XHJcbiAgICB9XHJcbiAgICAvL1JlbmRlciBmdW5jdGlvbiBcclxuICAgIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8R3JpZExpc3QgY2VsbEhlaWdodD17XCJhdXRvXCJ9IGNsYXNzTmFtZT17Y2xhc3Nlcy5ncmlkTGlzdH0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubWFwKGludm9pY2UgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0VGlsZSBjb2xzPXsxfSBrZXk9e2ludm9pY2UuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuNHJlbScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZSh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCwgdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLCBpbnZvaWNlLmlkLCB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghdGhpcy5wcm9wcy5kb25lKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IHBhZGRpbmc6ICcycHgnLCBsZWZ0OiBcIjMlXCIsIGFsaWduSXRlbXM6ICdjZW50ZXInLCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshKGludm9pY2UuaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy50b2dnbGVDaGVja2JveChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNSwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9fT57aW52b2ljZS5kb2N1bWVudE51bWJlcn08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6ICcxLjE1NnJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9fT4ke2ludm9pY2UuaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAgPyBmb3JtYXR0ZXIoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCkgOiBcIi0tLS1cIn08L1R5cG9ncmFwaHk+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0aGlzLnByb3BzLmluSW52b2ljZVRhYmxlIHx8IHRoaXMucHJvcHMuZG9uZSApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8RmFiIHZhcmlhbnQ9XCJjb250YWluZWRcIiBzaXplPSdzbWFsbCcgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZSBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLCB3aWR0aDogXCJjYWxjKC44dmggKyAuOHZ3KVwiLCBoZWlnaHQ6IFwiY2FsYyguOHZoICsgLjh2dylcIiB9fSBjbGFzc05hbWU9e2NsYXNzZXMuYWRkSWNvbn0gb25DbGljaz17KCkgPT4geyB0aGlzLmRlbGV0ZUludm9pY2UoaW52b2ljZS5pZCkgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwvRmFiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0VGlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9HcmlkTGlzdD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5MaXN0T2ZUaWxlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShMaXN0T2ZUaWxlKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvTGlzdE9mVGlsZS5qcyIsIi8qXHJcbioqXHJcbiogQ2xhc3MgTmFtZSBUQkRcclxuKiBUZW1wb3JhcnkgcGFya2luZyBhcyBGaW5hbC5qc1xyXG4qL1xyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCB7IFR5cG9ncmFwaHksIFRleHRGaWVsZCwgQnV0dG9uLCBTZWxlY3QsIE1lbnVJdGVtIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgSW5wdXQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSW5wdXQnO1xyXG5pbXBvcnQgSW5wdXRMYWJlbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JbnB1dExhYmVsJztcclxuaW1wb3J0IElucHV0QWRvcm5tZW50IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0lucHV0QWRvcm5tZW50JztcclxuaW1wb3J0IEZvcm1Db250cm9sIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0Zvcm1Db250cm9sJztcclxuaW1wb3J0IHsgQXJyb3dEcm9wRG93biB9IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy8nO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBDbG9zZSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xvc2UnO1xyXG5pbXBvcnQgR3JpZExpc3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3QnO1xyXG5pbXBvcnQgR3JpZExpc3RUaWxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWRMaXN0VGlsZSc7XHJcbmltcG9ydCBDaGlwIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NoaXAnO1xyXG5pbXBvcnQgSW5mbyBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvSW5mbyc7XHJcbmltcG9ydCBGYWIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRmFiJztcclxuaW1wb3J0IFNuYWNrYmFyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NuYWNrYmFyJztcclxuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvbic7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ2xvc2VJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcblxyXG5cclxuLy9UZXN0aW5nIGFuaW1hdGlvbnNcclxuaW1wb3J0IFJlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwIGZyb20gJ3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cCc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG5cclxuICAgIHN1bW1hcnlOb3Rlc0JveDoge1xyXG4gICAgICAgIG1heEhlaWdodDogXCI5MHZoXCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlOb3RlaXRlbXM6IHtcclxuICAgICAgICB3aGl0ZVNwYWNlOiBcInByZS1saW5lXCIsXHJcbiAgICAgICAgbWFyZ2luVG9wOiBcIjFlbVwiLFxyXG4gICAgICAgIHdvcmRCcmVhazogXCJicmVhay13b3JkXCIsXHJcbiAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcclxuICAgICAgICBtYXhIZWlnaHQ6IFwiNzUuNXZoXCIsXHJcbiAgICB9LFxyXG4gICAgc3VtbWFyeU5vdGVzSGVhZGVyOlxyXG4gICAge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIjEuMDY2NnJlbVwiLFxyXG4gICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXHJcbiAgICAgICAgcGFkZGluZ1RvcDogXCIyLjIydmhcIixcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIxLjAyNnZ3XCIsXHJcbiAgICAgICAgbGluZUhlaWdodDogXCJub3JtYWxcIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eTogMC42NVxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbEhlYWRlcjoge1xyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICB9LFxyXG4gICAgc3VtbWFyeUVtYWlsOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXHJcbiAgICAgICAgbWFyZ2luVG9wOiBcIi4xMjVyZW1cIixcclxuICAgICAgICBtYXJnaW5Cb3R0b206IFwiMS4zcmVtXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjc5dmhcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICB9LFxyXG4gICAgc3VtbWFyeUVtYWlsRm9ybToge1xyXG4gICAgICAgIHBhZGRpbmc6IFwiMC41cmVtIDAuNXJlbSAwIDAuNXJlbVwiLFxyXG4gICAgfSxcclxuICAgIGVtYWlsSWRDaGlwc0lucHV0OiB7XHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjAuMDYyNXJlbSBzb2xpZCByZ2JhKDkzLCAxNzAsIDIyNCwgMC41KVwiLFxyXG4gICAgfSxcclxuICAgIGVtYWlsQWRkTGFiZWw6IHtcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiLFxyXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuM2VtXCIsXHJcbiAgICAgICAgb3BhY2l0eTogMC41LFxyXG4gICAgICAgIGNvbG9yIDogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxyXG4gICAgfSxcclxuICAgIGVtYWlsSWRDaGlwczoge1xyXG4gICAgICAgIGhlaWdodDogXCIxLjRlbVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZ0xlZnQgOiBcIjAuMTc3N3JlbVwiLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodCA6IFwiMC4xNzc3cmVtXCIsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4yZW1cIixcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIFwiJj4gc3BhblwiOiB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxyXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjNyZW1cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgICcmOmhvdmVyLCAmOmZvY3VzJzoge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnJjphY3RpdmUnOiB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIGludmFsaWRFbWFpbElkQ2hpcHM6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiMS40ZW1cIixcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0IDogXCIwLjE3NzdyZW1cIixcclxuICAgICAgICBwYWRkaW5nUmlnaHQgOiBcIjAuMTc3N3JlbVwiLFxyXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuMmVtXCIsXHJcbiAgICAgICAgXCImPiBzcGFuXCI6IHtcclxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXHJcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuM3JlbVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZjQ0NDRcIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgJyY6aG92ZXIsICY6Zm9jdXMnOiB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjczODM4XCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnJjphY3RpdmUnOiB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjczODM4XCIsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICByZW1vdmVFbWFpbElkOiB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44ZW1cIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBlbWFpbElkSW5wdXQ6IHtcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIwLjMxMjVyZW1cIixcclxuICAgICAgICB3aWR0aDogXCIzOCVcIixcclxuICAgICAgICByZXNpemU6IFwiaG9yaXpvbnRhbFwiLFxyXG4gICAgICAgIGNvbG9yIDogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCJcclxuICAgIH0sXHJcbiAgICBlbWFpbFN1YmplY3Q6IHtcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiMC4wNjI1cmVtIHNvbGlkIHJnYmEoOTMsIDE3MCwgMjI0LCAwLjUpXCIsXHJcbiAgICAgICAgZm9udFNpemUgOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgY29sb3IgOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICAnJjo6cGxhY2Vob2xkZXInOiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2E3YTdhNydcclxuICAgICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkaXNhYmxlZFN1YmplY3RJbnB1dCA6IHtcclxuICAgICAgICBmb250U2l6ZSA6IFwiMC44ODhyZW1cIixcclxuICAgICAgICBjb2xvciA6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbEJvZHk6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNjB2aFwiLFxyXG4gICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxyXG4gICAgfSxcclxuICAgIGVtYWlsQm9keVRleHQ6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiMC45cmVtXCIsXHJcbiAgICAgICAgY29sb3IgOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArIFwiICFpbXBvcnRhbnRcIlxyXG4gICAgfSxcclxuICAgIGludm9pY2VDb3VudDoge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjhyZW1cIixcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlQXR0YWNoZW1lbnRzOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjEwdmhcIixcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdERpdjoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAwLjA2MjVyZW1cIixcclxuICAgICAgICBwYWRkaW5nOiAnMC4yNXJlbScsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnMC4yNXJlbSdcclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5RW1haWxGb290ZXI6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNy40dmhcIixcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3ctcmV2ZXJzZVwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yIDogXCIgIzJjNDE0ZjtcIlxyXG4gICAgfSxcclxuICAgIHNlbmRTdW1tYXJ5RW1haWxCdG46IHtcclxuICAgICAgICBoZWlnaHQ6ICcyZW0nLFxyXG4gICAgICAgIHdpZHRoOiAnNmVtJyxcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIxLjJyZW1cIixcclxuICAgICAgICBmb250U2l6ZTogJ3NtYWxsZXInLFxyXG4gICAgICAgIGFsaWduU2VsZjogJ2NlbnRlcicsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgZGlzYWJsZUljb246IHtcclxuICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIixcclxuICAgIH0sXHJcbiAgICBub3Rlc0xpc3QgOntcclxuICAgICAgICBjb2xvciA6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjBcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjEuN3JlbVwiXHJcbiAgICB9LFxyXG4gICAgZW1wdHlTdW1tYXJ5VGV4dDoge1xyXG4gICAgICAgIGNvbG9yIDogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBlbXB0eVN1bW1hcnlHcmlkOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjE1dmhcIixcclxuICAgICAgICB3aGl0ZVNwYWNlOiBcInByZS1saW5lXCIsXHJcbiAgICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcclxuICAgIH0sXHJcbiAgICB3YXJuaW5nTGluZToge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgZm9udFdlaWdodDogNTAwLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBmb250U2l6ZTogXCIuOGVtXCIsXHJcbiAgICAgICAgb3BhY2l0eSA6IFwiMC42NVwiLFxyXG4gICAgfSxcclxuICAgIGljb246IHtcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIuNXZ3XCJcclxuICAgIH0sXHJcbiAgICBoaWRlT3ZlcmZsb3c6IHtcclxuICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNsYXNzIEZpbmFsIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICBsZXQgY29udGFjdEluZGV4ID0gdGhpcy5wcm9wcy5jb250YWN0SW5kZXg7XHJcbiAgICAgICAgbGV0IGNvbnRhY3RzID0gW107XHJcbiAgICAgICAgaWYgKGNvbnRhY3RJbmRleCAhPSBudWxsICYmIHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5maXJzdE5hbWUgIT09IFwiVW5uYW1lZFwiICYmIHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5sYXN0TmFtZSAhPT0gXCJVbm5hbWVkXCIgKSB7XHJcbiAgICAgICAgICAgIGxldCBmdWxsTmFtZSA9IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5maXJzdE5hbWUgK1xyXG4gICAgICAgICAgICAgICAgXCIgXCIgKyB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0ubGFzdE5hbWU7XHJcblxyXG4gICAgICAgICAgICBjb250YWN0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGtleTogMCxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBmdWxsTmFtZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsSWQ6IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5lbWFpbCxcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIEF0dGFjaGVtZW50cyA9IHRoaXMucHJvcHMuaW52b2ljZUxpc3Q7XHJcbiAgICAgICAgbGV0IHN1YmplY3QgPSBcIlN1bW1hcnkgbm90ZXMgYXMgcGVyIG91ciBjb252ZXJzYXRpb24uXCI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZU5hbWU6IFwiXCIsXHJcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVCb2R5OiBcIlwiLFxyXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlU3ViamVjdDogc3ViamVjdCxcclxuICAgICAgICAgICAgdGVtcGxhdGVJZDogLTEsXHJcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVzOiBbXSxcclxuICAgICAgICAgICAgZW1haWxBdHRhY2hlbWVudHM6IEF0dGFjaGVtZW50cyxcclxuICAgICAgICAgICAgZW1haWxJZENoaXBzOiBjb250YWN0cyxcclxuICAgICAgICAgICAgc25hY2tCYXJPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiLFxyXG4gICAgICAgICAgICBlbWFpbFNlbnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBlbWFpbEJvZHlIZWlnaHQ6IDEyXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5zdW1tYXJ5Tm90ZXMgLCBcInN1bW1hcnkgbm90ZXMgaW4gZmluYWxcIilcclxuICAgICAgICB0aGlzLmVtYWlsQWRkID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcblxyXG4gICAgICAgIC8vZ2V0IGVtYWlsIFRlbXBsYXRlc1xyXG4gICAgICAgIGF4aW9zLmdldChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9lbWFpbHRlbXBsYXRlc2ApXHJcbiAgICAgICAgICAgIC8vIGF4aW9zLmdldChgJHtjb25maWcuYXBpVXJsfS9lbWFpbHRlbXBsYXRlc2ApXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFyciA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZXM6IGFyciB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZU5hbWU6IGFyclswXS5uYW1lIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IGFyclswXS5zdWJqZWN0IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZUJvZHk6IGFyclswXS5ib2R5IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdGVtcGxhdGVJZDogYXJyWzBdLmlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGluIGZldGNoaW5nIHRlbXBsYXRlc1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlczogW10gfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlTmFtZTogXCJObyBUZW1wbGF0ZXMhXCIgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2dldCBzZWxlY3RlZCBpbnZvaWNlIGZyb20gcG9zdCBjYWxsIHBhZ2VcclxuICAgICAgICAvL3RoaXMuc2V0U3RhdGUoeyBlbWFpbEF0dGFjaGVtZW50czogdGhpcy5wcm9wcy5pbnZvaWNlTGlzdH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50PSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBjb2xsZWN0b3IsIHN1bW1hcnlOb3Rlcywgbm9uQWN0aW9uSW5jbHVkZWQgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgbGV0IGludm9pY2VTdHJpbmcgPSAodGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGggPiAwKT9cIlBsZWFzZSBmaW5kIHRoZSBtZW50aW9uZWQgaW52b2ljZXMgYXR0YWNoZWQuXCI6XCJcIjtcclxuICAgICAgICBsZXQgc3VtbWFyeVN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgbGV0IGZpcnN0TmFtZSA9IGNvbGxlY3Rvci5maXJzdE5hbWUgPyB0aGlzLnByb3BzLmNvbGxlY3Rvci5maXJzdE5hbWUgOiBcIlwiXHJcbiAgICAgICAgbGV0IGxhc3ROYW1lID0gY29sbGVjdG9yLmxhc3ROYW1lID8gdGhpcy5wcm9wcy5jb2xsZWN0b3IubGFzdE5hbWUgOiBcIlwiXHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzdW1tYXJ5Tm90ZXMpIHtcclxuICAgICAgICAgICAgaWYoKGkgPT0gc3VtbWFyeU5vdGVzLmxlbmd0aCAtIDEpICYmIG5vbkFjdGlvbkluY2x1ZGVkKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdW1tYXJ5U3RyaW5nICs9IChzdW1tYXJ5Tm90ZXNbaV0udHJpbSgpKT9cIlxcblxcdTIwMjIgXCIrc3VtbWFyeU5vdGVzW2ldOlwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1bW1hcnlTdHJpbmcgPSAoc3VtbWFyeVN0cmluZyk/YFxcblBsZWFzZSBmaW5kIGJlbG93IHRoZSBzdW1tYXJ5IG9mIG91ciBjb252ZXJzYXRpb246XFxuJHtzdW1tYXJ5U3RyaW5nfVxcblxcbiR7aW52b2ljZVN0cmluZ31cXG5gOlwiXCI7XHJcbiAgICAgICAgbGV0IGVtYWlsQm9keSA9IChzdW1tYXJ5U3RyaW5nKT9gR3JlZXRpbmdzLFxcbiR7c3VtbWFyeVN0cmluZ31cXG5SZWdhcmRzLFxcbiR7Zmlyc3ROYW1lICsgXCIgXCIgKyBsYXN0TmFtZX1gOlwiXCI7XHJcbiAgICAgICAgbGV0IG5ld0xpbmVDb3VudCA9IChlbWFpbEJvZHkubWF0Y2goL1xcbi9nKSB8fCBbXSkubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2VtYWlsVGVtcGxhdGVCb2R5OiBlbWFpbEJvZHksIGVtYWlsQm9keUhlaWdodDogbmV3TGluZUNvdW50KzF9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsZSBmdW5jdGlvbiBmb3IgY2hhbmdlIGluIHRlbXBsYXRlIHNlbGVjdGlvblxyXG4gICAgaGFuZGxlVGVtcGxhdGVDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVOYW1lOiBldmVudC50YXJnZXQudmFsdWUgfSk7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZXM7XHJcblxyXG4gICAgICAgIC8vY2hlY2sgaWYgbm8gdGVtcGxhdGUgaXMgc2VsZWN0ZWRcclxuICAgICAgICBjb25zb2xlLmxvZyhldmVudC50YXJnZXQudmFsdWUpO1xyXG5cclxuICAgICAgICAvL3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAodGVtcGxhdGUpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBsYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVtpXS5uYW1lID09IGV2ZW50LnRhcmdldC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVTdWJqZWN0OiB0ZW1wbGF0ZVtpXS5zdWJqZWN0IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVCb2R5OiB0ZW1wbGF0ZVtpXS5ib2R5IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRlbXBsYXRlSWQ6IHRlbXBsYXRlW2ldLmlkIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0ZW1wbGF0ZS5zdWJqZWN0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIG9uIHByZXNzaW5nIGVudGVyIGtleSBhZnRlciBlbWFpbCBpZCBhZGRpdGlvblxyXG4gICAgaGFuZGxlRW1haWxFbnRlciA9IGV2ZW50ID0+IHtcclxuICAgICAgICBpZiAoKGV2ZW50LnR5cGUgPT09ICdibHVyJyB8fCBldmVudC5rZXkgPT09ICdFbnRlcicpICYmIGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCkpIHsgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgLy9yZWd1bGFyIGV4cHJlc3Npb24gLSB0byBjaGVjayBAaG9zdC5kb21haW5cclxuICAgICAgICAgICAgdmFyIHJlID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XHJcbiAgICAgICAgICAgIGlmKGV2ZW50LnRhcmdldC52YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBldmVudC50YXJnZXQudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUudHJpbSgpOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3ZhbGlkYXRlIHRoZSBlbnRlcmVkIGVtYWlsIGlkXHJcbiAgICAgICAgICAgIHZhciB2YWxpZCA9IHJlLnRlc3QoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGVtYWlsIGlzIFwiICsgdmFsaWQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVtYWlsQXJyID0gdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHM7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBrZXk6IGVtYWlsQXJyLmxlbmd0aCwgbGFiZWw6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsSWQ6IGV2ZW50LnRhcmdldC52YWx1ZSwgdmFsaWRhdGU6IHZhbGlkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGVtYWlsQXJyLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRvQWRkcjogZW1haWxBcnIgfSk7XHJcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IFwiXCI7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL2hhbmRsZSBmdW5jdGlvbiB3aGVuIGVtYWlsSWQgY2hpcCBpcyByZW1vdmVkXHJcbiAgICBoYW5kbGVFbWFpbElkRGVsZXRlID0gZGF0YSA9PiAoKSA9PiB7ICAgICAgICBcclxuICAgICAgICB0aGlzLmVtYWlsQWRkLmN1cnJlbnQuZm9jdXMoKTsgXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVtYWlsSWRDaGlwcyA9IFsuLi5zdGF0ZS5lbWFpbElkQ2hpcHNdO1xyXG4gICAgICAgICAgICBjb25zdCBjaGlwVG9EZWxldGUgPSBlbWFpbElkQ2hpcHMuaW5kZXhPZihkYXRhKTtcclxuICAgICAgICAgICAgZW1haWxJZENoaXBzLnNwbGljZShjaGlwVG9EZWxldGUsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4geyBlbWFpbElkQ2hpcHMgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgc3ViamVjdFxyXG4gICAgaGFuZGxlU3ViamVjdENoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgYm9keVxyXG4gICAgaGFuZGxlRW1haWxCb2R5Q2hhbmdlID0gZXZlbnQgPT4ge1xyXG4gICAgICAgIGxldCBuZXdNYXhIZWlnaHQgPSBNYXRoLnJvdW5kKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbEJvZHknKS5zY3JvbGxIZWlnaHQpO1xyXG4gICAgICAgIGlmIChuZXdNYXhIZWlnaHQgPD0gMTIpIHtcclxuICAgICAgICAgICAgbmV3TWF4SGVpZ2h0ID0gMTI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlQm9keTogZXZlbnQudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICBlbWFpbEJvZHlIZWlnaHQ6IG5ld01heEhlaWdodFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlbW92ZSBhdHRhY2hlbWVudCBmcm9tIGVtYWlsXHJcbiAgICByZW1vdmVBdHRhY2hlbWVudCA9IGRvY3VtZW50TnVtYmVyID0+IHtcclxuICAgICAgICB2YXIgY3VyckF0dGFjaGVtZW50cyA9IHRoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHM7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJyZW1vdmU6IFwiICsgZG9jdW1lbnROdW1iZXIpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VyckF0dGFjaGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoY3VyckF0dGFjaGVtZW50c1tpXS5pZCA9PSBkb2N1bWVudE51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgY3VyckF0dGFjaGVtZW50cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxBdHRhY2hlbWVudHM6IGN1cnJBdHRhY2hlbWVudHMgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTZW5kIHBvc3QgY2FsbCBzdW1tYXJ5IGVtYWlsXHJcbiAgICBzZW5kU3VtbWFyeUVtYWlsID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRpbmcgc3VtbWFyeSBlbWFpbFwiKTtcclxuXHJcbiAgICAgICAgLy9JbnZvaWNlIGRvY3VtZW50IGlkcyBcclxuICAgICAgICB2YXIgZG9jdW1lbnRJRHMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZG9jdW1lbnRJRHMucHVzaCh0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzW2ldLmlkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vaWYgbm8gdG9BZGRyIGlzIHByZXNlbnQsIHNob3cgaW4gc25hY2sgYmFyXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZW1haWxJZENoaXBzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJQbGVhc2Ugc3BlY2lmeSBhdCBsZWFzdCBvbmUgcmVjaXBpZW50LlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy90byBlbWFpbCBhZGRyZXNzZXMgXHJcbiAgICAgICAgdmFyIHRvQWRkciA9IFwiXCI7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmVtYWlsSWRDaGlwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHNbaV0udmFsaWRhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRvQWRkciArPSB0aGlzLnN0YXRlLmVtYWlsSWRDaGlwc1tpXS5lbWFpbElkICsgXCIsXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIGxhc3QgY29tbWFcclxuICAgICAgICB2YXIgcG9zID0gdG9BZGRyLmxhc3RJbmRleE9mKFwiLFwiKTtcclxuICAgICAgICB0b0FkZHIgPSB0b0FkZHIuc2xpY2UoMCwgcG9zKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlRvOiBcIiArIHRvQWRkcik7XHJcblxyXG4gICAgICAgIGxldCBlbWFpbEJvZHkgPSB0aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVCb2R5O1xyXG4gICAgICAgIGVtYWlsQm9keSA9IGVtYWlsQm9keS5yZXBsYWNlKC9cXG4vZywnPGJyIC8+Jyk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0aW5nIHJlcXVlc3QgZW1haWwgb2JqZWN0XHJcbiAgICAgICAgbGV0IGVtYWlsT2JqID0ge1xyXG4gICAgICAgICAgICBib2R5OiBlbWFpbEJvZHksXHJcbiAgICAgICAgICAgIHN1YmplY3Q6IHRoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZVN1YmplY3QsXHJcbiAgICAgICAgICAgIC8vIGNvcnJUeXBlSWQ6IHRoaXMuc3RhdGUudGVtcGxhdGVJZCwgICAgLy8gd2hhdCAgaWYgdGVtcGxhdGVzIGFyZSBub3QgZmV0Y2hlZC4gXHJcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IHRoaXMucHJvcHMuY3VzdG9tZXIuaWQsXHJcbiAgICAgICAgICAgIGRvY3VtZW50SWRzOiBkb2N1bWVudElEcyxcclxuICAgICAgICAgICAgZnJvbTogdGhpcy5wcm9wcy5jb2xsZWN0b3IuZW1haWxJZCwgIC8vZ2V0IGZyb20gY29sbGVjdG9yIHByb2ZpbGVcclxuICAgICAgICAgICAgdG86IHRvQWRkciwgIC8vZ2V0IGZyb20gQ29udGFjdCBvYmplY3QuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gTWFraW5nIGEgcG9zdCBjYWxsIGZvciBzZW5kaW5nIGVtYWlsc1xyXG4gICAgICAgIC8vYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9jYWxsc3VtbWFyeWAsIHJlcUVtYWlsT2JqKSAtIGFjdHVhbCBhcGlcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtlbWFpbFNlbnQgOiB0cnVlfSlcclxuICAgICAgICBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2NvcnJlc3BvbmRlbmNlL2NhbGxzdW1tYXJ5YCwgZW1haWxPYmopICAgIC8vIG1vY2sgc2VydmVyIGFwaVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFNlbnQ6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAvL2Rpc2FibGUgdG8gdGhlIGNvbXBvbmVudCB0byByZWFkIG9ubHkgbW9kZS5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2VtYWlsU2VudCA6IGZhbHNlfSlcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFcnJvciBpbiBzZW5kaW5nIGVtYWlsXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3BlbiBzbmFjayBiYXIgd2l0aCBtZXNzYWdlXHJcbiAgICBvcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IG1lc3NhZ2UgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbG9zZSBzbmFjayBiYXIgdXNpbmcgY3Jvc3MgYnV0dG9uXHJcbiAgICBjbG9zZVNuYWNrYmFyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgY3VzdG9tZXIsIGNsYXNzZXMsIHN1bW1hcnlOb3RlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc29sZS5sb2coKVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIC8vICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fT5cclxuICAgICAgICAgICAgLy8gICAgICAgICA8UmVhY3RDU1NUcmFuc2l0aW9uR3JvdXBcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU9XCJleGFtcGxlXCJcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdHJhbnNpdGlvbkFwcGVhcj17dHJ1ZX1cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ9ezUwMH1cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdHJhbnNpdGlvbkVudGVyPXtmYWxzZX1cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdHJhbnNpdGlvbkxlYXZlPXtmYWxzZX1cclxuICAgICAgICAgICAgLy8gICAgICAgICA+XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs5fT5cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogXCIxNnB4XCIsIGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH19PlxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb21wYW55TG9nb30+e2N1c3RvbWVyLmN1c3RvbWVyTmFtZS5jaGFyQXQoMCl9PC9kaXY+XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLCBhbGlnbkl0ZW1zOiBcImxlZnRcIiB9fT5cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmN1c3RvbWVyTmFtZX0+e2N1c3RvbWVyLmN1c3RvbWVyTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmN1c3RvbWVyTnVtYmVyfSBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiOHB4XCIsIGZvbnRTaXplOiBcIjAuOGVtXCIgfX0+e2N1c3RvbWVyLmN1c3RvbWVyTnVtYmVyfTwvZGl2PlxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMn0gc3R5bGU9e3sgcGFkZGluZzogXCIwcHggMTJweCAxMnB4IDEycHhcIiwgfX0+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiIH19PlxyXG4gICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTJ9IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgcGFkZGluZzogXCIwcHggOHB4IDhweCA4cHhcIixcclxuICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezV9ID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEyfSBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeU5vdGVzQm94fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5Tm90ZXNIZWFkZXJ9PlNVTU1BUlkgTk9URVM8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbXMgaWQgPSBcInN1bW1hcnlOb3RlaXRlbXNcIiBjbGFzc05hbWU9eyAoIXN1bW1hcnlOb3RlcyB8fCBzdW1tYXJ5Tm90ZXMubGVuZ3RoPT0wKSA/IGNsYXNzTmFtZXMoY2xhc3Nlcy5lbXB0eVN1bW1hcnlHcmlkLGNsYXNzZXMuY2VudGVyRmxleEJveCkgOiBjbGFzc2VzLnN1bW1hcnlOb3RlaXRlbXN9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHsgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzdW1tYXJ5Tm90ZXMgfHwgc3VtbWFyeU5vdGVzLmxlbmd0aD09MCkgICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLndhcm5pbmdMaW5lfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm8gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmVtcHR5U3VtbWFyeVRleHR9PlRoZXJlIGlzIG5vIHN1bW1hcnkgbm90ZXMgPC9zcGFuPiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICAgKHN1bW1hcnlOb3RlcyAmJiAhc3VtbWFyeU5vdGVzLmxlbmd0aD09MCkgICYmICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9e2NsYXNzZXMubm90ZXNMaXN0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXMubWFwKG5vdGUgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PFR5cG9ncmFwaHkgc3R5bGU9e3sgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5IDogMSAsZm9udFNpemU6IFwiMC44ODg4ODg4ODg4OHJlbVwiLG1hcmdpbkJvdHRvbTogXCIwLjg4OHJlbVwiIH19Pntub3RlfTwvVHlwb2dyYXBoeT48L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIHsvKlRPRE8gRW1haWwgVGVtcGxhdGUgQ29tcG9uZW50Ki99XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17N30gc3R5bGU9e3twYWRkaW5nTGVmdDogXCIxLjA0MXZ3XCJ9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeUVtYWlsSGVhZGVyfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGZvbnRTaXplOiBcIjEuMDY2NjZyZW1cIiwgZm9udFdlaWdodDogXCJub3JtYWxcIiwgY29sb3I6IFwiI2ZmZmZmZlwiLCBvcGFjaXR5IDogMC42NSwgcGFkZGluZ0JvdHRvbTogXCIwLjJlbVwiLCB9fT5TRU5EIFNVTU1BUlkgTUFJTDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250U2l6ZTogXCIwLjZlbVwiLCBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLCBjb2xvcjogXCIjZmZmZmZmXCIgfX0+U3VtbWFyeSBUZW1wbGF0ZSAxPC9UeXBvZ3JhcGh5PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8U2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZU5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlVGVtcGxhdGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsVGVtcGxhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZW1haWxUZW1wbGF0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50ZW1wbGF0ZVNlbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuc3RhdGUuZW1haWxTZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWNvbkNvbXBvbmVudD17QXJyb3dEcm9wRG93bn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID4qL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8TWVudUl0ZW0gdmFsdWU9XCJcIj5ObyBUZW1wbGF0ZXMhPC9NZW51SXRlbT4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyoge3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZXMubWFwKHRlbXBsYXRlcyA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RlbXBsYXRlcy5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGVtcGxhdGVzLm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5RW1haWx9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeUVtYWlsRm9ybX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxGb3JtQ29udHJvbCBmdWxsV2lkdGggY2xhc3NOYW1lPXtjbGFzc2VzLm1hcmdpbn0+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsSWRDaGlwc0lucHV0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsQWRkTGFiZWx9PlRvIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZW1haWxJZENoaXBzLm1hcCgoZW1haWwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGlwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17ZW1haWwua2V5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17ZW1haWwubGFiZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17ZW1haWwudmFsaWRhdGUgPyBjbGFzc2VzLmVtYWlsSWRDaGlwcyA6IGNsYXNzZXMuaW52YWxpZEVtYWlsSWRDaGlwc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlSWNvbj17PENsb3NlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyF0aGlzLnN0YXRlLmVtYWlsU2VudCA/IGNsYXNzZXMucmVtb3ZlRW1haWxJZCA6IGNsYXNzZXMuZGlzYWJsZUljb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZT17dGhpcy5oYW5kbGVFbWFpbElkRGVsZXRlKGVtYWlsKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17eyBjbGlja2FibGU6IGVtYWlsLnZhbGlkYXRlID8gY2xhc3Nlcy5lbWFpbElkQ2hpcHMgOiBjbGFzc2VzLmludmFsaWRFbWFpbElkQ2hpcHMgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5oYW5kbGVFbWFpbEVudGVyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyPXt0aGlzLmhhbmRsZUVtYWlsRW50ZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGg9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuZW1haWxJZElucHV0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZT17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmVtYWlsU2VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UmVmPXt0aGlzLmVtYWlsQWRkfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiMSVcIiwgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdWJqZWN0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyA9IHt7ZGlzYWJsZWQgOiBjbGFzc2VzLmRpc2FibGVkU3ViamVjdElucHV0fX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsU3ViamVjdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZVN1YmplY3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVN1YmplY3RDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmVtYWlsU2VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlFbWFpbEJvZHl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImVtYWlsQm9keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGg9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aWxpbmU9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlQm9keX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUVtYWlsQm9keUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezEyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7e2NvbG9yIDogXCJ3aGl0ZVwiLCBvdmVyZmxvdzogXCJoaWRkZW5cIn19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzTWF4PXt0aGlzLnN0YXRlLmVtYWlsQm9keUhlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5lbWFpbEJvZHlUZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyA9IHt7fX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7Y29sb3IgOiBcIndoaXRlXCJ9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtpbnB1dDpjbGFzc2VzLmhpZGVPdmVyZmxvdyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuZW1haWxTZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlQXR0YWNoZW1lbnRzfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoID4gMCAmJiBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlQ291bnR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLCBmb250U2l6ZSA6IFwiMC45Nzc3XCJ9fT5JbnZvaWNlIEF0dGFjaGVtZW50cyAoe3RoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RofSk8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0IGNlbGxIZWlnaHQ9e1wiYXV0b1wifSBjbGFzc05hbWU9e2NsYXNzZXMuZ3JpZExpc3R9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLm1hcChpbnZvaWNlID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0VGlsZSBjb2xzPXsxfSBrZXk9e2ludm9pY2UuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxMi41cmVtJywgcGFkZGluZzogJzAuMjVyZW0nIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuZ3JpZExpc3REaXZ9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIG1hcmdpbkxlZnQ6ICcwLjM3NXJlbScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IHBhZGRpbmc6ICcwLjI1cmVtJywgZm9udFNpemU6ICcwLjg4OHJlbScsIG9wYWNpdHkgOiAwLjY1ICxjb2xvciA6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICB9fT57aW52b2ljZS5kb2N1bWVudE51bWJlcn08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IHBhZGRpbmc6ICcwLjI1cmVtJywgZm9udFNpemU6ICcxcmVtJyxjb2xvciA6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluIH19PiQge2ludm9pY2UuY3VycmVudE9wZW5BbW91bnR9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExpc3RUaWxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGlzdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlFbWFpbEZvb3Rlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmF0dGFjaEludm9pY2VzQnRufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmF0dGFjaEludm9pY2VMYWJlbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWRkSW52b2ljZUF0dGFjaGVtZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdHRhY2ggSW52b2ljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuc2VuZFN1bW1hcnlFbWFpbEJ0bn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VuZFN1bW1hcnlFbWFpbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuZW1haWxTZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VORFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPC9Gb3JtQ29udHJvbD4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgPFNuYWNrYmFyXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yT3JpZ2luPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiAnYm90dG9tJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5zbmFja0Jhck9wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbj17MjAwMH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgQ29udGVudFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogJ21lc3NhZ2UtaWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17PHNwYW4gaWQ9XCJtZXNzYWdlLWlkXCI+e3RoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlfTwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uPXtbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJjbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jbG9zZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+LFxyXG4gICAgICAgICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5GaW5hbC5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoRmluYWwpXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZpZXdzL0ZpbmFsLmpzIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgncmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXAnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNjEwNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gcmVxdWlyZSgnLi9UcmFuc2l0aW9uR3JvdXAnKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNpdGlvbkdyb3VwKTtcblxudmFyIF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCA9IHJlcXVpcmUoJy4vQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQnKTtcblxudmFyIF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCk7XG5cbnZhciBfUHJvcFR5cGVzID0gcmVxdWlyZSgnLi91dGlscy9Qcm9wVHlwZXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICB0cmFuc2l0aW9uTmFtZTogX1Byb3BUeXBlcy5uYW1lU2hhcGUuaXNSZXF1aXJlZCxcblxuICB0cmFuc2l0aW9uQXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHRyYW5zaXRpb25FbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0cmFuc2l0aW9uTGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnQXBwZWFyJyksXG4gIHRyYW5zaXRpb25FbnRlclRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnRW50ZXInKSxcbiAgdHJhbnNpdGlvbkxlYXZlVGltZW91dDogKDAsIF9Qcm9wVHlwZXMudHJhbnNpdGlvblRpbWVvdXQpKCdMZWF2ZScpXG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICB0cmFuc2l0aW9uQXBwZWFyOiBmYWxzZSxcbiAgdHJhbnNpdGlvbkVudGVyOiB0cnVlLFxuICB0cmFuc2l0aW9uTGVhdmU6IHRydWVcbn07XG5cbnZhciBDU1NUcmFuc2l0aW9uR3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ1NTVHJhbnNpdGlvbkdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDU1NUcmFuc2l0aW9uR3JvdXAoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDU1NUcmFuc2l0aW9uR3JvdXApO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLl93cmFwQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgbmFtZTogX3RoaXMucHJvcHMudHJhbnNpdGlvbk5hbWUsXG4gICAgICAgIGFwcGVhcjogX3RoaXMucHJvcHMudHJhbnNpdGlvbkFwcGVhcixcbiAgICAgICAgZW50ZXI6IF90aGlzLnByb3BzLnRyYW5zaXRpb25FbnRlcixcbiAgICAgICAgbGVhdmU6IF90aGlzLnByb3BzLnRyYW5zaXRpb25MZWF2ZSxcbiAgICAgICAgYXBwZWFyVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkFwcGVhclRpbWVvdXQsXG4gICAgICAgIGVudGVyVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkVudGVyVGltZW91dCxcbiAgICAgICAgbGVhdmVUaW1lb3V0OiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uTGVhdmVUaW1lb3V0XG4gICAgICB9LCBjaGlsZCk7XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICAvLyBXZSBuZWVkIHRvIHByb3ZpZGUgdGhpcyBjaGlsZEZhY3Rvcnkgc28gdGhhdFxuICAvLyBSZWFjdENTU1RyYW5zaXRpb25Hcm91cENoaWxkIGNhbiByZWNlaXZlIHVwZGF0ZXMgdG8gbmFtZSwgZW50ZXIsIGFuZFxuICAvLyBsZWF2ZSB3aGlsZSBpdCBpcyBsZWF2aW5nLlxuXG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2l0aW9uR3JvdXAyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IGNoaWxkRmFjdG9yeTogdGhpcy5fd3JhcENoaWxkIH0pKTtcbiAgfTtcblxuICByZXR1cm4gQ1NTVHJhbnNpdGlvbkdyb3VwO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NTVHJhbnNpdGlvbkdyb3VwLmRpc3BsYXlOYW1lID0gJ0NTU1RyYW5zaXRpb25Hcm91cCc7XG5cblxuQ1NTVHJhbnNpdGlvbkdyb3VwLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xuQ1NTVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ1NTVHJhbnNpdGlvbkdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cC5qc1xuLy8gbW9kdWxlIGlkID0gNjEwNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY2hhaW5GdW5jdGlvbiA9IHJlcXVpcmUoJ2NoYWluLWZ1bmN0aW9uJyk7XG5cbnZhciBfY2hhaW5GdW5jdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGFpbkZ1bmN0aW9uKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfQ2hpbGRNYXBwaW5nID0gcmVxdWlyZSgnLi91dGlscy9DaGlsZE1hcHBpbmcnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICBjb21wb25lbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55LFxuICBjaGlsZEZhY3Rvcnk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZVxufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgY29tcG9uZW50OiAnc3BhbicsXG4gIGNoaWxkRmFjdG9yeTogZnVuY3Rpb24gY2hpbGRGYWN0b3J5KGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9XG59O1xuXG52YXIgVHJhbnNpdGlvbkdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRyYW5zaXRpb25Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHJhbnNpdGlvbkdyb3VwKHByb3BzLCBjb250ZXh0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zaXRpb25Hcm91cCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcblxuICAgIF90aGlzLnBlcmZvcm1BcHBlYXIgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuXG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxBcHBlYXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudFdpbGxBcHBlYXIoX3RoaXMuX2hhbmRsZURvbmVBcHBlYXJpbmcuYmluZChfdGhpcywga2V5LCBjb21wb25lbnQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLl9oYW5kbGVEb25lQXBwZWFyaW5nKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX2hhbmRsZURvbmVBcHBlYXJpbmcgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkQXBwZWFyKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRBcHBlYXIoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV07XG5cbiAgICAgIHZhciBjdXJyZW50Q2hpbGRNYXBwaW5nID0gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG5cbiAgICAgIGlmICghY3VycmVudENoaWxkTWFwcGluZyB8fCAhY3VycmVudENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIC8vIFRoaXMgd2FzIHJlbW92ZWQgYmVmb3JlIGl0IGhhZCBmdWxseSBhcHBlYXJlZC4gUmVtb3ZlIGl0LlxuICAgICAgICBfdGhpcy5wZXJmb3JtTGVhdmUoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5wZXJmb3JtRW50ZXIgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuXG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxFbnRlcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbEVudGVyKF90aGlzLl9oYW5kbGVEb25lRW50ZXJpbmcuYmluZChfdGhpcywga2V5LCBjb21wb25lbnQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLl9oYW5kbGVEb25lRW50ZXJpbmcoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5faGFuZGxlRG9uZUVudGVyaW5nID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZEVudGVyKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRFbnRlcigpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgICAgdmFyIGN1cnJlbnRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKF90aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgaWYgKCFjdXJyZW50Q2hpbGRNYXBwaW5nIHx8ICFjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgLy8gVGhpcyB3YXMgcmVtb3ZlZCBiZWZvcmUgaXQgaGFkIGZ1bGx5IGVudGVyZWQuIFJlbW92ZSBpdC5cbiAgICAgICAgX3RoaXMucGVyZm9ybUxlYXZlKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucGVyZm9ybUxlYXZlID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldID0gdHJ1ZTtcblxuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsTGVhdmUpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudFdpbGxMZWF2ZShfdGhpcy5faGFuZGxlRG9uZUxlYXZpbmcuYmluZChfdGhpcywga2V5LCBjb21wb25lbnQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGlzIGlzIHNvbWV3aGF0IGRhbmdlcm91cyBiL2MgaXQgY2FsbHMgc2V0U3RhdGUoKVxuICAgICAgICAvLyBhZ2FpbiwgZWZmZWN0aXZlbHkgbXV0YXRpbmcgdGhlIGNvbXBvbmVudCBiZWZvcmUgYWxsIHRoZSB3b3JrXG4gICAgICAgIC8vIGlzIGRvbmUuXG4gICAgICAgIF90aGlzLl9oYW5kbGVEb25lTGVhdmluZyhrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9oYW5kbGVEb25lTGVhdmluZyA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRMZWF2ZSkge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkTGVhdmUoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV07XG5cbiAgICAgIHZhciBjdXJyZW50Q2hpbGRNYXBwaW5nID0gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG5cbiAgICAgIGlmIChjdXJyZW50Q2hpbGRNYXBwaW5nICYmIGN1cnJlbnRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAvLyBUaGlzIGVudGVyZWQgYWdhaW4gYmVmb3JlIGl0IGZ1bGx5IGxlZnQuIEFkZCBpdCBhZ2Fpbi5cbiAgICAgICAgX3RoaXMua2V5c1RvRW50ZXIucHVzaChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgdmFyIG5ld0NoaWxkcmVuID0gX2V4dGVuZHMoe30sIHN0YXRlLmNoaWxkcmVuKTtcbiAgICAgICAgICBkZWxldGUgbmV3Q2hpbGRyZW5ba2V5XTtcbiAgICAgICAgICByZXR1cm4geyBjaGlsZHJlbjogbmV3Q2hpbGRyZW4gfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmNoaWxkUmVmcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNoaWxkcmVuOiAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKHByb3BzLmNoaWxkcmVuKVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5cyA9IHt9O1xuICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG4gIH07XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBpbml0aWFsQ2hpbGRNYXBwaW5nID0gdGhpcy5zdGF0ZS5jaGlsZHJlbjtcbiAgICBmb3IgKHZhciBrZXkgaW4gaW5pdGlhbENoaWxkTWFwcGluZykge1xuICAgICAgaWYgKGluaXRpYWxDaGlsZE1hcHBpbmdba2V5XSkge1xuICAgICAgICB0aGlzLnBlcmZvcm1BcHBlYXIoa2V5LCB0aGlzLmNoaWxkUmVmc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgbmV4dENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykobmV4dFByb3BzLmNoaWxkcmVuKTtcbiAgICB2YXIgcHJldkNoaWxkTWFwcGluZyA9IHRoaXMuc3RhdGUuY2hpbGRyZW47XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNoaWxkcmVuOiAoMCwgX0NoaWxkTWFwcGluZy5tZXJnZUNoaWxkTWFwcGluZ3MpKHByZXZDaGlsZE1hcHBpbmcsIG5leHRDaGlsZE1hcHBpbmcpXG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gbmV4dENoaWxkTWFwcGluZykge1xuICAgICAgdmFyIGhhc1ByZXYgPSBwcmV2Q2hpbGRNYXBwaW5nICYmIHByZXZDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICAgIGlmIChuZXh0Q2hpbGRNYXBwaW5nW2tleV0gJiYgIWhhc1ByZXYgJiYgIXRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSkge1xuICAgICAgICB0aGlzLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfa2V5IGluIHByZXZDaGlsZE1hcHBpbmcpIHtcbiAgICAgIHZhciBoYXNOZXh0ID0gbmV4dENoaWxkTWFwcGluZyAmJiBuZXh0Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KF9rZXkpO1xuICAgICAgaWYgKHByZXZDaGlsZE1hcHBpbmdbX2tleV0gJiYgIWhhc05leHQgJiYgIXRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNbX2tleV0pIHtcbiAgICAgICAgdGhpcy5rZXlzVG9MZWF2ZS5wdXNoKF9rZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHdlIHdhbnQgdG8gc29tZWRheSBjaGVjayBmb3IgcmVvcmRlcmluZywgd2UgY291bGQgZG8gaXQgaGVyZS5cbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBrZXlzVG9FbnRlciA9IHRoaXMua2V5c1RvRW50ZXI7XG4gICAgdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuICAgIGtleXNUb0VudGVyLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIF90aGlzMi5wZXJmb3JtRW50ZXIoa2V5LCBfdGhpczIuY2hpbGRSZWZzW2tleV0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGtleXNUb0xlYXZlID0gdGhpcy5rZXlzVG9MZWF2ZTtcbiAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG4gICAga2V5c1RvTGVhdmUuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gX3RoaXMyLnBlcmZvcm1MZWF2ZShrZXksIF90aGlzMi5jaGlsZFJlZnNba2V5XSk7XG4gICAgfSk7XG4gIH07XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAvLyBUT0RPOiB3ZSBjb3VsZCBnZXQgcmlkIG9mIHRoZSBuZWVkIGZvciB0aGUgd3JhcHBlciBub2RlXG4gICAgLy8gYnkgY2xvbmluZyBhIHNpbmdsZSBjaGlsZFxuICAgIHZhciBjaGlsZHJlblRvUmVuZGVyID0gW107XG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChrZXkpIHtcbiAgICAgIHZhciBjaGlsZCA9IF90aGlzMy5zdGF0ZS5jaGlsZHJlbltrZXldO1xuICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIHZhciBpc0NhbGxiYWNrUmVmID0gdHlwZW9mIGNoaWxkLnJlZiAhPT0gJ3N0cmluZyc7XG4gICAgICAgIHZhciBmYWN0b3J5Q2hpbGQgPSBfdGhpczMucHJvcHMuY2hpbGRGYWN0b3J5KGNoaWxkKTtcbiAgICAgICAgdmFyIHJlZiA9IGZ1bmN0aW9uIHJlZihyKSB7XG4gICAgICAgICAgX3RoaXMzLmNoaWxkUmVmc1trZXldID0gcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF93YXJuaW5nMi5kZWZhdWx0KShpc0NhbGxiYWNrUmVmLCAnc3RyaW5nIHJlZnMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gY2hpbGRyZW4gb2YgVHJhbnNpdGlvbkdyb3VwIGFuZCB3aWxsIGJlIGlnbm9yZWQuICcgKyAnUGxlYXNlIHVzZSBhIGNhbGxiYWNrIHJlZiBpbnN0ZWFkOiBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3JlZnMtYW5kLXRoZS1kb20uaHRtbCN0aGUtcmVmLWNhbGxiYWNrLWF0dHJpYnV0ZScpIDogdm9pZCAwO1xuXG4gICAgICAgIC8vIEFsd2F5cyBjaGFpbmluZyB0aGUgcmVmcyBsZWFkcyB0byBwcm9ibGVtcyB3aGVuIHRoZSBjaGlsZEZhY3RvcnlcbiAgICAgICAgLy8gd3JhcHMgdGhlIGNoaWxkLiBUaGUgY2hpbGQgcmVmIGNhbGxiYWNrIGdldHMgY2FsbGVkIHR3aWNlIHdpdGggdGhlXG4gICAgICAgIC8vIHdyYXBwZXIgYW5kIHRoZSBjaGlsZC4gU28gd2Ugb25seSBuZWVkIHRvIGNoYWluIHRoZSByZWYgaWYgdGhlXG4gICAgICAgIC8vIGZhY3RvcnlDaGlsZCBpcyBub3QgZGlmZmVyZW50IGZyb20gY2hpbGQuXG4gICAgICAgIGlmIChmYWN0b3J5Q2hpbGQgPT09IGNoaWxkICYmIGlzQ2FsbGJhY2tSZWYpIHtcbiAgICAgICAgICByZWYgPSAoMCwgX2NoYWluRnVuY3Rpb24yLmRlZmF1bHQpKGNoaWxkLnJlZiwgcmVmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFlvdSBtYXkgbmVlZCB0byBhcHBseSByZWFjdGl2ZSB1cGRhdGVzIHRvIGEgY2hpbGQgYXMgaXQgaXMgbGVhdmluZy5cbiAgICAgICAgLy8gVGhlIG5vcm1hbCBSZWFjdCB3YXkgdG8gZG8gaXQgd29uJ3Qgd29yayBzaW5jZSB0aGUgY2hpbGQgd2lsbCBoYXZlXG4gICAgICAgIC8vIGFscmVhZHkgYmVlbiByZW1vdmVkLiBJbiBjYXNlIHlvdSBuZWVkIHRoaXMgYmVoYXZpb3IgeW91IGNhbiBwcm92aWRlXG4gICAgICAgIC8vIGEgY2hpbGRGYWN0b3J5IGZ1bmN0aW9uIHRvIHdyYXAgZXZlcnkgY2hpbGQsIGV2ZW4gdGhlIG9uZXMgdGhhdCBhcmVcbiAgICAgICAgLy8gbGVhdmluZy5cbiAgICAgICAgY2hpbGRyZW5Ub1JlbmRlci5wdXNoKF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoZmFjdG9yeUNoaWxkLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgcmVmOiByZWZcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5zdGF0ZS5jaGlsZHJlbikge1xuICAgICAgX2xvb3Aoa2V5KTtcbiAgICB9XG5cbiAgICAvLyBEbyBub3QgZm9yd2FyZCBUcmFuc2l0aW9uR3JvdXAgcHJvcHMgdG8gcHJpbWl0aXZlIERPTSBub2Rlc1xuICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkxlYXZlO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uTmFtZTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkFwcGVhcjtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkVudGVyO1xuICAgIGRlbGV0ZSBwcm9wcy5jaGlsZEZhY3Rvcnk7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25MZWF2ZVRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25FbnRlclRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25BcHBlYXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5jb21wb25lbnQ7XG5cbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5jb21wb25lbnQsIHByb3BzLCBjaGlsZHJlblRvUmVuZGVyKTtcbiAgfTtcblxuICByZXR1cm4gVHJhbnNpdGlvbkdyb3VwO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuVHJhbnNpdGlvbkdyb3VwLmRpc3BsYXlOYW1lID0gJ1RyYW5zaXRpb25Hcm91cCc7XG5cblxuVHJhbnNpdGlvbkdyb3VwLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xuVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNpdGlvbkdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL1RyYW5zaXRpb25Hcm91cC5qc1xuLy8gbW9kdWxlIGlkID0gNjEwN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2hhaW4oKXtcbiAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgdmFyIGFyZ3MgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV1cblxuICBhcmdzID0gYXJncy5maWx0ZXIoZnVuY3Rpb24oZm4peyByZXR1cm4gZm4gIT0gbnVsbCB9KVxuXG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZFxuICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHJldHVybiBhcmdzWzBdXG5cbiAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uKGN1cnJlbnQsIG5leHQpe1xuICAgIHJldHVybiBmdW5jdGlvbiBjaGFpbmVkRnVuY3Rpb24oKSB7XG4gICAgICBjdXJyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBuZXh0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSlcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NoYWluLWZ1bmN0aW9uL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2MTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL25vZGVfbW9kdWxlcy93YXJuaW5nL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDYxMDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5nZXRDaGlsZE1hcHBpbmcgPSBnZXRDaGlsZE1hcHBpbmc7XG5leHBvcnRzLm1lcmdlQ2hpbGRNYXBwaW5ncyA9IG1lcmdlQ2hpbGRNYXBwaW5ncztcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbi8qKlxuICogR2l2ZW4gYHRoaXMucHJvcHMuY2hpbGRyZW5gLCByZXR1cm4gYW4gb2JqZWN0IG1hcHBpbmcga2V5IHRvIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Kn0gY2hpbGRyZW4gYHRoaXMucHJvcHMuY2hpbGRyZW5gXG4gKiBAcmV0dXJuIHtvYmplY3R9IE1hcHBpbmcgb2Yga2V5IHRvIGNoaWxkXG4gKi9cbmZ1bmN0aW9uIGdldENoaWxkTWFwcGluZyhjaGlsZHJlbikge1xuICBpZiAoIWNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgX3JlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJlc3VsdFtjaGlsZC5rZXldID0gY2hpbGQ7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFdoZW4geW91J3JlIGFkZGluZyBvciByZW1vdmluZyBjaGlsZHJlbiBzb21lIG1heSBiZSBhZGRlZCBvciByZW1vdmVkIGluIHRoZVxuICogc2FtZSByZW5kZXIgcGFzcy4gV2Ugd2FudCB0byBzaG93ICpib3RoKiBzaW5jZSB3ZSB3YW50IHRvIHNpbXVsdGFuZW91c2x5XG4gKiBhbmltYXRlIGVsZW1lbnRzIGluIGFuZCBvdXQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgYSBwcmV2aW91cyBzZXQgb2Yga2V5c1xuICogYW5kIGEgbmV3IHNldCBvZiBrZXlzIGFuZCBtZXJnZXMgdGhlbSB3aXRoIGl0cyBiZXN0IGd1ZXNzIG9mIHRoZSBjb3JyZWN0XG4gKiBvcmRlcmluZy4gSW4gdGhlIGZ1dHVyZSB3ZSBtYXkgZXhwb3NlIHNvbWUgb2YgdGhlIHV0aWxpdGllcyBpblxuICogUmVhY3RNdWx0aUNoaWxkIHRvIG1ha2UgdGhpcyBlYXN5LCBidXQgZm9yIG5vdyBSZWFjdCBpdHNlbGYgZG9lcyBub3RcbiAqIGRpcmVjdGx5IGhhdmUgdGhpcyBjb25jZXB0IG9mIHRoZSB1bmlvbiBvZiBwcmV2Q2hpbGRyZW4gYW5kIG5leHRDaGlsZHJlblxuICogc28gd2UgaW1wbGVtZW50IGl0IGhlcmUuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHByZXYgcHJldiBjaGlsZHJlbiBhcyByZXR1cm5lZCBmcm9tXG4gKiBgUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZygpYC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0IG5leHQgY2hpbGRyZW4gYXMgcmV0dXJuZWQgZnJvbVxuICogYFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcoKWAuXG4gKiBAcmV0dXJuIHtvYmplY3R9IGEga2V5IHNldCB0aGF0IGNvbnRhaW5zIGFsbCBrZXlzIGluIGBwcmV2YCBhbmQgYWxsIGtleXNcbiAqIGluIGBuZXh0YCBpbiBhIHJlYXNvbmFibGUgb3JkZXIuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlQ2hpbGRNYXBwaW5ncyhwcmV2LCBuZXh0KSB7XG4gIHByZXYgPSBwcmV2IHx8IHt9O1xuICBuZXh0ID0gbmV4dCB8fCB7fTtcblxuICBmdW5jdGlvbiBnZXRWYWx1ZUZvcktleShrZXkpIHtcbiAgICBpZiAobmV4dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXR1cm4gbmV4dFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBwcmV2W2tleV07XG4gIH1cblxuICAvLyBGb3IgZWFjaCBrZXkgb2YgYG5leHRgLCB0aGUgbGlzdCBvZiBrZXlzIHRvIGluc2VydCBiZWZvcmUgdGhhdCBrZXkgaW5cbiAgLy8gdGhlIGNvbWJpbmVkIGxpc3RcbiAgdmFyIG5leHRLZXlzUGVuZGluZyA9IHt9O1xuXG4gIHZhciBwZW5kaW5nS2V5cyA9IFtdO1xuICBmb3IgKHZhciBwcmV2S2V5IGluIHByZXYpIHtcbiAgICBpZiAobmV4dC5oYXNPd25Qcm9wZXJ0eShwcmV2S2V5KSkge1xuICAgICAgaWYgKHBlbmRpbmdLZXlzLmxlbmd0aCkge1xuICAgICAgICBuZXh0S2V5c1BlbmRpbmdbcHJldktleV0gPSBwZW5kaW5nS2V5cztcbiAgICAgICAgcGVuZGluZ0tleXMgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0tleXMucHVzaChwcmV2S2V5KTtcbiAgICB9XG4gIH1cblxuICB2YXIgaSA9IHZvaWQgMDtcbiAgdmFyIGNoaWxkTWFwcGluZyA9IHt9O1xuICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHQpIHtcbiAgICBpZiAobmV4dEtleXNQZW5kaW5nLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmV4dEtleXNQZW5kaW5nW25leHRLZXldLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwZW5kaW5nTmV4dEtleSA9IG5leHRLZXlzUGVuZGluZ1tuZXh0S2V5XVtpXTtcbiAgICAgICAgY2hpbGRNYXBwaW5nW25leHRLZXlzUGVuZGluZ1tuZXh0S2V5XVtpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nTmV4dEtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNoaWxkTWFwcGluZ1tuZXh0S2V5XSA9IGdldFZhbHVlRm9yS2V5KG5leHRLZXkpO1xuICB9XG5cbiAgLy8gRmluYWxseSwgYWRkIHRoZSBrZXlzIHdoaWNoIGRpZG4ndCBhcHBlYXIgYmVmb3JlIGFueSBrZXkgaW4gYG5leHRgXG4gIGZvciAoaSA9IDA7IGkgPCBwZW5kaW5nS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNoaWxkTWFwcGluZ1twZW5kaW5nS2V5c1tpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nS2V5c1tpXSk7XG4gIH1cblxuICByZXR1cm4gY2hpbGRNYXBwaW5nO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC91dGlscy9DaGlsZE1hcHBpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDYxMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2FkZENsYXNzID0gcmVxdWlyZSgnZG9tLWhlbHBlcnMvY2xhc3MvYWRkQ2xhc3MnKTtcblxudmFyIF9hZGRDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZGRDbGFzcyk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MgPSByZXF1aXJlKCdkb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzcycpO1xuXG52YXIgX3JlbW92ZUNsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlbW92ZUNsYXNzKTtcblxudmFyIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1aXJlKCdkb20taGVscGVycy91dGlsL3JlcXVlc3RBbmltYXRpb25GcmFtZScpO1xuXG52YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xuXG52YXIgX3Byb3BlcnRpZXMgPSByZXF1aXJlKCdkb20taGVscGVycy90cmFuc2l0aW9uL3Byb3BlcnRpZXMnKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX1Byb3BUeXBlcyA9IHJlcXVpcmUoJy4vdXRpbHMvUHJvcFR5cGVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGV2ZW50cyA9IFtdO1xuaWYgKF9wcm9wZXJ0aWVzLnRyYW5zaXRpb25FbmQpIGV2ZW50cy5wdXNoKF9wcm9wZXJ0aWVzLnRyYW5zaXRpb25FbmQpO1xuaWYgKF9wcm9wZXJ0aWVzLmFuaW1hdGlvbkVuZCkgZXZlbnRzLnB1c2goX3Byb3BlcnRpZXMuYW5pbWF0aW9uRW5kKTtcblxuZnVuY3Rpb24gYWRkRW5kTGlzdGVuZXIobm9kZSwgbGlzdGVuZXIpIHtcbiAgaWYgKGV2ZW50cy5sZW5ndGgpIHtcbiAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihlLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNldFRpbWVvdXQobGlzdGVuZXIsIDApO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWV2ZW50cy5sZW5ndGgpIHJldHVybjtcbiAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgIH0pO1xuICB9O1xufVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBuYW1lOiBfUHJvcFR5cGVzLm5hbWVTaGFwZS5pc1JlcXVpcmVkLFxuXG4gIC8vIE9uY2Ugd2UgcmVxdWlyZSB0aW1lb3V0cyB0byBiZSBzcGVjaWZpZWQsIHdlIGNhbiByZW1vdmUgdGhlXG4gIC8vIGJvb2xlYW4gZmxhZ3MgKGFwcGVhciBldGMuKSBhbmQganVzdCBhY2NlcHQgYSBudW1iZXJcbiAgLy8gb3IgYSBib29sIGZvciB0aGUgdGltZW91dCBmbGFncyAoYXBwZWFyVGltZW91dCBldGMuKVxuICBhcHBlYXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgZW50ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgbGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgYXBwZWFyVGltZW91dDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGVudGVyVGltZW91dDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGxlYXZlVGltZW91dDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXJcbn07XG5cbnZhciBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuY29tcG9uZW50V2lsbEFwcGVhciA9IGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMuYXBwZWFyKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2FwcGVhcicsIGRvbmUsIF90aGlzLnByb3BzLmFwcGVhclRpbWVvdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmNvbXBvbmVudFdpbGxFbnRlciA9IGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMuZW50ZXIpIHtcbiAgICAgICAgX3RoaXMudHJhbnNpdGlvbignZW50ZXInLCBkb25lLCBfdGhpcy5wcm9wcy5lbnRlclRpbWVvdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmNvbXBvbmVudFdpbGxMZWF2ZSA9IGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMubGVhdmUpIHtcbiAgICAgICAgX3RoaXMudHJhbnNpdGlvbignbGVhdmUnLCBkb25lLCBfdGhpcy5wcm9wcy5sZWF2ZVRpbWVvdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZSA9IFtdO1xuICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXRzID0gW107XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy51bm1vdW50ZWQgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgfVxuICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXRzLmZvckVhY2goZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLnRyYW5zaXRpb24gPSBmdW5jdGlvbiB0cmFuc2l0aW9uKGFuaW1hdGlvblR5cGUsIGZpbmlzaENhbGxiYWNrLCB0aW1lb3V0KSB7XG4gICAgdmFyIG5vZGUgPSAoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzKTtcblxuICAgIGlmICghbm9kZSkge1xuICAgICAgaWYgKGZpbmlzaENhbGxiYWNrKSB7XG4gICAgICAgIGZpbmlzaENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMubmFtZVthbmltYXRpb25UeXBlXSB8fCB0aGlzLnByb3BzLm5hbWUgKyAnLScgKyBhbmltYXRpb25UeXBlO1xuICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSB0aGlzLnByb3BzLm5hbWVbYW5pbWF0aW9uVHlwZSArICdBY3RpdmUnXSB8fCBjbGFzc05hbWUgKyAnLWFjdGl2ZSc7XG4gICAgdmFyIHRpbWVyID0gbnVsbDtcbiAgICB2YXIgcmVtb3ZlTGlzdGVuZXJzID0gdm9pZCAwO1xuXG4gICAgKDAsIF9hZGRDbGFzczIuZGVmYXVsdCkobm9kZSwgY2xhc3NOYW1lKTtcblxuICAgIC8vIE5lZWQgdG8gZG8gdGhpcyB0byBhY3R1YWxseSB0cmlnZ2VyIGEgdHJhbnNpdGlvbi5cbiAgICB0aGlzLnF1ZXVlQ2xhc3NBbmROb2RlKGFjdGl2ZUNsYXNzTmFtZSwgbm9kZSk7XG5cbiAgICAvLyBDbGVhbi11cCB0aGUgYW5pbWF0aW9uIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXlcbiAgICB2YXIgZmluaXNoID0gZnVuY3Rpb24gZmluaXNoKGUpIHtcbiAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBub2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIGlmIChyZW1vdmVMaXN0ZW5lcnMpIHJlbW92ZUxpc3RlbmVycygpO1xuXG4gICAgICAoMCwgX3JlbW92ZUNsYXNzMi5kZWZhdWx0KShub2RlLCBjbGFzc05hbWUpO1xuICAgICAgKDAsIF9yZW1vdmVDbGFzczIuZGVmYXVsdCkobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKHJlbW92ZUxpc3RlbmVycykgcmVtb3ZlTGlzdGVuZXJzKCk7XG5cbiAgICAgIC8vIFVzdWFsbHkgdGhpcyBvcHRpb25hbCBjYWxsYmFjayBpcyB1c2VkIGZvciBpbmZvcm1pbmcgYW4gb3duZXIgb2ZcbiAgICAgIC8vIGEgbGVhdmUgYW5pbWF0aW9uIGFuZCB0ZWxsaW5nIGl0IHRvIHJlbW92ZSB0aGUgY2hpbGQuXG4gICAgICBpZiAoZmluaXNoQ2FsbGJhY2spIHtcbiAgICAgICAgZmluaXNoQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dChmaW5pc2gsIHRpbWVvdXQpO1xuICAgICAgdGhpcy50cmFuc2l0aW9uVGltZW91dHMucHVzaCh0aW1lcik7XG4gICAgfSBlbHNlIGlmIChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKSB7XG4gICAgICByZW1vdmVMaXN0ZW5lcnMgPSBhZGRFbmRMaXN0ZW5lcihub2RlLCBmaW5pc2gpO1xuICAgIH1cbiAgfTtcblxuICBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5wcm90b3R5cGUucXVldWVDbGFzc0FuZE5vZGUgPSBmdW5jdGlvbiBxdWV1ZUNsYXNzQW5kTm9kZShjbGFzc05hbWUsIG5vZGUpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlLnB1c2goe1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBub2RlOiBub2RlXG4gICAgfSk7XG5cbiAgICBpZiAoIXRoaXMucmFmSGFuZGxlKSB7XG4gICAgICB0aGlzLnJhZkhhbmRsZSA9ICgwLCBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lMi5kZWZhdWx0KShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5wcm90b3R5cGUuZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUgPSBmdW5jdGlvbiBmbHVzaENsYXNzTmFtZUFuZE5vZGVRdWV1ZSgpIHtcbiAgICBpZiAoIXRoaXMudW5tb3VudGVkKSB7XG4gICAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgLy8gVGhpcyBpcyBmb3IgdG8gZm9yY2UgYSByZXBhaW50LFxuICAgICAgICAvLyB3aGljaCBpcyBuZWNlc3NhcnkgaW4gb3JkZXIgdG8gdHJhbnNpdGlvbiBzdHlsZXMgd2hlbiBhZGRpbmcgYSBjbGFzcyBuYW1lLlxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgICAgICAgb2JqLm5vZGUuc2Nyb2xsVG9wO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuICAgICAgICAoMCwgX2FkZENsYXNzMi5kZWZhdWx0KShvYmoubm9kZSwgb2JqLmNsYXNzTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUubGVuZ3RoID0gMDtcbiAgICB0aGlzLnJhZkhhbmRsZSA9IG51bGw7XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG4gICAgZGVsZXRlIHByb3BzLm5hbWU7XG4gICAgZGVsZXRlIHByb3BzLmFwcGVhcjtcbiAgICBkZWxldGUgcHJvcHMuZW50ZXI7XG4gICAgZGVsZXRlIHByb3BzLmxlYXZlO1xuICAgIGRlbGV0ZSBwcm9wcy5hcHBlYXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5lbnRlclRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmxlYXZlVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMuY2hpbGRyZW47XG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbiksIHByb3BzKTtcbiAgfTtcblxuICByZXR1cm4gQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQ7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5kaXNwbGF5TmFtZSA9ICdDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCc7XG5cblxuQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gcHJvcFR5cGVzIDoge307XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENTU1RyYW5zaXRpb25Hcm91cENoaWxkO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cENoaWxkLmpzXG4vLyBtb2R1bGUgaWQgPSA2MTExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9pbkRPTSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vaW5ET01cIikpO1xuXG52YXIgdmVuZG9ycyA9IFsnJywgJ3dlYmtpdCcsICdtb3onLCAnbycsICdtcyddO1xudmFyIGNhbmNlbCA9ICdjbGVhclRpbWVvdXQnO1xudmFyIHJhZiA9IGZhbGxiYWNrO1xudmFyIGNvbXBhdFJhZjtcblxudmFyIGdldEtleSA9IGZ1bmN0aW9uIGdldEtleSh2ZW5kb3IsIGspIHtcbiAgcmV0dXJuIHZlbmRvciArICghdmVuZG9yID8gayA6IGtbMF0udG9VcHBlckNhc2UoKSArIGsuc3Vic3RyKDEpKSArICdBbmltYXRpb25GcmFtZSc7XG59O1xuXG5pZiAoX2luRE9NLmRlZmF1bHQpIHtcbiAgdmVuZG9ycy5zb21lKGZ1bmN0aW9uICh2ZW5kb3IpIHtcbiAgICB2YXIgcmFmS2V5ID0gZ2V0S2V5KHZlbmRvciwgJ3JlcXVlc3QnKTtcblxuICAgIGlmIChyYWZLZXkgaW4gd2luZG93KSB7XG4gICAgICBjYW5jZWwgPSBnZXRLZXkodmVuZG9yLCAnY2FuY2VsJyk7XG4gICAgICByZXR1cm4gcmFmID0gZnVuY3Rpb24gcmFmKGNiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3dbcmFmS2V5XShjYik7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG4vKiBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L3JhZiAqL1xuXG5cbnZhciBwcmV2ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbmZ1bmN0aW9uIGZhbGxiYWNrKGZuKSB7XG4gIHZhciBjdXJyID0gbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICBtcyA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnIgLSBwcmV2KSksXG4gICAgICByZXEgPSBzZXRUaW1lb3V0KGZuLCBtcyk7XG4gIHByZXYgPSBjdXJyO1xuICByZXR1cm4gcmVxO1xufVxuXG5jb21wYXRSYWYgPSBmdW5jdGlvbiBjb21wYXRSYWYoY2IpIHtcbiAgcmV0dXJuIHJhZihjYik7XG59O1xuXG5jb21wYXRSYWYuY2FuY2VsID0gZnVuY3Rpb24gKGlkKSB7XG4gIHdpbmRvd1tjYW5jZWxdICYmIHR5cGVvZiB3aW5kb3dbY2FuY2VsXSA9PT0gJ2Z1bmN0aW9uJyAmJiB3aW5kb3dbY2FuY2VsXShpZCk7XG59O1xuXG52YXIgX2RlZmF1bHQgPSBjb21wYXRSYWY7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdXRpbC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuanNcbi8vIG1vZHVsZSBpZCA9IDYxMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCBMaXN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0xpc3QnO1xyXG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTGlzdEl0ZW0nO1xyXG5pbXBvcnQgTGlzdEl0ZW1UZXh0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0xpc3RJdGVtVGV4dCc7XHJcbmltcG9ydCBEaWFsb2dUaXRsZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dUaXRsZSc7XHJcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nJztcclxuaW1wb3J0IHsgQUNUSU9OX1RZUEVTLCBlbXB0eUZ1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgICBkaWFsb2dQYXBlcjoge1xyXG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCB3aGl0ZScsXHJcbiAgICAgICAgd2lkdGg6ICcxOS41M3Z3J1xyXG4gICAgfSxcclxuICAgIGRpYWxvZzoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBjcmVhdGVOZXdBY3Rpb25EaWFsb2dIZWFkZXI6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgJyAhaW1wb3J0YW50JyxcclxuICAgICAgICBmb250U2l6ZTogJzEuMjQ0NDRyZW0nXHJcbiAgICB9LFxyXG4gICAgY3JlYXRlTmV3QWN0aW9uRGlhbG9nT3B0aW9uczoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyAnICFpbXBvcnRhbnQnLFxyXG4gICAgICAgIGZvbnRTaXplOiAnMC45Nzc3cmVtJyxcclxuICAgICAgICBwb2ludGVyOiAnY3Vyc29yJ1xyXG4gICAgfSxcclxufSk7XHJcblxyXG5jb25zdCBwcm9wVHlwZXMgPSB7XHJcbiAgICBvcGVuOiBQcm9wVHlwZXMuYm9vbCxcclxuICAgIG9uQ2xvc2U6IFByb3BUeXBlcy5mdW5jLFxyXG4gICAgb25BY3Rpb25JdGVtQ2xpY2s6IFByb3BUeXBlcy5mdW5jXHJcbn07XHJcblxyXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBvcGVuOiBmYWxzZSxcclxuICAgIG9uQ2xvc2U6IGVtcHR5RnVuY3Rpb24sXHJcbiAgICBvbkFjdGlvbkl0ZW1DbGljazogZW1wdHlGdW5jdGlvblxyXG59XHJcblxyXG5jbGFzcyBBY3Rpb25DcmVhdG9yRGlhbG9nIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcclxuICAgICAgICBpZiAobmV4dFByb3BzLm9wZW4gIT09IHRoaXMucHJvcHMub3Blbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHtvcGVuLCBjbGFzc2VzLCBvbkNsb3NlfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9e29uQ2xvc2V9XHJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9J25ldy1hY3Rpb24tZGlhbG9nLXRpdGxlJ1xyXG4gICAgICAgICAgICAgICAgb3Blbj17b3Blbn1cclxuICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgcGFwZXJTY3JvbGxQYXBlcjogY2xhc3Nlcy5kaWFsb2dQYXBlciB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGVcclxuICAgICAgICAgICAgICAgICAgICBpZD0nbmV3LWFjdGlvbi1kaWFsb2ctdGl0bGUnXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmRpYWxvZ30+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY3JlYXRlTmV3QWN0aW9uRGlhbG9nSGVhZGVyfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlIE5ldyBBY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxMaXN0IGNsYXNzTmFtZT17Y2xhc3Nlcy5jcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoQUNUSU9OX1RZUEVTKS5tYXAoYWN0aW9uVHlwZUtleSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpc3RJdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMucHJvcHMub25BY3Rpb25JdGVtQ2xpY2soQUNUSU9OX1RZUEVTW2FjdGlvblR5cGVLZXldKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXthY3Rpb25UeXBlS2V5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpc3RJdGVtVGV4dD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNyZWF0ZU5ld0FjdGlvbkRpYWxvZ09wdGlvbnN9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgQ3JlYXRlICR7QUNUSU9OX1RZUEVTW2FjdGlvblR5cGVLZXldfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaXN0SXRlbVRleHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaXN0SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L0xpc3Q+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9EaWFsb2c+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuLy9yZW1vdmUgcHJvcFR5cGVzIGluIHByb2R1Y3Rpb25cclxuQWN0aW9uQ3JlYXRvckRpYWxvZy5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XHJcbkFjdGlvbkNyZWF0b3JEaWFsb2cuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHdpdGhTdHlsZXMoc3R5bGVzLCB7d2l0aFRoZW1lOiB0cnVlfSkpKEFjdGlvbkNyZWF0b3JEaWFsb2cpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0FjdGlvbkNyZWF0b3JEaWFsb2cuanMiLCIvKipcclxuICogQGF1dGhvciBCYWxyYWogU2luZ2ggPGJhbHJhanNpbmdoLnNAaGlnaHJhZGl1cy5jb20+XHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBHcm93IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyb3cnO1xyXG5pbXBvcnQgeyBUeXBvZ3JhcGh5IH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgSGlnaGxpZ2h0ZXIgZnJvbSAncmVhY3QtaGlnaGxpZ2h0LXdvcmRzJztcclxuaW1wb3J0IHsgSElHSExJR0hURVJfUkVHRVggfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBjYWxsYmFja2lmeSB9IGZyb20gJ3V0aWwnO1xyXG5pbXBvcnQgR2lmUGxheWVyIGZyb20gJ3JlYWN0LWdpZi1wbGF5ZXInO1xyXG5pbXBvcnQgUmlwcGxlR2lmIGZyb20gJy4uL2Fzc2V0cy9SaXBwbGUuZ2lmJztcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcblxyXG4gICAgY2hhdEJ1YmJsZToge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiZmxleC1zdGFydFwiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiNHB4XCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgICAgIG1pbldpZHRoOiBcImNhbGMoMTAwJSAtIDJyZW0pXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiY2FsYygxMDAlIC0gMnJlbSlcIixcclxuICAgICAgICBtaW5IZWlnaHQ6IFwiMXJlbVwiLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCI0cHhcIixcclxuICAgIH0sXHJcbiAgICByaWdodEJ1YmJsZToge1xyXG4gICAgICAgIG9wYWNpdHk6IFwiMC42NSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgYWxpZ25TZWxmOiBcImZsZXgtZW5kXCIsXHJcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3ctcmV2ZXJzZVwiLFxyXG4gICAgfSxcclxuICAgIG1lc3NhZ2U6IHtcclxuICAgICAgICBmb250U2l6ZTogXCIxcmVtXCIsXHJcbiAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxyXG4gICAgfSxcclxuICAgIGhpZ2hsaWdodE1lc3NhZ2U6IHtcclxuICAgICAgICBjb2xvcjogXCIjZmZmXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoOTMsIDE3MCwgMjI0LCAwLjMpXCIsXHJcbiAgICB9LFxyXG4gICAgY2lyY2xlZFRleHQ6IHtcclxuICAgICAgICBtaW5XaWR0aDogXCIycmVtXCIsXHJcbiAgICAgICAgbWluSGVpZ2h0OiBcIjJyZW1cIixcclxuICAgICAgICBtYXhIZWlnaHQ6IFwiMnJlbVwiLFxyXG4gICAgICAgIG1heFdpZHRoOiBcIjJyZW1cIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxyXG4gICAgICAgIGxpbmVIZWlnaHQ6IFwiMnJlbVwiLFxyXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM1REFBRTBcIixcclxuICAgIH0sXHJcbiAgICBnaWZBbmltYXRvcjoge1xyXG5cclxuICAgIH0sXHJcbiAgICBkZXRlY3Rvcjoge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcclxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICM1REFBRTBcIixcclxuICAgIH0sXHJcbiAgICBoaWdobGlnaHRlckZvckxlZnQ6IHtcclxuICAgICAgICBhbGlnblNlbGY6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgbWFyZ2luTGVmdDogXCIxMHB4XCIsXHJcbiAgICB9LFxyXG4gICAgaGlnaGxpZ2h0ZXJGb3JSaWdodDoge1xyXG4gICAgICAgIHRleHRBbGlnbjogXCJyaWdodFwiLFxyXG4gICAgICAgIGFsaWduU2VsZjogXCJjZW50ZXJcIixcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIxMHB4XCIsXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY2xhc3MgQ2hhdEJveCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XHJcbiAgICAgICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICAgICAgIGlzQ29sbGVjdG9yOiBQcm9wVHlwZXMuYm9vbCxcclxuICAgICAgICBtZXNzYWdlOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIGlzRGV0ZWN0aW5nOiBQcm9wVHlwZXMuYm9vbCxcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcclxuICAgICAgICBpc0NvbGxlY3RvcjogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogXCJcIixcclxuICAgICAgICBpc0RldGVjdGluZzogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGlzQ29sbGVjdG9yLCBtZXNzYWdlLCBjbGFzc2VzLCBpc0RldGVjdGluZyB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgLy9jb21tZW50IDxHcm93PiBhbmQgPC9Hcm93PiBmb2xsb3dpbmcgZm9yIHJ1bm5pbmcgdGVzdHMgc3VpdGVcclxuICAgICAgICAgICAgLy9jYW5ub3Qgc2V0IHRyYW5zaXRpb25zIGluIG5vZGUgZW52XHJcbiAgICAgICAgICAgIDxHcm93IGluPXt0cnVlfT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNoYXRCdWJibGUgKyBcIiBcIiArIChpc0NvbGxlY3RvciA/IGNsYXNzZXMucmlnaHRCdWJibGUgOiBcIlwiKX0+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNEZXRlY3RpbmcgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaXJjbGVkVGV4dCArIFwiIFwiICsgKGlzRGV0ZWN0aW5nID8gY2xhc3Nlcy5kZXRlY3RvciA6IFwiXCIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbml0aWFsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGV0ZWN0aW5nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogXCIyLjVyZW1cIiwgd2lkdGg6IFwiMi41cmVtXCIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNyYz17XCIvdG92by9zdGF0aWMvUmlwcGxlLmdpZlwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtSaXBwbGVHaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJEZXRlY3RpbmcgU3BlYWtlcnMgQW5pbWF0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPEhpZ2hsaWdodGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17aXNDb2xsZWN0b3IgPyBjbGFzc2VzLmhpZ2hsaWdodGVyRm9yUmlnaHQgOiBjbGFzc2VzLmhpZ2hsaWdodGVyRm9yTGVmdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5oaWdobGlnaHRDbGFzc05hbWU9e2NsYXNzZXMubWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lPXtjbGFzc2VzLmhpZ2hsaWdodE1lc3NhZ2UgKyBcIiBcIiArIGNsYXNzZXMubWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoV29yZHM9e0hJR0hMSUdIVEVSX1JFR0VYfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0VG9IaWdobGlnaHQ9e21lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L0dyb3c+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KSkoQ2hhdEJveCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvQ2hhdEJveC5qcyIsIm1vZHVsZS5leHBvcnRzID1cbi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX0hpZ2hsaWdodGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfSGlnaGxpZ2h0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSGlnaGxpZ2h0ZXIpO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IF9IaWdobGlnaHRlcjJbJ2RlZmF1bHQnXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gSGlnaGxpZ2h0ZXI7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX2hpZ2hsaWdodFdvcmRzQ29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX21lbW9pemVPbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfbWVtb2l6ZU9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZW1vaXplT25lKTtcblx0XG5cdEhpZ2hsaWdodGVyLnByb3BUeXBlcyA9IHtcblx0ICBhY3RpdmVDbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXHQgIGFjdGl2ZUluZGV4OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm51bWJlcixcblx0ICBhY3RpdmVTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3QsXG5cdCAgYXV0b0VzY2FwZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuXHQgIGNsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG5cdCAgZmluZENodW5rczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXHQgIGhpZ2hsaWdodENsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0LCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZ10pLFxuXHQgIGhpZ2hsaWdodFN0eWxlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdCxcblx0ICBoaWdobGlnaHRUYWc6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYywgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmddKSxcblx0ICBzYW5pdGl6ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXHQgIHNlYXJjaFdvcmRzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmFycmF5T2YoX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmluc3RhbmNlT2YoUmVnRXhwKV0pKS5pc1JlcXVpcmVkLFxuXHQgIHRleHRUb0hpZ2hsaWdodDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcuaXNSZXF1aXJlZCxcblx0ICB1bmhpZ2hsaWdodENsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG5cdCAgdW5oaWdobGlnaHRTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3Rcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBIaWdobGlnaHRzIGFsbCBvY2N1cnJlbmNlcyBvZiBzZWFyY2ggdGVybXMgKHNlYXJjaFRleHQpIHdpdGhpbiBhIHN0cmluZyAodGV4dFRvSGlnaGxpZ2h0KS5cblx0ICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGFuIGFycmF5IG9mIHN0cmluZ3MgYW5kIDxzcGFuPnMgKHdyYXBwaW5nIGhpZ2hsaWdodGVkIHdvcmRzKS5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBIaWdobGlnaHRlcihfcmVmKSB7XG5cdCAgdmFyIF9yZWYkYWN0aXZlQ2xhc3NOYW1lID0gX3JlZi5hY3RpdmVDbGFzc05hbWU7XG5cdCAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IF9yZWYkYWN0aXZlQ2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkYWN0aXZlQ2xhc3NOYW1lO1xuXHQgIHZhciBfcmVmJGFjdGl2ZUluZGV4ID0gX3JlZi5hY3RpdmVJbmRleDtcblx0ICB2YXIgYWN0aXZlSW5kZXggPSBfcmVmJGFjdGl2ZUluZGV4ID09PSB1bmRlZmluZWQgPyAtMSA6IF9yZWYkYWN0aXZlSW5kZXg7XG5cdCAgdmFyIGFjdGl2ZVN0eWxlID0gX3JlZi5hY3RpdmVTdHlsZTtcblx0ICB2YXIgYXV0b0VzY2FwZSA9IF9yZWYuYXV0b0VzY2FwZTtcblx0ICB2YXIgX3JlZiRjYXNlU2Vuc2l0aXZlID0gX3JlZi5jYXNlU2Vuc2l0aXZlO1xuXHQgIHZhciBjYXNlU2Vuc2l0aXZlID0gX3JlZiRjYXNlU2Vuc2l0aXZlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkY2FzZVNlbnNpdGl2ZTtcblx0ICB2YXIgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWU7XG5cdCAgdmFyIGZpbmRDaHVua3MgPSBfcmVmLmZpbmRDaHVua3M7XG5cdCAgdmFyIF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZi5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIGhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciBfcmVmJGhpZ2hsaWdodFN0eWxlID0gX3JlZi5oaWdobGlnaHRTdHlsZTtcblx0ICB2YXIgaGlnaGxpZ2h0U3R5bGUgPSBfcmVmJGhpZ2hsaWdodFN0eWxlID09PSB1bmRlZmluZWQgPyB7fSA6IF9yZWYkaGlnaGxpZ2h0U3R5bGU7XG5cdCAgdmFyIF9yZWYkaGlnaGxpZ2h0VGFnID0gX3JlZi5oaWdobGlnaHRUYWc7XG5cdCAgdmFyIGhpZ2hsaWdodFRhZyA9IF9yZWYkaGlnaGxpZ2h0VGFnID09PSB1bmRlZmluZWQgPyAnbWFyaycgOiBfcmVmJGhpZ2hsaWdodFRhZztcblx0ICB2YXIgc2FuaXRpemUgPSBfcmVmLnNhbml0aXplO1xuXHQgIHZhciBzZWFyY2hXb3JkcyA9IF9yZWYuc2VhcmNoV29yZHM7XG5cdCAgdmFyIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYudGV4dFRvSGlnaGxpZ2h0O1xuXHQgIHZhciBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZi51bmhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICB2YXIgdW5oaWdobGlnaHRDbGFzc05hbWUgPSBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkdW5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIHVuaGlnaGxpZ2h0U3R5bGUgPSBfcmVmLnVuaGlnaGxpZ2h0U3R5bGU7XG5cdFxuXHQgIHZhciBjaHVua3MgPSAoMCwgX2hpZ2hsaWdodFdvcmRzQ29yZS5maW5kQWxsKSh7XG5cdCAgICBhdXRvRXNjYXBlOiBhdXRvRXNjYXBlLFxuXHQgICAgY2FzZVNlbnNpdGl2ZTogY2FzZVNlbnNpdGl2ZSxcblx0ICAgIGZpbmRDaHVua3M6IGZpbmRDaHVua3MsXG5cdCAgICBzYW5pdGl6ZTogc2FuaXRpemUsXG5cdCAgICBzZWFyY2hXb3Jkczogc2VhcmNoV29yZHMsXG5cdCAgICB0ZXh0VG9IaWdobGlnaHQ6IHRleHRUb0hpZ2hsaWdodFxuXHQgIH0pO1xuXHQgIHZhciBIaWdobGlnaHRUYWcgPSBoaWdobGlnaHRUYWc7XG5cdCAgdmFyIGhpZ2hsaWdodENvdW50ID0gLTE7XG5cdCAgdmFyIGhpZ2hsaWdodENsYXNzTmFtZXMgPSAnJztcblx0ICB2YXIgaGlnaGxpZ2h0U3R5bGVzID0gdW5kZWZpbmVkO1xuXHRcblx0ICB2YXIgbG93ZXJjYXNlUHJvcHMgPSBmdW5jdGlvbiBsb3dlcmNhc2VQcm9wcyhvYmplY3QpIHtcblx0ICAgIHZhciBtYXBwZWQgPSB7fTtcblx0ICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcblx0ICAgICAgbWFwcGVkW2tleS50b0xvd2VyQ2FzZSgpXSA9IG9iamVjdFtrZXldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG1hcHBlZDtcblx0ICB9O1xuXHQgIHZhciBtZW1vaXplZExvd2VyY2FzZVByb3BzID0gKDAsIF9tZW1vaXplT25lMlsnZGVmYXVsdCddKShsb3dlcmNhc2VQcm9wcyk7XG5cdFxuXHQgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICdzcGFuJyxcblx0ICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcblx0ICAgIGNodW5rcy5tYXAoZnVuY3Rpb24gKGNodW5rLCBpbmRleCkge1xuXHQgICAgICB2YXIgdGV4dCA9IHRleHRUb0hpZ2hsaWdodC5zdWJzdHIoY2h1bmsuc3RhcnQsIGNodW5rLmVuZCAtIGNodW5rLnN0YXJ0KTtcblx0XG5cdCAgICAgIGlmIChjaHVuay5oaWdobGlnaHQpIHtcblx0ICAgICAgICBoaWdobGlnaHRDb3VudCsrO1xuXHRcblx0ICAgICAgICB2YXIgaGlnaGxpZ2h0Q2xhc3MgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBoaWdobGlnaHRDbGFzc05hbWUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICBpZiAoIWNhc2VTZW5zaXRpdmUpIHtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lID0gbWVtb2l6ZWRMb3dlcmNhc2VQcm9wcyhoaWdobGlnaHRDbGFzc05hbWUpO1xuXHQgICAgICAgICAgICBoaWdobGlnaHRDbGFzcyA9IGhpZ2hsaWdodENsYXNzTmFtZVt0ZXh0LnRvTG93ZXJDYXNlKCldO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3MgPSBoaWdobGlnaHRDbGFzc05hbWVbdGV4dF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGhpZ2hsaWdodENsYXNzID0gaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGlzQWN0aXZlID0gaGlnaGxpZ2h0Q291bnQgPT09ICthY3RpdmVJbmRleDtcblx0XG5cdCAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lcyA9IGhpZ2hsaWdodENsYXNzICsgJyAnICsgKGlzQWN0aXZlID8gYWN0aXZlQ2xhc3NOYW1lIDogJycpO1xuXHQgICAgICAgIGhpZ2hsaWdodFN0eWxlcyA9IGlzQWN0aXZlID09PSB0cnVlICYmIGFjdGl2ZVN0eWxlICE9IG51bGwgPyBPYmplY3QuYXNzaWduKHt9LCBoaWdobGlnaHRTdHlsZSwgYWN0aXZlU3R5bGUpIDogaGlnaGxpZ2h0U3R5bGU7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIEhpZ2hsaWdodFRhZyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBoaWdobGlnaHRDbGFzc05hbWVzLFxuXHQgICAgICAgICAgICBrZXk6IGluZGV4LFxuXHQgICAgICAgICAgICBzdHlsZTogaGlnaGxpZ2h0U3R5bGVzXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdGV4dFxuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHVuaGlnaGxpZ2h0Q2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBrZXk6IGluZGV4LFxuXHQgICAgICAgICAgICBzdHlsZTogdW5oaWdobGlnaHRTdHlsZVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHRleHRcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgICk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9XG5cdC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcblx0LyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG5cdC8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuXHQvKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHQvKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG5cdC8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0LyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcblx0LyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG5cdC8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcblx0LyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuXHQvKioqKioqLyBcdFx0fTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHQvKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdC8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdC8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG5cdC8qKioqKiovIFx0fVxuXHQvKioqKioqL1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5cdC8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuXHQvKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cblx0LyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuXHQvKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXHQvKioqKioqLyB9KVxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXHQvKioqKioqLyAoW1xuXHQvKiAwICovXG5cdC8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblx0XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0XG5cdC8qKiovIH0pLFxuXHQvKiAxICovXG5cdC8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblx0XG5cdFx0J3VzZSBzdHJpY3QnO1xuXHRcdFxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdCAgdmFsdWU6IHRydWVcblx0XHR9KTtcblx0XHRcblx0XHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NvbWJpbmVDaHVua3MnLCB7XG5cdFx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFx0ICAgIHJldHVybiBfdXRpbHMuY29tYmluZUNodW5rcztcblx0XHQgIH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2ZpbGxJbkNodW5rcycsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5maWxsSW5DaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaW5kQWxsJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmZpbmRBbGw7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaW5kQ2h1bmtzJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmZpbmRDaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFxuXHQvKioqLyB9KSxcblx0LyogMiAqL1xuXHQvKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cdFxuXHRcdCd1c2Ugc3RyaWN0Jztcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHQgIHZhbHVlOiB0cnVlXG5cdFx0fSk7XG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBhbiBhcnJheSBvZiBjaHVuayBvYmplY3RzIHJlcHJlc2VudGluZyBib3RoIGhpZ2xpZ2h0YWJsZSBhbmQgbm9uIGhpZ2hsaWdodGFibGUgcGllY2VzIG9mIHRleHQgdGhhdCBtYXRjaCBlYWNoIHNlYXJjaCB3b3JkLlxuXHRcdCAqIEByZXR1cm4gQXJyYXkgb2YgXCJjaHVua3NcIiAod2hlcmUgYSBDaHVuayBpcyB7IHN0YXJ0Om51bWJlciwgZW5kOm51bWJlciwgaGlnaGxpZ2h0OmJvb2xlYW4gfSlcblx0XHQgKi9cblx0XHR2YXIgZmluZEFsbCA9IGV4cG9ydHMuZmluZEFsbCA9IGZ1bmN0aW9uIGZpbmRBbGwoX3JlZikge1xuXHRcdCAgdmFyIGF1dG9Fc2NhcGUgPSBfcmVmLmF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgX3JlZiRjYXNlU2Vuc2l0aXZlID0gX3JlZi5jYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIGNhc2VTZW5zaXRpdmUgPSBfcmVmJGNhc2VTZW5zaXRpdmUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRjYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIF9yZWYkZmluZENodW5rcyA9IF9yZWYuZmluZENodW5rcyxcblx0XHQgICAgICBmaW5kQ2h1bmtzID0gX3JlZiRmaW5kQ2h1bmtzID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RmluZENodW5rcyA6IF9yZWYkZmluZENodW5rcyxcblx0XHQgICAgICBzYW5pdGl6ZSA9IF9yZWYuc2FuaXRpemUsXG5cdFx0ICAgICAgc2VhcmNoV29yZHMgPSBfcmVmLnNlYXJjaFdvcmRzLFxuXHRcdCAgICAgIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYudGV4dFRvSGlnaGxpZ2h0O1xuXHRcdCAgcmV0dXJuIGZpbGxJbkNodW5rcyh7XG5cdFx0ICAgIGNodW5rc1RvSGlnaGxpZ2h0OiBjb21iaW5lQ2h1bmtzKHtcblx0XHQgICAgICBjaHVua3M6IGZpbmRDaHVua3Moe1xuXHRcdCAgICAgICAgYXV0b0VzY2FwZTogYXV0b0VzY2FwZSxcblx0XHQgICAgICAgIGNhc2VTZW5zaXRpdmU6IGNhc2VTZW5zaXRpdmUsXG5cdFx0ICAgICAgICBzYW5pdGl6ZTogc2FuaXRpemUsXG5cdFx0ICAgICAgICBzZWFyY2hXb3Jkczogc2VhcmNoV29yZHMsXG5cdFx0ICAgICAgICB0ZXh0VG9IaWdobGlnaHQ6IHRleHRUb0hpZ2hsaWdodFxuXHRcdCAgICAgIH0pXG5cdFx0ICAgIH0pLFxuXHRcdCAgICB0b3RhbExlbmd0aDogdGV4dFRvSGlnaGxpZ2h0ID8gdGV4dFRvSGlnaGxpZ2h0Lmxlbmd0aCA6IDBcblx0XHQgIH0pO1xuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogVGFrZXMgYW4gYXJyYXkgb2Yge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn0gb2JqZWN0cyBhbmQgY29tYmluZXMgY2h1bmtzIHRoYXQgb3ZlcmxhcCBpbnRvIHNpbmdsZSBjaHVua3MuXG5cdFx0ICogQHJldHVybiB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyfVtdXG5cdFx0ICovXG5cdFx0dmFyIGNvbWJpbmVDaHVua3MgPSBleHBvcnRzLmNvbWJpbmVDaHVua3MgPSBmdW5jdGlvbiBjb21iaW5lQ2h1bmtzKF9yZWYyKSB7XG5cdFx0ICB2YXIgY2h1bmtzID0gX3JlZjIuY2h1bmtzO1xuXHRcdFxuXHRcdCAgY2h1bmtzID0gY2h1bmtzLnNvcnQoZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHtcblx0XHQgICAgcmV0dXJuIGZpcnN0LnN0YXJ0IC0gc2Vjb25kLnN0YXJ0O1xuXHRcdCAgfSkucmVkdWNlKGZ1bmN0aW9uIChwcm9jZXNzZWRDaHVua3MsIG5leHRDaHVuaykge1xuXHRcdCAgICAvLyBGaXJzdCBjaHVuayBqdXN0IGdvZXMgc3RyYWlnaHQgaW4gdGhlIGFycmF5Li4uXG5cdFx0ICAgIGlmIChwcm9jZXNzZWRDaHVua3MubGVuZ3RoID09PSAwKSB7XG5cdFx0ICAgICAgcmV0dXJuIFtuZXh0Q2h1bmtdO1xuXHRcdCAgICB9IGVsc2Uge1xuXHRcdCAgICAgIC8vIC4uLiBzdWJzZXF1ZW50IGNodW5rcyBnZXQgY2hlY2tlZCB0byBzZWUgaWYgdGhleSBvdmVybGFwLi4uXG5cdFx0ICAgICAgdmFyIHByZXZDaHVuayA9IHByb2Nlc3NlZENodW5rcy5wb3AoKTtcblx0XHQgICAgICBpZiAobmV4dENodW5rLnN0YXJ0IDw9IHByZXZDaHVuay5lbmQpIHtcblx0XHQgICAgICAgIC8vIEl0IG1heSBiZSB0aGUgY2FzZSB0aGF0IHByZXZDaHVuayBjb21wbGV0ZWx5IHN1cnJvdW5kcyBuZXh0Q2h1bmssIHNvIHRha2UgdGhlXG5cdFx0ICAgICAgICAvLyBsYXJnZXN0IG9mIHRoZSBlbmQgaW5kZWNlcy5cblx0XHQgICAgICAgIHZhciBlbmRJbmRleCA9IE1hdGgubWF4KHByZXZDaHVuay5lbmQsIG5leHRDaHVuay5lbmQpO1xuXHRcdCAgICAgICAgcHJvY2Vzc2VkQ2h1bmtzLnB1c2goeyBzdGFydDogcHJldkNodW5rLnN0YXJ0LCBlbmQ6IGVuZEluZGV4IH0pO1xuXHRcdCAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICBwcm9jZXNzZWRDaHVua3MucHVzaChwcmV2Q2h1bmssIG5leHRDaHVuayk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICAgIHJldHVybiBwcm9jZXNzZWRDaHVua3M7XG5cdFx0ICAgIH1cblx0XHQgIH0sIFtdKTtcblx0XHRcblx0XHQgIHJldHVybiBjaHVua3M7XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBFeGFtaW5lIHRleHQgZm9yIGFueSBtYXRjaGVzLlxuXHRcdCAqIElmIHdlIGZpbmQgbWF0Y2hlcywgYWRkIHRoZW0gdG8gdGhlIHJldHVybmVkIGFycmF5IGFzIGEgXCJjaHVua1wiIG9iamVjdCAoe3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn0pLlxuXHRcdCAqIEByZXR1cm4ge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqL1xuXHRcdHZhciBkZWZhdWx0RmluZENodW5rcyA9IGZ1bmN0aW9uIGRlZmF1bHRGaW5kQ2h1bmtzKF9yZWYzKSB7XG5cdFx0ICB2YXIgYXV0b0VzY2FwZSA9IF9yZWYzLmF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgY2FzZVNlbnNpdGl2ZSA9IF9yZWYzLmNhc2VTZW5zaXRpdmUsXG5cdFx0ICAgICAgX3JlZjMkc2FuaXRpemUgPSBfcmVmMy5zYW5pdGl6ZSxcblx0XHQgICAgICBzYW5pdGl6ZSA9IF9yZWYzJHNhbml0aXplID09PSB1bmRlZmluZWQgPyBpZGVudGl0eSA6IF9yZWYzJHNhbml0aXplLFxuXHRcdCAgICAgIHNlYXJjaFdvcmRzID0gX3JlZjMuc2VhcmNoV29yZHMsXG5cdFx0ICAgICAgdGV4dFRvSGlnaGxpZ2h0ID0gX3JlZjMudGV4dFRvSGlnaGxpZ2h0O1xuXHRcdFxuXHRcdCAgdGV4dFRvSGlnaGxpZ2h0ID0gc2FuaXRpemUodGV4dFRvSGlnaGxpZ2h0KTtcblx0XHRcblx0XHQgIHJldHVybiBzZWFyY2hXb3Jkcy5maWx0ZXIoZnVuY3Rpb24gKHNlYXJjaFdvcmQpIHtcblx0XHQgICAgcmV0dXJuIHNlYXJjaFdvcmQ7XG5cdFx0ICB9KSAvLyBSZW1vdmUgZW1wdHkgd29yZHNcblx0XHQgIC5yZWR1Y2UoZnVuY3Rpb24gKGNodW5rcywgc2VhcmNoV29yZCkge1xuXHRcdCAgICBzZWFyY2hXb3JkID0gc2FuaXRpemUoc2VhcmNoV29yZCk7XG5cdFx0XG5cdFx0ICAgIGlmIChhdXRvRXNjYXBlKSB7XG5cdFx0ICAgICAgc2VhcmNoV29yZCA9IGVzY2FwZVJlZ0V4cEZuKHNlYXJjaFdvcmQpO1xuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoc2VhcmNoV29yZCwgY2FzZVNlbnNpdGl2ZSA/ICdnJyA6ICdnaScpO1xuXHRcdFxuXHRcdCAgICB2YXIgbWF0Y2ggPSB2b2lkIDA7XG5cdFx0ICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dFRvSGlnaGxpZ2h0KSkge1xuXHRcdCAgICAgIHZhciBzdGFydCA9IG1hdGNoLmluZGV4O1xuXHRcdCAgICAgIHZhciBlbmQgPSByZWdleC5sYXN0SW5kZXg7XG5cdFx0ICAgICAgLy8gV2UgZG8gbm90IHJldHVybiB6ZXJvLWxlbmd0aCBtYXRjaGVzXG5cdFx0ICAgICAgaWYgKGVuZCA+IHN0YXJ0KSB7XG5cdFx0ICAgICAgICBjaHVua3MucHVzaCh7IHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQgfSk7XG5cdFx0ICAgICAgfVxuXHRcdFxuXHRcdCAgICAgIC8vIFByZXZlbnQgYnJvd3NlcnMgbGlrZSBGaXJlZm94IGZyb20gZ2V0dGluZyBzdHVjayBpbiBhbiBpbmZpbml0ZSBsb29wXG5cdFx0ICAgICAgLy8gU2VlIGh0dHA6Ly93d3cucmVnZXhndXJ1LmNvbS8yMDA4LzA0L3dhdGNoLW91dC1mb3ItemVyby1sZW5ndGgtbWF0Y2hlcy9cblx0XHQgICAgICBpZiAobWF0Y2guaW5kZXggPT0gcmVnZXgubGFzdEluZGV4KSB7XG5cdFx0ICAgICAgICByZWdleC5sYXN0SW5kZXgrKztcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgcmV0dXJuIGNodW5rcztcblx0XHQgIH0sIFtdKTtcblx0XHR9O1xuXHRcdC8vIEFsbG93IHRoZSBmaW5kQ2h1bmtzIHRvIGJlIG92ZXJyaWRkZW4gaW4gZmluZEFsbCxcblx0XHQvLyBidXQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdlIGV4cG9ydCBhcyB0aGUgb2xkIG5hbWVcblx0XHRleHBvcnRzLmZpbmRDaHVua3MgPSBkZWZhdWx0RmluZENodW5rcztcblx0XHRcblx0XHQvKipcblx0XHQgKiBHaXZlbiBhIHNldCBvZiBjaHVua3MgdG8gaGlnaGxpZ2h0LCBjcmVhdGUgYW4gYWRkaXRpb25hbCBzZXQgb2YgY2h1bmtzXG5cdFx0ICogdG8gcmVwcmVzZW50IHRoZSBiaXRzIG9mIHRleHQgYmV0d2VlbiB0aGUgaGlnaGxpZ2h0ZWQgdGV4dC5cblx0XHQgKiBAcGFyYW0gY2h1bmtzVG9IaWdobGlnaHQge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqIEBwYXJhbSB0b3RhbExlbmd0aCBudW1iZXJcblx0XHQgKiBAcmV0dXJuIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXIsIGhpZ2hsaWdodDpib29sZWFufVtdXG5cdFx0ICovXG5cdFx0XG5cdFx0dmFyIGZpbGxJbkNodW5rcyA9IGV4cG9ydHMuZmlsbEluQ2h1bmtzID0gZnVuY3Rpb24gZmlsbEluQ2h1bmtzKF9yZWY0KSB7XG5cdFx0ICB2YXIgY2h1bmtzVG9IaWdobGlnaHQgPSBfcmVmNC5jaHVua3NUb0hpZ2hsaWdodCxcblx0XHQgICAgICB0b3RhbExlbmd0aCA9IF9yZWY0LnRvdGFsTGVuZ3RoO1xuXHRcdFxuXHRcdCAgdmFyIGFsbENodW5rcyA9IFtdO1xuXHRcdCAgdmFyIGFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChzdGFydCwgZW5kLCBoaWdobGlnaHQpIHtcblx0XHQgICAgaWYgKGVuZCAtIHN0YXJ0ID4gMCkge1xuXHRcdCAgICAgIGFsbENodW5rcy5wdXNoKHtcblx0XHQgICAgICAgIHN0YXJ0OiBzdGFydCxcblx0XHQgICAgICAgIGVuZDogZW5kLFxuXHRcdCAgICAgICAgaGlnaGxpZ2h0OiBoaWdobGlnaHRcblx0XHQgICAgICB9KTtcblx0XHQgICAgfVxuXHRcdCAgfTtcblx0XHRcblx0XHQgIGlmIChjaHVua3NUb0hpZ2hsaWdodC5sZW5ndGggPT09IDApIHtcblx0XHQgICAgYXBwZW5kKDAsIHRvdGFsTGVuZ3RoLCBmYWxzZSk7XG5cdFx0ICB9IGVsc2Uge1xuXHRcdCAgICB2YXIgbGFzdEluZGV4ID0gMDtcblx0XHQgICAgY2h1bmtzVG9IaWdobGlnaHQuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmspIHtcblx0XHQgICAgICBhcHBlbmQobGFzdEluZGV4LCBjaHVuay5zdGFydCwgZmFsc2UpO1xuXHRcdCAgICAgIGFwcGVuZChjaHVuay5zdGFydCwgY2h1bmsuZW5kLCB0cnVlKTtcblx0XHQgICAgICBsYXN0SW5kZXggPSBjaHVuay5lbmQ7XG5cdFx0ICAgIH0pO1xuXHRcdCAgICBhcHBlbmQobGFzdEluZGV4LCB0b3RhbExlbmd0aCwgZmFsc2UpO1xuXHRcdCAgfVxuXHRcdCAgcmV0dXJuIGFsbENodW5rcztcblx0XHR9O1xuXHRcdFxuXHRcdGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG5cdFx0ICByZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHRcdFxuXHRcdGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cEZuKHN0cikge1xuXHRcdCAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgJ1xcXFwkJicpO1xuXHRcdH1cblx0XG5cdC8qKiovIH0pXG5cdC8qKioqKiovIF0pO1xuXHQvLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcblx0ICAgIFN5bWJvbC5mb3IgJiZcblx0ICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcblx0ICAgIDB4ZWFjNztcblx0XG5cdCAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcblx0ICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG5cdCAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuXHQgIH07XG5cdFxuXHQgIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuXHQgIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2Rcblx0ICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcblx0fSBlbHNlIHtcblx0ICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuXHQgIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2Rcblx0ICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKCk7XG5cdH1cblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0XG5cdC8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuXHQvLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcblx0Ly8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuXHQvLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXHRcblx0dmFyIGNhY2hlZFNldFRpbWVvdXQ7XG5cdHZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgfVxuXHR9ICgpKVxuXHRmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuXHQgICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuXHQgICAgICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0fVxuXHRmdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG5cdCAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcblx0ICAgICAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG5cdCAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdFxuXHR9XG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdHByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblx0XG5cdHByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBpbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciBhc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR2YXIgY2hlY2tQcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpIHtcblx0ICAvKiBnbG9iYWwgU3ltYm9sICovXG5cdCAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuXHQgIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJzsgLy8gQmVmb3JlIFN5bWJvbCBzcGVjLlxuXHRcblx0ICAvKipcblx0ICAgKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG5cdCAgICpcblx0ICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcblx0ICAgKlxuXHQgICAqICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obXlJdGVyYWJsZSk7XG5cdCAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG5cdCAgICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuXHQgICAqICAgICAgIC4uLlxuXHQgICAqICAgICB9XG5cdCAgICpcblx0ICAgKiBAcGFyYW0gez9vYmplY3R9IG1heWJlSXRlcmFibGVcblx0ICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG5cdCAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuXHQgICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcblx0ICAgKiBzdXBwbGllZCB0byBSZWFjdCBjb21wb25lbnRzLiBFeGFtcGxlIHVzYWdlOlxuXHQgICAqXG5cdCAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuXHQgICAqICAgdmFyIE15QXJ0aWNsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICAgcHJvcFR5cGVzOiB7XG5cdCAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuXHQgICAqICAgICAgIGRlc2NyaXB0aW9uOiBQcm9wcy5zdHJpbmcsXG5cdCAgICpcblx0ICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG5cdCAgICogICAgICAgY2F0ZWdvcnk6IFByb3BzLm9uZU9mKFsnTmV3cycsJ1Bob3RvcyddKS5pc1JlcXVpcmVkLFxuXHQgICAqXG5cdCAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG5cdCAgICogICAgICAgZGlhbG9nOiBQcm9wcy5pbnN0YW5jZU9mKERpYWxvZykuaXNSZXF1aXJlZFxuXHQgICAqICAgICB9LFxuXHQgICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuXHQgICAqICAgfSk7XG5cdCAgICpcblx0ICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG5cdCAgICpcblx0ICAgKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcblx0ICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cblx0ICAgKlxuXHQgICAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcblx0ICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG5cdCAgICpcblx0ICAgKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICBwcm9wVHlwZXM6IHtcblx0ICAgKiAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBvciBVUkkgcHJvcCBuYW1lZCBcImhyZWZcIi5cblx0ICAgKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuXHQgICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAqICAgICAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHByb3BWYWx1ZSAhPT0gJ3N0cmluZycgJiZcblx0ICAgKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xuXHQgICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG5cdCAgICogICAgICAgICAgICAnRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYW4gVVJJIGZvciAnICsgcHJvcE5hbWUgKyAnIGluICcgK1xuXHQgICAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuXHQgICAqICAgICAgICAgICk7XG5cdCAgICogICAgICAgIH1cblx0ICAgKiAgICAgIH1cblx0ICAgKiAgICB9LFxuXHQgICAqICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7Li4ufVxuXHQgICAqICB9KTtcblx0ICAgKlxuXHQgICAqIEBpbnRlcm5hbFxuXHQgICAqL1xuXHRcblx0ICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuXHRcblx0ICAvLyBJbXBvcnRhbnQhXG5cdCAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanNgLlxuXHQgIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcblx0ICAgIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcblx0ICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG5cdCAgICBmdW5jOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignZnVuY3Rpb24nKSxcblx0ICAgIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxuXHQgICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG5cdCAgICBzdHJpbmc6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcblx0ICAgIHN5bWJvbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N5bWJvbCcpLFxuXHRcblx0ICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcblx0ICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcblx0ICAgIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxuXHQgICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcblx0ICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG5cdCAgICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcblx0ICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG5cdCAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG5cdCAgICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcixcblx0ICAgIGV4YWN0OiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyLFxuXHQgIH07XG5cdFxuXHQgIC8qKlxuXHQgICAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cblx0ICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcblx0ICAgKi9cblx0ICAvKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSovXG5cdCAgZnVuY3Rpb24gaXMoeCwgeSkge1xuXHQgICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuXHQgICAgaWYgKHggPT09IHkpIHtcblx0ICAgICAgLy8gU3RlcHMgMS01LCA3LTEwXG5cdCAgICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG5cdCAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG5cdCAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8qZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXHRcblx0ICAvKipcblx0ICAgKiBXZSB1c2UgYW4gRXJyb3ItbGlrZSBvYmplY3QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYXMgcGVvcGxlIG1heSBjYWxsXG5cdCAgICogUHJvcFR5cGVzIGRpcmVjdGx5IGFuZCBpbnNwZWN0IHRoZWlyIG91dHB1dC4gSG93ZXZlciwgd2UgZG9uJ3QgdXNlIHJlYWxcblx0ICAgKiBFcnJvcnMgYW55bW9yZS4gV2UgZG9uJ3QgaW5zcGVjdCB0aGVpciBzdGFjayBhbnl3YXksIGFuZCBjcmVhdGluZyB0aGVtXG5cdCAgICogaXMgcHJvaGliaXRpdmVseSBleHBlbnNpdmUgaWYgdGhleSBhcmUgY3JlYXRlZCB0b28gb2Z0ZW4sIHN1Y2ggYXMgd2hhdFxuXHQgICAqIGhhcHBlbnMgaW4gb25lT2ZUeXBlKCkgZm9yIGFueSB0eXBlIGJlZm9yZSB0aGUgb25lIHRoYXQgbWF0Y2hlZC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBQcm9wVHlwZUVycm9yKG1lc3NhZ2UpIHtcblx0ICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdCAgICB0aGlzLnN0YWNrID0gJyc7XG5cdCAgfVxuXHQgIC8vIE1ha2UgYGluc3RhbmNlb2YgRXJyb3JgIHN0aWxsIHdvcmsgZm9yIHJldHVybmVkIGVycm9ycy5cblx0ICBQcm9wVHlwZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpIHtcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIHZhciBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSA9IHt9O1xuXHQgICAgICB2YXIgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPSAwO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG5cdCAgICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IEFOT05ZTU9VUztcblx0ICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXHRcblx0ICAgICAgaWYgKHNlY3JldCAhPT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcblx0ICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuXHQgICAgICAgICAgLy8gTmV3IGJlaGF2aW9yIG9ubHkgZm9yIHVzZXJzIG9mIGBwcm9wLXR5cGVzYCBwYWNrYWdlXG5cdCAgICAgICAgICBpbnZhcmlhbnQoXG5cdCAgICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICAgICAgICdVc2UgYFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpYCB0byBjYWxsIHRoZW0uICcgK1xuXHQgICAgICAgICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG5cdCAgICAgICAgICB2YXIgY2FjaGVLZXkgPSBjb21wb25lbnROYW1lICsgJzonICsgcHJvcE5hbWU7XG5cdCAgICAgICAgICBpZiAoXG5cdCAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcblx0ICAgICAgICAgICAgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXG5cdCAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50IDwgM1xuXHQgICAgICAgICAgKSB7XG5cdCAgICAgICAgICAgIHdhcm5pbmcoXG5cdCAgICAgICAgICAgICAgZmFsc2UsXG5cdCAgICAgICAgICAgICAgJ1lvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBhIFJlYWN0LlByb3BUeXBlcyB2YWxpZGF0aW9uICcgK1xuXHQgICAgICAgICAgICAgICdmdW5jdGlvbiBmb3IgdGhlIGAlc2AgcHJvcCBvbiBgJXNgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArXG5cdCAgICAgICAgICAgICAgJ2FuZCB3aWxsIHRocm93IGluIHRoZSBzdGFuZGFsb25lIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcblx0ICAgICAgICAgICAgICAnWW91IG1heSBiZSBzZWVpbmcgdGhpcyB3YXJuaW5nIGR1ZSB0byBhIHRoaXJkLXBhcnR5IFByb3BUeXBlcyAnICtcblx0ICAgICAgICAgICAgICAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJyxcblx0ICAgICAgICAgICAgICBwcm9wRnVsbE5hbWUsXG5cdCAgICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gPSB0cnVlO1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcblx0ICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuXHQgICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkICcgKyAoJ2luIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGBudWxsYC4nKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGB1bmRlZmluZWRgLicpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY2hhaW5lZENoZWNrVHlwZSA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIGZhbHNlKTtcblx0ICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXHRcblx0ICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuXHQgICAgICAgIC8vIGBwcm9wVmFsdWVgIGJlaW5nIGluc3RhbmNlIG9mLCBzYXksIGRhdGUvcmVnZXhwLCBwYXNzIHRoZSAnb2JqZWN0J1xuXHQgICAgICAgIC8vIGNoZWNrLCBidXQgd2UgY2FuIG9mZmVyIGEgbW9yZSBwcmVjaXNlIGVycm9yIG1lc3NhZ2UgaGVyZSByYXRoZXIgdGhhblxuXHQgICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cblx0ICAgICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuXHRcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIoZXhwZWN0ZWRDbGFzcykge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG5cdCAgICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VUztcblx0ICAgICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgYWN0dWFsQ2xhc3NOYW1lICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdpbnN0YW5jZSBvZiBgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJ2AuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuXHQgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoaXMocHJvcFZhbHVlLCBleHBlY3RlZFZhbHVlc1tpXSkpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHZhbHVlc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGV4cGVjdGVkVmFsdWVzKTtcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB2YWx1ZSBgJyArIHByb3BWYWx1ZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuXHQgICAgICAgIGlmIChwcm9wVmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlVW5pb25UeXBlQ2hlY2tlcihhcnJheU9mVHlwZUNoZWNrZXJzKSB7XG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB2b2lkIDA7XG5cdCAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuXHQgICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB3YXJuaW5nKFxuXHQgICAgICAgICAgZmFsc2UsXG5cdCAgICAgICAgICAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUuIEV4cGVjdGVkIGFuIGFycmF5IG9mIGNoZWNrIGZ1bmN0aW9ucywgYnV0ICcgK1xuXHQgICAgICAgICAgJ3JlY2VpdmVkICVzIGF0IGluZGV4ICVzLicsXG5cdCAgICAgICAgICBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcoY2hlY2tlciksXG5cdCAgICAgICAgICBpXG5cdCAgICAgICAgKTtcblx0ICAgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuXHQgICAgICAgIGlmIChjaGVja2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpID09IG51bGwpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBzaGFwZVR5cGVzKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cdCAgICAgICAgaWYgKCFjaGVja2VyKSB7XG5cdCAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG5cdCAgICAgIC8vIHByb3BzLlxuXHQgICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcblx0ICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcblx0ICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcblx0ICAgICAgICBpZiAoIWNoZWNrZXIpIHtcblx0ICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcblx0ICAgICAgICAgICAgJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGtleSBgJyArIGtleSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLicgK1xuXHQgICAgICAgICAgICAnXFxuQmFkIG9iamVjdDogJyArIEpTT04uc3RyaW5naWZ5KHByb3BzW3Byb3BOYW1lXSwgbnVsbCwgJyAgJykgK1xuXHQgICAgICAgICAgICAnXFxuVmFsaWQga2V5czogJyArICBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJylcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzTm9kZShwcm9wVmFsdWUpIHtcblx0ICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuXHQgICAgICBjYXNlICdudW1iZXInOlxuXHQgICAgICBjYXNlICdzdHJpbmcnOlxuXHQgICAgICBjYXNlICd1bmRlZmluZWQnOlxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICBjYXNlICdib29sZWFuJzpcblx0ICAgICAgICByZXR1cm4gIXByb3BWYWx1ZTtcblx0ICAgICAgY2FzZSAnb2JqZWN0Jzpcblx0ICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwgfHwgaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcblx0ICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuXHQgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgICB2YXIgc3RlcDtcblx0ICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuXHQgICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgICAgaWYgKCFpc05vZGUoc3RlcC52YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuXHQgICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcblx0ICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcblx0ICAgIC8vIE5hdGl2ZSBTeW1ib2wuXG5cdCAgICBpZiAocHJvcFR5cGUgPT09ICdzeW1ib2wnKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG5cdCAgICBpZiAocHJvcFZhbHVlWydAQHRvU3RyaW5nVGFnJ10gPT09ICdTeW1ib2wnKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEZhbGxiYWNrIGZvciBub24tc3BlYyBjb21wbGlhbnQgU3ltYm9scyB3aGljaCBhcmUgcG9seWZpbGxlZC5cblx0ICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICAvLyBFcXVpdmFsZW50IG9mIGB0eXBlb2ZgIGJ1dCB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGFycmF5IGFuZCByZWdleHAuXG5cdCAgZnVuY3Rpb24gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKSB7XG5cdCAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gJ2FycmF5Jztcblx0ICAgIH1cblx0ICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuXHQgICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cblx0ICAgICAgLy8gcGFzc2VzIFByb3BUeXBlcy5vYmplY3QuXG5cdCAgICAgIHJldHVybiAnb2JqZWN0Jztcblx0ICAgIH1cblx0ICAgIGlmIChpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gJ3N5bWJvbCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcHJvcFR5cGU7XG5cdCAgfVxuXHRcblx0ICAvLyBUaGlzIGhhbmRsZXMgbW9yZSB0eXBlcyB0aGFuIGBnZXRQcm9wVHlwZWAuIE9ubHkgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG5cdCAgLy8gU2VlIGBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcmAuXG5cdCAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG5cdCAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvcFZhbHVlID09PSBudWxsKSB7XG5cdCAgICAgIHJldHVybiAnJyArIHByb3BWYWx1ZTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICBpZiAocHJvcFR5cGUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdCAgICAgICAgcmV0dXJuICdkYXRlJztcblx0ICAgICAgfSBlbHNlIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBwcm9wVHlwZTtcblx0ICB9XG5cdFxuXHQgIC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBwb3N0Zml4ZWQgdG8gYSB3YXJuaW5nIGFib3V0IGFuIGludmFsaWQgdHlwZS5cblx0ICAvLyBGb3IgZXhhbXBsZSwgXCJ1bmRlZmluZWRcIiBvciBcIm9mIHR5cGUgYXJyYXlcIlxuXHQgIGZ1bmN0aW9uIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyh2YWx1ZSkge1xuXHQgICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG5cdCAgICBzd2l0Y2ggKHR5cGUpIHtcblx0ICAgICAgY2FzZSAnYXJyYXknOlxuXHQgICAgICBjYXNlICdvYmplY3QnOlxuXHQgICAgICAgIHJldHVybiAnYW4gJyArIHR5cGU7XG5cdCAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuXHQgICAgICBjYXNlICdkYXRlJzpcblx0ICAgICAgY2FzZSAncmVnZXhwJzpcblx0ICAgICAgICByZXR1cm4gJ2EgJyArIHR5cGU7XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgcmV0dXJuIHR5cGU7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuXHQgIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcblx0ICAgIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xuXHQgICAgICByZXR1cm4gQU5PTllNT1VTO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xuXHQgIH1cblx0XG5cdCAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBjaGVja1Byb3BUeXBlcztcblx0ICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblx0XG5cdCAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xuXHR9O1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICpcblx0ICogXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBhcmc7XG5cdCAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG5cdCAqIHByaW1hcmlseSB1c2VmdWwgaWRpb21hdGljYWxseSBmb3Igb3ZlcnJpZGFibGUgZnVuY3Rpb24gZW5kcG9pbnRzIHdoaWNoXG5cdCAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG5cdCAqL1xuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fTtcblx0XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlID0gbWFrZUVtcHR5RnVuY3Rpb24oZmFsc2UpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVGhpcyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50ID0gZnVuY3Rpb24gKGFyZykge1xuXHQgIHJldHVybiBhcmc7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG5cdCAqXG5cdCAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG5cdCAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuXHQgKiBleHBlY3RpbmcuXG5cdCAqXG5cdCAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG5cdCAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0ICovXG5cdFxuXHR2YXIgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHt9O1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0ICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXHRcblx0ICBpZiAoIWNvbmRpdGlvbikge1xuXHQgICAgdmFyIGVycm9yO1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcblx0ICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgICAgfSkpO1xuXHQgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuXHQgICAgfVxuXHRcblx0ICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcblx0ICAgIHRocm93IGVycm9yO1xuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0LyoqXG5cdCAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cblx0ICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuXHQgKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuXHQgKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cblx0ICovXG5cdFxuXHR2YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb247XG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiBwcmludFdhcm5pbmcoZm9ybWF0KSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgIH0pO1xuXHQgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuXHQgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcblx0ICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0ICAgIH0gY2F0Y2ggKHgpIHt9XG5cdCAgfTtcblx0XG5cdCAgd2FybmluZyA9IGZ1bmN0aW9uIHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQpIHtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChmb3JtYXQuaW5kZXhPZignRmFpbGVkIENvbXBvc2l0ZSBwcm9wVHlwZTogJykgPT09IDApIHtcblx0ICAgICAgcmV0dXJuOyAvLyBJZ25vcmUgQ29tcG9zaXRlQ29tcG9uZW50IHByb3B0eXBlIGNoZWNrLlxuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcblx0ICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Lypcblx0b2JqZWN0LWFzc2lnblxuXHQoYykgU2luZHJlIFNvcmh1c1xuXHRAbGljZW5zZSBNSVRcblx0Ki9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0dmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdHZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0XG5cdGZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRcdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gT2JqZWN0KHZhbCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0XHR9KTtcblx0XHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdFx0dmFyIHRlc3QzID0ge307XG5cdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0XHR2YXIgZnJvbTtcblx0XHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHRcdHZhciBzeW1ib2xzO1xuXHRcblx0XHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXHRcblx0XHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdG87XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcblxuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0ICB2YXIgd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdCAgdmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdCAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuXHQgKiBFcnJvciBtZXNzYWdlcyBhcmUgbWVtb3JpemVkIGFuZCB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcblx0ICogQHBhcmFtIHtvYmplY3R9IHZhbHVlcyBSdW50aW1lIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgdHlwZS1jaGVja2VkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBlLmcuIFwicHJvcFwiLCBcImNvbnRleHRcIiwgXCJjaGlsZCBjb250ZXh0XCJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cblx0ICogQHBhcmFtIHs/RnVuY3Rpb259IGdldFN0YWNrIFJldHVybnMgdGhlIGNvbXBvbmVudCBzdGFjay5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHR5cGVTcGVjcywgdmFsdWVzLCBsb2NhdGlvbiwgY29tcG9uZW50TmFtZSwgZ2V0U3RhY2spIHtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuXHQgICAgICBpZiAodHlwZVNwZWNzLmhhc093blByb3BlcnR5KHR5cGVTcGVjTmFtZSkpIHtcblx0ICAgICAgICB2YXIgZXJyb3I7XG5cdCAgICAgICAgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cblx0ICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG5cdCAgICAgICAgLy8gQWZ0ZXIgdGhlc2UgaGF2ZSBiZWVuIGNsZWFuZWQgdXAsIHdlJ2xsIGxldCB0aGVtIHRocm93LlxuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcblx0ICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cblx0ICAgICAgICAgIGludmFyaWFudCh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gPT09ICdmdW5jdGlvbicsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAndGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCVzYC4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSk7XG5cdCAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG5cdCAgICAgICAgICBlcnJvciA9IGV4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBsb2NhdGlvbiwgdHlwZVNwZWNOYW1lLCB0eXBlb2YgZXJyb3IpO1xuXHQgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG5cdCAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcblx0ICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG5cdCAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuXHRcblx0ICAgICAgICAgIHZhciBzdGFjayA9IGdldFN0YWNrID8gZ2V0U3RhY2soKSA6ICcnO1xuXHRcblx0ICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgJXMgdHlwZTogJXMlcycsIGxvY2F0aW9uLCBlcnJvci5tZXNzYWdlLCBzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGNoZWNrUHJvcFR5cGVzO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlbXB0eUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIGludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG5cdCAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuXHQgICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGludmFyaWFudChcblx0ICAgICAgZmFsc2UsXG5cdCAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcblx0ICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuXHQgICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcblx0ICAgICk7XG5cdCAgfTtcblx0ICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuXHQgIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG5cdCAgICByZXR1cm4gc2hpbTtcblx0ICB9O1xuXHQgIC8vIEltcG9ydGFudCFcblx0ICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cblx0ICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG5cdCAgICBhcnJheTogc2hpbSxcblx0ICAgIGJvb2w6IHNoaW0sXG5cdCAgICBmdW5jOiBzaGltLFxuXHQgICAgbnVtYmVyOiBzaGltLFxuXHQgICAgb2JqZWN0OiBzaGltLFxuXHQgICAgc3RyaW5nOiBzaGltLFxuXHQgICAgc3ltYm9sOiBzaGltLFxuXHRcblx0ICAgIGFueTogc2hpbSxcblx0ICAgIGFycmF5T2Y6IGdldFNoaW0sXG5cdCAgICBlbGVtZW50OiBzaGltLFxuXHQgICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcblx0ICAgIG5vZGU6IHNoaW0sXG5cdCAgICBvYmplY3RPZjogZ2V0U2hpbSxcblx0ICAgIG9uZU9mOiBnZXRTaGltLFxuXHQgICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuXHQgICAgc2hhcGU6IGdldFNoaW0sXG5cdCAgICBleGFjdDogZ2V0U2hpbVxuXHQgIH07XG5cdFxuXHQgIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcblx0ICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblx0XG5cdCAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBzaW1wbGVJc0VxdWFsID0gZnVuY3Rpb24gc2ltcGxlSXNFcXVhbChhLCBiKSB7XG5cdCAgcmV0dXJuIGEgPT09IGI7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBpbmRleCAocmVzdWx0Rm4pIHtcblx0ICB2YXIgaXNFcXVhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogc2ltcGxlSXNFcXVhbDtcblx0XG5cdCAgdmFyIGxhc3RUaGlzID0gdm9pZCAwO1xuXHQgIHZhciBsYXN0QXJncyA9IFtdO1xuXHQgIHZhciBsYXN0UmVzdWx0ID0gdm9pZCAwO1xuXHQgIHZhciBjYWxsZWRPbmNlID0gZmFsc2U7XG5cdFxuXHQgIHZhciBpc05ld0FyZ0VxdWFsVG9MYXN0ID0gZnVuY3Rpb24gaXNOZXdBcmdFcXVhbFRvTGFzdChuZXdBcmcsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gaXNFcXVhbChuZXdBcmcsIGxhc3RBcmdzW2luZGV4XSk7XG5cdCAgfTtcblx0XG5cdCAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uIHJlc3VsdCgpIHtcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBuZXdBcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIG5ld0FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNhbGxlZE9uY2UgJiYgbGFzdFRoaXMgPT09IHRoaXMgJiYgbmV3QXJncy5sZW5ndGggPT09IGxhc3RBcmdzLmxlbmd0aCAmJiBuZXdBcmdzLmV2ZXJ5KGlzTmV3QXJnRXF1YWxUb0xhc3QpKSB7XG5cdCAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIGNhbGxlZE9uY2UgPSB0cnVlO1xuXHQgICAgbGFzdFRoaXMgPSB0aGlzO1xuXHQgICAgbGFzdEFyZ3MgPSBuZXdBcmdzO1xuXHQgICAgbGFzdFJlc3VsdCA9IHJlc3VsdEZuLmFwcGx5KHRoaXMsIG5ld0FyZ3MpO1xuXHQgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpbmRleDtcblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYWluLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWhpZ2hsaWdodC13b3Jkcy9kaXN0L21haW4uanNcbi8vIG1vZHVsZSBpZCA9IDYxMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzXG4vLyBtb2R1bGUgaWQgPSA2MTE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA2MTE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gNjExOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIzMTdkZjBiNzE5NDRiMjAwY2IwYTIzMjllN2FlYmMwYi5naWZcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9hc3NldHMvUmlwcGxlLmdpZlxuLy8gbW9kdWxlIGlkID0gNjExOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBpc0FjdGlvbkludGVudCB9IGZyb20gJy4uL2hlbHBlcic7XHJcblxyXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVOb3Rlc0FzU3RyaW5nID0gKG5vdGVzKSA9PiB7XHJcbiAgICBsZXQgbm90ZXNTdHJpbmcgPSAnJztcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbm90ZXNTdHJpbmcgKz0gaSA9PT0gbm90ZXMubGVuZ3RoIC0gMSA/IG5vdGVzW2ldLnRyaW0oKSA6IGAke25vdGVzW2ldLnRyaW0oKX0vbmA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5vdGVzU3RyaW5nO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVN1bW1hcnlDb21wbGV0aW9uTWFwID0gKHN1bW1hcnkpID0+IHtcclxuICAgIGxldCBtYXAgPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgc3VtbWFyeSAmJiBzdW1tYXJ5Lm1hcChzdW1tYXJ5ID0+IChcclxuICAgICAgICAoaXNBY3Rpb25JbnRlbnQoc3VtbWFyeS5pbnRlbnQpKSAmJlxyXG4gICAgICAgIChtYXAuc2V0KHN1bW1hcnkuaWQsIGZhbHNlKSlcclxuICAgICkpO1xyXG5cclxuICAgIHJldHVybiBtYXA7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYXBwZW5kSWRzVG9TdW1tYXJ5ID0gKHN1bW1hcnkpID0+IHtcclxuICAgIC8vYXBwZW5kIGlkcyB0byBzdW1tYXJ5XHJcbiAgICBpZiAoc3VtbWFyeSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBzdW1tYXJ5KSB7XHJcbiAgICAgICAgICAgIHN1bW1hcnlbaV1bJ2lkJ10gPSBpICsgMTtcclxuICAgICAgICAgICAgc3VtbWFyeVtpXVsnc2F2ZSddID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdW1tYXJ5O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUluaXRpYWxOb25BY3Rpb25TdW1tYXJ5Tm90ZXMgPSAoc3VtbWFyeSwgdm9pY2VtYWlsTWVzc2FnZSA9ICcnKSA9PiB7XHJcbiAgICBsZXQgaW5pdGlhbE5vdGVzU3RyaW5nID0gJyc7XHJcblxyXG4gICAgaWYgKHZvaWNlbWFpbE1lc3NhZ2UpIHtcclxuICAgICAgICBpbml0aWFsTm90ZXNTdHJpbmcgKz0gdm9pY2VtYWlsTWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGNvbnN0IGkgaW4gc3VtbWFyeSkge1xyXG4gICAgICAgIGlmIChpc0FjdGlvbkludGVudChzdW1tYXJ5W2ldLmludGVudCkpIHtcclxuICAgICAgICAgICAgaW5pdGlhbE5vdGVzU3RyaW5nICs9IHN1bW1hcnlbaV0uc3VtbWFyeTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGluaXRpYWxOb3Rlc1N0cmluZztcclxufTtcclxuXHJcbi8vY2hlY2tzIGlmIHRoZSBtYXAgY29udGFpbnMgYW55IGZhbHNlIHZhbHVlXHJcbi8vcmV0dXJuIHRydWUgaWYgaXQgZG9lc1xyXG5leHBvcnQgY29uc3QgY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXAgPSAoc3VtbWFyeUNvbXBsZXRpb25NYXApID0+IHtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHZhbCBvZiBzdW1tYXJ5Q29tcGxldGlvbk1hcC52YWx1ZXMoKSkge1xyXG4gICAgICAgIGlmICh2YWwgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL2hlbHBlcnMvcG9zdENhbGxIZWxwZXIuanMiLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCB7IGhhbmRsZUFwaVJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbHMvbmV0d29ya1V0aWxzJztcclxuXHJcbi8vY29tbWVudCBvdXQgZm9sbG93aW5nIGJlZm9yZSBwdXNoIHRvIGdpdFxyXG4vLyBjb25zdCBCQVNFX0VORFBPSU5UID0gJy9jb21tb24nO1xyXG5cclxuLy9mb3IgbG9jYWxob3N0LCBjb21tZW50IGZvbGxvd2luZyBiZWZvcmUgcHVzaCB0byBnaXRcclxuY29uc3QgQkFTRV9FTkRQT0lOVCA9ICcnO1xyXG5cclxuY29uc3QgRElTUFVURV9FTkRQT0lOVCA9ICcvZGlzcHV0ZWNvZGVzJztcclxuY29uc3QgRk9MTE9XX1VQX0VORFBPSU5UID0gJy90YXNrdHlwZXMnO1xyXG5cclxuY29uc3QgZ2V0RGlzcHV0ZUNvZGVzID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIGF4aW9zXHJcbiAgICAgICAgLmdldChgJHtjb25maWcuYXBpVXJsfSR7QkFTRV9FTkRQT0lOVH0ke0RJU1BVVEVfRU5EUE9JTlR9YClcclxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKGVycm9yKTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGdldFRhc2tUeXBlcyA9ICgpID0+IHtcclxuICAgIHJldHVybiBheGlvc1xyXG4gICAgICAgIC5nZXQoYCR7Y29uZmlnLmFwaVVybH0ke0JBU0VfRU5EUE9JTlR9JHtGT0xMT1dfVVBfRU5EUE9JTlR9YClcclxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKGVycm9yKTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb21tb25TZXJ2aWNlID0geyBnZXREaXNwdXRlQ29kZXMsICBnZXRUYXNrVHlwZXMgfTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmljZXMvY29tbW9uU2VydmljZS5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgVGFicyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UYWJzJztcclxuaW1wb3J0IFRhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UYWInO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IER1ZURldGFpbCBmcm9tICcuL0R1ZURldGFpbCc7XHJcbmltcG9ydCB7IFBhcGVyIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaXJjdWxhclByb2dyZXNzJztcclxuaW1wb3J0IEludm9pY2VUYWJsZSBmcm9tICcuL0ludm9pY2VUYWJsZSc7XHJcbmltcG9ydCB7IGZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcblxyXG5mdW5jdGlvbiBUYWJDb250YWluZXIocHJvcHMsIHRoZW1lKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxUeXBvZ3JhcGh5IGNvbXBvbmVudD1cImRpdlwiIHN0eWxlPXt7IHBhZGRpbmdUb3A6IFwiMS44NXZoXCIsIH19PlxyXG4gICAgICAgICAgICA8UGFwZXIgZWxldmF0aW9uPXsxfSBzdHlsZT17e292ZXJmbG93WTogXCJhdXRvXCIsIGhlaWdodDogXCI3OC41dmhcIiwgYm9yZGVyUmFkaXVzIDogXCI0cHhcIixib3hTaGFkb3c6IFwibm9uZVwiLGJhY2tncm91bmQ6IHByb3BzLnRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbiB9fT5cclxuICAgICAgICAgICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgPC9QYXBlcj5cclxuICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICApO1xyXG59XHJcblxyXG5UYWJDb250YWluZXIucHJvcFR5cGVzID0ge1xyXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gICAgcm9vdDoge1xyXG4gICAgICAvLyAgd2lkdGg6IFwiNjEuNDg5dndcIlxyXG4gICAgfSxcclxuICAgIHByb2dyZXNzOiB7XHJcbiAgICAgICAgbWFyZ2luOiBcIjdyZW0gMCAwIDIwcmVtXCJcclxuICAgIH0sXHJcbiAgICBjb250YWluZXI6IHtcclxuICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCJcclxuICAgIH0sXHJcbiAgICBzY3JvbGxCdXR0b25zOiB7XHJcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICBmbGV4OiBcIjAgIWltcG9ydGFudFwiXHJcbiAgICB9LFxyXG4gICAgaW5kaWNhdG9yOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjJweFwiLFxyXG4gICAgICAgIHRvcDogXCI1Ljd2aCAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICB0YWJTZWxlY3RlZDoge1xyXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICB0YWJSb290OiB7XHJcbiAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgICAgIHdpZHRoOiBcImNhbGMoNS42NjZ2aCArIDUuNjY2dncpXCIsXHJcbiAgICAgICBtaW5IZWlnaHQ6IFwiNi4zdmhcIixcclxuICAgICAgIG1heEhlaWdodDogXCI2LjN2aFwiXHJcbiAgICB9LFxyXG4gICAgdGFiV3JhcHBlcjoge1xyXG4gICAgICBtYXJnaW5Cb3R0b206IFwiLjR2d1wiLFxyXG4gICAgICAgd2lkdGg6IFwiY2FsYyg1LjY2NnZoICsgNS42NjZ2dylcIixcclxuICAgIH0sXHJcbiAgICB0YWJzRmxleENvbnRhaW5lcjogeyAgXHJcbiAgICAgICAgaGVpZ2h0OiBcIjYuM3ZoXCJcclxuICAgIH0sXHJcbiAgICB0YWJzUm9vdDoge1xyXG4gICAgICAgIG1pbkhlaWdodDogXCI2LjN2aFwiLFxyXG4gICAgICAgIG1heEhlaWdodDogXCI2LjN2aFwiXHJcbiAgICB9LFxyXG4gICAgdGFic1Njcm9sbGVyOiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIi0xMHZoICFpbXBvcnRhbnRcIlxyXG4gICAgfSxcclxuICAgIGludm9pY2VDb3VudFRleHQ6IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgZm9udFNpemU6IFwiLjhyZW1cIiwgXHJcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgYnVja2V0TmFtZXM6IFtdLFxyXG4gICAgaW52b2ljZXM6IFtdXHJcbiAgfTsgXHJcblxyXG5jbGFzcyBJbkNhbGxEZXRhaWxzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIGxldCBkYXlzID0gdGhpcy5wcm9wcy5idWNrZXROYW1lcy5yZXZlcnNlKClcclxuICAgICAgICBkYXlzLnVuc2hpZnQoXCJDdXJyZW50IER1ZVwiKVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBkYXlzIDogZGF5c1xyXG4gICAgICAgICAgICAvLyBhbGxJbnZvaWNlczogdGhpcy5wcm9wcy5pbnZvaWNlcyxcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgIFxyXG5cclxuICAgICAgICAvLyBmaWx0ZXJJbnZvaWNlcyA9IGZpbHRlckludm9pY2VzLmJpbmQodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGxldCB1cmwgPSBgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlc2BcclxuICAgICAgICAvLyBheGlvcy5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiByZXNwb25zZS5kYXRhIH0pXHJcbiAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBhbGxJbnZvaWNlczogcmVzcG9uc2UuZGF0YSB9KVxyXG4gICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSlcclxuICAgICAgICAvLyB9KVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9GaWx0ZXIgaW52b2ljZSBiYXNlZCBvbiBidWNrZXRcclxuICAgIGZpbHRlckludm9pY2VzID0gKGludm9pY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcyB9KTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcclxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkSW52b2ljZXMgPSBbXVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEFycmF5ID0gW11cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJEaXNwdXRlXCIgJiYgaW52b2ljZXNbaV1bal0uZGlzcHV0ZVN0YXR1cyAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlByZWRpY3RlZCBEZWxpbnF1ZW50XCIgJiYgaW52b2ljZXNbaV1bal0ucDJwRGVsaW5xdWVudCA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlVwY29taW5nIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycFVwY29taW5nID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGludm9pY2VUeXBlID09IFwiQnJva2VuIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycEJyb2tlbiA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkSW52b2ljZXMucHVzaCh0ZW1wQXJyYXkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gKGV2ZW50LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWUgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaWYgcHJpbWFyeSBlbWFpbCBJRCBpcyBwcmVzZW50IGluIGN1c3RvbWVyIGNvbnRhY3RzLlxyXG4gICAgICAgIC8vIGNoZWNrRW1haWxJRCA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnByb3BzLmN1c3RvbWVyID09IHVuZGVmaW5lZCB8fCB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tpXS5wcmltYXJ5ID09PSB0cnVlICYmIHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbaV0uZW1haWwpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vICAgICB9XHJcblxyXG4gICAgICAgIC8vIH07XHJcblxyXG4gICAgICAgIC8vICBmaW5kVHlwZSA9IChpbnZvaWNlKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgIHN3aXRjaChpbnZvaWNlKVxyXG4gICAgICAgIC8vICAgICAgICB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICBjYXNlIGludm9pY2UucDJwRGVsaW5xdWVudCA9PSB0cnVlIDpcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICByZXR1cm4gXCJQcmVkaWN0ZWQgRGVsaW5xbWVudFwiXHJcbiAgICAgICAgLy8gICAgICAgICAgICBjYXNlIGludm9pY2UucDJwVXBjb21pbmcgPT0gdHJ1ZSA6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIFwiVXBjb21pbmcgUDJQXCJcclxuICAgICAgICAvLyAgICAgICAgICAgICBjYXNlIGludm9pY2UucDJwQnJva2VuID09IHRydWUgOlxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIkJyb2tlbiBQMlBcIlxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIFwiRGlzcHV0ZVwiXHJcbiAgICAgICAgLy8gICAgICAgIH1cclxuICAgICAgICAvLyAgfVxyXG4gICAgICAgIHJlbmRlcigpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBkYXlzID0gZGF5cy51bnNoaWZ0KFwiQ3VycmUgICBudCBEdWVcIilcclxuICAgICAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IFtdXHJcbiAgICAgICAgICAgIHZhciBpbnZvaWNlVG90YWxBbW91bnQgPSBbXVxyXG4gICAgICAgICAgICB2YXIgdG90YWxJbnZvaWNlQ291bnQgPSAwO1xyXG4gICAgICAgICAgICB2YXIgd2hvbGVBbW91bnQgPSAwXHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5zdGF0ZS5kYXlzLmxlbmd0aDtpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGludm9pY2VUb3RhbEFtb3VudC5wdXNoKDApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQucHVzaCh0aGlzLnN0YXRlLmludm9pY2VzW2ldLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHZhciBzdW0gPSAwXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuc3RhdGUuaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdW0gPSBzdW0gKyB0aGlzLnN0YXRlLmludm9pY2VzW2ldW2pdLmN1cnJlbnRPcGVuQW1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxJbnZvaWNlQ291bnQgPSB0b3RhbEludm9pY2VDb3VudCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hvbGVBbW91bnQgPSB3aG9sZUFtb3VudCArIHRoaXMuc3RhdGUuaW52b2ljZXNbaV1bal0uY3VycmVudE9wZW5BbW91bnRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGludm9pY2VUb3RhbEFtb3VudFtpXSA9IHN1bVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnJvb3R9PlxyXG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubG9hZGluZyA9PT0gZmFsc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYnMgdmFsdWU9e3ZhbHVlfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JDb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInNjcm9sbGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLS1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEJ1dHRvbnM9XCJhdXRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgPSB7eyBzY3JvbGxCdXR0b25zOiBjbGFzc2VzLnNjcm9sbEJ1dHRvbnMsIGZsZXhDb250YWluZXI6IGNsYXNzZXMudGFic0ZsZXhDb250YWluZXIsIHJvb3Q6IGNsYXNzZXMudGFic1Jvb3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXI6IGNsYXNzZXMudGFic1Njcm9sbGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFiSW5kaWNhdG9yUHJvcHMgPSB7e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgY2xhc3Nlcz17eyBzZWxlY3RlZDogY2xhc3Nlcy50YWJTZWxlY3RlZCxyb290OiBjbGFzc2VzLnRhYlJvb3QsIHdyYXBwZXI6IGNsYXNzZXMudGFiV3JhcHBlcn19IGljb249ezxkaXY+PHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VDb3VudFRleHR9Pnt0b3RhbEludm9pY2VDb3VudH0gKCR7Zm9ybWF0dGVyKHdob2xlQW1vdW50KX0pPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiBcIi44cmVtXCIgfX0+QWxsIEludm9pY2VzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZGF5cy5tYXAoKGRheSwgaWQpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiBjbGFzc2VzPXt7IHNlbGVjdGVkOiBjbGFzc2VzLnRhYlNlbGVjdGVkLHJvb3Q6IGNsYXNzZXMudGFiUm9vdH19IGljb249ezxkaXY+PHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VDb3VudFRleHR9PntpbnZvaWNlQ291bnRbaWRdfSAoJHtmb3JtYXR0ZXIoaW52b2ljZVRvdGFsQW1vdW50W2lkXSl9KTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiBcIi44cmVtXCIgfX0+e2RheX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFicz5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3ZhbHVlID09PSAwICYmIDxUYWJDb250YWluZXIgdGhlbWUgPSB7dGhlbWV9PjxEdWVEZXRhaWwgZW1haWxPZkNhbGxlZD17dGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkfSBjb2xsZWN0b3I9e3RoaXMucHJvcHMuY29sbGVjdG9yfSBjdXN0b21lcj17dGhpcy5wcm9wcy5jdXN0b21lcn0gZmlsdGVySW52b2ljZXM9e3RoaXMuZmlsdGVySW52b2ljZXN9IGJ1Y2tldE5hbWVzPXt0aGlzLnN0YXRlLmRheXN9IGludm9pY2VzPXt0aGlzLnN0YXRlLmludm9pY2VzfT48L0R1ZURldGFpbD48L1RhYkNvbnRhaW5lcj59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmludm9pY2VzLm1hcCgoYnVja2V0SW52b2ljZXMsIGlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IGlkICsgMSAmJiA8VGFiQ29udGFpbmVyIHRoZW1lID0ge3RoZW1lfSBjbGFzc05hbWU9e2NsYXNzZXMuY29udGFpbmVyfT48SW52b2ljZVRhYmxlIGVtYWlsT2ZDYWxsZWQ9e3RoaXMucHJvcHMuZW1haWxPZkNhbGxlZH0gY29sbGVjdG9yPXt0aGlzLnByb3BzLmNvbGxlY3Rvcn0gY3VzdG9tZXI9e3RoaXMucHJvcHMuY3VzdG9tZXJ9IGZpbHRlckludm9pY2VzPXt0aGlzLmZpbHRlckludm9pY2VzfSBpbmRpdmlkdWFsPXt0cnVlfSBkYXlzPXt0aGlzLnN0YXRlLmRheXNbaWRdfSBpbnZvaWNlcz17YnVja2V0SW52b2ljZXN9PjwvSW52b2ljZVRhYmxlPjwvVGFiQ29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5sb2FkaW5nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFicyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JDb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzY3JvbGxhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxCdXR0b25zPVwiYXV0b1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyA9IHt7IHNjcm9sbEJ1dHRvbnM6IGNsYXNzZXMuc2Nyb2xsQnV0dG9uc319XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiBzdHlsZT17eyBjb2xvcjogXCJ3aGl0ZVwiIH19IGxhYmVsPVwiQWxsIEludm9pY2VcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmRheXMubWFwKChkYXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgc3R5bGU9e3sgY29sb3I6IFwid2hpdGVcIiB9fSBsYWJlbD17ZGF5ICsgXCJkYXlzIHBhc3QgZHVlXCJ9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFicz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXBlciBzdHlsZT17eyBoZWlnaHQ6IFwiMjRyZW1cIiwgbWFyZ2luVG9wOiBcIjJyZW1cIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyBjbGFzc05hbWU9e2NsYXNzZXMucHJvZ3Jlc3N9IHNpemU9ezEwMH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUGFwZXI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEluQ2FsbERldGFpbHMucHJvcFR5cGVzID0ge1xyXG4gICAgICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIH07XHJcblxyXG5cclxuICAgIEluQ2FsbERldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuICAgIGV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShJbkNhbGxEZXRhaWxzKTtcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0luQ2FsbERldGFpbHMuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUG9wb3ZlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Qb3BvdmVyJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcywgVHlwb2dyYXBoeSwgSWNvbkJ1dHRvbiB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCB7IGNoYW5nZUNhbGxlciB9IGZyb20gJy4uL2FjdGlvbnMvYWN0aW9ucyc7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCB7IFZvaWNlbWFpbCwgTW9yZVZlcnQsIERvbmUsIENsb3NlIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zLyc7XHJcbmltcG9ydCB7IHNpcFNlbmREVE1GLCBzaXBUb2dnbGVNdXRlIH0gZnJvbSAnLi4vdXRpbHMvc2lwVXRpbHMnO1xyXG5pbXBvcnQgeyBlbXB0eUZ1bmN0aW9uLCBWT0lDRU1BSUxfQVVUT19DTE9TRV9USU1FTU9VVCB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbmFja2Jhcic7XHJcbmltcG9ydCBDbG9zZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdjb25maWcnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gIEFwcDoge1xyXG4gICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gIH0sXHJcbiAgcG9wT3Zlcjoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsXHJcbiAgICB3aWR0aDogXCIyMGVtXCJcclxuICB9LFxyXG4gIGhlYWQ6IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLFxyXG4gICAgZm9udFNpemU6IFwiMWVtXCIsXHJcbiAgICBvcGFjaXR5OiAwLjY1LFxyXG4gIH0sXHJcbiAgaWNvbjoge1xyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcclxuICAgIG1pbldpZHRoOiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgfSxcclxuICB2b2ljZU1haWxJY29uOiB7XHJcbiAgICBiYWNrZ3JvdW5kOiBcIiM1REFBRTBcIixcclxuICAgIHBhZGRpbmc6IFwiMXB4XCIsXHJcbiAgfSxcclxuICB2b2ljZW1haWxTZW50SWNvbjoge1xyXG4gICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjNURBQUUwXCIsXHJcbiAgfSxcclxuICB2b2ljZW1haWxQcm9ncmVzc1BhcmVudDoge1xyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbEJveDoge1xyXG4gICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcclxuICAgIGJvcmRlckJvdHRvbTogXCIwLjVweCBzb2xpZCByZ2IoOTMsMTcwLDIyNClcIixcclxuICAgIGJvcmRlckJvdHRvbTogXCIwLjVweCBzb2xpZCByZ2JhKDkzLDE3MCwyMjQsMC42NSlcIixcclxuICAgIHBhZGRpbmc6IFwiMTJweCAxMnB4IDIwcHggMTJweFwiLFxyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBtYXJnaW5Cb3R0b206IFwiMjBweFwiLFxyXG4gICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcclxuICB9LFxyXG4gIGRpc2FibGVkVm9pY2VtYWlsQm94OiB7XHJcbiAgICBjdXJzb3I6IFwiZGVmYXVsdCAhaW1wb3J0YW50XCIsXHJcbiAgICBvcGFjaXR5OiBcIjAuNjVcIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbFRleHQ6IHtcclxuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgIG1hcmdpbkxlZnQ6IFwiMS4ycmVtXCIsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gIH0sXHJcbiAgdm9pY2VtYWlsUHJvZ3Jlc3M6IHtcclxuICAgIHdpZHRoOiBcImluaGVyaXQgIWltcG9ydGFudFwiLFxyXG4gICAgaGVpZ2h0OiBcImluaGVyaXQgIWltcG9ydGFudFwiLFxyXG4gICAgZmlsbDogXCIjNURBQUUwXCIsXHJcbiAgfSxcclxuICBjbG9zZUljb246IHtcclxuICAgIGZpbGw6IFwibGlnaHRibHVlXCIsXHJcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgcmlnaHQ6IFwiMyVcIixcclxuICAgIGZvbnRTaXplOiBcIjJyZW1cIixcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgfSxcclxuICB2b2ljZW1haWxCdG46IHtcclxuICAgIGNvbG9yOiBcIiNGRkZcIixcclxuICAgIGZvbnRTaXplOiBcIjEuN3JlbVwiLFxyXG4gICAgcGFkZGluZzogXCIxMCVcIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbFNlbnRCdG46IHtcclxuICAgIGZvbnRTaXplOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgfSxcclxuICBkaXNhYmxlQnRuOiB7XHJcbiAgICBvcGFjaXR5OiAwLjQsXHJcbiAgICBjdXJzb3I6IFwiZGVmYXVsdFwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuY2xhc3MgS2V5UGFkIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIG9wZW46IGZhbHNlLFxyXG4gICAgICBwaG9uZU51bWJlcjogXCJcIixcclxuICAgICAgZGlzcGxheU51bWJlcjogXCJcIixcclxuICAgICAgZGlhbGxlZDogZmFsc2UsXHJcbiAgICAgIGZvY3VzOiB0cnVlLFxyXG4gICAgICBpc1ZvaWNlbWFpbEVuYWJsZWQ6IHRydWUsXHJcbiAgICAgIGlzVm9pY2VtYWlsQ2xpY2tlZDogZmFsc2UsXHJcbiAgICAgIHZvaWNlbWFpbENsaWNrTWFwOiBuZXcgTWFwKCksXHJcbiAgICAgIHZvaWNlbWFpbFNlbnRNYXA6IG5ldyBNYXAoKSxcclxuICAgICAgdm9pY2VtYWlsVGVtcGxhdGVzOiBbXSxcclxuICAgICAgc25hY2tPcGVuOiBmYWxzZSxcclxuICAgICAgZGlzYWJsZVZvaWNlbWFpbENsaWNrOiBmYWxzZSxcclxuICAgIH07XHJcblxyXG4gICAgYXhpb3MuZ2V0KGAke2NvbmZpZy5hcGlVcmx9L3ZvaWNldGVtcGxhdGVgKVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJWb2ljZW1haWwgRmV0Y2hlZFwiLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVWb2ljZW1haWxEYXRhKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGZldGNoIHZvaWNlbWFpbHNcIiwgZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVWb2ljZW1haWxEYXRhID0gKHZvaWNlbWFpbFRlbXBsYXRlcykgPT4ge1xyXG4gICAgbGV0IHZvaWNlbWFpbENsaWNrTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgbGV0IHZvaWNlbWFpbFNlbnRNYXAgPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2b2ljZW1haWxUZW1wbGF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdm9pY2VtYWlsQ2xpY2tNYXAuc2V0KHZvaWNlbWFpbFRlbXBsYXRlc1tpXS5pZCwgZmFsc2UpO1xyXG4gICAgICB2b2ljZW1haWxTZW50TWFwLnNldCh2b2ljZW1haWxUZW1wbGF0ZXNbaV0uaWQsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgdm9pY2VtYWlsVGVtcGxhdGVzLFxyXG4gICAgICB2b2ljZW1haWxDbGlja01hcCxcclxuICAgICAgdm9pY2VtYWlsU2VudE1hcCxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZU9wZW4gPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3BlbjogdHJ1ZSB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVDaGFuZ2UgPSBlID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBwaG9uZU51bWJlcjogZS50YXJnZXQudmFsdWUgfSk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3BlbjogZmFsc2UsIGRpc2FibGVWb2ljZW1haWxDbGljazogIXRoaXMuc3RhdGUuaXNWb2ljZW1haWxFbmFibGVkLCB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVWb2ljZW1haWxDbGljayA9IHZvaWNlbWFpbFRlbXBsYXRlID0+IHtcclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5kaXNhYmxlVm9pY2VtYWlsQ2xpY2spIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlkID0gdm9pY2VtYWlsVGVtcGxhdGUuaWQ7XHJcbiAgICBsZXQgdm9pY2VtYWlsQ2xpY2tNYXAgPSB0aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwO1xyXG4gICAgdm9pY2VtYWlsQ2xpY2tNYXAuc2V0KGlkLCB0cnVlKTtcclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgdm9pY2VtYWlsQ2xpY2tNYXAsIGRpc2FibGVWb2ljZW1haWxDbGljazogdHJ1ZSB9LCAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHZvaWNlbWFpbFRlbXBsYXRlLnRlbXBsYXRlTmFtZSwgdGhpcy5zdGF0ZS5pZCk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBbaWRdOiB0cnVlIH0pO1xyXG4gICAgICBpZiAoc2lwVG9nZ2xlTXV0ZSgpID09PSBcIk9LXCIpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiB0cnVlLCBzbmFja01lc3NhZ2U6IFwiTWljIGF1dG8gbXV0ZWRcIiB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiB0cnVlLCBzbmFja01lc3NhZ2U6IFwiRmFpbGVkIHRvIGF1dG8gbXV0ZSBtaWMhXCIgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpZCA9PT0gMCkge1xyXG4gICAgICAgIHNpcFNlbmREVE1GKCcjJyk7XHJcbiAgICAgICAgc2lwU2VuZERUTUYoJzQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIjFzdCBUZW1wbGF0ZVwiKTtcclxuICAgICAgfSBlbHNlIGlmIChpZCA9PT0gMSkge1xyXG4gICAgICAgIHNpcFNlbmREVE1GKCcjJyk7XHJcbiAgICAgICAgc2lwU2VuZERUTUYoJzUnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIjJuZCBUZW1wbGF0ZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzaXBTZW5kRFRNRignIycpO1xyXG4gICAgICAgIHNpcFNlbmREVE1GKCc2Jyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJMYXN0IHRlbXBsYXRlXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnByb3BzLm9uVm9pY2VtYWlsQ2xpY2soKTtcclxuICAgIH0pO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGxldCB2b2ljZW1haWxTZW50TWFwID0gdGhpcy5zdGF0ZS52b2ljZW1haWxTZW50TWFwO1xyXG4gICAgICB2b2ljZW1haWxTZW50TWFwLnNldChpZCwgdHJ1ZSk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxTZW50TWFwLCBpc1ZvaWNlbWFpbEVuYWJsZWQ6IGZhbHNlIH0pO1xyXG4gICAgfSwgMjAwMCk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaGFuZGxlQ2xvc2UoKSwgVk9JQ0VNQUlMX0FVVE9fQ0xPU0VfVElNRU1PVVQpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VTbmFja2JhciA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja09wZW46IGZhbHNlIH0pO1xyXG4gIH1cclxuXHJcbiAgaXNWb2ljZW1haWxBdmFpbGFibGUgPSAoKSA9PiB7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIikgJiZcclxuICAgICAgKHRoaXMuc3RhdGUudm9pY2VtYWlsVGVtcGxhdGVzICYmIHRoaXMuc3RhdGUudm9pY2VtYWlsVGVtcGxhdGVzLmxlbmd0aCA+IDApICYmXHJcbiAgICAgICh0aGlzLnN0YXRlLmlzVm9pY2VtYWlsRW5hYmxlZClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGNsYXNzZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLkFwcH0+XHJcbiAgICAgICAgPFZvaWNlbWFpbFxyXG4gICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmlzVm9pY2VtYWlsQXZhaWxhYmxlKCkgPyBjbGFzc2VzLnZvaWNlbWFpbEJ0biA6IGNsYXNzZXMudm9pY2VtYWlsQnRuICsgXCIgXCIgKyBjbGFzc2VzLmRpc2FibGVCdG59XHJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmlzVm9pY2VtYWlsQXZhaWxhYmxlKCkgPyB0aGlzLmhhbmRsZU9wZW4gOiBlbXB0eUZ1bmN0aW9ufVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPFBvcG92ZXJcclxuICAgICAgICAgIGlkPVwic2ltcGxlLXBvcHBlclwiXHJcbiAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW59XHJcbiAgICAgICAgICBvbkNsb3NlPXt0aGlzLmhhbmRsZUNsb3NlfVxyXG4gICAgICAgICAgYW5jaG9yUmVmZXJlbmNlPVwiYW5jaG9yUG9zaXRpb25cIlxyXG4gICAgICAgICAgYW5jaG9yUG9zaXRpb249e3sgdG9wOiA4MCB9fVxyXG4gICAgICAgICAgUGFwZXJQcm9wcz17e1xyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjNlbVwiLFxyXG4gICAgICAgICAgICAgIHJpZ2h0OiBcIjBcIixcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgICAgICAgIGJvcmRlckxlZnQ6IFwiMnB4IHNvbGlkICNGRkZcIixcclxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xyXG4gICAgICAgICAgICB2ZXJ0aWNhbDogMjAsXHJcbiAgICAgICAgICAgIGhvcml6b250YWw6IDIwXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgdHJhbnNmb3JtT3JpZ2luPXt7XHJcbiAgICAgICAgICAgIHZlcnRpY2FsOiAyMCxcclxuICAgICAgICAgICAgaG9yaXpvbnRhbDogMjBcclxuICAgICAgICAgIH19PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnBvcE92ZXJ9PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBwYWRkaW5nTGVmdDogXCI0JVwiLCBtYXJnaW5Ub3A6IFwiNSVcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9fT5cclxuICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuaGVhZH0+Vk9JQ0VNQUlMPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgIDxDbG9zZSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsb3NlfSBjbGFzc05hbWU9e2NsYXNzZXMuY2xvc2VJY29ufSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAge3RoaXMuc3RhdGUudm9pY2VtYWlsVGVtcGxhdGVzLm1hcCh2b2ljZW1haWxUZW1wbGF0ZSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5kaXNhYmxlVm9pY2VtYWlsQ2xpY2sgPyBjbGFzc05hbWVzKGNsYXNzZXMuZGlzYWJsZWRWb2ljZW1haWxCb3gsY2xhc3Nlcy52b2ljZW1haWxCb3gpIDogY2xhc3Nlcy52b2ljZW1haWxCb3h9IGtleT17dm9pY2VtYWlsVGVtcGxhdGUuaWR9PlxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUudm9pY2VtYWlsQ2xpY2tNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMudm9pY2VNYWlsSWNvbixjbGFzc2VzLmljb24pfT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxWb2ljZW1haWwgY2xhc3NOYW1lPXtjbGFzc2VzLnZvaWNlbWFpbEJ0bn0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUudm9pY2VtYWlsU2VudE1hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy52b2ljZW1haWxQcm9ncmVzc1BhcmVudCxjbGFzc2VzLmJhc2VJY29uU2l6ZSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgY2xhc3NOYW1lPXtjbGFzc2VzLnZvaWNlbWFpbFByb2dyZXNzfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMudm9pY2VtYWlsU2VudEljb24sY2xhc3Nlcy5pY29uKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8RG9uZSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy52b2ljZW1haWxTZW50QnRuLGNsYXNzZXMudm9pY2VtYWlsQnRuKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy52b2ljZW1haWxUZXh0fSBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZVZvaWNlbWFpbENsaWNrKHZvaWNlbWFpbFRlbXBsYXRlKX0+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUudm9pY2VtYWlsQ2xpY2tNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsIG9wYWNpdHk6IDAuNjUgfX0+U2VuZDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLCBvcGFjaXR5OiAwLjY1IH19PlNlbmRpbmc8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudm9pY2VtYWlsQ2xpY2tNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiBcIiM1REFBRTBcIiwgb3BhY2l0eTogMC42NSB9fT5TZW50PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvciB9fT57dm9pY2VtYWlsVGVtcGxhdGUudGVtcGxhdGVOYW1lfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxNb3JlVmVydCBzdHlsZT17eyByaWdodDogXCIzJVwiLCBwb3NpdGlvbjogXCJmaXhlZFwiLCB9fSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9Qb3BvdmVyPlxyXG4gICAgICAgIDxTbmFja2JhclxyXG4gICAgICAgICAgYW5jaG9yT3JpZ2luPXt7XHJcbiAgICAgICAgICAgIHZlcnRpY2FsOiAnYm90dG9tJyxcclxuICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIGtleT17dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2V9XHJcbiAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLnNuYWNrT3Blbn1cclxuICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezIwMDB9XHJcbiAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICBDb250ZW50UHJvcHM9e3tcclxuICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCcsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgbWVzc2FnZT17PHNwYW4gaWQ9e3RoaXMuc3RhdGUuc25hY2tNZXNzYWdlfT57dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2V9PC9zcGFuPn1cclxuICAgICAgICAgIGFjdGlvbj17W1xyXG4gICAgICAgICAgICA8SWNvbkJ1dHRvblxyXG4gICAgICAgICAgICAgIGtleT1cImNsb3NlXCJcclxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2VcIlxyXG4gICAgICAgICAgICAgIGNvbG9yPVwiaW5oZXJpdFwiXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNsb3NlfVxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxDbG9zZUljb24gLz5cclxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPixcclxuICAgICAgICAgIF19XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgVm9pY2VtYWlsV3JhcHBlciA9IHdpdGhTdHlsZXMoc3R5bGVzKShLZXlQYWQpO1xyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe1xyXG5cclxuICBjYWxsU3RhdGU6IHN0YXRlLmNhbGxTdGF0ZVxyXG59KVxyXG5cclxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZGlzcGF0Y2ggPT4gKHtcclxuICAvLyBjaGFuZ2VDYWxsU3RhdGU6IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZUNhbGxTdGF0ZShkYXRhKSkpXHJcbiAgY2hhbmdlQ2FsbGVyOiBkYXRhID0+IChkaXNwYXRjaChjaGFuZ2VDYWxsZXIoZGF0YSkpKVxyXG59KVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXHJcbiAgbWFwU3RhdGVUb1Byb3BzLFxyXG4gIG1hcERpc3BhdGNoVG9Qcm9wcyxcclxuKSh3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoVm9pY2VtYWlsV3JhcHBlcikpXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL1ZvaWNlbWFpbFdyYXBwZXIuanMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDNEFBQUF1Q0FZQUFBQlh1U3MzQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQmw1SlJFRlVhSUhGbWw5c1U5Y2R4eisvNnh1N09JN3lGNXJRMHRqQUpwN1cwQ0d4ZjJLRzduMGdEWkJhV0wxTm1zUVQyUjZtU2FVU0UzVGRIcWJDdzZROVRDSXQyY1BTaDZUYXc1NUczSC9xV2xTUmRCSWIwbHJITENNZUJJaEo0c1QyOWYzdHdYK0k3ZXMvMXc3d2Zibys5L3p1K1p6Zi9aMXpmdmNjQzIwcU1obnJzUzNQZDIxMEJOV3dLRUdFWUZrbFpVNkZPVVNpQmpKam1MbjN4bzZFbHRwcFYxbzFmUG5QOFZjRVBTekM0VmJzVlpsU1pPcFB4NGZmYXNYZUZYaGtNdFpqV2NacHNUVlM1ZFZXcGN5cElXT21hVjkwOHhhYUJqL3hUaXdzdGx6YU5PQktLWE5xNkkvR2o0YWl6VlJ2Q0I2WmpQWGtzc2Fib0pIMjZacVF5b1hMeDRkLzFxaGFYZkRJWkt6SHlzcTB3TWpta1RXV3dvelpvUWZyaFk1UjY4WkxFN0dSSndFTklEQmlaV1g2cFlsWXpiWWRQZjZrUEYycGVwNDNLd3ZhaFI3dThYSnlieDlmR2ZBaHdId3l5MS8rbGVUam02dXVuMVgwUExDMzhsNVZxT1N5eHB0TzBQMStEd1ArcW42V2FYZS9qMWNQRHZMVkFqVEFzOTBkbk5vL3dBOWY2SE1OWG9RL01SRzdVQmY4eER1eHNOUHMwZS8zY09iZ0VHY09EZEs3eGVQWWdHbkF6Nyt6amFkTTUvSCt2VjFkZk91NXpoYmg1WFNlelFFOE1obnJFVnN1T1JtZTJyK1ZmcitIdmkwZVhqczA1QWkvZDd1ZmdMZm1XQWNndkxPckpYQUFzZVZTWkRMV1V3VnVaUml0dGJqODRaTkY3cTNsQUJqd084UHY2UFkyYlB6WjdvNFdzUUVoYUdVWUxmNHNnWXZJNlZvMml5bUw4MWNTZGVIZmo2MlFYTS9WYmRzMFdrNk44b3pJSzhWckErRGtSQ3dDOU5TMG9ESDhZc3JpM0hTaUlYeGJFb0lGMXBMSG04cndHc0hmWG5rTThBVld5ZWNpY3QrTjVZRGY1TXloUWZwSzNzNXg3c29DOXdzZDJoWXdlZTNnSU4xUGxZK0RkVXY1NmVUTnRzazlIZHByV0JuQ2phdVc2MGw3M3NvUU5taHhoV3dXL2tIYTNqVGdEUm94Uk54N3ZLaGE4TVVRdWIxaThmb2pnQmNoYktBeTNNNURuT0RQYklqdmhlWHNwc01yMG0xc3hoZk5Zc3JpZzdtVjB1K25BNll6L0NiRnZNQkkvYXpKUVQvZTE4OWdvSVBrZW83Zi8vMU9xVHliMDdKNlJmanpoVUc2c0p6bHQrLy9yNnpPTjNaMGNtaFhQZzE0KzlwZDVwUFpwam5xSnhjT0d2Q2I3Tm5xWTk4ei9yTHkvejZvYnJUUzgzZFdyYkw3Ty91ODdObnFZODlXbjFzTTkrQkZRSStSejcyTHVuWXJ4VXFtT280cjRUZHFaMThlT0tkd3k2SGo5V1FvR25kamNPMVdxblI5SUJRb1hkc0t2L3ZnTnV1V1Z0azR3UnNDUTEzNXBPc2ZpVFhzYXJPYVV0VlpRMkRPRGZqMTIrc2xyNys0cTR0ZzcwT3ZmM0V2emEvK3RzQ1ZMNWF4TmQrWjRsdW9oTGNWZnZOZWdsUldpWDY1VXQxUUhZbXc1UG5hRDBhREl1SnFMbitRenJGL1J5Y2k4UHlRbncvblZzZ1VCdWR5Mm1abVlZMnA2MG1tcmlmNWREN0ZONThMNERPRmdOZmc2OC80K1hRK1JkcFNIcVJ0WmhaUzNGaE11d0pYNVMwRG1IRmxCVnlkVC9GUlBQOE4yYmZGdzlrWGh4anNjcDZnN3F4YS9IbzY3MWw0NlBrdVgzNTR1WmxKTm1qRzg4TExvd20xNVpkdUxUOVByTEc3ejhlMmdFbW4xeUFjNnFMVGE1QmN6NUhLMm1VeDIrRVJPbjBlUW9Xd0NuZ045bTczODhsL1ZrdHZ5bzFNTDZjRTRPUkViQXJrKzI0ZklBSS8yZGZQZ1dDZ3JOeFdXRnkxV00zYURQak5rbmNyZGF1d01DMjdXbFgxM2N2SFFvZUxUNXh5Q3cyZ0NuKzhlcGV4eis2eGxuM29PVVB5cVcybzExc0duYzRwSDhZZmVubDdWd2V2YmdpYkpqVUZHemFFVGt6RTVvVFc4NVlPai9EdDRVNUN2VDUyOS92WVVmaStYTXNxSDhWWCtPZWRkVDVQckpHMmxOMzlQbjV4NE9uU2prQ3pubGMwUG40c0ZJU05DNUF5MWlvMDVKZjg2SmNyWFByc0xuKzlrU3lWTHl4bmVmdmFQYTRXWmhLQWY5OU44MFkwVVpyem0vVzhDS1g5bFZKTjA4c0Z0NHRSTzRyZHovQkdORkVLc1Vid2lzWXZIdzFWZzQ4ZENTMGhQSjZ0NUlKaTl6TzgzaXg4QlZ0WmpmR2pvYWlxdG5TMDBhcHVMdVhoVndzcnJDQm94UXlwNk1YS0RmK3FycGxlUmxWMTloR3lWdW5tVW9iejB3bHVMS1k1ZDJXaExGbFQxZG54WTZIUlNwdmEyOHdab2lMeS9DUGtiU2hWblRXOWhKMjJtUjFId3RpUjBKSXRSQjYzNXpkS1ZXZHRJVkxyVktMeFVjb1Q4SHc5VHhmVjFPR1ZsZVdzVUh0dmNUT2w2RVdubUs2VXErTkNsTEYyVnRkNlVqU09FTm0wNDhLTktvVE9LRUprc3pxZ2FCeGxiUHg0Nkt3YnU1YjNmUXU3cG9kYnlTcnowbmVCcWN2SFFpMmxHdTF0V0ZONkMyRmdSSVN3UXJEeWJhanFyQWhMcWtTQkdkTkx0TjAvSWZ3ZjBoc0RKcjh5bTljQUFBQUFTVVZPUks1Q1lJST1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Fzc2V0cy9taWNfb2ZmLnBuZ1xuLy8gbW9kdWxlIGlkID0gNjEyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDNEFBQUF1Q0FZQUFBQlh1U3MzQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQksxSlJFRlVhSUhObVcySVZGVVl4My9QbmRsVlM1Q2RPZGUzUUZRU0xXd3hCVVBNelRRUVV3UHhaZW1qbGhEMEpmUkRVR1p2UlBqSmlNZ1BGU3JSRjVXQ2tMS29WSktGdEF4cFV6RmNYNkMyM1h0bmQxYTNuTTJaKy9UaDd1cTZPM2Z1bWRtZEhmOXd1VFBuUE05NWZuUG0zSFBPUFk4d0NsTFhuVU1RTE1WeEZxTDZDUEFBTUJXUmVsUzdnQzZnRS9pUklEaEtWOWRQQXNGSVlrckZzTWJNQlo0SDFpRXl0enhuN1FhT0VBU2YwdFgxZlNVL29teHdOV1l0c0IyUko4djFqZERmQk1ISFpETHZDT1JzbmF6QnRhR2hrVVRpZlVTZXFJd3ZMb0QrZ1VpemVONnZOdVpPYkh1UVVOZmRTU0x4UzlXZ0FVVG1vSHBLMCttWDFhSkRTeHFvNjA0RXZnWWVIeTArSzZrZXdmZWJCZjZOTW9rRVY3Z1BZMzVBNUxIcTBNVkk5UXo1L0VySlpyUEZxb3NPRllWNlhQZmJta0VEaUN3a21meEdZWHl4Nm1IZ0NnN0dIQUtXVmgwdVRpS0xjZDNQaTQzNTRUMmVUcitKeUROakFtYW4xUmp6K3REQ3UzNUovNkxTaWtoeXpMQnNwS3JBQ3ZIOTR3TkZkL2U0eUw1N0RocEFSQkQ1U0NFeFVIUWJYRjEzQzdDa0ptQjJlcEIwK29XQkx3S2dJTGp1SldCV3piQnNwSG9OMzU4cG9HR1BHL00wOXpvMGdNZ01VcWxWY0dlb3ZGUkRuUExrT0ZzQVJHRTh4dnlEU095K0pWS3paOE84ZVRCNU1reVpFdDZuVG9WY0R0cmE3bHpuenNHTkd5TURWKzNCOTlOSmpGbFNFYlF4c0drVGJOZ0FqWTMyZmgwZGNQbzBIRGdBSjA2VUhSYVJTUml6VE5SMWR3SnZXenMyTnNLMmJiQitQZFRYbHg5NHNDNWVoTDE3NGVCQnVIV3JITTlYUlkzNUVwRjFzYVoxZGJCbkQyemVYREZucE5yYXduYXZYYlAxT09RQTA2eE10MjZ0RGpTRXo4aXVYZVY0UEpRRVhDdlQ1dWJvdXRaVzJMOGZUcDZFSzFjZ0dQSUthUXpNbncrTEZzR09IWkFzc2ppdlhoMlc1L00yTkpORlhiY1h1TCtrMmJoeGNQVXFPRVdlNFZ3dTdERzdnSEQ0TURRMUZhOXJhb0lMRitMYlVBMGNJSDV2a2s0WGh3Ym83TFNIQm1odmo2NXJhTEJ1eGdHS3ZtSGNwVkpnZFhYV3dRQ1lNQ0c2VHF6ZjNUc2NWRE94WnBrTXFCYXZNNmFjZ09FQ0ZhV2JOMjFiYVU4aWNnNTR1S1Jab1JDTzhaa3pJWnVGUzVmQ3E2MHR2Q2VUOXZQd3hvMHdmVHBNbXhiZUIzKzJudzdiUlkxNURaRzNZazFuelFxaHU3dHRHNittZGlkUmJiSDZxeTlmcmo2T3JRcUZZNktRd0hWN2lKc1M3eFdwNXZIOWlZNUFBZmlxMWp4bHFFV2dMNXljQzRWUGFneGpMNUVQWWZDcm16RlhFSmxSVzZvWXFmNko3ODhRQ0J3QUFVWGtqVnB6V2VpOWdiUDBvZWNxWnhCNXREWk1NVkk5ais4dkVQZ1BocCtyUElmcWlGSWNWWkZxUUQ3LzdBQTBEQUh2UDFTUFg0ekdXcXJ2U2paN2RuRFJzSlduLzlEek9DTEx4bzZzcEk3aWVXdUc1b21HN1ZYN0RkYWcrdnVZb1VWSjlXYzhiMzJ4NUZiUlRiYjQvZzF5dVJWQWE5WGhvdlViaGNKVFVRbXR5R01KNmUzdEJKYWdXb3RWOVN4OWZjdWx1N3NueXFEa2VZcDRYaSsrdnhiVkhVRGZxT01WMXdkNDNtSzVmcjJySkp0dGF6cHAwbXpxNnZaWDdhRlZQUSs4S0w1L3pNYTgvQVJ0S3JVUngzbGwxQmFxTUwrNUc4L2JWMDZHZVNRcDhlWEFkbUFWSXVVZGFhbjJJUElGUWZDWlpETGZWUksvWXZEYkRHRmFjU1d3QmxnQXBCQkpvWm9pN01FTzRDL2dJbkFHa1ZONFhrdi9kcnBpL1ErMFgzOWNYSVY2RHdBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Fzc2V0cy9oYW5nLXVwLnBuZ1xuLy8gbW9kdWxlIGlkID0gNjEyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9