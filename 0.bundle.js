webpackJsonp([0],{6075:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(29),m=n(p),f=a(21),h=n(f),g=a(8),v=n(g),y=a(372),b=n(y),C=a(68),E=a(67),S=a(344),w=a(24),x=a(66),O=n(x),k=a(41),D=a(357),I=n(D),T=a(6090),N=n(T),P=a(6118),A=n(P),j=a(337),M=n(j),R=a(69),F=n(R),B=a(91),_=n(B),L=a(164),H=n(L),U=a(341),V=n(U),W=a(340),z=n(W),Y=a(171),K=n(Y),G=a(183),q=n(G),X=a(358),J=a(351),Q=n(J),Z=a(359),$=n(Z),ee=a(6119),te=n(ee),ae=a(6085),ne=n(ae),oe=a(53),re=a(170),ie=n(re),le=a(43),se=a(191),ce=n(se),ue=a(192),de=n(ue),pe=(a(373),void 0),me=function(e){return{appFrame:{display:"flex",flexDirection:"row",maxHeight:"100vh"},root:{backgroundImage:e.palette.background.main,width:"93.75vw",marginRight:"auto",marginLeft:"auto",alignItems:"center",paddingBottom:"0",justifyContent:"center",fontFamily:e.font.title.fontFamily},hangUpIconIng:{height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",cursor:"pointer"},callText:{marginLeft:".5rem",color:e.palette.primary.main,fontFamily:e.font.title.fontFamily,fontSize:"1rem"},dialpadIcon:{height:"calc(1.6vh + 1.6vw)",paddingRight:"1rem"},dialpadIconImg:{height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)"},voiceMailIcon:{height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)",cursor:"pointer",background:"#5DAAE0",borderRadius:"50%",textAlign:"center",padding:"1px"},gridAccount:{marginRight:".2em"},gridAccountImg:{height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",backgroundColor:e.palette.secondary.main,color:e.palette.primary.main,borderRadius:"50%"},status:{fontSize:".7rem",color:"white",zIndex:"6"},duration:{marginRight:".6rem",color:e.palette.primary.main},customerName:{fontFamily:e.font.title.fontFamily,fontSize:"1.78rem",color:e.palette.secondary.main,lineHeight:"2.05rem"},customerNumber:{fontFamily:e.font.title.fontFamily,fontSize:".8rem",color:e.palette.secondary.main},transcriptBox:{height:"86.50vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main,position:"relative"},transcriptTitle:{fontSize:"1.2rem",color:e.palette.primary.main,paddingLeft:"1rem",opacity:.65,paddingTop:".5rem",position:"absolute",fontFamily:"Roboto"},transcriptTextParent:{whiteSpace:"pre-line",marginTop:"3rem",overflowY:"auto",height:"85%",padding:"8px 8px 8px 0px",fontFamily:"Roboto",marginLeft:"1rem",width:"100%",wordWrap:"break-word"},next:{top:"51.4%",height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)",right:.25*e.spacing.unit,position:"absolute",zIndex:"2",opacity:1,boxShadow:"none",backgroundColor:"transparent","&:hover, &$focusVisible":{opacity:1,backgroundColor:e.palette.secondary.main}},prev:{top:"51.4%",position:"absolute",height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)",zIndex:"2",boxShadow:"none",opacity:1,marginLeft:"-0.5rem",backgroundColor:"transparent","&:hover, &$focusVisible":{opacity:1,backgroundColor:e.palette.secondary.main}},hangUpButton:{height:"calc(1.53vh + 1.53vw)",width:"2.66666665rem"},hangUpButtonImg:{height:"2.666665rem",width:"2.66666665rem"},dropDownIcon:{color:e.palette.secondary.main},dropDown:{color:e.palette.cardBackground.main},micOffIconImg:{cursor:"pointer",height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)"},micOffIcon:{display:"flex",alignItems:"center",justifyContent:"center",height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",color:"white"},calledContactName:{fontSize:".76rem",color:"white",lineHeight:"normal"},calledToContactDiv:{width:"80%"},transcriptBoxParent:{paddingBottom:"0px !important",borderRadius:"4px"},arrowIcon:{color:e.palette.primary.main,opacity:1,"&:hover, &$focusVisible":{opacity:1},height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)",top:"51.4%"},disabledArrowicon:{color:e.palette.primary.main,height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)",opacity:.25},disabledFab:{boxShadow:"none",backgroundColor:"transparent !important"},closeStyle:{position:"fixed",top:"1%",left:"50%",color:"#fff",fontSize:48,cursor:"pointer"},customerHistoryModal:{position:"absolute",width:"45%",height:"100%",bottom:"0",overflowWrap:"break-word",overflowY:"auto",boxShadow:e.shadows[5],paddingLeft:"1%",backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main,left:"4.2%"},actionIcon:{fontSize:"2rem",color:e.palette.primary.main},actionButton:{height:"4.166vw",borderRadius:"0px",width:"4.166vw"}}},fe=function(){for(var e=[],t={product:"hello",region:"America",amount:"5",saleDate:"09/09/1996",customer:"Balraj"},a=0;a<1e3;a++)e.push(t);return e}(),he=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.scrollToBottom=function(){var e=document.getElementById("live-transcription-grid");e&&(document.getElementById("live-transcription-grid").scrollTop=e.scrollHeight)},a.openContactDropdown=function(){1==a.state.contactOpen?a.setState({contactOpen:!1}):a.setState({contactOpen:!0})},a.toggleContactPopover=function(e){a.setState({contactOpen:e})},a.getFormattedDuration=function(){var e=a.state.callDuration++,t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),o=Math.floor(e-3600*t-60*n);return n<10&&(n="0"+n),o<10&&(o="0"+o),n+":"+o},a.openVoicemail=function(){a.setState({isVoicemailOpen:!a.state.isVoicemailOpen})},a.closePopTimeline=function(){a.setState({popTimeline:!1})},a.openPopTimeline=function(e){a.setState({popTimeline:!0,popType:e})},a.getTimeline=function(e){var t=(a.props.classes,""),n="",o="";if("PAYMENT_HISTORY"===e&&(t=a.state.customer.payments,n="RECENT PAYMENTS",o="No Payments in Last 30 Days"),"COMM_HISTORY"===e){t=a.state.communication,n="COMMUNICATION HISTORY",o="No Communication History";for(var r in t){var i=t[r].type.toUpperCase();if("CALL"==i){var l=t[r].call.status;t[r].commType="-100"==l?"VOICEMAIL":"CALL"}else"CORRESPONDENCE"==i&&(t[r].commType="MAIL",t[r].customerName=a.state.customer.customerName)}}return u.default.createElement("div",null,("COMM_HISTORY"==e||"PAYMENT_HISTORY"==e)&&u.default.createElement($.default,{popType:e,events:t,mainHeader:n,noEventMsg:o}))},a.toggleMute=function(){a.setState({isMuted:!a.state.isMuted}),(0,C.sipToggleMute)()},a.setDuration=function(){0===a.state.callDuration&&(pe=setInterval(function(){"Connected to"===a.props.callState.status&&a.setState({callDurationInFormat:a.getFormattedDuration()})},1e3))},a.clearIntervalOnHangup=function(){clearInterval(pe)},a.hangUp=function(){(0,C.sipHangup)()},a.openVoicemail=function(){a.setState({isVoicemailOpen:!a.state.isVoicemailOpen})},a.switchToCallPrepPage=function(){a.setState({callPrepPage:!0})},a.switchToCallInCallPage=function(){a.setState({callPrepPage:!1})},a.handleVoicemailMessage=function(){var e=void 0,t=a.calledToFirstName+" "+a.calledToLastName;e="Unknown "===t||"Unnamed Unnamed"===t?a.props.location.state.calledToNumber:t;var n="Voicemail Played for "+(e||"")+"\n";a.setState({voicemailPlayedMessage:n})},a.myRef=u.default.createRef(),a.props.changeStatus({status:""});var n=void 0,l=void 0;console.log(a.props.location.state,"in call state"),null!=a.props.location.state.contactIndex?(console.log("first one"),console.log(a.props),n=a.props.location.state.contactIndex,l=a.props.location.state.customer.contacts[n].id,a.calledToNumber=a.props.location.state.calledToNumber,a.calledToFirstName=a.props.location.state.customer.contacts[n].firstName,a.calledToLastName=a.props.location.state.customer.contacts[n].lastName,a.emailOfCalled=a.props.location.state.customer.contacts[n].email):(console.log(a.props),console.log("second one"),l=a.props.location.state.contactId,a.calledToNumber=a.props.location.state.calledToNumber,a.calledToFirstName=a.props.location.state.calledToFirstName,a.calledToLastName=a.props.location.state.calledToLastName,a.emailOfCalled=a.props.location.state.emailOfCalled),console.log("Email of called",a.emailOfCalled),a.calledToFullName=a.calledToFirstName+" "+a.calledToLastName,"Unknown "!==a.calledToFullName&&"Unnamed Unnamed"!==a.calledToFullName||(a.calledToFullName=a.calledToNumber);var s=a.props.location.state,c=a.props.customers.customers.filter(function(e){return e.id==s.accountId});return a.props.callLog({status:"",contact:{id:l},calledToNumber:a.calledToNumber,contactId:l,calledTo:a.props.location.state.calledTo,startDateTime:new Date}),(0,le.disableFredaInCall)(),(0,C.sipCall)(a.calledToNumber,a.props.user,c,s.customer,a.props.location.state.invoices),a.state=o({loading:!1,voicemailPlayedMessage:"",redirect:!1,callPrepPage:!1,customer:a.props.location.state.customer,communication:a.props.location.state.communication,callDuration:0,callDurationInFormat:"",transcription:"",summary:"[]",contactOpen:!1,columns:[{name:"product",title:"Product"},{name:"region",title:"Region"},{name:"amount",title:"Sale Amount"},{name:"saleDate",title:"Sale Date"},{name:"customer",title:"Customer"}],currencyColumns:["amount"],pageSizes:[5,10,15],rows:fe,invoices:a.props.location.state.invoices,isVoicemailOpen:!1},"transcription",""),console.log(a.props.location.state.invoices,"in incall usual flow"),a}return l(t,e),s(t,[{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props.transcription.transcription,n=e.transcription.transcription;n!==a&&(console.log("Auto Scrolling"),this.setState({transcription:n},function(){t.scrollToBottom()})),this.setState({invoices:e.location.state.invoices})}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUpdate",value:function(e){}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.classes,i=n.theme;parseInt(this.props.match.params.id,10),parseInt(this.props.match.params.id,10),i.palette.primary.main;return"Connected to"===this.props.callState.status&&this.setDuration(),u.default.createElement("div",{className:r.appFrame},u.default.createElement(K.default,{topItems:(0,X.getMenuItems)(r,i,this.openPopTimeline)}),u.default.createElement(ie.default,null),!0===this.props.callState.calling&&u.default.createElement(M.default,{onSwipeLeft:this.switchToCallPrepPage,onSwipeRight:this.switchToCallInCallPage},u.default.createElement("div",{className:r.root},u.default.createElement(F.default,{open:this.state.popTimeline,disableAutoFocus:!0,onClose:this.closePopTimeline},u.default.createElement("div",null,u.default.createElement("div",{className:r.customerHistoryModal},this.getTimeline(this.state.popType)),u.default.createElement(O.default,{classes:{root:r.closeStyle},onClick:this.closePopTimeline}))),u.default.createElement("div",null,!0===this.props.callState.calling&&u.default.createElement("div",null,u.default.createElement(H.default,{"aria-label":"Add",className:r.prev,classes:{disabled:r.disabledFab},size:"small",disabled:this.state.callPrepPage,onClick:this.switchToCallPrepPage},u.default.createElement(z.default,{className:this.state.callPrepPage?r.disabledArrowicon:r.arrowIcon})),u.default.createElement(H.default,{"aria-label":"Add",classes:{disabled:r.disabledFab},className:r.next,disabled:!this.state.callPrepPage,size:"small",onClick:this.switchToCallInCallPage},u.default.createElement(V.default,{className:this.state.callPrepPage?r.arrowIcon:r.disabledArrowicon}))),!0===this.props.callState.calling&&u.default.createElement(m.default,{container:!0,xs:12,justify:"space-between",alignItems:"flex-start",style:{marginTop:"1.12vh"}},u.default.createElement(m.default,{item:!0,xs:5,style:{paddingLeft:"0px",paddingRight:"0px"}},this.state.customer.customerName.length<20?u.default.createElement(h.default,{noWrap:!0,className:r.customerName}," ",this.state.customer.customerName):u.default.createElement(_.default,{title:this.state.customer.customerName},u.default.createElement(h.default,{noWrap:!0,className:r.customerName}," ",this.state.customer.customerName)),u.default.createElement("div",{className:r.customerNumber},this.state.customer.customerNumber)),u.default.createElement(m.default,{item:!0,container:!0,sm:6,lg:6,md:6,xl:5,alignItems:"center",justify:"flex-end"},u.default.createElement(m.default,{item:!0,container:!0,lg:8,md:10,xl:10,alignItems:"center",justify:"flex-end",style:{marginRight:"8.333vw"}},u.default.createElement(m.default,{item:!0,container:!0,sm:9,lg:9,md:9,xl:9,alignItems:"center",justify:"space-between",className:r.callGrid},u.default.createElement(m.default,{container:!0,item:!0,lg:7,md:7,xl:7,style:{cursor:"pointer"},onClick:this.openContactDropdown,justify:"flex-start",alignItems:"center"},u.default.createElement(m.default,{item:!0,className:r.customerIconCircle},"Unnamed"===this.calledToFirstName&&"Unnamed"===this.calledToLastName&&u.default.createElement("span",null,"?"),"Unnamed"!==this.calledToFirstName&&"Unnamed"!==this.calledToLastName&&u.default.createElement("span",null,this.calledToFirstName.toUpperCase().charAt(0)+this.calledToLastName.toUpperCase().charAt(0))),u.default.createElement(m.default,{item:!0,lg:7,md:7,xl:7,className:r.callText},u.default.createElement(h.default,{variant:"span",noWrap:!0,className:(0,v.default)(r.status)},this.props.callState.status),u.default.createElement("div",{className:r.calledToContactDiv},u.default.createElement(h.default,{noWrap:!0,className:r.calledContactName},this.calledToFullName))),u.default.createElement(m.default,{item:!0,className:r.dropDown,align:"right"},u.default.createElement(q.default,{className:r.dropDownIcon})),u.default.createElement(m.default,{item:!0,className:r.contactIcon},u.default.createElement(b.default,{dataFromChild:this.toggleContactPopover,contactOpen:this.state.contactOpen,openContacts:!1,contacts:this.state.customer.contacts,customer:this.state.customer,invoices:this.state.invoices,bucketNames:this.props.location.state.bucketNames,nextCustomerUrl:this.nextUrl,toCallCustomers:this.props.location.state.toCallCustomers}))),u.default.createElement(m.default,{container:!0,item:!0,lg:5,md:5,xl:5,alignItems:"center",justify:"flex-end"},u.default.createElement(m.default,{className:r.duration},this.state.callDurationInFormat),u.default.createElement(m.default,{item:!0,className:r.micOffIcon},this.state.isMuted&&u.default.createElement("img",{className:r.micOffIconImg,src:"/tovo/static/unmute.svg",onClick:this.toggleMute}),!this.state.isMuted&&u.default.createElement("img",{className:r.micOffIconImg,src:a(6120),onClick:this.toggleMute})),u.default.createElement(m.default,{item:!0,align:"right",className:r.hangUpButton},u.default.createElement("img",(e={className:r.hangUpButtonImg,onClick:this.hangUp},o(e,"className",r.hangUpIconIng),o(e,"src",a(6121)),e))))),u.default.createElement(m.default,{item:!0,className:r.dialpadIcon},u.default.createElement(Q.default,{className:r.dialpadIconImg,customer:this.state.customer})),u.default.createElement(m.default,{item:!0,className:r.voiceMailIcon},u.default.createElement(te.default,{customer:this.state.customer,onVoicemailClick:function(){return t.handleVoicemailMessage()}}))))),!0===this.props.callState.calling&&!1===this.state.callPrepPage&&u.default.createElement("div",{style:{marginTop:"2.037vh"}},u.default.createElement(m.default,{container:!0,xs:12,alignItems:"flex-start",justify:"center",style:{marginLeft:"0px"}},u.default.createElement(m.default,{item:!0,xs:8,align:"left",style:{paddingTop:"0",paddingRight:"1.041vw"}},this.state.invoices&&u.default.createElement(A.default,{collector:this.props.user,emailOfCalled:this.emailOfCalled,customer:this.state.customer,invoices:this.state.invoices,bucketNames:this.props.location.state.bucketNames})),u.default.createElement(m.default,{item:!0,container:!0,xs:4,className:r.transcriptBoxParent},u.default.createElement(m.default,{item:!0,xs:12,container:!0,className:r.transcriptBox},u.default.createElement("span",{className:r.transcriptTitle},"CALL TRANSCRIPT"),u.default.createElement("div",{id:"live-transcription-grid",className:r.transcriptTextParent},u.default.createElement(ne.default,{transcription:this.state.transcription,calledToNameInitials:(0,oe.getInitialsFromName)(this.calledToFirstName+" "+this.calledToLastName),userInitials:"ME"})))))),!0===this.props.callState.calling&&!0===this.state.callPrepPage&&u.default.createElement("div",null,u.default.createElement(I.default,{customer:this.state.customer}))))),!1===this.props.callState.calling&&("Call Failed"===this.props.callState.status||"Wrong Number"==this.props.callState.status||"User Busy"==this.props.callState.status)&&u.default.createElement("div",null,u.default.createElement(k.Redirect,{to:{pathname:"/callprep/"+this.state.customer.id,state:{openContacts:!0,toCallCustomers:this.props.location.state.toCallCustomers}}})),!1===this.props.callState.calling&&u.default.createElement(N.default,{voicemailMessage:this.state.voicemailPlayedMessage,callDuration:this.state.callDuration,toCallCustomers:this.props.location.state.toCallCustomers,nextCustomerUrl:this.props.location.state.nextCustomerUrl,onHangup:this.clearIntervalOnHangup,invoices:this.state.invoices,customer:this.state.customer,calledToName:this.calledToFirstName+" "+this.calledToLastName,bucketNames:this.props.location.state.bucketNames,collector:this.props.user,contactIndex:this.props.location.state.contactIndex,calledToNumber:this.props.location.state.calledToNumber,initialTranscription:this.state.transcription}),!1===this.props.callState.calling&&"Trying to connect"===this.props.callState.status&&u.default.createElement("div",null,u.default.createElement(k.Redirect,{to:{pathname:"/callprep/"+this.state.customer.id,state:{openContacts:!1,toCallCustomers:this.props.location.state.toCallCustomers}}})))}}]),t}(c.Component),ge=function(e){return{user:e.personalDetails,callState:e.callState,transcription:e.transcription,customers:e.customers}},ve=function(e){return{changeCallState:function(t){return e((0,E.changeCallState)(t))},changeStatus:function(t){return e((0,E.changeStatus)(t))},changeTranscription:function(t){return e((0,E.changeTranscription)(t))},callLog:function(t){return e((0,S.addInitialCallLog)(t))}}},ye=(0,ce.default)(me,de.default);t.default=(0,w.connect)(ge,ve)((0,d.withStyles)(ye,{withTheme:!0})(he))},6076:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(71),o=a(92),r=a(184),i=a(93),l=a(185),s=a(187),c=a(120),u=a(188),d=a(186),p=a(189),m=a(360),f=a(361),h=a(362),g=a(363),v=a(364),y=a(365),b=a(366),C=a(190),E=a(367),S=a(368),w=a(369),x=a(370),O=a(371),k=a(119),D=a(94),I=a(44),T=a(121),N=function(){function e(e){var t=(void 0===e?{}:e).locale;this.dateTime12hFormat="MMMM do hh:mm aaaa",this.dateTime24hFormat="MMMM do HH:mm",this.time12hFormat="hh:mm a",this.time24hFormat="HH:mm",this.dateFormat="MMMM do",this.locale=t}return e.prototype.addDays=function(e,t){return Object(n.a)(e,t)},e.prototype.isValid=function(e){return Object(C.a)(e)},e.prototype.getDiff=function(e,t){return Object(i.a)(e,t)},e.prototype.isAfter=function(e,t){return Object(g.a)(e,t)},e.prototype.isBefore=function(e,t){return Object(v.a)(e,t)},e.prototype.startOfDay=function(e){return Object(k.a)(e)},e.prototype.endOfDay=function(e){return Object(s.a)(e)},e.prototype.getHours=function(e){return Object(m.a)(e)},e.prototype.setHours=function(e,t){return Object(S.a)(e,t)},e.prototype.setMinutes=function(e,t){return Object(w.a)(e,t)},e.prototype.getSeconds=function(e){return Object(f.a)(e)},e.prototype.setSeconds=function(e,t){return Object(x.a)(e,t)},e.prototype.isSameDay=function(e,t){return Object(b.a)(e,t)},e.prototype.getStartOfMonth=function(e){return Object(D.a)(e)},e.prototype.getYear=function(e){return Object(h.a)(e)},e.prototype.setYear=function(e,t){return Object(O.a)(e,t)},e.prototype.date=function(e){return void 0===e?new Date:null===e?null:new Date(e)},e.prototype.parse=function(e,t){return""===e?null:Object(E.a)(e,t,new Date)},e.prototype.format=function(e,t){return Object(p.a)(e,t,{locale:this.locale})},e.prototype.isEqual=function(e,t){return null===e&&null===t||Object(y.a)(e,t)},e.prototype.isNull=function(e){return null===e},e.prototype.isAfterDay=function(e,t){return Object(g.a)(e,Object(s.a)(t))},e.prototype.isBeforeDay=function(e,t){return Object(v.a)(e,Object(k.a)(t))},e.prototype.isBeforeYear=function(e,t){return Object(v.a)(e,Object(T.a)(t))},e.prototype.isAfterYear=function(e,t){return Object(g.a)(e,Object(d.a)(t))},e.prototype.formatNumber=function(e){return e},e.prototype.getMinutes=function(e){return e.getMinutes()},e.prototype.getMonth=function(e){return e.getMonth()},e.prototype.getMeridiemText=function(e){return"am"===e?"AM":"PM"},e.prototype.getNextMonth=function(e){return Object(o.a)(e,1)},e.prototype.getPreviousMonth=function(e){return Object(o.a)(e,-1)},e.prototype.mergeDateAndTime=function(e,t){return this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t))},e.prototype.getWeekdays=function(){var e=this,t=new Date;return Object(l.a)({start:Object(I.a)(t,{locale:this.locale}),end:Object(u.a)(t,{locale:this.locale})},{locale:this.locale}).map(function(t){return Object(p.a)(t,"EEEEEE",{locale:e.locale})})},e.prototype.getWeekArray=function(e){for(var t=Object(I.a)(Object(D.a)(e),{locale:this.locale}),a=Object(u.a)(Object(c.a)(e),{locale:this.locale}),o=0,r=t,i=[];Object(v.a)(r,a);){var l=Math.floor(o/7);i[l]=i[l]||[],i[l].push(r),r=Object(n.a)(r,1),o+=1}return i},e.prototype.getYearRange=function(e,t){for(var a=Object(T.a)(e),n=Object(d.a)(t),o=[],i=a;Object(v.a)(i,n);)o.push(i),i=Object(r.a)(i,1);return o},e.prototype.getCalendarHeaderText=function(e){return Object(p.a)(e,"MMMM yyyy",{locale:this.locale})},e.prototype.getYearText=function(e){return Object(p.a)(e,"yyyy",{locale:this.locale})},e.prototype.getDatePickerHeaderText=function(e){return Object(p.a)(e,"EEE, MMM d",{locale:this.locale})},e.prototype.getDateTimePickerHeaderText=function(e){return Object(p.a)(e,"MMM d",{locale:this.locale})},e.prototype.getDayText=function(e){return Object(p.a)(e,"d",{locale:this.locale})},e.prototype.getHourText=function(e,t){return Object(p.a)(e,t?"hh":"HH",{locale:this.locale})},e.prototype.getMinuteText=function(e){return Object(p.a)(e,"mm",{locale:this.locale})},e.prototype.getSecondText=function(e){return Object(p.a)(e,"ss",{locale:this.locale})},e}();t.default=N},6077:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"DatePicker",function(){return Ye}),a.d(t,"InlineDatePicker",function(){return Qe}),a.d(t,"TimePicker",function(){return kt}),a.d(t,"InlineTimePicker",function(){return Tt}),a.d(t,"DateTimePicker",function(){return Wt}),a.d(t,"InlineDateTimePicker",function(){return Yt}),a.d(t,"BasePicker",function(){return ie}),a.d(t,"Calendar",function(){return Re}),a.d(t,"Day",function(){return Pe}),a.d(t,"TimePickerView",function(){return Et}),a.d(t,"Clock",function(){return mt}),a.d(t,"MuiPickersUtilsProvider",function(){return te});var n=a(6093),o=a(4),r=(a.n(o),a(0)),i=(a.n(r),a(6094)),l=a.n(i),s=a(350),c=a.n(s),u=a(33),d=a.n(u),p=a(334),m=a.n(p),f=a(325),h=a.n(f),g=a(40),v=a.n(g),y=a(166),b=a.n(y),C=a(168),E=a.n(C),S=a(349),w=a.n(S),x=a(19),O=(a.n(x),a(8)),k=a.n(O),D=a(34),I=a.n(D),T=a(55),N=a.n(T),P=a(343),A=a.n(P),j=a(9),M=a.n(j),R=a(181),F=a.n(R),B=a(21),_=a.n(B),L=a(6095),H=(a.n(L),a(20)),U=(a.n(H),a(86)),V=a.n(U),W=a(31),z=a.n(W),Y=a(42),K=a.n(Y),G=a(335),q=a.n(G),X=a(336),J=a.n(X),Q=Object(r.createContext)(null),Z=Q.Consumer,$=Q.Provider,ee=Z,te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={utils:null},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return{utils:new(0,e.utils)({locale:e.locale,moment:e.moment})}},t.prototype.render=function(){return Object(r.createElement)($,{value:this.state.utils,children:this.props.children})},t.defaultProps={locale:void 0,moment:void 0},t}(r.Component),ae=function(e){if(!e)throw new Error("Can not find utils in context. You either a) forgot to wrap your component tree in MuiPickersUtilsProvider; or b) mixed named and direct file imports.  Recommendation: use named imports from the module index.")},ne=function(){return function(e){var t=function(t){return Object(r.createElement)(ee,null,function(a){return ae(a),Object(r.createElement)(e,Object(n.a)({utils:a},t))})};return t.displayName="WithUtils("+(e.displayName||e.name)+")",t}},oe=function(e){var t=e.utils,a=e.value,n=e.initialFocusedDate,o=a||n||t.date(),r=t.date(o);return t.isValid(r)?r:t.date()},re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={date:oe(t.props),isAccepted:!1},t.changeDate=function(e,a){return t.setState({date:e},a)},t.handleAcceptedChange=function(e,a){return t.setState({isAccepted:e},a)},t.handleClear=function(){return t.props.onChange(null)},t.handleAccept=function(){return t.props.onChange(t.state.date)},t.handleSetTodayDate=function(){return t.handleChange(t.props.utils.date(),!1)},t.handleTextFieldChange=function(e){var a=t.props,n=a.onChange,o=a.utils;a.mergePreviousDateOnChange&&(e=o.mergeDateAndTime(t.state.date,e)),null===e?n(null):t.changeDate(e,function(){return n(e)})},t.pick12hOr24hFormat=function(e,a){var n=t.props,o=n.format,r=n.ampm;return o||(r?e:a)},t.handleChange=function(e,a){void 0===a&&(a=!0);var n=t.props,o=n.autoOk,r=n.onChange;t.changeDate(e,function(){a&&o&&(r(e),t.handleAcceptedChange(!0,function(){return t.handleAcceptedChange(!1)}))})},t.handleDismiss=function(){t.setState({date:oe(t.props)})},t}return Object(n.b)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,a=t.utils,n=t.value,o=t.initialFocusedDate;e.value===n&&e.utils.locale===a.locale&&e.initialFocusedDate===o||this.changeDate(oe(this.props))},t.prototype.render=function(){return this.props.children(Object(n.a)({},this.state,{utils:this.props.utils,changeDate:this.changeDate,handleAcceptedChange:this.handleAcceptedChange,handleClear:this.handleClear,handleAccept:this.handleAccept,handleDismiss:this.handleDismiss,handleSetTodayDate:this.handleSetTodayDate,handleTextFieldChange:this.handleTextFieldChange,pick12hOr24hFormat:this.pick12hOr24hFormat,handleChange:this.handleChange}))},t}(r.Component),ie=ne()(re),le=(Object(o.oneOfType)([o.object,o.string,o.number,Object(o.instanceOf)(Date)]),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.inputRef,a=e.keepCharPositions,o=Object(n.c)(e,["inputRef","keepCharPositions"]);return this.props.mask?Object(r.createElement)(l.a,Object(n.a)({},o,{keepCharPositions:a,ref:t})):Object(r.createElement)("input",Object(n.a)({},o,{ref:t}))},t.defaultProps={mask:void 0},t}(r.PureComponent)),se=function(e){var t=e.utils,a=e.value,n=e.format,o=e.invalidLabel,r=e.emptyLabel,i=e.labelFunc,l=null===a,s=t.date(a);return i?i(l?null:s,o):l?r:t.isValid(s)?t.format(s,n):o},ce=function(e,t){var a=t.utils,n=t.maxDate,o=t.minDate,r=t.disablePast,i=t.disableFuture,l=t.maxDateMessage,s=t.minDateMessage,c=t.invalidDateMessage;return a.isValid(e)?n&&a.isAfter(e,a.endOfDay(a.date(n)))||i&&a.isAfter(e,a.endOfDay(a.date()))?l:o&&a.isBefore(e,a.startOfDay(a.date(o)))||r&&a.isBefore(e,a.startOfDay(a.date()))?s:"":a.isNull(e)?"":c},ue=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.state=t.updateState(a.props),a.commitUpdates=function(e){var n=a.props,o=n.onChange,r=n.clearable,i=n.onClear,l=n.utils,s=n.format,c=n.onError;if(""===e)return void(null===a.props.value?a.setState(t.updateState(a.props)):r&&i&&i());var u=l.date(a.state.value),d=l.parse(e,s),p=ce(d,a.props);a.setState({error:p,displayValue:e,value:p?d:u},function(){p||l.isEqual(d,u)||o(d),p&&c&&c(d,p)})},a.handleBlur=function(e){a.props.keyboard&&(e.preventDefault(),e.stopPropagation(),a.commitUpdates(e.target.value),a.props.onBlur&&a.props.onBlur(e))},a.handleChange=function(e){var t=a.props,n=t.utils,o=t.format,r=t.onInputChange,i=n.parse(e.target.value,o);r&&r(e),a.setState({displayValue:e.target.value,error:ce(i,a.props)})},a.handleFocus=function(e){e.stopPropagation(),e.preventDefault(),a.props.keyboard||a.openPicker(e)},a.handleKeyPress=function(e){"Enter"===e.key&&(a.props.disableOpenOnEnter?a.commitUpdates(e.target.value):a.openPicker(e))},a.openPicker=function(e){var t=a.props,n=t.disabled,o=t.onClick;n||o(e)},a}return Object(n.b)(t,e),t.prototype.componentDidUpdate=function(e){this.props.utils.isEqual(this.props.value,e.value)&&e.format===this.props.format&&e.maxDate===this.props.maxDate&&e.minDate===this.props.minDate&&e.emptyLabel===this.props.emptyLabel&&e.utils===this.props.utils||this.setState(t.updateState(this.props))},t.prototype.render=function(){var e=this.props,t=e.adornmentPosition,a=(e.clearable,e.disabled),o=(e.disableFuture,e.disableOpenOnEnter,e.disablePast,e.emptyLabel,e.format,e.InputAdornmentProps),i=e.InputProps,l=(e.invalidDateMessage,e.invalidLabel,e.keyboard),s=e.keyboardIcon,u=(e.labelFunc,e.mask),p=(e.maxDate,e.maxDateMessage,e.minDate,e.minDateMessage,e.onBlur,e.onClear,e.onClick,e.pipe),f=e.keepCharPositions,h=e.TextFieldComponent,g=(e.utils,e.value,e.onInputChange,Object(n.c)(e,["adornmentPosition","clearable","disabled","disableFuture","disableOpenOnEnter","disablePast","emptyLabel","format","InputAdornmentProps","InputProps","invalidDateMessage","invalidLabel","keyboard","keyboardIcon","labelFunc","mask","maxDate","maxDateMessage","minDate","minDateMessage","onBlur","onClear","onClick","pipe","keepCharPositions","TextFieldComponent","utils","value","onInputChange"])),v=this.state,y=v.displayValue,b=v.error,C={inputComponent:le,inputProps:{mask:l?u:null,pipe:l?p:null,keepCharPositions:l?f:void 0,readOnly:!l}};l&&(C[t+"Adornment"]=Object(r.createElement)(m.a,Object(n.a)({position:t},o),Object(r.createElement)(d.a,{disabled:a,onClick:this.openPicker},Object(r.createElement)(c.a,null," ",s," "))));var E=h,S=Object(n.a)({},C,i);return Object(r.createElement)(E,Object(n.a)({onClick:this.handleFocus,error:!!b,helperText:b,onKeyPress:this.handleKeyPress,onBlur:this.handleBlur,disabled:a,value:y},g,{onError:void 0,onChange:this.handleChange,InputProps:S}))},t.defaultProps={disabled:!1,invalidLabel:"Unknown",emptyLabel:"",value:new Date,labelFunc:void 0,format:void 0,InputProps:void 0,keyboard:!1,mask:void 0,keyboardIcon:"event",disableOpenOnEnter:!1,invalidDateMessage:"Invalid Date Format",clearable:!1,onBlur:void 0,onClear:void 0,disablePast:!1,disableFuture:!1,onError:void 0,onInputChange:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",minDateMessage:"Date should not be before minimal date",maxDateMessage:"Date should not be after maximal date",TextFieldComponent:h.a,InputAdornmentProps:{},adornmentPosition:"end",pipe:void 0,keepCharPositions:!1},t.updateState=function(e){return{value:e.value,displayValue:se(e),error:ce(e.utils.date(e.value),e)}},t}(r.PureComponent),de=ne()(ue),pe=function(e){var t,a,o,i=e.children,l=e.classes,s=e.onKeyDown,c=e.onAccept,u=e.onDismiss,d=e.onClear,p=e.onSetToday,m=e.okLabel,f=e.cancelLabel,h=e.clearLabel,g=e.todayLabel,y=e.clearable,C=e.showTodayButton,S=e.showTabs,x=Object(n.c)(e,["children","classes","onKeyDown","onAccept","onDismiss","onClear","onSetToday","okLabel","cancelLabel","clearLabel","todayLabel","clearable","showTodayButton","showTabs"]);return Object(r.createElement)(b.a,Object(n.a)({role:"dialog",onClose:u,classes:{paper:k()(l.dialogRoot,(t={},t[l.dialogWithTabs]=S,t))}},x),Object(r.createElement)(I.a,{target:"window",onKeyDown:s}),Object(r.createElement)(w.a,{children:i,className:k()(l.dialog,(a={},a[l.dialogWithTabs]=S,a))}),Object(r.createElement)(E.a,{classes:{root:y||C?l.dialogActions:void 0,action:k()(l.dialogAction,(o={},o[l.clearableDialogAction]=y,o[l.todayDialogAction]=!y&&C,o))}},y&&Object(r.createElement)(v.a,{color:"primary",onClick:d},h),!y&&C&&Object(r.createElement)(v.a,{color:"primary",onClick:p},g),Object(r.createElement)(v.a,{color:"primary",onClick:u},f),Object(r.createElement)(v.a,{color:"primary",onClick:c},m)))};pe.displayName="ModalDialog";var me=Object(x.createStyles)({dialogRoot:{minWidth:310,minHeight:405},dialog:{width:310,minHeight:405,overflow:"hidden","&:first-child":{padding:0}},dialogWithTabs:{minHeight:455},dialogActions:{justifyContent:"flex-start"},clearableDialogAction:{"&:first-child":{marginRight:"auto"}},todayDialogAction:{"&:first-child":{marginRight:"auto"}},dialogAction:{}}),fe=Object(x.withStyles)(me,{name:"MuiPickersModal"})(pe),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1},t.handleKeyDown=function(e){switch(N()(e)){case"enter":t.handleAccept();break;default:return}e.preventDefault()},t.handleSetTodayDate=function(){t.props.onSetToday&&t.props.onSetToday()},t.open=function(){t.setState({open:!0}),t.props.onOpen&&t.props.onOpen()},t.close=function(){t.setState({open:!1}),t.props.onClose&&t.props.onClose()},t.handleAccept=function(){t.close(),t.props.onAccept&&t.props.onAccept()},t.handleDismiss=function(){t.close(),t.props.onDismiss&&t.props.onDismiss()},t.handleClear=function(){t.close(),t.props.onClear&&t.props.onClear()},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return e.isAccepted?{open:!1}:null},t.prototype.render=function(){var e=this.props,t=e.value,a=e.format,o=e.children,i=(e.onAccept,e.onDismiss,e.invalidLabel),l=e.labelFunc,s=e.okLabel,c=e.cancelLabel,u=e.clearLabel,d=e.clearable,p=e.todayLabel,m=e.showTodayButton,f=(e.onOpen,e.onClose,e.onSetToday,e.isAccepted,e.DialogProps),h=e.showTabs,g=Object(n.c)(e,["value","format","children","onAccept","onDismiss","invalidLabel","labelFunc","okLabel","cancelLabel","clearLabel","clearable","todayLabel","showTodayButton","onOpen","onClose","onSetToday","isAccepted","DialogProps","showTabs"]);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(de,Object(n.a)({value:t,format:a,onClick:this.open,invalidLabel:i,labelFunc:l,clearable:d},g)),Object(r.createElement)(fe,Object(n.a)({showTabs:h,open:this.state.open,onKeyDown:this.handleKeyDown,onClear:this.handleClear,onAccept:this.handleAccept,onDismiss:this.handleDismiss,onSetToday:this.handleSetTodayDate,clearLabel:u,todayLabel:p,okLabel:s,cancelLabel:c,clearable:d,showTodayButton:m,children:o},f)))},t.defaultProps={invalidLabel:void 0,value:new Date,labelFunc:void 0,okLabel:"OK",cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",clearable:!1,showTodayButton:!1,format:void 0,onAccept:void 0,onDismiss:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,onSetToday:void 0,DialogProps:void 0,isAccepted:!1},t}(r.PureComponent),ge=function(e){var t=e.children,a=e.className,o=e.classes,i=Object(n.c)(e,["children","className","classes"]);return Object(r.createElement)(F.a,Object(n.a)({className:k()(o.toolbar,a)},i),t)};ge.defaultProps={className:""};var ve=function(e){return A()({toolbar:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",height:100,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default}})},ye=M()(ve,{name:"MuiPickersToolbar"})(ge),be=function(e){var t,a=e.classes,o=e.selected,i=e.label,l=e.className,s=Object(n.c)(e,["classes","selected","label","className"]);return Object(r.createElement)(_.a,Object(n.a)({className:k()(a.toolbarBtn,l,(t={},t[a.toolbarBtnSelected]=o,t))},s),i)};be.defaultProps={className:""};var Ce=function(e){return{toolbarBtn:{cursor:"pointer",color:"rgba(255, 255, 255, 0.54)"},toolbarBtnSelected:{color:e.palette.common.white}}},Ee=M()(Ce,{name:"MuiPickersToolbarButton"})(be),Se=function(e){var t=e.date,a=e.utils,n=e.minDate,o=e.maxDate,r=e.disableFuture,i=e.disablePast,l=e.shouldDisableDate,s=a.startOfDay(a.date());n=n&&a.date(n),o=o&&a.date(o),i&&a.isBefore(n,s)&&(n=s),r&&a.isAfter(o,s)&&(o=s);var c=a.date(t),u=a.date(t);for(a.isBefore(t,n)&&(c=n,u=null),a.isAfter(t,o)&&(u&&(u=o),c=null);c||u;){if(c&&a.isAfter(c,o)&&(c=null),u&&a.isBefore(u,n)&&(u=null),c){if(!l(c))return c;c=a.addDays(c,1)}if(u){if(!l(u))return u;u=a.addDays(u,-1)}}return null},we=function(e){var t=e.classes,a=e.className,n=e.children,o=e.transKey,i=e.slideDirection;return Object(r.createElement)(L.TransitionGroup,{className:k()(t.transitionContainer,a)},Object(r.createElement)(L.CSSTransition,{key:o,mountOnEnter:!0,unmountOnExit:!0,timeout:350,children:n,classNames:{enter:t["slideEnter-"+i],enterActive:t.slideEnterActive,exit:t.slideExit,exitActive:t["slideExitActiveLeft-"+i]}}))};we.defaultProps={className:void 0};var xe=function(e){var t=e.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return A()({transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:t},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-200%)",transition:t},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(200%)",transition:t}})},Oe=M()(xe,{name:"MuiPickersSlideTransition"})(we),ke=function(e){var t=e.classes,a=e.theme,n=e.currentMonth,o=e.onMonthChange,i=e.leftArrowIcon,l=e.rightArrowIcon,s=e.disablePrevMonth,u=e.disableNextMonth,p=e.utils,m=e.slideDirection,f="rtl"===a.direction,h=function(){return o(p.getNextMonth(n),"left")},g=function(){return o(p.getPreviousMonth(n),"right")};return Object(r.createElement)("div",null,Object(r.createElement)("div",{className:t.switchHeader},Object(r.createElement)(d.a,{disabled:s,onClick:g,className:t.iconButton},Object(r.createElement)(c.a,null,f?l:i)),Object(r.createElement)(Oe,{slideDirection:m,transKey:n.toString(),className:t.transitionContainer},Object(r.createElement)(_.a,{align:"center",variant:"body1"},p.getCalendarHeaderText(n))),Object(r.createElement)(d.a,{disabled:u,onClick:h,className:t.iconButton},Object(r.createElement)(c.a,null,f?i:l))),Object(r.createElement)("div",{className:t.daysHeader},p.getWeekdays().map(function(e,a){return Object(r.createElement)(_.a,{key:a,variant:"caption",className:t.dayLabel},e)})))};ke.defaultProps={leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",disablePrevMonth:!1,disableNextMonth:!1};var De=function(e){return A()({switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing.unit/2,marginBottom:e.spacing.unit},transitionContainer:{width:"100%",height:20},iconButton:{zIndex:2,backgroundColor:e.palette.background.paper,"& > *":{backgroundColor:e.palette.background.paper,"& > *":{zIndex:1,overflow:"visible"}}},daysHeader:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:16},dayLabel:{width:36,margin:"0 2px",textAlign:"center",color:e.palette.text.hint}})},Ie=M()(De,{withTheme:!0,name:"MuiPickersCalendarHeader"})(ne()(ke)),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.children,o=t.classes,i=t.disabled,l=t.hidden,s=t.current,c=t.selected,u=Object(n.c)(t,["children","classes","disabled","hidden","current","selected"]),p=k()(o.day,(e={},e[o.hidden]=l,e[o.current]=s,e[o.selected]=c,e[o.disabled]=i,e));return Object(r.createElement)(d.a,Object(n.a)({className:p,tabIndex:l||i?-1:0},u),a)},t.defaultProps={disabled:!1,hidden:!1,current:!1,selected:!1},t}(r.PureComponent),Ne=function(e){return A()({day:{width:36,height:36,fontSize:e.typography.caption.fontSize,margin:"0 2px",color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium,padding:0},hidden:{opacity:0,pointerEvents:"none"},current:{color:e.palette.primary.main,fontWeight:600},selected:{color:e.palette.common.white,backgroundColor:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{backgroundColor:e.palette.primary.main}},disabled:{pointerEvents:"none",color:e.palette.text.hint}})},Pe=M()(Ne,{name:"MuiPickersDay"})(Te),Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onSelect(t.props.value)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,a=(e.value,e.dayInCurrentMonth),o=e.disabled,i=(e.onSelect,Object(n.c)(e,["children","value","dayInCurrentMonth","disabled","onSelect"]));return Object(r.createElement)("div",Object(n.a)({onClick:a&&!o?this.handleClick:void 0,onKeyPress:a&&!o?this.handleClick:void 0,role:"presentation"},i),t)},t.defaultProps={dayInCurrentMonth:!0,disabled:!1},t}(r.PureComponent),je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={slideDirection:"left",currentMonth:t.props.utils.getStartOfMonth(t.props.date)},t.onDateSelect=function(e,a){void 0===a&&(a=!0);var n=t.props,o=n.date,r=n.utils;t.props.onChange(r.mergeDateAndTime(e,o),a)},t.handleChangeMonth=function(e,a){t.setState({currentMonth:e,slideDirection:a})},t.validateMinMaxDate=function(e){var a=t.props,n=a.minDate,o=a.maxDate,r=a.utils;return n&&r.isBeforeDay(e,r.date(n))||o&&r.isAfterDay(e,r.date(o))},t.shouldDisablePrevMonth=function(){var e=t.props,a=e.utils,n=e.disablePast,o=e.minDate,r=a.date();return!a.isBefore(a.getStartOfMonth(n&&a.isAfter(r,o)?r:a.date(o)),t.state.currentMonth)},t.shouldDisableNextMonth=function(){var e=t.props,a=e.utils,n=e.disableFuture,o=e.maxDate,r=a.date();return!a.isAfter(a.getStartOfMonth(n&&a.isBefore(r,o)?r:a.date(o)),t.state.currentMonth)},t.shouldDisableDate=function(e){var a=t.props,n=a.disablePast,o=a.disableFuture,r=a.shouldDisableDate,i=a.utils;return Boolean(o&&i.isAfterDay(e,i.date())||n&&i.isBeforeDay(e,i.date())||t.validateMinMaxDate(e)||r&&r(e))},t.moveToDay=function(e){e&&!t.shouldDisableDate(e)&&t.onDateSelect(e,!1)},t.handleKeyDown=function(e){var a=t.props,n=a.theme,o=a.date,r=a.utils;switch(N()(e)){case"up":t.moveToDay(r.addDays(o,-7));break;case"down":t.moveToDay(r.addDays(o,7));break;case"left":"ltr"===n.direction?t.moveToDay(r.addDays(o,-1)):t.moveToDay(r.addDays(o,1));break;case"right":"ltr"===n.direction?t.moveToDay(r.addDays(o,1)):t.moveToDay(r.addDays(o,-1));break;default:return}e.preventDefault()},t.renderWeeks=function(){var e=t.props.utils,a=t.state.currentMonth;return e.getWeekArray(a).map(function(e){return Object(r.createElement)("div",{key:"week-"+e[0].toString(),className:t.props.classes.week},t.renderDays(e))})},t.renderDays=function(e){var a=t.props,n=a.date,o=a.renderDay,i=a.utils,l=i.startOfDay(n),s=i.getMonth(t.state.currentMonth),c=i.date();return e.map(function(e){var a=t.shouldDisableDate(e),n=i.getMonth(e)===s,u=Object(r.createElement)(Pe,{current:i.isSameDay(e,c),hidden:!n,disabled:a,selected:i.isSameDay(l,e)},i.getDayText(e));return o&&(u=o(e,l,n,u)),Object(r.createElement)(Ae,{key:e.toString(),value:e,dayInCurrentMonth:n,disabled:a,onSelect:t.onDateSelect},u)})},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e,t){return e.utils.isEqual(e.date,t.lastDate)?null:{lastDate:e.date,currentMonth:e.utils.getStartOfMonth(e.date)}},t.prototype.componentDidMount=function(){var e=this.props,t=e.date,a=e.minDate,n=e.maxDate,o=e.utils,r=e.disablePast;if(this.shouldDisableDate(t)){var i=Se({date:t,utils:o,minDate:a,maxDate:n,disablePast:Boolean(r),disableFuture:Boolean(r),shouldDisableDate:this.shouldDisableDate});this.onDateSelect(i||a,!1)}},t.prototype.render=function(){var e=this.state,t=e.currentMonth,a=e.slideDirection,n=this.props,o=n.classes,i=n.allowKeyboardControl;return Object(r.createElement)(r.Fragment,null,i&&Object(r.createElement)(I.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(r.createElement)(Ie,{slideDirection:a,currentMonth:t,onMonthChange:this.handleChangeMonth,leftArrowIcon:this.props.leftArrowIcon,rightArrowIcon:this.props.rightArrowIcon,disablePrevMonth:this.shouldDisablePrevMonth(),disableNextMonth:this.shouldDisableNextMonth()}),Object(r.createElement)(Oe,{slideDirection:a,transKey:t.toString(),className:o.transitionContainer},Object(r.createElement)("div",{autoFocus:!0},this.renderWeeks())))},t.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,allowKeyboardControl:!1,shouldDisableDate:function(){return!1}},t}(r.Component),Me=function(e){return{transitionContainer:{minHeight:216,marginTop:1.5*e.spacing.unit},week:{display:"flex",justifyContent:"center"}}},Re=M()(Me,{name:"MuiPickersCalendar",withTheme:!0})(ne()(je)),Fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onSelect(t.props.value)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.classes,o=t.selected,i=t.disabled,l=(t.value,t.children),s=Object(n.c)(t,["classes","selected","disabled","value","children"]);return Object(r.createElement)(_.a,Object(n.a)({role:"button",component:"div",className:k()(a.root,(e={},e[a.selected]=o,e[a.disabled]=i,e)),tabIndex:i?-1:0,onClick:this.handleClick,onKeyPress:this.handleClick,color:o?"primary":"default",variant:o?"h5":"subtitle1"},s),l)},t.defaultProps={selected:!1,disabled:!1},t}(r.PureComponent),Be=function(e){return A()({root:{height:5*e.spacing.unit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none","&:focus":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium}},selected:{margin:"10px 0",fontWeight:e.typography.fontWeightMedium},disabled:{pointerEvents:"none",color:e.palette.text.hint}})},_e=M()(Be,{name:"MuiPickersYear"})(Fe),Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedYearRef=void 0,t.getSelectedYearRef=function(e){t.selectedYearRef=e},t.scrollToCurrentYear=function(e){var a=t.props.animateYearScrolling,n=Object(H.findDOMNode)(e);n&&n.scrollIntoView&&(a?setTimeout(function(){return n.scrollIntoView({behavior:"smooth"})},100):n.scrollIntoView())},t.onYearSelect=function(e){var a=t.props,n=a.date;(0,a.onChange)(a.utils.setYear(n,e))},t}return Object(n.b)(t,e),t.prototype.componentDidMount=function(){this.selectedYearRef&&this.scrollToCurrentYear(this.selectedYearRef)},t.prototype.render=function(){var e=this,t=this.props,a=t.minDate,n=t.maxDate,o=t.date,i=t.classes,l=t.disablePast,s=t.disableFuture,c=t.utils,u=c.getYear(o);return Object(r.createElement)("div",{className:i.container},c.getYearRange(a,n).map(function(t){var a=c.getYear(t),n=a===u;return Object(r.createElement)(_e,{key:c.getYearText(t),selected:n,value:a,onSelect:e.onYearSelect,ref:n?e.getSelectedYearRef:void 0,disabled:l&&c.isBeforeYear(t,c.date())||s&&c.isAfterYear(t,c.date())},c.getYearText(t))}))},t.defaultProps={animateYearScrolling:!1},t}(r.PureComponent),He=A()({container:{maxHeight:300,overflowY:"auto",justifyContent:"center"}}),Ue=M()(He,{name:"MuiPickersYearSelection"})(ne()(Le)),Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showYearSelection:Boolean(t.props.openToYearSelection)},t.handleYearSelect=function(e){t.props.onChange(e,!1),t.openCalendar()},t.openYearSelection=function(){t.setState({showYearSelection:!0})},t.openCalendar=function(){t.setState({showYearSelection:!1})},t}return Object(n.b)(t,e),Object.defineProperty(t.prototype,"date",{get:function(){return this.props.date},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this.props.utils.date(this.props.minDate)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this.props.utils.date(this.props.maxDate)},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.state.showYearSelection,t=this.props,a=t.disablePast,n=t.disableFuture,o=t.onChange,i=t.animateYearScrolling,l=t.leftArrowIcon,s=t.rightArrowIcon,c=t.renderDay,u=t.utils,d=t.shouldDisableDate,p=t.allowKeyboardControl;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(ye,null,Object(r.createElement)(Ee,{variant:"subtitle1",onClick:this.openYearSelection,selected:e,label:u.getYearText(this.date)}),Object(r.createElement)(Ee,{variant:"h4",onClick:this.openCalendar,selected:!e,label:u.getDatePickerHeaderText(this.date)})),this.props.children,e?Object(r.createElement)(Ue,{date:this.date,onChange:this.handleYearSelect,minDate:this.minDate,maxDate:this.maxDate,disablePast:a,disableFuture:n,animateYearScrolling:i}):Object(r.createElement)(Re,{date:this.date,onChange:o,disablePast:a,disableFuture:n,minDate:this.minDate,maxDate:this.maxDate,leftArrowIcon:l,rightArrowIcon:s,renderDay:c,shouldDisableDate:d,allowKeyboardControl:p}))},t.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,allowKeyboardControl:!1,animateYearScrolling:void 0,openToYearSelection:!1,children:null,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,shouldDisableDate:void 0},t}(r.PureComponent),We=ne()(Ve),ze=function(e){var t=e.allowKeyboardControl,a=e.animateYearScrolling,o=(e.autoOk,e.disableFuture),i=e.disablePast,l=e.format,s=e.forwardedRef,c=e.labelFunc,u=e.leftArrowIcon,d=e.maxDate,p=e.minDate,m=(e.initialFocusedDate,e.onChange,e.openToYearSelection),f=e.renderDay,h=e.rightArrowIcon,g=e.shouldDisableDate,v=e.value,y=Object(n.c)(e,["allowKeyboardControl","animateYearScrolling","autoOk","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value"]);return Object(r.createElement)(ie,Object(n.a)({},e),function(e){var b=e.date,C=e.utils,E=e.handleAccept,S=e.handleChange,w=e.handleClear,x=e.handleDismiss,O=e.handleSetTodayDate,k=e.handleTextFieldChange,D=e.isAccepted;return Object(r.createElement)(he,Object(n.a)({disableFuture:o,disablePast:i,format:l||C.dateFormat,labelFunc:c,maxDate:d,minDate:p,onAccept:E,onChange:k,onClear:w,onDismiss:x,onSetToday:O,ref:s,value:v,isAccepted:D},y),Object(r.createElement)(We,{date:b,allowKeyboardControl:t,animateYearScrolling:a,disableFuture:o,disablePast:i,leftArrowIcon:u,maxDate:d,minDate:p,onChange:S,openToYearSelection:m,renderDay:f,rightArrowIcon:h,shouldDisableDate:g}))})};ze.defaultProps={value:new Date,format:void 0,autoOk:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0};var Ye=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(ze,Object(n.a)({},e,{forwardedRef:t}))}),Ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={anchorEl:null},t.open=function(e){t.setState({anchorEl:e.currentTarget}),t.props.onOpen&&t.props.onOpen()},t.close=function(){t.setState({anchorEl:null}),t.props.handleAccept(),t.props.onClose&&t.props.onClose()},t.handleKeyDown=function(e){switch(N()(e)){case"enter":t.props.handleAccept(),t.close();break;default:return}e.preventDefault()},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return e.isAccepted?{anchorEl:null}:null},t.prototype.render=function(){var e=this.props,t=e.value,a=e.format,o=e.children,i=(e.onOpen,e.onClose,e.PopoverProps),l=(e.isAccepted,e.keyboard),s=(e.onlyCalendar,e.classes),c=(e.handleAccept,Object(n.c)(e,["value","format","children","onOpen","onClose","PopoverProps","isAccepted","keyboard","onlyCalendar","classes","handleAccept"])),u=Boolean(this.state.anchorEl);return Object(r.createElement)(r.Fragment,null,u&&Object(r.createElement)(I.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(r.createElement)(de,Object(n.a)({value:t,format:a,onClick:this.open,keyboard:l},c)),Object(r.createElement)(V.a,Object(n.a)({id:"picker-popover",open:u,anchorEl:this.state.anchorEl,onClose:this.close,classes:{paper:s.popoverPaper},anchorOrigin:{vertical:"bottom",horizontal:l?"right":"center"},transformOrigin:{vertical:"top",horizontal:l?"right":"center"},children:o},i)))},t.defaultProps={value:new Date,labelFunc:void 0,onlyCalendar:!1,format:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,PopoverProps:void 0,isAccepted:!1,keyboard:void 0},t}(r.PureComponent),Ge={popoverPaper:{maxWidth:310,minWidth:290,paddingBottom:8}},qe=M()(Ge)(Ke),Xe=function(e){var t=e.allowKeyboardControl,a=e.animateYearScrolling,o=e.disableFuture,i=e.disablePast,l=e.format,s=e.forwardedRef,c=e.labelFunc,u=e.leftArrowIcon,d=e.maxDate,p=e.minDate,m=(e.initialFocusedDate,e.onChange,e.openToYearSelection),f=e.renderDay,h=e.rightArrowIcon,g=e.shouldDisableDate,v=e.value,y=(e.autoOk,e.onlyCalendar),b=Object(n.c)(e,["allowKeyboardControl","animateYearScrolling","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value","autoOk","onlyCalendar"]),C=y?Re:We;return Object(r.createElement)(ie,Object(n.a)({},e,{autoOk:!0}),function(e){var y=e.date,E=e.utils,S=e.isAccepted,w=e.handleChange,x=e.handleTextFieldChange,O=e.handleAccept;return Object(r.createElement)(qe,Object(n.a)({disableFuture:o,disablePast:i,format:l||E.dateFormat,labelFunc:c,maxDate:d,minDate:p,onChange:x,innerRef:s,value:v,isAccepted:S,handleAccept:O},b),Object(r.createElement)(C,{date:y,allowKeyboardControl:t,animateYearScrolling:a,disableFuture:o,disablePast:i,leftArrowIcon:u,maxDate:d,minDate:p,onChange:w,openToYearSelection:m,renderDay:f,rightArrowIcon:h,shouldDisableDate:g}))})};Xe.defaultProps={value:new Date,format:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0,autoOk:void 0,onlyCalendar:!1};var Je,Qe=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Xe,Object(n.a)({},e,{forwardedRef:t}))}),Ze={x:130,y:130},$e={x:Ze.x,y:0},et=$e.x-Ze.x,tt=$e.y-Ze.y,at=function(e){return 57.29577951308232*e},nt=function(e,t,a){var n=t-Ze.x,o=a-Ze.y,r=Math.atan2(et,tt)-Math.atan2(n,o),i=at(r);i=Math.round(i/e)*e,i%=360;var l=Math.floor(i/e)||0,s=Math.pow(n,2)+Math.pow(o,2);return{value:l,distance:Math.sqrt(s)}},ot=function(e,t,a){var n=nt(30,e,t),o=n.value,r=n.distance;return o=o||12,a?o%=12:r<90&&(o+=12,o%=24),o},rt=function(e,t,a){return void 0===a&&(a=6),nt(a,e,t).value},it=function(e,t,a,n){if(a){if((n.getHours(e)>=12?"pm":"am")!==t){var o="am"===t?n.getHours(e)-12:n.getHours(e)+12;return n.setHours(e,o)}}return e};!function(e){e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds"}(Je||(Je={}));var lt=Je,st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={toAnimateTransform:!1,previousType:void 0},t.getAngleStyle=function(){var e=t.props,a=e.value,n=e.isInner,o=e.type,r=o===lt.HOURS?12:60,i=360/r*a;return o===lt.HOURS&&a>12&&(i-=360),{height:n?"26%":"40%",transform:"rotateZ("+i+"deg)"}},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t,a=this.props,n=a.classes,o=a.hasSelected;return Object(r.createElement)("div",{style:this.getAngleStyle(),className:k()(n.pointer,(e={},e[n.animateTransform]=this.state.toAnimateTransform,e))},Object(r.createElement)("div",{className:k()(n.thumb,(t={},t[n.noPoint]=o,t))}))},t.getDerivedStateFromProps=function(e,t){return e.type!==t.previousType?{toAnimateTransform:!0,previousType:e.type}:{toAnimateTransform:!1,previousType:e.type}},t}(r.Component),ct=function(e){return A()({pointer:{width:2,backgroundColor:e.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},animateTransform:{transition:e.transitions.create(["transform","height"])},thumb:{width:4,height:4,backgroundColor:e.palette.common.white,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid "+e.palette.primary.main,boxSizing:"content-box"},noPoint:{backgroundColor:e.palette.primary.main}})},ut=M()(ct,{name:"MuiPickersClockPointer"})(st),dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isMoving=!1,t.handleTouchMove=function(e){t.isMoving=!0,t.setTime(e)},t.handleTouchEnd=function(e){t.isMoving&&(t.setTime(e,!0),t.isMoving=!1)},t.handleMove=function(e){e.preventDefault(),e.stopPropagation(),(void 0===e.buttons?1===e.nativeEvent.which:1===e.buttons)&&t.setTime(e.nativeEvent,!1)},t.handleMouseUp=function(e){t.isMoving&&(t.isMoving=!1),t.setTime(e.nativeEvent,!0)},t.hasSelected=function(){var e=t.props,a=e.type,n=e.value;return a===lt.HOURS||n%5==0},t}return Object(n.b)(t,e),t.prototype.setTime=function(e,t){void 0===t&&(t=!1);var a=e.offsetX,n=e.offsetY;if(void 0===a){var o=e.target.getBoundingClientRect();a=e.changedTouches[0].clientX-o.left,n=e.changedTouches[0].clientY-o.top}var r=this.props.type===lt.SECONDS||this.props.type===lt.MINUTES?rt(a,n):ot(a,n,Boolean(this.props.ampm));this.props.onChange(r,t)},t.prototype.render=function(){var e=this.props,t=e.classes,a=e.value,n=e.children,o=e.type,i=e.ampm,l=!i&&o===lt.HOURS&&(a<1||a>12);return Object(r.createElement)("div",{className:t.container},Object(r.createElement)("div",{className:t.clock},Object(r.createElement)("div",{role:"menu",tabIndex:-1,className:t.squareMask,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMove}),Object(r.createElement)("div",{className:t.pin}),Object(r.createElement)(ut,{type:o,value:a,isInner:l,hasSelected:this.hasSelected()}),n))},t.defaultProps={ampm:!1},t}(r.Component),pt=function(e){return A()({container:{display:"flex",justifyContent:"center",alignItems:"flex-end",margin:4*e.spacing.unit+"px 0 "+e.spacing.unit+"px"},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none",zIndex:1},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:"none",touchActions:"none",userSelect:"none","&:active":{cursor:"move"}},pin:{width:6,height:6,borderRadius:"50%",backgroundColor:e.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})},mt=M()(pt,{name:"MuiPickersClock"})(dt),ft={0:[0,40],1:[55,19.6],2:[94.4,59.5],3:[109,114],4:[94.4,168.5],5:[54.5,208.4],6:[0,223],7:[-54.5,208.4],8:[-94.4,168.5],9:[-109,114],10:[-94.4,59.5],11:[-54.5,19.6],12:[0,5],13:[36.9,49.9],14:[64,77],15:[74,114],16:[64,151],17:[37,178],18:[0,188],19:[-37,178],20:[-64,151],21:[-74,114],22:[-64,77],23:[-37,50]},ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getTransformStyle=function(e){var t=ft[e];return{transform:"translate("+t[0]+"px, "+t[1]+"px"}},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.selected,n=t.label,o=t.index,i=t.classes,l=t.isInner,s=k()(i.clockNumber,(e={},e[i.selected]=a,e));return Object(r.createElement)(_.a,{variant:l?"body1":"subtitle1",component:"span",className:s,style:this.getTransformStyle(o)},n)},t.defaultProps={isInner:!1},t}(r.Component),gt=function(e){var t=4*e.spacing.unit;return A()({clockNumber:{width:t,height:t,userSelect:"none",position:"absolute",left:"calc(50% - "+t/2+"px)",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"light"===e.palette.type?e.palette.text.primary:e.palette.text.hint},selected:{color:e.palette.common.white}})},vt=M()(gt,{name:"MuiPickersClockNumber"})(ht),yt=function(e){for(var t=e.ampm,a=e.utils,o=e.date,i=a.getHours(o),l=[],s=t?1:0,c=t?12:23,u=s;u<=c;u+=1){var d=u.toString();0===u&&(d="00");var p={index:u,label:a.formatNumber(d),selected:function(e){return t?12===e?12===i||0===i:i===e||i-12===e:i===e}(u),isInner:!t&&(0===u||u>12)};l.push(Object(r.createElement)(vt,Object(n.a)({key:u},p)))}return l},bt=function(e){var t=e.value,a=e.utils,n=a.formatNumber;return[Object(r.createElement)(vt,{label:n("00"),selected:0===t,index:12,key:12}),Object(r.createElement)(vt,{label:n("05"),selected:5===t,index:1,key:1}),Object(r.createElement)(vt,{label:n("10"),selected:10===t,index:2,key:2}),Object(r.createElement)(vt,{label:n("15"),selected:15===t,index:3,key:3}),Object(r.createElement)(vt,{label:n("20"),selected:20===t,index:4,key:4}),Object(r.createElement)(vt,{label:n("25"),selected:25===t,index:5,key:5}),Object(r.createElement)(vt,{label:n("30"),selected:30===t,index:6,key:6}),Object(r.createElement)(vt,{label:n("35"),selected:35===t,index:7,key:7}),Object(r.createElement)(vt,{label:n("40"),selected:40===t,index:8,key:8}),Object(r.createElement)(vt,{label:n("45"),selected:45===t,index:9,key:9}),Object(r.createElement)(vt,{label:n("50"),selected:50===t,index:10,key:10}),Object(r.createElement)(vt,{label:n("55"),selected:55===t,index:11,key:11})]},Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getViewProps=function(){var e=t.props,a=e.type,n=e.ampm,o=e.date,r=e.utils;switch(a){case lt.HOURS:return{value:r.getHours(o),children:yt({date:o,ampm:Boolean(n),utils:r}),onChange:t.handleHourChange};case lt.MINUTES:var i=r.getMinutes(o);return{value:i,children:bt({value:i,utils:r}),onChange:t.handleMinutesChange};case lt.SECONDS:var l=r.getSeconds(o);return{value:l,children:bt({value:l,utils:r}),onChange:t.handleSecondsChange};default:throw new Error("You must provide the type for TimePickerView")}},t.handleHourChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setHours(o,e);t.props.onHourChange(i,a)},t.handleMinutesChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setMinutes(o,e);t.props.onMinutesChange(i,a)},t.handleSecondsChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setSeconds(o,e);t.props.onSecondsChange(i,a)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.ampm,a=e.type,o=this.getViewProps();return Object(r.createElement)(mt,Object(n.a)({type:a,ampm:t},o))},t.defaultProps={ampm:!0},t}(r.PureComponent),Et=ne()(Ct),St=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openView:lt.HOURS,meridiemMode:t.props.utils.getHours(t.props.date)>=12?"pm":"am"},t.setMeridiemMode=function(e){return function(){t.setState({meridiemMode:e},function(){return t.handleChange({time:t.props.date,isFinish:!1,openMinutes:!1,openSeconds:!1})})}},t.handleChange=function(e){var a=e.time,n=e.isFinish,o=e.openMinutes,r=e.openSeconds,i=it(a,t.state.meridiemMode,Boolean(t.props.ampm),t.props.utils);if(n){if(!o&&!r)return void t.props.onChange(i,n);o&&t.openMinutesView(),r&&t.openSecondsView()}t.props.onChange(i,!1)},t.handleHourChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!0,openSeconds:!1})},t.handleMinutesChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!1,openSeconds:Boolean(t.props.seconds)})},t.handleSecondsChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!1,openSeconds:!1})},t.openSecondsView=function(){t.setState({openView:lt.SECONDS})},t.openMinutesView=function(){t.setState({openView:lt.MINUTES})},t.openHourView=function(){t.setState({openView:lt.HOURS})},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.classes,n=t.theme,o=t.date,i=t.utils,l=t.ampm,s=t.seconds,c=this.state,u=c.meridiemMode,d=c.openView,p="rtl"===n.direction,m=p?a.hourMinuteLabelReverse:a.hourMinuteLabel;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(ye,{className:k()(a.toolbar,(e={},e[a.toolbarLeftPadding]=l,e))},Object(r.createElement)("div",{className:m},Object(r.createElement)(Ee,{variant:"h2",onClick:this.openHourView,selected:d===lt.HOURS,label:i.getHourText(o,Boolean(l))}),Object(r.createElement)(Ee,{variant:"h2",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h2",onClick:this.openMinutesView,selected:d===lt.MINUTES,label:i.getMinuteText(o)}),s&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Ee,{variant:"h2",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h2",onClick:this.openSecondsView,selected:d===lt.SECONDS,label:i.getSecondText(o)}))),l&&Object(r.createElement)("div",{className:s?a.ampmSelectionWithSeconds:a.ampmSelection},Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"am"===u,variant:"subtitle1",label:i.getMeridiemText("am"),onClick:this.setMeridiemMode("am")}),Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"pm"===u,variant:"subtitle1",label:i.getMeridiemText("pm"),onClick:this.setMeridiemMode("pm")}))),this.props.children,Object(r.createElement)(Et,{date:o,type:this.state.openView,ampm:l,onHourChange:this.handleHourChange,onMinutesChange:this.handleMinutesChange,onSecondsChange:this.handleSecondsChange}))},t.defaultProps={children:null,ampm:!0,seconds:!1},t}(r.Component),wt=function(){return A()({toolbar:{flexDirection:"row",alignItems:"center"},toolbarLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{marginLeft:20,marginRight:-20},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelReverse:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row-reverse"}})},xt=M()(wt,{withTheme:!0,name:"MuiPickersTimePicker"})(ne()(St)),Ot=function(e){var t=e.value,a=(e.format,e.autoOk,e.onChange,e.ampm),o=e.forwardedRef,i=e.seconds,l=Object(n.c)(e,["value","format","autoOk","onChange","ampm","forwardedRef","seconds"]);return Object(r.createElement)(ie,Object(n.a)({mergePreviousDateOnChange:!0},e),function(e){var s=e.date,c=e.utils,u=e.handleAccept,d=e.handleChange,p=e.handleClear,m=e.handleDismiss,f=e.handleSetTodayDate,h=e.handleTextFieldChange,g=e.isAccepted,v=e.pick12hOr24hFormat;return Object(r.createElement)(he,Object(n.a)({ref:o,value:t,onClear:p,onAccept:u,onChange:h,onDismiss:m,onSetToday:f,isAccepted:g,format:v(c.time12hFormat,c.time24hFormat)},l),Object(r.createElement)(xt,{date:s,onChange:d,ampm:a,seconds:i}))})};Ot.defaultProps={value:new Date,format:void 0,autoOk:!1,ampm:!0,forwardedRef:void 0,seconds:!1};var kt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Ot,Object(n.a)({},e,{forwardedRef:t}))}),Dt=function(e){var t=e.value,a=(e.format,e.onChange,e.ampm),o=e.forwardedRef,i=e.seconds,l=Object(n.c)(e,["value","format","onChange","ampm","forwardedRef","seconds"]);return Object(r.createElement)(ie,Object(n.a)({mergePreviousDateOnChange:!0,autoOk:!0},e),function(e){var s=e.date,c=e.utils,u=e.handleChange,d=e.handleTextFieldChange,p=e.isAccepted,m=e.pick12hOr24hFormat,f=e.handleAccept;return Object(r.createElement)(qe,Object(n.a)({innerRef:o,value:t,onChange:d,isAccepted:p,handleAccept:f,format:m(c.time12hFormat,c.time24hFormat)},l),Object(r.createElement)(xt,{date:s,onChange:u,ampm:a,seconds:i}))})};Dt.defaultProps={ampm:!0,value:new Date,format:void 0,forwardedRef:void 0,seconds:!1};var It,Tt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Dt,Object(n.a)({},e,{forwardedRef:t}))});!function(e){e.YEAR="year",e.DATE="date",e.HOUR="hours",e.MINUTES="minutes"}(It||(It={}));var Nt=It,Pt=function(e){return A()({toolbar:{flexDirection:"row",alignItems:"center",paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{top:9,position:"relative",marginLeft:10,marginRight:-10},ampmLabel:{fontSize:18},hourMinuteLabel:{top:5,position:"relative",display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"rtl"===e.direction?"row-reverse":"row"},dateHeader:{height:60},timeHeader:{height:65,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}})},At=function(e){var t=e.date,a=e.classes,n=e.openView,o=e.meridiemMode,i=e.onOpenViewChange,l=e.setMeridiemMode,s=e.utils,c=e.ampm;return Object(r.createElement)(ye,{className:a.toolbar},Object(r.createElement)("div",{className:a.dateHeader},Object(r.createElement)(Ee,{variant:"subtitle1",onClick:function(){return i(Nt.YEAR)},selected:n===Nt.YEAR,label:s.getYearText(t)}),Object(r.createElement)(Ee,{variant:"h4",onClick:function(){return i(Nt.DATE)},selected:n===Nt.DATE,label:s.getDateTimePickerHeaderText(t)})),Object(r.createElement)("div",{className:a.timeHeader},Object(r.createElement)("div",{className:a.hourMinuteLabel},Object(r.createElement)(Ee,{variant:"h3",onClick:function(){return i(Nt.HOUR)},selected:n===Nt.HOUR,label:s.getHourText(t,c)}),Object(r.createElement)(Ee,{variant:"h3",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h3",onClick:function(){return i(Nt.MINUTES)},selected:n===Nt.MINUTES,label:s.getMinuteText(t)})),c&&Object(r.createElement)("div",{className:a.ampmSelection},Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"am"===o,variant:"subtitle1",label:s.getMeridiemText("am"),onClick:l("am")}),Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"pm"===o,variant:"subtitle1",label:s.getMeridiemText("pm"),onClick:l("pm")}))))};At.defaultProps={ampm:!0};var jt=M()(Pt,{name:"MuiPickerDTHeader"})(ne()(At)),Mt=function(e){return e===Nt.DATE||e===Nt.YEAR?"date":"time"},Rt=function(e){return"date"===e?Nt.DATE:Nt.HOUR},Ft=function(e){var t=e.view,a=e.onChange,n=e.classes,o=e.theme,i=e.dateRangeIcon,l=e.timeIcon,s="light"===o.palette.type?"secondary":"primary",u=function(e,n){n!==Mt(t)&&a(Rt(n))};return Object(r.createElement)(z.a,null,Object(r.createElement)(J.a,{fullWidth:!0,value:Mt(t),onChange:u,className:n.tabs,indicatorColor:s},Object(r.createElement)(q.a,{value:"date",icon:Object(r.createElement)(c.a,null,i)}),Object(r.createElement)(q.a,{value:"time",icon:Object(r.createElement)(c.a,null,l)})))},Bt=function(e){return{tabs:{color:e.palette.common.white,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default}}},_t=K()()(M()(Bt,{name:"MuiPickerDTTabs"})(Ft)),Lt=function(e){var t=e.selected,a=e.children;return t?Object(r.createElement)("div",{children:a}):null},Ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openView:t.props.openTo,meridiemMode:t.props.utils.getHours(t.props.date)>=12?"pm":"am"},t.onChange=function(e,a,n){void 0===a&&(a=!0),t.handleChange(e),a&&t.props.autoSubmit&&t.handleViewChange(n)},t.setMeridiemMode=function(e){return function(){t.setState({meridiemMode:e},function(){return t.handleChange(t.props.date,!1)})}},t.handleViewChange=function(e){t.setState({openView:e})},t.handleChange=function(e,a){void 0===a&&(a=!1);var n=it(e,t.state.meridiemMode,Boolean(t.props.ampm),t.props.utils);t.props.onChange(n,a)},t.handleYearChange=function(e){t.onChange(e,!1,Nt.DATE)},t.handleDayChange=function(e,a){t.onChange(e,a,Nt.HOUR)},t.handleHourChange=function(e,a){t.onChange(e,a,Nt.MINUTES)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.state,t=e.openView,a=e.meridiemMode,o=this.props,i=o.date,l=o.minDate,s=o.maxDate,c=o.showTabs,u=o.disablePast,d=o.disableFuture,p=o.leftArrowIcon,m=o.rightArrowIcon,f=o.dateRangeIcon,h=o.timeIcon,g=o.renderDay,v=o.ampm,y=o.shouldDisableDate,b=o.animateYearScrolling,C=o.allowKeyboardControl,E=o.ViewContainerComponent,S=E,w="string"==typeof E?{}:{openView:t,onChange:this.onChange};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(jt,{date:i,openView:t,meridiemMode:a,setMeridiemMode:this.setMeridiemMode,onOpenViewChange:this.handleViewChange,ampm:v}),c&&Object(r.createElement)(_t,{view:t,onChange:this.handleViewChange,dateRangeIcon:f,timeIcon:h}),Object(r.createElement)(S,Object(n.a)({},w),Object(r.createElement)(Lt,{selected:t===Nt.YEAR},Object(r.createElement)(Ue,{date:i,minDate:l,maxDate:s,onChange:this.handleYearChange,disablePast:u,disableFuture:d,animateYearScrolling:b})),Object(r.createElement)(Lt,{selected:t===Nt.DATE},Object(r.createElement)(Re,{allowKeyboardControl:C,date:i,minDate:l,maxDate:s,onChange:this.handleDayChange,disablePast:u,disableFuture:d,leftArrowIcon:p,rightArrowIcon:m,renderDay:g,shouldDisableDate:y})),Object(r.createElement)(Lt,{selected:t===Nt.HOUR||t===Nt.MINUTES},Object(r.createElement)(Et,{date:i,type:t,onHourChange:this.handleHourChange,onMinutesChange:this.handleChange,onSecondsChange:this.handleChange,ampm:v}))))},t.defaultProps={allowKeyboardControl:!1,ampm:!0,animateYearScrolling:!1,autoSubmit:!0,dateRangeIcon:void 0,disableFuture:!1,disablePast:!1,leftArrowIcon:void 0,renderDay:void 0,rightArrowIcon:void 0,shouldDisableDate:void 0,showTabs:!0,timeIcon:void 0,ViewContainerComponent:"div"},t}(r.Component),Ut=ne()(Ht),Vt=function(e){var t=e.value,a=(e.format,e.autoOk,e.openTo),o=e.minDate,i=e.maxDate,l=(e.initialFocusedDate,e.showTabs),s=e.autoSubmit,c=e.disablePast,u=e.disableFuture,d=e.leftArrowIcon,p=e.rightArrowIcon,m=e.dateRangeIcon,f=e.timeIcon,h=e.renderDay,g=e.ampm,v=e.shouldDisableDate,y=e.animateYearScrolling,b=e.forwardedRef,C=e.allowKeyboardControl,E=Object(n.c)(e,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]),S=l&&"undefined"!=typeof window&&window.innerHeight>667;return Object(r.createElement)(ie,Object(n.a)({},e),function(e){var l=e.date,w=e.utils,x=e.handleAccept,O=e.handleChange,k=e.handleClear,D=e.handleDismiss,I=e.handleSetTodayDate,T=e.handleTextFieldChange,N=e.isAccepted,P=e.pick12hOr24hFormat;return Object(r.createElement)(he,Object(n.a)({showTabs:S,ref:b,disableFuture:u,disablePast:c,maxDate:i,minDate:o,onAccept:x,onChange:T,onClear:k,onDismiss:D,onSetToday:I,value:t,isAccepted:N,format:P(w.dateTime12hFormat,w.dateTime24hFormat)},E),Object(r.createElement)(Ut,{allowKeyboardControl:C,ampm:g,animateYearScrolling:y,autoSubmit:s,date:l,dateRangeIcon:m,disableFuture:u,disablePast:c,leftArrowIcon:d,maxDate:i,minDate:o,onChange:O,openTo:a,renderDay:h,rightArrowIcon:p,shouldDisableDate:v,showTabs:S,timeIcon:f}))})};Vt.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};var Wt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Vt,Object(n.a)({},e,{forwardedRef:t}))}),zt=function(e){var t=e.value,a=(e.format,e.autoOk,e.openTo),o=e.minDate,i=e.maxDate,l=(e.initialFocusedDate,e.showTabs),s=e.autoSubmit,c=e.disablePast,u=e.disableFuture,d=e.leftArrowIcon,p=e.rightArrowIcon,m=e.dateRangeIcon,f=e.timeIcon,h=e.renderDay,g=e.ampm,v=e.shouldDisableDate,y=e.animateYearScrolling,b=e.forwardedRef,C=e.allowKeyboardControl,E=Object(n.c)(e,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]);return Object(r.createElement)(ie,Object(n.a)({},e,{autoOk:!0}),function(e){var S=e.date,w=e.utils,x=e.handleChange,O=e.handleTextFieldChange,k=e.isAccepted,D=e.pick12hOr24hFormat,I=e.handleAccept;return Object(r.createElement)(qe,Object(n.a)({innerRef:b,disableFuture:u,disablePast:c,maxDate:i,minDate:o,onChange:O,value:t,isAccepted:k,handleAccept:I,format:D(w.dateTime12hFormat,w.dateTime24hFormat)},E),Object(r.createElement)(Ut,{allowKeyboardControl:C,ampm:g,animateYearScrolling:y,autoSubmit:s,date:S,dateRangeIcon:m,disableFuture:u,disablePast:c,leftArrowIcon:d,maxDate:i,minDate:o,onChange:x,openTo:a,renderDay:h,rightArrowIcon:p,shouldDisableDate:v,showTabs:l,timeIcon:f}))})};zt.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};var Yt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(zt,Object(n.a)({},e,{forwardedRef:t}))})},6078:function(e,t,a){"use strict";function n(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var o=a(3);t.__esModule=!0,t.default=n;var r=o(a(6097));e.exports=t.default},6079:function(e,t,a){"use strict";function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}},6080:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?m(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=n(a(4)),h=n(a(0)),g=a(6099),v={thousandSeparator:f.default.oneOfType([f.default.string,f.default.oneOf([!0])]),decimalSeparator:f.default.string,thousandsGroupStyle:f.default.oneOf(["thousand","lakh","wan"]),decimalScale:f.default.number,fixedDecimalScale:f.default.bool,displayType:f.default.oneOf(["input","text"]),prefix:f.default.string,suffix:f.default.string,format:f.default.oneOfType([f.default.string,f.default.func]),removeFormatting:f.default.func,mask:f.default.oneOfType([f.default.string,f.default.arrayOf(f.default.string)]),value:f.default.oneOfType([f.default.number,f.default.string]),defaultValue:f.default.oneOfType([f.default.number,f.default.string]),isNumericString:f.default.bool,customInput:f.default.func,allowNegative:f.default.bool,allowEmptyFormatting:f.default.bool,onValueChange:f.default.func,onKeyDown:f.default.func,onMouseUp:f.default.func,onChange:f.default.func,onFocus:f.default.func,onBlur:f.default.func,type:f.default.oneOf(["text","tel","password"]),isAllowed:f.default.func,renderText:f.default.func,getInputRef:f.default.func},y={displayType:"input",decimalSeparator:".",thousandsGroupStyle:"thousand",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,allowEmptyFormatting:!1,isNumericString:!1,type:"text",onValueChange:g.noop,onChange:g.noop,onKeyDown:g.noop,onMouseUp:g.noop,onFocus:g.noop,onBlur:g.noop,isAllowed:g.returnTrue,getInputRef:g.noop},b=function(e){function t(e){var a;i(this,t),a=c(this,u(t).call(this,e));var n=e.defaultValue;a.validateProps();var o=a.formatValueProp(n);return a.state={value:o,numAsString:a.removeFormatting(o)},a.selectionBeforeInput={selectionStart:0,selectionEnd:0},a.onChange=a.onChange.bind(m(m(a))),a.onKeyDown=a.onKeyDown.bind(m(m(a))),a.onMouseUp=a.onMouseUp.bind(m(m(a))),a.onFocus=a.onFocus.bind(m(m(a))),a.onBlur=a.onBlur.bind(m(m(a))),a}return d(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,a=this.state,n=this.focusedElm,o=a.value,r=a.numAsString,i=void 0===r?"":r;if(e!==t){this.validateProps();var l=this.formatNumString(i),s=void 0===t.value?l:this.formatValueProp(),c=this.removeFormatting(s),u=parseFloat(c),d=parseFloat(i);(isNaN(u)&&isNaN(d)||u===d)&&l===o&&(null!==n||s===o)||this.updateValue({formattedValue:s,numAsString:c,input:n})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.decimalScale,a=this.getSeparators(),n=a.decimalSeparator,o=this.getNumberRegex(!0),r="-"===e[0];r&&(e=e.replace("-","")),n&&0===t&&(e=e.split(n)[0]),e=(e.match(o)||[]).join("").replace(n,".");var i=e.indexOf(".");return-1!==i&&(e="".concat(e.substring(0,i),".").concat(e.substring(i+1,e.length).replace(new RegExp((0,g.escapeRegExp)(n),"g"),""))),r&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var a=this.props,n=a.format,o=a.decimalScale,r=this.getSeparators(),i=r.decimalSeparator;return new RegExp("\\d"+(!i||0===o||t||n?"":"|"+(0,g.escapeRegExp)(i)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props.decimalSeparator,t=this.props.thousandSeparator;return!0===t&&(t=","),{decimalSeparator:e,thousandSeparator:t}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,a=void 0===t?" ":t;return"string"==typeof a?a:a[e]||" "}},{key:"getValueObject",value:function(e,t){var a=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(a)?void 0:a}}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),a=t.decimalSeparator,n=t.thousandSeparator;if(a===n)throw new Error("\n          Decimal separator can't be same as thousand separator.\n          thousandSeparator: ".concat(n,' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: ').concat(a," (default value for decimalSeparator is .)\n       "));if(e){if(("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask ".concat(e," should not contain numeric character;\n        "))}}},{key:"setPatchedCaretPosition",value:function(e,t,a){(0,g.setCaretPosition)(e,t),setTimeout(function(){e.value===a&&(0,g.setCaretPosition)(e,t)},0)}},{key:"correctCaretPosition",value:function(e,t,a){var n=this.props,o=n.prefix,r=n.suffix,i=n.format;if(""===e)return 0;if(t=(0,g.clamp)(t,0,e.length),!i){var l="-"===e[0];return(0,g.clamp)(t,o.length+(l?1:0),e.length-r.length)}if("function"==typeof i)return t;if("#"===i[t]&&(0,g.charIsNumber)(e[t]))return t;if("#"===i[t-1]&&(0,g.charIsNumber)(e[t-1]))return t;var s=i.indexOf("#"),c=i.lastIndexOf("#");t=(0,g.clamp)(t,s,c+1);for(var u=i.substring(t,i.length).indexOf("#"),d=t,p=t+(-1===u?0:u);d>s&&("#"!==i[d]||!(0,g.charIsNumber)(e[d]));)d-=1;return!(0,g.charIsNumber)(e[p])||"left"===a&&t!==s||t-d<p-t?(0,g.charIsNumber)(e[d])?d+1:d:p}},{key:"getCaretPosition",value:function(e,t,a){var n,o,r=this.props.format,i=this.state.value,l=this.getNumberRegex(!0),s=(e.match(l)||[]).join(""),c=(t.match(l)||[]).join("");for(n=0,o=0;o<a;o++){var u=e[o]||"",d=t[n]||"";if((u.match(l)||u===d)&&("0"!==u||!d.match(l)||"0"===d||s.length===c.length)){for(;u!==t[n]&&n<t.length;)n++;n++}}return"string"!=typeof r||i||(n=t.length),n=this.correctCaretPosition(t,n)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,a=t.format,n=t.prefix,o=t.suffix;if(!a&&e){var r="-"===e[0];r&&(e=e.substring(1,e.length)),e=n&&0===e.indexOf(n)?e.substring(n.length,e.length):e;var i=e.lastIndexOf(o);e=o&&-1!==i&&i===e.length-o.length?e.substring(0,i):e,r&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format,a=t.split("#").filter(function(e){return""!==e}),n=0,o="",r=0,i=a.length;r<=i;r++){var l=a[r]||"",s=r===i?e.length:e.indexOf(l,n);if(-1===s){o=e;break}o+=e.substring(n,s),n=s+l.length}return(o.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,a=t.format,n=t.removeFormatting;return e?(a?e="string"==typeof a?this.removePatternFormatting(e):"function"==typeof n?n(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,a=0,n=t.split(""),o=0,r=t.length;o<r;o++)"#"===t[o]&&(n[o]=e[a]||this.getMaskAtIndex(a),a+=1);return n.join("")}},{key:"formatAsNumber",value:function(e){var t=this.props,a=t.decimalScale,n=t.fixedDecimalScale,o=t.prefix,r=t.suffix,i=t.allowNegative,l=t.thousandsGroupStyle,s=this.getSeparators(),c=s.thousandSeparator,u=s.decimalSeparator,d=-1!==e.indexOf(".")||a&&n,p=(0,g.splitDecimal)(e,i),m=p.beforeDecimal,f=p.afterDecimal,h=p.addNegation;if(void 0!==a&&(f=(0,g.limitToScale)(f,a,n)),c){var v=(0,g.getThousandsGroupRegex)(l);m=m.replace(v,"$1"+c)}return o&&(m=o+m),r&&(f+=r),h&&(m="-"+m),e=m+(d&&u||"")+f}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props,a=t.format,n=t.allowEmptyFormatting,o=e;return""!==e||n?"-"!==e||a?o="string"==typeof a?this.formatWithPattern(o):"function"==typeof a?a(o):this.formatAsNumber(o):(o="-",e=""):o="",o}},{key:"formatValueProp",value:function(e){var t=this.props,a=t.format,n=t.decimalScale,o=t.fixedDecimalScale,r=t.allowEmptyFormatting,i=this.props,l=i.value,s=void 0===l?e:l,c=i.isNumericString,u=!s&&0!==s;return u&&r&&(s=""),u&&!r?"":("number"==typeof s&&(s=s.toString(),c=!0),c&&!a&&"number"==typeof n&&(s=(0,g.roundToPrecision)(s,n,o)),c?this.formatNumString(s):this.formatInput(s))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,a=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),o=a.test(e),r=n.test(e);return e=e.replace(/-/g,""),o&&!r&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.removePrefixAndSuffix(e),e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var a=this.props,n=a.format,o=a.prefix,r=a.suffix,i=a.decimalScale,l=a.fixedDecimalScale,s=this.getSeparators(),c=s.decimalSeparator;return"string"==typeof n&&"#"!==n[e]||!(n||!(e<o.length||e>=t.length-r.length||i&&l&&t[e]===c))}},{key:"checkIfFormatGotDeleted",value:function(e,t,a){for(var n=e;n<t;n++)if(this.isCharacterAFormat(n,a))return!0;return!1}},{key:"correctInputValue",value:function(e,t,a){var n=this.props,o=n.format,r=n.allowNegative,i=n.prefix,l=n.suffix,s=this.getSeparators(),c=s.decimalSeparator,u=this.state.numAsString||"",d=this.selectionBeforeInput,p=d.selectionStart,m=d.selectionEnd,f=(0,g.findChangedIndex)(t,a),h=f.start,v=f.end;if(!o&&"."!==c&&h===v&&"."===a[p])return a.substr(0,p)+c+a.substr(p+1,a.length);var y=o?0:i.length,b=t.length-(o?0:l.length);if(a.length>t.length||!a.length||h===v||0===p&&m===t.length||p===y&&m===b)return a;if(this.checkIfFormatGotDeleted(h,v,t)&&(a=t),!o){var C=this.removeFormatting(a),E=(0,g.splitDecimal)(C,r),S=E.beforeDecimal,w=E.afterDecimal,x=E.addNegation,O=e<a.indexOf(c)+1;if(C.length<u.length&&O&&""===S&&!parseFloat(w))return x?"-":""}return a}},{key:"updateValue",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.noop,n=e.formattedValue,o=e.input,r=e.numAsString,i=e.caretPos,l=this.props.onValueChange,s=this.state.value;if(o){if(!i){var c=e.inputValue||o.value,u=(0,g.getCurrentCaretPosition)(o);i=this.getCaretPosition(c,n,u)}o.value=n,this.setPatchedCaretPosition(o,i,n)}void 0===r&&(r=this.removeFormatting(n)),n!==s?this.setState({value:n,numAsString:r},function(){l(t.getValueObject(n,r)),a()}):a()}},{key:"onChange",value:function(e){e.persist();var t=e.target,a=t.value,n=this.state,o=this.props,r=o.isAllowed,i=n.value||"",l=(0,g.getCurrentCaretPosition)(t);a=this.correctInputValue(l,i,a);var s=this.formatInput(a)||"",c=this.removeFormatting(s);r(this.getValueObject(s,c))||(s=i),this.updateValue({formattedValue:s,numAsString:c,inputValue:a,input:t},function(){o.onChange(e)})}},{key:"onBlur",value:function(e){var t=this.props,a=this.state,n=t.format,o=t.onBlur,r=a.numAsString,i=a.value;if(this.focusedElm=null,!n){r=(0,g.fixLeadingZero)(r);var l=this.formatNumString(r);if(l!==i)return e.persist(),void this.updateValue({formattedValue:l,numAsString:r},function(){o(e)})}o(e)}},{key:"onKeyDown",value:function(e){var t,a=e.target,n=e.key,o=a.selectionStart,r=a.selectionEnd,i=a.value,l=void 0===i?"":i,s=this.props,c=s.decimalScale,u=s.fixedDecimalScale,d=s.prefix,p=s.suffix,m=s.format,f=s.onKeyDown,h=(s.onValueChange,void 0!==c&&u),g=this.getNumberRegex(!1,h),v=new RegExp("-"),y="string"==typeof m;if(this.selectionBeforeInput={selectionStart:o,selectionEnd:r},"ArrowLeft"===n||"Backspace"===n?t=o-1:"ArrowRight"===n?t=o+1:"Delete"===n&&(t=o),void 0===t||o!==r)return void f(e);var b=t,C=y?m.indexOf("#"):d.length,E=y?m.lastIndexOf("#")+1:l.length-p.length;if("ArrowLeft"===n||"ArrowRight"===n){var S="ArrowLeft"===n?"left":"right";b=this.correctCaretPosition(l,t,S)}else if("Delete"!==n||g.test(l[t])||v.test(l[t])){if("Backspace"===n&&!g.test(l[t]))if(o<=C+1&&"-"===l[0]&&void 0===m){var w=l.substring(1);e.persist(),this.updateValue({formattedValue:w,caretPos:b,input:a})}else if(!v.test(l[t])){for(;!g.test(l[b-1])&&b>C;)b--;b=this.correctCaretPosition(l,b,"left")}}else for(;!g.test(l[b])&&b<E;)b++;(b!==t||t<C||t>E)&&(e.preventDefault(),this.setPatchedCaretPosition(a,b,l)),e.isUnitTestRun&&this.setPatchedCaretPosition(a,b,l),this.props.onKeyDown(e)}},{key:"onMouseUp",value:function(e){var t=e.target,a=t.selectionStart,n=t.selectionEnd,o=t.value,r=void 0===o?"":o;if(a===n){var i=this.correctCaretPosition(r,a);i!==a&&this.setPatchedCaretPosition(t,i,r)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),this.focusedElm=e.target,setTimeout(function(){var a=e.target,n=a.selectionStart,o=a.selectionEnd,r=a.value,i=void 0===r?"":r,l=t.correctCaretPosition(i,n);l===n||0===n&&o===i.length||t.setPatchedCaretPosition(a,l,i),t.props.onFocus(e)},0)}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.displayType,n=e.customInput,o=e.renderText,i=e.getInputRef,l=this.state.value,s=(0,g.omit)(this.props,v),c=r({},s,{type:t,value:l,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===a)return o?o(l)||null:h.default.createElement("span",r({},s,{ref:i}),l);if(n){var u=n;return h.default.createElement(u,c)}return h.default.createElement("input",r({},c,{ref:i}))}}]),t}(h.default.Component);b.propTypes=v,b.defaultProps=y;var C=b;t.default=C,e.exports=t.default},6081:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(8),p=n(d),m=a(31),f=n(m),h=a(21),g=n(h),v=a(326),y=n(v),b=a(29),C=n(b),E=a(114),S=n(E),w=a(167),x=n(w),O=a(6082),k=n(O),D=a(38),I=n(D),T=a(39),N=n(T),P=a(4),A=n(P),j=a(165),M=n(j),R=a(33),F=n(R),B=a(66),_=n(B),L=a(338),H=n(L),U=function(e){return{dueDetailsRoot:{borderRadius:"0",background:"transparent"},postCallDueDetailsRoot:{borderRadius:"0",height:"60vh",overflowY:"auto"},menuItemRoot:{color:e.palette.primary.main,fontSize:".9rem",padding:"1.5vh 1.09vw"},menuPaper:{backgroundColor:e.palette.solidBackground.main,overflowY:"auto",border:"2px solid white"},icon:{color:"grey",height:".65em",width:".65em"},checkedIcon:{color:e.palette.secondary.main,width:"calc(1.2vh + 1.2vw)",height:"calc(1.2vh + 1.2vw)"},selectFilter:{minWidth:120,color:e.palette.primary.main,fontSize:".9rem !important",marginLeft:"1.718vw"},emailIcon:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)"},enabledEmailIcon:{cursor:"pointer"},disabledEmailIcon:{opacity:".5"},blackText:{color:e.palette.primary.main,fontSize:".9rem"},selectMenu:{fontSize:".9rem !important",color:e.palette.primary.main,borderBottom:"1px solid rgba(255,255,255,.2)"},clearSelections:{marginLeft:".5rem",opacity:.65,fontSize:"0.888rem",color:e.palette.primary.main},clearSelectionsParent:{display:"flex",alignItems:"center",color:e.palette.primary.main,fontSize:"1rem",cursor:"pointer",paddingRight:".45rem"},selectIcon:{color:e.palette.secondary.main,opacity:.6},selectLinePostCall:{boxShadow:"none",borderBottom:".7px solid #596A75 !important",padding:".7vh 0"},selectLineInCall:{boxShadow:"none",marginTop:"2.037vh"},invoiceBucketCheckbox:{width:"3.125vw"},checkBoxRoot:{padding:"0"},clearSelectionGrid:{display:"flex",justifyContent:"flex-end",alignItems:"center"}}},V={invoices:[],filterInvoices:function(){},bucketNames:[]},W=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));z.call(a),a.totalRows=0;for(var n={},i=0;i<e.invoices.length;i++){a.totalRows=a.totalRows+e.invoices[i].length;for(var l=0;l<e.invoices[i].length;l++)e.correctInvoicesMap&&e.invoices[i][l].id in e.correctInvoicesMap?n[e.invoices[i][l].id]=!0:n[e.invoices[i][l].id]=!1}return 1==a.props.postCall&&a.props.setSelectedInvoices(n),a.state={invoices:e.invoices,invoiceType:"All",selectedInvoices:n,allInvoices:e.invoices,globalCheck:!1,isBulkEmail:!0,collector:a.props.collector,customer:a.props.customer,snackBarOpen:!1,snackBarMessage:""},a.props.filterInvoices("All"),a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({invoices:e.invoices,allInvoices:e.invoices},function(){t.setCheck(e.invoices,t.state.selectedInvoices)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=this.props.bucketNames;return c.default.createElement(f.default,{className:this.props.postCall?a.postCallDueDetailsRoot:a.dueDetailsRoot,elevation:0},c.default.createElement(C.default,{container:!0,alignItems:"center",className:this.props.postCall?a.selectLinePostCall:a.selectLineInCall},c.default.createElement(C.default,{item:!0,className:a.invoiceBucketCheckbox,align:"center"},c.default.createElement(y.default,{classes:{root:a.checkBoxRoot},icon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.globalCheck,onClick:this.handleChange})),c.default.createElement(C.default,{item:!0,xs:1},c.default.createElement("span",{className:a.blackText},"Select All")),c.default.createElement(C.default,{item:!0,xs:1,align:"right"},c.default.createElement(g.default,{style:{color:n.palette.primary.main,opacity:.5}},"View :")),c.default.createElement(C.default,{item:!0,xs:4},c.default.createElement(S.default,{className:(0,p.default)(a.selectFilter),value:this.state.invoiceType,onChange:this.handleFilterChange,classes:{icon:a.selectIcon,selectMenu:a.selectMenu},MenuProps:{classes:{paper:a.menuPaper}},inputProps:{name:"invoiceType",disableUnderline:!0}},c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"All"},"All"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Broken P2P"},"Broken P2P"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Upcoming P2P"},"Upcoming P2P"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Dispute"},"Dispute"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Predicted Delinquent"},"Predicted Delinquent"))),this.props.postCall&&c.default.createElement(C.default,{item:!0,xs:5,align:"right",className:a.clearSelectionGrid},c.default.createElement("div",{onClick:this.clearSelections,className:a.clearSelectionsParent},c.default.createElement(H.default,{style:{fontSize:"1.1rem",opacity:.65}})," ",c.default.createElement("span",{className:a.clearSelections},"Clear Selections ",this.selectedInvoicesLength()))),!this.props.postCall&&c.default.createElement(C.default,{item:!0,xs:5,align:"right",style:{paddingRight:"0vw"}},this.props.emailOfCalled&&!this.state.isBulkEmail&&c.default.createElement("img",{className:(0,p.default)(a.emailIcon,a.enabledEmailIcon),onClick:this.sendBulkEmail,src:"/tovo/static/Email.svg"}),this.props.emailOfCalled&&!this.state.isBulkEmail&&c.default.createElement("img",{className:(0,p.default)(a.emailIcon,a.disabledEmailIcon),src:"/tovo/static/Email.svg"}))),this.state.invoices.map(function(t,a){return c.default.createElement(k.default,{emailOfCalled:e.props.emailOfCalled,postCall:e.props.postCall,collector:e.props.collector,customer:e.props.customer,selectedInvoices:e.state.selectedInvoices,invoices:t,individual:!1,days:o[a],invoiceType:e.state.invoiceType,updateGlobalMap:e.updateGlobalMap})}),c.default.createElement(M.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:c.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[c.default.createElement(F.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},c.default.createElement(_.default,null))]}))}}]),t}(c.default.Component),z=function(){var e=this;this.setCheck=function(t,a){for(var n=!1,o=t,r=!1,i=0,l=0;l<o.length;l++){i+=o[l].length;for(var s=0;s<o[l].length;s++)if(0==e.state.selectedInvoices[o[l][s].id]){r=!0;break}}for(var l=0;l<o.length;l++)for(var s=0;s<o[l].length;s++)if(1==e.state.selectedInvoices[o[l][s].id]){n=!0,e.setState({isBulkEmail:!1});break}n||e.setState({isBulkEmail:!0}),0==i&&(r=!0),1==r?e.setState({globalCheck:!1}):e.setState({globalCheck:!0})},this.updateGlobalMap=function(t,a,n){var o;switch(a){case"add":o=e.state.selectedInvoices,o[t]=!0,e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"remove":o=e.state.selectedInvoices,o[t]=!1,e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"addArray":if(1==n){o=e.state.selectedInvoices;for(var r=0;r<t.length;r++)o[t[r].id]=!0;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break}o=e.state.selectedInvoices;for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)o[t[i][r].id]=!0;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"removeArray":if(1==n){o=e.state.selectedInvoices;for(var r=0;r<t.length;r++)o[t[r].id]=!1;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break}o=e.state.selectedInvoices;for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)o[t[i][r].id]=!1;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o)}1==e.props.postCall&&e.props.setSelectedInvoices(o)},this.handleChange=function(){1==e.state.globalCheck?e.updateGlobalMap(e.state.invoices,"removeArray",!1):e.updateGlobalMap(e.state.invoices,"addArray",!1)},this.clearSelections=function(){e.updateGlobalMap(e.state.invoices,"removeArray",!1)},this.findType=function(e){return e.p2pDelinquent?"Predicted Delinqment":e.p2pUpcoming?"Upcoming P2P":e.p2pBroken?"Broken P2P":"Dispute"},this.handleFilterChange=function(t){e.setState({invoiceType:t.target.value}),e.props.filterInvoices(t.target.value)},this.preventDefault=function(e){e.preventDefault()},this.openSnackBarWithMessage=function(t){e.setState({snackBarMessage:t}),e.setState({snackBarOpen:!0})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.sendBulkEmail=function(){for(var t=e.state.invoices,a=[],n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)1==e.state.selectedInvoices[t[n][o].id]&&a.push(t[n][o].id);var r={customerId:e.state.customer.id,documentIds:a,from:e.state.collector.emailId,to:e.props.emailOfCalled};N.default.post(I.default.apiUrl+"/correspondence/invoicecopy",r).then(function(t){e.openSnackBarWithMessage("Email sent")}).catch(function(t){e.openSnackBarWithMessage("Error in sending email")})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0;for(var n in t)1==t[n]&&a++;if(0!=a)return"("+a+")"}};W.propTypes={classes:A.default.object.isRequired,invoices:A.default.array,filterInvoices:A.default.func},W.defaultProps=V,t.default=(0,u.withStyles)(U,{withTheme:!0})(W)},6082:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(173),m=n(p),f=a(174),h=n(f),g=a(333),v=n(g),y=a(8),b=n(y),C=a(52),E=a(21),S=n(E),w=a(339),x=n(w),O=a(326),k=n(O),D=a(29),I=n(D),T=a(66),N=n(T),P=a(354),A=n(P),j=a(114),M=n(j),R=a(167),F=n(R),B=a(38),_=n(B),L=a(39),H=n(L),U=a(4),V=n(U),W=a(165),z=n(W),Y=a(33),K=n(Y),G=a(324),q=a(6083),X=(n(q),function(e){var t;return t={root:{padding:"0"},menuItemRoot:{color:e.palette.primary.main,fontSize:".9rem",padding:"1.5vh 1.09vw"},menuPaper:{backgroundColor:e.palette.solidBackground.main,overflowY:"auto"},postCallRoot:{padding:"0",marginTop:".8vh"},icon:{color:e.palette.primary.main,width:"1.25vw",height:"2.22vh",opacity:".6"},checkedIcon:{color:e.palette.secondary.main,zIndex:"3",height:"calc(1.2vh + 1.2vw)",width:"calc(1.2vh + 1.2vw)"},selectFilter:{minWidth:120,marginLeft:"1.718vw"},gridList:{width:"100%",height:"100%",margin:"0 -2px -2px -2px !important",overflow:"hidden"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{backgroundColor:"#39586F"},shift:{margin:"1rem 1rem 0 1rem"},blackText:{color:e.palette.primary.main,fontSize:".95rem",textAlign:"center"},greyText:{opacity:".65"},bucketHeaderText:{color:e.palette.primary.main,fontSize:".9rem"},emailTableCell:{textAlign:"center",fontSize:".7rem",color:e.palette.primary.main,borderBottom:".7px solid #596A75 !important",width:"calc(1.46vh + 1.46vw)",height:"calc(1.46vh + 1.46vw)"},changeRowBackground:{backgroundColor:"#586973"},defaultBackground:{borderBottom:".7px solid #395C73 !important",height:"5.65vh"},invoiceHeaderText:{fontSize:".9rem",color:e.palette.primary.main,opacity:".5"},panelSummary:{padding:"0",margin:"0"},content:{margin:"0 !important"},expandIcon:{width:"calc(1.46vh + 1.46vw)",height:"calc(1.46vh + 1.46vw)",color:e.palette.secondary.main},individualInvoiceHeader:{boxShadow:"none",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"2.037vh"},emailIcon:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)"},enabledEmailIcon:{cursor:"pointer"},disabledEmailIcon:{opacity:".5"},summaryExpanded:{minHeight:"5.55vh !important"},disableTimeline:{marginTop:"2.2rem",marginLeft:".2rem"},timeline:{borderLeft:"1px solid #596A75"}},l(t,"disableTimeline",{}),l(t,"postCallTimeline",{borderLeft:"1px solid #395C73"}),l(t,"selectIcon",{color:e.palette.primary.main,opacity:.6}),l(t,"summaryContent",{boxShadow:"none",paddingRight:"0 !important"}),l(t,"alignGridCellCenter",{display:"flex",justifyContent:"center",alignItems:"center"}),l(t,"invoiceNumberColumn",{width:"14%"}),l(t,"amountColumn",{width:"12%"}),l(t,"brokenColumn",{width:"13.5%"}),l(t,"upcomingColumn",{width:"14%"}),l(t,"disputeColumn",{width:"13%"}),l(t,"predictedColumn",{width:"18%"}),l(t,"checkBoxColumn",{textAlign:"center",minWidth:"3.125vw"}),l(t,"borderBottom",{borderBottom:".7px solid #395C73 !important"}),l(t,"emailColumn",{display:"flex",alignItems:"center",justifyContent:"flex-end"}),l(t,"invoiceBucketCheckbox",{width:"3.125vw",height:"5.55vh",display:"flex",alignItems:"center",justifyContent:"center"}),l(t,"verticalTimeline",{width:"3.125vw"}),l(t,"connector",{height:"5.55vh"}),l(t,"checkBoxRoot",{padding:"0"}),l(t,"individualBucketCheckbox",{minWidth:"3.125vw"}),l(t,"selectMenu",{fontSize:".9rem !important",color:e.palette.primary.main,borderBottom:"1px solid rgba(255,255,255,.2)"}),l(t,"gridListTile",{height:"auto !important"}),t}),J={invoices:[],selectedInvoices:[],filterInvoices:function(){}},Q=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Z.call(a);var n;a.totalAmount=0;for(var i={},l=0;l<e.invoices.length;l++)a.totalAmount=a.totalAmount+e.invoices[l].currentOpenAmount,i[e.invoices[l].id]=!1;var s,c;return a.props.individual?(s=i,c="All",a.props.filterInvoices("All"),n=!0):(s=a.props.selectedInvoices,c=e.invoiceType,n=!1),a.state={checked:!1,invoices:e.invoices,allInvoices:e.invoices,selectedInvoices:s,days:e.days,totalAmount:a.totalAmount,invoiceType:c,expanded:n,isBulkEmail:!0,customer:a.props.customer,collector:a.props.collector,snackBarOpen:!1,snackBarMessage:""},a}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){for(var t=0,a=0;a<e.invoices.length;a++)t+=e.invoices[a].currentOpenAmount;e.individual?(this.setState({totalAmount:t,invoices:e.invoices,allInvoices:e.invoices}),this.setCheck(e.invoices,this.state.selectedInvoices)):(this.setState({totalAmount:t,invoices:e.invoices,allInvoices:e.invoices,selectedInvoices:e.selectedInvoices}),this.setCheck(e.invoices,this.state.selectedInvoices))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{style:{position:"relative"}},this.props.individual&&u.default.createElement(I.default,{container:!0,xs:12,alignItems:"center",justify:"space-between",className:a.individualInvoiceHeader},u.default.createElement(I.default,{item:!0,align:"center",style:{zIndex:"5"},className:a.individualBucketCheckbox},u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.checked,onClick:function(){return e.checkAllInvoices(event)}})),u.default.createElement(I.default,{item:!0,xs:1},u.default.createElement("span",{className:a.bucketHeaderText},"Select All")),u.default.createElement(I.default,{item:!0,xs:1,align:"right"},u.default.createElement(S.default,{style:{color:"#989898"}},"View :  ")),u.default.createElement(I.default,{item:!0,xs:4},u.default.createElement(M.default,{className:(0,b.default)(a.selectFilter),value:this.state.invoiceType,classes:{icon:a.selectIcon,selectMenu:a.selectMenu},onChange:this.handleFilterChange,inputProps:{name:"invoiceType"},MenuProps:{classes:{paper:a.menuPaper}}},u.default.createElement(F.default,{classes:{root:a.menuItemRoot},value:"All"},"All"),u.default.createElement(F.default,{classes:{root:a.menuItemRoot},value:"Broken P2P"},"Broken P2P"),u.default.createElement(F.default,{classes:{root:a.menuItemRoot},value:"Upcoming P2P"},"Upcoming P2P"),u.default.createElement(F.default,{classes:{root:a.menuItemRoot},value:"Dispute"},"Dispute"),u.default.createElement(F.default,{classes:{root:a.menuItemRoot},value:"Predicted Delinquent"},"Predicted Delinquent"))),u.default.createElement(I.default,{item:!0,xs:5,align:"right"},this.props.emailOfCalled&&!this.state.isBulkEmail&&u.default.createElement("img",{className:(0,b.default)(a.emailIcon,a.enabledEmailIcon),onClick:this.sendBulkEmail,src:"/tovo/static/Email.svg"}),this.props.emailOfCalled&&!this.state.isBulkEmail&&u.default.createElement("img",{className:(0,b.default)(a.emailIcon,a.disabledEmailIcon),src:"/tovo/static/Email.svg"}))),u.default.createElement(I.default,{container:!0,alignItems:"flex-start"},u.default.createElement(I.default,{item:!0,xs:12,className:this.props.individual?a.shift:a.noShift},u.default.createElement(m.default,{style:{boxShadow:"none",backgroundColor:"transparent"},defaultExpanded:this.props.individual,expanded:this.state.expanded},!this.props.individual&&u.default.createElement(h.default,{className:a.panelSummary,classes:{content:a.content,expanded:a.summaryExpanded}},u.default.createElement(I.default,{container:!0,alignItems:"center",className:a.summaryContent},u.default.createElement(I.default,{item:!0,className:a.invoiceBucketCheckbox,align:"center"},u.default.createElement("div",{className:a.connector}),u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.checked,onClick:function(){return e.checkAllInvoices(event)}})),u.default.createElement(I.default,{container:!0,alignItems:"center",justify:"space-between",item:!0,xs:11,align:"left",onClick:this.toggleExpand,className:a.borderBottom},u.default.createElement(I.default,{item:!0,xs:10},u.default.createElement("span",{className:a.bucketHeaderText},this.state.days,""),u.default.createElement("span",{className:(0,b.default)(a.greyText,a.bucketHeaderText)},this.selectedInvoicesLength())),u.default.createElement(I.default,{item:!0,xs:2,align:"right"},!this.state.expanded&&u.default.createElement(x.default,{className:a.expandIcon}),this.state.expanded&&u.default.createElement(G.ExpandLess,{className:a.expandIcon}))))),u.default.createElement(v.default,{className:this.props.postCall?a.postCallRoot:a.root},!this.props.postCall&&u.default.createElement(I.default,{container:!0},!this.props.individual&&u.default.createElement(I.default,{item:!0,container:!0,className:a.verticalTimeline,justify:"center"},u.default.createElement(I.default,{item:!0,className:this.props.individual?a.disableTimeline:a.timeline})),u.default.createElement(I.default,{item:!0,container:!0,xs:this.props.individual?12:11,alignItems:"center",justify:"center"},u.default.createElement(I.default,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between",style:{marginTop:"1.34vh"}},u.default.createElement(I.default,{item:!0,className:a.checkBoxColumn},u.default.createElement("span",null)),u.default.createElement(I.default,{item:!0,align:"center",className:(0,b.default)(a.invoiceNumberColumn,a.invoiceHeaderText,a.alignGridCellCenter)},"Invoice Number"),u.default.createElement(I.default,{item:!0,align:"right",className:(0,b.default)(a.amountColumn,a.invoiceHeaderText,a.alignGridCellCenter)},"Amount"),u.default.createElement(I.default,{item:!0,align:"center",className:(0,b.default)(a.brokenColumn,a.invoiceHeaderText,a.alignGridCellCenter)},"Broken P2P"),u.default.createElement(I.default,{item:!0,align:"center",className:(0,b.default)(a.upcomingColumn,a.invoiceHeaderText,a.alignGridCellCenter)},"Upcoming P2P"),u.default.createElement(I.default,{item:!0,align:"center",className:(0,b.default)(a.disputeColumn,a.invoiceHeaderText,a.alignGridCellCenter)},"Dispute"),u.default.createElement(I.default,{item:!0,align:"center",className:(0,b.default)(a.predictedColumn,a.invoiceHeaderText,a.alignGridCellCenter)},"Predicted Delinquent"),u.default.createElement(I.default,{item:!0,xs:1,className:a.emailColumn})),this.state.invoices.map(function(t,n){return u.default.createElement(I.default,{item:!0,container:!0,alignItems:"center",justify:"space-between",xs:12,className:e.state.selectedInvoices[t.id]?(0,b.default)(a.changeRowBackground,a.defaultBackground):a.defaultBackground,key:t.id+"row"},u.default.createElement(I.default,{item:!0,className:a.checkBoxColumn,align:"center",padding:"checkbox"},u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},id:t.id,icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:1==e.state.selectedInvoices[t.id],onClick:function(){return e.addInvoice(t.id)}})),u.default.createElement(I.default,{align:"center",numeric:!0,className:(0,b.default)(a.invoiceNumberColumn,a.blackText,a.alignGridCellCenter)},t.documentNumber),u.default.createElement(I.default,{align:"right",numeric:!0,className:(0,b.default)(a.amountColumn,a.blackText,a.alignGridCellCenter)},"$"+(0,C.formatter)(t.currentOpenAmount)),u.default.createElement(I.default,{className:(0,b.default)(a.brokenColumn,a.alignGridCellCenter),align:"center",numeric:!0},t.p2pBroken?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(I.default,{className:(0,b.default)(a.upcomingColumn,a.alignGridCellCenter),align:"center",numeric:!0},t.p2pUpcoming?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(I.default,{className:(0,b.default)(a.disputeColumn,a.alignGridCellCenter),align:"center",numeric:!0},null!=t.disputeStatus?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(I.default,{className:(0,b.default)(a.predictedColumn,a.alignGridCellCenter),align:"center",numeric:!0},t.p2pDelinquent?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(I.default,{className:a.emailColumn,xs:1,align:"right"},e.props.emailOfCalled&&!e.state.selectedInvoices[t.id]&&u.default.createElement("img",{className:(0,b.default)(a.emailIcon,a.enabledEmailIcon),onClick:function(){return e.sendEmail(t.id)},src:"/tovo/static/Email.svg"})))}))),this.props.postCall&&u.default.createElement(I.default,{container:!0},u.default.createElement(I.default,{item:!0,container:!0,className:a.verticalTimeline,justify:"center"},u.default.createElement(I.default,{item:!0,className:a.postCallTimeline})),u.default.createElement(I.default,{item:!0,xs:11},u.default.createElement(GridList,{cellHeight:"auto",className:a.gridList},this.state.invoices.map(function(t){return u.default.createElement(GridListTile,{cols:1,key:t.id,classes:{tile:a.gridListTile},style:{height:"auto",width:"16vw",margin:"0.2rem"}},u.default.createElement("div",{className:1==e.state.selectedInvoices[t.id]?a.selectedGridListDiv:a.gridListDiv},u.default.createElement(k.default,{style:{padding:"2px",alignItems:"center",left:"3%"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),id:t.id,checked:1==e.state.selectedInvoices[t.id],onClick:function(){return e.addInvoice(t.id)}}),u.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},u.default.createElement(S.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.65,lineHeight:"1.7rem"}},t.documentNumber),u.default.createElement(S.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",(0,C.formatter)(t.currentOpenAmount)))))})))))))),u.default.createElement(z.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[u.default.createElement(K.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(N.default,null))]}))}}]),t}(u.default.Component),Z=function(){var e=this;this.handleFilterChange=function(t){e.setState({invoiceType:t.target.value}),e.props.filterInvoices(t.target.value)},this.toggleExpand=function(){1==e.state.expanded?e.setState({expanded:!1}):e.setState({expanded:!0})},this.addInvoice=function(t){0==e.state.selectedInvoices[t]?e.props.individual?e.updateLocalMap(t,"add"):e.props.updateGlobalMap(t,"add",!0):e.props.individual?e.updateLocalMap(t,"remove"):e.props.updateGlobalMap(t,"remove",!0)},this.checkAllInvoices=function(t){1==e.state.checked?(e.setState({checked:!1}),e.props.individual?e.updateLocalMap(e.state.invoices,"removeArray"):e.props.updateGlobalMap(e.state.invoices,"removeArray",!0)):(e.setState({checked:!0}),e.props.individual?e.updateLocalMap(e.state.invoices,"addArray"):e.props.updateGlobalMap(e.state.invoices,"addArray",!0))},this.updateLocalMap=function(t,a){switch(a){case"add":var n=e.state.selectedInvoices;n[t]=!0,e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"remove":var n=e.state.selectedInvoices;n[t]=!1,e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"addArray":for(var n=e.state.selectedInvoices,o=0;o<t.length;o++)n[t[o].id]=!0;e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"removeArray":for(var n=e.state.selectedInvoices,o=0;o<t.length;o++)n[t[o].id]=!1;e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n)}},this.setCheck=function(){for(var t=e.state.invoices,a=!1,n=!1,o=0;o<t.length;o++)if(1==e.state.selectedInvoices[t[o].id]){n=!0,e.setState({isBulkEmail:!1});break}n||e.setState({isBulkEmail:!0});for(var r=0;r<t.length;r++)if(0==e.state.selectedInvoices[t[r].id]){a=!0;break}0==t.length&&(a=!0),1==a?e.setState({checked:!1}):e.setState({checked:!0})},this.openSnackBarWithMessage=function(t){e.setState({snackBarMessage:t}),e.setState({snackBarOpen:!0})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.sendEmail=function(t){var a={customerId:e.state.customer.id,documentIds:[t],from:e.state.collector.emailId,to:e.props.emailOfCalled};H.default.post(_.default.apiUrl+"/correspondence/invoicecopy",a).then(function(t){e.openSnackBarWithMessage("Email sent"),console.log(t.data),console.log(t.status),console.log(t.statusText)}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),console.log(t)})},this.sendBulkEmail=function(){console.log("Sending Bulk email");for(var t=e.state.invoices,a=[],n=0;n<t.length;n++)1==e.state.selectedInvoices[t[n].id]&&a.push(t[n].id);var o={customerId:e.state.customer.id,documentIds:a,from:e.state.collector.emailId,to:e.props.emailOfCalled};H.default.post(_.default.apiUrl+"/correspondence/invoicecopy",o).then(function(t){e.openSnackBarWithMessage("Email sent"),console.log(t.data),console.log(t.status),console.log(t.statusText)}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),console.log(t)})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0,n=e.state.invoices;for(var o in n)1==t[n[o].id]&&a++;return 0!=a&&e.props.postCall?"("+a+" Selected)":"(Total: $"+(0,C.formatter)(e.state.totalAmount,"")+" - "+e.state.invoices.length+" Invoices)"}};Q.propTypes={classes:V.default.object.isRequired,invoices:V.default.array,filterInvoices:V.default.func},Q.defaultProps=J,t.default=(0,d.withStyles)(X,{withTheme:!0})(Q)},6083:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(8),p=(n(d),a(52)),m=a(21),f=n(m),h=a(326),g=n(h),v=a(328),y=n(v),b=a(329),C=n(b),E=function(e){return{gridList:{width:"100%",height:"100%",margin:"0 -2px -2px -2px !important",overflow:"hidden"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{backgroundColor:"#39586F"},gridListTile:{height:"auto !important"}}},S={invoicesCheckboxMap:new Map,correctInvoicesMap:{},selectedInvoices:[],invoices:[],done:!0,inInvoiceTable:!1},w=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.addInvoice=function(e){a.props.addInvoice(e)},a.getClassOfGridListTile=function(e,t,n,o){return invoice.id in a.state.correctInvoicesMap?t.get(invoice.id.toString())||a.state.selectedInvoices[invoice.id]?classes.selectedGridListDiv:classes.gridListDiv:classes.incorrectDiv},a.state={invoices:a.props.invoices,selectedInvoices:a.props.selectedInvoices,correctInvoicesMap:a.props.correctInvoicesMap,invoicesCheckboxMap:a.props.invoicesCheckboxMap},a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({invoices:e.invoices,selectedInvoices:e.selectedInvoices,correctInvoicesMap:e.correctInvoicesMap,invoicesCheckboxMap:e.invoicesCheckboxMap})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return c.default.createElement(y.default,{cellHeight:"auto",className:a.gridList},this.state.correctInvoices.map(function(t){return c.default.createElement(C.default,{cols:1,key:t.id,style:{height:"auto",width:"16vw",margin:"0.4rem"}},c.default.createElement("div",{className:e.getClassOfGridListTile(e.state.correctInvoicesMap,e.state.invoicesCheckboxMap,t.id,e.state.selectedInvoices)},!e.props.done&&c.default.createElement(g.default,{style:{padding:"2px",left:"3%",alignItems:"center"},icon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),disabled:!(t.id in e.state.correctInvoicesMap),checked:e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected,onClick:function(){return e.toggleCheckbox(t.id.toString())}}),c.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},c.default.createElement(f.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.5,lineHeight:"1.7rem"}},t.documentNumber),c.default.createElement(f.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",t.id in e.state.correctInvoicesMap?(0,p.formatter)(t.currentOpenAmount):"----")),!(e.props.inInvoiceTable||e.props.done)&&c.default.createElement(Close,{style:{position:"absolute",right:"10%",top:"27%",width:"calc(.8vh + .8vw)",height:"calc(.8vh + .8vw)"},className:a.addIcon,onClick:function(){e.deleteInvoice(t.id)}})))}))}}]),t}(c.default.Component);w.defaultProps=S,t.default=(0,u.withStyles)(E,{withTheme:!0})(w)},6084:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t="transition"+e+"Timeout",a="transition"+e;return function(e){if(e[a]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=o;var r=a(0),i=(n(r),a(4)),l=n(i);t.nameShape=l.default.oneOfType([l.default.string,l.default.shape({enter:l.default.string,leave:l.default.string,active:l.default.string}),l.default.shape({enter:l.default.string,enterActive:l.default.string,leave:l.default.string,leaveActive:l.default.string,appear:l.default.string,appearActive:l.default.string})])},6085:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=n(u),p=a(19),m=a(6112),f=n(m),h=a(53),g=a(113),v=function(e){return{}},y=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.generateChatBoxes=function(e,t){return e.includes(g.TRANSCRIPT_DELIMETERS.COLLECTOR)?c.default.createElement(f.default,{key:t,isCollector:!0,initials:a.props.userInitials?a.props.userInitials:"ME",message:e.replace(g.TRANSCRIPT_DELIMETERS.COLLECTOR,"")}):e.includes(g.TRANSCRIPT_DELIMETERS.CUSTOMER)?c.default.createElement(f.default,{key:t,isCollector:!1,initials:a.props.calledToNameInitials,message:e.replace(g.TRANSCRIPT_DELIMETERS.CUSTOMER,"")}):e.includes(g.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS)?c.default.createElement(f.default,{key:t,isDetecting:!0,initials:"",message:e.replace(g.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS,"")}):void 0},a.state={transcription:[]},a}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.transcription),a=(0,h.splitTranscript)(t);return c.default.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},a.map(this.generateChatBoxes))}}]),t}(s.Component);y.propTypes={classes:d.default.object.isRequired},y.defaultProps={transcription:"",calledToNameInitials:"CN",userInitials:"ME"},t.default=(0,p.withStyles)(v,{withTheme:!0})(y)},6090:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(88),d=a(4),p=n(d),m=a(0),f=n(m),h=a(19),g=a(41),v=a(67),y=a(24),b=a(29),C=n(b),E=a(6091),S=n(E),w=a(324),x=a(23),O=a(40),k=n(O),D=a(325),I=n(D),T=a(84),N=n(T),P=a(116),A=n(P),j=a(117),M=n(j),R=a(180),F=n(R),B=a(169),_=n(B),L=a(166),H=n(L),U=a(38),V=n(U),W=a(39),z=n(W),Y=a(6103),K=n(Y),G=a(171),q=(n(G),a(170)),X=(n(q),a(85)),J=n(X),Q=a(164),Z=n(Q),$=a(327),ee=n($),te=a(6085),ae=n(te),ne=a(165),oe=n(ne),re=a(33),ie=n(re),le=a(66),se=n(le),ce=a(53),ue=a(113),de={invoice:[]},pe={confidence:0,intent:"",summary:""},me=Object.freeze({SUCCESS:"Saved successfully",ERROR:"Failed to save. Please retry"}),fe="Create Promise to pay for <amount-of-money> to be paid by <Date-Time> for <X invoices>",he="Create Folllow up event for <Date-Time>",ge=Object.freeze({P2P:"P2P",DISPUTE:"Dispute",FOLLOW_UP:"Followup"}),ve=function(e){var t,a,n;return n={appFrame:{overflowX:"hidden",display:"flex",flexDirection:"row",maxHeight:"100vh"},root:{margin:"1.12vh 1.041vw 0em 1.041vw",backgroundColor:e.palette.background.main,width:"100%",alignItems:"center",paddingBottom:"0",justifyContent:"center"},duration:{marginRight:"2em"},transcriptBox:{height:"58.98vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main,marginBottom:"1.85vh"},summaryBox:{height:"25.50vh",padding:"0.8rem",borderRadius:"4px",display:"flex",backgroundColor:e.palette.cardBackground.main},transcriptTitle:{fontSize:"1.1rem",color:e.palette.primary.main,paddingLeft:".8rem",paddingTop:".8rem",opacity:.65,position:"absolute"},transcriptText:{color:e.palette.primary.main},highlightTranscriptText:{backgroundColor:"yellow"},transcriptTextParent:{whiteSpace:"pre-line",marginTop:"2.5rem",height:"85%",overflowY:"auto",padding:"0.5rem 0.5rem 0.5rem 0px",fontFamily:"Roboto",marginLeft:"1rem",width:"100%",wordWrap:"break-word"},nonActionNotesTitle:(t={fontSize:"1rem",lineHeight:"1.5rem",color:e.palette.primary.main,position:"relative"},s(t,"color",e.palette.primary.main),s(t,"opacity",.65),t),customerName:{fontFamily:e.font.title.fontFamily,fontSize:"1.78rem",color:e.palette.secondary.main,lineHeight:"2.1rem"},customerNumber:{fontFamily:e.font.title.fontFamily,fontSize:".8rem",color:e.palette.secondary.main},nonActionNotesNotEditing:{marginTop:"1.3rem",transition:"0.3s",wordBreak:"break-word",width:"-webkit-fill-available",color:e.palette.primary.main,maxHeight:"15vh"},nonActionNotesEditing:{width:"-webkit-fill-available",boxShadow:" 0 4px 8px 0 rgba(0,0,0,0.2)",transition:"0.3s",padding:"0.8rem",wordBreak:"break-word",color:"#fff !important",marginTop:"1.3rem",maxHeight:"15vh",border:"2px solid #FFF"},progressBarDiv:(a={width:"100%",height:"100%",left:"0",right:"0",bottom:"0",top:"0",backgroundColor:"rgba(0,0,0,0.7)"},s(a,"backgroundColor","rgb(0, 0, 0)"),s(a,"zIndex","9999"),s(a,"position","fixed"),a),progress:{left:"45%",top:"50%",color:"  ",display:"flex",flexDirection:"column",alignItems:"center",position:"fixed"},progressMessage:{color:"#fff",marginTop:"1.3rem"},createActionText:{width:"100%"},test:{width:"auto",height:"10vh",overflowY:"auto",padding:"0px",display:"block !important",color:e.palette.primary.main,whiteSpace:"pre-line"},button:{fontSize:"0.5rem",width:"7.2922vw",boxShadow:"none",minHeight:"4.4444vh",padding:0,"&:hover, &$focusVisible":{backgroundColor:"#86BFE7"}},buttonTitle:{fontFamily:e.font.title.fontFamily,color:e.palette.primary.main},heading:{color:e.palette.primary.main,fontSize:"1.067rem",opacity:.5,paddingBottom:"1.94vh"},summaryBoxActionIcon:{color:e.palette.secondary.main,float:"right",cursor:"pointer"},nonActionNotesContent:{color:e.palette.primary.main,fontSize:"1em",marginBottom:"0.8rem"},nextCustomerUrl:{color:e.palette.secondary.main,fontSize:"0.888rem",height:"4.4444vh",display:"flex",alignItems:"center"},dialog:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main},legalMessage:{color:e.palette.primary.main,opacity:.65,paddingTop:"0px !important",paddingBottom:"0px !important"},createNewActionDialogHeader:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main+" !important",fontSize:"1.24444rem"},createNewActionDialogOptions:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main+" !important",fontSize:"0.9777rem",pointer:"cursor"}},s(n,"dialog",{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main}),s(n,"goToNextCustomerButton",{width:"11.51vw",height:"2.22vh"}),s(n,"dialogPaper",{border:"1px solid white",width:"19.53vw"}),s(n,"actionButton",{boxShadow:"none",fontSize:"1.111rem","&:hover, &$focusVisible":{backgroundColor:"#86BFE7"},height:"6.48vh"}),s(n,"postCallCardGrid",{marginTop:"2.037vh"}),s(n,"paddingRightOnCard",{paddingRight:"1.041vw"}),n},ye=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));be.call(a),a.props.onHangup(),console.log(a.props.nextCustomerUrl,"next customer url");a.props.summary;return a.nextCustomeText="GO TO NEXT CUSTOMER",a.nextCustomerUrl=a.props.nextCustomerUrl,a.nextCustomerUrl||(a.nextCustomerUrl="/",a.nextCustomeText="GO BACK TO HOME PAGE"),console.log(a.props.toCallCustomers,"to call customers"),a.state={date:new Date,anchorEl:null,expaned:!1,isEditingOn:!1,enterFired:!1,summary:"",transcription:a.props.initialTranscription,openProgressBar:!1,doOpenNewActionDialog:!1,isAnyActionCompleted:!1,isReviewDialogOpen:!1,notes:[],isPostCallDone:!1,summaryCompletionMap:new Map,contactLog:a.props.callLogState,userDetails:a.props.user,prevNonActionNotes:"",nonActionNotes:"",snackMessage:{},snackOpen:!1,followupTextList:[],reasonCodeList:[],nonActionIncluded:!1},z.default.get(V.default.apiUrl+"/disputecodes").then(function(e){a.setState({reasonCodeList:e.data?e.data:[]})}).catch(function(e){console.log("Failed to load dispute codes",e)}),z.default.get(V.default.apiUrl+"/tasktypes").then(function(e){a.setState({followupTextList:e.data?e.data:[]})}).catch(function(e){console.log("Failed to load Follow up text list",e)}),a}return l(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.transcription.summary,a=e.transcription.transcription;console.log("Summary re ",JSON.stringify(t)),a&&a!==this.props.transcription.transcription&&(console.log("Updating transcription",a),this.setState({transcription:a})),JSON.stringify(t)!==JSON.stringify(this.state.summary)&&this.initializeSummaryWithDefaults(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=(t.theme,this.state.anchorEl),o=(Boolean(n),this.props.customer),r=this.props.callLogState;console.log(r,"inside render");var i=this.props.user,l=this.props.calledToName,s=(0,ce.getInitialsFromName)(l),c=(0,ce.getInitialsFromName)(i.name);return""===this.props.user.icon?f.default.createElement("div",{className:a.userLogo}," ",this.props.user.firstName.charAt(0)+this.props.user.lastName.charAt(0)):f.default.createElement("img",{src:this.props.user.icon,className:a.userImg}),f.default.createElement("div",{className:a.appFrame},f.default.createElement("div",{className:a.root},f.default.createElement(C.default,{container:!0},f.default.createElement(C.default,{item:!0,container:!0,alignItems:"flex-start"},f.default.createElement(C.default,{item:!0,xs:10},f.default.createElement("div",{style:{display:"flex",alignItems:"center"}},f.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left"}},f.default.createElement("div",{className:a.customerName},o.customerName),f.default.createElement("div",{className:a.customerNumber},o.customerNumber)))),f.default.createElement(C.default,{item:!0,container:!0,xs:2,justify:"flex-end",style:{marginLeft:"-8.33vw"}},f.default.createElement("div",{style:{margin:"0px 0 0 0",display:"flex",alignItems:"center"}},f.default.createElement(C.default,{item:!0,align:"right"},!this.state.isPostCallDone&&f.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"right",height:"4.444vh"}},f.default.createElement(Z.default,{variant:"extended",onClick:this.savePostCallThings,color:"secondary","aria-label":"Add",size:"small",disabled:!this.state.summary,className:a.button},f.default.createElement(x.Typography,{className:a.buttonTitle},"Done "))),this.state.isPostCallDone&&f.default.createElement(g.Link,{style:{textDecoration:"none"},onClick:function(){},to:{pathname:this.nextCustomerUrl,state:{toCallCustomers:this.props.toCallCustomers}}},f.default.createElement(x.Typography,{className:a.nextCustomerUrl},this.nextCustomeText)))))),!this.state.isPostCallDone&&f.default.createElement(C.default,{item:!0,container:!0,className:a.postCallCardGrid},f.default.createElement(C.default,{item:!0,xs:8,className:a.paddingRightOnCard},f.default.createElement("div",null,f.default.createElement(x.Typography,{className:a.heading},"SUGGESTED ACTIONS")),f.default.createElement(C.default,{item:!0,xs:12,style:{height:"auto",maxHeight:"74.7vh",overflowY:"auto"},id:"action-summary-grid-container"},this.state.summary&&this.state.summary.map(function(t){return e.genSummaryActionCards(t)}),!this.state.summary&&f.default.createElement("div",{stlye:{height:"100%"}},f.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"70vh"}},"                          ",f.default.createElement(N.default,null),f.default.createElement(x.Typography,{style:{color:"white",marginTop:"1.3rem"}},"Generating call summary")))),this.state.summary&&f.default.createElement(k.default,{style:{width:"100%"},color:"secondary",className:a.actionButton,variant:"contained",onClick:function(){e.handleActionCreation()}},f.default.createElement(x.Typography,{color:"primary",style:{fontSize:"1.067rem"}},"+ CREATE NEW ACTION"))),f.default.createElement(C.default,{item:!0,container:!0,xs:4,alignItems:"center",style:{height:"86.29vh"}},f.default.createElement(C.default,{item:!0,xs:12,container:!0,id:"transcription-grid",className:a.transcriptBox},f.default.createElement("span",{className:a.transcriptTitle},"CALL TRANSCRIPT"),f.default.createElement("div",{className:a.transcriptTextParent},f.default.createElement(ae.default,{transcription:this.state.transcription,calledToNameInitials:s,userInitials:c}))),f.default.createElement(C.default,{item:!0,xs:12,className:a.summaryBox},f.default.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},f.default.createElement("div",null,f.default.createElement("span",{className:a.nonActionNotesTitle},"NON ACTION NOTES"),this.state.summary&&!this.state.isEditingOn&&f.default.createElement(w.BorderColor,{style:{color:"#5DAAE0",float:"right",cursor:"pointer"},onClick:this.editNonActionNotes}),this.state.summary&&this.state.isEditingOn&&f.default.createElement("div",{style:{float:"right"}},f.default.createElement(w.HighlightOff,{style:{marginLeft:"0.4rem",color:"#FF8888",padding:"0 1.3rem 0 0.8rem",cursor:"pointer"},onClick:this.discardNotesChanges}),f.default.createElement(w.CheckCircleOutline,{style:{color:"#5FC32C",cursor:"pointer"},onClick:this.saveNotesChanges}))),this.state.summary&&f.default.createElement(I.default,{id:"non-action-notes-edit-field",multiline:!0,value:this.state.nonActionNotes,onChange:function(t){e.handleNonactionNotesChange(t)},className:this.state.isEditingOn?a.nonActionNotesEditing:a.nonActionNotesNotEditing,margin:"normal",InputProps:{className:a.test,readOnly:Boolean(!this.state.isEditingOn),disableUnderline:Boolean(!0)}}),!this.state.summary&&f.default.createElement("div",{stlye:{height:"100%"}},f.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"20vh"}},"                            ",f.default.createElement(N.default,{style:{color:"#eeeeee"}}),f.default.createElement(x.Typography,{style:{color:"#eeeeee",marginTop:"1.3rem"}},"Waiting for summary"))))))),this.state.isPostCallDone&&f.default.createElement(C.default,{item:!0,container:!0,xs:12,className:a.postCallCardGrid},f.default.createElement(K.default,{invoiceList:this.generateFinalInvoiceList(),summaryNotes:this.state.notes,nonActionIncluded:this.state.nonActionIncluded,nextCustomerUrl:this.props.nextCustomerUrl,toCallCustomers:this.props.toCallCustomers,customer:this.props.customer,collector:this.props.collector,contactIndex:this.props.contactIndex})),f.default.createElement(H.default,{onClose:this.closeActionCreatorDialog,"aria-labelledby":"simple-dialog-title",open:this.state.doOpenNewActionDialog,classes:{paperScrollPaper:a.dialogPaper}},f.default.createElement(_.default,{id:"simple-dialog-title",className:a.dialog},f.default.createElement("div",{className:a.createNewActionDialogHeader},"Create New Action")),f.default.createElement("div",null,f.default.createElement(A.default,{className:a.createNewActionDialogOptions},Object.keys(ge).map(function(t){return f.default.createElement(M.default,{style:{cursor:"pointer"},onClick:function(){e.handleActionItemClick(ge[t])},key:t},"MAIL"!=t&&f.default.createElement(F.default,null," ",f.default.createElement("div",{className:a.createNewActionDialogOptions}," Create  ",ge[t]," ")," "),"MAIL"==t&&f.default.createElement(F.default,{primary:"Send "+ge[t]}))})))),f.default.createElement(ee.default,{open:this.state.isReviewDialogOpen,onClose:this.closeReviewWarningDialog,title:"You have unsaved actions. Please review before proceeding.",actions:[f.default.createElement(k.default,{onClick:this.closeReviewWarningDialog,color:"secondary"},"OK")]}),f.default.createElement(oe.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage.key,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:f.default.createElement("span",{id:this.state.snackMessage.key},this.state.snackMessage.message),action:[f.default.createElement(ie.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar,onExited:this.handleSnackbarExit},f.default.createElement(se.default,null))]}))))}}]),t}(m.Component),be=function(){var e=this;this.snackMessageQueue=[],this.handleClick=function(t){e.setState({anchorEl:t.currentTarget})},this.deleteAction=function(t){console.log("ID",t,a);var a=e.state.summary.filter(function(e){return e.id!=t}),n=e.state.summaryCompletionMap;n.delete(t),console.log(n),e.setState({summary:a,summaryCompletionMap:n})},this.createSummaryCompletionMap=function(e){var t=new Map;return e&&e.map(function(e){return(e.intent==ue.INTENT_TYPES.FOLLOW_UP||e.intent==ue.INTENT_TYPES.P2P||e.intent==ue.INTENT_TYPES.DISPUTE)&&t.set(e.id,!1)}),t},this.updateSummaryFromChild=function(t,a){var n=e.state.summary;for(var o in n)if(n[o].id==a){n[o].summary=t;break}e.setState({summary:n})},this.genSummaryActionCards=function(t){var a=t.intent;return console.log(t),f.default.createElement(J.default,{in:!0,key:t.id},f.default.createElement(S.default,{onDelete:function(t){return e.deleteAction(t)},onActionItemConfirm:e.updateActionItemCheck,summary:t,style:{width:"100%",marginBottom:"0.7rem"},intentType:a,allInvoiceList:e.props.invoices,customer:e.props.customer,calledToName:e.props.calledToName,calledToNumber:e.props.calledToNumber,completed:function(){return e.markSummaryAsDone(t.id)},bucketNames:e.props.bucketNames,contactLog:e.props.callLogState,callState:e.props.callState,followupTextList:e.state.followupTextList,reasonCodeList:e.state.reasonCodeList,openSnackbarOnAction:function(t){return e.openSnackbar(t)},updateInvoicesInParent:function(a){return e.updateInvoices(a,t.id)},updateSummaryInParent:function(a){e.updateSummaryFromChild(a,t.id)}}))},this.markSummaryAsDone=function(t){var a=e.state.summaryCompletionMap,n=e.state.summary;for(var o in n)if(n[o].id==t){n[o].save=!0;break}e.setState({summary:n}),a.set(t,!0),e.setState({summaryCompletionMap:a})},this.handleClose=function(){e.setState({anchorEl:null})},this.onChange=function(t){e.setState({date:t}),e.setState({anchorEl:null})},this.updateActionItemCheck=function(t){e.setState({notes:[].concat(o(e.state.notes),[t]),isAnyActionCompleted:!0})},this.checkSummaryCompleteMap=function(){var t=e.state.summaryCompletionMap;console.log(t);var a=!0,n=!1,o=void 0;try{for(var r,i=t.values()[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){if(0==r.value)return!0}}catch(e){n=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}return!1},this.generateNotesAsString=function(){for(var t=e.state.notes,a="",n=0;n<t.length;n++)a+=n===t.length-1?t[n].trim():t[n].trim()+"/n";return a},this.saveCallLog=function(){var t=e.generateNotesAsString(),a=e.props.callLogState,n=e.props.customer,o={id:a.id,callSummary:e.props.transcription.transcription,duration:e.props.callDuration,note:{customerId:n.id,noteContent:t}};z.default.put(V.default.apiUrl+"/call",o).then(function(t){e.setState({openProgressBar:!1,isPostCallDone:!0}),u.store.dispatch((0,v.changeTranscription)({transcription:""}))}).catch(function(t){e.setState({openProgressBar:!1,isPostCallDone:!0})})},this.savePostCallThings=function(){if(e.checkSummaryCompleteMap())return void e.setState({isReviewDialogOpen:!0});e.state.nonActionNotes&&e.state.nonActionNotes.trim()?e.setState({notes:[].concat(o(e.state.notes),[e.state.nonActionNotes.trim()]),nonActionIncluded:!0},function(){e.saveCallLog()}):e.saveCallLog()},this.saveNotesChanges=function(){e.setState({isEditingOn:!1,prevNonActionNotes:e.state.nonActionNotes},function(){e.blurNonActionNotesBox()})},this.discardNotesChanges=function(){e.setState({isEditingOn:!1,nonActionNotes:e.state.prevNonActionNotes},function(){e.blurNonActionNotesBox()})},this.changePop=function(){e.setState({open:!0})},this.onChange=function(t){e.setState({date:t})},this.saveWithoutReview=function(){e.setState({isReviewDialogOpen:!1})},this.openSnackbar=function(t){e.snackMessageQueue.push({message:me[t],key:(new Date).getTime()}),e.state.snackOpen?e.setState({snackOpen:!1}):e.processQueue()},this.processQueue=function(){e.snackMessageQueue.length>0&&e.setState({snackMessage:e.snackMessageQueue.shift(),snackOpen:!0})},this.closeSnackbar=function(t,a){"clickaway"!==a&&e.setState({snackOpen:!1})},this.handleSnackbarExit=function(){e.processQueue()},this.handleActionItemClick=function(t){var a=e.createAction(t);if(a){var n=e.state.summary.length;a.id=n>0?e.state.summary[n-1].id+1:1,a.save=!1,a.created=!0;var r=e.state.summaryCompletionMap;r.set(a.id,!1),e.setState({summary:[].concat(o(e.state.summary),[a]),summaryCompletionMap:r},function(){var e=document.getElementById("action-summary-grid-container");e&&(e.scrollTop=e.scrollHeight)})}e.setState({doOpenNewActionDialog:!1})},this.createAction=function(t){switch(t){case ge.P2P:return e.createP2P();case ge.DISPUTE:return e.createDispute();case ge.FOLLOW_UP:return e.createFollowup();default:return null}},this.createP2P=function(){var t=e.createSummaryTemplate(),a=e.createSummaryEntity();return t.intent=ue.INTENT_TYPES.P2P,t.summary=fe,t.summary=fe.replace("<Date-Time>",(0,ce.formatDateWithTimezone)(new Date,"+00:00")),t.entities=a,t},this.createDispute=function(){var t=e.createSummaryTemplate(),a=e.createSummaryEntity();return t.intent=ue.INTENT_TYPES.DISPUTE,t.summary="Create Dispute for <X invoices> because of <DISPUTE-REASON>",t.entities=a,t},this.createFollowup=function(){var t=e.createSummaryTemplate(),a=e.createSummaryEntity();return t.intent=ue.INTENT_TYPES.FOLLOW_UP,t.summary=he,t.summary=he.replace("<Date-Time>",(0,ce.formatDateWithTimezone)(new Date,"+00:00")),t.entities=a,t},this.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[o,a,n].join("-")},this.closeReviewWarningDialog=function(){e.setState({isReviewDialogOpen:!1})},this.toggleExpand=function(){e.setState({expaned:!e.state.expaned})},this.handleActionCreation=function(){e.setState({doOpenNewActionDialog:!0})},this.closeActionCreatorDialog=function(){e.setState({doOpenNewActionDialog:!1})},this.blurNonActionNotesBox=function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.blur()},500)},this.formatCallDuration=function(e){var t=e,a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60),o=Math.floor(t-3600*a-60*n);return n<10&&(n="0"+n),o<10&&(o="0"+o),n+" min "+o+" sec"},this.getNewKey=function(t){var a=e.state.summary;return a&&a.length>0?t+"-"+(a[a.length-1].id+1):t+"-1"},this.createSummaryTemplate=function(){return Object.create(pe)},this.createSummaryEntity=function(){return Object.create(de)},this.initializeSummaryWithDefaults=function(t){if("[]"===t)e.setState({summary:[]});else{var a=e.appendIdsToSummary(t),n=e.createSummaryCompletionMap(t),o=e.createInitialNonActionSummaryNotes(t);e.setState({summary:a,summaryCompletionMap:n,nonActionNotes:o,prevNonActionNotes:o})}},this.createInitialNonActionSummaryNotes=function(t){var a="",n=e.props.voicemailMessage;n&&(a+=n);for(var o in t)t[o].intent!==ue.INTENT_TYPES.P2P&&t[o].intent!==ue.INTENT_TYPES.DISPUTE&&t[o].intent!==ue.INTENT_TYPES.FOLLOW_UP&&(a+=t[o].summary);return a},this.appendIdsToSummary=function(e){if(e)for(var t=0;t<e.length;t++)e[t].id=t+1,e[t].save=!1;return e},this.updateSummaryFromChild=function(t,a){var n=e.state.summary;for(var o in n)if(n[o].id==a){n[o].summary=t;break}e.setState({summary:n})},this.handleNonactionNotesChange=function(t){e.setState({nonActionNotes:t.target.value})},this.updateInvoices=function(t,a){var n=Object.create(e.state.summary),o=[];for(var r in n)if(n[r].id==a){for(var i in t)o.push(t[i].documentNumber);n[r].entities.invoice=o;break}e.setState({summary:n})},this.editNonActionNotes=function(){e.setState({isEditingOn:!0},function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.focus()},500)})},this.generateFinalInvoiceList=function(){var t=[],a=e.state.summary,n=e.props.invoices,o=[];for(var r in a){var i=a[r].entities.invoice;for(var l in i)o.indexOf(i[l])<0&&o.push(i[l])}var s=0;for(var c in o){var u=!1;for(var d in n){if(1==u)break;for(var p in n[d])if(o[c]==n[d][p].documentNumber){t.push({documentNumber:o[c],currentOpenAmount:n[d][p].currentOpenAmount,invoiceId:n[d][p].id,id:s++}),u=!0;break}}}return t}};ye.propTypes={classes:p.default.object.isRequired};var Ce=function(e){return{user:e.personalDetails,callState:e.callState,transcription:e.transcription,callLogState:e.callLogState}};t.default=(0,y.connect)(Ce)((0,h.withStyles)(ve,{withTheme:!0})(ye))},6091:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),m=a(19),f=a(6092),h=n(f),g=a(6100),v=n(g),y=a(6101),b=n(y),C=a(6102),E=n(C),S=a(173),w=n(S),x=a(174),O=n(x),k=a(333),D=n(k),I=a(339),T=n(I),N=a(113),P=function(e){return{panel:{width:"100%",backgroundColor:e.palette.solidBackground.main},expandedBackground:{backgroundColor:"#39586F",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2))",padding:"0 !important"},panelCommon:{padding:"0 !important",borderRadius:"5px",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2))"},expandIcon:{color:e.palette.secondary.main},expansionPanelRoot:{boxShadow:"none !important",borderRadius:"4px !important",marginBottom:"0.83vh"}}},A=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));j.call(a);var n=a.props.summary.entities.invoice,i=a.genInitialInvoiceData(n),l=i.correctInvoices,s=i.correctInvoicesMap,c=i.incorrectFlag;return a.state={expanded:!1,amount:0,invoices:n,summary:a.props.summary,correctInvoices:l,correctInvoicesMap:s,incorrectFlag:c,invoiceCount:0},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.intentType,o=this.getCommonProps();return u.default.createElement(w.default,{classes:{root:a.expansionPanelRoot},expanded:this.state.expanded,className:a.panel},u.default.createElement(O.default,{className:this.state.expanded?a.expandedBackground:a.panelCommon,expandIcon:n!==N.INTENT_TYPES.FOLLOW_UP&&u.default.createElement(T.default,{onClick:this.toggleExpand,className:a.expandIcon})},n===N.INTENT_TYPES.P2P&&u.default.createElement(h.default,l({incorrectFlag:this.state.incorrectFlag,totalAmount:this.state.amount,summary:this.state.summary,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices},o)),n===N.INTENT_TYPES.DISPUTE&&u.default.createElement(v.default,l({incorrectFlag:this.state.incorrectFlag,summary:this.state.summary,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices,reasonCodeList:this.props.reasonCodeList},o)),n===N.INTENT_TYPES.FOLLOW_UP&&u.default.createElement(b.default,l({incorrectFlag:this.state.incorrectFlag,summary:this.state.summary,followupTextList:this.props.followupTextList},o))),u.default.createElement(D.default,{className:a.panelCommon},u.default.createElement(E.default,{sum:this.state.summary,intentType:n,correctInvoices:this.state.correctInvoices,correctInvoicesMap:this.state.correctInvoicesMap,incorrectFlag:this.state.incorrectFlag,onUpdateInvoice:this.updateInvoices,done:this.state.completed,invoices:this.props.allInvoiceList,bucketNames:this.props.bucketNames,updateInvoices:function(t,a){e.updateCorrectInvoices(t,a)}})))}}]),t}(c.Component),j=function(){var e=this;this.toggleExpand=function(){e.setState({expanded:!e.state.expanded})},this.genInitialInvoiceData=function(t){var a=[],n={},o=!1,r=e.props.allInvoiceList;if(t)for(var i=0;i<t.length;i++){for(var l=!1,s=0;s<r.length&&!l;s++)for(var c=0;c<r[s].length;c++){var u=r[s][c];if(t[i]==u.documentNumber){a.push(u),n[u.id]=!0,l=!0;break}}if(!l){var d=Object.create({id:t[i]+"incorrect",documentNumber:t[i]});a.push(d),o=!0}}return Object.freeze({correctInvoices:a,correctInvoicesMap:n,incorrectFlag:o})},this.getCommonProps=function(){return Object.assign({customer:e.props.customer,callToName:e.props.calledToName,calledToNumber:e.props.calledToNumber,contactLog:e.props.contactLog,onActionItemConfirm:e.props.onActionItemConfirm,deleteAction:e.props.onDelete,onCompletion:e.markThisComplete,toggleExpand:e.toggleExpand,openSnackbarOnAction:function(t){return e.props.openSnackbarOnAction(t)},updateSummaryInParent:function(t){e.props.updateSummaryInParent(t,e.state.correctInvoices)}})},this.updateCorrectInvoices=function(t,a){e.setState({correctInvoices:t,correctInvoicesMap:a},function(){e.props.updateInvoicesInParent(t)})},this.updateInvoices=function(t,a){e.setState({incorrectFlag:t,invoiceCount:a})},this.markThisComplete=function(){e.setState({completed:!0,expanded:!1}),e.props.completed()}};A.propTypes={classes:p.default.object.isRequired},t.default=(0,m.withStyles)(P,{withTheme:!0})(A)},6092:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.inputRef,a=e.onChange,n=o(e,["inputRef","onChange"]);return p.default.createElement(B.default,c({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$",allowNegative:!1,decimalScale:8}))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),p=n(d),m=a(40),f=n(m),h=a(4),g=n(h),v=a(8),y=(n(v),a(19)),b=a(324),C=a(6076),E=n(C),S=a(6077),w=a(23),x=a(332),O=n(x),k=a(21),D=n(k),I=a(325),T=n(I),N=a(330),P=n(N),A=a(39),j=n(A),M=a(38),R=n(M),F=a(6080),B=n(F),_=a(29),L=n(_),H=a(84),U=n(H),V=a(327),W=n(V),z=a(113),Y=a(172),K=a(52),G=a(53),q=/(Promise to pay for \d*)|(\d{4}-\d{2}-\d{2}T[\d{2}:]*.\d{3}[-|+]\d{2}:\d{2})|(\d* invoice)/g,X="Payment commitment received for <Amount> to be paid by <Date> <Invoices>.",J="Create Promise to pay for <Amount> to be paid by <Date> for <Invoices>",Q=function(e){return{invoiceSample:{display:"flex",flexWrap:"no-wrap",alignItems:"center",justify:"space-between",width:"100%"},textField:{margin:"0px",fontSize:"0.875rem",fontWeight:"bold",color:e.palette.primary.main},test:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6,"&:before":{borderBottom:"1px solid #5DAAE0"},"&:after":{borderBottom:"2px solid #5DAAE0"}},testInitial:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6,"&:before":{borderBottom:"2px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},actionProgressBar:{color:e.palette.primary.main,alignItems:"center",width:"1.5rem !important",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem !important"},cardContent:{color:e.palette.primary.main,opacity:.65,fontSize:"0.9rem"},actionIcon:{color:e.palette.secondary.main,height:"1.6rem",width:"1.6rem"},errorFlag:{color:"#FF4444",marginLeft:".5rem"},disableDoneBtn:{opacity:.4,cursor:"default"}}},Z=(0,w.createMuiTheme)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:O.default.A200,height:"13vh"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:O.default.A700},selected:{backgroundColor:O.default[400]},current:{color:O.default[900]}},MuiFormHelperText:{error:{color:"#FF8888 !important"}},MuiPickersModal:{dialogAction:{color:O.default[400]}}}}),$=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ee.call(a);var n=a.props.summary.summary.match(q),o=n[0].match(/[0-9]{1,}/);return a.state={readOnly:!a.props.summary.created,isEditing:a.props.summary.created||!1,prevAmount:"",amount:o?o[0]:a.props.summary.created?"":0,selectedDate:new Date(n[1]),invoiceCount:a.props.invoiceCount,openActionSave:!1,snackBarOpen:!1,snackBarMessage:"",openWarningDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:a.props.summary.save?(0,Y.format)(new Date(n[1]),"MMM dd, yyyy"):"",amountTextFieldWidth:o?12*(""+o).length:15,actionSaveProgressBar:!1,incorrectFlag:a.props.incorrectFlag,invalidDataNotifierMessage:"",openInvalidDataNotifier:!1,summary:a.props.summary,isAmountInvalid:!o},a}return l(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.updateSummary()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({incorrectFlag:e.incorrectFlag}),e.invoiceCount>=0&&e.invoiceCount!=this.state.invoiceCount&&this.setState({invoiceCount:e.invoiceCount},function(){t.updateSummary()})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=(this.props.summary,this.props.fullScreen);return p.default.createElement(L.default,{container:!0,className:a.invoiceSample},p.default.createElement(L.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&p.default.createElement(U.default,{className:a.actionProgressBar}),this.state.isDone&&p.default.createElement(b.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),p.default.createElement(L.default,{item:!0,xs:11,md:11,lg:11,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement(L.default,{item:!0},this.state.isDone&&p.default.createElement(D.default,{style:{opacity:1},className:a.cardContent},"Created ")),p.default.createElement(L.default,{item:!0},!this.state.isDone&&p.default.createElement(D.default,{style:{opacity:1},className:a.cardContent},"Create ")),p.default.createElement(L.default,{item:!0},p.default.createElement(D.default,{style:{fontWeight:"bold",opacity:1},className:a.cardContent},"P2P ")),p.default.createElement(L.default,{item:!0},p.default.createElement(D.default,{className:a.cardContent},"of ")),p.default.createElement(L.default,{item:!0,style:{minWidth:this.state.isEditing?"7rem":this.state.amountTextFieldWidth,width:this.state.isEditing?"7rem":this.state.amountTextFieldWidth,maxWidth:"9rem"}},p.default.createElement(T.default,{id:"invoice-amount-field-"+this.state.actionId,className:a.textField,value:this.state.amount,onChange:function(t){return e.handleInvoiceCurrencyChange(t)},margin:"normal",padding:"normal",InputProps:{className:this.state.isAmountInvalid?a.testInitial:a.test,readOnly:Boolean(this.state.readOnly),disableUnderline:Boolean(this.state.readOnly),inputComponent:this.state.isEditing?s:this.FormattedCurrencyInput}})),p.default.createElement(L.default,{item:!0},!this.state.isEditing&&!this.state.isDone&&p.default.createElement(b.BorderColor,{className:a.actionIcon,style:{marginLeft:"6px"},onClick:this.toggleEditing}),this.state.isEditing&&!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(b.HighlightOff,{style:{marginLeft:"0.4rem",color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},className:this.state.prevAmount?"":a.disableDoneBtn,onClick:this.state.prevAmount?this.dismissAmountChanges:z.emptyFunction}),p.default.createElement(b.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.isAmountInvalid?a.disableDoneBtn:"",onClick:this.state.isAmountInvalid?z.emptyFunction:this.saveInvoiceAmountChange}))),p.default.createElement(L.default,{item:!0},p.default.createElement(D.default,{className:a.cardContent}," with due date of ")),p.default.createElement(L.default,{item:!0}," ",this.state.isDone&&p.default.createElement(D.default,{style:{color:n.palette.primary.main}},this.state.finalSelectedDate)),p.default.createElement(L.default,{item:!0,style:{display:"flex",maxWidth:"8em"}},!this.state.isDone&&p.default.createElement(S.MuiPickersUtilsProvider,{utils:E.default},p.default.createElement(w.MuiThemeProvider,{theme:Z},p.default.createElement(S.DatePicker,{style:{maxWidth:"5.35rem"},allowKeyboardControl:Boolean(!1),format:"MMM dd, yyyy",minDateMessage:"Previous date not acceptable",InputProps:{id:"date-input-field-"+this.state.actionId,className:a.test,readOnly:Boolean(!0),disableUnderline:Boolean(!0)},ref:function(t){e.picker=t},value:this.state.selectedDate,onChange:this.handleDateChange,animateYearScrolling:!1,minDate:new Date}),p.default.createElement(b.DateRange,{className:a.actionIcon,onClick:this.openPicker})))),p.default.createElement(L.default,{item:!0,align:"left"},0!==this.state.invoiceCount&&p.default.createElement("div",{style:{alignItems:"center",display:"flex"}},p.default.createElement(D.default,{className:a.cardContent},!this.state.isEditing&&p.default.createElement("span",null,""),"towards"),p.default.createElement(D.default,{style:{fontWeight:"bold"},className:a.cardContent,onClick:this.props.toggleExpand},this.state.invoiceCount+" Invoice"+(this.state.invoiceCount>1?"s":"")),this.state.incorrectFlag&&p.default.createElement(P.default,{className:a.errorFlag}))))),p.default.createElement(W.default,{fullScreen:o,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[p.default.createElement(f.default,{onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),p.default.createElement(f.default,{onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),p.default.createElement(W.default,{fullScreen:o,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[p.default.createElement(f.default,{onClick:this.closeWarningDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(W.default,{fullScreen:o,open:this.state.openInvalidDataNotifier,onClose:this.closeInvalidDataNotifier,title:this.state.invalidDataNotifierMessage,actions:[p.default.createElement(f.default,{onClick:this.closeInvalidDataNotifier,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(L.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(b.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),p.default.createElement(b.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.checkInvalidation()?"":a.disableDoneBtn,onClick:this.checkInvalidation()?this.saveP2P:z.emptyFunction}))))}}]),t}(d.Component),ee=function(){var e=this;this.handleInvoiceCurrencyChange=function(t){e.setState({amountTextFieldWidth:t.target.value?12*(""+t.target.value.length):50,amount:t.target.value,amountFormatted:t.target.value,isAmountInvalid:!1},function(){e.state.amount||e.setState({isAmountInvalid:!0})})},this.openDataInvalidDialog=function(t){e.setState({openInvalidDataNotifier:!0,invalidDataNotifierMessage:t})},this.closeInvalidDataNotifier=function(){e.setState({openInvalidDataNotifier:!1})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.validateP2PData=function(){var t=e.state.amount;return Number(t)<1?(e.openDataInvalidDialog("Please enter amount > 0."),!1):!!(0,G.isValidDate)(e.state.selectedDate)||(e.openDataInvalidDialog("Found invalid date. Please correct the date to proceed."),!1)},this.checkInvalidation=function(){return!e.state.isAmountInvalid&&!e.state.incorrectFlag&&(0,G.isValidDate)(e.state.selectedDate)},this.saveP2P=function(){if(e.validateP2PData()){console.log(t);var t=null!==e.props.contactLog.contact?e.props.contactLog.contact.id:null,a=e.props.contactLog.callingNumber,n=e.props.correctInvoices.map(function(e){var t={};return t.cmsDocHeaderId=e.id,t});if(e.state.incorrectFlag)return void e.setState({openWarningDialog:!0});e.setState({actionSaveProgressBar:!0,isEditing:!1,readOnly:!0});var o={committedAmount:e.state.amount,committedBy:{id:t,phoneNumber:a},committedDate:new Date(e.state.selectedDate),committedOn:new Date,currency:"$",customerId:e.props.customer.id,pcItems:n};j.default.post(R.default.apiUrl+"/customer/"+e.props.customer.id+"/p2p",o).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({finalSelectedDate:e.getDateFieldValue()},function(){e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1,isDone:!1})})}},this.generateActionSummary=function(){var t=e.state.invoiceCount,a=e.state.selectedDate,n=(0,Y.format)(a,"MM-dd-yyyy");return X.replace("<Amount>","$"+(0,G.formatCurrencyToUSFormat)(e.state.amount)).replace("<Date>",n).replace("<Invoices>",0===t?"":1===t?"for "+t+" invoice":"for "+t+" invoices")},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.dismissAmountChanges=function(){var t=e.state,a=(0,K.customCurrencyFormatter)(e.state.amount).length;e.setState({amount:t.prevAmount,readOnly:!0,isEditing:!1,amountTextFieldWidth:4.5*a}),document.getElementById("invoice-amount-field-"+e.state.actionId).blur()},this.openPicker=function(t){e.picker.open(t)},this.updateSummary=function(){var t=e.state.invoiceCount,a=(0,G.formatDateWithTimezone)(new Date(e.state.selectedDate),"-06:00"),n=J.replace("<Amount>",e.state.amount?e.state.amount:"<amount-of-money>").replace("<Date>",a).replace("<Invoices>",0===t?"<X invoices>":1===t?t+" invoice":t+" invoices");e.props.updateSummaryInParent(n)},this.saveInvoiceAmountChange=function(){var t=(0,K.customCurrencyFormatter)(e.state.amount).length;e.setState({prevAmount:e.state.amount,readOnly:!0,isEditing:!1,amountTextFieldWidth:4.5*t},function(){e.updateSummary()}),document.getElementById("invoice-amount-field-"+e.state.actionId).blur()},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.toggleEditing=function(t){e.setState({readOnly:!1,isEditing:!0},function(){document.getElementById("invoice-amount-field-"+e.state.actionId).focus()})},this.handleDateChange=function(t){e.setState({selectedDate:t},function(){e.updateSummary()})},this.getDateFieldValue=function(){var t="date-input-field-"+e.state.actionId;return document.getElementById(t).value},this.FormattedCurrencyInput=function(t){var a=t.inputRef,n=t.onChange,r=o(t,["inputRef","onChange"]);return p.default.createElement(B.default,c({},r,{getInputRef:a,onValueChange:function(e){n({target:{value:e.value}})},format:function(t){return(0,K.customCurrencyFormatter)(e.state.amount,"$")},decimalScale:8,allowNegative:!1}))}};s.propTypes={inputRef:g.default.func.isRequired,onChange:g.default.func.isRequired},$.propTypes={classes:g.default.object.isRequired},t.default=(0,y.withStyles)(Q,{withTheme:!0})($)},6093:function(e,t,a){"use strict";function n(e,t){function a(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}function o(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]]);return a}t.b=n,a.d(t,"a",function(){return i}),t.c=o;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i.apply(this,arguments)}},6094:function(e,t,a){!function(t,n){e.exports=n(a(0))}(0,function(e){return function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return n(u).default}});var d=a(11),p=n(d),m=a(9),f=n(m),h=a(5),g=n(h),v=function(e){function t(){var e;r(this,t);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];var l=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return l.onBlur=l.onBlur.bind(l),l.onChange=l.onChange.bind(l),l}return l(t,e),c(t,[{key:"initTextMask",value:function(){var e=this.props,t=this.props.value;this.textMaskInputElement=(0,g.default)(s({inputElement:this.inputElement},e)),this.textMaskInputElement.update(t)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(){this.initTextMask()}},{key:"render",value:function(){var e=this,t=this.props,a=t.render,n=o(t,["render"]);return delete n.mask,delete n.guide,delete n.pipe,delete n.placeholderChar,delete n.keepCharPositions,delete n.value,delete n.onBlur,delete n.onChange,delete n.showMask,a(function(t){return e.inputElement=t},s({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},n))}},{key:"onChange",value:function(e){this.textMaskInputElement.update(),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"onBlur",value:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e)}}]),t}(p.default.Component);t.default=v,v.propTypes={mask:f.default.oneOfType([f.default.array,f.default.func,f.default.bool,f.default.shape({mask:f.default.oneOfType([f.default.array,f.default.func]),pipe:f.default.func})]).isRequired,guide:f.default.bool,value:f.default.oneOfType([f.default.string,f.default.number]),pipe:f.default.func,placeholderChar:f.default.string,keepCharPositions:f.default.bool,showMask:f.default.bool},v.defaultProps={render:function(e,t){return p.default.createElement("input",s({ref:e},t))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,r.isArray)(t)){if((void 0===t?"undefined":o(t))!==i.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,a),t=(0,r.processCaretTraps)(t).maskWithoutCaretTraps}var n=a.guide,c=void 0===n||n,u=a.previousConformedValue,d=void 0===u?s:u,p=a.placeholderChar,m=void 0===p?i.placeholderChar:p,f=a.placeholder,h=void 0===f?(0,r.convertMaskToPlaceholder)(t,m):f,g=a.currentCaretPosition,v=a.keepCharPositions,y=!1===c&&void 0!==d,b=e.length,C=d.length,E=h.length,S=t.length,w=b-C,x=w>0,O=g+(x?-w:0),k=O+Math.abs(w);if(!0===v&&!x){for(var D=s,I=O;I<k;I++)h[I]===m&&(D+=m);e=e.slice(0,O)+D+e.slice(O,b)}for(var T=e.split(s).map(function(e,t){return{char:e,isNew:t>=O&&t<k}}),N=b-1;N>=0;N--){var P=T[N].char;if(P!==m){P===h[N>=O&&C===S?N-w:N]&&T.splice(N,1)}}var A=s,j=!1;e:for(var M=0;M<E;M++){var R=h[M];if(R===m){if(T.length>0)for(;T.length>0;){var F=T.shift(),B=F.char,_=F.isNew;if(B===m&&!0!==y){A+=m;continue e}if(t[M].test(B)){if(!0===v&&!1!==_&&d!==s&&!1!==c&&x){for(var L=T.length,H=null,U=0;U<L;U++){var V=T[U];if(V.char!==m&&!1===V.isNew)break;if(V.char===m){H=U;break}}null!==H?(A+=B,T.splice(H,1)):M--}else A+=B;continue e}j=!0}!1===y&&(A+=h.substr(M,E));break}A+=R}if(y&&!1===x){for(var W=null,z=0;z<A.length;z++)h[z]===m&&(W=z);A=null!==W?A.substr(0,W+1):s}return{conformedValue:A,meta:{someCharsRejected:j}}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n;var r=a(3),i=a(1),l=[],s=""},function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.placeholderChar;if(!o(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map(function(e){return e instanceof RegExp?t:e}).join("")}function o(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function r(e){return"string"==typeof e||e instanceof String}function i(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)}function l(e){for(var t=[],a=void 0;-1!==(a=e.indexOf(u));)t.push(a),e.splice(a,1);return{maskWithoutCaretTraps:e,indexes:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=n,t.isArray=o,t.isString=r,t.isNumber=i,t.processCaretTraps=l;var s=a(1),c=[],u="[]"},function(e,t){"use strict";function a(e){var t=e.previousConformedValue,a=void 0===t?o:t,r=e.previousPlaceholder,i=void 0===r?o:r,l=e.currentCaretPosition,s=void 0===l?0:l,c=e.conformedValue,u=e.rawValue,d=e.placeholderChar,p=e.placeholder,m=e.indexesOfPipedChars,f=void 0===m?n:m,h=e.caretTrapIndexes,g=void 0===h?n:h;if(0===s||!u.length)return 0;var v=u.length,y=a.length,b=p.length,C=c.length,E=v-y,S=E>0,w=0===y;if(E>1&&!S&&!w)return s;var x=S&&(a===c||c===p),O=0,k=void 0,D=void 0;if(x)O=s-E;else{var I=c.toLowerCase(),T=u.toLowerCase(),N=T.substr(0,s).split(o),P=N.filter(function(e){return-1!==I.indexOf(e)});D=P[P.length-1];var A=i.substr(0,P.length).split(o).filter(function(e){return e!==d}).length,j=p.substr(0,P.length).split(o).filter(function(e){return e!==d}).length,M=j!==A,R=void 0!==i[P.length-1]&&void 0!==p[P.length-2]&&i[P.length-1]!==d&&i[P.length-1]!==p[P.length-1]&&i[P.length-1]===p[P.length-2];!S&&(M||R)&&A>0&&p.indexOf(D)>-1&&void 0!==u[s]&&(k=!0,D=u[s]);for(var F=f.map(function(e){return I[e]}),B=F.filter(function(e){return e===D}).length,_=P.filter(function(e){return e===D}).length,L=p.substr(0,p.indexOf(d)).split(o).filter(function(e,t){return e===D&&u[t]!==e}).length,H=L+_+B+(k?1:0),U=0,V=0;V<C;V++){var W=I[V];if(O=V+1,W===D&&U++,U>=H)break}}if(S){for(var z=O,Y=O;Y<=b;Y++)if(p[Y]===d&&(z=Y),p[Y]===d||-1!==g.indexOf(Y)||Y===b)return z}else if(k){for(var K=O-1;K>=0;K--)if(c[K]===D||-1!==g.indexOf(K)||0===K)return K}else for(var G=O;G>=0;G--)if(p[G-1]===d||-1!==g.indexOf(G)||0===G)return G}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=[],o=""},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=n.inputElement,c=n.mask,d=n.guide,g=n.pipe,y=n.placeholderChar,b=void 0===y?f.placeholderChar:y,C=n.keepCharPositions,E=void 0!==C&&C,S=n.showMask,w=void 0!==S&&S;if(void 0===a&&(a=o.value),a!==t.previousConformedValue){(void 0===c?"undefined":s(c))===v&&void 0!==c.pipe&&void 0!==c.mask&&(g=c.pipe,c=c.mask);var x=void 0,O=void 0;if(c instanceof Array&&(x=(0,m.convertMaskToPlaceholder)(c,b)),!1!==c){var k=i(a),D=o.selectionEnd,I=t.previousConformedValue,T=t.previousPlaceholder,N=void 0;if((void 0===c?"undefined":s(c))===f.strFunction){if(!1===(O=c(k,{currentCaretPosition:D,previousConformedValue:I,placeholderChar:b})))return;var P=(0,m.processCaretTraps)(O),A=P.maskWithoutCaretTraps,j=P.indexes;O=A,N=j,x=(0,m.convertMaskToPlaceholder)(O,b)}else O=c;var M={previousConformedValue:I,guide:d,placeholderChar:b,pipe:g,placeholder:x,currentCaretPosition:D,keepCharPositions:E},R=(0,p.default)(k,O,M),F=R.conformedValue,B=(void 0===g?"undefined":s(g))===f.strFunction,_={};B&&(_=g(F,l({rawValue:k},M)),!1===_?_={value:I,rejected:!0}:(0,m.isString)(_)&&(_={value:_}));var L=B?_.value:F,H=(0,u.default)({previousConformedValue:I,previousPlaceholder:T,conformedValue:L,placeholder:x,rawValue:k,currentCaretPosition:D,placeholderChar:b,indexesOfPipedChars:_.indexesOfPipedChars,caretTrapIndexes:N}),U=L===x&&0===H,V=w?x:h,W=U?V:L;t.previousConformedValue=W,t.previousPlaceholder=x,o.value!==W&&(o.value=W,r(o,H))}}}}}function r(e,t){document.activeElement===e&&(y?b(function(){return e.setSelectionRange(t,t,g)},0):e.setSelectionRange(t,t,g))}function i(e){if((0,m.isString)(e))return e;if((0,m.isNumber)(e))return String(e);if(void 0===e||null===e)return h;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=o;var c=a(4),u=n(c),d=a(2),p=n(d),m=a(3),f=a(1),h="",g="none",v="object",y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout},function(e,t){"use strict";function a(e){return function(){return e}}var n=function(){};n.thatReturns=a,n.thatReturnsFalse=a(!1),n.thatReturnsTrue=a(!0),n.thatReturnsNull=a(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,a){"use strict";function n(e,t,a,n,r,i,l,s){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,n,r,i,l,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};e.exports=n},function(e,t,a){"use strict";var n=a(6),o=a(7),r=a(10);e.exports=function(){function e(e,t,a,n,i,l){l!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t,a){"use strict";"function"==typeof Symbol&&Symbol.iterator,e.exports=a(8)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,a){t.exports=e}])})},6095:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=n(a(6096)),r=n(a(6098)),i=n(a(331)),l=n(a(54));e.exports={Transition:l.default,TransitionGroup:i.default,ReplaceTransition:r.default,CSSTransition:o.default}},6096:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}t.__esModule=!0,t.default=void 0;var i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}t.default=e}(a(4)),n(a(6078))),l=n(a(6079)),s=n(a(0)),c=n(a(54)),u=(a(346),function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,i.default)(e,t)})}),d=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,l.default)(e,t)})},p=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,t.onEnter=function(e,a){var n=t.getClassNames(a?"appear":"enter"),o=n.className;t.removeClasses(e,"exit"),u(e,o),t.props.onEnter&&t.props.onEnter(e)},t.onEntering=function(e,a){var n=t.getClassNames(a?"appear":"enter"),o=n.activeClassName;t.reflowAndAddClass(e,o),t.props.onEntering&&t.props.onEntering(e)},t.onEntered=function(e,a){var n=t.getClassNames("enter"),o=n.doneClassName;t.removeClasses(e,a?"appear":"enter"),u(e,o),t.props.onEntered&&t.props.onEntered(e)},t.onExit=function(e){var a=t.getClassNames("exit"),n=a.className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.getClassNames("exit"),n=a.activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.getClassNames("exit"),n=a.doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var a=t.props.classNames,n="string"!=typeof a?a[e]:a+"-"+e;return{className:n,activeClassName:"string"!=typeof a?a[e+"Active"]:n+"-active",doneClassName:"string"!=typeof a?a[e+"Done"]:n+"-done"}},t}o(t,e);var a=t.prototype;return a.removeClasses=function(e,t){var a=this.getClassNames(t),n=a.className,o=a.activeClassName,r=a.doneClassName;n&&d(e,n),o&&d(e,o),r&&d(e,r)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},a.render=function(){var e=r({},this.props);return delete e.classNames,s.default.createElement(c.default,r({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.default.Component);p.propTypes={};var m=p;t.default=m,e.exports=t.default},6097:function(e,t,a){"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.__esModule=!0,t.default=n,e.exports=t.default},6098:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var i=(n(a(4)),n(a(0))),l=a(20),s=n(a(331)),c=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,t.handleEnter=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEnter",0,a)},t.handleEntering=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEntering",0,a)},t.handleEntered=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEntered",0,a)},t.handleExit=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExit",1,a)},t.handleExiting=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExiting",1,a)},t.handleExited=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExited",1,a)},t}r(t,e);var a=t.prototype;return a.handleLifecycle=function(e,t,a){var n,o=this.props.children,r=i.default.Children.toArray(o)[t];r.props[e]&&(n=r.props)[e].apply(n,a),this.props[e]&&this.props[e]((0,l.findDOMNode)(this))},a.render=function(){var e=this.props,t=e.children,a=e.in,n=o(e,["children","in"]),r=i.default.Children.toArray(t),l=r[0],c=r[1];return delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,i.default.createElement(s.default,n,a?i.default.cloneElement(l,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):i.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(i.default.Component);c.propTypes={};var u=c;t.default=u,e.exports=t.default},6099:function(e,t,a){"use strict";function n(){}function o(){return!0}function r(e){return!!(e||"").match(/\d/)}function i(e){return e.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&")}function l(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a="-"===e[0],n=a&&t;e=e.replace("-","");var o=e.split(".");return{beforeDecimal:o[0],afterDecimal:o[1]||"",hasNagation:a,addNegation:n}}function c(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var a=e.split("."),n=a[0].replace(/^0+/,"")||"0",o=a[1]||"";return"".concat(t?"-":"").concat(n).concat(o?".".concat(o):"")}function u(e,t,a){for(var n="",o=a?"0":"",r=0;r<=t-1;r++)n+=e[r]||o;return n}function d(e,t,a){if(-1!==["","-"].indexOf(e))return e;var n=-1!==e.indexOf(".")&&t,o=s(e),r=o.beforeDecimal,i=o.afterDecimal,l=o.hasNagation,c=parseFloat("0.".concat(i||"0")).toFixed(t).split("."),d=r.split("").reverse().reduce(function(e,t,a){return e.length>a?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e},c[0]),p=u(c[1]||"",Math.min(t,i.length),a),m=l?"-":"",f=n?".":"";return"".concat(m).concat(d).concat(f).concat(p)}function p(e,t){var a={};return Object.keys(e).forEach(function(n){t[n]||(a[n]=e[n])}),a}function m(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var a=e.createTextRange();return a.move("character",t),a.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}function f(e,t){for(var a=0,n=0,o=e.length,r=t.length;e[a]===t[a]&&a<o;)a++;for(;e[o-1-n]===t[r-1-n]&&r-n>a&&o-n>a;)n++;return{start:a,end:o-n}}function h(e,t,a){return Math.min(Math.max(e,t),a)}function g(e){return Math.max(e.selectionStart,e.selectionEnd)}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=n,t.returnTrue=o,t.charIsNumber=r,t.escapeRegExp=i,t.getThousandsGroupRegex=l,t.splitDecimal=s,t.fixLeadingZero=c,t.limitToScale=u,t.roundToPrecision=d,t.omit=p,t.setCaretPosition=m,t.findChangedIndex=f,t.clamp=h,t.getCurrentCaretPosition=g},6100:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(40),d=n(u),p=a(4),m=n(p),f=a(19),h=a(324),g=a(21),v=n(g),y=a(166),b=(n(y),a(168)),C=(n(b),a(169)),E=(n(C),a(330)),S=n(E),w=a(39),x=n(w),O=a(38),k=n(O),D=a(29),I=n(D),T=a(114),N=n(T),P=a(167),A=n(P),j=a(325),M=n(j),R=a(84),F=n(R),B=a(327),_=n(B),L=a(172),H=a(113),U={summary:{summary:""},reasonCodeList:"",correctInvoices:"",incorrectFlag:"",toggleExpand:""},V=/(\d* invoice)|(because of .*)/g,W="Dispute raised for <Invoices> because of : <DISPUTE-REASON>",z="Create Dispute for <Invoices> because of <ReasonCode>",Y=function(e){return{invoiceSample:{display:"flex",flexWrap:"no-wrap",alignItems:"center",justify:"space-between",width:"100%"},selectedReason:{margin:"0px",fontSize:"0.875rem","&:before":{borderBottom:"1px solid #5DAAE0"},"&:after":{borderBottom:"2px solid #5DAAE0"}},emptyReason:{margin:"0px",fontSize:"0.875rem",color:e.palette.primary.main,"&:before":{borderBottom:"1px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},selectMenuClass:{fontSize:"0.875rem",opacity:.65,color:e.palette.primary.main},menuItemRoot:{color:e.palette.primary.main+" !important"},menuPaper:{backgroundColor:e.palette.solidBackground.main,height:"20rem !important",overflowY:"auto",border:"2px solid white"},test:{width:"auto",padding:"0px",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6},actionProgressBar:{color:e.palette.primary.main,alignItems:"center",width:"1.5rem !important",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem !important"},textField:{margin:"0px",fontSize:"0.875rem",color:e.palette.primary.main},cardContent:{color:e.palette.primary.main,opacity:.65},actionIcon:{color:e.palette.secondary.main},errorFlag:{color:"#FF4444",marginLeft:".5rem"},selectIcon:{color:e.palette.secondary.main},disableDoneBtn:{opacity:.4,cursor:"default"}}},K=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));G.call(a);var n=a.props.summary&&a.props.summary.summary?a.props.summary.summary.match(V):"",i=n[1]?n[1].substring(11):"";return a.props.reasonCodeList.indexOf(i)<0&&(i=""),a.state={reasonCode:i,invoiceCount:a.props.invoiceCount,openActionSave:!1,openWarningDialog:!1,openNoReasonDialog:!1,openNoInvoiceDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:"",change:!1},a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({incorrectFlag:e.incorrectFlag}),e.invoiceCount>=0&&e.invoiceCount!=this.state.invoiceCount&&this.setState({invoiceCount:e.invoiceCount},function(){t.updateSummary()})}},{key:"render",value:function(){var e=this.props.classes,t=(this.props.summary,this.props.fullScreen),a=this.props.reasonCodeList,n=a&&a.map(function(t,a){return c.default.createElement(A.default,{key:a,classes:{root:e.menuItemRoot},value:t},t)});return c.default.createElement(I.default,{container:!0,className:e.invoiceSample},c.default.createElement(I.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},c.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&c.default.createElement(F.default,{className:e.actionProgressBar}),this.state.isDone&&c.default.createElement(h.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),c.default.createElement(I.default,{item:!0},this.state.isDone&&c.default.createElement(v.default,{style:{opacity:1},className:e.cardContent},"Created ")),c.default.createElement(I.default,{item:!0},!this.state.isDone&&c.default.createElement(v.default,{style:{opacity:1},className:e.cardContent},"Create ")),c.default.createElement(I.default,{item:!0},c.default.createElement(v.default,{style:{fontWeight:"bold",opacity:1},className:e.cardContent},"DISPUTE ")),c.default.createElement(I.default,{item:!0},0!==this.state.invoiceCount&&c.default.createElement("div",{style:{alignItems:"center",display:"flex"}},c.default.createElement(v.default,{style:{margin:"0 8px 0 6px"},className:e.cardContent},"for"),c.default.createElement(v.default,{style:{fontWeight:"bold"},className:e.cardContent,onClick:this.props.toggleExpand},this.state.invoiceCount+" Invoice"+(this.state.invoiceCount>1?"s":"")),this.props.incorrectFlag&&c.default.createElement(S.default,{className:e.errorFlag}))),c.default.createElement(I.default,{item:!0},c.default.createElement(v.default,{className:e.cardContent}," with reason code of ")),c.default.createElement(I.default,{item:!0,hidden:this.state.isDone},c.default.createElement(N.default,{id:"reason-code-field",value:this.getReasonCode(),onChange:this.handleReasonCodeChange,className:this.state.reasonCode?e.selectedReason:e.emptyReason,classes:{selectMenu:e.selectMenuClass,icon:e.selectIcon},MenuProps:{classes:{paper:e.menuPaper}}},c.default.createElement(A.default,{classes:{root:e.menuItemRoot},value:"Select",disabled:!0},"Select"),n)),c.default.createElement(I.default,{item:!0,hidden:!this.state.isDone},c.default.createElement(M.default,{id:"reason-code-field-"+this.state.actionId,className:e.selectedReason,value:this.state.reasonCode,margin:"normal",padding:"normal",InputProps:{className:e.test,readOnly:!0,disableUnderline:!0}}))),c.default.createElement(_.default,{fullScreen:t,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),c.default.createElement(_.default,{fullScreen:t,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeWarningDialog,color:"primary",autoFocus:!0},"OK")]}),c.default.createElement(_.default,{fullScreen:t,open:this.state.openNoReasonDialog,onClose:this.closeNoReasonDialog,title:"Please select appropriate dispute reason.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeNoReasonDialog,color:"secondary",autoFocus:!0},"OK")]}),c.default.createElement(_.default,{fullScreen:t,open:this.state.openNoInvoiceDialog,onClose:this.closeNoInvoiceDialog,title:"No invoice selected. Please add at least an invoice to save the dispute.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeNoInvoiceDialog,color:"secondary",autoFocus:!0},"OK")]}),c.default.createElement(I.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&c.default.createElement("div",null,c.default.createElement(h.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),c.default.createElement(h.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.reasonCode?"":e.disableDoneBtn,onClick:this.state.reasonCode?this.saveDispute:H.emptyFunction}))))}}]),t}(s.Component),G=function(){var e=this;this.saveDispute=function(){var t=e.props.correctInvoices.map(function(e){var t={};return t.cmsDocHeaderId=e.id,t});if(e.props.incorrectFlag)return void e.setState({openWarningDialog:!0});if(!e.state.reasonCode)return void e.setState({openNoReasonDialog:!0});if(0==e.state.invoiceCount)return void e.setState({openNoInvoiceDialog:!0});e.setState({actionSaveProgressBar:!0});var a={reasonCode:e.state.reasonCode,customerId:e.props.customer.id,disputeItems:t};x.default.post(k.default.apiUrl+"/customer/"+e.props.customer.id+"/dispute",a).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1})})},this.generateActionSummary=function(){var t=e.state.invoiceCount;return W.replace("<DISPUTE-REASON>",e.state.reasonCode).replace("<Invoices>",1==t?t+" invoice":t+" invoices")},this.updateSummary=function(){var t=e.state.invoiceCount,a=((0,L.format)(new Date(e.state.selectedDate),"yyyy-MM-dd"),z.replace("<Invoices>",0===t?"<X invoices>":1===t?t+" invoice":t+" invoices").replace("<ReasonCode>",e.state.reasonCode));e.props.updateSummaryInParent(a)},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.closeNoReasonDialog=function(){e.setState({openNoReasonDialog:!1})},this.closeNoInvoiceDialog=function(){e.setState({openNoInvoiceDialog:!1})},this.handleReasonCodeChange=function(t){e.setState({change:!0,reasonCode:t.target.value},function(){e.updateSummary()})},this.getReasonCode=function(){var t=e.props.reasonCodeList;return e.state.reasonCode&&t.indexOf(e.state.reasonCode)>=0?e.state.reasonCode:"Select"}};K.propTypes={classes:m.default.object.isRequired},K.defaultProps=U,t.default=(0,f.withStyles)(Y,{withTheme:!0})(K)},6101:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.inputRef,a=e.onChange,n=o(e,["inputRef","onChange"]);return p.default.createElement(M.default,c({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$"}))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),p=n(d),m=a(40),f=n(m),h=a(4),g=n(h),v=a(19),y=a(324),b=a(6076),C=n(b),E=a(6077),S=a(23),w=a(332),x=n(w),O=a(21),k=n(O),D=a(325),I=n(D),T=a(39),N=n(T),P=a(38),A=n(P),j=a(6080),M=n(j),R=a(29),F=n(R),B=a(114),_=n(B),L=a(167),H=n(L),U=a(84),V=n(U),W=a(327),z=n(W),Y=a(172),K=a(113),G=a(53),q=/(\d{4}-\d{2}-\d{2}T[\d{2}:]*.\d{3}[-|+]\d{2}:\d{2})|(reason: .*)/g,X="Follow up  <Contact Name> <Followup Date> <Followup Text>",J="Create Followup event for <Followup Date> reason: <Followup Text>",Q=(new Date,function(e){return{invoiceSample:{display:"flex",flexWrap:"no-wrap",alignItems:"center",justify:"space-between",width:"100%"},textField:{margin:"0px",fontSize:"0.875rem"},selectedReason:{margin:"0px",fontSize:"0.875rem","&:before":{borderBottom:"1px solid #5DAAE0"},"&:after":{borderBottom:"2px solid #5DAAE0"}},emptyReason:{margin:"0px",fontSize:"0.875rem",color:"gray","&:before":{borderBottom:"1px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},menuItemRoot:{color:e.palette.primary.main},menuPaper:{backgroundColor:e.palette.solidBackground.main,height:"20rem !important",overflowY:"auto",border:"2px solid white"},selectMenuClass:{fontSize:"0.875rem",opacity:.65,color:e.palette.primary.main},test:{width:"auto",padding:"0px",color:e.palette.primary.main,opacity:.6,fontSize:"0.875rem"},actionProgressBar:{color:e.palette.primary.main,alignItems:"center",width:"1.5rem !important",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem !important"},cardContent:{color:e.palette.primary.main,opacity:.65},actionIcon:{color:e.palette.secondary.main},selectIcon:{color:e.palette.secondary.main},disableDoneBtn:{opacity:.4,cursor:"default"}}}),Z=(0,S.createMuiTheme)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:x.default.A200,height:"13vh"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:x.default.A700},selected:{backgroundColor:x.default[400]},current:{color:x.default[900]}},MuiFormHelperText:{error:{color:"#FF8888 !important"}},MuiPickersModal:{dialogAction:{color:x.default[400]}}}}),$=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ee.call(a);var n=a.props.summary.summary.match(q),o="",l="";return n&&n.length>0&&(o=new Date(n[0]),l=n[1]?n[1].substring(8):null),a.props.followupTextList.indexOf(l)<0&&(l=""),a.state={readOnly:!0,isEditing:!1,followupText:l,selectedDate:new Date(o),openActionSave:!1,openWarningDialog:!1,openInvalidDateDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:a.props.summary.save?(0,Y.format)(new Date(n[0]),"MMM dd, yyyy"):"",actionSaveProgressBar:!1,incorrectFlag:null},a}return l(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({incorrectFlag:e.incorrectFlag})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props,n=(a.summary,a.theme),o=this.props.fullScreen,r=this.props.followupTextList,i=r.map(function(e,a){return p.default.createElement(H.default,{key:"followupText"+a,value:e,classes:{root:t.menuItemRoot}},e)});return p.default.createElement(F.default,{container:!0,className:t.invoiceSample},p.default.createElement(F.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&p.default.createElement(V.default,{className:t.actionProgressBar}),this.state.isDone&&p.default.createElement(y.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),p.default.createElement(F.default,{item:!0},this.state.isDone&&p.default.createElement(k.default,{style:{opacity:1},className:t.cardContent},"Created ")),p.default.createElement(F.default,{item:!0},!this.state.isDone&&p.default.createElement(k.default,{style:{opacity:1},className:t.cardContent},"Create ")),p.default.createElement(F.default,{item:!0},p.default.createElement(k.default,{style:{opacity:1},className:t.cardContent},"FOLLOW-UP ")),p.default.createElement(F.default,{item:!0},p.default.createElement(k.default,{className:t.cardContent},"event for ")),p.default.createElement(F.default,{item:!0}," ",this.state.isDone&&p.default.createElement(k.default,{style:{fontWeight:"bold",color:n.palette.primary.main}},this.state.finalSelectedDate)),p.default.createElement(F.default,{item:!0},!this.state.isDone&&p.default.createElement(E.MuiPickersUtilsProvider,{utils:C.default},p.default.createElement(S.MuiThemeProvider,{theme:Z},p.default.createElement(E.DatePicker,{style:{maxWidth:"5.35rem"},allowKeyboardControl:Boolean(!1),format:"MMM dd, yyyy",minDateMessage:"Previous date not acceptable",InputProps:{id:"date-input-field-"+this.state.actionId,className:t.test,readOnly:Boolean(!0),disableUnderline:Boolean(!0)},ref:function(t){e.picker=t},value:this.state.selectedDate,onChange:this.handleDateChange,animateYearScrolling:!1,minDate:new Date}),p.default.createElement(y.DateRange,{className:t.actionIcon,onClick:this.openPicker})))),p.default.createElement(F.default,{item:!0,hidden:this.state.isDone&&!this.state.followupText},p.default.createElement(k.default,{className:t.cardContent}," for ")),p.default.createElement(F.default,{item:!0,hidden:this.state.isDone},p.default.createElement(_.default,{id:"followup-text-field",value:this.getFollowupText(),onChange:this.handleFollowupTextChange,classes:{selectMenu:t.selectMenuClass,icon:t.selectIcon},className:this.state.followupText?t.selectedReason:t.emptyReason,MenuProps:{classes:{paper:t.menuPaper}}},p.default.createElement(H.default,{classes:{root:t.menuItemRoot},value:"Select",disabled:!0},"Select"),i)),p.default.createElement(F.default,{item:!0,hidden:!this.state.isDone},p.default.createElement(I.default,{id:"reason-code-field-"+this.state.actionId,className:t.selectedReason,value:this.state.followupText,margin:"normal",padding:"normal",InputProps:{className:t.test,readOnly:!0,disableUnderline:!0}}))),p.default.createElement(z.default,{fullScreen:o,open:this.state.openNoTextDialog,onClose:this.closeNoTextDialog,title:"Please select appropriate followup reason.",actions:[p.default.createElement(f.default,{onClick:this.closeNoTextDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(z.default,{fullScreen:o,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[p.default.createElement(f.default,{onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),p.default.createElement(f.default,{onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),p.default.createElement(z.default,{fullScreen:o,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[p.default.createElement(f.default,{onClick:this.closeWarningDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(z.default,{fullScreen:o,open:this.state.openInvalidDateDialog,onClose:this.closeInvalidDateDialog,title:"Found invalid date. Please correct the date to proceed.",actions:[p.default.createElement(f.default,{onClick:this.closeInvalidDateDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(F.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(y.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),p.default.createElement(y.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.followupText?"":t.disableDoneBtn,onClick:this.state.followupText?this.saveFollowup:K.emptyFunction}))))}}]),t}(d.Component),ee=function(){var e=this;this.validateFollowupData=function(){return e.state.incorrectFlag?(e.setState({openWarningDialog:!0}),!1):!!(0,G.isValidDate)(e.state.selectedDate)||(e.setState({openInvalidDateDialog:!0}),!1)},this.saveFollowup=function(){if(e.validateFollowupData()){if(!e.state.followupText)return void e.setState({openNoTextDialog:!0});e.setState({actionSaveProgressBar:!0});var t=new Date(e.state.selectedDate),a=(0,Y.format)(t,"yyyy-MM-dd"),n={dueDate:a,reminderDate:a,subject:e.state.followupText};N.default.post(A.default.apiUrl+"/customer/"+e.props.customer.id+"/task",n).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({finalSelectedDate:e.getDateFieldValue()},function(){e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1})})}},this.generateActionSummary=function(){var t=(e.state.invoiceCount,e.props.calledToNumber),a="Unknown "!=e.props.callToName&&"Unnamed Unnamed"!=e.props.callToName||!t?e.props.callToName:t;return X.replace("<Contact Name>",a).replace("<Followup Date>",e.state.selectedDate?"on "+(0,Y.format)(e.state.selectedDate,"MM-dd-yyyy"):"").replace("<Followup Text>",e.state.followupText?"for "+e.state.followupText:"")},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.closeNoTextDialog=function(){e.setState({openNoTextDialog:!1})},this.closeInvalidDateDialog=function(){e.setState({openInvalidDateDialog:!1})},this.toggleEditing=function(t){e.setState({readOnly:!1,isEditing:!0},function(){document.getElementById("invoice-amount-field-"+e.state.actionId).focus()})},this.handleDateChange=function(t){e.setState({selectedDate:t},function(){e.updateSummary()})},this.getDateFieldValue=function(){var t="date-input-field-"+e.state.actionId;return document.getElementById(t).value},this.handleFollowupTextChange=function(t){e.setState({change:!0,followupText:t.target.value},function(){e.updateSummary()})},this.getFollowupText=function(){var t=e.props.followupTextList;return e.state.followupText&&t.indexOf(e.state.followupText)>=0?e.state.followupText:"Select"},this.updateSummary=function(){var t=(e.state.invoiceCount,(0,Y.format)(new Date(e.state.selectedDate),"yyyy-MM-dd")),a=J.replace("<Followup Date>",t).replace("<Followup Text>",e.state.followupText?e.state.followupText:"");e.props.updateSummaryInParent(a)},this.openPicker=function(t){e.picker.open(t)}};s.propTypes={inputRef:g.default.func.isRequired,onChange:g.default.func.isRequired},$.propTypes={classes:g.default.object.isRequired},t.default=(0,v.withStyles)(Q,{withTheme:!0})($)},6102:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"73vw",border:e.palette.primary.main+" 2px solid"}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),m=a(19),f=a(328),h=n(f),g=a(329),v=n(g),y=a(326),b=n(y),C=a(353),E=(n(C),a(29)),S=n(E),w=a(355),x=(n(w),a(352)),O=(n(x),a(356)),k=(n(O),a(66)),D=n(k),I=a(40),T=n(I),N=a(164),P=(n(N),a(70)),A=(n(P),a(115)),j=(n(A),a(21)),M=n(j),R=a(330),F=n(R),B=a(166),_=n(B),L=a(168),H=n(L),U=a(169),V=n(U),W=a(69),z=n(W),Y=a(6081),K=n(Y),G=a(338),q=n(G),X=a(52),J=a(53),Q=a(6083),Z=(n(Q),/(Promise to pay for \d*)|([0-9]{4}[-][0-9]{2}[-][0-9]{2})|(\d* invoice)/g),$=/(\d* invoice)|(because of .*)/g,ee=function(e){return{invoiceHeader:{height:"6.48148148148vh",display:"flex",alignItems:"center",backgroundColor:e.palette.solidBackground.main,borderBottom:"#395C73 solid 1px",paddingLeft:"3rem"},checkedIcon:{color:e.palette.secondary.main,zIndex:"3",height:"calc(1.2vh + 1.2vw)",width:"calc(1.2vh + 1.2vw)"},invoiceList:{width:"auto",height:"auto",marginTop:"1rem",marginBottom:"1.9rem",justifyContent:"space-around",overflow:"hidden",paddingLeft:"3rem"},correction:{display:"flex"},correctionAlert:{color:"#FF8888",marginLeft:".5rem"},errorFlag:{color:"#FF4444",marginLeft:".5rem"},gridList:{width:"100%",height:"100%",margin:"10px 0px -2px -.4rem !important"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.secondary.main+" solid 1px",backgroundColor:"#39586F",borderRadius:"4px",alignItems:"center"},incorrectDiv:{display:"flex",border:"#FF8888 dashed 1px",width:"15.41vw",height:"7.40vh",alignItems:"center"},paper:{position:"absolute",width:100*e.spacing.unit,backgroundColor:e.palette.solidBackground.main,boxShadow:e.shadows[5],padding:1*e.spacing.unit,paddingLeft:0,paddingRight:0},button:{color:e.palette.primary.main,marginRight:"2em",fontSize:"0.888rem"},addIcon:{width:"calc(1.1vh + 1.1vw)",height:"calc(1.1vh + 1.1vw)",color:e.palette.secondary.main},secondaryText:{color:e.palette.secondary.main},primaryText:{color:e.palette.primary.main}}},te=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ae.call(a);var n=a.props.sum,i=a.props.intentType,l=void 0;if("P2P"==i){l=n.summary.match(Z)[0].match(/[0-9]{1,}/),l||(l=0)}var s=new Map,c=a.props.correctInvoices;if(c)for(var u=0;u<c.length;u++){var d=c[u];s.set(d.id.toString(),!1)}if("Dispute"==i){var p=n.summary.match($),m=p[1]?p[1].substring(11):"General Dispute";m||(m="General Dispute")}return a.state={allInvoicesSelected:!1,invoicesCheckboxMap:s,totalAmount:l,invoiceCount:a.props.invoiceCount,correctInvoices:a.props.correctInvoices,correctInvoicesMap:a.props.correctInvoicesMap,incorrectFlag:a.props.incorrectFlag,isMessageDialogOpen:!1,openAddInvoiceModal:!1,invoices:a.props.invoices,allInvoices:a.props.invoices,executeAppendInvoice:!1},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{style:{width:"100%"}},!this.props.done&&u.default.createElement("div",null,u.default.createElement(z.default,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openAddInvoiceModal,onClose:this.closeAddInvoiceModal},u.default.createElement("div",{style:l(n),className:a.paper},u.default.createElement("div",{style:{width:"100%",display:"flex",alignItem:"center",borderBottom:"1px solid  #395C73 ",padding:".2rem 0 .6rem 0"}},u.default.createElement("span",{style:{marginLeft:"1rem",fontSize:"1.3rem",color:n.palette.primary.main,opacity:.65}},"Select and Add Invoices"),u.default.createElement(q.default,{onClick:this.closeAddInvoiceModal,style:{position:"fixed",right:"5%",opacity:.65,cursor:"pointer",color:n.palette.primary.main}})),u.default.createElement(K.default,{setSelectedInvoices:this.setSelectedInvoices,postCall:!0,appendInvoices:this.appendInvoices,filterInvoices:this.filterInvoices,bucketNames:this.props.bucketNames,invoices:this.state.invoices,correctInvoicesMap:this.state.correctInvoicesMap}),u.default.createElement(S.default,{container:!0,xs:12,justify:"flex-end",alignItems:"center",style:{borderTop:"1px solid #395C73",paddingTop:".6rem"}},u.default.createElement(T.default,{variant:"contained",color:"secondary",className:a.button,onClick:function(){return e.appendInvoices(e.state.selectedInvoices)}},"Save ",this.selectedInvoicesLength())))),u.default.createElement("div",{className:a.invoiceHeader},u.default.createElement("div",{style:{display:"flex",alignItems:"center",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},this.state.invoiceCount>0&&u.default.createElement("div",{style:{display:"flex",alignItems:"center",color:n.palette.secondary.main,paddingRight:"1.56vw"}},u.default.createElement(b.default,{style:{padding:"0px"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.allInvoicesSelected,onClick:this.handleAllSelection}),u.default.createElement(M.default,{className:a.primaryText},"Select all")),u.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u.default.createElement(T.default,{variant:"outlined",color:"secondary",size:"small",style:{height:"4.44vh",paddingLeft:"0.666rem",paddingRight:"0.666rem"},onClick:this.openAddInvoiceModal},u.default.createElement(M.default,{style:{marginLeft:"4px",marginRight:"4px",fontSize:".89rem",color:n.palette.secondary.main}},"Select Invoices"))),u.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u.default.createElement(T.default,{variant:"outlined",color:"secondary",size:"small",style:{height:"4.44vh",marginLeft:"1rem",padding:"0 0.666rem"},onClick:this.deleteAllSelection},u.default.createElement(D.default,{className:a.addIcon}),u.default.createElement(M.default,{style:{marginLeft:"4px",fontSize:".89rem",color:n.palette.secondary.main}},"Remove")))))),u.default.createElement("div",{className:a.invoiceList},u.default.createElement("div",{className:a.correction},u.default.createElement(M.default,{className:a.primaryText},this.state.invoiceCount," ",this.state.invoiceCount>1?"Invoices ":"Invoice "),("P2P"==this.props.intentType||"Dispute"==this.props.intentType)&&u.default.createElement(M.default,{style:{opacity:.5},className:a.primaryText},"($",this.calculateAmount(),")"),this.state.incorrectFlag&&u.default.createElement("div",{style:{display:"flex",marginLeft:".5rem",alignItems:"center"}},u.default.createElement(F.default,{className:a.errorFlag}),u.default.createElement(M.default,{className:a.correctionAlert},"Correction Required(",this.state.correctInvoices.length-Object.keys(this.state.correctInvoicesMap).length,")"))),u.default.createElement(h.default,{cellHeight:"auto",className:a.gridList},this.state.correctInvoices.map(function(t){return u.default.createElement(v.default,{cols:1,key:t.id,style:{height:"auto",width:"16vw",margin:"0.4rem"}},u.default.createElement("div",{className:t.id in e.state.correctInvoicesMap?e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected?a.selectedGridListDiv:a.gridListDiv:a.incorrectDiv},!e.props.done&&u.default.createElement(b.default,{style:{padding:"2px",left:"3%",alignItems:"center"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),disabled:!(t.id in e.state.correctInvoicesMap),checked:e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected,onClick:function(){return e.toggleCheckbox(t.id.toString())}}),u.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},u.default.createElement(M.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.5,lineHeight:"1.7rem"}},t.documentNumber),u.default.createElement(M.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",t.id in e.state.correctInvoicesMap?(0,X.formatter)(t.currentOpenAmount):"----")),!e.props.done&&u.default.createElement(D.default,{style:{position:"absolute",right:"10%",top:"27%",width:"calc(.8vh + .8vw)",height:"calc(.8vh + .8vw)"},className:a.addIcon,onClick:function(){e.deleteInvoice(t.id)}})))}))),u.default.createElement(_.default,{open:this.state.isMessageDialogOpen,onClose:this.handleMessageDialog,"aria-labelledby":"responsive-dialog-title"},u.default.createElement(V.default,{id:"responsive-dialog-title"},"Please select some invoices."),u.default.createElement(H.default,null,u.default.createElement(T.default,{onClick:this.handleMessageDialog,color:"default"},"OK"))))}}]),t}(c.Component),ae=function(){var e=this;this.setSelectedInvoices=function(t){e.setState({selectedInvoices:t})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0;for(var n in t)1==t[n]&&a++;if(0!=a)return"("+a+")"},this.filterInvoices=function(t){if("All"==t)e.setState({invoices:e.state.allInvoices});else{for(var a=e.state.allInvoices,n=[],o=0;o<a.length;o++){for(var r=[],i=0;i<a[o].length;i++)"Dispute"==t&&null!=a[o][i].disputeStatus?r.push(a[o][i]):"Predicted Delinquent"==t&&1==a[o][i].p2pDelinquent?r.push(a[o][i]):"Upcoming P2P"==t&&1==a[o][i].p2pUpcoming?r.push(a[o][i]):"Broken P2P"==t&&1==a[o][i].p2pBroken&&r.push(a[o][i]);n.push(r)}e.setState({invoices:n})}},this.toggleCheckbox=function(t){var a=e.state.invoicesCheckboxMap.get(t),n=e.state.invoicesCheckboxMap;n.set(t,!a);var o=!0;e.setState({invoicesCheckboxMap:n},function(){var t=!0,a=!1,r=void 0;try{for(var i,l=n.keys()[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var s=i.value;if(!n.get(s)){o=!1;break}}}catch(e){a=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw r}}e.setState({allInvoicesSelected:o})})},this.deleteInvoice=function(t){var a=e.state.correctInvoicesMap;for(var n in a)if(n==t){delete a[n];break}var o=e.state.invoicesCheckboxMap;o.delete(t),e.setState({invoicesCheckboxMap:o,correctInvoices:e.state.correctInvoices.filter(function(e){return e.id!=t}),correctInvoicesMap:a},function(){e.updateInvoicesThings(t),e.props.updateInvoices(e.state.correctInvoices,a)})},this.handleAllSelection=function(){var t=e.state.invoicesCheckboxMap;e.setState(function(e){return{allInvoicesSelected:!e.allInvoicesSelected}},function(){var a=!0,n=!1,o=void 0;try{for(var r,i=t.keys()[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var l=r.value;t.set(l,e.state.allInvoicesSelected)}}catch(e){n=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}e.setState({invoiceChecksMap:t})})},this.deleteAllSelection=function(){var t=e.state.correctInvoices.filter(function(t){return 1==e.state.invoicesCheckboxMap.get(t.id.toString())});if(0==t.length)return void e.setState({isMessageDialogOpen:!0});for(var a=e.state.correctInvoices.filter(function(t){return 0==e.state.invoicesCheckboxMap.get(t.id.toString())}),n=e.state.invoicesCheckboxMap,o=e.state.correctInvoicesMap,r=!1,i=a.length,l=!0,s=0,c=t.length;s<c;++s){var u=t[s].id.toString();n.delete(u),delete o[u]}e.setState({correctInvoices:a,invoicesCheckboxMap:n,correctInvoicesMap:o,invoiceCount:i},function(){for(var t=0;t<i;t++){if(!(a[t].id.toString()in o)){r=!0;break}}for(var s=0;s<i;s++){var c=a[s],u=c.id.toString();if(!n.get(u)){l=!1;break}}e.setState({incorrectFlag:r,allInvoicesSelected:l}),e.props.onUpdateInvoice(r,i),e.props.updateInvoices(e.state.correctInvoices,e.state.correctInvoicesMap)})},this.handleMessageDialog=function(){e.setState(function(e){return{isMessageDialogOpen:!e.isMessageDialogOpen}})},this.openAddInvoiceModal=function(){e.setState({openAddInvoiceModal:!0})},this.closeAddInvoiceModal=function(){e.setState({openAddInvoiceModal:!1})},this.appendInvoices=function(t){for(var a=e.state.correctInvoicesMap,n=e.state.correctInvoices.slice(0),o=e.state.invoicesCheckboxMap,r=0;r<e.state.correctInvoices.length;r++)e.state.correctInvoicesMap[e.state.correctInvoices[r].id]&&(n.splice(n.indexOf(e.state.correctInvoices[r]),1),o.delete(e.state.correctInvoices[r].id.toString()));e.setState({correctInvoices:n,correctInvoicesMap:{},invoicesCheckboxMap:o}),a={};for(var i in t)if(1==t[i])for(var l=!1,s=0;s<e.props.invoices.length&&!l;s++){for(var c=0;c<e.props.invoices[s].length;c++)if(e.props.invoices[s][c].id==i){n.push(e.props.invoices[s][c]),l=!0;break}a[i]=!0}if(t){var u=e.state.invoicesCheckboxMap;for(var d in t)1==t[d]&&u.set(d.toString(),!1);e.setState({invoicesCheckboxMap:u})}e.setState({correctInvoices:n,correctInvoicesMap:a,invoiceCount:n.length},function(){e.props.updateInvoices(e.state.correctInvoices,a)}),e.props.onUpdateInvoice(e.state.incorrectFlag,n.length),e.setState({openAddInvoiceModal:!1})},this.updateInvoicesThings=function(t){var a=e.state.correctInvoicesMap,n=!1,o=e.state.correctInvoices,r=o.length;if(delete a[t],0==r)return e.setState({incorrectFlag:!1,invoiceCount:0}),void e.props.onUpdateInvoice(!1,0);delete a[t],e.setState({correctInvoicesMap:a},function(){for(var t=0;t<r;t++){if(!(o[t].id in a)){n=!0;break}}e.setState({incorrectFlag:n,invoiceCount:r}),e.props.onUpdateInvoice(n,r)})},this.calculateAmount=function(){var t=0,a=e.state.correctInvoices;for(var n in a)t+=a[n].id in e.state.correctInvoicesMap?a[n].currentOpenAmount:0;return 0==t?0:(0,J.formatCurrencyToUSFormat)(t)}};te.propTypes={classes:p.default.object.isRequired},t.default=(0,m.withStyles)(ee,{withTheme:!0})(te)},6103:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),m=a(19),f=a(29),h=n(f),g=a(23),v=a(90),y=n(v),b=a(179),C=(n(b),a(334)),E=(n(C),a(178)),S=(n(E),a(324),a(38)),w=n(S),x=a(39),O=n(x),k=a(66),D=n(k),I=a(328),T=n(I),N=a(329),P=n(N),A=a(347),j=n(A),M=a(87),R=n(M),F=a(164),B=(n(F),a(165)),_=n(B),L=a(33),H=n(L),U=a(6104),V=(n(U),function(e){return{root:{margin:"0em 1em 0em 1em",backgroundColor:e.palette.background.main,paddingTop:"5%",alignItems:"center",paddingBottom:"0",justifyContent:"center"},customerName:{fontFamily:e.font.title.fontFamily,fontSize:"1.6em",color:e.palette.primary.main,paddingLeft:".3em"},customerNumber:{fontFamily:e.font.title.fontFamily,fontSize:".7em",color:e.palette.primary.main,paddingLeft:".7em"},summaryNotesBox:{maxHeight:"90vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main},summaryNoteitems:{whiteSpace:"pre-line",marginTop:"1em",wordBreak:"break-word",overflowY:"auto",maxHeight:"75.5vh"},summaryNotesHeader:{fontSize:"1.0666rem",fontWeight:"normal",paddingTop:"2.22vh",paddingLeft:"1.026vw",lineHeight:"normal",color:e.palette.primary.main,opacity:.65},summaryEmailHeader:{alignItems:"center",display:"flex"},emailTemplate:{position:"absolute",right:"3em"},templateSelection:{color:"#fff",height:"0.9rem",fontSize:"1rem",minHeight:"0.9rem"},summaryEmail:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:".125rem",marginBottom:"1.3rem",height:"79vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main},summaryEmailForm:{padding:"0.5rem 0.5rem 0 0.5rem"},emailIdChipsInput:{borderBottom:"0.0625rem solid rgba(93, 170, 224, 0.5)"},emailAddLabel:{fontSize:"0.888rem",marginRight:"0.3em",opacity:.5,color:e.palette.secondary.main},emailIdChips:{height:"1.4em",fontSize:"0.888rem",paddingLeft:"0.1777rem",paddingRight:"0.1777rem",marginRight:"0.2em",backgroundColor:e.palette.secondary.main,color:e.palette.primary.main,"&> span":{fontSize:"0.9rem",marginRight:"0.3rem"},"&:hover, &:focus":{backgroundColor:e.palette.secondary.main},"&:active":{backgroundColor:e.palette.secondary.main}},invalidEmailIdChips:{height:"1.4em",fontSize:"0.888rem",paddingLeft:"0.1777rem",paddingRight:"0.1777rem",marginRight:"0.2em","&> span":{fontSize:"0.9rem",marginRight:"0.3rem"},backgroundColor:"#ff4444",color:e.palette.primary.main,"&:hover, &:focus":{backgroundColor:"#f73838"},"&:active":{backgroundColor:"#f73838"}},removeEmailId:{fontSize:"0.8em",color:e.palette.primary.main},emailIdInput:{marginRight:"0.3125rem",width:"38%",resize:"horizontal",color:e.palette.primary.main,fontSize:"0.9rem"},emailSubject:{borderBottom:"0.0625rem solid rgba(93, 170, 224, 0.5)",fontSize:"0.888rem",color:e.palette.primary.main,"&::placeholder":{color:"#a7a7a7"}},disabledSubjectInput:{fontSize:"0.888rem",color:e.palette.primary.main},summaryEmailBody:{height:"60vh",overflowY:"auto",overflowX:"hidden"},emailBodyText:{marginTop:"0.9rem",color:e.palette.primary.main+" !important"},invoiceCount:{marginBottom:"0.8rem"},invoiceAttachements:{height:"10vh"},removeInvoice:{fontSize:"1.0rem",width:"1.0em",color:e.palette.secondary.main,position:"absolute",right:"10%",top:"40%"},gridListDiv:{display:"flex",border:e.palette.secondary.main+" solid 0.0625rem",padding:"0.25rem",borderRadius:"0.25rem"},summaryEmailFooter:{height:"7.4vh",width:"100%",display:"flex",flexDirection:"row-reverse",alignItems:"center",backgroundColor:" #2c414f;"},sendSummaryEmailBtn:{height:"2em",width:"6em",marginRight:"1.2rem",fontSize:"smaller",alignSelf:"center",color:e.palette.primary.main},disableIcon:{display:"none"},legalMessage:{color:e.palette.primary.main,opacity:.65,paddingTop:"0px !important",paddingBottom:"0px !important"},notesList:{color:e.palette.primary.main,paddingLeft:"0",marginLeft:"1.7rem"},emptySummaryText:{color:e.palette.primary.main},emptySummaryGrid:{display:"flex",alignItems:"center",height:"15vh",justifyContent:"center",whiteSpace:"pre-line",wordBreak:"break-word"},warningLine:{display:"flex",alignItems:"center",fontWeight:500,color:e.palette.primary.main,fontSize:".8em",opacity:"0.65"},icon:{marginRight:".5vw"},hideOverflow:{overflow:"hidden"}}}),W=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.componentDidMount=function(){var e=a.props,t=e.collector,n=e.summaryNotes,o=e.nonActionIncluded,r=a.state.emailAttachements.length>0?"Please find the mentioned invoices attached.":"",i="",l=t.firstName?a.props.collector.firstName:"",s=t.lastName?a.props.collector.lastName:"";for(var c in n){if(c==n.length-1&&o)break;i+=n[c].trim()?"\n "+n[c]:""}i=i?"\nPlease find below the summary of our conversation:\n"+i+"\n\n"+r+"\n":"";var u=i?"Greetings,\n"+i+"\nRegards,\n"+l+" "+s:"",d=(u.match(/\n/g)||[]).length;a.setState({emailTemplateBody:u,emailBodyHeight:d+1})},a.handleTemplateChange=function(e){a.setState({emailTemplateName:e.target.value});var t=a.state.emailTemplates;console.log(e.target.value);for(var n=0;n<t.length;n++)if(t[n].name==e.target.value){a.setState({emailTemplateSubject:t[n].subject}),a.setState({emailTemplateBody:t[n].body}),a.setState({templateId:t[n].id});break}},a.handleEmailEnter=function(e){if(("blur"===e.type||"Enter"===e.key)&&e.target.value.trim()){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;e.target.value&&(e.target.value=e.target.value.trim());var n=t.test(e.target.value);console.log("this email is "+n);var o=a.state.emailIdChips,r={key:o.length,label:e.target.value,emailId:e.target.value,validate:n};o.push(r),a.setState({toAddr:o}),e.target.value=""}},a.handleEmailIdDelete=function(e){return function(){a.emailAdd.current.focus(),a.setState(function(t){var a=[].concat(o(t.emailIdChips)),n=a.indexOf(e);return a.splice(n,1),{emailIdChips:a}})}},a.handleSubjectChange=function(e){a.setState({emailTemplateSubject:e.target.value})},a.handleEmailBodyChange=function(e){var t=Math.round(document.getElementById("emailBody").scrollHeight);t<=12&&(t=12),a.setState({emailTemplateBody:e.target.value,emailBodyHeight:t})},a.removeAttachement=function(e){var t=a.state.emailAttachements;console.log("remove: "+e);for(var n=0;n<t.length;n++)if(t[n].id==e){t.splice(n,1),a.setState({emailAttachements:t});break}},a.sendSummaryEmail=function(){console.log("sending summary email");for(var e=[],t=0;t<a.state.emailAttachements.length;t++)e.push(a.state.emailAttachements[t].invoiceId);if(0==a.state.emailIdChips.length)return void a.openSnackBarWithMessage("Please specify at least one recipient.");for(var n="",t=0;t<a.state.emailIdChips.length;t++)a.state.emailIdChips[t].validate&&(n+=a.state.emailIdChips[t].emailId+",");var o=n.lastIndexOf(",");n=n.slice(0,o),console.log("To: "+n);var r=a.state.emailTemplateBody;r=r.replace(/\n/g,"<br />");var i={body:r,subject:a.state.emailTemplateSubject,customerId:a.props.customer.id,documentIds:e,from:a.props.collector.emailId,to:n};a.setState({emailSent:!0}),O.default.post(w.default.apiUrl+"/correspondence/callsummary",i).then(function(e){a.openSnackBarWithMessage("Email sent"),a.setState({emailSent:!0})}).catch(function(e){a.setState({emailSent:!1}),a.openSnackBarWithMessage("Error in sending email"),console.log(e)})},a.openSnackBarWithMessage=function(e){a.setState({snackBarMessage:e}),a.setState({snackBarOpen:!0})},a.closeSnackbar=function(){a.setState({snackBarOpen:!1})};var n=a.props.contactIndex,l=[];if(null!=n&&"Unnamed"!==a.props.customer.contacts[n].firstName&&"Unnamed"!==a.props.customer.contacts[n].lastName){var s=a.props.customer.contacts[n].firstName+" "+a.props.customer.contacts[n].lastName;l.push({key:0,label:s,emailId:a.props.customer.contacts[n].email,validate:!0})}var c=a.props.invoiceList;return a.state={loading:!0,emailTemplateName:"",emailTemplateBody:"",emailTemplateSubject:"Summary notes as per our conversation.",templateId:-1,emailTemplates:[],emailAttachements:c,emailIdChips:l,snackBarOpen:!1,snackBarMessage:"",emailSent:!1,emailBodyHeight:12},console.log(a.props.summaryNotes,"summary notes in final"),a.emailAdd=u.default.createRef(),O.default.get(w.default.apiUrl+"/correspondence/emailtemplates").then(function(e){var t=[];t=e.data,a.setState({emailTemplates:t},function(){0!=t.length&&(a.setState({emailTemplateName:t[0].name}),a.setState({emailTemplateSubject:t[0].subject}),a.setState({emailTemplateBody:t[0].body}),a.setState({templateId:t[0].id})),a.setState({loading:!1})})}).catch(function(e){console.log(e),console.log("Error in fetching templates"),a.setState({emailTemplates:[]},function(){a.setState({loading:!1})}),a.setState({emailTemplateName:"No Templates!"})}),a}return l(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.customer,t.classes),n=t.summaryNotes,o=t.theme;return console.log(),u.default.createElement("div",{style:{width:"100%"}},u.default.createElement(h.default,{item:!0,xs:12,style:{display:"flex"}},u.default.createElement(h.default,{item:!0,xs:5},u.default.createElement(h.default,{item:!0,xs:12,className:a.summaryNotesBox},u.default.createElement(h.default,{item:!0},u.default.createElement(g.Typography,{className:a.summaryNotesHeader},"SUMMARY NOTES")),u.default.createElement(h.default,{items:!0,id:"summaryNoteitems",className:n&&0!=n.length?a.summaryNoteitems:a.emptySummaryGrid},(!n||0==n.length)&&u.default.createElement("div",{className:a.warningLine},u.default.createElement(R.default,{className:a.icon}),u.default.createElement("span",{className:a.emptySummaryText},"There is no summary notes ")),n&&0==!n.length&&u.default.createElement("ul",{className:a.notesList},n.map(function(e){return u.default.createElement("li",null,u.default.createElement(g.Typography,{style:{color:o.palette.primary.main,opacity:1,fontSize:"0.88888888888rem",marginBottom:"0.888rem"}},e))}))))),u.default.createElement(h.default,{item:!0,xs:7,style:{paddingLeft:"1.041vw"}},u.default.createElement("div",{className:a.summaryEmailHeader},u.default.createElement(g.Typography,{style:{fontSize:"1.06666rem",fontWeight:"normal",color:"#ffffff",opacity:.65,paddingBottom:"0.2em"}},"SEND SUMMARY MAIL")),u.default.createElement("div",{className:a.summaryEmail},u.default.createElement("div",{className:a.summaryEmailForm},u.default.createElement("div",{className:a.emailIdChipsInput},u.default.createElement("span",{className:a.emailAddLabel},"To "),this.state.emailIdChips.map(function(t,n){return u.default.createElement(j.default,{key:t.key,label:t.label,className:t.validate?a.emailIdChips:a.invalidEmailIdChips,deleteIcon:u.default.createElement(D.default,{className:e.state.emailSent?a.disableIcon:a.removeEmailId}),onDelete:e.handleEmailIdDelete(t),classes:{clickable:t.validate?a.emailIdChips:a.invalidEmailIdChips}})}),u.default.createElement(y.default,{onKeyPress:this.handleEmailEnter,onBlur:this.handleEmailEnter,fullWidth:!0,className:a.emailIdInput,disableUnderline:!0,disabled:this.state.emailSent,inputRef:this.emailAdd})),u.default.createElement(y.default,{fullWidth:!0,style:{marginTop:"1%"},placeholder:"Subject",classes:{disabled:a.disabledSubjectInput},className:a.emailSubject,value:this.state.emailTemplateSubject,onChange:this.handleSubjectChange,disableUnderline:!0,disabled:this.state.emailSent}),u.default.createElement("div",{className:a.summaryEmailBody},u.default.createElement(g.TextField,{id:"emailBody",fullWidth:!0,multiline:!0,value:this.state.emailTemplateBody,onChange:this.handleEmailBodyChange,rows:12,style:{color:"white",overflow:"hidden"},rowsMax:this.state.emailBodyHeight,className:a.emailBodyText,classes:{},InputProps:{disableUnderline:!0,style:{color:"white"},classes:{input:a.hideOverflow}},disabled:this.state.emailSent}),u.default.createElement("div",{className:a.invoiceAttachements},this.state.emailAttachements.length>0&&u.default.createElement("div",{className:a.invoiceCount},u.default.createElement(g.Typography,{style:{color:o.palette.secondary.main,fontSize:"0.9777"}},"Invoice Attachements (",this.state.emailAttachements.length,")")),u.default.createElement(T.default,{cellHeight:"auto",className:a.gridList},this.state.emailAttachements.map(function(e){return u.default.createElement(P.default,{cols:1,key:e.id,style:{height:"auto",width:"12.5rem",padding:"0.25rem"}},u.default.createElement("div",{className:a.gridListDiv},u.default.createElement("div",{style:{display:"block",marginLeft:"0.375rem"}},u.default.createElement(g.Typography,{style:{padding:"0.25rem",fontSize:"0.888rem",opacity:.65,color:o.palette.primary.main}},e.documentNumber),u.default.createElement(g.Typography,{style:{padding:"0.25rem",fontSize:"1rem",color:o.palette.primary.main}},"$ ",e.currentOpenAmount))))}))))),u.default.createElement("div",{className:a.summaryEmailFooter},u.default.createElement(g.Button,{color:"secondary",className:a.sendSummaryEmailBtn,size:"small",variant:"contained",onClick:this.sendSummaryEmail,disabled:this.state.emailSent},"SEND"))))),u.default.createElement(_.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[u.default.createElement(H.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(D.default,null))]}))}}]),t}(c.Component);W.propTypes={classes:p.default.object.isRequired},t.default=(0,m.withStyles)(V,{withTheme:!0})(W)},6104:function(e,t,a){"use strict";e.exports=a(6105)},6105:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(0),c=n(s),u=a(4),d=n(u),p=a(6106),m=n(p),f=a(6110),h=n(f),g=a(6084),v=(g.nameShape.isRequired,d.default.bool,d.default.bool,d.default.bool,(0,g.transitionTimeout)("Appear"),(0,g.transitionTimeout)("Enter"),(0,g.transitionTimeout)("Leave"),{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),y=function(e){function t(){var a,n,i;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=r(this,e.call.apply(e,[this].concat(s))),n._wrapChild=function(e){return c.default.createElement(h.default,{name:n.props.transitionName,appear:n.props.transitionAppear,enter:n.props.transitionEnter,leave:n.props.transitionLeave,appearTimeout:n.props.transitionAppearTimeout,enterTimeout:n.props.transitionEnterTimeout,leaveTimeout:n.props.transitionLeaveTimeout},e)},i=a,r(n,i)}return i(t,e),t.prototype.render=function(){return c.default.createElement(m.default,l({},this.props,{childFactory:this._wrapChild}))},t}(c.default.Component);y.displayName="CSSTransitionGroup",y.propTypes={},y.defaultProps=v,t.default=y,e.exports=t.default},6106:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(6107),c=n(s),u=a(0),d=n(u),p=a(4),m=n(p),f=a(6108),h=(n(f),a(6109)),g=(m.default.any,m.default.func,m.default.node,{component:"span",childFactory:function(e){return e}}),v=function(e){function t(a,n){o(this,t);var i=r(this,e.call(this,a,n));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var a=(0,h.getChildMapping)(i.props.children);a&&a.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var a=(0,h.getChildMapping)(i.props.children);a&&a.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var a=(0,h.getChildMapping)(i.props.children);a&&a.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState(function(t){var a=l({},t.children);return delete a[e],{children:a}})},i.childRefs=Object.create(null),i.state={children:(0,h.getChildMapping)(a.children)},i}return i(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,h.getChildMapping)(e.children),a=this.state.children;this.setState({children:(0,h.mergeChildMappings)(a,t)});for(var n in t){var o=a&&a.hasOwnProperty(n);!t[n]||o||this.currentlyTransitioningKeys[n]||this.keysToEnter.push(n)}for(var r in a){var i=t&&t.hasOwnProperty(r);!a[r]||i||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var a=this.keysToLeave;this.keysToLeave=[],a.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[];for(var a in this.state.children)!function(a){var n=e.state.children[a];if(n){var o="string"!=typeof n.ref,r=e.props.childFactory(n),i=function(t){e.childRefs[a]=t};r===n&&o&&(i=(0,c.default)(n.ref,i)),t.push(d.default.cloneElement(r,{key:a,ref:i}))}}(a);var n=l({},this.props);return delete n.transitionLeave,delete n.transitionName,delete n.transitionAppear,delete n.transitionEnter,delete n.childFactory,delete n.transitionLeaveTimeout,delete n.transitionEnterTimeout,delete n.transitionAppearTimeout,delete n.component,d.default.createElement(this.props.component,n,t)},t}(d.default.Component);v.displayName="TransitionGroup",v.propTypes={},v.defaultProps=g,t.default=v,e.exports=t.default},6107:function(e,t){e.exports=function(){for(var e=arguments.length,t=[],a=0;a<e;a++)t[a]=arguments[a];if(t=t.filter(function(e){return null!=e}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},6108:function(e,t,a){"use strict";var n=function(){};e.exports=n},6109:function(e,t,a){"use strict";function n(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function o(e,t){function a(a){return t.hasOwnProperty(a)?t[a]:e[a]}e=e||{},t=t||{};var n={},o=[];for(var r in e)t.hasOwnProperty(r)?o.length&&(n[r]=o,o=[]):o.push(r);var i=void 0,l={};for(var s in t){if(n.hasOwnProperty(s))for(i=0;i<n[s].length;i++){var c=n[s][i];l[n[s][i]]=a(c)}l[s]=a(s)}for(i=0;i<o.length;i++)l[o[i]]=a(o[i]);return l}t.__esModule=!0,t.getChildMapping=n,t.mergeChildMappings=o;var r=a(0)},6110:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return S.length?S.forEach(function(a){return e.addEventListener(a,t,!1)}):setTimeout(t,0),function(){S.length&&S.forEach(function(a){return e.removeEventListener(a,t,!1)})}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=a(6078),u=n(c),d=a(6079),p=n(d),m=a(6111),f=n(m),h=a(348),g=a(0),v=n(g),y=a(4),b=n(y),C=a(20),E=a(6084),S=[];h.transitionEnd&&S.push(h.transitionEnd),h.animationEnd&&S.push(h.animationEnd);var w=(b.default.node,E.nameShape.isRequired,b.default.bool,b.default.bool,b.default.bool,b.default.number,b.default.number,b.default.number,function(e){function t(){var a,n,i;o(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return a=n=r(this,e.call.apply(e,[this].concat(s))),n.componentWillAppear=function(e){n.props.appear?n.transition("appear",e,n.props.appearTimeout):e()},n.componentWillEnter=function(e){n.props.enter?n.transition("enter",e,n.props.enterTimeout):e()},n.componentWillLeave=function(e){n.props.leave?n.transition("leave",e,n.props.leaveTimeout):e()},i=a,r(n,i)}return i(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,a){var n=(0,C.findDOMNode)(this);if(!n)return void(t&&t());var o=this.props.name[e]||this.props.name+"-"+e,r=this.props.name[e+"Active"]||o+"-active",i=null,s=void 0;(0,u.default)(n,o),this.queueClassAndNode(r,n);var c=function(e){e&&e.target!==n||(clearTimeout(i),s&&s(),(0,p.default)(n,o),(0,p.default)(n,r),s&&s(),t&&t())};a?(i=setTimeout(c,a),this.transitionTimeouts.push(i)):h.transitionEnd&&(s=l(n,c))},t.prototype.queueClassAndNode=function(e,t){var a=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,f.default)(function(){return a.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,u.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=s({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,v.default.cloneElement(v.default.Children.only(this.props.children),e)},t}(v.default.Component));w.displayName="CSSTransitionGroupChild",w.propTypes={},t.default=w,e.exports=t.default},6111:function(e,t,a){"use strict";function n(e){var t=(new Date).getTime(),a=Math.max(0,16-(t-d)),n=setTimeout(e,a);return d=t,n}var o=a(3);t.__esModule=!0,t.default=void 0;var r,i=o(a(177)),l=["","webkit","moz","o","ms"],s="clearTimeout",c=n,u=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&l.some(function(e){var t=u(e,"request");if(t in window)return s=u(e,"cancel"),c=function(e){return window[t](e)}});var d=(new Date).getTime();r=function(e){return c(e)},r.cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)};var p=r;t.default=p,e.exports=t.default},6112:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=n(u),p=a(19),m=a(85),f=n(m),h=a(23),g=a(6113),v=n(g),y=a(113),b=(a(6114),a(176)),C=(n(b),a(6117)),E=n(C),S=function(e){return{chatBubble:{display:"flex",alignItems:"flex-start",padding:"4px",borderRadius:"4px",minWidth:"calc(100% - 2rem)",width:"calc(100% - 2rem)",minHeight:"1rem",marginBottom:"4px"},rightBubble:{opacity:"0.65 !important",alignSelf:"flex-end",flexDirection:"row-reverse"},message:{fontSize:"1rem",color:"#fff"},highlightMessage:{color:"#fff",backgroundColor:"rgba(93, 170, 224, 0.3)"},circledText:{minWidth:"2rem",minHeight:"2rem",maxHeight:"2rem",maxWidth:"2rem",borderRadius:"50%",fontSize:"0.8rem",color:"#fff",lineHeight:"2rem",textAlign:"center",background:"#5DAAE0"},gifAnimator:{},detector:{background:"transparent",border:"1px solid #5DAAE0"},highlighterForLeft:{alignSelf:"center",marginLeft:"10px"},highlighterForRight:{textAlign:"right",alignSelf:"center",marginRight:"10px"}}},w=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.isCollector,a=e.message,n=e.classes,o=e.isDetecting;return c.default.createElement(f.default,{in:!0},c.default.createElement("div",{className:n.chatBubble+" "+(t?n.rightBubble:"")},!o&&c.default.createElement(h.Typography,{className:n.circledText+" "+(o?n.detector:"")},this.props.initials),o&&c.default.createElement("img",{style:{height:"2.5rem",width:"2.5rem"},src:E.default,alt:"Detecting Speakers Animation"}),c.default.createElement(v.default,{className:t?n.highlighterForRight:n.highlighterForLeft,unhighlightClassName:n.message,highlightClassName:n.highlightMessage+" "+n.message,searchWords:y.HIGHLIGHTER_REGEX,textToHighlight:a})))}}]),t}(s.Component);w.propTypes={classes:d.default.object.isRequired,isCollector:d.default.bool,message:d.default.string,isDetecting:d.default.bool},w.defaultProps={isCollector:!1,message:"",isDetecting:!1},t.default=(0,p.withStyles)(S,{withTheme:!0})(w)},6113:function(e,t,a){e.exports=function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){e.exports=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.activeClassName,a=void 0===t?"":t,n=e.activeIndex,o=void 0===n?-1:n,i=e.activeStyle,l=e.autoEscape,s=e.caseSensitive,u=void 0!==s&&s,p=e.className,m=e.findChunks,f=e.highlightClassName,h=void 0===f?"":f,g=e.highlightStyle,v=void 0===g?{}:g,y=e.highlightTag,b=void 0===y?"mark":y,C=e.sanitize,E=e.searchWords,S=e.textToHighlight,w=e.unhighlightClassName,x=void 0===w?"":w,O=e.unhighlightStyle,k=(0,r.findAll)({autoEscape:l,caseSensitive:u,findChunks:m,sanitize:C,searchWords:E,textToHighlight:S}),D=b,I=-1,T="",N=void 0,P=function(e){var t={};for(var a in e)t[a.toLowerCase()]=e[a];return t},A=(0,d.default)(P);return c.default.createElement("span",{className:p},k.map(function(e,t){var n=S.substr(e.start,e.end-e.start);if(e.highlight){I++;var r=void 0;"object"==typeof h?u?r=h[n]:(h=A(h),r=h[n.toLowerCase()]):r=h;var l=I===+o;return T=r+" "+(l?a:""),N=!0===l&&null!=i?Object.assign({},v,i):v,c.default.createElement(D,{className:T,key:t,style:N},n)}return c.default.createElement("span",{className:x,key:t,style:O},n)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=a(3),i=a(4),l=n(i),s=a(14),c=n(s),u=a(15),d=n(u);o.propTypes={activeClassName:l.default.string,activeIndex:l.default.number,activeStyle:l.default.object,autoEscape:l.default.bool,className:l.default.string,findChunks:l.default.func,highlightClassName:l.default.oneOfType([l.default.object,l.default.string]),highlightStyle:l.default.object,highlightTag:l.default.oneOfType([l.default.node,l.default.func,l.default.string]),sanitize:l.default.func,searchWords:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.instanceOf(RegExp)])).isRequired,textToHighlight:l.default.string.isRequired,unhighlightClassName:l.default.string,unhighlightStyle:l.default.object},e.exports=t.default},function(e,t){e.exports=function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){e.exports=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return n.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return n.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return n.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return n.findChunks}})},function(e,t){"use strict";function a(e){return e}function n(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}Object.defineProperty(t,"__esModule",{value:!0});var o=(t.findAll=function(e){var t=e.autoEscape,a=e.caseSensitive,n=void 0!==a&&a,l=e.findChunks,s=void 0===l?r:l,c=e.sanitize,u=e.searchWords,d=e.textToHighlight;return i({chunksToHighlight:o({chunks:s({autoEscape:t,caseSensitive:n,sanitize:c,searchWords:u,textToHighlight:d})}),totalLength:d?d.length:0})},t.combineChunks=function(e){var t=e.chunks;return t=t.sort(function(e,t){return e.start-t.start}).reduce(function(e,t){if(0===e.length)return[t];var a=e.pop();if(t.start<=a.end){var n=Math.max(a.end,t.end);e.push({start:a.start,end:n})}else e.push(a,t);return e},[])}),r=function(e){var t=e.autoEscape,o=e.caseSensitive,r=e.sanitize,i=void 0===r?a:r,l=e.searchWords,s=e.textToHighlight;return s=i(s),l.filter(function(e){return e}).reduce(function(e,a){a=i(a),t&&(a=n(a));for(var r=new RegExp(a,o?"g":"gi"),l=void 0;l=r.exec(s);){var c=l.index,u=r.lastIndex;u>c&&e.push({start:c,end:u}),l.index==r.lastIndex&&r.lastIndex++}return e},[])};t.findChunks=r;var i=t.fillInChunks=function(e){var t=e.chunksToHighlight,a=e.totalLength,n=[],o=function(e,t,a){t-e>0&&n.push({start:e,end:t,highlight:a})};if(0===t.length)o(0,a,!1);else{var r=0;t.forEach(function(e){o(r,e.start,!1),o(e.start,e.end,!0),r=e.end}),o(r,a,!1)}return n}}])},function(e,t,a){(function(t){if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n};e.exports=a(6)(o,!0)}else e.exports=a(13)()}).call(t,a(5))},function(e,t){function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===a||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){h&&m&&(h=!1,m.length?f=m.concat(f):g=-1,f.length&&l())}function l(){if(!h){var e=o(i);h=!0;for(var t=f.length;t;){for(m=f,f=[];++g<t;)m&&m[g].run();g=-1,t=f.length}m=null,h=!1,r(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,d,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:a}catch(e){u=a}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var m,f=[],h=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];f.push(new s(e,t)),1!==f.length||h||o(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,a){(function(t){"use strict";var n=a(7),o=a(8),r=a(9),i=a(10),l=a(11),s=a(12);e.exports=function(e,a){function c(e){var t=e&&(D&&e[D]||e[I]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function d(e){this.message=e,this.stack=""}function p(e){function n(n,c,u,p,m,f,h){if(p=p||T,f=f||u,h!==l)if(a)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var g=p+":"+u;!i[g]&&s<3&&(r(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,p),i[g]=!0,s++)}return null==c[u]?n?new d(null===c[u]?"The "+m+" `"+f+"` is marked as required in `"+p+"`, but its value is `null`.":"The "+m+" `"+f+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(c,u,p,m,f)}if("production"!==t.env.NODE_ENV)var i={},s=0;var c=n.bind(null,!1);return c.isRequired=n.bind(null,!0),c}function m(e){function t(t,a,n,o,r,i){var l=t[a];if(w(l)!==e)return new d("Invalid "+o+" `"+r+"` of type `"+x(l)+"` supplied to `"+n+"`, expected `"+e+"`.");return null}return p(t)}function f(e){function t(t,a,n,o,r){if("function"!=typeof e)return new d("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var i=t[a];if(!Array.isArray(i)){return new d("Invalid "+o+" `"+r+"` of type `"+w(i)+"` supplied to `"+n+"`, expected an array.")}for(var s=0;s<i.length;s++){var c=e(i,s,n,o,r+"["+s+"]",l);if(c instanceof Error)return c}return null}return p(t)}function h(e){function t(t,a,n,o,r){if(!(t[a]instanceof e)){var i=e.name||T;return new d("Invalid "+o+" `"+r+"` of type `"+k(t[a])+"` supplied to `"+n+"`, expected instance of `"+i+"`.")}return null}return p(t)}function g(e){function a(t,a,n,o,r){for(var i=t[a],l=0;l<e.length;l++)if(u(i,e[l]))return null;return new d("Invalid "+o+" `"+r+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?p(a):("production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)}function v(e){function t(t,a,n,o,r){if("function"!=typeof e)return new d("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var i=t[a],s=w(i);if("object"!==s)return new d("Invalid "+o+" `"+r+"` of type `"+s+"` supplied to `"+n+"`, expected an object.");for(var c in i)if(i.hasOwnProperty(c)){var u=e(i,c,n,o,r+"."+c,l);if(u instanceof Error)return u}return null}return p(t)}function y(e){function a(t,a,n,o,r){for(var i=0;i<e.length;i++){if(null==(0,e[i])(t,a,n,o,r,l))return null}return new d("Invalid "+o+" `"+r+"` supplied to `"+n+"`.")}if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var o=0;o<e.length;o++){var i=e[o];if("function"!=typeof i)return r(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",O(i),o),n.thatReturnsNull}return p(a)}function b(e){function t(t,a,n,o,r){var i=t[a],s=w(i);if("object"!==s)return new d("Invalid "+o+" `"+r+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var u=e[c];if(u){var p=u(i,c,n,o,r+"."+c,l);if(p)return p}}return null}return p(t)}function C(e){function t(t,a,n,o,r){var s=t[a],c=w(s);if("object"!==c)return new d("Invalid "+o+" `"+r+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");var u=i({},t[a],e);for(var p in u){var m=e[p];if(!m)return new d("Invalid "+o+" `"+r+"` key `"+p+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[a],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=m(s,p,n,o,r+"."+p,l);if(f)return f}return null}return p(t)}function E(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(E);if(null===t||e(t))return!0;var a=c(t);if(!a)return!1;var n,o=a.call(t);if(a!==t.entries){for(;!(n=o.next()).done;)if(!E(n.value))return!1}else for(;!(n=o.next()).done;){var r=n.value;if(r&&!E(r[1]))return!1}return!0;default:return!1}}function S(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function w(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":S(t,e)?"symbol":t}function x(e){if(void 0===e||null===e)return""+e;var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function O(e){var t=x(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function k(e){return e.constructor&&e.constructor.name?e.constructor.name:T}var D="function"==typeof Symbol&&Symbol.iterator,I="@@iterator",T="<<anonymous>>",N={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:function(){return p(n.thatReturnsNull)}(),arrayOf:f,element:function(){function t(t,a,n,o,r){var i=t[a];if(!e(i)){return new d("Invalid "+o+" `"+r+"` of type `"+w(i)+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return p(t)}(),instanceOf:h,node:function(){function e(e,t,a,n,o){return E(e[t])?null:new d("Invalid "+n+" `"+o+"` supplied to `"+a+"`, expected a ReactNode.")}return p(e)}(),objectOf:v,oneOf:g,oneOfType:y,shape:b,exact:C};return d.prototype=Error.prototype,N.checkPropTypes=s,N.PropTypes=N,N}}).call(t,a(5))},function(e,t){"use strict";function a(e){return function(){return e}}var n=function(){};n.thatReturns=a,n.thatReturnsFalse=a(!1),n.thatReturnsTrue=a(!0),n.thatReturnsNull=a(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,a){(function(t){"use strict";function a(e,t,a,o,r,i,l,s){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,o,r,i,l,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=a}).call(t,a(5))},function(e,t,a){(function(t){"use strict";var n=a(7),o=n;if("production"!==t.env.NODE_ENV){var r=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var o=0,r="Warning: "+e.replace(/%s/g,function(){return a[o++]});"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(e){}};o=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var a=arguments.length,n=Array(a>2?a-2:0),o=2;o<a;o++)n[o-2]=arguments[o];r.apply(void 0,[t].concat(n))}}}e.exports=o}).call(t,a(5))},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,l,s=a(e),c=1;c<arguments.length;c++){i=Object(arguments[c]);for(var u in i)o.call(i,u)&&(s[u]=i[u]);if(n){l=n(i);for(var d=0;d<l.length;d++)r.call(i,l[d])&&(s[l[d]]=i[l[d]])}}return s}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){(function(t){"use strict";function n(e,a,n,s,c){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{o("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",s||"React class",n,u,typeof e[u]),d=e[u](a,u,s,n,null,i)}catch(e){d=e}if(r(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,u,typeof d),d instanceof Error&&!(d.message in l)){l[d.message]=!0;var p=c?c():"";r(!1,"Failed %s type: %s%s",n,d.message,null!=p?p:"")}}}if("production"!==t.env.NODE_ENV)var o=a(8),r=a(9),i=a(11),l={};e.exports=n}).call(t,a(5))},function(e,t,a){"use strict";var n=a(7),o=a(8),r=a(11);e.exports=function(){function e(e,t,a,n,i,l){l!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t){e.exports=a(0)},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a=void 0,o=[],r=void 0,i=!1,l=function(e,a){return t(e,o[a])};return function(){for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return i&&a===this&&n.length===o.length&&n.every(l)?r:(i=!0,a=this,o=n,r=e.apply(this,n))}}var n=function(e,t){return e===t};e.exports=a}])},6114:function(e,t,a){(function(e,n){function o(e,a){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(a)?n.showHidden=a:a&&t._extend(n,a),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=r),s(n,e,n.depth)}function r(e,t){var a=o.styles[t];return a?"["+o.colors[a][0]+"m"+e+"["+o.colors[a][1]+"m":e}function i(e,t){return e}function l(e){var t={};return e.forEach(function(e,a){t[e]=!0}),t}function s(e,a,n){if(e.customInspect&&a&&k(a.inspect)&&a.inspect!==t.inspect&&(!a.constructor||a.constructor.prototype!==a)){var o=a.inspect(n,e);return b(o)||(o=s(e,o,n)),o}var r=c(e,a);if(r)return r;var i=Object.keys(a),h=l(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(a)),O(a)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return u(a);if(0===i.length){if(k(a)){var g=a.name?": "+a.name:"";return e.stylize("[Function"+g+"]","special")}if(S(a))return e.stylize(RegExp.prototype.toString.call(a),"regexp");if(x(a))return e.stylize(Date.prototype.toString.call(a),"date");if(O(a))return u(a)}var v="",y=!1,C=["{","}"];if(f(a)&&(y=!0,C=["[","]"]),k(a)){v=" [Function"+(a.name?": "+a.name:"")+"]"}if(S(a)&&(v=" "+RegExp.prototype.toString.call(a)),x(a)&&(v=" "+Date.prototype.toUTCString.call(a)),O(a)&&(v=" "+u(a)),0===i.length&&(!y||0==a.length))return C[0]+v+C[1];if(n<0)return S(a)?e.stylize(RegExp.prototype.toString.call(a),"regexp"):e.stylize("[Object]","special");e.seen.push(a);var E;return E=y?d(e,a,n,h,i):i.map(function(t){return p(e,a,n,h,t,y)}),e.seen.pop(),m(E,v,C)}function c(e,t){if(E(t))return e.stylize("undefined","undefined");if(b(t)){var a="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(a,"string")}return y(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,a,n,o){for(var r=[],i=0,l=t.length;i<l;++i)P(t,String(i))?r.push(p(e,t,a,n,String(i),!0)):r.push("");return o.forEach(function(o){o.match(/^\d+$/)||r.push(p(e,t,a,n,o,!0))}),r}function p(e,t,a,n,o,r){var i,l,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?l=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(l=e.stylize("[Setter]","special")),P(n,o)||(i="["+o+"]"),l||(e.seen.indexOf(c.value)<0?(l=g(a)?s(e,c.value,null):s(e,c.value,a-1),l.indexOf("\n")>-1&&(l=r?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n"))):l=e.stylize("[Circular]","special")),E(i)){if(r&&o.match(/^\d+$/))return l;i=JSON.stringify(""+o),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+l}function m(e,t,a){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?a[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+a[1]:a[0]+t+" "+e.join(", ")+" "+a[1]}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function C(e){return"symbol"==typeof e}function E(e){return void 0===e}function S(e){return w(e)&&"[object RegExp]"===I(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===I(e)}function O(e){return w(e)&&("[object Error]"===I(e)||e instanceof Error)}function k(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function I(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}function N(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],a=0;a<arguments.length;a++)t.push(o(arguments[a]));return t.join(" ")}for(var a=1,n=arguments,r=n.length,i=String(e).replace(A,function(e){if("%%"===e)return"%";if(a>=r)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(e){return"[Circular]"}default:return e}}),l=n[a];a<r;l=n[++a])g(l)||!w(l)?i+=" "+l:i+=" "+o(l);return i},t.deprecate=function(a,o){function r(){if(!i){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),i=!0}return a.apply(this,arguments)}if(E(e.process))return function(){return t.deprecate(a,o).apply(this,arguments)};if(!0===n.noDeprecation)return a;var i=!1;return r};var j,M={};t.debuglog=function(e){if(E(j)&&(j=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!M[e])if(new RegExp("\\b"+e+"\\b","i").test(j)){var a=n.pid;M[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,a,n)}}else M[e]=function(){};return M[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=y,t.isString=b,t.isSymbol=C,t.isUndefined=E,t.isRegExp=S,t.isObject=w,t.isDate=x,t.isError=O,t.isFunction=k,t.isPrimitive=D,t.isBuffer=a(6115);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=a(6116),t._extend=function(e,t){if(!t||!w(t))return e;for(var a=Object.keys(t),n=a.length;n--;)e[a[n]]=t[a[n]];return e}}).call(t,a(47),a(89))},6115:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},6116:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},6117:function(e,t,a){e.exports=a.p+"317df0b71944b200cb0a2329e7aebc0b.gif"},6118:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return u.default.createElement(b.default,{component:"div",style:{paddingTop:"1.85vh"}},u.default.createElement(S.Paper,{elevation:1,style:{overflowY:"auto",height:"78.5vh",borderRadius:"4px",boxShadow:"none",background:e.theme.palette.cardBackground.main}},e.children))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),m=a(19),f=a(336),h=n(f),g=a(335),v=n(g),y=a(21),b=n(y),C=a(6081),E=n(C),S=a(23),w=a(84),x=n(w),O=a(6082),k=n(O),D=a(52);l.propTypes={children:p.default.node.isRequired};var I=function(e){return{root:{},progress:{marginTop:"7rem",marginLeft:"20rem"},container:{overflow:"auto"},scrollButtons:{color:"white",flex:"0 !important"},labelContainer:{color:"#CCCCCC",fontSize:"10px"},indicator:{height:"2px",top:"5.7vh !important"},tabSelected:{color:e.palette.primary.main+" !important"},tabRoot:{color:e.palette.secondary.main,width:"calc(5.666vh + 5.666vw)",minHeight:"6.3vh",maxHeight:"6.3vh"},tabWrapper:{marginBottom:".4vw",width:"calc(5.666vh + 5.666vw)"},tabsFlexContainer:{height:"6.3vh"},tabsRoot:{minHeight:"6.3vh",maxHeight:"6.3vh"},tabsScroller:{marginBottom:"-10vh !important"}}},T={bucketNames:[],invoices:[]},N=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.filterInvoices=function(e){if("All"==e)a.setState({invoices:a.state.allInvoices});else{for(var t=a.state.allInvoices,n=[],o=0;o<t.length;o++){for(var r=[],i=0;i<t[o].length;i++)"Dispute"==e&&null!=t[o][i].disputeStatus?r.push(t[o][i]):"Predicted Delinquent"==e&&1==t[o][i].p2pDelinquent?r.push(t[o][i]):"Upcoming P2P"==e&&1==t[o][i].p2pUpcoming?r.push(t[o][i]):"Broken P2P"==e&&1==t[o][i].p2pBroken&&r.push(t[o][i]);n.push(r)}a.setState({invoices:n})}},a.handleChange=function(e,t){a.setState({value:t})};var n=a.props.bucketNames.reverse();return n.unshift("Current Due"),a.state={value:0,loading:!1,invoices:e.invoices,allInvoices:e.invoices,days:n},a}return i(t,e),s(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.classes,n=t.theme,o=this.state.value,r=[],i=[],s=0,c=0,d=0;d<this.state.days.length;d++)i.push(0);for(var d=0;d<this.state.invoices.length;d++){r.push(this.state.invoices[d].length);for(var p=0,m=0;m<this.state.invoices[d].length;m++)p+=this.state.invoices[d][m].currentOpenAmount,s+=1,c+=this.state.invoices[d][m].currentOpenAmount;i[d]=p}return u.default.createElement("div",{className:a.root},!1===this.state.loading&&u.default.createElement("div",null,u.default.createElement(h.default,{value:o,onChange:this.handleChange,indicatorColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{scrollButtons:a.scrollButtons,flexContainer:a.tabsFlexContainer,root:a.tabsRoot,scroller:a.tabsScroller},TabIndicatorProps:{className:a.indicator}},u.default.createElement(v.default,{classes:{selected:a.tabSelected,root:a.tabRoot,wrapper:a.tabWrapper},icon:u.default.createElement("div",null,u.default.createElement("span",{style:{color:n.palette.primary.main,fontSize:".8rem",display:"block"}},s," ($",(0,D.formatter)(c),")"),u.default.createElement("span",{style:{fontSize:".8rem"}},"All Invoices"))}),this.state.days.map(function(e,t){return u.default.createElement(v.default,{classes:{selected:a.tabSelected,root:a.tabRoot},icon:u.default.createElement("div",null,u.default.createElement("span",{style:{color:n.palette.primary.main,fontSize:".8rem",display:"block"}},r[t]," ($",(0,D.formatter)(i[t]),")"),u.default.createElement("span",{style:{fontSize:".8rem"}},e))})})),0===o&&u.default.createElement(l,{theme:n},u.default.createElement(E.default,{emailOfCalled:this.props.emailOfCalled,collector:this.props.collector,customer:this.props.customer,filterInvoices:this.filterInvoices,bucketNames:this.state.days,invoices:this.state.invoices})),this.state.invoices.map(function(t,r){return o===r+1&&u.default.createElement(l,{theme:n,className:a.container},u.default.createElement(k.default,{emailOfCalled:e.props.emailOfCalled,collector:e.props.collector,customer:e.props.customer,filterInvoices:e.filterInvoices,individual:!0,days:e.state.days[r],invoices:t}))})),this.state.loading&&u.default.createElement("div",null,u.default.createElement(h.default,{value:o,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{scrollButtons:a.scrollButtons}},u.default.createElement(v.default,{style:{color:"white"},label:"All Invoice"}),this.state.days.map(function(e){return u.default.createElement(v.default,{style:{color:"white"},label:e+"days past due"})})),u.default.createElement(S.Paper,{style:{height:"24rem",marginTop:"2rem"}},u.default.createElement(x.default,{className:a.progress,size:100}))))}}]),t}(u.default.Component);N.propTypes={classes:p.default.object.isRequired},N.defaultProps=T,t.default=(0,m.withStyles)(I,{withTheme:!0})(N)},6119:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(86),p=n(d),m=a(23),f=a(84),h=n(f),g=a(67),v=a(24),y=a(324),b=a(68),C=a(113),E=a(165),S=n(E),w=a(66),x=n(w),O=a(39),k=n(O),D=a(38),I=n(D),T=function(e){var t,a;return{App:{textAlign:"center"},dialpadIconImg:{width:"1.2em",height:"1.2em",marginRight:"20px"},popOver:{color:e.palette.cardBackground.color,width:"20em"},flex:{flexGrow:1,display:"flex",flexDirection:"row",justifyContent:"space-between"},flexColumn:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},head:{color:e.palette.cardBackground.color,fontSize:"1em",opacity:.65},rounded:{margin:e.spacing.unit,borderRadius:"50%",width:"2.313em",height:"4.350em"},numbers:{fontSize:"1.8em",fontWeight:"bold"},letters:{fontSize:".8em",paddingLeft:"1%"},input:{fontSize:"1.875em",textAlign:"center",borderStyle:"none",paddingLeft:"0.55em",maxWidth:"7.850em","&:focus":{outline:"none !important"}},inputDiv:{paddingTop:"10%",display:"flex",flexDirection:"row"},keypadCall:{paddingTop:"5%",width:"5.72em",height:"5.72em",cursor:"pointer",color:"none"},paperProps:{top:0},backSpace:{width:"2.8em",height:"2.0em",cursor:"pointer"},voiceMailIcon:{height:"calc(1.6vh + 1.6vw)",minWidth:"calc(1.6vh + 1.6vw)",cursor:"pointer",background:"#5DAAE0",borderRadius:"50%",textAlign:"center",padding:"1px"},voicemailSentIcon:{height:"calc(1.6vh + 1.6vw)",minWidth:"calc(1.6vh + 1.6vw)",cursor:"pointer",border:"2px solid #5DAAE0",borderRadius:"50%",textAlign:"center"},voicemailProgressParent:{height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)",cursor:"pointer",textAlign:"center"},extensionBoard:{marginTop:"2em"},cardContent:{borderRadius:"4px",backgroundColor:"rgb(144,238,144, 0.5)",marginRight:"5%",merginLeft:"0%",alignItems:"center",display:"flex",marginTop:"2%",fontSize:"0.9em"},sendCardContent:{borderRadius:"4px",marginRight:"5%",merginLeft:"0%",alignItems:"center",display:"flex",marginTop:"2%",fontSize:"0.9em"},sendButton:{left:"75%",marginTop:"5%"},voicemailBox:(t={wordBreak:"break-word",borderBottom:"0.5px solid rgb(93,170,224)"},l(t,"borderBottom","0.5px solid rgba(93,170,224,0.65)"),l(t,"padding","12px 12px 20px 12px"),l(t,"display","flex"),l(t,"marginBottom","20px"),l(t,"flexDirection","row"),t),disabledVoicemailBox:(a={wordBreak:"break-word",cursor:"default !important",borderBottom:"0.5px solid rgb(93,170,224)"},l(a,"borderBottom","0.5px solid rgba(93,170,224,0.65)"),l(a,"padding","12px 12px 20px 12px"),l(a,"display","flex"),l(a,"marginBottom","20px"),l(a,"flexDirection","row"),l(a,"opacity","0.65"),a),sentVoicemailText:{display:"flex",flexDirection:"column"},voicemailText:{display:"flex",flexDirection:"column",marginLeft:"1.2rem",cursor:"pointer"},sentVoicemailBox:{paddingTop:"10%",display:"flex",marginRight:"10px",marginLeft:"2px",marginBottom:"20px",flexDirection:"row"},voicemailProgress:{width:"inherit !important",height:"inherit !important",fill:"#5DAAE0"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},closeIcon:{fill:"lightblue",position:"absolute",right:"3%",fontSize:"2rem",cursor:"pointer"},voicemailBtn:{color:"#FFF",fontSize:"1.7rem",padding:"10%"},voicemailSentBtn:{color:"#FFF",paddingTop:"10%",fontSize:"1.5rem"},disableBtn:{opacity:.4,cursor:"default"}}},N=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.initializeVoicemailData=function(e){for(var t=new Map,n=new Map,o=0;o<e.length;o++)t.set(e[o].id,!1),n.set(e[o].id,!1);a.setState({voicemailTemplates:e,voicemailClickMap:t,voicemailSentMap:n})},a.handleOpen=function(){a.setState({open:!0})},a.handleChange=function(e){a.setState({phoneNumber:e.target.value})},a.handleClose=function(){a.setState({open:!1,disableVoicemailClick:!a.state.isVoicemailEnabled})},a.handleVoicemailClick=function(e){if(!a.state.disableVoicemailClick){var t=e.id,n=a.state.voicemailClickMap;n.set(t,!0),a.setState({voicemailClickMap:n,disableVoicemailClick:!0},function(){console.log(e.templateName,a.state.id),a.setState(l({},t,!0)),"OK"===(0,b.sipToggleMute)()?a.setState({snackOpen:!0,snackMessage:"Mic auto muted"}):a.setState({snackOpen:!0,snackMessage:"Failed to auto mute mic!"}),0===t?((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("4"),console.log("1st Template")):1===t?((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("5"),console.log("2nd Template")):((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("6"),console.log("Last template")),a.props.onVoicemailClick()}),setTimeout(function(){var e=a.state.voicemailSentMap;e.set(t,!0),a.setState({voicemailSentMap:e,isVoicemailEnabled:!1})},2e3),setTimeout(function(){return a.handleClose()},C.VOICEMAIL_AUTO_CLOSE_TIMEMOUT)}},a.closeSnackbar=function(){a.setState({snackOpen:!1})},a.isVoicemailAvailable=function(){return"Connected to"===a.props.callState.status&&a.state.voicemailTemplates&&a.state.voicemailTemplates.length>0&&a.state.isVoicemailEnabled},a.state={open:!1,phoneNumber:"",displayNumber:"",dialled:!1,focus:!0,isVoicemailEnabled:!0,isVoicemailClicked:!1,voicemailClickMap:new Map,voicemailSentMap:new Map,voicemailTemplates:[],snackOpen:!1,disableVoicemailClick:!1},k.default.get(I.default.apiUrl+"/voicetemplate").then(function(e){console.log("Voicemail Fetched",e.data),a.initializeVoicemailData(e.data)}).catch(function(e){console.log("Failed to fetch voicemails",e)}),a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{className:a.App},u.default.createElement(y.Voicemail,{className:this.isVoicemailAvailable()?a.voicemailBtn:a.voicemailBtn+" "+a.disableBtn,onClick:this.isVoicemailAvailable()?this.handleOpen:C.emptyFunction}),u.default.createElement(p.default,{id:"simple-popper",open:this.state.open,onClose:this.handleClose,anchorReference:"anchorPosition",anchorPosition:{top:80},PaperProps:{style:{height:"100%",marginTop:"3em",right:"0",background:n.palette.solidBackground.main,borderLeft:"2px solid #FFF",borderRadius:0}},anchorOrigin:{vertical:20,horizontal:20},transformOrigin:{vertical:20,horizontal:20}},u.default.createElement("div",{className:a.popOver},u.default.createElement("div",{style:{display:"flex",paddingLeft:"4%",marginTop:"5%",alignItems:"center"}},u.default.createElement(m.Typography,{className:a.head},"VOICEMAIL"),u.default.createElement(y.Close,{onClick:this.handleClose,className:a.closeIcon})),u.default.createElement("br",null),u.default.createElement("div",null,this.state.voicemailTemplates.map(function(t){return u.default.createElement("div",{className:e.state.disableVoicemailClick?a.disabledVoicemailBox:a.voicemailBox,key:t.id},!e.state.voicemailClickMap.get(t.id)&&u.default.createElement("div",{className:a.voiceMailIcon},u.default.createElement(y.Voicemail,{className:a.voicemailBtn})),e.state.voicemailClickMap.get(t.id)&&!e.state.voicemailSentMap.get(t.id)&&u.default.createElement("div",{className:a.voicemailProgressParent},u.default.createElement(h.default,{className:a.voicemailProgress})),e.state.voicemailClickMap.get(t.id)&&e.state.voicemailSentMap.get(t.id)&&u.default.createElement("div",{className:a.voicemailSentIcon},u.default.createElement(y.Done,{className:a.voicemailSentBtn})),u.default.createElement("div",{className:a.voicemailText,onClick:function(){return e.handleVoicemailClick(t)}},!e.state.voicemailClickMap.get(t.id)&&u.default.createElement(m.Typography,{style:{color:n.palette.cardBackground.color,opacity:.65}},"Send"),e.state.voicemailClickMap.get(t.id)&&!e.state.voicemailSentMap.get(t.id)&&u.default.createElement(m.Typography,{style:{color:n.palette.cardBackground.color,opacity:.65}},"Sending"),e.state.voicemailClickMap.get(t.id)&&e.state.voicemailSentMap.get(t.id)&&u.default.createElement(m.Typography,{style:{color:"#5DAAE0",opacity:.65}},"Sent"),u.default.createElement(m.Typography,{style:{color:n.palette.cardBackground.color}},t.templateName)),u.default.createElement(y.MoreVert,{style:{right:"3%",position:"fixed"}}))})))),u.default.createElement(S.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:this.state.snackMessage},this.state.snackMessage),action:[u.default.createElement(m.IconButton,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(x.default,null))]}))}}]),t}(c.Component),P=(0,m.withStyles)(T)(N),A=function(e){return{callState:e.callState}},j=function(e){return{changeCaller:function(t){return e((0,g.changeCaller)(t))}}};t.default=(0,v.connect)(A,j)((0,m.withStyles)(T,{withTheme:!0})(P))},6120:function(e,t){e.exports="data:image/png;base64,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"},6121:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAABHNCSVQICAgIfAhkiAAABK1JREFUaIHNmW2IVFUYx3/PndlVS5CdOde3QFQSLWwxBUPMzTQQUwPxZemjlhD0JfRDUGZvRPjJiMgPFSrRF5WCkLKoVJKFtAxpUzFcX6C23Xtnd1a3nM2Z+/Th7uq6O3fumdmdHf9wuTPnPM95fnPm3HPOPY8wClLXnUMQLMVxFqL6CPAAMBWRelS7gC6gE/iRIDhKV9dPAsFIYkrFsMbMBZ4H1iEytzxn7QaOEASf0tX1fSU/omxwNWYtsB2RJ8v1jdDfBMHHZDLvCORsnazBtaGhkUTifUSeqIwvLoD+gUizeN6vNuZObHuQUNfdSSLxS9WgAUTmoHpK0+mX1aJDSxqo604EvgYeHy0+K6kewfebBf6NMokEV7gPY35A5LHq0MVI9Qz5/ErJZrPFqosOFYV6XPfbmkEDiCwkmfxGYXyx6mHgCg7GHAKWVh0uTiKLcd3Pi4354T2eTr+JyDNjAman1Rjz+tDCu35J/6LSikhyzLBspKrACvH94wNFd/e4yL57DhpARBD5SCExUHQbXF13C7CkJmB2epB0+oWBLwKgILjuJWBWzbBspHoN358poGGPG/M09zo0gMgMUqlVcGeovFRDnPLkOFsARGE8xvyDSOy+JVKzZ8O8eTB5MkyZEt6nToVcDtra7lznzsGNGyMDV+3B99NJjFlSEbQxsGkTbNgAjY32fh0dcPo0HDgAJ06UHRaRSRizTNR1dwJvWzs2NsK2bbB+PdTXlx94sC5ehL174eBBuHWrHM9XRY35EpF1saZ1dbBnD2zeXDFnpNrawnavXbP1OOQA06xMt26tDjSEz8iuXeV4PJQEXCvT5uboutZW2L8fTp6EK1cgGPIKaQzMnw+LFsGOHZAssjivXh2W5/M2NJNFXbcXuL+k2bhxcPUqOEWe4Vwu7DG7gHD4MDQ1Fa9raoILF+LbUA0cIH5vkk4Xhwbo7LSHBmhvj65raLBuxgGKvmHcpVJgdXXWwQCYMCG6Tqzf3TscVDOxZpkMqBavM6acgOECFaWbN21baU8icg54uKRZoRCO8ZkzIZuFS5fCq60tvCeT9vPwxo0wfTpMmxbeB3+2nw7bRY15DZG3Yk1nzQqhu7ttG6+mdidRbbH6qy9frj6OrQqFY6KQwHV7iJsS7xWp5vH9iY5AAfiq1jxlqEWgL5ycC4VPagxjL5EPYfCrmzFXEJlRW6oYqf6J788QCBwAAUXkjVpzWei9gbP0oecqZxB5tDZMMVI9j+8vEPgPhp+rPIfqiFIcVZFqQD7/7AA0DAHvP1SPX4zGWqrvSjZ7dnDRsJWn/9DzOCLLxo6spI7ieWuG5omG7VX7Ddag+vuYoUVJ9Wc8b32x5FbRTbb4/g1yuRVAa9XhovUbhcJTUQmtyGMJ6e3tBJagWotV9Sx9fculu7snyqDkeYp4Xi++vxbVHUDfqOMV1wd43mK5fr2rJJttazpp0mzq6vZX7aFVPQ+8KL5/zMa8/ARtKrURx3ll1BaqML+5G8/bV06GeSQp8eXAdmAVIuUdaan2IPIFQfCZZDLfVRK/YvDbDGFacSWwBlgApBBJoZoi7MEO4C/gInAGkVN4Xkv/drpi/Q+0X39cXIV6DwAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMC5idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0luQ2FsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGRhdGUtaW8vZGF0ZS1mbnMvYnVpbGQvaW5kZXguZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXRlcmlhbC11aS1waWNrZXJzL2Rpc3QvbWF0ZXJpYWwtdWktcGlja2Vycy5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbnVtYmVyLWZvcm1hdC9saWIvbnVtYmVyX2Zvcm1hdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9EdWVEZXRhaWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvSW52b2ljZVRhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0xpc3RPZlRpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC91dGlscy9Qcm9wVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL1Bvc3RDYWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0FjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUDJQLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRleHQtbWFzay9kaXN0L3JlYWN0VGV4dE1hc2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvaGFzQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvUmVwbGFjZVRyYW5zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW51bWJlci1mb3JtYXQvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Rpc3B1dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRm9sbG93dXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQWN0aW9uRGV0YWlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvRmluYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL1RyYW5zaXRpb25Hcm91cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hhaW4tZnVuY3Rpb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9ub2RlX21vZHVsZXMvd2FybmluZy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvQ2hpbGRNYXBwaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL3V0aWwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NoYXRCb3guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWhpZ2hsaWdodC13b3Jkcy9kaXN0L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL1JpcHBsZS5naWYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvSW5DYWxsRGV0YWlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Wb2ljZW1haWxXcmFwcGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbWljX29mZi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9oYW5nLXVwLnBuZyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCI2MDc1IiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJ2YWx1ZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsImNhbGwiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInByb3RvdHlwZSIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfc3R5bGVzIiwiX0dyaWQiLCJfR3JpZDIiLCJfVHlwb2dyYXBoeSIsIl9UeXBvZ3JhcGh5MiIsIl9jbGFzc25hbWVzIiwiX2NsYXNzbmFtZXMyIiwiX0NvbnRhY3RMaXN0IiwiX0NvbnRhY3RMaXN0MiIsIl9zaXBVdGlscyIsIl9hY3Rpb25zIiwiX2NhbGxMb2dBY3Rpb25zIiwiX3JlYWN0UmVkdXgiLCJfQ2xvc2UiLCJfQ2xvc2UyIiwiX3JlYWN0Um91dGVyRG9tIiwiX0NhbGxQcmVwRGV0YWlscyIsIl9DYWxsUHJlcERldGFpbHMyIiwiX1Bvc3RDYWxsIiwiX1Bvc3RDYWxsMiIsIl9JbkNhbGxEZXRhaWxzIiwiX0luQ2FsbERldGFpbHMyIiwiX3JlYWN0SGFtbWVyanMiLCJfcmVhY3RIYW1tZXJqczIiLCJfTW9kYWwiLCJfTW9kYWwyIiwiX1Rvb2x0aXAiLCJfVG9vbHRpcDIiLCJfRmFiIiwiX0ZhYjIiLCJfTmF2aWdhdGVOZXh0IiwiX05hdmlnYXRlTmV4dDIiLCJfTmF2aWdhdGVCZWZvcmUiLCJfTmF2aWdhdGVCZWZvcmUyIiwiX0RyYXdlciIsIl9EcmF3ZXIyIiwiX0Fycm93RHJvcERvd24iLCJfQXJyb3dEcm9wRG93bjIiLCJfQ3VzdG9tZXJEcmF3ZXJPcHRpb25zIiwiX0tleVBhZFdyYXBwZWQiLCJfS2V5UGFkV3JhcHBlZDIiLCJfVmVydGljYWxUaW1lTGluZSIsIl9WZXJ0aWNhbFRpbWVMaW5lMiIsIl9Wb2ljZW1haWxXcmFwcGVyIiwiX1ZvaWNlbWFpbFdyYXBwZXIyIiwiX1RyYW5zY3JpcHRDaGF0IiwiX1RyYW5zY3JpcHRDaGF0MiIsIl9oZWxwZXIiLCJfQ3VzdG9tRm9vdGVyIiwiX0N1c3RvbUZvb3RlcjIiLCJfRnJlZGFCdXR0b24iLCJfY29tYmluZVN0eWxlcyIsIl9jb21iaW5lU3R5bGVzMiIsIl9iYXNlU3R5bGUiLCJfYmFzZVN0eWxlMiIsInRpbWVJbnRlcnZhbCIsInJlcXVpcmUiLCJzdHlsZXMiLCJ0aGVtZSIsImFwcEZyYW1lIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJtYXhIZWlnaHQiLCJyb290IiwiYmFja2dyb3VuZEltYWdlIiwicGFsZXR0ZSIsImJhY2tncm91bmQiLCJtYWluIiwid2lkdGgiLCJtYXJnaW5SaWdodCIsIm1hcmdpbkxlZnQiLCJhbGlnbkl0ZW1zIiwicGFkZGluZ0JvdHRvbSIsImp1c3RpZnlDb250ZW50IiwiZm9udEZhbWlseSIsImZvbnQiLCJ0aXRsZSIsImhhbmdVcEljb25JbmciLCJoZWlnaHQiLCJjdXJzb3IiLCJjYWxsVGV4dCIsImNvbG9yIiwicHJpbWFyeSIsImZvbnRTaXplIiwiZGlhbHBhZEljb24iLCJwYWRkaW5nUmlnaHQiLCJkaWFscGFkSWNvbkltZyIsInZvaWNlTWFpbEljb24iLCJib3JkZXJSYWRpdXMiLCJ0ZXh0QWxpZ24iLCJwYWRkaW5nIiwiZ3JpZEFjY291bnQiLCJncmlkQWNjb3VudEltZyIsImJhY2tncm91bmRDb2xvciIsInNlY29uZGFyeSIsInN0YXR1cyIsInpJbmRleCIsImR1cmF0aW9uIiwiY3VzdG9tZXJOYW1lIiwibGluZUhlaWdodCIsImN1c3RvbWVyTnVtYmVyIiwidHJhbnNjcmlwdEJveCIsImNhcmRCYWNrZ3JvdW5kIiwicG9zaXRpb24iLCJ0cmFuc2NyaXB0VGl0bGUiLCJwYWRkaW5nTGVmdCIsIm9wYWNpdHkiLCJwYWRkaW5nVG9wIiwidHJhbnNjcmlwdFRleHRQYXJlbnQiLCJ3aGl0ZVNwYWNlIiwibWFyZ2luVG9wIiwib3ZlcmZsb3dZIiwid29yZFdyYXAiLCJuZXh0IiwidG9wIiwicmlnaHQiLCJzcGFjaW5nIiwidW5pdCIsImJveFNoYWRvdyIsIiY6aG92ZXIsICYkZm9jdXNWaXNpYmxlIiwicHJldiIsImhhbmdVcEJ1dHRvbiIsImhhbmdVcEJ1dHRvbkltZyIsImRyb3BEb3duSWNvbiIsImRyb3BEb3duIiwibWljT2ZmSWNvbkltZyIsIm1pY09mZkljb24iLCJjYWxsZWRDb250YWN0TmFtZSIsImNhbGxlZFRvQ29udGFjdERpdiIsInRyYW5zY3JpcHRCb3hQYXJlbnQiLCJhcnJvd0ljb24iLCJkaXNhYmxlZEFycm93aWNvbiIsImRpc2FibGVkRmFiIiwiY2xvc2VTdHlsZSIsImxlZnQiLCJjdXN0b21lckhpc3RvcnlNb2RhbCIsImJvdHRvbSIsIm92ZXJmbG93V3JhcCIsInNoYWRvd3MiLCJzb2xpZEJhY2tncm91bmQiLCJhY3Rpb25JY29uIiwiYWN0aW9uQnV0dG9uIiwic2FsZXMiLCJyb3dzIiwiaXRlbSIsInByb2R1Y3QiLCJyZWdpb24iLCJhbW91bnQiLCJzYWxlRGF0ZSIsImN1c3RvbWVyIiwicHVzaCIsIkluQ2FsbCIsIl9Db21wb25lbnQiLCJ0aGlzIiwiX3RoaXMiLCJnZXRQcm90b3R5cGVPZiIsInNjcm9sbFRvQm90dG9tIiwidHJhbnNjcmlwdGlvbkdyaWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0Iiwib3BlbkNvbnRhY3REcm9wZG93biIsInN0YXRlIiwiY29udGFjdE9wZW4iLCJzZXRTdGF0ZSIsInRvZ2dsZUNvbnRhY3RQb3BvdmVyIiwiZ2V0Rm9ybWF0dGVkRHVyYXRpb24iLCJjYWxsRHVyYXRpb24iLCJociIsIk1hdGgiLCJmbG9vciIsIm1pbiIsInNlYyIsIm9wZW5Wb2ljZW1haWwiLCJpc1ZvaWNlbWFpbE9wZW4iLCJjbG9zZVBvcFRpbWVsaW5lIiwicG9wVGltZWxpbmUiLCJvcGVuUG9wVGltZWxpbmUiLCJwb3BUeXBlIiwiZ2V0VGltZWxpbmUiLCJldmVudHMiLCJjbGFzc2VzIiwibWFpbkhlYWRlciIsIm5vRXZlbnRNc2ciLCJwYXltZW50cyIsImNvbW11bmljYXRpb24iLCJ0eXBlIiwidG9VcHBlckNhc2UiLCJjb21tVHlwZSIsImNyZWF0ZUVsZW1lbnQiLCJ0b2dnbGVNdXRlIiwiaXNNdXRlZCIsInNpcFRvZ2dsZU11dGUiLCJzZXREdXJhdGlvbiIsInNldEludGVydmFsIiwiY2FsbFN0YXRlIiwiY2FsbER1cmF0aW9uSW5Gb3JtYXQiLCJjbGVhckludGVydmFsT25IYW5ndXAiLCJjbGVhckludGVydmFsIiwiaGFuZ1VwIiwic2lwSGFuZ3VwIiwic3dpdGNoVG9DYWxsUHJlcFBhZ2UiLCJjYWxsUHJlcFBhZ2UiLCJzd2l0Y2hUb0NhbGxJbkNhbGxQYWdlIiwiaGFuZGxlVm9pY2VtYWlsTWVzc2FnZSIsImNvbnRhY3QiLCJjYWxsZWROYW1lIiwiY2FsbGVkVG9GaXJzdE5hbWUiLCJjYWxsZWRUb0xhc3ROYW1lIiwibG9jYXRpb24iLCJjYWxsZWRUb051bWJlciIsIm1lc3NhZ2UiLCJ2b2ljZW1haWxQbGF5ZWRNZXNzYWdlIiwibXlSZWYiLCJSZWFjdCIsImNyZWF0ZVJlZiIsImNoYW5nZVN0YXR1cyIsImNvbnRhY3RJbmRleCIsImNhbGxlZFRvQ29udGFjdElkIiwiY29uc29sZSIsImxvZyIsImNvbnRhY3RzIiwiaWQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsT2ZDYWxsZWQiLCJlbWFpbCIsImNvbnRhY3RJZCIsImNhbGxlZFRvRnVsbE5hbWUiLCJsb2NhdGlvblByb3BzIiwiYWNjb3VudCIsImN1c3RvbWVycyIsImZpbHRlciIsImFjY291bnRJZCIsImNhbGxMb2ciLCJjYWxsZWRUbyIsInN0YXJ0RGF0ZVRpbWUiLCJEYXRlIiwiZGlzYWJsZUZyZWRhSW5DYWxsIiwic2lwQ2FsbCIsInVzZXIiLCJpbnZvaWNlcyIsImxvYWRpbmciLCJyZWRpcmVjdCIsInRyYW5zY3JpcHRpb24iLCJzdW1tYXJ5IiwiY29sdW1ucyIsIm5hbWUiLCJjdXJyZW5jeUNvbHVtbnMiLCJwYWdlU2l6ZXMiLCJuZXh0UHJvcHMiLCJfdGhpczIiLCJjdXJyZW50VHJhbnNjcmlwdGlvbiIsIm5ld1RyYW5zY3JpcHRpb24iLCJfUmVhY3QkY3JlYXRlRWxlbWVudCIsIl90aGlzMyIsIl9wcm9wcyIsInBhcnNlSW50IiwibWF0Y2giLCJwYXJhbXMiLCJjbGFzc05hbWUiLCJ0b3BJdGVtcyIsImdldE1lbnVJdGVtcyIsImNhbGxpbmciLCJvblN3aXBlTGVmdCIsIm9uU3dpcGVSaWdodCIsIm9wZW4iLCJkaXNhYmxlQXV0b0ZvY3VzIiwib25DbG9zZSIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwiZGlzYWJsZWQiLCJzaXplIiwiY29udGFpbmVyIiwieHMiLCJqdXN0aWZ5Iiwic3R5bGUiLCJub1dyYXAiLCJzbSIsImxnIiwibWQiLCJ4bCIsImNhbGxHcmlkIiwiY3VzdG9tZXJJY29uQ2lyY2xlIiwiY2hhckF0IiwidmFyaWFudCIsImFsaWduIiwiY29udGFjdEljb24iLCJkYXRhRnJvbUNoaWxkIiwib3BlbkNvbnRhY3RzIiwiYnVja2V0TmFtZXMiLCJuZXh0Q3VzdG9tZXJVcmwiLCJuZXh0VXJsIiwidG9DYWxsQ3VzdG9tZXJzIiwic3JjIiwib25Wb2ljZW1haWxDbGljayIsImNvbGxlY3RvciIsImNhbGxlZFRvTmFtZUluaXRpYWxzIiwiZ2V0SW5pdGlhbHNGcm9tTmFtZSIsInVzZXJJbml0aWFscyIsIlJlZGlyZWN0IiwidG8iLCJwYXRobmFtZSIsInZvaWNlbWFpbE1lc3NhZ2UiLCJvbkhhbmd1cCIsImNhbGxlZFRvTmFtZSIsImluaXRpYWxUcmFuc2NyaXB0aW9uIiwiQ29tcG9uZW50IiwibWFwU3RhdGVUb1Byb3BzIiwicGVyc29uYWxEZXRhaWxzIiwibWFwRGlzcGF0Y2hUb1Byb3BzIiwiZGlzcGF0Y2giLCJjaGFuZ2VDYWxsU3RhdGUiLCJkYXRhIiwiY2hhbmdlVHJhbnNjcmlwdGlvbiIsImFkZEluaXRpYWxDYWxsTG9nIiwiY29tYmluZWRTdHlsZSIsImJhc2VTdHlsZSIsImNvbm5lY3QiLCJ3aXRoU3R5bGVzIiwid2l0aFRoZW1lIiwiNjA3NiIsIl9fd2VicGFja19leHBvcnRzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfZGF0ZV9mbnNfYWRkRGF5c19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2RhdGVfZm5zX2FkZE1vbnRoc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2RhdGVfZm5zX2FkZFllYXJzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZGF0ZV9mbnNfZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfZGF0ZV9mbnNfZWFjaERheU9mSW50ZXJ2YWxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9kYXRlX2Zuc19lbmRPZkRheV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2RhdGVfZm5zX2VuZE9mTW9udGhfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19kYXRlX2Zuc19lbmRPZldlZWtfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9kYXRlX2Zuc19lbmRPZlllYXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfZGF0ZV9mbnNfZ2V0SG91cnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfZGF0ZV9mbnNfZ2V0U2Vjb25kc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9kYXRlX2Zuc19nZXRZZWFyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2RhdGVfZm5zX2lzQWZ0ZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfZGF0ZV9mbnNfaXNFcXVhbF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9kYXRlX2Zuc19pc1NhbWVEYXlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfZGF0ZV9mbnNfaXNWYWxpZF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9kYXRlX2Zuc19wYXJzZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9kYXRlX2Zuc19zZXRIb3Vyc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9kYXRlX2Zuc19zZXRNaW51dGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX2RhdGVfZm5zX3NldFNlY29uZHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfZGF0ZV9mbnNfc2V0WWVhcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19kYXRlX2Zuc19zdGFydE9mRGF5X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X2RhdGVfZm5zX3N0YXJ0T2ZNb250aF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9kYXRlX2Zuc19zdGFydE9mV2Vla19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9kYXRlX2Zuc19zdGFydE9mWWVhcl9fIiwiRGF0ZUZuc1V0aWxzIiwiX2EiLCJsb2NhbGUiLCJkYXRlVGltZTEyaEZvcm1hdCIsImRhdGVUaW1lMjRoRm9ybWF0IiwidGltZTEyaEZvcm1hdCIsInRpbWUyNGhGb3JtYXQiLCJkYXRlRm9ybWF0IiwiYWRkRGF5cyIsImNvdW50IiwiaXNWYWxpZCIsImdldERpZmYiLCJjb21wYXJpbmciLCJpc0FmdGVyIiwiaXNCZWZvcmUiLCJzdGFydE9mRGF5IiwiZW5kT2ZEYXkiLCJnZXRIb3VycyIsInNldEhvdXJzIiwic2V0TWludXRlcyIsImdldFNlY29uZHMiLCJzZXRTZWNvbmRzIiwiaXNTYW1lRGF5IiwiZ2V0U3RhcnRPZk1vbnRoIiwiZ2V0WWVhciIsInNldFllYXIiLCJkYXRlIiwicGFyc2UiLCJmb3JtYXRTdHJpbmciLCJmb3JtYXQiLCJpc0VxdWFsIiwiaXNOdWxsIiwiaXNBZnRlckRheSIsImlzQmVmb3JlRGF5IiwiaXNCZWZvcmVZZWFyIiwiaXNBZnRlclllYXIiLCJmb3JtYXROdW1iZXIiLCJudW1iZXJUb0Zvcm1hdCIsImdldE1pbnV0ZXMiLCJnZXRNb250aCIsImdldE1lcmlkaWVtVGV4dCIsImFtcG0iLCJnZXROZXh0TW9udGgiLCJnZXRQcmV2aW91c01vbnRoIiwibWVyZ2VEYXRlQW5kVGltZSIsInRpbWUiLCJnZXRXZWVrZGF5cyIsIm5vdyIsInN0YXJ0IiwiZW5kIiwibWFwIiwiZGF5IiwiZ2V0V2Vla0FycmF5IiwiY3VycmVudCIsIm5lc3RlZFdlZWtzIiwid2Vla051bWJlciIsImdldFllYXJSYW5nZSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJ5ZWFycyIsImdldENhbGVuZGFySGVhZGVyVGV4dCIsImdldFllYXJUZXh0IiwiZ2V0RGF0ZVBpY2tlckhlYWRlclRleHQiLCJnZXREYXRlVGltZVBpY2tlckhlYWRlclRleHQiLCJnZXREYXlUZXh0IiwiZ2V0SG91clRleHQiLCJnZXRNaW51dGVUZXh0IiwiZ2V0U2Vjb25kVGV4dCIsIjYwNzciLCJkIiwiRGF0ZVBpY2tlck1vZGFsJDEiLCJEYXRlUGlja2VySW5saW5lJDEiLCJUaW1lUGlja2VyTW9kYWwkMSIsIlRpbWVQaWNrZXJJbmxpbmUkMSIsIkRhdGVUaW1lUGlja2VyTW9kYWwkMSIsIkRhdGVUaW1lUGlja2VySW5saW5lJDEiLCJCYXNlUGlja2VyJDEiLCJDYWxlbmRhciQxIiwiRGF5JDEiLCJUaW1lUGlja2VyVmlldyQxIiwiQ2xvY2skMSIsIk11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X18iLCJuIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3JlYWN0X3RleHRfbWFza19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3JlYWN0X3RleHRfbWFza19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19tYXRlcmlhbF91aV9jb3JlX0ljb25CdXR0b25fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fbWF0ZXJpYWxfdWlfY29yZV9JbnB1dEFkb3JubWVudF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19tYXRlcmlhbF91aV9jb3JlX0lucHV0QWRvcm5tZW50X19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fbWF0ZXJpYWxfdWlfY29yZV9UZXh0RmllbGRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fbWF0ZXJpYWxfdWlfY29yZV9UZXh0RmllbGRfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nQWN0aW9uc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dBY3Rpb25zX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nQ29udGVudF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dDb250ZW50X19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9rZXljb2RlX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fbWF0ZXJpYWxfdWlfY29yZV9Ub29sYmFyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19tYXRlcmlhbF91aV9jb3JlX1Rvb2xiYXJfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9yZWFjdF90cmFuc2l0aW9uX2dyb3VwX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX3JlYWN0X2RvbV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fbWF0ZXJpYWxfdWlfY29yZV9Qb3BvdmVyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19tYXRlcmlhbF91aV9jb3JlX1BvcG92ZXJfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fbWF0ZXJpYWxfdWlfY29yZV9QYXBlcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fbWF0ZXJpYWxfdWlfY29yZV9QYXBlcl9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoVGhlbWVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhUaGVtZV9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19tYXRlcmlhbF91aV9jb3JlX1RhYl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI2X19tYXRlcmlhbF91aV9jb3JlX1RhYnNfX19kZWZhdWx0IiwiQ29uc3VtZXIiLCJQcm92aWRlciIsIk11aVBpY2tlcnNDb250ZXh0Q29uc3VtZXIiLCJfc3VwZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsInV0aWxzIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiVXRpbHMiLCJtb21lbnQiLCJyZW5kZXIiLCJjaGlsZHJlbiIsImRlZmF1bHRQcm9wcyIsInVuZGVmaW5lZCIsImNoZWNrVXRpbHMiLCJFcnJvciIsIndpdGhVdGlscyIsIkNvbXBvbmVudCQkMSIsIldpdGhVdGlscyIsImRpc3BsYXlOYW1lIiwiZ2V0SW5pdGlhbERhdGUiLCJpbml0aWFsRm9jdXNlZERhdGUiLCJpbml0aWFsRGF0ZSIsIkJhc2VQaWNrZXIiLCJpc0FjY2VwdGVkIiwiY2hhbmdlRGF0ZSIsImNhbGxiYWNrIiwiaGFuZGxlQWNjZXB0ZWRDaGFuZ2UiLCJoYW5kbGVDbGVhciIsIm9uQ2hhbmdlIiwiaGFuZGxlQWNjZXB0IiwiaGFuZGxlU2V0VG9kYXlEYXRlIiwiaGFuZGxlQ2hhbmdlIiwiaGFuZGxlVGV4dEZpZWxkQ2hhbmdlIiwibWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZSIsInBpY2sxMmhPcjI0aEZvcm1hdCIsImRlZmF1bHQxMmhGb3JtYXQiLCJkZWZhdWx0MjRoRm9ybWF0IiwibmV3RGF0ZSIsImlzRmluaXNoIiwiYXV0b09rIiwiaGFuZGxlRGlzbWlzcyIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsIklucHV0IiwiaW5wdXRSZWYiLCJrZWVwQ2hhclBvc2l0aW9ucyIsInJlc3QiLCJtYXNrIiwiYSIsInJlZiIsImdldERpc3BsYXlEYXRlIiwiaW52YWxpZExhYmVsIiwiZW1wdHlMYWJlbCIsImxhYmVsRnVuYyIsImlzRW1wdHkiLCJnZXRFcnJvciIsIm1heERhdGUiLCJtaW5EYXRlIiwiZGlzYWJsZVBhc3QiLCJkaXNhYmxlRnV0dXJlIiwibWF4RGF0ZU1lc3NhZ2UiLCJtaW5EYXRlTWVzc2FnZSIsImludmFsaWREYXRlTWVzc2FnZSIsIkRhdGVUZXh0RmllbGQiLCJ1cGRhdGVTdGF0ZSIsImNvbW1pdFVwZGF0ZXMiLCJjbGVhcmFibGUiLCJvbkNsZWFyIiwib25FcnJvciIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJlcnJvciIsImRpc3BsYXlWYWx1ZSIsImhhbmRsZUJsdXIiLCJlIiwia2V5Ym9hcmQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIm9uQmx1ciIsIm9uSW5wdXRDaGFuZ2UiLCJwYXJzZWRWYWx1ZSIsImhhbmRsZUZvY3VzIiwib3BlblBpY2tlciIsImhhbmRsZUtleVByZXNzIiwiZGlzYWJsZU9wZW5PbkVudGVyIiwiYWRvcm5tZW50UG9zaXRpb24iLCJJbnB1dEFkb3JubWVudFByb3BzIiwiSW5wdXRQcm9wcyIsImtleWJvYXJkSWNvbiIsInBpcGUiLCJUZXh0RmllbGRDb21wb25lbnQiLCJvdGhlciIsIl9iIiwibG9jYWxJbnB1dFByb3BzIiwiaW5wdXRDb21wb25lbnQiLCJpbnB1dFByb3BzIiwicmVhZE9ubHkiLCJoZWxwZXJUZXh0Iiwib25LZXlQcmVzcyIsIkRhdGVUZXh0RmllbGQkMSIsIk1vZGFsRGlhbG9nIiwiX2MiLCJfZCIsIm9uS2V5RG93biIsIm9uQWNjZXB0Iiwib25EaXNtaXNzIiwib25TZXRUb2RheSIsIm9rTGFiZWwiLCJjYW5jZWxMYWJlbCIsImNsZWFyTGFiZWwiLCJ0b2RheUxhYmVsIiwic2hvd1RvZGF5QnV0dG9uIiwic2hvd1RhYnMiLCJyb2xlIiwicGFwZXIiLCJkaWFsb2dSb290IiwiZGlhbG9nV2l0aFRhYnMiLCJkaWFsb2ciLCJkaWFsb2dBY3Rpb25zIiwiYWN0aW9uIiwiZGlhbG9nQWN0aW9uIiwiY2xlYXJhYmxlRGlhbG9nQWN0aW9uIiwidG9kYXlEaWFsb2dBY3Rpb24iLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIm92ZXJmbG93IiwiJjpmaXJzdC1jaGlsZCIsIk1vZGFsRGlhbG9nJDEiLCJNb2RhbFdyYXBwZXIiLCJoYW5kbGVLZXlEb3duIiwiZXZlbnQiLCJvbk9wZW4iLCJjbG9zZSIsIkRpYWxvZ1Byb3BzIiwiUGlja2VyVG9vbGJhciIsInRvb2xiYXIiLCJzdHlsZXMkMSIsIlBpY2tlclRvb2xiYXIkMSIsIlRvb2xiYXJCdXR0b24iLCJzZWxlY3RlZCIsImxhYmVsIiwidG9vbGJhckJ0biIsInRvb2xiYXJCdG5TZWxlY3RlZCIsInN0eWxlcyQyIiwiY29tbW9uIiwid2hpdGUiLCJUb29sYmFyQnV0dG9uJDEiLCJmaW5kQ2xvc2VzdEVuYWJsZWREYXRlIiwic2hvdWxkRGlzYWJsZURhdGUiLCJ0b2RheSIsImZvcndhcmQiLCJiYWNrd2FyZCIsIlNsaWRlVHJhbnNpdGlvbiIsInRyYW5zS2V5Iiwic2xpZGVEaXJlY3Rpb24iLCJ0cmFuc2l0aW9uQ29udGFpbmVyIiwibW91bnRPbkVudGVyIiwidW5tb3VudE9uRXhpdCIsInRpbWVvdXQiLCJjbGFzc05hbWVzIiwiZW50ZXIiLCJlbnRlckFjdGl2ZSIsInNsaWRlRW50ZXJBY3RpdmUiLCJleGl0Iiwic2xpZGVFeGl0IiwiZXhpdEFjdGl2ZSIsInN0eWxlcyQzIiwic2xpZGVUcmFuc2l0aW9uIiwidHJhbnNpdGlvbnMiLCJlYXNpbmciLCImID4gKiIsInNsaWRlRW50ZXItbGVmdCIsIndpbGxDaGFuZ2UiLCJ0cmFuc2Zvcm0iLCJzbGlkZUVudGVyLXJpZ2h0IiwidHJhbnNpdGlvbiIsInNsaWRlRXhpdEFjdGl2ZUxlZnQtbGVmdCIsInNsaWRlRXhpdEFjdGl2ZUxlZnQtcmlnaHQiLCJTbGlkZVRyYW5zaXRpb24kMSIsIkNhbGVuZGFySGVhZGVyIiwiY3VycmVudE1vbnRoIiwib25Nb250aENoYW5nZSIsImxlZnRBcnJvd0ljb24iLCJyaWdodEFycm93SWNvbiIsImRpc2FibGVQcmV2TW9udGgiLCJkaXNhYmxlTmV4dE1vbnRoIiwicnRsIiwiZGlyZWN0aW9uIiwic2VsZWN0TmV4dE1vbnRoIiwic2VsZWN0UHJldmlvdXNNb250aCIsInN3aXRjaEhlYWRlciIsImljb25CdXR0b24iLCJ0b1N0cmluZyIsImRheXNIZWFkZXIiLCJpbmRleCIsImRheUxhYmVsIiwic3R5bGVzJDQiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW4iLCJ0ZXh0IiwiaGludCIsIkNhbGVuZGFySGVhZGVyJDEiLCJEYXkiLCJoaWRkZW4iLCJ0YWJJbmRleCIsInN0eWxlcyQ1IiwidHlwb2dyYXBoeSIsImNhcHRpb24iLCJmb250V2VpZ2h0IiwiZm9udFdlaWdodE1lZGl1bSIsInBvaW50ZXJFdmVudHMiLCImOmhvdmVyIiwiRGF5V3JhcHBlciIsImhhbmRsZUNsaWNrIiwib25TZWxlY3QiLCJkYXlJbkN1cnJlbnRNb250aCIsIkNhbGVuZGFyIiwib25EYXRlU2VsZWN0IiwiaGFuZGxlQ2hhbmdlTW9udGgiLCJuZXdNb250aCIsInZhbGlkYXRlTWluTWF4RGF0ZSIsInNob3VsZERpc2FibGVQcmV2TW9udGgiLCJzaG91bGREaXNhYmxlTmV4dE1vbnRoIiwiQm9vbGVhbiIsIm1vdmVUb0RheSIsInJlbmRlcldlZWtzIiwid2VlayIsInJlbmRlckRheXMiLCJyZW5kZXJEYXkiLCJzZWxlY3RlZERhdGUiLCJjdXJyZW50TW9udGhOdW1iZXIiLCJkYXlDb21wb25lbnQiLCJsYXN0RGF0ZSIsImNvbXBvbmVudERpZE1vdW50IiwiY2xvc2VzdEVuYWJsZWREYXRlIiwiYWxsb3dLZXlib2FyZENvbnRyb2wiLCJhdXRvRm9jdXMiLCJzdHlsZXMkNiIsIlllYXIiLCJjb21wb25lbnQiLCJzdHlsZXMkNyIsIm91dGxpbmUiLCImOmZvY3VzIiwiWWVhciQxIiwiWWVhclNlbGVjdGlvbiIsInNlbGVjdGVkWWVhclJlZiIsImdldFNlbGVjdGVkWWVhclJlZiIsInNjcm9sbFRvQ3VycmVudFllYXIiLCJkb21Ob2RlIiwiYW5pbWF0ZVllYXJTY3JvbGxpbmciLCJjdXJyZW50WWVhckVsZW1lbnQiLCJzY3JvbGxJbnRvVmlldyIsInNldFRpbWVvdXQiLCJiZWhhdmlvciIsIm9uWWVhclNlbGVjdCIsInllYXIiLCJjdXJyZW50WWVhciIsInllYXJOdW1iZXIiLCJzdHlsZXMkOCIsIlllYXJTZWxlY3Rpb24kMSIsIkRhdGVQaWNrZXIiLCJzaG93WWVhclNlbGVjdGlvbiIsIm9wZW5Ub1llYXJTZWxlY3Rpb24iLCJoYW5kbGVZZWFyU2VsZWN0Iiwib3BlbkNhbGVuZGFyIiwib3BlblllYXJTZWxlY3Rpb24iLCJnZXQiLCJEYXRlUGlja2VyJDEiLCJEYXRlUGlja2VyTW9kYWwiLCJmb3J3YXJkZWRSZWYiLCJJbmxpbmVXcmFwcGVyIiwiYW5jaG9yRWwiLCJjdXJyZW50VGFyZ2V0IiwiUG9wb3ZlclByb3BzIiwib25seUNhbGVuZGFyIiwiaXNPcGVuIiwicG9wb3ZlclBhcGVyIiwiYW5jaG9yT3JpZ2luIiwidmVydGljYWwiLCJob3Jpem9udGFsIiwidHJhbnNmb3JtT3JpZ2luIiwic3R5bGVzJDkiLCJtYXhXaWR0aCIsIklubGluZVdyYXBwZXIkMSIsIkRhdGVQaWNrZXJJbmxpbmUiLCJDb21wb25lbnRUb1Nob3ciLCJpbm5lclJlZiIsIkNsb2NrVHlwZSIsImNlbnRlciIsIngiLCJ5IiwiYmFzZVBvaW50IiwiY3giLCJjeSIsInJhZDJkZWciLCJyYWQiLCJnZXRBbmdsZVZhbHVlIiwic3RlcCIsIm9mZnNldFgiLCJvZmZzZXRZIiwiYXRhbiIsImF0YW4yIiwiZGVnIiwicm91bmQiLCJkZWx0YSIsInBvdyIsImRpc3RhbmNlIiwic3FydCIsImNvbnZlcnRUb01lcmlkaWVtIiwibWVyaWRpZW0iLCJob3VycyIsIkNsb2NrVHlwZSQxIiwiQ2xvY2tQb2ludGVyIiwidG9BbmltYXRlVHJhbnNmb3JtIiwicHJldmlvdXNUeXBlIiwiZ2V0QW5nbGVTdHlsZSIsImlzSW5uZXIiLCJtYXgiLCJIT1VSUyIsImFuZ2xlIiwiaGFzU2VsZWN0ZWQiLCJwb2ludGVyIiwiYW5pbWF0ZVRyYW5zZm9ybSIsInRodW1iIiwibm9Qb2ludCIsInN0eWxlcyRhIiwiYm9yZGVyIiwiYm94U2l6aW5nIiwiQ2xvY2tQb2ludGVyJDEiLCJDbG9jayIsImlzTW92aW5nIiwiaGFuZGxlVG91Y2hNb3ZlIiwic2V0VGltZSIsImhhbmRsZVRvdWNoRW5kIiwiaGFuZGxlTW92ZSIsImJ1dHRvbnMiLCJuYXRpdmVFdmVudCIsIndoaWNoIiwiaGFuZGxlTW91c2VVcCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjaGFuZ2VkVG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiU0VDT05EUyIsIk1JTlVURVMiLCJpc1BvaW50ZXJJbm5lciIsImNsb2NrIiwic3F1YXJlTWFzayIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsIm9uTW91c2VVcCIsIm9uTW91c2VNb3ZlIiwicGluIiwic3R5bGVzJGIiLCJ0b3VjaEFjdGlvbnMiLCJ1c2VyU2VsZWN0IiwiJjphY3RpdmUiLCJwb3NpdGlvbnMiLCIwIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiMTAiLCIxMSIsIjEyIiwiMTMiLCIxNCIsIjE1IiwiMTYiLCIxNyIsIjE4IiwiMTkiLCIyMCIsIjIxIiwiMjIiLCIyMyIsIkNsb2NrTnVtYmVyIiwiZ2V0VHJhbnNmb3JtU3R5bGUiLCJjbG9ja051bWJlciIsInN0eWxlcyRjIiwiQ2xvY2tOdW1iZXIkMSIsImdldEhvdXJOdW1iZXJzIiwiY3VycmVudEhvdXJzIiwiaG91ck51bWJlcnMiLCJzdGFydEhvdXIiLCJlbmRIb3VyIiwiaG91ciIsImdldE1pbnV0ZXNOdW1iZXJzIiwiZiIsIlRpbWVQaWNrZXJWaWV3IiwiZ2V0Vmlld1Byb3BzIiwiaGFuZGxlSG91ckNoYW5nZSIsIm1pbnV0ZXNWYWx1ZSIsImhhbmRsZU1pbnV0ZXNDaGFuZ2UiLCJzZWNvbmRzVmFsdWUiLCJoYW5kbGVTZWNvbmRzQ2hhbmdlIiwidXBkYXRlZFRpbWUiLCJvbkhvdXJDaGFuZ2UiLCJtaW51dGVzIiwib25NaW51dGVzQ2hhbmdlIiwic2Vjb25kcyIsIm9uU2Vjb25kc0NoYW5nZSIsInZpZXdQcm9wcyIsIlRpbWVQaWNrZXIiLCJvcGVuVmlldyIsIm1lcmlkaWVtTW9kZSIsInNldE1lcmlkaWVtTW9kZSIsIm1vZGUiLCJvcGVuTWludXRlcyIsIm9wZW5TZWNvbmRzIiwid2l0aE1lcmlkaWVtIiwib3Blbk1pbnV0ZXNWaWV3Iiwib3BlblNlY29uZHNWaWV3Iiwib3BlbkhvdXJWaWV3IiwiaG91ck1pbnV0ZUNsYXNzTmFtZSIsImhvdXJNaW51dGVMYWJlbFJldmVyc2UiLCJob3VyTWludXRlTGFiZWwiLCJ0b29sYmFyTGVmdFBhZGRpbmciLCJzZXBhcmF0b3IiLCJhbXBtU2VsZWN0aW9uV2l0aFNlY29uZHMiLCJhbXBtU2VsZWN0aW9uIiwiYW1wbUxhYmVsIiwic3R5bGVzJGQiLCJUaW1lUGlja2VyJDEiLCJUaW1lUGlja2VyTW9kYWwiLCJUaW1lUGlja2VySW5saW5lIiwiRGF0ZVRpbWVQaWNrZXJWaWV3IiwiRGF0ZVRpbWVQaWNrZXJWaWV3JDEiLCJzdHlsZXMkZSIsImRhdGVIZWFkZXIiLCJ0aW1lSGVhZGVyIiwiRGF0ZVRpbWVQaWNrZXJIZWFkZXIiLCJvbk9wZW5WaWV3Q2hhbmdlIiwiWUVBUiIsIkRBVEUiLCJIT1VSIiwiRGF0ZXRpbWVQaWNrZXJIZWFkZXIiLCJ2aWV3VG9UYWJJbmRleCIsInRhYkluZGV4VG9WaWV3IiwidGFiIiwiRGF0ZVRpbWVQaWNrZXJUYWJzIiwidmlldyIsImRhdGVSYW5nZUljb24iLCJ0aW1lSWNvbiIsImluZGljYXRvckNvbG9yIiwiZnVsbFdpZHRoIiwidGFicyIsImljb24iLCJzdHlsZXMkZiIsIkRhdGVUaW1lUGlja2VyVGFicyQxIiwiRGF0ZVRpbWVQaWNrZXJWaWV3JDIiLCJEYXRlVGltZVBpY2tlciIsIm9wZW5UbyIsIm5leHRWaWV3IiwiYXV0b1N1Ym1pdCIsImhhbmRsZVZpZXdDaGFuZ2UiLCJoYW5kbGVZZWFyQ2hhbmdlIiwiaGFuZGxlRGF5Q2hhbmdlIiwiVmlld0NvbnRhaW5lckNvbXBvbmVudCIsIkNvbnRhaW5lciIsIlZpZXdDb250YWluZXJDb21wb25lbnRQcm9wcyIsIkRhdGVUaW1lUGlja2VyJDEiLCJEYXRlVGltZVBpY2tlck1vZGFsIiwidG9TaG93VGFicyIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiRGF0ZVRpbWVQaWNrZXJJbmxpbmUiLCI2MDc4IiwiYWRkQ2xhc3MiLCJlbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiX2hhc0NsYXNzIiwic2V0QXR0cmlidXRlIiwiYmFzZVZhbCIsIjYwNzkiLCJyZXBsYWNlQ2xhc3NOYW1lIiwib3JpZ0NsYXNzIiwiY2xhc3NUb1JlbW92ZSIsInJlcGxhY2UiLCJSZWdFeHAiLCJyZW1vdmUiLCI2MDgwIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJzb3VyY2UiLCJoYXNPd25Qcm9wZXJ0eSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIl9nZXRQcm90b3R5cGVPZiIsIm8iLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwiX3Byb3BUeXBlcyIsIl91dGlscyIsInByb3BUeXBlcyIsInRob3VzYW5kU2VwYXJhdG9yIiwib25lT2ZUeXBlIiwic3RyaW5nIiwib25lT2YiLCJkZWNpbWFsU2VwYXJhdG9yIiwidGhvdXNhbmRzR3JvdXBTdHlsZSIsImRlY2ltYWxTY2FsZSIsIm51bWJlciIsImZpeGVkRGVjaW1hbFNjYWxlIiwiYm9vbCIsImRpc3BsYXlUeXBlIiwicHJlZml4Iiwic3VmZml4IiwiZnVuYyIsInJlbW92ZUZvcm1hdHRpbmciLCJhcnJheU9mIiwiZGVmYXVsdFZhbHVlIiwiaXNOdW1lcmljU3RyaW5nIiwiY3VzdG9tSW5wdXQiLCJhbGxvd05lZ2F0aXZlIiwiYWxsb3dFbXB0eUZvcm1hdHRpbmciLCJvblZhbHVlQ2hhbmdlIiwib25Gb2N1cyIsImlzQWxsb3dlZCIsInJlbmRlclRleHQiLCJnZXRJbnB1dFJlZiIsIm5vb3AiLCJyZXR1cm5UcnVlIiwiTnVtYmVyRm9ybWF0IiwiX1JlYWN0JENvbXBvbmVudCIsInZhbGlkYXRlUHJvcHMiLCJmb3JtYXR0ZWRWYWx1ZSIsImZvcm1hdFZhbHVlUHJvcCIsIm51bUFzU3RyaW5nIiwic2VsZWN0aW9uQmVmb3JlSW5wdXQiLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsImJpbmQiLCJ1cGRhdGVWYWx1ZUlmUmVxdWlyZWQiLCJmb2N1c2VkRWxtIiwic3RhdGVWYWx1ZSIsIl9zdGF0ZSRudW1Bc1N0cmluZyIsImxhc3ROdW1TdHIiLCJsYXN0VmFsdWVXaXRoTmV3Rm9ybWF0IiwiZm9ybWF0TnVtU3RyaW5nIiwiZmxvYXRWYWx1ZSIsInBhcnNlRmxvYXQiLCJsYXN0RmxvYXRWYWx1ZSIsImlzTmFOIiwidXBkYXRlVmFsdWUiLCJpbnB1dCIsIm51bSIsIl90aGlzJGdldFNlcGFyYXRvcnMiLCJnZXRTZXBhcmF0b3JzIiwibnVtUmVnZXgiLCJnZXROdW1iZXJSZWdleCIsImhhc05lZ2F0aW9uIiwic3BsaXQiLCJqb2luIiwiZmlyc3REZWNpbWFsSW5kZXgiLCJpbmRleE9mIiwiY29uY2F0Iiwic3Vic3RyaW5nIiwiZXNjYXBlUmVnRXhwIiwiZyIsImlnbm9yZURlY2ltYWxTZXBhcmF0b3IiLCJfdGhpcyRwcm9wcyIsIl90aGlzJGdldFNlcGFyYXRvcnMyIiwiX3RoaXMkcHJvcHMkbWFzayIsIl90aGlzJGdldFNlcGFyYXRvcnMzIiwiZWwiLCJjYXJldFBvcyIsImN1cnJlbnRWYWx1ZSIsInNldENhcmV0UG9zaXRpb24iLCJfdGhpcyRwcm9wczIiLCJjbGFtcCIsImNoYXJJc051bWJlciIsImZpcnN0SGFzaFBvc2l0aW9uIiwibGFzdEhhc2hQb3NpdGlvbiIsImxhc3RJbmRleE9mIiwibmV4dFBvcyIsImNhcmV0TGVmdEJvdW5kIiwiY2FyZXRSaWdodEJvdW5kIiwiaW5wdXRWYWx1ZSIsImoiLCJpbnB1dE51bWJlciIsImZvcm1hdHRlZE51bWJlciIsImN1cnJlbnRJbnB1dENoYXIiLCJjdXJyZW50Rm9ybWF0Q2hhciIsImNvcnJlY3RDYXJldFBvc2l0aW9uIiwidmFsIiwiX3RoaXMkcHJvcHMzIiwiaXNOZWdhdGl2ZSIsInN1ZmZpeExhc3RJbmRleCIsImZvcm1hdEFycmF5Iiwic3RyIiwibnVtU3RyIiwibG4iLCJwYXJ0IiwiX3RoaXMkcHJvcHM0IiwicmVtb3ZlUGF0dGVybkZvcm1hdHRpbmciLCJyZW1vdmVQcmVmaXhBbmRTdWZmaXgiLCJnZXRGbG9hdFN0cmluZyIsImhhc2hDb3VudCIsImZvcm1hdHRlZE51bWJlckFyeSIsImdldE1hc2tBdEluZGV4IiwiX3RoaXMkcHJvcHM1IiwiX3RoaXMkZ2V0U2VwYXJhdG9yczQiLCJoYXNEZWNpbWFsU2VwYXJhdG9yIiwiX3NwbGl0RGVjaW1hbCIsInNwbGl0RGVjaW1hbCIsImJlZm9yZURlY2ltYWwiLCJhZnRlckRlY2ltYWwiLCJhZGROZWdhdGlvbiIsImxpbWl0VG9TY2FsZSIsInRob3VzYW5kc0dyb3VwUmVnZXgiLCJnZXRUaG91c2FuZHNHcm91cFJlZ2V4IiwiX3RoaXMkcHJvcHM2IiwiZm9ybWF0V2l0aFBhdHRlcm4iLCJmb3JtYXRBc051bWJlciIsIl90aGlzJHByb3BzNyIsIl90aGlzJHByb3BzOCIsIl90aGlzJHByb3BzOCR2YWx1ZSIsImlzTm9uTnVtZXJpY0ZhbHN5Iiwicm91bmRUb1ByZWNpc2lvbiIsImZvcm1hdElucHV0IiwibmVnYXRpb25SZWdleCIsImRvdWJsZU5lZ2F0aW9uUmVnZXgiLCJ0ZXN0IiwicmVtb3ZlTmVnYXRpb24iLCJmb3JtYXROZWdhdGlvbiIsIl90aGlzJHByb3BzOSIsIl90aGlzJGdldFNlcGFyYXRvcnM1IiwiaXNDaGFyYWN0ZXJBRm9ybWF0IiwibGFzdFZhbHVlIiwiX3RoaXMkcHJvcHMxMCIsIl90aGlzJGdldFNlcGFyYXRvcnM2IiwiX3RoaXMkc2VsZWN0aW9uQmVmb3JlIiwiX2ZpbmRDaGFuZ2VkSW5kZXgiLCJmaW5kQ2hhbmdlZEluZGV4Iiwic3Vic3RyIiwibGVmdEJvdW5kIiwicmlnaHRCb3VuZCIsImNoZWNrSWZGb3JtYXRHb3REZWxldGVkIiwibnVtZXJpY1N0cmluZyIsIl9zcGxpdERlY2ltYWwyIiwiaXNCZWZvcmVEZWNpbWFsUG9pbnQiLCJvblVwZGF0ZSIsImN1cnJlbnRDYXJldFBvc2l0aW9uIiwiZ2V0Q3VycmVudENhcmV0UG9zaXRpb24iLCJnZXRDYXJldFBvc2l0aW9uIiwic2V0UGF0Y2hlZENhcmV0UG9zaXRpb24iLCJnZXRWYWx1ZU9iamVjdCIsInBlcnNpc3QiLCJjb3JyZWN0SW5wdXRWYWx1ZSIsImZpeExlYWRpbmdaZXJvIiwiZXhwZWN0ZWRDYXJldFBvc2l0aW9uIiwiX2VsJHZhbHVlIiwiX3RoaXMkcHJvcHMxMSIsIm5lZ2F0aXZlUmVnZXgiLCJpc1BhdHRlcm5Gb3JtYXQiLCJuZXdDYXJldFBvc2l0aW9uIiwiaXNVbml0VGVzdFJ1biIsIl9lbCR2YWx1ZTIiLCJjYXJldFBvc2l0aW9uIiwiX2VsJHZhbHVlMyIsIl90aGlzJHByb3BzMTIiLCJvdGhlclByb3BzIiwib21pdCIsIkN1c3RvbUlucHV0IiwiX2RlZmF1bHQiLCI2MDgxIiwiX1BhcGVyIiwiX1BhcGVyMiIsIl9DaGVja2JveCIsIl9DaGVja2JveDIiLCJfU2VsZWN0IiwiX1NlbGVjdDIiLCJfTWVudUl0ZW0iLCJfTWVudUl0ZW0yIiwiX0ludm9pY2VUYWJsZSIsIl9JbnZvaWNlVGFibGUyIiwiX2NvbmZpZyIsIl9jb25maWcyIiwiX2F4aW9zIiwiX2F4aW9zMiIsIl9wcm9wVHlwZXMyIiwiX1NuYWNrYmFyIiwiX1NuYWNrYmFyMiIsIl9JY29uQnV0dG9uIiwiX0ljb25CdXR0b24yIiwiX0NsZWFyIiwiX0NsZWFyMiIsImR1ZURldGFpbHNSb290IiwicG9zdENhbGxEdWVEZXRhaWxzUm9vdCIsIm1lbnVJdGVtUm9vdCIsIm1lbnVQYXBlciIsImNoZWNrZWRJY29uIiwic2VsZWN0RmlsdGVyIiwiZW1haWxJY29uIiwiZW5hYmxlZEVtYWlsSWNvbiIsImRpc2FibGVkRW1haWxJY29uIiwiYmxhY2tUZXh0Iiwic2VsZWN0TWVudSIsImJvcmRlckJvdHRvbSIsImNsZWFyU2VsZWN0aW9ucyIsImNsZWFyU2VsZWN0aW9uc1BhcmVudCIsInNlbGVjdEljb24iLCJzZWxlY3RMaW5lUG9zdENhbGwiLCJzZWxlY3RMaW5lSW5DYWxsIiwiaW52b2ljZUJ1Y2tldENoZWNrYm94IiwiY2hlY2tCb3hSb290IiwiY2xlYXJTZWxlY3Rpb25HcmlkIiwiZmlsdGVySW52b2ljZXMiLCJEdWVEZXRhaWxzIiwiX2luaXRpYWxpc2VQcm9wcyIsInRvdGFsUm93cyIsImNvcnJlY3RJbnZvaWNlc01hcCIsInBvc3RDYWxsIiwic2V0U2VsZWN0ZWRJbnZvaWNlcyIsImludm9pY2VUeXBlIiwic2VsZWN0ZWRJbnZvaWNlcyIsImFsbEludm9pY2VzIiwiZ2xvYmFsQ2hlY2siLCJpc0J1bGtFbWFpbCIsInNuYWNrQmFyT3BlbiIsInNuYWNrQmFyTWVzc2FnZSIsInNldENoZWNrIiwiZGF5cyIsImVsZXZhdGlvbiIsImNoZWNrZWQiLCJoYW5kbGVGaWx0ZXJDaGFuZ2UiLCJNZW51UHJvcHMiLCJkaXNhYmxlVW5kZXJsaW5lIiwic2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCIsInNlbmRCdWxrRW1haWwiLCJidWNrZXRJbnZvaWNlcyIsImluZGl2aWR1YWwiLCJ1cGRhdGVHbG9iYWxNYXAiLCJhdXRvSGlkZUR1cmF0aW9uIiwiY2xvc2VTbmFja2JhciIsIkNvbnRlbnRQcm9wcyIsImFyaWEtZGVzY3JpYmVkYnkiLCJfdGhpczQiLCJhbGxFbWFpbHNGbGFnIiwidGVtcCIsImZsYWciLCJzdW0iLCJjYWxsRnJvbUNoaWxkIiwiZmluZFR5cGUiLCJpbnZvaWNlIiwicDJwRGVsaW5xdWVudCIsInAycFVwY29taW5nIiwicDJwQnJva2VuIiwib3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UiLCJkb2N1bWVudE51bWJlcnMiLCJyZXFFbWFpbE9iaiIsImN1c3RvbWVySWQiLCJkb2N1bWVudElkcyIsImZyb20iLCJlbWFpbElkIiwiYXhpb3MiLCJwb3N0IiwiY29uZmlnIiwiYXBpVXJsIiwidGhlbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJzZWxlY3RlZEludm9pY2VzQ291bnQiLCJQcm9wVHlwZXMiLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwiYXJyYXkiLCI2MDgyIiwiX0V4cGFuc2lvblBhbmVsIiwiX0V4cGFuc2lvblBhbmVsMiIsIl9FeHBhbnNpb25QYW5lbFN1bW1hcnkiLCJfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5MiIsIl9FeHBhbnNpb25QYW5lbERldGFpbHMiLCJfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMiIsIl9mb3JtYXR0ZXIiLCJfRXhwYW5kTW9yZSIsIl9FeHBhbmRNb3JlMiIsIl9Eb25lIiwiX0RvbmUyIiwiX2ljb25zIiwiX0xpc3RPZlRpbGUiLCJfcmVmIiwicG9zdENhbGxSb290IiwiZ3JpZExpc3QiLCJncmlkTGlzdERpdiIsInNlbGVjdGVkR3JpZExpc3REaXYiLCJzaGlmdCIsImdyZXlUZXh0IiwiYnVja2V0SGVhZGVyVGV4dCIsImVtYWlsVGFibGVDZWxsIiwiY2hhbmdlUm93QmFja2dyb3VuZCIsImRlZmF1bHRCYWNrZ3JvdW5kIiwiaW52b2ljZUhlYWRlclRleHQiLCJwYW5lbFN1bW1hcnkiLCJjb250ZW50IiwiZXhwYW5kSWNvbiIsImluZGl2aWR1YWxJbnZvaWNlSGVhZGVyIiwic3VtbWFyeUV4cGFuZGVkIiwiZGlzYWJsZVRpbWVsaW5lIiwidGltZWxpbmUiLCJib3JkZXJMZWZ0IiwiSW52b2ljZVRhYmxlIiwiZXhwYW5kZWQiLCJ0b3RhbEFtb3VudCIsImN1cnJlbnRPcGVuQW1vdW50IiwiY2hlY2tlZEludm9pY2VzIiwiaW5kaXZpZHVhbEJ1Y2tldENoZWNrYm94IiwiY2hlY2tBbGxJbnZvaWNlcyIsIm5vU2hpZnQiLCJkZWZhdWx0RXhwYW5kZWQiLCJzdW1tYXJ5Q29udGVudCIsImNvbm5lY3RvciIsInRvZ2dsZUV4cGFuZCIsIkV4cGFuZExlc3MiLCJ2ZXJ0aWNhbFRpbWVsaW5lIiwiY2hlY2tCb3hDb2x1bW4iLCJpbnZvaWNlTnVtYmVyQ29sdW1uIiwiYWxpZ25HcmlkQ2VsbENlbnRlciIsImFtb3VudENvbHVtbiIsImJyb2tlbkNvbHVtbiIsInVwY29taW5nQ29sdW1uIiwiZGlzcHV0ZUNvbHVtbiIsInByZWRpY3RlZENvbHVtbiIsImVtYWlsQ29sdW1uIiwiYWRkSW52b2ljZSIsIm51bWVyaWMiLCJkb2N1bWVudE51bWJlciIsImZvcm1hdHRlciIsImRpc3B1dGVTdGF0dXMiLCJzZW5kRW1haWwiLCJwb3N0Q2FsbFRpbWVsaW5lIiwiR3JpZExpc3QiLCJjZWxsSGVpZ2h0IiwiR3JpZExpc3RUaWxlIiwiY29scyIsInRpbGUiLCJncmlkTGlzdFRpbGUiLCJ1cGRhdGVMb2NhbE1hcCIsImludm9pY2VJZCIsInN0YXR1c1RleHQiLCI2MDgzIiwiX0dyaWRMaXN0IiwiX0dyaWRMaXN0MiIsIl9HcmlkTGlzdFRpbGUiLCJfR3JpZExpc3RUaWxlMiIsImludm9pY2VzQ2hlY2tib3hNYXAiLCJNYXAiLCJkb25lIiwiaW5JbnZvaWNlVGFibGUiLCJMaXN0T2ZUaWxlIiwiZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZSIsImluY29ycmVjdERpdiIsImNvcnJlY3RJbnZvaWNlcyIsImFsbEludm9pY2VzU2VsZWN0ZWQiLCJ0b2dnbGVDaGVja2JveCIsIkNsb3NlIiwiYWRkSWNvbiIsImRlbGV0ZUludm9pY2UiLCI2MDg0IiwidHJhbnNpdGlvblRpbWVvdXQiLCJ0cmFuc2l0aW9uVHlwZSIsInRpbWVvdXRQcm9wTmFtZSIsImVuYWJsZWRQcm9wTmFtZSIsIm5hbWVTaGFwZSIsInNoYXBlIiwibGVhdmUiLCJhY3RpdmUiLCJsZWF2ZUFjdGl2ZSIsImFwcGVhciIsImFwcGVhckFjdGl2ZSIsIjYwODUiLCJfQ2hhdEJveCIsIl9DaGF0Qm94MiIsIl9jb25zdGFudHMiLCJUcmFuc2NyaXB0Q2hhdCIsImdlbmVyYXRlQ2hhdEJveGVzIiwidHJhbnNjcmlwdE1lc3NhZ2UiLCJpbmNsdWRlcyIsIlRSQU5TQ1JJUFRfREVMSU1FVEVSUyIsIkNPTExFQ1RPUiIsImlzQ29sbGVjdG9yIiwiaW5pdGlhbHMiLCJDVVNUT01FUiIsIkRFVEVDVElOR19TUEVBS0VSUyIsImlzRGV0ZWN0aW5nIiwiZXh0cmFjdGVkVHJhbnNjcmlwdCIsInNwbGl0VHJhbnNjcmlwdCIsIjYwOTAiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJhcnIyIiwiX3N0b3JlIiwiX0FjdGlvbnMiLCJfQWN0aW9uczIiLCJfY29yZSIsIl9CdXR0b24iLCJfQnV0dG9uMiIsIl9UZXh0RmllbGQiLCJfVGV4dEZpZWxkMiIsIl9DaXJjdWxhclByb2dyZXNzIiwiX0NpcmN1bGFyUHJvZ3Jlc3MyIiwiX0xpc3QiLCJfTGlzdDIiLCJfTGlzdEl0ZW0iLCJfTGlzdEl0ZW0yIiwiX0xpc3RJdGVtVGV4dCIsIl9MaXN0SXRlbVRleHQyIiwiX0RpYWxvZ1RpdGxlIiwiX0RpYWxvZ1RpdGxlMiIsIl9EaWFsb2ciLCJfRGlhbG9nMiIsIl9GaW5hbCIsIl9GaW5hbDIiLCJfR3JvdyIsIl9Hcm93MiIsIl9DdXN0b21EaWFsb2ciLCJfQ3VzdG9tRGlhbG9nMiIsIkVOVElUWV9URU1QTEFURSIsIlNVTU1BUllfVEVNUExBVEUiLCJjb25maWRlbmNlIiwiaW50ZW50IiwiU05BQ0tfTUVTU0FHRVMiLCJmcmVlemUiLCJTVUNDRVNTIiwiRVJST1IiLCJQMlBfU1VNTUFSWV9URU1QTEFURSIsIkZPTExPV1VQX1NVTU1BUllfVEVNUExBVEUiLCJhY3Rpb25UeXBlcyIsIlAyUCIsIkRJU1BVVEUiLCJGT0xMT1dfVVAiLCJfbm9uQWN0aW9uTm90ZXNUaXRsZSIsIl9wcm9ncmVzc0JhckRpdiIsIm92ZXJmbG93WCIsInN1bW1hcnlCb3giLCJ0cmFuc2NyaXB0VGV4dCIsImhpZ2hsaWdodFRyYW5zY3JpcHRUZXh0Iiwibm9uQWN0aW9uTm90ZXNUaXRsZSIsIm5vbkFjdGlvbk5vdGVzTm90RWRpdGluZyIsIndvcmRCcmVhayIsIm5vbkFjdGlvbk5vdGVzRWRpdGluZyIsInByb2dyZXNzQmFyRGl2IiwicHJvZ3Jlc3MiLCJwcm9ncmVzc01lc3NhZ2UiLCJjcmVhdGVBY3Rpb25UZXh0IiwiYnV0dG9uIiwiYnV0dG9uVGl0bGUiLCJoZWFkaW5nIiwic3VtbWFyeUJveEFjdGlvbkljb24iLCJmbG9hdCIsIm5vbkFjdGlvbk5vdGVzQ29udGVudCIsImxlZ2FsTWVzc2FnZSIsImNyZWF0ZU5ld0FjdGlvbkRpYWxvZ0hlYWRlciIsImNyZWF0ZU5ld0FjdGlvbkRpYWxvZ09wdGlvbnMiLCJQb3N0Q2FsbCIsIm5leHRDdXN0b21lVGV4dCIsImV4cGFuZWQiLCJpc0VkaXRpbmdPbiIsImVudGVyRmlyZWQiLCJvcGVuUHJvZ3Jlc3NCYXIiLCJkb09wZW5OZXdBY3Rpb25EaWFsb2ciLCJpc0FueUFjdGlvbkNvbXBsZXRlZCIsImlzUmV2aWV3RGlhbG9nT3BlbiIsIm5vdGVzIiwiaXNQb3N0Q2FsbERvbmUiLCJzdW1tYXJ5Q29tcGxldGlvbk1hcCIsImNvbnRhY3RMb2ciLCJjYWxsTG9nU3RhdGUiLCJ1c2VyRGV0YWlscyIsInByZXZOb25BY3Rpb25Ob3RlcyIsIm5vbkFjdGlvbk5vdGVzIiwic25hY2tNZXNzYWdlIiwic25hY2tPcGVuIiwiZm9sbG93dXBUZXh0TGlzdCIsInJlYXNvbkNvZGVMaXN0Iiwibm9uQWN0aW9uSW5jbHVkZWQiLCJKU09OIiwic3RyaW5naWZ5IiwiaW5pdGlhbGl6ZVN1bW1hcnlXaXRoRGVmYXVsdHMiLCJ1c2VyTG9nbyIsInVzZXJJbWciLCJzYXZlUG9zdENhbGxUaGluZ3MiLCJUeXBvZ3JhcGh5IiwiTGluayIsInRleHREZWNvcmF0aW9uIiwicG9zdENhbGxDYXJkR3JpZCIsInBhZGRpbmdSaWdodE9uQ2FyZCIsImdlblN1bW1hcnlBY3Rpb25DYXJkcyIsInN0bHllIiwiaGFuZGxlQWN0aW9uQ3JlYXRpb24iLCJCb3JkZXJDb2xvciIsImVkaXROb25BY3Rpb25Ob3RlcyIsIkhpZ2hsaWdodE9mZiIsImRpc2NhcmROb3Rlc0NoYW5nZXMiLCJDaGVja0NpcmNsZU91dGxpbmUiLCJzYXZlTm90ZXNDaGFuZ2VzIiwibXVsdGlsaW5lIiwiaGFuZGxlTm9uYWN0aW9uTm90ZXNDaGFuZ2UiLCJpbnZvaWNlTGlzdCIsImdlbmVyYXRlRmluYWxJbnZvaWNlTGlzdCIsInN1bW1hcnlOb3RlcyIsImNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZyIsImFyaWEtbGFiZWxsZWRieSIsInBhcGVyU2Nyb2xsUGFwZXIiLCJkaWFsb2dQYXBlciIsImtleXMiLCJhY3Rpb25UeXBlS2V5IiwiaGFuZGxlQWN0aW9uSXRlbUNsaWNrIiwiY2xvc2VSZXZpZXdXYXJuaW5nRGlhbG9nIiwiYWN0aW9ucyIsIm9uRXhpdGVkIiwiaGFuZGxlU25hY2tiYXJFeGl0Iiwic25hY2tNZXNzYWdlUXVldWUiLCJkZWxldGVBY3Rpb24iLCJkZWxldGUiLCJjcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcCIsIklOVEVOVF9UWVBFUyIsInNldCIsInVwZGF0ZVN1bW1hcnlGcm9tQ2hpbGQiLCJuZXdTdW1tYXJ5IiwicHJldlN1bW1hcnkiLCJpbiIsIm9uRGVsZXRlIiwib25BY3Rpb25JdGVtQ29uZmlybSIsInVwZGF0ZUFjdGlvbkl0ZW1DaGVjayIsImludGVudFR5cGUiLCJhbGxJbnZvaWNlTGlzdCIsImNvbXBsZXRlZCIsIm1hcmtTdW1tYXJ5QXNEb25lIiwib3BlblNuYWNrYmFyT25BY3Rpb24iLCJtZXNzYWdlVHlwZSIsIm9wZW5TbmFja2JhciIsInVwZGF0ZUludm9pY2VzSW5QYXJlbnQiLCJ1cGRhdGVkSW52b2ljZXMiLCJ1cGRhdGVJbnZvaWNlcyIsInVwZGF0ZVN1bW1hcnlJblBhcmVudCIsInVwZGF0ZWRTdW1tYXJ5IiwiZG9uZU1hcCIsInNhdmUiLCJoYW5kbGVDbG9zZSIsImdlbmVyYXRlZFN1bW1hcnkiLCJjaGVja1N1bW1hcnlDb21wbGV0ZU1hcCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJ2YWx1ZXMiLCJlcnIiLCJyZXR1cm4iLCJnZW5lcmF0ZU5vdGVzQXNTdHJpbmciLCJub3Rlc1N0cmluZyIsInRyaW0iLCJzYXZlQ2FsbExvZyIsImNvbWJpbmVkTm90ZXMiLCJyZXFPYmoiLCJjYWxsU3VtbWFyeSIsIm5vdGUiLCJub3RlQ29udGVudCIsInB1dCIsInN0b3JlIiwiYmx1ck5vbkFjdGlvbk5vdGVzQm94IiwiY2hhbmdlUG9wIiwic2F2ZVdpdGhvdXRSZXZpZXciLCJnZXRUaW1lIiwicHJvY2Vzc1F1ZXVlIiwicmVhc29uIiwiYWN0aW9uVHlwZSIsIm5ld0FjdGlvbiIsImNyZWF0ZUFjdGlvbiIsInN1bW1hcnlMZW5ndGgiLCJjcmVhdGVQMlAiLCJjcmVhdGVEaXNwdXRlIiwiY3JlYXRlRm9sbG93dXAiLCJQMlBBY3Rpb24iLCJjcmVhdGVTdW1tYXJ5VGVtcGxhdGUiLCJuZXdTdW1tYXJ5RW50aXR5IiwiY3JlYXRlU3VtbWFyeUVudGl0eSIsImZvcm1hdERhdGVXaXRoVGltZXpvbmUiLCJlbnRpdGllcyIsImRpc3B1dGVBY3Rpb24iLCJmb2xsb3d1cEFjdGlvbiIsImZvcm1hdERhdGUiLCJtb250aCIsImdldERhdGUiLCJnZXRGdWxsWWVhciIsInRleHRGaWVsZCIsImJsdXIiLCJmb3JtYXRDYWxsRHVyYXRpb24iLCJnZXROZXdLZXkiLCJzdW1tYXJ5V2l0aElkcyIsImFwcGVuZElkc1RvU3VtbWFyeSIsIm5vbkFjdGlvblN1bW1hcnkiLCJjcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzIiwiaW5pdGlhbE5vdGVzU3RyaW5nIiwidXBkYXRlZEludm9pY2VMaXN0IiwiZm9jdXMiLCJmaW5hbEludm9pY2VzT2JqZWN0IiwiayIsIjYwOTEiLCJfUDJQIiwiX1AyUDIiLCJfRGlzcHV0ZSIsIl9EaXNwdXRlMiIsIl9Gb2xsb3d1cCIsIl9Gb2xsb3d1cDIiLCJfQWN0aW9uRGV0YWlscyIsIl9BY3Rpb25EZXRhaWxzMiIsInBhbmVsIiwiZXhwYW5kZWRCYWNrZ3JvdW5kIiwicGFuZWxDb21tb24iLCJleHBhbnNpb25QYW5lbFJvb3QiLCJBY3Rpb25zIiwiaW5pdGlhbEludm9pY2VEYXRhIiwiZ2VuSW5pdGlhbEludm9pY2VEYXRhIiwiaW5jb3JyZWN0RmxhZyIsImludm9pY2VDb3VudCIsImNvbW1vblByb3BzIiwiZ2V0Q29tbW9uUHJvcHMiLCJvblVwZGF0ZUludm9pY2UiLCJpbnZvaWNlc01hcCIsInVwZGF0ZUNvcnJlY3RJbnZvaWNlcyIsImN1cnJlbnRJbnZvaWNlIiwidGVtcEludm9pY2UiLCJjYWxsVG9OYW1lIiwib25Db21wbGV0aW9uIiwibWFya1RoaXNDb21wbGV0ZSIsIjYwOTIiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJOdW1iZXJGb3JtYXRDdXN0b20iLCJfcmVhY3ROdW1iZXJGb3JtYXQyIiwiX2RhdGVGbnMiLCJfZGF0ZUZuczIiLCJfbWF0ZXJpYWxVaVBpY2tlcnMiLCJfYmx1ZSIsIl9ibHVlMiIsIl9FcnJvciIsIl9FcnJvcjIiLCJfcmVhY3ROdW1iZXJGb3JtYXQiLCJfZGF0ZUZuczMiLCJQMlBSZWdleCIsIlAyUFRlbXBsYXRlIiwiUDJQX09SSUdfVEVNUExBVEUiLCJpbnZvaWNlU2FtcGxlIiwiZmxleFdyYXAiLCImOmJlZm9yZSIsIiY6YWZ0ZXIiLCJ0ZXN0SW5pdGlhbCIsImFjdGlvblByb2dyZXNzQmFyIiwiY2FyZENvbnRlbnQiLCJlcnJvckZsYWciLCJkaXNhYmxlRG9uZUJ0biIsIm1hdGVyaWFsVGhlbWUiLCJjcmVhdGVNdWlUaGVtZSIsIm92ZXJyaWRlcyIsIk11aVBpY2tlcnNUb29sYmFyIiwiYmx1ZSIsIkEyMDAiLCJNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXIiLCJNdWlQaWNrZXJzRGF5IiwiQTcwMCIsIk11aUZvcm1IZWxwZXJUZXh0IiwiTXVpUGlja2Vyc01vZGFsIiwiZXh0cmFjdGVkRGF0YSIsImV4dHJhY3RlZEFtb3VudCIsImNyZWF0ZWQiLCJpc0VkaXRpbmciLCJwcmV2QW1vdW50Iiwib3BlbkFjdGlvblNhdmUiLCJvcGVuV2FybmluZ0RpYWxvZyIsImFjdGlvbklkIiwiaXNEb25lIiwiZmluYWxTZWxlY3RlZERhdGUiLCJhbW91bnRUZXh0RmllbGRXaWR0aCIsImFjdGlvblNhdmVQcm9ncmVzc0JhciIsImludmFsaWREYXRhTm90aWZpZXJNZXNzYWdlIiwib3BlbkludmFsaWREYXRhTm90aWZpZXIiLCJpc0Ftb3VudEludmFsaWQiLCJ1cGRhdGVTdW1tYXJ5IiwiZnVsbFNjcmVlbiIsIkRvbmUiLCJoYW5kbGVJbnZvaWNlQ3VycmVuY3lDaGFuZ2UiLCJGb3JtYXR0ZWRDdXJyZW5jeUlucHV0IiwidG9nZ2xlRWRpdGluZyIsImRpc21pc3NBbW91bnRDaGFuZ2VzIiwiZW1wdHlGdW5jdGlvbiIsInNhdmVJbnZvaWNlQW1vdW50Q2hhbmdlIiwiTXVpVGhlbWVQcm92aWRlciIsIm5vZGUiLCJwaWNrZXIiLCJoYW5kbGVEYXRlQ2hhbmdlIiwiRGF0ZVJhbmdlIiwiY2xvc2VBY3Rpb25TYXZlRGlhbG9nIiwiY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nIiwiY2xvc2VBbmREaXNjYXJkRGlhbG9nIiwiY2xvc2VXYXJuaW5nRGlhbG9nIiwiY2xvc2VJbnZhbGlkRGF0YU5vdGlmaWVyIiwib3BlbkFjdGlvbkRpc2NhcmREaWFsb2ciLCJjaGVja0ludmFsaWRhdGlvbiIsInNhdmVQMlAiLCJhbW91bnRGb3JtYXR0ZWQiLCJvcGVuRGF0YUludmFsaWREaWFsb2ciLCJ2YWxpZGF0ZVAyUERhdGEiLCJOdW1iZXIiLCJpc1ZhbGlkRGF0ZSIsInBob25lTnVtYmVyIiwiY2FsbGluZ051bWJlciIsImludm9pY2VPYmoiLCJjbXNEb2NIZWFkZXJJZCIsImNvbW1pdHRlZEFtb3VudCIsImNvbW1pdHRlZEJ5IiwiY29tbWl0dGVkRGF0ZSIsImNvbW1pdHRlZE9uIiwiY3VycmVuY3kiLCJwY0l0ZW1zIiwiZ2V0RGF0ZUZpZWxkVmFsdWUiLCJzdW1tYXJ5VG9TYXZlIiwiZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5IiwiZm9ybWF0dGVkRGF0ZSIsImZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCIsImN1cnJlbnRTdGF0ZSIsImFtb3VudFRleHRGaWVsZExlbmd0aCIsImN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyIiwiYXJncyIsIjYwOTMiLCJfX2V4dGVuZHMiLCJiIiwiX18iLCJleHRlbmRTdGF0aWNzIiwiX19yZXN0IiwicyIsInQiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJfX2Fzc2lnbiIsIjYwOTQiLCJyIiwibG9hZGVkIiwibSIsImMiLCJ1IiwiY29uZm9ybVRvTWFzayIsImwiLCJoIiwidiIsInRleHRNYXNrSW5wdXRFbGVtZW50IiwiaW5wdXRFbGVtZW50IiwidXBkYXRlIiwiaW5pdFRleHRNYXNrIiwiZ3VpZGUiLCJwbGFjZWhvbGRlckNoYXIiLCJzaG93TWFzayIsInN0ckZ1bmN0aW9uIiwicHJvY2Vzc0NhcmV0VHJhcHMiLCJtYXNrV2l0aG91dENhcmV0VHJhcHMiLCJwcmV2aW91c0NvbmZvcm1lZFZhbHVlIiwicGxhY2Vob2xkZXIiLCJjb252ZXJ0TWFza1RvUGxhY2Vob2xkZXIiLCJDIiwiTyIsIlQiLCJQIiwidyIsImFicyIsIl8iLCJNIiwic2xpY2UiLCJTIiwiY2hhciIsImlzTmV3IiwiRSIsInNwbGljZSIsIlYiLCJBIiwiTiIsIkIiLCJJIiwiRiIsInEiLCJEIiwiTCIsIlciLCJKIiwiVSIsIkgiLCJjb25mb3JtZWRWYWx1ZSIsIm1ldGEiLCJzb21lQ2hhcnNSZWplY3RlZCIsIlN0cmluZyIsImluZGV4ZXMiLCJpc1N0cmluZyIsImlzTnVtYmVyIiwicHJldmlvdXNQbGFjZWhvbGRlciIsInJhd1ZhbHVlIiwiaW5kZXhlc09mUGlwZWRDaGFycyIsImNhcmV0VHJhcEluZGV4ZXMiLCJ0b0xvd2VyQ2FzZSIsIlIiLCJZIiwieiIsIkciLCJyZWplY3RlZCIsImFjdGl2ZUVsZW1lbnQiLCJzZXRTZWxlY3Rpb25SYW5nZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRoYXRSZXR1cm5zIiwidGhhdFJldHVybnNGYWxzZSIsInRoYXRSZXR1cm5zVHJ1ZSIsInRoYXRSZXR1cm5zTnVsbCIsInRoYXRSZXR1cm5zVGhpcyIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCJmcmFtZXNUb1BvcCIsInN5bWJvbCIsImFueSIsImluc3RhbmNlT2YiLCJvYmplY3RPZiIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCI2MDk1IiwiX0NTU1RyYW5zaXRpb24iLCJfUmVwbGFjZVRyYW5zaXRpb24iLCJfVHJhbnNpdGlvbkdyb3VwIiwiX1RyYW5zaXRpb24iLCJUcmFuc2l0aW9uIiwiVHJhbnNpdGlvbkdyb3VwIiwiUmVwbGFjZVRyYW5zaXRpb24iLCJDU1NUcmFuc2l0aW9uIiwiNjA5NiIsIl9pbmhlcml0c0xvb3NlIiwiX2FkZENsYXNzIiwibmV3T2JqIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9yZW1vdmVDbGFzcyIsImZvckVhY2giLCJyZW1vdmVDbGFzcyIsIl9sZW4iLCJfa2V5Iiwib25FbnRlciIsImFwcGVhcmluZyIsIl90aGlzJGdldENsYXNzTmFtZXMiLCJnZXRDbGFzc05hbWVzIiwicmVtb3ZlQ2xhc3NlcyIsIm9uRW50ZXJpbmciLCJfdGhpcyRnZXRDbGFzc05hbWVzMiIsImFjdGl2ZUNsYXNzTmFtZSIsInJlZmxvd0FuZEFkZENsYXNzIiwib25FbnRlcmVkIiwiX3RoaXMkZ2V0Q2xhc3NOYW1lczMiLCJkb25lQ2xhc3NOYW1lIiwib25FeGl0IiwiX3RoaXMkZ2V0Q2xhc3NOYW1lczQiLCJvbkV4aXRpbmciLCJfdGhpcyRnZXRDbGFzc05hbWVzNSIsIl90aGlzJGdldENsYXNzTmFtZXM2IiwiX3Byb3RvIiwiX3RoaXMkZ2V0Q2xhc3NOYW1lczciLCI2MDk3IiwiaGFzQ2xhc3MiLCJjb250YWlucyIsIjYwOTgiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsIl9yZWFjdERvbSIsIl9hcmdzIiwiaGFuZGxlRW50ZXIiLCJfbGVuMiIsIl9rZXkyIiwiaGFuZGxlTGlmZWN5Y2xlIiwiaGFuZGxlRW50ZXJpbmciLCJfbGVuMyIsIl9rZXkzIiwiaGFuZGxlRW50ZXJlZCIsIl9sZW40IiwiX2tleTQiLCJoYW5kbGVFeGl0IiwiX2xlbjUiLCJfa2V5NSIsImhhbmRsZUV4aXRpbmciLCJfbGVuNiIsIl9rZXk2IiwiaGFuZGxlRXhpdGVkIiwiX2xlbjciLCJfa2V5NyIsImhhbmRsZXIiLCJpZHgiLCJvcmlnaW5hbEFyZ3MiLCJfY2hpbGQkcHJvcHMiLCJjaGlsZCIsIkNoaWxkcmVuIiwidG9BcnJheSIsImZpbmRET01Ob2RlIiwiaW5Qcm9wIiwiX1JlYWN0JENoaWxkcmVuJHRvQXJyIiwiZmlyc3QiLCJzZWNvbmQiLCJjbG9uZUVsZW1lbnQiLCI2MDk5IiwiaGFzTmFnYXRpb24iLCJwYXJ0cyIsInNjYWxlIiwiZmlsbGVyIiwic2hvdWRIYXZlRGVjaW1hbFNlcGFyYXRvciIsInJvdW5kZWREZWNpbWFsUGFydHMiLCJ0b0ZpeGVkIiwiaW50UGFydCIsInJldmVyc2UiLCJyZWR1Y2UiLCJyb3VuZGVkU3RyIiwiZGVjaW1hbFBhcnQiLCJuZWdhdGlvbiIsImtleU1hcHMiLCJmaWx0ZXJlZE9iaiIsImNyZWF0ZVRleHRSYW5nZSIsInJhbmdlIiwibW92ZSIsInNlbGVjdCIsInByZXZWYWx1ZSIsInByZXZMZW5ndGgiLCJuZXdMZW5ndGgiLCI2MTAwIiwiX0RpYWxvZ0FjdGlvbnMiLCJkaXNwdXRlUmVnZXgiLCJESVNQVVRFX1RFTVBMQVRFIiwiRElTUFVURV9PUklHX1RFTVBMQVRFIiwic2VsZWN0ZWRSZWFzb24iLCJlbXB0eVJlYXNvbiIsInNlbGVjdE1lbnVDbGFzcyIsIkRpc3B1dGUiLCJyZWFzb25Db2RlIiwib3Blbk5vUmVhc29uRGlhbG9nIiwib3Blbk5vSW52b2ljZURpYWxvZyIsImNoYW5nZSIsInJlYXNvbkNvZGVzIiwib3B0aW9uSXRlbXMiLCJnZXRSZWFzb25Db2RlIiwiaGFuZGxlUmVhc29uQ29kZUNoYW5nZSIsImNsb3NlTm9SZWFzb25EaWFsb2ciLCJjbG9zZU5vSW52b2ljZURpYWxvZyIsInNhdmVEaXNwdXRlIiwiZGlzcHV0ZUl0ZW1zIiwiNjEwMSIsImZvbGxvd3VwUmVnZXgiLCJGT0xMT1dVUF9URU1QTEFURSIsIkZPTExPV1VQX09SSUdfVEVNUExBVEUiLCJGb2xsb3d1cCIsImZvbGxvd3VwVGV4dCIsIm9wZW5JbnZhbGlkRGF0ZURpYWxvZyIsImZvbGxvd3VwVGV4dHMiLCJnZXRGb2xsb3d1cFRleHQiLCJoYW5kbGVGb2xsb3d1cFRleHRDaGFuZ2UiLCJvcGVuTm9UZXh0RGlhbG9nIiwiY2xvc2VOb1RleHREaWFsb2ciLCJjbG9zZUludmFsaWREYXRlRGlhbG9nIiwic2F2ZUZvbGxvd3VwIiwidmFsaWRhdGVGb2xsb3d1cERhdGEiLCJmb2xsb3dEYXRlIiwiZm9sbG93Rm9ybWF0RGF0ZSIsImR1ZURhdGUiLCJyZW1pbmRlckRhdGUiLCJzdWJqZWN0IiwiY29udGFjdE51bWJlciIsImNvbnRhY3ROYW1lIiwiNjEwMiIsImdldE1vZGFsU3R5bGUiLCJfQ2hlY2tDaXJjbGUiLCJfUmFkaW9CdXR0b25VbmNoZWNrZWQiLCJfQWRkIiwiX1JlbW92ZUNpcmNsZU91dGxpbmUiLCJfQ2FyZCIsIl9DYXJkQ29udGVudCIsIl9EaWFsb2dBY3Rpb25zMiIsIl9EdWVEZXRhaWwiLCJfRHVlRGV0YWlsMiIsImludm9pY2VIZWFkZXIiLCJjb3JyZWN0aW9uIiwiY29ycmVjdGlvbkFsZXJ0Iiwic2Vjb25kYXJ5VGV4dCIsInByaW1hcnlUZXh0IiwiQWN0aW9uRGV0YWlscyIsImludm9pY2VDaGVja3NNYXAiLCJpc01lc3NhZ2VEaWFsb2dPcGVuIiwib3BlbkFkZEludm9pY2VNb2RhbCIsImV4ZWN1dGVBcHBlbmRJbnZvaWNlIiwiY2xvc2VBZGRJbnZvaWNlTW9kYWwiLCJhbGlnbkl0ZW0iLCJhcHBlbmRJbnZvaWNlcyIsImJvcmRlclRvcCIsImhhbmRsZUFsbFNlbGVjdGlvbiIsImRlbGV0ZUFsbFNlbGVjdGlvbiIsImNhbGN1bGF0ZUFtb3VudCIsImhhbmRsZU1lc3NhZ2VEaWFsb2ciLCJmaWx0ZXJlZEludm9pY2VzIiwidGVtcEFycmF5IiwidXBkYXRlZENoZWNrYm94TWFwIiwiaW52b2ljZUtleSIsImludm9pY2VOdW1iZXIiLCJjaGVja2JveE1hcCIsInVwZGF0ZUludm9pY2VzVGhpbmdzIiwiaW52b2ljZU1hcCIsInByZXZTdGF0ZSIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsInRvRGVsZXRlSW52b2ljZXMiLCJpbnZvaWNlTGVuZ3RoIiwiYWxsU2VsZWN0ZWQiLCJ0ZW1wTWFwIiwidGVtcEludm9pY2VzIiwidGVtcENoZWNrYm94SW52b2ljZU1hcCIsIjYxMDMiLCJfSW5wdXQiLCJfSW5wdXQyIiwiX0lucHV0TGFiZWwiLCJfSW5wdXRBZG9ybm1lbnQiLCJfRm9ybUNvbnRyb2wiLCJfQ2hpcCIsIl9DaGlwMiIsIl9JbmZvIiwiX0luZm8yIiwiX3JlYWN0QWRkb25zQ3NzVHJhbnNpdGlvbkdyb3VwIiwic3VtbWFyeU5vdGVzQm94Iiwic3VtbWFyeU5vdGVpdGVtcyIsInN1bW1hcnlOb3Rlc0hlYWRlciIsInN1bW1hcnlFbWFpbEhlYWRlciIsImVtYWlsVGVtcGxhdGUiLCJ0ZW1wbGF0ZVNlbGVjdGlvbiIsInN1bW1hcnlFbWFpbCIsInN1bW1hcnlFbWFpbEZvcm0iLCJlbWFpbElkQ2hpcHNJbnB1dCIsImVtYWlsQWRkTGFiZWwiLCJlbWFpbElkQ2hpcHMiLCImPiBzcGFuIiwiJjpob3ZlciwgJjpmb2N1cyIsImludmFsaWRFbWFpbElkQ2hpcHMiLCJyZW1vdmVFbWFpbElkIiwiZW1haWxJZElucHV0IiwicmVzaXplIiwiZW1haWxTdWJqZWN0IiwiJjo6cGxhY2Vob2xkZXIiLCJkaXNhYmxlZFN1YmplY3RJbnB1dCIsInN1bW1hcnlFbWFpbEJvZHkiLCJlbWFpbEJvZHlUZXh0IiwiaW52b2ljZUF0dGFjaGVtZW50cyIsInJlbW92ZUludm9pY2UiLCJzdW1tYXJ5RW1haWxGb290ZXIiLCJzZW5kU3VtbWFyeUVtYWlsQnRuIiwiYWxpZ25TZWxmIiwiZGlzYWJsZUljb24iLCJub3Rlc0xpc3QiLCJlbXB0eVN1bW1hcnlUZXh0IiwiZW1wdHlTdW1tYXJ5R3JpZCIsIndhcm5pbmdMaW5lIiwiaGlkZU92ZXJmbG93IiwiRmluYWwiLCJpbnZvaWNlU3RyaW5nIiwiZW1haWxBdHRhY2hlbWVudHMiLCJzdW1tYXJ5U3RyaW5nIiwiZW1haWxCb2R5IiwibmV3TGluZUNvdW50IiwiZW1haWxUZW1wbGF0ZUJvZHkiLCJlbWFpbEJvZHlIZWlnaHQiLCJoYW5kbGVUZW1wbGF0ZUNoYW5nZSIsImVtYWlsVGVtcGxhdGVOYW1lIiwidGVtcGxhdGUiLCJlbWFpbFRlbXBsYXRlcyIsImVtYWlsVGVtcGxhdGVTdWJqZWN0IiwiYm9keSIsInRlbXBsYXRlSWQiLCJoYW5kbGVFbWFpbEVudGVyIiwicmUiLCJ2YWxpZCIsImVtYWlsQXJyIiwidmFsaWRhdGUiLCJ0b0FkZHIiLCJoYW5kbGVFbWFpbElkRGVsZXRlIiwiZW1haWxBZGQiLCJjaGlwVG9EZWxldGUiLCJoYW5kbGVTdWJqZWN0Q2hhbmdlIiwiaGFuZGxlRW1haWxCb2R5Q2hhbmdlIiwibmV3TWF4SGVpZ2h0IiwicmVtb3ZlQXR0YWNoZW1lbnQiLCJjdXJyQXR0YWNoZW1lbnRzIiwic2VuZFN1bW1hcnlFbWFpbCIsImRvY3VtZW50SURzIiwicG9zIiwiZW1haWxPYmoiLCJlbWFpbFNlbnQiLCJmdWxsTmFtZSIsIkF0dGFjaGVtZW50cyIsIml0ZW1zIiwiZGVsZXRlSWNvbiIsImNsaWNrYWJsZSIsIlRleHRGaWVsZCIsInJvd3NNYXgiLCJCdXR0b24iLCI2MTA0IiwiNjEwNSIsIl9UcmFuc2l0aW9uR3JvdXAyIiwiX0NTU1RyYW5zaXRpb25Hcm91cENoaWxkIiwiX0NTU1RyYW5zaXRpb25Hcm91cENoaWxkMiIsIl9Qcm9wVHlwZXMiLCJ0cmFuc2l0aW9uQXBwZWFyIiwidHJhbnNpdGlvbkVudGVyIiwidHJhbnNpdGlvbkxlYXZlIiwiQ1NTVHJhbnNpdGlvbkdyb3VwIiwiX3RlbXAiLCJfcmV0IiwiX3dyYXBDaGlsZCIsInRyYW5zaXRpb25OYW1lIiwiYXBwZWFyVGltZW91dCIsInRyYW5zaXRpb25BcHBlYXJUaW1lb3V0IiwiZW50ZXJUaW1lb3V0IiwidHJhbnNpdGlvbkVudGVyVGltZW91dCIsImxlYXZlVGltZW91dCIsInRyYW5zaXRpb25MZWF2ZVRpbWVvdXQiLCJjaGlsZEZhY3RvcnkiLCI2MTA2IiwiX2NoYWluRnVuY3Rpb24iLCJfY2hhaW5GdW5jdGlvbjIiLCJfd2FybmluZyIsIl9DaGlsZE1hcHBpbmciLCJjb250ZXh0IiwicGVyZm9ybUFwcGVhciIsImN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzIiwiY29tcG9uZW50V2lsbEFwcGVhciIsIl9oYW5kbGVEb25lQXBwZWFyaW5nIiwiY29tcG9uZW50RGlkQXBwZWFyIiwiY3VycmVudENoaWxkTWFwcGluZyIsImdldENoaWxkTWFwcGluZyIsInBlcmZvcm1MZWF2ZSIsInBlcmZvcm1FbnRlciIsImNvbXBvbmVudFdpbGxFbnRlciIsIl9oYW5kbGVEb25lRW50ZXJpbmciLCJjb21wb25lbnREaWRFbnRlciIsImNvbXBvbmVudFdpbGxMZWF2ZSIsIl9oYW5kbGVEb25lTGVhdmluZyIsImNvbXBvbmVudERpZExlYXZlIiwia2V5c1RvRW50ZXIiLCJuZXdDaGlsZHJlbiIsImNoaWxkUmVmcyIsImNvbXBvbmVudFdpbGxNb3VudCIsImtleXNUb0xlYXZlIiwiaW5pdGlhbENoaWxkTWFwcGluZyIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0Q2hpbGRNYXBwaW5nIiwicHJldkNoaWxkTWFwcGluZyIsIm1lcmdlQ2hpbGRNYXBwaW5ncyIsImhhc1ByZXYiLCJoYXNOZXh0IiwiY2hpbGRyZW5Ub1JlbmRlciIsImlzQ2FsbGJhY2tSZWYiLCJmYWN0b3J5Q2hpbGQiLCI2MTA3IiwibGVuIiwiZm4iLCI2MTA4Iiwid2FybmluZyIsIjYxMDkiLCJyZXN1bHQiLCJnZXRWYWx1ZUZvcktleSIsIm5leHRLZXlzUGVuZGluZyIsInBlbmRpbmdLZXlzIiwicHJldktleSIsImNoaWxkTWFwcGluZyIsIm5leHRLZXkiLCJwZW5kaW5nTmV4dEtleSIsIjYxMTAiLCJhZGRFbmRMaXN0ZW5lciIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfYWRkQ2xhc3MyIiwiX3JlbW92ZUNsYXNzMiIsIl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVxdWVzdEFuaW1hdGlvbkZyYW1lMiIsIl9wcm9wZXJ0aWVzIiwidHJhbnNpdGlvbkVuZCIsImFuaW1hdGlvbkVuZCIsIkNTU1RyYW5zaXRpb25Hcm91cENoaWxkIiwiY2xhc3NOYW1lQW5kTm9kZVF1ZXVlIiwidHJhbnNpdGlvblRpbWVvdXRzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bm1vdW50ZWQiLCJjbGVhclRpbWVvdXQiLCJhbmltYXRpb25UeXBlIiwiZmluaXNoQ2FsbGJhY2siLCJ0aW1lciIsInJlbW92ZUxpc3RlbmVycyIsInF1ZXVlQ2xhc3NBbmROb2RlIiwiZmluaXNoIiwicmFmSGFuZGxlIiwiZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUiLCJvbmx5IiwiNjExMSIsImZhbGxiYWNrIiwiY3VyciIsIm1zIiwicmVxIiwiY29tcGF0UmFmIiwiX2luRE9NIiwidmVuZG9ycyIsImNhbmNlbCIsInJhZiIsImdldEtleSIsInZlbmRvciIsInNvbWUiLCJyYWZLZXkiLCJjYiIsIjYxMTIiLCJfcmVhY3RIaWdobGlnaHRXb3JkcyIsIl9yZWFjdEhpZ2hsaWdodFdvcmRzMiIsIl9yZWFjdEdpZlBsYXllciIsIl9SaXBwbGUiLCJfUmlwcGxlMiIsImNoYXRCdWJibGUiLCJyaWdodEJ1YmJsZSIsImhpZ2hsaWdodE1lc3NhZ2UiLCJjaXJjbGVkVGV4dCIsImdpZkFuaW1hdG9yIiwiZGV0ZWN0b3IiLCJoaWdobGlnaHRlckZvckxlZnQiLCJoaWdobGlnaHRlckZvclJpZ2h0IiwiQ2hhdEJveCIsIlJpcHBsZUdpZiIsImFsdCIsInVuaGlnaGxpZ2h0Q2xhc3NOYW1lIiwiaGlnaGxpZ2h0Q2xhc3NOYW1lIiwic2VhcmNoV29yZHMiLCJISUdITElHSFRFUl9SRUdFWCIsInRleHRUb0hpZ2hsaWdodCIsIjYxMTMiLCJtb2R1bGVzIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX0hpZ2hsaWdodGVyIiwiX0hpZ2hsaWdodGVyMiIsIkhpZ2hsaWdodGVyIiwiX3JlZiRhY3RpdmVDbGFzc05hbWUiLCJfcmVmJGFjdGl2ZUluZGV4IiwiYWN0aXZlSW5kZXgiLCJhY3RpdmVTdHlsZSIsImF1dG9Fc2NhcGUiLCJfcmVmJGNhc2VTZW5zaXRpdmUiLCJjYXNlU2Vuc2l0aXZlIiwiZmluZENodW5rcyIsIl9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lIiwiX3JlZiRoaWdobGlnaHRTdHlsZSIsImhpZ2hsaWdodFN0eWxlIiwiX3JlZiRoaWdobGlnaHRUYWciLCJoaWdobGlnaHRUYWciLCJzYW5pdGl6ZSIsIl9yZWYkdW5oaWdobGlnaHRDbGFzc05hbWUiLCJ1bmhpZ2hsaWdodFN0eWxlIiwiY2h1bmtzIiwiX2hpZ2hsaWdodFdvcmRzQ29yZSIsImZpbmRBbGwiLCJIaWdobGlnaHRUYWciLCJoaWdobGlnaHRDb3VudCIsImhpZ2hsaWdodENsYXNzTmFtZXMiLCJoaWdobGlnaHRTdHlsZXMiLCJsb3dlcmNhc2VQcm9wcyIsIm1hcHBlZCIsIm1lbW9pemVkTG93ZXJjYXNlUHJvcHMiLCJfbWVtb2l6ZU9uZTIiLCJjaHVuayIsImhpZ2hsaWdodCIsImhpZ2hsaWdodENsYXNzIiwiaXNBY3RpdmUiLCJfbWVtb2l6ZU9uZSIsImNvbWJpbmVDaHVua3MiLCJmaWxsSW5DaHVua3MiLCJpZGVudGl0eSIsImVzY2FwZVJlZ0V4cEZuIiwiX3JlZiRmaW5kQ2h1bmtzIiwiZGVmYXVsdEZpbmRDaHVua3MiLCJjaHVua3NUb0hpZ2hsaWdodCIsInRvdGFsTGVuZ3RoIiwiX3JlZjIiLCJzb3J0IiwicHJvY2Vzc2VkQ2h1bmtzIiwibmV4dENodW5rIiwicHJldkNodW5rIiwicG9wIiwiZW5kSW5kZXgiLCJfcmVmMyIsIl9yZWYzJHNhbml0aXplIiwic2VhcmNoV29yZCIsInJlZ2V4IiwiZXhlYyIsImxhc3RJbmRleCIsIl9yZWY0IiwiYWxsQ2h1bmtzIiwiYXBwZW5kIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiUkVBQ1RfRUxFTUVOVF9UWVBFIiwiZm9yIiwiaXNWYWxpZEVsZW1lbnQiLCIkJHR5cGVvZiIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJydW4iLCJJdGVtIiwibmV4dFRpY2siLCJicm93c2VyIiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiaW52YXJpYW50IiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJ0aHJvd09uRGlyZWN0QWNjZXNzIiwiZ2V0SXRlcmF0b3JGbiIsIm1heWJlSXRlcmFibGUiLCJpdGVyYXRvckZuIiwiSVRFUkFUT1JfU1lNQk9MIiwiRkFVWF9JVEVSQVRPUl9TWU1CT0wiLCJpcyIsIlByb3BUeXBlRXJyb3IiLCJzdGFjayIsImNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyIiwiY2hlY2tUeXBlIiwicHJvcE5hbWUiLCJjb21wb25lbnROYW1lIiwicHJvcEZ1bGxOYW1lIiwic2VjcmV0IiwiQU5PTllNT1VTIiwiY2FjaGVLZXkiLCJtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSIsIm1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50IiwiY2hhaW5lZENoZWNrVHlwZSIsImNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyIiwiZXhwZWN0ZWRUeXBlIiwicHJvcFZhbHVlIiwiZ2V0UHJvcFR5cGUiLCJnZXRQcmVjaXNlVHlwZSIsImNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlciIsInR5cGVDaGVja2VyIiwiY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlciIsImV4cGVjdGVkQ2xhc3MiLCJleHBlY3RlZENsYXNzTmFtZSIsImdldENsYXNzTmFtZSIsImNyZWF0ZUVudW1UeXBlQ2hlY2tlciIsImV4cGVjdGVkVmFsdWVzIiwiY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlciIsInByb3BUeXBlIiwiY3JlYXRlVW5pb25UeXBlQ2hlY2tlciIsImFycmF5T2ZUeXBlQ2hlY2tlcnMiLCJjaGVja2VyIiwiZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nIiwiY3JlYXRlU2hhcGVUeXBlQ2hlY2tlciIsInNoYXBlVHlwZXMiLCJjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyIiwiYWxsS2V5cyIsImlzTm9kZSIsImV2ZXJ5IiwiZW50cmllcyIsImVudHJ5IiwiaXNTeW1ib2wiLCJSZWFjdFByb3BUeXBlcyIsIm1ha2VFbXB0eUZ1bmN0aW9uIiwiYXJnIiwiY29uZGl0aW9uIiwidmFsaWRhdGVGb3JtYXQiLCJhcmdJbmRleCIsInByaW50V2FybmluZyIsInRvT2JqZWN0IiwicHJvcElzRW51bWVyYWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidGVzdDEiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidGVzdDIiLCJmcm9tQ2hhckNvZGUiLCJ0ZXN0MyIsImxldHRlciIsInN5bWJvbHMiLCJ0eXBlU3BlY3MiLCJnZXRTdGFjayIsInR5cGVTcGVjTmFtZSIsImV4IiwibG9nZ2VkVHlwZUZhaWx1cmVzIiwic2hpbSIsImdldFNoaW0iLCJyZXN1bHRGbiIsInNpbXBsZUlzRXF1YWwiLCJsYXN0VGhpcyIsImxhc3RBcmdzIiwibGFzdFJlc3VsdCIsImNhbGxlZE9uY2UiLCJpc05ld0FyZ0VxdWFsVG9MYXN0IiwibmV3QXJnIiwibmV3QXJncyIsIjYxMTQiLCJnbG9iYWwiLCJpbnNwZWN0Iiwib3B0cyIsImN0eCIsInNlZW4iLCJzdHlsaXplIiwic3R5bGl6ZU5vQ29sb3IiLCJkZXB0aCIsImNvbG9ycyIsImlzQm9vbGVhbiIsInNob3dIaWRkZW4iLCJfZXh0ZW5kIiwiaXNVbmRlZmluZWQiLCJjdXN0b21JbnNwZWN0Iiwic3R5bGl6ZVdpdGhDb2xvciIsImZvcm1hdFZhbHVlIiwic3R5bGVUeXBlIiwiYXJyYXlUb0hhc2giLCJoYXNoIiwicmVjdXJzZVRpbWVzIiwiaXNGdW5jdGlvbiIsInJldCIsInByaW1pdGl2ZSIsImZvcm1hdFByaW1pdGl2ZSIsInZpc2libGVLZXlzIiwiaXNFcnJvciIsImZvcm1hdEVycm9yIiwiaXNSZWdFeHAiLCJpc0RhdGUiLCJiYXNlIiwiYnJhY2VzIiwidG9VVENTdHJpbmciLCJvdXRwdXQiLCJmb3JtYXRQcm9wZXJ0eSIsInJlZHVjZVRvU2luZ2xlU3RyaW5nIiwic2ltcGxlIiwibGluZSIsIm51bUxpbmVzRXN0IiwiY3VyIiwiYXIiLCJpc051bGxPclVuZGVmaW5lZCIsImlzT2JqZWN0Iiwib2JqZWN0VG9TdHJpbmciLCJpc1ByaW1pdGl2ZSIsInBhZCIsInRpbWVzdGFtcCIsIm1vbnRocyIsInByb3AiLCJmb3JtYXRSZWdFeHAiLCJvYmplY3RzIiwiZGVwcmVjYXRlIiwibXNnIiwiZGVwcmVjYXRlZCIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJ0cmFjZURlcHJlY2F0aW9uIiwidHJhY2UiLCJub0RlcHJlY2F0aW9uIiwiZGVidWdFbnZpcm9uIiwiZGVidWdzIiwiZGVidWdsb2ciLCJOT0RFX0RFQlVHIiwicGlkIiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImludmVyc2UiLCJncmV5IiwiYmxhY2siLCJjeWFuIiwiZ3JlZW4iLCJtYWdlbnRhIiwicmVkIiwieWVsbG93Iiwic3BlY2lhbCIsImJvb2xlYW4iLCJudWxsIiwicmVnZXhwIiwiaXNCdWZmZXIiLCJpbmhlcml0cyIsIm9yaWdpbiIsIjYxMTUiLCJjb3B5IiwiZmlsbCIsInJlYWRVSW50OCIsIjYxMTYiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiVGVtcEN0b3IiLCI2MTE3IiwiNjExOCIsIlRhYkNvbnRhaW5lciIsIlBhcGVyIiwiX1RhYnMiLCJfVGFiczIiLCJfVGFiIiwiX1RhYjIiLCJzY3JvbGxCdXR0b25zIiwiZmxleCIsImxhYmVsQ29udGFpbmVyIiwiaW5kaWNhdG9yIiwidGFiU2VsZWN0ZWQiLCJ0YWJSb290IiwidGFiV3JhcHBlciIsInRhYnNGbGV4Q29udGFpbmVyIiwidGFic1Jvb3QiLCJ0YWJzU2Nyb2xsZXIiLCJJbkNhbGxEZXRhaWxzIiwidW5zaGlmdCIsImludm9pY2VUb3RhbEFtb3VudCIsInRvdGFsSW52b2ljZUNvdW50Iiwid2hvbGVBbW91bnQiLCJmbGV4Q29udGFpbmVyIiwic2Nyb2xsZXIiLCJUYWJJbmRpY2F0b3JQcm9wcyIsIndyYXBwZXIiLCJ0ZXh0Q29sb3IiLCI2MTE5IiwiX1BvcG92ZXIiLCJfUG9wb3ZlcjIiLCJfdm9pY2VtYWlsQm94IiwiX2Rpc2FibGVkVm9pY2VtYWlsQm94IiwiQXBwIiwicG9wT3ZlciIsImZsZXhHcm93IiwiZmxleENvbHVtbiIsImhlYWQiLCJyb3VuZGVkIiwibnVtYmVycyIsImxldHRlcnMiLCJib3JkZXJTdHlsZSIsImlucHV0RGl2Iiwia2V5cGFkQ2FsbCIsInBhcGVyUHJvcHMiLCJiYWNrU3BhY2UiLCJ2b2ljZW1haWxTZW50SWNvbiIsInZvaWNlbWFpbFByb2dyZXNzUGFyZW50IiwiZXh0ZW5zaW9uQm9hcmQiLCJtZXJnaW5MZWZ0Iiwic2VuZENhcmRDb250ZW50Iiwic2VuZEJ1dHRvbiIsInZvaWNlbWFpbEJveCIsImRpc2FibGVkVm9pY2VtYWlsQm94Iiwic2VudFZvaWNlbWFpbFRleHQiLCJ2b2ljZW1haWxUZXh0Iiwic2VudFZvaWNlbWFpbEJveCIsInZvaWNlbWFpbFByb2dyZXNzIiwiY2xvc2VJY29uIiwidm9pY2VtYWlsQnRuIiwidm9pY2VtYWlsU2VudEJ0biIsImRpc2FibGVCdG4iLCJLZXlQYWQiLCJpbml0aWFsaXplVm9pY2VtYWlsRGF0YSIsInZvaWNlbWFpbFRlbXBsYXRlcyIsInZvaWNlbWFpbENsaWNrTWFwIiwidm9pY2VtYWlsU2VudE1hcCIsImhhbmRsZU9wZW4iLCJkaXNhYmxlVm9pY2VtYWlsQ2xpY2siLCJpc1ZvaWNlbWFpbEVuYWJsZWQiLCJoYW5kbGVWb2ljZW1haWxDbGljayIsInZvaWNlbWFpbFRlbXBsYXRlIiwidGVtcGxhdGVOYW1lIiwic2lwU2VuZERUTUYiLCJWT0lDRU1BSUxfQVVUT19DTE9TRV9USU1FTU9VVCIsImlzVm9pY2VtYWlsQXZhaWxhYmxlIiwiZGlzcGxheU51bWJlciIsImRpYWxsZWQiLCJpc1ZvaWNlbWFpbENsaWNrZWQiLCJWb2ljZW1haWwiLCJhbmNob3JSZWZlcmVuY2UiLCJhbmNob3JQb3NpdGlvbiIsIlBhcGVyUHJvcHMiLCJNb3JlVmVydCIsIkljb25CdXR0b24iLCJWb2ljZW1haWxXcmFwcGVyIiwiY2hhbmdlQ2FsbGVyIiwiNjEyMCIsIjYxMjEiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFj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QUksUUFDSmlULGFBQVcsUUFDWDlMLE1BQU0sVUFDTm9MLFVBQVcvRSxFQUFRaWIsTUFDbkJ6VixRQUFTckgsS0FBS29qQyxlQUVkOXNDLEVBQUFuQyxRQUFBa08sY0FBQ2hMLEVBQUFsRCxRQUFELGV6Q20xa0JMa2pGLEd5Qy9pbEJZMXRFLGFBcU9maXZFLEdBQW1CLEVBQUF0ckMsRUFBQS9pQyxZQUFXdlEsR0FBUXE5RSxHQUN0Q3p0RSxFQUFrQixTQUFBbEosR0FBQSxPQUV0QmlDLFVBQVdqQyxFQUFNaUMsWUFHYm1ILEVBQXFCLFNBQUFDLEdBQUEsT0FFekI4dUUsYUFBYyxTQUFBNXVFLEdBQUEsTUFBU0YsSUFBUyxFQUFBOVMsRUFBQTRoRixjQUFhNXVFLE16Q3Mxa0IvQ25XLEdBQVFLLFN5Q2wxa0JPLEVBQUFnRCxFQUFBbVQsU0FDYlYsRUFDQUUsSUFDQSxFQUFBd2pDLEVBQUEvaUMsWUFBV3ZRLEdBQVV3USxXQUFXLElBQVFvdUUsS3pDbTFrQnBDRSxLQUNBLFNBQVVqbEYsRUFBUUMsRzBDbnlsQnhCRCxFQUFBQyxRQUFBLDB2RTFDeXlsQk1pbEYsS0FDQSxTQUFVbGxGLEVBQVFDLEcyQzF5bEJ4QkQsRUFBQUMsUUFBQSIsImZpbGUiOiIwLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbMF0se1xuXG4vKioqLyA2MDc1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX1R5cG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHlwb2dyYXBoeSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9Db250YWN0TGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblxudmFyIF9Db250YWN0TGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250YWN0TGlzdCk7XG5cbnZhciBfc2lwVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblxudmFyIF9hY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cbnZhciBfY2FsbExvZ0FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NCk7XG5cbnZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX3JlYWN0Um91dGVyRG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfQ2FsbFByZXBEZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTcpO1xuXG52YXIgX0NhbGxQcmVwRGV0YWlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxsUHJlcERldGFpbHMpO1xuXG52YXIgX1Bvc3RDYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDkwKTtcblxudmFyIF9Qb3N0Q2FsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb3N0Q2FsbCk7XG5cbnZhciBfSW5DYWxsRGV0YWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNjExOCk7XG5cbnZhciBfSW5DYWxsRGV0YWlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbkNhbGxEZXRhaWxzKTtcblxudmFyIF9yZWFjdEhhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXG52YXIgX3JlYWN0SGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RIYW1tZXJqcyk7XG5cbnZhciBfTW9kYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblxudmFyIF9Nb2RhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RhbCk7XG5cbnZhciBfVG9vbHRpcCA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xuXG52YXIgX1Rvb2x0aXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9vbHRpcCk7XG5cbnZhciBfRmFiID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXG52YXIgX0ZhYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GYWIpO1xuXG52YXIgX05hdmlnYXRlTmV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQxKTtcblxudmFyIF9OYXZpZ2F0ZU5leHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTmF2aWdhdGVOZXh0KTtcblxudmFyIF9OYXZpZ2F0ZUJlZm9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzQwKTtcblxudmFyIF9OYXZpZ2F0ZUJlZm9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OYXZpZ2F0ZUJlZm9yZSk7XG5cbnZhciBfRHJhd2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzEpO1xuXG52YXIgX0RyYXdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EcmF3ZXIpO1xuXG52YXIgX0Fycm93RHJvcERvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Myk7XG5cbnZhciBfQXJyb3dEcm9wRG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcnJvd0Ryb3BEb3duKTtcblxudmFyIF9DdXN0b21lckRyYXdlck9wdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OCk7XG5cbnZhciBfS2V5UGFkV3JhcHBlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUxKTtcblxudmFyIF9LZXlQYWRXcmFwcGVkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0tleVBhZFdyYXBwZWQpO1xuXG52YXIgX1ZlcnRpY2FsVGltZUxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OSk7XG5cbnZhciBfVmVydGljYWxUaW1lTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WZXJ0aWNhbFRpbWVMaW5lKTtcblxudmFyIF9Wb2ljZW1haWxXcmFwcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTE5KTtcblxudmFyIF9Wb2ljZW1haWxXcmFwcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZvaWNlbWFpbFdyYXBwZXIpO1xuXG52YXIgX1RyYW5zY3JpcHRDaGF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDg1KTtcblxudmFyIF9UcmFuc2NyaXB0Q2hhdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2NyaXB0Q2hhdCk7XG5cbnZhciBfaGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cbnZhciBfQ3VzdG9tRm9vdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzApO1xuXG52YXIgX0N1c3RvbUZvb3RlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21Gb290ZXIpO1xuXG52YXIgX0ZyZWRhQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBfY29tYmluZVN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkyKTtcblxudmFyIF9iYXNlU3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFzZVN0eWxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgc3VtbWFyeURhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Myk7XG52YXIgdGVzdCA9IFwiQ3VzdG9tZXI6IEhpLiBIZWxsby4gSGV5LCBDb2xsZWN0b3I6IEkgd2FudGVkIHRvIG1ha2Ugc3VyZSB5b3UgcmVjZWl2ZWQgbXkgbm90ZS4gVGhlIHBheW1lbnQgd2FzIGR1ZSB5ZXN0ZXJkYXkuIERldGVjdGluZyBTcGVha2VyOiBnZXQgaXQgdW5kZXIgdGhlIHNlbmRlci4gSSdtIENvbGxlY3RvcjogSSBkaWRuJ3QgYSB0ZWxsIHlvdSBmb3Jnb3QuIEl0J3MgaW52b2ljZSBudW1iZXIgMzQ3LTQwMC00MDAwLiBJIHdpbGwgZW1haWwgeW91IHJpZ2h0IG5vdyBkb2VzIGEgcGVyc29uIGF0IG0uY29tIGVtYWlsIGFkZHJlc3Mgd29ya3MgYmVzdCBmb3IgeW91PyBDdXN0b21lcjogWWVhaCwgdGhhdCdzIGZpbmUuIENvbGxlY3RvcjogQmlnIEJlbmQgT2xpdmlhIGdvaW5nIHRvIG1lIHRvIG1lIHRoYXQgY2hlY2sgZm9yIHRoaXMgaW52b2ljZS4gQ3VzdG9tZXI6IEkgYWN0dWFsbHkgZG9uJ3QgaGF2ZSB0aGUgY2FzaCBmb3IgZGViYXRlIHJpZ2h0IG5vdy4gQ29sbGVjdG9yOiBPa2F5LCBJIHNlZSB3aGVuIHdlIHdpbGwgYmUgZ2V0dGluZyB5b3VyIG5leHQgcGF5bWVudC4gQ3VzdG9tZXI6IE5vcnRoZXJuIFRvb2wgaW4gdGhlIDIxc3QgYXQgeW91IHNlbmQgbWUgYSBjaGVjayBvciBUaHVyc2RheSB0aGUgMjJuZD8gSSB3b24ndCBDb2xsZWN0b3I6IDcgc2VlIGNhbiBiZSBhYmxlIHRvIHBheSB0aGUgd2hvbGUgdGhpbmcgZG9uZS4gQ29sbGVjdG9yOiBCdXQgaWYgeW91IHNlbmQgbWUgaGF2ZSB0byByZWdpc3RlciBhbmQgdGhlbiB1cCBhdCB0aGUgZW5kIG9mIHRoZSBtb250aC4gQ3VzdG9tZXI6IFRoYXQgYWN0dWFsbHkgbWlnaHQgd29yay4gQ29sbGVjdG9yOiBPa2F5LCBzb3VuZHMgZ29vZC4gSSdsbCBNYWxjb2xtIFggYW1hemluZyBtZSAkMiwwMDAgb24gVGh1cnNkYXkgdGhlIDIybmQgYW5kIEkgd2lsbCBmb2xsb3cgdXAgd2l0aCB5b3UgdGVzdGluZ1wiO1xudmFyIHRpbWVJbnRlcnZhbCA9IHZvaWQgMDtcbnZhciBhdmFpbGFibGVGaWx0ZXJPcGVyYXRpb25zID0gWydlcXVhbCcsICdub3RFcXVhbCcsICdncmVhdGVyVGhhbicsICdncmVhdGVyVGhhbk9yRXF1YWwnLCAnbGVzc1RoYW4nLCAnbGVzc1RoYW5PckVxdWFsJ107XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBhcHBGcmFtZToge1xuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgbWF4SGVpZ2h0OiBcIjEwMHZoXCJcbiAgICB9LFxuICAgIHJvb3Q6IHtcbiAgICAgIGJhY2tncm91bmRJbWFnZTogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLm1haW4sXG4gICAgICB3aWR0aDogXCI5My43NXZ3XCIsXG4gICAgICBtYXJnaW5SaWdodDogXCJhdXRvXCIsXG4gICAgICBtYXJnaW5MZWZ0OiBcImF1dG9cIixcbiAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICBwYWRkaW5nQm90dG9tOiBcIjBcIixcbiAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5XG5cbiAgICB9LFxuICAgIGhhbmdVcEljb25Jbmc6IHtcbiAgICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcbiAgICAgIHdpZHRoOiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG4gICAgY2FsbFRleHQ6IHtcbiAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcbiAgICAgIGZvbnRTaXplOiBcIjFyZW1cIlxuICAgIH0sXG4gICAgZGlhbHBhZEljb246IHtcbiAgICAgIGhlaWdodDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXG4gICAgICBwYWRkaW5nUmlnaHQ6IFwiMXJlbVwiXG4gICAgICAvLyBtYXJnaW5SaWdodDogXCIuMWVtXCIsXG5cbiAgICB9LFxuICAgIGRpYWxwYWRJY29uSW1nOiB7XG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiXG4gICAgfSxcbiAgICB2b2ljZU1haWxJY29uOiB7XG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgIGJhY2tncm91bmQ6IFwiIzVEQUFFMFwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgcGFkZGluZzogXCIxcHhcIlxuICAgIH0sXG4gICAgZ3JpZEFjY291bnQ6IHtcbiAgICAgIG1hcmdpblJpZ2h0OiBcIi4yZW1cIlxuICAgIH0sXG4gICAgZ3JpZEFjY291bnRJbWc6IHtcbiAgICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcbiAgICAgIHdpZHRoOiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiXG4gICAgfSxcbiAgICBzdGF0dXM6IHtcbiAgICAgIGZvbnRTaXplOiBcIi43cmVtXCIsXG4gICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgekluZGV4OiBcIjZcIlxuICAgIH0sXG4gICAgZHVyYXRpb246IHtcbiAgICAgIG1hcmdpblJpZ2h0OiBcIi42cmVtXCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIGN1c3RvbWVyTmFtZToge1xuICAgICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6IFwiMS43OHJlbVwiLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICBsaW5lSGVpZ2h0OiBcIjIuMDVyZW1cIlxuICAgIH0sXG4gICAgY3VzdG9tZXJOdW1iZXI6IHtcbiAgICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcbiAgICAgIGZvbnRTaXplOiBcIi44cmVtXCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgIH0sXG4gICAgdHJhbnNjcmlwdEJveDoge1xuICAgICAgaGVpZ2h0OiBcIjg2LjUwdmhcIixcbiAgICAgIC8vIHdpZHRoOiBcIjI1dmhcIixcbiAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluLFxuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICAgIH0sXG4gICAgdHJhbnNjcmlwdFRpdGxlOiB7XG4gICAgICBmb250U2l6ZTogXCIxLjJyZW1cIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIC8vIHBhZGRpbmc6IFwiMmVtIDAgMmVtIDBcIlxuICAgICAgcGFkZGluZ0xlZnQ6IFwiMXJlbVwiLFxuICAgICAgb3BhY2l0eTogMC42NSxcbiAgICAgIHBhZGRpbmdUb3A6IFwiLjVyZW1cIixcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICBmb250RmFtaWx5OiBcIlJvYm90b1wiXG4gICAgfSxcbiAgICB0cmFuc2NyaXB0VGV4dFBhcmVudDoge1xuICAgICAgd2hpdGVTcGFjZTogXCJwcmUtbGluZVwiLFxuICAgICAgbWFyZ2luVG9wOiBcIjNyZW1cIixcbiAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICBoZWlnaHQ6IFwiODUlXCIsXG4gICAgICBwYWRkaW5nOiBcIjhweCA4cHggOHB4IDBweFwiLFxuICAgICAgZm9udEZhbWlseTogXCJSb2JvdG9cIixcbiAgICAgIG1hcmdpbkxlZnQ6IFwiMXJlbVwiLFxuICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgd29yZFdyYXA6IFwiYnJlYWstd29yZFwiXG4gICAgfSxcbiAgICBuZXh0OiB7XG4gICAgICB0b3A6IFwiNTEuNCVcIixcbiAgICAgIGhlaWdodDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXG4gICAgICB3aWR0aDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXG4gICAgICByaWdodDogdGhlbWUuc3BhY2luZy51bml0ICogMC4yNSxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgekluZGV4OiBcIjJcIixcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG5cbiAgICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgICB9XG4gICAgfSxcbiAgICBwcmV2OiB7XG4gICAgICB0b3A6IFwiNTEuNCVcIixcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgaGVpZ2h0OiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcbiAgICAgIHdpZHRoOiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcbiAgICAgIHpJbmRleDogXCIyXCIsXG4gICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIG1hcmdpbkxlZnQ6IFwiLTAuNXJlbVwiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAvLyB2aXNpYmlsaXR5IDogZmFsc2UsXG4gICAgICAnJjpob3ZlciwgJiRmb2N1c1Zpc2libGUnOiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG5cbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgICB9XG4gICAgfSxcblxuICAgIGhhbmdVcEJ1dHRvbjoge1xuICAgICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgd2lkdGg6IFwiMi42NjY2NjY2NXJlbVwiXG4gICAgfSxcbiAgICBoYW5nVXBCdXR0b25JbWc6IHtcbiAgICAgIGhlaWdodDogXCIyLjY2NjY2NXJlbVwiLFxuICAgICAgd2lkdGg6IFwiMi42NjY2NjY2NXJlbVwiXG4gICAgfSxcbiAgICBkcm9wRG93bkljb246IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgfSxcbiAgICBkcm9wRG93bjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpblxuICAgIH0sXG5cbiAgICBtaWNPZmZJY29uSW1nOiB7XG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCJcblxuICAgIH0sXG4gICAgbWljT2ZmSWNvbjoge1xuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXG4gICAgICB3aWR0aDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcbiAgICAgIGNvbG9yOiBcIndoaXRlXCJcbiAgICB9LFxuXG4gICAgY2FsbGVkQ29udGFjdE5hbWU6IHtcbiAgICAgIGZvbnRTaXplOiBcIi43NnJlbVwiLFxuICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgIGxpbmVIZWlnaHQ6IFwibm9ybWFsXCJcbiAgICB9LFxuICAgIGNhbGxlZFRvQ29udGFjdERpdjoge1xuICAgICAgd2lkdGg6IFwiODAlXCJcbiAgICB9LFxuICAgIHRyYW5zY3JpcHRCb3hQYXJlbnQ6IHtcbiAgICAgIHBhZGRpbmdCb3R0b206IFwiMHB4ICFpbXBvcnRhbnRcIixcbiAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIlxuICAgIH0sXG4gICAgYXJyb3dJY29uOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBvcGFjaXR5OiAxLFxuXG4gICAgICAnJjpob3ZlciwgJiRmb2N1c1Zpc2libGUnOiB7XG4gICAgICAgIG9wYWNpdHk6IDFcbiAgICAgIH0sXG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgdG9wOiBcIjUxLjQlXCJcbiAgICB9LFxuICAgIGRpc2FibGVkQXJyb3dpY29uOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgb3BhY2l0eTogMC4yNVxuICAgIH0sXG4gICAgZGlzYWJsZWRGYWI6IHtcbiAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnQgIWltcG9ydGFudFwiXG4gICAgfSxcbiAgICBjbG9zZVN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgdG9wOiBcIjElXCIsXG4gICAgICBsZWZ0OiBcIjUwJVwiLFxuICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgZm9udFNpemU6IDQ4LFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG4gICAgY3VzdG9tZXJIaXN0b3J5TW9kYWw6IHtcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICB3aWR0aDogXCI0NSVcIixcbiAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICBib3R0b206IFwiMFwiLFxuICAgICAgb3ZlcmZsb3dXcmFwOiBcImJyZWFrLXdvcmRcIixcbiAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICBib3hTaGFkb3c6IHRoZW1lLnNoYWRvd3NbNV0sXG4gICAgICBwYWRkaW5nTGVmdDogXCIxJVwiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgbGVmdDogXCI0LjIlXCJcbiAgICB9LFxuICAgIC8vbWVudSBcbiAgICBhY3Rpb25JY29uOiB7XG4gICAgICBmb250U2l6ZTogJzJyZW0nLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgfSxcbiAgICBhY3Rpb25CdXR0b246IHtcbiAgICAgIC8vIHBhZGRpbmcgOiBcIjElXCIsXG4gICAgICBoZWlnaHQ6IFwiNC4xNjZ2d1wiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjBweFwiLFxuICAgICAgd2lkdGg6IFwiNC4xNjZ2d1wiXG4gICAgfVxuXG4gIH07XG59O1xuXG52YXIgc2FsZXMgPSBnZXRSYW1kb21Sb3dzKCk7XG5cbmZ1bmN0aW9uIGdldFJhbWRvbVJvd3MoKSB7XG4gIHZhciByb3dzID0gW107XG4gIHZhciBpdGVtID0geyBcInByb2R1Y3RcIjogXCJoZWxsb1wiLCBcInJlZ2lvblwiOiBcIkFtZXJpY2FcIiwgXCJhbW91bnRcIjogXCI1XCIsIFwic2FsZURhdGVcIjogXCIwOS8wOS8xOTk2XCIsIFwiY3VzdG9tZXJcIjogXCJCYWxyYWpcIiB9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDEwMDA7IGkrKykge1xuICAgIHJvd3MucHVzaChpdGVtKTtcbiAgfVxuXG4gIHJldHVybiByb3dzO1xufVxuXG52YXIgSW5DYWxsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEluQ2FsbCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSW5DYWxsKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluQ2FsbCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW5DYWxsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5DYWxsKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc2Nyb2xsVG9Cb3R0b20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBsZXQgY3VycmVudCA9IHRoaXMubXlSZWYuY3VycmVudDtcbiAgICAgIHZhciB0cmFuc2NyaXB0aW9uR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlLXRyYW5zY3JpcHRpb24tZ3JpZCcpO1xuICAgICAgaWYgKHRyYW5zY3JpcHRpb25HcmlkKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlLXRyYW5zY3JpcHRpb24tZ3JpZCcpLnNjcm9sbFRvcCA9IHRyYW5zY3JpcHRpb25HcmlkLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbkNvbnRhY3REcm9wZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5jb250YWN0T3BlbiA9PSB0cnVlKSBfdGhpcy5zZXRTdGF0ZSh7IGNvbnRhY3RPcGVuOiBmYWxzZSB9KTtlbHNlIF90aGlzLnNldFN0YXRlKHsgY29udGFjdE9wZW46IHRydWUgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnRvZ2dsZUNvbnRhY3RQb3BvdmVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNvbnRhY3RPcGVuOiB2YWx1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0Rm9ybWF0dGVkRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZHVyYXRpb24gPSBfdGhpcy5zdGF0ZS5jYWxsRHVyYXRpb24rKztcbiAgICAgIHZhciBociA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAzNjAwKTtcbiAgICAgIHZhciBtaW4gPSBNYXRoLmZsb29yKChkdXJhdGlvbiAtIGhyICogMzYwMCkgLyA2MCk7XG4gICAgICB2YXIgc2VjID0gTWF0aC5mbG9vcihkdXJhdGlvbiAtIGhyICogMzYwMCAtIG1pbiAqIDYwKTtcblxuICAgICAgaWYgKG1pbiA8IDEwKSB7XG4gICAgICAgIG1pbiA9IFwiMFwiICsgbWluO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VjIDwgMTApIHtcbiAgICAgICAgc2VjID0gXCIwXCIgKyBzZWM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtaW4gKyAnOicgKyBzZWM7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5Wb2ljZW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlzVm9pY2VtYWlsT3BlbjogIV90aGlzLnN0YXRlLmlzVm9pY2VtYWlsT3BlbiB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2VQb3BUaW1lbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgcG9wVGltZWxpbmU6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuUG9wVGltZWxpbmUgPSBmdW5jdGlvbiAocG9wVHlwZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBwb3BUaW1lbGluZTogdHJ1ZSwgcG9wVHlwZTogcG9wVHlwZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0VGltZWxpbmUgPSBmdW5jdGlvbiAocG9wVHlwZSkge1xuICAgICAgdmFyIGNsYXNzZXMgPSBfdGhpcy5wcm9wcy5jbGFzc2VzO1xuXG4gICAgICB2YXIgZXZlbnRzID0gXCJcIixcbiAgICAgICAgICBtYWluSGVhZGVyID0gXCJcIixcbiAgICAgICAgICBub0V2ZW50TXNnID0gXCJcIjtcbiAgICAgIGlmIChwb3BUeXBlID09PSBcIlBBWU1FTlRfSElTVE9SWVwiKSB7XG4gICAgICAgIGV2ZW50cyA9IF90aGlzLnN0YXRlLmN1c3RvbWVyLnBheW1lbnRzO1xuICAgICAgICAvLyBldmVudHM9dGhpcy5wYXltZW50cztcbiAgICAgICAgbWFpbkhlYWRlciA9IFwiUkVDRU5UIFBBWU1FTlRTXCI7XG4gICAgICAgIG5vRXZlbnRNc2cgPSBcIk5vIFBheW1lbnRzIGluIExhc3QgMzAgRGF5c1wiO1xuICAgICAgfVxuICAgICAgaWYgKHBvcFR5cGUgPT09IFwiQ09NTV9ISVNUT1JZXCIpIHtcbiAgICAgICAgZXZlbnRzID0gX3RoaXMuc3RhdGUuY29tbXVuaWNhdGlvbjtcbiAgICAgICAgLy8gZXZlbnRzPXRoaXMuY29tbXVuaWNhdGlvbjtcbiAgICAgICAgbWFpbkhlYWRlciA9IFwiQ09NTVVOSUNBVElPTiBISVNUT1JZXCI7XG4gICAgICAgIG5vRXZlbnRNc2cgPSBcIk5vIENvbW11bmljYXRpb24gSGlzdG9yeVwiO1xuICAgICAgICBmb3IgKHZhciBpIGluIGV2ZW50cykge1xuICAgICAgICAgIHZhciB0eXBlID0gZXZlbnRzW2ldLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICBpZiAodHlwZSA9PSBcIkNBTExcIikge1xuICAgICAgICAgICAgdmFyIHN0YXR1cyA9IGV2ZW50c1tpXS5jYWxsLnN0YXR1cztcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gXCItMTAwXCIpIHtcbiAgICAgICAgICAgICAgZXZlbnRzW2ldLmNvbW1UeXBlID0gXCJWT0lDRU1BSUxcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV2ZW50c1tpXS5jb21tVHlwZSA9IFwiQ0FMTFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIkNPUlJFU1BPTkRFTkNFXCIpIHtcbiAgICAgICAgICAgIGV2ZW50c1tpXS5jb21tVHlwZSA9IFwiTUFJTFwiO1xuICAgICAgICAgICAgZXZlbnRzW2ldLmN1c3RvbWVyTmFtZSA9IF90aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIChwb3BUeXBlID09IFwiQ09NTV9ISVNUT1JZXCIgfHwgcG9wVHlwZSA9PSBcIlBBWU1FTlRfSElTVE9SWVwiKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVmVydGljYWxUaW1lTGluZTIuZGVmYXVsdCwge1xuICAgICAgICAgIHBvcFR5cGU6IHBvcFR5cGUsXG4gICAgICAgICAgZXZlbnRzOiBldmVudHMsXG4gICAgICAgICAgbWFpbkhlYWRlcjogbWFpbkhlYWRlcixcbiAgICAgICAgICBub0V2ZW50TXNnOiBub0V2ZW50TXNnXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH07XG5cbiAgICBfdGhpcy50b2dnbGVNdXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBpc011dGVkOiAhX3RoaXMuc3RhdGUuaXNNdXRlZCB9KTtcbiAgICAgICgwLCBfc2lwVXRpbHMuc2lwVG9nZ2xlTXV0ZSkoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0RHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuY2FsbER1cmF0aW9uID09PSAwKSB7XG4gICAgICAgIHRpbWVJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIikgX3RoaXMuc2V0U3RhdGUoeyBjYWxsRHVyYXRpb25JbkZvcm1hdDogX3RoaXMuZ2V0Rm9ybWF0dGVkRHVyYXRpb24oKSB9KTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmNsZWFySW50ZXJ2YWxPbkhhbmd1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZUludGVydmFsKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZ1VwID0gZnVuY3Rpb24gKCkge1xuICAgICAgKDAsIF9zaXBVdGlscy5zaXBIYW5ndXApKCk7XG4gICAgICAvLyB0aGlzLnByb3BzLmNoYW5nZUNhbGxTdGF0ZSh7IGNhbGxpbmc6IGZhbHNlLCBzdGF0dXMgOiBcIkNvbm5lY3RlZCB0b1wiIH0pXG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5Wb2ljZW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlzVm9pY2VtYWlsT3BlbjogIV90aGlzLnN0YXRlLmlzVm9pY2VtYWlsT3BlbiB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3dpdGNoVG9DYWxsUHJlcFBhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNhbGxQcmVwUGFnZTogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3dpdGNoVG9DYWxsSW5DYWxsUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgY2FsbFByZXBQYWdlOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVm9pY2VtYWlsTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgLy9hZnRlciBmb3IgYWRkIGNhbGxlZF90b19uYW1lIG9yIG51bWJlciBpZiB1bmtub3cgdXNlciBhY2NvcmRpbmdseVxuXG4gICAgICB2YXIgY29udGFjdCA9IHZvaWQgMDtcbiAgICAgIHZhciBjYWxsZWROYW1lID0gX3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyBcIiBcIiArIF90aGlzLmNhbGxlZFRvTGFzdE5hbWU7XG5cbiAgICAgIGlmIChjYWxsZWROYW1lID09PSBcIlVua25vd24gXCIgfHwgY2FsbGVkTmFtZSA9PT0gXCJVbm5hbWVkIFVubmFtZWRcIikge1xuICAgICAgICBjb250YWN0ID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9OdW1iZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWN0ID0gY2FsbGVkTmFtZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lc3NhZ2UgPSAnVm9pY2VtYWlsIFBsYXllZCBmb3IgJyArIChjb250YWN0ID8gY29udGFjdCA6IFwiXCIpICsgJ1xcbic7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHsgdm9pY2VtYWlsUGxheWVkTWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMubXlSZWYgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlUmVmKCk7XG4gICAgX3RoaXMucHJvcHMuY2hhbmdlU3RhdHVzKHsgc3RhdHVzOiBcIlwiIH0pO1xuICAgIC8vIHRoaXMucHJvcHMuY2hhbmdlQ2FsbFN0YXRlKHsgY2FsbGluZzogdHJ1ZSwgc3RhdHVzOiBcInRyeWluZyB0byBjb25uZWN0XCIgfSlcbiAgICB2YXIgY29udGFjdEluZGV4ID0gdm9pZCAwLFxuICAgICAgICBjYWxsZWRUb0NvbnRhY3RJZCA9IHZvaWQgMDtcbiAgICBjb25zb2xlLmxvZyhfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZSwgXCJpbiBjYWxsIHN0YXRlXCIpO1xuICAgIGlmIChfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SW5kZXggIT0gbnVsbCkge1xuICAgICAgY29uc29sZS5sb2coXCJmaXJzdCBvbmVcIik7XG4gICAgICBjb25zb2xlLmxvZyhfdGhpcy5wcm9wcyk7XG4gICAgICBjb250YWN0SW5kZXggPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SW5kZXg7XG4gICAgICBjYWxsZWRUb0NvbnRhY3RJZCA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uaWQ7XG4gICAgICBfdGhpcy5jYWxsZWRUb051bWJlciA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyO1xuICAgICAgX3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmZpcnN0TmFtZTtcbiAgICAgIF90aGlzLmNhbGxlZFRvTGFzdE5hbWUgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmxhc3ROYW1lO1xuICAgICAgX3RoaXMuZW1haWxPZkNhbGxlZCA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZW1haWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKF90aGlzLnByb3BzKTtcbiAgICAgIGNvbnNvbGUubG9nKFwic2Vjb25kIG9uZVwiKTtcbiAgICAgIGNhbGxlZFRvQ29udGFjdElkID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdElkO1xuICAgICAgX3RoaXMuY2FsbGVkVG9OdW1iZXIgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb051bWJlcjtcbiAgICAgIF90aGlzLmNhbGxlZFRvRmlyc3ROYW1lID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9GaXJzdE5hbWU7XG4gICAgICBfdGhpcy5jYWxsZWRUb0xhc3ROYW1lID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9MYXN0TmFtZTtcbiAgICAgIF90aGlzLmVtYWlsT2ZDYWxsZWQgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5lbWFpbE9mQ2FsbGVkO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkVtYWlsIG9mIGNhbGxlZFwiLCBfdGhpcy5lbWFpbE9mQ2FsbGVkKTtcblxuICAgIF90aGlzLmNhbGxlZFRvRnVsbE5hbWUgPSBfdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSArIFwiIFwiICsgX3RoaXMuY2FsbGVkVG9MYXN0TmFtZTtcbiAgICBpZiAoX3RoaXMuY2FsbGVkVG9GdWxsTmFtZSA9PT0gXCJVbmtub3duIFwiIHx8IF90aGlzLmNhbGxlZFRvRnVsbE5hbWUgPT09IFwiVW5uYW1lZCBVbm5hbWVkXCIpIHtcbiAgICAgIF90aGlzLmNhbGxlZFRvRnVsbE5hbWUgPSBfdGhpcy5jYWxsZWRUb051bWJlcjtcbiAgICB9XG4gICAgdmFyIGxvY2F0aW9uUHJvcHMgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZTtcbiAgICB2YXIgYWNjb3VudCA9IF90aGlzLnByb3BzLmN1c3RvbWVycy5jdXN0b21lcnMuZmlsdGVyKGZ1bmN0aW9uIChjdXN0b21lcikge1xuICAgICAgcmV0dXJuIGN1c3RvbWVyLmlkID09IGxvY2F0aW9uUHJvcHMuYWNjb3VudElkO1xuICAgIH0pO1xuICAgIF90aGlzLnByb3BzLmNhbGxMb2coe1xuICAgICAgc3RhdHVzOiBcIlwiLFxuICAgICAgY29udGFjdDoge1xuICAgICAgICBpZDogY2FsbGVkVG9Db250YWN0SWRcbiAgICAgIH0sXG4gICAgICBjYWxsZWRUb051bWJlcjogX3RoaXMuY2FsbGVkVG9OdW1iZXIsXG4gICAgICBjb250YWN0SWQ6IGNhbGxlZFRvQ29udGFjdElkLFxuICAgICAgY2FsbGVkVG86IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvLFxuICAgICAgc3RhcnREYXRlVGltZTogbmV3IERhdGUoKVxuICAgIH0pO1xuICAgICgwLCBfRnJlZGFCdXR0b24uZGlzYWJsZUZyZWRhSW5DYWxsKSgpO1xuICAgICgwLCBfc2lwVXRpbHMuc2lwQ2FsbCkoX3RoaXMuY2FsbGVkVG9OdW1iZXIsIF90aGlzLnByb3BzLnVzZXIsIGFjY291bnQsIGxvY2F0aW9uUHJvcHMuY3VzdG9tZXIsIF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzKTtcbiAgICAvLyB3aGlsZSh0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nICE9IHRydWUpO1xuICAgIF90aGlzLnN0YXRlID0gX2RlZmluZVByb3BlcnR5KHtcbiAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgdm9pY2VtYWlsUGxheWVkTWVzc2FnZTogXCJcIixcbiAgICAgIHJlZGlyZWN0OiBmYWxzZSxcbiAgICAgIGNhbGxQcmVwUGFnZTogZmFsc2UsXG4gICAgICBjdXN0b21lcjogX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIsXG4gICAgICBjb21tdW5pY2F0aW9uOiBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb21tdW5pY2F0aW9uLFxuICAgICAgY2FsbER1cmF0aW9uOiAwLFxuICAgICAgY2FsbER1cmF0aW9uSW5Gb3JtYXQ6IFwiXCIsXG4gICAgICB0cmFuc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgc3VtbWFyeTogXCJbXVwiLFxuICAgICAgY29udGFjdE9wZW46IGZhbHNlLFxuICAgICAgY29sdW1uczogW3sgbmFtZTogJ3Byb2R1Y3QnLCB0aXRsZTogJ1Byb2R1Y3QnIH0sIHsgbmFtZTogJ3JlZ2lvbicsIHRpdGxlOiAnUmVnaW9uJyB9LCB7IG5hbWU6ICdhbW91bnQnLCB0aXRsZTogJ1NhbGUgQW1vdW50JyB9LCB7IG5hbWU6ICdzYWxlRGF0ZScsIHRpdGxlOiAnU2FsZSBEYXRlJyB9LCB7IG5hbWU6ICdjdXN0b21lcicsIHRpdGxlOiAnQ3VzdG9tZXInIH1dLFxuICAgICAgY3VycmVuY3lDb2x1bW5zOiBbJ2Ftb3VudCddLFxuICAgICAgcGFnZVNpemVzOiBbNSwgMTAsIDE1XSxcbiAgICAgIHJvd3M6IHNhbGVzLFxuICAgICAgaW52b2ljZXM6IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzLFxuICAgICAgaXNWb2ljZW1haWxPcGVuOiBmYWxzZVxuICAgIH0sICd0cmFuc2NyaXB0aW9uJywgXCJcIik7XG5cbiAgICBjb25zb2xlLmxvZyhfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5pbnZvaWNlcywgXCJpbiBpbmNhbGwgdXN1YWwgZmxvd1wiKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJbkNhbGwsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHt9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgY3VycmVudFRyYW5zY3JpcHRpb24gPSB0aGlzLnByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbjtcbiAgICAgIHZhciBuZXdUcmFuc2NyaXB0aW9uID0gbmV4dFByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbjtcbiAgICAgIGlmIChuZXdUcmFuc2NyaXB0aW9uICE9PSBjdXJyZW50VHJhbnNjcmlwdGlvbikge1xuICAgICAgICBjb25zb2xlLmxvZygnQXV0byBTY3JvbGxpbmcnKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRyYW5zY3JpcHRpb246IG5ld1RyYW5zY3JpcHRpb24gfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5zY3JvbGxUb0JvdHRvbSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogbmV4dFByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHt9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMpIHt9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX1JlYWN0JGNyZWF0ZUVsZW1lbnQsXG4gICAgICAgICAgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgIHRoZW1lID0gX3Byb3BzLnRoZW1lO1xuXG5cbiAgICAgIHZhciBuZXh0SWQgPSBwYXJzZUludCh0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pZCwgMTApICsgMTtcbiAgICAgIHZhciBwcmV2SWQgPSBwYXJzZUludCh0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pZCwgMTApIC0gMTtcbiAgICAgIHZhciBuZXh0VXJsID0gXCIvY2FsbHByZXAvXCIgKyBuZXh0SWQ7XG4gICAgICB2YXIgcHJldlVybCA9IFwiL2NhbGxwcmVwL1wiICsgcHJldklkO1xuICAgICAgdmFyIHhBeGlzTGFiZWxTdHlsZXMgPSB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgZm9udFNpemU6IFwiMTNweFwiLFxuICAgICAgICB3aWR0aDogXCI4MCVcIlxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIikge1xuICAgICAgICB0aGlzLnNldER1cmF0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFwcEZyYW1lIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EcmF3ZXIyLmRlZmF1bHQsIHsgdG9wSXRlbXM6ICgwLCBfQ3VzdG9tZXJEcmF3ZXJPcHRpb25zLmdldE1lbnVJdGVtcykoY2xhc3NlcywgdGhlbWUsIHRoaXMub3BlblBvcFRpbWVsaW5lKSB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbUZvb3RlcjIuZGVmYXVsdCwgbnVsbCksXG4gICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX3JlYWN0SGFtbWVyanMyLmRlZmF1bHQsXG4gICAgICAgICAgeyBvblN3aXBlTGVmdDogdGhpcy5zd2l0Y2hUb0NhbGxQcmVwUGFnZSwgb25Td2lwZVJpZ2h0OiB0aGlzLnN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2UgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucm9vdCB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9Nb2RhbDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUucG9wVGltZWxpbmUsXG4gICAgICAgICAgICAgICAgZGlzYWJsZUF1dG9Gb2N1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlUG9wVGltZWxpbmVcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY3VzdG9tZXJIaXN0b3J5TW9kYWwgfSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGltZWxpbmUodGhpcy5zdGF0ZS5wb3BUeXBlKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb3NlMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMuY2xvc2VTdHlsZSB9LFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVBvcFRpbWVsaW5lXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0ZhYjIuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgLy8gY29sb3I9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgLFxuICAgICAgICAgICAgICAgICAgeyAnYXJpYS1sYWJlbCc6ICdBZGQnLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMucHJldixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBkaXNhYmxlZDogY2xhc3Nlcy5kaXNhYmxlZEZhYiB9LFxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc3dpdGNoVG9DYWxsUHJlcFBhZ2VcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTmF2aWdhdGVCZWZvcmUyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiB0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSA/IGNsYXNzZXMuZGlzYWJsZWRBcnJvd2ljb24gOiBjbGFzc2VzLmFycm93SWNvbiB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfRmFiMi5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAvLyBjb2xvcj1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAsXG4gICAgICAgICAgICAgICAgICB7ICdhcmlhLWxhYmVsJzogJ0FkZCcsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRGYWIgfSxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLm5leHQsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc3dpdGNoVG9DYWxsSW5DYWxsUGFnZVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9OYXZpZ2F0ZU5leHQyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiAhdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPyBjbGFzc2VzLmRpc2FibGVkQXJyb3dpY29uIDogY2xhc3Nlcy5hcnJvd0ljb24gfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIHhzOiAxMiwganVzdGlmeTogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsIHN0eWxlOiB7IG1hcmdpblRvcDogXCIxLjEydmhcIiB9IH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDUsIHN0eWxlOiB7IHBhZGRpbmdMZWZ0OiBcIjBweFwiLCBwYWRkaW5nUmlnaHQ6IFwiMHB4XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWUubGVuZ3RoIDwgMjAgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBub1dyYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmN1c3RvbWVyTmFtZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX1Rvb2x0aXAyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgdGl0bGU6IHRoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vV3JhcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmN1c3RvbWVyTnVtYmVyIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgc206IDYsIGxnOiA2LCBtZDogNiwgeGw6IDUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnZmxleC1lbmQnIH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY29udGFpbmVyOiB0cnVlLCBsZzogOCwgbWQ6IDEwLCB4bDogMTAsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnZmxleC1lbmQnLCBzdHlsZTogeyBtYXJnaW5SaWdodDogXCI4LjMzM3Z3XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgc206IDksIGxnOiA5LCBtZDogOSwgeGw6IDksIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIGNsYXNzTmFtZTogY2xhc3Nlcy5jYWxsR3JpZCB9LFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgaXRlbTogdHJ1ZSwgbGc6IDcsIG1kOiA3LCB4bDogNywgc3R5bGU6IHsgY3Vyc29yOiBcInBvaW50ZXJcIiB9LCBvbkNsaWNrOiB0aGlzLm9wZW5Db250YWN0RHJvcGRvd24sIGp1c3RpZnk6ICdmbGV4LXN0YXJ0JywgYWxpZ25JdGVtczogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuY3VzdG9tZXJJY29uQ2lyY2xlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgPT09IFwiVW5uYW1lZFwiICYmIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSA9PT0gXCJVbm5hbWVkXCIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJz8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgIT09IFwiVW5uYW1lZFwiICYmIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSAhPT0gXCJVbm5hbWVkXCIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZS50b1VwcGVyQ2FzZSgpLmNoYXJBdCgwKSArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZS50b1VwcGVyQ2FzZSgpLmNoYXJBdCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGxnOiA3LCBtZDogNywgeGw6IDcsIGNsYXNzTmFtZTogY2xhc3Nlcy5jYWxsVGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHZhcmlhbnQ6ICdzcGFuJywgbm9XcmFwOiB0cnVlLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5zdGF0dXMpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNhbGxlZFRvQ29udGFjdERpdiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5vV3JhcDogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhbGxlZENvbnRhY3ROYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxlZFRvRnVsbE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmRyb3BEb3duLCBhbGlnbjogJ3JpZ2h0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQXJyb3dEcm9wRG93bjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kcm9wRG93bkljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhY3RJY29uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Db250YWN0TGlzdDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFGcm9tQ2hpbGQ6IHRoaXMudG9nZ2xlQ29udGFjdFBvcG92ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdE9wZW46IHRoaXMuc3RhdGUuY29udGFjdE9wZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkNvbnRhY3RzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0czogdGhpcy5zdGF0ZS5jdXN0b21lci5jb250YWN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcjogdGhpcy5zdGF0ZS5jdXN0b21lcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlczogdGhpcy5zdGF0ZS5pbnZvaWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXROYW1lczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q3VzdG9tZXJVcmw6IHRoaXMubmV4dFVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGl0ZW06IHRydWUsIGxnOiA1LCBtZDogNSwgeGw6IDUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnZmxleC1lbmQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmR1cmF0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY2FsbER1cmF0aW9uSW5Gb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLm1pY09mZkljb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc011dGVkICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5taWNPZmZJY29uSW1nLCBzcmM6ICcvdG92by9zdGF0aWMvdW5tdXRlLnN2ZycsIG9uQ2xpY2s6IHRoaXMudG9nZ2xlTXV0ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNNdXRlZCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMubWljT2ZmSWNvbkltZywgc3JjOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMjApLCBvbkNsaWNrOiB0aGlzLnRvZ2dsZU11dGUgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgYWxpZ246ICdyaWdodCcsIGNsYXNzTmFtZTogY2xhc3Nlcy5oYW5nVXBCdXR0b24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIChfUmVhY3QkY3JlYXRlRWxlbWVudCA9IHsgY2xhc3NOYW1lOiBjbGFzc2VzLmhhbmdVcEJ1dHRvbkltZywgb25DbGljazogdGhpcy5oYW5nVXAgfSwgX2RlZmluZVByb3BlcnR5KF9SZWFjdCRjcmVhdGVFbGVtZW50LCAnY2xhc3NOYW1lJywgY2xhc3Nlcy5oYW5nVXBJY29uSW5nKSwgX2RlZmluZVByb3BlcnR5KF9SZWFjdCRjcmVhdGVFbGVtZW50LCAnc3JjJywgX193ZWJwYWNrX3JlcXVpcmVfXyg2MTIxKSksIF9SZWFjdCRjcmVhdGVFbGVtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmRpYWxwYWRJY29uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0tleVBhZFdyYXBwZWQyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmRpYWxwYWRJY29uSW1nLCBjdXN0b21lcjogdGhpcy5zdGF0ZS5jdXN0b21lciB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy52b2ljZU1haWxJY29uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1ZvaWNlbWFpbFdyYXBwZXIyLmRlZmF1bHQsIHsgY3VzdG9tZXI6IHRoaXMuc3RhdGUuY3VzdG9tZXIsIG9uVm9pY2VtYWlsQ2xpY2s6IGZ1bmN0aW9uIG9uVm9pY2VtYWlsQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuaGFuZGxlVm9pY2VtYWlsTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmIHRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID09PSBmYWxzZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpblRvcDogXCIyLjAzN3ZoXCIgfSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgeHM6IDEyLCBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsIGp1c3RpZnk6ICdjZW50ZXInLCBzdHlsZTogeyBtYXJnaW5MZWZ0OiBcIjBweFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogOCwgYWxpZ246ICdsZWZ0Jywgc3R5bGU6IHsgcGFkZGluZ1RvcDogXCIwXCIsIHBhZGRpbmdSaWdodDogXCIxLjA0MXZ3XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbkNhbGxEZXRhaWxzMi5kZWZhdWx0LCB7IGNvbGxlY3RvcjogdGhpcy5wcm9wcy51c2VyLCBlbWFpbE9mQ2FsbGVkOiB0aGlzLmVtYWlsT2ZDYWxsZWQsIGN1c3RvbWVyOiB0aGlzLnN0YXRlLmN1c3RvbWVyLCBpbnZvaWNlczogdGhpcy5zdGF0ZS5pbnZvaWNlcywgYnVja2V0TmFtZXM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuYnVja2V0TmFtZXMgfSlcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY29udGFpbmVyOiB0cnVlLCB4czogNCwgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zY3JpcHRCb3hQYXJlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTIsIGNvbnRhaW5lcjogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zY3JpcHRCb3ggfSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zY3JpcHRUaXRsZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0NBTEwgVFJBTlNDUklQVCdcbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbGl2ZS10cmFuc2NyaXB0aW9uLWdyaWQnLCBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNjcmlwdFRleHRQYXJlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2NyaXB0Q2hhdDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uOiB0aGlzLnN0YXRlLnRyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZFRvTmFtZUluaXRpYWxzOiAoMCwgX2hlbHBlci5nZXRJbml0aWFsc0Zyb21OYW1lKSh0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICsgXCIgXCIgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5pdGlhbHM6IFwiTUVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPT09IHRydWUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FsbFByZXBEZXRhaWxzMi5kZWZhdWx0LCB7IGN1c3RvbWVyOiB0aGlzLnN0YXRlLmN1c3RvbWVyIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IGZhbHNlICYmICh0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiQ2FsbCBGYWlsZWRcIiB8fCB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT0gXCJXcm9uZyBOdW1iZXJcIiB8fCB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT0gXCJVc2VyIEJ1c3lcIikgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXJEb20uUmVkaXJlY3QsIHtcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgIHBhdGhuYW1lOiBcIi9jYWxscHJlcC9cIiArIHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICAgIHN0YXRlOiB7IG9wZW5Db250YWN0czogdHJ1ZSwgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLnRvQ2FsbEN1c3RvbWVycyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKSxcbiAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gZmFsc2UgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1Bvc3RDYWxsMi5kZWZhdWx0LCB7XG4gICAgICAgICAgdm9pY2VtYWlsTWVzc2FnZTogdGhpcy5zdGF0ZS52b2ljZW1haWxQbGF5ZWRNZXNzYWdlLFxuICAgICAgICAgIGNhbGxEdXJhdGlvbjogdGhpcy5zdGF0ZS5jYWxsRHVyYXRpb24sXG4gICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLnRvQ2FsbEN1c3RvbWVycyxcbiAgICAgICAgICBuZXh0Q3VzdG9tZXJVcmw6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUubmV4dEN1c3RvbWVyVXJsLFxuICAgICAgICAgIG9uSGFuZ3VwOiB0aGlzLmNsZWFySW50ZXJ2YWxPbkhhbmd1cCxcbiAgICAgICAgICBpbnZvaWNlczogdGhpcy5zdGF0ZS5pbnZvaWNlcyxcbiAgICAgICAgICBjdXN0b21lcjogdGhpcy5zdGF0ZS5jdXN0b21lcixcbiAgICAgICAgICBjYWxsZWRUb05hbWU6IHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyBcIiBcIiArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSxcbiAgICAgICAgICBidWNrZXROYW1lczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lcyxcbiAgICAgICAgICBjb2xsZWN0b3I6IHRoaXMucHJvcHMudXNlcixcbiAgICAgICAgICBjb250YWN0SW5kZXg6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdEluZGV4LFxuICAgICAgICAgIGNhbGxlZFRvTnVtYmVyOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyLFxuICAgICAgICAgIGluaXRpYWxUcmFuc2NyaXB0aW9uOiB0aGlzLnN0YXRlLnRyYW5zY3JpcHRpb25cbiAgICAgICAgfSksXG4gICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IGZhbHNlICYmIHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJUcnlpbmcgdG8gY29ubmVjdFwiICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyRG9tLlJlZGlyZWN0LCB7IHRvOiB7XG4gICAgICAgICAgICAgIHBhdGhuYW1lOiAnL2NhbGxwcmVwLycgKyB0aGlzLnN0YXRlLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgICBzdGF0ZTogeyBvcGVuQ29udGFjdHM6IGZhbHNlLCB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzIH1cbiAgICAgICAgICAgIH0gfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSW5DYWxsO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuXG4gICAgdXNlcjogc3RhdGUucGVyc29uYWxEZXRhaWxzLFxuICAgIGNhbGxTdGF0ZTogc3RhdGUuY2FsbFN0YXRlLFxuICAgIHRyYW5zY3JpcHRpb246IHN0YXRlLnRyYW5zY3JpcHRpb24sXG4gICAgY3VzdG9tZXJzOiBzdGF0ZS5jdXN0b21lcnNcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBjaGFuZ2VDYWxsU3RhdGU6IGZ1bmN0aW9uIGNoYW5nZUNhbGxTdGF0ZShkYXRhKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmNoYW5nZUNhbGxTdGF0ZSkoZGF0YSkpO1xuICAgIH0sXG4gICAgY2hhbmdlU3RhdHVzOiBmdW5jdGlvbiBjaGFuZ2VTdGF0dXMoZGF0YSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfYWN0aW9ucy5jaGFuZ2VTdGF0dXMpKGRhdGEpKTtcbiAgICB9LFxuICAgIGNoYW5nZVRyYW5zY3JpcHRpb246IGZ1bmN0aW9uIGNoYW5nZVRyYW5zY3JpcHRpb24oZGF0YSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfYWN0aW9ucy5jaGFuZ2VUcmFuc2NyaXB0aW9uKShkYXRhKSk7XG4gICAgfSxcbiAgICBjYWxsTG9nOiBmdW5jdGlvbiBjYWxsTG9nKGRhdGEpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2NhbGxMb2dBY3Rpb25zLmFkZEluaXRpYWxDYWxsTG9nKShkYXRhKSk7XG4gICAgfVxuICB9O1xufTtcblxudmFyIGNvbWJpbmVkU3R5bGUgPSAoMCwgX2NvbWJpbmVTdHlsZXMyLmRlZmF1bHQpKHN0eWxlcywgX2Jhc2VTdHlsZTIuZGVmYXVsdCk7XG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKCgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEluQ2FsbCkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA3Njpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2RhdGVfZm5zX2FkZERheXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9kYXRlX2Zuc19hZGRNb250aHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9kYXRlX2Zuc19hZGRZZWFyc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19kYXRlX2Zuc19kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9kYXRlX2Zuc19lYWNoRGF5T2ZJbnRlcnZhbF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9kYXRlX2Zuc19lbmRPZkRheV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODcpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9kYXRlX2Zuc19lbmRPZk1vbnRoX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2RhdGVfZm5zX2VuZE9mV2Vla19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODgpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9kYXRlX2Zuc19lbmRPZlllYXJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9kYXRlX2Zuc19nZXRIb3Vyc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfZGF0ZV9mbnNfZ2V0U2Vjb25kc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfZGF0ZV9mbnNfZ2V0WWVhcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfZGF0ZV9mbnNfaXNBZnRlcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2RhdGVfZm5zX2lzRXF1YWxfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X2RhdGVfZm5zX2lzU2FtZURheV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfZGF0ZV9mbnNfaXNWYWxpZF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfZGF0ZV9mbnNfcGFyc2VfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X2RhdGVfZm5zX3NldEhvdXJzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9kYXRlX2Zuc19zZXRNaW51dGVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9kYXRlX2Zuc19zZXRTZWNvbmRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9kYXRlX2Zuc19zZXRZZWFyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19kYXRlX2Zuc19zdGFydE9mRGF5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9kYXRlX2Zuc19zdGFydE9mTW9udGhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfZGF0ZV9mbnNfc3RhcnRPZldlZWtfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfZGF0ZV9mbnNfc3RhcnRPZlllYXJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIxKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxudmFyIERhdGVGbnNVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRlRm5zVXRpbHMoX2EpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IChfYSA9PT0gdm9pZCAwID8ge30gOiBfYSkubG9jYWxlO1xuICAgICAgICB0aGlzLmRhdGVUaW1lMTJoRm9ybWF0ID0gXCJNTU1NIGRvIGhoOm1tIGFhYWFcIjtcbiAgICAgICAgdGhpcy5kYXRlVGltZTI0aEZvcm1hdCA9IFwiTU1NTSBkbyBISDptbVwiO1xuICAgICAgICB0aGlzLnRpbWUxMmhGb3JtYXQgPSBcImhoOm1tIGFcIjtcbiAgICAgICAgdGhpcy50aW1lMjRoRm9ybWF0ID0gXCJISDptbVwiO1xuICAgICAgICB0aGlzLmRhdGVGb3JtYXQgPSBcIk1NTU0gZG9cIjtcbiAgICAgICAgdGhpcy5sb2NhbGUgPSBsb2NhbGU7XG4gICAgfVxuICAgIC8vIE5vdGU6IGRhdGUtZm5zIGlucHV0IHR5cGVzIGFyZSBtb3JlIGxlbmllbnQgdGhhbiB0aGlzIGFkYXB0ZXIsIHNvIHdlIG5lZWQgdG8gZXhwb3NlIG91ciBtb3JlXG4gICAgLy8gIHN0cmljdCBzaWduYXR1cmUgYW5kIGRlbGVnYXRlIHRvIHRoZSBtb3JlIGxlbmllbnQgc2lndGF0dXJlLiAgT3RoZXJ3aXNlLCB3ZSBoYXZlIGRvd25zdHJlYW0gdHlwZSBlcnJvcnMgdXBvbiB1c2FnZS5cbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmFkZERheXMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2RhdGVfZm5zX2FkZERheXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfZGF0ZV9mbnNfaXNWYWxpZF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERpZmYgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19kYXRlX2Zuc19kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQWZ0ZXIgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfZGF0ZV9mbnNfaXNBZnRlcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmUgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnN0YXJ0T2ZEYXkgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX2RhdGVfZm5zX3N0YXJ0T2ZEYXlfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5lbmRPZkRheSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9kYXRlX2Zuc19lbmRPZkRheV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldEhvdXJzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9kYXRlX2Zuc19nZXRIb3Vyc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnNldEhvdXJzID0gZnVuY3Rpb24gKHZhbHVlLCBjb3VudCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfZGF0ZV9mbnNfc2V0SG91cnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0TWludXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX2RhdGVfZm5zX3NldE1pbnV0ZXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U2Vjb25kcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfZGF0ZV9mbnNfZ2V0U2Vjb25kc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnNldFNlY29uZHMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9kYXRlX2Zuc19zZXRTZWNvbmRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlLCBjb3VudCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzU2FtZURheSA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9kYXRlX2Zuc19pc1NhbWVEYXlfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFN0YXJ0T2ZNb250aCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfZGF0ZV9mbnNfc3RhcnRPZk1vbnRoX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfZGF0ZV9mbnNfZ2V0WWVhcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnNldFllYXIgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9kYXRlX2Zuc19zZXRZZWFyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlLCBjb3VudCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmRhdGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZm9ybWF0U3RyaW5nKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X2RhdGVfZm5zX3BhcnNlX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlLCBmb3JtYXRTdHJpbmcsIG5ldyBEYXRlKCkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoZGF0ZSwgZm9ybWF0U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBmb3JtYXRTdHJpbmcsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNFcXVhbCA9IGZ1bmN0aW9uIChkYXRlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgaWYgKGRhdGUgPT09IG51bGwgJiYgY29tcGFyaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfZGF0ZV9mbnNfaXNFcXVhbF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc051bGwgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZSA9PT0gbnVsbDtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNBZnRlckRheSA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfZGF0ZV9mbnNfaXNBZnRlcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2RhdGVfZm5zX2VuZE9mRGF5X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQmVmb3JlRGF5ID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19kYXRlX2Zuc19zdGFydE9mRGF5X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQmVmb3JlWWVhciA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfZGF0ZV9mbnNfc3RhcnRPZlllYXJfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNBZnRlclllYXIgPSBmdW5jdGlvbiAoZGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2RhdGVfZm5zX2lzQWZ0ZXJfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9kYXRlX2Zuc19lbmRPZlllYXJfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZm9ybWF0TnVtYmVyID0gZnVuY3Rpb24gKG51bWJlclRvRm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBudW1iZXJUb0Zvcm1hdDtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TWludXRlcyA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNZXJpZGllbVRleHQgPSBmdW5jdGlvbiAoYW1wbSkge1xuICAgICAgICByZXR1cm4gYW1wbSA9PT0gXCJhbVwiID8gXCJBTVwiIDogXCJQTVwiO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXROZXh0TW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9kYXRlX2Zuc19hZGRNb250aHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgMSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFByZXZpb3VzTW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9kYXRlX2Zuc19hZGRNb250aHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgLTEpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5tZXJnZURhdGVBbmRUaW1lID0gZnVuY3Rpb24gKGRhdGUsIHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TWludXRlcyh0aGlzLnNldEhvdXJzKGRhdGUsIHRoaXMuZ2V0SG91cnModGltZSkpLCB0aGlzLmdldE1pbnV0ZXModGltZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRXZWVrZGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2RhdGVfZm5zX2VhY2hEYXlPZkludGVydmFsX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHtcbiAgICAgICAgICAgIHN0YXJ0OiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9kYXRlX2Zuc19zdGFydE9mV2Vla19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShub3csIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KSxcbiAgICAgICAgICAgIGVuZDogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19kYXRlX2Zuc19lbmRPZldlZWtfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkobm93LCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSlcbiAgICAgICAgfSwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pLm1hcChmdW5jdGlvbiAoZGF5KSB7IHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXksIFwiRUVFRUVFXCIsIHsgbG9jYWxlOiBfdGhpcy5sb2NhbGUgfSk7IH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRXZWVrQXJyYXkgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9kYXRlX2Zuc19zdGFydE9mV2Vla19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9kYXRlX2Zuc19zdGFydE9mTW9udGhfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSksIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICAgICAgdmFyIGVuZCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfZGF0ZV9mbnNfZW5kT2ZXZWVrX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfZGF0ZV9mbnNfZW5kT2ZNb250aF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlKSwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudCA9IHN0YXJ0O1xuICAgICAgICB2YXIgbmVzdGVkV2Vla3MgPSBbXTtcbiAgICAgICAgd2hpbGUgKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X2RhdGVfZm5zX2lzQmVmb3JlX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGN1cnJlbnQsIGVuZCkpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrTnVtYmVyID0gTWF0aC5mbG9vcihjb3VudCAvIDcpO1xuICAgICAgICAgICAgbmVzdGVkV2Vla3Nbd2Vla051bWJlcl0gPSBuZXN0ZWRXZWVrc1t3ZWVrTnVtYmVyXSB8fCBbXTtcbiAgICAgICAgICAgIG5lc3RlZFdlZWtzW3dlZWtOdW1iZXJdLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9kYXRlX2Zuc19hZGREYXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGN1cnJlbnQsIDEpO1xuICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmVzdGVkV2Vla3M7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFllYXJSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgIHZhciBzdGFydERhdGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9kYXRlX2Zuc19zdGFydE9mWWVhcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShzdGFydCk7XG4gICAgICAgIHZhciBlbmREYXRlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9kYXRlX2Zuc19lbmRPZlllYXJfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZW5kKTtcbiAgICAgICAgdmFyIHllYXJzID0gW107XG4gICAgICAgIHZhciBjdXJyZW50ID0gc3RhcnREYXRlO1xuICAgICAgICB3aGlsZSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoY3VycmVudCwgZW5kRGF0ZSkpIHtcbiAgICAgICAgICAgIHllYXJzLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9kYXRlX2Zuc19hZGRZZWFyc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShjdXJyZW50LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geWVhcnM7XG4gICAgfTtcbiAgICAvLyBkaXNwbGF5aW5nIG1ldGhwZHNcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldENhbGVuZGFySGVhZGVyVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBcIk1NTU0geXl5eVwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFllYXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIFwieXl5eVwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERhdGVQaWNrZXJIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIFwiRUVFLCBNTU0gZFwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERhdGVUaW1lUGlja2VySGVhZGVyVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBcIk1NTSBkXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGF5VGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBcImRcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRIb3VyVGV4dCA9IGZ1bmN0aW9uIChkYXRlLCBhbXBtKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBhbXBtID8gXCJoaFwiIDogXCJISFwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE1pbnV0ZVRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgXCJtbVwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFNlY29uZFRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgXCJzc1wiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGF0ZUZuc1V0aWxzO1xufSgpKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChEYXRlRm5zVXRpbHMpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDc3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEYXRlUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRGF0ZVBpY2tlck1vZGFsJDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIklubGluZURhdGVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEYXRlUGlja2VySW5saW5lJDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRpbWVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUaW1lUGlja2VyTW9kYWwkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5saW5lVGltZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRpbWVQaWNrZXJJbmxpbmUkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRGF0ZVRpbWVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEYXRlVGltZVBpY2tlck1vZGFsJDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIklubGluZURhdGVUaW1lUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRGF0ZVRpbWVQaWNrZXJJbmxpbmUkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQmFzZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEJhc2VQaWNrZXIkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ2FsZW5kYXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDYWxlbmRhciQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEYXlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEYXkkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVGltZVBpY2tlclZpZXdcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUaW1lUGlja2VyVmlldyQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDbG9ja1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENsb2NrJDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXI7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDkzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Byb3BfdHlwZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19yZWFjdF90ZXh0X21hc2tfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA5NCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3JlYWN0X3RleHRfbWFza19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3JlYWN0X3RleHRfbWFza19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19tYXRlcmlhbF91aV9jb3JlX0ljb25CdXR0b25fX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fbWF0ZXJpYWxfdWlfY29yZV9JbnB1dEFkb3JubWVudF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fbWF0ZXJpYWxfdWlfY29yZV9JbnB1dEFkb3JubWVudF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19tYXRlcmlhbF91aV9jb3JlX0lucHV0QWRvcm5tZW50X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fbWF0ZXJpYWxfdWlfY29yZV9UZXh0RmllbGRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX21hdGVyaWFsX3VpX2NvcmVfVGV4dEZpZWxkX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX21hdGVyaWFsX3VpX2NvcmVfVGV4dEZpZWxkX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dBY3Rpb25zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dBY3Rpb25zX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dDb250ZW50X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dDb250ZW50X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9rZXljb2RlX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19tYXRlcmlhbF91aV9jb3JlX1Rvb2xiYXJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19tYXRlcmlhbF91aV9jb3JlX1Rvb2xiYXJfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDk1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX3JlYWN0X3RyYW5zaXRpb25fZ3JvdXBfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX3JlYWN0X2RvbV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9yZWFjdF9kb21fX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfcmVhY3RfZG9tX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX21hdGVyaWFsX3VpX2NvcmVfUG9wb3Zlcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fbWF0ZXJpYWxfdWlfY29yZV9Qb3BvdmVyX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19tYXRlcmlhbF91aV9jb3JlX1BvcG92ZXJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fbWF0ZXJpYWxfdWlfY29yZV9QYXBlcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fbWF0ZXJpYWxfdWlfY29yZV9QYXBlcl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fbWF0ZXJpYWxfdWlfY29yZV9QYXBlcl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoVGhlbWVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhUaGVtZV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFRoZW1lX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX21hdGVyaWFsX3VpX2NvcmVfVGFiX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX21hdGVyaWFsX3VpX2NvcmVfVGFiX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX21hdGVyaWFsX3VpX2NvcmVfVGFic19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX21hdGVyaWFsX3VpX2NvcmVfVGFic19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX18pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgX2EgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVDb250ZXh0XCJdKShudWxsKSxcbiAgICBDb25zdW1lciA9IF9hLkNvbnN1bWVyLFxuICAgIFByb3ZpZGVyID0gX2EuUHJvdmlkZXI7XG5cbnZhciBNdWlQaWNrZXJzQ29udGV4dENvbnN1bWVyID0gQ29uc3VtZXI7XG5cbnZhciBNdWlQaWNrZXJzVXRpbHNQcm92aWRlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShNdWlQaWNrZXJzVXRpbHNQcm92aWRlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBNdWlQaWNrZXJzVXRpbHNQcm92aWRlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdXRpbHM6IG51bGxcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBVdGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBsb2NhbGUgPSBfYS5sb2NhbGUsXG4gICAgICAgIG1vbWVudCA9IF9hLm1vbWVudDtcbiAgICByZXR1cm4ge1xuICAgICAgdXRpbHM6IG5ldyBVdGlscyh7XG4gICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICBtb21lbnQ6IG1vbWVudFxuICAgICAgfSlcbiAgICB9O1xuICB9O1xuXG4gIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZTogdGhpcy5zdGF0ZS51dGlscyxcbiAgICAgIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgfSk7XG4gIH07XG5cbiAgIGZhbHNlID8gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICAgIHV0aWxzOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgbG9jYWxlOiBvbmVPZlR5cGUoW29iamVjdCwgc3RyaW5nXSksXG4gICAgY2hpbGRyZW46IG9uZU9mVHlwZShbZWxlbWVudC5pc1JlcXVpcmVkLCBhcnJheU9mKGVsZW1lbnQuaXNSZXF1aXJlZCldKS5pc1JlcXVpcmVkLFxuICAgIG1vbWVudDogZnVuY1xuICB9IDogdm9pZCAwO1xuICBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbG9jYWxlOiB1bmRlZmluZWQsXG4gICAgbW9tZW50OiB1bmRlZmluZWRcbiAgfTtcbiAgcmV0dXJuIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG5cbnZhciBjaGVja1V0aWxzID0gZnVuY3Rpb24gKHV0aWxzKSB7XG4gIGlmICghdXRpbHMpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBub3QgZmluZCB1dGlscyBpbiBjb250ZXh0LiBZb3UgZWl0aGVyIGEpIGZvcmdvdCB0byB3cmFwIHlvdXIgY29tcG9uZW50IHRyZWUgaW4gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXI7IG9yIGIpIG1peGVkIG5hbWVkIGFuZCBkaXJlY3QgZmlsZSBpbXBvcnRzLiAgUmVjb21tZW5kYXRpb246IHVzZSBuYW1lZCBpbXBvcnRzIGZyb20gdGhlIG1vZHVsZSBpbmRleC4nKTtcbiAgfVxufTtcblxudmFyIHdpdGhVdGlscyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChDb21wb25lbnQkJDEpIHtcbiAgICB2YXIgV2l0aFV0aWxzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoTXVpUGlja2Vyc0NvbnRleHRDb25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKHV0aWxzKSB7XG4gICAgICAgIGNoZWNrVXRpbHModXRpbHMpO1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ29tcG9uZW50JCQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgIH0sIHByb3BzKSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgV2l0aFV0aWxzLmRpc3BsYXlOYW1lID0gXCJXaXRoVXRpbHMoXCIgKyAoQ29tcG9uZW50JCQxLmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudCQkMS5uYW1lKSArIFwiKVwiO1xuICAgIHJldHVybiBXaXRoVXRpbHM7XG4gIH07XG59O1xuXG52YXIgZ2V0SW5pdGlhbERhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gX2EuaW5pdGlhbEZvY3VzZWREYXRlO1xuICB2YXIgaW5pdGlhbERhdGUgPSB2YWx1ZSB8fCBpbml0aWFsRm9jdXNlZERhdGUgfHwgdXRpbHMuZGF0ZSgpO1xuICB2YXIgZGF0ZSA9IHV0aWxzLmRhdGUoaW5pdGlhbERhdGUpO1xuICByZXR1cm4gdXRpbHMuaXNWYWxpZChkYXRlKSA/IGRhdGUgOiB1dGlscy5kYXRlKCk7XG59O1xuXG52YXIgQmFzZVBpY2tlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShCYXNlUGlja2VyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEJhc2VQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRhdGU6IGdldEluaXRpYWxEYXRlKF90aGlzLnByb3BzKSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGZhbHNlXG4gICAgfTtcblxuICAgIF90aGlzLmNoYW5nZURhdGUgPSBmdW5jdGlvbiAoZGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRhdGU6IGRhdGVcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UgPSBmdW5jdGlvbiAoaXNBY2NlcHRlZCwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWRcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucHJvcHMub25DaGFuZ2UobnVsbCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjY2VwdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5vbkNoYW5nZShfdGhpcy5zdGF0ZS5kYXRlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU2V0VG9kYXlEYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNoYW5nZShfdGhpcy5wcm9wcy51dGlscy5kYXRlKCksIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlID0gX2EubWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZTtcblxuICAgICAgaWYgKG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2UpIHtcbiAgICAgICAgZGF0ZSA9IHV0aWxzLm1lcmdlRGF0ZUFuZFRpbWUoX3RoaXMuc3RhdGUuZGF0ZSwgZGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRlID09PSBudWxsKSB7XG4gICAgICAgIG9uQ2hhbmdlKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuY2hhbmdlRGF0ZShkYXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlKGRhdGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucGljazEyaE9yMjRoRm9ybWF0ID0gZnVuY3Rpb24gKGRlZmF1bHQxMmhGb3JtYXQsIGRlZmF1bHQyNGhGb3JtYXQpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBhbXBtID0gX2EuYW1wbTtcblxuICAgICAgaWYgKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gZm9ybWF0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYW1wbSA/IGRlZmF1bHQxMmhGb3JtYXQgOiBkZWZhdWx0MjRoRm9ybWF0O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAobmV3RGF0ZSwgaXNGaW5pc2gpIHtcbiAgICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlzRmluaXNoID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b09rID0gX2EuYXV0b09rLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2U7XG5cbiAgICAgIF90aGlzLmNoYW5nZURhdGUobmV3RGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNGaW5pc2ggJiYgYXV0b09rKSB7XG4gICAgICAgICAgb25DaGFuZ2UobmV3RGF0ZSk7IC8vIHBhc3MgZG93biBhY2NlcHQgdHJ1ZSwgYW5kIG1ha2UgaXQgZmFsc2UgaW4gdGhlIG5leHQgdGlja1xuXG4gICAgICAgICAgX3RoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UodHJ1ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUFjY2VwdGVkQ2hhbmdlKGZhbHNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZURpc21pc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRhdGU6IGdldEluaXRpYWxEYXRlKF90aGlzLnByb3BzKVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEJhc2VQaWNrZXIucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBfYS5pbml0aWFsRm9jdXNlZERhdGU7XG5cbiAgICBpZiAocHJldlByb3BzLnZhbHVlICE9PSB2YWx1ZSB8fCBwcmV2UHJvcHMudXRpbHMubG9jYWxlICE9PSB1dGlscy5sb2NhbGUgfHwgcHJldlByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSAhPT0gaW5pdGlhbEZvY3VzZWREYXRlKSB7XG4gICAgICB0aGlzLmNoYW5nZURhdGUoZ2V0SW5pdGlhbERhdGUodGhpcy5wcm9wcykpO1xuICAgIH1cbiAgfTtcblxuICBCYXNlUGlja2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4oT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHRoaXMuc3RhdGUsIHtcbiAgICAgIHV0aWxzOiB0aGlzLnByb3BzLnV0aWxzLFxuICAgICAgY2hhbmdlRGF0ZTogdGhpcy5jaGFuZ2VEYXRlLFxuICAgICAgaGFuZGxlQWNjZXB0ZWRDaGFuZ2U6IHRoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UsXG4gICAgICBoYW5kbGVDbGVhcjogdGhpcy5oYW5kbGVDbGVhcixcbiAgICAgIGhhbmRsZUFjY2VwdDogdGhpcy5oYW5kbGVBY2NlcHQsXG4gICAgICBoYW5kbGVEaXNtaXNzOiB0aGlzLmhhbmRsZURpc21pc3MsXG4gICAgICBoYW5kbGVTZXRUb2RheURhdGU6IHRoaXMuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlOiB0aGlzLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdDogdGhpcy5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICBoYW5kbGVDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBCYXNlUGlja2VyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG52YXIgQmFzZVBpY2tlciQxID0gd2l0aFV0aWxzKCkoQmFzZVBpY2tlcik7XG5cbnZhciBkYXRlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19bXCJvbmVPZlR5cGVcIl0pKFtfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fW1wib2JqZWN0XCJdLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fW1wic3RyaW5nXCJdLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fW1wibnVtYmVyXCJdLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Byb3BfdHlwZXNfX1tcImluc3RhbmNlT2ZcIl0pKERhdGUpXSk7XG52YXIgRG9tYWluUHJvcFR5cGVzID0ge1xuICBkYXRlOiBkYXRlXG59O1xuXG52YXIgSW5wdXQgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoSW5wdXQsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gSW5wdXQoKSB7XG4gICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgSW5wdXQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBpbnB1dFJlZiA9IF9hLmlucHV0UmVmLFxuICAgICAgICBrZWVwQ2hhclBvc2l0aW9ucyA9IF9hLmtlZXBDaGFyUG9zaXRpb25zLFxuICAgICAgICByZXN0ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJpbnB1dFJlZlwiLCBcImtlZXBDaGFyUG9zaXRpb25zXCJdKTtcblxuICAgIHJldHVybiB0aGlzLnByb3BzLm1hc2sgPyBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfcmVhY3RfdGV4dF9tYXNrX19fZGVmYXVsdC5hLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcmVzdCwge1xuICAgICAga2VlcENoYXJQb3NpdGlvbnM6IGtlZXBDaGFyUG9zaXRpb25zLFxuICAgICAgcmVmOiBpbnB1dFJlZlxuICAgIH0pKSA6IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiaW5wdXRcIiwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHJlc3QsIHtcbiAgICAgIHJlZjogaW5wdXRSZWZcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gSW5wdXQucHJvcFR5cGVzID0ge1xuICAgIG1hc2s6IGFueSxcbiAgICBpbnB1dFJlZjogZnVuYy5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIElucHV0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtYXNrOiB1bmRlZmluZWRcbiAgfTtcbiAgcmV0dXJuIElucHV0O1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xuXG52YXIgZ2V0RGlzcGxheURhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgaW52YWxpZExhYmVsID0gX2EuaW52YWxpZExhYmVsLFxuICAgICAgZW1wdHlMYWJlbCA9IF9hLmVtcHR5TGFiZWwsXG4gICAgICBsYWJlbEZ1bmMgPSBfYS5sYWJlbEZ1bmM7XG4gIHZhciBpc0VtcHR5ID0gdmFsdWUgPT09IG51bGw7XG4gIHZhciBkYXRlID0gdXRpbHMuZGF0ZSh2YWx1ZSk7XG5cbiAgaWYgKGxhYmVsRnVuYykge1xuICAgIHJldHVybiBsYWJlbEZ1bmMoaXNFbXB0eSA/IG51bGwgOiBkYXRlLCBpbnZhbGlkTGFiZWwpO1xuICB9XG5cbiAgaWYgKGlzRW1wdHkpIHtcbiAgICByZXR1cm4gZW1wdHlMYWJlbDtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc1ZhbGlkKGRhdGUpID8gdXRpbHMuZm9ybWF0KGRhdGUsIGZvcm1hdCkgOiBpbnZhbGlkTGFiZWw7XG59O1xuXG52YXIgZ2V0RXJyb3IgPSBmdW5jdGlvbiAodmFsdWUsIHByb3BzKSB7XG4gIHZhciB1dGlscyA9IHByb3BzLnV0aWxzLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIG1heERhdGVNZXNzYWdlID0gcHJvcHMubWF4RGF0ZU1lc3NhZ2UsXG4gICAgICBtaW5EYXRlTWVzc2FnZSA9IHByb3BzLm1pbkRhdGVNZXNzYWdlLFxuICAgICAgaW52YWxpZERhdGVNZXNzYWdlID0gcHJvcHMuaW52YWxpZERhdGVNZXNzYWdlO1xuXG4gIGlmICghdXRpbHMuaXNWYWxpZCh2YWx1ZSkpIHtcbiAgICAvLyBpZiBudWxsIC0gZG8gbm90IHNob3cgZXJyb3JcbiAgICBpZiAodXRpbHMuaXNOdWxsKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHJldHVybiBpbnZhbGlkRGF0ZU1lc3NhZ2U7XG4gIH1cblxuICBpZiAobWF4RGF0ZSAmJiB1dGlscy5pc0FmdGVyKHZhbHVlLCB1dGlscy5lbmRPZkRheSh1dGlscy5kYXRlKG1heERhdGUpKSkgfHwgZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyKHZhbHVlLCB1dGlscy5lbmRPZkRheSh1dGlscy5kYXRlKCkpKSkge1xuICAgIHJldHVybiBtYXhEYXRlTWVzc2FnZTtcbiAgfVxuXG4gIGlmIChtaW5EYXRlICYmIHV0aWxzLmlzQmVmb3JlKHZhbHVlLCB1dGlscy5zdGFydE9mRGF5KHV0aWxzLmRhdGUobWluRGF0ZSkpKSB8fCBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZSh2YWx1ZSwgdXRpbHMuc3RhcnRPZkRheSh1dGlscy5kYXRlKCkpKSkge1xuICAgIHJldHVybiBtaW5EYXRlTWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiAnJztcbn07XG5cbnZhciBEYXRlVGV4dEZpZWxkID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKERhdGVUZXh0RmllbGQsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVRleHRGaWVsZCgpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0gRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZShfdGhpcy5wcm9wcyk7XG5cbiAgICBfdGhpcy5jb21taXRVcGRhdGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlLFxuICAgICAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgICAgICBvbkNsZWFyID0gX2Eub25DbGVhcixcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBvbkVycm9yID0gX2Eub25FcnJvcjtcblxuICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICBpZiAoX3RoaXMucHJvcHMudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlKF90aGlzLnByb3BzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2xlYXJhYmxlICYmIG9uQ2xlYXIpIHtcbiAgICAgICAgICBvbkNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvbGRWYWx1ZSA9IHV0aWxzLmRhdGUoX3RoaXMuc3RhdGUudmFsdWUpO1xuICAgICAgdmFyIG5ld1ZhbHVlID0gdXRpbHMucGFyc2UodmFsdWUsIGZvcm1hdCk7XG4gICAgICB2YXIgZXJyb3IgPSBnZXRFcnJvcihuZXdWYWx1ZSwgX3RoaXMucHJvcHMpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgZGlzcGxheVZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdmFsdWU6IGVycm9yID8gbmV3VmFsdWUgOiBvbGRWYWx1ZVxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWVycm9yICYmICF1dGlscy5pc0VxdWFsKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICBvbkNoYW5nZShuZXdWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IgJiYgb25FcnJvcikge1xuICAgICAgICAgIG9uRXJyb3IobmV3VmFsdWUsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmtleWJvYXJkKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBfdGhpcy5jb21taXRVcGRhdGVzKGUudGFyZ2V0LnZhbHVlKTtcblxuICAgICAgICBpZiAoX3RoaXMucHJvcHMub25CbHVyKSB7XG4gICAgICAgICAgX3RoaXMucHJvcHMub25CbHVyKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBvbklucHV0Q2hhbmdlID0gX2Eub25JbnB1dENoYW5nZTtcbiAgICAgIHZhciBwYXJzZWRWYWx1ZSA9IHV0aWxzLnBhcnNlKGUudGFyZ2V0LnZhbHVlLCBmb3JtYXQpO1xuXG4gICAgICBpZiAob25JbnB1dENoYW5nZSkge1xuICAgICAgICBvbklucHV0Q2hhbmdlKGUpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpc3BsYXlWYWx1ZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgIGVycm9yOiBnZXRFcnJvcihwYXJzZWRWYWx1ZSwgX3RoaXMucHJvcHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKCFfdGhpcy5wcm9wcy5rZXlib2FyZCkge1xuICAgICAgICBfdGhpcy5vcGVuUGlja2VyKGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5wcm9wcy5kaXNhYmxlT3Blbk9uRW50ZXIpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuUGlja2VyKGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmUgVE9ETyBjaGVjayBtZVxuICAgICAgICAgIF90aGlzLmNvbW1pdFVwZGF0ZXMoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5QaWNrZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljaztcblxuICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXRlVGV4dEZpZWxkLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnV0aWxzLmlzRXF1YWwodGhpcy5wcm9wcy52YWx1ZSwgcHJldlByb3BzLnZhbHVlKSB8fCBwcmV2UHJvcHMuZm9ybWF0ICE9PSB0aGlzLnByb3BzLmZvcm1hdCB8fCBwcmV2UHJvcHMubWF4RGF0ZSAhPT0gdGhpcy5wcm9wcy5tYXhEYXRlIHx8IHByZXZQcm9wcy5taW5EYXRlICE9PSB0aGlzLnByb3BzLm1pbkRhdGUgfHwgcHJldlByb3BzLmVtcHR5TGFiZWwgIT09IHRoaXMucHJvcHMuZW1wdHlMYWJlbCB8fCBwcmV2UHJvcHMudXRpbHMgIT09IHRoaXMucHJvcHMudXRpbHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZSh0aGlzLnByb3BzKSk7XG4gICAgfVxuICB9O1xuXG4gIERhdGVUZXh0RmllbGQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBhZG9ybm1lbnRQb3NpdGlvbiA9IF9hLmFkb3JubWVudFBvc2l0aW9uLFxuICAgICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICBkaXNhYmxlT3Blbk9uRW50ZXIgPSBfYS5kaXNhYmxlT3Blbk9uRW50ZXIsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGVtcHR5TGFiZWwgPSBfYS5lbXB0eUxhYmVsLFxuICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgIElucHV0QWRvcm5tZW50UHJvcHMgPSBfYS5JbnB1dEFkb3JubWVudFByb3BzLFxuICAgICAgICBJbnB1dFByb3BzID0gX2EuSW5wdXRQcm9wcyxcbiAgICAgICAgaW52YWxpZERhdGVNZXNzYWdlID0gX2EuaW52YWxpZERhdGVNZXNzYWdlLFxuICAgICAgICBpbnZhbGlkTGFiZWwgPSBfYS5pbnZhbGlkTGFiZWwsXG4gICAgICAgIGtleWJvYXJkID0gX2Eua2V5Ym9hcmQsXG4gICAgICAgIGtleWJvYXJkSWNvbiA9IF9hLmtleWJvYXJkSWNvbixcbiAgICAgICAgbGFiZWxGdW5jID0gX2EubGFiZWxGdW5jLFxuICAgICAgICBtYXNrID0gX2EubWFzayxcbiAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgIG1heERhdGVNZXNzYWdlID0gX2EubWF4RGF0ZU1lc3NhZ2UsXG4gICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICBtaW5EYXRlTWVzc2FnZSA9IF9hLm1pbkRhdGVNZXNzYWdlLFxuICAgICAgICBvbkJsdXIgPSBfYS5vbkJsdXIsXG4gICAgICAgIG9uQ2xlYXIgPSBfYS5vbkNsZWFyLFxuICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcbiAgICAgICAgcGlwZSA9IF9hLnBpcGUsXG4gICAgICAgIGtlZXBDaGFyUG9zaXRpb25zID0gX2Eua2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIFRleHRGaWVsZENvbXBvbmVudCA9IF9hLlRleHRGaWVsZENvbXBvbmVudCxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgb25JbnB1dENoYW5nZSA9IF9hLm9uSW5wdXRDaGFuZ2UsXG4gICAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJhZG9ybm1lbnRQb3NpdGlvblwiLCBcImNsZWFyYWJsZVwiLCBcImRpc2FibGVkXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVPcGVuT25FbnRlclwiLCBcImRpc2FibGVQYXN0XCIsIFwiZW1wdHlMYWJlbFwiLCBcImZvcm1hdFwiLCBcIklucHV0QWRvcm5tZW50UHJvcHNcIiwgXCJJbnB1dFByb3BzXCIsIFwiaW52YWxpZERhdGVNZXNzYWdlXCIsIFwiaW52YWxpZExhYmVsXCIsIFwia2V5Ym9hcmRcIiwgXCJrZXlib2FyZEljb25cIiwgXCJsYWJlbEZ1bmNcIiwgXCJtYXNrXCIsIFwibWF4RGF0ZVwiLCBcIm1heERhdGVNZXNzYWdlXCIsIFwibWluRGF0ZVwiLCBcIm1pbkRhdGVNZXNzYWdlXCIsIFwib25CbHVyXCIsIFwib25DbGVhclwiLCBcIm9uQ2xpY2tcIiwgXCJwaXBlXCIsIFwia2VlcENoYXJQb3NpdGlvbnNcIiwgXCJUZXh0RmllbGRDb21wb25lbnRcIiwgXCJ1dGlsc1wiLCBcInZhbHVlXCIsIFwib25JbnB1dENoYW5nZVwiXSk7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnN0YXRlLFxuICAgICAgICBkaXNwbGF5VmFsdWUgPSBfYi5kaXNwbGF5VmFsdWUsXG4gICAgICAgIGVycm9yID0gX2IuZXJyb3I7XG4gICAgdmFyIGxvY2FsSW5wdXRQcm9wcyA9IHtcbiAgICAgIGlucHV0Q29tcG9uZW50OiBJbnB1dCxcbiAgICAgIGlucHV0UHJvcHM6IHtcbiAgICAgICAgbWFzazogIWtleWJvYXJkID8gbnVsbCA6IG1hc2ssXG4gICAgICAgIHBpcGU6ICFrZXlib2FyZCA/IG51bGwgOiBwaXBlLFxuICAgICAgICBrZWVwQ2hhclBvc2l0aW9uczogIWtleWJvYXJkID8gdW5kZWZpbmVkIDoga2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIHJlYWRPbmx5OiAha2V5Ym9hcmRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGtleWJvYXJkKSB7XG4gICAgICBsb2NhbElucHV0UHJvcHNbYWRvcm5tZW50UG9zaXRpb24gKyBcIkFkb3JubWVudFwiXSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fbWF0ZXJpYWxfdWlfY29yZV9JbnB1dEFkb3JubWVudF9fX2RlZmF1bHQuYSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgICBwb3NpdGlvbjogYWRvcm5tZW50UG9zaXRpb25cbiAgICAgIH0sIElucHV0QWRvcm5tZW50UHJvcHMpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fX2RlZmF1bHQuYSwge1xuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub3BlblBpY2tlclxuICAgICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0LmEsIG51bGwsIFwiIFwiLCBrZXlib2FyZEljb24sIFwiIFwiKSkpO1xuICAgIH1cblxuICAgIHZhciBDb21wb25lbnQkJDEgPSBUZXh0RmllbGRDb21wb25lbnQ7XG5cbiAgICB2YXIgaW5wdXRQcm9wcyA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBsb2NhbElucHV0UHJvcHMsIElucHV0UHJvcHMpO1xuXG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENvbXBvbmVudCQkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgb25DbGljazogdGhpcy5oYW5kbGVGb2N1cyxcbiAgICAgIGVycm9yOiAhIWVycm9yLFxuICAgICAgaGVscGVyVGV4dDogZXJyb3IsXG4gICAgICBvbktleVByZXNzOiB0aGlzLmhhbmRsZUtleVByZXNzLFxuICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICB2YWx1ZTogZGlzcGxheVZhbHVlXG4gICAgfSwgb3RoZXIsIHtcbiAgICAgIG9uRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgIElucHV0UHJvcHM6IGlucHV0UHJvcHNcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gRGF0ZVRleHRGaWVsZC5wcm9wVHlwZXMgPSB7XG4gICAgdmFsdWU6IG9uZU9mVHlwZShbb2JqZWN0LCBzdHJpbmcsIG51bWJlciwgaW5zdGFuY2VPZihEYXRlKV0pLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgZm9ybWF0OiBzdHJpbmcsXG4gICAgb25CbHVyOiBmdW5jLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgb25DbGVhcjogZnVuYyxcbiAgICBvbkNsaWNrOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2xlYXJhYmxlOiBib29sLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBJbnB1dFByb3BzOiBzaGFwZSh7fSksXG4gICAgbWFzazogYW55LFxuICAgIG1pbkRhdGVNZXNzYWdlOiBub2RlLFxuICAgIG1heERhdGVNZXNzYWdlOiBub2RlLFxuICAgIGludmFsaWRMYWJlbDogc3RyaW5nLFxuICAgIGVtcHR5TGFiZWw6IHN0cmluZyxcbiAgICBsYWJlbEZ1bmM6IGZ1bmMsXG4gICAga2V5Ym9hcmQ6IGJvb2wsXG4gICAga2V5Ym9hcmRJY29uOiBub2RlLFxuICAgIGRpc2FibGVPcGVuT25FbnRlcjogYm9vbCxcbiAgICBpbnZhbGlkRGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgVGV4dEZpZWxkQ29tcG9uZW50OiBvbmVPZlR5cGUoW3N0cmluZywgZnVuY10pLFxuICAgIElucHV0QWRvcm5tZW50UHJvcHM6IG9iamVjdCxcbiAgICBhZG9ybm1lbnRQb3NpdGlvbjogb25lT2YoWydzdGFydCcsICdlbmQnXSksXG4gICAgb25FcnJvcjogZnVuYyxcbiAgICBvbklucHV0Q2hhbmdlOiBmdW5jLFxuICAgIHBpcGU6IGZ1bmMsXG4gICAga2VlcENoYXJQb3NpdGlvbnM6IGJvb2xcbiAgfSA6IHZvaWQgMDtcbiAgRGF0ZVRleHRGaWVsZC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIGludmFsaWRMYWJlbDogJ1Vua25vd24nLFxuICAgIGVtcHR5TGFiZWw6ICcnLFxuICAgIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICAgIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICAgIGZvcm1hdDogdW5kZWZpbmVkLFxuICAgIElucHV0UHJvcHM6IHVuZGVmaW5lZCxcbiAgICBrZXlib2FyZDogZmFsc2UsXG4gICAgbWFzazogdW5kZWZpbmVkLFxuICAgIGtleWJvYXJkSWNvbjogJ2V2ZW50JyxcbiAgICBkaXNhYmxlT3Blbk9uRW50ZXI6IGZhbHNlLFxuICAgIGludmFsaWREYXRlTWVzc2FnZTogJ0ludmFsaWQgRGF0ZSBGb3JtYXQnLFxuICAgIGNsZWFyYWJsZTogZmFsc2UsXG4gICAgb25CbHVyOiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBvbkVycm9yOiB1bmRlZmluZWQsXG4gICAgb25JbnB1dENoYW5nZTogdW5kZWZpbmVkLFxuICAgIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gICAgbWluRGF0ZU1lc3NhZ2U6ICdEYXRlIHNob3VsZCBub3QgYmUgYmVmb3JlIG1pbmltYWwgZGF0ZScsXG4gICAgbWF4RGF0ZU1lc3NhZ2U6ICdEYXRlIHNob3VsZCBub3QgYmUgYWZ0ZXIgbWF4aW1hbCBkYXRlJyxcbiAgICBUZXh0RmllbGRDb21wb25lbnQ6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fbWF0ZXJpYWxfdWlfY29yZV9UZXh0RmllbGRfX19kZWZhdWx0LmEsXG4gICAgSW5wdXRBZG9ybm1lbnRQcm9wczoge30sXG4gICAgYWRvcm5tZW50UG9zaXRpb246ICdlbmQnLFxuICAgIHBpcGU6IHVuZGVmaW5lZCxcbiAgICBrZWVwQ2hhclBvc2l0aW9uczogZmFsc2VcbiAgfTtcblxuICBEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgICAgIGRpc3BsYXlWYWx1ZTogZ2V0RGlzcGxheURhdGUocHJvcHMpLFxuICAgICAgZXJyb3I6IGdldEVycm9yKHByb3BzLnV0aWxzLmRhdGUocHJvcHMudmFsdWUpLCBwcm9wcylcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBEYXRlVGV4dEZpZWxkO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xuXG52YXIgRGF0ZVRleHRGaWVsZCQxID0gd2l0aFV0aWxzKCkoRGF0ZVRleHRGaWVsZCk7XG5cbnZhciBNb2RhbERpYWxvZyA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgb25LZXlEb3duID0gX2Eub25LZXlEb3duLFxuICAgICAgb25BY2NlcHQgPSBfYS5vbkFjY2VwdCxcbiAgICAgIG9uRGlzbWlzcyA9IF9hLm9uRGlzbWlzcyxcbiAgICAgIG9uQ2xlYXIgPSBfYS5vbkNsZWFyLFxuICAgICAgb25TZXRUb2RheSA9IF9hLm9uU2V0VG9kYXksXG4gICAgICBva0xhYmVsID0gX2Eub2tMYWJlbCxcbiAgICAgIGNhbmNlbExhYmVsID0gX2EuY2FuY2VsTGFiZWwsXG4gICAgICBjbGVhckxhYmVsID0gX2EuY2xlYXJMYWJlbCxcbiAgICAgIHRvZGF5TGFiZWwgPSBfYS50b2RheUxhYmVsLFxuICAgICAgY2xlYXJhYmxlID0gX2EuY2xlYXJhYmxlLFxuICAgICAgc2hvd1RvZGF5QnV0dG9uID0gX2Euc2hvd1RvZGF5QnV0dG9uLFxuICAgICAgc2hvd1RhYnMgPSBfYS5zaG93VGFicyxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzZXNcIiwgXCJvbktleURvd25cIiwgXCJvbkFjY2VwdFwiLCBcIm9uRGlzbWlzc1wiLCBcIm9uQ2xlYXJcIiwgXCJvblNldFRvZGF5XCIsIFwib2tMYWJlbFwiLCBcImNhbmNlbExhYmVsXCIsIFwiY2xlYXJMYWJlbFwiLCBcInRvZGF5TGFiZWxcIiwgXCJjbGVhcmFibGVcIiwgXCJzaG93VG9kYXlCdXR0b25cIiwgXCJzaG93VGFic1wiXSk7XG5cbiAgdmFyIF9iLCBfYywgX2Q7XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICByb2xlOiBcImRpYWxvZ1wiLFxuICAgIG9uQ2xvc2U6IG9uRGlzbWlzcyxcbiAgICBjbGFzc2VzOiB7XG4gICAgICBwYXBlcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMuZGlhbG9nUm9vdCwgKF9iID0ge30sIF9iW2NsYXNzZXMuZGlhbG9nV2l0aFRhYnNdID0gc2hvd1RhYnMsIF9iKSlcbiAgICB9XG4gIH0sIG90aGVyKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fX2RlZmF1bHQuYSwge1xuICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICBvbktleURvd246IG9uS2V5RG93blxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dDb250ZW50X19fZGVmYXVsdC5hLCB7XG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMuZGlhbG9nLCAoX2MgPSB7fSwgX2NbY2xhc3Nlcy5kaWFsb2dXaXRoVGFic10gPSBzaG93VGFicywgX2MpKVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dBY3Rpb25zX19fZGVmYXVsdC5hLCB7XG4gICAgY2xhc3Nlczoge1xuICAgICAgcm9vdDogY2xlYXJhYmxlIHx8IHNob3dUb2RheUJ1dHRvbiA/IGNsYXNzZXMuZGlhbG9nQWN0aW9ucyA6IHVuZGVmaW5lZCxcbiAgICAgIGFjdGlvbjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMuZGlhbG9nQWN0aW9uLCAoX2QgPSB7fSwgX2RbY2xhc3Nlcy5jbGVhcmFibGVEaWFsb2dBY3Rpb25dID0gY2xlYXJhYmxlLCBfZFtjbGFzc2VzLnRvZGF5RGlhbG9nQWN0aW9uXSA9ICFjbGVhcmFibGUgJiYgc2hvd1RvZGF5QnV0dG9uLCBfZCkpXG4gICAgfVxuICB9LCBjbGVhcmFibGUgJiYgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fX2RlZmF1bHQuYSwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkNsZWFyXG4gIH0sIGNsZWFyTGFiZWwpLCAhY2xlYXJhYmxlICYmIHNob3dUb2RheUJ1dHRvbiAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX21hdGVyaWFsX3VpX2NvcmVfQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uU2V0VG9kYXlcbiAgfSwgdG9kYXlMYWJlbCksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fX19kZWZhdWx0LmEsIHtcbiAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgb25DbGljazogb25EaXNtaXNzXG4gIH0sIGNhbmNlbExhYmVsKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fX2RlZmF1bHQuYSwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkFjY2VwdFxuICB9LCBva0xhYmVsKSkpO1xufTtcbk1vZGFsRGlhbG9nLmRpc3BsYXlOYW1lID0gJ01vZGFsRGlhbG9nJztcbiBmYWxzZSA/IE1vZGFsRGlhbG9nLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgb25LZXlEb3duOiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uQWNjZXB0OiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uRGlzbWlzczogZnVuYy5pc1JlcXVpcmVkLFxuICBvbkNsZWFyOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBva0xhYmVsOiBub2RlLmlzUmVxdWlyZWQsXG4gIGNhbmNlbExhYmVsOiBub2RlLmlzUmVxdWlyZWQsXG4gIGNsZWFyTGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xlYXJhYmxlOiBib29sLmlzUmVxdWlyZWQsXG4gIHRvZGF5TGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgc2hvd1RvZGF5QnV0dG9uOiBib29sLmlzUmVxdWlyZWQsXG4gIG9uU2V0VG9kYXk6IGZ1bmMuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcbnZhciBkaWFsb2dXaWR0aCA9IDMxMDtcbnZhciBkaWFsb2dIZWlnaHQgPSA0MDU7XG52YXIgZGlhbG9nSGVpZ2h0V2l0aFRhYnMgPSA0NTU7XG52YXIgc3R5bGVzID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX19bXCJjcmVhdGVTdHlsZXNcIl0pKHtcbiAgZGlhbG9nUm9vdDoge1xuICAgIG1pbldpZHRoOiBkaWFsb2dXaWR0aCxcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodFxuICB9LFxuICBkaWFsb2c6IHtcbiAgICB3aWR0aDogZGlhbG9nV2lkdGgsXG4gICAgbWluSGVpZ2h0OiBkaWFsb2dIZWlnaHQsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfSxcbiAgZGlhbG9nV2l0aFRhYnM6IHtcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodFdpdGhUYWJzXG4gIH0sXG4gIGRpYWxvZ0FjdGlvbnM6IHtcbiAgICAvLyBzZXQganVzdGlmeUNvbnRlbnQgdG8gZGVmYXVsdCB2YWx1ZSB0byBmaXggSUUxMSBsYXlvdXQgYnVnXG4gICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kbXRyS292YWxlbmtvL21hdGVyaWFsLXVpLXBpY2tlcnMvcHVsbC8yNjdcbiAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnXG4gIH0sXG4gIGNsZWFyYWJsZURpYWxvZ0FjdGlvbjoge1xuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgbWFyZ2luUmlnaHQ6ICdhdXRvJ1xuICAgIH1cbiAgfSxcbiAgdG9kYXlEaWFsb2dBY3Rpb246IHtcbiAgICAnJjpmaXJzdC1jaGlsZCc6IHtcbiAgICAgIG1hcmdpblJpZ2h0OiAnYXV0bydcbiAgICB9XG4gIH0sXG4gIGRpYWxvZ0FjdGlvbjogey8vIGVtcHR5IGJ1dCBtYXkgYmUgbmVlZGVkIGZvciBvdmVycmlkZVxuICB9XG59KTtcbnZhciBNb2RhbERpYWxvZyQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX19bXCJ3aXRoU3R5bGVzXCJdKShzdHlsZXMsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNNb2RhbCdcbn0pKE1vZGFsRGlhbG9nKTtcblxudmFyIE1vZGFsV3JhcHBlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShNb2RhbFdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gTW9kYWxXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fX2RlZmF1bHQoKShldmVudCkpIHtcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICAgIF90aGlzLmhhbmRsZUFjY2VwdCgpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBrZXljb2RlIGlzIG5vdCBoYW5kbGVkLCBzdG9wIGV4ZWN1dGlvblxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gaWYgZXZlbnQgd2FzIGhhbmRsZWQgcHJldmVudCBvdGhlciBzaWRlIGVmZmVjdHNcblxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZXRUb2RheURhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25TZXRUb2RheSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblNldFRvZGF5KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25PcGVuKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uT3BlbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjY2VwdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlKCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkFjY2VwdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkFjY2VwdCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVEaXNtaXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRGlzbWlzcykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkRpc21pc3MoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DbGVhcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE1vZGFsV3JhcHBlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgLy8gb25seSBpZiBhY2NlcHQgPSB0cnVlIGNsb3NlIHRoZSBkaWFsb2dcbiAgICBpZiAobmV4dFByb3BzLmlzQWNjZXB0ZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9wZW46IGZhbHNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIE1vZGFsV3JhcHBlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgb25BY2NlcHQgPSBfYS5vbkFjY2VwdCxcbiAgICAgICAgb25EaXNtaXNzID0gX2Eub25EaXNtaXNzLFxuICAgICAgICBpbnZhbGlkTGFiZWwgPSBfYS5pbnZhbGlkTGFiZWwsXG4gICAgICAgIGxhYmVsRnVuYyA9IF9hLmxhYmVsRnVuYyxcbiAgICAgICAgb2tMYWJlbCA9IF9hLm9rTGFiZWwsXG4gICAgICAgIGNhbmNlbExhYmVsID0gX2EuY2FuY2VsTGFiZWwsXG4gICAgICAgIGNsZWFyTGFiZWwgPSBfYS5jbGVhckxhYmVsLFxuICAgICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICAgIHRvZGF5TGFiZWwgPSBfYS50b2RheUxhYmVsLFxuICAgICAgICBzaG93VG9kYXlCdXR0b24gPSBfYS5zaG93VG9kYXlCdXR0b24sXG4gICAgICAgIG9uT3BlbiA9IF9hLm9uT3BlbixcbiAgICAgICAgb25DbG9zZSA9IF9hLm9uQ2xvc2UsXG4gICAgICAgIG9uU2V0VG9kYXkgPSBfYS5vblNldFRvZGF5LFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgRGlhbG9nUHJvcHMgPSBfYS5EaWFsb2dQcm9wcyxcbiAgICAgICAgc2hvd1RhYnMgPSBfYS5zaG93VGFicyxcbiAgICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiY2hpbGRyZW5cIiwgXCJvbkFjY2VwdFwiLCBcIm9uRGlzbWlzc1wiLCBcImludmFsaWRMYWJlbFwiLCBcImxhYmVsRnVuY1wiLCBcIm9rTGFiZWxcIiwgXCJjYW5jZWxMYWJlbFwiLCBcImNsZWFyTGFiZWxcIiwgXCJjbGVhcmFibGVcIiwgXCJ0b2RheUxhYmVsXCIsIFwic2hvd1RvZGF5QnV0dG9uXCIsIFwib25PcGVuXCIsIFwib25DbG9zZVwiLCBcIm9uU2V0VG9kYXlcIiwgXCJpc0FjY2VwdGVkXCIsIFwiRGlhbG9nUHJvcHNcIiwgXCJzaG93VGFic1wiXSk7XG5cbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJGcmFnbWVudFwiXSwgbnVsbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRleHRGaWVsZCQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbixcbiAgICAgIC8vIG9uRm9jdXM9e3RoaXMudG9nZ2xlUGlja2VyfSA8LSBDdXJyZW50bHkgbm90IHByb3Blcmx5IHdvcmtzIHdpdGggLmJsdXIoKSBvbiBUZXh0RmllbGRcbiAgICAgIGludmFsaWRMYWJlbDogaW52YWxpZExhYmVsLFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBjbGVhcmFibGU6IGNsZWFyYWJsZVxuICAgIH0sIG90aGVyKSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKE1vZGFsRGlhbG9nJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHNob3dUYWJzOiBzaG93VGFicyxcbiAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbixcbiAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuICAgICAgb25DbGVhcjogdGhpcy5oYW5kbGVDbGVhcixcbiAgICAgIG9uQWNjZXB0OiB0aGlzLmhhbmRsZUFjY2VwdCxcbiAgICAgIG9uRGlzbWlzczogdGhpcy5oYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogdGhpcy5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICBjbGVhckxhYmVsOiBjbGVhckxhYmVsLFxuICAgICAgdG9kYXlMYWJlbDogdG9kYXlMYWJlbCxcbiAgICAgIG9rTGFiZWw6IG9rTGFiZWwsXG4gICAgICBjYW5jZWxMYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICBjbGVhcmFibGU6IGNsZWFyYWJsZSxcbiAgICAgIHNob3dUb2RheUJ1dHRvbjogc2hvd1RvZGF5QnV0dG9uLFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfSwgRGlhbG9nUHJvcHMpKSk7XG4gIH07XG5cbiAgIGZhbHNlID8gTW9kYWxXcmFwcGVyLnByb3BUeXBlcyA9IHtcbiAgICBva0xhYmVsOiBub2RlLFxuICAgIGNhbmNlbExhYmVsOiBub2RlLFxuICAgIGNsZWFyTGFiZWw6IG5vZGUsXG4gICAgY2xlYXJhYmxlOiBib29sLFxuICAgIHRvZGF5TGFiZWw6IHN0cmluZyxcbiAgICBzaG93VG9kYXlCdXR0b246IGJvb2wsXG4gICAgb25PcGVuOiBmdW5jLFxuICAgIGZvcm1hdDogc3RyaW5nLFxuICAgIERpYWxvZ1Byb3BzOiBvYmplY3QsXG4gICAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGludmFsaWRMYWJlbDogbm9kZSxcbiAgICBsYWJlbEZ1bmM6IGZ1bmMsXG4gICAgb25DbG9zZTogZnVuYyxcbiAgICBvbkFjY2VwdDogZnVuYyxcbiAgICBvbkRpc21pc3M6IGZ1bmMsXG4gICAgb25DbGVhcjogZnVuYyxcbiAgICBvblNldFRvZGF5OiBmdW5jLFxuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgaXNBY2NlcHRlZDogYm9vbC5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIE1vZGFsV3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaW52YWxpZExhYmVsOiB1bmRlZmluZWQsXG4gICAgdmFsdWU6IG5ldyBEYXRlKCksXG4gICAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gICAgb2tMYWJlbDogJ09LJyxcbiAgICBjYW5jZWxMYWJlbDogJ0NhbmNlbCcsXG4gICAgY2xlYXJMYWJlbDogJ0NsZWFyJyxcbiAgICB0b2RheUxhYmVsOiAnVG9kYXknLFxuICAgIGNsZWFyYWJsZTogZmFsc2UsXG4gICAgc2hvd1RvZGF5QnV0dG9uOiBmYWxzZSxcbiAgICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgICBvbkFjY2VwdDogdW5kZWZpbmVkLFxuICAgIG9uRGlzbWlzczogdW5kZWZpbmVkLFxuICAgIG9uQ2xlYXI6IHVuZGVmaW5lZCxcbiAgICBvbk9wZW46IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlOiB1bmRlZmluZWQsXG4gICAgb25TZXRUb2RheTogdW5kZWZpbmVkLFxuICAgIERpYWxvZ1Byb3BzOiB1bmRlZmluZWQsXG4gICAgaXNBY2NlcHRlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIE1vZGFsV3JhcHBlcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcblxudmFyIFBpY2tlclRvb2xiYXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImNsYXNzZXNcIl0pO1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19tYXRlcmlhbF91aV9jb3JlX1Rvb2xiYXJfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnRvb2xiYXIsIGNsYXNzTmFtZSlcbiAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG59O1xuXG4gZmFsc2UgPyBQaWNrZXJUb29sYmFyLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IGFycmF5T2Yobm9kZSkuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIGNsYXNzZXM6IGFueS5pc1JlcXVpcmVkLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuUGlja2VyVG9vbGJhci5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJydcbn07XG52YXIgc3R5bGVzJDEgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBoZWlnaHQ6IDEwMCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS50eXBlID09PSAnbGlnaHQnID8gdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmRbXCJkZWZhdWx0XCJdXG4gICAgfVxuICB9KTtcbn07XG52YXIgUGlja2VyVG9vbGJhciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkMSwge1xuICBuYW1lOiAnTXVpUGlja2Vyc1Rvb2xiYXInXG59KShQaWNrZXJUb29sYmFyKTtcblxudmFyIFRvb2xiYXJCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgc2VsZWN0ZWQgPSBfYS5zZWxlY3RlZCxcbiAgICAgIGxhYmVsID0gX2EubGFiZWwsXG4gICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShfYSwgW1wiY2xhc3Nlc1wiLCBcInNlbGVjdGVkXCIsIFwibGFiZWxcIiwgXCJjbGFzc05hbWVcIl0pO1xuXG4gIHZhciBfYjtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X19fZGVmYXVsdC5hLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgY2xhc3NOYW1lOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy50b29sYmFyQnRuLCBjbGFzc05hbWUsIChfYiA9IHt9LCBfYltjbGFzc2VzLnRvb2xiYXJCdG5TZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2IpKVxuICB9LCBvdGhlciksIGxhYmVsKTtcbn07XG5cbiBmYWxzZSA/IFRvb2xiYXJCdXR0b24ucHJvcFR5cGVzID0ge1xuICBzZWxlY3RlZDogYm9vbC5pc1JlcXVpcmVkLFxuICBsYWJlbDogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IGFueS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcblRvb2xiYXJCdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnXG59O1xudmFyIHN0eWxlcyQyID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdG9vbGJhckJ0bjoge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41NCknXG4gICAgfSxcbiAgICB0b29sYmFyQnRuU2VsZWN0ZWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZVxuICAgIH1cbiAgfTtcbn07XG52YXIgVG9vbGJhckJ1dHRvbiQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkMiwge1xuICBuYW1lOiAnTXVpUGlja2Vyc1Rvb2xiYXJCdXR0b24nXG59KShUb29sYmFyQnV0dG9uKTtcblxudmFyIGZpbmRDbG9zZXN0RW5hYmxlZERhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9hLnNob3VsZERpc2FibGVEYXRlO1xuICB2YXIgdG9kYXkgPSB1dGlscy5zdGFydE9mRGF5KHV0aWxzLmRhdGUoKSk7XG4gIG1pbkRhdGUgPSBtaW5EYXRlICYmIHV0aWxzLmRhdGUobWluRGF0ZSk7XG4gIG1heERhdGUgPSBtYXhEYXRlICYmIHV0aWxzLmRhdGUobWF4RGF0ZSk7XG5cbiAgaWYgKGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlKG1pbkRhdGUsIHRvZGF5KSkge1xuICAgIG1pbkRhdGUgPSB0b2RheTtcbiAgfVxuXG4gIGlmIChkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXIobWF4RGF0ZSwgdG9kYXkpKSB7XG4gICAgbWF4RGF0ZSA9IHRvZGF5O1xuICB9XG5cbiAgdmFyIGZvcndhcmQgPSB1dGlscy5kYXRlKGRhdGUpO1xuICB2YXIgYmFja3dhcmQgPSB1dGlscy5kYXRlKGRhdGUpO1xuXG4gIGlmICh1dGlscy5pc0JlZm9yZShkYXRlLCBtaW5EYXRlKSkge1xuICAgIGZvcndhcmQgPSBtaW5EYXRlO1xuICAgIGJhY2t3YXJkID0gbnVsbDtcbiAgfVxuXG4gIGlmICh1dGlscy5pc0FmdGVyKGRhdGUsIG1heERhdGUpKSB7XG4gICAgaWYgKGJhY2t3YXJkKSB7XG4gICAgICBiYWNrd2FyZCA9IG1heERhdGU7XG4gICAgfVxuXG4gICAgZm9yd2FyZCA9IG51bGw7XG4gIH1cblxuICB3aGlsZSAoZm9yd2FyZCB8fCBiYWNrd2FyZCkge1xuICAgIGlmIChmb3J3YXJkICYmIHV0aWxzLmlzQWZ0ZXIoZm9yd2FyZCwgbWF4RGF0ZSkpIHtcbiAgICAgIGZvcndhcmQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChiYWNrd2FyZCAmJiB1dGlscy5pc0JlZm9yZShiYWNrd2FyZCwgbWluRGF0ZSkpIHtcbiAgICAgIGJhY2t3YXJkID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgaWYgKCFzaG91bGREaXNhYmxlRGF0ZShmb3J3YXJkKSkge1xuICAgICAgICByZXR1cm4gZm9yd2FyZDtcbiAgICAgIH1cblxuICAgICAgZm9yd2FyZCA9IHV0aWxzLmFkZERheXMoZm9yd2FyZCwgMSk7XG4gICAgfVxuXG4gICAgaWYgKGJhY2t3YXJkKSB7XG4gICAgICBpZiAoIXNob3VsZERpc2FibGVEYXRlKGJhY2t3YXJkKSkge1xuICAgICAgICByZXR1cm4gYmFja3dhcmQ7XG4gICAgICB9XG5cbiAgICAgIGJhY2t3YXJkID0gdXRpbHMuYWRkRGF5cyhiYWNrd2FyZCwgLTEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIGFuaW1hdGlvbkR1cmF0aW9uID0gMzUwO1xuXG52YXIgU2xpZGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICB0cmFuc0tleSA9IF9hLnRyYW5zS2V5LFxuICAgICAgc2xpZGVEaXJlY3Rpb24gPSBfYS5zbGlkZURpcmVjdGlvbjtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fW1wiVHJhbnNpdGlvbkdyb3VwXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy50cmFuc2l0aW9uQ29udGFpbmVyLCBjbGFzc05hbWUpXG4gIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fW1wiQ1NTVHJhbnNpdGlvblwiXSwge1xuICAgIGtleTogdHJhbnNLZXksXG4gICAgbW91bnRPbkVudGVyOiB0cnVlLFxuICAgIHVubW91bnRPbkV4aXQ6IHRydWUsXG4gICAgdGltZW91dDogYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZXM6IHtcbiAgICAgIGVudGVyOiBjbGFzc2VzW1wic2xpZGVFbnRlci1cIiArIHNsaWRlRGlyZWN0aW9uXSxcbiAgICAgIGVudGVyQWN0aXZlOiBjbGFzc2VzLnNsaWRlRW50ZXJBY3RpdmUsXG4gICAgICBleGl0OiBjbGFzc2VzLnNsaWRlRXhpdCxcbiAgICAgIGV4aXRBY3RpdmU6IGNsYXNzZXNbXCJzbGlkZUV4aXRBY3RpdmVMZWZ0LVwiICsgc2xpZGVEaXJlY3Rpb25dXG4gICAgfVxuICB9KSk7XG59O1xuXG4gZmFsc2UgPyBTbGlkZVRyYW5zaXRpb24ucHJvcFR5cGVzID0ge1xuICBjbGFzc2VzOiBzaGFwZSh7fSkuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIHNsaWRlRGlyZWN0aW9uOiBvbmVPZihbJ2xlZnQnLCAncmlnaHQnXSkuaXNSZXF1aXJlZCxcbiAgdHJhbnNLZXk6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuU2xpZGVUcmFuc2l0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiB1bmRlZmluZWRcbn07XG52YXIgc3R5bGVzJDMgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgdmFyIHNsaWRlVHJhbnNpdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgndHJhbnNmb3JtJywge1xuICAgIGR1cmF0aW9uOiBhbmltYXRpb25EdXJhdGlvbixcbiAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoMC4zNSwgMC44LCAwLjQsIDEpJ1xuICB9KTtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgdHJhbnNpdGlvbkNvbnRhaW5lcjoge1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgJyYgPiAqJzoge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfVxuICAgIH0sXG4gICAgJ3NsaWRlRW50ZXItbGVmdCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDEwMCUpJ1xuICAgIH0sXG4gICAgJ3NsaWRlRW50ZXItcmlnaHQnOiB7XG4gICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtMTAwJSknXG4gICAgfSxcbiAgICBzbGlkZUVudGVyQWN0aXZlOiB7XG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCUpJyxcbiAgICAgIHRyYW5zaXRpb246IHNsaWRlVHJhbnNpdGlvblxuICAgIH0sXG4gICAgc2xpZGVFeGl0OiB7XG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCUpJ1xuICAgIH0sXG4gICAgJ3NsaWRlRXhpdEFjdGl2ZUxlZnQtbGVmdCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0yMDAlKScsXG4gICAgICB0cmFuc2l0aW9uOiBzbGlkZVRyYW5zaXRpb25cbiAgICB9LFxuICAgICdzbGlkZUV4aXRBY3RpdmVMZWZ0LXJpZ2h0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMjAwJSknLFxuICAgICAgdHJhbnNpdGlvbjogc2xpZGVUcmFuc2l0aW9uXG4gICAgfVxuICB9KTtcbn07XG52YXIgU2xpZGVUcmFuc2l0aW9uJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQzLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzU2xpZGVUcmFuc2l0aW9uJ1xufSkoU2xpZGVUcmFuc2l0aW9uKTtcblxudmFyIENhbGVuZGFySGVhZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIHRoZW1lID0gX2EudGhlbWUsXG4gICAgICBjdXJyZW50TW9udGggPSBfYS5jdXJyZW50TW9udGgsXG4gICAgICBvbk1vbnRoQ2hhbmdlID0gX2Eub25Nb250aENoYW5nZSxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBfYS5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBfYS5yaWdodEFycm93SWNvbixcbiAgICAgIGRpc2FibGVQcmV2TW9udGggPSBfYS5kaXNhYmxlUHJldk1vbnRoLFxuICAgICAgZGlzYWJsZU5leHRNb250aCA9IF9hLmRpc2FibGVOZXh0TW9udGgsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgc2xpZGVEaXJlY3Rpb24gPSBfYS5zbGlkZURpcmVjdGlvbjtcbiAgdmFyIHJ0bCA9IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG5cbiAgdmFyIHNlbGVjdE5leHRNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gb25Nb250aENoYW5nZSh1dGlscy5nZXROZXh0TW9udGgoY3VycmVudE1vbnRoKSwgJ2xlZnQnKTtcbiAgfTtcblxuICB2YXIgc2VsZWN0UHJldmlvdXNNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gb25Nb250aENoYW5nZSh1dGlscy5nZXRQcmV2aW91c01vbnRoKGN1cnJlbnRNb250aCksICdyaWdodCcpO1xuICB9O1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCBudWxsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN3aXRjaEhlYWRlclxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fX2RlZmF1bHQuYSwge1xuICAgIGRpc2FibGVkOiBkaXNhYmxlUHJldk1vbnRoLFxuICAgIG9uQ2xpY2s6IHNlbGVjdFByZXZpb3VzTW9udGgsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmljb25CdXR0b25cbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0LmEsIG51bGwsIHJ0bCA/IHJpZ2h0QXJyb3dJY29uIDogbGVmdEFycm93SWNvbikpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShTbGlkZVRyYW5zaXRpb24kMSwge1xuICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvbixcbiAgICB0cmFuc0tleTogY3VycmVudE1vbnRoLnRvU3RyaW5nKCksXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zaXRpb25Db250YWluZXJcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X19fZGVmYXVsdC5hLCB7XG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgdmFyaWFudDogXCJib2R5MVwiXG4gIH0sIHV0aWxzLmdldENhbGVuZGFySGVhZGVyVGV4dChjdXJyZW50TW9udGgpKSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgZGlzYWJsZWQ6IGRpc2FibGVOZXh0TW9udGgsXG4gICAgb25DbGljazogc2VsZWN0TmV4dE1vbnRoLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uQnV0dG9uXG4gIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX19fZGVmYXVsdC5hLCBudWxsLCBydGwgPyBsZWZ0QXJyb3dJY29uIDogcmlnaHRBcnJvd0ljb24pKSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuZGF5c0hlYWRlclxuICB9LCB1dGlscy5nZXRXZWVrZGF5cygpLm1hcChmdW5jdGlvbiAoZGF5LCBpbmRleCkge1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0LmEsIHtcbiAgICAgIGtleTogaW5kZXgsXG4gICAgICB2YXJpYW50OiBcImNhcHRpb25cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kYXlMYWJlbFxuICAgIH0sIGRheSk7XG4gIH0pKSk7XG59O1xuIGZhbHNlID8gQ2FsZW5kYXJIZWFkZXIucHJvcFR5cGVzID0ge1xuICBjdXJyZW50TW9udGg6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBvbk1vbnRoQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICBkaXNhYmxlUHJldk1vbnRoOiBib29sLFxuICBkaXNhYmxlTmV4dE1vbnRoOiBib29sLFxuICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIHNsaWRlRGlyZWN0aW9uOiBvbmVPZihbJ3JpZ2h0JywgJ2xlZnQnXSkuaXNSZXF1aXJlZCxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcbkNhbGVuZGFySGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgZGlzYWJsZVByZXZNb250aDogZmFsc2UsXG4gIGRpc2FibGVOZXh0TW9udGg6IGZhbHNlXG59O1xudmFyIHN0eWxlcyQ0ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICAgIHN3aXRjaEhlYWRlcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nLnVuaXQgLyAyLFxuICAgICAgbWFyZ2luQm90dG9tOiB0aGVtZS5zcGFjaW5nLnVuaXRcbiAgICB9LFxuICAgIHRyYW5zaXRpb25Db250YWluZXI6IHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6IDIwXG4gICAgfSxcbiAgICBpY29uQnV0dG9uOiB7XG4gICAgICB6SW5kZXg6IDIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcixcbiAgICAgICcmID4gKic6IHtcbiAgICAgICAgLy8gbGFiZWxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQucGFwZXIsXG4gICAgICAgICcmID4gKic6IHtcbiAgICAgICAgICAvLyBpY29uXG4gICAgICAgICAgekluZGV4OiAxLFxuICAgICAgICAgIG92ZXJmbG93OiAndmlzaWJsZSdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGF5c0hlYWRlcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBtYXhIZWlnaHQ6IDE2XG4gICAgfSxcbiAgICBkYXlMYWJlbDoge1xuICAgICAgd2lkdGg6IDM2LFxuICAgICAgbWFyZ2luOiAnMCAycHgnLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuaGludFxuICAgIH1cbiAgfSk7XG59O1xudmFyIENhbGVuZGFySGVhZGVyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ0LCB7XG4gIHdpdGhUaGVtZTogdHJ1ZSxcbiAgbmFtZTogJ011aVBpY2tlcnNDYWxlbmRhckhlYWRlcidcbn0pKHdpdGhVdGlscygpKENhbGVuZGFySGVhZGVyKSk7XG5cbnZhciBEYXkgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoRGF5LCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIERheSgpIHtcbiAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICBEYXkucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF9iLmNoaWxkcmVuLFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgZGlzYWJsZWQgPSBfYi5kaXNhYmxlZCxcbiAgICAgICAgaGlkZGVuID0gX2IuaGlkZGVuLFxuICAgICAgICBjdXJyZW50ID0gX2IuY3VycmVudCxcbiAgICAgICAgc2VsZWN0ZWQgPSBfYi5zZWxlY3RlZCxcbiAgICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2IsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3Nlc1wiLCBcImRpc2FibGVkXCIsIFwiaGlkZGVuXCIsIFwiY3VycmVudFwiLCBcInNlbGVjdGVkXCJdKTtcblxuICAgIHZhciBjbGFzc05hbWUgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy5kYXksIChfYSA9IHt9LCBfYVtjbGFzc2VzLmhpZGRlbl0gPSBoaWRkZW4sIF9hW2NsYXNzZXMuY3VycmVudF0gPSBjdXJyZW50LCBfYVtjbGFzc2VzLnNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYVtjbGFzc2VzLmRpc2FibGVkXSA9IGRpc2FibGVkLCBfYSkpO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fX2RlZmF1bHQuYSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICB0YWJJbmRleDogaGlkZGVuIHx8IGRpc2FibGVkID8gLTEgOiAwXG4gICAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG4gIH07XG5cbiAgIGZhbHNlID8gRGF5LnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGN1cnJlbnQ6IGJvb2wsXG4gICAgZGlzYWJsZWQ6IGJvb2wsXG4gICAgaGlkZGVuOiBib29sLFxuICAgIHNlbGVjdGVkOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgRGF5LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgaGlkZGVuOiBmYWxzZSxcbiAgICBjdXJyZW50OiBmYWxzZSxcbiAgICBzZWxlY3RlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIERheTtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcblxudmFyIHN0eWxlcyQ1ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICAgIGRheToge1xuICAgICAgd2lkdGg6IDM2LFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5LmNhcHRpb24uZm9udFNpemUsXG4gICAgICBtYXJnaW46ICcwIDJweCcsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnksXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW0sXG4gICAgICBwYWRkaW5nOiAwXG4gICAgfSxcbiAgICBoaWRkZW46IHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICB9LFxuICAgIGN1cnJlbnQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRXZWlnaHQ6IDYwMFxuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW0sXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgfVxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuaGludFxuICAgIH1cbiAgfSk7XG59O1xudmFyIERheSQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkNSwge1xuICBuYW1lOiAnTXVpUGlja2Vyc0RheSdcbn0pKERheSk7XG5cbnZhciBEYXlXcmFwcGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKERheVdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF5V3JhcHBlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvcHMub25TZWxlY3QoX3RoaXMucHJvcHMudmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXlXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgZGF5SW5DdXJyZW50TW9udGggPSBfYS5kYXlJbkN1cnJlbnRNb250aCxcbiAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgb25TZWxlY3QgPSBfYS5vblNlbGVjdCxcbiAgICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcImNoaWxkcmVuXCIsIFwidmFsdWVcIiwgXCJkYXlJbkN1cnJlbnRNb250aFwiLCBcImRpc2FibGVkXCIsIFwib25TZWxlY3RcIl0pO1xuXG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIG9uQ2xpY2s6IGRheUluQ3VycmVudE1vbnRoICYmICFkaXNhYmxlZCA/IHRoaXMuaGFuZGxlQ2xpY2sgOiB1bmRlZmluZWQsXG4gICAgICBvbktleVByZXNzOiBkYXlJbkN1cnJlbnRNb250aCAmJiAhZGlzYWJsZWQgPyB0aGlzLmhhbmRsZUNsaWNrIDogdW5kZWZpbmVkLFxuICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIlxuICAgIH0sIG90aGVyKSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gICBmYWxzZSA/IERheVdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgZGF5SW5DdXJyZW50TW9udGg6IGJvb2wsXG4gICAgZGlzYWJsZWQ6IGJvb2wsXG4gICAgb25TZWxlY3Q6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogYW55LmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgRGF5V3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGF5SW5DdXJyZW50TW9udGg6IHRydWUsXG4gICAgZGlzYWJsZWQ6IGZhbHNlXG4gIH07XG4gIHJldHVybiBEYXlXcmFwcGVyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xuXG52YXIgQ2FsZW5kYXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoQ2FsZW5kYXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNsaWRlRGlyZWN0aW9uOiAnbGVmdCcsXG4gICAgICBjdXJyZW50TW9udGg6IF90aGlzLnByb3BzLnV0aWxzLmdldFN0YXJ0T2ZNb250aChfdGhpcy5wcm9wcy5kYXRlKVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkRhdGVTZWxlY3QgPSBmdW5jdGlvbiAoZGF5LCBpc0ZpbmlzaCkge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh1dGlscy5tZXJnZURhdGVBbmRUaW1lKGRheSwgZGF0ZSksIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlTW9udGggPSBmdW5jdGlvbiAobmV3TW9udGgsIHNsaWRlRGlyZWN0aW9uKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRNb250aDogbmV3TW9udGgsXG4gICAgICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvblxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnZhbGlkYXRlTWluTWF4RGF0ZSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICByZXR1cm4gbWluRGF0ZSAmJiB1dGlscy5pc0JlZm9yZURheShkYXksIHV0aWxzLmRhdGUobWluRGF0ZSkpIHx8IG1heERhdGUgJiYgdXRpbHMuaXNBZnRlckRheShkYXksIHV0aWxzLmRhdGUobWF4RGF0ZSkpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlUHJldk1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0LFxuICAgICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiAhdXRpbHMuaXNCZWZvcmUodXRpbHMuZ2V0U3RhcnRPZk1vbnRoKGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQWZ0ZXIobm93LCBtaW5EYXRlKSA/IG5vdyA6IHV0aWxzLmRhdGUobWluRGF0ZSkpLCBfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlTmV4dE1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZTtcbiAgICAgIHZhciBub3cgPSB1dGlscy5kYXRlKCk7XG4gICAgICByZXR1cm4gIXV0aWxzLmlzQWZ0ZXIodXRpbHMuZ2V0U3RhcnRPZk1vbnRoKGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNCZWZvcmUobm93LCBtYXhEYXRlKSA/IG5vdyA6IHV0aWxzLmRhdGUobWF4RGF0ZSkpLCBfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlRGF0ZSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBfYS5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyRGF5KGRheSwgdXRpbHMuZGF0ZSgpKSB8fCBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZURheShkYXksIHV0aWxzLmRhdGUoKSkgfHwgX3RoaXMudmFsaWRhdGVNaW5NYXhEYXRlKGRheSkgfHwgc2hvdWxkRGlzYWJsZURhdGUgJiYgc2hvdWxkRGlzYWJsZURhdGUoZGF5KSk7XG4gICAgfTtcblxuICAgIF90aGlzLm1vdmVUb0RheSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIGlmIChkYXkgJiYgIV90aGlzLnNob3VsZERpc2FibGVEYXRlKGRheSkpIHtcbiAgICAgICAgX3RoaXMub25EYXRlU2VsZWN0KGRheSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0aGVtZSA9IF9hLnRoZW1lLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG5cbiAgICAgIHN3aXRjaCAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9rZXljb2RlX19fZGVmYXVsdCgpKGV2ZW50KSkge1xuICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgICAgX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgLTcpKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICAgIF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIDcpKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIHRoZW1lLmRpcmVjdGlvbiA9PT0gJ2x0cicgPyBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAtMSkpIDogX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgMSkpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICB0aGVtZS5kaXJlY3Rpb24gPT09ICdsdHInID8gX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgMSkpIDogX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgLTEpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGlmIGtleWNvZGUgaXMgbm90IGhhbmRsZWQsIHN0b3AgZXhlY3V0aW9uXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpZiBldmVudCB3YXMgaGFuZGxlZCBwcmV2ZW50IG90aGVyIHNpZGUgZWZmZWN0cyAoZS5nLiBwYWdlIHNjcm9sbClcblxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5yZW5kZXJXZWVrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB1dGlscyA9IF90aGlzLnByb3BzLnV0aWxzO1xuICAgICAgdmFyIGN1cnJlbnRNb250aCA9IF90aGlzLnN0YXRlLmN1cnJlbnRNb250aDtcbiAgICAgIHZhciB3ZWVrcyA9IHV0aWxzLmdldFdlZWtBcnJheShjdXJyZW50TW9udGgpO1xuICAgICAgcmV0dXJuIHdlZWtzLm1hcChmdW5jdGlvbiAod2Vlaykge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgICAgIGtleTogXCJ3ZWVrLVwiICsgd2Vla1swXS50b1N0cmluZygpLFxuICAgICAgICAgIGNsYXNzTmFtZTogX3RoaXMucHJvcHMuY2xhc3Nlcy53ZWVrXG4gICAgICAgIH0sIF90aGlzLnJlbmRlckRheXMod2VlaykpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnJlbmRlckRheXMgPSBmdW5jdGlvbiAod2Vlaykge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgcmVuZGVyRGF5ID0gX2EucmVuZGVyRGF5LFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgc2VsZWN0ZWREYXRlID0gdXRpbHMuc3RhcnRPZkRheShkYXRlKTtcbiAgICAgIHZhciBjdXJyZW50TW9udGhOdW1iZXIgPSB1dGlscy5nZXRNb250aChfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiB3ZWVrLm1hcChmdW5jdGlvbiAoZGF5KSB7XG4gICAgICAgIHZhciBkaXNhYmxlZCA9IF90aGlzLnNob3VsZERpc2FibGVEYXRlKGRheSk7XG5cbiAgICAgICAgdmFyIGRheUluQ3VycmVudE1vbnRoID0gdXRpbHMuZ2V0TW9udGgoZGF5KSA9PT0gY3VycmVudE1vbnRoTnVtYmVyO1xuICAgICAgICB2YXIgZGF5Q29tcG9uZW50ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF5JDEsIHtcbiAgICAgICAgICBjdXJyZW50OiB1dGlscy5pc1NhbWVEYXkoZGF5LCBub3cpLFxuICAgICAgICAgIGhpZGRlbjogIWRheUluQ3VycmVudE1vbnRoLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBzZWxlY3RlZDogdXRpbHMuaXNTYW1lRGF5KHNlbGVjdGVkRGF0ZSwgZGF5KVxuICAgICAgICB9LCB1dGlscy5nZXREYXlUZXh0KGRheSkpO1xuXG4gICAgICAgIGlmIChyZW5kZXJEYXkpIHtcbiAgICAgICAgICBkYXlDb21wb25lbnQgPSByZW5kZXJEYXkoZGF5LCBzZWxlY3RlZERhdGUsIGRheUluQ3VycmVudE1vbnRoLCBkYXlDb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERheVdyYXBwZXIsIHtcbiAgICAgICAgICBrZXk6IGRheS50b1N0cmluZygpLFxuICAgICAgICAgIHZhbHVlOiBkYXksXG4gICAgICAgICAgZGF5SW5DdXJyZW50TW9udGg6IGRheUluQ3VycmVudE1vbnRoLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBvblNlbGVjdDogX3RoaXMub25EYXRlU2VsZWN0XG4gICAgICAgIH0sIGRheUNvbXBvbmVudCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2FsZW5kYXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcywgc3RhdGUpIHtcbiAgICBpZiAoIW5leHRQcm9wcy51dGlscy5pc0VxdWFsKG5leHRQcm9wcy5kYXRlLCBzdGF0ZS5sYXN0RGF0ZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhc3REYXRlOiBuZXh0UHJvcHMuZGF0ZSxcbiAgICAgICAgY3VycmVudE1vbnRoOiBuZXh0UHJvcHMudXRpbHMuZ2V0U3RhcnRPZk1vbnRoKG5leHRQcm9wcy5kYXRlKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBDYWxlbmRhci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdDtcblxuICAgIGlmICh0aGlzLnNob3VsZERpc2FibGVEYXRlKGRhdGUpKSB7XG4gICAgICB2YXIgY2xvc2VzdEVuYWJsZWREYXRlID0gZmluZENsb3Nlc3RFbmFibGVkRGF0ZSh7XG4gICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgIHV0aWxzOiB1dGlscyxcbiAgICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgICAgZGlzYWJsZVBhc3Q6IEJvb2xlYW4oZGlzYWJsZVBhc3QpLFxuICAgICAgICBkaXNhYmxlRnV0dXJlOiBCb29sZWFuKGRpc2FibGVQYXN0KSxcbiAgICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHRoaXMuc2hvdWxkRGlzYWJsZURhdGVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbkRhdGVTZWxlY3QoY2xvc2VzdEVuYWJsZWREYXRlIHx8IG1pbkRhdGUsIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgQ2FsZW5kYXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnN0YXRlLFxuICAgICAgICBjdXJyZW50TW9udGggPSBfYS5jdXJyZW50TW9udGgsXG4gICAgICAgIHNsaWRlRGlyZWN0aW9uID0gX2Euc2xpZGVEaXJlY3Rpb247XG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gX2IuYWxsb3dLZXlib2FyZENvbnRyb2w7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIGFsbG93S2V5Ym9hcmRDb250cm9sICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfcmVhY3RfZXZlbnRfbGlzdGVuZXJfX19kZWZhdWx0LmEsIHtcbiAgICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENhbGVuZGFySGVhZGVyJDEsIHtcbiAgICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvbixcbiAgICAgIGN1cnJlbnRNb250aDogY3VycmVudE1vbnRoLFxuICAgICAgb25Nb250aENoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VNb250aCxcbiAgICAgIGxlZnRBcnJvd0ljb246IHRoaXMucHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiB0aGlzLnByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgZGlzYWJsZVByZXZNb250aDogdGhpcy5zaG91bGREaXNhYmxlUHJldk1vbnRoKCksXG4gICAgICBkaXNhYmxlTmV4dE1vbnRoOiB0aGlzLnNob3VsZERpc2FibGVOZXh0TW9udGgoKVxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShTbGlkZVRyYW5zaXRpb24kMSwge1xuICAgICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uLFxuICAgICAgdHJhbnNLZXk6IGN1cnJlbnRNb250aC50b1N0cmluZygpLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zaXRpb25Db250YWluZXJcbiAgICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICAvLyBAdHMtaWdub3JlIEF1dG9mb2N1cyByZXF1aXJlZCBmb3IgZ2V0dGluZyB3b3JrIGtleWJvYXJkIG5hdmlnYXRpb24gZmVhdHVyZVxuICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgfSwgdGhpcy5yZW5kZXJXZWVrcygpKSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IENhbGVuZGFyLnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgICByZW5kZXJEYXk6IGZ1bmMsXG4gICAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENhbGVuZGFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gICAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBsZWZ0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmlnaHRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogZmFsc2UsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBDYWxlbmRhcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJDb21wb25lbnRcIl0pO1xudmFyIHN0eWxlcyQ2ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdHJhbnNpdGlvbkNvbnRhaW5lcjoge1xuICAgICAgbWluSGVpZ2h0OiAzNiAqIDYsXG4gICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDEuNVxuICAgIH0sXG4gICAgd2Vlazoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXG4gICAgfVxuICB9O1xufTtcbnZhciBDYWxlbmRhciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkNiwge1xuICBuYW1lOiAnTXVpUGlja2Vyc0NhbGVuZGFyJyxcbiAgd2l0aFRoZW1lOiB0cnVlXG59KSh3aXRoVXRpbHMoKShDYWxlbmRhcikpO1xuXG52YXIgWWVhciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShZZWFyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFllYXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uU2VsZWN0KF90aGlzLnByb3BzLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgWWVhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBkaXNhYmxlZCA9IF9iLmRpc2FibGVkLFxuICAgICAgICB2YWx1ZSA9IF9iLnZhbHVlLFxuICAgICAgICBjaGlsZHJlbiA9IF9iLmNoaWxkcmVuLFxuICAgICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShfYiwgW1wiY2xhc3Nlc1wiLCBcInNlbGVjdGVkXCIsIFwiZGlzYWJsZWRcIiwgXCJ2YWx1ZVwiLCBcImNoaWxkcmVuXCJdKTtcblxuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICBjb21wb25lbnQ6IFwiZGl2XCIsXG4gICAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnJvb3QsIChfYSA9IHt9LCBfYVtjbGFzc2VzLnNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYVtjbGFzc2VzLmRpc2FibGVkXSA9IGRpc2FibGVkLCBfYSkpLFxuICAgICAgdGFiSW5kZXg6IGRpc2FibGVkID8gLTEgOiAwLFxuICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDbGljayxcbiAgICAgIG9uS2V5UHJlc3M6IHRoaXMuaGFuZGxlQ2xpY2ssXG4gICAgICBjb2xvcjogc2VsZWN0ZWQgPyAncHJpbWFyeScgOiAnZGVmYXVsdCcsXG4gICAgICB2YXJpYW50OiBzZWxlY3RlZCA/ICdoNScgOiAnc3VidGl0bGUxJ1xuICAgIH0sIG90aGVyKSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gICBmYWxzZSA/IFllYXIucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZWQ6IGJvb2wsXG4gICAgb25TZWxlY3Q6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBzZWxlY3RlZDogYm9vbCxcbiAgICB2YWx1ZTogYW55LmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBZZWFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgZGlzYWJsZWQ6IGZhbHNlXG4gIH07XG4gIHJldHVybiBZZWFyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xudmFyIHN0eWxlcyQ3ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICAgIHJvb3Q6IHtcbiAgICAgIGhlaWdodDogdGhlbWUuc3BhY2luZy51bml0ICogNSxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICAnJjpmb2N1cyc6IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdGVkOiB7XG4gICAgICBtYXJnaW46ICcxMHB4IDAnLFxuICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0TWVkaXVtXG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfVxuICB9KTtcbn07XG52YXIgWWVhciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkNywge1xuICBuYW1lOiAnTXVpUGlja2Vyc1llYXInXG59KShZZWFyKTtcblxudmFyIFllYXJTZWxlY3Rpb24gPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoWWVhclNlbGVjdGlvbiwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBZZWFyU2VsZWN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc2VsZWN0ZWRZZWFyUmVmID0gdW5kZWZpbmVkO1xuXG4gICAgX3RoaXMuZ2V0U2VsZWN0ZWRZZWFyUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuc2VsZWN0ZWRZZWFyUmVmID0gcmVmO1xuICAgIH07XG5cbiAgICBfdGhpcy5zY3JvbGxUb0N1cnJlbnRZZWFyID0gZnVuY3Rpb24gKGRvbU5vZGUpIHtcbiAgICAgIHZhciBhbmltYXRlWWVhclNjcm9sbGluZyA9IF90aGlzLnByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nO1xuICAgICAgdmFyIGN1cnJlbnRZZWFyRWxlbWVudCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX3JlYWN0X2RvbV9fW1wiZmluZERPTU5vZGVcIl0pKGRvbU5vZGUpO1xuXG4gICAgICBpZiAoY3VycmVudFllYXJFbGVtZW50ICYmIGN1cnJlbnRZZWFyRWxlbWVudC5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICBpZiAoYW5pbWF0ZVllYXJTY3JvbGxpbmcpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50WWVhckVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudFllYXJFbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25ZZWFyU2VsZWN0ID0gZnVuY3Rpb24gKHllYXIpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciBuZXdEYXRlID0gdXRpbHMuc2V0WWVhcihkYXRlLCB5ZWFyKTtcbiAgICAgIG9uQ2hhbmdlKG5ld0RhdGUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBZZWFyU2VsZWN0aW9uLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZFllYXJSZWYpIHtcbiAgICAgIHRoaXMuc2Nyb2xsVG9DdXJyZW50WWVhcih0aGlzLnNlbGVjdGVkWWVhclJlZik7XG4gICAgfVxuICB9O1xuXG4gIFllYXJTZWxlY3Rpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgIHZhciBjdXJyZW50WWVhciA9IHV0aWxzLmdldFllYXIoZGF0ZSk7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jb250YWluZXJcbiAgICB9LCB1dGlscy5nZXRZZWFyUmFuZ2UobWluRGF0ZSwgbWF4RGF0ZSkubWFwKGZ1bmN0aW9uICh5ZWFyKSB7XG4gICAgICB2YXIgeWVhck51bWJlciA9IHV0aWxzLmdldFllYXIoeWVhcik7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSB5ZWFyTnVtYmVyID09PSBjdXJyZW50WWVhcjtcbiAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShZZWFyJDEsIHtcbiAgICAgICAga2V5OiB1dGlscy5nZXRZZWFyVGV4dCh5ZWFyKSxcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICB2YWx1ZTogeWVhck51bWJlcixcbiAgICAgICAgb25TZWxlY3Q6IF90aGlzLm9uWWVhclNlbGVjdCxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZWY6IHNlbGVjdGVkID8gX3RoaXMuZ2V0U2VsZWN0ZWRZZWFyUmVmIDogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNCZWZvcmVZZWFyKHllYXIsIHV0aWxzLmRhdGUoKSkgfHwgZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyWWVhcih5ZWFyLCB1dGlscy5kYXRlKCkpXG4gICAgICB9LCB1dGlscy5nZXRZZWFyVGV4dCh5ZWFyKSk7XG4gICAgfSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IFllYXJTZWxlY3Rpb24ucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IHNoYXBlKHt9KS5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBZZWFyU2VsZWN0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIFllYXJTZWxlY3Rpb247XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJDggPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICBjb250YWluZXI6IHtcbiAgICBtYXhIZWlnaHQ6IDMwMCxcbiAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgfVxufSk7XG52YXIgWWVhclNlbGVjdGlvbiQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkOCwge1xuICBuYW1lOiAnTXVpUGlja2Vyc1llYXJTZWxlY3Rpb24nXG59KSh3aXRoVXRpbHMoKShZZWFyU2VsZWN0aW9uKSk7XG5cbnZhciBEYXRlUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKERhdGVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd1llYXJTZWxlY3Rpb246IEJvb2xlYW4oX3RoaXMucHJvcHMub3BlblRvWWVhclNlbGVjdGlvbilcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlWWVhclNlbGVjdCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShkYXRlLCBmYWxzZSk7XG5cbiAgICAgIF90aGlzLm9wZW5DYWxlbmRhcigpO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuWWVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd1llYXJTZWxlY3Rpb246IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuQ2FsZW5kYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3dZZWFyU2VsZWN0aW9uOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRlUGlja2VyLnByb3RvdHlwZSwgXCJkYXRlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmRhdGU7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXIucHJvdG90eXBlLCBcIm1pbkRhdGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMudXRpbHMuZGF0ZSh0aGlzLnByb3BzLm1pbkRhdGUpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRlUGlja2VyLnByb3RvdHlwZSwgXCJtYXhEYXRlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnV0aWxzLmRhdGUodGhpcy5wcm9wcy5tYXhEYXRlKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hvd1llYXJTZWxlY3Rpb24gPSB0aGlzLnN0YXRlLnNob3dZZWFyU2VsZWN0aW9uO1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlLFxuICAgICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IF9hLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgICBsZWZ0QXJyb3dJY29uID0gX2EubGVmdEFycm93SWNvbixcbiAgICAgICAgcmlnaHRBcnJvd0ljb24gPSBfYS5yaWdodEFycm93SWNvbixcbiAgICAgICAgcmVuZGVyRGF5ID0gX2EucmVuZGVyRGF5LFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9hLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IF9hLmFsbG93S2V5Ym9hcmRDb250cm9sO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkZyYWdtZW50XCJdLCBudWxsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShQaWNrZXJUb29sYmFyJDEsIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlblllYXJTZWxlY3Rpb24sXG4gICAgICBzZWxlY3RlZDogc2hvd1llYXJTZWxlY3Rpb24sXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0WWVhclRleHQodGhpcy5kYXRlKVxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDRcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbkNhbGVuZGFyLFxuICAgICAgc2VsZWN0ZWQ6ICFzaG93WWVhclNlbGVjdGlvbixcbiAgICAgIGxhYmVsOiB1dGlscy5nZXREYXRlUGlja2VySGVhZGVyVGV4dCh0aGlzLmRhdGUpXG4gICAgfSkpLCB0aGlzLnByb3BzLmNoaWxkcmVuLCBzaG93WWVhclNlbGVjdGlvbiA/IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFllYXJTZWxlY3Rpb24kMSwge1xuICAgICAgZGF0ZTogdGhpcy5kYXRlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlWWVhclNlbGVjdCxcbiAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgIG1heERhdGU6IHRoaXMubWF4RGF0ZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmdcbiAgICB9KSA6IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENhbGVuZGFyJDEsIHtcbiAgICAgIGRhdGU6IHRoaXMuZGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBtaW5EYXRlOiB0aGlzLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlOiB0aGlzLm1heERhdGUsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2xcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gRGF0ZVBpY2tlci5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IGJvb2wsXG4gICAgY2hpbGRyZW46IG5vZGUsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgICByZW5kZXJEYXk6IGZ1bmMsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICAgIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGVcbiAgfSA6IHZvaWQgMDtcbiAgRGF0ZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICAgIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gICAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGZhbHNlLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gICAgY2hpbGRyZW46IG51bGwsXG4gICAgbGVmdEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJpZ2h0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gRGF0ZVBpY2tlcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcbnZhciBEYXRlUGlja2VyJDEgPSB3aXRoVXRpbHMoKShEYXRlUGlja2VyKTtcblxudmFyIERhdGVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBwcm9wcy5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gcHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBsYWJlbEZ1bmMgPSBwcm9wcy5sYWJlbEZ1bmMsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gcHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGUgPSBwcm9wcy5tYXhEYXRlLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBwcm9wcy5pbml0aWFsRm9jdXNlZERhdGUsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbiA9IHByb3BzLm9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICByZW5kZXJEYXkgPSBwcm9wcy5yZW5kZXJEYXksXG4gICAgICByaWdodEFycm93SWNvbiA9IHByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBwcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShwcm9wcywgW1wiYWxsb3dLZXlib2FyZENvbnRyb2xcIiwgXCJhbmltYXRlWWVhclNjcm9sbGluZ1wiLCBcImF1dG9Pa1wiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImZvcm1hdFwiLCBcImZvcndhcmRlZFJlZlwiLCBcImxhYmVsRnVuY1wiLCBcImxlZnRBcnJvd0ljb25cIiwgXCJtYXhEYXRlXCIsIFwibWluRGF0ZVwiLCBcImluaXRpYWxGb2N1c2VkRGF0ZVwiLCBcIm9uQ2hhbmdlXCIsIFwib3BlblRvWWVhclNlbGVjdGlvblwiLCBcInJlbmRlckRheVwiLCBcInJpZ2h0QXJyb3dJY29uXCIsIFwic2hvdWxkRGlzYWJsZURhdGVcIiwgXCJ2YWx1ZVwiXSk7XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKEJhc2VQaWNrZXIkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHByb3BzKSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlQ2xlYXIgPSBfYS5oYW5kbGVDbGVhcixcbiAgICAgICAgaGFuZGxlRGlzbWlzcyA9IF9hLmhhbmRsZURpc21pc3MsXG4gICAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZSA9IF9hLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoTW9kYWxXcmFwcGVyLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgdXRpbHMuZGF0ZUZvcm1hdCxcbiAgICAgIGxhYmVsRnVuYzogbGFiZWxGdW5jLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIG9uQ2xlYXI6IGhhbmRsZUNsZWFyLFxuICAgICAgb25EaXNtaXNzOiBoYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkXG4gICAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlUGlja2VyJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IG9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZVxuICAgIH0pKTtcbiAgfSk7XG59O1xuIGZhbHNlID8gRGF0ZVBpY2tlck1vZGFsLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IGJvb2wsXG4gIGRpc2FibGVQYXN0OiBib29sLFxuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogYm9vbCxcbiAgbGFiZWxGdW5jOiBmdW5jLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgcmVuZGVyRGF5OiBmdW5jLFxuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcbkRhdGVQaWNrZXJNb2RhbC5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiBmYWxzZSxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZFxufTtcbnZhciBEYXRlUGlja2VyTW9kYWwkMSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImZvcndhcmRSZWZcIl0pKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlUGlja2VyTW9kYWwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgSW5saW5lV3JhcHBlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShJbmxpbmVXcmFwcGVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIElubGluZVdyYXBwZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgfTtcblxuICAgIF90aGlzLm9wZW4gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBhbmNob3JFbDogZS5jdXJyZW50VGFyZ2V0XG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uT3Blbikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk9wZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMucHJvcHMuaGFuZGxlQWNjZXB0KCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsb3NlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoIChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfX19kZWZhdWx0KCkoZXZlbnQpKSB7XG4gICAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5oYW5kbGVBY2NlcHQoKTtcblxuICAgICAgICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gaWYga2V5Y29kZSBpcyBub3QgaGFuZGxlZCwgc3RvcCBleGVjdXRpb25cbiAgICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGlmIGV2ZW50IHdhcyBoYW5kbGVkIHByZXZlbnQgb3RoZXIgc2lkZSBlZmZlY3RzXG5cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgSW5saW5lV3JhcHBlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgLy8gb25seSBpZiBhY2NlcHQgPSB0cnVlIGNsb3NlIHRoZSBwb3BvdmVyXG4gICAgaWYgKG5leHRQcm9wcy5pc0FjY2VwdGVkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmNob3JFbDogbnVsbFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBJbmxpbmVXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICBvbk9wZW4gPSBfYS5vbk9wZW4sXG4gICAgICAgIG9uQ2xvc2UgPSBfYS5vbkNsb3NlLFxuICAgICAgICBQb3BvdmVyUHJvcHMgPSBfYS5Qb3BvdmVyUHJvcHMsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBrZXlib2FyZCA9IF9hLmtleWJvYXJkLFxuICAgICAgICBvbmx5Q2FsZW5kYXIgPSBfYS5vbmx5Q2FsZW5kYXIsXG4gICAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQsXG4gICAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImNoaWxkcmVuXCIsIFwib25PcGVuXCIsIFwib25DbG9zZVwiLCBcIlBvcG92ZXJQcm9wc1wiLCBcImlzQWNjZXB0ZWRcIiwgXCJrZXlib2FyZFwiLCBcIm9ubHlDYWxlbmRhclwiLCBcImNsYXNzZXNcIiwgXCJoYW5kbGVBY2NlcHRcIl0pO1xuXG4gICAgdmFyIGlzT3BlbiA9IEJvb2xlYW4odGhpcy5zdGF0ZS5hbmNob3JFbCk7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIGlzT3BlbiAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX19fZGVmYXVsdC5hLCB7XG4gICAgICB0YXJnZXQ6IFwid2luZG93XCIsXG4gICAgICBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93blxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGV4dEZpZWxkJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgb25DbGljazogdGhpcy5vcGVuLFxuICAgICAga2V5Ym9hcmQ6IGtleWJvYXJkXG4gICAgfSwgb3RoZXIpKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fbWF0ZXJpYWxfdWlfY29yZV9Qb3BvdmVyX19fZGVmYXVsdC5hLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBpZDogXCJwaWNrZXItcG9wb3ZlclwiLFxuICAgICAgb3BlbjogaXNPcGVuLFxuICAgICAgYW5jaG9yRWw6IHRoaXMuc3RhdGUuYW5jaG9yRWwsXG4gICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlLFxuICAgICAgY2xhc3Nlczoge1xuICAgICAgICBwYXBlcjogY2xhc3Nlcy5wb3BvdmVyUGFwZXJcbiAgICAgIH0sXG4gICAgICBhbmNob3JPcmlnaW46IHtcbiAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICBob3Jpem9udGFsOiBrZXlib2FyZCA/ICdyaWdodCcgOiAnY2VudGVyJ1xuICAgICAgfSxcbiAgICAgIHRyYW5zZm9ybU9yaWdpbjoge1xuICAgICAgICB2ZXJ0aWNhbDogJ3RvcCcsXG4gICAgICAgIGhvcml6b250YWw6IGtleWJvYXJkID8gJ3JpZ2h0JyA6ICdjZW50ZXInXG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfSwgUG9wb3ZlclByb3BzKSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IElubGluZVdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgIC8qKiBTaG93IG9ubHkgY2FsZW5kYXIgZm9yIGRhdGVwaWNrZXIgaW4gcG9wb3ZlciBtb2RlICovXG4gICAgb25seUNhbGVuZGFyOiBib29sLFxuXG4gICAgLyoqIFBpY2tlciB2YWx1ZSAqL1xuICAgIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAgIC8qKiBPbiBvcGVuIGNhbGxiYWNrIFsoZTogRXZlbnQpID0+IHZvaWRdICovXG4gICAgb25PcGVuOiBmdW5jLFxuXG4gICAgLyoqIE9uIGNsb3NlIGNhbGxiYWNrIFsoZTogRXZlbnQpID0+IHZvaWRdICovXG4gICAgb25DbG9zZTogZnVuYyxcblxuICAgIC8qKiBGb3JtYXQgc3RyaW5nICovXG4gICAgZm9ybWF0OiBzdHJpbmcsXG5cbiAgICAvKiogRGlhbG9nIHByb3BzIHBhc3NlZCB0byBtYXRlcmlhbC11aSBEaWFsb2cgKi9cbiAgICBQb3BvdmVyUHJvcHM6IG9iamVjdCxcbiAgICBsYWJlbEZ1bmM6IGZ1bmMsXG4gICAgb25DbGVhcjogZnVuYyxcbiAgICBpc0FjY2VwdGVkOiBib29sLFxuICAgIGhhbmRsZUFjY2VwdDogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAga2V5Ym9hcmQ6IGJvb2wsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBJbmxpbmVXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgICBvbmx5Q2FsZW5kYXI6IGZhbHNlLFxuICAgIGZvcm1hdDogdW5kZWZpbmVkLFxuICAgIG9uQ2xlYXI6IHVuZGVmaW5lZCxcbiAgICBvbk9wZW46IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlOiB1bmRlZmluZWQsXG4gICAgUG9wb3ZlclByb3BzOiB1bmRlZmluZWQsXG4gICAgaXNBY2NlcHRlZDogZmFsc2UsXG4gICAga2V5Ym9hcmQ6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gSW5saW5lV3JhcHBlcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkOSA9IHtcbiAgcG9wb3ZlclBhcGVyOiB7XG4gICAgbWF4V2lkdGg6IDMxMCxcbiAgICBtaW5XaWR0aDogMjkwLFxuICAgIHBhZGRpbmdCb3R0b206IDhcbiAgfVxufTsgLy8gQHRzLWlnbm9yZVxuXG52YXIgSW5saW5lV3JhcHBlciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkOSkoSW5saW5lV3JhcHBlcik7XG5cbnZhciBEYXRlUGlja2VySW5saW5lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGxhYmVsRnVuYyA9IHByb3BzLmxhYmVsRnVuYyxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uID0gcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9ubHlDYWxlbmRhciA9IHByb3BzLm9ubHlDYWxlbmRhcixcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKHByb3BzLCBbXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVQYXN0XCIsIFwiZm9ybWF0XCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwibGFiZWxGdW5jXCIsIFwibGVmdEFycm93SWNvblwiLCBcIm1heERhdGVcIiwgXCJtaW5EYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwib25DaGFuZ2VcIiwgXCJvcGVuVG9ZZWFyU2VsZWN0aW9uXCIsIFwicmVuZGVyRGF5XCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcInZhbHVlXCIsIFwiYXV0b09rXCIsIFwib25seUNhbGVuZGFyXCJdKTtcblxuICB2YXIgQ29tcG9uZW50VG9TaG93ID0gb25seUNhbGVuZGFyID8gQ2FsZW5kYXIkMSA6IERhdGVQaWNrZXIkMTtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKEJhc2VQaWNrZXIkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHByb3BzLCB7XG4gICAgYXV0b09rOiB0cnVlXG4gIH0pLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0O1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShJbmxpbmVXcmFwcGVyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCB8fCB1dGlscy5kYXRlRm9ybWF0LFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBpbm5lclJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGhhbmRsZUFjY2VwdDogaGFuZGxlQWNjZXB0XG4gICAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDb21wb25lbnRUb1Nob3csIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IG9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZVxuICAgIH0pKTtcbiAgfSk7XG59O1xuIGZhbHNlID8gRGF0ZVBpY2tlcklubGluZS5wcm9wVHlwZXMgPSB7XG4gIG9ubHlDYWxlbmRhcjogYm9vbCxcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGJvb2wsXG4gIGxhYmVsRnVuYzogZnVuYyxcbiAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gIHJlbmRlckRheTogZnVuYyxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSksXG4gIGF1dG9PazogYm9vbFxufSA6IHZvaWQgMDtcbkRhdGVQaWNrZXJJbmxpbmUuZGVmYXVsdFByb3BzID0ge1xuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IHVuZGVmaW5lZCxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBmYWxzZSxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IHRydWUsXG4gIGxlZnRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19sZWZ0JyxcbiAgcmlnaHRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19yaWdodCcsXG4gIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIGF1dG9PazogdW5kZWZpbmVkLFxuICBvbmx5Q2FsZW5kYXI6IGZhbHNlXG59O1xudmFyIERhdGVQaWNrZXJJbmxpbmUkMSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImZvcndhcmRSZWZcIl0pKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlUGlja2VySW5saW5lLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIGNlbnRlciA9IHtcbiAgeDogMjYwIC8gMixcbiAgeTogMjYwIC8gMlxufTtcbnZhciBiYXNlUG9pbnQgPSB7XG4gIHg6IGNlbnRlci54LFxuICB5OiAwXG59O1xudmFyIGN4ID0gYmFzZVBvaW50LnggLSBjZW50ZXIueDtcbnZhciBjeSA9IGJhc2VQb2ludC55IC0gY2VudGVyLnk7XG5cbnZhciByYWQyZGVnID0gZnVuY3Rpb24gKHJhZCkge1xuICByZXR1cm4gcmFkICogNTcuMjk1Nzc5NTEzMDgyMzI7XG59O1xuXG52YXIgZ2V0QW5nbGVWYWx1ZSA9IGZ1bmN0aW9uIChzdGVwLCBvZmZzZXRYLCBvZmZzZXRZKSB7XG4gIHZhciB4ID0gb2Zmc2V0WCAtIGNlbnRlci54O1xuICB2YXIgeSA9IG9mZnNldFkgLSBjZW50ZXIueTtcbiAgdmFyIGF0YW4gPSBNYXRoLmF0YW4yKGN4LCBjeSkgLSBNYXRoLmF0YW4yKHgsIHkpO1xuICB2YXIgZGVnID0gcmFkMmRlZyhhdGFuKTtcbiAgZGVnID0gTWF0aC5yb3VuZChkZWcgLyBzdGVwKSAqIHN0ZXA7XG4gIGRlZyAlPSAzNjA7XG4gIHZhciB2YWx1ZSA9IE1hdGguZmxvb3IoZGVnIC8gc3RlcCkgfHwgMDtcbiAgdmFyIGRlbHRhID0gTWF0aC5wb3coeCwgMikgKyBNYXRoLnBvdyh5LCAyKTtcbiAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGRlbHRhKTtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgZGlzdGFuY2U6IGRpc3RhbmNlXG4gIH07XG59O1xuXG52YXIgZ2V0SG91cnMgPSBmdW5jdGlvbiAob2Zmc2V0WCwgb2Zmc2V0WSwgYW1wbSkge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgdmFyIF9hID0gZ2V0QW5nbGVWYWx1ZSgzMCwgb2Zmc2V0WCwgb2Zmc2V0WSksXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgZGlzdGFuY2UgPSBfYS5kaXN0YW5jZTtcblxuICB2YWx1ZSA9IHZhbHVlIHx8IDEyO1xuXG4gIGlmICghYW1wbSkge1xuICAgIGlmIChkaXN0YW5jZSA8IDkwKSB7XG4gICAgICB2YWx1ZSArPSAxMjtcbiAgICAgIHZhbHVlICU9IDI0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSAlPSAxMjtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgZ2V0TWludXRlcyA9IGZ1bmN0aW9uIChvZmZzZXRYLCBvZmZzZXRZLCBzdGVwKSB7XG4gIGlmIChzdGVwID09PSB2b2lkIDApIHtcbiAgICBzdGVwID0gNjtcbiAgfVxuXG4gIHZhciB2YWx1ZSA9IGdldEFuZ2xlVmFsdWUoc3RlcCwgb2Zmc2V0WCwgb2Zmc2V0WSkudmFsdWU7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgY29udmVydFRvTWVyaWRpZW0gPSBmdW5jdGlvbiAodGltZSwgbWVyaWRpZW0sIGFtcG0sIHV0aWxzKSB7XG4gIGlmIChhbXBtKSB7XG4gICAgdmFyIGN1cnJlbnRNZXJpZGllbSA9IHV0aWxzLmdldEhvdXJzKHRpbWUpID49IDEyID8gJ3BtJyA6ICdhbSc7XG5cbiAgICBpZiAoY3VycmVudE1lcmlkaWVtICE9PSBtZXJpZGllbSkge1xuICAgICAgdmFyIGhvdXJzID0gbWVyaWRpZW0gPT09ICdhbScgPyB1dGlscy5nZXRIb3Vycyh0aW1lKSAtIDEyIDogdXRpbHMuZ2V0SG91cnModGltZSkgKyAxMjtcbiAgICAgIHJldHVybiB1dGlscy5zZXRIb3Vycyh0aW1lLCBob3Vycyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRpbWU7XG59O1xuXG52YXIgQ2xvY2tUeXBlO1xuXG4oZnVuY3Rpb24gKENsb2NrVHlwZSkge1xuICBDbG9ja1R5cGVbXCJIT1VSU1wiXSA9IFwiaG91cnNcIjtcbiAgQ2xvY2tUeXBlW1wiTUlOVVRFU1wiXSA9IFwibWludXRlc1wiO1xuICBDbG9ja1R5cGVbXCJTRUNPTkRTXCJdID0gXCJzZWNvbmRzXCI7XG59KShDbG9ja1R5cGUgfHwgKENsb2NrVHlwZSA9IHt9KSk7XG5cbnZhciBDbG9ja1R5cGUkMSA9IENsb2NrVHlwZTtcblxudmFyIENsb2NrUG9pbnRlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShDbG9ja1BvaW50ZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2xvY2tQb2ludGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0b0FuaW1hdGVUcmFuc2Zvcm06IGZhbHNlLFxuICAgICAgcHJldmlvdXNUeXBlOiB1bmRlZmluZWRcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0QW5nbGVTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgICAgaXNJbm5lciA9IF9hLmlzSW5uZXIsXG4gICAgICAgICAgdHlwZSA9IF9hLnR5cGU7XG4gICAgICB2YXIgbWF4ID0gdHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMgPyAxMiA6IDYwO1xuICAgICAgdmFyIGFuZ2xlID0gMzYwIC8gbWF4ICogdmFsdWU7XG5cbiAgICAgIGlmICh0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyAmJiB2YWx1ZSA+IDEyKSB7XG4gICAgICAgIGFuZ2xlIC09IDM2MDsgLy8gcm91bmQgdXAgYW5nbGUgdG8gbWF4IDM2MCBkZWdyZWVzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaXNJbm5lciA/ICcyNiUnIDogJzQwJScsXG4gICAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGVaKFwiICsgYW5nbGUgKyBcImRlZylcIlxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2xvY2tQb2ludGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hLCBfYjtcblxuICAgIHZhciBfYyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYy5jbGFzc2VzLFxuICAgICAgICBoYXNTZWxlY3RlZCA9IF9jLmhhc1NlbGVjdGVkO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICBzdHlsZTogdGhpcy5nZXRBbmdsZVN0eWxlKCksXG4gICAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnBvaW50ZXIsIChfYSA9IHt9LCBfYVtjbGFzc2VzLmFuaW1hdGVUcmFuc2Zvcm1dID0gdGhpcy5zdGF0ZS50b0FuaW1hdGVUcmFuc2Zvcm0sIF9hKSlcbiAgICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnRodW1iLCAoX2IgPSB7fSwgX2JbY2xhc3Nlcy5ub1BvaW50XSA9IGhhc1NlbGVjdGVkLCBfYikpXG4gICAgfSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IENsb2NrUG9pbnRlci5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdmFsdWU6IG51bWJlci5pc1JlcXVpcmVkLFxuICAgIGhhc1NlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gICAgaXNJbm5lcjogYm9vbC5pc1JlcXVpcmVkLFxuICAgIGlubmVyUmVmOiBhbnksXG4gICAgdHlwZTogb25lT2YoT2JqZWN0LmtleXMoQ2xvY2tUeXBlJDEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gQ2xvY2tUeXBlJDFba2V5XTtcbiAgICB9KSkuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuXG4gIENsb2NrUG9pbnRlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBzdGF0ZSkge1xuICAgIGlmIChuZXh0UHJvcHMudHlwZSAhPT0gc3RhdGUucHJldmlvdXNUeXBlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b0FuaW1hdGVUcmFuc2Zvcm06IHRydWUsXG4gICAgICAgIHByZXZpb3VzVHlwZTogbmV4dFByb3BzLnR5cGVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvQW5pbWF0ZVRyYW5zZm9ybTogZmFsc2UsXG4gICAgICBwcmV2aW91c1R5cGU6IG5leHRQcm9wcy50eXBlXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gQ2xvY2tQb2ludGVyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJGEgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgcG9pbnRlcjoge1xuICAgICAgd2lkdGg6IDIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBsZWZ0OiAnY2FsYyg1MCUgLSAxcHgpJyxcbiAgICAgIGJvdHRvbTogJzUwJScsXG4gICAgICB0cmFuc2Zvcm1PcmlnaW46ICdjZW50ZXIgYm90dG9tIDBweCdcbiAgICB9LFxuICAgIGFuaW1hdGVUcmFuc2Zvcm06IHtcbiAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZShbJ3RyYW5zZm9ybScsICdoZWlnaHQnXSlcbiAgICB9LFxuICAgIHRodW1iOiB7XG4gICAgICB3aWR0aDogNCxcbiAgICAgIGhlaWdodDogNCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAtMjEsXG4gICAgICBsZWZ0OiAtMTUsXG4gICAgICBib3JkZXI6IFwiMTRweCBzb2xpZCBcIiArIHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgYm94U2l6aW5nOiAnY29udGVudC1ib3gnXG4gICAgfSxcbiAgICBub1BvaW50OiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2tQb2ludGVyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyRhLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2xvY2tQb2ludGVyJ1xufSkoQ2xvY2tQb2ludGVyKTtcblxudmFyIENsb2NrID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKENsb2NrLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIENsb2NrKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcblxuICAgIF90aGlzLmhhbmRsZVRvdWNoTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5pc01vdmluZyA9IHRydWU7XG5cbiAgICAgIF90aGlzLnNldFRpbWUoZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVRvdWNoRW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5pc01vdmluZykge1xuICAgICAgICBfdGhpcy5zZXRUaW1lKGUsIHRydWUpO1xuXG4gICAgICAgIF90aGlzLmlzTW92aW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gTW91c2VFdmVudC53aGljaCBpcyBkZXByZWNhdGVkLCBidXQgTW91c2VFdmVudC5idXR0b25zIGlzIG5vdCBzdXBwb3J0ZWQgaW4gU2FmYXJpXG5cbiAgICAgIHZhciBpc0J1dHRvblByZXNzZWQgPSB0eXBlb2YgZS5idXR0b25zID09PSAndW5kZWZpbmVkJyA/IGUubmF0aXZlRXZlbnQud2hpY2ggPT09IDEgOiBlLmJ1dHRvbnMgPT09IDE7XG5cbiAgICAgIGlmIChpc0J1dHRvblByZXNzZWQpIHtcbiAgICAgICAgX3RoaXMuc2V0VGltZShlLm5hdGl2ZUV2ZW50LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLmlzTW92aW5nKSB7XG4gICAgICAgIF90aGlzLmlzTW92aW5nID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFRpbWUoZS5uYXRpdmVFdmVudCwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhc1NlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdHlwZSA9IF9hLnR5cGUsXG4gICAgICAgICAgdmFsdWUgPSBfYS52YWx1ZTtcblxuICAgICAgaWYgKHR5cGUgPT09IENsb2NrVHlwZSQxLkhPVVJTKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWUgJSA1ID09PSAwO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9jay5wcm90b3R5cGUuc2V0VGltZSA9IGZ1bmN0aW9uIChlLCBpc0ZpbmlzaCkge1xuICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICBpc0ZpbmlzaCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBvZmZzZXRYID0gZS5vZmZzZXRYLFxuICAgICAgICBvZmZzZXRZID0gZS5vZmZzZXRZO1xuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXRYID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHJlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIG9mZnNldFggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgICBvZmZzZXRZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gcmVjdC50b3A7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy50eXBlID09PSBDbG9ja1R5cGUkMS5TRUNPTkRTIHx8IHRoaXMucHJvcHMudHlwZSA9PT0gQ2xvY2tUeXBlJDEuTUlOVVRFUyA/IGdldE1pbnV0ZXMob2Zmc2V0WCwgb2Zmc2V0WSkgOiBnZXRIb3VycyhvZmZzZXRYLCBvZmZzZXRZLCBCb29sZWFuKHRoaXMucHJvcHMuYW1wbSkpO1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUsIGlzRmluaXNoKTtcbiAgfTtcblxuICBDbG9jay5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgYW1wbSA9IF9hLmFtcG07XG4gICAgdmFyIGlzUG9pbnRlcklubmVyID0gIWFtcG0gJiYgdHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMgJiYgKHZhbHVlIDwgMSB8fCB2YWx1ZSA+IDEyKTtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhaW5lclxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9ja1xuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIHJvbGU6IFwibWVudVwiLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNxdWFyZU1hc2ssXG4gICAgICBvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUsXG4gICAgICBvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kLFxuICAgICAgb25Nb3VzZVVwOiB0aGlzLmhhbmRsZU1vdXNlVXAsXG4gICAgICBvbk1vdXNlTW92ZTogdGhpcy5oYW5kbGVNb3ZlXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5waW5cbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tQb2ludGVyJDEsIHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0lubmVyOiBpc1BvaW50ZXJJbm5lcixcbiAgICAgIGhhc1NlbGVjdGVkOiB0aGlzLmhhc1NlbGVjdGVkKClcbiAgICB9KSwgY2hpbGRyZW4pKTtcbiAgfTtcblxuICAgZmFsc2UgPyBDbG9jay5wcm9wVHlwZXMgPSB7XG4gICAgdHlwZTogb25lT2YoT2JqZWN0LmtleXMoQ2xvY2tUeXBlJDEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gQ2xvY2tUeXBlJDFba2V5XTtcbiAgICB9KSkuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjaGlsZHJlbjogYXJyYXlPZihub2RlKS5pc1JlcXVpcmVkLFxuICAgIGFtcG06IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBDbG9jay5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYW1wbTogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIENsb2NrO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJGIgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgY29udGFpbmVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgbWFyZ2luOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiA0ICsgXCJweCAwIFwiICsgdGhlbWUuc3BhY2luZy51bml0ICsgXCJweFwiXG4gICAgfSxcbiAgICBjbG9jazoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwuMDcpJyxcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBoZWlnaHQ6IDI2MCxcbiAgICAgIHdpZHRoOiAyNjAsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIHpJbmRleDogMVxuICAgIH0sXG4gICAgc3F1YXJlTWFzazoge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bycsXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICB0b3VjaEFjdGlvbnM6ICdub25lJyxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICcmOmFjdGl2ZSc6IHtcbiAgICAgICAgY3Vyc29yOiAnbW92ZSdcbiAgICAgIH1cbiAgICB9LFxuICAgIHBpbjoge1xuICAgICAgd2lkdGg6IDYsXG4gICAgICBoZWlnaHQ6IDYsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAnNTAlJyxcbiAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIENsb2NrJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyRiLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2xvY2snXG59KShDbG9jayk7XG5cbnZhciBwb3NpdGlvbnMgPSB7XG4gIDA6IFswLCA0MF0sXG4gIDE6IFs1NSwgMTkuNl0sXG4gIDI6IFs5NC40LCA1OS41XSxcbiAgMzogWzEwOSwgMTE0XSxcbiAgNDogWzk0LjQsIDE2OC41XSxcbiAgNTogWzU0LjUsIDIwOC40XSxcbiAgNjogWzAsIDIyM10sXG4gIDc6IFstNTQuNSwgMjA4LjRdLFxuICA4OiBbLTk0LjQsIDE2OC41XSxcbiAgOTogWy0xMDksIDExNF0sXG4gIDEwOiBbLTk0LjQsIDU5LjVdLFxuICAxMTogWy01NC41LCAxOS42XSxcbiAgMTI6IFswLCA1XSxcbiAgMTM6IFszNi45LCA0OS45XSxcbiAgMTQ6IFs2NCwgNzddLFxuICAxNTogWzc0LCAxMTRdLFxuICAxNjogWzY0LCAxNTFdLFxuICAxNzogWzM3LCAxNzhdLFxuICAxODogWzAsIDE4OF0sXG4gIDE5OiBbLTM3LCAxNzhdLFxuICAyMDogWy02NCwgMTUxXSxcbiAgMjE6IFstNzQsIDExNF0sXG4gIDIyOiBbLTY0LCA3N10sXG4gIDIzOiBbLTM3LCA1MF1cbn07XG5cbnZhciBDbG9ja051bWJlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShDbG9ja051bWJlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDbG9ja051bWJlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmdldFRyYW5zZm9ybVN0eWxlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgcG9zaXRpb24gPSBwb3NpdGlvbnNbaW5kZXhdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIiArIHBvc2l0aW9uWzBdICsgXCJweCwgXCIgKyBwb3NpdGlvblsxXSArIFwicHhcIlxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2xvY2tOdW1iZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBsYWJlbCA9IF9iLmxhYmVsLFxuICAgICAgICBpbmRleCA9IF9iLmluZGV4LFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgaXNJbm5lciA9IF9iLmlzSW5uZXI7XG4gICAgdmFyIGNsYXNzTmFtZSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLmNsb2NrTnVtYmVyLCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy5zZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2EpKTtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X19fZGVmYXVsdC5hLCB7XG4gICAgICB2YXJpYW50OiBpc0lubmVyID8gJ2JvZHkxJyA6ICdzdWJ0aXRsZTEnLFxuICAgICAgY29tcG9uZW50OiBcInNwYW5cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHRoaXMuZ2V0VHJhbnNmb3JtU3R5bGUoaW5kZXgpXG4gICAgfSwgbGFiZWwpO1xuICB9O1xuXG4gICBmYWxzZSA/IENsb2NrTnVtYmVyLnByb3BUeXBlcyA9IHtcbiAgICBpbmRleDogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgbGFiZWw6IHN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaXNJbm5lcjogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENsb2NrTnVtYmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpc0lubmVyOiBmYWxzZVxuICB9O1xuICByZXR1cm4gQ2xvY2tOdW1iZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkYyA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICB2YXIgc2l6ZSA9IHRoZW1lLnNwYWNpbmcudW5pdCAqIDQ7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICAgIGNsb2NrTnVtYmVyOiB7XG4gICAgICB3aWR0aDogc2l6ZSxcbiAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgbGVmdDogXCJjYWxjKDUwJSAtIFwiICsgc2l6ZSAvIDIgKyBcInB4KVwiLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1mbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSA6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2tOdW1iZXIkMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGMsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9ja051bWJlcidcbn0pKENsb2NrTnVtYmVyKTtcblxudmFyIGdldEhvdXJOdW1iZXJzID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBhbXBtID0gX2EuYW1wbSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBkYXRlID0gX2EuZGF0ZTtcbiAgdmFyIGN1cnJlbnRIb3VycyA9IHV0aWxzLmdldEhvdXJzKGRhdGUpO1xuICB2YXIgaG91ck51bWJlcnMgPSBbXTtcbiAgdmFyIHN0YXJ0SG91ciA9IGFtcG0gPyAxIDogMDtcbiAgdmFyIGVuZEhvdXIgPSBhbXBtID8gMTIgOiAyMztcblxuICB2YXIgaXNTZWxlY3RlZCA9IGZ1bmN0aW9uIChob3VyKSB7XG4gICAgaWYgKGFtcG0pIHtcbiAgICAgIGlmIChob3VyID09PSAxMikge1xuICAgICAgICByZXR1cm4gY3VycmVudEhvdXJzID09PSAxMiB8fCBjdXJyZW50SG91cnMgPT09IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjdXJyZW50SG91cnMgPT09IGhvdXIgfHwgY3VycmVudEhvdXJzIC0gMTIgPT09IGhvdXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRIb3VycyA9PT0gaG91cjtcbiAgfTtcblxuICBmb3IgKHZhciBob3VyID0gc3RhcnRIb3VyOyBob3VyIDw9IGVuZEhvdXI7IGhvdXIgKz0gMSkge1xuICAgIHZhciBsYWJlbCA9IGhvdXIudG9TdHJpbmcoKTtcblxuICAgIGlmIChob3VyID09PSAwKSB7XG4gICAgICBsYWJlbCA9ICcwMCc7XG4gICAgfVxuXG4gICAgdmFyIHByb3BzID0ge1xuICAgICAgaW5kZXg6IGhvdXIsXG4gICAgICBsYWJlbDogdXRpbHMuZm9ybWF0TnVtYmVyKGxhYmVsKSxcbiAgICAgIHNlbGVjdGVkOiBpc1NlbGVjdGVkKGhvdXIpLFxuICAgICAgaXNJbm5lcjogIWFtcG0gJiYgKGhvdXIgPT09IDAgfHwgaG91ciA+IDEyKVxuICAgIH07XG4gICAgaG91ck51bWJlcnMucHVzaChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBrZXk6IGhvdXJcbiAgICB9LCBwcm9wcykpKTtcbiAgfVxuXG4gIHJldHVybiBob3VyTnVtYmVycztcbn07XG52YXIgZ2V0TWludXRlc051bWJlcnMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICB2YXIgZiA9IHV0aWxzLmZvcm1hdE51bWJlcjtcbiAgcmV0dXJuIFtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzAwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAwLFxuICAgIGluZGV4OiAxMixcbiAgICBrZXk6IDEyXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzA1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA1LFxuICAgIGluZGV4OiAxLFxuICAgIGtleTogMVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcxMCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMTAsXG4gICAgaW5kZXg6IDIsXG4gICAga2V5OiAyXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzE1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAxNSxcbiAgICBpbmRleDogMyxcbiAgICBrZXk6IDNcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMjAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDIwLFxuICAgIGluZGV4OiA0LFxuICAgIGtleTogNFxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcyNScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMjUsXG4gICAgaW5kZXg6IDUsXG4gICAga2V5OiA1XG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzMwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAzMCxcbiAgICBpbmRleDogNixcbiAgICBrZXk6IDZcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMzUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDM1LFxuICAgIGluZGV4OiA3LFxuICAgIGtleTogN1xuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCc0MCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNDAsXG4gICAgaW5kZXg6IDgsXG4gICAga2V5OiA4XG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzQ1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA0NSxcbiAgICBpbmRleDogOSxcbiAgICBrZXk6IDlcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNTAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDUwLFxuICAgIGluZGV4OiAxMCxcbiAgICBrZXk6IDEwXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzU1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA1NSxcbiAgICBpbmRleDogMTEsXG4gICAga2V5OiAxMVxuICB9KV07XG59O1xuXG52YXIgVGltZVBpY2tlclZpZXcgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoVGltZVBpY2tlclZpZXcsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gVGltZVBpY2tlclZpZXcoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5nZXRWaWV3UHJvcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgICBhbXBtID0gX2EuYW1wbSxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuXG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBDbG9ja1R5cGUkMS5IT1VSUzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHV0aWxzLmdldEhvdXJzKGRhdGUpLFxuICAgICAgICAgICAgY2hpbGRyZW46IGdldEhvdXJOdW1iZXJzKHtcbiAgICAgICAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgICAgICAgYW1wbTogQm9vbGVhbihhbXBtKSxcbiAgICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVIb3VyQ2hhbmdlXG4gICAgICAgICAgfTtcblxuICAgICAgICBjYXNlIENsb2NrVHlwZSQxLk1JTlVURVM6XG4gICAgICAgICAgdmFyIG1pbnV0ZXNWYWx1ZSA9IHV0aWxzLmdldE1pbnV0ZXMoZGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBtaW51dGVzVmFsdWUsXG4gICAgICAgICAgICBjaGlsZHJlbjogZ2V0TWludXRlc051bWJlcnMoe1xuICAgICAgICAgICAgICB2YWx1ZTogbWludXRlc1ZhbHVlLFxuICAgICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzLmhhbmRsZU1pbnV0ZXNDaGFuZ2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgQ2xvY2tUeXBlJDEuU0VDT05EUzpcbiAgICAgICAgICB2YXIgc2Vjb25kc1ZhbHVlID0gdXRpbHMuZ2V0U2Vjb25kcyhkYXRlKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHNlY29uZHNWYWx1ZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBnZXRNaW51dGVzTnVtYmVycyh7XG4gICAgICAgICAgICAgIHZhbHVlOiBzZWNvbmRzVmFsdWUsXG4gICAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMuaGFuZGxlU2Vjb25kc0NoYW5nZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHByb3ZpZGUgdGhlIHR5cGUgZm9yIFRpbWVQaWNrZXJWaWV3Jyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUhvdXJDaGFuZ2UgPSBmdW5jdGlvbiAoaG91cnMsIGlzRmluaXNoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIHVwZGF0ZWRUaW1lID0gdXRpbHMuc2V0SG91cnMoZGF0ZSwgaG91cnMpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkhvdXJDaGFuZ2UodXBkYXRlZFRpbWUsIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTWludXRlc0NoYW5nZSA9IGZ1bmN0aW9uIChtaW51dGVzLCBpc0ZpbmlzaCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciB1cGRhdGVkVGltZSA9IHV0aWxzLnNldE1pbnV0ZXMoZGF0ZSwgbWludXRlcyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uTWludXRlc0NoYW5nZSh1cGRhdGVkVGltZSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlID0gZnVuY3Rpb24gKHNlY29uZHMsIGlzRmluaXNoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIHVwZGF0ZWRUaW1lID0gdXRpbHMuc2V0U2Vjb25kcyhkYXRlLCBzZWNvbmRzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25TZWNvbmRzQ2hhbmdlKHVwZGF0ZWRUaW1lLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRpbWVQaWNrZXJWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgYW1wbSA9IF9hLmFtcG0sXG4gICAgICAgIHR5cGUgPSBfYS50eXBlO1xuICAgIHZhciB2aWV3UHJvcHMgPSB0aGlzLmdldFZpZXdQcm9wcygpO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9jayQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0sIHZpZXdQcm9wcykpO1xuICB9O1xuXG4gICBmYWxzZSA/IFRpbWVQaWNrZXJWaWV3LnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkhvdXJDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbk1pbnV0ZXNDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblNlY29uZHNDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgYW1wbTogYm9vbCxcbiAgICB0eXBlOiBvbmVPZihPYmplY3Qua2V5cyhDbG9ja1R5cGUkMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBDbG9ja1R5cGUkMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIFRpbWVQaWNrZXJWaWV3LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbXBtOiB0cnVlXG4gIH07XG4gIHJldHVybiBUaW1lUGlja2VyVmlldztcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcbnZhciBUaW1lUGlja2VyVmlldyQxID0gd2l0aFV0aWxzKCkoVGltZVBpY2tlclZpZXcpO1xuXG52YXIgVGltZVBpY2tlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShUaW1lUGlja2VyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFRpbWVQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5IT1VSUyxcbiAgICAgIG1lcmlkaWVtTW9kZTogX3RoaXMucHJvcHMudXRpbHMuZ2V0SG91cnMoX3RoaXMucHJvcHMuZGF0ZSkgPj0gMTIgPyAncG0nIDogJ2FtJ1xuICAgIH07XG5cbiAgICBfdGhpcy5zZXRNZXJpZGllbU1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1lcmlkaWVtTW9kZTogbW9kZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNoYW5nZSh7XG4gICAgICAgICAgICB0aW1lOiBfdGhpcy5wcm9wcy5kYXRlLFxuICAgICAgICAgICAgaXNGaW5pc2g6IGZhbHNlLFxuICAgICAgICAgICAgb3Blbk1pbnV0ZXM6IGZhbHNlLFxuICAgICAgICAgICAgb3BlblNlY29uZHM6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICB2YXIgdGltZSA9IF9hLnRpbWUsXG4gICAgICAgICAgaXNGaW5pc2ggPSBfYS5pc0ZpbmlzaCxcbiAgICAgICAgICBvcGVuTWludXRlcyA9IF9hLm9wZW5NaW51dGVzLFxuICAgICAgICAgIG9wZW5TZWNvbmRzID0gX2Eub3BlblNlY29uZHM7XG4gICAgICB2YXIgd2l0aE1lcmlkaWVtID0gY29udmVydFRvTWVyaWRpZW0odGltZSwgX3RoaXMuc3RhdGUubWVyaWRpZW1Nb2RlLCBCb29sZWFuKF90aGlzLnByb3BzLmFtcG0pLCBfdGhpcy5wcm9wcy51dGlscyk7XG5cbiAgICAgIGlmIChpc0ZpbmlzaCkge1xuICAgICAgICBpZiAoIW9wZW5NaW51dGVzICYmICFvcGVuU2Vjb25kcykge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHdpdGhNZXJpZGllbSwgaXNGaW5pc2gpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZW5NaW51dGVzKSB7XG4gICAgICAgICAgX3RoaXMub3Blbk1pbnV0ZXNWaWV3KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlblNlY29uZHMpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuU2Vjb25kc1ZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh3aXRoTWVyaWRpZW0sIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlSG91ckNoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgaXNGaW5pc2g6IGlzRmluaXNoLFxuICAgICAgICBvcGVuTWludXRlczogdHJ1ZSxcbiAgICAgICAgb3BlblNlY29uZHM6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTWludXRlc0NoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgaXNGaW5pc2g6IGlzRmluaXNoLFxuICAgICAgICBvcGVuTWludXRlczogZmFsc2UsXG4gICAgICAgIG9wZW5TZWNvbmRzOiBCb29sZWFuKF90aGlzLnByb3BzLnNlY29uZHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU2Vjb25kc0NoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgaXNGaW5pc2g6IGlzRmluaXNoLFxuICAgICAgICBvcGVuTWludXRlczogZmFsc2UsXG4gICAgICAgIG9wZW5TZWNvbmRzOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5TZWNvbmRzVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLlNFQ09ORFNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuTWludXRlc1ZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5NSU5VVEVTXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbkhvdXJWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuVmlldzogQ2xvY2tUeXBlJDEuSE9VUlNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUaW1lUGlja2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIHRoZW1lID0gX2IudGhlbWUsXG4gICAgICAgIGRhdGUgPSBfYi5kYXRlLFxuICAgICAgICB1dGlscyA9IF9iLnV0aWxzLFxuICAgICAgICBhbXBtID0gX2IuYW1wbSxcbiAgICAgICAgc2Vjb25kcyA9IF9iLnNlY29uZHM7XG4gICAgdmFyIF9jID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgbWVyaWRpZW1Nb2RlID0gX2MubWVyaWRpZW1Nb2RlLFxuICAgICAgICBvcGVuVmlldyA9IF9jLm9wZW5WaWV3O1xuICAgIHZhciBydGwgPSB0aGVtZS5kaXJlY3Rpb24gPT09ICdydGwnO1xuICAgIHZhciBob3VyTWludXRlQ2xhc3NOYW1lID0gcnRsID8gY2xhc3Nlcy5ob3VyTWludXRlTGFiZWxSZXZlcnNlIDogY2xhc3Nlcy5ob3VyTWludXRlTGFiZWw7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFBpY2tlclRvb2xiYXIkMSwge1xuICAgICAgY2xhc3NOYW1lOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy50b29sYmFyLCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy50b29sYmFyTGVmdFBhZGRpbmddID0gYW1wbSwgX2EpKVxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogaG91ck1pbnV0ZUNsYXNzTmFtZVxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuSG91clZpZXcsXG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IENsb2NrVHlwZSQxLkhPVVJTLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldEhvdXJUZXh0KGRhdGUsIEJvb2xlYW4oYW1wbSkpXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgbGFiZWw6IFwiOlwiLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlcGFyYXRvclxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3Blbk1pbnV0ZXNWaWV3LFxuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBDbG9ja1R5cGUkMS5NSU5VVEVTLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldE1pbnV0ZVRleHQoZGF0ZSlcbiAgICB9KSwgc2Vjb25kcyAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkZyYWdtZW50XCJdLCBudWxsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIGxhYmVsOiBcIjpcIixcbiAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZXBhcmF0b3JcbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5TZWNvbmRzVmlldyxcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gQ2xvY2tUeXBlJDEuU0VDT05EUyxcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRTZWNvbmRUZXh0KGRhdGUpXG4gICAgfSkpKSwgYW1wbSAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IHNlY29uZHMgPyBjbGFzc2VzLmFtcG1TZWxlY3Rpb25XaXRoU2Vjb25kcyA6IGNsYXNzZXMuYW1wbVNlbGVjdGlvblxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICAgIHNlbGVjdGVkOiBtZXJpZGllbU1vZGUgPT09ICdhbScsXG4gICAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgnYW0nKSxcbiAgICAgIG9uQ2xpY2s6IHRoaXMuc2V0TWVyaWRpZW1Nb2RlKCdhbScpXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICAgIHNlbGVjdGVkOiBtZXJpZGllbU1vZGUgPT09ICdwbScsXG4gICAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgncG0nKSxcbiAgICAgIG9uQ2xpY2s6IHRoaXMuc2V0TWVyaWRpZW1Nb2RlKCdwbScpXG4gICAgfSkpKSwgdGhpcy5wcm9wcy5jaGlsZHJlbiwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVGltZVBpY2tlclZpZXckMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIHR5cGU6IHRoaXMuc3RhdGUub3BlblZpZXcsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgb25Ib3VyQ2hhbmdlOiB0aGlzLmhhbmRsZUhvdXJDaGFuZ2UsXG4gICAgICBvbk1pbnV0ZXNDaGFuZ2U6IHRoaXMuaGFuZGxlTWludXRlc0NoYW5nZSxcbiAgICAgIG9uU2Vjb25kc0NoYW5nZTogdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlXG4gICAgfSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IFRpbWVQaWNrZXIucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBub2RlLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbXBtOiBib29sLFxuICAgIHNlY29uZHM6IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBUaW1lUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjaGlsZHJlbjogbnVsbCxcbiAgICBhbXBtOiB0cnVlLFxuICAgIHNlY29uZHM6IGZhbHNlXG4gIH07XG4gIHJldHVybiBUaW1lUGlja2VyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJGQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICAgIHRvb2xiYXI6IHtcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICB9LFxuICAgIHRvb2xiYXJMZWZ0UGFkZGluZzoge1xuICAgICAgcGFkZGluZ0xlZnQ6IDUwXG4gICAgfSxcbiAgICBzZXBhcmF0b3I6IHtcbiAgICAgIG1hcmdpbjogJzAgNHB4IDAgMnB4JyxcbiAgICAgIGN1cnNvcjogJ2RlZmF1bHQnXG4gICAgfSxcbiAgICBhbXBtU2VsZWN0aW9uOiB7XG4gICAgICBtYXJnaW5MZWZ0OiAyMCxcbiAgICAgIG1hcmdpblJpZ2h0OiAtMjBcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb25XaXRoU2Vjb25kczoge1xuICAgICAgbWFyZ2luTGVmdDogMTUsXG4gICAgICBtYXJnaW5SaWdodDogMTBcbiAgICB9LFxuICAgIGFtcG1MYWJlbDoge1xuICAgICAgZm9udFNpemU6IDE4XG4gICAgfSxcbiAgICBob3VyTWludXRlTGFiZWw6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJ1xuICAgIH0sXG4gICAgaG91ck1pbnV0ZUxhYmVsUmV2ZXJzZToge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ3Jvdy1yZXZlcnNlJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIFRpbWVQaWNrZXIkMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGQsIHtcbiAgd2l0aFRoZW1lOiB0cnVlLFxuICBuYW1lOiAnTXVpUGlja2Vyc1RpbWVQaWNrZXInXG59KSh3aXRoVXRpbHMoKShUaW1lUGlja2VyKSk7XG5cbnZhciBUaW1lUGlja2VyTW9kYWwgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgYW1wbSA9IHByb3BzLmFtcG0sXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBzZWNvbmRzID0gcHJvcHMuc2Vjb25kcyxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImF1dG9Pa1wiLCBcIm9uQ2hhbmdlXCIsIFwiYW1wbVwiLCBcImZvcndhcmRlZFJlZlwiLCBcInNlY29uZHNcIl0pO1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShCYXNlUGlja2VyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICBtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlOiB0cnVlXG4gIH0sIHByb3BzKSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlQ2xlYXIgPSBfYS5oYW5kbGVDbGVhcixcbiAgICAgICAgaGFuZGxlRGlzbWlzcyA9IF9hLmhhbmRsZURpc21pc3MsXG4gICAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZSA9IF9hLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgcGljazEyaE9yMjRoRm9ybWF0ID0gX2EucGljazEyaE9yMjRoRm9ybWF0O1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShNb2RhbFdyYXBwZXIsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgICBvbkFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIG9uRGlzbWlzczogaGFuZGxlRGlzbWlzcyxcbiAgICAgIG9uU2V0VG9kYXk6IGhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy50aW1lMTJoRm9ybWF0LCB1dGlscy50aW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVGltZVBpY2tlciQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBzZWNvbmRzOiBzZWNvbmRzXG4gICAgfSkpO1xuICB9KTtcbn07XG4gZmFsc2UgPyBUaW1lUGlja2VyTW9kYWwucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IGJvb2wsXG4gIGFtcG06IGJvb2wsXG4gIHNlY29uZHM6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcblRpbWVQaWNrZXJNb2RhbC5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiBmYWxzZSxcbiAgYW1wbTogdHJ1ZSxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIHNlY29uZHM6IGZhbHNlXG59O1xudmFyIFRpbWVQaWNrZXJNb2RhbCQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRpbWVQaWNrZXJNb2RhbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBUaW1lUGlja2VySW5saW5lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgc2Vjb25kcyA9IHByb3BzLnNlY29uZHMsXG4gICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShwcm9wcywgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJvbkNoYW5nZVwiLCBcImFtcG1cIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJzZWNvbmRzXCJdKTtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQmFzZVBpY2tlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgbWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZTogdHJ1ZSxcbiAgICBhdXRvT2s6IHRydWVcbiAgfSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgcGljazEyaE9yMjRoRm9ybWF0ID0gX2EucGljazEyaE9yMjRoRm9ybWF0LFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQ7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKElubGluZVdyYXBwZXIkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgaW5uZXJSZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgaGFuZGxlQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy50aW1lMTJoRm9ybWF0LCB1dGlscy50aW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVGltZVBpY2tlciQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBzZWNvbmRzOiBzZWNvbmRzXG4gICAgfSkpO1xuICB9KTtcbn07XG4gZmFsc2UgPyBUaW1lUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgYW1wbTogYm9vbCxcbiAgc2Vjb25kczogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuVGltZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGFtcG06IHRydWUsXG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIHNlY29uZHM6IGZhbHNlXG59O1xudmFyIFRpbWVQaWNrZXJJbmxpbmUkMSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImZvcndhcmRSZWZcIl0pKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUaW1lUGlja2VySW5saW5lLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIERhdGVUaW1lUGlja2VyVmlldztcblxuKGZ1bmN0aW9uIChEYXRlVGltZVBpY2tlclZpZXcpIHtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiWUVBUlwiXSA9IFwieWVhclwiO1xuICBEYXRlVGltZVBpY2tlclZpZXdbXCJEQVRFXCJdID0gXCJkYXRlXCI7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIkhPVVJcIl0gPSBcImhvdXJzXCI7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIk1JTlVURVNcIl0gPSBcIm1pbnV0ZXNcIjtcbn0pKERhdGVUaW1lUGlja2VyVmlldyB8fCAoRGF0ZVRpbWVQaWNrZXJWaWV3ID0ge30pKTtcblxudmFyIERhdGVUaW1lUGlja2VyVmlldyQxID0gRGF0ZVRpbWVQaWNrZXJWaWV3O1xuXG52YXIgc3R5bGVzJGUgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIHBhZGRpbmdMZWZ0OiAxNixcbiAgICAgIHBhZGRpbmdSaWdodDogMTYsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWFyb3VuZCdcbiAgICB9LFxuICAgIHNlcGFyYXRvcjoge1xuICAgICAgbWFyZ2luOiAnMCA0cHggMCAycHgnLFxuICAgICAgY3Vyc29yOiAnZGVmYXVsdCdcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb246IHtcbiAgICAgIHRvcDogOSxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgbWFyZ2luTGVmdDogMTAsXG4gICAgICBtYXJnaW5SaWdodDogLTEwXG4gICAgfSxcbiAgICBhbXBtTGFiZWw6IHtcbiAgICAgIGZvbnRTaXplOiAxOFxuICAgIH0sXG4gICAgaG91ck1pbnV0ZUxhYmVsOiB7XG4gICAgICB0b3A6IDUsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJyxcbiAgICAgIGZsZXhEaXJlY3Rpb246IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCcgPyAncm93LXJldmVyc2UnIDogJ3JvdydcbiAgICB9LFxuICAgIGRhdGVIZWFkZXI6IHtcbiAgICAgIGhlaWdodDogNjBcbiAgICB9LFxuICAgIHRpbWVIZWFkZXI6IHtcbiAgICAgIGhlaWdodDogNjUsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCdcbiAgICB9XG4gIH0pO1xufTtcbnZhciBEYXRlVGltZVBpY2tlckhlYWRlciA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIG9wZW5WaWV3ID0gX2Eub3BlblZpZXcsXG4gICAgICBtZXJpZGllbU1vZGUgPSBfYS5tZXJpZGllbU1vZGUsXG4gICAgICBvbk9wZW5WaWV3Q2hhbmdlID0gX2Eub25PcGVuVmlld0NoYW5nZSxcbiAgICAgIHNldE1lcmlkaWVtTW9kZSA9IF9hLnNldE1lcmlkaWVtTW9kZSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBhbXBtID0gX2EuYW1wbTtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFBpY2tlclRvb2xiYXIkMSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50b29sYmFyXG4gIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuZGF0ZUhlYWRlclxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLllFQVIpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSLFxuICAgIGxhYmVsOiB1dGlscy5nZXRZZWFyVGV4dChkYXRlKVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoNFwiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFLFxuICAgIGxhYmVsOiB1dGlscy5nZXREYXRlVGltZVBpY2tlckhlYWRlclRleHQoZGF0ZSlcbiAgfSkpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRpbWVIZWFkZXJcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5ob3VyTWludXRlTGFiZWxcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoM1wiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSLFxuICAgIGxhYmVsOiB1dGlscy5nZXRIb3VyVGV4dChkYXRlLCBhbXBtKVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoM1wiLFxuICAgIGxhYmVsOiBcIjpcIixcbiAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlcGFyYXRvclxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoM1wiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTLFxuICAgIGxhYmVsOiB1dGlscy5nZXRNaW51dGVUZXh0KGRhdGUpXG4gIH0pKSwgYW1wbSAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1TZWxlY3Rpb25cbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICBzZWxlY3RlZDogbWVyaWRpZW1Nb2RlID09PSAnYW0nLFxuICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgnYW0nKSxcbiAgICBvbkNsaWNrOiBzZXRNZXJpZGllbU1vZGUoJ2FtJylcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hbXBtTGFiZWwsXG4gICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ3BtJyxcbiAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgIGxhYmVsOiB1dGlscy5nZXRNZXJpZGllbVRleHQoJ3BtJyksXG4gICAgb25DbGljazogc2V0TWVyaWRpZW1Nb2RlKCdwbScpXG4gIH0pKSkpO1xufTtcbiBmYWxzZSA/IERhdGVUaW1lUGlja2VySGVhZGVyLnByb3BUeXBlcyA9IHtcbiAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBtZXJpZGllbU1vZGU6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBvcGVuVmlldzogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9uT3BlblZpZXdDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgc2V0TWVyaWRpZW1Nb2RlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgYW1wbTogYm9vbCxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcbkRhdGVUaW1lUGlja2VySGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYW1wbTogdHJ1ZVxufTtcbnZhciBEYXRldGltZVBpY2tlckhlYWRlciA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGUsIHtcbiAgbmFtZTogJ011aVBpY2tlckRUSGVhZGVyJ1xufSkod2l0aFV0aWxzKCkoRGF0ZVRpbWVQaWNrZXJIZWFkZXIpKTtcblxudmFyIHZpZXdUb1RhYkluZGV4ID0gZnVuY3Rpb24gKG9wZW5WaWV3KSB7XG4gIGlmIChvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURSB8fCBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuWUVBUikge1xuICAgIHJldHVybiAnZGF0ZSc7XG4gIH1cblxuICByZXR1cm4gJ3RpbWUnO1xufTtcblxudmFyIHRhYkluZGV4VG9WaWV3ID0gZnVuY3Rpb24gKHRhYikge1xuICBpZiAodGFiID09PSAnZGF0ZScpIHtcbiAgICByZXR1cm4gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURTtcbiAgfVxuXG4gIHJldHVybiBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSO1xufTtcblxudmFyIERhdGVUaW1lUGlja2VyVGFicyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmlldyA9IHByb3BzLnZpZXcsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgY2xhc3NlcyA9IHByb3BzLmNsYXNzZXMsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lLFxuICAgICAgZGF0ZVJhbmdlSWNvbiA9IHByb3BzLmRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbiA9IHByb3BzLnRpbWVJY29uO1xuICB2YXIgaW5kaWNhdG9yQ29sb3IgPSB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyAnc2Vjb25kYXJ5JyA6ICdwcmltYXJ5JztcblxuICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB2aWV3VG9UYWJJbmRleCh2aWV3KSkge1xuICAgICAgb25DaGFuZ2UodGFiSW5kZXhUb1ZpZXcodmFsdWUpKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX21hdGVyaWFsX3VpX2NvcmVfUGFwZXJfX19kZWZhdWx0LmEsIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX21hdGVyaWFsX3VpX2NvcmVfVGFic19fX2RlZmF1bHQuYSwge1xuICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICB2YWx1ZTogdmlld1RvVGFiSW5kZXgodmlldyksXG4gICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudGFicyxcbiAgICBpbmRpY2F0b3JDb2xvcjogaW5kaWNhdG9yQ29sb3JcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfX19kZWZhdWx0LmEsIHtcbiAgICB2YWx1ZTogXCJkYXRlXCIsXG4gICAgaWNvbjogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0LmEsIG51bGwsIGRhdGVSYW5nZUljb24pXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19tYXRlcmlhbF91aV9jb3JlX1RhYl9fX2RlZmF1bHQuYSwge1xuICAgIHZhbHVlOiBcInRpbWVcIixcbiAgICBpY29uOiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fX2RlZmF1bHQuYSwgbnVsbCwgdGltZUljb24pXG4gIH0pKSk7XG59O1xuIGZhbHNlID8gRGF0ZVRpbWVQaWNrZXJUYWJzLnByb3BUeXBlcyA9IHtcbiAgdmlldzogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGRhdGVSYW5nZUljb246IG5vZGUuaXNSZXF1aXJlZCxcbiAgdGltZUljb246IG5vZGUuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcbnZhciBzdHlsZXMkZiA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHRhYnM6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS50eXBlID09PSAnbGlnaHQnID8gdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmRbXCJkZWZhdWx0XCJdXG4gICAgfVxuICB9O1xufTtcbnZhciBEYXRlVGltZVBpY2tlclRhYnMkMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhUaGVtZV9fX2RlZmF1bHQoKSgpKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGYsIHtcbiAgbmFtZTogJ011aVBpY2tlckRUVGFicydcbn0pKERhdGVUaW1lUGlja2VyVGFicykpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJWaWV3JDIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHNlbGVjdGVkID0gX2Euc2VsZWN0ZWQsXG4gICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuO1xuXG4gIGlmICghc2VsZWN0ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH0pO1xufTtcbiBmYWxzZSA/IERhdGVUaW1lUGlja2VyVmlldyQyLnByb3BUeXBlcyA9IHtcbiAgc2VsZWN0ZWQ6IGJvb2wuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcblxudmFyIERhdGVUaW1lUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKERhdGVUaW1lUGlja2VyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIERhdGVUaW1lUGlja2VyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuVmlldzogX3RoaXMucHJvcHMub3BlblRvLFxuICAgICAgbWVyaWRpZW1Nb2RlOiBfdGhpcy5wcm9wcy51dGlscy5nZXRIb3VycyhfdGhpcy5wcm9wcy5kYXRlKSA+PSAxMiA/ICdwbScgOiAnYW0nXG4gICAgfTtcblxuICAgIF90aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoLCBuZXh0Vmlldykge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UodGltZSk7XG5cbiAgICAgIGlmIChpc0ZpbmlzaCAmJiBfdGhpcy5wcm9wcy5hdXRvU3VibWl0KSB7XG4gICAgICAgIF90aGlzLmhhbmRsZVZpZXdDaGFuZ2UobmV4dFZpZXcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRNZXJpZGllbU1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1lcmlkaWVtTW9kZTogbW9kZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNoYW5nZShfdGhpcy5wcm9wcy5kYXRlLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVmlld0NoYW5nZSA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiB2aWV3XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgd2l0aE1lcmlkaWVtID0gY29udmVydFRvTWVyaWRpZW0odGltZSwgX3RoaXMuc3RhdGUubWVyaWRpZW1Nb2RlLCBCb29sZWFuKF90aGlzLnByb3BzLmFtcG0pLCBfdGhpcy5wcm9wcy51dGlscyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHdpdGhNZXJpZGllbSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVZZWFyQ2hhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIF90aGlzLm9uQ2hhbmdlKGRhdGUsIGZhbHNlLCBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRGF5Q2hhbmdlID0gZnVuY3Rpb24gKGRhdGUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5vbkNoYW5nZShkYXRlLCBpc0ZpbmlzaCwgRGF0ZVRpbWVQaWNrZXJWaWV3JDEuSE9VUik7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUhvdXJDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLm9uQ2hhbmdlKHRpbWUsIGlzRmluaXNoLCBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgRGF0ZVRpbWVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnN0YXRlLFxuICAgICAgICBvcGVuVmlldyA9IF9hLm9wZW5WaWV3LFxuICAgICAgICBtZXJpZGllbU1vZGUgPSBfYS5tZXJpZGllbU1vZGU7XG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0ZSA9IF9iLmRhdGUsXG4gICAgICAgIG1pbkRhdGUgPSBfYi5taW5EYXRlLFxuICAgICAgICBtYXhEYXRlID0gX2IubWF4RGF0ZSxcbiAgICAgICAgc2hvd1RhYnMgPSBfYi5zaG93VGFicyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYi5kaXNhYmxlUGFzdCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9iLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIGxlZnRBcnJvd0ljb24gPSBfYi5sZWZ0QXJyb3dJY29uLFxuICAgICAgICByaWdodEFycm93SWNvbiA9IF9iLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgICBkYXRlUmFuZ2VJY29uID0gX2IuZGF0ZVJhbmdlSWNvbixcbiAgICAgICAgdGltZUljb24gPSBfYi50aW1lSWNvbixcbiAgICAgICAgcmVuZGVyRGF5ID0gX2IucmVuZGVyRGF5LFxuICAgICAgICBhbXBtID0gX2IuYW1wbSxcbiAgICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBfYi5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBfYi5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBfYi5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgICAgVmlld0NvbnRhaW5lckNvbXBvbmVudCA9IF9iLlZpZXdDb250YWluZXJDb21wb25lbnQ7XG4gICAgdmFyIENvbnRhaW5lciA9IFZpZXdDb250YWluZXJDb21wb25lbnQ7XG4gICAgdmFyIFZpZXdDb250YWluZXJDb21wb25lbnRQcm9wcyA9IHR5cGVvZiBWaWV3Q29udGFpbmVyQ29tcG9uZW50ID09PSAnc3RyaW5nJyA/IHt9IDoge1xuICAgICAgb3BlblZpZXc6IG9wZW5WaWV3LFxuICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2VcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkZyYWdtZW50XCJdLCBudWxsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRldGltZVBpY2tlckhlYWRlciwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG9wZW5WaWV3OiBvcGVuVmlldyxcbiAgICAgIG1lcmlkaWVtTW9kZTogbWVyaWRpZW1Nb2RlLFxuICAgICAgc2V0TWVyaWRpZW1Nb2RlOiB0aGlzLnNldE1lcmlkaWVtTW9kZSxcbiAgICAgIG9uT3BlblZpZXdDaGFuZ2U6IHRoaXMuaGFuZGxlVmlld0NoYW5nZSxcbiAgICAgIGFtcG06IGFtcG1cbiAgICB9KSwgc2hvd1RhYnMgJiYgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXJUYWJzJDEsIHtcbiAgICAgIHZpZXc6IG9wZW5WaWV3LFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlVmlld0NoYW5nZSxcbiAgICAgIGRhdGVSYW5nZUljb246IGRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbjogdGltZUljb25cbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ29udGFpbmVyLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgVmlld0NvbnRhaW5lckNvbXBvbmVudFByb3BzKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXJWaWV3JDIsIHtcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuWUVBUlxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFllYXJTZWxlY3Rpb24kMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlWWVhckNoYW5nZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmdcbiAgICB9KSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUaW1lUGlja2VyVmlldyQyLCB7XG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEVcbiAgICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDYWxlbmRhciQxLCB7XG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVEYXlDaGFuZ2UsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGltZVBpY2tlclZpZXckMiwge1xuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSIHx8IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVGltZVBpY2tlclZpZXckMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIHR5cGU6IG9wZW5WaWV3LFxuICAgICAgb25Ib3VyQ2hhbmdlOiB0aGlzLmhhbmRsZUhvdXJDaGFuZ2UsXG4gICAgICBvbk1pbnV0ZXNDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgb25TZWNvbmRzQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgIGFtcG06IGFtcG1cbiAgICB9KSkpKTtcbiAgfTtcblxuICAgZmFsc2UgPyBEYXRlVGltZVBpY2tlci5wcm9wVHlwZXMgPSB7XG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gICAgYW1wbTogYm9vbCxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgICBhdXRvU3VibWl0OiBib29sLFxuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGluaXRpYWxGb2N1c2VkRGF0ZTogYW55LFxuICAgIGlubmVyUmVmOiBhbnksXG4gICAgZGF0ZVJhbmdlSWNvbjogbm9kZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZS5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgb3BlblRvOiBvbmVPZihPYmplY3Qua2V5cyhEYXRlVGltZVBpY2tlclZpZXckMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBEYXRlVGltZVBpY2tlclZpZXckMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkLFxuICAgIHJlbmRlckRheTogZnVuYyxcbiAgICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgICBzaG93VGFiczogYm9vbCxcbiAgICB0aW1lSWNvbjogbm9kZSxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgVmlld0NvbnRhaW5lckNvbXBvbmVudDogb25lT2ZUeXBlKFtzdHJpbmcsIGZ1bmMsIG9iamVjdF0pXG4gIH0gOiB2b2lkIDA7XG4gIERhdGVUaW1lUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogZmFsc2UsXG4gICAgYW1wbTogdHJ1ZSxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gICAgYXV0b1N1Ym1pdDogdHJ1ZSxcbiAgICBkYXRlUmFuZ2VJY29uOiB1bmRlZmluZWQsXG4gICAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGxlZnRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgICByaWdodEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gICAgc2hvd1RhYnM6IHRydWUsXG4gICAgdGltZUljb246IHVuZGVmaW5lZCxcbiAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50OiAnZGl2J1xuICB9O1xuICByZXR1cm4gRGF0ZVRpbWVQaWNrZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBEYXRlVGltZVBpY2tlciQxID0gd2l0aFV0aWxzKCkoRGF0ZVRpbWVQaWNrZXIpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9wZW5UbyA9IHByb3BzLm9wZW5UbyxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBwcm9wcy5pbml0aWFsRm9jdXNlZERhdGUsXG4gICAgICBzaG93VGFicyA9IHByb3BzLnNob3dUYWJzLFxuICAgICAgYXV0b1N1Ym1pdCA9IHByb3BzLmF1dG9TdWJtaXQsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gcHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBkYXRlUmFuZ2VJY29uID0gcHJvcHMuZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uID0gcHJvcHMudGltZUljb24sXG4gICAgICByZW5kZXJEYXkgPSBwcm9wcy5yZW5kZXJEYXksXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBwcm9wcy5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImF1dG9Pa1wiLCBcIm9wZW5Ub1wiLCBcIm1pbkRhdGVcIiwgXCJtYXhEYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwic2hvd1RhYnNcIiwgXCJhdXRvU3VibWl0XCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwibGVmdEFycm93SWNvblwiLCBcInJpZ2h0QXJyb3dJY29uXCIsIFwiZGF0ZVJhbmdlSWNvblwiLCBcInRpbWVJY29uXCIsIFwicmVuZGVyRGF5XCIsIFwiYW1wbVwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiXSk7IC8vIGRvIG5vdCBzaG93IHRhYnMgZm9yIHNtYWxsIHNjcmVlbnNcblxuXG4gIHZhciB0b1Nob3dUYWJzID0gc2hvd1RhYnMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmlubmVySGVpZ2h0ID4gNjY3O1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQmFzZVBpY2tlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVDbGVhciA9IF9hLmhhbmRsZUNsZWFyLFxuICAgICAgICBoYW5kbGVEaXNtaXNzID0gX2EuaGFuZGxlRGlzbWlzcyxcbiAgICAgICAgaGFuZGxlU2V0VG9kYXlEYXRlID0gX2EuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQ7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKE1vZGFsV3JhcHBlciwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgc2hvd1RhYnM6IHRvU2hvd1RhYnMsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgICBvbkRpc21pc3M6IGhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiBoYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgZm9ybWF0OiBwaWNrMTJoT3IyNGhGb3JtYXQodXRpbHMuZGF0ZVRpbWUxMmhGb3JtYXQsIHV0aWxzLmRhdGVUaW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXIkMSwge1xuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9TdWJtaXQ6IGF1dG9TdWJtaXQsXG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgZGF0ZVJhbmdlSWNvbjogZGF0ZVJhbmdlSWNvbixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvOiBvcGVuVG8sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHNob3dUYWJzOiB0b1Nob3dUYWJzLFxuICAgICAgdGltZUljb246IHRpbWVJY29uXG4gICAgfSkpO1xuICB9KTtcbn07XG4gZmFsc2UgPyBEYXRlVGltZVBpY2tlck1vZGFsLnByb3BUeXBlcyA9IHtcbiAgLyoqIERhdGUtdGltZSBwaWNrZXIgdmFsdWUgKi9cbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBEYXRlIGZvcm1hdCBzdHJpbmcgZm9yIGlucHV0ICovXG4gIGZvcm1hdDogc3RyaW5nLFxuXG4gIC8qKiBDYWxsYmFjayBmaXJpbmcgd2hlbiBkYXRlIGFjY2VwdGVkIFsoZGF0ZTogRGF0ZSkgPT4gdm9pZF0gKi9cbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKiogQXV0byBhY2NlcHQgZGF0ZSBvbiBtaW51dGUgc2VsZWN0aW9uICovXG4gIGF1dG9PazogYm9vbCxcblxuICAvKiogTW92ZSB0byB0aGUgbmV4dCBwYXJ0IG9mIGRhdGUgb24gc2VsZWN0ICh5ZWFyIC0+IGRhdGUgLT4gaG91ciAtPiBtaW51dGUpICovXG4gIGF1dG9TdWJtaXQ6IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgZnV0dXJlIGRhdGVzICovXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgcGFzdCBkYXRlcyAqL1xuICBkaXNhYmxlUGFzdDogYm9vbCxcblxuICAvKiogTWluIHNlbGVjdGFibGUgZGF0ZSAqL1xuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogTWF4IHNlbGVjdGFibGUgZGF0ZSAqL1xuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogSW5pdGlhbCBmb2N1c2VkIGRhdGUgd2hlbiBjYWxlbmRhciBvcGVucywgaWYgbm8gdmFsdWUgaXMgcHJvdmlkZWQgKi9cbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogU2hvdyBkYXRlL3RpbWUgdGFicyAqL1xuICBzaG93VGFiczogYm9vbCxcblxuICAvKiogTGVmdCBhcnJvdyBpY29uICovXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG5cbiAgLyoqIFJpZ2h0IGFycm93IGljb24gKi9cbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG5cbiAgLyoqIERhdGUgdGFiIGljb24gKi9cbiAgZGF0ZVJhbmdlSWNvbjogbm9kZSxcblxuICAvKiogVGltZSB0YWIgaWNvbiAqL1xuICB0aW1lSWNvbjogbm9kZSxcblxuICAvKipcbiAgICogQ3VzdG9tIHJlbmRlcmVyIGZvciBkYXlcbiAgICogWyhkYXRlOiBEYXRlLCBub3dTZWxlY3RlZERhdGU6IERhdGUsIGlzSW5DdXJyZW50TW9udGg6IGJvb2xlYW4pID0+IFJlYWN0RWxlbWVudF1cbiAgICovXG4gIHJlbmRlckRheTogZnVuYyxcblxuICAvKiogMTJoLzI0aCB2aWV3IGZvciBob3VyIHNlbGVjdGlvbiBjbG9jayAqL1xuICBhbXBtOiBib29sLFxuXG4gIC8qKiBEaXNhYmxlIHNwZWNpZmljIGRhdGUgWyhkYXRlOiBEYXRlKSA9PiBib29sZWFuXSAqL1xuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcblxuICAvKiogRW5hYmxlIGFuaW1hdGVkIHNjcm9sbGluZyB0byBjdXJyZW50IHllYXIgKi9cbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG5cbiAgLyoqIE9wZW4gZGlyZWN0bHkgdG8gcGFydGljdWxhciB2aWV3ICovXG4gIG9wZW5Ubzogb25lT2YoWyd5ZWFyJywgJ2RhdGUnLCAnaG91cicsICdtaW51dGVzJ10pLFxuXG4gIC8qKiBFbmFibGVzIGtleWJvYXJkIGxpc3RlbmVyIGZvciBtb3ZpbmcgYmV0d2VlbiBkYXlzIGluIGNhbGVuZGFyICovXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5EYXRlVGltZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhdXRvU3VibWl0OiB0cnVlLFxuICBvcGVuVG86ICdkYXRlJyxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBzaG93VGFiczogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgZGF0ZVJhbmdlSWNvbjogJ2RhdGVfcmFuZ2UnLFxuICB0aW1lSWNvbjogJ2FjY2Vzc190aW1lJyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGFtcG06IHRydWUsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlXG59O1xudmFyIERhdGVUaW1lUGlja2VyTW9kYWwkMSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImZvcndhcmRSZWZcIl0pKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGltZVBpY2tlck1vZGFsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIERhdGVUaW1lUGlja2VySW5saW5lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb3BlblRvID0gcHJvcHMub3BlblRvLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIHNob3dUYWJzID0gcHJvcHMuc2hvd1RhYnMsXG4gICAgICBhdXRvU3VibWl0ID0gcHJvcHMuYXV0b1N1Ym1pdCxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIGRhdGVSYW5nZUljb24gPSBwcm9wcy5kYXRlUmFuZ2VJY29uLFxuICAgICAgdGltZUljb24gPSBwcm9wcy50aW1lSWNvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBwcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gcHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiYXV0b09rXCIsIFwib3BlblRvXCIsIFwibWluRGF0ZVwiLCBcIm1heERhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJzaG93VGFic1wiLCBcImF1dG9TdWJtaXRcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJkYXRlUmFuZ2VJY29uXCIsIFwidGltZUljb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJhbXBtXCIsIFwic2hvdWxkRGlzYWJsZURhdGVcIiwgXCJhbmltYXRlWWVhclNjcm9sbGluZ1wiLCBcImZvcndhcmRlZFJlZlwiLCBcImFsbG93S2V5Ym9hcmRDb250cm9sXCJdKTtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQmFzZVBpY2tlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBhdXRvT2s6IHRydWVcbiAgfSksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoSW5saW5lV3JhcHBlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBpbm5lclJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBoYW5kbGVBY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLmRhdGVUaW1lMTJoRm9ybWF0LCB1dGlscy5kYXRlVGltZTI0aEZvcm1hdClcbiAgICB9LCBvdGhlciksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUaW1lUGlja2VyJDEsIHtcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBhdXRvU3VibWl0OiBhdXRvU3VibWl0LFxuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGRhdGVSYW5nZUljb246IGRhdGVSYW5nZUljb24sXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIG9wZW5Ubzogb3BlblRvLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBzaG93VGFiczogc2hvd1RhYnMsXG4gICAgICB0aW1lSWNvbjogdGltZUljb25cbiAgICB9KSk7XG4gIH0pO1xufTtcbiBmYWxzZSA/IERhdGVUaW1lUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgYXV0b09rOiBib29sLFxuICBhdXRvU3VibWl0OiBib29sLFxuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBzaG93VGFiczogYm9vbCxcbiAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gIGRhdGVSYW5nZUljb246IG5vZGUsXG4gIHRpbWVJY29uOiBub2RlLFxuICByZW5kZXJEYXk6IGZ1bmMsXG4gIGFtcG06IGJvb2wsXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgb3BlblRvOiBvbmVPZihbJ3llYXInLCAnZGF0ZScsICdob3VyJywgJ21pbnV0ZXMnXSksXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5EYXRlVGltZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiBmYWxzZSxcbiAgYXV0b1N1Ym1pdDogdHJ1ZSxcbiAgb3BlblRvOiAnZGF0ZScsXG4gIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IHVuZGVmaW5lZCxcbiAgc2hvd1RhYnM6IHRydWUsXG4gIGxlZnRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19sZWZ0JyxcbiAgcmlnaHRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19yaWdodCcsXG4gIGRhdGVSYW5nZUljb246ICdkYXRlX3JhbmdlJyxcbiAgdGltZUljb246ICdhY2Nlc3NfdGltZScsXG4gIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICBhbXBtOiB0cnVlLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZVxufTtcbnZhciBEYXRlVGltZVBpY2tlcklubGluZSQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUaW1lUGlja2VySW5saW5lLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRlcmlhbC11aS1waWNrZXJzLmVzbS5qcy5tYXBcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA3ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYWRkQ2xhc3M7XG5cbnZhciBfaGFzQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjA5NykpO1xuXG5mdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtlbHNlIGlmICghKDAsIF9oYXNDbGFzcy5kZWZhdWx0KShlbGVtZW50LCBjbGFzc05hbWUpKSBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZTtlbHNlIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIChlbGVtZW50LmNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8ICcnKSArICcgJyArIGNsYXNzTmFtZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDc5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5mdW5jdGlvbiByZXBsYWNlQ2xhc3NOYW1lKG9yaWdDbGFzcywgY2xhc3NUb1JlbW92ZSkge1xuICByZXR1cm4gb3JpZ0NsYXNzLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGNsYXNzVG9SZW1vdmUgKyAnKD86XFxcXHN8JCknLCAnZycpLCAnJDEnKS5yZXBsYWNlKC9cXHMrL2csICcgJykucmVwbGFjZSgvXlxccyp8XFxzKiQvZywgJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO2Vsc2UgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIGVsZW1lbnQuY2xhc3NOYW1lID0gcmVwbGFjZUNsYXNzTmFtZShlbGVtZW50LmNsYXNzTmFtZSwgY2xhc3NOYW1lKTtlbHNlIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHJlcGxhY2VDbGFzc05hbWUoZWxlbWVudC5jbGFzc05hbWUgJiYgZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbCB8fCAnJywgY2xhc3NOYW1lKSk7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA4MDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKTtcblxudmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA5OSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICB0aG91c2FuZFNlcGFyYXRvcjogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFt0cnVlXSldKSxcbiAgZGVjaW1hbFNlcGFyYXRvcjogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcbiAgdGhvdXNhbmRzR3JvdXBTdHlsZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFsndGhvdXNhbmQnLCAnbGFraCcsICd3YW4nXSksXG4gIGRlY2ltYWxTY2FsZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcixcbiAgZml4ZWREZWNpbWFsU2NhbGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICBkaXNwbGF5VHlwZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFsnaW5wdXQnLCAndGV4dCddKSxcbiAgcHJlZml4OiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICBzdWZmaXg6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIGZvcm1hdDogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmNdKSxcbiAgcmVtb3ZlRm9ybWF0dGluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG1hc2s6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcpXSksXG4gIHZhbHVlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLCBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nXSksXG4gIGRlZmF1bHRWYWx1ZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlciwgX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZ10pLFxuICBpc051bWVyaWNTdHJpbmc6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICBjdXN0b21JbnB1dDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIGFsbG93TmVnYXRpdmU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICBhbGxvd0VtcHR5Rm9ybWF0dGluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIG9uVmFsdWVDaGFuZ2U6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbktleURvd246IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbk1vdXNlVXA6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbkNoYW5nZTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uRm9jdXM6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbkJsdXI6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICB0eXBlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWyd0ZXh0JywgJ3RlbCcsICdwYXNzd29yZCddKSxcbiAgaXNBbGxvd2VkOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgcmVuZGVyVGV4dDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIGdldElucHV0UmVmOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY1xufTtcbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGRpc3BsYXlUeXBlOiAnaW5wdXQnLFxuICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXG4gIHRob3VzYW5kc0dyb3VwU3R5bGU6ICd0aG91c2FuZCcsXG4gIGZpeGVkRGVjaW1hbFNjYWxlOiBmYWxzZSxcbiAgcHJlZml4OiAnJyxcbiAgc3VmZml4OiAnJyxcbiAgYWxsb3dOZWdhdGl2ZTogdHJ1ZSxcbiAgYWxsb3dFbXB0eUZvcm1hdHRpbmc6IGZhbHNlLFxuICBpc051bWVyaWNTdHJpbmc6IGZhbHNlLFxuICB0eXBlOiAndGV4dCcsXG4gIG9uVmFsdWVDaGFuZ2U6IF91dGlscy5ub29wLFxuICBvbkNoYW5nZTogX3V0aWxzLm5vb3AsXG4gIG9uS2V5RG93bjogX3V0aWxzLm5vb3AsXG4gIG9uTW91c2VVcDogX3V0aWxzLm5vb3AsXG4gIG9uRm9jdXM6IF91dGlscy5ub29wLFxuICBvbkJsdXI6IF91dGlscy5ub29wLFxuICBpc0FsbG93ZWQ6IF91dGlscy5yZXR1cm5UcnVlLFxuICBnZXRJbnB1dFJlZjogX3V0aWxzLm5vb3Bcbn07XG5cbnZhciBOdW1iZXJGb3JtYXQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKE51bWJlckZvcm1hdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTnVtYmVyRm9ybWF0KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE51bWJlckZvcm1hdCk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihOdW1iZXJGb3JtYXQpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlOyAvL3ZhbGlkYXRlIHByb3BzXG5cbiAgICBfdGhpcy52YWxpZGF0ZVByb3BzKCk7XG5cbiAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBfdGhpcy5mb3JtYXRWYWx1ZVByb3AoZGVmYXVsdFZhbHVlKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgbnVtQXNTdHJpbmc6IF90aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpXG4gICAgfTtcbiAgICBfdGhpcy5zZWxlY3Rpb25CZWZvcmVJbnB1dCA9IHtcbiAgICAgIHNlbGVjdGlvblN0YXJ0OiAwLFxuICAgICAgc2VsZWN0aW9uRW5kOiAwXG4gICAgfTtcbiAgICBfdGhpcy5vbkNoYW5nZSA9IF90aGlzLm9uQ2hhbmdlLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgIF90aGlzLm9uS2V5RG93biA9IF90aGlzLm9uS2V5RG93bi5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICBfdGhpcy5vbk1vdXNlVXAgPSBfdGhpcy5vbk1vdXNlVXAuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgX3RoaXMub25Gb2N1cyA9IF90aGlzLm9uRm9jdXMuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgX3RoaXMub25CbHVyID0gX3RoaXMub25CbHVyLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOdW1iZXJGb3JtYXQsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICB0aGlzLnVwZGF0ZVZhbHVlSWZSZXF1aXJlZChwcmV2UHJvcHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVWYWx1ZUlmUmVxdWlyZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVmFsdWVJZlJlcXVpcmVkKHByZXZQcm9wcykge1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgZm9jdXNlZEVsbSA9IHRoaXMuZm9jdXNlZEVsbTtcbiAgICAgIHZhciBzdGF0ZVZhbHVlID0gc3RhdGUudmFsdWUsXG4gICAgICAgICAgX3N0YXRlJG51bUFzU3RyaW5nID0gc3RhdGUubnVtQXNTdHJpbmcsXG4gICAgICAgICAgbGFzdE51bVN0ciA9IF9zdGF0ZSRudW1Bc1N0cmluZyA9PT0gdm9pZCAwID8gJycgOiBfc3RhdGUkbnVtQXNTdHJpbmc7XG5cbiAgICAgIGlmIChwcmV2UHJvcHMgIT09IHByb3BzKSB7XG4gICAgICAgIC8vdmFsaWRhdGUgcHJvcHNcbiAgICAgICAgdGhpcy52YWxpZGF0ZVByb3BzKCk7XG4gICAgICAgIHZhciBsYXN0VmFsdWVXaXRoTmV3Rm9ybWF0ID0gdGhpcy5mb3JtYXROdW1TdHJpbmcobGFzdE51bVN0cik7XG4gICAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IHByb3BzLnZhbHVlID09PSB1bmRlZmluZWQgPyBsYXN0VmFsdWVXaXRoTmV3Rm9ybWF0IDogdGhpcy5mb3JtYXRWYWx1ZVByb3AoKTtcbiAgICAgICAgdmFyIG51bUFzU3RyaW5nID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgICAgdmFyIGZsb2F0VmFsdWUgPSBwYXJzZUZsb2F0KG51bUFzU3RyaW5nKTtcbiAgICAgICAgdmFyIGxhc3RGbG9hdFZhbHVlID0gcGFyc2VGbG9hdChsYXN0TnVtU3RyKTtcblxuICAgICAgICBpZiAoIC8vd2hpbGUgdHlwaW5nIHNldCBzdGF0ZSBvbmx5IHdoZW4gZmxvYXQgdmFsdWUgY2hhbmdlc1xuICAgICAgICAoIWlzTmFOKGZsb2F0VmFsdWUpIHx8ICFpc05hTihsYXN0RmxvYXRWYWx1ZSkpICYmIGZsb2F0VmFsdWUgIT09IGxhc3RGbG9hdFZhbHVlIHx8IC8vY2FuIGFsc28gc2V0IHN0YXRlIHdoZW4gZmxvYXQgdmFsdWUgaXMgc2FtZSBhbmQgdGhlIGZvcm1hdCBwcm9wcyBjaGFuZ2VzXG4gICAgICAgIGxhc3RWYWx1ZVdpdGhOZXdGb3JtYXQgIT09IHN0YXRlVmFsdWUgfHwgLy9zZXQgc3RhdGUgYWx3YXlzIHdoZW4gbm90IGluIGZvY3VzIGFuZCBmb3JtYXR0ZWQgdmFsdWUgaXMgY2hhbmdlZFxuICAgICAgICBmb2N1c2VkRWxtID09PSBudWxsICYmIGZvcm1hdHRlZFZhbHVlICE9PSBzdGF0ZVZhbHVlKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgICBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmcsXG4gICAgICAgICAgICBpbnB1dDogZm9jdXNlZEVsbVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBNaXNjIG1ldGhvZHMgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRGbG9hdFN0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGbG9hdFN0cmluZygpIHtcbiAgICAgIHZhciBudW0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgdmFyIGRlY2ltYWxTY2FsZSA9IHRoaXMucHJvcHMuZGVjaW1hbFNjYWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9ycyA9IHRoaXMuZ2V0U2VwYXJhdG9ycygpLFxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzLmRlY2ltYWxTZXBhcmF0b3I7XG5cbiAgICAgIHZhciBudW1SZWdleCA9IHRoaXMuZ2V0TnVtYmVyUmVnZXgodHJ1ZSk7IC8vcmVtb3ZlIG5lZ2F0aW9uIGZvciByZWdleCBjaGVja1xuXG4gICAgICB2YXIgaGFzTmVnYXRpb24gPSBudW1bMF0gPT09ICctJztcbiAgICAgIGlmIChoYXNOZWdhdGlvbikgbnVtID0gbnVtLnJlcGxhY2UoJy0nLCAnJyk7IC8vaWYgZGVjaW1hbCBzY2FsZSBpcyB6ZXJvIHJlbW92ZSBkZWNpbWFsIGFuZCBudW1iZXIgYWZ0ZXIgZGVjaW1hbFNlcGFyYXRvclxuXG4gICAgICBpZiAoZGVjaW1hbFNlcGFyYXRvciAmJiBkZWNpbWFsU2NhbGUgPT09IDApIHtcbiAgICAgICAgbnVtID0gbnVtLnNwbGl0KGRlY2ltYWxTZXBhcmF0b3IpWzBdO1xuICAgICAgfVxuXG4gICAgICBudW0gPSAobnVtLm1hdGNoKG51bVJlZ2V4KSB8fCBbXSkuam9pbignJykucmVwbGFjZShkZWNpbWFsU2VwYXJhdG9yLCAnLicpOyAvL3JlbW92ZSBleHRyYSBkZWNpbWFsc1xuXG4gICAgICB2YXIgZmlyc3REZWNpbWFsSW5kZXggPSBudW0uaW5kZXhPZignLicpO1xuXG4gICAgICBpZiAoZmlyc3REZWNpbWFsSW5kZXggIT09IC0xKSB7XG4gICAgICAgIG51bSA9IFwiXCIuY29uY2F0KG51bS5zdWJzdHJpbmcoMCwgZmlyc3REZWNpbWFsSW5kZXgpLCBcIi5cIikuY29uY2F0KG51bS5zdWJzdHJpbmcoZmlyc3REZWNpbWFsSW5kZXggKyAxLCBudW0ubGVuZ3RoKS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsIF91dGlscy5lc2NhcGVSZWdFeHApKGRlY2ltYWxTZXBhcmF0b3IpLCAnZycpLCAnJykpO1xuICAgICAgfSAvL2FkZCBuZWdhdGlvbiBiYWNrXG5cblxuICAgICAgaWYgKGhhc05lZ2F0aW9uKSBudW0gPSAnLScgKyBudW07XG4gICAgICByZXR1cm4gbnVtO1xuICAgIH0gLy9yZXR1cm5lZCByZWdleCBhc3N1bWVzIGRlY2ltYWxTZXBhcmF0b3IgaXMgYXMgcGVyIHByb3BcblxuICB9LCB7XG4gICAga2V5OiBcImdldE51bWJlclJlZ2V4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE51bWJlclJlZ2V4KGcsIGlnbm9yZURlY2ltYWxTZXBhcmF0b3IpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMuZm9ybWF0LFxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzLmRlY2ltYWxTY2FsZTtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnMyID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMyLmRlY2ltYWxTZXBhcmF0b3I7XG5cbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKCdcXFxcZCcgKyAoZGVjaW1hbFNlcGFyYXRvciAmJiBkZWNpbWFsU2NhbGUgIT09IDAgJiYgIWlnbm9yZURlY2ltYWxTZXBhcmF0b3IgJiYgIWZvcm1hdCA/ICd8JyArICgwLCBfdXRpbHMuZXNjYXBlUmVnRXhwKShkZWNpbWFsU2VwYXJhdG9yKSA6ICcnKSwgZyA/ICdnJyA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFNlcGFyYXRvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VwYXJhdG9ycygpIHtcbiAgICAgIHZhciBkZWNpbWFsU2VwYXJhdG9yID0gdGhpcy5wcm9wcy5kZWNpbWFsU2VwYXJhdG9yO1xuICAgICAgdmFyIHRob3VzYW5kU2VwYXJhdG9yID0gdGhpcy5wcm9wcy50aG91c2FuZFNlcGFyYXRvcjtcblxuICAgICAgaWYgKHRob3VzYW5kU2VwYXJhdG9yID09PSB0cnVlKSB7XG4gICAgICAgIHRob3VzYW5kU2VwYXJhdG9yID0gJywnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZWNpbWFsU2VwYXJhdG9yOiBkZWNpbWFsU2VwYXJhdG9yLFxuICAgICAgICB0aG91c2FuZFNlcGFyYXRvcjogdGhvdXNhbmRTZXBhcmF0b3JcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE1hc2tBdEluZGV4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1hc2tBdEluZGV4KGluZGV4KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMkbWFzayA9IHRoaXMucHJvcHMubWFzayxcbiAgICAgICAgICBtYXNrID0gX3RoaXMkcHJvcHMkbWFzayA9PT0gdm9pZCAwID8gJyAnIDogX3RoaXMkcHJvcHMkbWFzaztcblxuICAgICAgaWYgKHR5cGVvZiBtYXNrID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbWFzaztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hc2tbaW5kZXhdIHx8ICcgJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmFsdWVPYmplY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWVPYmplY3QoZm9ybWF0dGVkVmFsdWUsIG51bUFzU3RyaW5nKSB7XG4gICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQobnVtQXNTdHJpbmcpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICB2YWx1ZTogbnVtQXNTdHJpbmcsXG4gICAgICAgIGZsb2F0VmFsdWU6IGlzTmFOKGZsb2F0VmFsdWUpID8gdW5kZWZpbmVkIDogZmxvYXRWYWx1ZVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidmFsaWRhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZVByb3BzKCkge1xuICAgICAgdmFyIG1hc2sgPSB0aGlzLnByb3BzLm1hc2s7IC8vdmFsaWRhdGUgZGVjaW1hbFNlcGFyYXRvciBhbmQgdGhvdXNhbmRTZXBhcmF0b3JcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnMzID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMzLmRlY2ltYWxTZXBhcmF0b3IsXG4gICAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzMy50aG91c2FuZFNlcGFyYXRvcjtcblxuICAgICAgaWYgKGRlY2ltYWxTZXBhcmF0b3IgPT09IHRob3VzYW5kU2VwYXJhdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcbiAgICAgICAgICBEZWNpbWFsIHNlcGFyYXRvciBjYW4ndCBiZSBzYW1lIGFzIHRob3VzYW5kIHNlcGFyYXRvci5cXG4gICAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3I6IFwiLmNvbmNhdCh0aG91c2FuZFNlcGFyYXRvciwgXCIgKHRob3VzYW5kU2VwYXJhdG9yID0ge3RydWV9IGlzIHNhbWUgYXMgdGhvdXNhbmRTZXBhcmF0b3IgPSBcXFwiLFxcXCIpXFxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3I6IFwiKS5jb25jYXQoZGVjaW1hbFNlcGFyYXRvciwgXCIgKGRlZmF1bHQgdmFsdWUgZm9yIGRlY2ltYWxTZXBhcmF0b3IgaXMgLilcXG4gICAgICAgXCIpKTtcbiAgICAgIH0gLy92YWxpZGF0ZSBtYXNrXG5cblxuICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgdmFyIG1hc2tBc1N0ciA9IG1hc2sgPT09ICdzdHJpbmcnID8gbWFzayA6IG1hc2sudG9TdHJpbmcoKTtcblxuICAgICAgICBpZiAobWFza0FzU3RyLm1hdGNoKC9cXGQvZykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcXG4gICAgICAgICAgTWFzayBcIi5jb25jYXQobWFzaywgXCIgc2hvdWxkIG5vdCBjb250YWluIG51bWVyaWMgY2hhcmFjdGVyO1xcbiAgICAgICAgXCIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKiogTWlzYyBtZXRob2RzIGVuZCAqKi9cblxuICAgIC8qKiBjYXJldCBzcGVjaWZpYyBtZXRob2RzICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0UGF0Y2hlZENhcmV0UG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zLCBjdXJyZW50VmFsdWUpIHtcbiAgICAgIC8qIHNldHRpbmcgY2FyZXQgcG9zaXRpb24gd2l0aGluIHRpbWVvdXQgb2YgMG1zIGlzIHJlcXVpcmVkIGZvciBtb2JpbGUgY2hyb21lLFxuICAgICAgb3RoZXJ3aXNlIGJyb3dzZXIgcmVzZXRzIHRoZSBjYXJldCBwb3NpdGlvbiBhZnRlciB3ZSBzZXQgaXRcbiAgICAgIFdlIGFyZSBhbHNvIHNldHRpbmcgaXQgd2l0aG91dCB0aW1lb3V0IHNvIHRoYXQgaW4gbm9ybWFsIGJyb3dzZXIgd2UgZG9uJ3Qgc2VlIHRoZSBmbGlja2VyaW5nICovXG4gICAgICAoMCwgX3V0aWxzLnNldENhcmV0UG9zaXRpb24pKGVsLCBjYXJldFBvcyk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGVsLnZhbHVlID09PSBjdXJyZW50VmFsdWUpICgwLCBfdXRpbHMuc2V0Q2FyZXRQb3NpdGlvbikoZWwsIGNhcmV0UG9zKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgICAvKiBUaGlzIGtlZXBzIHRoZSBjYXJldCB3aXRoaW4gdHlwaW5nIGFyZWEgc28gcGVvcGxlIGNhbid0IHR5cGUgaW4gYmV0d2VlbiBwcmVmaXggb3Igc3VmZml4ICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb3JyZWN0Q2FyZXRQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgY2FyZXRQb3MsIGRpcmVjdGlvbikge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcHJlZml4ID0gX3RoaXMkcHJvcHMyLnByZWZpeCxcbiAgICAgICAgICBzdWZmaXggPSBfdGhpcyRwcm9wczIuc3VmZml4LFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzMi5mb3JtYXQ7IC8vaWYgdmFsdWUgaXMgZW1wdHkgcmV0dXJuIDBcblxuICAgICAgaWYgKHZhbHVlID09PSAnJykgcmV0dXJuIDA7IC8vY2FyZXQgcG9zaXRpb24gc2hvdWxkIGJlIGJldHdlZW4gMCBhbmQgdmFsdWUgbGVuZ3RoXG5cbiAgICAgIGNhcmV0UG9zID0gKDAsIF91dGlscy5jbGFtcCkoY2FyZXRQb3MsIDAsIHZhbHVlLmxlbmd0aCk7IC8vaW4gY2FzZSBvZiBmb3JtYXQgYXMgbnVtYmVyIGxpbWl0IGJldHdlZW4gcHJlZml4IGFuZCBzdWZmaXhcblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFyIGhhc05lZ2F0aW9uID0gdmFsdWVbMF0gPT09ICctJztcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuY2xhbXApKGNhcmV0UG9zLCBwcmVmaXgubGVuZ3RoICsgKGhhc05lZ2F0aW9uID8gMSA6IDApLCB2YWx1ZS5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKTtcbiAgICAgIH0gLy9pbiBjYXNlIGlmIGN1c3RvbSBmb3JtYXQgbWV0aG9kIGRvbid0IGRvIGFueXRoaW5nXG5cblxuICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdmdW5jdGlvbicpIHJldHVybiBjYXJldFBvcztcbiAgICAgIC8qIGluIGNhc2UgZm9ybWF0IGlzIHN0cmluZyBmaW5kIHRoZSBjbG9zZXN0ICMgcG9zaXRpb24gZnJvbSB0aGUgY2FyZXQgcG9zaXRpb24gKi9cbiAgICAgIC8vaW4gY2FzZSB0aGUgY2FyZXRQb3MgaGF2ZSBpbnB1dCB2YWx1ZSBvbiBpdCBkb24ndCBkbyBhbnl0aGluZ1xuXG4gICAgICBpZiAoZm9ybWF0W2NhcmV0UG9zXSA9PT0gJyMnICYmICgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldFBvc10pKSByZXR1cm4gY2FyZXRQb3M7IC8vaWYgY2FyZXRQb3MgaXMganVzdCBhZnRlciBpbnB1dCB2YWx1ZSBkb24ndCBkbyBhbnl0aGluZ1xuXG4gICAgICBpZiAoZm9ybWF0W2NhcmV0UG9zIC0gMV0gPT09ICcjJyAmJiAoMCwgX3V0aWxzLmNoYXJJc051bWJlcikodmFsdWVbY2FyZXRQb3MgLSAxXSkpIHJldHVybiBjYXJldFBvczsgLy9maW5kIHRoZSBuZWFyZXN0IGNhcmV0IHBvc2l0aW9uXG5cbiAgICAgIHZhciBmaXJzdEhhc2hQb3NpdGlvbiA9IGZvcm1hdC5pbmRleE9mKCcjJyk7XG4gICAgICB2YXIgbGFzdEhhc2hQb3NpdGlvbiA9IGZvcm1hdC5sYXN0SW5kZXhPZignIycpOyAvL2xpbWl0IHRoZSBjdXJzb3IgYmV0d2VlbiB0aGUgZmlyc3QgIyBwb3NpdGlvbiBhbmQgdGhlIGxhc3QgIyBwb3NpdGlvblxuXG4gICAgICBjYXJldFBvcyA9ICgwLCBfdXRpbHMuY2xhbXApKGNhcmV0UG9zLCBmaXJzdEhhc2hQb3NpdGlvbiwgbGFzdEhhc2hQb3NpdGlvbiArIDEpO1xuICAgICAgdmFyIG5leHRQb3MgPSBmb3JtYXQuc3Vic3RyaW5nKGNhcmV0UG9zLCBmb3JtYXQubGVuZ3RoKS5pbmRleE9mKCcjJyk7XG4gICAgICB2YXIgY2FyZXRMZWZ0Qm91bmQgPSBjYXJldFBvcztcbiAgICAgIHZhciBjYXJldFJpZ2h0Qm91bmQgPSBjYXJldFBvcyArIChuZXh0UG9zID09PSAtMSA/IDAgOiBuZXh0UG9zKTsgLy9nZXQgdGhlIHBvc2l0aW9uIHdoZXJlIHRoZSBsYXN0IG51bWJlciBpcyBwcmVzZW50XG5cbiAgICAgIHdoaWxlIChjYXJldExlZnRCb3VuZCA+IGZpcnN0SGFzaFBvc2l0aW9uICYmIChmb3JtYXRbY2FyZXRMZWZ0Qm91bmRdICE9PSAnIycgfHwgISgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldExlZnRCb3VuZF0pKSkge1xuICAgICAgICBjYXJldExlZnRCb3VuZCAtPSAxO1xuICAgICAgfVxuXG4gICAgICB2YXIgZ29Ub0xlZnQgPSAhKDAsIF91dGlscy5jaGFySXNOdW1iZXIpKHZhbHVlW2NhcmV0UmlnaHRCb3VuZF0pIHx8IGRpcmVjdGlvbiA9PT0gJ2xlZnQnICYmIGNhcmV0UG9zICE9PSBmaXJzdEhhc2hQb3NpdGlvbiB8fCBjYXJldFBvcyAtIGNhcmV0TGVmdEJvdW5kIDwgY2FyZXRSaWdodEJvdW5kIC0gY2FyZXRQb3M7XG5cbiAgICAgIGlmIChnb1RvTGVmdCkge1xuICAgICAgICAvL2NoZWNrIGlmIG51bWJlciBzaG91bGQgYmUgdGFrZW4gYWZ0ZXIgdGhlIGJvdW5kIG9yIGFmdGVyIGl0XG4gICAgICAgIC8vaWYgbnVtYmVyIHByZWNlZGluZyBhIHZhbGlkIG51bWJlciBrZWVwIGl0IGFmdGVyXG4gICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmNoYXJJc051bWJlcikodmFsdWVbY2FyZXRMZWZ0Qm91bmRdKSA/IGNhcmV0TGVmdEJvdW5kICsgMSA6IGNhcmV0TGVmdEJvdW5kO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FyZXRSaWdodEJvdW5kO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDYXJldFBvc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENhcmV0UG9zaXRpb24oaW5wdXRWYWx1ZSwgZm9ybWF0dGVkVmFsdWUsIGNhcmV0UG9zKSB7XG4gICAgICB2YXIgZm9ybWF0ID0gdGhpcy5wcm9wcy5mb3JtYXQ7XG4gICAgICB2YXIgc3RhdGVWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgICB2YXIgbnVtUmVnZXggPSB0aGlzLmdldE51bWJlclJlZ2V4KHRydWUpO1xuICAgICAgdmFyIGlucHV0TnVtYmVyID0gKGlucHV0VmFsdWUubWF0Y2gobnVtUmVnZXgpIHx8IFtdKS5qb2luKCcnKTtcbiAgICAgIHZhciBmb3JtYXR0ZWROdW1iZXIgPSAoZm9ybWF0dGVkVmFsdWUubWF0Y2gobnVtUmVnZXgpIHx8IFtdKS5qb2luKCcnKTtcbiAgICAgIHZhciBqLCBpO1xuICAgICAgaiA9IDA7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYXJldFBvczsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyZW50SW5wdXRDaGFyID0gaW5wdXRWYWx1ZVtpXSB8fCAnJztcbiAgICAgICAgdmFyIGN1cnJlbnRGb3JtYXRDaGFyID0gZm9ybWF0dGVkVmFsdWVbal0gfHwgJyc7IC8vbm8gbmVlZCB0byBpbmNyZWFzZSBuZXcgY3Vyc29yIHBvc2l0aW9uIGlmIGZvcm1hdHRlZCB2YWx1ZSBkb2VzIG5vdCBoYXZlIHRob3NlIGNoYXJhY3RlcnNcbiAgICAgICAgLy9jYXNlIGlucHV0VmFsdWUgPSAxYTIzIGFuZCBmb3JtYXR0ZWRWYWx1ZSA9ICAxMjNcblxuICAgICAgICBpZiAoIWN1cnJlbnRJbnB1dENoYXIubWF0Y2gobnVtUmVnZXgpICYmIGN1cnJlbnRJbnB1dENoYXIgIT09IGN1cnJlbnRGb3JtYXRDaGFyKSBjb250aW51ZTsgLy9XaGVuIHdlIGFyZSBzdHJpcGluZyBvdXQgbGVhZGluZyB6ZXJvcyBtYWludGFpbiB0aGUgbmV3IGN1cnNvciBwb3NpdGlvblxuICAgICAgICAvL0Nhc2UgaW5wdXRWYWx1ZSA9IDAwMDIzIGFuZCBmb3JtYXR0ZWRWYWx1ZSA9IDIzO1xuXG4gICAgICAgIGlmIChjdXJyZW50SW5wdXRDaGFyID09PSAnMCcgJiYgY3VycmVudEZvcm1hdENoYXIubWF0Y2gobnVtUmVnZXgpICYmIGN1cnJlbnRGb3JtYXRDaGFyICE9PSAnMCcgJiYgaW5wdXROdW1iZXIubGVuZ3RoICE9PSBmb3JtYXR0ZWROdW1iZXIubGVuZ3RoKSBjb250aW51ZTsgLy93ZSBhcmUgbm90IHVzaW5nIGN1cnJlbnRGb3JtYXRDaGFyIGJlY2F1c2UgaiBjYW4gY2hhbmdlIGhlcmVcblxuICAgICAgICB3aGlsZSAoY3VycmVudElucHV0Q2hhciAhPT0gZm9ybWF0dGVkVmFsdWVbal0gJiYgaiA8IGZvcm1hdHRlZFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgIGorKztcbiAgICAgICAgfVxuXG4gICAgICAgIGorKztcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnICYmICFzdGF0ZVZhbHVlKSB7XG4gICAgICAgIC8vc2V0IGl0IHRvIHRoZSBtYXhpbXVtIHZhbHVlIHNvIGl0IGdvZXMgYWZ0ZXIgdGhlIGxhc3QgbnVtYmVyXG4gICAgICAgIGogPSBmb3JtYXR0ZWRWYWx1ZS5sZW5ndGg7XG4gICAgICB9IC8vY29ycmVjdCBjYXJldCBwb3NpdGlvbiBpZiBpdHMgb3V0c2lkZSBvZiBlZGl0YWJsZSBhcmVhXG5cblxuICAgICAgaiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24oZm9ybWF0dGVkVmFsdWUsIGopO1xuICAgICAgcmV0dXJuIGo7XG4gICAgfVxuICAgIC8qKiBjYXJldCBzcGVjaWZpYyBtZXRob2RzIGVuZHMgKiovXG5cbiAgICAvKiogbWV0aG9kcyB0byByZW1vdmUgZm9ybWF0dHRpbmcgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVQcmVmaXhBbmRTdWZmaXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlUHJlZml4QW5kU3VmZml4KHZhbCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMzLmZvcm1hdCxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczMucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzMy5zdWZmaXg7IC8vcmVtb3ZlIHByZWZpeCBhbmQgc3VmZml4XG5cbiAgICAgIGlmICghZm9ybWF0ICYmIHZhbCkge1xuICAgICAgICB2YXIgaXNOZWdhdGl2ZSA9IHZhbFswXSA9PT0gJy0nOyAvL3JlbW92ZSBuZWdhdGlvbiBzaWduXG5cbiAgICAgICAgaWYgKGlzTmVnYXRpdmUpIHZhbCA9IHZhbC5zdWJzdHJpbmcoMSwgdmFsLmxlbmd0aCk7IC8vcmVtb3ZlIHByZWZpeFxuXG4gICAgICAgIHZhbCA9IHByZWZpeCAmJiB2YWwuaW5kZXhPZihwcmVmaXgpID09PSAwID8gdmFsLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoLCB2YWwubGVuZ3RoKSA6IHZhbDsgLy9yZW1vdmUgc3VmZml4XG5cbiAgICAgICAgdmFyIHN1ZmZpeExhc3RJbmRleCA9IHZhbC5sYXN0SW5kZXhPZihzdWZmaXgpO1xuICAgICAgICB2YWwgPSBzdWZmaXggJiYgc3VmZml4TGFzdEluZGV4ICE9PSAtMSAmJiBzdWZmaXhMYXN0SW5kZXggPT09IHZhbC5sZW5ndGggLSBzdWZmaXgubGVuZ3RoID8gdmFsLnN1YnN0cmluZygwLCBzdWZmaXhMYXN0SW5kZXgpIDogdmFsOyAvL2FkZCBuZWdhdGlvbiBzaWduIGJhY2tcblxuICAgICAgICBpZiAoaXNOZWdhdGl2ZSkgdmFsID0gJy0nICsgdmFsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVQYXR0ZXJuRm9ybWF0dGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVQYXR0ZXJuRm9ybWF0dGluZyh2YWwpIHtcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcbiAgICAgIHZhciBmb3JtYXRBcnJheSA9IGZvcm1hdC5zcGxpdCgnIycpLmZpbHRlcihmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIgIT09ICcnO1xuICAgICAgfSk7XG4gICAgICB2YXIgc3RhcnQgPSAwO1xuICAgICAgdmFyIG51bVN0ciA9ICcnO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbG4gPSBmb3JtYXRBcnJheS5sZW5ndGg7IGkgPD0gbG47IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGZvcm1hdEFycmF5W2ldIHx8ICcnOyAvL2lmIGkgaXMgdGhlIGxhc3QgZnJhZ21lbnQgdGFrZSB0aGUgaW5kZXggb2YgZW5kIG9mIHRoZSB2YWx1ZVxuICAgICAgICAvL0ZvciBjYXNlIGxpa2UgKzEgKDkxMSkgOTExIDkxIDkxIGhhdmluZyBwYXR0ZXJuICsxICgjIyMpICMjIyAjIyAjI1xuXG4gICAgICAgIHZhciBpbmRleCA9IGkgPT09IGxuID8gdmFsLmxlbmd0aCA6IHZhbC5pbmRleE9mKHBhcnQsIHN0YXJ0KTtcbiAgICAgICAgLyogaW4gYW55IGNhc2UgaWYgd2UgZG9uJ3QgZmluZCB0aGUgcGF0dGVybiBwYXJ0IGluIHRoZSB2YWx1ZSBhc3N1bWUgdGhlIHZhbCBhcyBudW1lcmljIHN0cmluZ1xuICAgICAgICBUaGlzIHdpbGwgYmUgYWxzbyBpbiBjYXNlIGlmIHVzZXIgaGFzIHN0YXJ0ZWQgdHlwaW5nLCBpbiBhbnkgb3RoZXIgY2FzZSBpdCB3aWxsIG5vdCBiZSAtMVxuICAgICAgICB1bmxlc3Mgd3JvbmcgcHJvcCB2YWx1ZSBpcyBwcm92aWRlZCAqL1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBudW1TdHIgPSB2YWw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbnVtU3RyICs9IHZhbC5zdWJzdHJpbmcoc3RhcnQsIGluZGV4KTtcbiAgICAgICAgICBzdGFydCA9IGluZGV4ICsgcGFydC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChudW1TdHIubWF0Y2goL1xcZC9nKSB8fCBbXSkuam9pbignJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUZvcm1hdHRpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRm9ybWF0dGluZyh2YWwpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzNC5mb3JtYXQsXG4gICAgICAgICAgcmVtb3ZlRm9ybWF0dGluZyA9IF90aGlzJHByb3BzNC5yZW1vdmVGb3JtYXR0aW5nO1xuICAgICAgaWYgKCF2YWwpIHJldHVybiB2YWw7XG5cbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIHZhbCA9IHRoaXMucmVtb3ZlUHJlZml4QW5kU3VmZml4KHZhbCk7XG4gICAgICAgIHZhbCA9IHRoaXMuZ2V0RmxvYXRTdHJpbmcodmFsKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFsID0gdGhpcy5yZW1vdmVQYXR0ZXJuRm9ybWF0dGluZyh2YWwpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmVtb3ZlRm9ybWF0dGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvL2NvbmRpdGlvbiBuZWVkIHRvIGJlIGhhbmRsZWQgaWYgZm9ybWF0IG1ldGhvZCBpcyBwcm92aWRlLFxuICAgICAgICB2YWwgPSByZW1vdmVGb3JtYXR0aW5nKHZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSAodmFsLm1hdGNoKC9cXGQvZykgfHwgW10pLmpvaW4oJycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICAvKiogbWV0aG9kcyB0byByZW1vdmUgZm9ybWF0dHRpbmcgZW5kICoqL1xuXG4gICAgLyoqKiBmb3JtYXQgc3BlY2lmaWMgbWV0aG9kcyBzdGFydCAqKiovXG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgd2hlbiAjIGJhc2VkIHN0cmluZyBpcyBwcm92aWRlZFxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gbnVtU3RyIE51bWVyaWMgU3RyaW5nXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgZm9ybWF0dGVkIFZhbHVlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmb3JtYXRXaXRoUGF0dGVyblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRXaXRoUGF0dGVybihudW1TdHIpIHtcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcbiAgICAgIHZhciBoYXNoQ291bnQgPSAwO1xuICAgICAgdmFyIGZvcm1hdHRlZE51bWJlckFyeSA9IGZvcm1hdC5zcGxpdCgnJyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGZvcm1hdC5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICAgIGlmIChmb3JtYXRbaV0gPT09ICcjJykge1xuICAgICAgICAgIGZvcm1hdHRlZE51bWJlckFyeVtpXSA9IG51bVN0cltoYXNoQ291bnRdIHx8IHRoaXMuZ2V0TWFza0F0SW5kZXgoaGFzaENvdW50KTtcbiAgICAgICAgICBoYXNoQ291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm9ybWF0dGVkTnVtYmVyQXJ5LmpvaW4oJycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IG51bVN0ciBOdW1lcmljIHN0cmluZy9mbG9hdFN0cmluZ10gSXQgYWx3YXlzIGhhdmUgZGVjaW1hbFNlcGFyYXRvciBhcyAuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBmb3JtYXR0ZWQgVmFsdWVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdEFzTnVtYmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdEFzTnVtYmVyKG51bVN0cikge1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM1LmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzNS5maXhlZERlY2ltYWxTY2FsZSxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczUucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzNS5zdWZmaXgsXG4gICAgICAgICAgYWxsb3dOZWdhdGl2ZSA9IF90aGlzJHByb3BzNS5hbGxvd05lZ2F0aXZlLFxuICAgICAgICAgIHRob3VzYW5kc0dyb3VwU3R5bGUgPSBfdGhpcyRwcm9wczUudGhvdXNhbmRzR3JvdXBTdHlsZTtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnM0ID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzNC50aG91c2FuZFNlcGFyYXRvcixcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczQuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgdmFyIGhhc0RlY2ltYWxTZXBhcmF0b3IgPSBudW1TdHIuaW5kZXhPZignLicpICE9PSAtMSB8fCBkZWNpbWFsU2NhbGUgJiYgZml4ZWREZWNpbWFsU2NhbGU7XG5cbiAgICAgIHZhciBfc3BsaXREZWNpbWFsID0gKDAsIF91dGlscy5zcGxpdERlY2ltYWwpKG51bVN0ciwgYWxsb3dOZWdhdGl2ZSksXG4gICAgICAgICAgYmVmb3JlRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYmVmb3JlRGVjaW1hbCxcbiAgICAgICAgICBhZnRlckRlY2ltYWwgPSBfc3BsaXREZWNpbWFsLmFmdGVyRGVjaW1hbCxcbiAgICAgICAgICBhZGROZWdhdGlvbiA9IF9zcGxpdERlY2ltYWwuYWRkTmVnYXRpb247IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgICAvL2FwcGx5IGRlY2ltYWwgcHJlY2lzaW9uIGlmIGl0cyBkZWZpbmVkXG5cblxuICAgICAgaWYgKGRlY2ltYWxTY2FsZSAhPT0gdW5kZWZpbmVkKSBhZnRlckRlY2ltYWwgPSAoMCwgX3V0aWxzLmxpbWl0VG9TY2FsZSkoYWZ0ZXJEZWNpbWFsLCBkZWNpbWFsU2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKTtcblxuICAgICAgaWYgKHRob3VzYW5kU2VwYXJhdG9yKSB7XG4gICAgICAgIHZhciB0aG91c2FuZHNHcm91cFJlZ2V4ID0gKDAsIF91dGlscy5nZXRUaG91c2FuZHNHcm91cFJlZ2V4KSh0aG91c2FuZHNHcm91cFN0eWxlKTtcbiAgICAgICAgYmVmb3JlRGVjaW1hbCA9IGJlZm9yZURlY2ltYWwucmVwbGFjZSh0aG91c2FuZHNHcm91cFJlZ2V4LCAnJDEnICsgdGhvdXNhbmRTZXBhcmF0b3IpO1xuICAgICAgfSAvL2FkZCBwcmVmaXggYW5kIHN1ZmZpeFxuXG5cbiAgICAgIGlmIChwcmVmaXgpIGJlZm9yZURlY2ltYWwgPSBwcmVmaXggKyBiZWZvcmVEZWNpbWFsO1xuICAgICAgaWYgKHN1ZmZpeCkgYWZ0ZXJEZWNpbWFsID0gYWZ0ZXJEZWNpbWFsICsgc3VmZml4OyAvL3Jlc3RvcmUgbmVnYXRpb24gc2lnblxuXG4gICAgICBpZiAoYWRkTmVnYXRpb24pIGJlZm9yZURlY2ltYWwgPSAnLScgKyBiZWZvcmVEZWNpbWFsO1xuICAgICAgbnVtU3RyID0gYmVmb3JlRGVjaW1hbCArIChoYXNEZWNpbWFsU2VwYXJhdG9yICYmIGRlY2ltYWxTZXBhcmF0b3IgfHwgJycpICsgYWZ0ZXJEZWNpbWFsO1xuICAgICAgcmV0dXJuIG51bVN0cjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0TnVtU3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdE51bVN0cmluZygpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczYuZm9ybWF0LFxuICAgICAgICAgIGFsbG93RW1wdHlGb3JtYXR0aW5nID0gX3RoaXMkcHJvcHM2LmFsbG93RW1wdHlGb3JtYXR0aW5nO1xuICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdmFsdWU7XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gJycgJiYgIWFsbG93RW1wdHlGb3JtYXR0aW5nKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gJyc7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnLScgJiYgIWZvcm1hdCkge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9ICctJztcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdFdpdGhQYXR0ZXJuKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdChmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHRoaXMuZm9ybWF0QXNOdW1iZXIoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdFZhbHVlUHJvcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRWYWx1ZVByb3AoZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczcuZm9ybWF0LFxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzNy5kZWNpbWFsU2NhbGUsXG4gICAgICAgICAgZml4ZWREZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczcuZml4ZWREZWNpbWFsU2NhbGUsXG4gICAgICAgICAgYWxsb3dFbXB0eUZvcm1hdHRpbmcgPSBfdGhpcyRwcm9wczcuYWxsb3dFbXB0eUZvcm1hdHRpbmc7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM4ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBfdGhpcyRwcm9wczgkdmFsdWUgPSBfdGhpcyRwcm9wczgudmFsdWUsXG4gICAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wczgkdmFsdWUgPT09IHZvaWQgMCA/IGRlZmF1bHRWYWx1ZSA6IF90aGlzJHByb3BzOCR2YWx1ZSxcbiAgICAgICAgICBpc051bWVyaWNTdHJpbmcgPSBfdGhpcyRwcm9wczguaXNOdW1lcmljU3RyaW5nO1xuICAgICAgdmFyIGlzTm9uTnVtZXJpY0ZhbHN5ID0gIXZhbHVlICYmIHZhbHVlICE9PSAwO1xuXG4gICAgICBpZiAoaXNOb25OdW1lcmljRmFsc3kgJiYgYWxsb3dFbXB0eUZvcm1hdHRpbmcpIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH0gLy8gaWYgdmFsdWUgaXMgbm90IGRlZmluZWQgcmV0dXJuIGVtcHR5IHN0cmluZ1xuXG5cbiAgICAgIGlmIChpc05vbk51bWVyaWNGYWxzeSAmJiAhYWxsb3dFbXB0eUZvcm1hdHRpbmcpIHJldHVybiAnJztcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICBpc051bWVyaWNTdHJpbmcgPSB0cnVlO1xuICAgICAgfSAvL3JvdW5kIHRoZSBudW1iZXIgYmFzZWQgb24gZGVjaW1hbFNjYWxlXG4gICAgICAvL2Zvcm1hdCBvbmx5IGlmIG5vbiBmb3JtYXR0ZWQgdmFsdWUgaXMgcHJvdmlkZWRcblxuXG4gICAgICBpZiAoaXNOdW1lcmljU3RyaW5nICYmICFmb3JtYXQgJiYgdHlwZW9mIGRlY2ltYWxTY2FsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFsdWUgPSAoMCwgX3V0aWxzLnJvdW5kVG9QcmVjaXNpb24pKHZhbHVlLCBkZWNpbWFsU2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gaXNOdW1lcmljU3RyaW5nID8gdGhpcy5mb3JtYXROdW1TdHJpbmcodmFsdWUpIDogdGhpcy5mb3JtYXRJbnB1dCh2YWx1ZSk7XG4gICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdE5lZ2F0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdE5lZ2F0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgIHZhciBhbGxvd05lZ2F0aXZlID0gdGhpcy5wcm9wcy5hbGxvd05lZ2F0aXZlO1xuICAgICAgdmFyIG5lZ2F0aW9uUmVnZXggPSBuZXcgUmVnRXhwKCcoLSknKTtcbiAgICAgIHZhciBkb3VibGVOZWdhdGlvblJlZ2V4ID0gbmV3IFJlZ0V4cCgnKC0pKC4pKigtKScpOyAvLyBDaGVjayBudW1iZXIgaGFzICctJyB2YWx1ZVxuXG4gICAgICB2YXIgaGFzTmVnYXRpb24gPSBuZWdhdGlvblJlZ2V4LnRlc3QodmFsdWUpOyAvLyBDaGVjayBudW1iZXIgaGFzIDIgb3IgbW9yZSAnLScgdmFsdWVzXG5cbiAgICAgIHZhciByZW1vdmVOZWdhdGlvbiA9IGRvdWJsZU5lZ2F0aW9uUmVnZXgudGVzdCh2YWx1ZSk7IC8vcmVtb3ZlIG5lZ2F0aW9uXG5cbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvLS9nLCAnJyk7XG5cbiAgICAgIGlmIChoYXNOZWdhdGlvbiAmJiAhcmVtb3ZlTmVnYXRpb24gJiYgYWxsb3dOZWdhdGl2ZSkge1xuICAgICAgICB2YWx1ZSA9ICctJyArIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdElucHV0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdElucHV0KCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDsgLy9mb3JtYXQgbmVnYXRpb24gb25seSBpZiB3ZSBhcmUgZm9ybWF0dGluZyBhcyBudW1iZXJcblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFsdWUgPSB0aGlzLnJlbW92ZVByZWZpeEFuZFN1ZmZpeCh2YWx1ZSk7XG4gICAgICAgIHZhbHVlID0gdGhpcy5mb3JtYXROZWdhdGlvbih2YWx1ZSk7XG4gICAgICB9IC8vcmVtb3ZlIGZvcm1hdHRpbmcgZnJvbSBudW1iZXJcblxuXG4gICAgICB2YWx1ZSA9IHRoaXMucmVtb3ZlRm9ybWF0dGluZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXROdW1TdHJpbmcodmFsdWUpO1xuICAgIH1cbiAgICAvKioqIGZvcm1hdCBzcGVjaWZpYyBtZXRob2RzIGVuZCAqKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0NoYXJhY3RlckFGb3JtYXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDaGFyYWN0ZXJBRm9ybWF0KGNhcmV0UG9zLCB2YWx1ZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzOSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHM5LmZvcm1hdCxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczkucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzOS5zdWZmaXgsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM5LmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzOS5maXhlZERlY2ltYWxTY2FsZTtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnM1ID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnM1LmRlY2ltYWxTZXBhcmF0b3I7IC8vY2hlY2sgd2l0aGluIGZvcm1hdCBwYXR0ZXJuXG5cblxuICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnICYmIGZvcm1hdFtjYXJldFBvc10gIT09ICcjJykgcmV0dXJuIHRydWU7IC8vY2hlY2sgaW4gbnVtYmVyIGZvcm1hdFxuXG4gICAgICBpZiAoIWZvcm1hdCAmJiAoY2FyZXRQb3MgPCBwcmVmaXgubGVuZ3RoIHx8IGNhcmV0UG9zID49IHZhbHVlLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGggfHwgZGVjaW1hbFNjYWxlICYmIGZpeGVkRGVjaW1hbFNjYWxlICYmIHZhbHVlW2NhcmV0UG9zXSA9PT0gZGVjaW1hbFNlcGFyYXRvcikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tJZkZvcm1hdEdvdERlbGV0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tJZkZvcm1hdEdvdERlbGV0ZWQoc3RhcnQsIGVuZCwgdmFsdWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyQUZvcm1hdChpLCB2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBjaGVjayBpZiBhbnkgZm9ybWF0dGluZyBnb3QgcmVtb3ZlZCBieSB0aGUgZGVsZXRlIG9yIGJhY2tzcGFjZSBhbmQgcmVzZXQgdGhlIHZhbHVlXG4gICAgICogSXQgd2lsbCBhbHNvIHdvcmsgYXMgZmFsbGJhY2sgaWYgYW5kcm9pZCBjaG9tZSBrZXlEb3duIGhhbmRsZXIgZG9lcyBub3Qgd29ya1xuICAgICAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvcnJlY3RJbnB1dFZhbHVlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvcnJlY3RJbnB1dFZhbHVlKGNhcmV0UG9zLCBsYXN0VmFsdWUsIHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMxMCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMxMC5mb3JtYXQsXG4gICAgICAgICAgYWxsb3dOZWdhdGl2ZSA9IF90aGlzJHByb3BzMTAuYWxsb3dOZWdhdGl2ZSxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczEwLnByZWZpeCxcbiAgICAgICAgICBzdWZmaXggPSBfdGhpcyRwcm9wczEwLnN1ZmZpeDtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnM2ID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnM2LmRlY2ltYWxTZXBhcmF0b3I7XG5cbiAgICAgIHZhciBsYXN0TnVtU3RyID0gdGhpcy5zdGF0ZS5udW1Bc1N0cmluZyB8fCAnJztcbiAgICAgIHZhciBfdGhpcyRzZWxlY3Rpb25CZWZvcmUgPSB0aGlzLnNlbGVjdGlvbkJlZm9yZUlucHV0LFxuICAgICAgICAgIHNlbGVjdGlvblN0YXJ0ID0gX3RoaXMkc2VsZWN0aW9uQmVmb3JlLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IF90aGlzJHNlbGVjdGlvbkJlZm9yZS5zZWxlY3Rpb25FbmQ7XG5cbiAgICAgIHZhciBfZmluZENoYW5nZWRJbmRleCA9ICgwLCBfdXRpbHMuZmluZENoYW5nZWRJbmRleCkobGFzdFZhbHVlLCB2YWx1ZSksXG4gICAgICAgICAgc3RhcnQgPSBfZmluZENoYW5nZWRJbmRleC5zdGFydCxcbiAgICAgICAgICBlbmQgPSBfZmluZENoYW5nZWRJbmRleC5lbmQ7XG4gICAgICAvKiogQ2hlY2sgaWYgb25seSAuIGlzIGFkZGVkIGluIHRoZSBudW1lcmljIGZvcm1hdCBhbmQgcmVwbGFjZSBpdCB3aXRoIGRlY2ltYWwgc2VwYXJhdG9yICovXG5cblxuICAgICAgaWYgKCFmb3JtYXQgJiYgZGVjaW1hbFNlcGFyYXRvciAhPT0gJy4nICYmIHN0YXJ0ID09PSBlbmQgJiYgdmFsdWVbc2VsZWN0aW9uU3RhcnRdID09PSAnLicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cigwLCBzZWxlY3Rpb25TdGFydCkgKyBkZWNpbWFsU2VwYXJhdG9yICsgdmFsdWUuc3Vic3RyKHNlbGVjdGlvblN0YXJ0ICsgMSwgdmFsdWUubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIC8qIGRvbid0IGRvIGFueWh0aW5nIGlmIHNvbWV0aGluZyBnb3QgYWRkZWQsXG4gICAgICAgb3IgaWYgdmFsdWUgaXMgZW1wdHkgc3RyaW5nICh3aGVuIHdob2xlIGlucHV0IGlzIGNsZWFyZWQpXG4gICAgICAgb3Igd2hvbGUgaW5wdXQgaXMgcmVwbGFjZSB3aXRoIGEgbnVtYmVyXG4gICAgICAqL1xuXG5cbiAgICAgIHZhciBsZWZ0Qm91bmQgPSAhIWZvcm1hdCA/IDAgOiBwcmVmaXgubGVuZ3RoO1xuICAgICAgdmFyIHJpZ2h0Qm91bmQgPSBsYXN0VmFsdWUubGVuZ3RoIC0gKCEhZm9ybWF0ID8gMCA6IHN1ZmZpeC5sZW5ndGgpO1xuXG4gICAgICBpZiAodmFsdWUubGVuZ3RoID4gbGFzdFZhbHVlLmxlbmd0aCB8fCAhdmFsdWUubGVuZ3RoIHx8IHN0YXJ0ID09PSBlbmQgfHwgc2VsZWN0aW9uU3RhcnQgPT09IDAgJiYgc2VsZWN0aW9uRW5kID09PSBsYXN0VmFsdWUubGVuZ3RoIHx8IHNlbGVjdGlvblN0YXJ0ID09PSBsZWZ0Qm91bmQgJiYgc2VsZWN0aW9uRW5kID09PSByaWdodEJvdW5kKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gLy9pZiBmb3JtYXQgZ290IGRlbGV0ZWQgcmVzZXQgdGhlIHZhbHVlIHRvIGxhc3QgdmFsdWVcblxuXG4gICAgICBpZiAodGhpcy5jaGVja0lmRm9ybWF0R290RGVsZXRlZChzdGFydCwgZW5kLCBsYXN0VmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gbGFzdFZhbHVlO1xuICAgICAgfSAvL2ZvciBudW1iZXJzIGNoZWNrIGlmIGJlZm9yZURlY2ltYWwgZ290IGRlbGV0ZWQgYW5kIHRoZXJlIGlzIG5vdGhpbmcgYWZ0ZXIgZGVjaW1hbCxcbiAgICAgIC8vY2xlYXIgYWxsIG51bWJlcnMgaW4gc3VjaCBjYXNlIHdoaWxlIGtlZXBpbmcgdGhlIC0gc2lnblxuXG5cbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIHZhciBudW1lcmljU3RyaW5nID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKHZhbHVlKTtcblxuICAgICAgICB2YXIgX3NwbGl0RGVjaW1hbDIgPSAoMCwgX3V0aWxzLnNwbGl0RGVjaW1hbCkobnVtZXJpY1N0cmluZywgYWxsb3dOZWdhdGl2ZSksXG4gICAgICAgICAgICBiZWZvcmVEZWNpbWFsID0gX3NwbGl0RGVjaW1hbDIuYmVmb3JlRGVjaW1hbCxcbiAgICAgICAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwyLmFmdGVyRGVjaW1hbCxcbiAgICAgICAgICAgIGFkZE5lZ2F0aW9uID0gX3NwbGl0RGVjaW1hbDIuYWRkTmVnYXRpb247IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgICAgIC8vY2xlYXIgb25seSBpZiBzb21ldGhpbmcgZ290IGRlbGV0ZWRcblxuXG4gICAgICAgIHZhciBpc0JlZm9yZURlY2ltYWxQb2ludCA9IGNhcmV0UG9zIDwgdmFsdWUuaW5kZXhPZihkZWNpbWFsU2VwYXJhdG9yKSArIDE7XG5cbiAgICAgICAgaWYgKG51bWVyaWNTdHJpbmcubGVuZ3RoIDwgbGFzdE51bVN0ci5sZW5ndGggJiYgaXNCZWZvcmVEZWNpbWFsUG9pbnQgJiYgYmVmb3JlRGVjaW1hbCA9PT0gJycgJiYgIXBhcnNlRmxvYXQoYWZ0ZXJEZWNpbWFsKSkge1xuICAgICAgICAgIHJldHVybiBhZGROZWdhdGlvbiA/ICctJyA6ICcnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqIFVwZGF0ZSB2YWx1ZSBhbmQgY2FyZXQgcG9zaXRpb24gKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVZhbHVlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVZhbHVlKHBhcmFtcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBvblVwZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogX3V0aWxzLm5vb3A7XG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBwYXJhbXMuZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgaW5wdXQgPSBwYXJhbXMuaW5wdXQ7XG4gICAgICB2YXIgbnVtQXNTdHJpbmcgPSBwYXJhbXMubnVtQXNTdHJpbmcsXG4gICAgICAgICAgY2FyZXRQb3MgPSBwYXJhbXMuY2FyZXRQb3M7XG4gICAgICB2YXIgb25WYWx1ZUNoYW5nZSA9IHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZTtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlOyAvL3NldCBjYXJldCBwb3NpdGlvbiwgYW5kIHZhbHVlIGltcGVyYXRpdmVseSB3aGVuIGVsZW1lbnQgaXMgcHJvdmlkZWRcblxuICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgIC8vY2FsY3VsYXRlIGNhcmV0IHBvc2l0aW9uIGlmIG5vdCBkZWZpbmVkXG4gICAgICAgIGlmICghY2FyZXRQb3MpIHtcbiAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IHBhcmFtcy5pbnB1dFZhbHVlIHx8IGlucHV0LnZhbHVlO1xuICAgICAgICAgIHZhciBjdXJyZW50Q2FyZXRQb3NpdGlvbiA9ICgwLCBfdXRpbHMuZ2V0Q3VycmVudENhcmV0UG9zaXRpb24pKGlucHV0KTsgLy9nZXQgdGhlIGNhcmV0IHBvc2l0aW9uXG5cbiAgICAgICAgICBjYXJldFBvcyA9IHRoaXMuZ2V0Q2FyZXRQb3NpdGlvbihpbnB1dFZhbHVlLCBmb3JtYXR0ZWRWYWx1ZSwgY3VycmVudENhcmV0UG9zaXRpb24pO1xuICAgICAgICB9IC8vc2V0IHRoZSB2YWx1ZSBpbXBlcmF0aXZlbHksIHRoaXMgaXMgcmVxdWlyZWQgZm9yIElFIGZpeFxuXG5cbiAgICAgICAgaW5wdXQudmFsdWUgPSBmb3JtYXR0ZWRWYWx1ZTsgLy9zZXQgY2FyZXQgcG9zaXRpb25cblxuICAgICAgICB0aGlzLnNldFBhdGNoZWRDYXJldFBvc2l0aW9uKGlucHV0LCBjYXJldFBvcywgZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfSAvL2NhbGN1bGF0ZSBudW1lcmljIHN0cmluZyBpZiBub3QgcGFzc2VkXG5cblxuICAgICAgaWYgKG51bUFzU3RyaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbnVtQXNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfSAvL3VwZGF0ZSBzdGF0ZSBpZiB2YWx1ZSBpcyBjaGFuZ2VkXG5cblxuICAgICAgaWYgKGZvcm1hdHRlZFZhbHVlICE9PSBsYXN0VmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICAgIG51bUFzU3RyaW5nOiBudW1Bc1N0cmluZ1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25WYWx1ZUNoYW5nZShfdGhpczIuZ2V0VmFsdWVPYmplY3QoZm9ybWF0dGVkVmFsdWUsIG51bUFzU3RyaW5nKSk7XG4gICAgICAgICAgb25VcGRhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICBlLnBlcnNpc3QoKTtcbiAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xuICAgICAgdmFyIGlucHV0VmFsdWUgPSBlbC52YWx1ZTtcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgdmFyIGlzQWxsb3dlZCA9IHByb3BzLmlzQWxsb3dlZDtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSBzdGF0ZS52YWx1ZSB8fCAnJztcbiAgICAgIHZhciBjdXJyZW50Q2FyZXRQb3NpdGlvbiA9ICgwLCBfdXRpbHMuZ2V0Q3VycmVudENhcmV0UG9zaXRpb24pKGVsKTtcbiAgICAgIGlucHV0VmFsdWUgPSB0aGlzLmNvcnJlY3RJbnB1dFZhbHVlKGN1cnJlbnRDYXJldFBvc2l0aW9uLCBsYXN0VmFsdWUsIGlucHV0VmFsdWUpO1xuICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXRJbnB1dChpbnB1dFZhbHVlKSB8fCAnJztcbiAgICAgIHZhciBudW1Bc1N0cmluZyA9IHRoaXMucmVtb3ZlRm9ybWF0dGluZyhmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB2YXIgdmFsdWVPYmogPSB0aGlzLmdldFZhbHVlT2JqZWN0KGZvcm1hdHRlZFZhbHVlLCBudW1Bc1N0cmluZyk7XG5cbiAgICAgIGlmICghaXNBbGxvd2VkKHZhbHVlT2JqKSkge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGxhc3RWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlOiBmb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgbnVtQXNTdHJpbmc6IG51bUFzU3RyaW5nLFxuICAgICAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlLFxuICAgICAgICBpbnB1dDogZWxcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcHJvcHMub25DaGFuZ2UoZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25CbHVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQmx1cihlKSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIHZhciBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICAgICAgb25CbHVyID0gcHJvcHMub25CbHVyO1xuICAgICAgdmFyIG51bUFzU3RyaW5nID0gc3RhdGUubnVtQXNTdHJpbmc7XG4gICAgICB2YXIgbGFzdFZhbHVlID0gc3RhdGUudmFsdWU7XG4gICAgICB0aGlzLmZvY3VzZWRFbG0gPSBudWxsO1xuXG4gICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICBudW1Bc1N0cmluZyA9ICgwLCBfdXRpbHMuZml4TGVhZGluZ1plcm8pKG51bUFzU3RyaW5nKTtcbiAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXROdW1TdHJpbmcobnVtQXNTdHJpbmcpOyAvL2NoYW5nZSB0aGUgc3RhdGVcblxuICAgICAgICBpZiAoZm9ybWF0dGVkVmFsdWUgIT09IGxhc3RWYWx1ZSkge1xuICAgICAgICAgIC8vIHRoZSBldmVudCBuZWVkcyB0byBiZSBwZXJzaXN0ZWQgYmVjYXVzZSBpdHMgcHJvcGVydGllcyBjYW4gYmUgYWNjZXNzZWQgaW4gYW4gYXN5bmNocm9ub3VzIHdheVxuICAgICAgICAgIGUucGVyc2lzdCgpO1xuICAgICAgICAgIHRoaXMudXBkYXRlVmFsdWUoe1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICAgICAgbnVtQXNTdHJpbmc6IG51bUFzU3RyaW5nXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb25CbHVyKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBvbkJsdXIoZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uS2V5RG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG4gICAgICB2YXIga2V5ID0gZS5rZXk7XG4gICAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSBlbC5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICBzZWxlY3Rpb25FbmQgPSBlbC5zZWxlY3Rpb25FbmQsXG4gICAgICAgICAgX2VsJHZhbHVlID0gZWwudmFsdWUsXG4gICAgICAgICAgdmFsdWUgPSBfZWwkdmFsdWUgPT09IHZvaWQgMCA/ICcnIDogX2VsJHZhbHVlO1xuICAgICAgdmFyIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbjtcbiAgICAgIHZhciBfdGhpcyRwcm9wczExID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczExLmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzMTEuZml4ZWREZWNpbWFsU2NhbGUsXG4gICAgICAgICAgcHJlZml4ID0gX3RoaXMkcHJvcHMxMS5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHMxMS5zdWZmaXgsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMxMS5mb3JtYXQsXG4gICAgICAgICAgb25LZXlEb3duID0gX3RoaXMkcHJvcHMxMS5vbktleURvd24sXG4gICAgICAgICAgb25WYWx1ZUNoYW5nZSA9IF90aGlzJHByb3BzMTEub25WYWx1ZUNoYW5nZTtcbiAgICAgIHZhciBpZ25vcmVEZWNpbWFsU2VwYXJhdG9yID0gZGVjaW1hbFNjYWxlICE9PSB1bmRlZmluZWQgJiYgZml4ZWREZWNpbWFsU2NhbGU7XG4gICAgICB2YXIgbnVtUmVnZXggPSB0aGlzLmdldE51bWJlclJlZ2V4KGZhbHNlLCBpZ25vcmVEZWNpbWFsU2VwYXJhdG9yKTtcbiAgICAgIHZhciBuZWdhdGl2ZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnLScpO1xuICAgICAgdmFyIGlzUGF0dGVybkZvcm1hdCA9IHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnO1xuICAgICAgdGhpcy5zZWxlY3Rpb25CZWZvcmVJbnB1dCA9IHtcbiAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IHNlbGVjdGlvblN0YXJ0LFxuICAgICAgICBzZWxlY3Rpb25FbmQ6IHNlbGVjdGlvbkVuZCAvL0hhbmRsZSBiYWNrc3BhY2UgYW5kIGRlbGV0ZSBhZ2FpbnN0IG5vbiBudW1lcmljYWwvZGVjaW1hbCBjaGFyYWN0ZXJzIG9yIGFycm93IGtleXNcblxuICAgICAgfTtcblxuICAgICAgaWYgKGtleSA9PT0gJ0Fycm93TGVmdCcgfHwga2V5ID09PSAnQmFja3NwYWNlJykge1xuICAgICAgICBleHBlY3RlZENhcmV0UG9zaXRpb24gPSBzZWxlY3Rpb25TdGFydCAtIDE7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0ICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnRGVsZXRlJykge1xuICAgICAgICBleHBlY3RlZENhcmV0UG9zaXRpb24gPSBzZWxlY3Rpb25TdGFydDtcbiAgICAgIH0gLy9pZiBleHBlY3RlZENhcmV0UG9zaXRpb24gaXMgbm90IHNldCBpdCBtZWFucyB3ZSBkb24ndCB3YW50IHRvIEhhbmRsZSBrZXlEb3duXG4gICAgICAvL2Fsc28gaWYgbXVsdGlwbGUgY2hhcmFjdGVycyBhcmUgc2VsZWN0ZWQgZG9uJ3QgaGFuZGxlXG5cblxuICAgICAgaWYgKGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHNlbGVjdGlvblN0YXJ0ICE9PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgb25LZXlEb3duKGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdDYXJldFBvc2l0aW9uID0gZXhwZWN0ZWRDYXJldFBvc2l0aW9uO1xuICAgICAgdmFyIGxlZnRCb3VuZCA9IGlzUGF0dGVybkZvcm1hdCA/IGZvcm1hdC5pbmRleE9mKCcjJykgOiBwcmVmaXgubGVuZ3RoO1xuICAgICAgdmFyIHJpZ2h0Qm91bmQgPSBpc1BhdHRlcm5Gb3JtYXQgPyBmb3JtYXQubGFzdEluZGV4T2YoJyMnKSArIDEgOiB2YWx1ZS5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuXG4gICAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBrZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0ga2V5ID09PSAnQXJyb3dMZWZ0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIG5ld0NhcmV0UG9zaXRpb24gPSB0aGlzLmNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBleHBlY3RlZENhcmV0UG9zaXRpb24sIGRpcmVjdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0RlbGV0ZScgJiYgIW51bVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkgJiYgIW5lZ2F0aXZlUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSkge1xuICAgICAgICB3aGlsZSAoIW51bVJlZ2V4LnRlc3QodmFsdWVbbmV3Q2FyZXRQb3NpdGlvbl0pICYmIG5ld0NhcmV0UG9zaXRpb24gPCByaWdodEJvdW5kKSB7XG4gICAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbisrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0JhY2tzcGFjZScgJiYgIW51bVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkpIHtcbiAgICAgICAgLyogTk9URTogVGhpcyBpcyBzcGVjaWFsIGNhc2Ugd2hlbiBiYWNrc3BhY2UgaXMgcHJlc3NlZCBvbiBhXG4gICAgICAgIG5lZ2F0aXZlIHZhbHVlIHdoaWxlIHRoZSBjdXJzb3IgcG9zaXRpb24gaXMgYWZ0ZXIgcHJlZml4LiBXZSBjYW4ndCBoYW5kbGUgaXQgb24gb25DaGFuZ2UgYmVjYXVzZVxuICAgICAgICB3ZSB3aWxsIG5vdCBoYXZlIGFueSBpbmZvcm1hdGlvbiBvZiBrZXlQcmVzc1xuICAgICAgICAqL1xuICAgICAgICBpZiAoc2VsZWN0aW9uU3RhcnQgPD0gbGVmdEJvdW5kICsgMSAmJiB2YWx1ZVswXSA9PT0gJy0nICYmIHR5cGVvZiBmb3JtYXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEpOyAvL3BlcnNpc3QgZXZlbnQgYmVmb3JlIHBlcmZvcm1pbmcgYXN5bmMgdGFza1xuXG4gICAgICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogbmV3VmFsdWUsXG4gICAgICAgICAgICBjYXJldFBvczogbmV3Q2FyZXRQb3NpdGlvbixcbiAgICAgICAgICAgIGlucHV0OiBlbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZWdhdGl2ZVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkpIHtcbiAgICAgICAgICB3aGlsZSAoIW51bVJlZ2V4LnRlc3QodmFsdWVbbmV3Q2FyZXRQb3NpdGlvbiAtIDFdKSAmJiBuZXdDYXJldFBvc2l0aW9uID4gbGVmdEJvdW5kKSB7XG4gICAgICAgICAgICBuZXdDYXJldFBvc2l0aW9uLS07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIG5ld0NhcmV0UG9zaXRpb24sICdsZWZ0Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0NhcmV0UG9zaXRpb24gIT09IGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiB8fCBleHBlY3RlZENhcmV0UG9zaXRpb24gPCBsZWZ0Qm91bmQgfHwgZXhwZWN0ZWRDYXJldFBvc2l0aW9uID4gcmlnaHRCb3VuZCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIG5ld0NhcmV0UG9zaXRpb24sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8qIE5PVEU6IHRoaXMgaXMganVzdCByZXF1aXJlZCBmb3IgdW5pdCB0ZXN0IGFzIHdlIG5lZWQgdG8gZ2V0IHRoZSBuZXdDYXJldFBvc2l0aW9uLFxuICAgICAgICAgICAgICBSZW1vdmUgdGhpcyB3aGVuIHlvdSBmaW5kIGRpZmZlcmVudCBzb2x1dGlvbiAqL1xuXG5cbiAgICAgIGlmIChlLmlzVW5pdFRlc3RSdW4pIHtcbiAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgbmV3Q2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3BzLm9uS2V5RG93bihlKTtcbiAgICB9XG4gICAgLyoqIHJlcXVpcmVkIHRvIGhhbmRsZSB0aGUgY2FyZXQgcG9zaXRpb24gd2hlbiBjbGljayBhbnl3aGVyZSB3aXRoaW4gdGhlIGlucHV0ICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZVVwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VVcChlKSB7XG4gICAgICB2YXIgZWwgPSBlLnRhcmdldDtcbiAgICAgIC8qKlxuICAgICAgICogTk9URTogd2UgaGF2ZSB0byBnaXZlIGRlZmF1bHQgdmFsdWUgZm9yIHZhbHVlIGFzIGluIGNhc2Ugd2hlbiBjdXN0b20gaW5wdXQgaXMgcHJvdmlkZWRcbiAgICAgICAqIHZhbHVlIGNhbiBjb21lIGFzIHVuZGVmaW5lZCB3aGVuIG5vdGhpbmcgaXMgcHJvdmlkZWQgb24gdmFsdWUgcHJvcC5cbiAgICAgICovXG5cbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IGVsLnNlbGVjdGlvbkVuZCxcbiAgICAgICAgICBfZWwkdmFsdWUyID0gZWwudmFsdWUsXG4gICAgICAgICAgdmFsdWUgPSBfZWwkdmFsdWUyID09PSB2b2lkIDAgPyAnJyA6IF9lbCR2YWx1ZTI7XG5cbiAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA9PT0gc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHZhciBjYXJldFBvc2l0aW9uID0gdGhpcy5jb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgc2VsZWN0aW9uU3RhcnQpO1xuXG4gICAgICAgIGlmIChjYXJldFBvc2l0aW9uICE9PSBzZWxlY3Rpb25TdGFydCkge1xuICAgICAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zaXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3BzLm9uTW91c2VVcChlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Gb2N1c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkZvY3VzKGUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAvLyBXb3JrYXJvdW5kIENocm9tZSBhbmQgU2FmYXJpIGJ1ZyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03NzkzMjhcbiAgICAgIC8vIChvbkZvY3VzIGV2ZW50IHRhcmdldCBzZWxlY3Rpb25TdGFydCBpcyBhbHdheXMgMCBiZWZvcmUgc2V0VGltZW91dClcbiAgICAgIGUucGVyc2lzdCgpO1xuICAgICAgdGhpcy5mb2N1c2VkRWxtID0gZS50YXJnZXQ7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG4gICAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgc2VsZWN0aW9uRW5kID0gZWwuc2VsZWN0aW9uRW5kLFxuICAgICAgICAgICAgX2VsJHZhbHVlMyA9IGVsLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWUgPSBfZWwkdmFsdWUzID09PSB2b2lkIDAgPyAnJyA6IF9lbCR2YWx1ZTM7XG5cbiAgICAgICAgdmFyIGNhcmV0UG9zaXRpb24gPSBfdGhpczMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIHNlbGVjdGlvblN0YXJ0KTsgLy9zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbiBvbmx5IHdoZW4gZXZlcnl0aGluZyBpcyBub3Qgc2VsZWN0ZWQgb24gZm9jdXMgKHdoaWxlIHRhYmJpbmcgaW50byB0aGUgZmllbGQpXG5cblxuICAgICAgICBpZiAoY2FyZXRQb3NpdGlvbiAhPT0gc2VsZWN0aW9uU3RhcnQgJiYgIShzZWxlY3Rpb25TdGFydCA9PT0gMCAmJiBzZWxlY3Rpb25FbmQgPT09IHZhbHVlLmxlbmd0aCkpIHtcbiAgICAgICAgICBfdGhpczMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zaXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy5wcm9wcy5vbkZvY3VzKGUpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMxMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdHlwZSA9IF90aGlzJHByb3BzMTIudHlwZSxcbiAgICAgICAgICBkaXNwbGF5VHlwZSA9IF90aGlzJHByb3BzMTIuZGlzcGxheVR5cGUsXG4gICAgICAgICAgY3VzdG9tSW5wdXQgPSBfdGhpcyRwcm9wczEyLmN1c3RvbUlucHV0LFxuICAgICAgICAgIHJlbmRlclRleHQgPSBfdGhpcyRwcm9wczEyLnJlbmRlclRleHQsXG4gICAgICAgICAgZ2V0SW5wdXRSZWYgPSBfdGhpcyRwcm9wczEyLmdldElucHV0UmVmO1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgIHZhciBvdGhlclByb3BzID0gKDAsIF91dGlscy5vbWl0KSh0aGlzLnByb3BzLCBwcm9wVHlwZXMpO1xuXG4gICAgICB2YXIgaW5wdXRQcm9wcyA9IF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2UsXG4gICAgICAgIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sXG4gICAgICAgIG9uTW91c2VVcDogdGhpcy5vbk1vdXNlVXAsXG4gICAgICAgIG9uRm9jdXM6IHRoaXMub25Gb2N1cyxcbiAgICAgICAgb25CbHVyOiB0aGlzLm9uQmx1clxuICAgICAgfSk7XG5cbiAgICAgIGlmIChkaXNwbGF5VHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0ID8gcmVuZGVyVGV4dCh2YWx1ZSkgfHwgbnVsbCA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7XG4gICAgICAgICAgcmVmOiBnZXRJbnB1dFJlZlxuICAgICAgICB9KSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChjdXN0b21JbnB1dCkge1xuICAgICAgICB2YXIgQ3VzdG9tSW5wdXQgPSBjdXN0b21JbnB1dDtcbiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ3VzdG9tSW5wdXQsIGlucHV0UHJvcHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIF9leHRlbmRzKHt9LCBpbnB1dFByb3BzLCB7XG4gICAgICAgIHJlZjogZ2V0SW5wdXRSZWZcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTnVtYmVyRm9ybWF0O1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5OdW1iZXJGb3JtYXQucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuTnVtYmVyRm9ybWF0LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcbnZhciBfZGVmYXVsdCA9IE51bWJlckZvcm1hdDtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDgxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX1BhcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0NoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjYpO1xuXG52YXIgX0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrYm94KTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX0ludm9pY2VUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4Mik7XG5cbnZhciBfSW52b2ljZVRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludm9pY2VUYWJsZSk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTY1KTtcblxudmFyIF9TbmFja2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2Jhcik7XG5cbnZhciBfSWNvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXG52YXIgX0ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvbkJ1dHRvbik7XG5cbnZhciBfQ2xvc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblxudmFyIF9DbG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9zZSk7XG5cbnZhciBfQ2xlYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzOCk7XG5cbnZhciBfQ2xlYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xlYXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBkdWVEZXRhaWxzUm9vdDoge1xuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjBcIixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICB9LFxuICAgICAgICBwb3N0Q2FsbER1ZURldGFpbHNSb290OiB7XG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiMFwiLFxuICAgICAgICAgICAgLy8gYmFja2dyb3VuZDogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgICAgICAgIGhlaWdodDogXCI2MHZoXCIsXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiXG4gICAgICAgIH0sXG4gICAgICAgIG1lbnVJdGVtUm9vdDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMS41dmggMS4wOXZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgbWVudVBhcGVyOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCB3aGl0ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiBcImdyZXlcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIuNjVlbVwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiLjY1ZW1cIlxuICAgICAgICB9LFxuICAgICAgICBjaGVja2VkSWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdEZpbHRlcjoge1xuICAgICAgICAgICAgbWluV2lkdGg6IDEyMCxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi45cmVtICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMS43MTh2d1wiXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsSWNvbjoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS40NnZoICsgMS40NnZ3KVwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgZW5hYmxlZEVtYWlsSWNvbjoge1xuICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZEVtYWlsSWNvbjoge1xuICAgICAgICAgICAgb3BhY2l0eTogXCIuNVwiXG4gICAgICAgIH0sXG4gICAgICAgIGJsYWNrVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RNZW51OiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIuOXJlbSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjIpXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJTZWxlY3Rpb25zOiB7XG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBjbGVhclNlbGVjdGlvbnNQYXJlbnQ6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiLjQ1cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0SWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAuNlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RMaW5lUG9zdENhbGw6IHtcbiAgICAgICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjNTk2QTc1ICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiLjd2aCAwXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0TGluZUluQ2FsbDoge1xuICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIyLjAzN3ZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUJ1Y2tldENoZWNrYm94OiB7XG4gICAgICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tCb3hSb290OiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjBcIlxuICAgICAgICB9LFxuICAgICAgICBjbGVhclNlbGVjdGlvbkdyaWQ6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGludm9pY2VzOiBbXSxcbiAgICBmaWx0ZXJJbnZvaWNlczogZnVuY3Rpb24gZmlsdGVySW52b2ljZXMoKSB7fSxcbiAgICBidWNrZXROYW1lczogW11cbn07XG5cbnZhciBEdWVEZXRhaWxzID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRHVlRGV0YWlscywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEdWVEZXRhaWxzKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEdWVEZXRhaWxzKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRHVlRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKER1ZURldGFpbHMpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgICAgICBfdGhpcy50b3RhbFJvd3MgPSAwO1xuICAgICAgICB2YXIgbWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIF90aGlzLnRvdGFsUm93cyA9IF90aGlzLnRvdGFsUm93cyArIHByb3BzLmludm9pY2VzW2pdLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXNbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCkgbWFwW3Byb3BzLmludm9pY2VzW2pdW2ldLmlkXSA9IGZhbHNlO2Vsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW52b2ljZXNbal1baV0uaWQgaW4gcHJvcHMuY29ycmVjdEludm9pY2VzTWFwKSBtYXBbcHJvcHMuaW52b2ljZXNbal1baV0uaWRdID0gdHJ1ZTtlbHNlIG1hcFtwcm9wcy5pbnZvaWNlc1tqXVtpXS5pZF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMucHJvcHMucG9zdENhbGwgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMuc2V0U2VsZWN0ZWRJbnZvaWNlcyhtYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBpbnZvaWNlVHlwZTogXCJBbGxcIixcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IG1hcCxcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGdsb2JhbENoZWNrOiBmYWxzZSxcbiAgICAgICAgICAgIGlzQnVsa0VtYWlsOiB0cnVlLFxuICAgICAgICAgICAgY29sbGVjdG9yOiBfdGhpcy5wcm9wcy5jb2xsZWN0b3IsXG4gICAgICAgICAgICBjdXN0b21lcjogX3RoaXMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnByb3BzLmZpbHRlckludm9pY2VzKFwiQWxsXCIpO1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRHVlRGV0YWlscywgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsIF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcyx0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcblxuXG4gICAgICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cblxuXG4gICAgICAgIC8vIFNlbmQgZW1haWwgZm9yIG1vcmUgdGhhbiBvbmUgaW52b2ljZVxuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuICAgICAgICAgICAgdmFyIGRheXMgPSB0aGlzLnByb3BzLmJ1Y2tldE5hbWVzO1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5wb3N0Q2FsbCA/IGNsYXNzZXMucG9zdENhbGxEdWVEZXRhaWxzUm9vdCA6IGNsYXNzZXMuZHVlRGV0YWlsc1Jvb3QsIGVsZXZhdGlvbjogMCB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBjbGFzc05hbWU6IHRoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnNlbGVjdExpbmVQb3N0Q2FsbCA6IGNsYXNzZXMuc2VsZWN0TGluZUluQ2FsbCB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUJ1Y2tldENoZWNrYm94LCBhbGlnbjogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMuY2hlY2tCb3hSb290IH0sIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2ZycgfSksIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZDogdGhpcy5zdGF0ZS5nbG9iYWxDaGVjaywgb25DbGljazogdGhpcy5oYW5kbGVDaGFuZ2UgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5ibGFja1RleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0IEFsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmlldyBcXHhBMDonXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfU2VsZWN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuc2VsZWN0RmlsdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW52b2ljZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUZpbHRlckNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24sIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW51UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJpbnZvaWNlVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlbGVjdE1lbnUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0FsbCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0Jyb2tlbiBQMlAnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdCcm9rZW4gUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnVXBjb21pbmcgUDJQJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBjb21pbmcgUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnRGlzcHV0ZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Rpc3B1dGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdQcmVkaWN0ZWQgRGVsaW5xdWVudCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ByZWRpY3RlZCBEZWxpbnF1ZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogNSwgYWxpZ246ICdyaWdodCcsIGNsYXNzTmFtZTogY2xhc3Nlcy5jbGVhclNlbGVjdGlvbkdyaWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbGVhclNlbGVjdGlvbnMsIGNsYXNzTmFtZTogY2xhc3Nlcy5jbGVhclNlbGVjdGlvbnNQYXJlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xlYXIyLmRlZmF1bHQsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMS4xcmVtXCIsIG9wYWNpdHk6IDAuNjUgfSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2xlYXJTZWxlY3Rpb25zIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDbGVhciBTZWxlY3Rpb25zICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogNSwgYWxpZ246ICdyaWdodCcsIHN0eWxlOiB7IHBhZGRpbmdSaWdodDogXCIwdndcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxJY29uLCBjbGFzc2VzLmVuYWJsZWRFbWFpbEljb24pLCBvbkNsaWNrOiB0aGlzLnNlbmRCdWxrRW1haWwsIHNyYzogJy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLmlzQnVsa0VtYWlsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmVtYWlsSWNvbiwgY2xhc3Nlcy5kaXNhYmxlZEVtYWlsSWNvbiksIHNyYzogJy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGZ1bmN0aW9uIChidWNrZXRJbnZvaWNlcywgaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnZvaWNlVGFibGUyLmRlZmF1bHQsIHsgZW1haWxPZkNhbGxlZDogX3RoaXMzLnByb3BzLmVtYWlsT2ZDYWxsZWQsIHBvc3RDYWxsOiBfdGhpczMucHJvcHMucG9zdENhbGwsIGNvbGxlY3RvcjogX3RoaXMzLnByb3BzLmNvbGxlY3RvciwgY3VzdG9tZXI6IF90aGlzMy5wcm9wcy5jdXN0b21lciwgc2VsZWN0ZWRJbnZvaWNlczogX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMsIGludm9pY2VzOiBidWNrZXRJbnZvaWNlcywgaW5kaXZpZHVhbDogZmFsc2UsIGRheXM6IGRheXNbaWRdLCBpbnZvaWNlVHlwZTogX3RoaXMzLnN0YXRlLmludm9pY2VUeXBlLCB1cGRhdGVHbG9iYWxNYXA6IF90aGlzMy51cGRhdGVHbG9iYWxNYXAgfSk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tCYXJPcGVuLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbWVzc2FnZS1pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlU25hY2tiYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICldXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRHVlRGV0YWlscztcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHRoaXMuc2V0Q2hlY2sgPSBmdW5jdGlvbiAoaW52b2ljZXMsIHNlbGVjdGVkSW52b2ljZXMpIHtcblxuICAgICAgICB2YXIgYWxsRW1haWxzRmxhZyA9IGZhbHNlO1xuXG4gICAgICAgIHZhciB0ZW1wID0gaW52b2ljZXM7XG5cbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgc3VtID0gc3VtICsgdGVtcFtqXS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vZW5hYmxlIG9yIGRpc2FibGUgZW1haWwgaWNvbiBiYXNlZCBvbiBzZWxlY3Rpb25cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBhbGxFbWFpbHNGbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFsbEVtYWlsc0ZsYWcpIHtcbiAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGlzQnVsa0VtYWlsOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdW0gPT0gMCkgZmxhZyA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSkgX3RoaXM0LnNldFN0YXRlKHsgZ2xvYmFsQ2hlY2s6IGZhbHNlIH0pO2Vsc2UgX3RoaXM0LnNldFN0YXRlKHsgZ2xvYmFsQ2hlY2s6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlR2xvYmFsTWFwID0gZnVuY3Rpb24gKGRhdGEsIGZsYWcsIGNhbGxGcm9tQ2hpbGQpIHtcbiAgICAgICAgdmFyIHRlbXA7XG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xuICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICAgICAgICAgIHRlbXAgPSBfdGhpczQuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJlbW92ZVwiOlxuICAgICAgICAgICAgICAgIHRlbXAgPSBfdGhpczQuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0Q2hlY2soX3RoaXM0LnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhZGRBcnJheVwiOlxuICAgICAgICAgICAgICAgIGlmIChjYWxsRnJvbUNoaWxkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IF90aGlzNC5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtpXS5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1fdGhpczQuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0Q2hlY2soX3RoaXM0LnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInJlbW92ZUFycmF5XCI6XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxGcm9tQ2hpbGQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9X3RoaXM0LnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldENoZWNrKF90aGlzNC5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXM0LnByb3BzLnBvc3RDYWxsID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzNC5wcm9wcy5zZXRTZWxlY3RlZEludm9pY2VzKHRlbXApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLmdsb2JhbENoZWNrID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVHbG9iYWxNYXAoX3RoaXM0LnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVHbG9iYWxNYXAoX3RoaXM0LnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNsZWFyU2VsZWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnVwZGF0ZUdsb2JhbE1hcChfdGhpczQuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIiwgZmFsc2UpO1xuICAgIH07XG5cbiAgICB0aGlzLmZpbmRUeXBlID0gZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgaWYgKGludm9pY2UucDJwRGVsaW5xdWVudCkgcmV0dXJuIFwiUHJlZGljdGVkIERlbGlucW1lbnRcIjtcbiAgICAgICAgaWYgKGludm9pY2UucDJwVXBjb21pbmcpIHJldHVybiBcIlVwY29taW5nIFAyUFwiO1xuICAgICAgICBpZiAoaW52b2ljZS5wMnBCcm9rZW4pIHJldHVybiBcIkJyb2tlbiBQMlBcIjtcbiAgICAgICAgcmV0dXJuIFwiRGlzcHV0ZVwiO1xuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZUZpbHRlckNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyB0aGlzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICAgICAgICAvLyB2YXIgaW52b2ljZVR5cGUgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgLy8gaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXG4gICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IHRoaXMuc3RhdGUuYWxsSW52b2ljZXMgfSwoKSA9PiB7dGhpcy5zZXRDaGVjaygpfSk7XG4gICAgICAgIC8vIGVsc2Uge1xuICAgICAgICAvLyAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcbiAgICAgICAgLy8gICAgIHZhciBmaWx0ZXJlZEludm9pY2VzID0gW11cbiAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIC8vICAgICAgICAgZmlsdGVyZWRJbnZvaWNlc1tpXSA9IGludm9pY2VzW2ldLmZpbHRlcihpbnZvaWNlID0+IHRoaXMuZmluZFR5cGUoaW52b2ljZSkgPT0gaW52b2ljZVR5cGUpO1xuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0sKCkgPT4ge3RoaXMuc2V0Q2hlY2soKX0pO1xuICAgICAgICAvLyB9XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGludm9pY2VUeXBlOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgIF90aGlzNC5wcm9wcy5maWx0ZXJJbnZvaWNlcyhldmVudC50YXJnZXQudmFsdWUpO1xuICAgIH07XG5cbiAgICB0aGlzLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzbmFja0Jhck1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbmRCdWxrRW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZW1wID0gX3RoaXM0LnN0YXRlLmludm9pY2VzO1xuICAgICAgICB2YXIgZG9jdW1lbnROdW1iZXJzID0gW107XG5cbiAgICAgICAgLy8gR2V0IHRoZSBjaGVja2VkIGludm9pY2VzIElkXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzNC5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbal1baV0uaWRdID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXJzLnB1c2godGVtcFtqXVtpXS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcbiAgICAgICAgdmFyIHJlcUVtYWlsT2JqID0ge1xuICAgICAgICAgICAgY3VzdG9tZXJJZDogX3RoaXM0LnN0YXRlLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IGRvY3VtZW50TnVtYmVycyxcbiAgICAgICAgICAgIGZyb206IF90aGlzNC5zdGF0ZS5jb2xsZWN0b3IuZW1haWxJZCwgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxuICAgICAgICAgICAgdG86IF90aGlzNC5wcm9wcy5lbWFpbE9mQ2FsbGVkIC8vZ2V0IGZyb20gQ29udGFjdCBvYmplY3QuXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTWFraW5nIGEgcG9zdCBjYWxsIGZvciBzZW5kaW5nIGVtYWlsc1xuICAgICAgICBfYXhpb3MyLmRlZmF1bHQucG9zdChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHknLCByZXFFbWFpbE9iailcbiAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgICAvLyBtb2NrIHNlcnZlciBhcGlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpczQub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzQ291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpIGluIHNlbGVjdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzW2ldID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyknO1xuICAgIH07XG59O1xuXG5EdWVEZXRhaWxzLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICAgIGZpbHRlckludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5cbkR1ZURldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKER1ZURldGFpbHMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA4Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Myk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWwpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsU3VtbWFyeSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc0KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbERldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMyk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuc2lvblBhbmVsRGV0YWlscyk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9FeHBhbmRNb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzkpO1xuXG52YXIgX0V4cGFuZE1vcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5kTW9yZSk7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNik7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX0RvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1NCk7XG5cbnZhciBfRG9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Eb25lKTtcblxudmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfU25hY2tiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cbnZhciBfU25hY2tiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25hY2tiYXIpO1xuXG52YXIgX0ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblxudmFyIF9JY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25CdXR0b24pO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjQpO1xuXG52YXIgX0xpc3RPZlRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODMpO1xuXG52YXIgX0xpc3RPZlRpbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdE9mVGlsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMFwiXG4gICAgICAgIH0sXG4gICAgICAgIG1lbnVJdGVtUm9vdDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMS41dmggMS4wOXZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgbWVudVBhcGVyOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiXG4gICAgICAgIH0sXG4gICAgICAgIHBvc3RDYWxsUm9vdDoge1xuICAgICAgICAgICAgcGFkZGluZzogXCIwXCIsXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IFwiLjh2aFwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEuMjV2d1wiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjIuMjJ2aFwiLFxuICAgICAgICAgICAgb3BhY2l0eTogXCIuNlwiXG5cbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tlZEljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAgICAgekluZGV4OiBcIjNcIixcbiAgICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0RmlsdGVyOiB7XG4gICAgICAgICAgICBtaW5XaWR0aDogMTIwLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIxLjcxOHZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBtYXJnaW46ICcwIC0ycHggLTJweCAtMnB4ICFpbXBvcnRhbnQnLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3REaXY6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcbiAgICAgICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RlZEdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiXG4gICAgICAgIH0sXG4gICAgICAgIHNoaWZ0OiB7XG4gICAgICAgICAgICBtYXJnaW46IFwiMXJlbSAxcmVtIDAgMXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGJsYWNrVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjk1cmVtXCIsXG4gICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JleVRleHQ6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiLjY1XCJcbiAgICAgICAgfSxcbiAgICAgICAgYnVja2V0SGVhZGVyVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlbWFpbFRhYmxlQ2VsbDoge1xuICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjdyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIuN3B4IHNvbGlkICM1OTZBNzUgIWltcG9ydGFudFwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2hhbmdlUm93QmFja2dyb3VuZDoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM1ODY5NzNcIlxuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0QmFja2dyb3VuZDoge1xuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIi43cHggc29saWQgIzM5NUM3MyAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiNS42NXZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUhlYWRlclRleHQ6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiBcIi41XCJcbiAgICAgICAgfSxcbiAgICAgICAgcGFuZWxTdW1tYXJ5OiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjBcIiwgbWFyZ2luOiBcIjBcIlxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICBtYXJnaW46IFwiMCAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgZXhwYW5kSWNvbjoge1xuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBpbmRpdmlkdWFsSW52b2ljZUhlYWRlcjoge1xuICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjFyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIxcmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiBcIjIuMDM3dmhcIlxuICAgICAgICB9LFxuICAgICAgICBlbWFpbEljb246IHtcbiAgICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcbiAgICAgICAgICAgIHdpZHRoOiBcImNhbGMoMS40NnZoICsgMS40NnZ3KVwiXG4gICAgICAgIH0sXG4gICAgICAgIGVuYWJsZWRFbWFpbEljb246IHtcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgZGlzYWJsZWRFbWFpbEljb246IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiLjVcIlxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5RXhwYW5kZWQ6IHtcbiAgICAgICAgICAgIG1pbkhlaWdodDogXCI1LjU1dmggIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVUaW1lbGluZToge1xuICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjIuMnJlbVwiLCBtYXJnaW5MZWZ0OiBcIi4ycmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGltZWxpbmU6IHtcbiAgICAgICAgICAgIGJvcmRlckxlZnQ6IFwiMXB4IHNvbGlkICM1OTZBNzVcIlxuICAgICAgICB9XG4gICAgfSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdkaXNhYmxlVGltZWxpbmUnLCB7fSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAncG9zdENhbGxUaW1lbGluZScsIHtcbiAgICAgICAgYm9yZGVyTGVmdDogXCIxcHggc29saWQgIzM5NUM3M1wiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnc2VsZWN0SWNvbicsIHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICBvcGFjaXR5OiAuNlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3N1bW1hcnlDb250ZW50Jywge1xuICAgICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMCAhaW1wb3J0YW50XCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdhbGlnbkdyaWRDZWxsQ2VudGVyJywge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdpbnZvaWNlTnVtYmVyQ29sdW1uJywge1xuICAgICAgICB3aWR0aDogXCIxNCVcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2Ftb3VudENvbHVtbicsIHtcbiAgICAgICAgd2lkdGg6IFwiMTIlXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdicm9rZW5Db2x1bW4nLCB7XG4gICAgICAgIHdpZHRoOiBcIjEzLjUlXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICd1cGNvbWluZ0NvbHVtbicsIHtcbiAgICAgICAgd2lkdGg6IFwiMTQlXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdkaXNwdXRlQ29sdW1uJywge1xuICAgICAgICB3aWR0aDogXCIxMyVcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3ByZWRpY3RlZENvbHVtbicsIHtcbiAgICAgICAgd2lkdGg6IFwiMTglXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdjaGVja0JveENvbHVtbicsIHtcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBtaW5XaWR0aDogXCIzLjEyNXZ3XCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdib3JkZXJCb3R0b20nLCB7XG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIuN3B4IHNvbGlkICMzOTVDNzMgIWltcG9ydGFudFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZW1haWxDb2x1bW4nLCB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnaW52b2ljZUJ1Y2tldENoZWNrYm94Jywge1xuICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCIsXG4gICAgICAgIGhlaWdodDogXCI1LjU1dmhcIixcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAndmVydGljYWxUaW1lbGluZScsIHtcbiAgICAgICAgd2lkdGg6IFwiMy4xMjV2d1wiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnY29ubmVjdG9yJywge1xuICAgICAgICBoZWlnaHQ6IFwiNS41NXZoXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdjaGVja0JveFJvb3QnLCB7XG4gICAgICAgIHBhZGRpbmc6IFwiMFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnaW5kaXZpZHVhbEJ1Y2tldENoZWNrYm94Jywge1xuICAgICAgICBtaW5XaWR0aDogXCIzLjEyNXZ3XCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdzZWxlY3RNZW51Jywge1xuICAgICAgICBmb250U2l6ZTogXCIuOXJlbSAhaW1wb3J0YW50XCIsXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4yKVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZ3JpZExpc3RUaWxlJywge1xuICAgICAgICBoZWlnaHQ6IFwiYXV0byAhaW1wb3J0YW50XCJcbiAgICB9KSwgX3JlZjtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gICAgaW52b2ljZXM6IFtdLFxuICAgIHNlbGVjdGVkSW52b2ljZXM6IFtdLFxuICAgIGZpbHRlckludm9pY2VzOiBmdW5jdGlvbiBmaWx0ZXJJbnZvaWNlcygpIHt9XG59O1xuXG52YXIgSW52b2ljZVRhYmxlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoSW52b2ljZVRhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEludm9pY2VUYWJsZShwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW52b2ljZVRhYmxlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW52b2ljZVRhYmxlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW52b2ljZVRhYmxlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cbiAgICAgICAgdmFyIGV4cGFuZGVkO1xuICAgICAgICBfdGhpcy50b3RhbEFtb3VudCA9IDA7XG4gICAgICAgIHZhciBtYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5pbnZvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgX3RoaXMudG90YWxBbW91bnQgPSBfdGhpcy50b3RhbEFtb3VudCArIHByb3BzLmludm9pY2VzW2ldLmN1cnJlbnRPcGVuQW1vdW50O1xuICAgICAgICAgICAgbWFwW3Byb3BzLmludm9pY2VzW2ldLmlkXSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGVja2VkSW52b2ljZXM7XG4gICAgICAgIHZhciBpbnZvaWNlVHlwZTtcbiAgICAgICAgaWYgKF90aGlzLnByb3BzLmluZGl2aWR1YWwpIHtcbiAgICAgICAgICAgIGNoZWNrZWRJbnZvaWNlcyA9IG1hcDtcbiAgICAgICAgICAgIGludm9pY2VUeXBlID0gXCJBbGxcIjtcbiAgICAgICAgICAgIF90aGlzLnByb3BzLmZpbHRlckludm9pY2VzKFwiQWxsXCIpO1xuICAgICAgICAgICAgZXhwYW5kZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tlZEludm9pY2VzID0gX3RoaXMucHJvcHMuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgIGludm9pY2VUeXBlID0gcHJvcHMuaW52b2ljZVR5cGU7XG4gICAgICAgICAgICBleHBhbmRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgICAgICAgIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IGNoZWNrZWRJbnZvaWNlcyxcbiAgICAgICAgICAgIGRheXM6IHByb3BzLmRheXMsXG4gICAgICAgICAgICB0b3RhbEFtb3VudDogX3RoaXMudG90YWxBbW91bnQsXG4gICAgICAgICAgICBpbnZvaWNlVHlwZTogaW52b2ljZVR5cGUsXG4gICAgICAgICAgICBleHBhbmRlZDogZXhwYW5kZWQsXG4gICAgICAgICAgICBpc0J1bGtFbWFpbDogdHJ1ZSxcbiAgICAgICAgICAgIGN1c3RvbWVyOiBfdGhpcy5wcm9wcy5jdXN0b21lcixcbiAgICAgICAgICAgIGNvbGxlY3RvcjogX3RoaXMucHJvcHMuY29sbGVjdG9yLFxuICAgICAgICAgICAgc25hY2tCYXJPcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIHNuYWNrQmFyTWVzc2FnZTogXCJcIlxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEludm9pY2VUYWJsZSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XG4gICAgICAgICAgICAvLyB0aGlzLnNldENoZWNrKCkgICAgXG4gICAgICAgICAgICB2YXIgc3VtID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdW0gPSBzdW0gKyBwcm9wcy5pbnZvaWNlc1tpXS5jdXJyZW50T3BlbkFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9wcy5pbmRpdmlkdWFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRvdGFsQW1vdW50OiBzdW0sIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsIHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0b3RhbEFtb3VudDogc3VtLCBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgc2VsZWN0ZWRJbnZvaWNlczogcHJvcHMuc2VsZWN0ZWRJbnZvaWNlcyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHByb3BzLmludm9pY2VzLCB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9XaWxsIGNoZWNrIGFuZCBtYXAgYWxsIGludm9pY2VzIGFyZSBzZWxlY3RlZCBvciBub3RcblxuXG4gICAgICAgIC8vIE9wZW4gc25hY2sgYmFyIHdpdGggbWVzc2FnZVxuXG5cbiAgICAgICAgLy8gQ2xvc2Ugc25hY2sgYmFyIHVzaW5nIGNyb3NzIGJ1dHRvblxuXG5cbiAgICAgICAgLy8gU2VuZCBlbWFpbCBmb3IgaW5kaXZpZHVhbCBpbnZvaWNlXG5cblxuICAgICAgICAvLyBTZW5kIGVtYWlsIGZvciBtb3JlIHRoYW4gb25lIGludm9pY2VcblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcblxuXG4gICAgICAgIC8vUmVuZGVyIGZ1bmN0aW9uIFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9IH0sXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5pbmRpdmlkdWFsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIHhzOiAxMiwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnk6ICdzcGFjZS1iZXR3ZWVuJywgY2xhc3NOYW1lOiBjbGFzc2VzLmluZGl2aWR1YWxJbnZvaWNlSGVhZGVyIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGFsaWduOiAnY2VudGVyJywgc3R5bGU6IHsgekluZGV4OiBcIjVcIiB9LCBjbGFzc05hbWU6IGNsYXNzZXMuaW5kaXZpZHVhbEJ1Y2tldENoZWNrYm94IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLmNoZWNrQm94Um9vdCB9LCBpY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkSWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2ZycgfSksIGNoZWNrZWQ6IHRoaXMuc3RhdGUuY2hlY2tlZCwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jaGVja0FsbEludm9pY2VzKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuYnVja2V0SGVhZGVyVGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZWxlY3QgQWxsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMSwgYWxpZ246ICdyaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IFwiIzk4OTg5OFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmlldyBcXHhBMDogICdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9TZWxlY3QyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5zZWxlY3RGaWx0ZXIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5pbnZvaWNlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24sIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVGaWx0ZXJDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiaW52b2ljZVR5cGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW51UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnQWxsJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWxsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnQnJva2VuIFAyUCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Jyb2tlbiBQMlAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdVcGNvbWluZyBQMlAnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVcGNvbWluZyBQMlAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdEaXNwdXRlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRGlzcHV0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ1ByZWRpY3RlZCBEZWxpbnF1ZW50JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUHJlZGljdGVkIERlbGlucXVlbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogNSwgYWxpZ246ICdyaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhdGhpcy5zdGF0ZS5pc0J1bGtFbWFpbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5lbWFpbEljb24sIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbiksIG9uQ2xpY2s6IHRoaXMuc2VuZEJ1bGtFbWFpbCwgc3JjOiAnL3Rvdm8vc3RhdGljL0VtYWlsLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxJY29uLCBjbGFzc2VzLmRpc2FibGVkRW1haWxJY29uKSwgc3JjOiAnL3Rvdm8vc3RhdGljL0VtYWlsLnN2ZycgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMiwgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmluZGl2aWR1YWwgPyBjbGFzc2VzLnNoaWZ0IDogY2xhc3Nlcy5ub1NoaWZ0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfRXhwYW5zaW9uUGFuZWwyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBib3hTaGFkb3c6IFwibm9uZVwiLCBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIiB9LCBkZWZhdWx0RXhwYW5kZWQ6IHRoaXMucHJvcHMuaW5kaXZpZHVhbCwgZXhwYW5kZWQ6IHRoaXMuc3RhdGUuZXhwYW5kZWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5pbmRpdmlkdWFsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5wYW5lbFN1bW1hcnksIGNsYXNzZXM6IHsgY29udGVudDogY2xhc3Nlcy5jb250ZW50LCBleHBhbmRlZDogY2xhc3Nlcy5zdW1tYXJ5RXhwYW5kZWQgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUNvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmludm9pY2VCdWNrZXRDaGVja2JveCwgYWxpZ246ICdjZW50ZXInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbm5lY3RvciB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLmNoZWNrQm94Um9vdCB9LCBpY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkSWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2ZycgfSksIGNoZWNrZWQ6IHRoaXMuc3RhdGUuY2hlY2tlZCwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2hlY2tBbGxJbnZvaWNlcyhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnk6ICdzcGFjZS1iZXR3ZWVuJywgaXRlbTogdHJ1ZSwgeHM6IDExLCBhbGlnbjogJ2xlZnQnLCBvbkNsaWNrOiB0aGlzLnRvZ2dsZUV4cGFuZCwgY2xhc3NOYW1lOiBjbGFzc2VzLmJvcmRlckJvdHRvbSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5idWNrZXRIZWFkZXJUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmRheXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5ncmV5VGV4dCwgY2xhc3Nlcy5idWNrZXRIZWFkZXJUZXh0KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAyLCBhbGlnbjogJ3JpZ2h0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5leHBhbmRlZCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRXhwYW5kTW9yZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuZXhwYW5kSWNvbiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5leHBhbmRlZCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuRXhwYW5kTGVzcywgeyBjbGFzc05hbWU6IGNsYXNzZXMuZXhwYW5kSWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbERldGFpbHMyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAhdGhpcy5wcm9wcy5wb3N0Q2FsbCA/IGNsYXNzZXMucm9vdCA6IGNsYXNzZXMucG9zdENhbGxSb290IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLnBvc3RDYWxsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMucHJvcHMuaW5kaXZpZHVhbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLnZlcnRpY2FsVGltZWxpbmUsIGp1c3RpZnk6ICdjZW50ZXInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0dyaWQyLmRlZmF1bHQsIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmluZGl2aWR1YWwgPyBjbGFzc2VzLmRpc2FibGVUaW1lbGluZSA6IGNsYXNzZXMudGltZWxpbmUgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgeHM6IHRoaXMucHJvcHMuaW5kaXZpZHVhbCA/IDEyIDogMTEsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHhzOiAxMiwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnk6ICdzcGFjZS1iZXR3ZWVuJywgc3R5bGU6IHsgbWFyZ2luVG9wOiBcIjEuMzR2aFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrQm94Q29sdW1uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGFsaWduOiAnY2VudGVyJywgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuaW52b2ljZU51bWJlckNvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5hbGlnbkdyaWRDZWxsQ2VudGVyKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ludm9pY2UgTnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ3JpZ2h0JywgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuYW1vdW50Q29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmFsaWduR3JpZENlbGxDZW50ZXIpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQW1vdW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmJyb2tlbkNvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5hbGlnbkdyaWRDZWxsQ2VudGVyKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Jyb2tlbiBQMlAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGFsaWduOiAnY2VudGVyJywgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMudXBjb21pbmdDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuYWxpZ25HcmlkQ2VsbENlbnRlcikgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVcGNvbWluZyBQMlAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGFsaWduOiAnY2VudGVyJywgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZGlzcHV0ZUNvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5hbGlnbkdyaWRDZWxsQ2VudGVyKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Rpc3B1dGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGFsaWduOiAnY2VudGVyJywgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMucHJlZGljdGVkQ29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmFsaWduR3JpZENlbGxDZW50ZXIpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUHJlZGljdGVkIERlbGlucXVlbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9HcmlkMi5kZWZhdWx0LCB7IGl0ZW06IHRydWUsIHhzOiAxLCBjbGFzc05hbWU6IGNsYXNzZXMuZW1haWxDb2x1bW4gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGZ1bmN0aW9uIChpbnZvaWNlLCBpZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIHhzOiAxMiwgY2xhc3NOYW1lOiBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA/ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5jaGFuZ2VSb3dCYWNrZ3JvdW5kLCBjbGFzc2VzLmRlZmF1bHRCYWNrZ3JvdW5kKSA6IGNsYXNzZXMuZGVmYXVsdEJhY2tncm91bmQsIGtleTogaW52b2ljZS5pZCArIFwicm93XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrQm94Q29sdW1uLCBhbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICdjaGVja2JveCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLmNoZWNrQm94Um9vdCB9LCBpZDogaW52b2ljZS5pZCwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkOiBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA9PSB0cnVlLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hZGRJbnZvaWNlKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBhbGlnbjogJ2NlbnRlcicsIG51bWVyaWM6IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmludm9pY2VOdW1iZXJDb2x1bW4sIGNsYXNzZXMuYmxhY2tUZXh0LCBjbGFzc2VzLmFsaWduR3JpZENlbGxDZW50ZXIpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kb2N1bWVudE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgYWxpZ246ICdyaWdodCcsIG51bWVyaWM6IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmFtb3VudENvbHVtbiwgY2xhc3Nlcy5ibGFja1RleHQsIGNsYXNzZXMuYWxpZ25HcmlkQ2VsbENlbnRlcikgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiRcIiArICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmJyb2tlbkNvbHVtbiwgY2xhc3Nlcy5hbGlnbkdyaWRDZWxsQ2VudGVyKSwgYWxpZ246ICdjZW50ZXInLCBudW1lcmljOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5wMnBCcm9rZW4gPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMudXBjb21pbmdDb2x1bW4sIGNsYXNzZXMuYWxpZ25HcmlkQ2VsbENlbnRlciksIGFsaWduOiAnY2VudGVyJywgbnVtZXJpYzogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UucDJwVXBjb21pbmcgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZGlzcHV0ZUNvbHVtbiwgY2xhc3Nlcy5hbGlnbkdyaWRDZWxsQ2VudGVyKSwgYWxpZ246ICdjZW50ZXInLCBudW1lcmljOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kaXNwdXRlU3RhdHVzICE9IG51bGwgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMucHJlZGljdGVkQ29sdW1uLCBjbGFzc2VzLmFsaWduR3JpZENlbGxDZW50ZXIpLCBhbGlnbjogJ2NlbnRlcicsIG51bWVyaWM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLnAycERlbGlucXVlbnQgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVtYWlsQ29sdW1uLCB4czogMSwgYWxpZ246ICdyaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhX3RoaXMyLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaW52b2ljZS5pZF0gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxJY29uLCBjbGFzc2VzLmVuYWJsZWRFbWFpbEljb24pLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZW5kRW1haWwoaW52b2ljZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHNyYzogJy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY29udGFpbmVyOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMudmVydGljYWxUaW1lbGluZSwganVzdGlmeTogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfR3JpZDIuZGVmYXVsdCwgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMucG9zdENhbGxUaW1lbGluZSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDExIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyaWRMaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNlbGxIZWlnaHQ6IFwiYXV0b1wiLCBjbGFzc05hbWU6IGNsYXNzZXMuZ3JpZExpc3QgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlcy5tYXAoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcmlkTGlzdFRpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xzOiAxLCBrZXk6IGludm9pY2UuaWQsIGNsYXNzZXM6IHsgdGlsZTogY2xhc3Nlcy5ncmlkTGlzdFRpbGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuMnJlbScgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID09IHRydWUgPyBjbGFzc2VzLnNlbGVjdGVkR3JpZExpc3REaXYgOiBjbGFzc2VzLmdyaWRMaXN0RGl2IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBzdHlsZTogeyBwYWRkaW5nOiAnMnB4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGxlZnQ6IFwiMyVcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnZvaWNlLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5kb2N1bWVudE51bWJlcikgfHwgdGhpcy5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIG9uQ2xpY2s9eygpID0+IHRoaXMudG9nZ2xlQ2hlY2tib3goaW52b2ljZS5kb2N1bWVudE51bWJlcil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID09IHRydWUsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hZGRJbnZvaWNlKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIiwgbWFyZ2luTGVmdDogJzF2dycgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6IFwiLjg5cmVtXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC42NSwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kb2N1bWVudE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiAnMS4xNTZyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgX2Zvcm1hdHRlci5mb3JtYXR0ZXIpKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tCYXJPcGVuLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbWVzc2FnZS1pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlU25hY2tiYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICldXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSW52b2ljZVRhYmxlO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdGhpcy5oYW5kbGVGaWx0ZXJDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgX3RoaXMzLnByb3BzLmZpbHRlckludm9pY2VzKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlRXhwYW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLmV4cGFuZGVkID09IHRydWUpIF90aGlzMy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiBmYWxzZSB9KTtlbHNlIF90aGlzMy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZEludm9pY2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgLy8gdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkO1xuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJJRCBpc1wiLGlkKVxuICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaWRdID09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMzLnByb3BzLmluZGl2aWR1YWwpIF90aGlzMy51cGRhdGVMb2NhbE1hcChpZCwgXCJhZGRcIik7ZWxzZSBfdGhpczMucHJvcHMudXBkYXRlR2xvYmFsTWFwKGlkLCBcImFkZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHRoaXMuc2V0Q2hlY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfdGhpczMucHJvcHMuaW5kaXZpZHVhbCkgX3RoaXMzLnVwZGF0ZUxvY2FsTWFwKGlkLCBcInJlbW92ZVwiKTtlbHNlIF90aGlzMy5wcm9wcy51cGRhdGVHbG9iYWxNYXAoaWQsIFwicmVtb3ZlXCIsIHRydWUpO1xuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tBbGxJbnZvaWNlcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5jaGVja2VkID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5pbmRpdmlkdWFsKSBfdGhpczMudXBkYXRlTG9jYWxNYXAoX3RoaXMzLnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIpO2Vsc2UgX3RoaXMzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcChfdGhpczMuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIiwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBjaGVja2VkOiB0cnVlIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5pbmRpdmlkdWFsKSBfdGhpczMudXBkYXRlTG9jYWxNYXAoX3RoaXMzLnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIpO2Vsc2UgX3RoaXMzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcChfdGhpczMuc3RhdGUuaW52b2ljZXMsIFwiYWRkQXJyYXlcIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVMb2NhbE1hcCA9IGZ1bmN0aW9uIChkYXRhLCBmbGFnKSB7XG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xuICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgdGVtcFtkYXRhXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0Q2hlY2soX3RoaXMzLnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgIHRlbXBbZGF0YV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRDaGVjayhfdGhpczMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFkZEFycmF5XCI6XG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldENoZWNrKF90aGlzMy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlQXJyYXlcIjpcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbaV0uaWRdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldENoZWNrKF90aGlzMy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zZXRDaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBfdGhpczMuc3RhdGUuaW52b2ljZXM7XG4gICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBhbGxFbWFpbHNGbGFnID0gZmFsc2U7XG5cbiAgICAgICAgLy9lbmFibGUgb3IgZGlzYWJsZSBlbWFpbCBpY29uIGJhc2VkIG9uIHNlbGVjdGlvblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlbXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2pdLmlkXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYWxsRW1haWxzRmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWxsRW1haWxzRmxhZykge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtpXS5pZF0gPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGVtcC5sZW5ndGggPT0gMCkgZmxhZyA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSkgX3RoaXMzLnNldFN0YXRlKHsgY2hlY2tlZDogZmFsc2UgfSk7ZWxzZSBfdGhpczMuc2V0U3RhdGUoeyBjaGVja2VkOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc25hY2tCYXJNZXNzYWdlOiBtZXNzYWdlIH0pO1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VTbmFja2JhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZW5kRW1haWwgPSBmdW5jdGlvbiAoaW52b2ljZUlkKSB7XG4gICAgICAgIC8vQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcbiAgICAgICAgdmFyIHJlcUVtYWlsT2JqID0ge1xuICAgICAgICAgICAgY3VzdG9tZXJJZDogX3RoaXMzLnN0YXRlLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IFtpbnZvaWNlSWRdLFxuICAgICAgICAgICAgZnJvbTogX3RoaXMzLnN0YXRlLmNvbGxlY3Rvci5lbWFpbElkLCAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXG4gICAgICAgICAgICB0bzogX3RoaXMzLnByb3BzLmVtYWlsT2ZDYWxsZWQgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cbiAgICAgICAgfTtcblxuICAgICAgICAvL01ha2luZyBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgRW1haWwgZm9yIHRoaXMgaW52b2ljZVxuICAgICAgICBfYXhpb3MyLmRlZmF1bHQucG9zdChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHknLCByZXFFbWFpbE9iailcbiAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgLy8gbW9jayBzZXJ2ZXIgYXBpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgX3RoaXMzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzMy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbmRCdWxrRW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyBCdWxrIGVtYWlsXCIpO1xuICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlcztcbiAgICAgICAgdmFyIGRvY3VtZW50TnVtYmVycyA9IFtdO1xuXG4gICAgICAgIC8vIEdldCB0aGUgY2hlY2tlZCBpbnZvaWNlIElkc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2ldLmlkXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXJzLnB1c2godGVtcFtpXS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGluZyByZXF1ZXN0IG9iamVjdFxuICAgICAgICB2YXIgcmVxRW1haWxPYmogPSB7XG4gICAgICAgICAgICBjdXN0b21lcklkOiBfdGhpczMuc3RhdGUuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBkb2N1bWVudElkczogZG9jdW1lbnROdW1iZXJzLFxuICAgICAgICAgICAgZnJvbTogX3RoaXMzLnN0YXRlLmNvbGxlY3Rvci5lbWFpbElkLCAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXG4gICAgICAgICAgICB0bzogX3RoaXMzLnByb3BzLmVtYWlsT2ZDYWxsZWRcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNYWtpbmcgYSBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgZW1haWxzXG4gICAgICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weScsIHJlcUVtYWlsT2JqKVxuICAgICAgICAvLyBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopICAgIC8vIG1vY2sgc2VydmVyIGFwaVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIF90aGlzMy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVtYWlsIHNlbnRcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFcnJvciBpbiBzZW5kaW5nIGVtYWlsXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMDtcbiAgICAgICAgdmFyIGludm9pY2VzID0gX3RoaXMzLnN0YXRlLmludm9pY2VzO1xuICAgICAgICBmb3IgKHZhciBpIGluIGludm9pY2VzKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlc1tpXS5pZF0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXNDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzQ291bnQgPT0gMCB8fCAhX3RoaXMzLnByb3BzLnBvc3RDYWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gJyhUb3RhbDogJCcgKyAoMCwgX2Zvcm1hdHRlci5mb3JtYXR0ZXIpKF90aGlzMy5zdGF0ZS50b3RhbEFtb3VudCwgXCJcIikgKyAnIC0gJyArIF90aGlzMy5zdGF0ZS5pbnZvaWNlcy5sZW5ndGggKyAnIEludm9pY2VzKSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcoJyArIHNlbGVjdGVkSW52b2ljZXNDb3VudCArICcgU2VsZWN0ZWQpJztcbiAgICB9O1xufTtcblxuSW52b2ljZVRhYmxlLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICAgIGZpbHRlckludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5cbkludm9pY2VUYWJsZS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW52b2ljZVRhYmxlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwODM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfZm9ybWF0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX1R5cG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHlwb2dyYXBoeSk7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNik7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0dyaWRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjgpO1xuXG52YXIgX0dyaWRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0KTtcblxudmFyIF9HcmlkTGlzdFRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSk7XG5cbnZhciBfR3JpZExpc3RUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0VGlsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG5cbiAgICAgICAgZ3JpZExpc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBtYXJnaW46ICcwIC0ycHggLTJweCAtMnB4ICFpbXBvcnRhbnQnLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3REaXY6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcbiAgICAgICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RlZEdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiXG4gICAgICAgIH0sXG4gICAgICAgIGdyaWRMaXN0VGlsZToge1xuICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG8gIWltcG9ydGFudFwiXG4gICAgICAgIH1cblxuICAgIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IG5ldyBNYXAoKSxcbiAgICBjb3JyZWN0SW52b2ljZXNNYXA6IHt9LFxuICAgIHNlbGVjdGVkSW52b2ljZXM6IFtdLFxuICAgIGludm9pY2VzOiBbXSxcbiAgICBkb25lOiB0cnVlLFxuICAgIGluSW52b2ljZVRhYmxlOiBmYWxzZVxufTtcblxudmFyIExpc3RPZlRpbGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhMaXN0T2ZUaWxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIExpc3RPZlRpbGUocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3RPZlRpbGUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMaXN0T2ZUaWxlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTGlzdE9mVGlsZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5hZGRJbnZvaWNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5hZGRJbnZvaWNlKGlkKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5nZXRDbGFzc09mR3JpZExpc3RUaWxlID0gZnVuY3Rpb24gKGNvcnJlY3RJbnZvaWNlc01hcCwgaW52b2ljZXNDaGVja2JveE1hcCwgaWQsIHNlbGVjdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICAgIGlmICghKGludm9pY2UuaWQgaW4gX3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKSkgcmV0dXJuIGNsYXNzZXMuaW5jb3JyZWN0RGl2O1xuICAgICAgICAgICAgaWYgKGludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgfHwgX3RoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSkgcmV0dXJuIGNsYXNzZXMuc2VsZWN0ZWRHcmlkTGlzdERpdjtcbiAgICAgICAgICAgIHJldHVybiBjbGFzc2VzLmdyaWRMaXN0RGl2O1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaW52b2ljZXM6IF90aGlzLnByb3BzLmludm9pY2VzLFxuICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlczogX3RoaXMucHJvcHMuc2VsZWN0ZWRJbnZvaWNlcyxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogX3RoaXMucHJvcHMuY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogX3RoaXMucHJvcHMuaW52b2ljZXNDaGVja2JveE1hcFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTGlzdE9mVGlsZSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaW52b2ljZXM6IG5leHRQcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzOiBuZXh0UHJvcHMuc2VsZWN0ZWRJbnZvaWNlcyxcbiAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXNNYXAsXG4gICAgICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogbmV4dFByb3BzLmludm9pY2VzQ2hlY2tib3hNYXBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuXG4gICAgICAgIC8vUmVuZGVyIGZ1bmN0aW9uIFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkTGlzdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7IGNlbGxIZWlnaHQ6IFwiYXV0b1wiLCBjbGFzc05hbWU6IGNsYXNzZXMuZ3JpZExpc3QgfSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5tYXAoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0VGlsZTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY29sczogMSwga2V5OiBpbnZvaWNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGhlaWdodDogJ2F1dG8nLCB3aWR0aDogJzE2dncnLCBtYXJnaW46ICcwLjRyZW0nIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBfdGhpczIuZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZShfdGhpczIuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwLCBfdGhpczIuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcCwgaW52b2ljZS5pZCwgX3RoaXMyLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIV90aGlzMi5wcm9wcy5kb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBzdHlsZTogeyBwYWRkaW5nOiAnMnB4JywgbGVmdDogXCIzJVwiLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhKGludm9pY2UuaWQgaW4gX3RoaXMyLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IF90aGlzMi5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi50b2dnbGVDaGVja2JveChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNSwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLmRvY3VtZW50TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogJzEuMTU2cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuaWQgaW4gX3RoaXMyLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCA/ICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCkgOiBcIi0tLS1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKF90aGlzMi5wcm9wcy5pbkludm9pY2VUYWJsZSB8fCBfdGhpczIucHJvcHMuZG9uZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8RmFiIHZhcmlhbnQ9XCJjb250YWluZWRcIiBzaXplPSdzbWFsbCcgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChDbG9zZSwgeyBzdHlsZTogeyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLCB3aWR0aDogXCJjYWxjKC44dmggKyAuOHZ3KVwiLCBoZWlnaHQ6IFwiY2FsYyguOHZoICsgLjh2dylcIiB9LCBjbGFzc05hbWU6IGNsYXNzZXMuYWRkSWNvbiwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5kZWxldGVJbnZvaWNlKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC9GYWI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMaXN0T2ZUaWxlO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuTGlzdE9mVGlsZS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoTGlzdE9mVGlsZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDg0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5uYW1lU2hhcGUgPSB1bmRlZmluZWQ7XG5leHBvcnRzLnRyYW5zaXRpb25UaW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uVGltZW91dCh0cmFuc2l0aW9uVHlwZSkge1xuICB2YXIgdGltZW91dFByb3BOYW1lID0gJ3RyYW5zaXRpb24nICsgdHJhbnNpdGlvblR5cGUgKyAnVGltZW91dCc7XG4gIHZhciBlbmFibGVkUHJvcE5hbWUgPSAndHJhbnNpdGlvbicgKyB0cmFuc2l0aW9uVHlwZTtcblxuICByZXR1cm4gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgLy8gSWYgdGhlIHRyYW5zaXRpb24gaXMgZW5hYmxlZFxuICAgIGlmIChwcm9wc1tlbmFibGVkUHJvcE5hbWVdKSB7XG4gICAgICAvLyBJZiBubyB0aW1lb3V0IGR1cmF0aW9uIGlzIHByb3ZpZGVkXG4gICAgICBpZiAocHJvcHNbdGltZW91dFByb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IodGltZW91dFByb3BOYW1lICsgJyB3YXNuXFwndCBzdXBwbGllZCB0byBDU1NUcmFuc2l0aW9uR3JvdXA6ICcgKyAndGhpcyBjYW4gY2F1c2UgdW5yZWxpYWJsZSBhbmltYXRpb25zIGFuZCB3b25cXCd0IGJlIHN1cHBvcnRlZCBpbiAnICsgJ2EgZnV0dXJlIHZlcnNpb24gb2YgUmVhY3QuIFNlZSAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtYW5pbWF0aW9uLXRyYW5zaXRpb24tZ3JvdXAtdGltZW91dCBmb3IgbW9yZSAnICsgJ2luZm9ybWF0aW9uLicpO1xuXG4gICAgICAgIC8vIElmIHRoZSBkdXJhdGlvbiBpc24ndCBhIG51bWJlclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcHNbdGltZW91dFByb3BOYW1lXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcih0aW1lb3V0UHJvcE5hbWUgKyAnIG11c3QgYmUgYSBudW1iZXIgKGluIG1pbGxpc2Vjb25kcyknKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbn1cblxudmFyIG5hbWVTaGFwZSA9IGV4cG9ydHMubmFtZVNoYXBlID0gX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcbiAgZW50ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBsZWF2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcbn0pLCBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcbiAgZW50ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBlbnRlckFjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgbGVhdmVBY3RpdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBhcHBlYXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBhcHBlYXJBY3RpdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXG59KV0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA4NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfQ2hhdEJveCA9IF9fd2VicGFja19yZXF1aXJlX18oNjExMik7XG5cbnZhciBfQ2hhdEJveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaGF0Qm94KTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBhdXRob3IgQmFscmFqIFNpbmdoIDxiYWxyYWpzaW5naC5zQGhpZ2hyYWRpdXMuY29tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge307XG59O1xuXG52YXIgVHJhbnNjcmlwdENoYXQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVHJhbnNjcmlwdENoYXQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRyYW5zY3JpcHRDaGF0KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zY3JpcHRDaGF0KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUcmFuc2NyaXB0Q2hhdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRyYW5zY3JpcHRDaGF0KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuZ2VuZXJhdGVDaGF0Qm94ZXMgPSBmdW5jdGlvbiAodHJhbnNjcmlwdE1lc3NhZ2UsIGluZGV4KSB7XG4gICAgICAvL2NvbGxlY3RvciB0byB0aGUgcmlnaHRcbiAgICAgIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhfY29uc3RhbnRzLlRSQU5TQ1JJUFRfREVMSU1FVEVSUy5DT0xMRUNUT1IpKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hhdEJveDIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgaXNDb2xsZWN0b3I6IHRydWUsXG4gICAgICAgICAgaW5pdGlhbHM6IF90aGlzLnByb3BzLnVzZXJJbml0aWFscyA/IF90aGlzLnByb3BzLnVzZXJJbml0aWFscyA6IFwiTUVcIixcbiAgICAgICAgICBtZXNzYWdlOiB0cmFuc2NyaXB0TWVzc2FnZS5yZXBsYWNlKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkNPTExFQ1RPUiwgXCJcIilcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRyYW5zY3JpcHRNZXNzYWdlLmluY2x1ZGVzKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkNVU1RPTUVSKSkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoYXRCb3gyLmRlZmF1bHQsIHtcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgIGlzQ29sbGVjdG9yOiBmYWxzZSxcbiAgICAgICAgICBpbml0aWFsczogX3RoaXMucHJvcHMuY2FsbGVkVG9OYW1lSW5pdGlhbHMsXG4gICAgICAgICAgbWVzc2FnZTogdHJhbnNjcmlwdE1lc3NhZ2UucmVwbGFjZShfY29uc3RhbnRzLlRSQU5TQ1JJUFRfREVMSU1FVEVSUy5DVVNUT01FUiwgXCJcIilcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRyYW5zY3JpcHRNZXNzYWdlLmluY2x1ZGVzKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkRFVEVDVElOR19TUEVBS0VSUykpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGF0Qm94Mi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICBpc0RldGVjdGluZzogdHJ1ZSxcbiAgICAgICAgICBpbml0aWFsczogXCJcIixcbiAgICAgICAgICBtZXNzYWdlOiB0cmFuc2NyaXB0TWVzc2FnZS5yZXBsYWNlKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkRFVEVDVElOR19TUEVBS0VSUywgXCJcIilcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdHJhbnNjcmlwdGlvbjogW11cbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUcmFuc2NyaXB0Q2hhdCwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgdHJhbnNjcmlwdGlvbiA9IF9wcm9wcy50cmFuc2NyaXB0aW9uO1xuXG4gICAgICB2YXIgZXh0cmFjdGVkVHJhbnNjcmlwdCA9ICgwLCBfaGVscGVyLnNwbGl0VHJhbnNjcmlwdCkodHJhbnNjcmlwdGlvbik7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiBcIjEwMCVcIiwgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIgfSB9LFxuICAgICAgICBleHRyYWN0ZWRUcmFuc2NyaXB0Lm1hcCh0aGlzLmdlbmVyYXRlQ2hhdEJveGVzKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVHJhbnNjcmlwdENoYXQ7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5UcmFuc2NyaXB0Q2hhdC5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UcmFuc2NyaXB0Q2hhdC5kZWZhdWx0UHJvcHMgPSB7XG4gIHRyYW5zY3JpcHRpb246IFwiXCIsXG4gIGNhbGxlZFRvTmFtZUluaXRpYWxzOiBcIkNOXCIsIC8vQ04gPSBDdXN0b21lciBOYW1lXG4gIHVzZXJJbml0aWFsczogXCJNRVwiXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShUcmFuc2NyaXB0Q2hhdCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDkwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3N0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX3JlYWN0Um91dGVyRG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG52YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9BY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDkxKTtcblxudmFyIF9BY3Rpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FjdGlvbnMpO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjQpO1xuXG52YXIgX2NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxudmFyIF9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnV0dG9uKTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNSk7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY3VsYXJQcm9ncmVzcyk7XG5cbnZhciBfTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblxudmFyIF9MaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3QpO1xuXG52YXIgX0xpc3RJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO1xuXG52YXIgX0xpc3RJdGVtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3RJdGVtKTtcblxudmFyIF9MaXN0SXRlbVRleHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MCk7XG5cbnZhciBfTGlzdEl0ZW1UZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3RJdGVtVGV4dCk7XG5cbnZhciBfRGlhbG9nVGl0bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7XG5cbnZhciBfRGlhbG9nVGl0bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nVGl0bGUpO1xuXG52YXIgX0RpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTY2KTtcblxudmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblxudmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblxudmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxudmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXG52YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblxudmFyIF9GaW5hbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwMyk7XG5cbnZhciBfRmluYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmluYWwpO1xuXG52YXIgX0RyYXdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTcxKTtcblxudmFyIF9EcmF3ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRHJhd2VyKTtcblxudmFyIF9DdXN0b21Gb290ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MCk7XG5cbnZhciBfQ3VzdG9tRm9vdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0N1c3RvbUZvb3Rlcik7XG5cbnZhciBfR3JvdyA9IF9fd2VicGFja19yZXF1aXJlX18oODUpO1xuXG52YXIgX0dyb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3Jvdyk7XG5cbnZhciBfRmFiID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXG52YXIgX0ZhYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GYWIpO1xuXG52YXIgX0N1c3RvbURpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI3KTtcblxudmFyIF9DdXN0b21EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ3VzdG9tRGlhbG9nKTtcblxudmFyIF9UcmFuc2NyaXB0Q2hhdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4NSk7XG5cbnZhciBfVHJhbnNjcmlwdENoYXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNjcmlwdENoYXQpO1xuXG52YXIgX1NuYWNrYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxudmFyIF9JY29uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cbnZhciBfSWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uQnV0dG9uKTtcblxudmFyIF9DbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXG52YXIgX0Nsb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlKTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciByZXZpZXdXYXJuaW5nID0gXCJZb3UgaGF2ZSB1bnNhdmVkIGFjdGlvbnMuIFBsZWFzZSByZXZpZXcgYmVmb3JlIHByb2NlZWRpbmcuXCI7XG52YXIgdHJhbnNjcmlwdGlvbiA9IFwiQ3VzdG9tZXI6IEhpLiBIZWxsby4gSGV5LCBDb2xsZWN0b3I6IEkgd2FudGVkIHRvIG1ha2Ugc3VyZSB5b3UgcmVjZWl2ZWQgbXkgbm90ZS4gVGhlIHBheW1lbnQgd2FzIGR1ZSB5ZXN0ZXJkYXkuIEN1c3RvbWVyOiBnZXQgaXQgdW5kZXIgdGhlIHNlbmRlci4gSSdtIENvbGxlY3RvcjogSSBkaWRuJ3QgYSB0ZWxsIHlvdSBmb3Jnb3QuIEl0J3MgaW52b2ljZSBudW1iZXIgMzQ3LTQwMC00MDAwLiBJIHdpbGwgZW1haWwgeW91IHJpZ2h0IG5vdyBkb2VzIGEgcGVyc29uIGF0IG0uY29tIGVtYWlsIGFkZHJlc3Mgd29ya3MgYmVzdCBmb3IgeW91PyBDdXN0b21lcjogWWVhaCwgdGhhdCdzIGZpbmUuIENvbGxlY3RvcjogQmlnIEJlbmQgT2xpdmlhIGdvaW5nIHRvIG1lIHRvIG1lIHRoYXQgY2hlY2sgZm9yIHRoaXMgaW52b2ljZS4gQ3VzdG9tZXI6IEkgYWN0dWFsbHkgZG9uJ3QgaGF2ZSB0aGUgY2FzaCBmb3IgZGViYXRlIHJpZ2h0IG5vdy4gQ29sbGVjdG9yOiBPa2F5LCBJIHNlZSB3aGVuIHdlIHdpbGwgYmUgZ2V0dGluZyB5b3VyIG5leHQgcGF5bWVudC4gQ3VzdG9tZXI6IE5vcnRoZXJuIFRvb2wgaW4gdGhlIDIxc3QgYXQgeW91IHNlbmQgbWUgYSBjaGVjayBvciBUaHVyc2RheSB0aGUgMjJuZD8gSSB3b24ndCBDb2xsZWN0b3I6IDcgc2VlIGNhbiBiZSBhYmxlIHRvIHBheSB0aGUgd2hvbGUgdGhpbmcgZG9uZS4gQ29sbGVjdG9yOiBCdXQgaWYgeW91IHNlbmQgbWUgaGF2ZSB0byByZWdpc3RlciBhbmQgdGhlbiB1cCBhdCB0aGUgZW5kIG9mIHRoZSBtb250aC4gQ3VzdG9tZXI6IFRoYXQgYWN0dWFsbHkgbWlnaHQgd29yay4gQ29sbGVjdG9yOiBPa2F5LCBzb3VuZHMgZ29vZC4gSSdsbCBNYWxjb2xtIFggYW1hemluZyBtZSAkMiwwMDAgb24gVGh1cnNkYXkgdGhlIDIybmQgYW5kIEkgd2lsbCBmb2xsb3cgdXAgd2l0aCB5b3UgdGVzdGluZ1wiO1xuLy9UT0RPXG4vL1Jlc3Qgb2YgaW50ZW50IHR5cGVzXG5cbnZhciBFTlRJVFlfVEVNUExBVEUgPSB7XG4gIGludm9pY2U6IFtdXG59O1xuXG52YXIgU1VNTUFSWV9URU1QTEFURSA9IHtcbiAgY29uZmlkZW5jZTogMCxcbiAgaW50ZW50OiBcIlwiLFxuICBzdW1tYXJ5OiBcIlwiXG59O1xuXG52YXIgU05BQ0tfTUVTU0FHRVMgPSBPYmplY3QuZnJlZXplKHtcbiAgU1VDQ0VTUzogXCJTYXZlZCBzdWNjZXNzZnVsbHlcIixcbiAgRVJST1I6IFwiRmFpbGVkIHRvIHNhdmUuIFBsZWFzZSByZXRyeVwiXG59KTtcblxudmFyIERBVEVfUkVHRVggPSAvKFswLTldezR9Wy1dWzAtOV17Mn1bLV1bMC05XXsyfSkvO1xudmFyIFAyUF9TVU1NQVJZX1RFTVBMQVRFID0gXCJDcmVhdGUgUHJvbWlzZSB0byBwYXkgZm9yIDxhbW91bnQtb2YtbW9uZXk+IHRvIGJlIHBhaWQgYnkgPERhdGUtVGltZT4gZm9yIDxYIGludm9pY2VzPlwiO1xudmFyIERJU1BVVEVfU1VNTUFSWV9URU1QTEFURSA9IFwiQ3JlYXRlIERpc3B1dGUgZm9yIDxYIGludm9pY2VzPiBiZWNhdXNlIG9mIDxESVNQVVRFLVJFQVNPTj5cIjtcbnZhciBGT0xMT1dVUF9TVU1NQVJZX1RFTVBMQVRFID0gXCJDcmVhdGUgRm9sbGxvdyB1cCBldmVudCBmb3IgPERhdGUtVGltZT5cIjtcblxudmFyIGFjdGlvblR5cGVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIFAyUDogXCJQMlBcIixcbiAgRElTUFVURTogXCJEaXNwdXRlXCIsXG4gIEZPTExPV19VUDogXCJGb2xsb3d1cFwiXG59KTtcblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICB2YXIgX25vbkFjdGlvbk5vdGVzVGl0bGUsIF9wcm9ncmVzc0JhckRpdiwgX3JlZjtcblxuICByZXR1cm4gX3JlZiA9IHtcbiAgICBhcHBGcmFtZToge1xuICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgbWF4SGVpZ2h0OiBcIjEwMHZoXCJcbiAgICB9LFxuICAgIHJvb3Q6IHtcbiAgICAgIG1hcmdpbjogXCIxLjEydmggMS4wNDF2dyAwZW0gMS4wNDF2d1wiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQubWFpbixcbiAgICAgIC8vIHBhZGRpbmdUb3A6IFwiNSVcIixcbiAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICBwYWRkaW5nQm90dG9tOiBcIjBcIixcbiAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiXG5cbiAgICB9LFxuXG4gICAgZHVyYXRpb246IHtcbiAgICAgIG1hcmdpblJpZ2h0OiBcIjJlbVwiXG4gICAgfSxcblxuICAgIHRyYW5zY3JpcHRCb3g6IHtcbiAgICAgIGhlaWdodDogXCI1OC45OHZoXCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbixcbiAgICAgIG1hcmdpbkJvdHRvbTogXCIxLjg1dmhcIlxuICAgIH0sXG4gICAgc3VtbWFyeUJveDoge1xuICAgICAgaGVpZ2h0OiBcIjI1LjUwdmhcIixcbiAgICAgIHBhZGRpbmc6IFwiMC44cmVtXCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluXG4gICAgfSxcbiAgICB0cmFuc2NyaXB0VGl0bGU6IHtcbiAgICAgIGZvbnRTaXplOiBcIjEuMXJlbVwiLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgLy8gcGFkZGluZzogXCIyZW0gMCAyZW0gMFwiXG4gICAgICBwYWRkaW5nTGVmdDogXCIuOHJlbVwiLFxuICAgICAgcGFkZGluZ1RvcDogXCIuOHJlbVwiLFxuICAgICAgb3BhY2l0eTogMC42NSxcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICAgIC8vIGZvbnRGYW1pbHk6IFwiUm9ib3RvXCJcbiAgICB9LFxuXG4gICAgdHJhbnNjcmlwdFRleHQ6IHtcbiAgICAgIC8vIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIGhpZ2hsaWdodFRyYW5zY3JpcHRUZXh0OiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwieWVsbG93XCJcbiAgICB9LFxuICAgIHRyYW5zY3JpcHRUZXh0UGFyZW50OiB7XG4gICAgICB3aGl0ZVNwYWNlOiBcInByZS1saW5lXCIsXG4gICAgICBtYXJnaW5Ub3A6IFwiMi41cmVtXCIsXG4gICAgICBoZWlnaHQ6IFwiODUlXCIsXG4gICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgcGFkZGluZzogXCIwLjVyZW0gMC41cmVtIDAuNXJlbSAwcHhcIixcbiAgICAgIGZvbnRGYW1pbHk6IFwiUm9ib3RvXCIsXG4gICAgICBtYXJnaW5MZWZ0OiBcIjFyZW1cIixcbiAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgIHdvcmRXcmFwOiBcImJyZWFrLXdvcmRcIlxuXG4gICAgfSxcblxuICAgIG5vbkFjdGlvbk5vdGVzVGl0bGU6IChfbm9uQWN0aW9uTm90ZXNUaXRsZSA9IHtcbiAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgIGxpbmVIZWlnaHQ6IFwiMS41cmVtXCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAvLyBwYWRkaW5nOiBcIjJlbSAwIDJlbSAwXCJcbiAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCJcbiAgICB9LCBfZGVmaW5lUHJvcGVydHkoX25vbkFjdGlvbk5vdGVzVGl0bGUsICdjb2xvcicsIHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluKSwgX2RlZmluZVByb3BlcnR5KF9ub25BY3Rpb25Ob3Rlc1RpdGxlLCAnb3BhY2l0eScsIDAuNjUpLCBfbm9uQWN0aW9uTm90ZXNUaXRsZSksXG4gICAgY3VzdG9tZXJOYW1lOiB7XG4gICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogXCIxLjc4cmVtXCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcbiAgICAgIGxpbmVIZWlnaHQ6IFwiMi4xcmVtXCJcbiAgICAgIC8vIHBhZGRpbmdMZWZ0OiBcIi4zZW1cIlxuICAgIH0sXG4gICAgY3VzdG9tZXJOdW1iZXI6IHtcbiAgICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcbiAgICAgIGZvbnRTaXplOiBcIi44cmVtXCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgLy8gcGFkZGluZ0xlZnQ6IFwiLjdlbVwiXG4gICAgfSxcbiAgICBub25BY3Rpb25Ob3Rlc05vdEVkaXRpbmc6IHtcbiAgICAgIG1hcmdpblRvcDogXCIxLjNyZW1cIixcbiAgICAgIHRyYW5zaXRpb246IFwiMC4zc1wiLFxuICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcbiAgICAgIHdpZHRoOiBcIi13ZWJraXQtZmlsbC1hdmFpbGFibGVcIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIG1heEhlaWdodDogXCIxNXZoXCJcblxuICAgIH0sXG4gICAgbm9uQWN0aW9uTm90ZXNFZGl0aW5nOiB7XG4gICAgICB3aWR0aDogXCItd2Via2l0LWZpbGwtYXZhaWxhYmxlXCIsXG4gICAgICBib3hTaGFkb3c6IFwiIDAgNHB4IDhweCAwIHJnYmEoMCwwLDAsMC4yKVwiLFxuICAgICAgdHJhbnNpdGlvbjogXCIwLjNzXCIsXG4gICAgICBwYWRkaW5nOiBcIjAuOHJlbVwiLFxuICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcbiAgICAgIGNvbG9yOiBcIiNmZmYgIWltcG9ydGFudFwiLFxuICAgICAgbWFyZ2luVG9wOiBcIjEuM3JlbVwiLFxuICAgICAgLy8gb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgIG1heEhlaWdodDogXCIxNXZoXCIsXG4gICAgICBib3JkZXI6IFwiMnB4IHNvbGlkICNGRkZcIlxuICAgIH0sXG4gICAgcHJvZ3Jlc3NCYXJEaXY6IChfcHJvZ3Jlc3NCYXJEaXYgPSB7XG4gICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgbGVmdDogXCIwXCIsXG4gICAgICByaWdodDogXCIwXCIsXG4gICAgICBib3R0b206IFwiMFwiLFxuICAgICAgdG9wOiBcIjBcIixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDAsMCwwLDAuNylcIlxuICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfcHJvZ3Jlc3NCYXJEaXYsICdiYWNrZ3JvdW5kQ29sb3InLCBcInJnYigwLCAwLCAwKVwiKSwgX2RlZmluZVByb3BlcnR5KF9wcm9ncmVzc0JhckRpdiwgJ3pJbmRleCcsIFwiOTk5OVwiKSwgX2RlZmluZVByb3BlcnR5KF9wcm9ncmVzc0JhckRpdiwgJ3Bvc2l0aW9uJywgXCJmaXhlZFwiKSwgX3Byb2dyZXNzQmFyRGl2KSxcbiAgICBwcm9ncmVzczoge1xuICAgICAgbGVmdDogXCI0NSVcIixcbiAgICAgIHRvcDogXCI1MCVcIixcbiAgICAgIGNvbG9yOiBcIiAgXCIsXG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgcG9zaXRpb246IFwiZml4ZWRcIlxuICAgIH0sXG4gICAgcHJvZ3Jlc3NNZXNzYWdlOiB7XG4gICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICBtYXJnaW5Ub3A6IFwiMS4zcmVtXCJcbiAgICB9LFxuICAgIGNyZWF0ZUFjdGlvblRleHQ6IHtcbiAgICAgIHdpZHRoOiBcIjEwMCVcIlxuICAgIH0sXG4gICAgdGVzdDoge1xuICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgIGhlaWdodDogXCIxMHZoXCIsXG4gICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICBkaXNwbGF5OiBcImJsb2NrICFpbXBvcnRhbnRcIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIlxuICAgIH0sXG4gICAgYnV0dG9uOiB7XG4gICAgICBmb250U2l6ZTogXCIwLjVyZW1cIixcbiAgICAgIHdpZHRoOiBcIjcuMjkyMnZ3XCIsXG4gICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxuICAgICAgLy8gbWFyZ2luUmlnaHQ6IFwiMS4zcmVtXCIsXG4gICAgICAvLyBwYWRkaW5nTGVmdDogXCIxLjNyZW1cIixcbiAgICAgIC8vIHBhZGRpbmdSaWdodDogXCIxLjNyZW1cIixcbiAgICAgIG1pbkhlaWdodDogXCI0LjQ0NDR2aFwiLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIC8vIG1heEhlaWdodCA6IFwiNC40NDQ0dmhcIixcbiAgICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM4NkJGRTdcIlxuICAgICAgfVxuICAgIH0sXG4gICAgYnV0dG9uVGl0bGU6IHtcbiAgICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgLy8gZm9udFNpemU6IFwiMS4xcmVtXCJcbiAgICB9LFxuICAgIGhlYWRpbmc6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRTaXplOiBcIjEuMDY3cmVtXCIsXG4gICAgICBvcGFjaXR5OiAwLjUsXG4gICAgICBwYWRkaW5nQm90dG9tOiBcIjEuOTR2aFwiXG4gICAgfSxcbiAgICBzdW1tYXJ5Qm94QWN0aW9uSWNvbjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICBmbG9hdDogXCJyaWdodFwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG4gICAgbm9uQWN0aW9uTm90ZXNDb250ZW50OiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBmb250U2l6ZTogJzFlbScsXG4gICAgICBtYXJnaW5Cb3R0b206IFwiMC44cmVtXCJcbiAgICB9LFxuICAgIG5leHRDdXN0b21lclVybDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICBmb250U2l6ZTogJzAuODg4cmVtJyxcbiAgICAgIC8vIG1hcmdpblRvcDogXCIwLjgzdmhcIixcbiAgICAgIC8vIGxpbmVIZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICBoZWlnaHQ6IFwiNC40NDQ0dmhcIixcbiAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuXG4gICAgfSxcbiAgICBkaWFsb2c6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuXG4gICAgfSxcbiAgICBsZWdhbE1lc3NhZ2U6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIG9wYWNpdHk6IDAuNjUsXG4gICAgICBwYWRkaW5nVG9wOiBcIjBweCAhaW1wb3J0YW50XCIsXG4gICAgICBwYWRkaW5nQm90dG9tOiBcIjBweCAhaW1wb3J0YW50XCJcbiAgICB9LFxuICAgIGNyZWF0ZU5ld0FjdGlvbkRpYWxvZ0hlYWRlcjoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgIWltcG9ydGFudFwiLFxuICAgICAgZm9udFNpemU6IFwiMS4yNDQ0NHJlbVwiXG4gICAgfSxcbiAgICBjcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAhaW1wb3J0YW50XCIsXG4gICAgICBmb250U2l6ZTogXCIwLjk3NzdyZW1cIixcbiAgICAgIHBvaW50ZXI6IFwiY3Vyc29yXCJcbiAgICB9XG4gIH0sIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZGlhbG9nJywge1xuICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cblxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdnb1RvTmV4dEN1c3RvbWVyQnV0dG9uJywge1xuICAgIHdpZHRoOiBcIjExLjUxdndcIixcbiAgICBoZWlnaHQ6IFwiMi4yMnZoXCJcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZGlhbG9nUGFwZXInLCB7XG4gICAgYm9yZGVyOiBcIjFweCBzb2xpZCB3aGl0ZVwiLFxuICAgIC8vIGhlaWdodCA6IFwiMzIuNXZoXCIsXG4gICAgd2lkdGg6IFwiMTkuNTN2d1wiXG4gIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2FjdGlvbkJ1dHRvbicsIHtcbiAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxuICAgIGZvbnRTaXplOiBcIjEuMTExcmVtXCIsXG4gICAgJyY6aG92ZXIsICYkZm9jdXNWaXNpYmxlJzoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM4NkJGRTdcIlxuICAgIH0sXG4gICAgaGVpZ2h0OiBcIjYuNDh2aFwiXG4gIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3Bvc3RDYWxsQ2FyZEdyaWQnLCB7XG4gICAgbWFyZ2luVG9wOiBcIjIuMDM3dmhcIlxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdwYWRkaW5nUmlnaHRPbkNhcmQnLCB7XG4gICAgcGFkZGluZ1JpZ2h0OiBcIjEuMDQxdndcIlxuICB9KSwgX3JlZjtcbn07XG5cbnZhciBQb3N0Q2FsbCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQb3N0Q2FsbCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUG9zdENhbGwocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9zdENhbGwpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvc3RDYWxsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUG9zdENhbGwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgX3RoaXMucHJvcHMub25IYW5ndXAoKTtcbiAgICBjb25zb2xlLmxvZyhfdGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmwsIFwibmV4dCBjdXN0b21lciB1cmxcIik7XG4gICAgdmFyIHN1bW1hcnkgPSBfdGhpcy5wcm9wcy5zdW1tYXJ5O1xuICAgIC8vIGNvbnNvbGUubG9nKHN1bW1hcnkpO1xuXG4gICAgX3RoaXMubmV4dEN1c3RvbWVUZXh0ID0gXCJHTyBUTyBORVhUIENVU1RPTUVSXCI7XG4gICAgX3RoaXMubmV4dEN1c3RvbWVyVXJsID0gX3RoaXMucHJvcHMubmV4dEN1c3RvbWVyVXJsO1xuICAgIGlmICghX3RoaXMubmV4dEN1c3RvbWVyVXJsKSB7XG4gICAgICBfdGhpcy5uZXh0Q3VzdG9tZXJVcmwgPSBcIi9cIjtcbiAgICAgIF90aGlzLm5leHRDdXN0b21lVGV4dCA9IFwiR08gQkFDSyBUTyBIT01FIFBBR0VcIjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coX3RoaXMucHJvcHMudG9DYWxsQ3VzdG9tZXJzLCBcInRvIGNhbGwgY3VzdG9tZXJzXCIpO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIGFuY2hvckVsOiBudWxsLFxuICAgICAgZXhwYW5lZDogZmFsc2UsXG4gICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXG4gICAgICBlbnRlckZpcmVkOiBmYWxzZSxcbiAgICAgIHN1bW1hcnk6IFwiXCIsXG4gICAgICB0cmFuc2NyaXB0aW9uOiBfdGhpcy5wcm9wcy5pbml0aWFsVHJhbnNjcmlwdGlvbixcbiAgICAgIG9wZW5Qcm9ncmVzc0JhcjogZmFsc2UsXG4gICAgICBkb09wZW5OZXdBY3Rpb25EaWFsb2c6IGZhbHNlLFxuICAgICAgaXNBbnlBY3Rpb25Db21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgaXNSZXZpZXdEaWFsb2dPcGVuOiBmYWxzZSxcbiAgICAgIG5vdGVzOiBbXSxcbiAgICAgIGlzUG9zdENhbGxEb25lOiBmYWxzZSxcbiAgICAgIHN1bW1hcnlDb21wbGV0aW9uTWFwOiBuZXcgTWFwKCksXG4gICAgICBjb250YWN0TG9nOiBfdGhpcy5wcm9wcy5jYWxsTG9nU3RhdGUsXG4gICAgICB1c2VyRGV0YWlsczogX3RoaXMucHJvcHMudXNlcixcbiAgICAgIHByZXZOb25BY3Rpb25Ob3RlczogXCJcIixcbiAgICAgIG5vbkFjdGlvbk5vdGVzOiBcIlwiLFxuICAgICAgc25hY2tNZXNzYWdlOiB7fSxcbiAgICAgIHNuYWNrT3BlbjogZmFsc2UsXG4gICAgICBmb2xsb3d1cFRleHRMaXN0OiBbXSxcbiAgICAgIHJlYXNvbkNvZGVMaXN0OiBbXSxcbiAgICAgIG5vbkFjdGlvbkluY2x1ZGVkOiBmYWxzZVxuICAgIH07XG5cbiAgICBfYXhpb3MyLmRlZmF1bHQuZ2V0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9kaXNwdXRlY29kZXMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyByZWFzb25Db2RlTGlzdDogcmVzcG9uc2UuZGF0YSA/IHJlc3BvbnNlLmRhdGEgOiBbXSB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGxvYWQgZGlzcHV0ZSBjb2Rlc1wiLCBlcnJvcik7XG4gICAgfSk7XG5cbiAgICBfYXhpb3MyLmRlZmF1bHQuZ2V0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy90YXNrdHlwZXMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBmb2xsb3d1cFRleHRMaXN0OiByZXNwb25zZS5kYXRhID8gcmVzcG9uc2UuZGF0YSA6IFtdIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gbG9hZCBGb2xsb3cgdXAgdGV4dCBsaXN0XCIsIGVycm9yKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvL2NoZWNrcyBpZiB0aGUgbWFwIGNvbnRhaW5zIGFueSBmYWxzZSB2YWx1ZVxuICAvL3JldHVybiB0cnVlIGlmIGl0IGRvZXNcblxuXG4gIF9jcmVhdGVDbGFzcyhQb3N0Q2FsbCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblxuICAgICAgdmFyIHN1bW1hcnkgPSBuZXh0UHJvcHMudHJhbnNjcmlwdGlvbi5zdW1tYXJ5O1xuICAgICAgdmFyIHRyYW5zY3JpcHRpb24gPSBuZXh0UHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xuXG4gICAgICBjb25zb2xlLmxvZyhcIlN1bW1hcnkgcmUgXCIsIEpTT04uc3RyaW5naWZ5KHN1bW1hcnkpKTtcblxuICAgICAgaWYgKHRyYW5zY3JpcHRpb24gJiYgdHJhbnNjcmlwdGlvbiAhPT0gdGhpcy5wcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb24pIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJVcGRhdGluZyB0cmFuc2NyaXB0aW9uXCIsIHRyYW5zY3JpcHRpb24pO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdHJhbnNjcmlwdGlvbjogdHJhbnNjcmlwdGlvbiB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHN1bW1hcnkpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlLnN1bW1hcnkpKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVN1bW1hcnlXaXRoRGVmYXVsdHMoc3VtbWFyeSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcbiAgICAgIHZhciBhbmNob3JFbCA9IHRoaXMuc3RhdGUuYW5jaG9yRWw7XG5cbiAgICAgIHZhciBvcGVuID0gQm9vbGVhbihhbmNob3JFbCk7XG4gICAgICB2YXIgY3VzdG9tZXIgPSB0aGlzLnByb3BzLmN1c3RvbWVyO1xuXG4gICAgICB2YXIgY2FsbExvZ1N0YXRlID0gdGhpcy5wcm9wcy5jYWxsTG9nU3RhdGU7XG4gICAgICBjb25zb2xlLmxvZyhjYWxsTG9nU3RhdGUsIFwiaW5zaWRlIHJlbmRlclwiKTtcbiAgICAgIHZhciB1c2VyID0gdGhpcy5wcm9wcy51c2VyO1xuICAgICAgdmFyIGNhbGxlZFRvTmFtZSA9IHRoaXMucHJvcHMuY2FsbGVkVG9OYW1lO1xuXG4gICAgICB2YXIgY2FsbGVkVG9OYW1lSW5pdGlhbHMgPSAoMCwgX2hlbHBlci5nZXRJbml0aWFsc0Zyb21OYW1lKShjYWxsZWRUb05hbWUpO1xuICAgICAgdmFyIHVzZXJJbml0aWFscyA9ICgwLCBfaGVscGVyLmdldEluaXRpYWxzRnJvbU5hbWUpKHVzZXIubmFtZSk7XG5cbiAgICAgIHZhciBtb250aE5hbWVzID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xuICAgICAgdmFyIHVzZXJMb2dvID0gdm9pZCAwO1xuICAgICAgaWYgKHRoaXMucHJvcHMudXNlci5pY29uID09PSBcIlwiKSB1c2VyTG9nbyA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMudXNlckxvZ28gfSxcbiAgICAgICAgJyAnLFxuICAgICAgICB0aGlzLnByb3BzLnVzZXIuZmlyc3ROYW1lLmNoYXJBdCgwKSArIHRoaXMucHJvcHMudXNlci5sYXN0TmFtZS5jaGFyQXQoMClcbiAgICAgICk7ZWxzZSB1c2VyTG9nbyA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogdGhpcy5wcm9wcy51c2VyLmljb24sIGNsYXNzTmFtZTogY2xhc3Nlcy51c2VySW1nIH0pO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hcHBGcmFtZSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5yb290IH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY29udGFpbmVyOiB0cnVlLCBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTAgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9IH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLCBhbGlnbkl0ZW1zOiBcImxlZnRcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmN1c3RvbWVyTmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTmFtZVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jdXN0b21lck51bWJlciB9LFxuICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY29udGFpbmVyOiB0cnVlLCB4czogMiwganVzdGlmeTogJ2ZsZXgtZW5kJywgc3R5bGU6IHsgbWFyZ2luTGVmdDogXCItOC4zM3Z3XCIgfSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpbjogXCIwcHggMCAwIDBcIiwgZGlzcGxheTogXCJmbGV4XCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGFsaWduSXRlbXM6IFwicmlnaHRcIiwgaGVpZ2h0OiBcIjQuNDQ0dmhcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfRmFiMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiAnZXh0ZW5kZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNhdmVQb3N0Q2FsbFRoaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdBZGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5zdW1tYXJ5ID8gZmFsc2UgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuYnV0dG9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuYnV0dG9uVGl0bGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ0RvbmUgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXJEb20uTGluayxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIiB9LCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge30sIHRvOiB7IHBhdGhuYW1lOiB0aGlzLm5leHRDdXN0b21lclVybCwgc3RhdGU6IHsgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVycyB9IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5uZXh0Q3VzdG9tZXJVcmwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dEN1c3RvbWVUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNQb3N0Q2FsbERvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLnBvc3RDYWxsQ2FyZEdyaWQgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogOCwgY2xhc3NOYW1lOiBjbGFzc2VzLnBhZGRpbmdSaWdodE9uQ2FyZCB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmhlYWRpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgJ1NVR0dFU1RFRCBBQ1RJT05TJ1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEyLCBzdHlsZTogeyBoZWlnaHQ6IFwiYXV0b1wiLCBtYXhIZWlnaHQ6IFwiNzQuN3ZoXCIsIG92ZXJmbG93WTogXCJhdXRvXCIgfSwgaWQ6ICdhY3Rpb24tc3VtbWFyeS1ncmlkLWNvbnRhaW5lcicgfSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiB0aGlzLnN0YXRlLnN1bW1hcnkubWFwKGZ1bmN0aW9uIChzdW1tYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2VuU3VtbWFyeUFjdGlvbkNhcmRzKHN1bW1hcnkpO1xuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBzdGx5ZTogeyBoZWlnaHQ6IFwiMTAwJVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCI3MHZoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAnLFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiBcIndoaXRlXCIsIG1hcmdpblRvcDogXCIxLjNyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnR2VuZXJhdGluZyBjYWxsIHN1bW1hcnknXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1bW1hcnkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIxMDAlXCIgfSwgY29sb3I6ICdzZWNvbmRhcnknLCBjbGFzc05hbWU6IGNsYXNzZXMuYWN0aW9uQnV0dG9uLCB2YXJpYW50OiAnY29udGFpbmVkJywgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGFuZGxlQWN0aW9uQ3JlYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgIHsgY29sb3I6ICdwcmltYXJ5Jywgc3R5bGU6IHsgZm9udFNpemU6IFwiMS4wNjdyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICcrIENSRUFURSBORVcgQUNUSU9OJ1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHhzOiA0LCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgc3R5bGU6IHsgaGVpZ2h0OiBcIjg2LjI5dmhcIiB9IH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEyLCBjb250YWluZXI6IHRydWUsIGlkOiAndHJhbnNjcmlwdGlvbi1ncmlkJywgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zY3JpcHRCb3ggfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zY3JpcHRUaXRsZSB9LFxuICAgICAgICAgICAgICAgICAgICAnQ0FMTCBUUkFOU0NSSVBUJ1xuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNjcmlwdFRleHRQYXJlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RyYW5zY3JpcHRDaGF0Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbjogdGhpcy5zdGF0ZS50cmFuc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZFRvTmFtZUluaXRpYWxzOiBjYWxsZWRUb05hbWVJbml0aWFscyxcbiAgICAgICAgICAgICAgICAgICAgICB1c2VySW5pdGlhbHM6IHVzZXJJbml0aWFsc1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEyLCBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUJveCB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCB3aWR0aDogXCIxMDAlXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMubm9uQWN0aW9uTm90ZXNUaXRsZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ05PTiBBQ1RJT04gTk9URVMnXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1bW1hcnkgJiYgIXRoaXMuc3RhdGUuaXNFZGl0aW5nT24gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkJvcmRlckNvbG9yLCB7IHN0eWxlOiB7IGNvbG9yOiBcIiM1REFBRTBcIiwgZmxvYXQ6IFwicmlnaHRcIiwgY3Vyc29yOiBcInBvaW50ZXJcIiB9LCBvbkNsaWNrOiB0aGlzLmVkaXROb25BY3Rpb25Ob3RlcyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1bW1hcnkgJiYgdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmbG9hdDogXCJyaWdodFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5IaWdobGlnaHRPZmYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luTGVmdDogXCIwLjRyZW1cIiwgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIsIGN1cnNvcjogXCJwb2ludGVyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5kaXNjYXJkTm90ZXNDaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5DaGVja0NpcmNsZU91dGxpbmUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IFwiIzVGQzMyQ1wiLCBjdXJzb3I6IFwicG9pbnRlclwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc2F2ZU5vdGVzQ2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgaWQ6ICdub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGQnLFxuICAgICAgICAgICAgICAgICAgICAgIG11bHRpbGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3RlcyxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmhhbmRsZU5vbmFjdGlvbk5vdGVzQ2hhbmdlKGUpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnN0YXRlLmlzRWRpdGluZ09uID8gY2xhc3Nlcy5ub25BY3Rpb25Ob3Rlc0VkaXRpbmcgOiBjbGFzc2VzLm5vbkFjdGlvbk5vdGVzTm90RWRpdGluZyxcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICdub3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4oIXRoaXMuc3RhdGUuaXNFZGl0aW5nT24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogQm9vbGVhbih0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLnN1bW1hcnkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdGx5ZTogeyBoZWlnaHQ6IFwiMTAwJVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMjB2aFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCB7IHN0eWxlOiB7IGNvbG9yOiBcIiNlZWVlZWVcIiB9IH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IFwiI2VlZWVlZVwiLCBtYXJnaW5Ub3A6IFwiMS4zcmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnV2FpdGluZyBmb3Igc3VtbWFyeSdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHhzOiAxMiwgY2xhc3NOYW1lOiBjbGFzc2VzLnBvc3RDYWxsQ2FyZEdyaWQgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZpbmFsMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgaW52b2ljZUxpc3Q6IHRoaXMuZ2VuZXJhdGVGaW5hbEludm9pY2VMaXN0KCksXG4gICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzOiB0aGlzLnN0YXRlLm5vdGVzLFxuICAgICAgICAgICAgICAgIG5vbkFjdGlvbkluY2x1ZGVkOiB0aGlzLnN0YXRlLm5vbkFjdGlvbkluY2x1ZGVkLFxuICAgICAgICAgICAgICAgIG5leHRDdXN0b21lclVybDogdGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmwsXG4gICAgICAgICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVycyxcbiAgICAgICAgICAgICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5jdXN0b21lcixcbiAgICAgICAgICAgICAgICBjb2xsZWN0b3I6IHRoaXMucHJvcHMuY29sbGVjdG9yLFxuICAgICAgICAgICAgICAgIGNvbnRhY3RJbmRleDogdGhpcy5wcm9wcy5jb250YWN0SW5kZXhcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX0RpYWxvZzIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBvbkNsb3NlOiB0aGlzLmNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZyxcbiAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogJ3NpbXBsZS1kaWFsb2ctdGl0bGUnLFxuICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuZG9PcGVuTmV3QWN0aW9uRGlhbG9nLFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgcGFwZXJTY3JvbGxQYXBlcjogY2xhc3Nlcy5kaWFsb2dQYXBlciB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9EaWFsb2dUaXRsZTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7IGlkOiAnc2ltcGxlLWRpYWxvZy10aXRsZScsIGNsYXNzTmFtZTogY2xhc3Nlcy5kaWFsb2cgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY3JlYXRlTmV3QWN0aW9uRGlhbG9nSGVhZGVyIH0sXG4gICAgICAgICAgICAgICAgICAnQ3JlYXRlIE5ldyBBY3Rpb24nXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0xpc3QyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zIH0sXG4gICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhY3Rpb25UeXBlcykubWFwKGZ1bmN0aW9uIChhY3Rpb25UeXBlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfTGlzdEl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBjdXJzb3I6IFwicG9pbnRlclwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGFuZGxlQWN0aW9uSXRlbUNsaWNrKGFjdGlvblR5cGVzW2FjdGlvblR5cGVLZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGtleTogYWN0aW9uVHlwZUtleSB9LFxuICAgICAgICAgICAgICAgICAgICAgIGFjdGlvblR5cGVLZXkgIT0gXCJNQUlMXCIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfTGlzdEl0ZW1UZXh0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY3JlYXRlTmV3QWN0aW9uRGlhbG9nT3B0aW9ucyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnIENyZWF0ZSAgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uVHlwZXNbYWN0aW9uVHlwZUtleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICcgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICcgJ1xuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aW9uVHlwZUtleSA9PSBcIk1BSUxcIiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTGlzdEl0ZW1UZXh0Mi5kZWZhdWx0LCB7IHByaW1hcnk6IFwiU2VuZCBcIiArIGFjdGlvblR5cGVzW2FjdGlvblR5cGVLZXldIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5pc1Jldmlld0RpYWxvZ09wZW4sXG4gICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VSZXZpZXdXYXJuaW5nRGlhbG9nLCB0aXRsZTogcmV2aWV3V2FybmluZywgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmNsb3NlUmV2aWV3V2FybmluZ0RpYWxvZywgY29sb3I6ICdzZWNvbmRhcnknIH0sXG4gICAgICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICAgICApXSB9KSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TbmFja2JhcjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICBhbmNob3JPcmlnaW46IHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGtleTogdGhpcy5zdGF0ZS5zbmFja01lc3NhZ2Uua2V5LFxuICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLnNuYWNrT3BlbixcbiAgICAgICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbjogMjAwMCxcbiAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZVNuYWNrYmFyLFxuICAgICAgICAgICAgICBDb250ZW50UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBtZXNzYWdlOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgeyBpZDogdGhpcy5zdGF0ZS5zbmFja01lc3NhZ2Uua2V5IH0sXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zbmFja01lc3NhZ2UubWVzc2FnZVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBhY3Rpb246IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfSWNvbkJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBrZXk6ICdjbG9zZScsXG4gICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdDbG9zZScsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNsb3NlLFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVNuYWNrYmFyLFxuICAgICAgICAgICAgICAgICAgb25FeGl0ZWQ6IHRoaXMuaGFuZGxlU25hY2tiYXJFeGl0XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICldXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUG9zdENhbGw7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gIHRoaXMuc25hY2tNZXNzYWdlUXVldWUgPSBbXTtcblxuICB0aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgIGFuY2hvckVsOiBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5kZWxldGVBY3Rpb24gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICBjb25zb2xlLmxvZyhcIklEXCIsIGlkLCBzdW1tYXJ5KTtcbiAgICB2YXIgc3VtbWFyeSA9IF90aGlzMy5zdGF0ZS5zdW1tYXJ5LmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgIHJldHVybiBlbC5pZCAhPSBpZDtcbiAgICB9KTtcblxuICAgIHZhciBtYXAgPSBfdGhpczMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XG5cbiAgICBtYXAuZGVsZXRlKGlkKTtcblxuICAgIGNvbnNvbGUubG9nKG1hcCk7XG5cbiAgICBfdGhpczMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBzdW1tYXJ5LCBzdW1tYXJ5Q29tcGxldGlvbk1hcDogbWFwIH0pO1xuICB9O1xuXG4gIHRoaXMuY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXAgPSBmdW5jdGlvbiAoc3VtbWFyeSkge1xuICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7XG5cbiAgICBzdW1tYXJ5ICYmIHN1bW1hcnkubWFwKGZ1bmN0aW9uIChzdW1tYXJ5KSB7XG4gICAgICByZXR1cm4gKHN1bW1hcnkuaW50ZW50ID09IF9jb25zdGFudHMuSU5URU5UX1RZUEVTLkZPTExPV19VUCB8fCBzdW1tYXJ5LmludGVudCA9PSBfY29uc3RhbnRzLklOVEVOVF9UWVBFUy5QMlAgfHwgc3VtbWFyeS5pbnRlbnQgPT0gX2NvbnN0YW50cy5JTlRFTlRfVFlQRVMuRElTUFVURSkgJiYgbWFwLnNldChzdW1tYXJ5LmlkLCBmYWxzZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWFwO1xuICB9O1xuXG4gIHRoaXMudXBkYXRlU3VtbWFyeUZyb21DaGlsZCA9IGZ1bmN0aW9uIChuZXdTdW1tYXJ5LCBpZCkge1xuICAgIHZhciBwcmV2U3VtbWFyeSA9IF90aGlzMy5zdGF0ZS5zdW1tYXJ5O1xuXG4gICAgZm9yICh2YXIgaSBpbiBwcmV2U3VtbWFyeSkge1xuICAgICAgaWYgKHByZXZTdW1tYXJ5W2ldLmlkID09IGlkKSB7XG4gICAgICAgIHByZXZTdW1tYXJ5W2ldLnN1bW1hcnkgPSBuZXdTdW1tYXJ5O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfdGhpczMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBwcmV2U3VtbWFyeSB9KTtcbiAgfTtcblxuICB0aGlzLmdlblN1bW1hcnlBY3Rpb25DYXJkcyA9IGZ1bmN0aW9uIChzdW1tYXJ5KSB7XG5cbiAgICB2YXIgaW50ZW50ID0gc3VtbWFyeS5pbnRlbnQ7XG4gICAgY29uc29sZS5sb2coc3VtbWFyeSk7XG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgX0dyb3cyLmRlZmF1bHQsXG4gICAgICB7XG4gICAgICAgICdpbic6IHRydWUsXG4gICAgICAgIGtleTogc3VtbWFyeS5pZFxuICAgICAgfSxcbiAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9BY3Rpb25zMi5kZWZhdWx0LCB7XG4gICAgICAgIG9uRGVsZXRlOiBmdW5jdGlvbiBvbkRlbGV0ZShpZCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMuZGVsZXRlQWN0aW9uKGlkKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25BY3Rpb25JdGVtQ29uZmlybTogX3RoaXMzLnVwZGF0ZUFjdGlvbkl0ZW1DaGVjayxcbiAgICAgICAgc3VtbWFyeTogc3VtbWFyeSxcbiAgICAgICAgc3R5bGU6IHsgd2lkdGg6IFwiMTAwJVwiLCBtYXJnaW5Cb3R0b206IFwiMC43cmVtXCIgfSxcbiAgICAgICAgaW50ZW50VHlwZTogaW50ZW50LFxuICAgICAgICBhbGxJbnZvaWNlTGlzdDogX3RoaXMzLnByb3BzLmludm9pY2VzLFxuICAgICAgICBjdXN0b21lcjogX3RoaXMzLnByb3BzLmN1c3RvbWVyLFxuICAgICAgICBjYWxsZWRUb05hbWU6IF90aGlzMy5wcm9wcy5jYWxsZWRUb05hbWUsXG4gICAgICAgIGNhbGxlZFRvTnVtYmVyOiBfdGhpczMucHJvcHMuY2FsbGVkVG9OdW1iZXIsXG4gICAgICAgIGNvbXBsZXRlZDogZnVuY3Rpb24gY29tcGxldGVkKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMubWFya1N1bW1hcnlBc0RvbmUoc3VtbWFyeS5pZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGJ1Y2tldE5hbWVzOiBfdGhpczMucHJvcHMuYnVja2V0TmFtZXMsXG4gICAgICAgIGNvbnRhY3RMb2c6IF90aGlzMy5wcm9wcy5jYWxsTG9nU3RhdGUsXG4gICAgICAgIGNhbGxTdGF0ZTogX3RoaXMzLnByb3BzLmNhbGxTdGF0ZSxcbiAgICAgICAgZm9sbG93dXBUZXh0TGlzdDogX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dExpc3QsXG4gICAgICAgIHJlYXNvbkNvZGVMaXN0OiBfdGhpczMuc3RhdGUucmVhc29uQ29kZUxpc3QsXG4gICAgICAgIG9wZW5TbmFja2Jhck9uQWN0aW9uOiBmdW5jdGlvbiBvcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlVHlwZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMub3BlblNuYWNrYmFyKG1lc3NhZ2VUeXBlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlSW52b2ljZXNJblBhcmVudDogZnVuY3Rpb24gdXBkYXRlSW52b2ljZXNJblBhcmVudCh1cGRhdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMzLnVwZGF0ZUludm9pY2VzKHVwZGF0ZWRJbnZvaWNlcywgc3VtbWFyeS5pZCk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZVN1bW1hcnlJblBhcmVudDogZnVuY3Rpb24gdXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KSB7XG4gICAgICAgICAgX3RoaXMzLnVwZGF0ZVN1bW1hcnlGcm9tQ2hpbGQodXBkYXRlZFN1bW1hcnksIHN1bW1hcnkuaWQpO1xuICAgICAgICB9IH0pXG4gICAgKTtcbiAgfTtcblxuICB0aGlzLm1hcmtTdW1tYXJ5QXNEb25lID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIGRvbmVNYXAgPSBfdGhpczMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XG4gICAgdmFyIHByZXZTdW1tYXJ5ID0gX3RoaXMzLnN0YXRlLnN1bW1hcnk7XG5cbiAgICBmb3IgKHZhciBpIGluIHByZXZTdW1tYXJ5KSB7XG4gICAgICBpZiAocHJldlN1bW1hcnlbaV0uaWQgPT0gaWQpIHtcbiAgICAgICAgcHJldlN1bW1hcnlbaV0uc2F2ZSA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIF90aGlzMy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHByZXZTdW1tYXJ5IH0pO1xuICAgIGRvbmVNYXAuc2V0KGlkLCB0cnVlKTtcbiAgICBfdGhpczMuc2V0U3RhdGUoeyBzdW1tYXJ5Q29tcGxldGlvbk1hcDogZG9uZU1hcCB9KTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZUNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICBhbmNob3JFbDogbnVsbFxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IGRhdGU6IGRhdGUgfSk7XG4gICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy51cGRhdGVBY3Rpb25JdGVtQ2hlY2sgPSBmdW5jdGlvbiAoZ2VuZXJhdGVkU3VtbWFyeSkge1xuXG4gICAgX3RoaXMzLnNldFN0YXRlKHsgbm90ZXM6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMzLnN0YXRlLm5vdGVzKSwgW2dlbmVyYXRlZFN1bW1hcnldKSwgaXNBbnlBY3Rpb25Db21wbGV0ZWQ6IHRydWUgfSk7XG4gIH07XG5cbiAgdGhpcy5jaGVja1N1bW1hcnlDb21wbGV0ZU1hcCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBtYXAgPSBfdGhpczMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XG4gICAgY29uc29sZS5sb2cobWFwKTtcblxuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gbWFwLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICB2YXIgdmFsID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgaWYgKHZhbCA9PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHRoaXMuZ2VuZXJhdGVOb3Rlc0FzU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBub3RlcyA9IF90aGlzMy5zdGF0ZS5ub3RlcztcbiAgICB2YXIgbm90ZXNTdHJpbmcgPSBcIlwiO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub3Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbm90ZXNTdHJpbmcgKz0gaSA9PT0gbm90ZXMubGVuZ3RoIC0gMSA/IG5vdGVzW2ldLnRyaW0oKSA6IG5vdGVzW2ldLnRyaW0oKSArICcvbic7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vdGVzU3RyaW5nO1xuICB9O1xuXG4gIHRoaXMuc2F2ZUNhbGxMb2cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgY29tYmluZWROb3RlcyA9IF90aGlzMy5nZW5lcmF0ZU5vdGVzQXNTdHJpbmcoKTtcbiAgICB2YXIgY2FsbExvZ1N0YXRlID0gX3RoaXMzLnByb3BzLmNhbGxMb2dTdGF0ZTtcbiAgICB2YXIgY3VzdG9tZXIgPSBfdGhpczMucHJvcHMuY3VzdG9tZXI7XG4gICAgdmFyIHJlcU9iaiA9IHtcbiAgICAgIGlkOiBjYWxsTG9nU3RhdGUuaWQsXG4gICAgICBjYWxsU3VtbWFyeTogX3RoaXMzLnByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbixcbiAgICAgIGR1cmF0aW9uOiBfdGhpczMucHJvcHMuY2FsbER1cmF0aW9uLFxuICAgICAgbm90ZToge1xuICAgICAgICBjdXN0b21lcklkOiBjdXN0b21lci5pZCxcbiAgICAgICAgbm90ZUNvbnRlbnQ6IGNvbWJpbmVkTm90ZXNcbiAgICAgIH1cbiAgICB9O1xuICAgIF9heGlvczIuZGVmYXVsdC5wdXQoX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyAnL2NhbGwnLCByZXFPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAvLyByZXFPYmouaWQgPSByZXNwb25zZS5kYXRhLmlkXG4gICAgICAvLyBzdG9yZS5kaXNwYXRjaChhZGRJbml0aWFsQ2FsbExvZyhyZXFPYmopKVxuICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlblByb2dyZXNzQmFyOiBmYWxzZSwgaXNQb3N0Q2FsbERvbmU6IHRydWUgfSk7XG4gICAgICBfc3RvcmUuc3RvcmUuZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmNoYW5nZVRyYW5zY3JpcHRpb24pKHsgdHJhbnNjcmlwdGlvbjogXCJcIiB9KSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG5cbiAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Qcm9ncmVzc0JhcjogZmFsc2UsIGlzUG9zdENhbGxEb25lOiB0cnVlIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuc2F2ZVBvc3RDYWxsVGhpbmdzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKF90aGlzMy5jaGVja1N1bW1hcnlDb21wbGV0ZU1hcCgpKSB7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoeyBpc1Jldmlld0RpYWxvZ09wZW46IHRydWUgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF90aGlzMy5zdGF0ZS5ub25BY3Rpb25Ob3RlcyAmJiBfdGhpczMuc3RhdGUubm9uQWN0aW9uTm90ZXMudHJpbSgpKSB7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoeyBub3RlczogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpczMuc3RhdGUubm90ZXMpLCBbX3RoaXMzLnN0YXRlLm5vbkFjdGlvbk5vdGVzLnRyaW0oKV0pLCBub25BY3Rpb25JbmNsdWRlZDogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zYXZlQ2FsbExvZygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzMy5zYXZlQ2FsbExvZygpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnNhdmVOb3Rlc0NoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBfdGhpczMuc2V0U3RhdGUoeyBpc0VkaXRpbmdPbjogZmFsc2UsIHByZXZOb25BY3Rpb25Ob3RlczogX3RoaXMzLnN0YXRlLm5vbkFjdGlvbk5vdGVzIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMy5ibHVyTm9uQWN0aW9uTm90ZXNCb3goKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmRpc2NhcmROb3Rlc0NoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgaXNFZGl0aW5nT246IGZhbHNlLCBub25BY3Rpb25Ob3RlczogX3RoaXMzLnN0YXRlLnByZXZOb25BY3Rpb25Ob3RlcyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczMuYmx1ck5vbkFjdGlvbk5vdGVzQm94KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5jaGFuZ2VQb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbjogdHJ1ZSB9KTtcbiAgfTtcblxuICB0aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoeyBkYXRlOiBkYXRlIH0pO1xuICB9O1xuXG4gIHRoaXMuc2F2ZVdpdGhvdXRSZXZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgaXNSZXZpZXdEaWFsb2dPcGVuOiBmYWxzZSB9KTtcbiAgfTtcblxuICB0aGlzLm9wZW5TbmFja2JhciA9IGZ1bmN0aW9uIChtZXNzYWdlVHlwZSkge1xuICAgIF90aGlzMy5zbmFja01lc3NhZ2VRdWV1ZS5wdXNoKHtcbiAgICAgIG1lc3NhZ2U6IFNOQUNLX01FU1NBR0VTW21lc3NhZ2VUeXBlXSxcbiAgICAgIGtleTogbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICB9KTtcblxuICAgIGlmIChfdGhpczMuc3RhdGUuc25hY2tPcGVuKSB7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoeyBzbmFja09wZW46IGZhbHNlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpczMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucHJvY2Vzc1F1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChfdGhpczMuc25hY2tNZXNzYWdlUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgc25hY2tNZXNzYWdlOiBfdGhpczMuc25hY2tNZXNzYWdlUXVldWUuc2hpZnQoKSxcbiAgICAgICAgc25hY2tPcGVuOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKGV2ZW50LCByZWFzb24pIHtcbiAgICBpZiAocmVhc29uID09PSAnY2xpY2thd2F5Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfdGhpczMuc2V0U3RhdGUoeyBzbmFja09wZW46IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMuaGFuZGxlU25hY2tiYXJFeGl0ID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5wcm9jZXNzUXVldWUoKTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZUFjdGlvbkl0ZW1DbGljayA9IGZ1bmN0aW9uIChhY3Rpb25UeXBlKSB7XG4gICAgdmFyIG5ld0FjdGlvbiA9IF90aGlzMy5jcmVhdGVBY3Rpb24oYWN0aW9uVHlwZSk7XG4gICAgLy9BZGQgdGhlIG5ld2x5IGNyZWF0ZWQgYWN0aW9uIHRvIHN1bW1hcnkgYXJyYXlcbiAgICAvL2lmIG5ld0FjdGlvbiBpcyBudWxsIHNraXAgYWRkaW5nIGl0XG4gICAgaWYgKG5ld0FjdGlvbikge1xuXG4gICAgICB2YXIgc3VtbWFyeUxlbmd0aCA9IF90aGlzMy5zdGF0ZS5zdW1tYXJ5Lmxlbmd0aDtcbiAgICAgIGlmIChzdW1tYXJ5TGVuZ3RoID4gMCkge1xuICAgICAgICBuZXdBY3Rpb25bXCJpZFwiXSA9IF90aGlzMy5zdGF0ZS5zdW1tYXJ5W3N1bW1hcnlMZW5ndGggLSAxXVtcImlkXCJdICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0FjdGlvbltcImlkXCJdID0gMTtcbiAgICAgIH1cbiAgICAgIG5ld0FjdGlvbltcInNhdmVcIl0gPSBmYWxzZTtcbiAgICAgIG5ld0FjdGlvbltcImNyZWF0ZWRcIl0gPSB0cnVlO1xuXG4gICAgICB2YXIgc3VtbWFyeUNvbXBsZXRpb25NYXAgPSBfdGhpczMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XG4gICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcC5zZXQobmV3QWN0aW9uLmlkLCBmYWxzZSk7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICBzdW1tYXJ5OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMy5zdGF0ZS5zdW1tYXJ5KSwgW25ld0FjdGlvbl0pLFxuICAgICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcDogc3VtbWFyeUNvbXBsZXRpb25NYXBcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3Rpb24tc3VtbWFyeS1ncmlkLWNvbnRhaW5lclwiKTtcbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgZWwuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfdGhpczMuc2V0U3RhdGUoeyBkb09wZW5OZXdBY3Rpb25EaWFsb2c6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMuY3JlYXRlQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvblR5cGUpIHtcblxuICAgIHN3aXRjaCAoYWN0aW9uVHlwZSkge1xuICAgICAgY2FzZSBhY3Rpb25UeXBlcy5QMlA6XG4gICAgICAgIHJldHVybiBfdGhpczMuY3JlYXRlUDJQKCk7XG5cbiAgICAgIGNhc2UgYWN0aW9uVHlwZXMuRElTUFVURTpcbiAgICAgICAgcmV0dXJuIF90aGlzMy5jcmVhdGVEaXNwdXRlKCk7XG5cbiAgICAgIGNhc2UgYWN0aW9uVHlwZXMuRk9MTE9XX1VQOlxuICAgICAgICByZXR1cm4gX3RoaXMzLmNyZWF0ZUZvbGxvd3VwKCk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmNyZWF0ZVAyUCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgUDJQQWN0aW9uID0gX3RoaXMzLmNyZWF0ZVN1bW1hcnlUZW1wbGF0ZSgpO1xuICAgIHZhciBuZXdTdW1tYXJ5RW50aXR5ID0gX3RoaXMzLmNyZWF0ZVN1bW1hcnlFbnRpdHkoKTtcbiAgICBQMlBBY3Rpb24uaW50ZW50ID0gX2NvbnN0YW50cy5JTlRFTlRfVFlQRVMuUDJQO1xuICAgIFAyUEFjdGlvbi5zdW1tYXJ5ID0gUDJQX1NVTU1BUllfVEVNUExBVEU7XG4gICAgUDJQQWN0aW9uLnN1bW1hcnkgPSBQMlBfU1VNTUFSWV9URU1QTEFURS5yZXBsYWNlKFwiPERhdGUtVGltZT5cIiwgKDAsIF9oZWxwZXIuZm9ybWF0RGF0ZVdpdGhUaW1lem9uZSkobmV3IERhdGUoKSwgJyswMDowMCcpKTtcbiAgICBQMlBBY3Rpb24uZW50aXRpZXMgPSBuZXdTdW1tYXJ5RW50aXR5O1xuXG4gICAgcmV0dXJuIFAyUEFjdGlvbjtcbiAgfTtcblxuICB0aGlzLmNyZWF0ZURpc3B1dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRpc3B1dGVBY3Rpb24gPSBfdGhpczMuY3JlYXRlU3VtbWFyeVRlbXBsYXRlKCk7XG4gICAgdmFyIG5ld1N1bW1hcnlFbnRpdHkgPSBfdGhpczMuY3JlYXRlU3VtbWFyeUVudGl0eSgpO1xuICAgIGRpc3B1dGVBY3Rpb24uaW50ZW50ID0gX2NvbnN0YW50cy5JTlRFTlRfVFlQRVMuRElTUFVURTtcbiAgICBkaXNwdXRlQWN0aW9uLnN1bW1hcnkgPSBESVNQVVRFX1NVTU1BUllfVEVNUExBVEU7XG4gICAgZGlzcHV0ZUFjdGlvbi5lbnRpdGllcyA9IG5ld1N1bW1hcnlFbnRpdHk7XG5cbiAgICByZXR1cm4gZGlzcHV0ZUFjdGlvbjtcbiAgfTtcblxuICB0aGlzLmNyZWF0ZUZvbGxvd3VwID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmb2xsb3d1cEFjdGlvbiA9IF90aGlzMy5jcmVhdGVTdW1tYXJ5VGVtcGxhdGUoKTtcbiAgICB2YXIgbmV3U3VtbWFyeUVudGl0eSA9IF90aGlzMy5jcmVhdGVTdW1tYXJ5RW50aXR5KCk7XG4gICAgZm9sbG93dXBBY3Rpb24uaW50ZW50ID0gX2NvbnN0YW50cy5JTlRFTlRfVFlQRVMuRk9MTE9XX1VQO1xuICAgIGZvbGxvd3VwQWN0aW9uLnN1bW1hcnkgPSBGT0xMT1dVUF9TVU1NQVJZX1RFTVBMQVRFO1xuICAgIGZvbGxvd3VwQWN0aW9uLnN1bW1hcnkgPSBGT0xMT1dVUF9TVU1NQVJZX1RFTVBMQVRFLnJlcGxhY2UoXCI8RGF0ZS1UaW1lPlwiLCAoMCwgX2hlbHBlci5mb3JtYXREYXRlV2l0aFRpbWV6b25lKShuZXcgRGF0ZSgpLCAnKzAwOjAwJykpO1xuICAgIGZvbGxvd3VwQWN0aW9uLmVudGl0aWVzID0gbmV3U3VtbWFyeUVudGl0eTtcblxuICAgIHJldHVybiBmb2xsb3d1cEFjdGlvbjtcbiAgfTtcblxuICB0aGlzLmZvcm1hdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgIHZhciBkID0gbmV3IERhdGUoZGF0ZSksXG4gICAgICAgIG1vbnRoID0gJycgKyAoZC5nZXRNb250aCgpICsgMSksXG4gICAgICAgIGRheSA9ICcnICsgZC5nZXREYXRlKCksXG4gICAgICAgIHllYXIgPSBkLmdldEZ1bGxZZWFyKCk7XG5cbiAgICBpZiAobW9udGgubGVuZ3RoIDwgMikgbW9udGggPSAnMCcgKyBtb250aDtcbiAgICBpZiAoZGF5Lmxlbmd0aCA8IDIpIGRheSA9ICcwJyArIGRheTtcblxuICAgIHJldHVybiBbeWVhciwgbW9udGgsIGRheV0uam9pbignLScpO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VSZXZpZXdXYXJuaW5nRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IGlzUmV2aWV3RGlhbG9nT3BlbjogZmFsc2UgfSk7XG4gIH07XG5cbiAgdGhpcy50b2dnbGVFeHBhbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgZXhwYW5lZDogIV90aGlzMy5zdGF0ZS5leHBhbmVkIH0pO1xuICB9O1xuXG4gIHRoaXMuaGFuZGxlQWN0aW9uQ3JlYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgZG9PcGVuTmV3QWN0aW9uRGlhbG9nOiB0cnVlIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VBY3Rpb25DcmVhdG9yRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IGRvT3Blbk5ld0FjdGlvbkRpYWxvZzogZmFsc2UgfSk7XG4gIH07XG5cbiAgdGhpcy5ibHVyTm9uQWN0aW9uTm90ZXNCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGV4dEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGRcIik7XG4gICAgICBpZiAodGV4dEZpZWxkKSB7XG4gICAgICAgIHRleHRGaWVsZC5ibHVyKCk7XG4gICAgICB9XG4gICAgfSwgNTAwKTtcbiAgfTtcblxuICB0aGlzLmZvcm1hdENhbGxEdXJhdGlvbiA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgdmFyIGR1cmF0aW9uID0gc2Vjb25kcztcbiAgICB2YXIgaHIgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gMzYwMCk7XG4gICAgdmFyIG1pbiA9IE1hdGguZmxvb3IoKGR1cmF0aW9uIC0gaHIgKiAzNjAwKSAvIDYwKTtcbiAgICB2YXIgc2VjID0gTWF0aC5mbG9vcihkdXJhdGlvbiAtIGhyICogMzYwMCAtIG1pbiAqIDYwKTtcblxuICAgIGlmIChtaW4gPCAxMCkge1xuICAgICAgbWluID0gXCIwXCIgKyBtaW47XG4gICAgfVxuXG4gICAgaWYgKHNlYyA8IDEwKSB7XG4gICAgICBzZWMgPSBcIjBcIiArIHNlYztcbiAgICB9XG4gICAgcmV0dXJuIG1pbiArICcgbWluICcgKyBzZWMgKyAnIHNlYyc7XG4gIH07XG5cbiAgdGhpcy5nZXROZXdLZXkgPSBmdW5jdGlvbiAoYWN0aW9uVHlwZSkge1xuICAgIHZhciBzdW1tYXJ5ID0gX3RoaXMzLnN0YXRlLnN1bW1hcnk7XG5cbiAgICBpZiAoc3VtbWFyeSAmJiBzdW1tYXJ5Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBhY3Rpb25UeXBlICsgJy0nICsgKHN1bW1hcnlbc3VtbWFyeS5sZW5ndGggLSAxXVtcImlkXCJdICsgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGlvblR5cGUgKyAnLScgKyAxO1xuICB9O1xuXG4gIHRoaXMuY3JlYXRlU3VtbWFyeVRlbXBsYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKFNVTU1BUllfVEVNUExBVEUpO1xuICB9O1xuXG4gIHRoaXMuY3JlYXRlU3VtbWFyeUVudGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShFTlRJVFlfVEVNUExBVEUpO1xuICB9O1xuXG4gIHRoaXMuaW5pdGlhbGl6ZVN1bW1hcnlXaXRoRGVmYXVsdHMgPSBmdW5jdGlvbiAoc3VtbWFyeSkge1xuXG4gICAgaWYgKHN1bW1hcnkgPT09IFwiW11cIikge1xuICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc3VtbWFyeTogW10gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdW1tYXJ5V2l0aElkcyA9IF90aGlzMy5hcHBlbmRJZHNUb1N1bW1hcnkoc3VtbWFyeSk7XG4gICAgICB2YXIgc3VtbWFyeUNvbXBsZXRpb25NYXAgPSBfdGhpczMuY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXAoc3VtbWFyeSk7XG4gICAgICB2YXIgbm9uQWN0aW9uU3VtbWFyeSA9IF90aGlzMy5jcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzKHN1bW1hcnkpO1xuICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgc3VtbWFyeTogc3VtbWFyeVdpdGhJZHMsXG4gICAgICAgIHN1bW1hcnlDb21wbGV0aW9uTWFwOiBzdW1tYXJ5Q29tcGxldGlvbk1hcCxcbiAgICAgICAgbm9uQWN0aW9uTm90ZXM6IG5vbkFjdGlvblN1bW1hcnksXG4gICAgICAgIHByZXZOb25BY3Rpb25Ob3Rlczogbm9uQWN0aW9uU3VtbWFyeVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuY3JlYXRlSW5pdGlhbE5vbkFjdGlvblN1bW1hcnlOb3RlcyA9IGZ1bmN0aW9uIChzdW1tYXJ5KSB7XG4gICAgdmFyIGluaXRpYWxOb3Rlc1N0cmluZyA9IFwiXCI7XG5cbiAgICB2YXIgdm9pY2VtYWlsTWVzc2FnZSA9IF90aGlzMy5wcm9wcy52b2ljZW1haWxNZXNzYWdlO1xuXG4gICAgaWYgKHZvaWNlbWFpbE1lc3NhZ2UpIHtcbiAgICAgIGluaXRpYWxOb3Rlc1N0cmluZyArPSB2b2ljZW1haWxNZXNzYWdlO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgaW4gc3VtbWFyeSkge1xuICAgICAgaWYgKHN1bW1hcnlbaV0uaW50ZW50ICE9PSBfY29uc3RhbnRzLklOVEVOVF9UWVBFUy5QMlAgJiYgc3VtbWFyeVtpXS5pbnRlbnQgIT09IF9jb25zdGFudHMuSU5URU5UX1RZUEVTLkRJU1BVVEUgJiYgc3VtbWFyeVtpXS5pbnRlbnQgIT09IF9jb25zdGFudHMuSU5URU5UX1RZUEVTLkZPTExPV19VUCkge1xuICAgICAgICBpbml0aWFsTm90ZXNTdHJpbmcgKz0gc3VtbWFyeVtpXS5zdW1tYXJ5O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbml0aWFsTm90ZXNTdHJpbmc7XG4gIH07XG5cbiAgdGhpcy5hcHBlbmRJZHNUb1N1bW1hcnkgPSBmdW5jdGlvbiAoc3VtbWFyeSkge1xuICAgIC8vYXBwZW5kIGlkcyB0byBzdW1tYXJ5XG4gICAgaWYgKHN1bW1hcnkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3VtbWFyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICBzdW1tYXJ5W2ldW1wiaWRcIl0gPSBpICsgMTtcbiAgICAgICAgc3VtbWFyeVtpXVtcInNhdmVcIl0gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3VtbWFyeTtcbiAgfTtcblxuICB0aGlzLnVwZGF0ZVN1bW1hcnlGcm9tQ2hpbGQgPSBmdW5jdGlvbiAobmV3U3VtbWFyeSwgaWQpIHtcbiAgICB2YXIgcHJldlN1bW1hcnkgPSBfdGhpczMuc3RhdGUuc3VtbWFyeTtcblxuICAgIGZvciAodmFyIGkgaW4gcHJldlN1bW1hcnkpIHtcbiAgICAgIGlmIChwcmV2U3VtbWFyeVtpXS5pZCA9PSBpZCkge1xuICAgICAgICBwcmV2U3VtbWFyeVtpXS5zdW1tYXJ5ID0gbmV3U3VtbWFyeTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3RoaXMzLnNldFN0YXRlKHsgc3VtbWFyeTogcHJldlN1bW1hcnkgfSk7XG4gIH07XG5cbiAgdGhpcy5oYW5kbGVOb25hY3Rpb25Ob3Rlc0NoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICBfdGhpczMuc2V0U3RhdGUoeyBub25BY3Rpb25Ob3RlczogZS50YXJnZXQudmFsdWUgfSk7XG4gIH07XG5cbiAgdGhpcy51cGRhdGVJbnZvaWNlcyA9IGZ1bmN0aW9uICh1cGRhdGVkSW52b2ljZXMsIGlkKSB7XG4gICAgdmFyIHByZXZTdW1tYXJ5ID0gT2JqZWN0LmNyZWF0ZShfdGhpczMuc3RhdGUuc3VtbWFyeSk7XG4gICAgdmFyIHVwZGF0ZWRJbnZvaWNlTGlzdCA9IFtdO1xuICAgIGZvciAodmFyIGkgaW4gcHJldlN1bW1hcnkpIHtcbiAgICAgIGlmIChwcmV2U3VtbWFyeVtpXS5pZCA9PSBpZCkge1xuICAgICAgICBmb3IgKHZhciBfaSBpbiB1cGRhdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICB1cGRhdGVkSW52b2ljZUxpc3QucHVzaCh1cGRhdGVkSW52b2ljZXNbX2ldLmRvY3VtZW50TnVtYmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXZTdW1tYXJ5W2ldLmVudGl0aWVzLmludm9pY2UgPSB1cGRhdGVkSW52b2ljZUxpc3Q7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIF90aGlzMy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHByZXZTdW1tYXJ5IH0pO1xuICB9O1xuXG4gIHRoaXMuZWRpdE5vbkFjdGlvbk5vdGVzID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IGlzRWRpdGluZ09uOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGRcIik7XG4gICAgICAgIGlmICh0ZXh0RmllbGQpIHtcbiAgICAgICAgICB0ZXh0RmllbGQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSwgNTAwKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdlbmVyYXRlRmluYWxJbnZvaWNlTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZmluYWxJbnZvaWNlc09iamVjdCA9IFtdO1xuICAgIHZhciBzdW1tYXJ5ID0gX3RoaXMzLnN0YXRlLnN1bW1hcnk7XG4gICAgdmFyIGFsbEludm9pY2VzID0gX3RoaXMzLnByb3BzLmludm9pY2VzO1xuICAgIHZhciBzZWxlY3RlZEludm9pY2VzID0gW107XG4gICAgZm9yICh2YXIgaSBpbiBzdW1tYXJ5KSB7XG4gICAgICB2YXIgaW52b2ljZXMgPSBzdW1tYXJ5W2ldLmVudGl0aWVzLmludm9pY2U7XG4gICAgICBmb3IgKHZhciBfaTIgaW4gaW52b2ljZXMpIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXMuaW5kZXhPZihpbnZvaWNlc1tfaTJdKSA8IDApIHtcbiAgICAgICAgICBzZWxlY3RlZEludm9pY2VzLnB1c2goaW52b2ljZXNbX2kyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICBmb3IgKHZhciBfaTMgaW4gc2VsZWN0ZWRJbnZvaWNlcykge1xuICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGogaW4gYWxsSW52b2ljZXMpIHtcbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSkgYnJlYWs7XG4gICAgICAgIGZvciAodmFyIGsgaW4gYWxsSW52b2ljZXNbal0pIHtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tfaTNdID09IGFsbEludm9pY2VzW2pdW2tdLmRvY3VtZW50TnVtYmVyKSB7XG4gICAgICAgICAgICBmaW5hbEludm9pY2VzT2JqZWN0LnB1c2goe1xuICAgICAgICAgICAgICBcImRvY3VtZW50TnVtYmVyXCI6IHNlbGVjdGVkSW52b2ljZXNbX2kzXSxcbiAgICAgICAgICAgICAgXCJjdXJyZW50T3BlbkFtb3VudFwiOiBhbGxJbnZvaWNlc1tqXVtrXS5jdXJyZW50T3BlbkFtb3VudCxcbiAgICAgICAgICAgICAgXCJpbnZvaWNlSWRcIjogYWxsSW52b2ljZXNbal1ba10uaWQsXG4gICAgICAgICAgICAgIFwiaWRcIjogY291bnQrK1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmluYWxJbnZvaWNlc09iamVjdDtcbiAgfTtcbn07XG5cblBvc3RDYWxsLnByb3BUeXBlcyA9IHtcbiAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuXG4gICAgdXNlcjogc3RhdGUucGVyc29uYWxEZXRhaWxzLFxuICAgIGNhbGxTdGF0ZTogc3RhdGUuY2FsbFN0YXRlLFxuICAgIHRyYW5zY3JpcHRpb246IHN0YXRlLnRyYW5zY3JpcHRpb24sXG4gICAgY2FsbExvZ1N0YXRlOiBzdGF0ZS5jYWxsTG9nU3RhdGVcbiAgfTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMpKCgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoUG9zdENhbGwpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfUDJQID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDkyKTtcblxudmFyIF9QMlAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUDJQKTtcblxudmFyIF9EaXNwdXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTAwKTtcblxudmFyIF9EaXNwdXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc3B1dGUpO1xuXG52YXIgX0ZvbGxvd3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTAxKTtcblxudmFyIF9Gb2xsb3d1cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Gb2xsb3d1cCk7XG5cbnZhciBfQWN0aW9uRGV0YWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwMik7XG5cbnZhciBfQWN0aW9uRGV0YWlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BY3Rpb25EZXRhaWxzKTtcblxudmFyIF9FeHBhbnNpb25QYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTczKTtcblxudmFyIF9FeHBhbnNpb25QYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FeHBhbnNpb25QYW5lbCk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzQpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsU3VtbWFyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FeHBhbnNpb25QYW5lbFN1bW1hcnkpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsRGV0YWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzMzKTtcblxudmFyIF9FeHBhbnNpb25QYW5lbERldGFpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWxEZXRhaWxzKTtcblxudmFyIF9FeHBhbmRNb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzkpO1xuXG52YXIgX0V4cGFuZE1vcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5kTW9yZSk7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYW5lbDoge1xuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGV4cGFuZGVkQmFja2dyb3VuZDoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzOTU4NkZcIixcbiAgICAgICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwcHggM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMikpXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjAgIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHBhbmVsQ29tbW9uOiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjAgIWltcG9ydGFudFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjVweFwiLFxuICAgICAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDBweCAzcHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yKSlcIlxuICAgICAgICB9LFxuICAgICAgICBleHBhbmRJY29uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBleHBhbnNpb25QYW5lbFJvb3Q6IHtcbiAgICAgICAgICAgIGJveFNoYWRvdzogXCJub25lICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHggIWltcG9ydGFudFwiLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuODN2aFwiXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIEFjdGlvbnMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhBY3Rpb25zLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEFjdGlvbnMocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjdGlvbnMpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBY3Rpb25zLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWN0aW9ucykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzLnByb3BzLnN1bW1hcnkuZW50aXRpZXNbXCJpbnZvaWNlXCJdO1xuICAgICAgICB2YXIgaW5pdGlhbEludm9pY2VEYXRhID0gX3RoaXMuZ2VuSW5pdGlhbEludm9pY2VEYXRhKGludm9pY2VzKTtcbiAgICAgICAgdmFyIGNvcnJlY3RJbnZvaWNlcyA9IGluaXRpYWxJbnZvaWNlRGF0YS5jb3JyZWN0SW52b2ljZXMsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXAgPSBpbml0aWFsSW52b2ljZURhdGEuY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZyA9IGluaXRpYWxJbnZvaWNlRGF0YS5pbmNvcnJlY3RGbGFnO1xuXG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBleHBhbmRlZDogZmFsc2UsXG4gICAgICAgICAgICBhbW91bnQ6IDAsXG4gICAgICAgICAgICBpbnZvaWNlczogaW52b2ljZXMsXG4gICAgICAgICAgICBzdW1tYXJ5OiBfdGhpcy5wcm9wcy5zdW1tYXJ5LFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiBjb3JyZWN0SW52b2ljZXMsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IGNvcnJlY3RJbnZvaWNlc01hcCxcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IGluY29ycmVjdEZsYWcsXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IDBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhBY3Rpb25zLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICBpbnRlbnRUeXBlID0gX3Byb3BzLmludGVudFR5cGU7XG5cbiAgICAgICAgICAgIHZhciBjb21tb25Qcm9wcyA9IHRoaXMuZ2V0Q29tbW9uUHJvcHMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5leHBhbnNpb25QYW5lbFJvb3QgfSxcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWQ6IHRoaXMuc3RhdGUuZXhwYW5kZWQsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5wYW5lbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5leHBhbmRlZCA/IGNsYXNzZXMuZXhwYW5kZWRCYWNrZ3JvdW5kIDogY2xhc3Nlcy5wYW5lbENvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZEljb246IGludGVudFR5cGUgIT09IF9jb25zdGFudHMuSU5URU5UX1RZUEVTLkZPTExPV19VUCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRXhwYW5kTW9yZTIuZGVmYXVsdCwgeyBvbkNsaWNrOiB0aGlzLnRvZ2dsZUV4cGFuZCwgY2xhc3NOYW1lOiBjbGFzc2VzLmV4cGFuZEljb24gfSlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZSA9PT0gX2NvbnN0YW50cy5JTlRFTlRfVFlQRVMuUDJQICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9QMlAyLmRlZmF1bHQsIF9leHRlbmRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQW1vdW50OiB0aGlzLnN0YXRlLmFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6IHRoaXMuc3RhdGUuc3VtbWFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VDb3VudDogdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzXG4gICAgICAgICAgICAgICAgICAgIH0sIGNvbW1vblByb3BzKSksXG4gICAgICAgICAgICAgICAgICAgIGludGVudFR5cGUgPT09IF9jb25zdGFudHMuSU5URU5UX1RZUEVTLkRJU1BVVEUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Rpc3B1dGUyLmRlZmF1bHQsIF9leHRlbmRzKHsgaW5jb3JyZWN0RmxhZzogdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogdGhpcy5zdGF0ZS5zdW1tYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZUNvdW50OiB0aGlzLnN0YXRlLmludm9pY2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb25Db2RlTGlzdDogdGhpcy5wcm9wcy5yZWFzb25Db2RlTGlzdFxuICAgICAgICAgICAgICAgICAgICB9LCBjb21tb25Qcm9wcykpLFxuICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlID09PSBfY29uc3RhbnRzLklOVEVOVF9UWVBFUy5GT0xMT1dfVVAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZvbGxvd3VwMi5kZWZhdWx0LCBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiB0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiB0aGlzLnN0YXRlLnN1bW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3d1cFRleHRMaXN0OiB0aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3RcbiAgICAgICAgICAgICAgICAgICAgfSwgY29tbW9uUHJvcHMpKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbERldGFpbHMyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnBhbmVsQ29tbW9uIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9BY3Rpb25EZXRhaWxzMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdW06IHRoaXMuc3RhdGUuc3VtbWFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudFR5cGU6IGludGVudFR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlSW52b2ljZTogdGhpcy51cGRhdGVJbnZvaWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IHRoaXMuc3RhdGUuY29tcGxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXM6IHRoaXMucHJvcHMuYWxsSW52b2ljZUxpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXROYW1lczogdGhpcy5wcm9wcy5idWNrZXROYW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUludm9pY2VzOiBmdW5jdGlvbiB1cGRhdGVJbnZvaWNlcyhpbnZvaWNlcywgaW52b2ljZXNNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlQ29ycmVjdEludm9pY2VzKGludm9pY2VzLCBpbnZvaWNlc01hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFjdGlvbnM7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB0aGlzLnRvZ2dsZUV4cGFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgZXhwYW5kZWQ6ICFfdGhpczMuc3RhdGUuZXhwYW5kZWQgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2VuSW5pdGlhbEludm9pY2VEYXRhID0gZnVuY3Rpb24gKGludm9pY2VzKSB7XG4gICAgICAgIHZhciBjb3JyZWN0SW52b2ljZXMgPSBbXTtcbiAgICAgICAgdmFyIGNvcnJlY3RJbnZvaWNlc01hcCA9IHt9O1xuICAgICAgICB2YXIgaW5jb3JyZWN0RmxhZyA9IGZhbHNlO1xuICAgICAgICB2YXIgYWxsSW52b2ljZUxpc3QgPSBfdGhpczMucHJvcHMuYWxsSW52b2ljZUxpc3Q7XG5cbiAgICAgICAgaWYgKGludm9pY2VzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYWxsSW52b2ljZUxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBhbGxJbnZvaWNlTGlzdFtqXS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJbnZvaWNlID0gYWxsSW52b2ljZUxpc3Rbal1ba107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnZvaWNlc1tpXSA9PSBjdXJyZW50SW52b2ljZS5kb2N1bWVudE51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcy5wdXNoKGN1cnJlbnRJbnZvaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXBbY3VycmVudEludm9pY2UuaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghZmxhZykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcEludm9pY2UgPSBPYmplY3QuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnZvaWNlc1tpXSArICdpbmNvcnJlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXI6IGludm9pY2VzW2ldXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcy5wdXNoKHRlbXBJbnZvaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGludm9pY2VEYXRhID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IGNvcnJlY3RJbnZvaWNlcyxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogaW5jb3JyZWN0RmxhZ1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gaW52b2ljZURhdGE7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q29tbW9uUHJvcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGN1c3RvbWVyOiBfdGhpczMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICBjYWxsVG9OYW1lOiBfdGhpczMucHJvcHMuY2FsbGVkVG9OYW1lLFxuICAgICAgICAgICAgY2FsbGVkVG9OdW1iZXI6IF90aGlzMy5wcm9wcy5jYWxsZWRUb051bWJlcixcbiAgICAgICAgICAgIGNvbnRhY3RMb2c6IF90aGlzMy5wcm9wcy5jb250YWN0TG9nLFxuICAgICAgICAgICAgb25BY3Rpb25JdGVtQ29uZmlybTogX3RoaXMzLnByb3BzLm9uQWN0aW9uSXRlbUNvbmZpcm0sXG4gICAgICAgICAgICBkZWxldGVBY3Rpb246IF90aGlzMy5wcm9wcy5vbkRlbGV0ZSxcbiAgICAgICAgICAgIG9uQ29tcGxldGlvbjogX3RoaXMzLm1hcmtUaGlzQ29tcGxldGUsXG4gICAgICAgICAgICB0b2dnbGVFeHBhbmQ6IF90aGlzMy50b2dnbGVFeHBhbmQsXG4gICAgICAgICAgICBvcGVuU25hY2tiYXJPbkFjdGlvbjogZnVuY3Rpb24gb3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZVR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnByb3BzLm9wZW5TbmFja2Jhck9uQWN0aW9uKG1lc3NhZ2VUeXBlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVTdW1tYXJ5SW5QYXJlbnQ6IGZ1bmN0aW9uIHVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnksIF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVDb3JyZWN0SW52b2ljZXMgPSBmdW5jdGlvbiAoaW52b2ljZXMsIGludm9pY2VzTWFwKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IGludm9pY2VzLFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBpbnZvaWNlc01hcFxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMudXBkYXRlSW52b2ljZXNJblBhcmVudChpbnZvaWNlcyk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZUludm9pY2VzID0gZnVuY3Rpb24gKGZsYWcsIGludm9pY2VDb3VudCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogZmxhZyxcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogaW52b2ljZUNvdW50XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLm1hcmtUaGlzQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGNvbXBsZXRlZDogdHJ1ZSwgZXhwYW5kZWQ6IGZhbHNlIH0pO1xuICAgICAgICBfdGhpczMucHJvcHMuY29tcGxldGVkKCk7XG4gICAgfTtcbn07XG5cbkFjdGlvbnMucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoQWN0aW9ucyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDkyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxudmFyIF9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnV0dG9uKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNCk7XG5cbnZhciBfZGF0ZUZucyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3Nik7XG5cbnZhciBfZGF0ZUZuczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlRm5zKTtcblxudmFyIF9tYXRlcmlhbFVpUGlja2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3Nyk7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX2JsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMik7XG5cbnZhciBfYmx1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ibHVlKTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNSk7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfRXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMCk7XG5cbnZhciBfRXJyb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXJyb3IpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX3JlYWN0TnVtYmVyRm9ybWF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDgwKTtcblxudmFyIF9yZWFjdE51bWJlckZvcm1hdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdE51bWJlckZvcm1hdCk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY3VsYXJQcm9ncmVzcyk7XG5cbnZhciBfQ3VzdG9tRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjcpO1xuXG52YXIgX0N1c3RvbURpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21EaWFsb2cpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblxudmFyIF9kYXRlRm5zMyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vY29uc3RhbnRzXG52YXIgUDJQUmVnZXggPSAvKFByb21pc2UgdG8gcGF5IGZvciBcXGQqKXwoXFxkezR9LVxcZHsyfS1cXGR7Mn1UW1xcZHsyfTpdKi5cXGR7M31bLXwrXVxcZHsyfTpcXGR7Mn0pfChcXGQqIGludm9pY2UpL2c7XG52YXIgZGlzY2FyZE1lc3NhZ2UgPSBcIlRoaXMgd2lsbCBiZSByZW1vdmVkIHBlcm1hbmVudGx5IGZyb20gdGhlIHN1Z2dlc3RlZCBhY3Rpb25zLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLlwiO1xudmFyIHJlc29sdmVNZXNzYWdlID0gXCIgVW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBhY3Rpb24uIFBsZWFzZSByZXNvbHZlIHRoZSBlcnJvcnMgdG8gYXBwcm92ZS5cIjtcbnZhciBQMlBUZW1wbGF0ZSA9IFwiUGF5bWVudCBjb21taXRtZW50IHJlY2VpdmVkIGZvciA8QW1vdW50PiB0byBiZSBwYWlkIGJ5IDxEYXRlPiA8SW52b2ljZXM+LlwiO1xudmFyIFAyUF9PUklHX1RFTVBMQVRFID0gXCJDcmVhdGUgUHJvbWlzZSB0byBwYXkgZm9yIDxBbW91bnQ+IHRvIGJlIHBhaWQgYnkgPERhdGU+IGZvciA8SW52b2ljZXM+XCI7XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnZvaWNlU2FtcGxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGZsZXhXcmFwOiBcIm5vLXdyYXBcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5OiBcInNwYWNlLWJldHdlZW5cIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIlxuICAgICAgICAgICAgLy8gY29sb3IgOiBcInJlZFwiXG4gICAgICAgIH0sXG4gICAgICAgIHRleHRGaWVsZDoge1xuICAgICAgICAgICAgbWFyZ2luOiBcIjBweFwiLFxuICAgICAgICAgICAgLy8gd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgICAgICAgIC8vIHBhZGRpbmc6IFwiMHB4XCIsXG4gICAgICAgICAgICAvLyBtYXhXaWR0aDogXCIxMjBweFwiLFxuICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAvLyB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICB0ZXN0OiB7XG4gICAgICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgb3BhY2l0eTogMC42LFxuXG4gICAgICAgICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICM1REFBRTBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjNURBQUUwXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGVzdEluaXRpYWw6IHtcbiAgICAgICAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgICAgICBwYWRkaW5nOiAnMHB4JyxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjYsXG5cbiAgICAgICAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25Qcm9ncmVzc0Jhcjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxLjVyZW0gIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIGNhcmRDb250ZW50OiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uSWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMS42cmVtXCIsXG4gICAgICAgICAgICB3aWR0aDogXCIxLjZyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlcnJvckZsYWc6IHtcbiAgICAgICAgICAgIGNvbG9yOiBcIiNGRjQ0NDRcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlRG9uZUJ0bjoge1xuICAgICAgICAgICAgb3BhY2l0eTogMC40LFxuICAgICAgICAgICAgY3Vyc29yOiBcImRlZmF1bHRcIlxuICAgICAgICB9XG5cbiAgICB9O1xufTtcblxudmFyIG1hdGVyaWFsVGhlbWUgPSAoMCwgX2NvcmUuY3JlYXRlTXVpVGhlbWUpKHtcbiAgICAvLyBvdmVycmlkZXM6IHtcbiAgICAvLyAgICAgTXVpRGlhbG9nIDoge1xuICAgIC8vICAgICAgICAgcGFwZXIgOiB7XG4gICAgLy8gICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yIDogXCIjMjczRDQ5XCIsXG4gICAgLy8gICAgICAgICAgICAgYm9yZGVyIDogXCIzcHggc29saWQgd2hpdGVcIlxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9LFxuICAgIC8vICAgICBNdWlQaWNrZXJzU2xpZGVUcmFuc2l0aW9uIDoge1xuICAgIC8vICAgICAgICAgdHJhbnNpdGlvbkNvbnRhaW5lciA6IHtcbiAgICAvLyAgICAgICAgICAgICBjb2xvciA6IFwiIzVEQUFFMFwiLFxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9LFxuICAgIC8vIE11aVBpY2tlcnNUb29sYmFyOiB7XG4gICAgLy8gICAgIHRvb2xiYXI6IHtcbiAgICAvLyAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjNURBQUUwXCIsXG4gICAgLy8gICAgICAgICBoZWlnaHQgOiBcIjEzdmhcIlxuICAgIC8vICAgICB9LFxuICAgIC8vIH0sXG4gICAgLy8gICAgIE11aVBpY2tlcnNDYWxlbmRhckhlYWRlcjoge1xuICAgIC8vICAgICAgICAgc3dpdGNoSGVhZGVyOiB7XG4gICAgLy8gICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBsaWdodEJsdWUuQTIwMCxcbiAgICAvLyAgICAgICAgICAgICAvLyBjb2xvcjogJ3doaXRlJyxcbiAgICAvLyAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICBkYXlMYWJlbCA6IHtcbiAgICAvLyAgICAgICAgICAgICBjb2xvciA6IFwiIzVEQUFFMFwiLFxuICAgIC8vICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgIGljb25CdXR0b24gOiB7XG4gICAgLy8gICAgICAgICAgICAgY29sb3IgOiBcIiM1REFBRTBcIixcbiAgICAvLyAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgOiBcInRyYW5zcGFyZW50XCJcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSxcbiAgICAvLyAgICAgTXVpSWNvbkJ1dHRvbiA6IHtcbiAgICAvLyAgICAgICAgIHJvb3QgOiB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGRpc2FibGVkIDoge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29sb3IgOiBcIiM1REFBRTBcIlxuICAgIC8vICAgICAgICAgICAgICAgICB9XG5cbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSxcbiAgICAvLyAgICAgTXVpVHlwb2dyYXBoeSA6IHtcbiAgICAvLyAgICAgICAgIGJvZHkxIDoge1xuICAgIC8vICAgICAgICAgICAgIGNvbG9yIDogXCIjNURBQUUwXCIsXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIE11aVBpY2tlcnNEYXk6IHtcbiAgICAvLyAgICAgICAgIGRheToge1xuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBcIiM1REFBRTBcIixcbiAgICAvLyAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICBzZWxlY3RlZDoge1xuICAgIC8vICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmx1ZVsnNDAwJ10sXG4gICAgLy8gICAgICAgICB9LFxuICAgIC8vICAgICAgICAgY3VycmVudDoge1xuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBibHVlWyc5MDAnXSxcbiAgICAvLyAgICAgICAgIH0sXG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XG4gICAgLy8gICAgICAgICBlcnJvcjoge1xuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBcIiNGRjg4ODggIWltcG9ydGFudFwiLFxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9LFxuICAgIC8vICAgICBNdWlQaWNrZXJzTW9kYWw6IHtcbiAgICAvLyAgICAgICAgIGRpYWxvZ0FjdGlvbjoge1xuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBibHVlWyc0MDAnXSxcbiAgICAvLyAgICAgICAgIH0sXG4gICAgLy8gICAgIH0sXG4gICAgLy8gfSxcbiAgICBvdmVycmlkZXM6IHtcbiAgICAgICAgTXVpUGlja2Vyc1Rvb2xiYXI6IHtcbiAgICAgICAgICAgIHRvb2xiYXI6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IF9ibHVlMi5kZWZhdWx0LkEyMDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEzdmhcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXI6IHtcbiAgICAgICAgICAgIHN3aXRjaEhlYWRlcjoge1xuICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjogbGlnaHRCbHVlLkEyMDAsXG4gICAgICAgICAgICAgICAgLy8gY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE11aVBpY2tlcnNEYXk6IHtcbiAgICAgICAgICAgIGRheToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBfYmx1ZTIuZGVmYXVsdC5BNzAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IF9ibHVlMi5kZWZhdWx0Wyc0MDAnXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1cnJlbnQ6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogX2JsdWUyLmRlZmF1bHRbJzkwMCddXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNGRjg4ODggIWltcG9ydGFudFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE11aVBpY2tlcnNNb2RhbDoge1xuICAgICAgICAgICAgZGlhbG9nQWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IF9ibHVlMi5kZWZhdWx0Wyc0MDAnXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBQMlAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhQMlAsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUDJQKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQMlApO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQMlAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQMlApKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgICAgICB2YXIgZXh0cmFjdGVkRGF0YSA9IF90aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChQMlBSZWdleCk7XG4gICAgICAgIHZhciBleHRyYWN0ZWRBbW91bnQgPSBleHRyYWN0ZWREYXRhWzBdLm1hdGNoKC9bMC05XXsxLH0vKTtcblxuICAgICAgICAvLyBsZXQgbm9PZkludm9pY2VzID0gZXh0cmFjdGVkRGF0YVsyXSA/IGV4dHJhY3RlZERhdGFbMl0ubWF0Y2goL1swLTldezEsfS8pIDogMDtcblxuICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xuICAgICAgICAvLyAgICAgbm9PZkludm9pY2VzID0gMDtcbiAgICAgICAgLy8gfVxuXG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICByZWFkT25seTogIV90aGlzLnByb3BzLnN1bW1hcnkuY3JlYXRlZCxcbiAgICAgICAgICAgIGlzRWRpdGluZzogX3RoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgcHJldkFtb3VudDogXCJcIixcbiAgICAgICAgICAgIGFtb3VudDogZXh0cmFjdGVkQW1vdW50ID8gZXh0cmFjdGVkQW1vdW50WzBdIDogX3RoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkID8gXCJcIiA6IDAsXG4gICAgICAgICAgICBzZWxlY3RlZERhdGU6IG5ldyBEYXRlKGV4dHJhY3RlZERhdGFbMV0pLFxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiBfdGhpcy5wcm9wcy5pbnZvaWNlQ291bnQsXG4gICAgICAgICAgICBvcGVuQWN0aW9uU2F2ZTogZmFsc2UsXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiLFxuICAgICAgICAgICAgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlLFxuICAgICAgICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxuICAgICAgICAgICAgYWN0aW9uSWQ6IF90aGlzLnByb3BzLnN1bW1hcnkuaWQsXG4gICAgICAgICAgICBpc0RvbmU6IF90aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSxcbiAgICAgICAgICAgIGZpbmFsU2VsZWN0ZWREYXRlOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUgPyAoMCwgX2RhdGVGbnMzLmZvcm1hdCkobmV3IERhdGUoZXh0cmFjdGVkRGF0YVsxXSksIFwiTU1NIGRkLCB5eXl5XCIpIDogXCJcIixcbiAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBleHRyYWN0ZWRBbW91bnQgPyAoXCJcIiArIGV4dHJhY3RlZEFtb3VudCkubGVuZ3RoICogMTIgOiAxNSxcbiAgICAgICAgICAgIGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UsXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBfdGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnLFxuICAgICAgICAgICAgaW52YWxpZERhdGFOb3RpZmllck1lc3NhZ2U6IFwiXCIsXG4gICAgICAgICAgICBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogZmFsc2UsXG4gICAgICAgICAgICBzdW1tYXJ5OiBfdGhpcy5wcm9wcy5zdW1tYXJ5LFxuICAgICAgICAgICAgaXNBbW91bnRJbnZhbGlkOiBleHRyYWN0ZWRBbW91bnQgPyBmYWxzZSA6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQMlAsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBuZXh0UHJvcHMuaW5jb3JyZWN0RmxhZ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHMuaW52b2ljZUNvdW50ID49IDAgJiYgbmV4dFByb3BzLmludm9pY2VDb3VudCAhPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlQ291bnQ6IG5leHRQcm9wcy5pbnZvaWNlQ291bnQgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5ID0gdGhpcy5wcm9wcy5zdW1tYXJ5O1xuICAgICAgICAgICAgdmFyIGZ1bGxTY3JlZW4gPSB0aGlzLnByb3BzLmZ1bGxTY3JlZW47XG5cblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZVNhbXBsZSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTAsIG1kOiAxMCwgbGc6IDEwLCBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnZmxleC1zdGFydCcgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgd2lkdGg6IFwiM3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aW9uU2F2ZVByb2dyZXNzQmFyICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25Qcm9ncmVzc0JhciB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Eb25lLCB7IHN0eWxlOiB7IGNvbG9yOiBcIiM1RkMzMkNcIiwgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIiwgaGVpZ2h0OiBcIjEuNXJlbVwiLCB3aWR0aDogXCIxLjVyZW1cIiB9IH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMSwgbWQ6IDExLCBsZzogMTEsIGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnk6ICdmbGV4LXN0YXJ0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGVkIFxceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGUgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250V2VpZ2h0OiBcImJvbGRcIiwgb3BhY2l0eTogMSB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1AyUCBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb2YgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgc3R5bGU6IHsgbWluV2lkdGg6IHRoaXMuc3RhdGUuaXNFZGl0aW5nID8gXCI3cmVtXCIgOiB0aGlzLnN0YXRlLmFtb3VudFRleHRGaWVsZFdpZHRoLCB3aWR0aDogdGhpcy5zdGF0ZS5pc0VkaXRpbmcgPyBcIjdyZW1cIiA6IHRoaXMuc3RhdGUuYW1vdW50VGV4dEZpZWxkV2lkdGgsIG1heFdpZHRoOiBcIjlyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRleHRGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuYW1vdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5oYW5kbGVJbnZvaWNlQ3VycmVuY3lDaGFuZ2UoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJ25vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICdub3JtYWwnLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgPyBjbGFzc2VzLnRlc3RJbml0aWFsIDogY2xhc3Nlcy50ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4odGhpcy5zdGF0ZS5yZWFkT25seSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRoaXMuc3RhdGUucmVhZE9ubHkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDb21wb25lbnQ6IHRoaXMuc3RhdGUuaXNFZGl0aW5nID8gTnVtYmVyRm9ybWF0Q3VzdG9tIDogdGhpcy5Gb3JtYXR0ZWRDdXJyZW5jeUlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkJvcmRlckNvbG9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25JY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5MZWZ0OiBcIjZweFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlRWRpdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNFZGl0aW5nICYmICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5IaWdobGlnaHRPZmYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpbkxlZnQ6IFwiMC40cmVtXCIsIGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICF0aGlzLnN0YXRlLnByZXZBbW91bnQgPyBjbGFzc2VzLmRpc2FibGVEb25lQnRuIDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICF0aGlzLnN0YXRlLnByZXZBbW91bnQgPyBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb24gOiB0aGlzLmRpc21pc3NBbW91bnRDaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuQ2hlY2tDaXJjbGVPdXRsaW5lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgPyBjbGFzc2VzLmRpc2FibGVEb25lQnRuIDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uIDogdGhpcy5zYXZlSW52b2ljZUFtb3VudENoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHhBMCB3aXRoIGR1ZSBkYXRlIG9mIFxceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZmluYWxTZWxlY3RlZERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBzdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgbWF4V2lkdGg6IFwiOGVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21hdGVyaWFsVWlQaWNrZXJzLk11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHV0aWxzOiBfZGF0ZUZuczIuZGVmYXVsdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLk11aVRoZW1lUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoZW1lOiBtYXRlcmlhbFRoZW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbWF0ZXJpYWxVaVBpY2tlcnMuRGF0ZVBpY2tlciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1heFdpZHRoOiBcIjUuMzVyZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBCb29sZWFuKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICdNTU0gZGQsIHl5eXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRhdGVNZXNzYWdlOiAnUHJldmlvdXMgZGF0ZSBub3QgYWNjZXB0YWJsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJkYXRlLWlucHV0LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKHRydWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5waWNrZXIgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZURhdGVDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbkNsaWNrPXtlID0+IGUucHJldmVudERlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGF0ZTogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuRGF0ZVJhbmdlLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25JY29uLCBvbkNsaWNrOiB0aGlzLm9wZW5QaWNrZXIgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGFsaWduOiAnbGVmdCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCAhPT0gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZGlzcGxheTogXCJmbGV4XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Rvd2FyZHNcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZm9udFdlaWdodDogJ2JvbGQnIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCwgb25DbGljazogdGhpcy5wcm9wcy50b2dnbGVFeHBhbmQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ICsgXCIgSW52b2ljZVwiICsgKHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMSA/IFwic1wiIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9FcnJvcjIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuZXJyb3JGbGFnIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbkFjdGlvblNhdmUsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VBY3Rpb25TYXZlRGlhbG9nLCB0aXRsZTogZGlzY2FyZE1lc3NhZ2UsIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nLCBjb2xvcjogJ3NlY29uZGFyeScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdEaXNhZ3JlZSdcbiAgICAgICAgICAgICAgICAgICAgKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZywgY29sb3I6ICdwcmltYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnQWdyZWUnXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHsgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZyxcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2csIHRpdGxlOiByZXNvbHZlTWVzc2FnZSwgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2csIGNvbG9yOiAnc2Vjb25kYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHsgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuSW52YWxpZERhdGFOb3RpZmllcixcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZUludmFsaWREYXRhTm90aWZpZXIsIHRpdGxlOiB0aGlzLnN0YXRlLmludmFsaWREYXRhTm90aWZpZXJNZXNzYWdlLCBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmNsb3NlSW52YWxpZERhdGFOb3RpZmllciwgY29sb3I6ICdzZWNvbmRhcnknLCBhdXRvRm9jdXM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdPSydcbiAgICAgICAgICAgICAgICAgICAgKV0gfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAyLCBtZDogMiwgbGc6IDIgfSxcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkhpZ2hsaWdodE9mZiwgeyBzdHlsZTogeyBjb2xvcjogXCIjRkY4ODg4XCIsIHBhZGRpbmc6IFwiMCAxLjNyZW0gMCAwLjhyZW1cIiB9LCBvbkNsaWNrOiB0aGlzLm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkNoZWNrQ2lyY2xlT3V0bGluZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIiM1RkMzMkNcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5jaGVja0ludmFsaWRhdGlvbigpID8gXCJcIiA6IGNsYXNzZXMuZGlzYWJsZURvbmVCdG4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jaGVja0ludmFsaWRhdGlvbigpID8gdGhpcy5zYXZlUDJQIDogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQMlA7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICB0aGlzLmhhbmRsZUludm9pY2VDdXJyZW5jeUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhbW91bnRUZXh0RmllbGRXaWR0aDogZXZlbnQudGFyZ2V0LnZhbHVlID8gKFwiXCIgKyBldmVudC50YXJnZXQudmFsdWUubGVuZ3RoKSAqIDEyIDogNTAsXG4gICAgICAgICAgICBhbW91bnQ6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgIGFtb3VudEZvcm1hdHRlZDogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgaXNBbW91bnRJbnZhbGlkOiBmYWxzZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzNC5zdGF0ZS5hbW91bnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBpc0Ftb3VudEludmFsaWQ6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5EYXRhSW52YWxpZERpYWxvZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogdHJ1ZSxcbiAgICAgICAgICAgIGludmFsaWREYXRhTm90aWZpZXJNZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlSW52YWxpZERhdGFOb3RpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgb3BlbkludmFsaWREYXRhTm90aWZpZXI6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlU25hY2tiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudmFsaWRhdGVQMlBEYXRhID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBhbW91bnQgPSBfdGhpczQuc3RhdGUuYW1vdW50O1xuXG4gICAgICAgIGlmIChOdW1iZXIoYW1vdW50KSA8IDEpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuRGF0YUludmFsaWREaWFsb2coXCJQbGVhc2UgZW50ZXIgYW1vdW50ID4gMC5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISgwLCBfaGVscGVyLmlzVmFsaWREYXRlKShfdGhpczQuc3RhdGUuc2VsZWN0ZWREYXRlKSkge1xuICAgICAgICAgICAgX3RoaXM0Lm9wZW5EYXRhSW52YWxpZERpYWxvZyhcIkZvdW5kIGludmFsaWQgZGF0ZS4gUGxlYXNlIGNvcnJlY3QgdGhlIGRhdGUgdG8gcHJvY2VlZC5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5jaGVja0ludmFsaWRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICFfdGhpczQuc3RhdGUuaXNBbW91bnRJbnZhbGlkICYmICFfdGhpczQuc3RhdGUuaW5jb3JyZWN0RmxhZyAmJiAoMCwgX2hlbHBlci5pc1ZhbGlkRGF0ZSkoX3RoaXM0LnN0YXRlLnNlbGVjdGVkRGF0ZSk7XG4gICAgfTtcblxuICAgIHRoaXMuc2F2ZVAyUCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIV90aGlzNC52YWxpZGF0ZVAyUERhdGEoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGNvbnRhY3RJZCk7XG4gICAgICAgIHZhciBjb250YWN0SWQgPSBfdGhpczQucHJvcHMuY29udGFjdExvZy5jb250YWN0ICE9PSBudWxsID8gX3RoaXM0LnByb3BzLmNvbnRhY3RMb2cuY29udGFjdC5pZCA6IG51bGw7XG4gICAgICAgIHZhciBwaG9uZU51bWJlciA9IF90aGlzNC5wcm9wcy5jb250YWN0TG9nLmNhbGxpbmdOdW1iZXI7XG4gICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzNC5wcm9wcy5jb3JyZWN0SW52b2ljZXMubWFwKGZ1bmN0aW9uIChpbnZvaWNlKSB7XG4gICAgICAgICAgICB2YXIgaW52b2ljZU9iaiA9IHt9O1xuICAgICAgICAgICAgaW52b2ljZU9iai5jbXNEb2NIZWFkZXJJZCA9IGludm9pY2UuaWQ7XG4gICAgICAgICAgICByZXR1cm4gaW52b2ljZU9iajtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKF90aGlzNC5zdGF0ZS5pbmNvcnJlY3RGbGFnKSB7XG4gICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSwgaXNFZGl0aW5nOiBmYWxzZSwgcmVhZE9ubHk6IHRydWUgfSk7XG4gICAgICAgIHZhciByZXFPYmogPSB7XG4gICAgICAgICAgICBjb21taXR0ZWRBbW91bnQ6IF90aGlzNC5zdGF0ZS5hbW91bnQsXG4gICAgICAgICAgICBjb21taXR0ZWRCeToge1xuICAgICAgICAgICAgICAgIGlkOiBjb250YWN0SWQsXG4gICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHBob25lTnVtYmVyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tbWl0dGVkRGF0ZTogbmV3IERhdGUoX3RoaXM0LnN0YXRlLnNlbGVjdGVkRGF0ZSksXG4gICAgICAgICAgICBjb21taXR0ZWRPbjogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGN1cnJlbmN5OiBcIiRcIixcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IF90aGlzNC5wcm9wcy5jdXN0b21lci5pZCxcbiAgICAgICAgICAgIHBjSXRlbXM6IGludm9pY2VzXG4gICAgICAgIH07XG5cbiAgICAgICAgX2F4aW9zMi5kZWZhdWx0LnBvc3QoX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyAnL2N1c3RvbWVyLycgKyBfdGhpczQucHJvcHMuY3VzdG9tZXIuaWQgKyAnL3AycCcsIHJlcU9iaikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlNVQ0NFU1NcIik7XG4gICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBmaW5hbFNlbGVjdGVkRGF0ZTogX3RoaXM0LmdldERhdGVGaWVsZFZhbHVlKCkgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBpc0RvbmU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbCBcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5VG9TYXZlID0gX3RoaXM0LmdlbmVyYXRlQWN0aW9uU3VtbWFyeSgpO1xuICAgICAgICAgICAgX3RoaXM0LnByb3BzLm9uQ29tcGxldGlvbigpO1xuICAgICAgICAgICAgX3RoaXM0LnByb3BzLm9uQWN0aW9uSXRlbUNvbmZpcm0oc3VtbWFyeVRvU2F2ZSk7XG4gICAgICAgICAgICBfdGhpczQudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVSUk9SXCIpO1xuICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSwgaXNEb25lOiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBpbnZvaWNlQ291bnQgPSBfdGhpczQuc3RhdGUuaW52b2ljZUNvdW50O1xuICAgICAgICB2YXIgZGF0ZSA9IF90aGlzNC5zdGF0ZS5zZWxlY3RlZERhdGU7XG4gICAgICAgIHZhciBmb3JtYXR0ZWREYXRlID0gKDAsIF9kYXRlRm5zMy5mb3JtYXQpKGRhdGUsIFwiTU0tZGQteXl5eVwiKTtcblxuICAgICAgICB2YXIgZ2VuZXJhdGVkU3VtbWFyeSA9IFAyUFRlbXBsYXRlLnJlcGxhY2UoXCI8QW1vdW50PlwiLCBcIiRcIiArICgwLCBfaGVscGVyLmZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCkoX3RoaXM0LnN0YXRlLmFtb3VudCkpLnJlcGxhY2UoXCI8RGF0ZT5cIiwgZm9ybWF0dGVkRGF0ZSkucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgaW52b2ljZUNvdW50ID09PSAwID8gXCJcIiA6IGludm9pY2VDb3VudCA9PT0gMSA/IFwiZm9yIFwiICsgaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZVwiIDogXCJmb3IgXCIgKyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlc1wiKTtcblxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkU3VtbWFyeTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIF90aGlzNC5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kaXNtaXNzQW1vdW50Q2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IF90aGlzNC5zdGF0ZTtcbiAgICAgICAgdmFyIGFtb3VudFRleHRGaWVsZExlbmd0aCA9ICgwLCBfZm9ybWF0dGVyLmN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyKShfdGhpczQuc3RhdGUuYW1vdW50KS5sZW5ndGg7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhbW91bnQ6IGN1cnJlbnRTdGF0ZS5wcmV2QW1vdW50LFxuICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGFtb3VudFRleHRGaWVsZExlbmd0aCAqIDQuNVxuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIF90aGlzNC5zdGF0ZS5hY3Rpb25JZCkuYmx1cigpO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5QaWNrZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBfdGhpczQucGlja2VyLm9wZW4oZSk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlU3VtbWFyeSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgaW52b2ljZUNvdW50ID0gX3RoaXM0LnN0YXRlLmludm9pY2VDb3VudDtcbiAgICAgICAgdmFyIGZvcm1hdHRlZERhdGUgPSAoMCwgX2hlbHBlci5mb3JtYXREYXRlV2l0aFRpbWV6b25lKShuZXcgRGF0ZShfdGhpczQuc3RhdGUuc2VsZWN0ZWREYXRlKSwgXCItMDY6MDBcIik7XG4gICAgICAgIHZhciB1cGRhdGVkU3VtbWFyeSA9IFAyUF9PUklHX1RFTVBMQVRFLnJlcGxhY2UoXCI8QW1vdW50PlwiLCBfdGhpczQuc3RhdGUuYW1vdW50ID8gX3RoaXM0LnN0YXRlLmFtb3VudCA6IFwiPGFtb3VudC1vZi1tb25leT5cIikucmVwbGFjZShcIjxEYXRlPlwiLCBmb3JtYXR0ZWREYXRlKS5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCBpbnZvaWNlQ291bnQgPT09IDAgPyBcIjxYIGludm9pY2VzPlwiIDogaW52b2ljZUNvdW50ID09PSAxID8gaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZVwiIDogaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIik7XG4gICAgICAgIF90aGlzNC5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpO1xuICAgIH07XG5cbiAgICB0aGlzLnNhdmVJbnZvaWNlQW1vdW50Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBhbW91bnRUZXh0RmllbGRMZW5ndGggPSAoMCwgX2Zvcm1hdHRlci5jdXN0b21DdXJyZW5jeUZvcm1hdHRlcikoX3RoaXM0LnN0YXRlLmFtb3VudCkubGVuZ3RoO1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcHJldkFtb3VudDogX3RoaXM0LnN0YXRlLmFtb3VudCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBhbW91bnRUZXh0RmllbGRMZW5ndGggKiA0LjVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM0LnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyBfdGhpczQuc3RhdGUuYWN0aW9uSWQpLmJsdXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuQWN0aW9uRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczQucHJvcHMuZGVsZXRlQWN0aW9uKF90aGlzNC5zdGF0ZS5hY3Rpb25JZCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZUVkaXRpbmcgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyByZWFkT25seTogZmFsc2UsIGlzRWRpdGluZzogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgX3RoaXM0LnN0YXRlLmFjdGlvbklkKS5mb2N1cygpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVEYXRlQ2hhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgc2VsZWN0ZWREYXRlOiBkYXRlIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdldERhdGVGaWVsZFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaWQgPSBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyBfdGhpczQuc3RhdGUuYWN0aW9uSWQ7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWU7XG4gICAgfTtcblxuICAgIHRoaXMuRm9ybWF0dGVkQ3VycmVuY3lJbnB1dCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB2YXIgaW5wdXRSZWYgPSBwcm9wcy5pbnB1dFJlZixcbiAgICAgICAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgWydpbnB1dFJlZicsICdvbkNoYW5nZSddKTtcblxuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0TnVtYmVyRm9ybWF0Mi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgb3RoZXIsIHtcbiAgICAgICAgICAgIGdldElucHV0UmVmOiBpbnB1dFJlZixcbiAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmFsdWVDaGFuZ2UodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXMudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KGFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9mb3JtYXR0ZXIuY3VzdG9tQ3VycmVuY3lGb3JtYXR0ZXIpKF90aGlzNC5zdGF0ZS5hbW91bnQsIFwiJFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWNpbWFsU2NhbGU6IDgsXG4gICAgICAgICAgICBhbGxvd05lZ2F0aXZlOiBmYWxzZVxuICAgICAgICB9KSk7XG4gICAgfTtcbn07XG5cbmZ1bmN0aW9uIE51bWJlckZvcm1hdEN1c3RvbShwcm9wcykge1xuICAgIHZhciBpbnB1dFJlZiA9IHByb3BzLmlucHV0UmVmLFxuICAgICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgWydpbnB1dFJlZicsICdvbkNoYW5nZSddKTtcblxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3ROdW1iZXJGb3JtYXQyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCBvdGhlciwge1xuICAgICAgICBnZXRJbnB1dFJlZjogaW5wdXRSZWYsXG4gICAgICAgIG9uVmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmFsdWVDaGFuZ2UodmFsdWVzKSB7XG4gICAgICAgICAgICBvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXMudmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3I6IHRydWUsXG4gICAgICAgIHByZWZpeDogJyQnLFxuICAgICAgICBhbGxvd05lZ2F0aXZlOiBmYWxzZSxcbiAgICAgICAgZGVjaW1hbFNjYWxlOiA4XG4gICAgfSkpO1xufVxuXG5OdW1iZXJGb3JtYXRDdXN0b20ucHJvcFR5cGVzID0ge1xuICAgIGlucHV0UmVmOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWRcbn07XG5cblAyUC5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShQMlApO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYlwiXSA9IF9fZXh0ZW5kcztcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19hc3NpZ247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImNcIl0gPSBfX3Jlc3Q7XG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19kZWNvcmF0ZSAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fcGFyYW0gKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX21ldGFkYXRhICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19hd2FpdGVyICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19nZW5lcmF0b3IgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX2V4cG9ydFN0YXIgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX3ZhbHVlcyAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fcmVhZCAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fc3ByZWFkICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19hd2FpdCAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fYXN5bmNHZW5lcmF0b3IgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX2FzeW5jRGVsZWdhdG9yICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19hc3luY1ZhbHVlcyAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fbWFrZVRlbXBsYXRlT2JqZWN0ICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19pbXBvcnRTdGFyICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19pbXBvcnREZWZhdWx0ICovXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDk0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4hZnVuY3Rpb24oZSx0KXsgdHJ1ZT9tb2R1bGUuZXhwb3J0cz10KF9fd2VicGFja19yZXF1aXJlX18oMCkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicmVhY3RcIl0sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5yZWFjdFRleHRNYXNrPXQocmVxdWlyZShcInJlYWN0XCIpKTplLnJlYWN0VGV4dE1hc2s9dChlLlJlYWN0KX0odGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuKXtpZihyW25dKXJldHVybiByW25dLmV4cG9ydHM7dmFyIG89cltuXT17ZXhwb3J0czp7fSxpZDpuLGxvYWRlZDohMX07cmV0dXJuIGVbbl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsdCksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciByPXt9O3JldHVybiB0Lm09ZSx0LmM9cix0LnA9XCJcIix0KDApfShbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj17fTtmb3IodmFyIG4gaW4gZSl0LmluZGV4T2Yobik+PTB8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYocltuXT1lW25dKTtyZXR1cm4gcn1mdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gdShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY29uZm9ybVRvTWFzaz12b2lkIDA7dmFyIGw9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0scz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLGY9cigyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNvbmZvcm1Ub01hc2tcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihmKS5kZWZhdWx0fX0pO3ZhciBjPXIoMTEpLHA9bihjKSxkPXIoOSksaD1uKGQpLHY9cig1KSx5PW4odiksbT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU7aSh0aGlzLHQpO2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkociksbz0wO288cjtvKyspbltvXT1hcmd1bWVudHNbb107dmFyIHU9YSh0aGlzLChlPXQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KG4pKSk7cmV0dXJuIHUub25CbHVyPXUub25CbHVyLmJpbmQodSksdS5vbkNoYW5nZT11Lm9uQ2hhbmdlLmJpbmQodSksdX1yZXR1cm4gdSh0LGUpLHModCxbe2tleTpcImluaXRUZXh0TWFza1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PXRoaXMucHJvcHMudmFsdWU7dGhpcy50ZXh0TWFza0lucHV0RWxlbWVudD0oMCx5LmRlZmF1bHQpKGwoe2lucHV0RWxlbWVudDp0aGlzLmlucHV0RWxlbWVudH0sZSkpLHRoaXMudGV4dE1hc2tJbnB1dEVsZW1lbnQudXBkYXRlKHQpfX0se2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmluaXRUZXh0TWFzaygpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbml0VGV4dE1hc2soKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbiBlKCl7dmFyIHQ9dGhpcyxyPXRoaXMucHJvcHMsZT1yLnJlbmRlcixuPW8ocixbXCJyZW5kZXJcIl0pO2RlbGV0ZSBuLm1hc2ssZGVsZXRlIG4uZ3VpZGUsZGVsZXRlIG4ucGlwZSxkZWxldGUgbi5wbGFjZWhvbGRlckNoYXIsZGVsZXRlIG4ua2VlcENoYXJQb3NpdGlvbnMsZGVsZXRlIG4udmFsdWUsZGVsZXRlIG4ub25CbHVyLGRlbGV0ZSBuLm9uQ2hhbmdlLGRlbGV0ZSBuLnNob3dNYXNrO3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiB0LmlucHV0RWxlbWVudD1lfTtyZXR1cm4gZShpLGwoe29uQmx1cjp0aGlzLm9uQmx1cixvbkNoYW5nZTp0aGlzLm9uQ2hhbmdlLGRlZmF1bHRWYWx1ZTp0aGlzLnByb3BzLnZhbHVlfSxuKSl9fSx7a2V5Olwib25DaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnRleHRNYXNrSW5wdXRFbGVtZW50LnVwZGF0ZSgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMucHJvcHMub25DaGFuZ2UmJnRoaXMucHJvcHMub25DaGFuZ2UoZSl9fSx7a2V5Olwib25CbHVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5wcm9wcy5vbkJsdXImJnRoaXMucHJvcHMub25CbHVyKGUpfX1dKSx0fShwLmRlZmF1bHQuQ29tcG9uZW50KTt0LmRlZmF1bHQ9bSxtLnByb3BUeXBlcz17bWFzazpoLmRlZmF1bHQub25lT2ZUeXBlKFtoLmRlZmF1bHQuYXJyYXksaC5kZWZhdWx0LmZ1bmMsaC5kZWZhdWx0LmJvb2wsaC5kZWZhdWx0LnNoYXBlKHttYXNrOmguZGVmYXVsdC5vbmVPZlR5cGUoW2guZGVmYXVsdC5hcnJheSxoLmRlZmF1bHQuZnVuY10pLHBpcGU6aC5kZWZhdWx0LmZ1bmN9KV0pLmlzUmVxdWlyZWQsZ3VpZGU6aC5kZWZhdWx0LmJvb2wsdmFsdWU6aC5kZWZhdWx0Lm9uZU9mVHlwZShbaC5kZWZhdWx0LnN0cmluZyxoLmRlZmF1bHQubnVtYmVyXSkscGlwZTpoLmRlZmF1bHQuZnVuYyxwbGFjZWhvbGRlckNoYXI6aC5kZWZhdWx0LnN0cmluZyxrZWVwQ2hhclBvc2l0aW9uczpoLmRlZmF1bHQuYm9vbCxzaG93TWFzazpoLmRlZmF1bHQuYm9vbH0sbS5kZWZhdWx0UHJvcHM9e3JlbmRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBwLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsbCh7cmVmOmV9LHQpKX19fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQucGxhY2Vob2xkZXJDaGFyPVwiX1wiLHQuc3RyRnVuY3Rpb249XCJmdW5jdGlvblwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpsLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnUscj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307aWYoISgwLGkuaXNBcnJheSkodCkpe2lmKChcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOm8odCkpIT09YS5zdHJGdW5jdGlvbil0aHJvdyBuZXcgRXJyb3IoXCJUZXh0LW1hc2s6Y29uZm9ybVRvTWFzazsgVGhlIG1hc2sgcHJvcGVydHkgbXVzdCBiZSBhbiBhcnJheS5cIik7dD10KGUsciksdD0oMCxpLnByb2Nlc3NDYXJldFRyYXBzKSh0KS5tYXNrV2l0aG91dENhcmV0VHJhcHN9dmFyIG49ci5ndWlkZSxzPXZvaWQgMD09PW58fG4sZj1yLnByZXZpb3VzQ29uZm9ybWVkVmFsdWUsYz12b2lkIDA9PT1mP2w6ZixwPXIucGxhY2Vob2xkZXJDaGFyLGQ9dm9pZCAwPT09cD9hLnBsYWNlaG9sZGVyQ2hhcjpwLGg9ci5wbGFjZWhvbGRlcix2PXZvaWQgMD09PWg/KDAsaS5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXIpKHQsZCk6aCx5PXIuY3VycmVudENhcmV0UG9zaXRpb24sbT1yLmtlZXBDaGFyUG9zaXRpb25zLGI9cz09PSExJiZ2b2lkIDAhPT1jLGc9ZS5sZW5ndGgsaz1jLmxlbmd0aCxDPXYubGVuZ3RoLE89dC5sZW5ndGgsVD1nLWssUD1UPjAseD15KyhQPy1UOjApLHc9eCtNYXRoLmFicyhUKTtpZihtPT09ITAmJiFQKXtmb3IodmFyIF89bCxNPXg7TTx3O00rKyl2W01dPT09ZCYmKF8rPWQpO2U9ZS5zbGljZSgwLHgpK18rZS5zbGljZSh4LGcpfWZvcih2YXIgUz1lLnNwbGl0KGwpLm1hcChmdW5jdGlvbihlLHQpe3JldHVybntjaGFyOmUsaXNOZXc6dD49eCYmdDx3fX0pLGo9Zy0xO2o+PTA7ai0tKXt2YXIgRT1TW2pdLmNoYXI7aWYoRSE9PWQpe3ZhciBSPWo+PXgmJms9PT1PO0U9PT12W1I/ai1UOmpdJiZTLnNwbGljZShqLDEpfX12YXIgVj1sLEE9ITE7ZTpmb3IodmFyIE49MDtOPEM7TisrKXt2YXIgQj12W05dO2lmKEI9PT1kKXtpZihTLmxlbmd0aD4wKWZvcig7Uy5sZW5ndGg+MDspe3ZhciBJPVMuc2hpZnQoKSxGPUkuY2hhcixxPUkuaXNOZXc7aWYoRj09PWQmJmIhPT0hMCl7Vis9ZDtjb250aW51ZSBlfWlmKHRbTl0udGVzdChGKSl7aWYobT09PSEwJiZxIT09ITEmJmMhPT1sJiZzIT09ITEmJlApe2Zvcih2YXIgRD1TLmxlbmd0aCxMPW51bGwsVz0wO1c8RDtXKyspe3ZhciBKPVNbV107aWYoSi5jaGFyIT09ZCYmSi5pc05ldz09PSExKWJyZWFrO2lmKEouY2hhcj09PWQpe0w9VzticmVha319bnVsbCE9PUw/KFYrPUYsUy5zcGxpY2UoTCwxKSk6Ti0tfWVsc2UgVis9Rjtjb250aW51ZSBlfUE9ITB9Yj09PSExJiYoVis9di5zdWJzdHIoTixDKSk7YnJlYWt9Vis9Qn1pZihiJiZQPT09ITEpe2Zvcih2YXIgVT1udWxsLEg9MDtIPFYubGVuZ3RoO0grKyl2W0hdPT09ZCYmKFU9SCk7Vj1udWxsIT09VT9WLnN1YnN0cigwLFUrMSk6bH1yZXR1cm57Y29uZm9ybWVkVmFsdWU6VixtZXRhOntzb21lQ2hhcnNSZWplY3RlZDpBfX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07dC5kZWZhdWx0PW47dmFyIGk9cigzKSxhPXIoMSksdT1bXSxsPVwiXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnMsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bC5wbGFjZWhvbGRlckNoYXI7aWYoIW8oZSkpdGhyb3cgbmV3IEVycm9yKFwiVGV4dC1tYXNrOmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcjsgVGhlIG1hc2sgcHJvcGVydHkgbXVzdCBiZSBhbiBhcnJheS5cIik7aWYoZS5pbmRleE9mKHQpIT09LTEpdGhyb3cgbmV3IEVycm9yKFwiUGxhY2Vob2xkZXIgY2hhcmFjdGVyIG11c3Qgbm90IGJlIHVzZWQgYXMgcGFydCBvZiB0aGUgbWFzay4gUGxlYXNlIHNwZWNpZnkgYSBjaGFyYWN0ZXIgdGhhdCBpcyBub3QgcHJlc2VudCBpbiB5b3VyIG1hc2sgYXMgeW91ciBwbGFjZWhvbGRlciBjaGFyYWN0ZXIuXFxuXFxuXCIrKFwiVGhlIHBsYWNlaG9sZGVyIGNoYXJhY3RlciB0aGF0IHdhcyByZWNlaXZlZCBpczogXCIrSlNPTi5zdHJpbmdpZnkodCkrXCJcXG5cXG5cIikrKFwiVGhlIG1hc2sgdGhhdCB3YXMgcmVjZWl2ZWQgaXM6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSk7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgUmVnRXhwP3Q6ZX0pLmpvaW4oXCJcIil9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSYmQXJyYXkuaXNBcnJheShlKXx8ZSBpbnN0YW5jZW9mIEFycmF5fWZ1bmN0aW9uIGkoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBTdHJpbmd9ZnVuY3Rpb24gYShlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmdm9pZCAwPT09ZS5sZW5ndGgmJiFpc05hTihlKX1mdW5jdGlvbiB1KGUpe2Zvcih2YXIgdD1bXSxyPXZvaWQgMDtyPWUuaW5kZXhPZihmKSxyIT09LTE7KXQucHVzaChyKSxlLnNwbGljZShyLDEpO3JldHVybnttYXNrV2l0aG91dENhcmV0VHJhcHM6ZSxpbmRleGVzOnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY29udmVydE1hc2tUb1BsYWNlaG9sZGVyPW4sdC5pc0FycmF5PW8sdC5pc1N0cmluZz1pLHQuaXNOdW1iZXI9YSx0LnByb2Nlc3NDYXJldFRyYXBzPXU7dmFyIGw9cigxKSxzPVtdLGY9XCJbXVwifSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7dmFyIHQ9ZS5wcmV2aW91c0NvbmZvcm1lZFZhbHVlLHI9dm9pZCAwPT09dD9vOnQsaT1lLnByZXZpb3VzUGxhY2Vob2xkZXIsYT12b2lkIDA9PT1pP286aSx1PWUuY3VycmVudENhcmV0UG9zaXRpb24sbD12b2lkIDA9PT11PzA6dSxzPWUuY29uZm9ybWVkVmFsdWUsZj1lLnJhd1ZhbHVlLGM9ZS5wbGFjZWhvbGRlckNoYXIscD1lLnBsYWNlaG9sZGVyLGQ9ZS5pbmRleGVzT2ZQaXBlZENoYXJzLGg9dm9pZCAwPT09ZD9uOmQsdj1lLmNhcmV0VHJhcEluZGV4ZXMseT12b2lkIDA9PT12P246djtpZigwPT09bHx8IWYubGVuZ3RoKXJldHVybiAwO3ZhciBtPWYubGVuZ3RoLGI9ci5sZW5ndGgsZz1wLmxlbmd0aCxrPXMubGVuZ3RoLEM9bS1iLE89Qz4wLFQ9MD09PWIsUD1DPjEmJiFPJiYhVDtpZihQKXJldHVybiBsO3ZhciB4PU8mJihyPT09c3x8cz09PXApLHc9MCxfPXZvaWQgMCxNPXZvaWQgMDtpZih4KXc9bC1DO2Vsc2V7dmFyIFM9cy50b0xvd2VyQ2FzZSgpLGo9Zi50b0xvd2VyQ2FzZSgpLEU9ai5zdWJzdHIoMCxsKS5zcGxpdChvKSxSPUUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBTLmluZGV4T2YoZSkhPT0tMX0pO009UltSLmxlbmd0aC0xXTt2YXIgVj1hLnN1YnN0cigwLFIubGVuZ3RoKS5zcGxpdChvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1jfSkubGVuZ3RoLEE9cC5zdWJzdHIoMCxSLmxlbmd0aCkuc3BsaXQobykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09Y30pLmxlbmd0aCxOPUEhPT1WLEI9dm9pZCAwIT09YVtSLmxlbmd0aC0xXSYmdm9pZCAwIT09cFtSLmxlbmd0aC0yXSYmYVtSLmxlbmd0aC0xXSE9PWMmJmFbUi5sZW5ndGgtMV0hPT1wW1IubGVuZ3RoLTFdJiZhW1IubGVuZ3RoLTFdPT09cFtSLmxlbmd0aC0yXTshTyYmKE58fEIpJiZWPjAmJnAuaW5kZXhPZihNKT4tMSYmdm9pZCAwIT09ZltsXSYmKF89ITAsTT1mW2xdKTtmb3IodmFyIEk9aC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFNbZV19KSxGPUkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09TX0pLmxlbmd0aCxxPVIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09TX0pLmxlbmd0aCxEPXAuc3Vic3RyKDAscC5pbmRleE9mKGMpKS5zcGxpdChvKS5maWx0ZXIoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PU0mJmZbdF0hPT1lfSkubGVuZ3RoLEw9RCtxK0YrKF8/MTowKSxXPTAsSj0wO0o8aztKKyspe3ZhciBVPVNbSl07aWYodz1KKzEsVT09PU0mJlcrKyxXPj1MKWJyZWFrfX1pZihPKXtmb3IodmFyIEg9dyxZPXc7WTw9ZztZKyspaWYocFtZXT09PWMmJihIPVkpLHBbWV09PT1jfHx5LmluZGV4T2YoWSkhPT0tMXx8WT09PWcpcmV0dXJuIEh9ZWxzZSBpZihfKXtmb3IodmFyIHo9dy0xO3o+PTA7ei0tKWlmKHNbel09PT1NfHx5LmluZGV4T2YoeikhPT0tMXx8MD09PXopcmV0dXJuIHp9ZWxzZSBmb3IodmFyIEc9dztHPj0wO0ctLSlpZihwW0ctMV09PT1jfHx5LmluZGV4T2YoRykhPT0tMXx8MD09PUcpcmV0dXJuIEd9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXI7dmFyIG49W10sbz1cIlwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbyhlKXt2YXIgdD17cHJldmlvdXNDb25mb3JtZWRWYWx1ZTp2b2lkIDAscHJldmlvdXNQbGFjZWhvbGRlcjp2b2lkIDB9O3JldHVybntzdGF0ZTp0LHVwZGF0ZTpmdW5jdGlvbihyKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZSxvPW4uaW5wdXRFbGVtZW50LHM9bi5tYXNrLGM9bi5ndWlkZSx5PW4ucGlwZSxiPW4ucGxhY2Vob2xkZXJDaGFyLGc9dm9pZCAwPT09Yj9oLnBsYWNlaG9sZGVyQ2hhcjpiLGs9bi5rZWVwQ2hhclBvc2l0aW9ucyxDPXZvaWQgMCE9PWsmJmssTz1uLnNob3dNYXNrLFQ9dm9pZCAwIT09TyYmTztpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgciYmKHI9by52YWx1ZSksciE9PXQucHJldmlvdXNDb25mb3JtZWRWYWx1ZSl7KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzP1widW5kZWZpbmVkXCI6bChzKSk9PT1tJiZ2b2lkIDAhPT1zLnBpcGUmJnZvaWQgMCE9PXMubWFzayYmKHk9cy5waXBlLHM9cy5tYXNrKTt2YXIgUD12b2lkIDAseD12b2lkIDA7aWYocyBpbnN0YW5jZW9mIEFycmF5JiYoUD0oMCxkLmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcikocyxnKSkscyE9PSExKXt2YXIgdz1hKHIpLF89by5zZWxlY3Rpb25FbmQsTT10LnByZXZpb3VzQ29uZm9ybWVkVmFsdWUsUz10LnByZXZpb3VzUGxhY2Vob2xkZXIsaj12b2lkIDA7aWYoKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzP1widW5kZWZpbmVkXCI6bChzKSk9PT1oLnN0ckZ1bmN0aW9uKXtpZih4PXModyx7Y3VycmVudENhcmV0UG9zaXRpb246XyxwcmV2aW91c0NvbmZvcm1lZFZhbHVlOk0scGxhY2Vob2xkZXJDaGFyOmd9KSx4PT09ITEpcmV0dXJuO3ZhciBFPSgwLGQucHJvY2Vzc0NhcmV0VHJhcHMpKHgpLFI9RS5tYXNrV2l0aG91dENhcmV0VHJhcHMsVj1FLmluZGV4ZXM7eD1SLGo9VixQPSgwLGQuY29udmVydE1hc2tUb1BsYWNlaG9sZGVyKSh4LGcpfWVsc2UgeD1zO3ZhciBBPXtwcmV2aW91c0NvbmZvcm1lZFZhbHVlOk0sZ3VpZGU6YyxwbGFjZWhvbGRlckNoYXI6ZyxwaXBlOnkscGxhY2Vob2xkZXI6UCxjdXJyZW50Q2FyZXRQb3NpdGlvbjpfLGtlZXBDaGFyUG9zaXRpb25zOkN9LE49KDAscC5kZWZhdWx0KSh3LHgsQSksQj1OLmNvbmZvcm1lZFZhbHVlLEk9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB5P1widW5kZWZpbmVkXCI6bCh5KSk9PT1oLnN0ckZ1bmN0aW9uLEY9e307SSYmKEY9eShCLHUoe3Jhd1ZhbHVlOnd9LEEpKSxGPT09ITE/Rj17dmFsdWU6TSxyZWplY3RlZDohMH06KDAsZC5pc1N0cmluZykoRikmJihGPXt2YWx1ZTpGfSkpO3ZhciBxPUk/Ri52YWx1ZTpCLEQ9KDAsZi5kZWZhdWx0KSh7cHJldmlvdXNDb25mb3JtZWRWYWx1ZTpNLHByZXZpb3VzUGxhY2Vob2xkZXI6Uyxjb25mb3JtZWRWYWx1ZTpxLHBsYWNlaG9sZGVyOlAscmF3VmFsdWU6dyxjdXJyZW50Q2FyZXRQb3NpdGlvbjpfLHBsYWNlaG9sZGVyQ2hhcjpnLGluZGV4ZXNPZlBpcGVkQ2hhcnM6Ri5pbmRleGVzT2ZQaXBlZENoYXJzLGNhcmV0VHJhcEluZGV4ZXM6an0pLEw9cT09PVAmJjA9PT1ELFc9VD9QOnYsSj1MP1c6cTt0LnByZXZpb3VzQ29uZm9ybWVkVmFsdWU9Six0LnByZXZpb3VzUGxhY2Vob2xkZXI9UCxvLnZhbHVlIT09SiYmKG8udmFsdWU9SixpKG8sRCkpfX19fX1mdW5jdGlvbiBpKGUsdCl7ZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09PWUmJihiP2coZnVuY3Rpb24oKXtyZXR1cm4gZS5zZXRTZWxlY3Rpb25SYW5nZSh0LHQseSl9LDApOmUuc2V0U2VsZWN0aW9uUmFuZ2UodCx0LHkpKX1mdW5jdGlvbiBhKGUpe2lmKCgwLGQuaXNTdHJpbmcpKGUpKXJldHVybiBlO2lmKCgwLGQuaXNOdW1iZXIpKGUpKXJldHVybiBTdHJpbmcoZSk7aWYodm9pZCAwPT09ZXx8bnVsbD09PWUpcmV0dXJuIHY7dGhyb3cgbmV3IEVycm9yKFwiVGhlICd2YWx1ZScgcHJvdmlkZWQgdG8gVGV4dCBNYXNrIG5lZWRzIHRvIGJlIGEgc3RyaW5nIG9yIGEgbnVtYmVyLiBUaGUgdmFsdWUgcmVjZWl2ZWQgd2FzOlxcblxcbiBcIitKU09OLnN0cmluZ2lmeShlKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0sbD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTt0LmRlZmF1bHQ9bzt2YXIgcz1yKDQpLGY9bihzKSxjPXIoMikscD1uKGMpLGQ9cigzKSxoPXIoMSksdj1cIlwiLHk9XCJub25lXCIsbT1cIm9iamVjdFwiLGI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL0FuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZT9yZXF1ZXN0QW5pbWF0aW9uRnJhbWU6c2V0VGltZW91dH0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlfX12YXIgbj1mdW5jdGlvbigpe307bi50aGF0UmV0dXJucz1yLG4udGhhdFJldHVybnNGYWxzZT1yKCExKSxuLnRoYXRSZXR1cm5zVHJ1ZT1yKCEwKSxuLnRoYXRSZXR1cm5zTnVsbD1yKG51bGwpLG4udGhhdFJldHVybnNUaGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LG4udGhhdFJldHVybnNBcmd1bWVudD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCxyLG4saSxhLHUsbCl7aWYobyh0KSwhZSl7dmFyIHM7aWYodm9pZCAwPT09dClzPW5ldyBFcnJvcihcIk1pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50IGZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuXCIpO2Vsc2V7dmFyIGY9W3IsbixpLGEsdSxsXSxjPTA7cz1uZXcgRXJyb3IodC5yZXBsYWNlKC8lcy9nLGZ1bmN0aW9uKCl7cmV0dXJuIGZbYysrXX0pKSxzLm5hbWU9XCJJbnZhcmlhbnQgVmlvbGF0aW9uXCJ9dGhyb3cgcy5mcmFtZXNUb1BvcD0xLHN9fXZhciBvPWZ1bmN0aW9uKGUpe307ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDYpLG89cig3KSxpPXIoMTApO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsbixhLHUpe3UhPT1pJiZvKCExLFwiQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlc1wiKX1mdW5jdGlvbiB0KCl7cmV0dXJuIGV9ZS5pc1JlcXVpcmVkPWU7dmFyIHI9e2FycmF5OmUsYm9vbDplLGZ1bmM6ZSxudW1iZXI6ZSxvYmplY3Q6ZSxzdHJpbmc6ZSxzeW1ib2w6ZSxhbnk6ZSxhcnJheU9mOnQsZWxlbWVudDplLGluc3RhbmNlT2Y6dCxub2RlOmUsb2JqZWN0T2Y6dCxvbmVPZjp0LG9uZU9mVHlwZTp0LHNoYXBlOnQsZXhhY3Q6dH07cmV0dXJuIHIuY2hlY2tQcm9wVHlwZXM9bixyLlByb3BUeXBlcz1yLHJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sZS5leHBvcnRzPXIoOCkoKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgcj1cIlNFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEXCI7ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQscil7dC5leHBvcnRzPWV9XSl9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfQ1NTVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MDk2KSk7XG5cbnZhciBfUmVwbGFjZVRyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjA5OCkpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMzEpKTtcblxudmFyIF9UcmFuc2l0aW9uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUcmFuc2l0aW9uOiBfVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBUcmFuc2l0aW9uR3JvdXA6IF9UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdCxcbiAgUmVwbGFjZVRyYW5zaXRpb246IF9SZXBsYWNlVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBDU1NUcmFuc2l0aW9uOiBfQ1NTVHJhbnNpdGlvbi5kZWZhdWx0XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5Njpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIFByb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX2FkZENsYXNzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNzgpKTtcblxudmFyIF9yZW1vdmVDbGFzcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MDc5KSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpO1xuXG52YXIgX1RyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNTQpKTtcblxudmFyIF9Qcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0Nik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBhZGRDbGFzcyA9IGZ1bmN0aW9uIGFkZENsYXNzKG5vZGUsIGNsYXNzZXMpIHtcbiAgcmV0dXJuIG5vZGUgJiYgY2xhc3NlcyAmJiBjbGFzc2VzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAoMCwgX2FkZENsYXNzLmRlZmF1bHQpKG5vZGUsIGMpO1xuICB9KTtcbn07XG5cbnZhciByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKG5vZGUsIGNsYXNzZXMpIHtcbiAgcmV0dXJuIG5vZGUgJiYgY2xhc3NlcyAmJiBjbGFzc2VzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAoMCwgX3JlbW92ZUNsYXNzLmRlZmF1bHQpKG5vZGUsIGMpO1xuICB9KTtcbn07XG5cbnZhciBwcm9wVHlwZXMgPSAgZmFsc2UgPyBfZXh0ZW5kcyh7fSwgX1RyYW5zaXRpb24uZGVmYXVsdC5wcm9wVHlwZXMsIHtcbiAgLyoqXG4gICAqIFRoZSBhbmltYXRpb24gY2xhc3NOYW1lcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQgYXMgaXQgZW50ZXJzLCBleGl0cyBvciBoYXMgZmluaXNoZWQgdGhlIHRyYW5zaXRpb24uXG4gICAqIEEgc2luZ2xlIG5hbWUgY2FuIGJlIHByb3ZpZGVkIGFuZCBpdCB3aWxsIGJlIHN1ZmZpeGVkIGZvciBlYWNoIHN0YWdlOiBlLmcuXG4gICAqXG4gICAqIGBjbGFzc05hbWVzPVwiZmFkZVwiYCBhcHBsaWVzIGBmYWRlLWVudGVyYCwgYGZhZGUtZW50ZXItYWN0aXZlYCwgYGZhZGUtZW50ZXItZG9uZWAsXG4gICAqIGBmYWRlLWV4aXRgLCBgZmFkZS1leGl0LWFjdGl2ZWAsIGBmYWRlLWV4aXQtZG9uZWAsIGBmYWRlLWFwcGVhcmAsIGFuZCBgZmFkZS1hcHBlYXItYWN0aXZlYC5cbiAgICogRWFjaCBpbmRpdmlkdWFsIGNsYXNzTmFtZXMgY2FuIGFsc28gYmUgc3BlY2lmaWVkIGluZGVwZW5kZW50bHkgbGlrZTpcbiAgICpcbiAgICogYGBganNcbiAgICogY2xhc3NOYW1lcz17e1xuICAgKiAgYXBwZWFyOiAnbXktYXBwZWFyJyxcbiAgICogIGFwcGVhckFjdGl2ZTogJ215LWFjdGl2ZS1hcHBlYXInLFxuICAgKiAgZW50ZXI6ICdteS1lbnRlcicsXG4gICAqICBlbnRlckFjdGl2ZTogJ215LWFjdGl2ZS1lbnRlcicsXG4gICAqICBlbnRlckRvbmU6ICdteS1kb25lLWVudGVyJyxcbiAgICogIGV4aXQ6ICdteS1leGl0JyxcbiAgICogIGV4aXRBY3RpdmU6ICdteS1hY3RpdmUtZXhpdCcsXG4gICAqICBleGl0RG9uZTogJ215LWRvbmUtZXhpdCcsXG4gICAqIH19XG4gICAqIGBgYFxuICAgKlxuICAgKiBJZiB5b3Ugd2FudCB0byBzZXQgdGhlc2UgY2xhc3NlcyB1c2luZyBDU1MgTW9kdWxlczpcbiAgICpcbiAgICogYGBganNcbiAgICogaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5jc3MnO1xuICAgKiBgYGBcbiAgICpcbiAgICogeW91IG1pZ2h0IHdhbnQgdG8gdXNlIGNhbWVsQ2FzZSBpbiB5b3VyIENTUyBmaWxlLCB0aGF0IHdheSBjb3VsZCBzaW1wbHkgc3ByZWFkXG4gICAqIHRoZW0gaW5zdGVhZCBvZiBsaXN0aW5nIHRoZW0gb25lIGJ5IG9uZTpcbiAgICpcbiAgICogYGBganNcbiAgICogY2xhc3NOYW1lcz17eyAuLi5zdHlsZXMgfX1cbiAgICogYGBgXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmcgfCB7XG4gICAqICBhcHBlYXI/OiBzdHJpbmcsXG4gICAqICBhcHBlYXJBY3RpdmU/OiBzdHJpbmcsXG4gICAqICBlbnRlcj86IHN0cmluZyxcbiAgICogIGVudGVyQWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZW50ZXJEb25lPzogc3RyaW5nLFxuICAgKiAgZXhpdD86IHN0cmluZyxcbiAgICogIGV4aXRBY3RpdmU/OiBzdHJpbmcsXG4gICAqICBleGl0RG9uZT86IHN0cmluZyxcbiAgICogfX1cbiAgICovXG4gIGNsYXNzTmFtZXM6IF9Qcm9wVHlwZXMuY2xhc3NOYW1lc1NoYXBlLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXInIG9yICdhcHBlYXInIGNsYXNzIGlzXG4gICAqIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbClcbiAgICovXG4gIG9uRW50ZXI6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXItYWN0aXZlJyBvclxuICAgKiAnYXBwZWFyLWFjdGl2ZScgY2xhc3MgaXMgYXBwbGllZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmluZzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEEgYDxUcmFuc2l0aW9uPmAgY2FsbGJhY2sgZmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlICdlbnRlcicgb3JcbiAgICogJ2FwcGVhcicgY2xhc3NlcyBhcmUgKipyZW1vdmVkKiogYW5kIHRoZSBgZG9uZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIERPTSBub2RlLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZXhpdCcgY2xhc3MgaXNcbiAgICogYXBwbGllZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQpXG4gICAqL1xuICBvbkV4aXQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZXhpdC1hY3RpdmUnIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50XG4gICAqL1xuICBvbkV4aXRpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZXhpdCcgY2xhc3Nlc1xuICAgKiBhcmUgKipyZW1vdmVkKiogYW5kIHRoZSBgZXhpdC1kb25lYCBjbGFzcyBpcyBhZGRlZCB0byB0aGUgRE9NIG5vZGUuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KVxuICAgKi9cbiAgb25FeGl0ZWQ6IFByb3BUeXBlcy5mdW5jXG59KSA6IHt9Oztcbi8qKlxuICogQSBgVHJhbnNpdGlvbmAgY29tcG9uZW50IHVzaW5nIENTUyB0cmFuc2l0aW9ucyBhbmQgYW5pbWF0aW9ucy5cbiAqIEl0J3MgaW5zcGlyZWQgYnkgdGhlIGV4Y2VsbGVudCBbbmctYW5pbWF0ZV0oaHR0cDovL3d3dy5uZ2FuaW1hdGUub3JnLykgbGlicmFyeS5cbiAqXG4gKiBgQ1NTVHJhbnNpdGlvbmAgYXBwbGllcyBhIHBhaXIgb2YgY2xhc3MgbmFtZXMgZHVyaW5nIHRoZSBgYXBwZWFyYCwgYGVudGVyYCxcbiAqIGFuZCBgZXhpdGAgc3RhZ2VzIG9mIHRoZSB0cmFuc2l0aW9uLiBUaGUgZmlyc3QgY2xhc3MgaXMgYXBwbGllZCBhbmQgdGhlbiBhXG4gKiBzZWNvbmQgXCJhY3RpdmVcIiBjbGFzcyBpbiBvcmRlciB0byBhY3RpdmF0ZSB0aGUgY3NzIGFuaW1hdGlvbi4gQWZ0ZXIgdGhlIGFuaW1hdGlvbixcbiAqIG1hdGNoaW5nIGBkb25lYCBjbGFzcyBuYW1lcyBhcmUgYXBwbGllZCB0byBwZXJzaXN0IHRoZSBhbmltYXRpb24gc3RhdGUuXG4gKlxuICogV2hlbiB0aGUgYGluYCBwcm9wIGlzIHRvZ2dsZWQgdG8gYHRydWVgIHRoZSBDb21wb25lbnQgd2lsbCBnZXRcbiAqIHRoZSBgZXhhbXBsZS1lbnRlcmAgQ1NTIGNsYXNzIGFuZCB0aGUgYGV4YW1wbGUtZW50ZXItYWN0aXZlYCBDU1MgY2xhc3NcbiAqIGFkZGVkIGluIHRoZSBuZXh0IHRpY2suIFRoaXMgaXMgYSBjb252ZW50aW9uIGJhc2VkIG9uIHRoZSBgY2xhc3NOYW1lc2AgcHJvcC5cbiAqL1xuXG52YXIgQ1NTVHJhbnNpdGlvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShDU1NUcmFuc2l0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDU1NUcmFuc2l0aW9uKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMub25FbnRlciA9IGZ1bmN0aW9uIChub2RlLCBhcHBlYXJpbmcpIHtcbiAgICAgIHZhciBfdGhpcyRnZXRDbGFzc05hbWVzID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcyhhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXMuY2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdleGl0Jyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkVudGVyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRW50ZXIobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRW50ZXJpbmcgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczIgPSBfdGhpcy5nZXRDbGFzc05hbWVzKGFwcGVhcmluZyA/ICdhcHBlYXInIDogJ2VudGVyJyksXG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczIuYWN0aXZlQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcmluZykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyaW5nKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkVudGVyZWQgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczMgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdlbnRlcicpLFxuICAgICAgICAgIGRvbmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzMy5kb25lQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsIGFwcGVhcmluZyA/ICdhcHBlYXInIDogJ2VudGVyJyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGRvbmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcmVkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRW50ZXJlZChub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FeGl0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHZhciBfdGhpcyRnZXRDbGFzc05hbWVzNCA9IF90aGlzLmdldENsYXNzTmFtZXMoJ2V4aXQnKSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNC5jbGFzc05hbWU7XG5cbiAgICAgIF90aGlzLnJlbW92ZUNsYXNzZXMobm9kZSwgJ2FwcGVhcicpO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdlbnRlcicpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRXhpdChub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FeGl0aW5nID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHZhciBfdGhpcyRnZXRDbGFzc05hbWVzNSA9IF90aGlzLmdldENsYXNzTmFtZXMoJ2V4aXQnKSxcbiAgICAgICAgICBhY3RpdmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNS5hY3RpdmVDbGFzc05hbWU7XG5cbiAgICAgIF90aGlzLnJlZmxvd0FuZEFkZENsYXNzKG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkV4aXRpbmcpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FeGl0aW5nKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkV4aXRlZCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczYgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgZG9uZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM2LmRvbmVDbGFzc05hbWU7XG5cbiAgICAgIF90aGlzLnJlbW92ZUNsYXNzZXMobm9kZSwgJ2V4aXQnKTtcblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgZG9uZUNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkV4aXRlZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkV4aXRlZChub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0Q2xhc3NOYW1lcyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lcyA9IF90aGlzLnByb3BzLmNsYXNzTmFtZXM7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gdHlwZW9mIGNsYXNzTmFtZXMgIT09ICdzdHJpbmcnID8gY2xhc3NOYW1lc1t0eXBlXSA6IGNsYXNzTmFtZXMgKyAnLScgKyB0eXBlO1xuICAgICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZSArICdBY3RpdmUnXSA6IGNsYXNzTmFtZSArICctYWN0aXZlJztcbiAgICAgIHZhciBkb25lQ2xhc3NOYW1lID0gdHlwZW9mIGNsYXNzTmFtZXMgIT09ICdzdHJpbmcnID8gY2xhc3NOYW1lc1t0eXBlICsgJ0RvbmUnXSA6IGNsYXNzTmFtZSArICctZG9uZSc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lOiBhY3RpdmVDbGFzc05hbWUsXG4gICAgICAgIGRvbmVDbGFzc05hbWU6IGRvbmVDbGFzc05hbWVcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBDU1NUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVtb3ZlQ2xhc3NlcyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMobm9kZSwgdHlwZSkge1xuICAgIHZhciBfdGhpcyRnZXRDbGFzc05hbWVzNyA9IHRoaXMuZ2V0Q2xhc3NOYW1lcyh0eXBlKSxcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuY2xhc3NOYW1lLFxuICAgICAgICBhY3RpdmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNy5hY3RpdmVDbGFzc05hbWUsXG4gICAgICAgIGRvbmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNy5kb25lQ2xhc3NOYW1lO1xuXG4gICAgY2xhc3NOYW1lICYmIHJlbW92ZUNsYXNzKG5vZGUsIGNsYXNzTmFtZSk7XG4gICAgYWN0aXZlQ2xhc3NOYW1lICYmIHJlbW92ZUNsYXNzKG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSk7XG4gICAgZG9uZUNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBkb25lQ2xhc3NOYW1lKTtcbiAgfTtcblxuICBfcHJvdG8ucmVmbG93QW5kQWRkQ2xhc3MgPSBmdW5jdGlvbiByZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpIHtcbiAgICAvLyBUaGlzIGlzIGZvciB0byBmb3JjZSBhIHJlcGFpbnQsXG4gICAgLy8gd2hpY2ggaXMgbmVjZXNzYXJ5IGluIG9yZGVyIHRvIHRyYW5zaXRpb24gc3R5bGVzIHdoZW4gYWRkaW5nIGEgY2xhc3MgbmFtZS5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgICAgIG5vZGUgJiYgbm9kZS5zY3JvbGxUb3A7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcblxuICAgIGRlbGV0ZSBwcm9wcy5jbGFzc05hbWVzO1xuICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2l0aW9uLmRlZmF1bHQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgb25FbnRlcjogdGhpcy5vbkVudGVyLFxuICAgICAgb25FbnRlcmVkOiB0aGlzLm9uRW50ZXJlZCxcbiAgICAgIG9uRW50ZXJpbmc6IHRoaXMub25FbnRlcmluZyxcbiAgICAgIG9uRXhpdDogdGhpcy5vbkV4aXQsXG4gICAgICBvbkV4aXRpbmc6IHRoaXMub25FeGl0aW5nLFxuICAgICAgb25FeGl0ZWQ6IHRoaXMub25FeGl0ZWRcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb247XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkNTU1RyYW5zaXRpb24ucHJvcFR5cGVzID0gIGZhbHNlID8gcHJvcFR5cGVzIDoge307XG52YXIgX2RlZmF1bHQgPSBDU1NUcmFuc2l0aW9uO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGhhc0NsYXNzO1xuXG5mdW5jdGlvbiBoYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSByZXR1cm4gISFjbGFzc05hbWUgJiYgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtlbHNlIHJldHVybiAoXCIgXCIgKyAoZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbCB8fCBlbGVtZW50LmNsYXNzTmFtZSkgKyBcIiBcIikuaW5kZXhPZihcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiKSAhPT0gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDk4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMSkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBpbjogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IGZ1bmN0aW9uIGNoaWxkcmVuKHByb3BzLCBwcm9wTmFtZSkge1xuICAgIGlmIChfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi5jb3VudChwcm9wc1twcm9wTmFtZV0pICE9PSAyKSByZXR1cm4gbmV3IEVycm9yKFwiXFxcIlwiICsgcHJvcE5hbWUgKyBcIlxcXCIgbXVzdCBiZSBleGFjdGx5IHR3byB0cmFuc2l0aW9uIGNvbXBvbmVudHMuXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59IDoge307O1xuLyoqXG4gKiBUaGUgYDxSZXBsYWNlVHJhbnNpdGlvbj5gIGNvbXBvbmVudCBpcyBhIHNwZWNpYWxpemVkIGBUcmFuc2l0aW9uYCBjb21wb25lbnRcbiAqIHRoYXQgYW5pbWF0ZXMgYmV0d2VlbiB0d28gY2hpbGRyZW4uXG4gKlxuICogYGBganN4XG4gKiA8UmVwbGFjZVRyYW5zaXRpb24gaW4+XG4gKiAgIDxGYWRlPjxkaXY+SSBhcHBlYXIgZmlyc3Q8L2Rpdj48L0ZhZGU+XG4gKiAgIDxGYWRlPjxkaXY+SSByZXBsYWNlIHRoZSBhYm92ZTwvZGl2PjwvRmFkZT5cbiAqIDwvUmVwbGFjZVRyYW5zaXRpb24+XG4gKiBgYGBcbiAqL1xuXG52YXIgUmVwbGFjZVRyYW5zaXRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoUmVwbGFjZVRyYW5zaXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJlcGxhY2VUcmFuc2l0aW9uKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBfYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIF9hcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoX2FyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuaGFuZGxlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkVudGVyJywgMCwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUVudGVyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FbnRlcmluZycsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFbnRlcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FbnRlcmVkJywgMCwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUV4aXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjUpLCBfa2V5NSA9IDA7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkV4aXQnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRXhpdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNiksIF9rZXk2ID0gMDsgX2tleTYgPCBfbGVuNjsgX2tleTYrKykge1xuICAgICAgICBhcmdzW19rZXk2XSA9IGFyZ3VtZW50c1tfa2V5Nl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRXhpdGluZycsIDEsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFeGl0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjcpLCBfa2V5NyA9IDA7IF9rZXk3IDwgX2xlbjc7IF9rZXk3KyspIHtcbiAgICAgICAgYXJnc1tfa2V5N10gPSBhcmd1bWVudHNbX2tleTddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkV4aXRlZCcsIDEsIGFyZ3MpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gUmVwbGFjZVRyYW5zaXRpb24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5oYW5kbGVMaWZlY3ljbGUgPSBmdW5jdGlvbiBoYW5kbGVMaWZlY3ljbGUoaGFuZGxlciwgaWR4LCBvcmlnaW5hbEFyZ3MpIHtcbiAgICB2YXIgX2NoaWxkJHByb3BzO1xuXG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblxuICAgIHZhciBjaGlsZCA9IF9yZWFjdC5kZWZhdWx0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pW2lkeF07XG5cbiAgICBpZiAoY2hpbGQucHJvcHNbaGFuZGxlcl0pIChfY2hpbGQkcHJvcHMgPSBjaGlsZC5wcm9wcylbaGFuZGxlcl0uYXBwbHkoX2NoaWxkJHByb3BzLCBvcmlnaW5hbEFyZ3MpO1xuICAgIGlmICh0aGlzLnByb3BzW2hhbmRsZXJdKSB0aGlzLnByb3BzW2hhbmRsZXJdKCgwLCBfcmVhY3REb20uZmluZERPTU5vZGUpKHRoaXMpKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIGluUHJvcCA9IF90aGlzJHByb3BzLmluLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJjaGlsZHJlblwiLCBcImluXCJdKTtcblxuICAgIHZhciBfUmVhY3QkQ2hpbGRyZW4kdG9BcnIgPSBfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKSxcbiAgICAgICAgZmlyc3QgPSBfUmVhY3QkQ2hpbGRyZW4kdG9BcnJbMF0sXG4gICAgICAgIHNlY29uZCA9IF9SZWFjdCRDaGlsZHJlbiR0b0FyclsxXTtcblxuICAgIGRlbGV0ZSBwcm9wcy5vbkVudGVyO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkVudGVyaW5nO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkVudGVyZWQ7XG4gICAgZGVsZXRlIHByb3BzLm9uRXhpdDtcbiAgICBkZWxldGUgcHJvcHMub25FeGl0aW5nO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkV4aXRlZDtcbiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHQsIHByb3BzLCBpblByb3AgPyBfcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoZmlyc3QsIHtcbiAgICAgIGtleTogJ2ZpcnN0JyxcbiAgICAgIG9uRW50ZXI6IHRoaXMuaGFuZGxlRW50ZXIsXG4gICAgICBvbkVudGVyaW5nOiB0aGlzLmhhbmRsZUVudGVyaW5nLFxuICAgICAgb25FbnRlcmVkOiB0aGlzLmhhbmRsZUVudGVyZWRcbiAgICB9KSA6IF9yZWFjdC5kZWZhdWx0LmNsb25lRWxlbWVudChzZWNvbmQsIHtcbiAgICAgIGtleTogJ3NlY29uZCcsXG4gICAgICBvbkVudGVyOiB0aGlzLmhhbmRsZUV4aXQsXG4gICAgICBvbkVudGVyaW5nOiB0aGlzLmhhbmRsZUV4aXRpbmcsXG4gICAgICBvbkVudGVyZWQ6IHRoaXMuaGFuZGxlRXhpdGVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBSZXBsYWNlVHJhbnNpdGlvbjtcbn0oX3JlYWN0LmRlZmF1bHQuQ29tcG9uZW50KTtcblxuUmVwbGFjZVRyYW5zaXRpb24ucHJvcFR5cGVzID0gIGZhbHNlID8gcHJvcFR5cGVzIDoge307XG52YXIgX2RlZmF1bHQgPSBSZXBsYWNlVHJhbnNpdGlvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm5vb3AgPSBub29wO1xuZXhwb3J0cy5yZXR1cm5UcnVlID0gcmV0dXJuVHJ1ZTtcbmV4cG9ydHMuY2hhcklzTnVtYmVyID0gY2hhcklzTnVtYmVyO1xuZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBlc2NhcGVSZWdFeHA7XG5leHBvcnRzLmdldFRob3VzYW5kc0dyb3VwUmVnZXggPSBnZXRUaG91c2FuZHNHcm91cFJlZ2V4O1xuZXhwb3J0cy5zcGxpdERlY2ltYWwgPSBzcGxpdERlY2ltYWw7XG5leHBvcnRzLmZpeExlYWRpbmdaZXJvID0gZml4TGVhZGluZ1plcm87XG5leHBvcnRzLmxpbWl0VG9TY2FsZSA9IGxpbWl0VG9TY2FsZTtcbmV4cG9ydHMucm91bmRUb1ByZWNpc2lvbiA9IHJvdW5kVG9QcmVjaXNpb247XG5leHBvcnRzLm9taXQgPSBvbWl0O1xuZXhwb3J0cy5zZXRDYXJldFBvc2l0aW9uID0gc2V0Q2FyZXRQb3NpdGlvbjtcbmV4cG9ydHMuZmluZENoYW5nZWRJbmRleCA9IGZpbmRDaGFuZ2VkSW5kZXg7XG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XG5leHBvcnRzLmdldEN1cnJlbnRDYXJldFBvc2l0aW9uID0gZ2V0Q3VycmVudENhcmV0UG9zaXRpb247XG5cbi8vIGJhc2ljIG5vb3AgZnVuY3Rpb25cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY2hhcklzTnVtYmVyKGNoYXIpIHtcbiAgcmV0dXJuICEhKGNoYXIgfHwgJycpLm1hdGNoKC9cXGQvKTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1stW1xcXS97fSgpKis/LlxcXFxeJHxdL2csIFwiXFxcXCQmXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRUaG91c2FuZHNHcm91cFJlZ2V4KHRob3VzYW5kc0dyb3VwU3R5bGUpIHtcbiAgc3dpdGNoICh0aG91c2FuZHNHcm91cFN0eWxlKSB7XG4gICAgY2FzZSAnbGFraCc6XG4gICAgICByZXR1cm4gLyhcXGQrPykoPz0oXFxkXFxkKSsoXFxkKSg/IVxcZCkpKFxcLlxcZCspPy9nO1xuXG4gICAgY2FzZSAnd2FuJzpcbiAgICAgIHJldHVybiAvKFxcZCkoPz0oXFxkezR9KSsoPyFcXGQpKS9nO1xuXG4gICAgY2FzZSAndGhvdXNhbmQnOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gLyhcXGQpKD89KFxcZHszfSkrKD8hXFxkKSkvZztcbiAgfVxufSAvL3NwaWx0IGEgZmxvYXQgbnVtYmVyIGludG8gZGlmZmVyZW50IHBhcnRzIGJlZm9yZURlY2ltYWwsIGFmdGVyRGVjaW1hbCwgYW5kIG5lZ2F0aW9uXG5cblxuZnVuY3Rpb24gc3BsaXREZWNpbWFsKG51bVN0cikge1xuICB2YXIgYWxsb3dOZWdhdGl2ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgdmFyIGhhc05hZ2F0aW9uID0gbnVtU3RyWzBdID09PSAnLSc7XG4gIHZhciBhZGROZWdhdGlvbiA9IGhhc05hZ2F0aW9uICYmIGFsbG93TmVnYXRpdmU7XG4gIG51bVN0ciA9IG51bVN0ci5yZXBsYWNlKCctJywgJycpO1xuICB2YXIgcGFydHMgPSBudW1TdHIuc3BsaXQoJy4nKTtcbiAgdmFyIGJlZm9yZURlY2ltYWwgPSBwYXJ0c1swXTtcbiAgdmFyIGFmdGVyRGVjaW1hbCA9IHBhcnRzWzFdIHx8ICcnO1xuICByZXR1cm4ge1xuICAgIGJlZm9yZURlY2ltYWw6IGJlZm9yZURlY2ltYWwsXG4gICAgYWZ0ZXJEZWNpbWFsOiBhZnRlckRlY2ltYWwsXG4gICAgaGFzTmFnYXRpb246IGhhc05hZ2F0aW9uLFxuICAgIGFkZE5lZ2F0aW9uOiBhZGROZWdhdGlvblxuICB9O1xufVxuXG5mdW5jdGlvbiBmaXhMZWFkaW5nWmVybyhudW1TdHIpIHtcbiAgaWYgKCFudW1TdHIpIHJldHVybiBudW1TdHI7XG4gIHZhciBpc05lZ2F0aXZlID0gbnVtU3RyWzBdID09PSAnLSc7XG4gIGlmIChpc05lZ2F0aXZlKSBudW1TdHIgPSBudW1TdHIuc3Vic3RyaW5nKDEsIG51bVN0ci5sZW5ndGgpO1xuICB2YXIgcGFydHMgPSBudW1TdHIuc3BsaXQoJy4nKTtcbiAgdmFyIGJlZm9yZURlY2ltYWwgPSBwYXJ0c1swXS5yZXBsYWNlKC9eMCsvLCAnJykgfHwgJzAnO1xuICB2YXIgYWZ0ZXJEZWNpbWFsID0gcGFydHNbMV0gfHwgJyc7XG4gIHJldHVybiBcIlwiLmNvbmNhdChpc05lZ2F0aXZlID8gJy0nIDogJycpLmNvbmNhdChiZWZvcmVEZWNpbWFsKS5jb25jYXQoYWZ0ZXJEZWNpbWFsID8gXCIuXCIuY29uY2F0KGFmdGVyRGVjaW1hbCkgOiAnJyk7XG59XG4vKipcbiAqIGxpbWl0IGRlY2ltYWwgbnVtYmVycyB0byBnaXZlbiBzY2FsZVxuICogTm90IHVzZWQgLmZpeGVkVG8gYmVjYXVzZSB0aGF0IHdpbGwgYnJlYWsgd2l0aCBiaWcgbnVtYmVyc1xuICovXG5cblxuZnVuY3Rpb24gbGltaXRUb1NjYWxlKG51bVN0ciwgc2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKSB7XG4gIHZhciBzdHIgPSAnJztcbiAgdmFyIGZpbGxlciA9IGZpeGVkRGVjaW1hbFNjYWxlID8gJzAnIDogJyc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2NhbGUgLSAxOyBpKyspIHtcbiAgICBzdHIgKz0gbnVtU3RyW2ldIHx8IGZpbGxlcjtcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIHJlcXVpcmVkIHRvIHJvdW5kIHByb3AgdmFsdWUgdG8gZ2l2ZW4gc2NhbGUuXG4gKiBOb3QgdXNlZCAucm91bmQgb3IgLmZpeGVkVG8gYmVjYXVzZSB0aGF0IHdpbGwgYnJlYWsgd2l0aCBiaWcgbnVtYmVyc1xuICovXG5cblxuZnVuY3Rpb24gcm91bmRUb1ByZWNpc2lvbihudW1TdHIsIHNjYWxlLCBmaXhlZERlY2ltYWxTY2FsZSkge1xuICAvL2lmIG51bWJlciBpcyBlbXB0eSBkb24ndCBkbyBhbnl0aGluZyByZXR1cm4gZW1wdHkgc3RyaW5nXG4gIGlmIChbJycsICctJ10uaW5kZXhPZihudW1TdHIpICE9PSAtMSkgcmV0dXJuIG51bVN0cjtcbiAgdmFyIHNob3VkSGF2ZURlY2ltYWxTZXBhcmF0b3IgPSBudW1TdHIuaW5kZXhPZignLicpICE9PSAtMSAmJiBzY2FsZTtcblxuICB2YXIgX3NwbGl0RGVjaW1hbCA9IHNwbGl0RGVjaW1hbChudW1TdHIpLFxuICAgICAgYmVmb3JlRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYmVmb3JlRGVjaW1hbCxcbiAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYWZ0ZXJEZWNpbWFsLFxuICAgICAgaGFzTmFnYXRpb24gPSBfc3BsaXREZWNpbWFsLmhhc05hZ2F0aW9uO1xuXG4gIHZhciByb3VuZGVkRGVjaW1hbFBhcnRzID0gcGFyc2VGbG9hdChcIjAuXCIuY29uY2F0KGFmdGVyRGVjaW1hbCB8fCAnMCcpKS50b0ZpeGVkKHNjYWxlKS5zcGxpdCgnLicpO1xuICB2YXIgaW50UGFydCA9IGJlZm9yZURlY2ltYWwuc3BsaXQoJycpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKHJvdW5kZWRTdHIsIGN1cnJlbnQsIGlkeCkge1xuICAgIGlmIChyb3VuZGVkU3RyLmxlbmd0aCA+IGlkeCkge1xuICAgICAgcmV0dXJuIChOdW1iZXIocm91bmRlZFN0clswXSkgKyBOdW1iZXIoY3VycmVudCkpLnRvU3RyaW5nKCkgKyByb3VuZGVkU3RyLnN1YnN0cmluZygxLCByb3VuZGVkU3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnQgKyByb3VuZGVkU3RyO1xuICB9LCByb3VuZGVkRGVjaW1hbFBhcnRzWzBdKTtcbiAgdmFyIGRlY2ltYWxQYXJ0ID0gbGltaXRUb1NjYWxlKHJvdW5kZWREZWNpbWFsUGFydHNbMV0gfHwgJycsIE1hdGgubWluKHNjYWxlLCBhZnRlckRlY2ltYWwubGVuZ3RoKSwgZml4ZWREZWNpbWFsU2NhbGUpO1xuICB2YXIgbmVnYXRpb24gPSBoYXNOYWdhdGlvbiA/ICctJyA6ICcnO1xuICB2YXIgZGVjaW1hbFNlcGFyYXRvciA9IHNob3VkSGF2ZURlY2ltYWxTZXBhcmF0b3IgPyAnLicgOiAnJztcbiAgcmV0dXJuIFwiXCIuY29uY2F0KG5lZ2F0aW9uKS5jb25jYXQoaW50UGFydCkuY29uY2F0KGRlY2ltYWxTZXBhcmF0b3IpLmNvbmNhdChkZWNpbWFsUGFydCk7XG59XG5cbmZ1bmN0aW9uIG9taXQob2JqLCBrZXlNYXBzKSB7XG4gIHZhciBmaWx0ZXJlZE9iaiA9IHt9O1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICgha2V5TWFwc1trZXldKSBmaWx0ZXJlZE9ialtrZXldID0gb2JqW2tleV07XG4gIH0pO1xuICByZXR1cm4gZmlsdGVyZWRPYmo7XG59XG4vKiogc2V0IHRoZSBjYXJldCBwb3NpdG9uIGluIGFuIGlucHV0IGZpZWxkICoqL1xuXG5cbmZ1bmN0aW9uIHNldENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zKSB7XG4gIGVsLnZhbHVlID0gZWwudmFsdWU7IC8vIF4gdGhpcyBpcyB1c2VkIHRvIG5vdCBvbmx5IGdldCBcImZvY3VzXCIsIGJ1dFxuICAvLyB0byBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBpdCBldmVyeXRoaW5nIC1zZWxlY3RlZC1cbiAgLy8gKGl0IGNhdXNlcyBhbiBpc3N1ZSBpbiBjaHJvbWUsIGFuZCBoYXZpbmcgaXQgZG9lc24ndCBodXJ0IGFueSBvdGhlciBicm93c2VyKVxuXG4gIGlmIChlbCAhPT0gbnVsbCkge1xuICAgIGlmIChlbC5jcmVhdGVUZXh0UmFuZ2UpIHtcbiAgICAgIHZhciByYW5nZSA9IGVsLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgcmFuZ2UubW92ZSgnY2hhcmFjdGVyJywgY2FyZXRQb3MpO1xuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIChlbC5zZWxlY3Rpb25TdGFydCA9PT0gMCBhZGRlZCBmb3IgRmlyZWZveCBidWcpXG5cblxuICAgIGlmIChlbC5zZWxlY3Rpb25TdGFydCB8fCBlbC5zZWxlY3Rpb25TdGFydCA9PT0gMCkge1xuICAgICAgZWwuZm9jdXMoKTtcbiAgICAgIGVsLnNldFNlbGVjdGlvblJhbmdlKGNhcmV0UG9zLCBjYXJldFBvcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIGZhaWwgY2l0eSwgZm9ydHVuYXRlbHkgdGhpcyBuZXZlciBoYXBwZW5zIChhcyBmYXIgYXMgSSd2ZSB0ZXN0ZWQpIDopXG5cblxuICAgIGVsLmZvY3VzKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4vKipcbiAgR2l2ZW4gcHJldmlvdXMgdmFsdWUgYW5kIG5ld1ZhbHVlIGl0IHJldHVybnMgdGhlIGluZGV4XG4gIHN0YXJ0IC0gZW5kIHRvIHdoaWNoIHZhbHVlcyBoYXZlIGNoYW5nZWQuXG4gIFRoaXMgZnVuY3Rpb24gbWFrZXMgYXNzdW1wdGlvbiBhYm91dCBvbmx5IGNvbnNlY3V0aXZlXG4gIGNoYXJhY3RlcnMgYXJlIGNoYW5nZWQgd2hpY2ggaXMgY29ycmVjdCBhc3N1bXB0aW9uIGZvciBjYXJldCBpbnB1dC5cbiovXG5cblxuZnVuY3Rpb24gZmluZENoYW5nZWRJbmRleChwcmV2VmFsdWUsIG5ld1ZhbHVlKSB7XG4gIHZhciBpID0gMCxcbiAgICAgIGogPSAwO1xuICB2YXIgcHJldkxlbmd0aCA9IHByZXZWYWx1ZS5sZW5ndGg7XG4gIHZhciBuZXdMZW5ndGggPSBuZXdWYWx1ZS5sZW5ndGg7XG5cbiAgd2hpbGUgKHByZXZWYWx1ZVtpXSA9PT0gbmV3VmFsdWVbaV0gJiYgaSA8IHByZXZMZW5ndGgpIHtcbiAgICBpKys7XG4gIH0gLy9jaGVjayB3aGF0IGhhcyBiZWVuIGNoYW5nZWQgZnJvbSBsYXN0XG5cblxuICB3aGlsZSAocHJldlZhbHVlW3ByZXZMZW5ndGggLSAxIC0gal0gPT09IG5ld1ZhbHVlW25ld0xlbmd0aCAtIDEgLSBqXSAmJiBuZXdMZW5ndGggLSBqID4gaSAmJiBwcmV2TGVuZ3RoIC0gaiA+IGkpIHtcbiAgICBqKys7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBpLFxuICAgIGVuZDogcHJldkxlbmd0aCAtIGpcbiAgfTtcbn1cbi8qXG4gIFJldHVybnMgYSBudW1iZXIgd2hvc2UgdmFsdWUgaXMgbGltaXRlZCB0byB0aGUgZ2l2ZW4gcmFuZ2VcbiovXG5cblxuZnVuY3Rpb24gY2xhbXAobnVtLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q2FyZXRQb3NpdGlvbihlbCkge1xuICAvKk1heCBvZiBzZWxlY3Rpb25TdGFydCBhbmQgc2VsZWN0aW9uRW5kIGlzIHRha2VuIGZvciB0aGUgcGF0Y2ggb2YgcGl4ZWwgYW5kIG90aGVyIG1vYmlsZSBkZXZpY2UgY2FyZXQgYnVnKi9cbiAgcmV0dXJuIE1hdGgubWF4KGVsLnNlbGVjdGlvblN0YXJ0LCBlbC5zZWxlY3Rpb25FbmQpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cbnZhciBfQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0J1dHRvbik7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9pY29ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI0KTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfRGlhbG9nQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblxudmFyIF9EaWFsb2dBY3Rpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ0FjdGlvbnMpO1xuXG52YXIgX0RpYWxvZ1RpdGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjkpO1xuXG52YXIgX0RpYWxvZ1RpdGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ1RpdGxlKTtcblxudmFyIF9FcnJvciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMwKTtcblxudmFyIF9FcnJvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FcnJvcik7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfU2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXG52YXIgX1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3QpO1xuXG52YXIgX01lbnVJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXG52YXIgX01lbnVJdGVtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lbnVJdGVtKTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNSk7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY3VsYXJQcm9ncmVzcyk7XG5cbnZhciBfQ3VzdG9tRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjcpO1xuXG52YXIgX0N1c3RvbURpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21EaWFsb2cpO1xuXG52YXIgX2RhdGVGbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Mik7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gICAgc3VtbWFyeToge1xuICAgICAgICBzdW1tYXJ5OiBcIlwiXG4gICAgfSxcbiAgICByZWFzb25Db2RlTGlzdDogXCJcIixcbiAgICBjb3JyZWN0SW52b2ljZXM6IFwiXCIsXG4gICAgaW5jb3JyZWN0RmxhZzogXCJcIixcbiAgICB0b2dnbGVFeHBhbmQ6IFwiXCJcbn07XG5cbi8vY29uc3RhbnRzXG4vLyBjb25zdCBEaXNwdXRlUmVnZXggPSAvKERpc3B1dGUgZm9yIFxcZCopfChbMC05XXs0fVstXVswLTldezJ9Wy1dWzAtOV17Mn0pfChcXGQqIGludm9pY2UpL2c7XG52YXIgZGlzcHV0ZVJlZ2V4ID0gLyhcXGQqIGludm9pY2UpfChiZWNhdXNlIG9mIC4qKS9nO1xudmFyIGRpc2NhcmRNZXNzYWdlID0gXCJUaGlzIHdpbGwgYmUgcmVtb3ZlZCBwZXJtYW5lbnRseSBmcm9tIHRoZSBzdWdnZXN0ZWQgYWN0aW9ucy4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS5cIjtcbnZhciByZXNvbHZlTWVzc2FnZSA9IFwiIFVuYWJsZSB0byBjb21wbGV0ZSB0aGUgYWN0aW9uLiBQbGVhc2UgcmVzb2x2ZSB0aGUgZXJyb3JzIHRvIGFwcHJvdmUuXCI7XG52YXIgbm9SZWFzb25NZXNzYWdlID0gXCJQbGVhc2Ugc2VsZWN0IGFwcHJvcHJpYXRlIGRpc3B1dGUgcmVhc29uLlwiO1xudmFyIG5vSW52b2ljZU1lc3NhZ2UgPSBcIk5vIGludm9pY2Ugc2VsZWN0ZWQuIFBsZWFzZSBhZGQgYXQgbGVhc3QgYW4gaW52b2ljZSB0byBzYXZlIHRoZSBkaXNwdXRlLlwiO1xudmFyIERJU1BVVEVfVEVNUExBVEUgPSBcIkRpc3B1dGUgcmFpc2VkIGZvciA8SW52b2ljZXM+IGJlY2F1c2Ugb2YgOiA8RElTUFVURS1SRUFTT04+XCI7XG52YXIgRElTUFVURV9PUklHX1RFTVBMQVRFID0gXCJDcmVhdGUgRGlzcHV0ZSBmb3IgPEludm9pY2VzPiBiZWNhdXNlIG9mIDxSZWFzb25Db2RlPlwiO1xudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGludm9pY2VTYW1wbGU6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgZmxleFdyYXA6IFwibm8td3JhcFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGp1c3RpZnk6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGVkUmVhc29uOiB7XG4gICAgICAgICAgICBtYXJnaW46IFwiMHB4XCIsXG4gICAgICAgICAgICAvLyB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxuICAgICAgICAgICAgLy8gcGFkZGluZzogXCIwcHhcIixcbiAgICAgICAgICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXG4gICAgICAgICAgICAvLyB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICAgICAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgIzVEQUFFMFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICM1REFBRTBcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbXB0eVJlYXNvbjoge1xuICAgICAgICAgICAgbWFyZ2luOiBcIjBweFwiLFxuICAgICAgICAgICAgLy8gd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2ZmNDU0M1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcGFkZGluZzogXCIwcHhcIixcbiAgICAgICAgICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXG4gICAgICAgICAgICAvLyBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgIC8vIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RNZW51Q2xhc3M6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIG1lbnVJdGVtUm9vdDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIG1lbnVQYXBlcjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcmVtICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkIHdoaXRlXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVzdDoge1xuICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgICAgICAgIHBhZGRpbmc6ICcwcHgnLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNlxuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25Qcm9ncmVzc0Jhcjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxLjVyZW0gIWltcG9ydGFudFwiXG5cbiAgICAgICAgfSxcblxuICAgICAgICB0ZXh0RmllbGQ6IHtcbiAgICAgICAgICAgIG1hcmdpbjogXCIwcHhcIixcbiAgICAgICAgICAgIC8vIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICAvLyBwYWRkaW5nOiBcIjBweFwiLFxuICAgICAgICAgICAgLy8gbWF4V2lkdGg6IFwiMTIwcHhcIixcbiAgICAgICAgICAgIC8vIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2FyZENvbnRlbnQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNjVcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uSWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3JGbGFnOiB7XG4gICAgICAgICAgICBjb2xvcjogXCIjRkY0NDQ0XCIsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0SWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZGlzYWJsZURvbmVCdG46IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNCxcbiAgICAgICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCJcblxuICAgICAgICAgICAgLy8gdGVzdDoge1xuICAgICAgICAgICAgLy8gICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgICAgICAvLyAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICAgICAgICAvLyAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgICAgLy8gICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICAvLyAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgLy8gICAgIG9wYWNpdHk6IDAuNixcblxuICAgICAgICAgICAgLy8gICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgLy8gICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICM1REFBRTBcIixcbiAgICAgICAgICAgIC8vICAgICB9LFxuICAgICAgICAgICAgLy8gICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgIzVEQUFFMFwiLFxuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAvLyB0ZXN0SW5pdGlhbDoge1xuICAgICAgICAgICAgLy8gICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgICAgICAvLyAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICAgICAgICAvLyAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgICAgLy8gICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICAvLyAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgLy8gICAgIG9wYWNpdHk6IDAuNixcblxuICAgICAgICAgICAgLy8gICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgLy8gICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIixcbiAgICAgICAgICAgIC8vICAgICB9LFxuICAgICAgICAgICAgLy8gICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiLFxuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vIH0sXG5cbiAgICAgICAgfSB9O1xufTtcblxudmFyIERpc3B1dGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhEaXNwdXRlLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIERpc3B1dGUocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpc3B1dGUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEaXNwdXRlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGlzcHV0ZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIHZhciBleHRyYWN0ZWREYXRhID0gX3RoaXMucHJvcHMuc3VtbWFyeSAmJiBfdGhpcy5wcm9wcy5zdW1tYXJ5LnN1bW1hcnkgPyBfdGhpcy5wcm9wcy5zdW1tYXJ5LnN1bW1hcnkubWF0Y2goZGlzcHV0ZVJlZ2V4KSA6IFwiXCI7XG4gICAgICAgIC8vIGxldCBleHRyYWN0ZWRBbW91bnQgPSBleHRyYWN0ZWREYXRhWzBdLm1hdGNoKC9bMC05XXsxLH0vKTtcbiAgICAgICAgLy8gaWYgKCFleHRyYWN0ZWRBbW91bnQpIGV4dHJhY3RlZEFtb3VudCA9IDA7ICAgICAgICBcblxuICAgICAgICAvLyBsZXQgbm9PZkludm9pY2VzID0gZXh0cmFjdGVkRGF0YVswXSA/IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pIDogMDtcblxuICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xuICAgICAgICAvLyAgICAgbm9PZkludm9pY2VzID0gMDtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHZhciByZWFzb25Db2RlID0gZXh0cmFjdGVkRGF0YVsxXSA/IGV4dHJhY3RlZERhdGFbMV0uc3Vic3RyaW5nKDExKSA6IFwiXCI7XG4gICAgICAgIHZhciByZWFzb25Db2RlcyA9IF90aGlzLnByb3BzLnJlYXNvbkNvZGVMaXN0O1xuXG4gICAgICAgIGlmIChyZWFzb25Db2Rlcy5pbmRleE9mKHJlYXNvbkNvZGUpIDwgMCkge1xuICAgICAgICAgICAgcmVhc29uQ29kZSA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHJlYXNvbkNvZGU6IHJlYXNvbkNvZGUsXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IF90aGlzLnByb3BzLmludm9pY2VDb3VudCxcbiAgICAgICAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5Ob1JlYXNvbkRpYWxvZzogZmFsc2UsXG4gICAgICAgICAgICBvcGVuTm9JbnZvaWNlRGlhbG9nOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5Qcm9ncmVzc0JhcjogdHJ1ZSxcbiAgICAgICAgICAgIGFjdGlvbklkOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxuICAgICAgICAgICAgaXNEb25lOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUsXG4gICAgICAgICAgICAvLyBpc0RvbmU6IGZhbHNlLFxuICAgICAgICAgICAgZmluYWxTZWxlY3RlZERhdGU6IFwiXCIsXG4gICAgICAgICAgICAvLyByZWFzb25Db2RlVGV4dEZpZWxkV2lkdGg6IHJlYXNvbkNvZGUgPyAoXCJcIiArIHJlYXNvbkNvZGUpLmxlbmd0aCAqIDEyIDogNTAsXG4gICAgICAgICAgICBjaGFuZ2U6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRGlzcHV0ZSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IG5leHRQcm9wcy5pbmNvcnJlY3RGbGFnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKG5leHRQcm9wcy5pbnZvaWNlQ291bnQgPj0gMCAmJiBuZXh0UHJvcHMuaW52b2ljZUNvdW50ICE9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VDb3VudDogbmV4dFByb3BzLmludm9pY2VDb3VudCB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLypjaGFuZ2UqIGJvdHRvbiAzIGZ1bmN0aW9uc1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLnByb3BzLmNsYXNzZXM7XG4gICAgICAgICAgICB2YXIgc3VtbWFyeSA9IHRoaXMucHJvcHMuc3VtbWFyeTtcbiAgICAgICAgICAgIHZhciBmdWxsU2NyZWVuID0gdGhpcy5wcm9wcy5mdWxsU2NyZWVuO1xuXG5cbiAgICAgICAgICAgIHZhciByZWFzb25Db2RlcyA9IHRoaXMucHJvcHMucmVhc29uQ29kZUxpc3Q7XG4gICAgICAgICAgICB2YXIgb3B0aW9uSXRlbXMgPSByZWFzb25Db2RlcyAmJiByZWFzb25Db2Rlcy5tYXAoZnVuY3Rpb24gKHJlYXNvbkNvZGUsIGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiBpZCwgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogcmVhc29uQ29kZSB9LFxuICAgICAgICAgICAgICAgICAgICByZWFzb25Db2RlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlU2FtcGxlIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMCwgbWQ6IDEwLCBsZzogMTAsIGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnk6ICdmbGV4LXN0YXJ0JyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIzcmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3Rpb25TYXZlUHJvZ3Jlc3NCYXIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NpcmN1bGFyUHJvZ3Jlc3MyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvblByb2dyZXNzQmFyIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkRvbmUsIHsgc3R5bGU6IHsgY29sb3I6IFwiIzVGQzMyQ1wiLCBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIiwgcGFkZGluZ1JpZ2h0OiBcIjAuNXJlbVwiLCBoZWlnaHQ6IFwiMS41cmVtXCIsIHdpZHRoOiBcIjEuNXJlbVwiIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBvcGFjaXR5OiAxIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGVkIFxceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBvcGFjaXR5OiAxIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGUgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZm9udFdlaWdodDogXCJib2xkXCIsIG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0RJU1BVVEUgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ICE9PSAwICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZGlzcGxheTogXCJmbGV4XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBtYXJnaW46IFwiMCA4cHggMCA2cHhcIiB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250V2VpZ2h0OiAnYm9sZCcgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50LCBvbkNsaWNrOiB0aGlzLnByb3BzLnRvZ2dsZUV4cGFuZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCArIFwiIEludm9pY2VcIiArICh0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDEgPyBcInNcIiA6IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmluY29ycmVjdEZsYWcgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Vycm9yMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5lcnJvckZsYWcgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTAgd2l0aCByZWFzb24gY29kZSBvZiBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLnJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaGlkZGVuOiB0aGlzLnN0YXRlLmlzRG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9TZWxlY3QyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3JlYXNvbi1jb2RlLWZpZWxkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuZ2V0UmVhc29uQ29kZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVSZWFzb25Db2RlQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUucmVhc29uQ29kZSA/IGNsYXNzZXMuc2VsZWN0ZWRSZWFzb24gOiBjbGFzc2VzLmVtcHR5UmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudUNsYXNzLCBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVudVByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ1NlbGVjdCcsIGRpc2FibGVkOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZWxlY3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25JdGVtc1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUucmVhc29uQ29kZVRleHRGaWVsZFdpZHRoIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBoaWRkZW46ICF0aGlzLnN0YXRlLmlzRG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJyZWFzb24tY29kZS1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlbGVjdGVkUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnJlYXNvbkNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnZvaWNlQ3VycmVuY3lDaGFuZ2UoXCJhbW91bnRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXJnaW46ICdub3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICdub3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlucHV0Q29tcG9uZW50OiBOdW1iZXJGb3JtYXRDdXN0b20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwgeyBmdWxsU2NyZWVuOiBmdWxsU2NyZWVuLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5BY3Rpb25TYXZlLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZywgdGl0bGU6IGRpc2NhcmRNZXNzYWdlLCBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwiQ3VzdG9tRGlhbG9nXCIgKyAwLCBvbkNsaWNrOiB0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZywgY29sb3I6ICdzZWNvbmRhcnknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnRGlzYWdyZWUnXG4gICAgICAgICAgICAgICAgICAgICksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBcIkN1c3RvbURpYWxvZ1wiICsgMCwgb25DbGljazogdGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2csIGNvbG9yOiAncHJpbWFyeScsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0FncmVlJ1xuICAgICAgICAgICAgICAgICAgICApXSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3Blbldhcm5pbmdEaWFsb2csXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nLCB0aXRsZTogcmVzb2x2ZU1lc3NhZ2UsIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJDdXN0b21EaWFsb2dcIiArIDAsIG9uQ2xpY2s6IHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nLCBjb2xvcjogJ3ByaW1hcnknLCBhdXRvRm9jdXM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdPSydcbiAgICAgICAgICAgICAgICAgICAgKV0gfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwgeyBmdWxsU2NyZWVuOiBmdWxsU2NyZWVuLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5Ob1JlYXNvbkRpYWxvZyxcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZU5vUmVhc29uRGlhbG9nLCB0aXRsZTogbm9SZWFzb25NZXNzYWdlLCBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwiQ3VzdG9tRGlhbG9nXCIgKyAwLCBvbkNsaWNrOiB0aGlzLmNsb3NlTm9SZWFzb25EaWFsb2csIGNvbG9yOiAnc2Vjb25kYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHsgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuTm9JbnZvaWNlRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlTm9JbnZvaWNlRGlhbG9nLCB0aXRsZTogbm9JbnZvaWNlTWVzc2FnZSwgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBcIkN1c3RvbURpYWxvZ1wiICsgMCwgb25DbGljazogdGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZywgY29sb3I6ICdzZWNvbmRhcnknLCBhdXRvRm9jdXM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdPSydcbiAgICAgICAgICAgICAgICAgICAgKV0gfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAyLCBtZDogMiwgbGc6IDIgfSxcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkhpZ2hsaWdodE9mZiwgeyBzdHlsZTogeyBjb2xvcjogXCIjRkY4ODg4XCIsIHBhZGRpbmc6IFwiMCAxLjNyZW0gMCAwLjhyZW1cIiB9LCBvbkNsaWNrOiB0aGlzLm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkNoZWNrQ2lyY2xlT3V0bGluZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIiM1RkMzMkNcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5yZWFzb25Db2RlID8gXCJcIiA6IGNsYXNzZXMuZGlzYWJsZURvbmVCdG4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zdGF0ZS5yZWFzb25Db2RlID8gdGhpcy5zYXZlRGlzcHV0ZSA6IF9jb25zdGFudHMuZW1wdHlGdW5jdGlvbiB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEaXNwdXRlO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdGhpcy5zYXZlRGlzcHV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGludm9pY2VzID0gX3RoaXMzLnByb3BzLmNvcnJlY3RJbnZvaWNlcy5tYXAoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgIHZhciBpbnZvaWNlT2JqID0ge307XG4gICAgICAgICAgICBpbnZvaWNlT2JqLmNtc0RvY0hlYWRlcklkID0gaW52b2ljZS5pZDtcbiAgICAgICAgICAgIHJldHVybiBpbnZvaWNlT2JqO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoX3RoaXMzLnByb3BzLmluY29ycmVjdEZsYWcpIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiB0cnVlIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFfdGhpczMuc3RhdGUucmVhc29uQ29kZSkge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3Blbk5vUmVhc29uRGlhbG9nOiB0cnVlIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5pbnZvaWNlQ291bnQgPT0gMCkge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3Blbk5vSW52b2ljZURpYWxvZzogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSB9KTtcblxuICAgICAgICB2YXIgcmVxT2JqID0ge1xuICAgICAgICAgICAgLy8gYWN0dWFsRGlzcHV0ZUFtb3VudDogdGhpcy5zdGF0ZS5hbW91bnQsXG4gICAgICAgICAgICByZWFzb25Db2RlOiBfdGhpczMuc3RhdGUucmVhc29uQ29kZSxcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IF90aGlzMy5wcm9wcy5jdXN0b21lci5pZCxcbiAgICAgICAgICAgIGRpc3B1dGVJdGVtczogaW52b2ljZXNcbiAgICAgICAgfTtcblxuICAgICAgICBfYXhpb3MyLmRlZmF1bHQucG9zdChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvY3VzdG9tZXIvJyArIF90aGlzMy5wcm9wcy5jdXN0b21lci5pZCArICcvZGlzcHV0ZScsIHJlcU9iaikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIF90aGlzMy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlNVQ0NFU1NcIik7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpc0RvbmU6IHRydWUgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbCBcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5VG9TYXZlID0gX3RoaXMzLmdlbmVyYXRlQWN0aW9uU3VtbWFyeSgpO1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9uQ29tcGxldGlvbigpO1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9uQWN0aW9uSXRlbUNvbmZpcm0oc3VtbWFyeVRvU2F2ZSk7XG4gICAgICAgICAgICBfdGhpczMudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzMy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVSUk9SXCIpO1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW52b2ljZUNvdW50ID0gX3RoaXMzLnN0YXRlLmludm9pY2VDb3VudDtcblxuICAgICAgICB2YXIgZ2VuZXJhdGVkU3VtbWFyeSA9IERJU1BVVEVfVEVNUExBVEUucmVwbGFjZShcIjxESVNQVVRFLVJFQVNPTj5cIiwgX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGUpLnJlcGxhY2UoXCI8SW52b2ljZXM+XCIsIGludm9pY2VDb3VudCA9PSAxID8gaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZVwiIDogaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIik7XG5cbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFN1bW1hcnk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlU3VtbWFyeSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgaW52b2ljZUNvdW50ID0gX3RoaXMzLnN0YXRlLmludm9pY2VDb3VudDtcbiAgICAgICAgdmFyIGZvcm1hdHRlZERhdGUgPSAoMCwgX2RhdGVGbnMuZm9ybWF0KShuZXcgRGF0ZShfdGhpczMuc3RhdGUuc2VsZWN0ZWREYXRlKSwgXCJ5eXl5LU1NLWRkXCIpO1xuICAgICAgICB2YXIgdXBkYXRlZFN1bW1hcnkgPSBESVNQVVRFX09SSUdfVEVNUExBVEUucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgaW52b2ljZUNvdW50ID09PSAwID8gXCI8WCBpbnZvaWNlcz5cIiA6IGludm9pY2VDb3VudCA9PT0gMSA/IGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpLnJlcGxhY2UoXCI8UmVhc29uQ29kZT5cIiwgX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGUpO1xuICAgICAgICBfdGhpczMucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIF90aGlzMy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuQWN0aW9uRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMuZGVsZXRlQWN0aW9uKF90aGlzMy5zdGF0ZS5hY3Rpb25JZCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlTm9SZWFzb25EaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Ob1JlYXNvbkRpYWxvZzogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VOb0ludm9pY2VEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Ob0ludm9pY2VEaWFsb2c6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZVJlYXNvbkNvZGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGNoYW5nZTogdHJ1ZSxcbiAgICAgICAgICAgIHJlYXNvbkNvZGU6IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgLy8gcmVhc29uQ29kZVRleHRGaWVsZFdpZHRoOiBldmVudC50YXJnZXQudmFsdWUgPyAoXCJcIiArIGV2ZW50LnRhcmdldC52YWx1ZS5sZW5ndGgpICogMTIgOiA1MFxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczMudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRSZWFzb25Db2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVhc29uQ29kZXMgPSBfdGhpczMucHJvcHMucmVhc29uQ29kZUxpc3Q7XG4gICAgICAgIGlmIChfdGhpczMuc3RhdGUucmVhc29uQ29kZSAmJiByZWFzb25Db2Rlcy5pbmRleE9mKF90aGlzMy5zdGF0ZS5yZWFzb25Db2RlKSA+PSAwKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gXCJTZWxlY3RcIjtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMuc3RhdGUucmVhc29uQ29kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJTZWxlY3RcIjtcbiAgICB9O1xufTtcblxuRGlzcHV0ZS5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuRGlzcHV0ZS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoRGlzcHV0ZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTAxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cbnZhciBfQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0J1dHRvbik7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9pY29ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI0KTtcblxudmFyIF9kYXRlRm5zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDc2KTtcblxudmFyIF9kYXRlRm5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVGbnMpO1xuXG52YXIgX21hdGVyaWFsVWlQaWNrZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDc3KTtcblxudmFyIF9jb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfYmx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzMyKTtcblxudmFyIF9ibHVlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JsdWUpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX1RleHRGaWVsZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzI1KTtcblxudmFyIF9UZXh0RmllbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dEZpZWxkKTtcblxudmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXG52YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblxudmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblxudmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxudmFyIF9yZWFjdE51bWJlckZvcm1hdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4MCk7XG5cbnZhciBfcmVhY3ROdW1iZXJGb3JtYXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3ROdW1iZXJGb3JtYXQpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblxudmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblxudmFyIF9NZW51SXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY3KTtcblxudmFyIF9NZW51SXRlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZW51SXRlbSk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY3VsYXJQcm9ncmVzcyk7XG5cbnZhciBfQ3VzdG9tRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjcpO1xuXG52YXIgX0N1c3RvbURpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21EaWFsb2cpO1xuXG52YXIgX2RhdGVGbnMzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vY29uc3RhbnRzXG52YXIgZm9sbG93dXBSZWdleCA9IC8oXFxkezR9LVxcZHsyfS1cXGR7Mn1UW1xcZHsyfTpdKi5cXGR7M31bLXwrXVxcZHsyfTpcXGR7Mn0pfChyZWFzb246IC4qKS9nO1xudmFyIGRpc2NhcmRNZXNzYWdlID0gXCJUaGlzIHdpbGwgYmUgcmVtb3ZlZCBwZXJtYW5lbnRseSBmcm9tIHRoZSBzdWdnZXN0ZWQgYWN0aW9ucy4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS5cIjtcbnZhciByZXNvbHZlTWVzc2FnZSA9IFwiIFVuYWJsZSB0byBjb21wbGV0ZSB0aGUgYWN0aW9uLiBQbGVhc2UgcmVzb2x2ZSB0aGUgZXJyb3JzIHRvIGFwcHJvdmUuXCI7XG52YXIgbm9UZXh0TWVzc2FnZSA9IFwiUGxlYXNlIHNlbGVjdCBhcHByb3ByaWF0ZSBmb2xsb3d1cCByZWFzb24uXCI7XG52YXIgaW52YWxpZERhdGVNZXNzYWdlID0gXCJGb3VuZCBpbnZhbGlkIGRhdGUuIFBsZWFzZSBjb3JyZWN0IHRoZSBkYXRlIHRvIHByb2NlZWQuXCI7XG52YXIgRk9MTE9XVVBfVEVNUExBVEUgPSBcIkZvbGxvdyB1cCAgPENvbnRhY3QgTmFtZT4gPEZvbGxvd3VwIERhdGU+IDxGb2xsb3d1cCBUZXh0PlwiO1xudmFyIEZPTExPV1VQX09SSUdfVEVNUExBVEUgPSBcIkNyZWF0ZSBGb2xsb3d1cCBldmVudCBmb3IgPEZvbGxvd3VwIERhdGU+IHJlYXNvbjogPEZvbGxvd3VwIFRleHQ+XCI7XG52YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgaW52b2ljZVNhbXBsZToge1xuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBmbGV4V3JhcDogXCJuby13cmFwXCIsXG4gICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAganVzdGlmeTogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICB3aWR0aDogXCIxMDAlXCJcbiAgICB9LFxuICAgIHRleHRGaWVsZDoge1xuICAgICAgbWFyZ2luOiBcIjBweFwiLFxuICAgICAgLy8gd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIlxuICAgICAgLy8gcGFkZGluZzogXCIwcHhcIixcbiAgICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXG4gICAgICAvLyB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICB9LFxuICAgIHNlbGVjdGVkUmVhc29uOiB7XG4gICAgICBtYXJnaW46IFwiMHB4XCIsXG4gICAgICAvLyB3aWR0aDogXCIxMDAlXCIsXG4gICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxuICAgICAgLy8gcGFkZGluZzogXCIwcHhcIixcbiAgICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXG4gICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjNURBQUUwXCJcbiAgICAgIH0sXG4gICAgICBcIiY6YWZ0ZXJcIjoge1xuICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICM1REFBRTBcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZW1wdHlSZWFzb246IHtcbiAgICAgIG1hcmdpbjogXCIwcHhcIixcbiAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICBjb2xvcjogXCJncmF5XCIsXG4gICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjZmY0NTQzXCJcbiAgICAgIH0sXG4gICAgICBcIiY6YWZ0ZXJcIjoge1xuICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIlxuICAgICAgfVxuICAgIH0sXG4gICAgbWVudUl0ZW1Sb290OiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIG1lbnVQYXBlcjoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgaGVpZ2h0OiBcIjIwcmVtICFpbXBvcnRhbnRcIixcbiAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICBib3JkZXI6IFwiMnB4IHNvbGlkIHdoaXRlXCJcbiAgICB9LFxuICAgIHNlbGVjdE1lbnVDbGFzczoge1xuICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgIG9wYWNpdHk6IDAuNjUsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIHRlc3Q6IHtcbiAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgIHBhZGRpbmc6IFwiMHB4XCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBvcGFjaXR5OiAwLjYsXG4gICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiXG4gICAgfSxcbiAgICBhY3Rpb25Qcm9ncmVzc0Jhcjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgIHdpZHRoOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXG4gICAgICBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIixcbiAgICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcbiAgICAgIGhlaWdodDogXCIxLjVyZW0gIWltcG9ydGFudFwiXG4gICAgfSxcbiAgICBjYXJkQ29udGVudDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgb3BhY2l0eTogMC42NVxuICAgIH0sXG5cbiAgICBhY3Rpb25JY29uOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgIH0sXG4gICAgc2VsZWN0SWNvbjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICB9LFxuICAgIGRpc2FibGVEb25lQnRuOiB7XG4gICAgICBvcGFjaXR5OiAwLjQsXG4gICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiXG4gICAgfVxuICB9O1xufTtcblxudmFyIG1hdGVyaWFsVGhlbWUgPSAoMCwgX2NvcmUuY3JlYXRlTXVpVGhlbWUpKHtcbiAgb3ZlcnJpZGVzOiB7XG4gICAgTXVpUGlja2Vyc1Rvb2xiYXI6IHtcbiAgICAgIHRvb2xiYXI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBfYmx1ZTIuZGVmYXVsdC5BMjAwLFxuICAgICAgICBoZWlnaHQ6IFwiMTN2aFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXI6IHtcbiAgICAgIHN3aXRjaEhlYWRlcjoge1xuICAgICAgICAvLyBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Qmx1ZS5BMjAwLFxuICAgICAgICAvLyBjb2xvcjogJ3doaXRlJyxcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aVBpY2tlcnNEYXk6IHtcbiAgICAgIGRheToge1xuICAgICAgICBjb2xvcjogX2JsdWUyLmRlZmF1bHQuQTcwMFxuICAgICAgfSxcbiAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogX2JsdWUyLmRlZmF1bHRbXCI0MDBcIl1cbiAgICAgIH0sXG4gICAgICBjdXJyZW50OiB7XG4gICAgICAgIGNvbG9yOiBfYmx1ZTIuZGVmYXVsdFtcIjkwMFwiXVxuICAgICAgfVxuICAgIH0sXG4gICAgTXVpRm9ybUhlbHBlclRleHQ6IHtcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvbG9yOiBcIiNGRjg4ODggIWltcG9ydGFudFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlQaWNrZXJzTW9kYWw6IHtcbiAgICAgIGRpYWxvZ0FjdGlvbjoge1xuICAgICAgICBjb2xvcjogX2JsdWUyLmRlZmF1bHRbXCI0MDBcIl1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgRm9sbG93dXAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRm9sbG93dXAsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEZvbGxvd3VwKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvbGxvd3VwKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGb2xsb3d1cC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZvbGxvd3VwKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgIHZhciBleHRyYWN0ZWREYXRhID0gX3RoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKGZvbGxvd3VwUmVnZXgpO1xuICAgIHZhciBzZWxlY3RlZERhdGUgPSBcIlwiO1xuICAgIHZhciBmb2xsb3d1cFRleHQgPSBcIlwiO1xuICAgIGlmIChleHRyYWN0ZWREYXRhICYmIGV4dHJhY3RlZERhdGEubGVuZ3RoID4gMCkge1xuICAgICAgc2VsZWN0ZWREYXRlID0gbmV3IERhdGUoZXh0cmFjdGVkRGF0YVswXSk7XG4gICAgICBmb2xsb3d1cFRleHQgPSBleHRyYWN0ZWREYXRhWzFdID8gZXh0cmFjdGVkRGF0YVsxXS5zdWJzdHJpbmcoOCkgOiBudWxsO1xuICAgIH1cblxuICAgIHZhciBmb2xsb3d1cFRleHRzID0gX3RoaXMucHJvcHMuZm9sbG93dXBUZXh0TGlzdDtcblxuICAgIGlmIChmb2xsb3d1cFRleHRzLmluZGV4T2YoZm9sbG93dXBUZXh0KSA8IDApIHtcbiAgICAgIGZvbGxvd3VwVGV4dCA9IFwiXCI7XG4gICAgfVxuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgIGlzRWRpdGluZzogZmFsc2UsXG4gICAgICBmb2xsb3d1cFRleHQ6IGZvbGxvd3VwVGV4dCxcbiAgICAgIHNlbGVjdGVkRGF0ZTogbmV3IERhdGUoc2VsZWN0ZWREYXRlKSxcbiAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcbiAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcbiAgICAgIG9wZW5JbnZhbGlkRGF0ZURpYWxvZzogZmFsc2UsXG4gICAgICBvcGVuUHJvZ3Jlc3NCYXI6IHRydWUsXG4gICAgICBhY3Rpb25JZDogX3RoaXMucHJvcHMuc3VtbWFyeS5pZCxcbiAgICAgIGlzRG9uZTogX3RoaXMucHJvcHMuc3VtbWFyeS5zYXZlLFxuICAgICAgZmluYWxTZWxlY3RlZERhdGU6IF90aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSA/ICgwLCBfZGF0ZUZuczMuZm9ybWF0KShuZXcgRGF0ZShleHRyYWN0ZWREYXRhWzBdKSwgXCJNTU0gZGQsIHl5eXlcIikgOiBcIlwiLFxuICAgICAgLy8gZm9sbG93dXBUZXh0RmllbGRXaWR0aDogZm9sbG93dXBUZXh0ID8gKFwiXCIgKyBmb2xsb3d1cFRleHQpLmxlbmd0aCAqIDEyIDogNTAsXG4gICAgICBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlLFxuICAgICAgaW5jb3JyZWN0RmxhZzogbnVsbFxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZvbGxvd3VwLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGluY29ycmVjdEZsYWc6IG5leHRQcm9wcy5pbmNvcnJlY3RGbGFnXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLnByb3BzLmNsYXNzZXM7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzdW1tYXJ5ID0gX3Byb3BzLnN1bW1hcnksXG4gICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG4gICAgICB2YXIgZnVsbFNjcmVlbiA9IHRoaXMucHJvcHMuZnVsbFNjcmVlbjtcblxuXG4gICAgICB2YXIgZm9sbG93dXBUZXh0cyA9IHRoaXMucHJvcHMuZm9sbG93dXBUZXh0TGlzdDtcbiAgICAgIHZhciBvcHRpb25JdGVtcyA9IGZvbGxvd3VwVGV4dHMubWFwKGZ1bmN0aW9uIChmb2xsb3d1cFRleHQsIGlkKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiBcImZvbGxvd3VwVGV4dFwiICsgaWQsXG4gICAgICAgICAgICB2YWx1ZTogZm9sbG93dXBUZXh0LFxuICAgICAgICAgICAgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb2xsb3d1cFRleHRcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmludm9pY2VTYW1wbGUgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgIHhzOiAxMCxcbiAgICAgICAgICAgIG1kOiAxMCxcbiAgICAgICAgICAgIGxnOiAxMCxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAganVzdGlmeTogJ2ZsZXgtc3RhcnQnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIzcmVtXCIgfSB9LFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3Rpb25TYXZlUHJvZ3Jlc3NCYXIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NpcmN1bGFyUHJvZ3Jlc3MyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvblByb2dyZXNzQmFyIH0pLFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkRvbmUsIHtcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjNUZDMzJDXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxLjVyZW1cIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxLjVyZW1cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnQ3JlYXRlZCBcXHhBMCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHlsZTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdDcmVhdGUgXFx4QTAnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHsgc3R5bGU6IHsgb3BhY2l0eTogMSB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgJ0ZPTExPVy1VUCBcXHhBMCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgJ2V2ZW50IGZvciBcXHhBMCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZpbmFsU2VsZWN0ZWREYXRlXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9tYXRlcmlhbFVpUGlja2Vycy5NdWlQaWNrZXJzVXRpbHNQcm92aWRlcixcbiAgICAgICAgICAgICAgeyB1dGlsczogX2RhdGVGbnMyLmRlZmF1bHQgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX2NvcmUuTXVpVGhlbWVQcm92aWRlcixcbiAgICAgICAgICAgICAgICB7IHRoZW1lOiBtYXRlcmlhbFRoZW1lIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX21hdGVyaWFsVWlQaWNrZXJzLkRhdGVQaWNrZXIsIHtcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1heFdpZHRoOiBcIjUuMzVyZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IEJvb2xlYW4oZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgZm9ybWF0OiAnTU1NIGRkLCB5eXl5JyxcbiAgICAgICAgICAgICAgICAgIG1pbkRhdGVNZXNzYWdlOiAnUHJldmlvdXMgZGF0ZSBub3QgYWNjZXB0YWJsZScsXG4gICAgICAgICAgICAgICAgICBJbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4odHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IEJvb2xlYW4odHJ1ZSlcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5waWNrZXIgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZURhdGVDaGFuZ2VcbiAgICAgICAgICAgICAgICAgIC8vIG9uQ2xpY2s9e2UgPT4gZS5wcmV2ZW50RGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICwgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgbWluRGF0ZTogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5EYXRlUmFuZ2UsIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25JY29uLFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vcGVuUGlja2VyXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgaGlkZGVuOiB0aGlzLnN0YXRlLmlzRG9uZSAmJiAhdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgJ1xceEEwIGZvciBcXHhBMCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGl0ZW06IHRydWVcbiAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0RmllbGRXaWR0aCB9fVxuICAgICAgICAgICAgICAsIGhpZGRlbjogdGhpcy5zdGF0ZS5pc0RvbmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1NlbGVjdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnZm9sbG93dXAtdGV4dC1maWVsZCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuZ2V0Rm9sbG93dXBUZXh0KCksXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRm9sbG93dXBUZXh0Q2hhbmdlLFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICAgIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudUNsYXNzLFxuICAgICAgICAgICAgICAgICAgaWNvbjogY2xhc3Nlcy5zZWxlY3RJY29uXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0ID8gY2xhc3Nlcy5zZWxlY3RlZFJlYXNvbiA6IGNsYXNzZXMuZW1wdHlSZWFzb24sXG4gICAgICAgICAgICAgICAgTWVudVByb3BzOiB7XG4gICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhcGVyOiBjbGFzc2VzLm1lbnVQYXBlclxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiAnU2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnU2VsZWN0J1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBvcHRpb25JdGVtc1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaXRlbTogdHJ1ZVxuICAgICAgICAgICAgICAvLyBzdHlsZT17eyB3aWR0aDogdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRGaWVsZFdpZHRoIH19XG4gICAgICAgICAgICAgICwgaGlkZGVuOiAhdGhpcy5zdGF0ZS5pc0RvbmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgIGlkOiBcInJlYXNvbi1jb2RlLWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlbGVjdGVkUmVhc29uLFxuICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRcbiAgICAgICAgICAgICAgLy8gb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW52b2ljZUN1cnJlbmN5Q2hhbmdlKFwiYW1vdW50XCIpfVxuICAgICAgICAgICAgICAsIG1hcmdpbjogJ25vcm1hbCcsXG4gICAgICAgICAgICAgIHBhZGRpbmc6ICdub3JtYWwnLFxuICAgICAgICAgICAgICBJbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRlc3QsXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZVxuICAgICAgICAgICAgICAgIC8vIGlucHV0Q29tcG9uZW50OiBOdW1iZXJGb3JtYXRDdXN0b20sXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5Ob1RleHREaWFsb2csXG4gICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZU5vVGV4dERpYWxvZyxcbiAgICAgICAgICB0aXRsZTogbm9UZXh0TWVzc2FnZSxcbiAgICAgICAgICBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlTm9UZXh0RGlhbG9nLFxuICAgICAgICAgICAgICBjb2xvcjogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgIGF1dG9Gb2N1czogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdPSydcbiAgICAgICAgICApXVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgIGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuQWN0aW9uU2F2ZSxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZyxcbiAgICAgICAgICB0aXRsZTogZGlzY2FyZE1lc3NhZ2UsXG4gICAgICAgICAgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2csIGNvbG9yOiAnc2Vjb25kYXJ5JyB9LFxuICAgICAgICAgICAgJ0Rpc2FncmVlJ1xuICAgICAgICAgICksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2csXG4gICAgICAgICAgICAgIGNvbG9yOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgIGF1dG9Gb2N1czogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdBZ3JlZSdcbiAgICAgICAgICApXVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgIGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZyxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZyxcbiAgICAgICAgICB0aXRsZTogcmVzb2x2ZU1lc3NhZ2UsXG4gICAgICAgICAgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2csXG4gICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICldXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5JbnZhbGlkRGF0ZURpYWxvZyxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlSW52YWxpZERhdGVEaWFsb2csXG4gICAgICAgICAgdGl0bGU6IGludmFsaWREYXRlTWVzc2FnZSxcbiAgICAgICAgICBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlSW52YWxpZERhdGVEaWFsb2csXG4gICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICldXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAyLCBtZDogMiwgbGc6IDIgfSxcbiAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuSGlnaGxpZ2h0T2ZmLCB7XG4gICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH0sXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2dcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkNoZWNrQ2lyY2xlT3V0bGluZSwge1xuICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIgfSxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRuLFxuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IHRoaXMuc2F2ZUZvbGxvd3VwIDogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRm9sbG93dXA7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gIHRoaXMudmFsaWRhdGVGb2xsb3d1cERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKF90aGlzMy5zdGF0ZS5pbmNvcnJlY3RGbGFnKSB7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoISgwLCBfaGVscGVyLmlzVmFsaWREYXRlKShfdGhpczMuc3RhdGUuc2VsZWN0ZWREYXRlKSkge1xuICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkludmFsaWREYXRlRGlhbG9nOiB0cnVlIH0pO1xuICAgICAgLy8gdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2coXCJQbGVhc2UgY29ycmVjdCBkYXRlIGZpcnN0LlwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICB0aGlzLnNhdmVGb2xsb3d1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIV90aGlzMy52YWxpZGF0ZUZvbGxvd3VwRGF0YSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0KSB7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuTm9UZXh0RGlhbG9nOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSB9KTtcbiAgICB2YXIgZm9sbG93RGF0ZSA9IG5ldyBEYXRlKF90aGlzMy5zdGF0ZS5zZWxlY3RlZERhdGUpO1xuICAgIHZhciBmb2xsb3dGb3JtYXREYXRlID0gKDAsIF9kYXRlRm5zMy5mb3JtYXQpKGZvbGxvd0RhdGUsIFwieXl5eS1NTS1kZFwiKTtcblxuICAgIHZhciByZXFPYmogPSB7XG4gICAgICBkdWVEYXRlOiBmb2xsb3dGb3JtYXREYXRlLFxuICAgICAgcmVtaW5kZXJEYXRlOiBmb2xsb3dGb3JtYXREYXRlLFxuICAgICAgc3ViamVjdDogX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dFxuICAgICAgLy8gYXNzaWduZWRUb1VzZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIuaWQsXG4gICAgfTtcblxuICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jdXN0b21lci8nICsgX3RoaXMzLnByb3BzLmN1c3RvbWVyLmlkICsgJy90YXNrJywgcmVxT2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgX3RoaXMzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiU1VDQ0VTU1wiKTtcbiAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGZpbmFsU2VsZWN0ZWREYXRlOiBfdGhpczMuZ2V0RGF0ZUZpZWxkVmFsdWUoKSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGlzRG9uZTogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbFxuICAgICAgdmFyIHN1bW1hcnlUb1NhdmUgPSBfdGhpczMuZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5KCk7XG4gICAgICBfdGhpczMucHJvcHMub25Db21wbGV0aW9uKCk7XG4gICAgICBfdGhpczMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybShzdW1tYXJ5VG9TYXZlKTtcbiAgICAgIF90aGlzMy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcbiAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGludm9pY2VDb3VudCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlQ291bnQ7XG4gICAgdmFyIGNvbnRhY3ROdW1iZXIgPSBfdGhpczMucHJvcHMuY2FsbGVkVG9OdW1iZXI7XG4gICAgLy8gbGV0IHNlbGVjdGVkZm9ybWF0dGVkRGF0ZSA9IChkYXRlLmdldE1vbnRoKCkgKyAxKSArICctJyArIGRhdGUuZ2V0RGF0ZSgpICsgJy0nICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHZhciBjb250YWN0TmFtZSA9IChfdGhpczMucHJvcHMuY2FsbFRvTmFtZSA9PSBcIlVua25vd24gXCIgfHwgX3RoaXMzLnByb3BzLmNhbGxUb05hbWUgPT0gXCJVbm5hbWVkIFVubmFtZWRcIikgJiYgY29udGFjdE51bWJlciA/IGNvbnRhY3ROdW1iZXIgOiBfdGhpczMucHJvcHMuY2FsbFRvTmFtZTtcbiAgICB2YXIgZ2VuZXJhdGVkU3VtbWFyeSA9IEZPTExPV1VQX1RFTVBMQVRFLnJlcGxhY2UoXCI8Q29udGFjdCBOYW1lPlwiLCBjb250YWN0TmFtZSkucmVwbGFjZShcIjxGb2xsb3d1cCBEYXRlPlwiLCBfdGhpczMuc3RhdGUuc2VsZWN0ZWREYXRlID8gXCJvbiBcIiArICgwLCBfZGF0ZUZuczMuZm9ybWF0KShfdGhpczMuc3RhdGUuc2VsZWN0ZWREYXRlLCBcIk1NLWRkLXl5eXlcIikgOiBcIlwiKS5yZXBsYWNlKFwiPEZvbGxvd3VwIFRleHQ+XCIsIF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQgPyBcImZvciBcIiArIF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQgOiBcIlwiKTtcblxuICAgIHJldHVybiBnZW5lcmF0ZWRTdW1tYXJ5O1xuICB9O1xuXG4gIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIF90aGlzMy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcbiAgfTtcblxuICB0aGlzLm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9KTtcbiAgfTtcblxuICB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMzLnByb3BzLmRlbGV0ZUFjdGlvbihfdGhpczMuc3RhdGUuYWN0aW9uSWQpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcbiAgfTtcblxuICB0aGlzLmNsb3NlTm9UZXh0RGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Ob1RleHREaWFsb2c6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuSW52YWxpZERhdGVEaWFsb2c6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMudG9nZ2xlRWRpdGluZyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgcmVhZE9ubHk6IGZhbHNlLCBpc0VkaXRpbmc6IHRydWUgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIF90aGlzMy5zdGF0ZS5hY3Rpb25JZCkuZm9jdXMoKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZURhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkRGF0ZTogZGF0ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczMudXBkYXRlU3VtbWFyeSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0RGF0ZUZpZWxkVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlkID0gXCJkYXRlLWlucHV0LWZpZWxkLVwiICsgX3RoaXMzLnN0YXRlLmFjdGlvbklkO1xuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWU7XG4gIH07XG5cbiAgdGhpcy5oYW5kbGVGb2xsb3d1cFRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgY2hhbmdlOiB0cnVlLFxuICAgICAgZm9sbG93dXBUZXh0OiBldmVudC50YXJnZXQudmFsdWVcbiAgICAgIC8vIGZvbGxvd3VwVGV4dEZpZWxkV2lkdGg6IGV2ZW50LnRhcmdldC52YWx1ZSA/IChcIlwiICsgZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCkgKiAxMiA6IDUwXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdldEZvbGxvd3VwVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZm9sbG93dXBUZXh0cyA9IF90aGlzMy5wcm9wcy5mb2xsb3d1cFRleHRMaXN0O1xuICAgIGlmIChfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0ICYmIGZvbGxvd3VwVGV4dHMuaW5kZXhPZihfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0KSA+PSAwKSB7XG4gICAgICByZXR1cm4gX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIFwiU2VsZWN0XCI7XG4gIH07XG5cbiAgdGhpcy51cGRhdGVTdW1tYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbnZvaWNlQ291bnQgPSBfdGhpczMuc3RhdGUuaW52b2ljZUNvdW50O1xuICAgIHZhciBmb3JtYXR0ZWREYXRlID0gKDAsIF9kYXRlRm5zMy5mb3JtYXQpKG5ldyBEYXRlKF90aGlzMy5zdGF0ZS5zZWxlY3RlZERhdGUpLCBcInl5eXktTU0tZGRcIik7XG4gICAgdmFyIHVwZGF0ZWRTdW1tYXJ5ID0gRk9MTE9XVVBfT1JJR19URU1QTEFURS5yZXBsYWNlKFwiPEZvbGxvd3VwIERhdGU+XCIsIGZvcm1hdHRlZERhdGUpLnJlcGxhY2UoXCI8Rm9sbG93dXAgVGV4dD5cIiwgX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQgOiBcIlwiKTtcbiAgICBfdGhpczMucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KTtcbiAgfTtcblxuICB0aGlzLm9wZW5QaWNrZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIF90aGlzMy5waWNrZXIub3BlbihlKTtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIE51bWJlckZvcm1hdEN1c3RvbShwcm9wcykge1xuICB2YXIgaW5wdXRSZWYgPSBwcm9wcy5pbnB1dFJlZixcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgWydpbnB1dFJlZicsICdvbkNoYW5nZSddKTtcblxuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0TnVtYmVyRm9ybWF0Mi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgb3RoZXIsIHtcbiAgICBnZXRJbnB1dFJlZjogaW5wdXRSZWYsXG4gICAgb25WYWx1ZUNoYW5nZTogZnVuY3Rpb24gb25WYWx1ZUNoYW5nZSh2YWx1ZXMpIHtcbiAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlcy52YWx1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRob3VzYW5kU2VwYXJhdG9yOiB0cnVlLFxuICAgIHByZWZpeDogJyQnXG4gIH0pKTtcbn1cblxuTnVtYmVyRm9ybWF0Q3VzdG9tLnByb3BUeXBlcyA9IHtcbiAgaW5wdXRSZWY6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBvbkNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWRcbn07XG5cbkZvbGxvd3VwLnByb3BUeXBlcyA9IHtcbiAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShGb2xsb3d1cCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTAyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX0dyaWRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjgpO1xuXG52YXIgX0dyaWRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0KTtcblxudmFyIF9HcmlkTGlzdFRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSk7XG5cbnZhciBfR3JpZExpc3RUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0VGlsZSk7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNik7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0NoZWNrQ2lyY2xlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTMpO1xuXG52YXIgX0NoZWNrQ2lyY2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrQ2lyY2xlKTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9SYWRpb0J1dHRvblVuY2hlY2tlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzU1KTtcblxudmFyIF9SYWRpb0J1dHRvblVuY2hlY2tlZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYWRpb0J1dHRvblVuY2hlY2tlZCk7XG5cbnZhciBfQWRkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTIpO1xuXG52YXIgX0FkZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BZGQpO1xuXG52YXIgX1JlbW92ZUNpcmNsZU91dGxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Nik7XG5cbnZhciBfUmVtb3ZlQ2lyY2xlT3V0bGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW1vdmVDaXJjbGVPdXRsaW5lKTtcblxudmFyIF9DbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXG52YXIgX0Nsb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlKTtcblxudmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxudmFyIF9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnV0dG9uKTtcblxudmFyIF9GYWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NCk7XG5cbnZhciBfRmFiMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZhYik7XG5cbnZhciBfQ2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXG52YXIgX0NhcmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZCk7XG5cbnZhciBfQ2FyZENvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbnZhciBfQ2FyZENvbnRlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZENvbnRlbnQpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0Vycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzApO1xuXG52YXIgX0Vycm9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Vycm9yKTtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfRGlhbG9nQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblxudmFyIF9EaWFsb2dBY3Rpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ0FjdGlvbnMpO1xuXG52YXIgX0RpYWxvZ1RpdGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjkpO1xuXG52YXIgX0RpYWxvZ1RpdGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ1RpdGxlKTtcblxudmFyIF9Nb2RhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xuXG52YXIgX01vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsKTtcblxudmFyIF9EdWVEZXRhaWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODEpO1xuXG52YXIgX0R1ZURldGFpbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EdWVEZXRhaWwpO1xuXG52YXIgX0NsZWFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzgpO1xuXG52YXIgX0NsZWFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NsZWFyKTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblxudmFyIF9MaXN0T2ZUaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDgzKTtcblxudmFyIF9MaXN0T2ZUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3RPZlRpbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBQMlBSZWdleCA9IC8oUHJvbWlzZSB0byBwYXkgZm9yIFxcZCopfChbMC05XXs0fVstXVswLTldezJ9Wy1dWzAtOV17Mn0pfChcXGQqIGludm9pY2UpL2c7XG52YXIgbWVzc2FnZSA9IFwiUGxlYXNlIHNlbGVjdCBzb21lIGludm9pY2VzLlwiO1xudmFyIGRpc3B1dGVSZWdleCA9IC8oXFxkKiBpbnZvaWNlKXwoYmVjYXVzZSBvZiAuKikvZztcblxuZnVuY3Rpb24gcmFuZCgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjApIC0gMTA7XG59XG5cbmZ1bmN0aW9uIGdldE1vZGFsU3R5bGUodGhlbWUpIHtcbiAgICB2YXIgdG9wID0gNTA7XG4gICAgdmFyIGxlZnQgPSA1MDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogdG9wICsgJyUnLFxuICAgICAgICBsZWZ0OiBsZWZ0ICsgJyUnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLScgKyB0b3AgKyAnJSwgLScgKyBsZWZ0ICsgJyUpJyxcbiAgICAgICAgd2lkdGg6IFwiNzN2d1wiLFxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgMnB4IHNvbGlkXCJcbiAgICB9O1xufVxuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHtcblxuICAgICAgICBpbnZvaWNlSGVhZGVyOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiNi40ODE0ODE0ODE0OHZoXCIsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIjMzk1QzczIHNvbGlkIDFweFwiLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiM3JlbVwiXG4gICAgICAgICAgICAvLyBib3JkZXJUb3A6IFwic29saWQgYmxhY2sgMXB4XCJcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tlZEljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAgICAgekluZGV4OiBcIjNcIixcbiAgICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUxpc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMXJlbVwiLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuOXJlbVwiLFxuICAgICAgICAgICAgLy8gZmxleFdyYXA6ICd3cmFwJyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYXJvdW5kJyxcbiAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjNyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBjb3JyZWN0aW9uOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIlxuICAgICAgICB9LFxuICAgICAgICBjb3JyZWN0aW9uQWxlcnQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiBcIiNGRjg4ODhcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlcnJvckZsYWc6IHtcbiAgICAgICAgICAgIGNvbG9yOiBcIiNGRjQ0NDRcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBncmlkTGlzdDoge1xuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgIG1hcmdpbjogJzEwcHggMHB4IC0ycHggLS40cmVtICFpbXBvcnRhbnQnXG4gICAgICAgIH0sXG4gICAgICAgIGdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiNy40MHZoXCIsXG4gICAgICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAxcHhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcbiAgICAgICAgICAgIC8vIHBhZGRpbmc6ICc0cHgnLFxuXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGVkR3JpZExpc3REaXY6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcbiAgICAgICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzOTU4NkZcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcbiAgICAgICAgICAgIC8vIHBhZGRpbmc6ICc0cHgnLFxuICAgICAgICB9LFxuICAgICAgICBpbmNvcnJlY3REaXY6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGJvcmRlcjogXCIjRkY4ODg4IGRhc2hlZCAxcHhcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcbiAgICAgICAgICAgIC8vIHBhZGRpbmc6ICc0cHgnLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBcIiNGRUM1QzVcIixcbiAgICAgICAgfSxcbiAgICAgICAgcGFwZXI6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgd2lkdGg6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDEwMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgICAgICAgIGJveFNoYWRvdzogdGhlbWUuc2hhZG93c1s1XSxcbiAgICAgICAgICAgIHBhZGRpbmc6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDEsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogMCxcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMFxuICAgICAgICB9LFxuICAgICAgICBidXR0b246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjJlbVwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBhZGRJY29uOiB7XG4gICAgICAgICAgICB3aWR0aDogJ2NhbGMoMS4xdmggKyAxLjF2dyknLFxuICAgICAgICAgICAgaGVpZ2h0OiAnY2FsYygxLjF2aCArIDEuMXZ3KScsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBzZWNvbmRhcnlUZXh0OiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBwcmltYXJ5VGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIEFjdGlvbkRldGFpbHMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhBY3Rpb25EZXRhaWxzLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEFjdGlvbkRldGFpbHMocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjdGlvbkRldGFpbHMpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBY3Rpb25EZXRhaWxzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWN0aW9uRGV0YWlscykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIHZhciBzdW1tYXJ5ID0gX3RoaXMucHJvcHMuc3VtO1xuICAgICAgICB2YXIgaW50ZW50VHlwZSA9IF90aGlzLnByb3BzLmludGVudFR5cGU7XG4gICAgICAgIHZhciBleHRyYWN0ZWRBbW91bnQgPSB2b2lkIDA7XG4gICAgICAgIC8vIGxldCBub09mSW52b2ljZXMgPSAwO1xuICAgICAgICBpZiAoaW50ZW50VHlwZSA9PSBcIlAyUFwiKSB7XG4gICAgICAgICAgICB2YXIgZXh0cmFjdGVkRGF0YSA9IHN1bW1hcnkuc3VtbWFyeS5tYXRjaChQMlBSZWdleCk7XG4gICAgICAgICAgICBleHRyYWN0ZWRBbW91bnQgPSBleHRyYWN0ZWREYXRhWzBdLm1hdGNoKC9bMC05XXsxLH0vKTtcblxuICAgICAgICAgICAgaWYgKCFleHRyYWN0ZWRBbW91bnQpIHtcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRBbW91bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm9PZkludm9pY2VzID0gZXh0cmFjdGVkRGF0YVsyXSA/IGV4dHJhY3RlZERhdGFbMl0ubWF0Y2goL1swLTldezEsfS8pIDogMDtcblxuICAgICAgICAgICAgLy8gaWYgKCFub09mSW52b2ljZXMpIHtcbiAgICAgICAgICAgIC8vICAgICBub09mSW52b2ljZXMgPSAwO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGludm9pY2VDaGVja3NNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlcztcbiAgICAgICAgaWYgKGludm9pY2VzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludm9pY2UgPSBpbnZvaWNlc1tpXTtcblxuICAgICAgICAgICAgICAgIGludm9pY2VDaGVja3NNYXAuc2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGludGVudFR5cGUgPT0gXCJEaXNwdXRlXCIpIHtcbiAgICAgICAgICAgIHZhciBfZXh0cmFjdGVkRGF0YSA9IHN1bW1hcnkuc3VtbWFyeS5tYXRjaChkaXNwdXRlUmVnZXgpO1xuICAgICAgICAgICAgLy8gbm9PZkludm9pY2VzID0gZXh0cmFjdGVkRGF0YVswXSA/IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pIDogMDtcblxuICAgICAgICAgICAgLy8gaWYgKCFub09mSW52b2ljZXMpIHtcbiAgICAgICAgICAgIC8vICAgICBub09mSW52b2ljZXMgPSAwO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICB2YXIgcmVhc29uQ29kZSA9IF9leHRyYWN0ZWREYXRhWzFdID8gX2V4dHJhY3RlZERhdGFbMV0uc3Vic3RyaW5nKDExKSA6IFwiR2VuZXJhbCBEaXNwdXRlXCI7XG5cbiAgICAgICAgICAgIGlmICghcmVhc29uQ29kZSkge1xuICAgICAgICAgICAgICAgIHJlYXNvbkNvZGUgPSBcIkdlbmVyYWwgRGlzcHV0ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBhbGxJbnZvaWNlc1NlbGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IGludm9pY2VDaGVja3NNYXAsXG4gICAgICAgICAgICB0b3RhbEFtb3VudDogZXh0cmFjdGVkQW1vdW50LFxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiBfdGhpcy5wcm9wcy5pbnZvaWNlQ291bnQsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IF90aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlcyxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogX3RoaXMucHJvcHMuY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogX3RoaXMucHJvcHMuaW5jb3JyZWN0RmxhZyxcbiAgICAgICAgICAgIGlzTWVzc2FnZURpYWxvZ09wZW46IGZhbHNlLFxuICAgICAgICAgICAgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UsXG4gICAgICAgICAgICBpbnZvaWNlczogX3RoaXMucHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogX3RoaXMucHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBleGVjdXRlQXBwZW5kSW52b2ljZTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLy8gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAvLyAgICAgLy8gdGhpcy5zZXRTdGF0ZSh7Y29ycmVjdEludm9pY2VzOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzfSk7XG4gICAgLy8gICAgIC8vICB0aGlzLnNldFN0YXRlKHtjb3JyZWN0SW52b2ljZXM6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXMsY29ycmVjdEludm9pY2VzTWFwOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzTWFwfSlcblxuICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHtjb3JyZWN0SW52b2ljZXM6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcH0pO1xuICAgIC8vIH1cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEFjdGlvbkRldGFpbHMsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgIHRoZW1lID0gX3Byb3BzLnRoZW1lO1xuXG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiAnMTAwJScgfSB9LFxuICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmRvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9Nb2RhbDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogJ3NpbXBsZS1tb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnc2ltcGxlLW1vZGFsLWRlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5BZGRJbnZvaWNlTW9kYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZUFkZEludm9pY2VNb2RhbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IGdldE1vZGFsU3R5bGUodGhlbWUpLCBjbGFzc05hbWU6IGNsYXNzZXMucGFwZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgd2lkdGg6IFwiMTAwJVwiLCBkaXNwbGF5OiBcImZsZXhcIiwgYWxpZ25JdGVtOiBcImNlbnRlclwiLCBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICAjMzk1QzczIFwiLCBwYWRkaW5nOiBcIi4ycmVtIDAgLjZyZW0gMFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpbkxlZnQ6IFwiMXJlbVwiLCBmb250U2l6ZTogXCIxLjNyZW1cIiwgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAwLjY1IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZWxlY3QgYW5kIEFkZCBJbnZvaWNlcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NsZWFyMi5kZWZhdWx0LCB7IG9uQ2xpY2s6IHRoaXMuY2xvc2VBZGRJbnZvaWNlTW9kYWwsIHN0eWxlOiB7IHBvc2l0aW9uOiBcImZpeGVkXCIsIHJpZ2h0OiBcIjUlXCIsIG9wYWNpdHk6IDAuNjUsIGN1cnNvcjogXCJwb2ludGVyXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRHVlRGV0YWlsMi5kZWZhdWx0LCB7IHNldFNlbGVjdGVkSW52b2ljZXM6IHRoaXMuc2V0U2VsZWN0ZWRJbnZvaWNlcywgcG9zdENhbGw6IHRydWUsIGFwcGVuZEludm9pY2VzOiB0aGlzLmFwcGVuZEludm9pY2VzLCBmaWx0ZXJJbnZvaWNlczogdGhpcy5maWx0ZXJJbnZvaWNlcywgYnVja2V0TmFtZXM6IHRoaXMucHJvcHMuYnVja2V0TmFtZXMsIGludm9pY2VzOiB0aGlzLnN0YXRlLmludm9pY2VzLCBjb3JyZWN0SW52b2ljZXNNYXA6IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIHhzOiAxMiwganVzdGlmeTogJ2ZsZXgtZW5kJywgYWxpZ25JdGVtczogJ2NlbnRlcicsIHN0eWxlOiB7IGJvcmRlclRvcDogXCIxcHggc29saWQgIzM5NUM3M1wiLCBwYWRkaW5nVG9wOiBcIi42cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHZhcmlhbnQ6ICdjb250YWluZWQnLCBjb2xvcjogJ3NlY29uZGFyeScsIGNsYXNzTmFtZTogY2xhc3Nlcy5idXR0b24sIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYXBwZW5kSW52b2ljZXMoX3RoaXMyLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTYXZlICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGgoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUhlYWRlciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBwYWRkaW5nVG9wOiBcIjAuNXJlbVwiLCBwYWRkaW5nQm90dG9tOiBcIjAuNXJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLCBwYWRkaW5nUmlnaHQ6IFwiMS41NnZ3XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgc3R5bGU6IHsgcGFkZGluZzogJzBweCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUFsbFNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnByaW1hcnlUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTBTZWxlY3QgYWxsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFyaWFudDogJ291dGxpbmVkJywgY29sb3I6ICdzZWNvbmRhcnknLCBzaXplOiAnc21hbGwnLCBzdHlsZTogeyBoZWlnaHQ6IFwiNC40NHZoXCIsIHBhZGRpbmdMZWZ0OiBcIjAuNjY2cmVtXCIsIHBhZGRpbmdSaWdodDogXCIwLjY2NnJlbVwiIH0sIG9uQ2xpY2s6IHRoaXMub3BlbkFkZEludm9pY2VNb2RhbCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBtYXJnaW5MZWZ0OiAnNHB4JywgbWFyZ2luUmlnaHQ6ICc0cHgnLCBmb250U2l6ZTogJy44OXJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0IEludm9pY2VzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFyaWFudDogJ291dGxpbmVkJywgY29sb3I6ICdzZWNvbmRhcnknLCBzaXplOiAnc21hbGwnLCBzdHlsZTogeyBoZWlnaHQ6IFwiNC40NHZoXCIsIG1hcmdpbkxlZnQ6IFwiMXJlbVwiLCBwYWRkaW5nOiBcIjAgMC42NjZyZW1cIiB9LCBvbkNsaWNrOiB0aGlzLmRlbGV0ZUFsbFNlbGVjdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb3NlMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hZGRJY29uIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBtYXJnaW5MZWZ0OiAnNHB4JywgZm9udFNpemU6ICcuODlyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1JlbW92ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlTGlzdCB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY29ycmVjdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucHJpbWFyeVRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgPiAxID8gXCJJbnZvaWNlcyBcIiA6IFwiSW52b2ljZSBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLmludGVudFR5cGUgPT0gXCJQMlBcIiB8fCB0aGlzLnByb3BzLmludGVudFR5cGUgPT0gXCJEaXNwdXRlXCIpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgb3BhY2l0eTogMC41IH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5wcmltYXJ5VGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHhBMCgkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUFtb3VudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBtYXJnaW5MZWZ0OiBcIi41cmVtXCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9FcnJvcjIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuZXJyb3JGbGFnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY29ycmVjdGlvbkFsZXJ0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb3JyZWN0aW9uIFJlcXVpcmVkKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLmxlbmd0aCAtIE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZExpc3QyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNlbGxIZWlnaHQ6IFwiYXV0b1wiLCBjbGFzc05hbWU6IGNsYXNzZXMuZ3JpZExpc3QgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0VGlsZTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xzOiAxLCBrZXk6IGludm9pY2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxNnZ3JywgbWFyZ2luOiAnMC40cmVtJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogaW52b2ljZS5pZCBpbiBfdGhpczIuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwID8gX3RoaXMyLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgfHwgX3RoaXMyLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWQgPyBjbGFzc2VzLnNlbGVjdGVkR3JpZExpc3REaXYgOiBjbGFzc2VzLmdyaWRMaXN0RGl2IDogY2xhc3Nlcy5pbmNvcnJlY3REaXYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFfdGhpczIucHJvcHMuZG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgc3R5bGU6IHsgcGFkZGluZzogJzJweCcsIGxlZnQ6IFwiMyVcIiwgYWxpZ25JdGVtczogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIShpbnZvaWNlLmlkIGluIF90aGlzMi5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IF90aGlzMi5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudG9nZ2xlQ2hlY2tib3goaW52b2ljZS5pZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIiwgbWFyZ2luTGVmdDogJzF2dycgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6IFwiLjg5cmVtXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41LCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kb2N1bWVudE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogJzEuMTU2cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLmlkIGluIF90aGlzMi5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAgPyAoMCwgX2Zvcm1hdHRlci5mb3JtYXR0ZXIpKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpIDogXCItLS0tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIV90aGlzMi5wcm9wcy5kb25lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8RmFiIHZhcmlhbnQ9XCJjb250YWluZWRcIiBzaXplPSdzbWFsbCcgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBzdHlsZTogeyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLCB3aWR0aDogXCJjYWxjKC44dmggKyAuOHZ3KVwiLCBoZWlnaHQ6IFwiY2FsYyguOHZoICsgLjh2dylcIiB9LCBjbGFzc05hbWU6IGNsYXNzZXMuYWRkSWNvbiwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRlbGV0ZUludm9pY2UoaW52b2ljZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC9GYWI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0RpYWxvZzIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5pc01lc3NhZ2VEaWFsb2dPcGVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6ICdyZXNwb25zaXZlLWRpYWxvZy10aXRsZSdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfRGlhbG9nVGl0bGUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAncmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0RpYWxvZ0FjdGlvbnMyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuaGFuZGxlTWVzc2FnZURpYWxvZywgY29sb3I6ICdkZWZhdWx0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdPSydcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQWN0aW9uRGV0YWlscztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHRoaXMuc2V0U2VsZWN0ZWRJbnZvaWNlcyA9IGZ1bmN0aW9uIChpbnZvaWNlcykge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiBpbnZvaWNlcyB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBzZWxlY3RlZEludm9pY2VzKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlc0NvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNDb3VudCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcoJyArIHNlbGVjdGVkSW52b2ljZXNDb3VudCArICcpJztcbiAgICB9O1xuXG4gICAgdGhpcy5maWx0ZXJJbnZvaWNlcyA9IGZ1bmN0aW9uIChpbnZvaWNlVHlwZSkge1xuICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJBbGxcIikgX3RoaXMzLnNldFN0YXRlKHsgaW52b2ljZXM6IF90aGlzMy5zdGF0ZS5hbGxJbnZvaWNlcyB9KTtlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5hbGxJbnZvaWNlcztcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZEludm9pY2VzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXBBcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiRGlzcHV0ZVwiICYmIGludm9pY2VzW2ldW2pdLmRpc3B1dGVTdGF0dXMgIT0gbnVsbCkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO2Vsc2UgaWYgKGludm9pY2VUeXBlID09IFwiUHJlZGljdGVkIERlbGlucXVlbnRcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBEZWxpbnF1ZW50ID09IHRydWUpIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKTtlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlVwY29taW5nIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycFVwY29taW5nID09IHRydWUpIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKTtlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIkJyb2tlbiBQMlBcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBCcm9rZW4gPT0gdHJ1ZSkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEludm9pY2VzLnB1c2godGVtcEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlQ2hlY2tib3ggPSBmdW5jdGlvbiAoaWQpIHtcblxuICAgICAgICB2YXIgY2hlY2tlZCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpZCk7XG4gICAgICAgIHZhciB1cGRhdGVkQ2hlY2tib3hNYXAgPSBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcbiAgICAgICAgdXBkYXRlZENoZWNrYm94TWFwLnNldChpZCwgIWNoZWNrZWQpO1xuICAgICAgICB2YXIgZmxhZyA9IHRydWU7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGludm9pY2VzQ2hlY2tib3hNYXA6IHVwZGF0ZWRDaGVja2JveE1hcCB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB1cGRhdGVkQ2hlY2tib3hNYXAua2V5cygpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW52b2ljZUtleSA9IF9zdGVwLnZhbHVlO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF1cGRhdGVkQ2hlY2tib3hNYXAuZ2V0KGludm9pY2VLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFsbEludm9pY2VzU2VsZWN0ZWQ6IGZsYWcgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmRlbGV0ZUludm9pY2UgPSBmdW5jdGlvbiAoaW52b2ljZU51bWJlcikge1xuXG4gICAgICAgIHZhciB0ZW1wID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGVtcCkge1xuICAgICAgICAgICAgaWYgKGtleSA9PSBpbnZvaWNlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRlbXBba2V5XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGVja2JveE1hcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xuICAgICAgICBjaGVja2JveE1hcC5kZWxldGUoaW52b2ljZU51bWJlcik7XG4gICAgICAgIC8vIGZvciAobGV0IGtleSBvZiBjaGVja2JveE1hcCkge1xuXG4gICAgICAgIC8vICAgICBpZiAoa2V5ID09IE51bWJlcihpbnZvaWNlTnVtYmVyKSkge1xuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICAgIC8vICAgICAgICAgY2hlY2tib3hNYXAuZGVsZXRlKGtleSk7XG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cblxuXG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBjaGVja2JveE1hcCxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW52b2ljZS5pZCAhPSBpbnZvaWNlTnVtYmVyO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IHRlbXBcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZUludm9pY2VzVGhpbmdzKGludm9pY2VOdW1iZXIpO190aGlzMy5wcm9wcy51cGRhdGVJbnZvaWNlcyhfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlQWxsU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW52b2ljZU1hcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xuXG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFsbEludm9pY2VzU2VsZWN0ZWQ6ICFwcmV2U3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IGludm9pY2VNYXAua2V5cygpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnZvaWNlS2V5ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGludm9pY2VNYXAuc2V0KGludm9pY2VLZXksIF90aGlzMy5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW52b2ljZUNoZWNrc01hcDogaW52b2ljZU1hcCB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZGVsZXRlQWxsU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciB0b0RlbGV0ZUludm9pY2VzID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSA9PSB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodG9EZWxldGVJbnZvaWNlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNNZXNzYWdlRGlhbG9nT3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1cGRhdGVkSW52b2ljZXMgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLmZpbHRlcihmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpID09IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgaW52b2ljZXNDaGVja2JveE1hcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xuICAgICAgICB2YXIgaW52b2ljZU1hcCA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXA7XG4gICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBpbnZvaWNlTGVuZ3RoID0gdXBkYXRlZEludm9pY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIGFsbFNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0b0RlbGV0ZUludm9pY2VzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IHRvRGVsZXRlSW52b2ljZXNbaV0uaWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXAuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogdXBkYXRlZEludm9pY2VzLFxuICAgICAgICAgICAgLy8gaW52b2ljZUNvdW50OiB1cGRhdGVkSW52b2ljZXMubGVuZ3RoLFxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogaW52b2ljZXNDaGVja2JveE1hcCxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogaW52b2ljZU1hcCxcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogaW52b2ljZUxlbmd0aFxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgaW52b2ljZUxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnZvaWNlID0gdXBkYXRlZEludm9pY2VzW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgX2tleSA9IGludm9pY2UuaWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAoIShfa2V5IGluIGludm9pY2VNYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGludm9pY2VMZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pbnZvaWNlID0gdXBkYXRlZEludm9pY2VzW19pMl07XG4gICAgICAgICAgICAgICAgdmFyIF9rZXkyID0gX2ludm9pY2UuaWQudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgICAgIGlmICghaW52b2ljZXNDaGVja2JveE1hcC5nZXQoX2tleTIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbFNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmxhZywgYWxsSW52b2ljZXNTZWxlY3RlZDogYWxsU2VsZWN0ZWQgfSk7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZsYWcsIGludm9pY2VMZW5ndGgpO1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLnVwZGF0ZUludm9pY2VzKF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsIF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpc01lc3NhZ2VEaWFsb2dPcGVuOiAhcHJldlN0YXRlLmlzTWVzc2FnZURpYWxvZ09wZW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5BZGRJbnZvaWNlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BZGRJbnZvaWNlTW9kYWw6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VBZGRJbnZvaWNlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BZGRJbnZvaWNlTW9kYWw6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmFwcGVuZEludm9pY2VzID0gZnVuY3Rpb24gKGludm9pY2VzKSB7XG4gICAgICAgIHZhciB0ZW1wTWFwID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcbiAgICAgICAgdmFyIHRlbXBJbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuc2xpY2UoMCk7XG4gICAgICAgIHZhciB0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwID0gX3RoaXMzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXBbX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXS5pZF0pIHtcbiAgICAgICAgICAgICAgICB0ZW1wSW52b2ljZXMuc3BsaWNlKHRlbXBJbnZvaWNlcy5pbmRleE9mKF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNbaV0pLCAxKTtcbiAgICAgICAgICAgICAgICB0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwLmRlbGV0ZShfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzW2ldLmlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGNvcnJlY3RJbnZvaWNlczogdGVtcEludm9pY2VzLCBjb3JyZWN0SW52b2ljZXNNYXA6IHt9LCBpbnZvaWNlc0NoZWNrYm94TWFwOiB0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwIH0pO1xuICAgICAgICB0ZW1wTWFwID0ge307XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIGludm9pY2VzKSB7XG4gICAgICAgICAgICBpZiAoaW52b2ljZXNba2V5XSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IF90aGlzMy5wcm9wcy5pbnZvaWNlcy5sZW5ndGg7IHArKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZykgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHEgPSAwOyBxIDwgX3RoaXMzLnByb3BzLmludm9pY2VzW3BdLmxlbmd0aDsgcSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLnByb3BzLmludm9pY2VzW3BdW3FdLmlkID09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBJbnZvaWNlcy5wdXNoKF90aGlzMy5wcm9wcy5pbnZvaWNlc1twXVtxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGVtcE1hcFtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludm9pY2VzKSB7XG4gICAgICAgICAgICB2YXIgaW52b2ljZXNDaGVja2JveE1hcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfa2V5MyBpbiBpbnZvaWNlcykge1xuICAgICAgICAgICAgICAgIGlmIChpbnZvaWNlc1tfa2V5M10gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwLnNldChfa2V5My50b1N0cmluZygpLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpbnZvaWNlc0NoZWNrYm94TWFwOiBpbnZvaWNlc0NoZWNrYm94TWFwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgY29ycmVjdEludm9pY2VzOiB0ZW1wSW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDogdGVtcE1hcCwgaW52b2ljZUNvdW50OiB0ZW1wSW52b2ljZXMubGVuZ3RoIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy51cGRhdGVJbnZvaWNlcyhfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLCB0ZW1wTWFwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzMy5wcm9wcy5vblVwZGF0ZUludm9pY2UoX3RoaXMzLnN0YXRlLmluY29ycmVjdEZsYWcsIHRlbXBJbnZvaWNlcy5sZW5ndGgpO1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWRkSW52b2ljZU1vZGFsOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVJbnZvaWNlc1RoaW5ncyA9IGZ1bmN0aW9uIChpbnZvaWNlTnVtYmVyKSB7XG5cbiAgICAgICAgdmFyIGludm9pY2VNYXAgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwO1xuICAgICAgICAvLyBsZXQgYWxsSW52b2ljZXNMaXN0ID0gdGhpcy5wcm9wcy5hbGxJbnZvaWNlc0xpc3Q7XG4gICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXM7XG4gICAgICAgIHZhciBpbnZvaWNlTGVuZ3RoID0gaW52b2ljZXMubGVuZ3RoO1xuICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtpbnZvaWNlTnVtYmVyXTtcblxuICAgICAgICBpZiAoaW52b2ljZUxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpbmNvcnJlY3RGbGFnOiBmYWxzZSwgaW52b2ljZUNvdW50OiAwIH0pO1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9uVXBkYXRlSW52b2ljZShmYWxzZSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtpbnZvaWNlTnVtYmVyXTtcblxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBjb3JyZWN0SW52b2ljZXNNYXA6IGludm9pY2VNYXAgfSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnZvaWNlID0gaW52b2ljZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIShpbnZvaWNlLmlkIGluIGludm9pY2VNYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGluY29ycmVjdEZsYWc6IGZsYWcsIGludm9pY2VDb3VudDogaW52b2ljZUxlbmd0aCB9KTtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5vblVwZGF0ZUludm9pY2UoZmxhZywgaW52b2ljZUxlbmd0aCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNhbGN1bGF0ZUFtb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFtb3VudCA9IDA7XG4gICAgICAgIHZhciBjb3JyZWN0SW52b2ljZXMgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzO1xuICAgICAgICBmb3IgKHZhciBpIGluIGNvcnJlY3RJbnZvaWNlcykge1xuICAgICAgICAgICAgYW1vdW50ICs9IGNvcnJlY3RJbnZvaWNlc1tpXS5pZCBpbiBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwID8gY29ycmVjdEludm9pY2VzW2ldLmN1cnJlbnRPcGVuQW1vdW50IDogMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW1vdW50ID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgX2hlbHBlci5mb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQpKGFtb3VudCk7XG4gICAgfTtcbn07XG5cbkFjdGlvbkRldGFpbHMucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBnZXRJbnZvaWNlcygpIHtcblxuLy8gICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzKTtcblxuLy8gICAgIGxldCBkb2N1bWVudE51bWJlcnMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5tYXAoaW52b2ljZSA9PiB7XG4vLyAgICAgICAgIHJldHVybiBpbnZvaWNlLmRvY3VtZW50TnVtYmVyO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgY29uc29sZS5sb2coXCJET0NVXCIsIGRvY3VtZW50TnVtYmVycyk7XG5cbi8vICAgICByZXR1cm4gZG9jdW1lbnROdW1iZXJzO1xuLy8gfVxuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEFjdGlvbkRldGFpbHMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwMzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9jb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcblxudmFyIF9JbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dCk7XG5cbnZhciBfSW5wdXRMYWJlbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KTtcblxudmFyIF9JbnB1dExhYmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0lucHV0TGFiZWwpO1xuXG52YXIgX0lucHV0QWRvcm5tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzQpO1xuXG52YXIgX0lucHV0QWRvcm5tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0lucHV0QWRvcm5tZW50KTtcblxudmFyIF9Gb3JtQ29udHJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc4KTtcblxudmFyIF9Gb3JtQ29udHJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Gb3JtQ29udHJvbCk7XG5cbnZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNCk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfQ2xvc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblxudmFyIF9DbG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9zZSk7XG5cbnZhciBfR3JpZExpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOCk7XG5cbnZhciBfR3JpZExpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZExpc3QpO1xuXG52YXIgX0dyaWRMaXN0VGlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzI5KTtcblxudmFyIF9HcmlkTGlzdFRpbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZExpc3RUaWxlKTtcblxudmFyIF9DaGlwID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDcpO1xuXG52YXIgX0NoaXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hpcCk7XG5cbnZhciBfSW5mbyA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXG52YXIgX0luZm8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5mbyk7XG5cbnZhciBfRmFiID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXG52YXIgX0ZhYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GYWIpO1xuXG52YXIgX1NuYWNrYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxudmFyIF9JY29uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cbnZhciBfSWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uQnV0dG9uKTtcblxudmFyIF9yZWFjdEFkZG9uc0Nzc1RyYW5zaXRpb25Hcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwNCk7XG5cbnZhciBfcmVhY3RBZGRvbnNDc3NUcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RBZGRvbnNDc3NUcmFuc2l0aW9uR3JvdXApO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENsYXNzIE5hbWUgVEJEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogVGVtcG9yYXJ5IHBhcmtpbmcgYXMgRmluYWwuanNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuXG4vL1Rlc3RpbmcgYW5pbWF0aW9uc1xuXG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgICBtYXJnaW46IFwiMGVtIDFlbSAwZW0gMWVtXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgcGFkZGluZ1RvcDogXCI1JVwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IFwiMFwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCJcblxuICAgICAgICB9LFxuICAgICAgICBjdXN0b21lck5hbWU6IHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuNmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIuM2VtXCJcbiAgICAgICAgfSxcbiAgICAgICAgY3VzdG9tZXJOdW1iZXI6IHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi43ZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIi43ZW1cIlxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5Tm90ZXNCb3g6IHtcbiAgICAgICAgICAgIG1heEhlaWdodDogXCI5MHZoXCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICAvLyBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgLy8gaGVpZ2h0OiAxLjI1ICogcGFyc2VJbnQoJChcIiNzdW1tYXJ5Tm90ZWl0ZW1zXCIpLmNzcygnaGVpZ2h0JykpLFxuICAgICAgICAgICAgLy8gcGFkZGluZzogXCIwLjVyZW1cIixcbiAgICAgICAgICAgIC8vIGJveFNoYWRvdzogXCIgMCA0cHggOHB4IDAgcmdiYSgwLDAsMCwwLjIpXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpblxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5Tm90ZWl0ZW1zOiB7XG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiBcInByZS1saW5lXCIsXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMWVtXCIsXG4gICAgICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxuICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgIG1heEhlaWdodDogXCI3NS41dmhcIlxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5Tm90ZXNIZWFkZXI6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuMDY2NnJlbVwiLFxuICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IFwiMi4yMnZoXCIsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIxLjAyNnZ3XCIsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgb3BhY2l0eTogMC42NVxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5RW1haWxIZWFkZXI6IHtcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIlxuICAgICAgICAgICAgLy8gbWFyZ2luTGVmdDogXCIuODlyZW1cIixcbiAgICAgICAgfSxcbiAgICAgICAgZW1haWxUZW1wbGF0ZToge1xuICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgIHJpZ2h0OiBcIjNlbVwiXG5cbiAgICAgICAgfSxcblxuICAgICAgICB0ZW1wbGF0ZVNlbGVjdGlvbjoge1xuICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgaGVpZ2h0OiAnMC45cmVtJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMXJlbScsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6ICcwLjlyZW0nXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlFbWFpbDoge1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgbWFyZ2luVG9wOiBcIi4xMjVyZW1cIixcbiAgICAgICAgICAgIC8vICBtYXJnaW5MZWZ0OiBcIi44OXJlbVwiLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuM3JlbVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjc5dmhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluXG4gICAgICAgICAgICAvLyBwYWRkaW5nQm90dG9tIDogXCI1dmhcIlxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5RW1haWxGb3JtOiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAwLjVyZW0gMCAwLjVyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlbWFpbElkQ2hpcHNJbnB1dDoge1xuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjAuMDYyNXJlbSBzb2xpZCByZ2JhKDkzLCAxNzAsIDIyNCwgMC41KVwiXG4gICAgICAgICAgICAvL21hcmdpblJpZ2h0OiBcIjEwcHhcIixcblxuICAgICAgICB9LFxuICAgICAgICBlbWFpbEFkZExhYmVsOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiLFxuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4zZW1cIixcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsSWRDaGlwczoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjEuNGVtXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMC4xNzc3cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMC4xNzc3cmVtXCIsXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjJlbVwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgXCImPiBzcGFuXCI6IHtcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjNyZW1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICcmOmhvdmVyLCAmOmZvY3VzJzoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICcmOmFjdGl2ZSc6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vYmFja2dyb3VuZENvbG9yOiBcIiNmNzM4MzhcIixcbiAgICAgICAgfSxcbiAgICAgICAgaW52YWxpZEVtYWlsSWRDaGlwczoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjEuNGVtXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMC4xNzc3cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMC4xNzc3cmVtXCIsXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjJlbVwiLFxuICAgICAgICAgICAgXCImPiBzcGFuXCI6IHtcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcbiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjNyZW1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmY0NDQ0XCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICAnJjpob3ZlciwgJjpmb2N1cyc6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y3MzgzOFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJyY6YWN0aXZlJzoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjczODM4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlRW1haWxJZDoge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBlbWFpbElkSW5wdXQ6IHtcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuMzEyNXJlbVwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMzglXCIsXG4gICAgICAgICAgICByZXNpemU6IFwiaG9yaXpvbnRhbFwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCJcbiAgICAgICAgICAgIC8vbWF4V2lkdGg6IFwiNzAlXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsU3ViamVjdDoge1xuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjAuMDYyNXJlbSBzb2xpZCByZ2JhKDkzLCAxNzAsIDIyNCwgMC41KVwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgICcmOjpwbGFjZWhvbGRlcic6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNhN2E3YTcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkU3ViamVjdElucHV0OiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlFbWFpbEJvZHk6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCI2MHZoXCIsXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsQm9keVRleHQ6IHtcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjlyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArIFwiICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBpbnZvaWNlQ291bnQ6IHtcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjhyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBpbnZvaWNlQXR0YWNoZW1lbnRzOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTB2aFwiXG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUludm9pY2U6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuMHJlbVwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMS4wZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgIHJpZ2h0OiBcIjEwJVwiLFxuICAgICAgICAgICAgdG9wOiBcIjQwJVwiXG4gICAgICAgIH0sXG4gICAgICAgIGdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAwLjA2MjVyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmc6ICcwLjI1cmVtJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzAuMjVyZW0nXG5cbiAgICAgICAgfSxcbiAgICAgICAgc3VtbWFyeUVtYWlsRm9vdGVyOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiNy40dmhcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgLy8gYm94U2hhZG93OiBcIjAgLTAuMzEyNXJlbSAwLjEyNXJlbSAtMC4xMjVyZW0gbGlnaHRncmF5XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvdy1yZXZlcnNlXCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiAjMmM0MTRmO1wiXG4gICAgICAgIH0sXG4gICAgICAgIHNlbmRTdW1tYXJ5RW1haWxCdG46IHtcbiAgICAgICAgICAgIGhlaWdodDogJzJlbScsXG4gICAgICAgICAgICB3aWR0aDogJzZlbScsXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIxLjJyZW1cIixcbiAgICAgICAgICAgIGZvbnRTaXplOiAnc21hbGxlcicsXG4gICAgICAgICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVJY29uOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICB9LFxuICAgICAgICBsZWdhbE1lc3NhZ2U6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNjUsXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiBcIjBweCAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiBcIjBweCAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgbm90ZXNMaXN0OiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwXCIsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIjEuN3JlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGVtcHR5U3VtbWFyeVRleHQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBlbXB0eVN1bW1hcnlHcmlkOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTV2aFwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiBcInByZS1saW5lXCIsXG4gICAgICAgICAgICAvL21hcmdpblRvcDogXCIxZW1cIixcbiAgICAgICAgICAgIHdvcmRCcmVhazogXCJicmVhay13b3JkXCJcbiAgICAgICAgfSxcbiAgICAgICAgd2FybmluZ0xpbmU6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi44ZW1cIixcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiMC42NVwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIi41dndcIlxuICAgICAgICB9LFxuICAgICAgICBoaWRlT3ZlcmZsb3c6IHtcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIEZpbmFsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRmluYWwsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRmluYWwocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbmFsKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRmluYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGaW5hbCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNvbGxlY3RvciA9IF90aGlzJHByb3BzLmNvbGxlY3RvcixcbiAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXMgPSBfdGhpcyRwcm9wcy5zdW1tYXJ5Tm90ZXMsXG4gICAgICAgICAgICAgICAgbm9uQWN0aW9uSW5jbHVkZWQgPSBfdGhpcyRwcm9wcy5ub25BY3Rpb25JbmNsdWRlZDtcblxuICAgICAgICAgICAgdmFyIGludm9pY2VTdHJpbmcgPSBfdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGggPiAwID8gXCJQbGVhc2UgZmluZCB0aGUgbWVudGlvbmVkIGludm9pY2VzIGF0dGFjaGVkLlwiIDogXCJcIjtcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5U3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBmaXJzdE5hbWUgPSBjb2xsZWN0b3IuZmlyc3ROYW1lID8gX3RoaXMucHJvcHMuY29sbGVjdG9yLmZpcnN0TmFtZSA6IFwiXCI7XG4gICAgICAgICAgICB2YXIgbGFzdE5hbWUgPSBjb2xsZWN0b3IubGFzdE5hbWUgPyBfdGhpcy5wcm9wcy5jb2xsZWN0b3IubGFzdE5hbWUgOiBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBzdW1tYXJ5Tm90ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBzdW1tYXJ5Tm90ZXMubGVuZ3RoIC0gMSAmJiBub25BY3Rpb25JbmNsdWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3VtbWFyeVN0cmluZyArPSBzdW1tYXJ5Tm90ZXNbaV0udHJpbSgpID8gJ1xcblxcdTIwMjIgJyArIHN1bW1hcnlOb3Rlc1tpXSA6IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdW1tYXJ5U3RyaW5nID0gc3VtbWFyeVN0cmluZyA/ICdcXG5QbGVhc2UgZmluZCBiZWxvdyB0aGUgc3VtbWFyeSBvZiBvdXIgY29udmVyc2F0aW9uOlxcbicgKyBzdW1tYXJ5U3RyaW5nICsgJ1xcblxcbicgKyBpbnZvaWNlU3RyaW5nICsgJ1xcbicgOiBcIlwiO1xuICAgICAgICAgICAgdmFyIGVtYWlsQm9keSA9IHN1bW1hcnlTdHJpbmcgPyAnR3JlZXRpbmdzLFxcbicgKyBzdW1tYXJ5U3RyaW5nICsgJ1xcblJlZ2FyZHMsXFxuJyArIChmaXJzdE5hbWUgKyBcIiBcIiArIGxhc3ROYW1lKSA6IFwiXCI7XG4gICAgICAgICAgICB2YXIgbmV3TGluZUNvdW50ID0gKGVtYWlsQm9keS5tYXRjaCgvXFxuL2cpIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVCb2R5OiBlbWFpbEJvZHksIGVtYWlsQm9keUhlaWdodDogbmV3TGluZUNvdW50ICsgMSB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVUZW1wbGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlTmFtZTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBfdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlcztcblxuICAgICAgICAgICAgLy9jaGVjayBpZiBubyB0ZW1wbGF0ZSBpcyBzZWxlY3RlZFxuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LnZhbHVlKTtcblxuICAgICAgICAgICAgLy90aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVzLmZvckVhY2goZnVuY3Rpb24gKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBsYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXBsYXRlW2ldLm5hbWUgPT0gZXZlbnQudGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IHRlbXBsYXRlW2ldLnN1YmplY3QgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZUJvZHk6IHRlbXBsYXRlW2ldLmJvZHkgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdGVtcGxhdGVJZDogdGVtcGxhdGVbaV0uaWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGVtcGxhdGUuc3ViamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVFbWFpbEVudGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoKGV2ZW50LnR5cGUgPT09ICdibHVyJyB8fCBldmVudC5rZXkgPT09ICdFbnRlcicpICYmIGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCkpIHtcblxuICAgICAgICAgICAgICAgIC8vcmVndWxhciBleHByZXNzaW9uIC0gdG8gY2hlY2sgQGhvc3QuZG9tYWluXG4gICAgICAgICAgICAgICAgdmFyIHJlID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL3ZhbGlkYXRlIHRoZSBlbnRlcmVkIGVtYWlsIGlkXG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gcmUudGVzdChldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBlbWFpbCBpcyBcIiArIHZhbGlkKTtcblxuICAgICAgICAgICAgICAgIHZhciBlbWFpbEFyciA9IF90aGlzLnN0YXRlLmVtYWlsSWRDaGlwcztcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGVtYWlsQXJyLmxlbmd0aCwgbGFiZWw6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZW1haWxJZDogZXZlbnQudGFyZ2V0LnZhbHVlLCB2YWxpZGF0ZTogdmFsaWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGVtYWlsQXJyLnB1c2gob2JqKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHRvQWRkcjogZW1haWxBcnIgfSk7XG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVFbWFpbElkRGVsZXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1haWxBZGQuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW1haWxJZENoaXBzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5lbWFpbElkQ2hpcHMpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaXBUb0RlbGV0ZSA9IGVtYWlsSWRDaGlwcy5pbmRleE9mKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBlbWFpbElkQ2hpcHMuc3BsaWNlKGNoaXBUb0RlbGV0ZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGVtYWlsSWRDaGlwczogZW1haWxJZENoaXBzIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmhhbmRsZVN1YmplY3RDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBlbWFpbFRlbXBsYXRlU3ViamVjdDogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVFbWFpbEJvZHlDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBuZXdNYXhIZWlnaHQgPSBNYXRoLnJvdW5kKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbEJvZHknKS5zY3JvbGxIZWlnaHQpO1xuICAgICAgICAgICAgaWYgKG5ld01heEhlaWdodCA8PSAxMikge1xuICAgICAgICAgICAgICAgIG5ld01heEhlaWdodCA9IDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVCb2R5OiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgZW1haWxCb2R5SGVpZ2h0OiBuZXdNYXhIZWlnaHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLnJlbW92ZUF0dGFjaGVtZW50ID0gZnVuY3Rpb24gKGRvY3VtZW50TnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgY3VyckF0dGFjaGVtZW50cyA9IF90aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZW1vdmU6IFwiICsgZG9jdW1lbnROdW1iZXIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyQXR0YWNoZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJBdHRhY2hlbWVudHNbaV0uaWQgPT0gZG9jdW1lbnROdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyckF0dGFjaGVtZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxBdHRhY2hlbWVudHM6IGN1cnJBdHRhY2hlbWVudHMgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5zZW5kU3VtbWFyeUVtYWlsID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRpbmcgc3VtbWFyeSBlbWFpbFwiKTtcblxuICAgICAgICAgICAgLy9JbnZvaWNlIGRvY3VtZW50IGlkcyBcbiAgICAgICAgICAgIHZhciBkb2N1bWVudElEcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50SURzLnB1c2goX3RoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHNbaV0uaW52b2ljZUlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9pZiBubyB0b0FkZHIgaXMgcHJlc2VudCwgc2hvdyBpbiBzbmFjayBiYXJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlBsZWFzZSBzcGVjaWZ5IGF0IGxlYXN0IG9uZSByZWNpcGllbnQuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy90byBlbWFpbCBhZGRyZXNzZXMgXG4gICAgICAgICAgICB2YXIgdG9BZGRyID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuc3RhdGUuZW1haWxJZENoaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlLmVtYWlsSWRDaGlwc1tpXS52YWxpZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0b0FkZHIgKz0gX3RoaXMuc3RhdGUuZW1haWxJZENoaXBzW2ldLmVtYWlsSWQgKyBcIixcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vcmVtb3ZlIGxhc3QgY29tbWFcbiAgICAgICAgICAgIHZhciBwb3MgPSB0b0FkZHIubGFzdEluZGV4T2YoXCIsXCIpO1xuICAgICAgICAgICAgdG9BZGRyID0gdG9BZGRyLnNsaWNlKDAsIHBvcyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRvOiBcIiArIHRvQWRkcik7XG5cbiAgICAgICAgICAgIHZhciBlbWFpbEJvZHkgPSBfdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlQm9keTtcbiAgICAgICAgICAgIGVtYWlsQm9keSA9IGVtYWlsQm9keS5yZXBsYWNlKC9cXG4vZywgJzxiciAvPicpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGluZyByZXF1ZXN0IGVtYWlsIG9iamVjdFxuICAgICAgICAgICAgdmFyIGVtYWlsT2JqID0ge1xuICAgICAgICAgICAgICAgIGJvZHk6IGVtYWlsQm9keSxcbiAgICAgICAgICAgICAgICBzdWJqZWN0OiBfdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlU3ViamVjdCxcbiAgICAgICAgICAgICAgICAvLyBjb3JyVHlwZUlkOiB0aGlzLnN0YXRlLnRlbXBsYXRlSWQsICAgIC8vIHdoYXQgIGlmIHRlbXBsYXRlcyBhcmUgbm90IGZldGNoZWQuIFxuICAgICAgICAgICAgICAgIGN1c3RvbWVySWQ6IF90aGlzLnByb3BzLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50SWRzOiBkb2N1bWVudElEcyxcbiAgICAgICAgICAgICAgICBmcm9tOiBfdGhpcy5wcm9wcy5jb2xsZWN0b3IuZW1haWxJZCwgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxuICAgICAgICAgICAgICAgIHRvOiB0b0FkZHIgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIE1ha2luZyBhIHBvc3QgY2FsbCBmb3Igc2VuZGluZyBlbWFpbHNcbiAgICAgICAgICAgIC8vYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9jYWxsc3VtbWFyeWAsIHJlcUVtYWlsT2JqKSAtIGFjdHVhbCBhcGlcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiB0cnVlIH0pO1xuICAgICAgICAgICAgX2F4aW9zMi5kZWZhdWx0LnBvc3QoX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyAnL2NvcnJlc3BvbmRlbmNlL2NhbGxzdW1tYXJ5JywgZW1haWxPYmopIC8vIG1vY2sgc2VydmVyIGFwaVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIC8vZGlzYWJsZSB0byB0aGUgY29tcG9uZW50IHRvIHJlYWQgb25seSBtb2RlLlxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFNlbnQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRXJyb3IgaW4gc2VuZGluZyBlbWFpbFwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyTWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiB0cnVlIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmNsb3NlU25hY2tiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGNvbnRhY3RJbmRleCA9IF90aGlzLnByb3BzLmNvbnRhY3RJbmRleDtcbiAgICAgICAgdmFyIGNvbnRhY3RzID0gW107XG4gICAgICAgIGlmIChjb250YWN0SW5kZXggIT0gbnVsbCAmJiBfdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmZpcnN0TmFtZSAhPT0gXCJVbm5hbWVkXCIgJiYgX3RoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5sYXN0TmFtZSAhPT0gXCJVbm5hbWVkXCIpIHtcbiAgICAgICAgICAgIHZhciBmdWxsTmFtZSA9IF90aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZmlyc3ROYW1lICsgXCIgXCIgKyBfdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmxhc3ROYW1lO1xuXG4gICAgICAgICAgICBjb250YWN0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsSWQ6IF90aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZW1haWwsXG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIEF0dGFjaGVtZW50cyA9IF90aGlzLnByb3BzLmludm9pY2VMaXN0O1xuICAgICAgICB2YXIgc3ViamVjdCA9IFwiU3VtbWFyeSBub3RlcyBhcyBwZXIgb3VyIGNvbnZlcnNhdGlvbi5cIjtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlTmFtZTogXCJcIixcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVCb2R5OiBcIlwiLFxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IHN1YmplY3QsXG4gICAgICAgICAgICB0ZW1wbGF0ZUlkOiAtMSxcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVzOiBbXSxcbiAgICAgICAgICAgIGVtYWlsQXR0YWNoZW1lbnRzOiBBdHRhY2hlbWVudHMsXG4gICAgICAgICAgICBlbWFpbElkQ2hpcHM6IGNvbnRhY3RzLFxuICAgICAgICAgICAgc25hY2tCYXJPcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIHNuYWNrQmFyTWVzc2FnZTogXCJcIixcbiAgICAgICAgICAgIGVtYWlsU2VudDogZmFsc2UsXG4gICAgICAgICAgICBlbWFpbEJvZHlIZWlnaHQ6IDEyXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coX3RoaXMucHJvcHMuc3VtbWFyeU5vdGVzLCBcInN1bW1hcnkgbm90ZXMgaW4gZmluYWxcIik7XG4gICAgICAgIF90aGlzLmVtYWlsQWRkID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZVJlZigpO1xuXG4gICAgICAgIC8vZ2V0IGVtYWlsIFRlbXBsYXRlc1xuICAgICAgICBfYXhpb3MyLmRlZmF1bHQuZ2V0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jb3JyZXNwb25kZW5jZS9lbWFpbHRlbXBsYXRlcycpXG4gICAgICAgIC8vIGF4aW9zLmdldChgJHtjb25maWcuYXBpVXJsfS9lbWFpbHRlbXBsYXRlc2ApXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICAgICAgYXJyID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZXM6IGFyciB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVOYW1lOiBhcnJbMF0ubmFtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlU3ViamVjdDogYXJyWzBdLnN1YmplY3QgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZUJvZHk6IGFyclswXS5ib2R5IH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHRlbXBsYXRlSWQ6IGFyclswXS5pZCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgaW4gZmV0Y2hpbmcgdGVtcGxhdGVzXCIpO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlczogW10gfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZU5hbWU6IFwiTm8gVGVtcGxhdGVzIVwiIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL2dldCBzZWxlY3RlZCBpbnZvaWNlIGZyb20gcG9zdCBjYWxsIHBhZ2VcbiAgICAgICAgLy90aGlzLnNldFN0YXRlKHsgZW1haWxBdHRhY2hlbWVudHM6IHRoaXMucHJvcHMuaW52b2ljZUxpc3R9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBmdW5jdGlvbiBmb3IgY2hhbmdlIGluIHRlbXBsYXRlIHNlbGVjdGlvblxuXG5cbiAgICAvLyBvbiBwcmVzc2luZyBlbnRlciBrZXkgYWZ0ZXIgZW1haWwgaWQgYWRkaXRpb25cblxuXG4gICAgLy9oYW5kbGUgZnVuY3Rpb24gd2hlbiBlbWFpbElkIGNoaXAgaXMgcmVtb3ZlZFxuXG5cbiAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgc3ViamVjdFxuXG5cbiAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgYm9keVxuXG5cbiAgICAvLyByZW1vdmUgYXR0YWNoZW1lbnQgZnJvbSBlbWFpbFxuXG5cbiAgICAvLyBhZGQgaW52b2ljZSBhdHRhY2hlbWVudHNcbiAgICAvLyBhZGRJbnZvaWNlQXR0YWNoZW1lbnQgPSAoKSA9PiB7XG4gICAgLy8gICAgIHZhciBjdXJyQXR0YWNoZW1lbnRzID0gdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cztcbiAgICAvLyAgICAgdmFyIGFkZEF0dGFjaGVtZW50ID0gQXR0YWNoZW1lbnRzWzBdO1xuICAgIC8vICAgICBhZGRBdHRhY2hlbWVudC5pZCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMDAwKSArIDEwMCk7XG4gICAgLy8gICAgIGN1cnJBdHRhY2hlbWVudHMucHVzaChhZGRBdHRhY2hlbWVudCk7XG4gICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbEF0dGFjaGVtZW50czogY3VyckF0dGFjaGVtZW50cyB9LCAoKSA9PiB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzKTtcbiAgICAvLyAgICAgfSlcbiAgICAvLyB9XG5cblxuICAgIC8vIFNlbmQgcG9zdCBjYWxsIHN1bW1hcnkgZW1haWxcblxuXG4gICAgLy8gT3BlbiBzbmFjayBiYXIgd2l0aCBtZXNzYWdlXG5cblxuICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEZpbmFsLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGN1c3RvbWVyID0gX3Byb3BzLmN1c3RvbWVyLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXMgPSBfcHJvcHMuc3VtbWFyeU5vdGVzLFxuICAgICAgICAgICAgICAgIHRoZW1lID0gX3Byb3BzLnRoZW1lO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygpO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAvLyAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMucm9vdH0+XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICA8UmVhY3RDU1NUcmFuc2l0aW9uR3JvdXBcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB0cmFuc2l0aW9uTmFtZT1cImV4YW1wbGVcIlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRyYW5zaXRpb25BcHBlYXI9e3RydWV9XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ9ezUwMH1cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB0cmFuc2l0aW9uRW50ZXI9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRyYW5zaXRpb25MZWF2ZT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICA+XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezl9PlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMTZweFwiLCBkaXNwbGF5OiBcImZsZXhcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9fT5cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb21wYW55TG9nb30+e2N1c3RvbWVyLmN1c3RvbWVyTmFtZS5jaGFyQXQoMCl9PC9kaXY+XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIGFsaWduSXRlbXM6IFwibGVmdFwiIH19PlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lck5hbWV9PntjdXN0b21lci5jdXN0b21lck5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmN1c3RvbWVyTnVtYmVyfSBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiOHB4XCIsIGZvbnRTaXplOiBcIjAuOGVtXCIgfX0+e2N1c3RvbWVyLmN1c3RvbWVyTnVtYmVyfTwvZGl2PlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDwvR3JpZD5cblxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMn0gc3R5bGU9e3sgcGFkZGluZzogXCIwcHggMTJweCAxMnB4IDEycHhcIiwgfX0+XG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiBcIjEwMCVcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMiwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgcGFkZGluZzogXCIwcHggOHB4IDhweCA4cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA1IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMiwgY2xhc3NOYW1lOiBjbGFzc2VzLnN1bW1hcnlOb3Rlc0JveCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnN1bW1hcnlOb3Rlc0hlYWRlciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTVU1NQVJZIE5PVEVTJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtczogdHJ1ZSwgaWQ6ICdzdW1tYXJ5Tm90ZWl0ZW1zJywgY2xhc3NOYW1lOiAhc3VtbWFyeU5vdGVzIHx8IHN1bW1hcnlOb3Rlcy5sZW5ndGggPT0gMCA/IGNsYXNzZXMuZW1wdHlTdW1tYXJ5R3JpZCA6IGNsYXNzZXMuc3VtbWFyeU5vdGVpdGVtcyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzdW1tYXJ5Tm90ZXMgfHwgc3VtbWFyeU5vdGVzLmxlbmd0aCA9PSAwKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy53YXJuaW5nTGluZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbmZvMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVtcHR5U3VtbWFyeVRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZXJlIGlzIG5vIHN1bW1hcnkgbm90ZXMgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXMgJiYgIXN1bW1hcnlOb3Rlcy5sZW5ndGggPT0gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLm5vdGVzTGlzdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnlOb3Rlcy5tYXAoZnVuY3Rpb24gKG5vdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAxLCBmb250U2l6ZTogXCIwLjg4ODg4ODg4ODg4cmVtXCIsIG1hcmdpbkJvdHRvbTogXCIwLjg4OHJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA3LCBzdHlsZTogeyBwYWRkaW5nTGVmdDogXCIxLjA0MXZ3XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsSGVhZGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMS4wNjY2NnJlbVwiLCBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLCBjb2xvcjogXCIjZmZmZmZmXCIsIG9wYWNpdHk6IDAuNjUsIHBhZGRpbmdCb3R0b206IFwiMC4yZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VORCBTVU1NQVJZIE1BSUwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5RW1haWxGb3JtIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5lbWFpbElkQ2hpcHNJbnB1dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVtYWlsQWRkTGFiZWwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZW1haWxJZENoaXBzLm1hcChmdW5jdGlvbiAoZW1haWwsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hpcDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBlbWFpbC5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZW1haWwubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGVtYWlsLnZhbGlkYXRlID8gY2xhc3Nlcy5lbWFpbElkQ2hpcHMgOiBjbGFzc2VzLmludmFsaWRFbWFpbElkQ2hpcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICFfdGhpczIuc3RhdGUuZW1haWxTZW50ID8gY2xhc3Nlcy5yZW1vdmVFbWFpbElkIDogY2xhc3Nlcy5kaXNhYmxlSWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZTogX3RoaXMyLmhhbmRsZUVtYWlsSWREZWxldGUoZW1haWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBjbGlja2FibGU6IGVtYWlsLnZhbGlkYXRlID8gY2xhc3Nlcy5lbWFpbElkQ2hpcHMgOiBjbGFzc2VzLmludmFsaWRFbWFpbElkQ2hpcHMgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW5wdXQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlQcmVzczogdGhpcy5oYW5kbGVFbWFpbEVudGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlRW1haWxFbnRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZW1haWxJZElucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5lbWFpbFNlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UmVmOiB0aGlzLmVtYWlsQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW5wdXQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luVG9wOiBcIjElXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ1N1YmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRTdWJqZWN0SW5wdXQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZW1haWxTdWJqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVTdWJqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVN1YmplY3RDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5lbWFpbFNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsQm9keSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb3JlLlRleHRGaWVsZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2VtYWlsQm9keScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRW1haWxCb2R5Q2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IFwid2hpdGVcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c01heDogdGhpcy5zdGF0ZS5lbWFpbEJvZHlIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5lbWFpbEJvZHlUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIndoaXRlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgaW5wdXQ6IGNsYXNzZXMuaGlkZU92ZXJmbG93IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuc3RhdGUuZW1haWxTZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlQXR0YWNoZW1lbnRzIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoID4gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUNvdW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sIGZvbnRTaXplOiBcIjAuOTc3N1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSW52b2ljZSBBdHRhY2hlbWVudHMgKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjZWxsSGVpZ2h0OiBcImF1dG9cIiwgY2xhc3NOYW1lOiBjbGFzc2VzLmdyaWRMaXN0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0VGlsZTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xzOiAxLCBrZXk6IGludm9pY2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxMi41cmVtJywgcGFkZGluZzogJzAuMjVyZW0nIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmdyaWRMaXN0RGl2IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdibG9jaycsIG1hcmdpbkxlZnQ6ICcwLjM3NXJlbScgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6ICcwLjI1cmVtJywgZm9udFNpemU6ICcwLjg4OHJlbScsIG9wYWNpdHk6IDAuNjUsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuZG9jdW1lbnROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6ICcwLjI1cmVtJywgZm9udFNpemU6ICcxcmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsRm9vdGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5CdXR0b24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZW5kU3VtbWFyeUVtYWlsQnRuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiAnY29udGFpbmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zZW5kU3VtbWFyeUVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5lbWFpbFNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRU5EJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU25hY2tiYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiAnYm90dG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLnNuYWNrQmFyT3BlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb246IDIwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBDb250ZW50UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbWVzc2FnZS1pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNuYWNrQmFyTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9JY29uQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdDbG9zZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVNuYWNrYmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICApXVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRmluYWw7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5GaW5hbC5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShGaW5hbCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTA0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA1KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA2KTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNpdGlvbkdyb3VwKTtcblxudmFyIF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCA9IF9fd2VicGFja19yZXF1aXJlX18oNjExMCk7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQpO1xuXG52YXIgX1Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4NCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgdHJhbnNpdGlvbk5hbWU6IF9Qcm9wVHlwZXMubmFtZVNoYXBlLmlzUmVxdWlyZWQsXG5cbiAgdHJhbnNpdGlvbkFwcGVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0cmFuc2l0aW9uRW50ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdHJhbnNpdGlvbkxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHRyYW5zaXRpb25BcHBlYXJUaW1lb3V0OiAoMCwgX1Byb3BUeXBlcy50cmFuc2l0aW9uVGltZW91dCkoJ0FwcGVhcicpLFxuICB0cmFuc2l0aW9uRW50ZXJUaW1lb3V0OiAoMCwgX1Byb3BUeXBlcy50cmFuc2l0aW9uVGltZW91dCkoJ0VudGVyJyksXG4gIHRyYW5zaXRpb25MZWF2ZVRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnTGVhdmUnKVxufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgdHJhbnNpdGlvbkFwcGVhcjogZmFsc2UsXG4gIHRyYW5zaXRpb25FbnRlcjogdHJ1ZSxcbiAgdHJhbnNpdGlvbkxlYXZlOiB0cnVlXG59O1xuXG52YXIgQ1NTVHJhbnNpdGlvbkdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENTU1RyYW5zaXRpb25Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbkdyb3VwKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NTVHJhbnNpdGlvbkdyb3VwKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5fd3JhcENoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NTU1RyYW5zaXRpb25Hcm91cENoaWxkMi5kZWZhdWx0LCB7XG4gICAgICAgIG5hbWU6IF90aGlzLnByb3BzLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICBhcHBlYXI6IF90aGlzLnByb3BzLnRyYW5zaXRpb25BcHBlYXIsXG4gICAgICAgIGVudGVyOiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uRW50ZXIsXG4gICAgICAgIGxlYXZlOiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uTGVhdmUsXG4gICAgICAgIGFwcGVhclRpbWVvdXQ6IF90aGlzLnByb3BzLnRyYW5zaXRpb25BcHBlYXJUaW1lb3V0LFxuICAgICAgICBlbnRlclRpbWVvdXQ6IF90aGlzLnByb3BzLnRyYW5zaXRpb25FbnRlclRpbWVvdXQsXG4gICAgICAgIGxlYXZlVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkxlYXZlVGltZW91dFxuICAgICAgfSwgY2hpbGQpO1xuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgLy8gV2UgbmVlZCB0byBwcm92aWRlIHRoaXMgY2hpbGRGYWN0b3J5IHNvIHRoYXRcbiAgLy8gUmVhY3RDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCBjYW4gcmVjZWl2ZSB1cGRhdGVzIHRvIG5hbWUsIGVudGVyLCBhbmRcbiAgLy8gbGVhdmUgd2hpbGUgaXQgaXMgbGVhdmluZy5cblxuXG4gIENTU1RyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbkdyb3VwMi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyBjaGlsZEZhY3Rvcnk6IHRoaXMuX3dyYXBDaGlsZCB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb25Hcm91cDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkNTU1RyYW5zaXRpb25Hcm91cC5kaXNwbGF5TmFtZSA9ICdDU1NUcmFuc2l0aW9uR3JvdXAnO1xuXG5cbkNTU1RyYW5zaXRpb25Hcm91cC5wcm9wVHlwZXMgPSAgZmFsc2UgPyBwcm9wVHlwZXMgOiB7fTtcbkNTU1RyYW5zaXRpb25Hcm91cC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENTU1RyYW5zaXRpb25Hcm91cDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jaGFpbkZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA3KTtcblxudmFyIF9jaGFpbkZ1bmN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoYWluRnVuY3Rpb24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA4KTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX0NoaWxkTWFwcGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwOSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgY29tcG9uZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueSxcbiAgY2hpbGRGYWN0b3J5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGVcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGNvbXBvbmVudDogJ3NwYW4nLFxuICBjaGlsZEZhY3Rvcnk6IGZ1bmN0aW9uIGNoaWxkRmFjdG9yeShjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZDtcbiAgfVxufTtcblxudmFyIFRyYW5zaXRpb25Hcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUcmFuc2l0aW9uR3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRyYW5zaXRpb25Hcm91cChwcm9wcywgY29udGV4dCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2l0aW9uR3JvdXApO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cbiAgICBfdGhpcy5wZXJmb3JtQXBwZWFyID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldID0gdHJ1ZTtcblxuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsQXBwZWFyKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsQXBwZWFyKF90aGlzLl9oYW5kbGVEb25lQXBwZWFyaW5nLmJpbmQoX3RoaXMsIGtleSwgY29tcG9uZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5faGFuZGxlRG9uZUFwcGVhcmluZyhrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9oYW5kbGVEb25lQXBwZWFyaW5nID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZEFwcGVhcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkQXBwZWFyKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgICB2YXIgY3VycmVudENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoIWN1cnJlbnRDaGlsZE1hcHBpbmcgfHwgIWN1cnJlbnRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAvLyBUaGlzIHdhcyByZW1vdmVkIGJlZm9yZSBpdCBoYWQgZnVsbHkgYXBwZWFyZWQuIFJlbW92ZSBpdC5cbiAgICAgICAgX3RoaXMucGVyZm9ybUxlYXZlKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucGVyZm9ybUVudGVyID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldID0gdHJ1ZTtcblxuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsRW50ZXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudFdpbGxFbnRlcihfdGhpcy5faGFuZGxlRG9uZUVudGVyaW5nLmJpbmQoX3RoaXMsIGtleSwgY29tcG9uZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5faGFuZGxlRG9uZUVudGVyaW5nKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX2hhbmRsZURvbmVFbnRlcmluZyA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRFbnRlcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkRW50ZXIoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV07XG5cbiAgICAgIHZhciBjdXJyZW50Q2hpbGRNYXBwaW5nID0gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG5cbiAgICAgIGlmICghY3VycmVudENoaWxkTWFwcGluZyB8fCAhY3VycmVudENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIC8vIFRoaXMgd2FzIHJlbW92ZWQgYmVmb3JlIGl0IGhhZCBmdWxseSBlbnRlcmVkLiBSZW1vdmUgaXQuXG4gICAgICAgIF90aGlzLnBlcmZvcm1MZWF2ZShrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnBlcmZvcm1MZWF2ZSA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbExlYXZlKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsTGVhdmUoX3RoaXMuX2hhbmRsZURvbmVMZWF2aW5nLmJpbmQoX3RoaXMsIGtleSwgY29tcG9uZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBpcyBzb21ld2hhdCBkYW5nZXJvdXMgYi9jIGl0IGNhbGxzIHNldFN0YXRlKClcbiAgICAgICAgLy8gYWdhaW4sIGVmZmVjdGl2ZWx5IG11dGF0aW5nIHRoZSBjb21wb25lbnQgYmVmb3JlIGFsbCB0aGUgd29ya1xuICAgICAgICAvLyBpcyBkb25lLlxuICAgICAgICBfdGhpcy5faGFuZGxlRG9uZUxlYXZpbmcoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5faGFuZGxlRG9uZUxlYXZpbmcgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkTGVhdmUpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZExlYXZlKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgICB2YXIgY3VycmVudENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoY3VycmVudENoaWxkTWFwcGluZyAmJiBjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgLy8gVGhpcyBlbnRlcmVkIGFnYWluIGJlZm9yZSBpdCBmdWxseSBsZWZ0LiBBZGQgaXQgYWdhaW4uXG4gICAgICAgIF90aGlzLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IF9leHRlbmRzKHt9LCBzdGF0ZS5jaGlsZHJlbik7XG4gICAgICAgICAgZGVsZXRlIG5ld0NoaWxkcmVuW2tleV07XG4gICAgICAgICAgcmV0dXJuIHsgY2hpbGRyZW46IG5ld0NoaWxkcmVuIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jaGlsZFJlZnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjaGlsZHJlbjogKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShwcm9wcy5jaGlsZHJlbilcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXMgPSB7fTtcbiAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG4gICAgdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgaW5pdGlhbENoaWxkTWFwcGluZyA9IHRoaXMuc3RhdGUuY2hpbGRyZW47XG4gICAgZm9yICh2YXIga2V5IGluIGluaXRpYWxDaGlsZE1hcHBpbmcpIHtcbiAgICAgIGlmIChpbml0aWFsQ2hpbGRNYXBwaW5nW2tleV0pIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtQXBwZWFyKGtleSwgdGhpcy5jaGlsZFJlZnNba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIG5leHRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKG5leHRQcm9wcy5jaGlsZHJlbik7XG4gICAgdmFyIHByZXZDaGlsZE1hcHBpbmcgPSB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaGlsZHJlbjogKDAsIF9DaGlsZE1hcHBpbmcubWVyZ2VDaGlsZE1hcHBpbmdzKShwcmV2Q2hpbGRNYXBwaW5nLCBuZXh0Q2hpbGRNYXBwaW5nKVxuICAgIH0pO1xuXG4gICAgZm9yICh2YXIga2V5IGluIG5leHRDaGlsZE1hcHBpbmcpIHtcbiAgICAgIHZhciBoYXNQcmV2ID0gcHJldkNoaWxkTWFwcGluZyAmJiBwcmV2Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBpZiAobmV4dENoaWxkTWFwcGluZ1trZXldICYmICFoYXNQcmV2ICYmICF0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0pIHtcbiAgICAgICAgdGhpcy5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2tleSBpbiBwcmV2Q2hpbGRNYXBwaW5nKSB7XG4gICAgICB2YXIgaGFzTmV4dCA9IG5leHRDaGlsZE1hcHBpbmcgJiYgbmV4dENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShfa2V5KTtcbiAgICAgIGlmIChwcmV2Q2hpbGRNYXBwaW5nW19rZXldICYmICFoYXNOZXh0ICYmICF0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW19rZXldKSB7XG4gICAgICAgIHRoaXMua2V5c1RvTGVhdmUucHVzaChfa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB3ZSB3YW50IHRvIHNvbWVkYXkgY2hlY2sgZm9yIHJlb3JkZXJpbmcsIHdlIGNvdWxkIGRvIGl0IGhlcmUuXG4gIH07XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIga2V5c1RvRW50ZXIgPSB0aGlzLmtleXNUb0VudGVyO1xuICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICBrZXlzVG9FbnRlci5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBfdGhpczIucGVyZm9ybUVudGVyKGtleSwgX3RoaXMyLmNoaWxkUmVmc1trZXldKTtcbiAgICB9KTtcblxuICAgIHZhciBrZXlzVG9MZWF2ZSA9IHRoaXMua2V5c1RvTGVhdmU7XG4gICAgdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuICAgIGtleXNUb0xlYXZlLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIF90aGlzMi5wZXJmb3JtTGVhdmUoa2V5LCBfdGhpczIuY2hpbGRSZWZzW2tleV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgLy8gVE9ETzogd2UgY291bGQgZ2V0IHJpZCBvZiB0aGUgbmVlZCBmb3IgdGhlIHdyYXBwZXIgbm9kZVxuICAgIC8vIGJ5IGNsb25pbmcgYSBzaW5nbGUgY2hpbGRcbiAgICB2YXIgY2hpbGRyZW5Ub1JlbmRlciA9IFtdO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3Aoa2V5KSB7XG4gICAgICB2YXIgY2hpbGQgPSBfdGhpczMuc3RhdGUuY2hpbGRyZW5ba2V5XTtcbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICB2YXIgaXNDYWxsYmFja1JlZiA9IHR5cGVvZiBjaGlsZC5yZWYgIT09ICdzdHJpbmcnO1xuICAgICAgICB2YXIgZmFjdG9yeUNoaWxkID0gX3RoaXMzLnByb3BzLmNoaWxkRmFjdG9yeShjaGlsZCk7XG4gICAgICAgIHZhciByZWYgPSBmdW5jdGlvbiByZWYocikge1xuICAgICAgICAgIF90aGlzMy5jaGlsZFJlZnNba2V5XSA9IHI7XG4gICAgICAgIH07XG5cbiAgICAgICAgIGZhbHNlID8gKDAsIF93YXJuaW5nMi5kZWZhdWx0KShpc0NhbGxiYWNrUmVmLCAnc3RyaW5nIHJlZnMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gY2hpbGRyZW4gb2YgVHJhbnNpdGlvbkdyb3VwIGFuZCB3aWxsIGJlIGlnbm9yZWQuICcgKyAnUGxlYXNlIHVzZSBhIGNhbGxiYWNrIHJlZiBpbnN0ZWFkOiBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3JlZnMtYW5kLXRoZS1kb20uaHRtbCN0aGUtcmVmLWNhbGxiYWNrLWF0dHJpYnV0ZScpIDogdm9pZCAwO1xuXG4gICAgICAgIC8vIEFsd2F5cyBjaGFpbmluZyB0aGUgcmVmcyBsZWFkcyB0byBwcm9ibGVtcyB3aGVuIHRoZSBjaGlsZEZhY3RvcnlcbiAgICAgICAgLy8gd3JhcHMgdGhlIGNoaWxkLiBUaGUgY2hpbGQgcmVmIGNhbGxiYWNrIGdldHMgY2FsbGVkIHR3aWNlIHdpdGggdGhlXG4gICAgICAgIC8vIHdyYXBwZXIgYW5kIHRoZSBjaGlsZC4gU28gd2Ugb25seSBuZWVkIHRvIGNoYWluIHRoZSByZWYgaWYgdGhlXG4gICAgICAgIC8vIGZhY3RvcnlDaGlsZCBpcyBub3QgZGlmZmVyZW50IGZyb20gY2hpbGQuXG4gICAgICAgIGlmIChmYWN0b3J5Q2hpbGQgPT09IGNoaWxkICYmIGlzQ2FsbGJhY2tSZWYpIHtcbiAgICAgICAgICByZWYgPSAoMCwgX2NoYWluRnVuY3Rpb24yLmRlZmF1bHQpKGNoaWxkLnJlZiwgcmVmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFlvdSBtYXkgbmVlZCB0byBhcHBseSByZWFjdGl2ZSB1cGRhdGVzIHRvIGEgY2hpbGQgYXMgaXQgaXMgbGVhdmluZy5cbiAgICAgICAgLy8gVGhlIG5vcm1hbCBSZWFjdCB3YXkgdG8gZG8gaXQgd29uJ3Qgd29yayBzaW5jZSB0aGUgY2hpbGQgd2lsbCBoYXZlXG4gICAgICAgIC8vIGFscmVhZHkgYmVlbiByZW1vdmVkLiBJbiBjYXNlIHlvdSBuZWVkIHRoaXMgYmVoYXZpb3IgeW91IGNhbiBwcm92aWRlXG4gICAgICAgIC8vIGEgY2hpbGRGYWN0b3J5IGZ1bmN0aW9uIHRvIHdyYXAgZXZlcnkgY2hpbGQsIGV2ZW4gdGhlIG9uZXMgdGhhdCBhcmVcbiAgICAgICAgLy8gbGVhdmluZy5cbiAgICAgICAgY2hpbGRyZW5Ub1JlbmRlci5wdXNoKF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoZmFjdG9yeUNoaWxkLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgcmVmOiByZWZcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5zdGF0ZS5jaGlsZHJlbikge1xuICAgICAgX2xvb3Aoa2V5KTtcbiAgICB9XG5cbiAgICAvLyBEbyBub3QgZm9yd2FyZCBUcmFuc2l0aW9uR3JvdXAgcHJvcHMgdG8gcHJpbWl0aXZlIERPTSBub2Rlc1xuICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkxlYXZlO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uTmFtZTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkFwcGVhcjtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkVudGVyO1xuICAgIGRlbGV0ZSBwcm9wcy5jaGlsZEZhY3Rvcnk7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25MZWF2ZVRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25FbnRlclRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25BcHBlYXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5jb21wb25lbnQ7XG5cbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5jb21wb25lbnQsIHByb3BzLCBjaGlsZHJlblRvUmVuZGVyKTtcbiAgfTtcblxuICByZXR1cm4gVHJhbnNpdGlvbkdyb3VwO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuVHJhbnNpdGlvbkdyb3VwLmRpc3BsYXlOYW1lID0gJ1RyYW5zaXRpb25Hcm91cCc7XG5cblxuVHJhbnNpdGlvbkdyb3VwLnByb3BUeXBlcyA9ICBmYWxzZSA/IHByb3BUeXBlcyA6IHt9O1xuVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNpdGlvbkdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTA3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2hhaW4oKXtcbiAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgdmFyIGFyZ3MgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV1cblxuICBhcmdzID0gYXJncy5maWx0ZXIoZnVuY3Rpb24oZm4peyByZXR1cm4gZm4gIT0gbnVsbCB9KVxuXG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZFxuICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHJldHVybiBhcmdzWzBdXG5cbiAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uKGN1cnJlbnQsIG5leHQpe1xuICAgIHJldHVybiBmdW5jdGlvbiBjaGFpbmVkRnVuY3Rpb24oKSB7XG4gICAgICBjdXJyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBuZXh0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSlcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5cblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAoZmFsc2UpIHtcbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcbiAgICAgICAgJ21lc3NhZ2UgYXJndW1lbnQnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQubGVuZ3RoIDwgMTAgfHwgKC9eW3NcXFddKiQvKS50ZXN0KGZvcm1hdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSB3YXJuaW5nIGZvcm1hdCBzaG91bGQgYmUgYWJsZSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzICcgK1xuICAgICAgICAnd2FybmluZy4gUGxlYXNlLCB1c2UgYSBtb3JlIGRlc2NyaXB0aXZlIGZvcm1hdCB0aGFuOiAnICsgZm9ybWF0XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgIH0gY2F0Y2goeCkge31cbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZ2V0Q2hpbGRNYXBwaW5nID0gZ2V0Q2hpbGRNYXBwaW5nO1xuZXhwb3J0cy5tZXJnZUNoaWxkTWFwcGluZ3MgPSBtZXJnZUNoaWxkTWFwcGluZ3M7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4vKipcbiAqIEdpdmVuIGB0aGlzLnByb3BzLmNoaWxkcmVuYCwgcmV0dXJuIGFuIG9iamVjdCBtYXBwaW5nIGtleSB0byBjaGlsZC5cbiAqXG4gKiBAcGFyYW0geyp9IGNoaWxkcmVuIGB0aGlzLnByb3BzLmNoaWxkcmVuYFxuICogQHJldHVybiB7b2JqZWN0fSBNYXBwaW5nIG9mIGtleSB0byBjaGlsZFxuICovXG5mdW5jdGlvbiBnZXRDaGlsZE1hcHBpbmcoY2hpbGRyZW4pIHtcbiAgaWYgKCFjaGlsZHJlbikge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICB2YXIgcmVzdWx0ID0ge307XG4gIF9yZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZDtcbiAgfSkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICByZXN1bHRbY2hpbGQua2V5XSA9IGNoaWxkO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBXaGVuIHlvdSdyZSBhZGRpbmcgb3IgcmVtb3ZpbmcgY2hpbGRyZW4gc29tZSBtYXkgYmUgYWRkZWQgb3IgcmVtb3ZlZCBpbiB0aGVcbiAqIHNhbWUgcmVuZGVyIHBhc3MuIFdlIHdhbnQgdG8gc2hvdyAqYm90aCogc2luY2Ugd2Ugd2FudCB0byBzaW11bHRhbmVvdXNseVxuICogYW5pbWF0ZSBlbGVtZW50cyBpbiBhbmQgb3V0LiBUaGlzIGZ1bmN0aW9uIHRha2VzIGEgcHJldmlvdXMgc2V0IG9mIGtleXNcbiAqIGFuZCBhIG5ldyBzZXQgb2Yga2V5cyBhbmQgbWVyZ2VzIHRoZW0gd2l0aCBpdHMgYmVzdCBndWVzcyBvZiB0aGUgY29ycmVjdFxuICogb3JkZXJpbmcuIEluIHRoZSBmdXR1cmUgd2UgbWF5IGV4cG9zZSBzb21lIG9mIHRoZSB1dGlsaXRpZXMgaW5cbiAqIFJlYWN0TXVsdGlDaGlsZCB0byBtYWtlIHRoaXMgZWFzeSwgYnV0IGZvciBub3cgUmVhY3QgaXRzZWxmIGRvZXMgbm90XG4gKiBkaXJlY3RseSBoYXZlIHRoaXMgY29uY2VwdCBvZiB0aGUgdW5pb24gb2YgcHJldkNoaWxkcmVuIGFuZCBuZXh0Q2hpbGRyZW5cbiAqIHNvIHdlIGltcGxlbWVudCBpdCBoZXJlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcmV2IHByZXYgY2hpbGRyZW4gYXMgcmV0dXJuZWQgZnJvbVxuICogYFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcoKWAuXG4gKiBAcGFyYW0ge29iamVjdH0gbmV4dCBuZXh0IGNoaWxkcmVuIGFzIHJldHVybmVkIGZyb21cbiAqIGBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKClgLlxuICogQHJldHVybiB7b2JqZWN0fSBhIGtleSBzZXQgdGhhdCBjb250YWlucyBhbGwga2V5cyBpbiBgcHJldmAgYW5kIGFsbCBrZXlzXG4gKiBpbiBgbmV4dGAgaW4gYSByZWFzb25hYmxlIG9yZGVyLlxuICovXG5mdW5jdGlvbiBtZXJnZUNoaWxkTWFwcGluZ3MocHJldiwgbmV4dCkge1xuICBwcmV2ID0gcHJldiB8fCB7fTtcbiAgbmV4dCA9IG5leHQgfHwge307XG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWVGb3JLZXkoa2V5KSB7XG4gICAgaWYgKG5leHQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmV0dXJuIG5leHRba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJldltrZXldO1xuICB9XG5cbiAgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gIC8vIHRoZSBjb21iaW5lZCBsaXN0XG4gIHZhciBuZXh0S2V5c1BlbmRpbmcgPSB7fTtcblxuICB2YXIgcGVuZGluZ0tleXMgPSBbXTtcbiAgZm9yICh2YXIgcHJldktleSBpbiBwcmV2KSB7XG4gICAgaWYgKG5leHQuaGFzT3duUHJvcGVydHkocHJldktleSkpIHtcbiAgICAgIGlmIChwZW5kaW5nS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dEtleXNQZW5kaW5nW3ByZXZLZXldID0gcGVuZGluZ0tleXM7XG4gICAgICAgIHBlbmRpbmdLZXlzID0gW107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlbmRpbmdLZXlzLnB1c2gocHJldktleSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGkgPSB2b2lkIDA7XG4gIHZhciBjaGlsZE1hcHBpbmcgPSB7fTtcbiAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0KSB7XG4gICAgaWYgKG5leHRLZXlzUGVuZGluZy5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IG5leHRLZXlzUGVuZGluZ1tuZXh0S2V5XS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGVuZGluZ05leHRLZXkgPSBuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV1baV07XG4gICAgICAgIGNoaWxkTWFwcGluZ1tuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV1baV1dID0gZ2V0VmFsdWVGb3JLZXkocGVuZGluZ05leHRLZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjaGlsZE1hcHBpbmdbbmV4dEtleV0gPSBnZXRWYWx1ZUZvcktleShuZXh0S2V5KTtcbiAgfVxuXG4gIC8vIEZpbmFsbHksIGFkZCB0aGUga2V5cyB3aGljaCBkaWRuJ3QgYXBwZWFyIGJlZm9yZSBhbnkga2V5IGluIGBuZXh0YFxuICBmb3IgKGkgPSAwOyBpIDwgcGVuZGluZ0tleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjaGlsZE1hcHBpbmdbcGVuZGluZ0tleXNbaV1dID0gZ2V0VmFsdWVGb3JLZXkocGVuZGluZ0tleXNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkTWFwcGluZztcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfYWRkQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNzgpO1xuXG52YXIgX2FkZENsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZENsYXNzKTtcblxudmFyIF9yZW1vdmVDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3OSk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVtb3ZlQ2xhc3MpO1xuXG52YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjExMSk7XG5cbnZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlcXVlc3RBbmltYXRpb25GcmFtZSk7XG5cbnZhciBfcHJvcGVydGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ4KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblxudmFyIF9Qcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBldmVudHMgPSBbXTtcbmlmIChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKSBldmVudHMucHVzaChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKTtcbmlmIChfcHJvcGVydGllcy5hbmltYXRpb25FbmQpIGV2ZW50cy5wdXNoKF9wcm9wZXJ0aWVzLmFuaW1hdGlvbkVuZCk7XG5cbmZ1bmN0aW9uIGFkZEVuZExpc3RlbmVyKG5vZGUsIGxpc3RlbmVyKSB7XG4gIGlmIChldmVudHMubGVuZ3RoKSB7XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZXRUaW1lb3V0KGxpc3RlbmVyLCAwKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFldmVudHMubGVuZ3RoKSByZXR1cm47XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfTtcbn1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgbmFtZTogX1Byb3BUeXBlcy5uYW1lU2hhcGUuaXNSZXF1aXJlZCxcblxuICAvLyBPbmNlIHdlIHJlcXVpcmUgdGltZW91dHMgdG8gYmUgc3BlY2lmaWVkLCB3ZSBjYW4gcmVtb3ZlIHRoZVxuICAvLyBib29sZWFuIGZsYWdzIChhcHBlYXIgZXRjLikgYW5kIGp1c3QgYWNjZXB0IGEgbnVtYmVyXG4gIC8vIG9yIGEgYm9vbCBmb3IgdGhlIHRpbWVvdXQgZmxhZ3MgKGFwcGVhclRpbWVvdXQgZXRjLilcbiAgYXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGFwcGVhclRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBlbnRlclRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBsZWF2ZVRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyXG59O1xuXG52YXIgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENTU1RyYW5zaXRpb25Hcm91cENoaWxkKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmNvbXBvbmVudFdpbGxBcHBlYXIgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmFwcGVhcikge1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uKCdhcHBlYXInLCBkb25lLCBfdGhpcy5wcm9wcy5hcHBlYXJUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jb21wb25lbnRXaWxsRW50ZXIgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmVudGVyKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2VudGVyJywgZG9uZSwgX3RoaXMucHJvcHMuZW50ZXJUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jb21wb25lbnRXaWxsTGVhdmUgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmxlYXZlKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2xlYXZlJywgZG9uZSwgX3RoaXMucHJvcHMubGVhdmVUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUgPSBbXTtcbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cyA9IFtdO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMudW5tb3VudGVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5sZW5ndGggPSAwO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS50cmFuc2l0aW9uID0gZnVuY3Rpb24gdHJhbnNpdGlvbihhbmltYXRpb25UeXBlLCBmaW5pc2hDYWxsYmFjaywgdGltZW91dCkge1xuICAgIHZhciBub2RlID0gKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcyk7XG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIGlmIChmaW5pc2hDYWxsYmFjaykge1xuICAgICAgICBmaW5pc2hDYWxsYmFjaygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLm5hbWVbYW5pbWF0aW9uVHlwZV0gfHwgdGhpcy5wcm9wcy5uYW1lICsgJy0nICsgYW5pbWF0aW9uVHlwZTtcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gdGhpcy5wcm9wcy5uYW1lW2FuaW1hdGlvblR5cGUgKyAnQWN0aXZlJ10gfHwgY2xhc3NOYW1lICsgJy1hY3RpdmUnO1xuICAgIHZhciB0aW1lciA9IG51bGw7XG4gICAgdmFyIHJlbW92ZUxpc3RlbmVycyA9IHZvaWQgMDtcblxuICAgICgwLCBfYWRkQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGNsYXNzTmFtZSk7XG5cbiAgICAvLyBOZWVkIHRvIGRvIHRoaXMgdG8gYWN0dWFsbHkgdHJpZ2dlciBhIHRyYW5zaXRpb24uXG4gICAgdGhpcy5xdWV1ZUNsYXNzQW5kTm9kZShhY3RpdmVDbGFzc05hbWUsIG5vZGUpO1xuXG4gICAgLy8gQ2xlYW4tdXAgdGhlIGFuaW1hdGlvbiBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5XG4gICAgdmFyIGZpbmlzaCA9IGZ1bmN0aW9uIGZpbmlzaChlKSB7XG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICBpZiAocmVtb3ZlTGlzdGVuZXJzKSByZW1vdmVMaXN0ZW5lcnMoKTtcblxuICAgICAgKDAsIF9yZW1vdmVDbGFzczIuZGVmYXVsdCkobm9kZSwgY2xhc3NOYW1lKTtcbiAgICAgICgwLCBfcmVtb3ZlQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChyZW1vdmVMaXN0ZW5lcnMpIHJlbW92ZUxpc3RlbmVycygpO1xuXG4gICAgICAvLyBVc3VhbGx5IHRoaXMgb3B0aW9uYWwgY2FsbGJhY2sgaXMgdXNlZCBmb3IgaW5mb3JtaW5nIGFuIG93bmVyIG9mXG4gICAgICAvLyBhIGxlYXZlIGFuaW1hdGlvbiBhbmQgdGVsbGluZyBpdCB0byByZW1vdmUgdGhlIGNoaWxkLlxuICAgICAgaWYgKGZpbmlzaENhbGxiYWNrKSB7XG4gICAgICAgIGZpbmlzaENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZmluaXNoLCB0aW1lb3V0KTtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXRzLnB1c2godGltZXIpO1xuICAgIH0gZWxzZSBpZiAoX3Byb3BlcnRpZXMudHJhbnNpdGlvbkVuZCkge1xuICAgICAgcmVtb3ZlTGlzdGVuZXJzID0gYWRkRW5kTGlzdGVuZXIobm9kZSwgZmluaXNoKTtcbiAgICB9XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLnF1ZXVlQ2xhc3NBbmROb2RlID0gZnVuY3Rpb24gcXVldWVDbGFzc0FuZE5vZGUoY2xhc3NOYW1lLCBub2RlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5wdXNoKHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgbm9kZTogbm9kZVxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnJhZkhhbmRsZSkge1xuICAgICAgdGhpcy5yYWZIYW5kbGUgPSAoMCwgX3JlcXVlc3RBbmltYXRpb25GcmFtZTIuZGVmYXVsdCkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLmZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlID0gZnVuY3Rpb24gZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUoKSB7XG4gICAgaWYgKCF0aGlzLnVubW91bnRlZCkge1xuICAgICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgZm9yIHRvIGZvcmNlIGEgcmVwYWludCxcbiAgICAgICAgLy8gd2hpY2ggaXMgbmVjZXNzYXJ5IGluIG9yZGVyIHRvIHRyYW5zaXRpb24gc3R5bGVzIHdoZW4gYWRkaW5nIGEgY2xhc3MgbmFtZS5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICAgIG9iai5ub2RlLnNjcm9sbFRvcDtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgICAgICAgKDAsIF9hZGRDbGFzczIuZGVmYXVsdCkob2JqLm5vZGUsIG9iai5jbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5yYWZIYW5kbGUgPSBudWxsO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIGRlbGV0ZSBwcm9wcy5uYW1lO1xuICAgIGRlbGV0ZSBwcm9wcy5hcHBlYXI7XG4gICAgZGVsZXRlIHByb3BzLmVudGVyO1xuICAgIGRlbGV0ZSBwcm9wcy5sZWF2ZTtcbiAgICBkZWxldGUgcHJvcHMuYXBwZWFyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMuZW50ZXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5sZWF2ZVRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmNoaWxkcmVuO1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pLCBwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb25Hcm91cENoaWxkO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQuZGlzcGxheU5hbWUgPSAnQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQnO1xuXG5cbkNTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3BUeXBlcyA9ICBmYWxzZSA/IHByb3BUeXBlcyA6IHt9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExMTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2luRE9NID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NykpO1xuXG52YXIgdmVuZG9ycyA9IFsnJywgJ3dlYmtpdCcsICdtb3onLCAnbycsICdtcyddO1xudmFyIGNhbmNlbCA9ICdjbGVhclRpbWVvdXQnO1xudmFyIHJhZiA9IGZhbGxiYWNrO1xudmFyIGNvbXBhdFJhZjtcblxudmFyIGdldEtleSA9IGZ1bmN0aW9uIGdldEtleSh2ZW5kb3IsIGspIHtcbiAgcmV0dXJuIHZlbmRvciArICghdmVuZG9yID8gayA6IGtbMF0udG9VcHBlckNhc2UoKSArIGsuc3Vic3RyKDEpKSArICdBbmltYXRpb25GcmFtZSc7XG59O1xuXG5pZiAoX2luRE9NLmRlZmF1bHQpIHtcbiAgdmVuZG9ycy5zb21lKGZ1bmN0aW9uICh2ZW5kb3IpIHtcbiAgICB2YXIgcmFmS2V5ID0gZ2V0S2V5KHZlbmRvciwgJ3JlcXVlc3QnKTtcblxuICAgIGlmIChyYWZLZXkgaW4gd2luZG93KSB7XG4gICAgICBjYW5jZWwgPSBnZXRLZXkodmVuZG9yLCAnY2FuY2VsJyk7XG4gICAgICByZXR1cm4gcmFmID0gZnVuY3Rpb24gcmFmKGNiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3dbcmFmS2V5XShjYik7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG4vKiBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L3JhZiAqL1xuXG5cbnZhciBwcmV2ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbmZ1bmN0aW9uIGZhbGxiYWNrKGZuKSB7XG4gIHZhciBjdXJyID0gbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICBtcyA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnIgLSBwcmV2KSksXG4gICAgICByZXEgPSBzZXRUaW1lb3V0KGZuLCBtcyk7XG4gIHByZXYgPSBjdXJyO1xuICByZXR1cm4gcmVxO1xufVxuXG5jb21wYXRSYWYgPSBmdW5jdGlvbiBjb21wYXRSYWYoY2IpIHtcbiAgcmV0dXJuIHJhZihjYik7XG59O1xuXG5jb21wYXRSYWYuY2FuY2VsID0gZnVuY3Rpb24gKGlkKSB7XG4gIHdpbmRvd1tjYW5jZWxdICYmIHR5cGVvZiB3aW5kb3dbY2FuY2VsXSA9PT0gJ2Z1bmN0aW9uJyAmJiB3aW5kb3dbY2FuY2VsXShpZCk7XG59O1xuXG52YXIgX2RlZmF1bHQgPSBjb21wYXRSYWY7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTEyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX0dyb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcblxudmFyIF9Hcm93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3cpO1xuXG52YXIgX2NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF9yZWFjdEhpZ2hsaWdodFdvcmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTEzKTtcblxudmFyIF9yZWFjdEhpZ2hsaWdodFdvcmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0SGlnaGxpZ2h0V29yZHMpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblxudmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTE0KTtcblxudmFyIF9yZWFjdEdpZlBsYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oMTc2KTtcblxudmFyIF9yZWFjdEdpZlBsYXllcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEdpZlBsYXllcik7XG5cbnZhciBfUmlwcGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTE3KTtcblxudmFyIF9SaXBwbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmlwcGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGF1dGhvciBCYWxyYWogU2luZ2ggPGJhbHJhanNpbmdoLnNAaGlnaHJhZGl1cy5jb20+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHtcblxuICAgICAgICBjaGF0QnViYmxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiZmxleC1zdGFydFwiLFxuICAgICAgICAgICAgcGFkZGluZzogXCI0cHhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgIG1pbldpZHRoOiBcImNhbGMoMTAwJSAtIDJyZW0pXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEwMCUgLSAycmVtKVwiLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjFyZW1cIixcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCI0cHhcIlxuICAgICAgICB9LFxuICAgICAgICByaWdodEJ1YmJsZToge1xuICAgICAgICAgICAgb3BhY2l0eTogXCIwLjY1ICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIGFsaWduU2VsZjogXCJmbGV4LWVuZFwiLFxuICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3ctcmV2ZXJzZVwiXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIlxuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHRNZXNzYWdlOiB7XG4gICAgICAgICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSg5MywgMTcwLCAyMjQsIDAuMylcIlxuICAgICAgICB9LFxuICAgICAgICBjaXJjbGVkVGV4dDoge1xuICAgICAgICAgICAgbWluV2lkdGg6IFwiMnJlbVwiLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjJyZW1cIixcbiAgICAgICAgICAgIG1heEhlaWdodDogXCIycmVtXCIsXG4gICAgICAgICAgICBtYXhXaWR0aDogXCIycmVtXCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IFwiMnJlbVwiLFxuICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjNURBQUUwXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ2lmQW5pbWF0b3I6IHt9LFxuICAgICAgICBkZXRlY3Rvcjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjNURBQUUwXCJcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0ZXJGb3JMZWZ0OiB7XG4gICAgICAgICAgICBhbGlnblNlbGY6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIjEwcHhcIlxuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHRlckZvclJpZ2h0OiB7XG4gICAgICAgICAgICB0ZXh0QWxpZ246IFwicmlnaHRcIixcbiAgICAgICAgICAgIGFsaWduU2VsZjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjEwcHhcIlxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBDaGF0Qm94ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQ2hhdEJveCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDaGF0Qm94KHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGF0Qm94KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2hhdEJveC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENoYXRCb3gpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDaGF0Qm94LCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgaXNDb2xsZWN0b3IgPSBfcHJvcHMuaXNDb2xsZWN0b3IsXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9wcm9wcy5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICBpc0RldGVjdGluZyA9IF9wcm9wcy5pc0RldGVjdGluZztcblxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIC8vY29tbWVudCA8R3Jvdz4gYW5kIDwvR3Jvdz4gZm9sbG93aW5nIGZvciBydW5uaW5nIHRlc3RzIHN1aXRlXG4gICAgICAgICAgICAgICAgLy9jYW5ub3Qgc2V0IHRyYW5zaXRpb25zIGluIG5vZGUgZW52XG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9Hcm93Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7ICdpbic6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoYXRCdWJibGUgKyBcIiBcIiArIChpc0NvbGxlY3RvciA/IGNsYXNzZXMucmlnaHRCdWJibGUgOiBcIlwiKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzRGV0ZWN0aW5nICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2lyY2xlZFRleHQgKyBcIiBcIiArIChpc0RldGVjdGluZyA/IGNsYXNzZXMuZGV0ZWN0b3IgOiBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5pbml0aWFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGV0ZWN0aW5nICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgaGVpZ2h0OiBcIjIuNXJlbVwiLCB3aWR0aDogXCIyLjVyZW1cIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3JjPXtcIi90b3ZvL3N0YXRpYy9SaXBwbGUuZ2lmXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBzcmM6IF9SaXBwbGUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0OiAnRGV0ZWN0aW5nIFNwZWFrZXJzIEFuaW1hdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0SGlnaGxpZ2h0V29yZHMyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGlzQ29sbGVjdG9yID8gY2xhc3Nlcy5oaWdobGlnaHRlckZvclJpZ2h0IDogY2xhc3Nlcy5oaWdobGlnaHRlckZvckxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5oaWdobGlnaHRDbGFzc05hbWU6IGNsYXNzZXMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDbGFzc05hbWU6IGNsYXNzZXMuaGlnaGxpZ2h0TWVzc2FnZSArIFwiIFwiICsgY2xhc3Nlcy5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFdvcmRzOiBfY29uc3RhbnRzLkhJR0hMSUdIVEVSX1JFR0VYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRUb0hpZ2hsaWdodDogbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2hhdEJveDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNoYXRCb3gucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaXNDb2xsZWN0b3I6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgICBtZXNzYWdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgICBpc0RldGVjdGluZzogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sXG59O1xuQ2hhdEJveC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaXNDb2xsZWN0b3I6IGZhbHNlLFxuICAgIG1lc3NhZ2U6IFwiXCIsXG4gICAgaXNEZXRlY3Rpbmc6IGZhbHNlXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShDaGF0Qm94KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID1cbi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX0hpZ2hsaWdodGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfSGlnaGxpZ2h0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSGlnaGxpZ2h0ZXIpO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IF9IaWdobGlnaHRlcjJbJ2RlZmF1bHQnXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gSGlnaGxpZ2h0ZXI7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX2hpZ2hsaWdodFdvcmRzQ29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX21lbW9pemVPbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfbWVtb2l6ZU9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZW1vaXplT25lKTtcblx0XG5cdEhpZ2hsaWdodGVyLnByb3BUeXBlcyA9IHtcblx0ICBhY3RpdmVDbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXHQgIGFjdGl2ZUluZGV4OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm51bWJlcixcblx0ICBhY3RpdmVTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3QsXG5cdCAgYXV0b0VzY2FwZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuXHQgIGNsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG5cdCAgZmluZENodW5rczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXHQgIGhpZ2hsaWdodENsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0LCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZ10pLFxuXHQgIGhpZ2hsaWdodFN0eWxlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdCxcblx0ICBoaWdobGlnaHRUYWc6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYywgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmddKSxcblx0ICBzYW5pdGl6ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXHQgIHNlYXJjaFdvcmRzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmFycmF5T2YoX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmluc3RhbmNlT2YoUmVnRXhwKV0pKS5pc1JlcXVpcmVkLFxuXHQgIHRleHRUb0hpZ2hsaWdodDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcuaXNSZXF1aXJlZCxcblx0ICB1bmhpZ2hsaWdodENsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG5cdCAgdW5oaWdobGlnaHRTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3Rcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBIaWdobGlnaHRzIGFsbCBvY2N1cnJlbmNlcyBvZiBzZWFyY2ggdGVybXMgKHNlYXJjaFRleHQpIHdpdGhpbiBhIHN0cmluZyAodGV4dFRvSGlnaGxpZ2h0KS5cblx0ICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGFuIGFycmF5IG9mIHN0cmluZ3MgYW5kIDxzcGFuPnMgKHdyYXBwaW5nIGhpZ2hsaWdodGVkIHdvcmRzKS5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBIaWdobGlnaHRlcihfcmVmKSB7XG5cdCAgdmFyIF9yZWYkYWN0aXZlQ2xhc3NOYW1lID0gX3JlZi5hY3RpdmVDbGFzc05hbWU7XG5cdCAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IF9yZWYkYWN0aXZlQ2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkYWN0aXZlQ2xhc3NOYW1lO1xuXHQgIHZhciBfcmVmJGFjdGl2ZUluZGV4ID0gX3JlZi5hY3RpdmVJbmRleDtcblx0ICB2YXIgYWN0aXZlSW5kZXggPSBfcmVmJGFjdGl2ZUluZGV4ID09PSB1bmRlZmluZWQgPyAtMSA6IF9yZWYkYWN0aXZlSW5kZXg7XG5cdCAgdmFyIGFjdGl2ZVN0eWxlID0gX3JlZi5hY3RpdmVTdHlsZTtcblx0ICB2YXIgYXV0b0VzY2FwZSA9IF9yZWYuYXV0b0VzY2FwZTtcblx0ICB2YXIgX3JlZiRjYXNlU2Vuc2l0aXZlID0gX3JlZi5jYXNlU2Vuc2l0aXZlO1xuXHQgIHZhciBjYXNlU2Vuc2l0aXZlID0gX3JlZiRjYXNlU2Vuc2l0aXZlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkY2FzZVNlbnNpdGl2ZTtcblx0ICB2YXIgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWU7XG5cdCAgdmFyIGZpbmRDaHVua3MgPSBfcmVmLmZpbmRDaHVua3M7XG5cdCAgdmFyIF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZi5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIGhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciBfcmVmJGhpZ2hsaWdodFN0eWxlID0gX3JlZi5oaWdobGlnaHRTdHlsZTtcblx0ICB2YXIgaGlnaGxpZ2h0U3R5bGUgPSBfcmVmJGhpZ2hsaWdodFN0eWxlID09PSB1bmRlZmluZWQgPyB7fSA6IF9yZWYkaGlnaGxpZ2h0U3R5bGU7XG5cdCAgdmFyIF9yZWYkaGlnaGxpZ2h0VGFnID0gX3JlZi5oaWdobGlnaHRUYWc7XG5cdCAgdmFyIGhpZ2hsaWdodFRhZyA9IF9yZWYkaGlnaGxpZ2h0VGFnID09PSB1bmRlZmluZWQgPyAnbWFyaycgOiBfcmVmJGhpZ2hsaWdodFRhZztcblx0ICB2YXIgc2FuaXRpemUgPSBfcmVmLnNhbml0aXplO1xuXHQgIHZhciBzZWFyY2hXb3JkcyA9IF9yZWYuc2VhcmNoV29yZHM7XG5cdCAgdmFyIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYudGV4dFRvSGlnaGxpZ2h0O1xuXHQgIHZhciBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZi51bmhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICB2YXIgdW5oaWdobGlnaHRDbGFzc05hbWUgPSBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkdW5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIHVuaGlnaGxpZ2h0U3R5bGUgPSBfcmVmLnVuaGlnaGxpZ2h0U3R5bGU7XG5cdFxuXHQgIHZhciBjaHVua3MgPSAoMCwgX2hpZ2hsaWdodFdvcmRzQ29yZS5maW5kQWxsKSh7XG5cdCAgICBhdXRvRXNjYXBlOiBhdXRvRXNjYXBlLFxuXHQgICAgY2FzZVNlbnNpdGl2ZTogY2FzZVNlbnNpdGl2ZSxcblx0ICAgIGZpbmRDaHVua3M6IGZpbmRDaHVua3MsXG5cdCAgICBzYW5pdGl6ZTogc2FuaXRpemUsXG5cdCAgICBzZWFyY2hXb3Jkczogc2VhcmNoV29yZHMsXG5cdCAgICB0ZXh0VG9IaWdobGlnaHQ6IHRleHRUb0hpZ2hsaWdodFxuXHQgIH0pO1xuXHQgIHZhciBIaWdobGlnaHRUYWcgPSBoaWdobGlnaHRUYWc7XG5cdCAgdmFyIGhpZ2hsaWdodENvdW50ID0gLTE7XG5cdCAgdmFyIGhpZ2hsaWdodENsYXNzTmFtZXMgPSAnJztcblx0ICB2YXIgaGlnaGxpZ2h0U3R5bGVzID0gdW5kZWZpbmVkO1xuXHRcblx0ICB2YXIgbG93ZXJjYXNlUHJvcHMgPSBmdW5jdGlvbiBsb3dlcmNhc2VQcm9wcyhvYmplY3QpIHtcblx0ICAgIHZhciBtYXBwZWQgPSB7fTtcblx0ICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcblx0ICAgICAgbWFwcGVkW2tleS50b0xvd2VyQ2FzZSgpXSA9IG9iamVjdFtrZXldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG1hcHBlZDtcblx0ICB9O1xuXHQgIHZhciBtZW1vaXplZExvd2VyY2FzZVByb3BzID0gKDAsIF9tZW1vaXplT25lMlsnZGVmYXVsdCddKShsb3dlcmNhc2VQcm9wcyk7XG5cdFxuXHQgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICdzcGFuJyxcblx0ICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcblx0ICAgIGNodW5rcy5tYXAoZnVuY3Rpb24gKGNodW5rLCBpbmRleCkge1xuXHQgICAgICB2YXIgdGV4dCA9IHRleHRUb0hpZ2hsaWdodC5zdWJzdHIoY2h1bmsuc3RhcnQsIGNodW5rLmVuZCAtIGNodW5rLnN0YXJ0KTtcblx0XG5cdCAgICAgIGlmIChjaHVuay5oaWdobGlnaHQpIHtcblx0ICAgICAgICBoaWdobGlnaHRDb3VudCsrO1xuXHRcblx0ICAgICAgICB2YXIgaGlnaGxpZ2h0Q2xhc3MgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBoaWdobGlnaHRDbGFzc05hbWUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICBpZiAoIWNhc2VTZW5zaXRpdmUpIHtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lID0gbWVtb2l6ZWRMb3dlcmNhc2VQcm9wcyhoaWdobGlnaHRDbGFzc05hbWUpO1xuXHQgICAgICAgICAgICBoaWdobGlnaHRDbGFzcyA9IGhpZ2hsaWdodENsYXNzTmFtZVt0ZXh0LnRvTG93ZXJDYXNlKCldO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3MgPSBoaWdobGlnaHRDbGFzc05hbWVbdGV4dF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGhpZ2hsaWdodENsYXNzID0gaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGlzQWN0aXZlID0gaGlnaGxpZ2h0Q291bnQgPT09ICthY3RpdmVJbmRleDtcblx0XG5cdCAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lcyA9IGhpZ2hsaWdodENsYXNzICsgJyAnICsgKGlzQWN0aXZlID8gYWN0aXZlQ2xhc3NOYW1lIDogJycpO1xuXHQgICAgICAgIGhpZ2hsaWdodFN0eWxlcyA9IGlzQWN0aXZlID09PSB0cnVlICYmIGFjdGl2ZVN0eWxlICE9IG51bGwgPyBPYmplY3QuYXNzaWduKHt9LCBoaWdobGlnaHRTdHlsZSwgYWN0aXZlU3R5bGUpIDogaGlnaGxpZ2h0U3R5bGU7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIEhpZ2hsaWdodFRhZyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBoaWdobGlnaHRDbGFzc05hbWVzLFxuXHQgICAgICAgICAgICBrZXk6IGluZGV4LFxuXHQgICAgICAgICAgICBzdHlsZTogaGlnaGxpZ2h0U3R5bGVzXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdGV4dFxuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHVuaGlnaGxpZ2h0Q2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBrZXk6IGluZGV4LFxuXHQgICAgICAgICAgICBzdHlsZTogdW5oaWdobGlnaHRTdHlsZVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHRleHRcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgICk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9XG5cdC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcblx0LyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG5cdC8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuXHQvKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHQvKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG5cdC8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0LyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcblx0LyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG5cdC8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcblx0LyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuXHQvKioqKioqLyBcdFx0fTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHQvKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdC8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdC8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG5cdC8qKioqKiovIFx0fVxuXHQvKioqKioqL1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5cdC8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuXHQvKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cblx0LyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuXHQvKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXHQvKioqKioqLyB9KVxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXHQvKioqKioqLyAoW1xuXHQvKiAwICovXG5cdC8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblx0XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0XG5cdC8qKiovIH0pLFxuXHQvKiAxICovXG5cdC8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblx0XG5cdFx0J3VzZSBzdHJpY3QnO1xuXHRcdFxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdCAgdmFsdWU6IHRydWVcblx0XHR9KTtcblx0XHRcblx0XHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NvbWJpbmVDaHVua3MnLCB7XG5cdFx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFx0ICAgIHJldHVybiBfdXRpbHMuY29tYmluZUNodW5rcztcblx0XHQgIH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2ZpbGxJbkNodW5rcycsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5maWxsSW5DaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaW5kQWxsJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmZpbmRBbGw7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaW5kQ2h1bmtzJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmZpbmRDaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFxuXHQvKioqLyB9KSxcblx0LyogMiAqL1xuXHQvKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cdFxuXHRcdCd1c2Ugc3RyaWN0Jztcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHQgIHZhbHVlOiB0cnVlXG5cdFx0fSk7XG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBhbiBhcnJheSBvZiBjaHVuayBvYmplY3RzIHJlcHJlc2VudGluZyBib3RoIGhpZ2xpZ2h0YWJsZSBhbmQgbm9uIGhpZ2hsaWdodGFibGUgcGllY2VzIG9mIHRleHQgdGhhdCBtYXRjaCBlYWNoIHNlYXJjaCB3b3JkLlxuXHRcdCAqIEByZXR1cm4gQXJyYXkgb2YgXCJjaHVua3NcIiAod2hlcmUgYSBDaHVuayBpcyB7IHN0YXJ0Om51bWJlciwgZW5kOm51bWJlciwgaGlnaGxpZ2h0OmJvb2xlYW4gfSlcblx0XHQgKi9cblx0XHR2YXIgZmluZEFsbCA9IGV4cG9ydHMuZmluZEFsbCA9IGZ1bmN0aW9uIGZpbmRBbGwoX3JlZikge1xuXHRcdCAgdmFyIGF1dG9Fc2NhcGUgPSBfcmVmLmF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgX3JlZiRjYXNlU2Vuc2l0aXZlID0gX3JlZi5jYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIGNhc2VTZW5zaXRpdmUgPSBfcmVmJGNhc2VTZW5zaXRpdmUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRjYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIF9yZWYkZmluZENodW5rcyA9IF9yZWYuZmluZENodW5rcyxcblx0XHQgICAgICBmaW5kQ2h1bmtzID0gX3JlZiRmaW5kQ2h1bmtzID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RmluZENodW5rcyA6IF9yZWYkZmluZENodW5rcyxcblx0XHQgICAgICBzYW5pdGl6ZSA9IF9yZWYuc2FuaXRpemUsXG5cdFx0ICAgICAgc2VhcmNoV29yZHMgPSBfcmVmLnNlYXJjaFdvcmRzLFxuXHRcdCAgICAgIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYudGV4dFRvSGlnaGxpZ2h0O1xuXHRcdCAgcmV0dXJuIGZpbGxJbkNodW5rcyh7XG5cdFx0ICAgIGNodW5rc1RvSGlnaGxpZ2h0OiBjb21iaW5lQ2h1bmtzKHtcblx0XHQgICAgICBjaHVua3M6IGZpbmRDaHVua3Moe1xuXHRcdCAgICAgICAgYXV0b0VzY2FwZTogYXV0b0VzY2FwZSxcblx0XHQgICAgICAgIGNhc2VTZW5zaXRpdmU6IGNhc2VTZW5zaXRpdmUsXG5cdFx0ICAgICAgICBzYW5pdGl6ZTogc2FuaXRpemUsXG5cdFx0ICAgICAgICBzZWFyY2hXb3Jkczogc2VhcmNoV29yZHMsXG5cdFx0ICAgICAgICB0ZXh0VG9IaWdobGlnaHQ6IHRleHRUb0hpZ2hsaWdodFxuXHRcdCAgICAgIH0pXG5cdFx0ICAgIH0pLFxuXHRcdCAgICB0b3RhbExlbmd0aDogdGV4dFRvSGlnaGxpZ2h0ID8gdGV4dFRvSGlnaGxpZ2h0Lmxlbmd0aCA6IDBcblx0XHQgIH0pO1xuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogVGFrZXMgYW4gYXJyYXkgb2Yge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn0gb2JqZWN0cyBhbmQgY29tYmluZXMgY2h1bmtzIHRoYXQgb3ZlcmxhcCBpbnRvIHNpbmdsZSBjaHVua3MuXG5cdFx0ICogQHJldHVybiB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyfVtdXG5cdFx0ICovXG5cdFx0dmFyIGNvbWJpbmVDaHVua3MgPSBleHBvcnRzLmNvbWJpbmVDaHVua3MgPSBmdW5jdGlvbiBjb21iaW5lQ2h1bmtzKF9yZWYyKSB7XG5cdFx0ICB2YXIgY2h1bmtzID0gX3JlZjIuY2h1bmtzO1xuXHRcdFxuXHRcdCAgY2h1bmtzID0gY2h1bmtzLnNvcnQoZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHtcblx0XHQgICAgcmV0dXJuIGZpcnN0LnN0YXJ0IC0gc2Vjb25kLnN0YXJ0O1xuXHRcdCAgfSkucmVkdWNlKGZ1bmN0aW9uIChwcm9jZXNzZWRDaHVua3MsIG5leHRDaHVuaykge1xuXHRcdCAgICAvLyBGaXJzdCBjaHVuayBqdXN0IGdvZXMgc3RyYWlnaHQgaW4gdGhlIGFycmF5Li4uXG5cdFx0ICAgIGlmIChwcm9jZXNzZWRDaHVua3MubGVuZ3RoID09PSAwKSB7XG5cdFx0ICAgICAgcmV0dXJuIFtuZXh0Q2h1bmtdO1xuXHRcdCAgICB9IGVsc2Uge1xuXHRcdCAgICAgIC8vIC4uLiBzdWJzZXF1ZW50IGNodW5rcyBnZXQgY2hlY2tlZCB0byBzZWUgaWYgdGhleSBvdmVybGFwLi4uXG5cdFx0ICAgICAgdmFyIHByZXZDaHVuayA9IHByb2Nlc3NlZENodW5rcy5wb3AoKTtcblx0XHQgICAgICBpZiAobmV4dENodW5rLnN0YXJ0IDw9IHByZXZDaHVuay5lbmQpIHtcblx0XHQgICAgICAgIC8vIEl0IG1heSBiZSB0aGUgY2FzZSB0aGF0IHByZXZDaHVuayBjb21wbGV0ZWx5IHN1cnJvdW5kcyBuZXh0Q2h1bmssIHNvIHRha2UgdGhlXG5cdFx0ICAgICAgICAvLyBsYXJnZXN0IG9mIHRoZSBlbmQgaW5kZWNlcy5cblx0XHQgICAgICAgIHZhciBlbmRJbmRleCA9IE1hdGgubWF4KHByZXZDaHVuay5lbmQsIG5leHRDaHVuay5lbmQpO1xuXHRcdCAgICAgICAgcHJvY2Vzc2VkQ2h1bmtzLnB1c2goeyBzdGFydDogcHJldkNodW5rLnN0YXJ0LCBlbmQ6IGVuZEluZGV4IH0pO1xuXHRcdCAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICBwcm9jZXNzZWRDaHVua3MucHVzaChwcmV2Q2h1bmssIG5leHRDaHVuayk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICAgIHJldHVybiBwcm9jZXNzZWRDaHVua3M7XG5cdFx0ICAgIH1cblx0XHQgIH0sIFtdKTtcblx0XHRcblx0XHQgIHJldHVybiBjaHVua3M7XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBFeGFtaW5lIHRleHQgZm9yIGFueSBtYXRjaGVzLlxuXHRcdCAqIElmIHdlIGZpbmQgbWF0Y2hlcywgYWRkIHRoZW0gdG8gdGhlIHJldHVybmVkIGFycmF5IGFzIGEgXCJjaHVua1wiIG9iamVjdCAoe3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn0pLlxuXHRcdCAqIEByZXR1cm4ge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqL1xuXHRcdHZhciBkZWZhdWx0RmluZENodW5rcyA9IGZ1bmN0aW9uIGRlZmF1bHRGaW5kQ2h1bmtzKF9yZWYzKSB7XG5cdFx0ICB2YXIgYXV0b0VzY2FwZSA9IF9yZWYzLmF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgY2FzZVNlbnNpdGl2ZSA9IF9yZWYzLmNhc2VTZW5zaXRpdmUsXG5cdFx0ICAgICAgX3JlZjMkc2FuaXRpemUgPSBfcmVmMy5zYW5pdGl6ZSxcblx0XHQgICAgICBzYW5pdGl6ZSA9IF9yZWYzJHNhbml0aXplID09PSB1bmRlZmluZWQgPyBpZGVudGl0eSA6IF9yZWYzJHNhbml0aXplLFxuXHRcdCAgICAgIHNlYXJjaFdvcmRzID0gX3JlZjMuc2VhcmNoV29yZHMsXG5cdFx0ICAgICAgdGV4dFRvSGlnaGxpZ2h0ID0gX3JlZjMudGV4dFRvSGlnaGxpZ2h0O1xuXHRcdFxuXHRcdCAgdGV4dFRvSGlnaGxpZ2h0ID0gc2FuaXRpemUodGV4dFRvSGlnaGxpZ2h0KTtcblx0XHRcblx0XHQgIHJldHVybiBzZWFyY2hXb3Jkcy5maWx0ZXIoZnVuY3Rpb24gKHNlYXJjaFdvcmQpIHtcblx0XHQgICAgcmV0dXJuIHNlYXJjaFdvcmQ7XG5cdFx0ICB9KSAvLyBSZW1vdmUgZW1wdHkgd29yZHNcblx0XHQgIC5yZWR1Y2UoZnVuY3Rpb24gKGNodW5rcywgc2VhcmNoV29yZCkge1xuXHRcdCAgICBzZWFyY2hXb3JkID0gc2FuaXRpemUoc2VhcmNoV29yZCk7XG5cdFx0XG5cdFx0ICAgIGlmIChhdXRvRXNjYXBlKSB7XG5cdFx0ICAgICAgc2VhcmNoV29yZCA9IGVzY2FwZVJlZ0V4cEZuKHNlYXJjaFdvcmQpO1xuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoc2VhcmNoV29yZCwgY2FzZVNlbnNpdGl2ZSA/ICdnJyA6ICdnaScpO1xuXHRcdFxuXHRcdCAgICB2YXIgbWF0Y2ggPSB2b2lkIDA7XG5cdFx0ICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dFRvSGlnaGxpZ2h0KSkge1xuXHRcdCAgICAgIHZhciBzdGFydCA9IG1hdGNoLmluZGV4O1xuXHRcdCAgICAgIHZhciBlbmQgPSByZWdleC5sYXN0SW5kZXg7XG5cdFx0ICAgICAgLy8gV2UgZG8gbm90IHJldHVybiB6ZXJvLWxlbmd0aCBtYXRjaGVzXG5cdFx0ICAgICAgaWYgKGVuZCA+IHN0YXJ0KSB7XG5cdFx0ICAgICAgICBjaHVua3MucHVzaCh7IHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQgfSk7XG5cdFx0ICAgICAgfVxuXHRcdFxuXHRcdCAgICAgIC8vIFByZXZlbnQgYnJvd3NlcnMgbGlrZSBGaXJlZm94IGZyb20gZ2V0dGluZyBzdHVjayBpbiBhbiBpbmZpbml0ZSBsb29wXG5cdFx0ICAgICAgLy8gU2VlIGh0dHA6Ly93d3cucmVnZXhndXJ1LmNvbS8yMDA4LzA0L3dhdGNoLW91dC1mb3ItemVyby1sZW5ndGgtbWF0Y2hlcy9cblx0XHQgICAgICBpZiAobWF0Y2guaW5kZXggPT0gcmVnZXgubGFzdEluZGV4KSB7XG5cdFx0ICAgICAgICByZWdleC5sYXN0SW5kZXgrKztcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgcmV0dXJuIGNodW5rcztcblx0XHQgIH0sIFtdKTtcblx0XHR9O1xuXHRcdC8vIEFsbG93IHRoZSBmaW5kQ2h1bmtzIHRvIGJlIG92ZXJyaWRkZW4gaW4gZmluZEFsbCxcblx0XHQvLyBidXQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdlIGV4cG9ydCBhcyB0aGUgb2xkIG5hbWVcblx0XHRleHBvcnRzLmZpbmRDaHVua3MgPSBkZWZhdWx0RmluZENodW5rcztcblx0XHRcblx0XHQvKipcblx0XHQgKiBHaXZlbiBhIHNldCBvZiBjaHVua3MgdG8gaGlnaGxpZ2h0LCBjcmVhdGUgYW4gYWRkaXRpb25hbCBzZXQgb2YgY2h1bmtzXG5cdFx0ICogdG8gcmVwcmVzZW50IHRoZSBiaXRzIG9mIHRleHQgYmV0d2VlbiB0aGUgaGlnaGxpZ2h0ZWQgdGV4dC5cblx0XHQgKiBAcGFyYW0gY2h1bmtzVG9IaWdobGlnaHQge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqIEBwYXJhbSB0b3RhbExlbmd0aCBudW1iZXJcblx0XHQgKiBAcmV0dXJuIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXIsIGhpZ2hsaWdodDpib29sZWFufVtdXG5cdFx0ICovXG5cdFx0XG5cdFx0dmFyIGZpbGxJbkNodW5rcyA9IGV4cG9ydHMuZmlsbEluQ2h1bmtzID0gZnVuY3Rpb24gZmlsbEluQ2h1bmtzKF9yZWY0KSB7XG5cdFx0ICB2YXIgY2h1bmtzVG9IaWdobGlnaHQgPSBfcmVmNC5jaHVua3NUb0hpZ2hsaWdodCxcblx0XHQgICAgICB0b3RhbExlbmd0aCA9IF9yZWY0LnRvdGFsTGVuZ3RoO1xuXHRcdFxuXHRcdCAgdmFyIGFsbENodW5rcyA9IFtdO1xuXHRcdCAgdmFyIGFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChzdGFydCwgZW5kLCBoaWdobGlnaHQpIHtcblx0XHQgICAgaWYgKGVuZCAtIHN0YXJ0ID4gMCkge1xuXHRcdCAgICAgIGFsbENodW5rcy5wdXNoKHtcblx0XHQgICAgICAgIHN0YXJ0OiBzdGFydCxcblx0XHQgICAgICAgIGVuZDogZW5kLFxuXHRcdCAgICAgICAgaGlnaGxpZ2h0OiBoaWdobGlnaHRcblx0XHQgICAgICB9KTtcblx0XHQgICAgfVxuXHRcdCAgfTtcblx0XHRcblx0XHQgIGlmIChjaHVua3NUb0hpZ2hsaWdodC5sZW5ndGggPT09IDApIHtcblx0XHQgICAgYXBwZW5kKDAsIHRvdGFsTGVuZ3RoLCBmYWxzZSk7XG5cdFx0ICB9IGVsc2Uge1xuXHRcdCAgICB2YXIgbGFzdEluZGV4ID0gMDtcblx0XHQgICAgY2h1bmtzVG9IaWdobGlnaHQuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmspIHtcblx0XHQgICAgICBhcHBlbmQobGFzdEluZGV4LCBjaHVuay5zdGFydCwgZmFsc2UpO1xuXHRcdCAgICAgIGFwcGVuZChjaHVuay5zdGFydCwgY2h1bmsuZW5kLCB0cnVlKTtcblx0XHQgICAgICBsYXN0SW5kZXggPSBjaHVuay5lbmQ7XG5cdFx0ICAgIH0pO1xuXHRcdCAgICBhcHBlbmQobGFzdEluZGV4LCB0b3RhbExlbmd0aCwgZmFsc2UpO1xuXHRcdCAgfVxuXHRcdCAgcmV0dXJuIGFsbENodW5rcztcblx0XHR9O1xuXHRcdFxuXHRcdGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG5cdFx0ICByZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHRcdFxuXHRcdGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cEZuKHN0cikge1xuXHRcdCAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgJ1xcXFwkJicpO1xuXHRcdH1cblx0XG5cdC8qKiovIH0pXG5cdC8qKioqKiovIF0pO1xuXHQvLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcblx0ICAgIFN5bWJvbC5mb3IgJiZcblx0ICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcblx0ICAgIDB4ZWFjNztcblx0XG5cdCAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcblx0ICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG5cdCAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuXHQgIH07XG5cdFxuXHQgIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuXHQgIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2Rcblx0ICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcblx0fSBlbHNlIHtcblx0ICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuXHQgIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2Rcblx0ICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKCk7XG5cdH1cblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0XG5cdC8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuXHQvLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcblx0Ly8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuXHQvLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXHRcblx0dmFyIGNhY2hlZFNldFRpbWVvdXQ7XG5cdHZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgfVxuXHR9ICgpKVxuXHRmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuXHQgICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuXHQgICAgICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0fVxuXHRmdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG5cdCAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcblx0ICAgICAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG5cdCAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdFxuXHR9XG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdHByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblx0XG5cdHByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBpbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciBhc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR2YXIgY2hlY2tQcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpIHtcblx0ICAvKiBnbG9iYWwgU3ltYm9sICovXG5cdCAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuXHQgIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJzsgLy8gQmVmb3JlIFN5bWJvbCBzcGVjLlxuXHRcblx0ICAvKipcblx0ICAgKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG5cdCAgICpcblx0ICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcblx0ICAgKlxuXHQgICAqICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obXlJdGVyYWJsZSk7XG5cdCAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG5cdCAgICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuXHQgICAqICAgICAgIC4uLlxuXHQgICAqICAgICB9XG5cdCAgICpcblx0ICAgKiBAcGFyYW0gez9vYmplY3R9IG1heWJlSXRlcmFibGVcblx0ICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG5cdCAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuXHQgICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcblx0ICAgKiBzdXBwbGllZCB0byBSZWFjdCBjb21wb25lbnRzLiBFeGFtcGxlIHVzYWdlOlxuXHQgICAqXG5cdCAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuXHQgICAqICAgdmFyIE15QXJ0aWNsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICAgcHJvcFR5cGVzOiB7XG5cdCAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuXHQgICAqICAgICAgIGRlc2NyaXB0aW9uOiBQcm9wcy5zdHJpbmcsXG5cdCAgICpcblx0ICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG5cdCAgICogICAgICAgY2F0ZWdvcnk6IFByb3BzLm9uZU9mKFsnTmV3cycsJ1Bob3RvcyddKS5pc1JlcXVpcmVkLFxuXHQgICAqXG5cdCAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG5cdCAgICogICAgICAgZGlhbG9nOiBQcm9wcy5pbnN0YW5jZU9mKERpYWxvZykuaXNSZXF1aXJlZFxuXHQgICAqICAgICB9LFxuXHQgICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuXHQgICAqICAgfSk7XG5cdCAgICpcblx0ICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG5cdCAgICpcblx0ICAgKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcblx0ICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cblx0ICAgKlxuXHQgICAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcblx0ICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG5cdCAgICpcblx0ICAgKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICBwcm9wVHlwZXM6IHtcblx0ICAgKiAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBvciBVUkkgcHJvcCBuYW1lZCBcImhyZWZcIi5cblx0ICAgKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuXHQgICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAqICAgICAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHByb3BWYWx1ZSAhPT0gJ3N0cmluZycgJiZcblx0ICAgKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xuXHQgICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG5cdCAgICogICAgICAgICAgICAnRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYW4gVVJJIGZvciAnICsgcHJvcE5hbWUgKyAnIGluICcgK1xuXHQgICAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuXHQgICAqICAgICAgICAgICk7XG5cdCAgICogICAgICAgIH1cblx0ICAgKiAgICAgIH1cblx0ICAgKiAgICB9LFxuXHQgICAqICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7Li4ufVxuXHQgICAqICB9KTtcblx0ICAgKlxuXHQgICAqIEBpbnRlcm5hbFxuXHQgICAqL1xuXHRcblx0ICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuXHRcblx0ICAvLyBJbXBvcnRhbnQhXG5cdCAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanNgLlxuXHQgIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcblx0ICAgIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcblx0ICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG5cdCAgICBmdW5jOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignZnVuY3Rpb24nKSxcblx0ICAgIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxuXHQgICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG5cdCAgICBzdHJpbmc6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcblx0ICAgIHN5bWJvbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N5bWJvbCcpLFxuXHRcblx0ICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcblx0ICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcblx0ICAgIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxuXHQgICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcblx0ICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG5cdCAgICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcblx0ICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG5cdCAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG5cdCAgICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcixcblx0ICAgIGV4YWN0OiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyLFxuXHQgIH07XG5cdFxuXHQgIC8qKlxuXHQgICAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cblx0ICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcblx0ICAgKi9cblx0ICAvKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSovXG5cdCAgZnVuY3Rpb24gaXMoeCwgeSkge1xuXHQgICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuXHQgICAgaWYgKHggPT09IHkpIHtcblx0ICAgICAgLy8gU3RlcHMgMS01LCA3LTEwXG5cdCAgICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG5cdCAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG5cdCAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8qZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXHRcblx0ICAvKipcblx0ICAgKiBXZSB1c2UgYW4gRXJyb3ItbGlrZSBvYmplY3QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYXMgcGVvcGxlIG1heSBjYWxsXG5cdCAgICogUHJvcFR5cGVzIGRpcmVjdGx5IGFuZCBpbnNwZWN0IHRoZWlyIG91dHB1dC4gSG93ZXZlciwgd2UgZG9uJ3QgdXNlIHJlYWxcblx0ICAgKiBFcnJvcnMgYW55bW9yZS4gV2UgZG9uJ3QgaW5zcGVjdCB0aGVpciBzdGFjayBhbnl3YXksIGFuZCBjcmVhdGluZyB0aGVtXG5cdCAgICogaXMgcHJvaGliaXRpdmVseSBleHBlbnNpdmUgaWYgdGhleSBhcmUgY3JlYXRlZCB0b28gb2Z0ZW4sIHN1Y2ggYXMgd2hhdFxuXHQgICAqIGhhcHBlbnMgaW4gb25lT2ZUeXBlKCkgZm9yIGFueSB0eXBlIGJlZm9yZSB0aGUgb25lIHRoYXQgbWF0Y2hlZC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBQcm9wVHlwZUVycm9yKG1lc3NhZ2UpIHtcblx0ICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdCAgICB0aGlzLnN0YWNrID0gJyc7XG5cdCAgfVxuXHQgIC8vIE1ha2UgYGluc3RhbmNlb2YgRXJyb3JgIHN0aWxsIHdvcmsgZm9yIHJldHVybmVkIGVycm9ycy5cblx0ICBQcm9wVHlwZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpIHtcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIHZhciBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSA9IHt9O1xuXHQgICAgICB2YXIgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPSAwO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG5cdCAgICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IEFOT05ZTU9VUztcblx0ICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXHRcblx0ICAgICAgaWYgKHNlY3JldCAhPT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcblx0ICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuXHQgICAgICAgICAgLy8gTmV3IGJlaGF2aW9yIG9ubHkgZm9yIHVzZXJzIG9mIGBwcm9wLXR5cGVzYCBwYWNrYWdlXG5cdCAgICAgICAgICBpbnZhcmlhbnQoXG5cdCAgICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICAgICAgICdVc2UgYFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpYCB0byBjYWxsIHRoZW0uICcgK1xuXHQgICAgICAgICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG5cdCAgICAgICAgICB2YXIgY2FjaGVLZXkgPSBjb21wb25lbnROYW1lICsgJzonICsgcHJvcE5hbWU7XG5cdCAgICAgICAgICBpZiAoXG5cdCAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcblx0ICAgICAgICAgICAgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXG5cdCAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50IDwgM1xuXHQgICAgICAgICAgKSB7XG5cdCAgICAgICAgICAgIHdhcm5pbmcoXG5cdCAgICAgICAgICAgICAgZmFsc2UsXG5cdCAgICAgICAgICAgICAgJ1lvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBhIFJlYWN0LlByb3BUeXBlcyB2YWxpZGF0aW9uICcgK1xuXHQgICAgICAgICAgICAgICdmdW5jdGlvbiBmb3IgdGhlIGAlc2AgcHJvcCBvbiBgJXNgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArXG5cdCAgICAgICAgICAgICAgJ2FuZCB3aWxsIHRocm93IGluIHRoZSBzdGFuZGFsb25lIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcblx0ICAgICAgICAgICAgICAnWW91IG1heSBiZSBzZWVpbmcgdGhpcyB3YXJuaW5nIGR1ZSB0byBhIHRoaXJkLXBhcnR5IFByb3BUeXBlcyAnICtcblx0ICAgICAgICAgICAgICAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJyxcblx0ICAgICAgICAgICAgICBwcm9wRnVsbE5hbWUsXG5cdCAgICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gPSB0cnVlO1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcblx0ICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuXHQgICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkICcgKyAoJ2luIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGBudWxsYC4nKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGB1bmRlZmluZWRgLicpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY2hhaW5lZENoZWNrVHlwZSA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIGZhbHNlKTtcblx0ICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXHRcblx0ICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuXHQgICAgICAgIC8vIGBwcm9wVmFsdWVgIGJlaW5nIGluc3RhbmNlIG9mLCBzYXksIGRhdGUvcmVnZXhwLCBwYXNzIHRoZSAnb2JqZWN0J1xuXHQgICAgICAgIC8vIGNoZWNrLCBidXQgd2UgY2FuIG9mZmVyIGEgbW9yZSBwcmVjaXNlIGVycm9yIG1lc3NhZ2UgaGVyZSByYXRoZXIgdGhhblxuXHQgICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cblx0ICAgICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuXHRcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIoZXhwZWN0ZWRDbGFzcykge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG5cdCAgICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VUztcblx0ICAgICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgYWN0dWFsQ2xhc3NOYW1lICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdpbnN0YW5jZSBvZiBgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJ2AuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuXHQgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoaXMocHJvcFZhbHVlLCBleHBlY3RlZFZhbHVlc1tpXSkpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHZhbHVlc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGV4cGVjdGVkVmFsdWVzKTtcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB2YWx1ZSBgJyArIHByb3BWYWx1ZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuXHQgICAgICAgIGlmIChwcm9wVmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlVW5pb25UeXBlQ2hlY2tlcihhcnJheU9mVHlwZUNoZWNrZXJzKSB7XG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB2b2lkIDA7XG5cdCAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuXHQgICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB3YXJuaW5nKFxuXHQgICAgICAgICAgZmFsc2UsXG5cdCAgICAgICAgICAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUuIEV4cGVjdGVkIGFuIGFycmF5IG9mIGNoZWNrIGZ1bmN0aW9ucywgYnV0ICcgK1xuXHQgICAgICAgICAgJ3JlY2VpdmVkICVzIGF0IGluZGV4ICVzLicsXG5cdCAgICAgICAgICBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcoY2hlY2tlciksXG5cdCAgICAgICAgICBpXG5cdCAgICAgICAgKTtcblx0ICAgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuXHQgICAgICAgIGlmIChjaGVja2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpID09IG51bGwpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBzaGFwZVR5cGVzKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cdCAgICAgICAgaWYgKCFjaGVja2VyKSB7XG5cdCAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG5cdCAgICAgIC8vIHByb3BzLlxuXHQgICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcblx0ICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcblx0ICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcblx0ICAgICAgICBpZiAoIWNoZWNrZXIpIHtcblx0ICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcblx0ICAgICAgICAgICAgJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGtleSBgJyArIGtleSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLicgK1xuXHQgICAgICAgICAgICAnXFxuQmFkIG9iamVjdDogJyArIEpTT04uc3RyaW5naWZ5KHByb3BzW3Byb3BOYW1lXSwgbnVsbCwgJyAgJykgK1xuXHQgICAgICAgICAgICAnXFxuVmFsaWQga2V5czogJyArICBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJylcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzTm9kZShwcm9wVmFsdWUpIHtcblx0ICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuXHQgICAgICBjYXNlICdudW1iZXInOlxuXHQgICAgICBjYXNlICdzdHJpbmcnOlxuXHQgICAgICBjYXNlICd1bmRlZmluZWQnOlxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICBjYXNlICdib29sZWFuJzpcblx0ICAgICAgICByZXR1cm4gIXByb3BWYWx1ZTtcblx0ICAgICAgY2FzZSAnb2JqZWN0Jzpcblx0ICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwgfHwgaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcblx0ICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuXHQgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgICB2YXIgc3RlcDtcblx0ICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuXHQgICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgICAgaWYgKCFpc05vZGUoc3RlcC52YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuXHQgICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcblx0ICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcblx0ICAgIC8vIE5hdGl2ZSBTeW1ib2wuXG5cdCAgICBpZiAocHJvcFR5cGUgPT09ICdzeW1ib2wnKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG5cdCAgICBpZiAocHJvcFZhbHVlWydAQHRvU3RyaW5nVGFnJ10gPT09ICdTeW1ib2wnKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEZhbGxiYWNrIGZvciBub24tc3BlYyBjb21wbGlhbnQgU3ltYm9scyB3aGljaCBhcmUgcG9seWZpbGxlZC5cblx0ICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICAvLyBFcXVpdmFsZW50IG9mIGB0eXBlb2ZgIGJ1dCB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGFycmF5IGFuZCByZWdleHAuXG5cdCAgZnVuY3Rpb24gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKSB7XG5cdCAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gJ2FycmF5Jztcblx0ICAgIH1cblx0ICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuXHQgICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cblx0ICAgICAgLy8gcGFzc2VzIFByb3BUeXBlcy5vYmplY3QuXG5cdCAgICAgIHJldHVybiAnb2JqZWN0Jztcblx0ICAgIH1cblx0ICAgIGlmIChpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gJ3N5bWJvbCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcHJvcFR5cGU7XG5cdCAgfVxuXHRcblx0ICAvLyBUaGlzIGhhbmRsZXMgbW9yZSB0eXBlcyB0aGFuIGBnZXRQcm9wVHlwZWAuIE9ubHkgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG5cdCAgLy8gU2VlIGBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcmAuXG5cdCAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG5cdCAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvcFZhbHVlID09PSBudWxsKSB7XG5cdCAgICAgIHJldHVybiAnJyArIHByb3BWYWx1ZTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICBpZiAocHJvcFR5cGUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdCAgICAgICAgcmV0dXJuICdkYXRlJztcblx0ICAgICAgfSBlbHNlIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBwcm9wVHlwZTtcblx0ICB9XG5cdFxuXHQgIC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBwb3N0Zml4ZWQgdG8gYSB3YXJuaW5nIGFib3V0IGFuIGludmFsaWQgdHlwZS5cblx0ICAvLyBGb3IgZXhhbXBsZSwgXCJ1bmRlZmluZWRcIiBvciBcIm9mIHR5cGUgYXJyYXlcIlxuXHQgIGZ1bmN0aW9uIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyh2YWx1ZSkge1xuXHQgICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG5cdCAgICBzd2l0Y2ggKHR5cGUpIHtcblx0ICAgICAgY2FzZSAnYXJyYXknOlxuXHQgICAgICBjYXNlICdvYmplY3QnOlxuXHQgICAgICAgIHJldHVybiAnYW4gJyArIHR5cGU7XG5cdCAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuXHQgICAgICBjYXNlICdkYXRlJzpcblx0ICAgICAgY2FzZSAncmVnZXhwJzpcblx0ICAgICAgICByZXR1cm4gJ2EgJyArIHR5cGU7XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgcmV0dXJuIHR5cGU7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuXHQgIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcblx0ICAgIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xuXHQgICAgICByZXR1cm4gQU5PTllNT1VTO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xuXHQgIH1cblx0XG5cdCAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBjaGVja1Byb3BUeXBlcztcblx0ICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblx0XG5cdCAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xuXHR9O1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICpcblx0ICogXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBhcmc7XG5cdCAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG5cdCAqIHByaW1hcmlseSB1c2VmdWwgaWRpb21hdGljYWxseSBmb3Igb3ZlcnJpZGFibGUgZnVuY3Rpb24gZW5kcG9pbnRzIHdoaWNoXG5cdCAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG5cdCAqL1xuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fTtcblx0XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlID0gbWFrZUVtcHR5RnVuY3Rpb24oZmFsc2UpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVGhpcyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50ID0gZnVuY3Rpb24gKGFyZykge1xuXHQgIHJldHVybiBhcmc7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG5cdCAqXG5cdCAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG5cdCAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuXHQgKiBleHBlY3RpbmcuXG5cdCAqXG5cdCAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG5cdCAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0ICovXG5cdFxuXHR2YXIgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHt9O1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0ICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXHRcblx0ICBpZiAoIWNvbmRpdGlvbikge1xuXHQgICAgdmFyIGVycm9yO1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcblx0ICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgICAgfSkpO1xuXHQgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuXHQgICAgfVxuXHRcblx0ICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcblx0ICAgIHRocm93IGVycm9yO1xuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0LyoqXG5cdCAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cblx0ICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuXHQgKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuXHQgKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cblx0ICovXG5cdFxuXHR2YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb247XG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiBwcmludFdhcm5pbmcoZm9ybWF0KSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgIH0pO1xuXHQgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuXHQgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcblx0ICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0ICAgIH0gY2F0Y2ggKHgpIHt9XG5cdCAgfTtcblx0XG5cdCAgd2FybmluZyA9IGZ1bmN0aW9uIHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQpIHtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChmb3JtYXQuaW5kZXhPZignRmFpbGVkIENvbXBvc2l0ZSBwcm9wVHlwZTogJykgPT09IDApIHtcblx0ICAgICAgcmV0dXJuOyAvLyBJZ25vcmUgQ29tcG9zaXRlQ29tcG9uZW50IHByb3B0eXBlIGNoZWNrLlxuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcblx0ICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Lypcblx0b2JqZWN0LWFzc2lnblxuXHQoYykgU2luZHJlIFNvcmh1c1xuXHRAbGljZW5zZSBNSVRcblx0Ki9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0dmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdHZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0XG5cdGZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRcdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gT2JqZWN0KHZhbCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0XHR9KTtcblx0XHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdFx0dmFyIHRlc3QzID0ge307XG5cdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0XHR2YXIgZnJvbTtcblx0XHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHRcdHZhciBzeW1ib2xzO1xuXHRcblx0XHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXHRcblx0XHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdG87XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcblxuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0ICB2YXIgd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdCAgdmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdCAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuXHQgKiBFcnJvciBtZXNzYWdlcyBhcmUgbWVtb3JpemVkIGFuZCB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcblx0ICogQHBhcmFtIHtvYmplY3R9IHZhbHVlcyBSdW50aW1lIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgdHlwZS1jaGVja2VkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBlLmcuIFwicHJvcFwiLCBcImNvbnRleHRcIiwgXCJjaGlsZCBjb250ZXh0XCJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cblx0ICogQHBhcmFtIHs/RnVuY3Rpb259IGdldFN0YWNrIFJldHVybnMgdGhlIGNvbXBvbmVudCBzdGFjay5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHR5cGVTcGVjcywgdmFsdWVzLCBsb2NhdGlvbiwgY29tcG9uZW50TmFtZSwgZ2V0U3RhY2spIHtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuXHQgICAgICBpZiAodHlwZVNwZWNzLmhhc093blByb3BlcnR5KHR5cGVTcGVjTmFtZSkpIHtcblx0ICAgICAgICB2YXIgZXJyb3I7XG5cdCAgICAgICAgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cblx0ICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG5cdCAgICAgICAgLy8gQWZ0ZXIgdGhlc2UgaGF2ZSBiZWVuIGNsZWFuZWQgdXAsIHdlJ2xsIGxldCB0aGVtIHRocm93LlxuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcblx0ICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cblx0ICAgICAgICAgIGludmFyaWFudCh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gPT09ICdmdW5jdGlvbicsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAndGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCVzYC4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSk7XG5cdCAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG5cdCAgICAgICAgICBlcnJvciA9IGV4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBsb2NhdGlvbiwgdHlwZVNwZWNOYW1lLCB0eXBlb2YgZXJyb3IpO1xuXHQgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG5cdCAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcblx0ICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG5cdCAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuXHRcblx0ICAgICAgICAgIHZhciBzdGFjayA9IGdldFN0YWNrID8gZ2V0U3RhY2soKSA6ICcnO1xuXHRcblx0ICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgJXMgdHlwZTogJXMlcycsIGxvY2F0aW9uLCBlcnJvci5tZXNzYWdlLCBzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGNoZWNrUHJvcFR5cGVzO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlbXB0eUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIGludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG5cdCAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuXHQgICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGludmFyaWFudChcblx0ICAgICAgZmFsc2UsXG5cdCAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcblx0ICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuXHQgICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcblx0ICAgICk7XG5cdCAgfTtcblx0ICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuXHQgIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG5cdCAgICByZXR1cm4gc2hpbTtcblx0ICB9O1xuXHQgIC8vIEltcG9ydGFudCFcblx0ICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cblx0ICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG5cdCAgICBhcnJheTogc2hpbSxcblx0ICAgIGJvb2w6IHNoaW0sXG5cdCAgICBmdW5jOiBzaGltLFxuXHQgICAgbnVtYmVyOiBzaGltLFxuXHQgICAgb2JqZWN0OiBzaGltLFxuXHQgICAgc3RyaW5nOiBzaGltLFxuXHQgICAgc3ltYm9sOiBzaGltLFxuXHRcblx0ICAgIGFueTogc2hpbSxcblx0ICAgIGFycmF5T2Y6IGdldFNoaW0sXG5cdCAgICBlbGVtZW50OiBzaGltLFxuXHQgICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcblx0ICAgIG5vZGU6IHNoaW0sXG5cdCAgICBvYmplY3RPZjogZ2V0U2hpbSxcblx0ICAgIG9uZU9mOiBnZXRTaGltLFxuXHQgICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuXHQgICAgc2hhcGU6IGdldFNoaW0sXG5cdCAgICBleGFjdDogZ2V0U2hpbVxuXHQgIH07XG5cdFxuXHQgIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcblx0ICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblx0XG5cdCAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgc2ltcGxlSXNFcXVhbCA9IGZ1bmN0aW9uIHNpbXBsZUlzRXF1YWwoYSwgYikge1xuXHQgIHJldHVybiBhID09PSBiO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gaW5kZXggKHJlc3VsdEZuKSB7XG5cdCAgdmFyIGlzRXF1YWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHNpbXBsZUlzRXF1YWw7XG5cdFxuXHQgIHZhciBsYXN0VGhpcyA9IHZvaWQgMDtcblx0ICB2YXIgbGFzdEFyZ3MgPSBbXTtcblx0ICB2YXIgbGFzdFJlc3VsdCA9IHZvaWQgMDtcblx0ICB2YXIgY2FsbGVkT25jZSA9IGZhbHNlO1xuXHRcblx0ICB2YXIgaXNOZXdBcmdFcXVhbFRvTGFzdCA9IGZ1bmN0aW9uIGlzTmV3QXJnRXF1YWxUb0xhc3QobmV3QXJnLCBpbmRleCkge1xuXHQgICAgcmV0dXJuIGlzRXF1YWwobmV3QXJnLCBsYXN0QXJnc1tpbmRleF0pO1xuXHQgIH07XG5cdFxuXHQgIHZhciByZXN1bHQgPSBmdW5jdGlvbiByZXN1bHQoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbmV3QXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBuZXdBcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjYWxsZWRPbmNlICYmIGxhc3RUaGlzID09PSB0aGlzICYmIG5ld0FyZ3MubGVuZ3RoID09PSBsYXN0QXJncy5sZW5ndGggJiYgbmV3QXJncy5ldmVyeShpc05ld0FyZ0VxdWFsVG9MYXN0KSkge1xuXHQgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICBjYWxsZWRPbmNlID0gdHJ1ZTtcblx0ICAgIGxhc3RUaGlzID0gdGhpcztcblx0ICAgIGxhc3RBcmdzID0gbmV3QXJncztcblx0ICAgIGxhc3RSZXN1bHQgPSByZXN1bHRGbi5hcHBseSh0aGlzLCBuZXdBcmdzKTtcblx0ICAgIHJldHVybiBsYXN0UmVzdWx0O1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaW5kZXg7XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbi5qcy5tYXBcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwsIHByb2Nlc3MpIHsvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmIChpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnRzLmRlYnVnbG9nID0gZnVuY3Rpb24oc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTtcbiAgLy8gbGVnYWN5Li4uXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTtcbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIGV4cG9ydHMuX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMTUpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMTYpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNDcpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTE1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTE2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5pZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExNzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIjMxN2RmMGI3MTk0NGIyMDBjYjBhMjMyOWU3YWViYzBiLmdpZlwiO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9UYWJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzYpO1xuXG52YXIgX1RhYnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFicyk7XG5cbnZhciBfVGFiID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzUpO1xuXG52YXIgX1RhYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWIpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0R1ZURldGFpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4MSk7XG5cbnZhciBfRHVlRGV0YWlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0R1ZURldGFpbCk7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmN1bGFyUHJvZ3Jlc3MpO1xuXG52YXIgX0ludm9pY2VUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4Mik7XG5cbnZhciBfSW52b2ljZVRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludm9pY2VUYWJsZSk7XG5cbnZhciBfZm9ybWF0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gVGFiQ29udGFpbmVyKHByb3BzLCB0aGVtZSkge1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgIHsgY29tcG9uZW50OiAnZGl2Jywgc3R5bGU6IHsgcGFkZGluZ1RvcDogXCIxLjg1dmhcIiB9IH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX2NvcmUuUGFwZXIsXG4gICAgICAgICAgICB7IGVsZXZhdGlvbjogMSwgc3R5bGU6IHsgb3ZlcmZsb3dZOiBcImF1dG9cIiwgaGVpZ2h0OiBcIjc4LjV2aFwiLCBib3JkZXJSYWRpdXM6IFwiNHB4XCIsIGJveFNoYWRvdzogXCJub25lXCIsIGJhY2tncm91bmQ6IHByb3BzLnRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbiB9IH0sXG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlblxuICAgICAgICApXG4gICAgKTtcbn1cblxuVGFiQ29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLmlzUmVxdWlyZWRcbn07XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgICAvLyAgd2lkdGg6IFwiNjEuNDg5dndcIlxuICAgICAgICB9LFxuICAgICAgICBwcm9ncmVzczoge1xuICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjdyZW1cIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMjByZW1cIlxuICAgICAgICB9LFxuICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImF1dG9cIlxuICAgICAgICB9LFxuICAgICAgICBzY3JvbGxCdXR0b25zOiB7XG4gICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgZmxleDogXCIwICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBsYWJlbENvbnRhaW5lcjoge1xuICAgICAgICAgICAgY29sb3I6IFwiI0NDQ0NDQ1wiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMTBweFwiXG4gICAgICAgIH0sXG4gICAgICAgIGluZGljYXRvcjoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjJweFwiLFxuICAgICAgICAgICAgdG9wOiBcIjUuN3ZoICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICB0YWJTZWxlY3RlZDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHRhYlJvb3Q6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYyg1LjY2NnZoICsgNS42NjZ2dylcIixcbiAgICAgICAgICAgIG1pbkhlaWdodDogXCI2LjN2aFwiLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjYuM3ZoXCJcblxuICAgICAgICB9LFxuICAgICAgICB0YWJXcmFwcGVyOiB7XG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiLjR2d1wiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYyg1LjY2NnZoICsgNS42NjZ2dylcIlxuICAgICAgICB9LFxuICAgICAgICB0YWJzRmxleENvbnRhaW5lcjoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjYuM3ZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGFic1Jvb3Q6IHtcbiAgICAgICAgICAgIG1pbkhlaWdodDogXCI2LjN2aFwiLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjYuM3ZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGFic1Njcm9sbGVyOiB7XG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiLTEwdmggIWltcG9ydGFudFwiXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBidWNrZXROYW1lczogW10sXG4gICAgaW52b2ljZXM6IFtdXG59O1xuXG52YXIgSW5DYWxsRGV0YWlscyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEluQ2FsbERldGFpbHMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gSW5DYWxsRGV0YWlscyhwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5DYWxsRGV0YWlscyk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEluQ2FsbERldGFpbHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJbkNhbGxEZXRhaWxzKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLmZpbHRlckludm9pY2VzID0gZnVuY3Rpb24gKGludm9pY2VUeXBlKSB7XG4gICAgICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJBbGxcIikgX3RoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogX3RoaXMuc3RhdGUuYWxsSW52b2ljZXMgfSk7ZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGludm9pY2VzID0gX3RoaXMuc3RhdGUuYWxsSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkSW52b2ljZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wQXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbnZvaWNlc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiRGlzcHV0ZVwiICYmIGludm9pY2VzW2ldW2pdLmRpc3B1dGVTdGF0dXMgIT0gbnVsbCkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO2Vsc2UgaWYgKGludm9pY2VUeXBlID09IFwiUHJlZGljdGVkIERlbGlucXVlbnRcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBEZWxpbnF1ZW50ID09IHRydWUpIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKTtlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlVwY29taW5nIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycFVwY29taW5nID09IHRydWUpIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKTtlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIkJyb2tlbiBQMlBcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBCcm9rZW4gPT0gdHJ1ZSkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSW52b2ljZXMucHVzaCh0ZW1wQXJyYXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBkYXlzID0gX3RoaXMucHJvcHMuYnVja2V0TmFtZXMucmV2ZXJzZSgpO1xuICAgICAgICBkYXlzLnVuc2hpZnQoXCJDdXJyZW50IER1ZVwiKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBkYXlzOiBkYXlzXG4gICAgICAgICAgICAvLyBhbGxJbnZvaWNlczogdGhpcy5wcm9wcy5pbnZvaWNlcyxcblxuICAgICAgICAgICAgLy8gZmlsdGVySW52b2ljZXMgPSBmaWx0ZXJJbnZvaWNlcy5iaW5kKHRoaXMpO1xuXG4gICAgICAgICAgICAvLyBsZXQgdXJsID0gYCR7Y29uZmlnLmFwaVVybH0vaW52b2ljZXNgXG4gICAgICAgICAgICAvLyBheGlvcy5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IHJlc3BvbnNlLmRhdGEgfSlcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgYWxsSW52b2ljZXM6IHJlc3BvbnNlLmRhdGEgfSlcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSlcbiAgICAgICAgICAgIC8vIH0pXG5cblxuICAgICAgICB9O3JldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvL0ZpbHRlciBpbnZvaWNlIGJhc2VkIG9uIGJ1Y2tldFxuXG5cbiAgICBfY3JlYXRlQ2xhc3MoSW5DYWxsRGV0YWlscywgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcblxuXG4gICAgICAgIC8vIGNoZWNrIGlmIHByaW1hcnkgZW1haWwgSUQgaXMgcHJlc2VudCBpbiBjdXN0b21lciBjb250YWN0cy5cbiAgICAgICAgLy8gY2hlY2tFbWFpbElEID0gKCkgPT4ge1xuXG4gICAgICAgIC8vICAgICBpZiAodGhpcy5wcm9wcy5jdXN0b21lciA9PSB1bmRlZmluZWQgfHwgdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0cy5sZW5ndGggPD0gMCkge1xuICAgICAgICAvLyAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2ldLnByaW1hcnkgPT09IHRydWUgJiYgdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tpXS5lbWFpbCkge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vICAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyAgICAgfVxuXG4gICAgICAgIC8vIH07XG5cbiAgICAgICAgLy8gIGZpbmRUeXBlID0gKGludm9pY2UpID0+IHtcbiAgICAgICAgLy8gICAgICAgIHN3aXRjaChpbnZvaWNlKVxuICAgICAgICAvLyAgICAgICAge1xuICAgICAgICAvLyAgICAgICAgICAgIGNhc2UgaW52b2ljZS5wMnBEZWxpbnF1ZW50ID09IHRydWUgOlxuICAgICAgICAvLyAgICAgICAgICAgICAgICByZXR1cm4gXCJQcmVkaWN0ZWQgRGVsaW5xbWVudFwiXG4gICAgICAgIC8vICAgICAgICAgICAgY2FzZSBpbnZvaWNlLnAycFVwY29taW5nID09IHRydWUgOlxuICAgICAgICAvLyAgICAgICAgICAgICAgICByZXR1cm4gXCJVcGNvbWluZyBQMlBcIlxuICAgICAgICAvLyAgICAgICAgICAgICBjYXNlIGludm9pY2UucDJwQnJva2VuID09IHRydWUgOlxuICAgICAgICAvLyAgICAgICAgICAgICAgICByZXR1cm4gXCJCcm9rZW4gUDJQXCJcbiAgICAgICAgLy8gICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIFwiRGlzcHV0ZVwiXG4gICAgICAgIC8vICAgICAgICB9XG4gICAgICAgIC8vICB9XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgIHRoZW1lID0gX3Byb3BzLnRoZW1lO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblxuICAgICAgICAgICAgLy8gZGF5cyA9IGRheXMudW5zaGlmdChcIkN1cnJlICAgbnQgRHVlXCIpXG5cbiAgICAgICAgICAgIHZhciBpbnZvaWNlQ291bnQgPSBbXTtcbiAgICAgICAgICAgIHZhciBpbnZvaWNlVG90YWxBbW91bnQgPSBbXTtcbiAgICAgICAgICAgIHZhciB0b3RhbEludm9pY2VDb3VudCA9IDA7XG4gICAgICAgICAgICB2YXIgd2hvbGVBbW91bnQgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmRheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpbnZvaWNlVG90YWxBbW91bnQucHVzaCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5pbnZvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGludm9pY2VDb3VudC5wdXNoKHRoaXMuc3RhdGUuaW52b2ljZXNbaV0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuc3RhdGUuaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc3VtID0gc3VtICsgdGhpcy5zdGF0ZS5pbnZvaWNlc1tpXVtqXS5jdXJyZW50T3BlbkFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxJbnZvaWNlQ291bnQgPSB0b3RhbEludm9pY2VDb3VudCArIDE7XG4gICAgICAgICAgICAgICAgICAgIHdob2xlQW1vdW50ID0gd2hvbGVBbW91bnQgKyB0aGlzLnN0YXRlLmludm9pY2VzW2ldW2pdLmN1cnJlbnRPcGVuQW1vdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnZvaWNlVG90YWxBbW91bnRbaV0gPSBzdW07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5yb290IH0sXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5sb2FkaW5nID09PSBmYWxzZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX1RhYnMyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiB2YWx1ZSwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGljYXRvckNvbG9yOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ3Njcm9sbGFibGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEJ1dHRvbnM6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHNjcm9sbEJ1dHRvbnM6IGNsYXNzZXMuc2Nyb2xsQnV0dG9ucywgZmxleENvbnRhaW5lcjogY2xhc3Nlcy50YWJzRmxleENvbnRhaW5lciwgcm9vdDogY2xhc3Nlcy50YWJzUm9vdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXI6IGNsYXNzZXMudGFic1Njcm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWJJbmRpY2F0b3JQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuaW5kaWNhdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UYWIyLmRlZmF1bHQsIHsgY2xhc3NlczogeyBzZWxlY3RlZDogY2xhc3Nlcy50YWJTZWxlY3RlZCwgcm9vdDogY2xhc3Nlcy50YWJSb290LCB3cmFwcGVyOiBjbGFzc2VzLnRhYldyYXBwZXIgfSwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBmb250U2l6ZTogXCIuOHJlbVwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxJbnZvaWNlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICgkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikod2hvbGVBbW91bnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250U2l6ZTogXCIuOHJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBbGwgSW52b2ljZXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXlzLm1hcChmdW5jdGlvbiAoZGF5LCBpZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UYWIyLmRlZmF1bHQsIHsgY2xhc3NlczogeyBzZWxlY3RlZDogY2xhc3Nlcy50YWJTZWxlY3RlZCwgcm9vdDogY2xhc3Nlcy50YWJSb290IH0sIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBmb250U2l6ZTogXCIuOHJlbVwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VDb3VudFtpZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAoJCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIF9mb3JtYXR0ZXIuZm9ybWF0dGVyKShpbnZvaWNlVG90YWxBbW91bnRbaWRdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250U2l6ZTogXCIuOHJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSAwICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgVGFiQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGVtZTogdGhlbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EdWVEZXRhaWwyLmRlZmF1bHQsIHsgZW1haWxPZkNhbGxlZDogdGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkLCBjb2xsZWN0b3I6IHRoaXMucHJvcHMuY29sbGVjdG9yLCBjdXN0b21lcjogdGhpcy5wcm9wcy5jdXN0b21lciwgZmlsdGVySW52b2ljZXM6IHRoaXMuZmlsdGVySW52b2ljZXMsIGJ1Y2tldE5hbWVzOiB0aGlzLnN0YXRlLmRheXMsIGludm9pY2VzOiB0aGlzLnN0YXRlLmludm9pY2VzIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGZ1bmN0aW9uIChidWNrZXRJbnZvaWNlcywgaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gaWQgKyAxICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhYkNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoZW1lOiB0aGVtZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhaW5lciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnZvaWNlVGFibGUyLmRlZmF1bHQsIHsgZW1haWxPZkNhbGxlZDogX3RoaXMyLnByb3BzLmVtYWlsT2ZDYWxsZWQsIGNvbGxlY3RvcjogX3RoaXMyLnByb3BzLmNvbGxlY3RvciwgY3VzdG9tZXI6IF90aGlzMi5wcm9wcy5jdXN0b21lciwgZmlsdGVySW52b2ljZXM6IF90aGlzMi5maWx0ZXJJbnZvaWNlcywgaW5kaXZpZHVhbDogdHJ1ZSwgZGF5czogX3RoaXMyLnN0YXRlLmRheXNbaWRdLCBpbnZvaWNlczogYnVja2V0SW52b2ljZXMgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmxvYWRpbmcgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9UYWJzMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGljYXRvckNvbG9yOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ3Njcm9sbGFibGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEJ1dHRvbnM6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHNjcm9sbEJ1dHRvbnM6IGNsYXNzZXMuc2Nyb2xsQnV0dG9ucyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RhYjIuZGVmYXVsdCwgeyBzdHlsZTogeyBjb2xvcjogXCJ3aGl0ZVwiIH0sIGxhYmVsOiAnQWxsIEludm9pY2UnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXlzLm1hcChmdW5jdGlvbiAoZGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UYWIyLmRlZmF1bHQsIHsgc3R5bGU6IHsgY29sb3I6IFwid2hpdGVcIiB9LCBsYWJlbDogZGF5ICsgXCJkYXlzIHBhc3QgZHVlXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlBhcGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBoZWlnaHQ6IFwiMjRyZW1cIiwgbWFyZ2luVG9wOiBcIjJyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2lyY3VsYXJQcm9ncmVzczIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMucHJvZ3Jlc3MsIHNpemU6IDEwMCB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbkNhbGxEZXRhaWxzO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuSW5DYWxsRGV0YWlscy5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuSW5DYWxsRGV0YWlscy5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW5DYWxsRGV0YWlscyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTE5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfUG9wb3ZlciA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXG52YXIgX1BvcG92ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9wb3Zlcik7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmN1bGFyUHJvZ3Jlc3MpO1xuXG52YXIgX2FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxudmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNCk7XG5cbnZhciBfc2lwVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cbnZhciBfU25hY2tiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cbnZhciBfU25hY2tiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25hY2tiYXIpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgdmFyIF92b2ljZW1haWxCb3gsIF9kaXNhYmxlZFZvaWNlbWFpbEJveDtcblxuICByZXR1cm4ge1xuICAgIEFwcDoge1xuICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICBkaWFscGFkSWNvbkltZzoge1xuICAgICAgd2lkdGg6IFwiMS4yZW1cIixcbiAgICAgIGhlaWdodDogXCIxLjJlbVwiLFxuICAgICAgbWFyZ2luUmlnaHQ6IFwiMjBweFwiXG4gICAgfSxcbiAgICBwb3BPdmVyOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvcixcbiAgICAgIHdpZHRoOiBcIjIwZW1cIlxuICAgIH0sXG5cbiAgICBmbGV4OiB7XG4gICAgICBmbGV4R3JvdzogMSxcbiAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIlxuICAgIH0sXG4gICAgZmxleENvbHVtbjoge1xuICAgICAgZmxleEdyb3c6IDEsXG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCJcbiAgICB9LFxuICAgIGhlYWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLFxuICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICBvcGFjaXR5OiAwLjY1XG4gICAgfSxcblxuICAgIHJvdW5kZWQ6IHtcbiAgICAgIG1hcmdpbjogdGhlbWUuc3BhY2luZy51bml0LFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgd2lkdGg6IFwiMi4zMTNlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjQuMzUwZW1cIlxuICAgIH0sXG5cbiAgICBudW1iZXJzOiB7XG4gICAgICBmb250U2l6ZTogXCIxLjhlbVwiLFxuICAgICAgZm9udFdlaWdodDogXCJib2xkXCJcbiAgICAgIC8vZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5XG4gICAgfSxcblxuICAgIGxldHRlcnM6IHtcbiAgICAgIGZvbnRTaXplOiBcIi44ZW1cIixcbiAgICAgIHBhZGRpbmdMZWZ0OiBcIjElXCJcbiAgICAgIC8vZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5XG4gICAgfSxcblxuICAgIGlucHV0OiB7XG4gICAgICBmb250U2l6ZTogXCIxLjg3NWVtXCIsXG4gICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICBib3JkZXJTdHlsZTogXCJub25lXCIsXG4gICAgICBwYWRkaW5nTGVmdDogXCIwLjU1ZW1cIixcbiAgICAgIG1heFdpZHRoOiBcIjcuODUwZW1cIixcbiAgICAgIFwiJjpmb2N1c1wiOiB7XG4gICAgICAgIG91dGxpbmU6IFwibm9uZSAhaW1wb3J0YW50XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGlucHV0RGl2OiB7XG4gICAgICBwYWRkaW5nVG9wOiBcIjEwJVwiLFxuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiXG4gICAgfSxcbiAgICBrZXlwYWRDYWxsOiB7XG4gICAgICBwYWRkaW5nVG9wOiBcIjUlXCIsXG4gICAgICB3aWR0aDogXCI1LjcyZW1cIixcbiAgICAgIGhlaWdodDogXCI1LjcyZW1cIixcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICBjb2xvcjogXCJub25lXCJcbiAgICB9LFxuICAgIHBhcGVyUHJvcHM6IHtcbiAgICAgIHRvcDogMFxuICAgIH0sXG4gICAgYmFja1NwYWNlOiB7XG4gICAgICB3aWR0aDogXCIyLjhlbVwiLFxuICAgICAgaGVpZ2h0OiBcIjIuMGVtXCIsXG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgfSxcbiAgICB2b2ljZU1haWxJY29uOiB7XG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgbWluV2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgIGJhY2tncm91bmQ6IFwiIzVEQUFFMFwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgcGFkZGluZzogXCIxcHhcIlxuICAgIH0sXG4gICAgdm9pY2VtYWlsU2VudEljb246IHtcbiAgICAgIGhlaWdodDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXG4gICAgICBtaW5XaWR0aDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjNURBQUUwXCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbFByb2dyZXNzUGFyZW50OiB7XG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIlxuICAgIH0sXG4gICAgZXh0ZW5zaW9uQm9hcmQ6IHtcbiAgICAgIG1hcmdpblRvcDogXCIyZW1cIlxuICAgICAgLy8gYm9yZGVyOiBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgfSxcbiAgICBjYXJkQ29udGVudDoge1xuICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYigxNDQsMjM4LDE0NCwgMC41KVwiLFxuICAgICAgLyogb3BhY2l0eTogMC43OyAqL1xuICAgICAgbWFyZ2luUmlnaHQ6IFwiNSVcIixcbiAgICAgIG1lcmdpbkxlZnQ6IFwiMCVcIixcbiAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIG1hcmdpblRvcDogXCIyJVwiLFxuICAgICAgZm9udFNpemU6IFwiMC45ZW1cIlxuICAgIH0sXG4gICAgc2VuZENhcmRDb250ZW50OiB7XG4gICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICBtYXJnaW5SaWdodDogXCI1JVwiLFxuICAgICAgbWVyZ2luTGVmdDogXCIwJVwiLFxuICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgbWFyZ2luVG9wOiBcIjIlXCIsXG4gICAgICBmb250U2l6ZTogXCIwLjllbVwiXG4gICAgfSxcbiAgICBzZW5kQnV0dG9uOiB7XG4gICAgICBsZWZ0OiBcIjc1JVwiLFxuICAgICAgbWFyZ2luVG9wOiBcIjUlXCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbEJveDogKF92b2ljZW1haWxCb3ggPSB7XG4gICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxuICAgICAgYm9yZGVyQm90dG9tOiBcIjAuNXB4IHNvbGlkIHJnYig5MywxNzAsMjI0KVwiXG4gICAgfSwgX2RlZmluZVByb3BlcnR5KF92b2ljZW1haWxCb3gsICdib3JkZXJCb3R0b20nLCBcIjAuNXB4IHNvbGlkIHJnYmEoOTMsMTcwLDIyNCwwLjY1KVwiKSwgX2RlZmluZVByb3BlcnR5KF92b2ljZW1haWxCb3gsICdwYWRkaW5nJywgXCIxMnB4IDEycHggMjBweCAxMnB4XCIpLCBfZGVmaW5lUHJvcGVydHkoX3ZvaWNlbWFpbEJveCwgJ2Rpc3BsYXknLCBcImZsZXhcIiksIF9kZWZpbmVQcm9wZXJ0eShfdm9pY2VtYWlsQm94LCAnbWFyZ2luQm90dG9tJywgXCIyMHB4XCIpLCBfZGVmaW5lUHJvcGVydHkoX3ZvaWNlbWFpbEJveCwgJ2ZsZXhEaXJlY3Rpb24nLCBcInJvd1wiKSwgX3ZvaWNlbWFpbEJveCksXG4gICAgZGlzYWJsZWRWb2ljZW1haWxCb3g6IChfZGlzYWJsZWRWb2ljZW1haWxCb3ggPSB7XG4gICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxuICAgICAgY3Vyc29yOiBcImRlZmF1bHQgIWltcG9ydGFudFwiLFxuICAgICAgYm9yZGVyQm90dG9tOiBcIjAuNXB4IHNvbGlkIHJnYig5MywxNzAsMjI0KVwiXG4gICAgfSwgX2RlZmluZVByb3BlcnR5KF9kaXNhYmxlZFZvaWNlbWFpbEJveCwgJ2JvcmRlckJvdHRvbScsIFwiMC41cHggc29saWQgcmdiYSg5MywxNzAsMjI0LDAuNjUpXCIpLCBfZGVmaW5lUHJvcGVydHkoX2Rpc2FibGVkVm9pY2VtYWlsQm94LCAncGFkZGluZycsIFwiMTJweCAxMnB4IDIwcHggMTJweFwiKSwgX2RlZmluZVByb3BlcnR5KF9kaXNhYmxlZFZvaWNlbWFpbEJveCwgJ2Rpc3BsYXknLCBcImZsZXhcIiksIF9kZWZpbmVQcm9wZXJ0eShfZGlzYWJsZWRWb2ljZW1haWxCb3gsICdtYXJnaW5Cb3R0b20nLCBcIjIwcHhcIiksIF9kZWZpbmVQcm9wZXJ0eShfZGlzYWJsZWRWb2ljZW1haWxCb3gsICdmbGV4RGlyZWN0aW9uJywgXCJyb3dcIiksIF9kZWZpbmVQcm9wZXJ0eShfZGlzYWJsZWRWb2ljZW1haWxCb3gsICdvcGFjaXR5JywgXCIwLjY1XCIpLCBfZGlzYWJsZWRWb2ljZW1haWxCb3gpLFxuICAgIHNlbnRWb2ljZW1haWxUZXh0OiB7XG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcblxuICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIlxuICAgIH0sXG4gICAgdm9pY2VtYWlsVGV4dDoge1xuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgbWFyZ2luTGVmdDogXCIxLjJyZW1cIixcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICB9LFxuICAgIHNlbnRWb2ljZW1haWxCb3g6IHtcbiAgICAgIHBhZGRpbmdUb3A6IFwiMTAlXCIsXG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIG1hcmdpblJpZ2h0OiBcIjEwcHhcIixcbiAgICAgIG1hcmdpbkxlZnQ6IFwiMnB4XCIsXG4gICAgICBtYXJnaW5Cb3R0b206IFwiMjBweFwiLFxuICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIlxuICAgIH0sXG4gICAgdm9pY2VtYWlsUHJvZ3Jlc3M6IHtcbiAgICAgIHdpZHRoOiBcImluaGVyaXQgIWltcG9ydGFudFwiLFxuICAgICAgaGVpZ2h0OiBcImluaGVyaXQgIWltcG9ydGFudFwiLFxuICAgICAgZmlsbDogXCIjNURBQUUwXCJcbiAgICB9LFxuICAgIHRleHRGaWVsZDoge1xuICAgICAgbWFyZ2luTGVmdDogdGhlbWUuc3BhY2luZy51bml0LFxuICAgICAgbWFyZ2luUmlnaHQ6IHRoZW1lLnNwYWNpbmcudW5pdCxcbiAgICAgIHdpZHRoOiAyMDBcbiAgICB9LFxuICAgIGNsb3NlSWNvbjoge1xuICAgICAgZmlsbDogXCJsaWdodGJsdWVcIixcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICByaWdodDogXCIzJVwiLFxuICAgICAgZm9udFNpemU6IFwiMnJlbVwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG5cbiAgICB2b2ljZW1haWxCdG46IHtcbiAgICAgIGNvbG9yOiBcIiNGRkZcIixcbiAgICAgIGZvbnRTaXplOiBcIjEuN3JlbVwiLFxuICAgICAgcGFkZGluZzogXCIxMCVcIlxuICAgIH0sXG4gICAgdm9pY2VtYWlsU2VudEJ0bjoge1xuICAgICAgY29sb3I6IFwiI0ZGRlwiLFxuICAgICAgcGFkZGluZ1RvcDogXCIxMCVcIixcbiAgICAgIGZvbnRTaXplOiBcIjEuNXJlbVwiXG4gICAgfSxcbiAgICBkaXNhYmxlQnRuOiB7XG4gICAgICBvcGFjaXR5OiAwLjQsXG4gICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiXG4gICAgfVxuICB9O1xufTtcblxudmFyIEtleVBhZCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhLZXlQYWQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEtleVBhZChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlQYWQpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEtleVBhZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEtleVBhZCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmluaXRpYWxpemVWb2ljZW1haWxEYXRhID0gZnVuY3Rpb24gKHZvaWNlbWFpbFRlbXBsYXRlcykge1xuICAgICAgdmFyIHZvaWNlbWFpbENsaWNrTWFwID0gbmV3IE1hcCgpO1xuICAgICAgdmFyIHZvaWNlbWFpbFNlbnRNYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm9pY2VtYWlsVGVtcGxhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZvaWNlbWFpbENsaWNrTWFwLnNldCh2b2ljZW1haWxUZW1wbGF0ZXNbaV0uaWQsIGZhbHNlKTtcbiAgICAgICAgdm9pY2VtYWlsU2VudE1hcC5zZXQodm9pY2VtYWlsVGVtcGxhdGVzW2ldLmlkLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdm9pY2VtYWlsVGVtcGxhdGVzOiB2b2ljZW1haWxUZW1wbGF0ZXMsXG4gICAgICAgIHZvaWNlbWFpbENsaWNrTWFwOiB2b2ljZW1haWxDbGlja01hcCxcbiAgICAgICAgdm9pY2VtYWlsU2VudE1hcDogdm9pY2VtYWlsU2VudE1hcFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW46IHRydWUgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBob25lTnVtYmVyOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW46IGZhbHNlLCBkaXNhYmxlVm9pY2VtYWlsQ2xpY2s6ICFfdGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbEVuYWJsZWQgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVZvaWNlbWFpbENsaWNrID0gZnVuY3Rpb24gKHZvaWNlbWFpbFRlbXBsYXRlKSB7XG5cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5kaXNhYmxlVm9pY2VtYWlsQ2xpY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaWQgPSB2b2ljZW1haWxUZW1wbGF0ZS5pZDtcbiAgICAgIHZhciB2b2ljZW1haWxDbGlja01hcCA9IF90aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwO1xuICAgICAgdm9pY2VtYWlsQ2xpY2tNYXAuc2V0KGlkLCB0cnVlKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxDbGlja01hcDogdm9pY2VtYWlsQ2xpY2tNYXAsIGRpc2FibGVWb2ljZW1haWxDbGljazogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHZvaWNlbWFpbFRlbXBsYXRlLnRlbXBsYXRlTmFtZSwgX3RoaXMuc3RhdGUuaWQpO1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIGlkLCB0cnVlKSk7XG4gICAgICAgIGlmICgoMCwgX3NpcFV0aWxzLnNpcFRvZ2dsZU11dGUpKCkgPT09IFwiT0tcIikge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiB0cnVlLCBzbmFja01lc3NhZ2U6IFwiTWljIGF1dG8gbXV0ZWRcIiB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNuYWNrT3BlbjogdHJ1ZSwgc25hY2tNZXNzYWdlOiBcIkZhaWxlZCB0byBhdXRvIG11dGUgbWljIVwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlkID09PSAwKSB7XG4gICAgICAgICAgKDAsIF9zaXBVdGlscy5zaXBTZW5kRFRNRikoJyMnKTtcbiAgICAgICAgICAoMCwgX3NpcFV0aWxzLnNpcFNlbmREVE1GKSgnNCcpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiMXN0IFRlbXBsYXRlXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGlkID09PSAxKSB7XG4gICAgICAgICAgKDAsIF9zaXBVdGlscy5zaXBTZW5kRFRNRikoJyMnKTtcbiAgICAgICAgICAoMCwgX3NpcFV0aWxzLnNpcFNlbmREVE1GKSgnNScpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiMm5kIFRlbXBsYXRlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICgwLCBfc2lwVXRpbHMuc2lwU2VuZERUTUYpKCcjJyk7XG4gICAgICAgICAgKDAsIF9zaXBVdGlscy5zaXBTZW5kRFRNRikoJzYnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkxhc3QgdGVtcGxhdGVcIik7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5wcm9wcy5vblZvaWNlbWFpbENsaWNrKCk7XG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdm9pY2VtYWlsU2VudE1hcCA9IF90aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXA7XG4gICAgICAgIHZvaWNlbWFpbFNlbnRNYXAuc2V0KGlkLCB0cnVlKTtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxTZW50TWFwOiB2b2ljZW1haWxTZW50TWFwLCBpc1ZvaWNlbWFpbEVuYWJsZWQ6IGZhbHNlIH0pO1xuICAgICAgfSwgMjAwMCk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNsb3NlKCk7XG4gICAgICB9LCBfY29uc3RhbnRzLlZPSUNFTUFJTF9BVVRPX0NMT1NFX1RJTUVNT1VUKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2VTbmFja2JhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaXNWb2ljZW1haWxBdmFpbGFibGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIkNvbm5lY3RlZCB0b1wiICYmIF90aGlzLnN0YXRlLnZvaWNlbWFpbFRlbXBsYXRlcyAmJiBfdGhpcy5zdGF0ZS52b2ljZW1haWxUZW1wbGF0ZXMubGVuZ3RoID4gMCAmJiBfdGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbEVuYWJsZWQ7XG4gICAgfTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogZmFsc2UsXG4gICAgICBwaG9uZU51bWJlcjogXCJcIixcbiAgICAgIGRpc3BsYXlOdW1iZXI6IFwiXCIsXG4gICAgICBkaWFsbGVkOiBmYWxzZSxcbiAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgaXNWb2ljZW1haWxFbmFibGVkOiB0cnVlLFxuICAgICAgaXNWb2ljZW1haWxDbGlja2VkOiBmYWxzZSxcbiAgICAgIHZvaWNlbWFpbENsaWNrTWFwOiBuZXcgTWFwKCksXG4gICAgICB2b2ljZW1haWxTZW50TWFwOiBuZXcgTWFwKCksXG4gICAgICB2b2ljZW1haWxUZW1wbGF0ZXM6IFtdLFxuICAgICAgc25hY2tPcGVuOiBmYWxzZSxcbiAgICAgIGRpc2FibGVWb2ljZW1haWxDbGljazogZmFsc2VcbiAgICB9O1xuXG4gICAgX2F4aW9zMi5kZWZhdWx0LmdldChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvdm9pY2V0ZW1wbGF0ZScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlZvaWNlbWFpbCBGZXRjaGVkXCIsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgX3RoaXMuaW5pdGlhbGl6ZVZvaWNlbWFpbERhdGEocmVzcG9uc2UuZGF0YSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBmZXRjaCB2b2ljZW1haWxzXCIsIGVycm9yKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoS2V5UGFkLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuQXBwIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Wb2ljZW1haWwsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuaXNWb2ljZW1haWxBdmFpbGFibGUoKSA/IGNsYXNzZXMudm9pY2VtYWlsQnRuIDogY2xhc3Nlcy52b2ljZW1haWxCdG4gKyBcIiBcIiArIGNsYXNzZXMuZGlzYWJsZUJ0bixcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLmlzVm9pY2VtYWlsQXZhaWxhYmxlKCkgPyB0aGlzLmhhbmRsZU9wZW4gOiBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb25cbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9Qb3BvdmVyMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnc2ltcGxlLXBvcHBlcicsXG4gICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW4sXG4gICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmhhbmRsZUNsb3NlLFxuICAgICAgICAgICAgYW5jaG9yUmVmZXJlbmNlOiAnYW5jaG9yUG9zaXRpb24nLFxuICAgICAgICAgICAgYW5jaG9yUG9zaXRpb246IHsgdG9wOiA4MCB9LFxuICAgICAgICAgICAgUGFwZXJQcm9wczoge1xuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjNlbVwiLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBcIjBcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6IFwiMnB4IHNvbGlkICNGRkZcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICB2ZXJ0aWNhbDogMjAsXG4gICAgICAgICAgICAgIGhvcml6b250YWw6IDIwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiB7XG4gICAgICAgICAgICAgIHZlcnRpY2FsOiAyMCxcbiAgICAgICAgICAgICAgaG9yaXpvbnRhbDogMjBcbiAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucG9wT3ZlciB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBwYWRkaW5nTGVmdDogXCI0JVwiLCBtYXJnaW5Ub3A6IFwiNSVcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9IH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaGVhZCB9LFxuICAgICAgICAgICAgICAgICdWT0lDRU1BSUwnXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5DbG9zZSwgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsb3NlLCBjbGFzc05hbWU6IGNsYXNzZXMuY2xvc2VJY29uIH0pXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUudm9pY2VtYWlsVGVtcGxhdGVzLm1hcChmdW5jdGlvbiAodm9pY2VtYWlsVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBfdGhpczIuc3RhdGUuZGlzYWJsZVZvaWNlbWFpbENsaWNrID8gY2xhc3Nlcy5kaXNhYmxlZFZvaWNlbWFpbEJveCA6IGNsYXNzZXMudm9pY2VtYWlsQm94LCBrZXk6IHZvaWNlbWFpbFRlbXBsYXRlLmlkIH0sXG4gICAgICAgICAgICAgICAgICAhX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy52b2ljZU1haWxJY29uIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Wb2ljZW1haWwsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnZvaWNlbWFpbEJ0biB9KVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmICFfdGhpczIuc3RhdGUudm9pY2VtYWlsU2VudE1hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMudm9pY2VtYWlsUHJvZ3Jlc3NQYXJlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NpcmN1bGFyUHJvZ3Jlc3MyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnZvaWNlbWFpbFByb2dyZXNzIH0pXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnZvaWNlbWFpbFNlbnRJY29uIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Eb25lLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy52b2ljZW1haWxTZW50QnRuIH0pXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy52b2ljZW1haWxUZXh0LCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVWb2ljZW1haWxDbGljayh2b2ljZW1haWxUZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAhX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLCBvcGFjaXR5OiAwLjY1IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAnU2VuZCdcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgIV90aGlzMi5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLCBvcGFjaXR5OiAwLjY1IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAnU2VuZGluZydcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IFwiIzVEQUFFMFwiLCBvcGFjaXR5OiAwLjY1IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAnU2VudCdcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICB2b2ljZW1haWxUZW1wbGF0ZS50ZW1wbGF0ZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Nb3JlVmVydCwgeyBzdHlsZTogeyByaWdodDogXCIzJVwiLCBwb3NpdGlvbjogXCJmaXhlZFwiIH0gfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgYW5jaG9yT3JpZ2luOiB7XG4gICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGtleTogdGhpcy5zdGF0ZS5zbmFja01lc3NhZ2UsXG4gICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5zbmFja09wZW4sXG4gICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbjogMjAwMCxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgQ29udGVudFByb3BzOiB7XG4gICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICB7IGlkOiB0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZSB9LFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zbmFja01lc3NhZ2VcbiAgICAgICAgICApLFxuICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX2NvcmUuSWNvbkJ1dHRvbixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdDbG9zZScsXG4gICAgICAgICAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVNuYWNrYmFyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb3NlMi5kZWZhdWx0LCBudWxsKVxuICAgICAgICAgICldXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBLZXlQYWQ7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgVm9pY2VtYWlsV3JhcHBlciA9ICgwLCBfY29yZS53aXRoU3R5bGVzKShzdHlsZXMpKEtleVBhZCk7XG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG5cbiAgICBjYWxsU3RhdGU6IHN0YXRlLmNhbGxTdGF0ZVxuICB9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIC8vIGNoYW5nZUNhbGxTdGF0ZTogZGF0YSA9PiAoZGlzcGF0Y2goY2hhbmdlQ2FsbFN0YXRlKGRhdGEpKSlcbiAgICBjaGFuZ2VDYWxsZXI6IGZ1bmN0aW9uIGNoYW5nZUNhbGxlcihkYXRhKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmNoYW5nZUNhbGxlcikoZGF0YSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoKDAsIF9jb3JlLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoVm9pY2VtYWlsV3JhcHBlcikpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEyMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQzRBQUFBdUNBWUFBQUJYdVNzM0FBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUJsNUpSRUZVYUlIRm1sOXNVOWNkeHorLzZ4dTdPSTd5RjVyUTB0akFKcDdXMENHeGYyS0c3bjBnRFpCYVdMMU5tc1FUMlI2bVNhVVNFM1RkSHFiQ3c2UTlUQ0l0MmNQU2g2VGF3NTVHM0gvcVdsU1JkQkliMGxySExDTWVCSWhKNHNUMjlmM3R3WCtJN2VzLzF3N3dmYm8rOS96dStaemYvWjF6ZnZjY0MyMHFNaG5yc1MzUGQyMTBCTld3S0VHRVlGa2xaVTZGT1VTaUJqSmptTG4zeG82RWx0cHBWMW8xZlBuUDhWY0VQU3pDNFZic1ZabFNaT3BQeDRmZmFzWGVGWGhrTXRaaldjWnBzVFZTNWRWV3BjeXBJV09tYVY5MDh4YWFCai94VGl3c3RsemFOT0JLS1hOcTZJL0dqNGFpelZSdkNCNlpqUFhrc3NhYm9KSDI2WnFReW9YTHg0ZC8xcWhhWGZESVpLekh5c3Ewd01qbWtUV1d3b3pab1FmcmhZNVI2OFpMRTdHUkp3RU5JREJpWldYNnBZbFl6YllkUGY2a1BGMnBlcDQzS3d2YWhSN3U4WEp5Yng5ZkdmQWh3SHd5eTEvK2xlVGptNnV1bjFYMFBMQzM4bDVWcU9TeXhwdE8wUDErRHdQK3FuNldhWGUvajFjUER2TFZBalRBczkwZG5Oby93QTlmNkhNTlhvUS9NUkc3VUJmOHhEdXhzTlBzMGUvM2NPYmdFR2NPRGRLN3hlUFlnR25BejcremphZE01L0grdlYxZGZPdTV6aGJoNVhTZXpRRThNaG5yRVZzdU9SbWUycitWZnIrSHZpMGVYanMwNUFpL2Q3dWZnTGZtV0FjZ3ZMT3JKWEFBc2VWU1pETFdVd1Z1WlJpdHRiajg0Wk5GN3EzbEFCandPOFB2NlBZMmJQelo3bzRXc1FFaGFHVVlMZjRzZ1l2STZWbzJpeW1MODFjU2RlSGZqNjJRWE0vVmJkczBXazZOOG96SUs4VnJBK0RrUkN3QzlOUzBvREg4WXNyaTNIU2lJWHhiRW9JRjFwTEhtOHJ3R3NIZlhua004QVZXeWVjaWN0K041WURmNU15aFFmcEszczV4N3NvQzl3c2QyaFl3ZWUzZ0lOMVBsWStEZFV2NTZlVE50c2s5SGRwcldCbkNqYXVXNjBsNzNzb1FObWh4aFd3Vy9rSGEzalRnRFJveFJOeDd2S2hhOE1VUXViMWk4Zm9qZ0JjaGJLQXkzTTVEbk9EUGJJanZoZVhzcHNNcjBtMXN4aGZOWXNyaWc3bVYwdStuQTZZei9DYkZ2TUJJL2F6SlFUL2UxODlnb0lQa2VvN2YvLzFPcVR5YjA3SjZSZmp6aFVHNnNKemx0Ky8vcjZ6T04zWjBjbWhYUGcxNCs5cGQ1cFBacGpucUp4Y09HdkNiN05ucVk5OHovckx5L3o2b2JyVFM4M2RXcmJMN08vdTg3Tm5xWTg5V24xc005K0JGUUkrUno3Mkx1bllyeFVxbU9vNHI0VGRxWjE4ZU9LZHd5NkhqOVdRb0duZGpjTzFXcW5SOUlCUW9YZHNLdi92Z051dVdWdGs0d1JzQ1ExMzVwT3NmaVRYc2FyT2FVdFZaUTJET0RmajEyK3NscjcrNHE0dGc3ME92ZjNFdnphLyt0c0NWTDVheE5kK1o0bHVvaExjVmZ2TmVnbFJXaVg2NVV0MVFIWW13NVBuYUQwYURJdUpxTG4rUXpyRi9SeWNpOFB5UW53L25Wc2dVQnVkeTJtWm1ZWTJwNjBtbXJpZjVkRDdGTjU4TDRET0ZnTmZnNjgvNCtYUStSZHBTSHFSdFpoWlMzRmhNdXdKWDVTMERtSEZsQlZ5ZFQvRlJQUDhOMmJmRnc5a1hoeGpzY3A2ZzdxeGEvSG82NzFsNDZQa3VYMzU0dVpsSk5takc4OExMb3dtMTVaZHVMVDlQckxHN3o4ZTJnRW1uMXlBYzZxTFRhNUJjejVISzJtVXgyK0VST24wZVFvV3dDbmdOOW03Mzg4bC9Wa3R2eW8xTUw2Y0U0T1JFYkFyaysyNGZJQUkvMmRmUGdXQ2dyTnhXV0Z5MVdNM2FEUGpOa25jcmRhdXdNQzI3V2xYMTNjdkhRb2VMVDV4eUN3MmdDbis4ZXBleHorNnhsbjNvT1VQeXFXMm8xMXNHbmM0cEg4WWZlbmw3VndldmJnaWJKalVGR3phRVRrekU1b1RXODVZT2ovRHQ0VTVDdlQ1MjkvdllVZmkrWE1zcUg4VlgrT2VkZFQ1UHJKRzJsTjM5UG41eDRPblNqa0N6bmxjMFBuNHNGSVNOQzVBeTFpbzA1SmY4NkpjclhQcnNMbis5a1N5Vkx5eG5lZnZhUGE0V1poS0FmOTlOODBZMFVacnptL1c4Q0tYOWxWSk4wOHNGdDR0Uk80cmR6L0JHTkZFS3NVYndpc1l2SHcxVmc0OGRDUzBoUEo2dDVJSmk5ek84M2l4OEJWdFpqZkdqb2FpcXRuUzAwYXB1THVYaFZ3c3JyQ0JveFF5cDZNWEtEZitxcnBsZVJsVjE5aEd5VnVubVVvYnowd2x1TEtZNWQyV2hMRmxUMWRueFk2SFJTcHZhMjh3Wm9pTHkvQ1BrYlNoVm5UVzloSjIybVIxSHd0aVIwSkl0UkI2MzV6ZEtWV2R0SVZMclZLTHhVY29UOEh3OVR4ZlYxT0dWbGVXc1VIdHZjVE9sNkVXbm1LNlVxK05DbExGMlZ0ZDZValNPRU5tMDQ4S05Lb1RPS0VKa3N6cWdhQnhsYlB4NDZLd2J1NWIzZlF1N3BvZGJ5U3J6MG5lQnFjdkhRaTJsR3UxdFdGTjZDMkZnUklTd1FyRHliYWpxckFoTHFrU0JHZE5MdE4wL0lmd2YwaHNESnI4eW05Y0FBQUFBU1VWT1JLNUNZSUk9XCJcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMjE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQVlBQUFCWHVTczNBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFCSzFKUkVGVWFJSE5tVzJJVkZVWXgzL1BuZGxWUzVDZE9kZTNRRlFTTFd3eEJVUE16VFFRVXdQeFplbWpsaEQwSmZSRFVHWnZSUGpKaU1nUEZTclJGNVdDa0xLb1ZKS0Z0QXhwVXpGY1g2QzIzWHRuZDFhM25NMlorL1RoN3VxNk8zZnVtZG1kSGY5d3VUUG5QTTk1Zm5QbTNIUE9QWTh3Q2xMWG5VTVFMTVZ4RnFMNkNQQUFNQldSZWxTN2dDNmdFL2lSSURoS1Y5ZFBBc0ZJWWtyRnNNYk1CWjRIMWlFeXR6eG43UWFPRUFTZjB0WDFmU1Uvb214d05XWXRzQjJSSjh2MWpkRGZCTUhIWkRMdkNPUnNuYXpCdGFHaGtVVGlmVVNlcUl3dkxvRCtnVWl6ZU42dk51Wk9iSHVRVU5mZFNTTHhTOVdnQVVUbW9IcEswK21YMWFKRFN4cW82MDRFdmdZZUh5MCtLNmtld2ZlYkJmNk5Nb2tFVjdnUFkzNUE1TEhxME1WSTlRejUvRXJKWnJQRnFvc09GWVY2WFBmYm1rRURpQ3drbWZ4R1lYeXg2bUhnQ2c3R0hBS1dWaDB1VGlLTGNkM1BpNDM1NFQyZVRyK0p5RE5qQW1hbjFSanordERDdTM1Si82TFNpa2h5ekxCc3BLckFDdkg5NHdORmQvZTR5TDU3RGhwQVJCRDVTQ0V4VUhRYlhGMTNDN0NrSm1CMmVwQjArb1dCTHdLZ0lManVKV0JXemJCc3BIb04zNThwb0dHUEcvTTA5em8wZ01nTVVxbFZjR2VvdkZSRG5QTGtPRnNBUkdFOHh2eURTT3krSlZLelo4TzhlVEI1TWt5WkV0Nm5Ub1ZjRHRyYTdsem56c0dOR3lNRFYrM0I5OU5KakZsU0ViUXhzR2tUYk5nQWpZMzJmaDBkY1BvMEhEZ0FKMDZVSFJhUlNSaXpUTlIxZHdKdld6czJOc0syYmJCK1BkVFhseDk0c0M1ZWhMMTc0ZUJCdUhXckhNOVhSWTM1RXBGMXNhWjFkYkJuRDJ6ZVhERm5wTnJhd25hdlhiUDFPT1FBMDZ4TXQyNnREalNFejhpdVhlVjRQSlFFWEN2VDV1Ym91dFpXMkw4ZlRwNkVLMWNnR1BJS2FRek1udytMRnNHT0haQXNzaml2WGgyVzUvTTJOSk5GWGJjWHVMK2syYmh4Y1BVcU9FV2U0Vnd1N0RHN2dIRDRNRFExRmE5cmFvSUxGK0xiVUEwY0lINXZrazRYaHdibzdMU0hCbWh2ajY1cmFMQnV4Z0dLdm1IY3BWSmdkWFhXd1FDWU1DRzZUcXpmM1RzY1ZET3hacGtNcUJhdk02YWNnT0VDRmFXYk4yMWJhVThpY2c1NHVLUlpvUkNPOFprekladUZTNWZDcTYwdHZDZVQ5dlB3eG8wd2ZUcE1teGJlQjMrMm53N2JSWTE1RFpHM1lrMW56UXFodTd0dEc2K21kaWRSYmJINnF5OWZyajZPclFxRlk2S1F3SFY3aUpzUzd4V3A1dkg5aVk1QUFmaXExanhscUVXZ0w1eWNDNFZQYWd4akw1RVBZZkNybXpGWEVKbFJXNm9ZcWY2Sjc4OFFDQndBQVVYa2pWcHpXZWk5Z2JQMG9lY3FaeEI1dERaTU1WSTlqKzh2RVBnUGhwK3JQSWZxaUZJY1ZaRnFRRDcvN0FBMERBSHZQMVNQWDR6R1dxcnZTalo3ZG5EUnNKV24vOUR6T0NMTHhvNnNwSTdpZVd1RzVvbUc3Vlg3RGRhZyt2dVlvVVZKOVdjOGIzMng1RmJSVGJiNC9nMXl1UlZBYTlYaG92VWJoY0pUVVFtdHlHTUo2ZTN0QkphZ1dvdFY5U3g5ZmN1bHU3c255cURrZVlwNFhpKyt2eGJWSFVEZnFPTVYxd2Q0M21LNWZyMnJKSnR0YXpwcDBtenE2dlpYN2FGVlBRKzhLTDUvek1hOC9BUnRLclVSeDNsbDFCYXFNTCs1RzgvYlYwNkdlU1FwOGVYQWRtQVZJdVVkYWFuMklQSUZRZkNaWkRMZlZSSy9ZdkRiREdGYWNTV3dCbGdBcEJCSm9ab2k3TUVPNEMvZ0luQUdrVk40WGt2L2RycGkvUSswWDM5Y1hJVjZEd0FBQUFCSlJVNUVya0pnZ2c9PVwiXG5cbi8qKiovIH0pXG5cbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAwLmJ1bmRsZS5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ29udGFjdExpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9Db250YWN0TGlzdCc7XHJcbmltcG9ydCB7IHNpcENhbGwsIHNpcEhhbmd1cCwgc2lwVG9nZ2xlTXV0ZSB9IGZyb20gJy4uL3V0aWxzL3NpcFV0aWxzJztcclxuaW1wb3J0IHsgY2hhbmdlQ2FsbFN0YXRlLCBjaGFuZ2VTdGF0dXMsIGNoYW5nZVRyYW5zY3JpcHRpb24gfSBmcm9tICcuLi9hY3Rpb25zL2FjdGlvbnMnO1xyXG5pbXBvcnQgeyBhZGRJbml0aWFsQ2FsbExvZyB9IGZyb20gJy4uL2FjdGlvbnMvY2FsbExvZ0FjdGlvbnMnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgQ2xvc2UgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IHsgUmVkaXJlY3QgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IENhbGxQcmVwRGV0YWlscyBmcm9tICcuLi9jb21wb25lbnRzL0NhbGxQcmVwRGV0YWlscyc7XHJcbmltcG9ydCBQb3N0Q2FsbCBmcm9tICcuL1Bvc3RDYWxsJztcclxuaW1wb3J0IEluQ2FsbERldGFpbHMgZnJvbSAnLi4vY29tcG9uZW50cy9JbkNhbGxEZXRhaWxzJztcclxuaW1wb3J0IEhhbW1lciBmcm9tICdyZWFjdC1oYW1tZXJqcyc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Nb2RhbCc7XHJcbmltcG9ydCBUb29sdGlwIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1Rvb2x0aXAnO1xyXG5pbXBvcnQgRmFiIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ZhYic7XHJcbmltcG9ydCBOYXZpZ2F0ZU5leHQgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL05hdmlnYXRlTmV4dCc7XHJcbmltcG9ydCBOYXZpZ2F0ZUJlZm9yZSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvTmF2aWdhdGVCZWZvcmUnO1xyXG5pbXBvcnQgRHJhd2VyIGZyb20gJy4uL2NvbXBvbmVudHMvRHJhd2VyJztcclxuaW1wb3J0IEFycm93RHJvcERvd25JY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9BcnJvd0Ryb3BEb3duJztcclxuaW1wb3J0IHsgZ2V0TWVudUl0ZW1zIH0gZnJvbSAnLi4vY29tcG9uZW50cy9DdXN0b21lckRyYXdlck9wdGlvbnMnO1xyXG5pbXBvcnQgS2V5UGFkV3JhcHBlZCBmcm9tICcuLi9jb21wb25lbnRzL0tleVBhZFdyYXBwZWQnO1xyXG5pbXBvcnQgVmVydGljYWxUaW1lTGluZSBmcm9tICcuLi9jb21wb25lbnRzL1ZlcnRpY2FsVGltZUxpbmUnO1xyXG5pbXBvcnQgVm9pY2VtYWlsV3JhcHBlciBmcm9tICcuLi9jb21wb25lbnRzL1ZvaWNlbWFpbFdyYXBwZXInO1xyXG5pbXBvcnQgVHJhbnNjcmlwdENoYXQgZnJvbSAnLi4vY29tcG9uZW50cy9UcmFuc2NyaXB0Q2hhdCc7XHJcbmltcG9ydCB7IGdldEluaXRpYWxzRnJvbU5hbWUgfSBmcm9tICcuLi91dGlscy9oZWxwZXInO1xyXG5pbXBvcnQgQ3VzdG9tRm9vdGVyIGZyb20gJy4uL2NvbXBvbmVudHMvQ3VzdG9tRm9vdGVyJztcclxuaW1wb3J0IHtkaXNhYmxlRnJlZGFJbkNhbGx9IGZyb20gJy4uL2NvbXBvbmVudHMvRnJlZWRhL0ZyZWRhQnV0dG9uJztcclxuaW1wb3J0IGNvbWJpbmVTdHlsZXMgZnJvbSAnLi4vdXRpbHMvY29tYmluZVN0eWxlcyc7XHJcbmltcG9ydCBiYXNlU3R5bGUgZnJvbSAgJy4uL3V0aWxzL2Jhc2VTdHlsZSdcclxuXHJcblxyXG5jb25zdCBzdW1tYXJ5RGF0YSA9IHJlcXVpcmUoJy4uL2Fzc2V0cy9zYW1wbGVfbmV3X2pzb24uanNvbicpO1xyXG5jb25zdCB0ZXN0ID0gXCJDdXN0b21lcjogSGkuIEhlbGxvLiBIZXksIENvbGxlY3RvcjogSSB3YW50ZWQgdG8gbWFrZSBzdXJlIHlvdSByZWNlaXZlZCBteSBub3RlLiBUaGUgcGF5bWVudCB3YXMgZHVlIHllc3RlcmRheS4gRGV0ZWN0aW5nIFNwZWFrZXI6IGdldCBpdCB1bmRlciB0aGUgc2VuZGVyLiBJJ20gQ29sbGVjdG9yOiBJIGRpZG4ndCBhIHRlbGwgeW91IGZvcmdvdC4gSXQncyBpbnZvaWNlIG51bWJlciAzNDctNDAwLTQwMDAuIEkgd2lsbCBlbWFpbCB5b3UgcmlnaHQgbm93IGRvZXMgYSBwZXJzb24gYXQgbS5jb20gZW1haWwgYWRkcmVzcyB3b3JrcyBiZXN0IGZvciB5b3U/IEN1c3RvbWVyOiBZZWFoLCB0aGF0J3MgZmluZS4gQ29sbGVjdG9yOiBCaWcgQmVuZCBPbGl2aWEgZ29pbmcgdG8gbWUgdG8gbWUgdGhhdCBjaGVjayBmb3IgdGhpcyBpbnZvaWNlLiBDdXN0b21lcjogSSBhY3R1YWxseSBkb24ndCBoYXZlIHRoZSBjYXNoIGZvciBkZWJhdGUgcmlnaHQgbm93LiBDb2xsZWN0b3I6IE9rYXksIEkgc2VlIHdoZW4gd2Ugd2lsbCBiZSBnZXR0aW5nIHlvdXIgbmV4dCBwYXltZW50LiBDdXN0b21lcjogTm9ydGhlcm4gVG9vbCBpbiB0aGUgMjFzdCBhdCB5b3Ugc2VuZCBtZSBhIGNoZWNrIG9yIFRodXJzZGF5IHRoZSAyMm5kPyBJIHdvbid0IENvbGxlY3RvcjogNyBzZWUgY2FuIGJlIGFibGUgdG8gcGF5IHRoZSB3aG9sZSB0aGluZyBkb25lLiBDb2xsZWN0b3I6IEJ1dCBpZiB5b3Ugc2VuZCBtZSBoYXZlIHRvIHJlZ2lzdGVyIGFuZCB0aGVuIHVwIGF0IHRoZSBlbmQgb2YgdGhlIG1vbnRoLiBDdXN0b21lcjogVGhhdCBhY3R1YWxseSBtaWdodCB3b3JrLiBDb2xsZWN0b3I6IE9rYXksIHNvdW5kcyBnb29kLiBJJ2xsIE1hbGNvbG0gWCBhbWF6aW5nIG1lICQyLDAwMCBvbiBUaHVyc2RheSB0aGUgMjJuZCBhbmQgSSB3aWxsIGZvbGxvdyB1cCB3aXRoIHlvdSB0ZXN0aW5nXCI7XHJcbmxldCB0aW1lSW50ZXJ2YWw7XHJcbmNvbnN0IGF2YWlsYWJsZUZpbHRlck9wZXJhdGlvbnMgPSBbXHJcbiAgJ2VxdWFsJywgJ25vdEVxdWFsJyxcclxuICAnZ3JlYXRlclRoYW4nLCAnZ3JlYXRlclRoYW5PckVxdWFsJyxcclxuICAnbGVzc1RoYW4nLCAnbGVzc1RoYW5PckVxdWFsJyxcclxuXTtcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgYXBwRnJhbWU6IHtcclxuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcclxuICAgIG1heEhlaWdodDogXCIxMDB2aFwiXHJcbiAgfSxcclxuICByb290OiB7XHJcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5tYWluLFxyXG4gICAgd2lkdGg6IFwiOTMuNzV2d1wiLFxyXG4gICAgbWFyZ2luUmlnaHQ6IFwiYXV0b1wiLFxyXG4gICAgbWFyZ2luTGVmdDogXCJhdXRvXCIsXHJcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgcGFkZGluZ0JvdHRvbTogXCIwXCIsXHJcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseVxyXG5cclxuICB9LFxyXG4gIGhhbmdVcEljb25Jbmc6IHtcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcclxuICAgIHdpZHRoOiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICB9LFxyXG4gIGNhbGxUZXh0OiB7XHJcbiAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXHJcbiAgICBmb250U2l6ZTogXCIxcmVtXCIsXHJcbiAgfSxcclxuICBkaWFscGFkSWNvbjoge1xyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcclxuICAgIHBhZGRpbmdSaWdodDogXCIxcmVtXCIsXHJcbiAgICAvLyBtYXJnaW5SaWdodDogXCIuMWVtXCIsXHJcblxyXG4gIH0sXHJcbiAgZGlhbHBhZEljb25JbWc6IHtcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXHJcbiAgICB3aWR0aDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXHJcbiAgfSxcclxuICB2b2ljZU1haWxJY29uOiB7XHJcbiAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxyXG4gICAgd2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgIGJhY2tncm91bmQ6IFwiIzVEQUFFMFwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgcGFkZGluZzogXCIxcHhcIixcclxuICB9LFxyXG4gIGdyaWRBY2NvdW50OiB7XHJcbiAgICBtYXJnaW5SaWdodDogXCIuMmVtXCIsXHJcbiAgfSxcclxuICBncmlkQWNjb3VudEltZzoge1xyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG4gICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgfSxcclxuICBzdGF0dXM6IHtcclxuICAgIGZvbnRTaXplOiBcIi43cmVtXCIsXHJcbiAgICBjb2xvcjogXCJ3aGl0ZVwiLFxyXG4gICAgekluZGV4OiBcIjZcIlxyXG4gIH0sXHJcbiAgZHVyYXRpb246IHtcclxuICAgIG1hcmdpblJpZ2h0OiBcIi42cmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICB9LFxyXG4gIGN1c3RvbWVyTmFtZToge1xyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgZm9udFNpemU6IFwiMS43OHJlbVwiLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICBsaW5lSGVpZ2h0OiBcIjIuMDVyZW1cIlxyXG4gIH0sXHJcbiAgY3VzdG9tZXJOdW1iZXI6IHtcclxuICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcclxuICAgIGZvbnRTaXplOiBcIi44cmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICB9LFxyXG4gIHRyYW5zY3JpcHRCb3g6IHtcclxuICAgIGhlaWdodDogXCI4Ni41MHZoXCIsXHJcbiAgICAvLyB3aWR0aDogXCIyNXZoXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbixcclxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgfSxcclxuICB0cmFuc2NyaXB0VGl0bGU6IHtcclxuICAgIGZvbnRTaXplOiBcIjEuMnJlbVwiLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgLy8gcGFkZGluZzogXCIyZW0gMCAyZW0gMFwiXHJcbiAgICBwYWRkaW5nTGVmdDogXCIxcmVtXCIsXHJcbiAgICBvcGFjaXR5OiAwLjY1LFxyXG4gICAgcGFkZGluZ1RvcDogXCIuNXJlbVwiLFxyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIGZvbnRGYW1pbHk6IFwiUm9ib3RvXCJcclxuICB9LFxyXG4gIHRyYW5zY3JpcHRUZXh0UGFyZW50OiB7XHJcbiAgICB3aGl0ZVNwYWNlOiBcInByZS1saW5lXCIsXHJcbiAgICBtYXJnaW5Ub3A6IFwiM3JlbVwiLFxyXG4gICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcclxuICAgIGhlaWdodDogXCI4NSVcIixcclxuICAgIHBhZGRpbmc6IFwiOHB4IDhweCA4cHggMHB4XCIsXHJcbiAgICBmb250RmFtaWx5OiBcIlJvYm90b1wiLFxyXG4gICAgbWFyZ2luTGVmdDogXCIxcmVtXCIsXHJcbiAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICB3b3JkV3JhcDogXCJicmVhay13b3JkXCJcclxuICB9LFxyXG4gIG5leHQ6IHtcclxuICAgIHRvcDogXCI1MS40JVwiLFxyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcclxuICAgIHdpZHRoOiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcclxuICAgIHJpZ2h0OiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAwLjI1LFxyXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICB6SW5kZXg6IFwiMlwiLFxyXG4gICAgb3BhY2l0eTogMSxcclxuICAgIGJveFNoYWRvdzogXCJub25lXCIsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcclxuXHJcbiAgICAnJjpob3ZlciwgJiRmb2N1c1Zpc2libGUnOiB7XHJcbiAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxyXG4gICAgfVxyXG4gIH0sXHJcbiAgcHJldjoge1xyXG4gICAgdG9wOiBcIjUxLjQlXCIsXHJcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXHJcbiAgICB3aWR0aDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXHJcbiAgICB6SW5kZXg6IFwiMlwiLFxyXG4gICAgYm94U2hhZG93OiBcIm5vbmVcIixcclxuICAgIG9wYWNpdHk6IDEsXHJcbiAgICBtYXJnaW5MZWZ0OiBcIi0wLjVyZW1cIixcclxuICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxyXG4gICAgLy8gdmlzaWJpbGl0eSA6IGZhbHNlLFxyXG4gICAgJyY6aG92ZXIsICYkZm9jdXNWaXNpYmxlJzoge1xyXG4gICAgICBvcGFjaXR5OiAxLFxyXG5cclxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgaGFuZ1VwQnV0dG9uOiB7XHJcbiAgICBoZWlnaHQ6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXHJcbiAgICB3aWR0aDogXCIyLjY2NjY2NjY1cmVtXCIsXHJcbiAgfSxcclxuICBoYW5nVXBCdXR0b25JbWc6IHtcclxuICAgIGhlaWdodDogXCIyLjY2NjY2NXJlbVwiLFxyXG4gICAgd2lkdGg6IFwiMi42NjY2NjY2NXJlbVwiLFxyXG4gIH0sXHJcbiAgZHJvcERvd25JY29uOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxyXG4gIH0sXHJcbiAgZHJvcERvd246IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW5cclxuICB9LFxyXG4gXHJcbiAgbWljT2ZmSWNvbkltZzoge1xyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcclxuICAgIHdpZHRoOiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG5cclxuICB9LFxyXG4gIG1pY09mZkljb246IHtcclxuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG4gICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXHJcbiAgICBjb2xvcjogXCJ3aGl0ZVwiXHJcbiAgfSxcclxuXHJcbiAgY2FsbGVkQ29udGFjdE5hbWU6IHtcclxuICAgIGZvbnRTaXplOiBcIi43NnJlbVwiLFxyXG4gICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgIGxpbmVIZWlnaHQ6IFwibm9ybWFsXCIsXHJcbiAgfSxcclxuICBjYWxsZWRUb0NvbnRhY3REaXYgOiB7XHJcbiAgICB3aWR0aCA6IFwiODAlXCJcclxuICB9LFxyXG4gIHRyYW5zY3JpcHRCb3hQYXJlbnQ6IHtcclxuICAgIHBhZGRpbmdCb3R0b206IFwiMHB4ICFpbXBvcnRhbnRcIixcclxuICAgIGJvcmRlclJhZGl1czogXCI0cHhcIlxyXG4gIH0sXHJcbiAgYXJyb3dJY29uOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBvcGFjaXR5OiAxLFxyXG5cclxuICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcclxuICAgICAgb3BhY2l0eTogMSxcclxuICAgIH0sXHJcbiAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxyXG4gICAgd2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxyXG4gICAgdG9wOiBcIjUxLjQlXCJcclxuICB9LFxyXG4gIGRpc2FibGVkQXJyb3dpY29uOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxyXG4gICAgd2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxyXG4gICAgb3BhY2l0eTogMC4yNSxcclxuICB9LFxyXG4gIGRpc2FibGVkRmFiOiB7XHJcbiAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50ICFpbXBvcnRhbnRcIixcclxuICB9LFxyXG4gIGNsb3NlU3R5bGU6IHtcclxuICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXHJcbiAgICB0b3A6IFwiMSVcIixcclxuICAgIGxlZnQ6IFwiNTAlXCIsXHJcbiAgICBjb2xvcjogXCIjZmZmXCIsXHJcbiAgICBmb250U2l6ZTogNDgsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiXHJcbiAgfSxcclxuICBjdXN0b21lckhpc3RvcnlNb2RhbDoge1xyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIHdpZHRoOiBcIjQ1JVwiLFxyXG4gICAgaGVpZ2h0OiBcIjEwMCVcIixcclxuICAgIGJvdHRvbTogXCIwXCIsXHJcbiAgICBvdmVyZmxvd1dyYXA6IFwiYnJlYWstd29yZFwiLFxyXG4gICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcclxuICAgIGJveFNoYWRvdzogdGhlbWUuc2hhZG93c1s1XSxcclxuICAgIHBhZGRpbmdMZWZ0OiBcIjElXCIsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBsZWZ0IDogXCI0LjIlXCJcclxuICB9LFxyXG4gICAvL21lbnUgXHJcbiAgIGFjdGlvbkljb246IHtcclxuICAgIGZvbnRTaXplOiAnMnJlbScsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICB9LFxyXG4gIGFjdGlvbkJ1dHRvbjoge1xyXG4gICAgLy8gcGFkZGluZyA6IFwiMSVcIixcclxuICAgIGhlaWdodDogXCI0LjE2NnZ3XCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiMHB4XCIsXHJcbiAgICB3aWR0aDogXCI0LjE2NnZ3XCIsXHJcbiAgfSxcclxuXHJcblxyXG59KVxyXG5cclxuY29uc3Qgc2FsZXMgPSBnZXRSYW1kb21Sb3dzKCk7XHJcblxyXG5mdW5jdGlvbiBnZXRSYW1kb21Sb3dzKCkge1xyXG4gIGxldCByb3dzID0gW107XHJcbiAgbGV0IGl0ZW0gPSB7IFwicHJvZHVjdFwiOiBcImhlbGxvXCIsIFwicmVnaW9uXCI6IFwiQW1lcmljYVwiLCBcImFtb3VudFwiOiBcIjVcIiwgXCJzYWxlRGF0ZVwiOiBcIjA5LzA5LzE5OTZcIiwgXCJjdXN0b21lclwiOiBcIkJhbHJhalwiLCB9O1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwMDsgaSsrKSB7XHJcbiAgICByb3dzLnB1c2goaXRlbSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcm93cztcclxufVxyXG5cclxuY2xhc3MgSW5DYWxsIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMubXlSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuICAgIHRoaXMucHJvcHMuY2hhbmdlU3RhdHVzKHsgc3RhdHVzOiBcIlwiIH0pXHJcbiAgICAvLyB0aGlzLnByb3BzLmNoYW5nZUNhbGxTdGF0ZSh7IGNhbGxpbmc6IHRydWUsIHN0YXR1czogXCJ0cnlpbmcgdG8gY29ubmVjdFwiIH0pXHJcbiAgICBsZXQgY29udGFjdEluZGV4LCBjYWxsZWRUb0NvbnRhY3RJZFxyXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZSxcImluIGNhbGwgc3RhdGVcIilcclxuICAgIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbnRhY3RJbmRleCAhPSBudWxsKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiZmlyc3Qgb25lXCIpXHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMpXHJcbiAgICAgIGNvbnRhY3RJbmRleCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdEluZGV4O1xyXG4gICAgICBjYWxsZWRUb0NvbnRhY3RJZCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5pZFxyXG4gICAgICB0aGlzLmNhbGxlZFRvTnVtYmVyID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb051bWJlcjtcclxuICAgICAgdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5maXJzdE5hbWU7XHJcbiAgICAgIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5sYXN0TmFtZTtcclxuICAgICAgdGhpcy5lbWFpbE9mQ2FsbGVkID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmVtYWlsO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMpXHJcbiAgICAgIGNvbnNvbGUubG9nKFwic2Vjb25kIG9uZVwiKVxyXG4gICAgICBjYWxsZWRUb0NvbnRhY3RJZCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdElkXHJcbiAgICAgIHRoaXMuY2FsbGVkVG9OdW1iZXIgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyO1xyXG4gICAgICB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb0ZpcnN0TmFtZTtcclxuICAgICAgdGhpcy5jYWxsZWRUb0xhc3ROYW1lID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb0xhc3ROYW1lO1xyXG4gICAgICB0aGlzLmVtYWlsT2ZDYWxsZWQgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmVtYWlsT2ZDYWxsZWRcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwiRW1haWwgb2YgY2FsbGVkXCIsIHRoaXMuZW1haWxPZkNhbGxlZClcclxuXHJcbiAgICB0aGlzLmNhbGxlZFRvRnVsbE5hbWUgPSB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICsgXCIgXCIgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWU7XHJcbiAgICBpZiAodGhpcy5jYWxsZWRUb0Z1bGxOYW1lID09PSBcIlVua25vd24gXCIgfHwgdGhpcy5jYWxsZWRUb0Z1bGxOYW1lID09PSBcIlVubmFtZWQgVW5uYW1lZFwiKSB7XHJcbiAgICAgIHRoaXMuY2FsbGVkVG9GdWxsTmFtZSA9IHRoaXMuY2FsbGVkVG9OdW1iZXI7XHJcbiAgICB9XHJcbiAgICBsZXQgbG9jYXRpb25Qcm9wcyA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGU7XHJcbiAgICBsZXQgYWNjb3VudCA9IHRoaXMucHJvcHMuY3VzdG9tZXJzLmN1c3RvbWVycy5maWx0ZXIoY3VzdG9tZXIgPT4gY3VzdG9tZXIuaWQgPT0gbG9jYXRpb25Qcm9wcy5hY2NvdW50SWQpO1xyXG4gICAgdGhpcy5wcm9wcy5jYWxsTG9nKHtcclxuICAgICAgc3RhdHVzOiBcIlwiLFxyXG4gICAgICBjb250YWN0OiB7XHJcbiAgICAgICAgaWQ6IGNhbGxlZFRvQ29udGFjdElkXHJcbiAgICAgIH0sXHJcbiAgICAgIGNhbGxlZFRvTnVtYmVyOiB0aGlzLmNhbGxlZFRvTnVtYmVyLFxyXG4gICAgICBjb250YWN0SWQ6IGNhbGxlZFRvQ29udGFjdElkLFxyXG4gICAgICBjYWxsZWRUbzogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUbyxcclxuICAgICAgc3RhcnREYXRlVGltZTogbmV3IERhdGUoKSxcclxuICAgIH0pO1xyXG4gICAgZGlzYWJsZUZyZWRhSW5DYWxsKClcclxuICAgIHNpcENhbGwodGhpcy5jYWxsZWRUb051bWJlciwgdGhpcy5wcm9wcy51c2VyLCBhY2NvdW50LCBsb2NhdGlvblByb3BzLmN1c3RvbWVyLCB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzKTtcclxuICAgIC8vIHdoaWxlKHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgIT0gdHJ1ZSk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgdm9pY2VtYWlsUGxheWVkTWVzc2FnZTogXCJcIixcclxuICAgICAgcmVkaXJlY3Q6IGZhbHNlLFxyXG4gICAgICBjYWxsUHJlcFBhZ2U6IGZhbHNlLFxyXG4gICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lcixcclxuICAgICAgY29tbXVuaWNhdGlvbjogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb21tdW5pY2F0aW9uLFxyXG4gICAgICBjYWxsRHVyYXRpb246IDAsXHJcbiAgICAgIGNhbGxEdXJhdGlvbkluRm9ybWF0OiBcIlwiLFxyXG4gICAgICB0cmFuc2NyaXB0aW9uOiBcIlwiLFxyXG4gICAgICBzdW1tYXJ5OiBcIltdXCIsXHJcbiAgICAgIGNvbnRhY3RPcGVuOiBmYWxzZSxcclxuICAgICAgY29sdW1uczogW1xyXG4gICAgICAgIHsgbmFtZTogJ3Byb2R1Y3QnLCB0aXRsZTogJ1Byb2R1Y3QnIH0sXHJcbiAgICAgICAgeyBuYW1lOiAncmVnaW9uJywgdGl0bGU6ICdSZWdpb24nIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnYW1vdW50JywgdGl0bGU6ICdTYWxlIEFtb3VudCcgfSxcclxuICAgICAgICB7IG5hbWU6ICdzYWxlRGF0ZScsIHRpdGxlOiAnU2FsZSBEYXRlJyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ2N1c3RvbWVyJywgdGl0bGU6ICdDdXN0b21lcicgfSxcclxuICAgICAgXSxcclxuICAgICAgY3VycmVuY3lDb2x1bW5zOiBbJ2Ftb3VudCddLFxyXG4gICAgICBwYWdlU2l6ZXM6IFs1LCAxMCwgMTVdLFxyXG4gICAgICByb3dzOiBzYWxlcyxcclxuICAgICAgaW52b2ljZXM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMsXHJcbiAgICAgIGlzVm9pY2VtYWlsT3BlbjogZmFsc2UsXHJcbiAgICAgIHRyYW5zY3JpcHRpb246IFwiXCIsXHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5pbnZvaWNlcywgXCJpbiBpbmNhbGwgdXN1YWwgZmxvd1wiKVxyXG4gICAgXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XHJcbiAgICBsZXQgY3VycmVudFRyYW5zY3JpcHRpb24gPSB0aGlzLnByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbjtcclxuICAgIGxldCBuZXdUcmFuc2NyaXB0aW9uID0gbmV4dFByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbjtcclxuICAgIGlmIChuZXdUcmFuc2NyaXB0aW9uICE9PSBjdXJyZW50VHJhbnNjcmlwdGlvbikge1xyXG4gICAgICBjb25zb2xlLmxvZygnQXV0byBTY3JvbGxpbmcnKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRyYW5zY3JpcHRpb246IG5ld1RyYW5zY3JpcHRpb24gfSwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20oKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IG5leHRQcm9wcy5sb2NhdGlvbi5zdGF0ZS5pbnZvaWNlcyB9KTtcclxuICB9XHJcblxyXG4gIHNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xyXG4gICAgLy8gbGV0IGN1cnJlbnQgPSB0aGlzLm15UmVmLmN1cnJlbnQ7XHJcbiAgICBsZXQgdHJhbnNjcmlwdGlvbkdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGl2ZS10cmFuc2NyaXB0aW9uLWdyaWQnKTtcclxuICAgIGlmICh0cmFuc2NyaXB0aW9uR3JpZCkge1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGl2ZS10cmFuc2NyaXB0aW9uLWdyaWQnKS5zY3JvbGxUb3AgPSB0cmFuc2NyaXB0aW9uR3JpZC5zY3JvbGxIZWlnaHQ7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgb3BlbkNvbnRhY3REcm9wZG93biA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmNvbnRhY3RPcGVuID09IHRydWUpXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb250YWN0T3BlbjogZmFsc2UgfSk7XHJcbiAgICBlbHNlXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb250YWN0T3BlbjogdHJ1ZSB9KTtcclxuICB9O1xyXG4gIHRvZ2dsZUNvbnRhY3RQb3BvdmVyID0gdmFsdWUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnRhY3RPcGVuOiB2YWx1ZSB9KTtcclxuICB9O1xyXG4gIGdldEZvcm1hdHRlZER1cmF0aW9uID0gKCkgPT4ge1xyXG4gICAgbGV0IGR1cmF0aW9uID0gdGhpcy5zdGF0ZS5jYWxsRHVyYXRpb24rKztcclxuICAgIHZhciBociA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAzNjAwKTtcclxuICAgIHZhciBtaW4gPSBNYXRoLmZsb29yKChkdXJhdGlvbiAtIChociAqIDM2MDApKSAvIDYwKTtcclxuICAgIHZhciBzZWMgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC0gKGhyICogMzYwMCkgLSAobWluICogNjApKTtcclxuXHJcbiAgICBpZiAobWluIDwgMTApIHtcclxuICAgICAgbWluID0gXCIwXCIgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNlYyA8IDEwKSB7XHJcbiAgICAgIHNlYyA9IFwiMFwiICsgc2VjO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtaW4gKyAnOicgKyBzZWM7XHJcbiAgfVxyXG5cclxuICBvcGVuVm9pY2VtYWlsID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzVm9pY2VtYWlsT3BlbjogIXRoaXMuc3RhdGUuaXNWb2ljZW1haWxPcGVuIH0pXHJcbiAgfVxyXG5cclxuICBjbG9zZVBvcFRpbWVsaW5lID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFRpbWVsaW5lOiBmYWxzZSB9KTtcclxuICB9O1xyXG5cclxuICBvcGVuUG9wVGltZWxpbmUgPSBwb3BUeXBlID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BUaW1lbGluZTogdHJ1ZSwgcG9wVHlwZTogcG9wVHlwZSB9KTtcclxuICB9O1xyXG5cclxuICBnZXRUaW1lbGluZSA9IHBvcFR5cGUgPT4ge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgbGV0IGV2ZW50cyA9IFwiXCIsIG1haW5IZWFkZXIgPSBcIlwiLCBub0V2ZW50TXNnID0gXCJcIjtcclxuICAgIGlmIChwb3BUeXBlID09PSBcIlBBWU1FTlRfSElTVE9SWVwiKSB7XHJcbiAgICAgIGV2ZW50cyA9IHRoaXMuc3RhdGUuY3VzdG9tZXIucGF5bWVudHM7XHJcbiAgICAgIC8vIGV2ZW50cz10aGlzLnBheW1lbnRzO1xyXG4gICAgICBtYWluSGVhZGVyID0gXCJSRUNFTlQgUEFZTUVOVFNcIjtcclxuICAgICAgbm9FdmVudE1zZyA9IFwiTm8gUGF5bWVudHMgaW4gTGFzdCAzMCBEYXlzXCJcclxuICAgIH1cclxuICAgIGlmIChwb3BUeXBlID09PSBcIkNPTU1fSElTVE9SWVwiKSB7XHJcbiAgICAgIGV2ZW50cyA9IHRoaXMuc3RhdGUuY29tbXVuaWNhdGlvbjtcclxuICAgICAgLy8gZXZlbnRzPXRoaXMuY29tbXVuaWNhdGlvbjtcclxuICAgICAgbWFpbkhlYWRlciA9IFwiQ09NTVVOSUNBVElPTiBISVNUT1JZXCI7XHJcbiAgICAgIG5vRXZlbnRNc2cgPSBcIk5vIENvbW11bmljYXRpb24gSGlzdG9yeVwiXHJcbiAgICAgIGZvciAobGV0IGkgaW4gZXZlbnRzKSB7XHJcbiAgICAgICAgbGV0IHR5cGUgPSBldmVudHNbaV0udHlwZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIGlmICh0eXBlID09IFwiQ0FMTFwiKSB7XHJcbiAgICAgICAgICBsZXQgc3RhdHVzID0gZXZlbnRzW2ldLmNhbGwuc3RhdHVzO1xyXG4gICAgICAgICAgaWYgKHN0YXR1cyA9PSBcIi0xMDBcIikge1xyXG4gICAgICAgICAgICBldmVudHNbaV0uY29tbVR5cGUgPSBcIlZPSUNFTUFJTFwiO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRzW2ldLmNvbW1UeXBlID0gXCJDQUxMXCI7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlID09IFwiQ09SUkVTUE9OREVOQ0VcIikge1xyXG4gICAgICAgICAgZXZlbnRzW2ldLmNvbW1UeXBlID0gXCJNQUlMXCI7XHJcbiAgICAgICAgICBldmVudHNbaV0uY3VzdG9tZXJOYW1lID0gdGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIHsoKHBvcFR5cGUgPT0gXCJDT01NX0hJU1RPUllcIikgfHwgcG9wVHlwZSA9PSBcIlBBWU1FTlRfSElTVE9SWVwiKSAmJlxyXG4gICAgICAgICAgPFZlcnRpY2FsVGltZUxpbmVcclxuICAgICAgICAgICAgcG9wVHlwZT17cG9wVHlwZX1cclxuICAgICAgICAgICAgZXZlbnRzPXtldmVudHN9XHJcbiAgICAgICAgICAgIG1haW5IZWFkZXI9e21haW5IZWFkZXJ9XHJcbiAgICAgICAgICAgIG5vRXZlbnRNc2c9e25vRXZlbnRNc2d9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIHRvZ2dsZU11dGUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNNdXRlZDogIXRoaXMuc3RhdGUuaXNNdXRlZCB9KVxyXG4gICAgc2lwVG9nZ2xlTXV0ZSgpO1xyXG4gIH1cclxuXHJcbiAgc2V0RHVyYXRpb24gPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jYWxsRHVyYXRpb24gPT09IDApIHtcclxuICAgICAgdGltZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiQ29ubmVjdGVkIHRvXCIpXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2FsbER1cmF0aW9uSW5Gb3JtYXQ6IHRoaXMuZ2V0Rm9ybWF0dGVkRHVyYXRpb24oKSB9KVxyXG5cclxuICAgICAgfSwgMTAwMClcclxuICAgIH1cclxuXHJcblxyXG5cclxuICB9XHJcblxyXG4gIGNsZWFySW50ZXJ2YWxPbkhhbmd1cCA9ICgpID0+IHtcclxuICAgIGNsZWFySW50ZXJ2YWwodGltZUludGVydmFsKVxyXG4gIH1cclxuXHJcblxyXG5cclxuICBoYW5nVXAgPSAoKSA9PiB7XHJcbiAgICBzaXBIYW5ndXAoKVxyXG4gICAgLy8gdGhpcy5wcm9wcy5jaGFuZ2VDYWxsU3RhdGUoeyBjYWxsaW5nOiBmYWxzZSwgc3RhdHVzIDogXCJDb25uZWN0ZWQgdG9cIiB9KVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xyXG5cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzKSB7IH1cclxuXHJcbiAgb3BlblZvaWNlbWFpbCA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc1ZvaWNlbWFpbE9wZW46ICF0aGlzLnN0YXRlLmlzVm9pY2VtYWlsT3BlbiB9KVxyXG4gIH1cclxuXHJcbiAgc3dpdGNoVG9DYWxsUHJlcFBhZ2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgY2FsbFByZXBQYWdlOiB0cnVlIH0pXHJcbiAgfVxyXG5cclxuICBzd2l0Y2hUb0NhbGxJbkNhbGxQYWdlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGNhbGxQcmVwUGFnZTogZmFsc2UgfSlcclxuXHJcbiAgfVxyXG5cclxuICBoYW5kbGVWb2ljZW1haWxNZXNzYWdlID0gKCkgPT4ge1xyXG5cclxuICAgIC8vYWZ0ZXIgZm9yIGFkZCBjYWxsZWRfdG9fbmFtZSBvciBudW1iZXIgaWYgdW5rbm93IHVzZXIgYWNjb3JkaW5nbHlcclxuXHJcbiAgICBsZXQgY29udGFjdDtcclxuICAgIGxldCBjYWxsZWROYW1lID0gdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSArIFwiIFwiICsgdGhpcy5jYWxsZWRUb0xhc3ROYW1lO1xyXG5cclxuICAgIGlmIChjYWxsZWROYW1lID09PSBcIlVua25vd24gXCIgfHwgY2FsbGVkTmFtZSA9PT0gXCJVbm5hbWVkIFVubmFtZWRcIikge1xyXG4gICAgICBjb250YWN0ID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb051bWJlcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnRhY3QgPSBjYWxsZWROYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBtZXNzYWdlID0gYFZvaWNlbWFpbCBQbGF5ZWQgZm9yICR7Y29udGFjdCA/IGNvbnRhY3QgOiBcIlwifVxcbmA7XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZvaWNlbWFpbFBsYXllZE1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGNsYXNzZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuXHJcbiAgICBsZXQgbmV4dElkID0gcGFyc2VJbnQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuaWQsIDEwKSArIDE7XHJcbiAgICBsZXQgcHJldklkID0gcGFyc2VJbnQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuaWQsIDEwKSAtIDE7XHJcbiAgICBsZXQgbmV4dFVybCA9IFwiL2NhbGxwcmVwL1wiICsgbmV4dElkO1xyXG4gICAgbGV0IHByZXZVcmwgPSBcIi9jYWxscHJlcC9cIiArIHByZXZJZDtcclxuICAgIGNvbnN0IHhBeGlzTGFiZWxTdHlsZXMgPSB7XHJcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgZm9udFNpemU6IFwiMTNweFwiLFxyXG4gICAgICB3aWR0aDogXCI4MCVcIlxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiQ29ubmVjdGVkIHRvXCIpIHtcclxuICAgICAgdGhpcy5zZXREdXJhdGlvbigpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuYXBwRnJhbWV9PlxyXG4gICAgICAgIDxEcmF3ZXIgdG9wSXRlbXM9e2dldE1lbnVJdGVtcyhjbGFzc2VzLCB0aGVtZSwgdGhpcy5vcGVuUG9wVGltZWxpbmUpfSAvPlxyXG4gICAgICAgIDxDdXN0b21Gb290ZXIgLz5cclxuICAgICAgICB7dGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJlxyXG4gICAgICAgICAgPEhhbW1lciBvblN3aXBlTGVmdD17dGhpcy5zd2l0Y2hUb0NhbGxQcmVwUGFnZX0gb25Td2lwZVJpZ2h0PXt0aGlzLnN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2V9ID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMucm9vdH0gPlxyXG4gICAgICAgICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5wb3BUaW1lbGluZX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVBdXRvRm9jdXM9e3RydWV9XHJcbiAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlUG9wVGltZWxpbmV9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJIaXN0b3J5TW9kYWx9PlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFRpbWVsaW5lKHRoaXMuc3RhdGUucG9wVHlwZSl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8Q2xvc2VcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMuY2xvc2VTdHlsZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VQb3BUaW1lbGluZX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICA8RmFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbG9yPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkFkZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5wcmV2fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IGRpc2FibGVkOiBjbGFzc2VzLmRpc2FibGVkRmFiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zd2l0Y2hUb0NhbGxQcmVwUGFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPE5hdmlnYXRlQmVmb3JlIGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPyBjbGFzc2VzLmRpc2FibGVkQXJyb3dpY29uIDogY2xhc3Nlcy5hcnJvd0ljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L0ZhYj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxGYWJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQWRkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17eyBkaXNhYmxlZDogY2xhc3Nlcy5kaXNhYmxlZEZhYiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMubmV4dH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zd2l0Y2hUb0NhbGxJbkNhbGxQYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TmF2aWdhdGVOZXh0IGNsYXNzTmFtZT17IXRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID8gY2xhc3Nlcy5kaXNhYmxlZEFycm93aWNvbiA6IGNsYXNzZXMuYXJyb3dJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9GYWI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiZcclxuICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIHhzPXsxMn0ganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiBhbGlnbkl0ZW1zPVwiZmxleC1zdGFydFwiIHN0eWxlPXt7IG1hcmdpblRvcDogXCIxLjEydmhcIiB9fT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17NX0gc3R5bGU9e3sgcGFkZGluZ0xlZnQ6IFwiMHB4XCIsIHBhZGRpbmdSaWdodDogXCIwcHhcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lck5hbWV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWV9ICBcclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWUubGVuZ3RoIDwgMjAgPyAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vV3JhcD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lck5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiIFwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcCB0aXRsZSA9IHt0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub1dyYXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIiBcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJOdW1iZXJ9Pnt0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTnVtYmVyfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBzbT17Nn0gbGc9ezZ9IG1kPXs2fSB4bD17NX0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJmbGV4LWVuZFwiID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIGxnPXs4fSBtZD17MTB9IHhsPXsxMH0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJmbGV4LWVuZFwiIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBcIjguMzMzdndcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjb250YWluZXIgc209ezl9IGxnPXs5fSBtZD17OX0geGw9ezl9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIGNsYXNzTmFtZT17Y2xhc3Nlcy5jYWxsR3JpZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGl0ZW0gbGc9ezd9IG1kPXs3fSB4bD17N30gc3R5bGU9e3sgY3Vyc29yOiBcInBvaW50ZXJcIiB9fSBvbkNsaWNrPXt0aGlzLm9wZW5Db250YWN0RHJvcGRvd259IGp1c3RpZnk9XCJmbGV4LXN0YXJ0XCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJJY29uQ2lyY2xlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUgPT09IFwiVW5uYW1lZFwiICYmIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSA9PT0gXCJVbm5hbWVkXCIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4/PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSAhPT0gXCJVbm5hbWVkXCIgJiYgdGhpcy5jYWxsZWRUb0xhc3ROYW1lICE9PSBcIlVubmFtZWRcIiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57dGhpcy5jYWxsZWRUb0ZpcnN0TmFtZS50b1VwcGVyQ2FzZSgpLmNoYXJBdCgwKSArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZS50b1VwcGVyQ2FzZSgpLmNoYXJBdCgwKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gbGc9ezd9IG1kPXs3fSB4bD17N30gY2xhc3NOYW1lPXtjbGFzc2VzLmNhbGxUZXh0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cInNwYW5cIiBub1dyYXAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuc3RhdHVzKX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYWxsZWRUb0NvbnRhY3REaXZ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IG5vV3JhcD17dHJ1ZX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhbGxlZENvbnRhY3ROYW1lfSA+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuY2FsbGVkVG9GdWxsTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLmRyb3BEb3dufSBhbGlnbj1cInJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd0Ryb3BEb3duSWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5kcm9wRG93bkljb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5jb250YWN0SWNvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb250YWN0TGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFGcm9tQ2hpbGQ9e3RoaXMudG9nZ2xlQ29udGFjdFBvcG92ZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdE9wZW49e3RoaXMuc3RhdGUuY29udGFjdE9wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkNvbnRhY3RzPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0cz17dGhpcy5zdGF0ZS5jdXN0b21lci5jb250YWN0c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlcz17dGhpcy5zdGF0ZS5pbnZvaWNlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXROYW1lcz17dGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q3VzdG9tZXJVcmw9e3RoaXMubmV4dFVybH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b0NhbGxDdXN0b21lcnM9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS50b0NhbGxDdXN0b21lcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L0NvbnRhY3RMaXN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgaXRlbSBsZz17NX0gbWQ9ezV9IHhsPXs1fSAgYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJmbGV4LWVuZFwiPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNsYXNzTmFtZT17Y2xhc3Nlcy5kdXJhdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmNhbGxEdXJhdGlvbkluRm9ybWF0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMubWljT2ZmSWNvbn0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc011dGVkICYmIDxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLm1pY09mZkljb25JbWd9IHNyYz17Jy90b3ZvL3N0YXRpYy91bm11dGUuc3ZnJ30gb25DbGljaz17dGhpcy50b2dnbGVNdXRlfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnN0YXRlLmlzTXV0ZWQgJiYgPGltZyBjbGFzc05hbWU9e2NsYXNzZXMubWljT2ZmSWNvbkltZ30gc3JjPXtyZXF1aXJlKCcuLi9hc3NldHMvbWljX29mZi5wbmcnKX0gb25DbGljaz17dGhpcy50b2dnbGVNdXRlfSAvPn1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwicmlnaHRcIiBjbGFzc05hbWU9e2NsYXNzZXMuaGFuZ1VwQnV0dG9ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9e2NsYXNzZXMuaGFuZ1VwQnV0dG9uSW1nfSBvbkNsaWNrPXt0aGlzLmhhbmdVcH0gY2xhc3NOYW1lPXtjbGFzc2VzLmhhbmdVcEljb25Jbmd9IHNyYz17cmVxdWlyZSgnLi4vYXNzZXRzL2hhbmctdXAucG5nJyl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5kaWFscGFkSWNvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEtleVBhZFdyYXBwZWQgY2xhc3NOYW1lPXtjbGFzc2VzLmRpYWxwYWRJY29uSW1nfSBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn0gLz5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy52b2ljZU1haWxJY29ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Vm9pY2VtYWlsV3JhcHBlciBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn0gb25Wb2ljZW1haWxDbGljaz17KCkgPT4gdGhpcy5oYW5kbGVWb2ljZW1haWxNZXNzYWdlKCl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiB0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSA9PT0gZmFsc2UgJiZcclxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiMi4wMzd2aFwiIH19PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgeHM9ezEyfSBhbGlnbkl0ZW1zPVwiZmxleC1zdGFydFwiIGp1c3RpZnk9XCJjZW50ZXJcIiBzdHlsZT17eyBtYXJnaW5MZWZ0OiBcIjBweFwiIH19ID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezh9IGFsaWduPVwibGVmdFwiIHN0eWxlPXt7IHBhZGRpbmdUb3A6IFwiMFwiLCBwYWRkaW5nUmlnaHQ6IFwiMS4wNDF2d1wiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbnZvaWNlcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbkNhbGxEZXRhaWxzIGNvbGxlY3Rvcj17dGhpcy5wcm9wcy51c2VyfSBlbWFpbE9mQ2FsbGVkPXt0aGlzLmVtYWlsT2ZDYWxsZWR9IGN1c3RvbWVyPXt0aGlzLnN0YXRlLmN1c3RvbWVyfSBpbnZvaWNlcz17dGhpcy5zdGF0ZS5pbnZvaWNlc30gYnVja2V0TmFtZXM9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuYnVja2V0TmFtZXN9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIHhzPXs0fSBjbGFzc05hbWU9e2NsYXNzZXMudHJhbnNjcmlwdEJveFBhcmVudH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEyfSBjb250YWluZXIgY2xhc3NOYW1lPXtjbGFzc2VzLnRyYW5zY3JpcHRCb3h9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy50cmFuc2NyaXB0VGl0bGV9PkNBTEwgVFJBTlNDUklQVDwvc3Bhbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImxpdmUtdHJhbnNjcmlwdGlvbi1ncmlkXCIgY2xhc3NOYW1lPXtjbGFzc2VzLnRyYW5zY3JpcHRUZXh0UGFyZW50fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFuc2NyaXB0Q2hhdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uPXt0aGlzLnN0YXRlLnRyYW5zY3JpcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZFRvTmFtZUluaXRpYWxzPXtnZXRJbml0aWFsc0Zyb21OYW1lKHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyBcIiBcIiArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJbml0aWFscz17XCJNRVwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmIHRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID09PSB0cnVlICYmXHJcbiAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPENhbGxQcmVwRGV0YWlscyBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn0gLz5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9IYW1tZXI+XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSBmYWxzZSAmJlxyXG4gICAgICAgICAgKFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiQ2FsbCBGYWlsZWRcIiB8fFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT0gXCJXcm9uZyBOdW1iZXJcIiB8fFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT0gXCJVc2VyIEJ1c3lcIikgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxSZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgdG89e3tcclxuICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IFwiL2NhbGxwcmVwL1wiICsgdGhpcy5zdGF0ZS5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgICAgICAgc3RhdGU6IHsgb3BlbkNvbnRhY3RzOiB0cnVlLCB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzIH1cclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IGZhbHNlICYmIChcclxuICAgICAgICAgICAgPFBvc3RDYWxsXHJcbiAgICAgICAgICAgICAgdm9pY2VtYWlsTWVzc2FnZT17dGhpcy5zdGF0ZS52b2ljZW1haWxQbGF5ZWRNZXNzYWdlfVxyXG4gICAgICAgICAgICAgIGNhbGxEdXJhdGlvbj17dGhpcy5zdGF0ZS5jYWxsRHVyYXRpb259XHJcbiAgICAgICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzPXt0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLnRvQ2FsbEN1c3RvbWVyc31cclxuICAgICAgICAgICAgICBuZXh0Q3VzdG9tZXJVcmw9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUubmV4dEN1c3RvbWVyVXJsfVxyXG4gICAgICAgICAgICAgIG9uSGFuZ3VwPXt0aGlzLmNsZWFySW50ZXJ2YWxPbkhhbmd1cH1cclxuICAgICAgICAgICAgICBpbnZvaWNlcz17dGhpcy5zdGF0ZS5pbnZvaWNlc31cclxuICAgICAgICAgICAgICBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn1cclxuICAgICAgICAgICAgICBjYWxsZWRUb05hbWU9e3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyBcIiBcIiArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZX1cclxuICAgICAgICAgICAgICBidWNrZXROYW1lcz17dGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lc31cclxuICAgICAgICAgICAgICBjb2xsZWN0b3I9e3RoaXMucHJvcHMudXNlcn1cclxuICAgICAgICAgICAgICBjb250YWN0SW5kZXg9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdEluZGV4fVxyXG4gICAgICAgICAgICAgIGNhbGxlZFRvTnVtYmVyPXt0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyfVxyXG4gICAgICAgICAgICAgIGluaXRpYWxUcmFuc2NyaXB0aW9uPXt0aGlzLnN0YXRlLnRyYW5zY3JpcHRpb259XHJcbiAgICAgICAgICAgID48L1Bvc3RDYWxsPlxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSBmYWxzZSAmJiB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiVHJ5aW5nIHRvIGNvbm5lY3RcIiAmJlxyXG4gICAgICAgICAgPGRpdj5cclxuXHJcbiAgICAgICAgICAgIDxSZWRpcmVjdCB0bz17e1xyXG4gICAgICAgICAgICAgIHBhdGhuYW1lOiAnL2NhbGxwcmVwLycgKyB0aGlzLnN0YXRlLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICAgIHN0YXRlOiB7IG9wZW5Db250YWN0czogZmFsc2UsIHRvQ2FsbEN1c3RvbWVyczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS50b0NhbGxDdXN0b21lcnMgfVxyXG4gICAgICAgICAgICB9fSAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe1xyXG5cclxuICB1c2VyOiBzdGF0ZS5wZXJzb25hbERldGFpbHMsXHJcbiAgY2FsbFN0YXRlOiBzdGF0ZS5jYWxsU3RhdGUsXHJcbiAgdHJhbnNjcmlwdGlvbjogc3RhdGUudHJhbnNjcmlwdGlvbixcclxuICBjdXN0b21lcnM6IHN0YXRlLmN1c3RvbWVycyxcclxufSlcclxuXHJcbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IGRpc3BhdGNoID0+ICh7XHJcbiAgY2hhbmdlQ2FsbFN0YXRlOiBkYXRhID0+IChkaXNwYXRjaChjaGFuZ2VDYWxsU3RhdGUoZGF0YSkpKSxcclxuICBjaGFuZ2VTdGF0dXM6IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZVN0YXR1cyhkYXRhKSkpLFxyXG4gIGNoYW5nZVRyYW5zY3JpcHRpb246IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZVRyYW5zY3JpcHRpb24oZGF0YSkpKSxcclxuICBjYWxsTG9nOiBkYXRhID0+IChkaXNwYXRjaChhZGRJbml0aWFsQ2FsbExvZyhkYXRhKSkpXHJcbn0pXHJcblxyXG5jb25zdCBjb21iaW5lZFN0eWxlID0gY29tYmluZVN0eWxlcyhzdHlsZXMsYmFzZVN0eWxlKVxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxyXG4gIG1hcFN0YXRlVG9Qcm9wcyxcclxuICBtYXBEaXNwYXRjaFRvUHJvcHMsXHJcbikod2l0aFN0eWxlcyhjb21iaW5lZFN0eWxlLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShJbkNhbGwpKVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZpZXdzL0luQ2FsbC5qcyIsImltcG9ydCBhZGREYXlzIGZyb20gJ2RhdGUtZm5zL2FkZERheXMnO1xuaW1wb3J0IGFkZE1vbnRocyBmcm9tICdkYXRlLWZucy9hZGRNb250aHMnO1xuaW1wb3J0IGFkZFllYXJzIGZyb20gJ2RhdGUtZm5zL2FkZFllYXJzJztcbmltcG9ydCBkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMgZnJvbSAnZGF0ZS1mbnMvZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzJztcbmltcG9ydCBlYWNoRGF5T2ZJbnRlcnZhbCBmcm9tICdkYXRlLWZucy9lYWNoRGF5T2ZJbnRlcnZhbCc7XG5pbXBvcnQgZW5kT2ZEYXkgZnJvbSAnZGF0ZS1mbnMvZW5kT2ZEYXknO1xuaW1wb3J0IGVuZE9mTW9udGggZnJvbSAnZGF0ZS1mbnMvZW5kT2ZNb250aCc7XG5pbXBvcnQgZW5kT2ZXZWVrIGZyb20gJ2RhdGUtZm5zL2VuZE9mV2Vlayc7XG5pbXBvcnQgZW5kT2ZZZWFyIGZyb20gJ2RhdGUtZm5zL2VuZE9mWWVhcic7XG5pbXBvcnQgZm9ybWF0IGZyb20gJ2RhdGUtZm5zL2Zvcm1hdCc7XG5pbXBvcnQgZ2V0SG91cnMgZnJvbSAnZGF0ZS1mbnMvZ2V0SG91cnMnO1xuaW1wb3J0IGdldFNlY29uZHMgZnJvbSAnZGF0ZS1mbnMvZ2V0U2Vjb25kcyc7XG5pbXBvcnQgZ2V0WWVhciBmcm9tICdkYXRlLWZucy9nZXRZZWFyJztcbmltcG9ydCBpc0FmdGVyIGZyb20gJ2RhdGUtZm5zL2lzQWZ0ZXInO1xuaW1wb3J0IGlzQmVmb3JlIGZyb20gJ2RhdGUtZm5zL2lzQmVmb3JlJztcbmltcG9ydCBpc0VxdWFsIGZyb20gJ2RhdGUtZm5zL2lzRXF1YWwnO1xuaW1wb3J0IGlzU2FtZURheSBmcm9tICdkYXRlLWZucy9pc1NhbWVEYXknO1xuaW1wb3J0IGlzVmFsaWQgZnJvbSAnZGF0ZS1mbnMvaXNWYWxpZCc7XG5pbXBvcnQgZGF0ZUZuc1BhcnNlIGZyb20gJ2RhdGUtZm5zL3BhcnNlJztcbmltcG9ydCBzZXRIb3VycyBmcm9tICdkYXRlLWZucy9zZXRIb3Vycyc7XG5pbXBvcnQgc2V0TWludXRlcyBmcm9tICdkYXRlLWZucy9zZXRNaW51dGVzJztcbmltcG9ydCBzZXRTZWNvbmRzIGZyb20gJ2RhdGUtZm5zL3NldFNlY29uZHMnO1xuaW1wb3J0IHNldFllYXIgZnJvbSAnZGF0ZS1mbnMvc2V0WWVhcic7XG5pbXBvcnQgc3RhcnRPZkRheSBmcm9tICdkYXRlLWZucy9zdGFydE9mRGF5JztcbmltcG9ydCBzdGFydE9mTW9udGggZnJvbSAnZGF0ZS1mbnMvc3RhcnRPZk1vbnRoJztcbmltcG9ydCBzdGFydE9mV2VlayBmcm9tICdkYXRlLWZucy9zdGFydE9mV2Vlayc7XG5pbXBvcnQgc3RhcnRPZlllYXIgZnJvbSAnZGF0ZS1mbnMvc3RhcnRPZlllYXInO1xuXG52YXIgRGF0ZUZuc1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGVGbnNVdGlscyhfYSkge1xuICAgICAgICB2YXIgbG9jYWxlID0gKF9hID09PSB2b2lkIDAgPyB7fSA6IF9hKS5sb2NhbGU7XG4gICAgICAgIHRoaXMuZGF0ZVRpbWUxMmhGb3JtYXQgPSBcIk1NTU0gZG8gaGg6bW0gYWFhYVwiO1xuICAgICAgICB0aGlzLmRhdGVUaW1lMjRoRm9ybWF0ID0gXCJNTU1NIGRvIEhIOm1tXCI7XG4gICAgICAgIHRoaXMudGltZTEyaEZvcm1hdCA9IFwiaGg6bW0gYVwiO1xuICAgICAgICB0aGlzLnRpbWUyNGhGb3JtYXQgPSBcIkhIOm1tXCI7XG4gICAgICAgIHRoaXMuZGF0ZUZvcm1hdCA9IFwiTU1NTSBkb1wiO1xuICAgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZTtcbiAgICB9XG4gICAgLy8gTm90ZTogZGF0ZS1mbnMgaW5wdXQgdHlwZXMgYXJlIG1vcmUgbGVuaWVudCB0aGFuIHRoaXMgYWRhcHRlciwgc28gd2UgbmVlZCB0byBleHBvc2Ugb3VyIG1vcmVcbiAgICAvLyAgc3RyaWN0IHNpZ25hdHVyZSBhbmQgZGVsZWdhdGUgdG8gdGhlIG1vcmUgbGVuaWVudCBzaWd0YXR1cmUuICBPdGhlcndpc2UsIHdlIGhhdmUgZG93bnN0cmVhbSB0eXBlIGVycm9ycyB1cG9uIHVzYWdlLlxuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuYWRkRGF5cyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGFkZERheXModmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNWYWxpZCh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERpZmYgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzKHZhbHVlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0FmdGVyID0gZnVuY3Rpb24gKHZhbHVlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGlzQWZ0ZXIodmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQmVmb3JlID0gZnVuY3Rpb24gKHZhbHVlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGlzQmVmb3JlKHZhbHVlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5zdGFydE9mRGF5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBzdGFydE9mRGF5KHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZW5kT2ZEYXkgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGVuZE9mRGF5KHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0SG91cnMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGdldEhvdXJzKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0SG91cnMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBzZXRIb3Vycyh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5zZXRNaW51dGVzID0gZnVuY3Rpb24gKHZhbHVlLCBjb3VudCkge1xuICAgICAgICByZXR1cm4gc2V0TWludXRlcyh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRTZWNvbmRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRTZWNvbmRzKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0U2Vjb25kcyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIHNldFNlY29uZHModmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNTYW1lRGF5ID0gZnVuY3Rpb24gKHZhbHVlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGlzU2FtZURheSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U3RhcnRPZk1vbnRoID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBzdGFydE9mTW9udGgodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRZZWFyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRZZWFyKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0WWVhciA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIHNldFllYXIodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXRTdHJpbmcpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0ZUZuc1BhcnNlKHZhbHVlLCBmb3JtYXRTdHJpbmcsIG5ldyBEYXRlKCkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoZGF0ZSwgZm9ybWF0U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgZm9ybWF0U3RyaW5nLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzRXF1YWwgPSBmdW5jdGlvbiAoZGF0ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIGlmIChkYXRlID09PSBudWxsICYmIGNvbXBhcmluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzRXF1YWwoZGF0ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNOdWxsID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUgPT09IG51bGw7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQWZ0ZXJEYXkgPSBmdW5jdGlvbiAoZGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzQWZ0ZXIoZGF0ZSwgZW5kT2ZEYXkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmVEYXkgPSBmdW5jdGlvbiAoZGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzQmVmb3JlKGRhdGUsIHN0YXJ0T2ZEYXkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmVZZWFyID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0JlZm9yZShkYXRlLCBzdGFydE9mWWVhcih2YWx1ZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0FmdGVyWWVhciA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNBZnRlcihkYXRlLCBlbmRPZlllYXIodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZm9ybWF0TnVtYmVyID0gZnVuY3Rpb24gKG51bWJlclRvRm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBudW1iZXJUb0Zvcm1hdDtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TWludXRlcyA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNZXJpZGllbVRleHQgPSBmdW5jdGlvbiAoYW1wbSkge1xuICAgICAgICByZXR1cm4gYW1wbSA9PT0gXCJhbVwiID8gXCJBTVwiIDogXCJQTVwiO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXROZXh0TW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gYWRkTW9udGhzKGRhdGUsIDEpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRQcmV2aW91c01vbnRoID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGFkZE1vbnRocyhkYXRlLCAtMSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLm1lcmdlRGF0ZUFuZFRpbWUgPSBmdW5jdGlvbiAoZGF0ZSwgdGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRNaW51dGVzKHRoaXMuc2V0SG91cnMoZGF0ZSwgdGhpcy5nZXRIb3Vycyh0aW1lKSksIHRoaXMuZ2V0TWludXRlcyh0aW1lKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFdlZWtkYXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIGVhY2hEYXlPZkludGVydmFsKHtcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydE9mV2Vlayhub3csIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KSxcbiAgICAgICAgICAgIGVuZDogZW5kT2ZXZWVrKG5vdywgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pXG4gICAgICAgIH0sIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KS5tYXAoZnVuY3Rpb24gKGRheSkgeyByZXR1cm4gZm9ybWF0KGRheSwgXCJFRUVFRUVcIiwgeyBsb2NhbGU6IF90aGlzLmxvY2FsZSB9KTsgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFdlZWtBcnJheSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHN0YXJ0T2ZXZWVrKHN0YXJ0T2ZNb250aChkYXRlKSwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgICAgICB2YXIgZW5kID0gZW5kT2ZXZWVrKGVuZE9mTW9udGgoZGF0ZSksIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzdGFydDtcbiAgICAgICAgdmFyIG5lc3RlZFdlZWtzID0gW107XG4gICAgICAgIHdoaWxlIChpc0JlZm9yZShjdXJyZW50LCBlbmQpKSB7XG4gICAgICAgICAgICB2YXIgd2Vla051bWJlciA9IE1hdGguZmxvb3IoY291bnQgLyA3KTtcbiAgICAgICAgICAgIG5lc3RlZFdlZWtzW3dlZWtOdW1iZXJdID0gbmVzdGVkV2Vla3Nbd2Vla051bWJlcl0gfHwgW107XG4gICAgICAgICAgICBuZXN0ZWRXZWVrc1t3ZWVrTnVtYmVyXS5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgY3VycmVudCA9IGFkZERheXMoY3VycmVudCwgMSk7XG4gICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXN0ZWRXZWVrcztcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhclJhbmdlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IHN0YXJ0T2ZZZWFyKHN0YXJ0KTtcbiAgICAgICAgdmFyIGVuZERhdGUgPSBlbmRPZlllYXIoZW5kKTtcbiAgICAgICAgdmFyIHllYXJzID0gW107XG4gICAgICAgIHZhciBjdXJyZW50ID0gc3RhcnREYXRlO1xuICAgICAgICB3aGlsZSAoaXNCZWZvcmUoY3VycmVudCwgZW5kRGF0ZSkpIHtcbiAgICAgICAgICAgIHllYXJzLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gYWRkWWVhcnMoY3VycmVudCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHllYXJzO1xuICAgIH07XG4gICAgLy8gZGlzcGxheWluZyBtZXRocGRzXG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRDYWxlbmRhckhlYWRlclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIFwiTU1NTSB5eXl5XCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIFwieXl5eVwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERhdGVQaWNrZXJIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcIkVFRSwgTU1NIGRcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXREYXRlVGltZVBpY2tlckhlYWRlclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIFwiTU1NIGRcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXREYXlUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcImRcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRIb3VyVGV4dCA9IGZ1bmN0aW9uIChkYXRlLCBhbXBtKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgYW1wbSA/IFwiaGhcIiA6IFwiSEhcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNaW51dGVUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcIm1tXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U2Vjb25kVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgXCJzc1wiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGF0ZUZuc1V0aWxzO1xufSgpKTtcblxuZXhwb3J0IGRlZmF1bHQgRGF0ZUZuc1V0aWxzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGRhdGUtaW8vZGF0ZS1mbnMvYnVpbGQvaW5kZXguZXNtLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDc2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IF9fZXh0ZW5kcywgX19hc3NpZ24sIF9fcmVzdCB9IGZyb20gJ3RzbGliJztcbmltcG9ydCB7IGZ1bmMsIG9uZU9mVHlwZSwgb2JqZWN0LCBzdHJpbmcsIGVsZW1lbnQsIGFycmF5T2YsIGJvb2wsIG5vZGUsIGFueSwgb25lT2YsIG51bWJlciwgaW5zdGFuY2VPZiwgc2hhcGUgfSBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIGNyZWF0ZUVsZW1lbnQsIENvbXBvbmVudCwgRnJhZ21lbnQsIFB1cmVDb21wb25lbnQsIGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTWFza2VkSW5wdXQgZnJvbSAncmVhY3QtdGV4dC1tYXNrJztcbmltcG9ydCBJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb24nO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvbic7XG5pbXBvcnQgSW5wdXRBZG9ybm1lbnQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSW5wdXRBZG9ybm1lbnQnO1xuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xuaW1wb3J0IERpYWxvZyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2cnO1xuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQWN0aW9ucyc7XG5pbXBvcnQgRGlhbG9nQ29udGVudCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dDb250ZW50JztcbmltcG9ydCB7IGNyZWF0ZVN0eWxlcywgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBFdmVudExpc3RlbmVyIGZyb20gJ3JlYWN0LWV2ZW50LWxpc3RlbmVyJztcbmltcG9ydCBrZXljb2RlIGZyb20gJ2tleWNvZGUnO1xuaW1wb3J0IGNyZWF0ZVN0eWxlcyQxIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcy9jcmVhdGVTdHlsZXMnO1xuaW1wb3J0IHdpdGhTdHlsZXMkMSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMvd2l0aFN0eWxlcyc7XG5pbXBvcnQgVG9vbGJhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Ub29sYmFyJztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwIH0gZnJvbSAncmVhY3QtdHJhbnNpdGlvbi1ncm91cCc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgUG9wb3ZlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Qb3BvdmVyJztcbmltcG9ydCBQYXBlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9QYXBlcic7XG5pbXBvcnQgd2l0aFRoZW1lIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcy93aXRoVGhlbWUnO1xuaW1wb3J0IFRhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UYWInO1xuaW1wb3J0IFRhYnMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGFicyc7XG5cbnZhciBfYSA9IGNyZWF0ZUNvbnRleHQobnVsbCksXG4gICAgQ29uc3VtZXIgPSBfYS5Db25zdW1lcixcbiAgICBQcm92aWRlciA9IF9hLlByb3ZpZGVyO1xuXG52YXIgTXVpUGlja2Vyc0NvbnRleHRDb25zdW1lciA9IENvbnN1bWVyO1xuXG52YXIgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHV0aWxzOiBudWxsXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgVXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgbG9jYWxlID0gX2EubG9jYWxlLFxuICAgICAgICBtb21lbnQgPSBfYS5tb21lbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHV0aWxzOiBuZXcgVXRpbHMoe1xuICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgbW9tZW50OiBtb21lbnRcbiAgICAgIH0pXG4gICAgfTtcbiAgfTtcblxuICBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZTogdGhpcy5zdGF0ZS51dGlscyxcbiAgICAgIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgfSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICAgIHV0aWxzOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgbG9jYWxlOiBvbmVPZlR5cGUoW29iamVjdCwgc3RyaW5nXSksXG4gICAgY2hpbGRyZW46IG9uZU9mVHlwZShbZWxlbWVudC5pc1JlcXVpcmVkLCBhcnJheU9mKGVsZW1lbnQuaXNSZXF1aXJlZCldKS5pc1JlcXVpcmVkLFxuICAgIG1vbWVudDogZnVuY1xuICB9IDogdm9pZCAwO1xuICBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbG9jYWxlOiB1bmRlZmluZWQsXG4gICAgbW9tZW50OiB1bmRlZmluZWRcbiAgfTtcbiAgcmV0dXJuIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyO1xufShDb21wb25lbnQpO1xuXG52YXIgY2hlY2tVdGlscyA9IGZ1bmN0aW9uICh1dGlscykge1xuICBpZiAoIXV0aWxzKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gbm90IGZpbmQgdXRpbHMgaW4gY29udGV4dC4gWW91IGVpdGhlciBhKSBmb3Jnb3QgdG8gd3JhcCB5b3VyIGNvbXBvbmVudCB0cmVlIGluIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyOyBvciBiKSBtaXhlZCBuYW1lZCBhbmQgZGlyZWN0IGZpbGUgaW1wb3J0cy4gIFJlY29tbWVuZGF0aW9uOiB1c2UgbmFtZWQgaW1wb3J0cyBmcm9tIHRoZSBtb2R1bGUgaW5kZXguJyk7XG4gIH1cbn07XG5cbnZhciB3aXRoVXRpbHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQ29tcG9uZW50JCQxKSB7XG4gICAgdmFyIFdpdGhVdGlscyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoTXVpUGlja2Vyc0NvbnRleHRDb25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKHV0aWxzKSB7XG4gICAgICAgIGNoZWNrVXRpbHModXRpbHMpO1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChDb21wb25lbnQkJDEsIF9fYXNzaWduKHtcbiAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgfSwgcHJvcHMpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBXaXRoVXRpbHMuZGlzcGxheU5hbWUgPSBcIldpdGhVdGlscyhcIiArIChDb21wb25lbnQkJDEuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50JCQxLm5hbWUpICsgXCIpXCI7XG4gICAgcmV0dXJuIFdpdGhVdGlscztcbiAgfTtcbn07XG5cbnZhciBnZXRJbml0aWFsRGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBfYS5pbml0aWFsRm9jdXNlZERhdGU7XG4gIHZhciBpbml0aWFsRGF0ZSA9IHZhbHVlIHx8IGluaXRpYWxGb2N1c2VkRGF0ZSB8fCB1dGlscy5kYXRlKCk7XG4gIHZhciBkYXRlID0gdXRpbHMuZGF0ZShpbml0aWFsRGF0ZSk7XG4gIHJldHVybiB1dGlscy5pc1ZhbGlkKGRhdGUpID8gZGF0ZSA6IHV0aWxzLmRhdGUoKTtcbn07XG5cbnZhciBCYXNlUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKEJhc2VQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQmFzZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgZGF0ZTogZ2V0SW5pdGlhbERhdGUoX3RoaXMucHJvcHMpLFxuICAgICAgaXNBY2NlcHRlZDogZmFsc2VcbiAgICB9O1xuXG4gICAgX3RoaXMuY2hhbmdlRGF0ZSA9IGZ1bmN0aW9uIChkYXRlLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0ZTogZGF0ZVxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSA9IGZ1bmN0aW9uIChpc0FjY2VwdGVkLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZFxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5vbkNoYW5nZShudWxsKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQWNjZXB0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9uQ2hhbmdlKF90aGlzLnN0YXRlLmRhdGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZXRUb2RheURhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnByb3BzLnV0aWxzLmRhdGUoKSwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2UgPSBfYS5tZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlO1xuXG4gICAgICBpZiAobWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZSkge1xuICAgICAgICBkYXRlID0gdXRpbHMubWVyZ2VEYXRlQW5kVGltZShfdGhpcy5zdGF0ZS5kYXRlLCBkYXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGUgPT09IG51bGwpIHtcbiAgICAgICAgb25DaGFuZ2UobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5jaGFuZ2VEYXRlKGRhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb25DaGFuZ2UoZGF0ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5waWNrMTJoT3IyNGhGb3JtYXQgPSBmdW5jdGlvbiAoZGVmYXVsdDEyaEZvcm1hdCwgZGVmYXVsdDI0aEZvcm1hdCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICAgIGFtcG0gPSBfYS5hbXBtO1xuXG4gICAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbXBtID8gZGVmYXVsdDEyaEZvcm1hdCA6IGRlZmF1bHQyNGhGb3JtYXQ7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChuZXdEYXRlLCBpc0ZpbmlzaCkge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBhdXRvT2sgPSBfYS5hdXRvT2ssXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZTtcblxuICAgICAgX3RoaXMuY2hhbmdlRGF0ZShuZXdEYXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0ZpbmlzaCAmJiBhdXRvT2spIHtcbiAgICAgICAgICBvbkNoYW5nZShuZXdEYXRlKTsgLy8gcGFzcyBkb3duIGFjY2VwdCB0cnVlLCBhbmQgbWFrZSBpdCBmYWxzZSBpbiB0aGUgbmV4dCB0aWNrXG5cbiAgICAgICAgICBfdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSh0cnVlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UoZmFsc2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRGlzbWlzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0ZTogZ2V0SW5pdGlhbERhdGUoX3RoaXMucHJvcHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQmFzZVBpY2tlci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IF9hLmluaXRpYWxGb2N1c2VkRGF0ZTtcblxuICAgIGlmIChwcmV2UHJvcHMudmFsdWUgIT09IHZhbHVlIHx8IHByZXZQcm9wcy51dGlscy5sb2NhbGUgIT09IHV0aWxzLmxvY2FsZSB8fCBwcmV2UHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlICE9PSBpbml0aWFsRm9jdXNlZERhdGUpIHtcbiAgICAgIHRoaXMuY2hhbmdlRGF0ZShnZXRJbml0aWFsRGF0ZSh0aGlzLnByb3BzKSk7XG4gICAgfVxuICB9O1xuXG4gIEJhc2VQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbihfX2Fzc2lnbih7fSwgdGhpcy5zdGF0ZSwge1xuICAgICAgdXRpbHM6IHRoaXMucHJvcHMudXRpbHMsXG4gICAgICBjaGFuZ2VEYXRlOiB0aGlzLmNoYW5nZURhdGUsXG4gICAgICBoYW5kbGVBY2NlcHRlZENoYW5nZTogdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSxcbiAgICAgIGhhbmRsZUNsZWFyOiB0aGlzLmhhbmRsZUNsZWFyLFxuICAgICAgaGFuZGxlQWNjZXB0OiB0aGlzLmhhbmRsZUFjY2VwdCxcbiAgICAgIGhhbmRsZURpc21pc3M6IHRoaXMuaGFuZGxlRGlzbWlzcyxcbiAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZTogdGhpcy5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2U6IHRoaXMuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgcGljazEyaE9yMjRoRm9ybWF0OiB0aGlzLnBpY2sxMmhPcjI0aEZvcm1hdCxcbiAgICAgIGhhbmRsZUNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VQaWNrZXI7XG59KENvbXBvbmVudCk7XG52YXIgQmFzZVBpY2tlciQxID0gd2l0aFV0aWxzKCkoQmFzZVBpY2tlcik7XG5cbnZhciBkYXRlID0gb25lT2ZUeXBlKFtvYmplY3QsIHN0cmluZywgbnVtYmVyLCBpbnN0YW5jZU9mKERhdGUpXSk7XG52YXIgRG9tYWluUHJvcFR5cGVzID0ge1xuICBkYXRlOiBkYXRlXG59O1xuXG52YXIgSW5wdXQgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoSW5wdXQsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gSW5wdXQoKSB7XG4gICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgSW5wdXQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBpbnB1dFJlZiA9IF9hLmlucHV0UmVmLFxuICAgICAgICBrZWVwQ2hhclBvc2l0aW9ucyA9IF9hLmtlZXBDaGFyUG9zaXRpb25zLFxuICAgICAgICByZXN0ID0gX19yZXN0KF9hLCBbXCJpbnB1dFJlZlwiLCBcImtlZXBDaGFyUG9zaXRpb25zXCJdKTtcblxuICAgIHJldHVybiB0aGlzLnByb3BzLm1hc2sgPyBjcmVhdGVFbGVtZW50KE1hc2tlZElucHV0LCBfX2Fzc2lnbih7fSwgcmVzdCwge1xuICAgICAga2VlcENoYXJQb3NpdGlvbnM6IGtlZXBDaGFyUG9zaXRpb25zLFxuICAgICAgcmVmOiBpbnB1dFJlZlxuICAgIH0pKSA6IGNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBfX2Fzc2lnbih7fSwgcmVzdCwge1xuICAgICAgcmVmOiBpbnB1dFJlZlxuICAgIH0pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBJbnB1dC5wcm9wVHlwZXMgPSB7XG4gICAgbWFzazogYW55LFxuICAgIGlucHV0UmVmOiBmdW5jLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgSW5wdXQuZGVmYXVsdFByb3BzID0ge1xuICAgIG1hc2s6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gSW5wdXQ7XG59KFB1cmVDb21wb25lbnQpO1xuXG52YXIgZ2V0RGlzcGxheURhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgaW52YWxpZExhYmVsID0gX2EuaW52YWxpZExhYmVsLFxuICAgICAgZW1wdHlMYWJlbCA9IF9hLmVtcHR5TGFiZWwsXG4gICAgICBsYWJlbEZ1bmMgPSBfYS5sYWJlbEZ1bmM7XG4gIHZhciBpc0VtcHR5ID0gdmFsdWUgPT09IG51bGw7XG4gIHZhciBkYXRlID0gdXRpbHMuZGF0ZSh2YWx1ZSk7XG5cbiAgaWYgKGxhYmVsRnVuYykge1xuICAgIHJldHVybiBsYWJlbEZ1bmMoaXNFbXB0eSA/IG51bGwgOiBkYXRlLCBpbnZhbGlkTGFiZWwpO1xuICB9XG5cbiAgaWYgKGlzRW1wdHkpIHtcbiAgICByZXR1cm4gZW1wdHlMYWJlbDtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc1ZhbGlkKGRhdGUpID8gdXRpbHMuZm9ybWF0KGRhdGUsIGZvcm1hdCkgOiBpbnZhbGlkTGFiZWw7XG59O1xuXG52YXIgZ2V0RXJyb3IgPSBmdW5jdGlvbiAodmFsdWUsIHByb3BzKSB7XG4gIHZhciB1dGlscyA9IHByb3BzLnV0aWxzLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIG1heERhdGVNZXNzYWdlID0gcHJvcHMubWF4RGF0ZU1lc3NhZ2UsXG4gICAgICBtaW5EYXRlTWVzc2FnZSA9IHByb3BzLm1pbkRhdGVNZXNzYWdlLFxuICAgICAgaW52YWxpZERhdGVNZXNzYWdlID0gcHJvcHMuaW52YWxpZERhdGVNZXNzYWdlO1xuXG4gIGlmICghdXRpbHMuaXNWYWxpZCh2YWx1ZSkpIHtcbiAgICAvLyBpZiBudWxsIC0gZG8gbm90IHNob3cgZXJyb3JcbiAgICBpZiAodXRpbHMuaXNOdWxsKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHJldHVybiBpbnZhbGlkRGF0ZU1lc3NhZ2U7XG4gIH1cblxuICBpZiAobWF4RGF0ZSAmJiB1dGlscy5pc0FmdGVyKHZhbHVlLCB1dGlscy5lbmRPZkRheSh1dGlscy5kYXRlKG1heERhdGUpKSkgfHwgZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyKHZhbHVlLCB1dGlscy5lbmRPZkRheSh1dGlscy5kYXRlKCkpKSkge1xuICAgIHJldHVybiBtYXhEYXRlTWVzc2FnZTtcbiAgfVxuXG4gIGlmIChtaW5EYXRlICYmIHV0aWxzLmlzQmVmb3JlKHZhbHVlLCB1dGlscy5zdGFydE9mRGF5KHV0aWxzLmRhdGUobWluRGF0ZSkpKSB8fCBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZSh2YWx1ZSwgdXRpbHMuc3RhcnRPZkRheSh1dGlscy5kYXRlKCkpKSkge1xuICAgIHJldHVybiBtaW5EYXRlTWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiAnJztcbn07XG5cbnZhciBEYXRlVGV4dEZpZWxkID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKERhdGVUZXh0RmllbGQsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVRleHRGaWVsZCgpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0gRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZShfdGhpcy5wcm9wcyk7XG5cbiAgICBfdGhpcy5jb21taXRVcGRhdGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlLFxuICAgICAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgICAgICBvbkNsZWFyID0gX2Eub25DbGVhcixcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBvbkVycm9yID0gX2Eub25FcnJvcjtcblxuICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICBpZiAoX3RoaXMucHJvcHMudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlKF90aGlzLnByb3BzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2xlYXJhYmxlICYmIG9uQ2xlYXIpIHtcbiAgICAgICAgICBvbkNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvbGRWYWx1ZSA9IHV0aWxzLmRhdGUoX3RoaXMuc3RhdGUudmFsdWUpO1xuICAgICAgdmFyIG5ld1ZhbHVlID0gdXRpbHMucGFyc2UodmFsdWUsIGZvcm1hdCk7XG4gICAgICB2YXIgZXJyb3IgPSBnZXRFcnJvcihuZXdWYWx1ZSwgX3RoaXMucHJvcHMpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgZGlzcGxheVZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdmFsdWU6IGVycm9yID8gbmV3VmFsdWUgOiBvbGRWYWx1ZVxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWVycm9yICYmICF1dGlscy5pc0VxdWFsKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICBvbkNoYW5nZShuZXdWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IgJiYgb25FcnJvcikge1xuICAgICAgICAgIG9uRXJyb3IobmV3VmFsdWUsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmtleWJvYXJkKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBfdGhpcy5jb21taXRVcGRhdGVzKGUudGFyZ2V0LnZhbHVlKTtcblxuICAgICAgICBpZiAoX3RoaXMucHJvcHMub25CbHVyKSB7XG4gICAgICAgICAgX3RoaXMucHJvcHMub25CbHVyKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBvbklucHV0Q2hhbmdlID0gX2Eub25JbnB1dENoYW5nZTtcbiAgICAgIHZhciBwYXJzZWRWYWx1ZSA9IHV0aWxzLnBhcnNlKGUudGFyZ2V0LnZhbHVlLCBmb3JtYXQpO1xuXG4gICAgICBpZiAob25JbnB1dENoYW5nZSkge1xuICAgICAgICBvbklucHV0Q2hhbmdlKGUpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpc3BsYXlWYWx1ZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgIGVycm9yOiBnZXRFcnJvcihwYXJzZWRWYWx1ZSwgX3RoaXMucHJvcHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKCFfdGhpcy5wcm9wcy5rZXlib2FyZCkge1xuICAgICAgICBfdGhpcy5vcGVuUGlja2VyKGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5wcm9wcy5kaXNhYmxlT3Blbk9uRW50ZXIpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuUGlja2VyKGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmUgVE9ETyBjaGVjayBtZVxuICAgICAgICAgIF90aGlzLmNvbW1pdFVwZGF0ZXMoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5QaWNrZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljaztcblxuICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXRlVGV4dEZpZWxkLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnV0aWxzLmlzRXF1YWwodGhpcy5wcm9wcy52YWx1ZSwgcHJldlByb3BzLnZhbHVlKSB8fCBwcmV2UHJvcHMuZm9ybWF0ICE9PSB0aGlzLnByb3BzLmZvcm1hdCB8fCBwcmV2UHJvcHMubWF4RGF0ZSAhPT0gdGhpcy5wcm9wcy5tYXhEYXRlIHx8IHByZXZQcm9wcy5taW5EYXRlICE9PSB0aGlzLnByb3BzLm1pbkRhdGUgfHwgcHJldlByb3BzLmVtcHR5TGFiZWwgIT09IHRoaXMucHJvcHMuZW1wdHlMYWJlbCB8fCBwcmV2UHJvcHMudXRpbHMgIT09IHRoaXMucHJvcHMudXRpbHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZSh0aGlzLnByb3BzKSk7XG4gICAgfVxuICB9O1xuXG4gIERhdGVUZXh0RmllbGQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBhZG9ybm1lbnRQb3NpdGlvbiA9IF9hLmFkb3JubWVudFBvc2l0aW9uLFxuICAgICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICBkaXNhYmxlT3Blbk9uRW50ZXIgPSBfYS5kaXNhYmxlT3Blbk9uRW50ZXIsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGVtcHR5TGFiZWwgPSBfYS5lbXB0eUxhYmVsLFxuICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgIElucHV0QWRvcm5tZW50UHJvcHMgPSBfYS5JbnB1dEFkb3JubWVudFByb3BzLFxuICAgICAgICBJbnB1dFByb3BzID0gX2EuSW5wdXRQcm9wcyxcbiAgICAgICAgaW52YWxpZERhdGVNZXNzYWdlID0gX2EuaW52YWxpZERhdGVNZXNzYWdlLFxuICAgICAgICBpbnZhbGlkTGFiZWwgPSBfYS5pbnZhbGlkTGFiZWwsXG4gICAgICAgIGtleWJvYXJkID0gX2Eua2V5Ym9hcmQsXG4gICAgICAgIGtleWJvYXJkSWNvbiA9IF9hLmtleWJvYXJkSWNvbixcbiAgICAgICAgbGFiZWxGdW5jID0gX2EubGFiZWxGdW5jLFxuICAgICAgICBtYXNrID0gX2EubWFzayxcbiAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgIG1heERhdGVNZXNzYWdlID0gX2EubWF4RGF0ZU1lc3NhZ2UsXG4gICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICBtaW5EYXRlTWVzc2FnZSA9IF9hLm1pbkRhdGVNZXNzYWdlLFxuICAgICAgICBvbkJsdXIgPSBfYS5vbkJsdXIsXG4gICAgICAgIG9uQ2xlYXIgPSBfYS5vbkNsZWFyLFxuICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcbiAgICAgICAgcGlwZSA9IF9hLnBpcGUsXG4gICAgICAgIGtlZXBDaGFyUG9zaXRpb25zID0gX2Eua2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIFRleHRGaWVsZENvbXBvbmVudCA9IF9hLlRleHRGaWVsZENvbXBvbmVudCxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgb25JbnB1dENoYW5nZSA9IF9hLm9uSW5wdXRDaGFuZ2UsXG4gICAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJhZG9ybm1lbnRQb3NpdGlvblwiLCBcImNsZWFyYWJsZVwiLCBcImRpc2FibGVkXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVPcGVuT25FbnRlclwiLCBcImRpc2FibGVQYXN0XCIsIFwiZW1wdHlMYWJlbFwiLCBcImZvcm1hdFwiLCBcIklucHV0QWRvcm5tZW50UHJvcHNcIiwgXCJJbnB1dFByb3BzXCIsIFwiaW52YWxpZERhdGVNZXNzYWdlXCIsIFwiaW52YWxpZExhYmVsXCIsIFwia2V5Ym9hcmRcIiwgXCJrZXlib2FyZEljb25cIiwgXCJsYWJlbEZ1bmNcIiwgXCJtYXNrXCIsIFwibWF4RGF0ZVwiLCBcIm1heERhdGVNZXNzYWdlXCIsIFwibWluRGF0ZVwiLCBcIm1pbkRhdGVNZXNzYWdlXCIsIFwib25CbHVyXCIsIFwib25DbGVhclwiLCBcIm9uQ2xpY2tcIiwgXCJwaXBlXCIsIFwia2VlcENoYXJQb3NpdGlvbnNcIiwgXCJUZXh0RmllbGRDb21wb25lbnRcIiwgXCJ1dGlsc1wiLCBcInZhbHVlXCIsIFwib25JbnB1dENoYW5nZVwiXSk7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnN0YXRlLFxuICAgICAgICBkaXNwbGF5VmFsdWUgPSBfYi5kaXNwbGF5VmFsdWUsXG4gICAgICAgIGVycm9yID0gX2IuZXJyb3I7XG4gICAgdmFyIGxvY2FsSW5wdXRQcm9wcyA9IHtcbiAgICAgIGlucHV0Q29tcG9uZW50OiBJbnB1dCxcbiAgICAgIGlucHV0UHJvcHM6IHtcbiAgICAgICAgbWFzazogIWtleWJvYXJkID8gbnVsbCA6IG1hc2ssXG4gICAgICAgIHBpcGU6ICFrZXlib2FyZCA/IG51bGwgOiBwaXBlLFxuICAgICAgICBrZWVwQ2hhclBvc2l0aW9uczogIWtleWJvYXJkID8gdW5kZWZpbmVkIDoga2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIHJlYWRPbmx5OiAha2V5Ym9hcmRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGtleWJvYXJkKSB7XG4gICAgICBsb2NhbElucHV0UHJvcHNbYWRvcm5tZW50UG9zaXRpb24gKyBcIkFkb3JubWVudFwiXSA9IGNyZWF0ZUVsZW1lbnQoSW5wdXRBZG9ybm1lbnQsIF9fYXNzaWduKHtcbiAgICAgICAgcG9zaXRpb246IGFkb3JubWVudFBvc2l0aW9uXG4gICAgICB9LCBJbnB1dEFkb3JubWVudFByb3BzKSwgY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7XG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgb25DbGljazogdGhpcy5vcGVuUGlja2VyXG4gICAgICB9LCBjcmVhdGVFbGVtZW50KEljb24sIG51bGwsIFwiIFwiLCBrZXlib2FyZEljb24sIFwiIFwiKSkpO1xuICAgIH1cblxuICAgIHZhciBDb21wb25lbnQkJDEgPSBUZXh0RmllbGRDb21wb25lbnQ7XG5cbiAgICB2YXIgaW5wdXRQcm9wcyA9IF9fYXNzaWduKHt9LCBsb2NhbElucHV0UHJvcHMsIElucHV0UHJvcHMpO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50JCQxLCBfX2Fzc2lnbih7XG4gICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUZvY3VzLFxuICAgICAgZXJyb3I6ICEhZXJyb3IsXG4gICAgICBoZWxwZXJUZXh0OiBlcnJvcixcbiAgICAgIG9uS2V5UHJlc3M6IHRoaXMuaGFuZGxlS2V5UHJlc3MsXG4gICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlQmx1cixcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIHZhbHVlOiBkaXNwbGF5VmFsdWVcbiAgICB9LCBvdGhlciwge1xuICAgICAgb25FcnJvcjogdW5kZWZpbmVkLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgSW5wdXRQcm9wczogaW5wdXRQcm9wc1xuICAgIH0pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlVGV4dEZpZWxkLnByb3BUeXBlcyA9IHtcbiAgICB2YWx1ZTogb25lT2ZUeXBlKFtvYmplY3QsIHN0cmluZywgbnVtYmVyLCBpbnN0YW5jZU9mKERhdGUpXSksXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBmb3JtYXQ6IHN0cmluZyxcbiAgICBvbkJsdXI6IGZ1bmMsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIG9uQ2xpY2s6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjbGVhcmFibGU6IGJvb2wsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVkOiBib29sLFxuICAgIElucHV0UHJvcHM6IHNoYXBlKHt9KSxcbiAgICBtYXNrOiBhbnksXG4gICAgbWluRGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgbWF4RGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgaW52YWxpZExhYmVsOiBzdHJpbmcsXG4gICAgZW1wdHlMYWJlbDogc3RyaW5nLFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBrZXlib2FyZDogYm9vbCxcbiAgICBrZXlib2FyZEljb246IG5vZGUsXG4gICAgZGlzYWJsZU9wZW5PbkVudGVyOiBib29sLFxuICAgIGludmFsaWREYXRlTWVzc2FnZTogbm9kZSxcbiAgICBUZXh0RmllbGRDb21wb25lbnQ6IG9uZU9mVHlwZShbc3RyaW5nLCBmdW5jXSksXG4gICAgSW5wdXRBZG9ybm1lbnRQcm9wczogb2JqZWN0LFxuICAgIGFkb3JubWVudFBvc2l0aW9uOiBvbmVPZihbJ3N0YXJ0JywgJ2VuZCddKSxcbiAgICBvbkVycm9yOiBmdW5jLFxuICAgIG9uSW5wdXRDaGFuZ2U6IGZ1bmMsXG4gICAgcGlwZTogZnVuYyxcbiAgICBrZWVwQ2hhclBvc2l0aW9uczogYm9vbFxuICB9IDogdm9pZCAwO1xuICBEYXRlVGV4dEZpZWxkLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgaW52YWxpZExhYmVsOiAnVW5rbm93bicsXG4gICAgZW1wdHlMYWJlbDogJycsXG4gICAgdmFsdWU6IG5ldyBEYXRlKCksXG4gICAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gICAgZm9ybWF0OiB1bmRlZmluZWQsXG4gICAgSW5wdXRQcm9wczogdW5kZWZpbmVkLFxuICAgIGtleWJvYXJkOiBmYWxzZSxcbiAgICBtYXNrOiB1bmRlZmluZWQsXG4gICAga2V5Ym9hcmRJY29uOiAnZXZlbnQnLFxuICAgIGRpc2FibGVPcGVuT25FbnRlcjogZmFsc2UsXG4gICAgaW52YWxpZERhdGVNZXNzYWdlOiAnSW52YWxpZCBEYXRlIEZvcm1hdCcsXG4gICAgY2xlYXJhYmxlOiBmYWxzZSxcbiAgICBvbkJsdXI6IHVuZGVmaW5lZCxcbiAgICBvbkNsZWFyOiB1bmRlZmluZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICAgIG9uRXJyb3I6IHVuZGVmaW5lZCxcbiAgICBvbklucHV0Q2hhbmdlOiB1bmRlZmluZWQsXG4gICAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICAgIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgICBtaW5EYXRlTWVzc2FnZTogJ0RhdGUgc2hvdWxkIG5vdCBiZSBiZWZvcmUgbWluaW1hbCBkYXRlJyxcbiAgICBtYXhEYXRlTWVzc2FnZTogJ0RhdGUgc2hvdWxkIG5vdCBiZSBhZnRlciBtYXhpbWFsIGRhdGUnLFxuICAgIFRleHRGaWVsZENvbXBvbmVudDogVGV4dEZpZWxkLFxuICAgIElucHV0QWRvcm5tZW50UHJvcHM6IHt9LFxuICAgIGFkb3JubWVudFBvc2l0aW9uOiAnZW5kJyxcbiAgICBwaXBlOiB1bmRlZmluZWQsXG4gICAga2VlcENoYXJQb3NpdGlvbnM6IGZhbHNlXG4gIH07XG5cbiAgRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgICBkaXNwbGF5VmFsdWU6IGdldERpc3BsYXlEYXRlKHByb3BzKSxcbiAgICAgIGVycm9yOiBnZXRFcnJvcihwcm9wcy51dGlscy5kYXRlKHByb3BzLnZhbHVlKSwgcHJvcHMpXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gRGF0ZVRleHRGaWVsZDtcbn0oUHVyZUNvbXBvbmVudCk7XG5cbnZhciBEYXRlVGV4dEZpZWxkJDEgPSB3aXRoVXRpbHMoKShEYXRlVGV4dEZpZWxkKTtcblxudmFyIE1vZGFsRGlhbG9nID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBvbktleURvd24gPSBfYS5vbktleURvd24sXG4gICAgICBvbkFjY2VwdCA9IF9hLm9uQWNjZXB0LFxuICAgICAgb25EaXNtaXNzID0gX2Eub25EaXNtaXNzLFxuICAgICAgb25DbGVhciA9IF9hLm9uQ2xlYXIsXG4gICAgICBvblNldFRvZGF5ID0gX2Eub25TZXRUb2RheSxcbiAgICAgIG9rTGFiZWwgPSBfYS5va0xhYmVsLFxuICAgICAgY2FuY2VsTGFiZWwgPSBfYS5jYW5jZWxMYWJlbCxcbiAgICAgIGNsZWFyTGFiZWwgPSBfYS5jbGVhckxhYmVsLFxuICAgICAgdG9kYXlMYWJlbCA9IF9hLnRvZGF5TGFiZWwsXG4gICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICBzaG93VG9kYXlCdXR0b24gPSBfYS5zaG93VG9kYXlCdXR0b24sXG4gICAgICBzaG93VGFicyA9IF9hLnNob3dUYWJzLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3Nlc1wiLCBcIm9uS2V5RG93blwiLCBcIm9uQWNjZXB0XCIsIFwib25EaXNtaXNzXCIsIFwib25DbGVhclwiLCBcIm9uU2V0VG9kYXlcIiwgXCJva0xhYmVsXCIsIFwiY2FuY2VsTGFiZWxcIiwgXCJjbGVhckxhYmVsXCIsIFwidG9kYXlMYWJlbFwiLCBcImNsZWFyYWJsZVwiLCBcInNob3dUb2RheUJ1dHRvblwiLCBcInNob3dUYWJzXCJdKTtcblxuICB2YXIgX2IsIF9jLCBfZDtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChEaWFsb2csIF9fYXNzaWduKHtcbiAgICByb2xlOiBcImRpYWxvZ1wiLFxuICAgIG9uQ2xvc2U6IG9uRGlzbWlzcyxcbiAgICBjbGFzc2VzOiB7XG4gICAgICBwYXBlcjogY2xhc3NuYW1lcyhjbGFzc2VzLmRpYWxvZ1Jvb3QsIChfYiA9IHt9LCBfYltjbGFzc2VzLmRpYWxvZ1dpdGhUYWJzXSA9IHNob3dUYWJzLCBfYikpXG4gICAgfVxuICB9LCBvdGhlciksIGNyZWF0ZUVsZW1lbnQoRXZlbnRMaXN0ZW5lciwge1xuICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICBvbktleURvd246IG9uS2V5RG93blxuICB9KSwgY3JlYXRlRWxlbWVudChEaWFsb2dDb250ZW50LCB7XG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLmRpYWxvZywgKF9jID0ge30sIF9jW2NsYXNzZXMuZGlhbG9nV2l0aFRhYnNdID0gc2hvd1RhYnMsIF9jKSlcbiAgfSksIGNyZWF0ZUVsZW1lbnQoRGlhbG9nQWN0aW9ucywge1xuICAgIGNsYXNzZXM6IHtcbiAgICAgIHJvb3Q6IGNsZWFyYWJsZSB8fCBzaG93VG9kYXlCdXR0b24gPyBjbGFzc2VzLmRpYWxvZ0FjdGlvbnMgOiB1bmRlZmluZWQsXG4gICAgICBhY3Rpb246IGNsYXNzbmFtZXMoY2xhc3Nlcy5kaWFsb2dBY3Rpb24sIChfZCA9IHt9LCBfZFtjbGFzc2VzLmNsZWFyYWJsZURpYWxvZ0FjdGlvbl0gPSBjbGVhcmFibGUsIF9kW2NsYXNzZXMudG9kYXlEaWFsb2dBY3Rpb25dID0gIWNsZWFyYWJsZSAmJiBzaG93VG9kYXlCdXR0b24sIF9kKSlcbiAgICB9XG4gIH0sIGNsZWFyYWJsZSAmJiBjcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkNsZWFyXG4gIH0sIGNsZWFyTGFiZWwpLCAhY2xlYXJhYmxlICYmIHNob3dUb2RheUJ1dHRvbiAmJiBjcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvblNldFRvZGF5XG4gIH0sIHRvZGF5TGFiZWwpLCBjcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkRpc21pc3NcbiAgfSwgY2FuY2VsTGFiZWwpLCBjcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkFjY2VwdFxuICB9LCBva0xhYmVsKSkpO1xufTtcbk1vZGFsRGlhbG9nLmRpc3BsYXlOYW1lID0gJ01vZGFsRGlhbG9nJztcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IE1vZGFsRGlhbG9nLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgb25LZXlEb3duOiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uQWNjZXB0OiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uRGlzbWlzczogZnVuYy5pc1JlcXVpcmVkLFxuICBvbkNsZWFyOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBva0xhYmVsOiBub2RlLmlzUmVxdWlyZWQsXG4gIGNhbmNlbExhYmVsOiBub2RlLmlzUmVxdWlyZWQsXG4gIGNsZWFyTGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xlYXJhYmxlOiBib29sLmlzUmVxdWlyZWQsXG4gIHRvZGF5TGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgc2hvd1RvZGF5QnV0dG9uOiBib29sLmlzUmVxdWlyZWQsXG4gIG9uU2V0VG9kYXk6IGZ1bmMuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcbnZhciBkaWFsb2dXaWR0aCA9IDMxMDtcbnZhciBkaWFsb2dIZWlnaHQgPSA0MDU7XG52YXIgZGlhbG9nSGVpZ2h0V2l0aFRhYnMgPSA0NTU7XG52YXIgc3R5bGVzID0gY3JlYXRlU3R5bGVzKHtcbiAgZGlhbG9nUm9vdDoge1xuICAgIG1pbldpZHRoOiBkaWFsb2dXaWR0aCxcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodFxuICB9LFxuICBkaWFsb2c6IHtcbiAgICB3aWR0aDogZGlhbG9nV2lkdGgsXG4gICAgbWluSGVpZ2h0OiBkaWFsb2dIZWlnaHQsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfSxcbiAgZGlhbG9nV2l0aFRhYnM6IHtcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodFdpdGhUYWJzXG4gIH0sXG4gIGRpYWxvZ0FjdGlvbnM6IHtcbiAgICAvLyBzZXQganVzdGlmeUNvbnRlbnQgdG8gZGVmYXVsdCB2YWx1ZSB0byBmaXggSUUxMSBsYXlvdXQgYnVnXG4gICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kbXRyS292YWxlbmtvL21hdGVyaWFsLXVpLXBpY2tlcnMvcHVsbC8yNjdcbiAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnXG4gIH0sXG4gIGNsZWFyYWJsZURpYWxvZ0FjdGlvbjoge1xuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgbWFyZ2luUmlnaHQ6ICdhdXRvJ1xuICAgIH1cbiAgfSxcbiAgdG9kYXlEaWFsb2dBY3Rpb246IHtcbiAgICAnJjpmaXJzdC1jaGlsZCc6IHtcbiAgICAgIG1hcmdpblJpZ2h0OiAnYXV0bydcbiAgICB9XG4gIH0sXG4gIGRpYWxvZ0FjdGlvbjogey8vIGVtcHR5IGJ1dCBtYXkgYmUgbmVlZGVkIGZvciBvdmVycmlkZVxuICB9XG59KTtcbnZhciBNb2RhbERpYWxvZyQxID0gd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNNb2RhbCdcbn0pKE1vZGFsRGlhbG9nKTtcblxudmFyIE1vZGFsV3JhcHBlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhNb2RhbFdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gTW9kYWxXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKGtleWNvZGUoZXZlbnQpKSB7XG4gICAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgICBfdGhpcy5oYW5kbGVBY2NlcHQoKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gaWYga2V5Y29kZSBpcyBub3QgaGFuZGxlZCwgc3RvcCBleGVjdXRpb25cbiAgICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGlmIGV2ZW50IHdhcyBoYW5kbGVkIHByZXZlbnQgb3RoZXIgc2lkZSBlZmZlY3RzXG5cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU2V0VG9kYXlEYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uU2V0VG9kYXkpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25TZXRUb2RheSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uT3Blbikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk9wZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xvc2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVBY2NlcHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25BY2NlcHQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25BY2NlcHQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRGlzbWlzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlKCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkRpc21pc3MpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25EaXNtaXNzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xlYXIpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DbGVhcigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBNb2RhbFdyYXBwZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xuICAgIC8vIG9ubHkgaWYgYWNjZXB0ID0gdHJ1ZSBjbG9zZSB0aGUgZGlhbG9nXG4gICAgaWYgKG5leHRQcm9wcy5pc0FjY2VwdGVkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBNb2RhbFdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgIG9uQWNjZXB0ID0gX2Eub25BY2NlcHQsXG4gICAgICAgIG9uRGlzbWlzcyA9IF9hLm9uRGlzbWlzcyxcbiAgICAgICAgaW52YWxpZExhYmVsID0gX2EuaW52YWxpZExhYmVsLFxuICAgICAgICBsYWJlbEZ1bmMgPSBfYS5sYWJlbEZ1bmMsXG4gICAgICAgIG9rTGFiZWwgPSBfYS5va0xhYmVsLFxuICAgICAgICBjYW5jZWxMYWJlbCA9IF9hLmNhbmNlbExhYmVsLFxuICAgICAgICBjbGVhckxhYmVsID0gX2EuY2xlYXJMYWJlbCxcbiAgICAgICAgY2xlYXJhYmxlID0gX2EuY2xlYXJhYmxlLFxuICAgICAgICB0b2RheUxhYmVsID0gX2EudG9kYXlMYWJlbCxcbiAgICAgICAgc2hvd1RvZGF5QnV0dG9uID0gX2Euc2hvd1RvZGF5QnV0dG9uLFxuICAgICAgICBvbk9wZW4gPSBfYS5vbk9wZW4sXG4gICAgICAgIG9uQ2xvc2UgPSBfYS5vbkNsb3NlLFxuICAgICAgICBvblNldFRvZGF5ID0gX2Eub25TZXRUb2RheSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIERpYWxvZ1Byb3BzID0gX2EuRGlhbG9nUHJvcHMsXG4gICAgICAgIHNob3dUYWJzID0gX2Euc2hvd1RhYnMsXG4gICAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImNoaWxkcmVuXCIsIFwib25BY2NlcHRcIiwgXCJvbkRpc21pc3NcIiwgXCJpbnZhbGlkTGFiZWxcIiwgXCJsYWJlbEZ1bmNcIiwgXCJva0xhYmVsXCIsIFwiY2FuY2VsTGFiZWxcIiwgXCJjbGVhckxhYmVsXCIsIFwiY2xlYXJhYmxlXCIsIFwidG9kYXlMYWJlbFwiLCBcInNob3dUb2RheUJ1dHRvblwiLCBcIm9uT3BlblwiLCBcIm9uQ2xvc2VcIiwgXCJvblNldFRvZGF5XCIsIFwiaXNBY2NlcHRlZFwiLCBcIkRpYWxvZ1Byb3BzXCIsIFwic2hvd1RhYnNcIl0pO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGNyZWF0ZUVsZW1lbnQoRGF0ZVRleHRGaWVsZCQxLCBfX2Fzc2lnbih7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbixcbiAgICAgIC8vIG9uRm9jdXM9e3RoaXMudG9nZ2xlUGlja2VyfSA8LSBDdXJyZW50bHkgbm90IHByb3Blcmx5IHdvcmtzIHdpdGggLmJsdXIoKSBvbiBUZXh0RmllbGRcbiAgICAgIGludmFsaWRMYWJlbDogaW52YWxpZExhYmVsLFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBjbGVhcmFibGU6IGNsZWFyYWJsZVxuICAgIH0sIG90aGVyKSksIGNyZWF0ZUVsZW1lbnQoTW9kYWxEaWFsb2ckMSwgX19hc3NpZ24oe1xuICAgICAgc2hvd1RhYnM6IHNob3dUYWJzLFxuICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuLFxuICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXG4gICAgICBvbkNsZWFyOiB0aGlzLmhhbmRsZUNsZWFyLFxuICAgICAgb25BY2NlcHQ6IHRoaXMuaGFuZGxlQWNjZXB0LFxuICAgICAgb25EaXNtaXNzOiB0aGlzLmhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiB0aGlzLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIGNsZWFyTGFiZWw6IGNsZWFyTGFiZWwsXG4gICAgICB0b2RheUxhYmVsOiB0b2RheUxhYmVsLFxuICAgICAgb2tMYWJlbDogb2tMYWJlbCxcbiAgICAgIGNhbmNlbExhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgIGNsZWFyYWJsZTogY2xlYXJhYmxlLFxuICAgICAgc2hvd1RvZGF5QnV0dG9uOiBzaG93VG9kYXlCdXR0b24sXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9LCBEaWFsb2dQcm9wcykpKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBNb2RhbFdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgIG9rTGFiZWw6IG5vZGUsXG4gICAgY2FuY2VsTGFiZWw6IG5vZGUsXG4gICAgY2xlYXJMYWJlbDogbm9kZSxcbiAgICBjbGVhcmFibGU6IGJvb2wsXG4gICAgdG9kYXlMYWJlbDogc3RyaW5nLFxuICAgIHNob3dUb2RheUJ1dHRvbjogYm9vbCxcbiAgICBvbk9wZW46IGZ1bmMsXG4gICAgZm9ybWF0OiBzdHJpbmcsXG4gICAgRGlhbG9nUHJvcHM6IG9iamVjdCxcbiAgICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgaW52YWxpZExhYmVsOiBub2RlLFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBvbkNsb3NlOiBmdW5jLFxuICAgIG9uQWNjZXB0OiBmdW5jLFxuICAgIG9uRGlzbWlzczogZnVuYyxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIG9uU2V0VG9kYXk6IGZ1bmMsXG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBpc0FjY2VwdGVkOiBib29sLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgTW9kYWxXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpbnZhbGlkTGFiZWw6IHVuZGVmaW5lZCxcbiAgICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgICBva0xhYmVsOiAnT0snLFxuICAgIGNhbmNlbExhYmVsOiAnQ2FuY2VsJyxcbiAgICBjbGVhckxhYmVsOiAnQ2xlYXInLFxuICAgIHRvZGF5TGFiZWw6ICdUb2RheScsXG4gICAgY2xlYXJhYmxlOiBmYWxzZSxcbiAgICBzaG93VG9kYXlCdXR0b246IGZhbHNlLFxuICAgIGZvcm1hdDogdW5kZWZpbmVkLFxuICAgIG9uQWNjZXB0OiB1bmRlZmluZWQsXG4gICAgb25EaXNtaXNzOiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIG9uT3BlbjogdW5kZWZpbmVkLFxuICAgIG9uQ2xvc2U6IHVuZGVmaW5lZCxcbiAgICBvblNldFRvZGF5OiB1bmRlZmluZWQsXG4gICAgRGlhbG9nUHJvcHM6IHVuZGVmaW5lZCxcbiAgICBpc0FjY2VwdGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gTW9kYWxXcmFwcGVyO1xufShQdXJlQ29tcG9uZW50KTtcblxudmFyIFBpY2tlclRvb2xiYXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImNsYXNzZXNcIl0pO1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFRvb2xiYXIsIF9fYXNzaWduKHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy50b29sYmFyLCBjbGFzc05hbWUpXG4gIH0sIG90aGVyKSwgY2hpbGRyZW4pO1xufTtcblxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gUGlja2VyVG9vbGJhci5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBhcnJheU9mKG5vZGUpLmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxuICBjbGFzc2VzOiBhbnkuaXNSZXF1aXJlZCxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcblBpY2tlclRvb2xiYXIuZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnXG59O1xudmFyIHN0eWxlcyQxID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBoZWlnaHQ6IDEwMCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS50eXBlID09PSAnbGlnaHQnID8gdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmRbXCJkZWZhdWx0XCJdXG4gICAgfVxuICB9KTtcbn07XG52YXIgUGlja2VyVG9vbGJhciQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQxLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzVG9vbGJhcidcbn0pKFBpY2tlclRvb2xiYXIpO1xuXG52YXIgVG9vbGJhckJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBzZWxlY3RlZCA9IF9hLnNlbGVjdGVkLFxuICAgICAgbGFiZWwgPSBfYS5sYWJlbCxcbiAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJjbGFzc2VzXCIsIFwic2VsZWN0ZWRcIiwgXCJsYWJlbFwiLCBcImNsYXNzTmFtZVwiXSk7XG5cbiAgdmFyIF9iO1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIF9fYXNzaWduKHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy50b29sYmFyQnRuLCBjbGFzc05hbWUsIChfYiA9IHt9LCBfYltjbGFzc2VzLnRvb2xiYXJCdG5TZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2IpKVxuICB9LCBvdGhlciksIGxhYmVsKTtcbn07XG5cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRvb2xiYXJCdXR0b24ucHJvcFR5cGVzID0ge1xuICBzZWxlY3RlZDogYm9vbC5pc1JlcXVpcmVkLFxuICBsYWJlbDogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IGFueS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcblRvb2xiYXJCdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnXG59O1xudmFyIHN0eWxlcyQyID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdG9vbGJhckJ0bjoge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41NCknXG4gICAgfSxcbiAgICB0b29sYmFyQnRuU2VsZWN0ZWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZVxuICAgIH1cbiAgfTtcbn07XG52YXIgVG9vbGJhckJ1dHRvbiQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQyLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzVG9vbGJhckJ1dHRvbidcbn0pKFRvb2xiYXJCdXR0b24pO1xuXG52YXIgZmluZENsb3Nlc3RFbmFibGVkRGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX2Euc2hvdWxkRGlzYWJsZURhdGU7XG4gIHZhciB0b2RheSA9IHV0aWxzLnN0YXJ0T2ZEYXkodXRpbHMuZGF0ZSgpKTtcbiAgbWluRGF0ZSA9IG1pbkRhdGUgJiYgdXRpbHMuZGF0ZShtaW5EYXRlKTtcbiAgbWF4RGF0ZSA9IG1heERhdGUgJiYgdXRpbHMuZGF0ZShtYXhEYXRlKTtcblxuICBpZiAoZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNCZWZvcmUobWluRGF0ZSwgdG9kYXkpKSB7XG4gICAgbWluRGF0ZSA9IHRvZGF5O1xuICB9XG5cbiAgaWYgKGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNBZnRlcihtYXhEYXRlLCB0b2RheSkpIHtcbiAgICBtYXhEYXRlID0gdG9kYXk7XG4gIH1cblxuICB2YXIgZm9yd2FyZCA9IHV0aWxzLmRhdGUoZGF0ZSk7XG4gIHZhciBiYWNrd2FyZCA9IHV0aWxzLmRhdGUoZGF0ZSk7XG5cbiAgaWYgKHV0aWxzLmlzQmVmb3JlKGRhdGUsIG1pbkRhdGUpKSB7XG4gICAgZm9yd2FyZCA9IG1pbkRhdGU7XG4gICAgYmFja3dhcmQgPSBudWxsO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzQWZ0ZXIoZGF0ZSwgbWF4RGF0ZSkpIHtcbiAgICBpZiAoYmFja3dhcmQpIHtcbiAgICAgIGJhY2t3YXJkID0gbWF4RGF0ZTtcbiAgICB9XG5cbiAgICBmb3J3YXJkID0gbnVsbDtcbiAgfVxuXG4gIHdoaWxlIChmb3J3YXJkIHx8IGJhY2t3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQgJiYgdXRpbHMuaXNBZnRlcihmb3J3YXJkLCBtYXhEYXRlKSkge1xuICAgICAgZm9yd2FyZCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGJhY2t3YXJkICYmIHV0aWxzLmlzQmVmb3JlKGJhY2t3YXJkLCBtaW5EYXRlKSkge1xuICAgICAgYmFja3dhcmQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICBpZiAoIXNob3VsZERpc2FibGVEYXRlKGZvcndhcmQpKSB7XG4gICAgICAgIHJldHVybiBmb3J3YXJkO1xuICAgICAgfVxuXG4gICAgICBmb3J3YXJkID0gdXRpbHMuYWRkRGF5cyhmb3J3YXJkLCAxKTtcbiAgICB9XG5cbiAgICBpZiAoYmFja3dhcmQpIHtcbiAgICAgIGlmICghc2hvdWxkRGlzYWJsZURhdGUoYmFja3dhcmQpKSB7XG4gICAgICAgIHJldHVybiBiYWNrd2FyZDtcbiAgICAgIH1cblxuICAgICAgYmFja3dhcmQgPSB1dGlscy5hZGREYXlzKGJhY2t3YXJkLCAtMSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgYW5pbWF0aW9uRHVyYXRpb24gPSAzNTA7XG5cbnZhciBTbGlkZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgIHRyYW5zS2V5ID0gX2EudHJhbnNLZXksXG4gICAgICBzbGlkZURpcmVjdGlvbiA9IF9hLnNsaWRlRGlyZWN0aW9uO1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChUcmFuc2l0aW9uR3JvdXAsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy50cmFuc2l0aW9uQ29udGFpbmVyLCBjbGFzc05hbWUpXG4gIH0sIGNyZWF0ZUVsZW1lbnQoQ1NTVHJhbnNpdGlvbiwge1xuICAgIGtleTogdHJhbnNLZXksXG4gICAgbW91bnRPbkVudGVyOiB0cnVlLFxuICAgIHVubW91bnRPbkV4aXQ6IHRydWUsXG4gICAgdGltZW91dDogYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZXM6IHtcbiAgICAgIGVudGVyOiBjbGFzc2VzW1wic2xpZGVFbnRlci1cIiArIHNsaWRlRGlyZWN0aW9uXSxcbiAgICAgIGVudGVyQWN0aXZlOiBjbGFzc2VzLnNsaWRlRW50ZXJBY3RpdmUsXG4gICAgICBleGl0OiBjbGFzc2VzLnNsaWRlRXhpdCxcbiAgICAgIGV4aXRBY3RpdmU6IGNsYXNzZXNbXCJzbGlkZUV4aXRBY3RpdmVMZWZ0LVwiICsgc2xpZGVEaXJlY3Rpb25dXG4gICAgfVxuICB9KSk7XG59O1xuXG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBTbGlkZVRyYW5zaXRpb24ucHJvcFR5cGVzID0ge1xuICBjbGFzc2VzOiBzaGFwZSh7fSkuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIHNsaWRlRGlyZWN0aW9uOiBvbmVPZihbJ2xlZnQnLCAncmlnaHQnXSkuaXNSZXF1aXJlZCxcbiAgdHJhbnNLZXk6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuU2xpZGVUcmFuc2l0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiB1bmRlZmluZWRcbn07XG52YXIgc3R5bGVzJDMgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgdmFyIHNsaWRlVHJhbnNpdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgndHJhbnNmb3JtJywge1xuICAgIGR1cmF0aW9uOiBhbmltYXRpb25EdXJhdGlvbixcbiAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoMC4zNSwgMC44LCAwLjQsIDEpJ1xuICB9KTtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICB0cmFuc2l0aW9uQ29udGFpbmVyOiB7XG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAnJiA+IConOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBsZWZ0OiAwXG4gICAgICB9XG4gICAgfSxcbiAgICAnc2xpZGVFbnRlci1sZWZ0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMTAwJSknXG4gICAgfSxcbiAgICAnc2xpZGVFbnRlci1yaWdodCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0xMDAlKSdcbiAgICB9LFxuICAgIHNsaWRlRW50ZXJBY3RpdmU6IHtcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwJSknLFxuICAgICAgdHJhbnNpdGlvbjogc2xpZGVUcmFuc2l0aW9uXG4gICAgfSxcbiAgICBzbGlkZUV4aXQ6IHtcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwJSknXG4gICAgfSxcbiAgICAnc2xpZGVFeGl0QWN0aXZlTGVmdC1sZWZ0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTIwMCUpJyxcbiAgICAgIHRyYW5zaXRpb246IHNsaWRlVHJhbnNpdGlvblxuICAgIH0sXG4gICAgJ3NsaWRlRXhpdEFjdGl2ZUxlZnQtcmlnaHQnOiB7XG4gICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgyMDAlKScsXG4gICAgICB0cmFuc2l0aW9uOiBzbGlkZVRyYW5zaXRpb25cbiAgICB9XG4gIH0pO1xufTtcbnZhciBTbGlkZVRyYW5zaXRpb24kMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkMywge1xuICBuYW1lOiAnTXVpUGlja2Vyc1NsaWRlVHJhbnNpdGlvbidcbn0pKFNsaWRlVHJhbnNpdGlvbik7XG5cbnZhciBDYWxlbmRhckhlYWRlciA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICB0aGVtZSA9IF9hLnRoZW1lLFxuICAgICAgY3VycmVudE1vbnRoID0gX2EuY3VycmVudE1vbnRoLFxuICAgICAgb25Nb250aENoYW5nZSA9IF9hLm9uTW9udGhDaGFuZ2UsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gX2EubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gX2EucmlnaHRBcnJvd0ljb24sXG4gICAgICBkaXNhYmxlUHJldk1vbnRoID0gX2EuZGlzYWJsZVByZXZNb250aCxcbiAgICAgIGRpc2FibGVOZXh0TW9udGggPSBfYS5kaXNhYmxlTmV4dE1vbnRoLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIHNsaWRlRGlyZWN0aW9uID0gX2Euc2xpZGVEaXJlY3Rpb247XG4gIHZhciBydGwgPSB0aGVtZS5kaXJlY3Rpb24gPT09ICdydGwnO1xuXG4gIHZhciBzZWxlY3ROZXh0TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG9uTW9udGhDaGFuZ2UodXRpbHMuZ2V0TmV4dE1vbnRoKGN1cnJlbnRNb250aCksICdsZWZ0Jyk7XG4gIH07XG5cbiAgdmFyIHNlbGVjdFByZXZpb3VzTW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG9uTW9udGhDaGFuZ2UodXRpbHMuZ2V0UHJldmlvdXNNb250aChjdXJyZW50TW9udGgpLCAncmlnaHQnKTtcbiAgfTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3dpdGNoSGVhZGVyXG4gIH0sIGNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwge1xuICAgIGRpc2FibGVkOiBkaXNhYmxlUHJldk1vbnRoLFxuICAgIG9uQ2xpY2s6IHNlbGVjdFByZXZpb3VzTW9udGgsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmljb25CdXR0b25cbiAgfSwgY3JlYXRlRWxlbWVudChJY29uLCBudWxsLCBydGwgPyByaWdodEFycm93SWNvbiA6IGxlZnRBcnJvd0ljb24pKSwgY3JlYXRlRWxlbWVudChTbGlkZVRyYW5zaXRpb24kMSwge1xuICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvbixcbiAgICB0cmFuc0tleTogY3VycmVudE1vbnRoLnRvU3RyaW5nKCksXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zaXRpb25Db250YWluZXJcbiAgfSwgY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgdmFyaWFudDogXCJib2R5MVwiXG4gIH0sIHV0aWxzLmdldENhbGVuZGFySGVhZGVyVGV4dChjdXJyZW50TW9udGgpKSksIGNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwge1xuICAgIGRpc2FibGVkOiBkaXNhYmxlTmV4dE1vbnRoLFxuICAgIG9uQ2xpY2s6IHNlbGVjdE5leHRNb250aCxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbkJ1dHRvblxuICB9LCBjcmVhdGVFbGVtZW50KEljb24sIG51bGwsIHJ0bCA/IGxlZnRBcnJvd0ljb24gOiByaWdodEFycm93SWNvbikpKSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmRheXNIZWFkZXJcbiAgfSwgdXRpbHMuZ2V0V2Vla2RheXMoKS5tYXAoZnVuY3Rpb24gKGRheSwgaW5kZXgpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgICBrZXk6IGluZGV4LFxuICAgICAgdmFyaWFudDogXCJjYXB0aW9uXCIsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZGF5TGFiZWxcbiAgICB9LCBkYXkpO1xuICB9KSkpO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENhbGVuZGFySGVhZGVyLnByb3BUeXBlcyA9IHtcbiAgY3VycmVudE1vbnRoOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgb25Nb250aENoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgZGlzYWJsZVByZXZNb250aDogYm9vbCxcbiAgZGlzYWJsZU5leHRNb250aDogYm9vbCxcbiAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBzbGlkZURpcmVjdGlvbjogb25lT2YoWydyaWdodCcsICdsZWZ0J10pLmlzUmVxdWlyZWQsXG4gIGlubmVyUmVmOiBhbnlcbn0gOiB2b2lkIDA7XG5DYWxlbmRhckhlYWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGxlZnRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19sZWZ0JyxcbiAgcmlnaHRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19yaWdodCcsXG4gIGRpc2FibGVQcmV2TW9udGg6IGZhbHNlLFxuICBkaXNhYmxlTmV4dE1vbnRoOiBmYWxzZVxufTtcbnZhciBzdHlsZXMkNCA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIHN3aXRjaEhlYWRlcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nLnVuaXQgLyAyLFxuICAgICAgbWFyZ2luQm90dG9tOiB0aGVtZS5zcGFjaW5nLnVuaXRcbiAgICB9LFxuICAgIHRyYW5zaXRpb25Db250YWluZXI6IHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6IDIwXG4gICAgfSxcbiAgICBpY29uQnV0dG9uOiB7XG4gICAgICB6SW5kZXg6IDIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcixcbiAgICAgICcmID4gKic6IHtcbiAgICAgICAgLy8gbGFiZWxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQucGFwZXIsXG4gICAgICAgICcmID4gKic6IHtcbiAgICAgICAgICAvLyBpY29uXG4gICAgICAgICAgekluZGV4OiAxLFxuICAgICAgICAgIG92ZXJmbG93OiAndmlzaWJsZSdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGF5c0hlYWRlcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBtYXhIZWlnaHQ6IDE2XG4gICAgfSxcbiAgICBkYXlMYWJlbDoge1xuICAgICAgd2lkdGg6IDM2LFxuICAgICAgbWFyZ2luOiAnMCAycHgnLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuaGludFxuICAgIH1cbiAgfSk7XG59O1xudmFyIENhbGVuZGFySGVhZGVyJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJDQsIHtcbiAgd2l0aFRoZW1lOiB0cnVlLFxuICBuYW1lOiAnTXVpUGlja2Vyc0NhbGVuZGFySGVhZGVyJ1xufSkod2l0aFV0aWxzKCkoQ2FsZW5kYXJIZWFkZXIpKTtcblxudmFyIERheSA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhEYXksIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF5KCkge1xuICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIERheS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX2IuY2hpbGRyZW4sXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBkaXNhYmxlZCA9IF9iLmRpc2FibGVkLFxuICAgICAgICBoaWRkZW4gPSBfYi5oaWRkZW4sXG4gICAgICAgIGN1cnJlbnQgPSBfYi5jdXJyZW50LFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBvdGhlciA9IF9fcmVzdChfYiwgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc2VzXCIsIFwiZGlzYWJsZWRcIiwgXCJoaWRkZW5cIiwgXCJjdXJyZW50XCIsIFwic2VsZWN0ZWRcIl0pO1xuXG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzbmFtZXMoY2xhc3Nlcy5kYXksIChfYSA9IHt9LCBfYVtjbGFzc2VzLmhpZGRlbl0gPSBoaWRkZW4sIF9hW2NsYXNzZXMuY3VycmVudF0gPSBjdXJyZW50LCBfYVtjbGFzc2VzLnNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYVtjbGFzc2VzLmRpc2FibGVkXSA9IGRpc2FibGVkLCBfYSkpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEljb25CdXR0b24sIF9fYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgdGFiSW5kZXg6IGhpZGRlbiB8fCBkaXNhYmxlZCA/IC0xIDogMFxuICAgIH0sIG90aGVyKSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERheS5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjdXJyZW50OiBib29sLFxuICAgIGRpc2FibGVkOiBib29sLFxuICAgIGhpZGRlbjogYm9vbCxcbiAgICBzZWxlY3RlZDogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIERheS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIGhpZGRlbjogZmFsc2UsXG4gICAgY3VycmVudDogZmFsc2UsXG4gICAgc2VsZWN0ZWQ6IGZhbHNlXG4gIH07XG4gIHJldHVybiBEYXk7XG59KFB1cmVDb21wb25lbnQpO1xuXG52YXIgc3R5bGVzJDUgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICBkYXk6IHtcbiAgICAgIHdpZHRoOiAzNixcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5jYXB0aW9uLmZvbnRTaXplLFxuICAgICAgbWFyZ2luOiAnMCAycHgnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5wcmltYXJ5LFxuICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0TWVkaXVtLFxuICAgICAgcGFkZGluZzogMFxuICAgIH0sXG4gICAgaGlkZGVuOiB7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gICAgfSxcbiAgICBjdXJyZW50OiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBmb250V2VpZ2h0OiA2MDBcbiAgICB9LFxuICAgIHNlbGVjdGVkOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0TWVkaXVtLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICAgIH1cbiAgICB9LFxuICAgIGRpc2FibGVkOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LmhpbnRcbiAgICB9XG4gIH0pO1xufTtcbnZhciBEYXkkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkNSwge1xuICBuYW1lOiAnTXVpUGlja2Vyc0RheSdcbn0pKERheSk7XG5cbnZhciBEYXlXcmFwcGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKERheVdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF5V3JhcHBlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvcHMub25TZWxlY3QoX3RoaXMucHJvcHMudmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXlXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgZGF5SW5DdXJyZW50TW9udGggPSBfYS5kYXlJbkN1cnJlbnRNb250aCxcbiAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgb25TZWxlY3QgPSBfYS5vblNlbGVjdCxcbiAgICAgICAgb3RoZXIgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwidmFsdWVcIiwgXCJkYXlJbkN1cnJlbnRNb250aFwiLCBcImRpc2FibGVkXCIsIFwib25TZWxlY3RcIl0pO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe1xuICAgICAgb25DbGljazogZGF5SW5DdXJyZW50TW9udGggJiYgIWRpc2FibGVkID8gdGhpcy5oYW5kbGVDbGljayA6IHVuZGVmaW5lZCxcbiAgICAgIG9uS2V5UHJlc3M6IGRheUluQ3VycmVudE1vbnRoICYmICFkaXNhYmxlZCA/IHRoaXMuaGFuZGxlQ2xpY2sgOiB1bmRlZmluZWQsXG4gICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiXG4gICAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF5V3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBkYXlJbkN1cnJlbnRNb250aDogYm9vbCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBvblNlbGVjdDogZnVuYy5pc1JlcXVpcmVkLFxuICAgIHZhbHVlOiBhbnkuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuICBEYXlXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkYXlJbkN1cnJlbnRNb250aDogdHJ1ZSxcbiAgICBkaXNhYmxlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIERheVdyYXBwZXI7XG59KFB1cmVDb21wb25lbnQpO1xuXG52YXIgQ2FsZW5kYXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQ2FsZW5kYXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNsaWRlRGlyZWN0aW9uOiAnbGVmdCcsXG4gICAgICBjdXJyZW50TW9udGg6IF90aGlzLnByb3BzLnV0aWxzLmdldFN0YXJ0T2ZNb250aChfdGhpcy5wcm9wcy5kYXRlKVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkRhdGVTZWxlY3QgPSBmdW5jdGlvbiAoZGF5LCBpc0ZpbmlzaCkge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh1dGlscy5tZXJnZURhdGVBbmRUaW1lKGRheSwgZGF0ZSksIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlTW9udGggPSBmdW5jdGlvbiAobmV3TW9udGgsIHNsaWRlRGlyZWN0aW9uKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRNb250aDogbmV3TW9udGgsXG4gICAgICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvblxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnZhbGlkYXRlTWluTWF4RGF0ZSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICByZXR1cm4gbWluRGF0ZSAmJiB1dGlscy5pc0JlZm9yZURheShkYXksIHV0aWxzLmRhdGUobWluRGF0ZSkpIHx8IG1heERhdGUgJiYgdXRpbHMuaXNBZnRlckRheShkYXksIHV0aWxzLmRhdGUobWF4RGF0ZSkpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlUHJldk1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0LFxuICAgICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiAhdXRpbHMuaXNCZWZvcmUodXRpbHMuZ2V0U3RhcnRPZk1vbnRoKGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQWZ0ZXIobm93LCBtaW5EYXRlKSA/IG5vdyA6IHV0aWxzLmRhdGUobWluRGF0ZSkpLCBfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlTmV4dE1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZTtcbiAgICAgIHZhciBub3cgPSB1dGlscy5kYXRlKCk7XG4gICAgICByZXR1cm4gIXV0aWxzLmlzQWZ0ZXIodXRpbHMuZ2V0U3RhcnRPZk1vbnRoKGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNCZWZvcmUobm93LCBtYXhEYXRlKSA/IG5vdyA6IHV0aWxzLmRhdGUobWF4RGF0ZSkpLCBfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlRGF0ZSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBfYS5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyRGF5KGRheSwgdXRpbHMuZGF0ZSgpKSB8fCBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZURheShkYXksIHV0aWxzLmRhdGUoKSkgfHwgX3RoaXMudmFsaWRhdGVNaW5NYXhEYXRlKGRheSkgfHwgc2hvdWxkRGlzYWJsZURhdGUgJiYgc2hvdWxkRGlzYWJsZURhdGUoZGF5KSk7XG4gICAgfTtcblxuICAgIF90aGlzLm1vdmVUb0RheSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIGlmIChkYXkgJiYgIV90aGlzLnNob3VsZERpc2FibGVEYXRlKGRheSkpIHtcbiAgICAgICAgX3RoaXMub25EYXRlU2VsZWN0KGRheSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0aGVtZSA9IF9hLnRoZW1lLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG5cbiAgICAgIHN3aXRjaCAoa2V5Y29kZShldmVudCkpIHtcbiAgICAgICAgY2FzZSAndXAnOlxuICAgICAgICAgIF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIC03KSk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdkb3duJzpcbiAgICAgICAgICBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCA3KSk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICB0aGVtZS5kaXJlY3Rpb24gPT09ICdsdHInID8gX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgLTEpKSA6IF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIDEpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgdGhlbWUuZGlyZWN0aW9uID09PSAnbHRyJyA/IF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIDEpKSA6IF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIC0xKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBrZXljb2RlIGlzIG5vdCBoYW5kbGVkLCBzdG9wIGV4ZWN1dGlvblxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gaWYgZXZlbnQgd2FzIGhhbmRsZWQgcHJldmVudCBvdGhlciBzaWRlIGVmZmVjdHMgKGUuZy4gcGFnZSBzY3JvbGwpXG5cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmVuZGVyV2Vla3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdXRpbHMgPSBfdGhpcy5wcm9wcy51dGlscztcbiAgICAgIHZhciBjdXJyZW50TW9udGggPSBfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGg7XG4gICAgICB2YXIgd2Vla3MgPSB1dGlscy5nZXRXZWVrQXJyYXkoY3VycmVudE1vbnRoKTtcbiAgICAgIHJldHVybiB3ZWVrcy5tYXAoZnVuY3Rpb24gKHdlZWspIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGtleTogXCJ3ZWVrLVwiICsgd2Vla1swXS50b1N0cmluZygpLFxuICAgICAgICAgIGNsYXNzTmFtZTogX3RoaXMucHJvcHMuY2xhc3Nlcy53ZWVrXG4gICAgICAgIH0sIF90aGlzLnJlbmRlckRheXMod2VlaykpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnJlbmRlckRheXMgPSBmdW5jdGlvbiAod2Vlaykge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgcmVuZGVyRGF5ID0gX2EucmVuZGVyRGF5LFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgc2VsZWN0ZWREYXRlID0gdXRpbHMuc3RhcnRPZkRheShkYXRlKTtcbiAgICAgIHZhciBjdXJyZW50TW9udGhOdW1iZXIgPSB1dGlscy5nZXRNb250aChfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiB3ZWVrLm1hcChmdW5jdGlvbiAoZGF5KSB7XG4gICAgICAgIHZhciBkaXNhYmxlZCA9IF90aGlzLnNob3VsZERpc2FibGVEYXRlKGRheSk7XG5cbiAgICAgICAgdmFyIGRheUluQ3VycmVudE1vbnRoID0gdXRpbHMuZ2V0TW9udGgoZGF5KSA9PT0gY3VycmVudE1vbnRoTnVtYmVyO1xuICAgICAgICB2YXIgZGF5Q29tcG9uZW50ID0gY3JlYXRlRWxlbWVudChEYXkkMSwge1xuICAgICAgICAgIGN1cnJlbnQ6IHV0aWxzLmlzU2FtZURheShkYXksIG5vdyksXG4gICAgICAgICAgaGlkZGVuOiAhZGF5SW5DdXJyZW50TW9udGgsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIHNlbGVjdGVkOiB1dGlscy5pc1NhbWVEYXkoc2VsZWN0ZWREYXRlLCBkYXkpXG4gICAgICAgIH0sIHV0aWxzLmdldERheVRleHQoZGF5KSk7XG5cbiAgICAgICAgaWYgKHJlbmRlckRheSkge1xuICAgICAgICAgIGRheUNvbXBvbmVudCA9IHJlbmRlckRheShkYXksIHNlbGVjdGVkRGF0ZSwgZGF5SW5DdXJyZW50TW9udGgsIGRheUNvbXBvbmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChEYXlXcmFwcGVyLCB7XG4gICAgICAgICAga2V5OiBkYXkudG9TdHJpbmcoKSxcbiAgICAgICAgICB2YWx1ZTogZGF5LFxuICAgICAgICAgIGRheUluQ3VycmVudE1vbnRoOiBkYXlJbkN1cnJlbnRNb250aCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgb25TZWxlY3Q6IF90aGlzLm9uRGF0ZVNlbGVjdFxuICAgICAgICB9LCBkYXlDb21wb25lbnQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIENhbGVuZGFyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMsIHN0YXRlKSB7XG4gICAgaWYgKCFuZXh0UHJvcHMudXRpbHMuaXNFcXVhbChuZXh0UHJvcHMuZGF0ZSwgc3RhdGUubGFzdERhdGUpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXN0RGF0ZTogbmV4dFByb3BzLmRhdGUsXG4gICAgICAgIGN1cnJlbnRNb250aDogbmV4dFByb3BzLnV0aWxzLmdldFN0YXJ0T2ZNb250aChuZXh0UHJvcHMuZGF0ZSlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgQ2FsZW5kYXIucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICBtaW5EYXRlID0gX2EubWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3Q7XG5cbiAgICBpZiAodGhpcy5zaG91bGREaXNhYmxlRGF0ZShkYXRlKSkge1xuICAgICAgdmFyIGNsb3Nlc3RFbmFibGVkRGF0ZSA9IGZpbmRDbG9zZXN0RW5hYmxlZERhdGUoe1xuICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICB1dGlsczogdXRpbHMsXG4gICAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICAgIGRpc2FibGVQYXN0OiBCb29sZWFuKGRpc2FibGVQYXN0KSxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZTogQm9vbGVhbihkaXNhYmxlUGFzdCksXG4gICAgICAgIHNob3VsZERpc2FibGVEYXRlOiB0aGlzLnNob3VsZERpc2FibGVEYXRlXG4gICAgICB9KTtcbiAgICAgIHRoaXMub25EYXRlU2VsZWN0KGNsb3Nlc3RFbmFibGVkRGF0ZSB8fCBtaW5EYXRlLCBmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIENhbGVuZGFyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgY3VycmVudE1vbnRoID0gX2EuY3VycmVudE1vbnRoLFxuICAgICAgICBzbGlkZURpcmVjdGlvbiA9IF9hLnNsaWRlRGlyZWN0aW9uO1xuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IF9iLmFsbG93S2V5Ym9hcmRDb250cm9sO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBhbGxvd0tleWJvYXJkQ29udHJvbCAmJiBjcmVhdGVFbGVtZW50KEV2ZW50TGlzdGVuZXIsIHtcbiAgICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoQ2FsZW5kYXJIZWFkZXIkMSwge1xuICAgICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uLFxuICAgICAgY3VycmVudE1vbnRoOiBjdXJyZW50TW9udGgsXG4gICAgICBvbk1vbnRoQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZU1vbnRoLFxuICAgICAgbGVmdEFycm93SWNvbjogdGhpcy5wcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb246IHRoaXMucHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBkaXNhYmxlUHJldk1vbnRoOiB0aGlzLnNob3VsZERpc2FibGVQcmV2TW9udGgoKSxcbiAgICAgIGRpc2FibGVOZXh0TW9udGg6IHRoaXMuc2hvdWxkRGlzYWJsZU5leHRNb250aCgpXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoU2xpZGVUcmFuc2l0aW9uJDEsIHtcbiAgICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvbixcbiAgICAgIHRyYW5zS2V5OiBjdXJyZW50TW9udGgudG9TdHJpbmcoKSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50cmFuc2l0aW9uQ29udGFpbmVyXG4gICAgfSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAvLyBAdHMtaWdub3JlIEF1dG9mb2N1cyByZXF1aXJlZCBmb3IgZ2V0dGluZyB3b3JrIGtleWJvYXJkIG5hdmlnYXRpb24gZmVhdHVyZVxuICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgfSwgdGhpcy5yZW5kZXJXZWVrcygpKSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENhbGVuZGFyLnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgICByZW5kZXJEYXk6IGZ1bmMsXG4gICAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENhbGVuZGFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gICAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBsZWZ0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmlnaHRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogZmFsc2UsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBDYWxlbmRhcjtcbn0oQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkNiA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHRyYW5zaXRpb25Db250YWluZXI6IHtcbiAgICAgIG1pbkhlaWdodDogMzYgKiA2LFxuICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAxLjVcbiAgICB9LFxuICAgIHdlZWs6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICAgIH1cbiAgfTtcbn07XG52YXIgQ2FsZW5kYXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkNiwge1xuICBuYW1lOiAnTXVpUGlja2Vyc0NhbGVuZGFyJyxcbiAgd2l0aFRoZW1lOiB0cnVlXG59KSh3aXRoVXRpbHMoKShDYWxlbmRhcikpO1xuXG52YXIgWWVhciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhZZWFyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFllYXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uU2VsZWN0KF90aGlzLnByb3BzLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgWWVhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBkaXNhYmxlZCA9IF9iLmRpc2FibGVkLFxuICAgICAgICB2YWx1ZSA9IF9iLnZhbHVlLFxuICAgICAgICBjaGlsZHJlbiA9IF9iLmNoaWxkcmVuLFxuICAgICAgICBvdGhlciA9IF9fcmVzdChfYiwgW1wiY2xhc3Nlc1wiLCBcInNlbGVjdGVkXCIsIFwiZGlzYWJsZWRcIiwgXCJ2YWx1ZVwiLCBcImNoaWxkcmVuXCJdKTtcblxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIF9fYXNzaWduKHtcbiAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICBjb21wb25lbnQ6IFwiZGl2XCIsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy5yb290LCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy5zZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2FbY2xhc3Nlcy5kaXNhYmxlZF0gPSBkaXNhYmxlZCwgX2EpKSxcbiAgICAgIHRhYkluZGV4OiBkaXNhYmxlZCA/IC0xIDogMCxcbiAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2ssXG4gICAgICBvbktleVByZXNzOiB0aGlzLmhhbmRsZUNsaWNrLFxuICAgICAgY29sb3I6IHNlbGVjdGVkID8gJ3ByaW1hcnknIDogJ2RlZmF1bHQnLFxuICAgICAgdmFyaWFudDogc2VsZWN0ZWQgPyAnaDUnIDogJ3N1YnRpdGxlMSdcbiAgICB9LCBvdGhlciksIGNoaWxkcmVuKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBZZWFyLnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVkOiBib29sLFxuICAgIG9uU2VsZWN0OiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgc2VsZWN0ZWQ6IGJvb2wsXG4gICAgdmFsdWU6IGFueS5pc1JlcXVpcmVkLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgWWVhci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgIGRpc2FibGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gWWVhcjtcbn0oUHVyZUNvbXBvbmVudCk7XG52YXIgc3R5bGVzJDcgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICByb290OiB7XG4gICAgICBoZWlnaHQ6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDUsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0TWVkaXVtXG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgbWFyZ2luOiAnMTBweCAwJyxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bVxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuaGludFxuICAgIH1cbiAgfSk7XG59O1xudmFyIFllYXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkNywge1xuICBuYW1lOiAnTXVpUGlja2Vyc1llYXInXG59KShZZWFyKTtcblxudmFyIFllYXJTZWxlY3Rpb24gPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoWWVhclNlbGVjdGlvbiwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBZZWFyU2VsZWN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc2VsZWN0ZWRZZWFyUmVmID0gdW5kZWZpbmVkO1xuXG4gICAgX3RoaXMuZ2V0U2VsZWN0ZWRZZWFyUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuc2VsZWN0ZWRZZWFyUmVmID0gcmVmO1xuICAgIH07XG5cbiAgICBfdGhpcy5zY3JvbGxUb0N1cnJlbnRZZWFyID0gZnVuY3Rpb24gKGRvbU5vZGUpIHtcbiAgICAgIHZhciBhbmltYXRlWWVhclNjcm9sbGluZyA9IF90aGlzLnByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nO1xuICAgICAgdmFyIGN1cnJlbnRZZWFyRWxlbWVudCA9IGZpbmRET01Ob2RlKGRvbU5vZGUpO1xuXG4gICAgICBpZiAoY3VycmVudFllYXJFbGVtZW50ICYmIGN1cnJlbnRZZWFyRWxlbWVudC5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICBpZiAoYW5pbWF0ZVllYXJTY3JvbGxpbmcpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50WWVhckVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudFllYXJFbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25ZZWFyU2VsZWN0ID0gZnVuY3Rpb24gKHllYXIpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciBuZXdEYXRlID0gdXRpbHMuc2V0WWVhcihkYXRlLCB5ZWFyKTtcbiAgICAgIG9uQ2hhbmdlKG5ld0RhdGUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBZZWFyU2VsZWN0aW9uLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZFllYXJSZWYpIHtcbiAgICAgIHRoaXMuc2Nyb2xsVG9DdXJyZW50WWVhcih0aGlzLnNlbGVjdGVkWWVhclJlZik7XG4gICAgfVxuICB9O1xuXG4gIFllYXJTZWxlY3Rpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgIHZhciBjdXJyZW50WWVhciA9IHV0aWxzLmdldFllYXIoZGF0ZSk7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhaW5lclxuICAgIH0sIHV0aWxzLmdldFllYXJSYW5nZShtaW5EYXRlLCBtYXhEYXRlKS5tYXAoZnVuY3Rpb24gKHllYXIpIHtcbiAgICAgIHZhciB5ZWFyTnVtYmVyID0gdXRpbHMuZ2V0WWVhcih5ZWFyKTtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHllYXJOdW1iZXIgPT09IGN1cnJlbnRZZWFyO1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoWWVhciQxLCB7XG4gICAgICAgIGtleTogdXRpbHMuZ2V0WWVhclRleHQoeWVhciksXG4gICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCxcbiAgICAgICAgdmFsdWU6IHllYXJOdW1iZXIsXG4gICAgICAgIG9uU2VsZWN0OiBfdGhpcy5vblllYXJTZWxlY3QsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmVmOiBzZWxlY3RlZCA/IF90aGlzLmdldFNlbGVjdGVkWWVhclJlZiA6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlWWVhcih5ZWFyLCB1dGlscy5kYXRlKCkpIHx8IGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNBZnRlclllYXIoeWVhciwgdXRpbHMuZGF0ZSgpKVxuICAgICAgfSwgdXRpbHMuZ2V0WWVhclRleHQoeWVhcikpO1xuICAgIH0pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBZZWFyU2VsZWN0aW9uLnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBzaGFwZSh7fSkuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgWWVhclNlbGVjdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlXG4gIH07XG4gIHJldHVybiBZZWFyU2VsZWN0aW9uO1xufShQdXJlQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkOCA9IGNyZWF0ZVN0eWxlcyQxKHtcbiAgY29udGFpbmVyOiB7XG4gICAgbWF4SGVpZ2h0OiAzMDAsXG4gICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXG4gIH1cbn0pO1xudmFyIFllYXJTZWxlY3Rpb24kMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkOCwge1xuICBuYW1lOiAnTXVpUGlja2Vyc1llYXJTZWxlY3Rpb24nXG59KSh3aXRoVXRpbHMoKShZZWFyU2VsZWN0aW9uKSk7XG5cbnZhciBEYXRlUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKERhdGVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd1llYXJTZWxlY3Rpb246IEJvb2xlYW4oX3RoaXMucHJvcHMub3BlblRvWWVhclNlbGVjdGlvbilcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlWWVhclNlbGVjdCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShkYXRlLCBmYWxzZSk7XG5cbiAgICAgIF90aGlzLm9wZW5DYWxlbmRhcigpO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuWWVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd1llYXJTZWxlY3Rpb246IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuQ2FsZW5kYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3dZZWFyU2VsZWN0aW9uOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRlUGlja2VyLnByb3RvdHlwZSwgXCJkYXRlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmRhdGU7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXIucHJvdG90eXBlLCBcIm1pbkRhdGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMudXRpbHMuZGF0ZSh0aGlzLnByb3BzLm1pbkRhdGUpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRlUGlja2VyLnByb3RvdHlwZSwgXCJtYXhEYXRlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnV0aWxzLmRhdGUodGhpcy5wcm9wcy5tYXhEYXRlKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hvd1llYXJTZWxlY3Rpb24gPSB0aGlzLnN0YXRlLnNob3dZZWFyU2VsZWN0aW9uO1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlLFxuICAgICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IF9hLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgICBsZWZ0QXJyb3dJY29uID0gX2EubGVmdEFycm93SWNvbixcbiAgICAgICAgcmlnaHRBcnJvd0ljb24gPSBfYS5yaWdodEFycm93SWNvbixcbiAgICAgICAgcmVuZGVyRGF5ID0gX2EucmVuZGVyRGF5LFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9hLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IF9hLmFsbG93S2V5Ym9hcmRDb250cm9sO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBjcmVhdGVFbGVtZW50KFBpY2tlclRvb2xiYXIkMSwgbnVsbCwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5ZZWFyU2VsZWN0aW9uLFxuICAgICAgc2VsZWN0ZWQ6IHNob3dZZWFyU2VsZWN0aW9uLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldFllYXJUZXh0KHRoaXMuZGF0ZSlcbiAgICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDRcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbkNhbGVuZGFyLFxuICAgICAgc2VsZWN0ZWQ6ICFzaG93WWVhclNlbGVjdGlvbixcbiAgICAgIGxhYmVsOiB1dGlscy5nZXREYXRlUGlja2VySGVhZGVyVGV4dCh0aGlzLmRhdGUpXG4gICAgfSkpLCB0aGlzLnByb3BzLmNoaWxkcmVuLCBzaG93WWVhclNlbGVjdGlvbiA/IGNyZWF0ZUVsZW1lbnQoWWVhclNlbGVjdGlvbiQxLCB7XG4gICAgICBkYXRlOiB0aGlzLmRhdGUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVZZWFyU2VsZWN0LFxuICAgICAgbWluRGF0ZTogdGhpcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZ1xuICAgIH0pIDogY3JlYXRlRWxlbWVudChDYWxlbmRhciQxLCB7XG4gICAgICBkYXRlOiB0aGlzLmRhdGUsXG4gICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgbWluRGF0ZTogdGhpcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlLFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlLFxuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sXG4gICAgfSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVQaWNrZXIucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBib29sLFxuICAgIGNoaWxkcmVuOiBub2RlLFxuICAgIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gICAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gICAgcmVuZGVyRGF5OiBmdW5jLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgICBpbml0aWFsRm9jdXNlZERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlXG4gIH0gOiB2b2lkIDA7XG4gIERhdGVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBmYWxzZSxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogdW5kZWZpbmVkLFxuICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlLFxuICAgIGNoaWxkcmVuOiBudWxsLFxuICAgIGxlZnRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByaWdodEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWRcbiAgfTtcbiAgcmV0dXJuIERhdGVQaWNrZXI7XG59KFB1cmVDb21wb25lbnQpO1xudmFyIERhdGVQaWNrZXIkMSA9IHdpdGhVdGlscygpKERhdGVQaWNrZXIpO1xuXG52YXIgRGF0ZVBpY2tlck1vZGFsID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGxhYmVsRnVuYyA9IHByb3BzLmxhYmVsRnVuYyxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uID0gcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIG90aGVyID0gX19yZXN0KHByb3BzLCBbXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiYXV0b09rXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVQYXN0XCIsIFwiZm9ybWF0XCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwibGFiZWxGdW5jXCIsIFwibGVmdEFycm93SWNvblwiLCBcIm1heERhdGVcIiwgXCJtaW5EYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwib25DaGFuZ2VcIiwgXCJvcGVuVG9ZZWFyU2VsZWN0aW9uXCIsIFwicmVuZGVyRGF5XCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcInZhbHVlXCJdKTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChCYXNlUGlja2VyJDEsIF9fYXNzaWduKHt9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0LFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZUNsZWFyID0gX2EuaGFuZGxlQ2xlYXIsXG4gICAgICAgIGhhbmRsZURpc21pc3MgPSBfYS5oYW5kbGVEaXNtaXNzLFxuICAgICAgICBoYW5kbGVTZXRUb2RheURhdGUgPSBfYS5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQ7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoTW9kYWxXcmFwcGVyLCBfX2Fzc2lnbih7XG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgdXRpbHMuZGF0ZUZvcm1hdCxcbiAgICAgIGxhYmVsRnVuYzogbGFiZWxGdW5jLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIG9uQ2xlYXI6IGhhbmRsZUNsZWFyLFxuICAgICAgb25EaXNtaXNzOiBoYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkXG4gICAgfSwgb3RoZXIpLCBjcmVhdGVFbGVtZW50KERhdGVQaWNrZXIkMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlUGlja2VyTW9kYWwucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogYm9vbCxcbiAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBib29sLFxuICBsYWJlbEZ1bmM6IGZ1bmMsXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICByZW5kZXJEYXk6IGZ1bmMsXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuRGF0ZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiB1bmRlZmluZWQsXG4gIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlLFxuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkXG59O1xudmFyIERhdGVQaWNrZXJNb2RhbCQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChEYXRlUGlja2VyTW9kYWwsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgSW5saW5lV3JhcHBlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhJbmxpbmVXcmFwcGVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIElubGluZVdyYXBwZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgfTtcblxuICAgIF90aGlzLm9wZW4gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBhbmNob3JFbDogZS5jdXJyZW50VGFyZ2V0XG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uT3Blbikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk9wZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMucHJvcHMuaGFuZGxlQWNjZXB0KCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsb3NlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoIChrZXljb2RlKGV2ZW50KSkge1xuICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgICAge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMuaGFuZGxlQWNjZXB0KCk7XG5cbiAgICAgICAgICAgIF90aGlzLmNsb3NlKCk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGlmIGtleWNvZGUgaXMgbm90IGhhbmRsZWQsIHN0b3AgZXhlY3V0aW9uXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpZiBldmVudCB3YXMgaGFuZGxlZCBwcmV2ZW50IG90aGVyIHNpZGUgZWZmZWN0c1xuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIElubGluZVdyYXBwZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xuICAgIC8vIG9ubHkgaWYgYWNjZXB0ID0gdHJ1ZSBjbG9zZSB0aGUgcG9wb3ZlclxuICAgIGlmIChuZXh0UHJvcHMuaXNBY2NlcHRlZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW5jaG9yRWw6IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgSW5saW5lV3JhcHBlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgb25PcGVuID0gX2Eub25PcGVuLFxuICAgICAgICBvbkNsb3NlID0gX2Eub25DbG9zZSxcbiAgICAgICAgUG9wb3ZlclByb3BzID0gX2EuUG9wb3ZlclByb3BzLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAga2V5Ym9hcmQgPSBfYS5rZXlib2FyZCxcbiAgICAgICAgb25seUNhbGVuZGFyID0gX2Eub25seUNhbGVuZGFyLFxuICAgICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0LFxuICAgICAgICBvdGhlciA9IF9fcmVzdChfYSwgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJjaGlsZHJlblwiLCBcIm9uT3BlblwiLCBcIm9uQ2xvc2VcIiwgXCJQb3BvdmVyUHJvcHNcIiwgXCJpc0FjY2VwdGVkXCIsIFwia2V5Ym9hcmRcIiwgXCJvbmx5Q2FsZW5kYXJcIiwgXCJjbGFzc2VzXCIsIFwiaGFuZGxlQWNjZXB0XCJdKTtcblxuICAgIHZhciBpc09wZW4gPSBCb29sZWFuKHRoaXMuc3RhdGUuYW5jaG9yRWwpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBpc09wZW4gJiYgY3JlYXRlRWxlbWVudChFdmVudExpc3RlbmVyLCB7XG4gICAgICB0YXJnZXQ6IFwid2luZG93XCIsXG4gICAgICBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93blxuICAgIH0pLCBjcmVhdGVFbGVtZW50KERhdGVUZXh0RmllbGQkMSwgX19hc3NpZ24oe1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW4sXG4gICAgICBrZXlib2FyZDoga2V5Ym9hcmRcbiAgICB9LCBvdGhlcikpLCBjcmVhdGVFbGVtZW50KFBvcG92ZXIsIF9fYXNzaWduKHtcbiAgICAgIGlkOiBcInBpY2tlci1wb3BvdmVyXCIsXG4gICAgICBvcGVuOiBpc09wZW4sXG4gICAgICBhbmNob3JFbDogdGhpcy5zdGF0ZS5hbmNob3JFbCxcbiAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2UsXG4gICAgICBjbGFzc2VzOiB7XG4gICAgICAgIHBhcGVyOiBjbGFzc2VzLnBvcG92ZXJQYXBlclxuICAgICAgfSxcbiAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgICAgIGhvcml6b250YWw6IGtleWJvYXJkID8gJ3JpZ2h0JyA6ICdjZW50ZXInXG4gICAgICB9LFxuICAgICAgdHJhbnNmb3JtT3JpZ2luOiB7XG4gICAgICAgIHZlcnRpY2FsOiAndG9wJyxcbiAgICAgICAgaG9yaXpvbnRhbDoga2V5Ym9hcmQgPyAncmlnaHQnIDogJ2NlbnRlcidcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9LCBQb3BvdmVyUHJvcHMpKSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gSW5saW5lV3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgLyoqIFNob3cgb25seSBjYWxlbmRhciBmb3IgZGF0ZXBpY2tlciBpbiBwb3BvdmVyIG1vZGUgKi9cbiAgICBvbmx5Q2FsZW5kYXI6IGJvb2wsXG5cbiAgICAvKiogUGlja2VyIHZhbHVlICovXG4gICAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gICAgLyoqIE9uIG9wZW4gY2FsbGJhY2sgWyhlOiBFdmVudCkgPT4gdm9pZF0gKi9cbiAgICBvbk9wZW46IGZ1bmMsXG5cbiAgICAvKiogT24gY2xvc2UgY2FsbGJhY2sgWyhlOiBFdmVudCkgPT4gdm9pZF0gKi9cbiAgICBvbkNsb3NlOiBmdW5jLFxuXG4gICAgLyoqIEZvcm1hdCBzdHJpbmcgKi9cbiAgICBmb3JtYXQ6IHN0cmluZyxcblxuICAgIC8qKiBEaWFsb2cgcHJvcHMgcGFzc2VkIHRvIG1hdGVyaWFsLXVpIERpYWxvZyAqL1xuICAgIFBvcG92ZXJQcm9wczogb2JqZWN0LFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIGlzQWNjZXB0ZWQ6IGJvb2wsXG4gICAgaGFuZGxlQWNjZXB0OiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBrZXlib2FyZDogYm9vbCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIElubGluZVdyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICAgIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICAgIG9ubHlDYWxlbmRhcjogZmFsc2UsXG4gICAgZm9ybWF0OiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIG9uT3BlbjogdW5kZWZpbmVkLFxuICAgIG9uQ2xvc2U6IHVuZGVmaW5lZCxcbiAgICBQb3BvdmVyUHJvcHM6IHVuZGVmaW5lZCxcbiAgICBpc0FjY2VwdGVkOiBmYWxzZSxcbiAgICBrZXlib2FyZDogdW5kZWZpbmVkXG4gIH07XG4gIHJldHVybiBJbmxpbmVXcmFwcGVyO1xufShQdXJlQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkOSA9IHtcbiAgcG9wb3ZlclBhcGVyOiB7XG4gICAgbWF4V2lkdGg6IDMxMCxcbiAgICBtaW5XaWR0aDogMjkwLFxuICAgIHBhZGRpbmdCb3R0b206IDhcbiAgfVxufTsgLy8gQHRzLWlnbm9yZVxuXG52YXIgSW5saW5lV3JhcHBlciQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQ5KShJbmxpbmVXcmFwcGVyKTtcblxudmFyIERhdGVQaWNrZXJJbmxpbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIGFsbG93S2V5Ym9hcmRDb250cm9sID0gcHJvcHMuYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgbGFiZWxGdW5jID0gcHJvcHMubGFiZWxGdW5jLFxuICAgICAgbGVmdEFycm93SWNvbiA9IHByb3BzLmxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gcHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlLFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb24gPSBwcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgcmVuZGVyRGF5ID0gcHJvcHMucmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb25seUNhbGVuZGFyID0gcHJvcHMub25seUNhbGVuZGFyLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QocHJvcHMsIFtcImFsbG93S2V5Ym9hcmRDb250cm9sXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJmb3JtYXRcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJsYWJlbEZ1bmNcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwibWF4RGF0ZVwiLCBcIm1pbkRhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJvbkNoYW5nZVwiLCBcIm9wZW5Ub1llYXJTZWxlY3Rpb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJyaWdodEFycm93SWNvblwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwidmFsdWVcIiwgXCJhdXRvT2tcIiwgXCJvbmx5Q2FsZW5kYXJcIl0pO1xuXG4gIHZhciBDb21wb25lbnRUb1Nob3cgPSBvbmx5Q2FsZW5kYXIgPyBDYWxlbmRhciQxIDogRGF0ZVBpY2tlciQxO1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChCYXNlUGlja2VyJDEsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGF1dG9PazogdHJ1ZVxuICB9KSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChJbmxpbmVXcmFwcGVyJDEsIF9fYXNzaWduKHtcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCB8fCB1dGlscy5kYXRlRm9ybWF0LFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBpbm5lclJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGhhbmRsZUFjY2VwdDogaGFuZGxlQWNjZXB0XG4gICAgfSwgb3RoZXIpLCBjcmVhdGVFbGVtZW50KENvbXBvbmVudFRvU2hvdywge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgb25seUNhbGVuZGFyOiBib29sLFxuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVQYXN0OiBib29sLFxuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogYm9vbCxcbiAgbGFiZWxGdW5jOiBmdW5jLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgcmVuZGVyRGF5OiBmdW5jLFxuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKSxcbiAgYXV0b09rOiBib29sXG59IDogdm9pZCAwO1xuRGF0ZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiB1bmRlZmluZWQsXG4gIG9ubHlDYWxlbmRhcjogZmFsc2Vcbn07XG52YXIgRGF0ZVBpY2tlcklubGluZSQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChEYXRlUGlja2VySW5saW5lLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIGNlbnRlciA9IHtcbiAgeDogMjYwIC8gMixcbiAgeTogMjYwIC8gMlxufTtcbnZhciBiYXNlUG9pbnQgPSB7XG4gIHg6IGNlbnRlci54LFxuICB5OiAwXG59O1xudmFyIGN4ID0gYmFzZVBvaW50LnggLSBjZW50ZXIueDtcbnZhciBjeSA9IGJhc2VQb2ludC55IC0gY2VudGVyLnk7XG5cbnZhciByYWQyZGVnID0gZnVuY3Rpb24gKHJhZCkge1xuICByZXR1cm4gcmFkICogNTcuMjk1Nzc5NTEzMDgyMzI7XG59O1xuXG52YXIgZ2V0QW5nbGVWYWx1ZSA9IGZ1bmN0aW9uIChzdGVwLCBvZmZzZXRYLCBvZmZzZXRZKSB7XG4gIHZhciB4ID0gb2Zmc2V0WCAtIGNlbnRlci54O1xuICB2YXIgeSA9IG9mZnNldFkgLSBjZW50ZXIueTtcbiAgdmFyIGF0YW4gPSBNYXRoLmF0YW4yKGN4LCBjeSkgLSBNYXRoLmF0YW4yKHgsIHkpO1xuICB2YXIgZGVnID0gcmFkMmRlZyhhdGFuKTtcbiAgZGVnID0gTWF0aC5yb3VuZChkZWcgLyBzdGVwKSAqIHN0ZXA7XG4gIGRlZyAlPSAzNjA7XG4gIHZhciB2YWx1ZSA9IE1hdGguZmxvb3IoZGVnIC8gc3RlcCkgfHwgMDtcbiAgdmFyIGRlbHRhID0gTWF0aC5wb3coeCwgMikgKyBNYXRoLnBvdyh5LCAyKTtcbiAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGRlbHRhKTtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgZGlzdGFuY2U6IGRpc3RhbmNlXG4gIH07XG59O1xuXG52YXIgZ2V0SG91cnMgPSBmdW5jdGlvbiAob2Zmc2V0WCwgb2Zmc2V0WSwgYW1wbSkge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgdmFyIF9hID0gZ2V0QW5nbGVWYWx1ZSgzMCwgb2Zmc2V0WCwgb2Zmc2V0WSksXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgZGlzdGFuY2UgPSBfYS5kaXN0YW5jZTtcblxuICB2YWx1ZSA9IHZhbHVlIHx8IDEyO1xuXG4gIGlmICghYW1wbSkge1xuICAgIGlmIChkaXN0YW5jZSA8IDkwKSB7XG4gICAgICB2YWx1ZSArPSAxMjtcbiAgICAgIHZhbHVlICU9IDI0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSAlPSAxMjtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgZ2V0TWludXRlcyA9IGZ1bmN0aW9uIChvZmZzZXRYLCBvZmZzZXRZLCBzdGVwKSB7XG4gIGlmIChzdGVwID09PSB2b2lkIDApIHtcbiAgICBzdGVwID0gNjtcbiAgfVxuXG4gIHZhciB2YWx1ZSA9IGdldEFuZ2xlVmFsdWUoc3RlcCwgb2Zmc2V0WCwgb2Zmc2V0WSkudmFsdWU7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgY29udmVydFRvTWVyaWRpZW0gPSBmdW5jdGlvbiAodGltZSwgbWVyaWRpZW0sIGFtcG0sIHV0aWxzKSB7XG4gIGlmIChhbXBtKSB7XG4gICAgdmFyIGN1cnJlbnRNZXJpZGllbSA9IHV0aWxzLmdldEhvdXJzKHRpbWUpID49IDEyID8gJ3BtJyA6ICdhbSc7XG5cbiAgICBpZiAoY3VycmVudE1lcmlkaWVtICE9PSBtZXJpZGllbSkge1xuICAgICAgdmFyIGhvdXJzID0gbWVyaWRpZW0gPT09ICdhbScgPyB1dGlscy5nZXRIb3Vycyh0aW1lKSAtIDEyIDogdXRpbHMuZ2V0SG91cnModGltZSkgKyAxMjtcbiAgICAgIHJldHVybiB1dGlscy5zZXRIb3Vycyh0aW1lLCBob3Vycyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRpbWU7XG59O1xuXG52YXIgQ2xvY2tUeXBlO1xuXG4oZnVuY3Rpb24gKENsb2NrVHlwZSkge1xuICBDbG9ja1R5cGVbXCJIT1VSU1wiXSA9IFwiaG91cnNcIjtcbiAgQ2xvY2tUeXBlW1wiTUlOVVRFU1wiXSA9IFwibWludXRlc1wiO1xuICBDbG9ja1R5cGVbXCJTRUNPTkRTXCJdID0gXCJzZWNvbmRzXCI7XG59KShDbG9ja1R5cGUgfHwgKENsb2NrVHlwZSA9IHt9KSk7XG5cbnZhciBDbG9ja1R5cGUkMSA9IENsb2NrVHlwZTtcblxudmFyIENsb2NrUG9pbnRlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhDbG9ja1BvaW50ZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2xvY2tQb2ludGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0b0FuaW1hdGVUcmFuc2Zvcm06IGZhbHNlLFxuICAgICAgcHJldmlvdXNUeXBlOiB1bmRlZmluZWRcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0QW5nbGVTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgICAgaXNJbm5lciA9IF9hLmlzSW5uZXIsXG4gICAgICAgICAgdHlwZSA9IF9hLnR5cGU7XG4gICAgICB2YXIgbWF4ID0gdHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMgPyAxMiA6IDYwO1xuICAgICAgdmFyIGFuZ2xlID0gMzYwIC8gbWF4ICogdmFsdWU7XG5cbiAgICAgIGlmICh0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyAmJiB2YWx1ZSA+IDEyKSB7XG4gICAgICAgIGFuZ2xlIC09IDM2MDsgLy8gcm91bmQgdXAgYW5nbGUgdG8gbWF4IDM2MCBkZWdyZWVzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaXNJbm5lciA/ICcyNiUnIDogJzQwJScsXG4gICAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGVaKFwiICsgYW5nbGUgKyBcImRlZylcIlxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2xvY2tQb2ludGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hLCBfYjtcblxuICAgIHZhciBfYyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYy5jbGFzc2VzLFxuICAgICAgICBoYXNTZWxlY3RlZCA9IF9jLmhhc1NlbGVjdGVkO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHN0eWxlOiB0aGlzLmdldEFuZ2xlU3R5bGUoKSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnBvaW50ZXIsIChfYSA9IHt9LCBfYVtjbGFzc2VzLmFuaW1hdGVUcmFuc2Zvcm1dID0gdGhpcy5zdGF0ZS50b0FuaW1hdGVUcmFuc2Zvcm0sIF9hKSlcbiAgICB9LCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnRodW1iLCAoX2IgPSB7fSwgX2JbY2xhc3Nlcy5ub1BvaW50XSA9IGhhc1NlbGVjdGVkLCBfYikpXG4gICAgfSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENsb2NrUG9pbnRlci5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdmFsdWU6IG51bWJlci5pc1JlcXVpcmVkLFxuICAgIGhhc1NlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gICAgaXNJbm5lcjogYm9vbC5pc1JlcXVpcmVkLFxuICAgIGlubmVyUmVmOiBhbnksXG4gICAgdHlwZTogb25lT2YoT2JqZWN0LmtleXMoQ2xvY2tUeXBlJDEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gQ2xvY2tUeXBlJDFba2V5XTtcbiAgICB9KSkuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuXG4gIENsb2NrUG9pbnRlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBzdGF0ZSkge1xuICAgIGlmIChuZXh0UHJvcHMudHlwZSAhPT0gc3RhdGUucHJldmlvdXNUeXBlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b0FuaW1hdGVUcmFuc2Zvcm06IHRydWUsXG4gICAgICAgIHByZXZpb3VzVHlwZTogbmV4dFByb3BzLnR5cGVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvQW5pbWF0ZVRyYW5zZm9ybTogZmFsc2UsXG4gICAgICBwcmV2aW91c1R5cGU6IG5leHRQcm9wcy50eXBlXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gQ2xvY2tQb2ludGVyO1xufShDb21wb25lbnQpO1xudmFyIHN0eWxlcyRhID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgcG9pbnRlcjoge1xuICAgICAgd2lkdGg6IDIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBsZWZ0OiAnY2FsYyg1MCUgLSAxcHgpJyxcbiAgICAgIGJvdHRvbTogJzUwJScsXG4gICAgICB0cmFuc2Zvcm1PcmlnaW46ICdjZW50ZXIgYm90dG9tIDBweCdcbiAgICB9LFxuICAgIGFuaW1hdGVUcmFuc2Zvcm06IHtcbiAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZShbJ3RyYW5zZm9ybScsICdoZWlnaHQnXSlcbiAgICB9LFxuICAgIHRodW1iOiB7XG4gICAgICB3aWR0aDogNCxcbiAgICAgIGhlaWdodDogNCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAtMjEsXG4gICAgICBsZWZ0OiAtMTUsXG4gICAgICBib3JkZXI6IFwiMTRweCBzb2xpZCBcIiArIHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgYm94U2l6aW5nOiAnY29udGVudC1ib3gnXG4gICAgfSxcbiAgICBub1BvaW50OiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2tQb2ludGVyJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJGEsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9ja1BvaW50ZXInXG59KShDbG9ja1BvaW50ZXIpO1xuXG52YXIgQ2xvY2sgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQ2xvY2ssIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2xvY2soKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5pc01vdmluZyA9IGZhbHNlO1xuXG4gICAgX3RoaXMuaGFuZGxlVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLmlzTW92aW5nID0gdHJ1ZTtcblxuICAgICAgX3RoaXMuc2V0VGltZShlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVG91Y2hFbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLmlzTW92aW5nKSB7XG4gICAgICAgIF90aGlzLnNldFRpbWUoZSwgdHJ1ZSk7XG5cbiAgICAgICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBNb3VzZUV2ZW50LndoaWNoIGlzIGRlcHJlY2F0ZWQsIGJ1dCBNb3VzZUV2ZW50LmJ1dHRvbnMgaXMgbm90IHN1cHBvcnRlZCBpbiBTYWZhcmlcblxuICAgICAgdmFyIGlzQnV0dG9uUHJlc3NlZCA9IHR5cGVvZiBlLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnID8gZS5uYXRpdmVFdmVudC53aGljaCA9PT0gMSA6IGUuYnV0dG9ucyA9PT0gMTtcblxuICAgICAgaWYgKGlzQnV0dG9uUHJlc3NlZCkge1xuICAgICAgICBfdGhpcy5zZXRUaW1lKGUubmF0aXZlRXZlbnQsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0VGltZShlLm5hdGl2ZUV2ZW50LCB0cnVlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFzU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlO1xuXG4gICAgICBpZiAodHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZSAlIDUgPT09IDA7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIENsb2NrLnByb3RvdHlwZS5zZXRUaW1lID0gZnVuY3Rpb24gKGUsIGlzRmluaXNoKSB7XG4gICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgIGlzRmluaXNoID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG9mZnNldFggPSBlLm9mZnNldFgsXG4gICAgICAgIG9mZnNldFkgPSBlLm9mZnNldFk7XG5cbiAgICBpZiAodHlwZW9mIG9mZnNldFggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgb2Zmc2V0WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICAgIG9mZnNldFkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLnByb3BzLnR5cGUgPT09IENsb2NrVHlwZSQxLlNFQ09ORFMgfHwgdGhpcy5wcm9wcy50eXBlID09PSBDbG9ja1R5cGUkMS5NSU5VVEVTID8gZ2V0TWludXRlcyhvZmZzZXRYLCBvZmZzZXRZKSA6IGdldEhvdXJzKG9mZnNldFgsIG9mZnNldFksIEJvb2xlYW4odGhpcy5wcm9wcy5hbXBtKSk7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSwgaXNGaW5pc2gpO1xuICB9O1xuXG4gIENsb2NrLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICBhbXBtID0gX2EuYW1wbTtcbiAgICB2YXIgaXNQb2ludGVySW5uZXIgPSAhYW1wbSAmJiB0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyAmJiAodmFsdWUgPCAxIHx8IHZhbHVlID4gMTIpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jb250YWluZXJcbiAgICB9LCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9ja1xuICAgIH0sIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcm9sZTogXCJtZW51XCIsXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3F1YXJlTWFzayxcbiAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSxcbiAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmQsXG4gICAgICBvbk1vdXNlVXA6IHRoaXMuaGFuZGxlTW91c2VVcCxcbiAgICAgIG9uTW91c2VNb3ZlOiB0aGlzLmhhbmRsZU1vdmVcbiAgICB9KSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMucGluXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tQb2ludGVyJDEsIHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0lubmVyOiBpc1BvaW50ZXJJbm5lcixcbiAgICAgIGhhc1NlbGVjdGVkOiB0aGlzLmhhc1NlbGVjdGVkKClcbiAgICB9KSwgY2hpbGRyZW4pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDbG9jay5wcm9wVHlwZXMgPSB7XG4gICAgdHlwZTogb25lT2YoT2JqZWN0LmtleXMoQ2xvY2tUeXBlJDEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gQ2xvY2tUeXBlJDFba2V5XTtcbiAgICB9KSkuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjaGlsZHJlbjogYXJyYXlPZihub2RlKS5pc1JlcXVpcmVkLFxuICAgIGFtcG06IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBDbG9jay5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYW1wbTogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIENsb2NrO1xufShDb21wb25lbnQpO1xudmFyIHN0eWxlcyRiID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgY29udGFpbmVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgbWFyZ2luOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiA0ICsgXCJweCAwIFwiICsgdGhlbWUuc3BhY2luZy51bml0ICsgXCJweFwiXG4gICAgfSxcbiAgICBjbG9jazoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwuMDcpJyxcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBoZWlnaHQ6IDI2MCxcbiAgICAgIHdpZHRoOiAyNjAsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIHpJbmRleDogMVxuICAgIH0sXG4gICAgc3F1YXJlTWFzazoge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bycsXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICB0b3VjaEFjdGlvbnM6ICdub25lJyxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICcmOmFjdGl2ZSc6IHtcbiAgICAgICAgY3Vyc29yOiAnbW92ZSdcbiAgICAgIH1cbiAgICB9LFxuICAgIHBpbjoge1xuICAgICAgd2lkdGg6IDYsXG4gICAgICBoZWlnaHQ6IDYsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAnNTAlJyxcbiAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIENsb2NrJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJGIsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9jaydcbn0pKENsb2NrKTtcblxudmFyIHBvc2l0aW9ucyA9IHtcbiAgMDogWzAsIDQwXSxcbiAgMTogWzU1LCAxOS42XSxcbiAgMjogWzk0LjQsIDU5LjVdLFxuICAzOiBbMTA5LCAxMTRdLFxuICA0OiBbOTQuNCwgMTY4LjVdLFxuICA1OiBbNTQuNSwgMjA4LjRdLFxuICA2OiBbMCwgMjIzXSxcbiAgNzogWy01NC41LCAyMDguNF0sXG4gIDg6IFstOTQuNCwgMTY4LjVdLFxuICA5OiBbLTEwOSwgMTE0XSxcbiAgMTA6IFstOTQuNCwgNTkuNV0sXG4gIDExOiBbLTU0LjUsIDE5LjZdLFxuICAxMjogWzAsIDVdLFxuICAxMzogWzM2LjksIDQ5LjldLFxuICAxNDogWzY0LCA3N10sXG4gIDE1OiBbNzQsIDExNF0sXG4gIDE2OiBbNjQsIDE1MV0sXG4gIDE3OiBbMzcsIDE3OF0sXG4gIDE4OiBbMCwgMTg4XSxcbiAgMTk6IFstMzcsIDE3OF0sXG4gIDIwOiBbLTY0LCAxNTFdLFxuICAyMTogWy03NCwgMTE0XSxcbiAgMjI6IFstNjQsIDc3XSxcbiAgMjM6IFstMzcsIDUwXVxufTtcblxudmFyIENsb2NrTnVtYmVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKENsb2NrTnVtYmVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIENsb2NrTnVtYmVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuZ2V0VHJhbnNmb3JtU3R5bGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IHBvc2l0aW9uc1tpbmRleF07XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiICsgcG9zaXRpb25bMF0gKyBcInB4LCBcIiArIHBvc2l0aW9uWzFdICsgXCJweFwiXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9ja051bWJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIHNlbGVjdGVkID0gX2Iuc2VsZWN0ZWQsXG4gICAgICAgIGxhYmVsID0gX2IubGFiZWwsXG4gICAgICAgIGluZGV4ID0gX2IuaW5kZXgsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBpc0lubmVyID0gX2IuaXNJbm5lcjtcbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NuYW1lcyhjbGFzc2VzLmNsb2NrTnVtYmVyLCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy5zZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2EpKTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgICB2YXJpYW50OiBpc0lubmVyID8gJ2JvZHkxJyA6ICdzdWJ0aXRsZTEnLFxuICAgICAgY29tcG9uZW50OiBcInNwYW5cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHRoaXMuZ2V0VHJhbnNmb3JtU3R5bGUoaW5kZXgpXG4gICAgfSwgbGFiZWwpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENsb2NrTnVtYmVyLnByb3BUeXBlcyA9IHtcbiAgICBpbmRleDogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgbGFiZWw6IHN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaXNJbm5lcjogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENsb2NrTnVtYmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpc0lubmVyOiBmYWxzZVxuICB9O1xuICByZXR1cm4gQ2xvY2tOdW1iZXI7XG59KENvbXBvbmVudCk7XG52YXIgc3R5bGVzJGMgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgdmFyIHNpemUgPSB0aGVtZS5zcGFjaW5nLnVuaXQgKiA0O1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIGNsb2NrTnVtYmVyOiB7XG4gICAgICB3aWR0aDogc2l6ZSxcbiAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgbGVmdDogXCJjYWxjKDUwJSAtIFwiICsgc2l6ZSAvIDIgKyBcInB4KVwiLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1mbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSA6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2tOdW1iZXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkYywge1xuICBuYW1lOiAnTXVpUGlja2Vyc0Nsb2NrTnVtYmVyJ1xufSkoQ2xvY2tOdW1iZXIpO1xuXG52YXIgZ2V0SG91ck51bWJlcnMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGFtcG0gPSBfYS5hbXBtLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIGRhdGUgPSBfYS5kYXRlO1xuICB2YXIgY3VycmVudEhvdXJzID0gdXRpbHMuZ2V0SG91cnMoZGF0ZSk7XG4gIHZhciBob3VyTnVtYmVycyA9IFtdO1xuICB2YXIgc3RhcnRIb3VyID0gYW1wbSA/IDEgOiAwO1xuICB2YXIgZW5kSG91ciA9IGFtcG0gPyAxMiA6IDIzO1xuXG4gIHZhciBpc1NlbGVjdGVkID0gZnVuY3Rpb24gKGhvdXIpIHtcbiAgICBpZiAoYW1wbSkge1xuICAgICAgaWYgKGhvdXIgPT09IDEyKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50SG91cnMgPT09IDEyIHx8IGN1cnJlbnRIb3VycyA9PT0gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGN1cnJlbnRIb3VycyA9PT0gaG91ciB8fCBjdXJyZW50SG91cnMgLSAxMiA9PT0gaG91cjtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudEhvdXJzID09PSBob3VyO1xuICB9O1xuXG4gIGZvciAodmFyIGhvdXIgPSBzdGFydEhvdXI7IGhvdXIgPD0gZW5kSG91cjsgaG91ciArPSAxKSB7XG4gICAgdmFyIGxhYmVsID0gaG91ci50b1N0cmluZygpO1xuXG4gICAgaWYgKGhvdXIgPT09IDApIHtcbiAgICAgIGxhYmVsID0gJzAwJztcbiAgICB9XG5cbiAgICB2YXIgcHJvcHMgPSB7XG4gICAgICBpbmRleDogaG91cixcbiAgICAgIGxhYmVsOiB1dGlscy5mb3JtYXROdW1iZXIobGFiZWwpLFxuICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQoaG91ciksXG4gICAgICBpc0lubmVyOiAhYW1wbSAmJiAoaG91ciA9PT0gMCB8fCBob3VyID4gMTIpXG4gICAgfTtcbiAgICBob3VyTnVtYmVycy5wdXNoKGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwgX19hc3NpZ24oe1xuICAgICAga2V5OiBob3VyXG4gICAgfSwgcHJvcHMpKSk7XG4gIH1cblxuICByZXR1cm4gaG91ck51bWJlcnM7XG59O1xudmFyIGdldE1pbnV0ZXNOdW1iZXJzID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgdmFyIGYgPSB1dGlscy5mb3JtYXROdW1iZXI7XG4gIHJldHVybiBbY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzAwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAwLFxuICAgIGluZGV4OiAxMixcbiAgICBrZXk6IDEyXG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMDUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDUsXG4gICAgaW5kZXg6IDEsXG4gICAga2V5OiAxXG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMTAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDEwLFxuICAgIGluZGV4OiAyLFxuICAgIGtleTogMlxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzE1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAxNSxcbiAgICBpbmRleDogMyxcbiAgICBrZXk6IDNcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcyMCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMjAsXG4gICAgaW5kZXg6IDQsXG4gICAga2V5OiA0XG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMjUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDI1LFxuICAgIGluZGV4OiA1LFxuICAgIGtleTogNVxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzMwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAzMCxcbiAgICBpbmRleDogNixcbiAgICBrZXk6IDZcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCczNScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMzUsXG4gICAgaW5kZXg6IDcsXG4gICAga2V5OiA3XG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNDAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDQwLFxuICAgIGluZGV4OiA4LFxuICAgIGtleTogOFxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzQ1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA0NSxcbiAgICBpbmRleDogOSxcbiAgICBrZXk6IDlcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCc1MCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNTAsXG4gICAgaW5kZXg6IDEwLFxuICAgIGtleTogMTBcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCc1NScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNTUsXG4gICAgaW5kZXg6IDExLFxuICAgIGtleTogMTFcbiAgfSldO1xufTtcblxudmFyIFRpbWVQaWNrZXJWaWV3ID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKFRpbWVQaWNrZXJWaWV3LCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFRpbWVQaWNrZXJWaWV3KCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuZ2V0Vmlld1Byb3BzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdHlwZSA9IF9hLnR5cGUsXG4gICAgICAgICAgYW1wbSA9IF9hLmFtcG0sXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcblxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgQ2xvY2tUeXBlJDEuSE9VUlM6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiB1dGlscy5nZXRIb3VycyhkYXRlKSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBnZXRIb3VyTnVtYmVycyh7XG4gICAgICAgICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgICAgICAgIGFtcG06IEJvb2xlYW4oYW1wbSksXG4gICAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMuaGFuZGxlSG91ckNoYW5nZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSBDbG9ja1R5cGUkMS5NSU5VVEVTOlxuICAgICAgICAgIHZhciBtaW51dGVzVmFsdWUgPSB1dGlscy5nZXRNaW51dGVzKGRhdGUpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogbWludXRlc1ZhbHVlLFxuICAgICAgICAgICAgY2hpbGRyZW46IGdldE1pbnV0ZXNOdW1iZXJzKHtcbiAgICAgICAgICAgICAgdmFsdWU6IG1pbnV0ZXNWYWx1ZSxcbiAgICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlXG4gICAgICAgICAgfTtcblxuICAgICAgICBjYXNlIENsb2NrVHlwZSQxLlNFQ09ORFM6XG4gICAgICAgICAgdmFyIHNlY29uZHNWYWx1ZSA9IHV0aWxzLmdldFNlY29uZHMoZGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBzZWNvbmRzVmFsdWUsXG4gICAgICAgICAgICBjaGlsZHJlbjogZ2V0TWludXRlc051bWJlcnMoe1xuICAgICAgICAgICAgICB2YWx1ZTogc2Vjb25kc1ZhbHVlLFxuICAgICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzLmhhbmRsZVNlY29uZHNDaGFuZ2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwcm92aWRlIHRoZSB0eXBlIGZvciBUaW1lUGlja2VyVmlldycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVIb3VyQ2hhbmdlID0gZnVuY3Rpb24gKGhvdXJzLCBpc0ZpbmlzaCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciB1cGRhdGVkVGltZSA9IHV0aWxzLnNldEhvdXJzKGRhdGUsIGhvdXJzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25Ib3VyQ2hhbmdlKHVwZGF0ZWRUaW1lLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU1pbnV0ZXNDaGFuZ2UgPSBmdW5jdGlvbiAobWludXRlcywgaXNGaW5pc2gpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgdXBkYXRlZFRpbWUgPSB1dGlscy5zZXRNaW51dGVzKGRhdGUsIG1pbnV0ZXMpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbk1pbnV0ZXNDaGFuZ2UodXBkYXRlZFRpbWUsIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU2Vjb25kc0NoYW5nZSA9IGZ1bmN0aW9uIChzZWNvbmRzLCBpc0ZpbmlzaCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciB1cGRhdGVkVGltZSA9IHV0aWxzLnNldFNlY29uZHMoZGF0ZSwgc2Vjb25kcyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uU2Vjb25kc0NoYW5nZSh1cGRhdGVkVGltZSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUaW1lUGlja2VyVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFtcG0gPSBfYS5hbXBtLFxuICAgICAgICB0eXBlID0gX2EudHlwZTtcbiAgICB2YXIgdmlld1Byb3BzID0gdGhpcy5nZXRWaWV3UHJvcHMoKTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChDbG9jayQxLCBfX2Fzc2lnbih7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0sIHZpZXdQcm9wcykpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRpbWVQaWNrZXJWaWV3LnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkhvdXJDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbk1pbnV0ZXNDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblNlY29uZHNDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgYW1wbTogYm9vbCxcbiAgICB0eXBlOiBvbmVPZihPYmplY3Qua2V5cyhDbG9ja1R5cGUkMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBDbG9ja1R5cGUkMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIFRpbWVQaWNrZXJWaWV3LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbXBtOiB0cnVlXG4gIH07XG4gIHJldHVybiBUaW1lUGlja2VyVmlldztcbn0oUHVyZUNvbXBvbmVudCk7XG52YXIgVGltZVBpY2tlclZpZXckMSA9IHdpdGhVdGlscygpKFRpbWVQaWNrZXJWaWV3KTtcblxudmFyIFRpbWVQaWNrZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoVGltZVBpY2tlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBUaW1lUGlja2VyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuVmlldzogQ2xvY2tUeXBlJDEuSE9VUlMsXG4gICAgICBtZXJpZGllbU1vZGU6IF90aGlzLnByb3BzLnV0aWxzLmdldEhvdXJzKF90aGlzLnByb3BzLmRhdGUpID49IDEyID8gJ3BtJyA6ICdhbSdcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0TWVyaWRpZW1Nb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBtZXJpZGllbU1vZGU6IG1vZGVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICAgICAgdGltZTogX3RoaXMucHJvcHMuZGF0ZSxcbiAgICAgICAgICAgIGlzRmluaXNoOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5NaW51dGVzOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5TZWNvbmRzOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgdmFyIHRpbWUgPSBfYS50aW1lLFxuICAgICAgICAgIGlzRmluaXNoID0gX2EuaXNGaW5pc2gsXG4gICAgICAgICAgb3Blbk1pbnV0ZXMgPSBfYS5vcGVuTWludXRlcyxcbiAgICAgICAgICBvcGVuU2Vjb25kcyA9IF9hLm9wZW5TZWNvbmRzO1xuICAgICAgdmFyIHdpdGhNZXJpZGllbSA9IGNvbnZlcnRUb01lcmlkaWVtKHRpbWUsIF90aGlzLnN0YXRlLm1lcmlkaWVtTW9kZSwgQm9vbGVhbihfdGhpcy5wcm9wcy5hbXBtKSwgX3RoaXMucHJvcHMudXRpbHMpO1xuXG4gICAgICBpZiAoaXNGaW5pc2gpIHtcbiAgICAgICAgaWYgKCFvcGVuTWludXRlcyAmJiAhb3BlblNlY29uZHMpIHtcbiAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh3aXRoTWVyaWRpZW0sIGlzRmluaXNoKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVuTWludXRlcykge1xuICAgICAgICAgIF90aGlzLm9wZW5NaW51dGVzVmlldygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZW5TZWNvbmRzKSB7XG4gICAgICAgICAgX3RoaXMub3BlblNlY29uZHNWaWV3KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uod2l0aE1lcmlkaWVtLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUhvdXJDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh7XG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIGlzRmluaXNoOiBpc0ZpbmlzaCxcbiAgICAgICAgb3Blbk1pbnV0ZXM6IHRydWUsXG4gICAgICAgIG9wZW5TZWNvbmRzOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU1pbnV0ZXNDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh7XG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIGlzRmluaXNoOiBpc0ZpbmlzaCxcbiAgICAgICAgb3Blbk1pbnV0ZXM6IGZhbHNlLFxuICAgICAgICBvcGVuU2Vjb25kczogQm9vbGVhbihfdGhpcy5wcm9wcy5zZWNvbmRzKVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVNlY29uZHNDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh7XG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIGlzRmluaXNoOiBpc0ZpbmlzaCxcbiAgICAgICAgb3Blbk1pbnV0ZXM6IGZhbHNlLFxuICAgICAgICBvcGVuU2Vjb25kczogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuU2Vjb25kc1ZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5TRUNPTkRTXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3Blbk1pbnV0ZXNWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuVmlldzogQ2xvY2tUeXBlJDEuTUlOVVRFU1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5Ib3VyVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLkhPVVJTXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVGltZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICB0aGVtZSA9IF9iLnRoZW1lLFxuICAgICAgICBkYXRlID0gX2IuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYi51dGlscyxcbiAgICAgICAgYW1wbSA9IF9iLmFtcG0sXG4gICAgICAgIHNlY29uZHMgPSBfYi5zZWNvbmRzO1xuICAgIHZhciBfYyA9IHRoaXMuc3RhdGUsXG4gICAgICAgIG1lcmlkaWVtTW9kZSA9IF9jLm1lcmlkaWVtTW9kZSxcbiAgICAgICAgb3BlblZpZXcgPSBfYy5vcGVuVmlldztcbiAgICB2YXIgcnRsID0gdGhlbWUuZGlyZWN0aW9uID09PSAncnRsJztcbiAgICB2YXIgaG91ck1pbnV0ZUNsYXNzTmFtZSA9IHJ0bCA/IGNsYXNzZXMuaG91ck1pbnV0ZUxhYmVsUmV2ZXJzZSA6IGNsYXNzZXMuaG91ck1pbnV0ZUxhYmVsO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBjcmVhdGVFbGVtZW50KFBpY2tlclRvb2xiYXIkMSwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMudG9vbGJhciwgKF9hID0ge30sIF9hW2NsYXNzZXMudG9vbGJhckxlZnRQYWRkaW5nXSA9IGFtcG0sIF9hKSlcbiAgICB9LCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogaG91ck1pbnV0ZUNsYXNzTmFtZVxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5Ib3VyVmlldyxcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0SG91clRleHQoZGF0ZSwgQm9vbGVhbihhbXBtKSlcbiAgICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIGxhYmVsOiBcIjpcIixcbiAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZXBhcmF0b3JcbiAgICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3Blbk1pbnV0ZXNWaWV3LFxuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBDbG9ja1R5cGUkMS5NSU5VVEVTLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldE1pbnV0ZVRleHQoZGF0ZSlcbiAgICB9KSwgc2Vjb25kcyAmJiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgbGFiZWw6IFwiOlwiLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlcGFyYXRvclxuICAgIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuU2Vjb25kc1ZpZXcsXG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IENsb2NrVHlwZSQxLlNFQ09ORFMsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0U2Vjb25kVGV4dChkYXRlKVxuICAgIH0pKSksIGFtcG0gJiYgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IHNlY29uZHMgPyBjbGFzc2VzLmFtcG1TZWxlY3Rpb25XaXRoU2Vjb25kcyA6IGNsYXNzZXMuYW1wbVNlbGVjdGlvblxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ2FtJyxcbiAgICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdhbScpLFxuICAgICAgb25DbGljazogdGhpcy5zZXRNZXJpZGllbU1vZGUoJ2FtJylcbiAgICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hbXBtTGFiZWwsXG4gICAgICBzZWxlY3RlZDogbWVyaWRpZW1Nb2RlID09PSAncG0nLFxuICAgICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRNZXJpZGllbVRleHQoJ3BtJyksXG4gICAgICBvbkNsaWNrOiB0aGlzLnNldE1lcmlkaWVtTW9kZSgncG0nKVxuICAgIH0pKSksIHRoaXMucHJvcHMuY2hpbGRyZW4sIGNyZWF0ZUVsZW1lbnQoVGltZVBpY2tlclZpZXckMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIHR5cGU6IHRoaXMuc3RhdGUub3BlblZpZXcsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgb25Ib3VyQ2hhbmdlOiB0aGlzLmhhbmRsZUhvdXJDaGFuZ2UsXG4gICAgICBvbk1pbnV0ZXNDaGFuZ2U6IHRoaXMuaGFuZGxlTWludXRlc0NoYW5nZSxcbiAgICAgIG9uU2Vjb25kc0NoYW5nZTogdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlXG4gICAgfSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRpbWVQaWNrZXIucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBub2RlLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbXBtOiBib29sLFxuICAgIHNlY29uZHM6IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBUaW1lUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjaGlsZHJlbjogbnVsbCxcbiAgICBhbXBtOiB0cnVlLFxuICAgIHNlY29uZHM6IGZhbHNlXG4gIH07XG4gIHJldHVybiBUaW1lUGlja2VyO1xufShDb21wb25lbnQpO1xudmFyIHN0eWxlcyRkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIHRvb2xiYXI6IHtcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICB9LFxuICAgIHRvb2xiYXJMZWZ0UGFkZGluZzoge1xuICAgICAgcGFkZGluZ0xlZnQ6IDUwXG4gICAgfSxcbiAgICBzZXBhcmF0b3I6IHtcbiAgICAgIG1hcmdpbjogJzAgNHB4IDAgMnB4JyxcbiAgICAgIGN1cnNvcjogJ2RlZmF1bHQnXG4gICAgfSxcbiAgICBhbXBtU2VsZWN0aW9uOiB7XG4gICAgICBtYXJnaW5MZWZ0OiAyMCxcbiAgICAgIG1hcmdpblJpZ2h0OiAtMjBcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb25XaXRoU2Vjb25kczoge1xuICAgICAgbWFyZ2luTGVmdDogMTUsXG4gICAgICBtYXJnaW5SaWdodDogMTBcbiAgICB9LFxuICAgIGFtcG1MYWJlbDoge1xuICAgICAgZm9udFNpemU6IDE4XG4gICAgfSxcbiAgICBob3VyTWludXRlTGFiZWw6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJ1xuICAgIH0sXG4gICAgaG91ck1pbnV0ZUxhYmVsUmV2ZXJzZToge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ3Jvdy1yZXZlcnNlJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIFRpbWVQaWNrZXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkZCwge1xuICB3aXRoVGhlbWU6IHRydWUsXG4gIG5hbWU6ICdNdWlQaWNrZXJzVGltZVBpY2tlcidcbn0pKHdpdGhVdGlscygpKFRpbWVQaWNrZXIpKTtcblxudmFyIFRpbWVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIHNlY29uZHMgPSBwcm9wcy5zZWNvbmRzLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiYXV0b09rXCIsIFwib25DaGFuZ2VcIiwgXCJhbXBtXCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwic2Vjb25kc1wiXSk7XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQmFzZVBpY2tlciQxLCBfX2Fzc2lnbih7XG4gICAgbWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZTogdHJ1ZVxuICB9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0LFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZUNsZWFyID0gX2EuaGFuZGxlQ2xlYXIsXG4gICAgICAgIGhhbmRsZURpc21pc3MgPSBfYS5oYW5kbGVEaXNtaXNzLFxuICAgICAgICBoYW5kbGVTZXRUb2RheURhdGUgPSBfYS5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdCA9IF9hLnBpY2sxMmhPcjI0aEZvcm1hdDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChNb2RhbFdyYXBwZXIsIF9fYXNzaWduKHtcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgICBvbkFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIG9uRGlzbWlzczogaGFuZGxlRGlzbWlzcyxcbiAgICAgIG9uU2V0VG9kYXk6IGhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy50aW1lMTJoRm9ybWF0LCB1dGlscy50aW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgY3JlYXRlRWxlbWVudChUaW1lUGlja2VyJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIHNlY29uZHM6IHNlY29uZHNcbiAgICB9KSk7XG4gIH0pO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRpbWVQaWNrZXJNb2RhbC5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogYm9vbCxcbiAgYW1wbTogYm9vbCxcbiAgc2Vjb25kczogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuVGltZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhbXBtOiB0cnVlLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgc2Vjb25kczogZmFsc2Vcbn07XG52YXIgVGltZVBpY2tlck1vZGFsJDEgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFRpbWVQaWNrZXJNb2RhbCwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBUaW1lUGlja2VySW5saW5lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgc2Vjb25kcyA9IHByb3BzLnNlY29uZHMsXG4gICAgICBvdGhlciA9IF9fcmVzdChwcm9wcywgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJvbkNoYW5nZVwiLCBcImFtcG1cIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJzZWNvbmRzXCJdKTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChCYXNlUGlja2VyJDEsIF9fYXNzaWduKHtcbiAgICBtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlOiB0cnVlLFxuICAgIGF1dG9PazogdHJ1ZVxuICB9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChJbmxpbmVXcmFwcGVyJDEsIF9fYXNzaWduKHtcbiAgICAgIGlubmVyUmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGhhbmRsZUFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgZm9ybWF0OiBwaWNrMTJoT3IyNGhGb3JtYXQodXRpbHMudGltZTEyaEZvcm1hdCwgdXRpbHMudGltZTI0aEZvcm1hdClcbiAgICB9LCBvdGhlciksIGNyZWF0ZUVsZW1lbnQoVGltZVBpY2tlciQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBzZWNvbmRzOiBzZWNvbmRzXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBUaW1lUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgYW1wbTogYm9vbCxcbiAgc2Vjb25kczogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuVGltZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGFtcG06IHRydWUsXG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIHNlY29uZHM6IGZhbHNlXG59O1xudmFyIFRpbWVQaWNrZXJJbmxpbmUkMSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoVGltZVBpY2tlcklubGluZSwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBEYXRlVGltZVBpY2tlclZpZXc7XG5cbihmdW5jdGlvbiAoRGF0ZVRpbWVQaWNrZXJWaWV3KSB7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIllFQVJcIl0gPSBcInllYXJcIjtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiREFURVwiXSA9IFwiZGF0ZVwiO1xuICBEYXRlVGltZVBpY2tlclZpZXdbXCJIT1VSXCJdID0gXCJob3Vyc1wiO1xuICBEYXRlVGltZVBpY2tlclZpZXdbXCJNSU5VVEVTXCJdID0gXCJtaW51dGVzXCI7XG59KShEYXRlVGltZVBpY2tlclZpZXcgfHwgKERhdGVUaW1lUGlja2VyVmlldyA9IHt9KSk7XG5cbnZhciBEYXRlVGltZVBpY2tlclZpZXckMSA9IERhdGVUaW1lUGlja2VyVmlldztcblxudmFyIHN0eWxlcyRlID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIHBhZGRpbmdMZWZ0OiAxNixcbiAgICAgIHBhZGRpbmdSaWdodDogMTYsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWFyb3VuZCdcbiAgICB9LFxuICAgIHNlcGFyYXRvcjoge1xuICAgICAgbWFyZ2luOiAnMCA0cHggMCAycHgnLFxuICAgICAgY3Vyc29yOiAnZGVmYXVsdCdcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb246IHtcbiAgICAgIHRvcDogOSxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgbWFyZ2luTGVmdDogMTAsXG4gICAgICBtYXJnaW5SaWdodDogLTEwXG4gICAgfSxcbiAgICBhbXBtTGFiZWw6IHtcbiAgICAgIGZvbnRTaXplOiAxOFxuICAgIH0sXG4gICAgaG91ck1pbnV0ZUxhYmVsOiB7XG4gICAgICB0b3A6IDUsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJyxcbiAgICAgIGZsZXhEaXJlY3Rpb246IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCcgPyAncm93LXJldmVyc2UnIDogJ3JvdydcbiAgICB9LFxuICAgIGRhdGVIZWFkZXI6IHtcbiAgICAgIGhlaWdodDogNjBcbiAgICB9LFxuICAgIHRpbWVIZWFkZXI6IHtcbiAgICAgIGhlaWdodDogNjUsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCdcbiAgICB9XG4gIH0pO1xufTtcbnZhciBEYXRlVGltZVBpY2tlckhlYWRlciA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIG9wZW5WaWV3ID0gX2Eub3BlblZpZXcsXG4gICAgICBtZXJpZGllbU1vZGUgPSBfYS5tZXJpZGllbU1vZGUsXG4gICAgICBvbk9wZW5WaWV3Q2hhbmdlID0gX2Eub25PcGVuVmlld0NoYW5nZSxcbiAgICAgIHNldE1lcmlkaWVtTW9kZSA9IF9hLnNldE1lcmlkaWVtTW9kZSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBhbXBtID0gX2EuYW1wbTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoUGlja2VyVG9vbGJhciQxLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRvb2xiYXJcbiAgfSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmRhdGVIZWFkZXJcbiAgfSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLllFQVIpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSLFxuICAgIGxhYmVsOiB1dGlscy5nZXRZZWFyVGV4dChkYXRlKVxuICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImg0XCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURSk7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUsXG4gICAgbGFiZWw6IHV0aWxzLmdldERhdGVUaW1lUGlja2VySGVhZGVyVGV4dChkYXRlKVxuICB9KSksIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50aW1lSGVhZGVyXG4gIH0sIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5ob3VyTWludXRlTGFiZWxcbiAgfSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImgzXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuSE9VUik7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIsXG4gICAgbGFiZWw6IHV0aWxzLmdldEhvdXJUZXh0KGRhdGUsIGFtcG0pXG4gIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgIHZhcmlhbnQ6IFwiaDNcIixcbiAgICBsYWJlbDogXCI6XCIsXG4gICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZXBhcmF0b3JcbiAgfSksIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoM1wiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTLFxuICAgIGxhYmVsOiB1dGlscy5nZXRNaW51dGVUZXh0KGRhdGUpXG4gIH0pKSwgYW1wbSAmJiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbVNlbGVjdGlvblxuICB9LCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hbXBtTGFiZWwsXG4gICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ2FtJyxcbiAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgIGxhYmVsOiB1dGlscy5nZXRNZXJpZGllbVRleHQoJ2FtJyksXG4gICAgb25DbGljazogc2V0TWVyaWRpZW1Nb2RlKCdhbScpXG4gIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hbXBtTGFiZWwsXG4gICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ3BtJyxcbiAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgIGxhYmVsOiB1dGlscy5nZXRNZXJpZGllbVRleHQoJ3BtJyksXG4gICAgb25DbGljazogc2V0TWVyaWRpZW1Nb2RlKCdwbScpXG4gIH0pKSkpO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVUaW1lUGlja2VySGVhZGVyLnByb3BUeXBlcyA9IHtcbiAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBtZXJpZGllbU1vZGU6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBvcGVuVmlldzogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9uT3BlblZpZXdDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgc2V0TWVyaWRpZW1Nb2RlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgYW1wbTogYm9vbCxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcbkRhdGVUaW1lUGlja2VySGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYW1wbTogdHJ1ZVxufTtcbnZhciBEYXRldGltZVBpY2tlckhlYWRlciA9IHdpdGhTdHlsZXMkMShzdHlsZXMkZSwge1xuICBuYW1lOiAnTXVpUGlja2VyRFRIZWFkZXInXG59KSh3aXRoVXRpbHMoKShEYXRlVGltZVBpY2tlckhlYWRlcikpO1xuXG52YXIgdmlld1RvVGFiSW5kZXggPSBmdW5jdGlvbiAob3BlblZpZXcpIHtcbiAgaWYgKG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFIHx8IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSKSB7XG4gICAgcmV0dXJuICdkYXRlJztcbiAgfVxuXG4gIHJldHVybiAndGltZSc7XG59O1xuXG52YXIgdGFiSW5kZXhUb1ZpZXcgPSBmdW5jdGlvbiAodGFiKSB7XG4gIGlmICh0YWIgPT09ICdkYXRlJykge1xuICAgIHJldHVybiBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFO1xuICB9XG5cbiAgcmV0dXJuIERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVI7XG59O1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJUYWJzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2aWV3ID0gcHJvcHMudmlldyxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIHRoZW1lID0gcHJvcHMudGhlbWUsXG4gICAgICBkYXRlUmFuZ2VJY29uID0gcHJvcHMuZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uID0gcHJvcHMudGltZUljb247XG4gIHZhciBpbmRpY2F0b3JDb2xvciA9IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0JyA/ICdzZWNvbmRhcnknIDogJ3ByaW1hcnknO1xuXG4gIHZhciBoYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHZpZXdUb1RhYkluZGV4KHZpZXcpKSB7XG4gICAgICBvbkNoYW5nZSh0YWJJbmRleFRvVmlldyh2YWx1ZSkpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChQYXBlciwgbnVsbCwgY3JlYXRlRWxlbWVudChUYWJzLCB7XG4gICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgIHZhbHVlOiB2aWV3VG9UYWJJbmRleCh2aWV3KSxcbiAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50YWJzLFxuICAgIGluZGljYXRvckNvbG9yOiBpbmRpY2F0b3JDb2xvclxuICB9LCBjcmVhdGVFbGVtZW50KFRhYiwge1xuICAgIHZhbHVlOiBcImRhdGVcIixcbiAgICBpY29uOiBjcmVhdGVFbGVtZW50KEljb24sIG51bGwsIGRhdGVSYW5nZUljb24pXG4gIH0pLCBjcmVhdGVFbGVtZW50KFRhYiwge1xuICAgIHZhbHVlOiBcInRpbWVcIixcbiAgICBpY29uOiBjcmVhdGVFbGVtZW50KEljb24sIG51bGwsIHRpbWVJY29uKVxuICB9KSkpO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVUaW1lUGlja2VyVGFicy5wcm9wVHlwZXMgPSB7XG4gIHZpZXc6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBkYXRlUmFuZ2VJY29uOiBub2RlLmlzUmVxdWlyZWQsXG4gIHRpbWVJY29uOiBub2RlLmlzUmVxdWlyZWRcbn0gOiB2b2lkIDA7XG52YXIgc3R5bGVzJGYgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0YWJzOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0JyA/IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluIDogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kW1wiZGVmYXVsdFwiXVxuICAgIH1cbiAgfTtcbn07XG52YXIgRGF0ZVRpbWVQaWNrZXJUYWJzJDEgPSB3aXRoVGhlbWUoKSh3aXRoU3R5bGVzJDEoc3R5bGVzJGYsIHtcbiAgbmFtZTogJ011aVBpY2tlckRUVGFicydcbn0pKERhdGVUaW1lUGlja2VyVGFicykpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJWaWV3JDIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHNlbGVjdGVkID0gX2Euc2VsZWN0ZWQsXG4gICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuO1xuXG4gIGlmICghc2VsZWN0ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgfSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVRpbWVQaWNrZXJWaWV3JDIucHJvcFR5cGVzID0ge1xuICBzZWxlY3RlZDogYm9vbC5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoRGF0ZVRpbWVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVRpbWVQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW5WaWV3OiBfdGhpcy5wcm9wcy5vcGVuVG8sXG4gICAgICBtZXJpZGllbU1vZGU6IF90aGlzLnByb3BzLnV0aWxzLmdldEhvdXJzKF90aGlzLnByb3BzLmRhdGUpID49IDEyID8gJ3BtJyA6ICdhbSdcbiAgICB9O1xuXG4gICAgX3RoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gsIG5leHRWaWV3KSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh0aW1lKTtcblxuICAgICAgaWYgKGlzRmluaXNoICYmIF90aGlzLnByb3BzLmF1dG9TdWJtaXQpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlVmlld0NoYW5nZShuZXh0Vmlldyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnNldE1lcmlkaWVtTW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbWVyaWRpZW1Nb2RlOiBtb2RlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnByb3BzLmRhdGUsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVWaWV3Q2hhbmdlID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IHZpZXdcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlzRmluaXNoID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciB3aXRoTWVyaWRpZW0gPSBjb252ZXJ0VG9NZXJpZGllbSh0aW1lLCBfdGhpcy5zdGF0ZS5tZXJpZGllbU1vZGUsIEJvb2xlYW4oX3RoaXMucHJvcHMuYW1wbSksIF90aGlzLnByb3BzLnV0aWxzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uod2l0aE1lcmlkaWVtLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVllYXJDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgX3RoaXMub25DaGFuZ2UoZGF0ZSwgZmFsc2UsIERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVEYXlDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLm9uQ2hhbmdlKGRhdGUsIGlzRmluaXNoLCBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlSG91ckNoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMub25DaGFuZ2UodGltZSwgaXNGaW5pc2gsIERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXRlVGltZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIG9wZW5WaWV3ID0gX2Eub3BlblZpZXcsXG4gICAgICAgIG1lcmlkaWVtTW9kZSA9IF9hLm1lcmlkaWVtTW9kZTtcbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBkYXRlID0gX2IuZGF0ZSxcbiAgICAgICAgbWluRGF0ZSA9IF9iLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYi5tYXhEYXRlLFxuICAgICAgICBzaG93VGFicyA9IF9iLnNob3dUYWJzLFxuICAgICAgICBkaXNhYmxlUGFzdCA9IF9iLmRpc2FibGVQYXN0LFxuICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2IuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgbGVmdEFycm93SWNvbiA9IF9iLmxlZnRBcnJvd0ljb24sXG4gICAgICAgIHJpZ2h0QXJyb3dJY29uID0gX2IucmlnaHRBcnJvd0ljb24sXG4gICAgICAgIGRhdGVSYW5nZUljb24gPSBfYi5kYXRlUmFuZ2VJY29uLFxuICAgICAgICB0aW1lSWNvbiA9IF9iLnRpbWVJY29uLFxuICAgICAgICByZW5kZXJEYXkgPSBfYi5yZW5kZXJEYXksXG4gICAgICAgIGFtcG0gPSBfYi5hbXBtLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9iLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IF9iLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IF9iLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50ID0gX2IuVmlld0NvbnRhaW5lckNvbXBvbmVudDtcbiAgICB2YXIgQ29udGFpbmVyID0gVmlld0NvbnRhaW5lckNvbXBvbmVudDtcbiAgICB2YXIgVmlld0NvbnRhaW5lckNvbXBvbmVudFByb3BzID0gdHlwZW9mIFZpZXdDb250YWluZXJDb21wb25lbnQgPT09ICdzdHJpbmcnID8ge30gOiB7XG4gICAgICBvcGVuVmlldzogb3BlblZpZXcsXG4gICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZVxuICAgIH07XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGNyZWF0ZUVsZW1lbnQoRGF0ZXRpbWVQaWNrZXJIZWFkZXIsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBvcGVuVmlldzogb3BlblZpZXcsXG4gICAgICBtZXJpZGllbU1vZGU6IG1lcmlkaWVtTW9kZSxcbiAgICAgIHNldE1lcmlkaWVtTW9kZTogdGhpcy5zZXRNZXJpZGllbU1vZGUsXG4gICAgICBvbk9wZW5WaWV3Q2hhbmdlOiB0aGlzLmhhbmRsZVZpZXdDaGFuZ2UsXG4gICAgICBhbXBtOiBhbXBtXG4gICAgfSksIHNob3dUYWJzICYmIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXJUYWJzJDEsIHtcbiAgICAgIHZpZXc6IG9wZW5WaWV3LFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlVmlld0NoYW5nZSxcbiAgICAgIGRhdGVSYW5nZUljb246IGRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbjogdGltZUljb25cbiAgICB9KSwgY3JlYXRlRWxlbWVudChDb250YWluZXIsIF9fYXNzaWduKHt9LCBWaWV3Q29udGFpbmVyQ29tcG9uZW50UHJvcHMpLCBjcmVhdGVFbGVtZW50KERhdGVUaW1lUGlja2VyVmlldyQyLCB7XG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLllFQVJcbiAgICB9LCBjcmVhdGVFbGVtZW50KFllYXJTZWxlY3Rpb24kMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlWWVhckNoYW5nZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmdcbiAgICB9KSksIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXJWaWV3JDIsIHtcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURVxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoQ2FsZW5kYXIkMSwge1xuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRGF5Q2hhbmdlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZVxuICAgIH0pKSwgY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlclZpZXckMiwge1xuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSIHx8IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTXG4gICAgfSwgY3JlYXRlRWxlbWVudChUaW1lUGlja2VyVmlldyQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgdHlwZTogb3BlblZpZXcsXG4gICAgICBvbkhvdXJDaGFuZ2U6IHRoaXMuaGFuZGxlSG91ckNoYW5nZSxcbiAgICAgIG9uTWludXRlc0NoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICBvblNlY29uZHNDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0pKSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVUaW1lUGlja2VyLnByb3BUeXBlcyA9IHtcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgICBhbXBtOiBib29sLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICAgIGF1dG9TdWJtaXQ6IGJvb2wsXG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW5pdGlhbEZvY3VzZWREYXRlOiBhbnksXG4gICAgaW5uZXJSZWY6IGFueSxcbiAgICBkYXRlUmFuZ2VJY29uOiBub2RlLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZS5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvcGVuVG86IG9uZU9mKE9iamVjdC5rZXlzKERhdGVUaW1lUGlja2VyVmlldyQxKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lUGlja2VyVmlldyQxW2tleV07XG4gICAgfSkpLmlzUmVxdWlyZWQsXG4gICAgcmVuZGVyRGF5OiBmdW5jLFxuICAgIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIHNob3dUYWJzOiBib29sLFxuICAgIHRpbWVJY29uOiBub2RlLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50OiBvbmVPZlR5cGUoW3N0cmluZywgZnVuYywgb2JqZWN0XSlcbiAgfSA6IHZvaWQgMDtcbiAgRGF0ZVRpbWVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBmYWxzZSxcbiAgICBhbXBtOiB0cnVlLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgICBhdXRvU3VibWl0OiB0cnVlLFxuICAgIGRhdGVSYW5nZUljb246IHVuZGVmaW5lZCxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gICAgbGVmdEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICAgIHJpZ2h0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgICBzaG93VGFiczogdHJ1ZSxcbiAgICB0aW1lSWNvbjogdW5kZWZpbmVkLFxuICAgIFZpZXdDb250YWluZXJDb21wb25lbnQ6ICdkaXYnXG4gIH07XG4gIHJldHVybiBEYXRlVGltZVBpY2tlcjtcbn0oQ29tcG9uZW50KTtcbnZhciBEYXRlVGltZVBpY2tlciQxID0gd2l0aFV0aWxzKCkoRGF0ZVRpbWVQaWNrZXIpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9wZW5UbyA9IHByb3BzLm9wZW5UbyxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBwcm9wcy5pbml0aWFsRm9jdXNlZERhdGUsXG4gICAgICBzaG93VGFicyA9IHByb3BzLnNob3dUYWJzLFxuICAgICAgYXV0b1N1Ym1pdCA9IHByb3BzLmF1dG9TdWJtaXQsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gcHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBkYXRlUmFuZ2VJY29uID0gcHJvcHMuZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uID0gcHJvcHMudGltZUljb24sXG4gICAgICByZW5kZXJEYXkgPSBwcm9wcy5yZW5kZXJEYXksXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBwcm9wcy5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIG90aGVyID0gX19yZXN0KHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImF1dG9Pa1wiLCBcIm9wZW5Ub1wiLCBcIm1pbkRhdGVcIiwgXCJtYXhEYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwic2hvd1RhYnNcIiwgXCJhdXRvU3VibWl0XCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwibGVmdEFycm93SWNvblwiLCBcInJpZ2h0QXJyb3dJY29uXCIsIFwiZGF0ZVJhbmdlSWNvblwiLCBcInRpbWVJY29uXCIsIFwicmVuZGVyRGF5XCIsIFwiYW1wbVwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiXSk7IC8vIGRvIG5vdCBzaG93IHRhYnMgZm9yIHNtYWxsIHNjcmVlbnNcblxuXG4gIHZhciB0b1Nob3dUYWJzID0gc2hvd1RhYnMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmlubmVySGVpZ2h0ID4gNjY3O1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChCYXNlUGlja2VyJDEsIF9fYXNzaWduKHt9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0LFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZUNsZWFyID0gX2EuaGFuZGxlQ2xlYXIsXG4gICAgICAgIGhhbmRsZURpc21pc3MgPSBfYS5oYW5kbGVEaXNtaXNzLFxuICAgICAgICBoYW5kbGVTZXRUb2RheURhdGUgPSBfYS5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdCA9IF9hLnBpY2sxMmhPcjI0aEZvcm1hdDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChNb2RhbFdyYXBwZXIsIF9fYXNzaWduKHtcbiAgICAgIHNob3dUYWJzOiB0b1Nob3dUYWJzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIG9uQ2xlYXI6IGhhbmRsZUNsZWFyLFxuICAgICAgb25EaXNtaXNzOiBoYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLmRhdGVUaW1lMTJoRm9ybWF0LCB1dGlscy5kYXRlVGltZTI0aEZvcm1hdClcbiAgICB9LCBvdGhlciksIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXIkMSwge1xuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9TdWJtaXQ6IGF1dG9TdWJtaXQsXG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgZGF0ZVJhbmdlSWNvbjogZGF0ZVJhbmdlSWNvbixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvOiBvcGVuVG8sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHNob3dUYWJzOiB0b1Nob3dUYWJzLFxuICAgICAgdGltZUljb246IHRpbWVJY29uXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlVGltZVBpY2tlck1vZGFsLnByb3BUeXBlcyA9IHtcbiAgLyoqIERhdGUtdGltZSBwaWNrZXIgdmFsdWUgKi9cbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBEYXRlIGZvcm1hdCBzdHJpbmcgZm9yIGlucHV0ICovXG4gIGZvcm1hdDogc3RyaW5nLFxuXG4gIC8qKiBDYWxsYmFjayBmaXJpbmcgd2hlbiBkYXRlIGFjY2VwdGVkIFsoZGF0ZTogRGF0ZSkgPT4gdm9pZF0gKi9cbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKiogQXV0byBhY2NlcHQgZGF0ZSBvbiBtaW51dGUgc2VsZWN0aW9uICovXG4gIGF1dG9PazogYm9vbCxcblxuICAvKiogTW92ZSB0byB0aGUgbmV4dCBwYXJ0IG9mIGRhdGUgb24gc2VsZWN0ICh5ZWFyIC0+IGRhdGUgLT4gaG91ciAtPiBtaW51dGUpICovXG4gIGF1dG9TdWJtaXQ6IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgZnV0dXJlIGRhdGVzICovXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgcGFzdCBkYXRlcyAqL1xuICBkaXNhYmxlUGFzdDogYm9vbCxcblxuICAvKiogTWluIHNlbGVjdGFibGUgZGF0ZSAqL1xuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogTWF4IHNlbGVjdGFibGUgZGF0ZSAqL1xuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogSW5pdGlhbCBmb2N1c2VkIGRhdGUgd2hlbiBjYWxlbmRhciBvcGVucywgaWYgbm8gdmFsdWUgaXMgcHJvdmlkZWQgKi9cbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogU2hvdyBkYXRlL3RpbWUgdGFicyAqL1xuICBzaG93VGFiczogYm9vbCxcblxuICAvKiogTGVmdCBhcnJvdyBpY29uICovXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG5cbiAgLyoqIFJpZ2h0IGFycm93IGljb24gKi9cbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG5cbiAgLyoqIERhdGUgdGFiIGljb24gKi9cbiAgZGF0ZVJhbmdlSWNvbjogbm9kZSxcblxuICAvKiogVGltZSB0YWIgaWNvbiAqL1xuICB0aW1lSWNvbjogbm9kZSxcblxuICAvKipcbiAgICogQ3VzdG9tIHJlbmRlcmVyIGZvciBkYXlcbiAgICogWyhkYXRlOiBEYXRlLCBub3dTZWxlY3RlZERhdGU6IERhdGUsIGlzSW5DdXJyZW50TW9udGg6IGJvb2xlYW4pID0+IFJlYWN0RWxlbWVudF1cbiAgICovXG4gIHJlbmRlckRheTogZnVuYyxcblxuICAvKiogMTJoLzI0aCB2aWV3IGZvciBob3VyIHNlbGVjdGlvbiBjbG9jayAqL1xuICBhbXBtOiBib29sLFxuXG4gIC8qKiBEaXNhYmxlIHNwZWNpZmljIGRhdGUgWyhkYXRlOiBEYXRlKSA9PiBib29sZWFuXSAqL1xuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcblxuICAvKiogRW5hYmxlIGFuaW1hdGVkIHNjcm9sbGluZyB0byBjdXJyZW50IHllYXIgKi9cbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG5cbiAgLyoqIE9wZW4gZGlyZWN0bHkgdG8gcGFydGljdWxhciB2aWV3ICovXG4gIG9wZW5Ubzogb25lT2YoWyd5ZWFyJywgJ2RhdGUnLCAnaG91cicsICdtaW51dGVzJ10pLFxuXG4gIC8qKiBFbmFibGVzIGtleWJvYXJkIGxpc3RlbmVyIGZvciBtb3ZpbmcgYmV0d2VlbiBkYXlzIGluIGNhbGVuZGFyICovXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5EYXRlVGltZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhdXRvU3VibWl0OiB0cnVlLFxuICBvcGVuVG86ICdkYXRlJyxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBzaG93VGFiczogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgZGF0ZVJhbmdlSWNvbjogJ2RhdGVfcmFuZ2UnLFxuICB0aW1lSWNvbjogJ2FjY2Vzc190aW1lJyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGFtcG06IHRydWUsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlXG59O1xudmFyIERhdGVUaW1lUGlja2VyTW9kYWwkMSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXJNb2RhbCwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBEYXRlVGltZVBpY2tlcklubGluZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9wZW5UbyA9IHByb3BzLm9wZW5UbyxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBwcm9wcy5pbml0aWFsRm9jdXNlZERhdGUsXG4gICAgICBzaG93VGFicyA9IHByb3BzLnNob3dUYWJzLFxuICAgICAgYXV0b1N1Ym1pdCA9IHByb3BzLmF1dG9TdWJtaXQsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gcHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBkYXRlUmFuZ2VJY29uID0gcHJvcHMuZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uID0gcHJvcHMudGltZUljb24sXG4gICAgICByZW5kZXJEYXkgPSBwcm9wcy5yZW5kZXJEYXksXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBwcm9wcy5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIG90aGVyID0gX19yZXN0KHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImF1dG9Pa1wiLCBcIm9wZW5Ub1wiLCBcIm1pbkRhdGVcIiwgXCJtYXhEYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwic2hvd1RhYnNcIiwgXCJhdXRvU3VibWl0XCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwibGVmdEFycm93SWNvblwiLCBcInJpZ2h0QXJyb3dJY29uXCIsIFwiZGF0ZVJhbmdlSWNvblwiLCBcInRpbWVJY29uXCIsIFwicmVuZGVyRGF5XCIsIFwiYW1wbVwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiXSk7XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQmFzZVBpY2tlciQxLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBhdXRvT2s6IHRydWVcbiAgfSksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChJbmxpbmVXcmFwcGVyJDEsIF9fYXNzaWduKHtcbiAgICAgIGlubmVyUmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGhhbmRsZUFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgZm9ybWF0OiBwaWNrMTJoT3IyNGhGb3JtYXQodXRpbHMuZGF0ZVRpbWUxMmhGb3JtYXQsIHV0aWxzLmRhdGVUaW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlciQxLCB7XG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgYXV0b1N1Ym1pdDogYXV0b1N1Ym1pdCxcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBkYXRlUmFuZ2VJY29uOiBkYXRlUmFuZ2VJY29uLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBvcGVuVG86IG9wZW5UbyxcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlLFxuICAgICAgc2hvd1RhYnM6IHNob3dUYWJzLFxuICAgICAgdGltZUljb246IHRpbWVJY29uXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlVGltZVBpY2tlcklubGluZS5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogYm9vbCxcbiAgYXV0b1N1Ym1pdDogYm9vbCxcbiAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgc2hvd1RhYnM6IGJvb2wsXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICBkYXRlUmFuZ2VJY29uOiBub2RlLFxuICB0aW1lSWNvbjogbm9kZSxcbiAgcmVuZGVyRGF5OiBmdW5jLFxuICBhbXBtOiBib29sLFxuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gIG9wZW5Ubzogb25lT2YoWyd5ZWFyJywgJ2RhdGUnLCAnaG91cicsICdtaW51dGVzJ10pLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuRGF0ZVRpbWVQaWNrZXJJbmxpbmUuZGVmYXVsdFByb3BzID0ge1xuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIGF1dG9PazogZmFsc2UsXG4gIGF1dG9TdWJtaXQ6IHRydWUsXG4gIG9wZW5UbzogJ2RhdGUnLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiB1bmRlZmluZWQsXG4gIHNob3dUYWJzOiB0cnVlLFxuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICBkYXRlUmFuZ2VJY29uOiAnZGF0ZV9yYW5nZScsXG4gIHRpbWVJY29uOiAnYWNjZXNzX3RpbWUnLFxuICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgYW1wbTogdHJ1ZSxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IHRydWVcbn07XG52YXIgRGF0ZVRpbWVQaWNrZXJJbmxpbmUkMSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXJJbmxpbmUsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG5leHBvcnQgeyBEYXRlUGlja2VyTW9kYWwkMSBhcyBEYXRlUGlja2VyLCBEYXRlUGlja2VySW5saW5lJDEgYXMgSW5saW5lRGF0ZVBpY2tlciwgVGltZVBpY2tlck1vZGFsJDEgYXMgVGltZVBpY2tlciwgVGltZVBpY2tlcklubGluZSQxIGFzIElubGluZVRpbWVQaWNrZXIsIERhdGVUaW1lUGlja2VyTW9kYWwkMSBhcyBEYXRlVGltZVBpY2tlciwgRGF0ZVRpbWVQaWNrZXJJbmxpbmUkMSBhcyBJbmxpbmVEYXRlVGltZVBpY2tlciwgQmFzZVBpY2tlciQxIGFzIEJhc2VQaWNrZXIsIENhbGVuZGFyJDEgYXMgQ2FsZW5kYXIsIERheSQxIGFzIERheSwgVGltZVBpY2tlclZpZXckMSBhcyBUaW1lUGlja2VyVmlldywgQ2xvY2skMSBhcyBDbG9jaywgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGVyaWFsLXVpLXBpY2tlcnMuZXNtLmpzLm1hcFxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbWF0ZXJpYWwtdWktcGlja2Vycy9kaXN0L21hdGVyaWFsLXVpLXBpY2tlcnMuZXNtLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDc3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGFkZENsYXNzO1xuXG52YXIgX2hhc0NsYXNzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9oYXNDbGFzc1wiKSk7XG5cbmZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO2Vsc2UgaWYgKCEoMCwgX2hhc0NsYXNzLmRlZmF1bHQpKGVsZW1lbnQsIGNsYXNzTmFtZSkpIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgPT09ICdzdHJpbmcnKSBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnICsgY2xhc3NOYW1lO2Vsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKGVsZW1lbnQuY2xhc3NOYW1lICYmIGVsZW1lbnQuY2xhc3NOYW1lLmJhc2VWYWwgfHwgJycpICsgJyAnICsgY2xhc3NOYW1lKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9hZGRDbGFzcy5qc1xuLy8gbW9kdWxlIGlkID0gNjA3OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHJlcGxhY2VDbGFzc05hbWUob3JpZ0NsYXNzLCBjbGFzc1RvUmVtb3ZlKSB7XG4gIHJldHVybiBvcmlnQ2xhc3MucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgY2xhc3NUb1JlbW92ZSArICcoPzpcXFxcc3wkKScsICdnJyksICckMScpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7ZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSByZXBsYWNlQ2xhc3NOYW1lKGVsZW1lbnQuY2xhc3NOYW1lLCBjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgcmVwbGFjZUNsYXNzTmFtZShlbGVtZW50LmNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8ICcnLCBjbGFzc05hbWUpKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MuanNcbi8vIG1vZHVsZSBpZCA9IDYwNzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbnZhciBwcm9wVHlwZXMgPSB7XG4gIHRob3VzYW5kU2VwYXJhdG9yOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoW3RydWVdKV0pLFxuICBkZWNpbWFsU2VwYXJhdG9yOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICB0aG91c2FuZHNHcm91cFN0eWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWyd0aG91c2FuZCcsICdsYWtoJywgJ3dhbiddKSxcbiAgZGVjaW1hbFNjYWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLFxuICBmaXhlZERlY2ltYWxTY2FsZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIGRpc3BsYXlUeXBlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWydpbnB1dCcsICd0ZXh0J10pLFxuICBwcmVmaXg6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIHN1ZmZpeDogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcbiAgZm9ybWF0OiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY10pLFxuICByZW1vdmVGb3JtYXR0aW5nOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgbWFzazogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyldKSxcbiAgdmFsdWU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIsIF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmddKSxcbiAgZGVmYXVsdFZhbHVlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLCBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nXSksXG4gIGlzTnVtZXJpY1N0cmluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIGN1c3RvbUlucHV0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgYWxsb3dOZWdhdGl2ZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIGFsbG93RW1wdHlGb3JtYXR0aW5nOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcbiAgb25WYWx1ZUNoYW5nZTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uS2V5RG93bjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uTW91c2VVcDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgb25Gb2N1czogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uQmx1cjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIHR5cGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZihbJ3RleHQnLCAndGVsJywgJ3Bhc3N3b3JkJ10pLFxuICBpc0FsbG93ZWQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICByZW5kZXJUZXh0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgZ2V0SW5wdXRSZWY6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jXG59O1xudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzcGxheVR5cGU6ICdpbnB1dCcsXG4gIGRlY2ltYWxTZXBhcmF0b3I6ICcuJyxcbiAgdGhvdXNhbmRzR3JvdXBTdHlsZTogJ3Rob3VzYW5kJyxcbiAgZml4ZWREZWNpbWFsU2NhbGU6IGZhbHNlLFxuICBwcmVmaXg6ICcnLFxuICBzdWZmaXg6ICcnLFxuICBhbGxvd05lZ2F0aXZlOiB0cnVlLFxuICBhbGxvd0VtcHR5Rm9ybWF0dGluZzogZmFsc2UsXG4gIGlzTnVtZXJpY1N0cmluZzogZmFsc2UsXG4gIHR5cGU6ICd0ZXh0JyxcbiAgb25WYWx1ZUNoYW5nZTogX3V0aWxzLm5vb3AsXG4gIG9uQ2hhbmdlOiBfdXRpbHMubm9vcCxcbiAgb25LZXlEb3duOiBfdXRpbHMubm9vcCxcbiAgb25Nb3VzZVVwOiBfdXRpbHMubm9vcCxcbiAgb25Gb2N1czogX3V0aWxzLm5vb3AsXG4gIG9uQmx1cjogX3V0aWxzLm5vb3AsXG4gIGlzQWxsb3dlZDogX3V0aWxzLnJldHVyblRydWUsXG4gIGdldElucHV0UmVmOiBfdXRpbHMubm9vcFxufTtcblxudmFyIE51bWJlckZvcm1hdCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTnVtYmVyRm9ybWF0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBOdW1iZXJGb3JtYXQocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtYmVyRm9ybWF0KTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKE51bWJlckZvcm1hdCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7IC8vdmFsaWRhdGUgcHJvcHNcblxuICAgIF90aGlzLnZhbGlkYXRlUHJvcHMoKTtcblxuICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IF90aGlzLmZvcm1hdFZhbHVlUHJvcChkZWZhdWx0VmFsdWUpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICBudW1Bc1N0cmluZzogX3RoaXMucmVtb3ZlRm9ybWF0dGluZyhmb3JtYXR0ZWRWYWx1ZSlcbiAgICB9O1xuICAgIF90aGlzLnNlbGVjdGlvbkJlZm9yZUlucHV0ID0ge1xuICAgICAgc2VsZWN0aW9uU3RhcnQ6IDAsXG4gICAgICBzZWxlY3Rpb25FbmQ6IDBcbiAgICB9O1xuICAgIF90aGlzLm9uQ2hhbmdlID0gX3RoaXMub25DaGFuZ2UuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgX3RoaXMub25LZXlEb3duID0gX3RoaXMub25LZXlEb3duLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgIF90aGlzLm9uTW91c2VVcCA9IF90aGlzLm9uTW91c2VVcC5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICBfdGhpcy5vbkZvY3VzID0gX3RoaXMub25Gb2N1cy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICBfdGhpcy5vbkJsdXIgPSBfdGhpcy5vbkJsdXIuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE51bWJlckZvcm1hdCwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgIHRoaXMudXBkYXRlVmFsdWVJZlJlcXVpcmVkKHByZXZQcm9wcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVZhbHVlSWZSZXF1aXJlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWYWx1ZUlmUmVxdWlyZWQocHJldlByb3BzKSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBmb2N1c2VkRWxtID0gdGhpcy5mb2N1c2VkRWxtO1xuICAgICAgdmFyIHN0YXRlVmFsdWUgPSBzdGF0ZS52YWx1ZSxcbiAgICAgICAgICBfc3RhdGUkbnVtQXNTdHJpbmcgPSBzdGF0ZS5udW1Bc1N0cmluZyxcbiAgICAgICAgICBsYXN0TnVtU3RyID0gX3N0YXRlJG51bUFzU3RyaW5nID09PSB2b2lkIDAgPyAnJyA6IF9zdGF0ZSRudW1Bc1N0cmluZztcblxuICAgICAgaWYgKHByZXZQcm9wcyAhPT0gcHJvcHMpIHtcbiAgICAgICAgLy92YWxpZGF0ZSBwcm9wc1xuICAgICAgICB0aGlzLnZhbGlkYXRlUHJvcHMoKTtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZVdpdGhOZXdGb3JtYXQgPSB0aGlzLmZvcm1hdE51bVN0cmluZyhsYXN0TnVtU3RyKTtcbiAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gcHJvcHMudmFsdWUgPT09IHVuZGVmaW5lZCA/IGxhc3RWYWx1ZVdpdGhOZXdGb3JtYXQgOiB0aGlzLmZvcm1hdFZhbHVlUHJvcCgpO1xuICAgICAgICB2YXIgbnVtQXNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQobnVtQXNTdHJpbmcpO1xuICAgICAgICB2YXIgbGFzdEZsb2F0VmFsdWUgPSBwYXJzZUZsb2F0KGxhc3ROdW1TdHIpO1xuXG4gICAgICAgIGlmICggLy93aGlsZSB0eXBpbmcgc2V0IHN0YXRlIG9ubHkgd2hlbiBmbG9hdCB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICghaXNOYU4oZmxvYXRWYWx1ZSkgfHwgIWlzTmFOKGxhc3RGbG9hdFZhbHVlKSkgJiYgZmxvYXRWYWx1ZSAhPT0gbGFzdEZsb2F0VmFsdWUgfHwgLy9jYW4gYWxzbyBzZXQgc3RhdGUgd2hlbiBmbG9hdCB2YWx1ZSBpcyBzYW1lIGFuZCB0aGUgZm9ybWF0IHByb3BzIGNoYW5nZXNcbiAgICAgICAgbGFzdFZhbHVlV2l0aE5ld0Zvcm1hdCAhPT0gc3RhdGVWYWx1ZSB8fCAvL3NldCBzdGF0ZSBhbHdheXMgd2hlbiBub3QgaW4gZm9jdXMgYW5kIGZvcm1hdHRlZCB2YWx1ZSBpcyBjaGFuZ2VkXG4gICAgICAgIGZvY3VzZWRFbG0gPT09IG51bGwgJiYgZm9ybWF0dGVkVmFsdWUgIT09IHN0YXRlVmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlOiBmb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgICAgIG51bUFzU3RyaW5nOiBudW1Bc1N0cmluZyxcbiAgICAgICAgICAgIGlucHV0OiBmb2N1c2VkRWxtXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqIE1pc2MgbWV0aG9kcyAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldEZsb2F0U3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZsb2F0U3RyaW5nKCkge1xuICAgICAgdmFyIG51bSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICB2YXIgZGVjaW1hbFNjYWxlID0gdGhpcy5wcm9wcy5kZWNpbWFsU2NhbGU7XG5cbiAgICAgIHZhciBfdGhpcyRnZXRTZXBhcmF0b3JzID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgdmFyIG51bVJlZ2V4ID0gdGhpcy5nZXROdW1iZXJSZWdleCh0cnVlKTsgLy9yZW1vdmUgbmVnYXRpb24gZm9yIHJlZ2V4IGNoZWNrXG5cbiAgICAgIHZhciBoYXNOZWdhdGlvbiA9IG51bVswXSA9PT0gJy0nO1xuICAgICAgaWYgKGhhc05lZ2F0aW9uKSBudW0gPSBudW0ucmVwbGFjZSgnLScsICcnKTsgLy9pZiBkZWNpbWFsIHNjYWxlIGlzIHplcm8gcmVtb3ZlIGRlY2ltYWwgYW5kIG51bWJlciBhZnRlciBkZWNpbWFsU2VwYXJhdG9yXG5cbiAgICAgIGlmIChkZWNpbWFsU2VwYXJhdG9yICYmIGRlY2ltYWxTY2FsZSA9PT0gMCkge1xuICAgICAgICBudW0gPSBudW0uc3BsaXQoZGVjaW1hbFNlcGFyYXRvcilbMF07XG4gICAgICB9XG5cbiAgICAgIG51bSA9IChudW0ubWF0Y2gobnVtUmVnZXgpIHx8IFtdKS5qb2luKCcnKS5yZXBsYWNlKGRlY2ltYWxTZXBhcmF0b3IsICcuJyk7IC8vcmVtb3ZlIGV4dHJhIGRlY2ltYWxzXG5cbiAgICAgIHZhciBmaXJzdERlY2ltYWxJbmRleCA9IG51bS5pbmRleE9mKCcuJyk7XG5cbiAgICAgIGlmIChmaXJzdERlY2ltYWxJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgbnVtID0gXCJcIi5jb25jYXQobnVtLnN1YnN0cmluZygwLCBmaXJzdERlY2ltYWxJbmRleCksIFwiLlwiKS5jb25jYXQobnVtLnN1YnN0cmluZyhmaXJzdERlY2ltYWxJbmRleCArIDEsIG51bS5sZW5ndGgpLnJlcGxhY2UobmV3IFJlZ0V4cCgoMCwgX3V0aWxzLmVzY2FwZVJlZ0V4cCkoZGVjaW1hbFNlcGFyYXRvciksICdnJyksICcnKSk7XG4gICAgICB9IC8vYWRkIG5lZ2F0aW9uIGJhY2tcblxuXG4gICAgICBpZiAoaGFzTmVnYXRpb24pIG51bSA9ICctJyArIG51bTtcbiAgICAgIHJldHVybiBudW07XG4gICAgfSAvL3JldHVybmVkIHJlZ2V4IGFzc3VtZXMgZGVjaW1hbFNlcGFyYXRvciBpcyBhcyBwZXIgcHJvcFxuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TnVtYmVyUmVnZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TnVtYmVyUmVnZXgoZywgaWdub3JlRGVjaW1hbFNlcGFyYXRvcikge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wcy5mb3JtYXQsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHMuZGVjaW1hbFNjYWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczIgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczIuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ1xcXFxkJyArIChkZWNpbWFsU2VwYXJhdG9yICYmIGRlY2ltYWxTY2FsZSAhPT0gMCAmJiAhaWdub3JlRGVjaW1hbFNlcGFyYXRvciAmJiAhZm9ybWF0ID8gJ3wnICsgKDAsIF91dGlscy5lc2NhcGVSZWdFeHApKGRlY2ltYWxTZXBhcmF0b3IpIDogJycpLCBnID8gJ2cnIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U2VwYXJhdG9yc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZXBhcmF0b3JzKCkge1xuICAgICAgdmFyIGRlY2ltYWxTZXBhcmF0b3IgPSB0aGlzLnByb3BzLmRlY2ltYWxTZXBhcmF0b3I7XG4gICAgICB2YXIgdGhvdXNhbmRTZXBhcmF0b3IgPSB0aGlzLnByb3BzLnRob3VzYW5kU2VwYXJhdG9yO1xuXG4gICAgICBpZiAodGhvdXNhbmRTZXBhcmF0b3IgPT09IHRydWUpIHtcbiAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSAnLCc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlY2ltYWxTZXBhcmF0b3I6IGRlY2ltYWxTZXBhcmF0b3IsXG4gICAgICAgIHRob3VzYW5kU2VwYXJhdG9yOiB0aG91c2FuZFNlcGFyYXRvclxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TWFza0F0SW5kZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWFza0F0SW5kZXgoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyRtYXNrID0gdGhpcy5wcm9wcy5tYXNrLFxuICAgICAgICAgIG1hc2sgPSBfdGhpcyRwcm9wcyRtYXNrID09PSB2b2lkIDAgPyAnICcgOiBfdGhpcyRwcm9wcyRtYXNrO1xuXG4gICAgICBpZiAodHlwZW9mIG1hc2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBtYXNrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFza1tpbmRleF0gfHwgJyAnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRWYWx1ZU9iamVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZU9iamVjdChmb3JtYXR0ZWRWYWx1ZSwgbnVtQXNTdHJpbmcpIHtcbiAgICAgIHZhciBmbG9hdFZhbHVlID0gcGFyc2VGbG9hdChudW1Bc1N0cmluZyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgIHZhbHVlOiBudW1Bc1N0cmluZyxcbiAgICAgICAgZmxvYXRWYWx1ZTogaXNOYU4oZmxvYXRWYWx1ZSkgPyB1bmRlZmluZWQgOiBmbG9hdFZhbHVlXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ2YWxpZGF0ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMoKSB7XG4gICAgICB2YXIgbWFzayA9IHRoaXMucHJvcHMubWFzazsgLy92YWxpZGF0ZSBkZWNpbWFsU2VwYXJhdG9yIGFuZCB0aG91c2FuZFNlcGFyYXRvclxuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczMgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczMuZGVjaW1hbFNlcGFyYXRvcixcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMzLnRob3VzYW5kU2VwYXJhdG9yO1xuXG4gICAgICBpZiAoZGVjaW1hbFNlcGFyYXRvciA9PT0gdGhvdXNhbmRTZXBhcmF0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXFxuICAgICAgICAgIERlY2ltYWwgc2VwYXJhdG9yIGNhbid0IGJlIHNhbWUgYXMgdGhvdXNhbmQgc2VwYXJhdG9yLlxcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvcjogXCIuY29uY2F0KHRob3VzYW5kU2VwYXJhdG9yLCBcIiAodGhvdXNhbmRTZXBhcmF0b3IgPSB7dHJ1ZX0gaXMgc2FtZSBhcyB0aG91c2FuZFNlcGFyYXRvciA9IFxcXCIsXFxcIilcXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvcjogXCIpLmNvbmNhdChkZWNpbWFsU2VwYXJhdG9yLCBcIiAoZGVmYXVsdCB2YWx1ZSBmb3IgZGVjaW1hbFNlcGFyYXRvciBpcyAuKVxcbiAgICAgICBcIikpO1xuICAgICAgfSAvL3ZhbGlkYXRlIG1hc2tcblxuXG4gICAgICBpZiAobWFzaykge1xuICAgICAgICB2YXIgbWFza0FzU3RyID0gbWFzayA9PT0gJ3N0cmluZycgPyBtYXNrIDogbWFzay50b1N0cmluZygpO1xuXG4gICAgICAgIGlmIChtYXNrQXNTdHIubWF0Y2goL1xcZC9nKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcbiAgICAgICAgICBNYXNrIFwiLmNvbmNhdChtYXNrLCBcIiBzaG91bGQgbm90IGNvbnRhaW4gbnVtZXJpYyBjaGFyYWN0ZXI7XFxuICAgICAgICBcIikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBNaXNjIG1ldGhvZHMgZW5kICoqL1xuXG4gICAgLyoqIGNhcmV0IHNwZWNpZmljIG1ldGhvZHMgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRQYXRjaGVkQ2FyZXRQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3MsIGN1cnJlbnRWYWx1ZSkge1xuICAgICAgLyogc2V0dGluZyBjYXJldCBwb3NpdGlvbiB3aXRoaW4gdGltZW91dCBvZiAwbXMgaXMgcmVxdWlyZWQgZm9yIG1vYmlsZSBjaHJvbWUsXG4gICAgICBvdGhlcndpc2UgYnJvd3NlciByZXNldHMgdGhlIGNhcmV0IHBvc2l0aW9uIGFmdGVyIHdlIHNldCBpdFxuICAgICAgV2UgYXJlIGFsc28gc2V0dGluZyBpdCB3aXRob3V0IHRpbWVvdXQgc28gdGhhdCBpbiBub3JtYWwgYnJvd3NlciB3ZSBkb24ndCBzZWUgdGhlIGZsaWNrZXJpbmcgKi9cbiAgICAgICgwLCBfdXRpbHMuc2V0Q2FyZXRQb3NpdGlvbikoZWwsIGNhcmV0UG9zKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZWwudmFsdWUgPT09IGN1cnJlbnRWYWx1ZSkgKDAsIF91dGlscy5zZXRDYXJldFBvc2l0aW9uKShlbCwgY2FyZXRQb3MpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICAgIC8qIFRoaXMga2VlcHMgdGhlIGNhcmV0IHdpdGhpbiB0eXBpbmcgYXJlYSBzbyBwZW9wbGUgY2FuJ3QgdHlwZSBpbiBiZXR3ZWVuIHByZWZpeCBvciBzdWZmaXggKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvcnJlY3RDYXJldFBvc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBjYXJldFBvcywgZGlyZWN0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczIucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzMi5zdWZmaXgsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMyLmZvcm1hdDsgLy9pZiB2YWx1ZSBpcyBlbXB0eSByZXR1cm4gMFxuXG4gICAgICBpZiAodmFsdWUgPT09ICcnKSByZXR1cm4gMDsgLy9jYXJldCBwb3NpdGlvbiBzaG91bGQgYmUgYmV0d2VlbiAwIGFuZCB2YWx1ZSBsZW5ndGhcblxuICAgICAgY2FyZXRQb3MgPSAoMCwgX3V0aWxzLmNsYW1wKShjYXJldFBvcywgMCwgdmFsdWUubGVuZ3RoKTsgLy9pbiBjYXNlIG9mIGZvcm1hdCBhcyBudW1iZXIgbGltaXQgYmV0d2VlbiBwcmVmaXggYW5kIHN1ZmZpeFxuXG4gICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICB2YXIgaGFzTmVnYXRpb24gPSB2YWx1ZVswXSA9PT0gJy0nO1xuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5jbGFtcCkoY2FyZXRQb3MsIHByZWZpeC5sZW5ndGggKyAoaGFzTmVnYXRpb24gPyAxIDogMCksIHZhbHVlLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpO1xuICAgICAgfSAvL2luIGNhc2UgaWYgY3VzdG9tIGZvcm1hdCBtZXRob2QgZG9uJ3QgZG8gYW55dGhpbmdcblxuXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGNhcmV0UG9zO1xuICAgICAgLyogaW4gY2FzZSBmb3JtYXQgaXMgc3RyaW5nIGZpbmQgdGhlIGNsb3Nlc3QgIyBwb3NpdGlvbiBmcm9tIHRoZSBjYXJldCBwb3NpdGlvbiAqL1xuICAgICAgLy9pbiBjYXNlIHRoZSBjYXJldFBvcyBoYXZlIGlucHV0IHZhbHVlIG9uIGl0IGRvbid0IGRvIGFueXRoaW5nXG5cbiAgICAgIGlmIChmb3JtYXRbY2FyZXRQb3NdID09PSAnIycgJiYgKDAsIF91dGlscy5jaGFySXNOdW1iZXIpKHZhbHVlW2NhcmV0UG9zXSkpIHJldHVybiBjYXJldFBvczsgLy9pZiBjYXJldFBvcyBpcyBqdXN0IGFmdGVyIGlucHV0IHZhbHVlIGRvbid0IGRvIGFueXRoaW5nXG5cbiAgICAgIGlmIChmb3JtYXRbY2FyZXRQb3MgLSAxXSA9PT0gJyMnICYmICgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldFBvcyAtIDFdKSkgcmV0dXJuIGNhcmV0UG9zOyAvL2ZpbmQgdGhlIG5lYXJlc3QgY2FyZXQgcG9zaXRpb25cblxuICAgICAgdmFyIGZpcnN0SGFzaFBvc2l0aW9uID0gZm9ybWF0LmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBsYXN0SGFzaFBvc2l0aW9uID0gZm9ybWF0Lmxhc3RJbmRleE9mKCcjJyk7IC8vbGltaXQgdGhlIGN1cnNvciBiZXR3ZWVuIHRoZSBmaXJzdCAjIHBvc2l0aW9uIGFuZCB0aGUgbGFzdCAjIHBvc2l0aW9uXG5cbiAgICAgIGNhcmV0UG9zID0gKDAsIF91dGlscy5jbGFtcCkoY2FyZXRQb3MsIGZpcnN0SGFzaFBvc2l0aW9uLCBsYXN0SGFzaFBvc2l0aW9uICsgMSk7XG4gICAgICB2YXIgbmV4dFBvcyA9IGZvcm1hdC5zdWJzdHJpbmcoY2FyZXRQb3MsIGZvcm1hdC5sZW5ndGgpLmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBjYXJldExlZnRCb3VuZCA9IGNhcmV0UG9zO1xuICAgICAgdmFyIGNhcmV0UmlnaHRCb3VuZCA9IGNhcmV0UG9zICsgKG5leHRQb3MgPT09IC0xID8gMCA6IG5leHRQb3MpOyAvL2dldCB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIGxhc3QgbnVtYmVyIGlzIHByZXNlbnRcblxuICAgICAgd2hpbGUgKGNhcmV0TGVmdEJvdW5kID4gZmlyc3RIYXNoUG9zaXRpb24gJiYgKGZvcm1hdFtjYXJldExlZnRCb3VuZF0gIT09ICcjJyB8fCAhKDAsIF91dGlscy5jaGFySXNOdW1iZXIpKHZhbHVlW2NhcmV0TGVmdEJvdW5kXSkpKSB7XG4gICAgICAgIGNhcmV0TGVmdEJvdW5kIC09IDE7XG4gICAgICB9XG5cbiAgICAgIHZhciBnb1RvTGVmdCA9ICEoMCwgX3V0aWxzLmNoYXJJc051bWJlcikodmFsdWVbY2FyZXRSaWdodEJvdW5kXSkgfHwgZGlyZWN0aW9uID09PSAnbGVmdCcgJiYgY2FyZXRQb3MgIT09IGZpcnN0SGFzaFBvc2l0aW9uIHx8IGNhcmV0UG9zIC0gY2FyZXRMZWZ0Qm91bmQgPCBjYXJldFJpZ2h0Qm91bmQgLSBjYXJldFBvcztcblxuICAgICAgaWYgKGdvVG9MZWZ0KSB7XG4gICAgICAgIC8vY2hlY2sgaWYgbnVtYmVyIHNob3VsZCBiZSB0YWtlbiBhZnRlciB0aGUgYm91bmQgb3IgYWZ0ZXIgaXRcbiAgICAgICAgLy9pZiBudW1iZXIgcHJlY2VkaW5nIGEgdmFsaWQgbnVtYmVyIGtlZXAgaXQgYWZ0ZXJcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldExlZnRCb3VuZF0pID8gY2FyZXRMZWZ0Qm91bmQgKyAxIDogY2FyZXRMZWZ0Qm91bmQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYXJldFJpZ2h0Qm91bmQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldENhcmV0UG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2FyZXRQb3NpdGlvbihpbnB1dFZhbHVlLCBmb3JtYXR0ZWRWYWx1ZSwgY2FyZXRQb3MpIHtcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcbiAgICAgIHZhciBzdGF0ZVZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgIHZhciBudW1SZWdleCA9IHRoaXMuZ2V0TnVtYmVyUmVnZXgodHJ1ZSk7XG4gICAgICB2YXIgaW5wdXROdW1iZXIgPSAoaW5wdXRWYWx1ZS5tYXRjaChudW1SZWdleCkgfHwgW10pLmpvaW4oJycpO1xuICAgICAgdmFyIGZvcm1hdHRlZE51bWJlciA9IChmb3JtYXR0ZWRWYWx1ZS5tYXRjaChudW1SZWdleCkgfHwgW10pLmpvaW4oJycpO1xuICAgICAgdmFyIGosIGk7XG4gICAgICBqID0gMDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGNhcmV0UG9zOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJlbnRJbnB1dENoYXIgPSBpbnB1dFZhbHVlW2ldIHx8ICcnO1xuICAgICAgICB2YXIgY3VycmVudEZvcm1hdENoYXIgPSBmb3JtYXR0ZWRWYWx1ZVtqXSB8fCAnJzsgLy9ubyBuZWVkIHRvIGluY3JlYXNlIG5ldyBjdXJzb3IgcG9zaXRpb24gaWYgZm9ybWF0dGVkIHZhbHVlIGRvZXMgbm90IGhhdmUgdGhvc2UgY2hhcmFjdGVyc1xuICAgICAgICAvL2Nhc2UgaW5wdXRWYWx1ZSA9IDFhMjMgYW5kIGZvcm1hdHRlZFZhbHVlID0gIDEyM1xuXG4gICAgICAgIGlmICghY3VycmVudElucHV0Q2hhci5tYXRjaChudW1SZWdleCkgJiYgY3VycmVudElucHV0Q2hhciAhPT0gY3VycmVudEZvcm1hdENoYXIpIGNvbnRpbnVlOyAvL1doZW4gd2UgYXJlIHN0cmlwaW5nIG91dCBsZWFkaW5nIHplcm9zIG1haW50YWluIHRoZSBuZXcgY3Vyc29yIHBvc2l0aW9uXG4gICAgICAgIC8vQ2FzZSBpbnB1dFZhbHVlID0gMDAwMjMgYW5kIGZvcm1hdHRlZFZhbHVlID0gMjM7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRJbnB1dENoYXIgPT09ICcwJyAmJiBjdXJyZW50Rm9ybWF0Q2hhci5tYXRjaChudW1SZWdleCkgJiYgY3VycmVudEZvcm1hdENoYXIgIT09ICcwJyAmJiBpbnB1dE51bWJlci5sZW5ndGggIT09IGZvcm1hdHRlZE51bWJlci5sZW5ndGgpIGNvbnRpbnVlOyAvL3dlIGFyZSBub3QgdXNpbmcgY3VycmVudEZvcm1hdENoYXIgYmVjYXVzZSBqIGNhbiBjaGFuZ2UgaGVyZVxuXG4gICAgICAgIHdoaWxlIChjdXJyZW50SW5wdXRDaGFyICE9PSBmb3JtYXR0ZWRWYWx1ZVtqXSAmJiBqIDwgZm9ybWF0dGVkVmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgaisrO1xuICAgICAgICB9XG5cbiAgICAgICAgaisrO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycgJiYgIXN0YXRlVmFsdWUpIHtcbiAgICAgICAgLy9zZXQgaXQgdG8gdGhlIG1heGltdW0gdmFsdWUgc28gaXQgZ29lcyBhZnRlciB0aGUgbGFzdCBudW1iZXJcbiAgICAgICAgaiA9IGZvcm1hdHRlZFZhbHVlLmxlbmd0aDtcbiAgICAgIH0gLy9jb3JyZWN0IGNhcmV0IHBvc2l0aW9uIGlmIGl0cyBvdXRzaWRlIG9mIGVkaXRhYmxlIGFyZWFcblxuXG4gICAgICBqID0gdGhpcy5jb3JyZWN0Q2FyZXRQb3NpdGlvbihmb3JtYXR0ZWRWYWx1ZSwgaik7XG4gICAgICByZXR1cm4gajtcbiAgICB9XG4gICAgLyoqIGNhcmV0IHNwZWNpZmljIG1ldGhvZHMgZW5kcyAqKi9cblxuICAgIC8qKiBtZXRob2RzIHRvIHJlbW92ZSBmb3JtYXR0dGluZyAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVByZWZpeEFuZFN1ZmZpeFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVQcmVmaXhBbmRTdWZmaXgodmFsKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczMuZm9ybWF0LFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzMy5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHMzLnN1ZmZpeDsgLy9yZW1vdmUgcHJlZml4IGFuZCBzdWZmaXhcblxuICAgICAgaWYgKCFmb3JtYXQgJiYgdmFsKSB7XG4gICAgICAgIHZhciBpc05lZ2F0aXZlID0gdmFsWzBdID09PSAnLSc7IC8vcmVtb3ZlIG5lZ2F0aW9uIHNpZ25cblxuICAgICAgICBpZiAoaXNOZWdhdGl2ZSkgdmFsID0gdmFsLnN1YnN0cmluZygxLCB2YWwubGVuZ3RoKTsgLy9yZW1vdmUgcHJlZml4XG5cbiAgICAgICAgdmFsID0gcHJlZml4ICYmIHZhbC5pbmRleE9mKHByZWZpeCkgPT09IDAgPyB2YWwuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgsIHZhbC5sZW5ndGgpIDogdmFsOyAvL3JlbW92ZSBzdWZmaXhcblxuICAgICAgICB2YXIgc3VmZml4TGFzdEluZGV4ID0gdmFsLmxhc3RJbmRleE9mKHN1ZmZpeCk7XG4gICAgICAgIHZhbCA9IHN1ZmZpeCAmJiBzdWZmaXhMYXN0SW5kZXggIT09IC0xICYmIHN1ZmZpeExhc3RJbmRleCA9PT0gdmFsLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGggPyB2YWwuc3Vic3RyaW5nKDAsIHN1ZmZpeExhc3RJbmRleCkgOiB2YWw7IC8vYWRkIG5lZ2F0aW9uIHNpZ24gYmFja1xuXG4gICAgICAgIGlmIChpc05lZ2F0aXZlKSB2YWwgPSAnLScgKyB2YWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nKHZhbCkge1xuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0O1xuICAgICAgdmFyIGZvcm1hdEFycmF5ID0gZm9ybWF0LnNwbGl0KCcjJykuZmlsdGVyKGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ciAhPT0gJyc7XG4gICAgICB9KTtcbiAgICAgIHZhciBzdGFydCA9IDA7XG4gICAgICB2YXIgbnVtU3RyID0gJyc7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGZvcm1hdEFycmF5Lmxlbmd0aDsgaSA8PSBsbjsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gZm9ybWF0QXJyYXlbaV0gfHwgJyc7IC8vaWYgaSBpcyB0aGUgbGFzdCBmcmFnbWVudCB0YWtlIHRoZSBpbmRleCBvZiBlbmQgb2YgdGhlIHZhbHVlXG4gICAgICAgIC8vRm9yIGNhc2UgbGlrZSArMSAoOTExKSA5MTEgOTEgOTEgaGF2aW5nIHBhdHRlcm4gKzEgKCMjIykgIyMjICMjICMjXG5cbiAgICAgICAgdmFyIGluZGV4ID0gaSA9PT0gbG4gPyB2YWwubGVuZ3RoIDogdmFsLmluZGV4T2YocGFydCwgc3RhcnQpO1xuICAgICAgICAvKiBpbiBhbnkgY2FzZSBpZiB3ZSBkb24ndCBmaW5kIHRoZSBwYXR0ZXJuIHBhcnQgaW4gdGhlIHZhbHVlIGFzc3VtZSB0aGUgdmFsIGFzIG51bWVyaWMgc3RyaW5nXG4gICAgICAgIFRoaXMgd2lsbCBiZSBhbHNvIGluIGNhc2UgaWYgdXNlciBoYXMgc3RhcnRlZCB0eXBpbmcsIGluIGFueSBvdGhlciBjYXNlIGl0IHdpbGwgbm90IGJlIC0xXG4gICAgICAgIHVubGVzcyB3cm9uZyBwcm9wIHZhbHVlIGlzIHByb3ZpZGVkICovXG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIG51bVN0ciA9IHZhbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBudW1TdHIgKz0gdmFsLnN1YnN0cmluZyhzdGFydCwgaW5kZXgpO1xuICAgICAgICAgIHN0YXJ0ID0gaW5kZXggKyBwYXJ0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKG51bVN0ci5tYXRjaCgvXFxkL2cpIHx8IFtdKS5qb2luKCcnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlRm9ybWF0dGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nKHZhbCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHM0LmZvcm1hdCxcbiAgICAgICAgICByZW1vdmVGb3JtYXR0aW5nID0gX3RoaXMkcHJvcHM0LnJlbW92ZUZvcm1hdHRpbmc7XG4gICAgICBpZiAoIXZhbCkgcmV0dXJuIHZhbDtcblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFsID0gdGhpcy5yZW1vdmVQcmVmaXhBbmRTdWZmaXgodmFsKTtcbiAgICAgICAgdmFsID0gdGhpcy5nZXRGbG9hdFN0cmluZyh2YWwpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YWwgPSB0aGlzLnJlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nKHZhbCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZW1vdmVGb3JtYXR0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vY29uZGl0aW9uIG5lZWQgdG8gYmUgaGFuZGxlZCBpZiBmb3JtYXQgbWV0aG9kIGlzIHByb3ZpZGUsXG4gICAgICAgIHZhbCA9IHJlbW92ZUZvcm1hdHRpbmcodmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9ICh2YWwubWF0Y2goL1xcZC9nKSB8fCBbXSkuam9pbignJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIC8qKiBtZXRob2RzIHRvIHJlbW92ZSBmb3JtYXR0dGluZyBlbmQgKiovXG5cbiAgICAvKioqIGZvcm1hdCBzcGVjaWZpYyBtZXRob2RzIHN0YXJ0ICoqKi9cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCB3aGVuICMgYmFzZWQgc3RyaW5nIGlzIHByb3ZpZGVkXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBudW1TdHIgTnVtZXJpYyBTdHJpbmdcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICBmb3JtYXR0ZWQgVmFsdWVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdFdpdGhQYXR0ZXJuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFdpdGhQYXR0ZXJuKG51bVN0cikge1xuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0O1xuICAgICAgdmFyIGhhc2hDb3VudCA9IDA7XG4gICAgICB2YXIgZm9ybWF0dGVkTnVtYmVyQXJ5ID0gZm9ybWF0LnNwbGl0KCcnKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxuID0gZm9ybWF0Lmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdFtpXSA9PT0gJyMnKSB7XG4gICAgICAgICAgZm9ybWF0dGVkTnVtYmVyQXJ5W2ldID0gbnVtU3RyW2hhc2hDb3VudF0gfHwgdGhpcy5nZXRNYXNrQXRJbmRleChoYXNoQ291bnQpO1xuICAgICAgICAgIGhhc2hDb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3JtYXR0ZWROdW1iZXJBcnkuam9pbignJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gbnVtU3RyIE51bWVyaWMgc3RyaW5nL2Zsb2F0U3RyaW5nXSBJdCBhbHdheXMgaGF2ZSBkZWNpbWFsU2VwYXJhdG9yIGFzIC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGZvcm1hdHRlZCBWYWx1ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0QXNOdW1iZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0QXNOdW1iZXIobnVtU3RyKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczUuZGVjaW1hbFNjYWxlLFxuICAgICAgICAgIGZpeGVkRGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM1LmZpeGVkRGVjaW1hbFNjYWxlLFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzNS5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHM1LnN1ZmZpeCxcbiAgICAgICAgICBhbGxvd05lZ2F0aXZlID0gX3RoaXMkcHJvcHM1LmFsbG93TmVnYXRpdmUsXG4gICAgICAgICAgdGhvdXNhbmRzR3JvdXBTdHlsZSA9IF90aGlzJHByb3BzNS50aG91c2FuZHNHcm91cFN0eWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczQgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnM0LnRob3VzYW5kU2VwYXJhdG9yLFxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzNC5kZWNpbWFsU2VwYXJhdG9yO1xuXG4gICAgICB2YXIgaGFzRGVjaW1hbFNlcGFyYXRvciA9IG51bVN0ci5pbmRleE9mKCcuJykgIT09IC0xIHx8IGRlY2ltYWxTY2FsZSAmJiBmaXhlZERlY2ltYWxTY2FsZTtcblxuICAgICAgdmFyIF9zcGxpdERlY2ltYWwgPSAoMCwgX3V0aWxzLnNwbGl0RGVjaW1hbCkobnVtU3RyLCBhbGxvd05lZ2F0aXZlKSxcbiAgICAgICAgICBiZWZvcmVEZWNpbWFsID0gX3NwbGl0RGVjaW1hbC5iZWZvcmVEZWNpbWFsLFxuICAgICAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYWZ0ZXJEZWNpbWFsLFxuICAgICAgICAgIGFkZE5lZ2F0aW9uID0gX3NwbGl0RGVjaW1hbC5hZGROZWdhdGlvbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3RcbiAgICAgIC8vYXBwbHkgZGVjaW1hbCBwcmVjaXNpb24gaWYgaXRzIGRlZmluZWRcblxuXG4gICAgICBpZiAoZGVjaW1hbFNjYWxlICE9PSB1bmRlZmluZWQpIGFmdGVyRGVjaW1hbCA9ICgwLCBfdXRpbHMubGltaXRUb1NjYWxlKShhZnRlckRlY2ltYWwsIGRlY2ltYWxTY2FsZSwgZml4ZWREZWNpbWFsU2NhbGUpO1xuXG4gICAgICBpZiAodGhvdXNhbmRTZXBhcmF0b3IpIHtcbiAgICAgICAgdmFyIHRob3VzYW5kc0dyb3VwUmVnZXggPSAoMCwgX3V0aWxzLmdldFRob3VzYW5kc0dyb3VwUmVnZXgpKHRob3VzYW5kc0dyb3VwU3R5bGUpO1xuICAgICAgICBiZWZvcmVEZWNpbWFsID0gYmVmb3JlRGVjaW1hbC5yZXBsYWNlKHRob3VzYW5kc0dyb3VwUmVnZXgsICckMScgKyB0aG91c2FuZFNlcGFyYXRvcik7XG4gICAgICB9IC8vYWRkIHByZWZpeCBhbmQgc3VmZml4XG5cblxuICAgICAgaWYgKHByZWZpeCkgYmVmb3JlRGVjaW1hbCA9IHByZWZpeCArIGJlZm9yZURlY2ltYWw7XG4gICAgICBpZiAoc3VmZml4KSBhZnRlckRlY2ltYWwgPSBhZnRlckRlY2ltYWwgKyBzdWZmaXg7IC8vcmVzdG9yZSBuZWdhdGlvbiBzaWduXG5cbiAgICAgIGlmIChhZGROZWdhdGlvbikgYmVmb3JlRGVjaW1hbCA9ICctJyArIGJlZm9yZURlY2ltYWw7XG4gICAgICBudW1TdHIgPSBiZWZvcmVEZWNpbWFsICsgKGhhc0RlY2ltYWxTZXBhcmF0b3IgJiYgZGVjaW1hbFNlcGFyYXRvciB8fCAnJykgKyBhZnRlckRlY2ltYWw7XG4gICAgICByZXR1cm4gbnVtU3RyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JtYXROdW1TdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0TnVtU3RyaW5nKCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgIHZhciBfdGhpcyRwcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzNi5mb3JtYXQsXG4gICAgICAgICAgYWxsb3dFbXB0eUZvcm1hdHRpbmcgPSBfdGhpcyRwcm9wczYuYWxsb3dFbXB0eUZvcm1hdHRpbmc7XG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgaWYgKHZhbHVlID09PSAnJyAmJiAhYWxsb3dFbXB0eUZvcm1hdHRpbmcpIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICctJyAmJiAhZm9ybWF0KSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gJy0nO1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHRoaXMuZm9ybWF0V2l0aFBhdHRlcm4oZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gZm9ybWF0KGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXRBc051bWJlcihmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3JtYXR0ZWRWYWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0VmFsdWVQcm9wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFZhbHVlUHJvcChkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczcgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzNy5mb3JtYXQsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM3LmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzNy5maXhlZERlY2ltYWxTY2FsZSxcbiAgICAgICAgICBhbGxvd0VtcHR5Rm9ybWF0dGluZyA9IF90aGlzJHByb3BzNy5hbGxvd0VtcHR5Rm9ybWF0dGluZztcbiAgICAgIHZhciBfdGhpcyRwcm9wczggPSB0aGlzLnByb3BzLFxuICAgICAgICAgIF90aGlzJHByb3BzOCR2YWx1ZSA9IF90aGlzJHByb3BzOC52YWx1ZSxcbiAgICAgICAgICB2YWx1ZSA9IF90aGlzJHByb3BzOCR2YWx1ZSA9PT0gdm9pZCAwID8gZGVmYXVsdFZhbHVlIDogX3RoaXMkcHJvcHM4JHZhbHVlLFxuICAgICAgICAgIGlzTnVtZXJpY1N0cmluZyA9IF90aGlzJHByb3BzOC5pc051bWVyaWNTdHJpbmc7XG4gICAgICB2YXIgaXNOb25OdW1lcmljRmFsc3kgPSAhdmFsdWUgJiYgdmFsdWUgIT09IDA7XG5cbiAgICAgIGlmIChpc05vbk51bWVyaWNGYWxzeSAmJiBhbGxvd0VtcHR5Rm9ybWF0dGluZykge1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfSAvLyBpZiB2YWx1ZSBpcyBub3QgZGVmaW5lZCByZXR1cm4gZW1wdHkgc3RyaW5nXG5cblxuICAgICAgaWYgKGlzTm9uTnVtZXJpY0ZhbHN5ICYmICFhbGxvd0VtcHR5Rm9ybWF0dGluZykgcmV0dXJuICcnO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIGlzTnVtZXJpY1N0cmluZyA9IHRydWU7XG4gICAgICB9IC8vcm91bmQgdGhlIG51bWJlciBiYXNlZCBvbiBkZWNpbWFsU2NhbGVcbiAgICAgIC8vZm9ybWF0IG9ubHkgaWYgbm9uIGZvcm1hdHRlZCB2YWx1ZSBpcyBwcm92aWRlZFxuXG5cbiAgICAgIGlmIChpc051bWVyaWNTdHJpbmcgJiYgIWZvcm1hdCAmJiB0eXBlb2YgZGVjaW1hbFNjYWxlID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YWx1ZSA9ICgwLCBfdXRpbHMucm91bmRUb1ByZWNpc2lvbikodmFsdWUsIGRlY2ltYWxTY2FsZSwgZml4ZWREZWNpbWFsU2NhbGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBpc051bWVyaWNTdHJpbmcgPyB0aGlzLmZvcm1hdE51bVN0cmluZyh2YWx1ZSkgOiB0aGlzLmZvcm1hdElucHV0KHZhbHVlKTtcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRWYWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0TmVnYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0TmVnYXRpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgdmFyIGFsbG93TmVnYXRpdmUgPSB0aGlzLnByb3BzLmFsbG93TmVnYXRpdmU7XG4gICAgICB2YXIgbmVnYXRpb25SZWdleCA9IG5ldyBSZWdFeHAoJygtKScpO1xuICAgICAgdmFyIGRvdWJsZU5lZ2F0aW9uUmVnZXggPSBuZXcgUmVnRXhwKCcoLSkoLikqKC0pJyk7IC8vIENoZWNrIG51bWJlciBoYXMgJy0nIHZhbHVlXG5cbiAgICAgIHZhciBoYXNOZWdhdGlvbiA9IG5lZ2F0aW9uUmVnZXgudGVzdCh2YWx1ZSk7IC8vIENoZWNrIG51bWJlciBoYXMgMiBvciBtb3JlICctJyB2YWx1ZXNcblxuICAgICAgdmFyIHJlbW92ZU5lZ2F0aW9uID0gZG91YmxlTmVnYXRpb25SZWdleC50ZXN0KHZhbHVlKTsgLy9yZW1vdmUgbmVnYXRpb25cblxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8tL2csICcnKTtcblxuICAgICAgaWYgKGhhc05lZ2F0aW9uICYmICFyZW1vdmVOZWdhdGlvbiAmJiBhbGxvd05lZ2F0aXZlKSB7XG4gICAgICAgIHZhbHVlID0gJy0nICsgdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0SW5wdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0SW5wdXQoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0OyAvL2Zvcm1hdCBuZWdhdGlvbiBvbmx5IGlmIHdlIGFyZSBmb3JtYXR0aW5nIGFzIG51bWJlclxuXG4gICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMucmVtb3ZlUHJlZml4QW5kU3VmZml4KHZhbHVlKTtcbiAgICAgICAgdmFsdWUgPSB0aGlzLmZvcm1hdE5lZ2F0aW9uKHZhbHVlKTtcbiAgICAgIH0gLy9yZW1vdmUgZm9ybWF0dGluZyBmcm9tIG51bWJlclxuXG5cbiAgICAgIHZhbHVlID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKHZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdE51bVN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKiogZm9ybWF0IHNwZWNpZmljIG1ldGhvZHMgZW5kICoqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQ2hhcmFjdGVyQUZvcm1hdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NoYXJhY3RlckFGb3JtYXQoY2FyZXRQb3MsIHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM5ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczkuZm9ybWF0LFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzOS5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHM5LnN1ZmZpeCxcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczkuZGVjaW1hbFNjYWxlLFxuICAgICAgICAgIGZpeGVkRGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM5LmZpeGVkRGVjaW1hbFNjYWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczUgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczUuZGVjaW1hbFNlcGFyYXRvcjsgLy9jaGVjayB3aXRoaW4gZm9ybWF0IHBhdHRlcm5cblxuXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycgJiYgZm9ybWF0W2NhcmV0UG9zXSAhPT0gJyMnKSByZXR1cm4gdHJ1ZTsgLy9jaGVjayBpbiBudW1iZXIgZm9ybWF0XG5cbiAgICAgIGlmICghZm9ybWF0ICYmIChjYXJldFBvcyA8IHByZWZpeC5sZW5ndGggfHwgY2FyZXRQb3MgPj0gdmFsdWUubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCB8fCBkZWNpbWFsU2NhbGUgJiYgZml4ZWREZWNpbWFsU2NhbGUgJiYgdmFsdWVbY2FyZXRQb3NdID09PSBkZWNpbWFsU2VwYXJhdG9yKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGVja0lmRm9ybWF0R290RGVsZXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0lmRm9ybWF0R290RGVsZXRlZChzdGFydCwgZW5kLCB2YWx1ZSkge1xuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJBRm9ybWF0KGksIHZhbHVlKSkgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIGNoZWNrIGlmIGFueSBmb3JtYXR0aW5nIGdvdCByZW1vdmVkIGJ5IHRoZSBkZWxldGUgb3IgYmFja3NwYWNlIGFuZCByZXNldCB0aGUgdmFsdWVcbiAgICAgKiBJdCB3aWxsIGFsc28gd29yayBhcyBmYWxsYmFjayBpZiBhbmRyb2lkIGNob21lIGtleURvd24gaGFuZGxlciBkb2VzIG5vdCB3b3JrXG4gICAgICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29ycmVjdElucHV0VmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ycmVjdElucHV0VmFsdWUoY2FyZXRQb3MsIGxhc3RWYWx1ZSwgdmFsdWUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczEwID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczEwLmZvcm1hdCxcbiAgICAgICAgICBhbGxvd05lZ2F0aXZlID0gX3RoaXMkcHJvcHMxMC5hbGxvd05lZ2F0aXZlLFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzMTAucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzMTAuc3VmZml4O1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczYgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczYuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgdmFyIGxhc3ROdW1TdHIgPSB0aGlzLnN0YXRlLm51bUFzU3RyaW5nIHx8ICcnO1xuICAgICAgdmFyIF90aGlzJHNlbGVjdGlvbkJlZm9yZSA9IHRoaXMuc2VsZWN0aW9uQmVmb3JlSW5wdXQsXG4gICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSBfdGhpcyRzZWxlY3Rpb25CZWZvcmUuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgc2VsZWN0aW9uRW5kID0gX3RoaXMkc2VsZWN0aW9uQmVmb3JlLnNlbGVjdGlvbkVuZDtcblxuICAgICAgdmFyIF9maW5kQ2hhbmdlZEluZGV4ID0gKDAsIF91dGlscy5maW5kQ2hhbmdlZEluZGV4KShsYXN0VmFsdWUsIHZhbHVlKSxcbiAgICAgICAgICBzdGFydCA9IF9maW5kQ2hhbmdlZEluZGV4LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IF9maW5kQ2hhbmdlZEluZGV4LmVuZDtcbiAgICAgIC8qKiBDaGVjayBpZiBvbmx5IC4gaXMgYWRkZWQgaW4gdGhlIG51bWVyaWMgZm9ybWF0IGFuZCByZXBsYWNlIGl0IHdpdGggZGVjaW1hbCBzZXBhcmF0b3IgKi9cblxuXG4gICAgICBpZiAoIWZvcm1hdCAmJiBkZWNpbWFsU2VwYXJhdG9yICE9PSAnLicgJiYgc3RhcnQgPT09IGVuZCAmJiB2YWx1ZVtzZWxlY3Rpb25TdGFydF0gPT09ICcuJykge1xuICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyKDAsIHNlbGVjdGlvblN0YXJ0KSArIGRlY2ltYWxTZXBhcmF0b3IgKyB2YWx1ZS5zdWJzdHIoc2VsZWN0aW9uU3RhcnQgKyAxLCB2YWx1ZS5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgLyogZG9uJ3QgZG8gYW55aHRpbmcgaWYgc29tZXRoaW5nIGdvdCBhZGRlZCxcbiAgICAgICBvciBpZiB2YWx1ZSBpcyBlbXB0eSBzdHJpbmcgKHdoZW4gd2hvbGUgaW5wdXQgaXMgY2xlYXJlZClcbiAgICAgICBvciB3aG9sZSBpbnB1dCBpcyByZXBsYWNlIHdpdGggYSBudW1iZXJcbiAgICAgICovXG5cblxuICAgICAgdmFyIGxlZnRCb3VuZCA9ICEhZm9ybWF0ID8gMCA6IHByZWZpeC5sZW5ndGg7XG4gICAgICB2YXIgcmlnaHRCb3VuZCA9IGxhc3RWYWx1ZS5sZW5ndGggLSAoISFmb3JtYXQgPyAwIDogc3VmZml4Lmxlbmd0aCk7XG5cbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiBsYXN0VmFsdWUubGVuZ3RoIHx8ICF2YWx1ZS5sZW5ndGggfHwgc3RhcnQgPT09IGVuZCB8fCBzZWxlY3Rpb25TdGFydCA9PT0gMCAmJiBzZWxlY3Rpb25FbmQgPT09IGxhc3RWYWx1ZS5sZW5ndGggfHwgc2VsZWN0aW9uU3RhcnQgPT09IGxlZnRCb3VuZCAmJiBzZWxlY3Rpb25FbmQgPT09IHJpZ2h0Qm91bmQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSAvL2lmIGZvcm1hdCBnb3QgZGVsZXRlZCByZXNldCB0aGUgdmFsdWUgdG8gbGFzdCB2YWx1ZVxuXG5cbiAgICAgIGlmICh0aGlzLmNoZWNrSWZGb3JtYXRHb3REZWxldGVkKHN0YXJ0LCBlbmQsIGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICB9IC8vZm9yIG51bWJlcnMgY2hlY2sgaWYgYmVmb3JlRGVjaW1hbCBnb3QgZGVsZXRlZCBhbmQgdGhlcmUgaXMgbm90aGluZyBhZnRlciBkZWNpbWFsLFxuICAgICAgLy9jbGVhciBhbGwgbnVtYmVycyBpbiBzdWNoIGNhc2Ugd2hpbGUga2VlcGluZyB0aGUgLSBzaWduXG5cblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFyIG51bWVyaWNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcodmFsdWUpO1xuXG4gICAgICAgIHZhciBfc3BsaXREZWNpbWFsMiA9ICgwLCBfdXRpbHMuc3BsaXREZWNpbWFsKShudW1lcmljU3RyaW5nLCBhbGxvd05lZ2F0aXZlKSxcbiAgICAgICAgICAgIGJlZm9yZURlY2ltYWwgPSBfc3BsaXREZWNpbWFsMi5iZWZvcmVEZWNpbWFsLFxuICAgICAgICAgICAgYWZ0ZXJEZWNpbWFsID0gX3NwbGl0RGVjaW1hbDIuYWZ0ZXJEZWNpbWFsLFxuICAgICAgICAgICAgYWRkTmVnYXRpb24gPSBfc3BsaXREZWNpbWFsMi5hZGROZWdhdGlvbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3RcbiAgICAgICAgLy9jbGVhciBvbmx5IGlmIHNvbWV0aGluZyBnb3QgZGVsZXRlZFxuXG5cbiAgICAgICAgdmFyIGlzQmVmb3JlRGVjaW1hbFBvaW50ID0gY2FyZXRQb3MgPCB2YWx1ZS5pbmRleE9mKGRlY2ltYWxTZXBhcmF0b3IpICsgMTtcblxuICAgICAgICBpZiAobnVtZXJpY1N0cmluZy5sZW5ndGggPCBsYXN0TnVtU3RyLmxlbmd0aCAmJiBpc0JlZm9yZURlY2ltYWxQb2ludCAmJiBiZWZvcmVEZWNpbWFsID09PSAnJyAmJiAhcGFyc2VGbG9hdChhZnRlckRlY2ltYWwpKSB7XG4gICAgICAgICAgcmV0dXJuIGFkZE5lZ2F0aW9uID8gJy0nIDogJyc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvKiogVXBkYXRlIHZhbHVlIGFuZCBjYXJldCBwb3NpdGlvbiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlVmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVmFsdWUocGFyYW1zKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIG9uVXBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBfdXRpbHMubm9vcDtcbiAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IHBhcmFtcy5mb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgICBpbnB1dCA9IHBhcmFtcy5pbnB1dDtcbiAgICAgIHZhciBudW1Bc1N0cmluZyA9IHBhcmFtcy5udW1Bc1N0cmluZyxcbiAgICAgICAgICBjYXJldFBvcyA9IHBhcmFtcy5jYXJldFBvcztcbiAgICAgIHZhciBvblZhbHVlQ2hhbmdlID0gdGhpcy5wcm9wcy5vblZhbHVlQ2hhbmdlO1xuICAgICAgdmFyIGxhc3RWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7IC8vc2V0IGNhcmV0IHBvc2l0aW9uLCBhbmQgdmFsdWUgaW1wZXJhdGl2ZWx5IHdoZW4gZWxlbWVudCBpcyBwcm92aWRlZFxuXG4gICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgLy9jYWxjdWxhdGUgY2FyZXQgcG9zaXRpb24gaWYgbm90IGRlZmluZWRcbiAgICAgICAgaWYgKCFjYXJldFBvcykge1xuICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gcGFyYW1zLmlucHV0VmFsdWUgfHwgaW5wdXQudmFsdWU7XG4gICAgICAgICAgdmFyIGN1cnJlbnRDYXJldFBvc2l0aW9uID0gKDAsIF91dGlscy5nZXRDdXJyZW50Q2FyZXRQb3NpdGlvbikoaW5wdXQpOyAvL2dldCB0aGUgY2FyZXQgcG9zaXRpb25cblxuICAgICAgICAgIGNhcmV0UG9zID0gdGhpcy5nZXRDYXJldFBvc2l0aW9uKGlucHV0VmFsdWUsIGZvcm1hdHRlZFZhbHVlLCBjdXJyZW50Q2FyZXRQb3NpdGlvbik7XG4gICAgICAgIH0gLy9zZXQgdGhlIHZhbHVlIGltcGVyYXRpdmVseSwgdGhpcyBpcyByZXF1aXJlZCBmb3IgSUUgZml4XG5cblxuICAgICAgICBpbnB1dC52YWx1ZSA9IGZvcm1hdHRlZFZhbHVlOyAvL3NldCBjYXJldCBwb3NpdGlvblxuXG4gICAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oaW5wdXQsIGNhcmV0UG9zLCBmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9IC8vY2FsY3VsYXRlIG51bWVyaWMgc3RyaW5nIGlmIG5vdCBwYXNzZWRcblxuXG4gICAgICBpZiAobnVtQXNTdHJpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBudW1Bc1N0cmluZyA9IHRoaXMucmVtb3ZlRm9ybWF0dGluZyhmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9IC8vdXBkYXRlIHN0YXRlIGlmIHZhbHVlIGlzIGNoYW5nZWRcblxuXG4gICAgICBpZiAoZm9ybWF0dGVkVmFsdWUgIT09IGxhc3RWYWx1ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB2YWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgbnVtQXNTdHJpbmc6IG51bUFzU3RyaW5nXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvblZhbHVlQ2hhbmdlKF90aGlzMi5nZXRWYWx1ZU9iamVjdChmb3JtYXR0ZWRWYWx1ZSwgbnVtQXNTdHJpbmcpKTtcbiAgICAgICAgICBvblVwZGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgIGUucGVyc2lzdCgpO1xuICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG4gICAgICB2YXIgaW5wdXRWYWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICB2YXIgaXNBbGxvd2VkID0gcHJvcHMuaXNBbGxvd2VkO1xuICAgICAgdmFyIGxhc3RWYWx1ZSA9IHN0YXRlLnZhbHVlIHx8ICcnO1xuICAgICAgdmFyIGN1cnJlbnRDYXJldFBvc2l0aW9uID0gKDAsIF91dGlscy5nZXRDdXJyZW50Q2FyZXRQb3NpdGlvbikoZWwpO1xuICAgICAgaW5wdXRWYWx1ZSA9IHRoaXMuY29ycmVjdElucHV0VmFsdWUoY3VycmVudENhcmV0UG9zaXRpb24sIGxhc3RWYWx1ZSwgaW5wdXRWYWx1ZSk7XG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdElucHV0KGlucHV0VmFsdWUpIHx8ICcnO1xuICAgICAgdmFyIG51bUFzU3RyaW5nID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgIHZhciB2YWx1ZU9iaiA9IHRoaXMuZ2V0VmFsdWVPYmplY3QoZm9ybWF0dGVkVmFsdWUsIG51bUFzU3RyaW5nKTtcblxuICAgICAgaWYgKCFpc0FsbG93ZWQodmFsdWVPYmopKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gbGFzdFZhbHVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZVZhbHVlKHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmcsXG4gICAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWUsXG4gICAgICAgIGlucHV0OiBlbFxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBwcm9wcy5vbkNoYW5nZShlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkJsdXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25CbHVyKGUpIHtcbiAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgdmFyIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgICAgICBvbkJsdXIgPSBwcm9wcy5vbkJsdXI7XG4gICAgICB2YXIgbnVtQXNTdHJpbmcgPSBzdGF0ZS5udW1Bc1N0cmluZztcbiAgICAgIHZhciBsYXN0VmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICAgIHRoaXMuZm9jdXNlZEVsbSA9IG51bGw7XG5cbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIG51bUFzU3RyaW5nID0gKDAsIF91dGlscy5maXhMZWFkaW5nWmVybykobnVtQXNTdHJpbmcpO1xuICAgICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdE51bVN0cmluZyhudW1Bc1N0cmluZyk7IC8vY2hhbmdlIHRoZSBzdGF0ZVxuXG4gICAgICAgIGlmIChmb3JtYXR0ZWRWYWx1ZSAhPT0gbGFzdFZhbHVlKSB7XG4gICAgICAgICAgLy8gdGhlIGV2ZW50IG5lZWRzIHRvIGJlIHBlcnNpc3RlZCBiZWNhdXNlIGl0cyBwcm9wZXJ0aWVzIGNhbiBiZSBhY2Nlc3NlZCBpbiBhbiBhc3luY2hyb25vdXMgd2F5XG4gICAgICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgICBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmdcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvbkJsdXIoZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG9uQmx1cihlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25LZXlEb3duXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICB2YXIgZWwgPSBlLnRhcmdldDtcbiAgICAgIHZhciBrZXkgPSBlLmtleTtcbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IGVsLnNlbGVjdGlvbkVuZCxcbiAgICAgICAgICBfZWwkdmFsdWUgPSBlbC52YWx1ZSxcbiAgICAgICAgICB2YWx1ZSA9IF9lbCR2YWx1ZSA9PT0gdm9pZCAwID8gJycgOiBfZWwkdmFsdWU7XG4gICAgICB2YXIgZXhwZWN0ZWRDYXJldFBvc2l0aW9uO1xuICAgICAgdmFyIF90aGlzJHByb3BzMTEgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzMTEuZGVjaW1hbFNjYWxlLFxuICAgICAgICAgIGZpeGVkRGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHMxMS5maXhlZERlY2ltYWxTY2FsZSxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczExLnByZWZpeCxcbiAgICAgICAgICBzdWZmaXggPSBfdGhpcyRwcm9wczExLnN1ZmZpeCxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczExLmZvcm1hdCxcbiAgICAgICAgICBvbktleURvd24gPSBfdGhpcyRwcm9wczExLm9uS2V5RG93bixcbiAgICAgICAgICBvblZhbHVlQ2hhbmdlID0gX3RoaXMkcHJvcHMxMS5vblZhbHVlQ2hhbmdlO1xuICAgICAgdmFyIGlnbm9yZURlY2ltYWxTZXBhcmF0b3IgPSBkZWNpbWFsU2NhbGUgIT09IHVuZGVmaW5lZCAmJiBmaXhlZERlY2ltYWxTY2FsZTtcbiAgICAgIHZhciBudW1SZWdleCA9IHRoaXMuZ2V0TnVtYmVyUmVnZXgoZmFsc2UsIGlnbm9yZURlY2ltYWxTZXBhcmF0b3IpO1xuICAgICAgdmFyIG5lZ2F0aXZlUmVnZXggPSBuZXcgUmVnRXhwKCctJyk7XG4gICAgICB2YXIgaXNQYXR0ZXJuRm9ybWF0ID0gdHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZyc7XG4gICAgICB0aGlzLnNlbGVjdGlvbkJlZm9yZUlucHV0ID0ge1xuICAgICAgICBzZWxlY3Rpb25TdGFydDogc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgIHNlbGVjdGlvbkVuZDogc2VsZWN0aW9uRW5kIC8vSGFuZGxlIGJhY2tzcGFjZSBhbmQgZGVsZXRlIGFnYWluc3Qgbm9uIG51bWVyaWNhbC9kZWNpbWFsIGNoYXJhY3RlcnMgb3IgYXJyb3cga2V5c1xuXG4gICAgICB9O1xuXG4gICAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBrZXkgPT09ICdCYWNrc3BhY2UnKSB7XG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0IC0gMTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQXJyb3dSaWdodCcpIHtcbiAgICAgICAgZXhwZWN0ZWRDYXJldFBvc2l0aW9uID0gc2VsZWN0aW9uU3RhcnQgKyAxO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdEZWxldGUnKSB7XG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0O1xuICAgICAgfSAvL2lmIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiBpcyBub3Qgc2V0IGl0IG1lYW5zIHdlIGRvbid0IHdhbnQgdG8gSGFuZGxlIGtleURvd25cbiAgICAgIC8vYWxzbyBpZiBtdWx0aXBsZSBjaGFyYWN0ZXJzIGFyZSBzZWxlY3RlZCBkb24ndCBoYW5kbGVcblxuXG4gICAgICBpZiAoZXhwZWN0ZWRDYXJldFBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgc2VsZWN0aW9uU3RhcnQgIT09IHNlbGVjdGlvbkVuZCkge1xuICAgICAgICBvbktleURvd24oZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld0NhcmV0UG9zaXRpb24gPSBleHBlY3RlZENhcmV0UG9zaXRpb247XG4gICAgICB2YXIgbGVmdEJvdW5kID0gaXNQYXR0ZXJuRm9ybWF0ID8gZm9ybWF0LmluZGV4T2YoJyMnKSA6IHByZWZpeC5sZW5ndGg7XG4gICAgICB2YXIgcmlnaHRCb3VuZCA9IGlzUGF0dGVybkZvcm1hdCA/IGZvcm1hdC5sYXN0SW5kZXhPZignIycpICsgMSA6IHZhbHVlLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGg7XG5cbiAgICAgIGlmIChrZXkgPT09ICdBcnJvd0xlZnQnIHx8IGtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBrZXkgPT09ICdBcnJvd0xlZnQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiwgZGlyZWN0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnRGVsZXRlJyAmJiAhbnVtUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSAmJiAhbmVnYXRpdmVSZWdleC50ZXN0KHZhbHVlW2V4cGVjdGVkQ2FyZXRQb3NpdGlvbl0pKSB7XG4gICAgICAgIHdoaWxlICghbnVtUmVnZXgudGVzdCh2YWx1ZVtuZXdDYXJldFBvc2l0aW9uXSkgJiYgbmV3Q2FyZXRQb3NpdGlvbiA8IHJpZ2h0Qm91bmQpIHtcbiAgICAgICAgICBuZXdDYXJldFBvc2l0aW9uKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQmFja3NwYWNlJyAmJiAhbnVtUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSkge1xuICAgICAgICAvKiBOT1RFOiBUaGlzIGlzIHNwZWNpYWwgY2FzZSB3aGVuIGJhY2tzcGFjZSBpcyBwcmVzc2VkIG9uIGFcbiAgICAgICAgbmVnYXRpdmUgdmFsdWUgd2hpbGUgdGhlIGN1cnNvciBwb3NpdGlvbiBpcyBhZnRlciBwcmVmaXguIFdlIGNhbid0IGhhbmRsZSBpdCBvbiBvbkNoYW5nZSBiZWNhdXNlXG4gICAgICAgIHdlIHdpbGwgbm90IGhhdmUgYW55IGluZm9ybWF0aW9uIG9mIGtleVByZXNzXG4gICAgICAgICovXG4gICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA8PSBsZWZ0Qm91bmQgKyAxICYmIHZhbHVlWzBdID09PSAnLScgJiYgdHlwZW9mIGZvcm1hdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSk7IC8vcGVyc2lzdCBldmVudCBiZWZvcmUgcGVyZm9ybWluZyBhc3luYyB0YXNrXG5cbiAgICAgICAgICBlLnBlcnNpc3QoKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgICAgICAgIGNhcmV0UG9zOiBuZXdDYXJldFBvc2l0aW9uLFxuICAgICAgICAgICAgaW5wdXQ6IGVsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW5lZ2F0aXZlUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSkge1xuICAgICAgICAgIHdoaWxlICghbnVtUmVnZXgudGVzdCh2YWx1ZVtuZXdDYXJldFBvc2l0aW9uIC0gMV0pICYmIG5ld0NhcmV0UG9zaXRpb24gPiBsZWZ0Qm91bmQpIHtcbiAgICAgICAgICAgIG5ld0NhcmV0UG9zaXRpb24tLTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXdDYXJldFBvc2l0aW9uID0gdGhpcy5jb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgbmV3Q2FyZXRQb3NpdGlvbiwgJ2xlZnQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobmV3Q2FyZXRQb3NpdGlvbiAhPT0gZXhwZWN0ZWRDYXJldFBvc2l0aW9uIHx8IGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA8IGxlZnRCb3VuZCB8fCBleHBlY3RlZENhcmV0UG9zaXRpb24gPiByaWdodEJvdW5kKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgbmV3Q2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgLyogTk9URTogdGhpcyBpcyBqdXN0IHJlcXVpcmVkIGZvciB1bml0IHRlc3QgYXMgd2UgbmVlZCB0byBnZXQgdGhlIG5ld0NhcmV0UG9zaXRpb24sXG4gICAgICAgICAgICAgIFJlbW92ZSB0aGlzIHdoZW4geW91IGZpbmQgZGlmZmVyZW50IHNvbHV0aW9uICovXG5cblxuICAgICAgaWYgKGUuaXNVbml0VGVzdFJ1bikge1xuICAgICAgICB0aGlzLnNldFBhdGNoZWRDYXJldFBvc2l0aW9uKGVsLCBuZXdDYXJldFBvc2l0aW9uLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMub25LZXlEb3duKGUpO1xuICAgIH1cbiAgICAvKiogcmVxdWlyZWQgdG8gaGFuZGxlIHRoZSBjYXJldCBwb3NpdGlvbiB3aGVuIGNsaWNrIGFueXdoZXJlIHdpdGhpbiB0aGUgaW5wdXQgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdXNlVXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZVVwKGUpIHtcbiAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xuICAgICAgLyoqXG4gICAgICAgKiBOT1RFOiB3ZSBoYXZlIHRvIGdpdmUgZGVmYXVsdCB2YWx1ZSBmb3IgdmFsdWUgYXMgaW4gY2FzZSB3aGVuIGN1c3RvbSBpbnB1dCBpcyBwcm92aWRlZFxuICAgICAgICogdmFsdWUgY2FuIGNvbWUgYXMgdW5kZWZpbmVkIHdoZW4gbm90aGluZyBpcyBwcm92aWRlZCBvbiB2YWx1ZSBwcm9wLlxuICAgICAgKi9cblxuICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gZWwuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgc2VsZWN0aW9uRW5kID0gZWwuc2VsZWN0aW9uRW5kLFxuICAgICAgICAgIF9lbCR2YWx1ZTIgPSBlbC52YWx1ZSxcbiAgICAgICAgICB2YWx1ZSA9IF9lbCR2YWx1ZTIgPT09IHZvaWQgMCA/ICcnIDogX2VsJHZhbHVlMjtcblxuICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgdmFyIGNhcmV0UG9zaXRpb24gPSB0aGlzLmNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBzZWxlY3Rpb25TdGFydCk7XG5cbiAgICAgICAgaWYgKGNhcmV0UG9zaXRpb24gIT09IHNlbGVjdGlvblN0YXJ0KSB7XG4gICAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMub25Nb3VzZVVwKGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkZvY3VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRm9jdXMoZSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIC8vIFdvcmthcm91bmQgQ2hyb21lIGFuZCBTYWZhcmkgYnVnIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc3OTMyOFxuICAgICAgLy8gKG9uRm9jdXMgZXZlbnQgdGFyZ2V0IHNlbGVjdGlvblN0YXJ0IGlzIGFsd2F5cyAwIGJlZm9yZSBzZXRUaW1lb3V0KVxuICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICB0aGlzLmZvY3VzZWRFbG0gPSBlLnRhcmdldDtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWwgPSBlLnRhcmdldDtcbiAgICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gZWwuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgICBzZWxlY3Rpb25FbmQgPSBlbC5zZWxlY3Rpb25FbmQsXG4gICAgICAgICAgICBfZWwkdmFsdWUzID0gZWwudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZSA9IF9lbCR2YWx1ZTMgPT09IHZvaWQgMCA/ICcnIDogX2VsJHZhbHVlMztcblxuICAgICAgICB2YXIgY2FyZXRQb3NpdGlvbiA9IF90aGlzMy5jb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgc2VsZWN0aW9uU3RhcnQpOyAvL3NldFBhdGNoZWRDYXJldFBvc2l0aW9uIG9ubHkgd2hlbiBldmVyeXRoaW5nIGlzIG5vdCBzZWxlY3RlZCBvbiBmb2N1cyAod2hpbGUgdGFiYmluZyBpbnRvIHRoZSBmaWVsZClcblxuXG4gICAgICAgIGlmIChjYXJldFBvc2l0aW9uICE9PSBzZWxlY3Rpb25TdGFydCAmJiAhKHNlbGVjdGlvblN0YXJ0ID09PSAwICYmIHNlbGVjdGlvbkVuZCA9PT0gdmFsdWUubGVuZ3RoKSkge1xuICAgICAgICAgIF90aGlzMy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnByb3BzLm9uRm9jdXMoZSk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczEyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB0eXBlID0gX3RoaXMkcHJvcHMxMi50eXBlLFxuICAgICAgICAgIGRpc3BsYXlUeXBlID0gX3RoaXMkcHJvcHMxMi5kaXNwbGF5VHlwZSxcbiAgICAgICAgICBjdXN0b21JbnB1dCA9IF90aGlzJHByb3BzMTIuY3VzdG9tSW5wdXQsXG4gICAgICAgICAgcmVuZGVyVGV4dCA9IF90aGlzJHByb3BzMTIucmVuZGVyVGV4dCxcbiAgICAgICAgICBnZXRJbnB1dFJlZiA9IF90aGlzJHByb3BzMTIuZ2V0SW5wdXRSZWY7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgICAgdmFyIG90aGVyUHJvcHMgPSAoMCwgX3V0aWxzLm9taXQpKHRoaXMucHJvcHMsIHByb3BUeXBlcyk7XG5cbiAgICAgIHZhciBpbnB1dFByb3BzID0gX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZSxcbiAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93bixcbiAgICAgICAgb25Nb3VzZVVwOiB0aGlzLm9uTW91c2VVcCxcbiAgICAgICAgb25Gb2N1czogdGhpcy5vbkZvY3VzLFxuICAgICAgICBvbkJsdXI6IHRoaXMub25CbHVyXG4gICAgICB9KTtcblxuICAgICAgaWYgKGRpc3BsYXlUeXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHQgPyByZW5kZXJUZXh0KHZhbHVlKSB8fCBudWxsIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHtcbiAgICAgICAgICByZWY6IGdldElucHV0UmVmXG4gICAgICAgIH0pLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGN1c3RvbUlucHV0KSB7XG4gICAgICAgIHZhciBDdXN0b21JbnB1dCA9IGN1c3RvbUlucHV0O1xuICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChDdXN0b21JbnB1dCwgaW5wdXRQcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe30sIGlucHV0UHJvcHMsIHtcbiAgICAgICAgcmVmOiBnZXRJbnB1dFJlZlxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBOdW1iZXJGb3JtYXQ7XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbk51bWJlckZvcm1hdC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5OdW1iZXJGb3JtYXQuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xudmFyIF9kZWZhdWx0ID0gTnVtYmVyRm9ybWF0O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1udW1iZXItZm9ybWF0L2xpYi9udW1iZXJfZm9ybWF0LmpzXG4vLyBtb2R1bGUgaWQgPSA2MDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IFBhcGVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1BhcGVyJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaGVja2JveCc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NlbGVjdCc7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9NZW51SXRlbSc7XHJcbmltcG9ydCBJbnZvaWNlVGFibGUgZnJvbSAnLi9JbnZvaWNlVGFibGUnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbmFja2Jhcic7XHJcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b24nO1xyXG5pbXBvcnQgQ2xvc2VJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcbmltcG9ydCBDbGVhciBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xlYXInO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICAgIGR1ZURldGFpbHNSb290OiB7XHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjBcIixcclxuICAgICAgICBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCJcclxuICAgIH0sXHJcbiAgICBwb3N0Q2FsbER1ZURldGFpbHNSb290OiB7XHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjBcIixcclxuICAgICAgICAvLyBiYWNrZ3JvdW5kOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgIGhlaWdodDogXCI2MHZoXCIsXHJcbiAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIlxyXG4gICAgfSxcclxuICAgIG1lbnVJdGVtUm9vdDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBmb250U2l6ZTogXCIuOXJlbVwiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiMS41dmggMS4wOXZ3XCJcclxuICAgIH0sXHJcbiAgICBtZW51UGFwZXI6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcclxuICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkIHdoaXRlXCJcclxuICAgIH0sXHJcbiAgICBpY29uOiB7XHJcbiAgICAgICAgY29sb3I6IFwiZ3JleVwiLFxyXG4gICAgICAgIGhlaWdodDogXCIuNjVlbVwiLFxyXG4gICAgICAgIHdpZHRoOiBcIi42NWVtXCJcclxuICAgIH0sXHJcbiAgICBjaGVja2VkSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIHdpZHRoOiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIixcclxuICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0RmlsdGVyOiB7XHJcbiAgICAgICAgbWluV2lkdGg6IDEyMCxcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW0gIWltcG9ydGFudFwiLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiMS43MTh2d1wiLFxyXG4gICAgfSxcclxuICAgIGVtYWlsSWNvbjoge1xyXG4gICAgICAgIGhlaWdodDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcclxuICAgIH0sXHJcbiAgICBlbmFibGVkRW1haWxJY29uOiB7XHJcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxyXG4gICAgfSxcclxuICAgIGRpc2FibGVkRW1haWxJY29uOiB7XHJcbiAgICAgICAgb3BhY2l0eTogXCIuNVwiXHJcbiAgICB9LFxyXG4gICAgYmxhY2tUZXh0OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0TWVudToge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtICFpbXBvcnRhbnRcIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4yKVwiLFxyXG4gICAgfSxcclxuICAgIGNsZWFyU2VsZWN0aW9uczoge1xyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIixcclxuICAgICAgICBvcGFjaXR5OiAwLjY1LFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgY2xlYXJTZWxlY3Rpb25zUGFyZW50OiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgZm9udFNpemU6IFwiMXJlbVwiLFxyXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIi40NXJlbVwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0SWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHk6IC42XHJcbiAgICB9LFxyXG4gICAgc2VsZWN0TGluZVBvc3RDYWxsOiB7XHJcbiAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjNTk2QTc1ICFpbXBvcnRhbnRcIixcclxuICAgICAgICBwYWRkaW5nOiBcIi43dmggMFwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0TGluZUluQ2FsbDoge1xyXG4gICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXHJcbiAgICAgICAgbWFyZ2luVG9wOiBcIjIuMDM3dmhcIlxyXG4gICAgfSxcclxuICAgIGludm9pY2VCdWNrZXRDaGVja2JveDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjMuMTI1dndcIlxyXG4gICAgfSxcclxuICAgIGNoZWNrQm94Um9vdDoge1xyXG4gICAgICAgIHBhZGRpbmc6IFwiMFwiXHJcbiAgICB9LFxyXG4gICAgY2xlYXJTZWxlY3Rpb25HcmlkOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGludm9pY2VzOiBbXSxcclxuICAgIGZpbHRlckludm9pY2VzOiBmdW5jdGlvbigpIHt9LFxyXG4gICAgYnVja2V0TmFtZXM6IFtdLFxyXG59O1xyXG5cclxuY2xhc3MgRHVlRGV0YWlscyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcylcclxuICAgICAgICB0aGlzLnRvdGFsUm93cyA9IDA7XHJcbiAgICAgICAgdmFyIG1hcCA9IHt9XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwcm9wcy5pbnZvaWNlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsUm93cyA9IHRoaXMudG90YWxSb3dzICsgcHJvcHMuaW52b2ljZXNbal0ubGVuZ3RoXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXNbal0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghcHJvcHMuY29ycmVjdEludm9pY2VzTWFwKVxyXG4gICAgICAgICAgICAgICAgICAgIG1hcFtwcm9wcy5pbnZvaWNlc1tqXVtpXS5pZF0gPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzLmludm9pY2VzW2pdW2ldLmlkIGluIHByb3BzLmNvcnJlY3RJbnZvaWNlc01hcClcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwW3Byb3BzLmludm9pY2VzW2pdW2ldLmlkXSA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcFtwcm9wcy5pbnZvaWNlc1tqXVtpXS5pZF0gPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wb3N0Q2FsbCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0U2VsZWN0ZWRJbnZvaWNlcyhtYXApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBpbnZvaWNlVHlwZTogXCJBbGxcIixcclxuICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlczogbWFwLFxyXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXHJcbiAgICAgICAgICAgIGdsb2JhbENoZWNrOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNCdWxrRW1haWw6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbGxlY3RvcjogdGhpcy5wcm9wcy5jb2xsZWN0b3IsXHJcbiAgICAgICAgICAgIGN1c3RvbWVyOiB0aGlzLnByb3BzLmN1c3RvbWVyLFxyXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnByb3BzLmZpbHRlckludm9pY2VzKFwiQWxsXCIpXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzIH0sICgpID0+IHsgdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcywgdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKSB9KVxyXG4gICAgICAgIC8vIHRoaXMuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKVxyXG4gICAgfVxyXG5cclxuICAgIHNldENoZWNrID0gKGludm9pY2VzLCBzZWxlY3RlZEludm9pY2VzKSA9PiB7XHJcblxyXG4gICAgICAgIHZhciBhbGxFbWFpbHNGbGFnID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wID0gaW52b2ljZXNcclxuXHJcbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZVxyXG4gICAgICAgIHZhciBzdW0gPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBzdW0gPSBzdW0gKyB0ZW1wW2pdLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wW2pdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbal1baV0uaWRdID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9lbmFibGUgb3IgZGlzYWJsZSBlbWFpbCBpY29uIGJhc2VkIG9uIHNlbGVjdGlvblxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbEVtYWlsc0ZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0J1bGtFbWFpbDogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYWxsRW1haWxzRmxhZykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IHRydWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdW0gPT0gMClcclxuICAgICAgICAgICAgZmxhZyA9IHRydWVcclxuXHJcbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGdsb2JhbENoZWNrOiBmYWxzZSB9KVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGdsb2JhbENoZWNrOiB0cnVlIH0pXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVHbG9iYWxNYXAgPSAoZGF0YSwgZmxhZywgY2FsbEZyb21DaGlsZCkgPT4ge1xyXG4gICAgICAgIHZhciB0ZW1wO1xyXG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xyXG4gICAgICAgICAgICBjYXNlIFwiYWRkXCI6XHJcbiAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzXHJcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcClcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzXHJcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImFkZEFycmF5XCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbEZyb21DaGlsZCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbaV0uaWRdID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEubGVuZ3RoOyBqKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVtqXS5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtqXVtpXS5pZF0gPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVBcnJheVwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxGcm9tQ2hpbGQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnBvc3RDYWxsID09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRTZWxlY3RlZEludm9pY2VzKHRlbXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZ2xvYmFsQ2hlY2sgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdsb2JhbE1hcCh0aGlzLnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIsIGZhbHNlKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVHbG9iYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJhZGRBcnJheVwiLCBmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbGVhclNlbGVjdGlvbnMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVHbG9iYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJyZW1vdmVBcnJheVwiLCBmYWxzZSlcclxuICAgIH1cclxuICAgIGZpbmRUeXBlID0gKGludm9pY2UpID0+IHtcclxuICAgICAgICBpZiAoaW52b2ljZS5wMnBEZWxpbnF1ZW50KVxyXG4gICAgICAgICAgICByZXR1cm4gXCJQcmVkaWN0ZWQgRGVsaW5xbWVudFwiXHJcbiAgICAgICAgaWYgKGludm9pY2UucDJwVXBjb21pbmcpXHJcbiAgICAgICAgICAgIHJldHVybiBcIlVwY29taW5nIFAyUFwiXHJcbiAgICAgICAgaWYgKGludm9pY2UucDJwQnJva2VuKVxyXG4gICAgICAgICAgICByZXR1cm4gXCJCcm9rZW4gUDJQXCJcclxuICAgICAgICByZXR1cm4gXCJEaXNwdXRlXCJcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVGaWx0ZXJDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICAgICAgLy8gdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VUeXBlOiBldmVudC50YXJnZXQudmFsdWUgfSlcclxuICAgICAgICAvLyB2YXIgaW52b2ljZVR5cGUgPSBldmVudC50YXJnZXQudmFsdWVcclxuICAgICAgICAvLyBpZiAoaW52b2ljZVR5cGUgPT0gXCJBbGxcIilcclxuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiB0aGlzLnN0YXRlLmFsbEludm9pY2VzIH0sKCkgPT4ge3RoaXMuc2V0Q2hlY2soKX0pO1xyXG4gICAgICAgIC8vIGVsc2Uge1xyXG4gICAgICAgIC8vICAgICBsZXQgaW52b2ljZXMgPSB0aGlzLnN0YXRlLmFsbEludm9pY2VzO1xyXG4gICAgICAgIC8vICAgICB2YXIgZmlsdGVyZWRJbnZvaWNlcyA9IFtdXHJcbiAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgLy8gICAgICAgICBmaWx0ZXJlZEludm9pY2VzW2ldID0gaW52b2ljZXNbaV0uZmlsdGVyKGludm9pY2UgPT4gdGhpcy5maW5kVHlwZShpbnZvaWNlKSA9PSBpbnZvaWNlVHlwZSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogZmlsdGVyZWRJbnZvaWNlcyB9LCgpID0+IHt0aGlzLnNldENoZWNrKCl9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VUeXBlOiBldmVudC50YXJnZXQudmFsdWUgfSlcclxuICAgICAgICB0aGlzLnByb3BzLmZpbHRlckludm9pY2VzKGV2ZW50LnRhcmdldC52YWx1ZSlcclxuICAgIH1cclxuXHJcbiAgICBwcmV2ZW50RGVmYXVsdCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3BlbiBzbmFjayBiYXIgd2l0aCBtZXNzYWdlXHJcbiAgICBvcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IG1lc3NhZ2UgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbG9zZSBzbmFjayBiYXIgdXNpbmcgY3Jvc3MgYnV0dG9uXHJcbiAgICBjbG9zZVNuYWNrYmFyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlbmQgZW1haWwgZm9yIG1vcmUgdGhhbiBvbmUgaW52b2ljZVxyXG4gICAgc2VuZEJ1bGtFbWFpbCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuaW52b2ljZXM7XHJcbiAgICAgICAgdmFyIGRvY3VtZW50TnVtYmVycyA9IFtdO1xyXG5cclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBjaGVja2VkIGludm9pY2VzIElkXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcFtqXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2pdW2ldLmlkXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXJzLnB1c2godGVtcFtqXVtpXS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWF0aW5nIHJlcXVlc3Qgb2JqZWN0XHJcbiAgICAgICAgbGV0IHJlcUVtYWlsT2JqID0ge1xyXG4gICAgICAgICAgICBjdXN0b21lcklkOiB0aGlzLnN0YXRlLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICBkb2N1bWVudElkczogZG9jdW1lbnROdW1iZXJzLFxyXG4gICAgICAgICAgICBmcm9tOiB0aGlzLnN0YXRlLmNvbGxlY3Rvci5lbWFpbElkLCAgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxyXG4gICAgICAgICAgICB0bzogdGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkLCAgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBNYWtpbmcgYSBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgZW1haWxzXHJcbiAgICAgICAgYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKVxyXG4gICAgICAgICAgICAvLyBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopICAgIC8vIG1vY2sgc2VydmVyIGFwaVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRXJyb3IgaW4gc2VuZGluZyBlbWFpbFwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMFxyXG4gICAgICAgIGZvciAobGV0IGkgaW4gc2VsZWN0ZWRJbnZvaWNlcykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyknO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGNsYXNzZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHZhciBkYXlzID0gdGhpcy5wcm9wcy5idWNrZXROYW1lc1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxQYXBlciBjbGFzc05hbWU9e3RoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnBvc3RDYWxsRHVlRGV0YWlsc1Jvb3QgOiBjbGFzc2VzLmR1ZURldGFpbHNSb290fSBlbGV2YXRpb249ezB9PlxyXG4gICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyICBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgY2xhc3NOYW1lPXt0aGlzLnByb3BzLnBvc3RDYWxsID8gY2xhc3Nlcy5zZWxlY3RMaW5lUG9zdENhbGwgOiBjbGFzc2VzLnNlbGVjdExpbmVJbkNhbGx9ID5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlQnVja2V0Q2hlY2tib3h9IGFsaWduPVwiY2VudGVyXCI+PENoZWNrYm94IGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfX0gaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fSBjaGVja2VkPXt0aGlzLnN0YXRlLmdsb2JhbENoZWNrfSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNoYW5nZX0gLz48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5ibGFja1RleHR9PlNlbGVjdCBBbGw8L3NwYW4+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezF9IGFsaWduPVwicmlnaHRcIj48VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNSB9fT5WaWV3ICZuYnNwOzo8L1R5cG9ncmFwaHk+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5zZWxlY3RGaWx0ZXIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaW52b2ljZVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVGaWx0ZXJDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IGljb246IGNsYXNzZXMuc2VsZWN0SWNvbiwgc2VsZWN0TWVudTogY2xhc3Nlcy5zZWxlY3RNZW51IH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW51UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcGVyOiBjbGFzc2VzLm1lbnVQYXBlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJpbnZvaWNlVHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlbGVjdE1lbnUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydBbGwnfT5BbGw8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydCcm9rZW4gUDJQJ30+QnJva2VuIFAyUDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J1VwY29taW5nIFAyUCd9PlVwY29taW5nIFAyUDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J0Rpc3B1dGUnfT5EaXNwdXRlPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnUHJlZGljdGVkIERlbGlucXVlbnQnfT5QcmVkaWN0ZWQgRGVsaW5xdWVudDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5wb3N0Q2FsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs1fSBhbGlnbj1cInJpZ2h0XCIgY2xhc3NOYW1lPXtjbGFzc2VzLmNsZWFyU2VsZWN0aW9uR3JpZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9e3RoaXMuY2xlYXJTZWxlY3Rpb25zfSBjbGFzc05hbWU9e2NsYXNzZXMuY2xlYXJTZWxlY3Rpb25zUGFyZW50fT48Q2xlYXIgc3R5bGU9e3sgZm9udFNpemU6IFwiMS4xcmVtXCIsIG9wYWNpdHk6IDAuNjUgfX0gLz4gPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmNsZWFyU2VsZWN0aW9uc30+Q2xlYXIgU2VsZWN0aW9ucyB7dGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoKCl9PC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHshdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs1fSBhbGlnbj1cInJpZ2h0XCIgc3R5bGU9e3sgcGFkZGluZ1JpZ2h0OiBcIjB2d1wiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAodGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLmlzQnVsa0VtYWlsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwgaW1nIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmVtYWlsSWNvbiwgY2xhc3Nlcy5lbmFibGVkRW1haWxJY29uKX0gb25DbGljaz17dGhpcy5zZW5kQnVsa0VtYWlsfSBzcmM9eycvdG92by9zdGF0aWMvRW1haWwuc3ZnJ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLmlzQnVsa0VtYWlsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwgaW1nIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmVtYWlsSWNvbiwgY2xhc3Nlcy5kaXNhYmxlZEVtYWlsSWNvbil9IHNyYz17Jy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW52b2ljZXMubWFwKChidWNrZXRJbnZvaWNlcywgaWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW52b2ljZVRhYmxlIGVtYWlsT2ZDYWxsZWQ9e3RoaXMucHJvcHMuZW1haWxPZkNhbGxlZH0gcG9zdENhbGw9e3RoaXMucHJvcHMucG9zdENhbGx9IGNvbGxlY3Rvcj17dGhpcy5wcm9wcy5jb2xsZWN0b3J9IGN1c3RvbWVyPXt0aGlzLnByb3BzLmN1c3RvbWVyfSBzZWxlY3RlZEludm9pY2VzPXt0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXN9IGludm9pY2VzPXtidWNrZXRJbnZvaWNlc30gaW5kaXZpZHVhbD17ZmFsc2V9IGRheXM9e2RheXNbaWRdfSBpbnZvaWNlVHlwZT17dGhpcy5zdGF0ZS5pbnZvaWNlVHlwZX0gdXBkYXRlR2xvYmFsTWFwPXt0aGlzLnVwZGF0ZUdsb2JhbE1hcH0+PC9JbnZvaWNlVGFibGU+XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8U25hY2tiYXJcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3JPcmlnaW49e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLnNuYWNrQmFyT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uPXsyMDAwfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgICAgICAgICAgICBDb250ZW50UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXs8c3BhbiBpZD1cIm1lc3NhZ2UtaWRcIj57dGhpcy5zdGF0ZS5zbmFja0Jhck1lc3NhZ2V9PC9zcGFuPn1cclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb249e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cImNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cImluaGVyaXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNsb3NlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvUGFwZXI+XHJcblxyXG4gICAgICAgICk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5EdWVEZXRhaWxzLnByb3BUeXBlcyA9IHtcclxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIGludm9pY2VzOiBQcm9wVHlwZXMuYXJyYXksXHJcbiAgICBmaWx0ZXJJbnZvaWNlczogUHJvcFR5cGVzLmZ1bmNcclxufTtcclxuXHJcbkR1ZURldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKER1ZURldGFpbHMpO1xyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvRHVlRGV0YWlsLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBFeHBhbnNpb25QYW5lbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbCc7XHJcbmltcG9ydCBFeHBhbnNpb25QYW5lbFN1bW1hcnkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRXhwYW5zaW9uUGFuZWxTdW1tYXJ5JztcclxuaW1wb3J0IEV4cGFuc2lvblBhbmVsRGV0YWlscyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbERldGFpbHMnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiO1xyXG5pbXBvcnQgeyBmb3JtYXR0ZXIgfSBmcm9tICcuLi91dGlscy9mb3JtYXR0ZXInO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IEV4cGFuZE1vcmVJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FeHBhbmRNb3JlJztcclxuaW1wb3J0IENoZWNrYm94IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NoZWNrYm94JztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBDbG9zZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJ1xyXG5pbXBvcnQgRG9uZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0RvbmUnXHJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL1NlbGVjdFwiO1xyXG5pbXBvcnQgTWVudUl0ZW0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL01lbnVJdGVtXCI7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IFNuYWNrYmFyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NuYWNrYmFyJztcclxuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvbic7XHJcbmltcG9ydCB7IEV4cGFuZExlc3MgfSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMnO1xyXG5pbXBvcnQgTGlzdE9mVGlsZSBmcm9tICcuL0xpc3RPZlRpbGUnXHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gICAgcm9vdDoge1xyXG4gICAgICAgIHBhZGRpbmc6IFwiMFwiXHJcbiAgICB9LFxyXG4gICAgbWVudUl0ZW1Sb290OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIxLjV2aCAxLjA5dndcIlxyXG4gICAgfSxcclxuICAgIG1lbnVQYXBlcjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiXHJcbiAgICB9LFxyXG4gICAgcG9zdENhbGxSb290OiB7XHJcbiAgICAgICAgcGFkZGluZzogXCIwXCIsXHJcbiAgICAgICAgbWFyZ2luVG9wOiBcIi44dmhcIlxyXG4gICAgfSxcclxuICAgIGljb246IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgd2lkdGg6IFwiMS4yNXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjIuMjJ2aFwiLFxyXG4gICAgICAgIG9wYWNpdHk6IFwiLjZcIlxyXG5cclxuICAgIH0sXHJcbiAgICBjaGVja2VkSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIHpJbmRleDogXCIzXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcclxuICAgIH0sXHJcbiAgICBzZWxlY3RGaWx0ZXI6IHtcclxuICAgICAgICBtaW5XaWR0aDogMTIwLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiMS43MTh2d1wiXHJcbiAgICB9LFxyXG4gICAgZ3JpZExpc3Q6IHtcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcclxuICAgICAgICBtYXJnaW46ICcwIC0ycHggLTJweCAtMnB4ICFpbXBvcnRhbnQnLFxyXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXHJcbiAgICB9LFxyXG4gICAgZ3JpZExpc3REaXY6IHtcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgd2lkdGg6IFwiMTUuNDF2d1wiLFxyXG4gICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcclxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAxcHhcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxyXG4gICAgfSxcclxuICAgIHNlbGVjdGVkR3JpZExpc3REaXY6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiLFxyXG4gICAgfSxcclxuICAgIHNoaWZ0OiB7XHJcbiAgICAgICAgbWFyZ2luOiBcIjFyZW0gMXJlbSAwIDFyZW1cIlxyXG4gICAgfSxcclxuICAgIGJsYWNrVGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBmb250U2l6ZTogXCIuOTVyZW1cIixcclxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICB9LFxyXG4gICAgZ3JleVRleHQ6IHtcclxuICAgICAgICBvcGFjaXR5OiBcIi42NVwiXHJcbiAgICB9LFxyXG4gICAgYnVja2V0SGVhZGVyVGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBmb250U2l6ZTogXCIuOXJlbVwiLFxyXG4gICAgfSxcclxuICAgIGVtYWlsVGFibGVDZWxsOiB7XHJcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi43cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIuN3B4IHNvbGlkICM1OTZBNzUgIWltcG9ydGFudFwiLFxyXG4gICAgICAgIHdpZHRoOiBcImNhbGMoMS40NnZoICsgMS40NnZ3KVwiLFxyXG4gICAgICAgIGhlaWdodDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcclxuICAgIH0sXHJcbiAgICBjaGFuZ2VSb3dCYWNrZ3JvdW5kOiB7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM1ODY5NzNcIixcclxuICAgIH0sXHJcbiAgICBkZWZhdWx0QmFja2dyb3VuZDoge1xyXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIuN3B4IHNvbGlkICMzOTVDNzMgIWltcG9ydGFudFwiLFxyXG4gICAgICAgIGhlaWdodDogXCI1LjY1dmhcIlxyXG4gICAgfSxcclxuICAgIGludm9pY2VIZWFkZXJUZXh0OiB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eTogXCIuNVwiXHJcbiAgICB9LFxyXG4gICAgcGFuZWxTdW1tYXJ5OiB7XHJcbiAgICAgICAgcGFkZGluZzogXCIwXCIsIG1hcmdpbjogXCIwXCJcclxuICAgIH0sXHJcbiAgICBjb250ZW50OiB7XHJcbiAgICAgICAgbWFyZ2luOiBcIjAgIWltcG9ydGFudFwiLFxyXG4gICAgfSxcclxuICAgIGV4cGFuZEljb246IHtcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcclxuICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBpbmRpdmlkdWFsSW52b2ljZUhlYWRlcjoge1xyXG4gICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXHJcbiAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMXJlbVwiLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogXCIxcmVtXCIsXHJcbiAgICAgICAgcGFkZGluZ1RvcDogXCIyLjAzN3ZoXCIsXHJcbiAgICB9LFxyXG4gICAgZW1haWxJY29uOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS40NnZoICsgMS40NnZ3KVwiLFxyXG4gICAgICAgIHdpZHRoOiBcImNhbGMoMS40NnZoICsgMS40NnZ3KVwiLFxyXG4gICAgfSxcclxuICAgIGVuYWJsZWRFbWFpbEljb246IHtcclxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXHJcbiAgICB9LFxyXG4gICAgZGlzYWJsZWRFbWFpbEljb246IHtcclxuICAgICAgICBvcGFjaXR5OiBcIi41XCJcclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5RXhwYW5kZWQ6IHtcclxuICAgICAgICBtaW5IZWlnaHQ6IFwiNS41NXZoICFpbXBvcnRhbnRcIlxyXG4gICAgfSxcclxuICAgIGRpc2FibGVUaW1lbGluZToge1xyXG4gICAgICAgIG1hcmdpblRvcDogXCIyLjJyZW1cIiwgbWFyZ2luTGVmdDogXCIuMnJlbVwiXHJcbiAgICB9LFxyXG4gICAgdGltZWxpbmU6IHtcclxuICAgICAgICBib3JkZXJMZWZ0OiBcIjFweCBzb2xpZCAjNTk2QTc1XCIsXHJcbiAgICB9LFxyXG4gICAgZGlzYWJsZVRpbWVsaW5lOiB7XHJcblxyXG4gICAgfSxcclxuICAgIHBvc3RDYWxsVGltZWxpbmU6IHtcclxuICAgICAgICBib3JkZXJMZWZ0OiBcIjFweCBzb2xpZCAjMzk1QzczXCIsXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0SWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiAuNlxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlDb250ZW50OiB7XHJcbiAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcclxuICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMCAhaW1wb3J0YW50XCIsXHJcbiAgICB9LFxyXG4gICAgYWxpZ25HcmlkQ2VsbENlbnRlcjoge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICB9LFxyXG4gICAgaW52b2ljZU51bWJlckNvbHVtbjoge1xyXG4gICAgICAgIHdpZHRoOiBcIjE0JVwiXHJcbiAgICB9LFxyXG4gICAgYW1vdW50Q29sdW1uOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTIlXCJcclxuICAgIH0sXHJcbiAgICBicm9rZW5Db2x1bW46IHtcclxuICAgICAgICB3aWR0aDogXCIxMy41JVwiXHJcbiAgICB9LFxyXG4gICAgdXBjb21pbmdDb2x1bW46IHtcclxuICAgICAgICB3aWR0aDogXCIxNCVcIlxyXG4gICAgfSxcclxuICAgIGRpc3B1dGVDb2x1bW46IHtcclxuICAgICAgICB3aWR0aDogXCIxMyVcIlxyXG4gICAgfSxcclxuICAgIHByZWRpY3RlZENvbHVtbjoge1xyXG4gICAgICAgIHdpZHRoOiBcIjE4JVwiXHJcbiAgICB9LFxyXG4gICAgY2hlY2tCb3hDb2x1bW46IHtcclxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICAgICAgbWluV2lkdGg6IFwiMy4xMjV2d1wiLFxyXG4gICAgfSxcclxuICAgIGJvcmRlckJvdHRvbToge1xyXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIuN3B4IHNvbGlkICMzOTVDNzMgIWltcG9ydGFudFwiLFxyXG4gICAgfSxcclxuICAgIGVtYWlsQ29sdW1uOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiXHJcbiAgICB9LFxyXG4gICAgaW52b2ljZUJ1Y2tldENoZWNrYm94OiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMy4xMjV2d1wiLFxyXG4gICAgICAgIGhlaWdodDogXCI1LjU1dmhcIixcclxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiXHJcbiAgICB9LFxyXG4gICAgdmVydGljYWxUaW1lbGluZToge1xyXG4gICAgICAgIHdpZHRoOiBcIjMuMTI1dndcIixcclxuICAgIH0sXHJcbiAgICBjb25uZWN0b3I6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNS41NXZoXCJcclxuICAgIH0sXHJcbiAgICBjaGVja0JveFJvb3Q6IHtcclxuICAgICAgICBwYWRkaW5nOiBcIjBcIlxyXG4gICAgfSxcclxuICAgIGluZGl2aWR1YWxCdWNrZXRDaGVja2JveDoge1xyXG4gICAgICAgIG1pbldpZHRoOiBcIjMuMTI1dndcIlxyXG4gICAgfSxcclxuICAgIHNlbGVjdE1lbnU6IHtcclxuICAgICAgICBmb250U2l6ZTogXCIuOXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMilcIixcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdFRpbGU6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiYXV0byAhaW1wb3J0YW50XCJcclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGludm9pY2VzOiBbXSxcclxuICAgIHNlbGVjdGVkSW52b2ljZXM6IFtdLFxyXG4gICAgZmlsdGVySW52b2ljZXM6IGZ1bmN0aW9uKCkge31cclxufTtcclxuXHJcbmNsYXNzIEludm9pY2VUYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpXHJcbiAgICAgICAgdmFyIGV4cGFuZGVkO1xyXG4gICAgICAgIHRoaXMudG90YWxBbW91bnQgPSAwO1xyXG4gICAgICAgIHZhciBtYXAgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxBbW91bnQgPSB0aGlzLnRvdGFsQW1vdW50ICsgcHJvcHMuaW52b2ljZXNbaV0uY3VycmVudE9wZW5BbW91bnQ7XHJcbiAgICAgICAgICAgIG1hcFtwcm9wcy5pbnZvaWNlc1tpXS5pZF0gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNoZWNrZWRJbnZvaWNlcztcclxuICAgICAgICB2YXIgaW52b2ljZVR5cGU7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5kaXZpZHVhbCkge1xyXG4gICAgICAgICAgICBjaGVja2VkSW52b2ljZXMgPSBtYXA7XHJcbiAgICAgICAgICAgIGludm9pY2VUeXBlID0gXCJBbGxcIjtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJJbnZvaWNlcyhcIkFsbFwiKTtcclxuICAgICAgICAgICAgZXhwYW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2hlY2tlZEludm9pY2VzID0gdGhpcy5wcm9wcy5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgICAgICBpbnZvaWNlVHlwZSA9IHByb3BzLmludm9pY2VUeXBlO1xyXG4gICAgICAgICAgICBleHBhbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgY2hlY2tlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzOiBjaGVja2VkSW52b2ljZXMsXHJcbiAgICAgICAgICAgIGRheXM6IHByb3BzLmRheXMsXHJcbiAgICAgICAgICAgIHRvdGFsQW1vdW50OiB0aGlzLnRvdGFsQW1vdW50LFxyXG4gICAgICAgICAgICBpbnZvaWNlVHlwZTogaW52b2ljZVR5cGUsXHJcbiAgICAgICAgICAgIGV4cGFuZGVkOiBleHBhbmRlZCxcclxuICAgICAgICAgICAgaXNCdWxrRW1haWw6IHRydWUsXHJcbiAgICAgICAgICAgIGN1c3RvbWVyOiB0aGlzLnByb3BzLmN1c3RvbWVyLFxyXG4gICAgICAgICAgICBjb2xsZWN0b3I6IHRoaXMucHJvcHMuY29sbGVjdG9yLFxyXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcykge1xyXG4gICAgICAgIC8vIHRoaXMuc2V0Q2hlY2soKSAgICBcclxuICAgICAgICB2YXIgc3VtID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHN1bSA9IHN1bSArIHByb3BzLmludm9pY2VzW2ldLmN1cnJlbnRPcGVuQW1vdW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvcHMuaW5kaXZpZHVhbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG90YWxBbW91bnQ6IHN1bSwgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLCBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsIHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG90YWxBbW91bnQ6IHN1bSwgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLCBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIHNlbGVjdGVkSW52b2ljZXM6IHByb3BzLnNlbGVjdGVkSW52b2ljZXMgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsIHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUZpbHRlckNoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxyXG4gICAgICAgIHRoaXMucHJvcHMuZmlsdGVySW52b2ljZXMoZXZlbnQudGFyZ2V0LnZhbHVlKVxyXG4gICAgfTtcclxuXHJcbiAgICB0b2dnbGVFeHBhbmQgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZXhwYW5kZWQgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiBmYWxzZSB9KVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiB0cnVlIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFkZEludm9pY2UgPSAoaWQpID0+IHtcclxuICAgICAgICAvLyB2YXIgaWQgPSBldmVudC50YXJnZXQuaWQ7XHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiSUQgaXNcIixpZClcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2lkXSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5pbmRpdmlkdWFsKVxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMb2NhbE1hcChpZCwgXCJhZGRcIilcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVHbG9iYWxNYXAoaWQsIFwiYWRkXCIsIHRydWUpXHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2V0Q2hlY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmluZGl2aWR1YWwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsTWFwKGlkLCBcInJlbW92ZVwiKVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcChpZCwgXCJyZW1vdmVcIiwgdHJ1ZSlcclxuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIGNoZWNrQWxsSW52b2ljZXMgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jaGVja2VkID09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGZhbHNlIH0pXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmluZGl2aWR1YWwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsTWFwKHRoaXMuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIilcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVHbG9iYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJyZW1vdmVBcnJheVwiLCB0cnVlKVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjaGVja2VkOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmluZGl2aWR1YWwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsTWFwKHRoaXMuc3RhdGUuaW52b2ljZXMsIFwiYWRkQXJyYXlcIilcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVHbG9iYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJhZGRBcnJheVwiLCB0cnVlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1dpbGwgY2hlY2sgYW5kIG1hcCBhbGwgaW52b2ljZXMgYXJlIHNlbGVjdGVkIG9yIG5vdFxyXG4gICAgdXBkYXRlTG9jYWxNYXAgPSAoZGF0YSwgZmxhZykgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xyXG4gICAgICAgICAgICBjYXNlIFwiYWRkXCI6XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICAgICAgICAgIHRlbXBbZGF0YV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgICAgICAgICAgdGVtcFtkYXRhXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhZGRBcnJheVwiOlxyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbaV0uaWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlQXJyYXlcIjpcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRDaGVjayA9ICgpID0+IHtcclxuICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuaW52b2ljZXM7XHJcbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgYWxsRW1haWxzRmxhZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvL2VuYWJsZSBvciBkaXNhYmxlIGVtYWlsIGljb24gYmFzZWQgb24gc2VsZWN0aW9uXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXS5pZF0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgYWxsRW1haWxzRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhbGxFbWFpbHNGbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0J1bGtFbWFpbDogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtpXS5pZF0gPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRlbXAubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAoZmxhZyA9PSB0cnVlKVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogZmFsc2UgfSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcclxuICAgIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyTWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cclxuICAgIGNsb3NlU25hY2tiYXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2VuZCBlbWFpbCBmb3IgaW5kaXZpZHVhbCBpbnZvaWNlXHJcbiAgICBzZW5kRW1haWwgPSAoaW52b2ljZUlkKSA9PiB7XHJcbiAgICAgICAgLy9DcmVhdGluZyByZXF1ZXN0IG9iamVjdFxyXG4gICAgICAgIGxldCByZXFFbWFpbE9iaiA9IHtcclxuICAgICAgICAgICAgY3VzdG9tZXJJZDogdGhpcy5zdGF0ZS5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IFtpbnZvaWNlSWRdLFxyXG4gICAgICAgICAgICBmcm9tOiB0aGlzLnN0YXRlLmNvbGxlY3Rvci5lbWFpbElkLCAgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxyXG4gICAgICAgICAgICB0bzogdGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkLCAgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL01ha2luZyBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgRW1haWwgZm9yIHRoaXMgaW52b2ljZVxyXG4gICAgICAgIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHlgLCByZXFFbWFpbE9iailcclxuICAgICAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgLy8gbW9jayBzZXJ2ZXIgYXBpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRXJyb3IgaW4gc2VuZGluZyBlbWFpbFwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2VuZCBlbWFpbCBmb3IgbW9yZSB0aGFuIG9uZSBpbnZvaWNlXHJcbiAgICBzZW5kQnVsa0VtYWlsID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyBCdWxrIGVtYWlsXCIpO1xyXG4gICAgICAgIHZhciB0ZW1wID0gdGhpcy5zdGF0ZS5pbnZvaWNlcztcclxuICAgICAgICB2YXIgZG9jdW1lbnROdW1iZXJzID0gW107XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgY2hlY2tlZCBpbnZvaWNlIElkc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbaV0uaWRdID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50TnVtYmVycy5wdXNoKHRlbXBbaV0uaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGluZyByZXF1ZXN0IG9iamVjdFxyXG4gICAgICAgIGxldCByZXFFbWFpbE9iaiA9IHtcclxuICAgICAgICAgICAgY3VzdG9tZXJJZDogdGhpcy5zdGF0ZS5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IGRvY3VtZW50TnVtYmVycyxcclxuICAgICAgICAgICAgZnJvbTogdGhpcy5zdGF0ZS5jb2xsZWN0b3IuZW1haWxJZCwgIC8vZ2V0IGZyb20gY29sbGVjdG9yIHByb2ZpbGVcclxuICAgICAgICAgICAgdG86IHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBNYWtpbmcgYSBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgZW1haWxzXHJcbiAgICAgICAgYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKVxyXG4gICAgICAgICAgICAvLyBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopICAgIC8vIG1vY2sgc2VydmVyIGFwaVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdGVkSW52b2ljZXNMZW5ndGggPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSW52b2ljZXMgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSW52b2ljZXNDb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5pbnZvaWNlcztcclxuICAgICAgICBmb3IgKGxldCBpIGluIGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzW2ludm9pY2VzW2ldLmlkXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDAgfHwgIXRoaXMucHJvcHMucG9zdENhbGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAoVG90YWw6IFxcJCR7Zm9ybWF0dGVyKHRoaXMuc3RhdGUudG90YWxBbW91bnQsIFwiXCIpfSAtICR7dGhpcy5zdGF0ZS5pbnZvaWNlcy5sZW5ndGh9IEludm9pY2VzKWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnKCcgKyBzZWxlY3RlZEludm9pY2VzQ291bnQgKyAnIFNlbGVjdGVkKSc7XHJcbiAgICB9XHJcblxyXG4gICAgLy9SZW5kZXIgZnVuY3Rpb24gXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIH19PlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW5kaXZpZHVhbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciB4cz17MTJ9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIGNsYXNzTmFtZT17Y2xhc3Nlcy5pbmRpdmlkdWFsSW52b2ljZUhlYWRlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJjZW50ZXJcIiBzdHlsZT17eyB6SW5kZXg6IFwiNVwiIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5pbmRpdmlkdWFsQnVja2V0Q2hlY2tib3h9PjxDaGVja2JveCBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMuY2hlY2tCb3hSb290IH19IGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59IGNoZWNrZWRJY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZD17dGhpcy5zdGF0ZS5jaGVja2VkfSBvbkNsaWNrPXsoKSA9PiB0aGlzLmNoZWNrQWxsSW52b2ljZXMoZXZlbnQpfSAvPjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MX0+PHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmJ1Y2tldEhlYWRlclRleHR9PlNlbGVjdCBBbGw8L3NwYW4+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxfSBhbGlnbj1cInJpZ2h0XCI+PFR5cG9ncmFwaHkgc3R5bGU9e3sgY29sb3I6IFwiIzk4OTg5OFwiIH19PlZpZXcgJm5ic3A7OiAgPC9UeXBvZ3JhcGh5PjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17NH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuc2VsZWN0RmlsdGVyKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pbnZvaWNlVHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IGljb246IGNsYXNzZXMuc2VsZWN0SWNvbiwgc2VsZWN0TWVudTogY2xhc3Nlcy5zZWxlY3RNZW51IH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRmlsdGVyQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJpbnZvaWNlVHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVudVByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcGVyOiBjbGFzc2VzLm1lbnVQYXBlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydBbGwnfT5BbGw8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnQnJva2VuIFAyUCd9PkJyb2tlbiBQMlA8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnVXBjb21pbmcgUDJQJ30+VXBjb21pbmcgUDJQPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J0Rpc3B1dGUnfT5EaXNwdXRlPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J1ByZWRpY3RlZCBEZWxpbnF1ZW50J30+UHJlZGljdGVkIERlbGlucXVlbnQ8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17NX0gYWxpZ249XCJyaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5lbWFpbEljb24sIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbil9IG9uQ2xpY2s9e3RoaXMuc2VuZEJ1bGtFbWFpbH0gc3JjPXsnL3Rvdm8vc3RhdGljL0VtYWlsLnN2Zyd9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhdGhpcy5zdGF0ZS5pc0J1bGtFbWFpbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmVtYWlsSWNvbiwgY2xhc3Nlcy5kaXNhYmxlZEVtYWlsSWNvbil9IHNyYz17Jy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGFsaWduSXRlbXM9XCJmbGV4LXN0YXJ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTJ9IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5pbmRpdmlkdWFsID8gY2xhc3Nlcy5zaGlmdCA6IGNsYXNzZXMubm9TaGlmdH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbnNpb25QYW5lbCBzdHlsZT17eyBib3hTaGFkb3c6IFwibm9uZVwiLCBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIiB9fSBkZWZhdWx0RXhwYW5kZWQ9e3RoaXMucHJvcHMuaW5kaXZpZHVhbH0gZXhwYW5kZWQ9e3RoaXMuc3RhdGUuZXhwYW5kZWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnByb3BzLmluZGl2aWR1YWwgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXhwYW5zaW9uUGFuZWxTdW1tYXJ5IGNsYXNzTmFtZT17Y2xhc3Nlcy5wYW5lbFN1bW1hcnl9IGNsYXNzZXM9e3sgY29udGVudDogY2xhc3Nlcy5jb250ZW50LCBleHBhbmRlZDogY2xhc3Nlcy5zdW1tYXJ5RXhwYW5kZWQgfX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgYWxpZ25JdGVtcz1cImNlbnRlclwiIGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5Q29udGVudH0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUJ1Y2tldENoZWNrYm94fSBhbGlnbj1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNvbm5lY3Rvcn0+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfX0gaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fSBjaGVja2VkPXt0aGlzLnN0YXRlLmNoZWNrZWR9IG9uQ2xpY2s9eygpID0+IHRoaXMuY2hlY2tBbGxJbnZvaWNlcyhldmVudCl9IC8+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIGl0ZW0geHM9ezExfSBhbGlnbj1cImxlZnRcIiBvbkNsaWNrPXt0aGlzLnRvZ2dsZUV4cGFuZH0gY2xhc3NOYW1lPXtjbGFzc2VzLmJvcmRlckJvdHRvbX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMuYnVja2V0SGVhZGVyVGV4dH0+e3RoaXMuc3RhdGUuZGF5c30mbmJzcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5ncmV5VGV4dCxjbGFzc2VzLmJ1Y2tldEhlYWRlclRleHQpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGgoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsyfSBhbGlnbj1cInJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5leHBhbmRlZCAmJiA8RXhwYW5kTW9yZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmV4cGFuZEljb259IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5leHBhbmRlZCAmJiA8RXhwYW5kTGVzcyBjbGFzc05hbWU9e2NsYXNzZXMuZXhwYW5kSWNvbn0gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9FeHBhbnNpb25QYW5lbFN1bW1hcnk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXhwYW5zaW9uUGFuZWxEZXRhaWxzIGNsYXNzTmFtZT17IXRoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnJvb3QgOiBjbGFzc2VzLnBvc3RDYWxsUm9vdH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnByb3BzLnBvc3RDYWxsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshdGhpcy5wcm9wcy5pbmRpdmlkdWFsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjb250YWluZXIgY2xhc3NOYW1lPXtjbGFzc2VzLnZlcnRpY2FsVGltZWxpbmV9IGp1c3RpZnk9XCJjZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e3RoaXMucHJvcHMuaW5kaXZpZHVhbCA/IGNsYXNzZXMuZGlzYWJsZVRpbWVsaW5lIDogY2xhc3Nlcy50aW1lbGluZX0gPjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjb250YWluZXIgeHM9e3RoaXMucHJvcHMuaW5kaXZpZHVhbCA/IDEyIDogMTF9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwiY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjb250YWluZXIgeHM9ezEyfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiMS4zNHZoXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrQm94Q29sdW1ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwiY2VudGVyXCIgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuaW52b2ljZU51bWJlckNvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5hbGlnbkdyaWRDZWxsQ2VudGVyKX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW52b2ljZSBOdW1iZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwicmlnaHRcIiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5hbW91bnRDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuYWxpZ25HcmlkQ2VsbENlbnRlcil9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFtb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJjZW50ZXJcIiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5icm9rZW5Db2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuYWxpZ25HcmlkQ2VsbENlbnRlcil9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJyb2tlbiBQMlBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwiY2VudGVyXCIgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMudXBjb21pbmdDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuYWxpZ25HcmlkQ2VsbENlbnRlcil9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwY29taW5nIFAyUFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJjZW50ZXJcIiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5kaXNwdXRlQ29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmFsaWduR3JpZENlbGxDZW50ZXIpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc3B1dGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwiY2VudGVyXCIgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMucHJlZGljdGVkQ29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmFsaWduR3JpZENlbGxDZW50ZXIpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByZWRpY3RlZCBEZWxpbnF1ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MX0gY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsQ29sdW1ufT48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlcy5tYXAoKGludm9pY2UsIGlkKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiB4cz17MTJ9IGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID8gY2xhc3NOYW1lcyhjbGFzc2VzLmNoYW5nZVJvd0JhY2tncm91bmQsIGNsYXNzZXMuZGVmYXVsdEJhY2tncm91bmQpIDogY2xhc3Nlcy5kZWZhdWx0QmFja2dyb3VuZH0ga2V5PXtpbnZvaWNlLmlkICsgXCJyb3dcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrQm94Q29sdW1ufSBhbGlnbj1cImNlbnRlclwiIHBhZGRpbmc9XCJjaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfX0gaWQ9e2ludm9pY2UuaWR9IGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59IGNoZWNrZWRJY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZD17dGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID09IHRydWV9IG9uQ2xpY2s9eygpID0+IHRoaXMuYWRkSW52b2ljZShpbnZvaWNlLmlkKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBhbGlnbj1cImNlbnRlclwiIG51bWVyaWMgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuaW52b2ljZU51bWJlckNvbHVtbiwgY2xhc3Nlcy5ibGFja1RleHQsIGNsYXNzZXMuYWxpZ25HcmlkQ2VsbENlbnRlcil9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ludm9pY2UuZG9jdW1lbnROdW1iZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgYWxpZ249XCJyaWdodFwiIG51bWVyaWMgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuYW1vdW50Q29sdW1uLCBjbGFzc2VzLmJsYWNrVGV4dCwgY2xhc3Nlcy5hbGlnbkdyaWRDZWxsQ2VudGVyKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCIkXCIgKyBmb3JtYXR0ZXIoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuYnJva2VuQ29sdW1uLCBjbGFzc2VzLmFsaWduR3JpZENlbGxDZW50ZXIpfSBhbGlnbj1cImNlbnRlclwiIG51bWVyaWM+e2ludm9pY2UucDJwQnJva2VuID8gPERvbmVJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPiA6IDxDbG9zZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+fTwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMudXBjb21pbmdDb2x1bW4sIGNsYXNzZXMuYWxpZ25HcmlkQ2VsbENlbnRlcil9IGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYz57aW52b2ljZS5wMnBVcGNvbWluZyA/IDxEb25lSWNvbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz4gOiA8Q2xvc2VJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPn08L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmRpc3B1dGVDb2x1bW4sIGNsYXNzZXMuYWxpZ25HcmlkQ2VsbENlbnRlcil9IGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYz57aW52b2ljZS5kaXNwdXRlU3RhdHVzICE9IG51bGwgPyA8RG9uZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+IDogPENsb3NlSWNvbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz59PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5wcmVkaWN0ZWRDb2x1bW4sIGNsYXNzZXMuYWxpZ25HcmlkQ2VsbENlbnRlcil9IGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYz57aW52b2ljZS5wMnBEZWxpbnF1ZW50ID8gPERvbmVJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPiA6IDxDbG9zZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+fTwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsQ29sdW1ufSB4cz17MX0gYWxpZ249XCJyaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAodGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaW52b2ljZS5pZF0pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5lbWFpbEljb24sIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbil9IG9uQ2xpY2s9eygpID0+IHRoaXMuc2VuZEVtYWlsKGludm9pY2UuaWQpfSBzcmM9eycvdG92by9zdGF0aWMvRW1haWwuc3ZnJ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMudmVydGljYWxUaW1lbGluZX0ganVzdGlmeT1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLnBvc3RDYWxsVGltZWxpbmV9ID48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPExpc3RPZlRpbGUgaW5JbnZvaWNlVGFibGUgaW52b2ljZXM9e3RoaXMuc3RhdGUuaW52b2ljZXN9IHNlbGVjdGVkSW52b2ljZXM9e3RoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc30gYWRkSW52b2ljZT17dGhpcy5hZGRJbnZvaWNlfSAvPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExpc3QgY2VsbEhlaWdodD17XCJhdXRvXCJ9IGNsYXNzTmFtZT17Y2xhc3Nlcy5ncmlkTGlzdH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGludm9pY2UgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGlzdFRpbGUgY29scz17MX0ga2V5PXtpbnZvaWNlLmlkfSBjbGFzc2VzPXt7IHRpbGU6IGNsYXNzZXMuZ3JpZExpc3RUaWxlIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxNnZ3JywgbWFyZ2luOiAnMC4ycmVtJyB9fT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17KHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA9PSB0cnVlKSA/IGNsYXNzZXMuc2VsZWN0ZWRHcmlkTGlzdERpdiA6IGNsYXNzZXMuZ3JpZExpc3REaXZ9ID5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IHBhZGRpbmc6ICcycHgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgbGVmdDogXCIzJVwiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2ludm9pY2UuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY2hlY2tlZD17dGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmRvY3VtZW50TnVtYmVyKSB8fCB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRvZ2dsZUNoZWNrYm94KGludm9pY2UuZG9jdW1lbnROdW1iZXIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaW52b2ljZS5pZF0gPT0gdHJ1ZX0gb25DbGljaz17KCkgPT4gdGhpcy5hZGRJbnZvaWNlKGludm9pY2UuaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLCBtYXJnaW5MZWZ0OiAnMXZ3JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNjUsIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfX0+e2ludm9pY2UuZG9jdW1lbnROdW1iZXJ9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6ICcxLjE1NnJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9fT4ke2Zvcm1hdHRlcihpbnZvaWNlLmN1cnJlbnRPcGVuQW1vdW50KX08L1R5cG9ncmFwaHk+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxDbG9zZSBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB3aWR0aDogXCJjYWxjKC44dmggKyAuOHZ3KVwiLCBoZWlnaHQ6IFwiY2FsYyguOHZoICsgLjh2dylcIiwgcmlnaHQ6IFwiMTAlXCIsIHRvcDogXCIyNyVcIiwgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gfX0gLz4gKi99XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0VGlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGlzdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRXhwYW5zaW9uUGFuZWxEZXRhaWxzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDxTbmFja2JhclxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdsZWZ0JyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc25hY2tCYXJPcGVufVxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezIwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ezxzcGFuIGlkPVwibWVzc2FnZS1pZFwiPnt0aGlzLnN0YXRlLnNuYWNrQmFyTWVzc2FnZX08L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbj17W1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiY2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwiaW5oZXJpdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2xvc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPixcclxuICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuSW52b2ljZVRhYmxlLnByb3BUeXBlcyA9IHtcclxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIGludm9pY2VzOiBQcm9wVHlwZXMuYXJyYXksXHJcbiAgICBmaWx0ZXJJbnZvaWNlczogUHJvcFR5cGVzLmZ1bmNcclxufTtcclxuXHJcbkludm9pY2VUYWJsZS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW52b2ljZVRhYmxlKTtcclxuXHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9JbnZvaWNlVGFibGUuanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSBcImNsYXNzbmFtZXNcIjtcclxuaW1wb3J0IHsgZm9ybWF0dGVyIH0gZnJvbSAnLi4vdXRpbHMvZm9ybWF0dGVyJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaGVja2JveCc7XHJcbmltcG9ydCBHcmlkTGlzdCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkTGlzdCc7XHJcbmltcG9ydCBHcmlkTGlzdFRpbGUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3RUaWxlJztcclxuXHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG5cclxuICAgIGdyaWRMaXN0OiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgbWFyZ2luOiAnMCAtMnB4IC0ycHggLTJweCAhaW1wb3J0YW50JyxcclxuICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxyXG4gICAgfSxcclxuICAgIGdyaWRMaXN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcclxuICAgICAgICBoZWlnaHQ6IFwiNy40MHZoXCIsXHJcbiAgICAgICAgYm9yZGVyOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluICsgXCIgc29saWQgMXB4XCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuICAgIH0sXHJcbiAgICBzZWxlY3RlZEdyaWRMaXN0RGl2OiB7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzOTU4NkZcIixcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdFRpbGU6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiYXV0byAhaW1wb3J0YW50XCJcclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgaW52b2ljZXNDaGVja2JveE1hcDogbmV3IE1hcCgpLFxyXG4gICAgY29ycmVjdEludm9pY2VzTWFwOiB7fSxcclxuICAgIHNlbGVjdGVkSW52b2ljZXM6IFtdLFxyXG4gICAgaW52b2ljZXM6IFtdLFxyXG4gICAgZG9uZTogdHJ1ZSxcclxuICAgIGluSW52b2ljZVRhYmxlOiBmYWxzZVxyXG59O1xyXG5cclxuY2xhc3MgTGlzdE9mVGlsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpbnZvaWNlczogdGhpcy5wcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlczogdGhpcy5wcm9wcy5zZWxlY3RlZEludm9pY2VzLFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IHRoaXMucHJvcHMuY29ycmVjdEludm9pY2VzTWFwLFxyXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiB0aGlzLnByb3BzLmludm9pY2VzQ2hlY2tib3hNYXBcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1cclxuICAgIGFkZEludm9pY2UgPSAoaWQpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLmFkZEludm9pY2UoaWQpXHJcbiAgICB9XHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpbnZvaWNlczogbmV4dFByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzOiBuZXh0UHJvcHMuc2VsZWN0ZWRJbnZvaWNlcyxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzTWFwLFxyXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBuZXh0UHJvcHMuaW52b2ljZXNDaGVja2JveE1hcFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBnZXRDbGFzc09mR3JpZExpc3RUaWxlID0gKGNvcnJlY3RJbnZvaWNlc01hcCwgaW52b2ljZXNDaGVja2JveE1hcCwgaWQsIHNlbGVjdGVkSW52b2ljZXMpID0+IHtcclxuICAgICAgICBpZiAoIShpbnZvaWNlLmlkIGluIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKSlcclxuICAgICAgICAgICAgcmV0dXJuIGNsYXNzZXMuaW5jb3JyZWN0RGl2XHJcbiAgICAgICAgaWYgKGludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgfHwgdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdKVxyXG4gICAgICAgICAgICByZXR1cm4gY2xhc3Nlcy5zZWxlY3RlZEdyaWRMaXN0RGl2XHJcbiAgICAgICAgcmV0dXJuIGNsYXNzZXMuZ3JpZExpc3REaXZcclxuICAgIH1cclxuICAgIC8vUmVuZGVyIGZ1bmN0aW9uIFxyXG4gICAgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICBjb25zdCB7IGNsYXNzZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxHcmlkTGlzdCBjZWxsSGVpZ2h0PXtcImF1dG9cIn0gY2xhc3NOYW1lPXtjbGFzc2VzLmdyaWRMaXN0fT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5tYXAoaW52b2ljZSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExpc3RUaWxlIGNvbHM9ezF9IGtleT17aW52b2ljZS5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxNnZ3JywgbWFyZ2luOiAnMC40cmVtJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc09mR3JpZExpc3RUaWxlKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwLCB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAsIGludm9pY2UuaWQsIHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcyl9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCF0aGlzLnByb3BzLmRvbmUpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggc3R5bGU9e3sgcGFkZGluZzogJzJweCcsIGxlZnQ6IFwiMyVcIiwgYWxpZ25JdGVtczogJ2NlbnRlcicsIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyEoaW52b2ljZS5pZCBpbiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRvZ2dsZUNoZWNrYm94KGludm9pY2UuaWQudG9TdHJpbmcoKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIiwgbWFyZ2luTGVmdDogJzF2dycgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6IFwiLjg5cmVtXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41LCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH19PntpbnZvaWNlLmRvY3VtZW50TnVtYmVyfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogJzEuMTU2cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH19PiR7aW52b2ljZS5pZCBpbiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCA/IGZvcm1hdHRlcihpbnZvaWNlLmN1cnJlbnRPcGVuQW1vdW50KSA6IFwiLS0tLVwifTwvVHlwb2dyYXBoeT48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHRoaXMucHJvcHMuaW5JbnZvaWNlVGFibGUgfHwgdGhpcy5wcm9wcy5kb25lICkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxGYWIgdmFyaWFudD1cImNvbnRhaW5lZFwiIHNpemU9J3NtYWxsJyAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlIHN0eWxlPXt7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHJpZ2h0OiBcIjEwJVwiLCB0b3A6IFwiMjclXCIsIHdpZHRoOiBcImNhbGMoLjh2aCArIC44dncpXCIsIGhlaWdodDogXCJjYWxjKC44dmggKyAuOHZ3KVwiIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5hZGRJY29ufSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuZGVsZXRlSW52b2ljZShpbnZvaWNlLmlkKSB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC9GYWI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExpc3RUaWxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L0dyaWRMaXN0PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkxpc3RPZlRpbGUuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKExpc3RPZlRpbGUpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9MaXN0T2ZUaWxlLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5uYW1lU2hhcGUgPSB1bmRlZmluZWQ7XG5leHBvcnRzLnRyYW5zaXRpb25UaW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25UaW1lb3V0KHRyYW5zaXRpb25UeXBlKSB7XG4gIHZhciB0aW1lb3V0UHJvcE5hbWUgPSAndHJhbnNpdGlvbicgKyB0cmFuc2l0aW9uVHlwZSArICdUaW1lb3V0JztcbiAgdmFyIGVuYWJsZWRQcm9wTmFtZSA9ICd0cmFuc2l0aW9uJyArIHRyYW5zaXRpb25UeXBlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAvLyBJZiB0aGUgdHJhbnNpdGlvbiBpcyBlbmFibGVkXG4gICAgaWYgKHByb3BzW2VuYWJsZWRQcm9wTmFtZV0pIHtcbiAgICAgIC8vIElmIG5vIHRpbWVvdXQgZHVyYXRpb24gaXMgcHJvdmlkZWRcbiAgICAgIGlmIChwcm9wc1t0aW1lb3V0UHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcih0aW1lb3V0UHJvcE5hbWUgKyAnIHdhc25cXCd0IHN1cHBsaWVkIHRvIENTU1RyYW5zaXRpb25Hcm91cDogJyArICd0aGlzIGNhbiBjYXVzZSB1bnJlbGlhYmxlIGFuaW1hdGlvbnMgYW5kIHdvblxcJ3QgYmUgc3VwcG9ydGVkIGluICcgKyAnYSBmdXR1cmUgdmVyc2lvbiBvZiBSZWFjdC4gU2VlICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1hbmltYXRpb24tdHJhbnNpdGlvbi1ncm91cC10aW1lb3V0IGZvciBtb3JlICcgKyAnaW5mb3JtYXRpb24uJyk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGR1cmF0aW9uIGlzbid0IGEgbnVtYmVyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wc1t0aW1lb3V0UHJvcE5hbWVdICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRpbWVvdXRQcm9wTmFtZSArICcgbXVzdCBiZSBhIG51bWJlciAoaW4gbWlsbGlzZWNvbmRzKScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG52YXIgbmFtZVNoYXBlID0gZXhwb3J0cy5uYW1lU2hhcGUgPSBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xuICBlbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufSksIF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xuICBlbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGVudGVyQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgbGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBsZWF2ZUFjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFwcGVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFwcGVhckFjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcbn0pXSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL1Byb3BUeXBlcy5qc1xuLy8gbW9kdWxlIGlkID0gNjA4NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcclxuICogQGF1dGhvciBCYWxyYWogU2luZ2ggPGJhbHJhanNpbmdoLnNAaGlnaHJhZGl1cy5jb20+XHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBDaGF0Qm94IGZyb20gJy4vQ2hhdEJveCc7XHJcbmltcG9ydCB7IHNwbGl0VHJhbnNjcmlwdCB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XHJcbmltcG9ydCB7IFRSQU5TQ1JJUFRfREVMSU1FVEVSUyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gIFxyXG59KTtcclxuXHJcbmNsYXNzIFRyYW5zY3JpcHRDaGF0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHRyYW5zY3JpcHRpb246IFtdXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcclxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxyXG4gIH07XHJcblxyXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICB0cmFuc2NyaXB0aW9uOiBcIlwiLFxyXG4gICAgY2FsbGVkVG9OYW1lSW5pdGlhbHM6IFwiQ05cIiwgLy9DTiA9IEN1c3RvbWVyIE5hbWVcclxuICAgIHVzZXJJbml0aWFsczogXCJNRVwiLFxyXG4gIH07XHJcblxyXG4gIGdlbmVyYXRlQ2hhdEJveGVzID0gKHRyYW5zY3JpcHRNZXNzYWdlLCBpbmRleCkgPT4ge1xyXG4gICAgLy9jb2xsZWN0b3IgdG8gdGhlIHJpZ2h0XHJcbiAgICBpZiAodHJhbnNjcmlwdE1lc3NhZ2UuaW5jbHVkZXMoVFJBTlNDUklQVF9ERUxJTUVURVJTLkNPTExFQ1RPUikpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8Q2hhdEJveFxyXG4gICAgICAgICAga2V5PXtpbmRleH1cclxuICAgICAgICAgIGlzQ29sbGVjdG9yPXt0cnVlfVxyXG4gICAgICAgICAgaW5pdGlhbHM9e3RoaXMucHJvcHMudXNlckluaXRpYWxzID8gdGhpcy5wcm9wcy51c2VySW5pdGlhbHMgOiBcIk1FXCJ9XHJcbiAgICAgICAgICBtZXNzYWdlPXt0cmFuc2NyaXB0TWVzc2FnZS5yZXBsYWNlKFRSQU5TQ1JJUFRfREVMSU1FVEVSUy5DT0xMRUNUT1IsIFwiXCIpfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKHRyYW5zY3JpcHRNZXNzYWdlLmluY2x1ZGVzKFRSQU5TQ1JJUFRfREVMSU1FVEVSUy5DVVNUT01FUikpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8Q2hhdEJveFxyXG4gICAgICAgICAga2V5PXtpbmRleH1cclxuICAgICAgICAgIGlzQ29sbGVjdG9yPXtmYWxzZX1cclxuICAgICAgICAgIGluaXRpYWxzPXt0aGlzLnByb3BzLmNhbGxlZFRvTmFtZUluaXRpYWxzfVxyXG4gICAgICAgICAgbWVzc2FnZT17dHJhbnNjcmlwdE1lc3NhZ2UucmVwbGFjZShUUkFOU0NSSVBUX0RFTElNRVRFUlMuQ1VTVE9NRVIsIFwiXCIpfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKHRyYW5zY3JpcHRNZXNzYWdlLmluY2x1ZGVzKFRSQU5TQ1JJUFRfREVMSU1FVEVSUy5ERVRFQ1RJTkdfU1BFQUtFUlMpKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPENoYXRCb3hcclxuICAgICAgICAgIGtleT17aW5kZXh9XHJcbiAgICAgICAgICBpc0RldGVjdGluZz17dHJ1ZX1cclxuICAgICAgICAgIGluaXRpYWxzPXtcIlwifVxyXG4gICAgICAgICAgbWVzc2FnZT17dHJhbnNjcmlwdE1lc3NhZ2UucmVwbGFjZShUUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTLCBcIlwiKX1cclxuICAgICAgICAvPlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzLCB0cmFuc2NyaXB0aW9uIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgbGV0IGV4dHJhY3RlZFRyYW5zY3JpcHQgPSBzcGxpdFRyYW5zY3JpcHQodHJhbnNjcmlwdGlvbik7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiwgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIgfX0+XHJcbiAgICAgICAge2V4dHJhY3RlZFRyYW5zY3JpcHQubWFwKHRoaXMuZ2VuZXJhdGVDaGF0Qm94ZXMpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFRyYW5zY3JpcHRDaGF0KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQuanMiLCJpbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL3V0aWxzL3N0b3JlJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHsgY2hhbmdlVHJhbnNjcmlwdGlvbiwgfSBmcm9tICcuLi9hY3Rpb25zL2FjdGlvbnMnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcclxuaW1wb3J0IEFjdGlvbnMgZnJvbSAnLi4vY29tcG9uZW50cy9BY3Rpb25zJztcclxuaW1wb3J0IHsgQm9yZGVyQ29sb3IsIEhpZ2hsaWdodE9mZiwgQ2hlY2tDaXJjbGVPdXRsaW5lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zLyc7XHJcbmltcG9ydCB7IFR5cG9ncmFwaHkgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGQnO1xyXG5pbXBvcnQgQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaXJjdWxhclByb2dyZXNzJztcclxuaW1wb3J0IExpc3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTGlzdCc7XHJcbmltcG9ydCBMaXN0SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9MaXN0SXRlbSc7XHJcbmltcG9ydCBMaXN0SXRlbVRleHQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTGlzdEl0ZW1UZXh0JztcclxuaW1wb3J0IERpYWxvZ1RpdGxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ1RpdGxlJztcclxuaW1wb3J0IERpYWxvZyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2cnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBGaW5hbCBmcm9tICcuL0ZpbmFsJztcclxuaW1wb3J0IERyYXdlciBmcm9tICcuLi9jb21wb25lbnRzL0RyYXdlcic7XHJcbmltcG9ydCBDdXN0b21Gb290ZXIgZnJvbSAnLi4vY29tcG9uZW50cy9DdXN0b21Gb290ZXInO1xyXG5pbXBvcnQgR3JvdyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Hcm93JztcclxuaW1wb3J0IEZhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9GYWInO1xyXG5pbXBvcnQgQ3VzdG9tRGlhbG9nIGZyb20gJy4uL2NvbXBvbmVudHMvQ3VzdG9tRGlhbG9nJztcclxuaW1wb3J0IFRyYW5zY3JpcHRDaGF0IGZyb20gJy4uL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQnO1xyXG5pbXBvcnQgU25hY2tiYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU25hY2tiYXInO1xyXG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uQnV0dG9uJztcclxuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xvc2UnO1xyXG5pbXBvcnQgeyBnZXRJbml0aWFsc0Zyb21OYW1lLCBmb3JtYXREYXRlV2l0aFRpbWV6b25lIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcclxuaW1wb3J0IHsgSU5URU5UX1RZUEVTIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuY29uc3QgcmV2aWV3V2FybmluZyA9IFwiWW91IGhhdmUgdW5zYXZlZCBhY3Rpb25zLiBQbGVhc2UgcmV2aWV3IGJlZm9yZSBwcm9jZWVkaW5nLlwiO1xyXG5jb25zdCB0cmFuc2NyaXB0aW9uID1cclxuICBcIkN1c3RvbWVyOiBIaS4gSGVsbG8uIEhleSwgQ29sbGVjdG9yOiBJIHdhbnRlZCB0byBtYWtlIHN1cmUgeW91IHJlY2VpdmVkIG15IG5vdGUuIFRoZSBwYXltZW50IHdhcyBkdWUgeWVzdGVyZGF5LiBDdXN0b21lcjogZ2V0IGl0IHVuZGVyIHRoZSBzZW5kZXIuIEknbSBDb2xsZWN0b3I6IEkgZGlkbid0IGEgdGVsbCB5b3UgZm9yZ290LiBJdCdzIGludm9pY2UgbnVtYmVyIDM0Ny00MDAtNDAwMC4gSSB3aWxsIGVtYWlsIHlvdSByaWdodCBub3cgZG9lcyBhIHBlcnNvbiBhdCBtLmNvbSBlbWFpbCBhZGRyZXNzIHdvcmtzIGJlc3QgZm9yIHlvdT8gQ3VzdG9tZXI6IFllYWgsIHRoYXQncyBmaW5lLiBDb2xsZWN0b3I6IEJpZyBCZW5kIE9saXZpYSBnb2luZyB0byBtZSB0byBtZSB0aGF0IGNoZWNrIGZvciB0aGlzIGludm9pY2UuIEN1c3RvbWVyOiBJIGFjdHVhbGx5IGRvbid0IGhhdmUgdGhlIGNhc2ggZm9yIGRlYmF0ZSByaWdodCBub3cuIENvbGxlY3RvcjogT2theSwgSSBzZWUgd2hlbiB3ZSB3aWxsIGJlIGdldHRpbmcgeW91ciBuZXh0IHBheW1lbnQuIEN1c3RvbWVyOiBOb3J0aGVybiBUb29sIGluIHRoZSAyMXN0IGF0IHlvdSBzZW5kIG1lIGEgY2hlY2sgb3IgVGh1cnNkYXkgdGhlIDIybmQ/IEkgd29uJ3QgQ29sbGVjdG9yOiA3IHNlZSBjYW4gYmUgYWJsZSB0byBwYXkgdGhlIHdob2xlIHRoaW5nIGRvbmUuIENvbGxlY3RvcjogQnV0IGlmIHlvdSBzZW5kIG1lIGhhdmUgdG8gcmVnaXN0ZXIgYW5kIHRoZW4gdXAgYXQgdGhlIGVuZCBvZiB0aGUgbW9udGguIEN1c3RvbWVyOiBUaGF0IGFjdHVhbGx5IG1pZ2h0IHdvcmsuIENvbGxlY3RvcjogT2theSwgc291bmRzIGdvb2QuIEknbGwgTWFsY29sbSBYIGFtYXppbmcgbWUgJDIsMDAwIG9uIFRodXJzZGF5IHRoZSAyMm5kIGFuZCBJIHdpbGwgZm9sbG93IHVwIHdpdGggeW91IHRlc3RpbmdcIjtcclxuLy9UT0RPXHJcbi8vUmVzdCBvZiBpbnRlbnQgdHlwZXNcclxuXHJcbmNvbnN0IEVOVElUWV9URU1QTEFURSA9IHtcclxuICBpbnZvaWNlOiBbXSxcclxufTtcclxuXHJcbmNvbnN0IFNVTU1BUllfVEVNUExBVEUgPSB7XHJcbiAgY29uZmlkZW5jZTogMCxcclxuICBpbnRlbnQ6IFwiXCIsXHJcbiAgc3VtbWFyeTogXCJcIlxyXG59O1xyXG5cclxuY29uc3QgU05BQ0tfTUVTU0FHRVMgPSBPYmplY3QuZnJlZXplKHtcclxuICBTVUNDRVNTOiBcIlNhdmVkIHN1Y2Nlc3NmdWxseVwiLFxyXG4gIEVSUk9SOiBcIkZhaWxlZCB0byBzYXZlLiBQbGVhc2UgcmV0cnlcIlxyXG59KTtcclxuXHJcbmNvbnN0IERBVEVfUkVHRVggPSAvKFswLTldezR9Wy1dWzAtOV17Mn1bLV1bMC05XXsyfSkvO1xyXG5jb25zdCBQMlBfU1VNTUFSWV9URU1QTEFURSA9IFwiQ3JlYXRlIFByb21pc2UgdG8gcGF5IGZvciA8YW1vdW50LW9mLW1vbmV5PiB0byBiZSBwYWlkIGJ5IDxEYXRlLVRpbWU+IGZvciA8WCBpbnZvaWNlcz5cIjtcclxuY29uc3QgRElTUFVURV9TVU1NQVJZX1RFTVBMQVRFID0gXCJDcmVhdGUgRGlzcHV0ZSBmb3IgPFggaW52b2ljZXM+IGJlY2F1c2Ugb2YgPERJU1BVVEUtUkVBU09OPlwiO1xyXG5jb25zdCBGT0xMT1dVUF9TVU1NQVJZX1RFTVBMQVRFID0gXCJDcmVhdGUgRm9sbGxvdyB1cCBldmVudCBmb3IgPERhdGUtVGltZT5cIjtcclxuXHJcbmNvbnN0IGFjdGlvblR5cGVzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgUDJQOiBcIlAyUFwiLFxyXG4gIERJU1BVVEU6IFwiRGlzcHV0ZVwiLFxyXG4gIEZPTExPV19VUDogXCJGb2xsb3d1cFwiLFxyXG59KVxyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICBhcHBGcmFtZToge1xyXG4gICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAgbWF4SGVpZ2h0OiBcIjEwMHZoXCJcclxuICB9LFxyXG4gIHJvb3Q6IHtcclxuICAgIG1hcmdpbjogXCIxLjEydmggMS4wNDF2dyAwZW0gMS4wNDF2d1wiLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQubWFpbixcclxuICAgIC8vIHBhZGRpbmdUb3A6IFwiNSVcIixcclxuICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICBwYWRkaW5nQm90dG9tOiBcIjBcIixcclxuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG5cclxuICB9LFxyXG5cclxuICBkdXJhdGlvbjoge1xyXG4gICAgbWFyZ2luUmlnaHQ6IFwiMmVtXCJcclxuICB9LFxyXG5cclxuICB0cmFuc2NyaXB0Qm94OiB7XHJcbiAgICBoZWlnaHQ6IFwiNTguOTh2aFwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICBtYXJnaW5Cb3R0b206IFwiMS44NXZoXCJcclxuICB9LFxyXG4gIHN1bW1hcnlCb3g6IHtcclxuICAgIGhlaWdodDogXCIyNS41MHZoXCIsXHJcbiAgICBwYWRkaW5nOiBcIjAuOHJlbVwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbixcclxuICB9LFxyXG4gIHRyYW5zY3JpcHRUaXRsZToge1xyXG4gICAgZm9udFNpemU6IFwiMS4xcmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAvLyBwYWRkaW5nOiBcIjJlbSAwIDJlbSAwXCJcclxuICAgIHBhZGRpbmdMZWZ0OiBcIi44cmVtXCIsXHJcbiAgICBwYWRkaW5nVG9wOiBcIi44cmVtXCIsXHJcbiAgICBvcGFjaXR5OiAwLjY1LFxyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIC8vIGZvbnRGYW1pbHk6IFwiUm9ib3RvXCJcclxuICB9LFxyXG5cclxuICB0cmFuc2NyaXB0VGV4dDoge1xyXG4gICAgLy8gcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gIH0sXHJcbiAgaGlnaGxpZ2h0VHJhbnNjcmlwdFRleHQ6IHtcclxuICAgIGJhY2tncm91bmRDb2xvcjogXCJ5ZWxsb3dcIixcclxuICB9LFxyXG4gIHRyYW5zY3JpcHRUZXh0UGFyZW50OlxyXG4gIHtcclxuICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcclxuICAgIG1hcmdpblRvcDogXCIyLjVyZW1cIixcclxuICAgIGhlaWdodDogXCI4NSVcIixcclxuICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICBwYWRkaW5nOiBcIjAuNXJlbSAwLjVyZW0gMC41cmVtIDBweFwiLFxyXG4gICAgZm9udEZhbWlseTogXCJSb2JvdG9cIixcclxuICAgIG1hcmdpbkxlZnQ6IFwiMXJlbVwiLFxyXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgd29yZFdyYXA6IFwiYnJlYWstd29yZFwiXHJcblxyXG4gIH0sXHJcblxyXG4gIG5vbkFjdGlvbk5vdGVzVGl0bGU6IHtcclxuICAgIGZvbnRTaXplOiBcIjFyZW1cIixcclxuICAgIGxpbmVIZWlnaHQ6IFwiMS41cmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAvLyBwYWRkaW5nOiBcIjJlbSAwIDJlbSAwXCJcclxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBvcGFjaXR5OiAwLjY1XHJcbiAgICAvLyBmb250RmFtaWx5OiBcIlJvYm90b1wiXHJcbiAgfSxcclxuICBjdXN0b21lck5hbWU6IHtcclxuICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcclxuICAgIGZvbnRTaXplOiBcIjEuNzhyZW1cIixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgbGluZUhlaWdodDogXCIyLjFyZW1cIlxyXG4gICAgLy8gcGFkZGluZ0xlZnQ6IFwiLjNlbVwiXHJcbiAgfSxcclxuICBjdXN0b21lck51bWJlcjoge1xyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgZm9udFNpemU6IFwiLjhyZW1cIixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgLy8gcGFkZGluZ0xlZnQ6IFwiLjdlbVwiXHJcbiAgfSxcclxuICBub25BY3Rpb25Ob3Rlc05vdEVkaXRpbmc6IHtcclxuICAgIG1hcmdpblRvcDogXCIxLjNyZW1cIixcclxuICAgIHRyYW5zaXRpb246IFwiMC4zc1wiLFxyXG4gICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcclxuICAgIHdpZHRoOiBcIi13ZWJraXQtZmlsbC1hdmFpbGFibGVcIixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIG1heEhlaWdodDogXCIxNXZoXCJcclxuXHJcbiAgfSxcclxuICBub25BY3Rpb25Ob3Rlc0VkaXRpbmc6IHtcclxuICAgIHdpZHRoOiBcIi13ZWJraXQtZmlsbC1hdmFpbGFibGVcIixcclxuICAgIGJveFNoYWRvdzogXCIgMCA0cHggOHB4IDAgcmdiYSgwLDAsMCwwLjIpXCIsXHJcbiAgICB0cmFuc2l0aW9uOiBcIjAuM3NcIixcclxuICAgIHBhZGRpbmc6IFwiMC44cmVtXCIsXHJcbiAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxyXG4gICAgY29sb3I6IFwiI2ZmZiAhaW1wb3J0YW50XCIsXHJcbiAgICBtYXJnaW5Ub3A6IFwiMS4zcmVtXCIsXHJcbiAgICAvLyBvdmVyZmxvd1k6IFwiYXV0b1wiLFxyXG4gICAgbWF4SGVpZ2h0OiBcIjE1dmhcIixcclxuICAgIGJvcmRlcjogXCIycHggc29saWQgI0ZGRlwiLFxyXG4gIH0sXHJcbiAgcHJvZ3Jlc3NCYXJEaXY6IHtcclxuICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICBsZWZ0OiBcIjBcIixcclxuICAgIHJpZ2h0OiBcIjBcIixcclxuICAgIGJvdHRvbTogXCIwXCIsXHJcbiAgICB0b3A6IFwiMFwiLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMCwwLDAsMC43KVwiLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiBcInJnYigwLCAwLCAwKVwiLFxyXG4gICAgekluZGV4OiBcIjk5OTlcIixcclxuICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXHJcbiAgfSxcclxuICBwcm9ncmVzczoge1xyXG4gICAgbGVmdDogXCI0NSVcIixcclxuICAgIHRvcDogXCI1MCVcIixcclxuICAgIGNvbG9yOiBcIiAgXCIsXHJcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXHJcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgcG9zaXRpb246IFwiZml4ZWRcIixcclxuICB9LFxyXG4gIHByb2dyZXNzTWVzc2FnZToge1xyXG4gICAgY29sb3I6IFwiI2ZmZlwiLFxyXG4gICAgbWFyZ2luVG9wOiBcIjEuM3JlbVwiLFxyXG4gIH0sXHJcbiAgY3JlYXRlQWN0aW9uVGV4dDoge1xyXG4gICAgd2lkdGg6IFwiMTAwJVwiXHJcbiAgfSxcclxuICB0ZXN0OiB7XHJcbiAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgaGVpZ2h0OiBcIjEwdmhcIixcclxuICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICBwYWRkaW5nOiAnMHB4JyxcclxuICAgIGRpc3BsYXk6IFwiYmxvY2sgIWltcG9ydGFudFwiLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgd2hpdGVTcGFjZTogXCJwcmUtbGluZVwiLFxyXG4gIH0sXHJcbiAgYnV0dG9uOiB7XHJcbiAgICBmb250U2l6ZTogXCIwLjVyZW1cIixcclxuICAgIHdpZHRoOiBcIjcuMjkyMnZ3XCIsXHJcbiAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxyXG4gICAgLy8gbWFyZ2luUmlnaHQ6IFwiMS4zcmVtXCIsXHJcbiAgICAvLyBwYWRkaW5nTGVmdDogXCIxLjNyZW1cIixcclxuICAgIC8vIHBhZGRpbmdSaWdodDogXCIxLjNyZW1cIixcclxuICAgIG1pbkhlaWdodDogXCI0LjQ0NDR2aFwiLFxyXG4gICAgcGFkZGluZzogMCxcclxuICAgIC8vIG1heEhlaWdodCA6IFwiNC40NDQ0dmhcIixcclxuICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM4NkJGRTdcIixcclxuICAgIH1cclxuICB9LFxyXG4gIGJ1dHRvblRpdGxlOiB7XHJcbiAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAvLyBmb250U2l6ZTogXCIxLjFyZW1cIlxyXG4gIH0sXHJcbiAgaGVhZGluZzoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgZm9udFNpemU6IFwiMS4wNjdyZW1cIixcclxuICAgIG9wYWNpdHk6IDAuNSxcclxuICAgIHBhZGRpbmdCb3R0b206IFwiMS45NHZoXCJcclxuICB9LFxyXG4gIHN1bW1hcnlCb3hBY3Rpb25JY29uOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgIGZsb2F0OiBcInJpZ2h0XCIsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiXHJcbiAgfSxcclxuICBub25BY3Rpb25Ob3Rlc0NvbnRlbnQ6IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIGZvbnRTaXplOiAnMWVtJyxcclxuICAgIG1hcmdpbkJvdHRvbTogXCIwLjhyZW1cIlxyXG4gIH0sXHJcbiAgbmV4dEN1c3RvbWVyVXJsOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgIGZvbnRTaXplOiAnMC44ODhyZW0nLFxyXG4gICAgLy8gbWFyZ2luVG9wOiBcIjAuODN2aFwiLFxyXG4gICAgLy8gbGluZUhlaWdodDogXCJub3JtYWxcIixcclxuICAgIGhlaWdodDogXCI0LjQ0NDR2aFwiLFxyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXHJcblxyXG4gIH0sXHJcbiAgZGlhbG9nOiB7XHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuXHJcbiAgfSxcclxuICBsZWdhbE1lc3NhZ2U6IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIG9wYWNpdHk6IDAuNjUsXHJcbiAgICBwYWRkaW5nVG9wOiBcIjBweCAhaW1wb3J0YW50XCIsXHJcbiAgICBwYWRkaW5nQm90dG9tOiBcIjBweCAhaW1wb3J0YW50XCIsXHJcbiAgfSxcclxuICBjcmVhdGVOZXdBY3Rpb25EaWFsb2dIZWFkZXI6IHtcclxuICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArIFwiICFpbXBvcnRhbnRcIixcclxuICAgIGZvbnRTaXplOiBcIjEuMjQ0NDRyZW1cIlxyXG4gIH0sXHJcbiAgY3JlYXRlTmV3QWN0aW9uRGlhbG9nT3B0aW9uczoge1xyXG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgIWltcG9ydGFudFwiLFxyXG4gICAgZm9udFNpemU6IFwiMC45Nzc3cmVtXCIsXHJcbiAgICBwb2ludGVyOiBcImN1cnNvclwiXHJcbiAgfSxcclxuICBkaWFsb2c6IHtcclxuICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG5cclxuICB9LFxyXG4gIGdvVG9OZXh0Q3VzdG9tZXJCdXR0b246IHtcclxuICAgIHdpZHRoOiBcIjExLjUxdndcIixcclxuICAgIGhlaWdodDogXCIyLjIydmhcIlxyXG4gIH0sXHJcbiAgZGlhbG9nUGFwZXI6IHtcclxuICAgIGJvcmRlcjogXCIxcHggc29saWQgd2hpdGVcIixcclxuICAgIC8vIGhlaWdodCA6IFwiMzIuNXZoXCIsXHJcbiAgICB3aWR0aDogXCIxOS41M3Z3XCJcclxuICB9LFxyXG4gIGFjdGlvbkJ1dHRvbjoge1xyXG4gICAgYm94U2hhZG93OiBcIm5vbmVcIixcclxuICAgIGZvbnRTaXplOiBcIjEuMTExcmVtXCIsXHJcbiAgICAnJjpob3ZlciwgJiRmb2N1c1Zpc2libGUnOiB7XHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjODZCRkU3XCIsXHJcbiAgICB9LFxyXG4gICAgaGVpZ2h0OiBcIjYuNDh2aFwiXHJcbiAgfSxcclxuICBwb3N0Q2FsbENhcmRHcmlkOiB7XHJcbiAgICBtYXJnaW5Ub3A6IFwiMi4wMzd2aFwiXHJcbiAgfSxcclxuICBwYWRkaW5nUmlnaHRPbkNhcmQ6IHtcclxuICAgIHBhZGRpbmdSaWdodDogXCIxLjA0MXZ3XCJcclxuICB9LFxyXG5cclxufSk7XHJcblxyXG5jbGFzcyBQb3N0Q2FsbCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc25hY2tNZXNzYWdlUXVldWUgPSBbXTtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLnByb3BzLm9uSGFuZ3VwKCk7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLm5leHRDdXN0b21lclVybCwgXCJuZXh0IGN1c3RvbWVyIHVybFwiKVxyXG4gICAgbGV0IHsgc3VtbWFyeSB9ID0gdGhpcy5wcm9wcztcclxuICAgIC8vIGNvbnNvbGUubG9nKHN1bW1hcnkpO1xyXG4gICAgdGhpcy5uZXh0Q3VzdG9tZVRleHQgPSBcIkdPIFRPIE5FWFQgQ1VTVE9NRVJcIlxyXG4gICAgdGhpcy5uZXh0Q3VzdG9tZXJVcmwgPSB0aGlzLnByb3BzLm5leHRDdXN0b21lclVybFxyXG4gICAgaWYgKCF0aGlzLm5leHRDdXN0b21lclVybCkge1xyXG4gICAgICB0aGlzLm5leHRDdXN0b21lclVybCA9IFwiL1wiXHJcbiAgICAgIHRoaXMubmV4dEN1c3RvbWVUZXh0ID0gXCJHTyBCQUNLIFRPIEhPTUUgUEFHRVwiXHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVycywgXCJ0byBjYWxsIGN1c3RvbWVyc1wiKVxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgZGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgYW5jaG9yRWw6IG51bGwsXHJcbiAgICAgIGV4cGFuZWQ6IGZhbHNlLFxyXG4gICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXHJcbiAgICAgIGVudGVyRmlyZWQ6IGZhbHNlLFxyXG4gICAgICBzdW1tYXJ5OiBcIlwiLFxyXG4gICAgICB0cmFuc2NyaXB0aW9uOiB0aGlzLnByb3BzLmluaXRpYWxUcmFuc2NyaXB0aW9uLFxyXG4gICAgICBvcGVuUHJvZ3Jlc3NCYXI6IGZhbHNlLFxyXG4gICAgICBkb09wZW5OZXdBY3Rpb25EaWFsb2c6IGZhbHNlLFxyXG4gICAgICBpc0FueUFjdGlvbkNvbXBsZXRlZDogZmFsc2UsXHJcbiAgICAgIGlzUmV2aWV3RGlhbG9nT3BlbjogZmFsc2UsXHJcbiAgICAgIG5vdGVzOiBbXSxcclxuICAgICAgaXNQb3N0Q2FsbERvbmU6IGZhbHNlLFxyXG4gICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcDogbmV3IE1hcCgpLFxyXG4gICAgICBjb250YWN0TG9nOiB0aGlzLnByb3BzLmNhbGxMb2dTdGF0ZSxcclxuICAgICAgdXNlckRldGFpbHM6IHRoaXMucHJvcHMudXNlcixcclxuICAgICAgcHJldk5vbkFjdGlvbk5vdGVzOiBcIlwiLFxyXG4gICAgICBub25BY3Rpb25Ob3RlczogXCJcIixcclxuICAgICAgc25hY2tNZXNzYWdlOiB7fSxcclxuICAgICAgc25hY2tPcGVuOiBmYWxzZSxcclxuICAgICAgZm9sbG93dXBUZXh0TGlzdDogW10sXHJcbiAgICAgIHJlYXNvbkNvZGVMaXN0OiBbXSxcclxuICAgICAgbm9uQWN0aW9uSW5jbHVkZWQ6IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgYXhpb3MuZ2V0KGAke2NvbmZpZy5hcGlVcmx9L2Rpc3B1dGVjb2Rlc2ApXHJcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVhc29uQ29kZUxpc3Q6IHJlc3BvbnNlLmRhdGEgPyByZXNwb25zZS5kYXRhIDogW10sIH0pXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gbG9hZCBkaXNwdXRlIGNvZGVzXCIsIGVycm9yKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgYXhpb3MuZ2V0KGAke2NvbmZpZy5hcGlVcmx9L3Rhc2t0eXBlc2ApXHJcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9sbG93dXBUZXh0TGlzdDogcmVzcG9uc2UuZGF0YSA/IHJlc3BvbnNlLmRhdGEgOiBbXSwgfSlcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBsb2FkIEZvbGxvdyB1cCB0ZXh0IGxpc3RcIiwgZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgaGFuZGxlQ2xpY2sgPSBldmVudCA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYW5jaG9yRWw6IGV2ZW50LmN1cnJlbnRUYXJnZXQsXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBkZWxldGVBY3Rpb24gPSBpZCA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIklEXCIsIGlkLCBzdW1tYXJ5KTtcclxuICAgIGxldCBzdW1tYXJ5ID0gdGhpcy5zdGF0ZS5zdW1tYXJ5LmZpbHRlcihlbCA9PiBlbC5pZCAhPSBpZCk7XHJcblxyXG4gICAgbGV0IG1hcCA9IHRoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XHJcblxyXG4gICAgbWFwLmRlbGV0ZShpZCk7XHJcblxyXG4gICAgY29uc29sZS5sb2cobWFwKTtcclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogc3VtbWFyeSwgc3VtbWFyeUNvbXBsZXRpb25NYXA6IG1hcCwgfSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcCA9IChzdW1tYXJ5KSA9PiB7XHJcbiAgICBsZXQgbWFwID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIHN1bW1hcnkgJiYgc3VtbWFyeS5tYXAoc3VtbWFyeSA9PiAoXHJcbiAgICAgICgoc3VtbWFyeS5pbnRlbnQgPT0gSU5URU5UX1RZUEVTLkZPTExPV19VUCkgfHwgKHN1bW1hcnkuaW50ZW50ID09IElOVEVOVF9UWVBFUy5QMlApIHx8IChzdW1tYXJ5LmludGVudCA9PSBJTlRFTlRfVFlQRVMuRElTUFVURSkpICYmXHJcbiAgICAgIG1hcC5zZXQoc3VtbWFyeS5pZCwgZmFsc2UpXHJcbiAgICApKTtcclxuXHJcbiAgICByZXR1cm4gbWFwO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3VtbWFyeUZyb21DaGlsZCA9IChuZXdTdW1tYXJ5LCBpZCkgPT4ge1xyXG4gICAgbGV0IHByZXZTdW1tYXJ5ID0gdGhpcy5zdGF0ZS5zdW1tYXJ5O1xyXG5cclxuICAgIGZvciAobGV0IGkgaW4gcHJldlN1bW1hcnkpIHtcclxuICAgICAgaWYgKHByZXZTdW1tYXJ5W2ldLmlkID09IGlkKSB7XHJcbiAgICAgICAgcHJldlN1bW1hcnlbaV0uc3VtbWFyeSA9IG5ld1N1bW1hcnk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogcHJldlN1bW1hcnkgfSk7XHJcbiAgfVxyXG5cclxuICBnZW5TdW1tYXJ5QWN0aW9uQ2FyZHMgPSAoc3VtbWFyeSkgPT4ge1xyXG5cclxuICAgIGxldCBpbnRlbnQgPSBzdW1tYXJ5LmludGVudDtcclxuICAgIGNvbnNvbGUubG9nKHN1bW1hcnkpO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEdyb3dcclxuICAgICAgICBpbj17dHJ1ZX1cclxuICAgICAgICBrZXk9e3N1bW1hcnkuaWR9XHJcbiAgICAgID5cclxuICAgICAgICA8QWN0aW9uc1xyXG4gICAgICAgICAgb25EZWxldGU9eyhpZCkgPT4gdGhpcy5kZWxldGVBY3Rpb24oaWQpfVxyXG4gICAgICAgICAgb25BY3Rpb25JdGVtQ29uZmlybT17dGhpcy51cGRhdGVBY3Rpb25JdGVtQ2hlY2t9XHJcbiAgICAgICAgICBzdW1tYXJ5PXtzdW1tYXJ5fVxyXG4gICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBtYXJnaW5Cb3R0b206IFwiMC43cmVtXCIgfX1cclxuICAgICAgICAgIGludGVudFR5cGU9e2ludGVudH1cclxuICAgICAgICAgIGFsbEludm9pY2VMaXN0PXt0aGlzLnByb3BzLmludm9pY2VzfVxyXG4gICAgICAgICAgY3VzdG9tZXI9e3RoaXMucHJvcHMuY3VzdG9tZXJ9XHJcbiAgICAgICAgICBjYWxsZWRUb05hbWU9e3RoaXMucHJvcHMuY2FsbGVkVG9OYW1lfVxyXG4gICAgICAgICAgY2FsbGVkVG9OdW1iZXI9e3RoaXMucHJvcHMuY2FsbGVkVG9OdW1iZXJ9XHJcbiAgICAgICAgICBjb21wbGV0ZWQ9eygpID0+IHRoaXMubWFya1N1bW1hcnlBc0RvbmUoc3VtbWFyeS5pZCl9XHJcbiAgICAgICAgICBidWNrZXROYW1lcz17dGhpcy5wcm9wcy5idWNrZXROYW1lc31cclxuICAgICAgICAgIGNvbnRhY3RMb2c9e3RoaXMucHJvcHMuY2FsbExvZ1N0YXRlfVxyXG4gICAgICAgICAgY2FsbFN0YXRlPXt0aGlzLnByb3BzLmNhbGxTdGF0ZX1cclxuICAgICAgICAgIGZvbGxvd3VwVGV4dExpc3Q9e3RoaXMuc3RhdGUuZm9sbG93dXBUZXh0TGlzdH1cclxuICAgICAgICAgIHJlYXNvbkNvZGVMaXN0PXt0aGlzLnN0YXRlLnJlYXNvbkNvZGVMaXN0fVxyXG4gICAgICAgICAgb3BlblNuYWNrYmFyT25BY3Rpb249eyhtZXNzYWdlVHlwZSkgPT4gdGhpcy5vcGVuU25hY2tiYXIobWVzc2FnZVR5cGUpfVxyXG4gICAgICAgICAgdXBkYXRlSW52b2ljZXNJblBhcmVudD17KHVwZGF0ZWRJbnZvaWNlcykgPT4gdGhpcy51cGRhdGVJbnZvaWNlcyh1cGRhdGVkSW52b2ljZXMsIHN1bW1hcnkuaWQpfVxyXG4gICAgICAgICAgdXBkYXRlU3VtbWFyeUluUGFyZW50PXsodXBkYXRlZFN1bW1hcnkpID0+IHsgdGhpcy51cGRhdGVTdW1tYXJ5RnJvbUNoaWxkKHVwZGF0ZWRTdW1tYXJ5LCBzdW1tYXJ5LmlkKSB9fSAvPlxyXG4gICAgICA8L0dyb3c+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgbWFya1N1bW1hcnlBc0RvbmUgPSBpZCA9PiB7XHJcbiAgICBsZXQgZG9uZU1hcCA9IHRoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XHJcbiAgICBsZXQgcHJldlN1bW1hcnkgPSB0aGlzLnN0YXRlLnN1bW1hcnk7XHJcblxyXG4gICAgZm9yIChsZXQgaSBpbiBwcmV2U3VtbWFyeSkge1xyXG4gICAgICBpZiAocHJldlN1bW1hcnlbaV0uaWQgPT0gaWQpIHtcclxuICAgICAgICBwcmV2U3VtbWFyeVtpXS5zYXZlID0gdHJ1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBwcmV2U3VtbWFyeSB9KTtcclxuICAgIGRvbmVNYXAuc2V0KGlkLCB0cnVlKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5Q29tcGxldGlvbk1hcDogZG9uZU1hcCB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsb3NlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFuY2hvckVsOiBudWxsLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuICBvbkNoYW5nZSA9IGRhdGUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRhdGUgfSlcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhbmNob3JFbDogbnVsbCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQWN0aW9uSXRlbUNoZWNrID0gZ2VuZXJhdGVkU3VtbWFyeSA9PiB7XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG5vdGVzOiBbLi4udGhpcy5zdGF0ZS5ub3RlcywgZ2VuZXJhdGVkU3VtbWFyeV0sIGlzQW55QWN0aW9uQ29tcGxldGVkOiB0cnVlIH0pO1xyXG4gIH1cclxuXHJcbiAgLy9jaGVja3MgaWYgdGhlIG1hcCBjb250YWlucyBhbnkgZmFsc2UgdmFsdWVcclxuICAvL3JldHVybiB0cnVlIGlmIGl0IGRvZXNcclxuICBjaGVja1N1bW1hcnlDb21wbGV0ZU1hcCA9ICgpID0+IHtcclxuXHJcbiAgICBsZXQgbWFwID0gdGhpcy5zdGF0ZS5zdW1tYXJ5Q29tcGxldGlvbk1hcDtcclxuICAgIGNvbnNvbGUubG9nKG1hcCk7XHJcblxyXG4gICAgZm9yIChsZXQgdmFsIG9mIG1hcC52YWx1ZXMoKSkge1xyXG4gICAgICBpZiAodmFsID09IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG5cclxuICAgIGxldCBzdW1tYXJ5ID0gbmV4dFByb3BzLnRyYW5zY3JpcHRpb24uc3VtbWFyeTtcclxuICAgIGxldCB0cmFuc2NyaXB0aW9uID0gbmV4dFByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbjtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlN1bW1hcnkgcmUgXCIsIEpTT04uc3RyaW5naWZ5KHN1bW1hcnkpKTtcclxuXHJcbiAgICBpZiAoKHRyYW5zY3JpcHRpb24pICYmICh0cmFuc2NyaXB0aW9uICE9PSB0aGlzLnByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbikpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJVcGRhdGluZyB0cmFuc2NyaXB0aW9uXCIsIHRyYW5zY3JpcHRpb24pXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB0cmFuc2NyaXB0aW9uIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChKU09OLnN0cmluZ2lmeShzdW1tYXJ5KSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZS5zdW1tYXJ5KSkge1xyXG4gICAgICB0aGlzLmluaXRpYWxpemVTdW1tYXJ5V2l0aERlZmF1bHRzKHN1bW1hcnkpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIGdlbmVyYXRlTm90ZXNBc1N0cmluZyA9ICgpID0+IHtcclxuICAgIGxldCBub3RlcyA9IHRoaXMuc3RhdGUubm90ZXM7XHJcbiAgICBsZXQgbm90ZXNTdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm90ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbm90ZXNTdHJpbmcgKz0gaSA9PT0gbm90ZXMubGVuZ3RoIC0gMSA/IG5vdGVzW2ldLnRyaW0oKSA6IGAke25vdGVzW2ldLnRyaW0oKX0vbmA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5vdGVzU3RyaW5nO1xyXG4gIH1cclxuXHJcbiAgc2F2ZUNhbGxMb2cgPSAoKSA9PiB7XHJcblxyXG4gICAgbGV0IGNvbWJpbmVkTm90ZXMgPSB0aGlzLmdlbmVyYXRlTm90ZXNBc1N0cmluZygpO1xyXG4gICAgbGV0IGNhbGxMb2dTdGF0ZSA9IHRoaXMucHJvcHMuY2FsbExvZ1N0YXRlO1xyXG4gICAgbGV0IGN1c3RvbWVyID0gdGhpcy5wcm9wcy5jdXN0b21lcjtcclxuICAgIGxldCByZXFPYmogPSB7XHJcbiAgICAgIGlkOiBjYWxsTG9nU3RhdGUuaWQsXHJcbiAgICAgIGNhbGxTdW1tYXJ5OiB0aGlzLnByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbixcclxuICAgICAgZHVyYXRpb246IHRoaXMucHJvcHMuY2FsbER1cmF0aW9uLFxyXG4gICAgICBub3RlOiB7XHJcbiAgICAgICAgY3VzdG9tZXJJZDogY3VzdG9tZXIuaWQsXHJcbiAgICAgICAgbm90ZUNvbnRlbnQ6IGNvbWJpbmVkTm90ZXMsXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGF4aW9zLnB1dChgJHtjb25maWcuYXBpVXJsfS9jYWxsYCwgcmVxT2JqKVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgLy8gcmVxT2JqLmlkID0gcmVzcG9uc2UuZGF0YS5pZFxyXG4gICAgICAgIC8vIHN0b3JlLmRpc3BhdGNoKGFkZEluaXRpYWxDYWxsTG9nKHJlcU9iaikpXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5Qcm9ncmVzc0JhcjogZmFsc2UsIGlzUG9zdENhbGxEb25lOiB0cnVlIH0pO1xyXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGNoYW5nZVRyYW5zY3JpcHRpb24oeyB0cmFuc2NyaXB0aW9uOiBcIlwiIH0pKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5Qcm9ncmVzc0JhcjogZmFsc2UsIGlzUG9zdENhbGxEb25lOiB0cnVlIH0pO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHNhdmVQb3N0Q2FsbFRoaW5ncyA9ICgpID0+IHtcclxuXHJcbiAgICBpZiAodGhpcy5jaGVja1N1bW1hcnlDb21wbGV0ZU1hcCgpKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1Jldmlld0RpYWxvZ09wZW46IHRydWUgfSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3RlcyAmJiB0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzLnRyaW0oKSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgbm90ZXM6IFsuLi50aGlzLnN0YXRlLm5vdGVzLCB0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzLnRyaW0oKV0sIG5vbkFjdGlvbkluY2x1ZGVkOiB0cnVlIH0sXHJcbiAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zYXZlQ2FsbExvZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnNhdmVDYWxsTG9nKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzYXZlTm90ZXNDaGFuZ2VzID0gKCkgPT4ge1xyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0VkaXRpbmdPbjogZmFsc2UsIHByZXZOb25BY3Rpb25Ob3RlczogdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3RlcyB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuYmx1ck5vbkFjdGlvbk5vdGVzQm94KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRpc2NhcmROb3Rlc0NoYW5nZXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNFZGl0aW5nT246IGZhbHNlLCBub25BY3Rpb25Ob3RlczogdGhpcy5zdGF0ZS5wcmV2Tm9uQWN0aW9uTm90ZXMgfSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmJsdXJOb25BY3Rpb25Ob3Rlc0JveCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VQb3AgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3BlbjogdHJ1ZSB9KVxyXG4gIH1cclxuXHJcbiAgb25DaGFuZ2UgPSBkYXRlID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBkYXRlIH0pXHJcbiAgfVxyXG5cclxuICBzYXZlV2l0aG91dFJldmlldyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc1Jldmlld0RpYWxvZ09wZW46IGZhbHNlIH0pO1xyXG4gIH1cclxuXHJcbiAgb3BlblNuYWNrYmFyID0gbWVzc2FnZVR5cGUgPT4ge1xyXG4gICAgdGhpcy5zbmFja01lc3NhZ2VRdWV1ZS5wdXNoKHtcclxuICAgICAgbWVzc2FnZTogU05BQ0tfTUVTU0FHRVNbbWVzc2FnZVR5cGVdLFxyXG4gICAgICBrZXk6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuc25hY2tPcGVuKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja09wZW46IGZhbHNlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wcm9jZXNzUXVldWUoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcm9jZXNzUXVldWUgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zbmFja01lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHNuYWNrTWVzc2FnZTogdGhpcy5zbmFja01lc3NhZ2VRdWV1ZS5zaGlmdCgpLFxyXG4gICAgICAgIHNuYWNrT3BlbjogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY2xvc2VTbmFja2JhciA9IChldmVudCwgcmVhc29uKSA9PiB7XHJcbiAgICBpZiAocmVhc29uID09PSAnY2xpY2thd2F5Jykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVTbmFja2JhckV4aXQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUFjdGlvbkl0ZW1DbGljayA9IGFjdGlvblR5cGUgPT4ge1xyXG4gICAgbGV0IG5ld0FjdGlvbiA9IHRoaXMuY3JlYXRlQWN0aW9uKGFjdGlvblR5cGUpO1xyXG4gICAgLy9BZGQgdGhlIG5ld2x5IGNyZWF0ZWQgYWN0aW9uIHRvIHN1bW1hcnkgYXJyYXlcclxuICAgIC8vaWYgbmV3QWN0aW9uIGlzIG51bGwgc2tpcCBhZGRpbmcgaXRcclxuICAgIGlmIChuZXdBY3Rpb24pIHtcclxuXHJcbiAgICAgIGNvbnN0IHN1bW1hcnlMZW5ndGggPSB0aGlzLnN0YXRlLnN1bW1hcnkubGVuZ3RoO1xyXG4gICAgICBpZiAoc3VtbWFyeUxlbmd0aCA+IDApIHtcclxuICAgICAgICBuZXdBY3Rpb25bXCJpZFwiXSA9IHRoaXMuc3RhdGUuc3VtbWFyeVtzdW1tYXJ5TGVuZ3RoIC0gMV1bXCJpZFwiXSArIDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV3QWN0aW9uW1wiaWRcIl0gPSAxO1xyXG4gICAgICB9XHJcbiAgICAgIG5ld0FjdGlvbltcInNhdmVcIl0gPSBmYWxzZTtcclxuICAgICAgbmV3QWN0aW9uW1wiY3JlYXRlZFwiXSA9IHRydWU7XHJcblxyXG4gICAgICBsZXQgc3VtbWFyeUNvbXBsZXRpb25NYXAgPSB0aGlzLnN0YXRlLnN1bW1hcnlDb21wbGV0aW9uTWFwO1xyXG4gICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcC5zZXQobmV3QWN0aW9uLmlkLCBmYWxzZSk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHN1bW1hcnk6IFsuLi50aGlzLnN0YXRlLnN1bW1hcnksIG5ld0FjdGlvbl0sXHJcbiAgICAgICAgc3VtbWFyeUNvbXBsZXRpb25NYXAsXHJcbiAgICAgIH0sICgpID0+IHtcclxuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGlvbi1zdW1tYXJ5LWdyaWQtY29udGFpbmVyXCIpO1xyXG4gICAgICAgIGlmIChlbCkge1xyXG4gICAgICAgICAgZWwuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBkb09wZW5OZXdBY3Rpb25EaWFsb2c6IGZhbHNlIH0pO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQWN0aW9uID0gYWN0aW9uVHlwZSA9PiB7XHJcblxyXG4gICAgc3dpdGNoIChhY3Rpb25UeXBlKSB7XHJcbiAgICAgIGNhc2UgYWN0aW9uVHlwZXMuUDJQOlxyXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVAyUCgpO1xyXG5cclxuICAgICAgY2FzZSBhY3Rpb25UeXBlcy5ESVNQVVRFOlxyXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZURpc3B1dGUoKTtcclxuXHJcbiAgICAgIGNhc2UgYWN0aW9uVHlwZXMuRk9MTE9XX1VQOlxyXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZvbGxvd3VwKCk7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlUDJQID0gKCkgPT4ge1xyXG4gICAgbGV0IFAyUEFjdGlvbiA9IHRoaXMuY3JlYXRlU3VtbWFyeVRlbXBsYXRlKCk7XHJcbiAgICBsZXQgbmV3U3VtbWFyeUVudGl0eSA9IHRoaXMuY3JlYXRlU3VtbWFyeUVudGl0eSgpO1xyXG4gICAgUDJQQWN0aW9uLmludGVudCA9IElOVEVOVF9UWVBFUy5QMlA7XHJcbiAgICBQMlBBY3Rpb24uc3VtbWFyeSA9IFAyUF9TVU1NQVJZX1RFTVBMQVRFO1xyXG4gICAgUDJQQWN0aW9uLnN1bW1hcnkgPSBQMlBfU1VNTUFSWV9URU1QTEFURS5yZXBsYWNlKFwiPERhdGUtVGltZT5cIiwgZm9ybWF0RGF0ZVdpdGhUaW1lem9uZShuZXcgRGF0ZSgpLCAnKzAwOjAwJykpO1xyXG4gICAgUDJQQWN0aW9uLmVudGl0aWVzID0gbmV3U3VtbWFyeUVudGl0eTtcclxuXHJcbiAgICByZXR1cm4gUDJQQWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlRGlzcHV0ZSA9ICgpID0+IHtcclxuICAgIGxldCBkaXNwdXRlQWN0aW9uID0gdGhpcy5jcmVhdGVTdW1tYXJ5VGVtcGxhdGUoKTtcclxuICAgIGxldCBuZXdTdW1tYXJ5RW50aXR5ID0gdGhpcy5jcmVhdGVTdW1tYXJ5RW50aXR5KCk7XHJcbiAgICBkaXNwdXRlQWN0aW9uLmludGVudCA9IElOVEVOVF9UWVBFUy5ESVNQVVRFO1xyXG4gICAgZGlzcHV0ZUFjdGlvbi5zdW1tYXJ5ID0gRElTUFVURV9TVU1NQVJZX1RFTVBMQVRFO1xyXG4gICAgZGlzcHV0ZUFjdGlvbi5lbnRpdGllcyA9IG5ld1N1bW1hcnlFbnRpdHk7XHJcblxyXG4gICAgcmV0dXJuIGRpc3B1dGVBY3Rpb247XHJcbiAgfVxyXG5cclxuICBjcmVhdGVGb2xsb3d1cCA9ICgpID0+IHtcclxuICAgIGxldCBmb2xsb3d1cEFjdGlvbiA9IHRoaXMuY3JlYXRlU3VtbWFyeVRlbXBsYXRlKCk7XHJcbiAgICBsZXQgbmV3U3VtbWFyeUVudGl0eSA9IHRoaXMuY3JlYXRlU3VtbWFyeUVudGl0eSgpO1xyXG4gICAgZm9sbG93dXBBY3Rpb24uaW50ZW50ID0gSU5URU5UX1RZUEVTLkZPTExPV19VUDtcclxuICAgIGZvbGxvd3VwQWN0aW9uLnN1bW1hcnkgPSBGT0xMT1dVUF9TVU1NQVJZX1RFTVBMQVRFO1xyXG4gICAgZm9sbG93dXBBY3Rpb24uc3VtbWFyeSA9IEZPTExPV1VQX1NVTU1BUllfVEVNUExBVEUucmVwbGFjZShcIjxEYXRlLVRpbWU+XCIsIGZvcm1hdERhdGVXaXRoVGltZXpvbmUobmV3IERhdGUoKSwgJyswMDowMCcpKTtcclxuICAgIGZvbGxvd3VwQWN0aW9uLmVudGl0aWVzID0gbmV3U3VtbWFyeUVudGl0eTtcclxuXHJcbiAgICByZXR1cm4gZm9sbG93dXBBY3Rpb247XHJcbiAgfVxyXG5cclxuICBmb3JtYXREYXRlID0gZGF0ZSA9PiB7XHJcbiAgICB2YXIgZCA9IG5ldyBEYXRlKGRhdGUpLFxyXG4gICAgICBtb250aCA9ICcnICsgKGQuZ2V0TW9udGgoKSArIDEpLFxyXG4gICAgICBkYXkgPSAnJyArIGQuZ2V0RGF0ZSgpLFxyXG4gICAgICB5ZWFyID0gZC5nZXRGdWxsWWVhcigpO1xyXG5cclxuICAgIGlmIChtb250aC5sZW5ndGggPCAyKSBtb250aCA9ICcwJyArIG1vbnRoO1xyXG4gICAgaWYgKGRheS5sZW5ndGggPCAyKSBkYXkgPSAnMCcgKyBkYXk7XHJcblxyXG4gICAgcmV0dXJuIFt5ZWFyLCBtb250aCwgZGF5XS5qb2luKCctJyk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVJldmlld1dhcm5pbmdEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNSZXZpZXdEaWFsb2dPcGVuOiBmYWxzZSB9KTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUV4cGFuZCA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBleHBhbmVkOiAhdGhpcy5zdGF0ZS5leHBhbmVkIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3Rpb25DcmVhdGlvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBkb09wZW5OZXdBY3Rpb25EaWFsb2c6IHRydWUgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZUFjdGlvbkNyZWF0b3JEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgZG9PcGVuTmV3QWN0aW9uRGlhbG9nOiBmYWxzZSB9KTtcclxuICB9XHJcblxyXG4gIGJsdXJOb25BY3Rpb25Ob3Rlc0JveCA9ICgpID0+IHtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBsZXQgdGV4dEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGRcIik7XHJcbiAgICAgIGlmICh0ZXh0RmllbGQpIHtcclxuICAgICAgICB0ZXh0RmllbGQuYmx1cigpO1xyXG4gICAgICB9XHJcbiAgICB9LCA1MDApXHJcbiAgfVxyXG5cclxuICBmb3JtYXRDYWxsRHVyYXRpb24gPSAoc2Vjb25kcykgPT4ge1xyXG4gICAgbGV0IGR1cmF0aW9uID0gc2Vjb25kc1xyXG4gICAgdmFyIGhyID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIDM2MDApO1xyXG4gICAgdmFyIG1pbiA9IE1hdGguZmxvb3IoKGR1cmF0aW9uIC0gKGhyICogMzYwMCkpIC8gNjApO1xyXG4gICAgdmFyIHNlYyA9IE1hdGguZmxvb3IoZHVyYXRpb24gLSAoaHIgKiAzNjAwKSAtIChtaW4gKiA2MCkpO1xyXG5cclxuICAgIGlmIChtaW4gPCAxMCkge1xyXG4gICAgICBtaW4gPSBcIjBcIiArIG1pbjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2VjIDwgMTApIHtcclxuICAgICAgc2VjID0gXCIwXCIgKyBzZWM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWluICsgJyBtaW4gJyArIHNlYyArICcgc2VjJztcclxuICB9XHJcblxyXG4gIGdldE5ld0tleSA9IChhY3Rpb25UeXBlKSA9PiB7XHJcbiAgICBsZXQgc3VtbWFyeSA9IHRoaXMuc3RhdGUuc3VtbWFyeTtcclxuXHJcbiAgICBpZiAoc3VtbWFyeSAmJiBzdW1tYXJ5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgcmV0dXJuIGAke2FjdGlvblR5cGV9LSR7c3VtbWFyeVtzdW1tYXJ5Lmxlbmd0aCAtIDFdW1wiaWRcIl0gKyAxfWA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGAke2FjdGlvblR5cGV9LSR7MX1gO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlU3VtbWFyeVRlbXBsYXRlID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUoU1VNTUFSWV9URU1QTEFURSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVTdW1tYXJ5RW50aXR5ID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUoRU5USVRZX1RFTVBMQVRFKTtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVTdW1tYXJ5V2l0aERlZmF1bHRzID0gKHN1bW1hcnkpID0+IHtcclxuXHJcbiAgICBpZiAoc3VtbWFyeSA9PT0gXCJbXVwiKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBbXSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBzdW1tYXJ5V2l0aElkcyA9IHRoaXMuYXBwZW5kSWRzVG9TdW1tYXJ5KHN1bW1hcnkpO1xyXG4gICAgICBsZXQgc3VtbWFyeUNvbXBsZXRpb25NYXAgPSB0aGlzLmNyZWF0ZVN1bW1hcnlDb21wbGV0aW9uTWFwKHN1bW1hcnkpO1xyXG4gICAgICBsZXQgbm9uQWN0aW9uU3VtbWFyeSA9IHRoaXMuY3JlYXRlSW5pdGlhbE5vbkFjdGlvblN1bW1hcnlOb3RlcyhzdW1tYXJ5KTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgICB7XHJcbiAgICAgICAgICBzdW1tYXJ5OiBzdW1tYXJ5V2l0aElkcyxcclxuICAgICAgICAgIHN1bW1hcnlDb21wbGV0aW9uTWFwLFxyXG4gICAgICAgICAgbm9uQWN0aW9uTm90ZXM6IG5vbkFjdGlvblN1bW1hcnksXHJcbiAgICAgICAgICBwcmV2Tm9uQWN0aW9uTm90ZXM6IG5vbkFjdGlvblN1bW1hcnksXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlSW5pdGlhbE5vbkFjdGlvblN1bW1hcnlOb3RlcyA9IChzdW1tYXJ5KSA9PiB7XHJcbiAgICBsZXQgaW5pdGlhbE5vdGVzU3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBjb25zdCB2b2ljZW1haWxNZXNzYWdlID0gdGhpcy5wcm9wcy52b2ljZW1haWxNZXNzYWdlO1xyXG5cclxuICAgIGlmICh2b2ljZW1haWxNZXNzYWdlKSB7XHJcbiAgICAgIGluaXRpYWxOb3Rlc1N0cmluZyArPSB2b2ljZW1haWxNZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgaW4gc3VtbWFyeSkge1xyXG4gICAgICBpZiAoc3VtbWFyeVtpXS5pbnRlbnQgIT09IElOVEVOVF9UWVBFUy5QMlAgJiZcclxuICAgICAgICBzdW1tYXJ5W2ldLmludGVudCAhPT0gSU5URU5UX1RZUEVTLkRJU1BVVEUgJiZcclxuICAgICAgICBzdW1tYXJ5W2ldLmludGVudCAhPT0gSU5URU5UX1RZUEVTLkZPTExPV19VUFxyXG4gICAgICApIHtcclxuICAgICAgICBpbml0aWFsTm90ZXNTdHJpbmcgKz0gc3VtbWFyeVtpXS5zdW1tYXJ5O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGluaXRpYWxOb3Rlc1N0cmluZztcclxuICB9XHJcblxyXG4gIGFwcGVuZElkc1RvU3VtbWFyeSA9IChzdW1tYXJ5KSA9PiB7XHJcbiAgICAvL2FwcGVuZCBpZHMgdG8gc3VtbWFyeVxyXG4gICAgaWYgKHN1bW1hcnkpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdW1tYXJ5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc3VtbWFyeVtpXVtcImlkXCJdID0gaSArIDE7XHJcbiAgICAgICAgc3VtbWFyeVtpXVtcInNhdmVcIl0gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdW1tYXJ5O1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3VtbWFyeUZyb21DaGlsZCA9IChuZXdTdW1tYXJ5LCBpZCkgPT4ge1xyXG4gICAgbGV0IHByZXZTdW1tYXJ5ID0gdGhpcy5zdGF0ZS5zdW1tYXJ5O1xyXG5cclxuICAgIGZvciAobGV0IGkgaW4gcHJldlN1bW1hcnkpIHtcclxuICAgICAgaWYgKHByZXZTdW1tYXJ5W2ldLmlkID09IGlkKSB7XHJcbiAgICAgICAgcHJldlN1bW1hcnlbaV0uc3VtbWFyeSA9IG5ld1N1bW1hcnk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogcHJldlN1bW1hcnkgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVOb25hY3Rpb25Ob3Rlc0NoYW5nZSA9IGUgPT4ge1xyXG5cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgbm9uQWN0aW9uTm90ZXM6IGUudGFyZ2V0LnZhbHVlIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlSW52b2ljZXMgPSAodXBkYXRlZEludm9pY2VzLCBpZCkgPT4ge1xyXG4gICAgbGV0IHByZXZTdW1tYXJ5ID0gT2JqZWN0LmNyZWF0ZSh0aGlzLnN0YXRlLnN1bW1hcnkpO1xyXG4gICAgbGV0IHVwZGF0ZWRJbnZvaWNlTGlzdCA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSBpbiBwcmV2U3VtbWFyeSkge1xyXG4gICAgICBpZiAocHJldlN1bW1hcnlbaV0uaWQgPT0gaWQpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHVwZGF0ZWRJbnZvaWNlcykge1xyXG4gICAgICAgICAgdXBkYXRlZEludm9pY2VMaXN0LnB1c2godXBkYXRlZEludm9pY2VzW2ldLmRvY3VtZW50TnVtYmVyKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJldlN1bW1hcnlbaV0uZW50aXRpZXMuaW52b2ljZSA9IHVwZGF0ZWRJbnZvaWNlTGlzdDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBwcmV2U3VtbWFyeSB9KTtcclxuICB9XHJcblxyXG4gIGVkaXROb25BY3Rpb25Ob3RlcyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0VkaXRpbmdPbjogdHJ1ZSB9LCAoKSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCB0ZXh0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vbi1hY3Rpb24tbm90ZXMtZWRpdC1maWVsZFwiKTtcclxuICAgICAgICBpZiAodGV4dEZpZWxkKSB7XHJcbiAgICAgICAgICB0ZXh0RmllbGQuZm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDUwMClcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVGaW5hbEludm9pY2VMaXN0ID0gKCkgPT4ge1xyXG4gICAgbGV0IGZpbmFsSW52b2ljZXNPYmplY3QgPSBbXTtcclxuICAgIGxldCBzdW1tYXJ5ID0gdGhpcy5zdGF0ZS5zdW1tYXJ5O1xyXG4gICAgbGV0IGFsbEludm9pY2VzID0gdGhpcy5wcm9wcy5pbnZvaWNlcztcclxuICAgIGxldCBzZWxlY3RlZEludm9pY2VzID0gW107XHJcbiAgICBmb3IgKGxldCBpIGluIHN1bW1hcnkpIHtcclxuICAgICAgbGV0IGludm9pY2VzID0gc3VtbWFyeVtpXS5lbnRpdGllcy5pbnZvaWNlO1xyXG4gICAgICBmb3IgKGxldCBpIGluIGludm9pY2VzKSB7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXMuaW5kZXhPZihpbnZvaWNlc1tpXSkgPCAwKSB7XHJcbiAgICAgICAgICBzZWxlY3RlZEludm9pY2VzLnB1c2goaW52b2ljZXNbaV0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgZm9yIChsZXQgaSBpbiBzZWxlY3RlZEludm9pY2VzKSB7XHJcbiAgICAgIGxldCBmbGFnID0gZmFsc2U7XHJcbiAgICAgIGZvciAobGV0IGogaW4gYWxsSW52b2ljZXMpIHtcclxuICAgICAgICBpZiAoZmxhZyA9PSB0cnVlKVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZm9yIChsZXQgayBpbiBhbGxJbnZvaWNlc1tqXSkge1xyXG4gICAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNbaV0gPT0gYWxsSW52b2ljZXNbal1ba10uZG9jdW1lbnROdW1iZXIpIHtcclxuICAgICAgICAgICAgZmluYWxJbnZvaWNlc09iamVjdC5wdXNoKHtcclxuICAgICAgICAgICAgICBcImRvY3VtZW50TnVtYmVyXCI6IHNlbGVjdGVkSW52b2ljZXNbaV0sXHJcbiAgICAgICAgICAgICAgXCJjdXJyZW50T3BlbkFtb3VudFwiOiBhbGxJbnZvaWNlc1tqXVtrXS5jdXJyZW50T3BlbkFtb3VudCxcclxuICAgICAgICAgICAgICBcImludm9pY2VJZFwiOiBhbGxJbnZvaWNlc1tqXVtrXS5pZCxcclxuICAgICAgICAgICAgICBcImlkXCI6IGNvdW50KytcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmaW5hbEludm9pY2VzT2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IHsgYW5jaG9yRWwgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICBjb25zdCBvcGVuID0gQm9vbGVhbihhbmNob3JFbCk7XHJcbiAgICBjb25zdCB7IGN1c3RvbWVyIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgbGV0IGNhbGxMb2dTdGF0ZSA9IHRoaXMucHJvcHMuY2FsbExvZ1N0YXRlO1xyXG4gICAgY29uc29sZS5sb2coY2FsbExvZ1N0YXRlLCBcImluc2lkZSByZW5kZXJcIilcclxuICAgIGxldCB1c2VyID0gdGhpcy5wcm9wcy51c2VyO1xyXG4gICAgbGV0IGNhbGxlZFRvTmFtZSA9IHRoaXMucHJvcHMuY2FsbGVkVG9OYW1lO1xyXG5cclxuICAgIGxldCBjYWxsZWRUb05hbWVJbml0aWFscyA9IGdldEluaXRpYWxzRnJvbU5hbWUoY2FsbGVkVG9OYW1lKTtcclxuICAgIGxldCB1c2VySW5pdGlhbHMgPSBnZXRJbml0aWFsc0Zyb21OYW1lKHVzZXIubmFtZSk7XHJcblxyXG4gICAgY29uc3QgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLFxyXG4gICAgICBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXHJcbiAgICBdO1xyXG4gICAgbGV0IHVzZXJMb2dvXHJcbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLmljb24gPT09IFwiXCIpXHJcbiAgICAgIHVzZXJMb2dvID0gPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMudXNlckxvZ299PiB7dGhpcy5wcm9wcy51c2VyLmZpcnN0TmFtZS5jaGFyQXQoMCkgKyB0aGlzLnByb3BzLnVzZXIubGFzdE5hbWUuY2hhckF0KDApfTwvZGl2PlxyXG4gICAgZWxzZVxyXG4gICAgICB1c2VyTG9nbyA9IDxpbWcgc3JjPXt0aGlzLnByb3BzLnVzZXIuaWNvbn0gY2xhc3NOYW1lPXtjbGFzc2VzLnVzZXJJbWd9IC8+XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuYXBwRnJhbWV9PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fT5cclxuXHJcbiAgICAgICAgICA8R3JpZCBjb250YWluZXI+XHJcbiAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIGFsaWduSXRlbXM9XCJmbGV4LXN0YXJ0XCI+XHJcbiAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTB9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIGFsaWduSXRlbXM6IFwibGVmdFwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmN1c3RvbWVyTmFtZX0+e2N1c3RvbWVyLmN1c3RvbWVyTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lck51bWJlcn0+e2N1c3RvbWVyLmN1c3RvbWVyTnVtYmVyfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj4gIFxyXG5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciB4cz17Mn0ganVzdGlmeT1cImZsZXgtZW5kXCIgc3R5bGU9e3sgbWFyZ2luTGVmdDogXCItOC4zM3Z3XCIgfX0gPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW46IFwiMHB4IDAgMCAwXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH19PlxyXG4gICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwicmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwgYWxpZ25JdGVtczogXCJyaWdodFwiLCBoZWlnaHQ6IFwiNC40NDR2aFwiIH19PlxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8RmFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImV4dGVuZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNhdmVQb3N0Q2FsbFRoaW5nc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkFkZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdW1tYXJ5ID8gZmFsc2UgOiB0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5idXR0b259PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5idXR0b25UaXRsZX0gPkRvbmUgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0ZhYj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgPExpbmsgc3R5bGU9e3sgdGV4dERlY29yYXRpb246IFwibm9uZVwiIH19IG9uQ2xpY2s9eygpID0+IHsgfX0gdG89e3sgcGF0aG5hbWU6IHRoaXMubmV4dEN1c3RvbWVyVXJsLCBzdGF0ZTogeyB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMudG9DYWxsQ3VzdG9tZXJzIH0gfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5uZXh0Q3VzdG9tZXJVcmx9Pnt0aGlzLm5leHRDdXN0b21lVGV4dH08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmXHJcblxyXG4gICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5wb3N0Q2FsbENhcmRHcmlkfT5cclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezh9IGNsYXNzTmFtZT17Y2xhc3Nlcy5wYWRkaW5nUmlnaHRPbkNhcmR9ID5cclxuXHJcbiAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmhlYWRpbmd9PlNVR0dFU1RFRCBBQ1RJT05TPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEyfSBzdHlsZT17eyBoZWlnaHQ6IFwiYXV0b1wiLCBtYXhIZWlnaHQ6IFwiNzQuN3ZoXCIsIG92ZXJmbG93WTogXCJhdXRvXCIgfX0gaWQ9XCJhY3Rpb24tc3VtbWFyeS1ncmlkLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnN0YXRlLnN1bW1hcnkpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1bW1hcnkubWFwKHN1bW1hcnkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlblN1bW1hcnlBY3Rpb25DYXJkcyhzdW1tYXJ5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuc3VtbWFyeSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdGx5ZT17eyBoZWlnaHQ6IFwiMTAwJVwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCI3MHZoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX0+ICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiBcIndoaXRlXCIsIG1hcmdpblRvcDogXCIxLjNyZW1cIiwgfX0+R2VuZXJhdGluZyBjYWxsIHN1bW1hcnk8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnN1bW1hcnkgJiZcclxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiB9fSBjb2xvcj0nc2Vjb25kYXJ5JyBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9uQnV0dG9ufSB2YXJpYW50PVwiY29udGFpbmVkXCIgb25DbGljaz17KCkgPT4geyB0aGlzLmhhbmRsZUFjdGlvbkNyZWF0aW9uKCkgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjb2xvcj1cInByaW1hcnlcIiBzdHlsZT17eyBmb250U2l6ZTogXCIxLjA2N3JlbVwiIH19PisgQ1JFQVRFIE5FVyBBQ1RJT048L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+fVxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIHhzPXs0fSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgc3R5bGU9e3sgaGVpZ2h0OiBcIjg2LjI5dmhcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTJ9IGNvbnRhaW5lciBpZD1cInRyYW5zY3JpcHRpb24tZ3JpZFwiIGNsYXNzTmFtZT17Y2xhc3Nlcy50cmFuc2NyaXB0Qm94fT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMudHJhbnNjcmlwdFRpdGxlfT5DQUxMIFRSQU5TQ1JJUFQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMudHJhbnNjcmlwdFRleHRQYXJlbnR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFRyYW5zY3JpcHRDaGF0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb249e3RoaXMuc3RhdGUudHJhbnNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkVG9OYW1lSW5pdGlhbHM9e2NhbGxlZFRvTmFtZUluaXRpYWxzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5pdGlhbHM9e3VzZXJJbml0aWFsc31cclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTJ9IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5Qm94fT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCB3aWR0aDogXCIxMDAlXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMubm9uQWN0aW9uTm90ZXNUaXRsZX0+Tk9OIEFDVElPTiBOT1RFUzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiAhdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3JkZXJDb2xvciBzdHlsZT17eyBjb2xvcjogXCIjNURBQUUwXCIsIGZsb2F0OiBcInJpZ2h0XCIsIGN1cnNvcjogXCJwb2ludGVyXCIgfX0gb25DbGljaz17dGhpcy5lZGl0Tm9uQWN0aW9uTm90ZXN9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiB0aGlzLnN0YXRlLmlzRWRpdGluZ09uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmbG9hdDogXCJyaWdodFwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhpZ2hsaWdodE9mZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5MZWZ0OiBcIjAuNHJlbVwiLCBjb2xvcjogXCIjRkY4ODg4XCIsIHBhZGRpbmc6IFwiMCAxLjNyZW0gMCAwLjhyZW1cIiwgY3Vyc29yOiBcInBvaW50ZXJcIiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmRpc2NhcmROb3Rlc0NoYW5nZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlT3V0bGluZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogXCIjNUZDMzJDXCIsIGN1cnNvcjogXCJwb2ludGVyXCIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zYXZlTm90ZXNDaGFuZ2VzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zdW1tYXJ5ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cIm5vbi1hY3Rpb24tbm90ZXMtZWRpdC1maWVsZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7IHRoaXMuaGFuZGxlTm9uYWN0aW9uTm90ZXNDaGFuZ2UoZSkgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuc3RhdGUuaXNFZGl0aW5nT24gPyBjbGFzc2VzLm5vbkFjdGlvbk5vdGVzRWRpdGluZyA6IGNsYXNzZXMubm9uQWN0aW9uTm90ZXNOb3RFZGl0aW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbj1cIm5vcm1hbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogQm9vbGVhbighdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLnN1bW1hcnkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdGx5ZT17eyBoZWlnaHQ6IFwiMTAwJVwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIyMHZoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3Mgc3R5bGU9e3sgY29sb3I6IFwiI2VlZWVlZVwiIH19IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogXCIjZWVlZWVlXCIsIG1hcmdpblRvcDogXCIxLjNyZW1cIiwgfX0+V2FpdGluZyBmb3Igc3VtbWFyeTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmXHJcbiAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjb250YWluZXIgeHM9ezEyfSBjbGFzc05hbWU9e2NsYXNzZXMucG9zdENhbGxDYXJkR3JpZH0+XHJcbiAgICAgICAgICAgICAgICA8RmluYWxcclxuICAgICAgICAgICAgICAgICAgaW52b2ljZUxpc3Q9e3RoaXMuZ2VuZXJhdGVGaW5hbEludm9pY2VMaXN0KCl9XHJcbiAgICAgICAgICAgICAgICAgIHN1bW1hcnlOb3Rlcz17dGhpcy5zdGF0ZS5ub3Rlc31cclxuICAgICAgICAgICAgICAgICAgbm9uQWN0aW9uSW5jbHVkZWQ9e3RoaXMuc3RhdGUubm9uQWN0aW9uSW5jbHVkZWR9XHJcbiAgICAgICAgICAgICAgICAgIG5leHRDdXN0b21lclVybD17dGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmx9XHJcbiAgICAgICAgICAgICAgICAgIHRvQ2FsbEN1c3RvbWVycz17dGhpcy5wcm9wcy50b0NhbGxDdXN0b21lcnN9XHJcbiAgICAgICAgICAgICAgICAgIGN1c3RvbWVyPXt0aGlzLnByb3BzLmN1c3RvbWVyfVxyXG4gICAgICAgICAgICAgICAgICBjb2xsZWN0b3I9e3RoaXMucHJvcHMuY29sbGVjdG9yfVxyXG4gICAgICAgICAgICAgICAgICBjb250YWN0SW5kZXg9e3RoaXMucHJvcHMuY29udGFjdEluZGV4fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPC9GaW5hbD5cclxuICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPERpYWxvZyBvbkNsb3NlPXt0aGlzLmNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZ31cclxuICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJzaW1wbGUtZGlhbG9nLXRpdGxlXCJcclxuICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLmRvT3Blbk5ld0FjdGlvbkRpYWxvZ31cclxuICAgICAgICAgICAgICBjbGFzc2VzPXt7IHBhcGVyU2Nyb2xsUGFwZXI6IGNsYXNzZXMuZGlhbG9nUGFwZXIgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInNpbXBsZS1kaWFsb2ctdGl0bGVcIiBjbGFzc05hbWU9e2NsYXNzZXMuZGlhbG9nfT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNyZWF0ZU5ld0FjdGlvbkRpYWxvZ0hlYWRlcn0+XHJcbiAgICAgICAgICAgICAgICAgIENyZWF0ZSBOZXcgQWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxMaXN0IGNsYXNzTmFtZT17Y2xhc3Nlcy5jcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zfT5cclxuICAgICAgICAgICAgICAgICAge09iamVjdC5rZXlzKGFjdGlvblR5cGVzKS5tYXAoYWN0aW9uVHlwZUtleSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPExpc3RJdGVtIHN0eWxlPXt7IGN1cnNvcjogXCJwb2ludGVyXCIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgdGhpcy5oYW5kbGVBY3Rpb25JdGVtQ2xpY2soYWN0aW9uVHlwZXNbYWN0aW9uVHlwZUtleV0pIH19IGtleT17YWN0aW9uVHlwZUtleX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7YWN0aW9uVHlwZUtleSAhPSBcIk1BSUxcIiAmJiA8TGlzdEl0ZW1UZXh0ICA+IDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNyZWF0ZU5ld0FjdGlvbkRpYWxvZ09wdGlvbnN9PiBDcmVhdGUgIHthY3Rpb25UeXBlc1thY3Rpb25UeXBlS2V5XX0gPC9kaXY+IDwvTGlzdEl0ZW1UZXh0Pn1cclxuICAgICAgICAgICAgICAgICAgICAgIHthY3Rpb25UeXBlS2V5ID09IFwiTUFJTFwiICYmIDxMaXN0SXRlbVRleHQgcHJpbWFyeT17XCJTZW5kIFwiICsgYWN0aW9uVHlwZXNbYWN0aW9uVHlwZUtleV19IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvTGlzdEl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgPC9MaXN0PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L0RpYWxvZz5cclxuICAgICAgICAgICAgPEN1c3RvbURpYWxvZ1xyXG4gICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuaXNSZXZpZXdEaWFsb2dPcGVufVxyXG4gICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VSZXZpZXdXYXJuaW5nRGlhbG9nfSB0aXRsZT17cmV2aWV3V2FybmluZ30gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgWzxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZVJldmlld1dhcm5pbmdEaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPl1cclxuICAgICAgICAgICAgICB9IC8+XHJcbiAgICAgICAgICAgIDxTbmFja2JhclxyXG4gICAgICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xyXG4gICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxyXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnLFxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAga2V5PXt0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZS5rZXl9XHJcbiAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5zbmFja09wZW59XHJcbiAgICAgICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbj17MjAwMH1cclxuICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgQ29udGVudFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJyxcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIG1lc3NhZ2U9ezxzcGFuIGlkPXt0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZS5rZXl9Pnt0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZS5tZXNzYWdlfTwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgYWN0aW9uPXtbXHJcbiAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBrZXk9XCJjbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yPVwiaW5oZXJpdFwiXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jbG9zZX1cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICBvbkV4aXRlZD17dGhpcy5oYW5kbGVTbmFja2JhckV4aXR9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24gLz5cclxuICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj4sXHJcbiAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5Qb3N0Q2FsbC5wcm9wVHlwZXMgPSB7XHJcbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG59O1xyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4gKHtcclxuXHJcbiAgdXNlcjogc3RhdGUucGVyc29uYWxEZXRhaWxzLFxyXG4gIGNhbGxTdGF0ZTogc3RhdGUuY2FsbFN0YXRlLFxyXG4gIHRyYW5zY3JpcHRpb246IHN0YXRlLnRyYW5zY3JpcHRpb24sXHJcbiAgY2FsbExvZ1N0YXRlOiBzdGF0ZS5jYWxsTG9nU3RhdGUsXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxyXG4gIG1hcFN0YXRlVG9Qcm9wcyxcclxuKSh3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoUG9zdENhbGwpKVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdmlld3MvUG9zdENhbGwuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IFAyUCBmcm9tICcuLi9jb21wb25lbnRzL1AyUCc7XHJcbmltcG9ydCBEaXNwdXRlIGZyb20gJy4uL2NvbXBvbmVudHMvRGlzcHV0ZSc7XHJcbmltcG9ydCBGb2xsb3d1cCBmcm9tICcuLi9jb21wb25lbnRzL0ZvbGxvd3VwJztcclxuaW1wb3J0IEFjdGlvbkRldGFpbHMgZnJvbSAnLi4vY29tcG9uZW50cy9BY3Rpb25EZXRhaWxzJztcclxuaW1wb3J0IEV4cGFuc2lvblBhbmVsIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0V4cGFuc2lvblBhbmVsJztcclxuaW1wb3J0IEV4cGFuc2lvblBhbmVsU3VtbWFyeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbFN1bW1hcnknO1xyXG5pbXBvcnQgRXhwYW5zaW9uUGFuZWxEZXRhaWxzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0V4cGFuc2lvblBhbmVsRGV0YWlscyc7XHJcbmltcG9ydCBFeHBhbmRNb3JlSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRXhwYW5kTW9yZSc7XHJcbmltcG9ydCB7IElOVEVOVF9UWVBFUyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gICAgcGFuZWw6IHtcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgfSxcclxuICAgIGV4cGFuZGVkQmFja2dyb3VuZDoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXHJcbiAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDBweCAzcHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yKSlcIixcclxuICAgICAgICBwYWRkaW5nOiBcIjAgIWltcG9ydGFudFwiLFxyXG4gICAgfSxcclxuICAgIHBhbmVsQ29tbW9uOiB7XHJcbiAgICAgICAgcGFkZGluZzogXCIwICFpbXBvcnRhbnRcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNXB4XCIsXHJcbiAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDBweCAzcHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yKSlcIlxyXG4gICAgfSxcclxuICAgIGV4cGFuZEljb246IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxyXG4gICAgfSxcclxuICAgIGV4cGFuc2lvblBhbmVsUm9vdDoge1xyXG4gICAgICAgIGJveFNoYWRvdzogXCJub25lICFpbXBvcnRhbnRcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4ICFpbXBvcnRhbnRcIixcclxuICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC44M3ZoXCJcclxuICAgIH1cclxufSk7XHJcblxyXG5jbGFzcyBBY3Rpb25zIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgICAgICBsZXQgaW52b2ljZXMgPSB0aGlzLnByb3BzLnN1bW1hcnkuZW50aXRpZXNbXCJpbnZvaWNlXCJdO1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxJbnZvaWNlRGF0YSA9IHRoaXMuZ2VuSW5pdGlhbEludm9pY2VEYXRhKGludm9pY2VzKTtcclxuICAgICAgICBjb25zdCB7IGNvcnJlY3RJbnZvaWNlcywgY29ycmVjdEludm9pY2VzTWFwLCBpbmNvcnJlY3RGbGFnIH0gPSBpbml0aWFsSW52b2ljZURhdGE7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgYW1vdW50OiAwLFxyXG4gICAgICAgICAgICBpbnZvaWNlcyxcclxuICAgICAgICAgICAgc3VtbWFyeTogdGhpcy5wcm9wcy5zdW1tYXJ5LFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXMsXHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZyxcclxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiAwLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVFeHBhbmQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiAhdGhpcy5zdGF0ZS5leHBhbmRlZCB9KVxyXG4gICAgfVxyXG5cclxuICAgIGdlbkluaXRpYWxJbnZvaWNlRGF0YSA9IChpbnZvaWNlcykgPT4ge1xyXG4gICAgICAgIGxldCBjb3JyZWN0SW52b2ljZXMgPSBbXTtcclxuICAgICAgICBsZXQgY29ycmVjdEludm9pY2VzTWFwID0ge307XHJcbiAgICAgICAgbGV0IGluY29ycmVjdEZsYWcgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBhbGxJbnZvaWNlTGlzdCA9IHRoaXMucHJvcHMuYWxsSW52b2ljZUxpc3Q7XHJcblxyXG4gICAgICAgIGlmIChpbnZvaWNlcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWxsSW52b2ljZUxpc3QubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgYWxsSW52b2ljZUxpc3Rbal0ubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRJbnZvaWNlID0gYWxsSW52b2ljZUxpc3Rbal1ba107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZXNbaV0gPT0gY3VycmVudEludm9pY2UuZG9jdW1lbnROdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcy5wdXNoKGN1cnJlbnRJbnZvaWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcFtjdXJyZW50SW52b2ljZS5pZF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcEludm9pY2UgPSBPYmplY3QuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGAke2ludm9pY2VzW2ldfWluY29ycmVjdGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TnVtYmVyOiBpbnZvaWNlc1tpXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXMucHVzaCh0ZW1wSW52b2ljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZyA9IHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaW52b2ljZURhdGEgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzLFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXAsXHJcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBpbnZvaWNlRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb21tb25Qcm9wcyA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XHJcbiAgICAgICAgICAgIGN1c3RvbWVyOiB0aGlzLnByb3BzLmN1c3RvbWVyLFxyXG4gICAgICAgICAgICBjYWxsVG9OYW1lOiB0aGlzLnByb3BzLmNhbGxlZFRvTmFtZSxcclxuICAgICAgICAgICAgY2FsbGVkVG9OdW1iZXI6IHRoaXMucHJvcHMuY2FsbGVkVG9OdW1iZXIsXHJcbiAgICAgICAgICAgIGNvbnRhY3RMb2c6IHRoaXMucHJvcHMuY29udGFjdExvZyxcclxuICAgICAgICAgICAgb25BY3Rpb25JdGVtQ29uZmlybTogdGhpcy5wcm9wcy5vbkFjdGlvbkl0ZW1Db25maXJtLFxyXG4gICAgICAgICAgICBkZWxldGVBY3Rpb246IHRoaXMucHJvcHMub25EZWxldGUsXHJcbiAgICAgICAgICAgIG9uQ29tcGxldGlvbjogdGhpcy5tYXJrVGhpc0NvbXBsZXRlLFxyXG4gICAgICAgICAgICB0b2dnbGVFeHBhbmQ6IHRoaXMudG9nZ2xlRXhwYW5kLFxyXG4gICAgICAgICAgICBvcGVuU25hY2tiYXJPbkFjdGlvbjogKG1lc3NhZ2VUeXBlKSA9PiB0aGlzLnByb3BzLm9wZW5TbmFja2Jhck9uQWN0aW9uKG1lc3NhZ2VUeXBlKSxcclxuICAgICAgICAgICAgdXBkYXRlU3VtbWFyeUluUGFyZW50OiAodXBkYXRlZFN1bW1hcnkpID0+IHsgdGhpcy5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnksIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzKSB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29ycmVjdEludm9pY2VzID0gKGludm9pY2VzLCBpbnZvaWNlc01hcCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogaW52b2ljZXMsXHJcbiAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IGludm9pY2VzTWFwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXBkYXRlSW52b2ljZXNJblBhcmVudChpbnZvaWNlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUludm9pY2VzID0gKGZsYWcsIGludm9pY2VDb3VudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBmbGFnLFxyXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IGludm9pY2VDb3VudCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBtYXJrVGhpc0NvbXBsZXRlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb21wbGV0ZWQ6IHRydWUsIGV4cGFuZGVkOiBmYWxzZSB9KTtcclxuICAgICAgICB0aGlzLnByb3BzLmNvbXBsZXRlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGNsYXNzZXMsIGludGVudFR5cGUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgY29tbW9uUHJvcHMgPSB0aGlzLmdldENvbW1vblByb3BzKCk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxFeHBhbnNpb25QYW5lbFxyXG4gICAgICAgICAgICAgICAgY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLmV4cGFuc2lvblBhbmVsUm9vdCB9fVxyXG4gICAgICAgICAgICAgICAgZXhwYW5kZWQ9e3RoaXMuc3RhdGUuZXhwYW5kZWR9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMucGFuZWx9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxFeHBhbnNpb25QYW5lbFN1bW1hcnlcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuc3RhdGUuZXhwYW5kZWQgPyBjbGFzc2VzLmV4cGFuZGVkQmFja2dyb3VuZCA6IGNsYXNzZXMucGFuZWxDb21tb259XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kSWNvbj17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudFR5cGUgIT09IElOVEVOVF9UWVBFUy5GT0xMT1dfVVAgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV4cGFuZE1vcmVJY29uIG9uQ2xpY2s9e3RoaXMudG9nZ2xlRXhwYW5kfSBjbGFzc05hbWU9e2NsYXNzZXMuZXhwYW5kSWNvbn0gLz4pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZSA9PT0gSU5URU5UX1RZUEVTLlAyUCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UDJQXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZz17IHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxBbW91bnQ9e3RoaXMuc3RhdGUuYW1vdW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnk9eyB0aGlzLnN0YXRlLnN1bW1hcnkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VDb3VudD17IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM9eyB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLmNvbW1vblByb3BzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudFR5cGUgPT09IElOVEVOVF9UWVBFUy5ESVNQVVRFICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEaXNwdXRlIGluY29ycmVjdEZsYWc9e3RoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5PXt0aGlzLnN0YXRlLnN1bW1hcnl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZUNvdW50PXt0aGlzLnN0YXRlLmludm9pY2VDb3VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM9e3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbkNvZGVMaXN0PXt0aGlzLnByb3BzLnJlYXNvbkNvZGVMaXN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5jb21tb25Qcm9wc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlID09PSBJTlRFTlRfVFlQRVMuRk9MTE9XX1VQICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb2xsb3d1cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc9e3RoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5PXt0aGlzLnN0YXRlLnN1bW1hcnl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sbG93dXBUZXh0TGlzdD17dGhpcy5wcm9wcy5mb2xsb3d1cFRleHRMaXN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5jb21tb25Qcm9wc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsU3VtbWFyeT5cclxuICAgICAgICAgICAgICAgIDxFeHBhbnNpb25QYW5lbERldGFpbHMgY2xhc3NOYW1lPXtjbGFzc2VzLnBhbmVsQ29tbW9ufT5cclxuICAgICAgICAgICAgICAgICAgICA8QWN0aW9uRGV0YWlsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW09e3RoaXMuc3RhdGUuc3VtbWFyeX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZT17aW50ZW50VHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzPXt0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwPXt0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZz17dGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZUludm9pY2U9e3RoaXMudXBkYXRlSW52b2ljZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU9e3RoaXMuc3RhdGUuY29tcGxldGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlcz17dGhpcy5wcm9wcy5hbGxJbnZvaWNlTGlzdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0TmFtZXM9e3RoaXMucHJvcHMuYnVja2V0TmFtZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUludm9pY2VzPXsoaW52b2ljZXMsIGludm9pY2VzTWFwKSA9PiB7IHRoaXMudXBkYXRlQ29ycmVjdEludm9pY2VzKGludm9pY2VzLCBpbnZvaWNlc01hcCkgfX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvRXhwYW5zaW9uUGFuZWxEZXRhaWxzPlxyXG4gICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuQWN0aW9ucy5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoQWN0aW9ucylcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9BY3Rpb25zLmpzIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IHsgRG9uZSwgSGlnaGxpZ2h0T2ZmLCBCb3JkZXJDb2xvciwgRGF0ZVJhbmdlLCBDaGVja0NpcmNsZU91dGxpbmUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMnO1xyXG5pbXBvcnQgRGF0ZUZuc1V0aWxzIGZyb20gJ0BkYXRlLWlvL2RhdGUtZm5zJztcclxuaW1wb3J0IHsgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIsIERhdGVQaWNrZXIgfSBmcm9tICdtYXRlcmlhbC11aS1waWNrZXJzJztcclxuaW1wb3J0IHsgTXVpVGhlbWVQcm92aWRlciwgY3JlYXRlTXVpVGhlbWUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XHJcbmltcG9ydCBibHVlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL2NvbG9ycy9ibHVlJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkJztcclxuaW1wb3J0IEVycm9yIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FcnJvcic7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IE51bWJlckZvcm1hdCBmcm9tICdyZWFjdC1udW1iZXItZm9ybWF0JztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBDaXJjdWxhclByb2dyZXNzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NpcmN1bGFyUHJvZ3Jlc3MnO1xyXG5pbXBvcnQgQ3VzdG9tRGlhbG9nIGZyb20gJy4vQ3VzdG9tRGlhbG9nJztcclxuaW1wb3J0IHsgZW1wdHlGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJztcclxuaW1wb3J0IHsgY3VzdG9tQ3VycmVuY3lGb3JtYXR0ZXIgfSBmcm9tICcuLi91dGlscy9mb3JtYXR0ZXInO1xyXG5pbXBvcnQgeyBpc1ZhbGlkRGF0ZSwgZm9ybWF0Q3VycmVuY3lUb1VTRm9ybWF0LCBmb3JtYXREYXRlV2l0aFRpbWV6b25lIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcclxuXHJcbi8vY29uc3RhbnRzXHJcbmNvbnN0IFAyUFJlZ2V4ID0gLyhQcm9taXNlIHRvIHBheSBmb3IgXFxkKil8KFxcZHs0fS1cXGR7Mn0tXFxkezJ9VFtcXGR7Mn06XSouXFxkezN9Wy18K11cXGR7Mn06XFxkezJ9KXwoXFxkKiBpbnZvaWNlKS9nO1xyXG5jb25zdCBkaXNjYXJkTWVzc2FnZSA9IFwiVGhpcyB3aWxsIGJlIHJlbW92ZWQgcGVybWFuZW50bHkgZnJvbSB0aGUgc3VnZ2VzdGVkIGFjdGlvbnMuIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuXCI7XHJcbmNvbnN0IHJlc29sdmVNZXNzYWdlID0gXCIgVW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBhY3Rpb24uIFBsZWFzZSByZXNvbHZlIHRoZSBlcnJvcnMgdG8gYXBwcm92ZS5cIjtcclxuY29uc3QgUDJQVGVtcGxhdGUgPSBcIlBheW1lbnQgY29tbWl0bWVudCByZWNlaXZlZCBmb3IgPEFtb3VudD4gdG8gYmUgcGFpZCBieSA8RGF0ZT4gPEludm9pY2VzPi5cIjtcclxuY29uc3QgUDJQX09SSUdfVEVNUExBVEUgPSBcIkNyZWF0ZSBQcm9taXNlIHRvIHBheSBmb3IgPEFtb3VudD4gdG8gYmUgcGFpZCBieSA8RGF0ZT4gZm9yIDxJbnZvaWNlcz5cIjtcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgICBpbnZvaWNlU2FtcGxlOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgZmxleFdyYXA6IFwibm8td3JhcFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAganVzdGlmeTogXCJzcGFjZS1iZXR3ZWVuXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIC8vIGNvbG9yIDogXCJyZWRcIlxyXG4gICAgfSxcclxuICAgIHRleHRGaWVsZDoge1xyXG4gICAgICAgIG1hcmdpbjogXCIwcHhcIixcclxuICAgICAgICAvLyB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgICAgICAvLyBwYWRkaW5nOiBcIjBweFwiLFxyXG4gICAgICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXHJcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXHJcbiAgICAgICAgLy8gd2hpdGVTcGFjZTogJ25vd3JhcCcsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgdGVzdDoge1xyXG4gICAgICAgIHdpZHRoOiAnYXV0bycsXHJcbiAgICAgICAgcGFkZGluZzogJzBweCcsXHJcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHk6IDAuNixcclxuXHJcbiAgICAgICAgXCImOmJlZm9yZVwiOiB7XHJcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgIzVEQUFFMFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCImOmFmdGVyXCI6IHtcclxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjNURBQUUwXCIsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHRlc3RJbml0aWFsOiB7XHJcbiAgICAgICAgd2lkdGg6ICdhdXRvJyxcclxuICAgICAgICBwYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eTogMC42LFxyXG5cclxuICAgICAgICBcIiY6YmVmb3JlXCI6IHtcclxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIiY6YWZ0ZXJcIjoge1xyXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIixcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgYWN0aW9uUHJvZ3Jlc3NCYXI6IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICB3aWR0aDogXCIxLjVyZW0gIWltcG9ydGFudFwiLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjAuNXJlbVwiLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcclxuICAgICAgICBoZWlnaHQ6IFwiMS41cmVtICFpbXBvcnRhbnRcIixcclxuICAgIH0sXHJcbiAgICBjYXJkQ29udGVudDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5IDogMC42NSxcclxuICAgICAgICBmb250U2l6ZSA6IFwiMC45cmVtXCJcclxuICAgIH0sXHJcbiAgICBhY3Rpb25JY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgaGVpZ2h0IDogXCIxLjZyZW1cIixcclxuICAgICAgICB3aWR0aCAgOiBcIjEuNnJlbVwiXHJcbiAgICB9LFxyXG4gICAgZXJyb3JGbGFnOiB7XHJcbiAgICAgICAgY29sb3I6IFwiI0ZGNDQ0NFwiLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxyXG4gICAgfSxcclxuICAgIGRpc2FibGVEb25lQnRuOiB7XHJcbiAgICAgICAgb3BhY2l0eTogMC40LFxyXG4gICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbmNvbnN0IG1hdGVyaWFsVGhlbWUgPSBjcmVhdGVNdWlUaGVtZSh7XHJcbiAgICAvLyBvdmVycmlkZXM6IHtcclxuICAgIC8vICAgICBNdWlEaWFsb2cgOiB7XHJcbiAgICAvLyAgICAgICAgIHBhcGVyIDoge1xyXG4gICAgLy8gICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yIDogXCIjMjczRDQ5XCIsXHJcbiAgICAvLyAgICAgICAgICAgICBib3JkZXIgOiBcIjNweCBzb2xpZCB3aGl0ZVwiXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIE11aVBpY2tlcnNTbGlkZVRyYW5zaXRpb24gOiB7XHJcbiAgICAvLyAgICAgICAgIHRyYW5zaXRpb25Db250YWluZXIgOiB7XHJcbiAgICAvLyAgICAgICAgICAgICBjb2xvciA6IFwiIzVEQUFFMFwiLFxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSxcclxuICAgICAgICAvLyBNdWlQaWNrZXJzVG9vbGJhcjoge1xyXG4gICAgICAgIC8vICAgICB0b29sYmFyOiB7XHJcbiAgICAgICAgLy8gICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzVEQUFFMFwiLFxyXG4gICAgICAgIC8vICAgICAgICAgaGVpZ2h0IDogXCIxM3ZoXCJcclxuICAgICAgICAvLyAgICAgfSxcclxuICAgICAgICAvLyB9LFxyXG4gICAgLy8gICAgIE11aVBpY2tlcnNDYWxlbmRhckhlYWRlcjoge1xyXG4gICAgLy8gICAgICAgICBzd2l0Y2hIZWFkZXI6IHtcclxuICAgIC8vICAgICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjogbGlnaHRCbHVlLkEyMDAsXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBjb2xvcjogJ3doaXRlJyxcclxuICAgIC8vICAgICAgICAgfSxcclxuICAgIC8vICAgICAgICAgZGF5TGFiZWwgOiB7XHJcbiAgICAvLyAgICAgICAgICAgICBjb2xvciA6IFwiIzVEQUFFMFwiLFxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgICAgICBpY29uQnV0dG9uIDoge1xyXG4gICAgLy8gICAgICAgICAgICAgY29sb3IgOiBcIiM1REFBRTBcIixcclxuICAgIC8vICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciA6IFwidHJhbnNwYXJlbnRcIlxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSxcclxuICAgIC8vICAgICBNdWlJY29uQnV0dG9uIDoge1xyXG4gICAgLy8gICAgICAgICByb290IDoge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGRpc2FibGVkIDoge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvciA6IFwiIzVEQUFFMFwiXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIE11aVR5cG9ncmFwaHkgOiB7XHJcbiAgICAvLyAgICAgICAgIGJvZHkxIDoge1xyXG4gICAgLy8gICAgICAgICAgICAgY29sb3IgOiBcIiM1REFBRTBcIixcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgICAgTXVpUGlja2Vyc0RheToge1xyXG4gICAgLy8gICAgICAgICBkYXk6IHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBcIiM1REFBRTBcIixcclxuICAgIC8vICAgICAgICAgfSxcclxuICAgIC8vICAgICAgICAgc2VsZWN0ZWQ6IHtcclxuICAgIC8vICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmx1ZVsnNDAwJ10sXHJcbiAgICAvLyAgICAgICAgIH0sXHJcbiAgICAvLyAgICAgICAgIGN1cnJlbnQ6IHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbG9yOiBibHVlWyc5MDAnXSxcclxuICAgIC8vICAgICAgICAgfSxcclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XHJcbiAgICAvLyAgICAgICAgIGVycm9yOiB7XHJcbiAgICAvLyAgICAgICAgICAgICBjb2xvcjogXCIjRkY4ODg4ICFpbXBvcnRhbnRcIixcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgICAgTXVpUGlja2Vyc01vZGFsOiB7XHJcbiAgICAvLyAgICAgICAgIGRpYWxvZ0FjdGlvbjoge1xyXG4gICAgLy8gICAgICAgICAgICAgY29sb3I6IGJsdWVbJzQwMCddLFxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyB9LFxyXG4gICAgb3ZlcnJpZGVzOiB7XHJcbiAgICAgICAgTXVpUGlja2Vyc1Rvb2xiYXI6IHtcclxuICAgICAgICAgICAgdG9vbGJhcjoge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBibHVlLkEyMDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgOiBcIjEzdmhcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTXVpUGlja2Vyc0NhbGVuZGFySGVhZGVyOiB7XHJcbiAgICAgICAgICAgIHN3aXRjaEhlYWRlcjoge1xyXG4gICAgICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBsaWdodEJsdWUuQTIwMCxcclxuICAgICAgICAgICAgICAgIC8vIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTXVpUGlja2Vyc0RheToge1xyXG4gICAgICAgICAgICBkYXk6IHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBibHVlLkE3MDAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkOiB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJsdWVbJzQwMCddLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjdXJyZW50OiB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogYmx1ZVsnOTAwJ10sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBNdWlGb3JtSGVscGVyVGV4dDoge1xyXG4gICAgICAgICAgICBlcnJvcjoge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI0ZGODg4OCAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIE11aVBpY2tlcnNNb2RhbDoge1xyXG4gICAgICAgICAgICBkaWFsb2dBY3Rpb246IHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBibHVlWyc0MDAnXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxufSk7XHJcblxyXG5jbGFzcyBQMlAgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgbGV0IGV4dHJhY3RlZERhdGEgPSB0aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChQMlBSZWdleCk7XHJcbiAgICAgICAgbGV0IGV4dHJhY3RlZEFtb3VudCA9IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pO1xyXG5cclxuICAgICAgICAvLyBsZXQgbm9PZkludm9pY2VzID0gZXh0cmFjdGVkRGF0YVsyXSA/IGV4dHJhY3RlZERhdGFbMl0ubWF0Y2goL1swLTldezEsfS8pIDogMDtcclxuXHJcbiAgICAgICAgLy8gaWYgKCFub09mSW52b2ljZXMpIHtcclxuICAgICAgICAvLyAgICAgbm9PZkludm9pY2VzID0gMDtcclxuICAgICAgICAvLyB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICByZWFkT25seTogIXRoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkLFxyXG4gICAgICAgICAgICBpc0VkaXRpbmc6IHRoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICBwcmV2QW1vdW50OiBcIlwiLFxyXG4gICAgICAgICAgICBhbW91bnQ6IGV4dHJhY3RlZEFtb3VudCA/IGV4dHJhY3RlZEFtb3VudFswXSA6IHRoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkID8gXCJcIiA6IDAsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkRGF0ZTogbmV3IERhdGUoZXh0cmFjdGVkRGF0YVsxXSksXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogdGhpcy5wcm9wcy5pbnZvaWNlQ291bnQsXHJcbiAgICAgICAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgc25hY2tCYXJPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiLFxyXG4gICAgICAgICAgICBvcGVuV2FybmluZ0RpYWxvZzogZmFsc2UsXHJcbiAgICAgICAgICAgIG9wZW5Qcm9ncmVzc0JhcjogdHJ1ZSxcclxuICAgICAgICAgICAgYWN0aW9uSWQ6IHRoaXMucHJvcHMuc3VtbWFyeS5pZCxcclxuICAgICAgICAgICAgaXNEb25lOiB0aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSxcclxuICAgICAgICAgICAgZmluYWxTZWxlY3RlZERhdGU6IHRoaXMucHJvcHMuc3VtbWFyeS5zYXZlID8gZm9ybWF0KG5ldyBEYXRlKGV4dHJhY3RlZERhdGFbMV0pLCBcIk1NTSBkZCwgeXl5eVwiKSA6IFwiXCIsXHJcbiAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBleHRyYWN0ZWRBbW91bnQgPyAoXCJcIiArIGV4dHJhY3RlZEFtb3VudCkubGVuZ3RoICogMTIgOiAxNSxcclxuICAgICAgICAgICAgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSxcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogdGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgICAgICBpbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZTogXCJcIixcclxuICAgICAgICAgICAgb3BlbkludmFsaWREYXRhTm90aWZpZXI6IGZhbHNlLFxyXG4gICAgICAgICAgICBzdW1tYXJ5OiB0aGlzLnByb3BzLnN1bW1hcnksXHJcbiAgICAgICAgICAgIGlzQW1vdW50SW52YWxpZDogKGV4dHJhY3RlZEFtb3VudCA/IGZhbHNlIDogdHJ1ZSksXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUludm9pY2VDdXJyZW5jeUNoYW5nZSA9IChldmVudCkgPT4ge1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGV2ZW50LnRhcmdldC52YWx1ZSA/IChcIlwiICsgZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCkgKiAxMiA6IDUwLFxyXG4gICAgICAgICAgICBhbW91bnQ6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgYW1vdW50Rm9ybWF0dGVkOiBldmVudC50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgIGlzQW1vdW50SW52YWxpZDogZmFsc2UsXHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuYW1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNBbW91bnRJbnZhbGlkOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IG5leHRQcm9wcy5pbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobmV4dFByb3BzLmludm9pY2VDb3VudCA+PSAwICYmIG5leHRQcm9wcy5pbnZvaWNlQ291bnQgIT0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VDb3VudDogbmV4dFByb3BzLmludm9pY2VDb3VudCB9XHJcbiAgICAgICAgICAgICAgICAsICgpID0+IHsgdGhpcy51cGRhdGVTdW1tYXJ5KCkgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgb3BlbkRhdGFJbnZhbGlkRGlhbG9nID0gKG1lc3NhZ2UpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgb3BlbkludmFsaWREYXRhTm90aWZpZXI6IHRydWUsXHJcbiAgICAgICAgICAgIGludmFsaWREYXRhTm90aWZpZXJNZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlSW52YWxpZERhdGFOb3RpZmllciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkludmFsaWREYXRhTm90aWZpZXI6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlU25hY2tiYXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVQMlBEYXRhID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBsZXQgYW1vdW50ID0gdGhpcy5zdGF0ZS5hbW91bnQ7XHJcblxyXG4gICAgICAgIGlmIChOdW1iZXIoYW1vdW50KSA8IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2coXCJQbGVhc2UgZW50ZXIgYW1vdW50ID4gMC5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNWYWxpZERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3BlbkRhdGFJbnZhbGlkRGlhbG9nKFwiRm91bmQgaW52YWxpZCBkYXRlLiBQbGVhc2UgY29ycmVjdCB0aGUgZGF0ZSB0byBwcm9jZWVkLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tJbnZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICghdGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgJiZcclxuICAgICAgICAgICAgIXRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyAmJiBpc1ZhbGlkRGF0ZSh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSkpXHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZVAyUCA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlUDJQRGF0YSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coY29udGFjdElkKVxyXG4gICAgICAgIGxldCBjb250YWN0SWQgPSB0aGlzLnByb3BzLmNvbnRhY3RMb2cuY29udGFjdCAhPT0gbnVsbCA/ICB0aGlzLnByb3BzLmNvbnRhY3RMb2cuY29udGFjdC5pZCA6IG51bGw7XHJcbiAgICAgICAgbGV0IHBob25lTnVtYmVyID0gdGhpcy5wcm9wcy5jb250YWN0TG9nLmNhbGxpbmdOdW1iZXJcclxuICAgICAgICBsZXQgaW52b2ljZXMgPSB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlcy5tYXAoaW52b2ljZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbnZvaWNlT2JqID0ge31cclxuICAgICAgICAgICAgaW52b2ljZU9iai5jbXNEb2NIZWFkZXJJZCA9IGludm9pY2UuaWRcclxuICAgICAgICAgICAgcmV0dXJuIGludm9pY2VPYmo7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSwgaXNFZGl0aW5nOiBmYWxzZSwgcmVhZE9ubHk6IHRydWUgfSk7XHJcbiAgICAgICAgbGV0IHJlcU9iaiA9IHtcclxuICAgICAgICAgICAgY29tbWl0dGVkQW1vdW50OiB0aGlzLnN0YXRlLmFtb3VudCxcclxuICAgICAgICAgICAgY29tbWl0dGVkQnk6IHtcclxuICAgICAgICAgICAgICAgIGlkOiBjb250YWN0SWQsXHJcbiAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogcGhvbmVOdW1iZXIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbW1pdHRlZERhdGU6IG5ldyBEYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlKSxcclxuICAgICAgICAgICAgY29tbWl0dGVkT246IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGN1cnJlbmN5OiBcIiRcIixcclxuICAgICAgICAgICAgY3VzdG9tZXJJZDogdGhpcy5wcm9wcy5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgcGNJdGVtczogaW52b2ljZXMsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jdXN0b21lci8ke3RoaXMucHJvcHMuY3VzdG9tZXIuaWR9L3AycGAsIHJlcU9iailcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlNVQ0NFU1NcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZmluYWxTZWxlY3RlZERhdGU6IHRoaXMuZ2V0RGF0ZUZpZWxkVmFsdWUoKSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNEb25lOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbCBcclxuICAgICAgICAgICAgICAgIGxldCBzdW1tYXJ5VG9TYXZlID0gdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Db21wbGV0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uQWN0aW9uSXRlbUNvbmZpcm0oc3VtbWFyeVRvU2F2ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlLCBpc0RvbmU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUFjdGlvblN1bW1hcnkgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCBpbnZvaWNlQ291bnQgPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudDtcclxuICAgICAgICBsZXQgZGF0ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlO1xyXG4gICAgICAgIGxldCBmb3JtYXR0ZWREYXRlID0gZm9ybWF0KGRhdGUsIFwiTU0tZGQteXl5eVwiKTtcclxuXHJcbiAgICAgICAgbGV0IGdlbmVyYXRlZFN1bW1hcnkgPSBQMlBUZW1wbGF0ZS5yZXBsYWNlKFwiPEFtb3VudD5cIiwgXCIkXCIgKyBmb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQodGhpcy5zdGF0ZS5hbW91bnQpKVxyXG4gICAgICAgICAgICAucmVwbGFjZShcIjxEYXRlPlwiLCBmb3JtYXR0ZWREYXRlKVxyXG4gICAgICAgICAgICAucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgKGludm9pY2VDb3VudCA9PT0gMCkgPyBcIlwiIDogaW52b2ljZUNvdW50ID09PSAxID8gXCJmb3IgXCIgKyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlXCIgOiBcImZvciBcIiArIGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkU3VtbWFyeTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IG1lc3NhZ2UgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzbWlzc0Ftb3VudENoYW5nZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zdCBhbW91bnRUZXh0RmllbGRMZW5ndGggPSBjdXN0b21DdXJyZW5jeUZvcm1hdHRlcih0aGlzLnN0YXRlLmFtb3VudCkubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFtb3VudDogY3VycmVudFN0YXRlLnByZXZBbW91bnQsXHJcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzRWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhbW91bnRUZXh0RmllbGRXaWR0aDogYW1vdW50VGV4dEZpZWxkTGVuZ3RoICogNC41LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCkuYmx1cigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5QaWNrZXIgPSBlID0+IHtcclxuICAgICAgICB0aGlzLnBpY2tlci5vcGVuKGUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB1cGRhdGVTdW1tYXJ5ID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBsZXQgaW52b2ljZUNvdW50ID0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQ7XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXREYXRlV2l0aFRpbWV6b25lKG5ldyBEYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlKSwgXCItMDY6MDBcIik7XHJcbiAgICAgICAgbGV0IHVwZGF0ZWRTdW1tYXJ5ID0gUDJQX09SSUdfVEVNUExBVEUucmVwbGFjZShcIjxBbW91bnQ+XCIsIHRoaXMuc3RhdGUuYW1vdW50ID8gdGhpcy5zdGF0ZS5hbW91bnQgOiBcIjxhbW91bnQtb2YtbW9uZXk+XCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPERhdGU+XCIsIGZvcm1hdHRlZERhdGUpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCAoaW52b2ljZUNvdW50ID09PSAwKSA/IFwiPFggaW52b2ljZXM+XCIgOlxyXG4gICAgICAgICAgICAgICAgaW52b2ljZUNvdW50ID09PSAxID8gaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZVwiIDogaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIik7XHJcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHNhdmVJbnZvaWNlQW1vdW50Q2hhbmdlID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBhbW91bnRUZXh0RmllbGRMZW5ndGggPSBjdXN0b21DdXJyZW5jeUZvcm1hdHRlcih0aGlzLnN0YXRlLmFtb3VudCkubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICBwcmV2QW1vdW50OiB0aGlzLnN0YXRlLmFtb3VudCwgXHJcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSwgXHJcbiAgICAgICAgICAgICAgICBpc0VkaXRpbmc6IGZhbHNlLCBcclxuICAgICAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBhbW91bnRUZXh0RmllbGRMZW5ndGggKiA0LjUsXHJcbiAgICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgICAoKSA9PiB7IHRoaXMudXBkYXRlU3VtbWFyeSgpO30gXHJcbiAgICAgICAgKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCkuYmx1cigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogdHJ1ZSB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQW5kRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGVsZXRlQWN0aW9uKHRoaXMuc3RhdGUuYWN0aW9uSWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVdhcm5pbmdEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVFZGl0aW5nID0gKGUpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVhZE9ubHk6IGZhbHNlLCBpc0VkaXRpbmc6IHRydWUgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCkuZm9jdXMoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGF0ZUNoYW5nZSA9IGRhdGUgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZERhdGU6IGRhdGUgfSwgKCkgPT4geyB0aGlzLnVwZGF0ZVN1bW1hcnkoKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRlRmllbGRWYWx1ZSA9ICgpID0+IHtcclxuICAgICAgICBsZXQgaWQgPSBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkO1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgRm9ybWF0dGVkQ3VycmVuY3lJbnB1dCA9IChwcm9wcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgaW5wdXRSZWYsIG9uQ2hhbmdlLCAuLi5vdGhlciB9ID0gcHJvcHM7XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8TnVtYmVyRm9ybWF0XHJcbiAgICAgICAgICAgICAgICB7Li4ub3RoZXJ9XHJcbiAgICAgICAgICAgICAgICBnZXRJbnB1dFJlZj17aW5wdXRSZWZ9XHJcbiAgICAgICAgICAgICAgICBvblZhbHVlQ2hhbmdlPXt2YWx1ZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGZvcm1hdD17KGFyZ3MpID0+IGN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyKHRoaXMuc3RhdGUuYW1vdW50LCBcIiRcIil9XHJcbiAgICAgICAgICAgICAgICBkZWNpbWFsU2NhbGU9ezh9XHJcbiAgICAgICAgICAgICAgICBhbGxvd05lZ2F0aXZlPXtmYWxzZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGNsYXNzZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgc3VtbWFyeSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCB7IGZ1bGxTY3JlZW4gfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZVNhbXBsZX0+XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMH0gbWQ9ezEwfSBsZz17MTB9IGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cImZsZXgtc3RhcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjNyZW1cIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3Rpb25TYXZlUHJvZ3Jlc3NCYXIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjdWxhclByb2dyZXNzIGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb25Qcm9ncmVzc0Jhcn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERvbmUgc3R5bGU9e3sgY29sb3I6IFwiIzVGQzMyQ1wiICwgcGFkZGluZ0xlZnQgOiBcIjAuNXJlbVwiLCBwYWRkaW5nUmlnaHQgOiBcIjAuNXJlbVwiLCBoZWlnaHQgOiBcIjEuNXJlbVwiLCB3aWR0aCA6IFwiMS41cmVtXCIgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezExfSBtZD17MTF9IGxnPXsxMX0gY29udGFpbmVyIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwiZmxleC1zdGFydFwiPiBcclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0RvbmUgJiYgPFR5cG9ncmFwaHkgc3R5bGU9e3sgIG9wYWNpdHkgOiAxLCAgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fT5DcmVhdGVkICZuYnNwOzwvVHlwb2dyYXBoeT59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5pc0RvbmUgJiYgPFR5cG9ncmFwaHkgc3R5bGU9e3sgb3BhY2l0eSA6IDEsICB9fSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9ID5DcmVhdGUgJm5ic3A7PC9UeXBvZ3JhcGh5Pn1cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgZm9udFdlaWdodDogXCJib2xkXCIsIG9wYWNpdHkgOiAxLCAgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fSA+UDJQICZuYnNwOzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fSA+b2YgJm5ic3A7PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBzdHlsZT17eyBtaW5XaWR0aDogdGhpcy5zdGF0ZS5pc0VkaXRpbmcgPyBcIjdyZW1cIiA6IHRoaXMuc3RhdGUuYW1vdW50VGV4dEZpZWxkV2lkdGggLCB3aWR0aDogdGhpcy5zdGF0ZS5pc0VkaXRpbmcgPyBcIjdyZW1cIiA6IHRoaXMuc3RhdGUuYW1vdW50VGV4dEZpZWxkV2lkdGgsIG1heFdpZHRoOiBcIjlyZW1cIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e1wiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy50ZXh0RmllbGR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hbW91bnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHRoaXMuaGFuZGxlSW52b2ljZUN1cnJlbmN5Q2hhbmdlKGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPVwibm9ybWFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9XCJub3JtYWxcIlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gY2xhc3Nlcy50ZXN0SW5pdGlhbCA6IGNsYXNzZXMudGVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogQm9vbGVhbih0aGlzLnN0YXRlLnJlYWRPbmx5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRoaXMuc3RhdGUucmVhZE9ubHkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Q29tcG9uZW50OiB0aGlzLnN0YXRlLmlzRWRpdGluZyA/IE51bWJlckZvcm1hdEN1c3RvbSA6IHRoaXMuRm9ybWF0dGVkQ3VycmVuY3lJbnB1dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Qm9yZGVyQ29sb3IgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmFjdGlvbkljb259IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpbkxlZnQ6IFwiNnB4XCIgfX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVFZGl0aW5nfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0VkaXRpbmcgJiYgIXRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIaWdobGlnaHRPZmYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpbkxlZnQ6IFwiMC40cmVtXCIsIGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiLCB9fSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXshdGhpcy5zdGF0ZS5wcmV2QW1vdW50ID8gY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0biA6IFwiXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyF0aGlzLnN0YXRlLnByZXZBbW91bnQgPyBlbXB0eUZ1bmN0aW9uIDogdGhpcy5kaXNtaXNzQW1vdW50Q2hhbmdlc30gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogXCIjNUZDMzJDXCIsIH19IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0biA6IFwiXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gZW1wdHlGdW5jdGlvbiA6IHRoaXMuc2F2ZUludm9pY2VBbW91bnRDaGFuZ2V9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9ID4mbmJzcDsgd2l0aCBkdWUgZGF0ZSBvZiAmbmJzcDs8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+IHt0aGlzLnN0YXRlLmlzRG9uZSAmJiA8VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gfX0+e3RoaXMuc3RhdGUuZmluYWxTZWxlY3RlZERhdGV9PC9UeXBvZ3JhcGh5Pn08L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgbWF4V2lkdGg6IFwiOGVtXCIgfX0+eyF0aGlzLnN0YXRlLmlzRG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIgdXRpbHM9e0RhdGVGbnNVdGlsc30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TXVpVGhlbWVQcm92aWRlciB0aGVtZT17bWF0ZXJpYWxUaGVtZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWF4V2lkdGg6IFwiNS4zNXJlbVwiLCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbD17Qm9vbGVhbihmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdD1cIk1NTSBkZCwgeXl5eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRhdGVNZXNzYWdlPVwiUHJldmlvdXMgZGF0ZSBub3QgYWNjZXB0YWJsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogQm9vbGVhbih0cnVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IEJvb2xlYW4odHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtub2RlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGlja2VyID0gbm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2VsZWN0ZWREYXRlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVEYXRlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbkNsaWNrPXtlID0+IGUucHJldmVudERlZmF1bHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGF0ZT17bmV3IERhdGUoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEYXRlUmFuZ2UgY2xhc3NOYW1lPXtjbGFzc2VzLmFjdGlvbkljb259IG9uQ2xpY2s9e3RoaXMub3BlblBpY2tlcn0gLz48L011aVRoZW1lUHJvdmlkZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwibGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgIT09IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGRpc3BsYXk6IFwiZmxleFwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5ICBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiA8c3Bhbj4mbmJzcDs8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG93YXJkcyZuYnNwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgZm9udFdlaWdodDogJ2JvbGQnIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0gb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVFeHBhbmR9ID57dGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgKyBcIiBJbnZvaWNlXCIgKyAodGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgPiAxID8gXCJzXCIgOiBcIlwiKX08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyAmJiA8RXJyb3IgY2xhc3NOYW1lPXtjbGFzc2VzLmVycm9yRmxhZ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tRGlhbG9nIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuQWN0aW9uU2F2ZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZ30gdGl0bGU9e2Rpc2NhcmRNZXNzYWdlfSBhY3Rpb25zPXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFs8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nfSBjb2xvcj1cInNlY29uZGFyeVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlzYWdyZWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nfSBjb2xvcj1cInByaW1hcnlcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5dXHJcbiAgICAgICAgICAgICAgICAgICAgfSAvPlxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbURpYWxvZyBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbldhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9IHRpdGxlPXtyZXNvbHZlTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlV2FybmluZ0RpYWxvZ30gY29sb3I9XCJzZWNvbmRhcnlcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPl1cclxuICAgICAgICAgICAgICAgICAgICB9IC8+XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tRGlhbG9nIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuSW52YWxpZERhdGFOb3RpZmllcn1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlSW52YWxpZERhdGFOb3RpZmllcn0gdGl0bGU9e3RoaXMuc3RhdGUuaW52YWxpZERhdGFOb3RpZmllck1lc3NhZ2V9IGFjdGlvbnM9e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgWzxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUludmFsaWREYXRhTm90aWZpZXJ9IGNvbG9yPVwic2Vjb25kYXJ5XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5dXHJcbiAgICAgICAgICAgICAgICAgICAgfSAvPlxyXG4gICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17Mn0gbWQ9ezJ9IGxnPXsyfT5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhpZ2hsaWdodE9mZiBzdHlsZT17eyBjb2xvcjogXCIjRkY4ODg4XCIsIHBhZGRpbmc6IFwiMCAxLjNyZW0gMCAwLjhyZW1cIiB9fSBvbkNsaWNrPXt0aGlzLm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlT3V0bGluZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIiM1RkMzMkNcIiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5jaGVja0ludmFsaWRhdGlvbigpID8gXCJcIiA6IGNsYXNzZXMuZGlzYWJsZURvbmVCdG59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jaGVja0ludmFsaWRhdGlvbigpID8gdGhpcy5zYXZlUDJQIDogZW1wdHlGdW5jdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE51bWJlckZvcm1hdEN1c3RvbShwcm9wcykge1xyXG4gICAgY29uc3QgeyBpbnB1dFJlZiwgb25DaGFuZ2UsIC4uLm90aGVyIH0gPSBwcm9wcztcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxOdW1iZXJGb3JtYXRcclxuICAgICAgICAgICAgey4uLm90aGVyfVxyXG4gICAgICAgICAgICBnZXRJbnB1dFJlZj17aW5wdXRSZWZ9XHJcbiAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U9e3ZhbHVlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXMudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvclxyXG4gICAgICAgICAgICBwcmVmaXg9XCIkXCJcclxuICAgICAgICAgICAgYWxsb3dOZWdhdGl2ZT17ZmFsc2V9XHJcbiAgICAgICAgICAgIGRlY2ltYWxTY2FsZT17OH1cclxuICAgICAgICAvPlxyXG4gICAgKTtcclxufVxyXG5cclxuTnVtYmVyRm9ybWF0Q3VzdG9tLnByb3BUeXBlcyA9IHtcclxuICAgIGlucHV0UmVmOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5QMlAucHJvcFR5cGVzID0ge1xyXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFAyUClcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9QMlAuanMiLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qc1xuLy8gbW9kdWxlIGlkID0gNjA5M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoXCJyZWFjdFwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJyZWFjdFwiXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLnJlYWN0VGV4dE1hc2s9dChyZXF1aXJlKFwicmVhY3RcIikpOmUucmVhY3RUZXh0TWFzaz10KGUuUmVhY3QpfSh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4pe2lmKHJbbl0pcmV0dXJuIHJbbl0uZXhwb3J0czt2YXIgbz1yW25dPXtleHBvcnRzOnt9LGlkOm4sbG9hZGVkOiExfTtyZXR1cm4gZVtuXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyx0KSxvLmxvYWRlZD0hMCxvLmV4cG9ydHN9dmFyIHI9e307cmV0dXJuIHQubT1lLHQuYz1yLHQucD1cIlwiLHQoMCl9KFtmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbyhlLHQpe3ZhciByPXt9O2Zvcih2YXIgbiBpbiBlKXQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJihyW25dPWVbbl0pO3JldHVybiByfWZ1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiB1KGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jb25mb3JtVG9NYXNrPXZvaWQgMDt2YXIgbD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksZj1yKDIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiY29uZm9ybVRvTWFza1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGYpLmRlZmF1bHR9fSk7dmFyIGM9cigxMSkscD1uKGMpLGQ9cig5KSxoPW4oZCksdj1yKDUpLHk9bih2KSxtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZTtpKHRoaXMsdCk7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShyKSxvPTA7bzxyO28rKyluW29dPWFyZ3VtZW50c1tvXTt2YXIgdT1hKHRoaXMsKGU9dC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobikpKTtyZXR1cm4gdS5vbkJsdXI9dS5vbkJsdXIuYmluZCh1KSx1Lm9uQ2hhbmdlPXUub25DaGFuZ2UuYmluZCh1KSx1fXJldHVybiB1KHQsZSkscyh0LFt7a2V5OlwiaW5pdFRleHRNYXNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9dGhpcy5wcm9wcy52YWx1ZTt0aGlzLnRleHRNYXNrSW5wdXRFbGVtZW50PSgwLHkuZGVmYXVsdCkobCh7aW5wdXRFbGVtZW50OnRoaXMuaW5wdXRFbGVtZW50fSxlKSksdGhpcy50ZXh0TWFza0lucHV0RWxlbWVudC51cGRhdGUodCl9fSx7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5pdFRleHRNYXNrKCl9fSx7a2V5OlwiY29tcG9uZW50RGlkVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmluaXRUZXh0TWFzaygpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uIGUoKXt2YXIgdD10aGlzLHI9dGhpcy5wcm9wcyxlPXIucmVuZGVyLG49byhyLFtcInJlbmRlclwiXSk7ZGVsZXRlIG4ubWFzayxkZWxldGUgbi5ndWlkZSxkZWxldGUgbi5waXBlLGRlbGV0ZSBuLnBsYWNlaG9sZGVyQ2hhcixkZWxldGUgbi5rZWVwQ2hhclBvc2l0aW9ucyxkZWxldGUgbi52YWx1ZSxkZWxldGUgbi5vbkJsdXIsZGVsZXRlIG4ub25DaGFuZ2UsZGVsZXRlIG4uc2hvd01hc2s7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5wdXRFbGVtZW50PWV9O3JldHVybiBlKGksbCh7b25CbHVyOnRoaXMub25CbHVyLG9uQ2hhbmdlOnRoaXMub25DaGFuZ2UsZGVmYXVsdFZhbHVlOnRoaXMucHJvcHMudmFsdWV9LG4pKX19LHtrZXk6XCJvbkNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGV4dE1hc2tJbnB1dEVsZW1lbnQudXBkYXRlKCksXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5wcm9wcy5vbkNoYW5nZSYmdGhpcy5wcm9wcy5vbkNoYW5nZShlKX19LHtrZXk6XCJvbkJsdXJcIix2YWx1ZTpmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnByb3BzLm9uQmx1ciYmdGhpcy5wcm9wcy5vbkJsdXIoZSl9fV0pLHR9KHAuZGVmYXVsdC5Db21wb25lbnQpO3QuZGVmYXVsdD1tLG0ucHJvcFR5cGVzPXttYXNrOmguZGVmYXVsdC5vbmVPZlR5cGUoW2guZGVmYXVsdC5hcnJheSxoLmRlZmF1bHQuZnVuYyxoLmRlZmF1bHQuYm9vbCxoLmRlZmF1bHQuc2hhcGUoe21hc2s6aC5kZWZhdWx0Lm9uZU9mVHlwZShbaC5kZWZhdWx0LmFycmF5LGguZGVmYXVsdC5mdW5jXSkscGlwZTpoLmRlZmF1bHQuZnVuY30pXSkuaXNSZXF1aXJlZCxndWlkZTpoLmRlZmF1bHQuYm9vbCx2YWx1ZTpoLmRlZmF1bHQub25lT2ZUeXBlKFtoLmRlZmF1bHQuc3RyaW5nLGguZGVmYXVsdC5udW1iZXJdKSxwaXBlOmguZGVmYXVsdC5mdW5jLHBsYWNlaG9sZGVyQ2hhcjpoLmRlZmF1bHQuc3RyaW5nLGtlZXBDaGFyUG9zaXRpb25zOmguZGVmYXVsdC5ib29sLHNob3dNYXNrOmguZGVmYXVsdC5ib29sfSxtLmRlZmF1bHRQcm9wcz17cmVuZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIixsKHtyZWY6ZX0sdCkpfX19LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5wbGFjZWhvbGRlckNoYXI9XCJfXCIsdC5zdHJGdW5jdGlvbj1cImZ1bmN0aW9uXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOmwsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtpZighKDAsaS5pc0FycmF5KSh0KSl7aWYoKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6byh0KSkhPT1hLnN0ckZ1bmN0aW9uKXRocm93IG5ldyBFcnJvcihcIlRleHQtbWFzazpjb25mb3JtVG9NYXNrOyBUaGUgbWFzayBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5LlwiKTt0PXQoZSxyKSx0PSgwLGkucHJvY2Vzc0NhcmV0VHJhcHMpKHQpLm1hc2tXaXRob3V0Q2FyZXRUcmFwc312YXIgbj1yLmd1aWRlLHM9dm9pZCAwPT09bnx8bixmPXIucHJldmlvdXNDb25mb3JtZWRWYWx1ZSxjPXZvaWQgMD09PWY/bDpmLHA9ci5wbGFjZWhvbGRlckNoYXIsZD12b2lkIDA9PT1wP2EucGxhY2Vob2xkZXJDaGFyOnAsaD1yLnBsYWNlaG9sZGVyLHY9dm9pZCAwPT09aD8oMCxpLmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcikodCxkKTpoLHk9ci5jdXJyZW50Q2FyZXRQb3NpdGlvbixtPXIua2VlcENoYXJQb3NpdGlvbnMsYj1zPT09ITEmJnZvaWQgMCE9PWMsZz1lLmxlbmd0aCxrPWMubGVuZ3RoLEM9di5sZW5ndGgsTz10Lmxlbmd0aCxUPWctayxQPVQ+MCx4PXkrKFA/LVQ6MCksdz14K01hdGguYWJzKFQpO2lmKG09PT0hMCYmIVApe2Zvcih2YXIgXz1sLE09eDtNPHc7TSsrKXZbTV09PT1kJiYoXys9ZCk7ZT1lLnNsaWNlKDAseCkrXytlLnNsaWNlKHgsZyl9Zm9yKHZhciBTPWUuc3BsaXQobCkubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJue2NoYXI6ZSxpc05ldzp0Pj14JiZ0PHd9fSksaj1nLTE7aj49MDtqLS0pe3ZhciBFPVNbal0uY2hhcjtpZihFIT09ZCl7dmFyIFI9aj49eCYmaz09PU87RT09PXZbUj9qLVQ6al0mJlMuc3BsaWNlKGosMSl9fXZhciBWPWwsQT0hMTtlOmZvcih2YXIgTj0wO048QztOKyspe3ZhciBCPXZbTl07aWYoQj09PWQpe2lmKFMubGVuZ3RoPjApZm9yKDtTLmxlbmd0aD4wOyl7dmFyIEk9Uy5zaGlmdCgpLEY9SS5jaGFyLHE9SS5pc05ldztpZihGPT09ZCYmYiE9PSEwKXtWKz1kO2NvbnRpbnVlIGV9aWYodFtOXS50ZXN0KEYpKXtpZihtPT09ITAmJnEhPT0hMSYmYyE9PWwmJnMhPT0hMSYmUCl7Zm9yKHZhciBEPVMubGVuZ3RoLEw9bnVsbCxXPTA7VzxEO1crKyl7dmFyIEo9U1tXXTtpZihKLmNoYXIhPT1kJiZKLmlzTmV3PT09ITEpYnJlYWs7aWYoSi5jaGFyPT09ZCl7TD1XO2JyZWFrfX1udWxsIT09TD8oVis9RixTLnNwbGljZShMLDEpKTpOLS19ZWxzZSBWKz1GO2NvbnRpbnVlIGV9QT0hMH1iPT09ITEmJihWKz12LnN1YnN0cihOLEMpKTticmVha31WKz1CfWlmKGImJlA9PT0hMSl7Zm9yKHZhciBVPW51bGwsSD0wO0g8Vi5sZW5ndGg7SCsrKXZbSF09PT1kJiYoVT1IKTtWPW51bGwhPT1VP1Yuc3Vic3RyKDAsVSsxKTpsfXJldHVybntjb25mb3JtZWRWYWx1ZTpWLG1ldGE6e3NvbWVDaGFyc1JlamVjdGVkOkF9fX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTt0LmRlZmF1bHQ9bjt2YXIgaT1yKDMpLGE9cigxKSx1PVtdLGw9XCJcIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06cyx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpsLnBsYWNlaG9sZGVyQ2hhcjtpZighbyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJUZXh0LW1hc2s6Y29udmVydE1hc2tUb1BsYWNlaG9sZGVyOyBUaGUgbWFzayBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5LlwiKTtpZihlLmluZGV4T2YodCkhPT0tMSl0aHJvdyBuZXcgRXJyb3IoXCJQbGFjZWhvbGRlciBjaGFyYWN0ZXIgbXVzdCBub3QgYmUgdXNlZCBhcyBwYXJ0IG9mIHRoZSBtYXNrLiBQbGVhc2Ugc3BlY2lmeSBhIGNoYXJhY3RlciB0aGF0IGlzIG5vdCBwcmVzZW50IGluIHlvdXIgbWFzayBhcyB5b3VyIHBsYWNlaG9sZGVyIGNoYXJhY3Rlci5cXG5cXG5cIisoXCJUaGUgcGxhY2Vob2xkZXIgY2hhcmFjdGVyIHRoYXQgd2FzIHJlY2VpdmVkIGlzOiBcIitKU09OLnN0cmluZ2lmeSh0KStcIlxcblxcblwiKSsoXCJUaGUgbWFzayB0aGF0IHdhcyByZWNlaXZlZCBpczogXCIrSlNPTi5zdHJpbmdpZnkoZSkpKTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBSZWdFeHA/dDplfSkuam9pbihcIlwiKX1mdW5jdGlvbiBvKGUpe3JldHVybiBBcnJheS5pc0FycmF5JiZBcnJheS5pc0FycmF5KGUpfHxlIGluc3RhbmNlb2YgQXJyYXl9ZnVuY3Rpb24gaShlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZ31mdW5jdGlvbiBhKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZ2b2lkIDA9PT1lLmxlbmd0aCYmIWlzTmFOKGUpfWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PVtdLHI9dm9pZCAwO3I9ZS5pbmRleE9mKGYpLHIhPT0tMTspdC5wdXNoKHIpLGUuc3BsaWNlKHIsMSk7cmV0dXJue21hc2tXaXRob3V0Q2FyZXRUcmFwczplLGluZGV4ZXM6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXI9bix0LmlzQXJyYXk9byx0LmlzU3RyaW5nPWksdC5pc051bWJlcj1hLHQucHJvY2Vzc0NhcmV0VHJhcHM9dTt2YXIgbD1yKDEpLHM9W10sZj1cIltdXCJ9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXt2YXIgdD1lLnByZXZpb3VzQ29uZm9ybWVkVmFsdWUscj12b2lkIDA9PT10P286dCxpPWUucHJldmlvdXNQbGFjZWhvbGRlcixhPXZvaWQgMD09PWk/bzppLHU9ZS5jdXJyZW50Q2FyZXRQb3NpdGlvbixsPXZvaWQgMD09PXU/MDp1LHM9ZS5jb25mb3JtZWRWYWx1ZSxmPWUucmF3VmFsdWUsYz1lLnBsYWNlaG9sZGVyQ2hhcixwPWUucGxhY2Vob2xkZXIsZD1lLmluZGV4ZXNPZlBpcGVkQ2hhcnMsaD12b2lkIDA9PT1kP246ZCx2PWUuY2FyZXRUcmFwSW5kZXhlcyx5PXZvaWQgMD09PXY/bjp2O2lmKDA9PT1sfHwhZi5sZW5ndGgpcmV0dXJuIDA7dmFyIG09Zi5sZW5ndGgsYj1yLmxlbmd0aCxnPXAubGVuZ3RoLGs9cy5sZW5ndGgsQz1tLWIsTz1DPjAsVD0wPT09YixQPUM+MSYmIU8mJiFUO2lmKFApcmV0dXJuIGw7dmFyIHg9TyYmKHI9PT1zfHxzPT09cCksdz0wLF89dm9pZCAwLE09dm9pZCAwO2lmKHgpdz1sLUM7ZWxzZXt2YXIgUz1zLnRvTG93ZXJDYXNlKCksaj1mLnRvTG93ZXJDYXNlKCksRT1qLnN1YnN0cigwLGwpLnNwbGl0KG8pLFI9RS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFMuaW5kZXhPZihlKSE9PS0xfSk7TT1SW1IubGVuZ3RoLTFdO3ZhciBWPWEuc3Vic3RyKDAsUi5sZW5ndGgpLnNwbGl0KG8pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWN9KS5sZW5ndGgsQT1wLnN1YnN0cigwLFIubGVuZ3RoKS5zcGxpdChvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1jfSkubGVuZ3RoLE49QSE9PVYsQj12b2lkIDAhPT1hW1IubGVuZ3RoLTFdJiZ2b2lkIDAhPT1wW1IubGVuZ3RoLTJdJiZhW1IubGVuZ3RoLTFdIT09YyYmYVtSLmxlbmd0aC0xXSE9PXBbUi5sZW5ndGgtMV0mJmFbUi5sZW5ndGgtMV09PT1wW1IubGVuZ3RoLTJdOyFPJiYoTnx8QikmJlY+MCYmcC5pbmRleE9mKE0pPi0xJiZ2b2lkIDAhPT1mW2xdJiYoXz0hMCxNPWZbbF0pO2Zvcih2YXIgST1oLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gU1tlXX0pLEY9SS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1NfSkubGVuZ3RoLHE9Ui5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1NfSkubGVuZ3RoLEQ9cC5zdWJzdHIoMCxwLmluZGV4T2YoYykpLnNwbGl0KG8pLmZpbHRlcihmdW5jdGlvbihlLHQpe3JldHVybiBlPT09TSYmZlt0XSE9PWV9KS5sZW5ndGgsTD1EK3ErRisoXz8xOjApLFc9MCxKPTA7SjxrO0orKyl7dmFyIFU9U1tKXTtpZih3PUorMSxVPT09TSYmVysrLFc+PUwpYnJlYWt9fWlmKE8pe2Zvcih2YXIgSD13LFk9dztZPD1nO1krKylpZihwW1ldPT09YyYmKEg9WSkscFtZXT09PWN8fHkuaW5kZXhPZihZKSE9PS0xfHxZPT09ZylyZXR1cm4gSH1lbHNlIGlmKF8pe2Zvcih2YXIgej13LTE7ej49MDt6LS0paWYoc1t6XT09PU18fHkuaW5kZXhPZih6KSE9PS0xfHwwPT09eilyZXR1cm4gen1lbHNlIGZvcih2YXIgRz13O0c+PTA7Ry0tKWlmKHBbRy0xXT09PWN8fHkuaW5kZXhPZihHKSE9PS0xfHwwPT09RylyZXR1cm4gR31PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9cjt2YXIgbj1bXSxvPVwiXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBvKGUpe3ZhciB0PXtwcmV2aW91c0NvbmZvcm1lZFZhbHVlOnZvaWQgMCxwcmV2aW91c1BsYWNlaG9sZGVyOnZvaWQgMH07cmV0dXJue3N0YXRlOnQsdXBkYXRlOmZ1bmN0aW9uKHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTplLG89bi5pbnB1dEVsZW1lbnQscz1uLm1hc2ssYz1uLmd1aWRlLHk9bi5waXBlLGI9bi5wbGFjZWhvbGRlckNoYXIsZz12b2lkIDA9PT1iP2gucGxhY2Vob2xkZXJDaGFyOmIsaz1uLmtlZXBDaGFyUG9zaXRpb25zLEM9dm9pZCAwIT09ayYmayxPPW4uc2hvd01hc2ssVD12b2lkIDAhPT1PJiZPO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiByJiYocj1vLnZhbHVlKSxyIT09dC5wcmV2aW91c0NvbmZvcm1lZFZhbHVlKXsoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHM/XCJ1bmRlZmluZWRcIjpsKHMpKT09PW0mJnZvaWQgMCE9PXMucGlwZSYmdm9pZCAwIT09cy5tYXNrJiYoeT1zLnBpcGUscz1zLm1hc2spO3ZhciBQPXZvaWQgMCx4PXZvaWQgMDtpZihzIGluc3RhbmNlb2YgQXJyYXkmJihQPSgwLGQuY29udmVydE1hc2tUb1BsYWNlaG9sZGVyKShzLGcpKSxzIT09ITEpe3ZhciB3PWEociksXz1vLnNlbGVjdGlvbkVuZCxNPXQucHJldmlvdXNDb25mb3JtZWRWYWx1ZSxTPXQucHJldmlvdXNQbGFjZWhvbGRlcixqPXZvaWQgMDtpZigoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHM/XCJ1bmRlZmluZWRcIjpsKHMpKT09PWguc3RyRnVuY3Rpb24pe2lmKHg9cyh3LHtjdXJyZW50Q2FyZXRQb3NpdGlvbjpfLHByZXZpb3VzQ29uZm9ybWVkVmFsdWU6TSxwbGFjZWhvbGRlckNoYXI6Z30pLHg9PT0hMSlyZXR1cm47dmFyIEU9KDAsZC5wcm9jZXNzQ2FyZXRUcmFwcykoeCksUj1FLm1hc2tXaXRob3V0Q2FyZXRUcmFwcyxWPUUuaW5kZXhlczt4PVIsaj1WLFA9KDAsZC5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXIpKHgsZyl9ZWxzZSB4PXM7dmFyIEE9e3ByZXZpb3VzQ29uZm9ybWVkVmFsdWU6TSxndWlkZTpjLHBsYWNlaG9sZGVyQ2hhcjpnLHBpcGU6eSxwbGFjZWhvbGRlcjpQLGN1cnJlbnRDYXJldFBvc2l0aW9uOl8sa2VlcENoYXJQb3NpdGlvbnM6Q30sTj0oMCxwLmRlZmF1bHQpKHcseCxBKSxCPU4uY29uZm9ybWVkVmFsdWUsST0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHk/XCJ1bmRlZmluZWRcIjpsKHkpKT09PWguc3RyRnVuY3Rpb24sRj17fTtJJiYoRj15KEIsdSh7cmF3VmFsdWU6d30sQSkpLEY9PT0hMT9GPXt2YWx1ZTpNLHJlamVjdGVkOiEwfTooMCxkLmlzU3RyaW5nKShGKSYmKEY9e3ZhbHVlOkZ9KSk7dmFyIHE9ST9GLnZhbHVlOkIsRD0oMCxmLmRlZmF1bHQpKHtwcmV2aW91c0NvbmZvcm1lZFZhbHVlOk0scHJldmlvdXNQbGFjZWhvbGRlcjpTLGNvbmZvcm1lZFZhbHVlOnEscGxhY2Vob2xkZXI6UCxyYXdWYWx1ZTp3LGN1cnJlbnRDYXJldFBvc2l0aW9uOl8scGxhY2Vob2xkZXJDaGFyOmcsaW5kZXhlc09mUGlwZWRDaGFyczpGLmluZGV4ZXNPZlBpcGVkQ2hhcnMsY2FyZXRUcmFwSW5kZXhlczpqfSksTD1xPT09UCYmMD09PUQsVz1UP1A6dixKPUw/VzpxO3QucHJldmlvdXNDb25mb3JtZWRWYWx1ZT1KLHQucHJldmlvdXNQbGFjZWhvbGRlcj1QLG8udmFsdWUhPT1KJiYoby52YWx1ZT1KLGkobyxEKSl9fX19fWZ1bmN0aW9uIGkoZSx0KXtkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZSYmKGI/ZyhmdW5jdGlvbigpe3JldHVybiBlLnNldFNlbGVjdGlvblJhbmdlKHQsdCx5KX0sMCk6ZS5zZXRTZWxlY3Rpb25SYW5nZSh0LHQseSkpfWZ1bmN0aW9uIGEoZSl7aWYoKDAsZC5pc1N0cmluZykoZSkpcmV0dXJuIGU7aWYoKDAsZC5pc051bWJlcikoZSkpcmV0dXJuIFN0cmluZyhlKTtpZih2b2lkIDA9PT1lfHxudWxsPT09ZSlyZXR1cm4gdjt0aHJvdyBuZXcgRXJyb3IoXCJUaGUgJ3ZhbHVlJyBwcm92aWRlZCB0byBUZXh0IE1hc2sgbmVlZHMgdG8gYmUgYSBzdHJpbmcgb3IgYSBudW1iZXIuIFRoZSB2YWx1ZSByZWNlaXZlZCB3YXM6XFxuXFxuIFwiK0pTT04uc3RyaW5naWZ5KGUpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1vO3ZhciBzPXIoNCksZj1uKHMpLGM9cigyKSxwPW4oYyksZD1yKDMpLGg9cigxKSx2PVwiXCIseT1cIm5vbmVcIixtPVwib2JqZWN0XCIsYj1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvQW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZz1cInVuZGVmaW5lZFwiIT10eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lP3JlcXVlc3RBbmltYXRpb25GcmFtZTpzZXRUaW1lb3V0fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fXZhciBuPWZ1bmN0aW9uKCl7fTtuLnRoYXRSZXR1cm5zPXIsbi50aGF0UmV0dXJuc0ZhbHNlPXIoITEpLG4udGhhdFJldHVybnNUcnVlPXIoITApLG4udGhhdFJldHVybnNOdWxsPXIobnVsbCksbi50aGF0UmV0dXJuc1RoaXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbi50aGF0UmV0dXJuc0FyZ3VtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlfSxlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LHIsbixpLGEsdSxsKXtpZihvKHQpLCFlKXt2YXIgcztpZih2b2lkIDA9PT10KXM9bmV3IEVycm9yKFwiTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7ZWxzZXt2YXIgZj1bcixuLGksYSx1LGxdLGM9MDtzPW5ldyBFcnJvcih0LnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gZltjKytdfSkpLHMubmFtZT1cIkludmFyaWFudCBWaW9sYXRpb25cIn10aHJvdyBzLmZyYW1lc1RvUG9wPTEsc319dmFyIG89ZnVuY3Rpb24oZSl7fTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoNiksbz1yKDcpLGk9cigxMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixuLGEsdSl7dSE9PWkmJm8oITEsXCJDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiBVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiBSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzXCIpfWZ1bmN0aW9uIHQoKXtyZXR1cm4gZX1lLmlzUmVxdWlyZWQ9ZTt2YXIgcj17YXJyYXk6ZSxib29sOmUsZnVuYzplLG51bWJlcjplLG9iamVjdDplLHN0cmluZzplLHN5bWJvbDplLGFueTplLGFycmF5T2Y6dCxlbGVtZW50OmUsaW5zdGFuY2VPZjp0LG5vZGU6ZSxvYmplY3RPZjp0LG9uZU9mOnQsb25lT2ZUeXBlOnQsc2hhcGU6dCxleGFjdDp0fTtyZXR1cm4gci5jaGVja1Byb3BUeXBlcz1uLHIuUHJvcFR5cGVzPXIscn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxlLmV4cG9ydHM9cig4KSgpfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciByPVwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIjtlLmV4cG9ydHM9cn0sZnVuY3Rpb24odCxyKXt0LmV4cG9ydHM9ZX1dKX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRleHQtbWFzay9kaXN0L3JlYWN0VGV4dE1hc2suanNcbi8vIG1vZHVsZSBpZCA9IDYwOTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vQ1NTVHJhbnNpdGlvblwiKSk7XG5cbnZhciBfUmVwbGFjZVRyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1JlcGxhY2VUcmFuc2l0aW9uXCIpKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1RyYW5zaXRpb25Hcm91cFwiKSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvblwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUcmFuc2l0aW9uOiBfVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBUcmFuc2l0aW9uR3JvdXA6IF9UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdCxcbiAgUmVwbGFjZVRyYW5zaXRpb246IF9SZXBsYWNlVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBDU1NUcmFuc2l0aW9uOiBfQ1NTVHJhbnNpdGlvbi5kZWZhdWx0XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDYwOTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBQcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfYWRkQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9jbGFzcy9hZGRDbGFzc1wiKSk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvblwiKSk7XG5cbnZhciBfUHJvcFR5cGVzID0gcmVxdWlyZShcIi4vdXRpbHMvUHJvcFR5cGVzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbiBhZGRDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9hZGRDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9yZW1vdmVDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gX2V4dGVuZHMoe30sIF9UcmFuc2l0aW9uLmRlZmF1bHQucHJvcFR5cGVzLCB7XG4gIC8qKlxuICAgKiBUaGUgYW5pbWF0aW9uIGNsYXNzTmFtZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50IGFzIGl0IGVudGVycywgZXhpdHMgb3IgaGFzIGZpbmlzaGVkIHRoZSB0cmFuc2l0aW9uLlxuICAgKiBBIHNpbmdsZSBuYW1lIGNhbiBiZSBwcm92aWRlZCBhbmQgaXQgd2lsbCBiZSBzdWZmaXhlZCBmb3IgZWFjaCBzdGFnZTogZS5nLlxuICAgKlxuICAgKiBgY2xhc3NOYW1lcz1cImZhZGVcImAgYXBwbGllcyBgZmFkZS1lbnRlcmAsIGBmYWRlLWVudGVyLWFjdGl2ZWAsIGBmYWRlLWVudGVyLWRvbmVgLFxuICAgKiBgZmFkZS1leGl0YCwgYGZhZGUtZXhpdC1hY3RpdmVgLCBgZmFkZS1leGl0LWRvbmVgLCBgZmFkZS1hcHBlYXJgLCBhbmQgYGZhZGUtYXBwZWFyLWFjdGl2ZWAuXG4gICAqIEVhY2ggaW5kaXZpZHVhbCBjbGFzc05hbWVzIGNhbiBhbHNvIGJlIHNwZWNpZmllZCBpbmRlcGVuZGVudGx5IGxpa2U6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3tcbiAgICogIGFwcGVhcjogJ215LWFwcGVhcicsXG4gICAqICBhcHBlYXJBY3RpdmU6ICdteS1hY3RpdmUtYXBwZWFyJyxcbiAgICogIGVudGVyOiAnbXktZW50ZXInLFxuICAgKiAgZW50ZXJBY3RpdmU6ICdteS1hY3RpdmUtZW50ZXInLFxuICAgKiAgZW50ZXJEb25lOiAnbXktZG9uZS1lbnRlcicsXG4gICAqICBleGl0OiAnbXktZXhpdCcsXG4gICAqICBleGl0QWN0aXZlOiAnbXktYWN0aXZlLWV4aXQnLFxuICAgKiAgZXhpdERvbmU6ICdteS1kb25lLWV4aXQnLFxuICAgKiB9fVxuICAgKiBgYGBcbiAgICpcbiAgICogSWYgeW91IHdhbnQgdG8gc2V0IHRoZXNlIGNsYXNzZXMgdXNpbmcgQ1NTIE1vZHVsZXM6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuY3NzJztcbiAgICogYGBgXG4gICAqXG4gICAqIHlvdSBtaWdodCB3YW50IHRvIHVzZSBjYW1lbENhc2UgaW4geW91ciBDU1MgZmlsZSwgdGhhdCB3YXkgY291bGQgc2ltcGx5IHNwcmVhZFxuICAgKiB0aGVtIGluc3RlYWQgb2YgbGlzdGluZyB0aGVtIG9uZSBieSBvbmU6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3sgLi4uc3R5bGVzIH19XG4gICAqIGBgYFxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nIHwge1xuICAgKiAgYXBwZWFyPzogc3RyaW5nLFxuICAgKiAgYXBwZWFyQWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZW50ZXI/OiBzdHJpbmcsXG4gICAqICBlbnRlckFjdGl2ZT86IHN0cmluZyxcbiAgICogIGVudGVyRG9uZT86IHN0cmluZyxcbiAgICogIGV4aXQ/OiBzdHJpbmcsXG4gICAqICBleGl0QWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZXhpdERvbmU/OiBzdHJpbmcsXG4gICAqIH19XG4gICAqL1xuICBjbGFzc05hbWVzOiBfUHJvcFR5cGVzLmNsYXNzTmFtZXNTaGFwZSxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyJyBvciAnYXBwZWFyJyBjbGFzcyBpc1xuICAgKiBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyLWFjdGl2ZScgb3JcbiAgICogJ2FwcGVhci1hY3RpdmUnIGNsYXNzIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbClcbiAgICovXG4gIG9uRW50ZXJpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXInIG9yXG4gICAqICdhcHBlYXInIGNsYXNzZXMgYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGRvbmVgIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBET00gbm9kZS5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzIGlzXG4gICAqIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KVxuICAgKi9cbiAgb25FeGl0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQtYWN0aXZlJyBpcyBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudFxuICAgKi9cbiAgb25FeGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzZXNcbiAgICogYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGV4aXQtZG9uZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIERPTSBub2RlLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudClcbiAgICovXG4gIG9uRXhpdGVkOiBQcm9wVHlwZXMuZnVuY1xufSkgOiB7fTs7XG4vKipcbiAqIEEgYFRyYW5zaXRpb25gIGNvbXBvbmVudCB1c2luZyBDU1MgdHJhbnNpdGlvbnMgYW5kIGFuaW1hdGlvbnMuXG4gKiBJdCdzIGluc3BpcmVkIGJ5IHRoZSBleGNlbGxlbnQgW25nLWFuaW1hdGVdKGh0dHA6Ly93d3cubmdhbmltYXRlLm9yZy8pIGxpYnJhcnkuXG4gKlxuICogYENTU1RyYW5zaXRpb25gIGFwcGxpZXMgYSBwYWlyIG9mIGNsYXNzIG5hbWVzIGR1cmluZyB0aGUgYGFwcGVhcmAsIGBlbnRlcmAsXG4gKiBhbmQgYGV4aXRgIHN0YWdlcyBvZiB0aGUgdHJhbnNpdGlvbi4gVGhlIGZpcnN0IGNsYXNzIGlzIGFwcGxpZWQgYW5kIHRoZW4gYVxuICogc2Vjb25kIFwiYWN0aXZlXCIgY2xhc3MgaW4gb3JkZXIgdG8gYWN0aXZhdGUgdGhlIGNzcyBhbmltYXRpb24uIEFmdGVyIHRoZSBhbmltYXRpb24sXG4gKiBtYXRjaGluZyBgZG9uZWAgY2xhc3MgbmFtZXMgYXJlIGFwcGxpZWQgdG8gcGVyc2lzdCB0aGUgYW5pbWF0aW9uIHN0YXRlLlxuICpcbiAqIFdoZW4gdGhlIGBpbmAgcHJvcCBpcyB0b2dnbGVkIHRvIGB0cnVlYCB0aGUgQ29tcG9uZW50IHdpbGwgZ2V0XG4gKiB0aGUgYGV4YW1wbGUtZW50ZXJgIENTUyBjbGFzcyBhbmQgdGhlIGBleGFtcGxlLWVudGVyLWFjdGl2ZWAgQ1NTIGNsYXNzXG4gKiBhZGRlZCBpbiB0aGUgbmV4dCB0aWNrLiBUaGlzIGlzIGEgY29udmVudGlvbiBiYXNlZCBvbiB0aGUgYGNsYXNzTmFtZXNgIHByb3AuXG4gKi9cblxudmFyIENTU1RyYW5zaXRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ1NTVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLm9uRW50ZXIgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lcyA9IF90aGlzLmdldENsYXNzTmFtZXMoYXBwZWFyaW5nID8gJ2FwcGVhcicgOiAnZW50ZXInKSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzLmNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZXhpdCcpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkVudGVyaW5nID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMyID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcyhhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpLFxuICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXMyLmFjdGl2ZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJpbmcpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FbnRlcmluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FbnRlcmVkID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMzID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZW50ZXInKSxcbiAgICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczMuZG9uZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCBhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBkb25lQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJlZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczQgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczQuY2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdhcHBlYXInKTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZW50ZXInKTtcblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRXhpdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkV4aXQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdGluZyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczUgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczUuYWN0aXZlQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0aW5nKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRXhpdGluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FeGl0ZWQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXM2ID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZXhpdCcpLFxuICAgICAgICAgIGRvbmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNi5kb25lQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdleGl0Jyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGRvbmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0ZWQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FeGl0ZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmdldENsYXNzTmFtZXMgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgdmFyIGNsYXNzTmFtZXMgPSBfdGhpcy5wcm9wcy5jbGFzc05hbWVzO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZV0gOiBjbGFzc05hbWVzICsgJy0nICsgdHlwZTtcbiAgICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSB0eXBlb2YgY2xhc3NOYW1lcyAhPT0gJ3N0cmluZycgPyBjbGFzc05hbWVzW3R5cGUgKyAnQWN0aXZlJ10gOiBjbGFzc05hbWUgKyAnLWFjdGl2ZSc7XG4gICAgICB2YXIgZG9uZUNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZSArICdEb25lJ10gOiBjbGFzc05hbWUgKyAnLWRvbmUnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIGFjdGl2ZUNsYXNzTmFtZTogYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lOiBkb25lQ2xhc3NOYW1lXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ1NTVHJhbnNpdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbW92ZUNsYXNzZXMgPSBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKG5vZGUsIHR5cGUpIHtcbiAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczcgPSB0aGlzLmdldENsYXNzTmFtZXModHlwZSksXG4gICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM3LmNsYXNzTmFtZSxcbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuZG9uZUNsYXNzTmFtZTtcblxuICAgIGNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuICAgIGFjdGl2ZUNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuICAgIGRvbmVDbGFzc05hbWUgJiYgcmVtb3ZlQ2xhc3Mobm9kZSwgZG9uZUNsYXNzTmFtZSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlZmxvd0FuZEFkZENsYXNzID0gZnVuY3Rpb24gcmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBmb3IgdG8gZm9yY2UgYSByZXBhaW50LFxuICAgIC8vIHdoaWNoIGlzIG5lY2Vzc2FyeSBpbiBvcmRlciB0byB0cmFuc2l0aW9uIHN0eWxlcyB3aGVuIGFkZGluZyBhIGNsYXNzIG5hbWUuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICBub2RlICYmIG5vZGUuc2Nyb2xsVG9wO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG5cbiAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lcztcbiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIG9uRW50ZXI6IHRoaXMub25FbnRlcixcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5vbkVudGVyZWQsXG4gICAgICBvbkVudGVyaW5nOiB0aGlzLm9uRW50ZXJpbmcsXG4gICAgICBvbkV4aXQ6IHRoaXMub25FeGl0LFxuICAgICAgb25FeGl0aW5nOiB0aGlzLm9uRXhpdGluZyxcbiAgICAgIG9uRXhpdGVkOiB0aGlzLm9uRXhpdGVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBDU1NUcmFuc2l0aW9uO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5DU1NUcmFuc2l0aW9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xudmFyIF9kZWZhdWx0ID0gQ1NTVHJhbnNpdGlvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDYwOTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBoYXNDbGFzcztcblxuZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgcmV0dXJuICEhY2xhc3NOYW1lICYmIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7ZWxzZSByZXR1cm4gKFwiIFwiICsgKGVsZW1lbnQuY2xhc3NOYW1lLmJhc2VWYWwgfHwgZWxlbWVudC5jbGFzc05hbWUpICsgXCIgXCIpLmluZGV4T2YoXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIikgIT09IC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2hhc0NsYXNzLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDk3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1RyYW5zaXRpb25Hcm91cFwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBwcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIGluOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogZnVuY3Rpb24gY2hpbGRyZW4ocHJvcHMsIHByb3BOYW1lKSB7XG4gICAgaWYgKF9yZWFjdC5kZWZhdWx0LkNoaWxkcmVuLmNvdW50KHByb3BzW3Byb3BOYW1lXSkgIT09IDIpIHJldHVybiBuZXcgRXJyb3IoXCJcXFwiXCIgKyBwcm9wTmFtZSArIFwiXFxcIiBtdXN0IGJlIGV4YWN0bHkgdHdvIHRyYW5zaXRpb24gY29tcG9uZW50cy5cIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0gOiB7fTs7XG4vKipcbiAqIFRoZSBgPFJlcGxhY2VUcmFuc2l0aW9uPmAgY29tcG9uZW50IGlzIGEgc3BlY2lhbGl6ZWQgYFRyYW5zaXRpb25gIGNvbXBvbmVudFxuICogdGhhdCBhbmltYXRlcyBiZXR3ZWVuIHR3byBjaGlsZHJlbi5cbiAqXG4gKiBgYGBqc3hcbiAqIDxSZXBsYWNlVHJhbnNpdGlvbiBpbj5cbiAqICAgPEZhZGU+PGRpdj5JIGFwcGVhciBmaXJzdDwvZGl2PjwvRmFkZT5cbiAqICAgPEZhZGU+PGRpdj5JIHJlcGxhY2UgdGhlIGFib3ZlPC9kaXY+PC9GYWRlPlxuICogPC9SZXBsYWNlVHJhbnNpdGlvbj5cbiAqIGBgYFxuICovXG5cbnZhciBSZXBsYWNlVHJhbnNpdGlvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSZXBsYWNlVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUmVwbGFjZVRyYW5zaXRpb24oKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF9hcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgX2FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChfYXJncykpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5oYW5kbGVFbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXInLCAwLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRW50ZXJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkVudGVyaW5nJywgMCwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUVudGVyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkVudGVyZWQnLCAwLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRXhpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNSksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgICAgICBhcmdzW19rZXk1XSA9IGFyZ3VtZW50c1tfa2V5NV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRXhpdCcsIDEsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFeGl0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjYgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW42KSwgX2tleTYgPSAwOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTZdID0gYXJndW1lbnRzW19rZXk2XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0aW5nJywgMSwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUV4aXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW43ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNyksIF9rZXk3ID0gMDsgX2tleTcgPCBfbGVuNzsgX2tleTcrKykge1xuICAgICAgICBhcmdzW19rZXk3XSA9IGFyZ3VtZW50c1tfa2V5N107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRXhpdGVkJywgMSwgYXJncyk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBSZXBsYWNlVHJhbnNpdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmhhbmRsZUxpZmVjeWNsZSA9IGZ1bmN0aW9uIGhhbmRsZUxpZmVjeWNsZShoYW5kbGVyLCBpZHgsIG9yaWdpbmFsQXJncykge1xuICAgIHZhciBfY2hpbGQkcHJvcHM7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgdmFyIGNoaWxkID0gX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbilbaWR4XTtcblxuICAgIGlmIChjaGlsZC5wcm9wc1toYW5kbGVyXSkgKF9jaGlsZCRwcm9wcyA9IGNoaWxkLnByb3BzKVtoYW5kbGVyXS5hcHBseShfY2hpbGQkcHJvcHMsIG9yaWdpbmFsQXJncyk7XG4gICAgaWYgKHRoaXMucHJvcHNbaGFuZGxlcl0pIHRoaXMucHJvcHNbaGFuZGxlcl0oKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcykpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgaW5Qcm9wID0gX3RoaXMkcHJvcHMuaW4sXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiaW5cIl0pO1xuXG4gICAgdmFyIF9SZWFjdCRDaGlsZHJlbiR0b0FyciA9IF9yZWFjdC5kZWZhdWx0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pLFxuICAgICAgICBmaXJzdCA9IF9SZWFjdCRDaGlsZHJlbiR0b0FyclswXSxcbiAgICAgICAgc2Vjb25kID0gX1JlYWN0JENoaWxkcmVuJHRvQXJyWzFdO1xuXG4gICAgZGVsZXRlIHByb3BzLm9uRW50ZXI7XG4gICAgZGVsZXRlIHByb3BzLm9uRW50ZXJpbmc7XG4gICAgZGVsZXRlIHByb3BzLm9uRW50ZXJlZDtcbiAgICBkZWxldGUgcHJvcHMub25FeGl0O1xuICAgIGRlbGV0ZSBwcm9wcy5vbkV4aXRpbmc7XG4gICAgZGVsZXRlIHByb3BzLm9uRXhpdGVkO1xuICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdCwgcHJvcHMsIGluUHJvcCA/IF9yZWFjdC5kZWZhdWx0LmNsb25lRWxlbWVudChmaXJzdCwge1xuICAgICAga2V5OiAnZmlyc3QnLFxuICAgICAgb25FbnRlcjogdGhpcy5oYW5kbGVFbnRlcixcbiAgICAgIG9uRW50ZXJpbmc6IHRoaXMuaGFuZGxlRW50ZXJpbmcsXG4gICAgICBvbkVudGVyZWQ6IHRoaXMuaGFuZGxlRW50ZXJlZFxuICAgIH0pIDogX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KHNlY29uZCwge1xuICAgICAga2V5OiAnc2Vjb25kJyxcbiAgICAgIG9uRW50ZXI6IHRoaXMuaGFuZGxlRXhpdCxcbiAgICAgIG9uRW50ZXJpbmc6IHRoaXMuaGFuZGxlRXhpdGluZyxcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5oYW5kbGVFeGl0ZWRcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlcGxhY2VUcmFuc2l0aW9uO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5SZXBsYWNlVHJhbnNpdGlvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBwcm9wVHlwZXMgOiB7fTtcbnZhciBfZGVmYXVsdCA9IFJlcGxhY2VUcmFuc2l0aW9uO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvUmVwbGFjZVRyYW5zaXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDYwOThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm5vb3AgPSBub29wO1xuZXhwb3J0cy5yZXR1cm5UcnVlID0gcmV0dXJuVHJ1ZTtcbmV4cG9ydHMuY2hhcklzTnVtYmVyID0gY2hhcklzTnVtYmVyO1xuZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBlc2NhcGVSZWdFeHA7XG5leHBvcnRzLmdldFRob3VzYW5kc0dyb3VwUmVnZXggPSBnZXRUaG91c2FuZHNHcm91cFJlZ2V4O1xuZXhwb3J0cy5zcGxpdERlY2ltYWwgPSBzcGxpdERlY2ltYWw7XG5leHBvcnRzLmZpeExlYWRpbmdaZXJvID0gZml4TGVhZGluZ1plcm87XG5leHBvcnRzLmxpbWl0VG9TY2FsZSA9IGxpbWl0VG9TY2FsZTtcbmV4cG9ydHMucm91bmRUb1ByZWNpc2lvbiA9IHJvdW5kVG9QcmVjaXNpb247XG5leHBvcnRzLm9taXQgPSBvbWl0O1xuZXhwb3J0cy5zZXRDYXJldFBvc2l0aW9uID0gc2V0Q2FyZXRQb3NpdGlvbjtcbmV4cG9ydHMuZmluZENoYW5nZWRJbmRleCA9IGZpbmRDaGFuZ2VkSW5kZXg7XG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XG5leHBvcnRzLmdldEN1cnJlbnRDYXJldFBvc2l0aW9uID0gZ2V0Q3VycmVudENhcmV0UG9zaXRpb247XG5cbi8vIGJhc2ljIG5vb3AgZnVuY3Rpb25cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY2hhcklzTnVtYmVyKGNoYXIpIHtcbiAgcmV0dXJuICEhKGNoYXIgfHwgJycpLm1hdGNoKC9cXGQvKTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1stW1xcXS97fSgpKis/LlxcXFxeJHxdL2csIFwiXFxcXCQmXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRUaG91c2FuZHNHcm91cFJlZ2V4KHRob3VzYW5kc0dyb3VwU3R5bGUpIHtcbiAgc3dpdGNoICh0aG91c2FuZHNHcm91cFN0eWxlKSB7XG4gICAgY2FzZSAnbGFraCc6XG4gICAgICByZXR1cm4gLyhcXGQrPykoPz0oXFxkXFxkKSsoXFxkKSg/IVxcZCkpKFxcLlxcZCspPy9nO1xuXG4gICAgY2FzZSAnd2FuJzpcbiAgICAgIHJldHVybiAvKFxcZCkoPz0oXFxkezR9KSsoPyFcXGQpKS9nO1xuXG4gICAgY2FzZSAndGhvdXNhbmQnOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gLyhcXGQpKD89KFxcZHszfSkrKD8hXFxkKSkvZztcbiAgfVxufSAvL3NwaWx0IGEgZmxvYXQgbnVtYmVyIGludG8gZGlmZmVyZW50IHBhcnRzIGJlZm9yZURlY2ltYWwsIGFmdGVyRGVjaW1hbCwgYW5kIG5lZ2F0aW9uXG5cblxuZnVuY3Rpb24gc3BsaXREZWNpbWFsKG51bVN0cikge1xuICB2YXIgYWxsb3dOZWdhdGl2ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgdmFyIGhhc05hZ2F0aW9uID0gbnVtU3RyWzBdID09PSAnLSc7XG4gIHZhciBhZGROZWdhdGlvbiA9IGhhc05hZ2F0aW9uICYmIGFsbG93TmVnYXRpdmU7XG4gIG51bVN0ciA9IG51bVN0ci5yZXBsYWNlKCctJywgJycpO1xuICB2YXIgcGFydHMgPSBudW1TdHIuc3BsaXQoJy4nKTtcbiAgdmFyIGJlZm9yZURlY2ltYWwgPSBwYXJ0c1swXTtcbiAgdmFyIGFmdGVyRGVjaW1hbCA9IHBhcnRzWzFdIHx8ICcnO1xuICByZXR1cm4ge1xuICAgIGJlZm9yZURlY2ltYWw6IGJlZm9yZURlY2ltYWwsXG4gICAgYWZ0ZXJEZWNpbWFsOiBhZnRlckRlY2ltYWwsXG4gICAgaGFzTmFnYXRpb246IGhhc05hZ2F0aW9uLFxuICAgIGFkZE5lZ2F0aW9uOiBhZGROZWdhdGlvblxuICB9O1xufVxuXG5mdW5jdGlvbiBmaXhMZWFkaW5nWmVybyhudW1TdHIpIHtcbiAgaWYgKCFudW1TdHIpIHJldHVybiBudW1TdHI7XG4gIHZhciBpc05lZ2F0aXZlID0gbnVtU3RyWzBdID09PSAnLSc7XG4gIGlmIChpc05lZ2F0aXZlKSBudW1TdHIgPSBudW1TdHIuc3Vic3RyaW5nKDEsIG51bVN0ci5sZW5ndGgpO1xuICB2YXIgcGFydHMgPSBudW1TdHIuc3BsaXQoJy4nKTtcbiAgdmFyIGJlZm9yZURlY2ltYWwgPSBwYXJ0c1swXS5yZXBsYWNlKC9eMCsvLCAnJykgfHwgJzAnO1xuICB2YXIgYWZ0ZXJEZWNpbWFsID0gcGFydHNbMV0gfHwgJyc7XG4gIHJldHVybiBcIlwiLmNvbmNhdChpc05lZ2F0aXZlID8gJy0nIDogJycpLmNvbmNhdChiZWZvcmVEZWNpbWFsKS5jb25jYXQoYWZ0ZXJEZWNpbWFsID8gXCIuXCIuY29uY2F0KGFmdGVyRGVjaW1hbCkgOiAnJyk7XG59XG4vKipcbiAqIGxpbWl0IGRlY2ltYWwgbnVtYmVycyB0byBnaXZlbiBzY2FsZVxuICogTm90IHVzZWQgLmZpeGVkVG8gYmVjYXVzZSB0aGF0IHdpbGwgYnJlYWsgd2l0aCBiaWcgbnVtYmVyc1xuICovXG5cblxuZnVuY3Rpb24gbGltaXRUb1NjYWxlKG51bVN0ciwgc2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKSB7XG4gIHZhciBzdHIgPSAnJztcbiAgdmFyIGZpbGxlciA9IGZpeGVkRGVjaW1hbFNjYWxlID8gJzAnIDogJyc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2NhbGUgLSAxOyBpKyspIHtcbiAgICBzdHIgKz0gbnVtU3RyW2ldIHx8IGZpbGxlcjtcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIHJlcXVpcmVkIHRvIHJvdW5kIHByb3AgdmFsdWUgdG8gZ2l2ZW4gc2NhbGUuXG4gKiBOb3QgdXNlZCAucm91bmQgb3IgLmZpeGVkVG8gYmVjYXVzZSB0aGF0IHdpbGwgYnJlYWsgd2l0aCBiaWcgbnVtYmVyc1xuICovXG5cblxuZnVuY3Rpb24gcm91bmRUb1ByZWNpc2lvbihudW1TdHIsIHNjYWxlLCBmaXhlZERlY2ltYWxTY2FsZSkge1xuICAvL2lmIG51bWJlciBpcyBlbXB0eSBkb24ndCBkbyBhbnl0aGluZyByZXR1cm4gZW1wdHkgc3RyaW5nXG4gIGlmIChbJycsICctJ10uaW5kZXhPZihudW1TdHIpICE9PSAtMSkgcmV0dXJuIG51bVN0cjtcbiAgdmFyIHNob3VkSGF2ZURlY2ltYWxTZXBhcmF0b3IgPSBudW1TdHIuaW5kZXhPZignLicpICE9PSAtMSAmJiBzY2FsZTtcblxuICB2YXIgX3NwbGl0RGVjaW1hbCA9IHNwbGl0RGVjaW1hbChudW1TdHIpLFxuICAgICAgYmVmb3JlRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYmVmb3JlRGVjaW1hbCxcbiAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYWZ0ZXJEZWNpbWFsLFxuICAgICAgaGFzTmFnYXRpb24gPSBfc3BsaXREZWNpbWFsLmhhc05hZ2F0aW9uO1xuXG4gIHZhciByb3VuZGVkRGVjaW1hbFBhcnRzID0gcGFyc2VGbG9hdChcIjAuXCIuY29uY2F0KGFmdGVyRGVjaW1hbCB8fCAnMCcpKS50b0ZpeGVkKHNjYWxlKS5zcGxpdCgnLicpO1xuICB2YXIgaW50UGFydCA9IGJlZm9yZURlY2ltYWwuc3BsaXQoJycpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKHJvdW5kZWRTdHIsIGN1cnJlbnQsIGlkeCkge1xuICAgIGlmIChyb3VuZGVkU3RyLmxlbmd0aCA+IGlkeCkge1xuICAgICAgcmV0dXJuIChOdW1iZXIocm91bmRlZFN0clswXSkgKyBOdW1iZXIoY3VycmVudCkpLnRvU3RyaW5nKCkgKyByb3VuZGVkU3RyLnN1YnN0cmluZygxLCByb3VuZGVkU3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnQgKyByb3VuZGVkU3RyO1xuICB9LCByb3VuZGVkRGVjaW1hbFBhcnRzWzBdKTtcbiAgdmFyIGRlY2ltYWxQYXJ0ID0gbGltaXRUb1NjYWxlKHJvdW5kZWREZWNpbWFsUGFydHNbMV0gfHwgJycsIE1hdGgubWluKHNjYWxlLCBhZnRlckRlY2ltYWwubGVuZ3RoKSwgZml4ZWREZWNpbWFsU2NhbGUpO1xuICB2YXIgbmVnYXRpb24gPSBoYXNOYWdhdGlvbiA/ICctJyA6ICcnO1xuICB2YXIgZGVjaW1hbFNlcGFyYXRvciA9IHNob3VkSGF2ZURlY2ltYWxTZXBhcmF0b3IgPyAnLicgOiAnJztcbiAgcmV0dXJuIFwiXCIuY29uY2F0KG5lZ2F0aW9uKS5jb25jYXQoaW50UGFydCkuY29uY2F0KGRlY2ltYWxTZXBhcmF0b3IpLmNvbmNhdChkZWNpbWFsUGFydCk7XG59XG5cbmZ1bmN0aW9uIG9taXQob2JqLCBrZXlNYXBzKSB7XG4gIHZhciBmaWx0ZXJlZE9iaiA9IHt9O1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICgha2V5TWFwc1trZXldKSBmaWx0ZXJlZE9ialtrZXldID0gb2JqW2tleV07XG4gIH0pO1xuICByZXR1cm4gZmlsdGVyZWRPYmo7XG59XG4vKiogc2V0IHRoZSBjYXJldCBwb3NpdG9uIGluIGFuIGlucHV0IGZpZWxkICoqL1xuXG5cbmZ1bmN0aW9uIHNldENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zKSB7XG4gIGVsLnZhbHVlID0gZWwudmFsdWU7IC8vIF4gdGhpcyBpcyB1c2VkIHRvIG5vdCBvbmx5IGdldCBcImZvY3VzXCIsIGJ1dFxuICAvLyB0byBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBpdCBldmVyeXRoaW5nIC1zZWxlY3RlZC1cbiAgLy8gKGl0IGNhdXNlcyBhbiBpc3N1ZSBpbiBjaHJvbWUsIGFuZCBoYXZpbmcgaXQgZG9lc24ndCBodXJ0IGFueSBvdGhlciBicm93c2VyKVxuXG4gIGlmIChlbCAhPT0gbnVsbCkge1xuICAgIGlmIChlbC5jcmVhdGVUZXh0UmFuZ2UpIHtcbiAgICAgIHZhciByYW5nZSA9IGVsLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgcmFuZ2UubW92ZSgnY2hhcmFjdGVyJywgY2FyZXRQb3MpO1xuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIChlbC5zZWxlY3Rpb25TdGFydCA9PT0gMCBhZGRlZCBmb3IgRmlyZWZveCBidWcpXG5cblxuICAgIGlmIChlbC5zZWxlY3Rpb25TdGFydCB8fCBlbC5zZWxlY3Rpb25TdGFydCA9PT0gMCkge1xuICAgICAgZWwuZm9jdXMoKTtcbiAgICAgIGVsLnNldFNlbGVjdGlvblJhbmdlKGNhcmV0UG9zLCBjYXJldFBvcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIGZhaWwgY2l0eSwgZm9ydHVuYXRlbHkgdGhpcyBuZXZlciBoYXBwZW5zIChhcyBmYXIgYXMgSSd2ZSB0ZXN0ZWQpIDopXG5cblxuICAgIGVsLmZvY3VzKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4vKipcbiAgR2l2ZW4gcHJldmlvdXMgdmFsdWUgYW5kIG5ld1ZhbHVlIGl0IHJldHVybnMgdGhlIGluZGV4XG4gIHN0YXJ0IC0gZW5kIHRvIHdoaWNoIHZhbHVlcyBoYXZlIGNoYW5nZWQuXG4gIFRoaXMgZnVuY3Rpb24gbWFrZXMgYXNzdW1wdGlvbiBhYm91dCBvbmx5IGNvbnNlY3V0aXZlXG4gIGNoYXJhY3RlcnMgYXJlIGNoYW5nZWQgd2hpY2ggaXMgY29ycmVjdCBhc3N1bXB0aW9uIGZvciBjYXJldCBpbnB1dC5cbiovXG5cblxuZnVuY3Rpb24gZmluZENoYW5nZWRJbmRleChwcmV2VmFsdWUsIG5ld1ZhbHVlKSB7XG4gIHZhciBpID0gMCxcbiAgICAgIGogPSAwO1xuICB2YXIgcHJldkxlbmd0aCA9IHByZXZWYWx1ZS5sZW5ndGg7XG4gIHZhciBuZXdMZW5ndGggPSBuZXdWYWx1ZS5sZW5ndGg7XG5cbiAgd2hpbGUgKHByZXZWYWx1ZVtpXSA9PT0gbmV3VmFsdWVbaV0gJiYgaSA8IHByZXZMZW5ndGgpIHtcbiAgICBpKys7XG4gIH0gLy9jaGVjayB3aGF0IGhhcyBiZWVuIGNoYW5nZWQgZnJvbSBsYXN0XG5cblxuICB3aGlsZSAocHJldlZhbHVlW3ByZXZMZW5ndGggLSAxIC0gal0gPT09IG5ld1ZhbHVlW25ld0xlbmd0aCAtIDEgLSBqXSAmJiBuZXdMZW5ndGggLSBqID4gaSAmJiBwcmV2TGVuZ3RoIC0gaiA+IGkpIHtcbiAgICBqKys7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBpLFxuICAgIGVuZDogcHJldkxlbmd0aCAtIGpcbiAgfTtcbn1cbi8qXG4gIFJldHVybnMgYSBudW1iZXIgd2hvc2UgdmFsdWUgaXMgbGltaXRlZCB0byB0aGUgZ2l2ZW4gcmFuZ2VcbiovXG5cblxuZnVuY3Rpb24gY2xhbXAobnVtLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q2FyZXRQb3NpdGlvbihlbCkge1xuICAvKk1heCBvZiBzZWxlY3Rpb25TdGFydCBhbmQgc2VsZWN0aW9uRW5kIGlzIHRha2VuIGZvciB0aGUgcGF0Y2ggb2YgcGl4ZWwgYW5kIG90aGVyIG1vYmlsZSBkZXZpY2UgY2FyZXQgYnVnKi9cbiAgcmV0dXJuIE1hdGgubWF4KGVsLnNlbGVjdGlvblN0YXJ0LCBlbC5zZWxlY3Rpb25FbmQpO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LW51bWJlci1mb3JtYXQvbGliL3V0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDk5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCB7IERvbmUsIEhpZ2hsaWdodE9mZiwgQ2hlY2tDaXJjbGVPdXRsaW5lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nJztcclxuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQWN0aW9ucyc7XHJcbmltcG9ydCBEaWFsb2dUaXRsZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dUaXRsZSc7XHJcbmltcG9ydCBFcnJvciBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRXJyb3InO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NlbGVjdCc7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9NZW51SXRlbSc7XHJcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCBDdXN0b21EaWFsb2cgZnJvbSAnLi9DdXN0b21EaWFsb2cnXHJcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gXCJkYXRlLWZuc1wiO1xyXG5pbXBvcnQgeyBlbXB0eUZ1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50c1wiO1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgc3VtbWFyeToge1xyXG4gICAgICAgIHN1bW1hcnk6IFwiXCIsXHJcbiAgICB9LFxyXG4gICAgcmVhc29uQ29kZUxpc3Q6IFwiXCIsXHJcbiAgICBjb3JyZWN0SW52b2ljZXM6IFwiXCIsXHJcbiAgICBpbmNvcnJlY3RGbGFnOiBcIlwiLFxyXG4gICAgdG9nZ2xlRXhwYW5kOiBcIlwiXHJcbiAgfTtcclxuXHJcbi8vY29uc3RhbnRzXHJcbi8vIGNvbnN0IERpc3B1dGVSZWdleCA9IC8oRGlzcHV0ZSBmb3IgXFxkKil8KFswLTldezR9Wy1dWzAtOV17Mn1bLV1bMC05XXsyfSl8KFxcZCogaW52b2ljZSkvZztcclxuY29uc3QgZGlzcHV0ZVJlZ2V4ID0gLyhcXGQqIGludm9pY2UpfChiZWNhdXNlIG9mIC4qKS9nO1xyXG5jb25zdCBkaXNjYXJkTWVzc2FnZSA9IFwiVGhpcyB3aWxsIGJlIHJlbW92ZWQgcGVybWFuZW50bHkgZnJvbSB0aGUgc3VnZ2VzdGVkIGFjdGlvbnMuIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuXCI7XHJcbmNvbnN0IHJlc29sdmVNZXNzYWdlID0gXCIgVW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBhY3Rpb24uIFBsZWFzZSByZXNvbHZlIHRoZSBlcnJvcnMgdG8gYXBwcm92ZS5cIjtcclxuY29uc3Qgbm9SZWFzb25NZXNzYWdlID0gXCJQbGVhc2Ugc2VsZWN0IGFwcHJvcHJpYXRlIGRpc3B1dGUgcmVhc29uLlwiO1xyXG5jb25zdCBub0ludm9pY2VNZXNzYWdlID0gXCJObyBpbnZvaWNlIHNlbGVjdGVkLiBQbGVhc2UgYWRkIGF0IGxlYXN0IGFuIGludm9pY2UgdG8gc2F2ZSB0aGUgZGlzcHV0ZS5cIjtcclxuY29uc3QgRElTUFVURV9URU1QTEFURSA9IFwiRGlzcHV0ZSByYWlzZWQgZm9yIDxJbnZvaWNlcz4gYmVjYXVzZSBvZiA6IDxESVNQVVRFLVJFQVNPTj5cIjtcclxuY29uc3QgRElTUFVURV9PUklHX1RFTVBMQVRFID0gXCJDcmVhdGUgRGlzcHV0ZSBmb3IgPEludm9pY2VzPiBiZWNhdXNlIG9mIDxSZWFzb25Db2RlPlwiO1xyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gICAgaW52b2ljZVNhbXBsZToge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgIGZsZXhXcmFwOiBcIm5vLXdyYXBcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgIGp1c3RpZnk6IFwic3BhY2UtYmV0d2VlblwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgIH0sXHJcbiAgICBzZWxlY3RlZFJlYXNvbjoge1xyXG4gICAgICAgIG1hcmdpbjogXCIwcHhcIixcclxuICAgICAgICAvLyB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgICAgICAvLyBwYWRkaW5nOiBcIjBweFwiLFxyXG4gICAgICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXHJcbiAgICAgICAgLy8gd2hpdGVTcGFjZTogJ25vd3JhcCcsXHJcbiAgICAgICAgXCImOmJlZm9yZVwiOiB7XHJcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgIzVEQUFFMFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCImOmFmdGVyXCI6IHtcclxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjNURBQUUwXCIsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBlbXB0eVJlYXNvbjoge1xyXG4gICAgICAgIG1hcmdpbjogXCIwcHhcIixcclxuICAgICAgICAvLyB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgXCImOmJlZm9yZVwiOiB7XHJcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCImOmFmdGVyXCI6IHtcclxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBwYWRkaW5nOiBcIjBweFwiLFxyXG4gICAgICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXHJcbiAgICAgICAgLy8gZm9udFdlaWdodDogXCJib2xkXCIsXHJcbiAgICAgICAgLy8gd2hpdGVTcGFjZTogJ25vd3JhcCcsXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0TWVudUNsYXNzOiB7XHJcbiAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICAgIG9wYWNpdHkgOiAwLjY1LFxyXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBtZW51SXRlbVJvb3Q6IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICBtZW51UGFwZXI6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICAgICAgaGVpZ2h0OiBcIjIwcmVtICFpbXBvcnRhbnRcIixcclxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxyXG4gICAgICAgIGJvcmRlcjogXCIycHggc29saWQgd2hpdGVcIlxyXG4gICAgIH0sXHJcbiAgICB0ZXN0OiB7XHJcbiAgICAgICAgd2lkdGg6ICdhdXRvJyxcclxuICAgICAgICBwYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiAwLjZcclxuICAgIH0sXHJcbiAgICBhY3Rpb25Qcm9ncmVzc0Jhcjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgcGFkZGluZ0xlZnQgOiBcIjAuNXJlbVwiLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodCA6IFwiMC41cmVtXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICAgIFxyXG4gICAgfSxcclxuXHJcbiAgICB0ZXh0RmllbGQ6IHtcclxuICAgICAgICBtYXJnaW46IFwiMHB4XCIsXHJcbiAgICAgICAgLy8gd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICAgICAgLy8gcGFkZGluZzogXCIwcHhcIixcclxuICAgICAgICAvLyBtYXhXaWR0aDogXCIxMjBweFwiLFxyXG4gICAgICAgIC8vIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgXHJcbiAgICBcclxuICAgIGNhcmRDb250ZW50IDoge1xyXG4gICAgICAgIGNvbG9yIDogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eSA6IDAuNjVcclxuICAgIH0sXHJcbiAgICBhY3Rpb25JY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBlcnJvckZsYWc6IHtcclxuICAgICAgICBjb2xvcjogXCIjRkY0NDQ0XCIsXHJcbiAgICAgICAgbWFyZ2luTGVmdDogXCIuNXJlbVwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0SWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgfSxcclxuICAgIGRpc2FibGVEb25lQnRuOiB7XHJcbiAgICAgICAgb3BhY2l0eTogMC40LFxyXG4gICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIHRlc3Q6IHtcclxuICAgIC8vICAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgLy8gICAgIHBhZGRpbmc6ICcwcHgnLFxyXG4gICAgLy8gICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgIC8vICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgLy8gICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIC8vICAgICBvcGFjaXR5OiAwLjYsXHJcblxyXG4gICAgLy8gICAgIFwiJjpiZWZvcmVcIjoge1xyXG4gICAgLy8gICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICM1REFBRTBcIixcclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIFwiJjphZnRlclwiOiB7XHJcbiAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgIzVEQUFFMFwiLFxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcbiAgICAvLyB0ZXN0SW5pdGlhbDoge1xyXG4gICAgLy8gICAgIHdpZHRoOiAnYXV0bycsXHJcbiAgICAvLyAgICAgcGFkZGluZzogJzBweCcsXHJcbiAgICAvLyAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgLy8gICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICAvLyAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgLy8gICAgIG9wYWNpdHk6IDAuNixcclxuXHJcbiAgICAvLyAgICAgXCImOmJlZm9yZVwiOiB7XHJcbiAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgICAgXCImOmFmdGVyXCI6IHtcclxuICAgIC8vICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCIsXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuXHJcbn0pO1xyXG5cclxuY2xhc3MgRGlzcHV0ZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICBsZXQgZXh0cmFjdGVkRGF0YSA9ICh0aGlzLnByb3BzLnN1bW1hcnkgJiYgdGhpcy5wcm9wcy5zdW1tYXJ5LnN1bW1hcnkpP3RoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKGRpc3B1dGVSZWdleCk6XCJcIjtcclxuICAgICAgICAvLyBsZXQgZXh0cmFjdGVkQW1vdW50ID0gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9Lyk7XHJcbiAgICAgICAgLy8gaWYgKCFleHRyYWN0ZWRBbW91bnQpIGV4dHJhY3RlZEFtb3VudCA9IDA7ICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gbGV0IG5vT2ZJbnZvaWNlcyA9IGV4dHJhY3RlZERhdGFbMF0gPyBleHRyYWN0ZWREYXRhWzBdLm1hdGNoKC9bMC05XXsxLH0vKSA6IDA7XHJcblxyXG4gICAgICAgIC8vIGlmICghbm9PZkludm9pY2VzKSB7XHJcbiAgICAgICAgLy8gICAgIG5vT2ZJbnZvaWNlcyA9IDA7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBsZXQgcmVhc29uQ29kZSA9IGV4dHJhY3RlZERhdGFbMV0gPyBleHRyYWN0ZWREYXRhWzFdLnN1YnN0cmluZygxMSkgOiBcIlwiO1xyXG4gICAgICAgIGxldCByZWFzb25Db2RlcyA9IHRoaXMucHJvcHMucmVhc29uQ29kZUxpc3Q7XHJcblxyXG5cclxuICAgICAgICBpZiAocmVhc29uQ29kZXMuaW5kZXhPZihyZWFzb25Db2RlKSA8IDApIHtcclxuICAgICAgICAgICAgcmVhc29uQ29kZSA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHJlYXNvbkNvZGU6IHJlYXNvbkNvZGUsXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogdGhpcy5wcm9wcy5pbnZvaWNlQ291bnQsXHJcbiAgICAgICAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlLFxyXG4gICAgICAgICAgICBvcGVuTm9SZWFzb25EaWFsb2c6IGZhbHNlLFxyXG4gICAgICAgICAgICBvcGVuTm9JbnZvaWNlRGlhbG9nOiBmYWxzZSxcclxuICAgICAgICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxyXG4gICAgICAgICAgICBhY3Rpb25JZDogdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxyXG4gICAgICAgICAgICBpc0RvbmU6IHRoaXMucHJvcHMuc3VtbWFyeS5zYXZlLFxyXG4gICAgICAgICAgICAvLyBpc0RvbmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBmaW5hbFNlbGVjdGVkRGF0ZTogXCJcIixcclxuICAgICAgICAgICAgLy8gcmVhc29uQ29kZVRleHRGaWVsZFdpZHRoOiByZWFzb25Db2RlID8gKFwiXCIgKyByZWFzb25Db2RlKS5sZW5ndGggKiAxMiA6IDUwLFxyXG4gICAgICAgICAgICBjaGFuZ2U6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBuZXh0UHJvcHMuaW5jb3JyZWN0RmxhZyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKG5leHRQcm9wcy5pbnZvaWNlQ291bnQgPj0gMCAmJiBuZXh0UHJvcHMuaW52b2ljZUNvdW50ICE9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlQ291bnQ6IG5leHRQcm9wcy5pbnZvaWNlQ291bnQgfVxyXG4gICAgICAgICAgICAgICAgLCAoKSA9PiB7IHRoaXMudXBkYXRlU3VtbWFyeSgpIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8qY2hhbmdlKiBib3R0b24gMyBmdW5jdGlvbnNcclxuICAgIHNhdmVEaXNwdXRlID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBpbnZvaWNlcyA9IHRoaXMucHJvcHMuY29ycmVjdEludm9pY2VzLm1hcChpbnZvaWNlID0+IHtcclxuICAgICAgICAgICAgbGV0IGludm9pY2VPYmogPSB7fVxyXG4gICAgICAgICAgICBpbnZvaWNlT2JqLmNtc0RvY0hlYWRlcklkID0gaW52b2ljZS5pZFxyXG4gICAgICAgICAgICByZXR1cm4gaW52b2ljZU9iajtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5jb3JyZWN0RmxhZykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5yZWFzb25Db2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9SZWFzb25EaWFsb2c6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmludm9pY2VDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9JbnZvaWNlRGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBsZXQgcmVxT2JqID0ge1xyXG4gICAgICAgICAgICAvLyBhY3R1YWxEaXNwdXRlQW1vdW50OiB0aGlzLnN0YXRlLmFtb3VudCxcclxuICAgICAgICAgICAgcmVhc29uQ29kZTogdGhpcy5zdGF0ZS5yZWFzb25Db2RlLFxyXG4gICAgICAgICAgICBjdXN0b21lcklkOiB0aGlzLnByb3BzLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICBkaXNwdXRlSXRlbXM6IGludm9pY2VzLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vY3VzdG9tZXIvJHt0aGlzLnByb3BzLmN1c3RvbWVyLmlkfS9kaXNwdXRlYCwgcmVxT2JqKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiU1VDQ0VTU1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNEb25lOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbCBcclxuICAgICAgICAgICAgICAgIGxldCBzdW1tYXJ5VG9TYXZlID0gdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Db21wbGV0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uQWN0aW9uSXRlbUNvbmZpcm0oc3VtbWFyeVRvU2F2ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUFjdGlvblN1bW1hcnkgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGludm9pY2VDb3VudCA9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50O1xyXG5cclxuICAgICAgICBsZXQgZ2VuZXJhdGVkU3VtbWFyeSA9IERJU1BVVEVfVEVNUExBVEUucmVwbGFjZShcIjxESVNQVVRFLVJFQVNPTj5cIiwgdGhpcy5zdGF0ZS5yZWFzb25Db2RlKVxyXG4gICAgICAgICAgICAucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgKGludm9pY2VDb3VudCA9PSAxKSA/IGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkU3VtbWFyeTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdW1tYXJ5ID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBsZXQgaW52b2ljZUNvdW50ID0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQ7XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXQobmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpLCBcInl5eXktTU0tZGRcIik7XHJcbiAgICAgICAgbGV0IHVwZGF0ZWRTdW1tYXJ5ID0gRElTUFVURV9PUklHX1RFTVBMQVRFLnJlcGxhY2UoXCI8SW52b2ljZXM+XCIsIChpbnZvaWNlQ291bnQgPT09IDApID8gXCI8WCBpbnZvaWNlcz5cIiA6IGludm9pY2VDb3VudCA9PT0gMSA/IGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPFJlYXNvbkNvZGU+XCIsIHRoaXMuc3RhdGUucmVhc29uQ29kZSk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuQWN0aW9uRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IHRydWUgfSlcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZUFjdGlvbkRpc2NhcmREaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZUFuZERpc2NhcmREaWFsb2cgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmRlbGV0ZUFjdGlvbih0aGlzLnN0YXRlLmFjdGlvbklkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VXYXJuaW5nRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VOb1JlYXNvbkRpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbk5vUmVhc29uRGlhbG9nOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZU5vSW52b2ljZURpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbk5vSW52b2ljZURpYWxvZzogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUmVhc29uQ29kZUNoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY2hhbmdlOiB0cnVlLFxyXG4gICAgICAgICAgICByZWFzb25Db2RlOiBldmVudC50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgIC8vIHJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aDogZXZlbnQudGFyZ2V0LnZhbHVlID8gKFwiXCIgKyBldmVudC50YXJnZXQudmFsdWUubGVuZ3RoKSAqIDEyIDogNTBcclxuICAgICAgICB9LCAoKSA9PiB7IHRoaXMudXBkYXRlU3VtbWFyeSgpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBnZXRSZWFzb25Db2RlID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCByZWFzb25Db2RlcyA9IHRoaXMucHJvcHMucmVhc29uQ29kZUxpc3Q7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucmVhc29uQ29kZSAmJiByZWFzb25Db2Rlcy5pbmRleE9mKHRoaXMuc3RhdGUucmVhc29uQ29kZSkgPj0gMCkge1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gXCJTZWxlY3RcIjtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUucmVhc29uQ29kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiU2VsZWN0XCI7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCB7IHN1bW1hcnkgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBmdWxsU2NyZWVuIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICBsZXQgcmVhc29uQ29kZXMgPSB0aGlzLnByb3BzLnJlYXNvbkNvZGVMaXN0O1xyXG4gICAgICAgIGxldCBvcHRpb25JdGVtcyA9IHJlYXNvbkNvZGVzICYmIHJlYXNvbkNvZGVzLm1hcCgocmVhc29uQ29kZSwgaWQpID0+XHJcbiAgICAgICAgICAgIDxNZW51SXRlbSBrZXk9e2lkfSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXtyZWFzb25Db2RlfT57cmVhc29uQ29kZX08L01lbnVJdGVtPlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZVNhbXBsZX0+XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMH0gbWQ9ezEwfSBsZz17MTB9IGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cImZsZXgtc3RhcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjNyZW1cIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3Rpb25TYXZlUHJvZ3Jlc3NCYXIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjdWxhclByb2dyZXNzIGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb25Qcm9ncmVzc0Jhcn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERvbmUgc3R5bGU9e3sgY29sb3I6IFwiIzVGQzMyQ1wiICwgcGFkZGluZ0xlZnQgOiBcIjAuNXJlbVwiLCBwYWRkaW5nUmlnaHQgOiBcIjAuNXJlbVwiLCBoZWlnaHQgOiBcIjEuNXJlbVwiLCB3aWR0aCA6IFwiMS41cmVtXCIgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzRG9uZSAmJiA8VHlwb2dyYXBoeSAgc3R5bGU9e3sgIG9wYWNpdHkgOiAxLCAgfX0gY2xhc3NOYW1lID0ge2NsYXNzZXMuY2FyZENvbnRlbnR9ID5DcmVhdGVkICZuYnNwOzwvVHlwb2dyYXBoeT59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5pc0RvbmUgJiYgPFR5cG9ncmFwaHkgc3R5bGU9e3sgIG9wYWNpdHkgOiAxLCAgfX0gY2xhc3NOYW1lID0ge2NsYXNzZXMuY2FyZENvbnRlbnR9PkNyZWF0ZSAmbmJzcDs8L1R5cG9ncmFwaHk+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250V2VpZ2h0OiBcImJvbGRcIiwgb3BhY2l0eSA6IDEsIH19IGNsYXNzTmFtZSA9IHtjbGFzc2VzLmNhcmRDb250ZW50fT5ESVNQVVRFICZuYnNwOzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW52b2ljZUNvdW50ICE9PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBkaXNwbGF5OiBcImZsZXhcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBtYXJnaW46IFwiMCA4cHggMCA2cHhcIiB9fSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9PmZvcjwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fSBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZUV4cGFuZH0+e3RoaXMuc3RhdGUuaW52b2ljZUNvdW50ICsgXCIgSW52b2ljZVwiICsgKHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMSA/IFwic1wiIDogXCJcIil9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmluY29ycmVjdEZsYWcgJiYgPEVycm9yIGNsYXNzTmFtZT17Y2xhc3Nlcy5lcnJvckZsYWd9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0+Jm5ic3A7IHdpdGggcmVhc29uIGNvZGUgb2YgJm5ic3A7PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLnJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW49e3RoaXMuc3RhdGUuaXNEb25lfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJyZWFzb24tY29kZS1maWVsZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5nZXRSZWFzb25Db2RlKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVSZWFzb25Db2RlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLnJlYXNvbkNvZGUgPyAoY2xhc3Nlcy5zZWxlY3RlZFJlYXNvbikgOiAoY2xhc3Nlcy5lbXB0eVJlYXNvbil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudUNsYXNzLCBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24gfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnVQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9XCJTZWxlY3RcIiBkaXNhYmxlZCA+U2VsZWN0PC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcHRpb25JdGVtc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUucmVhc29uQ29kZVRleHRGaWVsZFdpZHRoIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbj17IXRoaXMuc3RhdGUuaXNEb25lfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e1wicmVhc29uLWNvZGUtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnNlbGVjdGVkUmVhc29ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucmVhc29uQ29kZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUludm9pY2VDdXJyZW5jeUNoYW5nZShcImFtb3VudFwiKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbj1cIm5vcm1hbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nPVwibm9ybWFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlucHV0Q29tcG9uZW50OiBOdW1iZXJGb3JtYXRDdXN0b20sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLnJlYXNvbkNvZGU/KGNsYXNzZXMuc2VsZWN0ZWRSZWFzb24pOihjbGFzc2VzLmVtcHR5UmVhc29uKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID57dGhpcy5zdGF0ZS5yZWFzb25Db2RlfTwvVHlwb2dyYXBoeT4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFjdGlvblNhdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e2Rpc2NhcmRNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWdyZWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbURpYWxvZyBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFjdGlvblNhdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2d9IHRpdGxlPXtkaXNjYXJkTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24ga2V5PXtcIkN1c3RvbURpYWxvZ1wiKzB9IG9uQ2xpY2s9e3RoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nfSBjb2xvcj1cInByaW1hcnlcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5dXHJcbiAgICAgICAgICAgICAgICAgICAgfSAvPlxyXG5cclxuICAgICAgICAgICAgICAgIHsvKiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5XYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgaWQ9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiPntyZXNvbHZlTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tRGlhbG9nIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlV2FybmluZ0RpYWxvZ30gdGl0bGU9e3Jlc29sdmVNZXNzYWdlfSBhY3Rpb25zPXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFs8QnV0dG9uICBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9IGNvbG9yPVwicHJpbWFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XVxyXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cclxuICAgICAgICAgICAgICAgIHsvKiA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5Ob1JlYXNvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlTm9SZWFzb25EaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e25vUmVhc29uTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbURpYWxvZyBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbk5vUmVhc29uRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZ30gdGl0bGU9e25vUmVhc29uTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZU5vUmVhc29uRGlhbG9nfSBjb2xvcj1cInNlY29uZGFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XVxyXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cclxuICAgICAgICAgICAgICAgIHsvKiA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5Ob0ludm9pY2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGlkPVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIj57bm9JbnZvaWNlTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VOb0ludm9pY2VEaWFsb2d9IGNvbG9yPVwiZGVmYXVsdFwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPiAqL31cclxuICAgICAgICAgICAgICAgIDxDdXN0b21EaWFsb2cgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5Ob0ludm9pY2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZ30gdGl0bGU9e25vSW52b2ljZU1lc3NhZ2V9IGFjdGlvbnM9e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgWzxCdXR0b24ga2V5PXtcIkN1c3RvbURpYWxvZ1wiKzB9IG9uQ2xpY2s9e3RoaXMuY2xvc2VOb0ludm9pY2VEaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5dXHJcbiAgICAgICAgICAgICAgICAgICAgfSAvPlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsyfSBtZD17Mn0gbGc9ezJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0T2ZmIHN0eWxlPXt7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH19IG9uQ2xpY2s9e3RoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2d9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIiM1RkMzMkNcIiB9fSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuc3RhdGUucmVhc29uQ29kZSA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhdGUucmVhc29uQ29kZSA/IHRoaXMuc2F2ZURpc3B1dGUgOiBlbXB0eUZ1bmN0aW9ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuRGlzcHV0ZS5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5EaXNwdXRlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShEaXNwdXRlKVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0Rpc3B1dGUuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0J1dHRvbic7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQge1xyXG4gIERvbmUsXHJcbiAgSGlnaGxpZ2h0T2ZmLFxyXG4gIERhdGVSYW5nZSxcclxuICBDaGVja0NpcmNsZU91dGxpbmVcclxufSBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zXCI7XHJcbmltcG9ydCBEYXRlRm5zVXRpbHMgZnJvbSAnQGRhdGUtaW8vZGF0ZS1mbnMnO1xyXG5pbXBvcnQgeyBNdWlQaWNrZXJzVXRpbHNQcm92aWRlciB9IGZyb20gJ21hdGVyaWFsLXVpLXBpY2tlcnMnO1xyXG5pbXBvcnQgeyBEYXRlUGlja2VyIH0gZnJvbSAnbWF0ZXJpYWwtdWktcGlja2Vycyc7XHJcbmltcG9ydCB7IE11aVRoZW1lUHJvdmlkZXIsIGNyZWF0ZU11aVRoZW1lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgYmx1ZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMvYmx1ZSc7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RleHRGaWVsZCc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IE51bWJlckZvcm1hdCBmcm9tICdyZWFjdC1udW1iZXItZm9ybWF0JztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBTZWxlY3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU2VsZWN0JztcclxuaW1wb3J0IE1lbnVJdGVtIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL01lbnVJdGVtJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCBDdXN0b21EaWFsb2cgZnJvbSAnLi9DdXN0b21EaWFsb2cnO1xyXG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7XHJcbmltcG9ydCB7IGVtcHR5RnVuY3Rpb24gfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBpc1ZhbGlkRGF0ZSB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XHJcblxyXG4vL2NvbnN0YW50c1xyXG5jb25zdCBmb2xsb3d1cFJlZ2V4ID0gLyhcXGR7NH0tXFxkezJ9LVxcZHsyfVRbXFxkezJ9Ol0qLlxcZHszfVstfCtdXFxkezJ9OlxcZHsyfSl8KHJlYXNvbjogLiopL2c7XHJcbmNvbnN0IGRpc2NhcmRNZXNzYWdlID1cclxuICBcIlRoaXMgd2lsbCBiZSByZW1vdmVkIHBlcm1hbmVudGx5IGZyb20gdGhlIHN1Z2dlc3RlZCBhY3Rpb25zLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLlwiO1xyXG5jb25zdCByZXNvbHZlTWVzc2FnZSA9XHJcbiAgXCIgVW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBhY3Rpb24uIFBsZWFzZSByZXNvbHZlIHRoZSBlcnJvcnMgdG8gYXBwcm92ZS5cIjtcclxuY29uc3Qgbm9UZXh0TWVzc2FnZSA9IFwiUGxlYXNlIHNlbGVjdCBhcHByb3ByaWF0ZSBmb2xsb3d1cCByZWFzb24uXCI7XHJcbmNvbnN0IGludmFsaWREYXRlTWVzc2FnZSA9XHJcbiAgXCJGb3VuZCBpbnZhbGlkIGRhdGUuIFBsZWFzZSBjb3JyZWN0IHRoZSBkYXRlIHRvIHByb2NlZWQuXCI7XHJcbmNvbnN0IEZPTExPV1VQX1RFTVBMQVRFID1cclxuICBcIkZvbGxvdyB1cCAgPENvbnRhY3QgTmFtZT4gPEZvbGxvd3VwIERhdGU+IDxGb2xsb3d1cCBUZXh0PlwiO1xyXG5jb25zdCBGT0xMT1dVUF9PUklHX1RFTVBMQVRFID1cclxuICBcIkNyZWF0ZSBGb2xsb3d1cCBldmVudCBmb3IgPEZvbGxvd3VwIERhdGU+IHJlYXNvbjogPEZvbGxvd3VwIFRleHQ+XCI7XHJcbmNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgaW52b2ljZVNhbXBsZToge1xyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBmbGV4V3JhcDogXCJuby13cmFwXCIsXHJcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAganVzdGlmeTogXCJzcGFjZS1iZXR3ZWVuXCIsXHJcbiAgICB3aWR0aDogXCIxMDAlXCJcclxuICB9LFxyXG4gIHRleHRGaWVsZDoge1xyXG4gICAgbWFyZ2luOiBcIjBweFwiLFxyXG4gICAgLy8gd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgZm9udFNpemU6IFwiMC44NzVyZW1cIlxyXG4gICAgLy8gcGFkZGluZzogXCIwcHhcIixcclxuICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXHJcbiAgICAvLyB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcclxuICB9LFxyXG4gIHNlbGVjdGVkUmVhc29uOiB7XHJcbiAgICBtYXJnaW46IFwiMHB4XCIsXHJcbiAgICAvLyB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgLy8gcGFkZGluZzogXCIwcHhcIixcclxuICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXHJcbiAgICBcIiY6YmVmb3JlXCI6IHtcclxuICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjNURBQUUwXCJcclxuICAgIH0sXHJcbiAgICBcIiY6YWZ0ZXJcIjoge1xyXG4gICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICM1REFBRTBcIlxyXG4gICAgfVxyXG4gIH0sXHJcbiAgZW1wdHlSZWFzb246IHtcclxuICAgIG1hcmdpbjogXCIwcHhcIixcclxuICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICBjb2xvcjogXCJncmF5XCIsXHJcbiAgICBcIiY6YmVmb3JlXCI6IHtcclxuICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjZmY0NTQzXCJcclxuICAgIH0sXHJcbiAgICBcIiY6YWZ0ZXJcIjoge1xyXG4gICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIlxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbWVudUl0ZW1Sb290OiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICB9LFxyXG4gIG1lbnVQYXBlcjoge1xyXG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgaGVpZ2h0OiBcIjIwcmVtICFpbXBvcnRhbnRcIixcclxuICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICBib3JkZXI6IFwiMnB4IHNvbGlkIHdoaXRlXCJcclxuICB9LFxyXG4gIHNlbGVjdE1lbnVDbGFzczoge1xyXG4gICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgIG9wYWNpdHk6IDAuNjUsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICB9LFxyXG4gIHRlc3Q6IHtcclxuICAgIHdpZHRoOiBcImF1dG9cIixcclxuICAgIHBhZGRpbmc6IFwiMHB4XCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBvcGFjaXR5OiAwLjYsXHJcbiAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiXHJcbiAgfSxcclxuICBhY3Rpb25Qcm9ncmVzc0Jhcjoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgIHdpZHRoOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIixcclxuICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcclxuICAgIGhlaWdodDogXCIxLjVyZW0gIWltcG9ydGFudFwiXHJcbiAgfSxcclxuICBjYXJkQ29udGVudDoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgb3BhY2l0eTogMC42NVxyXG4gIH0sXHJcblxyXG4gIGFjdGlvbkljb246IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgfSxcclxuICBzZWxlY3RJY29uOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxyXG4gIH0sXHJcbiAgZGlzYWJsZURvbmVCdG46IHtcclxuICAgIG9wYWNpdHk6IDAuNCxcclxuICAgIGN1cnNvcjogXCJkZWZhdWx0XCJcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgbWF0ZXJpYWxUaGVtZSA9IGNyZWF0ZU11aVRoZW1lKHtcclxuICBvdmVycmlkZXM6IHtcclxuICAgIE11aVBpY2tlcnNUb29sYmFyOiB7XHJcbiAgICAgIHRvb2xiYXI6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJsdWUuQTIwMCxcclxuICAgICAgICBoZWlnaHQ6IFwiMTN2aFwiXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXI6IHtcclxuICAgICAgc3dpdGNoSGVhZGVyOiB7XHJcbiAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBsaWdodEJsdWUuQTIwMCxcclxuICAgICAgICAvLyBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE11aVBpY2tlcnNEYXk6IHtcclxuICAgICAgZGF5OiB7XHJcbiAgICAgICAgY29sb3I6IGJsdWUuQTcwMFxyXG4gICAgICB9LFxyXG4gICAgICBzZWxlY3RlZDoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogYmx1ZVtcIjQwMFwiXVxyXG4gICAgICB9LFxyXG4gICAgICBjdXJyZW50OiB7XHJcbiAgICAgICAgY29sb3I6IGJsdWVbXCI5MDBcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XHJcbiAgICAgIGVycm9yOiB7XHJcbiAgICAgICAgY29sb3I6IFwiI0ZGODg4OCAhaW1wb3J0YW50XCJcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE11aVBpY2tlcnNNb2RhbDoge1xyXG4gICAgICBkaWFsb2dBY3Rpb246IHtcclxuICAgICAgICBjb2xvcjogYmx1ZVtcIjQwMFwiXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbmNsYXNzIEZvbGxvd3VwIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgbGV0IGV4dHJhY3RlZERhdGEgPSB0aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChmb2xsb3d1cFJlZ2V4KTtcclxuICAgIGxldCBzZWxlY3RlZERhdGUgPSBcIlwiO1xyXG4gICAgbGV0IGZvbGxvd3VwVGV4dCA9IFwiXCI7XHJcbiAgICBpZiAoZXh0cmFjdGVkRGF0YSAmJiBleHRyYWN0ZWREYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgc2VsZWN0ZWREYXRlID0gbmV3IERhdGUoZXh0cmFjdGVkRGF0YVswXSk7XHJcbiAgICAgIGZvbGxvd3VwVGV4dCA9IGV4dHJhY3RlZERhdGFbMV0gPyBleHRyYWN0ZWREYXRhWzFdLnN1YnN0cmluZyg4KSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGZvbGxvd3VwVGV4dHMgPSB0aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3Q7XHJcblxyXG4gICAgaWYgKGZvbGxvd3VwVGV4dHMuaW5kZXhPZihmb2xsb3d1cFRleHQpIDwgMCkge1xyXG4gICAgICBmb2xsb3d1cFRleHQgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHJlYWRPbmx5OiB0cnVlLFxyXG4gICAgICBpc0VkaXRpbmc6IGZhbHNlLFxyXG4gICAgICBmb2xsb3d1cFRleHQ6IGZvbGxvd3VwVGV4dCxcclxuICAgICAgc2VsZWN0ZWREYXRlOiBuZXcgRGF0ZShzZWxlY3RlZERhdGUpLFxyXG4gICAgICBvcGVuQWN0aW9uU2F2ZTogZmFsc2UsXHJcbiAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcclxuICAgICAgb3BlbkludmFsaWREYXRlRGlhbG9nOiBmYWxzZSxcclxuICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxyXG4gICAgICBhY3Rpb25JZDogdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxyXG4gICAgICBpc0RvbmU6IHRoaXMucHJvcHMuc3VtbWFyeS5zYXZlLFxyXG4gICAgICBmaW5hbFNlbGVjdGVkRGF0ZTogdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmVcclxuICAgICAgICA/IGZvcm1hdChuZXcgRGF0ZShleHRyYWN0ZWREYXRhWzBdKSwgXCJNTU0gZGQsIHl5eXlcIilcclxuICAgICAgICA6IFwiXCIsXHJcbiAgICAgIC8vIGZvbGxvd3VwVGV4dEZpZWxkV2lkdGg6IGZvbGxvd3VwVGV4dCA/IChcIlwiICsgZm9sbG93dXBUZXh0KS5sZW5ndGggKiAxMiA6IDUwLFxyXG4gICAgICBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlLFxyXG4gICAgICBpbmNvcnJlY3RGbGFnOiBudWxsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpbmNvcnJlY3RGbGFnOiBuZXh0UHJvcHMuaW5jb3JyZWN0RmxhZ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB2YWxpZGF0ZUZvbGxvd3VwRGF0YSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1ZhbGlkRGF0ZSh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSkpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5JbnZhbGlkRGF0ZURpYWxvZzogdHJ1ZSB9KTtcclxuICAgICAgLy8gdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2coXCJQbGVhc2UgY29ycmVjdCBkYXRlIGZpcnN0LlwiKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIHNhdmVGb2xsb3d1cCA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy52YWxpZGF0ZUZvbGxvd3VwRGF0YSgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuZm9sbG93dXBUZXh0KSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9UZXh0RGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSB9KTtcclxuICAgIGxldCBmb2xsb3dEYXRlID0gbmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpO1xyXG4gICAgbGV0IGZvbGxvd0Zvcm1hdERhdGUgPSBmb3JtYXQoZm9sbG93RGF0ZSwgXCJ5eXl5LU1NLWRkXCIpO1xyXG5cclxuICAgIGxldCByZXFPYmogPSB7XHJcbiAgICAgIGR1ZURhdGU6IGZvbGxvd0Zvcm1hdERhdGUsXHJcbiAgICAgIHJlbWluZGVyRGF0ZTogZm9sbG93Rm9ybWF0RGF0ZSxcclxuICAgICAgc3ViamVjdDogdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRcclxuICAgICAgLy8gYXNzaWduZWRUb1VzZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIuaWQsXHJcbiAgICB9O1xyXG5cclxuICAgIGF4aW9zXHJcbiAgICAgIC5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2N1c3RvbWVyLyR7dGhpcy5wcm9wcy5jdXN0b21lci5pZH0vdGFza2AsIHJlcU9iailcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJTVUNDRVNTXCIpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaW5hbFNlbGVjdGVkRGF0ZTogdGhpcy5nZXREYXRlRmllbGRWYWx1ZSgpIH0sICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzRG9uZTogdHJ1ZSB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbFxyXG4gICAgICAgIGxldCBzdW1tYXJ5VG9TYXZlID0gdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGlvbigpO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybShzdW1tYXJ5VG9TYXZlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRVJST1JcIik7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcbiAgZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5ID0gKCkgPT4ge1xyXG4gICAgbGV0IGludm9pY2VDb3VudCA9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50O1xyXG4gICAgbGV0IGNvbnRhY3ROdW1iZXIgPSB0aGlzLnByb3BzLmNhbGxlZFRvTnVtYmVyO1xyXG4gICAgLy8gbGV0IHNlbGVjdGVkZm9ybWF0dGVkRGF0ZSA9IChkYXRlLmdldE1vbnRoKCkgKyAxKSArICctJyArIGRhdGUuZ2V0RGF0ZSgpICsgJy0nICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgbGV0IGNvbnRhY3ROYW1lID1cclxuICAgICAgKHRoaXMucHJvcHMuY2FsbFRvTmFtZSA9PSBcIlVua25vd24gXCIgfHxcclxuICAgICAgICB0aGlzLnByb3BzLmNhbGxUb05hbWUgPT0gXCJVbm5hbWVkIFVubmFtZWRcIikgJiZcclxuICAgICAgY29udGFjdE51bWJlclxyXG4gICAgICAgID8gY29udGFjdE51bWJlclxyXG4gICAgICAgIDogdGhpcy5wcm9wcy5jYWxsVG9OYW1lO1xyXG4gICAgbGV0IGdlbmVyYXRlZFN1bW1hcnkgPSBGT0xMT1dVUF9URU1QTEFURS5yZXBsYWNlKFxyXG4gICAgICBcIjxDb250YWN0IE5hbWU+XCIsXHJcbiAgICAgIGNvbnRhY3ROYW1lXHJcbiAgICApXHJcbiAgICAgIC5yZXBsYWNlKFxyXG4gICAgICAgIFwiPEZvbGxvd3VwIERhdGU+XCIsXHJcbiAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGVcclxuICAgICAgICAgID8gXCJvbiBcIiArIGZvcm1hdCh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSwgXCJNTS1kZC15eXl5XCIpXHJcbiAgICAgICAgICA6IFwiXCJcclxuICAgICAgKVxyXG4gICAgICAucmVwbGFjZShcclxuICAgICAgICBcIjxGb2xsb3d1cCBUZXh0PlwiLFxyXG4gICAgICAgIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0ID8gXCJmb3IgXCIgKyB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA6IFwiXCJcclxuICAgICAgKTtcclxuXHJcbiAgICByZXR1cm4gZ2VuZXJhdGVkU3VtbWFyeTtcclxuICB9O1xyXG5cclxuICBvcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IG1lc3NhZ2UgPT4ge1xyXG4gICAgdGhpcy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcclxuICB9O1xyXG5cclxuICBvcGVuQWN0aW9uRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogdHJ1ZSB9KTtcclxuICB9O1xyXG5cclxuICBjbG9zZUFjdGlvbkRpc2NhcmREaWFsb2cgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0pO1xyXG4gIH07XHJcblxyXG4gIGNsb3NlQW5kRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLnByb3BzLmRlbGV0ZUFjdGlvbih0aGlzLnN0YXRlLmFjdGlvbklkKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNsb3NlV2FybmluZ0RpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogZmFsc2UgfSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2VOb1RleHREaWFsb2cgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3Blbk5vVGV4dERpYWxvZzogZmFsc2UgfSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2VJbnZhbGlkRGF0ZURpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuSW52YWxpZERhdGVEaWFsb2c6IGZhbHNlIH0pO1xyXG4gIH07XHJcblxyXG4gIHRvZ2dsZUVkaXRpbmcgPSBlID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyByZWFkT25seTogZmFsc2UsIGlzRWRpdGluZzogdHJ1ZSB9LCAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkKVxyXG4gICAgICAgIC5mb2N1cygpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlRGF0ZUNoYW5nZSA9IGRhdGUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkRGF0ZTogZGF0ZSB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudXBkYXRlU3VtbWFyeSgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgZ2V0RGF0ZUZpZWxkVmFsdWUgPSAoKSA9PiB7XHJcbiAgICBsZXQgaWQgPSBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkO1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS52YWx1ZTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVGb2xsb3d1cFRleHRDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICB7XHJcbiAgICAgICAgY2hhbmdlOiB0cnVlLFxyXG4gICAgICAgIGZvbGxvd3VwVGV4dDogZXZlbnQudGFyZ2V0LnZhbHVlXHJcbiAgICAgICAgLy8gZm9sbG93dXBUZXh0RmllbGRXaWR0aDogZXZlbnQudGFyZ2V0LnZhbHVlID8gKFwiXCIgKyBldmVudC50YXJnZXQudmFsdWUubGVuZ3RoKSAqIDEyIDogNTBcclxuICAgICAgfSxcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlU3VtbWFyeSgpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIGdldEZvbGxvd3VwVGV4dCA9ICgpID0+IHtcclxuICAgIGxldCBmb2xsb3d1cFRleHRzID0gdGhpcy5wcm9wcy5mb2xsb3d1cFRleHRMaXN0O1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCAmJlxyXG4gICAgICBmb2xsb3d1cFRleHRzLmluZGV4T2YodGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQpID49IDBcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJTZWxlY3RcIjtcclxuICB9O1xyXG5cclxuICB1cGRhdGVTdW1tYXJ5ID0gKCkgPT4ge1xyXG4gICAgbGV0IGludm9pY2VDb3VudCA9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50O1xyXG4gICAgbGV0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXQobmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpLCBcInl5eXktTU0tZGRcIik7XHJcbiAgICBsZXQgdXBkYXRlZFN1bW1hcnkgPSBGT0xMT1dVUF9PUklHX1RFTVBMQVRFLnJlcGxhY2UoXHJcbiAgICAgIFwiPEZvbGxvd3VwIERhdGU+XCIsXHJcbiAgICAgIGZvcm1hdHRlZERhdGVcclxuICAgICkucmVwbGFjZShcclxuICAgICAgXCI8Rm9sbG93dXAgVGV4dD5cIixcclxuICAgICAgdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgPyB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA6IFwiXCJcclxuICAgICk7XHJcbiAgICB0aGlzLnByb3BzLnVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSk7XHJcbiAgfTtcclxuXHJcbiAgb3BlblBpY2tlciA9IGUgPT4ge1xyXG4gICAgdGhpcy5waWNrZXIub3BlbihlKTtcclxuICB9O1xyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGNsYXNzZXMgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zdCB7IHN1bW1hcnksIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgY29uc3QgeyBmdWxsU2NyZWVuIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIGxldCBmb2xsb3d1cFRleHRzID0gdGhpcy5wcm9wcy5mb2xsb3d1cFRleHRMaXN0O1xyXG4gICAgbGV0IG9wdGlvbkl0ZW1zID0gZm9sbG93dXBUZXh0cy5tYXAoKGZvbGxvd3VwVGV4dCwgaWQpID0+IChcclxuICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAga2V5PXtcImZvbGxvd3VwVGV4dFwiICsgaWR9XHJcbiAgICAgICAgdmFsdWU9e2ZvbGxvd3VwVGV4dH1cclxuICAgICAgICBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19XHJcbiAgICAgID5cclxuICAgICAgICB7Zm9sbG93dXBUZXh0fVxyXG4gICAgICA8L01lbnVJdGVtPlxyXG4gICAgKSk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEdyaWQgY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlU2FtcGxlfT5cclxuICAgICAgICA8R3JpZFxyXG4gICAgICAgICAgaXRlbVxyXG4gICAgICAgICAgeHM9ezEwfVxyXG4gICAgICAgICAgbWQ9ezEwfVxyXG4gICAgICAgICAgbGc9ezEwfVxyXG4gICAgICAgICAgY29udGFpbmVyXHJcbiAgICAgICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCJcclxuICAgICAgICAgIGp1c3RpZnk9XCJmbGV4LXN0YXJ0XCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjNyZW1cIiB9fT5cclxuICAgICAgICAgICAge3RoaXMuc3RhdGUuYWN0aW9uU2F2ZVByb2dyZXNzQmFyICYmIChcclxuICAgICAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9uUHJvZ3Jlc3NCYXJ9IC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgPERvbmVcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM1RkMzMkNcIixcclxuICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsXHJcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEuNXJlbVwiLFxyXG4gICAgICAgICAgICAgICAgICB3aWR0aDogXCIxLjVyZW1cIlxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0RvbmUgJiYgKFxyXG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBvcGFjaXR5OiAxIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgQ3JlYXRlZCAmbmJzcDtcclxuICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNEb25lICYmIChcclxuICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgb3BhY2l0eTogMSB9fVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIENyZWF0ZSAmbmJzcDtcclxuICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBvcGFjaXR5OiAxIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0+XHJcbiAgICAgICAgICAgICAgRk9MTE9XLVVQICZuYnNwO1xyXG4gICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9PlxyXG4gICAgICAgICAgICAgIGV2ZW50IGZvciAmbmJzcDtcclxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAge1wiIFwifVxyXG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0RvbmUgJiYgKFxyXG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcclxuICAgICAgICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmZpbmFsU2VsZWN0ZWREYXRlfVxyXG4gICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5pc0RvbmUgJiYgKFxyXG4gICAgICAgICAgICAgIDxNdWlQaWNrZXJzVXRpbHNQcm92aWRlciB1dGlscz17RGF0ZUZuc1V0aWxzfT5cclxuICAgICAgICAgICAgICAgIDxNdWlUaGVtZVByb3ZpZGVyIHRoZW1lPXttYXRlcmlhbFRoZW1lfT5cclxuICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXhXaWR0aDogXCI1LjM1cmVtXCIgfX1cclxuICAgICAgICAgICAgICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbD17Qm9vbGVhbihmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0PVwiTU1NIGRkLCB5eXl5XCJcclxuICAgICAgICAgICAgICAgICAgICBtaW5EYXRlTWVzc2FnZT1cIlByZXZpb3VzIGRhdGUgbm90IGFjY2VwdGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogQm9vbGVhbih0cnVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IEJvb2xlYW4odHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZj17bm9kZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlciA9IG5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zZWxlY3RlZERhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRGF0ZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAvLyBvbkNsaWNrPXtlID0+IGUucHJldmVudERlZmF1bHR9XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIG1pbkRhdGU9e25ldyBEYXRlKCl9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxEYXRlUmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9uSWNvbn1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9wZW5QaWNrZXJ9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L011aVRoZW1lUHJvdmlkZXI+XHJcbiAgICAgICAgICAgICAgPC9NdWlQaWNrZXJzVXRpbHNQcm92aWRlcj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgIDxHcmlkIGl0ZW0gaGlkZGVuPXt0aGlzLnN0YXRlLmlzRG9uZSAmJiAhdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHR9PlxyXG4gICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9PlxyXG4gICAgICAgICAgICAgICZuYnNwOyBmb3IgJm5ic3A7XHJcbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgIDxHcmlkXHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0RmllbGRXaWR0aCB9fVxyXG4gICAgICAgICAgICBoaWRkZW49e3RoaXMuc3RhdGUuaXNEb25lfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8U2VsZWN0XHJcbiAgICAgICAgICAgICAgaWQ9XCJmb2xsb3d1cC10ZXh0LWZpZWxkXCJcclxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5nZXRGb2xsb3d1cFRleHQoKX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVGb2xsb3d1cFRleHRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgY2xhc3Nlcz17e1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0TWVudTogY2xhc3Nlcy5zZWxlY3RNZW51Q2xhc3MsXHJcbiAgICAgICAgICAgICAgICBpY29uOiBjbGFzc2VzLnNlbGVjdEljb25cclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dFxyXG4gICAgICAgICAgICAgICAgICA/IGNsYXNzZXMuc2VsZWN0ZWRSZWFzb25cclxuICAgICAgICAgICAgICAgICAgOiBjbGFzc2VzLmVtcHR5UmVhc29uXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIE1lbnVQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgY2xhc3Nlczoge1xyXG4gICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19XHJcbiAgICAgICAgICAgICAgICB2YWx1ZT1cIlNlbGVjdFwiXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIFNlbGVjdFxyXG4gICAgICAgICAgICAgIDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAge29wdGlvbkl0ZW1zfVxyXG4gICAgICAgICAgICA8L1NlbGVjdD5cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgIDxHcmlkXHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0RmllbGRXaWR0aCB9fVxyXG4gICAgICAgICAgICBoaWRkZW49eyF0aGlzLnN0YXRlLmlzRG9uZX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgIGlkPXtcInJlYXNvbi1jb2RlLWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZH1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuc2VsZWN0ZWRSZWFzb259XHJcbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZm9sbG93dXBUZXh0fVxyXG4gICAgICAgICAgICAgIC8vIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUludm9pY2VDdXJyZW5jeUNoYW5nZShcImFtb3VudFwiKX1cclxuICAgICAgICAgICAgICBtYXJnaW49XCJub3JtYWxcIlxyXG4gICAgICAgICAgICAgIHBhZGRpbmc9XCJub3JtYWxcIlxyXG4gICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50ZXN0LFxyXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAvLyBpbnB1dENvbXBvbmVudDogTnVtYmVyRm9ybWF0Q3VzdG9tLFxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICA8Q3VzdG9tRGlhbG9nXHJcbiAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuTm9UZXh0RGlhbG9nfVxyXG4gICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU5vVGV4dERpYWxvZ31cclxuICAgICAgICAgIHRpdGxlPXtub1RleHRNZXNzYWdlfVxyXG4gICAgICAgICAgYWN0aW9ucz17W1xyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZU5vVGV4dERpYWxvZ31cclxuICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXHJcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIF19XHJcbiAgICAgICAgLz5cclxuICAgICAgICB7LyogPERpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuQWN0aW9uU2F2ZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGlkPVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIj57ZGlzY2FyZE1lc3NhZ2V9PC9EaWFsb2dUaXRsZT5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZ30gY29sb3I9XCJzZWNvbmRhcnlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc2FncmVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgPEN1c3RvbURpYWxvZ1xyXG4gICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFjdGlvblNhdmV9XHJcbiAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZ31cclxuICAgICAgICAgIHRpdGxlPXtkaXNjYXJkTWVzc2FnZX1cclxuICAgICAgICAgIGFjdGlvbnM9e1tcclxuICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZ30gY29sb3I9XCJzZWNvbmRhcnlcIj5cclxuICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICA8L0J1dHRvbj4sXHJcbiAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZ31cclxuICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgQWdyZWVcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICBdfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbldhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e3Jlc29sdmVNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9IGNvbG9yPVwiZGVmYXVsdFwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPiAqL31cclxuICAgICAgICA8Q3VzdG9tRGlhbG9nXHJcbiAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZ31cclxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgdGl0bGU9e3Jlc29sdmVNZXNzYWdlfVxyXG4gICAgICAgICAgYWN0aW9ucz17W1xyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICBdfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkludmFsaWREYXRlRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGlkPVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIj57aW52YWxpZERhdGVNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUludmFsaWREYXRlRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgPEN1c3RvbURpYWxvZ1xyXG4gICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkludmFsaWREYXRlRGlhbG9nfVxyXG4gICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUludmFsaWREYXRlRGlhbG9nfVxyXG4gICAgICAgICAgdGl0bGU9e2ludmFsaWREYXRlTWVzc2FnZX1cclxuICAgICAgICAgIGFjdGlvbnM9e1tcclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZ31cclxuICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXHJcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIF19XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8R3JpZCBpdGVtIHhzPXsyfSBtZD17Mn0gbGc9ezJ9PlxyXG4gICAgICAgICAgeyF0aGlzLnN0YXRlLmlzRG9uZSAmJiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPEhpZ2hsaWdodE9mZlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIgfX1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2d9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogXCIjNUZDMzJDXCIgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0ID8gXCJcIiA6IGNsYXNzZXMuZGlzYWJsZURvbmVCdG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IHRoaXMuc2F2ZUZvbGxvd3VwIDogZW1wdHlGdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L0dyaWQ+XHJcbiAgICAgIDwvR3JpZD5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOdW1iZXJGb3JtYXRDdXN0b20ocHJvcHMpIHtcclxuICBjb25zdCB7IGlucHV0UmVmLCBvbkNoYW5nZSwgLi4ub3RoZXIgfSA9IHByb3BzO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPE51bWJlckZvcm1hdFxyXG4gICAgICB7Li4ub3RoZXJ9XHJcbiAgICAgIGdldElucHV0UmVmPXtpbnB1dFJlZn1cclxuICAgICAgb25WYWx1ZUNoYW5nZT17dmFsdWVzID0+IHtcclxuICAgICAgICBvbkNoYW5nZSh7XHJcbiAgICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlcy52YWx1ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9fVxyXG4gICAgICB0aG91c2FuZFNlcGFyYXRvclxyXG4gICAgICBwcmVmaXg9XCIkXCJcclxuICAgIC8+XHJcbiAgKTtcclxufVxyXG5cclxuTnVtYmVyRm9ybWF0Q3VzdG9tLnByb3BUeXBlcyA9IHtcclxuICBpbnB1dFJlZjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxyXG59O1xyXG5cclxuRm9sbG93dXAucHJvcFR5cGVzID0ge1xyXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEZvbGxvd3VwKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvRm9sbG93dXAuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IEdyaWRMaXN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWRMaXN0JztcclxuaW1wb3J0IEdyaWRMaXN0VGlsZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkTGlzdFRpbGUnO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2hlY2tib3gnO1xyXG5pbXBvcnQgQ2hlY2tDaXJjbGVJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DaGVja0NpcmNsZSc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgUmFkaW9CdXR0b25VbmNoZWNrZWRJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9SYWRpb0J1dHRvblVuY2hlY2tlZCc7XHJcbmltcG9ydCBBZGQgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0FkZCc7XHJcbmltcG9ydCBSZW1vdmVDaXJjbGVPdXRsaW5lIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9SZW1vdmVDaXJjbGVPdXRsaW5lJztcclxuaW1wb3J0IENsb3NlIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IEZhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9GYWInO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DYXJkJztcclxuaW1wb3J0IENhcmRDb250ZW50IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NhcmRDb250ZW50JztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBFcnJvciBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRXJyb3InO1xyXG5pbXBvcnQgRGlhbG9nIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZyc7XHJcbmltcG9ydCBEaWFsb2dBY3Rpb25zIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ0FjdGlvbnMnO1xyXG5pbXBvcnQgRGlhbG9nVGl0bGUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nVGl0bGUnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTW9kYWwnO1xyXG5pbXBvcnQgRHVlRGV0YWlsIGZyb20gJy4vRHVlRGV0YWlsJztcclxuaW1wb3J0IENsZWFyIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbGVhcic7XHJcbmltcG9ydCB7IGZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcbmltcG9ydCB7IGZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XHJcbmltcG9ydCBMaXN0T2ZUaWxlIGZyb20gJy4vTGlzdE9mVGlsZSc7XHJcblxyXG5cclxuY29uc3QgUDJQUmVnZXggPSAvKFByb21pc2UgdG8gcGF5IGZvciBcXGQqKXwoWzAtOV17NH1bLV1bMC05XXsyfVstXVswLTldezJ9KXwoXFxkKiBpbnZvaWNlKS9nO1xyXG5jb25zdCBtZXNzYWdlID0gXCJQbGVhc2Ugc2VsZWN0IHNvbWUgaW52b2ljZXMuXCI7XHJcbmNvbnN0IGRpc3B1dGVSZWdleCA9IC8oXFxkKiBpbnZvaWNlKXwoYmVjYXVzZSBvZiAuKikvZztcclxuXHJcbmZ1bmN0aW9uIHJhbmQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjApIC0gMTA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1vZGFsU3R5bGUodGhlbWUpIHtcclxuICAgIGNvbnN0IHRvcCA9IDUwO1xyXG4gICAgY29uc3QgbGVmdCA9IDUwO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9wOiBgJHt0b3B9JWAsXHJcbiAgICAgICAgbGVmdDogYCR7bGVmdH0lYCxcclxuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoLSR7dG9wfSUsIC0ke2xlZnR9JSlgLFxyXG4gICAgICAgIHdpZHRoOiBcIjczdndcIixcclxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgMnB4IHNvbGlkXCIsXHJcbiAgICB9O1xyXG59XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG5cclxuICAgIGludm9pY2VIZWFkZXI6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNi40ODE0ODE0ODE0OHZoXCIsXHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiIzM5NUM3MyBzb2xpZCAxcHhcIixcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIzcmVtXCJcclxuICAgICAgICAvLyBib3JkZXJUb3A6IFwic29saWQgYmxhY2sgMXB4XCJcclxuICAgIH0sXHJcbiAgICBjaGVja2VkSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIHpJbmRleDogXCIzXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcImF1dG9cIixcclxuICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxyXG4gICAgICAgIG1hcmdpblRvcDogXCIxcmVtXCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuOXJlbVwiLFxyXG4gICAgICAgIC8vIGZsZXhXcmFwOiAnd3JhcCcsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1hcm91bmQnLFxyXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIzcmVtXCJcclxuICAgIH0sXHJcbiAgICBjb3JyZWN0aW9uOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICB9LFxyXG4gICAgY29ycmVjdGlvbkFsZXJ0OiB7XHJcbiAgICAgICAgY29sb3I6IFwiI0ZGODg4OFwiLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxyXG4gICAgfSxcclxuICAgIGVycm9yRmxhZzoge1xyXG4gICAgICAgIGNvbG9yOiBcIiNGRjQ0NDRcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogJzEwcHggMHB4IC0ycHggLS40cmVtICFpbXBvcnRhbnQnLFxyXG4gICAgfSxcclxuICAgIGdyaWRMaXN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcclxuICAgICAgICBoZWlnaHQ6IFwiNy40MHZoXCIsXHJcbiAgICAgICAgYm9yZGVyOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluICsgXCIgc29saWQgMXB4XCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuICAgICAgICAvLyBwYWRkaW5nOiAnNHB4JyxcclxuXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxyXG4gICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuICAgICAgICAvLyBwYWRkaW5nOiAnNHB4JyxcclxuICAgIH0sXHJcbiAgICBpbmNvcnJlY3REaXY6IHtcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgYm9yZGVyOiBcIiNGRjg4ODggZGFzaGVkIDFweFwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcclxuICAgICAgICBoZWlnaHQ6IFwiNy40MHZoXCIsXHJcbiAgICAgICAgLy8gcGFkZGluZzogJzRweCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxyXG4gICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjogXCIjRkVDNUM1XCIsXHJcbiAgICB9LFxyXG4gICAgcGFwZXI6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB3aWR0aDogdGhlbWUuc3BhY2luZy51bml0ICogMTAwLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBib3hTaGFkb3c6IHRoZW1lLnNoYWRvd3NbNV0sXHJcbiAgICAgICAgcGFkZGluZzogdGhlbWUuc3BhY2luZy51bml0ICogMSxcclxuICAgICAgICBwYWRkaW5nTGVmdDogMCxcclxuICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcclxuICAgIH0sXHJcbiAgICBidXR0b246IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMmVtXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIlxyXG4gICAgfSxcclxuICAgIGFkZEljb246IHtcclxuICAgICAgICB3aWR0aDogJ2NhbGMoMS4xdmggKyAxLjF2dyknLFxyXG4gICAgICAgIGhlaWdodDogJ2NhbGMoMS4xdmggKyAxLjF2dyknLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgc2Vjb25kYXJ5VGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgcHJpbWFyeVRleHQ6IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICAgIH0sXHJcbn0pO1xyXG5cclxuY2xhc3MgQWN0aW9uRGV0YWlscyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICBsZXQgc3VtbWFyeSA9IHRoaXMucHJvcHMuc3VtO1xyXG4gICAgICAgIGxldCBpbnRlbnRUeXBlID0gdGhpcy5wcm9wcy5pbnRlbnRUeXBlO1xyXG4gICAgICAgIGxldCBleHRyYWN0ZWRBbW91bnQ7XHJcbiAgICAgICAgLy8gbGV0IG5vT2ZJbnZvaWNlcyA9IDA7XHJcbiAgICAgICAgaWYgKGludGVudFR5cGUgPT0gXCJQMlBcIikge1xyXG4gICAgICAgICAgICBsZXQgZXh0cmFjdGVkRGF0YSA9IHN1bW1hcnkuc3VtbWFyeS5tYXRjaChQMlBSZWdleCk7XHJcbiAgICAgICAgICAgIGV4dHJhY3RlZEFtb3VudCA9IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pXHJcblxyXG4gICAgICAgICAgICBpZiAoIWV4dHJhY3RlZEFtb3VudCkge1xyXG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkQW1vdW50ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBub09mSW52b2ljZXMgPSBleHRyYWN0ZWREYXRhWzJdID8gZXh0cmFjdGVkRGF0YVsyXS5tYXRjaCgvWzAtOV17MSx9LykgOiAwO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKCFub09mSW52b2ljZXMpIHtcclxuICAgICAgICAgICAgLy8gICAgIG5vT2ZJbnZvaWNlcyA9IDA7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbnZvaWNlQ2hlY2tzTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGxldCBpbnZvaWNlcyA9IHRoaXMucHJvcHMuY29ycmVjdEludm9pY2VzO1xyXG4gICAgICAgIGlmIChpbnZvaWNlcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW52b2ljZSA9IGludm9pY2VzW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIGludm9pY2VDaGVja3NNYXAuc2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGludGVudFR5cGUgPT0gXCJEaXNwdXRlXCIpIHtcclxuICAgICAgICAgICAgbGV0IGV4dHJhY3RlZERhdGEgPSBzdW1tYXJ5LnN1bW1hcnkubWF0Y2goZGlzcHV0ZVJlZ2V4KTtcclxuICAgICAgICAgICAgLy8gbm9PZkludm9pY2VzID0gZXh0cmFjdGVkRGF0YVswXSA/IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pIDogMDtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmICghbm9PZkludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBub09mSW52b2ljZXMgPSAwO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICBsZXQgcmVhc29uQ29kZSA9IGV4dHJhY3RlZERhdGFbMV0gPyBleHRyYWN0ZWREYXRhWzFdLnN1YnN0cmluZygxMSkgOiBcIkdlbmVyYWwgRGlzcHV0ZVwiO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFyZWFzb25Db2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZWFzb25Db2RlID0gXCJHZW5lcmFsIERpc3B1dGVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgYWxsSW52b2ljZXNTZWxlY3RlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IGludm9pY2VDaGVja3NNYXAsXHJcbiAgICAgICAgICAgIHRvdGFsQW1vdW50OiBleHRyYWN0ZWRBbW91bnQsXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogdGhpcy5wcm9wcy5pbnZvaWNlQ291bnQsXHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogdGhpcy5wcm9wcy5jb3JyZWN0SW52b2ljZXMsXHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogdGhpcy5wcm9wcy5jb3JyZWN0SW52b2ljZXNNYXAsXHJcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IHRoaXMucHJvcHMuaW5jb3JyZWN0RmxhZyxcclxuICAgICAgICAgICAgaXNNZXNzYWdlRGlhbG9nT3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIG9wZW5BZGRJbnZvaWNlTW9kYWw6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbnZvaWNlczogdGhpcy5wcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgYWxsSW52b2ljZXM6IHRoaXMucHJvcHMuaW52b2ljZXMsXHJcbiAgICAgICAgICAgIGV4ZWN1dGVBcHBlbmRJbnZvaWNlOiBmYWxzZSxcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XHJcbiAgICAvLyAgICAgLy8gdGhpcy5zZXRTdGF0ZSh7Y29ycmVjdEludm9pY2VzOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzfSk7XHJcbiAgICAvLyAgICAgLy8gIHRoaXMuc2V0U3RhdGUoe2NvcnJlY3RJbnZvaWNlczogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlcyxjb3JyZWN0SW52b2ljZXNNYXA6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXNNYXB9KVxyXG5cclxuICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHtjb3JyZWN0SW52b2ljZXM6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcH0pO1xyXG4gICAgLy8gfVxyXG4gICAgc2V0U2VsZWN0ZWRJbnZvaWNlcyA9IChpbnZvaWNlcykgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiBpbnZvaWNlcyB9KVxyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdGVkSW52b2ljZXNMZW5ndGggPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSW52b2ljZXMgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSW52b2ljZXNDb3VudCA9IDBcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNlbGVjdGVkSW52b2ljZXMpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNbaV0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlc0NvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICcoJyArIHNlbGVjdGVkSW52b2ljZXNDb3VudCArICcpJztcclxuICAgIH1cclxuXHJcbiAgICBmaWx0ZXJJbnZvaWNlcyA9IChpbnZvaWNlVHlwZSkgPT4ge1xyXG4gICAgICAgIGlmIChpbnZvaWNlVHlwZSA9PSBcIkFsbFwiKVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IHRoaXMuc3RhdGUuYWxsSW52b2ljZXMgfSk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBpbnZvaWNlcyA9IHRoaXMuc3RhdGUuYWxsSW52b2ljZXM7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZEludm9pY2VzID0gW11cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZvaWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBBcnJheSA9IFtdXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGludm9pY2VzW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiRGlzcHV0ZVwiICYmIGludm9pY2VzW2ldW2pdLmRpc3B1dGVTdGF0dXMgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJQcmVkaWN0ZWQgRGVsaW5xdWVudFwiICYmIGludm9pY2VzW2ldW2pdLnAycERlbGlucXVlbnQgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJVcGNvbWluZyBQMlBcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBVcGNvbWluZyA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIkJyb2tlbiBQMlBcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBCcm9rZW4gPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEludm9pY2VzLnB1c2godGVtcEFycmF5KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogZmlsdGVyZWRJbnZvaWNlcyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlQ2hlY2tib3ggPSBpZCA9PiB7XHJcblxyXG4gICAgICAgIGxldCBjaGVja2VkID0gdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpZCk7XHJcbiAgICAgICAgbGV0IHVwZGF0ZWRDaGVja2JveE1hcCA9IHRoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcclxuICAgICAgICB1cGRhdGVkQ2hlY2tib3hNYXAuc2V0KGlkLCAhY2hlY2tlZCk7XHJcbiAgICAgICAgbGV0IGZsYWcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlc0NoZWNrYm94TWFwOiB1cGRhdGVkQ2hlY2tib3hNYXAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbnZvaWNlS2V5IG9mIHVwZGF0ZWRDaGVja2JveE1hcC5rZXlzKCkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZWRDaGVja2JveE1hcC5nZXQoaW52b2ljZUtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhbGxJbnZvaWNlc1NlbGVjdGVkOiBmbGFnIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVJbnZvaWNlID0gaW52b2ljZU51bWJlciA9PiB7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0ZW1wKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT0gaW52b2ljZU51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRlbXBba2V5XTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY2hlY2tib3hNYXAgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XHJcbiAgICAgICAgY2hlY2tib3hNYXAuZGVsZXRlKGludm9pY2VOdW1iZXIpO1xyXG4gICAgICAgIC8vIGZvciAobGV0IGtleSBvZiBjaGVja2JveE1hcCkge1xyXG5cclxuICAgICAgICAvLyAgICAgaWYgKGtleSA9PSBOdW1iZXIoaW52b2ljZU51bWJlcikpIHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGtleSk7XHJcbiAgICAgICAgLy8gICAgICAgICBjaGVja2JveE1hcC5kZWxldGUoa2V5KTtcclxuICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogY2hlY2tib3hNYXAsXHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuZmlsdGVyKGludm9pY2UgPT4gaW52b2ljZS5pZCAhPSBpbnZvaWNlTnVtYmVyKSxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiB0ZW1wXHJcbiAgICAgICAgfSxcclxuICAgICAgICAgICAgKCkgPT4geyB0aGlzLnVwZGF0ZUludm9pY2VzVGhpbmdzKGludm9pY2VOdW1iZXIpOyB0aGlzLnByb3BzLnVwZGF0ZUludm9pY2VzKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLCB0ZW1wKSB9XHJcbiAgICAgICAgKVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQWxsU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBpbnZvaWNlTWFwID0gdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xyXG4gICAgICAgICAgICBhbGxJbnZvaWNlc1NlbGVjdGVkOiAhcHJldlN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWRcclxuICAgICAgICB9KSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbnZvaWNlS2V5IG9mIGludm9pY2VNYXAua2V5cygpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZvaWNlTWFwLnNldChpbnZvaWNlS2V5LCB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZUNoZWNrc01hcDogaW52b2ljZU1hcCB9KTtcclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVBbGxTZWxlY3Rpb24gPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCB0b0RlbGV0ZUludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuZmlsdGVyKGludm9pY2UgPT5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpID09IHRydWVcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAodG9EZWxldGVJbnZvaWNlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNNZXNzYWdlRGlhbG9nT3BlbjogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHVwZGF0ZWRJbnZvaWNlcyA9IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLmZpbHRlcihpbnZvaWNlID0+XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSA9PSBmYWxzZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBpbnZvaWNlc0NoZWNrYm94TWFwID0gdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xyXG4gICAgICAgIGxldCBpbnZvaWNlTWFwID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXA7XHJcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcclxuICAgICAgICBsZXQgaW52b2ljZUxlbmd0aCA9IHVwZGF0ZWRJbnZvaWNlcy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGFsbFNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRvRGVsZXRlSW52b2ljZXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCBrZXkgPSB0b0RlbGV0ZUludm9pY2VzW2ldLmlkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXAuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBpbnZvaWNlTWFwW2tleV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB1cGRhdGVkSW52b2ljZXMsXHJcbiAgICAgICAgICAgIC8vIGludm9pY2VDb3VudDogdXBkYXRlZEludm9pY2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogaW52b2ljZXNDaGVja2JveE1hcCxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBpbnZvaWNlTWFwLFxyXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IGludm9pY2VMZW5ndGgsXHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludm9pY2VMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGludm9pY2UgPSB1cGRhdGVkSW52b2ljZXNbaV07XHJcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gaW52b2ljZS5pZC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIGludm9pY2VNYXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW52b2ljZUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW52b2ljZSA9IHVwZGF0ZWRJbnZvaWNlc1tpXTtcclxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBpbnZvaWNlLmlkLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnZvaWNlc0NoZWNrYm94TWFwLmdldChrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGluY29ycmVjdEZsYWc6IGZsYWcsIGFsbEludm9pY2VzU2VsZWN0ZWQ6IGFsbFNlbGVjdGVkIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uVXBkYXRlSW52b2ljZShmbGFnLCBpbnZvaWNlTGVuZ3RoKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVJbnZvaWNlcyh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcywgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTWVzc2FnZURpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xyXG4gICAgICAgICAgICBpc01lc3NhZ2VEaWFsb2dPcGVuOiAhcHJldlN0YXRlLmlzTWVzc2FnZURpYWxvZ09wZW4sXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgb3BlbkFkZEludm9pY2VNb2RhbCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFkZEludm9pY2VNb2RhbDogdHJ1ZSB9KVxyXG4gICAgfVxyXG4gICAgY2xvc2VBZGRJbnZvaWNlTW9kYWwgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BZGRJbnZvaWNlTW9kYWw6IGZhbHNlIH0pXHJcbiAgICB9XHJcbiAgICBhcHBlbmRJbnZvaWNlcyA9IGludm9pY2VzID0+IHtcclxuICAgICAgICB2YXIgdGVtcE1hcCA9IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwXHJcbiAgICAgICAgdmFyIHRlbXBJbnZvaWNlcyA9IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLnNsaWNlKDApXHJcbiAgICAgICAgdmFyIHRlbXBDaGVja2JveEludm9pY2VNYXAgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXBcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcFt0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXS5pZF0pIHtcclxuICAgICAgICAgICAgICAgIHRlbXBJbnZvaWNlcy5zcGxpY2UodGVtcEludm9pY2VzLmluZGV4T2YodGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNbaV0pLCAxKVxyXG4gICAgICAgICAgICAgICAgdGVtcENoZWNrYm94SW52b2ljZU1hcC5kZWxldGUodGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNbaV0uaWQudG9TdHJpbmcoKSlcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvcnJlY3RJbnZvaWNlczogdGVtcEludm9pY2VzLCBjb3JyZWN0SW52b2ljZXNNYXA6IHt9LCBpbnZvaWNlc0NoZWNrYm94TWFwOiB0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwIH0pXHJcbiAgICAgICAgdGVtcE1hcCA9IHt9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBpbnZvaWNlcykge1xyXG4gICAgICAgICAgICBpZiAoaW52b2ljZXNba2V5XSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCB0aGlzLnByb3BzLmludm9pY2VzLmxlbmd0aDsgcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHEgPSAwOyBxIDwgdGhpcy5wcm9wcy5pbnZvaWNlc1twXS5sZW5ndGg7IHErKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5pbnZvaWNlc1twXVtxXS5pZCA9PSBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBJbnZvaWNlcy5wdXNoKHRoaXMucHJvcHMuaW52b2ljZXNbcF1bcV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcE1hcFtrZXldID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnZvaWNlcykge1xyXG4gICAgICAgICAgICBsZXQgaW52b2ljZXNDaGVja2JveE1hcCA9IHRoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBpbnZvaWNlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGludm9pY2VzW2tleV0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXAuc2V0KGtleS50b1N0cmluZygpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlc0NoZWNrYm94TWFwOiBpbnZvaWNlc0NoZWNrYm94TWFwIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvcnJlY3RJbnZvaWNlczogdGVtcEludm9pY2VzLCBjb3JyZWN0SW52b2ljZXNNYXA6IHRlbXBNYXAsIGludm9pY2VDb3VudDogdGVtcEludm9pY2VzLmxlbmd0aCB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMudXBkYXRlSW52b2ljZXModGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsIHRlbXBNYXApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZUludm9pY2UodGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnLCB0ZW1wSW52b2ljZXMubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UgfSlcclxuXHJcbiAgICB9XHJcbiAgICB1cGRhdGVJbnZvaWNlc1RoaW5ncyA9IChpbnZvaWNlTnVtYmVyKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCBpbnZvaWNlTWFwID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXA7XHJcbiAgICAgICAgLy8gbGV0IGFsbEludm9pY2VzTGlzdCA9IHRoaXMucHJvcHMuYWxsSW52b2ljZXNMaXN0O1xyXG4gICAgICAgIGxldCBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXM7XHJcbiAgICAgICAgbGV0IGludm9pY2VMZW5ndGggPSBpbnZvaWNlcy5sZW5ndGg7XHJcbiAgICAgICAgZGVsZXRlIGludm9pY2VNYXBbaW52b2ljZU51bWJlcl07XHJcblxyXG4gICAgICAgIGlmIChpbnZvaWNlTGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGluY29ycmVjdEZsYWc6IGZhbHNlLCBpbnZvaWNlQ291bnQ6IDAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZhbHNlLCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVsZXRlIGludm9pY2VNYXBbaW52b2ljZU51bWJlcl07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb3JyZWN0SW52b2ljZXNNYXA6IGludm9pY2VNYXAgfSwgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnZvaWNlTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnZvaWNlID0gaW52b2ljZXNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCEoaW52b2ljZS5pZCBpbiBpbnZvaWNlTWFwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmxhZywgaW52b2ljZUNvdW50OiBpbnZvaWNlTGVuZ3RoIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uVXBkYXRlSW52b2ljZShmbGFnLCBpbnZvaWNlTGVuZ3RoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjYWxjdWxhdGVBbW91bnQgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGFtb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IGNvcnJlY3RJbnZvaWNlcyA9IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzO1xyXG4gICAgICAgIGZvciAobGV0IGkgaW4gY29ycmVjdEludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGFtb3VudCArPSAoY29ycmVjdEludm9pY2VzW2ldLmlkIGluIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKSA/IGNvcnJlY3RJbnZvaWNlc1tpXS5jdXJyZW50T3BlbkFtb3VudCA6IDBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFtb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9ybWF0Q3VycmVuY3lUb1VTRm9ybWF0KGFtb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcblxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMucHJvcHMuZG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+PE1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInNpbXBsZS1tb2RhbC10aXRsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJzaW1wbGUtbW9kYWwtZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5BZGRJbnZvaWNlTW9kYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VBZGRJbnZvaWNlTW9kYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXtnZXRNb2RhbFN0eWxlKHRoZW1lKX0gY2xhc3NOYW1lPXtjbGFzc2VzLnBhcGVyfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBkaXNwbGF5OiBcImZsZXhcIiwgYWxpZ25JdGVtOiBcImNlbnRlclwiLCBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICAjMzk1QzczIFwiLCBwYWRkaW5nOiBcIi4ycmVtIDAgLjZyZW0gMFwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG1hcmdpbkxlZnQ6IFwiMXJlbVwiLCBmb250U2l6ZTogXCIxLjNyZW1cIiwgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAwLjY1IH19PlNlbGVjdCBhbmQgQWRkIEludm9pY2VzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbGVhciBvbkNsaWNrPXt0aGlzLmNsb3NlQWRkSW52b2ljZU1vZGFsfSBzdHlsZT17eyBwb3NpdGlvbjogXCJmaXhlZFwiLCByaWdodDogXCI1JVwiLCBvcGFjaXR5OiAwLjY1LCBjdXJzb3I6IFwicG9pbnRlclwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPER1ZURldGFpbCBzZXRTZWxlY3RlZEludm9pY2VzPXt0aGlzLnNldFNlbGVjdGVkSW52b2ljZXN9IHBvc3RDYWxsPXt0cnVlfSBhcHBlbmRJbnZvaWNlcz17dGhpcy5hcHBlbmRJbnZvaWNlc30gZmlsdGVySW52b2ljZXM9e3RoaXMuZmlsdGVySW52b2ljZXN9IGJ1Y2tldE5hbWVzPXt0aGlzLnByb3BzLmJ1Y2tldE5hbWVzfSBpbnZvaWNlcz17dGhpcy5zdGF0ZS5pbnZvaWNlc30gY29ycmVjdEludm9pY2VzTWFwPXt0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcH0+PC9EdWVEZXRhaWw+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIHhzPXsxMn0ganVzdGlmeT1cImZsZXgtZW5kXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiIHN0eWxlPXt7IGJvcmRlclRvcDogXCIxcHggc29saWQgIzM5NUM3M1wiLCBwYWRkaW5nVG9wOiBcIi42cmVtXCIgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImNvbnRhaW5lZFwiIGNvbG9yPVwic2Vjb25kYXJ5XCIgY2xhc3NOYW1lPXtjbGFzc2VzLmJ1dHRvbn0gb25DbGljaz17KCkgPT4gdGhpcy5hcHBlbmRJbnZvaWNlcyh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2F2ZSB7dGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VIZWFkZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBwYWRkaW5nVG9wOiBcIjAuNXJlbVwiLCBwYWRkaW5nQm90dG9tOiBcIjAuNXJlbVwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiwgcGFkZGluZ1JpZ2h0OiBcIjEuNTZ2d1wiIH19PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBwYWRkaW5nOiAnMHB4JyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUFsbFNlbGVjdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLnByaW1hcnlUZXh0fT4mbmJzcDtTZWxlY3QgYWxsPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZWRcIiBjb2xvcj1cInNlY29uZGFyeVwiIHNpemU9J3NtYWxsJyBzdHlsZT17eyBoZWlnaHQ6IFwiNC40NHZoXCIsIHBhZGRpbmdMZWZ0OiBcIjAuNjY2cmVtXCIsIHBhZGRpbmdSaWdodDogXCIwLjY2NnJlbVwiIH19IG9uQ2xpY2s9e3RoaXMub3BlbkFkZEludm9pY2VNb2RhbH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPEFkZCBjbGFzc05hbWU9e2NsYXNzZXMuYWRkSWNvbn0gLz4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBtYXJnaW5MZWZ0OiAnNHB4JywgbWFyZ2luUmlnaHQ6ICc0cHgnLCBmb250U2l6ZTogJy44OXJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluIH19PlNlbGVjdCBJbnZvaWNlczwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxGYWIgdmFyaWFudD1cImNvbnRhaW5lZFwiIHNpemU9J3NtYWxsJyBzdHlsZT17eyB3aWR0aDogXCIzNnB4XCIsIGhlaWdodDogXCIzNnB4XCIsIG1hcmdpbkxlZnQ6IFwiMTBweFwiIH19IG9uQ2xpY2s9e3RoaXMuZGVsZXRlQWxsU2VsZWN0aW9ufT48UmVtb3ZlQ2lyY2xlT3V0bGluZSBzdHlsZT17eyB3aWR0aDogXCIxLjBlbVwiLCBjb2xvcjogXCJncmF5XCIgfX0gLz48L0ZhYj4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZWRcIiBjb2xvcj1cInNlY29uZGFyeVwiIHNpemU9J3NtYWxsJyBzdHlsZT17eyBoZWlnaHQ6IFwiNC40NHZoXCIsIG1hcmdpbkxlZnQ6IFwiMXJlbVwiLCBwYWRkaW5nOiBcIjAgMC42NjZyZW1cIiB9fSBvbkNsaWNrPXt0aGlzLmRlbGV0ZUFsbFNlbGVjdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2UgY2xhc3NOYW1lPXtjbGFzc2VzLmFkZEljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBtYXJnaW5MZWZ0OiAnNHB4JywgZm9udFNpemU6ICcuODlyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiB9fT5SZW1vdmU8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VMaXN0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY29ycmVjdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMucHJpbWFyeVRleHR9Pnt0aGlzLnN0YXRlLmludm9pY2VDb3VudH0ge3RoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMSA/IFwiSW52b2ljZXMgXCIgOiBcIkludm9pY2UgXCJ9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyh0aGlzLnByb3BzLmludGVudFR5cGUgPT0gXCJQMlBcIiB8fCB0aGlzLnByb3BzLmludGVudFR5cGUgPT0gXCJEaXNwdXRlXCIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgb3BhY2l0eTogMC41IH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5wcmltYXJ5VGV4dH0+Jm5ic3A7KCR7dGhpcy5jYWxjdWxhdGVBbW91bnQoKX0pPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEVycm9yIGNsYXNzTmFtZT17Y2xhc3Nlcy5lcnJvckZsYWd9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb3JyZWN0aW9uQWxlcnR9PkNvcnJlY3Rpb24gUmVxdWlyZWQoe3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLmxlbmd0aCAtIE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKS5sZW5ndGh9KTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8TGlzdE9mVGlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXM9e3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwPXt0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXA9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcH0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lPXt0aGlzLnByb3BzLmRvbmV9Lz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGlzdCBjZWxsSGVpZ2h0PXtcImF1dG9cIn0gY2xhc3NOYW1lPXtjbGFzc2VzLmdyaWRMaXN0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5tYXAoaW52b2ljZSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExpc3RUaWxlIGNvbHM9ezF9IGtleT17aW52b2ljZS5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6ICdhdXRvJyx3aWR0aDogJzE2dncnLCBtYXJnaW46ICcwLjRyZW0nIH19PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17KGludm9pY2UuaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApID8gKHRoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWQgPyBjbGFzc2VzLnNlbGVjdGVkR3JpZExpc3REaXYgOiBjbGFzc2VzLmdyaWRMaXN0RGl2KSA6IGNsYXNzZXMuaW5jb3JyZWN0RGl2fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmRvbmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyAgcGFkZGluZzogJzJweCcsIGxlZnQgIDpcIjMlXCIsIGFsaWduSXRlbXM6ICdjZW50ZXInLCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshKGludm9pY2UuaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMudG9nZ2xlQ2hlY2tib3goaW52b2ljZS5pZC50b1N0cmluZygpKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIiwgbWFyZ2luTGVmdDogJzF2dycgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6IFwiLjg5cmVtXCIsY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAwLjUsIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfX0+e2ludm9pY2UuZG9jdW1lbnROdW1iZXJ9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiAnMS4xNTZyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sbGluZUhlaWdodDogXCIxLjdyZW1cIiB9fT4ke2ludm9pY2UuaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAgPyBmb3JtYXR0ZXIoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCkgOiBcIi0tLS1cIn08L1R5cG9ncmFwaHk+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmRvbmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxGYWIgdmFyaWFudD1cImNvbnRhaW5lZFwiIHNpemU9J3NtYWxsJyAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlIHN0eWxlPXt7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHJpZ2h0OiBcIjEwJVwiLCB0b3A6IFwiMjclXCIsd2lkdGg6IFwiY2FsYyguOHZoICsgLjh2dylcIiwgaGVpZ2h0OiBcImNhbGMoLjh2aCArIC44dncpXCIgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmFkZEljb259IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5kZWxldGVJbnZvaWNlKGludm9pY2UuaWQpIH19IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8L0ZhYj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExpc3RUaWxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPERpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuaXNNZXNzYWdlRGlhbG9nT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmhhbmRsZU1lc3NhZ2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e21lc3NhZ2V9PC9EaWFsb2dUaXRsZT5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZU1lc3NhZ2VEaWFsb2d9IGNvbG9yPVwiZGVmYXVsdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5BY3Rpb25EZXRhaWxzLnByb3BUeXBlcyA9IHtcclxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxufTtcclxuXHJcbi8vIGV4cG9ydCBmdW5jdGlvbiBnZXRJbnZvaWNlcygpIHtcclxuXHJcbi8vICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcyk7XHJcblxyXG4vLyAgICAgbGV0IGRvY3VtZW50TnVtYmVycyA9IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLm1hcChpbnZvaWNlID0+IHtcclxuLy8gICAgICAgICByZXR1cm4gaW52b2ljZS5kb2N1bWVudE51bWJlcjtcclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIGNvbnNvbGUubG9nKFwiRE9DVVwiLCBkb2N1bWVudE51bWJlcnMpO1xyXG5cclxuLy8gICAgIHJldHVybiBkb2N1bWVudE51bWJlcnM7XHJcbi8vIH1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShBY3Rpb25EZXRhaWxzKVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0FjdGlvbkRldGFpbHMuanMiLCIvKlxyXG4qKlxyXG4qIENsYXNzIE5hbWUgVEJEXHJcbiogVGVtcG9yYXJ5IHBhcmtpbmcgYXMgRmluYWwuanNcclxuKi9cclxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgeyBUeXBvZ3JhcGh5LCBUZXh0RmllbGQsIEJ1dHRvbiwgU2VsZWN0LCBNZW51SXRlbSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IElucHV0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0lucHV0JztcclxuaW1wb3J0IElucHV0TGFiZWwgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSW5wdXRMYWJlbCc7XHJcbmltcG9ydCBJbnB1dEFkb3JubWVudCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JbnB1dEFkb3JubWVudCc7XHJcbmltcG9ydCBGb3JtQ29udHJvbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Gb3JtQ29udHJvbCc7XHJcbmltcG9ydCB7IEFycm93RHJvcERvd24gfSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdjb25maWcnO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgQ2xvc2UgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IEdyaWRMaXN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWRMaXN0JztcclxuaW1wb3J0IEdyaWRMaXN0VGlsZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkTGlzdFRpbGUnO1xyXG5pbXBvcnQgQ2hpcCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaGlwJztcclxuaW1wb3J0IEluZm8gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0luZm8nO1xyXG5pbXBvcnQgRmFiIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ZhYic7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbmFja2Jhcic7XHJcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b24nO1xyXG5pbXBvcnQgQ2xvc2VJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcblxyXG5cclxuLy9UZXN0aW5nIGFuaW1hdGlvbnNcclxuaW1wb3J0IFJlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwIGZyb20gJ3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cCc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gICAgcm9vdDoge1xyXG4gICAgICAgIG1hcmdpbjogXCIwZW0gMWVtIDBlbSAxZW1cIixcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgIHBhZGRpbmdUb3A6IFwiNSVcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgIHBhZGRpbmdCb3R0b206IFwiMFwiLFxyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG5cclxuICAgIH0sXHJcbiAgICBjdXN0b21lck5hbWU6IHtcclxuICAgICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXHJcbiAgICAgICAgZm9udFNpemU6IFwiMS42ZW1cIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgcGFkZGluZ0xlZnQ6IFwiLjNlbVwiXHJcbiAgICB9LFxyXG4gICAgY3VzdG9tZXJOdW1iZXI6IHtcclxuICAgICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXHJcbiAgICAgICAgZm9udFNpemU6IFwiLjdlbVwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIuN2VtXCJcclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5Tm90ZXNCb3g6IHtcclxuICAgICAgICBtYXhIZWlnaHQ6IFwiOTB2aFwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgICAgIC8vIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICAgICAvLyBoZWlnaHQ6IDEuMjUgKiBwYXJzZUludCgkKFwiI3N1bW1hcnlOb3RlaXRlbXNcIikuY3NzKCdoZWlnaHQnKSksXHJcbiAgICAgICAvLyBwYWRkaW5nOiBcIjAuNXJlbVwiLFxyXG4gICAgICAgIC8vIGJveFNoYWRvdzogXCIgMCA0cHggOHB4IDAgcmdiYSgwLDAsMCwwLjIpXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICB9LFxyXG4gICAgc3VtbWFyeU5vdGVpdGVtczoge1xyXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiMWVtXCIsXHJcbiAgICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcclxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxyXG4gICAgICAgIG1heEhlaWdodDogXCI3NS41dmhcIixcclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5Tm90ZXNIZWFkZXI6XHJcbiAgICB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiMS4wNjY2cmVtXCIsXHJcbiAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcclxuICAgICAgICBwYWRkaW5nVG9wOiBcIjIuMjJ2aFwiLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjEuMDI2dndcIixcclxuICAgICAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiAwLjY1XHJcbiAgICB9LFxyXG4gICAgc3VtbWFyeUVtYWlsSGVhZGVyOiB7XHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgIC8vIG1hcmdpbkxlZnQ6IFwiLjg5cmVtXCIsXHJcbiAgICB9LFxyXG4gICAgZW1haWxUZW1wbGF0ZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgcmlnaHQ6IFwiM2VtXCIsXHJcblxyXG4gICAgfSxcclxuXHJcbiAgICB0ZW1wbGF0ZVNlbGVjdGlvbjoge1xyXG4gICAgICAgIGNvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICBoZWlnaHQ6ICcwLjlyZW0nLFxyXG4gICAgICAgIGZvbnRTaXplOiAnMXJlbScsXHJcbiAgICAgICAgbWluSGVpZ2h0OiAnMC45cmVtJyxcclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5RW1haWw6IHtcclxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIixcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiLjEyNXJlbVwiLFxyXG4gICAgICAvLyAgbWFyZ2luTGVmdDogXCIuODlyZW1cIixcclxuICAgICAgICBtYXJnaW5Cb3R0b206IFwiMS4zcmVtXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjc5dmhcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICAgICAgLy8gcGFkZGluZ0JvdHRvbSA6IFwiNXZoXCJcclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5RW1haWxGb3JtOiB7XHJcbiAgICAgICAgcGFkZGluZzogXCIwLjVyZW0gMC41cmVtIDAgMC41cmVtXCIsXHJcbiAgICB9LFxyXG4gICAgZW1haWxJZENoaXBzSW5wdXQ6IHtcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiMC4wNjI1cmVtIHNvbGlkIHJnYmEoOTMsIDE3MCwgMjI0LCAwLjUpXCIsXHJcbiAgICAgICAgLy9tYXJnaW5SaWdodDogXCIxMHB4XCIsXHJcblxyXG4gICAgfSxcclxuICAgIGVtYWlsQWRkTGFiZWw6IHtcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiLFxyXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuM2VtXCIsXHJcbiAgICAgICAgb3BhY2l0eTogMC41LFxyXG4gICAgICAgIGNvbG9yIDogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxyXG4gICAgfSxcclxuICAgIGVtYWlsSWRDaGlwczoge1xyXG4gICAgICAgIGhlaWdodDogXCIxLjRlbVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZ0xlZnQgOiBcIjAuMTc3N3JlbVwiLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodCA6IFwiMC4xNzc3cmVtXCIsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4yZW1cIixcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIFwiJj4gc3BhblwiOiB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxyXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjNyZW1cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgICcmOmhvdmVyLCAmOmZvY3VzJzoge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnJjphY3RpdmUnOiB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vYmFja2dyb3VuZENvbG9yOiBcIiNmNzM4MzhcIixcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkRW1haWxJZENoaXBzOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjEuNGVtXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcclxuICAgICAgICBwYWRkaW5nTGVmdCA6IFwiMC4xNzc3cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0IDogXCIwLjE3NzdyZW1cIixcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIwLjJlbVwiLFxyXG4gICAgICAgIFwiJj4gc3BhblwiOiB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxyXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjNyZW1cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmY0NDQ0XCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgICcmOmhvdmVyLCAmOmZvY3VzJzoge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y3MzgzOFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJyY6YWN0aXZlJzoge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y3MzgzOFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlRW1haWxJZDoge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOGVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgZW1haWxJZElucHV0OiB7XHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4zMTI1cmVtXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiMzglXCIsXHJcbiAgICAgICAgcmVzaXplOiBcImhvcml6b250YWxcIixcclxuICAgICAgICBjb2xvciA6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiXHJcbiAgICAgICAgLy9tYXhXaWR0aDogXCI3MCVcIixcclxuICAgIH0sXHJcbiAgICBlbWFpbFN1YmplY3Q6IHtcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiMC4wNjI1cmVtIHNvbGlkIHJnYmEoOTMsIDE3MCwgMjI0LCAwLjUpXCIsXHJcbiAgICAgICAgZm9udFNpemUgOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgY29sb3IgOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICAnJjo6cGxhY2Vob2xkZXInOiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2E3YTdhNydcclxuICAgICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkaXNhYmxlZFN1YmplY3RJbnB1dCA6IHtcclxuICAgICAgICBmb250U2l6ZSA6IFwiMC44ODhyZW1cIixcclxuICAgICAgICBjb2xvciA6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbEJvZHk6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNjB2aFwiLFxyXG4gICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxyXG4gICAgfSxcclxuICAgIGVtYWlsQm9keVRleHQ6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiMC45cmVtXCIsXHJcbiAgICAgICAgY29sb3IgOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArIFwiICFpbXBvcnRhbnRcIlxyXG4gICAgfSxcclxuICAgIGludm9pY2VDb3VudDoge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjhyZW1cIixcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlQXR0YWNoZW1lbnRzOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjEwdmhcIixcclxuICAgIH0sXHJcbiAgICByZW1vdmVJbnZvaWNlOiB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiMS4wcmVtXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiMS4wZW1cIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgIHJpZ2h0OiBcIjEwJVwiLFxyXG4gICAgICAgIHRvcDogXCI0MCVcIlxyXG4gICAgfSxcclxuICAgIGdyaWRMaXN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDAuMDYyNXJlbVwiLFxyXG4gICAgICAgIHBhZGRpbmc6ICcwLjI1cmVtJyxcclxuICAgICAgICBib3JkZXJSYWRpdXM6ICcwLjI1cmVtJ1xyXG5cclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5RW1haWxGb290ZXI6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNy40dmhcIixcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgLy8gYm94U2hhZG93OiBcIjAgLTAuMzEyNXJlbSAwLjEyNXJlbSAtMC4xMjVyZW0gbGlnaHRncmF5XCIsXHJcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3ctcmV2ZXJzZVwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yIDogXCIgIzJjNDE0ZjtcIlxyXG4gICAgfSxcclxuICAgIHNlbmRTdW1tYXJ5RW1haWxCdG46IHtcclxuICAgICAgICBoZWlnaHQ6ICcyZW0nLFxyXG4gICAgICAgIHdpZHRoOiAnNmVtJyxcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIxLjJyZW1cIixcclxuICAgICAgICBmb250U2l6ZTogJ3NtYWxsZXInLFxyXG4gICAgICAgIGFsaWduU2VsZjogJ2NlbnRlcicsXHJcbiAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGRpc2FibGVJY29uOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJub25lXCIsXHJcbiAgICB9LFxyXG4gICAgbGVnYWxNZXNzYWdlOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHk6IDAuNjUsXHJcbiAgICAgICAgcGFkZGluZ1RvcDogXCIwcHggIWltcG9ydGFudFwiLFxyXG4gICAgICAgIHBhZGRpbmdCb3R0b206IFwiMHB4ICFpbXBvcnRhbnRcIixcclxuICAgIH0sXHJcbiAgICBub3Rlc0xpc3QgOntcclxuICAgICAgICBjb2xvciA6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjBcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjEuN3JlbVwiXHJcbiAgICB9LFxyXG4gICAgZW1wdHlTdW1tYXJ5VGV4dDoge1xyXG4gICAgICAgIGNvbG9yIDogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBlbXB0eVN1bW1hcnlHcmlkOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMTV2aFwiLFxyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcclxuICAgICAgICAvL21hcmdpblRvcDogXCIxZW1cIixcclxuICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxyXG4gICAgfSxcclxuICAgIHdhcm5pbmdMaW5lOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBmb250V2VpZ2h0OiA1MDAsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi44ZW1cIixcclxuICAgICAgICBvcGFjaXR5IDogXCIwLjY1XCIsXHJcbiAgICB9LFxyXG4gICAgaWNvbjoge1xyXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIi41dndcIlxyXG4gICAgfSxcclxuICAgIGhpZGVPdmVyZmxvdzoge1xyXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY2xhc3MgRmluYWwgZXh0ZW5kcyBDb21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIGxldCBjb250YWN0SW5kZXggPSB0aGlzLnByb3BzLmNvbnRhY3RJbmRleDtcclxuICAgICAgICBsZXQgY29udGFjdHMgPSBbXTtcclxuICAgICAgICBpZiAoY29udGFjdEluZGV4ICE9IG51bGwgJiYgdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmZpcnN0TmFtZSAhPT0gXCJVbm5hbWVkXCIgJiYgdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmxhc3ROYW1lICE9PSBcIlVubmFtZWRcIiApIHtcclxuICAgICAgICAgICAgbGV0IGZ1bGxOYW1lID0gdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmZpcnN0TmFtZSArXHJcbiAgICAgICAgICAgICAgICBcIiBcIiArIHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5sYXN0TmFtZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRhY3RzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAga2V5OiAwLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IGZ1bGxOYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWxJZDogdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IHRydWUsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgQXR0YWNoZW1lbnRzID0gdGhpcy5wcm9wcy5pbnZvaWNlTGlzdDtcclxuICAgICAgICBsZXQgc3ViamVjdCA9IFwiU3VtbWFyeSBub3RlcyBhcyBwZXIgb3VyIGNvbnZlcnNhdGlvbi5cIjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlTmFtZTogXCJcIixcclxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZUJvZHk6IFwiXCIsXHJcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVTdWJqZWN0OiBzdWJqZWN0LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZUlkOiAtMSxcclxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZXM6IFtdLFxyXG4gICAgICAgICAgICBlbWFpbEF0dGFjaGVtZW50czogQXR0YWNoZW1lbnRzLFxyXG4gICAgICAgICAgICBlbWFpbElkQ2hpcHM6IGNvbnRhY3RzLFxyXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgICAgIGVtYWlsU2VudDogZmFsc2UsXHJcbiAgICAgICAgICAgIGVtYWlsQm9keUhlaWdodDogMTJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLnN1bW1hcnlOb3RlcyAsIFwic3VtbWFyeSBub3RlcyBpbiBmaW5hbFwiKVxyXG4gICAgICAgIHRoaXMuZW1haWxBZGQgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuXHJcbiAgICAgICAgLy9nZXQgZW1haWwgVGVtcGxhdGVzXHJcbiAgICAgICAgYXhpb3MuZ2V0KGAke2NvbmZpZy5hcGlVcmx9L2NvcnJlc3BvbmRlbmNlL2VtYWlsdGVtcGxhdGVzYClcclxuICAgICAgICAgICAgLy8gYXhpb3MuZ2V0KGAke2NvbmZpZy5hcGlVcmx9L2VtYWlsdGVtcGxhdGVzYClcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgYXJyID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlczogYXJyIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlTmFtZTogYXJyWzBdLm5hbWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlU3ViamVjdDogYXJyWzBdLnN1YmplY3QgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlQm9keTogYXJyWzBdLmJvZHkgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0ZW1wbGF0ZUlkOiBhcnJbMF0uaWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgaW4gZmV0Y2hpbmcgdGVtcGxhdGVzXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVzOiBbXSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVOYW1lOiBcIk5vIFRlbXBsYXRlcyFcIiB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vZ2V0IHNlbGVjdGVkIGludm9pY2UgZnJvbSBwb3N0IGNhbGwgcGFnZVxyXG4gICAgICAgIC8vdGhpcy5zZXRTdGF0ZSh7IGVtYWlsQXR0YWNoZW1lbnRzOiB0aGlzLnByb3BzLmludm9pY2VMaXN0fSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQ9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGNvbGxlY3Rvciwgc3VtbWFyeU5vdGVzLCBub25BY3Rpb25JbmNsdWRlZCB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBsZXQgaW52b2ljZVN0cmluZyA9ICh0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLmxlbmd0aCA+IDApP1wiUGxlYXNlIGZpbmQgdGhlIG1lbnRpb25lZCBpbnZvaWNlcyBhdHRhY2hlZC5cIjpcIlwiO1xyXG4gICAgICAgIGxldCBzdW1tYXJ5U3RyaW5nID0gXCJcIjtcclxuICAgICAgICBsZXQgZmlyc3ROYW1lID0gY29sbGVjdG9yLmZpcnN0TmFtZSA/IHRoaXMucHJvcHMuY29sbGVjdG9yLmZpcnN0TmFtZSA6IFwiXCJcclxuICAgICAgICBsZXQgbGFzdE5hbWUgPSBjb2xsZWN0b3IubGFzdE5hbWUgPyB0aGlzLnByb3BzLmNvbGxlY3Rvci5sYXN0TmFtZSA6IFwiXCJcclxuICAgICAgICBmb3IgKGxldCBpIGluIHN1bW1hcnlOb3Rlcykge1xyXG4gICAgICAgICAgICBpZigoaSA9PSBzdW1tYXJ5Tm90ZXMubGVuZ3RoIC0gMSkgJiYgbm9uQWN0aW9uSW5jbHVkZWQpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN1bW1hcnlTdHJpbmcgKz0gKHN1bW1hcnlOb3Rlc1tpXS50cmltKCkpP1wiXFxuXFx1MjAyMiBcIitzdW1tYXJ5Tm90ZXNbaV06XCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VtbWFyeVN0cmluZyA9IChzdW1tYXJ5U3RyaW5nKT9gXFxuUGxlYXNlIGZpbmQgYmVsb3cgdGhlIHN1bW1hcnkgb2Ygb3VyIGNvbnZlcnNhdGlvbjpcXG4ke3N1bW1hcnlTdHJpbmd9XFxuXFxuJHtpbnZvaWNlU3RyaW5nfVxcbmA6XCJcIjtcclxuICAgICAgICBsZXQgZW1haWxCb2R5ID0gKHN1bW1hcnlTdHJpbmcpP2BHcmVldGluZ3MsXFxuJHtzdW1tYXJ5U3RyaW5nfVxcblJlZ2FyZHMsXFxuJHtmaXJzdE5hbWUgKyBcIiBcIiArIGxhc3ROYW1lfWA6XCJcIjtcclxuICAgICAgICBsZXQgbmV3TGluZUNvdW50ID0gKGVtYWlsQm9keS5tYXRjaCgvXFxuL2cpIHx8IFtdKS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZW1haWxUZW1wbGF0ZUJvZHk6IGVtYWlsQm9keSwgZW1haWxCb2R5SGVpZ2h0OiBuZXdMaW5lQ291bnQrMX0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFuZGxlIGZ1bmN0aW9uIGZvciBjaGFuZ2UgaW4gdGVtcGxhdGUgc2VsZWN0aW9uXHJcbiAgICBoYW5kbGVUZW1wbGF0ZUNoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZU5hbWU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxuXHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlcztcclxuXHJcbiAgICAgICAgLy9jaGVjayBpZiBubyB0ZW1wbGF0ZSBpcyBzZWxlY3RlZFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC52YWx1ZSk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlcy5mb3JFYWNoKGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcGxhdGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRlbXBsYXRlW2ldLm5hbWUgPT0gZXZlbnQudGFyZ2V0LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IHRlbXBsYXRlW2ldLnN1YmplY3QgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZUJvZHk6IHRlbXBsYXRlW2ldLmJvZHkgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdGVtcGxhdGVJZDogdGVtcGxhdGVbaV0uaWQgfSk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRlbXBsYXRlLnN1YmplY3QpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gb24gcHJlc3NpbmcgZW50ZXIga2V5IGFmdGVyIGVtYWlsIGlkIGFkZGl0aW9uXHJcbiAgICBoYW5kbGVFbWFpbEVudGVyID0gZXZlbnQgPT4ge1xyXG4gICAgICAgIGlmICgoZXZlbnQudHlwZSA9PT0gJ2JsdXInIHx8IGV2ZW50LmtleSA9PT0gJ0VudGVyJykgJiYgZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKSkgeyAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAvL3JlZ3VsYXIgZXhwcmVzc2lvbiAtIHRvIGNoZWNrIEBob3N0LmRvbWFpblxyXG4gICAgICAgICAgICB2YXIgcmUgPSAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcclxuICAgICAgICAgICAgaWYoZXZlbnQudGFyZ2V0LnZhbHVlKXtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCk7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vdmFsaWRhdGUgdGhlIGVudGVyZWQgZW1haWwgaWRcclxuICAgICAgICAgICAgdmFyIHZhbGlkID0gcmUudGVzdChldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMgZW1haWwgaXMgXCIgKyB2YWxpZCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZW1haWxBcnIgPSB0aGlzLnN0YXRlLmVtYWlsSWRDaGlwcztcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgIGtleTogZW1haWxBcnIubGVuZ3RoLCBsYWJlbDogZXZlbnQudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgZW1haWxJZDogZXZlbnQudGFyZ2V0LnZhbHVlLCB2YWxpZGF0ZTogdmFsaWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZW1haWxBcnIucHVzaChvYmopO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG9BZGRyOiBlbWFpbEFyciB9KTtcclxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gXCJcIjtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vaGFuZGxlIGZ1bmN0aW9uIHdoZW4gZW1haWxJZCBjaGlwIGlzIHJlbW92ZWRcclxuICAgIGhhbmRsZUVtYWlsSWREZWxldGUgPSBkYXRhID0+ICgpID0+IHsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuZW1haWxBZGQuY3VycmVudC5mb2N1cygpOyBcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZW1haWxJZENoaXBzID0gWy4uLnN0YXRlLmVtYWlsSWRDaGlwc107XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaXBUb0RlbGV0ZSA9IGVtYWlsSWRDaGlwcy5pbmRleE9mKGRhdGEpO1xyXG4gICAgICAgICAgICBlbWFpbElkQ2hpcHMuc3BsaWNlKGNoaXBUb0RlbGV0ZSwgMSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGVtYWlsSWRDaGlwcyB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG9uIGNoYW5nZSBpbiBlbWFpbCBzdWJqZWN0XHJcbiAgICBoYW5kbGVTdWJqZWN0Q2hhbmdlID0gZXZlbnQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlU3ViamVjdDogZXZlbnQudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG9uIGNoYW5nZSBpbiBlbWFpbCBib2R5XHJcbiAgICBoYW5kbGVFbWFpbEJvZHlDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICAgICAgbGV0IG5ld01heEhlaWdodCA9IE1hdGgucm91bmQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsQm9keScpLnNjcm9sbEhlaWdodCk7XHJcbiAgICAgICAgaWYgKG5ld01heEhlaWdodCA8PSAxMikge1xyXG4gICAgICAgICAgICBuZXdNYXhIZWlnaHQgPSAxMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVCb2R5OiBldmVudC50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgIGVtYWlsQm9keUhlaWdodDogbmV3TWF4SGVpZ2h0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmVtb3ZlIGF0dGFjaGVtZW50IGZyb20gZW1haWxcclxuICAgIHJlbW92ZUF0dGFjaGVtZW50ID0gZG9jdW1lbnROdW1iZXIgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyQXR0YWNoZW1lbnRzID0gdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cztcclxuICAgICAgICBjb25zb2xlLmxvZyhcInJlbW92ZTogXCIgKyBkb2N1bWVudE51bWJlcik7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyQXR0YWNoZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyQXR0YWNoZW1lbnRzW2ldLmlkID09IGRvY3VtZW50TnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyQXR0YWNoZW1lbnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbEF0dGFjaGVtZW50czogY3VyckF0dGFjaGVtZW50cyB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGFkZCBpbnZvaWNlIGF0dGFjaGVtZW50c1xyXG4gICAgLy8gYWRkSW52b2ljZUF0dGFjaGVtZW50ID0gKCkgPT4ge1xyXG4gICAgLy8gICAgIHZhciBjdXJyQXR0YWNoZW1lbnRzID0gdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cztcclxuICAgIC8vICAgICB2YXIgYWRkQXR0YWNoZW1lbnQgPSBBdHRhY2hlbWVudHNbMF07XHJcbiAgICAvLyAgICAgYWRkQXR0YWNoZW1lbnQuaWQgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTAwMCkgKyAxMDApO1xyXG4gICAgLy8gICAgIGN1cnJBdHRhY2hlbWVudHMucHVzaChhZGRBdHRhY2hlbWVudCk7XHJcbiAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsQXR0YWNoZW1lbnRzOiBjdXJyQXR0YWNoZW1lbnRzIH0sICgpID0+IHtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cyk7XHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vIH1cclxuXHJcblxyXG4gICAgLy8gU2VuZCBwb3N0IGNhbGwgc3VtbWFyeSBlbWFpbFxyXG4gICAgc2VuZFN1bW1hcnlFbWFpbCA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzZW5kaW5nIHN1bW1hcnkgZW1haWxcIik7XHJcblxyXG4gICAgICAgIC8vSW52b2ljZSBkb2N1bWVudCBpZHMgXHJcbiAgICAgICAgdmFyIGRvY3VtZW50SURzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50SURzLnB1c2godGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50c1tpXS5pbnZvaWNlSWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9pZiBubyB0b0FkZHIgaXMgcHJlc2VudCwgc2hvdyBpbiBzbmFjayBiYXJcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlBsZWFzZSBzcGVjaWZ5IGF0IGxlYXN0IG9uZSByZWNpcGllbnQuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3RvIGVtYWlsIGFkZHJlc3NlcyBcclxuICAgICAgICB2YXIgdG9BZGRyID0gXCJcIjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUuZW1haWxJZENoaXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmVtYWlsSWRDaGlwc1tpXS52YWxpZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdG9BZGRyICs9IHRoaXMuc3RhdGUuZW1haWxJZENoaXBzW2ldLmVtYWlsSWQgKyBcIixcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9yZW1vdmUgbGFzdCBjb21tYVxyXG4gICAgICAgIHZhciBwb3MgPSB0b0FkZHIubGFzdEluZGV4T2YoXCIsXCIpO1xyXG4gICAgICAgIHRvQWRkciA9IHRvQWRkci5zbGljZSgwLCBwb3MpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVG86IFwiICsgdG9BZGRyKTtcclxuXHJcbiAgICAgICAgbGV0IGVtYWlsQm9keSA9IHRoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZUJvZHk7XHJcbiAgICAgICAgZW1haWxCb2R5ID0gZW1haWxCb2R5LnJlcGxhY2UoL1xcbi9nLCc8YnIgLz4nKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRpbmcgcmVxdWVzdCBlbWFpbCBvYmplY3RcclxuICAgICAgICBsZXQgZW1haWxPYmogPSB7XHJcbiAgICAgICAgICAgIGJvZHk6IGVtYWlsQm9keSxcclxuICAgICAgICAgICAgc3ViamVjdDogdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlU3ViamVjdCxcclxuICAgICAgICAgICAgLy8gY29yclR5cGVJZDogdGhpcy5zdGF0ZS50ZW1wbGF0ZUlkLCAgICAvLyB3aGF0ICBpZiB0ZW1wbGF0ZXMgYXJlIG5vdCBmZXRjaGVkLiBcclxuICAgICAgICAgICAgY3VzdG9tZXJJZDogdGhpcy5wcm9wcy5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IGRvY3VtZW50SURzLFxyXG4gICAgICAgICAgICBmcm9tOiB0aGlzLnByb3BzLmNvbGxlY3Rvci5lbWFpbElkLCAgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxyXG4gICAgICAgICAgICB0bzogdG9BZGRyLCAgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBNYWtpbmcgYSBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgZW1haWxzXHJcbiAgICAgICAgLy9heGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2NvcnJlc3BvbmRlbmNlL2NhbGxzdW1tYXJ5YCwgcmVxRW1haWxPYmopIC0gYWN0dWFsIGFwaVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2VtYWlsU2VudCA6IHRydWV9KVxyXG4gICAgICAgIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vY29ycmVzcG9uZGVuY2UvY2FsbHN1bW1hcnlgLCBlbWFpbE9iaikgICAgLy8gbW9jayBzZXJ2ZXIgYXBpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsU2VudDogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgIC8vZGlzYWJsZSB0byB0aGUgY29tcG9uZW50IHRvIHJlYWQgb25seSBtb2RlLlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZW1haWxTZW50IDogZmFsc2V9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcclxuICAgIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyTWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cclxuICAgIGNsb3NlU25hY2tiYXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgY29uc3QgeyBjdXN0b21lciwgY2xhc3Nlcywgc3VtbWFyeU5vdGVzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zb2xlLmxvZygpXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgLy8gICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnJvb3R9PlxyXG4gICAgICAgICAgICAvLyAgICAgICAgIDxSZWFjdENTU1RyYW5zaXRpb25Hcm91cFxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB0cmFuc2l0aW9uTmFtZT1cImV4YW1wbGVcIlxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB0cmFuc2l0aW9uQXBwZWFyPXt0cnVlfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB0cmFuc2l0aW9uQXBwZWFyVGltZW91dD17NTAwfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB0cmFuc2l0aW9uRW50ZXI9e2ZhbHNlfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB0cmFuc2l0aW9uTGVhdmU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgID5cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezl9PlxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiBcIjE2cHhcIiwgZGlzcGxheTogXCJmbGV4XCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIgfX0+XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNvbXBhbnlMb2dvfT57Y3VzdG9tZXIuY3VzdG9tZXJOYW1lLmNoYXJBdCgwKX08L2Rpdj5cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIGFsaWduSXRlbXM6IFwibGVmdFwiIH19PlxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJOYW1lfT57Y3VzdG9tZXIuY3VzdG9tZXJOYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJOdW1iZXJ9IHN0eWxlPXt7IG1hcmdpblRvcDogXCI4cHhcIiwgZm9udFNpemU6IFwiMC44ZW1cIiB9fT57Y3VzdG9tZXIuY3VzdG9tZXJOdW1iZXJ9PC9kaXY+XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEyfSBzdHlsZT17eyBwYWRkaW5nOiBcIjBweCAxMnB4IDEycHggMTJweFwiLCB9fT5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIgfX0+XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMn0gc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICBwYWRkaW5nOiBcIjBweCA4cHggOHB4IDhweFwiLFxyXG4gICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17NX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTJ9IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5Tm90ZXNCb3h9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlOb3Rlc0hlYWRlcn0+U1VNTUFSWSBOT1RFUzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtcyBpZCA9IFwic3VtbWFyeU5vdGVpdGVtc1wiIGNsYXNzTmFtZT17ICghc3VtbWFyeU5vdGVzIHx8IHN1bW1hcnlOb3Rlcy5sZW5ndGg9PTApID8gY2xhc3Nlcy5lbXB0eVN1bW1hcnlHcmlkIDogY2xhc3Nlcy5zdW1tYXJ5Tm90ZWl0ZW1zfT5cclxuICAgICAgICAgICAgICAgICAgICAgICB7ICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghc3VtbWFyeU5vdGVzIHx8IHN1bW1hcnlOb3Rlcy5sZW5ndGg9PTApICAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy53YXJuaW5nTGluZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5lbXB0eVN1bW1hcnlUZXh0fT5UaGVyZSBpcyBubyBzdW1tYXJ5IG5vdGVzIDwvc3Bhbj4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyAgIChzdW1tYXJ5Tm90ZXMgJiYgIXN1bW1hcnlOb3Rlcy5sZW5ndGg9PTApICAmJiAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPXtjbGFzc2VzLm5vdGVzTGlzdH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzLm1hcChub3RlID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eSA6IDEgLGZvbnRTaXplOiBcIjAuODg4ODg4ODg4ODhyZW1cIixtYXJnaW5Cb3R0b206IFwiMC44ODhyZW1cIiB9fT57bm90ZX08L1R5cG9ncmFwaHk+PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICB7LypUT0RPIEVtYWlsIFRlbXBsYXRlIENvbXBvbmVudCovfVxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezd9IHN0eWxlPXt7cGFkZGluZ0xlZnQ6IFwiMS4wNDF2d1wifX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlFbWFpbEhlYWRlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250U2l6ZTogXCIxLjA2NjY2cmVtXCIsIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsIGNvbG9yOiBcIiNmZmZmZmZcIiwgb3BhY2l0eSA6IDAuNjUsIHBhZGRpbmdCb3R0b206IFwiMC4yZW1cIiwgfX0+U0VORCBTVU1NQVJZIE1BSUw8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPFR5cG9ncmFwaHkgc3R5bGU9e3sgZm9udFNpemU6IFwiMC42ZW1cIiwgZm9udFdlaWdodDogXCJub3JtYWxcIiwgY29sb3I6IFwiI2ZmZmZmZlwiIH19PlN1bW1hcnkgVGVtcGxhdGUgMTwvVHlwb2dyYXBoeT4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVRlbXBsYXRlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5lbWFpbFRlbXBsYXRlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2VtYWlsVGVtcGxhdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVtcGxhdGVTZWxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnN0YXRlLmVtYWlsU2VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEljb25Db21wb25lbnQ9e0Fycm93RHJvcERvd259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+Ki99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPE1lbnVJdGVtIHZhbHVlPVwiXCI+Tm8gVGVtcGxhdGVzITwvTWVudUl0ZW0+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIHt0aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVzLm1hcCh0ZW1wbGF0ZXMgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0ZW1wbGF0ZXMubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RlbXBsYXRlcy5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeUVtYWlsfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlFbWFpbEZvcm19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8Rm9ybUNvbnRyb2wgZnVsbFdpZHRoIGNsYXNzTmFtZT17Y2xhc3Nlcy5tYXJnaW59PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5lbWFpbElkQ2hpcHNJbnB1dH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5lbWFpbEFkZExhYmVsfT5UbyA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVtYWlsSWRDaGlwcy5tYXAoKGVtYWlsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hpcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2VtYWlsLmtleX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2VtYWlsLmxhYmVsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2VtYWlsLnZhbGlkYXRlID8gY2xhc3Nlcy5lbWFpbElkQ2hpcHMgOiBjbGFzc2VzLmludmFsaWRFbWFpbElkQ2hpcHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUljb249ezxDbG9zZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXshdGhpcy5zdGF0ZS5lbWFpbFNlbnQgPyBjbGFzc2VzLnJlbW92ZUVtYWlsSWQgOiBjbGFzc2VzLmRpc2FibGVJY29ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGU9e3RoaXMuaGFuZGxlRW1haWxJZERlbGV0ZShlbWFpbCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgY2xpY2thYmxlOiBlbWFpbC52YWxpZGF0ZSA/IGNsYXNzZXMuZW1haWxJZENoaXBzIDogY2xhc3Nlcy5pbnZhbGlkRW1haWxJZENoaXBzIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMuaGFuZGxlRW1haWxFbnRlcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQmx1cj17dGhpcy5oYW5kbGVFbWFpbEVudGVyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsSWRJbnB1dH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5lbWFpbFNlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFJlZj17dGhpcy5lbWFpbEFkZH0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luVG9wOiBcIjElXCIsIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU3ViamVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgPSB7e2Rpc2FibGVkIDogY2xhc3Nlcy5kaXNhYmxlZFN1YmplY3RJbnB1dH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5lbWFpbFN1YmplY3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVTdWJqZWN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVTdWJqZWN0Q2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5lbWFpbFNlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5RW1haWxCb2R5fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJlbWFpbEJvZHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZUJvZHl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVFbWFpbEJvZHlDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXsxMn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlID0ge3tjb2xvciA6IFwid2hpdGVcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCJ9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c01heD17dGhpcy5zdGF0ZS5lbWFpbEJvZHlIZWlnaHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuZW1haWxCb2R5VGV4dH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgPSB7e319XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnB1dFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge2NvbG9yIDogXCJ3aGl0ZVwifSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7aW5wdXQ6Y2xhc3Nlcy5oaWRlT3ZlcmZsb3cgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmVtYWlsU2VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUF0dGFjaGVtZW50c30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLmxlbmd0aCA+IDAgJiYgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUNvdW50fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiwgZm9udFNpemUgOiBcIjAuOTc3N1wifX0+SW52b2ljZSBBdHRhY2hlbWVudHMgKHt0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLmxlbmd0aH0pPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGlzdCBjZWxsSGVpZ2h0PXtcImF1dG9cIn0gY2xhc3NOYW1lPXtjbGFzc2VzLmdyaWRMaXN0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5tYXAoaW52b2ljZSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGlzdFRpbGUgY29scz17MX0ga2V5PXtpbnZvaWNlLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTIuNXJlbScsIHBhZGRpbmc6ICcwLjI1cmVtJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmdyaWRMaXN0RGl2fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBtYXJnaW5MZWZ0OiAnMC4zNzVyZW0nIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiAnMC4yNXJlbScsIGZvbnRTaXplOiAnMC44ODhyZW0nLCBvcGFjaXR5IDogMC42NSAsY29sb3IgOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiAgfX0+e2ludm9pY2UuZG9jdW1lbnROdW1iZXJ9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiAnMC4yNXJlbScsIGZvbnRTaXplOiAnMXJlbScsY29sb3IgOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9fT4kIHtpbnZvaWNlLmN1cnJlbnRPcGVuQW1vdW50fTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0VGlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExpc3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5RW1haWxGb290ZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5hdHRhY2hJbnZvaWNlc0J0bn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5hdHRhY2hJbnZvaWNlTGFiZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFkZEludm9pY2VBdHRhY2hlbWVudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXR0YWNoIEludm9pY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnNlbmRTdW1tYXJ5RW1haWxCdG59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbmRTdW1tYXJ5RW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmVtYWlsU2VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNFTkRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIDwvRm9ybUNvbnRyb2w+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgIDxTbmFja2JhclxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdsZWZ0JyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc25hY2tCYXJPcGVufVxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezIwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ezxzcGFuIGlkPVwibWVzc2FnZS1pZFwiPnt0aGlzLnN0YXRlLnNuYWNrQmFyTWVzc2FnZX08L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbj17W1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiY2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwiaW5oZXJpdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2xvc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPixcclxuICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuRmluYWwucHJvcFR5cGVzID0ge1xyXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEZpbmFsKVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92aWV3cy9GaW5hbC5qcyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbkdyb3VwJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDYxMDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IHJlcXVpcmUoJy4vVHJhbnNpdGlvbkdyb3VwJyk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zaXRpb25Hcm91cCk7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQgPSByZXF1aXJlKCcuL0NTU1RyYW5zaXRpb25Hcm91cENoaWxkJyk7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQpO1xuXG52YXIgX1Byb3BUeXBlcyA9IHJlcXVpcmUoJy4vdXRpbHMvUHJvcFR5cGVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgdHJhbnNpdGlvbk5hbWU6IF9Qcm9wVHlwZXMubmFtZVNoYXBlLmlzUmVxdWlyZWQsXG5cbiAgdHJhbnNpdGlvbkFwcGVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0cmFuc2l0aW9uRW50ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdHJhbnNpdGlvbkxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHRyYW5zaXRpb25BcHBlYXJUaW1lb3V0OiAoMCwgX1Byb3BUeXBlcy50cmFuc2l0aW9uVGltZW91dCkoJ0FwcGVhcicpLFxuICB0cmFuc2l0aW9uRW50ZXJUaW1lb3V0OiAoMCwgX1Byb3BUeXBlcy50cmFuc2l0aW9uVGltZW91dCkoJ0VudGVyJyksXG4gIHRyYW5zaXRpb25MZWF2ZVRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnTGVhdmUnKVxufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgdHJhbnNpdGlvbkFwcGVhcjogZmFsc2UsXG4gIHRyYW5zaXRpb25FbnRlcjogdHJ1ZSxcbiAgdHJhbnNpdGlvbkxlYXZlOiB0cnVlXG59O1xuXG52YXIgQ1NTVHJhbnNpdGlvbkdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENTU1RyYW5zaXRpb25Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbkdyb3VwKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NTVHJhbnNpdGlvbkdyb3VwKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5fd3JhcENoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NTU1RyYW5zaXRpb25Hcm91cENoaWxkMi5kZWZhdWx0LCB7XG4gICAgICAgIG5hbWU6IF90aGlzLnByb3BzLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICBhcHBlYXI6IF90aGlzLnByb3BzLnRyYW5zaXRpb25BcHBlYXIsXG4gICAgICAgIGVudGVyOiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uRW50ZXIsXG4gICAgICAgIGxlYXZlOiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uTGVhdmUsXG4gICAgICAgIGFwcGVhclRpbWVvdXQ6IF90aGlzLnByb3BzLnRyYW5zaXRpb25BcHBlYXJUaW1lb3V0LFxuICAgICAgICBlbnRlclRpbWVvdXQ6IF90aGlzLnByb3BzLnRyYW5zaXRpb25FbnRlclRpbWVvdXQsXG4gICAgICAgIGxlYXZlVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkxlYXZlVGltZW91dFxuICAgICAgfSwgY2hpbGQpO1xuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgLy8gV2UgbmVlZCB0byBwcm92aWRlIHRoaXMgY2hpbGRGYWN0b3J5IHNvIHRoYXRcbiAgLy8gUmVhY3RDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCBjYW4gcmVjZWl2ZSB1cGRhdGVzIHRvIG5hbWUsIGVudGVyLCBhbmRcbiAgLy8gbGVhdmUgd2hpbGUgaXQgaXMgbGVhdmluZy5cblxuXG4gIENTU1RyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbkdyb3VwMi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyBjaGlsZEZhY3Rvcnk6IHRoaXMuX3dyYXBDaGlsZCB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb25Hcm91cDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkNTU1RyYW5zaXRpb25Hcm91cC5kaXNwbGF5TmFtZSA9ICdDU1NUcmFuc2l0aW9uR3JvdXAnO1xuXG5cbkNTU1RyYW5zaXRpb25Hcm91cC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBwcm9wVHlwZXMgOiB7fTtcbkNTU1RyYW5zaXRpb25Hcm91cC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENTU1RyYW5zaXRpb25Hcm91cDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXAuanNcbi8vIG1vZHVsZSBpZCA9IDYxMDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NoYWluRnVuY3Rpb24gPSByZXF1aXJlKCdjaGFpbi1mdW5jdGlvbicpO1xuXG52YXIgX2NoYWluRnVuY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hhaW5GdW5jdGlvbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX0NoaWxkTWFwcGluZyA9IHJlcXVpcmUoJy4vdXRpbHMvQ2hpbGRNYXBwaW5nJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgY29tcG9uZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueSxcbiAgY2hpbGRGYWN0b3J5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGVcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGNvbXBvbmVudDogJ3NwYW4nLFxuICBjaGlsZEZhY3Rvcnk6IGZ1bmN0aW9uIGNoaWxkRmFjdG9yeShjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZDtcbiAgfVxufTtcblxudmFyIFRyYW5zaXRpb25Hcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUcmFuc2l0aW9uR3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRyYW5zaXRpb25Hcm91cChwcm9wcywgY29udGV4dCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2l0aW9uR3JvdXApO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cbiAgICBfdGhpcy5wZXJmb3JtQXBwZWFyID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldID0gdHJ1ZTtcblxuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsQXBwZWFyKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsQXBwZWFyKF90aGlzLl9oYW5kbGVEb25lQXBwZWFyaW5nLmJpbmQoX3RoaXMsIGtleSwgY29tcG9uZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5faGFuZGxlRG9uZUFwcGVhcmluZyhrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9oYW5kbGVEb25lQXBwZWFyaW5nID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZEFwcGVhcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkQXBwZWFyKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgICB2YXIgY3VycmVudENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoIWN1cnJlbnRDaGlsZE1hcHBpbmcgfHwgIWN1cnJlbnRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAvLyBUaGlzIHdhcyByZW1vdmVkIGJlZm9yZSBpdCBoYWQgZnVsbHkgYXBwZWFyZWQuIFJlbW92ZSBpdC5cbiAgICAgICAgX3RoaXMucGVyZm9ybUxlYXZlKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucGVyZm9ybUVudGVyID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldID0gdHJ1ZTtcblxuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsRW50ZXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudFdpbGxFbnRlcihfdGhpcy5faGFuZGxlRG9uZUVudGVyaW5nLmJpbmQoX3RoaXMsIGtleSwgY29tcG9uZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5faGFuZGxlRG9uZUVudGVyaW5nKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX2hhbmRsZURvbmVFbnRlcmluZyA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRFbnRlcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkRW50ZXIoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV07XG5cbiAgICAgIHZhciBjdXJyZW50Q2hpbGRNYXBwaW5nID0gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG5cbiAgICAgIGlmICghY3VycmVudENoaWxkTWFwcGluZyB8fCAhY3VycmVudENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIC8vIFRoaXMgd2FzIHJlbW92ZWQgYmVmb3JlIGl0IGhhZCBmdWxseSBlbnRlcmVkLiBSZW1vdmUgaXQuXG4gICAgICAgIF90aGlzLnBlcmZvcm1MZWF2ZShrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnBlcmZvcm1MZWF2ZSA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbExlYXZlKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsTGVhdmUoX3RoaXMuX2hhbmRsZURvbmVMZWF2aW5nLmJpbmQoX3RoaXMsIGtleSwgY29tcG9uZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBpcyBzb21ld2hhdCBkYW5nZXJvdXMgYi9jIGl0IGNhbGxzIHNldFN0YXRlKClcbiAgICAgICAgLy8gYWdhaW4sIGVmZmVjdGl2ZWx5IG11dGF0aW5nIHRoZSBjb21wb25lbnQgYmVmb3JlIGFsbCB0aGUgd29ya1xuICAgICAgICAvLyBpcyBkb25lLlxuICAgICAgICBfdGhpcy5faGFuZGxlRG9uZUxlYXZpbmcoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5faGFuZGxlRG9uZUxlYXZpbmcgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkTGVhdmUpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZExlYXZlKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgICB2YXIgY3VycmVudENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoY3VycmVudENoaWxkTWFwcGluZyAmJiBjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgLy8gVGhpcyBlbnRlcmVkIGFnYWluIGJlZm9yZSBpdCBmdWxseSBsZWZ0LiBBZGQgaXQgYWdhaW4uXG4gICAgICAgIF90aGlzLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IF9leHRlbmRzKHt9LCBzdGF0ZS5jaGlsZHJlbik7XG4gICAgICAgICAgZGVsZXRlIG5ld0NoaWxkcmVuW2tleV07XG4gICAgICAgICAgcmV0dXJuIHsgY2hpbGRyZW46IG5ld0NoaWxkcmVuIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jaGlsZFJlZnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjaGlsZHJlbjogKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShwcm9wcy5jaGlsZHJlbilcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXMgPSB7fTtcbiAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG4gICAgdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgaW5pdGlhbENoaWxkTWFwcGluZyA9IHRoaXMuc3RhdGUuY2hpbGRyZW47XG4gICAgZm9yICh2YXIga2V5IGluIGluaXRpYWxDaGlsZE1hcHBpbmcpIHtcbiAgICAgIGlmIChpbml0aWFsQ2hpbGRNYXBwaW5nW2tleV0pIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtQXBwZWFyKGtleSwgdGhpcy5jaGlsZFJlZnNba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIG5leHRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKG5leHRQcm9wcy5jaGlsZHJlbik7XG4gICAgdmFyIHByZXZDaGlsZE1hcHBpbmcgPSB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaGlsZHJlbjogKDAsIF9DaGlsZE1hcHBpbmcubWVyZ2VDaGlsZE1hcHBpbmdzKShwcmV2Q2hpbGRNYXBwaW5nLCBuZXh0Q2hpbGRNYXBwaW5nKVxuICAgIH0pO1xuXG4gICAgZm9yICh2YXIga2V5IGluIG5leHRDaGlsZE1hcHBpbmcpIHtcbiAgICAgIHZhciBoYXNQcmV2ID0gcHJldkNoaWxkTWFwcGluZyAmJiBwcmV2Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBpZiAobmV4dENoaWxkTWFwcGluZ1trZXldICYmICFoYXNQcmV2ICYmICF0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0pIHtcbiAgICAgICAgdGhpcy5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2tleSBpbiBwcmV2Q2hpbGRNYXBwaW5nKSB7XG4gICAgICB2YXIgaGFzTmV4dCA9IG5leHRDaGlsZE1hcHBpbmcgJiYgbmV4dENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShfa2V5KTtcbiAgICAgIGlmIChwcmV2Q2hpbGRNYXBwaW5nW19rZXldICYmICFoYXNOZXh0ICYmICF0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW19rZXldKSB7XG4gICAgICAgIHRoaXMua2V5c1RvTGVhdmUucHVzaChfa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB3ZSB3YW50IHRvIHNvbWVkYXkgY2hlY2sgZm9yIHJlb3JkZXJpbmcsIHdlIGNvdWxkIGRvIGl0IGhlcmUuXG4gIH07XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIga2V5c1RvRW50ZXIgPSB0aGlzLmtleXNUb0VudGVyO1xuICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICBrZXlzVG9FbnRlci5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBfdGhpczIucGVyZm9ybUVudGVyKGtleSwgX3RoaXMyLmNoaWxkUmVmc1trZXldKTtcbiAgICB9KTtcblxuICAgIHZhciBrZXlzVG9MZWF2ZSA9IHRoaXMua2V5c1RvTGVhdmU7XG4gICAgdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuICAgIGtleXNUb0xlYXZlLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIF90aGlzMi5wZXJmb3JtTGVhdmUoa2V5LCBfdGhpczIuY2hpbGRSZWZzW2tleV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgLy8gVE9ETzogd2UgY291bGQgZ2V0IHJpZCBvZiB0aGUgbmVlZCBmb3IgdGhlIHdyYXBwZXIgbm9kZVxuICAgIC8vIGJ5IGNsb25pbmcgYSBzaW5nbGUgY2hpbGRcbiAgICB2YXIgY2hpbGRyZW5Ub1JlbmRlciA9IFtdO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3Aoa2V5KSB7XG4gICAgICB2YXIgY2hpbGQgPSBfdGhpczMuc3RhdGUuY2hpbGRyZW5ba2V5XTtcbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICB2YXIgaXNDYWxsYmFja1JlZiA9IHR5cGVvZiBjaGlsZC5yZWYgIT09ICdzdHJpbmcnO1xuICAgICAgICB2YXIgZmFjdG9yeUNoaWxkID0gX3RoaXMzLnByb3BzLmNoaWxkRmFjdG9yeShjaGlsZCk7XG4gICAgICAgIHZhciByZWYgPSBmdW5jdGlvbiByZWYocikge1xuICAgICAgICAgIF90aGlzMy5jaGlsZFJlZnNba2V5XSA9IHI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfd2FybmluZzIuZGVmYXVsdCkoaXNDYWxsYmFja1JlZiwgJ3N0cmluZyByZWZzIGFyZSBub3Qgc3VwcG9ydGVkIG9uIGNoaWxkcmVuIG9mIFRyYW5zaXRpb25Hcm91cCBhbmQgd2lsbCBiZSBpZ25vcmVkLiAnICsgJ1BsZWFzZSB1c2UgYSBjYWxsYmFjayByZWYgaW5zdGVhZDogaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9yZWZzLWFuZC10aGUtZG9tLmh0bWwjdGhlLXJlZi1jYWxsYmFjay1hdHRyaWJ1dGUnKSA6IHZvaWQgMDtcblxuICAgICAgICAvLyBBbHdheXMgY2hhaW5pbmcgdGhlIHJlZnMgbGVhZHMgdG8gcHJvYmxlbXMgd2hlbiB0aGUgY2hpbGRGYWN0b3J5XG4gICAgICAgIC8vIHdyYXBzIHRoZSBjaGlsZC4gVGhlIGNoaWxkIHJlZiBjYWxsYmFjayBnZXRzIGNhbGxlZCB0d2ljZSB3aXRoIHRoZVxuICAgICAgICAvLyB3cmFwcGVyIGFuZCB0aGUgY2hpbGQuIFNvIHdlIG9ubHkgbmVlZCB0byBjaGFpbiB0aGUgcmVmIGlmIHRoZVxuICAgICAgICAvLyBmYWN0b3J5Q2hpbGQgaXMgbm90IGRpZmZlcmVudCBmcm9tIGNoaWxkLlxuICAgICAgICBpZiAoZmFjdG9yeUNoaWxkID09PSBjaGlsZCAmJiBpc0NhbGxiYWNrUmVmKSB7XG4gICAgICAgICAgcmVmID0gKDAsIF9jaGFpbkZ1bmN0aW9uMi5kZWZhdWx0KShjaGlsZC5yZWYsIHJlZik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBZb3UgbWF5IG5lZWQgdG8gYXBwbHkgcmVhY3RpdmUgdXBkYXRlcyB0byBhIGNoaWxkIGFzIGl0IGlzIGxlYXZpbmcuXG4gICAgICAgIC8vIFRoZSBub3JtYWwgUmVhY3Qgd2F5IHRvIGRvIGl0IHdvbid0IHdvcmsgc2luY2UgdGhlIGNoaWxkIHdpbGwgaGF2ZVxuICAgICAgICAvLyBhbHJlYWR5IGJlZW4gcmVtb3ZlZC4gSW4gY2FzZSB5b3UgbmVlZCB0aGlzIGJlaGF2aW9yIHlvdSBjYW4gcHJvdmlkZVxuICAgICAgICAvLyBhIGNoaWxkRmFjdG9yeSBmdW5jdGlvbiB0byB3cmFwIGV2ZXJ5IGNoaWxkLCBldmVuIHRoZSBvbmVzIHRoYXQgYXJlXG4gICAgICAgIC8vIGxlYXZpbmcuXG4gICAgICAgIGNoaWxkcmVuVG9SZW5kZXIucHVzaChfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KGZhY3RvcnlDaGlsZCwge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHJlZjogcmVmXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuc3RhdGUuY2hpbGRyZW4pIHtcbiAgICAgIF9sb29wKGtleSk7XG4gICAgfVxuXG4gICAgLy8gRG8gbm90IGZvcndhcmQgVHJhbnNpdGlvbkdyb3VwIHByb3BzIHRvIHByaW1pdGl2ZSBET00gbm9kZXNcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25MZWF2ZTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbk5hbWU7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25BcHBlYXI7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25FbnRlcjtcbiAgICBkZWxldGUgcHJvcHMuY2hpbGRGYWN0b3J5O1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uTGVhdmVUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uRW50ZXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uQXBwZWFyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMuY29tcG9uZW50O1xuXG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHRoaXMucHJvcHMuY29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW5Ub1JlbmRlcik7XG4gIH07XG5cbiAgcmV0dXJuIFRyYW5zaXRpb25Hcm91cDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cblRyYW5zaXRpb25Hcm91cC5kaXNwbGF5TmFtZSA9ICdUcmFuc2l0aW9uR3JvdXAnO1xuXG5cblRyYW5zaXRpb25Hcm91cC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBwcm9wVHlwZXMgOiB7fTtcblRyYW5zaXRpb25Hcm91cC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zaXRpb25Hcm91cDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9UcmFuc2l0aW9uR3JvdXAuanNcbi8vIG1vZHVsZSBpZCA9IDYxMDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNoYWluKCl7XG4gIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gIHZhciBhcmdzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldXG5cbiAgYXJncyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uKGZuKXsgcmV0dXJuIGZuICE9IG51bGwgfSlcblxuICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWRcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSByZXR1cm4gYXJnc1swXVxuXG4gIHJldHVybiBhcmdzLnJlZHVjZShmdW5jdGlvbihjdXJyZW50LCBuZXh0KXtcbiAgICByZXR1cm4gZnVuY3Rpb24gY2hhaW5lZEZ1bmN0aW9uKCkge1xuICAgICAgY3VycmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgbmV4dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0pXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jaGFpbi1mdW5jdGlvbi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNjEwN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciB3YXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcbiAgICAgICAgJ21lc3NhZ2UgYXJndW1lbnQnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQubGVuZ3RoIDwgMTAgfHwgKC9eW3NcXFddKiQvKS50ZXN0KGZvcm1hdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSB3YXJuaW5nIGZvcm1hdCBzaG91bGQgYmUgYWJsZSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzICcgK1xuICAgICAgICAnd2FybmluZy4gUGxlYXNlLCB1c2UgYSBtb3JlIGRlc2NyaXB0aXZlIGZvcm1hdCB0aGFuOiAnICsgZm9ybWF0XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgIH0gY2F0Y2goeCkge31cbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9ub2RlX21vZHVsZXMvd2FybmluZy9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA2MTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZ2V0Q2hpbGRNYXBwaW5nID0gZ2V0Q2hpbGRNYXBwaW5nO1xuZXhwb3J0cy5tZXJnZUNoaWxkTWFwcGluZ3MgPSBtZXJnZUNoaWxkTWFwcGluZ3M7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG4vKipcbiAqIEdpdmVuIGB0aGlzLnByb3BzLmNoaWxkcmVuYCwgcmV0dXJuIGFuIG9iamVjdCBtYXBwaW5nIGtleSB0byBjaGlsZC5cbiAqXG4gKiBAcGFyYW0geyp9IGNoaWxkcmVuIGB0aGlzLnByb3BzLmNoaWxkcmVuYFxuICogQHJldHVybiB7b2JqZWN0fSBNYXBwaW5nIG9mIGtleSB0byBjaGlsZFxuICovXG5mdW5jdGlvbiBnZXRDaGlsZE1hcHBpbmcoY2hpbGRyZW4pIHtcbiAgaWYgKCFjaGlsZHJlbikge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICB2YXIgcmVzdWx0ID0ge307XG4gIF9yZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZDtcbiAgfSkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICByZXN1bHRbY2hpbGQua2V5XSA9IGNoaWxkO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBXaGVuIHlvdSdyZSBhZGRpbmcgb3IgcmVtb3ZpbmcgY2hpbGRyZW4gc29tZSBtYXkgYmUgYWRkZWQgb3IgcmVtb3ZlZCBpbiB0aGVcbiAqIHNhbWUgcmVuZGVyIHBhc3MuIFdlIHdhbnQgdG8gc2hvdyAqYm90aCogc2luY2Ugd2Ugd2FudCB0byBzaW11bHRhbmVvdXNseVxuICogYW5pbWF0ZSBlbGVtZW50cyBpbiBhbmQgb3V0LiBUaGlzIGZ1bmN0aW9uIHRha2VzIGEgcHJldmlvdXMgc2V0IG9mIGtleXNcbiAqIGFuZCBhIG5ldyBzZXQgb2Yga2V5cyBhbmQgbWVyZ2VzIHRoZW0gd2l0aCBpdHMgYmVzdCBndWVzcyBvZiB0aGUgY29ycmVjdFxuICogb3JkZXJpbmcuIEluIHRoZSBmdXR1cmUgd2UgbWF5IGV4cG9zZSBzb21lIG9mIHRoZSB1dGlsaXRpZXMgaW5cbiAqIFJlYWN0TXVsdGlDaGlsZCB0byBtYWtlIHRoaXMgZWFzeSwgYnV0IGZvciBub3cgUmVhY3QgaXRzZWxmIGRvZXMgbm90XG4gKiBkaXJlY3RseSBoYXZlIHRoaXMgY29uY2VwdCBvZiB0aGUgdW5pb24gb2YgcHJldkNoaWxkcmVuIGFuZCBuZXh0Q2hpbGRyZW5cbiAqIHNvIHdlIGltcGxlbWVudCBpdCBoZXJlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcmV2IHByZXYgY2hpbGRyZW4gYXMgcmV0dXJuZWQgZnJvbVxuICogYFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcoKWAuXG4gKiBAcGFyYW0ge29iamVjdH0gbmV4dCBuZXh0IGNoaWxkcmVuIGFzIHJldHVybmVkIGZyb21cbiAqIGBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKClgLlxuICogQHJldHVybiB7b2JqZWN0fSBhIGtleSBzZXQgdGhhdCBjb250YWlucyBhbGwga2V5cyBpbiBgcHJldmAgYW5kIGFsbCBrZXlzXG4gKiBpbiBgbmV4dGAgaW4gYSByZWFzb25hYmxlIG9yZGVyLlxuICovXG5mdW5jdGlvbiBtZXJnZUNoaWxkTWFwcGluZ3MocHJldiwgbmV4dCkge1xuICBwcmV2ID0gcHJldiB8fCB7fTtcbiAgbmV4dCA9IG5leHQgfHwge307XG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWVGb3JLZXkoa2V5KSB7XG4gICAgaWYgKG5leHQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmV0dXJuIG5leHRba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJldltrZXldO1xuICB9XG5cbiAgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gIC8vIHRoZSBjb21iaW5lZCBsaXN0XG4gIHZhciBuZXh0S2V5c1BlbmRpbmcgPSB7fTtcblxuICB2YXIgcGVuZGluZ0tleXMgPSBbXTtcbiAgZm9yICh2YXIgcHJldktleSBpbiBwcmV2KSB7XG4gICAgaWYgKG5leHQuaGFzT3duUHJvcGVydHkocHJldktleSkpIHtcbiAgICAgIGlmIChwZW5kaW5nS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dEtleXNQZW5kaW5nW3ByZXZLZXldID0gcGVuZGluZ0tleXM7XG4gICAgICAgIHBlbmRpbmdLZXlzID0gW107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlbmRpbmdLZXlzLnB1c2gocHJldktleSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGkgPSB2b2lkIDA7XG4gIHZhciBjaGlsZE1hcHBpbmcgPSB7fTtcbiAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0KSB7XG4gICAgaWYgKG5leHRLZXlzUGVuZGluZy5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IG5leHRLZXlzUGVuZGluZ1tuZXh0S2V5XS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGVuZGluZ05leHRLZXkgPSBuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV1baV07XG4gICAgICAgIGNoaWxkTWFwcGluZ1tuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV1baV1dID0gZ2V0VmFsdWVGb3JLZXkocGVuZGluZ05leHRLZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjaGlsZE1hcHBpbmdbbmV4dEtleV0gPSBnZXRWYWx1ZUZvcktleShuZXh0S2V5KTtcbiAgfVxuXG4gIC8vIEZpbmFsbHksIGFkZCB0aGUga2V5cyB3aGljaCBkaWRuJ3QgYXBwZWFyIGJlZm9yZSBhbnkga2V5IGluIGBuZXh0YFxuICBmb3IgKGkgPSAwOyBpIDwgcGVuZGluZ0tleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjaGlsZE1hcHBpbmdbcGVuZGluZ0tleXNbaV1dID0gZ2V0VmFsdWVGb3JLZXkocGVuZGluZ0tleXNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkTWFwcGluZztcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvQ2hpbGRNYXBwaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSA2MTA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9hZGRDbGFzcyA9IHJlcXVpcmUoJ2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzJyk7XG5cbnZhciBfYWRkQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRkQ2xhc3MpO1xuXG52YXIgX3JlbW92ZUNsYXNzID0gcmVxdWlyZSgnZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MnKTtcblxudmFyIF9yZW1vdmVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZW1vdmVDbGFzcyk7XG5cbnZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWlyZSgnZG9tLWhlbHBlcnMvdXRpbC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKTtcblxudmFyIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKTtcblxudmFyIF9wcm9wZXJ0aWVzID0gcmVxdWlyZSgnZG9tLWhlbHBlcnMvdHJhbnNpdGlvbi9wcm9wZXJ0aWVzJyk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9Qcm9wVHlwZXMgPSByZXF1aXJlKCcuL3V0aWxzL1Byb3BUeXBlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBldmVudHMgPSBbXTtcbmlmIChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKSBldmVudHMucHVzaChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKTtcbmlmIChfcHJvcGVydGllcy5hbmltYXRpb25FbmQpIGV2ZW50cy5wdXNoKF9wcm9wZXJ0aWVzLmFuaW1hdGlvbkVuZCk7XG5cbmZ1bmN0aW9uIGFkZEVuZExpc3RlbmVyKG5vZGUsIGxpc3RlbmVyKSB7XG4gIGlmIChldmVudHMubGVuZ3RoKSB7XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZXRUaW1lb3V0KGxpc3RlbmVyLCAwKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFldmVudHMubGVuZ3RoKSByZXR1cm47XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfTtcbn1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgbmFtZTogX1Byb3BUeXBlcy5uYW1lU2hhcGUuaXNSZXF1aXJlZCxcblxuICAvLyBPbmNlIHdlIHJlcXVpcmUgdGltZW91dHMgdG8gYmUgc3BlY2lmaWVkLCB3ZSBjYW4gcmVtb3ZlIHRoZVxuICAvLyBib29sZWFuIGZsYWdzIChhcHBlYXIgZXRjLikgYW5kIGp1c3QgYWNjZXB0IGEgbnVtYmVyXG4gIC8vIG9yIGEgYm9vbCBmb3IgdGhlIHRpbWVvdXQgZmxhZ3MgKGFwcGVhclRpbWVvdXQgZXRjLilcbiAgYXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGFwcGVhclRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBlbnRlclRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBsZWF2ZVRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyXG59O1xuXG52YXIgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENTU1RyYW5zaXRpb25Hcm91cENoaWxkKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmNvbXBvbmVudFdpbGxBcHBlYXIgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmFwcGVhcikge1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uKCdhcHBlYXInLCBkb25lLCBfdGhpcy5wcm9wcy5hcHBlYXJUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jb21wb25lbnRXaWxsRW50ZXIgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmVudGVyKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2VudGVyJywgZG9uZSwgX3RoaXMucHJvcHMuZW50ZXJUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jb21wb25lbnRXaWxsTGVhdmUgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmxlYXZlKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2xlYXZlJywgZG9uZSwgX3RoaXMucHJvcHMubGVhdmVUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUgPSBbXTtcbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cyA9IFtdO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMudW5tb3VudGVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5sZW5ndGggPSAwO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS50cmFuc2l0aW9uID0gZnVuY3Rpb24gdHJhbnNpdGlvbihhbmltYXRpb25UeXBlLCBmaW5pc2hDYWxsYmFjaywgdGltZW91dCkge1xuICAgIHZhciBub2RlID0gKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcyk7XG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIGlmIChmaW5pc2hDYWxsYmFjaykge1xuICAgICAgICBmaW5pc2hDYWxsYmFjaygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLm5hbWVbYW5pbWF0aW9uVHlwZV0gfHwgdGhpcy5wcm9wcy5uYW1lICsgJy0nICsgYW5pbWF0aW9uVHlwZTtcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gdGhpcy5wcm9wcy5uYW1lW2FuaW1hdGlvblR5cGUgKyAnQWN0aXZlJ10gfHwgY2xhc3NOYW1lICsgJy1hY3RpdmUnO1xuICAgIHZhciB0aW1lciA9IG51bGw7XG4gICAgdmFyIHJlbW92ZUxpc3RlbmVycyA9IHZvaWQgMDtcblxuICAgICgwLCBfYWRkQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGNsYXNzTmFtZSk7XG5cbiAgICAvLyBOZWVkIHRvIGRvIHRoaXMgdG8gYWN0dWFsbHkgdHJpZ2dlciBhIHRyYW5zaXRpb24uXG4gICAgdGhpcy5xdWV1ZUNsYXNzQW5kTm9kZShhY3RpdmVDbGFzc05hbWUsIG5vZGUpO1xuXG4gICAgLy8gQ2xlYW4tdXAgdGhlIGFuaW1hdGlvbiBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5XG4gICAgdmFyIGZpbmlzaCA9IGZ1bmN0aW9uIGZpbmlzaChlKSB7XG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICBpZiAocmVtb3ZlTGlzdGVuZXJzKSByZW1vdmVMaXN0ZW5lcnMoKTtcblxuICAgICAgKDAsIF9yZW1vdmVDbGFzczIuZGVmYXVsdCkobm9kZSwgY2xhc3NOYW1lKTtcbiAgICAgICgwLCBfcmVtb3ZlQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChyZW1vdmVMaXN0ZW5lcnMpIHJlbW92ZUxpc3RlbmVycygpO1xuXG4gICAgICAvLyBVc3VhbGx5IHRoaXMgb3B0aW9uYWwgY2FsbGJhY2sgaXMgdXNlZCBmb3IgaW5mb3JtaW5nIGFuIG93bmVyIG9mXG4gICAgICAvLyBhIGxlYXZlIGFuaW1hdGlvbiBhbmQgdGVsbGluZyBpdCB0byByZW1vdmUgdGhlIGNoaWxkLlxuICAgICAgaWYgKGZpbmlzaENhbGxiYWNrKSB7XG4gICAgICAgIGZpbmlzaENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZmluaXNoLCB0aW1lb3V0KTtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXRzLnB1c2godGltZXIpO1xuICAgIH0gZWxzZSBpZiAoX3Byb3BlcnRpZXMudHJhbnNpdGlvbkVuZCkge1xuICAgICAgcmVtb3ZlTGlzdGVuZXJzID0gYWRkRW5kTGlzdGVuZXIobm9kZSwgZmluaXNoKTtcbiAgICB9XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLnF1ZXVlQ2xhc3NBbmROb2RlID0gZnVuY3Rpb24gcXVldWVDbGFzc0FuZE5vZGUoY2xhc3NOYW1lLCBub2RlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5wdXNoKHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgbm9kZTogbm9kZVxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnJhZkhhbmRsZSkge1xuICAgICAgdGhpcy5yYWZIYW5kbGUgPSAoMCwgX3JlcXVlc3RBbmltYXRpb25GcmFtZTIuZGVmYXVsdCkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLmZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlID0gZnVuY3Rpb24gZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUoKSB7XG4gICAgaWYgKCF0aGlzLnVubW91bnRlZCkge1xuICAgICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgZm9yIHRvIGZvcmNlIGEgcmVwYWludCxcbiAgICAgICAgLy8gd2hpY2ggaXMgbmVjZXNzYXJ5IGluIG9yZGVyIHRvIHRyYW5zaXRpb24gc3R5bGVzIHdoZW4gYWRkaW5nIGEgY2xhc3MgbmFtZS5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICAgIG9iai5ub2RlLnNjcm9sbFRvcDtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgICAgICAgKDAsIF9hZGRDbGFzczIuZGVmYXVsdCkob2JqLm5vZGUsIG9iai5jbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5yYWZIYW5kbGUgPSBudWxsO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIGRlbGV0ZSBwcm9wcy5uYW1lO1xuICAgIGRlbGV0ZSBwcm9wcy5hcHBlYXI7XG4gICAgZGVsZXRlIHByb3BzLmVudGVyO1xuICAgIGRlbGV0ZSBwcm9wcy5sZWF2ZTtcbiAgICBkZWxldGUgcHJvcHMuYXBwZWFyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMuZW50ZXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5sZWF2ZVRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmNoaWxkcmVuO1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pLCBwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb25Hcm91cENoaWxkO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQuZGlzcGxheU5hbWUgPSAnQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQnO1xuXG5cbkNTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5qc1xuLy8gbW9kdWxlIGlkID0gNjExMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfaW5ET00gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2luRE9NXCIpKTtcblxudmFyIHZlbmRvcnMgPSBbJycsICd3ZWJraXQnLCAnbW96JywgJ28nLCAnbXMnXTtcbnZhciBjYW5jZWwgPSAnY2xlYXJUaW1lb3V0JztcbnZhciByYWYgPSBmYWxsYmFjaztcbnZhciBjb21wYXRSYWY7XG5cbnZhciBnZXRLZXkgPSBmdW5jdGlvbiBnZXRLZXkodmVuZG9yLCBrKSB7XG4gIHJldHVybiB2ZW5kb3IgKyAoIXZlbmRvciA/IGsgOiBrWzBdLnRvVXBwZXJDYXNlKCkgKyBrLnN1YnN0cigxKSkgKyAnQW5pbWF0aW9uRnJhbWUnO1xufTtcblxuaWYgKF9pbkRPTS5kZWZhdWx0KSB7XG4gIHZlbmRvcnMuc29tZShmdW5jdGlvbiAodmVuZG9yKSB7XG4gICAgdmFyIHJhZktleSA9IGdldEtleSh2ZW5kb3IsICdyZXF1ZXN0Jyk7XG5cbiAgICBpZiAocmFmS2V5IGluIHdpbmRvdykge1xuICAgICAgY2FuY2VsID0gZ2V0S2V5KHZlbmRvciwgJ2NhbmNlbCcpO1xuICAgICAgcmV0dXJuIHJhZiA9IGZ1bmN0aW9uIHJhZihjYikge1xuICAgICAgICByZXR1cm4gd2luZG93W3JhZktleV0oY2IpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuLyogaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvbmVudC9yYWYgKi9cblxuXG52YXIgcHJldiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG5mdW5jdGlvbiBmYWxsYmFjayhmbikge1xuICB2YXIgY3VyciA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgbXMgPSBNYXRoLm1heCgwLCAxNiAtIChjdXJyIC0gcHJldikpLFxuICAgICAgcmVxID0gc2V0VGltZW91dChmbiwgbXMpO1xuICBwcmV2ID0gY3VycjtcbiAgcmV0dXJuIHJlcTtcbn1cblxuY29tcGF0UmFmID0gZnVuY3Rpb24gY29tcGF0UmFmKGNiKSB7XG4gIHJldHVybiByYWYoY2IpO1xufTtcblxuY29tcGF0UmFmLmNhbmNlbCA9IGZ1bmN0aW9uIChpZCkge1xuICB3aW5kb3dbY2FuY2VsXSAmJiB0eXBlb2Ygd2luZG93W2NhbmNlbF0gPT09ICdmdW5jdGlvbicgJiYgd2luZG93W2NhbmNlbF0oaWQpO1xufTtcblxudmFyIF9kZWZhdWx0ID0gY29tcGF0UmFmO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL3V0aWwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzXG4vLyBtb2R1bGUgaWQgPSA2MTExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxyXG4gKiBAYXV0aG9yIEJhbHJhaiBTaW5naCA8YmFscmFqc2luZ2guc0BoaWdocmFkaXVzLmNvbT5cclxuICovXHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IEdyb3cgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3Jvdyc7XHJcbmltcG9ydCB7IFR5cG9ncmFwaHkgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XHJcbmltcG9ydCBIaWdobGlnaHRlciBmcm9tICdyZWFjdC1oaWdobGlnaHQtd29yZHMnO1xyXG5pbXBvcnQgeyBISUdITElHSFRFUl9SRUdFWCB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IGNhbGxiYWNraWZ5IH0gZnJvbSAndXRpbCc7XHJcbmltcG9ydCBHaWZQbGF5ZXIgZnJvbSAncmVhY3QtZ2lmLXBsYXllcic7XHJcbmltcG9ydCBSaXBwbGVHaWYgZnJvbSAnLi4vYXNzZXRzL1JpcHBsZS5naWYnO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuXHJcbiAgICBjaGF0QnViYmxlOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJmbGV4LXN0YXJ0XCIsXHJcbiAgICAgICAgcGFkZGluZzogXCI0cHhcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICAgICAgbWluV2lkdGg6IFwiY2FsYygxMDAlIC0gMnJlbSlcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEwMCUgLSAycmVtKVwiLFxyXG4gICAgICAgIG1pbkhlaWdodDogXCIxcmVtXCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjRweFwiLFxyXG4gICAgfSxcclxuICAgIHJpZ2h0QnViYmxlOiB7XHJcbiAgICAgICAgb3BhY2l0eTogXCIwLjY1ICFpbXBvcnRhbnRcIixcclxuICAgICAgICBhbGlnblNlbGY6IFwiZmxleC1lbmRcIixcclxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvdy1yZXZlcnNlXCIsXHJcbiAgICB9LFxyXG4gICAgbWVzc2FnZToge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcclxuICAgICAgICBjb2xvcjogXCIjZmZmXCIsXHJcbiAgICB9LFxyXG4gICAgaGlnaGxpZ2h0TWVzc2FnZToge1xyXG4gICAgICAgIGNvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSg5MywgMTcwLCAyMjQsIDAuMylcIixcclxuICAgIH0sXHJcbiAgICBjaXJjbGVkVGV4dDoge1xyXG4gICAgICAgIG1pbldpZHRoOiBcIjJyZW1cIixcclxuICAgICAgICBtaW5IZWlnaHQ6IFwiMnJlbVwiLFxyXG4gICAgICAgIG1heEhlaWdodDogXCIycmVtXCIsXHJcbiAgICAgICAgbWF4V2lkdGg6IFwiMnJlbVwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcclxuICAgICAgICBjb2xvcjogXCIjZmZmXCIsXHJcbiAgICAgICAgbGluZUhlaWdodDogXCIycmVtXCIsXHJcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzVEQUFFMFwiLFxyXG4gICAgfSxcclxuICAgIGdpZkFuaW1hdG9yOiB7XHJcblxyXG4gICAgfSxcclxuICAgIGRldGVjdG9yOiB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxyXG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzVEQUFFMFwiLFxyXG4gICAgfSxcclxuICAgIGhpZ2hsaWdodGVyRm9yTGVmdDoge1xyXG4gICAgICAgIGFsaWduU2VsZjogXCJjZW50ZXJcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjEwcHhcIixcclxuICAgIH0sXHJcbiAgICBoaWdobGlnaHRlckZvclJpZ2h0OiB7XHJcbiAgICAgICAgdGV4dEFsaWduOiBcInJpZ2h0XCIsXHJcbiAgICAgICAgYWxpZ25TZWxmOiBcImNlbnRlclwiLFxyXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjEwcHhcIixcclxuICAgIH1cclxufSk7XHJcblxyXG5jbGFzcyBDaGF0Qm94IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcclxuICAgICAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICAgICAgaXNDb2xsZWN0b3I6IFByb3BUeXBlcy5ib29sLFxyXG4gICAgICAgIG1lc3NhZ2U6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgaXNEZXRlY3Rpbmc6IFByb3BUeXBlcy5ib29sLFxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgICAgIGlzQ29sbGVjdG9yOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBcIlwiLFxyXG4gICAgICAgIGlzRGV0ZWN0aW5nOiBmYWxzZSxcclxuICAgIH07XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgaXNDb2xsZWN0b3IsIG1lc3NhZ2UsIGNsYXNzZXMsIGlzRGV0ZWN0aW5nIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAvL2NvbW1lbnQgPEdyb3c+IGFuZCA8L0dyb3c+IGZvbGxvd2luZyBmb3IgcnVubmluZyB0ZXN0cyBzdWl0ZVxyXG4gICAgICAgICAgICAvL2Nhbm5vdCBzZXQgdHJhbnNpdGlvbnMgaW4gbm9kZSBlbnZcclxuICAgICAgICAgICAgPEdyb3cgaW49e3RydWV9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY2hhdEJ1YmJsZSArIFwiIFwiICsgKGlzQ29sbGVjdG9yID8gY2xhc3Nlcy5yaWdodEJ1YmJsZSA6IFwiXCIpfT5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc0RldGVjdGluZyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNpcmNsZWRUZXh0ICsgXCIgXCIgKyAoaXNEZXRlY3RpbmcgPyBjbGFzc2VzLmRldGVjdG9yIDogXCJcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmluaXRpYWxzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZXRlY3RpbmcgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBcIjIuNXJlbVwiLCB3aWR0aDogXCIyLjVyZW1cIiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3JjPXtcIi90b3ZvL3N0YXRpYy9SaXBwbGUuZ2lmXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e1JpcHBsZUdpZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIkRldGVjdGluZyBTcGVha2VycyBBbmltYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtpc0NvbGxlY3RvciA/IGNsYXNzZXMuaGlnaGxpZ2h0ZXJGb3JSaWdodCA6IGNsYXNzZXMuaGlnaGxpZ2h0ZXJGb3JMZWZ0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmhpZ2hsaWdodENsYXNzTmFtZT17Y2xhc3Nlcy5tZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDbGFzc05hbWU9e2NsYXNzZXMuaGlnaGxpZ2h0TWVzc2FnZSArIFwiIFwiICsgY2xhc3Nlcy5tZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hXb3Jkcz17SElHSExJR0hURVJfUkVHRVh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRUb0hpZ2hsaWdodD17bWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvR3Jvdz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCAod2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKShDaGF0Qm94KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9DaGF0Qm94LmpzIiwibW9kdWxlLmV4cG9ydHMgPVxuLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfSGlnaGxpZ2h0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9IaWdobGlnaHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IaWdobGlnaHRlcik7XG5cblx0ZXhwb3J0c1snZGVmYXVsdCddID0gX0hpZ2hsaWdodGVyMlsnZGVmYXVsdCddO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSBIaWdobGlnaHRlcjtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfaGlnaGxpZ2h0V29yZHNDb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfbWVtb2l6ZU9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF9tZW1vaXplT25lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21lbW9pemVPbmUpO1xuXHRcblx0SGlnaGxpZ2h0ZXIucHJvcFR5cGVzID0ge1xuXHQgIGFjdGl2ZUNsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG5cdCAgYWN0aXZlSW5kZXg6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubnVtYmVyLFxuXHQgIGFjdGl2ZVN0eWxlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdCxcblx0ICBhdXRvRXNjYXBlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG5cdCAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcblx0ICBmaW5kQ2h1bmtzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG5cdCAgaGlnaGxpZ2h0Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9uZU9mVHlwZShbX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3QsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nXSksXG5cdCAgaGlnaGxpZ2h0U3R5bGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0LFxuXHQgIGhpZ2hsaWdodFRhZzogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSwgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZ10pLFxuXHQgIHNhbml0aXplOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG5cdCAgc2VhcmNoV29yZHM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYXJyYXlPZihfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9uZU9mVHlwZShbX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uaW5zdGFuY2VPZihSZWdFeHApXSkpLmlzUmVxdWlyZWQsXG5cdCAgdGV4dFRvSGlnaGxpZ2h0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZy5pc1JlcXVpcmVkLFxuXHQgIHVuaGlnaGxpZ2h0Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcblx0ICB1bmhpZ2hsaWdodFN0eWxlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdFxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEhpZ2hsaWdodHMgYWxsIG9jY3VycmVuY2VzIG9mIHNlYXJjaCB0ZXJtcyAoc2VhcmNoVGV4dCkgd2l0aGluIGEgc3RyaW5nICh0ZXh0VG9IaWdobGlnaHQpLlxuXHQgKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYW4gYXJyYXkgb2Ygc3RyaW5ncyBhbmQgPHNwYW4+cyAod3JhcHBpbmcgaGlnaGxpZ2h0ZWQgd29yZHMpLlxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIEhpZ2hsaWdodGVyKF9yZWYpIHtcblx0ICB2YXIgX3JlZiRhY3RpdmVDbGFzc05hbWUgPSBfcmVmLmFjdGl2ZUNsYXNzTmFtZTtcblx0ICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gX3JlZiRhY3RpdmVDbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3JlZiRhY3RpdmVDbGFzc05hbWU7XG5cdCAgdmFyIF9yZWYkYWN0aXZlSW5kZXggPSBfcmVmLmFjdGl2ZUluZGV4O1xuXHQgIHZhciBhY3RpdmVJbmRleCA9IF9yZWYkYWN0aXZlSW5kZXggPT09IHVuZGVmaW5lZCA/IC0xIDogX3JlZiRhY3RpdmVJbmRleDtcblx0ICB2YXIgYWN0aXZlU3R5bGUgPSBfcmVmLmFjdGl2ZVN0eWxlO1xuXHQgIHZhciBhdXRvRXNjYXBlID0gX3JlZi5hdXRvRXNjYXBlO1xuXHQgIHZhciBfcmVmJGNhc2VTZW5zaXRpdmUgPSBfcmVmLmNhc2VTZW5zaXRpdmU7XG5cdCAgdmFyIGNhc2VTZW5zaXRpdmUgPSBfcmVmJGNhc2VTZW5zaXRpdmUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRjYXNlU2Vuc2l0aXZlO1xuXHQgIHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZTtcblx0ICB2YXIgZmluZENodW5rcyA9IF9yZWYuZmluZENodW5rcztcblx0ICB2YXIgX3JlZiRoaWdobGlnaHRDbGFzc05hbWUgPSBfcmVmLmhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICB2YXIgaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZiRoaWdobGlnaHRDbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3JlZiRoaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIF9yZWYkaGlnaGxpZ2h0U3R5bGUgPSBfcmVmLmhpZ2hsaWdodFN0eWxlO1xuXHQgIHZhciBoaWdobGlnaHRTdHlsZSA9IF9yZWYkaGlnaGxpZ2h0U3R5bGUgPT09IHVuZGVmaW5lZCA/IHt9IDogX3JlZiRoaWdobGlnaHRTdHlsZTtcblx0ICB2YXIgX3JlZiRoaWdobGlnaHRUYWcgPSBfcmVmLmhpZ2hsaWdodFRhZztcblx0ICB2YXIgaGlnaGxpZ2h0VGFnID0gX3JlZiRoaWdobGlnaHRUYWcgPT09IHVuZGVmaW5lZCA/ICdtYXJrJyA6IF9yZWYkaGlnaGxpZ2h0VGFnO1xuXHQgIHZhciBzYW5pdGl6ZSA9IF9yZWYuc2FuaXRpemU7XG5cdCAgdmFyIHNlYXJjaFdvcmRzID0gX3JlZi5zZWFyY2hXb3Jkcztcblx0ICB2YXIgdGV4dFRvSGlnaGxpZ2h0ID0gX3JlZi50ZXh0VG9IaWdobGlnaHQ7XG5cdCAgdmFyIF9yZWYkdW5oaWdobGlnaHRDbGFzc05hbWUgPSBfcmVmLnVuaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciB1bmhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYkdW5oaWdobGlnaHRDbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3JlZiR1bmhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICB2YXIgdW5oaWdobGlnaHRTdHlsZSA9IF9yZWYudW5oaWdobGlnaHRTdHlsZTtcblx0XG5cdCAgdmFyIGNodW5rcyA9ICgwLCBfaGlnaGxpZ2h0V29yZHNDb3JlLmZpbmRBbGwpKHtcblx0ICAgIGF1dG9Fc2NhcGU6IGF1dG9Fc2NhcGUsXG5cdCAgICBjYXNlU2Vuc2l0aXZlOiBjYXNlU2Vuc2l0aXZlLFxuXHQgICAgZmluZENodW5rczogZmluZENodW5rcyxcblx0ICAgIHNhbml0aXplOiBzYW5pdGl6ZSxcblx0ICAgIHNlYXJjaFdvcmRzOiBzZWFyY2hXb3Jkcyxcblx0ICAgIHRleHRUb0hpZ2hsaWdodDogdGV4dFRvSGlnaGxpZ2h0XG5cdCAgfSk7XG5cdCAgdmFyIEhpZ2hsaWdodFRhZyA9IGhpZ2hsaWdodFRhZztcblx0ICB2YXIgaGlnaGxpZ2h0Q291bnQgPSAtMTtcblx0ICB2YXIgaGlnaGxpZ2h0Q2xhc3NOYW1lcyA9ICcnO1xuXHQgIHZhciBoaWdobGlnaHRTdHlsZXMgPSB1bmRlZmluZWQ7XG5cdFxuXHQgIHZhciBsb3dlcmNhc2VQcm9wcyA9IGZ1bmN0aW9uIGxvd2VyY2FzZVByb3BzKG9iamVjdCkge1xuXHQgICAgdmFyIG1hcHBlZCA9IHt9O1xuXHQgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuXHQgICAgICBtYXBwZWRba2V5LnRvTG93ZXJDYXNlKCldID0gb2JqZWN0W2tleV07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbWFwcGVkO1xuXHQgIH07XG5cdCAgdmFyIG1lbW9pemVkTG93ZXJjYXNlUHJvcHMgPSAoMCwgX21lbW9pemVPbmUyWydkZWZhdWx0J10pKGxvd2VyY2FzZVByb3BzKTtcblx0XG5cdCAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgJ3NwYW4nLFxuXHQgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuXHQgICAgY2h1bmtzLm1hcChmdW5jdGlvbiAoY2h1bmssIGluZGV4KSB7XG5cdCAgICAgIHZhciB0ZXh0ID0gdGV4dFRvSGlnaGxpZ2h0LnN1YnN0cihjaHVuay5zdGFydCwgY2h1bmsuZW5kIC0gY2h1bmsuc3RhcnQpO1xuXHRcblx0ICAgICAgaWYgKGNodW5rLmhpZ2hsaWdodCkge1xuXHQgICAgICAgIGhpZ2hsaWdodENvdW50Kys7XG5cdFxuXHQgICAgICAgIHZhciBoaWdobGlnaHRDbGFzcyA9IHVuZGVmaW5lZDtcblx0ICAgICAgICBpZiAodHlwZW9mIGhpZ2hsaWdodENsYXNzTmFtZSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgIGlmICghY2FzZVNlbnNpdGl2ZSkge1xuXHQgICAgICAgICAgICBoaWdobGlnaHRDbGFzc05hbWUgPSBtZW1vaXplZExvd2VyY2FzZVByb3BzKGhpZ2hsaWdodENsYXNzTmFtZSk7XG5cdCAgICAgICAgICAgIGhpZ2hsaWdodENsYXNzID0gaGlnaGxpZ2h0Q2xhc3NOYW1lW3RleHQudG9Mb3dlckNhc2UoKV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBoaWdobGlnaHRDbGFzcyA9IGhpZ2hsaWdodENsYXNzTmFtZVt0ZXh0XTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3MgPSBoaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaXNBY3RpdmUgPSBoaWdobGlnaHRDb3VudCA9PT0gK2FjdGl2ZUluZGV4O1xuXHRcblx0ICAgICAgICBoaWdobGlnaHRDbGFzc05hbWVzID0gaGlnaGxpZ2h0Q2xhc3MgKyAnICcgKyAoaXNBY3RpdmUgPyBhY3RpdmVDbGFzc05hbWUgOiAnJyk7XG5cdCAgICAgICAgaGlnaGxpZ2h0U3R5bGVzID0gaXNBY3RpdmUgPT09IHRydWUgJiYgYWN0aXZlU3R5bGUgIT0gbnVsbCA/IE9iamVjdC5hc3NpZ24oe30sIGhpZ2hsaWdodFN0eWxlLCBhY3RpdmVTdHlsZSkgOiBoaWdobGlnaHRTdHlsZTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgSGlnaGxpZ2h0VGFnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IGhpZ2hsaWdodENsYXNzTmFtZXMsXG5cdCAgICAgICAgICAgIGtleTogaW5kZXgsXG5cdCAgICAgICAgICAgIHN0eWxlOiBoaWdobGlnaHRTdHlsZXNcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICB0ZXh0XG5cdCAgICAgICAgKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogdW5oaWdobGlnaHRDbGFzc05hbWUsXG5cdCAgICAgICAgICAgIGtleTogaW5kZXgsXG5cdCAgICAgICAgICAgIHN0eWxlOiB1bmhpZ2hsaWdodFN0eWxlXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdGV4dFxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgKTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID1cblx0LyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuXHQvKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcblx0LyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5cdC8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdC8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcblx0LyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHQvKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuXHQvKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcblx0LyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuXHQvKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG5cdC8qKioqKiovIFx0XHR9O1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdC8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0LyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0LyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcblx0LyoqKioqKi8gXHR9XG5cdC8qKioqKiovXG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcblx0LyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG5cdC8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuXHQvKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5cdC8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cdC8qKioqKiovIH0pXG5cdC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cdC8qKioqKiovIChbXG5cdC8qIDAgKi9cblx0LyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXHRcblx0XHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHRcblx0LyoqKi8gfSksXG5cdC8qIDEgKi9cblx0LyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXHRcblx0XHQndXNlIHN0cmljdCc7XG5cdFx0XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0ICB2YWx1ZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdFxuXHRcdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcdFxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY29tYmluZUNodW5rcycsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5jb21iaW5lQ2h1bmtzO1xuXHRcdCAgfVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZmlsbEluQ2h1bmtzJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmZpbGxJbkNodW5rcztcblx0XHQgIH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2ZpbmRBbGwnLCB7XG5cdFx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFx0ICAgIHJldHVybiBfdXRpbHMuZmluZEFsbDtcblx0XHQgIH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2ZpbmRDaHVua3MnLCB7XG5cdFx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFx0ICAgIHJldHVybiBfdXRpbHMuZmluZENodW5rcztcblx0XHQgIH1cblx0XHR9KTtcblx0XG5cdC8qKiovIH0pLFxuXHQvKiAyICovXG5cdC8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblx0XG5cdFx0J3VzZSBzdHJpY3QnO1xuXHRcdFxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdCAgdmFsdWU6IHRydWVcblx0XHR9KTtcblx0XHQvKipcblx0XHQgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGNodW5rIG9iamVjdHMgcmVwcmVzZW50aW5nIGJvdGggaGlnbGlnaHRhYmxlIGFuZCBub24gaGlnaGxpZ2h0YWJsZSBwaWVjZXMgb2YgdGV4dCB0aGF0IG1hdGNoIGVhY2ggc2VhcmNoIHdvcmQuXG5cdFx0ICogQHJldHVybiBBcnJheSBvZiBcImNodW5rc1wiICh3aGVyZSBhIENodW5rIGlzIHsgc3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyLCBoaWdobGlnaHQ6Ym9vbGVhbiB9KVxuXHRcdCAqL1xuXHRcdHZhciBmaW5kQWxsID0gZXhwb3J0cy5maW5kQWxsID0gZnVuY3Rpb24gZmluZEFsbChfcmVmKSB7XG5cdFx0ICB2YXIgYXV0b0VzY2FwZSA9IF9yZWYuYXV0b0VzY2FwZSxcblx0XHQgICAgICBfcmVmJGNhc2VTZW5zaXRpdmUgPSBfcmVmLmNhc2VTZW5zaXRpdmUsXG5cdFx0ICAgICAgY2FzZVNlbnNpdGl2ZSA9IF9yZWYkY2FzZVNlbnNpdGl2ZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGNhc2VTZW5zaXRpdmUsXG5cdFx0ICAgICAgX3JlZiRmaW5kQ2h1bmtzID0gX3JlZi5maW5kQ2h1bmtzLFxuXHRcdCAgICAgIGZpbmRDaHVua3MgPSBfcmVmJGZpbmRDaHVua3MgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRGaW5kQ2h1bmtzIDogX3JlZiRmaW5kQ2h1bmtzLFxuXHRcdCAgICAgIHNhbml0aXplID0gX3JlZi5zYW5pdGl6ZSxcblx0XHQgICAgICBzZWFyY2hXb3JkcyA9IF9yZWYuc2VhcmNoV29yZHMsXG5cdFx0ICAgICAgdGV4dFRvSGlnaGxpZ2h0ID0gX3JlZi50ZXh0VG9IaWdobGlnaHQ7XG5cdFx0ICByZXR1cm4gZmlsbEluQ2h1bmtzKHtcblx0XHQgICAgY2h1bmtzVG9IaWdobGlnaHQ6IGNvbWJpbmVDaHVua3Moe1xuXHRcdCAgICAgIGNodW5rczogZmluZENodW5rcyh7XG5cdFx0ICAgICAgICBhdXRvRXNjYXBlOiBhdXRvRXNjYXBlLFxuXHRcdCAgICAgICAgY2FzZVNlbnNpdGl2ZTogY2FzZVNlbnNpdGl2ZSxcblx0XHQgICAgICAgIHNhbml0aXplOiBzYW5pdGl6ZSxcblx0XHQgICAgICAgIHNlYXJjaFdvcmRzOiBzZWFyY2hXb3Jkcyxcblx0XHQgICAgICAgIHRleHRUb0hpZ2hsaWdodDogdGV4dFRvSGlnaGxpZ2h0XG5cdFx0ICAgICAgfSlcblx0XHQgICAgfSksXG5cdFx0ICAgIHRvdGFsTGVuZ3RoOiB0ZXh0VG9IaWdobGlnaHQgPyB0ZXh0VG9IaWdobGlnaHQubGVuZ3RoIDogMFxuXHRcdCAgfSk7XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBUYWtlcyBhbiBhcnJheSBvZiB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyfSBvYmplY3RzIGFuZCBjb21iaW5lcyBjaHVua3MgdGhhdCBvdmVybGFwIGludG8gc2luZ2xlIGNodW5rcy5cblx0XHQgKiBAcmV0dXJuIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9W11cblx0XHQgKi9cblx0XHR2YXIgY29tYmluZUNodW5rcyA9IGV4cG9ydHMuY29tYmluZUNodW5rcyA9IGZ1bmN0aW9uIGNvbWJpbmVDaHVua3MoX3JlZjIpIHtcblx0XHQgIHZhciBjaHVua3MgPSBfcmVmMi5jaHVua3M7XG5cdFx0XG5cdFx0ICBjaHVua3MgPSBjaHVua3Muc29ydChmdW5jdGlvbiAoZmlyc3QsIHNlY29uZCkge1xuXHRcdCAgICByZXR1cm4gZmlyc3Quc3RhcnQgLSBzZWNvbmQuc3RhcnQ7XG5cdFx0ICB9KS5yZWR1Y2UoZnVuY3Rpb24gKHByb2Nlc3NlZENodW5rcywgbmV4dENodW5rKSB7XG5cdFx0ICAgIC8vIEZpcnN0IGNodW5rIGp1c3QgZ29lcyBzdHJhaWdodCBpbiB0aGUgYXJyYXkuLi5cblx0XHQgICAgaWYgKHByb2Nlc3NlZENodW5rcy5sZW5ndGggPT09IDApIHtcblx0XHQgICAgICByZXR1cm4gW25leHRDaHVua107XG5cdFx0ICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgLy8gLi4uIHN1YnNlcXVlbnQgY2h1bmtzIGdldCBjaGVja2VkIHRvIHNlZSBpZiB0aGV5IG92ZXJsYXAuLi5cblx0XHQgICAgICB2YXIgcHJldkNodW5rID0gcHJvY2Vzc2VkQ2h1bmtzLnBvcCgpO1xuXHRcdCAgICAgIGlmIChuZXh0Q2h1bmsuc3RhcnQgPD0gcHJldkNodW5rLmVuZCkge1xuXHRcdCAgICAgICAgLy8gSXQgbWF5IGJlIHRoZSBjYXNlIHRoYXQgcHJldkNodW5rIGNvbXBsZXRlbHkgc3Vycm91bmRzIG5leHRDaHVuaywgc28gdGFrZSB0aGVcblx0XHQgICAgICAgIC8vIGxhcmdlc3Qgb2YgdGhlIGVuZCBpbmRlY2VzLlxuXHRcdCAgICAgICAgdmFyIGVuZEluZGV4ID0gTWF0aC5tYXgocHJldkNodW5rLmVuZCwgbmV4dENodW5rLmVuZCk7XG5cdFx0ICAgICAgICBwcm9jZXNzZWRDaHVua3MucHVzaCh7IHN0YXJ0OiBwcmV2Q2h1bmsuc3RhcnQsIGVuZDogZW5kSW5kZXggfSk7XG5cdFx0ICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgIHByb2Nlc3NlZENodW5rcy5wdXNoKHByZXZDaHVuaywgbmV4dENodW5rKTtcblx0XHQgICAgICB9XG5cdFx0ICAgICAgcmV0dXJuIHByb2Nlc3NlZENodW5rcztcblx0XHQgICAgfVxuXHRcdCAgfSwgW10pO1xuXHRcdFxuXHRcdCAgcmV0dXJuIGNodW5rcztcblx0XHR9O1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEV4YW1pbmUgdGV4dCBmb3IgYW55IG1hdGNoZXMuXG5cdFx0ICogSWYgd2UgZmluZCBtYXRjaGVzLCBhZGQgdGhlbSB0byB0aGUgcmV0dXJuZWQgYXJyYXkgYXMgYSBcImNodW5rXCIgb2JqZWN0ICh7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyfSkuXG5cdFx0ICogQHJldHVybiB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyfVtdXG5cdFx0ICovXG5cdFx0dmFyIGRlZmF1bHRGaW5kQ2h1bmtzID0gZnVuY3Rpb24gZGVmYXVsdEZpbmRDaHVua3MoX3JlZjMpIHtcblx0XHQgIHZhciBhdXRvRXNjYXBlID0gX3JlZjMuYXV0b0VzY2FwZSxcblx0XHQgICAgICBjYXNlU2Vuc2l0aXZlID0gX3JlZjMuY2FzZVNlbnNpdGl2ZSxcblx0XHQgICAgICBfcmVmMyRzYW5pdGl6ZSA9IF9yZWYzLnNhbml0aXplLFxuXHRcdCAgICAgIHNhbml0aXplID0gX3JlZjMkc2FuaXRpemUgPT09IHVuZGVmaW5lZCA/IGlkZW50aXR5IDogX3JlZjMkc2FuaXRpemUsXG5cdFx0ICAgICAgc2VhcmNoV29yZHMgPSBfcmVmMy5zZWFyY2hXb3Jkcyxcblx0XHQgICAgICB0ZXh0VG9IaWdobGlnaHQgPSBfcmVmMy50ZXh0VG9IaWdobGlnaHQ7XG5cdFx0XG5cdFx0ICB0ZXh0VG9IaWdobGlnaHQgPSBzYW5pdGl6ZSh0ZXh0VG9IaWdobGlnaHQpO1xuXHRcdFxuXHRcdCAgcmV0dXJuIHNlYXJjaFdvcmRzLmZpbHRlcihmdW5jdGlvbiAoc2VhcmNoV29yZCkge1xuXHRcdCAgICByZXR1cm4gc2VhcmNoV29yZDtcblx0XHQgIH0pIC8vIFJlbW92ZSBlbXB0eSB3b3Jkc1xuXHRcdCAgLnJlZHVjZShmdW5jdGlvbiAoY2h1bmtzLCBzZWFyY2hXb3JkKSB7XG5cdFx0ICAgIHNlYXJjaFdvcmQgPSBzYW5pdGl6ZShzZWFyY2hXb3JkKTtcblx0XHRcblx0XHQgICAgaWYgKGF1dG9Fc2NhcGUpIHtcblx0XHQgICAgICBzZWFyY2hXb3JkID0gZXNjYXBlUmVnRXhwRm4oc2VhcmNoV29yZCk7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChzZWFyY2hXb3JkLCBjYXNlU2Vuc2l0aXZlID8gJ2cnIDogJ2dpJyk7XG5cdFx0XG5cdFx0ICAgIHZhciBtYXRjaCA9IHZvaWQgMDtcblx0XHQgICAgd2hpbGUgKG1hdGNoID0gcmVnZXguZXhlYyh0ZXh0VG9IaWdobGlnaHQpKSB7XG5cdFx0ICAgICAgdmFyIHN0YXJ0ID0gbWF0Y2guaW5kZXg7XG5cdFx0ICAgICAgdmFyIGVuZCA9IHJlZ2V4Lmxhc3RJbmRleDtcblx0XHQgICAgICAvLyBXZSBkbyBub3QgcmV0dXJuIHplcm8tbGVuZ3RoIG1hdGNoZXNcblx0XHQgICAgICBpZiAoZW5kID4gc3RhcnQpIHtcblx0XHQgICAgICAgIGNodW5rcy5wdXNoKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KTtcblx0XHQgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgLy8gUHJldmVudCBicm93c2VycyBsaWtlIEZpcmVmb3ggZnJvbSBnZXR0aW5nIHN0dWNrIGluIGFuIGluZmluaXRlIGxvb3Bcblx0XHQgICAgICAvLyBTZWUgaHR0cDovL3d3dy5yZWdleGd1cnUuY29tLzIwMDgvMDQvd2F0Y2gtb3V0LWZvci16ZXJvLWxlbmd0aC1tYXRjaGVzL1xuXHRcdCAgICAgIGlmIChtYXRjaC5pbmRleCA9PSByZWdleC5sYXN0SW5kZXgpIHtcblx0XHQgICAgICAgIHJlZ2V4Lmxhc3RJbmRleCsrO1xuXHRcdCAgICAgIH1cblx0XHQgICAgfVxuXHRcdFxuXHRcdCAgICByZXR1cm4gY2h1bmtzO1xuXHRcdCAgfSwgW10pO1xuXHRcdH07XG5cdFx0Ly8gQWxsb3cgdGhlIGZpbmRDaHVua3MgdG8gYmUgb3ZlcnJpZGRlbiBpbiBmaW5kQWxsLFxuXHRcdC8vIGJ1dCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2UgZXhwb3J0IGFzIHRoZSBvbGQgbmFtZVxuXHRcdGV4cG9ydHMuZmluZENodW5rcyA9IGRlZmF1bHRGaW5kQ2h1bmtzO1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEdpdmVuIGEgc2V0IG9mIGNodW5rcyB0byBoaWdobGlnaHQsIGNyZWF0ZSBhbiBhZGRpdGlvbmFsIHNldCBvZiBjaHVua3Ncblx0XHQgKiB0byByZXByZXNlbnQgdGhlIGJpdHMgb2YgdGV4dCBiZXR3ZWVuIHRoZSBoaWdobGlnaHRlZCB0ZXh0LlxuXHRcdCAqIEBwYXJhbSBjaHVua3NUb0hpZ2hsaWdodCB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyfVtdXG5cdFx0ICogQHBhcmFtIHRvdGFsTGVuZ3RoIG51bWJlclxuXHRcdCAqIEByZXR1cm4ge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlciwgaGlnaGxpZ2h0OmJvb2xlYW59W11cblx0XHQgKi9cblx0XHRcblx0XHR2YXIgZmlsbEluQ2h1bmtzID0gZXhwb3J0cy5maWxsSW5DaHVua3MgPSBmdW5jdGlvbiBmaWxsSW5DaHVua3MoX3JlZjQpIHtcblx0XHQgIHZhciBjaHVua3NUb0hpZ2hsaWdodCA9IF9yZWY0LmNodW5rc1RvSGlnaGxpZ2h0LFxuXHRcdCAgICAgIHRvdGFsTGVuZ3RoID0gX3JlZjQudG90YWxMZW5ndGg7XG5cdFx0XG5cdFx0ICB2YXIgYWxsQ2h1bmtzID0gW107XG5cdFx0ICB2YXIgYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKHN0YXJ0LCBlbmQsIGhpZ2hsaWdodCkge1xuXHRcdCAgICBpZiAoZW5kIC0gc3RhcnQgPiAwKSB7XG5cdFx0ICAgICAgYWxsQ2h1bmtzLnB1c2goe1xuXHRcdCAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuXHRcdCAgICAgICAgZW5kOiBlbmQsXG5cdFx0ICAgICAgICBoaWdobGlnaHQ6IGhpZ2hsaWdodFxuXHRcdCAgICAgIH0pO1xuXHRcdCAgICB9XG5cdFx0ICB9O1xuXHRcdFxuXHRcdCAgaWYgKGNodW5rc1RvSGlnaGxpZ2h0Lmxlbmd0aCA9PT0gMCkge1xuXHRcdCAgICBhcHBlbmQoMCwgdG90YWxMZW5ndGgsIGZhbHNlKTtcblx0XHQgIH0gZWxzZSB7XG5cdFx0ICAgIHZhciBsYXN0SW5kZXggPSAwO1xuXHRcdCAgICBjaHVua3NUb0hpZ2hsaWdodC5mb3JFYWNoKGZ1bmN0aW9uIChjaHVuaykge1xuXHRcdCAgICAgIGFwcGVuZChsYXN0SW5kZXgsIGNodW5rLnN0YXJ0LCBmYWxzZSk7XG5cdFx0ICAgICAgYXBwZW5kKGNodW5rLnN0YXJ0LCBjaHVuay5lbmQsIHRydWUpO1xuXHRcdCAgICAgIGxhc3RJbmRleCA9IGNodW5rLmVuZDtcblx0XHQgICAgfSk7XG5cdFx0ICAgIGFwcGVuZChsYXN0SW5kZXgsIHRvdGFsTGVuZ3RoLCBmYWxzZSk7XG5cdFx0ICB9XG5cdFx0ICByZXR1cm4gYWxsQ2h1bmtzO1xuXHRcdH07XG5cdFx0XG5cdFx0ZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcblx0XHQgIHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdFx0XG5cdFx0ZnVuY3Rpb24gZXNjYXBlUmVnRXhwRm4oc3RyKSB7XG5cdFx0ICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCAnXFxcXCQmJyk7XG5cdFx0fVxuXHRcblx0LyoqKi8gfSlcblx0LyoqKioqKi8gXSk7XG5cdC8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuXHQgICAgU3ltYm9sLmZvciAmJlxuXHQgICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuXHQgICAgMHhlYWM3O1xuXHRcblx0ICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcblx0ICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuXHQgICAgICBvYmplY3QgIT09IG51bGwgJiZcblx0ICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG5cdCAgfTtcblx0XG5cdCAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG5cdCAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuXHQgIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcblx0ICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xuXHR9IGVsc2Uge1xuXHQgIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG5cdCAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuXHQgIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoKTtcblx0fVxuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHRmdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICB9XG5cdH0gKCkpXG5cdGZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG5cdCAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG5cdCAgICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3Jcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHR9XG5cdGZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcblx0ICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cblx0ICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0XG5cdH1cblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0cHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5cdHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlbXB0eUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIGludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciB3YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0dmFyIGFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdHZhciBjaGVja1Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuXHQgIC8qIGdsb2JhbCBTeW1ib2wgKi9cblx0ICB2YXIgSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG5cdCAgdmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InOyAvLyBCZWZvcmUgU3ltYm9sIHNwZWMuXG5cdFxuXHQgIC8qKlxuXHQgICAqIFJldHVybnMgdGhlIGl0ZXJhdG9yIG1ldGhvZCBmdW5jdGlvbiBjb250YWluZWQgb24gdGhlIGl0ZXJhYmxlIG9iamVjdC5cblx0ICAgKlxuXHQgICAqIEJlIHN1cmUgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBpdGVyYWJsZSBhcyBjb250ZXh0OlxuXHQgICAqXG5cdCAgICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcblx0ICAgKiAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcblx0ICAgKiAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwobXlJdGVyYWJsZSk7XG5cdCAgICogICAgICAgLi4uXG5cdCAgICogICAgIH1cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuXHQgICAqIEByZXR1cm4gez9mdW5jdGlvbn1cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcblx0ICAgIHZhciBpdGVyYXRvckZuID0gbWF5YmVJdGVyYWJsZSAmJiAoSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSk7XG5cdCAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgdGhhdCBhbGxvdyBkZWNsYXJhdGlvbiBhbmQgdmFsaWRhdGlvbiBvZiBwcm9wcyB0aGF0IGFyZVxuXHQgICAqIHN1cHBsaWVkIHRvIFJlYWN0IGNvbXBvbmVudHMuIEV4YW1wbGUgdXNhZ2U6XG5cdCAgICpcblx0ICAgKiAgIHZhciBQcm9wcyA9IHJlcXVpcmUoJ1JlYWN0UHJvcFR5cGVzJyk7XG5cdCAgICogICB2YXIgTXlBcnRpY2xlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHQgICAqICAgICBwcm9wVHlwZXM6IHtcblx0ICAgKiAgICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgcHJvcCBuYW1lZCBcImRlc2NyaXB0aW9uXCIuXG5cdCAgICogICAgICAgZGVzY3JpcHRpb246IFByb3BzLnN0cmluZyxcblx0ICAgKlxuXHQgICAqICAgICAgIC8vIEEgcmVxdWlyZWQgZW51bSBwcm9wIG5hbWVkIFwiY2F0ZWdvcnlcIi5cblx0ICAgKiAgICAgICBjYXRlZ29yeTogUHJvcHMub25lT2YoWydOZXdzJywnUGhvdG9zJ10pLmlzUmVxdWlyZWQsXG5cdCAgICpcblx0ICAgKiAgICAgICAvLyBBIHByb3AgbmFtZWQgXCJkaWFsb2dcIiB0aGF0IHJlcXVpcmVzIGFuIGluc3RhbmNlIG9mIERpYWxvZy5cblx0ICAgKiAgICAgICBkaWFsb2c6IFByb3BzLmluc3RhbmNlT2YoRGlhbG9nKS5pc1JlcXVpcmVkXG5cdCAgICogICAgIH0sXG5cdCAgICogICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7IC4uLiB9XG5cdCAgICogICB9KTtcblx0ICAgKlxuXHQgICAqIEEgbW9yZSBmb3JtYWwgc3BlY2lmaWNhdGlvbiBvZiBob3cgdGhlc2UgbWV0aG9kcyBhcmUgdXNlZDpcblx0ICAgKlxuXHQgICAqICAgdHlwZSA6PSBhcnJheXxib29sfGZ1bmN8b2JqZWN0fG51bWJlcnxzdHJpbmd8b25lT2YoWy4uLl0pfGluc3RhbmNlT2YoLi4uKVxuXHQgICAqICAgZGVjbCA6PSBSZWFjdFByb3BUeXBlcy57dHlwZX0oLmlzUmVxdWlyZWQpP1xuXHQgICAqXG5cdCAgICogRWFjaCBhbmQgZXZlcnkgZGVjbGFyYXRpb24gcHJvZHVjZXMgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZS4gVGhpc1xuXHQgICAqIGFsbG93cyB0aGUgY3JlYXRpb24gb2YgY3VzdG9tIHZhbGlkYXRpb24gZnVuY3Rpb25zLiBGb3IgZXhhbXBsZTpcblx0ICAgKlxuXHQgICAqICB2YXIgTXlMaW5rID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHQgICAqICAgIHByb3BUeXBlczoge1xuXHQgICAqICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIG9yIFVSSSBwcm9wIG5hbWVkIFwiaHJlZlwiLlxuXHQgICAqICAgICAgaHJlZjogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG5cdCAgICogICAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICogICAgICAgIGlmIChwcm9wVmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgcHJvcFZhbHVlICE9PSAnc3RyaW5nJyAmJlxuXHQgICAqICAgICAgICAgICAgIShwcm9wVmFsdWUgaW5zdGFuY2VvZiBVUkkpKSB7XG5cdCAgICogICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcblx0ICAgKiAgICAgICAgICAgICdFeHBlY3RlZCBhIHN0cmluZyBvciBhbiBVUkkgZm9yICcgKyBwcm9wTmFtZSArICcgaW4gJyArXG5cdCAgICogICAgICAgICAgICBjb21wb25lbnROYW1lXG5cdCAgICogICAgICAgICAgKTtcblx0ICAgKiAgICAgICAgfVxuXHQgICAqICAgICAgfVxuXHQgICAqICAgIH0sXG5cdCAgICogICAgcmVuZGVyOiBmdW5jdGlvbigpIHsuLi59XG5cdCAgICogIH0pO1xuXHQgICAqXG5cdCAgICogQGludGVybmFsXG5cdCAgICovXG5cdFxuXHQgIHZhciBBTk9OWU1PVVMgPSAnPDxhbm9ueW1vdXM+Pic7XG5cdFxuXHQgIC8vIEltcG9ydGFudCFcblx0ICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qc2AuXG5cdCAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuXHQgICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuXHQgICAgYm9vbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Jvb2xlYW4nKSxcblx0ICAgIGZ1bmM6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdmdW5jdGlvbicpLFxuXHQgICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG5cdCAgICBvYmplY3Q6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdvYmplY3QnKSxcblx0ICAgIHN0cmluZzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N0cmluZycpLFxuXHQgICAgc3ltYm9sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3ltYm9sJyksXG5cdFxuXHQgICAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuXHQgICAgYXJyYXlPZjogY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyLFxuXHQgICAgZWxlbWVudDogY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCksXG5cdCAgICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyLFxuXHQgICAgbm9kZTogY3JlYXRlTm9kZUNoZWNrZXIoKSxcblx0ICAgIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyLFxuXHQgICAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcblx0ICAgIG9uZU9mVHlwZTogY3JlYXRlVW5pb25UeXBlQ2hlY2tlcixcblx0ICAgIHNoYXBlOiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyLFxuXHQgICAgZXhhY3Q6IGNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIsXG5cdCAgfTtcblx0XG5cdCAgLyoqXG5cdCAgICogaW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwgdG8gYXZvaWQgcmVxdWlyaW5nIGNvbnN1bWVycyBzaGlwIHRoZWlyIG93blxuXHQgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuXHQgICAqL1xuXHQgIC8qZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlKi9cblx0ICBmdW5jdGlvbiBpcyh4LCB5KSB7XG5cdCAgICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG5cdCAgICBpZiAoeCA9PT0geSkge1xuXHQgICAgICAvLyBTdGVwcyAxLTUsIDctMTBcblx0ICAgICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcblx0ICAgICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cblx0ICAgICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcblx0ICAgIH1cblx0ICB9XG5cdCAgLyplc2xpbnQtZW5hYmxlIG5vLXNlbGYtY29tcGFyZSovXG5cdFxuXHQgIC8qKlxuXHQgICAqIFdlIHVzZSBhbiBFcnJvci1saWtlIG9iamVjdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBhcyBwZW9wbGUgbWF5IGNhbGxcblx0ICAgKiBQcm9wVHlwZXMgZGlyZWN0bHkgYW5kIGluc3BlY3QgdGhlaXIgb3V0cHV0LiBIb3dldmVyLCB3ZSBkb24ndCB1c2UgcmVhbFxuXHQgICAqIEVycm9ycyBhbnltb3JlLiBXZSBkb24ndCBpbnNwZWN0IHRoZWlyIHN0YWNrIGFueXdheSwgYW5kIGNyZWF0aW5nIHRoZW1cblx0ICAgKiBpcyBwcm9oaWJpdGl2ZWx5IGV4cGVuc2l2ZSBpZiB0aGV5IGFyZSBjcmVhdGVkIHRvbyBvZnRlbiwgc3VjaCBhcyB3aGF0XG5cdCAgICogaGFwcGVucyBpbiBvbmVPZlR5cGUoKSBmb3IgYW55IHR5cGUgYmVmb3JlIHRoZSBvbmUgdGhhdCBtYXRjaGVkLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIFByb3BUeXBlRXJyb3IobWVzc2FnZSkge1xuXHQgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcblx0ICAgIHRoaXMuc3RhY2sgPSAnJztcblx0ICB9XG5cdCAgLy8gTWFrZSBgaW5zdGFuY2VvZiBFcnJvcmAgc3RpbGwgd29yayBmb3IgcmV0dXJuZWQgZXJyb3JzLlxuXHQgIFByb3BUeXBlRXJyb3IucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgdmFyIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlID0ge307XG5cdCAgICAgIHZhciBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA9IDA7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjaGVja1R5cGUoaXNSZXF1aXJlZCwgcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcblx0ICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuXHQgICAgICBwcm9wRnVsbE5hbWUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG5cdFxuXHQgICAgICBpZiAoc2VjcmV0ICE9PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuXHQgICAgICAgIGlmICh0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG5cdCAgICAgICAgICAvLyBOZXcgYmVoYXZpb3Igb25seSBmb3IgdXNlcnMgb2YgYHByb3AtdHlwZXNgIHBhY2thZ2Vcblx0ICAgICAgICAgIGludmFyaWFudChcblx0ICAgICAgICAgICAgZmFsc2UsXG5cdCAgICAgICAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcblx0ICAgICAgICAgICAgJ1VzZSBgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKClgIHRvIGNhbGwgdGhlbS4gJyArXG5cdCAgICAgICAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuXHQgICAgICAgICAgKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgICAvLyBPbGQgYmVoYXZpb3IgZm9yIHBlb3BsZSB1c2luZyBSZWFjdC5Qcm9wVHlwZXNcblx0ICAgICAgICAgIHZhciBjYWNoZUtleSA9IGNvbXBvbmVudE5hbWUgKyAnOicgKyBwcm9wTmFtZTtcblx0ICAgICAgICAgIGlmIChcblx0ICAgICAgICAgICAgIW1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSAmJlxuXHQgICAgICAgICAgICAvLyBBdm9pZCBzcGFtbWluZyB0aGUgY29uc29sZSBiZWNhdXNlIHRoZXkgYXJlIG9mdGVuIG5vdCBhY3Rpb25hYmxlIGV4Y2VwdCBmb3IgbGliIGF1dGhvcnNcblx0ICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPCAzXG5cdCAgICAgICAgICApIHtcblx0ICAgICAgICAgICAgd2FybmluZyhcblx0ICAgICAgICAgICAgICBmYWxzZSxcblx0ICAgICAgICAgICAgICAnWW91IGFyZSBtYW51YWxseSBjYWxsaW5nIGEgUmVhY3QuUHJvcFR5cGVzIHZhbGlkYXRpb24gJyArXG5cdCAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGZvciB0aGUgYCVzYCBwcm9wIG9uIGAlc2AuIFRoaXMgaXMgZGVwcmVjYXRlZCAnICtcblx0ICAgICAgICAgICAgICAnYW5kIHdpbGwgdGhyb3cgaW4gdGhlIHN0YW5kYWxvbmUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuXHQgICAgICAgICAgICAgICdZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIGEgdGhpcmQtcGFydHkgUHJvcFR5cGVzICcgK1xuXHQgICAgICAgICAgICAgICdsaWJyYXJ5LiBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWRvbnQtY2FsbC1wcm9wdHlwZXMgJyArICdmb3IgZGV0YWlscy4nLFxuXHQgICAgICAgICAgICAgIHByb3BGdWxsTmFtZSxcblx0ICAgICAgICAgICAgICBjb21wb25lbnROYW1lXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSA9IHRydWU7XG5cdCAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50Kys7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT0gbnVsbCkge1xuXHQgICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG5cdCAgICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignVGhlICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBpcyBtYXJrZWQgYXMgcmVxdWlyZWQgJyArICgnaW4gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGJ1dCBpdHMgdmFsdWUgaXMgYG51bGxgLicpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignVGhlICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBpcyBtYXJrZWQgYXMgcmVxdWlyZWQgaW4gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGJ1dCBpdHMgdmFsdWUgaXMgYHVuZGVmaW5lZGAuJykpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuXHQgICAgY2hhaW5lZENoZWNrVHlwZS5pc1JlcXVpcmVkID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgdHJ1ZSk7XG5cdFxuXHQgICAgcmV0dXJuIGNoYWluZWRDaGVja1R5cGU7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcihleHBlY3RlZFR5cGUpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICAgIGlmIChwcm9wVHlwZSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG5cdCAgICAgICAgLy8gYHByb3BWYWx1ZWAgYmVpbmcgaW5zdGFuY2Ugb2YsIHNheSwgZGF0ZS9yZWdleHAsIHBhc3MgdGhlICdvYmplY3QnXG5cdCAgICAgICAgLy8gY2hlY2ssIGJ1dCB3ZSBjYW4gb2ZmZXIgYSBtb3JlIHByZWNpc2UgZXJyb3IgbWVzc2FnZSBoZXJlIHJhdGhlciB0aGFuXG5cdCAgICAgICAgLy8gJ29mIHR5cGUgYG9iamVjdGAnLlxuXHQgICAgICAgIHZhciBwcmVjaXNlVHlwZSA9IGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByZWNpc2VUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdgJyArIGV4cGVjdGVkVHlwZSArICdgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpIHtcblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgYXJyYXlPZi4nKTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuXHQgICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gYXJyYXkuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBpLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJ1snICsgaSArICddJywgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcihleHBlY3RlZENsYXNzKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKCEocHJvcHNbcHJvcE5hbWVdIGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcblx0ICAgICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xuXHQgICAgICAgIHZhciBhY3R1YWxDbGFzc05hbWUgPSBnZXRDbGFzc05hbWUocHJvcHNbcHJvcE5hbWVdKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlRW51bVR5cGVDaGVja2VyKGV4cGVjdGVkVmFsdWVzKSB7XG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRWYWx1ZXMpKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB2b2lkIDA7XG5cdCAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChpcyhwcm9wVmFsdWUsIGV4cGVjdGVkVmFsdWVzW2ldKSkge1xuXHQgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgdmFsdWVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRWYWx1ZXMpO1xuXHQgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgcHJvcFZhbHVlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBvYmplY3RPZi4nKTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gb2JqZWN0LicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcFZhbHVlKSB7XG5cdCAgICAgICAgaWYgKHByb3BWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdCAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcblx0ICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheU9mVHlwZUNoZWNrZXJzKSkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2ZUeXBlLCBleHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBhcnJheS4nKSA6IHZvaWQgMDtcblx0ICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG5cdCAgICAgIGlmICh0eXBlb2YgY2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHdhcm5pbmcoXG5cdCAgICAgICAgICBmYWxzZSxcblx0ICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZS4gRXhwZWN0ZWQgYW4gYXJyYXkgb2YgY2hlY2sgZnVuY3Rpb25zLCBidXQgJyArXG5cdCAgICAgICAgICAncmVjZWl2ZWQgJXMgYXQgaW5kZXggJXMuJyxcblx0ICAgICAgICAgIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyhjaGVja2VyKSxcblx0ICAgICAgICAgIGlcblx0ICAgICAgICApO1xuXHQgICAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG5cdCAgICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBSZWFjdFByb3BUeXBlc1NlY3JldCkgPT0gbnVsbCkge1xuXHQgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVOb2RlQ2hlY2tlcigpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBpZiAoIWlzTm9kZShwcm9wc1twcm9wTmFtZV0pKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBSZWFjdE5vZGUuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcblx0ICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcblx0ICAgICAgICBpZiAoIWNoZWNrZXIpIHtcblx0ICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgaWYgKGVycm9yKSB7XG5cdCAgICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBhbGwga2V5cyBpbiBjYXNlIHNvbWUgYXJlIHJlcXVpcmVkIGJ1dCBtaXNzaW5nIGZyb21cblx0ICAgICAgLy8gcHJvcHMuXG5cdCAgICAgIHZhciBhbGxLZXlzID0gYXNzaWduKHt9LCBwcm9wc1twcm9wTmFtZV0sIHNoYXBlVHlwZXMpO1xuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gYWxsS2V5cykge1xuXHQgICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuXHQgICAgICAgIGlmICghY2hlY2tlcikge1xuXHQgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKFxuXHQgICAgICAgICAgICAnSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Aga2V5IGAnICsga2V5ICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJyArXG5cdCAgICAgICAgICAgICdcXG5CYWQgb2JqZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkocHJvcHNbcHJvcE5hbWVdLCBudWxsLCAnICAnKSArXG5cdCAgICAgICAgICAgICdcXG5WYWxpZCBrZXlzOiAnICsgIEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHNoYXBlVHlwZXMpLCBudWxsLCAnICAnKVxuXHQgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuXHQgICAgc3dpdGNoICh0eXBlb2YgcHJvcFZhbHVlKSB7XG5cdCAgICAgIGNhc2UgJ251bWJlcic6XG5cdCAgICAgIGNhc2UgJ3N0cmluZyc6XG5cdCAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuXHQgICAgICAgIHJldHVybiAhcHJvcFZhbHVlO1xuXHQgICAgICBjYXNlICdvYmplY3QnOlxuXHQgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICAgIHJldHVybiBwcm9wVmFsdWUuZXZlcnkoaXNOb2RlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihwcm9wVmFsdWUpO1xuXHQgICAgICAgIGlmIChpdGVyYXRvckZuKSB7XG5cdCAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwocHJvcFZhbHVlKTtcblx0ICAgICAgICAgIHZhciBzdGVwO1xuXHQgICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IHByb3BWYWx1ZS5lbnRyaWVzKSB7XG5cdCAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0ICAgICAgICAgICAgICBpZiAoIWlzTm9kZShzdGVwLnZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gSXRlcmF0b3Igd2lsbCBwcm92aWRlIGVudHJ5IFtrLHZdIHR1cGxlcyByYXRoZXIgdGhhbiB2YWx1ZXMuXG5cdCAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0ICAgICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuXHQgICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFpc05vZGUoZW50cnlbMV0pKSB7XG5cdCAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkge1xuXHQgICAgLy8gTmF0aXZlIFN5bWJvbC5cblx0ICAgIGlmIChwcm9wVHlwZSA9PT0gJ3N5bWJvbCcpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXSA9PT0gJ1N5bWJvbCdcblx0ICAgIGlmIChwcm9wVmFsdWVbJ0BAdG9TdHJpbmdUYWcnXSA9PT0gJ1N5bWJvbCcpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gRmFsbGJhY2sgZm9yIG5vbi1zcGVjIGNvbXBsaWFudCBTeW1ib2xzIHdoaWNoIGFyZSBwb2x5ZmlsbGVkLlxuXHQgICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgcHJvcFZhbHVlIGluc3RhbmNlb2YgU3ltYm9sKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdFxuXHQgIC8vIEVxdWl2YWxlbnQgb2YgYHR5cGVvZmAgYnV0IHdpdGggc3BlY2lhbCBoYW5kbGluZyBmb3IgYXJyYXkgYW5kIHJlZ2V4cC5cblx0ICBmdW5jdGlvbiBnZXRQcm9wVHlwZShwcm9wVmFsdWUpIHtcblx0ICAgIHZhciBwcm9wVHlwZSA9IHR5cGVvZiBwcm9wVmFsdWU7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG5cdCAgICAgIHJldHVybiAnYXJyYXknO1xuXHQgICAgfVxuXHQgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuXHQgICAgICAvLyBPbGQgd2Via2l0cyAoYXQgbGVhc3QgdW50aWwgQW5kcm9pZCA0LjApIHJldHVybiAnZnVuY3Rpb24nIHJhdGhlciB0aGFuXG5cdCAgICAgIC8vICdvYmplY3QnIGZvciB0eXBlb2YgYSBSZWdFeHAuIFdlJ2xsIG5vcm1hbGl6ZSB0aGlzIGhlcmUgc28gdGhhdCAvYmxhL1xuXHQgICAgICAvLyBwYXNzZXMgUHJvcFR5cGVzLm9iamVjdC5cblx0ICAgICAgcmV0dXJuICdvYmplY3QnO1xuXHQgICAgfVxuXHQgICAgaWYgKGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpKSB7XG5cdCAgICAgIHJldHVybiAnc3ltYm9sJztcblx0ICAgIH1cblx0ICAgIHJldHVybiBwcm9wVHlwZTtcblx0ICB9XG5cdFxuXHQgIC8vIFRoaXMgaGFuZGxlcyBtb3JlIHR5cGVzIHRoYW4gYGdldFByb3BUeXBlYC4gT25seSB1c2VkIGZvciBlcnJvciBtZXNzYWdlcy5cblx0ICAvLyBTZWUgYGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyYC5cblx0ICBmdW5jdGlvbiBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpIHtcblx0ICAgIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBwcm9wVmFsdWUgPT09IG51bGwpIHtcblx0ICAgICAgcmV0dXJuICcnICsgcHJvcFZhbHVlO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgIGlmIChwcm9wVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcblx0ICAgICAgICByZXR1cm4gJ2RhdGUnO1xuXHQgICAgICB9IGVsc2UgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuXHQgICAgICAgIHJldHVybiAncmVnZXhwJztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHByb3BUeXBlO1xuXHQgIH1cblx0XG5cdCAgLy8gUmV0dXJucyBhIHN0cmluZyB0aGF0IGlzIHBvc3RmaXhlZCB0byBhIHdhcm5pbmcgYWJvdXQgYW4gaW52YWxpZCB0eXBlLlxuXHQgIC8vIEZvciBleGFtcGxlLCBcInVuZGVmaW5lZFwiIG9yIFwib2YgdHlwZSBhcnJheVwiXG5cdCAgZnVuY3Rpb24gZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKHZhbHVlKSB7XG5cdCAgICB2YXIgdHlwZSA9IGdldFByZWNpc2VUeXBlKHZhbHVlKTtcblx0ICAgIHN3aXRjaCAodHlwZSkge1xuXHQgICAgICBjYXNlICdhcnJheSc6XG5cdCAgICAgIGNhc2UgJ29iamVjdCc6XG5cdCAgICAgICAgcmV0dXJuICdhbiAnICsgdHlwZTtcblx0ICAgICAgY2FzZSAnYm9vbGVhbic6XG5cdCAgICAgIGNhc2UgJ2RhdGUnOlxuXHQgICAgICBjYXNlICdyZWdleHAnOlxuXHQgICAgICAgIHJldHVybiAnYSAnICsgdHlwZTtcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXR1cm4gdHlwZTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8vIFJldHVybnMgY2xhc3MgbmFtZSBvZiB0aGUgb2JqZWN0LCBpZiBhbnkuXG5cdCAgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKHByb3BWYWx1ZSkge1xuXHQgICAgaWYgKCFwcm9wVmFsdWUuY29uc3RydWN0b3IgfHwgIXByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG5cdCAgICAgIHJldHVybiBBTk9OWU1PVVM7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG5cdCAgfVxuXHRcblx0ICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGNoZWNrUHJvcFR5cGVzO1xuXHQgIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXHRcblx0ICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG5cdH07XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKlxuXHQgKiBcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBtYWtlRW1wdHlGdW5jdGlvbihhcmcpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGFyZztcblx0ICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogVGhpcyBmdW5jdGlvbiBhY2NlcHRzIGFuZCBkaXNjYXJkcyBpbnB1dHM7IGl0IGhhcyBubyBzaWRlIGVmZmVjdHMuIFRoaXMgaXNcblx0ICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcblx0ICogYWx3YXlzIG5lZWQgdG8gYmUgY2FsbGFibGUsIHNpbmNlIEpTIGxhY2tzIGEgbnVsbC1jYWxsIGlkaW9tIGFsYSBDb2NvYS5cblx0ICovXG5cdHZhciBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9O1xuXHRcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJucyA9IG1ha2VFbXB0eUZ1bmN0aW9uO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlID0gbWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsID0gbWFrZUVtcHR5RnVuY3Rpb24obnVsbCk7XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG5cdCAgcmV0dXJuIGFyZztcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZW1wdHlGdW5jdGlvbjtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cblx0ICpcblx0ICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcblx0ICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG5cdCAqIGV4cGVjdGluZy5cblx0ICpcblx0ICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcblx0ICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuXHQgKi9cblx0XG5cdHZhciB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge307XG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuXHQgIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCk7XG5cdFxuXHQgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICB2YXIgZXJyb3I7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuXHQgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuXHQgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuXHQgICAgICB9KSk7XG5cdCAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG5cdCAgICB9XG5cdFxuXHQgICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuXHQgICAgdGhyb3cgZXJyb3I7XG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICpcblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHQvKipcblx0ICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuXHQgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG5cdCAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG5cdCAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuXHQgKi9cblx0XG5cdHZhciB3YXJuaW5nID0gZW1wdHlGdW5jdGlvbjtcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIHByaW50V2FybmluZyhmb3JtYXQpIHtcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgYXJnSW5kZXggPSAwO1xuXHQgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuXHQgICAgfSk7XG5cdCAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG5cdCAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuXHQgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuXHQgICAgfSBjYXRjaCAoeCkge31cblx0ICB9O1xuXHRcblx0ICB3YXJuaW5nID0gZnVuY3Rpb24gd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCkge1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArICdtZXNzYWdlIGFyZ3VtZW50Jyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGZvcm1hdC5pbmRleE9mKCdGYWlsZWQgQ29tcG9zaXRlIHByb3BUeXBlOiAnKSA9PT0gMCkge1xuXHQgICAgICByZXR1cm47IC8vIElnbm9yZSBDb21wb3NpdGVDb21wb25lbnQgcHJvcHR5cGUgY2hlY2suXG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFjb25kaXRpb24pIHtcblx0ICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuXHQgICAgICAgIGFyZ3NbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHByaW50V2FybmluZy5hcHBseSh1bmRlZmluZWQsIFtmb3JtYXRdLmNvbmNhdChhcmdzKSk7XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKlxuXHRvYmplY3QtYXNzaWduXG5cdChjKSBTaW5kcmUgU29yaHVzXG5cdEBsaWNlbnNlIE1JVFxuXHQqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHQvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXHR2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblx0dmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0dmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXHRcblx0ZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdFx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBPYmplY3QodmFsKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblx0XG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHRcdH1cblx0XHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHRcdHZhciBmcm9tO1xuXHRcdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdFx0dmFyIHN5bWJvbHM7XG5cdFxuXHRcdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cdFxuXHRcdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiB0bztcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuXG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHZhciBpbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHQgIHZhciB3YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0ICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0ICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBc3NlcnQgdGhhdCB0aGUgdmFsdWVzIG1hdGNoIHdpdGggdGhlIHR5cGUgc3BlY3MuXG5cdCAqIEVycm9yIG1lc3NhZ2VzIGFyZSBtZW1vcml6ZWQgYW5kIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gdHlwZVNwZWNzIE1hcCBvZiBuYW1lIHRvIGEgUmVhY3RQcm9wVHlwZVxuXHQgKiBAcGFyYW0ge29iamVjdH0gdmFsdWVzIFJ1bnRpbWUgdmFsdWVzIHRoYXQgbmVlZCB0byBiZSB0eXBlLWNoZWNrZWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50TmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuXHQgKiBAcGFyYW0gez9GdW5jdGlvbn0gZ2V0U3RhY2sgUmV0dXJucyB0aGUgY29tcG9uZW50IHN0YWNrLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXModHlwZVNwZWNzLCB2YWx1ZXMsIGxvY2F0aW9uLCBjb21wb25lbnROYW1lLCBnZXRTdGFjaykge1xuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICBmb3IgKHZhciB0eXBlU3BlY05hbWUgaW4gdHlwZVNwZWNzKSB7XG5cdCAgICAgIGlmICh0eXBlU3BlY3MuaGFzT3duUHJvcGVydHkodHlwZVNwZWNOYW1lKSkge1xuXHQgICAgICAgIHZhciBlcnJvcjtcblx0ICAgICAgICAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuXHQgICAgICAgIC8vIGZhaWwgdGhlIHJlbmRlciBwaGFzZSB3aGVyZSBpdCBkaWRuJ3QgZmFpbCBiZWZvcmUuIFNvIHdlIGxvZyBpdC5cblx0ICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuXHQgICAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxuXHQgICAgICAgICAgaW52YXJpYW50KHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSA9PT0gJ2Z1bmN0aW9uJywgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gJyArICd0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJXNgLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKTtcblx0ICAgICAgICAgIGVycm9yID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgfSBjYXRjaCAoZXgpIHtcblx0ICAgICAgICAgIGVycm9yID0gZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHdhcm5pbmcoIWVycm9yIHx8IGVycm9yIGluc3RhbmNlb2YgRXJyb3IsICclczogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICVzIGAlc2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICsgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICVzLiAnICsgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgKyAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICsgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiBlcnJvcik7XG5cdCAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcblx0ICAgICAgICAgIC8vIE9ubHkgbW9uaXRvciB0aGlzIGZhaWx1cmUgb25jZSBiZWNhdXNlIHRoZXJlIHRlbmRzIHRvIGJlIGEgbG90IG9mIHRoZVxuXHQgICAgICAgICAgLy8gc2FtZSBlcnJvci5cblx0ICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG5cdFxuXHQgICAgICAgICAgdmFyIHN0YWNrID0gZ2V0U3RhY2sgPyBnZXRTdGFjaygpIDogJyc7XG5cdFxuXHQgICAgICAgICAgd2FybmluZyhmYWxzZSwgJ0ZhaWxlZCAlcyB0eXBlOiAlcyVzJywgbG9jYXRpb24sIGVycm9yLm1lc3NhZ2UsIHN0YWNrICE9IG51bGwgPyBzdGFjayA6ICcnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gY2hlY2tQcm9wVHlwZXM7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0dmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcblx0ICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG5cdCAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgaW52YXJpYW50KFxuXHQgICAgICBmYWxzZSxcblx0ICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuXHQgICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG5cdCAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuXHQgICAgKTtcblx0ICB9O1xuXHQgIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG5cdCAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcblx0ICAgIHJldHVybiBzaGltO1xuXHQgIH07XG5cdCAgLy8gSW1wb3J0YW50IVxuXHQgIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuXHQgIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcblx0ICAgIGFycmF5OiBzaGltLFxuXHQgICAgYm9vbDogc2hpbSxcblx0ICAgIGZ1bmM6IHNoaW0sXG5cdCAgICBudW1iZXI6IHNoaW0sXG5cdCAgICBvYmplY3Q6IHNoaW0sXG5cdCAgICBzdHJpbmc6IHNoaW0sXG5cdCAgICBzeW1ib2w6IHNoaW0sXG5cdFxuXHQgICAgYW55OiBzaGltLFxuXHQgICAgYXJyYXlPZjogZ2V0U2hpbSxcblx0ICAgIGVsZW1lbnQ6IHNoaW0sXG5cdCAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuXHQgICAgbm9kZTogc2hpbSxcblx0ICAgIG9iamVjdE9mOiBnZXRTaGltLFxuXHQgICAgb25lT2Y6IGdldFNoaW0sXG5cdCAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG5cdCAgICBzaGFwZTogZ2V0U2hpbSxcblx0ICAgIGV4YWN0OiBnZXRTaGltXG5cdCAgfTtcblx0XG5cdCAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuXHQgIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXHRcblx0ICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHNpbXBsZUlzRXF1YWwgPSBmdW5jdGlvbiBzaW1wbGVJc0VxdWFsKGEsIGIpIHtcblx0ICByZXR1cm4gYSA9PT0gYjtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGluZGV4IChyZXN1bHRGbikge1xuXHQgIHZhciBpc0VxdWFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBzaW1wbGVJc0VxdWFsO1xuXHRcblx0ICB2YXIgbGFzdFRoaXMgPSB2b2lkIDA7XG5cdCAgdmFyIGxhc3RBcmdzID0gW107XG5cdCAgdmFyIGxhc3RSZXN1bHQgPSB2b2lkIDA7XG5cdCAgdmFyIGNhbGxlZE9uY2UgPSBmYWxzZTtcblx0XG5cdCAgdmFyIGlzTmV3QXJnRXF1YWxUb0xhc3QgPSBmdW5jdGlvbiBpc05ld0FyZ0VxdWFsVG9MYXN0KG5ld0FyZywgaW5kZXgpIHtcblx0ICAgIHJldHVybiBpc0VxdWFsKG5ld0FyZywgbGFzdEFyZ3NbaW5kZXhdKTtcblx0ICB9O1xuXHRcblx0ICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24gcmVzdWx0KCkge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG5ld0FyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgbmV3QXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY2FsbGVkT25jZSAmJiBsYXN0VGhpcyA9PT0gdGhpcyAmJiBuZXdBcmdzLmxlbmd0aCA9PT0gbGFzdEFyZ3MubGVuZ3RoICYmIG5ld0FyZ3MuZXZlcnkoaXNOZXdBcmdFcXVhbFRvTGFzdCkpIHtcblx0ICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgY2FsbGVkT25jZSA9IHRydWU7XG5cdCAgICBsYXN0VGhpcyA9IHRoaXM7XG5cdCAgICBsYXN0QXJncyA9IG5ld0FyZ3M7XG5cdCAgICBsYXN0UmVzdWx0ID0gcmVzdWx0Rm4uYXBwbHkodGhpcywgbmV3QXJncyk7XG5cdCAgICByZXR1cm4gbGFzdFJlc3VsdDtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGluZGV4O1xuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1haW4uanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtaGlnaGxpZ2h0LXdvcmRzL2Rpc3QvbWFpbi5qc1xuLy8gbW9kdWxlIGlkID0gNjExM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmIChpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnRzLmRlYnVnbG9nID0gZnVuY3Rpb24oc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTtcbiAgLy8gbGVnYWN5Li4uXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTtcbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIGV4cG9ydHMuX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91dGlsL3V0aWwuanNcbi8vIG1vZHVsZSBpZCA9IDYxMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDYxMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA2MTE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjMxN2RmMGI3MTk0NGIyMDBjYjBhMjMyOWU3YWViYzBiLmdpZlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Fzc2V0cy9SaXBwbGUuZ2lmXG4vLyBtb2R1bGUgaWQgPSA2MTE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgVGFicyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UYWJzJztcclxuaW1wb3J0IFRhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UYWInO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IER1ZURldGFpbCBmcm9tICcuL0R1ZURldGFpbCc7XHJcbmltcG9ydCB7IFBhcGVyIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaXJjdWxhclByb2dyZXNzJztcclxuaW1wb3J0IEludm9pY2VUYWJsZSBmcm9tICcuL0ludm9pY2VUYWJsZSc7XHJcbmltcG9ydCB7IGZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcblxyXG5mdW5jdGlvbiBUYWJDb250YWluZXIocHJvcHMsIHRoZW1lKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxUeXBvZ3JhcGh5IGNvbXBvbmVudD1cImRpdlwiIHN0eWxlPXt7IHBhZGRpbmdUb3A6IFwiMS44NXZoXCIsIH19PlxyXG4gICAgICAgICAgICA8UGFwZXIgZWxldmF0aW9uPXsxfSBzdHlsZT17e292ZXJmbG93WTogXCJhdXRvXCIsIGhlaWdodDogXCI3OC41dmhcIiwgYm9yZGVyUmFkaXVzIDogXCI0cHhcIixib3hTaGFkb3c6IFwibm9uZVwiLGJhY2tncm91bmQ6IHByb3BzLnRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbiB9fT5cclxuICAgICAgICAgICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgPC9QYXBlcj5cclxuICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICApO1xyXG59XHJcblxyXG5UYWJDb250YWluZXIucHJvcFR5cGVzID0ge1xyXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gICAgcm9vdDoge1xyXG4gICAgICAvLyAgd2lkdGg6IFwiNjEuNDg5dndcIlxyXG4gICAgfSxcclxuICAgIHByb2dyZXNzOiB7XHJcbiAgICAgICAgbWFyZ2luVG9wOiBcIjdyZW1cIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjIwcmVtXCJcclxuICAgIH0sXHJcbiAgICBjb250YWluZXI6IHtcclxuICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCJcclxuICAgIH0sXHJcbiAgICBzY3JvbGxCdXR0b25zOiB7XHJcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICBmbGV4OiBcIjAgIWltcG9ydGFudFwiXHJcbiAgICB9LFxyXG4gICAgbGFiZWxDb250YWluZXI6IHtcclxuICAgICAgICBjb2xvcjogXCIjQ0NDQ0NDXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMTBweFwiXHJcbiAgICB9LFxyXG4gICAgaW5kaWNhdG9yOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjJweFwiLFxyXG4gICAgICAgIHRvcDogXCI1Ljd2aCAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICB0YWJTZWxlY3RlZDoge1xyXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICB0YWJSb290OiB7XHJcbiAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgICAgIHdpZHRoOiBcImNhbGMoNS42NjZ2aCArIDUuNjY2dncpXCIsXHJcbiAgICAgICBtaW5IZWlnaHQ6IFwiNi4zdmhcIixcclxuICAgICAgIG1heEhlaWdodDogXCI2LjN2aFwiXHJcblxyXG4gICAgfSxcclxuICAgIHRhYldyYXBwZXI6IHtcclxuICAgICAgbWFyZ2luQm90dG9tOiBcIi40dndcIixcclxuICAgICAgIHdpZHRoOiBcImNhbGMoNS42NjZ2aCArIDUuNjY2dncpXCIsXHJcbiAgICB9LFxyXG4gICAgdGFic0ZsZXhDb250YWluZXI6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNi4zdmhcIlxyXG4gICAgfSxcclxuICAgIHRhYnNSb290OiB7XHJcbiAgICAgICAgbWluSGVpZ2h0OiBcIjYuM3ZoXCIsXHJcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjYuM3ZoXCJcclxuICAgIH0sXHJcbiAgICB0YWJzU2Nyb2xsZXI6IHtcclxuICAgICAgICBtYXJnaW5Cb3R0b206IFwiLTEwdmggIWltcG9ydGFudFwiXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgYnVja2V0TmFtZXM6IFtdLFxyXG4gICAgaW52b2ljZXM6IFtdXHJcbiAgfTsgXHJcblxyXG5jbGFzcyBJbkNhbGxEZXRhaWxzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIGxldCBkYXlzID0gdGhpcy5wcm9wcy5idWNrZXROYW1lcy5yZXZlcnNlKClcclxuICAgICAgICBkYXlzLnVuc2hpZnQoXCJDdXJyZW50IER1ZVwiKVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBkYXlzIDogZGF5c1xyXG4gICAgICAgICAgICAvLyBhbGxJbnZvaWNlczogdGhpcy5wcm9wcy5pbnZvaWNlcyxcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgIFxyXG5cclxuICAgICAgICAvLyBmaWx0ZXJJbnZvaWNlcyA9IGZpbHRlckludm9pY2VzLmJpbmQodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGxldCB1cmwgPSBgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlc2BcclxuICAgICAgICAvLyBheGlvcy5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiByZXNwb25zZS5kYXRhIH0pXHJcbiAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBhbGxJbnZvaWNlczogcmVzcG9uc2UuZGF0YSB9KVxyXG4gICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSlcclxuICAgICAgICAvLyB9KVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9GaWx0ZXIgaW52b2ljZSBiYXNlZCBvbiBidWNrZXRcclxuICAgIGZpbHRlckludm9pY2VzID0gKGludm9pY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcyB9KTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcclxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkSW52b2ljZXMgPSBbXVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEFycmF5ID0gW11cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJEaXNwdXRlXCIgJiYgaW52b2ljZXNbaV1bal0uZGlzcHV0ZVN0YXR1cyAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlByZWRpY3RlZCBEZWxpbnF1ZW50XCIgJiYgaW52b2ljZXNbaV1bal0ucDJwRGVsaW5xdWVudCA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlVwY29taW5nIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycFVwY29taW5nID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGludm9pY2VUeXBlID09IFwiQnJva2VuIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycEJyb2tlbiA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkSW52b2ljZXMucHVzaCh0ZW1wQXJyYXkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gKGV2ZW50LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWUgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaWYgcHJpbWFyeSBlbWFpbCBJRCBpcyBwcmVzZW50IGluIGN1c3RvbWVyIGNvbnRhY3RzLlxyXG4gICAgICAgIC8vIGNoZWNrRW1haWxJRCA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnByb3BzLmN1c3RvbWVyID09IHVuZGVmaW5lZCB8fCB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tpXS5wcmltYXJ5ID09PSB0cnVlICYmIHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbaV0uZW1haWwpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vICAgICB9XHJcblxyXG4gICAgICAgIC8vIH07XHJcblxyXG4gICAgICAgIC8vICBmaW5kVHlwZSA9IChpbnZvaWNlKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgIHN3aXRjaChpbnZvaWNlKVxyXG4gICAgICAgIC8vICAgICAgICB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICBjYXNlIGludm9pY2UucDJwRGVsaW5xdWVudCA9PSB0cnVlIDpcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICByZXR1cm4gXCJQcmVkaWN0ZWQgRGVsaW5xbWVudFwiXHJcbiAgICAgICAgLy8gICAgICAgICAgICBjYXNlIGludm9pY2UucDJwVXBjb21pbmcgPT0gdHJ1ZSA6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIFwiVXBjb21pbmcgUDJQXCJcclxuICAgICAgICAvLyAgICAgICAgICAgICBjYXNlIGludm9pY2UucDJwQnJva2VuID09IHRydWUgOlxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIkJyb2tlbiBQMlBcIlxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIFwiRGlzcHV0ZVwiXHJcbiAgICAgICAgLy8gICAgICAgIH1cclxuICAgICAgICAvLyAgfVxyXG4gICAgICAgIHJlbmRlcigpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBkYXlzID0gZGF5cy51bnNoaWZ0KFwiQ3VycmUgICBudCBEdWVcIilcclxuICAgICAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IFtdXHJcbiAgICAgICAgICAgIHZhciBpbnZvaWNlVG90YWxBbW91bnQgPSBbXVxyXG4gICAgICAgICAgICB2YXIgdG90YWxJbnZvaWNlQ291bnQgPSAwO1xyXG4gICAgICAgICAgICB2YXIgd2hvbGVBbW91bnQgPSAwXHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5zdGF0ZS5kYXlzLmxlbmd0aDtpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGludm9pY2VUb3RhbEFtb3VudC5wdXNoKDApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQucHVzaCh0aGlzLnN0YXRlLmludm9pY2VzW2ldLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHZhciBzdW0gPSAwXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuc3RhdGUuaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdW0gPSBzdW0gKyB0aGlzLnN0YXRlLmludm9pY2VzW2ldW2pdLmN1cnJlbnRPcGVuQW1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxJbnZvaWNlQ291bnQgPSB0b3RhbEludm9pY2VDb3VudCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hvbGVBbW91bnQgPSB3aG9sZUFtb3VudCArIHRoaXMuc3RhdGUuaW52b2ljZXNbaV1bal0uY3VycmVudE9wZW5BbW91bnRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGludm9pY2VUb3RhbEFtb3VudFtpXSA9IHN1bVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnJvb3R9PlxyXG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubG9hZGluZyA9PT0gZmFsc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYnMgdmFsdWU9e3ZhbHVlfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JDb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInNjcm9sbGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQnV0dG9ucz1cImF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyA9IHt7IHNjcm9sbEJ1dHRvbnM6IGNsYXNzZXMuc2Nyb2xsQnV0dG9ucywgZmxleENvbnRhaW5lcjogY2xhc3Nlcy50YWJzRmxleENvbnRhaW5lciwgcm9vdDogY2xhc3Nlcy50YWJzUm9vdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlcjogY2xhc3Nlcy50YWJzU2Nyb2xsZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWJJbmRpY2F0b3JQcm9wcyA9IHt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiBjbGFzc2VzPXt7IHNlbGVjdGVkOiBjbGFzc2VzLnRhYlNlbGVjdGVkLHJvb3Q6IGNsYXNzZXMudGFiUm9vdCwgd3JhcHBlcjogY2xhc3Nlcy50YWJXcmFwcGVyfX0gaWNvbj17PGRpdj48c3BhbiBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIGZvbnRTaXplOiBcIi44cmVtXCIsIGRpc3BsYXk6IFwiYmxvY2tcIiB9fT57dG90YWxJbnZvaWNlQ291bnR9ICgke2Zvcm1hdHRlcih3aG9sZUFtb3VudCl9KTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogXCIuOHJlbVwiIH19PkFsbCBJbnZvaWNlczwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmRheXMubWFwKChkYXksIGlkKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgY2xhc3Nlcz17eyBzZWxlY3RlZDogY2xhc3Nlcy50YWJTZWxlY3RlZCxyb290OiBjbGFzc2VzLnRhYlJvb3R9fSBpY29uPXs8ZGl2PjxzcGFuIHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgZm9udFNpemU6IFwiLjhyZW1cIiwgZGlzcGxheTogXCJibG9ja1wiIH19PntpbnZvaWNlQ291bnRbaWRdfSAoJHtmb3JtYXR0ZXIoaW52b2ljZVRvdGFsQW1vdW50W2lkXSl9KTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiBcIi44cmVtXCIgfX0+e2RheX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFicz5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3ZhbHVlID09PSAwICYmIDxUYWJDb250YWluZXIgdGhlbWUgPSB7dGhlbWV9PjxEdWVEZXRhaWwgZW1haWxPZkNhbGxlZD17dGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkfSBjb2xsZWN0b3I9e3RoaXMucHJvcHMuY29sbGVjdG9yfSBjdXN0b21lcj17dGhpcy5wcm9wcy5jdXN0b21lcn0gZmlsdGVySW52b2ljZXM9e3RoaXMuZmlsdGVySW52b2ljZXN9IGJ1Y2tldE5hbWVzPXt0aGlzLnN0YXRlLmRheXN9IGludm9pY2VzPXt0aGlzLnN0YXRlLmludm9pY2VzfT48L0R1ZURldGFpbD48L1RhYkNvbnRhaW5lcj59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmludm9pY2VzLm1hcCgoYnVja2V0SW52b2ljZXMsIGlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IGlkICsgMSAmJiA8VGFiQ29udGFpbmVyIHRoZW1lID0ge3RoZW1lfSBjbGFzc05hbWU9e2NsYXNzZXMuY29udGFpbmVyfT48SW52b2ljZVRhYmxlIGVtYWlsT2ZDYWxsZWQ9e3RoaXMucHJvcHMuZW1haWxPZkNhbGxlZH0gY29sbGVjdG9yPXt0aGlzLnByb3BzLmNvbGxlY3Rvcn0gY3VzdG9tZXI9e3RoaXMucHJvcHMuY3VzdG9tZXJ9IGZpbHRlckludm9pY2VzPXt0aGlzLmZpbHRlckludm9pY2VzfSBpbmRpdmlkdWFsPXt0cnVlfSBkYXlzPXt0aGlzLnN0YXRlLmRheXNbaWRdfSBpbnZvaWNlcz17YnVja2V0SW52b2ljZXN9PjwvSW52b2ljZVRhYmxlPjwvVGFiQ29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5sb2FkaW5nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFicyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JDb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzY3JvbGxhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxCdXR0b25zPVwiYXV0b1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyA9IHt7IHNjcm9sbEJ1dHRvbnM6IGNsYXNzZXMuc2Nyb2xsQnV0dG9uc319XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiBzdHlsZT17eyBjb2xvcjogXCJ3aGl0ZVwiIH19IGxhYmVsPVwiQWxsIEludm9pY2VcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmRheXMubWFwKChkYXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgc3R5bGU9e3sgY29sb3I6IFwid2hpdGVcIiB9fSBsYWJlbD17ZGF5ICsgXCJkYXlzIHBhc3QgZHVlXCJ9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFicz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXBlciBzdHlsZT17eyBoZWlnaHQ6IFwiMjRyZW1cIiwgbWFyZ2luVG9wOiBcIjJyZW1cIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyBjbGFzc05hbWU9e2NsYXNzZXMucHJvZ3Jlc3N9IHNpemU9ezEwMH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUGFwZXI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEluQ2FsbERldGFpbHMucHJvcFR5cGVzID0ge1xyXG4gICAgICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIH07XHJcblxyXG5cclxuICAgIEluQ2FsbERldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuICAgIGV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShJbkNhbGxEZXRhaWxzKTtcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0luQ2FsbERldGFpbHMuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUG9wb3ZlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Qb3BvdmVyJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcywgVHlwb2dyYXBoeSwgSWNvbkJ1dHRvbiB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCB7IGNoYW5nZUNhbGxlciB9IGZyb20gJy4uL2FjdGlvbnMvYWN0aW9ucyc7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCB7IFZvaWNlbWFpbCwgTW9yZVZlcnQsIERvbmUsIENsb3NlIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zLyc7XHJcbmltcG9ydCB7IHNpcFNlbmREVE1GLCBzaXBUb2dnbGVNdXRlIH0gZnJvbSAnLi4vdXRpbHMvc2lwVXRpbHMnO1xyXG5pbXBvcnQgeyBlbXB0eUZ1bmN0aW9uLCBWT0lDRU1BSUxfQVVUT19DTE9TRV9USU1FTU9VVCB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbmFja2Jhcic7XHJcbmltcG9ydCBDbG9zZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdjb25maWcnO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICBBcHA6IHtcclxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICB9LFxyXG4gIGRpYWxwYWRJY29uSW1nOiB7XHJcbiAgICB3aWR0aDogXCIxLjJlbVwiLFxyXG4gICAgaGVpZ2h0OiBcIjEuMmVtXCIsXHJcbiAgICBtYXJnaW5SaWdodDogXCIyMHB4XCIsXHJcbiAgfSxcclxuICBwb3BPdmVyOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvcixcclxuICAgIHdpZHRoOiBcIjIwZW1cIlxyXG4gIH0sXHJcblxyXG4gIGZsZXg6IHtcclxuICAgIGZsZXhHcm93OiAxLFxyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiXHJcbiAgfSxcclxuICBmbGV4Q29sdW1uOiB7XHJcbiAgICBmbGV4R3JvdzogMSxcclxuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIlxyXG4gIH0sXHJcbiAgaGVhZDoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsXHJcbiAgICBmb250U2l6ZTogXCIxZW1cIixcclxuICAgIG9wYWNpdHk6IDAuNjUsXHJcbiAgfSxcclxuXHJcbiAgcm91bmRlZDoge1xyXG4gICAgbWFyZ2luOiB0aGVtZS5zcGFjaW5nLnVuaXQsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICB3aWR0aDogXCIyLjMxM2VtXCIsXHJcbiAgICBoZWlnaHQ6IFwiNC4zNTBlbVwiXHJcbiAgfSxcclxuXHJcbiAgbnVtYmVyczoge1xyXG4gICAgZm9udFNpemU6IFwiMS44ZW1cIixcclxuICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiXHJcbiAgICAvL2ZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseVxyXG4gIH0sXHJcblxyXG4gIGxldHRlcnM6IHtcclxuICAgIGZvbnRTaXplOiBcIi44ZW1cIixcclxuICAgIHBhZGRpbmdMZWZ0OiBcIjElXCJcclxuICAgIC8vZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5XHJcbiAgfSxcclxuXHJcbiAgaW5wdXQ6IHtcclxuICAgIGZvbnRTaXplOiBcIjEuODc1ZW1cIixcclxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgIGJvcmRlclN0eWxlOiBcIm5vbmVcIixcclxuICAgIHBhZGRpbmdMZWZ0OiBcIjAuNTVlbVwiLFxyXG4gICAgbWF4V2lkdGg6IFwiNy44NTBlbVwiLFxyXG4gICAgXCImOmZvY3VzXCI6IHtcclxuICAgICAgb3V0bGluZTogXCJub25lICFpbXBvcnRhbnRcIlxyXG4gICAgfVxyXG4gIH0sXHJcbiAgaW5wdXREaXY6IHtcclxuICAgIHBhZGRpbmdUb3A6IFwiMTAlXCIsXHJcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCJcclxuICB9LFxyXG4gIGtleXBhZENhbGw6IHtcclxuICAgIHBhZGRpbmdUb3A6IFwiNSVcIixcclxuICAgIHdpZHRoOiBcIjUuNzJlbVwiLFxyXG4gICAgaGVpZ2h0OiBcIjUuNzJlbVwiLFxyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgIGNvbG9yOiBcIm5vbmVcIlxyXG4gIH0sXHJcbiAgcGFwZXJQcm9wczoge1xyXG4gICAgdG9wOiAwXHJcbiAgfSxcclxuICBiYWNrU3BhY2U6IHtcclxuICAgIHdpZHRoOiBcIjIuOGVtXCIsXHJcbiAgICBoZWlnaHQ6IFwiMi4wZW1cIixcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCJcclxuICB9LFxyXG4gIHZvaWNlTWFpbEljb246IHtcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXHJcbiAgICBtaW5XaWR0aDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gICAgYmFja2dyb3VuZDogXCIjNURBQUUwXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICBwYWRkaW5nOiBcIjFweFwiLFxyXG4gIH0sXHJcbiAgdm9pY2VtYWlsU2VudEljb246IHtcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXHJcbiAgICBtaW5XaWR0aDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjNURBQUUwXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgfSxcclxuICB2b2ljZW1haWxQcm9ncmVzc1BhcmVudDoge1xyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcclxuICAgIHdpZHRoOiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgfSxcclxuICBleHRlbnNpb25Cb2FyZDoge1xyXG4gICAgbWFyZ2luVG9wOiBcIjJlbVwiLFxyXG4gICAgLy8gYm9yZGVyOiBcIjFweCBzb2xpZCBibGFja1wiXHJcbiAgfSxcclxuICBjYXJkQ29udGVudDoge1xyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiBcInJnYigxNDQsMjM4LDE0NCwgMC41KVwiLFxyXG4gICAgLyogb3BhY2l0eTogMC43OyAqL1xyXG4gICAgbWFyZ2luUmlnaHQ6IFwiNSVcIixcclxuICAgIG1lcmdpbkxlZnQ6IFwiMCVcIixcclxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgIG1hcmdpblRvcDogXCIyJVwiLFxyXG4gICAgZm9udFNpemU6IFwiMC45ZW1cIixcclxuICB9LFxyXG4gIHNlbmRDYXJkQ29udGVudDoge1xyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgbWFyZ2luUmlnaHQ6IFwiNSVcIixcclxuICAgIG1lcmdpbkxlZnQ6IFwiMCVcIixcclxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgIG1hcmdpblRvcDogXCIyJVwiLFxyXG4gICAgZm9udFNpemU6IFwiMC45ZW1cIixcclxuICB9LFxyXG4gIHNlbmRCdXR0b246IHtcclxuICAgIGxlZnQ6IFwiNzUlXCIsXHJcbiAgICBtYXJnaW5Ub3A6IFwiNSVcIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbEJveDoge1xyXG4gICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcclxuICAgIGJvcmRlckJvdHRvbTogXCIwLjVweCBzb2xpZCByZ2IoOTMsMTcwLDIyNClcIixcclxuICAgIGJvcmRlckJvdHRvbTogXCIwLjVweCBzb2xpZCByZ2JhKDkzLDE3MCwyMjQsMC42NSlcIixcclxuICAgIHBhZGRpbmc6IFwiMTJweCAxMnB4IDIwcHggMTJweFwiLFxyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBtYXJnaW5Cb3R0b206IFwiMjBweFwiLFxyXG4gICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcclxuICB9LFxyXG4gIGRpc2FibGVkVm9pY2VtYWlsQm94OiB7XHJcbiAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxyXG4gICAgY3Vyc29yOiBcImRlZmF1bHQgIWltcG9ydGFudFwiLFxyXG4gICAgYm9yZGVyQm90dG9tOiBcIjAuNXB4IHNvbGlkIHJnYig5MywxNzAsMjI0KVwiLFxyXG4gICAgYm9yZGVyQm90dG9tOiBcIjAuNXB4IHNvbGlkIHJnYmEoOTMsMTcwLDIyNCwwLjY1KVwiLFxyXG4gICAgcGFkZGluZzogXCIxMnB4IDEycHggMjBweCAxMnB4XCIsXHJcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgIG1hcmdpbkJvdHRvbTogXCIyMHB4XCIsXHJcbiAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAgb3BhY2l0eTogXCIwLjY1XCIsXHJcbiAgfSxcclxuICBzZW50Vm9pY2VtYWlsVGV4dDoge1xyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcblxyXG4gICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbFRleHQ6IHtcclxuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgIG1hcmdpbkxlZnQ6IFwiMS4ycmVtXCIsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gIH0sXHJcbiAgc2VudFZvaWNlbWFpbEJveDoge1xyXG4gICAgcGFkZGluZ1RvcDogXCIxMCVcIixcclxuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgbWFyZ2luUmlnaHQ6IFwiMTBweFwiLFxyXG4gICAgbWFyZ2luTGVmdDogXCIycHhcIixcclxuICAgIG1hcmdpbkJvdHRvbTogXCIyMHB4XCIsXHJcbiAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gIH0sXHJcbiAgdm9pY2VtYWlsUHJvZ3Jlc3M6IHtcclxuICAgIHdpZHRoOiBcImluaGVyaXQgIWltcG9ydGFudFwiLFxyXG4gICAgaGVpZ2h0OiBcImluaGVyaXQgIWltcG9ydGFudFwiLFxyXG4gICAgZmlsbDogXCIjNURBQUUwXCIsXHJcbiAgfSxcclxuICB0ZXh0RmllbGQ6IHtcclxuICAgIG1hcmdpbkxlZnQ6IHRoZW1lLnNwYWNpbmcudW5pdCxcclxuICAgIG1hcmdpblJpZ2h0OiB0aGVtZS5zcGFjaW5nLnVuaXQsXHJcbiAgICB3aWR0aDogMjAwLFxyXG4gIH0sXHJcbiAgY2xvc2VJY29uOiB7XHJcbiAgICBmaWxsOiBcImxpZ2h0Ymx1ZVwiLFxyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIHJpZ2h0OiBcIjMlXCIsXHJcbiAgICBmb250U2l6ZTogXCIycmVtXCIsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gIH0sXHJcblxyXG4gIHZvaWNlbWFpbEJ0bjoge1xyXG4gICAgY29sb3I6IFwiI0ZGRlwiLFxyXG4gICAgZm9udFNpemU6IFwiMS43cmVtXCIsXHJcbiAgICBwYWRkaW5nOiBcIjEwJVwiLFxyXG4gIH0sXHJcbiAgdm9pY2VtYWlsU2VudEJ0bjoge1xyXG4gICAgY29sb3I6IFwiI0ZGRlwiLFxyXG4gICAgcGFkZGluZ1RvcDogXCIxMCVcIixcclxuICAgIGZvbnRTaXplOiBcIjEuNXJlbVwiLFxyXG4gIH0sXHJcbiAgZGlzYWJsZUJ0bjoge1xyXG4gICAgb3BhY2l0eTogMC40LFxyXG4gICAgY3Vyc29yOiBcImRlZmF1bHRcIixcclxuICB9LFxyXG59KTtcclxuXHJcbmNsYXNzIEtleVBhZCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBvcGVuOiBmYWxzZSxcclxuICAgICAgcGhvbmVOdW1iZXI6IFwiXCIsXHJcbiAgICAgIGRpc3BsYXlOdW1iZXI6IFwiXCIsXHJcbiAgICAgIGRpYWxsZWQ6IGZhbHNlLFxyXG4gICAgICBmb2N1czogdHJ1ZSxcclxuICAgICAgaXNWb2ljZW1haWxFbmFibGVkOiB0cnVlLFxyXG4gICAgICBpc1ZvaWNlbWFpbENsaWNrZWQ6IGZhbHNlLFxyXG4gICAgICB2b2ljZW1haWxDbGlja01hcDogbmV3IE1hcCgpLFxyXG4gICAgICB2b2ljZW1haWxTZW50TWFwOiBuZXcgTWFwKCksXHJcbiAgICAgIHZvaWNlbWFpbFRlbXBsYXRlczogW10sXHJcbiAgICAgIHNuYWNrT3BlbjogZmFsc2UsXHJcbiAgICAgIGRpc2FibGVWb2ljZW1haWxDbGljazogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIGF4aW9zLmdldChgJHtjb25maWcuYXBpVXJsfS92b2ljZXRlbXBsYXRlYClcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVm9pY2VtYWlsIEZldGNoZWRcIiwgcmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVm9pY2VtYWlsRGF0YShyZXNwb25zZS5kYXRhKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBmZXRjaCB2b2ljZW1haWxzXCIsIGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplVm9pY2VtYWlsRGF0YSA9ICh2b2ljZW1haWxUZW1wbGF0ZXMpID0+IHtcclxuICAgIGxldCB2b2ljZW1haWxDbGlja01hcCA9IG5ldyBNYXAoKTtcclxuICAgIGxldCB2b2ljZW1haWxTZW50TWFwID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm9pY2VtYWlsVGVtcGxhdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZvaWNlbWFpbENsaWNrTWFwLnNldCh2b2ljZW1haWxUZW1wbGF0ZXNbaV0uaWQsIGZhbHNlKTtcclxuICAgICAgdm9pY2VtYWlsU2VudE1hcC5zZXQodm9pY2VtYWlsVGVtcGxhdGVzW2ldLmlkLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIHZvaWNlbWFpbFRlbXBsYXRlcyxcclxuICAgICAgdm9pY2VtYWlsQ2xpY2tNYXAsXHJcbiAgICAgIHZvaWNlbWFpbFNlbnRNYXAsXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVPcGVuID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW46IHRydWUgfSk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlQ2hhbmdlID0gZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgcGhvbmVOdW1iZXI6IGUudGFyZ2V0LnZhbHVlIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUNsb3NlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW46IGZhbHNlLCBkaXNhYmxlVm9pY2VtYWlsQ2xpY2s6ICF0aGlzLnN0YXRlLmlzVm9pY2VtYWlsRW5hYmxlZCwgfSk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlVm9pY2VtYWlsQ2xpY2sgPSB2b2ljZW1haWxUZW1wbGF0ZSA9PiB7XHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuZGlzYWJsZVZvaWNlbWFpbENsaWNrKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpZCA9IHZvaWNlbWFpbFRlbXBsYXRlLmlkO1xyXG4gICAgbGV0IHZvaWNlbWFpbENsaWNrTWFwID0gdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcDtcclxuICAgIHZvaWNlbWFpbENsaWNrTWFwLnNldChpZCwgdHJ1ZSk7XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZvaWNlbWFpbENsaWNrTWFwLCBkaXNhYmxlVm9pY2VtYWlsQ2xpY2s6IHRydWUgfSwgKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyh2b2ljZW1haWxUZW1wbGF0ZS50ZW1wbGF0ZU5hbWUsIHRoaXMuc3RhdGUuaWQpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgW2lkXTogdHJ1ZSB9KTtcclxuICAgICAgaWYgKHNpcFRvZ2dsZU11dGUoKSA9PT0gXCJPS1wiKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrT3BlbjogdHJ1ZSwgc25hY2tNZXNzYWdlOiBcIk1pYyBhdXRvIG11dGVkXCIgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrT3BlbjogdHJ1ZSwgc25hY2tNZXNzYWdlOiBcIkZhaWxlZCB0byBhdXRvIG11dGUgbWljIVwiIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaWQgPT09IDApIHtcclxuICAgICAgICBzaXBTZW5kRFRNRignIycpO1xyXG4gICAgICAgIHNpcFNlbmREVE1GKCc0Jyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIxc3QgVGVtcGxhdGVcIik7XHJcbiAgICAgIH0gZWxzZSBpZiAoaWQgPT09IDEpIHtcclxuICAgICAgICBzaXBTZW5kRFRNRignIycpO1xyXG4gICAgICAgIHNpcFNlbmREVE1GKCc1Jyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIybmQgVGVtcGxhdGVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2lwU2VuZERUTUYoJyMnKTtcclxuICAgICAgICBzaXBTZW5kRFRNRignNicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGFzdCB0ZW1wbGF0ZVwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5wcm9wcy5vblZvaWNlbWFpbENsaWNrKCk7XHJcbiAgICB9KTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBsZXQgdm9pY2VtYWlsU2VudE1hcCA9IHRoaXMuc3RhdGUudm9pY2VtYWlsU2VudE1hcDtcclxuICAgICAgdm9pY2VtYWlsU2VudE1hcC5zZXQoaWQsIHRydWUpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgdm9pY2VtYWlsU2VudE1hcCwgaXNWb2ljZW1haWxFbmFibGVkOiBmYWxzZSB9KTtcclxuICAgIH0sIDIwMDApO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmhhbmRsZUNsb3NlKCksIFZPSUNFTUFJTF9BVVRPX0NMT1NFX1RJTUVNT1VUKTtcclxuICB9XHJcblxyXG4gIGNsb3NlU25hY2tiYXIgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcclxuICB9XHJcblxyXG4gIGlzVm9pY2VtYWlsQXZhaWxhYmxlID0gKCkgPT4ge1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICh0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiQ29ubmVjdGVkIHRvXCIpICYmXHJcbiAgICAgICh0aGlzLnN0YXRlLnZvaWNlbWFpbFRlbXBsYXRlcyAmJiB0aGlzLnN0YXRlLnZvaWNlbWFpbFRlbXBsYXRlcy5sZW5ndGggPiAwKSAmJlxyXG4gICAgICAodGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbEVuYWJsZWQpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5BcHB9PlxyXG4gICAgICAgIDxWb2ljZW1haWxcclxuICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5pc1ZvaWNlbWFpbEF2YWlsYWJsZSgpID8gY2xhc3Nlcy52b2ljZW1haWxCdG4gOiBjbGFzc2VzLnZvaWNlbWFpbEJ0biArIFwiIFwiICsgY2xhc3Nlcy5kaXNhYmxlQnRufVxyXG4gICAgICAgICAgb25DbGljaz17dGhpcy5pc1ZvaWNlbWFpbEF2YWlsYWJsZSgpID8gdGhpcy5oYW5kbGVPcGVuIDogZW1wdHlGdW5jdGlvbn1cclxuICAgICAgICAvPlxyXG4gICAgICAgIDxQb3BvdmVyXHJcbiAgICAgICAgICBpZD1cInNpbXBsZS1wb3BwZXJcIlxyXG4gICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVufVxyXG4gICAgICAgICAgb25DbG9zZT17dGhpcy5oYW5kbGVDbG9zZX1cclxuICAgICAgICAgIGFuY2hvclJlZmVyZW5jZT1cImFuY2hvclBvc2l0aW9uXCJcclxuICAgICAgICAgIGFuY2hvclBvc2l0aW9uPXt7IHRvcDogODAgfX1cclxuICAgICAgICAgIFBhcGVyUHJvcHM9e3tcclxuICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgIG1hcmdpblRvcDogXCIzZW1cIixcclxuICAgICAgICAgICAgICByaWdodDogXCIwXCIsXHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICAgICAgICBib3JkZXJMZWZ0OiBcIjJweCBzb2xpZCAjRkZGXCIsXHJcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBhbmNob3JPcmlnaW49e3tcclxuICAgICAgICAgICAgdmVydGljYWw6IDIwLFxyXG4gICAgICAgICAgICBob3Jpem9udGFsOiAyMFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbj17e1xyXG4gICAgICAgICAgICB2ZXJ0aWNhbDogMjAsXHJcbiAgICAgICAgICAgIGhvcml6b250YWw6IDIwXHJcbiAgICAgICAgICB9fT5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5wb3BPdmVyfT5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgcGFkZGluZ0xlZnQ6IFwiNCVcIiwgbWFyZ2luVG9wOiBcIjUlXCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIgfX0+XHJcbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmhlYWR9PlZPSUNFTUFJTDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICA8Q2xvc2Ugb25DbGljaz17dGhpcy5oYW5kbGVDbG9zZX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNsb3NlSWNvbn0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnZvaWNlbWFpbFRlbXBsYXRlcy5tYXAodm9pY2VtYWlsVGVtcGxhdGUgPT4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuc3RhdGUuZGlzYWJsZVZvaWNlbWFpbENsaWNrID8gY2xhc3Nlcy5kaXNhYmxlZFZvaWNlbWFpbEJveCA6IGNsYXNzZXMudm9pY2VtYWlsQm94fSBrZXk9e3ZvaWNlbWFpbFRlbXBsYXRlLmlkfT5cclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy52b2ljZU1haWxJY29ufT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxWb2ljZW1haWwgY2xhc3NOYW1lPXtjbGFzc2VzLnZvaWNlbWFpbEJ0bn0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUudm9pY2VtYWlsU2VudE1hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMudm9pY2VtYWlsUHJvZ3Jlc3NQYXJlbnR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgY2xhc3NOYW1lPXtjbGFzc2VzLnZvaWNlbWFpbFByb2dyZXNzfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnZvaWNlbWFpbFNlbnRJY29ufT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxEb25lIGNsYXNzTmFtZT17Y2xhc3Nlcy52b2ljZW1haWxTZW50QnRufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnZvaWNlbWFpbFRleHR9IG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlVm9pY2VtYWlsQ2xpY2sodm9pY2VtYWlsVGVtcGxhdGUpfT5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvciwgb3BhY2l0eTogMC42NSB9fT5TZW5kPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsIG9wYWNpdHk6IDAuNjUgfX0+U2VuZGluZzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgY29sb3I6IFwiIzVEQUFFMFwiLCBvcGFjaXR5OiAwLjY1IH19PlNlbnQ8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yIH19Pnt2b2ljZW1haWxUZW1wbGF0ZS50ZW1wbGF0ZU5hbWV9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPE1vcmVWZXJ0IHN0eWxlPXt7IHJpZ2h0OiBcIjMlXCIsIHBvc2l0aW9uOiBcImZpeGVkXCIsIH19IC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L1BvcG92ZXI+XHJcbiAgICAgICAgPFNuYWNrYmFyXHJcbiAgICAgICAgICBhbmNob3JPcmlnaW49e3tcclxuICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxyXG4gICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCcsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAga2V5PXt0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZX1cclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc25hY2tPcGVufVxyXG4gICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbj17MjAwMH1cclxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgIENvbnRlbnRQcm9wcz17e1xyXG4gICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBtZXNzYWdlPXs8c3BhbiBpZD17dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2V9Pnt0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZX08L3NwYW4+fVxyXG4gICAgICAgICAgYWN0aW9uPXtbXHJcbiAgICAgICAgICAgIDxJY29uQnV0dG9uXHJcbiAgICAgICAgICAgICAga2V5PVwiY2xvc2VcIlxyXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXHJcbiAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2xvc2V9XHJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPENsb3NlSWNvbiAvPlxyXG4gICAgICAgICAgICA8L0ljb25CdXR0b24+LFxyXG4gICAgICAgICAgXX1cclxuICAgICAgICAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBWb2ljZW1haWxXcmFwcGVyID0gd2l0aFN0eWxlcyhzdHlsZXMpKEtleVBhZCk7XHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+ICh7XHJcblxyXG4gIGNhbGxTdGF0ZTogc3RhdGUuY2FsbFN0YXRlXHJcbn0pXHJcblxyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSBkaXNwYXRjaCA9PiAoe1xyXG4gIC8vIGNoYW5nZUNhbGxTdGF0ZTogZGF0YSA9PiAoZGlzcGF0Y2goY2hhbmdlQ2FsbFN0YXRlKGRhdGEpKSlcclxuICBjaGFuZ2VDYWxsZXI6IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZUNhbGxlcihkYXRhKSkpXHJcbn0pXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcclxuICBtYXBTdGF0ZVRvUHJvcHMsXHJcbiAgbWFwRGlzcGF0Y2hUb1Byb3BzLFxyXG4pKHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShWb2ljZW1haWxXcmFwcGVyKSlcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvVm9pY2VtYWlsV3JhcHBlci5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQVlBQUFCWHVTczNBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFCbDVKUkVGVWFJSEZtbDlzVTljZHh6Ky82eHU3T0k3eUY1clEwdGpBSnA3VzBDR3hmMktHN24wZ0RaQmFXTDFObXNRVDJSNm1TYVVTRTNUZEhxYkN3NlE5VENJdDJjUFNoNlRhdzU1RzNIL3FXbFNSZEJJYjBsckhMQ01lQkloSjRzVDI5ZjN0d1grSTdlcy8xdzd3ZmJvKzkvenUrWnpmL1oxemZ2Y2NDMjBxTWhucnNTM1BkMjEwQk5Xd0tFR0VZRmtsWlU2Rk9VU2lCakpqbUxuM3hvNkVsdHBwVjFvMWZQblA4VmNFUFN6QzRWYnNWWmxTWk9wUHg0ZmZhc1hlRlhoa010WmpXY1pwc1RWUzVkVldwY3lwSVdPbWFWOTA4eGFhQmoveFRpd3N0bHphTk9CS0tYTnE2SS9HajRhaXpWUnZDQjZaalBYa3NzYWJvSkgyNlpxUXlvWEx4NGQvMXFoYVhmRElaS3pIeXNxMHdNam1rVFdXd296Wm9RZnJoWTVSNjhaTEU3R1JKd0VOSURCaVpXWDZwWWxZemJZZFBmNmtQRjJwZXA0M0t3dmFoUjd1OFhKeWJ4OWZHZkFod0h3eXkxLytsZVRqbTZ1dW4xWDBQTEMzOGw1VnFPU3l4cHRPMFAxK0R3UCtxbjZXYVhlL2oxY1BEdkxWQWpUQXM5MGRuTm8vd0E5ZjZITU5Yb1EvTVJHN1VCZjh4RHV4c05QczBlLzNjT2JnRUdjT0RkSzd4ZVBZZ0duQXo3K3pqYWRNNS9IK3ZWMWRmT3U1emhiaDVYU2V6UUU4TWhuckVWc3VPUm1lMnIrVmZyK0h2aTBlWGpzMDVBaS9kN3VmZ0xmbVdBY2d2TE9ySlhBQXNlVlNaRExXVXdWdVpSaXR0Ymo4NFpORjdxM2xBQmp3TzhQdjZQWTJiUHpaN280V3NRRWhhR1VZTGY0c2dZdkk2Vm8yaXltTDgxY1NkZUhmajYyUVhNL1ZiZHMwV2s2TjhveklLOFZyQStEa1JDd0M5TlMwb0RIOFlzcmkzSFNpSVh4YkVvSUYxcExIbThyd0dzSGZYbmtNOEFWV3llY2ljdCtONVlEZjVNeWhRZnBLM3M1eDdzb0M5d3NkMmhZd2VlM2dJTjFQbFkrRGRVdjU2ZVROdHNrOUhkcHJXQm5DamF1VzYwbDczc29RTm1oeGhXd1cva0hhM2pUZ0RSb3hSTng3dktoYThNVVF1YjFpOGZvamdCY2hiS0F5M001RG5PRFBiSWp2aGVYc3BzTXIwbTFzeGhmTllzcmlnN21WMHUrbkE2WXovQ2JGdk1CSS9hekpRVC9lMTg5Z29JUGtlbzdmLy8xT3FUeWIwN0o2UmZqemhVRzZzSnpsdCsvL3I2ek9OM1owY21oWFBnMTQrOXBkNXBQWnBqbnFKeGNPR3ZDYjdObnFZOTh6L3JMeS96Nm9iclRTODNkV3JiTDdPL3U4N05ucVk4OVduMXNNOStCRlFJK1J6NzJMdW5ZcnhVcW1PbzRyNFRkcVoxOGVPS2R3eTZIajlXUW9HbmRqY08xV3FuUjlJQlFvWGRzS3YvdmdOdXVXVnRrNHdSc0NRMTM1cE9zZmlUWHNhck9hVXRWWlEyRE9EZmoxMitzbHI3KzRxNHRnNzBPdmYzRXZ6YS8rdHNDVkw1YXhOZCtaNGx1b2hMY1Zmdk5lZ2xSV2lYNjVVdDFRSFltdzVQbmFEMGFESXVKcUxuK1F6ckYvUnljaThQeVFudy9uVnNnVUJ1ZHkybVptWVkycDYwbW1yaWY1ZEQ3Rk41OEw0RE9GZ05mZzY4LzQrWFErUmRwU0hxUnRaaFpTM0ZoTXV3Slg1UzBEbUhGbEJWeWRUL0ZSUFA4TjJiZkZ3OWtYaHhqc2NwNmc3cXhhL0hvNjcxbDQ2UGt1WDM1NHVabEpObWpHODhMTG93bTE1WmR1TFQ5UHJMRzd6OGUyZ0VtbjF5QWM2cUxUYTVCY3o1SEsybVV4MitFUk9uMGVRb1d3Q25nTjltNzM4OGwvVmt0dnlvMU1MNmNFNE9SRWJBcmsrMjRmSUFJLzJkZlBnV0Nnck54V1dGeTFXTTNhRFBqTmtuY3JkYXV3TUMyN1dsWDEzY3ZIUW9lTFQ1eHlDdzJnQ24rOGVwZXh6KzZ4bG4zb09VUHlxVzJvMTFzR25jNHBIOFlmZW5sN1Z3ZXZiZ2liSmpVRkd6YUVUa3pFNW9UVzg1WU9qL0R0NFU1Q3ZUNTI5L3ZZVWZpK1hNc3FIOFZYK09lZGRUNVBySkcybE4zOVBuNXg0T25TamtDem5sYzBQbjRzRklTTkM1QXkxaW8wNUpmODZKY3JYUHJzTG4rOWtTeVZMeXhuZWZ2YVBhNFdaaEtBZjk5TjgwWTBVWnJ6bS9XOENLWDlsVkpOMDhzRnQ0dFJPNHJkei9CR05GRUtzVWJ3aXNZdkh3MVZnNDhkQ1MwaFBKNnQ1SUppOXpPODNpeDhCVnRaamZHam9haXF0blMwMGFwdUx1WGhWd3NyckNCb3hReXA2TVhLRGYrcXJwbGVSbFYxOWhHeVZ1bm1Vb2J6MHdsdUxLWTVkMldoTEZsVDFkbnhZNkhSU3B2YTI4d1pvaUx5L0NQa2JTaFZuVFc5aEoyMm1SMUh3dGlSMEpJdFJCNjM1emRLVldkdElWTHJWS0x4VWNvVDhIdzlUeGZWMU9HVmxlV3NVSHR2Y1RPbDZFV25tSzZVcStOQ2xMRjJWdGQ2VWpTT0VObTA0OEtOS29UT0tFSmtzenFnYUJ4bGJQeDQ2S3didTViM2ZRdTdwb2RieVNyejBuZUJxY3ZIUWkybEd1MXRXRk42QzJGZ1JJU3dRckR5YmFqcXJBaExxa1NCR2ROTHROMC9JZndmMGhzREpyOHltOWNBQUFBQVNVVk9SSzVDWUlJPVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXNzZXRzL21pY19vZmYucG5nXG4vLyBtb2R1bGUgaWQgPSA2MTIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQVlBQUFCWHVTczNBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFCSzFKUkVGVWFJSE5tVzJJVkZVWXgzL1BuZGxWUzVDZE9kZTNRRlFTTFd3eEJVUE16VFFRVXdQeFplbWpsaEQwSmZSRFVHWnZSUGpKaU1nUEZTclJGNVdDa0xLb1ZKS0Z0QXhwVXpGY1g2QzIzWHRuZDFhM25NMlorL1RoN3VxNk8zZnVtZG1kSGY5d3VUUG5QTTk1Zm5QbTNIUE9QWTh3Q2xMWG5VTVFMTVZ4RnFMNkNQQUFNQldSZWxTN2dDNmdFL2lSSURoS1Y5ZFBBc0ZJWWtyRnNNYk1CWjRIMWlFeXR6eG43UWFPRUFTZjB0WDFmU1Uvb214d05XWXRzQjJSSjh2MWpkRGZCTUhIWkRMdkNPUnNuYXpCdGFHaGtVVGlmVVNlcUl3dkxvRCtnVWl6ZU42dk51Wk9iSHVRVU5mZFNTTHhTOVdnQVVUbW9IcEswK21YMWFKRFN4cW82MDRFdmdZZUh5MCtLNmtld2ZlYkJmNk5Nb2tFVjdnUFkzNUE1TEhxME1WSTlRejUvRXJKWnJQRnFvc09GWVY2WFBmYm1rRURpQ3drbWZ4R1lYeXg2bUhnQ2c3R0hBS1dWaDB1VGlLTGNkM1BpNDM1NFQyZVRyK0p5RE5qQW1hbjFSanordERDdTM1Si82TFNpa2h5ekxCc3BLckFDdkg5NHdORmQvZTR5TDU3RGhwQVJCRDVTQ0V4VUhRYlhGMTNDN0NrSm1CMmVwQjArb1dCTHdLZ0lManVKV0JXemJCc3BIb04zNThwb0dHUEcvTTA5em8wZ01nTVVxbFZjR2VvdkZSRG5QTGtPRnNBUkdFOHh2eURTT3krSlZLelo4TzhlVEI1TWt5WkV0Nm5Ub1ZjRHRyYTdsem56c0dOR3lNRFYrM0I5OU5KakZsU0ViUXhzR2tUYk5nQWpZMzJmaDBkY1BvMEhEZ0FKMDZVSFJhUlNSaXpUTlIxZHdKdld6czJOc0syYmJCK1BkVFhseDk0c0M1ZWhMMTc0ZUJCdUhXckhNOVhSWTM1RXBGMXNhWjFkYkJuRDJ6ZVhERm5wTnJhd25hdlhiUDFPT1FBMDZ4TXQyNnREalNFejhpdVhlVjRQSlFFWEN2VDV1Ym91dFpXMkw4ZlRwNkVLMWNnR1BJS2FRek1udytMRnNHT0haQXNzaml2WGgyVzUvTTJOSk5GWGJjWHVMK2syYmh4Y1BVcU9FV2U0Vnd1N0RHN2dIRDRNRFExRmE5cmFvSUxGK0xiVUEwY0lINXZrazRYaHdibzdMU0hCbWh2ajY1cmFMQnV4Z0dLdm1IY3BWSmdkWFhXd1FDWU1DRzZUcXpmM1RzY1ZET3hacGtNcUJhdk02YWNnT0VDRmFXYk4yMWJhVThpY2c1NHVLUlpvUkNPOFprekladUZTNWZDcTYwdHZDZVQ5dlB3eG8wd2ZUcE1teGJlQjMrMm53N2JSWTE1RFpHM1lrMW56UXFodTd0dEc2K21kaWRSYmJINnF5OWZyajZPclFxRlk2S1F3SFY3aUpzUzd4V3A1dkg5aVk1QUFmaXExanhscUVXZ0w1eWNDNFZQYWd4akw1RVBZZkNybXpGWEVKbFJXNm9ZcWY2Sjc4OFFDQndBQVVYa2pWcHpXZWk5Z2JQMG9lY3FaeEI1dERaTU1WSTlqKzh2RVBnUGhwK3JQSWZxaUZJY1ZaRnFRRDcvN0FBMERBSHZQMVNQWDR6R1dxcnZTalo3ZG5EUnNKV24vOUR6T0NMTHhvNnNwSTdpZVd1RzVvbUc3Vlg3RGRhZyt2dVlvVVZKOVdjOGIzMng1RmJSVGJiNC9nMXl1UlZBYTlYaG92VWJoY0pUVVFtdHlHTUo2ZTN0QkphZ1dvdFY5U3g5ZmN1bHU3c255cURrZVlwNFhpKyt2eGJWSFVEZnFPTVYxd2Q0M21LNWZyMnJKSnR0YXpwcDBtenE2dlpYN2FGVlBRKzhLTDUvek1hOC9BUnRLclVSeDNsbDFCYXFNTCs1RzgvYlYwNkdlU1FwOGVYQWRtQVZJdVVkYWFuMklQSUZRZkNaWkRMZlZSSy9ZdkRiREdGYWNTV3dCbGdBcEJCSm9ab2k3TUVPNEMvZ0luQUdrVk40WGt2L2RycGkvUSswWDM5Y1hJVjZEd0FBQUFCSlJVNUVya0pnZ2c9PVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXNzZXRzL2hhbmctdXAucG5nXG4vLyBtb2R1bGUgaWQgPSA2MTIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=