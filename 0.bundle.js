webpackJsonp([0],{6076:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(29),m=n(p),f=a(21),h=n(f),v=a(8),g=n(v),y=a(368),b=n(y),C=a(70),E=a(69),S=a(340),O=a(24),w=a(68),x=n(w),k=a(44),I=a(353),D=n(I),T=a(6087),N=n(T),P=a(6116),A=n(P),j=a(333),M=n(j),F=a(71),R=n(F),B=a(88),_=n(B),L=a(167),H=n(L),U=a(337),W=n(U),V=a(336),z=n(V),Y=a(171),K=n(Y),q=a(182),G=n(q),X=a(354),J=a(347),Q=n(J),Z=a(355),$=n(Z),ee=a(6117),te=n(ee),ae=a(6082),ne=(n(ae),a(42)),oe=a(170),re=n(oe),ie=a(46),le=a(6081),se=n(le),ce=a(31),ue=n(ce),de=a(32),pe=n(de),me=(a(369),void 0),fe=function(e){return{appFrame:{display:"flex",flexDirection:"row",maxHeight:"100vh"},root:{backgroundImage:e.palette.background.main,width:"93.75vw",marginRight:"auto",marginLeft:"auto",alignItems:"center",paddingBottom:"0",justifyContent:"center",fontFamily:e.font.title.fontFamily},hangUpIconIng:{height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",cursor:"pointer"},callText:{marginLeft:".5rem",color:e.palette.primary.main,fontFamily:e.font.title.fontFamily,fontSize:"1rem"},dialpadIcon:{height:"calc(1.6vh + 1.6vw)",paddingRight:"1rem"},voiceMailIcon:{cursor:"pointer",background:"#5DAAE0",borderRadius:"50%",textAlign:"center",padding:"1px"},status:{fontSize:".7rem",color:"white",zIndex:"6"},duration:{marginRight:".6rem",color:e.palette.primary.main},customerName:{fontFamily:e.font.title.fontFamily,fontSize:"1.78rem",color:e.palette.secondary.main,lineHeight:"2.05rem"},customerNumber:{fontFamily:e.font.title.fontFamily,fontSize:".8rem",color:e.palette.secondary.main},transcriptBox:{height:"86.50vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main,position:"relative"},transcriptTitle:{fontSize:"1.2rem",color:e.palette.primary.main,paddingLeft:"1rem",opacity:.65,paddingTop:".5rem",position:"absolute",fontFamily:"Roboto"},nextFab:{right:.25*e.spacing.unit},prevFab:{marginLeft:"-0.5rem"},hangUpButton:{height:"calc(1.53vh + 1.53vw)",width:"2.66666665rem"},hangUpButtonImg:{height:"2.666665rem",width:"2.66666665rem"},dropDownIcon:{color:e.palette.secondary.main},dropDown:{color:e.palette.cardBackground.main},micOffIconImg:{cursor:"pointer",height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)"},micOffIcon:{height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",color:"white"},calledContactName:{fontSize:".76rem",color:"white",lineHeight:"normal"},calledToContactDiv:{width:"80%"},transcriptBoxParent:{paddingBottom:"0px !important",borderRadius:"4px"},closeStyle:{position:"fixed",top:"1%",left:"50%",color:"#fff",fontSize:48,cursor:"pointer"},customerHistoryModal:{position:"absolute",width:"45%",height:"100%",bottom:"0",overflowWrap:"break-word",overflowY:"auto",boxShadow:e.shadows[5],paddingLeft:"1%",backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main,left:"4.2%"},actionIcon:{fontSize:"2rem",color:e.palette.primary.main},actionButton:{height:"4.166vw",borderRadius:"0px",width:"4.166vw"}}},he=function(){for(var e=[],t={product:"hello",region:"America",amount:"5",saleDate:"09/09/1996",customer:"Balraj"},a=0;a<1e3;a++)e.push(t);return e}(),ve=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.openContactDropdown=function(){1==a.state.contactOpen?a.setState({contactOpen:!1}):a.setState({contactOpen:!0})},a.toggleContactPopover=function(e){a.setState({contactOpen:e})},a.getFormattedDuration=function(){var e=a.state.callDuration++,t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),o=Math.floor(e-3600*t-60*n);return n<10&&(n="0"+n),o<10&&(o="0"+o),n+":"+o},a.openVoicemail=function(){a.setState({isVoicemailOpen:!a.state.isVoicemailOpen})},a.closePopTimeline=function(){a.setState({popTimeline:!1})},a.openPopTimeline=function(e){a.setState({popTimeline:!0,popType:e})},a.getTimeline=function(e){var t=(a.props.classes,""),n="",o="";if("PAYMENT_HISTORY"===e&&(t=a.state.customer.payments,n="RECENT PAYMENTS",o="No Payments in Last 30 Days"),"COMM_HISTORY"===e){t=a.state.communication,n="COMMUNICATION HISTORY",o="No Communication History";for(var r in t){var i=t[r].type.toUpperCase();if("CALL"==i){var l=t[r].call.status;t[r].commType="-100"==l?"VOICEMAIL":"CALL"}else"CORRESPONDENCE"==i&&(t[r].commType="MAIL",t[r].customerName=a.state.customer.customerName)}}return u.default.createElement("div",null,("COMM_HISTORY"==e||"PAYMENT_HISTORY"==e)&&u.default.createElement($.default,{popType:e,events:t,mainHeader:n,noEventMsg:o}))},a.toggleMute=function(){a.setState({isMuted:!a.state.isMuted}),(0,C.sipToggleMute)()},a.setDuration=function(){0===a.state.callDuration&&(me=setInterval(function(){"Connected to"===a.props.callState.status&&a.setState({callDurationInFormat:a.getFormattedDuration()})},1e3))},a.clearIntervalOnHangup=function(){clearInterval(me)},a.hangUp=function(){(0,C.sipHangup)()},a.openVoicemail=function(){a.setState({isVoicemailOpen:!a.state.isVoicemailOpen})},a.switchToCallPrepPage=function(){a.setState({callPrepPage:!0})},a.switchToCallInCallPage=function(){a.setState({callPrepPage:!1})},a.handleVoicemailMessage=function(){var e=void 0,t=a.calledToFirstName+" "+a.calledToLastName;e="Unknown "===t||"Unnamed Unnamed"===t?a.props.location.state.calledToNumber:t;var n="Voicemail Played for "+(e||"")+"\n";a.setState({voicemailPlayedMessage:n})},a.myRef=u.default.createRef(),a.props.changeCallState({calling:!0,status:""});var n=void 0,l=void 0;null!=a.props.location.state.contactIndex?(console.log("first one"),console.log(a.props),n=a.props.location.state.contactIndex,l=a.props.location.state.customer.contacts[n].id,a.calledToNumber=a.props.location.state.calledToNumber,a.calledToFirstName=a.props.location.state.customer.contacts[n].firstName,a.calledToLastName=a.props.location.state.customer.contacts[n].lastName,a.emailOfCalled=a.props.location.state.customer.contacts[n].email):(console.log(a.props),console.log("second one"),l=a.props.location.state.contactId,a.calledToNumber=a.props.location.state.calledToNumber,a.calledToFirstName=a.props.location.state.calledToFirstName,a.calledToLastName=a.props.location.state.calledToLastName,a.emailOfCalled=a.props.location.state.emailOfCalled),console.log("Email of called",a.emailOfCalled),a.calledToFullName=a.calledToFirstName+" "+a.calledToLastName,"Unknown "!==a.calledToFullName&&"Unnamed Unnamed"!==a.calledToFullName||(a.calledToFullName=a.calledToNumber);var s=a.props.location.state,c=a.props.customers.customers.filter(function(e){return e.id==s.accountId});return a.props.callLog({status:"",contact:{id:l},calledToNumber:a.calledToNumber,contactId:l,calledTo:a.props.location.state.calledTo,startDateTime:new Date}),(0,ie.disableFredaInCall)(),(0,C.sipCall)(a.calledToNumber,a.props.user,c,s.customer,a.props.location.state.invoices),a.state=o({loading:!1,voicemailPlayedMessage:"",redirect:!1,callPrepPage:!1,customer:a.props.location.state.customer,communication:a.props.location.state.communication,callDuration:0,callDurationInFormat:"",transcription:"",summary:"[]",contactOpen:!1,columns:[{name:"product",title:"Product"},{name:"region",title:"Region"},{name:"amount",title:"Sale Amount"},{name:"saleDate",title:"Sale Date"},{name:"customer",title:"Customer"}],currencyColumns:["amount"],pageSizes:[5,10,15],rows:he,invoices:a.props.location.state.invoices,isVoicemailOpen:!1},"transcription",""),console.log(a.props.location.state.invoices,"in incall usual flow"),a}return l(t,e),s(t,[{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.transcription.transcription,a=e.transcription.transcription;a!==t&&this.setState({transcription:a}),this.setState({invoices:e.location.state.invoices})}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUpdate",value:function(e){}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.classes,i=n.theme,l=(parseInt(this.props.match.params.id,10),parseInt(this.props.match.params.id,10),(0,ne.getInitialsFromName)(this.calledToFirstName+" "+this.calledToLastName));i.palette.primary.main;return"Connected to"===this.props.callState.status&&this.setDuration(),u.default.createElement("div",null,!0===this.props.callState.calling&&u.default.createElement(M.default,{onSwipeLeft:this.switchToCallPrepPage,onSwipeRight:this.switchToCallInCallPage},u.default.createElement("div",{className:r.appFrame},u.default.createElement(K.default,{topItems:(0,X.getMenuItems)(r,i,this.openPopTimeline)}),u.default.createElement(re.default,null),u.default.createElement("div",{className:r.root},u.default.createElement(R.default,{open:this.state.popTimeline,disableAutoFocus:!0,onClose:this.closePopTimeline},u.default.createElement("div",null,u.default.createElement("div",{className:r.customerHistoryModal},this.getTimeline(this.state.popType)),u.default.createElement(x.default,{classes:{root:r.closeStyle},onClick:this.closePopTimeline}))),u.default.createElement("div",null,!0===this.props.callState.calling&&u.default.createElement("div",null,u.default.createElement(H.default,{"aria-label":"Add",className:(0,g.default)(r.prevFab,r.fabButtons),classes:{disabled:r.disabledFab},size:"small",disabled:this.state.callPrepPage,onClick:this.switchToCallPrepPage},u.default.createElement(z.default,{className:this.state.callPrepPage?r.disabledArrowicon:r.arrowIcon})),u.default.createElement(H.default,{"aria-label":"Add",classes:{disabled:r.disabledFab},className:(0,g.default)(r.nextFab,r.fabButtons),disabled:!this.state.callPrepPage,size:"small",onClick:this.switchToCallInCallPage},u.default.createElement(W.default,{className:this.state.callPrepPage?r.arrowIcon:r.disabledArrowicon}))),!0===this.props.callState.calling&&u.default.createElement(m.default,{container:!0,xs:12,justify:"space-between",alignItems:"flex-start",style:{marginTop:"1.12vh"}},u.default.createElement(m.default,{item:!0,xs:5,style:{paddingLeft:"0px",paddingRight:"0px"}},this.state.customer.customerName.length<20?u.default.createElement(h.default,{noWrap:!0,className:r.customerName}," ",this.state.customer.customerName):u.default.createElement(_.default,{title:this.state.customer.customerName},u.default.createElement(h.default,{noWrap:!0,className:r.customerName}," ",this.state.customer.customerName)),u.default.createElement("div",{className:r.customerNumber},this.state.customer.customerNumber)),u.default.createElement(m.default,{item:!0,container:!0,sm:6,lg:6,md:6,xl:5,alignItems:"center",justify:"flex-end"},u.default.createElement(m.default,{item:!0,container:!0,lg:8,md:10,xl:10,alignItems:"center",justify:"flex-end",style:{marginRight:"8.333vw"}},u.default.createElement(m.default,{item:!0,container:!0,sm:9,lg:9,md:9,xl:9,alignItems:"center",justify:"space-between",className:r.callGrid},u.default.createElement(m.default,{container:!0,item:!0,lg:7,md:7,xl:7,style:{cursor:"pointer"},onClick:this.openContactDropdown,justify:"flex-start",alignItems:"center"},u.default.createElement(m.default,{item:!0,className:r.customerIconCircle},"Unnamed"===this.calledToFirstName&&"Unnamed"===this.calledToLastName&&u.default.createElement("span",null,"?"),"Unnamed"!==this.calledToFirstName&&"Unnamed"!==this.calledToLastName&&u.default.createElement("span",null,this.calledToFirstName.toUpperCase().charAt(0)+this.calledToLastName.toUpperCase().charAt(0))),u.default.createElement(m.default,{item:!0,lg:7,md:7,xl:7,className:r.callText},u.default.createElement(h.default,{variant:"span",noWrap:!0,className:(0,g.default)(r.status)},this.props.callState.status),u.default.createElement("div",{className:r.calledToContactDiv},u.default.createElement(h.default,{noWrap:!0,className:r.calledContactName},this.calledToFullName))),u.default.createElement(m.default,{item:!0,className:r.dropDown,align:"right"},u.default.createElement(G.default,{className:r.dropDownIcon})),u.default.createElement(m.default,{item:!0,className:r.contactIcon},u.default.createElement(b.default,{dataFromChild:this.toggleContactPopover,contactOpen:this.state.contactOpen,openContacts:!1,contacts:this.state.customer.contacts,customer:this.state.customer,invoices:this.state.invoices,bucketNames:this.props.location.state.bucketNames,nextCustomerUrl:this.nextUrl,toCallCustomers:this.props.location.state.toCallCustomers}))),u.default.createElement(m.default,{container:!0,item:!0,lg:5,md:5,xl:5,alignItems:"center",justify:"flex-end"},u.default.createElement(m.default,{className:r.duration},this.state.callDurationInFormat),u.default.createElement(m.default,{item:!0,className:(0,g.default)(r.micOffIcon,r.centerFlexBox)},this.state.isMuted&&u.default.createElement("img",{className:r.micOffIconImg,src:"/tovo/static/unmute.svg",onClick:this.toggleMute}),!this.state.isMuted&&u.default.createElement("img",{className:r.micOffIconImg,src:a(6118),onClick:this.toggleMute})),u.default.createElement(m.default,{item:!0,align:"right",className:r.hangUpButton},u.default.createElement("img",(e={className:r.hangUpButtonImg,onClick:this.hangUp},o(e,"className",r.hangUpIconIng),o(e,"src",a(6119)),e))))),u.default.createElement(m.default,{item:!0,className:r.dialpadIcon},u.default.createElement(Q.default,{className:r.baseIconSize,customer:this.state.customer})),u.default.createElement(m.default,{item:!0,className:(0,g.default)(r.voiceMailIcon,r.baseIconSize)},u.default.createElement(te.default,{customer:this.state.customer,onVoicemailClick:function(){return t.handleVoicemailMessage()}}))))),!0===this.props.callState.calling&&!1===this.state.callPrepPage&&u.default.createElement("div",{style:{marginTop:"2.037vh"}},u.default.createElement(m.default,{container:!0,xs:12,alignItems:"flex-start",justify:"center",style:{marginLeft:"0px"}},u.default.createElement(m.default,{item:!0,xs:8,align:"left",style:{paddingTop:"0",paddingRight:"1.041vw"}},this.state.invoices&&u.default.createElement(A.default,{collector:this.props.user,emailOfCalled:this.emailOfCalled,customer:this.state.customer,invoices:this.state.invoices,bucketNames:this.props.location.state.bucketNames})),u.default.createElement(m.default,{item:!0,container:!0,xs:4,className:r.transcriptBoxParent},u.default.createElement(se.default,{className:r.transcriptBox,autoScroll:!0,transcriptTitleClassName:r.transcriptTitle,transcriptChatProps:{transcription:this.state.transcription,calledToNameInitials:l,userInitials:"ME",transcriptGridID:"live-transcription-grid"}})))),!0===this.props.callState.calling&&!0===this.state.callPrepPage&&u.default.createElement("div",null,u.default.createElement(D.default,{customer:this.state.customer})))))),!1===this.props.callState.calling&&("Call Failed"===this.props.callState.status||"Wrong Number"==this.props.callState.status||"User Busy"==this.props.callState.status)&&u.default.createElement("div",null,u.default.createElement(k.Redirect,{to:{pathname:"/callprep/"+this.state.customer.id,state:{openContacts:!0,toCallCustomers:this.props.location.state.toCallCustomers}}})),!1===this.props.callState.calling&&u.default.createElement(N.default,{voicemailMessage:this.state.voicemailPlayedMessage,callDuration:this.state.callDuration,toCallCustomers:this.props.location.state.toCallCustomers,nextCustomerUrl:this.props.location.state.nextCustomerUrl,onHangup:this.clearIntervalOnHangup,invoices:this.state.invoices,customer:this.state.customer,calledToName:this.calledToFirstName+" "+this.calledToLastName,bucketNames:this.props.location.state.bucketNames,collector:this.props.user,contactIndex:this.props.location.state.contactIndex,calledToNumber:this.props.location.state.calledToNumber,initialTranscription:this.state.transcription}),!1===this.props.callState.calling&&"Trying to connect"===this.props.callState.status&&u.default.createElement("div",null,u.default.createElement(k.Redirect,{to:{pathname:"/callprep/"+this.state.customer.id,state:{openContacts:!1,toCallCustomers:this.props.location.state.toCallCustomers}}})))}}]),t}(c.Component),ge=function(e){return{user:e.personalDetails,callState:e.callState,transcription:e.transcription,customers:e.customers}},ye=function(e){return{changeCallState:function(t){return e((0,E.changeCallState)(t))},changeStatus:function(t){return e((0,E.changeStatus)(t))},changeTranscription:function(t){return e((0,E.changeTranscription)(t))},callLog:function(t){return e((0,S.addInitialCallLog)(t))}}},be=(0,ue.default)(fe,pe.default);t.default=(0,O.connect)(ge,ye)((0,d.withStyles)(be,{withTheme:!0})(ve))},6077:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(72),o=a(93),r=a(183),i=a(94),l=a(184),s=a(186),c=a(121),u=a(187),d=a(185),p=a(188),m=a(356),f=a(357),h=a(358),v=a(359),g=a(360),y=a(361),b=a(362),C=a(189),E=a(363),S=a(364),O=a(365),w=a(366),x=a(367),k=a(120),I=a(95),D=a(47),T=a(122),N=function(){function e(e){var t=(void 0===e?{}:e).locale;this.dateTime12hFormat="MMMM do hh:mm aaaa",this.dateTime24hFormat="MMMM do HH:mm",this.time12hFormat="hh:mm a",this.time24hFormat="HH:mm",this.dateFormat="MMMM do",this.locale=t}return e.prototype.addDays=function(e,t){return Object(n.a)(e,t)},e.prototype.isValid=function(e){return Object(C.a)(e)},e.prototype.getDiff=function(e,t){return Object(i.a)(e,t)},e.prototype.isAfter=function(e,t){return Object(v.a)(e,t)},e.prototype.isBefore=function(e,t){return Object(g.a)(e,t)},e.prototype.startOfDay=function(e){return Object(k.a)(e)},e.prototype.endOfDay=function(e){return Object(s.a)(e)},e.prototype.getHours=function(e){return Object(m.a)(e)},e.prototype.setHours=function(e,t){return Object(S.a)(e,t)},e.prototype.setMinutes=function(e,t){return Object(O.a)(e,t)},e.prototype.getSeconds=function(e){return Object(f.a)(e)},e.prototype.setSeconds=function(e,t){return Object(w.a)(e,t)},e.prototype.isSameDay=function(e,t){return Object(b.a)(e,t)},e.prototype.getStartOfMonth=function(e){return Object(I.a)(e)},e.prototype.getYear=function(e){return Object(h.a)(e)},e.prototype.setYear=function(e,t){return Object(x.a)(e,t)},e.prototype.date=function(e){return void 0===e?new Date:null===e?null:new Date(e)},e.prototype.parse=function(e,t){return""===e?null:Object(E.a)(e,t,new Date)},e.prototype.format=function(e,t){return Object(p.a)(e,t,{locale:this.locale})},e.prototype.isEqual=function(e,t){return null===e&&null===t||Object(y.a)(e,t)},e.prototype.isNull=function(e){return null===e},e.prototype.isAfterDay=function(e,t){return Object(v.a)(e,Object(s.a)(t))},e.prototype.isBeforeDay=function(e,t){return Object(g.a)(e,Object(k.a)(t))},e.prototype.isBeforeYear=function(e,t){return Object(g.a)(e,Object(T.a)(t))},e.prototype.isAfterYear=function(e,t){return Object(v.a)(e,Object(d.a)(t))},e.prototype.formatNumber=function(e){return e},e.prototype.getMinutes=function(e){return e.getMinutes()},e.prototype.getMonth=function(e){return e.getMonth()},e.prototype.getMeridiemText=function(e){return"am"===e?"AM":"PM"},e.prototype.getNextMonth=function(e){return Object(o.a)(e,1)},e.prototype.getPreviousMonth=function(e){return Object(o.a)(e,-1)},e.prototype.mergeDateAndTime=function(e,t){return this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t))},e.prototype.getWeekdays=function(){var e=this,t=new Date;return Object(l.a)({start:Object(D.a)(t,{locale:this.locale}),end:Object(u.a)(t,{locale:this.locale})},{locale:this.locale}).map(function(t){return Object(p.a)(t,"EEEEEE",{locale:e.locale})})},e.prototype.getWeekArray=function(e){for(var t=Object(D.a)(Object(I.a)(e),{locale:this.locale}),a=Object(u.a)(Object(c.a)(e),{locale:this.locale}),o=0,r=t,i=[];Object(g.a)(r,a);){var l=Math.floor(o/7);i[l]=i[l]||[],i[l].push(r),r=Object(n.a)(r,1),o+=1}return i},e.prototype.getYearRange=function(e,t){for(var a=Object(T.a)(e),n=Object(d.a)(t),o=[],i=a;Object(g.a)(i,n);)o.push(i),i=Object(r.a)(i,1);return o},e.prototype.getCalendarHeaderText=function(e){return Object(p.a)(e,"MMMM yyyy",{locale:this.locale})},e.prototype.getYearText=function(e){return Object(p.a)(e,"yyyy",{locale:this.locale})},e.prototype.getDatePickerHeaderText=function(e){return Object(p.a)(e,"EEE, MMM d",{locale:this.locale})},e.prototype.getDateTimePickerHeaderText=function(e){return Object(p.a)(e,"MMM d",{locale:this.locale})},e.prototype.getDayText=function(e){return Object(p.a)(e,"d",{locale:this.locale})},e.prototype.getHourText=function(e,t){return Object(p.a)(e,t?"hh":"HH",{locale:this.locale})},e.prototype.getMinuteText=function(e){return Object(p.a)(e,"mm",{locale:this.locale})},e.prototype.getSecondText=function(e){return Object(p.a)(e,"ss",{locale:this.locale})},e}();t.default=N},6078:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"DatePicker",function(){return Ye}),a.d(t,"InlineDatePicker",function(){return Qe}),a.d(t,"TimePicker",function(){return kt}),a.d(t,"InlineTimePicker",function(){return Tt}),a.d(t,"DateTimePicker",function(){return Vt}),a.d(t,"InlineDateTimePicker",function(){return Yt}),a.d(t,"BasePicker",function(){return ie}),a.d(t,"Calendar",function(){return Fe}),a.d(t,"Day",function(){return Pe}),a.d(t,"TimePickerView",function(){return Et}),a.d(t,"Clock",function(){return mt}),a.d(t,"MuiPickersUtilsProvider",function(){return te});var n=a(6090),o=a(4),r=(a.n(o),a(0)),i=(a.n(r),a(6091)),l=a.n(i),s=a(345),c=a.n(s),u=a(35),d=a.n(u),p=a(346),m=a.n(p),f=a(166),h=a.n(f),v=a(43),g=a.n(v),y=a(169),b=a.n(y),C=a(172),E=a.n(C),S=a(344),O=a.n(S),w=a(19),x=(a.n(w),a(8)),k=a.n(x),I=a(36),D=a.n(I),T=a(56),N=a.n(T),P=a(339),A=a.n(P),j=a(9),M=a.n(j),F=a(180),R=a.n(F),B=a(21),_=a.n(B),L=a(6092),H=(a.n(L),a(20)),U=(a.n(H),a(87)),W=a.n(U),V=a(33),z=a.n(V),Y=a(45),K=a.n(Y),q=a(330),G=a.n(q),X=a(331),J=a.n(X),Q=Object(r.createContext)(null),Z=Q.Consumer,$=Q.Provider,ee=Z,te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={utils:null},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return{utils:new(0,e.utils)({locale:e.locale,moment:e.moment})}},t.prototype.render=function(){return Object(r.createElement)($,{value:this.state.utils,children:this.props.children})},t.defaultProps={locale:void 0,moment:void 0},t}(r.Component),ae=function(e){if(!e)throw new Error("Can not find utils in context. You either a) forgot to wrap your component tree in MuiPickersUtilsProvider; or b) mixed named and direct file imports.  Recommendation: use named imports from the module index.")},ne=function(){return function(e){var t=function(t){return Object(r.createElement)(ee,null,function(a){return ae(a),Object(r.createElement)(e,Object(n.a)({utils:a},t))})};return t.displayName="WithUtils("+(e.displayName||e.name)+")",t}},oe=function(e){var t=e.utils,a=e.value,n=e.initialFocusedDate,o=a||n||t.date(),r=t.date(o);return t.isValid(r)?r:t.date()},re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={date:oe(t.props),isAccepted:!1},t.changeDate=function(e,a){return t.setState({date:e},a)},t.handleAcceptedChange=function(e,a){return t.setState({isAccepted:e},a)},t.handleClear=function(){return t.props.onChange(null)},t.handleAccept=function(){return t.props.onChange(t.state.date)},t.handleSetTodayDate=function(){return t.handleChange(t.props.utils.date(),!1)},t.handleTextFieldChange=function(e){var a=t.props,n=a.onChange,o=a.utils;a.mergePreviousDateOnChange&&(e=o.mergeDateAndTime(t.state.date,e)),null===e?n(null):t.changeDate(e,function(){return n(e)})},t.pick12hOr24hFormat=function(e,a){var n=t.props,o=n.format,r=n.ampm;return o||(r?e:a)},t.handleChange=function(e,a){void 0===a&&(a=!0);var n=t.props,o=n.autoOk,r=n.onChange;t.changeDate(e,function(){a&&o&&(r(e),t.handleAcceptedChange(!0,function(){return t.handleAcceptedChange(!1)}))})},t.handleDismiss=function(){t.setState({date:oe(t.props)})},t}return Object(n.b)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,a=t.utils,n=t.value,o=t.initialFocusedDate;e.value===n&&e.utils.locale===a.locale&&e.initialFocusedDate===o||this.changeDate(oe(this.props))},t.prototype.render=function(){return this.props.children(Object(n.a)({},this.state,{utils:this.props.utils,changeDate:this.changeDate,handleAcceptedChange:this.handleAcceptedChange,handleClear:this.handleClear,handleAccept:this.handleAccept,handleDismiss:this.handleDismiss,handleSetTodayDate:this.handleSetTodayDate,handleTextFieldChange:this.handleTextFieldChange,pick12hOr24hFormat:this.pick12hOr24hFormat,handleChange:this.handleChange}))},t}(r.Component),ie=ne()(re),le=(Object(o.oneOfType)([o.object,o.string,o.number,Object(o.instanceOf)(Date)]),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.inputRef,a=e.keepCharPositions,o=Object(n.c)(e,["inputRef","keepCharPositions"]);return this.props.mask?Object(r.createElement)(l.a,Object(n.a)({},o,{keepCharPositions:a,ref:t})):Object(r.createElement)("input",Object(n.a)({},o,{ref:t}))},t.defaultProps={mask:void 0},t}(r.PureComponent)),se=function(e){var t=e.utils,a=e.value,n=e.format,o=e.invalidLabel,r=e.emptyLabel,i=e.labelFunc,l=null===a,s=t.date(a);return i?i(l?null:s,o):l?r:t.isValid(s)?t.format(s,n):o},ce=function(e,t){var a=t.utils,n=t.maxDate,o=t.minDate,r=t.disablePast,i=t.disableFuture,l=t.maxDateMessage,s=t.minDateMessage,c=t.invalidDateMessage;return a.isValid(e)?n&&a.isAfter(e,a.endOfDay(a.date(n)))||i&&a.isAfter(e,a.endOfDay(a.date()))?l:o&&a.isBefore(e,a.startOfDay(a.date(o)))||r&&a.isBefore(e,a.startOfDay(a.date()))?s:"":a.isNull(e)?"":c},ue=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.state=t.updateState(a.props),a.commitUpdates=function(e){var n=a.props,o=n.onChange,r=n.clearable,i=n.onClear,l=n.utils,s=n.format,c=n.onError;if(""===e)return void(null===a.props.value?a.setState(t.updateState(a.props)):r&&i&&i());var u=l.date(a.state.value),d=l.parse(e,s),p=ce(d,a.props);a.setState({error:p,displayValue:e,value:p?d:u},function(){p||l.isEqual(d,u)||o(d),p&&c&&c(d,p)})},a.handleBlur=function(e){a.props.keyboard&&(e.preventDefault(),e.stopPropagation(),a.commitUpdates(e.target.value),a.props.onBlur&&a.props.onBlur(e))},a.handleChange=function(e){var t=a.props,n=t.utils,o=t.format,r=t.onInputChange,i=n.parse(e.target.value,o);r&&r(e),a.setState({displayValue:e.target.value,error:ce(i,a.props)})},a.handleFocus=function(e){e.stopPropagation(),e.preventDefault(),a.props.keyboard||a.openPicker(e)},a.handleKeyPress=function(e){"Enter"===e.key&&(a.props.disableOpenOnEnter?a.commitUpdates(e.target.value):a.openPicker(e))},a.openPicker=function(e){var t=a.props,n=t.disabled,o=t.onClick;n||o(e)},a}return Object(n.b)(t,e),t.prototype.componentDidUpdate=function(e){this.props.utils.isEqual(this.props.value,e.value)&&e.format===this.props.format&&e.maxDate===this.props.maxDate&&e.minDate===this.props.minDate&&e.emptyLabel===this.props.emptyLabel&&e.utils===this.props.utils||this.setState(t.updateState(this.props))},t.prototype.render=function(){var e=this.props,t=e.adornmentPosition,a=(e.clearable,e.disabled),o=(e.disableFuture,e.disableOpenOnEnter,e.disablePast,e.emptyLabel,e.format,e.InputAdornmentProps),i=e.InputProps,l=(e.invalidDateMessage,e.invalidLabel,e.keyboard),s=e.keyboardIcon,u=(e.labelFunc,e.mask),p=(e.maxDate,e.maxDateMessage,e.minDate,e.minDateMessage,e.onBlur,e.onClear,e.onClick,e.pipe),f=e.keepCharPositions,h=e.TextFieldComponent,v=(e.utils,e.value,e.onInputChange,Object(n.c)(e,["adornmentPosition","clearable","disabled","disableFuture","disableOpenOnEnter","disablePast","emptyLabel","format","InputAdornmentProps","InputProps","invalidDateMessage","invalidLabel","keyboard","keyboardIcon","labelFunc","mask","maxDate","maxDateMessage","minDate","minDateMessage","onBlur","onClear","onClick","pipe","keepCharPositions","TextFieldComponent","utils","value","onInputChange"])),g=this.state,y=g.displayValue,b=g.error,C={inputComponent:le,inputProps:{mask:l?u:null,pipe:l?p:null,keepCharPositions:l?f:void 0,readOnly:!l}};l&&(C[t+"Adornment"]=Object(r.createElement)(m.a,Object(n.a)({position:t},o),Object(r.createElement)(d.a,{disabled:a,onClick:this.openPicker},Object(r.createElement)(c.a,null," ",s," "))));var E=h,S=Object(n.a)({},C,i);return Object(r.createElement)(E,Object(n.a)({onClick:this.handleFocus,error:!!b,helperText:b,onKeyPress:this.handleKeyPress,onBlur:this.handleBlur,disabled:a,value:y},v,{onError:void 0,onChange:this.handleChange,InputProps:S}))},t.defaultProps={disabled:!1,invalidLabel:"Unknown",emptyLabel:"",value:new Date,labelFunc:void 0,format:void 0,InputProps:void 0,keyboard:!1,mask:void 0,keyboardIcon:"event",disableOpenOnEnter:!1,invalidDateMessage:"Invalid Date Format",clearable:!1,onBlur:void 0,onClear:void 0,disablePast:!1,disableFuture:!1,onError:void 0,onInputChange:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",minDateMessage:"Date should not be before minimal date",maxDateMessage:"Date should not be after maximal date",TextFieldComponent:h.a,InputAdornmentProps:{},adornmentPosition:"end",pipe:void 0,keepCharPositions:!1},t.updateState=function(e){return{value:e.value,displayValue:se(e),error:ce(e.utils.date(e.value),e)}},t}(r.PureComponent),de=ne()(ue),pe=function(e){var t,a,o,i=e.children,l=e.classes,s=e.onKeyDown,c=e.onAccept,u=e.onDismiss,d=e.onClear,p=e.onSetToday,m=e.okLabel,f=e.cancelLabel,h=e.clearLabel,v=e.todayLabel,y=e.clearable,C=e.showTodayButton,S=e.showTabs,w=Object(n.c)(e,["children","classes","onKeyDown","onAccept","onDismiss","onClear","onSetToday","okLabel","cancelLabel","clearLabel","todayLabel","clearable","showTodayButton","showTabs"]);return Object(r.createElement)(b.a,Object(n.a)({role:"dialog",onClose:u,classes:{paper:k()(l.dialogRoot,(t={},t[l.dialogWithTabs]=S,t))}},w),Object(r.createElement)(D.a,{target:"window",onKeyDown:s}),Object(r.createElement)(O.a,{children:i,className:k()(l.dialog,(a={},a[l.dialogWithTabs]=S,a))}),Object(r.createElement)(E.a,{classes:{root:y||C?l.dialogActions:void 0,action:k()(l.dialogAction,(o={},o[l.clearableDialogAction]=y,o[l.todayDialogAction]=!y&&C,o))}},y&&Object(r.createElement)(g.a,{color:"primary",onClick:d},h),!y&&C&&Object(r.createElement)(g.a,{color:"primary",onClick:p},v),Object(r.createElement)(g.a,{color:"primary",onClick:u},f),Object(r.createElement)(g.a,{color:"primary",onClick:c},m)))};pe.displayName="ModalDialog";var me=Object(w.createStyles)({dialogRoot:{minWidth:310,minHeight:405},dialog:{width:310,minHeight:405,overflow:"hidden","&:first-child":{padding:0}},dialogWithTabs:{minHeight:455},dialogActions:{justifyContent:"flex-start"},clearableDialogAction:{"&:first-child":{marginRight:"auto"}},todayDialogAction:{"&:first-child":{marginRight:"auto"}},dialogAction:{}}),fe=Object(w.withStyles)(me,{name:"MuiPickersModal"})(pe),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1},t.handleKeyDown=function(e){switch(N()(e)){case"enter":t.handleAccept();break;default:return}e.preventDefault()},t.handleSetTodayDate=function(){t.props.onSetToday&&t.props.onSetToday()},t.open=function(){t.setState({open:!0}),t.props.onOpen&&t.props.onOpen()},t.close=function(){t.setState({open:!1}),t.props.onClose&&t.props.onClose()},t.handleAccept=function(){t.close(),t.props.onAccept&&t.props.onAccept()},t.handleDismiss=function(){t.close(),t.props.onDismiss&&t.props.onDismiss()},t.handleClear=function(){t.close(),t.props.onClear&&t.props.onClear()},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return e.isAccepted?{open:!1}:null},t.prototype.render=function(){var e=this.props,t=e.value,a=e.format,o=e.children,i=(e.onAccept,e.onDismiss,e.invalidLabel),l=e.labelFunc,s=e.okLabel,c=e.cancelLabel,u=e.clearLabel,d=e.clearable,p=e.todayLabel,m=e.showTodayButton,f=(e.onOpen,e.onClose,e.onSetToday,e.isAccepted,e.DialogProps),h=e.showTabs,v=Object(n.c)(e,["value","format","children","onAccept","onDismiss","invalidLabel","labelFunc","okLabel","cancelLabel","clearLabel","clearable","todayLabel","showTodayButton","onOpen","onClose","onSetToday","isAccepted","DialogProps","showTabs"]);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(de,Object(n.a)({value:t,format:a,onClick:this.open,invalidLabel:i,labelFunc:l,clearable:d},v)),Object(r.createElement)(fe,Object(n.a)({showTabs:h,open:this.state.open,onKeyDown:this.handleKeyDown,onClear:this.handleClear,onAccept:this.handleAccept,onDismiss:this.handleDismiss,onSetToday:this.handleSetTodayDate,clearLabel:u,todayLabel:p,okLabel:s,cancelLabel:c,clearable:d,showTodayButton:m,children:o},f)))},t.defaultProps={invalidLabel:void 0,value:new Date,labelFunc:void 0,okLabel:"OK",cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",clearable:!1,showTodayButton:!1,format:void 0,onAccept:void 0,onDismiss:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,onSetToday:void 0,DialogProps:void 0,isAccepted:!1},t}(r.PureComponent),ve=function(e){var t=e.children,a=e.className,o=e.classes,i=Object(n.c)(e,["children","className","classes"]);return Object(r.createElement)(R.a,Object(n.a)({className:k()(o.toolbar,a)},i),t)};ve.defaultProps={className:""};var ge=function(e){return A()({toolbar:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",height:100,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default}})},ye=M()(ge,{name:"MuiPickersToolbar"})(ve),be=function(e){var t,a=e.classes,o=e.selected,i=e.label,l=e.className,s=Object(n.c)(e,["classes","selected","label","className"]);return Object(r.createElement)(_.a,Object(n.a)({className:k()(a.toolbarBtn,l,(t={},t[a.toolbarBtnSelected]=o,t))},s),i)};be.defaultProps={className:""};var Ce=function(e){return{toolbarBtn:{cursor:"pointer",color:"rgba(255, 255, 255, 0.54)"},toolbarBtnSelected:{color:e.palette.common.white}}},Ee=M()(Ce,{name:"MuiPickersToolbarButton"})(be),Se=function(e){var t=e.date,a=e.utils,n=e.minDate,o=e.maxDate,r=e.disableFuture,i=e.disablePast,l=e.shouldDisableDate,s=a.startOfDay(a.date());n=n&&a.date(n),o=o&&a.date(o),i&&a.isBefore(n,s)&&(n=s),r&&a.isAfter(o,s)&&(o=s);var c=a.date(t),u=a.date(t);for(a.isBefore(t,n)&&(c=n,u=null),a.isAfter(t,o)&&(u&&(u=o),c=null);c||u;){if(c&&a.isAfter(c,o)&&(c=null),u&&a.isBefore(u,n)&&(u=null),c){if(!l(c))return c;c=a.addDays(c,1)}if(u){if(!l(u))return u;u=a.addDays(u,-1)}}return null},Oe=function(e){var t=e.classes,a=e.className,n=e.children,o=e.transKey,i=e.slideDirection;return Object(r.createElement)(L.TransitionGroup,{className:k()(t.transitionContainer,a)},Object(r.createElement)(L.CSSTransition,{key:o,mountOnEnter:!0,unmountOnExit:!0,timeout:350,children:n,classNames:{enter:t["slideEnter-"+i],enterActive:t.slideEnterActive,exit:t.slideExit,exitActive:t["slideExitActiveLeft-"+i]}}))};Oe.defaultProps={className:void 0};var we=function(e){var t=e.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return A()({transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:t},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-200%)",transition:t},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(200%)",transition:t}})},xe=M()(we,{name:"MuiPickersSlideTransition"})(Oe),ke=function(e){var t=e.classes,a=e.theme,n=e.currentMonth,o=e.onMonthChange,i=e.leftArrowIcon,l=e.rightArrowIcon,s=e.disablePrevMonth,u=e.disableNextMonth,p=e.utils,m=e.slideDirection,f="rtl"===a.direction,h=function(){return o(p.getNextMonth(n),"left")},v=function(){return o(p.getPreviousMonth(n),"right")};return Object(r.createElement)("div",null,Object(r.createElement)("div",{className:t.switchHeader},Object(r.createElement)(d.a,{disabled:s,onClick:v,className:t.iconButton},Object(r.createElement)(c.a,null,f?l:i)),Object(r.createElement)(xe,{slideDirection:m,transKey:n.toString(),className:t.transitionContainer},Object(r.createElement)(_.a,{align:"center",variant:"body1"},p.getCalendarHeaderText(n))),Object(r.createElement)(d.a,{disabled:u,onClick:h,className:t.iconButton},Object(r.createElement)(c.a,null,f?i:l))),Object(r.createElement)("div",{className:t.daysHeader},p.getWeekdays().map(function(e,a){return Object(r.createElement)(_.a,{key:a,variant:"caption",className:t.dayLabel},e)})))};ke.defaultProps={leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",disablePrevMonth:!1,disableNextMonth:!1};var Ie=function(e){return A()({switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing.unit/2,marginBottom:e.spacing.unit},transitionContainer:{width:"100%",height:20},iconButton:{zIndex:2,backgroundColor:e.palette.background.paper,"& > *":{backgroundColor:e.palette.background.paper,"& > *":{zIndex:1,overflow:"visible"}}},daysHeader:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:16},dayLabel:{width:36,margin:"0 2px",textAlign:"center",color:e.palette.text.hint}})},De=M()(Ie,{withTheme:!0,name:"MuiPickersCalendarHeader"})(ne()(ke)),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.children,o=t.classes,i=t.disabled,l=t.hidden,s=t.current,c=t.selected,u=Object(n.c)(t,["children","classes","disabled","hidden","current","selected"]),p=k()(o.day,(e={},e[o.hidden]=l,e[o.current]=s,e[o.selected]=c,e[o.disabled]=i,e));return Object(r.createElement)(d.a,Object(n.a)({className:p,tabIndex:l||i?-1:0},u),a)},t.defaultProps={disabled:!1,hidden:!1,current:!1,selected:!1},t}(r.PureComponent),Ne=function(e){return A()({day:{width:36,height:36,fontSize:e.typography.caption.fontSize,margin:"0 2px",color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium,padding:0},hidden:{opacity:0,pointerEvents:"none"},current:{color:e.palette.primary.main,fontWeight:600},selected:{color:e.palette.common.white,backgroundColor:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{backgroundColor:e.palette.primary.main}},disabled:{pointerEvents:"none",color:e.palette.text.hint}})},Pe=M()(Ne,{name:"MuiPickersDay"})(Te),Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onSelect(t.props.value)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,a=(e.value,e.dayInCurrentMonth),o=e.disabled,i=(e.onSelect,Object(n.c)(e,["children","value","dayInCurrentMonth","disabled","onSelect"]));return Object(r.createElement)("div",Object(n.a)({onClick:a&&!o?this.handleClick:void 0,onKeyPress:a&&!o?this.handleClick:void 0,role:"presentation"},i),t)},t.defaultProps={dayInCurrentMonth:!0,disabled:!1},t}(r.PureComponent),je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={slideDirection:"left",currentMonth:t.props.utils.getStartOfMonth(t.props.date)},t.onDateSelect=function(e,a){void 0===a&&(a=!0);var n=t.props,o=n.date,r=n.utils;t.props.onChange(r.mergeDateAndTime(e,o),a)},t.handleChangeMonth=function(e,a){t.setState({currentMonth:e,slideDirection:a})},t.validateMinMaxDate=function(e){var a=t.props,n=a.minDate,o=a.maxDate,r=a.utils;return n&&r.isBeforeDay(e,r.date(n))||o&&r.isAfterDay(e,r.date(o))},t.shouldDisablePrevMonth=function(){var e=t.props,a=e.utils,n=e.disablePast,o=e.minDate,r=a.date();return!a.isBefore(a.getStartOfMonth(n&&a.isAfter(r,o)?r:a.date(o)),t.state.currentMonth)},t.shouldDisableNextMonth=function(){var e=t.props,a=e.utils,n=e.disableFuture,o=e.maxDate,r=a.date();return!a.isAfter(a.getStartOfMonth(n&&a.isBefore(r,o)?r:a.date(o)),t.state.currentMonth)},t.shouldDisableDate=function(e){var a=t.props,n=a.disablePast,o=a.disableFuture,r=a.shouldDisableDate,i=a.utils;return Boolean(o&&i.isAfterDay(e,i.date())||n&&i.isBeforeDay(e,i.date())||t.validateMinMaxDate(e)||r&&r(e))},t.moveToDay=function(e){e&&!t.shouldDisableDate(e)&&t.onDateSelect(e,!1)},t.handleKeyDown=function(e){var a=t.props,n=a.theme,o=a.date,r=a.utils;switch(N()(e)){case"up":t.moveToDay(r.addDays(o,-7));break;case"down":t.moveToDay(r.addDays(o,7));break;case"left":"ltr"===n.direction?t.moveToDay(r.addDays(o,-1)):t.moveToDay(r.addDays(o,1));break;case"right":"ltr"===n.direction?t.moveToDay(r.addDays(o,1)):t.moveToDay(r.addDays(o,-1));break;default:return}e.preventDefault()},t.renderWeeks=function(){var e=t.props.utils,a=t.state.currentMonth;return e.getWeekArray(a).map(function(e){return Object(r.createElement)("div",{key:"week-"+e[0].toString(),className:t.props.classes.week},t.renderDays(e))})},t.renderDays=function(e){var a=t.props,n=a.date,o=a.renderDay,i=a.utils,l=i.startOfDay(n),s=i.getMonth(t.state.currentMonth),c=i.date();return e.map(function(e){var a=t.shouldDisableDate(e),n=i.getMonth(e)===s,u=Object(r.createElement)(Pe,{current:i.isSameDay(e,c),hidden:!n,disabled:a,selected:i.isSameDay(l,e)},i.getDayText(e));return o&&(u=o(e,l,n,u)),Object(r.createElement)(Ae,{key:e.toString(),value:e,dayInCurrentMonth:n,disabled:a,onSelect:t.onDateSelect},u)})},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e,t){return e.utils.isEqual(e.date,t.lastDate)?null:{lastDate:e.date,currentMonth:e.utils.getStartOfMonth(e.date)}},t.prototype.componentDidMount=function(){var e=this.props,t=e.date,a=e.minDate,n=e.maxDate,o=e.utils,r=e.disablePast;if(this.shouldDisableDate(t)){var i=Se({date:t,utils:o,minDate:a,maxDate:n,disablePast:Boolean(r),disableFuture:Boolean(r),shouldDisableDate:this.shouldDisableDate});this.onDateSelect(i||a,!1)}},t.prototype.render=function(){var e=this.state,t=e.currentMonth,a=e.slideDirection,n=this.props,o=n.classes,i=n.allowKeyboardControl;return Object(r.createElement)(r.Fragment,null,i&&Object(r.createElement)(D.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(r.createElement)(De,{slideDirection:a,currentMonth:t,onMonthChange:this.handleChangeMonth,leftArrowIcon:this.props.leftArrowIcon,rightArrowIcon:this.props.rightArrowIcon,disablePrevMonth:this.shouldDisablePrevMonth(),disableNextMonth:this.shouldDisableNextMonth()}),Object(r.createElement)(xe,{slideDirection:a,transKey:t.toString(),className:o.transitionContainer},Object(r.createElement)("div",{autoFocus:!0},this.renderWeeks())))},t.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,allowKeyboardControl:!1,shouldDisableDate:function(){return!1}},t}(r.Component),Me=function(e){return{transitionContainer:{minHeight:216,marginTop:1.5*e.spacing.unit},week:{display:"flex",justifyContent:"center"}}},Fe=M()(Me,{name:"MuiPickersCalendar",withTheme:!0})(ne()(je)),Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onSelect(t.props.value)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.classes,o=t.selected,i=t.disabled,l=(t.value,t.children),s=Object(n.c)(t,["classes","selected","disabled","value","children"]);return Object(r.createElement)(_.a,Object(n.a)({role:"button",component:"div",className:k()(a.root,(e={},e[a.selected]=o,e[a.disabled]=i,e)),tabIndex:i?-1:0,onClick:this.handleClick,onKeyPress:this.handleClick,color:o?"primary":"default",variant:o?"h5":"subtitle1"},s),l)},t.defaultProps={selected:!1,disabled:!1},t}(r.PureComponent),Be=function(e){return A()({root:{height:5*e.spacing.unit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none","&:focus":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium}},selected:{margin:"10px 0",fontWeight:e.typography.fontWeightMedium},disabled:{pointerEvents:"none",color:e.palette.text.hint}})},_e=M()(Be,{name:"MuiPickersYear"})(Re),Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedYearRef=void 0,t.getSelectedYearRef=function(e){t.selectedYearRef=e},t.scrollToCurrentYear=function(e){var a=t.props.animateYearScrolling,n=Object(H.findDOMNode)(e);n&&n.scrollIntoView&&(a?setTimeout(function(){return n.scrollIntoView({behavior:"smooth"})},100):n.scrollIntoView())},t.onYearSelect=function(e){var a=t.props,n=a.date;(0,a.onChange)(a.utils.setYear(n,e))},t}return Object(n.b)(t,e),t.prototype.componentDidMount=function(){this.selectedYearRef&&this.scrollToCurrentYear(this.selectedYearRef)},t.prototype.render=function(){var e=this,t=this.props,a=t.minDate,n=t.maxDate,o=t.date,i=t.classes,l=t.disablePast,s=t.disableFuture,c=t.utils,u=c.getYear(o);return Object(r.createElement)("div",{className:i.container},c.getYearRange(a,n).map(function(t){var a=c.getYear(t),n=a===u;return Object(r.createElement)(_e,{key:c.getYearText(t),selected:n,value:a,onSelect:e.onYearSelect,ref:n?e.getSelectedYearRef:void 0,disabled:l&&c.isBeforeYear(t,c.date())||s&&c.isAfterYear(t,c.date())},c.getYearText(t))}))},t.defaultProps={animateYearScrolling:!1},t}(r.PureComponent),He=A()({container:{maxHeight:300,overflowY:"auto",justifyContent:"center"}}),Ue=M()(He,{name:"MuiPickersYearSelection"})(ne()(Le)),We=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showYearSelection:Boolean(t.props.openToYearSelection)},t.handleYearSelect=function(e){t.props.onChange(e,!1),t.openCalendar()},t.openYearSelection=function(){t.setState({showYearSelection:!0})},t.openCalendar=function(){t.setState({showYearSelection:!1})},t}return Object(n.b)(t,e),Object.defineProperty(t.prototype,"date",{get:function(){return this.props.date},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this.props.utils.date(this.props.minDate)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this.props.utils.date(this.props.maxDate)},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.state.showYearSelection,t=this.props,a=t.disablePast,n=t.disableFuture,o=t.onChange,i=t.animateYearScrolling,l=t.leftArrowIcon,s=t.rightArrowIcon,c=t.renderDay,u=t.utils,d=t.shouldDisableDate,p=t.allowKeyboardControl;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(ye,null,Object(r.createElement)(Ee,{variant:"subtitle1",onClick:this.openYearSelection,selected:e,label:u.getYearText(this.date)}),Object(r.createElement)(Ee,{variant:"h4",onClick:this.openCalendar,selected:!e,label:u.getDatePickerHeaderText(this.date)})),this.props.children,e?Object(r.createElement)(Ue,{date:this.date,onChange:this.handleYearSelect,minDate:this.minDate,maxDate:this.maxDate,disablePast:a,disableFuture:n,animateYearScrolling:i}):Object(r.createElement)(Fe,{date:this.date,onChange:o,disablePast:a,disableFuture:n,minDate:this.minDate,maxDate:this.maxDate,leftArrowIcon:l,rightArrowIcon:s,renderDay:c,shouldDisableDate:d,allowKeyboardControl:p}))},t.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,allowKeyboardControl:!1,animateYearScrolling:void 0,openToYearSelection:!1,children:null,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,shouldDisableDate:void 0},t}(r.PureComponent),Ve=ne()(We),ze=function(e){var t=e.allowKeyboardControl,a=e.animateYearScrolling,o=(e.autoOk,e.disableFuture),i=e.disablePast,l=e.format,s=e.forwardedRef,c=e.labelFunc,u=e.leftArrowIcon,d=e.maxDate,p=e.minDate,m=(e.initialFocusedDate,e.onChange,e.openToYearSelection),f=e.renderDay,h=e.rightArrowIcon,v=e.shouldDisableDate,g=e.value,y=Object(n.c)(e,["allowKeyboardControl","animateYearScrolling","autoOk","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value"]);return Object(r.createElement)(ie,Object(n.a)({},e),function(e){var b=e.date,C=e.utils,E=e.handleAccept,S=e.handleChange,O=e.handleClear,w=e.handleDismiss,x=e.handleSetTodayDate,k=e.handleTextFieldChange,I=e.isAccepted;return Object(r.createElement)(he,Object(n.a)({disableFuture:o,disablePast:i,format:l||C.dateFormat,labelFunc:c,maxDate:d,minDate:p,onAccept:E,onChange:k,onClear:O,onDismiss:w,onSetToday:x,ref:s,value:g,isAccepted:I},y),Object(r.createElement)(Ve,{date:b,allowKeyboardControl:t,animateYearScrolling:a,disableFuture:o,disablePast:i,leftArrowIcon:u,maxDate:d,minDate:p,onChange:S,openToYearSelection:m,renderDay:f,rightArrowIcon:h,shouldDisableDate:v}))})};ze.defaultProps={value:new Date,format:void 0,autoOk:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0};var Ye=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(ze,Object(n.a)({},e,{forwardedRef:t}))}),Ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={anchorEl:null},t.open=function(e){t.setState({anchorEl:e.currentTarget}),t.props.onOpen&&t.props.onOpen()},t.close=function(){t.setState({anchorEl:null}),t.props.handleAccept(),t.props.onClose&&t.props.onClose()},t.handleKeyDown=function(e){switch(N()(e)){case"enter":t.props.handleAccept(),t.close();break;default:return}e.preventDefault()},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return e.isAccepted?{anchorEl:null}:null},t.prototype.render=function(){var e=this.props,t=e.value,a=e.format,o=e.children,i=(e.onOpen,e.onClose,e.PopoverProps),l=(e.isAccepted,e.keyboard),s=(e.onlyCalendar,e.classes),c=(e.handleAccept,Object(n.c)(e,["value","format","children","onOpen","onClose","PopoverProps","isAccepted","keyboard","onlyCalendar","classes","handleAccept"])),u=Boolean(this.state.anchorEl);return Object(r.createElement)(r.Fragment,null,u&&Object(r.createElement)(D.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(r.createElement)(de,Object(n.a)({value:t,format:a,onClick:this.open,keyboard:l},c)),Object(r.createElement)(W.a,Object(n.a)({id:"picker-popover",open:u,anchorEl:this.state.anchorEl,onClose:this.close,classes:{paper:s.popoverPaper},anchorOrigin:{vertical:"bottom",horizontal:l?"right":"center"},transformOrigin:{vertical:"top",horizontal:l?"right":"center"},children:o},i)))},t.defaultProps={value:new Date,labelFunc:void 0,onlyCalendar:!1,format:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,PopoverProps:void 0,isAccepted:!1,keyboard:void 0},t}(r.PureComponent),qe={popoverPaper:{maxWidth:310,minWidth:290,paddingBottom:8}},Ge=M()(qe)(Ke),Xe=function(e){var t=e.allowKeyboardControl,a=e.animateYearScrolling,o=e.disableFuture,i=e.disablePast,l=e.format,s=e.forwardedRef,c=e.labelFunc,u=e.leftArrowIcon,d=e.maxDate,p=e.minDate,m=(e.initialFocusedDate,e.onChange,e.openToYearSelection),f=e.renderDay,h=e.rightArrowIcon,v=e.shouldDisableDate,g=e.value,y=(e.autoOk,e.onlyCalendar),b=Object(n.c)(e,["allowKeyboardControl","animateYearScrolling","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value","autoOk","onlyCalendar"]),C=y?Fe:Ve;return Object(r.createElement)(ie,Object(n.a)({},e,{autoOk:!0}),function(e){var y=e.date,E=e.utils,S=e.isAccepted,O=e.handleChange,w=e.handleTextFieldChange,x=e.handleAccept;return Object(r.createElement)(Ge,Object(n.a)({disableFuture:o,disablePast:i,format:l||E.dateFormat,labelFunc:c,maxDate:d,minDate:p,onChange:w,innerRef:s,value:g,isAccepted:S,handleAccept:x},b),Object(r.createElement)(C,{date:y,allowKeyboardControl:t,animateYearScrolling:a,disableFuture:o,disablePast:i,leftArrowIcon:u,maxDate:d,minDate:p,onChange:O,openToYearSelection:m,renderDay:f,rightArrowIcon:h,shouldDisableDate:v}))})};Xe.defaultProps={value:new Date,format:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0,autoOk:void 0,onlyCalendar:!1};var Je,Qe=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Xe,Object(n.a)({},e,{forwardedRef:t}))}),Ze={x:130,y:130},$e={x:Ze.x,y:0},et=$e.x-Ze.x,tt=$e.y-Ze.y,at=function(e){return 57.29577951308232*e},nt=function(e,t,a){var n=t-Ze.x,o=a-Ze.y,r=Math.atan2(et,tt)-Math.atan2(n,o),i=at(r);i=Math.round(i/e)*e,i%=360;var l=Math.floor(i/e)||0,s=Math.pow(n,2)+Math.pow(o,2);return{value:l,distance:Math.sqrt(s)}},ot=function(e,t,a){var n=nt(30,e,t),o=n.value,r=n.distance;return o=o||12,a?o%=12:r<90&&(o+=12,o%=24),o},rt=function(e,t,a){return void 0===a&&(a=6),nt(a,e,t).value},it=function(e,t,a,n){if(a){if((n.getHours(e)>=12?"pm":"am")!==t){var o="am"===t?n.getHours(e)-12:n.getHours(e)+12;return n.setHours(e,o)}}return e};!function(e){e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds"}(Je||(Je={}));var lt=Je,st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={toAnimateTransform:!1,previousType:void 0},t.getAngleStyle=function(){var e=t.props,a=e.value,n=e.isInner,o=e.type,r=o===lt.HOURS?12:60,i=360/r*a;return o===lt.HOURS&&a>12&&(i-=360),{height:n?"26%":"40%",transform:"rotateZ("+i+"deg)"}},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t,a=this.props,n=a.classes,o=a.hasSelected;return Object(r.createElement)("div",{style:this.getAngleStyle(),className:k()(n.pointer,(e={},e[n.animateTransform]=this.state.toAnimateTransform,e))},Object(r.createElement)("div",{className:k()(n.thumb,(t={},t[n.noPoint]=o,t))}))},t.getDerivedStateFromProps=function(e,t){return e.type!==t.previousType?{toAnimateTransform:!0,previousType:e.type}:{toAnimateTransform:!1,previousType:e.type}},t}(r.Component),ct=function(e){return A()({pointer:{width:2,backgroundColor:e.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},animateTransform:{transition:e.transitions.create(["transform","height"])},thumb:{width:4,height:4,backgroundColor:e.palette.common.white,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid "+e.palette.primary.main,boxSizing:"content-box"},noPoint:{backgroundColor:e.palette.primary.main}})},ut=M()(ct,{name:"MuiPickersClockPointer"})(st),dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isMoving=!1,t.handleTouchMove=function(e){t.isMoving=!0,t.setTime(e)},t.handleTouchEnd=function(e){t.isMoving&&(t.setTime(e,!0),t.isMoving=!1)},t.handleMove=function(e){e.preventDefault(),e.stopPropagation(),(void 0===e.buttons?1===e.nativeEvent.which:1===e.buttons)&&t.setTime(e.nativeEvent,!1)},t.handleMouseUp=function(e){t.isMoving&&(t.isMoving=!1),t.setTime(e.nativeEvent,!0)},t.hasSelected=function(){var e=t.props,a=e.type,n=e.value;return a===lt.HOURS||n%5==0},t}return Object(n.b)(t,e),t.prototype.setTime=function(e,t){void 0===t&&(t=!1);var a=e.offsetX,n=e.offsetY;if(void 0===a){var o=e.target.getBoundingClientRect();a=e.changedTouches[0].clientX-o.left,n=e.changedTouches[0].clientY-o.top}var r=this.props.type===lt.SECONDS||this.props.type===lt.MINUTES?rt(a,n):ot(a,n,Boolean(this.props.ampm));this.props.onChange(r,t)},t.prototype.render=function(){var e=this.props,t=e.classes,a=e.value,n=e.children,o=e.type,i=e.ampm,l=!i&&o===lt.HOURS&&(a<1||a>12);return Object(r.createElement)("div",{className:t.container},Object(r.createElement)("div",{className:t.clock},Object(r.createElement)("div",{role:"menu",tabIndex:-1,className:t.squareMask,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMove}),Object(r.createElement)("div",{className:t.pin}),Object(r.createElement)(ut,{type:o,value:a,isInner:l,hasSelected:this.hasSelected()}),n))},t.defaultProps={ampm:!1},t}(r.Component),pt=function(e){return A()({container:{display:"flex",justifyContent:"center",alignItems:"flex-end",margin:4*e.spacing.unit+"px 0 "+e.spacing.unit+"px"},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none",zIndex:1},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:"none",touchActions:"none",userSelect:"none","&:active":{cursor:"move"}},pin:{width:6,height:6,borderRadius:"50%",backgroundColor:e.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})},mt=M()(pt,{name:"MuiPickersClock"})(dt),ft={0:[0,40],1:[55,19.6],2:[94.4,59.5],3:[109,114],4:[94.4,168.5],5:[54.5,208.4],6:[0,223],7:[-54.5,208.4],8:[-94.4,168.5],9:[-109,114],10:[-94.4,59.5],11:[-54.5,19.6],12:[0,5],13:[36.9,49.9],14:[64,77],15:[74,114],16:[64,151],17:[37,178],18:[0,188],19:[-37,178],20:[-64,151],21:[-74,114],22:[-64,77],23:[-37,50]},ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getTransformStyle=function(e){var t=ft[e];return{transform:"translate("+t[0]+"px, "+t[1]+"px"}},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.selected,n=t.label,o=t.index,i=t.classes,l=t.isInner,s=k()(i.clockNumber,(e={},e[i.selected]=a,e));return Object(r.createElement)(_.a,{variant:l?"body1":"subtitle1",component:"span",className:s,style:this.getTransformStyle(o)},n)},t.defaultProps={isInner:!1},t}(r.Component),vt=function(e){var t=4*e.spacing.unit;return A()({clockNumber:{width:t,height:t,userSelect:"none",position:"absolute",left:"calc(50% - "+t/2+"px)",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"light"===e.palette.type?e.palette.text.primary:e.palette.text.hint},selected:{color:e.palette.common.white}})},gt=M()(vt,{name:"MuiPickersClockNumber"})(ht),yt=function(e){for(var t=e.ampm,a=e.utils,o=e.date,i=a.getHours(o),l=[],s=t?1:0,c=t?12:23,u=s;u<=c;u+=1){var d=u.toString();0===u&&(d="00");var p={index:u,label:a.formatNumber(d),selected:function(e){return t?12===e?12===i||0===i:i===e||i-12===e:i===e}(u),isInner:!t&&(0===u||u>12)};l.push(Object(r.createElement)(gt,Object(n.a)({key:u},p)))}return l},bt=function(e){var t=e.value,a=e.utils,n=a.formatNumber;return[Object(r.createElement)(gt,{label:n("00"),selected:0===t,index:12,key:12}),Object(r.createElement)(gt,{label:n("05"),selected:5===t,index:1,key:1}),Object(r.createElement)(gt,{label:n("10"),selected:10===t,index:2,key:2}),Object(r.createElement)(gt,{label:n("15"),selected:15===t,index:3,key:3}),Object(r.createElement)(gt,{label:n("20"),selected:20===t,index:4,key:4}),Object(r.createElement)(gt,{label:n("25"),selected:25===t,index:5,key:5}),Object(r.createElement)(gt,{label:n("30"),selected:30===t,index:6,key:6}),Object(r.createElement)(gt,{label:n("35"),selected:35===t,index:7,key:7}),Object(r.createElement)(gt,{label:n("40"),selected:40===t,index:8,key:8}),Object(r.createElement)(gt,{label:n("45"),selected:45===t,index:9,key:9}),Object(r.createElement)(gt,{label:n("50"),selected:50===t,index:10,key:10}),Object(r.createElement)(gt,{label:n("55"),selected:55===t,index:11,key:11})]},Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getViewProps=function(){var e=t.props,a=e.type,n=e.ampm,o=e.date,r=e.utils;switch(a){case lt.HOURS:return{value:r.getHours(o),children:yt({date:o,ampm:Boolean(n),utils:r}),onChange:t.handleHourChange};case lt.MINUTES:var i=r.getMinutes(o);return{value:i,children:bt({value:i,utils:r}),onChange:t.handleMinutesChange};case lt.SECONDS:var l=r.getSeconds(o);return{value:l,children:bt({value:l,utils:r}),onChange:t.handleSecondsChange};default:throw new Error("You must provide the type for TimePickerView")}},t.handleHourChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setHours(o,e);t.props.onHourChange(i,a)},t.handleMinutesChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setMinutes(o,e);t.props.onMinutesChange(i,a)},t.handleSecondsChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setSeconds(o,e);t.props.onSecondsChange(i,a)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.ampm,a=e.type,o=this.getViewProps();return Object(r.createElement)(mt,Object(n.a)({type:a,ampm:t},o))},t.defaultProps={ampm:!0},t}(r.PureComponent),Et=ne()(Ct),St=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openView:lt.HOURS,meridiemMode:t.props.utils.getHours(t.props.date)>=12?"pm":"am"},t.setMeridiemMode=function(e){return function(){t.setState({meridiemMode:e},function(){return t.handleChange({time:t.props.date,isFinish:!1,openMinutes:!1,openSeconds:!1})})}},t.handleChange=function(e){var a=e.time,n=e.isFinish,o=e.openMinutes,r=e.openSeconds,i=it(a,t.state.meridiemMode,Boolean(t.props.ampm),t.props.utils);if(n){if(!o&&!r)return void t.props.onChange(i,n);o&&t.openMinutesView(),r&&t.openSecondsView()}t.props.onChange(i,!1)},t.handleHourChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!0,openSeconds:!1})},t.handleMinutesChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!1,openSeconds:Boolean(t.props.seconds)})},t.handleSecondsChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!1,openSeconds:!1})},t.openSecondsView=function(){t.setState({openView:lt.SECONDS})},t.openMinutesView=function(){t.setState({openView:lt.MINUTES})},t.openHourView=function(){t.setState({openView:lt.HOURS})},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.classes,n=t.theme,o=t.date,i=t.utils,l=t.ampm,s=t.seconds,c=this.state,u=c.meridiemMode,d=c.openView,p="rtl"===n.direction,m=p?a.hourMinuteLabelReverse:a.hourMinuteLabel;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(ye,{className:k()(a.toolbar,(e={},e[a.toolbarLeftPadding]=l,e))},Object(r.createElement)("div",{className:m},Object(r.createElement)(Ee,{variant:"h2",onClick:this.openHourView,selected:d===lt.HOURS,label:i.getHourText(o,Boolean(l))}),Object(r.createElement)(Ee,{variant:"h2",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h2",onClick:this.openMinutesView,selected:d===lt.MINUTES,label:i.getMinuteText(o)}),s&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Ee,{variant:"h2",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h2",onClick:this.openSecondsView,selected:d===lt.SECONDS,label:i.getSecondText(o)}))),l&&Object(r.createElement)("div",{className:s?a.ampmSelectionWithSeconds:a.ampmSelection},Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"am"===u,variant:"subtitle1",label:i.getMeridiemText("am"),onClick:this.setMeridiemMode("am")}),Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"pm"===u,variant:"subtitle1",label:i.getMeridiemText("pm"),onClick:this.setMeridiemMode("pm")}))),this.props.children,Object(r.createElement)(Et,{date:o,type:this.state.openView,ampm:l,onHourChange:this.handleHourChange,onMinutesChange:this.handleMinutesChange,onSecondsChange:this.handleSecondsChange}))},t.defaultProps={children:null,ampm:!0,seconds:!1},t}(r.Component),Ot=function(){return A()({toolbar:{flexDirection:"row",alignItems:"center"},toolbarLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{marginLeft:20,marginRight:-20},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelReverse:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row-reverse"}})},wt=M()(Ot,{withTheme:!0,name:"MuiPickersTimePicker"})(ne()(St)),xt=function(e){var t=e.value,a=(e.format,e.autoOk,e.onChange,e.ampm),o=e.forwardedRef,i=e.seconds,l=Object(n.c)(e,["value","format","autoOk","onChange","ampm","forwardedRef","seconds"]);return Object(r.createElement)(ie,Object(n.a)({mergePreviousDateOnChange:!0},e),function(e){var s=e.date,c=e.utils,u=e.handleAccept,d=e.handleChange,p=e.handleClear,m=e.handleDismiss,f=e.handleSetTodayDate,h=e.handleTextFieldChange,v=e.isAccepted,g=e.pick12hOr24hFormat;return Object(r.createElement)(he,Object(n.a)({ref:o,value:t,onClear:p,onAccept:u,onChange:h,onDismiss:m,onSetToday:f,isAccepted:v,format:g(c.time12hFormat,c.time24hFormat)},l),Object(r.createElement)(wt,{date:s,onChange:d,ampm:a,seconds:i}))})};xt.defaultProps={value:new Date,format:void 0,autoOk:!1,ampm:!0,forwardedRef:void 0,seconds:!1};var kt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(xt,Object(n.a)({},e,{forwardedRef:t}))}),It=function(e){var t=e.value,a=(e.format,e.onChange,e.ampm),o=e.forwardedRef,i=e.seconds,l=Object(n.c)(e,["value","format","onChange","ampm","forwardedRef","seconds"]);return Object(r.createElement)(ie,Object(n.a)({mergePreviousDateOnChange:!0,autoOk:!0},e),function(e){var s=e.date,c=e.utils,u=e.handleChange,d=e.handleTextFieldChange,p=e.isAccepted,m=e.pick12hOr24hFormat,f=e.handleAccept;return Object(r.createElement)(Ge,Object(n.a)({innerRef:o,value:t,onChange:d,isAccepted:p,handleAccept:f,format:m(c.time12hFormat,c.time24hFormat)},l),Object(r.createElement)(wt,{date:s,onChange:u,ampm:a,seconds:i}))})};It.defaultProps={ampm:!0,value:new Date,format:void 0,forwardedRef:void 0,seconds:!1};var Dt,Tt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(It,Object(n.a)({},e,{forwardedRef:t}))});!function(e){e.YEAR="year",e.DATE="date",e.HOUR="hours",e.MINUTES="minutes"}(Dt||(Dt={}));var Nt=Dt,Pt=function(e){return A()({toolbar:{flexDirection:"row",alignItems:"center",paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{top:9,position:"relative",marginLeft:10,marginRight:-10},ampmLabel:{fontSize:18},hourMinuteLabel:{top:5,position:"relative",display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"rtl"===e.direction?"row-reverse":"row"},dateHeader:{height:60},timeHeader:{height:65,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}})},At=function(e){var t=e.date,a=e.classes,n=e.openView,o=e.meridiemMode,i=e.onOpenViewChange,l=e.setMeridiemMode,s=e.utils,c=e.ampm;return Object(r.createElement)(ye,{className:a.toolbar},Object(r.createElement)("div",{className:a.dateHeader},Object(r.createElement)(Ee,{variant:"subtitle1",onClick:function(){return i(Nt.YEAR)},selected:n===Nt.YEAR,label:s.getYearText(t)}),Object(r.createElement)(Ee,{variant:"h4",onClick:function(){return i(Nt.DATE)},selected:n===Nt.DATE,label:s.getDateTimePickerHeaderText(t)})),Object(r.createElement)("div",{className:a.timeHeader},Object(r.createElement)("div",{className:a.hourMinuteLabel},Object(r.createElement)(Ee,{variant:"h3",onClick:function(){return i(Nt.HOUR)},selected:n===Nt.HOUR,label:s.getHourText(t,c)}),Object(r.createElement)(Ee,{variant:"h3",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h3",onClick:function(){return i(Nt.MINUTES)},selected:n===Nt.MINUTES,label:s.getMinuteText(t)})),c&&Object(r.createElement)("div",{className:a.ampmSelection},Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"am"===o,variant:"subtitle1",label:s.getMeridiemText("am"),onClick:l("am")}),Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"pm"===o,variant:"subtitle1",label:s.getMeridiemText("pm"),onClick:l("pm")}))))};At.defaultProps={ampm:!0};var jt=M()(Pt,{name:"MuiPickerDTHeader"})(ne()(At)),Mt=function(e){return e===Nt.DATE||e===Nt.YEAR?"date":"time"},Ft=function(e){return"date"===e?Nt.DATE:Nt.HOUR},Rt=function(e){var t=e.view,a=e.onChange,n=e.classes,o=e.theme,i=e.dateRangeIcon,l=e.timeIcon,s="light"===o.palette.type?"secondary":"primary",u=function(e,n){n!==Mt(t)&&a(Ft(n))};return Object(r.createElement)(z.a,null,Object(r.createElement)(J.a,{fullWidth:!0,value:Mt(t),onChange:u,className:n.tabs,indicatorColor:s},Object(r.createElement)(G.a,{value:"date",icon:Object(r.createElement)(c.a,null,i)}),Object(r.createElement)(G.a,{value:"time",icon:Object(r.createElement)(c.a,null,l)})))},Bt=function(e){return{tabs:{color:e.palette.common.white,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default}}},_t=K()()(M()(Bt,{name:"MuiPickerDTTabs"})(Rt)),Lt=function(e){var t=e.selected,a=e.children;return t?Object(r.createElement)("div",{children:a}):null},Ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openView:t.props.openTo,meridiemMode:t.props.utils.getHours(t.props.date)>=12?"pm":"am"},t.onChange=function(e,a,n){void 0===a&&(a=!0),t.handleChange(e),a&&t.props.autoSubmit&&t.handleViewChange(n)},t.setMeridiemMode=function(e){return function(){t.setState({meridiemMode:e},function(){return t.handleChange(t.props.date,!1)})}},t.handleViewChange=function(e){t.setState({openView:e})},t.handleChange=function(e,a){void 0===a&&(a=!1);var n=it(e,t.state.meridiemMode,Boolean(t.props.ampm),t.props.utils);t.props.onChange(n,a)},t.handleYearChange=function(e){t.onChange(e,!1,Nt.DATE)},t.handleDayChange=function(e,a){t.onChange(e,a,Nt.HOUR)},t.handleHourChange=function(e,a){t.onChange(e,a,Nt.MINUTES)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.state,t=e.openView,a=e.meridiemMode,o=this.props,i=o.date,l=o.minDate,s=o.maxDate,c=o.showTabs,u=o.disablePast,d=o.disableFuture,p=o.leftArrowIcon,m=o.rightArrowIcon,f=o.dateRangeIcon,h=o.timeIcon,v=o.renderDay,g=o.ampm,y=o.shouldDisableDate,b=o.animateYearScrolling,C=o.allowKeyboardControl,E=o.ViewContainerComponent,S=E,O="string"==typeof E?{}:{openView:t,onChange:this.onChange};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(jt,{date:i,openView:t,meridiemMode:a,setMeridiemMode:this.setMeridiemMode,onOpenViewChange:this.handleViewChange,ampm:g}),c&&Object(r.createElement)(_t,{view:t,onChange:this.handleViewChange,dateRangeIcon:f,timeIcon:h}),Object(r.createElement)(S,Object(n.a)({},O),Object(r.createElement)(Lt,{selected:t===Nt.YEAR},Object(r.createElement)(Ue,{date:i,minDate:l,maxDate:s,onChange:this.handleYearChange,disablePast:u,disableFuture:d,animateYearScrolling:b})),Object(r.createElement)(Lt,{selected:t===Nt.DATE},Object(r.createElement)(Fe,{allowKeyboardControl:C,date:i,minDate:l,maxDate:s,onChange:this.handleDayChange,disablePast:u,disableFuture:d,leftArrowIcon:p,rightArrowIcon:m,renderDay:v,shouldDisableDate:y})),Object(r.createElement)(Lt,{selected:t===Nt.HOUR||t===Nt.MINUTES},Object(r.createElement)(Et,{date:i,type:t,onHourChange:this.handleHourChange,onMinutesChange:this.handleChange,onSecondsChange:this.handleChange,ampm:g}))))},t.defaultProps={allowKeyboardControl:!1,ampm:!0,animateYearScrolling:!1,autoSubmit:!0,dateRangeIcon:void 0,disableFuture:!1,disablePast:!1,leftArrowIcon:void 0,renderDay:void 0,rightArrowIcon:void 0,shouldDisableDate:void 0,showTabs:!0,timeIcon:void 0,ViewContainerComponent:"div"},t}(r.Component),Ut=ne()(Ht),Wt=function(e){var t=e.value,a=(e.format,e.autoOk,e.openTo),o=e.minDate,i=e.maxDate,l=(e.initialFocusedDate,e.showTabs),s=e.autoSubmit,c=e.disablePast,u=e.disableFuture,d=e.leftArrowIcon,p=e.rightArrowIcon,m=e.dateRangeIcon,f=e.timeIcon,h=e.renderDay,v=e.ampm,g=e.shouldDisableDate,y=e.animateYearScrolling,b=e.forwardedRef,C=e.allowKeyboardControl,E=Object(n.c)(e,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]),S=l&&"undefined"!=typeof window&&window.innerHeight>667;return Object(r.createElement)(ie,Object(n.a)({},e),function(e){var l=e.date,O=e.utils,w=e.handleAccept,x=e.handleChange,k=e.handleClear,I=e.handleDismiss,D=e.handleSetTodayDate,T=e.handleTextFieldChange,N=e.isAccepted,P=e.pick12hOr24hFormat;return Object(r.createElement)(he,Object(n.a)({showTabs:S,ref:b,disableFuture:u,disablePast:c,maxDate:i,minDate:o,onAccept:w,onChange:T,onClear:k,onDismiss:I,onSetToday:D,value:t,isAccepted:N,format:P(O.dateTime12hFormat,O.dateTime24hFormat)},E),Object(r.createElement)(Ut,{allowKeyboardControl:C,ampm:v,animateYearScrolling:y,autoSubmit:s,date:l,dateRangeIcon:m,disableFuture:u,disablePast:c,leftArrowIcon:d,maxDate:i,minDate:o,onChange:x,openTo:a,renderDay:h,rightArrowIcon:p,shouldDisableDate:g,showTabs:S,timeIcon:f}))})};Wt.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};var Vt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Wt,Object(n.a)({},e,{forwardedRef:t}))}),zt=function(e){var t=e.value,a=(e.format,e.autoOk,e.openTo),o=e.minDate,i=e.maxDate,l=(e.initialFocusedDate,e.showTabs),s=e.autoSubmit,c=e.disablePast,u=e.disableFuture,d=e.leftArrowIcon,p=e.rightArrowIcon,m=e.dateRangeIcon,f=e.timeIcon,h=e.renderDay,v=e.ampm,g=e.shouldDisableDate,y=e.animateYearScrolling,b=e.forwardedRef,C=e.allowKeyboardControl,E=Object(n.c)(e,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]);return Object(r.createElement)(ie,Object(n.a)({},e,{autoOk:!0}),function(e){var S=e.date,O=e.utils,w=e.handleChange,x=e.handleTextFieldChange,k=e.isAccepted,I=e.pick12hOr24hFormat,D=e.handleAccept;return Object(r.createElement)(Ge,Object(n.a)({innerRef:b,disableFuture:u,disablePast:c,maxDate:i,minDate:o,onChange:x,value:t,isAccepted:k,handleAccept:D,format:I(O.dateTime12hFormat,O.dateTime24hFormat)},E),Object(r.createElement)(Ut,{allowKeyboardControl:C,ampm:v,animateYearScrolling:y,autoSubmit:s,date:S,dateRangeIcon:m,disableFuture:u,disablePast:c,leftArrowIcon:d,maxDate:i,minDate:o,onChange:w,openTo:a,renderDay:h,rightArrowIcon:p,shouldDisableDate:g,showTabs:l,timeIcon:f}))})};zt.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};var Yt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(zt,Object(n.a)({},e,{forwardedRef:t}))})},6079:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(8),p=n(d),m=a(33),f=n(m),h=a(21),v=n(h),g=a(321),y=n(g),b=a(29),C=n(b),E=a(115),S=n(E),O=a(168),w=n(O),x=a(6080),k=n(x),I=a(40),D=n(I),T=a(41),N=n(T),P=a(4),A=n(P),j=a(165),M=n(j),F=a(35),R=n(F),B=a(68),_=n(B),L=a(334),H=n(L),U=a(31),W=n(U),V=a(32),z=n(V),Y=function(e){return{dueDetailsRoot:{borderRadius:"0",background:"transparent"},postCallDueDetailsRoot:{borderRadius:"0",height:"60vh",overflowY:"auto",backgroundColor:e.palette.solidBackground.main},checkedIcon:{color:e.palette.secondary.main,width:"calc(1.2vh + 1.2vw)",height:"calc(1.2vh + 1.2vw)"},selectFilter:{minWidth:120,color:e.palette.primary.main,fontSize:".9rem !important",marginLeft:"1.718vw"},emailIcon:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)"},enabledEmailIcon:{cursor:"pointer"},disabledEmailIcon:{opacity:".5"},blackText:{color:e.palette.primary.main,fontSize:".9rem"},selectMenu:{fontSize:".9rem !important",color:e.palette.primary.main,borderBottom:"1px solid rgba(255,255,255,.2)"},clearSelections:{marginLeft:".5rem",opacity:.65,fontSize:"0.888rem",color:e.palette.primary.main},clearSelectionsParent:{display:"flex",alignItems:"center",color:e.palette.primary.main,fontSize:"1rem",cursor:"pointer",paddingRight:".45rem"},selectIcon:{color:e.palette.secondary.main,opacity:.6},selectLinePostCall:{boxShadow:"none",borderBottom:".7px solid #596A75 !important",padding:".7vh 0"},selectLineInCall:{boxShadow:"none",marginTop:"2.037vh"},invoiceBucketCheckbox:{width:"3.125vw"},checkBoxRoot:{padding:"0"},clearSelectionGrid:{justifyContent:"flex-end"}}},K={invoices:[],filterInvoices:function(){},bucketNames:[]},q=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));G.call(a),a.totalRows=0;for(var n={},i=0;i<e.invoices.length;i++){a.totalRows=a.totalRows+e.invoices[i].length;for(var l=0;l<e.invoices[i].length;l++)e.correctInvoicesMap&&e.invoices[i][l].id in e.correctInvoicesMap?n[e.invoices[i][l].id]=!0:n[e.invoices[i][l].id]=!1}return 1==a.props.postCall&&a.props.setSelectedInvoices(n),a.state={invoices:e.invoices,invoiceType:"All",selectedInvoices:n,allInvoices:e.invoices,globalCheck:!1,isBulkEmail:!0,collector:a.props.collector,customer:a.props.customer,snackBarOpen:!1,snackBarMessage:""},a.props.filterInvoices("All"),a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({invoices:e.invoices,allInvoices:e.invoices},function(){t.setCheck(e.invoices,t.state.selectedInvoices)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=this.props.bucketNames;return c.default.createElement(f.default,{className:this.props.postCall?a.postCallDueDetailsRoot:a.dueDetailsRoot,elevation:0},c.default.createElement(C.default,{container:!0,alignItems:"center",className:this.props.postCall?a.selectLinePostCall:a.selectLineInCall},c.default.createElement(C.default,{item:!0,className:a.invoiceBucketCheckbox,align:"center"},c.default.createElement(y.default,{classes:{root:a.checkBoxRoot},icon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.globalCheck,onClick:this.handleChange})),c.default.createElement(C.default,{item:!0,xs:1},c.default.createElement("span",{className:a.blackText},"Select All")),c.default.createElement(C.default,{item:!0,xs:1,align:"right"},c.default.createElement(v.default,{style:{color:n.palette.primary.main,opacity:.5}},"View  :")),c.default.createElement(C.default,{item:!0,xs:4},c.default.createElement(S.default,{className:(0,p.default)(a.selectFilter),value:this.state.invoiceType,onChange:this.handleFilterChange,classes:{icon:a.selectIcon,selectMenu:a.selectMenu},MenuProps:{classes:{paper:a.menuPaper}},inputProps:{name:"invoiceType",disableUnderline:!0}},c.default.createElement(w.default,{classes:{root:a.menuItemRoot},value:"All"},"All"),c.default.createElement(w.default,{classes:{root:a.menuItemRoot},value:"Broken P2P"},"Broken P2P"),c.default.createElement(w.default,{classes:{root:a.menuItemRoot},value:"Upcoming P2P"},"Upcoming P2P"),c.default.createElement(w.default,{classes:{root:a.menuItemRoot},value:"Dispute"},"Dispute"),c.default.createElement(w.default,{classes:{root:a.menuItemRoot},value:"Predicted Delinquent"},"Predicted Delinquent"))),this.props.postCall&&c.default.createElement(C.default,{item:!0,xs:5,align:"right",className:(0,p.default)(a.clearSelectionGrid,a.centerFlexBox)},c.default.createElement("div",{onClick:this.clearSelections,className:a.clearSelectionsParent},c.default.createElement(H.default,{style:{fontSize:"1.1rem",opacity:.65}})," ",c.default.createElement("span",{className:a.clearSelections},"Clear Selections ",this.selectedInvoicesLength()))),!this.props.postCall&&c.default.createElement(C.default,{item:!0,xs:5,align:"right",style:{paddingRight:"0vw"}},this.props.emailOfCalled&&!this.state.isBulkEmail&&c.default.createElement("img",{className:(0,p.default)(a.emailIcon,a.enabledEmailIcon),onClick:this.sendBulkEmail,src:"/tovo/static/Email.svg"}),this.props.emailOfCalled&&!this.state.isBulkEmail&&c.default.createElement("img",{className:(0,p.default)(a.emailIcon,a.disabledEmailIcon),src:"/tovo/static/Email.svg"}))),this.state.invoices.map(function(t,a){return c.default.createElement(k.default,{emailOfCalled:e.props.emailOfCalled,postCall:e.props.postCall,collector:e.props.collector,customer:e.props.customer,selectedInvoices:e.state.selectedInvoices,invoices:t,individual:!1,days:o[a],invoiceType:e.state.invoiceType,updateGlobalMap:e.updateGlobalMap})}),c.default.createElement(M.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:c.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[c.default.createElement(R.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},c.default.createElement(_.default,null))]}))}}]),t}(c.default.Component),G=function(){var e=this;this.setCheck=function(t,a){for(var n=!1,o=t,r=!1,i=0,l=0;l<o.length;l++){i+=o[l].length;for(var s=0;s<o[l].length;s++)if(0==e.state.selectedInvoices[o[l][s].id]){r=!0;break}}for(var l=0;l<o.length;l++)for(var s=0;s<o[l].length;s++)if(1==e.state.selectedInvoices[o[l][s].id]){n=!0,e.setState({isBulkEmail:!1});break}n||e.setState({isBulkEmail:!0}),0==i&&(r=!0),1==r?e.setState({globalCheck:!1}):e.setState({globalCheck:!0})},this.updateGlobalMap=function(t,a,n){var o;switch(a){case"add":o=e.state.selectedInvoices,o[t]=!0,e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"remove":o=e.state.selectedInvoices,o[t]=!1,e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"addArray":if(1==n){o=e.state.selectedInvoices;for(var r=0;r<t.length;r++)o[t[r].id]=!0;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break}o=e.state.selectedInvoices;for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)o[t[i][r].id]=!0;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"removeArray":if(1==n){o=e.state.selectedInvoices;for(var r=0;r<t.length;r++)o[t[r].id]=!1;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break}o=e.state.selectedInvoices;for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)o[t[i][r].id]=!1;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o)}1==e.props.postCall&&e.props.setSelectedInvoices(o)},this.handleChange=function(){1==e.state.globalCheck?e.updateGlobalMap(e.state.invoices,"removeArray",!1):e.updateGlobalMap(e.state.invoices,"addArray",!1)},this.clearSelections=function(){e.updateGlobalMap(e.state.invoices,"removeArray",!1)},this.findType=function(e){return e.p2pDelinquent?"Predicted Delinqment":e.p2pUpcoming?"Upcoming P2P":e.p2pBroken?"Broken P2P":"Dispute"},this.handleFilterChange=function(t){e.setState({invoiceType:t.target.value}),e.props.filterInvoices(t.target.value)},this.preventDefault=function(e){e.preventDefault()},this.openSnackBarWithMessage=function(t){e.setState({snackBarMessage:t}),e.setState({snackBarOpen:!0})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.sendBulkEmail=function(){for(var t=e.state.invoices,a=[],n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)1==e.state.selectedInvoices[t[n][o].id]&&a.push(t[n][o].id);var r={customerId:e.state.customer.id,documentIds:a,from:e.state.collector.emailId,to:e.props.emailOfCalled};N.default.post(D.default.apiUrl+"/correspondence/invoicecopy",r).then(function(t){e.openSnackBarWithMessage("Email sent")}).catch(function(t){e.openSnackBarWithMessage("Error in sending email")})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0;for(var n in t)1==t[n]&&a++;if(0!=a)return"("+a+")"}};q.propTypes={classes:A.default.object.isRequired,invoices:A.default.array,filterInvoices:A.default.func},q.defaultProps=K;var X=(0,W.default)(Y,z.default);t.default=(0,u.withStyles)(X,{withTheme:!0})(q)},6080:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(174),m=n(p),f=a(175),h=n(f),v=a(329),g=n(v),y=a(8),b=n(y),C=a(67),E=a(21),S=n(E),O=a(335),w=n(O),x=a(321),k=n(x),I=a(29),D=n(I),T=a(68),N=n(T),P=a(350),A=n(P),j=a(115),M=n(j),F=a(168),R=n(F),B=a(40),_=n(B),L=a(41),H=n(L),U=a(4),W=n(U),V=a(165),z=n(V),Y=a(35),K=n(Y),q=a(88),G=n(q),X=a(114),J=a(31),Q=n(J),Z=a(32),$=n(Z),ee=a(322),te=n(ee),ae=a(323),ne=n(ae),oe=function(e){var t;return t={root:{padding:"0"},postCallRoot:{padding:"0",marginTop:".8vh"},icon:{color:e.palette.primary.main,width:"1.25vw",height:"2.22vh",opacity:".6"},checkedIcon:{color:e.palette.secondary.main,zIndex:"3",height:"calc(1.2vh + 1.2vw)",width:"calc(1.2vh + 1.2vw)"},selectFilter:{minWidth:120,marginLeft:"1.718vw"},gridList:{width:"100%",height:"100%",margin:"0 -2px -2px -2px !important",overflow:"hidden"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{backgroundColor:"#39586F"},shift:{margin:"1rem 1rem 0 1rem"},primaryColor:{color:e.palette.primary.main,fontSize:".95rem",textAlign:"center"},greyText:{opacity:".65"},bucketHeaderText:{color:e.palette.primary.main,fontSize:".9rem"},changeRowBackground:{backgroundColor:"#586973"},defaultBackground:{borderBottom:".7px solid #395C73 !important",height:"5.65vh"},invoiceHeaderText:{fontSize:".9rem",color:e.palette.primary.main,opacity:".5"},panelSummary:{padding:"0",margin:"0"},content:{margin:"0 !important"},expandIcon:{color:e.palette.secondary.main},individualInvoiceHeader:{boxShadow:"none",padding:"2.037vh 1rem 0 1rem"},iconSize:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)"},enabledEmailIcon:{cursor:"pointer"},disabledEmailIcon:{opacity:".5"},summaryExpanded:{minHeight:"5.55vh !important"},disableTimeline:{marginTop:"2.2rem",marginLeft:".2rem"},timeline:{borderLeft:"1px solid #596A75"}},l(t,"disableTimeline",{}),l(t,"postCallTimeline",{borderLeft:"1px solid #395C73"}),l(t,"selectIcon",{color:e.palette.primary.main,opacity:.6}),l(t,"summaryContent",{boxShadow:"none",paddingRight:"0 !important"}),l(t,"invoiceNumberColumn",{width:"14%"}),l(t,"amountColumn",{width:"12%"}),l(t,"brokenColumn",{width:"13.5%"}),l(t,"upcomingColumn",{width:"14%"}),l(t,"disputeColumn",{width:"13%"}),l(t,"predictedColumn",{width:"18%"}),l(t,"checkBoxColumn",{textAlign:"center",minWidth:"3.125vw"}),l(t,"borderBottom",{borderBottom:".7px solid #395C73 !important"}),l(t,"emailColumn",{justifyContent:"flex-end"}),l(t,"invoiceBucketCheckbox",{width:"3.125vw",height:"5.55vh"}),l(t,"verticalTimeline",{width:"3.125vw"}),l(t,"connector",{height:"5.55vh"}),l(t,"checkBoxRoot",{padding:"0"}),l(t,"individualBucketCheckbox",{minWidth:"3.125vw"}),l(t,"selectMenu",{fontSize:".9rem !important",color:e.palette.primary.main,borderBottom:"1px solid rgba(255,255,255,.2)"}),l(t,"gridListTile",{height:"auto !important"}),t},re={invoices:[],selectedInvoices:[],filterInvoices:function(){}},ie=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));le.call(a);var n;a.totalAmount=0;for(var i={},l=0;l<e.invoices.length;l++)a.totalAmount=a.totalAmount+e.invoices[l].currentOpenAmount,i[e.invoices[l].id]=!1;var s,c;return a.props.individual?(s=i,c="All",a.props.filterInvoices("All"),n=!0):(s=a.props.selectedInvoices,c=e.invoiceType,n=!1),a.state={checked:!1,invoices:e.invoices,allInvoices:e.invoices,selectedInvoices:s,days:e.days,totalAmount:a.totalAmount,invoiceType:c,expanded:n,isBulkEmail:!0,customer:a.props.customer,collector:a.props.collector,snackBarOpen:!1,snackBarMessage:""},a}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){for(var t=0,a=0;a<e.invoices.length;a++)t+=e.invoices[a].currentOpenAmount;e.individual?(this.setState({totalAmount:t,invoices:e.invoices,allInvoices:e.invoices}),this.setCheck(e.invoices,this.state.selectedInvoices)):(this.setState({totalAmount:t,invoices:e.invoices,allInvoices:e.invoices,selectedInvoices:e.selectedInvoices}),this.setCheck(e.invoices,this.state.selectedInvoices))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{style:{position:"relative"}},this.props.individual&&u.default.createElement(D.default,{container:!0,xs:12,alignItems:"center",justify:"space-between",className:a.individualInvoiceHeader},u.default.createElement(D.default,{item:!0,align:"center",style:{zIndex:"5"},className:a.individualBucketCheckbox},u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.checked,onClick:function(){return e.checkAllInvoices(event)}})),u.default.createElement(D.default,{item:!0,xs:1},u.default.createElement("span",{className:a.bucketHeaderText},"Select All")),u.default.createElement(D.default,{item:!0,xs:1,align:"right"},u.default.createElement(S.default,{style:{color:"#989898"}},"View  :  ")),u.default.createElement(D.default,{item:!0,xs:4},u.default.createElement(M.default,{className:(0,b.default)(a.selectFilter),value:this.state.invoiceType,classes:{icon:a.selectIcon,selectMenu:a.selectMenu},onChange:this.handleFilterChange,inputProps:{name:"invoiceType"},MenuProps:{classes:{paper:a.menuPaper}}},u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"All"},"All"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Broken P2P"},"Broken P2P"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Upcoming P2P"},"Upcoming P2P"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Dispute"},"Dispute"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Predicted Delinquent"},"Predicted Delinquent"))),u.default.createElement(D.default,{item:!0,xs:5,align:"right"},this.props.emailOfCalled&&!this.state.isBulkEmail&&u.default.createElement("img",{className:(0,b.default)(a.iconSize,a.enabledEmailIcon),onClick:this.sendBulkEmail,src:"/tovo/static/Email.svg"}),this.props.emailOfCalled&&!this.state.isBulkEmail&&u.default.createElement("img",{className:(0,b.default)(a.iconSize,a.disabledEmailIcon),src:"/tovo/static/Email.svg"}))),u.default.createElement(D.default,{container:!0,alignItems:"flex-start"},u.default.createElement(D.default,{item:!0,xs:12,className:this.props.individual?a.shift:a.noShift},u.default.createElement(m.default,{style:{boxShadow:"none",backgroundColor:"transparent"},defaultExpanded:this.props.individual,expanded:this.state.expanded},!this.props.individual&&u.default.createElement(h.default,{className:a.panelSummary,classes:{content:a.content,expanded:a.summaryExpanded}},u.default.createElement(D.default,{container:!0,alignItems:"center",className:a.summaryContent},u.default.createElement(D.default,{item:!0,className:(0,b.default)(a.invoiceBucketCheckbox,a.centerFlexBox),align:"center"},u.default.createElement("div",{className:a.connector}),u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.checked,onClick:function(){return e.checkAllInvoices(event)}})),u.default.createElement(D.default,{container:!0,alignItems:"center",justify:"space-between",item:!0,xs:11,align:"left",onClick:this.toggleExpand,className:a.borderBottom},u.default.createElement(D.default,{item:!0,xs:10},u.default.createElement("span",{className:a.bucketHeaderText},this.state.days," "),u.default.createElement("span",{className:(0,b.default)(a.greyText,a.bucketHeaderText)},this.selectedInvoicesLength())),u.default.createElement(D.default,{item:!0,xs:2,align:"right"},!this.state.expanded&&u.default.createElement(w.default,{className:(0,b.default)(a.expandIcon,a.iconSize)}),this.state.expanded&&u.default.createElement(X.ExpandLess,{className:(0,b.default)(a.expandIcon,a.iconSize)}))))),u.default.createElement(g.default,{className:this.props.postCall?a.postCallRoot:a.root},!this.props.postCall&&u.default.createElement(D.default,{container:!0},!this.props.individual&&u.default.createElement(D.default,{item:!0,container:!0,className:a.verticalTimeline,justify:"center"},u.default.createElement(D.default,{item:!0,className:this.props.individual?a.disableTimeline:a.timeline})),u.default.createElement(D.default,{item:!0,container:!0,xs:this.props.individual?12:11,alignItems:"center",justify:"center"},u.default.createElement(D.default,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between",style:{marginTop:"1.34vh"}},u.default.createElement(D.default,{item:!0,className:a.checkBoxColumn},u.default.createElement("span",null)),u.default.createElement(D.default,{item:!0,align:"center",className:(0,b.default)(a.invoiceNumberColumn,a.invoiceHeaderText,a.centerFlexBox)},"Invoice Number"),u.default.createElement(D.default,{item:!0,align:"right",className:(0,b.default)(a.amountColumn,a.invoiceHeaderText,a.centerFlexBox)},"Amount"),u.default.createElement(D.default,{item:!0,align:"center",className:(0,b.default)(a.brokenColumn,a.invoiceHeaderText,a.centerFlexBox)},"Broken P2P"),u.default.createElement(D.default,{item:!0,align:"center",className:(0,b.default)(a.upcomingColumn,a.invoiceHeaderText,a.centerFlexBox)},"Upcoming P2P"),u.default.createElement(D.default,{item:!0,align:"center",className:(0,b.default)(a.disputeColumn,a.invoiceHeaderText,a.centerFlexBox)},"Dispute"),u.default.createElement(D.default,{item:!0,align:"center",className:(0,b.default)(a.predictedColumn,a.invoiceHeaderText,a.centerFlexBox)},"Predicted Delinquent"),u.default.createElement(D.default,{item:!0,xs:1,className:(0,b.default)(a.emailColumn,a.centerFlexBox)})),this.state.invoices.map(function(t,n){return u.default.createElement(D.default,{item:!0,container:!0,alignItems:"center",justify:"space-between",xs:12,className:e.state.selectedInvoices[t.id]?(0,b.default)(a.changeRowBackground,a.defaultBackground):a.defaultBackground,key:t.id+"row"},u.default.createElement(D.default,{item:!0,className:a.checkBoxColumn,align:"center",padding:"checkbox"},u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},id:t.id,icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:1==e.state.selectedInvoices[t.id],onClick:function(){return e.addInvoice(t.id)}})),u.default.createElement(D.default,{align:"center",numeric:!0,className:(0,b.default)(a.invoiceNumberColumn,a.centerFlexBox)},t.documentNumber.toString().length>20?u.default.createElement(G.default,{title:t.documentNumber},u.default.createElement(S.default,{noWrap:!0,className:a.primaryColor},t.documentNumber)):u.default.createElement(S.default,{noWrap:!0,className:a.primaryColor},t.documentNumber)),u.default.createElement(D.default,{align:"right",numeric:!0,className:(0,b.default)(a.amountColumn,a.primaryColor,a.centerFlexBox)},"$"+(0,C.formatter)(t.currentOpenAmount)),u.default.createElement(D.default,{className:(0,b.default)(a.brokenColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pBroken?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(D.default,{className:(0,b.default)(a.upcomingColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pUpcoming?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(D.default,{className:(0,b.default)(a.disputeColumn,a.centerFlexBox),align:"center",numeric:!0},null!=t.disputeStatus?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(D.default,{className:(0,b.default)(a.predictedColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pDelinquent?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(D.default,{className:(0,b.default)(a.emailColumn,a.centerFlexBox),xs:1,align:"right"},e.props.emailOfCalled&&!e.state.selectedInvoices[t.id]&&u.default.createElement("img",{className:(0,b.default)(a.iconSize,a.enabledEmailIcon),onClick:function(){return e.sendEmail(t.id)},src:"/tovo/static/Email.svg"})))}))),this.props.postCall&&u.default.createElement(D.default,{container:!0},u.default.createElement(D.default,{item:!0,container:!0,className:a.verticalTimeline,justify:"center"},u.default.createElement(D.default,{item:!0,className:a.postCallTimeline})),u.default.createElement(D.default,{item:!0,xs:11},u.default.createElement(te.default,{cellHeight:"auto",className:a.gridList},this.state.invoices.map(function(t){return u.default.createElement(ne.default,{cols:1,key:t.id,classes:{tile:a.gridListTile},style:{height:"auto",width:"16vw",margin:"0.2rem"}},u.default.createElement("div",{className:1==e.state.selectedInvoices[t.id]?(0,b.default)(a.selectedGridListDiv,a.gridListDiv):a.gridListDiv},u.default.createElement(k.default,{style:{padding:"2px",alignItems:"center",left:"3%"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),id:t.id,checked:1==e.state.selectedInvoices[t.id],onClick:function(){return e.addInvoice(t.id)}}),u.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},u.default.createElement(S.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.65,lineHeight:"1.7rem"}},t.documentNumber),u.default.createElement(S.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",(0,C.formatter)(t.currentOpenAmount)))))})))))))),u.default.createElement(z.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[u.default.createElement(K.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(N.default,null))]}))}}]),t}(u.default.Component),le=function(){var e=this;this.handleFilterChange=function(t){e.setState({invoiceType:t.target.value}),e.props.filterInvoices(t.target.value)},this.toggleExpand=function(){1==e.state.expanded?e.setState({expanded:!1}):e.setState({expanded:!0})},this.addInvoice=function(t){0==e.state.selectedInvoices[t]?e.props.individual?e.updateLocalMap(t,"add"):e.props.updateGlobalMap(t,"add",!0):e.props.individual?e.updateLocalMap(t,"remove"):e.props.updateGlobalMap(t,"remove",!0)},this.checkAllInvoices=function(t){1==e.state.checked?(e.setState({checked:!1}),e.props.individual?e.updateLocalMap(e.state.invoices,"removeArray"):e.props.updateGlobalMap(e.state.invoices,"removeArray",!0)):(e.setState({checked:!0}),e.props.individual?e.updateLocalMap(e.state.invoices,"addArray"):e.props.updateGlobalMap(e.state.invoices,"addArray",!0))},this.updateLocalMap=function(t,a){switch(a){case"add":var n=e.state.selectedInvoices;n[t]=!0,e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"remove":var n=e.state.selectedInvoices;n[t]=!1,e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"addArray":for(var n=e.state.selectedInvoices,o=0;o<t.length;o++)n[t[o].id]=!0;e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"removeArray":for(var n=e.state.selectedInvoices,o=0;o<t.length;o++)n[t[o].id]=!1;e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n)}},this.setCheck=function(){for(var t=e.state.invoices,a=!1,n=!1,o=0;o<t.length;o++)if(1==e.state.selectedInvoices[t[o].id]){n=!0,e.setState({isBulkEmail:!1});break}n||e.setState({isBulkEmail:!0});for(var r=0;r<t.length;r++)if(0==e.state.selectedInvoices[t[r].id]){a=!0;break}0==t.length&&(a=!0),1==a?e.setState({checked:!1}):e.setState({checked:!0})},this.openSnackBarWithMessage=function(t){e.setState({snackBarMessage:t}),e.setState({snackBarOpen:!0})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.sendEmail=function(t){var a={customerId:e.state.customer.id,documentIds:[t],from:e.state.collector.emailId,to:e.props.emailOfCalled};H.default.post(_.default.apiUrl+"/correspondence/invoicecopy",a).then(function(t){e.openSnackBarWithMessage("Email sent"),console.log(t.data),console.log(t.status),console.log(t.statusText)}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),console.log(t)})},this.sendBulkEmail=function(){console.log("Sending Bulk email");for(var t=e.state.invoices,a=[],n=0;n<t.length;n++)1==e.state.selectedInvoices[t[n].id]&&a.push(t[n].id);var o={customerId:e.state.customer.id,documentIds:a,from:e.state.collector.emailId,to:e.props.emailOfCalled};H.default.post(_.default.apiUrl+"/correspondence/invoicecopy",o).then(function(t){e.openSnackBarWithMessage("Email sent"),console.log(t.data),console.log(t.status),console.log(t.statusText)}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),console.log(t)})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0,n=e.state.invoices;for(var o in n)1==t[n[o].id]&&a++;return 0!=a&&e.props.postCall?"("+a+" Selected)":"(Total: $"+(0,C.formatter)(e.state.totalAmount,"")+" - "+e.state.invoices.length+" Invoices)"}};ie.propTypes={classes:W.default.object.isRequired,invoices:W.default.array,filterInvoices:W.default.func},ie.defaultProps=re;var se=(0,Q.default)(oe,$.default);t.default=(0,d.withStyles)(se,{withTheme:!0})(ie)},6081:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(4),m=(n(p),a(29)),f=n(m),h=a(6082),v=n(h),g=function(e){return{}},y=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.autoScroll,a=(e.classes,e.className),n=e.transcriptChatProps,o=e.transcriptTitleClassName;return u.default.createElement(f.default,{item:!0,xs:12,container:!0,className:a},u.default.createElement("span",{className:o},"CALL TRANSCRIPT"),u.default.createElement(v.default,l({autoScroll:t},n)))}}]),t}(c.Component);t.default=(0,d.withStyles)(g,{withTheme:!0})(y)},6082:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=(n(u),a(19)),p=a(6107),m=n(p),f=a(42),h=a(113),v=function(e){return{transcriptTextParent:{whiteSpace:"pre-line",marginTop:"2.5rem",height:"85%",overflowY:"auto",padding:"0.5rem 0.5rem 0.5rem 0px",fontFamily:"Roboto",marginLeft:"1rem",width:"100%",wordWrap:"break-word"}}},g={autoScroll:!1,transcription:"",calledToNameInitials:"UU",userInitials:"ME"},y=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.scrollToBottom=function(){var e=a.props.transcriptGridID,t=document.getElementById(e);t&&(t.scrollTop=t.scrollHeight)},a.generateChatBoxes=function(e,t){return e.includes(h.TRANSCRIPT_DELIMETERS.COLLECTOR)?c.default.createElement(m.default,{key:t,isCollector:!0,initials:a.props.userInitials?a.props.userInitials:"ME",message:e.replace(h.TRANSCRIPT_DELIMETERS.COLLECTOR,"")}):e.includes(h.TRANSCRIPT_DELIMETERS.CUSTOMER)?c.default.createElement(m.default,{key:t,isCollector:!1,initials:a.props.calledToNameInitials,message:e.replace(h.TRANSCRIPT_DELIMETERS.CUSTOMER,"")}):e.includes(h.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS)?c.default.createElement(m.default,{key:t,isDetecting:!0,initials:"",message:e.replace(h.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS,"")}):void 0},a.state={},a}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.autoScroll&&(console.log("Auto Scrolling"),this.scrollToBottom())}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.transcription,n=e.transcriptGridID,o=(0,f.splitTranscript)(a);return c.default.createElement("div",{id:n,className:t.transcriptTextParent},c.default.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},o.map(this.generateChatBoxes)))}}]),t}(s.Component);y.defaultProps=g,t.default=(0,d.withStyles)(v,{withTheme:!0})(y)},6087:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(90),u=a(4),d=(n(u),a(0)),p=n(d),m=a(19),f=a(8),h=n(f),v=a(44),g=a(69),y=a(24),b=a(29),C=n(b),E=a(6088),S=n(E),O=a(23),w=a(43),x=n(w),k=a(85),I=n(k),D=a(40),T=n(D),N=a(41),P=n(N),A=a(6102),j=n(A),M=a(86),F=n(M),R=a(167),B=n(R),_=a(324),L=n(_),H=a(165),U=n(H),W=a(35),V=n(W),z=a(68),Y=n(z),K=a(6106),q=n(K),G=a(6081),X=n(G),J=a(6113),Q=n(J),Z=a(171),$=n(Z),ee=a(170),te=n(ee),ae=a(42),ne=a(113),oe=a(6114),re=a(6115),ie=function(e){return{appFrame:{overflowX:"hidden",display:"flex",flexDirection:"row",maxHeight:"100vh",width:"100%"},root:{margin:"1.12vh 1.041vw 0em 1.041vw",backgroundColor:e.palette.background.main,width:"100%"},transcriptBox:{height:"58.98vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main,marginBottom:"1.85vh"},summaryBox:{height:"25.50vh",padding:"0.8rem",borderRadius:"4px",display:"flex",backgroundColor:e.palette.cardBackground.main},transcriptTitle:{fontSize:"1.1rem",color:e.palette.primary.main,paddingLeft:".8rem",paddingTop:".8rem",opacity:.65,position:"absolute"},customerName:{fontSize:"1.78rem",lineHeight:"2.1rem"},customerDetailText:{fontFamily:e.font.title.fontFamily,color:e.palette.secondary.main},customerNumber:{fontSize:".8rem"},button:{fontSize:"0.5rem",width:"7.2922vw",boxShadow:"none",minHeight:"4.4444vh",padding:0,"&:hover, &$focusVisible":{backgroundColor:"#86BFE7"}},buttonTitle:{fontFamily:e.font.title.fontFamily,color:e.palette.primary.main},heading:{color:e.palette.primary.main,fontSize:"1.067rem",opacity:.5,paddingBottom:"1.94vh"},nextCustomerUrl:{color:e.palette.secondary.main,fontSize:"0.888rem",height:"4.4444vh",display:"flex",alignItems:"center"},actionButton:{boxShadow:"none",fontSize:"1.111rem","&:hover, &$focusVisible":{backgroundColor:"#86BFE7"},height:"6.48vh"},postCallCardGrid:{marginTop:"2.037vh"},paddingRightOnCard:{paddingRight:"1.041vw"}}},le={voicemailMessage:"",callDuration:0,toCallCustomers:null,nextCustomerUrl:null,onHangup:ne.emptyFunction,invoices:[],initialTranscription:""},se=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.snackMessageQueue=[],a.deleteAction=function(e){console.log("ID",e,t);var t=a.state.summary.filter(function(t){return t.id!=e}),n=a.state.summaryCompletionMap;n.delete(e),console.log(n),a.setState({summary:t,summaryCompletionMap:n})},a.markSummaryAsDone=function(e){var t=a.state.summaryCompletionMap,n=a.state.summary;for(var o in n)if(n[o].id==e){n[o].save=!0;break}a.setState({summary:n}),t.set(e,!0),a.setState({summaryCompletionMap:t})},a.updateActionItemCheck=function(e){a.setState({notes:[].concat(o(a.state.notes),[e]),isAnyActionCompleted:!0})},a.savePostCallThings=function(){if((0,oe.checkSummaryCompleteMap)(a.state.summaryCompletionMap))return void a.setState({doReviewDialogOpen:!0});a.state.nonActionNotes&&a.state.nonActionNotes.trim()?a.setState({notes:[].concat(o(a.state.notes),[a.state.nonActionNotes.trim()]),nonActionIncluded:!0},function(){a.saveCallLog()}):a.saveCallLog()},a.saveNotesChanges=function(){a.setState({isEditingOn:!1,prevNonActionNotes:a.state.nonActionNotes},function(){a.blurNonActionNotesBox()})},a.discardNotesChanges=function(){a.setState({isEditingOn:!1,nonActionNotes:a.state.prevNonActionNotes},function(){a.blurNonActionNotesBox()})},a.openSnackbar=function(e){a.snackMessageQueue.push({message:ne.SNACK_MESSAGES[e],key:(new Date).getTime()}),a.state.snackOpen?a.setState({snackOpen:!1}):a.processQueue()},a.processQueue=function(){a.snackMessageQueue.length>0&&a.setState({snackMessage:a.snackMessageQueue.shift(),snackOpen:!0})},a.handleNonactionNotesChange=function(e){a.setState({nonActionNotes:e.target.value})},a.updateNotes=function(e){a.setState({nonActionNotes:e})},a.closeSnackbar=function(e,t){"clickaway"!==t&&a.setState({snackOpen:!1})},a.handleSnackbarExit=function(){a.processQueue()},a.handleActionItemClick=function(e){var t=(0,ae.createAction)(e);if(console.log("Action created",t),t){var n=a.state.summary.length;t.id=n>0?a.state.summary[n-1].id+1:1,t.save=!1,t.created=!0;var r=a.state.summaryCompletionMap;r.set(t.id,!1),a.setState({summary:[].concat(o(a.state.summary),[t]),summaryCompletionMap:r},function(){var e=document.getElementById("action-summary-grid-container");e&&(e.scrollTop=e.scrollHeight)})}a.closeActionCreatorDialog()},a.closeReviewWarningDialog=function(){a.setState({doReviewDialogOpen:!1})},a.handleActionCreation=function(){a.setState({doOpenNewActionDialog:!0})},a.closeActionCreatorDialog=function(){a.setState({doOpenNewActionDialog:!1})},a.updateSummaryFromChild=function(e,t){var n=a.state.summary;for(var o in n)if(n[o].id==t){n[o].summary=e;break}a.setState({summary:n})},a.updateInvoices=function(e,t){var n=Object.create(a.state.summary),o=[];for(var r in n)if(n[r].id==t){for(var i in e)o.push(e[i].documentNumber);n[r].entities.invoice=o;break}a.setState({summary:n})},a.editNonActionNotes=function(){a.setState({isEditingOn:!0},function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.focus()},500)})},a.blurNonActionNotesBox=function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.blur()},500)},a.initializeSummaryWithDefaults=function(e){if("[]"===e)a.setState({summary:[]});else{var t=(0,oe.appendIdsToSummary)(e),n=(0,oe.createSummaryCompletionMap)(e),o=(0,oe.createInitialNonActionSummaryNotes)(e,a.props.voicemailMessage);a.setState({summary:t,summaryCompletionMap:n,nonActionNotes:o})}},a.saveCallLog=function(){var e=(0,oe.generateNotesAsString)(a.state.notes),t=a.props.callLogState,n=a.props.customer,o={id:t.id,callSummary:a.props.transcription.transcription,duration:a.props.callDuration,note:{customerId:n.id,noteContent:e}};P.default.put(T.default.apiUrl+"/call",o).then(function(e){a.setState({openProgressBar:!1,isPostCallDone:!0}),c.store.dispatch((0,g.changeTranscription)({transcription:""}))}).catch(function(e){a.setState({openProgressBar:!1,isPostCallDone:!0})})},a.genSummaryActionCards=function(e){var t=e.intent;if((0,ae.isActionIntent)(t))return p.default.createElement(F.default,{in:!0,key:e.id},p.default.createElement(S.default,{onDelete:function(e){return a.deleteAction(e)},onActionItemConfirm:a.updateActionItemCheck,summary:e,style:{width:"100%",marginBottom:"0.7rem"},intentType:t,allInvoiceList:a.props.invoices,customer:a.props.customer,calledToName:a.props.calledToName,calledToNumber:a.props.calledToNumber,completed:function(){return a.markSummaryAsDone(e.id)},bucketNames:a.props.bucketNames,contactLog:a.props.callLogState,callState:a.props.callState,followupTextList:a.state.followupTextList,reasonCodeList:a.state.reasonCodeList,openSnackbarOnAction:function(e){return a.openSnackbar(e)},updateInvoicesInParent:function(t){return a.updateInvoices(t,e.id)},updateSummaryInParent:function(t){a.updateSummaryFromChild(t,e.id)}}))},a.props.onHangup(),console.log(a.props.nextCustomerUrl,"next customer url"),a.nextCustomeText="GO TO NEXT CUSTOMER",a.nextCustomerUrl=a.props.nextCustomerUrl,a.nextCustomerUrl||(a.nextCustomerUrl="/",a.nextCustomeText="GO BACK TO HOME PAGE"),console.log(a.props.toCallCustomers,"to call customers"),a.state={date:new Date,isEditingOn:!1,summary:"",transcription:a.props.initialTranscription,openProgressBar:!1,doOpenNewActionDialog:!1,isAnyActionCompleted:!1,doReviewDialogOpen:!1,notes:[],isPostCallDone:!1,summaryCompletionMap:new Map,nonActionNotes:"",snackMessage:{},snackOpen:!1,followupTextList:[],reasonCodeList:[],nonActionIncluded:!1},re.commonService.getDisputeCodes().then(function(e){a.setState({reasonCodeList:e||[]})}).catch(function(e){console.log("Failed to load dispute codes",e)}),re.commonService.getTaskTypes().then(function(e){a.setState({followupTextList:e||[]})}).catch(function(e){console.log("Failed to load Follow up text list",e)}),a}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.transcription.summary,a=e.transcription.transcription,n=this.props.transcription.transcription;console.log("Summary received in Post Call",JSON.stringify(t)),a&&a!==n&&(console.log("Updating transcription",a),this.setState({transcription:a})),JSON.stringify(t)!==JSON.stringify(this.state.summary)&&this.initializeSummaryWithDefaults(t)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.customer,n=this.props.user,o=this.props.calledToName,r=(0,ae.getInitialsFromName)(o);(0,ae.getInitialsFromName)(n.name);return p.default.createElement("div",{className:t.appFrame},p.default.createElement($.default,null),p.default.createElement(te.default,null),p.default.createElement("div",{className:t.root},p.default.createElement(C.default,{container:!0},p.default.createElement(C.default,{item:!0,container:!0,alignItems:"flex-start"},p.default.createElement(C.default,{item:!0,xs:10},p.default.createElement("div",{style:{display:"flex",alignItems:"center"}},p.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left"}},p.default.createElement("div",{className:(0,h.default)(t.customerName,t.customerDetailText)},a.customerName),p.default.createElement("div",{className:(0,h.default)(t.customerNumber,t.customerDetailText)},a.customerNumber)))),p.default.createElement(C.default,{item:!0,container:!0,xs:2,justify:"flex-end",style:{marginLeft:"-8.33vw"}},p.default.createElement("div",{style:{margin:"0px 0 0 0",display:"flex",alignItems:"center"}},p.default.createElement(C.default,{item:!0,align:"right"},!this.state.isPostCallDone&&p.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"right",height:"4.444vh"}},p.default.createElement(B.default,{variant:"extended",onClick:this.savePostCallThings,color:"secondary","aria-label":"Add",size:"small",disabled:!this.state.summary,className:t.button},p.default.createElement(O.Typography,{className:t.buttonTitle},"Done"))),this.state.isPostCallDone&&p.default.createElement(v.Link,{style:{textDecoration:"none"},onClick:ne.emptyFunction,to:{pathname:this.nextCustomerUrl,state:{toCallCustomers:this.props.toCallCustomers}}},p.default.createElement(O.Typography,{className:t.nextCustomerUrl},this.nextCustomeText)))))),!this.state.isPostCallDone&&p.default.createElement(C.default,{item:!0,container:!0,className:t.postCallCardGrid},p.default.createElement(C.default,{item:!0,xs:8,className:t.paddingRightOnCard},p.default.createElement("div",null,p.default.createElement(O.Typography,{className:t.heading},"SUGGESTED ACTIONS")),p.default.createElement(C.default,{item:!0,xs:12,style:{height:"auto",maxHeight:"74.7vh",overflowY:"auto"},id:"action-summary-grid-container"},this.state.summary&&this.state.summary.map(function(t){return e.genSummaryActionCards(t)}),!this.state.summary&&p.default.createElement("div",{stlye:{height:"100%"}},p.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"70vh"}},p.default.createElement(I.default,null),p.default.createElement(O.Typography,{style:{color:"white",marginTop:"1.3rem"}},"Generating call summary")))),this.state.summary&&p.default.createElement(x.default,{style:{width:"100%"},color:"secondary",className:t.actionButton,variant:"contained",onClick:function(){e.handleActionCreation()}},p.default.createElement(O.Typography,{color:"primary",style:{fontSize:"1.067rem"}},"+ CREATE NEW ACTION"))),p.default.createElement(C.default,{item:!0,container:!0,xs:4,alignItems:"center",style:{height:"86.29vh"}},p.default.createElement(X.default,{className:t.transcriptBox,autoScroll:Boolean(!1),transcriptTitleClassName:t.transcriptTitle,transcriptChatProps:{transcription:this.state.transcription,calledToNameInitials:r,userInitials:"ME",transcriptGridID:"post-call-transcription-grid"}}),p.default.createElement(C.default,{item:!0,xs:12,className:t.summaryBox},p.default.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},this.state.summary&&p.default.createElement(Q.default,{initialNotes:this.state.nonActionNotes,onNotesChange:function(t){return e.updateNotes(t)}}),!this.state.summary&&p.default.createElement("div",{stlye:{height:"100%"}},p.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"20vh"}},p.default.createElement(I.default,{style:{color:"#eeeeee"}}),p.default.createElement(O.Typography,{style:{color:"#eeeeee",marginTop:"1.3rem"}},"Waiting for summary"))))))),this.state.isPostCallDone&&p.default.createElement(C.default,{item:!0,container:!0,xs:12,className:t.postCallCardGrid},p.default.createElement(j.default,{invoiceList:(0,ae.generateFinalInvoiceList)(this.state.summary,this.props.invoices),summaryNotes:this.state.notes,nonActionIncluded:this.state.nonActionIncluded,nextCustomerUrl:this.props.nextCustomerUrl,toCallCustomers:this.props.toCallCustomers,customer:this.props.customer,collector:this.props.collector,contactIndex:this.props.contactIndex})),p.default.createElement(q.default,{open:this.state.doOpenNewActionDialog,onClose:this.closeActionCreatorDialog,onActionItemClick:function(t){return e.handleActionItemClick(t)}}),p.default.createElement(L.default,{open:this.state.doReviewDialogOpen,onClose:this.closeReviewWarningDialog,title:ne.REVIEW_WARNING,actions:[p.default.createElement(x.default,{onClick:this.closeReviewWarningDialog,color:"secondary"},"OK")]}),p.default.createElement(U.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage.key,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:p.default.createElement("span",{id:this.state.snackMessage.key},this.state.snackMessage.message),action:[p.default.createElement(V.default,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.closeSnackbar,onExited:this.handleSnackbarExit},p.default.createElement(Y.default,null))]}))))}}]),t}(p.default.Component);se.defaultProps=le;var ce=function(e){return{user:e.personalDetails,callState:e.callState,transcription:e.transcription,callLogState:e.callLogState}};t.default=(0,y.connect)(ce)((0,m.withStyles)(ie,{withTheme:!0})(se))},6088:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),m=a(19),f=a(6089),h=n(f),v=a(6098),g=n(v),y=a(6099),b=n(y),C=a(6100),E=n(C),S=a(174),O=n(S),w=a(175),x=n(w),k=a(329),I=n(k),D=a(335),T=n(D),N=a(113),P=function(e){return{panel:{width:"100%",backgroundColor:e.palette.solidBackground.main},expandedBackground:{backgroundColor:"#39586F",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2))",padding:"0 !important"},panelCommon:{padding:"0 !important",borderRadius:"5px",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2))"},expandIcon:{color:e.palette.secondary.main},expansionPanelRoot:{boxShadow:"none !important",borderRadius:"4px !important",marginBottom:"0.83vh"}}},A=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));j.call(a);var n=a.props.summary.entities.invoice,i=a.genInitialInvoiceData(n),l=i.correctInvoices,s=i.correctInvoicesMap,c=i.incorrectFlag;return a.state={expanded:!1,amount:0,invoices:n,summary:a.props.summary,correctInvoices:l,correctInvoicesMap:s,incorrectFlag:c,invoiceCount:0},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.intentType,o=this.getCommonProps();return u.default.createElement(O.default,{classes:{root:a.expansionPanelRoot},expanded:this.state.expanded,className:a.panel},u.default.createElement(x.default,{className:this.state.expanded?a.expandedBackground:a.panelCommon,expandIcon:n!==N.INTENT_TYPES.FOLLOW_UP&&u.default.createElement(T.default,{onClick:this.toggleExpand,className:a.expandIcon})},n===N.INTENT_TYPES.P2P&&u.default.createElement(h.default,l({incorrectFlag:this.state.incorrectFlag,totalAmount:this.state.amount,summary:this.state.summary,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices},o)),n===N.INTENT_TYPES.DISPUTE&&u.default.createElement(g.default,l({incorrectFlag:this.state.incorrectFlag,summary:this.state.summary,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices,reasonCodeList:this.props.reasonCodeList},o)),n===N.INTENT_TYPES.FOLLOW_UP&&u.default.createElement(b.default,l({incorrectFlag:this.state.incorrectFlag,summary:this.state.summary,followupTextList:this.props.followupTextList},o))),u.default.createElement(I.default,{className:a.panelCommon},u.default.createElement(E.default,{sum:this.state.summary,intentType:n,correctInvoices:this.state.correctInvoices,correctInvoicesMap:this.state.correctInvoicesMap,incorrectFlag:this.state.incorrectFlag,onUpdateInvoice:this.updateInvoices,done:this.state.completed,invoices:this.props.allInvoiceList,bucketNames:this.props.bucketNames,updateInvoices:function(t,a){e.updateCorrectInvoices(t,a)}})))}}]),t}(c.Component),j=function(){var e=this;this.toggleExpand=function(){e.setState({expanded:!e.state.expanded})},this.genInitialInvoiceData=function(t){var a=[],n={},o=!1,r=e.props.allInvoiceList;if(t)for(var i=0;i<t.length;i++){for(var l=!1,s=0;s<r.length&&!l;s++)for(var c=0;c<r[s].length;c++){var u=r[s][c];if(t[i]==u.documentNumber){a.push(u),n[u.id]=!0,l=!0;break}}if(!l){var d=Object.create({id:t[i]+"incorrect",documentNumber:t[i]});a.push(d),o=!0}}return Object.freeze({correctInvoices:a,correctInvoicesMap:n,incorrectFlag:o})},this.getCommonProps=function(){return Object.assign({customer:e.props.customer,callToName:e.props.calledToName,calledToNumber:e.props.calledToNumber,contactLog:e.props.contactLog,onActionItemConfirm:e.props.onActionItemConfirm,deleteAction:e.props.onDelete,onCompletion:e.markThisComplete,toggleExpand:e.toggleExpand,openSnackbarOnAction:function(t){return e.props.openSnackbarOnAction(t)},updateSummaryInParent:function(t){e.props.updateSummaryInParent(t,e.state.correctInvoices)}})},this.updateCorrectInvoices=function(t,a){e.setState({correctInvoices:t,correctInvoicesMap:a},function(){e.props.updateInvoicesInParent(t)})},this.updateInvoices=function(t,a){e.setState({incorrectFlag:t,invoiceCount:a})},this.markThisComplete=function(){e.setState({completed:!0,expanded:!1}),e.props.completed()}};A.propTypes={classes:p.default.object.isRequired},t.default=(0,m.withStyles)(P,{withTheme:!0})(A)},6089:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.inputRef,a=e.onChange,n=o(e,["inputRef","onChange"]);return p.default.createElement(_.default,c({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$",allowNegative:!1,decimalScale:8}))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),p=n(d),m=a(43),f=n(m),h=a(4),v=n(h),g=a(8),y=n(g),b=a(19),C=a(114),E=a(6077),S=n(E),O=a(6078),w=a(23),x=a(328),k=n(x),I=a(21),D=n(I),T=a(166),N=n(T),P=a(325),A=n(P),j=a(41),M=n(j),F=a(40),R=n(F),B=a(332),_=n(B),L=a(29),H=n(L),U=a(85),W=n(U),V=a(324),z=n(V),Y=a(113),K=a(326),q=a(67),G=a(42),X=a(31),J=n(X),Q=a(32),Z=n(Q),$=/(Promise to pay for \d*)|(\d{4}-\d{2}-\d{2}T[\d{2}:]*.\d{3}[-|+]\d{2}:\d{2})|(\d* invoice)/g,ee="Payment commitment received for <Amount> to be paid by <Date> <Invoices>.",te="Create Promise to pay for <Amount> to be paid by <Date> for <Invoices>",ae=function(e){return{textField:{fontSize:"0.875rem",fontWeight:"bold",color:e.palette.primary.main,margin:0}}},ne=(0,w.createMuiTheme)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:k.default.A200,height:"13vh"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:k.default.A700},selected:{backgroundColor:k.default[400]},current:{color:k.default[900]}},MuiFormHelperText:{error:{color:"#FF8888 !important"}},MuiPickersModal:{dialogAction:{color:k.default[400]}}}}),oe=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));re.call(a);var n=a.props.summary.summary.match($),o=n[0].match(/[0-9]{1,}/);return a.state={readOnly:!a.props.summary.created,isEditing:a.props.summary.created||!1,prevAmount:"",amount:o?o[0]:a.props.summary.created?"":0,selectedDate:new Date(n[1]),invoiceCount:a.props.invoiceCount,openActionSave:!1,snackBarOpen:!1,snackBarMessage:"",openWarningDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:a.props.summary.save?(0,K.format)(new Date(n[1]),"MMM dd, yyyy"):"",amountTextFieldWidth:o?12*(""+o).length:15,actionSaveProgressBar:!1,incorrectFlag:a.props.incorrectFlag,invalidDataNotifierMessage:"",openInvalidDataNotifier:!1,summary:a.props.summary,isAmountInvalid:!o},a}return l(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.updateSummary()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({incorrectFlag:e.incorrectFlag}),e.invoiceCount>=0&&e.invoiceCount!=this.state.invoiceCount&&this.setState({invoiceCount:e.invoiceCount},function(){t.updateSummary()})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=(this.props.summary,this.props.fullScreen);return p.default.createElement(H.default,{container:!0,className:a.invoiceSample},p.default.createElement(H.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&p.default.createElement(W.default,{className:a.actionProgressBar}),this.state.isDone&&p.default.createElement(C.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),p.default.createElement(H.default,{item:!0,xs:11,md:11,lg:11,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement(H.default,{item:!0},this.state.isDone&&p.default.createElement(D.default,{style:{opacity:1},className:a.cardText},"Created  ")),p.default.createElement(H.default,{item:!0},!this.state.isDone&&p.default.createElement(D.default,{style:{opacity:1},className:a.cardText},"Create  ")),p.default.createElement(H.default,{item:!0},p.default.createElement(D.default,{style:{fontWeight:"bold",opacity:1},className:a.cardText},"P2P  ")),p.default.createElement(H.default,{item:!0},p.default.createElement(D.default,{className:a.cardText},"of  ")),p.default.createElement(H.default,{item:!0,style:{minWidth:this.state.isEditing?"7rem":this.state.amountTextFieldWidth,width:this.state.isEditing?"7rem":this.state.amountTextFieldWidth,maxWidth:"9rem"}},p.default.createElement(N.default,{id:"invoice-amount-field-"+this.state.actionId,className:a.textField,value:this.state.amount,onChange:function(t){return e.handleInvoiceCurrencyChange(t)},margin:"normal",padding:"normal",InputProps:{className:this.state.isAmountInvalid?(0,y.default)(a.borderFirst,a.inputFieldText):(0,y.default)(a.borderSecond,a.inputFieldText),readOnly:Boolean(this.state.readOnly),disableUnderline:Boolean(this.state.readOnly),inputComponent:this.state.isEditing?s:this.FormattedCurrencyInput}})),p.default.createElement(H.default,{item:!0},!this.state.isEditing&&!this.state.isDone&&p.default.createElement(C.BorderColor,{className:a.cardIcon,style:{marginLeft:"6px"},onClick:this.toggleEditing}),this.state.isEditing&&!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(C.HighlightOff,{style:{marginLeft:"0.4rem",color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},className:this.state.prevAmount?"":a.disableDoneBtn,onClick:this.state.prevAmount?this.dismissAmountChanges:Y.emptyFunction}),p.default.createElement(C.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.isAmountInvalid?a.disableDoneBtn:"",onClick:this.state.isAmountInvalid?Y.emptyFunction:this.saveInvoiceAmountChange}))),p.default.createElement(H.default,{item:!0},p.default.createElement(D.default,{className:a.cardText},"  with due date of  ")),p.default.createElement(H.default,{item:!0}," ",this.state.isDone&&p.default.createElement(D.default,{style:{color:n.palette.primary.main}},this.state.finalSelectedDate)),p.default.createElement(H.default,{item:!0,style:{display:"flex",maxWidth:"8em"}},!this.state.isDone&&p.default.createElement(O.MuiPickersUtilsProvider,{utils:S.default},p.default.createElement(w.MuiThemeProvider,{theme:ne},p.default.createElement(O.DatePicker,{style:{maxWidth:"5.35rem"},allowKeyboardControl:Boolean(!1),format:"MMM dd, yyyy",minDateMessage:"Previous date not acceptable",InputProps:{id:"date-input-field-"+this.state.actionId,className:(0,y.default)(a.inputFieldText,a.borderSecond),readOnly:Boolean(!0),disableUnderline:Boolean(!0)},ref:function(t){e.picker=t},value:this.state.selectedDate,onChange:this.handleDateChange,animateYearScrolling:!1,minDate:new Date}),p.default.createElement(C.DateRange,{className:a.cardIcon,onClick:this.openPicker})))),p.default.createElement(H.default,{item:!0,align:"left"},0!==this.state.invoiceCount&&p.default.createElement("div",{style:{alignItems:"center",display:"flex"}},p.default.createElement(D.default,{className:a.cardText},!this.state.isEditing&&p.default.createElement("span",null," "),"towards "),p.default.createElement(D.default,{style:{fontWeight:"bold"},className:a.cardText,onClick:this.props.toggleExpand},this.state.invoiceCount+" Invoice"+(this.state.invoiceCount>1?"s":"")),this.state.incorrectFlag&&p.default.createElement(A.default,{className:a.errorFlag}))))),p.default.createElement(z.default,{fullScreen:o,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[p.default.createElement(f.default,{onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),p.default.createElement(f.default,{onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),p.default.createElement(z.default,{fullScreen:o,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[p.default.createElement(f.default,{onClick:this.closeWarningDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(z.default,{fullScreen:o,open:this.state.openInvalidDataNotifier,onClose:this.closeInvalidDataNotifier,title:this.state.invalidDataNotifierMessage,actions:[p.default.createElement(f.default,{onClick:this.closeInvalidDataNotifier,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(H.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(C.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),p.default.createElement(C.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.checkInvalidation()?"":a.disableDoneBtn,onClick:this.checkInvalidation()?this.saveP2P:Y.emptyFunction}))))}}]),t}(d.Component),re=function(){var e=this;this.handleInvoiceCurrencyChange=function(t){e.setState({amountTextFieldWidth:t.target.value?12*(""+t.target.value.length):50,amount:t.target.value,amountFormatted:t.target.value,isAmountInvalid:!1},function(){e.state.amount||e.setState({isAmountInvalid:!0})})},this.openDataInvalidDialog=function(t){e.setState({openInvalidDataNotifier:!0,invalidDataNotifierMessage:t})},this.closeInvalidDataNotifier=function(){e.setState({openInvalidDataNotifier:!1})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.validateP2PData=function(){var t=e.state.amount;return Number(t)<1?(e.openDataInvalidDialog("Please enter amount > 0."),!1):!!(0,G.isValidDate)(e.state.selectedDate)||(e.openDataInvalidDialog("Found invalid date. Please correct the date to proceed."),!1)},this.checkInvalidation=function(){return!e.state.isAmountInvalid&&!e.state.incorrectFlag&&(0,G.isValidDate)(e.state.selectedDate)},this.saveP2P=function(){if(e.validateP2PData()){console.log(t);var t=null!==e.props.contactLog.contact?e.props.contactLog.contact.id:null,a=e.props.contactLog.callingNumber,n=e.props.correctInvoices.map(function(e){var t={};return t.cmsDocHeaderId=e.id,t});if(e.state.incorrectFlag)return void e.setState({openWarningDialog:!0});e.setState({actionSaveProgressBar:!0,isEditing:!1,readOnly:!0});var o={committedAmount:e.state.amount,committedBy:{id:t,phoneNumber:a},committedDate:new Date(e.state.selectedDate),committedOn:new Date,currency:"$",customerId:e.props.customer.id,pcItems:n};M.default.post(R.default.apiUrl+"/customer/"+e.props.customer.id+"/p2p",o).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({finalSelectedDate:e.getDateFieldValue()},function(){e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1,isDone:!1})})}},this.generateActionSummary=function(){var t=e.state.invoiceCount,a=e.state.selectedDate,n=(0,K.format)(a,"MM-dd-yyyy");return ee.replace("<Amount>","$"+(0,G.formatCurrencyToUSFormat)(e.state.amount)).replace("<Date>",n).replace("<Invoices>",0===t?"":1===t?"for "+t+" invoice":"for "+t+" invoices")},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.dismissAmountChanges=function(){var t=e.state,a=(0,q.customCurrencyFormatter)(e.state.amount).length;e.setState({amount:t.prevAmount,readOnly:!0,isEditing:!1,amountTextFieldWidth:4.5*a}),document.getElementById("invoice-amount-field-"+e.state.actionId).blur()},this.openPicker=function(t){e.picker.open(t)},this.updateSummary=function(){var t=e.state.invoiceCount,a=(0,G.formatDateWithTimezone)(new Date(e.state.selectedDate),"-06:00"),n=te.replace("<Amount>",e.state.amount?e.state.amount:"<amount-of-money>").replace("<Date>",a).replace("<Invoices>",0===t?"<X invoices>":1===t?t+" invoice":t+" invoices");e.props.updateSummaryInParent(n)},this.saveInvoiceAmountChange=function(){var t=(0,q.customCurrencyFormatter)(e.state.amount).length;e.setState({prevAmount:e.state.amount,readOnly:!0,isEditing:!1,amountTextFieldWidth:4.5*t},function(){e.updateSummary()}),document.getElementById("invoice-amount-field-"+e.state.actionId).blur()},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.toggleEditing=function(t){e.setState({readOnly:!1,isEditing:!0},function(){document.getElementById("invoice-amount-field-"+e.state.actionId).focus()})},this.handleDateChange=function(t){e.setState({selectedDate:t},function(){e.updateSummary()})},this.getDateFieldValue=function(){var t="date-input-field-"+e.state.actionId;return document.getElementById(t).value},this.FormattedCurrencyInput=function(t){var a=t.inputRef,n=t.onChange,r=o(t,["inputRef","onChange"]);return p.default.createElement(_.default,c({},r,{getInputRef:a,onValueChange:function(e){n({target:{value:e.value}})},format:function(t){return(0,q.customCurrencyFormatter)(e.state.amount,"$")},decimalScale:8,allowNegative:!1}))}};s.propTypes={inputRef:v.default.func.isRequired,onChange:v.default.func.isRequired},oe.propTypes={classes:v.default.object.isRequired};var ie=(0,J.default)(ae,Z.default);t.default=(0,b.withStyles)(ie,{withTheme:!0})(oe)},6090:function(e,t,a){"use strict";function n(e,t){function a(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}function o(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]]);return a}t.b=n,a.d(t,"a",function(){return i}),t.c=o;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i.apply(this,arguments)}},6091:function(e,t,a){!function(t,n){e.exports=n(a(0))}(0,function(e){return function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return n(u).default}});var d=a(11),p=n(d),m=a(9),f=n(m),h=a(5),v=n(h),g=function(e){function t(){var e;r(this,t);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];var l=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return l.onBlur=l.onBlur.bind(l),l.onChange=l.onChange.bind(l),l}return l(t,e),c(t,[{key:"initTextMask",value:function(){var e=this.props,t=this.props.value;this.textMaskInputElement=(0,v.default)(s({inputElement:this.inputElement},e)),this.textMaskInputElement.update(t)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(){this.initTextMask()}},{key:"render",value:function(){var e=this,t=this.props,a=t.render,n=o(t,["render"]);return delete n.mask,delete n.guide,delete n.pipe,delete n.placeholderChar,delete n.keepCharPositions,delete n.value,delete n.onBlur,delete n.onChange,delete n.showMask,a(function(t){return e.inputElement=t},s({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},n))}},{key:"onChange",value:function(e){this.textMaskInputElement.update(),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"onBlur",value:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e)}}]),t}(p.default.Component);t.default=g,g.propTypes={mask:f.default.oneOfType([f.default.array,f.default.func,f.default.bool,f.default.shape({mask:f.default.oneOfType([f.default.array,f.default.func]),pipe:f.default.func})]).isRequired,guide:f.default.bool,value:f.default.oneOfType([f.default.string,f.default.number]),pipe:f.default.func,placeholderChar:f.default.string,keepCharPositions:f.default.bool,showMask:f.default.bool},g.defaultProps={render:function(e,t){return p.default.createElement("input",s({ref:e},t))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,r.isArray)(t)){if((void 0===t?"undefined":o(t))!==i.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,a),t=(0,r.processCaretTraps)(t).maskWithoutCaretTraps}var n=a.guide,c=void 0===n||n,u=a.previousConformedValue,d=void 0===u?s:u,p=a.placeholderChar,m=void 0===p?i.placeholderChar:p,f=a.placeholder,h=void 0===f?(0,r.convertMaskToPlaceholder)(t,m):f,v=a.currentCaretPosition,g=a.keepCharPositions,y=!1===c&&void 0!==d,b=e.length,C=d.length,E=h.length,S=t.length,O=b-C,w=O>0,x=v+(w?-O:0),k=x+Math.abs(O);if(!0===g&&!w){for(var I=s,D=x;D<k;D++)h[D]===m&&(I+=m);e=e.slice(0,x)+I+e.slice(x,b)}for(var T=e.split(s).map(function(e,t){return{char:e,isNew:t>=x&&t<k}}),N=b-1;N>=0;N--){var P=T[N].char;if(P!==m){P===h[N>=x&&C===S?N-O:N]&&T.splice(N,1)}}var A=s,j=!1;e:for(var M=0;M<E;M++){var F=h[M];if(F===m){if(T.length>0)for(;T.length>0;){var R=T.shift(),B=R.char,_=R.isNew;if(B===m&&!0!==y){A+=m;continue e}if(t[M].test(B)){if(!0===g&&!1!==_&&d!==s&&!1!==c&&w){for(var L=T.length,H=null,U=0;U<L;U++){var W=T[U];if(W.char!==m&&!1===W.isNew)break;if(W.char===m){H=U;break}}null!==H?(A+=B,T.splice(H,1)):M--}else A+=B;continue e}j=!0}!1===y&&(A+=h.substr(M,E));break}A+=F}if(y&&!1===w){for(var V=null,z=0;z<A.length;z++)h[z]===m&&(V=z);A=null!==V?A.substr(0,V+1):s}return{conformedValue:A,meta:{someCharsRejected:j}}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n;var r=a(3),i=a(1),l=[],s=""},function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.placeholderChar;if(!o(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map(function(e){return e instanceof RegExp?t:e}).join("")}function o(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function r(e){return"string"==typeof e||e instanceof String}function i(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)}function l(e){for(var t=[],a=void 0;-1!==(a=e.indexOf(u));)t.push(a),e.splice(a,1);return{maskWithoutCaretTraps:e,indexes:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=n,t.isArray=o,t.isString=r,t.isNumber=i,t.processCaretTraps=l;var s=a(1),c=[],u="[]"},function(e,t){"use strict";function a(e){var t=e.previousConformedValue,a=void 0===t?o:t,r=e.previousPlaceholder,i=void 0===r?o:r,l=e.currentCaretPosition,s=void 0===l?0:l,c=e.conformedValue,u=e.rawValue,d=e.placeholderChar,p=e.placeholder,m=e.indexesOfPipedChars,f=void 0===m?n:m,h=e.caretTrapIndexes,v=void 0===h?n:h;if(0===s||!u.length)return 0;var g=u.length,y=a.length,b=p.length,C=c.length,E=g-y,S=E>0,O=0===y;if(E>1&&!S&&!O)return s;var w=S&&(a===c||c===p),x=0,k=void 0,I=void 0;if(w)x=s-E;else{var D=c.toLowerCase(),T=u.toLowerCase(),N=T.substr(0,s).split(o),P=N.filter(function(e){return-1!==D.indexOf(e)});I=P[P.length-1];var A=i.substr(0,P.length).split(o).filter(function(e){return e!==d}).length,j=p.substr(0,P.length).split(o).filter(function(e){return e!==d}).length,M=j!==A,F=void 0!==i[P.length-1]&&void 0!==p[P.length-2]&&i[P.length-1]!==d&&i[P.length-1]!==p[P.length-1]&&i[P.length-1]===p[P.length-2];!S&&(M||F)&&A>0&&p.indexOf(I)>-1&&void 0!==u[s]&&(k=!0,I=u[s]);for(var R=f.map(function(e){return D[e]}),B=R.filter(function(e){return e===I}).length,_=P.filter(function(e){return e===I}).length,L=p.substr(0,p.indexOf(d)).split(o).filter(function(e,t){return e===I&&u[t]!==e}).length,H=L+_+B+(k?1:0),U=0,W=0;W<C;W++){var V=D[W];if(x=W+1,V===I&&U++,U>=H)break}}if(S){for(var z=x,Y=x;Y<=b;Y++)if(p[Y]===d&&(z=Y),p[Y]===d||-1!==v.indexOf(Y)||Y===b)return z}else if(k){for(var K=x-1;K>=0;K--)if(c[K]===I||-1!==v.indexOf(K)||0===K)return K}else for(var q=x;q>=0;q--)if(p[q-1]===d||-1!==v.indexOf(q)||0===q)return q}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=[],o=""},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=n.inputElement,c=n.mask,d=n.guide,v=n.pipe,y=n.placeholderChar,b=void 0===y?f.placeholderChar:y,C=n.keepCharPositions,E=void 0!==C&&C,S=n.showMask,O=void 0!==S&&S;if(void 0===a&&(a=o.value),a!==t.previousConformedValue){(void 0===c?"undefined":s(c))===g&&void 0!==c.pipe&&void 0!==c.mask&&(v=c.pipe,c=c.mask);var w=void 0,x=void 0;if(c instanceof Array&&(w=(0,m.convertMaskToPlaceholder)(c,b)),!1!==c){var k=i(a),I=o.selectionEnd,D=t.previousConformedValue,T=t.previousPlaceholder,N=void 0;if((void 0===c?"undefined":s(c))===f.strFunction){if(!1===(x=c(k,{currentCaretPosition:I,previousConformedValue:D,placeholderChar:b})))return;var P=(0,m.processCaretTraps)(x),A=P.maskWithoutCaretTraps,j=P.indexes;x=A,N=j,w=(0,m.convertMaskToPlaceholder)(x,b)}else x=c;var M={previousConformedValue:D,guide:d,placeholderChar:b,pipe:v,placeholder:w,currentCaretPosition:I,keepCharPositions:E},F=(0,p.default)(k,x,M),R=F.conformedValue,B=(void 0===v?"undefined":s(v))===f.strFunction,_={};B&&(_=v(R,l({rawValue:k},M)),!1===_?_={value:D,rejected:!0}:(0,m.isString)(_)&&(_={value:_}));var L=B?_.value:R,H=(0,u.default)({previousConformedValue:D,previousPlaceholder:T,conformedValue:L,placeholder:w,rawValue:k,currentCaretPosition:I,placeholderChar:b,indexesOfPipedChars:_.indexesOfPipedChars,caretTrapIndexes:N}),U=L===w&&0===H,W=O?w:h,V=U?W:L;t.previousConformedValue=V,t.previousPlaceholder=w,o.value!==V&&(o.value=V,r(o,H))}}}}}function r(e,t){document.activeElement===e&&(y?b(function(){return e.setSelectionRange(t,t,v)},0):e.setSelectionRange(t,t,v))}function i(e){if((0,m.isString)(e))return e;if((0,m.isNumber)(e))return String(e);if(void 0===e||null===e)return h;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=o;var c=a(4),u=n(c),d=a(2),p=n(d),m=a(3),f=a(1),h="",v="none",g="object",y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout},function(e,t){"use strict";function a(e){return function(){return e}}var n=function(){};n.thatReturns=a,n.thatReturnsFalse=a(!1),n.thatReturnsTrue=a(!0),n.thatReturnsNull=a(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,a){"use strict";function n(e,t,a,n,r,i,l,s){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,n,r,i,l,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};e.exports=n},function(e,t,a){"use strict";var n=a(6),o=a(7),r=a(10);e.exports=function(){function e(e,t,a,n,i,l){l!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t,a){"use strict";"function"==typeof Symbol&&Symbol.iterator,e.exports=a(8)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,a){t.exports=e}])})},6092:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=n(a(6093)),r=n(a(6097)),i=n(a(327)),l=n(a(55));e.exports={Transition:l.default,TransitionGroup:i.default,ReplaceTransition:r.default,CSSTransition:o.default}},6093:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}t.__esModule=!0,t.default=void 0;var i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}t.default=e}(a(4)),n(a(6094))),l=n(a(6096)),s=n(a(0)),c=n(a(55)),u=(a(342),function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,i.default)(e,t)})}),d=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,l.default)(e,t)})},p=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,t.onEnter=function(e,a){var n=t.getClassNames(a?"appear":"enter"),o=n.className;t.removeClasses(e,"exit"),u(e,o),t.props.onEnter&&t.props.onEnter(e)},t.onEntering=function(e,a){var n=t.getClassNames(a?"appear":"enter"),o=n.activeClassName;t.reflowAndAddClass(e,o),t.props.onEntering&&t.props.onEntering(e)},t.onEntered=function(e,a){var n=t.getClassNames("enter"),o=n.doneClassName;t.removeClasses(e,a?"appear":"enter"),u(e,o),t.props.onEntered&&t.props.onEntered(e)},t.onExit=function(e){var a=t.getClassNames("exit"),n=a.className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.getClassNames("exit"),n=a.activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.getClassNames("exit"),n=a.doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var a=t.props.classNames,n="string"!=typeof a?a[e]:a+"-"+e;return{className:n,activeClassName:"string"!=typeof a?a[e+"Active"]:n+"-active",doneClassName:"string"!=typeof a?a[e+"Done"]:n+"-done"}},t}o(t,e);var a=t.prototype;return a.removeClasses=function(e,t){var a=this.getClassNames(t),n=a.className,o=a.activeClassName,r=a.doneClassName;n&&d(e,n),o&&d(e,o),r&&d(e,r)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},a.render=function(){var e=r({},this.props);return delete e.classNames,s.default.createElement(c.default,r({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.default.Component);p.propTypes={};var m=p;t.default=m,e.exports=t.default},6094:function(e,t,a){"use strict";function n(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var o=a(3);t.__esModule=!0,t.default=n;var r=o(a(6095));e.exports=t.default},6095:function(e,t,a){"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.__esModule=!0,t.default=n,e.exports=t.default},6096:function(e,t,a){"use strict";function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}},6097:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var i=(n(a(4)),n(a(0))),l=a(20),s=n(a(327)),c=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,t.handleEnter=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEnter",0,a)},t.handleEntering=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEntering",0,a)},t.handleEntered=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEntered",0,a)},t.handleExit=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExit",1,a)},t.handleExiting=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExiting",1,a)},t.handleExited=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExited",1,a)},t}r(t,e);var a=t.prototype;return a.handleLifecycle=function(e,t,a){var n,o=this.props.children,r=i.default.Children.toArray(o)[t];r.props[e]&&(n=r.props)[e].apply(n,a),this.props[e]&&this.props[e]((0,l.findDOMNode)(this))},a.render=function(){var e=this.props,t=e.children,a=e.in,n=o(e,["children","in"]),r=i.default.Children.toArray(t),l=r[0],c=r[1];return delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,i.default.createElement(s.default,n,a?i.default.cloneElement(l,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):i.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(i.default.Component);c.propTypes={};var u=c;t.default=u,e.exports=t.default},6098:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(43),d=n(u),p=a(4),m=n(p),f=a(19),h=a(114),v=a(21),g=n(v),y=a(325),b=n(y),C=a(41),E=n(C),S=a(40),O=n(S),w=a(29),x=n(w),k=a(115),I=n(k),D=a(168),T=n(D),N=a(166),P=(n(N),a(85)),A=n(P),j=a(324),M=n(j),F=a(326),R=a(113),B=a(31),_=n(B),L=a(32),H=n(L),U=a(8),W=n(U),V={summary:{summary:""},reasonCodeList:[],correctInvoices:"",incorrectFlag:"",toggleExpand:!1,deleteAction:function(){}},z=/(\d* invoice)|(because of .*)/g,Y="Dispute raised for <Invoices> because of : <DISPUTE-REASON>",K="Create Dispute for <Invoices> because of <ReasonCode>",q=function(e){return{selectIcon:{color:e.palette.secondary.main}}},G=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));X.call(a);var n=a.props.summary&&a.props.summary.summary?a.props.summary.summary.match(z):"",i=n[1]?n[1].substring(11):"";return a.props.reasonCodeList.indexOf(i)<0&&(i=""),a.state={reasonCode:i,invoiceCount:a.props.invoiceCount,openActionSave:!1,openWarningDialog:!1,openNoReasonDialog:!1,openNoInvoiceDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:"",change:!1},a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({incorrectFlag:e.incorrectFlag}),e.invoiceCount>=0&&e.invoiceCount!=this.state.invoiceCount&&this.setState({invoiceCount:e.invoiceCount},function(){t.updateSummary()})}},{key:"render",value:function(){var e=this.props.classes,t=(this.props.summary,this.props.fullScreen),a=this.props.reasonCodeList,n=a&&a.map(function(t,a){return c.default.createElement(T.default,{key:a,classes:{root:e.menuItemRoot},value:t},t)});return c.default.createElement(x.default,{container:!0,className:e.invoiceSample},c.default.createElement(x.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},c.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&c.default.createElement(A.default,{className:e.actionProgressBar}),this.state.isDone&&c.default.createElement(h.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),c.default.createElement(x.default,{item:!0},this.state.isDone&&c.default.createElement(g.default,{style:{opacity:1},className:e.cardText},"Created  ")),c.default.createElement(x.default,{item:!0},!this.state.isDone&&c.default.createElement(g.default,{style:{opacity:1},className:e.cardText},"Create  ")),c.default.createElement(x.default,{item:!0},c.default.createElement(g.default,{style:{fontWeight:"bold",opacity:1},className:e.cardText},"DISPUTE  ")),c.default.createElement(x.default,{item:!0},0!==this.state.invoiceCount&&c.default.createElement("div",{style:{alignItems:"center",display:"flex"}},c.default.createElement(g.default,{style:{margin:"0 8px 0 6px"},className:e.cardText},"for"),c.default.createElement(g.default,{style:{fontWeight:"bold"},className:e.cardText,onClick:this.props.toggleExpand},this.state.invoiceCount+" Invoice"+(this.state.invoiceCount>1?"s":"")),this.props.incorrectFlag&&c.default.createElement(b.default,{className:e.errorFlag}))),c.default.createElement(x.default,{item:!0},c.default.createElement(g.default,{className:e.cardText},"  with reason code of  ")),c.default.createElement(x.default,{item:!0,hidden:this.state.isDone},c.default.createElement(I.default,{id:"reason-code-field",value:this.getReasonCode(),onChange:this.handleReasonCodeChange,className:this.state.reasonCode?(0,W.default)(e.borderSecond,e.inputFieldText):(0,W.default)(e.borderFirst,e.inputFieldText),classes:{selectMenu:e.selectMenuClass,icon:e.selectIcon},MenuProps:{classes:{paper:e.menuPaper}}},c.default.createElement(T.default,{classes:{root:e.menuItemRoot},value:"Select",disabled:!0},"Select"),n)),c.default.createElement(x.default,{item:!0,hidden:!this.state.isDone},c.default.createElement(g.default,null,this.state.reasonCode))),c.default.createElement(M.default,{fullScreen:t,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),c.default.createElement(M.default,{fullScreen:t,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeWarningDialog,color:"primary",autoFocus:!0},"OK")]}),c.default.createElement(M.default,{fullScreen:t,open:this.state.openNoReasonDialog,onClose:this.closeNoReasonDialog,title:"Please select appropriate dispute reason.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeNoReasonDialog,color:"secondary",autoFocus:!0},"OK")]}),c.default.createElement(M.default,{fullScreen:t,open:this.state.openNoInvoiceDialog,onClose:this.closeNoInvoiceDialog,title:"No invoice selected. Please add at least an invoice to save the dispute.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeNoInvoiceDialog,color:"secondary",autoFocus:!0},"OK")]}),c.default.createElement(x.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&c.default.createElement("div",null,c.default.createElement(h.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),c.default.createElement(h.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.reasonCode?"":e.disableDoneBtn,onClick:this.state.reasonCode?this.saveDispute:R.emptyFunction}))))}}]),t}(s.Component),X=function(){var e=this;this.saveDispute=function(){var t=e.props.correctInvoices.map(function(e){var t={};return t.cmsDocHeaderId=e.id,t});if(e.props.incorrectFlag)return void e.setState({openWarningDialog:!0});if(!e.state.reasonCode)return void e.setState({openNoReasonDialog:!0});if(0==e.state.invoiceCount)return void e.setState({openNoInvoiceDialog:!0});e.setState({actionSaveProgressBar:!0});var a={reasonCode:e.state.reasonCode,customerId:e.props.customer.id,disputeItems:t};E.default.post(O.default.apiUrl+"/customer/"+e.props.customer.id+"/dispute",a).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1})})},this.generateActionSummary=function(){var t=e.state.invoiceCount;return Y.replace("<DISPUTE-REASON>",e.state.reasonCode).replace("<Invoices>",1==t?t+" invoice":t+" invoices")},this.updateSummary=function(){var t=e.state.invoiceCount,a=((0,F.format)(new Date(e.state.selectedDate),"yyyy-MM-dd"),K.replace("<Invoices>",0===t?"<X invoices>":1===t?t+" invoice":t+" invoices").replace("<ReasonCode>",e.state.reasonCode));e.props.updateSummaryInParent(a)},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.closeNoReasonDialog=function(){e.setState({openNoReasonDialog:!1})},this.closeNoInvoiceDialog=function(){e.setState({openNoInvoiceDialog:!1})},this.handleReasonCodeChange=function(t){e.setState({change:!0,reasonCode:t.target.value},function(){e.updateSummary()})},this.getReasonCode=function(){var t=e.props.reasonCodeList;return e.state.reasonCode&&t.indexOf(e.state.reasonCode)>=0?e.state.reasonCode:"Select"}};G.propTypes={classes:m.default.object.isRequired},G.defaultProps=V;var J=(0,_.default)(q,H.default);t.default=(0,f.withStyles)(J,{withTheme:!0})(G)},6099:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.inputRef,a=e.onChange,n=o(e,["inputRef","onChange"]);return p.default.createElement(j.default,c({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$"}))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),p=n(d),m=a(43),f=n(m),h=a(4),v=n(h),g=a(19),y=a(114),b=a(6077),C=n(b),E=a(6078),S=a(23),O=a(328),w=n(O),x=a(21),k=n(x),I=a(166),D=(n(I),a(41)),T=n(D),N=a(40),P=n(N),A=a(332),j=n(A),M=a(29),F=n(M),R=a(115),B=n(R),_=a(168),L=n(_),H=a(85),U=n(H),W=a(324),V=n(W),z=a(326),Y=a(113),K=a(42),q=a(31),G=n(q),X=a(32),J=n(X),Q=a(8),Z=n(Q),$={summary:{summary:""},followupTextList:[],incorrectFlag:"",deleteAction:function(){}},ee=/(\d{4}-\d{2}-\d{2}T[\d{2}:]*.\d{3}[-|+]\d{2}:\d{2})|(reason: .*)/g,te="Follow up  <Contact Name> <Followup Date> <Followup Text>",ae="Create Followup event for <Followup Date> reason: <Followup Text>",ne=(new Date,function(e){return{selectIcon:{color:e.palette.secondary.main}}}),oe=(0,S.createMuiTheme)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:w.default.A200,height:"13vh"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:w.default.A700},selected:{backgroundColor:w.default[400]},current:{color:w.default[900]}},MuiFormHelperText:{error:{color:"#FF8888 !important"}},MuiPickersModal:{dialogAction:{color:w.default[400]}}}}),re=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ie.call(a);var n=a.props.summary.summary.match(ee),o="",l="";return n&&n.length>0&&(o=new Date(n[0]),l=n[1]?n[1].substring(8):null),a.props.followupTextList.indexOf(l)<0&&(l=""),a.state={readOnly:!0,isEditing:!1,followupText:l,selectedDate:new Date(o),openActionSave:!1,openWarningDialog:!1,openInvalidDateDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:a.props.summary.save?(0,z.format)(new Date(n[0]),"MMM dd, yyyy"):"",actionSaveProgressBar:!1,incorrectFlag:null},a}return l(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({incorrectFlag:e.incorrectFlag})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props,n=(a.summary,a.theme),o=this.props.fullScreen,r=this.props.followupTextList,i=r.map(function(e,a){return p.default.createElement(L.default,{key:"followupText"+a,value:e,classes:{root:t.menuItemRoot}},e)});return p.default.createElement(F.default,{container:!0,className:t.invoiceSample},p.default.createElement(F.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&p.default.createElement(U.default,{className:t.actionProgressBar}),this.state.isDone&&p.default.createElement(y.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),p.default.createElement(F.default,{item:!0},this.state.isDone&&p.default.createElement(k.default,{style:{opacity:1},className:t.cardText},"Created  ")),p.default.createElement(F.default,{item:!0},!this.state.isDone&&p.default.createElement(k.default,{style:{opacity:1},className:t.cardText},"Create  ")),p.default.createElement(F.default,{item:!0},p.default.createElement(k.default,{style:{opacity:1},className:t.cardText},"FOLLOW-UP  ")),p.default.createElement(F.default,{item:!0},p.default.createElement(k.default,{className:t.cardText},"event for  ")),p.default.createElement(F.default,{item:!0}," ",this.state.isDone&&p.default.createElement(k.default,{style:{fontWeight:"bold",color:n.palette.primary.main}},this.state.finalSelectedDate)),p.default.createElement(F.default,{item:!0},!this.state.isDone&&p.default.createElement(E.MuiPickersUtilsProvider,{utils:C.default},p.default.createElement(S.MuiThemeProvider,{theme:oe},p.default.createElement(E.DatePicker,{style:{maxWidth:"5.35rem"},allowKeyboardControl:Boolean(!1),format:"MMM dd, yyyy",minDateMessage:"Previous date not acceptable",InputProps:{id:"date-input-field-"+this.state.actionId,className:(0,Z.default)(t.borderSecond,t.inputFieldText),readOnly:Boolean(!0),disableUnderline:Boolean(!0)},ref:function(t){e.picker=t},value:this.state.selectedDate,onChange:this.handleDateChange,animateYearScrolling:!1,minDate:new Date}),p.default.createElement(y.DateRange,{className:t.cardIcon,onClick:this.openPicker})))),p.default.createElement(F.default,{item:!0,hidden:this.state.isDone&&!this.state.followupText},p.default.createElement(k.default,{className:t.cardText},"  for  ")),p.default.createElement(F.default,{item:!0,hidden:this.state.isDone},p.default.createElement(B.default,{id:"followup-text-field",value:this.getFollowupText(),onChange:this.handleFollowupTextChange,classes:{selectMenu:t.selectMenuClass,icon:t.selectIcon},className:this.state.followupText?(0,Z.default)(t.borderSecond,t.inputFieldText):(0,Z.default)(t.borderFirst,t.inputFieldText),MenuProps:{classes:{paper:t.menuPaper}}},p.default.createElement(L.default,{classes:{root:t.menuItemRoot},value:"Select",disabled:!0},"Select"),i)),p.default.createElement(F.default,{item:!0,hidden:!this.state.isDone},p.default.createElement(k.default,{className:t.selectMenuClass},this.state.followupText))),p.default.createElement(V.default,{fullScreen:o,open:this.state.openNoTextDialog,onClose:this.closeNoTextDialog,title:"Please select appropriate followup reason.",actions:[p.default.createElement(f.default,{onClick:this.closeNoTextDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(V.default,{fullScreen:o,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[p.default.createElement(f.default,{onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),p.default.createElement(f.default,{onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),p.default.createElement(V.default,{fullScreen:o,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[p.default.createElement(f.default,{onClick:this.closeWarningDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(V.default,{fullScreen:o,open:this.state.openInvalidDateDialog,onClose:this.closeInvalidDateDialog,title:"Found invalid date. Please correct the date to proceed.",actions:[p.default.createElement(f.default,{onClick:this.closeInvalidDateDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(F.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(y.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),p.default.createElement(y.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.followupText?"":t.disableDoneBtn,onClick:this.state.followupText?this.saveFollowup:Y.emptyFunction}))))}}]),t}(d.Component),ie=function(){var e=this;this.validateFollowupData=function(){return e.state.incorrectFlag?(e.setState({openWarningDialog:!0}),!1):!!(0,K.isValidDate)(e.state.selectedDate)||(e.setState({openInvalidDateDialog:!0}),!1)},this.saveFollowup=function(){if(e.validateFollowupData()){if(!e.state.followupText)return void e.setState({openNoTextDialog:!0});e.setState({actionSaveProgressBar:!0});var t=new Date(e.state.selectedDate),a=(0,z.format)(t,"yyyy-MM-dd"),n={dueDate:a,reminderDate:a,subject:e.state.followupText};T.default.post(P.default.apiUrl+"/customer/"+e.props.customer.id+"/task",n).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({finalSelectedDate:e.getDateFieldValue()},function(){e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1})})}},this.generateActionSummary=function(){var t=(e.state.invoiceCount,e.props.calledToNumber),a="Unknown "!=e.props.callToName&&"Unnamed Unnamed"!=e.props.callToName||!t?e.props.callToName:t;return te.replace("<Contact Name>",a).replace("<Followup Date>",e.state.selectedDate?"on "+(0,z.format)(e.state.selectedDate,"MM-dd-yyyy"):"").replace("<Followup Text>",e.state.followupText?"for "+e.state.followupText:"")},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.closeNoTextDialog=function(){e.setState({openNoTextDialog:!1})},this.closeInvalidDateDialog=function(){e.setState({openInvalidDateDialog:!1})},this.toggleEditing=function(t){e.setState({readOnly:!1,isEditing:!0},function(){document.getElementById("invoice-amount-field-"+e.state.actionId).focus()})},this.handleDateChange=function(t){e.setState({selectedDate:t},function(){e.updateSummary()})},this.getDateFieldValue=function(){var t="date-input-field-"+e.state.actionId;return document.getElementById(t).value},this.handleFollowupTextChange=function(t){e.setState({change:!0,followupText:t.target.value},function(){e.updateSummary()})},this.getFollowupText=function(){var t=e.props.followupTextList;return e.state.followupText&&t.indexOf(e.state.followupText)>=0?e.state.followupText:"Select"},this.updateSummary=function(){var t=(e.state.invoiceCount,(0,z.format)(new Date(e.state.selectedDate),"yyyy-MM-dd")),a=ae.replace("<Followup Date>",t).replace("<Followup Text>",e.state.followupText?e.state.followupText:"");e.props.updateSummaryInParent(a)},this.openPicker=function(t){e.picker.open(t)}};s.propTypes={inputRef:v.default.func.isRequired,onChange:v.default.func.isRequired},re.propTypes={classes:v.default.object.isRequired},re.defaultProps=$;var le=(0,G.default)(ne,J.default);t.default=(0,g.withStyles)(le,{withTheme:!0})(re)},6100:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"73vw",border:e.palette.primary.main+" 2px solid"}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),m=a(19),f=a(322),h=n(f),v=a(323),g=n(v),y=a(321),b=n(y),C=a(349),E=(n(C),a(29)),S=n(E),O=a(351),w=(n(O),a(348)),x=(n(w),a(352)),k=(n(x),a(68)),I=n(k),D=a(43),T=n(D),N=a(167),P=(n(N),a(91)),A=(n(P),a(178)),j=(n(A),a(21)),M=n(j),F=a(325),R=n(F),B=a(169),_=n(B),L=a(172),H=n(L),U=a(173),W=n(U),V=a(71),z=n(V),Y=a(6079),K=n(Y),q=a(334),G=n(q),X=a(67),J=a(42),Q=a(8),Z=n(Q),$=a(6101),ee=(n($),/(Promise to pay for \d*)|([0-9]{4}[-][0-9]{2}[-][0-9]{2})|(\d* invoice)/g),te=/(\d* invoice)|(because of .*)/g,ae=function(e){return{invoiceHeader:{height:"6.48148148148vh",display:"flex",alignItems:"center",backgroundColor:e.palette.solidBackground.main,borderBottom:"#395C73 solid 1px",paddingLeft:"3rem"},checkedIcon:{color:e.palette.secondary.main,zIndex:"3",height:"calc(1.2vh + 1.2vw)",width:"calc(1.2vh + 1.2vw)"},invoiceList:{width:"auto",height:"auto",marginTop:"1rem",marginBottom:"1.9rem",justifyContent:"space-around",overflow:"hidden",paddingLeft:"3rem"},correction:{display:"flex"},correctionAlert:{color:"#FF8888",marginLeft:".5rem"},errorFlag:{color:"#FF4444",marginLeft:".5rem"},gridList:{width:"100%",height:"100%",margin:"10px 0px -2px -.4rem !important"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",alignItems:"center",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px"},selectedGridListDiv:{backgroundColor:"#39586F"},incorrectDiv:{display:"flex",border:"#FF8888 dashed 1px",width:"15.41vw",height:"7.40vh",alignItems:"center"},paper:{position:"absolute",width:100*e.spacing.unit,backgroundColor:e.palette.solidBackground.main,boxShadow:e.shadows[5],padding:1*e.spacing.unit,paddingLeft:0,paddingRight:0},button:{color:e.palette.primary.main,marginRight:"2em",fontSize:"0.888rem"},addIcon:{width:"calc(1.1vh + 1.1vw)",height:"calc(1.1vh + 1.1vw)",color:e.palette.secondary.main},primaryText:{color:e.palette.primary.main}}},ne=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));oe.call(a);var n=a.props.sum,i=a.props.intentType,l=void 0;if("P2P"==i){l=n.summary.match(ee)[0].match(/[0-9]{1,}/),l||(l=0)}var s=new Map,c=a.props.correctInvoices;if(c)for(var u=0;u<c.length;u++){var d=c[u];s.set(d.id.toString(),!1)}if("Dispute"==i){var p=n.summary.match(te),m=p[1]?p[1].substring(11):"General Dispute";m||(m="General Dispute")}return a.state={allInvoicesSelected:!1,invoicesCheckboxMap:s,totalAmount:l,invoiceCount:a.props.invoiceCount,correctInvoices:a.props.correctInvoices,correctInvoicesMap:a.props.correctInvoicesMap,incorrectFlag:a.props.incorrectFlag,isMessageDialogOpen:!1,openAddInvoiceModal:!1,invoices:a.props.invoices,allInvoices:a.props.invoices,executeAppendInvoice:!1},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{style:{width:"100%"}},!this.props.done&&u.default.createElement("div",null,u.default.createElement(z.default,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openAddInvoiceModal,onClose:this.closeAddInvoiceModal},u.default.createElement("div",{style:l(n),className:a.paper},u.default.createElement("div",{style:{width:"100%",display:"flex",alignItem:"center",borderBottom:"1px solid  #395C73 ",padding:".2rem 0 .6rem 0"}},u.default.createElement("span",{style:{marginLeft:"1rem",fontSize:"1.3rem",color:n.palette.primary.main,opacity:.65}},"Select and Add Invoices"),u.default.createElement(G.default,{onClick:this.closeAddInvoiceModal,style:{position:"fixed",right:"5%",opacity:.65,cursor:"pointer",color:n.palette.primary.main}})),u.default.createElement(K.default,{setSelectedInvoices:this.setSelectedInvoices,postCall:!0,appendInvoices:this.appendInvoices,filterInvoices:this.filterInvoices,bucketNames:this.props.bucketNames,invoices:this.state.invoices,correctInvoicesMap:this.state.correctInvoicesMap}),u.default.createElement(S.default,{container:!0,xs:12,justify:"flex-end",alignItems:"center",style:{borderTop:"1px solid #395C73",paddingTop:".6rem"}},u.default.createElement(T.default,{variant:"contained",color:"secondary",className:a.button,onClick:function(){return e.appendInvoices(e.state.selectedInvoices)}},"Save ",this.selectedInvoicesLength())))),u.default.createElement("div",{className:a.invoiceHeader},u.default.createElement("div",{style:{display:"flex",alignItems:"center",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},this.state.invoiceCount>0&&u.default.createElement("div",{style:{display:"flex",alignItems:"center",color:n.palette.secondary.main,paddingRight:"1.56vw"}},u.default.createElement(b.default,{style:{padding:"0px"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.allInvoicesSelected,onClick:this.handleAllSelection}),u.default.createElement(M.default,{className:a.primaryText}," Select all")),u.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u.default.createElement(T.default,{variant:"outlined",color:"secondary",size:"small",style:{height:"4.44vh",paddingLeft:"0.666rem",paddingRight:"0.666rem"},onClick:this.openAddInvoiceModal},u.default.createElement(M.default,{style:{marginLeft:"4px",marginRight:"4px",fontSize:".89rem",color:n.palette.secondary.main}},"Select Invoices"))),u.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u.default.createElement(T.default,{variant:"outlined",color:"secondary",size:"small",style:{height:"4.44vh",marginLeft:"1rem",padding:"0 0.666rem"},onClick:this.deleteAllSelection},u.default.createElement(I.default,{className:a.addIcon}),u.default.createElement(M.default,{style:{marginLeft:"4px",fontSize:".89rem",color:n.palette.secondary.main}},"Remove")))))),u.default.createElement("div",{className:a.invoiceList},u.default.createElement("div",{className:a.correction},u.default.createElement(M.default,{className:a.primaryText},this.state.invoiceCount," ",this.state.invoiceCount>1?"Invoices ":"Invoice "),("P2P"==this.props.intentType||"Dispute"==this.props.intentType)&&u.default.createElement(M.default,{style:{opacity:.5},className:a.primaryText}," ($",this.calculateAmount(),")"),this.state.incorrectFlag&&u.default.createElement("div",{style:{display:"flex",marginLeft:".5rem",alignItems:"center"}},u.default.createElement(R.default,{className:a.errorFlag}),u.default.createElement(M.default,{className:a.correctionAlert},"Correction Required(",this.state.correctInvoices.length-Object.keys(this.state.correctInvoicesMap).length,")"))),u.default.createElement(h.default,{cellHeight:"auto",className:a.gridList},this.state.correctInvoices.map(function(t){return u.default.createElement(g.default,{cols:1,key:t.id,style:{height:"auto",width:"16vw",margin:"0.4rem"}},u.default.createElement("div",{className:t.id in e.state.correctInvoicesMap?e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected?(0,Z.default)(a.selectedGridListDiv,a.gridListDiv):a.gridListDiv:a.incorrectDiv},!e.props.done&&u.default.createElement(b.default,{style:{padding:"2px",left:"3%",alignItems:"center"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),disabled:!(t.id in e.state.correctInvoicesMap),checked:e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected,onClick:function(){return e.toggleCheckbox(t.id.toString())}}),u.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},u.default.createElement(M.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.5,lineHeight:"1.7rem"}},t.documentNumber),u.default.createElement(M.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",t.id in e.state.correctInvoicesMap?(0,X.formatter)(t.currentOpenAmount):"----")),!e.props.done&&u.default.createElement(I.default,{style:{position:"absolute",right:"10%",top:"27%",width:"calc(.8vh + .8vw)",height:"calc(.8vh + .8vw)"},className:a.addIcon,onClick:function(){e.deleteInvoice(t.id)}})))}))),u.default.createElement(_.default,{open:this.state.isMessageDialogOpen,onClose:this.handleMessageDialog,"aria-labelledby":"responsive-dialog-title"},u.default.createElement(W.default,{id:"responsive-dialog-title"},"Please select some invoices."),u.default.createElement(H.default,null,u.default.createElement(T.default,{onClick:this.handleMessageDialog,color:"default"},"OK"))))}}]),t}(c.Component),oe=function(){var e=this;this.setSelectedInvoices=function(t){e.setState({selectedInvoices:t})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0;for(var n in t)1==t[n]&&a++;if(0!=a)return"("+a+")"},this.filterInvoices=function(t){if("All"==t)e.setState({invoices:e.state.allInvoices});else{for(var a=e.state.allInvoices,n=[],o=0;o<a.length;o++){for(var r=[],i=0;i<a[o].length;i++)"Dispute"==t&&null!=a[o][i].disputeStatus?r.push(a[o][i]):"Predicted Delinquent"==t&&1==a[o][i].p2pDelinquent?r.push(a[o][i]):"Upcoming P2P"==t&&1==a[o][i].p2pUpcoming?r.push(a[o][i]):"Broken P2P"==t&&1==a[o][i].p2pBroken&&r.push(a[o][i]);n.push(r)}e.setState({invoices:n})}},this.toggleCheckbox=function(t){var a=e.state.invoicesCheckboxMap.get(t),n=e.state.invoicesCheckboxMap;n.set(t,!a);var o=!0;e.setState({invoicesCheckboxMap:n},function(){var t=!0,a=!1,r=void 0;try{for(var i,l=n.keys()[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var s=i.value;if(!n.get(s)){o=!1;break}}}catch(e){a=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw r}}e.setState({allInvoicesSelected:o})})},this.deleteInvoice=function(t){var a=e.state.correctInvoicesMap;for(var n in a)if(n==t){delete a[n];break}var o=e.state.invoicesCheckboxMap;o.delete(t),e.setState({invoicesCheckboxMap:o,correctInvoices:e.state.correctInvoices.filter(function(e){return e.id!=t}),correctInvoicesMap:a},function(){e.updateInvoicesThings(t),e.props.updateInvoices(e.state.correctInvoices,a)})},this.handleAllSelection=function(){var t=e.state.invoicesCheckboxMap;e.setState(function(e){return{allInvoicesSelected:!e.allInvoicesSelected}},function(){var a=!0,n=!1,o=void 0;try{for(var r,i=t.keys()[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var l=r.value;t.set(l,e.state.allInvoicesSelected)}}catch(e){n=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}e.setState({invoiceChecksMap:t})})},this.deleteAllSelection=function(){var t=e.state.correctInvoices.filter(function(t){return 1==e.state.invoicesCheckboxMap.get(t.id.toString())});if(0==t.length)return void e.setState({isMessageDialogOpen:!0});for(var a=e.state.correctInvoices.filter(function(t){return 0==e.state.invoicesCheckboxMap.get(t.id.toString())}),n=e.state.invoicesCheckboxMap,o=e.state.correctInvoicesMap,r=!1,i=a.length,l=!0,s=0,c=t.length;s<c;++s){var u=t[s].id.toString();n.delete(u),delete o[u]}e.setState({correctInvoices:a,invoicesCheckboxMap:n,correctInvoicesMap:o,invoiceCount:i},function(){for(var t=0;t<i;t++){if(!(a[t].id.toString()in o)){r=!0;break}}for(var s=0;s<i;s++){var c=a[s],u=c.id.toString();if(!n.get(u)){l=!1;break}}e.setState({incorrectFlag:r,allInvoicesSelected:l}),e.props.onUpdateInvoice(r,i),e.props.updateInvoices(e.state.correctInvoices,e.state.correctInvoicesMap)})},this.handleMessageDialog=function(){e.setState(function(e){return{isMessageDialogOpen:!e.isMessageDialogOpen}})},this.openAddInvoiceModal=function(){e.setState({openAddInvoiceModal:!0})},this.closeAddInvoiceModal=function(){e.setState({openAddInvoiceModal:!1})},this.appendInvoices=function(t){for(var a=e.state.correctInvoicesMap,n=e.state.correctInvoices.slice(0),o=e.state.invoicesCheckboxMap,r=0;r<e.state.correctInvoices.length;r++)e.state.correctInvoicesMap[e.state.correctInvoices[r].id]&&(n.splice(n.indexOf(e.state.correctInvoices[r]),1),o.delete(e.state.correctInvoices[r].id.toString()));e.setState({correctInvoices:n,correctInvoicesMap:{},invoicesCheckboxMap:o}),a={};for(var i in t)if(1==t[i])for(var l=!1,s=0;s<e.props.invoices.length&&!l;s++){for(var c=0;c<e.props.invoices[s].length;c++)if(e.props.invoices[s][c].id==i){n.push(e.props.invoices[s][c]),l=!0;break}a[i]=!0}if(t){var u=e.state.invoicesCheckboxMap;for(var d in t)1==t[d]&&u.set(d.toString(),!1);e.setState({invoicesCheckboxMap:u})}e.setState({correctInvoices:n,correctInvoicesMap:a,invoiceCount:n.length},function(){e.props.updateInvoices(e.state.correctInvoices,a)}),e.props.onUpdateInvoice(e.state.incorrectFlag,n.length),e.setState({openAddInvoiceModal:!1})},this.updateInvoicesThings=function(t){var a=e.state.correctInvoicesMap,n=!1,o=e.state.correctInvoices,r=o.length;if(delete a[t],0==r)return e.setState({incorrectFlag:!1,invoiceCount:0}),void e.props.onUpdateInvoice(!1,0);delete a[t],e.setState({correctInvoicesMap:a},function(){for(var t=0;t<r;t++){if(!(o[t].id in a)){n=!0;break}}e.setState({incorrectFlag:n,invoiceCount:r}),e.props.onUpdateInvoice(n,r)})},this.calculateAmount=function(){var t=0,a=e.state.correctInvoices;for(var n in a)t+=a[n].id in e.state.correctInvoicesMap?a[n].currentOpenAmount:0;return 0==t?0:(0,J.formatCurrencyToUSFormat)(t)}};ne.propTypes={classes:p.default.object.isRequired},t.default=(0,m.withStyles)(ae,{withTheme:!0})(ne)},6101:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(8),p=(n(d),a(67)),m=a(21),f=n(m),h=a(321),v=n(h),g=a(322),y=n(g),b=a(323),C=n(b),E=function(e){return{gridList:{width:"100%",height:"100%",margin:"0 -2px -2px -2px !important",overflow:"hidden"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{backgroundColor:"#39586F"},gridListTile:{height:"auto !important"}}},S={invoicesCheckboxMap:new Map,correctInvoicesMap:{},selectedInvoices:[],invoices:[],done:!0,inInvoiceTable:!1},O=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.addInvoice=function(e){a.props.addInvoice(e)},a.getClassOfGridListTile=function(e,t,n,o){return invoice.id in a.state.correctInvoicesMap?t.get(invoice.id.toString())||a.state.selectedInvoices[invoice.id]?classes.selectedGridListDiv:classes.gridListDiv:classes.incorrectDiv},a.state={invoices:a.props.invoices,selectedInvoices:a.props.selectedInvoices,correctInvoicesMap:a.props.correctInvoicesMap,invoicesCheckboxMap:a.props.invoicesCheckboxMap},a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({invoices:e.invoices,selectedInvoices:e.selectedInvoices,correctInvoicesMap:e.correctInvoicesMap,invoicesCheckboxMap:e.invoicesCheckboxMap})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return c.default.createElement(y.default,{cellHeight:"auto",className:a.gridList},this.state.correctInvoices.map(function(t){return c.default.createElement(C.default,{cols:1,key:t.id,style:{height:"auto",width:"16vw",margin:"0.4rem"}},c.default.createElement("div",{className:e.getClassOfGridListTile(e.state.correctInvoicesMap,e.state.invoicesCheckboxMap,t.id,e.state.selectedInvoices)},!e.props.done&&c.default.createElement(v.default,{style:{padding:"2px",left:"3%",alignItems:"center"},icon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),disabled:!(t.id in e.state.correctInvoicesMap),checked:e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected,onClick:function(){return e.toggleCheckbox(t.id.toString())}}),c.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},c.default.createElement(f.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.5,lineHeight:"1.7rem"}},t.documentNumber),c.default.createElement(f.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",t.id in e.state.correctInvoicesMap?(0,p.formatter)(t.currentOpenAmount):"----")),!(e.props.inInvoiceTable||e.props.done)&&c.default.createElement(Close,{style:{position:"absolute",right:"10%",top:"27%",width:"calc(.8vh + .8vw)",height:"calc(.8vh + .8vw)"},className:a.addIcon,onClick:function(){e.deleteInvoice(t.id)}})))}))}}]),t}(c.default.Component);O.defaultProps=S,t.default=(0,u.withStyles)(E,{withTheme:!0})(O)},6102:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=n(u),p=a(19),m=a(29),f=n(m),h=a(23),v=a(89),g=n(v),y=a(6103),b=n(y),C=a(31),E=n(C),S=a(32),O=n(S),w=a(8),x=n(w),k=function(e){return{summaryNotesBox:{maxHeight:"90vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main},summaryNoteitems:{whiteSpace:"pre-line",marginTop:"1em",wordBreak:"break-word",overflowY:"auto",maxHeight:"75.5vh"},summaryNotesHeader:{fontSize:"1.0666rem",fontWeight:"normal",paddingTop:"2.22vh",paddingLeft:"1.026vw",lineHeight:"normal",color:e.palette.primary.main,opacity:.65},notesList:{color:e.palette.primary.main,paddingLeft:"0",marginLeft:"1.7rem"},emptySummaryText:{color:e.palette.primary.main},emptySummaryGrid:{height:"15vh",whiteSpace:"pre-line",wordBreak:"break-word"},warningLine:{display:"flex",alignItems:"center",fontWeight:500,color:e.palette.primary.main,fontSize:".8em",opacity:"0.65"},icon:{marginRight:".5vw"},hideOverflow:{overflow:"hidden"}}},I={contactIndex:null,customer:{},invoiceList:[],summaryNotes:"",nextCustomerUrl:null,toCallCustomers:null,collector:{},nonActionIncluded:!1},D={contactIndex:d.default.number,customer:d.default.object,invoiceList:d.default.array,summaryNotes:d.default.string,nextCustomerUrl:d.default.string,toCallCustomers:d.default.number,collector:d.default.object,classes:d.default.object.isRequired,nonActionIncluded:d.default.bool},T=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setDefaultEmailIdChips=function(){var e=a.props.contactIndex,t=[];if(null!=e&&"Unnamed"!==a.props.customer.contacts[e].firstName&&"Unnamed"!==a.props.customer.contacts[e].lastName){var n=a.props.customer.contacts[e].firstName+" "+a.props.customer.contacts[e].lastName;t.push({key:0,label:n,emailId:a.props.customer.contacts[e].email,isValidEmail:!0,isEditing:!1})}a.setState({emailIdChips:t})},a.state={emailIdChips:[]},a}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.setDefaultEmailIdChips()}},{key:"render",value:function(){var e=this.props,t=(e.customer,e.classes),a=e.summaryNotes,n=e.theme;return c.default.createElement("div",{style:{width:"100%"}},c.default.createElement(f.default,{item:!0,xs:12,style:{display:"flex"}},c.default.createElement(f.default,{item:!0,xs:5},c.default.createElement(f.default,{item:!0,xs:12,className:t.summaryNotesBox},c.default.createElement(f.default,{item:!0},c.default.createElement(h.Typography,{className:t.summaryNotesHeader},"SUMMARY NOTES")),c.default.createElement(f.default,{items:!0,id:"summaryNoteitems",className:a&&0!=a.length?t.summaryNoteitems:(0,x.default)(t.emptySummaryGrid,t.centerFlexBox)},(!a||0==a.length)&&c.default.createElement("div",{className:t.warningLine},c.default.createElement(g.default,{className:t.icon}),c.default.createElement("span",{className:t.emptySummaryText},"There is no summary notes ")),a&&0==!a.length&&c.default.createElement("ul",{className:t.notesList},a.map(function(e){return c.default.createElement("li",null,c.default.createElement(h.Typography,{style:{color:n.palette.primary.main,opacity:1,fontSize:"0.88888888888rem",marginBottom:"0.888rem"}},e))}))))),c.default.createElement(f.default,{item:!0,xs:7,style:{paddingLeft:"1.041vw"}},c.default.createElement(b.default,{summaryNotes:a,collector:this.props.collector,nonActionIncluded:this.props.nonActionIncluded,emailIdChips:this.state.emailIdChips,customer:this.props.customer,emailAttachements:this.props.invoiceList}))))}}]),t}(s.Component);T.propTypes=D,T.defaultProps=I;var N=(0,E.default)(k,O.default);t.default=(0,p.withStyles)(N,{withTheme:!0})(T)},6103:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),m=a(19),f=a(23),h=a(92),v=n(h),g=a(6104),y=a(68),b=n(y),C=a(322),E=n(C),S=a(323),O=n(S),w=a(343),x=n(w),k=a(165),I=n(k),D=a(35),T=n(D),N=a(6105),P=a(113),A=function(e){return{summaryEmailHeader:{alignItems:"center",display:"flex"},summaryEmail:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:".125rem",marginBottom:"1.3rem",height:"79vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main},summaryEmailForm:{padding:"0.5rem 0.5rem 0 0.5rem"},emailIdChipsInput:{borderBottom:"0.0625rem solid rgba(93, 170, 224, 0.5)"},emailAddLabel:{fontSize:"0.888rem",marginRight:"0.3em",opacity:.5,color:e.palette.secondary.main},emailIdChips:{height:"1.4em",fontSize:"0.888rem",paddingLeft:"0.1777rem",paddingRight:"0.1777rem",marginRight:"0.2em",backgroundColor:e.palette.secondary.main,color:e.palette.primary.main,"&> span":{fontSize:"0.9rem",marginRight:"0.3rem"},"&:hover, &:focus":{backgroundColor:e.palette.secondary.main},"&:active":{backgroundColor:e.palette.secondary.main}},invalidEmailIdChips:{height:"1.4em",fontSize:"0.888rem",paddingLeft:"0.1777rem",paddingRight:"0.1777rem",marginRight:"0.2em","&> span":{fontSize:"0.9rem",marginRight:"0.3rem"},backgroundColor:"#ff4444",color:e.palette.primary.main,"&:hover, &:focus":{backgroundColor:"#f73838"},"&:active":{backgroundColor:"#f73838"}},removeEmailId:{fontSize:"0.8em",color:e.palette.primary.main},emailIdInput:{marginRight:"0.3125rem",width:"95%",resize:"horizontal",color:e.palette.primary.main,fontSize:"0.9rem"},emailSubject:{borderBottom:"0.0625rem solid rgba(93, 170, 224, 0.5)",fontSize:"0.888rem",color:e.palette.primary.main,"&::placeholder":{color:"#a7a7a7"}},disabledSubjectInput:{fontSize:"0.888rem",color:e.palette.primary.main},summaryEmailBody:{height:"60vh",overflowY:"auto",overflowX:"hidden"},emailBodyText:{marginTop:"0.9rem",color:e.palette.primary.main+" !important"},invoiceCount:{marginBottom:"0.8rem"},invoiceAttachements:{height:"10vh"},gridListDiv:{display:"flex",border:e.palette.secondary.main+" solid 0.0625rem",padding:"0.25rem",borderRadius:"0.25rem"},summaryEmailFooter:{height:"7.4vh",width:"100%",display:"flex",flexDirection:"row-reverse",alignItems:"center",backgroundColor:" #2c414f;"},sendSummaryEmailBtn:{height:"2em",width:"6em",marginRight:"1.2rem",fontSize:"smaller",alignSelf:"center",color:e.palette.primary.main},disableIcon:{display:"none"},notesList:{color:e.palette.primary.main,paddingLeft:"0",marginLeft:"1.7rem"},emptySummaryText:{color:e.palette.primary.main},emptySummaryGrid:{height:"15vh",whiteSpace:"pre-line",wordBreak:"break-word"},warningLine:{display:"flex",alignItems:"center",fontWeight:500,color:e.palette.primary.main,fontSize:".8em",opacity:"0.65"},icon:{marginRight:".5vw"},hideOverflow:{overflow:"hidden"}}},j={summaryNotes:"",collector:{},nonActionIncluded:!1,emailIdChips:[],customer:{},emailAttachements:[]},M={summaryNotes:p.default.string,collector:p.default.object.isRequired,nonActionIncluded:p.default.bool,emailIdChips:p.default.array,customer:p.default.object.isRequired,emailAttachements:p.default.array},F=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleTemplateChange=function(e){a.setState({emailTemplateName:e.target.value});for(var t=a.state.emailTemplates,n=0;n<t.length;n++)if(t[n].name==e.target.value){a.setState({emailTemplateSubject:t[n].subject}),a.setState({emailTemplateBody:t[n].body}),a.setState({templateId:t[n].id});break}},a.handleEmailEnter=function(e){if(("blur"===e.type||"Enter"===e.key)&&e.target.value.trim()){e.target.value&&(e.target.value=e.target.value.trim());var t=(0,N.validateEmail)(e.target.value),n=a.state.emailIdChips,o={key:n.length,label:e.target.value,emailId:e.target.value,isValidEmail:t,isEditing:!1};n.push(o),a.setState({toAddr:n}),e.target.value=""}},a.handleEmailIdDelete=function(e){return function(){a.emailAdd.current.focus(),a.setState(function(t){var a=[].concat(o(t.emailIdChips)),n=a.indexOf(e);return a.splice(n,1),{emailIdChips:a}})}},a.handleSubjectChange=function(e){a.setState({emailTemplateSubject:e.target.value})},a.handleEmailBodyChange=function(e){var t=Math.round(document.getElementById("emailBody").scrollHeight);t<=12&&(t=12),a.setState({emailTemplateBody:e.target.value,emailBodyHeight:t})},a.removeAttachement=function(e){for(var t=a.state.emailAttachements,n=0;n<t.length;n++)if(t[n].id==e){t.splice(n,1),a.setState({emailAttachements:t});break}},a.toggleToEdit=function(e){var t=a.state.emailIdChips;t[e].isEditing=!0,a.setState({emailIdChips:t})},a.handleEditEmail=function(e,t){if(("blur"===t.type||"Enter"===t.key)&&t.target.value){t.target.value&&(t.target.value=t.target.value.trim());var n=(0,N.validateEmail)(t.target.value),o=a.state.emailIdChips;o[e].value=t.target.value,o[e].isValidEmail=n,o[e].isEditing=!1,a.setState({toAddr:o})}},a.handleChange=function(e,t){var n=a.state.emailIdChips;n[e].value=t.target.value,a.setState({emailIdChips:n})},a.sendSummaryEmail=function(){for(var e=[],t=0;t<a.state.emailAttachements.length;t++)e.push(a.state.emailAttachements[t].id);if(0==a.state.emailIdChips.length)return void a.openSnackBarWithMessage("Please specify at least one recipient.");for(var n="",t=0;t<a.state.emailIdChips.length;t++)a.state.emailIdChips[t].isValidEmail&&(n+=a.state.emailIdChips[t].emailId+",");var o=n.lastIndexOf(",");n=n.slice(0,o);var r=a.state.emailTemplateBody;r=r.replace(/\n/g,"<br />");var i={body:r,subject:a.state.emailTemplateSubject,customerId:a.props.customer.id,documentIds:e,from:a.props.collector.emailId,to:n};a.setState({emailSent:!0}),g.correspondenceService.sendCallSummary(i).then(function(e){a.openSnackBarWithMessage("Email sent"),a.setState({emailSent:!0})}).catch(function(e){a.setState({emailSent:!1}),a.openSnackBarWithMessage("Error in sending email"),console.log(e)})},a.openSnackBarWithMessage=function(e){a.setState({snackBarMessage:e}),a.setState({snackBarOpen:!0})},a.closeSnackbar=function(){a.setState({snackBarOpen:!1})},a.setDefaultBody=function(){var e=a.props,t=e.collector,n=e.summaryNotes,o=e.nonActionIncluded,r=a.state.emailAttachements.length>0?P.PFAMessage:"",i="",l=t.firstName?a.props.collector.firstName:"",s=t.lastName?a.props.collector.lastName:"";for(var c in n){if(c==n.length-1&&o)break;i+=n[c].trim()?"\n• "+n[c]:""}i=i?"\nPlease find below the summary of our conversation:\n"+i+"\n\n"+r+"\n":"";var u=i?"Greetings,\n"+i+"\nRegards,\n"+l+" "+s:"",d=(u.match(/\n/g)||[]).length;a.setState({emailTemplateBody:u,emailBodyHeight:d+1})},a.emailAdd=u.default.createRef(),a.state={emailIdChips:a.props.emailIdChips,templateId:-1,emailTemplateSubject:P.defaultEmailSubject,emailSent:!1,emailBodyHeight:12,emailAttachements:a.props.emailAttachements,snackBarOpen:!1,snackBarMessage:"",emailTemplateName:"",emailTemplateBody:"",emailTemplates:[]},a}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.setDefaultBody()}},{key:"componentWillReceiveProps",value:function(e){this.setState({emailIdChips:e.emailIdChips})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:a.summaryEmailHeader},u.default.createElement(f.Typography,{style:{fontSize:"1.06666rem",fontWeight:"normal",color:"#ffffff",opacity:.65,paddingBottom:"0.2em"}},"SEND SUMMARY MAIL")),u.default.createElement("div",{className:a.summaryEmail},u.default.createElement("div",{className:a.summaryEmailForm},u.default.createElement("div",{className:a.emailIdChipsInput},u.default.createElement("span",{className:a.emailAddLabel},"To "),this.state.emailIdChips.map(function(t,n){return t.isEditing?u.default.createElement(v.default,{onChange:function(t){e.handleChange(n,t)},value:t.label,onBlur:function(t){return e.handleEditEmail(n,t)},className:a.emailIdInput,disableUnderline:!0}):u.default.createElement(x.default,{key:t.key,label:t.label,className:t.isValidEmail?a.emailIdChips:a.invalidEmailIdChips,deleteIcon:u.default.createElement(b.default,{className:e.state.emailSent?a.disableIcon:a.removeEmailId}),onDelete:e.handleEmailIdDelete(t),classes:{clickable:t.isValidEmail?a.emailIdChips:a.invalidEmailIdChips}})}),u.default.createElement(v.default,{onKeyPress:this.handleEmailEnter,onBlur:this.handleEmailEnter,fullWidth:!0,className:a.emailIdInput,disableUnderline:!0,disabled:this.state.emailSent,inputRef:this.emailAdd})),u.default.createElement(v.default,{fullWidth:!0,style:{marginTop:"1%"},placeholder:"Subject",classes:{disabled:a.disabledSubjectInput},className:a.emailSubject,value:this.state.emailTemplateSubject,onChange:this.handleSubjectChange,disableUnderline:!0,disabled:this.state.emailSent}),u.default.createElement("div",{className:a.summaryEmailBody},u.default.createElement(f.TextField,{id:"emailBody",fullWidth:!0,multiline:!0,value:this.state.emailTemplateBody,onChange:this.handleEmailBodyChange,rows:12,style:{color:"white",overflow:"hidden"},rowsMax:this.state.emailBodyHeight,className:a.emailBodyText,classes:{},InputProps:{disableUnderline:!0,style:{color:"white"},classes:{input:a.hideOverflow}},disabled:this.state.emailSent}),u.default.createElement("div",{className:a.invoiceAttachements},this.state.emailAttachements.length>0&&u.default.createElement("div",{className:a.invoiceCount},u.default.createElement(f.Typography,{style:{color:n.palette.secondary.main,fontSize:"0.9777"}},"Invoice Attachements (",this.state.emailAttachements.length,")")),u.default.createElement(E.default,{cellHeight:"auto",className:a.gridList},this.state.emailAttachements.map(function(e){return u.default.createElement(O.default,{cols:1,key:e.id,style:{height:"auto",width:"12.5rem",padding:"0.25rem"}},u.default.createElement("div",{className:a.gridListDiv},u.default.createElement("div",{style:{display:"block",marginLeft:"0.375rem"}},u.default.createElement(f.Typography,{style:{padding:"0.25rem",fontSize:"0.888rem",opacity:.65,color:n.palette.primary.main}},e.documentNumber),u.default.createElement(f.Typography,{style:{padding:"0.25rem",fontSize:"1rem",color:n.palette.primary.main}},"$ ",e.currentOpenAmount))))}))))),u.default.createElement("div",{className:a.summaryEmailFooter},u.default.createElement(f.Button,{color:"secondary",className:a.sendSummaryEmailBtn,size:"small",variant:"contained",onClick:this.sendSummaryEmail,disabled:this.state.emailSent},"SEND"))),u.default.createElement(I.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[u.default.createElement(T.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(b.default,null))]}))}}]),t}(c.Component);F.defaultProps=j,F.propTypes=M,t.default=(0,m.withStyles)(A,{withTheme:!0})(F)},6104:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return l.default.post(""+c.default.apiUrl+d+"/emailtemplates").then(function(e){return(0,u.handleApiResponse)(e)}).catch(function(e){return(0,u.handleApiResponse)(e)})}function r(e){return l.default.post(""+c.default.apiUrl+d+"/callsummary",e).then(function(e){return(0,u.handleApiResponse)(e)}).catch(function(e){return(0,u.handleApiResponse)(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.correspondenceService=void 0;var i=a(41),l=n(i),s=a(40),c=n(s),u=a(116),d="/correspondence";t.correspondenceService={getEmailTemplates:o,sendCallSummary:r}},6105:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.validateEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},6106:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(4),p=n(d),m=a(118),f=n(m),h=a(119),v=n(h),g=a(179),y=n(g),b=a(173),C=n(b),E=a(169),S=n(E),O=a(113),w=function(e){return{dialogPaper:{border:"1px solid white",width:"19.53vw"},dialog:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main},createNewActionDialogHeader:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main+" !important",fontSize:"1.24444rem"},createNewActionDialogOptions:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main+" !important",fontSize:"0.9777rem",pointer:"cursor"}}},x={open:p.default.bool,onClose:p.default.func,onActionItemClick:p.default.func},k={open:!1,onClose:O.emptyFunction,onActionItemClick:O.emptyFunction},I=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){return e.open!==this.props.open}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.classes,o=t.onClose;return c.default.createElement(S.default,{onClose:o,"aria-labelledby":"new-action-dialog-title",open:a,classes:{paperScrollPaper:n.dialogPaper}},c.default.createElement(C.default,{id:"new-action-dialog-title",className:n.dialog},c.default.createElement("div",{className:n.createNewActionDialogHeader},"Create New Action")),c.default.createElement(c.default.Fragment,null,c.default.createElement(f.default,{className:n.createNewActionDialogOptions},Object.keys(O.ACTION_TYPES).map(function(t){return c.default.createElement(v.default,{style:{cursor:"pointer"},onClick:function(){return e.props.onActionItemClick(O.ACTION_TYPES[t])},key:t},c.default.createElement(y.default,null,c.default.createElement("div",{className:n.createNewActionDialogOptions},"Create "+O.ACTION_TYPES[t])))}))))}}]),t}(s.Component);I.propTypes=x,I.defaultProps=k,t.default=(0,u.withStyles)(w,{withTheme:!0})(I)},6107:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=n(u),p=a(19),m=a(86),f=n(m),h=a(23),v=a(6108),g=n(v),y=a(113),b=(a(6109),a(177)),C=(n(b),a(6112)),E=n(C),S=function(e){return{chatBubble:{display:"flex",alignItems:"flex-start",padding:"4px",borderRadius:"4px",minWidth:"calc(100% - 2rem)",width:"calc(100% - 2rem)",minHeight:"1rem",marginBottom:"4px"},rightBubble:{opacity:"0.65 !important",alignSelf:"flex-end",flexDirection:"row-reverse"},message:{fontSize:"1rem",color:"#fff"},highlightMessage:{color:"#fff",backgroundColor:"rgba(93, 170, 224, 0.3)"},circledText:{minWidth:"2rem",minHeight:"2rem",maxHeight:"2rem",maxWidth:"2rem",borderRadius:"50%",fontSize:"0.8rem",color:"#fff",lineHeight:"2rem",textAlign:"center",background:"#5DAAE0"},gifAnimator:{},detector:{background:"transparent",border:"1px solid #5DAAE0"},highlighterForLeft:{alignSelf:"center",marginLeft:"10px"},highlighterForRight:{textAlign:"right",alignSelf:"center",marginRight:"10px"}}},O=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.isCollector,a=e.message,n=e.classes,o=e.isDetecting;return c.default.createElement(f.default,{in:!0},c.default.createElement("div",{className:n.chatBubble+" "+(t?n.rightBubble:"")},!o&&c.default.createElement(h.Typography,{className:n.circledText+" "+(o?n.detector:"")},this.props.initials),o&&c.default.createElement("img",{style:{height:"2.5rem",width:"2.5rem"},src:E.default,alt:"Detecting Speakers Animation"}),c.default.createElement(g.default,{className:t?n.highlighterForRight:n.highlighterForLeft,unhighlightClassName:n.message,highlightClassName:n.highlightMessage+" "+n.message,searchWords:y.HIGHLIGHTER_REGEX,textToHighlight:a})))}}]),t}(s.Component);O.propTypes={classes:d.default.object.isRequired,isCollector:d.default.bool,message:d.default.string,isDetecting:d.default.bool},O.defaultProps={isCollector:!1,message:"",isDetecting:!1},t.default=(0,p.withStyles)(S,{withTheme:!0})(O)},6108:function(e,t,a){e.exports=function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){e.exports=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.activeClassName,a=void 0===t?"":t,n=e.activeIndex,o=void 0===n?-1:n,i=e.activeStyle,l=e.autoEscape,s=e.caseSensitive,u=void 0!==s&&s,p=e.className,m=e.findChunks,f=e.highlightClassName,h=void 0===f?"":f,v=e.highlightStyle,g=void 0===v?{}:v,y=e.highlightTag,b=void 0===y?"mark":y,C=e.sanitize,E=e.searchWords,S=e.textToHighlight,O=e.unhighlightClassName,w=void 0===O?"":O,x=e.unhighlightStyle,k=(0,r.findAll)({autoEscape:l,caseSensitive:u,findChunks:m,sanitize:C,searchWords:E,textToHighlight:S}),I=b,D=-1,T="",N=void 0,P=function(e){var t={};for(var a in e)t[a.toLowerCase()]=e[a];return t},A=(0,d.default)(P);return c.default.createElement("span",{className:p},k.map(function(e,t){var n=S.substr(e.start,e.end-e.start);if(e.highlight){D++;var r=void 0;"object"==typeof h?u?r=h[n]:(h=A(h),r=h[n.toLowerCase()]):r=h;var l=D===+o;return T=r+" "+(l?a:""),N=!0===l&&null!=i?Object.assign({},g,i):g,c.default.createElement(I,{className:T,key:t,style:N},n)}return c.default.createElement("span",{className:w,key:t,style:x},n)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=a(3),i=a(4),l=n(i),s=a(14),c=n(s),u=a(15),d=n(u);o.propTypes={activeClassName:l.default.string,activeIndex:l.default.number,activeStyle:l.default.object,autoEscape:l.default.bool,className:l.default.string,findChunks:l.default.func,highlightClassName:l.default.oneOfType([l.default.object,l.default.string]),highlightStyle:l.default.object,highlightTag:l.default.oneOfType([l.default.node,l.default.func,l.default.string]),sanitize:l.default.func,searchWords:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.instanceOf(RegExp)])).isRequired,textToHighlight:l.default.string.isRequired,unhighlightClassName:l.default.string,unhighlightStyle:l.default.object},e.exports=t.default},function(e,t){e.exports=function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){e.exports=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return n.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return n.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return n.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return n.findChunks}})},function(e,t){"use strict";function a(e){return e}function n(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}Object.defineProperty(t,"__esModule",{value:!0});var o=(t.findAll=function(e){var t=e.autoEscape,a=e.caseSensitive,n=void 0!==a&&a,l=e.findChunks,s=void 0===l?r:l,c=e.sanitize,u=e.searchWords,d=e.textToHighlight;return i({chunksToHighlight:o({chunks:s({autoEscape:t,caseSensitive:n,sanitize:c,searchWords:u,textToHighlight:d})}),totalLength:d?d.length:0})},t.combineChunks=function(e){var t=e.chunks;return t=t.sort(function(e,t){return e.start-t.start}).reduce(function(e,t){if(0===e.length)return[t];var a=e.pop();if(t.start<=a.end){var n=Math.max(a.end,t.end);e.push({start:a.start,end:n})}else e.push(a,t);return e},[])}),r=function(e){var t=e.autoEscape,o=e.caseSensitive,r=e.sanitize,i=void 0===r?a:r,l=e.searchWords,s=e.textToHighlight;return s=i(s),l.filter(function(e){return e}).reduce(function(e,a){a=i(a),t&&(a=n(a));for(var r=new RegExp(a,o?"g":"gi"),l=void 0;l=r.exec(s);){var c=l.index,u=r.lastIndex;u>c&&e.push({start:c,end:u}),l.index==r.lastIndex&&r.lastIndex++}return e},[])};t.findChunks=r;var i=t.fillInChunks=function(e){var t=e.chunksToHighlight,a=e.totalLength,n=[],o=function(e,t,a){t-e>0&&n.push({start:e,end:t,highlight:a})};if(0===t.length)o(0,a,!1);else{var r=0;t.forEach(function(e){o(r,e.start,!1),o(e.start,e.end,!0),r=e.end}),o(r,a,!1)}return n}}])},function(e,t,a){(function(t){if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n};e.exports=a(6)(o,!0)}else e.exports=a(13)()}).call(t,a(5))},function(e,t){function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===a||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){h&&m&&(h=!1,m.length?f=m.concat(f):v=-1,f.length&&l())}function l(){if(!h){var e=o(i);h=!0;for(var t=f.length;t;){for(m=f,f=[];++v<t;)m&&m[v].run();v=-1,t=f.length}m=null,h=!1,r(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,d,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:a}catch(e){u=a}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var m,f=[],h=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];f.push(new s(e,t)),1!==f.length||h||o(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,a){(function(t){"use strict";var n=a(7),o=a(8),r=a(9),i=a(10),l=a(11),s=a(12);e.exports=function(e,a){function c(e){var t=e&&(I&&e[I]||e[D]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function d(e){this.message=e,this.stack=""}function p(e){function n(n,c,u,p,m,f,h){if(p=p||T,f=f||u,h!==l)if(a)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var v=p+":"+u;!i[v]&&s<3&&(r(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,p),i[v]=!0,s++)}return null==c[u]?n?new d(null===c[u]?"The "+m+" `"+f+"` is marked as required in `"+p+"`, but its value is `null`.":"The "+m+" `"+f+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(c,u,p,m,f)}if("production"!==t.env.NODE_ENV)var i={},s=0;var c=n.bind(null,!1);return c.isRequired=n.bind(null,!0),c}function m(e){function t(t,a,n,o,r,i){var l=t[a];if(O(l)!==e)return new d("Invalid "+o+" `"+r+"` of type `"+w(l)+"` supplied to `"+n+"`, expected `"+e+"`.");return null}return p(t)}function f(e){function t(t,a,n,o,r){if("function"!=typeof e)return new d("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var i=t[a];if(!Array.isArray(i)){return new d("Invalid "+o+" `"+r+"` of type `"+O(i)+"` supplied to `"+n+"`, expected an array.")}for(var s=0;s<i.length;s++){var c=e(i,s,n,o,r+"["+s+"]",l);if(c instanceof Error)return c}return null}return p(t)}function h(e){function t(t,a,n,o,r){if(!(t[a]instanceof e)){var i=e.name||T;return new d("Invalid "+o+" `"+r+"` of type `"+k(t[a])+"` supplied to `"+n+"`, expected instance of `"+i+"`.")}return null}return p(t)}function v(e){function a(t,a,n,o,r){for(var i=t[a],l=0;l<e.length;l++)if(u(i,e[l]))return null;return new d("Invalid "+o+" `"+r+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?p(a):("production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)}function g(e){function t(t,a,n,o,r){if("function"!=typeof e)return new d("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var i=t[a],s=O(i);if("object"!==s)return new d("Invalid "+o+" `"+r+"` of type `"+s+"` supplied to `"+n+"`, expected an object.");for(var c in i)if(i.hasOwnProperty(c)){var u=e(i,c,n,o,r+"."+c,l);if(u instanceof Error)return u}return null}return p(t)}function y(e){function a(t,a,n,o,r){for(var i=0;i<e.length;i++){if(null==(0,e[i])(t,a,n,o,r,l))return null}return new d("Invalid "+o+" `"+r+"` supplied to `"+n+"`.")}if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var o=0;o<e.length;o++){var i=e[o];if("function"!=typeof i)return r(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",x(i),o),n.thatReturnsNull}return p(a)}function b(e){function t(t,a,n,o,r){var i=t[a],s=O(i);if("object"!==s)return new d("Invalid "+o+" `"+r+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var u=e[c];if(u){var p=u(i,c,n,o,r+"."+c,l);if(p)return p}}return null}return p(t)}function C(e){function t(t,a,n,o,r){var s=t[a],c=O(s);if("object"!==c)return new d("Invalid "+o+" `"+r+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");var u=i({},t[a],e);for(var p in u){var m=e[p];if(!m)return new d("Invalid "+o+" `"+r+"` key `"+p+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[a],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=m(s,p,n,o,r+"."+p,l);if(f)return f}return null}return p(t)}function E(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(E);if(null===t||e(t))return!0;var a=c(t);if(!a)return!1;var n,o=a.call(t);if(a!==t.entries){for(;!(n=o.next()).done;)if(!E(n.value))return!1}else for(;!(n=o.next()).done;){var r=n.value;if(r&&!E(r[1]))return!1}return!0;default:return!1}}function S(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function O(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":S(t,e)?"symbol":t}function w(e){if(void 0===e||null===e)return""+e;var t=O(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function x(e){var t=w(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function k(e){return e.constructor&&e.constructor.name?e.constructor.name:T}var I="function"==typeof Symbol&&Symbol.iterator,D="@@iterator",T="<<anonymous>>",N={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:function(){return p(n.thatReturnsNull)}(),arrayOf:f,element:function(){function t(t,a,n,o,r){var i=t[a];if(!e(i)){return new d("Invalid "+o+" `"+r+"` of type `"+O(i)+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return p(t)}(),instanceOf:h,node:function(){function e(e,t,a,n,o){return E(e[t])?null:new d("Invalid "+n+" `"+o+"` supplied to `"+a+"`, expected a ReactNode.")}return p(e)}(),objectOf:g,oneOf:v,oneOfType:y,shape:b,exact:C};return d.prototype=Error.prototype,N.checkPropTypes=s,N.PropTypes=N,N}}).call(t,a(5))},function(e,t){"use strict";function a(e){return function(){return e}}var n=function(){};n.thatReturns=a,n.thatReturnsFalse=a(!1),n.thatReturnsTrue=a(!0),n.thatReturnsNull=a(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,a){(function(t){"use strict";function a(e,t,a,o,r,i,l,s){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,o,r,i,l,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=a}).call(t,a(5))},function(e,t,a){(function(t){"use strict";var n=a(7),o=n;if("production"!==t.env.NODE_ENV){var r=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var o=0,r="Warning: "+e.replace(/%s/g,function(){return a[o++]});"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(e){}};o=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var a=arguments.length,n=Array(a>2?a-2:0),o=2;o<a;o++)n[o-2]=arguments[o];r.apply(void 0,[t].concat(n))}}}e.exports=o}).call(t,a(5))},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,l,s=a(e),c=1;c<arguments.length;c++){i=Object(arguments[c]);for(var u in i)o.call(i,u)&&(s[u]=i[u]);if(n){l=n(i);for(var d=0;d<l.length;d++)r.call(i,l[d])&&(s[l[d]]=i[l[d]])}}return s}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){(function(t){"use strict";function n(e,a,n,s,c){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{o("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",s||"React class",n,u,typeof e[u]),d=e[u](a,u,s,n,null,i)}catch(e){d=e}if(r(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,u,typeof d),d instanceof Error&&!(d.message in l)){l[d.message]=!0;var p=c?c():"";r(!1,"Failed %s type: %s%s",n,d.message,null!=p?p:"")}}}if("production"!==t.env.NODE_ENV)var o=a(8),r=a(9),i=a(11),l={};e.exports=n}).call(t,a(5))},function(e,t,a){"use strict";var n=a(7),o=a(8),r=a(11);e.exports=function(){function e(e,t,a,n,i,l){l!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t){e.exports=a(0)},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a=void 0,o=[],r=void 0,i=!1,l=function(e,a){return t(e,o[a])};return function(){for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return i&&a===this&&n.length===o.length&&n.every(l)?r:(i=!0,a=this,o=n,r=e.apply(this,n))}}var n=function(e,t){return e===t};e.exports=a}])},6109:function(e,t,a){(function(e,n){function o(e,a){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(a)?n.showHidden=a:a&&t._extend(n,a),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=r),s(n,e,n.depth)}function r(e,t){var a=o.styles[t];return a?"["+o.colors[a][0]+"m"+e+"["+o.colors[a][1]+"m":e}function i(e,t){return e}function l(e){var t={};return e.forEach(function(e,a){t[e]=!0}),t}function s(e,a,n){if(e.customInspect&&a&&k(a.inspect)&&a.inspect!==t.inspect&&(!a.constructor||a.constructor.prototype!==a)){var o=a.inspect(n,e);return b(o)||(o=s(e,o,n)),o}var r=c(e,a);if(r)return r;var i=Object.keys(a),h=l(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(a)),x(a)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return u(a);if(0===i.length){if(k(a)){var v=a.name?": "+a.name:"";return e.stylize("[Function"+v+"]","special")}if(S(a))return e.stylize(RegExp.prototype.toString.call(a),"regexp");if(w(a))return e.stylize(Date.prototype.toString.call(a),"date");if(x(a))return u(a)}var g="",y=!1,C=["{","}"];if(f(a)&&(y=!0,C=["[","]"]),k(a)){g=" [Function"+(a.name?": "+a.name:"")+"]"}if(S(a)&&(g=" "+RegExp.prototype.toString.call(a)),w(a)&&(g=" "+Date.prototype.toUTCString.call(a)),x(a)&&(g=" "+u(a)),0===i.length&&(!y||0==a.length))return C[0]+g+C[1];if(n<0)return S(a)?e.stylize(RegExp.prototype.toString.call(a),"regexp"):e.stylize("[Object]","special");e.seen.push(a);var E;return E=y?d(e,a,n,h,i):i.map(function(t){return p(e,a,n,h,t,y)}),e.seen.pop(),m(E,g,C)}function c(e,t){if(E(t))return e.stylize("undefined","undefined");if(b(t)){var a="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(a,"string")}return y(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,a,n,o){for(var r=[],i=0,l=t.length;i<l;++i)P(t,String(i))?r.push(p(e,t,a,n,String(i),!0)):r.push("");return o.forEach(function(o){o.match(/^\d+$/)||r.push(p(e,t,a,n,o,!0))}),r}function p(e,t,a,n,o,r){var i,l,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?l=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(l=e.stylize("[Setter]","special")),P(n,o)||(i="["+o+"]"),l||(e.seen.indexOf(c.value)<0?(l=v(a)?s(e,c.value,null):s(e,c.value,a-1),l.indexOf("\n")>-1&&(l=r?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n"))):l=e.stylize("[Circular]","special")),E(i)){if(r&&o.match(/^\d+$/))return l;i=JSON.stringify(""+o),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+l}function m(e,t,a){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?a[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+a[1]:a[0]+t+" "+e.join(", ")+" "+a[1]}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function C(e){return"symbol"==typeof e}function E(e){return void 0===e}function S(e){return O(e)&&"[object RegExp]"===D(e)}function O(e){return"object"==typeof e&&null!==e}function w(e){return O(e)&&"[object Date]"===D(e)}function x(e){return O(e)&&("[object Error]"===D(e)||e instanceof Error)}function k(e){return"function"==typeof e}function I(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function D(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}function N(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],a=0;a<arguments.length;a++)t.push(o(arguments[a]));return t.join(" ")}for(var a=1,n=arguments,r=n.length,i=String(e).replace(A,function(e){if("%%"===e)return"%";if(a>=r)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(e){return"[Circular]"}default:return e}}),l=n[a];a<r;l=n[++a])v(l)||!O(l)?i+=" "+l:i+=" "+o(l);return i},t.deprecate=function(a,o){function r(){if(!i){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),i=!0}return a.apply(this,arguments)}if(E(e.process))return function(){return t.deprecate(a,o).apply(this,arguments)};if(!0===n.noDeprecation)return a;var i=!1;return r};var j,M={};t.debuglog=function(e){if(E(j)&&(j=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!M[e])if(new RegExp("\\b"+e+"\\b","i").test(j)){var a=n.pid;M[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,a,n)}}else M[e]=function(){};return M[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=v,t.isNullOrUndefined=g,t.isNumber=y,t.isString=b,t.isSymbol=C,t.isUndefined=E,t.isRegExp=S,t.isObject=O,t.isDate=w,t.isError=x,t.isFunction=k,t.isPrimitive=I,t.isBuffer=a(6110);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=a(6111),t._extend=function(e,t){if(!t||!O(t))return e;for(var a=Object.keys(t),n=a.length;n--;)e[a[n]]=t[a[n]];return e}}).call(t,a(50),a(117))},6110:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},6111:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},6112:function(e,t,a){e.exports=a.p+"317df0b71944b200cb0a2329e7aebc0b.gif"},6113:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=(n(u),a(19)),p=a(114),m=a(166),f=n(m),h=function(e){return{nonActionNotesEditing:{boxShadow:" 0 4px 8px 0 rgba(0,0,0,0.2)",padding:"0.8rem",border:"2px solid #FFF"},test:{width:"auto",height:"10vh",overflowY:"auto",padding:"0px",display:"block !important",color:e.palette.primary.main,whiteSpace:"pre-line"},nonActionNotesTitle:{fontSize:"1rem",lineHeight:"1.5rem",position:"relative",color:e.palette.primary.main,opacity:.65},notesEditor:{width:"-webkit-fill-available"},nonActionNotesNotEditing:{}}},v=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleNotesTextFieldChange=function(e){a.setState({nonActionNotes:e.target.value})},a.editNonActionNotes=function(){a.setState({isEditingOn:!0},function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e?e.focus():console.log("Something happened")},200)})},a.discardNotesChanges=function(){a.setState({isEditingOn:!1,nonActionNotes:a.state.prevNonActionNotes},function(){a.blurNonActionNotesBox()})},a.saveNotesChanges=function(){a.setState({isEditingOn:!1,prevNonActionNotes:a.state.nonActionNotes},function(){a.blurNonActionNotesBox(),a.props.onNotesChange(a.state.nonActionNotes)})},a.blurNonActionNotesBox=function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.blur()},500)},a.state={isEditingOn:!1,nonActionNotes:a.props.initialNotes,prevNonActionNotes:a.props.initialNotes},a}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.initialNotes!==this.state.nonActionNotes||t.isEditingOn!==this.state.isEditingOn}},{key:"render",value:function(){var e=this,t=this.props.classes;return c.default.createElement("div",null,c.default.createElement("div",null,c.default.createElement("span",{className:t.nonActionNotesTitle},"NON ACTION NOTES"),!this.state.isEditingOn&&c.default.createElement(p.BorderColor,{style:{color:"#5DAAE0",float:"right",cursor:"pointer"},onClick:this.editNonActionNotes}),this.state.isEditingOn&&c.default.createElement("div",{style:{float:"right"}},c.default.createElement(p.HighlightOff,{style:{marginLeft:"0.4rem",color:"#FF8888",padding:"0 1.3rem 0 0.8rem",cursor:"pointer"},onClick:this.discardNotesChanges}),c.default.createElement(p.CheckCircleOutline,{style:{color:"#5FC32C",cursor:"pointer"},onClick:this.saveNotesChanges}))),c.default.createElement(f.default,{id:"non-action-notes-edit-field",multiline:!0,value:this.state.nonActionNotes,onChange:function(t){return e.handleNotesTextFieldChange(t)},className:t.notesEditor+" "+(this.state.isEditingOn?t.nonActionNotesEditing:t.nonActionNotesNotEditing),margin:"normal",InputProps:{className:t.test,readOnly:Boolean(!this.state.isEditingOn),disableUnderline:Boolean(!0)}}))}}]),t}(s.Component);t.default=(0,d.withStyles)(h,{withTheme:!0})(v)},6114:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSummaryCompleteMap=t.createInitialNonActionSummaryNotes=t.appendIdsToSummary=t.createSummaryCompletionMap=t.generateNotesAsString=void 0;var n=a(42);t.generateNotesAsString=function(e){for(var t="",a=0;a<e.length;a++)t+=a===e.length-1?e[a].trim():e[a].trim()+"/n";return t},t.createSummaryCompletionMap=function(e){var t=new Map;return e&&e.map(function(e){return(0,n.isActionIntent)(e.intent)&&t.set(e.id,!1)}),t},t.appendIdsToSummary=function(e){if(e)for(var t in e)e[t].id=t+1,e[t].save=!1;return e},t.createInitialNonActionSummaryNotes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";t&&(a+=t);for(var o in e)(0,n.isActionIntent)(e[o].intent)||(a+=e[o].summary);return a},t.checkSummaryCompleteMap=function(e){var t=!0,a=!1,n=void 0;try{for(var o,r=e.values()[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){if(!1===o.value)return!0}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}return!1}},6115:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.commonService=void 0;var o=a(41),r=n(o),i=a(40),l=n(i),s=a(116),c=function(){return r.default.get(l.default.apiUrl+"/common/disputecodes").then(function(e){return(0,s.handleApiResponse)(e)}).catch(function(e){return(0,s.handleApiResponse)(e)})},u=function(){return r.default.get(l.default.apiUrl+"/common/tasktypes").then(function(e){return(0,s.handleApiResponse)(e)}).catch(function(e){return(0,s.handleApiResponse)(e)})};t.commonService={getDisputeCodes:c,getTaskTypes:u}},6116:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return u.default.createElement(b.default,{component:"div",style:{paddingTop:"1.85vh"}},u.default.createElement(S.Paper,{elevation:1,style:{overflowY:"auto",height:"78.5vh",borderRadius:"4px",boxShadow:"none",background:e.theme.palette.cardBackground.main}},e.children))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),m=a(19),f=a(331),h=n(f),v=a(330),g=n(v),y=a(21),b=n(y),C=a(6079),E=n(C),S=a(23),O=a(85),w=n(O),x=a(6080),k=n(x),I=a(67);l.propTypes={children:p.default.node.isRequired};var D=function(e){return{root:{},progress:{margin:"7rem 0 0 20rem"},container:{overflow:"auto"},scrollButtons:{color:"white",flex:"0 !important"},indicator:{height:"2px",top:"5.7vh !important"},tabSelected:{color:e.palette.primary.main+" !important"},tabRoot:{color:e.palette.secondary.main,width:"calc(5.666vh + 5.666vw)",minHeight:"6.3vh",maxHeight:"6.3vh"},tabWrapper:{marginBottom:".4vw",width:"calc(5.666vh + 5.666vw)"},tabsFlexContainer:{height:"6.3vh"},tabsRoot:{minHeight:"6.3vh",maxHeight:"6.3vh"},tabsScroller:{marginBottom:"-10vh !important"},invoiceCountText:{color:e.palette.primary.main,fontSize:".8rem",display:"block"}}},T={bucketNames:[],invoices:[]},N=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.filterInvoices=function(e){if("All"==e)a.setState({invoices:a.state.allInvoices});else{for(var t=a.state.allInvoices,n=[],o=0;o<t.length;o++){for(var r=[],i=0;i<t[o].length;i++)"Dispute"==e&&null!=t[o][i].disputeStatus?r.push(t[o][i]):"Predicted Delinquent"==e&&1==t[o][i].p2pDelinquent?r.push(t[o][i]):"Upcoming P2P"==e&&1==t[o][i].p2pUpcoming?r.push(t[o][i]):"Broken P2P"==e&&1==t[o][i].p2pBroken&&r.push(t[o][i]);n.push(r)}a.setState({invoices:n})}},a.handleChange=function(e,t){a.setState({value:t})};var n=a.props.bucketNames.reverse();return n.unshift("Current Due"),a.state={value:0,loading:!1,invoices:e.invoices,allInvoices:e.invoices,days:n},a}return i(t,e),s(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.classes,n=t.theme,o=this.state.value,r=[],i=[],s=0,c=0,d=0;d<this.state.days.length;d++)i.push(0);for(var d=0;d<this.state.invoices.length;d++){r.push(this.state.invoices[d].length);for(var p=0,m=0;m<this.state.invoices[d].length;m++)p+=this.state.invoices[d][m].currentOpenAmount,s+=1,c+=this.state.invoices[d][m].currentOpenAmount;i[d]=p}return u.default.createElement("div",{className:a.root},!1===this.state.loading&&u.default.createElement("div",null,u.default.createElement(h.default,{value:o,onChange:this.handleChange,indicatorColor:"primary",scrollable:!0,scrollButtons:"auto",classes:{scrollButtons:a.scrollButtons,flexContainer:a.tabsFlexContainer,root:a.tabsRoot,scroller:a.tabsScroller},TabIndicatorProps:{className:a.indicator}},u.default.createElement(g.default,{classes:{selected:a.tabSelected,root:a.tabRoot,wrapper:a.tabWrapper},icon:u.default.createElement("div",null,u.default.createElement("span",{className:a.invoiceCountText},s," ($",(0,I.formatter)(c),")"),u.default.createElement("span",{style:{fontSize:".8rem"}},"All Invoices"))}),this.state.days.map(function(e,t){return u.default.createElement(g.default,{classes:{selected:a.tabSelected,root:a.tabRoot},icon:u.default.createElement("div",null,u.default.createElement("span",{className:a.invoiceCountText},r[t]," ($",(0,I.formatter)(i[t]),")"),u.default.createElement("span",{style:{fontSize:".8rem"}},e))})})),0===o&&u.default.createElement(l,{theme:n},u.default.createElement(E.default,{emailOfCalled:this.props.emailOfCalled,collector:this.props.collector,customer:this.props.customer,filterInvoices:this.filterInvoices,bucketNames:this.state.days,invoices:this.state.invoices})),this.state.invoices.map(function(t,r){return o===r+1&&u.default.createElement(l,{theme:n,className:a.container},u.default.createElement(k.default,{emailOfCalled:e.props.emailOfCalled,collector:e.props.collector,customer:e.props.customer,filterInvoices:e.filterInvoices,individual:!0,days:e.state.days[r],invoices:t}))})),this.state.loading&&u.default.createElement("div",null,u.default.createElement(h.default,{value:o,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{scrollButtons:a.scrollButtons}},u.default.createElement(g.default,{style:{color:"white"},label:"All Invoice"}),this.state.days.map(function(e){return u.default.createElement(g.default,{style:{color:"white"},label:e+"days past due"})})),u.default.createElement(S.Paper,{style:{height:"24rem",marginTop:"2rem"}},u.default.createElement(w.default,{className:a.progress,size:100}))))}}]),t}(u.default.Component);N.propTypes={classes:p.default.object.isRequired},N.defaultProps=T,t.default=(0,m.withStyles)(D,{withTheme:!0})(N)},6117:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(87),p=n(d),m=a(23),f=a(85),h=n(f),v=a(69),g=a(24),y=a(114),b=a(70),C=a(113),E=a(165),S=n(E),O=a(68),w=n(O),x=a(41),k=n(x),I=a(40),D=n(I),T=a(8),N=n(T),P=function(e){var t;return{App:{textAlign:"center"},popOver:{color:e.palette.cardBackground.color,width:"20em"},head:{color:e.palette.cardBackground.color,fontSize:"1em",opacity:.65},icon:l({height:"calc(1.6vh + 1.6vw)",minWidth:"calc(1.6vh + 1.6vw)",cursor:"pointer",textAlign:"center",borderRadius:"50%"},"textAlign","center"),voiceMailIcon:{background:"#5DAAE0",padding:"1px"},voicemailSentIcon:{border:"2px solid #5DAAE0"},voicemailProgressParent:{cursor:"pointer",textAlign:"center"},voicemailBox:(t={wordBreak:"break-word",borderBottom:"0.5px solid rgb(93,170,224)"},l(t,"borderBottom","0.5px solid rgba(93,170,224,0.65)"),l(t,"padding","12px 12px 20px 12px"),l(t,"display","flex"),l(t,"marginBottom","20px"),l(t,"flexDirection","row"),t),disabledVoicemailBox:{cursor:"default !important",opacity:"0.65"},voicemailText:{display:"flex",flexDirection:"column",marginLeft:"1.2rem",cursor:"pointer"},voicemailProgress:{width:"inherit !important",height:"inherit !important",fill:"#5DAAE0"},closeIcon:{fill:"lightblue",position:"absolute",right:"3%",fontSize:"2rem",cursor:"pointer"},voicemailBtn:{color:"#FFF",fontSize:"1.7rem",padding:"10%"},voicemailSentBtn:{fontSize:"1.5rem !important"},disableBtn:{opacity:.4,cursor:"default"}}},A=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.initializeVoicemailData=function(e){for(var t=new Map,n=new Map,o=0;o<e.length;o++)t.set(e[o].id,!1),n.set(e[o].id,!1);a.setState({voicemailTemplates:e,voicemailClickMap:t,voicemailSentMap:n})},a.handleOpen=function(){a.setState({open:!0})},a.handleChange=function(e){a.setState({phoneNumber:e.target.value})},a.handleClose=function(){a.setState({open:!1,disableVoicemailClick:!a.state.isVoicemailEnabled})},a.handleVoicemailClick=function(e){if(!a.state.disableVoicemailClick){var t=e.id,n=a.state.voicemailClickMap;n.set(t,!0),a.setState({voicemailClickMap:n,disableVoicemailClick:!0},function(){console.log(e.templateName,a.state.id),a.setState(l({},t,!0)),"OK"===(0,b.sipToggleMute)()?a.setState({snackOpen:!0,snackMessage:"Mic auto muted"}):a.setState({snackOpen:!0,snackMessage:"Failed to auto mute mic!"}),0===t?((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("4"),console.log("1st Template")):1===t?((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("5"),console.log("2nd Template")):((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("6"),console.log("Last template")),a.props.onVoicemailClick()}),setTimeout(function(){var e=a.state.voicemailSentMap;e.set(t,!0),a.setState({voicemailSentMap:e,isVoicemailEnabled:!1})},2e3),setTimeout(function(){return a.handleClose()},C.VOICEMAIL_AUTO_CLOSE_TIMEMOUT)}},a.closeSnackbar=function(){a.setState({snackOpen:!1})},a.isVoicemailAvailable=function(){return"Connected to"===a.props.callState.status&&a.state.voicemailTemplates&&a.state.voicemailTemplates.length>0&&a.state.isVoicemailEnabled},a.state={open:!1,phoneNumber:"",displayNumber:"",dialled:!1,focus:!0,isVoicemailEnabled:!0,isVoicemailClicked:!1,voicemailClickMap:new Map,voicemailSentMap:new Map,voicemailTemplates:[],snackOpen:!1,disableVoicemailClick:!1},k.default.get(D.default.apiUrl+"/voicetemplate").then(function(e){console.log("Voicemail Fetched",e.data),a.initializeVoicemailData(e.data)}).catch(function(e){console.log("Failed to fetch voicemails",e)}),a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{className:a.App},u.default.createElement(y.Voicemail,{className:this.isVoicemailAvailable()?a.voicemailBtn:a.voicemailBtn+" "+a.disableBtn,onClick:this.isVoicemailAvailable()?this.handleOpen:C.emptyFunction}),u.default.createElement(p.default,{id:"simple-popper",open:this.state.open,onClose:this.handleClose,anchorReference:"anchorPosition",anchorPosition:{top:80},PaperProps:{style:{height:"100%",marginTop:"3em",right:"0",background:n.palette.solidBackground.main,borderLeft:"2px solid #FFF",borderRadius:0}},anchorOrigin:{vertical:20,horizontal:20},transformOrigin:{vertical:20,horizontal:20}},u.default.createElement("div",{className:a.popOver},u.default.createElement("div",{style:{display:"flex",paddingLeft:"4%",marginTop:"5%",alignItems:"center"}},u.default.createElement(m.Typography,{className:a.head},"VOICEMAIL"),u.default.createElement(y.Close,{onClick:this.handleClose,className:a.closeIcon})),u.default.createElement("br",null),u.default.createElement("div",null,this.state.voicemailTemplates.map(function(t){return u.default.createElement("div",{className:e.state.disableVoicemailClick?(0,N.default)(a.disabledVoicemailBox,a.voicemailBox):a.voicemailBox,key:t.id},!e.state.voicemailClickMap.get(t.id)&&u.default.createElement("div",{className:(0,N.default)(a.voiceMailIcon,a.icon)},u.default.createElement(y.Voicemail,{className:a.voicemailBtn})),e.state.voicemailClickMap.get(t.id)&&!e.state.voicemailSentMap.get(t.id)&&u.default.createElement("div",{className:(0,N.default)(a.voicemailProgressParent,a.baseIconSize)},u.default.createElement(h.default,{className:a.voicemailProgress})),e.state.voicemailClickMap.get(t.id)&&e.state.voicemailSentMap.get(t.id)&&u.default.createElement("div",{className:(0,N.default)(a.voicemailSentIcon,a.icon)},u.default.createElement(y.Done,{className:(0,N.default)(a.voicemailSentBtn,a.voicemailBtn)})),u.default.createElement("div",{className:a.voicemailText,onClick:function(){return e.handleVoicemailClick(t)}},!e.state.voicemailClickMap.get(t.id)&&u.default.createElement(m.Typography,{style:{color:n.palette.cardBackground.color,opacity:.65}},"Send"),e.state.voicemailClickMap.get(t.id)&&!e.state.voicemailSentMap.get(t.id)&&u.default.createElement(m.Typography,{style:{color:n.palette.cardBackground.color,opacity:.65}},"Sending"),e.state.voicemailClickMap.get(t.id)&&e.state.voicemailSentMap.get(t.id)&&u.default.createElement(m.Typography,{style:{color:"#5DAAE0",opacity:.65}},"Sent"),u.default.createElement(m.Typography,{style:{color:n.palette.cardBackground.color}},t.templateName)),u.default.createElement(y.MoreVert,{style:{right:"3%",position:"fixed"}}))})))),u.default.createElement(S.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:this.state.snackMessage},this.state.snackMessage),action:[u.default.createElement(m.IconButton,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(w.default,null))]}))}}]),t}(c.Component),j=(0,m.withStyles)(P)(A),M=function(e){return{callState:e.callState}},F=function(e){return{changeCaller:function(t){return e((0,v.changeCaller)(t))}}};t.default=(0,g.connect)(M,F)((0,m.withStyles)(P,{withTheme:!0})(j))},6118:function(e,t){e.exports="data:image/png;base64,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"},6119:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAABHNCSVQICAgIfAhkiAAABK1JREFUaIHNmW2IVFUYx3/PndlVS5CdOde3QFQSLWwxBUPMzTQQUwPxZemjlhD0JfRDUGZvRPjJiMgPFSrRF5WCkLKoVJKFtAxpUzFcX6C23Xtnd1a3nM2Z+/Th7uq6O3fumdmdHf9wuTPnPM95fnPm3HPOPY8wClLXnUMQLMVxFqL6CPAAMBWRelS7gC6gE/iRIDhKV9dPAsFIYkrFsMbMBZ4H1iEytzxn7QaOEASf0tX1fSU/omxwNWYtsB2RJ8v1jdDfBMHHZDLvCORsnazBtaGhkUTifUSeqIwvLoD+gUizeN6vNuZObHuQUNfdSSLxS9WgAUTmoHpK0+mX1aJDSxqo604EvgYeHy0+K6kewfebBf6NMokEV7gPY35A5LHq0MVI9Qz5/ErJZrPFqosOFYV6XPfbmkEDiCwkmfxGYXyx6mHgCg7GHAKWVh0uTiKLcd3Pi4354T2eTr+JyDNjAman1Rjz+tDCu35J/6LSikhyzLBspKrACvH94wNFd/e4yL57DhpARBD5SCExUHQbXF13C7CkJmB2epB0+oWBLwKgILjuJWBWzbBspHoN358poGGPG/M09zo0gMgMUqlVcGeovFRDnPLkOFsARGE8xvyDSOy+JVKzZ8O8eTB5MkyZEt6nToVcDtra7lznzsGNGyMDV+3B99NJjFlSEbQxsGkTbNgAjY32fh0dcPo0HDgAJ06UHRaRSRizTNR1dwJvWzs2NsK2bbB+PdTXlx94sC5ehL174eBBuHWrHM9XRY35EpF1saZ1dbBnD2zeXDFnpNrawnavXbP1OOQA06xMt26tDjSEz8iuXeV4PJQEXCvT5uboutZW2L8fTp6EK1cgGPIKaQzMnw+LFsGOHZAssjivXh2W5/M2NJNFXbcXuL+k2bhxcPUqOEWe4Vwu7DG7gHD4MDQ1Fa9raoILF+LbUA0cIH5vkk4Xhwbo7LSHBmhvj65raLBuxgGKvmHcpVJgdXXWwQCYMCG6Tqzf3TscVDOxZpkMqBavM6acgOECFaWbN21baU8icg54uKRZoRCO8ZkzIZuFS5fCq60tvCeT9vPwxo0wfTpMmxbeB3+2nw7bRY15DZG3Yk1nzQqhu7ttG6+mdidRbbH6qy9frj6OrQqFY6KQwHV7iJsS7xWp5vH9iY5AAfiq1jxlqEWgL5ycC4VPagxjL5EPYfCrmzFXEJlRW6oYqf6J788QCBwAAUXkjVpzWei9gbP0oecqZxB5tDZMMVI9j+8vEPgPhp+rPIfqiFIcVZFqQD7/7AA0DAHvP1SPX4zGWqrvSjZ7dnDRsJWn/9DzOCLLxo6spI7ieWuG5omG7VX7Ddag+vuYoUVJ9Wc8b32x5FbRTbb4/g1yuRVAa9XhovUbhcJTUQmtyGMJ6e3tBJagWotV9Sx9fculu7snyqDkeYp4Xi++vxbVHUDfqOMV1wd43mK5fr2rJJttazpp0mzq6vZX7aFVPQ+8KL5/zMa8/ARtKrURx3ll1BaqML+5G8/bV06GeSQp8eXAdmAVIuUdaan2IPIFQfCZZDLfVRK/YvDbDGFacSWwBlgApBBJoZoi7MEO4C/gInAGkVN4Xkv/drpi/Q+0X39cXIV6DwAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMC5idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0luQ2FsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGRhdGUtaW8vZGF0ZS1mbnMvYnVpbGQvaW5kZXguZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXRlcmlhbC11aS1waWNrZXJzL2Rpc3QvbWF0ZXJpYWwtdWktcGlja2Vycy5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRHVlRGV0YWlsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0ludm9pY2VUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UcmFuc2NyaXB0Qm94LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1RyYW5zY3JpcHRDaGF0LmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9Qb3N0Q2FsbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9BY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1AyUC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC10ZXh0LW1hc2svZGlzdC9yZWFjdFRleHRNYXNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9oYXNDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvUmVwbGFjZVRyYW5zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRGlzcHV0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Gb2xsb3d1cC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9BY3Rpb25EZXRhaWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0xpc3RPZlRpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0ZpbmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0VtYWlsQm94LmpzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9jb3JyZXNwb25kZW5jZVNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2hlbHBlcnMvZW1haWxIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQWN0aW9uQ3JlYXRvckRpYWxvZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DaGF0Qm94LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1oaWdobGlnaHQtd29yZHMvZGlzdC9tYWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9SaXBwbGUuZ2lmIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL05vdGVzRWRpdG9yLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9oZWxwZXJzL3Bvc3RDYWxsSGVscGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9jb21tb25TZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0luQ2FsbERldGFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVm9pY2VtYWlsV3JhcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL21pY19vZmYucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvaGFuZy11cC5wbmciXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiNjA3NiIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmluZVByb3BlcnR5Iiwia2V5IiwidmFsdWUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJjYWxsIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX3N0eWxlcyIsIl9HcmlkIiwiX0dyaWQyIiwiX1R5cG9ncmFwaHkiLCJfVHlwb2dyYXBoeTIiLCJfY2xhc3NuYW1lcyIsIl9jbGFzc25hbWVzMiIsIl9Db250YWN0TGlzdCIsIl9Db250YWN0TGlzdDIiLCJfc2lwVXRpbHMiLCJfYWN0aW9ucyIsIl9jYWxsTG9nQWN0aW9ucyIsIl9yZWFjdFJlZHV4IiwiX0Nsb3NlIiwiX0Nsb3NlMiIsIl9yZWFjdFJvdXRlckRvbSIsIl9DYWxsUHJlcERldGFpbHMiLCJfQ2FsbFByZXBEZXRhaWxzMiIsIl9Qb3N0Q2FsbCIsIl9Qb3N0Q2FsbDIiLCJfSW5DYWxsRGV0YWlscyIsIl9JbkNhbGxEZXRhaWxzMiIsIl9yZWFjdEhhbW1lcmpzIiwiX3JlYWN0SGFtbWVyanMyIiwiX01vZGFsIiwiX01vZGFsMiIsIl9Ub29sdGlwIiwiX1Rvb2x0aXAyIiwiX0ZhYiIsIl9GYWIyIiwiX05hdmlnYXRlTmV4dCIsIl9OYXZpZ2F0ZU5leHQyIiwiX05hdmlnYXRlQmVmb3JlIiwiX05hdmlnYXRlQmVmb3JlMiIsIl9EcmF3ZXIiLCJfRHJhd2VyMiIsIl9BcnJvd0Ryb3BEb3duIiwiX0Fycm93RHJvcERvd24yIiwiX0N1c3RvbWVyRHJhd2VyT3B0aW9ucyIsIl9LZXlQYWRXcmFwcGVkIiwiX0tleVBhZFdyYXBwZWQyIiwiX1ZlcnRpY2FsVGltZUxpbmUiLCJfVmVydGljYWxUaW1lTGluZTIiLCJfVm9pY2VtYWlsV3JhcHBlciIsIl9Wb2ljZW1haWxXcmFwcGVyMiIsIl9UcmFuc2NyaXB0Q2hhdCIsIl9oZWxwZXIiLCJfQ3VzdG9tRm9vdGVyIiwiX0N1c3RvbUZvb3RlcjIiLCJfRnJlZGFCdXR0b24iLCJfVHJhbnNjcmlwdEJveCIsIl9UcmFuc2NyaXB0Qm94MiIsIl9jb21iaW5lU3R5bGVzIiwiX2NvbWJpbmVTdHlsZXMyIiwiX2Jhc2VTdHlsZSIsIl9iYXNlU3R5bGUyIiwidGltZUludGVydmFsIiwicmVxdWlyZSIsInN0eWxlcyIsInRoZW1lIiwiYXBwRnJhbWUiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsIm1heEhlaWdodCIsInJvb3QiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJwYWxldHRlIiwiYmFja2dyb3VuZCIsIm1haW4iLCJ3aWR0aCIsIm1hcmdpblJpZ2h0IiwibWFyZ2luTGVmdCIsImFsaWduSXRlbXMiLCJwYWRkaW5nQm90dG9tIiwianVzdGlmeUNvbnRlbnQiLCJmb250RmFtaWx5IiwiZm9udCIsInRpdGxlIiwiaGFuZ1VwSWNvbkluZyIsImhlaWdodCIsImN1cnNvciIsImNhbGxUZXh0IiwiY29sb3IiLCJwcmltYXJ5IiwiZm9udFNpemUiLCJkaWFscGFkSWNvbiIsInBhZGRpbmdSaWdodCIsInZvaWNlTWFpbEljb24iLCJib3JkZXJSYWRpdXMiLCJ0ZXh0QWxpZ24iLCJwYWRkaW5nIiwic3RhdHVzIiwiekluZGV4IiwiZHVyYXRpb24iLCJjdXN0b21lck5hbWUiLCJzZWNvbmRhcnkiLCJsaW5lSGVpZ2h0IiwiY3VzdG9tZXJOdW1iZXIiLCJ0cmFuc2NyaXB0Qm94IiwiYmFja2dyb3VuZENvbG9yIiwiY2FyZEJhY2tncm91bmQiLCJwb3NpdGlvbiIsInRyYW5zY3JpcHRUaXRsZSIsInBhZGRpbmdMZWZ0Iiwib3BhY2l0eSIsInBhZGRpbmdUb3AiLCJuZXh0RmFiIiwicmlnaHQiLCJzcGFjaW5nIiwidW5pdCIsInByZXZGYWIiLCJoYW5nVXBCdXR0b24iLCJoYW5nVXBCdXR0b25JbWciLCJkcm9wRG93bkljb24iLCJkcm9wRG93biIsIm1pY09mZkljb25JbWciLCJtaWNPZmZJY29uIiwiY2FsbGVkQ29udGFjdE5hbWUiLCJjYWxsZWRUb0NvbnRhY3REaXYiLCJ0cmFuc2NyaXB0Qm94UGFyZW50IiwiY2xvc2VTdHlsZSIsInRvcCIsImxlZnQiLCJjdXN0b21lckhpc3RvcnlNb2RhbCIsImJvdHRvbSIsIm92ZXJmbG93V3JhcCIsIm92ZXJmbG93WSIsImJveFNoYWRvdyIsInNoYWRvd3MiLCJzb2xpZEJhY2tncm91bmQiLCJhY3Rpb25JY29uIiwiYWN0aW9uQnV0dG9uIiwic2FsZXMiLCJyb3dzIiwiaXRlbSIsInByb2R1Y3QiLCJyZWdpb24iLCJhbW91bnQiLCJzYWxlRGF0ZSIsImN1c3RvbWVyIiwicHVzaCIsIkluQ2FsbCIsIl9Db21wb25lbnQiLCJ0aGlzIiwiX3RoaXMiLCJnZXRQcm90b3R5cGVPZiIsIm9wZW5Db250YWN0RHJvcGRvd24iLCJzdGF0ZSIsImNvbnRhY3RPcGVuIiwic2V0U3RhdGUiLCJ0b2dnbGVDb250YWN0UG9wb3ZlciIsImdldEZvcm1hdHRlZER1cmF0aW9uIiwiY2FsbER1cmF0aW9uIiwiaHIiLCJNYXRoIiwiZmxvb3IiLCJtaW4iLCJzZWMiLCJvcGVuVm9pY2VtYWlsIiwiaXNWb2ljZW1haWxPcGVuIiwiY2xvc2VQb3BUaW1lbGluZSIsInBvcFRpbWVsaW5lIiwib3BlblBvcFRpbWVsaW5lIiwicG9wVHlwZSIsImdldFRpbWVsaW5lIiwiZXZlbnRzIiwiY2xhc3NlcyIsIm1haW5IZWFkZXIiLCJub0V2ZW50TXNnIiwicGF5bWVudHMiLCJjb21tdW5pY2F0aW9uIiwidHlwZSIsInRvVXBwZXJDYXNlIiwiY29tbVR5cGUiLCJjcmVhdGVFbGVtZW50IiwidG9nZ2xlTXV0ZSIsImlzTXV0ZWQiLCJzaXBUb2dnbGVNdXRlIiwic2V0RHVyYXRpb24iLCJzZXRJbnRlcnZhbCIsImNhbGxTdGF0ZSIsImNhbGxEdXJhdGlvbkluRm9ybWF0IiwiY2xlYXJJbnRlcnZhbE9uSGFuZ3VwIiwiY2xlYXJJbnRlcnZhbCIsImhhbmdVcCIsInNpcEhhbmd1cCIsInN3aXRjaFRvQ2FsbFByZXBQYWdlIiwiY2FsbFByZXBQYWdlIiwic3dpdGNoVG9DYWxsSW5DYWxsUGFnZSIsImhhbmRsZVZvaWNlbWFpbE1lc3NhZ2UiLCJjb250YWN0IiwiY2FsbGVkTmFtZSIsImNhbGxlZFRvRmlyc3ROYW1lIiwiY2FsbGVkVG9MYXN0TmFtZSIsImxvY2F0aW9uIiwiY2FsbGVkVG9OdW1iZXIiLCJtZXNzYWdlIiwidm9pY2VtYWlsUGxheWVkTWVzc2FnZSIsIm15UmVmIiwiUmVhY3QiLCJjcmVhdGVSZWYiLCJjaGFuZ2VDYWxsU3RhdGUiLCJjYWxsaW5nIiwiY29udGFjdEluZGV4IiwiY2FsbGVkVG9Db250YWN0SWQiLCJjb25zb2xlIiwibG9nIiwiY29udGFjdHMiLCJpZCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWxPZkNhbGxlZCIsImVtYWlsIiwiY29udGFjdElkIiwiY2FsbGVkVG9GdWxsTmFtZSIsImxvY2F0aW9uUHJvcHMiLCJhY2NvdW50IiwiY3VzdG9tZXJzIiwiZmlsdGVyIiwiYWNjb3VudElkIiwiY2FsbExvZyIsImNhbGxlZFRvIiwic3RhcnREYXRlVGltZSIsIkRhdGUiLCJkaXNhYmxlRnJlZGFJbkNhbGwiLCJzaXBDYWxsIiwidXNlciIsImludm9pY2VzIiwibG9hZGluZyIsInJlZGlyZWN0IiwidHJhbnNjcmlwdGlvbiIsInN1bW1hcnkiLCJjb2x1bW5zIiwibmFtZSIsImN1cnJlbmN5Q29sdW1ucyIsInBhZ2VTaXplcyIsIm5leHRQcm9wcyIsImN1cnJlbnRUcmFuc2NyaXB0aW9uIiwibmV3VHJhbnNjcmlwdGlvbiIsIl9SZWFjdCRjcmVhdGVFbGVtZW50IiwiX3RoaXMyIiwiX3Byb3BzIiwiY2FsbGVkVG9OYW1lSW5pdGlhbHMiLCJwYXJzZUludCIsIm1hdGNoIiwicGFyYW1zIiwiZ2V0SW5pdGlhbHNGcm9tTmFtZSIsIm9uU3dpcGVMZWZ0Iiwib25Td2lwZVJpZ2h0IiwiY2xhc3NOYW1lIiwidG9wSXRlbXMiLCJnZXRNZW51SXRlbXMiLCJvcGVuIiwiZGlzYWJsZUF1dG9Gb2N1cyIsIm9uQ2xvc2UiLCJvbkNsaWNrIiwiYXJpYS1sYWJlbCIsImZhYkJ1dHRvbnMiLCJkaXNhYmxlZCIsImRpc2FibGVkRmFiIiwic2l6ZSIsImRpc2FibGVkQXJyb3dpY29uIiwiYXJyb3dJY29uIiwiY29udGFpbmVyIiwieHMiLCJqdXN0aWZ5Iiwic3R5bGUiLCJtYXJnaW5Ub3AiLCJub1dyYXAiLCJzbSIsImxnIiwibWQiLCJ4bCIsImNhbGxHcmlkIiwiY3VzdG9tZXJJY29uQ2lyY2xlIiwiY2hhckF0IiwidmFyaWFudCIsImFsaWduIiwiY29udGFjdEljb24iLCJkYXRhRnJvbUNoaWxkIiwib3BlbkNvbnRhY3RzIiwiYnVja2V0TmFtZXMiLCJuZXh0Q3VzdG9tZXJVcmwiLCJuZXh0VXJsIiwidG9DYWxsQ3VzdG9tZXJzIiwiY2VudGVyRmxleEJveCIsInNyYyIsImJhc2VJY29uU2l6ZSIsIm9uVm9pY2VtYWlsQ2xpY2siLCJjb2xsZWN0b3IiLCJhdXRvU2Nyb2xsIiwidHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lIiwidHJhbnNjcmlwdENoYXRQcm9wcyIsInVzZXJJbml0aWFscyIsInRyYW5zY3JpcHRHcmlkSUQiLCJSZWRpcmVjdCIsInRvIiwicGF0aG5hbWUiLCJ2b2ljZW1haWxNZXNzYWdlIiwib25IYW5ndXAiLCJjYWxsZWRUb05hbWUiLCJpbml0aWFsVHJhbnNjcmlwdGlvbiIsIkNvbXBvbmVudCIsIm1hcFN0YXRlVG9Qcm9wcyIsInBlcnNvbmFsRGV0YWlscyIsIm1hcERpc3BhdGNoVG9Qcm9wcyIsImRpc3BhdGNoIiwiZGF0YSIsImNoYW5nZVN0YXR1cyIsImNoYW5nZVRyYW5zY3JpcHRpb24iLCJhZGRJbml0aWFsQ2FsbExvZyIsImNvbWJpbmVkU3R5bGUiLCJiYXNlU3R5bGUiLCJjb25uZWN0Iiwid2l0aFN0eWxlcyIsIndpdGhUaGVtZSIsIjYwNzciLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2RhdGVfZm5zX2FkZERheXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9kYXRlX2Zuc19hZGRNb250aHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9kYXRlX2Zuc19hZGRZZWFyc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2RhdGVfZm5zX2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2RhdGVfZm5zX2VhY2hEYXlPZkludGVydmFsX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfZGF0ZV9mbnNfZW5kT2ZEYXlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9kYXRlX2Zuc19lbmRPZk1vbnRoX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfZGF0ZV9mbnNfZW5kT2ZXZWVrX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfZGF0ZV9mbnNfZW5kT2ZZZWFyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX2RhdGVfZm5zX2dldEhvdXJzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX2RhdGVfZm5zX2dldFNlY29uZHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfZGF0ZV9mbnNfZ2V0WWVhcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19kYXRlX2Zuc19pc0FmdGVyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X2RhdGVfZm5zX2lzQmVmb3JlX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2RhdGVfZm5zX2lzRXF1YWxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfZGF0ZV9mbnNfaXNTYW1lRGF5X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X2RhdGVfZm5zX2lzVmFsaWRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfZGF0ZV9mbnNfcGFyc2VfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfZGF0ZV9mbnNfc2V0SG91cnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfZGF0ZV9mbnNfc2V0TWludXRlc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9kYXRlX2Zuc19zZXRTZWNvbmRzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX2RhdGVfZm5zX3NldFllYXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfZGF0ZV9mbnNfc3RhcnRPZkRheV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9kYXRlX2Zuc19zdGFydE9mTW9udGhfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfZGF0ZV9mbnNfc3RhcnRPZldlZWtfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfZGF0ZV9mbnNfc3RhcnRPZlllYXJfXyIsIkRhdGVGbnNVdGlscyIsIl9hIiwibG9jYWxlIiwiZGF0ZVRpbWUxMmhGb3JtYXQiLCJkYXRlVGltZTI0aEZvcm1hdCIsInRpbWUxMmhGb3JtYXQiLCJ0aW1lMjRoRm9ybWF0IiwiZGF0ZUZvcm1hdCIsImFkZERheXMiLCJjb3VudCIsImlzVmFsaWQiLCJnZXREaWZmIiwiY29tcGFyaW5nIiwiaXNBZnRlciIsImlzQmVmb3JlIiwic3RhcnRPZkRheSIsImVuZE9mRGF5IiwiZ2V0SG91cnMiLCJzZXRIb3VycyIsInNldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwic2V0U2Vjb25kcyIsImlzU2FtZURheSIsImdldFN0YXJ0T2ZNb250aCIsImdldFllYXIiLCJzZXRZZWFyIiwiZGF0ZSIsInBhcnNlIiwiZm9ybWF0U3RyaW5nIiwiZm9ybWF0IiwiaXNFcXVhbCIsImlzTnVsbCIsImlzQWZ0ZXJEYXkiLCJpc0JlZm9yZURheSIsImlzQmVmb3JlWWVhciIsImlzQWZ0ZXJZZWFyIiwiZm9ybWF0TnVtYmVyIiwibnVtYmVyVG9Gb3JtYXQiLCJnZXRNaW51dGVzIiwiZ2V0TW9udGgiLCJnZXRNZXJpZGllbVRleHQiLCJhbXBtIiwiZ2V0TmV4dE1vbnRoIiwiZ2V0UHJldmlvdXNNb250aCIsIm1lcmdlRGF0ZUFuZFRpbWUiLCJ0aW1lIiwiZ2V0V2Vla2RheXMiLCJub3ciLCJzdGFydCIsImVuZCIsIm1hcCIsImRheSIsImdldFdlZWtBcnJheSIsImN1cnJlbnQiLCJuZXN0ZWRXZWVrcyIsIndlZWtOdW1iZXIiLCJnZXRZZWFyUmFuZ2UiLCJzdGFydERhdGUiLCJlbmREYXRlIiwieWVhcnMiLCJnZXRDYWxlbmRhckhlYWRlclRleHQiLCJnZXRZZWFyVGV4dCIsImdldERhdGVQaWNrZXJIZWFkZXJUZXh0IiwiZ2V0RGF0ZVRpbWVQaWNrZXJIZWFkZXJUZXh0IiwiZ2V0RGF5VGV4dCIsImdldEhvdXJUZXh0IiwiZ2V0TWludXRlVGV4dCIsImdldFNlY29uZFRleHQiLCI2MDc4IiwiZCIsIkRhdGVQaWNrZXJNb2RhbCQxIiwiRGF0ZVBpY2tlcklubGluZSQxIiwiVGltZVBpY2tlck1vZGFsJDEiLCJUaW1lUGlja2VySW5saW5lJDEiLCJEYXRlVGltZVBpY2tlck1vZGFsJDEiLCJEYXRlVGltZVBpY2tlcklubGluZSQxIiwiQmFzZVBpY2tlciQxIiwiQ2FsZW5kYXIkMSIsIkRheSQxIiwiVGltZVBpY2tlclZpZXckMSIsIkNsb2NrJDEiLCJNdWlQaWNrZXJzVXRpbHNQcm92aWRlciIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Byb3BfdHlwZXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fIiwibiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19yZWFjdF90ZXh0X21hc2tfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19yZWFjdF90ZXh0X21hc2tfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX21hdGVyaWFsX3VpX2NvcmVfSW5wdXRBZG9ybm1lbnRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fbWF0ZXJpYWxfdWlfY29yZV9JbnB1dEFkb3JubWVudF9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX21hdGVyaWFsX3VpX2NvcmVfVGV4dEZpZWxkX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX21hdGVyaWFsX3VpX2NvcmVfVGV4dEZpZWxkX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nQWN0aW9uc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nQ29udGVudF9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fbWF0ZXJpYWxfdWlfY29yZV9Ub29sYmFyX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9yZWFjdF9kb21fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX21hdGVyaWFsX3VpX2NvcmVfUG9wb3Zlcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fbWF0ZXJpYWxfdWlfY29yZV9Qb3BvdmVyX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX21hdGVyaWFsX3VpX2NvcmVfUGFwZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX21hdGVyaWFsX3VpX2NvcmVfUGFwZXJfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFRoZW1lX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoVGhlbWVfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX21hdGVyaWFsX3VpX2NvcmVfVGFiX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX21hdGVyaWFsX3VpX2NvcmVfVGFic19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX19fZGVmYXVsdCIsIkNvbnN1bWVyIiwiUHJvdmlkZXIiLCJNdWlQaWNrZXJzQ29udGV4dENvbnN1bWVyIiwiX3N1cGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ1dGlscyIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsIlV0aWxzIiwibW9tZW50IiwicmVuZGVyIiwiY2hpbGRyZW4iLCJkZWZhdWx0UHJvcHMiLCJ1bmRlZmluZWQiLCJjaGVja1V0aWxzIiwiRXJyb3IiLCJ3aXRoVXRpbHMiLCJDb21wb25lbnQkJDEiLCJXaXRoVXRpbHMiLCJkaXNwbGF5TmFtZSIsImdldEluaXRpYWxEYXRlIiwiaW5pdGlhbEZvY3VzZWREYXRlIiwiaW5pdGlhbERhdGUiLCJCYXNlUGlja2VyIiwiaXNBY2NlcHRlZCIsImNoYW5nZURhdGUiLCJjYWxsYmFjayIsImhhbmRsZUFjY2VwdGVkQ2hhbmdlIiwiaGFuZGxlQ2xlYXIiLCJvbkNoYW5nZSIsImhhbmRsZUFjY2VwdCIsImhhbmRsZVNldFRvZGF5RGF0ZSIsImhhbmRsZUNoYW5nZSIsImhhbmRsZVRleHRGaWVsZENoYW5nZSIsIm1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2UiLCJwaWNrMTJoT3IyNGhGb3JtYXQiLCJkZWZhdWx0MTJoRm9ybWF0IiwiZGVmYXVsdDI0aEZvcm1hdCIsIm5ld0RhdGUiLCJpc0ZpbmlzaCIsImF1dG9PayIsImhhbmRsZURpc21pc3MiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJJbnB1dCIsImlucHV0UmVmIiwia2VlcENoYXJQb3NpdGlvbnMiLCJyZXN0IiwibWFzayIsImEiLCJyZWYiLCJnZXREaXNwbGF5RGF0ZSIsImludmFsaWRMYWJlbCIsImVtcHR5TGFiZWwiLCJsYWJlbEZ1bmMiLCJpc0VtcHR5IiwiZ2V0RXJyb3IiLCJtYXhEYXRlIiwibWluRGF0ZSIsImRpc2FibGVQYXN0IiwiZGlzYWJsZUZ1dHVyZSIsIm1heERhdGVNZXNzYWdlIiwibWluRGF0ZU1lc3NhZ2UiLCJpbnZhbGlkRGF0ZU1lc3NhZ2UiLCJEYXRlVGV4dEZpZWxkIiwidXBkYXRlU3RhdGUiLCJjb21taXRVcGRhdGVzIiwiY2xlYXJhYmxlIiwib25DbGVhciIsIm9uRXJyb3IiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiZXJyb3IiLCJkaXNwbGF5VmFsdWUiLCJoYW5kbGVCbHVyIiwiZSIsImtleWJvYXJkIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJvbkJsdXIiLCJvbklucHV0Q2hhbmdlIiwicGFyc2VkVmFsdWUiLCJoYW5kbGVGb2N1cyIsIm9wZW5QaWNrZXIiLCJoYW5kbGVLZXlQcmVzcyIsImRpc2FibGVPcGVuT25FbnRlciIsImFkb3JubWVudFBvc2l0aW9uIiwiSW5wdXRBZG9ybm1lbnRQcm9wcyIsIklucHV0UHJvcHMiLCJrZXlib2FyZEljb24iLCJwaXBlIiwiVGV4dEZpZWxkQ29tcG9uZW50Iiwib3RoZXIiLCJfYiIsImxvY2FsSW5wdXRQcm9wcyIsImlucHV0Q29tcG9uZW50IiwiaW5wdXRQcm9wcyIsInJlYWRPbmx5IiwiaGVscGVyVGV4dCIsIm9uS2V5UHJlc3MiLCJEYXRlVGV4dEZpZWxkJDEiLCJNb2RhbERpYWxvZyIsIl9jIiwiX2QiLCJvbktleURvd24iLCJvbkFjY2VwdCIsIm9uRGlzbWlzcyIsIm9uU2V0VG9kYXkiLCJva0xhYmVsIiwiY2FuY2VsTGFiZWwiLCJjbGVhckxhYmVsIiwidG9kYXlMYWJlbCIsInNob3dUb2RheUJ1dHRvbiIsInNob3dUYWJzIiwicm9sZSIsInBhcGVyIiwiZGlhbG9nUm9vdCIsImRpYWxvZ1dpdGhUYWJzIiwiZGlhbG9nIiwiZGlhbG9nQWN0aW9ucyIsImFjdGlvbiIsImRpYWxvZ0FjdGlvbiIsImNsZWFyYWJsZURpYWxvZ0FjdGlvbiIsInRvZGF5RGlhbG9nQWN0aW9uIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJvdmVyZmxvdyIsIiY6Zmlyc3QtY2hpbGQiLCJNb2RhbERpYWxvZyQxIiwiTW9kYWxXcmFwcGVyIiwiaGFuZGxlS2V5RG93biIsImV2ZW50Iiwib25PcGVuIiwiY2xvc2UiLCJEaWFsb2dQcm9wcyIsIlBpY2tlclRvb2xiYXIiLCJ0b29sYmFyIiwic3R5bGVzJDEiLCJQaWNrZXJUb29sYmFyJDEiLCJUb29sYmFyQnV0dG9uIiwic2VsZWN0ZWQiLCJsYWJlbCIsInRvb2xiYXJCdG4iLCJ0b29sYmFyQnRuU2VsZWN0ZWQiLCJzdHlsZXMkMiIsImNvbW1vbiIsIndoaXRlIiwiVG9vbGJhckJ1dHRvbiQxIiwiZmluZENsb3Nlc3RFbmFibGVkRGF0ZSIsInNob3VsZERpc2FibGVEYXRlIiwidG9kYXkiLCJmb3J3YXJkIiwiYmFja3dhcmQiLCJTbGlkZVRyYW5zaXRpb24iLCJ0cmFuc0tleSIsInNsaWRlRGlyZWN0aW9uIiwidHJhbnNpdGlvbkNvbnRhaW5lciIsIm1vdW50T25FbnRlciIsInVubW91bnRPbkV4aXQiLCJ0aW1lb3V0IiwiY2xhc3NOYW1lcyIsImVudGVyIiwiZW50ZXJBY3RpdmUiLCJzbGlkZUVudGVyQWN0aXZlIiwiZXhpdCIsInNsaWRlRXhpdCIsImV4aXRBY3RpdmUiLCJzdHlsZXMkMyIsInNsaWRlVHJhbnNpdGlvbiIsInRyYW5zaXRpb25zIiwiZWFzaW5nIiwiJiA+ICoiLCJzbGlkZUVudGVyLWxlZnQiLCJ3aWxsQ2hhbmdlIiwidHJhbnNmb3JtIiwic2xpZGVFbnRlci1yaWdodCIsInRyYW5zaXRpb24iLCJzbGlkZUV4aXRBY3RpdmVMZWZ0LWxlZnQiLCJzbGlkZUV4aXRBY3RpdmVMZWZ0LXJpZ2h0IiwiU2xpZGVUcmFuc2l0aW9uJDEiLCJDYWxlbmRhckhlYWRlciIsImN1cnJlbnRNb250aCIsIm9uTW9udGhDaGFuZ2UiLCJsZWZ0QXJyb3dJY29uIiwicmlnaHRBcnJvd0ljb24iLCJkaXNhYmxlUHJldk1vbnRoIiwiZGlzYWJsZU5leHRNb250aCIsInJ0bCIsImRpcmVjdGlvbiIsInNlbGVjdE5leHRNb250aCIsInNlbGVjdFByZXZpb3VzTW9udGgiLCJzd2l0Y2hIZWFkZXIiLCJpY29uQnV0dG9uIiwidG9TdHJpbmciLCJkYXlzSGVhZGVyIiwiaW5kZXgiLCJkYXlMYWJlbCIsInN0eWxlcyQ0IiwibWFyZ2luQm90dG9tIiwibWFyZ2luIiwidGV4dCIsImhpbnQiLCJDYWxlbmRhckhlYWRlciQxIiwiRGF5IiwiaGlkZGVuIiwidGFiSW5kZXgiLCJzdHlsZXMkNSIsInR5cG9ncmFwaHkiLCJjYXB0aW9uIiwiZm9udFdlaWdodCIsImZvbnRXZWlnaHRNZWRpdW0iLCJwb2ludGVyRXZlbnRzIiwiJjpob3ZlciIsIkRheVdyYXBwZXIiLCJoYW5kbGVDbGljayIsIm9uU2VsZWN0IiwiZGF5SW5DdXJyZW50TW9udGgiLCJDYWxlbmRhciIsIm9uRGF0ZVNlbGVjdCIsImhhbmRsZUNoYW5nZU1vbnRoIiwibmV3TW9udGgiLCJ2YWxpZGF0ZU1pbk1heERhdGUiLCJzaG91bGREaXNhYmxlUHJldk1vbnRoIiwic2hvdWxkRGlzYWJsZU5leHRNb250aCIsIkJvb2xlYW4iLCJtb3ZlVG9EYXkiLCJyZW5kZXJXZWVrcyIsIndlZWsiLCJyZW5kZXJEYXlzIiwicmVuZGVyRGF5Iiwic2VsZWN0ZWREYXRlIiwiY3VycmVudE1vbnRoTnVtYmVyIiwiZGF5Q29tcG9uZW50IiwibGFzdERhdGUiLCJjb21wb25lbnREaWRNb3VudCIsImNsb3Nlc3RFbmFibGVkRGF0ZSIsImFsbG93S2V5Ym9hcmRDb250cm9sIiwiYXV0b0ZvY3VzIiwic3R5bGVzJDYiLCJZZWFyIiwiY29tcG9uZW50Iiwic3R5bGVzJDciLCJvdXRsaW5lIiwiJjpmb2N1cyIsIlllYXIkMSIsIlllYXJTZWxlY3Rpb24iLCJzZWxlY3RlZFllYXJSZWYiLCJnZXRTZWxlY3RlZFllYXJSZWYiLCJzY3JvbGxUb0N1cnJlbnRZZWFyIiwiZG9tTm9kZSIsImFuaW1hdGVZZWFyU2Nyb2xsaW5nIiwiY3VycmVudFllYXJFbGVtZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJzZXRUaW1lb3V0IiwiYmVoYXZpb3IiLCJvblllYXJTZWxlY3QiLCJ5ZWFyIiwiY3VycmVudFllYXIiLCJ5ZWFyTnVtYmVyIiwic3R5bGVzJDgiLCJZZWFyU2VsZWN0aW9uJDEiLCJEYXRlUGlja2VyIiwic2hvd1llYXJTZWxlY3Rpb24iLCJvcGVuVG9ZZWFyU2VsZWN0aW9uIiwiaGFuZGxlWWVhclNlbGVjdCIsIm9wZW5DYWxlbmRhciIsIm9wZW5ZZWFyU2VsZWN0aW9uIiwiZ2V0IiwiRGF0ZVBpY2tlciQxIiwiRGF0ZVBpY2tlck1vZGFsIiwiZm9yd2FyZGVkUmVmIiwiSW5saW5lV3JhcHBlciIsImFuY2hvckVsIiwiY3VycmVudFRhcmdldCIsIlBvcG92ZXJQcm9wcyIsIm9ubHlDYWxlbmRhciIsImlzT3BlbiIsInBvcG92ZXJQYXBlciIsImFuY2hvck9yaWdpbiIsInZlcnRpY2FsIiwiaG9yaXpvbnRhbCIsInRyYW5zZm9ybU9yaWdpbiIsInN0eWxlcyQ5IiwibWF4V2lkdGgiLCJJbmxpbmVXcmFwcGVyJDEiLCJEYXRlUGlja2VySW5saW5lIiwiQ29tcG9uZW50VG9TaG93IiwiaW5uZXJSZWYiLCJDbG9ja1R5cGUiLCJjZW50ZXIiLCJ4IiwieSIsImJhc2VQb2ludCIsImN4IiwiY3kiLCJyYWQyZGVnIiwicmFkIiwiZ2V0QW5nbGVWYWx1ZSIsInN0ZXAiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImF0YW4iLCJhdGFuMiIsImRlZyIsInJvdW5kIiwiZGVsdGEiLCJwb3ciLCJkaXN0YW5jZSIsInNxcnQiLCJjb252ZXJ0VG9NZXJpZGllbSIsIm1lcmlkaWVtIiwiaG91cnMiLCJDbG9ja1R5cGUkMSIsIkNsb2NrUG9pbnRlciIsInRvQW5pbWF0ZVRyYW5zZm9ybSIsInByZXZpb3VzVHlwZSIsImdldEFuZ2xlU3R5bGUiLCJpc0lubmVyIiwibWF4IiwiSE9VUlMiLCJhbmdsZSIsImhhc1NlbGVjdGVkIiwicG9pbnRlciIsImFuaW1hdGVUcmFuc2Zvcm0iLCJ0aHVtYiIsIm5vUG9pbnQiLCJzdHlsZXMkYSIsImJvcmRlciIsImJveFNpemluZyIsIkNsb2NrUG9pbnRlciQxIiwiQ2xvY2siLCJpc01vdmluZyIsImhhbmRsZVRvdWNoTW92ZSIsInNldFRpbWUiLCJoYW5kbGVUb3VjaEVuZCIsImhhbmRsZU1vdmUiLCJidXR0b25zIiwibmF0aXZlRXZlbnQiLCJ3aGljaCIsImhhbmRsZU1vdXNlVXAiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2hhbmdlZFRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsIlNFQ09ORFMiLCJNSU5VVEVTIiwiaXNQb2ludGVySW5uZXIiLCJjbG9jayIsInNxdWFyZU1hc2siLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJvbk1vdXNlVXAiLCJvbk1vdXNlTW92ZSIsInBpbiIsInN0eWxlcyRiIiwidG91Y2hBY3Rpb25zIiwidXNlclNlbGVjdCIsIiY6YWN0aXZlIiwicG9zaXRpb25zIiwiMCIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwiOSIsIjEwIiwiMTEiLCIxMiIsIjEzIiwiMTQiLCIxNSIsIjE2IiwiMTciLCIxOCIsIjE5IiwiMjAiLCIyMSIsIjIyIiwiMjMiLCJDbG9ja051bWJlciIsImdldFRyYW5zZm9ybVN0eWxlIiwiY2xvY2tOdW1iZXIiLCJzdHlsZXMkYyIsIkNsb2NrTnVtYmVyJDEiLCJnZXRIb3VyTnVtYmVycyIsImN1cnJlbnRIb3VycyIsImhvdXJOdW1iZXJzIiwic3RhcnRIb3VyIiwiZW5kSG91ciIsImhvdXIiLCJnZXRNaW51dGVzTnVtYmVycyIsImYiLCJUaW1lUGlja2VyVmlldyIsImdldFZpZXdQcm9wcyIsImhhbmRsZUhvdXJDaGFuZ2UiLCJtaW51dGVzVmFsdWUiLCJoYW5kbGVNaW51dGVzQ2hhbmdlIiwic2Vjb25kc1ZhbHVlIiwiaGFuZGxlU2Vjb25kc0NoYW5nZSIsInVwZGF0ZWRUaW1lIiwib25Ib3VyQ2hhbmdlIiwibWludXRlcyIsIm9uTWludXRlc0NoYW5nZSIsInNlY29uZHMiLCJvblNlY29uZHNDaGFuZ2UiLCJ2aWV3UHJvcHMiLCJUaW1lUGlja2VyIiwib3BlblZpZXciLCJtZXJpZGllbU1vZGUiLCJzZXRNZXJpZGllbU1vZGUiLCJtb2RlIiwib3Blbk1pbnV0ZXMiLCJvcGVuU2Vjb25kcyIsIndpdGhNZXJpZGllbSIsIm9wZW5NaW51dGVzVmlldyIsIm9wZW5TZWNvbmRzVmlldyIsIm9wZW5Ib3VyVmlldyIsImhvdXJNaW51dGVDbGFzc05hbWUiLCJob3VyTWludXRlTGFiZWxSZXZlcnNlIiwiaG91ck1pbnV0ZUxhYmVsIiwidG9vbGJhckxlZnRQYWRkaW5nIiwic2VwYXJhdG9yIiwiYW1wbVNlbGVjdGlvbldpdGhTZWNvbmRzIiwiYW1wbVNlbGVjdGlvbiIsImFtcG1MYWJlbCIsInN0eWxlcyRkIiwiVGltZVBpY2tlciQxIiwiVGltZVBpY2tlck1vZGFsIiwiVGltZVBpY2tlcklubGluZSIsIkRhdGVUaW1lUGlja2VyVmlldyIsIkRhdGVUaW1lUGlja2VyVmlldyQxIiwic3R5bGVzJGUiLCJkYXRlSGVhZGVyIiwidGltZUhlYWRlciIsIkRhdGVUaW1lUGlja2VySGVhZGVyIiwib25PcGVuVmlld0NoYW5nZSIsIllFQVIiLCJEQVRFIiwiSE9VUiIsIkRhdGV0aW1lUGlja2VySGVhZGVyIiwidmlld1RvVGFiSW5kZXgiLCJ0YWJJbmRleFRvVmlldyIsInRhYiIsIkRhdGVUaW1lUGlja2VyVGFicyIsInZpZXciLCJkYXRlUmFuZ2VJY29uIiwidGltZUljb24iLCJpbmRpY2F0b3JDb2xvciIsImZ1bGxXaWR0aCIsInRhYnMiLCJpY29uIiwic3R5bGVzJGYiLCJEYXRlVGltZVBpY2tlclRhYnMkMSIsIkRhdGVUaW1lUGlja2VyVmlldyQyIiwiRGF0ZVRpbWVQaWNrZXIiLCJvcGVuVG8iLCJuZXh0VmlldyIsImF1dG9TdWJtaXQiLCJoYW5kbGVWaWV3Q2hhbmdlIiwiaGFuZGxlWWVhckNoYW5nZSIsImhhbmRsZURheUNoYW5nZSIsIlZpZXdDb250YWluZXJDb21wb25lbnQiLCJDb250YWluZXIiLCJWaWV3Q29udGFpbmVyQ29tcG9uZW50UHJvcHMiLCJEYXRlVGltZVBpY2tlciQxIiwiRGF0ZVRpbWVQaWNrZXJNb2RhbCIsInRvU2hvd1RhYnMiLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsIkRhdGVUaW1lUGlja2VySW5saW5lIiwiNjA3OSIsIl9QYXBlciIsIl9QYXBlcjIiLCJfQ2hlY2tib3giLCJfQ2hlY2tib3gyIiwiX1NlbGVjdCIsIl9TZWxlY3QyIiwiX01lbnVJdGVtIiwiX01lbnVJdGVtMiIsIl9JbnZvaWNlVGFibGUiLCJfSW52b2ljZVRhYmxlMiIsIl9jb25maWciLCJfY29uZmlnMiIsIl9heGlvcyIsIl9heGlvczIiLCJfcHJvcFR5cGVzIiwiX3Byb3BUeXBlczIiLCJfU25hY2tiYXIiLCJfU25hY2tiYXIyIiwiX0ljb25CdXR0b24iLCJfSWNvbkJ1dHRvbjIiLCJfQ2xlYXIiLCJfQ2xlYXIyIiwiZHVlRGV0YWlsc1Jvb3QiLCJwb3N0Q2FsbER1ZURldGFpbHNSb290IiwiY2hlY2tlZEljb24iLCJzZWxlY3RGaWx0ZXIiLCJlbWFpbEljb24iLCJlbmFibGVkRW1haWxJY29uIiwiZGlzYWJsZWRFbWFpbEljb24iLCJibGFja1RleHQiLCJzZWxlY3RNZW51IiwiYm9yZGVyQm90dG9tIiwiY2xlYXJTZWxlY3Rpb25zIiwiY2xlYXJTZWxlY3Rpb25zUGFyZW50Iiwic2VsZWN0SWNvbiIsInNlbGVjdExpbmVQb3N0Q2FsbCIsInNlbGVjdExpbmVJbkNhbGwiLCJpbnZvaWNlQnVja2V0Q2hlY2tib3giLCJjaGVja0JveFJvb3QiLCJjbGVhclNlbGVjdGlvbkdyaWQiLCJmaWx0ZXJJbnZvaWNlcyIsIkR1ZURldGFpbHMiLCJfUmVhY3QkQ29tcG9uZW50IiwiX2luaXRpYWxpc2VQcm9wcyIsInRvdGFsUm93cyIsImoiLCJjb3JyZWN0SW52b2ljZXNNYXAiLCJwb3N0Q2FsbCIsInNldFNlbGVjdGVkSW52b2ljZXMiLCJpbnZvaWNlVHlwZSIsInNlbGVjdGVkSW52b2ljZXMiLCJhbGxJbnZvaWNlcyIsImdsb2JhbENoZWNrIiwiaXNCdWxrRW1haWwiLCJzbmFja0Jhck9wZW4iLCJzbmFja0Jhck1lc3NhZ2UiLCJzZXRDaGVjayIsIl90aGlzMyIsImRheXMiLCJlbGV2YXRpb24iLCJjaGVja2VkIiwiaGFuZGxlRmlsdGVyQ2hhbmdlIiwiTWVudVByb3BzIiwibWVudVBhcGVyIiwiZGlzYWJsZVVuZGVybGluZSIsIm1lbnVJdGVtUm9vdCIsInNlbGVjdGVkSW52b2ljZXNMZW5ndGgiLCJzZW5kQnVsa0VtYWlsIiwiYnVja2V0SW52b2ljZXMiLCJpbmRpdmlkdWFsIiwidXBkYXRlR2xvYmFsTWFwIiwiYXV0b0hpZGVEdXJhdGlvbiIsImNsb3NlU25hY2tiYXIiLCJDb250ZW50UHJvcHMiLCJhcmlhLWRlc2NyaWJlZGJ5IiwiX3RoaXM0IiwiYWxsRW1haWxzRmxhZyIsInRlbXAiLCJmbGFnIiwic3VtIiwiY2FsbEZyb21DaGlsZCIsImZpbmRUeXBlIiwiaW52b2ljZSIsInAycERlbGlucXVlbnQiLCJwMnBVcGNvbWluZyIsInAycEJyb2tlbiIsIm9wZW5TbmFja0JhcldpdGhNZXNzYWdlIiwiZG9jdW1lbnROdW1iZXJzIiwicmVxRW1haWxPYmoiLCJjdXN0b21lcklkIiwiZG9jdW1lbnRJZHMiLCJmcm9tIiwiZW1haWxJZCIsImF4aW9zIiwicG9zdCIsImNvbmZpZyIsImFwaVVybCIsInRoZW4iLCJyZXNwb25zZSIsImNhdGNoIiwic2VsZWN0ZWRJbnZvaWNlc0NvdW50IiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsImFycmF5IiwiZnVuYyIsIjYwODAiLCJfRXhwYW5zaW9uUGFuZWwiLCJfRXhwYW5zaW9uUGFuZWwyIiwiX0V4cGFuc2lvblBhbmVsU3VtbWFyeSIsIl9FeHBhbnNpb25QYW5lbFN1bW1hcnkyIiwiX0V4cGFuc2lvblBhbmVsRGV0YWlscyIsIl9FeHBhbnNpb25QYW5lbERldGFpbHMyIiwiX2Zvcm1hdHRlciIsIl9FeHBhbmRNb3JlIiwiX0V4cGFuZE1vcmUyIiwiX0RvbmUiLCJfRG9uZTIiLCJfaWNvbnMiLCJfR3JpZExpc3QiLCJfR3JpZExpc3QyIiwiX0dyaWRMaXN0VGlsZSIsIl9HcmlkTGlzdFRpbGUyIiwiX3JlZiIsInBvc3RDYWxsUm9vdCIsImdyaWRMaXN0IiwiZ3JpZExpc3REaXYiLCJzZWxlY3RlZEdyaWRMaXN0RGl2Iiwic2hpZnQiLCJwcmltYXJ5Q29sb3IiLCJncmV5VGV4dCIsImJ1Y2tldEhlYWRlclRleHQiLCJjaGFuZ2VSb3dCYWNrZ3JvdW5kIiwiZGVmYXVsdEJhY2tncm91bmQiLCJpbnZvaWNlSGVhZGVyVGV4dCIsInBhbmVsU3VtbWFyeSIsImNvbnRlbnQiLCJleHBhbmRJY29uIiwiaW5kaXZpZHVhbEludm9pY2VIZWFkZXIiLCJpY29uU2l6ZSIsInN1bW1hcnlFeHBhbmRlZCIsImRpc2FibGVUaW1lbGluZSIsInRpbWVsaW5lIiwiYm9yZGVyTGVmdCIsIkludm9pY2VUYWJsZSIsImV4cGFuZGVkIiwidG90YWxBbW91bnQiLCJjdXJyZW50T3BlbkFtb3VudCIsImNoZWNrZWRJbnZvaWNlcyIsImluZGl2aWR1YWxCdWNrZXRDaGVja2JveCIsImNoZWNrQWxsSW52b2ljZXMiLCJub1NoaWZ0IiwiZGVmYXVsdEV4cGFuZGVkIiwic3VtbWFyeUNvbnRlbnQiLCJjb25uZWN0b3IiLCJ0b2dnbGVFeHBhbmQiLCJFeHBhbmRMZXNzIiwidmVydGljYWxUaW1lbGluZSIsImNoZWNrQm94Q29sdW1uIiwiaW52b2ljZU51bWJlckNvbHVtbiIsImFtb3VudENvbHVtbiIsImJyb2tlbkNvbHVtbiIsInVwY29taW5nQ29sdW1uIiwiZGlzcHV0ZUNvbHVtbiIsInByZWRpY3RlZENvbHVtbiIsImVtYWlsQ29sdW1uIiwiYWRkSW52b2ljZSIsIm51bWVyaWMiLCJkb2N1bWVudE51bWJlciIsImZvcm1hdHRlciIsImRpc3B1dGVTdGF0dXMiLCJzZW5kRW1haWwiLCJwb3N0Q2FsbFRpbWVsaW5lIiwiY2VsbEhlaWdodCIsImNvbHMiLCJ0aWxlIiwiZ3JpZExpc3RUaWxlIiwidXBkYXRlTG9jYWxNYXAiLCJpbnZvaWNlSWQiLCJzdGF0dXNUZXh0IiwiNjA4MSIsIl9leHRlbmRzIiwiYXNzaWduIiwic291cmNlIiwiaGFzT3duUHJvcGVydHkiLCJfVHJhbnNjcmlwdENoYXQyIiwiVHJhbnNjcmlwdEJveCIsInRyYW5zY3JpcHRDb250YWluZXJDbGFzcyIsIjYwODIiLCJfQ2hhdEJveCIsIl9DaGF0Qm94MiIsIl9jb25zdGFudHMiLCJ0cmFuc2NyaXB0VGV4dFBhcmVudCIsIndoaXRlU3BhY2UiLCJ3b3JkV3JhcCIsIlRyYW5zY3JpcHRDaGF0Iiwic2Nyb2xsVG9Cb3R0b20iLCJjb250YWluZXJJRCIsInRyYW5zY3JpcHRpb25HcmlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImdlbmVyYXRlQ2hhdEJveGVzIiwidHJhbnNjcmlwdE1lc3NhZ2UiLCJpbmNsdWRlcyIsIlRSQU5TQ1JJUFRfREVMSU1FVEVSUyIsIkNPTExFQ1RPUiIsImlzQ29sbGVjdG9yIiwiaW5pdGlhbHMiLCJyZXBsYWNlIiwiQ1VTVE9NRVIiLCJERVRFQ1RJTkdfU1BFQUtFUlMiLCJpc0RldGVjdGluZyIsInByZXZTdGF0ZSIsInNuYXBzaG90IiwiZXh0cmFjdGVkVHJhbnNjcmlwdCIsInNwbGl0VHJhbnNjcmlwdCIsIjYwODciLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJhcnIyIiwiX3N0b3JlIiwiX0FjdGlvbnMiLCJfQWN0aW9uczIiLCJfY29yZSIsIl9CdXR0b24iLCJfQnV0dG9uMiIsIl9DaXJjdWxhclByb2dyZXNzIiwiX0NpcmN1bGFyUHJvZ3Jlc3MyIiwiX0ZpbmFsIiwiX0ZpbmFsMiIsIl9Hcm93IiwiX0dyb3cyIiwiX0N1c3RvbURpYWxvZyIsIl9DdXN0b21EaWFsb2cyIiwiX0FjdGlvbkNyZWF0b3JEaWFsb2ciLCJfQWN0aW9uQ3JlYXRvckRpYWxvZzIiLCJfTm90ZXNFZGl0b3IiLCJfTm90ZXNFZGl0b3IyIiwiX3Bvc3RDYWxsSGVscGVyIiwiX2NvbW1vblNlcnZpY2UiLCJvdmVyZmxvd1giLCJzdW1tYXJ5Qm94IiwiY3VzdG9tZXJEZXRhaWxUZXh0IiwiYnV0dG9uIiwiJjpob3ZlciwgJiRmb2N1c1Zpc2libGUiLCJidXR0b25UaXRsZSIsImhlYWRpbmciLCJwb3N0Q2FsbENhcmRHcmlkIiwicGFkZGluZ1JpZ2h0T25DYXJkIiwiZW1wdHlGdW5jdGlvbiIsIlBvc3RDYWxsIiwic25hY2tNZXNzYWdlUXVldWUiLCJkZWxldGVBY3Rpb24iLCJlbCIsInN1bW1hcnlDb21wbGV0aW9uTWFwIiwiZGVsZXRlIiwibWFya1N1bW1hcnlBc0RvbmUiLCJkb25lTWFwIiwicHJldlN1bW1hcnkiLCJzYXZlIiwic2V0IiwidXBkYXRlQWN0aW9uSXRlbUNoZWNrIiwiZ2VuZXJhdGVkU3VtbWFyeSIsIm5vdGVzIiwiaXNBbnlBY3Rpb25Db21wbGV0ZWQiLCJzYXZlUG9zdENhbGxUaGluZ3MiLCJjaGVja1N1bW1hcnlDb21wbGV0ZU1hcCIsImRvUmV2aWV3RGlhbG9nT3BlbiIsIm5vbkFjdGlvbk5vdGVzIiwidHJpbSIsIm5vbkFjdGlvbkluY2x1ZGVkIiwic2F2ZUNhbGxMb2ciLCJzYXZlTm90ZXNDaGFuZ2VzIiwiaXNFZGl0aW5nT24iLCJwcmV2Tm9uQWN0aW9uTm90ZXMiLCJibHVyTm9uQWN0aW9uTm90ZXNCb3giLCJkaXNjYXJkTm90ZXNDaGFuZ2VzIiwib3BlblNuYWNrYmFyIiwibWVzc2FnZVR5cGUiLCJTTkFDS19NRVNTQUdFUyIsImdldFRpbWUiLCJzbmFja09wZW4iLCJwcm9jZXNzUXVldWUiLCJzbmFja01lc3NhZ2UiLCJoYW5kbGVOb25hY3Rpb25Ob3Rlc0NoYW5nZSIsInVwZGF0ZU5vdGVzIiwicmVhc29uIiwiaGFuZGxlU25hY2tiYXJFeGl0IiwiaGFuZGxlQWN0aW9uSXRlbUNsaWNrIiwiYWN0aW9uVHlwZSIsIm5ld0FjdGlvbiIsImNyZWF0ZUFjdGlvbiIsInN1bW1hcnlMZW5ndGgiLCJjbG9zZUFjdGlvbkNyZWF0b3JEaWFsb2ciLCJjbG9zZVJldmlld1dhcm5pbmdEaWFsb2ciLCJoYW5kbGVBY3Rpb25DcmVhdGlvbiIsImRvT3Blbk5ld0FjdGlvbkRpYWxvZyIsInVwZGF0ZVN1bW1hcnlGcm9tQ2hpbGQiLCJuZXdTdW1tYXJ5IiwidXBkYXRlSW52b2ljZXMiLCJ1cGRhdGVkSW52b2ljZXMiLCJ1cGRhdGVkSW52b2ljZUxpc3QiLCJlbnRpdGllcyIsImVkaXROb25BY3Rpb25Ob3RlcyIsInRleHRGaWVsZCIsImZvY3VzIiwiYmx1ciIsImluaXRpYWxpemVTdW1tYXJ5V2l0aERlZmF1bHRzIiwic3VtbWFyeVdpdGhJZHMiLCJhcHBlbmRJZHNUb1N1bW1hcnkiLCJjcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcCIsIm5vbkFjdGlvblN1bW1hcnkiLCJjcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzIiwiY29tYmluZWROb3RlcyIsImdlbmVyYXRlTm90ZXNBc1N0cmluZyIsImNhbGxMb2dTdGF0ZSIsInJlcVBhcmFtcyIsImNhbGxTdW1tYXJ5Iiwibm90ZSIsIm5vdGVDb250ZW50IiwicHV0Iiwib3BlblByb2dyZXNzQmFyIiwiaXNQb3N0Q2FsbERvbmUiLCJzdG9yZSIsImdlblN1bW1hcnlBY3Rpb25DYXJkcyIsImludGVudCIsImlzQWN0aW9uSW50ZW50IiwiaW4iLCJvbkRlbGV0ZSIsIm9uQWN0aW9uSXRlbUNvbmZpcm0iLCJpbnRlbnRUeXBlIiwiYWxsSW52b2ljZUxpc3QiLCJjb21wbGV0ZWQiLCJjb250YWN0TG9nIiwiZm9sbG93dXBUZXh0TGlzdCIsInJlYXNvbkNvZGVMaXN0Iiwib3BlblNuYWNrYmFyT25BY3Rpb24iLCJ1cGRhdGVJbnZvaWNlc0luUGFyZW50IiwidXBkYXRlU3VtbWFyeUluUGFyZW50IiwidXBkYXRlZFN1bW1hcnkiLCJuZXh0Q3VzdG9tZVRleHQiLCJNYXAiLCJjb21tb25TZXJ2aWNlIiwiZ2V0RGlzcHV0ZUNvZGVzIiwiZ2V0VGFza1R5cGVzIiwibmV4dFN1bW1hcnkiLCJuZXh0VHJhbnNjcmlwdGlvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJUeXBvZ3JhcGh5IiwiTGluayIsInRleHREZWNvcmF0aW9uIiwic3RseWUiLCJpbml0aWFsTm90ZXMiLCJvbk5vdGVzQ2hhbmdlIiwiaW52b2ljZUxpc3QiLCJnZW5lcmF0ZUZpbmFsSW52b2ljZUxpc3QiLCJzdW1tYXJ5Tm90ZXMiLCJvbkFjdGlvbkl0ZW1DbGljayIsIlJFVklFV19XQVJOSU5HIiwiYWN0aW9ucyIsIm9uRXhpdGVkIiwiNjA4OCIsIl9QMlAiLCJfUDJQMiIsIl9EaXNwdXRlIiwiX0Rpc3B1dGUyIiwiX0ZvbGxvd3VwIiwiX0ZvbGxvd3VwMiIsIl9BY3Rpb25EZXRhaWxzIiwiX0FjdGlvbkRldGFpbHMyIiwicGFuZWwiLCJleHBhbmRlZEJhY2tncm91bmQiLCJwYW5lbENvbW1vbiIsImV4cGFuc2lvblBhbmVsUm9vdCIsIkFjdGlvbnMiLCJpbml0aWFsSW52b2ljZURhdGEiLCJnZW5Jbml0aWFsSW52b2ljZURhdGEiLCJjb3JyZWN0SW52b2ljZXMiLCJpbmNvcnJlY3RGbGFnIiwiaW52b2ljZUNvdW50IiwiY29tbW9uUHJvcHMiLCJnZXRDb21tb25Qcm9wcyIsIklOVEVOVF9UWVBFUyIsIkZPTExPV19VUCIsIlAyUCIsIkRJU1BVVEUiLCJvblVwZGF0ZUludm9pY2UiLCJkb25lIiwiaW52b2ljZXNNYXAiLCJ1cGRhdGVDb3JyZWN0SW52b2ljZXMiLCJrIiwiY3VycmVudEludm9pY2UiLCJ0ZW1wSW52b2ljZSIsImZyZWV6ZSIsImNhbGxUb05hbWUiLCJvbkNvbXBsZXRpb24iLCJtYXJrVGhpc0NvbXBsZXRlIiwiNjA4OSIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImtleXMiLCJpbmRleE9mIiwiTnVtYmVyRm9ybWF0Q3VzdG9tIiwiX3JlYWN0TnVtYmVyRm9ybWF0MiIsImdldElucHV0UmVmIiwib25WYWx1ZUNoYW5nZSIsInZhbHVlcyIsInRob3VzYW5kU2VwYXJhdG9yIiwicHJlZml4IiwiYWxsb3dOZWdhdGl2ZSIsImRlY2ltYWxTY2FsZSIsIl9kYXRlRm5zIiwiX2RhdGVGbnMyIiwiX21hdGVyaWFsVWlQaWNrZXJzIiwiX2JsdWUiLCJfYmx1ZTIiLCJfVGV4dEZpZWxkIiwiX1RleHRGaWVsZDIiLCJfRXJyb3IiLCJfRXJyb3IyIiwiX3JlYWN0TnVtYmVyRm9ybWF0IiwiX2RhdGVGbnMzIiwiUDJQUmVnZXgiLCJQMlBUZW1wbGF0ZSIsIlAyUF9PUklHX1RFTVBMQVRFIiwibWF0ZXJpYWxUaGVtZSIsImNyZWF0ZU11aVRoZW1lIiwib3ZlcnJpZGVzIiwiTXVpUGlja2Vyc1Rvb2xiYXIiLCJibHVlIiwiQTIwMCIsIk11aVBpY2tlcnNDYWxlbmRhckhlYWRlciIsIk11aVBpY2tlcnNEYXkiLCJBNzAwIiwiTXVpRm9ybUhlbHBlclRleHQiLCJNdWlQaWNrZXJzTW9kYWwiLCJleHRyYWN0ZWREYXRhIiwiZXh0cmFjdGVkQW1vdW50IiwiY3JlYXRlZCIsImlzRWRpdGluZyIsInByZXZBbW91bnQiLCJvcGVuQWN0aW9uU2F2ZSIsIm9wZW5XYXJuaW5nRGlhbG9nIiwiYWN0aW9uSWQiLCJpc0RvbmUiLCJmaW5hbFNlbGVjdGVkRGF0ZSIsImFtb3VudFRleHRGaWVsZFdpZHRoIiwiYWN0aW9uU2F2ZVByb2dyZXNzQmFyIiwiaW52YWxpZERhdGFOb3RpZmllck1lc3NhZ2UiLCJvcGVuSW52YWxpZERhdGFOb3RpZmllciIsImlzQW1vdW50SW52YWxpZCIsInVwZGF0ZVN1bW1hcnkiLCJmdWxsU2NyZWVuIiwiaW52b2ljZVNhbXBsZSIsImFjdGlvblByb2dyZXNzQmFyIiwiRG9uZSIsImNhcmRUZXh0IiwiaGFuZGxlSW52b2ljZUN1cnJlbmN5Q2hhbmdlIiwiYm9yZGVyRmlyc3QiLCJpbnB1dEZpZWxkVGV4dCIsImJvcmRlclNlY29uZCIsIkZvcm1hdHRlZEN1cnJlbmN5SW5wdXQiLCJCb3JkZXJDb2xvciIsImNhcmRJY29uIiwidG9nZ2xlRWRpdGluZyIsIkhpZ2hsaWdodE9mZiIsImRpc2FibGVEb25lQnRuIiwiZGlzbWlzc0Ftb3VudENoYW5nZXMiLCJDaGVja0NpcmNsZU91dGxpbmUiLCJzYXZlSW52b2ljZUFtb3VudENoYW5nZSIsIk11aVRoZW1lUHJvdmlkZXIiLCJub2RlIiwicGlja2VyIiwiaGFuZGxlRGF0ZUNoYW5nZSIsIkRhdGVSYW5nZSIsImVycm9yRmxhZyIsImNsb3NlQWN0aW9uU2F2ZURpYWxvZyIsImNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyIsImNsb3NlQW5kRGlzY2FyZERpYWxvZyIsImNsb3NlV2FybmluZ0RpYWxvZyIsImNsb3NlSW52YWxpZERhdGFOb3RpZmllciIsIm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nIiwiY2hlY2tJbnZhbGlkYXRpb24iLCJzYXZlUDJQIiwiYW1vdW50Rm9ybWF0dGVkIiwib3BlbkRhdGFJbnZhbGlkRGlhbG9nIiwidmFsaWRhdGVQMlBEYXRhIiwiTnVtYmVyIiwiaXNWYWxpZERhdGUiLCJwaG9uZU51bWJlciIsImNhbGxpbmdOdW1iZXIiLCJpbnZvaWNlT2JqIiwiY21zRG9jSGVhZGVySWQiLCJyZXFPYmoiLCJjb21taXR0ZWRBbW91bnQiLCJjb21taXR0ZWRCeSIsImNvbW1pdHRlZERhdGUiLCJjb21taXR0ZWRPbiIsImN1cnJlbmN5IiwicGNJdGVtcyIsImdldERhdGVGaWVsZFZhbHVlIiwic3VtbWFyeVRvU2F2ZSIsImdlbmVyYXRlQWN0aW9uU3VtbWFyeSIsImZvcm1hdHRlZERhdGUiLCJmb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQiLCJjdXJyZW50U3RhdGUiLCJhbW91bnRUZXh0RmllbGRMZW5ndGgiLCJjdXN0b21DdXJyZW5jeUZvcm1hdHRlciIsImZvcm1hdERhdGVXaXRoVGltZXpvbmUiLCJhcmdzIiwiNjA5MCIsIl9fZXh0ZW5kcyIsImIiLCJfXyIsImV4dGVuZFN0YXRpY3MiLCJfX3Jlc3QiLCJzIiwidCIsInAiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJfX2Fzc2lnbiIsIjYwOTEiLCJyIiwibyIsImxvYWRlZCIsIm0iLCJjIiwidSIsImNvbmZvcm1Ub01hc2siLCJsIiwiaCIsInYiLCJjb25jYXQiLCJiaW5kIiwidGV4dE1hc2tJbnB1dEVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJ1cGRhdGUiLCJpbml0VGV4dE1hc2siLCJndWlkZSIsInBsYWNlaG9sZGVyQ2hhciIsInNob3dNYXNrIiwiZGVmYXVsdFZhbHVlIiwib25lT2ZUeXBlIiwiYm9vbCIsInNoYXBlIiwic3RyaW5nIiwibnVtYmVyIiwic3RyRnVuY3Rpb24iLCJwcm9jZXNzQ2FyZXRUcmFwcyIsIm1hc2tXaXRob3V0Q2FyZXRUcmFwcyIsInByZXZpb3VzQ29uZm9ybWVkVmFsdWUiLCJwbGFjZWhvbGRlciIsImNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlciIsImN1cnJlbnRDYXJldFBvc2l0aW9uIiwiZyIsIkMiLCJPIiwiVCIsIlAiLCJ3IiwiYWJzIiwiXyIsIk0iLCJzbGljZSIsIlMiLCJzcGxpdCIsImNoYXIiLCJpc05ldyIsIkUiLCJzcGxpY2UiLCJWIiwiQSIsIk4iLCJCIiwiSSIsIkYiLCJxIiwidGVzdCIsIkQiLCJMIiwiVyIsIkoiLCJzdWJzdHIiLCJVIiwiSCIsImNvbmZvcm1lZFZhbHVlIiwibWV0YSIsInNvbWVDaGFyc1JlamVjdGVkIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJSZWdFeHAiLCJqb2luIiwiU3RyaW5nIiwiaXNOYU4iLCJpbmRleGVzIiwiaXNTdHJpbmciLCJpc051bWJlciIsInByZXZpb3VzUGxhY2Vob2xkZXIiLCJyYXdWYWx1ZSIsImluZGV4ZXNPZlBpcGVkQ2hhcnMiLCJjYXJldFRyYXBJbmRleGVzIiwidG9Mb3dlckNhc2UiLCJSIiwiWSIsInoiLCJHIiwic2VsZWN0aW9uRW5kIiwicmVqZWN0ZWQiLCJhY3RpdmVFbGVtZW50Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aGF0UmV0dXJucyIsInRoYXRSZXR1cm5zRmFsc2UiLCJ0aGF0UmV0dXJuc1RydWUiLCJ0aGF0UmV0dXJuc051bGwiLCJ0aGF0UmV0dXJuc1RoaXMiLCJ0aGF0UmV0dXJuc0FyZ3VtZW50IiwiZnJhbWVzVG9Qb3AiLCJzeW1ib2wiLCJhbnkiLCJhcnJheU9mIiwiZWxlbWVudCIsImluc3RhbmNlT2YiLCJvYmplY3RPZiIsIm9uZU9mIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsIjYwOTIiLCJfQ1NTVHJhbnNpdGlvbiIsIl9SZXBsYWNlVHJhbnNpdGlvbiIsIl9UcmFuc2l0aW9uR3JvdXAiLCJfVHJhbnNpdGlvbiIsIlRyYW5zaXRpb24iLCJUcmFuc2l0aW9uR3JvdXAiLCJSZXBsYWNlVHJhbnNpdGlvbiIsIkNTU1RyYW5zaXRpb24iLCI2MDkzIiwiX2luaGVyaXRzTG9vc2UiLCJfYWRkQ2xhc3MiLCJuZXdPYmoiLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJmb3JFYWNoIiwicmVtb3ZlQ2xhc3MiLCJfbGVuIiwiX2tleSIsIm9uRW50ZXIiLCJhcHBlYXJpbmciLCJfdGhpcyRnZXRDbGFzc05hbWVzIiwiZ2V0Q2xhc3NOYW1lcyIsInJlbW92ZUNsYXNzZXMiLCJvbkVudGVyaW5nIiwiX3RoaXMkZ2V0Q2xhc3NOYW1lczIiLCJhY3RpdmVDbGFzc05hbWUiLCJyZWZsb3dBbmRBZGRDbGFzcyIsIm9uRW50ZXJlZCIsIl90aGlzJGdldENsYXNzTmFtZXMzIiwiZG9uZUNsYXNzTmFtZSIsIm9uRXhpdCIsIl90aGlzJGdldENsYXNzTmFtZXM0Iiwib25FeGl0aW5nIiwiX3RoaXMkZ2V0Q2xhc3NOYW1lczUiLCJfdGhpcyRnZXRDbGFzc05hbWVzNiIsIl9wcm90byIsIl90aGlzJGdldENsYXNzTmFtZXM3IiwiX2RlZmF1bHQiLCI2MDk0IiwiY2xhc3NMaXN0IiwiYWRkIiwiX2hhc0NsYXNzIiwic2V0QXR0cmlidXRlIiwiYmFzZVZhbCIsIjYwOTUiLCJoYXNDbGFzcyIsImNvbnRhaW5zIiwiNjA5NiIsInJlcGxhY2VDbGFzc05hbWUiLCJvcmlnQ2xhc3MiLCJjbGFzc1RvUmVtb3ZlIiwicmVtb3ZlIiwiNjA5NyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiZXhjbHVkZWQiLCJzb3VyY2VLZXlzIiwiX3JlYWN0RG9tIiwiX2FyZ3MiLCJoYW5kbGVFbnRlciIsIl9sZW4yIiwiX2tleTIiLCJoYW5kbGVMaWZlY3ljbGUiLCJoYW5kbGVFbnRlcmluZyIsIl9sZW4zIiwiX2tleTMiLCJoYW5kbGVFbnRlcmVkIiwiX2xlbjQiLCJfa2V5NCIsImhhbmRsZUV4aXQiLCJfbGVuNSIsIl9rZXk1IiwiaGFuZGxlRXhpdGluZyIsIl9sZW42IiwiX2tleTYiLCJoYW5kbGVFeGl0ZWQiLCJfbGVuNyIsIl9rZXk3IiwiaGFuZGxlciIsImlkeCIsIm9yaWdpbmFsQXJncyIsIl9jaGlsZCRwcm9wcyIsImNoaWxkIiwiQ2hpbGRyZW4iLCJ0b0FycmF5IiwiZmluZERPTU5vZGUiLCJfdGhpcyRwcm9wcyIsImluUHJvcCIsIl9SZWFjdCRDaGlsZHJlbiR0b0FyciIsImZpcnN0Iiwic2Vjb25kIiwiY2xvbmVFbGVtZW50IiwiNjA5OCIsImRpc3B1dGVSZWdleCIsIkRJU1BVVEVfVEVNUExBVEUiLCJESVNQVVRFX09SSUdfVEVNUExBVEUiLCJEaXNwdXRlIiwicmVhc29uQ29kZSIsInN1YnN0cmluZyIsIm9wZW5Ob1JlYXNvbkRpYWxvZyIsIm9wZW5Ob0ludm9pY2VEaWFsb2ciLCJjaGFuZ2UiLCJyZWFzb25Db2RlcyIsIm9wdGlvbkl0ZW1zIiwiZ2V0UmVhc29uQ29kZSIsImhhbmRsZVJlYXNvbkNvZGVDaGFuZ2UiLCJzZWxlY3RNZW51Q2xhc3MiLCJjbG9zZU5vUmVhc29uRGlhbG9nIiwiY2xvc2VOb0ludm9pY2VEaWFsb2ciLCJzYXZlRGlzcHV0ZSIsImRpc3B1dGVJdGVtcyIsIjYwOTkiLCJmb2xsb3d1cFJlZ2V4IiwiRk9MTE9XVVBfVEVNUExBVEUiLCJGT0xMT1dVUF9PUklHX1RFTVBMQVRFIiwiRm9sbG93dXAiLCJmb2xsb3d1cFRleHQiLCJvcGVuSW52YWxpZERhdGVEaWFsb2ciLCJmb2xsb3d1cFRleHRzIiwiZ2V0Rm9sbG93dXBUZXh0IiwiaGFuZGxlRm9sbG93dXBUZXh0Q2hhbmdlIiwib3Blbk5vVGV4dERpYWxvZyIsImNsb3NlTm9UZXh0RGlhbG9nIiwiY2xvc2VJbnZhbGlkRGF0ZURpYWxvZyIsInNhdmVGb2xsb3d1cCIsInZhbGlkYXRlRm9sbG93dXBEYXRhIiwiZm9sbG93RGF0ZSIsImZvbGxvd0Zvcm1hdERhdGUiLCJkdWVEYXRlIiwicmVtaW5kZXJEYXRlIiwic3ViamVjdCIsImNvbnRhY3ROdW1iZXIiLCJjb250YWN0TmFtZSIsIjYxMDAiLCJnZXRNb2RhbFN0eWxlIiwiX0NoZWNrQ2lyY2xlIiwiX1JhZGlvQnV0dG9uVW5jaGVja2VkIiwiX0FkZCIsIl9SZW1vdmVDaXJjbGVPdXRsaW5lIiwiX0NhcmQiLCJfQ2FyZENvbnRlbnQiLCJfRGlhbG9nIiwiX0RpYWxvZzIiLCJfRGlhbG9nQWN0aW9ucyIsIl9EaWFsb2dBY3Rpb25zMiIsIl9EaWFsb2dUaXRsZSIsIl9EaWFsb2dUaXRsZTIiLCJfRHVlRGV0YWlsIiwiX0R1ZURldGFpbDIiLCJfTGlzdE9mVGlsZSIsImludm9pY2VIZWFkZXIiLCJjb3JyZWN0aW9uIiwiY29ycmVjdGlvbkFsZXJ0IiwiaW5jb3JyZWN0RGl2IiwiYWRkSWNvbiIsInByaW1hcnlUZXh0IiwiQWN0aW9uRGV0YWlscyIsImludm9pY2VDaGVja3NNYXAiLCJhbGxJbnZvaWNlc1NlbGVjdGVkIiwiaW52b2ljZXNDaGVja2JveE1hcCIsImlzTWVzc2FnZURpYWxvZ09wZW4iLCJvcGVuQWRkSW52b2ljZU1vZGFsIiwiZXhlY3V0ZUFwcGVuZEludm9pY2UiLCJhcmlhLWxhYmVsbGVkYnkiLCJjbG9zZUFkZEludm9pY2VNb2RhbCIsImFsaWduSXRlbSIsImFwcGVuZEludm9pY2VzIiwiYm9yZGVyVG9wIiwiaGFuZGxlQWxsU2VsZWN0aW9uIiwiZGVsZXRlQWxsU2VsZWN0aW9uIiwiY2FsY3VsYXRlQW1vdW50IiwidG9nZ2xlQ2hlY2tib3giLCJkZWxldGVJbnZvaWNlIiwiaGFuZGxlTWVzc2FnZURpYWxvZyIsImZpbHRlcmVkSW52b2ljZXMiLCJ0ZW1wQXJyYXkiLCJ1cGRhdGVkQ2hlY2tib3hNYXAiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwibmV4dCIsImludm9pY2VLZXkiLCJlcnIiLCJyZXR1cm4iLCJpbnZvaWNlTnVtYmVyIiwiY2hlY2tib3hNYXAiLCJ1cGRhdGVJbnZvaWNlc1RoaW5ncyIsImludm9pY2VNYXAiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJ0b0RlbGV0ZUludm9pY2VzIiwiaW52b2ljZUxlbmd0aCIsImFsbFNlbGVjdGVkIiwidGVtcE1hcCIsInRlbXBJbnZvaWNlcyIsInRlbXBDaGVja2JveEludm9pY2VNYXAiLCI2MTAxIiwiaW5JbnZvaWNlVGFibGUiLCJMaXN0T2ZUaWxlIiwiZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZSIsIkNsb3NlIiwiNjEwMiIsIl9JbmZvIiwiX0luZm8yIiwiX0VtYWlsQm94IiwiX0VtYWlsQm94MiIsInN1bW1hcnlOb3Rlc0JveCIsInN1bW1hcnlOb3RlaXRlbXMiLCJ3b3JkQnJlYWsiLCJzdW1tYXJ5Tm90ZXNIZWFkZXIiLCJub3Rlc0xpc3QiLCJlbXB0eVN1bW1hcnlUZXh0IiwiZW1wdHlTdW1tYXJ5R3JpZCIsIndhcm5pbmdMaW5lIiwiaGlkZU92ZXJmbG93IiwiRmluYWwiLCJzZXREZWZhdWx0RW1haWxJZENoaXBzIiwiZnVsbE5hbWUiLCJpc1ZhbGlkRW1haWwiLCJlbWFpbElkQ2hpcHMiLCJpdGVtcyIsImVtYWlsQXR0YWNoZW1lbnRzIiwiNjEwMyIsIl9JbnB1dCIsIl9JbnB1dDIiLCJfY29ycmVzcG9uZGVuY2VTZXJ2aWNlIiwiX0NoaXAiLCJfQ2hpcDIiLCJfZW1haWxIZWxwZXIiLCJzdW1tYXJ5RW1haWxIZWFkZXIiLCJzdW1tYXJ5RW1haWwiLCJzdW1tYXJ5RW1haWxGb3JtIiwiZW1haWxJZENoaXBzSW5wdXQiLCJlbWFpbEFkZExhYmVsIiwiJj4gc3BhbiIsIiY6aG92ZXIsICY6Zm9jdXMiLCJpbnZhbGlkRW1haWxJZENoaXBzIiwicmVtb3ZlRW1haWxJZCIsImVtYWlsSWRJbnB1dCIsInJlc2l6ZSIsImVtYWlsU3ViamVjdCIsIiY6OnBsYWNlaG9sZGVyIiwiZGlzYWJsZWRTdWJqZWN0SW5wdXQiLCJzdW1tYXJ5RW1haWxCb2R5IiwiZW1haWxCb2R5VGV4dCIsImludm9pY2VBdHRhY2hlbWVudHMiLCJzdW1tYXJ5RW1haWxGb290ZXIiLCJzZW5kU3VtbWFyeUVtYWlsQnRuIiwiYWxpZ25TZWxmIiwiZGlzYWJsZUljb24iLCJFbWFpbEJveCIsImhhbmRsZVRlbXBsYXRlQ2hhbmdlIiwiZW1haWxUZW1wbGF0ZU5hbWUiLCJ0ZW1wbGF0ZSIsImVtYWlsVGVtcGxhdGVzIiwiZW1haWxUZW1wbGF0ZVN1YmplY3QiLCJlbWFpbFRlbXBsYXRlQm9keSIsImJvZHkiLCJ0ZW1wbGF0ZUlkIiwiaGFuZGxlRW1haWxFbnRlciIsInZhbGlkYXRlRW1haWwiLCJlbWFpbEFyciIsInRvQWRkciIsImhhbmRsZUVtYWlsSWREZWxldGUiLCJlbWFpbEFkZCIsImNoaXBUb0RlbGV0ZSIsImhhbmRsZVN1YmplY3RDaGFuZ2UiLCJoYW5kbGVFbWFpbEJvZHlDaGFuZ2UiLCJuZXdNYXhIZWlnaHQiLCJlbWFpbEJvZHlIZWlnaHQiLCJyZW1vdmVBdHRhY2hlbWVudCIsImN1cnJBdHRhY2hlbWVudHMiLCJ0b2dnbGVUb0VkaXQiLCJ0ZW1wRW1haWxJZGNoaXBzIiwiaGFuZGxlRWRpdEVtYWlsIiwidGVtcEVtYWlsSWRDaGlwcyIsInNlbmRTdW1tYXJ5RW1haWwiLCJkb2N1bWVudElEcyIsInBvcyIsImxhc3RJbmRleE9mIiwiZW1haWxCb2R5IiwiZW1haWxPYmoiLCJlbWFpbFNlbnQiLCJjb3JyZXNwb25kZW5jZVNlcnZpY2UiLCJzZW5kQ2FsbFN1bW1hcnkiLCJzZXREZWZhdWx0Qm9keSIsImludm9pY2VTdHJpbmciLCJQRkFNZXNzYWdlIiwic3VtbWFyeVN0cmluZyIsIm5ld0xpbmVDb3VudCIsImRlZmF1bHRFbWFpbFN1YmplY3QiLCJGcmFnbWVudCIsImRlbGV0ZUljb24iLCJjbGlja2FibGUiLCJUZXh0RmllbGQiLCJtdWx0aWxpbmUiLCJyb3dzTWF4IiwiaW5wdXQiLCJCdXR0b24iLCI2MTA0IiwiZ2V0RW1haWxUZW1wbGF0ZXMiLCJCQVNFX1VSTCIsIl9uZXR3b3JrVXRpbHMiLCJoYW5kbGVBcGlSZXNwb25zZSIsIjYxMDUiLCI2MTA2IiwiX0xpc3QiLCJfTGlzdDIiLCJfTGlzdEl0ZW0iLCJfTGlzdEl0ZW0yIiwiX0xpc3RJdGVtVGV4dCIsIl9MaXN0SXRlbVRleHQyIiwiZGlhbG9nUGFwZXIiLCJjcmVhdGVOZXdBY3Rpb25EaWFsb2dIZWFkZXIiLCJjcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zIiwiQWN0aW9uQ3JlYXRvckRpYWxvZyIsInBhcGVyU2Nyb2xsUGFwZXIiLCJBQ1RJT05fVFlQRVMiLCJhY3Rpb25UeXBlS2V5IiwiNjEwNyIsIl9yZWFjdEhpZ2hsaWdodFdvcmRzIiwiX3JlYWN0SGlnaGxpZ2h0V29yZHMyIiwiX3JlYWN0R2lmUGxheWVyIiwiX1JpcHBsZSIsIl9SaXBwbGUyIiwiY2hhdEJ1YmJsZSIsInJpZ2h0QnViYmxlIiwiaGlnaGxpZ2h0TWVzc2FnZSIsImNpcmNsZWRUZXh0IiwiZ2lmQW5pbWF0b3IiLCJkZXRlY3RvciIsImhpZ2hsaWdodGVyRm9yTGVmdCIsImhpZ2hsaWdodGVyRm9yUmlnaHQiLCJDaGF0Qm94IiwiUmlwcGxlR2lmIiwiYWx0IiwidW5oaWdobGlnaHRDbGFzc05hbWUiLCJoaWdobGlnaHRDbGFzc05hbWUiLCJzZWFyY2hXb3JkcyIsIkhJR0hMSUdIVEVSX1JFR0VYIiwidGV4dFRvSGlnaGxpZ2h0IiwiNjEwOCIsIm1vZHVsZXMiLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJfSGlnaGxpZ2h0ZXIiLCJfSGlnaGxpZ2h0ZXIyIiwiSGlnaGxpZ2h0ZXIiLCJfcmVmJGFjdGl2ZUNsYXNzTmFtZSIsIl9yZWYkYWN0aXZlSW5kZXgiLCJhY3RpdmVJbmRleCIsImFjdGl2ZVN0eWxlIiwiYXV0b0VzY2FwZSIsIl9yZWYkY2FzZVNlbnNpdGl2ZSIsImNhc2VTZW5zaXRpdmUiLCJmaW5kQ2h1bmtzIiwiX3JlZiRoaWdobGlnaHRDbGFzc05hbWUiLCJfcmVmJGhpZ2hsaWdodFN0eWxlIiwiaGlnaGxpZ2h0U3R5bGUiLCJfcmVmJGhpZ2hsaWdodFRhZyIsImhpZ2hsaWdodFRhZyIsInNhbml0aXplIiwiX3JlZiR1bmhpZ2hsaWdodENsYXNzTmFtZSIsInVuaGlnaGxpZ2h0U3R5bGUiLCJjaHVua3MiLCJfaGlnaGxpZ2h0V29yZHNDb3JlIiwiZmluZEFsbCIsIkhpZ2hsaWdodFRhZyIsImhpZ2hsaWdodENvdW50IiwiaGlnaGxpZ2h0Q2xhc3NOYW1lcyIsImhpZ2hsaWdodFN0eWxlcyIsImxvd2VyY2FzZVByb3BzIiwibWFwcGVkIiwibWVtb2l6ZWRMb3dlcmNhc2VQcm9wcyIsIl9tZW1vaXplT25lMiIsImNodW5rIiwiaGlnaGxpZ2h0IiwiaGlnaGxpZ2h0Q2xhc3MiLCJpc0FjdGl2ZSIsIl9tZW1vaXplT25lIiwiX3V0aWxzIiwiY29tYmluZUNodW5rcyIsImZpbGxJbkNodW5rcyIsImlkZW50aXR5IiwiZXNjYXBlUmVnRXhwRm4iLCJzdHIiLCJfcmVmJGZpbmRDaHVua3MiLCJkZWZhdWx0RmluZENodW5rcyIsImNodW5rc1RvSGlnaGxpZ2h0IiwidG90YWxMZW5ndGgiLCJfcmVmMiIsInNvcnQiLCJyZWR1Y2UiLCJwcm9jZXNzZWRDaHVua3MiLCJuZXh0Q2h1bmsiLCJwcmV2Q2h1bmsiLCJwb3AiLCJlbmRJbmRleCIsIl9yZWYzIiwiX3JlZjMkc2FuaXRpemUiLCJzZWFyY2hXb3JkIiwicmVnZXgiLCJleGVjIiwibGFzdEluZGV4IiwiX3JlZjQiLCJhbGxDaHVua3MiLCJhcHBlbmQiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJSRUFDVF9FTEVNRU5UX1RZUEUiLCJmb3IiLCJpc1ZhbGlkRWxlbWVudCIsIiQkdHlwZW9mIiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY2FjaGVkU2V0VGltZW91dCIsInJ1bkNsZWFyVGltZW91dCIsIm1hcmtlciIsImNhY2hlZENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsImxlbiIsInJ1biIsIkl0ZW0iLCJub29wIiwibmV4dFRpY2siLCJicm93c2VyIiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiaW52YXJpYW50Iiwid2FybmluZyIsIlJlYWN0UHJvcFR5cGVzU2VjcmV0IiwidGhyb3dPbkRpcmVjdEFjY2VzcyIsImdldEl0ZXJhdG9yRm4iLCJtYXliZUl0ZXJhYmxlIiwiaXRlcmF0b3JGbiIsIklURVJBVE9SX1NZTUJPTCIsIkZBVVhfSVRFUkFUT1JfU1lNQk9MIiwiaXMiLCJQcm9wVHlwZUVycm9yIiwic3RhY2siLCJjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlciIsInZhbGlkYXRlIiwiY2hlY2tUeXBlIiwicHJvcE5hbWUiLCJjb21wb25lbnROYW1lIiwicHJvcEZ1bGxOYW1lIiwic2VjcmV0IiwiQU5PTllNT1VTIiwiY2FjaGVLZXkiLCJtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSIsIm1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50IiwiY2hhaW5lZENoZWNrVHlwZSIsImNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyIiwiZXhwZWN0ZWRUeXBlIiwicHJvcFZhbHVlIiwiZ2V0UHJvcFR5cGUiLCJnZXRQcmVjaXNlVHlwZSIsImNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlciIsInR5cGVDaGVja2VyIiwiY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlciIsImV4cGVjdGVkQ2xhc3MiLCJleHBlY3RlZENsYXNzTmFtZSIsImdldENsYXNzTmFtZSIsImNyZWF0ZUVudW1UeXBlQ2hlY2tlciIsImV4cGVjdGVkVmFsdWVzIiwiY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlciIsInByb3BUeXBlIiwiY3JlYXRlVW5pb25UeXBlQ2hlY2tlciIsImFycmF5T2ZUeXBlQ2hlY2tlcnMiLCJjaGVja2VyIiwiZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nIiwiY3JlYXRlU2hhcGVUeXBlQ2hlY2tlciIsInNoYXBlVHlwZXMiLCJjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyIiwiYWxsS2V5cyIsImlzTm9kZSIsImV2ZXJ5IiwiZW50cmllcyIsImVudHJ5IiwiaXNTeW1ib2wiLCJSZWFjdFByb3BUeXBlcyIsIm1ha2VFbXB0eUZ1bmN0aW9uIiwiYXJnIiwiY29uZGl0aW9uIiwidmFsaWRhdGVGb3JtYXQiLCJhcmdJbmRleCIsInByaW50V2FybmluZyIsInRvT2JqZWN0IiwidmFsIiwicHJvcElzRW51bWVyYWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidGVzdDEiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidGVzdDIiLCJmcm9tQ2hhckNvZGUiLCJ0ZXN0MyIsImxldHRlciIsInN5bWJvbHMiLCJ0eXBlU3BlY3MiLCJnZXRTdGFjayIsInR5cGVTcGVjTmFtZSIsImV4IiwibG9nZ2VkVHlwZUZhaWx1cmVzIiwic2hpbSIsImdldFNoaW0iLCJyZXN1bHRGbiIsInNpbXBsZUlzRXF1YWwiLCJsYXN0VGhpcyIsImxhc3RBcmdzIiwibGFzdFJlc3VsdCIsImNhbGxlZE9uY2UiLCJpc05ld0FyZ0VxdWFsVG9MYXN0IiwibmV3QXJnIiwibmV3QXJncyIsIjYxMDkiLCJnbG9iYWwiLCJpbnNwZWN0Iiwib3B0cyIsImN0eCIsInNlZW4iLCJzdHlsaXplIiwic3R5bGl6ZU5vQ29sb3IiLCJkZXB0aCIsImNvbG9ycyIsImlzQm9vbGVhbiIsInNob3dIaWRkZW4iLCJfZXh0ZW5kIiwiaXNVbmRlZmluZWQiLCJjdXN0b21JbnNwZWN0Iiwic3R5bGl6ZVdpdGhDb2xvciIsImZvcm1hdFZhbHVlIiwic3R5bGVUeXBlIiwiYXJyYXlUb0hhc2giLCJoYXNoIiwicmVjdXJzZVRpbWVzIiwiaXNGdW5jdGlvbiIsInJldCIsInByaW1pdGl2ZSIsImZvcm1hdFByaW1pdGl2ZSIsInZpc2libGVLZXlzIiwiaXNFcnJvciIsImZvcm1hdEVycm9yIiwiaXNSZWdFeHAiLCJpc0RhdGUiLCJiYXNlIiwiYnJhY2VzIiwidG9VVENTdHJpbmciLCJvdXRwdXQiLCJmb3JtYXRBcnJheSIsImZvcm1hdFByb3BlcnR5IiwicmVkdWNlVG9TaW5nbGVTdHJpbmciLCJzaW1wbGUiLCJsaW5lIiwibnVtTGluZXNFc3QiLCJwcmV2IiwiY3VyIiwiYXIiLCJpc051bGxPclVuZGVmaW5lZCIsInJlIiwiaXNPYmplY3QiLCJvYmplY3RUb1N0cmluZyIsImlzUHJpbWl0aXZlIiwicGFkIiwidGltZXN0YW1wIiwiZ2V0RGF0ZSIsIm1vbnRocyIsInByb3AiLCJmb3JtYXRSZWdFeHAiLCJvYmplY3RzIiwiZGVwcmVjYXRlIiwiZm4iLCJtc2ciLCJkZXByZWNhdGVkIiwid2FybmVkIiwidGhyb3dEZXByZWNhdGlvbiIsInRyYWNlRGVwcmVjYXRpb24iLCJ0cmFjZSIsIm5vRGVwcmVjYXRpb24iLCJkZWJ1Z0Vudmlyb24iLCJkZWJ1Z3MiLCJkZWJ1Z2xvZyIsIk5PREVfREVCVUciLCJwaWQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaW52ZXJzZSIsImdyZXkiLCJibGFjayIsImN5YW4iLCJncmVlbiIsIm1hZ2VudGEiLCJyZWQiLCJ5ZWxsb3ciLCJzcGVjaWFsIiwiYm9vbGVhbiIsIm51bGwiLCJyZWdleHAiLCJpc0J1ZmZlciIsImluaGVyaXRzIiwib3JpZ2luIiwiNjExMCIsImNvcHkiLCJmaWxsIiwicmVhZFVJbnQ4IiwiNjExMSIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJUZW1wQ3RvciIsIjYxMTIiLCI2MTEzIiwibm9uQWN0aW9uTm90ZXNFZGl0aW5nIiwibm9uQWN0aW9uTm90ZXNUaXRsZSIsIm5vdGVzRWRpdG9yIiwibm9uQWN0aW9uTm90ZXNOb3RFZGl0aW5nIiwiTm90ZXNFZGl0b3IiLCJoYW5kbGVOb3Rlc1RleHRGaWVsZENoYW5nZSIsIm5leHRTdGF0ZSIsImZsb2F0IiwiNjExNCIsIm5vdGVzU3RyaW5nIiwiaW5pdGlhbE5vdGVzU3RyaW5nIiwiNjExNSIsIjYxMTYiLCJUYWJDb250YWluZXIiLCJQYXBlciIsIl9UYWJzIiwiX1RhYnMyIiwiX1RhYiIsIl9UYWIyIiwicHJvZ3Jlc3MiLCJzY3JvbGxCdXR0b25zIiwiZmxleCIsImluZGljYXRvciIsInRhYlNlbGVjdGVkIiwidGFiUm9vdCIsInRhYldyYXBwZXIiLCJ0YWJzRmxleENvbnRhaW5lciIsInRhYnNSb290IiwidGFic1Njcm9sbGVyIiwiaW52b2ljZUNvdW50VGV4dCIsIkluQ2FsbERldGFpbHMiLCJyZXZlcnNlIiwidW5zaGlmdCIsImludm9pY2VUb3RhbEFtb3VudCIsInRvdGFsSW52b2ljZUNvdW50Iiwid2hvbGVBbW91bnQiLCJzY3JvbGxhYmxlIiwiZmxleENvbnRhaW5lciIsInNjcm9sbGVyIiwiVGFiSW5kaWNhdG9yUHJvcHMiLCJ3cmFwcGVyIiwidGV4dENvbG9yIiwiNjExNyIsIl9Qb3BvdmVyIiwiX1BvcG92ZXIyIiwiX3ZvaWNlbWFpbEJveCIsIkFwcCIsInBvcE92ZXIiLCJoZWFkIiwidm9pY2VtYWlsU2VudEljb24iLCJ2b2ljZW1haWxQcm9ncmVzc1BhcmVudCIsInZvaWNlbWFpbEJveCIsImRpc2FibGVkVm9pY2VtYWlsQm94Iiwidm9pY2VtYWlsVGV4dCIsInZvaWNlbWFpbFByb2dyZXNzIiwiY2xvc2VJY29uIiwidm9pY2VtYWlsQnRuIiwidm9pY2VtYWlsU2VudEJ0biIsImRpc2FibGVCdG4iLCJLZXlQYWQiLCJpbml0aWFsaXplVm9pY2VtYWlsRGF0YSIsInZvaWNlbWFpbFRlbXBsYXRlcyIsInZvaWNlbWFpbENsaWNrTWFwIiwidm9pY2VtYWlsU2VudE1hcCIsImhhbmRsZU9wZW4iLCJoYW5kbGVDbG9zZSIsImRpc2FibGVWb2ljZW1haWxDbGljayIsImlzVm9pY2VtYWlsRW5hYmxlZCIsImhhbmRsZVZvaWNlbWFpbENsaWNrIiwidm9pY2VtYWlsVGVtcGxhdGUiLCJ0ZW1wbGF0ZU5hbWUiLCJzaXBTZW5kRFRNRiIsIlZPSUNFTUFJTF9BVVRPX0NMT1NFX1RJTUVNT1VUIiwiaXNWb2ljZW1haWxBdmFpbGFibGUiLCJkaXNwbGF5TnVtYmVyIiwiZGlhbGxlZCIsImlzVm9pY2VtYWlsQ2xpY2tlZCIsIlZvaWNlbWFpbCIsImFuY2hvclJlZmVyZW5jZSIsImFuY2hvclBvc2l0aW9uIiwiUGFwZXJQcm9wcyIsIk1vcmVWZXJ0IiwiSWNvbkJ1dHRvbiIsIlZvaWNlbWFpbFdyYXBwZXIiLCJjaGFuZ2VDYWxsZXIiLCI2MTE4IiwiNjExOSJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkMsS0FDQSxTQUFVQyxFQUFRQyxFQUFTQyxHQUVqQyxZQStIQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTRyxHQUFnQkgsRUFBS0ksRUFBS0MsR0FBaUssTUFBcEpELEtBQU9KLEdBQU9NLE9BQU9DLGVBQWVQLEVBQUtJLEdBQU9DLE1BQU9BLEVBQU9HLFlBQVksRUFBTUMsY0FBYyxFQUFNQyxVQUFVLElBQWtCVixFQUFJSSxHQUFPQyxFQUFnQkwsRUFFM00sUUFBU1csR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBMkJDLEVBQU1DLEdBQVEsSUFBS0QsRUFBUSxLQUFNLElBQUlFLGdCQUFlLDREQUFnRSxRQUFPRCxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCRCxFQUFQQyxFQUVsTyxRQUFTRSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlQLFdBQVUsaUVBQW9FTyxHQUFlRCxHQUFTRSxVQUFZaEIsT0FBT2lCLE9BQU9GLEdBQWNBLEVBQVdDLFdBQWFFLGFBQWVuQixNQUFPZSxFQUFVWixZQUFZLEVBQU9FLFVBQVUsRUFBTUQsY0FBYyxLQUFlWSxJQUFZZixPQUFPbUIsZUFBaUJuQixPQUFPbUIsZUFBZUwsRUFBVUMsR0FBY0Qs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RSxLQUNBLFNBQVV0ekUsRUFBUUMsR3dDM2hoQnhCRCxFQUFBQyxRQUFBIiwiZmlsZSI6IjAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFswXSx7XG5cbi8qKiovIDYwNzY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX0NvbnRhY3RMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjgpO1xuXG52YXIgX0NvbnRhY3RMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhY3RMaXN0KTtcblxudmFyIF9zaXBVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXG52YXIgX2FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblxudmFyIF9jYWxsTG9nQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQwKTtcblxudmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfQ2xvc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblxudmFyIF9DbG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9zZSk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcblxudmFyIF9DYWxsUHJlcERldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Myk7XG5cbnZhciBfQ2FsbFByZXBEZXRhaWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGxQcmVwRGV0YWlscyk7XG5cbnZhciBfUG9zdENhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODcpO1xuXG52YXIgX1Bvc3RDYWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bvc3RDYWxsKTtcblxudmFyIF9JbkNhbGxEZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTE2KTtcblxudmFyIF9JbkNhbGxEZXRhaWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0luQ2FsbERldGFpbHMpO1xuXG52YXIgX3JlYWN0SGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMyk7XG5cbnZhciBfcmVhY3RIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEhhbW1lcmpzKTtcblxudmFyIF9Nb2RhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXG52YXIgX01vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsKTtcblxudmFyIF9Ub29sdGlwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cbnZhciBfVG9vbHRpcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub29sdGlwKTtcblxudmFyIF9GYWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cbnZhciBfRmFiMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZhYik7XG5cbnZhciBfTmF2aWdhdGVOZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXG52YXIgX05hdmlnYXRlTmV4dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OYXZpZ2F0ZU5leHQpO1xuXG52YXIgX05hdmlnYXRlQmVmb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzYpO1xuXG52YXIgX05hdmlnYXRlQmVmb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05hdmlnYXRlQmVmb3JlKTtcblxudmFyIF9EcmF3ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7XG5cbnZhciBfRHJhd2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RyYXdlcik7XG5cbnZhciBfQXJyb3dEcm9wRG93biA9IF9fd2VicGFja19yZXF1aXJlX18oMTgyKTtcblxudmFyIF9BcnJvd0Ryb3BEb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Fycm93RHJvcERvd24pO1xuXG52YXIgX0N1c3RvbWVyRHJhd2VyT3B0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzU0KTtcblxudmFyIF9LZXlQYWRXcmFwcGVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDcpO1xuXG52YXIgX0tleVBhZFdyYXBwZWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5UGFkV3JhcHBlZCk7XG5cbnZhciBfVmVydGljYWxUaW1lTGluZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzU1KTtcblxudmFyIF9WZXJ0aWNhbFRpbWVMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZlcnRpY2FsVGltZUxpbmUpO1xuXG52YXIgX1ZvaWNlbWFpbFdyYXBwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMTcpO1xuXG52YXIgX1ZvaWNlbWFpbFdyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVm9pY2VtYWlsV3JhcHBlcik7XG5cbnZhciBfVHJhbnNjcmlwdENoYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODIpO1xuXG52YXIgX1RyYW5zY3JpcHRDaGF0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zY3JpcHRDaGF0KTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxudmFyIF9DdXN0b21Gb290ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MCk7XG5cbnZhciBfQ3VzdG9tRm9vdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0N1c3RvbUZvb3Rlcik7XG5cbnZhciBfRnJlZGFCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblxudmFyIF9UcmFuc2NyaXB0Qm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDgxKTtcblxudmFyIF9UcmFuc2NyaXB0Qm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zY3JpcHRCb3gpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgX2Jhc2VTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlU3R5bGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdW1tYXJ5RGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18oMzY5KTtcbnZhciB0ZXN0ID0gXCJDdXN0b21lcjogSGkuIEhlbGxvLiBIZXksIENvbGxlY3RvcjogSSB3YW50ZWQgdG8gbWFrZSBzdXJlIHlvdSByZWNlaXZlZCBteSBub3RlLiBUaGUgcGF5bWVudCB3YXMgZHVlIHllc3RlcmRheS4gRGV0ZWN0aW5nIFNwZWFrZXI6IGdldCBpdCB1bmRlciB0aGUgc2VuZGVyLiBJJ20gQ29sbGVjdG9yOiBJIGRpZG4ndCBhIHRlbGwgeW91IGZvcmdvdC4gSXQncyBpbnZvaWNlIG51bWJlciAzNDctNDAwLTQwMDAuIEkgd2lsbCBlbWFpbCB5b3UgcmlnaHQgbm93IGRvZXMgYSBwZXJzb24gYXQgbS5jb20gZW1haWwgYWRkcmVzcyB3b3JrcyBiZXN0IGZvciB5b3U/IEN1c3RvbWVyOiBZZWFoLCB0aGF0J3MgZmluZS4gQ29sbGVjdG9yOiBCaWcgQmVuZCBPbGl2aWEgZ29pbmcgdG8gbWUgdG8gbWUgdGhhdCBjaGVjayBmb3IgdGhpcyBpbnZvaWNlLiBDdXN0b21lcjogSSBhY3R1YWxseSBkb24ndCBoYXZlIHRoZSBjYXNoIGZvciBkZWJhdGUgcmlnaHQgbm93LiBDb2xsZWN0b3I6IE9rYXksIEkgc2VlIHdoZW4gd2Ugd2lsbCBiZSBnZXR0aW5nIHlvdXIgbmV4dCBwYXltZW50LiBDdXN0b21lcjogTm9ydGhlcm4gVG9vbCBpbiB0aGUgMjFzdCBhdCB5b3Ugc2VuZCBtZSBhIGNoZWNrIG9yIFRodXJzZGF5IHRoZSAyMm5kPyBJIHdvbid0IENvbGxlY3RvcjogNyBzZWUgY2FuIGJlIGFibGUgdG8gcGF5IHRoZSB3aG9sZSB0aGluZyBkb25lLiBDb2xsZWN0b3I6IEJ1dCBpZiB5b3Ugc2VuZCBtZSBoYXZlIHRvIHJlZ2lzdGVyIGFuZCB0aGVuIHVwIGF0IHRoZSBlbmQgb2YgdGhlIG1vbnRoLiBDdXN0b21lcjogVGhhdCBhY3R1YWxseSBtaWdodCB3b3JrLiBDb2xsZWN0b3I6IE9rYXksIHNvdW5kcyBnb29kLiBJJ2xsIE1hbGNvbG0gWCBhbWF6aW5nIG1lICQyLDAwMCBvbiBUaHVyc2RheSB0aGUgMjJuZCBhbmQgSSB3aWxsIGZvbGxvdyB1cCB3aXRoIHlvdSB0ZXN0aW5nXCI7XG52YXIgdGltZUludGVydmFsID0gdm9pZCAwO1xudmFyIGF2YWlsYWJsZUZpbHRlck9wZXJhdGlvbnMgPSBbJ2VxdWFsJywgJ25vdEVxdWFsJywgJ2dyZWF0ZXJUaGFuJywgJ2dyZWF0ZXJUaGFuT3JFcXVhbCcsICdsZXNzVGhhbicsICdsZXNzVGhhbk9yRXF1YWwnXTtcblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIGFwcEZyYW1lOiB7XG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICBtYXhIZWlnaHQ6IFwiMTAwdmhcIlxuICAgIH0sXG4gICAgcm9vdDoge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQubWFpbixcbiAgICAgIHdpZHRoOiBcIjkzLjc1dndcIixcbiAgICAgIG1hcmdpblJpZ2h0OiBcImF1dG9cIixcbiAgICAgIG1hcmdpbkxlZnQ6IFwiYXV0b1wiLFxuICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgIHBhZGRpbmdCb3R0b206IFwiMFwiLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHlcblxuICAgIH0sXG4gICAgaGFuZ1VwSWNvbkluZzoge1xuICAgICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgfSxcbiAgICBjYWxsVGV4dDoge1xuICAgICAgbWFyZ2luTGVmdDogXCIuNXJlbVwiLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6IFwiMXJlbVwiXG4gICAgfSxcbiAgICBkaWFscGFkSWNvbjoge1xuICAgICAgaGVpZ2h0OiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcbiAgICAgIHBhZGRpbmdSaWdodDogXCIxcmVtXCJcbiAgICB9LFxuICAgIHZvaWNlTWFpbEljb246IHtcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICBiYWNrZ3JvdW5kOiBcIiM1REFBRTBcIixcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcbiAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgIHBhZGRpbmc6IFwiMXB4XCJcbiAgICB9LFxuICAgIHN0YXR1czoge1xuICAgICAgZm9udFNpemU6IFwiLjdyZW1cIixcbiAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICB6SW5kZXg6IFwiNlwiXG4gICAgfSxcbiAgICBkdXJhdGlvbjoge1xuICAgICAgbWFyZ2luUmlnaHQ6IFwiLjZyZW1cIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgIH0sXG4gICAgY3VzdG9tZXJOYW1lOiB7XG4gICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogXCIxLjc4cmVtXCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcbiAgICAgIGxpbmVIZWlnaHQ6IFwiMi4wNXJlbVwiXG4gICAgfSxcbiAgICBjdXN0b21lck51bWJlcjoge1xuICAgICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6IFwiLjhyZW1cIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgfSxcbiAgICB0cmFuc2NyaXB0Qm94OiB7XG4gICAgICBoZWlnaHQ6IFwiODYuNTB2aFwiLFxuICAgICAgLy8gd2lkdGg6IFwiMjV2aFwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gICAgfSxcbiAgICB0cmFuc2NyaXB0VGl0bGU6IHtcbiAgICAgIGZvbnRTaXplOiBcIjEuMnJlbVwiLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgLy8gcGFkZGluZzogXCIyZW0gMCAyZW0gMFwiXG4gICAgICBwYWRkaW5nTGVmdDogXCIxcmVtXCIsXG4gICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgcGFkZGluZ1RvcDogXCIuNXJlbVwiLFxuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIGZvbnRGYW1pbHk6IFwiUm9ib3RvXCJcbiAgICB9LFxuICAgIG5leHRGYWI6IHtcbiAgICAgIHJpZ2h0OiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAwLjI1XG4gICAgfSxcbiAgICBwcmV2RmFiOiB7XG4gICAgICBtYXJnaW5MZWZ0OiBcIi0wLjVyZW1cIlxuICAgIH0sXG4gICAgaGFuZ1VwQnV0dG9uOiB7XG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXG4gICAgICB3aWR0aDogXCIyLjY2NjY2NjY1cmVtXCJcbiAgICB9LFxuICAgIGhhbmdVcEJ1dHRvbkltZzoge1xuICAgICAgaGVpZ2h0OiBcIjIuNjY2NjY1cmVtXCIsXG4gICAgICB3aWR0aDogXCIyLjY2NjY2NjY1cmVtXCJcbiAgICB9LFxuICAgIGRyb3BEb3duSWNvbjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICB9LFxuICAgIGRyb3BEb3duOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluXG4gICAgfSxcblxuICAgIG1pY09mZkljb25JbWc6IHtcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXG4gICAgICB3aWR0aDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIlxuICAgIH0sXG4gICAgbWljT2ZmSWNvbjoge1xuICAgICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXG4gICAgICBjb2xvcjogXCJ3aGl0ZVwiXG4gICAgfSxcblxuICAgIGNhbGxlZENvbnRhY3ROYW1lOiB7XG4gICAgICBmb250U2l6ZTogXCIuNzZyZW1cIixcbiAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiXG4gICAgfSxcbiAgICBjYWxsZWRUb0NvbnRhY3REaXY6IHtcbiAgICAgIHdpZHRoOiBcIjgwJVwiXG4gICAgfSxcbiAgICB0cmFuc2NyaXB0Qm94UGFyZW50OiB7XG4gICAgICBwYWRkaW5nQm90dG9tOiBcIjBweCAhaW1wb3J0YW50XCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCJcbiAgICB9LFxuICAgIGNsb3NlU3R5bGU6IHtcbiAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICB0b3A6IFwiMSVcIixcbiAgICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICBmb250U2l6ZTogNDgsXG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgfSxcbiAgICBjdXN0b21lckhpc3RvcnlNb2RhbDoge1xuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIHdpZHRoOiBcIjQ1JVwiLFxuICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgIGJvdHRvbTogXCIwXCIsXG4gICAgICBvdmVyZmxvd1dyYXA6IFwiYnJlYWstd29yZFwiLFxuICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgIGJveFNoYWRvdzogdGhlbWUuc2hhZG93c1s1XSxcbiAgICAgIHBhZGRpbmdMZWZ0OiBcIjElXCIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBsZWZ0OiBcIjQuMiVcIlxuICAgIH0sXG4gICAgLy9tZW51IFxuICAgIGFjdGlvbkljb246IHtcbiAgICAgIGZvbnRTaXplOiAnMnJlbScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIGFjdGlvbkJ1dHRvbjoge1xuICAgICAgLy8gcGFkZGluZyA6IFwiMSVcIixcbiAgICAgIGhlaWdodDogXCI0LjE2NnZ3XCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwiMHB4XCIsXG4gICAgICB3aWR0aDogXCI0LjE2NnZ3XCJcbiAgICB9XG5cbiAgfTtcbn07XG5cbnZhciBzYWxlcyA9IGdldFJhbWRvbVJvd3MoKTtcblxuZnVuY3Rpb24gZ2V0UmFtZG9tUm93cygpIHtcbiAgdmFyIHJvd3MgPSBbXTtcbiAgdmFyIGl0ZW0gPSB7IFwicHJvZHVjdFwiOiBcImhlbGxvXCIsIFwicmVnaW9uXCI6IFwiQW1lcmljYVwiLCBcImFtb3VudFwiOiBcIjVcIiwgXCJzYWxlRGF0ZVwiOiBcIjA5LzA5LzE5OTZcIiwgXCJjdXN0b21lclwiOiBcIkJhbHJhalwiIH07XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTAwMDsgaSsrKSB7XG4gICAgcm93cy5wdXNoKGl0ZW0pO1xuICB9XG5cbiAgcmV0dXJuIHJvd3M7XG59XG5cbnZhciBJbkNhbGwgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoSW5DYWxsLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBJbkNhbGwocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5DYWxsKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChJbkNhbGwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJbkNhbGwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5vcGVuQ29udGFjdERyb3Bkb3duID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLmNvbnRhY3RPcGVuID09IHRydWUpIF90aGlzLnNldFN0YXRlKHsgY29udGFjdE9wZW46IGZhbHNlIH0pO2Vsc2UgX3RoaXMuc2V0U3RhdGUoeyBjb250YWN0T3BlbjogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMudG9nZ2xlQ29udGFjdFBvcG92ZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgY29udGFjdE9wZW46IHZhbHVlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5nZXRGb3JtYXR0ZWREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkdXJhdGlvbiA9IF90aGlzLnN0YXRlLmNhbGxEdXJhdGlvbisrO1xuICAgICAgdmFyIGhyID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIDM2MDApO1xuICAgICAgdmFyIG1pbiA9IE1hdGguZmxvb3IoKGR1cmF0aW9uIC0gaHIgKiAzNjAwKSAvIDYwKTtcbiAgICAgIHZhciBzZWMgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC0gaHIgKiAzNjAwIC0gbWluICogNjApO1xuXG4gICAgICBpZiAobWluIDwgMTApIHtcbiAgICAgICAgbWluID0gXCIwXCIgKyBtaW47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWMgPCAxMCkge1xuICAgICAgICBzZWMgPSBcIjBcIiArIHNlYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1pbiArICc6JyArIHNlYztcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblZvaWNlbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgaXNWb2ljZW1haWxPcGVuOiAhX3RoaXMuc3RhdGUuaXNWb2ljZW1haWxPcGVuIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZVBvcFRpbWVsaW5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBwb3BUaW1lbGluZTogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5Qb3BUaW1lbGluZSA9IGZ1bmN0aW9uIChwb3BUeXBlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBvcFRpbWVsaW5lOiB0cnVlLCBwb3BUeXBlOiBwb3BUeXBlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5nZXRUaW1lbGluZSA9IGZ1bmN0aW9uIChwb3BUeXBlKSB7XG4gICAgICB2YXIgY2xhc3NlcyA9IF90aGlzLnByb3BzLmNsYXNzZXM7XG5cbiAgICAgIHZhciBldmVudHMgPSBcIlwiLFxuICAgICAgICAgIG1haW5IZWFkZXIgPSBcIlwiLFxuICAgICAgICAgIG5vRXZlbnRNc2cgPSBcIlwiO1xuICAgICAgaWYgKHBvcFR5cGUgPT09IFwiUEFZTUVOVF9ISVNUT1JZXCIpIHtcbiAgICAgICAgZXZlbnRzID0gX3RoaXMuc3RhdGUuY3VzdG9tZXIucGF5bWVudHM7XG4gICAgICAgIC8vIGV2ZW50cz10aGlzLnBheW1lbnRzO1xuICAgICAgICBtYWluSGVhZGVyID0gXCJSRUNFTlQgUEFZTUVOVFNcIjtcbiAgICAgICAgbm9FdmVudE1zZyA9IFwiTm8gUGF5bWVudHMgaW4gTGFzdCAzMCBEYXlzXCI7XG4gICAgICB9XG4gICAgICBpZiAocG9wVHlwZSA9PT0gXCJDT01NX0hJU1RPUllcIikge1xuICAgICAgICBldmVudHMgPSBfdGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uO1xuICAgICAgICAvLyBldmVudHM9dGhpcy5jb21tdW5pY2F0aW9uO1xuICAgICAgICBtYWluSGVhZGVyID0gXCJDT01NVU5JQ0FUSU9OIEhJU1RPUllcIjtcbiAgICAgICAgbm9FdmVudE1zZyA9IFwiTm8gQ29tbXVuaWNhdGlvbiBIaXN0b3J5XCI7XG4gICAgICAgIGZvciAodmFyIGkgaW4gZXZlbnRzKSB7XG4gICAgICAgICAgdmFyIHR5cGUgPSBldmVudHNbaV0udHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIGlmICh0eXBlID09IFwiQ0FMTFwiKSB7XG4gICAgICAgICAgICB2YXIgc3RhdHVzID0gZXZlbnRzW2ldLmNhbGwuc3RhdHVzO1xuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBcIi0xMDBcIikge1xuICAgICAgICAgICAgICBldmVudHNbaV0uY29tbVR5cGUgPSBcIlZPSUNFTUFJTFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXZlbnRzW2ldLmNvbW1UeXBlID0gXCJDQUxMXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09IFwiQ09SUkVTUE9OREVOQ0VcIikge1xuICAgICAgICAgICAgZXZlbnRzW2ldLmNvbW1UeXBlID0gXCJNQUlMXCI7XG4gICAgICAgICAgICBldmVudHNbaV0uY3VzdG9tZXJOYW1lID0gX3RoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgKHBvcFR5cGUgPT0gXCJDT01NX0hJU1RPUllcIiB8fCBwb3BUeXBlID09IFwiUEFZTUVOVF9ISVNUT1JZXCIpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9WZXJ0aWNhbFRpbWVMaW5lMi5kZWZhdWx0LCB7XG4gICAgICAgICAgcG9wVHlwZTogcG9wVHlwZSxcbiAgICAgICAgICBldmVudHM6IGV2ZW50cyxcbiAgICAgICAgICBtYWluSGVhZGVyOiBtYWluSGVhZGVyLFxuICAgICAgICAgIG5vRXZlbnRNc2c6IG5vRXZlbnRNc2dcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIF90aGlzLnRvZ2dsZU11dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlzTXV0ZWQ6ICFfdGhpcy5zdGF0ZS5pc011dGVkIH0pO1xuICAgICAgKDAsIF9zaXBVdGlscy5zaXBUb2dnbGVNdXRlKSgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zZXREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5jYWxsRHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgdGltZUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIkNvbm5lY3RlZCB0b1wiKSBfdGhpcy5zZXRTdGF0ZSh7IGNhbGxEdXJhdGlvbkluRm9ybWF0OiBfdGhpcy5nZXRGb3JtYXR0ZWREdXJhdGlvbigpIH0pO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2xlYXJJbnRlcnZhbE9uSGFuZ3VwID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lSW50ZXJ2YWwpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5nVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAoMCwgX3NpcFV0aWxzLnNpcEhhbmd1cCkoKTtcbiAgICAgIC8vIHRoaXMucHJvcHMuY2hhbmdlQ2FsbFN0YXRlKHsgY2FsbGluZzogZmFsc2UsIHN0YXR1cyA6IFwiQ29ubmVjdGVkIHRvXCIgfSlcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblZvaWNlbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgaXNWb2ljZW1haWxPcGVuOiAhX3RoaXMuc3RhdGUuaXNWb2ljZW1haWxPcGVuIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5zd2l0Y2hUb0NhbGxQcmVwUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgY2FsbFByZXBQYWdlOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5zd2l0Y2hUb0NhbGxJbkNhbGxQYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBjYWxsUHJlcFBhZ2U6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVWb2ljZW1haWxNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAvL2FmdGVyIGZvciBhZGQgY2FsbGVkX3RvX25hbWUgb3IgbnVtYmVyIGlmIHVua25vdyB1c2VyIGFjY29yZGluZ2x5XG5cbiAgICAgIHZhciBjb250YWN0ID0gdm9pZCAwO1xuICAgICAgdmFyIGNhbGxlZE5hbWUgPSBfdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSArIFwiIFwiICsgX3RoaXMuY2FsbGVkVG9MYXN0TmFtZTtcblxuICAgICAgaWYgKGNhbGxlZE5hbWUgPT09IFwiVW5rbm93biBcIiB8fCBjYWxsZWROYW1lID09PSBcIlVubmFtZWQgVW5uYW1lZFwiKSB7XG4gICAgICAgIGNvbnRhY3QgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb051bWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhY3QgPSBjYWxsZWROYW1lO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWVzc2FnZSA9ICdWb2ljZW1haWwgUGxheWVkIGZvciAnICsgKGNvbnRhY3QgPyBjb250YWN0IDogXCJcIikgKyAnXFxuJztcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxQbGF5ZWRNZXNzYWdlOiBtZXNzYWdlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5teVJlZiA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVSZWYoKTtcbiAgICBfdGhpcy5wcm9wcy5jaGFuZ2VDYWxsU3RhdGUoeyBjYWxsaW5nOiB0cnVlLCBzdGF0dXM6IFwiXCIgfSk7XG4gICAgdmFyIGNvbnRhY3RJbmRleCA9IHZvaWQgMCxcbiAgICAgICAgY2FsbGVkVG9Db250YWN0SWQgPSB2b2lkIDA7XG4gICAgaWYgKF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbnRhY3RJbmRleCAhPSBudWxsKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImZpcnN0IG9uZVwiKTtcbiAgICAgIGNvbnNvbGUubG9nKF90aGlzLnByb3BzKTtcbiAgICAgIGNvbnRhY3RJbmRleCA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbnRhY3RJbmRleDtcbiAgICAgIGNhbGxlZFRvQ29udGFjdElkID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5pZDtcbiAgICAgIF90aGlzLmNhbGxlZFRvTnVtYmVyID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9OdW1iZXI7XG4gICAgICBfdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZmlyc3ROYW1lO1xuICAgICAgX3RoaXMuY2FsbGVkVG9MYXN0TmFtZSA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0ubGFzdE5hbWU7XG4gICAgICBfdGhpcy5lbWFpbE9mQ2FsbGVkID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5lbWFpbDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coX3RoaXMucHJvcHMpO1xuICAgICAgY29uc29sZS5sb2coXCJzZWNvbmQgb25lXCIpO1xuICAgICAgY2FsbGVkVG9Db250YWN0SWQgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SWQ7XG4gICAgICBfdGhpcy5jYWxsZWRUb051bWJlciA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyO1xuICAgICAgX3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb0ZpcnN0TmFtZTtcbiAgICAgIF90aGlzLmNhbGxlZFRvTGFzdE5hbWUgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb0xhc3ROYW1lO1xuICAgICAgX3RoaXMuZW1haWxPZkNhbGxlZCA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmVtYWlsT2ZDYWxsZWQ7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiRW1haWwgb2YgY2FsbGVkXCIsIF90aGlzLmVtYWlsT2ZDYWxsZWQpO1xuXG4gICAgX3RoaXMuY2FsbGVkVG9GdWxsTmFtZSA9IF90aGlzLmNhbGxlZFRvRmlyc3ROYW1lICsgXCIgXCIgKyBfdGhpcy5jYWxsZWRUb0xhc3ROYW1lO1xuICAgIGlmIChfdGhpcy5jYWxsZWRUb0Z1bGxOYW1lID09PSBcIlVua25vd24gXCIgfHwgX3RoaXMuY2FsbGVkVG9GdWxsTmFtZSA9PT0gXCJVbm5hbWVkIFVubmFtZWRcIikge1xuICAgICAgX3RoaXMuY2FsbGVkVG9GdWxsTmFtZSA9IF90aGlzLmNhbGxlZFRvTnVtYmVyO1xuICAgIH1cbiAgICB2YXIgbG9jYXRpb25Qcm9wcyA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlO1xuICAgIHZhciBhY2NvdW50ID0gX3RoaXMucHJvcHMuY3VzdG9tZXJzLmN1c3RvbWVycy5maWx0ZXIoZnVuY3Rpb24gKGN1c3RvbWVyKSB7XG4gICAgICByZXR1cm4gY3VzdG9tZXIuaWQgPT0gbG9jYXRpb25Qcm9wcy5hY2NvdW50SWQ7XG4gICAgfSk7XG4gICAgX3RoaXMucHJvcHMuY2FsbExvZyh7XG4gICAgICBzdGF0dXM6IFwiXCIsXG4gICAgICBjb250YWN0OiB7XG4gICAgICAgIGlkOiBjYWxsZWRUb0NvbnRhY3RJZFxuICAgICAgfSxcbiAgICAgIGNhbGxlZFRvTnVtYmVyOiBfdGhpcy5jYWxsZWRUb051bWJlcixcbiAgICAgIGNvbnRhY3RJZDogY2FsbGVkVG9Db250YWN0SWQsXG4gICAgICBjYWxsZWRUbzogX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG8sXG4gICAgICBzdGFydERhdGVUaW1lOiBuZXcgRGF0ZSgpXG4gICAgfSk7XG4gICAgKDAsIF9GcmVkYUJ1dHRvbi5kaXNhYmxlRnJlZGFJbkNhbGwpKCk7XG4gICAgKDAsIF9zaXBVdGlscy5zaXBDYWxsKShfdGhpcy5jYWxsZWRUb051bWJlciwgX3RoaXMucHJvcHMudXNlciwgYWNjb3VudCwgbG9jYXRpb25Qcm9wcy5jdXN0b21lciwgX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMpO1xuICAgIC8vIHdoaWxlKHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgIT0gdHJ1ZSk7XG4gICAgX3RoaXMuc3RhdGUgPSBfZGVmaW5lUHJvcGVydHkoe1xuICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICB2b2ljZW1haWxQbGF5ZWRNZXNzYWdlOiBcIlwiLFxuICAgICAgcmVkaXJlY3Q6IGZhbHNlLFxuICAgICAgY2FsbFByZXBQYWdlOiBmYWxzZSxcbiAgICAgIGN1c3RvbWVyOiBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lcixcbiAgICAgIGNvbW11bmljYXRpb246IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbW11bmljYXRpb24sXG4gICAgICBjYWxsRHVyYXRpb246IDAsXG4gICAgICBjYWxsRHVyYXRpb25JbkZvcm1hdDogXCJcIixcbiAgICAgIHRyYW5zY3JpcHRpb246IFwiXCIsXG4gICAgICBzdW1tYXJ5OiBcIltdXCIsXG4gICAgICBjb250YWN0T3BlbjogZmFsc2UsXG4gICAgICBjb2x1bW5zOiBbeyBuYW1lOiAncHJvZHVjdCcsIHRpdGxlOiAnUHJvZHVjdCcgfSwgeyBuYW1lOiAncmVnaW9uJywgdGl0bGU6ICdSZWdpb24nIH0sIHsgbmFtZTogJ2Ftb3VudCcsIHRpdGxlOiAnU2FsZSBBbW91bnQnIH0sIHsgbmFtZTogJ3NhbGVEYXRlJywgdGl0bGU6ICdTYWxlIERhdGUnIH0sIHsgbmFtZTogJ2N1c3RvbWVyJywgdGl0bGU6ICdDdXN0b21lcicgfV0sXG4gICAgICBjdXJyZW5jeUNvbHVtbnM6IFsnYW1vdW50J10sXG4gICAgICBwYWdlU2l6ZXM6IFs1LCAxMCwgMTVdLFxuICAgICAgcm93czogc2FsZXMsXG4gICAgICBpbnZvaWNlczogX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMsXG4gICAgICBpc1ZvaWNlbWFpbE9wZW46IGZhbHNlXG4gICAgfSwgJ3RyYW5zY3JpcHRpb24nLCBcIlwiKTtcblxuICAgIGNvbnNvbGUubG9nKF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzLCBcImluIGluY2FsbCB1c3VhbCBmbG93XCIpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEluQ2FsbCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge31cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIGN1cnJlbnRUcmFuc2NyaXB0aW9uID0gdGhpcy5wcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XG4gICAgICB2YXIgbmV3VHJhbnNjcmlwdGlvbiA9IG5leHRQcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XG4gICAgICBpZiAobmV3VHJhbnNjcmlwdGlvbiAhPT0gY3VycmVudFRyYW5zY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRyYW5zY3JpcHRpb246IG5ld1RyYW5zY3JpcHRpb24gfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IG5leHRQcm9wcy5sb2NhdGlvbi5zdGF0ZS5pbnZvaWNlcyB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7fVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzKSB7fVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9SZWFjdCRjcmVhdGVFbGVtZW50LFxuICAgICAgICAgIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuXG4gICAgICB2YXIgbmV4dElkID0gcGFyc2VJbnQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuaWQsIDEwKSArIDE7XG4gICAgICB2YXIgcHJldklkID0gcGFyc2VJbnQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuaWQsIDEwKSAtIDE7XG4gICAgICB2YXIgbmV4dFVybCA9IFwiL2NhbGxwcmVwL1wiICsgbmV4dElkO1xuICAgICAgdmFyIHByZXZVcmwgPSBcIi9jYWxscHJlcC9cIiArIHByZXZJZDtcbiAgICAgIHZhciBjYWxsZWRUb05hbWVJbml0aWFscyA9ICgwLCBfaGVscGVyLmdldEluaXRpYWxzRnJvbU5hbWUpKHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyAnICcgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWUpO1xuICAgICAgdmFyIHhBeGlzTGFiZWxTdHlsZXMgPSB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgZm9udFNpemU6IFwiMTNweFwiLFxuICAgICAgICB3aWR0aDogXCI4MCVcIlxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIikge1xuICAgICAgICB0aGlzLnNldER1cmF0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX3JlYWN0SGFtbWVyanMyLmRlZmF1bHQsXG4gICAgICAgICAgeyBvblN3aXBlTGVmdDogdGhpcy5zd2l0Y2hUb0NhbGxQcmVwUGFnZSwgb25Td2lwZVJpZ2h0OiB0aGlzLnN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2UgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuYXBwRnJhbWUgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EcmF3ZXIyLmRlZmF1bHQsIHsgdG9wSXRlbXM6ICgwLCBfQ3VzdG9tZXJEcmF3ZXJPcHRpb25zLmdldE1lbnVJdGVtcykoY2xhc3NlcywgdGhlbWUsIHRoaXMub3BlblBvcFRpbWVsaW5lKSB9KSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21Gb290ZXIyLmRlZmF1bHQsIG51bGwpLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5yb290IH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9Nb2RhbDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLnBvcFRpbWVsaW5lLFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZUF1dG9Gb2N1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VQb3BUaW1lbGluZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmN1c3RvbWVySGlzdG9yeU1vZGFsIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGltZWxpbmUodGhpcy5zdGF0ZS5wb3BUeXBlKVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMuY2xvc2VTdHlsZSB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlUG9wVGltZWxpbmVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0ZhYjIuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAvLyBjb2xvcj1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICxcbiAgICAgICAgICAgICAgICAgICAgeyAnYXJpYS1sYWJlbCc6ICdBZGQnLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnByZXZGYWIsIGNsYXNzZXMuZmFiQnV0dG9ucyksXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBkaXNhYmxlZDogY2xhc3Nlcy5kaXNhYmxlZEZhYiB9LFxuICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuc3RhdGUuY2FsbFByZXBQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc3dpdGNoVG9DYWxsUHJlcFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX05hdmlnYXRlQmVmb3JlMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPyBjbGFzc2VzLmRpc2FibGVkQXJyb3dpY29uIDogY2xhc3Nlcy5hcnJvd0ljb24gfSlcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0ZhYjIuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAvLyBjb2xvcj1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICxcbiAgICAgICAgICAgICAgICAgICAgeyAnYXJpYS1sYWJlbCc6ICdBZGQnLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRGYWIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5uZXh0RmFiLCBjbGFzc2VzLmZhYkJ1dHRvbnMpLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX05hdmlnYXRlTmV4dDIuZGVmYXVsdCwgeyBjbGFzc05hbWU6ICF0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSA/IGNsYXNzZXMuZGlzYWJsZWRBcnJvd2ljb24gOiBjbGFzc2VzLmFycm93SWNvbiB9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIHhzOiAxMiwganVzdGlmeTogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsIHN0eWxlOiB7IG1hcmdpblRvcDogXCIxLjEydmhcIiB9IH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDUsIHN0eWxlOiB7IHBhZGRpbmdMZWZ0OiBcIjBweFwiLCBwYWRkaW5nUmlnaHQ6IFwiMHB4XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZS5sZW5ndGggPCAyMCA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vV3JhcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgICAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfVG9vbHRpcDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICB7IHRpdGxlOiB0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vV3JhcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmN1c3RvbWVyTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmN1c3RvbWVyTnVtYmVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck51bWJlclxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgc206IDYsIGxnOiA2LCBtZDogNiwgeGw6IDUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnZmxleC1lbmQnIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY29udGFpbmVyOiB0cnVlLCBsZzogOCwgbWQ6IDEwLCB4bDogMTAsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnZmxleC1lbmQnLCBzdHlsZTogeyBtYXJnaW5SaWdodDogXCI4LjMzM3Z3XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgc206IDksIGxnOiA5LCBtZDogOSwgeGw6IDksIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIGNsYXNzTmFtZTogY2xhc3Nlcy5jYWxsR3JpZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgaXRlbTogdHJ1ZSwgbGc6IDcsIG1kOiA3LCB4bDogNywgc3R5bGU6IHsgY3Vyc29yOiBcInBvaW50ZXJcIiB9LCBvbkNsaWNrOiB0aGlzLm9wZW5Db250YWN0RHJvcGRvd24sIGp1c3RpZnk6ICdmbGV4LXN0YXJ0JywgYWxpZ25JdGVtczogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuY3VzdG9tZXJJY29uQ2lyY2xlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSA9PT0gXCJVbm5hbWVkXCIgJiYgdGhpcy5jYWxsZWRUb0xhc3ROYW1lID09PSBcIlVubmFtZWRcIiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgIT09IFwiVW5uYW1lZFwiICYmIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSAhPT0gXCJVbm5hbWVkXCIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZS50b1VwcGVyQ2FzZSgpLmNoYXJBdCgwKSArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZS50b1VwcGVyQ2FzZSgpLmNoYXJBdCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBsZzogNywgbWQ6IDcsIHhsOiA3LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FsbFRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB2YXJpYW50OiAnc3BhbicsIG5vV3JhcDogdHJ1ZSwgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuc3RhdHVzKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2FsbGVkVG9Db250YWN0RGl2IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbm9XcmFwOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuY2FsbGVkQ29udGFjdE5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsZWRUb0Z1bGxOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5kcm9wRG93biwgYWxpZ246ICdyaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQXJyb3dEcm9wRG93bjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmRyb3BEb3duSWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhY3RJY29uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NvbnRhY3RMaXN0Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhRnJvbUNoaWxkOiB0aGlzLnRvZ2dsZUNvbnRhY3RQb3BvdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdE9wZW46IHRoaXMuc3RhdGUuY29udGFjdE9wZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuQ29udGFjdHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdHM6IHRoaXMuc3RhdGUuY3VzdG9tZXIuY29udGFjdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcjogdGhpcy5zdGF0ZS5jdXN0b21lcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VzOiB0aGlzLnN0YXRlLmludm9pY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0TmFtZXM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuYnVja2V0TmFtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q3VzdG9tZXJVcmw6IHRoaXMubmV4dFVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvQ2FsbEN1c3RvbWVyczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS50b0NhbGxDdXN0b21lcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgaXRlbTogdHJ1ZSwgbGc6IDUsIG1kOiA1LCB4bDogNSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnk6ICdmbGV4LWVuZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuZHVyYXRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNhbGxEdXJhdGlvbkluRm9ybWF0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMubWljT2ZmSWNvbiwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNNdXRlZCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMubWljT2ZmSWNvbkltZywgc3JjOiAnL3Rvdm8vc3RhdGljL3VubXV0ZS5zdmcnLCBvbkNsaWNrOiB0aGlzLnRvZ2dsZU11dGUgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNNdXRlZCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMubWljT2ZmSWNvbkltZywgc3JjOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMTgpLCBvbkNsaWNrOiB0aGlzLnRvZ2dsZU11dGUgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ3JpZ2h0JywgY2xhc3NOYW1lOiBjbGFzc2VzLmhhbmdVcEJ1dHRvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCAoX1JlYWN0JGNyZWF0ZUVsZW1lbnQgPSB7IGNsYXNzTmFtZTogY2xhc3Nlcy5oYW5nVXBCdXR0b25JbWcsIG9uQ2xpY2s6IHRoaXMuaGFuZ1VwIH0sIF9kZWZpbmVQcm9wZXJ0eShfUmVhY3QkY3JlYXRlRWxlbWVudCwgJ2NsYXNzTmFtZScsIGNsYXNzZXMuaGFuZ1VwSWNvbkluZyksIF9kZWZpbmVQcm9wZXJ0eShfUmVhY3QkY3JlYXRlRWxlbWVudCwgJ3NyYycsIF9fd2VicGFja19yZXF1aXJlX18oNjExOSkpLCBfUmVhY3QkY3JlYXRlRWxlbWVudCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5kaWFscGFkSWNvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0tleVBhZFdyYXBwZWQyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmJhc2VJY29uU2l6ZSwgY3VzdG9tZXI6IHRoaXMuc3RhdGUuY3VzdG9tZXIgfSlcbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnZvaWNlTWFpbEljb24sIGNsYXNzZXMuYmFzZUljb25TaXplKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1ZvaWNlbWFpbFdyYXBwZXIyLmRlZmF1bHQsIHsgY3VzdG9tZXI6IHRoaXMuc3RhdGUuY3VzdG9tZXIsIG9uVm9pY2VtYWlsQ2xpY2s6IGZ1bmN0aW9uIG9uVm9pY2VtYWlsQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVWb2ljZW1haWxNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPT09IGZhbHNlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpblRvcDogXCIyLjAzN3ZoXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgeHM6IDEyLCBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsIGp1c3RpZnk6ICdjZW50ZXInLCBzdHlsZTogeyBtYXJnaW5MZWZ0OiBcIjBweFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogOCwgYWxpZ246ICdsZWZ0Jywgc3R5bGU6IHsgcGFkZGluZ1RvcDogXCIwXCIsIHBhZGRpbmdSaWdodDogXCIxLjA0MXZ3XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0luQ2FsbERldGFpbHMyLmRlZmF1bHQsIHsgY29sbGVjdG9yOiB0aGlzLnByb3BzLnVzZXIsIGVtYWlsT2ZDYWxsZWQ6IHRoaXMuZW1haWxPZkNhbGxlZCwgY3VzdG9tZXI6IHRoaXMuc3RhdGUuY3VzdG9tZXIsIGludm9pY2VzOiB0aGlzLnN0YXRlLmludm9pY2VzLCBidWNrZXROYW1lczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lcyB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgeHM6IDQsIGNsYXNzTmFtZTogY2xhc3Nlcy50cmFuc2NyaXB0Qm94UGFyZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RyYW5zY3JpcHRCb3gyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50cmFuc2NyaXB0Qm94LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Njcm9sbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZTogY2xhc3Nlcy50cmFuc2NyaXB0VGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q2hhdFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IHRoaXMuc3RhdGUudHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkVG9OYW1lSW5pdGlhbHM6IGNhbGxlZFRvTmFtZUluaXRpYWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5pdGlhbHM6ICdNRScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRHcmlkSUQ6ICdsaXZlLXRyYW5zY3JpcHRpb24tZ3JpZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmIHRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID09PSB0cnVlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NhbGxQcmVwRGV0YWlsczIuZGVmYXVsdCwgeyBjdXN0b21lcjogdGhpcy5zdGF0ZS5jdXN0b21lciB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gZmFsc2UgJiYgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDYWxsIEZhaWxlZFwiIHx8IHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PSBcIldyb25nIE51bWJlclwiIHx8IHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PSBcIlVzZXIgQnVzeVwiKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlckRvbS5SZWRpcmVjdCwge1xuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgcGF0aG5hbWU6IFwiL2NhbGxwcmVwL1wiICsgdGhpcy5zdGF0ZS5jdXN0b21lci5pZCxcbiAgICAgICAgICAgICAgc3RhdGU6IHsgb3BlbkNvbnRhY3RzOiB0cnVlLCB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApLFxuICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSBmYWxzZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUG9zdENhbGwyLmRlZmF1bHQsIHtcbiAgICAgICAgICB2b2ljZW1haWxNZXNzYWdlOiB0aGlzLnN0YXRlLnZvaWNlbWFpbFBsYXllZE1lc3NhZ2UsXG4gICAgICAgICAgY2FsbER1cmF0aW9uOiB0aGlzLnN0YXRlLmNhbGxEdXJhdGlvbixcbiAgICAgICAgICB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzLFxuICAgICAgICAgIG5leHRDdXN0b21lclVybDogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5uZXh0Q3VzdG9tZXJVcmwsXG4gICAgICAgICAgb25IYW5ndXA6IHRoaXMuY2xlYXJJbnRlcnZhbE9uSGFuZ3VwLFxuICAgICAgICAgIGludm9pY2VzOiB0aGlzLnN0YXRlLmludm9pY2VzLFxuICAgICAgICAgIGN1c3RvbWVyOiB0aGlzLnN0YXRlLmN1c3RvbWVyLFxuICAgICAgICAgIGNhbGxlZFRvTmFtZTogdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSArIFwiIFwiICsgdGhpcy5jYWxsZWRUb0xhc3ROYW1lLFxuICAgICAgICAgIGJ1Y2tldE5hbWVzOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmJ1Y2tldE5hbWVzLFxuICAgICAgICAgIGNvbGxlY3RvcjogdGhpcy5wcm9wcy51c2VyLFxuICAgICAgICAgIGNvbnRhY3RJbmRleDogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SW5kZXgsXG4gICAgICAgICAgY2FsbGVkVG9OdW1iZXI6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9OdW1iZXIsXG4gICAgICAgICAgaW5pdGlhbFRyYW5zY3JpcHRpb246IHRoaXMuc3RhdGUudHJhbnNjcmlwdGlvblxuICAgICAgICB9KSxcbiAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gZmFsc2UgJiYgdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIlRyeWluZyB0byBjb25uZWN0XCIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXJEb20uUmVkaXJlY3QsIHsgdG86IHtcbiAgICAgICAgICAgICAgcGF0aG5hbWU6ICcvY2FsbHByZXAvJyArIHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICAgIHN0YXRlOiB7IG9wZW5Db250YWN0czogZmFsc2UsIHRvQ2FsbEN1c3RvbWVyczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS50b0NhbGxDdXN0b21lcnMgfVxuICAgICAgICAgICAgfSB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbkNhbGw7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG5cbiAgICB1c2VyOiBzdGF0ZS5wZXJzb25hbERldGFpbHMsXG4gICAgY2FsbFN0YXRlOiBzdGF0ZS5jYWxsU3RhdGUsXG4gICAgdHJhbnNjcmlwdGlvbjogc3RhdGUudHJhbnNjcmlwdGlvbixcbiAgICBjdXN0b21lcnM6IHN0YXRlLmN1c3RvbWVyc1xuICB9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIGNoYW5nZUNhbGxTdGF0ZTogZnVuY3Rpb24gY2hhbmdlQ2FsbFN0YXRlKGRhdGEpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2FjdGlvbnMuY2hhbmdlQ2FsbFN0YXRlKShkYXRhKSk7XG4gICAgfSxcbiAgICBjaGFuZ2VTdGF0dXM6IGZ1bmN0aW9uIGNoYW5nZVN0YXR1cyhkYXRhKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmNoYW5nZVN0YXR1cykoZGF0YSkpO1xuICAgIH0sXG4gICAgY2hhbmdlVHJhbnNjcmlwdGlvbjogZnVuY3Rpb24gY2hhbmdlVHJhbnNjcmlwdGlvbihkYXRhKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmNoYW5nZVRyYW5zY3JpcHRpb24pKGRhdGEpKTtcbiAgICB9LFxuICAgIGNhbGxMb2c6IGZ1bmN0aW9uIGNhbGxMb2coZGF0YSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfY2FsbExvZ0FjdGlvbnMuYWRkSW5pdGlhbENhbGxMb2cpKGRhdGEpKTtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgY29tYmluZWRTdHlsZSA9ICgwLCBfY29tYmluZVN0eWxlczIuZGVmYXVsdCkoc3R5bGVzLCBfYmFzZVN0eWxlMi5kZWZhdWx0KTtcbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW5DYWxsKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDc3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfZGF0ZV9mbnNfYWRkRGF5c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2RhdGVfZm5zX2FkZE1vbnRoc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2RhdGVfZm5zX2FkZFllYXJzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Myk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2RhdGVfZm5zX2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2RhdGVfZm5zX2VhY2hEYXlPZkludGVydmFsX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2RhdGVfZm5zX2VuZE9mRGF5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2RhdGVfZm5zX2VuZE9mTW9udGhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfZGF0ZV9mbnNfZW5kT2ZXZWVrX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X2RhdGVfZm5zX2VuZE9mWWVhcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTg4KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX2RhdGVfZm5zX2dldEhvdXJzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Nik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9kYXRlX2Zuc19nZXRTZWNvbmRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Nyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9kYXRlX2Zuc19nZXRZZWFyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19kYXRlX2Zuc19pc0FmdGVyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfZGF0ZV9mbnNfaXNFcXVhbF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfZGF0ZV9mbnNfaXNTYW1lRGF5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Mik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19kYXRlX2Zuc19pc1ZhbGlkX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9kYXRlX2Zuc19wYXJzZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfZGF0ZV9mbnNfc2V0SG91cnNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX2RhdGVfZm5zX3NldE1pbnV0ZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX2RhdGVfZm5zX3NldFNlY29uZHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX2RhdGVfZm5zX3NldFllYXJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX2RhdGVfZm5zX3N0YXJ0T2ZEYXlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X2RhdGVfZm5zX3N0YXJ0T2ZNb250aF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9kYXRlX2Zuc19zdGFydE9mV2Vla19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9kYXRlX2Zuc19zdGFydE9mWWVhcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjIpO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgRGF0ZUZuc1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGVGbnNVdGlscyhfYSkge1xuICAgICAgICB2YXIgbG9jYWxlID0gKF9hID09PSB2b2lkIDAgPyB7fSA6IF9hKS5sb2NhbGU7XG4gICAgICAgIHRoaXMuZGF0ZVRpbWUxMmhGb3JtYXQgPSBcIk1NTU0gZG8gaGg6bW0gYWFhYVwiO1xuICAgICAgICB0aGlzLmRhdGVUaW1lMjRoRm9ybWF0ID0gXCJNTU1NIGRvIEhIOm1tXCI7XG4gICAgICAgIHRoaXMudGltZTEyaEZvcm1hdCA9IFwiaGg6bW0gYVwiO1xuICAgICAgICB0aGlzLnRpbWUyNGhGb3JtYXQgPSBcIkhIOm1tXCI7XG4gICAgICAgIHRoaXMuZGF0ZUZvcm1hdCA9IFwiTU1NTSBkb1wiO1xuICAgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZTtcbiAgICB9XG4gICAgLy8gTm90ZTogZGF0ZS1mbnMgaW5wdXQgdHlwZXMgYXJlIG1vcmUgbGVuaWVudCB0aGFuIHRoaXMgYWRhcHRlciwgc28gd2UgbmVlZCB0byBleHBvc2Ugb3VyIG1vcmVcbiAgICAvLyAgc3RyaWN0IHNpZ25hdHVyZSBhbmQgZGVsZWdhdGUgdG8gdGhlIG1vcmUgbGVuaWVudCBzaWd0YXR1cmUuICBPdGhlcndpc2UsIHdlIGhhdmUgZG93bnN0cmVhbSB0eXBlIGVycm9ycyB1cG9uIHVzYWdlLlxuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuYWRkRGF5cyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfZGF0ZV9mbnNfYWRkRGF5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19kYXRlX2Zuc19pc1ZhbGlkX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGlmZiA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2RhdGVfZm5zX2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNBZnRlciA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19kYXRlX2Zuc19pc0FmdGVyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0JlZm9yZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc3RhcnRPZkRheSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfZGF0ZV9mbnNfc3RhcnRPZkRheV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmVuZE9mRGF5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2RhdGVfZm5zX2VuZE9mRGF5X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0SG91cnMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX2RhdGVfZm5zX2dldEhvdXJzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0SG91cnMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9kYXRlX2Zuc19zZXRIb3Vyc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5zZXRNaW51dGVzID0gZnVuY3Rpb24gKHZhbHVlLCBjb3VudCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfZGF0ZV9mbnNfc2V0TWludXRlc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRTZWNvbmRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9kYXRlX2Zuc19nZXRTZWNvbmRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0U2Vjb25kcyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX2RhdGVfZm5zX3NldFNlY29uZHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNTYW1lRGF5ID0gZnVuY3Rpb24gKHZhbHVlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X2RhdGVfZm5zX2lzU2FtZURheV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U3RhcnRPZk1vbnRoID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9kYXRlX2Zuc19zdGFydE9mTW9udGhfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRZZWFyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9kYXRlX2Zuc19nZXRZZWFyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0WWVhciA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX2RhdGVfZm5zX3NldFllYXJfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXRTdHJpbmcpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfZGF0ZV9mbnNfcGFyc2VfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGZvcm1hdFN0cmluZywgbmV3IERhdGUoKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChkYXRlLCBmb3JtYXRTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIGZvcm1hdFN0cmluZywgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKGRhdGUsIGNvbXBhcmluZykge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gbnVsbCAmJiBjb21wYXJpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9kYXRlX2Zuc19pc0VxdWFsX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzTnVsbCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlID09PSBudWxsO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0FmdGVyRGF5ID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19kYXRlX2Zuc19pc0FmdGVyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfZGF0ZV9mbnNfZW5kT2ZEYXlfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmVEYXkgPSBmdW5jdGlvbiAoZGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X2RhdGVfZm5zX2lzQmVmb3JlX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX2RhdGVfZm5zX3N0YXJ0T2ZEYXlfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmVZZWFyID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9kYXRlX2Zuc19zdGFydE9mWWVhcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0FmdGVyWWVhciA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfZGF0ZV9mbnNfaXNBZnRlcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X2RhdGVfZm5zX2VuZE9mWWVhcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5mb3JtYXROdW1iZXIgPSBmdW5jdGlvbiAobnVtYmVyVG9Gb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlclRvRm9ybWF0O1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNaW51dGVzID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TWludXRlcygpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNb250aCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldE1vbnRoKCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE1lcmlkaWVtVGV4dCA9IGZ1bmN0aW9uIChhbXBtKSB7XG4gICAgICAgIHJldHVybiBhbXBtID09PSBcImFtXCIgPyBcIkFNXCIgOiBcIlBNXCI7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE5leHRNb250aCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2RhdGVfZm5zX2FkZE1vbnRoc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCAxKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0UHJldmlvdXNNb250aCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2RhdGVfZm5zX2FkZE1vbnRoc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCAtMSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLm1lcmdlRGF0ZUFuZFRpbWUgPSBmdW5jdGlvbiAoZGF0ZSwgdGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRNaW51dGVzKHRoaXMuc2V0SG91cnMoZGF0ZSwgdGhpcy5nZXRIb3Vycyh0aW1lKSksIHRoaXMuZ2V0TWludXRlcyh0aW1lKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFdlZWtkYXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfZGF0ZV9mbnNfZWFjaERheU9mSW50ZXJ2YWxfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoe1xuICAgICAgICAgICAgc3RhcnQ6IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X2RhdGVfZm5zX3N0YXJ0T2ZXZWVrX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG5vdywgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pLFxuICAgICAgICAgICAgZW5kOiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2RhdGVfZm5zX2VuZE9mV2Vla19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShub3csIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KVxuICAgICAgICB9LCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSkubWFwKGZ1bmN0aW9uIChkYXkpIHsgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRheSwgXCJFRUVFRUVcIiwgeyBsb2NhbGU6IF90aGlzLmxvY2FsZSB9KTsgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFdlZWtBcnJheSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X2RhdGVfZm5zX3N0YXJ0T2ZXZWVrX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X2RhdGVfZm5zX3N0YXJ0T2ZNb250aF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlKSwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgICAgICB2YXIgZW5kID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19kYXRlX2Zuc19lbmRPZldlZWtfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9kYXRlX2Zuc19lbmRPZk1vbnRoX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUpLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50ID0gc3RhcnQ7XG4gICAgICAgIHZhciBuZXN0ZWRXZWVrcyA9IFtdO1xuICAgICAgICB3aGlsZSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoY3VycmVudCwgZW5kKSkge1xuICAgICAgICAgICAgdmFyIHdlZWtOdW1iZXIgPSBNYXRoLmZsb29yKGNvdW50IC8gNyk7XG4gICAgICAgICAgICBuZXN0ZWRXZWVrc1t3ZWVrTnVtYmVyXSA9IG5lc3RlZFdlZWtzW3dlZWtOdW1iZXJdIHx8IFtdO1xuICAgICAgICAgICAgbmVzdGVkV2Vla3Nbd2Vla051bWJlcl0ucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2RhdGVfZm5zX2FkZERheXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoY3VycmVudCwgMSk7XG4gICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXN0ZWRXZWVrcztcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhclJhbmdlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI2X2RhdGVfZm5zX3N0YXJ0T2ZZZWFyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHN0YXJ0KTtcbiAgICAgICAgdmFyIGVuZERhdGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X2RhdGVfZm5zX2VuZE9mWWVhcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShlbmQpO1xuICAgICAgICB2YXIgeWVhcnMgPSBbXTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzdGFydERhdGU7XG4gICAgICAgIHdoaWxlIChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShjdXJyZW50LCBlbmREYXRlKSkge1xuICAgICAgICAgICAgeWVhcnMucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2RhdGVfZm5zX2FkZFllYXJzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGN1cnJlbnQsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5ZWFycztcbiAgICB9O1xuICAgIC8vIGRpc3BsYXlpbmcgbWV0aHBkc1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0Q2FsZW5kYXJIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIFwiTU1NTSB5eXl5XCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgXCJ5eXl5XCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGF0ZVBpY2tlckhlYWRlclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgXCJFRUUsIE1NTSBkXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGF0ZVRpbWVQaWNrZXJIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIFwiTU1NIGRcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXREYXlUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIFwiZFwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldEhvdXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUsIGFtcG0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIGFtcG0gPyBcImhoXCIgOiBcIkhIXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TWludXRlVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBcIm1tXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U2Vjb25kVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBcInNzXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIHJldHVybiBEYXRlRm5zVXRpbHM7XG59KCkpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKERhdGVGbnNVdGlscyk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDYwNzg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRhdGVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEYXRlUGlja2VyTW9kYWwkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5saW5lRGF0ZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERhdGVQaWNrZXJJbmxpbmUkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVGltZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRpbWVQaWNrZXJNb2RhbCQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmxpbmVUaW1lUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVGltZVBpY2tlcklubGluZSQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEYXRlVGltZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERhdGVUaW1lUGlja2VyTW9kYWwkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5saW5lRGF0ZVRpbWVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEYXRlVGltZVBpY2tlcklubGluZSQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJCYXNlUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQmFzZVBpY2tlciQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDYWxlbmRhclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENhbGVuZGFyJDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRheVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERheSQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUaW1lUGlja2VyVmlld1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRpbWVQaWNrZXJWaWV3JDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNsb2NrXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2xvY2skMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBNdWlQaWNrZXJzVXRpbHNQcm92aWRlcjsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOTApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3JlYWN0X3RleHRfbWFza19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDkxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfcmVhY3RfdGV4dF9tYXNrX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfcmVhY3RfdGV4dF9tYXNrX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19tYXRlcmlhbF91aV9jb3JlX0ljb25CdXR0b25fXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19tYXRlcmlhbF91aV9jb3JlX0lucHV0QWRvcm5tZW50X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0Nik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19tYXRlcmlhbF91aV9jb3JlX0lucHV0QWRvcm5tZW50X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX21hdGVyaWFsX3VpX2NvcmVfSW5wdXRBZG9ybm1lbnRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19tYXRlcmlhbF91aV9jb3JlX1RleHRGaWVsZF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fbWF0ZXJpYWxfdWlfY29yZV9UZXh0RmllbGRfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fbWF0ZXJpYWxfdWlfY29yZV9UZXh0RmllbGRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nQWN0aW9uc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX21hdGVyaWFsX3VpX2NvcmVfRGlhbG9nQ29udGVudF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9rZXljb2RlX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fbWF0ZXJpYWxfdWlfY29yZV9Ub29sYmFyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9yZWFjdF90cmFuc2l0aW9uX2dyb3VwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOTIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9yZWFjdF90cmFuc2l0aW9uX2dyb3VwX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfcmVhY3RfZG9tX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX3JlYWN0X2RvbV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9yZWFjdF9kb21fXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fbWF0ZXJpYWxfdWlfY29yZV9Qb3BvdmVyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19tYXRlcmlhbF91aV9jb3JlX1BvcG92ZXJfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX21hdGVyaWFsX3VpX2NvcmVfUG9wb3Zlcl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19tYXRlcmlhbF91aV9jb3JlX1BhcGVyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19tYXRlcmlhbF91aV9jb3JlX1BhcGVyX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19tYXRlcmlhbF91aV9jb3JlX1BhcGVyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhUaGVtZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFRoZW1lX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoVGhlbWVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzMwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19tYXRlcmlhbF91aV9jb3JlX1RhYl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI2X19tYXRlcmlhbF91aV9jb3JlX1RhYnNfXyk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBfYSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUNvbnRleHRcIl0pKG51bGwpLFxuICAgIENvbnN1bWVyID0gX2EuQ29uc3VtZXIsXG4gICAgUHJvdmlkZXIgPSBfYS5Qcm92aWRlcjtcblxudmFyIE11aVBpY2tlcnNDb250ZXh0Q29uc3VtZXIgPSBDb25zdW1lcjtcblxudmFyIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB1dGlsczogbnVsbFxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIFV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGxvY2FsZSA9IF9hLmxvY2FsZSxcbiAgICAgICAgbW9tZW50ID0gX2EubW9tZW50O1xuICAgIHJldHVybiB7XG4gICAgICB1dGlsczogbmV3IFV0aWxzKHtcbiAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgIG1vbWVudDogbW9tZW50XG4gICAgICB9KVxuICAgIH07XG4gIH07XG5cbiAgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnV0aWxzLFxuICAgICAgY2hpbGRyZW46IHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICB9KTtcbiAgfTtcblxuICAgZmFsc2UgPyBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gICAgdXRpbHM6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBsb2NhbGU6IG9uZU9mVHlwZShbb2JqZWN0LCBzdHJpbmddKSxcbiAgICBjaGlsZHJlbjogb25lT2ZUeXBlKFtlbGVtZW50LmlzUmVxdWlyZWQsIGFycmF5T2YoZWxlbWVudC5pc1JlcXVpcmVkKV0pLmlzUmVxdWlyZWQsXG4gICAgbW9tZW50OiBmdW5jXG4gIH0gOiB2b2lkIDA7XG4gIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBsb2NhbGU6IHVuZGVmaW5lZCxcbiAgICBtb21lbnQ6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcblxudmFyIGNoZWNrVXRpbHMgPSBmdW5jdGlvbiAodXRpbHMpIHtcbiAgaWYgKCF1dGlscykge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBmaW5kIHV0aWxzIGluIGNvbnRleHQuIFlvdSBlaXRoZXIgYSkgZm9yZ290IHRvIHdyYXAgeW91ciBjb21wb25lbnQgdHJlZSBpbiBNdWlQaWNrZXJzVXRpbHNQcm92aWRlcjsgb3IgYikgbWl4ZWQgbmFtZWQgYW5kIGRpcmVjdCBmaWxlIGltcG9ydHMuICBSZWNvbW1lbmRhdGlvbjogdXNlIG5hbWVkIGltcG9ydHMgZnJvbSB0aGUgbW9kdWxlIGluZGV4LicpO1xuICB9XG59O1xuXG52YXIgd2l0aFV0aWxzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKENvbXBvbmVudCQkMSkge1xuICAgIHZhciBXaXRoVXRpbHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShNdWlQaWNrZXJzQ29udGV4dENvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAodXRpbHMpIHtcbiAgICAgICAgY2hlY2tVdGlscyh1dGlscyk7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDb21wb25lbnQkJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgfSwgcHJvcHMpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBXaXRoVXRpbHMuZGlzcGxheU5hbWUgPSBcIldpdGhVdGlscyhcIiArIChDb21wb25lbnQkJDEuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50JCQxLm5hbWUpICsgXCIpXCI7XG4gICAgcmV0dXJuIFdpdGhVdGlscztcbiAgfTtcbn07XG5cbnZhciBnZXRJbml0aWFsRGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBfYS5pbml0aWFsRm9jdXNlZERhdGU7XG4gIHZhciBpbml0aWFsRGF0ZSA9IHZhbHVlIHx8IGluaXRpYWxGb2N1c2VkRGF0ZSB8fCB1dGlscy5kYXRlKCk7XG4gIHZhciBkYXRlID0gdXRpbHMuZGF0ZShpbml0aWFsRGF0ZSk7XG4gIHJldHVybiB1dGlscy5pc1ZhbGlkKGRhdGUpID8gZGF0ZSA6IHV0aWxzLmRhdGUoKTtcbn07XG5cbnZhciBCYXNlUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKEJhc2VQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQmFzZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgZGF0ZTogZ2V0SW5pdGlhbERhdGUoX3RoaXMucHJvcHMpLFxuICAgICAgaXNBY2NlcHRlZDogZmFsc2VcbiAgICB9O1xuXG4gICAgX3RoaXMuY2hhbmdlRGF0ZSA9IGZ1bmN0aW9uIChkYXRlLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0ZTogZGF0ZVxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSA9IGZ1bmN0aW9uIChpc0FjY2VwdGVkLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZFxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5vbkNoYW5nZShudWxsKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQWNjZXB0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9uQ2hhbmdlKF90aGlzLnN0YXRlLmRhdGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZXRUb2RheURhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnByb3BzLnV0aWxzLmRhdGUoKSwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2UgPSBfYS5tZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlO1xuXG4gICAgICBpZiAobWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZSkge1xuICAgICAgICBkYXRlID0gdXRpbHMubWVyZ2VEYXRlQW5kVGltZShfdGhpcy5zdGF0ZS5kYXRlLCBkYXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGUgPT09IG51bGwpIHtcbiAgICAgICAgb25DaGFuZ2UobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5jaGFuZ2VEYXRlKGRhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb25DaGFuZ2UoZGF0ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5waWNrMTJoT3IyNGhGb3JtYXQgPSBmdW5jdGlvbiAoZGVmYXVsdDEyaEZvcm1hdCwgZGVmYXVsdDI0aEZvcm1hdCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICAgIGFtcG0gPSBfYS5hbXBtO1xuXG4gICAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbXBtID8gZGVmYXVsdDEyaEZvcm1hdCA6IGRlZmF1bHQyNGhGb3JtYXQ7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChuZXdEYXRlLCBpc0ZpbmlzaCkge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBhdXRvT2sgPSBfYS5hdXRvT2ssXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZTtcblxuICAgICAgX3RoaXMuY2hhbmdlRGF0ZShuZXdEYXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0ZpbmlzaCAmJiBhdXRvT2spIHtcbiAgICAgICAgICBvbkNoYW5nZShuZXdEYXRlKTsgLy8gcGFzcyBkb3duIGFjY2VwdCB0cnVlLCBhbmQgbWFrZSBpdCBmYWxzZSBpbiB0aGUgbmV4dCB0aWNrXG5cbiAgICAgICAgICBfdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSh0cnVlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UoZmFsc2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRGlzbWlzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0ZTogZ2V0SW5pdGlhbERhdGUoX3RoaXMucHJvcHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQmFzZVBpY2tlci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IF9hLmluaXRpYWxGb2N1c2VkRGF0ZTtcblxuICAgIGlmIChwcmV2UHJvcHMudmFsdWUgIT09IHZhbHVlIHx8IHByZXZQcm9wcy51dGlscy5sb2NhbGUgIT09IHV0aWxzLmxvY2FsZSB8fCBwcmV2UHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlICE9PSBpbml0aWFsRm9jdXNlZERhdGUpIHtcbiAgICAgIHRoaXMuY2hhbmdlRGF0ZShnZXRJbml0aWFsRGF0ZSh0aGlzLnByb3BzKSk7XG4gICAgfVxuICB9O1xuXG4gIEJhc2VQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbihPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgdGhpcy5zdGF0ZSwge1xuICAgICAgdXRpbHM6IHRoaXMucHJvcHMudXRpbHMsXG4gICAgICBjaGFuZ2VEYXRlOiB0aGlzLmNoYW5nZURhdGUsXG4gICAgICBoYW5kbGVBY2NlcHRlZENoYW5nZTogdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSxcbiAgICAgIGhhbmRsZUNsZWFyOiB0aGlzLmhhbmRsZUNsZWFyLFxuICAgICAgaGFuZGxlQWNjZXB0OiB0aGlzLmhhbmRsZUFjY2VwdCxcbiAgICAgIGhhbmRsZURpc21pc3M6IHRoaXMuaGFuZGxlRGlzbWlzcyxcbiAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZTogdGhpcy5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2U6IHRoaXMuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgcGljazEyaE9yMjRoRm9ybWF0OiB0aGlzLnBpY2sxMmhPcjI0aEZvcm1hdCxcbiAgICAgIGhhbmRsZUNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VQaWNrZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBCYXNlUGlja2VyJDEgPSB3aXRoVXRpbHMoKShCYXNlUGlja2VyKTtcblxudmFyIGRhdGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Byb3BfdHlwZXNfX1tcIm9uZU9mVHlwZVwiXSkoW19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19bXCJvYmplY3RcIl0sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19bXCJzdHJpbmdcIl0sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19bXCJudW1iZXJcIl0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fW1wiaW5zdGFuY2VPZlwiXSkoRGF0ZSldKTtcbnZhciBEb21haW5Qcm9wVHlwZXMgPSB7XG4gIGRhdGU6IGRhdGVcbn07XG5cbnZhciBJbnB1dCA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShJbnB1dCwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBJbnB1dCgpIHtcbiAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICBJbnB1dC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGlucHV0UmVmID0gX2EuaW5wdXRSZWYsXG4gICAgICAgIGtlZXBDaGFyUG9zaXRpb25zID0gX2Eua2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIHJlc3QgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcImlucHV0UmVmXCIsIFwia2VlcENoYXJQb3NpdGlvbnNcIl0pO1xuXG4gICAgcmV0dXJuIHRoaXMucHJvcHMubWFzayA/IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19yZWFjdF90ZXh0X21hc2tfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCByZXN0LCB7XG4gICAgICBrZWVwQ2hhclBvc2l0aW9uczoga2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICByZWY6IGlucHV0UmVmXG4gICAgfSkpIDogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJpbnB1dFwiLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcmVzdCwge1xuICAgICAgcmVmOiBpbnB1dFJlZlxuICAgIH0pKTtcbiAgfTtcblxuICAgZmFsc2UgPyBJbnB1dC5wcm9wVHlwZXMgPSB7XG4gICAgbWFzazogYW55LFxuICAgIGlucHV0UmVmOiBmdW5jLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgSW5wdXQuZGVmYXVsdFByb3BzID0ge1xuICAgIG1hc2s6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gSW5wdXQ7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7XG5cbnZhciBnZXREaXNwbGF5RGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICBpbnZhbGlkTGFiZWwgPSBfYS5pbnZhbGlkTGFiZWwsXG4gICAgICBlbXB0eUxhYmVsID0gX2EuZW1wdHlMYWJlbCxcbiAgICAgIGxhYmVsRnVuYyA9IF9hLmxhYmVsRnVuYztcbiAgdmFyIGlzRW1wdHkgPSB2YWx1ZSA9PT0gbnVsbDtcbiAgdmFyIGRhdGUgPSB1dGlscy5kYXRlKHZhbHVlKTtcblxuICBpZiAobGFiZWxGdW5jKSB7XG4gICAgcmV0dXJuIGxhYmVsRnVuYyhpc0VtcHR5ID8gbnVsbCA6IGRhdGUsIGludmFsaWRMYWJlbCk7XG4gIH1cblxuICBpZiAoaXNFbXB0eSkge1xuICAgIHJldHVybiBlbXB0eUxhYmVsO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxzLmlzVmFsaWQoZGF0ZSkgPyB1dGlscy5mb3JtYXQoZGF0ZSwgZm9ybWF0KSA6IGludmFsaWRMYWJlbDtcbn07XG5cbnZhciBnZXRFcnJvciA9IGZ1bmN0aW9uICh2YWx1ZSwgcHJvcHMpIHtcbiAgdmFyIHV0aWxzID0gcHJvcHMudXRpbHMsXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgbWF4RGF0ZU1lc3NhZ2UgPSBwcm9wcy5tYXhEYXRlTWVzc2FnZSxcbiAgICAgIG1pbkRhdGVNZXNzYWdlID0gcHJvcHMubWluRGF0ZU1lc3NhZ2UsXG4gICAgICBpbnZhbGlkRGF0ZU1lc3NhZ2UgPSBwcm9wcy5pbnZhbGlkRGF0ZU1lc3NhZ2U7XG5cbiAgaWYgKCF1dGlscy5pc1ZhbGlkKHZhbHVlKSkge1xuICAgIC8vIGlmIG51bGwgLSBkbyBub3Qgc2hvdyBlcnJvclxuICAgIGlmICh1dGlscy5pc051bGwodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGludmFsaWREYXRlTWVzc2FnZTtcbiAgfVxuXG4gIGlmIChtYXhEYXRlICYmIHV0aWxzLmlzQWZ0ZXIodmFsdWUsIHV0aWxzLmVuZE9mRGF5KHV0aWxzLmRhdGUobWF4RGF0ZSkpKSB8fCBkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXIodmFsdWUsIHV0aWxzLmVuZE9mRGF5KHV0aWxzLmRhdGUoKSkpKSB7XG4gICAgcmV0dXJuIG1heERhdGVNZXNzYWdlO1xuICB9XG5cbiAgaWYgKG1pbkRhdGUgJiYgdXRpbHMuaXNCZWZvcmUodmFsdWUsIHV0aWxzLnN0YXJ0T2ZEYXkodXRpbHMuZGF0ZShtaW5EYXRlKSkpIHx8IGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlKHZhbHVlLCB1dGlscy5zdGFydE9mRGF5KHV0aWxzLmRhdGUoKSkpKSB7XG4gICAgcmV0dXJuIG1pbkRhdGVNZXNzYWdlO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcblxudmFyIERhdGVUZXh0RmllbGQgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoRGF0ZVRleHRGaWVsZCwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXRlVGV4dEZpZWxkKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSBEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlKF90aGlzLnByb3BzKTtcblxuICAgIF90aGlzLmNvbW1pdFVwZGF0ZXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgY2xlYXJhYmxlID0gX2EuY2xlYXJhYmxlLFxuICAgICAgICAgIG9uQ2xlYXIgPSBfYS5vbkNsZWFyLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICAgIG9uRXJyb3IgPSBfYS5vbkVycm9yO1xuXG4gICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKERhdGVUZXh0RmllbGQudXBkYXRlU3RhdGUoX3RoaXMucHJvcHMpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbGVhcmFibGUgJiYgb25DbGVhcikge1xuICAgICAgICAgIG9uQ2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9sZFZhbHVlID0gdXRpbHMuZGF0ZShfdGhpcy5zdGF0ZS52YWx1ZSk7XG4gICAgICB2YXIgbmV3VmFsdWUgPSB1dGlscy5wYXJzZSh2YWx1ZSwgZm9ybWF0KTtcbiAgICAgIHZhciBlcnJvciA9IGdldEVycm9yKG5ld1ZhbHVlLCBfdGhpcy5wcm9wcyk7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICBkaXNwbGF5VmFsdWU6IHZhbHVlLFxuICAgICAgICB2YWx1ZTogZXJyb3IgPyBuZXdWYWx1ZSA6IG9sZFZhbHVlXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghZXJyb3IgJiYgIXV0aWxzLmlzRXF1YWwobmV3VmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICAgIG9uQ2hhbmdlKG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvciAmJiBvbkVycm9yKSB7XG4gICAgICAgICAgb25FcnJvcihuZXdWYWx1ZSwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMua2V5Ym9hcmQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIF90aGlzLmNvbW1pdFVwZGF0ZXMoZS50YXJnZXQudmFsdWUpO1xuXG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkJsdXIpIHtcbiAgICAgICAgICBfdGhpcy5wcm9wcy5vbkJsdXIoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICAgIG9uSW5wdXRDaGFuZ2UgPSBfYS5vbklucHV0Q2hhbmdlO1xuICAgICAgdmFyIHBhcnNlZFZhbHVlID0gdXRpbHMucGFyc2UoZS50YXJnZXQudmFsdWUsIGZvcm1hdCk7XG5cbiAgICAgIGlmIChvbklucHV0Q2hhbmdlKSB7XG4gICAgICAgIG9uSW5wdXRDaGFuZ2UoZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGlzcGxheVZhbHVlOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgZXJyb3I6IGdldEVycm9yKHBhcnNlZFZhbHVlLCBfdGhpcy5wcm9wcylcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmtleWJvYXJkKSB7XG4gICAgICAgIF90aGlzLm9wZW5QaWNrZXIoZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUtleVByZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVPcGVuT25FbnRlcikge1xuICAgICAgICAgIF90aGlzLm9wZW5QaWNrZXIoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPIGNoZWNrIG1lXG4gICAgICAgICAgX3RoaXMuY29tbWl0VXBkYXRlcyhlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblBpY2tlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuXG4gICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgIG9uQ2xpY2soZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIERhdGVUZXh0RmllbGQucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudXRpbHMuaXNFcXVhbCh0aGlzLnByb3BzLnZhbHVlLCBwcmV2UHJvcHMudmFsdWUpIHx8IHByZXZQcm9wcy5mb3JtYXQgIT09IHRoaXMucHJvcHMuZm9ybWF0IHx8IHByZXZQcm9wcy5tYXhEYXRlICE9PSB0aGlzLnByb3BzLm1heERhdGUgfHwgcHJldlByb3BzLm1pbkRhdGUgIT09IHRoaXMucHJvcHMubWluRGF0ZSB8fCBwcmV2UHJvcHMuZW1wdHlMYWJlbCAhPT0gdGhpcy5wcm9wcy5lbXB0eUxhYmVsIHx8IHByZXZQcm9wcy51dGlscyAhPT0gdGhpcy5wcm9wcy51dGlscykge1xuICAgICAgdGhpcy5zZXRTdGF0ZShEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlKHRoaXMucHJvcHMpKTtcbiAgICB9XG4gIH07XG5cbiAgRGF0ZVRleHRGaWVsZC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFkb3JubWVudFBvc2l0aW9uID0gX2EuYWRvcm5tZW50UG9zaXRpb24sXG4gICAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIGRpc2FibGVPcGVuT25FbnRlciA9IF9hLmRpc2FibGVPcGVuT25FbnRlcixcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgZW1wdHlMYWJlbCA9IF9hLmVtcHR5TGFiZWwsXG4gICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgSW5wdXRBZG9ybm1lbnRQcm9wcyA9IF9hLklucHV0QWRvcm5tZW50UHJvcHMsXG4gICAgICAgIElucHV0UHJvcHMgPSBfYS5JbnB1dFByb3BzLFxuICAgICAgICBpbnZhbGlkRGF0ZU1lc3NhZ2UgPSBfYS5pbnZhbGlkRGF0ZU1lc3NhZ2UsXG4gICAgICAgIGludmFsaWRMYWJlbCA9IF9hLmludmFsaWRMYWJlbCxcbiAgICAgICAga2V5Ym9hcmQgPSBfYS5rZXlib2FyZCxcbiAgICAgICAga2V5Ym9hcmRJY29uID0gX2Eua2V5Ym9hcmRJY29uLFxuICAgICAgICBsYWJlbEZ1bmMgPSBfYS5sYWJlbEZ1bmMsXG4gICAgICAgIG1hc2sgPSBfYS5tYXNrLFxuICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgICAgbWF4RGF0ZU1lc3NhZ2UgPSBfYS5tYXhEYXRlTWVzc2FnZSxcbiAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgIG1pbkRhdGVNZXNzYWdlID0gX2EubWluRGF0ZU1lc3NhZ2UsXG4gICAgICAgIG9uQmx1ciA9IF9hLm9uQmx1cixcbiAgICAgICAgb25DbGVhciA9IF9hLm9uQ2xlYXIsXG4gICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLFxuICAgICAgICBwaXBlID0gX2EucGlwZSxcbiAgICAgICAga2VlcENoYXJQb3NpdGlvbnMgPSBfYS5rZWVwQ2hhclBvc2l0aW9ucyxcbiAgICAgICAgVGV4dEZpZWxkQ29tcG9uZW50ID0gX2EuVGV4dEZpZWxkQ29tcG9uZW50LFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBvbklucHV0Q2hhbmdlID0gX2Eub25JbnB1dENoYW5nZSxcbiAgICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcImFkb3JubWVudFBvc2l0aW9uXCIsIFwiY2xlYXJhYmxlXCIsIFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwiZGlzYWJsZU9wZW5PbkVudGVyXCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJlbXB0eUxhYmVsXCIsIFwiZm9ybWF0XCIsIFwiSW5wdXRBZG9ybm1lbnRQcm9wc1wiLCBcIklucHV0UHJvcHNcIiwgXCJpbnZhbGlkRGF0ZU1lc3NhZ2VcIiwgXCJpbnZhbGlkTGFiZWxcIiwgXCJrZXlib2FyZFwiLCBcImtleWJvYXJkSWNvblwiLCBcImxhYmVsRnVuY1wiLCBcIm1hc2tcIiwgXCJtYXhEYXRlXCIsIFwibWF4RGF0ZU1lc3NhZ2VcIiwgXCJtaW5EYXRlXCIsIFwibWluRGF0ZU1lc3NhZ2VcIiwgXCJvbkJsdXJcIiwgXCJvbkNsZWFyXCIsIFwib25DbGlja1wiLCBcInBpcGVcIiwgXCJrZWVwQ2hhclBvc2l0aW9uc1wiLCBcIlRleHRGaWVsZENvbXBvbmVudFwiLCBcInV0aWxzXCIsIFwidmFsdWVcIiwgXCJvbklucHV0Q2hhbmdlXCJdKTtcblxuICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGRpc3BsYXlWYWx1ZSA9IF9iLmRpc3BsYXlWYWx1ZSxcbiAgICAgICAgZXJyb3IgPSBfYi5lcnJvcjtcbiAgICB2YXIgbG9jYWxJbnB1dFByb3BzID0ge1xuICAgICAgaW5wdXRDb21wb25lbnQ6IElucHV0LFxuICAgICAgaW5wdXRQcm9wczoge1xuICAgICAgICBtYXNrOiAha2V5Ym9hcmQgPyBudWxsIDogbWFzayxcbiAgICAgICAgcGlwZTogIWtleWJvYXJkID8gbnVsbCA6IHBpcGUsXG4gICAgICAgIGtlZXBDaGFyUG9zaXRpb25zOiAha2V5Ym9hcmQgPyB1bmRlZmluZWQgOiBrZWVwQ2hhclBvc2l0aW9ucyxcbiAgICAgICAgcmVhZE9ubHk6ICFrZXlib2FyZFxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoa2V5Ym9hcmQpIHtcbiAgICAgIGxvY2FsSW5wdXRQcm9wc1thZG9ybm1lbnRQb3NpdGlvbiArIFwiQWRvcm5tZW50XCJdID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19tYXRlcmlhbF91aV9jb3JlX0lucHV0QWRvcm5tZW50X19fZGVmYXVsdC5hLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICAgIHBvc2l0aW9uOiBhZG9ybm1lbnRQb3NpdGlvblxuICAgICAgfSwgSW5wdXRBZG9ybm1lbnRQcm9wcyksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgb25DbGljazogdGhpcy5vcGVuUGlja2VyXG4gICAgICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fX2RlZmF1bHQuYSwgbnVsbCwgXCIgXCIsIGtleWJvYXJkSWNvbiwgXCIgXCIpKSk7XG4gICAgfVxuXG4gICAgdmFyIENvbXBvbmVudCQkMSA9IFRleHRGaWVsZENvbXBvbmVudDtcblxuICAgIHZhciBpbnB1dFByb3BzID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIGxvY2FsSW5wdXRQcm9wcywgSW5wdXRQcm9wcyk7XG5cbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ29tcG9uZW50JCQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUZvY3VzLFxuICAgICAgZXJyb3I6ICEhZXJyb3IsXG4gICAgICBoZWxwZXJUZXh0OiBlcnJvcixcbiAgICAgIG9uS2V5UHJlc3M6IHRoaXMuaGFuZGxlS2V5UHJlc3MsXG4gICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlQmx1cixcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIHZhbHVlOiBkaXNwbGF5VmFsdWVcbiAgICB9LCBvdGhlciwge1xuICAgICAgb25FcnJvcjogdW5kZWZpbmVkLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgSW5wdXRQcm9wczogaW5wdXRQcm9wc1xuICAgIH0pKTtcbiAgfTtcblxuICAgZmFsc2UgPyBEYXRlVGV4dEZpZWxkLnByb3BUeXBlcyA9IHtcbiAgICB2YWx1ZTogb25lT2ZUeXBlKFtvYmplY3QsIHN0cmluZywgbnVtYmVyLCBpbnN0YW5jZU9mKERhdGUpXSksXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBmb3JtYXQ6IHN0cmluZyxcbiAgICBvbkJsdXI6IGZ1bmMsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIG9uQ2xpY2s6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjbGVhcmFibGU6IGJvb2wsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVkOiBib29sLFxuICAgIElucHV0UHJvcHM6IHNoYXBlKHt9KSxcbiAgICBtYXNrOiBhbnksXG4gICAgbWluRGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgbWF4RGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgaW52YWxpZExhYmVsOiBzdHJpbmcsXG4gICAgZW1wdHlMYWJlbDogc3RyaW5nLFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBrZXlib2FyZDogYm9vbCxcbiAgICBrZXlib2FyZEljb246IG5vZGUsXG4gICAgZGlzYWJsZU9wZW5PbkVudGVyOiBib29sLFxuICAgIGludmFsaWREYXRlTWVzc2FnZTogbm9kZSxcbiAgICBUZXh0RmllbGRDb21wb25lbnQ6IG9uZU9mVHlwZShbc3RyaW5nLCBmdW5jXSksXG4gICAgSW5wdXRBZG9ybm1lbnRQcm9wczogb2JqZWN0LFxuICAgIGFkb3JubWVudFBvc2l0aW9uOiBvbmVPZihbJ3N0YXJ0JywgJ2VuZCddKSxcbiAgICBvbkVycm9yOiBmdW5jLFxuICAgIG9uSW5wdXRDaGFuZ2U6IGZ1bmMsXG4gICAgcGlwZTogZnVuYyxcbiAgICBrZWVwQ2hhclBvc2l0aW9uczogYm9vbFxuICB9IDogdm9pZCAwO1xuICBEYXRlVGV4dEZpZWxkLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgaW52YWxpZExhYmVsOiAnVW5rbm93bicsXG4gICAgZW1wdHlMYWJlbDogJycsXG4gICAgdmFsdWU6IG5ldyBEYXRlKCksXG4gICAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gICAgZm9ybWF0OiB1bmRlZmluZWQsXG4gICAgSW5wdXRQcm9wczogdW5kZWZpbmVkLFxuICAgIGtleWJvYXJkOiBmYWxzZSxcbiAgICBtYXNrOiB1bmRlZmluZWQsXG4gICAga2V5Ym9hcmRJY29uOiAnZXZlbnQnLFxuICAgIGRpc2FibGVPcGVuT25FbnRlcjogZmFsc2UsXG4gICAgaW52YWxpZERhdGVNZXNzYWdlOiAnSW52YWxpZCBEYXRlIEZvcm1hdCcsXG4gICAgY2xlYXJhYmxlOiBmYWxzZSxcbiAgICBvbkJsdXI6IHVuZGVmaW5lZCxcbiAgICBvbkNsZWFyOiB1bmRlZmluZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICAgIG9uRXJyb3I6IHVuZGVmaW5lZCxcbiAgICBvbklucHV0Q2hhbmdlOiB1bmRlZmluZWQsXG4gICAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICAgIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgICBtaW5EYXRlTWVzc2FnZTogJ0RhdGUgc2hvdWxkIG5vdCBiZSBiZWZvcmUgbWluaW1hbCBkYXRlJyxcbiAgICBtYXhEYXRlTWVzc2FnZTogJ0RhdGUgc2hvdWxkIG5vdCBiZSBhZnRlciBtYXhpbWFsIGRhdGUnLFxuICAgIFRleHRGaWVsZENvbXBvbmVudDogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19tYXRlcmlhbF91aV9jb3JlX1RleHRGaWVsZF9fX2RlZmF1bHQuYSxcbiAgICBJbnB1dEFkb3JubWVudFByb3BzOiB7fSxcbiAgICBhZG9ybm1lbnRQb3NpdGlvbjogJ2VuZCcsXG4gICAgcGlwZTogdW5kZWZpbmVkLFxuICAgIGtlZXBDaGFyUG9zaXRpb25zOiBmYWxzZVxuICB9O1xuXG4gIERhdGVUZXh0RmllbGQudXBkYXRlU3RhdGUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgZGlzcGxheVZhbHVlOiBnZXREaXNwbGF5RGF0ZShwcm9wcyksXG4gICAgICBlcnJvcjogZ2V0RXJyb3IocHJvcHMudXRpbHMuZGF0ZShwcm9wcy52YWx1ZSksIHByb3BzKVxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIERhdGVUZXh0RmllbGQ7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7XG5cbnZhciBEYXRlVGV4dEZpZWxkJDEgPSB3aXRoVXRpbHMoKShEYXRlVGV4dEZpZWxkKTtcblxudmFyIE1vZGFsRGlhbG9nID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBvbktleURvd24gPSBfYS5vbktleURvd24sXG4gICAgICBvbkFjY2VwdCA9IF9hLm9uQWNjZXB0LFxuICAgICAgb25EaXNtaXNzID0gX2Eub25EaXNtaXNzLFxuICAgICAgb25DbGVhciA9IF9hLm9uQ2xlYXIsXG4gICAgICBvblNldFRvZGF5ID0gX2Eub25TZXRUb2RheSxcbiAgICAgIG9rTGFiZWwgPSBfYS5va0xhYmVsLFxuICAgICAgY2FuY2VsTGFiZWwgPSBfYS5jYW5jZWxMYWJlbCxcbiAgICAgIGNsZWFyTGFiZWwgPSBfYS5jbGVhckxhYmVsLFxuICAgICAgdG9kYXlMYWJlbCA9IF9hLnRvZGF5TGFiZWwsXG4gICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICBzaG93VG9kYXlCdXR0b24gPSBfYS5zaG93VG9kYXlCdXR0b24sXG4gICAgICBzaG93VGFicyA9IF9hLnNob3dUYWJzLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3Nlc1wiLCBcIm9uS2V5RG93blwiLCBcIm9uQWNjZXB0XCIsIFwib25EaXNtaXNzXCIsIFwib25DbGVhclwiLCBcIm9uU2V0VG9kYXlcIiwgXCJva0xhYmVsXCIsIFwiY2FuY2VsTGFiZWxcIiwgXCJjbGVhckxhYmVsXCIsIFwidG9kYXlMYWJlbFwiLCBcImNsZWFyYWJsZVwiLCBcInNob3dUb2RheUJ1dHRvblwiLCBcInNob3dUYWJzXCJdKTtcblxuICB2YXIgX2IsIF9jLCBfZDtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fX2RlZmF1bHQuYSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgIHJvbGU6IFwiZGlhbG9nXCIsXG4gICAgb25DbG9zZTogb25EaXNtaXNzLFxuICAgIGNsYXNzZXM6IHtcbiAgICAgIHBhcGVyOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy5kaWFsb2dSb290LCAoX2IgPSB7fSwgX2JbY2xhc3Nlcy5kaWFsb2dXaXRoVGFic10gPSBzaG93VGFicywgX2IpKVxuICAgIH1cbiAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX19fZGVmYXVsdC5hLCB7XG4gICAgdGFyZ2V0OiBcIndpbmRvd1wiLFxuICAgIG9uS2V5RG93bjogb25LZXlEb3duXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfX19kZWZhdWx0LmEsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy5kaWFsb2csIChfYyA9IHt9LCBfY1tjbGFzc2VzLmRpYWxvZ1dpdGhUYWJzXSA9IHNob3dUYWJzLCBfYykpXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfX19kZWZhdWx0LmEsIHtcbiAgICBjbGFzc2VzOiB7XG4gICAgICByb290OiBjbGVhcmFibGUgfHwgc2hvd1RvZGF5QnV0dG9uID8gY2xhc3Nlcy5kaWFsb2dBY3Rpb25zIDogdW5kZWZpbmVkLFxuICAgICAgYWN0aW9uOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy5kaWFsb2dBY3Rpb24sIChfZCA9IHt9LCBfZFtjbGFzc2VzLmNsZWFyYWJsZURpYWxvZ0FjdGlvbl0gPSBjbGVhcmFibGUsIF9kW2NsYXNzZXMudG9kYXlEaWFsb2dBY3Rpb25dID0gIWNsZWFyYWJsZSAmJiBzaG93VG9kYXlCdXR0b24sIF9kKSlcbiAgICB9XG4gIH0sIGNsZWFyYWJsZSAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX21hdGVyaWFsX3VpX2NvcmVfQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uQ2xlYXJcbiAgfSwgY2xlYXJMYWJlbCksICFjbGVhcmFibGUgJiYgc2hvd1RvZGF5QnV0dG9uICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fX19kZWZhdWx0LmEsIHtcbiAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgb25DbGljazogb25TZXRUb2RheVxuICB9LCB0b2RheUxhYmVsKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fX2RlZmF1bHQuYSwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkRpc21pc3NcbiAgfSwgY2FuY2VsTGFiZWwpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX21hdGVyaWFsX3VpX2NvcmVfQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uQWNjZXB0XG4gIH0sIG9rTGFiZWwpKSk7XG59O1xuTW9kYWxEaWFsb2cuZGlzcGxheU5hbWUgPSAnTW9kYWxEaWFsb2cnO1xuIGZhbHNlID8gTW9kYWxEaWFsb2cucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICBvbktleURvd246IGZ1bmMuaXNSZXF1aXJlZCxcbiAgb25BY2NlcHQ6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgb25EaXNtaXNzOiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uQ2xlYXI6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIG9rTGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2FuY2VsTGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xlYXJMYWJlbDogbm9kZS5pc1JlcXVpcmVkLFxuICBjbGVhcmFibGU6IGJvb2wuaXNSZXF1aXJlZCxcbiAgdG9kYXlMYWJlbDogbm9kZS5pc1JlcXVpcmVkLFxuICBzaG93VG9kYXlCdXR0b246IGJvb2wuaXNSZXF1aXJlZCxcbiAgb25TZXRUb2RheTogZnVuYy5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xudmFyIGRpYWxvZ1dpZHRoID0gMzEwO1xudmFyIGRpYWxvZ0hlaWdodCA9IDQwNTtcbnZhciBkaWFsb2dIZWlnaHRXaXRoVGFicyA9IDQ1NTtcbnZhciBzdHlsZXMgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfX1tcImNyZWF0ZVN0eWxlc1wiXSkoe1xuICBkaWFsb2dSb290OiB7XG4gICAgbWluV2lkdGg6IGRpYWxvZ1dpZHRoLFxuICAgIG1pbkhlaWdodDogZGlhbG9nSGVpZ2h0XG4gIH0sXG4gIGRpYWxvZzoge1xuICAgIHdpZHRoOiBkaWFsb2dXaWR0aCxcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodCxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgJyY6Zmlyc3QtY2hpbGQnOiB7XG4gICAgICBwYWRkaW5nOiAwXG4gICAgfVxuICB9LFxuICBkaWFsb2dXaXRoVGFiczoge1xuICAgIG1pbkhlaWdodDogZGlhbG9nSGVpZ2h0V2l0aFRhYnNcbiAgfSxcbiAgZGlhbG9nQWN0aW9uczoge1xuICAgIC8vIHNldCBqdXN0aWZ5Q29udGVudCB0byBkZWZhdWx0IHZhbHVlIHRvIGZpeCBJRTExIGxheW91dCBidWdcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2RtdHJLb3ZhbGVua28vbWF0ZXJpYWwtdWktcGlja2Vycy9wdWxsLzI2N1xuICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCdcbiAgfSxcbiAgY2xlYXJhYmxlRGlhbG9nQWN0aW9uOiB7XG4gICAgJyY6Zmlyc3QtY2hpbGQnOiB7XG4gICAgICBtYXJnaW5SaWdodDogJ2F1dG8nXG4gICAgfVxuICB9LFxuICB0b2RheURpYWxvZ0FjdGlvbjoge1xuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgbWFyZ2luUmlnaHQ6ICdhdXRvJ1xuICAgIH1cbiAgfSxcbiAgZGlhbG9nQWN0aW9uOiB7Ly8gZW1wdHkgYnV0IG1heSBiZSBuZWVkZWQgZm9yIG92ZXJyaWRlXG4gIH1cbn0pO1xudmFyIE1vZGFsRGlhbG9nJDEgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfX1tcIndpdGhTdHlsZXNcIl0pKHN0eWxlcywge1xuICBuYW1lOiAnTXVpUGlja2Vyc01vZGFsJ1xufSkoTW9kYWxEaWFsb2cpO1xuXG52YXIgTW9kYWxXcmFwcGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKE1vZGFsV3JhcHBlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBNb2RhbFdyYXBwZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW46IGZhbHNlXG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9rZXljb2RlX19fZGVmYXVsdCgpKGV2ZW50KSkge1xuICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgICAgX3RoaXMuaGFuZGxlQWNjZXB0KCk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGlmIGtleWNvZGUgaXMgbm90IGhhbmRsZWQsIHN0b3AgZXhlY3V0aW9uXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpZiBldmVudCB3YXMgaGFuZGxlZCBwcmV2ZW50IG90aGVyIHNpZGUgZWZmZWN0c1xuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVNldFRvZGF5RGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblNldFRvZGF5KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uU2V0VG9kYXkoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbk9wZW4pIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25PcGVuKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsb3NlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQWNjZXB0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQWNjZXB0KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQWNjZXB0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZURpc21pc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25EaXNtaXNzKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRGlzbWlzcygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlKCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsZWFyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2xlYXIoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTW9kYWxXcmFwcGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICAvLyBvbmx5IGlmIGFjY2VwdCA9IHRydWUgY2xvc2UgdGhlIGRpYWxvZ1xuICAgIGlmIChuZXh0UHJvcHMuaXNBY2NlcHRlZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgTW9kYWxXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICBvbkFjY2VwdCA9IF9hLm9uQWNjZXB0LFxuICAgICAgICBvbkRpc21pc3MgPSBfYS5vbkRpc21pc3MsXG4gICAgICAgIGludmFsaWRMYWJlbCA9IF9hLmludmFsaWRMYWJlbCxcbiAgICAgICAgbGFiZWxGdW5jID0gX2EubGFiZWxGdW5jLFxuICAgICAgICBva0xhYmVsID0gX2Eub2tMYWJlbCxcbiAgICAgICAgY2FuY2VsTGFiZWwgPSBfYS5jYW5jZWxMYWJlbCxcbiAgICAgICAgY2xlYXJMYWJlbCA9IF9hLmNsZWFyTGFiZWwsXG4gICAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgICAgdG9kYXlMYWJlbCA9IF9hLnRvZGF5TGFiZWwsXG4gICAgICAgIHNob3dUb2RheUJ1dHRvbiA9IF9hLnNob3dUb2RheUJ1dHRvbixcbiAgICAgICAgb25PcGVuID0gX2Eub25PcGVuLFxuICAgICAgICBvbkNsb3NlID0gX2Eub25DbG9zZSxcbiAgICAgICAgb25TZXRUb2RheSA9IF9hLm9uU2V0VG9kYXksXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBEaWFsb2dQcm9wcyA9IF9hLkRpYWxvZ1Byb3BzLFxuICAgICAgICBzaG93VGFicyA9IF9hLnNob3dUYWJzLFxuICAgICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShfYSwgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJjaGlsZHJlblwiLCBcIm9uQWNjZXB0XCIsIFwib25EaXNtaXNzXCIsIFwiaW52YWxpZExhYmVsXCIsIFwibGFiZWxGdW5jXCIsIFwib2tMYWJlbFwiLCBcImNhbmNlbExhYmVsXCIsIFwiY2xlYXJMYWJlbFwiLCBcImNsZWFyYWJsZVwiLCBcInRvZGF5TGFiZWxcIiwgXCJzaG93VG9kYXlCdXR0b25cIiwgXCJvbk9wZW5cIiwgXCJvbkNsb3NlXCIsIFwib25TZXRUb2RheVwiLCBcImlzQWNjZXB0ZWRcIiwgXCJEaWFsb2dQcm9wc1wiLCBcInNob3dUYWJzXCJdKTtcblxuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkZyYWdtZW50XCJdLCBudWxsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGV4dEZpZWxkJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgb25DbGljazogdGhpcy5vcGVuLFxuICAgICAgLy8gb25Gb2N1cz17dGhpcy50b2dnbGVQaWNrZXJ9IDwtIEN1cnJlbnRseSBub3QgcHJvcGVybHkgd29ya3Mgd2l0aCAuYmx1cigpIG9uIFRleHRGaWVsZFxuICAgICAgaW52YWxpZExhYmVsOiBpbnZhbGlkTGFiZWwsXG4gICAgICBsYWJlbEZ1bmM6IGxhYmVsRnVuYyxcbiAgICAgIGNsZWFyYWJsZTogY2xlYXJhYmxlXG4gICAgfSwgb3RoZXIpKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoTW9kYWxEaWFsb2ckMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgc2hvd1RhYnM6IHNob3dUYWJzLFxuICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuLFxuICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXG4gICAgICBvbkNsZWFyOiB0aGlzLmhhbmRsZUNsZWFyLFxuICAgICAgb25BY2NlcHQ6IHRoaXMuaGFuZGxlQWNjZXB0LFxuICAgICAgb25EaXNtaXNzOiB0aGlzLmhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiB0aGlzLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIGNsZWFyTGFiZWw6IGNsZWFyTGFiZWwsXG4gICAgICB0b2RheUxhYmVsOiB0b2RheUxhYmVsLFxuICAgICAgb2tMYWJlbDogb2tMYWJlbCxcbiAgICAgIGNhbmNlbExhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgIGNsZWFyYWJsZTogY2xlYXJhYmxlLFxuICAgICAgc2hvd1RvZGF5QnV0dG9uOiBzaG93VG9kYXlCdXR0b24sXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9LCBEaWFsb2dQcm9wcykpKTtcbiAgfTtcblxuICAgZmFsc2UgPyBNb2RhbFdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgIG9rTGFiZWw6IG5vZGUsXG4gICAgY2FuY2VsTGFiZWw6IG5vZGUsXG4gICAgY2xlYXJMYWJlbDogbm9kZSxcbiAgICBjbGVhcmFibGU6IGJvb2wsXG4gICAgdG9kYXlMYWJlbDogc3RyaW5nLFxuICAgIHNob3dUb2RheUJ1dHRvbjogYm9vbCxcbiAgICBvbk9wZW46IGZ1bmMsXG4gICAgZm9ybWF0OiBzdHJpbmcsXG4gICAgRGlhbG9nUHJvcHM6IG9iamVjdCxcbiAgICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgaW52YWxpZExhYmVsOiBub2RlLFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBvbkNsb3NlOiBmdW5jLFxuICAgIG9uQWNjZXB0OiBmdW5jLFxuICAgIG9uRGlzbWlzczogZnVuYyxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIG9uU2V0VG9kYXk6IGZ1bmMsXG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBpc0FjY2VwdGVkOiBib29sLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgTW9kYWxXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpbnZhbGlkTGFiZWw6IHVuZGVmaW5lZCxcbiAgICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgICBva0xhYmVsOiAnT0snLFxuICAgIGNhbmNlbExhYmVsOiAnQ2FuY2VsJyxcbiAgICBjbGVhckxhYmVsOiAnQ2xlYXInLFxuICAgIHRvZGF5TGFiZWw6ICdUb2RheScsXG4gICAgY2xlYXJhYmxlOiBmYWxzZSxcbiAgICBzaG93VG9kYXlCdXR0b246IGZhbHNlLFxuICAgIGZvcm1hdDogdW5kZWZpbmVkLFxuICAgIG9uQWNjZXB0OiB1bmRlZmluZWQsXG4gICAgb25EaXNtaXNzOiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIG9uT3BlbjogdW5kZWZpbmVkLFxuICAgIG9uQ2xvc2U6IHVuZGVmaW5lZCxcbiAgICBvblNldFRvZGF5OiB1bmRlZmluZWQsXG4gICAgRGlhbG9nUHJvcHM6IHVuZGVmaW5lZCxcbiAgICBpc0FjY2VwdGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gTW9kYWxXcmFwcGVyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xuXG52YXIgUGlja2VyVG9vbGJhciA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiY2xhc3Nlc1wiXSk7XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fX2RlZmF1bHQuYSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgIGNsYXNzTmFtZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMudG9vbGJhciwgY2xhc3NOYW1lKVxuICB9LCBvdGhlciksIGNoaWxkcmVuKTtcbn07XG5cbiBmYWxzZSA/IFBpY2tlclRvb2xiYXIucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogYXJyYXlPZihub2RlKS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgY2xhc3NlczogYW55LmlzUmVxdWlyZWQsXG4gIGlubmVyUmVmOiBhbnlcbn0gOiB2b2lkIDA7XG5QaWNrZXJUb29sYmFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiAnJ1xufTtcbnZhciBzdHlsZXMkMSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCgpKHtcbiAgICB0b29sYmFyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGhlaWdodDogMTAwLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiA6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZFtcImRlZmF1bHRcIl1cbiAgICB9XG4gIH0pO1xufTtcbnZhciBQaWNrZXJUb29sYmFyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQxLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzVG9vbGJhcidcbn0pKFBpY2tlclRvb2xiYXIpO1xuXG52YXIgVG9vbGJhckJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBzZWxlY3RlZCA9IF9hLnNlbGVjdGVkLFxuICAgICAgbGFiZWwgPSBfYS5sYWJlbCxcbiAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJjbGFzc2VzXCIsIFwic2VsZWN0ZWRcIiwgXCJsYWJlbFwiLCBcImNsYXNzTmFtZVwiXSk7XG5cbiAgdmFyIF9iO1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnRvb2xiYXJCdG4sIGNsYXNzTmFtZSwgKF9iID0ge30sIF9iW2NsYXNzZXMudG9vbGJhckJ0blNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYikpXG4gIH0sIG90aGVyKSwgbGFiZWwpO1xufTtcblxuIGZhbHNlID8gVG9vbGJhckJ1dHRvbi5wcm9wVHlwZXMgPSB7XG4gIHNlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gIGxhYmVsOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgY2xhc3NlczogYW55LmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuVG9vbGJhckJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJydcbn07XG52YXIgc3R5bGVzJDIgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0b29sYmFyQnRuOiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjU0KSdcbiAgICB9LFxuICAgIHRvb2xiYXJCdG5TZWxlY3RlZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlXG4gICAgfVxuICB9O1xufTtcbnZhciBUb29sYmFyQnV0dG9uJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQyLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzVG9vbGJhckJ1dHRvbidcbn0pKFRvb2xiYXJCdXR0b24pO1xuXG52YXIgZmluZENsb3Nlc3RFbmFibGVkRGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX2Euc2hvdWxkRGlzYWJsZURhdGU7XG4gIHZhciB0b2RheSA9IHV0aWxzLnN0YXJ0T2ZEYXkodXRpbHMuZGF0ZSgpKTtcbiAgbWluRGF0ZSA9IG1pbkRhdGUgJiYgdXRpbHMuZGF0ZShtaW5EYXRlKTtcbiAgbWF4RGF0ZSA9IG1heERhdGUgJiYgdXRpbHMuZGF0ZShtYXhEYXRlKTtcblxuICBpZiAoZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNCZWZvcmUobWluRGF0ZSwgdG9kYXkpKSB7XG4gICAgbWluRGF0ZSA9IHRvZGF5O1xuICB9XG5cbiAgaWYgKGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNBZnRlcihtYXhEYXRlLCB0b2RheSkpIHtcbiAgICBtYXhEYXRlID0gdG9kYXk7XG4gIH1cblxuICB2YXIgZm9yd2FyZCA9IHV0aWxzLmRhdGUoZGF0ZSk7XG4gIHZhciBiYWNrd2FyZCA9IHV0aWxzLmRhdGUoZGF0ZSk7XG5cbiAgaWYgKHV0aWxzLmlzQmVmb3JlKGRhdGUsIG1pbkRhdGUpKSB7XG4gICAgZm9yd2FyZCA9IG1pbkRhdGU7XG4gICAgYmFja3dhcmQgPSBudWxsO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzQWZ0ZXIoZGF0ZSwgbWF4RGF0ZSkpIHtcbiAgICBpZiAoYmFja3dhcmQpIHtcbiAgICAgIGJhY2t3YXJkID0gbWF4RGF0ZTtcbiAgICB9XG5cbiAgICBmb3J3YXJkID0gbnVsbDtcbiAgfVxuXG4gIHdoaWxlIChmb3J3YXJkIHx8IGJhY2t3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQgJiYgdXRpbHMuaXNBZnRlcihmb3J3YXJkLCBtYXhEYXRlKSkge1xuICAgICAgZm9yd2FyZCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGJhY2t3YXJkICYmIHV0aWxzLmlzQmVmb3JlKGJhY2t3YXJkLCBtaW5EYXRlKSkge1xuICAgICAgYmFja3dhcmQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICBpZiAoIXNob3VsZERpc2FibGVEYXRlKGZvcndhcmQpKSB7XG4gICAgICAgIHJldHVybiBmb3J3YXJkO1xuICAgICAgfVxuXG4gICAgICBmb3J3YXJkID0gdXRpbHMuYWRkRGF5cyhmb3J3YXJkLCAxKTtcbiAgICB9XG5cbiAgICBpZiAoYmFja3dhcmQpIHtcbiAgICAgIGlmICghc2hvdWxkRGlzYWJsZURhdGUoYmFja3dhcmQpKSB7XG4gICAgICAgIHJldHVybiBiYWNrd2FyZDtcbiAgICAgIH1cblxuICAgICAgYmFja3dhcmQgPSB1dGlscy5hZGREYXlzKGJhY2t3YXJkLCAtMSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgYW5pbWF0aW9uRHVyYXRpb24gPSAzNTA7XG5cbnZhciBTbGlkZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgIHRyYW5zS2V5ID0gX2EudHJhbnNLZXksXG4gICAgICBzbGlkZURpcmVjdGlvbiA9IF9hLnNsaWRlRGlyZWN0aW9uO1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9yZWFjdF90cmFuc2l0aW9uX2dyb3VwX19bXCJUcmFuc2l0aW9uR3JvdXBcIl0sIHtcbiAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnRyYW5zaXRpb25Db250YWluZXIsIGNsYXNzTmFtZSlcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9yZWFjdF90cmFuc2l0aW9uX2dyb3VwX19bXCJDU1NUcmFuc2l0aW9uXCJdLCB7XG4gICAga2V5OiB0cmFuc0tleSxcbiAgICBtb3VudE9uRW50ZXI6IHRydWUsXG4gICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICB0aW1lb3V0OiBhbmltYXRpb25EdXJhdGlvbixcbiAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lczoge1xuICAgICAgZW50ZXI6IGNsYXNzZXNbXCJzbGlkZUVudGVyLVwiICsgc2xpZGVEaXJlY3Rpb25dLFxuICAgICAgZW50ZXJBY3RpdmU6IGNsYXNzZXMuc2xpZGVFbnRlckFjdGl2ZSxcbiAgICAgIGV4aXQ6IGNsYXNzZXMuc2xpZGVFeGl0LFxuICAgICAgZXhpdEFjdGl2ZTogY2xhc3Nlc1tcInNsaWRlRXhpdEFjdGl2ZUxlZnQtXCIgKyBzbGlkZURpcmVjdGlvbl1cbiAgICB9XG4gIH0pKTtcbn07XG5cbiBmYWxzZSA/IFNsaWRlVHJhbnNpdGlvbi5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzZXM6IHNoYXBlKHt9KS5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgc2xpZGVEaXJlY3Rpb246IG9uZU9mKFsnbGVmdCcsICdyaWdodCddKS5pc1JlcXVpcmVkLFxuICB0cmFuc0tleTogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGlubmVyUmVmOiBhbnlcbn0gOiB2b2lkIDA7XG5TbGlkZVRyYW5zaXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6IHVuZGVmaW5lZFxufTtcbnZhciBzdHlsZXMkMyA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICB2YXIgc2xpZGVUcmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCd0cmFuc2Zvcm0nLCB7XG4gICAgZHVyYXRpb246IGFuaW1hdGlvbkR1cmF0aW9uLFxuICAgIGVhc2luZzogJ2N1YmljLWJlemllcigwLjM1LCAwLjgsIDAuNCwgMSknXG4gIH0pO1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCgpKHtcbiAgICB0cmFuc2l0aW9uQ29udGFpbmVyOiB7XG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAnJiA+IConOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBsZWZ0OiAwXG4gICAgICB9XG4gICAgfSxcbiAgICAnc2xpZGVFbnRlci1sZWZ0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMTAwJSknXG4gICAgfSxcbiAgICAnc2xpZGVFbnRlci1yaWdodCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0xMDAlKSdcbiAgICB9LFxuICAgIHNsaWRlRW50ZXJBY3RpdmU6IHtcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwJSknLFxuICAgICAgdHJhbnNpdGlvbjogc2xpZGVUcmFuc2l0aW9uXG4gICAgfSxcbiAgICBzbGlkZUV4aXQ6IHtcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwJSknXG4gICAgfSxcbiAgICAnc2xpZGVFeGl0QWN0aXZlTGVmdC1sZWZ0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTIwMCUpJyxcbiAgICAgIHRyYW5zaXRpb246IHNsaWRlVHJhbnNpdGlvblxuICAgIH0sXG4gICAgJ3NsaWRlRXhpdEFjdGl2ZUxlZnQtcmlnaHQnOiB7XG4gICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgyMDAlKScsXG4gICAgICB0cmFuc2l0aW9uOiBzbGlkZVRyYW5zaXRpb25cbiAgICB9XG4gIH0pO1xufTtcbnZhciBTbGlkZVRyYW5zaXRpb24kMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJDMsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNTbGlkZVRyYW5zaXRpb24nXG59KShTbGlkZVRyYW5zaXRpb24pO1xuXG52YXIgQ2FsZW5kYXJIZWFkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgdGhlbWUgPSBfYS50aGVtZSxcbiAgICAgIGN1cnJlbnRNb250aCA9IF9hLmN1cnJlbnRNb250aCxcbiAgICAgIG9uTW9udGhDaGFuZ2UgPSBfYS5vbk1vbnRoQ2hhbmdlLFxuICAgICAgbGVmdEFycm93SWNvbiA9IF9hLmxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbiA9IF9hLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgZGlzYWJsZVByZXZNb250aCA9IF9hLmRpc2FibGVQcmV2TW9udGgsXG4gICAgICBkaXNhYmxlTmV4dE1vbnRoID0gX2EuZGlzYWJsZU5leHRNb250aCxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBzbGlkZURpcmVjdGlvbiA9IF9hLnNsaWRlRGlyZWN0aW9uO1xuICB2YXIgcnRsID0gdGhlbWUuZGlyZWN0aW9uID09PSAncnRsJztcblxuICB2YXIgc2VsZWN0TmV4dE1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBvbk1vbnRoQ2hhbmdlKHV0aWxzLmdldE5leHRNb250aChjdXJyZW50TW9udGgpLCAnbGVmdCcpO1xuICB9O1xuXG4gIHZhciBzZWxlY3RQcmV2aW91c01vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBvbk1vbnRoQ2hhbmdlKHV0aWxzLmdldFByZXZpb3VzTW9udGgoY3VycmVudE1vbnRoKSwgJ3JpZ2h0Jyk7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3dpdGNoSGVhZGVyXG4gIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgZGlzYWJsZWQ6IGRpc2FibGVQcmV2TW9udGgsXG4gICAgb25DbGljazogc2VsZWN0UHJldmlvdXNNb250aCxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbkJ1dHRvblxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fX2RlZmF1bHQuYSwgbnVsbCwgcnRsID8gcmlnaHRBcnJvd0ljb24gOiBsZWZ0QXJyb3dJY29uKSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFNsaWRlVHJhbnNpdGlvbiQxLCB7XG4gICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uLFxuICAgIHRyYW5zS2V5OiBjdXJyZW50TW9udGgudG9TdHJpbmcoKSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNpdGlvbkNvbnRhaW5lclxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0LmEsIHtcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICB2YXJpYW50OiBcImJvZHkxXCJcbiAgfSwgdXRpbHMuZ2V0Q2FsZW5kYXJIZWFkZXJUZXh0KGN1cnJlbnRNb250aCkpKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19tYXRlcmlhbF91aV9jb3JlX0ljb25CdXR0b25fX19kZWZhdWx0LmEsIHtcbiAgICBkaXNhYmxlZDogZGlzYWJsZU5leHRNb250aCxcbiAgICBvbkNsaWNrOiBzZWxlY3ROZXh0TW9udGgsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmljb25CdXR0b25cbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0LmEsIG51bGwsIHJ0bCA/IGxlZnRBcnJvd0ljb24gOiByaWdodEFycm93SWNvbikpKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kYXlzSGVhZGVyXG4gIH0sIHV0aWxzLmdldFdlZWtkYXlzKCkubWFwKGZ1bmN0aW9uIChkYXksIGluZGV4KSB7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fX2RlZmF1bHQuYSwge1xuICAgICAga2V5OiBpbmRleCxcbiAgICAgIHZhcmlhbnQ6IFwiY2FwdGlvblwiLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmRheUxhYmVsXG4gICAgfSwgZGF5KTtcbiAgfSkpKTtcbn07XG4gZmFsc2UgPyBDYWxlbmRhckhlYWRlci5wcm9wVHlwZXMgPSB7XG4gIGN1cnJlbnRNb250aDogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIG9uTW9udGhDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIHRoZW1lOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gIGRpc2FibGVQcmV2TW9udGg6IGJvb2wsXG4gIGRpc2FibGVOZXh0TW9udGg6IGJvb2wsXG4gIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgc2xpZGVEaXJlY3Rpb246IG9uZU9mKFsncmlnaHQnLCAnbGVmdCddKS5pc1JlcXVpcmVkLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuQ2FsZW5kYXJIZWFkZXIuZGVmYXVsdFByb3BzID0ge1xuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICBkaXNhYmxlUHJldk1vbnRoOiBmYWxzZSxcbiAgZGlzYWJsZU5leHRNb250aDogZmFsc2Vcbn07XG52YXIgc3R5bGVzJDQgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgc3dpdGNoSGVhZGVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcudW5pdCAvIDIsXG4gICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcudW5pdFxuICAgIH0sXG4gICAgdHJhbnNpdGlvbkNvbnRhaW5lcjoge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogMjBcbiAgICB9LFxuICAgIGljb25CdXR0b246IHtcbiAgICAgIHpJbmRleDogMixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLnBhcGVyLFxuICAgICAgJyYgPiAqJzoge1xuICAgICAgICAvLyBsYWJlbFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcixcbiAgICAgICAgJyYgPiAqJzoge1xuICAgICAgICAgIC8vIGljb25cbiAgICAgICAgICB6SW5kZXg6IDEsXG4gICAgICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkYXlzSGVhZGVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIG1heEhlaWdodDogMTZcbiAgICB9LFxuICAgIGRheUxhYmVsOiB7XG4gICAgICB3aWR0aDogMzYsXG4gICAgICBtYXJnaW46ICcwIDJweCcsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2FsZW5kYXJIZWFkZXIkMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJDQsIHtcbiAgd2l0aFRoZW1lOiB0cnVlLFxuICBuYW1lOiAnTXVpUGlja2Vyc0NhbGVuZGFySGVhZGVyJ1xufSkod2l0aFV0aWxzKCkoQ2FsZW5kYXJIZWFkZXIpKTtcblxudmFyIERheSA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShEYXksIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF5KCkge1xuICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIERheS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX2IuY2hpbGRyZW4sXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBkaXNhYmxlZCA9IF9iLmRpc2FibGVkLFxuICAgICAgICBoaWRkZW4gPSBfYi5oaWRkZW4sXG4gICAgICAgIGN1cnJlbnQgPSBfYi5jdXJyZW50LFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShfYiwgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc2VzXCIsIFwiZGlzYWJsZWRcIiwgXCJoaWRkZW5cIiwgXCJjdXJyZW50XCIsIFwic2VsZWN0ZWRcIl0pO1xuXG4gICAgdmFyIGNsYXNzTmFtZSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLmRheSwgKF9hID0ge30sIF9hW2NsYXNzZXMuaGlkZGVuXSA9IGhpZGRlbiwgX2FbY2xhc3Nlcy5jdXJyZW50XSA9IGN1cnJlbnQsIF9hW2NsYXNzZXMuc2VsZWN0ZWRdID0gc2VsZWN0ZWQsIF9hW2NsYXNzZXMuZGlzYWJsZWRdID0gZGlzYWJsZWQsIF9hKSk7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX19fZGVmYXVsdC5hLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHRhYkluZGV4OiBoaWRkZW4gfHwgZGlzYWJsZWQgPyAtMSA6IDBcbiAgICB9LCBvdGhlciksIGNoaWxkcmVuKTtcbiAgfTtcblxuICAgZmFsc2UgPyBEYXkucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY3VycmVudDogYm9vbCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBoaWRkZW46IGJvb2wsXG4gICAgc2VsZWN0ZWQ6IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBEYXkuZGVmYXVsdFByb3BzID0ge1xuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBoaWRkZW46IGZhbHNlLFxuICAgIGN1cnJlbnQ6IGZhbHNlLFxuICAgIHNlbGVjdGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gRGF5O1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xuXG52YXIgc3R5bGVzJDUgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgZGF5OiB7XG4gICAgICB3aWR0aDogMzYsXG4gICAgICBoZWlnaHQ6IDM2LFxuICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkuY2FwdGlvbi5mb250U2l6ZSxcbiAgICAgIG1hcmdpbjogJzAgMnB4JyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bSxcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9LFxuICAgIGhpZGRlbjoge1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICAgIH0sXG4gICAgY3VycmVudDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgZm9udFdlaWdodDogNjAwXG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bSxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICB9XG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfVxuICB9KTtcbn07XG52YXIgRGF5JDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ1LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzRGF5J1xufSkoRGF5KTtcblxudmFyIERheVdyYXBwZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoRGF5V3JhcHBlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXlXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vblNlbGVjdChfdGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIERheVdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBkYXlJbkN1cnJlbnRNb250aCA9IF9hLmRheUluQ3VycmVudE1vbnRoLFxuICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICBvblNlbGVjdCA9IF9hLm9uU2VsZWN0LFxuICAgICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShfYSwgW1wiY2hpbGRyZW5cIiwgXCJ2YWx1ZVwiLCBcImRheUluQ3VycmVudE1vbnRoXCIsIFwiZGlzYWJsZWRcIiwgXCJvblNlbGVjdFwiXSk7XG5cbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgb25DbGljazogZGF5SW5DdXJyZW50TW9udGggJiYgIWRpc2FibGVkID8gdGhpcy5oYW5kbGVDbGljayA6IHVuZGVmaW5lZCxcbiAgICAgIG9uS2V5UHJlc3M6IGRheUluQ3VycmVudE1vbnRoICYmICFkaXNhYmxlZCA/IHRoaXMuaGFuZGxlQ2xpY2sgOiB1bmRlZmluZWQsXG4gICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiXG4gICAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG4gIH07XG5cbiAgIGZhbHNlID8gRGF5V3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBkYXlJbkN1cnJlbnRNb250aDogYm9vbCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBvblNlbGVjdDogZnVuYy5pc1JlcXVpcmVkLFxuICAgIHZhbHVlOiBhbnkuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuICBEYXlXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkYXlJbkN1cnJlbnRNb250aDogdHJ1ZSxcbiAgICBkaXNhYmxlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIERheVdyYXBwZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7XG5cbnZhciBDYWxlbmRhciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShDYWxlbmRhciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDYWxlbmRhcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc2xpZGVEaXJlY3Rpb246ICdsZWZ0JyxcbiAgICAgIGN1cnJlbnRNb250aDogX3RoaXMucHJvcHMudXRpbHMuZ2V0U3RhcnRPZk1vbnRoKF90aGlzLnByb3BzLmRhdGUpXG4gICAgfTtcblxuICAgIF90aGlzLm9uRGF0ZVNlbGVjdCA9IGZ1bmN0aW9uIChkYXksIGlzRmluaXNoKSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHV0aWxzLm1lcmdlRGF0ZUFuZFRpbWUoZGF5LCBkYXRlKSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2VNb250aCA9IGZ1bmN0aW9uIChuZXdNb250aCwgc2xpZGVEaXJlY3Rpb24pIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY3VycmVudE1vbnRoOiBuZXdNb250aCxcbiAgICAgICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMudmFsaWRhdGVNaW5NYXhEYXRlID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHJldHVybiBtaW5EYXRlICYmIHV0aWxzLmlzQmVmb3JlRGF5KGRheSwgdXRpbHMuZGF0ZShtaW5EYXRlKSkgfHwgbWF4RGF0ZSAmJiB1dGlscy5pc0FmdGVyRGF5KGRheSwgdXRpbHMuZGF0ZShtYXhEYXRlKSk7XG4gICAgfTtcblxuICAgIF90aGlzLnNob3VsZERpc2FibGVQcmV2TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGU7XG4gICAgICB2YXIgbm93ID0gdXRpbHMuZGF0ZSgpO1xuICAgICAgcmV0dXJuICF1dGlscy5pc0JlZm9yZSh1dGlscy5nZXRTdGFydE9mTW9udGgoZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNBZnRlcihub3csIG1pbkRhdGUpID8gbm93IDogdXRpbHMuZGF0ZShtaW5EYXRlKSksIF90aGlzLnN0YXRlLmN1cnJlbnRNb250aCk7XG4gICAgfTtcblxuICAgIF90aGlzLnNob3VsZERpc2FibGVOZXh0TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiAhdXRpbHMuaXNBZnRlcih1dGlscy5nZXRTdGFydE9mTW9udGgoZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0JlZm9yZShub3csIG1heERhdGUpID8gbm93IDogdXRpbHMuZGF0ZShtYXhEYXRlKSksIF90aGlzLnN0YXRlLmN1cnJlbnRNb250aCk7XG4gICAgfTtcblxuICAgIF90aGlzLnNob3VsZERpc2FibGVEYXRlID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9hLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICByZXR1cm4gQm9vbGVhbihkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXJEYXkoZGF5LCB1dGlscy5kYXRlKCkpIHx8IGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlRGF5KGRheSwgdXRpbHMuZGF0ZSgpKSB8fCBfdGhpcy52YWxpZGF0ZU1pbk1heERhdGUoZGF5KSB8fCBzaG91bGREaXNhYmxlRGF0ZSAmJiBzaG91bGREaXNhYmxlRGF0ZShkYXkpKTtcbiAgICB9O1xuXG4gICAgX3RoaXMubW92ZVRvRGF5ID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgaWYgKGRheSAmJiAhX3RoaXMuc2hvdWxkRGlzYWJsZURhdGUoZGF5KSkge1xuICAgICAgICBfdGhpcy5vbkRhdGVTZWxlY3QoZGF5LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHRoZW1lID0gX2EudGhlbWUsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcblxuICAgICAgc3dpdGNoIChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfX19kZWZhdWx0KCkoZXZlbnQpKSB7XG4gICAgICAgIGNhc2UgJ3VwJzpcbiAgICAgICAgICBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAtNykpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZG93bic6XG4gICAgICAgICAgX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgNykpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgdGhlbWUuZGlyZWN0aW9uID09PSAnbHRyJyA/IF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIC0xKSkgOiBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAxKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgIHRoZW1lLmRpcmVjdGlvbiA9PT0gJ2x0cicgPyBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAxKSkgOiBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAtMSkpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gaWYga2V5Y29kZSBpcyBub3QgaGFuZGxlZCwgc3RvcCBleGVjdXRpb25cbiAgICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGlmIGV2ZW50IHdhcyBoYW5kbGVkIHByZXZlbnQgb3RoZXIgc2lkZSBlZmZlY3RzIChlLmcuIHBhZ2Ugc2Nyb2xsKVxuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIF90aGlzLnJlbmRlcldlZWtzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHV0aWxzID0gX3RoaXMucHJvcHMudXRpbHM7XG4gICAgICB2YXIgY3VycmVudE1vbnRoID0gX3RoaXMuc3RhdGUuY3VycmVudE1vbnRoO1xuICAgICAgdmFyIHdlZWtzID0gdXRpbHMuZ2V0V2Vla0FycmF5KGN1cnJlbnRNb250aCk7XG4gICAgICByZXR1cm4gd2Vla3MubWFwKGZ1bmN0aW9uICh3ZWVrKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICAgICAga2V5OiBcIndlZWstXCIgKyB3ZWVrWzBdLnRvU3RyaW5nKCksXG4gICAgICAgICAgY2xhc3NOYW1lOiBfdGhpcy5wcm9wcy5jbGFzc2VzLndlZWtcbiAgICAgICAgfSwgX3RoaXMucmVuZGVyRGF5cyh3ZWVrKSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmVuZGVyRGF5cyA9IGZ1bmN0aW9uICh3ZWVrKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICByZW5kZXJEYXkgPSBfYS5yZW5kZXJEYXksXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciBzZWxlY3RlZERhdGUgPSB1dGlscy5zdGFydE9mRGF5KGRhdGUpO1xuICAgICAgdmFyIGN1cnJlbnRNb250aE51bWJlciA9IHV0aWxzLmdldE1vbnRoKF90aGlzLnN0YXRlLmN1cnJlbnRNb250aCk7XG4gICAgICB2YXIgbm93ID0gdXRpbHMuZGF0ZSgpO1xuICAgICAgcmV0dXJuIHdlZWsubWFwKGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgICAgdmFyIGRpc2FibGVkID0gX3RoaXMuc2hvdWxkRGlzYWJsZURhdGUoZGF5KTtcblxuICAgICAgICB2YXIgZGF5SW5DdXJyZW50TW9udGggPSB1dGlscy5nZXRNb250aChkYXkpID09PSBjdXJyZW50TW9udGhOdW1iZXI7XG4gICAgICAgIHZhciBkYXlDb21wb25lbnQgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXkkMSwge1xuICAgICAgICAgIGN1cnJlbnQ6IHV0aWxzLmlzU2FtZURheShkYXksIG5vdyksXG4gICAgICAgICAgaGlkZGVuOiAhZGF5SW5DdXJyZW50TW9udGgsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIHNlbGVjdGVkOiB1dGlscy5pc1NhbWVEYXkoc2VsZWN0ZWREYXRlLCBkYXkpXG4gICAgICAgIH0sIHV0aWxzLmdldERheVRleHQoZGF5KSk7XG5cbiAgICAgICAgaWYgKHJlbmRlckRheSkge1xuICAgICAgICAgIGRheUNvbXBvbmVudCA9IHJlbmRlckRheShkYXksIHNlbGVjdGVkRGF0ZSwgZGF5SW5DdXJyZW50TW9udGgsIGRheUNvbXBvbmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF5V3JhcHBlciwge1xuICAgICAgICAgIGtleTogZGF5LnRvU3RyaW5nKCksXG4gICAgICAgICAgdmFsdWU6IGRheSxcbiAgICAgICAgICBkYXlJbkN1cnJlbnRNb250aDogZGF5SW5DdXJyZW50TW9udGgsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIG9uU2VsZWN0OiBfdGhpcy5vbkRhdGVTZWxlY3RcbiAgICAgICAgfSwgZGF5Q29tcG9uZW50KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDYWxlbmRhci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBzdGF0ZSkge1xuICAgIGlmICghbmV4dFByb3BzLnV0aWxzLmlzRXF1YWwobmV4dFByb3BzLmRhdGUsIHN0YXRlLmxhc3REYXRlKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFzdERhdGU6IG5leHRQcm9wcy5kYXRlLFxuICAgICAgICBjdXJyZW50TW9udGg6IG5leHRQcm9wcy51dGlscy5nZXRTdGFydE9mTW9udGgobmV4dFByb3BzLmRhdGUpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIENhbGVuZGFyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0O1xuXG4gICAgaWYgKHRoaXMuc2hvdWxkRGlzYWJsZURhdGUoZGF0ZSkpIHtcbiAgICAgIHZhciBjbG9zZXN0RW5hYmxlZERhdGUgPSBmaW5kQ2xvc2VzdEVuYWJsZWREYXRlKHtcbiAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgdXRpbHM6IHV0aWxzLFxuICAgICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgICBkaXNhYmxlUGFzdDogQm9vbGVhbihkaXNhYmxlUGFzdCksXG4gICAgICAgIGRpc2FibGVGdXR1cmU6IEJvb2xlYW4oZGlzYWJsZVBhc3QpLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZTogdGhpcy5zaG91bGREaXNhYmxlRGF0ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLm9uRGF0ZVNlbGVjdChjbG9zZXN0RW5hYmxlZERhdGUgfHwgbWluRGF0ZSwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBDYWxlbmRhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGN1cnJlbnRNb250aCA9IF9hLmN1cnJlbnRNb250aCxcbiAgICAgICAgc2xpZGVEaXJlY3Rpb24gPSBfYS5zbGlkZURpcmVjdGlvbjtcbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBfYi5hbGxvd0tleWJvYXJkQ29udHJvbDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJGcmFnbWVudFwiXSwgbnVsbCwgYWxsb3dLZXlib2FyZENvbnRyb2wgJiYgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fX2RlZmF1bHQuYSwge1xuICAgICAgdGFyZ2V0OiBcIndpbmRvd1wiLFxuICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd25cbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2FsZW5kYXJIZWFkZXIkMSwge1xuICAgICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uLFxuICAgICAgY3VycmVudE1vbnRoOiBjdXJyZW50TW9udGgsXG4gICAgICBvbk1vbnRoQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZU1vbnRoLFxuICAgICAgbGVmdEFycm93SWNvbjogdGhpcy5wcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb246IHRoaXMucHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBkaXNhYmxlUHJldk1vbnRoOiB0aGlzLnNob3VsZERpc2FibGVQcmV2TW9udGgoKSxcbiAgICAgIGRpc2FibGVOZXh0TW9udGg6IHRoaXMuc2hvdWxkRGlzYWJsZU5leHRNb250aCgpXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFNsaWRlVHJhbnNpdGlvbiQxLCB7XG4gICAgICBzbGlkZURpcmVjdGlvbjogc2xpZGVEaXJlY3Rpb24sXG4gICAgICB0cmFuc0tleTogY3VycmVudE1vbnRoLnRvU3RyaW5nKCksXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNpdGlvbkNvbnRhaW5lclxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIC8vIEB0cy1pZ25vcmUgQXV0b2ZvY3VzIHJlcXVpcmVkIGZvciBnZXR0aW5nIHdvcmsga2V5Ym9hcmQgbmF2aWdhdGlvbiBmZWF0dXJlXG4gICAgICBhdXRvRm9jdXM6IHRydWVcbiAgICB9LCB0aGlzLnJlbmRlcldlZWtzKCkpKSk7XG4gIH07XG5cbiAgIGZhbHNlID8gQ2FsZW5kYXIucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICAgIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICAgIHJlbmRlckRheTogZnVuYyxcbiAgICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgQ2FsZW5kYXIuZGVmYXVsdFByb3BzID0ge1xuICAgIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICAgIGxlZnRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByaWdodEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBmYWxzZSxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIENhbGVuZGFyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJDYgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2l0aW9uQ29udGFpbmVyOiB7XG4gICAgICBtaW5IZWlnaHQ6IDM2ICogNixcbiAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZy51bml0ICogMS41XG4gICAgfSxcbiAgICB3ZWVrOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICB9XG4gIH07XG59O1xudmFyIENhbGVuZGFyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ2LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2FsZW5kYXInLFxuICB3aXRoVGhlbWU6IHRydWVcbn0pKHdpdGhVdGlscygpKENhbGVuZGFyKSk7XG5cbnZhciBZZWFyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKFllYXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gWWVhcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvcHMub25TZWxlY3QoX3RoaXMucHJvcHMudmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBZZWFyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIHNlbGVjdGVkID0gX2Iuc2VsZWN0ZWQsXG4gICAgICAgIGRpc2FibGVkID0gX2IuZGlzYWJsZWQsXG4gICAgICAgIHZhbHVlID0gX2IudmFsdWUsXG4gICAgICAgIGNoaWxkcmVuID0gX2IuY2hpbGRyZW4sXG4gICAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9iLCBbXCJjbGFzc2VzXCIsIFwic2VsZWN0ZWRcIiwgXCJkaXNhYmxlZFwiLCBcInZhbHVlXCIsIFwiY2hpbGRyZW5cIl0pO1xuXG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fX2RlZmF1bHQuYSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgIGNvbXBvbmVudDogXCJkaXZcIixcbiAgICAgIGNsYXNzTmFtZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMucm9vdCwgKF9hID0ge30sIF9hW2NsYXNzZXMuc2VsZWN0ZWRdID0gc2VsZWN0ZWQsIF9hW2NsYXNzZXMuZGlzYWJsZWRdID0gZGlzYWJsZWQsIF9hKSksXG4gICAgICB0YWJJbmRleDogZGlzYWJsZWQgPyAtMSA6IDAsXG4gICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrLFxuICAgICAgb25LZXlQcmVzczogdGhpcy5oYW5kbGVDbGljayxcbiAgICAgIGNvbG9yOiBzZWxlY3RlZCA/ICdwcmltYXJ5JyA6ICdkZWZhdWx0JyxcbiAgICAgIHZhcmlhbnQ6IHNlbGVjdGVkID8gJ2g1JyA6ICdzdWJ0aXRsZTEnXG4gICAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG4gIH07XG5cbiAgIGZhbHNlID8gWWVhci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBvblNlbGVjdDogZnVuYy5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkOiBib29sLFxuICAgIHZhbHVlOiBhbnkuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIFllYXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICBkaXNhYmxlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIFllYXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJDcgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgcm9vdDoge1xuICAgICAgaGVpZ2h0OiB0aGVtZS5zcGFjaW5nLnVuaXQgKiA1LFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgICcmOmZvY3VzJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bVxuICAgICAgfVxuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IHtcbiAgICAgIG1hcmdpbjogJzEwcHggMCcsXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW1cbiAgICB9LFxuICAgIGRpc2FibGVkOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LmhpbnRcbiAgICB9XG4gIH0pO1xufTtcbnZhciBZZWFyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ3LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzWWVhcidcbn0pKFllYXIpO1xuXG52YXIgWWVhclNlbGVjdGlvbiA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShZZWFyU2VsZWN0aW9uLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFllYXJTZWxlY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zZWxlY3RlZFllYXJSZWYgPSB1bmRlZmluZWQ7XG5cbiAgICBfdGhpcy5nZXRTZWxlY3RlZFllYXJSZWYgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICBfdGhpcy5zZWxlY3RlZFllYXJSZWYgPSByZWY7XG4gICAgfTtcblxuICAgIF90aGlzLnNjcm9sbFRvQ3VycmVudFllYXIgPSBmdW5jdGlvbiAoZG9tTm9kZSkge1xuICAgICAgdmFyIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gX3RoaXMucHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmc7XG4gICAgICB2YXIgY3VycmVudFllYXJFbGVtZW50ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfcmVhY3RfZG9tX19bXCJmaW5kRE9NTm9kZVwiXSkoZG9tTm9kZSk7XG5cbiAgICAgIGlmIChjdXJyZW50WWVhckVsZW1lbnQgJiYgY3VycmVudFllYXJFbGVtZW50LnNjcm9sbEludG9WaWV3KSB7XG4gICAgICAgIGlmIChhbmltYXRlWWVhclNjcm9sbGluZykge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRZZWFyRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50WWVhckVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vblllYXJTZWxlY3QgPSBmdW5jdGlvbiAoeWVhcikge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIG5ld0RhdGUgPSB1dGlscy5zZXRZZWFyKGRhdGUsIHllYXIpO1xuICAgICAgb25DaGFuZ2UobmV3RGF0ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFllYXJTZWxlY3Rpb24ucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkWWVhclJlZikge1xuICAgICAgdGhpcy5zY3JvbGxUb0N1cnJlbnRZZWFyKHRoaXMuc2VsZWN0ZWRZZWFyUmVmKTtcbiAgICB9XG4gIH07XG5cbiAgWWVhclNlbGVjdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBtaW5EYXRlID0gX2EubWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgdmFyIGN1cnJlbnRZZWFyID0gdXRpbHMuZ2V0WWVhcihkYXRlKTtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhaW5lclxuICAgIH0sIHV0aWxzLmdldFllYXJSYW5nZShtaW5EYXRlLCBtYXhEYXRlKS5tYXAoZnVuY3Rpb24gKHllYXIpIHtcbiAgICAgIHZhciB5ZWFyTnVtYmVyID0gdXRpbHMuZ2V0WWVhcih5ZWFyKTtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHllYXJOdW1iZXIgPT09IGN1cnJlbnRZZWFyO1xuICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFllYXIkMSwge1xuICAgICAgICBrZXk6IHV0aWxzLmdldFllYXJUZXh0KHllYXIpLFxuICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgIHZhbHVlOiB5ZWFyTnVtYmVyLFxuICAgICAgICBvblNlbGVjdDogX3RoaXMub25ZZWFyU2VsZWN0LFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJlZjogc2VsZWN0ZWQgPyBfdGhpcy5nZXRTZWxlY3RlZFllYXJSZWYgOiB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZVllYXIoeWVhciwgdXRpbHMuZGF0ZSgpKSB8fCBkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXJZZWFyKHllYXIsIHV0aWxzLmRhdGUoKSlcbiAgICAgIH0sIHV0aWxzLmdldFllYXJUZXh0KHllYXIpKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gWWVhclNlbGVjdGlvbi5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogc2hhcGUoe30pLmlzUmVxdWlyZWQsXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIFllYXJTZWxlY3Rpb24uZGVmYXVsdFByb3BzID0ge1xuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZVxuICB9O1xuICByZXR1cm4gWWVhclNlbGVjdGlvbjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkOCA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gIGNvbnRhaW5lcjoge1xuICAgIG1heEhlaWdodDogMzAwLFxuICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICB9XG59KTtcbnZhciBZZWFyU2VsZWN0aW9uJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ4LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzWWVhclNlbGVjdGlvbidcbn0pKHdpdGhVdGlscygpKFllYXJTZWxlY3Rpb24pKTtcblxudmFyIERhdGVQaWNrZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoRGF0ZVBpY2tlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXRlUGlja2VyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93WWVhclNlbGVjdGlvbjogQm9vbGVhbihfdGhpcy5wcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uKVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVZZWFyU2VsZWN0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKGRhdGUsIGZhbHNlKTtcblxuICAgICAgX3RoaXMub3BlbkNhbGVuZGFyKCk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5ZZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93WWVhclNlbGVjdGlvbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5DYWxlbmRhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd1llYXJTZWxlY3Rpb246IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXIucHJvdG90eXBlLCBcImRhdGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0ZTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0ZVBpY2tlci5wcm90b3R5cGUsIFwibWluRGF0ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy51dGlscy5kYXRlKHRoaXMucHJvcHMubWluRGF0ZSk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXIucHJvdG90eXBlLCBcIm1heERhdGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMudXRpbHMuZGF0ZSh0aGlzLnByb3BzLm1heERhdGUpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG5cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzaG93WWVhclNlbGVjdGlvbiA9IHRoaXMuc3RhdGUuc2hvd1llYXJTZWxlY3Rpb247XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gX2EuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICAgIGxlZnRBcnJvd0ljb24gPSBfYS5sZWZ0QXJyb3dJY29uLFxuICAgICAgICByaWdodEFycm93SWNvbiA9IF9hLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgICByZW5kZXJEYXkgPSBfYS5yZW5kZXJEYXksXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX2Euc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gX2EuYWxsb3dLZXlib2FyZENvbnRyb2w7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFBpY2tlclRvb2xiYXIkMSwgbnVsbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuWWVhclNlbGVjdGlvbixcbiAgICAgIHNlbGVjdGVkOiBzaG93WWVhclNlbGVjdGlvbixcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRZZWFyVGV4dCh0aGlzLmRhdGUpXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoNFwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuQ2FsZW5kYXIsXG4gICAgICBzZWxlY3RlZDogIXNob3dZZWFyU2VsZWN0aW9uLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldERhdGVQaWNrZXJIZWFkZXJUZXh0KHRoaXMuZGF0ZSlcbiAgICB9KSksIHRoaXMucHJvcHMuY2hpbGRyZW4sIHNob3dZZWFyU2VsZWN0aW9uID8gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoWWVhclNlbGVjdGlvbiQxLCB7XG4gICAgICBkYXRlOiB0aGlzLmRhdGUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVZZWFyU2VsZWN0LFxuICAgICAgbWluRGF0ZTogdGhpcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZ1xuICAgIH0pIDogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2FsZW5kYXIkMSwge1xuICAgICAgZGF0ZTogdGhpcy5kYXRlLFxuICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgIG1heERhdGU6IHRoaXMubWF4RGF0ZSxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbFxuICAgIH0pKTtcbiAgfTtcblxuICAgZmFsc2UgPyBEYXRlUGlja2VyLnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gICAgb3BlblRvWWVhclNlbGVjdGlvbjogYm9vbCxcbiAgICBjaGlsZHJlbjogbm9kZSxcbiAgICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICAgIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICAgIHJlbmRlckRheTogZnVuYyxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gICAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZVxuICB9IDogdm9pZCAwO1xuICBEYXRlUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gICAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogZmFsc2UsXG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IHVuZGVmaW5lZCxcbiAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBmYWxzZSxcbiAgICBjaGlsZHJlbjogbnVsbCxcbiAgICBsZWZ0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmlnaHRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkXG4gIH07XG4gIHJldHVybiBEYXRlUGlja2VyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xudmFyIERhdGVQaWNrZXIkMSA9IHdpdGhVdGlscygpKERhdGVQaWNrZXIpO1xuXG52YXIgRGF0ZVBpY2tlck1vZGFsID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGxhYmVsRnVuYyA9IHByb3BzLmxhYmVsRnVuYyxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uID0gcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKHByb3BzLCBbXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiYXV0b09rXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVQYXN0XCIsIFwiZm9ybWF0XCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwibGFiZWxGdW5jXCIsIFwibGVmdEFycm93SWNvblwiLCBcIm1heERhdGVcIiwgXCJtaW5EYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwib25DaGFuZ2VcIiwgXCJvcGVuVG9ZZWFyU2VsZWN0aW9uXCIsIFwicmVuZGVyRGF5XCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcInZhbHVlXCJdKTtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQmFzZVBpY2tlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVDbGVhciA9IF9hLmhhbmRsZUNsZWFyLFxuICAgICAgICBoYW5kbGVEaXNtaXNzID0gX2EuaGFuZGxlRGlzbWlzcyxcbiAgICAgICAgaGFuZGxlU2V0VG9kYXlEYXRlID0gX2EuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShNb2RhbFdyYXBwZXIsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCB8fCB1dGlscy5kYXRlRm9ybWF0LFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgICBvbkRpc21pc3M6IGhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiBoYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWRcbiAgICB9LCBvdGhlciksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVQaWNrZXIkMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpO1xuICB9KTtcbn07XG4gZmFsc2UgPyBEYXRlUGlja2VyTW9kYWwucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogYm9vbCxcbiAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBib29sLFxuICBsYWJlbEZ1bmM6IGZ1bmMsXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICByZW5kZXJEYXk6IGZ1bmMsXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuRGF0ZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiB1bmRlZmluZWQsXG4gIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlLFxuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkXG59O1xudmFyIERhdGVQaWNrZXJNb2RhbCQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVQaWNrZXJNb2RhbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBJbmxpbmVXcmFwcGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKElubGluZVdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gSW5saW5lV3JhcHBlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgYW5jaG9yRWw6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFuY2hvckVsOiBlLmN1cnJlbnRUYXJnZXRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25PcGVuKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uT3BlbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYW5jaG9yRWw6IG51bGxcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5wcm9wcy5oYW5kbGVBY2NlcHQoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xvc2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fX2RlZmF1bHQoKShldmVudCkpIHtcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzLnByb3BzLmhhbmRsZUFjY2VwdCgpO1xuXG4gICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBrZXljb2RlIGlzIG5vdCBoYW5kbGVkLCBzdG9wIGV4ZWN1dGlvblxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gaWYgZXZlbnQgd2FzIGhhbmRsZWQgcHJldmVudCBvdGhlciBzaWRlIGVmZmVjdHNcblxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBJbmxpbmVXcmFwcGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICAvLyBvbmx5IGlmIGFjY2VwdCA9IHRydWUgY2xvc2UgdGhlIHBvcG92ZXJcbiAgICBpZiAobmV4dFByb3BzLmlzQWNjZXB0ZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIElubGluZVdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgIG9uT3BlbiA9IF9hLm9uT3BlbixcbiAgICAgICAgb25DbG9zZSA9IF9hLm9uQ2xvc2UsXG4gICAgICAgIFBvcG92ZXJQcm9wcyA9IF9hLlBvcG92ZXJQcm9wcyxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIGtleWJvYXJkID0gX2Eua2V5Ym9hcmQsXG4gICAgICAgIG9ubHlDYWxlbmRhciA9IF9hLm9ubHlDYWxlbmRhcixcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiY2hpbGRyZW5cIiwgXCJvbk9wZW5cIiwgXCJvbkNsb3NlXCIsIFwiUG9wb3ZlclByb3BzXCIsIFwiaXNBY2NlcHRlZFwiLCBcImtleWJvYXJkXCIsIFwib25seUNhbGVuZGFyXCIsIFwiY2xhc3Nlc1wiLCBcImhhbmRsZUFjY2VwdFwiXSk7XG5cbiAgICB2YXIgaXNPcGVuID0gQm9vbGVhbih0aGlzLnN0YXRlLmFuY2hvckVsKTtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJGcmFnbWVudFwiXSwgbnVsbCwgaXNPcGVuICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfcmVhY3RfZXZlbnRfbGlzdGVuZXJfX19kZWZhdWx0LmEsIHtcbiAgICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUZXh0RmllbGQkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW4sXG4gICAgICBrZXlib2FyZDoga2V5Ym9hcmRcbiAgICB9LCBvdGhlcikpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19tYXRlcmlhbF91aV9jb3JlX1BvcG92ZXJfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIGlkOiBcInBpY2tlci1wb3BvdmVyXCIsXG4gICAgICBvcGVuOiBpc09wZW4sXG4gICAgICBhbmNob3JFbDogdGhpcy5zdGF0ZS5hbmNob3JFbCxcbiAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2UsXG4gICAgICBjbGFzc2VzOiB7XG4gICAgICAgIHBhcGVyOiBjbGFzc2VzLnBvcG92ZXJQYXBlclxuICAgICAgfSxcbiAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgICAgIGhvcml6b250YWw6IGtleWJvYXJkID8gJ3JpZ2h0JyA6ICdjZW50ZXInXG4gICAgICB9LFxuICAgICAgdHJhbnNmb3JtT3JpZ2luOiB7XG4gICAgICAgIHZlcnRpY2FsOiAndG9wJyxcbiAgICAgICAgaG9yaXpvbnRhbDoga2V5Ym9hcmQgPyAncmlnaHQnIDogJ2NlbnRlcidcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9LCBQb3BvdmVyUHJvcHMpKSk7XG4gIH07XG5cbiAgIGZhbHNlID8gSW5saW5lV3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgLyoqIFNob3cgb25seSBjYWxlbmRhciBmb3IgZGF0ZXBpY2tlciBpbiBwb3BvdmVyIG1vZGUgKi9cbiAgICBvbmx5Q2FsZW5kYXI6IGJvb2wsXG5cbiAgICAvKiogUGlja2VyIHZhbHVlICovXG4gICAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gICAgLyoqIE9uIG9wZW4gY2FsbGJhY2sgWyhlOiBFdmVudCkgPT4gdm9pZF0gKi9cbiAgICBvbk9wZW46IGZ1bmMsXG5cbiAgICAvKiogT24gY2xvc2UgY2FsbGJhY2sgWyhlOiBFdmVudCkgPT4gdm9pZF0gKi9cbiAgICBvbkNsb3NlOiBmdW5jLFxuXG4gICAgLyoqIEZvcm1hdCBzdHJpbmcgKi9cbiAgICBmb3JtYXQ6IHN0cmluZyxcblxuICAgIC8qKiBEaWFsb2cgcHJvcHMgcGFzc2VkIHRvIG1hdGVyaWFsLXVpIERpYWxvZyAqL1xuICAgIFBvcG92ZXJQcm9wczogb2JqZWN0LFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIGlzQWNjZXB0ZWQ6IGJvb2wsXG4gICAgaGFuZGxlQWNjZXB0OiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBrZXlib2FyZDogYm9vbCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIElubGluZVdyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICAgIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICAgIG9ubHlDYWxlbmRhcjogZmFsc2UsXG4gICAgZm9ybWF0OiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIG9uT3BlbjogdW5kZWZpbmVkLFxuICAgIG9uQ2xvc2U6IHVuZGVmaW5lZCxcbiAgICBQb3BvdmVyUHJvcHM6IHVuZGVmaW5lZCxcbiAgICBpc0FjY2VwdGVkOiBmYWxzZSxcbiAgICBrZXlib2FyZDogdW5kZWZpbmVkXG4gIH07XG4gIHJldHVybiBJbmxpbmVXcmFwcGVyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xudmFyIHN0eWxlcyQ5ID0ge1xuICBwb3BvdmVyUGFwZXI6IHtcbiAgICBtYXhXaWR0aDogMzEwLFxuICAgIG1pbldpZHRoOiAyOTAsXG4gICAgcGFkZGluZ0JvdHRvbTogOFxuICB9XG59OyAvLyBAdHMtaWdub3JlXG5cbnZhciBJbmxpbmVXcmFwcGVyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ5KShJbmxpbmVXcmFwcGVyKTtcblxudmFyIERhdGVQaWNrZXJJbmxpbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIGFsbG93S2V5Ym9hcmRDb250cm9sID0gcHJvcHMuYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgbGFiZWxGdW5jID0gcHJvcHMubGFiZWxGdW5jLFxuICAgICAgbGVmdEFycm93SWNvbiA9IHByb3BzLmxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gcHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlLFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb24gPSBwcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgcmVuZGVyRGF5ID0gcHJvcHMucmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb25seUNhbGVuZGFyID0gcHJvcHMub25seUNhbGVuZGFyLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkocHJvcHMsIFtcImFsbG93S2V5Ym9hcmRDb250cm9sXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJmb3JtYXRcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJsYWJlbEZ1bmNcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwibWF4RGF0ZVwiLCBcIm1pbkRhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJvbkNoYW5nZVwiLCBcIm9wZW5Ub1llYXJTZWxlY3Rpb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJyaWdodEFycm93SWNvblwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwidmFsdWVcIiwgXCJhdXRvT2tcIiwgXCJvbmx5Q2FsZW5kYXJcIl0pO1xuXG4gIHZhciBDb21wb25lbnRUb1Nob3cgPSBvbmx5Q2FsZW5kYXIgPyBDYWxlbmRhciQxIDogRGF0ZVBpY2tlciQxO1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQmFzZVBpY2tlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBhdXRvT2s6IHRydWVcbiAgfSksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQ7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKElubGluZVdyYXBwZXIkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdDogZm9ybWF0IHx8IHV0aWxzLmRhdGVGb3JtYXQsXG4gICAgICBsYWJlbEZ1bmM6IGxhYmVsRnVuYyxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIGlubmVyUmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgaGFuZGxlQWNjZXB0OiBoYW5kbGVBY2NlcHRcbiAgICB9LCBvdGhlciksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENvbXBvbmVudFRvU2hvdywge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpO1xuICB9KTtcbn07XG4gZmFsc2UgPyBEYXRlUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgb25seUNhbGVuZGFyOiBib29sLFxuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVQYXN0OiBib29sLFxuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogYm9vbCxcbiAgbGFiZWxGdW5jOiBmdW5jLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgcmVuZGVyRGF5OiBmdW5jLFxuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKSxcbiAgYXV0b09rOiBib29sXG59IDogdm9pZCAwO1xuRGF0ZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiB1bmRlZmluZWQsXG4gIG9ubHlDYWxlbmRhcjogZmFsc2Vcbn07XG52YXIgRGF0ZVBpY2tlcklubGluZSQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVQaWNrZXJJbmxpbmUsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgY2VudGVyID0ge1xuICB4OiAyNjAgLyAyLFxuICB5OiAyNjAgLyAyXG59O1xudmFyIGJhc2VQb2ludCA9IHtcbiAgeDogY2VudGVyLngsXG4gIHk6IDBcbn07XG52YXIgY3ggPSBiYXNlUG9pbnQueCAtIGNlbnRlci54O1xudmFyIGN5ID0gYmFzZVBvaW50LnkgLSBjZW50ZXIueTtcblxudmFyIHJhZDJkZWcgPSBmdW5jdGlvbiAocmFkKSB7XG4gIHJldHVybiByYWQgKiA1Ny4yOTU3Nzk1MTMwODIzMjtcbn07XG5cbnZhciBnZXRBbmdsZVZhbHVlID0gZnVuY3Rpb24gKHN0ZXAsIG9mZnNldFgsIG9mZnNldFkpIHtcbiAgdmFyIHggPSBvZmZzZXRYIC0gY2VudGVyLng7XG4gIHZhciB5ID0gb2Zmc2V0WSAtIGNlbnRlci55O1xuICB2YXIgYXRhbiA9IE1hdGguYXRhbjIoY3gsIGN5KSAtIE1hdGguYXRhbjIoeCwgeSk7XG4gIHZhciBkZWcgPSByYWQyZGVnKGF0YW4pO1xuICBkZWcgPSBNYXRoLnJvdW5kKGRlZyAvIHN0ZXApICogc3RlcDtcbiAgZGVnICU9IDM2MDtcbiAgdmFyIHZhbHVlID0gTWF0aC5mbG9vcihkZWcgLyBzdGVwKSB8fCAwO1xuICB2YXIgZGVsdGEgPSBNYXRoLnBvdyh4LCAyKSArIE1hdGgucG93KHksIDIpO1xuICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGVsdGEpO1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgfTtcbn07XG5cbnZhciBnZXRIb3VycyA9IGZ1bmN0aW9uIChvZmZzZXRYLCBvZmZzZXRZLCBhbXBtKSB7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICB2YXIgX2EgPSBnZXRBbmdsZVZhbHVlKDMwLCBvZmZzZXRYLCBvZmZzZXRZKSxcbiAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBkaXN0YW5jZSA9IF9hLmRpc3RhbmNlO1xuXG4gIHZhbHVlID0gdmFsdWUgfHwgMTI7XG5cbiAgaWYgKCFhbXBtKSB7XG4gICAgaWYgKGRpc3RhbmNlIDwgOTApIHtcbiAgICAgIHZhbHVlICs9IDEyO1xuICAgICAgdmFsdWUgJT0gMjQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhbHVlICU9IDEyO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBnZXRNaW51dGVzID0gZnVuY3Rpb24gKG9mZnNldFgsIG9mZnNldFksIHN0ZXApIHtcbiAgaWYgKHN0ZXAgPT09IHZvaWQgMCkge1xuICAgIHN0ZXAgPSA2O1xuICB9XG5cbiAgdmFyIHZhbHVlID0gZ2V0QW5nbGVWYWx1ZShzdGVwLCBvZmZzZXRYLCBvZmZzZXRZKS52YWx1ZTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBjb252ZXJ0VG9NZXJpZGllbSA9IGZ1bmN0aW9uICh0aW1lLCBtZXJpZGllbSwgYW1wbSwgdXRpbHMpIHtcbiAgaWYgKGFtcG0pIHtcbiAgICB2YXIgY3VycmVudE1lcmlkaWVtID0gdXRpbHMuZ2V0SG91cnModGltZSkgPj0gMTIgPyAncG0nIDogJ2FtJztcblxuICAgIGlmIChjdXJyZW50TWVyaWRpZW0gIT09IG1lcmlkaWVtKSB7XG4gICAgICB2YXIgaG91cnMgPSBtZXJpZGllbSA9PT0gJ2FtJyA/IHV0aWxzLmdldEhvdXJzKHRpbWUpIC0gMTIgOiB1dGlscy5nZXRIb3Vycyh0aW1lKSArIDEyO1xuICAgICAgcmV0dXJuIHV0aWxzLnNldEhvdXJzKHRpbWUsIGhvdXJzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGltZTtcbn07XG5cbnZhciBDbG9ja1R5cGU7XG5cbihmdW5jdGlvbiAoQ2xvY2tUeXBlKSB7XG4gIENsb2NrVHlwZVtcIkhPVVJTXCJdID0gXCJob3Vyc1wiO1xuICBDbG9ja1R5cGVbXCJNSU5VVEVTXCJdID0gXCJtaW51dGVzXCI7XG4gIENsb2NrVHlwZVtcIlNFQ09ORFNcIl0gPSBcInNlY29uZHNcIjtcbn0pKENsb2NrVHlwZSB8fCAoQ2xvY2tUeXBlID0ge30pKTtcblxudmFyIENsb2NrVHlwZSQxID0gQ2xvY2tUeXBlO1xuXG52YXIgQ2xvY2tQb2ludGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKENsb2NrUG9pbnRlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDbG9ja1BvaW50ZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRvQW5pbWF0ZVRyYW5zZm9ybTogZmFsc2UsXG4gICAgICBwcmV2aW91c1R5cGU6IHVuZGVmaW5lZFxuICAgIH07XG5cbiAgICBfdGhpcy5nZXRBbmdsZVN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgICBpc0lubmVyID0gX2EuaXNJbm5lcixcbiAgICAgICAgICB0eXBlID0gX2EudHlwZTtcbiAgICAgIHZhciBtYXggPSB0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyA/IDEyIDogNjA7XG4gICAgICB2YXIgYW5nbGUgPSAzNjAgLyBtYXggKiB2YWx1ZTtcblxuICAgICAgaWYgKHR5cGUgPT09IENsb2NrVHlwZSQxLkhPVVJTICYmIHZhbHVlID4gMTIpIHtcbiAgICAgICAgYW5nbGUgLT0gMzYwOyAvLyByb3VuZCB1cCBhbmdsZSB0byBtYXggMzYwIGRlZ3JlZXNcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBpc0lubmVyID8gJzI2JScgOiAnNDAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZVooXCIgKyBhbmdsZSArIFwiZGVnKVwiXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9ja1BvaW50ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EsIF9iO1xuXG4gICAgdmFyIF9jID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9jLmNsYXNzZXMsXG4gICAgICAgIGhhc1NlbGVjdGVkID0gX2MuaGFzU2VsZWN0ZWQ7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIHN0eWxlOiB0aGlzLmdldEFuZ2xlU3R5bGUoKSxcbiAgICAgIGNsYXNzTmFtZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMucG9pbnRlciwgKF9hID0ge30sIF9hW2NsYXNzZXMuYW5pbWF0ZVRyYW5zZm9ybV0gPSB0aGlzLnN0YXRlLnRvQW5pbWF0ZVRyYW5zZm9ybSwgX2EpKVxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMudGh1bWIsIChfYiA9IHt9LCBfYltjbGFzc2VzLm5vUG9pbnRdID0gaGFzU2VsZWN0ZWQsIF9iKSlcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gQ2xvY2tQb2ludGVyLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgaGFzU2VsZWN0ZWQ6IGJvb2wuaXNSZXF1aXJlZCxcbiAgICBpc0lubmVyOiBib29sLmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueSxcbiAgICB0eXBlOiBvbmVPZihPYmplY3Qua2V5cyhDbG9ja1R5cGUkMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBDbG9ja1R5cGUkMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG5cbiAgQ2xvY2tQb2ludGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMsIHN0YXRlKSB7XG4gICAgaWYgKG5leHRQcm9wcy50eXBlICE9PSBzdGF0ZS5wcmV2aW91c1R5cGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvQW5pbWF0ZVRyYW5zZm9ybTogdHJ1ZSxcbiAgICAgICAgcHJldmlvdXNUeXBlOiBuZXh0UHJvcHMudHlwZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9BbmltYXRlVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgIHByZXZpb3VzVHlwZTogbmV4dFByb3BzLnR5cGVcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBDbG9ja1BvaW50ZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkYSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCgpKHtcbiAgICBwb2ludGVyOiB7XG4gICAgICB3aWR0aDogMixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGxlZnQ6ICdjYWxjKDUwJSAtIDFweCknLFxuICAgICAgYm90dG9tOiAnNTAlJyxcbiAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2NlbnRlciBib3R0b20gMHB4J1xuICAgIH0sXG4gICAgYW5pbWF0ZVRyYW5zZm9ybToge1xuICAgICAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKFsndHJhbnNmb3JtJywgJ2hlaWdodCddKVxuICAgIH0sXG4gICAgdGh1bWI6IHtcbiAgICAgIHdpZHRoOiA0LFxuICAgICAgaGVpZ2h0OiA0LFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGJvcmRlclJhZGl1czogJzEwMCUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IC0yMSxcbiAgICAgIGxlZnQ6IC0xNSxcbiAgICAgIGJvcmRlcjogXCIxNHB4IHNvbGlkIFwiICsgdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBib3hTaXppbmc6ICdjb250ZW50LWJveCdcbiAgICB9LFxuICAgIG5vUG9pbnQ6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9XG4gIH0pO1xufTtcbnZhciBDbG9ja1BvaW50ZXIkMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGEsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9ja1BvaW50ZXInXG59KShDbG9ja1BvaW50ZXIpO1xuXG52YXIgQ2xvY2sgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoQ2xvY2ssIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2xvY2soKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5pc01vdmluZyA9IGZhbHNlO1xuXG4gICAgX3RoaXMuaGFuZGxlVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLmlzTW92aW5nID0gdHJ1ZTtcblxuICAgICAgX3RoaXMuc2V0VGltZShlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVG91Y2hFbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLmlzTW92aW5nKSB7XG4gICAgICAgIF90aGlzLnNldFRpbWUoZSwgdHJ1ZSk7XG5cbiAgICAgICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBNb3VzZUV2ZW50LndoaWNoIGlzIGRlcHJlY2F0ZWQsIGJ1dCBNb3VzZUV2ZW50LmJ1dHRvbnMgaXMgbm90IHN1cHBvcnRlZCBpbiBTYWZhcmlcblxuICAgICAgdmFyIGlzQnV0dG9uUHJlc3NlZCA9IHR5cGVvZiBlLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnID8gZS5uYXRpdmVFdmVudC53aGljaCA9PT0gMSA6IGUuYnV0dG9ucyA9PT0gMTtcblxuICAgICAgaWYgKGlzQnV0dG9uUHJlc3NlZCkge1xuICAgICAgICBfdGhpcy5zZXRUaW1lKGUubmF0aXZlRXZlbnQsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0VGltZShlLm5hdGl2ZUV2ZW50LCB0cnVlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFzU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlO1xuXG4gICAgICBpZiAodHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZSAlIDUgPT09IDA7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIENsb2NrLnByb3RvdHlwZS5zZXRUaW1lID0gZnVuY3Rpb24gKGUsIGlzRmluaXNoKSB7XG4gICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgIGlzRmluaXNoID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG9mZnNldFggPSBlLm9mZnNldFgsXG4gICAgICAgIG9mZnNldFkgPSBlLm9mZnNldFk7XG5cbiAgICBpZiAodHlwZW9mIG9mZnNldFggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgb2Zmc2V0WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICAgIG9mZnNldFkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLnByb3BzLnR5cGUgPT09IENsb2NrVHlwZSQxLlNFQ09ORFMgfHwgdGhpcy5wcm9wcy50eXBlID09PSBDbG9ja1R5cGUkMS5NSU5VVEVTID8gZ2V0TWludXRlcyhvZmZzZXRYLCBvZmZzZXRZKSA6IGdldEhvdXJzKG9mZnNldFgsIG9mZnNldFksIEJvb2xlYW4odGhpcy5wcm9wcy5hbXBtKSk7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSwgaXNGaW5pc2gpO1xuICB9O1xuXG4gIENsb2NrLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICBhbXBtID0gX2EuYW1wbTtcbiAgICB2YXIgaXNQb2ludGVySW5uZXIgPSAhYW1wbSAmJiB0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyAmJiAodmFsdWUgPCAxIHx8IHZhbHVlID4gMTIpO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY29udGFpbmVyXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNsb2NrXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgcm9sZTogXCJtZW51XCIsXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3F1YXJlTWFzayxcbiAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSxcbiAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmQsXG4gICAgICBvbk1vdXNlVXA6IHRoaXMuaGFuZGxlTW91c2VVcCxcbiAgICAgIG9uTW91c2VNb3ZlOiB0aGlzLmhhbmRsZU1vdmVcbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnBpblxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja1BvaW50ZXIkMSwge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzSW5uZXI6IGlzUG9pbnRlcklubmVyLFxuICAgICAgaGFzU2VsZWN0ZWQ6IHRoaXMuaGFzU2VsZWN0ZWQoKVxuICAgIH0pLCBjaGlsZHJlbikpO1xuICB9O1xuXG4gICBmYWxzZSA/IENsb2NrLnByb3BUeXBlcyA9IHtcbiAgICB0eXBlOiBvbmVPZihPYmplY3Qua2V5cyhDbG9ja1R5cGUkMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBDbG9ja1R5cGUkMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHZhbHVlOiBudW1iZXIuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBhcnJheU9mKG5vZGUpLmlzUmVxdWlyZWQsXG4gICAgYW1wbTogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENsb2NrLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbXBtOiBmYWxzZVxuICB9O1xuICByZXR1cm4gQ2xvY2s7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkYiA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCgpKHtcbiAgICBjb250YWluZXI6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCcsXG4gICAgICBtYXJnaW46IHRoZW1lLnNwYWNpbmcudW5pdCAqIDQgKyBcInB4IDAgXCIgKyB0aGVtZS5zcGFjaW5nLnVuaXQgKyBcInB4XCJcbiAgICB9LFxuICAgIGNsb2NrOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLC4wNyknLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgIGhlaWdodDogMjYwLFxuICAgICAgd2lkdGg6IDI2MCxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgekluZGV4OiAxXG4gICAgfSxcbiAgICBzcXVhcmVNYXNrOiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdhdXRvJyxcbiAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgIHRvdWNoQWN0aW9uczogJ25vbmUnLFxuICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgJyY6YWN0aXZlJzoge1xuICAgICAgICBjdXJzb3I6ICdtb3ZlJ1xuICAgICAgfVxuICAgIH0sXG4gICAgcGluOiB7XG4gICAgICB3aWR0aDogNixcbiAgICAgIGhlaWdodDogNixcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6ICc1MCUnLFxuICAgICAgbGVmdDogJzUwJScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2skMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGIsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9jaydcbn0pKENsb2NrKTtcblxudmFyIHBvc2l0aW9ucyA9IHtcbiAgMDogWzAsIDQwXSxcbiAgMTogWzU1LCAxOS42XSxcbiAgMjogWzk0LjQsIDU5LjVdLFxuICAzOiBbMTA5LCAxMTRdLFxuICA0OiBbOTQuNCwgMTY4LjVdLFxuICA1OiBbNTQuNSwgMjA4LjRdLFxuICA2OiBbMCwgMjIzXSxcbiAgNzogWy01NC41LCAyMDguNF0sXG4gIDg6IFstOTQuNCwgMTY4LjVdLFxuICA5OiBbLTEwOSwgMTE0XSxcbiAgMTA6IFstOTQuNCwgNTkuNV0sXG4gIDExOiBbLTU0LjUsIDE5LjZdLFxuICAxMjogWzAsIDVdLFxuICAxMzogWzM2LjksIDQ5LjldLFxuICAxNDogWzY0LCA3N10sXG4gIDE1OiBbNzQsIDExNF0sXG4gIDE2OiBbNjQsIDE1MV0sXG4gIDE3OiBbMzcsIDE3OF0sXG4gIDE4OiBbMCwgMTg4XSxcbiAgMTk6IFstMzcsIDE3OF0sXG4gIDIwOiBbLTY0LCAxNTFdLFxuICAyMTogWy03NCwgMTE0XSxcbiAgMjI6IFstNjQsIDc3XSxcbiAgMjM6IFstMzcsIDUwXVxufTtcblxudmFyIENsb2NrTnVtYmVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKENsb2NrTnVtYmVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIENsb2NrTnVtYmVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuZ2V0VHJhbnNmb3JtU3R5bGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IHBvc2l0aW9uc1tpbmRleF07XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiICsgcG9zaXRpb25bMF0gKyBcInB4LCBcIiArIHBvc2l0aW9uWzFdICsgXCJweFwiXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9ja051bWJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIHNlbGVjdGVkID0gX2Iuc2VsZWN0ZWQsXG4gICAgICAgIGxhYmVsID0gX2IubGFiZWwsXG4gICAgICAgIGluZGV4ID0gX2IuaW5kZXgsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBpc0lubmVyID0gX2IuaXNJbm5lcjtcbiAgICB2YXIgY2xhc3NOYW1lID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMuY2xvY2tOdW1iZXIsIChfYSA9IHt9LCBfYVtjbGFzc2VzLnNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYSkpO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0LmEsIHtcbiAgICAgIHZhcmlhbnQ6IGlzSW5uZXIgPyAnYm9keTEnIDogJ3N1YnRpdGxlMScsXG4gICAgICBjb21wb25lbnQ6IFwic3BhblwiLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogdGhpcy5nZXRUcmFuc2Zvcm1TdHlsZShpbmRleClcbiAgICB9LCBsYWJlbCk7XG4gIH07XG5cbiAgIGZhbHNlID8gQ2xvY2tOdW1iZXIucHJvcFR5cGVzID0ge1xuICAgIGluZGV4OiBudW1iZXIuaXNSZXF1aXJlZCxcbiAgICBsYWJlbDogc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgc2VsZWN0ZWQ6IGJvb2wuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpc0lubmVyOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgQ2xvY2tOdW1iZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGlzSW5uZXI6IGZhbHNlXG4gIH07XG4gIHJldHVybiBDbG9ja051bWJlcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJDb21wb25lbnRcIl0pO1xudmFyIHN0eWxlcyRjID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHZhciBzaXplID0gdGhlbWUuc3BhY2luZy51bml0ICogNDtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgY2xvY2tOdW1iZXI6IHtcbiAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBsZWZ0OiBcImNhbGMoNTAlIC0gXCIgKyBzaXplIC8gMiArIFwicHgpXCIsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0JyA/IHRoZW1lLnBhbGV0dGUudGV4dC5wcmltYXJ5IDogdGhlbWUucGFsZXR0ZS50ZXh0LmhpbnRcbiAgICB9LFxuICAgIHNlbGVjdGVkOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGVcbiAgICB9XG4gIH0pO1xufTtcbnZhciBDbG9ja051bWJlciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkYywge1xuICBuYW1lOiAnTXVpUGlja2Vyc0Nsb2NrTnVtYmVyJ1xufSkoQ2xvY2tOdW1iZXIpO1xuXG52YXIgZ2V0SG91ck51bWJlcnMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGFtcG0gPSBfYS5hbXBtLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIGRhdGUgPSBfYS5kYXRlO1xuICB2YXIgY3VycmVudEhvdXJzID0gdXRpbHMuZ2V0SG91cnMoZGF0ZSk7XG4gIHZhciBob3VyTnVtYmVycyA9IFtdO1xuICB2YXIgc3RhcnRIb3VyID0gYW1wbSA/IDEgOiAwO1xuICB2YXIgZW5kSG91ciA9IGFtcG0gPyAxMiA6IDIzO1xuXG4gIHZhciBpc1NlbGVjdGVkID0gZnVuY3Rpb24gKGhvdXIpIHtcbiAgICBpZiAoYW1wbSkge1xuICAgICAgaWYgKGhvdXIgPT09IDEyKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50SG91cnMgPT09IDEyIHx8IGN1cnJlbnRIb3VycyA9PT0gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGN1cnJlbnRIb3VycyA9PT0gaG91ciB8fCBjdXJyZW50SG91cnMgLSAxMiA9PT0gaG91cjtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudEhvdXJzID09PSBob3VyO1xuICB9O1xuXG4gIGZvciAodmFyIGhvdXIgPSBzdGFydEhvdXI7IGhvdXIgPD0gZW5kSG91cjsgaG91ciArPSAxKSB7XG4gICAgdmFyIGxhYmVsID0gaG91ci50b1N0cmluZygpO1xuXG4gICAgaWYgKGhvdXIgPT09IDApIHtcbiAgICAgIGxhYmVsID0gJzAwJztcbiAgICB9XG5cbiAgICB2YXIgcHJvcHMgPSB7XG4gICAgICBpbmRleDogaG91cixcbiAgICAgIGxhYmVsOiB1dGlscy5mb3JtYXROdW1iZXIobGFiZWwpLFxuICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQoaG91ciksXG4gICAgICBpc0lubmVyOiAhYW1wbSAmJiAoaG91ciA9PT0gMCB8fCBob3VyID4gMTIpXG4gICAgfTtcbiAgICBob3VyTnVtYmVycy5wdXNoKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIGtleTogaG91clxuICAgIH0sIHByb3BzKSkpO1xuICB9XG5cbiAgcmV0dXJuIGhvdXJOdW1iZXJzO1xufTtcbnZhciBnZXRNaW51dGVzTnVtYmVycyA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gIHZhciBmID0gdXRpbHMuZm9ybWF0TnVtYmVyO1xuICByZXR1cm4gW09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMDAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDAsXG4gICAgaW5kZXg6IDEyLFxuICAgIGtleTogMTJcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMDUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDUsXG4gICAgaW5kZXg6IDEsXG4gICAga2V5OiAxXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzEwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAxMCxcbiAgICBpbmRleDogMixcbiAgICBrZXk6IDJcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMTUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDE1LFxuICAgIGluZGV4OiAzLFxuICAgIGtleTogM1xuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcyMCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMjAsXG4gICAgaW5kZXg6IDQsXG4gICAga2V5OiA0XG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzI1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAyNSxcbiAgICBpbmRleDogNSxcbiAgICBrZXk6IDVcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMzAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDMwLFxuICAgIGluZGV4OiA2LFxuICAgIGtleTogNlxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCczNScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMzUsXG4gICAgaW5kZXg6IDcsXG4gICAga2V5OiA3XG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzQwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA0MCxcbiAgICBpbmRleDogOCxcbiAgICBrZXk6IDhcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNDUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDQ1LFxuICAgIGluZGV4OiA5LFxuICAgIGtleTogOVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCc1MCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNTAsXG4gICAgaW5kZXg6IDEwLFxuICAgIGtleTogMTBcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNTUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDU1LFxuICAgIGluZGV4OiAxMSxcbiAgICBrZXk6IDExXG4gIH0pXTtcbn07XG5cbnZhciBUaW1lUGlja2VyVmlldyA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShUaW1lUGlja2VyVmlldywgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBUaW1lUGlja2VyVmlldygpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmdldFZpZXdQcm9wcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICAgIGFtcG0gPSBfYS5hbXBtLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG5cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIENsb2NrVHlwZSQxLkhPVVJTOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogdXRpbHMuZ2V0SG91cnMoZGF0ZSksXG4gICAgICAgICAgICBjaGlsZHJlbjogZ2V0SG91ck51bWJlcnMoe1xuICAgICAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgICAgICBhbXBtOiBCb29sZWFuKGFtcG0pLFxuICAgICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzLmhhbmRsZUhvdXJDaGFuZ2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgQ2xvY2tUeXBlJDEuTUlOVVRFUzpcbiAgICAgICAgICB2YXIgbWludXRlc1ZhbHVlID0gdXRpbHMuZ2V0TWludXRlcyhkYXRlKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IG1pbnV0ZXNWYWx1ZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBnZXRNaW51dGVzTnVtYmVycyh7XG4gICAgICAgICAgICAgIHZhbHVlOiBtaW51dGVzVmFsdWUsXG4gICAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMuaGFuZGxlTWludXRlc0NoYW5nZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSBDbG9ja1R5cGUkMS5TRUNPTkRTOlxuICAgICAgICAgIHZhciBzZWNvbmRzVmFsdWUgPSB1dGlscy5nZXRTZWNvbmRzKGRhdGUpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogc2Vjb25kc1ZhbHVlLFxuICAgICAgICAgICAgY2hpbGRyZW46IGdldE1pbnV0ZXNOdW1iZXJzKHtcbiAgICAgICAgICAgICAgdmFsdWU6IHNlY29uZHNWYWx1ZSxcbiAgICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlXG4gICAgICAgICAgfTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSB0aGUgdHlwZSBmb3IgVGltZVBpY2tlclZpZXcnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlSG91ckNoYW5nZSA9IGZ1bmN0aW9uIChob3VycywgaXNGaW5pc2gpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgdXBkYXRlZFRpbWUgPSB1dGlscy5zZXRIb3VycyhkYXRlLCBob3Vycyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uSG91ckNoYW5nZSh1cGRhdGVkVGltZSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlID0gZnVuY3Rpb24gKG1pbnV0ZXMsIGlzRmluaXNoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIHVwZGF0ZWRUaW1lID0gdXRpbHMuc2V0TWludXRlcyhkYXRlLCBtaW51dGVzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25NaW51dGVzQ2hhbmdlKHVwZGF0ZWRUaW1lLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVNlY29uZHNDaGFuZ2UgPSBmdW5jdGlvbiAoc2Vjb25kcywgaXNGaW5pc2gpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgdXBkYXRlZFRpbWUgPSB1dGlscy5zZXRTZWNvbmRzKGRhdGUsIHNlY29uZHMpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vblNlY29uZHNDaGFuZ2UodXBkYXRlZFRpbWUsIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVGltZVBpY2tlclZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBhbXBtID0gX2EuYW1wbSxcbiAgICAgICAgdHlwZSA9IF9hLnR5cGU7XG4gICAgdmFyIHZpZXdQcm9wcyA9IHRoaXMuZ2V0Vmlld1Byb3BzKCk7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBhbXBtOiBhbXBtXG4gICAgfSwgdmlld1Byb3BzKSk7XG4gIH07XG5cbiAgIGZhbHNlID8gVGltZVBpY2tlclZpZXcucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uSG91ckNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uTWludXRlc0NoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uU2Vjb25kc0NoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbXBtOiBib29sLFxuICAgIHR5cGU6IG9uZU9mKE9iamVjdC5rZXlzKENsb2NrVHlwZSQxKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIENsb2NrVHlwZSQxW2tleV07XG4gICAgfSkpLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgVGltZVBpY2tlclZpZXcuZGVmYXVsdFByb3BzID0ge1xuICAgIGFtcG06IHRydWVcbiAgfTtcbiAgcmV0dXJuIFRpbWVQaWNrZXJWaWV3O1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xudmFyIFRpbWVQaWNrZXJWaWV3JDEgPSB3aXRoVXRpbHMoKShUaW1lUGlja2VyVmlldyk7XG5cbnZhciBUaW1lUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKFRpbWVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gVGltZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLkhPVVJTLFxuICAgICAgbWVyaWRpZW1Nb2RlOiBfdGhpcy5wcm9wcy51dGlscy5nZXRIb3VycyhfdGhpcy5wcm9wcy5kYXRlKSA+PSAxMiA/ICdwbScgOiAnYW0nXG4gICAgfTtcblxuICAgIF90aGlzLnNldE1lcmlkaWVtTW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbWVyaWRpZW1Nb2RlOiBtb2RlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgICAgIHRpbWU6IF90aGlzLnByb3BzLmRhdGUsXG4gICAgICAgICAgICBpc0ZpbmlzaDogZmFsc2UsXG4gICAgICAgICAgICBvcGVuTWludXRlczogZmFsc2UsXG4gICAgICAgICAgICBvcGVuU2Vjb25kczogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgIHZhciB0aW1lID0gX2EudGltZSxcbiAgICAgICAgICBpc0ZpbmlzaCA9IF9hLmlzRmluaXNoLFxuICAgICAgICAgIG9wZW5NaW51dGVzID0gX2Eub3Blbk1pbnV0ZXMsXG4gICAgICAgICAgb3BlblNlY29uZHMgPSBfYS5vcGVuU2Vjb25kcztcbiAgICAgIHZhciB3aXRoTWVyaWRpZW0gPSBjb252ZXJ0VG9NZXJpZGllbSh0aW1lLCBfdGhpcy5zdGF0ZS5tZXJpZGllbU1vZGUsIEJvb2xlYW4oX3RoaXMucHJvcHMuYW1wbSksIF90aGlzLnByb3BzLnV0aWxzKTtcblxuICAgICAgaWYgKGlzRmluaXNoKSB7XG4gICAgICAgIGlmICghb3Blbk1pbnV0ZXMgJiYgIW9wZW5TZWNvbmRzKSB7XG4gICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uod2l0aE1lcmlkaWVtLCBpc0ZpbmlzaCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3Blbk1pbnV0ZXMpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuTWludXRlc1ZpZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVuU2Vjb25kcykge1xuICAgICAgICAgIF90aGlzLm9wZW5TZWNvbmRzVmlldygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHdpdGhNZXJpZGllbSwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVIb3VyQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBpc0ZpbmlzaDogaXNGaW5pc2gsXG4gICAgICAgIG9wZW5NaW51dGVzOiB0cnVlLFxuICAgICAgICBvcGVuU2Vjb25kczogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBpc0ZpbmlzaDogaXNGaW5pc2gsXG4gICAgICAgIG9wZW5NaW51dGVzOiBmYWxzZSxcbiAgICAgICAgb3BlblNlY29uZHM6IEJvb2xlYW4oX3RoaXMucHJvcHMuc2Vjb25kcylcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBpc0ZpbmlzaDogaXNGaW5pc2gsXG4gICAgICAgIG9wZW5NaW51dGVzOiBmYWxzZSxcbiAgICAgICAgb3BlblNlY29uZHM6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblNlY29uZHNWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuVmlldzogQ2xvY2tUeXBlJDEuU0VDT05EU1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5NaW51dGVzVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLk1JTlVURVNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuSG91clZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5IT1VSU1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRpbWVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgdGhlbWUgPSBfYi50aGVtZSxcbiAgICAgICAgZGF0ZSA9IF9iLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2IudXRpbHMsXG4gICAgICAgIGFtcG0gPSBfYi5hbXBtLFxuICAgICAgICBzZWNvbmRzID0gX2Iuc2Vjb25kcztcbiAgICB2YXIgX2MgPSB0aGlzLnN0YXRlLFxuICAgICAgICBtZXJpZGllbU1vZGUgPSBfYy5tZXJpZGllbU1vZGUsXG4gICAgICAgIG9wZW5WaWV3ID0gX2Mub3BlblZpZXc7XG4gICAgdmFyIHJ0bCA9IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG4gICAgdmFyIGhvdXJNaW51dGVDbGFzc05hbWUgPSBydGwgPyBjbGFzc2VzLmhvdXJNaW51dGVMYWJlbFJldmVyc2UgOiBjbGFzc2VzLmhvdXJNaW51dGVMYWJlbDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJGcmFnbWVudFwiXSwgbnVsbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoUGlja2VyVG9vbGJhciQxLCB7XG4gICAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnRvb2xiYXIsIChfYSA9IHt9LCBfYVtjbGFzc2VzLnRvb2xiYXJMZWZ0UGFkZGluZ10gPSBhbXBtLCBfYSkpXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBob3VyTWludXRlQ2xhc3NOYW1lXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5Ib3VyVmlldyxcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0SG91clRleHQoZGF0ZSwgQm9vbGVhbihhbXBtKSlcbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBsYWJlbDogXCI6XCIsXG4gICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc2VwYXJhdG9yXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuTWludXRlc1ZpZXcsXG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IENsb2NrVHlwZSQxLk1JTlVURVMsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0TWludXRlVGV4dChkYXRlKVxuICAgIH0pLCBzZWNvbmRzICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgbGFiZWw6IFwiOlwiLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlcGFyYXRvclxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlblNlY29uZHNWaWV3LFxuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBDbG9ja1R5cGUkMS5TRUNPTkRTLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldFNlY29uZFRleHQoZGF0ZSlcbiAgICB9KSkpLCBhbXBtICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogc2Vjb25kcyA/IGNsYXNzZXMuYW1wbVNlbGVjdGlvbldpdGhTZWNvbmRzIDogY2xhc3Nlcy5hbXBtU2VsZWN0aW9uXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ2FtJyxcbiAgICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdhbScpLFxuICAgICAgb25DbGljazogdGhpcy5zZXRNZXJpZGllbU1vZGUoJ2FtJylcbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ3BtJyxcbiAgICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdwbScpLFxuICAgICAgb25DbGljazogdGhpcy5zZXRNZXJpZGllbU1vZGUoJ3BtJylcbiAgICB9KSkpLCB0aGlzLnByb3BzLmNoaWxkcmVuLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUaW1lUGlja2VyVmlldyQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgdHlwZTogdGhpcy5zdGF0ZS5vcGVuVmlldyxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBvbkhvdXJDaGFuZ2U6IHRoaXMuaGFuZGxlSG91ckNoYW5nZSxcbiAgICAgIG9uTWludXRlc0NoYW5nZTogdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlLFxuICAgICAgb25TZWNvbmRzQ2hhbmdlOiB0aGlzLmhhbmRsZVNlY29uZHNDaGFuZ2VcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gVGltZVBpY2tlci5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IG5vZGUsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGFtcG06IGJvb2wsXG4gICAgc2Vjb25kczogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIFRpbWVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGNoaWxkcmVuOiBudWxsLFxuICAgIGFtcG06IHRydWUsXG4gICAgc2Vjb25kczogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIFRpbWVQaWNrZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgIH0sXG4gICAgdG9vbGJhckxlZnRQYWRkaW5nOiB7XG4gICAgICBwYWRkaW5nTGVmdDogNTBcbiAgICB9LFxuICAgIHNlcGFyYXRvcjoge1xuICAgICAgbWFyZ2luOiAnMCA0cHggMCAycHgnLFxuICAgICAgY3Vyc29yOiAnZGVmYXVsdCdcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb246IHtcbiAgICAgIG1hcmdpbkxlZnQ6IDIwLFxuICAgICAgbWFyZ2luUmlnaHQ6IC0yMFxuICAgIH0sXG4gICAgYW1wbVNlbGVjdGlvbldpdGhTZWNvbmRzOiB7XG4gICAgICBtYXJnaW5MZWZ0OiAxNSxcbiAgICAgIG1hcmdpblJpZ2h0OiAxMFxuICAgIH0sXG4gICAgYW1wbUxhYmVsOiB7XG4gICAgICBmb250U2l6ZTogMThcbiAgICB9LFxuICAgIGhvdXJNaW51dGVMYWJlbDoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnXG4gICAgfSxcbiAgICBob3VyTWludXRlTGFiZWxSZXZlcnNlOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnXG4gICAgfVxuICB9KTtcbn07XG52YXIgVGltZVBpY2tlciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkZCwge1xuICB3aXRoVGhlbWU6IHRydWUsXG4gIG5hbWU6ICdNdWlQaWNrZXJzVGltZVBpY2tlcidcbn0pKHdpdGhVdGlscygpKFRpbWVQaWNrZXIpKTtcblxudmFyIFRpbWVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIHNlY29uZHMgPSBwcm9wcy5zZWNvbmRzLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiYXV0b09rXCIsIFwib25DaGFuZ2VcIiwgXCJhbXBtXCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwic2Vjb25kc1wiXSk7XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKEJhc2VQaWNrZXIkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgIG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2U6IHRydWVcbiAgfSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVDbGVhciA9IF9hLmhhbmRsZUNsZWFyLFxuICAgICAgICBoYW5kbGVEaXNtaXNzID0gX2EuaGFuZGxlRGlzbWlzcyxcbiAgICAgICAgaGFuZGxlU2V0VG9kYXlEYXRlID0gX2EuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQ7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKE1vZGFsV3JhcHBlciwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBvbkNsZWFyOiBoYW5kbGVDbGVhcixcbiAgICAgIG9uQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgb25EaXNtaXNzOiBoYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLnRpbWUxMmhGb3JtYXQsIHV0aWxzLnRpbWUyNGhGb3JtYXQpXG4gICAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUaW1lUGlja2VyJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIHNlY29uZHM6IHNlY29uZHNcbiAgICB9KSk7XG4gIH0pO1xufTtcbiBmYWxzZSA/IFRpbWVQaWNrZXJNb2RhbC5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogYm9vbCxcbiAgYW1wbTogYm9vbCxcbiAgc2Vjb25kczogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuVGltZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhbXBtOiB0cnVlLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgc2Vjb25kczogZmFsc2Vcbn07XG52YXIgVGltZVBpY2tlck1vZGFsJDEgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJmb3J3YXJkUmVmXCJdKShmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVGltZVBpY2tlck1vZGFsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIFRpbWVQaWNrZXJJbmxpbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgYW1wbSA9IHByb3BzLmFtcG0sXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBzZWNvbmRzID0gcHJvcHMuc2Vjb25kcyxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcIm9uQ2hhbmdlXCIsIFwiYW1wbVwiLCBcImZvcndhcmRlZFJlZlwiLCBcInNlY29uZHNcIl0pO1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShCYXNlUGlja2VyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICBtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlOiB0cnVlLFxuICAgIGF1dG9PazogdHJ1ZVxuICB9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoSW5saW5lV3JhcHBlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBpbm5lclJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBoYW5kbGVBY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLnRpbWUxMmhGb3JtYXQsIHV0aWxzLnRpbWUyNGhGb3JtYXQpXG4gICAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUaW1lUGlja2VyJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIHNlY29uZHM6IHNlY29uZHNcbiAgICB9KSk7XG4gIH0pO1xufTtcbiBmYWxzZSA/IFRpbWVQaWNrZXJJbmxpbmUucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhbXBtOiBib29sLFxuICBzZWNvbmRzOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5UaW1lUGlja2VySW5saW5lLmRlZmF1bHRQcm9wcyA9IHtcbiAgYW1wbTogdHJ1ZSxcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgc2Vjb25kczogZmFsc2Vcbn07XG52YXIgVGltZVBpY2tlcklubGluZSQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRpbWVQaWNrZXJJbmxpbmUsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJWaWV3O1xuXG4oZnVuY3Rpb24gKERhdGVUaW1lUGlja2VyVmlldykge1xuICBEYXRlVGltZVBpY2tlclZpZXdbXCJZRUFSXCJdID0gXCJ5ZWFyXCI7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIkRBVEVcIl0gPSBcImRhdGVcIjtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiSE9VUlwiXSA9IFwiaG91cnNcIjtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiTUlOVVRFU1wiXSA9IFwibWludXRlc1wiO1xufSkoRGF0ZVRpbWVQaWNrZXJWaWV3IHx8IChEYXRlVGltZVBpY2tlclZpZXcgPSB7fSkpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJWaWV3JDEgPSBEYXRlVGltZVBpY2tlclZpZXc7XG5cbnZhciBzdHlsZXMkZSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX19fZGVmYXVsdCgpKHtcbiAgICB0b29sYmFyOiB7XG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgcGFkZGluZ0xlZnQ6IDE2LFxuICAgICAgcGFkZGluZ1JpZ2h0OiAxNixcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYXJvdW5kJ1xuICAgIH0sXG4gICAgc2VwYXJhdG9yOiB7XG4gICAgICBtYXJnaW46ICcwIDRweCAwIDJweCcsXG4gICAgICBjdXJzb3I6ICdkZWZhdWx0J1xuICAgIH0sXG4gICAgYW1wbVNlbGVjdGlvbjoge1xuICAgICAgdG9wOiA5LFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICBtYXJnaW5MZWZ0OiAxMCxcbiAgICAgIG1hcmdpblJpZ2h0OiAtMTBcbiAgICB9LFxuICAgIGFtcG1MYWJlbDoge1xuICAgICAgZm9udFNpemU6IDE4XG4gICAgfSxcbiAgICBob3VyTWludXRlTGFiZWw6IHtcbiAgICAgIHRvcDogNSxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgZmxleERpcmVjdGlvbjogdGhlbWUuZGlyZWN0aW9uID09PSAncnRsJyA/ICdyb3ctcmV2ZXJzZScgOiAncm93J1xuICAgIH0sXG4gICAgZGF0ZUhlYWRlcjoge1xuICAgICAgaGVpZ2h0OiA2MFxuICAgIH0sXG4gICAgdGltZUhlYWRlcjoge1xuICAgICAgaGVpZ2h0OiA2NSxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIERhdGVUaW1lUGlja2VySGVhZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgb3BlblZpZXcgPSBfYS5vcGVuVmlldyxcbiAgICAgIG1lcmlkaWVtTW9kZSA9IF9hLm1lcmlkaWVtTW9kZSxcbiAgICAgIG9uT3BlblZpZXdDaGFuZ2UgPSBfYS5vbk9wZW5WaWV3Q2hhbmdlLFxuICAgICAgc2V0TWVyaWRpZW1Nb2RlID0gX2Euc2V0TWVyaWRpZW1Nb2RlLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIGFtcG0gPSBfYS5hbXBtO1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoUGlja2VyVG9vbGJhciQxLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRvb2xiYXJcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kYXRlSGVhZGVyXG4gIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuWUVBUik7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLllFQVIsXG4gICAgbGFiZWw6IHV0aWxzLmdldFllYXJUZXh0KGRhdGUpXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImg0XCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURSk7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUsXG4gICAgbGFiZWw6IHV0aWxzLmdldERhdGVUaW1lUGlja2VySGVhZGVyVGV4dChkYXRlKVxuICB9KSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudGltZUhlYWRlclxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmhvdXJNaW51dGVMYWJlbFxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImgzXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuSE9VUik7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIsXG4gICAgbGFiZWw6IHV0aWxzLmdldEhvdXJUZXh0KGRhdGUsIGFtcG0pXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImgzXCIsXG4gICAgbGFiZWw6IFwiOlwiLFxuICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuc2VwYXJhdG9yXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImgzXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuTUlOVVRFUyk7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMsXG4gICAgbGFiZWw6IHV0aWxzLmdldE1pbnV0ZVRleHQoZGF0ZSlcbiAgfSkpLCBhbXBtICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbVNlbGVjdGlvblxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgIHNlbGVjdGVkOiBtZXJpZGllbU1vZGUgPT09ICdhbScsXG4gICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdhbScpLFxuICAgIG9uQ2xpY2s6IHNldE1lcmlkaWVtTW9kZSgnYW0nKVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICBzZWxlY3RlZDogbWVyaWRpZW1Nb2RlID09PSAncG0nLFxuICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgncG0nKSxcbiAgICBvbkNsaWNrOiBzZXRNZXJpZGllbU1vZGUoJ3BtJylcbiAgfSkpKSk7XG59O1xuIGZhbHNlID8gRGF0ZVRpbWVQaWNrZXJIZWFkZXIucHJvcFR5cGVzID0ge1xuICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIG1lcmlkaWVtTW9kZTogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9wZW5WaWV3OiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgb25PcGVuVmlld0NoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBzZXRNZXJpZGllbU1vZGU6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBhbXBtOiBib29sLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuRGF0ZVRpbWVQaWNrZXJIZWFkZXIuZGVmYXVsdFByb3BzID0ge1xuICBhbXBtOiB0cnVlXG59O1xudmFyIERhdGV0aW1lUGlja2VySGVhZGVyID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkZSwge1xuICBuYW1lOiAnTXVpUGlja2VyRFRIZWFkZXInXG59KSh3aXRoVXRpbHMoKShEYXRlVGltZVBpY2tlckhlYWRlcikpO1xuXG52YXIgdmlld1RvVGFiSW5kZXggPSBmdW5jdGlvbiAob3BlblZpZXcpIHtcbiAgaWYgKG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFIHx8IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSKSB7XG4gICAgcmV0dXJuICdkYXRlJztcbiAgfVxuXG4gIHJldHVybiAndGltZSc7XG59O1xuXG52YXIgdGFiSW5kZXhUb1ZpZXcgPSBmdW5jdGlvbiAodGFiKSB7XG4gIGlmICh0YWIgPT09ICdkYXRlJykge1xuICAgIHJldHVybiBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFO1xuICB9XG5cbiAgcmV0dXJuIERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVI7XG59O1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJUYWJzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2aWV3ID0gcHJvcHMudmlldyxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIHRoZW1lID0gcHJvcHMudGhlbWUsXG4gICAgICBkYXRlUmFuZ2VJY29uID0gcHJvcHMuZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uID0gcHJvcHMudGltZUljb247XG4gIHZhciBpbmRpY2F0b3JDb2xvciA9IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0JyA/ICdzZWNvbmRhcnknIDogJ3ByaW1hcnknO1xuXG4gIHZhciBoYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHZpZXdUb1RhYkluZGV4KHZpZXcpKSB7XG4gICAgICBvbkNoYW5nZSh0YWJJbmRleFRvVmlldyh2YWx1ZSkpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fbWF0ZXJpYWxfdWlfY29yZV9QYXBlcl9fX2RlZmF1bHQuYSwgbnVsbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX19fZGVmYXVsdC5hLCB7XG4gICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgIHZhbHVlOiB2aWV3VG9UYWJJbmRleCh2aWV3KSxcbiAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50YWJzLFxuICAgIGluZGljYXRvckNvbG9yOiBpbmRpY2F0b3JDb2xvclxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19tYXRlcmlhbF91aV9jb3JlX1RhYl9fX2RlZmF1bHQuYSwge1xuICAgIHZhbHVlOiBcImRhdGVcIixcbiAgICBpY29uOiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fX2RlZmF1bHQuYSwgbnVsbCwgZGF0ZVJhbmdlSWNvbilcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX21hdGVyaWFsX3VpX2NvcmVfVGFiX19fZGVmYXVsdC5hLCB7XG4gICAgdmFsdWU6IFwidGltZVwiLFxuICAgIGljb246IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX19fZGVmYXVsdC5hLCBudWxsLCB0aW1lSWNvbilcbiAgfSkpKTtcbn07XG4gZmFsc2UgPyBEYXRlVGltZVBpY2tlclRhYnMucHJvcFR5cGVzID0ge1xuICB2aWV3OiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIHRoZW1lOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgZGF0ZVJhbmdlSWNvbjogbm9kZS5pc1JlcXVpcmVkLFxuICB0aW1lSWNvbjogbm9kZS5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xudmFyIHN0eWxlcyRmID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdGFiczoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiA6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZFtcImRlZmF1bHRcIl1cbiAgICB9XG4gIH07XG59O1xudmFyIERhdGVUaW1lUGlja2VyVGFicyQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFRoZW1lX19fZGVmYXVsdCgpKCkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkZiwge1xuICBuYW1lOiAnTXVpUGlja2VyRFRUYWJzJ1xufSkoRGF0ZVRpbWVQaWNrZXJUYWJzKSk7XG5cbnZhciBEYXRlVGltZVBpY2tlclZpZXckMiA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgc2VsZWN0ZWQgPSBfYS5zZWxlY3RlZCxcbiAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47XG5cbiAgaWYgKCFzZWxlY3RlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgfSk7XG59O1xuIGZhbHNlID8gRGF0ZVRpbWVQaWNrZXJWaWV3JDIucHJvcFR5cGVzID0ge1xuICBzZWxlY3RlZDogYm9vbC5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoRGF0ZVRpbWVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVRpbWVQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW5WaWV3OiBfdGhpcy5wcm9wcy5vcGVuVG8sXG4gICAgICBtZXJpZGllbU1vZGU6IF90aGlzLnByb3BzLnV0aWxzLmdldEhvdXJzKF90aGlzLnByb3BzLmRhdGUpID49IDEyID8gJ3BtJyA6ICdhbSdcbiAgICB9O1xuXG4gICAgX3RoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gsIG5leHRWaWV3KSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh0aW1lKTtcblxuICAgICAgaWYgKGlzRmluaXNoICYmIF90aGlzLnByb3BzLmF1dG9TdWJtaXQpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlVmlld0NoYW5nZShuZXh0Vmlldyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnNldE1lcmlkaWVtTW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbWVyaWRpZW1Nb2RlOiBtb2RlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnByb3BzLmRhdGUsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVWaWV3Q2hhbmdlID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IHZpZXdcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlzRmluaXNoID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciB3aXRoTWVyaWRpZW0gPSBjb252ZXJ0VG9NZXJpZGllbSh0aW1lLCBfdGhpcy5zdGF0ZS5tZXJpZGllbU1vZGUsIEJvb2xlYW4oX3RoaXMucHJvcHMuYW1wbSksIF90aGlzLnByb3BzLnV0aWxzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uod2l0aE1lcmlkaWVtLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVllYXJDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgX3RoaXMub25DaGFuZ2UoZGF0ZSwgZmFsc2UsIERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVEYXlDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLm9uQ2hhbmdlKGRhdGUsIGlzRmluaXNoLCBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlSG91ckNoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMub25DaGFuZ2UodGltZSwgaXNGaW5pc2gsIERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXRlVGltZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIG9wZW5WaWV3ID0gX2Eub3BlblZpZXcsXG4gICAgICAgIG1lcmlkaWVtTW9kZSA9IF9hLm1lcmlkaWVtTW9kZTtcbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBkYXRlID0gX2IuZGF0ZSxcbiAgICAgICAgbWluRGF0ZSA9IF9iLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYi5tYXhEYXRlLFxuICAgICAgICBzaG93VGFicyA9IF9iLnNob3dUYWJzLFxuICAgICAgICBkaXNhYmxlUGFzdCA9IF9iLmRpc2FibGVQYXN0LFxuICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2IuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgbGVmdEFycm93SWNvbiA9IF9iLmxlZnRBcnJvd0ljb24sXG4gICAgICAgIHJpZ2h0QXJyb3dJY29uID0gX2IucmlnaHRBcnJvd0ljb24sXG4gICAgICAgIGRhdGVSYW5nZUljb24gPSBfYi5kYXRlUmFuZ2VJY29uLFxuICAgICAgICB0aW1lSWNvbiA9IF9iLnRpbWVJY29uLFxuICAgICAgICByZW5kZXJEYXkgPSBfYi5yZW5kZXJEYXksXG4gICAgICAgIGFtcG0gPSBfYi5hbXBtLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9iLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IF9iLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IF9iLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50ID0gX2IuVmlld0NvbnRhaW5lckNvbXBvbmVudDtcbiAgICB2YXIgQ29udGFpbmVyID0gVmlld0NvbnRhaW5lckNvbXBvbmVudDtcbiAgICB2YXIgVmlld0NvbnRhaW5lckNvbXBvbmVudFByb3BzID0gdHlwZW9mIFZpZXdDb250YWluZXJDb21wb25lbnQgPT09ICdzdHJpbmcnID8ge30gOiB7XG4gICAgICBvcGVuVmlldzogb3BlblZpZXcsXG4gICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZVxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGV0aW1lUGlja2VySGVhZGVyLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgb3BlblZpZXc6IG9wZW5WaWV3LFxuICAgICAgbWVyaWRpZW1Nb2RlOiBtZXJpZGllbU1vZGUsXG4gICAgICBzZXRNZXJpZGllbU1vZGU6IHRoaXMuc2V0TWVyaWRpZW1Nb2RlLFxuICAgICAgb25PcGVuVmlld0NoYW5nZTogdGhpcy5oYW5kbGVWaWV3Q2hhbmdlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0pLCBzaG93VGFicyAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGltZVBpY2tlclRhYnMkMSwge1xuICAgICAgdmlldzogb3BlblZpZXcsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVWaWV3Q2hhbmdlLFxuICAgICAgZGF0ZVJhbmdlSWNvbjogZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uOiB0aW1lSWNvblxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDb250YWluZXIsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBWaWV3Q29udGFpbmVyQ29tcG9uZW50UHJvcHMpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGltZVBpY2tlclZpZXckMiwge1xuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoWWVhclNlbGVjdGlvbiQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVZZWFyQ2hhbmdlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZ1xuICAgIH0pKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXJWaWV3JDIsIHtcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURVxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENhbGVuZGFyJDEsIHtcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZURheUNoYW5nZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGVcbiAgICB9KSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUaW1lUGlja2VyVmlldyQyLCB7XG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIgfHwgb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVNcbiAgICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUaW1lUGlja2VyVmlldyQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgdHlwZTogb3BlblZpZXcsXG4gICAgICBvbkhvdXJDaGFuZ2U6IHRoaXMuaGFuZGxlSG91ckNoYW5nZSxcbiAgICAgIG9uTWludXRlc0NoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICBvblNlY29uZHNDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0pKSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IERhdGVUaW1lUGlja2VyLnByb3BUeXBlcyA9IHtcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgICBhbXBtOiBib29sLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICAgIGF1dG9TdWJtaXQ6IGJvb2wsXG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW5pdGlhbEZvY3VzZWREYXRlOiBhbnksXG4gICAgaW5uZXJSZWY6IGFueSxcbiAgICBkYXRlUmFuZ2VJY29uOiBub2RlLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZS5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvcGVuVG86IG9uZU9mKE9iamVjdC5rZXlzKERhdGVUaW1lUGlja2VyVmlldyQxKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lUGlja2VyVmlldyQxW2tleV07XG4gICAgfSkpLmlzUmVxdWlyZWQsXG4gICAgcmVuZGVyRGF5OiBmdW5jLFxuICAgIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIHNob3dUYWJzOiBib29sLFxuICAgIHRpbWVJY29uOiBub2RlLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50OiBvbmVPZlR5cGUoW3N0cmluZywgZnVuYywgb2JqZWN0XSlcbiAgfSA6IHZvaWQgMDtcbiAgRGF0ZVRpbWVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBmYWxzZSxcbiAgICBhbXBtOiB0cnVlLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgICBhdXRvU3VibWl0OiB0cnVlLFxuICAgIGRhdGVSYW5nZUljb246IHVuZGVmaW5lZCxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gICAgbGVmdEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICAgIHJpZ2h0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgICBzaG93VGFiczogdHJ1ZSxcbiAgICB0aW1lSWNvbjogdW5kZWZpbmVkLFxuICAgIFZpZXdDb250YWluZXJDb21wb25lbnQ6ICdkaXYnXG4gIH07XG4gIHJldHVybiBEYXRlVGltZVBpY2tlcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJDb21wb25lbnRcIl0pO1xudmFyIERhdGVUaW1lUGlja2VyJDEgPSB3aXRoVXRpbHMoKShEYXRlVGltZVBpY2tlcik7XG5cbnZhciBEYXRlVGltZVBpY2tlck1vZGFsID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb3BlblRvID0gcHJvcHMub3BlblRvLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIHNob3dUYWJzID0gcHJvcHMuc2hvd1RhYnMsXG4gICAgICBhdXRvU3VibWl0ID0gcHJvcHMuYXV0b1N1Ym1pdCxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIGRhdGVSYW5nZUljb24gPSBwcm9wcy5kYXRlUmFuZ2VJY29uLFxuICAgICAgdGltZUljb24gPSBwcm9wcy50aW1lSWNvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBwcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gcHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiYXV0b09rXCIsIFwib3BlblRvXCIsIFwibWluRGF0ZVwiLCBcIm1heERhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJzaG93VGFic1wiLCBcImF1dG9TdWJtaXRcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJkYXRlUmFuZ2VJY29uXCIsIFwidGltZUljb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJhbXBtXCIsIFwic2hvdWxkRGlzYWJsZURhdGVcIiwgXCJhbmltYXRlWWVhclNjcm9sbGluZ1wiLCBcImZvcndhcmRlZFJlZlwiLCBcImFsbG93S2V5Ym9hcmRDb250cm9sXCJdKTsgLy8gZG8gbm90IHNob3cgdGFicyBmb3Igc21hbGwgc2NyZWVuc1xuXG5cbiAgdmFyIHRvU2hvd1RhYnMgPSBzaG93VGFicyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuaW5uZXJIZWlnaHQgPiA2Njc7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShCYXNlUGlja2VyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0LFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZUNsZWFyID0gX2EuaGFuZGxlQ2xlYXIsXG4gICAgICAgIGhhbmRsZURpc21pc3MgPSBfYS5oYW5kbGVEaXNtaXNzLFxuICAgICAgICBoYW5kbGVTZXRUb2RheURhdGUgPSBfYS5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdCA9IF9hLnBpY2sxMmhPcjI0aEZvcm1hdDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoTW9kYWxXcmFwcGVyLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBzaG93VGFiczogdG9TaG93VGFicyxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25BY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBvbkNsZWFyOiBoYW5kbGVDbGVhcixcbiAgICAgIG9uRGlzbWlzczogaGFuZGxlRGlzbWlzcyxcbiAgICAgIG9uU2V0VG9kYXk6IGhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy5kYXRlVGltZTEyaEZvcm1hdCwgdXRpbHMuZGF0ZVRpbWUyNGhGb3JtYXQpXG4gICAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGltZVBpY2tlciQxLCB7XG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgYXV0b1N1Ym1pdDogYXV0b1N1Ym1pdCxcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBkYXRlUmFuZ2VJY29uOiBkYXRlUmFuZ2VJY29uLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBvcGVuVG86IG9wZW5UbyxcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlLFxuICAgICAgc2hvd1RhYnM6IHRvU2hvd1RhYnMsXG4gICAgICB0aW1lSWNvbjogdGltZUljb25cbiAgICB9KSk7XG4gIH0pO1xufTtcbiBmYWxzZSA/IERhdGVUaW1lUGlja2VyTW9kYWwucHJvcFR5cGVzID0ge1xuICAvKiogRGF0ZS10aW1lIHBpY2tlciB2YWx1ZSAqL1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG5cbiAgLyoqIERhdGUgZm9ybWF0IHN0cmluZyBmb3IgaW5wdXQgKi9cbiAgZm9ybWF0OiBzdHJpbmcsXG5cbiAgLyoqIENhbGxiYWNrIGZpcmluZyB3aGVuIGRhdGUgYWNjZXB0ZWQgWyhkYXRlOiBEYXRlKSA9PiB2b2lkXSAqL1xuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKiBBdXRvIGFjY2VwdCBkYXRlIG9uIG1pbnV0ZSBzZWxlY3Rpb24gKi9cbiAgYXV0b09rOiBib29sLFxuXG4gIC8qKiBNb3ZlIHRvIHRoZSBuZXh0IHBhcnQgb2YgZGF0ZSBvbiBzZWxlY3QgKHllYXIgLT4gZGF0ZSAtPiBob3VyIC0+IG1pbnV0ZSkgKi9cbiAgYXV0b1N1Ym1pdDogYm9vbCxcblxuICAvKiogRGlzYWJsZSBmdXR1cmUgZGF0ZXMgKi9cbiAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcblxuICAvKiogRGlzYWJsZSBwYXN0IGRhdGVzICovXG4gIGRpc2FibGVQYXN0OiBib29sLFxuXG4gIC8qKiBNaW4gc2VsZWN0YWJsZSBkYXRlICovXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBNYXggc2VsZWN0YWJsZSBkYXRlICovXG4gIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBJbml0aWFsIGZvY3VzZWQgZGF0ZSB3aGVuIGNhbGVuZGFyIG9wZW5zLCBpZiBubyB2YWx1ZSBpcyBwcm92aWRlZCAqL1xuICBpbml0aWFsRm9jdXNlZERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBTaG93IGRhdGUvdGltZSB0YWJzICovXG4gIHNob3dUYWJzOiBib29sLFxuXG4gIC8qKiBMZWZ0IGFycm93IGljb24gKi9cbiAgbGVmdEFycm93SWNvbjogbm9kZSxcblxuICAvKiogUmlnaHQgYXJyb3cgaWNvbiAqL1xuICByaWdodEFycm93SWNvbjogbm9kZSxcblxuICAvKiogRGF0ZSB0YWIgaWNvbiAqL1xuICBkYXRlUmFuZ2VJY29uOiBub2RlLFxuXG4gIC8qKiBUaW1lIHRhYiBpY29uICovXG4gIHRpbWVJY29uOiBub2RlLFxuXG4gIC8qKlxuICAgKiBDdXN0b20gcmVuZGVyZXIgZm9yIGRheVxuICAgKiBbKGRhdGU6IERhdGUsIG5vd1NlbGVjdGVkRGF0ZTogRGF0ZSwgaXNJbkN1cnJlbnRNb250aDogYm9vbGVhbikgPT4gUmVhY3RFbGVtZW50XVxuICAgKi9cbiAgcmVuZGVyRGF5OiBmdW5jLFxuXG4gIC8qKiAxMmgvMjRoIHZpZXcgZm9yIGhvdXIgc2VsZWN0aW9uIGNsb2NrICovXG4gIGFtcG06IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgc3BlY2lmaWMgZGF0ZSBbKGRhdGU6IERhdGUpID0+IGJvb2xlYW5dICovXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuXG4gIC8qKiBFbmFibGUgYW5pbWF0ZWQgc2Nyb2xsaW5nIHRvIGN1cnJlbnQgeWVhciAqL1xuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcblxuICAvKiogT3BlbiBkaXJlY3RseSB0byBwYXJ0aWN1bGFyIHZpZXcgKi9cbiAgb3BlblRvOiBvbmVPZihbJ3llYXInLCAnZGF0ZScsICdob3VyJywgJ21pbnV0ZXMnXSksXG5cbiAgLyoqIEVuYWJsZXMga2V5Ym9hcmQgbGlzdGVuZXIgZm9yIG1vdmluZyBiZXR3ZWVuIGRheXMgaW4gY2FsZW5kYXIgKi9cbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcbkRhdGVUaW1lUGlja2VyTW9kYWwuZGVmYXVsdFByb3BzID0ge1xuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIGF1dG9PazogZmFsc2UsXG4gIGF1dG9TdWJtaXQ6IHRydWUsXG4gIG9wZW5UbzogJ2RhdGUnLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiB1bmRlZmluZWQsXG4gIHNob3dUYWJzOiB0cnVlLFxuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICBkYXRlUmFuZ2VJY29uOiAnZGF0ZV9yYW5nZScsXG4gIHRpbWVJY29uOiAnYWNjZXNzX3RpbWUnLFxuICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgYW1wbTogdHJ1ZSxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IHRydWVcbn07XG52YXIgRGF0ZVRpbWVQaWNrZXJNb2RhbCQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUaW1lUGlja2VyTW9kYWwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJJbmxpbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBvcGVuVG8gPSBwcm9wcy5vcGVuVG8sXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIG1heERhdGUgPSBwcm9wcy5tYXhEYXRlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gcHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlLFxuICAgICAgc2hvd1RhYnMgPSBwcm9wcy5zaG93VGFicyxcbiAgICAgIGF1dG9TdWJtaXQgPSBwcm9wcy5hdXRvU3VibWl0LFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgbGVmdEFycm93SWNvbiA9IHByb3BzLmxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbiA9IHByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgZGF0ZVJhbmdlSWNvbiA9IHByb3BzLmRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbiA9IHByb3BzLnRpbWVJY29uLFxuICAgICAgcmVuZGVyRGF5ID0gcHJvcHMucmVuZGVyRGF5LFxuICAgICAgYW1wbSA9IHByb3BzLmFtcG0sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gcHJvcHMuYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShwcm9wcywgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJhdXRvT2tcIiwgXCJvcGVuVG9cIiwgXCJtaW5EYXRlXCIsIFwibWF4RGF0ZVwiLCBcImluaXRpYWxGb2N1c2VkRGF0ZVwiLCBcInNob3dUYWJzXCIsIFwiYXV0b1N1Ym1pdFwiLCBcImRpc2FibGVQYXN0XCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImxlZnRBcnJvd0ljb25cIiwgXCJyaWdodEFycm93SWNvblwiLCBcImRhdGVSYW5nZUljb25cIiwgXCJ0aW1lSWNvblwiLCBcInJlbmRlckRheVwiLCBcImFtcG1cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwiYWxsb3dLZXlib2FyZENvbnRyb2xcIl0pO1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShCYXNlUGlja2VyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGF1dG9PazogdHJ1ZVxuICB9KSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdCA9IF9hLnBpY2sxMmhPcjI0aEZvcm1hdCxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0O1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShJbmxpbmVXcmFwcGVyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIGlubmVyUmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGhhbmRsZUFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgZm9ybWF0OiBwaWNrMTJoT3IyNGhGb3JtYXQodXRpbHMuZGF0ZVRpbWUxMmhGb3JtYXQsIHV0aWxzLmRhdGVUaW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXIkMSwge1xuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9TdWJtaXQ6IGF1dG9TdWJtaXQsXG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgZGF0ZVJhbmdlSWNvbjogZGF0ZVJhbmdlSWNvbixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvOiBvcGVuVG8sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHNob3dUYWJzOiBzaG93VGFicyxcbiAgICAgIHRpbWVJY29uOiB0aW1lSWNvblxuICAgIH0pKTtcbiAgfSk7XG59O1xuIGZhbHNlID8gRGF0ZVRpbWVQaWNrZXJJbmxpbmUucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IGJvb2wsXG4gIGF1dG9TdWJtaXQ6IGJvb2wsXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gIGRpc2FibGVQYXN0OiBib29sLFxuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIHNob3dUYWJzOiBib29sLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgZGF0ZVJhbmdlSWNvbjogbm9kZSxcbiAgdGltZUljb246IG5vZGUsXG4gIHJlbmRlckRheTogZnVuYyxcbiAgYW1wbTogYm9vbCxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICBvcGVuVG86IG9uZU9mKFsneWVhcicsICdkYXRlJywgJ2hvdXInLCAnbWludXRlcyddKSxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcbkRhdGVUaW1lUGlja2VySW5saW5lLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhdXRvU3VibWl0OiB0cnVlLFxuICBvcGVuVG86ICdkYXRlJyxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBzaG93VGFiczogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgZGF0ZVJhbmdlSWNvbjogJ2RhdGVfcmFuZ2UnLFxuICB0aW1lSWNvbjogJ2FjY2Vzc190aW1lJyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGFtcG06IHRydWUsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlXG59O1xudmFyIERhdGVUaW1lUGlja2VySW5saW5lJDEgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJmb3J3YXJkUmVmXCJdKShmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXJJbmxpbmUsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGVyaWFsLXVpLXBpY2tlcnMuZXNtLmpzLm1hcFxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDc5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX1BhcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0NoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjEpO1xuXG52YXIgX0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrYm94KTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX0ludm9pY2VUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4MCk7XG5cbnZhciBfSW52b2ljZVRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludm9pY2VUYWJsZSk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTY1KTtcblxudmFyIF9TbmFja2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2Jhcik7XG5cbnZhciBfSWNvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXG52YXIgX0ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvbkJ1dHRvbik7XG5cbnZhciBfQ2xvc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblxudmFyIF9DbG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9zZSk7XG5cbnZhciBfQ2xlYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNCk7XG5cbnZhciBfQ2xlYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xlYXIpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgX2Jhc2VTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlU3R5bGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBkdWVEZXRhaWxzUm9vdDoge1xuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjBcIixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICB9LFxuICAgICAgICBwb3N0Q2FsbER1ZURldGFpbHNSb290OiB7XG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiMFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjYwdmhcIixcbiAgICAgICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW5cblxuICAgICAgICB9LFxuICAgICAgICBjaGVja2VkSWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdEZpbHRlcjoge1xuICAgICAgICAgICAgbWluV2lkdGg6IDEyMCxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi45cmVtICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMS43MTh2d1wiXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsSWNvbjoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS40NnZoICsgMS40NnZ3KVwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgZW5hYmxlZEVtYWlsSWNvbjoge1xuICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZEVtYWlsSWNvbjoge1xuICAgICAgICAgICAgb3BhY2l0eTogXCIuNVwiXG4gICAgICAgIH0sXG4gICAgICAgIGJsYWNrVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RNZW51OiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIuOXJlbSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjIpXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJTZWxlY3Rpb25zOiB7XG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBjbGVhclNlbGVjdGlvbnNQYXJlbnQ6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiLjQ1cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0SWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAuNlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RMaW5lUG9zdENhbGw6IHtcbiAgICAgICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjNTk2QTc1ICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiLjd2aCAwXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0TGluZUluQ2FsbDoge1xuICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIyLjAzN3ZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUJ1Y2tldENoZWNrYm94OiB7XG4gICAgICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tCb3hSb290OiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjBcIlxuICAgICAgICB9LFxuICAgICAgICBjbGVhclNlbGVjdGlvbkdyaWQ6IHtcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCJcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGludm9pY2VzOiBbXSxcbiAgICBmaWx0ZXJJbnZvaWNlczogZnVuY3Rpb24gZmlsdGVySW52b2ljZXMoKSB7fSxcbiAgICBidWNrZXROYW1lczogW11cbn07XG5cbnZhciBEdWVEZXRhaWxzID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRHVlRGV0YWlscywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEdWVEZXRhaWxzKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEdWVEZXRhaWxzKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRHVlRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKER1ZURldGFpbHMpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgICAgICBfdGhpcy50b3RhbFJvd3MgPSAwO1xuICAgICAgICB2YXIgbWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIF90aGlzLnRvdGFsUm93cyA9IF90aGlzLnRvdGFsUm93cyArIHByb3BzLmludm9pY2VzW2pdLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXNbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCkgbWFwW3Byb3BzLmludm9pY2VzW2pdW2ldLmlkXSA9IGZhbHNlO2Vsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW52b2ljZXNbal1baV0uaWQgaW4gcHJvcHMuY29ycmVjdEludm9pY2VzTWFwKSBtYXBbcHJvcHMuaW52b2ljZXNbal1baV0uaWRdID0gdHJ1ZTtlbHNlIG1hcFtwcm9wcy5pbnZvaWNlc1tqXVtpXS5pZF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMucHJvcHMucG9zdENhbGwgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMuc2V0U2VsZWN0ZWRJbnZvaWNlcyhtYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBpbnZvaWNlVHlwZTogXCJBbGxcIixcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IG1hcCxcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGdsb2JhbENoZWNrOiBmYWxzZSxcbiAgICAgICAgICAgIGlzQnVsa0VtYWlsOiB0cnVlLFxuICAgICAgICAgICAgY29sbGVjdG9yOiBfdGhpcy5wcm9wcy5jb2xsZWN0b3IsXG4gICAgICAgICAgICBjdXN0b21lcjogX3RoaXMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnByb3BzLmZpbHRlckludm9pY2VzKFwiQWxsXCIpO1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRHVlRGV0YWlscywgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsIF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcyx0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcblxuXG4gICAgICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cblxuXG4gICAgICAgIC8vIFNlbmQgZW1haWwgZm9yIG1vcmUgdGhhbiBvbmUgaW52b2ljZVxuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuICAgICAgICAgICAgdmFyIGRheXMgPSB0aGlzLnByb3BzLmJ1Y2tldE5hbWVzO1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5wb3N0Q2FsbCA/IGNsYXNzZXMucG9zdENhbGxEdWVEZXRhaWxzUm9vdCA6IGNsYXNzZXMuZHVlRGV0YWlsc1Jvb3QsIGVsZXZhdGlvbjogMCB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBjbGFzc05hbWU6IHRoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnNlbGVjdExpbmVQb3N0Q2FsbCA6IGNsYXNzZXMuc2VsZWN0TGluZUluQ2FsbCB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUJ1Y2tldENoZWNrYm94LCBhbGlnbjogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMuY2hlY2tCb3hSb290IH0sIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2ZycgfSksIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZDogdGhpcy5zdGF0ZS5nbG9iYWxDaGVjaywgb25DbGljazogdGhpcy5oYW5kbGVDaGFuZ2UgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5ibGFja1RleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0IEFsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmlldyBcXHhBMDonXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfU2VsZWN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuc2VsZWN0RmlsdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW52b2ljZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUZpbHRlckNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24sIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW51UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJpbnZvaWNlVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdBbGwnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBbGwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdCcm9rZW4gUDJQJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQnJva2VuIFAyUCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ1VwY29taW5nIFAyUCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VwY29taW5nIFAyUCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0Rpc3B1dGUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEaXNwdXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnUHJlZGljdGVkIERlbGlucXVlbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdQcmVkaWN0ZWQgRGVsaW5xdWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucG9zdENhbGwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDUsIGFsaWduOiAncmlnaHQnLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5jbGVhclNlbGVjdGlvbkdyaWQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbGVhclNlbGVjdGlvbnMsIGNsYXNzTmFtZTogY2xhc3Nlcy5jbGVhclNlbGVjdGlvbnNQYXJlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xlYXIyLmRlZmF1bHQsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMS4xcmVtXCIsIG9wYWNpdHk6IDAuNjUgfSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2xlYXJTZWxlY3Rpb25zIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDbGVhciBTZWxlY3Rpb25zICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogNSwgYWxpZ246ICdyaWdodCcsIHN0eWxlOiB7IHBhZGRpbmdSaWdodDogXCIwdndcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxJY29uLCBjbGFzc2VzLmVuYWJsZWRFbWFpbEljb24pLCBvbkNsaWNrOiB0aGlzLnNlbmRCdWxrRW1haWwsIHNyYzogJy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLmlzQnVsa0VtYWlsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmVtYWlsSWNvbiwgY2xhc3Nlcy5kaXNhYmxlZEVtYWlsSWNvbiksIHNyYzogJy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGZ1bmN0aW9uIChidWNrZXRJbnZvaWNlcywgaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnZvaWNlVGFibGUyLmRlZmF1bHQsIHsgZW1haWxPZkNhbGxlZDogX3RoaXMzLnByb3BzLmVtYWlsT2ZDYWxsZWQsIHBvc3RDYWxsOiBfdGhpczMucHJvcHMucG9zdENhbGwsIGNvbGxlY3RvcjogX3RoaXMzLnByb3BzLmNvbGxlY3RvciwgY3VzdG9tZXI6IF90aGlzMy5wcm9wcy5jdXN0b21lciwgc2VsZWN0ZWRJbnZvaWNlczogX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMsIGludm9pY2VzOiBidWNrZXRJbnZvaWNlcywgaW5kaXZpZHVhbDogZmFsc2UsIGRheXM6IGRheXNbaWRdLCBpbnZvaWNlVHlwZTogX3RoaXMzLnN0YXRlLmludm9pY2VUeXBlLCB1cGRhdGVHbG9iYWxNYXA6IF90aGlzMy51cGRhdGVHbG9iYWxNYXAgfSk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tCYXJPcGVuLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbWVzc2FnZS1pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlU25hY2tiYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICldXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRHVlRGV0YWlscztcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHRoaXMuc2V0Q2hlY2sgPSBmdW5jdGlvbiAoaW52b2ljZXMsIHNlbGVjdGVkSW52b2ljZXMpIHtcblxuICAgICAgICB2YXIgYWxsRW1haWxzRmxhZyA9IGZhbHNlO1xuXG4gICAgICAgIHZhciB0ZW1wID0gaW52b2ljZXM7XG5cbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgc3VtID0gc3VtICsgdGVtcFtqXS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vZW5hYmxlIG9yIGRpc2FibGUgZW1haWwgaWNvbiBiYXNlZCBvbiBzZWxlY3Rpb25cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBhbGxFbWFpbHNGbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFsbEVtYWlsc0ZsYWcpIHtcbiAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGlzQnVsa0VtYWlsOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdW0gPT0gMCkgZmxhZyA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSkgX3RoaXM0LnNldFN0YXRlKHsgZ2xvYmFsQ2hlY2s6IGZhbHNlIH0pO2Vsc2UgX3RoaXM0LnNldFN0YXRlKHsgZ2xvYmFsQ2hlY2s6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlR2xvYmFsTWFwID0gZnVuY3Rpb24gKGRhdGEsIGZsYWcsIGNhbGxGcm9tQ2hpbGQpIHtcbiAgICAgICAgdmFyIHRlbXA7XG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xuICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICAgICAgICAgIHRlbXAgPSBfdGhpczQuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJlbW92ZVwiOlxuICAgICAgICAgICAgICAgIHRlbXAgPSBfdGhpczQuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0Q2hlY2soX3RoaXM0LnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhZGRBcnJheVwiOlxuICAgICAgICAgICAgICAgIGlmIChjYWxsRnJvbUNoaWxkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IF90aGlzNC5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtpXS5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1fdGhpczQuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0Q2hlY2soX3RoaXM0LnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInJlbW92ZUFycmF5XCI6XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxGcm9tQ2hpbGQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9X3RoaXM0LnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldENoZWNrKF90aGlzNC5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXM0LnByb3BzLnBvc3RDYWxsID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzNC5wcm9wcy5zZXRTZWxlY3RlZEludm9pY2VzKHRlbXApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLmdsb2JhbENoZWNrID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVHbG9iYWxNYXAoX3RoaXM0LnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVHbG9iYWxNYXAoX3RoaXM0LnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNsZWFyU2VsZWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnVwZGF0ZUdsb2JhbE1hcChfdGhpczQuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIiwgZmFsc2UpO1xuICAgIH07XG5cbiAgICB0aGlzLmZpbmRUeXBlID0gZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgaWYgKGludm9pY2UucDJwRGVsaW5xdWVudCkgcmV0dXJuIFwiUHJlZGljdGVkIERlbGlucW1lbnRcIjtcbiAgICAgICAgaWYgKGludm9pY2UucDJwVXBjb21pbmcpIHJldHVybiBcIlVwY29taW5nIFAyUFwiO1xuICAgICAgICBpZiAoaW52b2ljZS5wMnBCcm9rZW4pIHJldHVybiBcIkJyb2tlbiBQMlBcIjtcbiAgICAgICAgcmV0dXJuIFwiRGlzcHV0ZVwiO1xuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZUZpbHRlckNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyB0aGlzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICAgICAgICAvLyB2YXIgaW52b2ljZVR5cGUgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgLy8gaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXG4gICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IHRoaXMuc3RhdGUuYWxsSW52b2ljZXMgfSwoKSA9PiB7dGhpcy5zZXRDaGVjaygpfSk7XG4gICAgICAgIC8vIGVsc2Uge1xuICAgICAgICAvLyAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcbiAgICAgICAgLy8gICAgIHZhciBmaWx0ZXJlZEludm9pY2VzID0gW11cbiAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIC8vICAgICAgICAgZmlsdGVyZWRJbnZvaWNlc1tpXSA9IGludm9pY2VzW2ldLmZpbHRlcihpbnZvaWNlID0+IHRoaXMuZmluZFR5cGUoaW52b2ljZSkgPT0gaW52b2ljZVR5cGUpO1xuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0sKCkgPT4ge3RoaXMuc2V0Q2hlY2soKX0pO1xuICAgICAgICAvLyB9XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGludm9pY2VUeXBlOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgIF90aGlzNC5wcm9wcy5maWx0ZXJJbnZvaWNlcyhldmVudC50YXJnZXQudmFsdWUpO1xuICAgIH07XG5cbiAgICB0aGlzLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzbmFja0Jhck1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbmRCdWxrRW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZW1wID0gX3RoaXM0LnN0YXRlLmludm9pY2VzO1xuICAgICAgICB2YXIgZG9jdW1lbnROdW1iZXJzID0gW107XG5cbiAgICAgICAgLy8gR2V0IHRoZSBjaGVja2VkIGludm9pY2VzIElkXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzNC5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbal1baV0uaWRdID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXJzLnB1c2godGVtcFtqXVtpXS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcbiAgICAgICAgdmFyIHJlcUVtYWlsT2JqID0ge1xuICAgICAgICAgICAgY3VzdG9tZXJJZDogX3RoaXM0LnN0YXRlLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IGRvY3VtZW50TnVtYmVycyxcbiAgICAgICAgICAgIGZyb206IF90aGlzNC5zdGF0ZS5jb2xsZWN0b3IuZW1haWxJZCwgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxuICAgICAgICAgICAgdG86IF90aGlzNC5wcm9wcy5lbWFpbE9mQ2FsbGVkIC8vZ2V0IGZyb20gQ29udGFjdCBvYmplY3QuXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTWFraW5nIGEgcG9zdCBjYWxsIGZvciBzZW5kaW5nIGVtYWlsc1xuICAgICAgICBfYXhpb3MyLmRlZmF1bHQucG9zdChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHknLCByZXFFbWFpbE9iailcbiAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgICAvLyBtb2NrIHNlcnZlciBhcGlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpczQub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzQ291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpIGluIHNlbGVjdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzW2ldID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyknO1xuICAgIH07XG59O1xuXG5EdWVEZXRhaWxzLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICAgIGZpbHRlckludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5cbkR1ZURldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG52YXIgY29tYmluZWRTdHlsZSA9ICgwLCBfY29tYmluZVN0eWxlczIuZGVmYXVsdCkoc3R5bGVzLCBfYmFzZVN0eWxlMi5kZWZhdWx0KTtcbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKER1ZURldGFpbHMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA4MDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NCk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWwpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsU3VtbWFyeSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc1KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbERldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuc2lvblBhbmVsRGV0YWlscyk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9FeHBhbmRNb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzUpO1xuXG52YXIgX0V4cGFuZE1vcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5kTW9yZSk7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyMSk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX0RvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1MCk7XG5cbnZhciBfRG9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Eb25lKTtcblxudmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfU25hY2tiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cbnZhciBfU25hY2tiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25hY2tiYXIpO1xuXG52YXIgX0ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblxudmFyIF9JY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25CdXR0b24pO1xuXG52YXIgX1Rvb2x0aXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcblxudmFyIF9Ub29sdGlwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Rvb2x0aXApO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgX2Jhc2VTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlU3R5bGUpO1xuXG52YXIgX0dyaWRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjIpO1xuXG52YXIgX0dyaWRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0KTtcblxudmFyIF9HcmlkTGlzdFRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyMyk7XG5cbnZhciBfR3JpZExpc3RUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0VGlsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbi8vIGltcG9ydCBMaXN0T2ZUaWxlIGZyb20gJy4vTGlzdE9mVGlsZSc7XG5cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMFwiXG4gICAgICAgIH0sXG4gICAgICAgIHBvc3RDYWxsUm9vdDoge1xuICAgICAgICAgICAgcGFkZGluZzogXCIwXCIsXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IFwiLjh2aFwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEuMjV2d1wiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjIuMjJ2aFwiLFxuICAgICAgICAgICAgb3BhY2l0eTogXCIuNlwiXG5cbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tlZEljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAgICAgekluZGV4OiBcIjNcIixcbiAgICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0RmlsdGVyOiB7XG4gICAgICAgICAgICBtaW5XaWR0aDogMTIwLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIxLjcxOHZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBtYXJnaW46ICcwIC0ycHggLTJweCAtMnB4ICFpbXBvcnRhbnQnLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3REaXY6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcbiAgICAgICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RlZEdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiXG4gICAgICAgIH0sXG4gICAgICAgIHNoaWZ0OiB7XG4gICAgICAgICAgICBtYXJnaW46IFwiMXJlbSAxcmVtIDAgMXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIHByaW1hcnlDb2xvcjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjk1cmVtXCIsXG4gICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JleVRleHQ6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiLjY1XCJcbiAgICAgICAgfSxcbiAgICAgICAgYnVja2V0SGVhZGVyVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2VSb3dCYWNrZ3JvdW5kOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzU4Njk3M1wiXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRCYWNrZ3JvdW5kOiB7XG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjMzk1QzczICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI1LjY1dmhcIlxuICAgICAgICB9LFxuICAgICAgICBpbnZvaWNlSGVhZGVyVGV4dDoge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiLjVcIlxuICAgICAgICB9LFxuICAgICAgICBwYW5lbFN1bW1hcnk6IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMFwiLCBtYXJnaW46IFwiMFwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgIG1hcmdpbjogXCIwICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBleHBhbmRJY29uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBpbmRpdmlkdWFsSW52b2ljZUhlYWRlcjoge1xuICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMi4wMzd2aCAxcmVtIDAgMXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb25TaXplOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIlxuICAgICAgICB9LFxuICAgICAgICBlbmFibGVkRW1haWxJY29uOiB7XG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkRW1haWxJY29uOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiBcIi41XCJcbiAgICAgICAgfSxcbiAgICAgICAgc3VtbWFyeUV4cGFuZGVkOiB7XG4gICAgICAgICAgICBtaW5IZWlnaHQ6IFwiNS41NXZoICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlVGltZWxpbmU6IHtcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIyLjJyZW1cIiwgbWFyZ2luTGVmdDogXCIuMnJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVsaW5lOiB7XG4gICAgICAgICAgICBib3JkZXJMZWZ0OiBcIjFweCBzb2xpZCAjNTk2QTc1XCJcbiAgICAgICAgfVxuICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZGlzYWJsZVRpbWVsaW5lJywge30pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3Bvc3RDYWxsVGltZWxpbmUnLCB7XG4gICAgICAgIGJvcmRlckxlZnQ6IFwiMXB4IHNvbGlkICMzOTVDNzNcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3NlbGVjdEljb24nLCB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgb3BhY2l0eTogLjZcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdzdW1tYXJ5Q29udGVudCcsIHtcbiAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAgIWltcG9ydGFudFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnaW52b2ljZU51bWJlckNvbHVtbicsIHtcbiAgICAgICAgd2lkdGg6IFwiMTQlXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdhbW91bnRDb2x1bW4nLCB7XG4gICAgICAgIHdpZHRoOiBcIjEyJVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnYnJva2VuQ29sdW1uJywge1xuICAgICAgICB3aWR0aDogXCIxMy41JVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAndXBjb21pbmdDb2x1bW4nLCB7XG4gICAgICAgIHdpZHRoOiBcIjE0JVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZGlzcHV0ZUNvbHVtbicsIHtcbiAgICAgICAgd2lkdGg6IFwiMTMlXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdwcmVkaWN0ZWRDb2x1bW4nLCB7XG4gICAgICAgIHdpZHRoOiBcIjE4JVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnY2hlY2tCb3hDb2x1bW4nLCB7XG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgbWluV2lkdGg6IFwiMy4xMjV2d1wiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnYm9yZGVyQm90dG9tJywge1xuICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjMzk1QzczICFpbXBvcnRhbnRcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2VtYWlsQ29sdW1uJywge1xuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnaW52b2ljZUJ1Y2tldENoZWNrYm94Jywge1xuICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCIsXG4gICAgICAgIGhlaWdodDogXCI1LjU1dmhcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3ZlcnRpY2FsVGltZWxpbmUnLCB7XG4gICAgICAgIHdpZHRoOiBcIjMuMTI1dndcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2Nvbm5lY3RvcicsIHtcbiAgICAgICAgaGVpZ2h0OiBcIjUuNTV2aFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnY2hlY2tCb3hSb290Jywge1xuICAgICAgICBwYWRkaW5nOiBcIjBcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2luZGl2aWR1YWxCdWNrZXRDaGVja2JveCcsIHtcbiAgICAgICAgbWluV2lkdGg6IFwiMy4xMjV2d1wiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnc2VsZWN0TWVudScsIHtcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW0gIWltcG9ydGFudFwiLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMilcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2dyaWRMaXN0VGlsZScsIHtcbiAgICAgICAgaGVpZ2h0OiBcImF1dG8gIWltcG9ydGFudFwiXG4gICAgfSksIF9yZWY7XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGludm9pY2VzOiBbXSxcbiAgICBzZWxlY3RlZEludm9pY2VzOiBbXSxcbiAgICBmaWx0ZXJJbnZvaWNlczogZnVuY3Rpb24gZmlsdGVySW52b2ljZXMoKSB7fVxufTtcblxudmFyIEludm9pY2VUYWJsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEludm9pY2VUYWJsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBJbnZvaWNlVGFibGUocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludm9pY2VUYWJsZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEludm9pY2VUYWJsZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEludm9pY2VUYWJsZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIHZhciBleHBhbmRlZDtcbiAgICAgICAgX3RoaXMudG90YWxBbW91bnQgPSAwO1xuICAgICAgICB2YXIgbWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF90aGlzLnRvdGFsQW1vdW50ID0gX3RoaXMudG90YWxBbW91bnQgKyBwcm9wcy5pbnZvaWNlc1tpXS5jdXJyZW50T3BlbkFtb3VudDtcbiAgICAgICAgICAgIG1hcFtwcm9wcy5pbnZvaWNlc1tpXS5pZF0gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hlY2tlZEludm9pY2VzO1xuICAgICAgICB2YXIgaW52b2ljZVR5cGU7XG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5pbmRpdmlkdWFsKSB7XG4gICAgICAgICAgICBjaGVja2VkSW52b2ljZXMgPSBtYXA7XG4gICAgICAgICAgICBpbnZvaWNlVHlwZSA9IFwiQWxsXCI7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5maWx0ZXJJbnZvaWNlcyhcIkFsbFwiKTtcbiAgICAgICAgICAgIGV4cGFuZGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrZWRJbnZvaWNlcyA9IF90aGlzLnByb3BzLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICBpbnZvaWNlVHlwZSA9IHByb3BzLmludm9pY2VUeXBlO1xuICAgICAgICAgICAgZXhwYW5kZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzOiBjaGVja2VkSW52b2ljZXMsXG4gICAgICAgICAgICBkYXlzOiBwcm9wcy5kYXlzLFxuICAgICAgICAgICAgdG90YWxBbW91bnQ6IF90aGlzLnRvdGFsQW1vdW50LFxuICAgICAgICAgICAgaW52b2ljZVR5cGU6IGludm9pY2VUeXBlLFxuICAgICAgICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuICAgICAgICAgICAgaXNCdWxrRW1haWw6IHRydWUsXG4gICAgICAgICAgICBjdXN0b21lcjogX3RoaXMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICBjb2xsZWN0b3I6IF90aGlzLnByb3BzLmNvbGxlY3RvcixcbiAgICAgICAgICAgIHNuYWNrQmFyT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCJcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhJbnZvaWNlVGFibGUsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcykge1xuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjaygpICAgIFxuICAgICAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3VtID0gc3VtICsgcHJvcHMuaW52b2ljZXNbaV0uY3VycmVudE9wZW5BbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcHMuaW5kaXZpZHVhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0b3RhbEFtb3VudDogc3VtLCBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHByb3BzLmludm9pY2VzLCB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG90YWxBbW91bnQ6IHN1bSwgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLCBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIHNlbGVjdGVkSW52b2ljZXM6IHByb3BzLnNlbGVjdGVkSW52b2ljZXMgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcywgdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vV2lsbCBjaGVjayBhbmQgbWFwIGFsbCBpbnZvaWNlcyBhcmUgc2VsZWN0ZWQgb3Igbm90XG5cblxuICAgICAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcblxuXG4gICAgICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cblxuXG4gICAgICAgIC8vIFNlbmQgZW1haWwgZm9yIGluZGl2aWR1YWwgaW52b2ljZVxuXG5cbiAgICAgICAgLy8gU2VuZCBlbWFpbCBmb3IgbW9yZSB0aGFuIG9uZSBpbnZvaWNlXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG5cblxuICAgICAgICAvL1JlbmRlciBmdW5jdGlvbiBcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfSB9LFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaW5kaXZpZHVhbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCB4czogMTIsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIGNsYXNzTmFtZTogY2xhc3Nlcy5pbmRpdmlkdWFsSW52b2ljZUhlYWRlciB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIHN0eWxlOiB7IHpJbmRleDogXCI1XCIgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmluZGl2aWR1YWxCdWNrZXRDaGVja2JveCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoZWNrYm94Mi5kZWZhdWx0LCB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfSwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkOiB0aGlzLnN0YXRlLmNoZWNrZWQsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2hlY2tBbGxJbnZvaWNlcyhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmJ1Y2tldEhlYWRlclRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0IEFsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiBcIiM5ODk4OThcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZpZXcgXFx4QTA6ICAnXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfU2VsZWN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuc2VsZWN0RmlsdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW52b2ljZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgaWNvbjogY2xhc3Nlcy5zZWxlY3RJY29uLCBzZWxlY3RNZW51OiBjbGFzc2VzLnNlbGVjdE1lbnUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRmlsdGVyQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImludm9pY2VUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVudVByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0FsbCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0Jyb2tlbiBQMlAnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdCcm9rZW4gUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnVXBjb21pbmcgUDJQJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBjb21pbmcgUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnRGlzcHV0ZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Rpc3B1dGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdQcmVkaWN0ZWQgRGVsaW5xdWVudCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ByZWRpY3RlZCBEZWxpbnF1ZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDUsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbiksIG9uQ2xpY2s6IHRoaXMuc2VuZEJ1bGtFbWFpbCwgc3JjOiAnL3Rvdm8vc3RhdGljL0VtYWlsLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZGlzYWJsZWRFbWFpbEljb24pLCBzcmM6ICcvdG92by9zdGF0aWMvRW1haWwuc3ZnJyB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEyLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuaW5kaXZpZHVhbCA/IGNsYXNzZXMuc2hpZnQgOiBjbGFzc2VzLm5vU2hpZnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGJveFNoYWRvdzogXCJub25lXCIsIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiIH0sIGRlZmF1bHRFeHBhbmRlZDogdGhpcy5wcm9wcy5pbmRpdmlkdWFsLCBleHBhbmRlZDogdGhpcy5zdGF0ZS5leHBhbmRlZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmluZGl2aWR1YWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnBhbmVsU3VtbWFyeSwgY2xhc3NlczogeyBjb250ZW50OiBjbGFzc2VzLmNvbnRlbnQsIGV4cGFuZGVkOiBjbGFzc2VzLnN1bW1hcnlFeHBhbmRlZCB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5Q29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5pbnZvaWNlQnVja2V0Q2hlY2tib3gsIGNsYXNzZXMuY2VudGVyRmxleEJveCksIGFsaWduOiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jb25uZWN0b3IgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoZWNrYm94Mi5kZWZhdWx0LCB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfSwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkOiB0aGlzLnN0YXRlLmNoZWNrZWQsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNoZWNrQWxsSW52b2ljZXMoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIGl0ZW06IHRydWUsIHhzOiAxMSwgYWxpZ246ICdsZWZ0Jywgb25DbGljazogdGhpcy50b2dnbGVFeHBhbmQsIGNsYXNzTmFtZTogY2xhc3Nlcy5ib3JkZXJCb3R0b20gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuYnVja2V0SGVhZGVyVGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZ3JleVRleHQsIGNsYXNzZXMuYnVja2V0SGVhZGVyVGV4dCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMiwgYWxpZ246ICdyaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuZXhwYW5kZWQgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0V4cGFuZE1vcmUyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZXhwYW5kSWNvbiwgY2xhc3Nlcy5pY29uU2l6ZSkgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZXhwYW5kZWQgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkV4cGFuZExlc3MsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZXhwYW5kSWNvbiwgY2xhc3Nlcy5pY29uU2l6ZSkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogIXRoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnJvb3QgOiBjbGFzc2VzLnBvc3RDYWxsUm9vdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmluZGl2aWR1YWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy52ZXJ0aWNhbFRpbWVsaW5lLCBqdXN0aWZ5OiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9HcmlkMi5kZWZhdWx0LCB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5pbmRpdmlkdWFsID8gY2xhc3Nlcy5kaXNhYmxlVGltZWxpbmUgOiBjbGFzc2VzLnRpbWVsaW5lIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHhzOiB0aGlzLnByb3BzLmluZGl2aWR1YWwgPyAxMiA6IDExLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY29udGFpbmVyOiB0cnVlLCB4czogMTIsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIHN0eWxlOiB7IG1hcmdpblRvcDogXCIxLjM0dmhcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja0JveENvbHVtbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmludm9pY2VOdW1iZXJDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJbnZvaWNlIE51bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgYWxpZ246ICdyaWdodCcsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmFtb3VudENvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Ftb3VudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgYWxpZ246ICdjZW50ZXInLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5icm9rZW5Db2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdCcm9rZW4gUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnVwY29taW5nQ29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBjb21pbmcgUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmRpc3B1dGVDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEaXNwdXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnByZWRpY3RlZENvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ByZWRpY3RlZCBEZWxpbnF1ZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfR3JpZDIuZGVmYXVsdCwgeyBpdGVtOiB0cnVlLCB4czogMSwgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGZ1bmN0aW9uIChpbnZvaWNlLCBpZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIHhzOiAxMiwgY2xhc3NOYW1lOiBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA/ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5jaGFuZ2VSb3dCYWNrZ3JvdW5kLCBjbGFzc2VzLmRlZmF1bHRCYWNrZ3JvdW5kKSA6IGNsYXNzZXMuZGVmYXVsdEJhY2tncm91bmQsIGtleTogaW52b2ljZS5pZCArIFwicm93XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrQm94Q29sdW1uLCBhbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICdjaGVja2JveCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLmNoZWNrQm94Um9vdCB9LCBpZDogaW52b2ljZS5pZCwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkOiBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA9PSB0cnVlLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hZGRJbnZvaWNlKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBhbGlnbjogJ2NlbnRlcicsIG51bWVyaWM6IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmludm9pY2VOdW1iZXJDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLmRvY3VtZW50TnVtYmVyLnRvU3RyaW5nKCkubGVuZ3RoID4gMjAgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1Rvb2x0aXAyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdGl0bGU6IGludm9pY2UuZG9jdW1lbnROdW1iZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub1dyYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnByaW1hcnlDb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuZG9jdW1lbnROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vV3JhcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5wcmltYXJ5Q29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kb2N1bWVudE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGFsaWduOiAncmlnaHQnLCBudW1lcmljOiB0cnVlLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5hbW91bnRDb2x1bW4sIGNsYXNzZXMucHJpbWFyeUNvbG9yLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIkXCIgKyAoMCwgX2Zvcm1hdHRlci5mb3JtYXR0ZXIpKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5icm9rZW5Db2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCksIGFsaWduOiAnY2VudGVyJywgbnVtZXJpYzogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UucDJwQnJva2VuID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0RvbmUyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmljb24gfSkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmljb24gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnVwY29taW5nQ29sdW1uLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpLCBhbGlnbjogJ2NlbnRlcicsIG51bWVyaWM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLnAycFVwY29taW5nID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0RvbmUyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmljb24gfSkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmljb24gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmRpc3B1dGVDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCksIGFsaWduOiAnY2VudGVyJywgbnVtZXJpYzogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuZGlzcHV0ZVN0YXR1cyAhPSBudWxsID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0RvbmUyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmljb24gfSkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmljb24gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnByZWRpY3RlZENvbHVtbiwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSwgYWxpZ246ICdjZW50ZXInLCBudW1lcmljOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5wMnBEZWxpbnF1ZW50ID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0RvbmUyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmljb24gfSkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmljb24gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmVtYWlsQ29sdW1uLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpLCB4czogMSwgYWxpZ246ICdyaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhX3RoaXMyLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaW52b2ljZS5pZF0gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbiksIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNlbmRFbWFpbChpbnZvaWNlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgc3JjOiAnL3Rvdm8vc3RhdGljL0VtYWlsLnN2ZycgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnBvc3RDYWxsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy52ZXJ0aWNhbFRpbWVsaW5lLCBqdXN0aWZ5OiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9HcmlkMi5kZWZhdWx0LCB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5wb3N0Q2FsbFRpbWVsaW5lIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTEgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNlbGxIZWlnaHQ6IFwiYXV0b1wiLCBjbGFzc05hbWU6IGNsYXNzZXMuZ3JpZExpc3QgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlcy5tYXAoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZExpc3RUaWxlMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY29sczogMSwga2V5OiBpbnZvaWNlLmlkLCBjbGFzc2VzOiB7IHRpbGU6IGNsYXNzZXMuZ3JpZExpc3RUaWxlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGhlaWdodDogJ2F1dG8nLCB3aWR0aDogJzE2dncnLCBtYXJnaW46ICcwLjJyZW0nIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA9PSB0cnVlID8gKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnNlbGVjdGVkR3JpZExpc3REaXYsIGNsYXNzZXMuZ3JpZExpc3REaXYpIDogY2xhc3Nlcy5ncmlkTGlzdERpdiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgc3R5bGU6IHsgcGFkZGluZzogJzJweCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBsZWZ0OiBcIjMlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaW52b2ljZS5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjaGVja2VkPXt0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuZG9jdW1lbnROdW1iZXIpIHx8IHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRvZ2dsZUNoZWNrYm94KGludm9pY2UuZG9jdW1lbnROdW1iZXIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBjaGVja2VkOiBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA9PSB0cnVlLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYWRkSW52b2ljZShpbnZvaWNlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNjUsIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuZG9jdW1lbnROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogJzEuMTU2cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIF9mb3JtYXR0ZXIuZm9ybWF0dGVyKShpbnZvaWNlLmN1cnJlbnRPcGVuQW1vdW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TbmFja2JhcjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JPcmlnaW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiAnYm90dG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdsZWZ0J1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLnNuYWNrQmFyT3BlbixcbiAgICAgICAgICAgICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbjogMjAwMCxcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZVNuYWNrYmFyLFxuICAgICAgICAgICAgICAgICAgICBDb250ZW50UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogJ21lc3NhZ2UtaWQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogJ21lc3NhZ2UtaWQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNuYWNrQmFyTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9JY29uQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdDbG9zZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdpbmhlcml0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2xvc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVNuYWNrYmFyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb3NlMi5kZWZhdWx0LCBudWxsKVxuICAgICAgICAgICAgICAgICAgICApXVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEludm9pY2VUYWJsZTtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHRoaXMuaGFuZGxlRmlsdGVyQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGludm9pY2VUeXBlOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgIF90aGlzMy5wcm9wcy5maWx0ZXJJbnZvaWNlcyhldmVudC50YXJnZXQudmFsdWUpO1xuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZUV4cGFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5leHBhbmRlZCA9PSB0cnVlKSBfdGhpczMuc2V0U3RhdGUoeyBleHBhbmRlZDogZmFsc2UgfSk7ZWxzZSBfdGhpczMuc2V0U3RhdGUoeyBleHBhbmRlZDogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGRJbnZvaWNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIC8vIHZhciBpZCA9IGV2ZW50LnRhcmdldC5pZDtcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwiSUQgaXNcIixpZClcbiAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2lkXSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5pbmRpdmlkdWFsKSBfdGhpczMudXBkYXRlTG9jYWxNYXAoaWQsIFwiYWRkXCIpO2Vsc2UgX3RoaXMzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcChpZCwgXCJhZGRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyB0aGlzLnNldENoZWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMzLnByb3BzLmluZGl2aWR1YWwpIF90aGlzMy51cGRhdGVMb2NhbE1hcChpZCwgXCJyZW1vdmVcIik7ZWxzZSBfdGhpczMucHJvcHMudXBkYXRlR2xvYmFsTWFwKGlkLCBcInJlbW92ZVwiLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHRoaXMuc2V0Q2hlY2soKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNoZWNrQWxsSW52b2ljZXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGlmIChfdGhpczMuc3RhdGUuY2hlY2tlZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBjaGVja2VkOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGlmIChfdGhpczMucHJvcHMuaW5kaXZpZHVhbCkgX3RoaXMzLnVwZGF0ZUxvY2FsTWFwKF90aGlzMy5zdGF0ZS5pbnZvaWNlcywgXCJyZW1vdmVBcnJheVwiKTtlbHNlIF90aGlzMy5wcm9wcy51cGRhdGVHbG9iYWxNYXAoX3RoaXMzLnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgY2hlY2tlZDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGlmIChfdGhpczMucHJvcHMuaW5kaXZpZHVhbCkgX3RoaXMzLnVwZGF0ZUxvY2FsTWFwKF90aGlzMy5zdGF0ZS5pbnZvaWNlcywgXCJhZGRBcnJheVwiKTtlbHNlIF90aGlzMy5wcm9wcy51cGRhdGVHbG9iYWxNYXAoX3RoaXMzLnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIsIHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlTG9jYWxNYXAgPSBmdW5jdGlvbiAoZGF0YSwgZmxhZykge1xuICAgICAgICBzd2l0Y2ggKGZsYWcpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhZGRcIjpcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgIHRlbXBbZGF0YV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldENoZWNrKF90aGlzMy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0Q2hlY2soX3RoaXMzLnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhZGRBcnJheVwiOlxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtpXS5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRDaGVjayhfdGhpczMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJlbW92ZUFycmF5XCI6XG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRDaGVjayhfdGhpczMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2V0Q2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZW1wID0gX3RoaXMzLnN0YXRlLmludm9pY2VzO1xuICAgICAgICB2YXIgZmxhZyA9IGZhbHNlO1xuICAgICAgICB2YXIgYWxsRW1haWxzRmxhZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vZW5hYmxlIG9yIGRpc2FibGUgZW1haWwgaWNvbiBiYXNlZCBvbiBzZWxlY3Rpb25cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXS5pZF0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGFsbEVtYWlsc0ZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGlzQnVsa0VtYWlsOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFsbEVtYWlsc0ZsYWcpIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGlzQnVsa0VtYWlsOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbaV0uaWRdID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlbXAubGVuZ3RoID09IDApIGZsYWcgPSB0cnVlO1xuXG4gICAgICAgIGlmIChmbGFnID09IHRydWUpIF90aGlzMy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGZhbHNlIH0pO2Vsc2UgX3RoaXMzLnNldFN0YXRlKHsgY2hlY2tlZDogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNuYWNrQmFyTWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlU25hY2tiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuc2VuZEVtYWlsID0gZnVuY3Rpb24gKGludm9pY2VJZCkge1xuICAgICAgICAvL0NyZWF0aW5nIHJlcXVlc3Qgb2JqZWN0IFxuICAgICAgICB2YXIgcmVxRW1haWxPYmogPSB7XG4gICAgICAgICAgICBjdXN0b21lcklkOiBfdGhpczMuc3RhdGUuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBkb2N1bWVudElkczogW2ludm9pY2VJZF0sXG4gICAgICAgICAgICBmcm9tOiBfdGhpczMuc3RhdGUuY29sbGVjdG9yLmVtYWlsSWQsIC8vZ2V0IGZyb20gY29sbGVjdG9yIHByb2ZpbGVcbiAgICAgICAgICAgIHRvOiBfdGhpczMucHJvcHMuZW1haWxPZkNhbGxlZCAvL2dldCBmcm9tIENvbnRhY3Qgb2JqZWN0LlxuICAgICAgICB9O1xuXG4gICAgICAgIC8vTWFraW5nIHBvc3QgY2FsbCBmb3Igc2VuZGluZyBFbWFpbCBmb3IgdGhpcyBpbnZvaWNlXG4gICAgICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weScsIHJlcUVtYWlsT2JqKVxuICAgICAgICAvLyBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2NvcnJlc3BvbmRlbmNlL2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopICAvLyBtb2NrIHNlcnZlciBhcGlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgX3RoaXMzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRXJyb3IgaW4gc2VuZGluZyBlbWFpbFwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuc2VuZEJ1bGtFbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTZW5kaW5nIEJ1bGsgZW1haWxcIik7XG4gICAgICAgIHZhciB0ZW1wID0gX3RoaXMzLnN0YXRlLmludm9pY2VzO1xuICAgICAgICB2YXIgZG9jdW1lbnROdW1iZXJzID0gW107XG5cbiAgICAgICAgLy8gR2V0IHRoZSBjaGVja2VkIGludm9pY2UgSWRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbaV0uaWRdID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudE51bWJlcnMucHVzaCh0ZW1wW2ldLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0aW5nIHJlcXVlc3Qgb2JqZWN0XG4gICAgICAgIHZhciByZXFFbWFpbE9iaiA9IHtcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IF90aGlzMy5zdGF0ZS5jdXN0b21lci5pZCxcbiAgICAgICAgICAgIGRvY3VtZW50SWRzOiBkb2N1bWVudE51bWJlcnMsXG4gICAgICAgICAgICBmcm9tOiBfdGhpczMuc3RhdGUuY29sbGVjdG9yLmVtYWlsSWQsIC8vZ2V0IGZyb20gY29sbGVjdG9yIHByb2ZpbGVcbiAgICAgICAgICAgIHRvOiBfdGhpczMucHJvcHMuZW1haWxPZkNhbGxlZFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE1ha2luZyBhIHBvc3QgY2FsbCBmb3Igc2VuZGluZyBlbWFpbHNcbiAgICAgICAgX2F4aW9zMi5kZWZhdWx0LnBvc3QoX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyAnL2NvcnJlc3BvbmRlbmNlL2ludm9pY2Vjb3B5JywgcmVxRW1haWxPYmopXG4gICAgICAgIC8vIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vaW52b2ljZWNvcHlgLCByZXFFbWFpbE9iaikgICAgLy8gbW9jayBzZXJ2ZXIgYXBpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgX3RoaXMzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzMy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzID0gX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzQ291bnQgPSAwO1xuICAgICAgICB2YXIgaW52b2ljZXMgPSBfdGhpczMuc3RhdGUuaW52b2ljZXM7XG4gICAgICAgIGZvciAodmFyIGkgaW4gaW52b2ljZXMpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzW2ludm9pY2VzW2ldLmlkXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlc0NvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNDb3VudCA9PSAwIHx8ICFfdGhpczMucHJvcHMucG9zdENhbGwpIHtcbiAgICAgICAgICAgIHJldHVybiAnKFRvdGFsOiAkJyArICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikoX3RoaXMzLnN0YXRlLnRvdGFsQW1vdW50LCBcIlwiKSArICcgLSAnICsgX3RoaXMzLnN0YXRlLmludm9pY2VzLmxlbmd0aCArICcgSW52b2ljZXMpJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyBTZWxlY3RlZCknO1xuICAgIH07XG59O1xuXG5JbnZvaWNlVGFibGUucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW52b2ljZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYXJyYXksXG4gICAgZmlsdGVySW52b2ljZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufTtcblxuSW52b2ljZVRhYmxlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxudmFyIGNvbWJpbmVkU3R5bGUgPSAoMCwgX2NvbWJpbmVTdHlsZXMyLmRlZmF1bHQpKHN0eWxlcywgX2Jhc2VTdHlsZTIuZGVmYXVsdCk7XG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShjb21iaW5lZFN0eWxlLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShJbnZvaWNlVGFibGUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA4MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9UcmFuc2NyaXB0Q2hhdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4Mik7XG5cbnZhciBfVHJhbnNjcmlwdENoYXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNjcmlwdENoYXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge307XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIHRyYW5zY3JpcHRHcmlkSUQ6ICd0cmFuc2NyaXB0aW9uLWdyaWQnLFxuICAgIHRyYW5zY3JpcHRDb250YWluZXJDbGFzczogJycsXG4gICAgdHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lOiAnJyxcbiAgICB0cmFuc2NyaXB0Q2hhdFByb3BzOiB7fVxufTtcblxudmFyIFRyYW5zY3JpcHRCb3ggPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhUcmFuc2NyaXB0Qm94LCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFRyYW5zY3JpcHRCb3gocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zY3JpcHRCb3gpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUcmFuc2NyaXB0Qm94Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHJhbnNjcmlwdEJveCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRyYW5zY3JpcHRCb3gsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsID0gX3Byb3BzLmF1dG9TY3JvbGwsXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRDb250YWluZXJDbGFzcyA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdENoYXRQcm9wcyA9IF9wcm9wcy50cmFuc2NyaXB0Q2hhdFByb3BzLFxuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZSA9IF9wcm9wcy50cmFuc2NyaXB0VGl0bGVDbGFzc05hbWU7XG5cblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgeHM6IDEyLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdHJhbnNjcmlwdENvbnRhaW5lckNsYXNzXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogdHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICdDQUxMIFRSQU5TQ1JJUFQnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNjcmlwdENoYXQyLmRlZmF1bHQsIF9leHRlbmRzKHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b1Njcm9sbDogYXV0b1Njcm9sbFxuICAgICAgICAgICAgICAgIH0sIHRyYW5zY3JpcHRDaGF0UHJvcHMpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUcmFuc2NyaXB0Qm94O1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShUcmFuc2NyaXB0Qm94KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwODI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX0NoYXRCb3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMDcpO1xuXG52YXIgX0NoYXRCb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hhdEJveCk7XG5cbnZhciBfaGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAYXV0aG9yIEJhbHJhaiBTaW5naCA8YmFscmFqc2luZ2guc0BoaWdocmFkaXVzLmNvbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2NyaXB0VGV4dFBhcmVudDoge1xuICAgICAgd2hpdGVTcGFjZTogJ3ByZS1saW5lJyxcbiAgICAgIG1hcmdpblRvcDogJzIuNXJlbScsXG4gICAgICBoZWlnaHQ6ICc4NSUnLFxuICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICBwYWRkaW5nOiAnMC41cmVtIDAuNXJlbSAwLjVyZW0gMHB4JyxcbiAgICAgIGZvbnRGYW1pbHk6ICdSb2JvdG8nLFxuICAgICAgbWFyZ2luTGVmdDogJzFyZW0nLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIHdvcmRXcmFwOiAnYnJlYWstd29yZCdcbiAgICB9XG4gIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBhdXRvU2Nyb2xsOiBmYWxzZSxcbiAgdHJhbnNjcmlwdGlvbjogJycsXG4gIGNhbGxlZFRvTmFtZUluaXRpYWxzOiAnVVUnLCAvL0N1c3RvbWVyIE5hbWVcbiAgdXNlckluaXRpYWxzOiAnTUUnXG59O1xuXG52YXIgVHJhbnNjcmlwdENoYXQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVHJhbnNjcmlwdENoYXQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRyYW5zY3JpcHRDaGF0KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zY3JpcHRDaGF0KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUcmFuc2NyaXB0Q2hhdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRyYW5zY3JpcHRDaGF0KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc2Nyb2xsVG9Cb3R0b20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBsZXQgY3VycmVudCA9IHRoaXMubXlSZWYuY3VycmVudDtcbiAgICAgIHZhciBjb250YWluZXJJRCA9IF90aGlzLnByb3BzLnRyYW5zY3JpcHRHcmlkSUQ7XG4gICAgICB2YXIgdHJhbnNjcmlwdGlvbkdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJRCk7XG4gICAgICBpZiAodHJhbnNjcmlwdGlvbkdyaWQpIHtcbiAgICAgICAgdHJhbnNjcmlwdGlvbkdyaWQuc2Nyb2xsVG9wID0gdHJhbnNjcmlwdGlvbkdyaWQuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5nZW5lcmF0ZUNoYXRCb3hlcyA9IGZ1bmN0aW9uICh0cmFuc2NyaXB0TWVzc2FnZSwgaW5kZXgpIHtcbiAgICAgIC8vY29sbGVjdG9yIHRvIHRoZSByaWdodFxuICAgICAgaWYgKHRyYW5zY3JpcHRNZXNzYWdlLmluY2x1ZGVzKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkNPTExFQ1RPUikpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGF0Qm94Mi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICBpc0NvbGxlY3RvcjogdHJ1ZSxcbiAgICAgICAgICBpbml0aWFsczogX3RoaXMucHJvcHMudXNlckluaXRpYWxzID8gX3RoaXMucHJvcHMudXNlckluaXRpYWxzIDogXCJNRVwiLFxuICAgICAgICAgIG1lc3NhZ2U6IHRyYW5zY3JpcHRNZXNzYWdlLnJlcGxhY2UoX2NvbnN0YW50cy5UUkFOU0NSSVBUX0RFTElNRVRFUlMuQ09MTEVDVE9SLCBcIlwiKVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNjcmlwdE1lc3NhZ2UuaW5jbHVkZXMoX2NvbnN0YW50cy5UUkFOU0NSSVBUX0RFTElNRVRFUlMuQ1VTVE9NRVIpKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hhdEJveDIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgaXNDb2xsZWN0b3I6IGZhbHNlLFxuICAgICAgICAgIGluaXRpYWxzOiBfdGhpcy5wcm9wcy5jYWxsZWRUb05hbWVJbml0aWFscyxcbiAgICAgICAgICBtZXNzYWdlOiB0cmFuc2NyaXB0TWVzc2FnZS5yZXBsYWNlKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkNVU1RPTUVSLCBcIlwiKVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNjcmlwdE1lc3NhZ2UuaW5jbHVkZXMoX2NvbnN0YW50cy5UUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTKSkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoYXRCb3gyLmRlZmF1bHQsIHtcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgIGlzRGV0ZWN0aW5nOiB0cnVlLFxuICAgICAgICAgIGluaXRpYWxzOiBcIlwiLFxuICAgICAgICAgIG1lc3NhZ2U6IHRyYW5zY3JpcHRNZXNzYWdlLnJlcGxhY2UoX2NvbnN0YW50cy5UUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTLCBcIlwiKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7fTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNjcmlwdENoYXQsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlLCBzbmFwc2hvdCkge1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5hdXRvU2Nyb2xsKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRvIFNjcm9sbGluZycpO1xuICAgICAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgIHRyYW5zY3JpcHRpb24gPSBfcHJvcHMudHJhbnNjcmlwdGlvbixcbiAgICAgICAgICB0cmFuc2NyaXB0R3JpZElEID0gX3Byb3BzLnRyYW5zY3JpcHRHcmlkSUQ7XG5cbiAgICAgIHZhciBleHRyYWN0ZWRUcmFuc2NyaXB0ID0gKDAsIF9oZWxwZXIuc3BsaXRUcmFuc2NyaXB0KSh0cmFuc2NyaXB0aW9uKTtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgaWQ6IHRyYW5zY3JpcHRHcmlkSUQsIGNsYXNzTmFtZTogY2xhc3Nlcy50cmFuc2NyaXB0VGV4dFBhcmVudCB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiBcIjEwMCVcIiwgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIgfSB9LFxuICAgICAgICAgIGV4dHJhY3RlZFRyYW5zY3JpcHQubWFwKHRoaXMuZ2VuZXJhdGVDaGF0Qm94ZXMpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYW5zY3JpcHRDaGF0O1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuVHJhbnNjcmlwdENoYXQuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFRyYW5zY3JpcHRDaGF0KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwODc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9yZWFjdFJvdXRlckRvbSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXG52YXIgX2FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblxudmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4OCk7XG5cbnZhciBfQWN0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BY3Rpb25zKTtcblxudmFyIF9jb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBfQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0J1dHRvbik7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oODUpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY3VsYXJQcm9ncmVzcyk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfRmluYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMDIpO1xuXG52YXIgX0ZpbmFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbmFsKTtcblxudmFyIF9Hcm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cbnZhciBfR3JvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm93KTtcblxudmFyIF9GYWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cbnZhciBfRmFiMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZhYik7XG5cbnZhciBfQ3VzdG9tRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjQpO1xuXG52YXIgX0N1c3RvbURpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21EaWFsb2cpO1xuXG52YXIgX1NuYWNrYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxudmFyIF9JY29uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cbnZhciBfSWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uQnV0dG9uKTtcblxudmFyIF9DbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXG52YXIgX0Nsb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlKTtcblxudmFyIF9BY3Rpb25DcmVhdG9yRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA2KTtcblxudmFyIF9BY3Rpb25DcmVhdG9yRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FjdGlvbkNyZWF0b3JEaWFsb2cpO1xuXG52YXIgX1RyYW5zY3JpcHRCb3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODEpO1xuXG52YXIgX1RyYW5zY3JpcHRCb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNjcmlwdEJveCk7XG5cbnZhciBfTm90ZXNFZGl0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMTMpO1xuXG52YXIgX05vdGVzRWRpdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05vdGVzRWRpdG9yKTtcblxudmFyIF9EcmF3ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7XG5cbnZhciBfRHJhd2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RyYXdlcik7XG5cbnZhciBfQ3VzdG9tRm9vdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzApO1xuXG52YXIgX0N1c3RvbUZvb3RlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21Gb290ZXIpO1xuXG52YXIgX2hlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblxudmFyIF9wb3N0Q2FsbEhlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjExNCk7XG5cbnZhciBfY29tbW9uU2VydmljZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjExNSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBhcHBGcmFtZToge1xuICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgbWF4SGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgIH0sXG4gICAgcm9vdDoge1xuICAgICAgbWFyZ2luOiAnMS4xMnZoIDEuMDQxdncgMGVtIDEuMDQxdncnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQubWFpbixcbiAgICAgIHdpZHRoOiBcIjEwMCVcIlxuICAgIH0sXG4gICAgdHJhbnNjcmlwdEJveDoge1xuICAgICAgaGVpZ2h0OiAnNTguOTh2aCcsXG4gICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICBtYXJnaW5Cb3R0b206ICcxLjg1dmgnXG4gICAgfSxcbiAgICBzdW1tYXJ5Qm94OiB7XG4gICAgICBoZWlnaHQ6ICcyNS41MHZoJyxcbiAgICAgIHBhZGRpbmc6ICcwLjhyZW0nLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluXG4gICAgfSxcbiAgICB0cmFuc2NyaXB0VGl0bGU6IHtcbiAgICAgIGZvbnRTaXplOiAnMS4xcmVtJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIHBhZGRpbmdMZWZ0OiBcIi44cmVtXCIsXG4gICAgICBwYWRkaW5nVG9wOiBcIi44cmVtXCIsXG4gICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIlxuICAgIH0sXG4gICAgY3VzdG9tZXJOYW1lOiB7XG4gICAgICBmb250U2l6ZTogXCIxLjc4cmVtXCIsXG4gICAgICBsaW5lSGVpZ2h0OiBcIjIuMXJlbVwiXG4gICAgfSxcbiAgICBjdXN0b21lckRldGFpbFRleHQ6IHtcbiAgICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgfSxcbiAgICBjdXN0b21lck51bWJlcjoge1xuICAgICAgZm9udFNpemU6IFwiLjhyZW1cIlxuICAgIH0sXG4gICAgYnV0dG9uOiB7XG4gICAgICBmb250U2l6ZTogXCIwLjVyZW1cIixcbiAgICAgIHdpZHRoOiBcIjcuMjkyMnZ3XCIsXG4gICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxuICAgICAgbWluSGVpZ2h0OiBcIjQuNDQ0NHZoXCIsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgJyY6aG92ZXIsICYkZm9jdXNWaXNpYmxlJzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjODZCRkU3J1xuICAgICAgfVxuICAgIH0sXG4gICAgYnV0dG9uVGl0bGU6IHtcbiAgICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgIH0sXG4gICAgaGVhZGluZzoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgZm9udFNpemU6ICcxLjA2N3JlbScsXG4gICAgICBvcGFjaXR5OiAwLjUsXG4gICAgICBwYWRkaW5nQm90dG9tOiAnMS45NHZoJ1xuICAgIH0sXG4gICAgbmV4dEN1c3RvbWVyVXJsOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcbiAgICAgIGZvbnRTaXplOiAnMC44ODhyZW0nLFxuICAgICAgaGVpZ2h0OiBcIjQuNDQ0NHZoXCIsXG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcbiAgICB9LFxuICAgIGFjdGlvbkJ1dHRvbjoge1xuICAgICAgYm94U2hhZG93OiAnbm9uZScsXG4gICAgICBmb250U2l6ZTogJzEuMTExcmVtJyxcbiAgICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2QkZFNydcbiAgICAgIH0sXG4gICAgICBoZWlnaHQ6ICc2LjQ4dmgnXG4gICAgfSxcbiAgICBwb3N0Q2FsbENhcmRHcmlkOiB7XG4gICAgICBtYXJnaW5Ub3A6ICcyLjAzN3ZoJ1xuICAgIH0sXG4gICAgcGFkZGluZ1JpZ2h0T25DYXJkOiB7XG4gICAgICBwYWRkaW5nUmlnaHQ6ICcxLjA0MXZ3J1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIHZvaWNlbWFpbE1lc3NhZ2U6ICcnLFxuICBjYWxsRHVyYXRpb246IDAsXG4gIHRvQ2FsbEN1c3RvbWVyczogbnVsbCxcbiAgbmV4dEN1c3RvbWVyVXJsOiBudWxsLFxuICBvbkhhbmd1cDogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uLFxuICBpbnZvaWNlczogW10sXG4gIGluaXRpYWxUcmFuc2NyaXB0aW9uOiAnJ1xufTtcblxudmFyIFBvc3RDYWxsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFBvc3RDYWxsLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQb3N0Q2FsbChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb3N0Q2FsbCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUG9zdENhbGwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQb3N0Q2FsbCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnNuYWNrTWVzc2FnZVF1ZXVlID0gW107XG5cbiAgICBfdGhpcy5kZWxldGVBY3Rpb24gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiSURcIiwgaWQsIHN1bW1hcnkpO1xuICAgICAgdmFyIHN1bW1hcnkgPSBfdGhpcy5zdGF0ZS5zdW1tYXJ5LmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgcmV0dXJuIGVsLmlkICE9IGlkO1xuICAgICAgfSk7XG4gICAgICB2YXIgbWFwID0gX3RoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XG5cbiAgICAgIG1hcC5kZWxldGUoaWQpO1xuXG4gICAgICBjb25zb2xlLmxvZyhtYXApO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHN1bW1hcnksIHN1bW1hcnlDb21wbGV0aW9uTWFwOiBtYXAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm1hcmtTdW1tYXJ5QXNEb25lID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICB2YXIgZG9uZU1hcCA9IF90aGlzLnN0YXRlLnN1bW1hcnlDb21wbGV0aW9uTWFwO1xuICAgICAgdmFyIHByZXZTdW1tYXJ5ID0gX3RoaXMuc3RhdGUuc3VtbWFyeTtcblxuICAgICAgZm9yICh2YXIgaSBpbiBwcmV2U3VtbWFyeSkge1xuICAgICAgICBpZiAocHJldlN1bW1hcnlbaV0uaWQgPT0gaWQpIHtcbiAgICAgICAgICBwcmV2U3VtbWFyeVtpXS5zYXZlID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHByZXZTdW1tYXJ5IH0pO1xuICAgICAgZG9uZU1hcC5zZXQoaWQsIHRydWUpO1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5Q29tcGxldGlvbk1hcDogZG9uZU1hcCB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMudXBkYXRlQWN0aW9uSXRlbUNoZWNrID0gZnVuY3Rpb24gKGdlbmVyYXRlZFN1bW1hcnkpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbm90ZXM6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuc3RhdGUubm90ZXMpLCBbZ2VuZXJhdGVkU3VtbWFyeV0pLFxuICAgICAgICBpc0FueUFjdGlvbkNvbXBsZXRlZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnNhdmVQb3N0Q2FsbFRoaW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgoMCwgX3Bvc3RDYWxsSGVscGVyLmNoZWNrU3VtbWFyeUNvbXBsZXRlTWFwKShfdGhpcy5zdGF0ZS5zdW1tYXJ5Q29tcGxldGlvbk1hcCkpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBkb1Jldmlld0RpYWxvZ09wZW46IHRydWUgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzICYmIF90aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzLnRyaW0oKSkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbm90ZXM6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuc3RhdGUubm90ZXMpLCBbX3RoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXMudHJpbSgpXSksXG4gICAgICAgICAgbm9uQWN0aW9uSW5jbHVkZWQ6IHRydWVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnNhdmVDYWxsTG9nKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2F2ZUNhbGxMb2coKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuc2F2ZU5vdGVzQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxuICAgICAgICBwcmV2Tm9uQWN0aW9uTm90ZXM6IF90aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmJsdXJOb25BY3Rpb25Ob3Rlc0JveCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmRpc2NhcmROb3Rlc0NoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRWRpdGluZ09uOiBmYWxzZSxcbiAgICAgICAgbm9uQWN0aW9uTm90ZXM6IF90aGlzLnN0YXRlLnByZXZOb25BY3Rpb25Ob3Rlc1xuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5ibHVyTm9uQWN0aW9uTm90ZXNCb3goKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuU25hY2tiYXIgPSBmdW5jdGlvbiAobWVzc2FnZVR5cGUpIHtcbiAgICAgIF90aGlzLnNuYWNrTWVzc2FnZVF1ZXVlLnB1c2goe1xuICAgICAgICBtZXNzYWdlOiBfY29uc3RhbnRzLlNOQUNLX01FU1NBR0VTW21lc3NhZ2VUeXBlXSxcbiAgICAgICAga2V5OiBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5zbmFja09wZW4pIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzbmFja09wZW46IGZhbHNlIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnByb2Nlc3NRdWV1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zbmFja01lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzbmFja01lc3NhZ2U6IF90aGlzLnNuYWNrTWVzc2FnZVF1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgc25hY2tPcGVuOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVOb25hY3Rpb25Ob3Rlc0NoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IG5vbkFjdGlvbk5vdGVzOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMudXBkYXRlTm90ZXMgPSBmdW5jdGlvbiAobm90ZXMpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgbm9uQWN0aW9uTm90ZXM6IG5vdGVzIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKGV2ZW50LCByZWFzb24pIHtcbiAgICAgIGlmIChyZWFzb24gPT09ICdjbGlja2F3YXknKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU25hY2tiYXJFeGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjdGlvbkl0ZW1DbGljayA9IGZ1bmN0aW9uIChhY3Rpb25UeXBlKSB7XG4gICAgICB2YXIgbmV3QWN0aW9uID0gKDAsIF9oZWxwZXIuY3JlYXRlQWN0aW9uKShhY3Rpb25UeXBlKTtcbiAgICAgIC8vQWRkIHRoZSBuZXdseSBjcmVhdGVkIGFjdGlvbiB0byBzdW1tYXJ5IGFycmF5XG4gICAgICAvL2lmIG5ld0FjdGlvbiBpcyBudWxsIHNraXAgYWRkaW5nIGl0XG4gICAgICBjb25zb2xlLmxvZygnQWN0aW9uIGNyZWF0ZWQnLCBuZXdBY3Rpb24pO1xuICAgICAgaWYgKG5ld0FjdGlvbikge1xuICAgICAgICB2YXIgc3VtbWFyeUxlbmd0aCA9IF90aGlzLnN0YXRlLnN1bW1hcnkubGVuZ3RoO1xuXG4gICAgICAgIGlmIChzdW1tYXJ5TGVuZ3RoID4gMCkge1xuICAgICAgICAgIG5ld0FjdGlvblsnaWQnXSA9IF90aGlzLnN0YXRlLnN1bW1hcnlbc3VtbWFyeUxlbmd0aCAtIDFdWydpZCddICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdBY3Rpb25bJ2lkJ10gPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3QWN0aW9uWydzYXZlJ10gPSBmYWxzZTtcbiAgICAgICAgbmV3QWN0aW9uWydjcmVhdGVkJ10gPSB0cnVlO1xuXG4gICAgICAgIHZhciBzdW1tYXJ5Q29tcGxldGlvbk1hcCA9IF90aGlzLnN0YXRlLnN1bW1hcnlDb21wbGV0aW9uTWFwO1xuICAgICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcC5zZXQobmV3QWN0aW9uLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN1bW1hcnk6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuc3RhdGUuc3VtbWFyeSksIFtuZXdBY3Rpb25dKSxcbiAgICAgICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcDogc3VtbWFyeUNvbXBsZXRpb25NYXBcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rpb24tc3VtbWFyeS1ncmlkLWNvbnRhaW5lcicpO1xuICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgZWwuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZygpO1xuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZVJldmlld1dhcm5pbmdEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGRvUmV2aWV3RGlhbG9nT3BlbjogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjdGlvbkNyZWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBkb09wZW5OZXdBY3Rpb25EaWFsb2c6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgZG9PcGVuTmV3QWN0aW9uRGlhbG9nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMudXBkYXRlU3VtbWFyeUZyb21DaGlsZCA9IGZ1bmN0aW9uIChuZXdTdW1tYXJ5LCBpZCkge1xuICAgICAgdmFyIHByZXZTdW1tYXJ5ID0gX3RoaXMuc3RhdGUuc3VtbWFyeTtcblxuICAgICAgZm9yICh2YXIgaSBpbiBwcmV2U3VtbWFyeSkge1xuICAgICAgICBpZiAocHJldlN1bW1hcnlbaV0uaWQgPT0gaWQpIHtcbiAgICAgICAgICBwcmV2U3VtbWFyeVtpXS5zdW1tYXJ5ID0gbmV3U3VtbWFyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHByZXZTdW1tYXJ5IH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy51cGRhdGVJbnZvaWNlcyA9IGZ1bmN0aW9uICh1cGRhdGVkSW52b2ljZXMsIGlkKSB7XG4gICAgICB2YXIgcHJldlN1bW1hcnkgPSBPYmplY3QuY3JlYXRlKF90aGlzLnN0YXRlLnN1bW1hcnkpO1xuICAgICAgdmFyIHVwZGF0ZWRJbnZvaWNlTGlzdCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSBpbiBwcmV2U3VtbWFyeSkge1xuICAgICAgICBpZiAocHJldlN1bW1hcnlbaV0uaWQgPT0gaWQpIHtcbiAgICAgICAgICBmb3IgKHZhciBfaSBpbiB1cGRhdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRJbnZvaWNlTGlzdC5wdXNoKHVwZGF0ZWRJbnZvaWNlc1tfaV0uZG9jdW1lbnROdW1iZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHByZXZTdW1tYXJ5W2ldLmVudGl0aWVzLmludm9pY2UgPSB1cGRhdGVkSW52b2ljZUxpc3Q7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBwcmV2U3VtbWFyeSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZWRpdE5vbkFjdGlvbk5vdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBpc0VkaXRpbmdPbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciB0ZXh0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uLWFjdGlvbi1ub3Rlcy1lZGl0LWZpZWxkJyk7XG4gICAgICAgICAgaWYgKHRleHRGaWVsZCkge1xuICAgICAgICAgICAgdGV4dEZpZWxkLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCA1MDApO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmJsdXJOb25BY3Rpb25Ob3Rlc0JveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGRcIik7XG4gICAgICAgIGlmICh0ZXh0RmllbGQpIHtcbiAgICAgICAgICB0ZXh0RmllbGQuYmx1cigpO1xuICAgICAgICB9XG4gICAgICB9LCA1MDApO1xuICAgIH07XG5cbiAgICBfdGhpcy5pbml0aWFsaXplU3VtbWFyeVdpdGhEZWZhdWx0cyA9IGZ1bmN0aW9uIChzdW1tYXJ5KSB7XG5cbiAgICAgIGlmIChzdW1tYXJ5ID09PSAnW10nKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogW10gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc3VtbWFyeVdpdGhJZHMgPSAoMCwgX3Bvc3RDYWxsSGVscGVyLmFwcGVuZElkc1RvU3VtbWFyeSkoc3VtbWFyeSk7XG4gICAgICAgIHZhciBzdW1tYXJ5Q29tcGxldGlvbk1hcCA9ICgwLCBfcG9zdENhbGxIZWxwZXIuY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXApKHN1bW1hcnkpO1xuICAgICAgICB2YXIgbm9uQWN0aW9uU3VtbWFyeSA9ICgwLCBfcG9zdENhbGxIZWxwZXIuY3JlYXRlSW5pdGlhbE5vbkFjdGlvblN1bW1hcnlOb3Rlcykoc3VtbWFyeSwgX3RoaXMucHJvcHMudm9pY2VtYWlsTWVzc2FnZSk7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN1bW1hcnk6IHN1bW1hcnlXaXRoSWRzLFxuICAgICAgICAgIHN1bW1hcnlDb21wbGV0aW9uTWFwOiBzdW1tYXJ5Q29tcGxldGlvbk1hcCxcbiAgICAgICAgICBub25BY3Rpb25Ob3Rlczogbm9uQWN0aW9uU3VtbWFyeVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuc2F2ZUNhbGxMb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29tYmluZWROb3RlcyA9ICgwLCBfcG9zdENhbGxIZWxwZXIuZ2VuZXJhdGVOb3Rlc0FzU3RyaW5nKShfdGhpcy5zdGF0ZS5ub3Rlcyk7XG4gICAgICB2YXIgY2FsbExvZ1N0YXRlID0gX3RoaXMucHJvcHMuY2FsbExvZ1N0YXRlO1xuICAgICAgdmFyIGN1c3RvbWVyID0gX3RoaXMucHJvcHMuY3VzdG9tZXI7XG4gICAgICB2YXIgcmVxUGFyYW1zID0ge1xuICAgICAgICBpZDogY2FsbExvZ1N0YXRlLmlkLFxuICAgICAgICBjYWxsU3VtbWFyeTogX3RoaXMucHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uLFxuICAgICAgICBkdXJhdGlvbjogX3RoaXMucHJvcHMuY2FsbER1cmF0aW9uLFxuICAgICAgICBub3RlOiB7XG4gICAgICAgICAgY3VzdG9tZXJJZDogY3VzdG9tZXIuaWQsXG4gICAgICAgICAgbm90ZUNvbnRlbnQ6IGNvbWJpbmVkTm90ZXNcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIF9heGlvczIuZGVmYXVsdC5wdXQoX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyAnL2NhbGwnLCByZXFQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgb3BlblByb2dyZXNzQmFyOiBmYWxzZSwgaXNQb3N0Q2FsbERvbmU6IHRydWUgfSk7XG4gICAgICAgIF9zdG9yZS5zdG9yZS5kaXNwYXRjaCgoMCwgX2FjdGlvbnMuY2hhbmdlVHJhbnNjcmlwdGlvbikoeyB0cmFuc2NyaXB0aW9uOiBcIlwiIH0pKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgb3BlblByb2dyZXNzQmFyOiBmYWxzZSwgaXNQb3N0Q2FsbERvbmU6IHRydWUgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2VuU3VtbWFyeUFjdGlvbkNhcmRzID0gZnVuY3Rpb24gKHN1bW1hcnkpIHtcblxuICAgICAgdmFyIGludGVudCA9IHN1bW1hcnkuaW50ZW50O1xuXG4gICAgICBpZiAoISgwLCBfaGVscGVyLmlzQWN0aW9uSW50ZW50KShpbnRlbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfR3JvdzIuZGVmYXVsdCxcbiAgICAgICAge1xuICAgICAgICAgICdpbic6IHRydWUsXG4gICAgICAgICAga2V5OiBzdW1tYXJ5LmlkXG4gICAgICAgIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9BY3Rpb25zMi5kZWZhdWx0LCB7XG4gICAgICAgICAgb25EZWxldGU6IGZ1bmN0aW9uIG9uRGVsZXRlKGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZGVsZXRlQWN0aW9uKGlkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uQWN0aW9uSXRlbUNvbmZpcm06IF90aGlzLnVwZGF0ZUFjdGlvbkl0ZW1DaGVjayxcbiAgICAgICAgICBzdW1tYXJ5OiBzdW1tYXJ5LFxuICAgICAgICAgIHN0eWxlOiB7IHdpZHRoOiBcIjEwMCVcIiwgbWFyZ2luQm90dG9tOiBcIjAuN3JlbVwiIH0sXG4gICAgICAgICAgaW50ZW50VHlwZTogaW50ZW50LFxuICAgICAgICAgIGFsbEludm9pY2VMaXN0OiBfdGhpcy5wcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICBjdXN0b21lcjogX3RoaXMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgY2FsbGVkVG9OYW1lOiBfdGhpcy5wcm9wcy5jYWxsZWRUb05hbWUsXG4gICAgICAgICAgY2FsbGVkVG9OdW1iZXI6IF90aGlzLnByb3BzLmNhbGxlZFRvTnVtYmVyLFxuICAgICAgICAgIGNvbXBsZXRlZDogZnVuY3Rpb24gY29tcGxldGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm1hcmtTdW1tYXJ5QXNEb25lKHN1bW1hcnkuaWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYnVja2V0TmFtZXM6IF90aGlzLnByb3BzLmJ1Y2tldE5hbWVzLFxuICAgICAgICAgIGNvbnRhY3RMb2c6IF90aGlzLnByb3BzLmNhbGxMb2dTdGF0ZSxcbiAgICAgICAgICBjYWxsU3RhdGU6IF90aGlzLnByb3BzLmNhbGxTdGF0ZSxcbiAgICAgICAgICBmb2xsb3d1cFRleHRMaXN0OiBfdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRMaXN0LFxuICAgICAgICAgIHJlYXNvbkNvZGVMaXN0OiBfdGhpcy5zdGF0ZS5yZWFzb25Db2RlTGlzdCxcbiAgICAgICAgICBvcGVuU25hY2tiYXJPbkFjdGlvbjogZnVuY3Rpb24gb3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZVR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vcGVuU25hY2tiYXIobWVzc2FnZVR5cGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdXBkYXRlSW52b2ljZXNJblBhcmVudDogZnVuY3Rpb24gdXBkYXRlSW52b2ljZXNJblBhcmVudCh1cGRhdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy51cGRhdGVJbnZvaWNlcyh1cGRhdGVkSW52b2ljZXMsIHN1bW1hcnkuaWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdXBkYXRlU3VtbWFyeUluUGFyZW50OiBmdW5jdGlvbiB1cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpIHtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZVN1bW1hcnlGcm9tQ2hpbGQodXBkYXRlZFN1bW1hcnksIHN1bW1hcnkuaWQpO1xuICAgICAgICAgIH0gfSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIF90aGlzLnByb3BzLm9uSGFuZ3VwKCk7XG4gICAgY29uc29sZS5sb2coX3RoaXMucHJvcHMubmV4dEN1c3RvbWVyVXJsLCBcIm5leHQgY3VzdG9tZXIgdXJsXCIpO1xuICAgIF90aGlzLm5leHRDdXN0b21lVGV4dCA9IFwiR08gVE8gTkVYVCBDVVNUT01FUlwiO1xuICAgIF90aGlzLm5leHRDdXN0b21lclVybCA9IF90aGlzLnByb3BzLm5leHRDdXN0b21lclVybDtcbiAgICBpZiAoIV90aGlzLm5leHRDdXN0b21lclVybCkge1xuICAgICAgX3RoaXMubmV4dEN1c3RvbWVyVXJsID0gXCIvXCI7XG4gICAgICBfdGhpcy5uZXh0Q3VzdG9tZVRleHQgPSBcIkdPIEJBQ0sgVE8gSE9NRSBQQUdFXCI7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKF90aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVycywgXCJ0byBjYWxsIGN1c3RvbWVyc1wiKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIGlzRWRpdGluZ09uOiBmYWxzZSxcbiAgICAgIHN1bW1hcnk6ICcnLFxuICAgICAgdHJhbnNjcmlwdGlvbjogX3RoaXMucHJvcHMuaW5pdGlhbFRyYW5zY3JpcHRpb24sXG4gICAgICBvcGVuUHJvZ3Jlc3NCYXI6IGZhbHNlLFxuICAgICAgZG9PcGVuTmV3QWN0aW9uRGlhbG9nOiBmYWxzZSxcbiAgICAgIGlzQW55QWN0aW9uQ29tcGxldGVkOiBmYWxzZSxcbiAgICAgIGRvUmV2aWV3RGlhbG9nT3BlbjogZmFsc2UsXG4gICAgICBub3RlczogW10sXG4gICAgICBpc1Bvc3RDYWxsRG9uZTogZmFsc2UsXG4gICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcDogbmV3IE1hcCgpLFxuICAgICAgbm9uQWN0aW9uTm90ZXM6ICcnLFxuICAgICAgc25hY2tNZXNzYWdlOiB7fSxcbiAgICAgIHNuYWNrT3BlbjogZmFsc2UsXG4gICAgICBmb2xsb3d1cFRleHRMaXN0OiBbXSxcbiAgICAgIHJlYXNvbkNvZGVMaXN0OiBbXSxcbiAgICAgIG5vbkFjdGlvbkluY2x1ZGVkOiBmYWxzZVxuICAgIH07XG5cbiAgICBfY29tbW9uU2VydmljZS5jb21tb25TZXJ2aWNlLmdldERpc3B1dGVDb2RlcygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHJlYXNvbkNvZGVMaXN0OiByZXNwb25zZSA/IHJlc3BvbnNlIDogW10gfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBsb2FkIGRpc3B1dGUgY29kZXNcIiwgZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgX2NvbW1vblNlcnZpY2UuY29tbW9uU2VydmljZS5nZXRUYXNrVHlwZXMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBmb2xsb3d1cFRleHRMaXN0OiByZXNwb25zZSA/IHJlc3BvbnNlIDogW10gfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBsb2FkIEZvbGxvdyB1cCB0ZXh0IGxpc3RcIiwgZXJyb3IpO1xuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQb3N0Q2FsbCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBuZXh0U3VtbWFyeSA9IG5leHRQcm9wcy50cmFuc2NyaXB0aW9uLnN1bW1hcnk7XG4gICAgICB2YXIgbmV4dFRyYW5zY3JpcHRpb24gPSBuZXh0UHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xuICAgICAgdmFyIGN1cnJlbnRUcmFuc2NyaXB0aW9uID0gdGhpcy5wcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XG4gICAgICBjb25zb2xlLmxvZygnU3VtbWFyeSByZWNlaXZlZCBpbiBQb3N0IENhbGwnLCBKU09OLnN0cmluZ2lmeShuZXh0U3VtbWFyeSkpO1xuXG4gICAgICBpZiAobmV4dFRyYW5zY3JpcHRpb24gJiYgbmV4dFRyYW5zY3JpcHRpb24gIT09IGN1cnJlbnRUcmFuc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyB0cmFuc2NyaXB0aW9uJywgbmV4dFRyYW5zY3JpcHRpb24pO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdHJhbnNjcmlwdGlvbjogbmV4dFRyYW5zY3JpcHRpb24gfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChKU09OLnN0cmluZ2lmeShuZXh0U3VtbWFyeSkgIT09IEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuc3VtbWFyeSkpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplU3VtbWFyeVdpdGhEZWZhdWx0cyhuZXh0U3VtbWFyeSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjbGFzc2VzID0gdGhpcy5wcm9wcy5jbGFzc2VzO1xuICAgICAgdmFyIGN1c3RvbWVyID0gdGhpcy5wcm9wcy5jdXN0b21lcjtcblxuICAgICAgdmFyIHVzZXIgPSB0aGlzLnByb3BzLnVzZXI7XG4gICAgICB2YXIgY2FsbGVkVG9OYW1lID0gdGhpcy5wcm9wcy5jYWxsZWRUb05hbWU7XG4gICAgICB2YXIgY2FsbGVkVG9OYW1lSW5pdGlhbHMgPSAoMCwgX2hlbHBlci5nZXRJbml0aWFsc0Zyb21OYW1lKShjYWxsZWRUb05hbWUpO1xuICAgICAgdmFyIHVzZXJJbml0aWFscyA9ICgwLCBfaGVscGVyLmdldEluaXRpYWxzRnJvbU5hbWUpKHVzZXIubmFtZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFwcEZyYW1lIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EcmF3ZXIyLmRlZmF1bHQsIG51bGwpLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRm9vdGVyMi5kZWZhdWx0LCBudWxsKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucm9vdCB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICAgICAgICB4czogMTBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXG4gICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnbGVmdCdcbiAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuY3VzdG9tZXJOYW1lLCBjbGFzc2VzLmN1c3RvbWVyRGV0YWlsVGV4dCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5jdXN0b21lck51bWJlciwgY2xhc3Nlcy5jdXN0b21lckRldGFpbFRleHQpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHhzOiAyLFxuICAgICAgICAgICAgICAgICAganVzdGlmeTogJ2ZsZXgtZW5kJyxcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpbkxlZnQ6ICctOC4zM3Z3JyB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzBweCAwIDAgMCcsXG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGFsaWduOiAncmlnaHQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnNC40NDR2aCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0ZhYjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ2V4dGVuZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zYXZlUG9zdENhbGxUaGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnQWRkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuc3RhdGUuc3VtbWFyeSA/IGZhbHNlIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmJ1dHRvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmJ1dHRvblRpdGxlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdEb25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXJEb20uTGluayxcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRobmFtZTogdGhpcy5uZXh0Q3VzdG9tZXJVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5uZXh0Q3VzdG9tZXJVcmwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dEN1c3RvbWVUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNQb3N0Q2FsbERvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLnBvc3RDYWxsQ2FyZEdyaWQgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogOCwgY2xhc3NOYW1lOiBjbGFzc2VzLnBhZGRpbmdSaWdodE9uQ2FyZCB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmhlYWRpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgJ1NVR0dFU1RFRCBBQ1RJT05TJ1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgeHM6IDEyLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogJzc0Ljd2aCcsXG4gICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdhY3Rpb24tc3VtbWFyeS1ncmlkLWNvbnRhaW5lcidcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1bW1hcnkgJiYgdGhpcy5zdGF0ZS5zdW1tYXJ5Lm1hcChmdW5jdGlvbiAoc3VtbWFyeSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdlblN1bW1hcnlBY3Rpb25DYXJkcyhzdW1tYXJ5KTtcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuc3VtbWFyeSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgc3RseWU6IHsgaGVpZ2h0OiAnMTAwJScgfSB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICc3MHZoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NpcmN1bGFyUHJvZ3Jlc3MyLmRlZmF1bHQsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6ICcxLjNyZW0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdHZW5lcmF0aW5nIGNhbGwgc3VtbWFyeSdcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IHdpZHRoOiAnMTAwJScgfSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuYWN0aW9uQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiAnY29udGFpbmVkJyxcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGFuZGxlQWN0aW9uQ3JlYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdwcmltYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBmb250U2l6ZTogJzEuMDY3cmVtJyB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICcrIENSRUFURSBORVcgQUNUSU9OJ1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgaXRlbTogdHJ1ZSwgY29udGFpbmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgeHM6IDQsXG4gICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGhlaWdodDogJzg2LjI5dmgnIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2NyaXB0Qm94Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNjcmlwdEJveCxcbiAgICAgICAgICAgICAgICAgIGF1dG9TY3JvbGw6IEJvb2xlYW4oZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zY3JpcHRUaXRsZSxcbiAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRDaGF0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbjogdGhpcy5zdGF0ZS50cmFuc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjYWxsZWRUb05hbWVJbml0aWFsczogY2FsbGVkVG9OYW1lSW5pdGlhbHMsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJbml0aWFsczogJ01FJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdEdyaWRJRDogJ3Bvc3QtY2FsbC10cmFuc2NyaXB0aW9uLWdyaWQnXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgeHM6IDEyLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUJveFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnXG4gICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1bW1hcnkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX05vdGVzRWRpdG9yMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbE5vdGVzOiB0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzLFxuICAgICAgICAgICAgICAgICAgICAgIG9uTm90ZXNDaGFuZ2U6IGZ1bmN0aW9uIG9uTm90ZXNDaGFuZ2Uobm90ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudXBkYXRlTm90ZXMobm90ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLnN1bW1hcnkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdGx5ZTogeyBoZWlnaHQ6ICcxMDAlJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzIwdmgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCB7IHN0eWxlOiB7IGNvbG9yOiAnI2VlZWVlZScgfSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNlZWVlZWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAnMS4zcmVtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dhaXRpbmcgZm9yIHN1bW1hcnknXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpdGVtOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB4czogMTIsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnBvc3RDYWxsQ2FyZEdyaWRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZpbmFsMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgaW52b2ljZUxpc3Q6ICgwLCBfaGVscGVyLmdlbmVyYXRlRmluYWxJbnZvaWNlTGlzdCkodGhpcy5zdGF0ZS5zdW1tYXJ5LCB0aGlzLnByb3BzLmludm9pY2VzKSxcbiAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXM6IHRoaXMuc3RhdGUubm90ZXMsXG4gICAgICAgICAgICAgICAgbm9uQWN0aW9uSW5jbHVkZWQ6IHRoaXMuc3RhdGUubm9uQWN0aW9uSW5jbHVkZWQsXG4gICAgICAgICAgICAgICAgbmV4dEN1c3RvbWVyVXJsOiB0aGlzLnByb3BzLm5leHRDdXN0b21lclVybCxcbiAgICAgICAgICAgICAgICB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMudG9DYWxsQ3VzdG9tZXJzLFxuICAgICAgICAgICAgICAgIGN1c3RvbWVyOiB0aGlzLnByb3BzLmN1c3RvbWVyLFxuICAgICAgICAgICAgICAgIGNvbGxlY3RvcjogdGhpcy5wcm9wcy5jb2xsZWN0b3IsXG4gICAgICAgICAgICAgICAgY29udGFjdEluZGV4OiB0aGlzLnByb3BzLmNvbnRhY3RJbmRleFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9BY3Rpb25DcmVhdG9yRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuZG9PcGVuTmV3QWN0aW9uRGlhbG9nLFxuICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZyxcbiAgICAgICAgICAgICAgb25BY3Rpb25JdGVtQ2xpY2s6IGZ1bmN0aW9uIG9uQWN0aW9uSXRlbUNsaWNrKGFjdGlvblR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUFjdGlvbkl0ZW1DbGljayhhY3Rpb25UeXBlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuZG9SZXZpZXdEaWFsb2dPcGVuLFxuICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlUmV2aWV3V2FybmluZ0RpYWxvZyxcbiAgICAgICAgICAgICAgdGl0bGU6IF9jb25zdGFudHMuUkVWSUVXX1dBUk5JTkcsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2xvc2VSZXZpZXdXYXJuaW5nRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICdzZWNvbmRhcnknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICldXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TbmFja2JhcjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICBhbmNob3JPcmlnaW46IHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogXCJib3R0b21cIixcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBcImxlZnRcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBrZXk6IHRoaXMuc3RhdGUuc25hY2tNZXNzYWdlLmtleSxcbiAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5zbmFja09wZW4sXG4gICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb246IDIwMDAsXG4gICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VTbmFja2JhcixcbiAgICAgICAgICAgICAgQ29udGVudFByb3BzOiB7XG4gICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIHsgaWQ6IHRoaXMuc3RhdGUuc25hY2tNZXNzYWdlLmtleSB9LFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tNZXNzYWdlLm1lc3NhZ2VcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgYWN0aW9uOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnQ2xvc2UnLFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICdpbmhlcml0JyxcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2xvc2VTbmFja2JhcixcbiAgICAgICAgICAgICAgICAgIG9uRXhpdGVkOiB0aGlzLmhhbmRsZVNuYWNrYmFyRXhpdFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb3NlMi5kZWZhdWx0LCBudWxsKVxuICAgICAgICAgICAgICApXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBvc3RDYWxsO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuUG9zdENhbGwuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdXNlcjogc3RhdGUucGVyc29uYWxEZXRhaWxzLFxuICAgIGNhbGxTdGF0ZTogc3RhdGUuY2FsbFN0YXRlLFxuICAgIHRyYW5zY3JpcHRpb246IHN0YXRlLnRyYW5zY3JpcHRpb24sXG4gICAgY2FsbExvZ1N0YXRlOiBzdGF0ZS5jYWxsTG9nU3RhdGVcbiAgfTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMpKCgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoUG9zdENhbGwpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwODg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfUDJQID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDg5KTtcblxudmFyIF9QMlAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUDJQKTtcblxudmFyIF9EaXNwdXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDk4KTtcblxudmFyIF9EaXNwdXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc3B1dGUpO1xuXG52YXIgX0ZvbGxvd3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDk5KTtcblxudmFyIF9Gb2xsb3d1cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Gb2xsb3d1cCk7XG5cbnZhciBfQWN0aW9uRGV0YWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwMCk7XG5cbnZhciBfQWN0aW9uRGV0YWlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BY3Rpb25EZXRhaWxzKTtcblxudmFyIF9FeHBhbnNpb25QYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc0KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FeHBhbnNpb25QYW5lbCk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsU3VtbWFyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FeHBhbnNpb25QYW5lbFN1bW1hcnkpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsRGV0YWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI5KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbERldGFpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWxEZXRhaWxzKTtcblxudmFyIF9FeHBhbmRNb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzUpO1xuXG52YXIgX0V4cGFuZE1vcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5kTW9yZSk7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYW5lbDoge1xuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGV4cGFuZGVkQmFja2dyb3VuZDoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzOTU4NkZcIixcbiAgICAgICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwcHggM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMikpXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjAgIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHBhbmVsQ29tbW9uOiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjAgIWltcG9ydGFudFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjVweFwiLFxuICAgICAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDBweCAzcHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yKSlcIlxuICAgICAgICB9LFxuICAgICAgICBleHBhbmRJY29uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBleHBhbnNpb25QYW5lbFJvb3Q6IHtcbiAgICAgICAgICAgIGJveFNoYWRvdzogXCJub25lICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHggIWltcG9ydGFudFwiLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuODN2aFwiXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIEFjdGlvbnMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhBY3Rpb25zLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEFjdGlvbnMocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjdGlvbnMpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBY3Rpb25zLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWN0aW9ucykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzLnByb3BzLnN1bW1hcnkuZW50aXRpZXNbXCJpbnZvaWNlXCJdO1xuICAgICAgICB2YXIgaW5pdGlhbEludm9pY2VEYXRhID0gX3RoaXMuZ2VuSW5pdGlhbEludm9pY2VEYXRhKGludm9pY2VzKTtcbiAgICAgICAgdmFyIGNvcnJlY3RJbnZvaWNlcyA9IGluaXRpYWxJbnZvaWNlRGF0YS5jb3JyZWN0SW52b2ljZXMsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXAgPSBpbml0aWFsSW52b2ljZURhdGEuY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZyA9IGluaXRpYWxJbnZvaWNlRGF0YS5pbmNvcnJlY3RGbGFnO1xuXG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBleHBhbmRlZDogZmFsc2UsXG4gICAgICAgICAgICBhbW91bnQ6IDAsXG4gICAgICAgICAgICBpbnZvaWNlczogaW52b2ljZXMsXG4gICAgICAgICAgICBzdW1tYXJ5OiBfdGhpcy5wcm9wcy5zdW1tYXJ5LFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiBjb3JyZWN0SW52b2ljZXMsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IGNvcnJlY3RJbnZvaWNlc01hcCxcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IGluY29ycmVjdEZsYWcsXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IDBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhBY3Rpb25zLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICBpbnRlbnRUeXBlID0gX3Byb3BzLmludGVudFR5cGU7XG5cbiAgICAgICAgICAgIHZhciBjb21tb25Qcm9wcyA9IHRoaXMuZ2V0Q29tbW9uUHJvcHMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5leHBhbnNpb25QYW5lbFJvb3QgfSxcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWQ6IHRoaXMuc3RhdGUuZXhwYW5kZWQsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5wYW5lbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5leHBhbmRlZCA/IGNsYXNzZXMuZXhwYW5kZWRCYWNrZ3JvdW5kIDogY2xhc3Nlcy5wYW5lbENvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZEljb246IGludGVudFR5cGUgIT09IF9jb25zdGFudHMuSU5URU5UX1RZUEVTLkZPTExPV19VUCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRXhwYW5kTW9yZTIuZGVmYXVsdCwgeyBvbkNsaWNrOiB0aGlzLnRvZ2dsZUV4cGFuZCwgY2xhc3NOYW1lOiBjbGFzc2VzLmV4cGFuZEljb24gfSlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZSA9PT0gX2NvbnN0YW50cy5JTlRFTlRfVFlQRVMuUDJQICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9QMlAyLmRlZmF1bHQsIF9leHRlbmRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQW1vdW50OiB0aGlzLnN0YXRlLmFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6IHRoaXMuc3RhdGUuc3VtbWFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VDb3VudDogdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzXG4gICAgICAgICAgICAgICAgICAgIH0sIGNvbW1vblByb3BzKSksXG4gICAgICAgICAgICAgICAgICAgIGludGVudFR5cGUgPT09IF9jb25zdGFudHMuSU5URU5UX1RZUEVTLkRJU1BVVEUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Rpc3B1dGUyLmRlZmF1bHQsIF9leHRlbmRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6IHRoaXMuc3RhdGUuc3VtbWFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VDb3VudDogdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uQ29kZUxpc3Q6IHRoaXMucHJvcHMucmVhc29uQ29kZUxpc3RcbiAgICAgICAgICAgICAgICAgICAgfSwgY29tbW9uUHJvcHMpKSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZSA9PT0gX2NvbnN0YW50cy5JTlRFTlRfVFlQRVMuRk9MTE9XX1VQICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Gb2xsb3d1cDIuZGVmYXVsdCwgX2V4dGVuZHMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogdGhpcy5zdGF0ZS5zdW1tYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9sbG93dXBUZXh0TGlzdDogdGhpcy5wcm9wcy5mb2xsb3d1cFRleHRMaXN0XG4gICAgICAgICAgICAgICAgICAgIH0sIGNvbW1vblByb3BzKSlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5wYW5lbENvbW1vbiB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQWN0aW9uRGV0YWlsczIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtOiB0aGlzLnN0YXRlLnN1bW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlOiBpbnRlbnRUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiB0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZUludm9pY2U6IHRoaXMudXBkYXRlSW52b2ljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiB0aGlzLnN0YXRlLmNvbXBsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VzOiB0aGlzLnByb3BzLmFsbEludm9pY2VMaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0TmFtZXM6IHRoaXMucHJvcHMuYnVja2V0TmFtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJbnZvaWNlczogZnVuY3Rpb24gdXBkYXRlSW52b2ljZXMoaW52b2ljZXMsIGludm9pY2VzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZUNvcnJlY3RJbnZvaWNlcyhpbnZvaWNlcywgaW52b2ljZXNNYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBY3Rpb25zO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdGhpcy50b2dnbGVFeHBhbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiAhX3RoaXMzLnN0YXRlLmV4cGFuZGVkIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdlbkluaXRpYWxJbnZvaWNlRGF0YSA9IGZ1bmN0aW9uIChpbnZvaWNlcykge1xuICAgICAgICB2YXIgY29ycmVjdEludm9pY2VzID0gW107XG4gICAgICAgIHZhciBjb3JyZWN0SW52b2ljZXNNYXAgPSB7fTtcbiAgICAgICAgdmFyIGluY29ycmVjdEZsYWcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGFsbEludm9pY2VMaXN0ID0gX3RoaXMzLnByb3BzLmFsbEludm9pY2VMaXN0O1xuXG4gICAgICAgIGlmIChpbnZvaWNlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFsbEludm9pY2VMaXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYWxsSW52b2ljZUxpc3Rbal0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SW52b2ljZSA9IGFsbEludm9pY2VMaXN0W2pdW2tdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZXNbaV0gPT0gY3VycmVudEludm9pY2UuZG9jdW1lbnROdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXMucHVzaChjdXJyZW50SW52b2ljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwW2N1cnJlbnRJbnZvaWNlLmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBJbnZvaWNlID0gT2JqZWN0LmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaW52b2ljZXNbaV0gKyAnaW5jb3JyZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TnVtYmVyOiBpbnZvaWNlc1tpXVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXMucHVzaCh0ZW1wSW52b2ljZSk7XG4gICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbnZvaWNlRGF0YSA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiBjb3JyZWN0SW52b2ljZXMsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IGNvcnJlY3RJbnZvaWNlc01hcCxcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IGluY29ycmVjdEZsYWdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGludm9pY2VEYXRhO1xuICAgIH07XG5cbiAgICB0aGlzLmdldENvbW1vblByb3BzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjdXN0b21lcjogX3RoaXMzLnByb3BzLmN1c3RvbWVyLFxuICAgICAgICAgICAgY2FsbFRvTmFtZTogX3RoaXMzLnByb3BzLmNhbGxlZFRvTmFtZSxcbiAgICAgICAgICAgIGNhbGxlZFRvTnVtYmVyOiBfdGhpczMucHJvcHMuY2FsbGVkVG9OdW1iZXIsXG4gICAgICAgICAgICBjb250YWN0TG9nOiBfdGhpczMucHJvcHMuY29udGFjdExvZyxcbiAgICAgICAgICAgIG9uQWN0aW9uSXRlbUNvbmZpcm06IF90aGlzMy5wcm9wcy5vbkFjdGlvbkl0ZW1Db25maXJtLFxuICAgICAgICAgICAgZGVsZXRlQWN0aW9uOiBfdGhpczMucHJvcHMub25EZWxldGUsXG4gICAgICAgICAgICBvbkNvbXBsZXRpb246IF90aGlzMy5tYXJrVGhpc0NvbXBsZXRlLFxuICAgICAgICAgICAgdG9nZ2xlRXhwYW5kOiBfdGhpczMudG9nZ2xlRXhwYW5kLFxuICAgICAgICAgICAgb3BlblNuYWNrYmFyT25BY3Rpb246IGZ1bmN0aW9uIG9wZW5TbmFja2Jhck9uQWN0aW9uKG1lc3NhZ2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlVHlwZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlU3VtbWFyeUluUGFyZW50OiBmdW5jdGlvbiB1cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5LCBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlQ29ycmVjdEludm9pY2VzID0gZnVuY3Rpb24gKGludm9pY2VzLCBpbnZvaWNlc01hcCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiBpbnZvaWNlcyxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogaW52b2ljZXNNYXBcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLnVwZGF0ZUludm9pY2VzSW5QYXJlbnQoaW52b2ljZXMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVJbnZvaWNlcyA9IGZ1bmN0aW9uIChmbGFnLCBpbnZvaWNlQ291bnQpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IGZsYWcsXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IGludm9pY2VDb3VudFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5tYXJrVGhpc0NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBjb21wbGV0ZWQ6IHRydWUsIGV4cGFuZGVkOiBmYWxzZSB9KTtcbiAgICAgICAgX3RoaXMzLnByb3BzLmNvbXBsZXRlZCgpO1xuICAgIH07XG59O1xuXG5BY3Rpb25zLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEFjdGlvbnMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA4OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBfQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0J1dHRvbik7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXG52YXIgX2RhdGVGbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNzcpO1xuXG52YXIgX2RhdGVGbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGF0ZUZucyk7XG5cbnZhciBfbWF0ZXJpYWxVaVBpY2tlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNzgpO1xuXG52YXIgX2NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF9ibHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjgpO1xuXG52YXIgX2JsdWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmx1ZSk7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX1R5cG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHlwb2dyYXBoeSk7XG5cbnZhciBfVGV4dEZpZWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXG52YXIgX1RleHRGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0RmllbGQpO1xuXG52YXIgX0Vycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjUpO1xuXG52YXIgX0Vycm9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Vycm9yKTtcblxudmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblxudmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxudmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxudmFyIF9yZWFjdE51bWJlckZvcm1hdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMyKTtcblxudmFyIF9yZWFjdE51bWJlckZvcm1hdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdE51bWJlckZvcm1hdCk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oODUpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY3VsYXJQcm9ncmVzcyk7XG5cbnZhciBfQ3VzdG9tRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjQpO1xuXG52YXIgX0N1c3RvbURpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21EaWFsb2cpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblxudmFyIF9kYXRlRm5zMyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI2KTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxudmFyIF9jb21iaW5lU3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cbnZhciBfY29tYmluZVN0eWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lU3R5bGVzKTtcblxudmFyIF9iYXNlU3R5bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblxudmFyIF9iYXNlU3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFzZVN0eWxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vY29uc3RhbnRzXG52YXIgUDJQUmVnZXggPSAvKFByb21pc2UgdG8gcGF5IGZvciBcXGQqKXwoXFxkezR9LVxcZHsyfS1cXGR7Mn1UW1xcZHsyfTpdKi5cXGR7M31bLXwrXVxcZHsyfTpcXGR7Mn0pfChcXGQqIGludm9pY2UpL2c7XG52YXIgZGlzY2FyZE1lc3NhZ2UgPSBcIlRoaXMgd2lsbCBiZSByZW1vdmVkIHBlcm1hbmVudGx5IGZyb20gdGhlIHN1Z2dlc3RlZCBhY3Rpb25zLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLlwiO1xudmFyIHJlc29sdmVNZXNzYWdlID0gXCIgVW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBhY3Rpb24uIFBsZWFzZSByZXNvbHZlIHRoZSBlcnJvcnMgdG8gYXBwcm92ZS5cIjtcbnZhciBQMlBUZW1wbGF0ZSA9IFwiUGF5bWVudCBjb21taXRtZW50IHJlY2VpdmVkIGZvciA8QW1vdW50PiB0byBiZSBwYWlkIGJ5IDxEYXRlPiA8SW52b2ljZXM+LlwiO1xudmFyIFAyUF9PUklHX1RFTVBMQVRFID0gXCJDcmVhdGUgUHJvbWlzZSB0byBwYXkgZm9yIDxBbW91bnQ+IHRvIGJlIHBhaWQgYnkgPERhdGU+IGZvciA8SW52b2ljZXM+XCI7XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0RmllbGQ6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG1hcmdpbjogMFxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBtYXRlcmlhbFRoZW1lID0gKDAsIF9jb3JlLmNyZWF0ZU11aVRoZW1lKSh7XG4gICAgb3ZlcnJpZGVzOiB7XG4gICAgICAgIE11aVBpY2tlcnNUb29sYmFyOiB7XG4gICAgICAgICAgICB0b29sYmFyOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBfYmx1ZTIuZGVmYXVsdC5BMjAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxM3ZoXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgTXVpUGlja2Vyc0NhbGVuZGFySGVhZGVyOiB7XG4gICAgICAgICAgICBzd2l0Y2hIZWFkZXI6IHtcbiAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Qmx1ZS5BMjAwLFxuICAgICAgICAgICAgICAgIC8vIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBNdWlQaWNrZXJzRGF5OiB7XG4gICAgICAgICAgICBkYXk6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogX2JsdWUyLmRlZmF1bHQuQTcwMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBfYmx1ZTIuZGVmYXVsdFsnNDAwJ11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXJyZW50OiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IF9ibHVlMi5kZWZhdWx0Wyc5MDAnXVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBNdWlGb3JtSGVscGVyVGV4dDoge1xuICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjRkY4ODg4ICFpbXBvcnRhbnRcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBNdWlQaWNrZXJzTW9kYWw6IHtcbiAgICAgICAgICAgIGRpYWxvZ0FjdGlvbjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBfYmx1ZTIuZGVmYXVsdFsnNDAwJ11cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG52YXIgUDJQID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUDJQLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFAyUChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUDJQKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUDJQLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUDJQKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cbiAgICAgICAgdmFyIGV4dHJhY3RlZERhdGEgPSBfdGhpcy5wcm9wcy5zdW1tYXJ5LnN1bW1hcnkubWF0Y2goUDJQUmVnZXgpO1xuICAgICAgICB2YXIgZXh0cmFjdGVkQW1vdW50ID0gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9Lyk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICByZWFkT25seTogIV90aGlzLnByb3BzLnN1bW1hcnkuY3JlYXRlZCxcbiAgICAgICAgICAgIGlzRWRpdGluZzogX3RoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgcHJldkFtb3VudDogXCJcIixcbiAgICAgICAgICAgIGFtb3VudDogZXh0cmFjdGVkQW1vdW50ID8gZXh0cmFjdGVkQW1vdW50WzBdIDogX3RoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkID8gXCJcIiA6IDAsXG4gICAgICAgICAgICBzZWxlY3RlZERhdGU6IG5ldyBEYXRlKGV4dHJhY3RlZERhdGFbMV0pLFxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiBfdGhpcy5wcm9wcy5pbnZvaWNlQ291bnQsXG4gICAgICAgICAgICBvcGVuQWN0aW9uU2F2ZTogZmFsc2UsXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiLFxuICAgICAgICAgICAgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlLFxuICAgICAgICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxuICAgICAgICAgICAgYWN0aW9uSWQ6IF90aGlzLnByb3BzLnN1bW1hcnkuaWQsXG4gICAgICAgICAgICBpc0RvbmU6IF90aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSxcbiAgICAgICAgICAgIGZpbmFsU2VsZWN0ZWREYXRlOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUgPyAoMCwgX2RhdGVGbnMzLmZvcm1hdCkobmV3IERhdGUoZXh0cmFjdGVkRGF0YVsxXSksIFwiTU1NIGRkLCB5eXl5XCIpIDogXCJcIixcbiAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBleHRyYWN0ZWRBbW91bnQgPyAoXCJcIiArIGV4dHJhY3RlZEFtb3VudCkubGVuZ3RoICogMTIgOiAxNSxcbiAgICAgICAgICAgIGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UsXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBfdGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnLFxuICAgICAgICAgICAgaW52YWxpZERhdGFOb3RpZmllck1lc3NhZ2U6IFwiXCIsXG4gICAgICAgICAgICBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogZmFsc2UsXG4gICAgICAgICAgICBzdW1tYXJ5OiBfdGhpcy5wcm9wcy5zdW1tYXJ5LFxuICAgICAgICAgICAgaXNBbW91bnRJbnZhbGlkOiBleHRyYWN0ZWRBbW91bnQgPyBmYWxzZSA6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQMlAsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBuZXh0UHJvcHMuaW5jb3JyZWN0RmxhZ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHMuaW52b2ljZUNvdW50ID49IDAgJiYgbmV4dFByb3BzLmludm9pY2VDb3VudCAhPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlQ291bnQ6IG5leHRQcm9wcy5pbnZvaWNlQ291bnQgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5ID0gdGhpcy5wcm9wcy5zdW1tYXJ5O1xuICAgICAgICAgICAgdmFyIGZ1bGxTY3JlZW4gPSB0aGlzLnByb3BzLmZ1bGxTY3JlZW47XG5cblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZVNhbXBsZSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTAsIG1kOiAxMCwgbGc6IDEwLCBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnZmxleC1zdGFydCcgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgd2lkdGg6IFwiM3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aW9uU2F2ZVByb2dyZXNzQmFyICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25Qcm9ncmVzc0JhciB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Eb25lLCB7IHN0eWxlOiB7IGNvbG9yOiBcIiM1RkMzMkNcIiwgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIiwgaGVpZ2h0OiBcIjEuNXJlbVwiLCB3aWR0aDogXCIxLjVyZW1cIiB9IH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMSwgbWQ6IDExLCBsZzogMTEsIGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnk6ICdmbGV4LXN0YXJ0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGVkIFxceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGUgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250V2VpZ2h0OiBcImJvbGRcIiwgb3BhY2l0eTogMSB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZFRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1AyUCBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkVGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb2YgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgc3R5bGU6IHsgbWluV2lkdGg6IHRoaXMuc3RhdGUuaXNFZGl0aW5nID8gXCI3cmVtXCIgOiB0aGlzLnN0YXRlLmFtb3VudFRleHRGaWVsZFdpZHRoLCB3aWR0aDogdGhpcy5zdGF0ZS5pc0VkaXRpbmcgPyBcIjdyZW1cIiA6IHRoaXMuc3RhdGUuYW1vdW50VGV4dEZpZWxkV2lkdGgsIG1heFdpZHRoOiBcIjlyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRleHRGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuYW1vdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5oYW5kbGVJbnZvaWNlQ3VycmVuY3lDaGFuZ2UoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJ25vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICdub3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmJvcmRlckZpcnN0LCBjbGFzc2VzLmlucHV0RmllbGRUZXh0KSA6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5ib3JkZXJTZWNvbmQsIGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4odGhpcy5zdGF0ZS5yZWFkT25seSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRoaXMuc3RhdGUucmVhZE9ubHkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDb21wb25lbnQ6IHRoaXMuc3RhdGUuaXNFZGl0aW5nID8gTnVtYmVyRm9ybWF0Q3VzdG9tIDogdGhpcy5Gb3JtYXR0ZWRDdXJyZW5jeUlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkJvcmRlckNvbG9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkSWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luTGVmdDogXCI2cHhcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZUVkaXRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuSGlnaGxpZ2h0T2ZmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5MZWZ0OiBcIjAuNHJlbVwiLCBjb2xvcjogXCIjRkY4ODg4XCIsIHBhZGRpbmc6IFwiMCAxLjNyZW0gMCAwLjhyZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAhdGhpcy5zdGF0ZS5wcmV2QW1vdW50ID8gY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0biA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAhdGhpcy5zdGF0ZS5wcmV2QW1vdW50ID8gX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uIDogdGhpcy5kaXNtaXNzQW1vdW50Q2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkNoZWNrQ2lyY2xlT3V0bGluZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IFwiIzVGQzMyQ1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0biA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnN0YXRlLmlzQW1vdW50SW52YWxpZCA/IF9jb25zdGFudHMuZW1wdHlGdW5jdGlvbiA6IHRoaXMuc2F2ZUludm9pY2VBbW91bnRDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkVGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTAgd2l0aCBkdWUgZGF0ZSBvZiBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZpbmFsU2VsZWN0ZWREYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIG1heFdpZHRoOiBcIjhlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tYXRlcmlhbFVpUGlja2Vycy5NdWlQaWNrZXJzVXRpbHNQcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dGlsczogX2RhdGVGbnMyLmRlZmF1bHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5NdWlUaGVtZVByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGVtZTogbWF0ZXJpYWxUaGVtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX21hdGVyaWFsVWlQaWNrZXJzLkRhdGVQaWNrZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXhXaWR0aDogXCI1LjM1cmVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogQm9vbGVhbihmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAnTU1NIGRkLCB5eXl5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5EYXRlTWVzc2FnZTogJ1ByZXZpb3VzIGRhdGUgbm90IGFjY2VwdGFibGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiZGF0ZS1pbnB1dC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmlucHV0RmllbGRUZXh0LCBjbGFzc2VzLmJvcmRlclNlY29uZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKHRydWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5waWNrZXIgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZURhdGVDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbkNsaWNrPXtlID0+IGUucHJldmVudERlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGF0ZTogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuRGF0ZVJhbmdlLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkSWNvbiwgb25DbGljazogdGhpcy5vcGVuUGlja2VyIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2xlZnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgIT09IDAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGRpc3BsYXk6IFwiZmxleFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0VkaXRpbmcgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3dhcmRzXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGZvbnRXZWlnaHQ6ICdib2xkJyB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZFRleHQsIG9uQ2xpY2s6IHRoaXMucHJvcHMudG9nZ2xlRXhwYW5kIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCArIFwiIEludm9pY2VcIiArICh0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDEgPyBcInNcIiA6IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRXJyb3IyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVycm9yRmxhZyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwgeyBmdWxsU2NyZWVuOiBmdWxsU2NyZWVuLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5BY3Rpb25TYXZlLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZywgdGl0bGU6IGRpc2NhcmRNZXNzYWdlLCBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZywgY29sb3I6ICdzZWNvbmRhcnknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnRGlzYWdyZWUnXG4gICAgICAgICAgICAgICAgICAgICksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2csIGNvbG9yOiAncHJpbWFyeScsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0FncmVlJ1xuICAgICAgICAgICAgICAgICAgICApXSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3Blbldhcm5pbmdEaWFsb2csXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nLCB0aXRsZTogcmVzb2x2ZU1lc3NhZ2UsIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nLCBjb2xvcjogJ3NlY29uZGFyeScsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICAgICAgICAgICApXSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbkludmFsaWREYXRhTm90aWZpZXIsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VJbnZhbGlkRGF0YU5vdGlmaWVyLCB0aXRsZTogdGhpcy5zdGF0ZS5pbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZSwgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbG9zZUludmFsaWREYXRhTm90aWZpZXIsIGNvbG9yOiAnc2Vjb25kYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMiwgbWQ6IDIsIGxnOiAyIH0sXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5IaWdobGlnaHRPZmYsIHsgc3R5bGU6IHsgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIgfSwgb25DbGljazogdGhpcy5vcGVuQWN0aW9uRGlzY2FyZERpYWxvZyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5DaGVja0NpcmNsZU91dGxpbmUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuY2hlY2tJbnZhbGlkYXRpb24oKSA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2hlY2tJbnZhbGlkYXRpb24oKSA/IHRoaXMuc2F2ZVAyUCA6IF9jb25zdGFudHMuZW1wdHlGdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUDJQO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgdGhpcy5oYW5kbGVJbnZvaWNlQ3VycmVuY3lDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGV2ZW50LnRhcmdldC52YWx1ZSA/IChcIlwiICsgZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCkgKiAxMiA6IDUwLFxuICAgICAgICAgICAgYW1vdW50OiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICBhbW91bnRGb3JtYXR0ZWQ6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgIGlzQW1vdW50SW52YWxpZDogZmFsc2VcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpczQuc3RhdGUuYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgaXNBbW91bnRJbnZhbGlkOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2cgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgb3BlbkludmFsaWREYXRhTm90aWZpZXI6IHRydWUsXG4gICAgICAgICAgICBpbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZTogbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZUludmFsaWREYXRhTm90aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IG9wZW5JbnZhbGlkRGF0YU5vdGlmaWVyOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnZhbGlkYXRlUDJQRGF0YSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgYW1vdW50ID0gX3RoaXM0LnN0YXRlLmFtb3VudDtcblxuICAgICAgICBpZiAoTnVtYmVyKGFtb3VudCkgPCAxKSB7XG4gICAgICAgICAgICBfdGhpczQub3BlbkRhdGFJbnZhbGlkRGlhbG9nKFwiUGxlYXNlIGVudGVyIGFtb3VudCA+IDAuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEoMCwgX2hlbHBlci5pc1ZhbGlkRGF0ZSkoX3RoaXM0LnN0YXRlLnNlbGVjdGVkRGF0ZSkpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuRGF0YUludmFsaWREaWFsb2coXCJGb3VuZCBpbnZhbGlkIGRhdGUuIFBsZWFzZSBjb3JyZWN0IHRoZSBkYXRlIHRvIHByb2NlZWQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tJbnZhbGlkYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhX3RoaXM0LnN0YXRlLmlzQW1vdW50SW52YWxpZCAmJiAhX3RoaXM0LnN0YXRlLmluY29ycmVjdEZsYWcgJiYgKDAsIF9oZWxwZXIuaXNWYWxpZERhdGUpKF90aGlzNC5zdGF0ZS5zZWxlY3RlZERhdGUpO1xuICAgIH07XG5cbiAgICB0aGlzLnNhdmVQMlAgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKCFfdGhpczQudmFsaWRhdGVQMlBEYXRhKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhjb250YWN0SWQpO1xuICAgICAgICB2YXIgY29udGFjdElkID0gX3RoaXM0LnByb3BzLmNvbnRhY3RMb2cuY29udGFjdCAhPT0gbnVsbCA/IF90aGlzNC5wcm9wcy5jb250YWN0TG9nLmNvbnRhY3QuaWQgOiBudWxsO1xuICAgICAgICB2YXIgcGhvbmVOdW1iZXIgPSBfdGhpczQucHJvcHMuY29udGFjdExvZy5jYWxsaW5nTnVtYmVyO1xuICAgICAgICB2YXIgaW52b2ljZXMgPSBfdGhpczQucHJvcHMuY29ycmVjdEludm9pY2VzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgdmFyIGludm9pY2VPYmogPSB7fTtcbiAgICAgICAgICAgIGludm9pY2VPYmouY21zRG9jSGVhZGVySWQgPSBpbnZvaWNlLmlkO1xuICAgICAgICAgICAgcmV0dXJuIGludm9pY2VPYmo7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfdGhpczQuc3RhdGUuaW5jb3JyZWN0RmxhZykge1xuICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IHRydWUsIGlzRWRpdGluZzogZmFsc2UsIHJlYWRPbmx5OiB0cnVlIH0pO1xuICAgICAgICB2YXIgcmVxT2JqID0ge1xuICAgICAgICAgICAgY29tbWl0dGVkQW1vdW50OiBfdGhpczQuc3RhdGUuYW1vdW50LFxuICAgICAgICAgICAgY29tbWl0dGVkQnk6IHtcbiAgICAgICAgICAgICAgICBpZDogY29udGFjdElkLFxuICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBwaG9uZU51bWJlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbW1pdHRlZERhdGU6IG5ldyBEYXRlKF90aGlzNC5zdGF0ZS5zZWxlY3RlZERhdGUpLFxuICAgICAgICAgICAgY29tbWl0dGVkT246IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBjdXJyZW5jeTogXCIkXCIsXG4gICAgICAgICAgICBjdXN0b21lcklkOiBfdGhpczQucHJvcHMuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBwY0l0ZW1zOiBpbnZvaWNlc1xuICAgICAgICB9O1xuXG4gICAgICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jdXN0b21lci8nICsgX3RoaXM0LnByb3BzLmN1c3RvbWVyLmlkICsgJy9wMnAnLCByZXFPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpczQub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJTVUNDRVNTXCIpO1xuICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgZmluYWxTZWxlY3RlZERhdGU6IF90aGlzNC5nZXREYXRlRmllbGRWYWx1ZSgpIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgaXNEb25lOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL3VwZGF0ZSBmbGFnIGluIGFjdGlvbnMgfCBwb3N0IGNhbGwgXG4gICAgICAgICAgICB2YXIgc3VtbWFyeVRvU2F2ZSA9IF90aGlzNC5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcbiAgICAgICAgICAgIF90aGlzNC5wcm9wcy5vbkNvbXBsZXRpb24oKTtcbiAgICAgICAgICAgIF90aGlzNC5wcm9wcy5vbkFjdGlvbkl0ZW1Db25maXJtKHN1bW1hcnlUb1NhdmUpO1xuICAgICAgICAgICAgX3RoaXM0LnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpczQub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcbiAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UsIGlzRG9uZTogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdlbmVyYXRlQWN0aW9uU3VtbWFyeSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgaW52b2ljZUNvdW50ID0gX3RoaXM0LnN0YXRlLmludm9pY2VDb3VudDtcbiAgICAgICAgdmFyIGRhdGUgPSBfdGhpczQuc3RhdGUuc2VsZWN0ZWREYXRlO1xuICAgICAgICB2YXIgZm9ybWF0dGVkRGF0ZSA9ICgwLCBfZGF0ZUZuczMuZm9ybWF0KShkYXRlLCBcIk1NLWRkLXl5eXlcIik7XG5cbiAgICAgICAgdmFyIGdlbmVyYXRlZFN1bW1hcnkgPSBQMlBUZW1wbGF0ZS5yZXBsYWNlKFwiPEFtb3VudD5cIiwgXCIkXCIgKyAoMCwgX2hlbHBlci5mb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQpKF90aGlzNC5zdGF0ZS5hbW91bnQpKS5yZXBsYWNlKFwiPERhdGU+XCIsIGZvcm1hdHRlZERhdGUpLnJlcGxhY2UoXCI8SW52b2ljZXM+XCIsIGludm9pY2VDb3VudCA9PT0gMCA/IFwiXCIgOiBpbnZvaWNlQ291bnQgPT09IDEgPyBcImZvciBcIiArIGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IFwiZm9yIFwiICsgaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIik7XG5cbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFN1bW1hcnk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBfdGhpczQucHJvcHMub3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZSk7XG4gICAgfTtcblxuICAgIHRoaXMuZGlzbWlzc0Ftb3VudENoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBfdGhpczQuc3RhdGU7XG4gICAgICAgIHZhciBhbW91bnRUZXh0RmllbGRMZW5ndGggPSAoMCwgX2Zvcm1hdHRlci5jdXN0b21DdXJyZW5jeUZvcm1hdHRlcikoX3RoaXM0LnN0YXRlLmFtb3VudCkubGVuZ3RoO1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYW1vdW50OiBjdXJyZW50U3RhdGUucHJldkFtb3VudCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBhbW91bnRUZXh0RmllbGRMZW5ndGggKiA0LjVcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyBfdGhpczQuc3RhdGUuYWN0aW9uSWQpLmJsdXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuUGlja2VyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3RoaXM0LnBpY2tlci5vcGVuKGUpO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZVN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IF90aGlzNC5zdGF0ZS5pbnZvaWNlQ291bnQ7XG4gICAgICAgIHZhciBmb3JtYXR0ZWREYXRlID0gKDAsIF9oZWxwZXIuZm9ybWF0RGF0ZVdpdGhUaW1lem9uZSkobmV3IERhdGUoX3RoaXM0LnN0YXRlLnNlbGVjdGVkRGF0ZSksIFwiLTA2OjAwXCIpO1xuICAgICAgICB2YXIgdXBkYXRlZFN1bW1hcnkgPSBQMlBfT1JJR19URU1QTEFURS5yZXBsYWNlKFwiPEFtb3VudD5cIiwgX3RoaXM0LnN0YXRlLmFtb3VudCA/IF90aGlzNC5zdGF0ZS5hbW91bnQgOiBcIjxhbW91bnQtb2YtbW9uZXk+XCIpLnJlcGxhY2UoXCI8RGF0ZT5cIiwgZm9ybWF0dGVkRGF0ZSkucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgaW52b2ljZUNvdW50ID09PSAwID8gXCI8WCBpbnZvaWNlcz5cIiA6IGludm9pY2VDb3VudCA9PT0gMSA/IGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpO1xuICAgICAgICBfdGhpczQucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zYXZlSW52b2ljZUFtb3VudENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgYW1vdW50VGV4dEZpZWxkTGVuZ3RoID0gKDAsIF9mb3JtYXR0ZXIuY3VzdG9tQ3VycmVuY3lGb3JtYXR0ZXIpKF90aGlzNC5zdGF0ZS5hbW91bnQpLmxlbmd0aDtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHtcbiAgICAgICAgICAgIHByZXZBbW91bnQ6IF90aGlzNC5zdGF0ZS5hbW91bnQsXG4gICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgIGlzRWRpdGluZzogZmFsc2UsXG4gICAgICAgICAgICBhbW91bnRUZXh0RmllbGRXaWR0aDogYW1vdW50VGV4dEZpZWxkTGVuZ3RoICogNC41XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgX3RoaXM0LnN0YXRlLmFjdGlvbklkKS5ibHVyKCk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM0LnByb3BzLmRlbGV0ZUFjdGlvbihfdGhpczQuc3RhdGUuYWN0aW9uSWQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy50b2dnbGVFZGl0aW5nID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgcmVhZE9ubHk6IGZhbHNlLCBpc0VkaXRpbmc6IHRydWUgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIF90aGlzNC5zdGF0ZS5hY3Rpb25JZCkuZm9jdXMoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlRGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNlbGVjdGVkRGF0ZTogZGF0ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczQudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXREYXRlRmllbGRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlkID0gXCJkYXRlLWlucHV0LWZpZWxkLVwiICsgX3RoaXM0LnN0YXRlLmFjdGlvbklkO1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnZhbHVlO1xuICAgIH07XG5cbiAgICB0aGlzLkZvcm1hdHRlZEN1cnJlbmN5SW5wdXQgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdmFyIGlucHV0UmVmID0gcHJvcHMuaW5wdXRSZWYsXG4gICAgICAgICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFsnaW5wdXRSZWYnLCAnb25DaGFuZ2UnXSk7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdE51bWJlckZvcm1hdDIuZGVmYXVsdCwgX2V4dGVuZHMoe30sIG90aGVyLCB7XG4gICAgICAgICAgICBnZXRJbnB1dFJlZjogaW5wdXRSZWYsXG4gICAgICAgICAgICBvblZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBvblZhbHVlQ2hhbmdlKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdChhcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfZm9ybWF0dGVyLmN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyKShfdGhpczQuc3RhdGUuYW1vdW50LCBcIiRcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVjaW1hbFNjYWxlOiA4LFxuICAgICAgICAgICAgYWxsb3dOZWdhdGl2ZTogZmFsc2VcbiAgICAgICAgfSkpO1xuICAgIH07XG59O1xuXG5mdW5jdGlvbiBOdW1iZXJGb3JtYXRDdXN0b20ocHJvcHMpIHtcbiAgICB2YXIgaW5wdXRSZWYgPSBwcm9wcy5pbnB1dFJlZixcbiAgICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFsnaW5wdXRSZWYnLCAnb25DaGFuZ2UnXSk7XG5cbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0TnVtYmVyRm9ybWF0Mi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgb3RoZXIsIHtcbiAgICAgICAgZ2V0SW5wdXRSZWY6IGlucHV0UmVmLFxuICAgICAgICBvblZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBvblZhbHVlQ2hhbmdlKHZhbHVlcykge1xuICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzLnZhbHVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRob3VzYW5kU2VwYXJhdG9yOiB0cnVlLFxuICAgICAgICBwcmVmaXg6ICckJyxcbiAgICAgICAgYWxsb3dOZWdhdGl2ZTogZmFsc2UsXG4gICAgICAgIGRlY2ltYWxTY2FsZTogOFxuICAgIH0pKTtcbn1cblxuTnVtYmVyRm9ybWF0Q3VzdG9tLnByb3BUeXBlcyA9IHtcbiAgICBpbnB1dFJlZjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkXG59O1xuXG5QMlAucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbnZhciBjb21iaW5lZFN0eWxlID0gKDAsIF9jb21iaW5lU3R5bGVzMi5kZWZhdWx0KShzdHlsZXMsIF9iYXNlU3R5bGUyLmRlZmF1bHQpO1xuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoUDJQKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImJcIl0gPSBfX2V4dGVuZHM7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fYXNzaWduOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJjXCJdID0gX19yZXN0O1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fZGVjb3JhdGUgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX3BhcmFtICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19tZXRhZGF0YSAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fYXdhaXRlciAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fZ2VuZXJhdG9yICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19leHBvcnRTdGFyICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX192YWx1ZXMgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX3JlYWQgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX3NwcmVhZCAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fYXdhaXQgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX2FzeW5jR2VuZXJhdG9yICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19hc3luY0RlbGVnYXRvciAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fYXN5bmNWYWx1ZXMgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX21ha2VUZW1wbGF0ZU9iamVjdCAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9faW1wb3J0U3RhciAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9faW1wb3J0RGVmYXVsdCAqL1xuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuIWZ1bmN0aW9uKGUsdCl7IHRydWU/bW9kdWxlLmV4cG9ydHM9dChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcInJlYWN0XCJdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMucmVhY3RUZXh0TWFzaz10KHJlcXVpcmUoXCJyZWFjdFwiKSk6ZS5yZWFjdFRleHRNYXNrPXQoZS5SZWFjdCl9KHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobil7aWYocltuXSlyZXR1cm4gcltuXS5leHBvcnRzO3ZhciBvPXJbbl09e2V4cG9ydHM6e30saWQ6bixsb2FkZWQ6ITF9O3JldHVybiBlW25dLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHQpLG8ubG9hZGVkPSEwLG8uZXhwb3J0c312YXIgcj17fTtyZXR1cm4gdC5tPWUsdC5jPXIsdC5wPVwiXCIsdCgwKX0oW2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9e307Zm9yKHZhciBuIGluIGUpdC5pbmRleE9mKG4pPj0wfHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHJbbl09ZVtuXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHUoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbmZvcm1Ub01hc2s9dm9pZCAwO3ZhciBsPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxmPXIoMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjb25mb3JtVG9NYXNrXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oZikuZGVmYXVsdH19KTt2YXIgYz1yKDExKSxwPW4oYyksZD1yKDkpLGg9bihkKSx2PXIoNSkseT1uKHYpLG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlO2kodGhpcyx0KTtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KHIpLG89MDtvPHI7bysrKW5bb109YXJndW1lbnRzW29dO3ZhciB1PWEodGhpcywoZT10Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChuKSkpO3JldHVybiB1Lm9uQmx1cj11Lm9uQmx1ci5iaW5kKHUpLHUub25DaGFuZ2U9dS5vbkNoYW5nZS5iaW5kKHUpLHV9cmV0dXJuIHUodCxlKSxzKHQsW3trZXk6XCJpbml0VGV4dE1hc2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD10aGlzLnByb3BzLnZhbHVlO3RoaXMudGV4dE1hc2tJbnB1dEVsZW1lbnQ9KDAseS5kZWZhdWx0KShsKHtpbnB1dEVsZW1lbnQ6dGhpcy5pbnB1dEVsZW1lbnR9LGUpKSx0aGlzLnRleHRNYXNrSW5wdXRFbGVtZW50LnVwZGF0ZSh0KX19LHtrZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbml0VGV4dE1hc2soKX19LHtrZXk6XCJjb21wb25lbnREaWRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5pdFRleHRNYXNrKCl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXMscj10aGlzLnByb3BzLGU9ci5yZW5kZXIsbj1vKHIsW1wicmVuZGVyXCJdKTtkZWxldGUgbi5tYXNrLGRlbGV0ZSBuLmd1aWRlLGRlbGV0ZSBuLnBpcGUsZGVsZXRlIG4ucGxhY2Vob2xkZXJDaGFyLGRlbGV0ZSBuLmtlZXBDaGFyUG9zaXRpb25zLGRlbGV0ZSBuLnZhbHVlLGRlbGV0ZSBuLm9uQmx1cixkZWxldGUgbi5vbkNoYW5nZSxkZWxldGUgbi5zaG93TWFzazt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gdC5pbnB1dEVsZW1lbnQ9ZX07cmV0dXJuIGUoaSxsKHtvbkJsdXI6dGhpcy5vbkJsdXIsb25DaGFuZ2U6dGhpcy5vbkNoYW5nZSxkZWZhdWx0VmFsdWU6dGhpcy5wcm9wcy52YWx1ZX0sbikpfX0se2tleTpcIm9uQ2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy50ZXh0TWFza0lucHV0RWxlbWVudC51cGRhdGUoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnByb3BzLm9uQ2hhbmdlJiZ0aGlzLnByb3BzLm9uQ2hhbmdlKGUpfX0se2tleTpcIm9uQmx1clwiLHZhbHVlOmZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMucHJvcHMub25CbHVyJiZ0aGlzLnByb3BzLm9uQmx1cihlKX19XSksdH0ocC5kZWZhdWx0LkNvbXBvbmVudCk7dC5kZWZhdWx0PW0sbS5wcm9wVHlwZXM9e21hc2s6aC5kZWZhdWx0Lm9uZU9mVHlwZShbaC5kZWZhdWx0LmFycmF5LGguZGVmYXVsdC5mdW5jLGguZGVmYXVsdC5ib29sLGguZGVmYXVsdC5zaGFwZSh7bWFzazpoLmRlZmF1bHQub25lT2ZUeXBlKFtoLmRlZmF1bHQuYXJyYXksaC5kZWZhdWx0LmZ1bmNdKSxwaXBlOmguZGVmYXVsdC5mdW5jfSldKS5pc1JlcXVpcmVkLGd1aWRlOmguZGVmYXVsdC5ib29sLHZhbHVlOmguZGVmYXVsdC5vbmVPZlR5cGUoW2guZGVmYXVsdC5zdHJpbmcsaC5kZWZhdWx0Lm51bWJlcl0pLHBpcGU6aC5kZWZhdWx0LmZ1bmMscGxhY2Vob2xkZXJDaGFyOmguZGVmYXVsdC5zdHJpbmcsa2VlcENoYXJQb3NpdGlvbnM6aC5kZWZhdWx0LmJvb2wsc2hvd01hc2s6aC5kZWZhdWx0LmJvb2x9LG0uZGVmYXVsdFByb3BzPXtyZW5kZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLGwoe3JlZjplfSx0KSl9fX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnBsYWNlaG9sZGVyQ2hhcj1cIl9cIix0LnN0ckZ1bmN0aW9uPVwiZnVuY3Rpb25cIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bCx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp1LHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2lmKCEoMCxpLmlzQXJyYXkpKHQpKXtpZigoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjpvKHQpKSE9PWEuc3RyRnVuY3Rpb24pdGhyb3cgbmV3IEVycm9yKFwiVGV4dC1tYXNrOmNvbmZvcm1Ub01hc2s7IFRoZSBtYXNrIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkuXCIpO3Q9dChlLHIpLHQ9KDAsaS5wcm9jZXNzQ2FyZXRUcmFwcykodCkubWFza1dpdGhvdXRDYXJldFRyYXBzfXZhciBuPXIuZ3VpZGUscz12b2lkIDA9PT1ufHxuLGY9ci5wcmV2aW91c0NvbmZvcm1lZFZhbHVlLGM9dm9pZCAwPT09Zj9sOmYscD1yLnBsYWNlaG9sZGVyQ2hhcixkPXZvaWQgMD09PXA/YS5wbGFjZWhvbGRlckNoYXI6cCxoPXIucGxhY2Vob2xkZXIsdj12b2lkIDA9PT1oPygwLGkuY29udmVydE1hc2tUb1BsYWNlaG9sZGVyKSh0LGQpOmgseT1yLmN1cnJlbnRDYXJldFBvc2l0aW9uLG09ci5rZWVwQ2hhclBvc2l0aW9ucyxiPXM9PT0hMSYmdm9pZCAwIT09YyxnPWUubGVuZ3RoLGs9Yy5sZW5ndGgsQz12Lmxlbmd0aCxPPXQubGVuZ3RoLFQ9Zy1rLFA9VD4wLHg9eSsoUD8tVDowKSx3PXgrTWF0aC5hYnMoVCk7aWYobT09PSEwJiYhUCl7Zm9yKHZhciBfPWwsTT14O008dztNKyspdltNXT09PWQmJihfKz1kKTtlPWUuc2xpY2UoMCx4KStfK2Uuc2xpY2UoeCxnKX1mb3IodmFyIFM9ZS5zcGxpdChsKS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm57Y2hhcjplLGlzTmV3OnQ+PXgmJnQ8d319KSxqPWctMTtqPj0wO2otLSl7dmFyIEU9U1tqXS5jaGFyO2lmKEUhPT1kKXt2YXIgUj1qPj14JiZrPT09TztFPT09dltSP2otVDpqXSYmUy5zcGxpY2UoaiwxKX19dmFyIFY9bCxBPSExO2U6Zm9yKHZhciBOPTA7TjxDO04rKyl7dmFyIEI9dltOXTtpZihCPT09ZCl7aWYoUy5sZW5ndGg+MClmb3IoO1MubGVuZ3RoPjA7KXt2YXIgST1TLnNoaWZ0KCksRj1JLmNoYXIscT1JLmlzTmV3O2lmKEY9PT1kJiZiIT09ITApe1YrPWQ7Y29udGludWUgZX1pZih0W05dLnRlc3QoRikpe2lmKG09PT0hMCYmcSE9PSExJiZjIT09bCYmcyE9PSExJiZQKXtmb3IodmFyIEQ9Uy5sZW5ndGgsTD1udWxsLFc9MDtXPEQ7VysrKXt2YXIgSj1TW1ddO2lmKEouY2hhciE9PWQmJkouaXNOZXc9PT0hMSlicmVhaztpZihKLmNoYXI9PT1kKXtMPVc7YnJlYWt9fW51bGwhPT1MPyhWKz1GLFMuc3BsaWNlKEwsMSkpOk4tLX1lbHNlIFYrPUY7Y29udGludWUgZX1BPSEwfWI9PT0hMSYmKFYrPXYuc3Vic3RyKE4sQykpO2JyZWFrfVYrPUJ9aWYoYiYmUD09PSExKXtmb3IodmFyIFU9bnVsbCxIPTA7SDxWLmxlbmd0aDtIKyspdltIXT09PWQmJihVPUgpO1Y9bnVsbCE9PVU/Vi5zdWJzdHIoMCxVKzEpOmx9cmV0dXJue2NvbmZvcm1lZFZhbHVlOlYsbWV0YTp7c29tZUNoYXJzUmVqZWN0ZWQ6QX19fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1uO3ZhciBpPXIoMyksYT1yKDEpLHU9W10sbD1cIlwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpzLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmwucGxhY2Vob2xkZXJDaGFyO2lmKCFvKGUpKXRocm93IG5ldyBFcnJvcihcIlRleHQtbWFzazpjb252ZXJ0TWFza1RvUGxhY2Vob2xkZXI7IFRoZSBtYXNrIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkuXCIpO2lmKGUuaW5kZXhPZih0KSE9PS0xKXRocm93IG5ldyBFcnJvcihcIlBsYWNlaG9sZGVyIGNoYXJhY3RlciBtdXN0IG5vdCBiZSB1c2VkIGFzIHBhcnQgb2YgdGhlIG1hc2suIFBsZWFzZSBzcGVjaWZ5IGEgY2hhcmFjdGVyIHRoYXQgaXMgbm90IHByZXNlbnQgaW4geW91ciBtYXNrIGFzIHlvdXIgcGxhY2Vob2xkZXIgY2hhcmFjdGVyLlxcblxcblwiKyhcIlRoZSBwbGFjZWhvbGRlciBjaGFyYWN0ZXIgdGhhdCB3YXMgcmVjZWl2ZWQgaXM6IFwiK0pTT04uc3RyaW5naWZ5KHQpK1wiXFxuXFxuXCIpKyhcIlRoZSBtYXNrIHRoYXQgd2FzIHJlY2VpdmVkIGlzOiBcIitKU09OLnN0cmluZ2lmeShlKSkpO3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFJlZ0V4cD90OmV9KS5qb2luKFwiXCIpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkmJkFycmF5LmlzQXJyYXkoZSl8fGUgaW5zdGFuY2VvZiBBcnJheX1mdW5jdGlvbiBpKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgU3RyaW5nfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJnZvaWQgMD09PWUubGVuZ3RoJiYhaXNOYU4oZSl9ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9W10scj12b2lkIDA7cj1lLmluZGV4T2YoZiksciE9PS0xOyl0LnB1c2gociksZS5zcGxpY2UociwxKTtyZXR1cm57bWFza1dpdGhvdXRDYXJldFRyYXBzOmUsaW5kZXhlczp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcj1uLHQuaXNBcnJheT1vLHQuaXNTdHJpbmc9aSx0LmlzTnVtYmVyPWEsdC5wcm9jZXNzQ2FyZXRUcmFwcz11O3ZhciBsPXIoMSkscz1bXSxmPVwiW11cIn0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3ZhciB0PWUucHJldmlvdXNDb25mb3JtZWRWYWx1ZSxyPXZvaWQgMD09PXQ/bzp0LGk9ZS5wcmV2aW91c1BsYWNlaG9sZGVyLGE9dm9pZCAwPT09aT9vOmksdT1lLmN1cnJlbnRDYXJldFBvc2l0aW9uLGw9dm9pZCAwPT09dT8wOnUscz1lLmNvbmZvcm1lZFZhbHVlLGY9ZS5yYXdWYWx1ZSxjPWUucGxhY2Vob2xkZXJDaGFyLHA9ZS5wbGFjZWhvbGRlcixkPWUuaW5kZXhlc09mUGlwZWRDaGFycyxoPXZvaWQgMD09PWQ/bjpkLHY9ZS5jYXJldFRyYXBJbmRleGVzLHk9dm9pZCAwPT09dj9uOnY7aWYoMD09PWx8fCFmLmxlbmd0aClyZXR1cm4gMDt2YXIgbT1mLmxlbmd0aCxiPXIubGVuZ3RoLGc9cC5sZW5ndGgsaz1zLmxlbmd0aCxDPW0tYixPPUM+MCxUPTA9PT1iLFA9Qz4xJiYhTyYmIVQ7aWYoUClyZXR1cm4gbDt2YXIgeD1PJiYocj09PXN8fHM9PT1wKSx3PTAsXz12b2lkIDAsTT12b2lkIDA7aWYoeCl3PWwtQztlbHNle3ZhciBTPXMudG9Mb3dlckNhc2UoKSxqPWYudG9Mb3dlckNhc2UoKSxFPWouc3Vic3RyKDAsbCkuc3BsaXQobyksUj1FLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gUy5pbmRleE9mKGUpIT09LTF9KTtNPVJbUi5sZW5ndGgtMV07dmFyIFY9YS5zdWJzdHIoMCxSLmxlbmd0aCkuc3BsaXQobykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09Y30pLmxlbmd0aCxBPXAuc3Vic3RyKDAsUi5sZW5ndGgpLnNwbGl0KG8pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWN9KS5sZW5ndGgsTj1BIT09VixCPXZvaWQgMCE9PWFbUi5sZW5ndGgtMV0mJnZvaWQgMCE9PXBbUi5sZW5ndGgtMl0mJmFbUi5sZW5ndGgtMV0hPT1jJiZhW1IubGVuZ3RoLTFdIT09cFtSLmxlbmd0aC0xXSYmYVtSLmxlbmd0aC0xXT09PXBbUi5sZW5ndGgtMl07IU8mJihOfHxCKSYmVj4wJiZwLmluZGV4T2YoTSk+LTEmJnZvaWQgMCE9PWZbbF0mJihfPSEwLE09ZltsXSk7Zm9yKHZhciBJPWgubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBTW2VdfSksRj1JLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PU19KS5sZW5ndGgscT1SLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PU19KS5sZW5ndGgsRD1wLnN1YnN0cigwLHAuaW5kZXhPZihjKSkuc3BsaXQobykuZmlsdGVyKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT1NJiZmW3RdIT09ZX0pLmxlbmd0aCxMPUQrcStGKyhfPzE6MCksVz0wLEo9MDtKPGs7SisrKXt2YXIgVT1TW0pdO2lmKHc9SisxLFU9PT1NJiZXKyssVz49TClicmVha319aWYoTyl7Zm9yKHZhciBIPXcsWT13O1k8PWc7WSsrKWlmKHBbWV09PT1jJiYoSD1ZKSxwW1ldPT09Y3x8eS5pbmRleE9mKFkpIT09LTF8fFk9PT1nKXJldHVybiBIfWVsc2UgaWYoXyl7Zm9yKHZhciB6PXctMTt6Pj0wO3otLSlpZihzW3pdPT09TXx8eS5pbmRleE9mKHopIT09LTF8fDA9PT16KXJldHVybiB6fWVsc2UgZm9yKHZhciBHPXc7Rz49MDtHLS0paWYocFtHLTFdPT09Y3x8eS5pbmRleE9mKEcpIT09LTF8fDA9PT1HKXJldHVybiBHfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1yO3ZhciBuPVtdLG89XCJcIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIG8oZSl7dmFyIHQ9e3ByZXZpb3VzQ29uZm9ybWVkVmFsdWU6dm9pZCAwLHByZXZpb3VzUGxhY2Vob2xkZXI6dm9pZCAwfTtyZXR1cm57c3RhdGU6dCx1cGRhdGU6ZnVuY3Rpb24ocil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmUsbz1uLmlucHV0RWxlbWVudCxzPW4ubWFzayxjPW4uZ3VpZGUseT1uLnBpcGUsYj1uLnBsYWNlaG9sZGVyQ2hhcixnPXZvaWQgMD09PWI/aC5wbGFjZWhvbGRlckNoYXI6YixrPW4ua2VlcENoYXJQb3NpdGlvbnMsQz12b2lkIDAhPT1rJiZrLE89bi5zaG93TWFzayxUPXZvaWQgMCE9PU8mJk87aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHImJihyPW8udmFsdWUpLHIhPT10LnByZXZpb3VzQ29uZm9ybWVkVmFsdWUpeyhcInVuZGVmaW5lZFwiPT10eXBlb2Ygcz9cInVuZGVmaW5lZFwiOmwocykpPT09bSYmdm9pZCAwIT09cy5waXBlJiZ2b2lkIDAhPT1zLm1hc2smJih5PXMucGlwZSxzPXMubWFzayk7dmFyIFA9dm9pZCAwLHg9dm9pZCAwO2lmKHMgaW5zdGFuY2VvZiBBcnJheSYmKFA9KDAsZC5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXIpKHMsZykpLHMhPT0hMSl7dmFyIHc9YShyKSxfPW8uc2VsZWN0aW9uRW5kLE09dC5wcmV2aW91c0NvbmZvcm1lZFZhbHVlLFM9dC5wcmV2aW91c1BsYWNlaG9sZGVyLGo9dm9pZCAwO2lmKChcInVuZGVmaW5lZFwiPT10eXBlb2Ygcz9cInVuZGVmaW5lZFwiOmwocykpPT09aC5zdHJGdW5jdGlvbil7aWYoeD1zKHcse2N1cnJlbnRDYXJldFBvc2l0aW9uOl8scHJldmlvdXNDb25mb3JtZWRWYWx1ZTpNLHBsYWNlaG9sZGVyQ2hhcjpnfSkseD09PSExKXJldHVybjt2YXIgRT0oMCxkLnByb2Nlc3NDYXJldFRyYXBzKSh4KSxSPUUubWFza1dpdGhvdXRDYXJldFRyYXBzLFY9RS5pbmRleGVzO3g9UixqPVYsUD0oMCxkLmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcikoeCxnKX1lbHNlIHg9czt2YXIgQT17cHJldmlvdXNDb25mb3JtZWRWYWx1ZTpNLGd1aWRlOmMscGxhY2Vob2xkZXJDaGFyOmcscGlwZTp5LHBsYWNlaG9sZGVyOlAsY3VycmVudENhcmV0UG9zaXRpb246XyxrZWVwQ2hhclBvc2l0aW9uczpDfSxOPSgwLHAuZGVmYXVsdCkodyx4LEEpLEI9Ti5jb25mb3JtZWRWYWx1ZSxJPShcInVuZGVmaW5lZFwiPT10eXBlb2YgeT9cInVuZGVmaW5lZFwiOmwoeSkpPT09aC5zdHJGdW5jdGlvbixGPXt9O0kmJihGPXkoQix1KHtyYXdWYWx1ZTp3fSxBKSksRj09PSExP0Y9e3ZhbHVlOk0scmVqZWN0ZWQ6ITB9OigwLGQuaXNTdHJpbmcpKEYpJiYoRj17dmFsdWU6Rn0pKTt2YXIgcT1JP0YudmFsdWU6QixEPSgwLGYuZGVmYXVsdCkoe3ByZXZpb3VzQ29uZm9ybWVkVmFsdWU6TSxwcmV2aW91c1BsYWNlaG9sZGVyOlMsY29uZm9ybWVkVmFsdWU6cSxwbGFjZWhvbGRlcjpQLHJhd1ZhbHVlOncsY3VycmVudENhcmV0UG9zaXRpb246XyxwbGFjZWhvbGRlckNoYXI6ZyxpbmRleGVzT2ZQaXBlZENoYXJzOkYuaW5kZXhlc09mUGlwZWRDaGFycyxjYXJldFRyYXBJbmRleGVzOmp9KSxMPXE9PT1QJiYwPT09RCxXPVQ/UDp2LEo9TD9XOnE7dC5wcmV2aW91c0NvbmZvcm1lZFZhbHVlPUosdC5wcmV2aW91c1BsYWNlaG9sZGVyPVAsby52YWx1ZSE9PUomJihvLnZhbHVlPUosaShvLEQpKX19fX19ZnVuY3Rpb24gaShlLHQpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1lJiYoYj9nKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2V0U2VsZWN0aW9uUmFuZ2UodCx0LHkpfSwwKTplLnNldFNlbGVjdGlvblJhbmdlKHQsdCx5KSl9ZnVuY3Rpb24gYShlKXtpZigoMCxkLmlzU3RyaW5nKShlKSlyZXR1cm4gZTtpZigoMCxkLmlzTnVtYmVyKShlKSlyZXR1cm4gU3RyaW5nKGUpO2lmKHZvaWQgMD09PWV8fG51bGw9PT1lKXJldHVybiB2O3Rocm93IG5ldyBFcnJvcihcIlRoZSAndmFsdWUnIHByb3ZpZGVkIHRvIFRleHQgTWFzayBuZWVkcyB0byBiZSBhIHN0cmluZyBvciBhIG51bWJlci4gVGhlIHZhbHVlIHJlY2VpdmVkIHdhczpcXG5cXG4gXCIrSlNPTi5zdHJpbmdpZnkoZSkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGw9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07dC5kZWZhdWx0PW87dmFyIHM9cig0KSxmPW4ocyksYz1yKDIpLHA9bihjKSxkPXIoMyksaD1yKDEpLHY9XCJcIix5PVwibm9uZVwiLG09XCJvYmplY3RcIixiPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxnPVwidW5kZWZpbmVkXCIhPXR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU/cmVxdWVzdEFuaW1hdGlvbkZyYW1lOnNldFRpbWVvdXR9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19dmFyIG49ZnVuY3Rpb24oKXt9O24udGhhdFJldHVybnM9cixuLnRoYXRSZXR1cm5zRmFsc2U9cighMSksbi50aGF0UmV0dXJuc1RydWU9cighMCksbi50aGF0UmV0dXJuc051bGw9cihudWxsKSxuLnRoYXRSZXR1cm5zVGhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxuLnRoYXRSZXR1cm5zQXJndW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQscixuLGksYSx1LGwpe2lmKG8odCksIWUpe3ZhciBzO2lmKHZvaWQgMD09PXQpcz1uZXcgRXJyb3IoXCJNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLlwiKTtlbHNle3ZhciBmPVtyLG4saSxhLHUsbF0sYz0wO3M9bmV3IEVycm9yKHQucmVwbGFjZSgvJXMvZyxmdW5jdGlvbigpe3JldHVybiBmW2MrK119KSkscy5uYW1lPVwiSW52YXJpYW50IFZpb2xhdGlvblwifXRocm93IHMuZnJhbWVzVG9Qb3A9MSxzfX12YXIgbz1mdW5jdGlvbihlKXt9O2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig2KSxvPXIoNyksaT1yKDEwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLG4sYSx1KXt1IT09aSYmbyghMSxcIkNhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuIFVzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uIFJlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXNcIil9ZnVuY3Rpb24gdCgpe3JldHVybiBlfWUuaXNSZXF1aXJlZD1lO3ZhciByPXthcnJheTplLGJvb2w6ZSxmdW5jOmUsbnVtYmVyOmUsb2JqZWN0OmUsc3RyaW5nOmUsc3ltYm9sOmUsYW55OmUsYXJyYXlPZjp0LGVsZW1lbnQ6ZSxpbnN0YW5jZU9mOnQsbm9kZTplLG9iamVjdE9mOnQsb25lT2Y6dCxvbmVPZlR5cGU6dCxzaGFwZTp0LGV4YWN0OnR9O3JldHVybiByLmNoZWNrUHJvcFR5cGVzPW4sci5Qcm9wVHlwZXM9cixyfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGUuZXhwb3J0cz1yKDgpKCl9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9XCJTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRFwiO2UuZXhwb3J0cz1yfSxmdW5jdGlvbih0LHIpe3QuZXhwb3J0cz1lfV0pfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDkyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX0NTU1RyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjA5MykpO1xuXG52YXIgX1JlcGxhY2VUcmFuc2l0aW9uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOTcpKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzI3KSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1NSkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgVHJhbnNpdGlvbjogX1RyYW5zaXRpb24uZGVmYXVsdCxcbiAgVHJhbnNpdGlvbkdyb3VwOiBfVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHQsXG4gIFJlcGxhY2VUcmFuc2l0aW9uOiBfUmVwbGFjZVRyYW5zaXRpb24uZGVmYXVsdCxcbiAgQ1NTVHJhbnNpdGlvbjogX0NTU1RyYW5zaXRpb24uZGVmYXVsdFxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBQcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKTtcblxudmFyIF9hZGRDbGFzcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MDk0KSk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjA5NikpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKTtcblxudmFyIF9UcmFuc2l0aW9uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KSk7XG5cbnZhciBfUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbiBhZGRDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9hZGRDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9yZW1vdmVDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcHJvcFR5cGVzID0gIGZhbHNlID8gX2V4dGVuZHMoe30sIF9UcmFuc2l0aW9uLmRlZmF1bHQucHJvcFR5cGVzLCB7XG4gIC8qKlxuICAgKiBUaGUgYW5pbWF0aW9uIGNsYXNzTmFtZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50IGFzIGl0IGVudGVycywgZXhpdHMgb3IgaGFzIGZpbmlzaGVkIHRoZSB0cmFuc2l0aW9uLlxuICAgKiBBIHNpbmdsZSBuYW1lIGNhbiBiZSBwcm92aWRlZCBhbmQgaXQgd2lsbCBiZSBzdWZmaXhlZCBmb3IgZWFjaCBzdGFnZTogZS5nLlxuICAgKlxuICAgKiBgY2xhc3NOYW1lcz1cImZhZGVcImAgYXBwbGllcyBgZmFkZS1lbnRlcmAsIGBmYWRlLWVudGVyLWFjdGl2ZWAsIGBmYWRlLWVudGVyLWRvbmVgLFxuICAgKiBgZmFkZS1leGl0YCwgYGZhZGUtZXhpdC1hY3RpdmVgLCBgZmFkZS1leGl0LWRvbmVgLCBgZmFkZS1hcHBlYXJgLCBhbmQgYGZhZGUtYXBwZWFyLWFjdGl2ZWAuXG4gICAqIEVhY2ggaW5kaXZpZHVhbCBjbGFzc05hbWVzIGNhbiBhbHNvIGJlIHNwZWNpZmllZCBpbmRlcGVuZGVudGx5IGxpa2U6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3tcbiAgICogIGFwcGVhcjogJ215LWFwcGVhcicsXG4gICAqICBhcHBlYXJBY3RpdmU6ICdteS1hY3RpdmUtYXBwZWFyJyxcbiAgICogIGVudGVyOiAnbXktZW50ZXInLFxuICAgKiAgZW50ZXJBY3RpdmU6ICdteS1hY3RpdmUtZW50ZXInLFxuICAgKiAgZW50ZXJEb25lOiAnbXktZG9uZS1lbnRlcicsXG4gICAqICBleGl0OiAnbXktZXhpdCcsXG4gICAqICBleGl0QWN0aXZlOiAnbXktYWN0aXZlLWV4aXQnLFxuICAgKiAgZXhpdERvbmU6ICdteS1kb25lLWV4aXQnLFxuICAgKiB9fVxuICAgKiBgYGBcbiAgICpcbiAgICogSWYgeW91IHdhbnQgdG8gc2V0IHRoZXNlIGNsYXNzZXMgdXNpbmcgQ1NTIE1vZHVsZXM6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuY3NzJztcbiAgICogYGBgXG4gICAqXG4gICAqIHlvdSBtaWdodCB3YW50IHRvIHVzZSBjYW1lbENhc2UgaW4geW91ciBDU1MgZmlsZSwgdGhhdCB3YXkgY291bGQgc2ltcGx5IHNwcmVhZFxuICAgKiB0aGVtIGluc3RlYWQgb2YgbGlzdGluZyB0aGVtIG9uZSBieSBvbmU6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3sgLi4uc3R5bGVzIH19XG4gICAqIGBgYFxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nIHwge1xuICAgKiAgYXBwZWFyPzogc3RyaW5nLFxuICAgKiAgYXBwZWFyQWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZW50ZXI/OiBzdHJpbmcsXG4gICAqICBlbnRlckFjdGl2ZT86IHN0cmluZyxcbiAgICogIGVudGVyRG9uZT86IHN0cmluZyxcbiAgICogIGV4aXQ/OiBzdHJpbmcsXG4gICAqICBleGl0QWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZXhpdERvbmU/OiBzdHJpbmcsXG4gICAqIH19XG4gICAqL1xuICBjbGFzc05hbWVzOiBfUHJvcFR5cGVzLmNsYXNzTmFtZXNTaGFwZSxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyJyBvciAnYXBwZWFyJyBjbGFzcyBpc1xuICAgKiBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyLWFjdGl2ZScgb3JcbiAgICogJ2FwcGVhci1hY3RpdmUnIGNsYXNzIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbClcbiAgICovXG4gIG9uRW50ZXJpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXInIG9yXG4gICAqICdhcHBlYXInIGNsYXNzZXMgYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGRvbmVgIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBET00gbm9kZS5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzIGlzXG4gICAqIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KVxuICAgKi9cbiAgb25FeGl0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQtYWN0aXZlJyBpcyBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudFxuICAgKi9cbiAgb25FeGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzZXNcbiAgICogYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGV4aXQtZG9uZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIERPTSBub2RlLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudClcbiAgICovXG4gIG9uRXhpdGVkOiBQcm9wVHlwZXMuZnVuY1xufSkgOiB7fTs7XG4vKipcbiAqIEEgYFRyYW5zaXRpb25gIGNvbXBvbmVudCB1c2luZyBDU1MgdHJhbnNpdGlvbnMgYW5kIGFuaW1hdGlvbnMuXG4gKiBJdCdzIGluc3BpcmVkIGJ5IHRoZSBleGNlbGxlbnQgW25nLWFuaW1hdGVdKGh0dHA6Ly93d3cubmdhbmltYXRlLm9yZy8pIGxpYnJhcnkuXG4gKlxuICogYENTU1RyYW5zaXRpb25gIGFwcGxpZXMgYSBwYWlyIG9mIGNsYXNzIG5hbWVzIGR1cmluZyB0aGUgYGFwcGVhcmAsIGBlbnRlcmAsXG4gKiBhbmQgYGV4aXRgIHN0YWdlcyBvZiB0aGUgdHJhbnNpdGlvbi4gVGhlIGZpcnN0IGNsYXNzIGlzIGFwcGxpZWQgYW5kIHRoZW4gYVxuICogc2Vjb25kIFwiYWN0aXZlXCIgY2xhc3MgaW4gb3JkZXIgdG8gYWN0aXZhdGUgdGhlIGNzcyBhbmltYXRpb24uIEFmdGVyIHRoZSBhbmltYXRpb24sXG4gKiBtYXRjaGluZyBgZG9uZWAgY2xhc3MgbmFtZXMgYXJlIGFwcGxpZWQgdG8gcGVyc2lzdCB0aGUgYW5pbWF0aW9uIHN0YXRlLlxuICpcbiAqIFdoZW4gdGhlIGBpbmAgcHJvcCBpcyB0b2dnbGVkIHRvIGB0cnVlYCB0aGUgQ29tcG9uZW50IHdpbGwgZ2V0XG4gKiB0aGUgYGV4YW1wbGUtZW50ZXJgIENTUyBjbGFzcyBhbmQgdGhlIGBleGFtcGxlLWVudGVyLWFjdGl2ZWAgQ1NTIGNsYXNzXG4gKiBhZGRlZCBpbiB0aGUgbmV4dCB0aWNrLiBUaGlzIGlzIGEgY29udmVudGlvbiBiYXNlZCBvbiB0aGUgYGNsYXNzTmFtZXNgIHByb3AuXG4gKi9cblxudmFyIENTU1RyYW5zaXRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ1NTVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLm9uRW50ZXIgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lcyA9IF90aGlzLmdldENsYXNzTmFtZXMoYXBwZWFyaW5nID8gJ2FwcGVhcicgOiAnZW50ZXInKSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzLmNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZXhpdCcpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkVudGVyaW5nID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMyID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcyhhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpLFxuICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXMyLmFjdGl2ZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJpbmcpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FbnRlcmluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FbnRlcmVkID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMzID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZW50ZXInKSxcbiAgICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczMuZG9uZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCBhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBkb25lQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJlZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczQgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczQuY2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdhcHBlYXInKTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZW50ZXInKTtcblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRXhpdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkV4aXQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdGluZyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczUgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczUuYWN0aXZlQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0aW5nKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRXhpdGluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FeGl0ZWQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXM2ID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZXhpdCcpLFxuICAgICAgICAgIGRvbmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNi5kb25lQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdleGl0Jyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGRvbmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0ZWQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FeGl0ZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmdldENsYXNzTmFtZXMgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgdmFyIGNsYXNzTmFtZXMgPSBfdGhpcy5wcm9wcy5jbGFzc05hbWVzO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZV0gOiBjbGFzc05hbWVzICsgJy0nICsgdHlwZTtcbiAgICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSB0eXBlb2YgY2xhc3NOYW1lcyAhPT0gJ3N0cmluZycgPyBjbGFzc05hbWVzW3R5cGUgKyAnQWN0aXZlJ10gOiBjbGFzc05hbWUgKyAnLWFjdGl2ZSc7XG4gICAgICB2YXIgZG9uZUNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZSArICdEb25lJ10gOiBjbGFzc05hbWUgKyAnLWRvbmUnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIGFjdGl2ZUNsYXNzTmFtZTogYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lOiBkb25lQ2xhc3NOYW1lXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ1NTVHJhbnNpdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbW92ZUNsYXNzZXMgPSBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKG5vZGUsIHR5cGUpIHtcbiAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczcgPSB0aGlzLmdldENsYXNzTmFtZXModHlwZSksXG4gICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM3LmNsYXNzTmFtZSxcbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuZG9uZUNsYXNzTmFtZTtcblxuICAgIGNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuICAgIGFjdGl2ZUNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuICAgIGRvbmVDbGFzc05hbWUgJiYgcmVtb3ZlQ2xhc3Mobm9kZSwgZG9uZUNsYXNzTmFtZSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlZmxvd0FuZEFkZENsYXNzID0gZnVuY3Rpb24gcmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBmb3IgdG8gZm9yY2UgYSByZXBhaW50LFxuICAgIC8vIHdoaWNoIGlzIG5lY2Vzc2FyeSBpbiBvcmRlciB0byB0cmFuc2l0aW9uIHN0eWxlcyB3aGVuIGFkZGluZyBhIGNsYXNzIG5hbWUuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICBub2RlICYmIG5vZGUuc2Nyb2xsVG9wO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG5cbiAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lcztcbiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIG9uRW50ZXI6IHRoaXMub25FbnRlcixcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5vbkVudGVyZWQsXG4gICAgICBvbkVudGVyaW5nOiB0aGlzLm9uRW50ZXJpbmcsXG4gICAgICBvbkV4aXQ6IHRoaXMub25FeGl0LFxuICAgICAgb25FeGl0aW5nOiB0aGlzLm9uRXhpdGluZyxcbiAgICAgIG9uRXhpdGVkOiB0aGlzLm9uRXhpdGVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBDU1NUcmFuc2l0aW9uO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5DU1NUcmFuc2l0aW9uLnByb3BUeXBlcyA9ICBmYWxzZSA/IHByb3BUeXBlcyA6IHt9O1xudmFyIF9kZWZhdWx0ID0gQ1NTVHJhbnNpdGlvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGFkZENsYXNzO1xuXG52YXIgX2hhc0NsYXNzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOTUpKTtcblxuZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7ZWxzZSBpZiAoISgwLCBfaGFzQ2xhc3MuZGVmYXVsdCkoZWxlbWVudCwgY2xhc3NOYW1lKSkgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUgKyAnICcgKyBjbGFzc05hbWU7ZWxzZSBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoZWxlbWVudC5jbGFzc05hbWUgJiYgZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbCB8fCAnJykgKyAnICcgKyBjbGFzc05hbWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGhhc0NsYXNzO1xuXG5mdW5jdGlvbiBoYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSByZXR1cm4gISFjbGFzc05hbWUgJiYgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtlbHNlIHJldHVybiAoXCIgXCIgKyAoZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbCB8fCBlbGVtZW50LmNsYXNzTmFtZSkgKyBcIiBcIikuaW5kZXhPZihcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiKSAhPT0gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDk2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5mdW5jdGlvbiByZXBsYWNlQ2xhc3NOYW1lKG9yaWdDbGFzcywgY2xhc3NUb1JlbW92ZSkge1xuICByZXR1cm4gb3JpZ0NsYXNzLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGNsYXNzVG9SZW1vdmUgKyAnKD86XFxcXHN8JCknLCAnZycpLCAnJDEnKS5yZXBsYWNlKC9cXHMrL2csICcgJykucmVwbGFjZSgvXlxccyp8XFxzKiQvZywgJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO2Vsc2UgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIGVsZW1lbnQuY2xhc3NOYW1lID0gcmVwbGFjZUNsYXNzTmFtZShlbGVtZW50LmNsYXNzTmFtZSwgY2xhc3NOYW1lKTtlbHNlIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHJlcGxhY2VDbGFzc05hbWUoZWxlbWVudC5jbGFzc05hbWUgJiYgZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbCB8fCAnJywgY2xhc3NOYW1lKSk7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKTtcblxudmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMjcpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgaW46IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihwcm9wcywgcHJvcE5hbWUpIHtcbiAgICBpZiAoX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4uY291bnQocHJvcHNbcHJvcE5hbWVdKSAhPT0gMikgcmV0dXJuIG5ldyBFcnJvcihcIlxcXCJcIiArIHByb3BOYW1lICsgXCJcXFwiIG11c3QgYmUgZXhhY3RseSB0d28gdHJhbnNpdGlvbiBjb21wb25lbnRzLlwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSA6IHt9Oztcbi8qKlxuICogVGhlIGA8UmVwbGFjZVRyYW5zaXRpb24+YCBjb21wb25lbnQgaXMgYSBzcGVjaWFsaXplZCBgVHJhbnNpdGlvbmAgY29tcG9uZW50XG4gKiB0aGF0IGFuaW1hdGVzIGJldHdlZW4gdHdvIGNoaWxkcmVuLlxuICpcbiAqIGBgYGpzeFxuICogPFJlcGxhY2VUcmFuc2l0aW9uIGluPlxuICogICA8RmFkZT48ZGl2PkkgYXBwZWFyIGZpcnN0PC9kaXY+PC9GYWRlPlxuICogICA8RmFkZT48ZGl2PkkgcmVwbGFjZSB0aGUgYWJvdmU8L2Rpdj48L0ZhZGU+XG4gKiA8L1JlcGxhY2VUcmFuc2l0aW9uPlxuICogYGBgXG4gKi9cblxudmFyIFJlcGxhY2VUcmFuc2l0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJlcGxhY2VUcmFuc2l0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSZXBsYWNlVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KF9hcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FbnRlcicsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFbnRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXJpbmcnLCAwLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXJlZCcsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFeGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTVdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0JywgMSwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUV4aXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjYpLCBfa2V5NiA9IDA7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHtcbiAgICAgICAgYXJnc1tfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkV4aXRpbmcnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRXhpdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW43KSwgX2tleTcgPSAwOyBfa2V5NyA8IF9sZW43OyBfa2V5NysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTddID0gYXJndW1lbnRzW19rZXk3XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0ZWQnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJlcGxhY2VUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uaGFuZGxlTGlmZWN5Y2xlID0gZnVuY3Rpb24gaGFuZGxlTGlmZWN5Y2xlKGhhbmRsZXIsIGlkeCwgb3JpZ2luYWxBcmdzKSB7XG4gICAgdmFyIF9jaGlsZCRwcm9wcztcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICB2YXIgY2hpbGQgPSBfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKVtpZHhdO1xuXG4gICAgaWYgKGNoaWxkLnByb3BzW2hhbmRsZXJdKSAoX2NoaWxkJHByb3BzID0gY2hpbGQucHJvcHMpW2hhbmRsZXJdLmFwcGx5KF9jaGlsZCRwcm9wcywgb3JpZ2luYWxBcmdzKTtcbiAgICBpZiAodGhpcy5wcm9wc1toYW5kbGVyXSkgdGhpcy5wcm9wc1toYW5kbGVyXSgoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzKSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBpblByb3AgPSBfdGhpcyRwcm9wcy5pbixcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wiY2hpbGRyZW5cIiwgXCJpblwiXSk7XG5cbiAgICB2YXIgX1JlYWN0JENoaWxkcmVuJHRvQXJyID0gX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbiksXG4gICAgICAgIGZpcnN0ID0gX1JlYWN0JENoaWxkcmVuJHRvQXJyWzBdLFxuICAgICAgICBzZWNvbmQgPSBfUmVhY3QkQ2hpbGRyZW4kdG9BcnJbMV07XG5cbiAgICBkZWxldGUgcHJvcHMub25FbnRlcjtcbiAgICBkZWxldGUgcHJvcHMub25FbnRlcmluZztcbiAgICBkZWxldGUgcHJvcHMub25FbnRlcmVkO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkV4aXQ7XG4gICAgZGVsZXRlIHByb3BzLm9uRXhpdGluZztcbiAgICBkZWxldGUgcHJvcHMub25FeGl0ZWQ7XG4gICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RyYW5zaXRpb25Hcm91cC5kZWZhdWx0LCBwcm9wcywgaW5Qcm9wID8gX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KGZpcnN0LCB7XG4gICAgICBrZXk6ICdmaXJzdCcsXG4gICAgICBvbkVudGVyOiB0aGlzLmhhbmRsZUVudGVyLFxuICAgICAgb25FbnRlcmluZzogdGhpcy5oYW5kbGVFbnRlcmluZyxcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5oYW5kbGVFbnRlcmVkXG4gICAgfSkgOiBfcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoc2Vjb25kLCB7XG4gICAgICBrZXk6ICdzZWNvbmQnLFxuICAgICAgb25FbnRlcjogdGhpcy5oYW5kbGVFeGl0LFxuICAgICAgb25FbnRlcmluZzogdGhpcy5oYW5kbGVFeGl0aW5nLFxuICAgICAgb25FbnRlcmVkOiB0aGlzLmhhbmRsZUV4aXRlZFxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gUmVwbGFjZVRyYW5zaXRpb247XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cblJlcGxhY2VUcmFuc2l0aW9uLnByb3BUeXBlcyA9ICBmYWxzZSA/IHByb3BUeXBlcyA6IHt9O1xudmFyIF9kZWZhdWx0ID0gUmVwbGFjZVRyYW5zaXRpb247XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDk4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblxudmFyIF9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnV0dG9uKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0Vycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjUpO1xuXG52YXIgX0Vycm9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Vycm9yKTtcblxudmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblxudmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxudmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX1RleHRGaWVsZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY2KTtcblxudmFyIF9UZXh0RmllbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dEZpZWxkKTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaXJjdWxhclByb2dyZXNzKTtcblxudmFyIF9DdXN0b21EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNCk7XG5cbnZhciBfQ3VzdG9tRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0N1c3RvbURpYWxvZyk7XG5cbnZhciBfZGF0ZUZucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI2KTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cbnZhciBfY29tYmluZVN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYmluZVN0eWxlcyk7XG5cbnZhciBfYmFzZVN0eWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cbnZhciBfYmFzZVN0eWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jhc2VTdHlsZSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGF1dGhvciA6IFNocnV0aSBTaW5oYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBzdW1tYXJ5OiB7XG4gICAgICAgIHN1bW1hcnk6IFwiXCJcbiAgICB9LFxuICAgIHJlYXNvbkNvZGVMaXN0OiBbXSxcbiAgICBjb3JyZWN0SW52b2ljZXM6IFwiXCIsXG4gICAgaW5jb3JyZWN0RmxhZzogXCJcIixcbiAgICB0b2dnbGVFeHBhbmQ6IGZhbHNlLFxuICAgIGRlbGV0ZUFjdGlvbjogZnVuY3Rpb24gZGVsZXRlQWN0aW9uKCkge31cblxufTtcblxudmFyIGRpc3B1dGVSZWdleCA9IC8oXFxkKiBpbnZvaWNlKXwoYmVjYXVzZSBvZiAuKikvZztcbnZhciBkaXNjYXJkTWVzc2FnZSA9IFwiVGhpcyB3aWxsIGJlIHJlbW92ZWQgcGVybWFuZW50bHkgZnJvbSB0aGUgc3VnZ2VzdGVkIGFjdGlvbnMuIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuXCI7XG52YXIgcmVzb2x2ZU1lc3NhZ2UgPSBcIiBVbmFibGUgdG8gY29tcGxldGUgdGhlIGFjdGlvbi4gUGxlYXNlIHJlc29sdmUgdGhlIGVycm9ycyB0byBhcHByb3ZlLlwiO1xudmFyIG5vUmVhc29uTWVzc2FnZSA9IFwiUGxlYXNlIHNlbGVjdCBhcHByb3ByaWF0ZSBkaXNwdXRlIHJlYXNvbi5cIjtcbnZhciBub0ludm9pY2VNZXNzYWdlID0gXCJObyBpbnZvaWNlIHNlbGVjdGVkLiBQbGVhc2UgYWRkIGF0IGxlYXN0IGFuIGludm9pY2UgdG8gc2F2ZSB0aGUgZGlzcHV0ZS5cIjtcbnZhciBESVNQVVRFX1RFTVBMQVRFID0gXCJEaXNwdXRlIHJhaXNlZCBmb3IgPEludm9pY2VzPiBiZWNhdXNlIG9mIDogPERJU1BVVEUtUkVBU09OPlwiO1xudmFyIERJU1BVVEVfT1JJR19URU1QTEFURSA9IFwiQ3JlYXRlIERpc3B1dGUgZm9yIDxJbnZvaWNlcz4gYmVjYXVzZSBvZiA8UmVhc29uQ29kZT5cIjtcbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWxlY3RJY29uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBEaXNwdXRlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRGlzcHV0ZSwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEaXNwdXRlKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaXNwdXRlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGlzcHV0ZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERpc3B1dGUpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgICAgICB2YXIgZXh0cmFjdGVkRGF0YSA9IF90aGlzLnByb3BzLnN1bW1hcnkgJiYgX3RoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5ID8gX3RoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKGRpc3B1dGVSZWdleCkgOiBcIlwiO1xuXG4gICAgICAgIHZhciByZWFzb25Db2RlID0gZXh0cmFjdGVkRGF0YVsxXSA/IGV4dHJhY3RlZERhdGFbMV0uc3Vic3RyaW5nKDExKSA6IFwiXCI7XG4gICAgICAgIHZhciByZWFzb25Db2RlcyA9IF90aGlzLnByb3BzLnJlYXNvbkNvZGVMaXN0O1xuXG4gICAgICAgIGlmIChyZWFzb25Db2Rlcy5pbmRleE9mKHJlYXNvbkNvZGUpIDwgMCkge1xuICAgICAgICAgICAgcmVhc29uQ29kZSA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHJlYXNvbkNvZGU6IHJlYXNvbkNvZGUsXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IF90aGlzLnByb3BzLmludm9pY2VDb3VudCxcbiAgICAgICAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5Ob1JlYXNvbkRpYWxvZzogZmFsc2UsXG4gICAgICAgICAgICBvcGVuTm9JbnZvaWNlRGlhbG9nOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5Qcm9ncmVzc0JhcjogdHJ1ZSxcbiAgICAgICAgICAgIGFjdGlvbklkOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxuICAgICAgICAgICAgaXNEb25lOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUsXG4gICAgICAgICAgICBmaW5hbFNlbGVjdGVkRGF0ZTogXCJcIixcbiAgICAgICAgICAgIGNoYW5nZTogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhEaXNwdXRlLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogbmV4dFByb3BzLmluY29ycmVjdEZsYWdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobmV4dFByb3BzLmludm9pY2VDb3VudCA+PSAwICYmIG5leHRQcm9wcy5pbnZvaWNlQ291bnQgIT0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZUNvdW50OiBuZXh0UHJvcHMuaW52b2ljZUNvdW50IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vKmNoYW5nZSogYm90dG9uIDMgZnVuY3Rpb25zXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHRoaXMucHJvcHMuY2xhc3NlcztcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5ID0gdGhpcy5wcm9wcy5zdW1tYXJ5O1xuICAgICAgICAgICAgdmFyIGZ1bGxTY3JlZW4gPSB0aGlzLnByb3BzLmZ1bGxTY3JlZW47XG5cblxuICAgICAgICAgICAgdmFyIHJlYXNvbkNvZGVzID0gdGhpcy5wcm9wcy5yZWFzb25Db2RlTGlzdDtcbiAgICAgICAgICAgIHZhciBvcHRpb25JdGVtcyA9IHJlYXNvbkNvZGVzICYmIHJlYXNvbkNvZGVzLm1hcChmdW5jdGlvbiAocmVhc29uQ29kZSwgaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IGlkLCBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiByZWFzb25Db2RlIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbkNvZGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmludm9pY2VTYW1wbGUgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEwLCBtZDogMTAsIGxnOiAxMCwgY29udGFpbmVyOiB0cnVlLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2ZsZXgtc3RhcnQnIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiBcIjNyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFjdGlvblNhdmVQcm9ncmVzc0JhciAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2lyY3VsYXJQcm9ncmVzczIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuYWN0aW9uUHJvZ3Jlc3NCYXIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuRG9uZSwgeyBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIsIHBhZGRpbmdMZWZ0OiBcIjAuNXJlbVwiLCBwYWRkaW5nUmlnaHQ6IFwiMC41cmVtXCIsIGhlaWdodDogXCIxLjVyZW1cIiwgd2lkdGg6IFwiMS41cmVtXCIgfSB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZWQgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZSBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250V2VpZ2h0OiBcImJvbGRcIiwgb3BhY2l0eTogMSB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZFRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRElTUFVURSBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgIT09IDAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBkaXNwbGF5OiBcImZsZXhcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpbjogXCIwIDhweCAwIDZweFwiIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkVGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGZvbnRXZWlnaHQ6ICdib2xkJyB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZFRleHQsIG9uQ2xpY2s6IHRoaXMucHJvcHMudG9nZ2xlRXhwYW5kIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ICsgXCIgSW52b2ljZVwiICsgKHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMSA/IFwic1wiIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaW5jb3JyZWN0RmxhZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRXJyb3IyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVycm9yRmxhZyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkVGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHhBMCB3aXRoIHJlYXNvbiBjb2RlIG9mIFxceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUucmVhc29uQ29kZVRleHRGaWVsZFdpZHRoIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBoaWRkZW46IHRoaXMuc3RhdGUuaXNEb25lXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1NlbGVjdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAncmVhc29uLWNvZGUtZmllbGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5nZXRSZWFzb25Db2RlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVJlYXNvbkNvZGVDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5yZWFzb25Db2RlID8gKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmJvcmRlclNlY29uZCwgY2xhc3Nlcy5pbnB1dEZpZWxkVGV4dCkgOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuYm9yZGVyRmlyc3QsIGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudUNsYXNzLCBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVudVByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ1NlbGVjdCcsIGRpc2FibGVkOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZWxlY3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25JdGVtc1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUucmVhc29uQ29kZVRleHRGaWVsZFdpZHRoIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBoaWRkZW46ICF0aGlzLnN0YXRlLmlzRG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5yZWFzb25Db2RlXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHsgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuQWN0aW9uU2F2ZSxcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2csIHRpdGxlOiBkaXNjYXJkTWVzc2FnZSwgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBcIkN1c3RvbURpYWxvZ1wiICsgMCwgb25DbGljazogdGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2csIGNvbG9yOiAnc2Vjb25kYXJ5JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0Rpc2FncmVlJ1xuICAgICAgICAgICAgICAgICAgICApLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJDdXN0b21EaWFsb2dcIiArIDAsIG9uQ2xpY2s6IHRoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nLCBjb2xvcjogJ3ByaW1hcnknLCBhdXRvRm9jdXM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdBZ3JlZSdcbiAgICAgICAgICAgICAgICAgICAgKV0gfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwgeyBmdWxsU2NyZWVuOiBmdWxsU2NyZWVuLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5XYXJuaW5nRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZywgdGl0bGU6IHJlc29sdmVNZXNzYWdlLCBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwiQ3VzdG9tRGlhbG9nXCIgKyAwLCBvbkNsaWNrOiB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZywgY29sb3I6ICdwcmltYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHsgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuTm9SZWFzb25EaWFsb2csXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZywgdGl0bGU6IG5vUmVhc29uTWVzc2FnZSwgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBcIkN1c3RvbURpYWxvZ1wiICsgMCwgb25DbGljazogdGhpcy5jbG9zZU5vUmVhc29uRGlhbG9nLCBjb2xvcjogJ3NlY29uZGFyeScsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICAgICAgICAgICApXSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3Blbk5vSW52b2ljZURpYWxvZyxcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZywgdGl0bGU6IG5vSW52b2ljZU1lc3NhZ2UsIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJDdXN0b21EaWFsb2dcIiArIDAsIG9uQ2xpY2s6IHRoaXMuY2xvc2VOb0ludm9pY2VEaWFsb2csIGNvbG9yOiAnc2Vjb25kYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMiwgbWQ6IDIsIGxnOiAyIH0sXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5IaWdobGlnaHRPZmYsIHsgc3R5bGU6IHsgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIgfSwgb25DbGljazogdGhpcy5vcGVuQWN0aW9uRGlzY2FyZERpYWxvZyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5DaGVja0NpcmNsZU91dGxpbmUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUucmVhc29uQ29kZSA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc3RhdGUucmVhc29uQ29kZSA/IHRoaXMuc2F2ZURpc3B1dGUgOiBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb24gfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGlzcHV0ZTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHRoaXMuc2F2ZURpc3B1dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzMy5wcm9wcy5jb3JyZWN0SW52b2ljZXMubWFwKGZ1bmN0aW9uIChpbnZvaWNlKSB7XG4gICAgICAgICAgICB2YXIgaW52b2ljZU9iaiA9IHt9O1xuICAgICAgICAgICAgaW52b2ljZU9iai5jbXNEb2NIZWFkZXJJZCA9IGludm9pY2UuaWQ7XG4gICAgICAgICAgICByZXR1cm4gaW52b2ljZU9iajtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5pbmNvcnJlY3RGbGFnKSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGUpIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Ob1JlYXNvbkRpYWxvZzogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpczMuc3RhdGUuaW52b2ljZUNvdW50ID09IDApIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Ob0ludm9pY2VEaWFsb2c6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IHRydWUgfSk7XG5cbiAgICAgICAgdmFyIHJlcU9iaiA9IHtcbiAgICAgICAgICAgIC8vIGFjdHVhbERpc3B1dGVBbW91bnQ6IHRoaXMuc3RhdGUuYW1vdW50LFxuICAgICAgICAgICAgcmVhc29uQ29kZTogX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGUsXG4gICAgICAgICAgICBjdXN0b21lcklkOiBfdGhpczMucHJvcHMuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBkaXNwdXRlSXRlbXM6IGludm9pY2VzXG4gICAgICAgIH07XG5cbiAgICAgICAgX2F4aW9zMi5kZWZhdWx0LnBvc3QoX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyAnL2N1c3RvbWVyLycgKyBfdGhpczMucHJvcHMuY3VzdG9tZXIuaWQgKyAnL2Rpc3B1dGUnLCByZXFPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJTVUNDRVNTXCIpO1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNEb25lOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL3VwZGF0ZSBmbGFnIGluIGFjdGlvbnMgfCBwb3N0IGNhbGwgXG4gICAgICAgICAgICB2YXIgc3VtbWFyeVRvU2F2ZSA9IF90aGlzMy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5vbkNvbXBsZXRpb24oKTtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5vbkFjdGlvbkl0ZW1Db25maXJtKHN1bW1hcnlUb1NhdmUpO1xuICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdlbmVyYXRlQWN0aW9uU3VtbWFyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlQ291bnQ7XG5cbiAgICAgICAgdmFyIGdlbmVyYXRlZFN1bW1hcnkgPSBESVNQVVRFX1RFTVBMQVRFLnJlcGxhY2UoXCI8RElTUFVURS1SRUFTT04+XCIsIF90aGlzMy5zdGF0ZS5yZWFzb25Db2RlKS5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCBpbnZvaWNlQ291bnQgPT0gMSA/IGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpO1xuXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZWRTdW1tYXJ5O1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZVN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlQ291bnQ7XG4gICAgICAgIHZhciBmb3JtYXR0ZWREYXRlID0gKDAsIF9kYXRlRm5zLmZvcm1hdCkobmV3IERhdGUoX3RoaXMzLnN0YXRlLnNlbGVjdGVkRGF0ZSksIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgdmFyIHVwZGF0ZWRTdW1tYXJ5ID0gRElTUFVURV9PUklHX1RFTVBMQVRFLnJlcGxhY2UoXCI8SW52b2ljZXM+XCIsIGludm9pY2VDb3VudCA9PT0gMCA/IFwiPFggaW52b2ljZXM+XCIgOiBpbnZvaWNlQ291bnQgPT09IDEgPyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlXCIgOiBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlc1wiKS5yZXBsYWNlKFwiPFJlYXNvbkNvZGU+XCIsIF90aGlzMy5zdGF0ZS5yZWFzb25Db2RlKTtcbiAgICAgICAgX3RoaXMzLnByb3BzLnVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBfdGhpczMucHJvcHMub3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZSk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLmRlbGV0ZUFjdGlvbihfdGhpczMuc3RhdGUuYWN0aW9uSWQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZU5vUmVhc29uRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuTm9SZWFzb25EaWFsb2c6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlTm9JbnZvaWNlRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuTm9JbnZvaWNlRGlhbG9nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVSZWFzb25Db2RlQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjaGFuZ2U6IHRydWUsXG4gICAgICAgICAgICByZWFzb25Db2RlOiBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgIC8vIHJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aDogZXZlbnQudGFyZ2V0LnZhbHVlID8gKFwiXCIgKyBldmVudC50YXJnZXQudmFsdWUubGVuZ3RoKSAqIDEyIDogNTBcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0UmVhc29uQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlYXNvbkNvZGVzID0gX3RoaXMzLnByb3BzLnJlYXNvbkNvZGVMaXN0O1xuICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGUgJiYgcmVhc29uQ29kZXMuaW5kZXhPZihfdGhpczMuc3RhdGUucmVhc29uQ29kZSkgPj0gMCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuIFwiU2VsZWN0XCI7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiU2VsZWN0XCI7XG4gICAgfTtcbn07XG5cbkRpc3B1dGUucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbkRpc3B1dGUuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG52YXIgY29tYmluZWRTdHlsZSA9ICgwLCBfY29tYmluZVN0eWxlczIuZGVmYXVsdCkoc3R5bGVzLCBfYmFzZVN0eWxlMi5kZWZhdWx0KTtcbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKERpc3B1dGUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXG52YXIgX0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CdXR0b24pO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cbnZhciBfZGF0ZUZucyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3Nyk7XG5cbnZhciBfZGF0ZUZuczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlRm5zKTtcblxudmFyIF9tYXRlcmlhbFVpUGlja2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3OCk7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX2JsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOCk7XG5cbnZhciBfYmx1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ibHVlKTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfcmVhY3ROdW1iZXJGb3JtYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMik7XG5cbnZhciBfcmVhY3ROdW1iZXJGb3JtYXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3ROdW1iZXJGb3JtYXQpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblxudmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblxudmFyIF9NZW51SXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblxudmFyIF9NZW51SXRlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZW51SXRlbSk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oODUpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY3VsYXJQcm9ncmVzcyk7XG5cbnZhciBfQ3VzdG9tRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjQpO1xuXG52YXIgX0N1c3RvbURpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21EaWFsb2cpO1xuXG52YXIgX2RhdGVGbnMzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjYpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxudmFyIF9jb21iaW5lU3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cbnZhciBfY29tYmluZVN0eWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lU3R5bGVzKTtcblxudmFyIF9iYXNlU3R5bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblxudmFyIF9iYXNlU3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFzZVN0eWxlKTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgc3VtbWFyeToge1xuICAgIHN1bW1hcnk6IFwiXCJcbiAgfSxcbiAgZm9sbG93dXBUZXh0TGlzdDogW10sXG4gIGluY29ycmVjdEZsYWc6IFwiXCIsXG4gIGRlbGV0ZUFjdGlvbjogZnVuY3Rpb24gZGVsZXRlQWN0aW9uKCkge31cblxufTtcblxuLy9jb25zdGFudHNcbnZhciBmb2xsb3d1cFJlZ2V4ID0gLyhcXGR7NH0tXFxkezJ9LVxcZHsyfVRbXFxkezJ9Ol0qLlxcZHszfVstfCtdXFxkezJ9OlxcZHsyfSl8KHJlYXNvbjogLiopL2c7XG52YXIgZGlzY2FyZE1lc3NhZ2UgPSBcIlRoaXMgd2lsbCBiZSByZW1vdmVkIHBlcm1hbmVudGx5IGZyb20gdGhlIHN1Z2dlc3RlZCBhY3Rpb25zLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLlwiO1xudmFyIHJlc29sdmVNZXNzYWdlID0gXCIgVW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBhY3Rpb24uIFBsZWFzZSByZXNvbHZlIHRoZSBlcnJvcnMgdG8gYXBwcm92ZS5cIjtcbnZhciBub1RleHRNZXNzYWdlID0gXCJQbGVhc2Ugc2VsZWN0IGFwcHJvcHJpYXRlIGZvbGxvd3VwIHJlYXNvbi5cIjtcbnZhciBpbnZhbGlkRGF0ZU1lc3NhZ2UgPSBcIkZvdW5kIGludmFsaWQgZGF0ZS4gUGxlYXNlIGNvcnJlY3QgdGhlIGRhdGUgdG8gcHJvY2VlZC5cIjtcbnZhciBGT0xMT1dVUF9URU1QTEFURSA9IFwiRm9sbG93IHVwICA8Q29udGFjdCBOYW1lPiA8Rm9sbG93dXAgRGF0ZT4gPEZvbGxvd3VwIFRleHQ+XCI7XG52YXIgRk9MTE9XVVBfT1JJR19URU1QTEFURSA9IFwiQ3JlYXRlIEZvbGxvd3VwIGV2ZW50IGZvciA8Rm9sbG93dXAgRGF0ZT4gcmVhc29uOiA8Rm9sbG93dXAgVGV4dD5cIjtcbnZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBzZWxlY3RJY29uOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgIH1cbiAgfTtcbn07XG5cbnZhciBtYXRlcmlhbFRoZW1lID0gKDAsIF9jb3JlLmNyZWF0ZU11aVRoZW1lKSh7XG4gIG92ZXJyaWRlczoge1xuICAgIE11aVBpY2tlcnNUb29sYmFyOiB7XG4gICAgICB0b29sYmFyOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogX2JsdWUyLmRlZmF1bHQuQTIwMCxcbiAgICAgICAgaGVpZ2h0OiBcIjEzdmhcIlxuICAgICAgfVxuICAgIH0sXG4gICAgTXVpUGlja2Vyc0NhbGVuZGFySGVhZGVyOiB7XG4gICAgICBzd2l0Y2hIZWFkZXI6IHtcbiAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBsaWdodEJsdWUuQTIwMCxcbiAgICAgICAgLy8gY29sb3I6ICd3aGl0ZScsXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlQaWNrZXJzRGF5OiB7XG4gICAgICBkYXk6IHtcbiAgICAgICAgY29sb3I6IF9ibHVlMi5kZWZhdWx0LkE3MDBcbiAgICAgIH0sXG4gICAgICBzZWxlY3RlZDoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IF9ibHVlMi5kZWZhdWx0W1wiNDAwXCJdXG4gICAgICB9LFxuICAgICAgY3VycmVudDoge1xuICAgICAgICBjb2xvcjogX2JsdWUyLmRlZmF1bHRbXCI5MDBcIl1cbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2xvcjogXCIjRkY4ODg4ICFpbXBvcnRhbnRcIlxuICAgICAgfVxuICAgIH0sXG4gICAgTXVpUGlja2Vyc01vZGFsOiB7XG4gICAgICBkaWFsb2dBY3Rpb246IHtcbiAgICAgICAgY29sb3I6IF9ibHVlMi5kZWZhdWx0W1wiNDAwXCJdXG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxudmFyIEZvbGxvd3VwID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEZvbGxvd3VwLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBGb2xsb3d1cChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGb2xsb3d1cCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRm9sbG93dXAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGb2xsb3d1cCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cbiAgICB2YXIgZXh0cmFjdGVkRGF0YSA9IF90aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChmb2xsb3d1cFJlZ2V4KTtcbiAgICB2YXIgc2VsZWN0ZWREYXRlID0gXCJcIjtcbiAgICB2YXIgZm9sbG93dXBUZXh0ID0gXCJcIjtcbiAgICBpZiAoZXh0cmFjdGVkRGF0YSAmJiBleHRyYWN0ZWREYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIHNlbGVjdGVkRGF0ZSA9IG5ldyBEYXRlKGV4dHJhY3RlZERhdGFbMF0pO1xuICAgICAgZm9sbG93dXBUZXh0ID0gZXh0cmFjdGVkRGF0YVsxXSA/IGV4dHJhY3RlZERhdGFbMV0uc3Vic3RyaW5nKDgpIDogbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZm9sbG93dXBUZXh0cyA9IF90aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3Q7XG5cbiAgICBpZiAoZm9sbG93dXBUZXh0cy5pbmRleE9mKGZvbGxvd3VwVGV4dCkgPCAwKSB7XG4gICAgICBmb2xsb3d1cFRleHQgPSBcIlwiO1xuICAgIH1cblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgZm9sbG93dXBUZXh0OiBmb2xsb3d1cFRleHQsXG4gICAgICBzZWxlY3RlZERhdGU6IG5ldyBEYXRlKHNlbGVjdGVkRGF0ZSksXG4gICAgICBvcGVuQWN0aW9uU2F2ZTogZmFsc2UsXG4gICAgICBvcGVuV2FybmluZ0RpYWxvZzogZmFsc2UsXG4gICAgICBvcGVuSW52YWxpZERhdGVEaWFsb2c6IGZhbHNlLFxuICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxuICAgICAgYWN0aW9uSWQ6IF90aGlzLnByb3BzLnN1bW1hcnkuaWQsXG4gICAgICBpc0RvbmU6IF90aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSxcbiAgICAgIGZpbmFsU2VsZWN0ZWREYXRlOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUgPyAoMCwgX2RhdGVGbnMzLmZvcm1hdCkobmV3IERhdGUoZXh0cmFjdGVkRGF0YVswXSksIFwiTU1NIGRkLCB5eXl5XCIpIDogXCJcIixcbiAgICAgIC8vIGZvbGxvd3VwVGV4dEZpZWxkV2lkdGg6IGZvbGxvd3VwVGV4dCA/IChcIlwiICsgZm9sbG93dXBUZXh0KS5sZW5ndGggKiAxMiA6IDUwLFxuICAgICAgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSxcbiAgICAgIGluY29ycmVjdEZsYWc6IG51bGxcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhGb2xsb3d1cCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpbmNvcnJlY3RGbGFnOiBuZXh0UHJvcHMuaW5jb3JyZWN0RmxhZ1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjbGFzc2VzID0gdGhpcy5wcm9wcy5jbGFzc2VzO1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc3VtbWFyeSA9IF9wcm9wcy5zdW1tYXJ5LFxuICAgICAgICAgIHRoZW1lID0gX3Byb3BzLnRoZW1lO1xuICAgICAgdmFyIGZ1bGxTY3JlZW4gPSB0aGlzLnByb3BzLmZ1bGxTY3JlZW47XG5cblxuICAgICAgdmFyIGZvbGxvd3VwVGV4dHMgPSB0aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3Q7XG4gICAgICB2YXIgb3B0aW9uSXRlbXMgPSBmb2xsb3d1cFRleHRzLm1hcChmdW5jdGlvbiAoZm9sbG93dXBUZXh0LCBpZCkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogXCJmb2xsb3d1cFRleHRcIiArIGlkLFxuICAgICAgICAgICAgdmFsdWU6IGZvbGxvd3VwVGV4dCxcbiAgICAgICAgICAgIGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9sbG93dXBUZXh0XG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlU2FtcGxlIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICB4czogMTAsXG4gICAgICAgICAgICBtZDogMTAsXG4gICAgICAgICAgICBsZzogMTAsXG4gICAgICAgICAgICBjb250YWluZXI6IHRydWUsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGp1c3RpZnk6ICdmbGV4LXN0YXJ0J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgc3R5bGU6IHsgd2lkdGg6IFwiM3JlbVwiIH0gfSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aW9uU2F2ZVByb2dyZXNzQmFyICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25Qcm9ncmVzc0JhciB9KSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Eb25lLCB7XG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzVGQzMyQ1wiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMS41cmVtXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMS41cmVtXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0eWxlOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZFRleHRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ0NyZWF0ZWQgXFx4QTAnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkVGV4dFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnQ3JlYXRlIFxceEEwJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRUZXh0IH0sXG4gICAgICAgICAgICAgICdGT0xMT1ctVVAgXFx4QTAnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRUZXh0IH0sXG4gICAgICAgICAgICAgICdldmVudCBmb3IgXFx4QTAnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5maW5hbFNlbGVjdGVkRGF0ZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfbWF0ZXJpYWxVaVBpY2tlcnMuTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIsXG4gICAgICAgICAgICAgIHsgdXRpbHM6IF9kYXRlRm5zMi5kZWZhdWx0IH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9jb3JlLk11aVRoZW1lUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgeyB0aGVtZTogbWF0ZXJpYWxUaGVtZSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9tYXRlcmlhbFVpUGlja2Vycy5EYXRlUGlja2VyLCB7XG4gICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXhXaWR0aDogXCI1LjM1cmVtXCIgfSxcbiAgICAgICAgICAgICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBCb29sZWFuKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgIGZvcm1hdDogJ01NTSBkZCwgeXl5eScsXG4gICAgICAgICAgICAgICAgICBtaW5EYXRlTWVzc2FnZTogJ1ByZXZpb3VzIGRhdGUgbm90IGFjY2VwdGFibGUnLFxuICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJkYXRlLWlucHV0LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuYm9yZGVyU2Vjb25kLCBjbGFzc2VzLmlucHV0RmllbGRUZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4odHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IEJvb2xlYW4odHJ1ZSlcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5waWNrZXIgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZURhdGVDaGFuZ2VcbiAgICAgICAgICAgICAgICAgIC8vIG9uQ2xpY2s9e2UgPT4gZS5wcmV2ZW50RGVmYXVsdH1cbiAgICAgICAgICAgICAgICAgICwgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgbWluRGF0ZTogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5EYXRlUmFuZ2UsIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkSWNvbixcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub3BlblBpY2tlclxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGl0ZW06IHRydWUsIGhpZGRlbjogdGhpcy5zdGF0ZS5pc0RvbmUgJiYgIXRoaXMuc3RhdGUuZm9sbG93dXBUZXh0IH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRUZXh0IH0sXG4gICAgICAgICAgICAgICdcXHhBMCBmb3IgXFx4QTAnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpdGVtOiB0cnVlXG4gICAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dEZpZWxkV2lkdGggfX1cbiAgICAgICAgICAgICAgLCBoaWRkZW46IHRoaXMuc3RhdGUuaXNEb25lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9TZWxlY3QyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ2ZvbGxvd3VwLXRleHQtZmllbGQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmdldEZvbGxvd3VwVGV4dCgpLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUZvbGxvd3VwVGV4dENoYW5nZSxcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XG4gICAgICAgICAgICAgICAgICBzZWxlY3RNZW51OiBjbGFzc2VzLnNlbGVjdE1lbnVDbGFzcyxcbiAgICAgICAgICAgICAgICAgIGljb246IGNsYXNzZXMuc2VsZWN0SWNvblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5ib3JkZXJTZWNvbmQsIGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpIDogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmJvcmRlckZpcnN0LCBjbGFzc2VzLmlucHV0RmllbGRUZXh0KSxcbiAgICAgICAgICAgICAgICBNZW51UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LFxuICAgICAgICAgICAgICAgICAgdmFsdWU6ICdTZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdTZWxlY3QnXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIG9wdGlvbkl0ZW1zXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpdGVtOiB0cnVlXG4gICAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dEZpZWxkV2lkdGggfX1cbiAgICAgICAgICAgICAgLCBoaWRkZW46ICF0aGlzLnN0YXRlLmlzRG9uZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc2VsZWN0TWVudUNsYXNzIH0sXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0XG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5Ob1RleHREaWFsb2csXG4gICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZU5vVGV4dERpYWxvZyxcbiAgICAgICAgICB0aXRsZTogbm9UZXh0TWVzc2FnZSxcbiAgICAgICAgICBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlTm9UZXh0RGlhbG9nLFxuICAgICAgICAgICAgICBjb2xvcjogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgIGF1dG9Gb2N1czogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdPSydcbiAgICAgICAgICApXVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgIGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuQWN0aW9uU2F2ZSxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZyxcbiAgICAgICAgICB0aXRsZTogZGlzY2FyZE1lc3NhZ2UsXG4gICAgICAgICAgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2csIGNvbG9yOiAnc2Vjb25kYXJ5JyB9LFxuICAgICAgICAgICAgJ0Rpc2FncmVlJ1xuICAgICAgICAgICksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2csXG4gICAgICAgICAgICAgIGNvbG9yOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgIGF1dG9Gb2N1czogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdBZ3JlZSdcbiAgICAgICAgICApXVxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgIGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZyxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZyxcbiAgICAgICAgICB0aXRsZTogcmVzb2x2ZU1lc3NhZ2UsXG4gICAgICAgICAgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2csXG4gICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICldXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5JbnZhbGlkRGF0ZURpYWxvZyxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlSW52YWxpZERhdGVEaWFsb2csXG4gICAgICAgICAgdGl0bGU6IGludmFsaWREYXRlTWVzc2FnZSxcbiAgICAgICAgICBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlSW52YWxpZERhdGVEaWFsb2csXG4gICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICldXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAyLCBtZDogMiwgbGc6IDIgfSxcbiAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuSGlnaGxpZ2h0T2ZmLCB7XG4gICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH0sXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2dcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkNoZWNrQ2lyY2xlT3V0bGluZSwge1xuICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIgfSxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRuLFxuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IHRoaXMuc2F2ZUZvbGxvd3VwIDogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRm9sbG93dXA7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gIHRoaXMudmFsaWRhdGVGb2xsb3d1cERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKF90aGlzMy5zdGF0ZS5pbmNvcnJlY3RGbGFnKSB7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoISgwLCBfaGVscGVyLmlzVmFsaWREYXRlKShfdGhpczMuc3RhdGUuc2VsZWN0ZWREYXRlKSkge1xuICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkludmFsaWREYXRlRGlhbG9nOiB0cnVlIH0pO1xuICAgICAgLy8gdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2coXCJQbGVhc2UgY29ycmVjdCBkYXRlIGZpcnN0LlwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICB0aGlzLnNhdmVGb2xsb3d1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIV90aGlzMy52YWxpZGF0ZUZvbGxvd3VwRGF0YSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0KSB7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuTm9UZXh0RGlhbG9nOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSB9KTtcbiAgICB2YXIgZm9sbG93RGF0ZSA9IG5ldyBEYXRlKF90aGlzMy5zdGF0ZS5zZWxlY3RlZERhdGUpO1xuICAgIHZhciBmb2xsb3dGb3JtYXREYXRlID0gKDAsIF9kYXRlRm5zMy5mb3JtYXQpKGZvbGxvd0RhdGUsIFwieXl5eS1NTS1kZFwiKTtcblxuICAgIHZhciByZXFPYmogPSB7XG4gICAgICBkdWVEYXRlOiBmb2xsb3dGb3JtYXREYXRlLFxuICAgICAgcmVtaW5kZXJEYXRlOiBmb2xsb3dGb3JtYXREYXRlLFxuICAgICAgc3ViamVjdDogX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dFxuICAgICAgLy8gYXNzaWduZWRUb1VzZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIuaWQsXG4gICAgfTtcblxuICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jdXN0b21lci8nICsgX3RoaXMzLnByb3BzLmN1c3RvbWVyLmlkICsgJy90YXNrJywgcmVxT2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgX3RoaXMzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiU1VDQ0VTU1wiKTtcbiAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGZpbmFsU2VsZWN0ZWREYXRlOiBfdGhpczMuZ2V0RGF0ZUZpZWxkVmFsdWUoKSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGlzRG9uZTogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbFxuICAgICAgdmFyIHN1bW1hcnlUb1NhdmUgPSBfdGhpczMuZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5KCk7XG4gICAgICBfdGhpczMucHJvcHMub25Db21wbGV0aW9uKCk7XG4gICAgICBfdGhpczMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybShzdW1tYXJ5VG9TYXZlKTtcbiAgICAgIF90aGlzMy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcbiAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGludm9pY2VDb3VudCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlQ291bnQ7XG4gICAgdmFyIGNvbnRhY3ROdW1iZXIgPSBfdGhpczMucHJvcHMuY2FsbGVkVG9OdW1iZXI7XG4gICAgLy8gbGV0IHNlbGVjdGVkZm9ybWF0dGVkRGF0ZSA9IChkYXRlLmdldE1vbnRoKCkgKyAxKSArICctJyArIGRhdGUuZ2V0RGF0ZSgpICsgJy0nICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHZhciBjb250YWN0TmFtZSA9IChfdGhpczMucHJvcHMuY2FsbFRvTmFtZSA9PSBcIlVua25vd24gXCIgfHwgX3RoaXMzLnByb3BzLmNhbGxUb05hbWUgPT0gXCJVbm5hbWVkIFVubmFtZWRcIikgJiYgY29udGFjdE51bWJlciA/IGNvbnRhY3ROdW1iZXIgOiBfdGhpczMucHJvcHMuY2FsbFRvTmFtZTtcbiAgICB2YXIgZ2VuZXJhdGVkU3VtbWFyeSA9IEZPTExPV1VQX1RFTVBMQVRFLnJlcGxhY2UoXCI8Q29udGFjdCBOYW1lPlwiLCBjb250YWN0TmFtZSkucmVwbGFjZShcIjxGb2xsb3d1cCBEYXRlPlwiLCBfdGhpczMuc3RhdGUuc2VsZWN0ZWREYXRlID8gXCJvbiBcIiArICgwLCBfZGF0ZUZuczMuZm9ybWF0KShfdGhpczMuc3RhdGUuc2VsZWN0ZWREYXRlLCBcIk1NLWRkLXl5eXlcIikgOiBcIlwiKS5yZXBsYWNlKFwiPEZvbGxvd3VwIFRleHQ+XCIsIF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQgPyBcImZvciBcIiArIF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQgOiBcIlwiKTtcblxuICAgIHJldHVybiBnZW5lcmF0ZWRTdW1tYXJ5O1xuICB9O1xuXG4gIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIF90aGlzMy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcbiAgfTtcblxuICB0aGlzLm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9KTtcbiAgfTtcblxuICB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMzLnByb3BzLmRlbGV0ZUFjdGlvbihfdGhpczMuc3RhdGUuYWN0aW9uSWQpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcbiAgfTtcblxuICB0aGlzLmNsb3NlTm9UZXh0RGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Ob1RleHREaWFsb2c6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuSW52YWxpZERhdGVEaWFsb2c6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMudG9nZ2xlRWRpdGluZyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgcmVhZE9ubHk6IGZhbHNlLCBpc0VkaXRpbmc6IHRydWUgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIF90aGlzMy5zdGF0ZS5hY3Rpb25JZCkuZm9jdXMoKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZURhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkRGF0ZTogZGF0ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczMudXBkYXRlU3VtbWFyeSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0RGF0ZUZpZWxkVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlkID0gXCJkYXRlLWlucHV0LWZpZWxkLVwiICsgX3RoaXMzLnN0YXRlLmFjdGlvbklkO1xuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWU7XG4gIH07XG5cbiAgdGhpcy5oYW5kbGVGb2xsb3d1cFRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgY2hhbmdlOiB0cnVlLFxuICAgICAgZm9sbG93dXBUZXh0OiBldmVudC50YXJnZXQudmFsdWVcbiAgICAgIC8vIGZvbGxvd3VwVGV4dEZpZWxkV2lkdGg6IGV2ZW50LnRhcmdldC52YWx1ZSA/IChcIlwiICsgZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCkgKiAxMiA6IDUwXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdldEZvbGxvd3VwVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZm9sbG93dXBUZXh0cyA9IF90aGlzMy5wcm9wcy5mb2xsb3d1cFRleHRMaXN0O1xuICAgIGlmIChfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0ICYmIGZvbGxvd3VwVGV4dHMuaW5kZXhPZihfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0KSA+PSAwKSB7XG4gICAgICByZXR1cm4gX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIFwiU2VsZWN0XCI7XG4gIH07XG5cbiAgdGhpcy51cGRhdGVTdW1tYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbnZvaWNlQ291bnQgPSBfdGhpczMuc3RhdGUuaW52b2ljZUNvdW50O1xuICAgIHZhciBmb3JtYXR0ZWREYXRlID0gKDAsIF9kYXRlRm5zMy5mb3JtYXQpKG5ldyBEYXRlKF90aGlzMy5zdGF0ZS5zZWxlY3RlZERhdGUpLCBcInl5eXktTU0tZGRcIik7XG4gICAgdmFyIHVwZGF0ZWRTdW1tYXJ5ID0gRk9MTE9XVVBfT1JJR19URU1QTEFURS5yZXBsYWNlKFwiPEZvbGxvd3VwIERhdGU+XCIsIGZvcm1hdHRlZERhdGUpLnJlcGxhY2UoXCI8Rm9sbG93dXAgVGV4dD5cIiwgX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQgOiBcIlwiKTtcbiAgICBfdGhpczMucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KTtcbiAgfTtcblxuICB0aGlzLm9wZW5QaWNrZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIF90aGlzMy5waWNrZXIub3BlbihlKTtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIE51bWJlckZvcm1hdEN1c3RvbShwcm9wcykge1xuICB2YXIgaW5wdXRSZWYgPSBwcm9wcy5pbnB1dFJlZixcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgWydpbnB1dFJlZicsICdvbkNoYW5nZSddKTtcblxuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0TnVtYmVyRm9ybWF0Mi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgb3RoZXIsIHtcbiAgICBnZXRJbnB1dFJlZjogaW5wdXRSZWYsXG4gICAgb25WYWx1ZUNoYW5nZTogZnVuY3Rpb24gb25WYWx1ZUNoYW5nZSh2YWx1ZXMpIHtcbiAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlcy52YWx1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRob3VzYW5kU2VwYXJhdG9yOiB0cnVlLFxuICAgIHByZWZpeDogJyQnXG4gIH0pKTtcbn1cblxuTnVtYmVyRm9ybWF0Q3VzdG9tLnByb3BUeXBlcyA9IHtcbiAgaW5wdXRSZWY6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBvbkNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWRcbn07XG5cbkZvbGxvd3VwLnByb3BUeXBlcyA9IHtcbiAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuRm9sbG93dXAuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xudmFyIGNvbWJpbmVkU3R5bGUgPSAoMCwgX2NvbWJpbmVTdHlsZXMyLmRlZmF1bHQpKHN0eWxlcywgX2Jhc2VTdHlsZTIuZGVmYXVsdCk7XG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShjb21iaW5lZFN0eWxlLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShGb2xsb3d1cCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTAwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX0dyaWRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjIpO1xuXG52YXIgX0dyaWRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0KTtcblxudmFyIF9HcmlkTGlzdFRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyMyk7XG5cbnZhciBfR3JpZExpc3RUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0VGlsZSk7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyMSk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0NoZWNrQ2lyY2xlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDkpO1xuXG52YXIgX0NoZWNrQ2lyY2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrQ2lyY2xlKTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9SYWRpb0J1dHRvblVuY2hlY2tlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUxKTtcblxudmFyIF9SYWRpb0J1dHRvblVuY2hlY2tlZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYWRpb0J1dHRvblVuY2hlY2tlZCk7XG5cbnZhciBfQWRkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDgpO1xuXG52YXIgX0FkZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BZGQpO1xuXG52YXIgX1JlbW92ZUNpcmNsZU91dGxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Mik7XG5cbnZhciBfUmVtb3ZlQ2lyY2xlT3V0bGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW1vdmVDaXJjbGVPdXRsaW5lKTtcblxudmFyIF9DbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXG52YXIgX0Nsb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlKTtcblxudmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblxudmFyIF9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnV0dG9uKTtcblxudmFyIF9GYWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cbnZhciBfRmFiMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZhYik7XG5cbnZhciBfQ2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xuXG52YXIgX0NhcmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZCk7XG5cbnZhciBfQ2FyZENvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OCk7XG5cbnZhciBfQ2FyZENvbnRlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZENvbnRlbnQpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0Vycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjUpO1xuXG52YXIgX0Vycm9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Vycm9yKTtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfRGlhbG9nQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcblxudmFyIF9EaWFsb2dBY3Rpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ0FjdGlvbnMpO1xuXG52YXIgX0RpYWxvZ1RpdGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzMpO1xuXG52YXIgX0RpYWxvZ1RpdGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ1RpdGxlKTtcblxudmFyIF9Nb2RhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXG52YXIgX01vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsKTtcblxudmFyIF9EdWVEZXRhaWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNzkpO1xuXG52YXIgX0R1ZURldGFpbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EdWVEZXRhaWwpO1xuXG52YXIgX0NsZWFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzQpO1xuXG52YXIgX0NsZWFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NsZWFyKTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX0xpc3RPZlRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMDEpO1xuXG52YXIgX0xpc3RPZlRpbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdE9mVGlsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFAyUFJlZ2V4ID0gLyhQcm9taXNlIHRvIHBheSBmb3IgXFxkKil8KFswLTldezR9Wy1dWzAtOV17Mn1bLV1bMC05XXsyfSl8KFxcZCogaW52b2ljZSkvZztcbnZhciBtZXNzYWdlID0gXCJQbGVhc2Ugc2VsZWN0IHNvbWUgaW52b2ljZXMuXCI7XG52YXIgZGlzcHV0ZVJlZ2V4ID0gLyhcXGQqIGludm9pY2UpfChiZWNhdXNlIG9mIC4qKS9nO1xuXG5mdW5jdGlvbiByYW5kKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyMCkgLSAxMDtcbn1cblxuZnVuY3Rpb24gZ2V0TW9kYWxTdHlsZSh0aGVtZSkge1xuICAgIHZhciB0b3AgPSA1MDtcbiAgICB2YXIgbGVmdCA9IDUwO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3AgKyAnJScsXG4gICAgICAgIGxlZnQ6IGxlZnQgKyAnJScsXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtJyArIHRvcCArICclLCAtJyArIGxlZnQgKyAnJSknLFxuICAgICAgICB3aWR0aDogXCI3M3Z3XCIsXG4gICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAycHggc29saWRcIlxuICAgIH07XG59XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuXG4gICAgICAgIGludm9pY2VIZWFkZXI6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCI2LjQ4MTQ4MTQ4MTQ4dmhcIixcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIiMzOTVDNzMgc29saWQgMXB4XCIsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIzcmVtXCJcbiAgICAgICAgICAgIC8vIGJvcmRlclRvcDogXCJzb2xpZCBibGFjayAxcHhcIlxuICAgICAgICB9LFxuICAgICAgICBjaGVja2VkSWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICB6SW5kZXg6IFwiM1wiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIixcbiAgICAgICAgICAgIHdpZHRoOiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIlxuICAgICAgICB9LFxuICAgICAgICBpbnZvaWNlTGlzdDoge1xuICAgICAgICAgICAgd2lkdGg6IFwiYXV0b1wiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIxcmVtXCIsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMS45cmVtXCIsXG4gICAgICAgICAgICAvLyBmbGV4V3JhcDogJ3dyYXAnLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1hcm91bmQnLFxuICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiM3JlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvcnJlY3Rpb246IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvcnJlY3Rpb25BbGVydDoge1xuICAgICAgICAgICAgY29sb3I6IFwiI0ZGODg4OFwiLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIuNXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yRmxhZzoge1xuICAgICAgICAgICAgY29sb3I6IFwiI0ZGNDQ0NFwiLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIuNXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGdyaWRMaXN0OiB7XG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgbWFyZ2luOiAnMTBweCAwcHggLTJweCAtLjRyZW0gIWltcG9ydGFudCdcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3REaXY6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAxcHhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RlZEdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiXG4gICAgICAgIH0sXG4gICAgICAgIGluY29ycmVjdERpdjoge1xuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgYm9yZGVyOiBcIiNGRjg4ODggZGFzaGVkIDFweFwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTUuNDF2d1wiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBwYXBlcjoge1xuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICB3aWR0aDogdGhlbWUuc3BhY2luZy51bml0ICogMTAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgYm94U2hhZG93OiB0aGVtZS5zaGFkb3dzWzVdLFxuICAgICAgICAgICAgcGFkZGluZzogdGhlbWUuc3BhY2luZy51bml0ICogMSxcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAwLFxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGJ1dHRvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMmVtXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGFkZEljb246IHtcbiAgICAgICAgICAgIHdpZHRoOiAnY2FsYygxLjF2aCArIDEuMXZ3KScsXG4gICAgICAgICAgICBoZWlnaHQ6ICdjYWxjKDEuMXZoICsgMS4xdncpJyxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIHByaW1hcnlUZXh0OiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgQWN0aW9uRGV0YWlscyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEFjdGlvbkRldGFpbHMsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQWN0aW9uRGV0YWlscyhwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWN0aW9uRGV0YWlscyk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFjdGlvbkRldGFpbHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBY3Rpb25EZXRhaWxzKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cbiAgICAgICAgdmFyIHN1bW1hcnkgPSBfdGhpcy5wcm9wcy5zdW07XG4gICAgICAgIHZhciBpbnRlbnRUeXBlID0gX3RoaXMucHJvcHMuaW50ZW50VHlwZTtcbiAgICAgICAgdmFyIGV4dHJhY3RlZEFtb3VudCA9IHZvaWQgMDtcbiAgICAgICAgLy8gbGV0IG5vT2ZJbnZvaWNlcyA9IDA7XG4gICAgICAgIGlmIChpbnRlbnRUeXBlID09IFwiUDJQXCIpIHtcbiAgICAgICAgICAgIHZhciBleHRyYWN0ZWREYXRhID0gc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKFAyUFJlZ2V4KTtcbiAgICAgICAgICAgIGV4dHJhY3RlZEFtb3VudCA9IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pO1xuXG4gICAgICAgICAgICBpZiAoIWV4dHJhY3RlZEFtb3VudCkge1xuICAgICAgICAgICAgICAgIGV4dHJhY3RlZEFtb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub09mSW52b2ljZXMgPSBleHRyYWN0ZWREYXRhWzJdID8gZXh0cmFjdGVkRGF0YVsyXS5tYXRjaCgvWzAtOV17MSx9LykgOiAwO1xuXG4gICAgICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xuICAgICAgICAgICAgLy8gICAgIG5vT2ZJbnZvaWNlcyA9IDA7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW52b2ljZUNoZWNrc01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdmFyIGludm9pY2VzID0gX3RoaXMucHJvcHMuY29ycmVjdEludm9pY2VzO1xuICAgICAgICBpZiAoaW52b2ljZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW52b2ljZSA9IGludm9pY2VzW2ldO1xuXG4gICAgICAgICAgICAgICAgaW52b2ljZUNoZWNrc01hcC5zZXQoaW52b2ljZS5pZC50b1N0cmluZygpLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW50ZW50VHlwZSA9PSBcIkRpc3B1dGVcIikge1xuICAgICAgICAgICAgdmFyIF9leHRyYWN0ZWREYXRhID0gc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKGRpc3B1dGVSZWdleCk7XG4gICAgICAgICAgICAvLyBub09mSW52b2ljZXMgPSBleHRyYWN0ZWREYXRhWzBdID8gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9LykgOiAwO1xuXG4gICAgICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xuICAgICAgICAgICAgLy8gICAgIG5vT2ZJbnZvaWNlcyA9IDA7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIHZhciByZWFzb25Db2RlID0gX2V4dHJhY3RlZERhdGFbMV0gPyBfZXh0cmFjdGVkRGF0YVsxXS5zdWJzdHJpbmcoMTEpIDogXCJHZW5lcmFsIERpc3B1dGVcIjtcblxuICAgICAgICAgICAgaWYgKCFyZWFzb25Db2RlKSB7XG4gICAgICAgICAgICAgICAgcmVhc29uQ29kZSA9IFwiR2VuZXJhbCBEaXNwdXRlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGFsbEludm9pY2VzU2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogaW52b2ljZUNoZWNrc01hcCxcbiAgICAgICAgICAgIHRvdGFsQW1vdW50OiBleHRyYWN0ZWRBbW91bnQsXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IF90aGlzLnByb3BzLmludm9pY2VDb3VudCxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogX3RoaXMucHJvcHMuY29ycmVjdEludm9pY2VzLFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBfdGhpcy5wcm9wcy5jb3JyZWN0SW52b2ljZXNNYXAsXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBfdGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnLFxuICAgICAgICAgICAgaXNNZXNzYWdlRGlhbG9nT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBvcGVuQWRkSW52b2ljZU1vZGFsOiBmYWxzZSxcbiAgICAgICAgICAgIGludm9pY2VzOiBfdGhpcy5wcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBfdGhpcy5wcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGV4ZWN1dGVBcHBlbmRJbnZvaWNlOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvLyBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIC8vICAgICAvLyB0aGlzLnNldFN0YXRlKHtjb3JyZWN0SW52b2ljZXM6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXN9KTtcbiAgICAvLyAgICAgLy8gIHRoaXMuc2V0U3RhdGUoe2NvcnJlY3RJbnZvaWNlczogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlcyxjb3JyZWN0SW52b2ljZXNNYXA6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXNNYXB9KVxuXG4gICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoe2NvcnJlY3RJbnZvaWNlczogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlcywgY29ycmVjdEludm9pY2VzTWFwOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzTWFwfSk7XG4gICAgLy8gfVxuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQWN0aW9uRGV0YWlscywgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG5cblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgd2lkdGg6ICcxMDAlJyB9IH0sXG4gICAgICAgICAgICAgICAgIXRoaXMucHJvcHMuZG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX01vZGFsMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsbGVkYnknOiAnc2ltcGxlLW1vZGFsLXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdzaW1wbGUtbW9kYWwtZGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbkFkZEludm9pY2VNb2RhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlQWRkSW52b2ljZU1vZGFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogZ2V0TW9kYWxTdHlsZSh0aGVtZSksIGNsYXNzTmFtZTogY2xhc3Nlcy5wYXBlciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIxMDAlXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW06IFwiY2VudGVyXCIsIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgICMzOTVDNzMgXCIsIHBhZGRpbmc6IFwiLjJyZW0gMCAuNnJlbSAwXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgbWFyZ2luTGVmdDogXCIxcmVtXCIsIGZvbnRTaXplOiBcIjEuM3JlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNjUgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NlbGVjdCBhbmQgQWRkIEludm9pY2VzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xlYXIyLmRlZmF1bHQsIHsgb25DbGljazogdGhpcy5jbG9zZUFkZEludm9pY2VNb2RhbCwgc3R5bGU6IHsgcG9zaXRpb246IFwiZml4ZWRcIiwgcmlnaHQ6IFwiNSVcIiwgb3BhY2l0eTogMC42NSwgY3Vyc29yOiBcInBvaW50ZXJcIiwgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EdWVEZXRhaWwyLmRlZmF1bHQsIHsgc2V0U2VsZWN0ZWRJbnZvaWNlczogdGhpcy5zZXRTZWxlY3RlZEludm9pY2VzLCBwb3N0Q2FsbDogdHJ1ZSwgYXBwZW5kSW52b2ljZXM6IHRoaXMuYXBwZW5kSW52b2ljZXMsIGZpbHRlckludm9pY2VzOiB0aGlzLmZpbHRlckludm9pY2VzLCBidWNrZXROYW1lczogdGhpcy5wcm9wcy5idWNrZXROYW1lcywgaW52b2ljZXM6IHRoaXMuc3RhdGUuaW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDogdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgeHM6IDEyLCBqdXN0aWZ5OiAnZmxleC1lbmQnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgc3R5bGU6IHsgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCAjMzk1QzczXCIsIHBhZGRpbmdUb3A6IFwiLjZyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFyaWFudDogJ2NvbnRhaW5lZCcsIGNvbG9yOiAnc2Vjb25kYXJ5JywgY2xhc3NOYW1lOiBjbGFzc2VzLmJ1dHRvbiwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hcHBlbmRJbnZvaWNlcyhfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NhdmUgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlSGVhZGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIHBhZGRpbmdUb3A6IFwiMC41cmVtXCIsIHBhZGRpbmdCb3R0b206IFwiMC41cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sIHBhZGRpbmdSaWdodDogXCIxLjU2dndcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBzdHlsZTogeyBwYWRkaW5nOiAnMHB4JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQWxsU2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucHJpbWFyeVRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHhBMFNlbGVjdCBhbGwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB2YXJpYW50OiAnb3V0bGluZWQnLCBjb2xvcjogJ3NlY29uZGFyeScsIHNpemU6ICdzbWFsbCcsIHN0eWxlOiB7IGhlaWdodDogXCI0LjQ0dmhcIiwgcGFkZGluZ0xlZnQ6IFwiMC42NjZyZW1cIiwgcGFkZGluZ1JpZ2h0OiBcIjAuNjY2cmVtXCIgfSwgb25DbGljazogdGhpcy5vcGVuQWRkSW52b2ljZU1vZGFsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpbkxlZnQ6ICc0cHgnLCBtYXJnaW5SaWdodDogJzRweCcsIGZvbnRTaXplOiAnLjg5cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTZWxlY3QgSW52b2ljZXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB2YXJpYW50OiAnb3V0bGluZWQnLCBjb2xvcjogJ3NlY29uZGFyeScsIHNpemU6ICdzbWFsbCcsIHN0eWxlOiB7IGhlaWdodDogXCI0LjQ0dmhcIiwgbWFyZ2luTGVmdDogXCIxcmVtXCIsIHBhZGRpbmc6IFwiMCAwLjY2NnJlbVwiIH0sIG9uQ2xpY2s6IHRoaXMuZGVsZXRlQWxsU2VsZWN0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFkZEljb24gfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpbkxlZnQ6ICc0cHgnLCBmb250U2l6ZTogJy44OXJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUmVtb3ZlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmludm9pY2VMaXN0IH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jb3JyZWN0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5wcmltYXJ5VGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDEgPyBcIkludm9pY2VzIFwiIDogXCJJbnZvaWNlIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuaW50ZW50VHlwZSA9PSBcIlAyUFwiIHx8IHRoaXMucHJvcHMuaW50ZW50VHlwZSA9PSBcIkRpc3B1dGVcIikgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBvcGFjaXR5OiAwLjUgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLnByaW1hcnlUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xceEEwKCQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQW1vdW50KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Vycm9yMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5lcnJvckZsYWcgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jb3JyZWN0aW9uQWxlcnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NvcnJlY3Rpb24gUmVxdWlyZWQoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubGVuZ3RoIC0gT2JqZWN0LmtleXModGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkTGlzdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2VsbEhlaWdodDogXCJhdXRvXCIsIGNsYXNzTmFtZTogY2xhc3Nlcy5ncmlkTGlzdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubWFwKGZ1bmN0aW9uIChpbnZvaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZExpc3RUaWxlMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbHM6IDEsIGtleTogaW52b2ljZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGhlaWdodDogJ2F1dG8nLCB3aWR0aDogJzE2dncnLCBtYXJnaW46ICcwLjRyZW0nIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBpbnZvaWNlLmlkIGluIF90aGlzMi5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAgPyBfdGhpczIuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCBfdGhpczIuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCA/ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5zZWxlY3RlZEdyaWRMaXN0RGl2LCBjbGFzc2VzLmdyaWRMaXN0RGl2KSA6IGNsYXNzZXMuZ3JpZExpc3REaXYgOiBjbGFzc2VzLmluY29ycmVjdERpdiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIV90aGlzMi5wcm9wcy5kb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBzdHlsZTogeyBwYWRkaW5nOiAnMnB4JywgbGVmdDogXCIzJVwiLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhKGludm9pY2UuaWQgaW4gX3RoaXMyLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogX3RoaXMyLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgfHwgX3RoaXMyLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi50b2dnbGVDaGVja2JveChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLCBtYXJnaW5MZWZ0OiAnMXZ3JyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogXCIuODlyZW1cIiwgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAwLjUsIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLmRvY3VtZW50TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiAnMS4xNTZyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuaWQgaW4gX3RoaXMyLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCA/ICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCkgOiBcIi0tLS1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhX3RoaXMyLnByb3BzLmRvbmUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxGYWIgdmFyaWFudD1cImNvbnRhaW5lZFwiIHNpemU9J3NtYWxsJyAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb3NlMi5kZWZhdWx0LCB7IHN0eWxlOiB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHJpZ2h0OiBcIjEwJVwiLCB0b3A6IFwiMjclXCIsIHdpZHRoOiBcImNhbGMoLjh2aCArIC44dncpXCIsIGhlaWdodDogXCJjYWxjKC44dmggKyAuOHZ3KVwiIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5hZGRJY29uLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZGVsZXRlSW52b2ljZShpbnZvaWNlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8L0ZhYj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfRGlhbG9nMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLmlzTWVzc2FnZURpYWxvZ09wZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmhhbmRsZU1lc3NhZ2VEaWFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogJ3Jlc3BvbnNpdmUtZGlhbG9nLXRpdGxlJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9EaWFsb2dUaXRsZTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdyZXNwb25zaXZlLWRpYWxvZy10aXRsZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfRGlhbG9nQWN0aW9uczIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nLCBjb2xvcjogJ2RlZmF1bHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBY3Rpb25EZXRhaWxzO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdGhpcy5zZXRTZWxlY3RlZEludm9pY2VzID0gZnVuY3Rpb24gKGludm9pY2VzKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IGludm9pY2VzIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzID0gX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzQ291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpIGluIHNlbGVjdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzW2ldID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyknO1xuICAgIH07XG5cbiAgICB0aGlzLmZpbHRlckludm9pY2VzID0gZnVuY3Rpb24gKGludm9pY2VUeXBlKSB7XG4gICAgICAgIGlmIChpbnZvaWNlVHlwZSA9PSBcIkFsbFwiKSBfdGhpczMuc2V0U3RhdGUoeyBpbnZvaWNlczogX3RoaXMzLnN0YXRlLmFsbEludm9pY2VzIH0pO2Vsc2Uge1xuICAgICAgICAgICAgdmFyIGludm9pY2VzID0gX3RoaXMzLnN0YXRlLmFsbEludm9pY2VzO1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkSW52b2ljZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEFycmF5ID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbnZvaWNlc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJEaXNwdXRlXCIgJiYgaW52b2ljZXNbaV1bal0uZGlzcHV0ZVN0YXR1cyAhPSBudWxsKSB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSk7ZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJQcmVkaWN0ZWQgRGVsaW5xdWVudFwiICYmIGludm9pY2VzW2ldW2pdLnAycERlbGlucXVlbnQgPT0gdHJ1ZSkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO2Vsc2UgaWYgKGludm9pY2VUeXBlID09IFwiVXBjb21pbmcgUDJQXCIgJiYgaW52b2ljZXNbaV1bal0ucDJwVXBjb21pbmcgPT0gdHJ1ZSkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO2Vsc2UgaWYgKGludm9pY2VUeXBlID09IFwiQnJva2VuIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycEJyb2tlbiA9PSB0cnVlKSB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbHRlcmVkSW52b2ljZXMucHVzaCh0ZW1wQXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW52b2ljZXM6IGZpbHRlcmVkSW52b2ljZXMgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy50b2dnbGVDaGVja2JveCA9IGZ1bmN0aW9uIChpZCkge1xuXG4gICAgICAgIHZhciBjaGVja2VkID0gX3RoaXMzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGlkKTtcbiAgICAgICAgdmFyIHVwZGF0ZWRDaGVja2JveE1hcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xuICAgICAgICB1cGRhdGVkQ2hlY2tib3hNYXAuc2V0KGlkLCAhY2hlY2tlZCk7XG4gICAgICAgIHZhciBmbGFnID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW52b2ljZXNDaGVja2JveE1hcDogdXBkYXRlZENoZWNrYm94TWFwIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHVwZGF0ZWRDaGVja2JveE1hcC5rZXlzKClbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnZvaWNlS2V5ID0gX3N0ZXAudmFsdWU7XG5cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZWRDaGVja2JveE1hcC5nZXQoaW52b2ljZUtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgYWxsSW52b2ljZXNTZWxlY3RlZDogZmxhZyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZGVsZXRlSW52b2ljZSA9IGZ1bmN0aW9uIChpbnZvaWNlTnVtYmVyKSB7XG5cbiAgICAgICAgdmFyIHRlbXAgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0ZW1wKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09IGludm9pY2VOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGVtcFtrZXldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoZWNrYm94TWFwID0gX3RoaXMzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XG4gICAgICAgIGNoZWNrYm94TWFwLmRlbGV0ZShpbnZvaWNlTnVtYmVyKTtcbiAgICAgICAgLy8gZm9yIChsZXQga2V5IG9mIGNoZWNrYm94TWFwKSB7XG5cbiAgICAgICAgLy8gICAgIGlmIChrZXkgPT0gTnVtYmVyKGludm9pY2VOdW1iZXIpKSB7XG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgICAgLy8gICAgICAgICBjaGVja2JveE1hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG5cbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IGNoZWNrYm94TWFwLFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLmZpbHRlcihmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnZvaWNlLmlkICE9IGludm9pY2VOdW1iZXI7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogdGVtcFxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczMudXBkYXRlSW52b2ljZXNUaGluZ3MoaW52b2ljZU51bWJlcik7X3RoaXMzLnByb3BzLnVwZGF0ZUludm9pY2VzKF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsIHRlbXApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVBbGxTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnZvaWNlTWFwID0gX3RoaXMzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XG5cbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWxsSW52b2ljZXNTZWxlY3RlZDogIXByZXZTdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gaW52b2ljZU1hcC5rZXlzKClbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludm9pY2VLZXkgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaW52b2ljZU1hcC5zZXQoaW52b2ljZUtleSwgX3RoaXMzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpbnZvaWNlQ2hlY2tzTWFwOiBpbnZvaWNlTWFwIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5kZWxldGVBbGxTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIHRvRGVsZXRlSW52b2ljZXMgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLmZpbHRlcihmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpID09IHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0b0RlbGV0ZUludm9pY2VzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpc01lc3NhZ2VEaWFsb2dPcGVuOiB0cnVlIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVwZGF0ZWRJbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuZmlsdGVyKGZ1bmN0aW9uIChpbnZvaWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgPT0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBpbnZvaWNlc0NoZWNrYm94TWFwID0gX3RoaXMzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XG4gICAgICAgIHZhciBpbnZvaWNlTWFwID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGludm9pY2VMZW5ndGggPSB1cGRhdGVkSW52b2ljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgYWxsU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRvRGVsZXRlSW52b2ljZXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gdG9EZWxldGVJbnZvaWNlc1tpXS5pZC50b1N0cmluZygpO1xuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIGRlbGV0ZSBpbnZvaWNlTWFwW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB1cGRhdGVkSW52b2ljZXMsXG4gICAgICAgICAgICAvLyBpbnZvaWNlQ291bnQ6IHVwZGF0ZWRJbnZvaWNlcy5sZW5ndGgsXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBpbnZvaWNlc0NoZWNrYm94TWFwLFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBpbnZvaWNlTWFwLFxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiBpbnZvaWNlTGVuZ3RoXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBpbnZvaWNlTGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludm9pY2UgPSB1cGRhdGVkSW52b2ljZXNbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBfa2V5ID0gaW52b2ljZS5pZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGlmICghKF9rZXkgaW4gaW52b2ljZU1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgaW52b2ljZUxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgX2ludm9pY2UgPSB1cGRhdGVkSW52b2ljZXNbX2kyXTtcbiAgICAgICAgICAgICAgICB2YXIgX2tleTIgPSBfaW52b2ljZS5pZC50b1N0cmluZygpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpbnZvaWNlc0NoZWNrYm94TWFwLmdldChfa2V5MikpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpbmNvcnJlY3RGbGFnOiBmbGFnLCBhbGxJbnZvaWNlc1NlbGVjdGVkOiBhbGxTZWxlY3RlZCB9KTtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5vblVwZGF0ZUludm9pY2UoZmxhZywgaW52b2ljZUxlbmd0aCk7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMudXBkYXRlSW52b2ljZXMoX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcywgX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZU1lc3NhZ2VEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlzTWVzc2FnZURpYWxvZ09wZW46ICFwcmV2U3RhdGUuaXNNZXNzYWdlRGlhbG9nT3BlblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlbkFkZEludm9pY2VNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkFkZEludm9pY2VNb2RhbDogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZUFkZEludm9pY2VNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuYXBwZW5kSW52b2ljZXMgPSBmdW5jdGlvbiAoaW52b2ljZXMpIHtcbiAgICAgICAgdmFyIHRlbXBNYXAgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwO1xuICAgICAgICB2YXIgdGVtcEludm9pY2VzID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5zbGljZSgwKTtcbiAgICAgICAgdmFyIHRlbXBDaGVja2JveEludm9pY2VNYXAgPSBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcFtfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzW2ldLmlkXSkge1xuICAgICAgICAgICAgICAgIHRlbXBJbnZvaWNlcy5zcGxpY2UodGVtcEludm9pY2VzLmluZGV4T2YoX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXSksIDEpO1xuICAgICAgICAgICAgICAgIHRlbXBDaGVja2JveEludm9pY2VNYXAuZGVsZXRlKF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNbaV0uaWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgY29ycmVjdEludm9pY2VzOiB0ZW1wSW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDoge30sIGludm9pY2VzQ2hlY2tib3hNYXA6IHRlbXBDaGVja2JveEludm9pY2VNYXAgfSk7XG4gICAgICAgIHRlbXBNYXAgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gaW52b2ljZXMpIHtcbiAgICAgICAgICAgIGlmIChpbnZvaWNlc1trZXldID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgX3RoaXMzLnByb3BzLmludm9pY2VzLmxlbmd0aDsgcCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGFnKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcSA9IDA7IHEgPCBfdGhpczMucHJvcHMuaW52b2ljZXNbcF0ubGVuZ3RoOyBxKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMucHJvcHMuaW52b2ljZXNbcF1bcV0uaWQgPT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEludm9pY2VzLnB1c2goX3RoaXMzLnByb3BzLmludm9pY2VzW3BdW3FdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZW1wTWFwW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW52b2ljZXMpIHtcbiAgICAgICAgICAgIHZhciBpbnZvaWNlc0NoZWNrYm94TWFwID0gX3RoaXMzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9rZXkzIGluIGludm9pY2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGludm9pY2VzW19rZXkzXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXAuc2V0KF9rZXkzLnRvU3RyaW5nKCksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGludm9pY2VzQ2hlY2tib3hNYXA6IGludm9pY2VzQ2hlY2tib3hNYXAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBjb3JyZWN0SW52b2ljZXM6IHRlbXBJbnZvaWNlcywgY29ycmVjdEludm9pY2VzTWFwOiB0ZW1wTWFwLCBpbnZvaWNlQ291bnQ6IHRlbXBJbnZvaWNlcy5sZW5ndGggfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLnVwZGF0ZUludm9pY2VzKF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsIHRlbXBNYXApO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMzLnByb3BzLm9uVXBkYXRlSW52b2ljZShfdGhpczMuc3RhdGUuaW5jb3JyZWN0RmxhZywgdGVtcEludm9pY2VzLmxlbmd0aCk7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BZGRJbnZvaWNlTW9kYWw6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZUludm9pY2VzVGhpbmdzID0gZnVuY3Rpb24gKGludm9pY2VOdW1iZXIpIHtcblxuICAgICAgICB2YXIgaW52b2ljZU1hcCA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXA7XG4gICAgICAgIC8vIGxldCBhbGxJbnZvaWNlc0xpc3QgPSB0aGlzLnByb3BzLmFsbEludm9pY2VzTGlzdDtcbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGludm9pY2VzID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcztcbiAgICAgICAgdmFyIGludm9pY2VMZW5ndGggPSBpbnZvaWNlcy5sZW5ndGg7XG4gICAgICAgIGRlbGV0ZSBpbnZvaWNlTWFwW2ludm9pY2VOdW1iZXJdO1xuXG4gICAgICAgIGlmIChpbnZvaWNlTGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGluY29ycmVjdEZsYWc6IGZhbHNlLCBpbnZvaWNlQ291bnQ6IDAgfSk7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZhbHNlLCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBpbnZvaWNlTWFwW2ludm9pY2VOdW1iZXJdO1xuXG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGNvcnJlY3RJbnZvaWNlc01hcDogaW52b2ljZU1hcCB9LCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludm9pY2UgPSBpbnZvaWNlc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmICghKGludm9pY2UuaWQgaW4gaW52b2ljZU1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmxhZywgaW52b2ljZUNvdW50OiBpbnZvaWNlTGVuZ3RoIH0pO1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9uVXBkYXRlSW52b2ljZShmbGFnLCBpbnZvaWNlTGVuZ3RoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2FsY3VsYXRlQW1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYW1vdW50ID0gMDtcbiAgICAgICAgdmFyIGNvcnJlY3RJbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXM7XG4gICAgICAgIGZvciAodmFyIGkgaW4gY29ycmVjdEludm9pY2VzKSB7XG4gICAgICAgICAgICBhbW91bnQgKz0gY29ycmVjdEludm9pY2VzW2ldLmlkIGluIF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAgPyBjb3JyZWN0SW52b2ljZXNbaV0uY3VycmVudE9wZW5BbW91bnQgOiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbW91bnQgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBfaGVscGVyLmZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCkoYW1vdW50KTtcbiAgICB9O1xufTtcblxuQWN0aW9uRGV0YWlscy5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuLy8gZXhwb3J0IGZ1bmN0aW9uIGdldEludm9pY2VzKCkge1xuXG4vLyAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMpO1xuXG4vLyAgICAgbGV0IGRvY3VtZW50TnVtYmVycyA9IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLm1hcChpbnZvaWNlID0+IHtcbi8vICAgICAgICAgcmV0dXJuIGludm9pY2UuZG9jdW1lbnROdW1iZXI7XG4vLyAgICAgfSk7XG5cbi8vICAgICBjb25zb2xlLmxvZyhcIkRPQ1VcIiwgZG9jdW1lbnROdW1iZXJzKTtcblxuLy8gICAgIHJldHVybiBkb2N1bWVudE51bWJlcnM7XG4vLyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoQWN0aW9uRGV0YWlscyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTAxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX2Zvcm1hdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0NoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjEpO1xuXG52YXIgX0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrYm94KTtcblxudmFyIF9HcmlkTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzIyKTtcblxudmFyIF9HcmlkTGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkTGlzdCk7XG5cbnZhciBfR3JpZExpc3RUaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjMpO1xuXG52YXIgX0dyaWRMaXN0VGlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkTGlzdFRpbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuXG4gICAgICAgIGdyaWRMaXN0OiB7XG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgbWFyZ2luOiAnMCAtMnB4IC0ycHggLTJweCAhaW1wb3J0YW50JyxcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgICAgIH0sXG4gICAgICAgIGdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiNy40MHZoXCIsXG4gICAgICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAxcHhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzOTU4NkZcIlxuICAgICAgICB9LFxuICAgICAgICBncmlkTGlzdFRpbGU6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCJhdXRvICFpbXBvcnRhbnRcIlxuICAgICAgICB9XG5cbiAgICB9O1xufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBuZXcgTWFwKCksXG4gICAgY29ycmVjdEludm9pY2VzTWFwOiB7fSxcbiAgICBzZWxlY3RlZEludm9pY2VzOiBbXSxcbiAgICBpbnZvaWNlczogW10sXG4gICAgZG9uZTogdHJ1ZSxcbiAgICBpbkludm9pY2VUYWJsZTogZmFsc2Vcbn07XG5cbnZhciBMaXN0T2ZUaWxlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoTGlzdE9mVGlsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBMaXN0T2ZUaWxlKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0T2ZUaWxlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTGlzdE9mVGlsZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExpc3RPZlRpbGUpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuYWRkSW52b2ljZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMuYWRkSW52b2ljZShpZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZSA9IGZ1bmN0aW9uIChjb3JyZWN0SW52b2ljZXNNYXAsIGludm9pY2VzQ2hlY2tib3hNYXAsIGlkLCBzZWxlY3RlZEludm9pY2VzKSB7XG4gICAgICAgICAgICBpZiAoIShpbnZvaWNlLmlkIGluIF90aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCkpIHJldHVybiBjbGFzc2VzLmluY29ycmVjdERpdjtcbiAgICAgICAgICAgIGlmIChpbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IF90aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaW52b2ljZS5pZF0pIHJldHVybiBjbGFzc2VzLnNlbGVjdGVkR3JpZExpc3REaXY7XG4gICAgICAgICAgICByZXR1cm4gY2xhc3Nlcy5ncmlkTGlzdERpdjtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGludm9pY2VzOiBfdGhpcy5wcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IF90aGlzLnByb3BzLnNlbGVjdGVkSW52b2ljZXMsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IF90aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcbiAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IF90aGlzLnByb3BzLmludm9pY2VzQ2hlY2tib3hNYXBcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKExpc3RPZlRpbGUsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGludm9pY2VzOiBuZXh0UHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlczogbmV4dFByb3BzLnNlbGVjdGVkSW52b2ljZXMsXG4gICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IG5leHRQcm9wcy5pbnZvaWNlc0NoZWNrYm94TWFwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcblxuICAgICAgICAvL1JlbmRlciBmdW5jdGlvbiBcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfR3JpZExpc3QyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBjZWxsSGVpZ2h0OiBcImF1dG9cIiwgY2xhc3NOYW1lOiBjbGFzc2VzLmdyaWRMaXN0IH0sXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubWFwKGZ1bmN0aW9uIChpbnZvaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkTGlzdFRpbGUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNvbHM6IDEsIGtleTogaW52b2ljZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxNnZ3JywgbWFyZ2luOiAnMC40cmVtJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogX3RoaXMyLmdldENsYXNzT2ZHcmlkTGlzdFRpbGUoX3RoaXMyLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCwgX3RoaXMyLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAsIGludm9pY2UuaWQsIF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFfdGhpczIucHJvcHMuZG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgc3R5bGU6IHsgcGFkZGluZzogJzJweCcsIGxlZnQ6IFwiMyVcIiwgYWxpZ25JdGVtczogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIShpbnZvaWNlLmlkIGluIF90aGlzMi5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBfdGhpczIuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCBfdGhpczIuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudG9nZ2xlQ2hlY2tib3goaW52b2ljZS5pZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLCBtYXJnaW5MZWZ0OiAnMXZ3JyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogXCIuODlyZW1cIiwgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAwLjUsIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kb2N1bWVudE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6ICcxLjE1NnJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLmlkIGluIF90aGlzMi5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAgPyAoMCwgX2Zvcm1hdHRlci5mb3JtYXR0ZXIpKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpIDogXCItLS0tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIShfdGhpczIucHJvcHMuaW5JbnZvaWNlVGFibGUgfHwgX3RoaXMyLnByb3BzLmRvbmUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPEZhYiB2YXJpYW50PVwiY29udGFpbmVkXCIgc2l6ZT0nc21hbGwnICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ2xvc2UsIHsgc3R5bGU6IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgcmlnaHQ6IFwiMTAlXCIsIHRvcDogXCIyNyVcIiwgd2lkdGg6IFwiY2FsYyguOHZoICsgLjh2dylcIiwgaGVpZ2h0OiBcImNhbGMoLjh2aCArIC44dncpXCIgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmFkZEljb24sIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZGVsZXRlSW52b2ljZShpbnZvaWNlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwvRmFiPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTGlzdE9mVGlsZTtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkxpc3RPZlRpbGUuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKExpc3RPZlRpbGUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwMjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9jb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfSW5mbyA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xuXG52YXIgX0luZm8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5mbyk7XG5cbnZhciBfRW1haWxCb3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMDMpO1xuXG52YXIgX0VtYWlsQm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VtYWlsQm94KTtcblxudmFyIF9jb21iaW5lU3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cbnZhciBfY29tYmluZVN0eWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lU3R5bGVzKTtcblxudmFyIF9iYXNlU3R5bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblxudmFyIF9iYXNlU3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFzZVN0eWxlKTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ2xhc3MgTmFtZSBUQkRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBUZW1wb3JhcnkgcGFya2luZyBhcyBGaW5hbC5qc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuXG4gICAgICAgIHN1bW1hcnlOb3Rlc0JveDoge1xuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjkwdmhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlOb3RlaXRlbXM6IHtcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIxZW1cIixcbiAgICAgICAgICAgIHdvcmRCcmVhazogXCJicmVhay13b3JkXCIsXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjc1LjV2aFwiXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlOb3Rlc0hlYWRlcjoge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiMS4wNjY2cmVtXCIsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgcGFkZGluZ1RvcDogXCIyLjIydmhcIixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjEuMDI2dndcIixcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1XG4gICAgICAgIH0sXG4gICAgICAgIG5vdGVzTGlzdDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMFwiLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIxLjdyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlbXB0eVN1bW1hcnlUZXh0OiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZW1wdHlTdW1tYXJ5R3JpZDoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjE1dmhcIixcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcbiAgICAgICAgICAgIHdvcmRCcmVhazogXCJicmVhay13b3JkXCJcbiAgICAgICAgfSxcbiAgICAgICAgd2FybmluZ0xpbmU6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi44ZW1cIixcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiMC42NVwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIi41dndcIlxuICAgICAgICB9LFxuICAgICAgICBoaWRlT3ZlcmZsb3c6IHtcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb250YWN0SW5kZXg6IG51bGwsXG4gICAgY3VzdG9tZXI6IHt9LFxuICAgIGludm9pY2VMaXN0OiBbXSxcbiAgICBzdW1tYXJ5Tm90ZXM6IFwiXCIsXG4gICAgbmV4dEN1c3RvbWVyVXJsOiBudWxsLFxuICAgIHRvQ2FsbEN1c3RvbWVyczogbnVsbCxcbiAgICBjb2xsZWN0b3I6IHt9LFxuICAgIG5vbkFjdGlvbkluY2x1ZGVkOiBmYWxzZVxufTtcblxudmFyIHByb3BUeXBlcyA9IHtcbiAgICBjb250YWN0SW5kZXg6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICAgIGN1c3RvbWVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgICBpbnZvaWNlTGlzdDogX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheSxcbiAgICBzdW1tYXJ5Tm90ZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAgIG5leHRDdXN0b21lclVybDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gICAgdG9DYWxsQ3VzdG9tZXJzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgICBjb2xsZWN0b3I6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbm9uQWN0aW9uSW5jbHVkZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbFxufTtcblxudmFyIEZpbmFsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRmluYWwsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRmluYWwocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbmFsKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRmluYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGaW5hbCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5zZXREZWZhdWx0RW1haWxJZENoaXBzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRhY3RJbmRleCA9IF90aGlzLnByb3BzLmNvbnRhY3RJbmRleDtcbiAgICAgICAgICAgIHZhciBjb250YWN0cyA9IFtdO1xuICAgICAgICAgICAgaWYgKGNvbnRhY3RJbmRleCAhPSBudWxsICYmIF90aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZmlyc3ROYW1lICE9PSBcIlVubmFtZWRcIiAmJiBfdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmxhc3ROYW1lICE9PSBcIlVubmFtZWRcIikge1xuICAgICAgICAgICAgICAgIHZhciBmdWxsTmFtZSA9IF90aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZmlyc3ROYW1lICsgXCIgXCIgKyBfdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmxhc3ROYW1lO1xuXG4gICAgICAgICAgICAgICAgY29udGFjdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbElkOiBfdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkRW1haWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGlzRWRpdGluZzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxJZENoaXBzOiBjb250YWN0cyB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIC8vIGxvYWRpbmc6IHRydWUsICAgICAgICAgXG4gICAgICAgICAgICBlbWFpbElkQ2hpcHM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIC8vdW5jb21tZW50IHdoZW4geW91IHJlcXVpcmUgZW1haWwgdGVtcGxhdGVzXG4gICAgICAgIC8vZ2V0IGVtYWlsIFRlbXBsYXRlc1xuICAgICAgICAvLyBjb3JyZXNwb25kZW5jZVNlcnZpY2UuZ2V0RW1haWxUZW1wbGF0ZXMoKVxuICAgICAgICAvLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAvLyAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgLy8gICAgICAgICBhcnIgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlczogYXJyIH0sICgpID0+IHtcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggIT0gMCkge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVOYW1lOiBhcnJbMF0ubmFtZSB9KTtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlU3ViamVjdDogYXJyWzBdLnN1YmplY3QgfSk7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZUJvZHk6IGFyclswXS5ib2R5IH0pO1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRlbXBsYXRlSWQ6IGFyclswXS5pZCB9KTtcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSlcbiAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgLy8gICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgaW4gZmV0Y2hpbmcgdGVtcGxhdGVzXCIpO1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlczogW10gfSwgKCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSlcbiAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAvLyAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlTmFtZTogXCJObyBUZW1wbGF0ZXMhXCIgfSk7XG4gICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhGaW5hbCwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnNldERlZmF1bHRFbWFpbElkQ2hpcHMoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGN1c3RvbWVyID0gX3Byb3BzLmN1c3RvbWVyLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXMgPSBfcHJvcHMuc3VtbWFyeU5vdGVzLFxuICAgICAgICAgICAgICAgIHRoZW1lID0gX3Byb3BzLnRoZW1lO1xuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIxMDAlXCIgfSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTIsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBwYWRkaW5nOiBcIjBweCA4cHggOHB4IDhweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogNSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMTIsIGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5Tm90ZXNCb3ggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5Tm90ZXNIZWFkZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTVU1NQVJZIE5PVEVTJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbXM6IHRydWUsIGlkOiAnc3VtbWFyeU5vdGVpdGVtcycsIGNsYXNzTmFtZTogIXN1bW1hcnlOb3RlcyB8fCBzdW1tYXJ5Tm90ZXMubGVuZ3RoID09IDAgPyAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1wdHlTdW1tYXJ5R3JpZCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSA6IGNsYXNzZXMuc3VtbWFyeU5vdGVpdGVtcyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIXN1bW1hcnlOb3RlcyB8fCBzdW1tYXJ5Tm90ZXMubGVuZ3RoID09IDApICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy53YXJuaW5nTGluZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0luZm8yLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmljb24gfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuZW1wdHlTdW1tYXJ5VGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGVyZSBpcyBubyBzdW1tYXJ5IG5vdGVzICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzICYmICFzdW1tYXJ5Tm90ZXMubGVuZ3RoID09IDAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMubm90ZXNMaXN0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXMubWFwKGZ1bmN0aW9uIChub3RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMSwgZm9udFNpemU6IFwiMC44ODg4ODg4ODg4OHJlbVwiLCBtYXJnaW5Cb3R0b206IFwiMC44ODhyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDcsIHN0eWxlOiB7IHBhZGRpbmdMZWZ0OiBcIjEuMDQxdndcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRW1haWxCb3gyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXM6IHN1bW1hcnlOb3RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0b3I6IHRoaXMucHJvcHMuY29sbGVjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vbkFjdGlvbkluY2x1ZGVkOiB0aGlzLnByb3BzLm5vbkFjdGlvbkluY2x1ZGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsSWRDaGlwczogdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWxBdHRhY2hlbWVudHM6IHRoaXMucHJvcHMuaW52b2ljZUxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEZpbmFsO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRmluYWwucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuRmluYWwuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG52YXIgY29tYmluZWRTdHlsZSA9ICgwLCBfY29tYmluZVN0eWxlczIuZGVmYXVsdCkoc3R5bGVzLCBfYmFzZVN0eWxlMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoRmluYWwpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwMzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9jb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblxudmFyIF9JbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dCk7XG5cbnZhciBfY29ycmVzcG9uZGVuY2VTZXJ2aWNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA0KTtcblxudmFyIF9DbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXG52YXIgX0Nsb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlKTtcblxudmFyIF9HcmlkTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzIyKTtcblxudmFyIF9HcmlkTGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkTGlzdCk7XG5cbnZhciBfR3JpZExpc3RUaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjMpO1xuXG52YXIgX0dyaWRMaXN0VGlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkTGlzdFRpbGUpO1xuXG52YXIgX0NoaXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0Myk7XG5cbnZhciBfQ2hpcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaGlwKTtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTY1KTtcblxudmFyIF9TbmFja2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2Jhcik7XG5cbnZhciBfSWNvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXG52YXIgX0ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvbkJ1dHRvbik7XG5cbnZhciBfZW1haWxIZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMDUpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN1bW1hcnlFbWFpbEhlYWRlcjoge1xuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlFbWFpbDoge1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgbWFyZ2luVG9wOiBcIi4xMjVyZW1cIixcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIxLjNyZW1cIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3OXZoXCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpblxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5RW1haWxGb3JtOiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAwLjVyZW0gMCAwLjVyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlbWFpbElkQ2hpcHNJbnB1dDoge1xuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjAuMDYyNXJlbSBzb2xpZCByZ2JhKDkzLCAxNzAsIDIyNCwgMC41KVwiXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsQWRkTGFiZWw6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjNlbVwiLFxuICAgICAgICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZW1haWxJZENoaXBzOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiMS40ZW1cIixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjE3NzdyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjE3NzdyZW1cIixcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuMmVtXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBcIiY+IHNwYW5cIjoge1xuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuM3JlbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJyY6aG92ZXIsICY6Zm9jdXMnOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJyY6YWN0aXZlJzoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnZhbGlkRW1haWxJZENoaXBzOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiMS40ZW1cIixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjE3NzdyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjE3NzdyZW1cIixcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuMmVtXCIsXG4gICAgICAgICAgICBcIiY+IHNwYW5cIjoge1xuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiLFxuICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuM3JlbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZjQ0NDRcIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgICcmOmhvdmVyLCAmOmZvY3VzJzoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjczODM4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnJjphY3RpdmUnOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNzM4MzhcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVFbWFpbElkOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjhlbVwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsSWRJbnB1dDoge1xuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4zMTI1cmVtXCIsXG4gICAgICAgICAgICB3aWR0aDogXCI5NSVcIixcbiAgICAgICAgICAgIHJlc2l6ZTogXCJob3Jpem9udGFsXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlbWFpbFN1YmplY3Q6IHtcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIwLjA2MjVyZW0gc29saWQgcmdiYSg5MywgMTcwLCAyMjQsIDAuNSlcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICAnJjo6cGxhY2Vob2xkZXInOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICcjYTdhN2E3J1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZFN1YmplY3RJbnB1dDoge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5RW1haWxCb2R5OiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiNjB2aFwiLFxuICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgIG92ZXJmbG93WDogXCJoaWRkZW5cIlxuICAgICAgICB9LFxuICAgICAgICBlbWFpbEJvZHlUZXh0OiB7XG4gICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUNvdW50OiB7XG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC44cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUF0dGFjaGVtZW50czoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwdmhcIlxuICAgICAgICB9LFxuICAgICAgICBncmlkTGlzdERpdjoge1xuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgYm9yZGVyOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluICsgXCIgc29saWQgMC4wNjI1cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiAnMC4yNXJlbScsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICcwLjI1cmVtJ1xuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5RW1haWxGb290ZXI6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjR2aFwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvdy1yZXZlcnNlXCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiAjMmM0MTRmO1wiXG4gICAgICAgIH0sXG4gICAgICAgIHNlbmRTdW1tYXJ5RW1haWxCdG46IHtcbiAgICAgICAgICAgIGhlaWdodDogJzJlbScsXG4gICAgICAgICAgICB3aWR0aDogJzZlbScsXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIxLjJyZW1cIixcbiAgICAgICAgICAgIGZvbnRTaXplOiAnc21hbGxlcicsXG4gICAgICAgICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVJY29uOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICB9LFxuICAgICAgICBub3Rlc0xpc3Q6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjBcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMS43cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgZW1wdHlTdW1tYXJ5VGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGVtcHR5U3VtbWFyeUdyaWQ6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCIxNXZoXCIsXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiBcInByZS1saW5lXCIsXG4gICAgICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiXG4gICAgICAgIH0sXG4gICAgICAgIHdhcm5pbmdMaW5lOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiA1MDAsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBmb250U2l6ZTogXCIuOGVtXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiBcIjAuNjVcIlxuICAgICAgICB9LFxuICAgICAgICBpY29uOiB7XG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIuNXZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgaGlkZU92ZXJmbG93OiB7XG4gICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gICAgc3VtbWFyeU5vdGVzOiBcIlwiLFxuICAgIGNvbGxlY3Rvcjoge30sXG4gICAgbm9uQWN0aW9uSW5jbHVkZWQ6IGZhbHNlLFxuICAgIGVtYWlsSWRDaGlwczogW10sXG4gICAgY3VzdG9tZXI6IHt9LFxuICAgIGVtYWlsQXR0YWNoZW1lbnRzOiBbXVxufTtcblxudmFyIHByb3BUeXBlcyA9IHtcbiAgICBzdW1tYXJ5Tm90ZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAgIGNvbGxlY3RvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBub25BY3Rpb25JbmNsdWRlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAgIGVtYWlsSWRDaGlwczogX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheSxcbiAgICBjdXN0b21lcjogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBlbWFpbEF0dGFjaGVtZW50czogX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheVxufTtcblxudmFyIEVtYWlsQm94ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRW1haWxCb3gsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRW1haWxCb3gocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVtYWlsQm94KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRW1haWxCb3guX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihFbWFpbEJveCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVUZW1wbGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlTmFtZTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBfdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlcztcblxuICAgICAgICAgICAgLy9jaGVjayBpZiBubyB0ZW1wbGF0ZSBpcyBzZWxlY3RlZFxuXG4gICAgICAgICAgICAvL3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAodGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcGxhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGVbaV0ubmFtZSA9PSBldmVudC50YXJnZXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlU3ViamVjdDogdGVtcGxhdGVbaV0uc3ViamVjdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlQm9keTogdGVtcGxhdGVbaV0uYm9keSB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB0ZW1wbGF0ZUlkOiB0ZW1wbGF0ZVtpXS5pZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmhhbmRsZUVtYWlsRW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICgoZXZlbnQudHlwZSA9PT0gJ2JsdXInIHx8IGV2ZW50LmtleSA9PT0gJ0VudGVyJykgJiYgZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKSkge1xuXG4gICAgICAgICAgICAgICAgLy9yZWd1bGFyIGV4cHJlc3Npb24gLSB0byBjaGVjayBAaG9zdC5kb21haW5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vdmFsaWRhdGUgdGhlIGVudGVyZWQgZW1haWwgaWRcbiAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZEVtYWlsID0gKDAsIF9lbWFpbEhlbHBlci52YWxpZGF0ZUVtYWlsKShldmVudC50YXJnZXQudmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVtYWlsQXJyID0gX3RoaXMuc3RhdGUuZW1haWxJZENoaXBzO1xuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogZW1haWxBcnIubGVuZ3RoLCBsYWJlbDogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbElkOiBldmVudC50YXJnZXQudmFsdWUsIGlzVmFsaWRFbWFpbDogaXNWYWxpZEVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBpc0VkaXRpbmc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBlbWFpbEFyci5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB0b0FkZHI6IGVtYWlsQXJyIH0pO1xuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlRW1haWxJZERlbGV0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtYWlsQWRkLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVtYWlsSWRDaGlwcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuZW1haWxJZENoaXBzKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlwVG9EZWxldGUgPSBlbWFpbElkQ2hpcHMuaW5kZXhPZihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZW1haWxJZENoaXBzLnNwbGljZShjaGlwVG9EZWxldGUsIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBlbWFpbElkQ2hpcHM6IGVtYWlsSWRDaGlwcyB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVTdWJqZWN0Q2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlRW1haWxCb2R5Q2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgbmV3TWF4SGVpZ2h0ID0gTWF0aC5yb3VuZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWxCb2R5Jykuc2Nyb2xsSGVpZ2h0KTtcbiAgICAgICAgICAgIGlmIChuZXdNYXhIZWlnaHQgPD0gMTIpIHtcbiAgICAgICAgICAgICAgICBuZXdNYXhIZWlnaHQgPSAxMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBlbWFpbFRlbXBsYXRlQm9keTogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgIGVtYWlsQm9keUhlaWdodDogbmV3TWF4SGVpZ2h0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5yZW1vdmVBdHRhY2hlbWVudCA9IGZ1bmN0aW9uIChkb2N1bWVudE51bWJlcikge1xuICAgICAgICAgICAgdmFyIGN1cnJBdHRhY2hlbWVudHMgPSBfdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VyckF0dGFjaGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyQXR0YWNoZW1lbnRzW2ldLmlkID09IGRvY3VtZW50TnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJBdHRhY2hlbWVudHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsQXR0YWNoZW1lbnRzOiBjdXJyQXR0YWNoZW1lbnRzIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMudG9nZ2xlVG9FZGl0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG5cbiAgICAgICAgICAgIHZhciB0ZW1wRW1haWxJZGNoaXBzID0gX3RoaXMuc3RhdGUuZW1haWxJZENoaXBzO1xuICAgICAgICAgICAgdGVtcEVtYWlsSWRjaGlwc1tpbmRleF0uaXNFZGl0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxJZENoaXBzOiB0ZW1wRW1haWxJZGNoaXBzIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmhhbmRsZUVkaXRFbWFpbCA9IGZ1bmN0aW9uIChpbmRleCwgZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICgoZXZlbnQudHlwZSA9PT0gJ2JsdXInIHx8IGV2ZW50LmtleSA9PT0gJ0VudGVyJykgJiYgZXZlbnQudGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy9yZWd1bGFyIGV4cHJlc3Npb24gLSB0byBjaGVjayBAaG9zdC5kb21haW5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vdmFsaWRhdGUgdGhlIGVudGVyZWQgZW1haWwgaWRcbiAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZEVtYWlsID0gKDAsIF9lbWFpbEhlbHBlci52YWxpZGF0ZUVtYWlsKShldmVudC50YXJnZXQudmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBFbWFpbElkQ2hpcHMgPSBfdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHM7XG4gICAgICAgICAgICAgICAgdGVtcEVtYWlsSWRDaGlwc1tpbmRleF0udmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGVtcEVtYWlsSWRDaGlwc1tpbmRleF0uaXNWYWxpZEVtYWlsID0gaXNWYWxpZEVtYWlsO1xuICAgICAgICAgICAgICAgIHRlbXBFbWFpbElkQ2hpcHNbaW5kZXhdLmlzRWRpdGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gdmFyIG9iaiA9IHtcbiAgICAgICAgICAgICAgICAvLyAgICAga2V5OiBlbWFpbEFyci5sZW5ndGgsIGxhYmVsOiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgLy8gICAgIGVtYWlsSWQ6IGV2ZW50LnRhcmdldC52YWx1ZSwgaXNWYWxpZEVtYWlsOiBpc1ZhbGlkRW1haWwsXG4gICAgICAgICAgICAgICAgLy8gICAgIGlzRWRpdGluZyA6IGZhbHNlXG4gICAgICAgICAgICAgICAgLy8gfTtcbiAgICAgICAgICAgICAgICAvLyBlbWFpbEFyci5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB0b0FkZHI6IHRlbXBFbWFpbElkQ2hpcHMgfSk7XG4gICAgICAgICAgICAgICAgLy8gZXZlbnQudGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoaW5kZXgsIGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgdGVtcEVtYWlsSWRDaGlwcyA9IF90aGlzLnN0YXRlLmVtYWlsSWRDaGlwcztcbiAgICAgICAgICAgIHRlbXBFbWFpbElkQ2hpcHNbaW5kZXhdLnZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbElkQ2hpcHM6IHRlbXBFbWFpbElkQ2hpcHMgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuc2VuZFN1bW1hcnlFbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vSW52b2ljZSBkb2N1bWVudCBpZHMgXG4gICAgICAgICAgICB2YXIgZG9jdW1lbnRJRHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudElEcy5wdXNoKF90aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzW2ldLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vaWYgbm8gdG9BZGRyIGlzIHByZXNlbnQsIHNob3cgaW4gc25hY2sgYmFyXG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUuZW1haWxJZENoaXBzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJQbGVhc2Ugc3BlY2lmeSBhdCBsZWFzdCBvbmUgcmVjaXBpZW50LlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL3RvIGVtYWlsIGFkZHJlc3NlcyBcbiAgICAgICAgICAgIHZhciB0b0FkZHIgPSBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUuZW1haWxJZENoaXBzW2ldLmlzVmFsaWRFbWFpbCkge1xuICAgICAgICAgICAgICAgICAgICB0b0FkZHIgKz0gX3RoaXMuc3RhdGUuZW1haWxJZENoaXBzW2ldLmVtYWlsSWQgKyBcIixcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL3JlbW92ZSBsYXN0IGNvbW1hXG4gICAgICAgICAgICB2YXIgcG9zID0gdG9BZGRyLmxhc3RJbmRleE9mKFwiLFwiKTtcbiAgICAgICAgICAgIHRvQWRkciA9IHRvQWRkci5zbGljZSgwLCBwb3MpO1xuICAgICAgICAgICAgdmFyIGVtYWlsQm9keSA9IF90aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVCb2R5O1xuICAgICAgICAgICAgZW1haWxCb2R5ID0gZW1haWxCb2R5LnJlcGxhY2UoL1xcbi9nLCAnPGJyIC8+Jyk7XG4gICAgICAgICAgICAvLyBDcmVhdGluZyByZXF1ZXN0IGVtYWlsIG9iamVjdFxuICAgICAgICAgICAgdmFyIGVtYWlsT2JqID0ge1xuICAgICAgICAgICAgICAgIGJvZHk6IGVtYWlsQm9keSxcbiAgICAgICAgICAgICAgICBzdWJqZWN0OiBfdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlU3ViamVjdCxcbiAgICAgICAgICAgICAgICAvLyBjb3JyVHlwZUlkOiB0aGlzLnN0YXRlLnRlbXBsYXRlSWQsICAgIC8vIHdoYXQgIGlmIHRlbXBsYXRlcyBhcmUgbm90IGZldGNoZWQuIFxuICAgICAgICAgICAgICAgIGN1c3RvbWVySWQ6IF90aGlzLnByb3BzLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50SWRzOiBkb2N1bWVudElEcyxcbiAgICAgICAgICAgICAgICBmcm9tOiBfdGhpcy5wcm9wcy5jb2xsZWN0b3IuZW1haWxJZCwgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxuICAgICAgICAgICAgICAgIHRvOiB0b0FkZHIgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBNYWtpbmcgYSBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgZW1haWxzXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsU2VudDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIF9jb3JyZXNwb25kZW5jZVNlcnZpY2UuY29ycmVzcG9uZGVuY2VTZXJ2aWNlLnNlbmRDYWxsU3VtbWFyeShlbWFpbE9iaikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVtYWlsIHNlbnRcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbFNlbnQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgLy9kaXNhYmxlIHRvIHRoZSBjb21wb25lbnQgdG8gcmVhZCBvbmx5IG1vZGUuXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsU2VudDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFcnJvciBpbiBzZW5kaW5nIGVtYWlsXCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tCYXJNZXNzYWdlOiBtZXNzYWdlIH0pO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IHRydWUgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuY2xvc2VTbmFja2JhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5zZXREZWZhdWx0Qm9keSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNvbGxlY3RvciA9IF90aGlzJHByb3BzLmNvbGxlY3RvcixcbiAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXMgPSBfdGhpcyRwcm9wcy5zdW1tYXJ5Tm90ZXMsXG4gICAgICAgICAgICAgICAgbm9uQWN0aW9uSW5jbHVkZWQgPSBfdGhpcyRwcm9wcy5ub25BY3Rpb25JbmNsdWRlZDtcblxuICAgICAgICAgICAgdmFyIGludm9pY2VTdHJpbmcgPSBfdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGggPiAwID8gX2NvbnN0YW50cy5QRkFNZXNzYWdlIDogXCJcIjtcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5U3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBmaXJzdE5hbWUgPSBjb2xsZWN0b3IuZmlyc3ROYW1lID8gX3RoaXMucHJvcHMuY29sbGVjdG9yLmZpcnN0TmFtZSA6IFwiXCI7XG4gICAgICAgICAgICB2YXIgbGFzdE5hbWUgPSBjb2xsZWN0b3IubGFzdE5hbWUgPyBfdGhpcy5wcm9wcy5jb2xsZWN0b3IubGFzdE5hbWUgOiBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBzdW1tYXJ5Tm90ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBzdW1tYXJ5Tm90ZXMubGVuZ3RoIC0gMSAmJiBub25BY3Rpb25JbmNsdWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3VtbWFyeVN0cmluZyArPSBzdW1tYXJ5Tm90ZXNbaV0udHJpbSgpID8gJ1xcblxcdTIwMjIgJyArIHN1bW1hcnlOb3Rlc1tpXSA6IFwiXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN1bW1hcnlTdHJpbmcgPSBzdW1tYXJ5U3RyaW5nID8gJ1xcblBsZWFzZSBmaW5kIGJlbG93IHRoZSBzdW1tYXJ5IG9mIG91ciBjb252ZXJzYXRpb246XFxuJyArIHN1bW1hcnlTdHJpbmcgKyAnXFxuXFxuJyArIGludm9pY2VTdHJpbmcgKyAnXFxuJyA6IFwiXCI7XG4gICAgICAgICAgICB2YXIgZW1haWxCb2R5ID0gc3VtbWFyeVN0cmluZyA/ICdHcmVldGluZ3MsXFxuJyArIHN1bW1hcnlTdHJpbmcgKyAnXFxuUmVnYXJkcyxcXG4nICsgKGZpcnN0TmFtZSArIFwiIFwiICsgbGFzdE5hbWUpIDogXCJcIjtcbiAgICAgICAgICAgIHZhciBuZXdMaW5lQ291bnQgPSAoZW1haWxCb2R5Lm1hdGNoKC9cXG4vZykgfHwgW10pLmxlbmd0aDtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZUJvZHk6IGVtYWlsQm9keSwgZW1haWxCb2R5SGVpZ2h0OiBuZXdMaW5lQ291bnQgKyAxIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmVtYWlsQWRkID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZVJlZigpO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGVtYWlsSWRDaGlwczogX3RoaXMucHJvcHMuZW1haWxJZENoaXBzLFxuICAgICAgICAgICAgdGVtcGxhdGVJZDogLTEsXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlU3ViamVjdDogX2NvbnN0YW50cy5kZWZhdWx0RW1haWxTdWJqZWN0LFxuICAgICAgICAgICAgZW1haWxTZW50OiBmYWxzZSxcbiAgICAgICAgICAgIGVtYWlsQm9keUhlaWdodDogMTIsXG4gICAgICAgICAgICBlbWFpbEF0dGFjaGVtZW50czogX3RoaXMucHJvcHMuZW1haWxBdHRhY2hlbWVudHMsXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiLFxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZU5hbWU6IFwiXCIsXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlQm9keTogXCJcIixcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVzOiBbXVxuXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhFbWFpbEJveCwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnNldERlZmF1bHRCb2R5KCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbElkQ2hpcHM6IG5leHRQcm9wcy5lbWFpbElkQ2hpcHMgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgZnVuY3Rpb24gZm9yIGNoYW5nZSBpbiB0ZW1wbGF0ZSBzZWxlY3Rpb25cblxuXG4gICAgICAgIC8vIG9uIHByZXNzaW5nIGVudGVyIGtleSBhZnRlciBlbWFpbCBpZCBhZGRpdGlvblxuXG5cbiAgICAgICAgLy9oYW5kbGUgZnVuY3Rpb24gd2hlbiBlbWFpbElkIGNoaXAgaXMgcmVtb3ZlZFxuXG5cbiAgICAgICAgLy8gb24gY2hhbmdlIGluIGVtYWlsIHN1YmplY3RcblxuXG4gICAgICAgIC8vIG9uIGNoYW5nZSBpbiBlbWFpbCBib2R5XG5cblxuICAgICAgICAvLyByZW1vdmUgYXR0YWNoZW1lbnQgZnJvbSBlbWFpbFxuXG5cbiAgICAgICAgLy8gU2VuZCBwb3N0IGNhbGwgc3VtbWFyeSBlbWFpbFxuXG5cbiAgICAgICAgLy8gT3BlbiBzbmFjayBiYXIgd2l0aCBtZXNzYWdlXG5cblxuICAgICAgICAvLyBDbG9zZSBzbmFjayBiYXIgdXNpbmcgY3Jvc3MgYnV0dG9uXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgIHRoZW1lID0gX3Byb3BzLnRoZW1lO1xuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LkZyYWdtZW50LFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5RW1haWxIZWFkZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250U2l6ZTogXCIxLjA2NjY2cmVtXCIsIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsIGNvbG9yOiBcIiNmZmZmZmZcIiwgb3BhY2l0eTogMC42NSwgcGFkZGluZ0JvdHRvbTogXCIwLjJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdTRU5EIFNVTU1BUlkgTUFJTCdcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5RW1haWwgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnN1bW1hcnlFbWFpbEZvcm0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVtYWlsSWRDaGlwc0lucHV0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuZW1haWxBZGRMYWJlbCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVG8gJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubWFwKGZ1bmN0aW9uIChlbWFpbCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtYWlsLmlzRWRpdGluZyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnB1dDIuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbktleVByZXNzPXsgKGUpID0+ICB0aGlzLmhhbmRsZUVkaXRFbWFpbChpbmRleCwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgeyBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5oYW5kbGVDaGFuZ2UoaW5kZXgsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbWFpbC5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUVkaXRFbWFpbChpbmRleCwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmVtYWlsSWRJbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hpcDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBlbWFpbC5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZW1haWwubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGVtYWlsLmlzVmFsaWRFbWFpbCA/IGNsYXNzZXMuZW1haWxJZENoaXBzIDogY2xhc3Nlcy5pbnZhbGlkRW1haWxJZENoaXBzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlSWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb3NlMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAhX3RoaXMyLnN0YXRlLmVtYWlsU2VudCA/IGNsYXNzZXMucmVtb3ZlRW1haWxJZCA6IGNsYXNzZXMuZGlzYWJsZUljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RvZG8gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjbGlja2FibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uQ2xpY2s9IHsgKGUpID0+ICB0aGlzLnRvZ2dsZVRvRWRpdChpbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIG9uRGVsZXRlOiBfdGhpczIuaGFuZGxlRW1haWxJZERlbGV0ZShlbWFpbCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IGNsaWNrYWJsZTogZW1haWwuaXNWYWxpZEVtYWlsID8gY2xhc3Nlcy5lbWFpbElkQ2hpcHMgOiBjbGFzc2VzLmludmFsaWRFbWFpbElkQ2hpcHMgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW5wdXQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlQcmVzczogdGhpcy5oYW5kbGVFbWFpbEVudGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlRW1haWxFbnRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZW1haWxJZElucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5lbWFpbFNlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UmVmOiB0aGlzLmVtYWlsQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW5wdXQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luVG9wOiBcIjElXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ1N1YmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRTdWJqZWN0SW5wdXQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZW1haWxTdWJqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVTdWJqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVN1YmplY3RDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5lbWFpbFNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsQm9keSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb3JlLlRleHRGaWVsZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2VtYWlsQm9keScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRW1haWxCb2R5Q2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IFwid2hpdGVcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c01heDogdGhpcy5zdGF0ZS5lbWFpbEJvZHlIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5lbWFpbEJvZHlUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIndoaXRlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgaW5wdXQ6IGNsYXNzZXMuaGlkZU92ZXJmbG93IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuc3RhdGUuZW1haWxTZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlQXR0YWNoZW1lbnRzIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoID4gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUNvdW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sIGZvbnRTaXplOiBcIjAuOTc3N1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSW52b2ljZSBBdHRhY2hlbWVudHMgKCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjZWxsSGVpZ2h0OiBcImF1dG9cIiwgY2xhc3NOYW1lOiBjbGFzc2VzLmdyaWRMaXN0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0VGlsZTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xzOiAxLCBrZXk6IGludm9pY2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxMi41cmVtJywgcGFkZGluZzogJzAuMjVyZW0nIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmdyaWRMaXN0RGl2IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdibG9jaycsIG1hcmdpbkxlZnQ6ICcwLjM3NXJlbScgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6ICcwLjI1cmVtJywgZm9udFNpemU6ICcwLjg4OHJlbScsIG9wYWNpdHk6IDAuNjUsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuZG9jdW1lbnROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6ICcwLjI1cmVtJywgZm9udFNpemU6ICcxcmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsRm9vdGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5CdXR0b24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZW5kU3VtbWFyeUVtYWlsQnRuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiAnY29udGFpbmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zZW5kU3VtbWFyeUVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5lbWFpbFNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTRU5EJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU25hY2tiYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yT3JpZ2luOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5zbmFja0Jhck9wZW4sXG4gICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb246IDIwMDAsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VTbmFja2JhcixcbiAgICAgICAgICAgICAgICAgICAgQ29udGVudFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdtZXNzYWdlLWlkJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zbmFja0Jhck1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfSWNvbkJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdjbG9zZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnQ2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNsb3NlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2xvc2VTbmFja2JhclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgKV1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBFbWFpbEJveDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkVtYWlsQm94LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcbkVtYWlsQm94LnByb3BUeXBlcyA9IHByb3BUeXBlcztcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShFbWFpbEJveCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTA0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNvcnJlc3BvbmRlbmNlU2VydmljZSA9IHVuZGVmaW5lZDtcblxudmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblxudmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxudmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxudmFyIF9uZXR3b3JrVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBCQVNFX1VSTCA9IFwiL2NvcnJlc3BvbmRlbmNlXCI7XG5cbmZ1bmN0aW9uIGdldEVtYWlsVGVtcGxhdGVzKCkge1xuICAgIHJldHVybiBfYXhpb3MyLmRlZmF1bHQucG9zdCgnJyArIF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgQkFTRV9VUkwgKyAnL2VtYWlsdGVtcGxhdGVzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfbmV0d29ya1V0aWxzLmhhbmRsZUFwaVJlc3BvbnNlKShyZXNwb25zZSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAoMCwgX25ldHdvcmtVdGlscy5oYW5kbGVBcGlSZXNwb25zZSkoZXJyb3IpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzZW5kQ2FsbFN1bW1hcnkocmVxT2JqKSB7XG4gICAgcmV0dXJuIF9heGlvczIuZGVmYXVsdC5wb3N0KCcnICsgX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyBCQVNFX1VSTCArICcvY2FsbHN1bW1hcnknLCByZXFPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiAoMCwgX25ldHdvcmtVdGlscy5oYW5kbGVBcGlSZXNwb25zZSkocmVzcG9uc2UpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICByZXR1cm4gKDAsIF9uZXR3b3JrVXRpbHMuaGFuZGxlQXBpUmVzcG9uc2UpKGVycm9yKTtcbiAgICB9KTtcbn1cblxudmFyIGNvcnJlc3BvbmRlbmNlU2VydmljZSA9IGV4cG9ydHMuY29ycmVzcG9uZGVuY2VTZXJ2aWNlID0geyBnZXRFbWFpbFRlbXBsYXRlczogZ2V0RW1haWxUZW1wbGF0ZXMsIHNlbmRDYWxsU3VtbWFyeTogc2VuZENhbGxTdW1tYXJ5IH07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTA1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgdmFsaWRhdGVFbWFpbCA9IGV4cG9ydHMudmFsaWRhdGVFbWFpbCA9IGZ1bmN0aW9uIHZhbGlkYXRlRW1haWwoZW1haWwpIHtcbiAgICB2YXIgcmUgPSAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgICByZXR1cm4gcmUudGVzdChlbWFpbCk7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9MaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXG52YXIgX0xpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdCk7XG5cbnZhciBfTGlzdEl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG5cbnZhciBfTGlzdEl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdEl0ZW0pO1xuXG52YXIgX0xpc3RJdGVtVGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KTtcblxudmFyIF9MaXN0SXRlbVRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdEl0ZW1UZXh0KTtcblxudmFyIF9EaWFsb2dUaXRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTczKTtcblxudmFyIF9EaWFsb2dUaXRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2dUaXRsZSk7XG5cbnZhciBfRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjkpO1xuXG52YXIgX0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2cpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlhbG9nUGFwZXI6IHtcbiAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCB3aGl0ZScsXG4gICAgICAgICAgICB3aWR0aDogJzE5LjUzdncnXG4gICAgICAgIH0sXG4gICAgICAgIGRpYWxvZzoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZU5ld0FjdGlvbkRpYWxvZ0hlYWRlcjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgJyAhaW1wb3J0YW50JyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMS4yNDQ0NHJlbSdcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlTmV3QWN0aW9uRGlhbG9nT3B0aW9uczoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgJyAhaW1wb3J0YW50JyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMC45Nzc3cmVtJyxcbiAgICAgICAgICAgIHBvaW50ZXI6ICdjdXJzb3InXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIHByb3BUeXBlcyA9IHtcbiAgICBvcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gICAgb25DbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAgIG9uQWN0aW9uSXRlbUNsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gICAgb3BlbjogZmFsc2UsXG4gICAgb25DbG9zZTogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uLFxuICAgIG9uQWN0aW9uSXRlbUNsaWNrOiBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb25cbn07XG5cbnZhciBBY3Rpb25DcmVhdG9yRGlhbG9nID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQWN0aW9uQ3JlYXRvckRpYWxvZywgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBBY3Rpb25DcmVhdG9yRGlhbG9nKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY3Rpb25DcmVhdG9yRGlhbG9nKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQWN0aW9uQ3JlYXRvckRpYWxvZy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFjdGlvbkNyZWF0b3JEaWFsb2cpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhBY3Rpb25DcmVhdG9yRGlhbG9nLCBbe1xuICAgICAgICBrZXk6ICdzaG91bGRDb21wb25lbnRVcGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKG5leHRQcm9wcy5vcGVuICE9PSB0aGlzLnByb3BzLm9wZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIG9wZW4gPSBfcHJvcHMub3BlbixcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgb25DbG9zZSA9IF9wcm9wcy5vbkNsb3NlO1xuXG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfRGlhbG9nMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogb25DbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6ICduZXctYWN0aW9uLWRpYWxvZy10aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IG9wZW4sXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgcGFwZXJTY3JvbGxQYXBlcjogY2xhc3Nlcy5kaWFsb2dQYXBlciB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0RpYWxvZ1RpdGxlMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ25ldy1hY3Rpb24tZGlhbG9nLXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kaWFsb2cgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNyZWF0ZU5ld0FjdGlvbkRpYWxvZ0hlYWRlciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZSBOZXcgQWN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LkZyYWdtZW50LFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9MaXN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY3JlYXRlTmV3QWN0aW9uRGlhbG9nT3B0aW9ucyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoX2NvbnN0YW50cy5BQ1RJT05fVFlQRVMpLm1hcChmdW5jdGlvbiAoYWN0aW9uVHlwZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0xpc3RJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBjdXJzb3I6ICdwb2ludGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnByb3BzLm9uQWN0aW9uSXRlbUNsaWNrKF9jb25zdGFudHMuQUNUSU9OX1RZUEVTW2FjdGlvblR5cGVLZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGFjdGlvblR5cGVLZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTGlzdEl0ZW1UZXh0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNyZWF0ZU5ld0FjdGlvbkRpYWxvZ09wdGlvbnMgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ3JlYXRlICcgKyBfY29uc3RhbnRzLkFDVElPTl9UWVBFU1thY3Rpb25UeXBlS2V5XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFjdGlvbkNyZWF0b3JEaWFsb2c7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG4vL3JlbW92ZSBwcm9wVHlwZXMgaW4gcHJvZHVjdGlvblxuXG5cbkFjdGlvbkNyZWF0b3JEaWFsb2cucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuQWN0aW9uQ3JlYXRvckRpYWxvZy5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoQWN0aW9uQ3JlYXRvckRpYWxvZyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTA3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX0dyb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxudmFyIF9Hcm93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3cpO1xuXG52YXIgX2NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF9yZWFjdEhpZ2hsaWdodFdvcmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA4KTtcblxudmFyIF9yZWFjdEhpZ2hsaWdodFdvcmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0SGlnaGxpZ2h0V29yZHMpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblxudmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA5KTtcblxudmFyIF9yZWFjdEdpZlBsYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oMTc3KTtcblxudmFyIF9yZWFjdEdpZlBsYXllcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEdpZlBsYXllcik7XG5cbnZhciBfUmlwcGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTEyKTtcblxudmFyIF9SaXBwbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmlwcGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGF1dGhvciBCYWxyYWogU2luZ2ggPGJhbHJhanNpbmdoLnNAaGlnaHJhZGl1cy5jb20+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHtcblxuICAgICAgICBjaGF0QnViYmxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiZmxleC1zdGFydFwiLFxuICAgICAgICAgICAgcGFkZGluZzogXCI0cHhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgIG1pbldpZHRoOiBcImNhbGMoMTAwJSAtIDJyZW0pXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEwMCUgLSAycmVtKVwiLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjFyZW1cIixcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCI0cHhcIlxuICAgICAgICB9LFxuICAgICAgICByaWdodEJ1YmJsZToge1xuICAgICAgICAgICAgb3BhY2l0eTogXCIwLjY1ICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIGFsaWduU2VsZjogXCJmbGV4LWVuZFwiLFxuICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3ctcmV2ZXJzZVwiXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIlxuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHRNZXNzYWdlOiB7XG4gICAgICAgICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSg5MywgMTcwLCAyMjQsIDAuMylcIlxuICAgICAgICB9LFxuICAgICAgICBjaXJjbGVkVGV4dDoge1xuICAgICAgICAgICAgbWluV2lkdGg6IFwiMnJlbVwiLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjJyZW1cIixcbiAgICAgICAgICAgIG1heEhlaWdodDogXCIycmVtXCIsXG4gICAgICAgICAgICBtYXhXaWR0aDogXCIycmVtXCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjhyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IFwiMnJlbVwiLFxuICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjNURBQUUwXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ2lmQW5pbWF0b3I6IHt9LFxuICAgICAgICBkZXRlY3Rvcjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjNURBQUUwXCJcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0ZXJGb3JMZWZ0OiB7XG4gICAgICAgICAgICBhbGlnblNlbGY6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIjEwcHhcIlxuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHRlckZvclJpZ2h0OiB7XG4gICAgICAgICAgICB0ZXh0QWxpZ246IFwicmlnaHRcIixcbiAgICAgICAgICAgIGFsaWduU2VsZjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjEwcHhcIlxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBDaGF0Qm94ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQ2hhdEJveCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDaGF0Qm94KHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGF0Qm94KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2hhdEJveC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENoYXRCb3gpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDaGF0Qm94LCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgaXNDb2xsZWN0b3IgPSBfcHJvcHMuaXNDb2xsZWN0b3IsXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9wcm9wcy5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICBpc0RldGVjdGluZyA9IF9wcm9wcy5pc0RldGVjdGluZztcblxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIC8vY29tbWVudCA8R3Jvdz4gYW5kIDwvR3Jvdz4gZm9sbG93aW5nIGZvciBydW5uaW5nIHRlc3RzIHN1aXRlXG4gICAgICAgICAgICAgICAgLy9jYW5ub3Qgc2V0IHRyYW5zaXRpb25zIGluIG5vZGUgZW52XG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9Hcm93Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7ICdpbic6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoYXRCdWJibGUgKyBcIiBcIiArIChpc0NvbGxlY3RvciA/IGNsYXNzZXMucmlnaHRCdWJibGUgOiBcIlwiKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzRGV0ZWN0aW5nICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2lyY2xlZFRleHQgKyBcIiBcIiArIChpc0RldGVjdGluZyA/IGNsYXNzZXMuZGV0ZWN0b3IgOiBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5pbml0aWFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGV0ZWN0aW5nICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgaGVpZ2h0OiBcIjIuNXJlbVwiLCB3aWR0aDogXCIyLjVyZW1cIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3JjPXtcIi90b3ZvL3N0YXRpYy9SaXBwbGUuZ2lmXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBzcmM6IF9SaXBwbGUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0OiAnRGV0ZWN0aW5nIFNwZWFrZXJzIEFuaW1hdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0SGlnaGxpZ2h0V29yZHMyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGlzQ29sbGVjdG9yID8gY2xhc3Nlcy5oaWdobGlnaHRlckZvclJpZ2h0IDogY2xhc3Nlcy5oaWdobGlnaHRlckZvckxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5oaWdobGlnaHRDbGFzc05hbWU6IGNsYXNzZXMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDbGFzc05hbWU6IGNsYXNzZXMuaGlnaGxpZ2h0TWVzc2FnZSArIFwiIFwiICsgY2xhc3Nlcy5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFdvcmRzOiBfY29uc3RhbnRzLkhJR0hMSUdIVEVSX1JFR0VYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRUb0hpZ2hsaWdodDogbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2hhdEJveDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNoYXRCb3gucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaXNDb2xsZWN0b3I6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgICBtZXNzYWdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgICBpc0RldGVjdGluZzogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sXG59O1xuQ2hhdEJveC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaXNDb2xsZWN0b3I6IGZhbHNlLFxuICAgIG1lc3NhZ2U6IFwiXCIsXG4gICAgaXNEZXRlY3Rpbmc6IGZhbHNlXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShDaGF0Qm94KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMDg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID1cbi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX0hpZ2hsaWdodGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfSGlnaGxpZ2h0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSGlnaGxpZ2h0ZXIpO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IF9IaWdobGlnaHRlcjJbJ2RlZmF1bHQnXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gSGlnaGxpZ2h0ZXI7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX2hpZ2hsaWdodFdvcmRzQ29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX21lbW9pemVPbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfbWVtb2l6ZU9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZW1vaXplT25lKTtcblx0XG5cdEhpZ2hsaWdodGVyLnByb3BUeXBlcyA9IHtcblx0ICBhY3RpdmVDbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXHQgIGFjdGl2ZUluZGV4OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm51bWJlcixcblx0ICBhY3RpdmVTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3QsXG5cdCAgYXV0b0VzY2FwZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuXHQgIGNsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG5cdCAgZmluZENodW5rczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXHQgIGhpZ2hsaWdodENsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0LCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZ10pLFxuXHQgIGhpZ2hsaWdodFN0eWxlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdCxcblx0ICBoaWdobGlnaHRUYWc6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYywgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmddKSxcblx0ICBzYW5pdGl6ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXHQgIHNlYXJjaFdvcmRzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmFycmF5T2YoX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmluc3RhbmNlT2YoUmVnRXhwKV0pKS5pc1JlcXVpcmVkLFxuXHQgIHRleHRUb0hpZ2hsaWdodDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcuaXNSZXF1aXJlZCxcblx0ICB1bmhpZ2hsaWdodENsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG5cdCAgdW5oaWdobGlnaHRTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3Rcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBIaWdobGlnaHRzIGFsbCBvY2N1cnJlbmNlcyBvZiBzZWFyY2ggdGVybXMgKHNlYXJjaFRleHQpIHdpdGhpbiBhIHN0cmluZyAodGV4dFRvSGlnaGxpZ2h0KS5cblx0ICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGFuIGFycmF5IG9mIHN0cmluZ3MgYW5kIDxzcGFuPnMgKHdyYXBwaW5nIGhpZ2hsaWdodGVkIHdvcmRzKS5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBIaWdobGlnaHRlcihfcmVmKSB7XG5cdCAgdmFyIF9yZWYkYWN0aXZlQ2xhc3NOYW1lID0gX3JlZi5hY3RpdmVDbGFzc05hbWU7XG5cdCAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IF9yZWYkYWN0aXZlQ2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkYWN0aXZlQ2xhc3NOYW1lO1xuXHQgIHZhciBfcmVmJGFjdGl2ZUluZGV4ID0gX3JlZi5hY3RpdmVJbmRleDtcblx0ICB2YXIgYWN0aXZlSW5kZXggPSBfcmVmJGFjdGl2ZUluZGV4ID09PSB1bmRlZmluZWQgPyAtMSA6IF9yZWYkYWN0aXZlSW5kZXg7XG5cdCAgdmFyIGFjdGl2ZVN0eWxlID0gX3JlZi5hY3RpdmVTdHlsZTtcblx0ICB2YXIgYXV0b0VzY2FwZSA9IF9yZWYuYXV0b0VzY2FwZTtcblx0ICB2YXIgX3JlZiRjYXNlU2Vuc2l0aXZlID0gX3JlZi5jYXNlU2Vuc2l0aXZlO1xuXHQgIHZhciBjYXNlU2Vuc2l0aXZlID0gX3JlZiRjYXNlU2Vuc2l0aXZlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkY2FzZVNlbnNpdGl2ZTtcblx0ICB2YXIgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWU7XG5cdCAgdmFyIGZpbmRDaHVua3MgPSBfcmVmLmZpbmRDaHVua3M7XG5cdCAgdmFyIF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZi5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIGhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciBfcmVmJGhpZ2hsaWdodFN0eWxlID0gX3JlZi5oaWdobGlnaHRTdHlsZTtcblx0ICB2YXIgaGlnaGxpZ2h0U3R5bGUgPSBfcmVmJGhpZ2hsaWdodFN0eWxlID09PSB1bmRlZmluZWQgPyB7fSA6IF9yZWYkaGlnaGxpZ2h0U3R5bGU7XG5cdCAgdmFyIF9yZWYkaGlnaGxpZ2h0VGFnID0gX3JlZi5oaWdobGlnaHRUYWc7XG5cdCAgdmFyIGhpZ2hsaWdodFRhZyA9IF9yZWYkaGlnaGxpZ2h0VGFnID09PSB1bmRlZmluZWQgPyAnbWFyaycgOiBfcmVmJGhpZ2hsaWdodFRhZztcblx0ICB2YXIgc2FuaXRpemUgPSBfcmVmLnNhbml0aXplO1xuXHQgIHZhciBzZWFyY2hXb3JkcyA9IF9yZWYuc2VhcmNoV29yZHM7XG5cdCAgdmFyIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYudGV4dFRvSGlnaGxpZ2h0O1xuXHQgIHZhciBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZi51bmhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICB2YXIgdW5oaWdobGlnaHRDbGFzc05hbWUgPSBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkdW5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIHVuaGlnaGxpZ2h0U3R5bGUgPSBfcmVmLnVuaGlnaGxpZ2h0U3R5bGU7XG5cdFxuXHQgIHZhciBjaHVua3MgPSAoMCwgX2hpZ2hsaWdodFdvcmRzQ29yZS5maW5kQWxsKSh7XG5cdCAgICBhdXRvRXNjYXBlOiBhdXRvRXNjYXBlLFxuXHQgICAgY2FzZVNlbnNpdGl2ZTogY2FzZVNlbnNpdGl2ZSxcblx0ICAgIGZpbmRDaHVua3M6IGZpbmRDaHVua3MsXG5cdCAgICBzYW5pdGl6ZTogc2FuaXRpemUsXG5cdCAgICBzZWFyY2hXb3Jkczogc2VhcmNoV29yZHMsXG5cdCAgICB0ZXh0VG9IaWdobGlnaHQ6IHRleHRUb0hpZ2hsaWdodFxuXHQgIH0pO1xuXHQgIHZhciBIaWdobGlnaHRUYWcgPSBoaWdobGlnaHRUYWc7XG5cdCAgdmFyIGhpZ2hsaWdodENvdW50ID0gLTE7XG5cdCAgdmFyIGhpZ2hsaWdodENsYXNzTmFtZXMgPSAnJztcblx0ICB2YXIgaGlnaGxpZ2h0U3R5bGVzID0gdW5kZWZpbmVkO1xuXHRcblx0ICB2YXIgbG93ZXJjYXNlUHJvcHMgPSBmdW5jdGlvbiBsb3dlcmNhc2VQcm9wcyhvYmplY3QpIHtcblx0ICAgIHZhciBtYXBwZWQgPSB7fTtcblx0ICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcblx0ICAgICAgbWFwcGVkW2tleS50b0xvd2VyQ2FzZSgpXSA9IG9iamVjdFtrZXldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG1hcHBlZDtcblx0ICB9O1xuXHQgIHZhciBtZW1vaXplZExvd2VyY2FzZVByb3BzID0gKDAsIF9tZW1vaXplT25lMlsnZGVmYXVsdCddKShsb3dlcmNhc2VQcm9wcyk7XG5cdFxuXHQgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICdzcGFuJyxcblx0ICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcblx0ICAgIGNodW5rcy5tYXAoZnVuY3Rpb24gKGNodW5rLCBpbmRleCkge1xuXHQgICAgICB2YXIgdGV4dCA9IHRleHRUb0hpZ2hsaWdodC5zdWJzdHIoY2h1bmsuc3RhcnQsIGNodW5rLmVuZCAtIGNodW5rLnN0YXJ0KTtcblx0XG5cdCAgICAgIGlmIChjaHVuay5oaWdobGlnaHQpIHtcblx0ICAgICAgICBoaWdobGlnaHRDb3VudCsrO1xuXHRcblx0ICAgICAgICB2YXIgaGlnaGxpZ2h0Q2xhc3MgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBoaWdobGlnaHRDbGFzc05hbWUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICBpZiAoIWNhc2VTZW5zaXRpdmUpIHtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lID0gbWVtb2l6ZWRMb3dlcmNhc2VQcm9wcyhoaWdobGlnaHRDbGFzc05hbWUpO1xuXHQgICAgICAgICAgICBoaWdobGlnaHRDbGFzcyA9IGhpZ2hsaWdodENsYXNzTmFtZVt0ZXh0LnRvTG93ZXJDYXNlKCldO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3MgPSBoaWdobGlnaHRDbGFzc05hbWVbdGV4dF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGhpZ2hsaWdodENsYXNzID0gaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGlzQWN0aXZlID0gaGlnaGxpZ2h0Q291bnQgPT09ICthY3RpdmVJbmRleDtcblx0XG5cdCAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lcyA9IGhpZ2hsaWdodENsYXNzICsgJyAnICsgKGlzQWN0aXZlID8gYWN0aXZlQ2xhc3NOYW1lIDogJycpO1xuXHQgICAgICAgIGhpZ2hsaWdodFN0eWxlcyA9IGlzQWN0aXZlID09PSB0cnVlICYmIGFjdGl2ZVN0eWxlICE9IG51bGwgPyBPYmplY3QuYXNzaWduKHt9LCBoaWdobGlnaHRTdHlsZSwgYWN0aXZlU3R5bGUpIDogaGlnaGxpZ2h0U3R5bGU7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIEhpZ2hsaWdodFRhZyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBoaWdobGlnaHRDbGFzc05hbWVzLFxuXHQgICAgICAgICAgICBrZXk6IGluZGV4LFxuXHQgICAgICAgICAgICBzdHlsZTogaGlnaGxpZ2h0U3R5bGVzXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdGV4dFxuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHVuaGlnaGxpZ2h0Q2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBrZXk6IGluZGV4LFxuXHQgICAgICAgICAgICBzdHlsZTogdW5oaWdobGlnaHRTdHlsZVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHRleHRcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgICk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9XG5cdC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcblx0LyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG5cdC8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuXHQvKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHQvKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG5cdC8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0LyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcblx0LyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG5cdC8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcblx0LyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuXHQvKioqKioqLyBcdFx0fTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHQvKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdC8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdC8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG5cdC8qKioqKiovIFx0fVxuXHQvKioqKioqL1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5cdC8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuXHQvKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cblx0LyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuXHQvKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXHQvKioqKioqLyB9KVxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXHQvKioqKioqLyAoW1xuXHQvKiAwICovXG5cdC8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblx0XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0XG5cdC8qKiovIH0pLFxuXHQvKiAxICovXG5cdC8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblx0XG5cdFx0J3VzZSBzdHJpY3QnO1xuXHRcdFxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdCAgdmFsdWU6IHRydWVcblx0XHR9KTtcblx0XHRcblx0XHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NvbWJpbmVDaHVua3MnLCB7XG5cdFx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFx0ICAgIHJldHVybiBfdXRpbHMuY29tYmluZUNodW5rcztcblx0XHQgIH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2ZpbGxJbkNodW5rcycsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5maWxsSW5DaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaW5kQWxsJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmZpbmRBbGw7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaW5kQ2h1bmtzJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmZpbmRDaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFxuXHQvKioqLyB9KSxcblx0LyogMiAqL1xuXHQvKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cdFxuXHRcdCd1c2Ugc3RyaWN0Jztcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHQgIHZhbHVlOiB0cnVlXG5cdFx0fSk7XG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBhbiBhcnJheSBvZiBjaHVuayBvYmplY3RzIHJlcHJlc2VudGluZyBib3RoIGhpZ2xpZ2h0YWJsZSBhbmQgbm9uIGhpZ2hsaWdodGFibGUgcGllY2VzIG9mIHRleHQgdGhhdCBtYXRjaCBlYWNoIHNlYXJjaCB3b3JkLlxuXHRcdCAqIEByZXR1cm4gQXJyYXkgb2YgXCJjaHVua3NcIiAod2hlcmUgYSBDaHVuayBpcyB7IHN0YXJ0Om51bWJlciwgZW5kOm51bWJlciwgaGlnaGxpZ2h0OmJvb2xlYW4gfSlcblx0XHQgKi9cblx0XHR2YXIgZmluZEFsbCA9IGV4cG9ydHMuZmluZEFsbCA9IGZ1bmN0aW9uIGZpbmRBbGwoX3JlZikge1xuXHRcdCAgdmFyIGF1dG9Fc2NhcGUgPSBfcmVmLmF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgX3JlZiRjYXNlU2Vuc2l0aXZlID0gX3JlZi5jYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIGNhc2VTZW5zaXRpdmUgPSBfcmVmJGNhc2VTZW5zaXRpdmUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRjYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIF9yZWYkZmluZENodW5rcyA9IF9yZWYuZmluZENodW5rcyxcblx0XHQgICAgICBmaW5kQ2h1bmtzID0gX3JlZiRmaW5kQ2h1bmtzID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RmluZENodW5rcyA6IF9yZWYkZmluZENodW5rcyxcblx0XHQgICAgICBzYW5pdGl6ZSA9IF9yZWYuc2FuaXRpemUsXG5cdFx0ICAgICAgc2VhcmNoV29yZHMgPSBfcmVmLnNlYXJjaFdvcmRzLFxuXHRcdCAgICAgIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYudGV4dFRvSGlnaGxpZ2h0O1xuXHRcdCAgcmV0dXJuIGZpbGxJbkNodW5rcyh7XG5cdFx0ICAgIGNodW5rc1RvSGlnaGxpZ2h0OiBjb21iaW5lQ2h1bmtzKHtcblx0XHQgICAgICBjaHVua3M6IGZpbmRDaHVua3Moe1xuXHRcdCAgICAgICAgYXV0b0VzY2FwZTogYXV0b0VzY2FwZSxcblx0XHQgICAgICAgIGNhc2VTZW5zaXRpdmU6IGNhc2VTZW5zaXRpdmUsXG5cdFx0ICAgICAgICBzYW5pdGl6ZTogc2FuaXRpemUsXG5cdFx0ICAgICAgICBzZWFyY2hXb3Jkczogc2VhcmNoV29yZHMsXG5cdFx0ICAgICAgICB0ZXh0VG9IaWdobGlnaHQ6IHRleHRUb0hpZ2hsaWdodFxuXHRcdCAgICAgIH0pXG5cdFx0ICAgIH0pLFxuXHRcdCAgICB0b3RhbExlbmd0aDogdGV4dFRvSGlnaGxpZ2h0ID8gdGV4dFRvSGlnaGxpZ2h0Lmxlbmd0aCA6IDBcblx0XHQgIH0pO1xuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogVGFrZXMgYW4gYXJyYXkgb2Yge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn0gb2JqZWN0cyBhbmQgY29tYmluZXMgY2h1bmtzIHRoYXQgb3ZlcmxhcCBpbnRvIHNpbmdsZSBjaHVua3MuXG5cdFx0ICogQHJldHVybiB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyfVtdXG5cdFx0ICovXG5cdFx0dmFyIGNvbWJpbmVDaHVua3MgPSBleHBvcnRzLmNvbWJpbmVDaHVua3MgPSBmdW5jdGlvbiBjb21iaW5lQ2h1bmtzKF9yZWYyKSB7XG5cdFx0ICB2YXIgY2h1bmtzID0gX3JlZjIuY2h1bmtzO1xuXHRcdFxuXHRcdCAgY2h1bmtzID0gY2h1bmtzLnNvcnQoZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHtcblx0XHQgICAgcmV0dXJuIGZpcnN0LnN0YXJ0IC0gc2Vjb25kLnN0YXJ0O1xuXHRcdCAgfSkucmVkdWNlKGZ1bmN0aW9uIChwcm9jZXNzZWRDaHVua3MsIG5leHRDaHVuaykge1xuXHRcdCAgICAvLyBGaXJzdCBjaHVuayBqdXN0IGdvZXMgc3RyYWlnaHQgaW4gdGhlIGFycmF5Li4uXG5cdFx0ICAgIGlmIChwcm9jZXNzZWRDaHVua3MubGVuZ3RoID09PSAwKSB7XG5cdFx0ICAgICAgcmV0dXJuIFtuZXh0Q2h1bmtdO1xuXHRcdCAgICB9IGVsc2Uge1xuXHRcdCAgICAgIC8vIC4uLiBzdWJzZXF1ZW50IGNodW5rcyBnZXQgY2hlY2tlZCB0byBzZWUgaWYgdGhleSBvdmVybGFwLi4uXG5cdFx0ICAgICAgdmFyIHByZXZDaHVuayA9IHByb2Nlc3NlZENodW5rcy5wb3AoKTtcblx0XHQgICAgICBpZiAobmV4dENodW5rLnN0YXJ0IDw9IHByZXZDaHVuay5lbmQpIHtcblx0XHQgICAgICAgIC8vIEl0IG1heSBiZSB0aGUgY2FzZSB0aGF0IHByZXZDaHVuayBjb21wbGV0ZWx5IHN1cnJvdW5kcyBuZXh0Q2h1bmssIHNvIHRha2UgdGhlXG5cdFx0ICAgICAgICAvLyBsYXJnZXN0IG9mIHRoZSBlbmQgaW5kZWNlcy5cblx0XHQgICAgICAgIHZhciBlbmRJbmRleCA9IE1hdGgubWF4KHByZXZDaHVuay5lbmQsIG5leHRDaHVuay5lbmQpO1xuXHRcdCAgICAgICAgcHJvY2Vzc2VkQ2h1bmtzLnB1c2goeyBzdGFydDogcHJldkNodW5rLnN0YXJ0LCBlbmQ6IGVuZEluZGV4IH0pO1xuXHRcdCAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICBwcm9jZXNzZWRDaHVua3MucHVzaChwcmV2Q2h1bmssIG5leHRDaHVuayk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICAgIHJldHVybiBwcm9jZXNzZWRDaHVua3M7XG5cdFx0ICAgIH1cblx0XHQgIH0sIFtdKTtcblx0XHRcblx0XHQgIHJldHVybiBjaHVua3M7XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBFeGFtaW5lIHRleHQgZm9yIGFueSBtYXRjaGVzLlxuXHRcdCAqIElmIHdlIGZpbmQgbWF0Y2hlcywgYWRkIHRoZW0gdG8gdGhlIHJldHVybmVkIGFycmF5IGFzIGEgXCJjaHVua1wiIG9iamVjdCAoe3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn0pLlxuXHRcdCAqIEByZXR1cm4ge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqL1xuXHRcdHZhciBkZWZhdWx0RmluZENodW5rcyA9IGZ1bmN0aW9uIGRlZmF1bHRGaW5kQ2h1bmtzKF9yZWYzKSB7XG5cdFx0ICB2YXIgYXV0b0VzY2FwZSA9IF9yZWYzLmF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgY2FzZVNlbnNpdGl2ZSA9IF9yZWYzLmNhc2VTZW5zaXRpdmUsXG5cdFx0ICAgICAgX3JlZjMkc2FuaXRpemUgPSBfcmVmMy5zYW5pdGl6ZSxcblx0XHQgICAgICBzYW5pdGl6ZSA9IF9yZWYzJHNhbml0aXplID09PSB1bmRlZmluZWQgPyBpZGVudGl0eSA6IF9yZWYzJHNhbml0aXplLFxuXHRcdCAgICAgIHNlYXJjaFdvcmRzID0gX3JlZjMuc2VhcmNoV29yZHMsXG5cdFx0ICAgICAgdGV4dFRvSGlnaGxpZ2h0ID0gX3JlZjMudGV4dFRvSGlnaGxpZ2h0O1xuXHRcdFxuXHRcdCAgdGV4dFRvSGlnaGxpZ2h0ID0gc2FuaXRpemUodGV4dFRvSGlnaGxpZ2h0KTtcblx0XHRcblx0XHQgIHJldHVybiBzZWFyY2hXb3Jkcy5maWx0ZXIoZnVuY3Rpb24gKHNlYXJjaFdvcmQpIHtcblx0XHQgICAgcmV0dXJuIHNlYXJjaFdvcmQ7XG5cdFx0ICB9KSAvLyBSZW1vdmUgZW1wdHkgd29yZHNcblx0XHQgIC5yZWR1Y2UoZnVuY3Rpb24gKGNodW5rcywgc2VhcmNoV29yZCkge1xuXHRcdCAgICBzZWFyY2hXb3JkID0gc2FuaXRpemUoc2VhcmNoV29yZCk7XG5cdFx0XG5cdFx0ICAgIGlmIChhdXRvRXNjYXBlKSB7XG5cdFx0ICAgICAgc2VhcmNoV29yZCA9IGVzY2FwZVJlZ0V4cEZuKHNlYXJjaFdvcmQpO1xuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoc2VhcmNoV29yZCwgY2FzZVNlbnNpdGl2ZSA/ICdnJyA6ICdnaScpO1xuXHRcdFxuXHRcdCAgICB2YXIgbWF0Y2ggPSB2b2lkIDA7XG5cdFx0ICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dFRvSGlnaGxpZ2h0KSkge1xuXHRcdCAgICAgIHZhciBzdGFydCA9IG1hdGNoLmluZGV4O1xuXHRcdCAgICAgIHZhciBlbmQgPSByZWdleC5sYXN0SW5kZXg7XG5cdFx0ICAgICAgLy8gV2UgZG8gbm90IHJldHVybiB6ZXJvLWxlbmd0aCBtYXRjaGVzXG5cdFx0ICAgICAgaWYgKGVuZCA+IHN0YXJ0KSB7XG5cdFx0ICAgICAgICBjaHVua3MucHVzaCh7IHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQgfSk7XG5cdFx0ICAgICAgfVxuXHRcdFxuXHRcdCAgICAgIC8vIFByZXZlbnQgYnJvd3NlcnMgbGlrZSBGaXJlZm94IGZyb20gZ2V0dGluZyBzdHVjayBpbiBhbiBpbmZpbml0ZSBsb29wXG5cdFx0ICAgICAgLy8gU2VlIGh0dHA6Ly93d3cucmVnZXhndXJ1LmNvbS8yMDA4LzA0L3dhdGNoLW91dC1mb3ItemVyby1sZW5ndGgtbWF0Y2hlcy9cblx0XHQgICAgICBpZiAobWF0Y2guaW5kZXggPT0gcmVnZXgubGFzdEluZGV4KSB7XG5cdFx0ICAgICAgICByZWdleC5sYXN0SW5kZXgrKztcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgcmV0dXJuIGNodW5rcztcblx0XHQgIH0sIFtdKTtcblx0XHR9O1xuXHRcdC8vIEFsbG93IHRoZSBmaW5kQ2h1bmtzIHRvIGJlIG92ZXJyaWRkZW4gaW4gZmluZEFsbCxcblx0XHQvLyBidXQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdlIGV4cG9ydCBhcyB0aGUgb2xkIG5hbWVcblx0XHRleHBvcnRzLmZpbmRDaHVua3MgPSBkZWZhdWx0RmluZENodW5rcztcblx0XHRcblx0XHQvKipcblx0XHQgKiBHaXZlbiBhIHNldCBvZiBjaHVua3MgdG8gaGlnaGxpZ2h0LCBjcmVhdGUgYW4gYWRkaXRpb25hbCBzZXQgb2YgY2h1bmtzXG5cdFx0ICogdG8gcmVwcmVzZW50IHRoZSBiaXRzIG9mIHRleHQgYmV0d2VlbiB0aGUgaGlnaGxpZ2h0ZWQgdGV4dC5cblx0XHQgKiBAcGFyYW0gY2h1bmtzVG9IaWdobGlnaHQge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqIEBwYXJhbSB0b3RhbExlbmd0aCBudW1iZXJcblx0XHQgKiBAcmV0dXJuIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXIsIGhpZ2hsaWdodDpib29sZWFufVtdXG5cdFx0ICovXG5cdFx0XG5cdFx0dmFyIGZpbGxJbkNodW5rcyA9IGV4cG9ydHMuZmlsbEluQ2h1bmtzID0gZnVuY3Rpb24gZmlsbEluQ2h1bmtzKF9yZWY0KSB7XG5cdFx0ICB2YXIgY2h1bmtzVG9IaWdobGlnaHQgPSBfcmVmNC5jaHVua3NUb0hpZ2hsaWdodCxcblx0XHQgICAgICB0b3RhbExlbmd0aCA9IF9yZWY0LnRvdGFsTGVuZ3RoO1xuXHRcdFxuXHRcdCAgdmFyIGFsbENodW5rcyA9IFtdO1xuXHRcdCAgdmFyIGFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChzdGFydCwgZW5kLCBoaWdobGlnaHQpIHtcblx0XHQgICAgaWYgKGVuZCAtIHN0YXJ0ID4gMCkge1xuXHRcdCAgICAgIGFsbENodW5rcy5wdXNoKHtcblx0XHQgICAgICAgIHN0YXJ0OiBzdGFydCxcblx0XHQgICAgICAgIGVuZDogZW5kLFxuXHRcdCAgICAgICAgaGlnaGxpZ2h0OiBoaWdobGlnaHRcblx0XHQgICAgICB9KTtcblx0XHQgICAgfVxuXHRcdCAgfTtcblx0XHRcblx0XHQgIGlmIChjaHVua3NUb0hpZ2hsaWdodC5sZW5ndGggPT09IDApIHtcblx0XHQgICAgYXBwZW5kKDAsIHRvdGFsTGVuZ3RoLCBmYWxzZSk7XG5cdFx0ICB9IGVsc2Uge1xuXHRcdCAgICB2YXIgbGFzdEluZGV4ID0gMDtcblx0XHQgICAgY2h1bmtzVG9IaWdobGlnaHQuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmspIHtcblx0XHQgICAgICBhcHBlbmQobGFzdEluZGV4LCBjaHVuay5zdGFydCwgZmFsc2UpO1xuXHRcdCAgICAgIGFwcGVuZChjaHVuay5zdGFydCwgY2h1bmsuZW5kLCB0cnVlKTtcblx0XHQgICAgICBsYXN0SW5kZXggPSBjaHVuay5lbmQ7XG5cdFx0ICAgIH0pO1xuXHRcdCAgICBhcHBlbmQobGFzdEluZGV4LCB0b3RhbExlbmd0aCwgZmFsc2UpO1xuXHRcdCAgfVxuXHRcdCAgcmV0dXJuIGFsbENodW5rcztcblx0XHR9O1xuXHRcdFxuXHRcdGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG5cdFx0ICByZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHRcdFxuXHRcdGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cEZuKHN0cikge1xuXHRcdCAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgJ1xcXFwkJicpO1xuXHRcdH1cblx0XG5cdC8qKiovIH0pXG5cdC8qKioqKiovIF0pO1xuXHQvLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcblx0ICAgIFN5bWJvbC5mb3IgJiZcblx0ICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcblx0ICAgIDB4ZWFjNztcblx0XG5cdCAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcblx0ICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG5cdCAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuXHQgIH07XG5cdFxuXHQgIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuXHQgIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2Rcblx0ICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcblx0fSBlbHNlIHtcblx0ICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuXHQgIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2Rcblx0ICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKCk7XG5cdH1cblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0XG5cdC8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuXHQvLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcblx0Ly8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuXHQvLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXHRcblx0dmFyIGNhY2hlZFNldFRpbWVvdXQ7XG5cdHZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgfVxuXHR9ICgpKVxuXHRmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuXHQgICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuXHQgICAgICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0fVxuXHRmdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG5cdCAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcblx0ICAgICAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG5cdCAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdFxuXHR9XG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdHByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblx0XG5cdHByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBpbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciBhc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR2YXIgY2hlY2tQcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpIHtcblx0ICAvKiBnbG9iYWwgU3ltYm9sICovXG5cdCAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuXHQgIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJzsgLy8gQmVmb3JlIFN5bWJvbCBzcGVjLlxuXHRcblx0ICAvKipcblx0ICAgKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG5cdCAgICpcblx0ICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcblx0ICAgKlxuXHQgICAqICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obXlJdGVyYWJsZSk7XG5cdCAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG5cdCAgICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuXHQgICAqICAgICAgIC4uLlxuXHQgICAqICAgICB9XG5cdCAgICpcblx0ICAgKiBAcGFyYW0gez9vYmplY3R9IG1heWJlSXRlcmFibGVcblx0ICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG5cdCAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuXHQgICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcblx0ICAgKiBzdXBwbGllZCB0byBSZWFjdCBjb21wb25lbnRzLiBFeGFtcGxlIHVzYWdlOlxuXHQgICAqXG5cdCAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuXHQgICAqICAgdmFyIE15QXJ0aWNsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICAgcHJvcFR5cGVzOiB7XG5cdCAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuXHQgICAqICAgICAgIGRlc2NyaXB0aW9uOiBQcm9wcy5zdHJpbmcsXG5cdCAgICpcblx0ICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG5cdCAgICogICAgICAgY2F0ZWdvcnk6IFByb3BzLm9uZU9mKFsnTmV3cycsJ1Bob3RvcyddKS5pc1JlcXVpcmVkLFxuXHQgICAqXG5cdCAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG5cdCAgICogICAgICAgZGlhbG9nOiBQcm9wcy5pbnN0YW5jZU9mKERpYWxvZykuaXNSZXF1aXJlZFxuXHQgICAqICAgICB9LFxuXHQgICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuXHQgICAqICAgfSk7XG5cdCAgICpcblx0ICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG5cdCAgICpcblx0ICAgKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcblx0ICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cblx0ICAgKlxuXHQgICAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcblx0ICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG5cdCAgICpcblx0ICAgKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICBwcm9wVHlwZXM6IHtcblx0ICAgKiAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBvciBVUkkgcHJvcCBuYW1lZCBcImhyZWZcIi5cblx0ICAgKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuXHQgICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAqICAgICAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHByb3BWYWx1ZSAhPT0gJ3N0cmluZycgJiZcblx0ICAgKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xuXHQgICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG5cdCAgICogICAgICAgICAgICAnRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYW4gVVJJIGZvciAnICsgcHJvcE5hbWUgKyAnIGluICcgK1xuXHQgICAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuXHQgICAqICAgICAgICAgICk7XG5cdCAgICogICAgICAgIH1cblx0ICAgKiAgICAgIH1cblx0ICAgKiAgICB9LFxuXHQgICAqICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7Li4ufVxuXHQgICAqICB9KTtcblx0ICAgKlxuXHQgICAqIEBpbnRlcm5hbFxuXHQgICAqL1xuXHRcblx0ICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuXHRcblx0ICAvLyBJbXBvcnRhbnQhXG5cdCAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanNgLlxuXHQgIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcblx0ICAgIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcblx0ICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG5cdCAgICBmdW5jOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignZnVuY3Rpb24nKSxcblx0ICAgIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxuXHQgICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG5cdCAgICBzdHJpbmc6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcblx0ICAgIHN5bWJvbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N5bWJvbCcpLFxuXHRcblx0ICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcblx0ICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcblx0ICAgIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxuXHQgICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcblx0ICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG5cdCAgICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcblx0ICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG5cdCAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG5cdCAgICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcixcblx0ICAgIGV4YWN0OiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyLFxuXHQgIH07XG5cdFxuXHQgIC8qKlxuXHQgICAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cblx0ICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcblx0ICAgKi9cblx0ICAvKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSovXG5cdCAgZnVuY3Rpb24gaXMoeCwgeSkge1xuXHQgICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuXHQgICAgaWYgKHggPT09IHkpIHtcblx0ICAgICAgLy8gU3RlcHMgMS01LCA3LTEwXG5cdCAgICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG5cdCAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG5cdCAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8qZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXHRcblx0ICAvKipcblx0ICAgKiBXZSB1c2UgYW4gRXJyb3ItbGlrZSBvYmplY3QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYXMgcGVvcGxlIG1heSBjYWxsXG5cdCAgICogUHJvcFR5cGVzIGRpcmVjdGx5IGFuZCBpbnNwZWN0IHRoZWlyIG91dHB1dC4gSG93ZXZlciwgd2UgZG9uJ3QgdXNlIHJlYWxcblx0ICAgKiBFcnJvcnMgYW55bW9yZS4gV2UgZG9uJ3QgaW5zcGVjdCB0aGVpciBzdGFjayBhbnl3YXksIGFuZCBjcmVhdGluZyB0aGVtXG5cdCAgICogaXMgcHJvaGliaXRpdmVseSBleHBlbnNpdmUgaWYgdGhleSBhcmUgY3JlYXRlZCB0b28gb2Z0ZW4sIHN1Y2ggYXMgd2hhdFxuXHQgICAqIGhhcHBlbnMgaW4gb25lT2ZUeXBlKCkgZm9yIGFueSB0eXBlIGJlZm9yZSB0aGUgb25lIHRoYXQgbWF0Y2hlZC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBQcm9wVHlwZUVycm9yKG1lc3NhZ2UpIHtcblx0ICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdCAgICB0aGlzLnN0YWNrID0gJyc7XG5cdCAgfVxuXHQgIC8vIE1ha2UgYGluc3RhbmNlb2YgRXJyb3JgIHN0aWxsIHdvcmsgZm9yIHJldHVybmVkIGVycm9ycy5cblx0ICBQcm9wVHlwZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpIHtcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIHZhciBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSA9IHt9O1xuXHQgICAgICB2YXIgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPSAwO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG5cdCAgICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IEFOT05ZTU9VUztcblx0ICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXHRcblx0ICAgICAgaWYgKHNlY3JldCAhPT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcblx0ICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuXHQgICAgICAgICAgLy8gTmV3IGJlaGF2aW9yIG9ubHkgZm9yIHVzZXJzIG9mIGBwcm9wLXR5cGVzYCBwYWNrYWdlXG5cdCAgICAgICAgICBpbnZhcmlhbnQoXG5cdCAgICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICAgICAgICdVc2UgYFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpYCB0byBjYWxsIHRoZW0uICcgK1xuXHQgICAgICAgICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG5cdCAgICAgICAgICB2YXIgY2FjaGVLZXkgPSBjb21wb25lbnROYW1lICsgJzonICsgcHJvcE5hbWU7XG5cdCAgICAgICAgICBpZiAoXG5cdCAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcblx0ICAgICAgICAgICAgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXG5cdCAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50IDwgM1xuXHQgICAgICAgICAgKSB7XG5cdCAgICAgICAgICAgIHdhcm5pbmcoXG5cdCAgICAgICAgICAgICAgZmFsc2UsXG5cdCAgICAgICAgICAgICAgJ1lvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBhIFJlYWN0LlByb3BUeXBlcyB2YWxpZGF0aW9uICcgK1xuXHQgICAgICAgICAgICAgICdmdW5jdGlvbiBmb3IgdGhlIGAlc2AgcHJvcCBvbiBgJXNgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArXG5cdCAgICAgICAgICAgICAgJ2FuZCB3aWxsIHRocm93IGluIHRoZSBzdGFuZGFsb25lIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcblx0ICAgICAgICAgICAgICAnWW91IG1heSBiZSBzZWVpbmcgdGhpcyB3YXJuaW5nIGR1ZSB0byBhIHRoaXJkLXBhcnR5IFByb3BUeXBlcyAnICtcblx0ICAgICAgICAgICAgICAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJyxcblx0ICAgICAgICAgICAgICBwcm9wRnVsbE5hbWUsXG5cdCAgICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gPSB0cnVlO1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcblx0ICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuXHQgICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkICcgKyAoJ2luIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGBudWxsYC4nKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGB1bmRlZmluZWRgLicpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY2hhaW5lZENoZWNrVHlwZSA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIGZhbHNlKTtcblx0ICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXHRcblx0ICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuXHQgICAgICAgIC8vIGBwcm9wVmFsdWVgIGJlaW5nIGluc3RhbmNlIG9mLCBzYXksIGRhdGUvcmVnZXhwLCBwYXNzIHRoZSAnb2JqZWN0J1xuXHQgICAgICAgIC8vIGNoZWNrLCBidXQgd2UgY2FuIG9mZmVyIGEgbW9yZSBwcmVjaXNlIGVycm9yIG1lc3NhZ2UgaGVyZSByYXRoZXIgdGhhblxuXHQgICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cblx0ICAgICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuXHRcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIoZXhwZWN0ZWRDbGFzcykge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG5cdCAgICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VUztcblx0ICAgICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgYWN0dWFsQ2xhc3NOYW1lICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdpbnN0YW5jZSBvZiBgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJ2AuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuXHQgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoaXMocHJvcFZhbHVlLCBleHBlY3RlZFZhbHVlc1tpXSkpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHZhbHVlc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGV4cGVjdGVkVmFsdWVzKTtcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB2YWx1ZSBgJyArIHByb3BWYWx1ZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuXHQgICAgICAgIGlmIChwcm9wVmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlVW5pb25UeXBlQ2hlY2tlcihhcnJheU9mVHlwZUNoZWNrZXJzKSB7XG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB2b2lkIDA7XG5cdCAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuXHQgICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB3YXJuaW5nKFxuXHQgICAgICAgICAgZmFsc2UsXG5cdCAgICAgICAgICAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUuIEV4cGVjdGVkIGFuIGFycmF5IG9mIGNoZWNrIGZ1bmN0aW9ucywgYnV0ICcgK1xuXHQgICAgICAgICAgJ3JlY2VpdmVkICVzIGF0IGluZGV4ICVzLicsXG5cdCAgICAgICAgICBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcoY2hlY2tlciksXG5cdCAgICAgICAgICBpXG5cdCAgICAgICAgKTtcblx0ICAgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuXHQgICAgICAgIGlmIChjaGVja2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpID09IG51bGwpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBzaGFwZVR5cGVzKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cdCAgICAgICAgaWYgKCFjaGVja2VyKSB7XG5cdCAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG5cdCAgICAgIC8vIHByb3BzLlxuXHQgICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcblx0ICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcblx0ICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcblx0ICAgICAgICBpZiAoIWNoZWNrZXIpIHtcblx0ICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcblx0ICAgICAgICAgICAgJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGtleSBgJyArIGtleSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLicgK1xuXHQgICAgICAgICAgICAnXFxuQmFkIG9iamVjdDogJyArIEpTT04uc3RyaW5naWZ5KHByb3BzW3Byb3BOYW1lXSwgbnVsbCwgJyAgJykgK1xuXHQgICAgICAgICAgICAnXFxuVmFsaWQga2V5czogJyArICBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJylcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzTm9kZShwcm9wVmFsdWUpIHtcblx0ICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuXHQgICAgICBjYXNlICdudW1iZXInOlxuXHQgICAgICBjYXNlICdzdHJpbmcnOlxuXHQgICAgICBjYXNlICd1bmRlZmluZWQnOlxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICBjYXNlICdib29sZWFuJzpcblx0ICAgICAgICByZXR1cm4gIXByb3BWYWx1ZTtcblx0ICAgICAgY2FzZSAnb2JqZWN0Jzpcblx0ICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwgfHwgaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcblx0ICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuXHQgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgICB2YXIgc3RlcDtcblx0ICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuXHQgICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgICAgaWYgKCFpc05vZGUoc3RlcC52YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuXHQgICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcblx0ICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcblx0ICAgIC8vIE5hdGl2ZSBTeW1ib2wuXG5cdCAgICBpZiAocHJvcFR5cGUgPT09ICdzeW1ib2wnKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG5cdCAgICBpZiAocHJvcFZhbHVlWydAQHRvU3RyaW5nVGFnJ10gPT09ICdTeW1ib2wnKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEZhbGxiYWNrIGZvciBub24tc3BlYyBjb21wbGlhbnQgU3ltYm9scyB3aGljaCBhcmUgcG9seWZpbGxlZC5cblx0ICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICAvLyBFcXVpdmFsZW50IG9mIGB0eXBlb2ZgIGJ1dCB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGFycmF5IGFuZCByZWdleHAuXG5cdCAgZnVuY3Rpb24gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKSB7XG5cdCAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gJ2FycmF5Jztcblx0ICAgIH1cblx0ICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuXHQgICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cblx0ICAgICAgLy8gcGFzc2VzIFByb3BUeXBlcy5vYmplY3QuXG5cdCAgICAgIHJldHVybiAnb2JqZWN0Jztcblx0ICAgIH1cblx0ICAgIGlmIChpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gJ3N5bWJvbCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcHJvcFR5cGU7XG5cdCAgfVxuXHRcblx0ICAvLyBUaGlzIGhhbmRsZXMgbW9yZSB0eXBlcyB0aGFuIGBnZXRQcm9wVHlwZWAuIE9ubHkgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG5cdCAgLy8gU2VlIGBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcmAuXG5cdCAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG5cdCAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvcFZhbHVlID09PSBudWxsKSB7XG5cdCAgICAgIHJldHVybiAnJyArIHByb3BWYWx1ZTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICBpZiAocHJvcFR5cGUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdCAgICAgICAgcmV0dXJuICdkYXRlJztcblx0ICAgICAgfSBlbHNlIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBwcm9wVHlwZTtcblx0ICB9XG5cdFxuXHQgIC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBwb3N0Zml4ZWQgdG8gYSB3YXJuaW5nIGFib3V0IGFuIGludmFsaWQgdHlwZS5cblx0ICAvLyBGb3IgZXhhbXBsZSwgXCJ1bmRlZmluZWRcIiBvciBcIm9mIHR5cGUgYXJyYXlcIlxuXHQgIGZ1bmN0aW9uIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyh2YWx1ZSkge1xuXHQgICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG5cdCAgICBzd2l0Y2ggKHR5cGUpIHtcblx0ICAgICAgY2FzZSAnYXJyYXknOlxuXHQgICAgICBjYXNlICdvYmplY3QnOlxuXHQgICAgICAgIHJldHVybiAnYW4gJyArIHR5cGU7XG5cdCAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuXHQgICAgICBjYXNlICdkYXRlJzpcblx0ICAgICAgY2FzZSAncmVnZXhwJzpcblx0ICAgICAgICByZXR1cm4gJ2EgJyArIHR5cGU7XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgcmV0dXJuIHR5cGU7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuXHQgIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcblx0ICAgIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xuXHQgICAgICByZXR1cm4gQU5PTllNT1VTO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xuXHQgIH1cblx0XG5cdCAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBjaGVja1Byb3BUeXBlcztcblx0ICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblx0XG5cdCAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xuXHR9O1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICpcblx0ICogXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBhcmc7XG5cdCAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG5cdCAqIHByaW1hcmlseSB1c2VmdWwgaWRpb21hdGljYWxseSBmb3Igb3ZlcnJpZGFibGUgZnVuY3Rpb24gZW5kcG9pbnRzIHdoaWNoXG5cdCAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG5cdCAqL1xuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fTtcblx0XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlID0gbWFrZUVtcHR5RnVuY3Rpb24oZmFsc2UpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVGhpcyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50ID0gZnVuY3Rpb24gKGFyZykge1xuXHQgIHJldHVybiBhcmc7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG5cdCAqXG5cdCAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG5cdCAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuXHQgKiBleHBlY3RpbmcuXG5cdCAqXG5cdCAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG5cdCAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0ICovXG5cdFxuXHR2YXIgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHt9O1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0ICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXHRcblx0ICBpZiAoIWNvbmRpdGlvbikge1xuXHQgICAgdmFyIGVycm9yO1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcblx0ICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgICAgfSkpO1xuXHQgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuXHQgICAgfVxuXHRcblx0ICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcblx0ICAgIHRocm93IGVycm9yO1xuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0LyoqXG5cdCAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cblx0ICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuXHQgKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuXHQgKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cblx0ICovXG5cdFxuXHR2YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb247XG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiBwcmludFdhcm5pbmcoZm9ybWF0KSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgIH0pO1xuXHQgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuXHQgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcblx0ICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0ICAgIH0gY2F0Y2ggKHgpIHt9XG5cdCAgfTtcblx0XG5cdCAgd2FybmluZyA9IGZ1bmN0aW9uIHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQpIHtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChmb3JtYXQuaW5kZXhPZignRmFpbGVkIENvbXBvc2l0ZSBwcm9wVHlwZTogJykgPT09IDApIHtcblx0ICAgICAgcmV0dXJuOyAvLyBJZ25vcmUgQ29tcG9zaXRlQ29tcG9uZW50IHByb3B0eXBlIGNoZWNrLlxuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcblx0ICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Lypcblx0b2JqZWN0LWFzc2lnblxuXHQoYykgU2luZHJlIFNvcmh1c1xuXHRAbGljZW5zZSBNSVRcblx0Ki9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0dmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdHZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0XG5cdGZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRcdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gT2JqZWN0KHZhbCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0XHR9KTtcblx0XHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdFx0dmFyIHRlc3QzID0ge307XG5cdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0XHR2YXIgZnJvbTtcblx0XHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHRcdHZhciBzeW1ib2xzO1xuXHRcblx0XHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXHRcblx0XHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdG87XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcblxuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0ICB2YXIgd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdCAgdmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdCAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuXHQgKiBFcnJvciBtZXNzYWdlcyBhcmUgbWVtb3JpemVkIGFuZCB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcblx0ICogQHBhcmFtIHtvYmplY3R9IHZhbHVlcyBSdW50aW1lIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgdHlwZS1jaGVja2VkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBlLmcuIFwicHJvcFwiLCBcImNvbnRleHRcIiwgXCJjaGlsZCBjb250ZXh0XCJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cblx0ICogQHBhcmFtIHs/RnVuY3Rpb259IGdldFN0YWNrIFJldHVybnMgdGhlIGNvbXBvbmVudCBzdGFjay5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHR5cGVTcGVjcywgdmFsdWVzLCBsb2NhdGlvbiwgY29tcG9uZW50TmFtZSwgZ2V0U3RhY2spIHtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuXHQgICAgICBpZiAodHlwZVNwZWNzLmhhc093blByb3BlcnR5KHR5cGVTcGVjTmFtZSkpIHtcblx0ICAgICAgICB2YXIgZXJyb3I7XG5cdCAgICAgICAgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cblx0ICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG5cdCAgICAgICAgLy8gQWZ0ZXIgdGhlc2UgaGF2ZSBiZWVuIGNsZWFuZWQgdXAsIHdlJ2xsIGxldCB0aGVtIHRocm93LlxuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcblx0ICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cblx0ICAgICAgICAgIGludmFyaWFudCh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gPT09ICdmdW5jdGlvbicsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAndGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCVzYC4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSk7XG5cdCAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG5cdCAgICAgICAgICBlcnJvciA9IGV4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBsb2NhdGlvbiwgdHlwZVNwZWNOYW1lLCB0eXBlb2YgZXJyb3IpO1xuXHQgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG5cdCAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcblx0ICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG5cdCAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuXHRcblx0ICAgICAgICAgIHZhciBzdGFjayA9IGdldFN0YWNrID8gZ2V0U3RhY2soKSA6ICcnO1xuXHRcblx0ICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgJXMgdHlwZTogJXMlcycsIGxvY2F0aW9uLCBlcnJvci5tZXNzYWdlLCBzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGNoZWNrUHJvcFR5cGVzO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlbXB0eUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIGludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG5cdCAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuXHQgICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGludmFyaWFudChcblx0ICAgICAgZmFsc2UsXG5cdCAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcblx0ICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuXHQgICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcblx0ICAgICk7XG5cdCAgfTtcblx0ICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuXHQgIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG5cdCAgICByZXR1cm4gc2hpbTtcblx0ICB9O1xuXHQgIC8vIEltcG9ydGFudCFcblx0ICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cblx0ICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG5cdCAgICBhcnJheTogc2hpbSxcblx0ICAgIGJvb2w6IHNoaW0sXG5cdCAgICBmdW5jOiBzaGltLFxuXHQgICAgbnVtYmVyOiBzaGltLFxuXHQgICAgb2JqZWN0OiBzaGltLFxuXHQgICAgc3RyaW5nOiBzaGltLFxuXHQgICAgc3ltYm9sOiBzaGltLFxuXHRcblx0ICAgIGFueTogc2hpbSxcblx0ICAgIGFycmF5T2Y6IGdldFNoaW0sXG5cdCAgICBlbGVtZW50OiBzaGltLFxuXHQgICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcblx0ICAgIG5vZGU6IHNoaW0sXG5cdCAgICBvYmplY3RPZjogZ2V0U2hpbSxcblx0ICAgIG9uZU9mOiBnZXRTaGltLFxuXHQgICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuXHQgICAgc2hhcGU6IGdldFNoaW0sXG5cdCAgICBleGFjdDogZ2V0U2hpbVxuXHQgIH07XG5cdFxuXHQgIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcblx0ICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblx0XG5cdCAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgc2ltcGxlSXNFcXVhbCA9IGZ1bmN0aW9uIHNpbXBsZUlzRXF1YWwoYSwgYikge1xuXHQgIHJldHVybiBhID09PSBiO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gaW5kZXggKHJlc3VsdEZuKSB7XG5cdCAgdmFyIGlzRXF1YWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHNpbXBsZUlzRXF1YWw7XG5cdFxuXHQgIHZhciBsYXN0VGhpcyA9IHZvaWQgMDtcblx0ICB2YXIgbGFzdEFyZ3MgPSBbXTtcblx0ICB2YXIgbGFzdFJlc3VsdCA9IHZvaWQgMDtcblx0ICB2YXIgY2FsbGVkT25jZSA9IGZhbHNlO1xuXHRcblx0ICB2YXIgaXNOZXdBcmdFcXVhbFRvTGFzdCA9IGZ1bmN0aW9uIGlzTmV3QXJnRXF1YWxUb0xhc3QobmV3QXJnLCBpbmRleCkge1xuXHQgICAgcmV0dXJuIGlzRXF1YWwobmV3QXJnLCBsYXN0QXJnc1tpbmRleF0pO1xuXHQgIH07XG5cdFxuXHQgIHZhciByZXN1bHQgPSBmdW5jdGlvbiByZXN1bHQoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbmV3QXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBuZXdBcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjYWxsZWRPbmNlICYmIGxhc3RUaGlzID09PSB0aGlzICYmIG5ld0FyZ3MubGVuZ3RoID09PSBsYXN0QXJncy5sZW5ndGggJiYgbmV3QXJncy5ldmVyeShpc05ld0FyZ0VxdWFsVG9MYXN0KSkge1xuXHQgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICBjYWxsZWRPbmNlID0gdHJ1ZTtcblx0ICAgIGxhc3RUaGlzID0gdGhpcztcblx0ICAgIGxhc3RBcmdzID0gbmV3QXJncztcblx0ICAgIGxhc3RSZXN1bHQgPSByZXN1bHRGbi5hcHBseSh0aGlzLCBuZXdBcmdzKTtcblx0ICAgIHJldHVybiBsYXN0UmVzdWx0O1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaW5kZXg7XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbi5qcy5tYXBcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMDk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwsIHByb2Nlc3MpIHsvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmIChpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnRzLmRlYnVnbG9nID0gZnVuY3Rpb24oc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTtcbiAgLy8gbGVnYWN5Li4uXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTtcbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIGV4cG9ydHMuX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMTApO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMTEpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNTApLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNykpKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExMTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCIzMTdkZjBiNzE5NDRiMjAwY2IwYTIzMjllN2FlYmMwYi5naWZcIjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cbnZhciBfVGV4dEZpZWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXG52YXIgX1RleHRGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0RmllbGQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAYXV0aG9yIEJhbHJhaiBTaW5naCA8YmFscmFqc2luZ2guc0BoaWdocmFkaXVzLmNvbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub25BY3Rpb25Ob3Rlc0VkaXRpbmc6IHtcbiAgICAgICAgICAgIGJveFNoYWRvdzogXCIgMCA0cHggOHB4IDAgcmdiYSgwLDAsMCwwLjIpXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjAuOHJlbVwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjRkZGXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVzdDoge1xuICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgICAgICAgIGhlaWdodDogJzEwdmgnLFxuICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICBwYWRkaW5nOiAnMHB4JyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jayAhaW1wb3J0YW50JyxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdwcmUtbGluZSdcbiAgICAgICAgfSxcbiAgICAgICAgbm9uQWN0aW9uTm90ZXNUaXRsZToge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiMXJlbVwiLFxuICAgICAgICAgICAgbGluZUhlaWdodDogXCIxLjVyZW1cIixcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1XG4gICAgICAgIH0sXG4gICAgICAgIG5vdGVzRWRpdG9yOiB7XG4gICAgICAgICAgICB3aWR0aDogJy13ZWJraXQtZmlsbC1hdmFpbGFibGUnXG4gICAgICAgIH0sXG4gICAgICAgIG5vbkFjdGlvbk5vdGVzTm90RWRpdGluZzoge31cbiAgICB9O1xufTtcblxudmFyIE5vdGVzRWRpdG9yID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoTm90ZXNFZGl0b3IsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gTm90ZXNFZGl0b3IocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vdGVzRWRpdG9yKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTm90ZXNFZGl0b3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOb3Rlc0VkaXRvcikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVOb3Rlc1RleHRGaWVsZENoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IG5vbkFjdGlvbk5vdGVzOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5lZGl0Tm9uQWN0aW9uTm90ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlzRWRpdGluZ09uOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRGaWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEZpZWxkLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU29tZXRoaW5nIGhhcHBlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuZGlzY2FyZE5vdGVzQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgbm9uQWN0aW9uTm90ZXM6IF90aGlzLnN0YXRlLnByZXZOb25BY3Rpb25Ob3Rlc1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmJsdXJOb25BY3Rpb25Ob3Rlc0JveCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuc2F2ZU5vdGVzQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJldk5vbkFjdGlvbk5vdGVzOiBfdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlc1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmJsdXJOb25BY3Rpb25Ob3Rlc0JveCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uTm90ZXNDaGFuZ2UoX3RoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuYmx1ck5vbkFjdGlvbk5vdGVzQm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9uLWFjdGlvbi1ub3Rlcy1lZGl0LWZpZWxkXCIpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0RmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEZpZWxkLmJsdXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxuICAgICAgICAgICAgbm9uQWN0aW9uTm90ZXM6IF90aGlzLnByb3BzLmluaXRpYWxOb3RlcyxcbiAgICAgICAgICAgIHByZXZOb25BY3Rpb25Ob3RlczogX3RoaXMucHJvcHMuaW5pdGlhbE5vdGVzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTm90ZXNFZGl0b3IsIFt7XG4gICAgICAgIGtleTogJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHMuaW5pdGlhbE5vdGVzICE9PSB0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXh0U3RhdGUuaXNFZGl0aW5nT24gIT09IHRoaXMuc3RhdGUuaXNFZGl0aW5nT24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBjbGFzc2VzID0gdGhpcy5wcm9wcy5jbGFzc2VzO1xuXG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5ub25BY3Rpb25Ob3Rlc1RpdGxlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnTk9OIEFDVElPTiBOT1RFUydcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNFZGl0aW5nT24gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkJvcmRlckNvbG9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzVEQUFFMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQ6ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmVkaXROb25BY3Rpb25Ob3Rlc1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmbG9hdDogJ3JpZ2h0JyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuSGlnaGxpZ2h0T2ZmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogJzAuNHJlbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI0ZGODg4OCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcwIDEuM3JlbSAwIDAuOHJlbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmRpc2NhcmROb3Rlc0NoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkNoZWNrQ2lyY2xlT3V0bGluZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzVGQzMyQycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNhdmVOb3Rlc0NoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGQnLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aWxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzLFxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVOb3Rlc1RleHRGaWVsZENoYW5nZShlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLm5vdGVzRWRpdG9yICsgJyAnICsgKHRoaXMuc3RhdGUuaXNFZGl0aW5nT24gPyBjbGFzc2VzLm5vbkFjdGlvbk5vdGVzRWRpdGluZyA6IGNsYXNzZXMubm9uQWN0aW9uTm90ZXNOb3RFZGl0aW5nKSxcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnbm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogQm9vbGVhbighdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiksXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRydWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBOb3Rlc0VkaXRvcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoTm90ZXNFZGl0b3IpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExNDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jaGVja1N1bW1hcnlDb21wbGV0ZU1hcCA9IGV4cG9ydHMuY3JlYXRlSW5pdGlhbE5vbkFjdGlvblN1bW1hcnlOb3RlcyA9IGV4cG9ydHMuYXBwZW5kSWRzVG9TdW1tYXJ5ID0gZXhwb3J0cy5jcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcCA9IGV4cG9ydHMuZ2VuZXJhdGVOb3Rlc0FzU3RyaW5nID0gdW5kZWZpbmVkO1xuXG52YXIgX2hlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG52YXIgZ2VuZXJhdGVOb3Rlc0FzU3RyaW5nID0gZXhwb3J0cy5nZW5lcmF0ZU5vdGVzQXNTdHJpbmcgPSBmdW5jdGlvbiBnZW5lcmF0ZU5vdGVzQXNTdHJpbmcobm90ZXMpIHtcbiAgICB2YXIgbm90ZXNTdHJpbmcgPSAnJztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm90ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbm90ZXNTdHJpbmcgKz0gaSA9PT0gbm90ZXMubGVuZ3RoIC0gMSA/IG5vdGVzW2ldLnRyaW0oKSA6IG5vdGVzW2ldLnRyaW0oKSArICcvbic7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vdGVzU3RyaW5nO1xufTtcblxudmFyIGNyZWF0ZVN1bW1hcnlDb21wbGV0aW9uTWFwID0gZXhwb3J0cy5jcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcCA9IGZ1bmN0aW9uIGNyZWF0ZVN1bW1hcnlDb21wbGV0aW9uTWFwKHN1bW1hcnkpIHtcbiAgICB2YXIgbWFwID0gbmV3IE1hcCgpO1xuXG4gICAgc3VtbWFyeSAmJiBzdW1tYXJ5Lm1hcChmdW5jdGlvbiAoc3VtbWFyeSkge1xuICAgICAgICByZXR1cm4gKDAsIF9oZWxwZXIuaXNBY3Rpb25JbnRlbnQpKHN1bW1hcnkuaW50ZW50KSAmJiBtYXAuc2V0KHN1bW1hcnkuaWQsIGZhbHNlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBtYXA7XG59O1xuXG52YXIgYXBwZW5kSWRzVG9TdW1tYXJ5ID0gZXhwb3J0cy5hcHBlbmRJZHNUb1N1bW1hcnkgPSBmdW5jdGlvbiBhcHBlbmRJZHNUb1N1bW1hcnkoc3VtbWFyeSkge1xuICAgIC8vYXBwZW5kIGlkcyB0byBzdW1tYXJ5XG4gICAgaWYgKHN1bW1hcnkpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBzdW1tYXJ5KSB7XG4gICAgICAgICAgICBzdW1tYXJ5W2ldWydpZCddID0gaSArIDE7XG4gICAgICAgICAgICBzdW1tYXJ5W2ldWydzYXZlJ10gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdW1tYXJ5O1xufTtcblxudmFyIGNyZWF0ZUluaXRpYWxOb25BY3Rpb25TdW1tYXJ5Tm90ZXMgPSBleHBvcnRzLmNyZWF0ZUluaXRpYWxOb25BY3Rpb25TdW1tYXJ5Tm90ZXMgPSBmdW5jdGlvbiBjcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzKHN1bW1hcnkpIHtcbiAgICB2YXIgdm9pY2VtYWlsTWVzc2FnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgICB2YXIgaW5pdGlhbE5vdGVzU3RyaW5nID0gJyc7XG5cbiAgICBpZiAodm9pY2VtYWlsTWVzc2FnZSkge1xuICAgICAgICBpbml0aWFsTm90ZXNTdHJpbmcgKz0gdm9pY2VtYWlsTWVzc2FnZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIHN1bW1hcnkpIHtcbiAgICAgICAgaWYgKCEoMCwgX2hlbHBlci5pc0FjdGlvbkludGVudCkoc3VtbWFyeVtpXS5pbnRlbnQpKSB7XG4gICAgICAgICAgICBpbml0aWFsTm90ZXNTdHJpbmcgKz0gc3VtbWFyeVtpXS5zdW1tYXJ5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluaXRpYWxOb3Rlc1N0cmluZztcbn07XG5cbi8vY2hlY2tzIGlmIHRoZSBtYXAgY29udGFpbnMgYW55IGZhbHNlIHZhbHVlXG4vL3JldHVybiB0cnVlIGlmIGl0IGRvZXNcbnZhciBjaGVja1N1bW1hcnlDb21wbGV0ZU1hcCA9IGV4cG9ydHMuY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXAgPSBmdW5jdGlvbiBjaGVja1N1bW1hcnlDb21wbGV0ZU1hcChzdW1tYXJ5Q29tcGxldGlvbk1hcCkge1xuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuXG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHN1bW1hcnlDb21wbGV0aW9uTWFwLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodmFsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jb21tb25TZXJ2aWNlID0gdW5kZWZpbmVkO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX25ldHdvcmtVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy9jb21tZW50IG91dCBmb2xsb3dpbmcgYmVmb3JlIHB1c2ggdG8gZ2l0XG5cbi8vZm9yIGxvY2FsaG9zdCwgY29tbWVudCBmb2xsb3dpbmcgYmVmb3JlIHB1c2ggdG8gZ2l0XG52YXIgQkFTRV9FTkRQT0lOVCA9ICcvY29tbW9uJztcbi8vIGNvbnN0IEJBU0VfRU5EUE9JTlQgPSAnJzsvL21vY2tcblxudmFyIERJU1BVVEVfRU5EUE9JTlQgPSAnL2Rpc3B1dGVjb2Rlcyc7XG52YXIgRk9MTE9XX1VQX0VORFBPSU5UID0gJy90YXNrdHlwZXMnO1xuXG52YXIgZ2V0RGlzcHV0ZUNvZGVzID0gZnVuY3Rpb24gZ2V0RGlzcHV0ZUNvZGVzKCkge1xuICAgIHJldHVybiBfYXhpb3MyLmRlZmF1bHQuZ2V0KCcnICsgX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyBCQVNFX0VORFBPSU5UICsgRElTUFVURV9FTkRQT0lOVCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfbmV0d29ya1V0aWxzLmhhbmRsZUFwaVJlc3BvbnNlKShyZXNwb25zZSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAoMCwgX25ldHdvcmtVdGlscy5oYW5kbGVBcGlSZXNwb25zZSkoZXJyb3IpO1xuICAgIH0pO1xufTtcblxudmFyIGdldFRhc2tUeXBlcyA9IGZ1bmN0aW9uIGdldFRhc2tUeXBlcygpIHtcbiAgICByZXR1cm4gX2F4aW9zMi5kZWZhdWx0LmdldCgnJyArIF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgQkFTRV9FTkRQT0lOVCArIEZPTExPV19VUF9FTkRQT0lOVCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfbmV0d29ya1V0aWxzLmhhbmRsZUFwaVJlc3BvbnNlKShyZXNwb25zZSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAoMCwgX25ldHdvcmtVdGlscy5oYW5kbGVBcGlSZXNwb25zZSkoZXJyb3IpO1xuICAgIH0pO1xufTtcblxudmFyIGNvbW1vblNlcnZpY2UgPSBleHBvcnRzLmNvbW1vblNlcnZpY2UgPSB7IGdldERpc3B1dGVDb2RlczogZ2V0RGlzcHV0ZUNvZGVzLCBnZXRUYXNrVHlwZXM6IGdldFRhc2tUeXBlcyB9O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9UYWJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzEpO1xuXG52YXIgX1RhYnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFicyk7XG5cbnZhciBfVGFiID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzApO1xuXG52YXIgX1RhYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWIpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0R1ZURldGFpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3OSk7XG5cbnZhciBfRHVlRGV0YWlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0R1ZURldGFpbCk7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmN1bGFyUHJvZ3Jlc3MpO1xuXG52YXIgX0ludm9pY2VUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4MCk7XG5cbnZhciBfSW52b2ljZVRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludm9pY2VUYWJsZSk7XG5cbnZhciBfZm9ybWF0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gVGFiQ29udGFpbmVyKHByb3BzLCB0aGVtZSkge1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgIHsgY29tcG9uZW50OiAnZGl2Jywgc3R5bGU6IHsgcGFkZGluZ1RvcDogXCIxLjg1dmhcIiB9IH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX2NvcmUuUGFwZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZWxldmF0aW9uOiAxLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCI3OC41dmhcIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBwcm9wcy50aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW5cbiAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlblxuICAgICAgICApXG4gICAgKTtcbn1cblxuVGFiQ29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLmlzUmVxdWlyZWRcbn07XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByb290OiB7XG4gICAgICAgICAgICAvLyAgd2lkdGg6IFwiNjEuNDg5dndcIlxuICAgICAgICB9LFxuICAgICAgICBwcm9ncmVzczoge1xuICAgICAgICAgICAgbWFyZ2luOiBcIjdyZW0gMCAwIDIwcmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2Nyb2xsQnV0dG9uczoge1xuICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgIGZsZXg6IFwiMCAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgaW5kaWNhdG9yOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiMnB4XCIsXG4gICAgICAgICAgICB0b3A6IFwiNS43dmggIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIHRhYlNlbGVjdGVkOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgdGFiUm9vdDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDUuNjY2dmggKyA1LjY2NnZ3KVwiLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjYuM3ZoXCIsXG4gICAgICAgICAgICBtYXhIZWlnaHQ6IFwiNi4zdmhcIlxuICAgICAgICB9LFxuICAgICAgICB0YWJXcmFwcGVyOiB7XG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiLjR2d1wiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYyg1LjY2NnZoICsgNS42NjZ2dylcIlxuICAgICAgICB9LFxuICAgICAgICB0YWJzRmxleENvbnRhaW5lcjoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjYuM3ZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGFic1Jvb3Q6IHtcbiAgICAgICAgICAgIG1pbkhlaWdodDogXCI2LjN2aFwiLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjYuM3ZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGFic1Njcm9sbGVyOiB7XG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiLTEwdmggIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIGludm9pY2VDb3VudFRleHQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi44cmVtXCIsXG4gICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGJ1Y2tldE5hbWVzOiBbXSxcbiAgICBpbnZvaWNlczogW11cbn07XG5cbnZhciBJbkNhbGxEZXRhaWxzID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoSW5DYWxsRGV0YWlscywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBJbkNhbGxEZXRhaWxzKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbkNhbGxEZXRhaWxzKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW5DYWxsRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEluQ2FsbERldGFpbHMpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuZmlsdGVySW52b2ljZXMgPSBmdW5jdGlvbiAoaW52b2ljZVR5cGUpIHtcbiAgICAgICAgICAgIGlmIChpbnZvaWNlVHlwZSA9PSBcIkFsbFwiKSBfdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBfdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcyB9KTtlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaW52b2ljZXMgPSBfdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRJbnZvaWNlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBBcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGludm9pY2VzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJEaXNwdXRlXCIgJiYgaW52b2ljZXNbaV1bal0uZGlzcHV0ZVN0YXR1cyAhPSBudWxsKSB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSk7ZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJQcmVkaWN0ZWQgRGVsaW5xdWVudFwiICYmIGludm9pY2VzW2ldW2pdLnAycERlbGlucXVlbnQgPT0gdHJ1ZSkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO2Vsc2UgaWYgKGludm9pY2VUeXBlID09IFwiVXBjb21pbmcgUDJQXCIgJiYgaW52b2ljZXNbaV1bal0ucDJwVXBjb21pbmcgPT0gdHJ1ZSkgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pO2Vsc2UgaWYgKGludm9pY2VUeXBlID09IFwiQnJva2VuIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycEJyb2tlbiA9PSB0cnVlKSB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRJbnZvaWNlcy5wdXNoKHRlbXBBcnJheSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IGZpbHRlcmVkSW52b2ljZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGRheXMgPSBfdGhpcy5wcm9wcy5idWNrZXROYW1lcy5yZXZlcnNlKCk7XG4gICAgICAgIGRheXMudW5zaGlmdChcIkN1cnJlbnQgRHVlXCIpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGRheXM6IGRheXNcbiAgICAgICAgICAgIC8vIGFsbEludm9pY2VzOiB0aGlzLnByb3BzLmludm9pY2VzLFxuXG4gICAgICAgICAgICAvLyBmaWx0ZXJJbnZvaWNlcyA9IGZpbHRlckludm9pY2VzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIC8vIGxldCB1cmwgPSBgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlc2BcbiAgICAgICAgICAgIC8vIGF4aW9zLmdldCh1cmwpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogcmVzcG9uc2UuZGF0YSB9KVxuICAgICAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBhbGxJbnZvaWNlczogcmVzcG9uc2UuZGF0YSB9KVxuICAgICAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgICAgICAgLy8gfSlcblxuXG4gICAgICAgIH07cmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8vRmlsdGVyIGludm9pY2UgYmFzZWQgb24gYnVja2V0XG5cblxuICAgIF9jcmVhdGVDbGFzcyhJbkNhbGxEZXRhaWxzLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuXG5cbiAgICAgICAgLy8gY2hlY2sgaWYgcHJpbWFyeSBlbWFpbCBJRCBpcyBwcmVzZW50IGluIGN1c3RvbWVyIGNvbnRhY3RzLlxuICAgICAgICAvLyBjaGVja0VtYWlsSUQgPSAoKSA9PiB7XG5cbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnByb3BzLmN1c3RvbWVyID09IHVuZGVmaW5lZCB8fCB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbaV0ucHJpbWFyeSA9PT0gdHJ1ZSAmJiB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2ldLmVtYWlsKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vICAgICB9XG5cbiAgICAgICAgLy8gfTtcblxuICAgICAgICAvLyAgZmluZFR5cGUgPSAoaW52b2ljZSkgPT4ge1xuICAgICAgICAvLyAgICAgICAgc3dpdGNoKGludm9pY2UpXG4gICAgICAgIC8vICAgICAgICB7XG4gICAgICAgIC8vICAgICAgICAgICAgY2FzZSBpbnZvaWNlLnAycERlbGlucXVlbnQgPT0gdHJ1ZSA6XG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIlByZWRpY3RlZCBEZWxpbnFtZW50XCJcbiAgICAgICAgLy8gICAgICAgICAgICBjYXNlIGludm9pY2UucDJwVXBjb21pbmcgPT0gdHJ1ZSA6XG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIlVwY29taW5nIFAyUFwiXG4gICAgICAgIC8vICAgICAgICAgICAgIGNhc2UgaW52b2ljZS5wMnBCcm9rZW4gPT0gdHJ1ZSA6XG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIkJyb2tlbiBQMlBcIlxuICAgICAgICAvLyAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gXCJEaXNwdXRlXCJcbiAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgLy8gIH1cbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXG4gICAgICAgICAgICAvLyBkYXlzID0gZGF5cy51bnNoaWZ0KFwiQ3VycmUgICBudCBEdWVcIilcblxuICAgICAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IFtdO1xuICAgICAgICAgICAgdmFyIGludm9pY2VUb3RhbEFtb3VudCA9IFtdO1xuICAgICAgICAgICAgdmFyIHRvdGFsSW52b2ljZUNvdW50ID0gMDtcbiAgICAgICAgICAgIHZhciB3aG9sZUFtb3VudCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUuZGF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGludm9pY2VUb3RhbEFtb3VudC5wdXNoKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW52b2ljZUNvdW50LnB1c2godGhpcy5zdGF0ZS5pbnZvaWNlc1tpXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZhciBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5zdGF0ZS5pbnZvaWNlc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBzdW0gPSBzdW0gKyB0aGlzLnN0YXRlLmludm9pY2VzW2ldW2pdLmN1cnJlbnRPcGVuQW1vdW50O1xuICAgICAgICAgICAgICAgICAgICB0b3RhbEludm9pY2VDb3VudCA9IHRvdGFsSW52b2ljZUNvdW50ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgd2hvbGVBbW91bnQgPSB3aG9sZUFtb3VudCArIHRoaXMuc3RhdGUuaW52b2ljZXNbaV1bal0uY3VycmVudE9wZW5BbW91bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGludm9pY2VUb3RhbEFtb3VudFtpXSA9IHN1bTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnJvb3QgfSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmxvYWRpbmcgPT09IGZhbHNlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfVGFiczIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IHZhbHVlLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yQ29sb3I6ICdwcmltYXJ5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhcmlhbnQ9XCJzY3JvbGxhYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHNjcm9sbGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQnV0dG9uczogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgc2Nyb2xsQnV0dG9uczogY2xhc3Nlcy5zY3JvbGxCdXR0b25zLCBmbGV4Q29udGFpbmVyOiBjbGFzc2VzLnRhYnNGbGV4Q29udGFpbmVyLCByb290OiBjbGFzc2VzLnRhYnNSb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlcjogY2xhc3Nlcy50YWJzU2Nyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhYkluZGljYXRvclByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pbmRpY2F0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RhYjIuZGVmYXVsdCwgeyBjbGFzc2VzOiB7IHNlbGVjdGVkOiBjbGFzc2VzLnRhYlNlbGVjdGVkLCByb290OiBjbGFzc2VzLnRhYlJvb3QsIHdyYXBwZXI6IGNsYXNzZXMudGFiV3JhcHBlciB9LCBpY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUNvdW50VGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxJbnZvaWNlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICgkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikod2hvbGVBbW91bnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250U2l6ZTogXCIuOHJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBbGwgSW52b2ljZXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXlzLm1hcChmdW5jdGlvbiAoZGF5LCBpZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UYWIyLmRlZmF1bHQsIHsgY2xhc3NlczogeyBzZWxlY3RlZDogY2xhc3Nlcy50YWJTZWxlY3RlZCwgcm9vdDogY2xhc3Nlcy50YWJSb290IH0sIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmludm9pY2VDb3VudFRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnRbaWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgKCQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikoaW52b2ljZVRvdGFsQW1vdW50W2lkXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiLjhyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhYkNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhlbWU6IHRoZW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRHVlRGV0YWlsMi5kZWZhdWx0LCB7IGVtYWlsT2ZDYWxsZWQ6IHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCwgY29sbGVjdG9yOiB0aGlzLnByb3BzLmNvbGxlY3RvciwgY3VzdG9tZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIsIGZpbHRlckludm9pY2VzOiB0aGlzLmZpbHRlckludm9pY2VzLCBidWNrZXROYW1lczogdGhpcy5zdGF0ZS5kYXlzLCBpbnZvaWNlczogdGhpcy5zdGF0ZS5pbnZvaWNlcyB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzLm1hcChmdW5jdGlvbiAoYnVja2V0SW52b2ljZXMsIGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGlkICsgMSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWJDb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGVtZTogdGhlbWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5jb250YWluZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW52b2ljZVRhYmxlMi5kZWZhdWx0LCB7IGVtYWlsT2ZDYWxsZWQ6IF90aGlzMi5wcm9wcy5lbWFpbE9mQ2FsbGVkLCBjb2xsZWN0b3I6IF90aGlzMi5wcm9wcy5jb2xsZWN0b3IsIGN1c3RvbWVyOiBfdGhpczIucHJvcHMuY3VzdG9tZXIsIGZpbHRlckludm9pY2VzOiBfdGhpczIuZmlsdGVySW52b2ljZXMsIGluZGl2aWR1YWw6IHRydWUsIGRheXM6IF90aGlzMi5zdGF0ZS5kYXlzW2lkXSwgaW52b2ljZXM6IGJ1Y2tldEludm9pY2VzIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5sb2FkaW5nICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfVGFiczIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JDb2xvcjogJ3ByaW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogJ3ByaW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdzY3JvbGxhYmxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxCdXR0b25zOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBzY3JvbGxCdXR0b25zOiBjbGFzc2VzLnNjcm9sbEJ1dHRvbnMgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UYWIyLmRlZmF1bHQsIHsgc3R5bGU6IHsgY29sb3I6IFwid2hpdGVcIiB9LCBsYWJlbDogJ0FsbCBJbnZvaWNlJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZGF5cy5tYXAoZnVuY3Rpb24gKGRheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGFiMi5kZWZhdWx0LCB7IHN0eWxlOiB7IGNvbG9yOiBcIndoaXRlXCIgfSwgbGFiZWw6IGRheSArIFwiZGF5cyBwYXN0IGR1ZVwiIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5QYXBlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgaGVpZ2h0OiBcIjI0cmVtXCIsIG1hcmdpblRvcDogXCIycmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NpcmN1bGFyUHJvZ3Jlc3MyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnByb2dyZXNzLCBzaXplOiAxMDAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSW5DYWxsRGV0YWlscztcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkluQ2FsbERldGFpbHMucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbkluQ2FsbERldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEluQ2FsbERldGFpbHMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExNzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1BvcG92ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTtcblxudmFyIF9Qb3BvdmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvcG92ZXIpO1xuXG52YXIgX2NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaXJjdWxhclByb2dyZXNzKTtcblxudmFyIF9hY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cbnZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXG52YXIgX3NpcFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpO1xuXG52YXIgX1NuYWNrYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxudmFyIF9DbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXG52YXIgX0Nsb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlKTtcblxudmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblxudmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxudmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgdmFyIF92b2ljZW1haWxCb3g7XG5cbiAgcmV0dXJuIHtcbiAgICBBcHA6IHtcbiAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIlxuICAgIH0sXG4gICAgcG9wT3Zlcjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsXG4gICAgICB3aWR0aDogXCIyMGVtXCJcbiAgICB9LFxuICAgIGhlYWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLFxuICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICBvcGFjaXR5OiAwLjY1XG4gICAgfSxcbiAgICBpY29uOiBfZGVmaW5lUHJvcGVydHkoe1xuICAgICAgaGVpZ2h0OiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcbiAgICAgIG1pbldpZHRoOiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCJcbiAgICB9LCAndGV4dEFsaWduJywgXCJjZW50ZXJcIiksXG4gICAgdm9pY2VNYWlsSWNvbjoge1xuICAgICAgYmFja2dyb3VuZDogXCIjNURBQUUwXCIsXG4gICAgICBwYWRkaW5nOiBcIjFweFwiXG4gICAgfSxcbiAgICB2b2ljZW1haWxTZW50SWNvbjoge1xuICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjNURBQUUwXCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbFByb2dyZXNzUGFyZW50OiB7XG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICB2b2ljZW1haWxCb3g6IChfdm9pY2VtYWlsQm94ID0ge1xuICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcbiAgICAgIGJvcmRlckJvdHRvbTogXCIwLjVweCBzb2xpZCByZ2IoOTMsMTcwLDIyNClcIlxuICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfdm9pY2VtYWlsQm94LCAnYm9yZGVyQm90dG9tJywgXCIwLjVweCBzb2xpZCByZ2JhKDkzLDE3MCwyMjQsMC42NSlcIiksIF9kZWZpbmVQcm9wZXJ0eShfdm9pY2VtYWlsQm94LCAncGFkZGluZycsIFwiMTJweCAxMnB4IDIwcHggMTJweFwiKSwgX2RlZmluZVByb3BlcnR5KF92b2ljZW1haWxCb3gsICdkaXNwbGF5JywgXCJmbGV4XCIpLCBfZGVmaW5lUHJvcGVydHkoX3ZvaWNlbWFpbEJveCwgJ21hcmdpbkJvdHRvbScsIFwiMjBweFwiKSwgX2RlZmluZVByb3BlcnR5KF92b2ljZW1haWxCb3gsICdmbGV4RGlyZWN0aW9uJywgXCJyb3dcIiksIF92b2ljZW1haWxCb3gpLFxuICAgIGRpc2FibGVkVm9pY2VtYWlsQm94OiB7XG4gICAgICBjdXJzb3I6IFwiZGVmYXVsdCAhaW1wb3J0YW50XCIsXG4gICAgICBvcGFjaXR5OiBcIjAuNjVcIlxuICAgIH0sXG4gICAgdm9pY2VtYWlsVGV4dDoge1xuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgbWFyZ2luTGVmdDogXCIxLjJyZW1cIixcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbFByb2dyZXNzOiB7XG4gICAgICB3aWR0aDogXCJpbmhlcml0ICFpbXBvcnRhbnRcIixcbiAgICAgIGhlaWdodDogXCJpbmhlcml0ICFpbXBvcnRhbnRcIixcbiAgICAgIGZpbGw6IFwiIzVEQUFFMFwiXG4gICAgfSxcbiAgICBjbG9zZUljb246IHtcbiAgICAgIGZpbGw6IFwibGlnaHRibHVlXCIsXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgcmlnaHQ6IFwiMyVcIixcbiAgICAgIGZvbnRTaXplOiBcIjJyZW1cIixcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbEJ0bjoge1xuICAgICAgY29sb3I6IFwiI0ZGRlwiLFxuICAgICAgZm9udFNpemU6IFwiMS43cmVtXCIsXG4gICAgICBwYWRkaW5nOiBcIjEwJVwiXG4gICAgfSxcbiAgICB2b2ljZW1haWxTZW50QnRuOiB7XG4gICAgICBmb250U2l6ZTogXCIxLjVyZW0gIWltcG9ydGFudFwiXG4gICAgfSxcbiAgICBkaXNhYmxlQnRuOiB7XG4gICAgICBvcGFjaXR5OiAwLjQsXG4gICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiXG4gICAgfVxuICB9O1xufTtcblxudmFyIEtleVBhZCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhLZXlQYWQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEtleVBhZChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlQYWQpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEtleVBhZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEtleVBhZCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmluaXRpYWxpemVWb2ljZW1haWxEYXRhID0gZnVuY3Rpb24gKHZvaWNlbWFpbFRlbXBsYXRlcykge1xuICAgICAgdmFyIHZvaWNlbWFpbENsaWNrTWFwID0gbmV3IE1hcCgpO1xuICAgICAgdmFyIHZvaWNlbWFpbFNlbnRNYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm9pY2VtYWlsVGVtcGxhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZvaWNlbWFpbENsaWNrTWFwLnNldCh2b2ljZW1haWxUZW1wbGF0ZXNbaV0uaWQsIGZhbHNlKTtcbiAgICAgICAgdm9pY2VtYWlsU2VudE1hcC5zZXQodm9pY2VtYWlsVGVtcGxhdGVzW2ldLmlkLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdm9pY2VtYWlsVGVtcGxhdGVzOiB2b2ljZW1haWxUZW1wbGF0ZXMsXG4gICAgICAgIHZvaWNlbWFpbENsaWNrTWFwOiB2b2ljZW1haWxDbGlja01hcCxcbiAgICAgICAgdm9pY2VtYWlsU2VudE1hcDogdm9pY2VtYWlsU2VudE1hcFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW46IHRydWUgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBob25lTnVtYmVyOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW46IGZhbHNlLCBkaXNhYmxlVm9pY2VtYWlsQ2xpY2s6ICFfdGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbEVuYWJsZWQgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVZvaWNlbWFpbENsaWNrID0gZnVuY3Rpb24gKHZvaWNlbWFpbFRlbXBsYXRlKSB7XG5cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5kaXNhYmxlVm9pY2VtYWlsQ2xpY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaWQgPSB2b2ljZW1haWxUZW1wbGF0ZS5pZDtcbiAgICAgIHZhciB2b2ljZW1haWxDbGlja01hcCA9IF90aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwO1xuICAgICAgdm9pY2VtYWlsQ2xpY2tNYXAuc2V0KGlkLCB0cnVlKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxDbGlja01hcDogdm9pY2VtYWlsQ2xpY2tNYXAsIGRpc2FibGVWb2ljZW1haWxDbGljazogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHZvaWNlbWFpbFRlbXBsYXRlLnRlbXBsYXRlTmFtZSwgX3RoaXMuc3RhdGUuaWQpO1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIGlkLCB0cnVlKSk7XG4gICAgICAgIGlmICgoMCwgX3NpcFV0aWxzLnNpcFRvZ2dsZU11dGUpKCkgPT09IFwiT0tcIikge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiB0cnVlLCBzbmFja01lc3NhZ2U6IFwiTWljIGF1dG8gbXV0ZWRcIiB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNuYWNrT3BlbjogdHJ1ZSwgc25hY2tNZXNzYWdlOiBcIkZhaWxlZCB0byBhdXRvIG11dGUgbWljIVwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlkID09PSAwKSB7XG4gICAgICAgICAgKDAsIF9zaXBVdGlscy5zaXBTZW5kRFRNRikoJyMnKTtcbiAgICAgICAgICAoMCwgX3NpcFV0aWxzLnNpcFNlbmREVE1GKSgnNCcpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiMXN0IFRlbXBsYXRlXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGlkID09PSAxKSB7XG4gICAgICAgICAgKDAsIF9zaXBVdGlscy5zaXBTZW5kRFRNRikoJyMnKTtcbiAgICAgICAgICAoMCwgX3NpcFV0aWxzLnNpcFNlbmREVE1GKSgnNScpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiMm5kIFRlbXBsYXRlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICgwLCBfc2lwVXRpbHMuc2lwU2VuZERUTUYpKCcjJyk7XG4gICAgICAgICAgKDAsIF9zaXBVdGlscy5zaXBTZW5kRFRNRikoJzYnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkxhc3QgdGVtcGxhdGVcIik7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5wcm9wcy5vblZvaWNlbWFpbENsaWNrKCk7XG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdm9pY2VtYWlsU2VudE1hcCA9IF90aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXA7XG4gICAgICAgIHZvaWNlbWFpbFNlbnRNYXAuc2V0KGlkLCB0cnVlKTtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxTZW50TWFwOiB2b2ljZW1haWxTZW50TWFwLCBpc1ZvaWNlbWFpbEVuYWJsZWQ6IGZhbHNlIH0pO1xuICAgICAgfSwgMjAwMCk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNsb3NlKCk7XG4gICAgICB9LCBfY29uc3RhbnRzLlZPSUNFTUFJTF9BVVRPX0NMT1NFX1RJTUVNT1VUKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2VTbmFja2JhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaXNWb2ljZW1haWxBdmFpbGFibGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIkNvbm5lY3RlZCB0b1wiICYmIF90aGlzLnN0YXRlLnZvaWNlbWFpbFRlbXBsYXRlcyAmJiBfdGhpcy5zdGF0ZS52b2ljZW1haWxUZW1wbGF0ZXMubGVuZ3RoID4gMCAmJiBfdGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbEVuYWJsZWQ7XG4gICAgfTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlbjogZmFsc2UsXG4gICAgICBwaG9uZU51bWJlcjogXCJcIixcbiAgICAgIGRpc3BsYXlOdW1iZXI6IFwiXCIsXG4gICAgICBkaWFsbGVkOiBmYWxzZSxcbiAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgaXNWb2ljZW1haWxFbmFibGVkOiB0cnVlLFxuICAgICAgaXNWb2ljZW1haWxDbGlja2VkOiBmYWxzZSxcbiAgICAgIHZvaWNlbWFpbENsaWNrTWFwOiBuZXcgTWFwKCksXG4gICAgICB2b2ljZW1haWxTZW50TWFwOiBuZXcgTWFwKCksXG4gICAgICB2b2ljZW1haWxUZW1wbGF0ZXM6IFtdLFxuICAgICAgc25hY2tPcGVuOiBmYWxzZSxcbiAgICAgIGRpc2FibGVWb2ljZW1haWxDbGljazogZmFsc2VcbiAgICB9O1xuXG4gICAgX2F4aW9zMi5kZWZhdWx0LmdldChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvdm9pY2V0ZW1wbGF0ZScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlZvaWNlbWFpbCBGZXRjaGVkXCIsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgX3RoaXMuaW5pdGlhbGl6ZVZvaWNlbWFpbERhdGEocmVzcG9uc2UuZGF0YSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBmZXRjaCB2b2ljZW1haWxzXCIsIGVycm9yKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoS2V5UGFkLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuQXBwIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Wb2ljZW1haWwsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuaXNWb2ljZW1haWxBdmFpbGFibGUoKSA/IGNsYXNzZXMudm9pY2VtYWlsQnRuIDogY2xhc3Nlcy52b2ljZW1haWxCdG4gKyBcIiBcIiArIGNsYXNzZXMuZGlzYWJsZUJ0bixcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLmlzVm9pY2VtYWlsQXZhaWxhYmxlKCkgPyB0aGlzLmhhbmRsZU9wZW4gOiBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb25cbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9Qb3BvdmVyMi5kZWZhdWx0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnc2ltcGxlLXBvcHBlcicsXG4gICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW4sXG4gICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmhhbmRsZUNsb3NlLFxuICAgICAgICAgICAgYW5jaG9yUmVmZXJlbmNlOiAnYW5jaG9yUG9zaXRpb24nLFxuICAgICAgICAgICAgYW5jaG9yUG9zaXRpb246IHsgdG9wOiA4MCB9LFxuICAgICAgICAgICAgUGFwZXJQcm9wczoge1xuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjNlbVwiLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBcIjBcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6IFwiMnB4IHNvbGlkICNGRkZcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICB2ZXJ0aWNhbDogMjAsXG4gICAgICAgICAgICAgIGhvcml6b250YWw6IDIwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiB7XG4gICAgICAgICAgICAgIHZlcnRpY2FsOiAyMCxcbiAgICAgICAgICAgICAgaG9yaXpvbnRhbDogMjBcbiAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucG9wT3ZlciB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBwYWRkaW5nTGVmdDogXCI0JVwiLCBtYXJnaW5Ub3A6IFwiNSVcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9IH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaGVhZCB9LFxuICAgICAgICAgICAgICAgICdWT0lDRU1BSUwnXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5DbG9zZSwgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsb3NlLCBjbGFzc05hbWU6IGNsYXNzZXMuY2xvc2VJY29uIH0pXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUudm9pY2VtYWlsVGVtcGxhdGVzLm1hcChmdW5jdGlvbiAodm9pY2VtYWlsVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBfdGhpczIuc3RhdGUuZGlzYWJsZVZvaWNlbWFpbENsaWNrID8gKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmRpc2FibGVkVm9pY2VtYWlsQm94LCBjbGFzc2VzLnZvaWNlbWFpbEJveCkgOiBjbGFzc2VzLnZvaWNlbWFpbEJveCwga2V5OiB2b2ljZW1haWxUZW1wbGF0ZS5pZCB9LFxuICAgICAgICAgICAgICAgICAgIV90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy52b2ljZU1haWxJY29uLCBjbGFzc2VzLmljb24pIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Wb2ljZW1haWwsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnZvaWNlbWFpbEJ0biB9KVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmICFfdGhpczIuc3RhdGUudm9pY2VtYWlsU2VudE1hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy52b2ljZW1haWxQcm9ncmVzc1BhcmVudCwgY2xhc3Nlcy5iYXNlSWNvblNpemUpIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy52b2ljZW1haWxQcm9ncmVzcyB9KVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF90aGlzMi5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnZvaWNlbWFpbFNlbnRJY29uLCBjbGFzc2VzLmljb24pIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Eb25lLCB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnZvaWNlbWFpbFNlbnRCdG4sIGNsYXNzZXMudm9pY2VtYWlsQnRuKSB9KVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMudm9pY2VtYWlsVGV4dCwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlVm9pY2VtYWlsQ2xpY2sodm9pY2VtYWlsVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgIV90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvciwgb3BhY2l0eTogMC42NSB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgJ1NlbmQnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmICFfdGhpczIuc3RhdGUudm9pY2VtYWlsU2VudE1hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvciwgb3BhY2l0eTogMC42NSB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgJ1NlbmRpbmcnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmIF90aGlzMi5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiBcIiM1REFBRTBcIiwgb3BhY2l0eTogMC42NSB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgJ1NlbnQnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvciB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgdm9pY2VtYWlsVGVtcGxhdGUudGVtcGxhdGVOYW1lXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuTW9yZVZlcnQsIHsgc3R5bGU6IHsgcmlnaHQ6IFwiMyVcIiwgcG9zaXRpb246IFwiZml4ZWRcIiB9IH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TbmFja2JhcjIuZGVmYXVsdCwge1xuICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBrZXk6IHRoaXMuc3RhdGUuc25hY2tNZXNzYWdlLFxuICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tPcGVuLFxuICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb246IDIwMDAsXG4gICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZVNuYWNrYmFyLFxuICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1lc3NhZ2U6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgeyBpZDogdGhpcy5zdGF0ZS5zbmFja01lc3NhZ2UgfSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tNZXNzYWdlXG4gICAgICAgICAgKSxcbiAgICAgICAgICBhY3Rpb246IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9jb3JlLkljb25CdXR0b24sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGtleTogJ2Nsb3NlJyxcbiAgICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnQ2xvc2UnLFxuICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2xvc2UsXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2xvc2VTbmFja2JhclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgbnVsbClcbiAgICAgICAgICApXVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gS2V5UGFkO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIFZvaWNlbWFpbFdyYXBwZXIgPSAoMCwgX2NvcmUud2l0aFN0eWxlcykoc3R5bGVzKShLZXlQYWQpO1xudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuXG4gICAgY2FsbFN0YXRlOiBzdGF0ZS5jYWxsU3RhdGVcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICAvLyBjaGFuZ2VDYWxsU3RhdGU6IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZUNhbGxTdGF0ZShkYXRhKSkpXG4gICAgY2hhbmdlQ2FsbGVyOiBmdW5jdGlvbiBjaGFuZ2VDYWxsZXIoZGF0YSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfYWN0aW9ucy5jaGFuZ2VDYWxsZXIpKGRhdGEpKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKCgwLCBfY29yZS53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFZvaWNlbWFpbFdyYXBwZXIpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQVlBQUFCWHVTczNBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFCbDVKUkVGVWFJSEZtbDlzVTljZHh6Ky82eHU3T0k3eUY1clEwdGpBSnA3VzBDR3hmMktHN24wZ0RaQmFXTDFObXNRVDJSNm1TYVVTRTNUZEhxYkN3NlE5VENJdDJjUFNoNlRhdzU1RzNIL3FXbFNSZEJJYjBsckhMQ01lQkloSjRzVDI5ZjN0d1grSTdlcy8xdzd3ZmJvKzkvenUrWnpmL1oxemZ2Y2NDMjBxTWhucnNTM1BkMjEwQk5Xd0tFR0VZRmtsWlU2Rk9VU2lCakpqbUxuM3hvNkVsdHBwVjFvMWZQblA4VmNFUFN6QzRWYnNWWmxTWk9wUHg0ZmZhc1hlRlhoa010WmpXY1pwc1RWUzVkVldwY3lwSVdPbWFWOTA4eGFhQmoveFRpd3N0bHphTk9CS0tYTnE2SS9HajRhaXpWUnZDQjZaalBYa3NzYWJvSkgyNlpxUXlvWEx4NGQvMXFoYVhmRElaS3pIeXNxMHdNam1rVFdXd296Wm9RZnJoWTVSNjhaTEU3R1JKd0VOSURCaVpXWDZwWWxZemJZZFBmNmtQRjJwZXA0M0t3dmFoUjd1OFhKeWJ4OWZHZkFod0h3eXkxLytsZVRqbTZ1dW4xWDBQTEMzOGw1VnFPU3l4cHRPMFAxK0R3UCtxbjZXYVhlL2oxY1BEdkxWQWpUQXM5MGRuTm8vd0E5ZjZITU5Yb1EvTVJHN1VCZjh4RHV4c05QczBlLzNjT2JnRUdjT0RkSzd4ZVBZZ0duQXo3K3pqYWRNNS9IK3ZWMWRmT3U1emhiaDVYU2V6UUU4TWhuckVWc3VPUm1lMnIrVmZyK0h2aTBlWGpzMDVBaS9kN3VmZ0xmbVdBY2d2TE9ySlhBQXNlVlNaRExXVXdWdVpSaXR0Ymo4NFpORjdxM2xBQmp3TzhQdjZQWTJiUHpaN280V3NRRWhhR1VZTGY0c2dZdkk2Vm8yaXltTDgxY1NkZUhmajYyUVhNL1ZiZHMwV2s2TjhveklLOFZyQStEa1JDd0M5TlMwb0RIOFlzcmkzSFNpSVh4YkVvSUYxcExIbThyd0dzSGZYbmtNOEFWV3llY2ljdCtONVlEZjVNeWhRZnBLM3M1eDdzb0M5d3NkMmhZd2VlM2dJTjFQbFkrRGRVdjU2ZVROdHNrOUhkcHJXQm5DamF1VzYwbDczc29RTm1oeGhXd1cva0hhM2pUZ0RSb3hSTng3dktoYThNVVF1YjFpOGZvamdCY2hiS0F5M001RG5PRFBiSWp2aGVYc3BzTXIwbTFzeGhmTllzcmlnN21WMHUrbkE2WXovQ2JGdk1CSS9hekpRVC9lMTg5Z29JUGtlbzdmLy8xT3FUeWIwN0o2UmZqemhVRzZzSnpsdCsvL3I2ek9OM1owY21oWFBnMTQrOXBkNXBQWnBqbnFKeGNPR3ZDYjdObnFZOTh6L3JMeS96Nm9iclRTODNkV3JiTDdPL3U4N05ucVk4OVduMXNNOStCRlFJK1J6NzJMdW5ZcnhVcW1PbzRyNFRkcVoxOGVPS2R3eTZIajlXUW9HbmRqY08xV3FuUjlJQlFvWGRzS3YvdmdOdXVXVnRrNHdSc0NRMTM1cE9zZmlUWHNhck9hVXRWWlEyRE9EZmoxMitzbHI3KzRxNHRnNzBPdmYzRXZ6YS8rdHNDVkw1YXhOZCtaNGx1b2hMY1Zmdk5lZ2xSV2lYNjVVdDFRSFltdzVQbmFEMGFESXVKcUxuK1F6ckYvUnljaThQeVFudy9uVnNnVUJ1ZHkybVptWVkycDYwbW1yaWY1ZEQ3Rk41OEw0RE9GZ05mZzY4LzQrWFErUmRwU0hxUnRaaFpTM0ZoTXV3Slg1UzBEbUhGbEJWeWRUL0ZSUFA4TjJiZkZ3OWtYaHhqc2NwNmc3cXhhL0hvNjcxbDQ2UGt1WDM1NHVabEpObWpHODhMTG93bTE1WmR1TFQ5UHJMRzd6OGUyZ0VtbjF5QWM2cUxUYTVCY3o1SEsybVV4MitFUk9uMGVRb1d3Q25nTjltNzM4OGwvVmt0dnlvMU1MNmNFNE9SRWJBcmsrMjRmSUFJLzJkZlBnV0Nnck54V1dGeTFXTTNhRFBqTmtuY3JkYXV3TUMyN1dsWDEzY3ZIUW9lTFQ1eHlDdzJnQ24rOGVwZXh6KzZ4bG4zb09VUHlxVzJvMTFzR25jNHBIOFlmZW5sN1Z3ZXZiZ2liSmpVRkd6YUVUa3pFNW9UVzg1WU9qL0R0NFU1Q3ZUNTI5L3ZZVWZpK1hNc3FIOFZYK09lZGRUNVBySkcybE4zOVBuNXg0T25TamtDem5sYzBQbjRzRklTTkM1QXkxaW8wNUpmODZKY3JYUHJzTG4rOWtTeVZMeXhuZWZ2YVBhNFdaaEtBZjk5TjgwWTBVWnJ6bS9XOENLWDlsVkpOMDhzRnQ0dFJPNHJkei9CR05GRUtzVWJ3aXNZdkh3MVZnNDhkQ1MwaFBKNnQ1SUppOXpPODNpeDhCVnRaamZHam9haXF0blMwMGFwdUx1WGhWd3NyckNCb3hReXA2TVhLRGYrcXJwbGVSbFYxOWhHeVZ1bm1Vb2J6MHdsdUxLWTVkMldoTEZsVDFkbnhZNkhSU3B2YTI4d1pvaUx5L0NQa2JTaFZuVFc5aEoyMm1SMUh3dGlSMEpJdFJCNjM1emRLVldkdElWTHJWS0x4VWNvVDhIdzlUeGZWMU9HVmxlV3NVSHR2Y1RPbDZFV25tSzZVcStOQ2xMRjJWdGQ2VWpTT0VObTA0OEtOS29UT0tFSmtzenFnYUJ4bGJQeDQ2S3didTViM2ZRdTdwb2RieVNyejBuZUJxY3ZIUWkybEd1MXRXRk42QzJGZ1JJU3dRckR5YmFqcXJBaExxa1NCR2ROTHROMC9JZndmMGhzREpyOHltOWNBQUFBQVNVVk9SSzVDWUlJPVwiXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTE5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDNEFBQUF1Q0FZQUFBQlh1U3MzQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQksxSlJFRlVhSUhObVcySVZGVVl4My9QbmRsVlM1Q2RPZGUzUUZRU0xXd3hCVVBNelRRUVV3UHhaZW1qbGhEMEpmUkRVR1p2UlBqSmlNZ1BGU3JSRjVXQ2tMS29WSktGdEF4cFV6RmNYNkMyM1h0bmQxYTNuTTJaKy9UaDd1cTZPM2Z1bWRtZEhmOXd1VFBuUE05NWZuUG0zSFBPUFk4d0NsTFhuVU1RTE1WeEZxTDZDUEFBTUJXUmVsUzdnQzZnRS9pUklEaEtWOWRQQXNGSVlrckZzTWJNQlo0SDFpRXl0enhuN1FhT0VBU2YwdFgxZlNVL29teHdOV1l0c0IyUko4djFqZERmQk1ISFpETHZDT1JzbmF6QnRhR2hrVVRpZlVTZXFJd3ZMb0QrZ1VpemVONnZOdVpPYkh1UVVOZmRTU0x4UzlXZ0FVVG1vSHBLMCttWDFhSkRTeHFvNjA0RXZnWWVIeTArSzZrZXdmZWJCZjZOTW9rRVY3Z1BZMzVBNUxIcTBNVkk5UXo1L0VySlpyUEZxb3NPRllWNlhQZmJta0VEaUN3a21meEdZWHl4Nm1IZ0NnN0dIQUtXVmgwdVRpS0xjZDNQaTQzNTRUMmVUcitKeUROakFtYW4xUmp6K3REQ3UzNUovNkxTaWtoeXpMQnNwS3JBQ3ZIOTR3TkZkL2U0eUw1N0RocEFSQkQ1U0NFeFVIUWJYRjEzQzdDa0ptQjJlcEIwK29XQkx3S2dJTGp1SldCV3piQnNwSG9OMzU4cG9HR1BHL00wOXpvMGdNZ01VcWxWY0dlb3ZGUkRuUExrT0ZzQVJHRTh4dnlEU095K0pWS3paOE84ZVRCNU1reVpFdDZuVG9WY0R0cmE3bHpuenNHTkd5TURWKzNCOTlOSmpGbFNFYlF4c0drVGJOZ0FqWTMyZmgwZGNQbzBIRGdBSjA2VUhSYVJTUml6VE5SMWR3SnZXenMyTnNLMmJiQitQZFRYbHg5NHNDNWVoTDE3NGVCQnVIV3JITTlYUlkzNUVwRjFzYVoxZGJCbkQyemVYREZucE5yYXduYXZYYlAxT09RQTA2eE10MjZ0RGpTRXo4aXVYZVY0UEpRRVhDdlQ1dWJvdXRaVzJMOGZUcDZFSzFjZ0dQSUthUXpNbncrTEZzR09IWkFzc2ppdlhoMlc1L00yTkpORlhiY1h1TCtrMmJoeGNQVXFPRVdlNFZ3dTdERzdnSEQ0TURRMUZhOXJhb0lMRitMYlVBMGNJSDV2a2s0WGh3Ym83TFNIQm1odmo2NXJhTEJ1eGdHS3ZtSGNwVkpnZFhYV3dRQ1lNQ0c2VHF6ZjNUc2NWRE94WnBrTXFCYXZNNmFjZ09FQ0ZhV2JOMjFiYVU4aWNnNTR1S1Jab1JDTzhaa3pJWnVGUzVmQ3E2MHR2Q2VUOXZQd3hvMHdmVHBNbXhiZUIzKzJudzdiUlkxNURaRzNZazFuelFxaHU3dHRHNittZGlkUmJiSDZxeTlmcmo2T3JRcUZZNktRd0hWN2lKc1M3eFdwNXZIOWlZNUFBZmlxMWp4bHFFV2dMNXljQzRWUGFneGpMNUVQWWZDcm16RlhFSmxSVzZvWXFmNko3ODhRQ0J3QUFVWGtqVnB6V2VpOWdiUDBvZWNxWnhCNXREWk1NVkk5ais4dkVQZ1BocCtyUElmcWlGSWNWWkZxUUQ3LzdBQTBEQUh2UDFTUFg0ekdXcXJ2U2paN2RuRFJzSlduLzlEek9DTEx4bzZzcEk3aWVXdUc1b21HN1ZYN0RkYWcrdnVZb1VWSjlXYzhiMzJ4NUZiUlRiYjQvZzF5dVJWQWE5WGhvdlViaGNKVFVRbXR5R01KNmUzdEJKYWdXb3RWOVN4OWZjdWx1N3NueXFEa2VZcDRYaSsrdnhiVkhVRGZxT01WMXdkNDNtSzVmcjJySkp0dGF6cHAwbXpxNnZaWDdhRlZQUSs4S0w1L3pNYTgvQVJ0S3JVUngzbGwxQmFxTUwrNUc4L2JWMDZHZVNRcDhlWEFkbUFWSXVVZGFhbjJJUElGUWZDWlpETGZWUksvWXZEYkRHRmFjU1d3QmxnQXBCQkpvWm9pN01FTzRDL2dJbkFHa1ZONFhrdi9kcnBpL1ErMFgzOWNYSVY2RHdBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuXG4vKioqLyB9KVxuXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gMC5idW5kbGUuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IENvbnRhY3RMaXN0IGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGFjdExpc3QnO1xyXG5pbXBvcnQgeyBzaXBDYWxsLCBzaXBIYW5ndXAsIHNpcFRvZ2dsZU11dGUgfSBmcm9tICcuLi91dGlscy9zaXBVdGlscyc7XHJcbmltcG9ydCB7IGNoYW5nZUNhbGxTdGF0ZSwgY2hhbmdlU3RhdHVzLCBjaGFuZ2VUcmFuc2NyaXB0aW9uIH0gZnJvbSAnLi4vYWN0aW9ucy9hY3Rpb25zJztcclxuaW1wb3J0IHsgYWRkSW5pdGlhbENhbGxMb2cgfSBmcm9tICcuLi9hY3Rpb25zL2NhbGxMb2dBY3Rpb25zJztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IENsb3NlIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcbmltcG9ydCB7IFJlZGlyZWN0IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCBDYWxsUHJlcERldGFpbHMgZnJvbSAnLi4vY29tcG9uZW50cy9DYWxsUHJlcERldGFpbHMnO1xyXG5pbXBvcnQgUG9zdENhbGwgZnJvbSAnLi9Qb3N0Q2FsbCc7XHJcbmltcG9ydCBJbkNhbGxEZXRhaWxzIGZyb20gJy4uL2NvbXBvbmVudHMvSW5DYWxsRGV0YWlscyc7XHJcbmltcG9ydCBIYW1tZXIgZnJvbSAncmVhY3QtaGFtbWVyanMnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTW9kYWwnO1xyXG5pbXBvcnQgVG9vbHRpcCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Ub29sdGlwJztcclxuaW1wb3J0IEZhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9GYWInO1xyXG5pbXBvcnQgTmF2aWdhdGVOZXh0IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9OYXZpZ2F0ZU5leHQnO1xyXG5pbXBvcnQgTmF2aWdhdGVCZWZvcmUgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL05hdmlnYXRlQmVmb3JlJztcclxuaW1wb3J0IERyYXdlciBmcm9tICcuLi9jb21wb25lbnRzL0RyYXdlcic7XHJcbmltcG9ydCBBcnJvd0Ryb3BEb3duSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQXJyb3dEcm9wRG93bic7XHJcbmltcG9ydCB7IGdldE1lbnVJdGVtcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ3VzdG9tZXJEcmF3ZXJPcHRpb25zJztcclxuaW1wb3J0IEtleVBhZFdyYXBwZWQgZnJvbSAnLi4vY29tcG9uZW50cy9LZXlQYWRXcmFwcGVkJztcclxuaW1wb3J0IFZlcnRpY2FsVGltZUxpbmUgZnJvbSAnLi4vY29tcG9uZW50cy9WZXJ0aWNhbFRpbWVMaW5lJztcclxuaW1wb3J0IFZvaWNlbWFpbFdyYXBwZXIgZnJvbSAnLi4vY29tcG9uZW50cy9Wb2ljZW1haWxXcmFwcGVyJztcclxuaW1wb3J0IFRyYW5zY3JpcHRDaGF0IGZyb20gJy4uL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQnO1xyXG5pbXBvcnQgeyBnZXRJbml0aWFsc0Zyb21OYW1lIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcclxuaW1wb3J0IEN1c3RvbUZvb3RlciBmcm9tICcuLi9jb21wb25lbnRzL0N1c3RvbUZvb3Rlcic7XHJcbmltcG9ydCB7IGRpc2FibGVGcmVkYUluQ2FsbCB9IGZyb20gJy4uL2NvbXBvbmVudHMvRnJlZWRhL0ZyZWRhQnV0dG9uJztcclxuaW1wb3J0IFRyYW5zY3JpcHRCb3ggZnJvbSAnLi4vY29tcG9uZW50cy9UcmFuc2NyaXB0Qm94JztcclxuaW1wb3J0IGNvbWJpbmVTdHlsZXMgZnJvbSAnLi4vdXRpbHMvY29tYmluZVN0eWxlcyc7XHJcbmltcG9ydCBiYXNlU3R5bGUgZnJvbSAnLi4vdXRpbHMvYmFzZVN0eWxlJ1xyXG5cclxuXHJcbmNvbnN0IHN1bW1hcnlEYXRhID0gcmVxdWlyZSgnLi4vYXNzZXRzL3NhbXBsZV9uZXdfanNvbi5qc29uJyk7XHJcbmNvbnN0IHRlc3QgPSBcIkN1c3RvbWVyOiBIaS4gSGVsbG8uIEhleSwgQ29sbGVjdG9yOiBJIHdhbnRlZCB0byBtYWtlIHN1cmUgeW91IHJlY2VpdmVkIG15IG5vdGUuIFRoZSBwYXltZW50IHdhcyBkdWUgeWVzdGVyZGF5LiBEZXRlY3RpbmcgU3BlYWtlcjogZ2V0IGl0IHVuZGVyIHRoZSBzZW5kZXIuIEknbSBDb2xsZWN0b3I6IEkgZGlkbid0IGEgdGVsbCB5b3UgZm9yZ290LiBJdCdzIGludm9pY2UgbnVtYmVyIDM0Ny00MDAtNDAwMC4gSSB3aWxsIGVtYWlsIHlvdSByaWdodCBub3cgZG9lcyBhIHBlcnNvbiBhdCBtLmNvbSBlbWFpbCBhZGRyZXNzIHdvcmtzIGJlc3QgZm9yIHlvdT8gQ3VzdG9tZXI6IFllYWgsIHRoYXQncyBmaW5lLiBDb2xsZWN0b3I6IEJpZyBCZW5kIE9saXZpYSBnb2luZyB0byBtZSB0byBtZSB0aGF0IGNoZWNrIGZvciB0aGlzIGludm9pY2UuIEN1c3RvbWVyOiBJIGFjdHVhbGx5IGRvbid0IGhhdmUgdGhlIGNhc2ggZm9yIGRlYmF0ZSByaWdodCBub3cuIENvbGxlY3RvcjogT2theSwgSSBzZWUgd2hlbiB3ZSB3aWxsIGJlIGdldHRpbmcgeW91ciBuZXh0IHBheW1lbnQuIEN1c3RvbWVyOiBOb3J0aGVybiBUb29sIGluIHRoZSAyMXN0IGF0IHlvdSBzZW5kIG1lIGEgY2hlY2sgb3IgVGh1cnNkYXkgdGhlIDIybmQ/IEkgd29uJ3QgQ29sbGVjdG9yOiA3IHNlZSBjYW4gYmUgYWJsZSB0byBwYXkgdGhlIHdob2xlIHRoaW5nIGRvbmUuIENvbGxlY3RvcjogQnV0IGlmIHlvdSBzZW5kIG1lIGhhdmUgdG8gcmVnaXN0ZXIgYW5kIHRoZW4gdXAgYXQgdGhlIGVuZCBvZiB0aGUgbW9udGguIEN1c3RvbWVyOiBUaGF0IGFjdHVhbGx5IG1pZ2h0IHdvcmsuIENvbGxlY3RvcjogT2theSwgc291bmRzIGdvb2QuIEknbGwgTWFsY29sbSBYIGFtYXppbmcgbWUgJDIsMDAwIG9uIFRodXJzZGF5IHRoZSAyMm5kIGFuZCBJIHdpbGwgZm9sbG93IHVwIHdpdGggeW91IHRlc3RpbmdcIjtcclxubGV0IHRpbWVJbnRlcnZhbDtcclxuY29uc3QgYXZhaWxhYmxlRmlsdGVyT3BlcmF0aW9ucyA9IFtcclxuICAnZXF1YWwnLCAnbm90RXF1YWwnLFxyXG4gICdncmVhdGVyVGhhbicsICdncmVhdGVyVGhhbk9yRXF1YWwnLFxyXG4gICdsZXNzVGhhbicsICdsZXNzVGhhbk9yRXF1YWwnLFxyXG5dO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICBhcHBGcmFtZToge1xyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAgbWF4SGVpZ2h0OiBcIjEwMHZoXCJcclxuICB9LFxyXG4gIHJvb3Q6IHtcclxuICAgIGJhY2tncm91bmRJbWFnZTogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLm1haW4sXHJcbiAgICB3aWR0aDogXCI5My43NXZ3XCIsXHJcbiAgICBtYXJnaW5SaWdodDogXCJhdXRvXCIsXHJcbiAgICBtYXJnaW5MZWZ0OiBcImF1dG9cIixcclxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICBwYWRkaW5nQm90dG9tOiBcIjBcIixcclxuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5XHJcblxyXG4gIH0sXHJcbiAgaGFuZ1VwSWNvbkluZzoge1xyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG4gICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gIH0sXHJcbiAgY2FsbFRleHQ6IHtcclxuICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcclxuICAgIGZvbnRTaXplOiBcIjFyZW1cIixcclxuICB9LFxyXG4gIGRpYWxwYWRJY29uOiB7XHJcbiAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxyXG4gICAgcGFkZGluZ1JpZ2h0OiBcIjFyZW1cIixcclxuICB9LFxyXG4gIHZvaWNlTWFpbEljb246IHtcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICBiYWNrZ3JvdW5kOiBcIiM1REFBRTBcIixcclxuICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgIHBhZGRpbmc6IFwiMXB4XCIsXHJcbiAgfSxcclxuICBzdGF0dXM6IHtcclxuICAgIGZvbnRTaXplOiBcIi43cmVtXCIsXHJcbiAgICBjb2xvcjogXCJ3aGl0ZVwiLFxyXG4gICAgekluZGV4OiBcIjZcIlxyXG4gIH0sXHJcbiAgZHVyYXRpb246IHtcclxuICAgIG1hcmdpblJpZ2h0OiBcIi42cmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICB9LFxyXG4gIGN1c3RvbWVyTmFtZToge1xyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgZm9udFNpemU6IFwiMS43OHJlbVwiLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICBsaW5lSGVpZ2h0OiBcIjIuMDVyZW1cIlxyXG4gIH0sXHJcbiAgY3VzdG9tZXJOdW1iZXI6IHtcclxuICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcclxuICAgIGZvbnRTaXplOiBcIi44cmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICB9LFxyXG4gIHRyYW5zY3JpcHRCb3g6IHtcclxuICAgIGhlaWdodDogXCI4Ni41MHZoXCIsXHJcbiAgICAvLyB3aWR0aDogXCIyNXZoXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbixcclxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgfSxcclxuICB0cmFuc2NyaXB0VGl0bGU6IHtcclxuICAgIGZvbnRTaXplOiBcIjEuMnJlbVwiLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgLy8gcGFkZGluZzogXCIyZW0gMCAyZW0gMFwiXHJcbiAgICBwYWRkaW5nTGVmdDogXCIxcmVtXCIsXHJcbiAgICBvcGFjaXR5OiAwLjY1LFxyXG4gICAgcGFkZGluZ1RvcDogXCIuNXJlbVwiLFxyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIGZvbnRGYW1pbHk6IFwiUm9ib3RvXCJcclxuICB9LFxyXG4gIG5leHRGYWI6IHtcclxuICAgIHJpZ2h0OiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAwLjI1LFxyXG4gIH0sXHJcbiAgcHJldkZhYjoge1xyXG4gICAgbWFyZ2luTGVmdDogXCItMC41cmVtXCIsXHJcbiAgfSxcclxuICBoYW5nVXBCdXR0b246IHtcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcclxuICAgIHdpZHRoOiBcIjIuNjY2NjY2NjVyZW1cIixcclxuICB9LFxyXG4gIGhhbmdVcEJ1dHRvbkltZzoge1xyXG4gICAgaGVpZ2h0OiBcIjIuNjY2NjY1cmVtXCIsXHJcbiAgICB3aWR0aDogXCIyLjY2NjY2NjY1cmVtXCIsXHJcbiAgfSxcclxuICBkcm9wRG93bkljb246IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgfSxcclxuICBkcm9wRG93bjoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpblxyXG4gIH0sXHJcblxyXG4gIG1pY09mZkljb25JbWc6IHtcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICBoZWlnaHQ6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXHJcbiAgICB3aWR0aDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcclxuICB9LFxyXG4gIG1pY09mZkljb246IHtcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcclxuICAgIHdpZHRoOiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG4gICAgY29sb3I6IFwid2hpdGVcIlxyXG4gIH0sXHJcblxyXG4gIGNhbGxlZENvbnRhY3ROYW1lOiB7XHJcbiAgICBmb250U2l6ZTogXCIuNzZyZW1cIixcclxuICAgIGNvbG9yOiBcIndoaXRlXCIsXHJcbiAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiLFxyXG4gIH0sXHJcbiAgY2FsbGVkVG9Db250YWN0RGl2OiB7XHJcbiAgICB3aWR0aDogXCI4MCVcIlxyXG4gIH0sXHJcbiAgdHJhbnNjcmlwdEJveFBhcmVudDoge1xyXG4gICAgcGFkZGluZ0JvdHRvbTogXCIwcHggIWltcG9ydGFudFwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiXHJcbiAgfSxcclxuICBjbG9zZVN0eWxlOiB7XHJcbiAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxyXG4gICAgdG9wOiBcIjElXCIsXHJcbiAgICBsZWZ0OiBcIjUwJVwiLFxyXG4gICAgY29sb3I6IFwiI2ZmZlwiLFxyXG4gICAgZm9udFNpemU6IDQ4LFxyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIlxyXG4gIH0sXHJcbiAgY3VzdG9tZXJIaXN0b3J5TW9kYWw6IHtcclxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICB3aWR0aDogXCI0NSVcIixcclxuICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICBib3R0b206IFwiMFwiLFxyXG4gICAgb3ZlcmZsb3dXcmFwOiBcImJyZWFrLXdvcmRcIixcclxuICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICBib3hTaGFkb3c6IHRoZW1lLnNoYWRvd3NbNV0sXHJcbiAgICBwYWRkaW5nTGVmdDogXCIxJVwiLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgbGVmdDogXCI0LjIlXCJcclxuICB9LFxyXG4gIC8vbWVudSBcclxuICBhY3Rpb25JY29uOiB7XHJcbiAgICBmb250U2l6ZTogJzJyZW0nLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgfSxcclxuICBhY3Rpb25CdXR0b246IHtcclxuICAgIC8vIHBhZGRpbmcgOiBcIjElXCIsXHJcbiAgICBoZWlnaHQ6IFwiNC4xNjZ2d1wiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjBweFwiLFxyXG4gICAgd2lkdGg6IFwiNC4xNjZ2d1wiLFxyXG4gIH0sXHJcblxyXG5cclxufSlcclxuXHJcbmNvbnN0IHNhbGVzID0gZ2V0UmFtZG9tUm93cygpO1xyXG5cclxuZnVuY3Rpb24gZ2V0UmFtZG9tUm93cygpIHtcclxuICBsZXQgcm93cyA9IFtdO1xyXG4gIGxldCBpdGVtID0geyBcInByb2R1Y3RcIjogXCJoZWxsb1wiLCBcInJlZ2lvblwiOiBcIkFtZXJpY2FcIiwgXCJhbW91bnRcIjogXCI1XCIsIFwic2FsZURhdGVcIjogXCIwOS8wOS8xOTk2XCIsIFwiY3VzdG9tZXJcIjogXCJCYWxyYWpcIiwgfTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKykge1xyXG4gICAgcm93cy5wdXNoKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJvd3M7XHJcbn1cclxuXHJcbmNsYXNzIEluQ2FsbCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLm15UmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcbiAgICB0aGlzLnByb3BzLmNoYW5nZUNhbGxTdGF0ZSh7IGNhbGxpbmc6IHRydWUsIHN0YXR1czogXCJcIiB9KVxyXG4gICAgbGV0IGNvbnRhY3RJbmRleCwgY2FsbGVkVG9Db250YWN0SWRcclxuICAgIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbnRhY3RJbmRleCAhPSBudWxsKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiZmlyc3Qgb25lXCIpXHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMpXHJcbiAgICAgIGNvbnRhY3RJbmRleCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdEluZGV4O1xyXG4gICAgICBjYWxsZWRUb0NvbnRhY3RJZCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5pZFxyXG4gICAgICB0aGlzLmNhbGxlZFRvTnVtYmVyID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb051bWJlcjtcclxuICAgICAgdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5maXJzdE5hbWU7XHJcbiAgICAgIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5sYXN0TmFtZTtcclxuICAgICAgdGhpcy5lbWFpbE9mQ2FsbGVkID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmVtYWlsO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMpXHJcbiAgICAgIGNvbnNvbGUubG9nKFwic2Vjb25kIG9uZVwiKVxyXG4gICAgICBjYWxsZWRUb0NvbnRhY3RJZCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdElkXHJcbiAgICAgIHRoaXMuY2FsbGVkVG9OdW1iZXIgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyO1xyXG4gICAgICB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb0ZpcnN0TmFtZTtcclxuICAgICAgdGhpcy5jYWxsZWRUb0xhc3ROYW1lID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb0xhc3ROYW1lO1xyXG4gICAgICB0aGlzLmVtYWlsT2ZDYWxsZWQgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmVtYWlsT2ZDYWxsZWRcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwiRW1haWwgb2YgY2FsbGVkXCIsIHRoaXMuZW1haWxPZkNhbGxlZClcclxuXHJcbiAgICB0aGlzLmNhbGxlZFRvRnVsbE5hbWUgPSB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICsgXCIgXCIgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWU7XHJcbiAgICBpZiAodGhpcy5jYWxsZWRUb0Z1bGxOYW1lID09PSBcIlVua25vd24gXCIgfHwgdGhpcy5jYWxsZWRUb0Z1bGxOYW1lID09PSBcIlVubmFtZWQgVW5uYW1lZFwiKSB7XHJcbiAgICAgIHRoaXMuY2FsbGVkVG9GdWxsTmFtZSA9IHRoaXMuY2FsbGVkVG9OdW1iZXI7XHJcbiAgICB9XHJcbiAgICBsZXQgbG9jYXRpb25Qcm9wcyA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGU7XHJcbiAgICBsZXQgYWNjb3VudCA9IHRoaXMucHJvcHMuY3VzdG9tZXJzLmN1c3RvbWVycy5maWx0ZXIoY3VzdG9tZXIgPT4gY3VzdG9tZXIuaWQgPT0gbG9jYXRpb25Qcm9wcy5hY2NvdW50SWQpO1xyXG4gICAgdGhpcy5wcm9wcy5jYWxsTG9nKHtcclxuICAgICAgc3RhdHVzOiBcIlwiLFxyXG4gICAgICBjb250YWN0OiB7XHJcbiAgICAgICAgaWQ6IGNhbGxlZFRvQ29udGFjdElkXHJcbiAgICAgIH0sXHJcbiAgICAgIGNhbGxlZFRvTnVtYmVyOiB0aGlzLmNhbGxlZFRvTnVtYmVyLFxyXG4gICAgICBjb250YWN0SWQ6IGNhbGxlZFRvQ29udGFjdElkLFxyXG4gICAgICBjYWxsZWRUbzogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUbyxcclxuICAgICAgc3RhcnREYXRlVGltZTogbmV3IERhdGUoKSxcclxuICAgIH0pO1xyXG4gICAgZGlzYWJsZUZyZWRhSW5DYWxsKClcclxuICAgIHNpcENhbGwodGhpcy5jYWxsZWRUb051bWJlciwgdGhpcy5wcm9wcy51c2VyLCBhY2NvdW50LCBsb2NhdGlvblByb3BzLmN1c3RvbWVyLCB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzKTtcclxuICAgIC8vIHdoaWxlKHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgIT0gdHJ1ZSk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgdm9pY2VtYWlsUGxheWVkTWVzc2FnZTogXCJcIixcclxuICAgICAgcmVkaXJlY3Q6IGZhbHNlLFxyXG4gICAgICBjYWxsUHJlcFBhZ2U6IGZhbHNlLFxyXG4gICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lcixcclxuICAgICAgY29tbXVuaWNhdGlvbjogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb21tdW5pY2F0aW9uLFxyXG4gICAgICBjYWxsRHVyYXRpb246IDAsXHJcbiAgICAgIGNhbGxEdXJhdGlvbkluRm9ybWF0OiBcIlwiLFxyXG4gICAgICB0cmFuc2NyaXB0aW9uOiBcIlwiLFxyXG4gICAgICBzdW1tYXJ5OiBcIltdXCIsXHJcbiAgICAgIGNvbnRhY3RPcGVuOiBmYWxzZSxcclxuICAgICAgY29sdW1uczogW1xyXG4gICAgICAgIHsgbmFtZTogJ3Byb2R1Y3QnLCB0aXRsZTogJ1Byb2R1Y3QnIH0sXHJcbiAgICAgICAgeyBuYW1lOiAncmVnaW9uJywgdGl0bGU6ICdSZWdpb24nIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnYW1vdW50JywgdGl0bGU6ICdTYWxlIEFtb3VudCcgfSxcclxuICAgICAgICB7IG5hbWU6ICdzYWxlRGF0ZScsIHRpdGxlOiAnU2FsZSBEYXRlJyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ2N1c3RvbWVyJywgdGl0bGU6ICdDdXN0b21lcicgfSxcclxuICAgICAgXSxcclxuICAgICAgY3VycmVuY3lDb2x1bW5zOiBbJ2Ftb3VudCddLFxyXG4gICAgICBwYWdlU2l6ZXM6IFs1LCAxMCwgMTVdLFxyXG4gICAgICByb3dzOiBzYWxlcyxcclxuICAgICAgaW52b2ljZXM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMsXHJcbiAgICAgIGlzVm9pY2VtYWlsT3BlbjogZmFsc2UsXHJcbiAgICAgIHRyYW5zY3JpcHRpb246IFwiXCIsXHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5pbnZvaWNlcywgXCJpbiBpbmNhbGwgdXN1YWwgZmxvd1wiKVxyXG5cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIGxldCBjdXJyZW50VHJhbnNjcmlwdGlvbiA9IHRoaXMucHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xyXG4gICAgbGV0IG5ld1RyYW5zY3JpcHRpb24gPSBuZXh0UHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xyXG4gICAgaWYgKG5ld1RyYW5zY3JpcHRpb24gIT09IGN1cnJlbnRUcmFuc2NyaXB0aW9uKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB0cmFuc2NyaXB0aW9uOiBuZXdUcmFuc2NyaXB0aW9uIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBuZXh0UHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMgfSk7XHJcbiAgfVxyXG5cclxuICBvcGVuQ29udGFjdERyb3Bkb3duID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY29udGFjdE9wZW4gPT0gdHJ1ZSlcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnRhY3RPcGVuOiBmYWxzZSB9KTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnRhY3RPcGVuOiB0cnVlIH0pO1xyXG4gIH07XHJcbiAgdG9nZ2xlQ29udGFjdFBvcG92ZXIgPSB2YWx1ZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgY29udGFjdE9wZW46IHZhbHVlIH0pO1xyXG4gIH07XHJcbiAgZ2V0Rm9ybWF0dGVkRHVyYXRpb24gPSAoKSA9PiB7XHJcbiAgICBsZXQgZHVyYXRpb24gPSB0aGlzLnN0YXRlLmNhbGxEdXJhdGlvbisrO1xyXG4gICAgdmFyIGhyID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIDM2MDApO1xyXG4gICAgdmFyIG1pbiA9IE1hdGguZmxvb3IoKGR1cmF0aW9uIC0gKGhyICogMzYwMCkpIC8gNjApO1xyXG4gICAgdmFyIHNlYyA9IE1hdGguZmxvb3IoZHVyYXRpb24gLSAoaHIgKiAzNjAwKSAtIChtaW4gKiA2MCkpO1xyXG5cclxuICAgIGlmIChtaW4gPCAxMCkge1xyXG4gICAgICBtaW4gPSBcIjBcIiArIG1pbjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2VjIDwgMTApIHtcclxuICAgICAgc2VjID0gXCIwXCIgKyBzZWM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1pbiArICc6JyArIHNlYztcclxuICB9XHJcblxyXG4gIG9wZW5Wb2ljZW1haWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNWb2ljZW1haWxPcGVuOiAhdGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbE9wZW4gfSlcclxuICB9XHJcblxyXG4gIGNsb3NlUG9wVGltZWxpbmUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgcG9wVGltZWxpbmU6IGZhbHNlIH0pO1xyXG4gIH07XHJcblxyXG4gIG9wZW5Qb3BUaW1lbGluZSA9IHBvcFR5cGUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFRpbWVsaW5lOiB0cnVlLCBwb3BUeXBlOiBwb3BUeXBlIH0pO1xyXG4gIH07XHJcblxyXG4gIGdldFRpbWVsaW5lID0gcG9wVHlwZSA9PiB7XHJcbiAgICBjb25zdCB7IGNsYXNzZXMgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBsZXQgZXZlbnRzID0gXCJcIiwgbWFpbkhlYWRlciA9IFwiXCIsIG5vRXZlbnRNc2cgPSBcIlwiO1xyXG4gICAgaWYgKHBvcFR5cGUgPT09IFwiUEFZTUVOVF9ISVNUT1JZXCIpIHtcclxuICAgICAgZXZlbnRzID0gdGhpcy5zdGF0ZS5jdXN0b21lci5wYXltZW50cztcclxuICAgICAgLy8gZXZlbnRzPXRoaXMucGF5bWVudHM7XHJcbiAgICAgIG1haW5IZWFkZXIgPSBcIlJFQ0VOVCBQQVlNRU5UU1wiO1xyXG4gICAgICBub0V2ZW50TXNnID0gXCJObyBQYXltZW50cyBpbiBMYXN0IDMwIERheXNcIlxyXG4gICAgfVxyXG4gICAgaWYgKHBvcFR5cGUgPT09IFwiQ09NTV9ISVNUT1JZXCIpIHtcclxuICAgICAgZXZlbnRzID0gdGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uO1xyXG4gICAgICAvLyBldmVudHM9dGhpcy5jb21tdW5pY2F0aW9uO1xyXG4gICAgICBtYWluSGVhZGVyID0gXCJDT01NVU5JQ0FUSU9OIEhJU1RPUllcIjtcclxuICAgICAgbm9FdmVudE1zZyA9IFwiTm8gQ29tbXVuaWNhdGlvbiBIaXN0b3J5XCJcclxuICAgICAgZm9yIChsZXQgaSBpbiBldmVudHMpIHtcclxuICAgICAgICBsZXQgdHlwZSA9IGV2ZW50c1tpXS50eXBlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJDQUxMXCIpIHtcclxuICAgICAgICAgIGxldCBzdGF0dXMgPSBldmVudHNbaV0uY2FsbC5zdGF0dXM7XHJcbiAgICAgICAgICBpZiAoc3RhdHVzID09IFwiLTEwMFwiKSB7XHJcbiAgICAgICAgICAgIGV2ZW50c1tpXS5jb21tVHlwZSA9IFwiVk9JQ0VNQUlMXCI7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudHNbaV0uY29tbVR5cGUgPSBcIkNBTExcIjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJDT1JSRVNQT05ERU5DRVwiKSB7XHJcbiAgICAgICAgICBldmVudHNbaV0uY29tbVR5cGUgPSBcIk1BSUxcIjtcclxuICAgICAgICAgIGV2ZW50c1tpXS5jdXN0b21lck5hbWUgPSB0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgeygocG9wVHlwZSA9PSBcIkNPTU1fSElTVE9SWVwiKSB8fCBwb3BUeXBlID09IFwiUEFZTUVOVF9ISVNUT1JZXCIpICYmXHJcbiAgICAgICAgICA8VmVydGljYWxUaW1lTGluZVxyXG4gICAgICAgICAgICBwb3BUeXBlPXtwb3BUeXBlfVxyXG4gICAgICAgICAgICBldmVudHM9e2V2ZW50c31cclxuICAgICAgICAgICAgbWFpbkhlYWRlcj17bWFpbkhlYWRlcn1cclxuICAgICAgICAgICAgbm9FdmVudE1zZz17bm9FdmVudE1zZ31cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgdG9nZ2xlTXV0ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc011dGVkOiAhdGhpcy5zdGF0ZS5pc011dGVkIH0pXHJcbiAgICBzaXBUb2dnbGVNdXRlKCk7XHJcbiAgfVxyXG5cclxuICBzZXREdXJhdGlvbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmNhbGxEdXJhdGlvbiA9PT0gMCkge1xyXG4gICAgICB0aW1lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIilcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjYWxsRHVyYXRpb25JbkZvcm1hdDogdGhpcy5nZXRGb3JtYXR0ZWREdXJhdGlvbigpIH0pXHJcblxyXG4gICAgICB9LCAxMDAwKVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gIH1cclxuXHJcbiAgY2xlYXJJbnRlcnZhbE9uSGFuZ3VwID0gKCkgPT4ge1xyXG4gICAgY2xlYXJJbnRlcnZhbCh0aW1lSW50ZXJ2YWwpXHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGhhbmdVcCA9ICgpID0+IHtcclxuICAgIHNpcEhhbmd1cCgpXHJcbiAgICAvLyB0aGlzLnByb3BzLmNoYW5nZUNhbGxTdGF0ZSh7IGNhbGxpbmc6IGZhbHNlLCBzdGF0dXMgOiBcIkNvbm5lY3RlZCB0b1wiIH0pXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMpIHsgfVxyXG5cclxuICBvcGVuVm9pY2VtYWlsID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzVm9pY2VtYWlsT3BlbjogIXRoaXMuc3RhdGUuaXNWb2ljZW1haWxPcGVuIH0pXHJcbiAgfVxyXG5cclxuICBzd2l0Y2hUb0NhbGxQcmVwUGFnZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBjYWxsUHJlcFBhZ2U6IHRydWUgfSlcclxuICB9XHJcblxyXG4gIHN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgY2FsbFByZXBQYWdlOiBmYWxzZSB9KVxyXG5cclxuICB9XHJcblxyXG4gIGhhbmRsZVZvaWNlbWFpbE1lc3NhZ2UgPSAoKSA9PiB7XHJcblxyXG4gICAgLy9hZnRlciBmb3IgYWRkIGNhbGxlZF90b19uYW1lIG9yIG51bWJlciBpZiB1bmtub3cgdXNlciBhY2NvcmRpbmdseVxyXG5cclxuICAgIGxldCBjb250YWN0O1xyXG4gICAgbGV0IGNhbGxlZE5hbWUgPSB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICsgXCIgXCIgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWU7XHJcblxyXG4gICAgaWYgKGNhbGxlZE5hbWUgPT09IFwiVW5rbm93biBcIiB8fCBjYWxsZWROYW1lID09PSBcIlVubmFtZWQgVW5uYW1lZFwiKSB7XHJcbiAgICAgIGNvbnRhY3QgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29udGFjdCA9IGNhbGxlZE5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG1lc3NhZ2UgPSBgVm9pY2VtYWlsIFBsYXllZCBmb3IgJHtjb250YWN0ID8gY29udGFjdCA6IFwiXCJ9XFxuYDtcclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgdm9pY2VtYWlsUGxheWVkTWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcblxyXG5cclxuICAgIGxldCBuZXh0SWQgPSBwYXJzZUludCh0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pZCwgMTApICsgMTtcclxuICAgIGxldCBwcmV2SWQgPSBwYXJzZUludCh0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pZCwgMTApIC0gMTtcclxuICAgIGxldCBuZXh0VXJsID0gXCIvY2FsbHByZXAvXCIgKyBuZXh0SWQ7XHJcbiAgICBsZXQgcHJldlVybCA9IFwiL2NhbGxwcmVwL1wiICsgcHJldklkO1xyXG4gICAgY29uc3QgY2FsbGVkVG9OYW1lSW5pdGlhbHMgPSBnZXRJbml0aWFsc0Zyb21OYW1lKGAke3RoaXMuY2FsbGVkVG9GaXJzdE5hbWV9ICR7dGhpcy5jYWxsZWRUb0xhc3ROYW1lfWApO1xyXG4gICAgY29uc3QgeEF4aXNMYWJlbFN0eWxlcyA9IHtcclxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICBmb250U2l6ZTogXCIxM3B4XCIsXHJcbiAgICAgIHdpZHRoOiBcIjgwJVwiXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIikge1xyXG4gICAgICB0aGlzLnNldER1cmF0aW9uKClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIHt0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmXHJcblxyXG4gICAgICAgICAgPEhhbW1lciBvblN3aXBlTGVmdD17dGhpcy5zd2l0Y2hUb0NhbGxQcmVwUGFnZX0gb25Td2lwZVJpZ2h0PXt0aGlzLnN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2V9ID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuYXBwRnJhbWV9PlxyXG4gICAgICAgICAgICA8RHJhd2VyIHRvcEl0ZW1zPXtnZXRNZW51SXRlbXMoY2xhc3NlcywgdGhlbWUsIHRoaXMub3BlblBvcFRpbWVsaW5lKX0gLz5cclxuICAgICAgICAgICAgICAgIDxDdXN0b21Gb290ZXIgLz5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fSA+XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPE1vZGFsXHJcbiAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUucG9wVGltZWxpbmV9XHJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVBdXRvRm9jdXM9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VQb3BUaW1lbGluZX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lckhpc3RvcnlNb2RhbH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRUaW1lbGluZSh0aGlzLnN0YXRlLnBvcFR5cGUpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxDbG9zZVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLmNsb3NlU3R5bGUgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VQb3BUaW1lbGluZX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEZhYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbG9yPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQWRkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5wcmV2RmFiLCBjbGFzc2VzLmZhYkJ1dHRvbnMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRGYWIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnN3aXRjaFRvQ2FsbFByZXBQYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPE5hdmlnYXRlQmVmb3JlIGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPyBjbGFzc2VzLmRpc2FibGVkQXJyb3dpY29uIDogY2xhc3Nlcy5hcnJvd0ljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRmFiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8RmFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJBZGRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRGYWIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5uZXh0RmFiLCBjbGFzc2VzLmZhYkJ1dHRvbnMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TmF2aWdhdGVOZXh0IGNsYXNzTmFtZT17IXRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID8gY2xhc3Nlcy5kaXNhYmxlZEFycm93aWNvbiA6IGNsYXNzZXMuYXJyb3dJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0ZhYj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiZcclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgeHM9ezEyfSBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIGFsaWduSXRlbXM9XCJmbGV4LXN0YXJ0XCIgc3R5bGU9e3sgbWFyZ2luVG9wOiBcIjEuMTJ2aFwiIH19PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezV9IHN0eWxlPXt7IHBhZGRpbmdMZWZ0OiBcIjBweFwiLCBwYWRkaW5nUmlnaHQ6IFwiMHB4XCIgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWUubGVuZ3RoIDwgMjAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9XcmFwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCIgXCJ9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUb29sdGlwIHRpdGxlPXt0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9XcmFwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lck5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCIgXCJ9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmN1c3RvbWVyTnVtYmVyfT57dGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck51bWJlcn08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIHNtPXs2fSBsZz17Nn0gbWQ9ezZ9IHhsPXs1fSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cImZsZXgtZW5kXCIgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBsZz17OH0gbWQ9ezEwfSB4bD17MTB9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwiZmxleC1lbmRcIiBzdHlsZT17eyBtYXJnaW5SaWdodDogXCI4LjMzM3Z3XCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjb250YWluZXIgc209ezl9IGxnPXs5fSBtZD17OX0geGw9ezl9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIGNsYXNzTmFtZT17Y2xhc3Nlcy5jYWxsR3JpZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgaXRlbSBsZz17N30gbWQ9ezd9IHhsPXs3fSBzdHlsZT17eyBjdXJzb3I6IFwicG9pbnRlclwiIH19IG9uQ2xpY2s9e3RoaXMub3BlbkNvbnRhY3REcm9wZG93bn0ganVzdGlmeT1cImZsZXgtc3RhcnRcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLmN1c3RvbWVySWNvbkNpcmNsZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUgPT09IFwiVW5uYW1lZFwiICYmIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSA9PT0gXCJVbm5hbWVkXCIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPj88L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSAhPT0gXCJVbm5hbWVkXCIgJiYgdGhpcy5jYWxsZWRUb0xhc3ROYW1lICE9PSBcIlVubmFtZWRcIiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUudG9VcHBlckNhc2UoKS5jaGFyQXQoMCkgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWUudG9VcHBlckNhc2UoKS5jaGFyQXQoMCl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGxnPXs3fSBtZD17N30geGw9ezd9IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYWxsVGV4dH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cInNwYW5cIiBub1dyYXAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuc3RhdHVzKX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY2FsbGVkVG9Db250YWN0RGl2fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IG5vV3JhcD17dHJ1ZX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhbGxlZENvbnRhY3ROYW1lfSA+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5jYWxsZWRUb0Z1bGxOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMuZHJvcERvd259IGFsaWduPVwicmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXJyb3dEcm9wRG93bkljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5kcm9wRG93bkljb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5jb250YWN0SWNvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbnRhY3RMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhRnJvbUNoaWxkPXt0aGlzLnRvZ2dsZUNvbnRhY3RQb3BvdmVyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdE9wZW49e3RoaXMuc3RhdGUuY29udGFjdE9wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuQ29udGFjdHM9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdHM9e3RoaXMuc3RhdGUuY3VzdG9tZXIuY29udGFjdHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VzPXt0aGlzLnN0YXRlLmludm9pY2VzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0TmFtZXM9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuYnVja2V0TmFtZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q3VzdG9tZXJVcmw9e3RoaXMubmV4dFVybH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvQ2FsbEN1c3RvbWVycz17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvQ29udGFjdExpc3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBpdGVtIGxnPXs1fSBtZD17NX0geGw9ezV9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwiZmxleC1lbmRcIj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNsYXNzTmFtZT17Y2xhc3Nlcy5kdXJhdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuY2FsbER1cmF0aW9uSW5Gb3JtYXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5taWNPZmZJY29uLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNNdXRlZCAmJiA8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5taWNPZmZJY29uSW1nfSBzcmM9eycvdG92by9zdGF0aWMvdW5tdXRlLnN2Zyd9IG9uQ2xpY2s9e3RoaXMudG9nZ2xlTXV0ZX0gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnN0YXRlLmlzTXV0ZWQgJiYgPGltZyBjbGFzc05hbWU9e2NsYXNzZXMubWljT2ZmSWNvbkltZ30gc3JjPXtyZXF1aXJlKCcuLi9hc3NldHMvbWljX29mZi5wbmcnKX0gb25DbGljaz17dGhpcy50b2dnbGVNdXRlfSAvPn1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cInJpZ2h0XCIgY2xhc3NOYW1lPXtjbGFzc2VzLmhhbmdVcEJ1dHRvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9e2NsYXNzZXMuaGFuZ1VwQnV0dG9uSW1nfSBvbkNsaWNrPXt0aGlzLmhhbmdVcH0gY2xhc3NOYW1lPXtjbGFzc2VzLmhhbmdVcEljb25Jbmd9IHNyYz17cmVxdWlyZSgnLi4vYXNzZXRzL2hhbmctdXAucG5nJyl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLmRpYWxwYWRJY29ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxLZXlQYWRXcmFwcGVkIGNsYXNzTmFtZT17Y2xhc3Nlcy5iYXNlSWNvblNpemV9IGN1c3RvbWVyPXt0aGlzLnN0YXRlLmN1c3RvbWVyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnZvaWNlTWFpbEljb24sIGNsYXNzZXMuYmFzZUljb25TaXplKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Vm9pY2VtYWlsV3JhcHBlciBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn0gb25Wb2ljZW1haWxDbGljaz17KCkgPT4gdGhpcy5oYW5kbGVWb2ljZW1haWxNZXNzYWdlKCl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmIHRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID09PSBmYWxzZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiBcIjIuMDM3dmhcIiB9fT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgeHM9ezEyfSBhbGlnbkl0ZW1zPVwiZmxleC1zdGFydFwiIGp1c3RpZnk9XCJjZW50ZXJcIiBzdHlsZT17eyBtYXJnaW5MZWZ0OiBcIjBweFwiIH19ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17OH0gYWxpZ249XCJsZWZ0XCIgc3R5bGU9e3sgcGFkZGluZ1RvcDogXCIwXCIsIHBhZGRpbmdSaWdodDogXCIxLjA0MXZ3XCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW52b2ljZXMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbkNhbGxEZXRhaWxzIGNvbGxlY3Rvcj17dGhpcy5wcm9wcy51c2VyfSBlbWFpbE9mQ2FsbGVkPXt0aGlzLmVtYWlsT2ZDYWxsZWR9IGN1c3RvbWVyPXt0aGlzLnN0YXRlLmN1c3RvbWVyfSBpbnZvaWNlcz17dGhpcy5zdGF0ZS5pbnZvaWNlc30gYnVja2V0TmFtZXM9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuYnVja2V0TmFtZXN9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIHhzPXs0fSBjbGFzc05hbWU9e2NsYXNzZXMudHJhbnNjcmlwdEJveFBhcmVudH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYW5zY3JpcHRCb3hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy50cmFuc2NyaXB0Qm94fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Njcm9sbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lPXtjbGFzc2VzLnRyYW5zY3JpcHRUaXRsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRDaGF0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbjogdGhpcy5zdGF0ZS50cmFuc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZWRUb05hbWVJbml0aWFsczogY2FsbGVkVG9OYW1lSW5pdGlhbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJbml0aWFsczogJ01FJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdEdyaWRJRDogJ2xpdmUtdHJhbnNjcmlwdGlvbi1ncmlkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPT09IHRydWUgJiZcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPENhbGxQcmVwRGV0YWlscyBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9IYW1tZXI+XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSBmYWxzZSAmJlxyXG4gICAgICAgICAgKFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiQ2FsbCBGYWlsZWRcIiB8fFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT0gXCJXcm9uZyBOdW1iZXJcIiB8fFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT0gXCJVc2VyIEJ1c3lcIikgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxSZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgdG89e3tcclxuICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IFwiL2NhbGxwcmVwL1wiICsgdGhpcy5zdGF0ZS5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgICAgICAgc3RhdGU6IHsgb3BlbkNvbnRhY3RzOiB0cnVlLCB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzIH1cclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IGZhbHNlICYmIChcclxuICAgICAgICAgICAgPFBvc3RDYWxsXHJcbiAgICAgICAgICAgICAgdm9pY2VtYWlsTWVzc2FnZT17dGhpcy5zdGF0ZS52b2ljZW1haWxQbGF5ZWRNZXNzYWdlfVxyXG4gICAgICAgICAgICAgIGNhbGxEdXJhdGlvbj17dGhpcy5zdGF0ZS5jYWxsRHVyYXRpb259XHJcbiAgICAgICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzPXt0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLnRvQ2FsbEN1c3RvbWVyc31cclxuICAgICAgICAgICAgICBuZXh0Q3VzdG9tZXJVcmw9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUubmV4dEN1c3RvbWVyVXJsfVxyXG4gICAgICAgICAgICAgIG9uSGFuZ3VwPXt0aGlzLmNsZWFySW50ZXJ2YWxPbkhhbmd1cH1cclxuICAgICAgICAgICAgICBpbnZvaWNlcz17dGhpcy5zdGF0ZS5pbnZvaWNlc31cclxuICAgICAgICAgICAgICBjdXN0b21lcj17dGhpcy5zdGF0ZS5jdXN0b21lcn1cclxuICAgICAgICAgICAgICBjYWxsZWRUb05hbWU9e3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyBcIiBcIiArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZX1cclxuICAgICAgICAgICAgICBidWNrZXROYW1lcz17dGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lc31cclxuICAgICAgICAgICAgICBjb2xsZWN0b3I9e3RoaXMucHJvcHMudXNlcn1cclxuICAgICAgICAgICAgICBjb250YWN0SW5kZXg9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdEluZGV4fVxyXG4gICAgICAgICAgICAgIGNhbGxlZFRvTnVtYmVyPXt0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyfVxyXG4gICAgICAgICAgICAgIGluaXRpYWxUcmFuc2NyaXB0aW9uPXt0aGlzLnN0YXRlLnRyYW5zY3JpcHRpb259XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IGZhbHNlICYmIHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJUcnlpbmcgdG8gY29ubmVjdFwiICYmXHJcbiAgICAgICAgICA8ZGl2PlxyXG5cclxuICAgICAgICAgICAgPFJlZGlyZWN0IHRvPXt7XHJcbiAgICAgICAgICAgICAgcGF0aG5hbWU6ICcvY2FsbHByZXAvJyArIHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXHJcbiAgICAgICAgICAgICAgc3RhdGU6IHsgb3BlbkNvbnRhY3RzOiBmYWxzZSwgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLnRvQ2FsbEN1c3RvbWVycyB9XHJcbiAgICAgICAgICAgIH19IC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+ICh7XHJcblxyXG4gIHVzZXI6IHN0YXRlLnBlcnNvbmFsRGV0YWlscyxcclxuICBjYWxsU3RhdGU6IHN0YXRlLmNhbGxTdGF0ZSxcclxuICB0cmFuc2NyaXB0aW9uOiBzdGF0ZS50cmFuc2NyaXB0aW9uLFxyXG4gIGN1c3RvbWVyczogc3RhdGUuY3VzdG9tZXJzLFxyXG59KVxyXG5cclxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZGlzcGF0Y2ggPT4gKHtcclxuICBjaGFuZ2VDYWxsU3RhdGU6IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZUNhbGxTdGF0ZShkYXRhKSkpLFxyXG4gIGNoYW5nZVN0YXR1czogZGF0YSA9PiAoZGlzcGF0Y2goY2hhbmdlU3RhdHVzKGRhdGEpKSksXHJcbiAgY2hhbmdlVHJhbnNjcmlwdGlvbjogZGF0YSA9PiAoZGlzcGF0Y2goY2hhbmdlVHJhbnNjcmlwdGlvbihkYXRhKSkpLFxyXG4gIGNhbGxMb2c6IGRhdGEgPT4gKGRpc3BhdGNoKGFkZEluaXRpYWxDYWxsTG9nKGRhdGEpKSlcclxufSlcclxuXHJcbmNvbnN0IGNvbWJpbmVkU3R5bGUgPSBjb21iaW5lU3R5bGVzKHN0eWxlcywgYmFzZVN0eWxlKVxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxyXG4gIG1hcFN0YXRlVG9Qcm9wcyxcclxuICBtYXBEaXNwYXRjaFRvUHJvcHMsXHJcbikod2l0aFN0eWxlcyhjb21iaW5lZFN0eWxlLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShJbkNhbGwpKVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZpZXdzL0luQ2FsbC5qcyIsImltcG9ydCBhZGREYXlzIGZyb20gJ2RhdGUtZm5zL2FkZERheXMnO1xuaW1wb3J0IGFkZE1vbnRocyBmcm9tICdkYXRlLWZucy9hZGRNb250aHMnO1xuaW1wb3J0IGFkZFllYXJzIGZyb20gJ2RhdGUtZm5zL2FkZFllYXJzJztcbmltcG9ydCBkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMgZnJvbSAnZGF0ZS1mbnMvZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzJztcbmltcG9ydCBlYWNoRGF5T2ZJbnRlcnZhbCBmcm9tICdkYXRlLWZucy9lYWNoRGF5T2ZJbnRlcnZhbCc7XG5pbXBvcnQgZW5kT2ZEYXkgZnJvbSAnZGF0ZS1mbnMvZW5kT2ZEYXknO1xuaW1wb3J0IGVuZE9mTW9udGggZnJvbSAnZGF0ZS1mbnMvZW5kT2ZNb250aCc7XG5pbXBvcnQgZW5kT2ZXZWVrIGZyb20gJ2RhdGUtZm5zL2VuZE9mV2Vlayc7XG5pbXBvcnQgZW5kT2ZZZWFyIGZyb20gJ2RhdGUtZm5zL2VuZE9mWWVhcic7XG5pbXBvcnQgZm9ybWF0IGZyb20gJ2RhdGUtZm5zL2Zvcm1hdCc7XG5pbXBvcnQgZ2V0SG91cnMgZnJvbSAnZGF0ZS1mbnMvZ2V0SG91cnMnO1xuaW1wb3J0IGdldFNlY29uZHMgZnJvbSAnZGF0ZS1mbnMvZ2V0U2Vjb25kcyc7XG5pbXBvcnQgZ2V0WWVhciBmcm9tICdkYXRlLWZucy9nZXRZZWFyJztcbmltcG9ydCBpc0FmdGVyIGZyb20gJ2RhdGUtZm5zL2lzQWZ0ZXInO1xuaW1wb3J0IGlzQmVmb3JlIGZyb20gJ2RhdGUtZm5zL2lzQmVmb3JlJztcbmltcG9ydCBpc0VxdWFsIGZyb20gJ2RhdGUtZm5zL2lzRXF1YWwnO1xuaW1wb3J0IGlzU2FtZURheSBmcm9tICdkYXRlLWZucy9pc1NhbWVEYXknO1xuaW1wb3J0IGlzVmFsaWQgZnJvbSAnZGF0ZS1mbnMvaXNWYWxpZCc7XG5pbXBvcnQgZGF0ZUZuc1BhcnNlIGZyb20gJ2RhdGUtZm5zL3BhcnNlJztcbmltcG9ydCBzZXRIb3VycyBmcm9tICdkYXRlLWZucy9zZXRIb3Vycyc7XG5pbXBvcnQgc2V0TWludXRlcyBmcm9tICdkYXRlLWZucy9zZXRNaW51dGVzJztcbmltcG9ydCBzZXRTZWNvbmRzIGZyb20gJ2RhdGUtZm5zL3NldFNlY29uZHMnO1xuaW1wb3J0IHNldFllYXIgZnJvbSAnZGF0ZS1mbnMvc2V0WWVhcic7XG5pbXBvcnQgc3RhcnRPZkRheSBmcm9tICdkYXRlLWZucy9zdGFydE9mRGF5JztcbmltcG9ydCBzdGFydE9mTW9udGggZnJvbSAnZGF0ZS1mbnMvc3RhcnRPZk1vbnRoJztcbmltcG9ydCBzdGFydE9mV2VlayBmcm9tICdkYXRlLWZucy9zdGFydE9mV2Vlayc7XG5pbXBvcnQgc3RhcnRPZlllYXIgZnJvbSAnZGF0ZS1mbnMvc3RhcnRPZlllYXInO1xuXG52YXIgRGF0ZUZuc1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGVGbnNVdGlscyhfYSkge1xuICAgICAgICB2YXIgbG9jYWxlID0gKF9hID09PSB2b2lkIDAgPyB7fSA6IF9hKS5sb2NhbGU7XG4gICAgICAgIHRoaXMuZGF0ZVRpbWUxMmhGb3JtYXQgPSBcIk1NTU0gZG8gaGg6bW0gYWFhYVwiO1xuICAgICAgICB0aGlzLmRhdGVUaW1lMjRoRm9ybWF0ID0gXCJNTU1NIGRvIEhIOm1tXCI7XG4gICAgICAgIHRoaXMudGltZTEyaEZvcm1hdCA9IFwiaGg6bW0gYVwiO1xuICAgICAgICB0aGlzLnRpbWUyNGhGb3JtYXQgPSBcIkhIOm1tXCI7XG4gICAgICAgIHRoaXMuZGF0ZUZvcm1hdCA9IFwiTU1NTSBkb1wiO1xuICAgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZTtcbiAgICB9XG4gICAgLy8gTm90ZTogZGF0ZS1mbnMgaW5wdXQgdHlwZXMgYXJlIG1vcmUgbGVuaWVudCB0aGFuIHRoaXMgYWRhcHRlciwgc28gd2UgbmVlZCB0byBleHBvc2Ugb3VyIG1vcmVcbiAgICAvLyAgc3RyaWN0IHNpZ25hdHVyZSBhbmQgZGVsZWdhdGUgdG8gdGhlIG1vcmUgbGVuaWVudCBzaWd0YXR1cmUuICBPdGhlcndpc2UsIHdlIGhhdmUgZG93bnN0cmVhbSB0eXBlIGVycm9ycyB1cG9uIHVzYWdlLlxuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuYWRkRGF5cyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGFkZERheXModmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNWYWxpZCh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERpZmYgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzKHZhbHVlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0FmdGVyID0gZnVuY3Rpb24gKHZhbHVlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGlzQWZ0ZXIodmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQmVmb3JlID0gZnVuY3Rpb24gKHZhbHVlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGlzQmVmb3JlKHZhbHVlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5zdGFydE9mRGF5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBzdGFydE9mRGF5KHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZW5kT2ZEYXkgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGVuZE9mRGF5KHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0SG91cnMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGdldEhvdXJzKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0SG91cnMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBzZXRIb3Vycyh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5zZXRNaW51dGVzID0gZnVuY3Rpb24gKHZhbHVlLCBjb3VudCkge1xuICAgICAgICByZXR1cm4gc2V0TWludXRlcyh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRTZWNvbmRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRTZWNvbmRzKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0U2Vjb25kcyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIHNldFNlY29uZHModmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNTYW1lRGF5ID0gZnVuY3Rpb24gKHZhbHVlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGlzU2FtZURheSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U3RhcnRPZk1vbnRoID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBzdGFydE9mTW9udGgodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRZZWFyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRZZWFyKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0WWVhciA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIHNldFllYXIodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXRTdHJpbmcpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0ZUZuc1BhcnNlKHZhbHVlLCBmb3JtYXRTdHJpbmcsIG5ldyBEYXRlKCkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoZGF0ZSwgZm9ybWF0U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgZm9ybWF0U3RyaW5nLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzRXF1YWwgPSBmdW5jdGlvbiAoZGF0ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIGlmIChkYXRlID09PSBudWxsICYmIGNvbXBhcmluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzRXF1YWwoZGF0ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNOdWxsID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUgPT09IG51bGw7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQWZ0ZXJEYXkgPSBmdW5jdGlvbiAoZGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzQWZ0ZXIoZGF0ZSwgZW5kT2ZEYXkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmVEYXkgPSBmdW5jdGlvbiAoZGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzQmVmb3JlKGRhdGUsIHN0YXJ0T2ZEYXkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmVZZWFyID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0JlZm9yZShkYXRlLCBzdGFydE9mWWVhcih2YWx1ZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0FmdGVyWWVhciA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNBZnRlcihkYXRlLCBlbmRPZlllYXIodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZm9ybWF0TnVtYmVyID0gZnVuY3Rpb24gKG51bWJlclRvRm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBudW1iZXJUb0Zvcm1hdDtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TWludXRlcyA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNZXJpZGllbVRleHQgPSBmdW5jdGlvbiAoYW1wbSkge1xuICAgICAgICByZXR1cm4gYW1wbSA9PT0gXCJhbVwiID8gXCJBTVwiIDogXCJQTVwiO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXROZXh0TW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gYWRkTW9udGhzKGRhdGUsIDEpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRQcmV2aW91c01vbnRoID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGFkZE1vbnRocyhkYXRlLCAtMSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLm1lcmdlRGF0ZUFuZFRpbWUgPSBmdW5jdGlvbiAoZGF0ZSwgdGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRNaW51dGVzKHRoaXMuc2V0SG91cnMoZGF0ZSwgdGhpcy5nZXRIb3Vycyh0aW1lKSksIHRoaXMuZ2V0TWludXRlcyh0aW1lKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFdlZWtkYXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIGVhY2hEYXlPZkludGVydmFsKHtcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydE9mV2Vlayhub3csIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KSxcbiAgICAgICAgICAgIGVuZDogZW5kT2ZXZWVrKG5vdywgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pXG4gICAgICAgIH0sIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KS5tYXAoZnVuY3Rpb24gKGRheSkgeyByZXR1cm4gZm9ybWF0KGRheSwgXCJFRUVFRUVcIiwgeyBsb2NhbGU6IF90aGlzLmxvY2FsZSB9KTsgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFdlZWtBcnJheSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHN0YXJ0T2ZXZWVrKHN0YXJ0T2ZNb250aChkYXRlKSwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgICAgICB2YXIgZW5kID0gZW5kT2ZXZWVrKGVuZE9mTW9udGgoZGF0ZSksIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzdGFydDtcbiAgICAgICAgdmFyIG5lc3RlZFdlZWtzID0gW107XG4gICAgICAgIHdoaWxlIChpc0JlZm9yZShjdXJyZW50LCBlbmQpKSB7XG4gICAgICAgICAgICB2YXIgd2Vla051bWJlciA9IE1hdGguZmxvb3IoY291bnQgLyA3KTtcbiAgICAgICAgICAgIG5lc3RlZFdlZWtzW3dlZWtOdW1iZXJdID0gbmVzdGVkV2Vla3Nbd2Vla051bWJlcl0gfHwgW107XG4gICAgICAgICAgICBuZXN0ZWRXZWVrc1t3ZWVrTnVtYmVyXS5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgY3VycmVudCA9IGFkZERheXMoY3VycmVudCwgMSk7XG4gICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXN0ZWRXZWVrcztcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhclJhbmdlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IHN0YXJ0T2ZZZWFyKHN0YXJ0KTtcbiAgICAgICAgdmFyIGVuZERhdGUgPSBlbmRPZlllYXIoZW5kKTtcbiAgICAgICAgdmFyIHllYXJzID0gW107XG4gICAgICAgIHZhciBjdXJyZW50ID0gc3RhcnREYXRlO1xuICAgICAgICB3aGlsZSAoaXNCZWZvcmUoY3VycmVudCwgZW5kRGF0ZSkpIHtcbiAgICAgICAgICAgIHllYXJzLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gYWRkWWVhcnMoY3VycmVudCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHllYXJzO1xuICAgIH07XG4gICAgLy8gZGlzcGxheWluZyBtZXRocGRzXG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRDYWxlbmRhckhlYWRlclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIFwiTU1NTSB5eXl5XCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIFwieXl5eVwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERhdGVQaWNrZXJIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcIkVFRSwgTU1NIGRcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXREYXRlVGltZVBpY2tlckhlYWRlclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIFwiTU1NIGRcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXREYXlUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcImRcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRIb3VyVGV4dCA9IGZ1bmN0aW9uIChkYXRlLCBhbXBtKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgYW1wbSA/IFwiaGhcIiA6IFwiSEhcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNaW51dGVUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcIm1tXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U2Vjb25kVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgXCJzc1wiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGF0ZUZuc1V0aWxzO1xufSgpKTtcblxuZXhwb3J0IGRlZmF1bHQgRGF0ZUZuc1V0aWxzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGRhdGUtaW8vZGF0ZS1mbnMvYnVpbGQvaW5kZXguZXNtLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDc3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IF9fZXh0ZW5kcywgX19hc3NpZ24sIF9fcmVzdCB9IGZyb20gJ3RzbGliJztcbmltcG9ydCB7IGZ1bmMsIG9uZU9mVHlwZSwgb2JqZWN0LCBzdHJpbmcsIGVsZW1lbnQsIGFycmF5T2YsIGJvb2wsIG5vZGUsIGFueSwgb25lT2YsIG51bWJlciwgaW5zdGFuY2VPZiwgc2hhcGUgfSBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIGNyZWF0ZUVsZW1lbnQsIENvbXBvbmVudCwgRnJhZ21lbnQsIFB1cmVDb21wb25lbnQsIGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTWFza2VkSW5wdXQgZnJvbSAncmVhY3QtdGV4dC1tYXNrJztcbmltcG9ydCBJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb24nO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvbic7XG5pbXBvcnQgSW5wdXRBZG9ybm1lbnQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSW5wdXRBZG9ybm1lbnQnO1xuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xuaW1wb3J0IERpYWxvZyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2cnO1xuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQWN0aW9ucyc7XG5pbXBvcnQgRGlhbG9nQ29udGVudCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dDb250ZW50JztcbmltcG9ydCB7IGNyZWF0ZVN0eWxlcywgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBFdmVudExpc3RlbmVyIGZyb20gJ3JlYWN0LWV2ZW50LWxpc3RlbmVyJztcbmltcG9ydCBrZXljb2RlIGZyb20gJ2tleWNvZGUnO1xuaW1wb3J0IGNyZWF0ZVN0eWxlcyQxIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcy9jcmVhdGVTdHlsZXMnO1xuaW1wb3J0IHdpdGhTdHlsZXMkMSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMvd2l0aFN0eWxlcyc7XG5pbXBvcnQgVG9vbGJhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Ub29sYmFyJztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwIH0gZnJvbSAncmVhY3QtdHJhbnNpdGlvbi1ncm91cCc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgUG9wb3ZlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Qb3BvdmVyJztcbmltcG9ydCBQYXBlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9QYXBlcic7XG5pbXBvcnQgd2l0aFRoZW1lIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcy93aXRoVGhlbWUnO1xuaW1wb3J0IFRhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UYWInO1xuaW1wb3J0IFRhYnMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGFicyc7XG5cbnZhciBfYSA9IGNyZWF0ZUNvbnRleHQobnVsbCksXG4gICAgQ29uc3VtZXIgPSBfYS5Db25zdW1lcixcbiAgICBQcm92aWRlciA9IF9hLlByb3ZpZGVyO1xuXG52YXIgTXVpUGlja2Vyc0NvbnRleHRDb25zdW1lciA9IENvbnN1bWVyO1xuXG52YXIgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHV0aWxzOiBudWxsXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgVXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgbG9jYWxlID0gX2EubG9jYWxlLFxuICAgICAgICBtb21lbnQgPSBfYS5tb21lbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHV0aWxzOiBuZXcgVXRpbHMoe1xuICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgbW9tZW50OiBtb21lbnRcbiAgICAgIH0pXG4gICAgfTtcbiAgfTtcblxuICBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZTogdGhpcy5zdGF0ZS51dGlscyxcbiAgICAgIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgfSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICAgIHV0aWxzOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgbG9jYWxlOiBvbmVPZlR5cGUoW29iamVjdCwgc3RyaW5nXSksXG4gICAgY2hpbGRyZW46IG9uZU9mVHlwZShbZWxlbWVudC5pc1JlcXVpcmVkLCBhcnJheU9mKGVsZW1lbnQuaXNSZXF1aXJlZCldKS5pc1JlcXVpcmVkLFxuICAgIG1vbWVudDogZnVuY1xuICB9IDogdm9pZCAwO1xuICBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbG9jYWxlOiB1bmRlZmluZWQsXG4gICAgbW9tZW50OiB1bmRlZmluZWRcbiAgfTtcbiAgcmV0dXJuIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyO1xufShDb21wb25lbnQpO1xuXG52YXIgY2hlY2tVdGlscyA9IGZ1bmN0aW9uICh1dGlscykge1xuICBpZiAoIXV0aWxzKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gbm90IGZpbmQgdXRpbHMgaW4gY29udGV4dC4gWW91IGVpdGhlciBhKSBmb3Jnb3QgdG8gd3JhcCB5b3VyIGNvbXBvbmVudCB0cmVlIGluIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyOyBvciBiKSBtaXhlZCBuYW1lZCBhbmQgZGlyZWN0IGZpbGUgaW1wb3J0cy4gIFJlY29tbWVuZGF0aW9uOiB1c2UgbmFtZWQgaW1wb3J0cyBmcm9tIHRoZSBtb2R1bGUgaW5kZXguJyk7XG4gIH1cbn07XG5cbnZhciB3aXRoVXRpbHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoQ29tcG9uZW50JCQxKSB7XG4gICAgdmFyIFdpdGhVdGlscyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoTXVpUGlja2Vyc0NvbnRleHRDb25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKHV0aWxzKSB7XG4gICAgICAgIGNoZWNrVXRpbHModXRpbHMpO1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChDb21wb25lbnQkJDEsIF9fYXNzaWduKHtcbiAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgfSwgcHJvcHMpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBXaXRoVXRpbHMuZGlzcGxheU5hbWUgPSBcIldpdGhVdGlscyhcIiArIChDb21wb25lbnQkJDEuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50JCQxLm5hbWUpICsgXCIpXCI7XG4gICAgcmV0dXJuIFdpdGhVdGlscztcbiAgfTtcbn07XG5cbnZhciBnZXRJbml0aWFsRGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBfYS5pbml0aWFsRm9jdXNlZERhdGU7XG4gIHZhciBpbml0aWFsRGF0ZSA9IHZhbHVlIHx8IGluaXRpYWxGb2N1c2VkRGF0ZSB8fCB1dGlscy5kYXRlKCk7XG4gIHZhciBkYXRlID0gdXRpbHMuZGF0ZShpbml0aWFsRGF0ZSk7XG4gIHJldHVybiB1dGlscy5pc1ZhbGlkKGRhdGUpID8gZGF0ZSA6IHV0aWxzLmRhdGUoKTtcbn07XG5cbnZhciBCYXNlUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKEJhc2VQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQmFzZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgZGF0ZTogZ2V0SW5pdGlhbERhdGUoX3RoaXMucHJvcHMpLFxuICAgICAgaXNBY2NlcHRlZDogZmFsc2VcbiAgICB9O1xuXG4gICAgX3RoaXMuY2hhbmdlRGF0ZSA9IGZ1bmN0aW9uIChkYXRlLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0ZTogZGF0ZVxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSA9IGZ1bmN0aW9uIChpc0FjY2VwdGVkLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZFxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5vbkNoYW5nZShudWxsKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQWNjZXB0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9uQ2hhbmdlKF90aGlzLnN0YXRlLmRhdGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZXRUb2RheURhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnByb3BzLnV0aWxzLmRhdGUoKSwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2UgPSBfYS5tZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlO1xuXG4gICAgICBpZiAobWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZSkge1xuICAgICAgICBkYXRlID0gdXRpbHMubWVyZ2VEYXRlQW5kVGltZShfdGhpcy5zdGF0ZS5kYXRlLCBkYXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGUgPT09IG51bGwpIHtcbiAgICAgICAgb25DaGFuZ2UobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5jaGFuZ2VEYXRlKGRhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb25DaGFuZ2UoZGF0ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5waWNrMTJoT3IyNGhGb3JtYXQgPSBmdW5jdGlvbiAoZGVmYXVsdDEyaEZvcm1hdCwgZGVmYXVsdDI0aEZvcm1hdCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICAgIGFtcG0gPSBfYS5hbXBtO1xuXG4gICAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbXBtID8gZGVmYXVsdDEyaEZvcm1hdCA6IGRlZmF1bHQyNGhGb3JtYXQ7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChuZXdEYXRlLCBpc0ZpbmlzaCkge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBhdXRvT2sgPSBfYS5hdXRvT2ssXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZTtcblxuICAgICAgX3RoaXMuY2hhbmdlRGF0ZShuZXdEYXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0ZpbmlzaCAmJiBhdXRvT2spIHtcbiAgICAgICAgICBvbkNoYW5nZShuZXdEYXRlKTsgLy8gcGFzcyBkb3duIGFjY2VwdCB0cnVlLCBhbmQgbWFrZSBpdCBmYWxzZSBpbiB0aGUgbmV4dCB0aWNrXG5cbiAgICAgICAgICBfdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSh0cnVlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UoZmFsc2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRGlzbWlzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0ZTogZ2V0SW5pdGlhbERhdGUoX3RoaXMucHJvcHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQmFzZVBpY2tlci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IF9hLmluaXRpYWxGb2N1c2VkRGF0ZTtcblxuICAgIGlmIChwcmV2UHJvcHMudmFsdWUgIT09IHZhbHVlIHx8IHByZXZQcm9wcy51dGlscy5sb2NhbGUgIT09IHV0aWxzLmxvY2FsZSB8fCBwcmV2UHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlICE9PSBpbml0aWFsRm9jdXNlZERhdGUpIHtcbiAgICAgIHRoaXMuY2hhbmdlRGF0ZShnZXRJbml0aWFsRGF0ZSh0aGlzLnByb3BzKSk7XG4gICAgfVxuICB9O1xuXG4gIEJhc2VQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbihfX2Fzc2lnbih7fSwgdGhpcy5zdGF0ZSwge1xuICAgICAgdXRpbHM6IHRoaXMucHJvcHMudXRpbHMsXG4gICAgICBjaGFuZ2VEYXRlOiB0aGlzLmNoYW5nZURhdGUsXG4gICAgICBoYW5kbGVBY2NlcHRlZENoYW5nZTogdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZSxcbiAgICAgIGhhbmRsZUNsZWFyOiB0aGlzLmhhbmRsZUNsZWFyLFxuICAgICAgaGFuZGxlQWNjZXB0OiB0aGlzLmhhbmRsZUFjY2VwdCxcbiAgICAgIGhhbmRsZURpc21pc3M6IHRoaXMuaGFuZGxlRGlzbWlzcyxcbiAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZTogdGhpcy5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2U6IHRoaXMuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgcGljazEyaE9yMjRoRm9ybWF0OiB0aGlzLnBpY2sxMmhPcjI0aEZvcm1hdCxcbiAgICAgIGhhbmRsZUNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VQaWNrZXI7XG59KENvbXBvbmVudCk7XG52YXIgQmFzZVBpY2tlciQxID0gd2l0aFV0aWxzKCkoQmFzZVBpY2tlcik7XG5cbnZhciBkYXRlID0gb25lT2ZUeXBlKFtvYmplY3QsIHN0cmluZywgbnVtYmVyLCBpbnN0YW5jZU9mKERhdGUpXSk7XG52YXIgRG9tYWluUHJvcFR5cGVzID0ge1xuICBkYXRlOiBkYXRlXG59O1xuXG52YXIgSW5wdXQgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoSW5wdXQsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gSW5wdXQoKSB7XG4gICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgSW5wdXQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBpbnB1dFJlZiA9IF9hLmlucHV0UmVmLFxuICAgICAgICBrZWVwQ2hhclBvc2l0aW9ucyA9IF9hLmtlZXBDaGFyUG9zaXRpb25zLFxuICAgICAgICByZXN0ID0gX19yZXN0KF9hLCBbXCJpbnB1dFJlZlwiLCBcImtlZXBDaGFyUG9zaXRpb25zXCJdKTtcblxuICAgIHJldHVybiB0aGlzLnByb3BzLm1hc2sgPyBjcmVhdGVFbGVtZW50KE1hc2tlZElucHV0LCBfX2Fzc2lnbih7fSwgcmVzdCwge1xuICAgICAga2VlcENoYXJQb3NpdGlvbnM6IGtlZXBDaGFyUG9zaXRpb25zLFxuICAgICAgcmVmOiBpbnB1dFJlZlxuICAgIH0pKSA6IGNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBfX2Fzc2lnbih7fSwgcmVzdCwge1xuICAgICAgcmVmOiBpbnB1dFJlZlxuICAgIH0pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBJbnB1dC5wcm9wVHlwZXMgPSB7XG4gICAgbWFzazogYW55LFxuICAgIGlucHV0UmVmOiBmdW5jLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgSW5wdXQuZGVmYXVsdFByb3BzID0ge1xuICAgIG1hc2s6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gSW5wdXQ7XG59KFB1cmVDb21wb25lbnQpO1xuXG52YXIgZ2V0RGlzcGxheURhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgaW52YWxpZExhYmVsID0gX2EuaW52YWxpZExhYmVsLFxuICAgICAgZW1wdHlMYWJlbCA9IF9hLmVtcHR5TGFiZWwsXG4gICAgICBsYWJlbEZ1bmMgPSBfYS5sYWJlbEZ1bmM7XG4gIHZhciBpc0VtcHR5ID0gdmFsdWUgPT09IG51bGw7XG4gIHZhciBkYXRlID0gdXRpbHMuZGF0ZSh2YWx1ZSk7XG5cbiAgaWYgKGxhYmVsRnVuYykge1xuICAgIHJldHVybiBsYWJlbEZ1bmMoaXNFbXB0eSA/IG51bGwgOiBkYXRlLCBpbnZhbGlkTGFiZWwpO1xuICB9XG5cbiAgaWYgKGlzRW1wdHkpIHtcbiAgICByZXR1cm4gZW1wdHlMYWJlbDtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc1ZhbGlkKGRhdGUpID8gdXRpbHMuZm9ybWF0KGRhdGUsIGZvcm1hdCkgOiBpbnZhbGlkTGFiZWw7XG59O1xuXG52YXIgZ2V0RXJyb3IgPSBmdW5jdGlvbiAodmFsdWUsIHByb3BzKSB7XG4gIHZhciB1dGlscyA9IHByb3BzLnV0aWxzLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIG1heERhdGVNZXNzYWdlID0gcHJvcHMubWF4RGF0ZU1lc3NhZ2UsXG4gICAgICBtaW5EYXRlTWVzc2FnZSA9IHByb3BzLm1pbkRhdGVNZXNzYWdlLFxuICAgICAgaW52YWxpZERhdGVNZXNzYWdlID0gcHJvcHMuaW52YWxpZERhdGVNZXNzYWdlO1xuXG4gIGlmICghdXRpbHMuaXNWYWxpZCh2YWx1ZSkpIHtcbiAgICAvLyBpZiBudWxsIC0gZG8gbm90IHNob3cgZXJyb3JcbiAgICBpZiAodXRpbHMuaXNOdWxsKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHJldHVybiBpbnZhbGlkRGF0ZU1lc3NhZ2U7XG4gIH1cblxuICBpZiAobWF4RGF0ZSAmJiB1dGlscy5pc0FmdGVyKHZhbHVlLCB1dGlscy5lbmRPZkRheSh1dGlscy5kYXRlKG1heERhdGUpKSkgfHwgZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyKHZhbHVlLCB1dGlscy5lbmRPZkRheSh1dGlscy5kYXRlKCkpKSkge1xuICAgIHJldHVybiBtYXhEYXRlTWVzc2FnZTtcbiAgfVxuXG4gIGlmIChtaW5EYXRlICYmIHV0aWxzLmlzQmVmb3JlKHZhbHVlLCB1dGlscy5zdGFydE9mRGF5KHV0aWxzLmRhdGUobWluRGF0ZSkpKSB8fCBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZSh2YWx1ZSwgdXRpbHMuc3RhcnRPZkRheSh1dGlscy5kYXRlKCkpKSkge1xuICAgIHJldHVybiBtaW5EYXRlTWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiAnJztcbn07XG5cbnZhciBEYXRlVGV4dEZpZWxkID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKERhdGVUZXh0RmllbGQsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVRleHRGaWVsZCgpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0gRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZShfdGhpcy5wcm9wcyk7XG5cbiAgICBfdGhpcy5jb21taXRVcGRhdGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlLFxuICAgICAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgICAgICBvbkNsZWFyID0gX2Eub25DbGVhcixcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBvbkVycm9yID0gX2Eub25FcnJvcjtcblxuICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICBpZiAoX3RoaXMucHJvcHMudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlKF90aGlzLnByb3BzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2xlYXJhYmxlICYmIG9uQ2xlYXIpIHtcbiAgICAgICAgICBvbkNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvbGRWYWx1ZSA9IHV0aWxzLmRhdGUoX3RoaXMuc3RhdGUudmFsdWUpO1xuICAgICAgdmFyIG5ld1ZhbHVlID0gdXRpbHMucGFyc2UodmFsdWUsIGZvcm1hdCk7XG4gICAgICB2YXIgZXJyb3IgPSBnZXRFcnJvcihuZXdWYWx1ZSwgX3RoaXMucHJvcHMpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgZGlzcGxheVZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdmFsdWU6IGVycm9yID8gbmV3VmFsdWUgOiBvbGRWYWx1ZVxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWVycm9yICYmICF1dGlscy5pc0VxdWFsKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICBvbkNoYW5nZShuZXdWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IgJiYgb25FcnJvcikge1xuICAgICAgICAgIG9uRXJyb3IobmV3VmFsdWUsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmtleWJvYXJkKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBfdGhpcy5jb21taXRVcGRhdGVzKGUudGFyZ2V0LnZhbHVlKTtcblxuICAgICAgICBpZiAoX3RoaXMucHJvcHMub25CbHVyKSB7XG4gICAgICAgICAgX3RoaXMucHJvcHMub25CbHVyKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBvbklucHV0Q2hhbmdlID0gX2Eub25JbnB1dENoYW5nZTtcbiAgICAgIHZhciBwYXJzZWRWYWx1ZSA9IHV0aWxzLnBhcnNlKGUudGFyZ2V0LnZhbHVlLCBmb3JtYXQpO1xuXG4gICAgICBpZiAob25JbnB1dENoYW5nZSkge1xuICAgICAgICBvbklucHV0Q2hhbmdlKGUpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpc3BsYXlWYWx1ZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgIGVycm9yOiBnZXRFcnJvcihwYXJzZWRWYWx1ZSwgX3RoaXMucHJvcHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKCFfdGhpcy5wcm9wcy5rZXlib2FyZCkge1xuICAgICAgICBfdGhpcy5vcGVuUGlja2VyKGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5wcm9wcy5kaXNhYmxlT3Blbk9uRW50ZXIpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuUGlja2VyKGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmUgVE9ETyBjaGVjayBtZVxuICAgICAgICAgIF90aGlzLmNvbW1pdFVwZGF0ZXMoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5QaWNrZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljaztcblxuICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXRlVGV4dEZpZWxkLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnV0aWxzLmlzRXF1YWwodGhpcy5wcm9wcy52YWx1ZSwgcHJldlByb3BzLnZhbHVlKSB8fCBwcmV2UHJvcHMuZm9ybWF0ICE9PSB0aGlzLnByb3BzLmZvcm1hdCB8fCBwcmV2UHJvcHMubWF4RGF0ZSAhPT0gdGhpcy5wcm9wcy5tYXhEYXRlIHx8IHByZXZQcm9wcy5taW5EYXRlICE9PSB0aGlzLnByb3BzLm1pbkRhdGUgfHwgcHJldlByb3BzLmVtcHR5TGFiZWwgIT09IHRoaXMucHJvcHMuZW1wdHlMYWJlbCB8fCBwcmV2UHJvcHMudXRpbHMgIT09IHRoaXMucHJvcHMudXRpbHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZSh0aGlzLnByb3BzKSk7XG4gICAgfVxuICB9O1xuXG4gIERhdGVUZXh0RmllbGQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBhZG9ybm1lbnRQb3NpdGlvbiA9IF9hLmFkb3JubWVudFBvc2l0aW9uLFxuICAgICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICBkaXNhYmxlT3Blbk9uRW50ZXIgPSBfYS5kaXNhYmxlT3Blbk9uRW50ZXIsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGVtcHR5TGFiZWwgPSBfYS5lbXB0eUxhYmVsLFxuICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgIElucHV0QWRvcm5tZW50UHJvcHMgPSBfYS5JbnB1dEFkb3JubWVudFByb3BzLFxuICAgICAgICBJbnB1dFByb3BzID0gX2EuSW5wdXRQcm9wcyxcbiAgICAgICAgaW52YWxpZERhdGVNZXNzYWdlID0gX2EuaW52YWxpZERhdGVNZXNzYWdlLFxuICAgICAgICBpbnZhbGlkTGFiZWwgPSBfYS5pbnZhbGlkTGFiZWwsXG4gICAgICAgIGtleWJvYXJkID0gX2Eua2V5Ym9hcmQsXG4gICAgICAgIGtleWJvYXJkSWNvbiA9IF9hLmtleWJvYXJkSWNvbixcbiAgICAgICAgbGFiZWxGdW5jID0gX2EubGFiZWxGdW5jLFxuICAgICAgICBtYXNrID0gX2EubWFzayxcbiAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgIG1heERhdGVNZXNzYWdlID0gX2EubWF4RGF0ZU1lc3NhZ2UsXG4gICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICBtaW5EYXRlTWVzc2FnZSA9IF9hLm1pbkRhdGVNZXNzYWdlLFxuICAgICAgICBvbkJsdXIgPSBfYS5vbkJsdXIsXG4gICAgICAgIG9uQ2xlYXIgPSBfYS5vbkNsZWFyLFxuICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcbiAgICAgICAgcGlwZSA9IF9hLnBpcGUsXG4gICAgICAgIGtlZXBDaGFyUG9zaXRpb25zID0gX2Eua2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIFRleHRGaWVsZENvbXBvbmVudCA9IF9hLlRleHRGaWVsZENvbXBvbmVudCxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgb25JbnB1dENoYW5nZSA9IF9hLm9uSW5wdXRDaGFuZ2UsXG4gICAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJhZG9ybm1lbnRQb3NpdGlvblwiLCBcImNsZWFyYWJsZVwiLCBcImRpc2FibGVkXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVPcGVuT25FbnRlclwiLCBcImRpc2FibGVQYXN0XCIsIFwiZW1wdHlMYWJlbFwiLCBcImZvcm1hdFwiLCBcIklucHV0QWRvcm5tZW50UHJvcHNcIiwgXCJJbnB1dFByb3BzXCIsIFwiaW52YWxpZERhdGVNZXNzYWdlXCIsIFwiaW52YWxpZExhYmVsXCIsIFwia2V5Ym9hcmRcIiwgXCJrZXlib2FyZEljb25cIiwgXCJsYWJlbEZ1bmNcIiwgXCJtYXNrXCIsIFwibWF4RGF0ZVwiLCBcIm1heERhdGVNZXNzYWdlXCIsIFwibWluRGF0ZVwiLCBcIm1pbkRhdGVNZXNzYWdlXCIsIFwib25CbHVyXCIsIFwib25DbGVhclwiLCBcIm9uQ2xpY2tcIiwgXCJwaXBlXCIsIFwia2VlcENoYXJQb3NpdGlvbnNcIiwgXCJUZXh0RmllbGRDb21wb25lbnRcIiwgXCJ1dGlsc1wiLCBcInZhbHVlXCIsIFwib25JbnB1dENoYW5nZVwiXSk7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnN0YXRlLFxuICAgICAgICBkaXNwbGF5VmFsdWUgPSBfYi5kaXNwbGF5VmFsdWUsXG4gICAgICAgIGVycm9yID0gX2IuZXJyb3I7XG4gICAgdmFyIGxvY2FsSW5wdXRQcm9wcyA9IHtcbiAgICAgIGlucHV0Q29tcG9uZW50OiBJbnB1dCxcbiAgICAgIGlucHV0UHJvcHM6IHtcbiAgICAgICAgbWFzazogIWtleWJvYXJkID8gbnVsbCA6IG1hc2ssXG4gICAgICAgIHBpcGU6ICFrZXlib2FyZCA/IG51bGwgOiBwaXBlLFxuICAgICAgICBrZWVwQ2hhclBvc2l0aW9uczogIWtleWJvYXJkID8gdW5kZWZpbmVkIDoga2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIHJlYWRPbmx5OiAha2V5Ym9hcmRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGtleWJvYXJkKSB7XG4gICAgICBsb2NhbElucHV0UHJvcHNbYWRvcm5tZW50UG9zaXRpb24gKyBcIkFkb3JubWVudFwiXSA9IGNyZWF0ZUVsZW1lbnQoSW5wdXRBZG9ybm1lbnQsIF9fYXNzaWduKHtcbiAgICAgICAgcG9zaXRpb246IGFkb3JubWVudFBvc2l0aW9uXG4gICAgICB9LCBJbnB1dEFkb3JubWVudFByb3BzKSwgY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7XG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgb25DbGljazogdGhpcy5vcGVuUGlja2VyXG4gICAgICB9LCBjcmVhdGVFbGVtZW50KEljb24sIG51bGwsIFwiIFwiLCBrZXlib2FyZEljb24sIFwiIFwiKSkpO1xuICAgIH1cblxuICAgIHZhciBDb21wb25lbnQkJDEgPSBUZXh0RmllbGRDb21wb25lbnQ7XG5cbiAgICB2YXIgaW5wdXRQcm9wcyA9IF9fYXNzaWduKHt9LCBsb2NhbElucHV0UHJvcHMsIElucHV0UHJvcHMpO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50JCQxLCBfX2Fzc2lnbih7XG4gICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUZvY3VzLFxuICAgICAgZXJyb3I6ICEhZXJyb3IsXG4gICAgICBoZWxwZXJUZXh0OiBlcnJvcixcbiAgICAgIG9uS2V5UHJlc3M6IHRoaXMuaGFuZGxlS2V5UHJlc3MsXG4gICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlQmx1cixcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIHZhbHVlOiBkaXNwbGF5VmFsdWVcbiAgICB9LCBvdGhlciwge1xuICAgICAgb25FcnJvcjogdW5kZWZpbmVkLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgSW5wdXRQcm9wczogaW5wdXRQcm9wc1xuICAgIH0pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlVGV4dEZpZWxkLnByb3BUeXBlcyA9IHtcbiAgICB2YWx1ZTogb25lT2ZUeXBlKFtvYmplY3QsIHN0cmluZywgbnVtYmVyLCBpbnN0YW5jZU9mKERhdGUpXSksXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBmb3JtYXQ6IHN0cmluZyxcbiAgICBvbkJsdXI6IGZ1bmMsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIG9uQ2xpY2s6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjbGVhcmFibGU6IGJvb2wsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVkOiBib29sLFxuICAgIElucHV0UHJvcHM6IHNoYXBlKHt9KSxcbiAgICBtYXNrOiBhbnksXG4gICAgbWluRGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgbWF4RGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgaW52YWxpZExhYmVsOiBzdHJpbmcsXG4gICAgZW1wdHlMYWJlbDogc3RyaW5nLFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBrZXlib2FyZDogYm9vbCxcbiAgICBrZXlib2FyZEljb246IG5vZGUsXG4gICAgZGlzYWJsZU9wZW5PbkVudGVyOiBib29sLFxuICAgIGludmFsaWREYXRlTWVzc2FnZTogbm9kZSxcbiAgICBUZXh0RmllbGRDb21wb25lbnQ6IG9uZU9mVHlwZShbc3RyaW5nLCBmdW5jXSksXG4gICAgSW5wdXRBZG9ybm1lbnRQcm9wczogb2JqZWN0LFxuICAgIGFkb3JubWVudFBvc2l0aW9uOiBvbmVPZihbJ3N0YXJ0JywgJ2VuZCddKSxcbiAgICBvbkVycm9yOiBmdW5jLFxuICAgIG9uSW5wdXRDaGFuZ2U6IGZ1bmMsXG4gICAgcGlwZTogZnVuYyxcbiAgICBrZWVwQ2hhclBvc2l0aW9uczogYm9vbFxuICB9IDogdm9pZCAwO1xuICBEYXRlVGV4dEZpZWxkLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgaW52YWxpZExhYmVsOiAnVW5rbm93bicsXG4gICAgZW1wdHlMYWJlbDogJycsXG4gICAgdmFsdWU6IG5ldyBEYXRlKCksXG4gICAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gICAgZm9ybWF0OiB1bmRlZmluZWQsXG4gICAgSW5wdXRQcm9wczogdW5kZWZpbmVkLFxuICAgIGtleWJvYXJkOiBmYWxzZSxcbiAgICBtYXNrOiB1bmRlZmluZWQsXG4gICAga2V5Ym9hcmRJY29uOiAnZXZlbnQnLFxuICAgIGRpc2FibGVPcGVuT25FbnRlcjogZmFsc2UsXG4gICAgaW52YWxpZERhdGVNZXNzYWdlOiAnSW52YWxpZCBEYXRlIEZvcm1hdCcsXG4gICAgY2xlYXJhYmxlOiBmYWxzZSxcbiAgICBvbkJsdXI6IHVuZGVmaW5lZCxcbiAgICBvbkNsZWFyOiB1bmRlZmluZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICAgIG9uRXJyb3I6IHVuZGVmaW5lZCxcbiAgICBvbklucHV0Q2hhbmdlOiB1bmRlZmluZWQsXG4gICAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICAgIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgICBtaW5EYXRlTWVzc2FnZTogJ0RhdGUgc2hvdWxkIG5vdCBiZSBiZWZvcmUgbWluaW1hbCBkYXRlJyxcbiAgICBtYXhEYXRlTWVzc2FnZTogJ0RhdGUgc2hvdWxkIG5vdCBiZSBhZnRlciBtYXhpbWFsIGRhdGUnLFxuICAgIFRleHRGaWVsZENvbXBvbmVudDogVGV4dEZpZWxkLFxuICAgIElucHV0QWRvcm5tZW50UHJvcHM6IHt9LFxuICAgIGFkb3JubWVudFBvc2l0aW9uOiAnZW5kJyxcbiAgICBwaXBlOiB1bmRlZmluZWQsXG4gICAga2VlcENoYXJQb3NpdGlvbnM6IGZhbHNlXG4gIH07XG5cbiAgRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgICBkaXNwbGF5VmFsdWU6IGdldERpc3BsYXlEYXRlKHByb3BzKSxcbiAgICAgIGVycm9yOiBnZXRFcnJvcihwcm9wcy51dGlscy5kYXRlKHByb3BzLnZhbHVlKSwgcHJvcHMpXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gRGF0ZVRleHRGaWVsZDtcbn0oUHVyZUNvbXBvbmVudCk7XG5cbnZhciBEYXRlVGV4dEZpZWxkJDEgPSB3aXRoVXRpbHMoKShEYXRlVGV4dEZpZWxkKTtcblxudmFyIE1vZGFsRGlhbG9nID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBvbktleURvd24gPSBfYS5vbktleURvd24sXG4gICAgICBvbkFjY2VwdCA9IF9hLm9uQWNjZXB0LFxuICAgICAgb25EaXNtaXNzID0gX2Eub25EaXNtaXNzLFxuICAgICAgb25DbGVhciA9IF9hLm9uQ2xlYXIsXG4gICAgICBvblNldFRvZGF5ID0gX2Eub25TZXRUb2RheSxcbiAgICAgIG9rTGFiZWwgPSBfYS5va0xhYmVsLFxuICAgICAgY2FuY2VsTGFiZWwgPSBfYS5jYW5jZWxMYWJlbCxcbiAgICAgIGNsZWFyTGFiZWwgPSBfYS5jbGVhckxhYmVsLFxuICAgICAgdG9kYXlMYWJlbCA9IF9hLnRvZGF5TGFiZWwsXG4gICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICBzaG93VG9kYXlCdXR0b24gPSBfYS5zaG93VG9kYXlCdXR0b24sXG4gICAgICBzaG93VGFicyA9IF9hLnNob3dUYWJzLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3Nlc1wiLCBcIm9uS2V5RG93blwiLCBcIm9uQWNjZXB0XCIsIFwib25EaXNtaXNzXCIsIFwib25DbGVhclwiLCBcIm9uU2V0VG9kYXlcIiwgXCJva0xhYmVsXCIsIFwiY2FuY2VsTGFiZWxcIiwgXCJjbGVhckxhYmVsXCIsIFwidG9kYXlMYWJlbFwiLCBcImNsZWFyYWJsZVwiLCBcInNob3dUb2RheUJ1dHRvblwiLCBcInNob3dUYWJzXCJdKTtcblxuICB2YXIgX2IsIF9jLCBfZDtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChEaWFsb2csIF9fYXNzaWduKHtcbiAgICByb2xlOiBcImRpYWxvZ1wiLFxuICAgIG9uQ2xvc2U6IG9uRGlzbWlzcyxcbiAgICBjbGFzc2VzOiB7XG4gICAgICBwYXBlcjogY2xhc3NuYW1lcyhjbGFzc2VzLmRpYWxvZ1Jvb3QsIChfYiA9IHt9LCBfYltjbGFzc2VzLmRpYWxvZ1dpdGhUYWJzXSA9IHNob3dUYWJzLCBfYikpXG4gICAgfVxuICB9LCBvdGhlciksIGNyZWF0ZUVsZW1lbnQoRXZlbnRMaXN0ZW5lciwge1xuICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICBvbktleURvd246IG9uS2V5RG93blxuICB9KSwgY3JlYXRlRWxlbWVudChEaWFsb2dDb250ZW50LCB7XG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLmRpYWxvZywgKF9jID0ge30sIF9jW2NsYXNzZXMuZGlhbG9nV2l0aFRhYnNdID0gc2hvd1RhYnMsIF9jKSlcbiAgfSksIGNyZWF0ZUVsZW1lbnQoRGlhbG9nQWN0aW9ucywge1xuICAgIGNsYXNzZXM6IHtcbiAgICAgIHJvb3Q6IGNsZWFyYWJsZSB8fCBzaG93VG9kYXlCdXR0b24gPyBjbGFzc2VzLmRpYWxvZ0FjdGlvbnMgOiB1bmRlZmluZWQsXG4gICAgICBhY3Rpb246IGNsYXNzbmFtZXMoY2xhc3Nlcy5kaWFsb2dBY3Rpb24sIChfZCA9IHt9LCBfZFtjbGFzc2VzLmNsZWFyYWJsZURpYWxvZ0FjdGlvbl0gPSBjbGVhcmFibGUsIF9kW2NsYXNzZXMudG9kYXlEaWFsb2dBY3Rpb25dID0gIWNsZWFyYWJsZSAmJiBzaG93VG9kYXlCdXR0b24sIF9kKSlcbiAgICB9XG4gIH0sIGNsZWFyYWJsZSAmJiBjcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkNsZWFyXG4gIH0sIGNsZWFyTGFiZWwpLCAhY2xlYXJhYmxlICYmIHNob3dUb2RheUJ1dHRvbiAmJiBjcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvblNldFRvZGF5XG4gIH0sIHRvZGF5TGFiZWwpLCBjcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkRpc21pc3NcbiAgfSwgY2FuY2VsTGFiZWwpLCBjcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkFjY2VwdFxuICB9LCBva0xhYmVsKSkpO1xufTtcbk1vZGFsRGlhbG9nLmRpc3BsYXlOYW1lID0gJ01vZGFsRGlhbG9nJztcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IE1vZGFsRGlhbG9nLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgb25LZXlEb3duOiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uQWNjZXB0OiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uRGlzbWlzczogZnVuYy5pc1JlcXVpcmVkLFxuICBvbkNsZWFyOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBva0xhYmVsOiBub2RlLmlzUmVxdWlyZWQsXG4gIGNhbmNlbExhYmVsOiBub2RlLmlzUmVxdWlyZWQsXG4gIGNsZWFyTGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xlYXJhYmxlOiBib29sLmlzUmVxdWlyZWQsXG4gIHRvZGF5TGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgc2hvd1RvZGF5QnV0dG9uOiBib29sLmlzUmVxdWlyZWQsXG4gIG9uU2V0VG9kYXk6IGZ1bmMuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcbnZhciBkaWFsb2dXaWR0aCA9IDMxMDtcbnZhciBkaWFsb2dIZWlnaHQgPSA0MDU7XG52YXIgZGlhbG9nSGVpZ2h0V2l0aFRhYnMgPSA0NTU7XG52YXIgc3R5bGVzID0gY3JlYXRlU3R5bGVzKHtcbiAgZGlhbG9nUm9vdDoge1xuICAgIG1pbldpZHRoOiBkaWFsb2dXaWR0aCxcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodFxuICB9LFxuICBkaWFsb2c6IHtcbiAgICB3aWR0aDogZGlhbG9nV2lkdGgsXG4gICAgbWluSGVpZ2h0OiBkaWFsb2dIZWlnaHQsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfSxcbiAgZGlhbG9nV2l0aFRhYnM6IHtcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodFdpdGhUYWJzXG4gIH0sXG4gIGRpYWxvZ0FjdGlvbnM6IHtcbiAgICAvLyBzZXQganVzdGlmeUNvbnRlbnQgdG8gZGVmYXVsdCB2YWx1ZSB0byBmaXggSUUxMSBsYXlvdXQgYnVnXG4gICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kbXRyS292YWxlbmtvL21hdGVyaWFsLXVpLXBpY2tlcnMvcHVsbC8yNjdcbiAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnXG4gIH0sXG4gIGNsZWFyYWJsZURpYWxvZ0FjdGlvbjoge1xuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgbWFyZ2luUmlnaHQ6ICdhdXRvJ1xuICAgIH1cbiAgfSxcbiAgdG9kYXlEaWFsb2dBY3Rpb246IHtcbiAgICAnJjpmaXJzdC1jaGlsZCc6IHtcbiAgICAgIG1hcmdpblJpZ2h0OiAnYXV0bydcbiAgICB9XG4gIH0sXG4gIGRpYWxvZ0FjdGlvbjogey8vIGVtcHR5IGJ1dCBtYXkgYmUgbmVlZGVkIGZvciBvdmVycmlkZVxuICB9XG59KTtcbnZhciBNb2RhbERpYWxvZyQxID0gd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNNb2RhbCdcbn0pKE1vZGFsRGlhbG9nKTtcblxudmFyIE1vZGFsV3JhcHBlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhNb2RhbFdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gTW9kYWxXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKGtleWNvZGUoZXZlbnQpKSB7XG4gICAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgICBfdGhpcy5oYW5kbGVBY2NlcHQoKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gaWYga2V5Y29kZSBpcyBub3QgaGFuZGxlZCwgc3RvcCBleGVjdXRpb25cbiAgICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGlmIGV2ZW50IHdhcyBoYW5kbGVkIHByZXZlbnQgb3RoZXIgc2lkZSBlZmZlY3RzXG5cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU2V0VG9kYXlEYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uU2V0VG9kYXkpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25TZXRUb2RheSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uT3Blbikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk9wZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xvc2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVBY2NlcHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25BY2NlcHQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25BY2NlcHQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRGlzbWlzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlKCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkRpc21pc3MpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25EaXNtaXNzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xlYXIpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DbGVhcigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBNb2RhbFdyYXBwZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xuICAgIC8vIG9ubHkgaWYgYWNjZXB0ID0gdHJ1ZSBjbG9zZSB0aGUgZGlhbG9nXG4gICAgaWYgKG5leHRQcm9wcy5pc0FjY2VwdGVkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBNb2RhbFdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgIG9uQWNjZXB0ID0gX2Eub25BY2NlcHQsXG4gICAgICAgIG9uRGlzbWlzcyA9IF9hLm9uRGlzbWlzcyxcbiAgICAgICAgaW52YWxpZExhYmVsID0gX2EuaW52YWxpZExhYmVsLFxuICAgICAgICBsYWJlbEZ1bmMgPSBfYS5sYWJlbEZ1bmMsXG4gICAgICAgIG9rTGFiZWwgPSBfYS5va0xhYmVsLFxuICAgICAgICBjYW5jZWxMYWJlbCA9IF9hLmNhbmNlbExhYmVsLFxuICAgICAgICBjbGVhckxhYmVsID0gX2EuY2xlYXJMYWJlbCxcbiAgICAgICAgY2xlYXJhYmxlID0gX2EuY2xlYXJhYmxlLFxuICAgICAgICB0b2RheUxhYmVsID0gX2EudG9kYXlMYWJlbCxcbiAgICAgICAgc2hvd1RvZGF5QnV0dG9uID0gX2Euc2hvd1RvZGF5QnV0dG9uLFxuICAgICAgICBvbk9wZW4gPSBfYS5vbk9wZW4sXG4gICAgICAgIG9uQ2xvc2UgPSBfYS5vbkNsb3NlLFxuICAgICAgICBvblNldFRvZGF5ID0gX2Eub25TZXRUb2RheSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIERpYWxvZ1Byb3BzID0gX2EuRGlhbG9nUHJvcHMsXG4gICAgICAgIHNob3dUYWJzID0gX2Euc2hvd1RhYnMsXG4gICAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImNoaWxkcmVuXCIsIFwib25BY2NlcHRcIiwgXCJvbkRpc21pc3NcIiwgXCJpbnZhbGlkTGFiZWxcIiwgXCJsYWJlbEZ1bmNcIiwgXCJva0xhYmVsXCIsIFwiY2FuY2VsTGFiZWxcIiwgXCJjbGVhckxhYmVsXCIsIFwiY2xlYXJhYmxlXCIsIFwidG9kYXlMYWJlbFwiLCBcInNob3dUb2RheUJ1dHRvblwiLCBcIm9uT3BlblwiLCBcIm9uQ2xvc2VcIiwgXCJvblNldFRvZGF5XCIsIFwiaXNBY2NlcHRlZFwiLCBcIkRpYWxvZ1Byb3BzXCIsIFwic2hvd1RhYnNcIl0pO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGNyZWF0ZUVsZW1lbnQoRGF0ZVRleHRGaWVsZCQxLCBfX2Fzc2lnbih7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbixcbiAgICAgIC8vIG9uRm9jdXM9e3RoaXMudG9nZ2xlUGlja2VyfSA8LSBDdXJyZW50bHkgbm90IHByb3Blcmx5IHdvcmtzIHdpdGggLmJsdXIoKSBvbiBUZXh0RmllbGRcbiAgICAgIGludmFsaWRMYWJlbDogaW52YWxpZExhYmVsLFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBjbGVhcmFibGU6IGNsZWFyYWJsZVxuICAgIH0sIG90aGVyKSksIGNyZWF0ZUVsZW1lbnQoTW9kYWxEaWFsb2ckMSwgX19hc3NpZ24oe1xuICAgICAgc2hvd1RhYnM6IHNob3dUYWJzLFxuICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuLFxuICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXG4gICAgICBvbkNsZWFyOiB0aGlzLmhhbmRsZUNsZWFyLFxuICAgICAgb25BY2NlcHQ6IHRoaXMuaGFuZGxlQWNjZXB0LFxuICAgICAgb25EaXNtaXNzOiB0aGlzLmhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiB0aGlzLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIGNsZWFyTGFiZWw6IGNsZWFyTGFiZWwsXG4gICAgICB0b2RheUxhYmVsOiB0b2RheUxhYmVsLFxuICAgICAgb2tMYWJlbDogb2tMYWJlbCxcbiAgICAgIGNhbmNlbExhYmVsOiBjYW5jZWxMYWJlbCxcbiAgICAgIGNsZWFyYWJsZTogY2xlYXJhYmxlLFxuICAgICAgc2hvd1RvZGF5QnV0dG9uOiBzaG93VG9kYXlCdXR0b24sXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9LCBEaWFsb2dQcm9wcykpKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBNb2RhbFdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgIG9rTGFiZWw6IG5vZGUsXG4gICAgY2FuY2VsTGFiZWw6IG5vZGUsXG4gICAgY2xlYXJMYWJlbDogbm9kZSxcbiAgICBjbGVhcmFibGU6IGJvb2wsXG4gICAgdG9kYXlMYWJlbDogc3RyaW5nLFxuICAgIHNob3dUb2RheUJ1dHRvbjogYm9vbCxcbiAgICBvbk9wZW46IGZ1bmMsXG4gICAgZm9ybWF0OiBzdHJpbmcsXG4gICAgRGlhbG9nUHJvcHM6IG9iamVjdCxcbiAgICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgaW52YWxpZExhYmVsOiBub2RlLFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBvbkNsb3NlOiBmdW5jLFxuICAgIG9uQWNjZXB0OiBmdW5jLFxuICAgIG9uRGlzbWlzczogZnVuYyxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIG9uU2V0VG9kYXk6IGZ1bmMsXG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBpc0FjY2VwdGVkOiBib29sLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgTW9kYWxXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpbnZhbGlkTGFiZWw6IHVuZGVmaW5lZCxcbiAgICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgICBva0xhYmVsOiAnT0snLFxuICAgIGNhbmNlbExhYmVsOiAnQ2FuY2VsJyxcbiAgICBjbGVhckxhYmVsOiAnQ2xlYXInLFxuICAgIHRvZGF5TGFiZWw6ICdUb2RheScsXG4gICAgY2xlYXJhYmxlOiBmYWxzZSxcbiAgICBzaG93VG9kYXlCdXR0b246IGZhbHNlLFxuICAgIGZvcm1hdDogdW5kZWZpbmVkLFxuICAgIG9uQWNjZXB0OiB1bmRlZmluZWQsXG4gICAgb25EaXNtaXNzOiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIG9uT3BlbjogdW5kZWZpbmVkLFxuICAgIG9uQ2xvc2U6IHVuZGVmaW5lZCxcbiAgICBvblNldFRvZGF5OiB1bmRlZmluZWQsXG4gICAgRGlhbG9nUHJvcHM6IHVuZGVmaW5lZCxcbiAgICBpc0FjY2VwdGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gTW9kYWxXcmFwcGVyO1xufShQdXJlQ29tcG9uZW50KTtcblxudmFyIFBpY2tlclRvb2xiYXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImNsYXNzZXNcIl0pO1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFRvb2xiYXIsIF9fYXNzaWduKHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy50b29sYmFyLCBjbGFzc05hbWUpXG4gIH0sIG90aGVyKSwgY2hpbGRyZW4pO1xufTtcblxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gUGlja2VyVG9vbGJhci5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBhcnJheU9mKG5vZGUpLmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxuICBjbGFzc2VzOiBhbnkuaXNSZXF1aXJlZCxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcblBpY2tlclRvb2xiYXIuZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnXG59O1xudmFyIHN0eWxlcyQxID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBoZWlnaHQ6IDEwMCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS50eXBlID09PSAnbGlnaHQnID8gdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmRbXCJkZWZhdWx0XCJdXG4gICAgfVxuICB9KTtcbn07XG52YXIgUGlja2VyVG9vbGJhciQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQxLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzVG9vbGJhcidcbn0pKFBpY2tlclRvb2xiYXIpO1xuXG52YXIgVG9vbGJhckJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBzZWxlY3RlZCA9IF9hLnNlbGVjdGVkLFxuICAgICAgbGFiZWwgPSBfYS5sYWJlbCxcbiAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJjbGFzc2VzXCIsIFwic2VsZWN0ZWRcIiwgXCJsYWJlbFwiLCBcImNsYXNzTmFtZVwiXSk7XG5cbiAgdmFyIF9iO1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIF9fYXNzaWduKHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy50b29sYmFyQnRuLCBjbGFzc05hbWUsIChfYiA9IHt9LCBfYltjbGFzc2VzLnRvb2xiYXJCdG5TZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2IpKVxuICB9LCBvdGhlciksIGxhYmVsKTtcbn07XG5cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRvb2xiYXJCdXR0b24ucHJvcFR5cGVzID0ge1xuICBzZWxlY3RlZDogYm9vbC5pc1JlcXVpcmVkLFxuICBsYWJlbDogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IGFueS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcblRvb2xiYXJCdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnXG59O1xudmFyIHN0eWxlcyQyID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdG9vbGJhckJ0bjoge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41NCknXG4gICAgfSxcbiAgICB0b29sYmFyQnRuU2VsZWN0ZWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZVxuICAgIH1cbiAgfTtcbn07XG52YXIgVG9vbGJhckJ1dHRvbiQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQyLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzVG9vbGJhckJ1dHRvbidcbn0pKFRvb2xiYXJCdXR0b24pO1xuXG52YXIgZmluZENsb3Nlc3RFbmFibGVkRGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX2Euc2hvdWxkRGlzYWJsZURhdGU7XG4gIHZhciB0b2RheSA9IHV0aWxzLnN0YXJ0T2ZEYXkodXRpbHMuZGF0ZSgpKTtcbiAgbWluRGF0ZSA9IG1pbkRhdGUgJiYgdXRpbHMuZGF0ZShtaW5EYXRlKTtcbiAgbWF4RGF0ZSA9IG1heERhdGUgJiYgdXRpbHMuZGF0ZShtYXhEYXRlKTtcblxuICBpZiAoZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNCZWZvcmUobWluRGF0ZSwgdG9kYXkpKSB7XG4gICAgbWluRGF0ZSA9IHRvZGF5O1xuICB9XG5cbiAgaWYgKGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNBZnRlcihtYXhEYXRlLCB0b2RheSkpIHtcbiAgICBtYXhEYXRlID0gdG9kYXk7XG4gIH1cblxuICB2YXIgZm9yd2FyZCA9IHV0aWxzLmRhdGUoZGF0ZSk7XG4gIHZhciBiYWNrd2FyZCA9IHV0aWxzLmRhdGUoZGF0ZSk7XG5cbiAgaWYgKHV0aWxzLmlzQmVmb3JlKGRhdGUsIG1pbkRhdGUpKSB7XG4gICAgZm9yd2FyZCA9IG1pbkRhdGU7XG4gICAgYmFja3dhcmQgPSBudWxsO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzQWZ0ZXIoZGF0ZSwgbWF4RGF0ZSkpIHtcbiAgICBpZiAoYmFja3dhcmQpIHtcbiAgICAgIGJhY2t3YXJkID0gbWF4RGF0ZTtcbiAgICB9XG5cbiAgICBmb3J3YXJkID0gbnVsbDtcbiAgfVxuXG4gIHdoaWxlIChmb3J3YXJkIHx8IGJhY2t3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQgJiYgdXRpbHMuaXNBZnRlcihmb3J3YXJkLCBtYXhEYXRlKSkge1xuICAgICAgZm9yd2FyZCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGJhY2t3YXJkICYmIHV0aWxzLmlzQmVmb3JlKGJhY2t3YXJkLCBtaW5EYXRlKSkge1xuICAgICAgYmFja3dhcmQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICBpZiAoIXNob3VsZERpc2FibGVEYXRlKGZvcndhcmQpKSB7XG4gICAgICAgIHJldHVybiBmb3J3YXJkO1xuICAgICAgfVxuXG4gICAgICBmb3J3YXJkID0gdXRpbHMuYWRkRGF5cyhmb3J3YXJkLCAxKTtcbiAgICB9XG5cbiAgICBpZiAoYmFja3dhcmQpIHtcbiAgICAgIGlmICghc2hvdWxkRGlzYWJsZURhdGUoYmFja3dhcmQpKSB7XG4gICAgICAgIHJldHVybiBiYWNrd2FyZDtcbiAgICAgIH1cblxuICAgICAgYmFja3dhcmQgPSB1dGlscy5hZGREYXlzKGJhY2t3YXJkLCAtMSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgYW5pbWF0aW9uRHVyYXRpb24gPSAzNTA7XG5cbnZhciBTbGlkZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgIHRyYW5zS2V5ID0gX2EudHJhbnNLZXksXG4gICAgICBzbGlkZURpcmVjdGlvbiA9IF9hLnNsaWRlRGlyZWN0aW9uO1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChUcmFuc2l0aW9uR3JvdXAsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy50cmFuc2l0aW9uQ29udGFpbmVyLCBjbGFzc05hbWUpXG4gIH0sIGNyZWF0ZUVsZW1lbnQoQ1NTVHJhbnNpdGlvbiwge1xuICAgIGtleTogdHJhbnNLZXksXG4gICAgbW91bnRPbkVudGVyOiB0cnVlLFxuICAgIHVubW91bnRPbkV4aXQ6IHRydWUsXG4gICAgdGltZW91dDogYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZXM6IHtcbiAgICAgIGVudGVyOiBjbGFzc2VzW1wic2xpZGVFbnRlci1cIiArIHNsaWRlRGlyZWN0aW9uXSxcbiAgICAgIGVudGVyQWN0aXZlOiBjbGFzc2VzLnNsaWRlRW50ZXJBY3RpdmUsXG4gICAgICBleGl0OiBjbGFzc2VzLnNsaWRlRXhpdCxcbiAgICAgIGV4aXRBY3RpdmU6IGNsYXNzZXNbXCJzbGlkZUV4aXRBY3RpdmVMZWZ0LVwiICsgc2xpZGVEaXJlY3Rpb25dXG4gICAgfVxuICB9KSk7XG59O1xuXG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBTbGlkZVRyYW5zaXRpb24ucHJvcFR5cGVzID0ge1xuICBjbGFzc2VzOiBzaGFwZSh7fSkuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIHNsaWRlRGlyZWN0aW9uOiBvbmVPZihbJ2xlZnQnLCAncmlnaHQnXSkuaXNSZXF1aXJlZCxcbiAgdHJhbnNLZXk6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuU2xpZGVUcmFuc2l0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiB1bmRlZmluZWRcbn07XG52YXIgc3R5bGVzJDMgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgdmFyIHNsaWRlVHJhbnNpdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgndHJhbnNmb3JtJywge1xuICAgIGR1cmF0aW9uOiBhbmltYXRpb25EdXJhdGlvbixcbiAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoMC4zNSwgMC44LCAwLjQsIDEpJ1xuICB9KTtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICB0cmFuc2l0aW9uQ29udGFpbmVyOiB7XG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAnJiA+IConOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBsZWZ0OiAwXG4gICAgICB9XG4gICAgfSxcbiAgICAnc2xpZGVFbnRlci1sZWZ0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMTAwJSknXG4gICAgfSxcbiAgICAnc2xpZGVFbnRlci1yaWdodCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0xMDAlKSdcbiAgICB9LFxuICAgIHNsaWRlRW50ZXJBY3RpdmU6IHtcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwJSknLFxuICAgICAgdHJhbnNpdGlvbjogc2xpZGVUcmFuc2l0aW9uXG4gICAgfSxcbiAgICBzbGlkZUV4aXQ6IHtcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwJSknXG4gICAgfSxcbiAgICAnc2xpZGVFeGl0QWN0aXZlTGVmdC1sZWZ0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTIwMCUpJyxcbiAgICAgIHRyYW5zaXRpb246IHNsaWRlVHJhbnNpdGlvblxuICAgIH0sXG4gICAgJ3NsaWRlRXhpdEFjdGl2ZUxlZnQtcmlnaHQnOiB7XG4gICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgyMDAlKScsXG4gICAgICB0cmFuc2l0aW9uOiBzbGlkZVRyYW5zaXRpb25cbiAgICB9XG4gIH0pO1xufTtcbnZhciBTbGlkZVRyYW5zaXRpb24kMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkMywge1xuICBuYW1lOiAnTXVpUGlja2Vyc1NsaWRlVHJhbnNpdGlvbidcbn0pKFNsaWRlVHJhbnNpdGlvbik7XG5cbnZhciBDYWxlbmRhckhlYWRlciA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICB0aGVtZSA9IF9hLnRoZW1lLFxuICAgICAgY3VycmVudE1vbnRoID0gX2EuY3VycmVudE1vbnRoLFxuICAgICAgb25Nb250aENoYW5nZSA9IF9hLm9uTW9udGhDaGFuZ2UsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gX2EubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gX2EucmlnaHRBcnJvd0ljb24sXG4gICAgICBkaXNhYmxlUHJldk1vbnRoID0gX2EuZGlzYWJsZVByZXZNb250aCxcbiAgICAgIGRpc2FibGVOZXh0TW9udGggPSBfYS5kaXNhYmxlTmV4dE1vbnRoLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIHNsaWRlRGlyZWN0aW9uID0gX2Euc2xpZGVEaXJlY3Rpb247XG4gIHZhciBydGwgPSB0aGVtZS5kaXJlY3Rpb24gPT09ICdydGwnO1xuXG4gIHZhciBzZWxlY3ROZXh0TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG9uTW9udGhDaGFuZ2UodXRpbHMuZ2V0TmV4dE1vbnRoKGN1cnJlbnRNb250aCksICdsZWZ0Jyk7XG4gIH07XG5cbiAgdmFyIHNlbGVjdFByZXZpb3VzTW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG9uTW9udGhDaGFuZ2UodXRpbHMuZ2V0UHJldmlvdXNNb250aChjdXJyZW50TW9udGgpLCAncmlnaHQnKTtcbiAgfTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3dpdGNoSGVhZGVyXG4gIH0sIGNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwge1xuICAgIGRpc2FibGVkOiBkaXNhYmxlUHJldk1vbnRoLFxuICAgIG9uQ2xpY2s6IHNlbGVjdFByZXZpb3VzTW9udGgsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmljb25CdXR0b25cbiAgfSwgY3JlYXRlRWxlbWVudChJY29uLCBudWxsLCBydGwgPyByaWdodEFycm93SWNvbiA6IGxlZnRBcnJvd0ljb24pKSwgY3JlYXRlRWxlbWVudChTbGlkZVRyYW5zaXRpb24kMSwge1xuICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvbixcbiAgICB0cmFuc0tleTogY3VycmVudE1vbnRoLnRvU3RyaW5nKCksXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zaXRpb25Db250YWluZXJcbiAgfSwgY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgdmFyaWFudDogXCJib2R5MVwiXG4gIH0sIHV0aWxzLmdldENhbGVuZGFySGVhZGVyVGV4dChjdXJyZW50TW9udGgpKSksIGNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwge1xuICAgIGRpc2FibGVkOiBkaXNhYmxlTmV4dE1vbnRoLFxuICAgIG9uQ2xpY2s6IHNlbGVjdE5leHRNb250aCxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbkJ1dHRvblxuICB9LCBjcmVhdGVFbGVtZW50KEljb24sIG51bGwsIHJ0bCA/IGxlZnRBcnJvd0ljb24gOiByaWdodEFycm93SWNvbikpKSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmRheXNIZWFkZXJcbiAgfSwgdXRpbHMuZ2V0V2Vla2RheXMoKS5tYXAoZnVuY3Rpb24gKGRheSwgaW5kZXgpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgICBrZXk6IGluZGV4LFxuICAgICAgdmFyaWFudDogXCJjYXB0aW9uXCIsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZGF5TGFiZWxcbiAgICB9LCBkYXkpO1xuICB9KSkpO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENhbGVuZGFySGVhZGVyLnByb3BUeXBlcyA9IHtcbiAgY3VycmVudE1vbnRoOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgb25Nb250aENoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgZGlzYWJsZVByZXZNb250aDogYm9vbCxcbiAgZGlzYWJsZU5leHRNb250aDogYm9vbCxcbiAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBzbGlkZURpcmVjdGlvbjogb25lT2YoWydyaWdodCcsICdsZWZ0J10pLmlzUmVxdWlyZWQsXG4gIGlubmVyUmVmOiBhbnlcbn0gOiB2b2lkIDA7XG5DYWxlbmRhckhlYWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGxlZnRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19sZWZ0JyxcbiAgcmlnaHRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19yaWdodCcsXG4gIGRpc2FibGVQcmV2TW9udGg6IGZhbHNlLFxuICBkaXNhYmxlTmV4dE1vbnRoOiBmYWxzZVxufTtcbnZhciBzdHlsZXMkNCA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIHN3aXRjaEhlYWRlcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nLnVuaXQgLyAyLFxuICAgICAgbWFyZ2luQm90dG9tOiB0aGVtZS5zcGFjaW5nLnVuaXRcbiAgICB9LFxuICAgIHRyYW5zaXRpb25Db250YWluZXI6IHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6IDIwXG4gICAgfSxcbiAgICBpY29uQnV0dG9uOiB7XG4gICAgICB6SW5kZXg6IDIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcixcbiAgICAgICcmID4gKic6IHtcbiAgICAgICAgLy8gbGFiZWxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQucGFwZXIsXG4gICAgICAgICcmID4gKic6IHtcbiAgICAgICAgICAvLyBpY29uXG4gICAgICAgICAgekluZGV4OiAxLFxuICAgICAgICAgIG92ZXJmbG93OiAndmlzaWJsZSdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGF5c0hlYWRlcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBtYXhIZWlnaHQ6IDE2XG4gICAgfSxcbiAgICBkYXlMYWJlbDoge1xuICAgICAgd2lkdGg6IDM2LFxuICAgICAgbWFyZ2luOiAnMCAycHgnLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuaGludFxuICAgIH1cbiAgfSk7XG59O1xudmFyIENhbGVuZGFySGVhZGVyJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJDQsIHtcbiAgd2l0aFRoZW1lOiB0cnVlLFxuICBuYW1lOiAnTXVpUGlja2Vyc0NhbGVuZGFySGVhZGVyJ1xufSkod2l0aFV0aWxzKCkoQ2FsZW5kYXJIZWFkZXIpKTtcblxudmFyIERheSA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhEYXksIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF5KCkge1xuICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIERheS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX2IuY2hpbGRyZW4sXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBkaXNhYmxlZCA9IF9iLmRpc2FibGVkLFxuICAgICAgICBoaWRkZW4gPSBfYi5oaWRkZW4sXG4gICAgICAgIGN1cnJlbnQgPSBfYi5jdXJyZW50LFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBvdGhlciA9IF9fcmVzdChfYiwgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc2VzXCIsIFwiZGlzYWJsZWRcIiwgXCJoaWRkZW5cIiwgXCJjdXJyZW50XCIsIFwic2VsZWN0ZWRcIl0pO1xuXG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzbmFtZXMoY2xhc3Nlcy5kYXksIChfYSA9IHt9LCBfYVtjbGFzc2VzLmhpZGRlbl0gPSBoaWRkZW4sIF9hW2NsYXNzZXMuY3VycmVudF0gPSBjdXJyZW50LCBfYVtjbGFzc2VzLnNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYVtjbGFzc2VzLmRpc2FibGVkXSA9IGRpc2FibGVkLCBfYSkpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEljb25CdXR0b24sIF9fYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgdGFiSW5kZXg6IGhpZGRlbiB8fCBkaXNhYmxlZCA/IC0xIDogMFxuICAgIH0sIG90aGVyKSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERheS5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjdXJyZW50OiBib29sLFxuICAgIGRpc2FibGVkOiBib29sLFxuICAgIGhpZGRlbjogYm9vbCxcbiAgICBzZWxlY3RlZDogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIERheS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIGhpZGRlbjogZmFsc2UsXG4gICAgY3VycmVudDogZmFsc2UsXG4gICAgc2VsZWN0ZWQ6IGZhbHNlXG4gIH07XG4gIHJldHVybiBEYXk7XG59KFB1cmVDb21wb25lbnQpO1xuXG52YXIgc3R5bGVzJDUgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICBkYXk6IHtcbiAgICAgIHdpZHRoOiAzNixcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5jYXB0aW9uLmZvbnRTaXplLFxuICAgICAgbWFyZ2luOiAnMCAycHgnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5wcmltYXJ5LFxuICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0TWVkaXVtLFxuICAgICAgcGFkZGluZzogMFxuICAgIH0sXG4gICAgaGlkZGVuOiB7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gICAgfSxcbiAgICBjdXJyZW50OiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBmb250V2VpZ2h0OiA2MDBcbiAgICB9LFxuICAgIHNlbGVjdGVkOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0TWVkaXVtLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICAgIH1cbiAgICB9LFxuICAgIGRpc2FibGVkOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LmhpbnRcbiAgICB9XG4gIH0pO1xufTtcbnZhciBEYXkkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkNSwge1xuICBuYW1lOiAnTXVpUGlja2Vyc0RheSdcbn0pKERheSk7XG5cbnZhciBEYXlXcmFwcGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKERheVdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF5V3JhcHBlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvcHMub25TZWxlY3QoX3RoaXMucHJvcHMudmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXlXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgZGF5SW5DdXJyZW50TW9udGggPSBfYS5kYXlJbkN1cnJlbnRNb250aCxcbiAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgb25TZWxlY3QgPSBfYS5vblNlbGVjdCxcbiAgICAgICAgb3RoZXIgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwidmFsdWVcIiwgXCJkYXlJbkN1cnJlbnRNb250aFwiLCBcImRpc2FibGVkXCIsIFwib25TZWxlY3RcIl0pO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe1xuICAgICAgb25DbGljazogZGF5SW5DdXJyZW50TW9udGggJiYgIWRpc2FibGVkID8gdGhpcy5oYW5kbGVDbGljayA6IHVuZGVmaW5lZCxcbiAgICAgIG9uS2V5UHJlc3M6IGRheUluQ3VycmVudE1vbnRoICYmICFkaXNhYmxlZCA/IHRoaXMuaGFuZGxlQ2xpY2sgOiB1bmRlZmluZWQsXG4gICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiXG4gICAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF5V3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBkYXlJbkN1cnJlbnRNb250aDogYm9vbCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBvblNlbGVjdDogZnVuYy5pc1JlcXVpcmVkLFxuICAgIHZhbHVlOiBhbnkuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuICBEYXlXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkYXlJbkN1cnJlbnRNb250aDogdHJ1ZSxcbiAgICBkaXNhYmxlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIERheVdyYXBwZXI7XG59KFB1cmVDb21wb25lbnQpO1xuXG52YXIgQ2FsZW5kYXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQ2FsZW5kYXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNsaWRlRGlyZWN0aW9uOiAnbGVmdCcsXG4gICAgICBjdXJyZW50TW9udGg6IF90aGlzLnByb3BzLnV0aWxzLmdldFN0YXJ0T2ZNb250aChfdGhpcy5wcm9wcy5kYXRlKVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkRhdGVTZWxlY3QgPSBmdW5jdGlvbiAoZGF5LCBpc0ZpbmlzaCkge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh1dGlscy5tZXJnZURhdGVBbmRUaW1lKGRheSwgZGF0ZSksIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlTW9udGggPSBmdW5jdGlvbiAobmV3TW9udGgsIHNsaWRlRGlyZWN0aW9uKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRNb250aDogbmV3TW9udGgsXG4gICAgICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvblxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnZhbGlkYXRlTWluTWF4RGF0ZSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICByZXR1cm4gbWluRGF0ZSAmJiB1dGlscy5pc0JlZm9yZURheShkYXksIHV0aWxzLmRhdGUobWluRGF0ZSkpIHx8IG1heERhdGUgJiYgdXRpbHMuaXNBZnRlckRheShkYXksIHV0aWxzLmRhdGUobWF4RGF0ZSkpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlUHJldk1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0LFxuICAgICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiAhdXRpbHMuaXNCZWZvcmUodXRpbHMuZ2V0U3RhcnRPZk1vbnRoKGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQWZ0ZXIobm93LCBtaW5EYXRlKSA/IG5vdyA6IHV0aWxzLmRhdGUobWluRGF0ZSkpLCBfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlTmV4dE1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZTtcbiAgICAgIHZhciBub3cgPSB1dGlscy5kYXRlKCk7XG4gICAgICByZXR1cm4gIXV0aWxzLmlzQWZ0ZXIodXRpbHMuZ2V0U3RhcnRPZk1vbnRoKGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNCZWZvcmUobm93LCBtYXhEYXRlKSA/IG5vdyA6IHV0aWxzLmRhdGUobWF4RGF0ZSkpLCBfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlRGF0ZSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBfYS5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyRGF5KGRheSwgdXRpbHMuZGF0ZSgpKSB8fCBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZURheShkYXksIHV0aWxzLmRhdGUoKSkgfHwgX3RoaXMudmFsaWRhdGVNaW5NYXhEYXRlKGRheSkgfHwgc2hvdWxkRGlzYWJsZURhdGUgJiYgc2hvdWxkRGlzYWJsZURhdGUoZGF5KSk7XG4gICAgfTtcblxuICAgIF90aGlzLm1vdmVUb0RheSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIGlmIChkYXkgJiYgIV90aGlzLnNob3VsZERpc2FibGVEYXRlKGRheSkpIHtcbiAgICAgICAgX3RoaXMub25EYXRlU2VsZWN0KGRheSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0aGVtZSA9IF9hLnRoZW1lLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG5cbiAgICAgIHN3aXRjaCAoa2V5Y29kZShldmVudCkpIHtcbiAgICAgICAgY2FzZSAndXAnOlxuICAgICAgICAgIF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIC03KSk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdkb3duJzpcbiAgICAgICAgICBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCA3KSk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICB0aGVtZS5kaXJlY3Rpb24gPT09ICdsdHInID8gX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgLTEpKSA6IF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIDEpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgdGhlbWUuZGlyZWN0aW9uID09PSAnbHRyJyA/IF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIDEpKSA6IF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIC0xKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBrZXljb2RlIGlzIG5vdCBoYW5kbGVkLCBzdG9wIGV4ZWN1dGlvblxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gaWYgZXZlbnQgd2FzIGhhbmRsZWQgcHJldmVudCBvdGhlciBzaWRlIGVmZmVjdHMgKGUuZy4gcGFnZSBzY3JvbGwpXG5cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmVuZGVyV2Vla3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdXRpbHMgPSBfdGhpcy5wcm9wcy51dGlscztcbiAgICAgIHZhciBjdXJyZW50TW9udGggPSBfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGg7XG4gICAgICB2YXIgd2Vla3MgPSB1dGlscy5nZXRXZWVrQXJyYXkoY3VycmVudE1vbnRoKTtcbiAgICAgIHJldHVybiB3ZWVrcy5tYXAoZnVuY3Rpb24gKHdlZWspIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGtleTogXCJ3ZWVrLVwiICsgd2Vla1swXS50b1N0cmluZygpLFxuICAgICAgICAgIGNsYXNzTmFtZTogX3RoaXMucHJvcHMuY2xhc3Nlcy53ZWVrXG4gICAgICAgIH0sIF90aGlzLnJlbmRlckRheXMod2VlaykpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnJlbmRlckRheXMgPSBmdW5jdGlvbiAod2Vlaykge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgcmVuZGVyRGF5ID0gX2EucmVuZGVyRGF5LFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgc2VsZWN0ZWREYXRlID0gdXRpbHMuc3RhcnRPZkRheShkYXRlKTtcbiAgICAgIHZhciBjdXJyZW50TW9udGhOdW1iZXIgPSB1dGlscy5nZXRNb250aChfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiB3ZWVrLm1hcChmdW5jdGlvbiAoZGF5KSB7XG4gICAgICAgIHZhciBkaXNhYmxlZCA9IF90aGlzLnNob3VsZERpc2FibGVEYXRlKGRheSk7XG5cbiAgICAgICAgdmFyIGRheUluQ3VycmVudE1vbnRoID0gdXRpbHMuZ2V0TW9udGgoZGF5KSA9PT0gY3VycmVudE1vbnRoTnVtYmVyO1xuICAgICAgICB2YXIgZGF5Q29tcG9uZW50ID0gY3JlYXRlRWxlbWVudChEYXkkMSwge1xuICAgICAgICAgIGN1cnJlbnQ6IHV0aWxzLmlzU2FtZURheShkYXksIG5vdyksXG4gICAgICAgICAgaGlkZGVuOiAhZGF5SW5DdXJyZW50TW9udGgsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIHNlbGVjdGVkOiB1dGlscy5pc1NhbWVEYXkoc2VsZWN0ZWREYXRlLCBkYXkpXG4gICAgICAgIH0sIHV0aWxzLmdldERheVRleHQoZGF5KSk7XG5cbiAgICAgICAgaWYgKHJlbmRlckRheSkge1xuICAgICAgICAgIGRheUNvbXBvbmVudCA9IHJlbmRlckRheShkYXksIHNlbGVjdGVkRGF0ZSwgZGF5SW5DdXJyZW50TW9udGgsIGRheUNvbXBvbmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChEYXlXcmFwcGVyLCB7XG4gICAgICAgICAga2V5OiBkYXkudG9TdHJpbmcoKSxcbiAgICAgICAgICB2YWx1ZTogZGF5LFxuICAgICAgICAgIGRheUluQ3VycmVudE1vbnRoOiBkYXlJbkN1cnJlbnRNb250aCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgb25TZWxlY3Q6IF90aGlzLm9uRGF0ZVNlbGVjdFxuICAgICAgICB9LCBkYXlDb21wb25lbnQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIENhbGVuZGFyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMsIHN0YXRlKSB7XG4gICAgaWYgKCFuZXh0UHJvcHMudXRpbHMuaXNFcXVhbChuZXh0UHJvcHMuZGF0ZSwgc3RhdGUubGFzdERhdGUpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXN0RGF0ZTogbmV4dFByb3BzLmRhdGUsXG4gICAgICAgIGN1cnJlbnRNb250aDogbmV4dFByb3BzLnV0aWxzLmdldFN0YXJ0T2ZNb250aChuZXh0UHJvcHMuZGF0ZSlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgQ2FsZW5kYXIucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICBtaW5EYXRlID0gX2EubWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3Q7XG5cbiAgICBpZiAodGhpcy5zaG91bGREaXNhYmxlRGF0ZShkYXRlKSkge1xuICAgICAgdmFyIGNsb3Nlc3RFbmFibGVkRGF0ZSA9IGZpbmRDbG9zZXN0RW5hYmxlZERhdGUoe1xuICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICB1dGlsczogdXRpbHMsXG4gICAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICAgIGRpc2FibGVQYXN0OiBCb29sZWFuKGRpc2FibGVQYXN0KSxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZTogQm9vbGVhbihkaXNhYmxlUGFzdCksXG4gICAgICAgIHNob3VsZERpc2FibGVEYXRlOiB0aGlzLnNob3VsZERpc2FibGVEYXRlXG4gICAgICB9KTtcbiAgICAgIHRoaXMub25EYXRlU2VsZWN0KGNsb3Nlc3RFbmFibGVkRGF0ZSB8fCBtaW5EYXRlLCBmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIENhbGVuZGFyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgY3VycmVudE1vbnRoID0gX2EuY3VycmVudE1vbnRoLFxuICAgICAgICBzbGlkZURpcmVjdGlvbiA9IF9hLnNsaWRlRGlyZWN0aW9uO1xuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IF9iLmFsbG93S2V5Ym9hcmRDb250cm9sO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBhbGxvd0tleWJvYXJkQ29udHJvbCAmJiBjcmVhdGVFbGVtZW50KEV2ZW50TGlzdGVuZXIsIHtcbiAgICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoQ2FsZW5kYXJIZWFkZXIkMSwge1xuICAgICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uLFxuICAgICAgY3VycmVudE1vbnRoOiBjdXJyZW50TW9udGgsXG4gICAgICBvbk1vbnRoQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZU1vbnRoLFxuICAgICAgbGVmdEFycm93SWNvbjogdGhpcy5wcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb246IHRoaXMucHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBkaXNhYmxlUHJldk1vbnRoOiB0aGlzLnNob3VsZERpc2FibGVQcmV2TW9udGgoKSxcbiAgICAgIGRpc2FibGVOZXh0TW9udGg6IHRoaXMuc2hvdWxkRGlzYWJsZU5leHRNb250aCgpXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoU2xpZGVUcmFuc2l0aW9uJDEsIHtcbiAgICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvbixcbiAgICAgIHRyYW5zS2V5OiBjdXJyZW50TW9udGgudG9TdHJpbmcoKSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50cmFuc2l0aW9uQ29udGFpbmVyXG4gICAgfSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAvLyBAdHMtaWdub3JlIEF1dG9mb2N1cyByZXF1aXJlZCBmb3IgZ2V0dGluZyB3b3JrIGtleWJvYXJkIG5hdmlnYXRpb24gZmVhdHVyZVxuICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgfSwgdGhpcy5yZW5kZXJXZWVrcygpKSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENhbGVuZGFyLnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgICByZW5kZXJEYXk6IGZ1bmMsXG4gICAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENhbGVuZGFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gICAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBsZWZ0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmlnaHRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogZmFsc2UsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBDYWxlbmRhcjtcbn0oQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkNiA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHRyYW5zaXRpb25Db250YWluZXI6IHtcbiAgICAgIG1pbkhlaWdodDogMzYgKiA2LFxuICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAxLjVcbiAgICB9LFxuICAgIHdlZWs6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICAgIH1cbiAgfTtcbn07XG52YXIgQ2FsZW5kYXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkNiwge1xuICBuYW1lOiAnTXVpUGlja2Vyc0NhbGVuZGFyJyxcbiAgd2l0aFRoZW1lOiB0cnVlXG59KSh3aXRoVXRpbHMoKShDYWxlbmRhcikpO1xuXG52YXIgWWVhciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhZZWFyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFllYXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uU2VsZWN0KF90aGlzLnByb3BzLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgWWVhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBkaXNhYmxlZCA9IF9iLmRpc2FibGVkLFxuICAgICAgICB2YWx1ZSA9IF9iLnZhbHVlLFxuICAgICAgICBjaGlsZHJlbiA9IF9iLmNoaWxkcmVuLFxuICAgICAgICBvdGhlciA9IF9fcmVzdChfYiwgW1wiY2xhc3Nlc1wiLCBcInNlbGVjdGVkXCIsIFwiZGlzYWJsZWRcIiwgXCJ2YWx1ZVwiLCBcImNoaWxkcmVuXCJdKTtcblxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIF9fYXNzaWduKHtcbiAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICBjb21wb25lbnQ6IFwiZGl2XCIsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy5yb290LCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy5zZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2FbY2xhc3Nlcy5kaXNhYmxlZF0gPSBkaXNhYmxlZCwgX2EpKSxcbiAgICAgIHRhYkluZGV4OiBkaXNhYmxlZCA/IC0xIDogMCxcbiAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2ssXG4gICAgICBvbktleVByZXNzOiB0aGlzLmhhbmRsZUNsaWNrLFxuICAgICAgY29sb3I6IHNlbGVjdGVkID8gJ3ByaW1hcnknIDogJ2RlZmF1bHQnLFxuICAgICAgdmFyaWFudDogc2VsZWN0ZWQgPyAnaDUnIDogJ3N1YnRpdGxlMSdcbiAgICB9LCBvdGhlciksIGNoaWxkcmVuKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBZZWFyLnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVkOiBib29sLFxuICAgIG9uU2VsZWN0OiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgc2VsZWN0ZWQ6IGJvb2wsXG4gICAgdmFsdWU6IGFueS5pc1JlcXVpcmVkLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgWWVhci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgIGRpc2FibGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gWWVhcjtcbn0oUHVyZUNvbXBvbmVudCk7XG52YXIgc3R5bGVzJDcgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICByb290OiB7XG4gICAgICBoZWlnaHQ6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDUsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0TWVkaXVtXG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgbWFyZ2luOiAnMTBweCAwJyxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bVxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuaGludFxuICAgIH1cbiAgfSk7XG59O1xudmFyIFllYXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkNywge1xuICBuYW1lOiAnTXVpUGlja2Vyc1llYXInXG59KShZZWFyKTtcblxudmFyIFllYXJTZWxlY3Rpb24gPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoWWVhclNlbGVjdGlvbiwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBZZWFyU2VsZWN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc2VsZWN0ZWRZZWFyUmVmID0gdW5kZWZpbmVkO1xuXG4gICAgX3RoaXMuZ2V0U2VsZWN0ZWRZZWFyUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuc2VsZWN0ZWRZZWFyUmVmID0gcmVmO1xuICAgIH07XG5cbiAgICBfdGhpcy5zY3JvbGxUb0N1cnJlbnRZZWFyID0gZnVuY3Rpb24gKGRvbU5vZGUpIHtcbiAgICAgIHZhciBhbmltYXRlWWVhclNjcm9sbGluZyA9IF90aGlzLnByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nO1xuICAgICAgdmFyIGN1cnJlbnRZZWFyRWxlbWVudCA9IGZpbmRET01Ob2RlKGRvbU5vZGUpO1xuXG4gICAgICBpZiAoY3VycmVudFllYXJFbGVtZW50ICYmIGN1cnJlbnRZZWFyRWxlbWVudC5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICBpZiAoYW5pbWF0ZVllYXJTY3JvbGxpbmcpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50WWVhckVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudFllYXJFbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25ZZWFyU2VsZWN0ID0gZnVuY3Rpb24gKHllYXIpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciBuZXdEYXRlID0gdXRpbHMuc2V0WWVhcihkYXRlLCB5ZWFyKTtcbiAgICAgIG9uQ2hhbmdlKG5ld0RhdGUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBZZWFyU2VsZWN0aW9uLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZFllYXJSZWYpIHtcbiAgICAgIHRoaXMuc2Nyb2xsVG9DdXJyZW50WWVhcih0aGlzLnNlbGVjdGVkWWVhclJlZik7XG4gICAgfVxuICB9O1xuXG4gIFllYXJTZWxlY3Rpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgIHZhciBjdXJyZW50WWVhciA9IHV0aWxzLmdldFllYXIoZGF0ZSk7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhaW5lclxuICAgIH0sIHV0aWxzLmdldFllYXJSYW5nZShtaW5EYXRlLCBtYXhEYXRlKS5tYXAoZnVuY3Rpb24gKHllYXIpIHtcbiAgICAgIHZhciB5ZWFyTnVtYmVyID0gdXRpbHMuZ2V0WWVhcih5ZWFyKTtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHllYXJOdW1iZXIgPT09IGN1cnJlbnRZZWFyO1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoWWVhciQxLCB7XG4gICAgICAgIGtleTogdXRpbHMuZ2V0WWVhclRleHQoeWVhciksXG4gICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCxcbiAgICAgICAgdmFsdWU6IHllYXJOdW1iZXIsXG4gICAgICAgIG9uU2VsZWN0OiBfdGhpcy5vblllYXJTZWxlY3QsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmVmOiBzZWxlY3RlZCA/IF90aGlzLmdldFNlbGVjdGVkWWVhclJlZiA6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlWWVhcih5ZWFyLCB1dGlscy5kYXRlKCkpIHx8IGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNBZnRlclllYXIoeWVhciwgdXRpbHMuZGF0ZSgpKVxuICAgICAgfSwgdXRpbHMuZ2V0WWVhclRleHQoeWVhcikpO1xuICAgIH0pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBZZWFyU2VsZWN0aW9uLnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBzaGFwZSh7fSkuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgWWVhclNlbGVjdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlXG4gIH07XG4gIHJldHVybiBZZWFyU2VsZWN0aW9uO1xufShQdXJlQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkOCA9IGNyZWF0ZVN0eWxlcyQxKHtcbiAgY29udGFpbmVyOiB7XG4gICAgbWF4SGVpZ2h0OiAzMDAsXG4gICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXG4gIH1cbn0pO1xudmFyIFllYXJTZWxlY3Rpb24kMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkOCwge1xuICBuYW1lOiAnTXVpUGlja2Vyc1llYXJTZWxlY3Rpb24nXG59KSh3aXRoVXRpbHMoKShZZWFyU2VsZWN0aW9uKSk7XG5cbnZhciBEYXRlUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKERhdGVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd1llYXJTZWxlY3Rpb246IEJvb2xlYW4oX3RoaXMucHJvcHMub3BlblRvWWVhclNlbGVjdGlvbilcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlWWVhclNlbGVjdCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShkYXRlLCBmYWxzZSk7XG5cbiAgICAgIF90aGlzLm9wZW5DYWxlbmRhcigpO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuWWVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd1llYXJTZWxlY3Rpb246IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuQ2FsZW5kYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3dZZWFyU2VsZWN0aW9uOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRlUGlja2VyLnByb3RvdHlwZSwgXCJkYXRlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmRhdGU7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXIucHJvdG90eXBlLCBcIm1pbkRhdGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMudXRpbHMuZGF0ZSh0aGlzLnByb3BzLm1pbkRhdGUpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRlUGlja2VyLnByb3RvdHlwZSwgXCJtYXhEYXRlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnV0aWxzLmRhdGUodGhpcy5wcm9wcy5tYXhEYXRlKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hvd1llYXJTZWxlY3Rpb24gPSB0aGlzLnN0YXRlLnNob3dZZWFyU2VsZWN0aW9uO1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlLFxuICAgICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IF9hLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgICBsZWZ0QXJyb3dJY29uID0gX2EubGVmdEFycm93SWNvbixcbiAgICAgICAgcmlnaHRBcnJvd0ljb24gPSBfYS5yaWdodEFycm93SWNvbixcbiAgICAgICAgcmVuZGVyRGF5ID0gX2EucmVuZGVyRGF5LFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9hLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IF9hLmFsbG93S2V5Ym9hcmRDb250cm9sO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBjcmVhdGVFbGVtZW50KFBpY2tlclRvb2xiYXIkMSwgbnVsbCwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5ZZWFyU2VsZWN0aW9uLFxuICAgICAgc2VsZWN0ZWQ6IHNob3dZZWFyU2VsZWN0aW9uLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldFllYXJUZXh0KHRoaXMuZGF0ZSlcbiAgICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDRcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbkNhbGVuZGFyLFxuICAgICAgc2VsZWN0ZWQ6ICFzaG93WWVhclNlbGVjdGlvbixcbiAgICAgIGxhYmVsOiB1dGlscy5nZXREYXRlUGlja2VySGVhZGVyVGV4dCh0aGlzLmRhdGUpXG4gICAgfSkpLCB0aGlzLnByb3BzLmNoaWxkcmVuLCBzaG93WWVhclNlbGVjdGlvbiA/IGNyZWF0ZUVsZW1lbnQoWWVhclNlbGVjdGlvbiQxLCB7XG4gICAgICBkYXRlOiB0aGlzLmRhdGUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVZZWFyU2VsZWN0LFxuICAgICAgbWluRGF0ZTogdGhpcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZ1xuICAgIH0pIDogY3JlYXRlRWxlbWVudChDYWxlbmRhciQxLCB7XG4gICAgICBkYXRlOiB0aGlzLmRhdGUsXG4gICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgbWluRGF0ZTogdGhpcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlLFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlLFxuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sXG4gICAgfSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVQaWNrZXIucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBib29sLFxuICAgIGNoaWxkcmVuOiBub2RlLFxuICAgIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gICAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gICAgcmVuZGVyRGF5OiBmdW5jLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgICBpbml0aWFsRm9jdXNlZERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlXG4gIH0gOiB2b2lkIDA7XG4gIERhdGVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBmYWxzZSxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogdW5kZWZpbmVkLFxuICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlLFxuICAgIGNoaWxkcmVuOiBudWxsLFxuICAgIGxlZnRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByaWdodEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWRcbiAgfTtcbiAgcmV0dXJuIERhdGVQaWNrZXI7XG59KFB1cmVDb21wb25lbnQpO1xudmFyIERhdGVQaWNrZXIkMSA9IHdpdGhVdGlscygpKERhdGVQaWNrZXIpO1xuXG52YXIgRGF0ZVBpY2tlck1vZGFsID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGxhYmVsRnVuYyA9IHByb3BzLmxhYmVsRnVuYyxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uID0gcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIG90aGVyID0gX19yZXN0KHByb3BzLCBbXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiYXV0b09rXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVQYXN0XCIsIFwiZm9ybWF0XCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwibGFiZWxGdW5jXCIsIFwibGVmdEFycm93SWNvblwiLCBcIm1heERhdGVcIiwgXCJtaW5EYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwib25DaGFuZ2VcIiwgXCJvcGVuVG9ZZWFyU2VsZWN0aW9uXCIsIFwicmVuZGVyRGF5XCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcInZhbHVlXCJdKTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChCYXNlUGlja2VyJDEsIF9fYXNzaWduKHt9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0LFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZUNsZWFyID0gX2EuaGFuZGxlQ2xlYXIsXG4gICAgICAgIGhhbmRsZURpc21pc3MgPSBfYS5oYW5kbGVEaXNtaXNzLFxuICAgICAgICBoYW5kbGVTZXRUb2RheURhdGUgPSBfYS5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQ7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoTW9kYWxXcmFwcGVyLCBfX2Fzc2lnbih7XG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgdXRpbHMuZGF0ZUZvcm1hdCxcbiAgICAgIGxhYmVsRnVuYzogbGFiZWxGdW5jLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIG9uQ2xlYXI6IGhhbmRsZUNsZWFyLFxuICAgICAgb25EaXNtaXNzOiBoYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkXG4gICAgfSwgb3RoZXIpLCBjcmVhdGVFbGVtZW50KERhdGVQaWNrZXIkMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlUGlja2VyTW9kYWwucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogYm9vbCxcbiAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBib29sLFxuICBsYWJlbEZ1bmM6IGZ1bmMsXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICByZW5kZXJEYXk6IGZ1bmMsXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuRGF0ZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiB1bmRlZmluZWQsXG4gIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlLFxuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkXG59O1xudmFyIERhdGVQaWNrZXJNb2RhbCQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChEYXRlUGlja2VyTW9kYWwsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgSW5saW5lV3JhcHBlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhJbmxpbmVXcmFwcGVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIElubGluZVdyYXBwZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgfTtcblxuICAgIF90aGlzLm9wZW4gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBhbmNob3JFbDogZS5jdXJyZW50VGFyZ2V0XG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uT3Blbikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk9wZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMucHJvcHMuaGFuZGxlQWNjZXB0KCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsb3NlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoIChrZXljb2RlKGV2ZW50KSkge1xuICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgICAge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMuaGFuZGxlQWNjZXB0KCk7XG5cbiAgICAgICAgICAgIF90aGlzLmNsb3NlKCk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGlmIGtleWNvZGUgaXMgbm90IGhhbmRsZWQsIHN0b3AgZXhlY3V0aW9uXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpZiBldmVudCB3YXMgaGFuZGxlZCBwcmV2ZW50IG90aGVyIHNpZGUgZWZmZWN0c1xuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIElubGluZVdyYXBwZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xuICAgIC8vIG9ubHkgaWYgYWNjZXB0ID0gdHJ1ZSBjbG9zZSB0aGUgcG9wb3ZlclxuICAgIGlmIChuZXh0UHJvcHMuaXNBY2NlcHRlZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW5jaG9yRWw6IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgSW5saW5lV3JhcHBlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgb25PcGVuID0gX2Eub25PcGVuLFxuICAgICAgICBvbkNsb3NlID0gX2Eub25DbG9zZSxcbiAgICAgICAgUG9wb3ZlclByb3BzID0gX2EuUG9wb3ZlclByb3BzLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAga2V5Ym9hcmQgPSBfYS5rZXlib2FyZCxcbiAgICAgICAgb25seUNhbGVuZGFyID0gX2Eub25seUNhbGVuZGFyLFxuICAgICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0LFxuICAgICAgICBvdGhlciA9IF9fcmVzdChfYSwgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJjaGlsZHJlblwiLCBcIm9uT3BlblwiLCBcIm9uQ2xvc2VcIiwgXCJQb3BvdmVyUHJvcHNcIiwgXCJpc0FjY2VwdGVkXCIsIFwia2V5Ym9hcmRcIiwgXCJvbmx5Q2FsZW5kYXJcIiwgXCJjbGFzc2VzXCIsIFwiaGFuZGxlQWNjZXB0XCJdKTtcblxuICAgIHZhciBpc09wZW4gPSBCb29sZWFuKHRoaXMuc3RhdGUuYW5jaG9yRWwpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBpc09wZW4gJiYgY3JlYXRlRWxlbWVudChFdmVudExpc3RlbmVyLCB7XG4gICAgICB0YXJnZXQ6IFwid2luZG93XCIsXG4gICAgICBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93blxuICAgIH0pLCBjcmVhdGVFbGVtZW50KERhdGVUZXh0RmllbGQkMSwgX19hc3NpZ24oe1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW4sXG4gICAgICBrZXlib2FyZDoga2V5Ym9hcmRcbiAgICB9LCBvdGhlcikpLCBjcmVhdGVFbGVtZW50KFBvcG92ZXIsIF9fYXNzaWduKHtcbiAgICAgIGlkOiBcInBpY2tlci1wb3BvdmVyXCIsXG4gICAgICBvcGVuOiBpc09wZW4sXG4gICAgICBhbmNob3JFbDogdGhpcy5zdGF0ZS5hbmNob3JFbCxcbiAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2UsXG4gICAgICBjbGFzc2VzOiB7XG4gICAgICAgIHBhcGVyOiBjbGFzc2VzLnBvcG92ZXJQYXBlclxuICAgICAgfSxcbiAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgICAgIGhvcml6b250YWw6IGtleWJvYXJkID8gJ3JpZ2h0JyA6ICdjZW50ZXInXG4gICAgICB9LFxuICAgICAgdHJhbnNmb3JtT3JpZ2luOiB7XG4gICAgICAgIHZlcnRpY2FsOiAndG9wJyxcbiAgICAgICAgaG9yaXpvbnRhbDoga2V5Ym9hcmQgPyAncmlnaHQnIDogJ2NlbnRlcidcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9LCBQb3BvdmVyUHJvcHMpKSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gSW5saW5lV3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgLyoqIFNob3cgb25seSBjYWxlbmRhciBmb3IgZGF0ZXBpY2tlciBpbiBwb3BvdmVyIG1vZGUgKi9cbiAgICBvbmx5Q2FsZW5kYXI6IGJvb2wsXG5cbiAgICAvKiogUGlja2VyIHZhbHVlICovXG4gICAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gICAgLyoqIE9uIG9wZW4gY2FsbGJhY2sgWyhlOiBFdmVudCkgPT4gdm9pZF0gKi9cbiAgICBvbk9wZW46IGZ1bmMsXG5cbiAgICAvKiogT24gY2xvc2UgY2FsbGJhY2sgWyhlOiBFdmVudCkgPT4gdm9pZF0gKi9cbiAgICBvbkNsb3NlOiBmdW5jLFxuXG4gICAgLyoqIEZvcm1hdCBzdHJpbmcgKi9cbiAgICBmb3JtYXQ6IHN0cmluZyxcblxuICAgIC8qKiBEaWFsb2cgcHJvcHMgcGFzc2VkIHRvIG1hdGVyaWFsLXVpIERpYWxvZyAqL1xuICAgIFBvcG92ZXJQcm9wczogb2JqZWN0LFxuICAgIGxhYmVsRnVuYzogZnVuYyxcbiAgICBvbkNsZWFyOiBmdW5jLFxuICAgIGlzQWNjZXB0ZWQ6IGJvb2wsXG4gICAgaGFuZGxlQWNjZXB0OiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgICBrZXlib2FyZDogYm9vbCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIElubGluZVdyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICAgIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICAgIG9ubHlDYWxlbmRhcjogZmFsc2UsXG4gICAgZm9ybWF0OiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIG9uT3BlbjogdW5kZWZpbmVkLFxuICAgIG9uQ2xvc2U6IHVuZGVmaW5lZCxcbiAgICBQb3BvdmVyUHJvcHM6IHVuZGVmaW5lZCxcbiAgICBpc0FjY2VwdGVkOiBmYWxzZSxcbiAgICBrZXlib2FyZDogdW5kZWZpbmVkXG4gIH07XG4gIHJldHVybiBJbmxpbmVXcmFwcGVyO1xufShQdXJlQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkOSA9IHtcbiAgcG9wb3ZlclBhcGVyOiB7XG4gICAgbWF4V2lkdGg6IDMxMCxcbiAgICBtaW5XaWR0aDogMjkwLFxuICAgIHBhZGRpbmdCb3R0b206IDhcbiAgfVxufTsgLy8gQHRzLWlnbm9yZVxuXG52YXIgSW5saW5lV3JhcHBlciQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQ5KShJbmxpbmVXcmFwcGVyKTtcblxudmFyIERhdGVQaWNrZXJJbmxpbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIGFsbG93S2V5Ym9hcmRDb250cm9sID0gcHJvcHMuYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgbGFiZWxGdW5jID0gcHJvcHMubGFiZWxGdW5jLFxuICAgICAgbGVmdEFycm93SWNvbiA9IHByb3BzLmxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gcHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlLFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb24gPSBwcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgcmVuZGVyRGF5ID0gcHJvcHMucmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb25seUNhbGVuZGFyID0gcHJvcHMub25seUNhbGVuZGFyLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QocHJvcHMsIFtcImFsbG93S2V5Ym9hcmRDb250cm9sXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJmb3JtYXRcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJsYWJlbEZ1bmNcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwibWF4RGF0ZVwiLCBcIm1pbkRhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJvbkNoYW5nZVwiLCBcIm9wZW5Ub1llYXJTZWxlY3Rpb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJyaWdodEFycm93SWNvblwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwidmFsdWVcIiwgXCJhdXRvT2tcIiwgXCJvbmx5Q2FsZW5kYXJcIl0pO1xuXG4gIHZhciBDb21wb25lbnRUb1Nob3cgPSBvbmx5Q2FsZW5kYXIgPyBDYWxlbmRhciQxIDogRGF0ZVBpY2tlciQxO1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChCYXNlUGlja2VyJDEsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGF1dG9PazogdHJ1ZVxuICB9KSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChJbmxpbmVXcmFwcGVyJDEsIF9fYXNzaWduKHtcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCB8fCB1dGlscy5kYXRlRm9ybWF0LFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBpbm5lclJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGhhbmRsZUFjY2VwdDogaGFuZGxlQWNjZXB0XG4gICAgfSwgb3RoZXIpLCBjcmVhdGVFbGVtZW50KENvbXBvbmVudFRvU2hvdywge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbjogb3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgb25seUNhbGVuZGFyOiBib29sLFxuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVQYXN0OiBib29sLFxuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogYm9vbCxcbiAgbGFiZWxGdW5jOiBmdW5jLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgcmVuZGVyRGF5OiBmdW5jLFxuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKSxcbiAgYXV0b09rOiBib29sXG59IDogdm9pZCAwO1xuRGF0ZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiB1bmRlZmluZWQsXG4gIG9ubHlDYWxlbmRhcjogZmFsc2Vcbn07XG52YXIgRGF0ZVBpY2tlcklubGluZSQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChEYXRlUGlja2VySW5saW5lLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIGNlbnRlciA9IHtcbiAgeDogMjYwIC8gMixcbiAgeTogMjYwIC8gMlxufTtcbnZhciBiYXNlUG9pbnQgPSB7XG4gIHg6IGNlbnRlci54LFxuICB5OiAwXG59O1xudmFyIGN4ID0gYmFzZVBvaW50LnggLSBjZW50ZXIueDtcbnZhciBjeSA9IGJhc2VQb2ludC55IC0gY2VudGVyLnk7XG5cbnZhciByYWQyZGVnID0gZnVuY3Rpb24gKHJhZCkge1xuICByZXR1cm4gcmFkICogNTcuMjk1Nzc5NTEzMDgyMzI7XG59O1xuXG52YXIgZ2V0QW5nbGVWYWx1ZSA9IGZ1bmN0aW9uIChzdGVwLCBvZmZzZXRYLCBvZmZzZXRZKSB7XG4gIHZhciB4ID0gb2Zmc2V0WCAtIGNlbnRlci54O1xuICB2YXIgeSA9IG9mZnNldFkgLSBjZW50ZXIueTtcbiAgdmFyIGF0YW4gPSBNYXRoLmF0YW4yKGN4LCBjeSkgLSBNYXRoLmF0YW4yKHgsIHkpO1xuICB2YXIgZGVnID0gcmFkMmRlZyhhdGFuKTtcbiAgZGVnID0gTWF0aC5yb3VuZChkZWcgLyBzdGVwKSAqIHN0ZXA7XG4gIGRlZyAlPSAzNjA7XG4gIHZhciB2YWx1ZSA9IE1hdGguZmxvb3IoZGVnIC8gc3RlcCkgfHwgMDtcbiAgdmFyIGRlbHRhID0gTWF0aC5wb3coeCwgMikgKyBNYXRoLnBvdyh5LCAyKTtcbiAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGRlbHRhKTtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgZGlzdGFuY2U6IGRpc3RhbmNlXG4gIH07XG59O1xuXG52YXIgZ2V0SG91cnMgPSBmdW5jdGlvbiAob2Zmc2V0WCwgb2Zmc2V0WSwgYW1wbSkge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgdmFyIF9hID0gZ2V0QW5nbGVWYWx1ZSgzMCwgb2Zmc2V0WCwgb2Zmc2V0WSksXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgZGlzdGFuY2UgPSBfYS5kaXN0YW5jZTtcblxuICB2YWx1ZSA9IHZhbHVlIHx8IDEyO1xuXG4gIGlmICghYW1wbSkge1xuICAgIGlmIChkaXN0YW5jZSA8IDkwKSB7XG4gICAgICB2YWx1ZSArPSAxMjtcbiAgICAgIHZhbHVlICU9IDI0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSAlPSAxMjtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgZ2V0TWludXRlcyA9IGZ1bmN0aW9uIChvZmZzZXRYLCBvZmZzZXRZLCBzdGVwKSB7XG4gIGlmIChzdGVwID09PSB2b2lkIDApIHtcbiAgICBzdGVwID0gNjtcbiAgfVxuXG4gIHZhciB2YWx1ZSA9IGdldEFuZ2xlVmFsdWUoc3RlcCwgb2Zmc2V0WCwgb2Zmc2V0WSkudmFsdWU7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgY29udmVydFRvTWVyaWRpZW0gPSBmdW5jdGlvbiAodGltZSwgbWVyaWRpZW0sIGFtcG0sIHV0aWxzKSB7XG4gIGlmIChhbXBtKSB7XG4gICAgdmFyIGN1cnJlbnRNZXJpZGllbSA9IHV0aWxzLmdldEhvdXJzKHRpbWUpID49IDEyID8gJ3BtJyA6ICdhbSc7XG5cbiAgICBpZiAoY3VycmVudE1lcmlkaWVtICE9PSBtZXJpZGllbSkge1xuICAgICAgdmFyIGhvdXJzID0gbWVyaWRpZW0gPT09ICdhbScgPyB1dGlscy5nZXRIb3Vycyh0aW1lKSAtIDEyIDogdXRpbHMuZ2V0SG91cnModGltZSkgKyAxMjtcbiAgICAgIHJldHVybiB1dGlscy5zZXRIb3Vycyh0aW1lLCBob3Vycyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRpbWU7XG59O1xuXG52YXIgQ2xvY2tUeXBlO1xuXG4oZnVuY3Rpb24gKENsb2NrVHlwZSkge1xuICBDbG9ja1R5cGVbXCJIT1VSU1wiXSA9IFwiaG91cnNcIjtcbiAgQ2xvY2tUeXBlW1wiTUlOVVRFU1wiXSA9IFwibWludXRlc1wiO1xuICBDbG9ja1R5cGVbXCJTRUNPTkRTXCJdID0gXCJzZWNvbmRzXCI7XG59KShDbG9ja1R5cGUgfHwgKENsb2NrVHlwZSA9IHt9KSk7XG5cbnZhciBDbG9ja1R5cGUkMSA9IENsb2NrVHlwZTtcblxudmFyIENsb2NrUG9pbnRlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhDbG9ja1BvaW50ZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2xvY2tQb2ludGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0b0FuaW1hdGVUcmFuc2Zvcm06IGZhbHNlLFxuICAgICAgcHJldmlvdXNUeXBlOiB1bmRlZmluZWRcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0QW5nbGVTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgICAgaXNJbm5lciA9IF9hLmlzSW5uZXIsXG4gICAgICAgICAgdHlwZSA9IF9hLnR5cGU7XG4gICAgICB2YXIgbWF4ID0gdHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMgPyAxMiA6IDYwO1xuICAgICAgdmFyIGFuZ2xlID0gMzYwIC8gbWF4ICogdmFsdWU7XG5cbiAgICAgIGlmICh0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyAmJiB2YWx1ZSA+IDEyKSB7XG4gICAgICAgIGFuZ2xlIC09IDM2MDsgLy8gcm91bmQgdXAgYW5nbGUgdG8gbWF4IDM2MCBkZWdyZWVzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaXNJbm5lciA/ICcyNiUnIDogJzQwJScsXG4gICAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGVaKFwiICsgYW5nbGUgKyBcImRlZylcIlxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2xvY2tQb2ludGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hLCBfYjtcblxuICAgIHZhciBfYyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYy5jbGFzc2VzLFxuICAgICAgICBoYXNTZWxlY3RlZCA9IF9jLmhhc1NlbGVjdGVkO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHN0eWxlOiB0aGlzLmdldEFuZ2xlU3R5bGUoKSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnBvaW50ZXIsIChfYSA9IHt9LCBfYVtjbGFzc2VzLmFuaW1hdGVUcmFuc2Zvcm1dID0gdGhpcy5zdGF0ZS50b0FuaW1hdGVUcmFuc2Zvcm0sIF9hKSlcbiAgICB9LCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnRodW1iLCAoX2IgPSB7fSwgX2JbY2xhc3Nlcy5ub1BvaW50XSA9IGhhc1NlbGVjdGVkLCBfYikpXG4gICAgfSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENsb2NrUG9pbnRlci5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdmFsdWU6IG51bWJlci5pc1JlcXVpcmVkLFxuICAgIGhhc1NlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gICAgaXNJbm5lcjogYm9vbC5pc1JlcXVpcmVkLFxuICAgIGlubmVyUmVmOiBhbnksXG4gICAgdHlwZTogb25lT2YoT2JqZWN0LmtleXMoQ2xvY2tUeXBlJDEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gQ2xvY2tUeXBlJDFba2V5XTtcbiAgICB9KSkuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuXG4gIENsb2NrUG9pbnRlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBzdGF0ZSkge1xuICAgIGlmIChuZXh0UHJvcHMudHlwZSAhPT0gc3RhdGUucHJldmlvdXNUeXBlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b0FuaW1hdGVUcmFuc2Zvcm06IHRydWUsXG4gICAgICAgIHByZXZpb3VzVHlwZTogbmV4dFByb3BzLnR5cGVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvQW5pbWF0ZVRyYW5zZm9ybTogZmFsc2UsXG4gICAgICBwcmV2aW91c1R5cGU6IG5leHRQcm9wcy50eXBlXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gQ2xvY2tQb2ludGVyO1xufShDb21wb25lbnQpO1xudmFyIHN0eWxlcyRhID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgcG9pbnRlcjoge1xuICAgICAgd2lkdGg6IDIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBsZWZ0OiAnY2FsYyg1MCUgLSAxcHgpJyxcbiAgICAgIGJvdHRvbTogJzUwJScsXG4gICAgICB0cmFuc2Zvcm1PcmlnaW46ICdjZW50ZXIgYm90dG9tIDBweCdcbiAgICB9LFxuICAgIGFuaW1hdGVUcmFuc2Zvcm06IHtcbiAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZShbJ3RyYW5zZm9ybScsICdoZWlnaHQnXSlcbiAgICB9LFxuICAgIHRodW1iOiB7XG4gICAgICB3aWR0aDogNCxcbiAgICAgIGhlaWdodDogNCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAtMjEsXG4gICAgICBsZWZ0OiAtMTUsXG4gICAgICBib3JkZXI6IFwiMTRweCBzb2xpZCBcIiArIHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgYm94U2l6aW5nOiAnY29udGVudC1ib3gnXG4gICAgfSxcbiAgICBub1BvaW50OiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2tQb2ludGVyJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJGEsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9ja1BvaW50ZXInXG59KShDbG9ja1BvaW50ZXIpO1xuXG52YXIgQ2xvY2sgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQ2xvY2ssIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2xvY2soKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5pc01vdmluZyA9IGZhbHNlO1xuXG4gICAgX3RoaXMuaGFuZGxlVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLmlzTW92aW5nID0gdHJ1ZTtcblxuICAgICAgX3RoaXMuc2V0VGltZShlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVG91Y2hFbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLmlzTW92aW5nKSB7XG4gICAgICAgIF90aGlzLnNldFRpbWUoZSwgdHJ1ZSk7XG5cbiAgICAgICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBNb3VzZUV2ZW50LndoaWNoIGlzIGRlcHJlY2F0ZWQsIGJ1dCBNb3VzZUV2ZW50LmJ1dHRvbnMgaXMgbm90IHN1cHBvcnRlZCBpbiBTYWZhcmlcblxuICAgICAgdmFyIGlzQnV0dG9uUHJlc3NlZCA9IHR5cGVvZiBlLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnID8gZS5uYXRpdmVFdmVudC53aGljaCA9PT0gMSA6IGUuYnV0dG9ucyA9PT0gMTtcblxuICAgICAgaWYgKGlzQnV0dG9uUHJlc3NlZCkge1xuICAgICAgICBfdGhpcy5zZXRUaW1lKGUubmF0aXZlRXZlbnQsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0VGltZShlLm5hdGl2ZUV2ZW50LCB0cnVlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFzU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlO1xuXG4gICAgICBpZiAodHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZSAlIDUgPT09IDA7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIENsb2NrLnByb3RvdHlwZS5zZXRUaW1lID0gZnVuY3Rpb24gKGUsIGlzRmluaXNoKSB7XG4gICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgIGlzRmluaXNoID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG9mZnNldFggPSBlLm9mZnNldFgsXG4gICAgICAgIG9mZnNldFkgPSBlLm9mZnNldFk7XG5cbiAgICBpZiAodHlwZW9mIG9mZnNldFggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgb2Zmc2V0WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICAgIG9mZnNldFkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLnByb3BzLnR5cGUgPT09IENsb2NrVHlwZSQxLlNFQ09ORFMgfHwgdGhpcy5wcm9wcy50eXBlID09PSBDbG9ja1R5cGUkMS5NSU5VVEVTID8gZ2V0TWludXRlcyhvZmZzZXRYLCBvZmZzZXRZKSA6IGdldEhvdXJzKG9mZnNldFgsIG9mZnNldFksIEJvb2xlYW4odGhpcy5wcm9wcy5hbXBtKSk7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSwgaXNGaW5pc2gpO1xuICB9O1xuXG4gIENsb2NrLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICBhbXBtID0gX2EuYW1wbTtcbiAgICB2YXIgaXNQb2ludGVySW5uZXIgPSAhYW1wbSAmJiB0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyAmJiAodmFsdWUgPCAxIHx8IHZhbHVlID4gMTIpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jb250YWluZXJcbiAgICB9LCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9ja1xuICAgIH0sIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcm9sZTogXCJtZW51XCIsXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3F1YXJlTWFzayxcbiAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLmhhbmRsZVRvdWNoTW92ZSxcbiAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlVG91Y2hFbmQsXG4gICAgICBvbk1vdXNlVXA6IHRoaXMuaGFuZGxlTW91c2VVcCxcbiAgICAgIG9uTW91c2VNb3ZlOiB0aGlzLmhhbmRsZU1vdmVcbiAgICB9KSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMucGluXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tQb2ludGVyJDEsIHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0lubmVyOiBpc1BvaW50ZXJJbm5lcixcbiAgICAgIGhhc1NlbGVjdGVkOiB0aGlzLmhhc1NlbGVjdGVkKClcbiAgICB9KSwgY2hpbGRyZW4pKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDbG9jay5wcm9wVHlwZXMgPSB7XG4gICAgdHlwZTogb25lT2YoT2JqZWN0LmtleXMoQ2xvY2tUeXBlJDEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gQ2xvY2tUeXBlJDFba2V5XTtcbiAgICB9KSkuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjaGlsZHJlbjogYXJyYXlPZihub2RlKS5pc1JlcXVpcmVkLFxuICAgIGFtcG06IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBDbG9jay5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYW1wbTogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIENsb2NrO1xufShDb21wb25lbnQpO1xudmFyIHN0eWxlcyRiID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgY29udGFpbmVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgbWFyZ2luOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiA0ICsgXCJweCAwIFwiICsgdGhlbWUuc3BhY2luZy51bml0ICsgXCJweFwiXG4gICAgfSxcbiAgICBjbG9jazoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwuMDcpJyxcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBoZWlnaHQ6IDI2MCxcbiAgICAgIHdpZHRoOiAyNjAsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIHpJbmRleDogMVxuICAgIH0sXG4gICAgc3F1YXJlTWFzazoge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bycsXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICB0b3VjaEFjdGlvbnM6ICdub25lJyxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICcmOmFjdGl2ZSc6IHtcbiAgICAgICAgY3Vyc29yOiAnbW92ZSdcbiAgICAgIH1cbiAgICB9LFxuICAgIHBpbjoge1xuICAgICAgd2lkdGg6IDYsXG4gICAgICBoZWlnaHQ6IDYsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAnNTAlJyxcbiAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIENsb2NrJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJGIsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9jaydcbn0pKENsb2NrKTtcblxudmFyIHBvc2l0aW9ucyA9IHtcbiAgMDogWzAsIDQwXSxcbiAgMTogWzU1LCAxOS42XSxcbiAgMjogWzk0LjQsIDU5LjVdLFxuICAzOiBbMTA5LCAxMTRdLFxuICA0OiBbOTQuNCwgMTY4LjVdLFxuICA1OiBbNTQuNSwgMjA4LjRdLFxuICA2OiBbMCwgMjIzXSxcbiAgNzogWy01NC41LCAyMDguNF0sXG4gIDg6IFstOTQuNCwgMTY4LjVdLFxuICA5OiBbLTEwOSwgMTE0XSxcbiAgMTA6IFstOTQuNCwgNTkuNV0sXG4gIDExOiBbLTU0LjUsIDE5LjZdLFxuICAxMjogWzAsIDVdLFxuICAxMzogWzM2LjksIDQ5LjldLFxuICAxNDogWzY0LCA3N10sXG4gIDE1OiBbNzQsIDExNF0sXG4gIDE2OiBbNjQsIDE1MV0sXG4gIDE3OiBbMzcsIDE3OF0sXG4gIDE4OiBbMCwgMTg4XSxcbiAgMTk6IFstMzcsIDE3OF0sXG4gIDIwOiBbLTY0LCAxNTFdLFxuICAyMTogWy03NCwgMTE0XSxcbiAgMjI6IFstNjQsIDc3XSxcbiAgMjM6IFstMzcsIDUwXVxufTtcblxudmFyIENsb2NrTnVtYmVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKENsb2NrTnVtYmVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIENsb2NrTnVtYmVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuZ2V0VHJhbnNmb3JtU3R5bGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IHBvc2l0aW9uc1tpbmRleF07XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiICsgcG9zaXRpb25bMF0gKyBcInB4LCBcIiArIHBvc2l0aW9uWzFdICsgXCJweFwiXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9ja051bWJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIHNlbGVjdGVkID0gX2Iuc2VsZWN0ZWQsXG4gICAgICAgIGxhYmVsID0gX2IubGFiZWwsXG4gICAgICAgIGluZGV4ID0gX2IuaW5kZXgsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBpc0lubmVyID0gX2IuaXNJbm5lcjtcbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NuYW1lcyhjbGFzc2VzLmNsb2NrTnVtYmVyLCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy5zZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2EpKTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgICB2YXJpYW50OiBpc0lubmVyID8gJ2JvZHkxJyA6ICdzdWJ0aXRsZTEnLFxuICAgICAgY29tcG9uZW50OiBcInNwYW5cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHRoaXMuZ2V0VHJhbnNmb3JtU3R5bGUoaW5kZXgpXG4gICAgfSwgbGFiZWwpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENsb2NrTnVtYmVyLnByb3BUeXBlcyA9IHtcbiAgICBpbmRleDogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgbGFiZWw6IHN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaXNJbm5lcjogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENsb2NrTnVtYmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpc0lubmVyOiBmYWxzZVxuICB9O1xuICByZXR1cm4gQ2xvY2tOdW1iZXI7XG59KENvbXBvbmVudCk7XG52YXIgc3R5bGVzJGMgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgdmFyIHNpemUgPSB0aGVtZS5zcGFjaW5nLnVuaXQgKiA0O1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIGNsb2NrTnVtYmVyOiB7XG4gICAgICB3aWR0aDogc2l6ZSxcbiAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgbGVmdDogXCJjYWxjKDUwJSAtIFwiICsgc2l6ZSAvIDIgKyBcInB4KVwiLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1mbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSA6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2tOdW1iZXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkYywge1xuICBuYW1lOiAnTXVpUGlja2Vyc0Nsb2NrTnVtYmVyJ1xufSkoQ2xvY2tOdW1iZXIpO1xuXG52YXIgZ2V0SG91ck51bWJlcnMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGFtcG0gPSBfYS5hbXBtLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIGRhdGUgPSBfYS5kYXRlO1xuICB2YXIgY3VycmVudEhvdXJzID0gdXRpbHMuZ2V0SG91cnMoZGF0ZSk7XG4gIHZhciBob3VyTnVtYmVycyA9IFtdO1xuICB2YXIgc3RhcnRIb3VyID0gYW1wbSA/IDEgOiAwO1xuICB2YXIgZW5kSG91ciA9IGFtcG0gPyAxMiA6IDIzO1xuXG4gIHZhciBpc1NlbGVjdGVkID0gZnVuY3Rpb24gKGhvdXIpIHtcbiAgICBpZiAoYW1wbSkge1xuICAgICAgaWYgKGhvdXIgPT09IDEyKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50SG91cnMgPT09IDEyIHx8IGN1cnJlbnRIb3VycyA9PT0gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGN1cnJlbnRIb3VycyA9PT0gaG91ciB8fCBjdXJyZW50SG91cnMgLSAxMiA9PT0gaG91cjtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudEhvdXJzID09PSBob3VyO1xuICB9O1xuXG4gIGZvciAodmFyIGhvdXIgPSBzdGFydEhvdXI7IGhvdXIgPD0gZW5kSG91cjsgaG91ciArPSAxKSB7XG4gICAgdmFyIGxhYmVsID0gaG91ci50b1N0cmluZygpO1xuXG4gICAgaWYgKGhvdXIgPT09IDApIHtcbiAgICAgIGxhYmVsID0gJzAwJztcbiAgICB9XG5cbiAgICB2YXIgcHJvcHMgPSB7XG4gICAgICBpbmRleDogaG91cixcbiAgICAgIGxhYmVsOiB1dGlscy5mb3JtYXROdW1iZXIobGFiZWwpLFxuICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQoaG91ciksXG4gICAgICBpc0lubmVyOiAhYW1wbSAmJiAoaG91ciA9PT0gMCB8fCBob3VyID4gMTIpXG4gICAgfTtcbiAgICBob3VyTnVtYmVycy5wdXNoKGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwgX19hc3NpZ24oe1xuICAgICAga2V5OiBob3VyXG4gICAgfSwgcHJvcHMpKSk7XG4gIH1cblxuICByZXR1cm4gaG91ck51bWJlcnM7XG59O1xudmFyIGdldE1pbnV0ZXNOdW1iZXJzID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgdmFyIGYgPSB1dGlscy5mb3JtYXROdW1iZXI7XG4gIHJldHVybiBbY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzAwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAwLFxuICAgIGluZGV4OiAxMixcbiAgICBrZXk6IDEyXG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMDUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDUsXG4gICAgaW5kZXg6IDEsXG4gICAga2V5OiAxXG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMTAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDEwLFxuICAgIGluZGV4OiAyLFxuICAgIGtleTogMlxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzE1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAxNSxcbiAgICBpbmRleDogMyxcbiAgICBrZXk6IDNcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcyMCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMjAsXG4gICAgaW5kZXg6IDQsXG4gICAga2V5OiA0XG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMjUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDI1LFxuICAgIGluZGV4OiA1LFxuICAgIGtleTogNVxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzMwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAzMCxcbiAgICBpbmRleDogNixcbiAgICBrZXk6IDZcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCczNScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMzUsXG4gICAgaW5kZXg6IDcsXG4gICAga2V5OiA3XG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNDAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDQwLFxuICAgIGluZGV4OiA4LFxuICAgIGtleTogOFxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzQ1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA0NSxcbiAgICBpbmRleDogOSxcbiAgICBrZXk6IDlcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCc1MCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNTAsXG4gICAgaW5kZXg6IDEwLFxuICAgIGtleTogMTBcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCc1NScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNTUsXG4gICAgaW5kZXg6IDExLFxuICAgIGtleTogMTFcbiAgfSldO1xufTtcblxudmFyIFRpbWVQaWNrZXJWaWV3ID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKFRpbWVQaWNrZXJWaWV3LCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFRpbWVQaWNrZXJWaWV3KCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuZ2V0Vmlld1Byb3BzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdHlwZSA9IF9hLnR5cGUsXG4gICAgICAgICAgYW1wbSA9IF9hLmFtcG0sXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcblxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgQ2xvY2tUeXBlJDEuSE9VUlM6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiB1dGlscy5nZXRIb3VycyhkYXRlKSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBnZXRIb3VyTnVtYmVycyh7XG4gICAgICAgICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgICAgICAgIGFtcG06IEJvb2xlYW4oYW1wbSksXG4gICAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMuaGFuZGxlSG91ckNoYW5nZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSBDbG9ja1R5cGUkMS5NSU5VVEVTOlxuICAgICAgICAgIHZhciBtaW51dGVzVmFsdWUgPSB1dGlscy5nZXRNaW51dGVzKGRhdGUpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogbWludXRlc1ZhbHVlLFxuICAgICAgICAgICAgY2hpbGRyZW46IGdldE1pbnV0ZXNOdW1iZXJzKHtcbiAgICAgICAgICAgICAgdmFsdWU6IG1pbnV0ZXNWYWx1ZSxcbiAgICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlXG4gICAgICAgICAgfTtcblxuICAgICAgICBjYXNlIENsb2NrVHlwZSQxLlNFQ09ORFM6XG4gICAgICAgICAgdmFyIHNlY29uZHNWYWx1ZSA9IHV0aWxzLmdldFNlY29uZHMoZGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBzZWNvbmRzVmFsdWUsXG4gICAgICAgICAgICBjaGlsZHJlbjogZ2V0TWludXRlc051bWJlcnMoe1xuICAgICAgICAgICAgICB2YWx1ZTogc2Vjb25kc1ZhbHVlLFxuICAgICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzLmhhbmRsZVNlY29uZHNDaGFuZ2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwcm92aWRlIHRoZSB0eXBlIGZvciBUaW1lUGlja2VyVmlldycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVIb3VyQ2hhbmdlID0gZnVuY3Rpb24gKGhvdXJzLCBpc0ZpbmlzaCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciB1cGRhdGVkVGltZSA9IHV0aWxzLnNldEhvdXJzKGRhdGUsIGhvdXJzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25Ib3VyQ2hhbmdlKHVwZGF0ZWRUaW1lLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU1pbnV0ZXNDaGFuZ2UgPSBmdW5jdGlvbiAobWludXRlcywgaXNGaW5pc2gpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgdXBkYXRlZFRpbWUgPSB1dGlscy5zZXRNaW51dGVzKGRhdGUsIG1pbnV0ZXMpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbk1pbnV0ZXNDaGFuZ2UodXBkYXRlZFRpbWUsIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU2Vjb25kc0NoYW5nZSA9IGZ1bmN0aW9uIChzZWNvbmRzLCBpc0ZpbmlzaCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciB1cGRhdGVkVGltZSA9IHV0aWxzLnNldFNlY29uZHMoZGF0ZSwgc2Vjb25kcyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uU2Vjb25kc0NoYW5nZSh1cGRhdGVkVGltZSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUaW1lUGlja2VyVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFtcG0gPSBfYS5hbXBtLFxuICAgICAgICB0eXBlID0gX2EudHlwZTtcbiAgICB2YXIgdmlld1Byb3BzID0gdGhpcy5nZXRWaWV3UHJvcHMoKTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChDbG9jayQxLCBfX2Fzc2lnbih7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0sIHZpZXdQcm9wcykpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRpbWVQaWNrZXJWaWV3LnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkhvdXJDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbk1pbnV0ZXNDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblNlY29uZHNDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgYW1wbTogYm9vbCxcbiAgICB0eXBlOiBvbmVPZihPYmplY3Qua2V5cyhDbG9ja1R5cGUkMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBDbG9ja1R5cGUkMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIFRpbWVQaWNrZXJWaWV3LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbXBtOiB0cnVlXG4gIH07XG4gIHJldHVybiBUaW1lUGlja2VyVmlldztcbn0oUHVyZUNvbXBvbmVudCk7XG52YXIgVGltZVBpY2tlclZpZXckMSA9IHdpdGhVdGlscygpKFRpbWVQaWNrZXJWaWV3KTtcblxudmFyIFRpbWVQaWNrZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoVGltZVBpY2tlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBUaW1lUGlja2VyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuVmlldzogQ2xvY2tUeXBlJDEuSE9VUlMsXG4gICAgICBtZXJpZGllbU1vZGU6IF90aGlzLnByb3BzLnV0aWxzLmdldEhvdXJzKF90aGlzLnByb3BzLmRhdGUpID49IDEyID8gJ3BtJyA6ICdhbSdcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0TWVyaWRpZW1Nb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBtZXJpZGllbU1vZGU6IG1vZGVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICAgICAgdGltZTogX3RoaXMucHJvcHMuZGF0ZSxcbiAgICAgICAgICAgIGlzRmluaXNoOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5NaW51dGVzOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5TZWNvbmRzOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgdmFyIHRpbWUgPSBfYS50aW1lLFxuICAgICAgICAgIGlzRmluaXNoID0gX2EuaXNGaW5pc2gsXG4gICAgICAgICAgb3Blbk1pbnV0ZXMgPSBfYS5vcGVuTWludXRlcyxcbiAgICAgICAgICBvcGVuU2Vjb25kcyA9IF9hLm9wZW5TZWNvbmRzO1xuICAgICAgdmFyIHdpdGhNZXJpZGllbSA9IGNvbnZlcnRUb01lcmlkaWVtKHRpbWUsIF90aGlzLnN0YXRlLm1lcmlkaWVtTW9kZSwgQm9vbGVhbihfdGhpcy5wcm9wcy5hbXBtKSwgX3RoaXMucHJvcHMudXRpbHMpO1xuXG4gICAgICBpZiAoaXNGaW5pc2gpIHtcbiAgICAgICAgaWYgKCFvcGVuTWludXRlcyAmJiAhb3BlblNlY29uZHMpIHtcbiAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh3aXRoTWVyaWRpZW0sIGlzRmluaXNoKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVuTWludXRlcykge1xuICAgICAgICAgIF90aGlzLm9wZW5NaW51dGVzVmlldygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZW5TZWNvbmRzKSB7XG4gICAgICAgICAgX3RoaXMub3BlblNlY29uZHNWaWV3KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uod2l0aE1lcmlkaWVtLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUhvdXJDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh7XG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIGlzRmluaXNoOiBpc0ZpbmlzaCxcbiAgICAgICAgb3Blbk1pbnV0ZXM6IHRydWUsXG4gICAgICAgIG9wZW5TZWNvbmRzOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU1pbnV0ZXNDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh7XG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIGlzRmluaXNoOiBpc0ZpbmlzaCxcbiAgICAgICAgb3Blbk1pbnV0ZXM6IGZhbHNlLFxuICAgICAgICBvcGVuU2Vjb25kczogQm9vbGVhbihfdGhpcy5wcm9wcy5zZWNvbmRzKVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVNlY29uZHNDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh7XG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIGlzRmluaXNoOiBpc0ZpbmlzaCxcbiAgICAgICAgb3Blbk1pbnV0ZXM6IGZhbHNlLFxuICAgICAgICBvcGVuU2Vjb25kczogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuU2Vjb25kc1ZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5TRUNPTkRTXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3Blbk1pbnV0ZXNWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuVmlldzogQ2xvY2tUeXBlJDEuTUlOVVRFU1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5Ib3VyVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLkhPVVJTXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVGltZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICB0aGVtZSA9IF9iLnRoZW1lLFxuICAgICAgICBkYXRlID0gX2IuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYi51dGlscyxcbiAgICAgICAgYW1wbSA9IF9iLmFtcG0sXG4gICAgICAgIHNlY29uZHMgPSBfYi5zZWNvbmRzO1xuICAgIHZhciBfYyA9IHRoaXMuc3RhdGUsXG4gICAgICAgIG1lcmlkaWVtTW9kZSA9IF9jLm1lcmlkaWVtTW9kZSxcbiAgICAgICAgb3BlblZpZXcgPSBfYy5vcGVuVmlldztcbiAgICB2YXIgcnRsID0gdGhlbWUuZGlyZWN0aW9uID09PSAncnRsJztcbiAgICB2YXIgaG91ck1pbnV0ZUNsYXNzTmFtZSA9IHJ0bCA/IGNsYXNzZXMuaG91ck1pbnV0ZUxhYmVsUmV2ZXJzZSA6IGNsYXNzZXMuaG91ck1pbnV0ZUxhYmVsO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBjcmVhdGVFbGVtZW50KFBpY2tlclRvb2xiYXIkMSwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMudG9vbGJhciwgKF9hID0ge30sIF9hW2NsYXNzZXMudG9vbGJhckxlZnRQYWRkaW5nXSA9IGFtcG0sIF9hKSlcbiAgICB9LCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogaG91ck1pbnV0ZUNsYXNzTmFtZVxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5Ib3VyVmlldyxcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0SG91clRleHQoZGF0ZSwgQm9vbGVhbihhbXBtKSlcbiAgICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIGxhYmVsOiBcIjpcIixcbiAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZXBhcmF0b3JcbiAgICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3Blbk1pbnV0ZXNWaWV3LFxuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBDbG9ja1R5cGUkMS5NSU5VVEVTLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldE1pbnV0ZVRleHQoZGF0ZSlcbiAgICB9KSwgc2Vjb25kcyAmJiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgbGFiZWw6IFwiOlwiLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlcGFyYXRvclxuICAgIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuU2Vjb25kc1ZpZXcsXG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IENsb2NrVHlwZSQxLlNFQ09ORFMsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0U2Vjb25kVGV4dChkYXRlKVxuICAgIH0pKSksIGFtcG0gJiYgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IHNlY29uZHMgPyBjbGFzc2VzLmFtcG1TZWxlY3Rpb25XaXRoU2Vjb25kcyA6IGNsYXNzZXMuYW1wbVNlbGVjdGlvblxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbUxhYmVsLFxuICAgICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ2FtJyxcbiAgICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0TWVyaWRpZW1UZXh0KCdhbScpLFxuICAgICAgb25DbGljazogdGhpcy5zZXRNZXJpZGllbU1vZGUoJ2FtJylcbiAgICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hbXBtTGFiZWwsXG4gICAgICBzZWxlY3RlZDogbWVyaWRpZW1Nb2RlID09PSAncG0nLFxuICAgICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRNZXJpZGllbVRleHQoJ3BtJyksXG4gICAgICBvbkNsaWNrOiB0aGlzLnNldE1lcmlkaWVtTW9kZSgncG0nKVxuICAgIH0pKSksIHRoaXMucHJvcHMuY2hpbGRyZW4sIGNyZWF0ZUVsZW1lbnQoVGltZVBpY2tlclZpZXckMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIHR5cGU6IHRoaXMuc3RhdGUub3BlblZpZXcsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgb25Ib3VyQ2hhbmdlOiB0aGlzLmhhbmRsZUhvdXJDaGFuZ2UsXG4gICAgICBvbk1pbnV0ZXNDaGFuZ2U6IHRoaXMuaGFuZGxlTWludXRlc0NoYW5nZSxcbiAgICAgIG9uU2Vjb25kc0NoYW5nZTogdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlXG4gICAgfSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRpbWVQaWNrZXIucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBub2RlLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbXBtOiBib29sLFxuICAgIHNlY29uZHM6IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBUaW1lUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjaGlsZHJlbjogbnVsbCxcbiAgICBhbXBtOiB0cnVlLFxuICAgIHNlY29uZHM6IGZhbHNlXG4gIH07XG4gIHJldHVybiBUaW1lUGlja2VyO1xufShDb21wb25lbnQpO1xudmFyIHN0eWxlcyRkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIHRvb2xiYXI6IHtcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICB9LFxuICAgIHRvb2xiYXJMZWZ0UGFkZGluZzoge1xuICAgICAgcGFkZGluZ0xlZnQ6IDUwXG4gICAgfSxcbiAgICBzZXBhcmF0b3I6IHtcbiAgICAgIG1hcmdpbjogJzAgNHB4IDAgMnB4JyxcbiAgICAgIGN1cnNvcjogJ2RlZmF1bHQnXG4gICAgfSxcbiAgICBhbXBtU2VsZWN0aW9uOiB7XG4gICAgICBtYXJnaW5MZWZ0OiAyMCxcbiAgICAgIG1hcmdpblJpZ2h0OiAtMjBcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb25XaXRoU2Vjb25kczoge1xuICAgICAgbWFyZ2luTGVmdDogMTUsXG4gICAgICBtYXJnaW5SaWdodDogMTBcbiAgICB9LFxuICAgIGFtcG1MYWJlbDoge1xuICAgICAgZm9udFNpemU6IDE4XG4gICAgfSxcbiAgICBob3VyTWludXRlTGFiZWw6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJ1xuICAgIH0sXG4gICAgaG91ck1pbnV0ZUxhYmVsUmV2ZXJzZToge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ3Jvdy1yZXZlcnNlJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIFRpbWVQaWNrZXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkZCwge1xuICB3aXRoVGhlbWU6IHRydWUsXG4gIG5hbWU6ICdNdWlQaWNrZXJzVGltZVBpY2tlcidcbn0pKHdpdGhVdGlscygpKFRpbWVQaWNrZXIpKTtcblxudmFyIFRpbWVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIHNlY29uZHMgPSBwcm9wcy5zZWNvbmRzLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiYXV0b09rXCIsIFwib25DaGFuZ2VcIiwgXCJhbXBtXCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwic2Vjb25kc1wiXSk7XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQmFzZVBpY2tlciQxLCBfX2Fzc2lnbih7XG4gICAgbWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZTogdHJ1ZVxuICB9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0LFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZUNsZWFyID0gX2EuaGFuZGxlQ2xlYXIsXG4gICAgICAgIGhhbmRsZURpc21pc3MgPSBfYS5oYW5kbGVEaXNtaXNzLFxuICAgICAgICBoYW5kbGVTZXRUb2RheURhdGUgPSBfYS5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdCA9IF9hLnBpY2sxMmhPcjI0aEZvcm1hdDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChNb2RhbFdyYXBwZXIsIF9fYXNzaWduKHtcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgICBvbkFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIG9uRGlzbWlzczogaGFuZGxlRGlzbWlzcyxcbiAgICAgIG9uU2V0VG9kYXk6IGhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy50aW1lMTJoRm9ybWF0LCB1dGlscy50aW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgY3JlYXRlRWxlbWVudChUaW1lUGlja2VyJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIHNlY29uZHM6IHNlY29uZHNcbiAgICB9KSk7XG4gIH0pO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRpbWVQaWNrZXJNb2RhbC5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogYm9vbCxcbiAgYW1wbTogYm9vbCxcbiAgc2Vjb25kczogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuVGltZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhbXBtOiB0cnVlLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgc2Vjb25kczogZmFsc2Vcbn07XG52YXIgVGltZVBpY2tlck1vZGFsJDEgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFRpbWVQaWNrZXJNb2RhbCwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBUaW1lUGlja2VySW5saW5lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgc2Vjb25kcyA9IHByb3BzLnNlY29uZHMsXG4gICAgICBvdGhlciA9IF9fcmVzdChwcm9wcywgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJvbkNoYW5nZVwiLCBcImFtcG1cIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJzZWNvbmRzXCJdKTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChCYXNlUGlja2VyJDEsIF9fYXNzaWduKHtcbiAgICBtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlOiB0cnVlLFxuICAgIGF1dG9PazogdHJ1ZVxuICB9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChJbmxpbmVXcmFwcGVyJDEsIF9fYXNzaWduKHtcbiAgICAgIGlubmVyUmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGhhbmRsZUFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgZm9ybWF0OiBwaWNrMTJoT3IyNGhGb3JtYXQodXRpbHMudGltZTEyaEZvcm1hdCwgdXRpbHMudGltZTI0aEZvcm1hdClcbiAgICB9LCBvdGhlciksIGNyZWF0ZUVsZW1lbnQoVGltZVBpY2tlciQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBzZWNvbmRzOiBzZWNvbmRzXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBUaW1lUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgYW1wbTogYm9vbCxcbiAgc2Vjb25kczogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuVGltZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGFtcG06IHRydWUsXG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIHNlY29uZHM6IGZhbHNlXG59O1xudmFyIFRpbWVQaWNrZXJJbmxpbmUkMSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoVGltZVBpY2tlcklubGluZSwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBEYXRlVGltZVBpY2tlclZpZXc7XG5cbihmdW5jdGlvbiAoRGF0ZVRpbWVQaWNrZXJWaWV3KSB7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIllFQVJcIl0gPSBcInllYXJcIjtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiREFURVwiXSA9IFwiZGF0ZVwiO1xuICBEYXRlVGltZVBpY2tlclZpZXdbXCJIT1VSXCJdID0gXCJob3Vyc1wiO1xuICBEYXRlVGltZVBpY2tlclZpZXdbXCJNSU5VVEVTXCJdID0gXCJtaW51dGVzXCI7XG59KShEYXRlVGltZVBpY2tlclZpZXcgfHwgKERhdGVUaW1lUGlja2VyVmlldyA9IHt9KSk7XG5cbnZhciBEYXRlVGltZVBpY2tlclZpZXckMSA9IERhdGVUaW1lUGlja2VyVmlldztcblxudmFyIHN0eWxlcyRlID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIHBhZGRpbmdMZWZ0OiAxNixcbiAgICAgIHBhZGRpbmdSaWdodDogMTYsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWFyb3VuZCdcbiAgICB9LFxuICAgIHNlcGFyYXRvcjoge1xuICAgICAgbWFyZ2luOiAnMCA0cHggMCAycHgnLFxuICAgICAgY3Vyc29yOiAnZGVmYXVsdCdcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb246IHtcbiAgICAgIHRvcDogOSxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgbWFyZ2luTGVmdDogMTAsXG4gICAgICBtYXJnaW5SaWdodDogLTEwXG4gICAgfSxcbiAgICBhbXBtTGFiZWw6IHtcbiAgICAgIGZvbnRTaXplOiAxOFxuICAgIH0sXG4gICAgaG91ck1pbnV0ZUxhYmVsOiB7XG4gICAgICB0b3A6IDUsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJyxcbiAgICAgIGZsZXhEaXJlY3Rpb246IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCcgPyAncm93LXJldmVyc2UnIDogJ3JvdydcbiAgICB9LFxuICAgIGRhdGVIZWFkZXI6IHtcbiAgICAgIGhlaWdodDogNjBcbiAgICB9LFxuICAgIHRpbWVIZWFkZXI6IHtcbiAgICAgIGhlaWdodDogNjUsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCdcbiAgICB9XG4gIH0pO1xufTtcbnZhciBEYXRlVGltZVBpY2tlckhlYWRlciA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIG9wZW5WaWV3ID0gX2Eub3BlblZpZXcsXG4gICAgICBtZXJpZGllbU1vZGUgPSBfYS5tZXJpZGllbU1vZGUsXG4gICAgICBvbk9wZW5WaWV3Q2hhbmdlID0gX2Eub25PcGVuVmlld0NoYW5nZSxcbiAgICAgIHNldE1lcmlkaWVtTW9kZSA9IF9hLnNldE1lcmlkaWVtTW9kZSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBhbXBtID0gX2EuYW1wbTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoUGlja2VyVG9vbGJhciQxLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRvb2xiYXJcbiAgfSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmRhdGVIZWFkZXJcbiAgfSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLllFQVIpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSLFxuICAgIGxhYmVsOiB1dGlscy5nZXRZZWFyVGV4dChkYXRlKVxuICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImg0XCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURSk7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUsXG4gICAgbGFiZWw6IHV0aWxzLmdldERhdGVUaW1lUGlja2VySGVhZGVyVGV4dChkYXRlKVxuICB9KSksIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50aW1lSGVhZGVyXG4gIH0sIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5ob3VyTWludXRlTGFiZWxcbiAgfSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImgzXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuSE9VUik7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIsXG4gICAgbGFiZWw6IHV0aWxzLmdldEhvdXJUZXh0KGRhdGUsIGFtcG0pXG4gIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgIHZhcmlhbnQ6IFwiaDNcIixcbiAgICBsYWJlbDogXCI6XCIsXG4gICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZXBhcmF0b3JcbiAgfSksIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoM1wiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTLFxuICAgIGxhYmVsOiB1dGlscy5nZXRNaW51dGVUZXh0KGRhdGUpXG4gIH0pKSwgYW1wbSAmJiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYW1wbVNlbGVjdGlvblxuICB9LCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hbXBtTGFiZWwsXG4gICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ2FtJyxcbiAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgIGxhYmVsOiB1dGlscy5nZXRNZXJpZGllbVRleHQoJ2FtJyksXG4gICAgb25DbGljazogc2V0TWVyaWRpZW1Nb2RlKCdhbScpXG4gIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hbXBtTGFiZWwsXG4gICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ3BtJyxcbiAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgIGxhYmVsOiB1dGlscy5nZXRNZXJpZGllbVRleHQoJ3BtJyksXG4gICAgb25DbGljazogc2V0TWVyaWRpZW1Nb2RlKCdwbScpXG4gIH0pKSkpO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVUaW1lUGlja2VySGVhZGVyLnByb3BUeXBlcyA9IHtcbiAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBtZXJpZGllbU1vZGU6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBvcGVuVmlldzogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9uT3BlblZpZXdDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgc2V0TWVyaWRpZW1Nb2RlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgYW1wbTogYm9vbCxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcbkRhdGVUaW1lUGlja2VySGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYW1wbTogdHJ1ZVxufTtcbnZhciBEYXRldGltZVBpY2tlckhlYWRlciA9IHdpdGhTdHlsZXMkMShzdHlsZXMkZSwge1xuICBuYW1lOiAnTXVpUGlja2VyRFRIZWFkZXInXG59KSh3aXRoVXRpbHMoKShEYXRlVGltZVBpY2tlckhlYWRlcikpO1xuXG52YXIgdmlld1RvVGFiSW5kZXggPSBmdW5jdGlvbiAob3BlblZpZXcpIHtcbiAgaWYgKG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFIHx8IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSKSB7XG4gICAgcmV0dXJuICdkYXRlJztcbiAgfVxuXG4gIHJldHVybiAndGltZSc7XG59O1xuXG52YXIgdGFiSW5kZXhUb1ZpZXcgPSBmdW5jdGlvbiAodGFiKSB7XG4gIGlmICh0YWIgPT09ICdkYXRlJykge1xuICAgIHJldHVybiBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFO1xuICB9XG5cbiAgcmV0dXJuIERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVI7XG59O1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJUYWJzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2aWV3ID0gcHJvcHMudmlldyxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIHRoZW1lID0gcHJvcHMudGhlbWUsXG4gICAgICBkYXRlUmFuZ2VJY29uID0gcHJvcHMuZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uID0gcHJvcHMudGltZUljb247XG4gIHZhciBpbmRpY2F0b3JDb2xvciA9IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0JyA/ICdzZWNvbmRhcnknIDogJ3ByaW1hcnknO1xuXG4gIHZhciBoYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHZpZXdUb1RhYkluZGV4KHZpZXcpKSB7XG4gICAgICBvbkNoYW5nZSh0YWJJbmRleFRvVmlldyh2YWx1ZSkpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChQYXBlciwgbnVsbCwgY3JlYXRlRWxlbWVudChUYWJzLCB7XG4gICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgIHZhbHVlOiB2aWV3VG9UYWJJbmRleCh2aWV3KSxcbiAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50YWJzLFxuICAgIGluZGljYXRvckNvbG9yOiBpbmRpY2F0b3JDb2xvclxuICB9LCBjcmVhdGVFbGVtZW50KFRhYiwge1xuICAgIHZhbHVlOiBcImRhdGVcIixcbiAgICBpY29uOiBjcmVhdGVFbGVtZW50KEljb24sIG51bGwsIGRhdGVSYW5nZUljb24pXG4gIH0pLCBjcmVhdGVFbGVtZW50KFRhYiwge1xuICAgIHZhbHVlOiBcInRpbWVcIixcbiAgICBpY29uOiBjcmVhdGVFbGVtZW50KEljb24sIG51bGwsIHRpbWVJY29uKVxuICB9KSkpO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVUaW1lUGlja2VyVGFicy5wcm9wVHlwZXMgPSB7XG4gIHZpZXc6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBkYXRlUmFuZ2VJY29uOiBub2RlLmlzUmVxdWlyZWQsXG4gIHRpbWVJY29uOiBub2RlLmlzUmVxdWlyZWRcbn0gOiB2b2lkIDA7XG52YXIgc3R5bGVzJGYgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0YWJzOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0JyA/IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluIDogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kW1wiZGVmYXVsdFwiXVxuICAgIH1cbiAgfTtcbn07XG52YXIgRGF0ZVRpbWVQaWNrZXJUYWJzJDEgPSB3aXRoVGhlbWUoKSh3aXRoU3R5bGVzJDEoc3R5bGVzJGYsIHtcbiAgbmFtZTogJ011aVBpY2tlckRUVGFicydcbn0pKERhdGVUaW1lUGlja2VyVGFicykpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJWaWV3JDIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHNlbGVjdGVkID0gX2Euc2VsZWN0ZWQsXG4gICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuO1xuXG4gIGlmICghc2VsZWN0ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgfSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVRpbWVQaWNrZXJWaWV3JDIucHJvcFR5cGVzID0ge1xuICBzZWxlY3RlZDogYm9vbC5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoRGF0ZVRpbWVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVRpbWVQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW5WaWV3OiBfdGhpcy5wcm9wcy5vcGVuVG8sXG4gICAgICBtZXJpZGllbU1vZGU6IF90aGlzLnByb3BzLnV0aWxzLmdldEhvdXJzKF90aGlzLnByb3BzLmRhdGUpID49IDEyID8gJ3BtJyA6ICdhbSdcbiAgICB9O1xuXG4gICAgX3RoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gsIG5leHRWaWV3KSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh0aW1lKTtcblxuICAgICAgaWYgKGlzRmluaXNoICYmIF90aGlzLnByb3BzLmF1dG9TdWJtaXQpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlVmlld0NoYW5nZShuZXh0Vmlldyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnNldE1lcmlkaWVtTW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbWVyaWRpZW1Nb2RlOiBtb2RlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnByb3BzLmRhdGUsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVWaWV3Q2hhbmdlID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IHZpZXdcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlzRmluaXNoID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciB3aXRoTWVyaWRpZW0gPSBjb252ZXJ0VG9NZXJpZGllbSh0aW1lLCBfdGhpcy5zdGF0ZS5tZXJpZGllbU1vZGUsIEJvb2xlYW4oX3RoaXMucHJvcHMuYW1wbSksIF90aGlzLnByb3BzLnV0aWxzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uod2l0aE1lcmlkaWVtLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVllYXJDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgX3RoaXMub25DaGFuZ2UoZGF0ZSwgZmFsc2UsIERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVEYXlDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLm9uQ2hhbmdlKGRhdGUsIGlzRmluaXNoLCBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlSG91ckNoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMub25DaGFuZ2UodGltZSwgaXNGaW5pc2gsIERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXRlVGltZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIG9wZW5WaWV3ID0gX2Eub3BlblZpZXcsXG4gICAgICAgIG1lcmlkaWVtTW9kZSA9IF9hLm1lcmlkaWVtTW9kZTtcbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBkYXRlID0gX2IuZGF0ZSxcbiAgICAgICAgbWluRGF0ZSA9IF9iLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYi5tYXhEYXRlLFxuICAgICAgICBzaG93VGFicyA9IF9iLnNob3dUYWJzLFxuICAgICAgICBkaXNhYmxlUGFzdCA9IF9iLmRpc2FibGVQYXN0LFxuICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2IuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgbGVmdEFycm93SWNvbiA9IF9iLmxlZnRBcnJvd0ljb24sXG4gICAgICAgIHJpZ2h0QXJyb3dJY29uID0gX2IucmlnaHRBcnJvd0ljb24sXG4gICAgICAgIGRhdGVSYW5nZUljb24gPSBfYi5kYXRlUmFuZ2VJY29uLFxuICAgICAgICB0aW1lSWNvbiA9IF9iLnRpbWVJY29uLFxuICAgICAgICByZW5kZXJEYXkgPSBfYi5yZW5kZXJEYXksXG4gICAgICAgIGFtcG0gPSBfYi5hbXBtLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9iLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IF9iLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IF9iLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50ID0gX2IuVmlld0NvbnRhaW5lckNvbXBvbmVudDtcbiAgICB2YXIgQ29udGFpbmVyID0gVmlld0NvbnRhaW5lckNvbXBvbmVudDtcbiAgICB2YXIgVmlld0NvbnRhaW5lckNvbXBvbmVudFByb3BzID0gdHlwZW9mIFZpZXdDb250YWluZXJDb21wb25lbnQgPT09ICdzdHJpbmcnID8ge30gOiB7XG4gICAgICBvcGVuVmlldzogb3BlblZpZXcsXG4gICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZVxuICAgIH07XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGNyZWF0ZUVsZW1lbnQoRGF0ZXRpbWVQaWNrZXJIZWFkZXIsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBvcGVuVmlldzogb3BlblZpZXcsXG4gICAgICBtZXJpZGllbU1vZGU6IG1lcmlkaWVtTW9kZSxcbiAgICAgIHNldE1lcmlkaWVtTW9kZTogdGhpcy5zZXRNZXJpZGllbU1vZGUsXG4gICAgICBvbk9wZW5WaWV3Q2hhbmdlOiB0aGlzLmhhbmRsZVZpZXdDaGFuZ2UsXG4gICAgICBhbXBtOiBhbXBtXG4gICAgfSksIHNob3dUYWJzICYmIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXJUYWJzJDEsIHtcbiAgICAgIHZpZXc6IG9wZW5WaWV3LFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlVmlld0NoYW5nZSxcbiAgICAgIGRhdGVSYW5nZUljb246IGRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbjogdGltZUljb25cbiAgICB9KSwgY3JlYXRlRWxlbWVudChDb250YWluZXIsIF9fYXNzaWduKHt9LCBWaWV3Q29udGFpbmVyQ29tcG9uZW50UHJvcHMpLCBjcmVhdGVFbGVtZW50KERhdGVUaW1lUGlja2VyVmlldyQyLCB7XG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLllFQVJcbiAgICB9LCBjcmVhdGVFbGVtZW50KFllYXJTZWxlY3Rpb24kMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlWWVhckNoYW5nZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmdcbiAgICB9KSksIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXJWaWV3JDIsIHtcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURVxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoQ2FsZW5kYXIkMSwge1xuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRGF5Q2hhbmdlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZVxuICAgIH0pKSwgY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlclZpZXckMiwge1xuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSIHx8IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTXG4gICAgfSwgY3JlYXRlRWxlbWVudChUaW1lUGlja2VyVmlldyQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgdHlwZTogb3BlblZpZXcsXG4gICAgICBvbkhvdXJDaGFuZ2U6IHRoaXMuaGFuZGxlSG91ckNoYW5nZSxcbiAgICAgIG9uTWludXRlc0NoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICBvblNlY29uZHNDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0pKSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVUaW1lUGlja2VyLnByb3BUeXBlcyA9IHtcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgICBhbXBtOiBib29sLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICAgIGF1dG9TdWJtaXQ6IGJvb2wsXG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW5pdGlhbEZvY3VzZWREYXRlOiBhbnksXG4gICAgaW5uZXJSZWY6IGFueSxcbiAgICBkYXRlUmFuZ2VJY29uOiBub2RlLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZS5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvcGVuVG86IG9uZU9mKE9iamVjdC5rZXlzKERhdGVUaW1lUGlja2VyVmlldyQxKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lUGlja2VyVmlldyQxW2tleV07XG4gICAgfSkpLmlzUmVxdWlyZWQsXG4gICAgcmVuZGVyRGF5OiBmdW5jLFxuICAgIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIHNob3dUYWJzOiBib29sLFxuICAgIHRpbWVJY29uOiBub2RlLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50OiBvbmVPZlR5cGUoW3N0cmluZywgZnVuYywgb2JqZWN0XSlcbiAgfSA6IHZvaWQgMDtcbiAgRGF0ZVRpbWVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBmYWxzZSxcbiAgICBhbXBtOiB0cnVlLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgICBhdXRvU3VibWl0OiB0cnVlLFxuICAgIGRhdGVSYW5nZUljb246IHVuZGVmaW5lZCxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gICAgbGVmdEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICAgIHJpZ2h0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgICBzaG93VGFiczogdHJ1ZSxcbiAgICB0aW1lSWNvbjogdW5kZWZpbmVkLFxuICAgIFZpZXdDb250YWluZXJDb21wb25lbnQ6ICdkaXYnXG4gIH07XG4gIHJldHVybiBEYXRlVGltZVBpY2tlcjtcbn0oQ29tcG9uZW50KTtcbnZhciBEYXRlVGltZVBpY2tlciQxID0gd2l0aFV0aWxzKCkoRGF0ZVRpbWVQaWNrZXIpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9wZW5UbyA9IHByb3BzLm9wZW5UbyxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBwcm9wcy5pbml0aWFsRm9jdXNlZERhdGUsXG4gICAgICBzaG93VGFicyA9IHByb3BzLnNob3dUYWJzLFxuICAgICAgYXV0b1N1Ym1pdCA9IHByb3BzLmF1dG9TdWJtaXQsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gcHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBkYXRlUmFuZ2VJY29uID0gcHJvcHMuZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uID0gcHJvcHMudGltZUljb24sXG4gICAgICByZW5kZXJEYXkgPSBwcm9wcy5yZW5kZXJEYXksXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBwcm9wcy5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIG90aGVyID0gX19yZXN0KHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImF1dG9Pa1wiLCBcIm9wZW5Ub1wiLCBcIm1pbkRhdGVcIiwgXCJtYXhEYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwic2hvd1RhYnNcIiwgXCJhdXRvU3VibWl0XCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwibGVmdEFycm93SWNvblwiLCBcInJpZ2h0QXJyb3dJY29uXCIsIFwiZGF0ZVJhbmdlSWNvblwiLCBcInRpbWVJY29uXCIsIFwicmVuZGVyRGF5XCIsIFwiYW1wbVwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiXSk7IC8vIGRvIG5vdCBzaG93IHRhYnMgZm9yIHNtYWxsIHNjcmVlbnNcblxuXG4gIHZhciB0b1Nob3dUYWJzID0gc2hvd1RhYnMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmlubmVySGVpZ2h0ID4gNjY3O1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChCYXNlUGlja2VyJDEsIF9fYXNzaWduKHt9LCBwcm9wcyksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0LFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZUNsZWFyID0gX2EuaGFuZGxlQ2xlYXIsXG4gICAgICAgIGhhbmRsZURpc21pc3MgPSBfYS5oYW5kbGVEaXNtaXNzLFxuICAgICAgICBoYW5kbGVTZXRUb2RheURhdGUgPSBfYS5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdCA9IF9hLnBpY2sxMmhPcjI0aEZvcm1hdDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChNb2RhbFdyYXBwZXIsIF9fYXNzaWduKHtcbiAgICAgIHNob3dUYWJzOiB0b1Nob3dUYWJzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIG9uQ2xlYXI6IGhhbmRsZUNsZWFyLFxuICAgICAgb25EaXNtaXNzOiBoYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLmRhdGVUaW1lMTJoRm9ybWF0LCB1dGlscy5kYXRlVGltZTI0aEZvcm1hdClcbiAgICB9LCBvdGhlciksIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXIkMSwge1xuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9TdWJtaXQ6IGF1dG9TdWJtaXQsXG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgZGF0ZVJhbmdlSWNvbjogZGF0ZVJhbmdlSWNvbixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvOiBvcGVuVG8sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHNob3dUYWJzOiB0b1Nob3dUYWJzLFxuICAgICAgdGltZUljb246IHRpbWVJY29uXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlVGltZVBpY2tlck1vZGFsLnByb3BUeXBlcyA9IHtcbiAgLyoqIERhdGUtdGltZSBwaWNrZXIgdmFsdWUgKi9cbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBEYXRlIGZvcm1hdCBzdHJpbmcgZm9yIGlucHV0ICovXG4gIGZvcm1hdDogc3RyaW5nLFxuXG4gIC8qKiBDYWxsYmFjayBmaXJpbmcgd2hlbiBkYXRlIGFjY2VwdGVkIFsoZGF0ZTogRGF0ZSkgPT4gdm9pZF0gKi9cbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKiogQXV0byBhY2NlcHQgZGF0ZSBvbiBtaW51dGUgc2VsZWN0aW9uICovXG4gIGF1dG9PazogYm9vbCxcblxuICAvKiogTW92ZSB0byB0aGUgbmV4dCBwYXJ0IG9mIGRhdGUgb24gc2VsZWN0ICh5ZWFyIC0+IGRhdGUgLT4gaG91ciAtPiBtaW51dGUpICovXG4gIGF1dG9TdWJtaXQ6IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgZnV0dXJlIGRhdGVzICovXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgcGFzdCBkYXRlcyAqL1xuICBkaXNhYmxlUGFzdDogYm9vbCxcblxuICAvKiogTWluIHNlbGVjdGFibGUgZGF0ZSAqL1xuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogTWF4IHNlbGVjdGFibGUgZGF0ZSAqL1xuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogSW5pdGlhbCBmb2N1c2VkIGRhdGUgd2hlbiBjYWxlbmRhciBvcGVucywgaWYgbm8gdmFsdWUgaXMgcHJvdmlkZWQgKi9cbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogU2hvdyBkYXRlL3RpbWUgdGFicyAqL1xuICBzaG93VGFiczogYm9vbCxcblxuICAvKiogTGVmdCBhcnJvdyBpY29uICovXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG5cbiAgLyoqIFJpZ2h0IGFycm93IGljb24gKi9cbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG5cbiAgLyoqIERhdGUgdGFiIGljb24gKi9cbiAgZGF0ZVJhbmdlSWNvbjogbm9kZSxcblxuICAvKiogVGltZSB0YWIgaWNvbiAqL1xuICB0aW1lSWNvbjogbm9kZSxcblxuICAvKipcbiAgICogQ3VzdG9tIHJlbmRlcmVyIGZvciBkYXlcbiAgICogWyhkYXRlOiBEYXRlLCBub3dTZWxlY3RlZERhdGU6IERhdGUsIGlzSW5DdXJyZW50TW9udGg6IGJvb2xlYW4pID0+IFJlYWN0RWxlbWVudF1cbiAgICovXG4gIHJlbmRlckRheTogZnVuYyxcblxuICAvKiogMTJoLzI0aCB2aWV3IGZvciBob3VyIHNlbGVjdGlvbiBjbG9jayAqL1xuICBhbXBtOiBib29sLFxuXG4gIC8qKiBEaXNhYmxlIHNwZWNpZmljIGRhdGUgWyhkYXRlOiBEYXRlKSA9PiBib29sZWFuXSAqL1xuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcblxuICAvKiogRW5hYmxlIGFuaW1hdGVkIHNjcm9sbGluZyB0byBjdXJyZW50IHllYXIgKi9cbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG5cbiAgLyoqIE9wZW4gZGlyZWN0bHkgdG8gcGFydGljdWxhciB2aWV3ICovXG4gIG9wZW5Ubzogb25lT2YoWyd5ZWFyJywgJ2RhdGUnLCAnaG91cicsICdtaW51dGVzJ10pLFxuXG4gIC8qKiBFbmFibGVzIGtleWJvYXJkIGxpc3RlbmVyIGZvciBtb3ZpbmcgYmV0d2VlbiBkYXlzIGluIGNhbGVuZGFyICovXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5EYXRlVGltZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhdXRvU3VibWl0OiB0cnVlLFxuICBvcGVuVG86ICdkYXRlJyxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBzaG93VGFiczogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgZGF0ZVJhbmdlSWNvbjogJ2RhdGVfcmFuZ2UnLFxuICB0aW1lSWNvbjogJ2FjY2Vzc190aW1lJyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGFtcG06IHRydWUsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlXG59O1xudmFyIERhdGVUaW1lUGlja2VyTW9kYWwkMSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXJNb2RhbCwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBEYXRlVGltZVBpY2tlcklubGluZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9wZW5UbyA9IHByb3BzLm9wZW5UbyxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBwcm9wcy5pbml0aWFsRm9jdXNlZERhdGUsXG4gICAgICBzaG93VGFicyA9IHByb3BzLnNob3dUYWJzLFxuICAgICAgYXV0b1N1Ym1pdCA9IHByb3BzLmF1dG9TdWJtaXQsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gcHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBkYXRlUmFuZ2VJY29uID0gcHJvcHMuZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uID0gcHJvcHMudGltZUljb24sXG4gICAgICByZW5kZXJEYXkgPSBwcm9wcy5yZW5kZXJEYXksXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBwcm9wcy5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIG90aGVyID0gX19yZXN0KHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImF1dG9Pa1wiLCBcIm9wZW5Ub1wiLCBcIm1pbkRhdGVcIiwgXCJtYXhEYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwic2hvd1RhYnNcIiwgXCJhdXRvU3VibWl0XCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwibGVmdEFycm93SWNvblwiLCBcInJpZ2h0QXJyb3dJY29uXCIsIFwiZGF0ZVJhbmdlSWNvblwiLCBcInRpbWVJY29uXCIsIFwicmVuZGVyRGF5XCIsIFwiYW1wbVwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiXSk7XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQmFzZVBpY2tlciQxLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBhdXRvT2s6IHRydWVcbiAgfSksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChJbmxpbmVXcmFwcGVyJDEsIF9fYXNzaWduKHtcbiAgICAgIGlubmVyUmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGhhbmRsZUFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgZm9ybWF0OiBwaWNrMTJoT3IyNGhGb3JtYXQodXRpbHMuZGF0ZVRpbWUxMmhGb3JtYXQsIHV0aWxzLmRhdGVUaW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlciQxLCB7XG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgYXV0b1N1Ym1pdDogYXV0b1N1Ym1pdCxcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBkYXRlUmFuZ2VJY29uOiBkYXRlUmFuZ2VJY29uLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBvcGVuVG86IG9wZW5UbyxcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlLFxuICAgICAgc2hvd1RhYnM6IHNob3dUYWJzLFxuICAgICAgdGltZUljb246IHRpbWVJY29uXG4gICAgfSkpO1xuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlVGltZVBpY2tlcklubGluZS5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgZm9ybWF0OiBzdHJpbmcsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGF1dG9PazogYm9vbCxcbiAgYXV0b1N1Ym1pdDogYm9vbCxcbiAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgc2hvd1RhYnM6IGJvb2wsXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICBkYXRlUmFuZ2VJY29uOiBub2RlLFxuICB0aW1lSWNvbjogbm9kZSxcbiAgcmVuZGVyRGF5OiBmdW5jLFxuICBhbXBtOiBib29sLFxuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gIG9wZW5Ubzogb25lT2YoWyd5ZWFyJywgJ2RhdGUnLCAnaG91cicsICdtaW51dGVzJ10pLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuRGF0ZVRpbWVQaWNrZXJJbmxpbmUuZGVmYXVsdFByb3BzID0ge1xuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIGF1dG9PazogZmFsc2UsXG4gIGF1dG9TdWJtaXQ6IHRydWUsXG4gIG9wZW5UbzogJ2RhdGUnLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiB1bmRlZmluZWQsXG4gIHNob3dUYWJzOiB0cnVlLFxuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICBkYXRlUmFuZ2VJY29uOiAnZGF0ZV9yYW5nZScsXG4gIHRpbWVJY29uOiAnYWNjZXNzX3RpbWUnLFxuICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgYW1wbTogdHJ1ZSxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IHRydWVcbn07XG52YXIgRGF0ZVRpbWVQaWNrZXJJbmxpbmUkMSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXJJbmxpbmUsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG5leHBvcnQgeyBEYXRlUGlja2VyTW9kYWwkMSBhcyBEYXRlUGlja2VyLCBEYXRlUGlja2VySW5saW5lJDEgYXMgSW5saW5lRGF0ZVBpY2tlciwgVGltZVBpY2tlck1vZGFsJDEgYXMgVGltZVBpY2tlciwgVGltZVBpY2tlcklubGluZSQxIGFzIElubGluZVRpbWVQaWNrZXIsIERhdGVUaW1lUGlja2VyTW9kYWwkMSBhcyBEYXRlVGltZVBpY2tlciwgRGF0ZVRpbWVQaWNrZXJJbmxpbmUkMSBhcyBJbmxpbmVEYXRlVGltZVBpY2tlciwgQmFzZVBpY2tlciQxIGFzIEJhc2VQaWNrZXIsIENhbGVuZGFyJDEgYXMgQ2FsZW5kYXIsIERheSQxIGFzIERheSwgVGltZVBpY2tlclZpZXckMSBhcyBUaW1lUGlja2VyVmlldywgQ2xvY2skMSBhcyBDbG9jaywgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGVyaWFsLXVpLXBpY2tlcnMuZXNtLmpzLm1hcFxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbWF0ZXJpYWwtdWktcGlja2Vycy9kaXN0L21hdGVyaWFsLXVpLXBpY2tlcnMuZXNtLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDc4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IFBhcGVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1BhcGVyJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaGVja2JveCc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NlbGVjdCc7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9NZW51SXRlbSc7XHJcbmltcG9ydCBJbnZvaWNlVGFibGUgZnJvbSAnLi9JbnZvaWNlVGFibGUnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbmFja2Jhcic7XHJcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b24nO1xyXG5pbXBvcnQgQ2xvc2VJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcbmltcG9ydCBDbGVhciBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xlYXInO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICAnLi4vdXRpbHMvYmFzZVN0eWxlJ1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICAgIGR1ZURldGFpbHNSb290OiB7XHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjBcIixcclxuICAgICAgICBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCJcclxuICAgIH0sXHJcbiAgICBwb3N0Q2FsbER1ZURldGFpbHNSb290OiB7XHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjBcIixcclxuICAgICAgICBoZWlnaHQ6IFwiNjB2aFwiLFxyXG4gICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG5cclxuICAgIH0sXHJcbiAgICBjaGVja2VkSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIHdpZHRoOiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIixcclxuICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0RmlsdGVyOiB7XHJcbiAgICAgICAgbWluV2lkdGg6IDEyMCxcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW0gIWltcG9ydGFudFwiLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiMS43MTh2d1wiLFxyXG4gICAgfSxcclxuICAgIGVtYWlsSWNvbjoge1xyXG4gICAgICAgIGhlaWdodDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcclxuICAgIH0sXHJcbiAgICBlbmFibGVkRW1haWxJY29uOiB7XHJcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxyXG4gICAgfSxcclxuICAgIGRpc2FibGVkRW1haWxJY29uOiB7XHJcbiAgICAgICAgb3BhY2l0eTogXCIuNVwiXHJcbiAgICB9LFxyXG4gICAgYmxhY2tUZXh0OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0TWVudToge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtICFpbXBvcnRhbnRcIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4yKVwiLFxyXG4gICAgfSxcclxuICAgIGNsZWFyU2VsZWN0aW9uczoge1xyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIixcclxuICAgICAgICBvcGFjaXR5OiAwLjY1LFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgY2xlYXJTZWxlY3Rpb25zUGFyZW50OiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgZm9udFNpemU6IFwiMXJlbVwiLFxyXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIi40NXJlbVwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0SWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHk6IC42XHJcbiAgICB9LFxyXG4gICAgc2VsZWN0TGluZVBvc3RDYWxsOiB7XHJcbiAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjNTk2QTc1ICFpbXBvcnRhbnRcIixcclxuICAgICAgICBwYWRkaW5nOiBcIi43dmggMFwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0TGluZUluQ2FsbDoge1xyXG4gICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXHJcbiAgICAgICAgbWFyZ2luVG9wOiBcIjIuMDM3dmhcIlxyXG4gICAgfSxcclxuICAgIGludm9pY2VCdWNrZXRDaGVja2JveDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjMuMTI1dndcIlxyXG4gICAgfSxcclxuICAgIGNoZWNrQm94Um9vdDoge1xyXG4gICAgICAgIHBhZGRpbmc6IFwiMFwiXHJcbiAgICB9LFxyXG4gICAgY2xlYXJTZWxlY3Rpb25HcmlkOiB7XHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIixcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgaW52b2ljZXM6IFtdLFxyXG4gICAgZmlsdGVySW52b2ljZXM6IGZ1bmN0aW9uKCkge30sXHJcbiAgICBidWNrZXROYW1lczogW10sXHJcbn07XHJcblxyXG5jbGFzcyBEdWVEZXRhaWxzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgICAgIHRoaXMudG90YWxSb3dzID0gMDtcclxuICAgICAgICB2YXIgbWFwID0ge31cclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHByb3BzLmludm9pY2VzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxSb3dzID0gdGhpcy50b3RhbFJvd3MgKyBwcm9wcy5pbnZvaWNlc1tqXS5sZW5ndGhcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5pbnZvaWNlc1tqXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wcy5jb3JyZWN0SW52b2ljZXNNYXApXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwW3Byb3BzLmludm9pY2VzW2pdW2ldLmlkXSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW52b2ljZXNbal1baV0uaWQgaW4gcHJvcHMuY29ycmVjdEludm9pY2VzTWFwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBbcHJvcHMuaW52b2ljZXNbal1baV0uaWRdID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwW3Byb3BzLmludm9pY2VzW2pdW2ldLmlkXSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnBvc3RDYWxsID09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRTZWxlY3RlZEludm9pY2VzKG1hcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXHJcbiAgICAgICAgICAgIGludm9pY2VUeXBlOiBcIkFsbFwiLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzOiBtYXAsXHJcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgZ2xvYmFsQ2hlY2s6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc0J1bGtFbWFpbDogdHJ1ZSxcclxuICAgICAgICAgICAgY29sbGVjdG9yOiB0aGlzLnByb3BzLmNvbGxlY3RvcixcclxuICAgICAgICAgICAgY3VzdG9tZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIsXHJcbiAgICAgICAgICAgIHNuYWNrQmFyT3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNuYWNrQmFyTWVzc2FnZTogXCJcIixcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucHJvcHMuZmlsdGVySW52b2ljZXMoXCJBbGxcIilcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLCBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMgfSwgKCkgPT4geyB0aGlzLnNldENoZWNrKHByb3BzLmludm9pY2VzLCB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpIH0pXHJcbiAgICAgICAgLy8gdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcyx0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q2hlY2sgPSAoaW52b2ljZXMsIHNlbGVjdGVkSW52b2ljZXMpID0+IHtcclxuXHJcbiAgICAgICAgdmFyIGFsbEVtYWlsc0ZsYWcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIHRlbXAgPSBpbnZvaWNlc1xyXG5cclxuICAgICAgICB2YXIgZmxhZyA9IGZhbHNlXHJcbiAgICAgICAgdmFyIHN1bSA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHN1bSA9IHN1bSArIHRlbXBbal0ubGVuZ3RoO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2VuYWJsZSBvciBkaXNhYmxlIGVtYWlsIGljb24gYmFzZWQgb24gc2VsZWN0aW9uXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcFtqXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2pdW2ldLmlkXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsRW1haWxzRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzQnVsa0VtYWlsOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFhbGxFbWFpbHNGbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0J1bGtFbWFpbDogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN1bSA9PSAwKVxyXG4gICAgICAgICAgICBmbGFnID0gdHJ1ZVxyXG5cclxuICAgICAgICBpZiAoZmxhZyA9PSB0cnVlKVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZ2xvYmFsQ2hlY2s6IGZhbHNlIH0pXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZ2xvYmFsQ2hlY2s6IHRydWUgfSlcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUdsb2JhbE1hcCA9IChkYXRhLCBmbGFnLCBjYWxsRnJvbUNoaWxkKSA9PiB7XHJcbiAgICAgICAgdmFyIHRlbXA7XHJcbiAgICAgICAgc3dpdGNoIChmbGFnKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhZGRcIjpcclxuICAgICAgICAgICAgICAgIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNcclxuICAgICAgICAgICAgICAgIHRlbXBbZGF0YV0gPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcclxuICAgICAgICAgICAgICAgIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNcclxuICAgICAgICAgICAgICAgIHRlbXBbZGF0YV0gPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcClcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYWRkQXJyYXlcIjpcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsRnJvbUNoaWxkID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtpXS5pZF0gPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcInJlbW92ZUFycmF5XCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbEZyb21DaGlsZCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbaV0uaWRdID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmxlbmd0aDsgaisrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFbal0ubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbal1baV0uaWRdID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucG9zdENhbGwgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNldFNlbGVjdGVkSW52b2ljZXModGVtcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5nbG9iYWxDaGVjayA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR2xvYmFsTWFwKHRoaXMuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIiwgZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdsb2JhbE1hcCh0aGlzLnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIsIGZhbHNlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsZWFyU2VsZWN0aW9ucyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUdsb2JhbE1hcCh0aGlzLnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIsIGZhbHNlKVxyXG4gICAgfVxyXG4gICAgZmluZFR5cGUgPSAoaW52b2ljZSkgPT4ge1xyXG4gICAgICAgIGlmIChpbnZvaWNlLnAycERlbGlucXVlbnQpXHJcbiAgICAgICAgICAgIHJldHVybiBcIlByZWRpY3RlZCBEZWxpbnFtZW50XCJcclxuICAgICAgICBpZiAoaW52b2ljZS5wMnBVcGNvbWluZylcclxuICAgICAgICAgICAgcmV0dXJuIFwiVXBjb21pbmcgUDJQXCJcclxuICAgICAgICBpZiAoaW52b2ljZS5wMnBCcm9rZW4pXHJcbiAgICAgICAgICAgIHJldHVybiBcIkJyb2tlbiBQMlBcIlxyXG4gICAgICAgIHJldHVybiBcIkRpc3B1dGVcIlxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUZpbHRlckNoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgICAgICAvLyB0aGlzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxyXG4gICAgICAgIC8vIHZhciBpbnZvaWNlVHlwZSA9IGV2ZW50LnRhcmdldC52YWx1ZVxyXG4gICAgICAgIC8vIGlmIChpbnZvaWNlVHlwZSA9PSBcIkFsbFwiKVxyXG4gICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IHRoaXMuc3RhdGUuYWxsSW52b2ljZXMgfSwoKSA9PiB7dGhpcy5zZXRDaGVjaygpfSk7XHJcbiAgICAgICAgLy8gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgIGxldCBpbnZvaWNlcyA9IHRoaXMuc3RhdGUuYWxsSW52b2ljZXM7XHJcbiAgICAgICAgLy8gICAgIHZhciBmaWx0ZXJlZEludm9pY2VzID0gW11cclxuICAgICAgICAvLyAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZvaWNlcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAvLyAgICAgICAgIGZpbHRlcmVkSW52b2ljZXNbaV0gPSBpbnZvaWNlc1tpXS5maWx0ZXIoaW52b2ljZSA9PiB0aGlzLmZpbmRUeXBlKGludm9pY2UpID09IGludm9pY2VUeXBlKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0sKCkgPT4ge3RoaXMuc2V0Q2hlY2soKX0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxyXG4gICAgICAgIHRoaXMucHJvcHMuZmlsdGVySW52b2ljZXMoZXZlbnQudGFyZ2V0LnZhbHVlKVxyXG4gICAgfVxyXG5cclxuICAgIHByZXZlbnREZWZhdWx0ID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcclxuICAgIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyTWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cclxuICAgIGNsb3NlU25hY2tiYXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2VuZCBlbWFpbCBmb3IgbW9yZSB0aGFuIG9uZSBpbnZvaWNlXHJcbiAgICBzZW5kQnVsa0VtYWlsID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciB0ZW1wID0gdGhpcy5zdGF0ZS5pbnZvaWNlcztcclxuICAgICAgICB2YXIgZG9jdW1lbnROdW1iZXJzID0gW107XHJcblxyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGNoZWNrZWQgaW52b2ljZXMgSWRcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlbXAubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wW2pdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbal1baV0uaWRdID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudE51bWJlcnMucHVzaCh0ZW1wW2pdW2ldLmlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcclxuICAgICAgICBsZXQgcmVxRW1haWxPYmogPSB7XHJcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXHJcbiAgICAgICAgICAgIGRvY3VtZW50SWRzOiBkb2N1bWVudE51bWJlcnMsXHJcbiAgICAgICAgICAgIGZyb206IHRoaXMuc3RhdGUuY29sbGVjdG9yLmVtYWlsSWQsICAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXHJcbiAgICAgICAgICAgIHRvOiB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQsICAvL2dldCBmcm9tIENvbnRhY3Qgb2JqZWN0LlxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIE1ha2luZyBhIHBvc3QgY2FsbCBmb3Igc2VuZGluZyBlbWFpbHNcclxuICAgICAgICBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2NvcnJlc3BvbmRlbmNlL2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopXHJcbiAgICAgICAgICAgIC8vIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vaW52b2ljZWNvcHlgLCByZXFFbWFpbE9iaikgICAgLy8gbW9jayBzZXJ2ZXIgYXBpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFcnJvciBpbiBzZW5kaW5nIGVtYWlsXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RlZEludm9pY2VzTGVuZ3RoID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZEludm9pY2VzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgIGxldCBzZWxlY3RlZEludm9pY2VzQ291bnQgPSAwXHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzZWxlY3RlZEludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzW2ldID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXNDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzQ291bnQgPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnKCcgKyBzZWxlY3RlZEludm9pY2VzQ291bnQgKyAnKSc7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgdmFyIGRheXMgPSB0aGlzLnByb3BzLmJ1Y2tldE5hbWVzXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFBhcGVyIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5wb3N0Q2FsbCA/IGNsYXNzZXMucG9zdENhbGxEdWVEZXRhaWxzUm9vdCA6IGNsYXNzZXMuZHVlRGV0YWlsc1Jvb3R9IGVsZXZhdGlvbj17MH0+XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBjbGFzc05hbWU9e3RoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnNlbGVjdExpbmVQb3N0Q2FsbCA6IGNsYXNzZXMuc2VsZWN0TGluZUluQ2FsbH0gPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VCdWNrZXRDaGVja2JveH0gYWxpZ249XCJjZW50ZXJcIj48Q2hlY2tib3ggY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLmNoZWNrQm94Um9vdCB9fSBpY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2Zyd9IC8+fSBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59IGNoZWNrZWQ9e3RoaXMuc3RhdGUuZ2xvYmFsQ2hlY2t9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2hhbmdlfSAvPjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmJsYWNrVGV4dH0+U2VsZWN0IEFsbDwvc3Bhbj48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MX0gYWxpZ249XCJyaWdodFwiPjxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41IH19PlZpZXcgJm5ic3A7OjwvVHlwb2dyYXBoeT48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17NH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnNlbGVjdEZpbHRlcil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pbnZvaWNlVHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUZpbHRlckNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgaWNvbjogY2xhc3Nlcy5zZWxlY3RJY29uLCBzZWxlY3RNZW51OiBjbGFzc2VzLnNlbGVjdE1lbnUgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnVQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImludm9pY2VUeXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydBbGwnfT5BbGw8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydCcm9rZW4gUDJQJ30+QnJva2VuIFAyUDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J1VwY29taW5nIFAyUCd9PlVwY29taW5nIFAyUDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J0Rpc3B1dGUnfT5EaXNwdXRlPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnUHJlZGljdGVkIERlbGlucXVlbnQnfT5QcmVkaWN0ZWQgRGVsaW5xdWVudDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5wb3N0Q2FsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs1fSBhbGlnbj1cInJpZ2h0XCIgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuY2xlYXJTZWxlY3Rpb25HcmlkLGNsYXNzZXMuY2VudGVyRmxleEJveCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLmNsZWFyU2VsZWN0aW9uc30gY2xhc3NOYW1lPXtjbGFzc2VzLmNsZWFyU2VsZWN0aW9uc1BhcmVudH0+PENsZWFyIHN0eWxlPXt7IGZvbnRTaXplOiBcIjEuMXJlbVwiLCBvcGFjaXR5OiAwLjY1IH19IC8+IDxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5jbGVhclNlbGVjdGlvbnN9PkNsZWFyIFNlbGVjdGlvbnMge3RoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCgpfTwvc3Bhbj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB7IXRoaXMucHJvcHMucG9zdENhbGwgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17NX0gYWxpZ249XCJyaWdodFwiIHN0eWxlPXt7IHBhZGRpbmdSaWdodDogXCIwdndcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgKHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhdGhpcy5zdGF0ZS5pc0J1bGtFbWFpbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IGltZyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5lbWFpbEljb24sIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbil9IG9uQ2xpY2s9e3RoaXMuc2VuZEJ1bGtFbWFpbH0gc3JjPXsnL3Rvdm8vc3RhdGljL0VtYWlsLnN2Zyd9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhdGhpcy5zdGF0ZS5pc0J1bGtFbWFpbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IGltZyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5lbWFpbEljb24sIGNsYXNzZXMuZGlzYWJsZWRFbWFpbEljb24pfSBzcmM9eycvdG92by9zdGF0aWMvRW1haWwuc3ZnJ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmludm9pY2VzLm1hcCgoYnVja2V0SW52b2ljZXMsIGlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEludm9pY2VUYWJsZSBlbWFpbE9mQ2FsbGVkPXt0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWR9IHBvc3RDYWxsPXt0aGlzLnByb3BzLnBvc3RDYWxsfSBjb2xsZWN0b3I9e3RoaXMucHJvcHMuY29sbGVjdG9yfSBjdXN0b21lcj17dGhpcy5wcm9wcy5jdXN0b21lcn0gc2VsZWN0ZWRJbnZvaWNlcz17dGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzfSBpbnZvaWNlcz17YnVja2V0SW52b2ljZXN9IGluZGl2aWR1YWw9e2ZhbHNlfSBkYXlzPXtkYXlzW2lkXX0gaW52b2ljZVR5cGU9e3RoaXMuc3RhdGUuaW52b2ljZVR5cGV9IHVwZGF0ZUdsb2JhbE1hcD17dGhpcy51cGRhdGVHbG9iYWxNYXB9PjwvSW52b2ljZVRhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPFNuYWNrYmFyXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yT3JpZ2luPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiAnYm90dG9tJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5zbmFja0Jhck9wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbj17MjAwMH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgQ29udGVudFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogJ21lc3NhZ2UtaWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17PHNwYW4gaWQ9XCJtZXNzYWdlLWlkXCI+e3RoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlfTwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uPXtbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJjbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jbG9zZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+LFxyXG4gICAgICAgICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L1BhcGVyPlxyXG5cclxuICAgICAgICApO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuRHVlRGV0YWlscy5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICBpbnZvaWNlczogUHJvcFR5cGVzLmFycmF5LFxyXG4gICAgZmlsdGVySW52b2ljZXM6IFByb3BUeXBlcy5mdW5jXHJcbn07XHJcblxyXG5EdWVEZXRhaWxzLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcclxuXHJcbmNvbnN0IGNvbWJpbmVkU3R5bGUgPSBjb21iaW5lU3R5bGVzKHN0eWxlcyxiYXNlU3R5bGUpXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoRHVlRGV0YWlscyk7XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9EdWVEZXRhaWwuanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IEV4cGFuc2lvblBhbmVsIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0V4cGFuc2lvblBhbmVsJztcclxuaW1wb3J0IEV4cGFuc2lvblBhbmVsU3VtbWFyeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbFN1bW1hcnknO1xyXG5pbXBvcnQgRXhwYW5zaW9uUGFuZWxEZXRhaWxzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0V4cGFuc2lvblBhbmVsRGV0YWlscyc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XHJcbmltcG9ydCB7IGZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgRXhwYW5kTW9yZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0V4cGFuZE1vcmUnO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2hlY2tib3gnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcclxuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xvc2UnXHJcbmltcG9ydCBEb25lSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRG9uZSdcclxuaW1wb3J0IFNlbGVjdCBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvU2VsZWN0XCI7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvTWVudUl0ZW1cIjtcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdjb25maWcnO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgU25hY2tiYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU25hY2tiYXInO1xyXG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uQnV0dG9uJztcclxuaW1wb3J0IFRvb2x0aXAgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVG9vbHRpcCc7XHJcbmltcG9ydCB7IEV4cGFuZExlc3MgfSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMnO1xyXG4vLyBpbXBvcnQgTGlzdE9mVGlsZSBmcm9tICcuL0xpc3RPZlRpbGUnO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICcuLi91dGlscy9iYXNlU3R5bGUnXHJcbmltcG9ydCBHcmlkTGlzdCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkTGlzdCc7XHJcbmltcG9ydCBHcmlkTGlzdFRpbGUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3RUaWxlJztcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgICByb290OiB7XHJcbiAgICAgICAgcGFkZGluZzogXCIwXCJcclxuICAgIH0sXHJcbiAgICBwb3N0Q2FsbFJvb3Q6IHtcclxuICAgICAgICBwYWRkaW5nOiBcIjBcIixcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiLjh2aFwiXHJcbiAgICB9LFxyXG4gICAgaWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICB3aWR0aDogXCIxLjI1dndcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMi4yMnZoXCIsXHJcbiAgICAgICAgb3BhY2l0eTogXCIuNlwiXHJcblxyXG4gICAgfSxcclxuICAgIGNoZWNrZWRJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgekluZGV4OiBcIjNcIixcclxuICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiLFxyXG4gICAgICAgIHdpZHRoOiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIlxyXG4gICAgfSxcclxuICAgIHNlbGVjdEZpbHRlcjoge1xyXG4gICAgICAgIG1pbldpZHRoOiAxMjAsXHJcbiAgICAgICAgbWFyZ2luTGVmdDogXCIxLjcxOHZ3XCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogJzAgLTJweCAtMnB4IC0ycHggIWltcG9ydGFudCcsXHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdERpdjoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxyXG4gICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXHJcbiAgICB9LFxyXG4gICAgc2hpZnQ6IHtcclxuICAgICAgICBtYXJnaW46IFwiMXJlbSAxcmVtIDAgMXJlbVwiXHJcbiAgICB9LFxyXG4gICAgcHJpbWFyeUNvbG9yOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi45NXJlbVwiLFxyXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgIH0sXHJcbiAgICBncmV5VGV4dDoge1xyXG4gICAgICAgIG9wYWNpdHk6IFwiLjY1XCJcclxuICAgIH0sXHJcbiAgICBidWNrZXRIZWFkZXJUZXh0OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXHJcbiAgICB9LFxyXG4gICAgY2hhbmdlUm93QmFja2dyb3VuZDoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjNTg2OTczXCIsXHJcbiAgICB9LFxyXG4gICAgZGVmYXVsdEJhY2tncm91bmQ6IHtcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjMzk1QzczICFpbXBvcnRhbnRcIixcclxuICAgICAgICBoZWlnaHQ6IFwiNS42NXZoXCJcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlSGVhZGVyVGV4dDoge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHk6IFwiLjVcIlxyXG4gICAgfSxcclxuICAgIHBhbmVsU3VtbWFyeToge1xyXG4gICAgICAgIHBhZGRpbmc6IFwiMFwiLCBtYXJnaW46IFwiMFwiXHJcbiAgICB9LFxyXG4gICAgY29udGVudDoge1xyXG4gICAgICAgIG1hcmdpbjogXCIwICFpbXBvcnRhbnRcIixcclxuICAgIH0sXHJcbiAgICBleHBhbmRJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBpbmRpdmlkdWFsSW52b2ljZUhlYWRlcjoge1xyXG4gICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIyLjAzN3ZoIDFyZW0gMCAxcmVtXCJcclxuICAgIH0sXHJcbiAgICBpY29uU2l6ZToge1xyXG4gICAgICAgIGhlaWdodDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcclxuICAgIH0sXHJcbiAgICBlbmFibGVkRW1haWxJY29uOiB7XHJcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxyXG4gICAgfSxcclxuICAgIGRpc2FibGVkRW1haWxJY29uOiB7XHJcbiAgICAgICAgb3BhY2l0eTogXCIuNVwiXHJcbiAgICB9LFxyXG4gICAgc3VtbWFyeUV4cGFuZGVkOiB7XHJcbiAgICAgICAgbWluSGVpZ2h0OiBcIjUuNTV2aCAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICBkaXNhYmxlVGltZWxpbmU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiMi4ycmVtXCIsIG1hcmdpbkxlZnQ6IFwiLjJyZW1cIlxyXG4gICAgfSxcclxuICAgIHRpbWVsaW5lOiB7XHJcbiAgICAgICAgYm9yZGVyTGVmdDogXCIxcHggc29saWQgIzU5NkE3NVwiLFxyXG4gICAgfSxcclxuICAgIGRpc2FibGVUaW1lbGluZToge1xyXG5cclxuICAgIH0sXHJcbiAgICBwb3N0Q2FsbFRpbWVsaW5lOiB7XHJcbiAgICAgICAgYm9yZGVyTGVmdDogXCIxcHggc29saWQgIzM5NUM3M1wiLFxyXG4gICAgfSxcclxuICAgIHNlbGVjdEljb246IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eTogLjZcclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5Q29udGVudDoge1xyXG4gICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAgIWltcG9ydGFudFwiLFxyXG4gICAgfSxcclxuICAgIGludm9pY2VOdW1iZXJDb2x1bW46IHtcclxuICAgICAgICB3aWR0aDogXCIxNCVcIlxyXG4gICAgfSxcclxuICAgIGFtb3VudENvbHVtbjoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEyJVwiXHJcbiAgICB9LFxyXG4gICAgYnJva2VuQ29sdW1uOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTMuNSVcIlxyXG4gICAgfSxcclxuICAgIHVwY29taW5nQ29sdW1uOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTQlXCJcclxuICAgIH0sXHJcbiAgICBkaXNwdXRlQ29sdW1uOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTMlXCJcclxuICAgIH0sXHJcbiAgICBwcmVkaWN0ZWRDb2x1bW46IHtcclxuICAgICAgICB3aWR0aDogXCIxOCVcIlxyXG4gICAgfSxcclxuICAgIGNoZWNrQm94Q29sdW1uOiB7XHJcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgICAgIG1pbldpZHRoOiBcIjMuMTI1dndcIixcclxuICAgIH0sXHJcbiAgICBib3JkZXJCb3R0b206IHtcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjMzk1QzczICFpbXBvcnRhbnRcIixcclxuICAgIH0sXHJcbiAgICBlbWFpbENvbHVtbjoge1xyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCJcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlQnVja2V0Q2hlY2tib3g6IHtcclxuICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjUuNTV2aFwiLFxyXG4gICAgfSxcclxuICAgIHZlcnRpY2FsVGltZWxpbmU6IHtcclxuICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCIsXHJcbiAgICB9LFxyXG4gICAgY29ubmVjdG9yOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjUuNTV2aFwiXHJcbiAgICB9LFxyXG4gICAgY2hlY2tCb3hSb290OiB7XHJcbiAgICAgICAgcGFkZGluZzogXCIwXCJcclxuICAgIH0sXHJcbiAgICBpbmRpdmlkdWFsQnVja2V0Q2hlY2tib3g6IHtcclxuICAgICAgICBtaW5XaWR0aDogXCIzLjEyNXZ3XCJcclxuICAgIH0sXHJcbiAgICBzZWxlY3RNZW51OiB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW0gIWltcG9ydGFudFwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjIpXCIsXHJcbiAgICB9LFxyXG4gICAgZ3JpZExpc3RUaWxlOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcImF1dG8gIWltcG9ydGFudFwiXHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcblxyXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBpbnZvaWNlczogW10sXHJcbiAgICBzZWxlY3RlZEludm9pY2VzOiBbXSxcclxuICAgIGZpbHRlckludm9pY2VzOiBmdW5jdGlvbiAoKSB7IH1cclxufTtcclxuXHJcbmNsYXNzIEludm9pY2VUYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpXHJcbiAgICAgICAgdmFyIGV4cGFuZGVkO1xyXG4gICAgICAgIHRoaXMudG90YWxBbW91bnQgPSAwO1xyXG4gICAgICAgIHZhciBtYXAgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxBbW91bnQgPSB0aGlzLnRvdGFsQW1vdW50ICsgcHJvcHMuaW52b2ljZXNbaV0uY3VycmVudE9wZW5BbW91bnQ7XHJcbiAgICAgICAgICAgIG1hcFtwcm9wcy5pbnZvaWNlc1tpXS5pZF0gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNoZWNrZWRJbnZvaWNlcztcclxuICAgICAgICB2YXIgaW52b2ljZVR5cGU7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5kaXZpZHVhbCkge1xyXG4gICAgICAgICAgICBjaGVja2VkSW52b2ljZXMgPSBtYXA7XHJcbiAgICAgICAgICAgIGludm9pY2VUeXBlID0gXCJBbGxcIjtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJJbnZvaWNlcyhcIkFsbFwiKTtcclxuICAgICAgICAgICAgZXhwYW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2hlY2tlZEludm9pY2VzID0gdGhpcy5wcm9wcy5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgICAgICBpbnZvaWNlVHlwZSA9IHByb3BzLmludm9pY2VUeXBlO1xyXG4gICAgICAgICAgICBleHBhbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgY2hlY2tlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzOiBjaGVja2VkSW52b2ljZXMsXHJcbiAgICAgICAgICAgIGRheXM6IHByb3BzLmRheXMsXHJcbiAgICAgICAgICAgIHRvdGFsQW1vdW50OiB0aGlzLnRvdGFsQW1vdW50LFxyXG4gICAgICAgICAgICBpbnZvaWNlVHlwZTogaW52b2ljZVR5cGUsXHJcbiAgICAgICAgICAgIGV4cGFuZGVkOiBleHBhbmRlZCxcclxuICAgICAgICAgICAgaXNCdWxrRW1haWw6IHRydWUsXHJcbiAgICAgICAgICAgIGN1c3RvbWVyOiB0aGlzLnByb3BzLmN1c3RvbWVyLFxyXG4gICAgICAgICAgICBjb2xsZWN0b3I6IHRoaXMucHJvcHMuY29sbGVjdG9yLFxyXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcykge1xyXG4gICAgICAgIC8vIHRoaXMuc2V0Q2hlY2soKSAgICBcclxuICAgICAgICB2YXIgc3VtID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHN1bSA9IHN1bSArIHByb3BzLmludm9pY2VzW2ldLmN1cnJlbnRPcGVuQW1vdW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvcHMuaW5kaXZpZHVhbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG90YWxBbW91bnQ6IHN1bSwgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLCBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsIHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG90YWxBbW91bnQ6IHN1bSwgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLCBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIHNlbGVjdGVkSW52b2ljZXM6IHByb3BzLnNlbGVjdGVkSW52b2ljZXMgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsIHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUZpbHRlckNoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxyXG4gICAgICAgIHRoaXMucHJvcHMuZmlsdGVySW52b2ljZXMoZXZlbnQudGFyZ2V0LnZhbHVlKVxyXG4gICAgfTtcclxuXHJcbiAgICB0b2dnbGVFeHBhbmQgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZXhwYW5kZWQgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiBmYWxzZSB9KVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiB0cnVlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYWRkSW52b2ljZSA9IChpZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhciBpZCA9IGV2ZW50LnRhcmdldC5pZDtcclxuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJJRCBpc1wiLGlkKVxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaWRdID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmluZGl2aWR1YWwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsTWFwKGlkLCBcImFkZFwiKVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcChpZCwgXCJhZGRcIiwgdHJ1ZSlcclxuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5kaXZpZHVhbClcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTG9jYWxNYXAoaWQsIFwicmVtb3ZlXCIpXHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXBkYXRlR2xvYmFsTWFwKGlkLCBcInJlbW92ZVwiLCB0cnVlKVxyXG4gICAgICAgICAgICAvLyB0aGlzLnNldENoZWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrQWxsSW52b2ljZXMgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jaGVja2VkID09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGZhbHNlIH0pXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmluZGl2aWR1YWwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsTWFwKHRoaXMuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIilcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVHbG9iYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJyZW1vdmVBcnJheVwiLCB0cnVlKVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjaGVja2VkOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmluZGl2aWR1YWwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsTWFwKHRoaXMuc3RhdGUuaW52b2ljZXMsIFwiYWRkQXJyYXlcIilcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVHbG9iYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJhZGRBcnJheVwiLCB0cnVlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1dpbGwgY2hlY2sgYW5kIG1hcCBhbGwgaW52b2ljZXMgYXJlIHNlbGVjdGVkIG9yIG5vdFxyXG4gICAgdXBkYXRlTG9jYWxNYXAgPSAoZGF0YSwgZmxhZykgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xyXG4gICAgICAgICAgICBjYXNlIFwiYWRkXCI6XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICAgICAgICAgIHRlbXBbZGF0YV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgICAgICAgICAgdGVtcFtkYXRhXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhZGRBcnJheVwiOlxyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbaV0uaWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlQXJyYXlcIjpcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRDaGVjayA9ICgpID0+IHtcclxuICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuaW52b2ljZXM7XHJcbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgYWxsRW1haWxzRmxhZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvL2VuYWJsZSBvciBkaXNhYmxlIGVtYWlsIGljb24gYmFzZWQgb24gc2VsZWN0aW9uXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXS5pZF0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgYWxsRW1haWxzRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhbGxFbWFpbHNGbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0J1bGtFbWFpbDogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtpXS5pZF0gPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRlbXAubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAoZmxhZyA9PSB0cnVlKVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogZmFsc2UgfSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcclxuICAgIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyTWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cclxuICAgIGNsb3NlU25hY2tiYXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2VuZCBlbWFpbCBmb3IgaW5kaXZpZHVhbCBpbnZvaWNlXHJcbiAgICBzZW5kRW1haWwgPSAoaW52b2ljZUlkKSA9PiB7XHJcbiAgICAgICAgLy9DcmVhdGluZyByZXF1ZXN0IG9iamVjdCBcclxuICAgICAgICBsZXQgcmVxRW1haWxPYmogPSB7XHJcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXHJcbiAgICAgICAgICAgIGRvY3VtZW50SWRzOiBbaW52b2ljZUlkXSxcclxuICAgICAgICAgICAgZnJvbTogdGhpcy5zdGF0ZS5jb2xsZWN0b3IuZW1haWxJZCwgIC8vZ2V0IGZyb20gY29sbGVjdG9yIHByb2ZpbGVcclxuICAgICAgICAgICAgdG86IHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCwgIC8vZ2V0IGZyb20gQ29udGFjdCBvYmplY3QuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9NYWtpbmcgcG9zdCBjYWxsIGZvciBzZW5kaW5nIEVtYWlsIGZvciB0aGlzIGludm9pY2VcclxuICAgICAgICBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2NvcnJlc3BvbmRlbmNlL2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopXHJcbiAgICAgICAgICAgIC8vIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHlgLCByZXFFbWFpbE9iaikgIC8vIG1vY2sgc2VydmVyIGFwaVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlbmQgZW1haWwgZm9yIG1vcmUgdGhhbiBvbmUgaW52b2ljZVxyXG4gICAgc2VuZEJ1bGtFbWFpbCA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNlbmRpbmcgQnVsayBlbWFpbFwiKTtcclxuICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuaW52b2ljZXM7XHJcbiAgICAgICAgdmFyIGRvY3VtZW50TnVtYmVycyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGNoZWNrZWQgaW52b2ljZSBJZHNcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2ldLmlkXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudE51bWJlcnMucHVzaCh0ZW1wW2ldLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcclxuICAgICAgICBsZXQgcmVxRW1haWxPYmogPSB7XHJcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXHJcbiAgICAgICAgICAgIGRvY3VtZW50SWRzOiBkb2N1bWVudE51bWJlcnMsXHJcbiAgICAgICAgICAgIGZyb206IHRoaXMuc3RhdGUuY29sbGVjdG9yLmVtYWlsSWQsICAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXHJcbiAgICAgICAgICAgIHRvOiB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gTWFraW5nIGEgcG9zdCBjYWxsIGZvciBzZW5kaW5nIGVtYWlsc1xyXG4gICAgICAgIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHlgLCByZXFFbWFpbE9iailcclxuICAgICAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgICAvLyBtb2NrIHNlcnZlciBhcGlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVtYWlsIHNlbnRcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFcnJvciBpbiBzZW5kaW5nIGVtYWlsXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RlZEludm9pY2VzTGVuZ3RoID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZEludm9pY2VzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgIGxldCBzZWxlY3RlZEludm9pY2VzQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCBpbnZvaWNlcyA9IHRoaXMuc3RhdGUuaW52b2ljZXM7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBpbnZvaWNlcykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlc1tpXS5pZF0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlc0NvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNDb3VudCA9PSAwIHx8ICF0aGlzLnByb3BzLnBvc3RDYWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgKFRvdGFsOiBcXCQke2Zvcm1hdHRlcih0aGlzLnN0YXRlLnRvdGFsQW1vdW50LCBcIlwiKX0gLSAke3RoaXMuc3RhdGUuaW52b2ljZXMubGVuZ3RofSBJbnZvaWNlcylgO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyBTZWxlY3RlZCknO1xyXG4gICAgfVxyXG5cclxuICAgIC8vUmVuZGVyIGZ1bmN0aW9uIFxyXG4gICAgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICBjb25zdCB7IGNsYXNzZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9fT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmluZGl2aWR1YWwgJiZcclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgeHM9ezEyfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiBjbGFzc05hbWU9e2NsYXNzZXMuaW5kaXZpZHVhbEludm9pY2VIZWFkZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwiY2VudGVyXCIgc3R5bGU9e3sgekluZGV4OiBcIjVcIiB9fSBjbGFzc05hbWU9e2NsYXNzZXMuaW5kaXZpZHVhbEJ1Y2tldENoZWNrYm94fT48Q2hlY2tib3ggY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLmNoZWNrQm94Um9vdCB9fSBpY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2Zyd9IC8+fSBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59IGNoZWNrZWQ9e3RoaXMuc3RhdGUuY2hlY2tlZH0gb25DbGljaz17KCkgPT4gdGhpcy5jaGVja0FsbEludm9pY2VzKGV2ZW50KX0gLz48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezF9PjxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5idWNrZXRIZWFkZXJUZXh0fT5TZWxlY3QgQWxsPC9zcGFuPjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MX0gYWxpZ249XCJyaWdodFwiPjxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiBcIiM5ODk4OThcIiB9fT5WaWV3ICZuYnNwOzogIDwvVHlwb2dyYXBoeT48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnNlbGVjdEZpbHRlcil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaW52b2ljZVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17eyBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24sIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUZpbHRlckNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiaW52b2ljZVR5cGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnVQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnQWxsJ30+QWxsPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J0Jyb2tlbiBQMlAnfT5Ccm9rZW4gUDJQPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J1VwY29taW5nIFAyUCd9PlVwY29taW5nIFAyUDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydEaXNwdXRlJ30+RGlzcHV0ZTwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydQcmVkaWN0ZWQgRGVsaW5xdWVudCd9PlByZWRpY3RlZCBEZWxpbnF1ZW50PC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezV9IGFsaWduPVwicmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLmlzQnVsa0VtYWlsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbil9IG9uQ2xpY2s9e3RoaXMuc2VuZEJ1bGtFbWFpbH0gc3JjPXsnL3Rvdm8vc3RhdGljL0VtYWlsLnN2Zyd9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhdGhpcy5zdGF0ZS5pc0J1bGtFbWFpbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmljb25TaXplLCBjbGFzc2VzLmRpc2FibGVkRW1haWxJY29uKX0gc3JjPXsnL3Rvdm8vc3RhdGljL0VtYWlsLnN2Zyd9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgYWxpZ25JdGVtcz1cImZsZXgtc3RhcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMn0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmluZGl2aWR1YWwgPyBjbGFzc2VzLnNoaWZ0IDogY2xhc3Nlcy5ub1NoaWZ0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEV4cGFuc2lvblBhbmVsIHN0eWxlPXt7IGJveFNoYWRvdzogXCJub25lXCIsIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiIH19IGRlZmF1bHRFeHBhbmRlZD17dGhpcy5wcm9wcy5pbmRpdmlkdWFsfSBleHBhbmRlZD17dGhpcy5zdGF0ZS5leHBhbmRlZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMucHJvcHMuaW5kaXZpZHVhbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbnNpb25QYW5lbFN1bW1hcnkgY2xhc3NOYW1lPXtjbGFzc2VzLnBhbmVsU3VtbWFyeX0gY2xhc3Nlcz17eyBjb250ZW50OiBjbGFzc2VzLmNvbnRlbnQsIGV4cGFuZGVkOiBjbGFzc2VzLnN1bW1hcnlFeHBhbmRlZCB9fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlDb250ZW50fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmludm9pY2VCdWNrZXRDaGVja2JveCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gYWxpZ249XCJjZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb25uZWN0b3J9PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMuY2hlY2tCb3hSb290IH19IGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59IGNoZWNrZWRJY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZD17dGhpcy5zdGF0ZS5jaGVja2VkfSBvbkNsaWNrPXsoKSA9PiB0aGlzLmNoZWNrQWxsSW52b2ljZXMoZXZlbnQpfSAvPjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiBpdGVtIHhzPXsxMX0gYWxpZ249XCJsZWZ0XCIgb25DbGljaz17dGhpcy50b2dnbGVFeHBhbmR9IGNsYXNzTmFtZT17Y2xhc3Nlcy5ib3JkZXJCb3R0b219PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEwfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmJ1Y2tldEhlYWRlclRleHR9Pnt0aGlzLnN0YXRlLmRheXN9Jm5ic3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuZ3JleVRleHQsIGNsYXNzZXMuYnVja2V0SGVhZGVyVGV4dCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezJ9IGFsaWduPVwicmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnN0YXRlLmV4cGFuZGVkICYmIDxFeHBhbmRNb3JlSWNvbiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5leHBhbmRJY29uLCBjbGFzc2VzLmljb25TaXplKX0gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmV4cGFuZGVkICYmIDxFeHBhbmRMZXNzIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmV4cGFuZEljb24sIGNsYXNzZXMuaWNvblNpemUpfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsU3VtbWFyeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbnNpb25QYW5lbERldGFpbHMgY2xhc3NOYW1lPXshdGhpcy5wcm9wcy5wb3N0Q2FsbCA/IGNsYXNzZXMucm9vdCA6IGNsYXNzZXMucG9zdENhbGxSb290fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMucHJvcHMucG9zdENhbGwgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnByb3BzLmluZGl2aWR1YWwgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMudmVydGljYWxUaW1lbGluZX0ganVzdGlmeT1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5pbmRpdmlkdWFsID8gY2xhc3Nlcy5kaXNhYmxlVGltZWxpbmUgOiBjbGFzc2VzLnRpbWVsaW5lfSA+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciB4cz17dGhpcy5wcm9wcy5pbmRpdmlkdWFsID8gMTIgOiAxMX0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJjZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciB4cz17MTJ9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIHN0eWxlPXt7IG1hcmdpblRvcDogXCIxLjM0dmhcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tCb3hDb2x1bW59PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJjZW50ZXJcIiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5pbnZvaWNlTnVtYmVyQ29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnZvaWNlIE51bWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJyaWdodFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmFtb3VudENvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cImNlbnRlclwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmJyb2tlbkNvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnJva2VuIFAyUFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJjZW50ZXJcIiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy51cGNvbWluZ0NvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXBjb21pbmcgUDJQXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cImNlbnRlclwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmRpc3B1dGVDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlzcHV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJjZW50ZXJcIiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5wcmVkaWN0ZWRDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJlZGljdGVkIERlbGlucXVlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5lbWFpbENvbHVtbiwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKChpbnZvaWNlLCBpZCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjb250YWluZXIgYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJzcGFjZS1iZXR3ZWVuXCIgeHM9ezEyfSBjbGFzc05hbWU9e3RoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA/IGNsYXNzTmFtZXMoY2xhc3Nlcy5jaGFuZ2VSb3dCYWNrZ3JvdW5kLCBjbGFzc2VzLmRlZmF1bHRCYWNrZ3JvdW5kKSA6IGNsYXNzZXMuZGVmYXVsdEJhY2tncm91bmR9IGtleT17aW52b2ljZS5pZCArIFwicm93XCJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja0JveENvbHVtbn0gYWxpZ249XCJjZW50ZXJcIiBwYWRkaW5nPVwiY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMuY2hlY2tCb3hSb290IH19IGlkPXtpbnZvaWNlLmlkfSBpY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2Zyd9IC8+fSBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59IGNoZWNrZWQ9e3RoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA9PSB0cnVlfSBvbkNsaWNrPXsoKSA9PiB0aGlzLmFkZEludm9pY2UoaW52b2ljZS5pZCl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgYWxpZ249XCJjZW50ZXJcIiBudW1lcmljIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmludm9pY2VOdW1iZXJDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ludm9pY2UuZG9jdW1lbnROdW1iZXIudG9TdHJpbmcoKS5sZW5ndGggPiAyMCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXAgdGl0bGU9e2ludm9pY2UuZG9jdW1lbnROdW1iZXJ9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vV3JhcD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IHtjbGFzc2VzLnByaW1hcnlDb2xvcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ludm9pY2UuZG9jdW1lbnROdW1iZXJ9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub1dyYXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IHtjbGFzc2VzLnByaW1hcnlDb2xvcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpbnZvaWNlLmRvY3VtZW50TnVtYmVyfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgYWxpZ249XCJyaWdodFwiIG51bWVyaWMgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuYW1vdW50Q29sdW1uLCBjbGFzc2VzLnByaW1hcnlDb2xvciwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCIkXCIgKyBmb3JtYXR0ZXIoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuYnJva2VuQ29sdW1uLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpfSBhbGlnbj1cImNlbnRlclwiIG51bWVyaWM+e2ludm9pY2UucDJwQnJva2VuID8gPERvbmVJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPiA6IDxDbG9zZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+fTwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMudXBjb21pbmdDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9IGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYz57aW52b2ljZS5wMnBVcGNvbWluZyA/IDxEb25lSWNvbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz4gOiA8Q2xvc2VJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPn08L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmRpc3B1dGVDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9IGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYz57aW52b2ljZS5kaXNwdXRlU3RhdHVzICE9IG51bGwgPyA8RG9uZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+IDogPENsb3NlSWNvbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz59PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5wcmVkaWN0ZWRDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9IGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYz57aW52b2ljZS5wMnBEZWxpbnF1ZW50ID8gPERvbmVJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPiA6IDxDbG9zZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+fTwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuZW1haWxDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9IHhzPXsxfSBhbGlnbj1cInJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbil9IG9uQ2xpY2s9eygpID0+IHRoaXMuc2VuZEVtYWlsKGludm9pY2UuaWQpfSBzcmM9eycvdG92by9zdGF0aWMvRW1haWwuc3ZnJ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMudmVydGljYWxUaW1lbGluZX0ganVzdGlmeT1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLnBvc3RDYWxsVGltZWxpbmV9ID48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxMaXN0T2ZUaWxlIGluSW52b2ljZVRhYmxlIGludm9pY2VzPXt0aGlzLnN0YXRlLmludm9pY2VzfSBzZWxlY3RlZEludm9pY2VzPXt0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXN9IGFkZEludm9pY2U9e3RoaXMuYWRkSW52b2ljZX0gLz4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0IGNlbGxIZWlnaHQ9e1wiYXV0b1wifSBjbGFzc05hbWU9e2NsYXNzZXMuZ3JpZExpc3R9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzLm1hcChpbnZvaWNlID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExpc3RUaWxlIGNvbHM9ezF9IGtleT17aW52b2ljZS5pZH0gY2xhc3Nlcz17eyB0aWxlOiBjbGFzc2VzLmdyaWRMaXN0VGlsZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuMnJlbScgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eyh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaW52b2ljZS5pZF0gPT0gdHJ1ZSkgPyBjbGFzc05hbWVzKGNsYXNzZXMuc2VsZWN0ZWRHcmlkTGlzdERpdiwgY2xhc3Nlcy5ncmlkTGlzdERpdikgOiBjbGFzc2VzLmdyaWRMaXN0RGl2fSA+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBzdHlsZT17eyBwYWRkaW5nOiAnMnB4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGxlZnQ6IFwiMyVcIiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2Zyd9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtpbnZvaWNlLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5kb2N1bWVudE51bWJlcikgfHwgdGhpcy5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgb25DbGljaz17KCkgPT4gdGhpcy50b2dnbGVDaGVja2JveChpbnZvaWNlLmRvY3VtZW50TnVtYmVyKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID09IHRydWV9IG9uQ2xpY2s9eygpID0+IHRoaXMuYWRkSW52b2ljZShpbnZvaWNlLmlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIiwgbWFyZ2luTGVmdDogJzF2dycgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogXCIuODlyZW1cIiwgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAwLjY1LCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH19PntpbnZvaWNlLmRvY3VtZW50TnVtYmVyfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiAnMS4xNTZyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfX0+JHtmb3JtYXR0ZXIoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCl9PC9UeXBvZ3JhcGh5PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8Q2xvc2Ugc3R5bGU9e3sgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgd2lkdGg6IFwiY2FsYyguOHZoICsgLjh2dylcIiwgaGVpZ2h0OiBcImNhbGMoLjh2aCArIC44dncpXCIsIHJpZ2h0OiBcIjEwJVwiLCB0b3A6IFwiMjclXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluIH19IC8+ICovfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGlzdFRpbGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExpc3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsRGV0YWlscz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9FeHBhbnNpb25QYW5lbD5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICA8U25hY2tiYXJcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3JPcmlnaW49e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLnNuYWNrQmFyT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uPXsyMDAwfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgICAgICAgICAgICBDb250ZW50UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXs8c3BhbiBpZD1cIm1lc3NhZ2UtaWRcIj57dGhpcy5zdGF0ZS5zbmFja0Jhck1lc3NhZ2V9PC9zcGFuPn1cclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb249e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cImNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cImluaGVyaXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNsb3NlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkludm9pY2VUYWJsZS5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICBpbnZvaWNlczogUHJvcFR5cGVzLmFycmF5LFxyXG4gICAgZmlsdGVySW52b2ljZXM6IFByb3BUeXBlcy5mdW5jXHJcbn07XHJcblxyXG5JbnZvaWNlVGFibGUuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuY29uc3QgY29tYmluZWRTdHlsZSA9IGNvbWJpbmVTdHlsZXMoc3R5bGVzLCBiYXNlU3R5bGUpXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW52b2ljZVRhYmxlKTtcclxuXHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9JbnZvaWNlVGFibGUuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzLCB3aXRoVGhlbWUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcclxuaW1wb3J0IFRyYW5zY3JpcHRDaGF0IGZyb20gJy4uL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQnO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuXHJcbn0pO1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgdHJhbnNjcmlwdEdyaWRJRDogJ3RyYW5zY3JpcHRpb24tZ3JpZCcsXHJcbiAgICB0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3M6ICcnLFxyXG4gICAgdHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lOiAnJyxcclxuICAgIHRyYW5zY3JpcHRDaGF0UHJvcHM6IHt9LFxyXG59O1xyXG5cclxuY2xhc3MgVHJhbnNjcmlwdEJveCBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgYXV0b1Njcm9sbCxcclxuICAgICAgICAgICAgY2xhc3NlcyxcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiB0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3MsXHJcbiAgICAgICAgICAgIHRyYW5zY3JpcHRDaGF0UHJvcHMsXHJcbiAgICAgICAgICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZSxcclxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIHhzPXsxMn1cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3N9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17dHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lfT5DQUxMIFRSQU5TQ1JJUFQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8VHJhbnNjcmlwdENoYXRcclxuICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsPXthdXRvU2Nyb2xsfVxyXG4gICAgICAgICAgICAgICAgICAgIHsuLi50cmFuc2NyaXB0Q2hhdFByb3BzfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0ICh3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkpKFRyYW5zY3JpcHRCb3gpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL1RyYW5zY3JpcHRCb3guanMiLCIvKipcclxuICogQGF1dGhvciBCYWxyYWogU2luZ2ggPGJhbHJhanNpbmdoLnNAaGlnaHJhZGl1cy5jb20+XHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBDaGF0Qm94IGZyb20gJy4vQ2hhdEJveCc7XHJcbmltcG9ydCB7IHNwbGl0VHJhbnNjcmlwdCB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XHJcbmltcG9ydCB7IFRSQU5TQ1JJUFRfREVMSU1FVEVSUyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gIHRyYW5zY3JpcHRUZXh0UGFyZW50OiB7XHJcbiAgICB3aGl0ZVNwYWNlOiAncHJlLWxpbmUnLFxyXG4gICAgbWFyZ2luVG9wOiAnMi41cmVtJyxcclxuICAgIGhlaWdodDogJzg1JScsXHJcbiAgICBvdmVyZmxvd1k6ICdhdXRvJyxcclxuICAgIHBhZGRpbmc6ICcwLjVyZW0gMC41cmVtIDAuNXJlbSAwcHgnLFxyXG4gICAgZm9udEZhbWlseTogJ1JvYm90bycsXHJcbiAgICBtYXJnaW5MZWZ0OiAnMXJlbScsXHJcbiAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgd29yZFdyYXA6ICdicmVhay13b3JkJ1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gIGF1dG9TY3JvbGw6IGZhbHNlLFxyXG4gIHRyYW5zY3JpcHRpb246ICcnLFxyXG4gIGNhbGxlZFRvTmFtZUluaXRpYWxzOiAnVVUnLCAvL0N1c3RvbWVyIE5hbWVcclxuICB1c2VySW5pdGlhbHM6ICdNRScsXHJcbn07XHJcblxyXG5jbGFzcyBUcmFuc2NyaXB0Q2hhdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge307XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KSB7XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYXV0b1Njcm9sbCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnQXV0byBTY3JvbGxpbmcnKTtcclxuICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xyXG4gICAgLy8gbGV0IGN1cnJlbnQgPSB0aGlzLm15UmVmLmN1cnJlbnQ7XHJcbiAgICBjb25zdCBjb250YWluZXJJRCA9IHRoaXMucHJvcHMudHJhbnNjcmlwdEdyaWRJRDtcclxuICAgIGxldCB0cmFuc2NyaXB0aW9uR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklEKTtcclxuICAgIGlmICh0cmFuc2NyaXB0aW9uR3JpZCkge1xyXG4gICAgICB0cmFuc2NyaXB0aW9uR3JpZC5zY3JvbGxUb3AgPSB0cmFuc2NyaXB0aW9uR3JpZC5zY3JvbGxIZWlnaHQ7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZ2VuZXJhdGVDaGF0Qm94ZXMgPSAodHJhbnNjcmlwdE1lc3NhZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAvL2NvbGxlY3RvciB0byB0aGUgcmlnaHRcclxuICAgIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhUUkFOU0NSSVBUX0RFTElNRVRFUlMuQ09MTEVDVE9SKSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxDaGF0Qm94XHJcbiAgICAgICAgICBrZXk9e2luZGV4fVxyXG4gICAgICAgICAgaXNDb2xsZWN0b3JcclxuICAgICAgICAgIGluaXRpYWxzPXt0aGlzLnByb3BzLnVzZXJJbml0aWFscyA/IHRoaXMucHJvcHMudXNlckluaXRpYWxzIDogXCJNRVwifVxyXG4gICAgICAgICAgbWVzc2FnZT17dHJhbnNjcmlwdE1lc3NhZ2UucmVwbGFjZShUUkFOU0NSSVBUX0RFTElNRVRFUlMuQ09MTEVDVE9SLCBcIlwiKX1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhUUkFOU0NSSVBUX0RFTElNRVRFUlMuQ1VTVE9NRVIpKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPENoYXRCb3hcclxuICAgICAgICAgIGtleT17aW5kZXh9XHJcbiAgICAgICAgICBpc0NvbGxlY3Rvcj17ZmFsc2V9XHJcbiAgICAgICAgICBpbml0aWFscz17dGhpcy5wcm9wcy5jYWxsZWRUb05hbWVJbml0aWFsc31cclxuICAgICAgICAgIG1lc3NhZ2U9e3RyYW5zY3JpcHRNZXNzYWdlLnJlcGxhY2UoVFJBTlNDUklQVF9ERUxJTUVURVJTLkNVU1RPTUVSLCBcIlwiKX1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhUUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTKSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxDaGF0Qm94XHJcbiAgICAgICAgICBrZXk9e2luZGV4fVxyXG4gICAgICAgICAgaXNEZXRlY3RpbmdcclxuICAgICAgICAgIGluaXRpYWxzPXtcIlwifVxyXG4gICAgICAgICAgbWVzc2FnZT17dHJhbnNjcmlwdE1lc3NhZ2UucmVwbGFjZShUUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTLCBcIlwiKX1cclxuICAgICAgICAvPlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzLCB0cmFuc2NyaXB0aW9uLCB0cmFuc2NyaXB0R3JpZElEIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgbGV0IGV4dHJhY3RlZFRyYW5zY3JpcHQgPSBzcGxpdFRyYW5zY3JpcHQodHJhbnNjcmlwdGlvbik7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGlkPXt0cmFuc2NyaXB0R3JpZElEfSBjbGFzc05hbWU9e2NsYXNzZXMudHJhbnNjcmlwdFRleHRQYXJlbnR9PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiB9fT5cclxuICAgICAgICAgIHtleHRyYWN0ZWRUcmFuc2NyaXB0Lm1hcCh0aGlzLmdlbmVyYXRlQ2hhdEJveGVzKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuVHJhbnNjcmlwdENoYXQuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFRyYW5zY3JpcHRDaGF0KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQuanMiLCJpbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL3V0aWxzL3N0b3JlJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB7IGNoYW5nZVRyYW5zY3JpcHRpb24sIH0gZnJvbSAnLi4vYWN0aW9ucy9hY3Rpb25zJztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL2NvbXBvbmVudHMvQWN0aW9ucyc7XHJcbmltcG9ydCB7IFR5cG9ncmFwaHkgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IEZpbmFsIGZyb20gJy4vRmluYWwnO1xyXG5pbXBvcnQgR3JvdyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Hcm93JztcclxuaW1wb3J0IEZhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9GYWInO1xyXG5pbXBvcnQgQ3VzdG9tRGlhbG9nIGZyb20gJy4uL2NvbXBvbmVudHMvQ3VzdG9tRGlhbG9nJztcclxuaW1wb3J0IFNuYWNrYmFyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NuYWNrYmFyJztcclxuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvbic7XHJcbmltcG9ydCBDbG9zZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IEFjdGlvbkNyZWF0b3JEaWFsb2cgZnJvbSAnLi4vY29tcG9uZW50cy9BY3Rpb25DcmVhdG9yRGlhbG9nJztcclxuaW1wb3J0IFRyYW5zY3JpcHRCb3ggZnJvbSAnLi4vY29tcG9uZW50cy9UcmFuc2NyaXB0Qm94JztcclxuaW1wb3J0IE5vdGVzRWRpdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvTm90ZXNFZGl0b3InO1xyXG5pbXBvcnQgRHJhd2VyIGZyb20gJy4uL2NvbXBvbmVudHMvRHJhd2VyJztcclxuaW1wb3J0IEN1c3RvbUZvb3RlciBmcm9tICcuLi9jb21wb25lbnRzL0N1c3RvbUZvb3Rlcic7XHJcbmltcG9ydCB7XHJcbiAgZ2V0SW5pdGlhbHNGcm9tTmFtZSxcclxuICBjcmVhdGVBY3Rpb24sXHJcbiAgZ2VuZXJhdGVGaW5hbEludm9pY2VMaXN0LFxyXG4gIGlzQWN0aW9uSW50ZW50XHJcbn0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcclxuaW1wb3J0IHtcclxuICBSRVZJRVdfV0FSTklORyxcclxuICBTTkFDS19NRVNTQUdFUyxcclxuICBlbXB0eUZ1bmN0aW9uXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBnZW5lcmF0ZU5vdGVzQXNTdHJpbmcsXHJcbiAgY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXAsXHJcbiAgYXBwZW5kSWRzVG9TdW1tYXJ5LFxyXG4gIGNyZWF0ZUluaXRpYWxOb25BY3Rpb25TdW1tYXJ5Tm90ZXMsXHJcbiAgY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXBcclxufSBmcm9tICcuLi91dGlscy9oZWxwZXJzL3Bvc3RDYWxsSGVscGVyJ1xyXG5pbXBvcnQgeyBjb21tb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29tbW9uU2VydmljZSc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gIGFwcEZyYW1lOiB7XHJcbiAgICBvdmVyZmxvd1g6ICdoaWRkZW4nLFxyXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXHJcbiAgICBtYXhIZWlnaHQ6ICcxMDB2aCcsXHJcbiAgICB3aWR0aDogJzEwMCUnXHJcbiAgfSxcclxuICByb290OiB7XHJcbiAgICBtYXJnaW46ICcxLjEydmggMS4wNDF2dyAwZW0gMS4wNDF2dycsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5tYWluLFxyXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gIH0sXHJcbiAgdHJhbnNjcmlwdEJveDoge1xyXG4gICAgaGVpZ2h0OiAnNTguOTh2aCcsXHJcbiAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICBtYXJnaW5Cb3R0b206ICcxLjg1dmgnXHJcbiAgfSxcclxuICBzdW1tYXJ5Qm94OiB7XHJcbiAgICBoZWlnaHQ6ICcyNS41MHZoJyxcclxuICAgIHBhZGRpbmc6ICcwLjhyZW0nLFxyXG4gICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluLFxyXG4gIH0sXHJcbiAgdHJhbnNjcmlwdFRpdGxlOiB7XHJcbiAgICBmb250U2l6ZTogJzEuMXJlbScsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBwYWRkaW5nTGVmdDogXCIuOHJlbVwiLFxyXG4gICAgcGFkZGluZ1RvcDogXCIuOHJlbVwiLFxyXG4gICAgb3BhY2l0eTogMC42NSxcclxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgfSxcclxuICBjdXN0b21lck5hbWU6IHtcclxuICAgIGZvbnRTaXplOiBcIjEuNzhyZW1cIixcclxuICAgIGxpbmVIZWlnaHQ6IFwiMi4xcmVtXCJcclxuICB9LFxyXG4gIGN1c3RvbWVyRGV0YWlsVGV4dDoge1xyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgfSxcclxuICBjdXN0b21lck51bWJlcjoge1xyXG4gICAgZm9udFNpemU6IFwiLjhyZW1cIixcclxuICB9LFxyXG4gIGJ1dHRvbjoge1xyXG4gICAgZm9udFNpemU6IFwiMC41cmVtXCIsXHJcbiAgICB3aWR0aDogXCI3LjI5MjJ2d1wiLFxyXG4gICAgYm94U2hhZG93OiBcIm5vbmVcIixcclxuICAgIG1pbkhlaWdodDogXCI0LjQ0NDR2aFwiLFxyXG4gICAgcGFkZGluZzogMCxcclxuICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2QkZFNycsXHJcbiAgICB9XHJcbiAgfSxcclxuICBidXR0b25UaXRsZToge1xyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gIH0sXHJcbiAgaGVhZGluZzoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgZm9udFNpemU6ICcxLjA2N3JlbScsXHJcbiAgICBvcGFjaXR5OiAwLjUsXHJcbiAgICBwYWRkaW5nQm90dG9tOiAnMS45NHZoJ1xyXG4gIH0sXHJcbiAgbmV4dEN1c3RvbWVyVXJsOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgIGZvbnRTaXplOiAnMC44ODhyZW0nLFxyXG4gICAgaGVpZ2h0OiBcIjQuNDQ0NHZoXCIsXHJcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuICB9LFxyXG4gIGFjdGlvbkJ1dHRvbjoge1xyXG4gICAgYm94U2hhZG93OiAnbm9uZScsXHJcbiAgICBmb250U2l6ZTogJzEuMTExcmVtJyxcclxuICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2QkZFNycsXHJcbiAgICB9LFxyXG4gICAgaGVpZ2h0OiAnNi40OHZoJ1xyXG4gIH0sXHJcbiAgcG9zdENhbGxDYXJkR3JpZDoge1xyXG4gICAgbWFyZ2luVG9wOiAnMi4wMzd2aCdcclxuICB9LFxyXG4gIHBhZGRpbmdSaWdodE9uQ2FyZDoge1xyXG4gICAgcGFkZGluZ1JpZ2h0OiAnMS4wNDF2dydcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICB2b2ljZW1haWxNZXNzYWdlOiAnJyxcclxuICBjYWxsRHVyYXRpb246IDAsXHJcbiAgdG9DYWxsQ3VzdG9tZXJzOiBudWxsLFxyXG4gIG5leHRDdXN0b21lclVybDogbnVsbCxcclxuICBvbkhhbmd1cDogZW1wdHlGdW5jdGlvbixcclxuICBpbnZvaWNlczogW10sXHJcbiAgaW5pdGlhbFRyYW5zY3JpcHRpb246ICcnLFxyXG59O1xyXG5cclxuY2xhc3MgUG9zdENhbGwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIHNuYWNrTWVzc2FnZVF1ZXVlID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgdGhpcy5wcm9wcy5vbkhhbmd1cCgpO1xyXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmwsIFwibmV4dCBjdXN0b21lciB1cmxcIilcclxuICAgIHRoaXMubmV4dEN1c3RvbWVUZXh0ID0gXCJHTyBUTyBORVhUIENVU1RPTUVSXCJcclxuICAgIHRoaXMubmV4dEN1c3RvbWVyVXJsID0gdGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmxcclxuICAgIGlmICghdGhpcy5uZXh0Q3VzdG9tZXJVcmwpIHtcclxuICAgICAgdGhpcy5uZXh0Q3VzdG9tZXJVcmwgPSBcIi9cIlxyXG4gICAgICB0aGlzLm5leHRDdXN0b21lVGV4dCA9IFwiR08gQkFDSyBUTyBIT01FIFBBR0VcIlxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy50b0NhbGxDdXN0b21lcnMsIFwidG8gY2FsbCBjdXN0b21lcnNcIik7XHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgZGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxyXG4gICAgICBzdW1tYXJ5OiAnJyxcclxuICAgICAgdHJhbnNjcmlwdGlvbjogdGhpcy5wcm9wcy5pbml0aWFsVHJhbnNjcmlwdGlvbixcclxuICAgICAgb3BlblByb2dyZXNzQmFyOiBmYWxzZSxcclxuICAgICAgZG9PcGVuTmV3QWN0aW9uRGlhbG9nOiBmYWxzZSxcclxuICAgICAgaXNBbnlBY3Rpb25Db21wbGV0ZWQ6IGZhbHNlLFxyXG4gICAgICBkb1Jldmlld0RpYWxvZ09wZW46IGZhbHNlLFxyXG4gICAgICBub3RlczogW10sXHJcbiAgICAgIGlzUG9zdENhbGxEb25lOiBmYWxzZSxcclxuICAgICAgc3VtbWFyeUNvbXBsZXRpb25NYXA6IG5ldyBNYXAoKSxcclxuICAgICAgbm9uQWN0aW9uTm90ZXM6ICcnLFxyXG4gICAgICBzbmFja01lc3NhZ2U6IHt9LFxyXG4gICAgICBzbmFja09wZW46IGZhbHNlLFxyXG4gICAgICBmb2xsb3d1cFRleHRMaXN0OiBbXSxcclxuICAgICAgcmVhc29uQ29kZUxpc3Q6IFtdLFxyXG4gICAgICBub25BY3Rpb25JbmNsdWRlZDogZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBjb21tb25TZXJ2aWNlXHJcbiAgICAgIC5nZXREaXNwdXRlQ29kZXMoKVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlYXNvbkNvZGVMaXN0OiByZXNwb25zZSA/IHJlc3BvbnNlIDogW10gfSlcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBsb2FkIGRpc3B1dGUgY29kZXNcIiwgZXJyb3IpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBjb21tb25TZXJ2aWNlXHJcbiAgICAgIC5nZXRUYXNrVHlwZXMoKVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvbGxvd3VwVGV4dExpc3Q6IHJlc3BvbnNlID8gcmVzcG9uc2UgOiBbXSB9KVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGxvYWQgRm9sbG93IHVwIHRleHQgbGlzdFwiLCBlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQWN0aW9uID0gaWQgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJJRFwiLCBpZCwgc3VtbWFyeSk7XHJcbiAgICBsZXQgc3VtbWFyeSA9IHRoaXMuc3RhdGUuc3VtbWFyeS5maWx0ZXIoZWwgPT4gZWwuaWQgIT0gaWQpO1xyXG4gICAgbGV0IG1hcCA9IHRoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XHJcblxyXG4gICAgbWFwLmRlbGV0ZShpZCk7XHJcblxyXG4gICAgY29uc29sZS5sb2cobWFwKTtcclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogc3VtbWFyeSwgc3VtbWFyeUNvbXBsZXRpb25NYXA6IG1hcCwgfSk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgbGV0IG5leHRTdW1tYXJ5ID0gbmV4dFByb3BzLnRyYW5zY3JpcHRpb24uc3VtbWFyeTtcclxuICAgIGxldCBuZXh0VHJhbnNjcmlwdGlvbiA9IG5leHRQcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XHJcbiAgICBsZXQgY3VycmVudFRyYW5zY3JpcHRpb24gPSB0aGlzLnByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbjtcclxuICAgIGNvbnNvbGUubG9nKCdTdW1tYXJ5IHJlY2VpdmVkIGluIFBvc3QgQ2FsbCcsIEpTT04uc3RyaW5naWZ5KG5leHRTdW1tYXJ5KSk7XHJcblxyXG4gICAgaWYgKChuZXh0VHJhbnNjcmlwdGlvbikgJiYgKG5leHRUcmFuc2NyaXB0aW9uICE9PSBjdXJyZW50VHJhbnNjcmlwdGlvbikpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIHRyYW5zY3JpcHRpb24nLCBuZXh0VHJhbnNjcmlwdGlvbilcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRyYW5zY3JpcHRpb246IG5leHRUcmFuc2NyaXB0aW9uIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChKU09OLnN0cmluZ2lmeShuZXh0U3VtbWFyeSkgIT09IEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuc3VtbWFyeSkpIHtcclxuICAgICAgdGhpcy5pbml0aWFsaXplU3VtbWFyeVdpdGhEZWZhdWx0cyhuZXh0U3VtbWFyeSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYXJrU3VtbWFyeUFzRG9uZSA9IGlkID0+IHtcclxuICAgIGxldCBkb25lTWFwID0gdGhpcy5zdGF0ZS5zdW1tYXJ5Q29tcGxldGlvbk1hcDtcclxuICAgIGxldCBwcmV2U3VtbWFyeSA9IHRoaXMuc3RhdGUuc3VtbWFyeTtcclxuXHJcbiAgICBmb3IgKGxldCBpIGluIHByZXZTdW1tYXJ5KSB7XHJcbiAgICAgIGlmIChwcmV2U3VtbWFyeVtpXS5pZCA9PSBpZCkge1xyXG4gICAgICAgIHByZXZTdW1tYXJ5W2ldLnNhdmUgPSB0cnVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHByZXZTdW1tYXJ5IH0pO1xyXG4gICAgZG9uZU1hcC5zZXQoaWQsIHRydWUpO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnlDb21wbGV0aW9uTWFwOiBkb25lTWFwIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQWN0aW9uSXRlbUNoZWNrID0gZ2VuZXJhdGVkU3VtbWFyeSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgbm90ZXM6IFsuLi50aGlzLnN0YXRlLm5vdGVzLCBnZW5lcmF0ZWRTdW1tYXJ5XSxcclxuICAgICAgaXNBbnlBY3Rpb25Db21wbGV0ZWQ6IHRydWVcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2F2ZVBvc3RDYWxsVGhpbmdzID0gKCkgPT4ge1xyXG4gICAgaWYgKGNoZWNrU3VtbWFyeUNvbXBsZXRlTWFwKHRoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXApKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBkb1Jldmlld0RpYWxvZ09wZW46IHRydWUgfSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3RlcyAmJiB0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzLnRyaW0oKSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBub3RlczogWy4uLnRoaXMuc3RhdGUubm90ZXMsIHRoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXMudHJpbSgpXSxcclxuICAgICAgICBub25BY3Rpb25JbmNsdWRlZDogdHJ1ZVxyXG4gICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zYXZlQ2FsbExvZygpO1xyXG4gICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNhdmVDYWxsTG9nKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzYXZlTm90ZXNDaGFuZ2VzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzRWRpdGluZ09uOiBmYWxzZSxcclxuICAgICAgcHJldk5vbkFjdGlvbk5vdGVzOlxyXG4gICAgICAgIHRoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXNcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgdGhpcy5ibHVyTm9uQWN0aW9uTm90ZXNCb3goKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGlzY2FyZE5vdGVzQ2hhbmdlcyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXHJcbiAgICAgIG5vbkFjdGlvbk5vdGVzOlxyXG4gICAgICAgIHRoaXMuc3RhdGUucHJldk5vbkFjdGlvbk5vdGVzXHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuYmx1ck5vbkFjdGlvbk5vdGVzQm94KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG9wZW5TbmFja2JhciA9IG1lc3NhZ2VUeXBlID0+IHtcclxuICAgIHRoaXMuc25hY2tNZXNzYWdlUXVldWUucHVzaCh7XHJcbiAgICAgIG1lc3NhZ2U6IFNOQUNLX01FU1NBR0VTW21lc3NhZ2VUeXBlXSxcclxuICAgICAga2V5OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLnN0YXRlLnNuYWNrT3Blbikge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcHJvY2Vzc1F1ZXVlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc25hY2tNZXNzYWdlUXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBzbmFja01lc3NhZ2U6IHRoaXMuc25hY2tNZXNzYWdlUXVldWUuc2hpZnQoKSxcclxuICAgICAgICBzbmFja09wZW46IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGhhbmRsZU5vbmFjdGlvbk5vdGVzQ2hhbmdlID0gZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgbm9uQWN0aW9uTm90ZXM6IGUudGFyZ2V0LnZhbHVlIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlTm90ZXMgPSBub3RlcyA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgbm9uQWN0aW9uTm90ZXM6IG5vdGVzIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VTbmFja2JhciA9IChldmVudCwgcmVhc29uKSA9PiB7XHJcbiAgICBpZiAocmVhc29uID09PSAnY2xpY2thd2F5Jykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVTbmFja2JhckV4aXQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUFjdGlvbkl0ZW1DbGljayA9IGFjdGlvblR5cGUgPT4ge1xyXG4gICAgbGV0IG5ld0FjdGlvbiA9IGNyZWF0ZUFjdGlvbihhY3Rpb25UeXBlKTtcclxuICAgIC8vQWRkIHRoZSBuZXdseSBjcmVhdGVkIGFjdGlvbiB0byBzdW1tYXJ5IGFycmF5XHJcbiAgICAvL2lmIG5ld0FjdGlvbiBpcyBudWxsIHNraXAgYWRkaW5nIGl0XHJcbiAgICBjb25zb2xlLmxvZygnQWN0aW9uIGNyZWF0ZWQnLCBuZXdBY3Rpb24pO1xyXG4gICAgaWYgKG5ld0FjdGlvbikge1xyXG4gICAgICBjb25zdCBzdW1tYXJ5TGVuZ3RoID0gdGhpcy5zdGF0ZS5zdW1tYXJ5Lmxlbmd0aDtcclxuXHJcbiAgICAgIGlmIChzdW1tYXJ5TGVuZ3RoID4gMCkge1xyXG4gICAgICAgIG5ld0FjdGlvblsnaWQnXSA9IHRoaXMuc3RhdGUuc3VtbWFyeVtzdW1tYXJ5TGVuZ3RoIC0gMV1bJ2lkJ10gKyAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5ld0FjdGlvblsnaWQnXSA9IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG5ld0FjdGlvblsnc2F2ZSddID0gZmFsc2U7XHJcbiAgICAgIG5ld0FjdGlvblsnY3JlYXRlZCddID0gdHJ1ZTtcclxuXHJcbiAgICAgIGxldCBzdW1tYXJ5Q29tcGxldGlvbk1hcCA9IHRoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XHJcbiAgICAgIHN1bW1hcnlDb21wbGV0aW9uTWFwLnNldChuZXdBY3Rpb24uaWQsIGZhbHNlKTtcclxuXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHN1bW1hcnk6IFsuLi50aGlzLnN0YXRlLnN1bW1hcnksIG5ld0FjdGlvbl0sXHJcbiAgICAgICAgc3VtbWFyeUNvbXBsZXRpb25NYXAsXHJcbiAgICAgIH0sICgpID0+IHtcclxuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN0aW9uLXN1bW1hcnktZ3JpZC1jb250YWluZXInKTtcclxuICAgICAgICBpZiAoZWwpIHtcclxuICAgICAgICAgIGVsLnNjcm9sbFRvcCA9IGVsLnNjcm9sbEhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2xvc2VBY3Rpb25DcmVhdG9yRGlhbG9nKCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVJldmlld1dhcm5pbmdEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgZG9SZXZpZXdEaWFsb2dPcGVuOiBmYWxzZSB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkNyZWF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRvT3Blbk5ld0FjdGlvbkRpYWxvZzogdHJ1ZSB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBkb09wZW5OZXdBY3Rpb25EaWFsb2c6IGZhbHNlIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3VtbWFyeUZyb21DaGlsZCA9IChuZXdTdW1tYXJ5LCBpZCkgPT4ge1xyXG4gICAgbGV0IHByZXZTdW1tYXJ5ID0gdGhpcy5zdGF0ZS5zdW1tYXJ5O1xyXG5cclxuICAgIGZvciAobGV0IGkgaW4gcHJldlN1bW1hcnkpIHtcclxuICAgICAgaWYgKHByZXZTdW1tYXJ5W2ldLmlkID09IGlkKSB7XHJcbiAgICAgICAgcHJldlN1bW1hcnlbaV0uc3VtbWFyeSA9IG5ld1N1bW1hcnk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogcHJldlN1bW1hcnkgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVJbnZvaWNlcyA9ICh1cGRhdGVkSW52b2ljZXMsIGlkKSA9PiB7XHJcbiAgICBsZXQgcHJldlN1bW1hcnkgPSBPYmplY3QuY3JlYXRlKHRoaXMuc3RhdGUuc3VtbWFyeSk7XHJcbiAgICBsZXQgdXBkYXRlZEludm9pY2VMaXN0ID0gW107XHJcbiAgICBmb3IgKGxldCBpIGluIHByZXZTdW1tYXJ5KSB7XHJcbiAgICAgIGlmIChwcmV2U3VtbWFyeVtpXS5pZCA9PSBpZCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgaW4gdXBkYXRlZEludm9pY2VzKSB7XHJcbiAgICAgICAgICB1cGRhdGVkSW52b2ljZUxpc3QucHVzaCh1cGRhdGVkSW52b2ljZXNbaV0uZG9jdW1lbnROdW1iZXIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcmV2U3VtbWFyeVtpXS5lbnRpdGllcy5pbnZvaWNlID0gdXBkYXRlZEludm9pY2VMaXN0O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHByZXZTdW1tYXJ5IH0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdE5vbkFjdGlvbk5vdGVzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzRWRpdGluZ09uOiB0cnVlIH0sICgpID0+IHtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IHRleHRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGQnKTtcclxuICAgICAgICBpZiAodGV4dEZpZWxkKSB7XHJcbiAgICAgICAgICB0ZXh0RmllbGQuZm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDUwMClcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYmx1ck5vbkFjdGlvbk5vdGVzQm94ID0gKCkgPT4ge1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGxldCB0ZXh0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vbi1hY3Rpb24tbm90ZXMtZWRpdC1maWVsZFwiKTtcclxuICAgICAgaWYgKHRleHRGaWVsZCkge1xyXG4gICAgICAgIHRleHRGaWVsZC5ibHVyKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIDUwMClcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVTdW1tYXJ5V2l0aERlZmF1bHRzID0gKHN1bW1hcnkpID0+IHtcclxuXHJcbiAgICBpZiAoc3VtbWFyeSA9PT0gJ1tdJykge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogW10gfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgc3VtbWFyeVdpdGhJZHMgPSBhcHBlbmRJZHNUb1N1bW1hcnkoc3VtbWFyeSk7XHJcbiAgICAgIGxldCBzdW1tYXJ5Q29tcGxldGlvbk1hcCA9IGNyZWF0ZVN1bW1hcnlDb21wbGV0aW9uTWFwKHN1bW1hcnkpO1xyXG4gICAgICBsZXQgbm9uQWN0aW9uU3VtbWFyeSA9IGNyZWF0ZUluaXRpYWxOb25BY3Rpb25TdW1tYXJ5Tm90ZXMoc3VtbWFyeSwgdGhpcy5wcm9wcy52b2ljZW1haWxNZXNzYWdlKTtcclxuXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc3VtbWFyeTogc3VtbWFyeVdpdGhJZHMsXHJcbiAgICAgICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcCxcclxuICAgICAgICAgIG5vbkFjdGlvbk5vdGVzOiBub25BY3Rpb25TdW1tYXJ5LFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNhdmVDYWxsTG9nID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY29tYmluZWROb3RlcyA9IGdlbmVyYXRlTm90ZXNBc1N0cmluZyh0aGlzLnN0YXRlLm5vdGVzKTtcclxuICAgIGNvbnN0IGNhbGxMb2dTdGF0ZSA9IHRoaXMucHJvcHMuY2FsbExvZ1N0YXRlO1xyXG4gICAgY29uc3QgY3VzdG9tZXIgPSB0aGlzLnByb3BzLmN1c3RvbWVyO1xyXG4gICAgY29uc3QgcmVxUGFyYW1zID0ge1xyXG4gICAgICBpZDogY2FsbExvZ1N0YXRlLmlkLFxyXG4gICAgICBjYWxsU3VtbWFyeTogdGhpcy5wcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb24sXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLnByb3BzLmNhbGxEdXJhdGlvbixcclxuICAgICAgbm90ZToge1xyXG4gICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkLFxyXG4gICAgICAgIG5vdGVDb250ZW50OiBjb21iaW5lZE5vdGVzLFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBheGlvcy5wdXQoYCR7Y29uZmlnLmFwaVVybH0vY2FsbGAsIHJlcVBhcmFtcylcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuUHJvZ3Jlc3NCYXI6IGZhbHNlLCBpc1Bvc3RDYWxsRG9uZTogdHJ1ZSB9KTtcclxuICAgICAgICBzdG9yZS5kaXNwYXRjaChjaGFuZ2VUcmFuc2NyaXB0aW9uKHsgdHJhbnNjcmlwdGlvbjogXCJcIiB9KSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuUHJvZ3Jlc3NCYXI6IGZhbHNlLCBpc1Bvc3RDYWxsRG9uZTogdHJ1ZSB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGdlblN1bW1hcnlBY3Rpb25DYXJkcyA9IChzdW1tYXJ5KSA9PiB7XHJcblxyXG4gICAgbGV0IGludGVudCA9IHN1bW1hcnkuaW50ZW50O1xyXG5cclxuICAgIGlmICghaXNBY3Rpb25JbnRlbnQoaW50ZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEdyb3dcclxuICAgICAgICBpbj17dHJ1ZX1cclxuICAgICAgICBrZXk9e3N1bW1hcnkuaWR9XHJcbiAgICAgID5cclxuICAgICAgICA8QWN0aW9uc1xyXG4gICAgICAgICAgb25EZWxldGU9eyhpZCkgPT4gdGhpcy5kZWxldGVBY3Rpb24oaWQpfVxyXG4gICAgICAgICAgb25BY3Rpb25JdGVtQ29uZmlybT17dGhpcy51cGRhdGVBY3Rpb25JdGVtQ2hlY2t9XHJcbiAgICAgICAgICBzdW1tYXJ5PXtzdW1tYXJ5fVxyXG4gICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBtYXJnaW5Cb3R0b206IFwiMC43cmVtXCIgfX1cclxuICAgICAgICAgIGludGVudFR5cGU9e2ludGVudH1cclxuICAgICAgICAgIGFsbEludm9pY2VMaXN0PXt0aGlzLnByb3BzLmludm9pY2VzfVxyXG4gICAgICAgICAgY3VzdG9tZXI9e3RoaXMucHJvcHMuY3VzdG9tZXJ9XHJcbiAgICAgICAgICBjYWxsZWRUb05hbWU9e3RoaXMucHJvcHMuY2FsbGVkVG9OYW1lfVxyXG4gICAgICAgICAgY2FsbGVkVG9OdW1iZXI9e3RoaXMucHJvcHMuY2FsbGVkVG9OdW1iZXJ9XHJcbiAgICAgICAgICBjb21wbGV0ZWQ9eygpID0+IHRoaXMubWFya1N1bW1hcnlBc0RvbmUoc3VtbWFyeS5pZCl9XHJcbiAgICAgICAgICBidWNrZXROYW1lcz17dGhpcy5wcm9wcy5idWNrZXROYW1lc31cclxuICAgICAgICAgIGNvbnRhY3RMb2c9e3RoaXMucHJvcHMuY2FsbExvZ1N0YXRlfVxyXG4gICAgICAgICAgY2FsbFN0YXRlPXt0aGlzLnByb3BzLmNhbGxTdGF0ZX1cclxuICAgICAgICAgIGZvbGxvd3VwVGV4dExpc3Q9e3RoaXMuc3RhdGUuZm9sbG93dXBUZXh0TGlzdH1cclxuICAgICAgICAgIHJlYXNvbkNvZGVMaXN0PXt0aGlzLnN0YXRlLnJlYXNvbkNvZGVMaXN0fVxyXG4gICAgICAgICAgb3BlblNuYWNrYmFyT25BY3Rpb249eyhtZXNzYWdlVHlwZSkgPT4gdGhpcy5vcGVuU25hY2tiYXIobWVzc2FnZVR5cGUpfVxyXG4gICAgICAgICAgdXBkYXRlSW52b2ljZXNJblBhcmVudD17KHVwZGF0ZWRJbnZvaWNlcykgPT4gdGhpcy51cGRhdGVJbnZvaWNlcyh1cGRhdGVkSW52b2ljZXMsIHN1bW1hcnkuaWQpfVxyXG4gICAgICAgICAgdXBkYXRlU3VtbWFyeUluUGFyZW50PXsodXBkYXRlZFN1bW1hcnkpID0+IHsgdGhpcy51cGRhdGVTdW1tYXJ5RnJvbUNoaWxkKHVwZGF0ZWRTdW1tYXJ5LCBzdW1tYXJ5LmlkKSB9fSAvPlxyXG4gICAgICA8L0dyb3c+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgY29uc3QgeyBjdXN0b21lciB9ID0gdGhpcy5wcm9wcztcclxuICAgIGxldCB1c2VyID0gdGhpcy5wcm9wcy51c2VyO1xyXG4gICAgbGV0IGNhbGxlZFRvTmFtZSA9IHRoaXMucHJvcHMuY2FsbGVkVG9OYW1lO1xyXG4gICAgY29uc3QgY2FsbGVkVG9OYW1lSW5pdGlhbHMgPSBnZXRJbml0aWFsc0Zyb21OYW1lKGNhbGxlZFRvTmFtZSk7XHJcbiAgICBsZXQgdXNlckluaXRpYWxzID0gZ2V0SW5pdGlhbHNGcm9tTmFtZSh1c2VyLm5hbWUpO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmFwcEZyYW1lfT5cclxuICAgICAgICA8RHJhd2VyIC8+XHJcbiAgICAgICAgPEN1c3RvbUZvb3RlciAvPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fT5cclxuICAgICAgICAgIDxHcmlkIGNvbnRhaW5lcj5cclxuICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgICAgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgYWxpZ25JdGVtcz1cImZsZXgtc3RhcnRcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIHhzPXsxMH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcclxuICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnbGVmdCdcclxuICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5jdXN0b21lck5hbWUsIGNsYXNzZXMuY3VzdG9tZXJEZXRhaWxUZXh0KX0+e2N1c3RvbWVyLmN1c3RvbWVyTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmN1c3RvbWVyTnVtYmVyLCBjbGFzc2VzLmN1c3RvbWVyRGV0YWlsVGV4dCl9PntjdXN0b21lci5jdXN0b21lck51bWJlcn08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgeHM9ezJ9XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5PVwiZmxleC1lbmRcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luTGVmdDogJy04LjMzdncnIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBtYXJnaW46ICcwcHggMCAwIDAnLFxyXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8R3JpZFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBhbGlnbj1cInJpZ2h0XCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAncmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzQuNDQ0dmgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RmFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZXh0ZW5kZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zYXZlUG9zdENhbGxUaGluZ3N9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPSdBZGQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuc3VtbWFyeSA/IGZhbHNlIDogdHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5idXR0b259PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmJ1dHRvblRpdGxlfT5Eb25lPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRmFiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgdGV4dERlY29yYXRpb246ICdub25lJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2VtcHR5RnVuY3Rpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG89e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiB0aGlzLm5leHRDdXN0b21lclVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvQ2FsbEN1c3RvbWVyczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMubmV4dEN1c3RvbWVyVXJsfT57dGhpcy5uZXh0Q3VzdG9tZVRleHR9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIChcclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5wb3N0Q2FsbENhcmRHcmlkfT5cclxuICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17OH0gY2xhc3NOYW1lPXtjbGFzc2VzLnBhZGRpbmdSaWdodE9uQ2FyZH0gPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuaGVhZGluZ30+U1VHR0VTVEVEIEFDVElPTlM8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgIHhzPXsxMn1cclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICc3NC43dmgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIGlkPSdhY3Rpb24tc3VtbWFyeS1ncmlkLWNvbnRhaW5lcidcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdW1tYXJ5Lm1hcChzdW1tYXJ5ID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuU3VtbWFyeUFjdGlvbkNhcmRzKHN1bW1hcnkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0bHllPXt7IGhlaWdodDogJzEwMCUnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnNzB2aCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6ICcxLjNyZW0nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdlbmVyYXRpbmcgY2FsbCBzdW1tYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb25CdXR0b259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyB0aGlzLmhhbmRsZUFjdGlvbkNyZWF0aW9uKCkgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxLjA2N3JlbScgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIENSRUFURSBORVcgQUNUSU9OXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgICAgICBpdGVtIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIHhzPXs0fVxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM9XCJjZW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogJzg2LjI5dmgnIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8VHJhbnNjcmlwdEJveFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnRyYW5zY3JpcHRCb3h9XHJcbiAgICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsPXtCb29sZWFuKGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZT17Y2xhc3Nlcy50cmFuc2NyaXB0VGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q2hhdFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IHRoaXMuc3RhdGUudHJhbnNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkVG9OYW1lSW5pdGlhbHM6IGNhbGxlZFRvTmFtZUluaXRpYWxzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5pdGlhbHM6ICdNRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRHcmlkSUQ6ICdwb3N0LWNhbGwtdHJhbnNjcmlwdGlvbi1ncmlkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICB4cz17MTJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeUJveH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJSdcclxuICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Tm90ZXNFZGl0b3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxOb3Rlcz17dGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTm90ZXNDaGFuZ2U9eyhub3RlcykgPT4gdGhpcy51cGRhdGVOb3Rlcyhub3Rlcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLnN1bW1hcnkgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdGx5ZT17eyBoZWlnaHQ6ICcxMDAlJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMjB2aCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3Mgc3R5bGU9e3sgY29sb3I6ICcjZWVlZWVlJyB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNlZWVlZWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAnMS4zcmVtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2FpdGluZyBmb3Igc3VtbWFyeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgICA8R3JpZFxyXG4gICAgICAgICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICB4cz17MTJ9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5wb3N0Q2FsbENhcmRHcmlkfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8RmluYWxcclxuICAgICAgICAgICAgICAgICAgICBpbnZvaWNlTGlzdD17Z2VuZXJhdGVGaW5hbEludm9pY2VMaXN0KHRoaXMuc3RhdGUuc3VtbWFyeSwgdGhpcy5wcm9wcy5pbnZvaWNlcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzPXt0aGlzLnN0YXRlLm5vdGVzfVxyXG4gICAgICAgICAgICAgICAgICAgIG5vbkFjdGlvbkluY2x1ZGVkPXt0aGlzLnN0YXRlLm5vbkFjdGlvbkluY2x1ZGVkfVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRDdXN0b21lclVybD17dGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmx9XHJcbiAgICAgICAgICAgICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzPXt0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVyc31cclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lcj17dGhpcy5wcm9wcy5jdXN0b21lcn1cclxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0b3I9e3RoaXMucHJvcHMuY29sbGVjdG9yfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3RJbmRleD17dGhpcy5wcm9wcy5jb250YWN0SW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPC9GaW5hbD5cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPEFjdGlvbkNyZWF0b3JEaWFsb2dcclxuICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLmRvT3Blbk5ld0FjdGlvbkRpYWxvZ31cclxuICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZ31cclxuICAgICAgICAgICAgICBvbkFjdGlvbkl0ZW1DbGljaz17KGFjdGlvblR5cGUpID0+IHRoaXMuaGFuZGxlQWN0aW9uSXRlbUNsaWNrKGFjdGlvblR5cGUpfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8Q3VzdG9tRGlhbG9nXHJcbiAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5kb1Jldmlld0RpYWxvZ09wZW59XHJcbiAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVJldmlld1dhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgdGl0bGU9e1JFVklFV19XQVJOSU5HfVxyXG4gICAgICAgICAgICAgIGFjdGlvbnM9e1tcclxuICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVJldmlld1dhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxTbmFja2JhclxyXG4gICAgICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xyXG4gICAgICAgICAgICAgICAgdmVydGljYWw6IFwiYm90dG9tXCIsXHJcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBcImxlZnRcIixcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIGtleT17dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2Uua2V5fVxyXG4gICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc25hY2tPcGVufVxyXG4gICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezIwMDB9XHJcbiAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgIENvbnRlbnRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCcsXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBtZXNzYWdlPXs8c3BhbiBpZD17dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2Uua2V5fT57dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2UubWVzc2FnZX08L3NwYW4+fVxyXG4gICAgICAgICAgICAgIGFjdGlvbj17W1xyXG4gICAgICAgICAgICAgICAgPEljb25CdXR0b25cclxuICAgICAgICAgICAgICAgICAga2V5PVwiY2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPSdDbG9zZSdcclxuICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNsb3NlfVxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgICAgIG9uRXhpdGVkPXt0aGlzLmhhbmRsZVNuYWNrYmFyRXhpdH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbiAvPlxyXG4gICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPixcclxuICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5Qb3N0Q2FsbC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe1xyXG4gIHVzZXI6IHN0YXRlLnBlcnNvbmFsRGV0YWlscyxcclxuICBjYWxsU3RhdGU6IHN0YXRlLmNhbGxTdGF0ZSxcclxuICB0cmFuc2NyaXB0aW9uOiBzdGF0ZS50cmFuc2NyaXB0aW9uLFxyXG4gIGNhbGxMb2dTdGF0ZTogc3RhdGUuY2FsbExvZ1N0YXRlLFxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcclxuICBtYXBTdGF0ZVRvUHJvcHMsXHJcbikod2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFBvc3RDYWxsKSlcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZpZXdzL1Bvc3RDYWxsLmpzIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBQMlAgZnJvbSAnLi4vY29tcG9uZW50cy9QMlAnO1xyXG5pbXBvcnQgRGlzcHV0ZSBmcm9tICcuLi9jb21wb25lbnRzL0Rpc3B1dGUnO1xyXG5pbXBvcnQgRm9sbG93dXAgZnJvbSAnLi4vY29tcG9uZW50cy9Gb2xsb3d1cCc7XHJcbmltcG9ydCBBY3Rpb25EZXRhaWxzIGZyb20gJy4uL2NvbXBvbmVudHMvQWN0aW9uRGV0YWlscyc7XHJcbmltcG9ydCBFeHBhbnNpb25QYW5lbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbCc7XHJcbmltcG9ydCBFeHBhbnNpb25QYW5lbFN1bW1hcnkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRXhwYW5zaW9uUGFuZWxTdW1tYXJ5JztcclxuaW1wb3J0IEV4cGFuc2lvblBhbmVsRGV0YWlscyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbERldGFpbHMnO1xyXG5pbXBvcnQgRXhwYW5kTW9yZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0V4cGFuZE1vcmUnO1xyXG5pbXBvcnQgeyBJTlRFTlRfVFlQRVMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICAgIHBhbmVsOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgIH0sXHJcbiAgICBleHBhbmRlZEJhY2tncm91bmQ6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiLFxyXG4gICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwcHggM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMikpXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIwICFpbXBvcnRhbnRcIixcclxuICAgIH0sXHJcbiAgICBwYW5lbENvbW1vbjoge1xyXG4gICAgICAgIHBhZGRpbmc6IFwiMCAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjVweFwiLFxyXG4gICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwcHggM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMikpXCJcclxuICAgIH0sXHJcbiAgICBleHBhbmRJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBleHBhbnNpb25QYW5lbFJvb3Q6IHtcclxuICAgICAgICBib3hTaGFkb3c6IFwibm9uZSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweCAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuODN2aFwiXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY2xhc3MgQWN0aW9ucyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5wcm9wcy5zdW1tYXJ5LmVudGl0aWVzW1wiaW52b2ljZVwiXTtcclxuICAgICAgICBjb25zdCBpbml0aWFsSW52b2ljZURhdGEgPSB0aGlzLmdlbkluaXRpYWxJbnZvaWNlRGF0YShpbnZvaWNlcyk7XHJcbiAgICAgICAgY29uc3QgeyBjb3JyZWN0SW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcCwgaW5jb3JyZWN0RmxhZyB9ID0gaW5pdGlhbEludm9pY2VEYXRhO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBleHBhbmRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGFtb3VudDogMCxcclxuICAgICAgICAgICAgaW52b2ljZXMsXHJcbiAgICAgICAgICAgIHN1bW1hcnk6IHRoaXMucHJvcHMuc3VtbWFyeSxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzLFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXAsXHJcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWcsXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogMCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlRXhwYW5kID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBleHBhbmRlZDogIXRoaXMuc3RhdGUuZXhwYW5kZWQgfSlcclxuICAgIH1cclxuXHJcbiAgICBnZW5Jbml0aWFsSW52b2ljZURhdGEgPSAoaW52b2ljZXMpID0+IHtcclxuICAgICAgICBsZXQgY29ycmVjdEludm9pY2VzID0gW107XHJcbiAgICAgICAgbGV0IGNvcnJlY3RJbnZvaWNlc01hcCA9IHt9O1xyXG4gICAgICAgIGxldCBpbmNvcnJlY3RGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgYWxsSW52b2ljZUxpc3QgPSB0aGlzLnByb3BzLmFsbEludm9pY2VMaXN0O1xyXG5cclxuICAgICAgICBpZiAoaW52b2ljZXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnZvaWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFsbEludm9pY2VMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGFsbEludm9pY2VMaXN0W2pdLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50SW52b2ljZSA9IGFsbEludm9pY2VMaXN0W2pdW2tdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludm9pY2VzW2ldID09IGN1cnJlbnRJbnZvaWNlLmRvY3VtZW50TnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXMucHVzaChjdXJyZW50SW52b2ljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXBbY3VycmVudEludm9pY2UuaWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFmbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBJbnZvaWNlID0gT2JqZWN0LmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBgJHtpbnZvaWNlc1tpXX1pbmNvcnJlY3RgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudE51bWJlcjogaW52b2ljZXNbaV1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzLnB1c2godGVtcEludm9pY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWcgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGludm9pY2VEYXRhID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcyxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwLFxyXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaW52b2ljZURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29tbW9uUHJvcHMgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5jdXN0b21lcixcclxuICAgICAgICAgICAgY2FsbFRvTmFtZTogdGhpcy5wcm9wcy5jYWxsZWRUb05hbWUsXHJcbiAgICAgICAgICAgIGNhbGxlZFRvTnVtYmVyOiB0aGlzLnByb3BzLmNhbGxlZFRvTnVtYmVyLFxyXG4gICAgICAgICAgICBjb250YWN0TG9nOiB0aGlzLnByb3BzLmNvbnRhY3RMb2csXHJcbiAgICAgICAgICAgIG9uQWN0aW9uSXRlbUNvbmZpcm06IHRoaXMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybSxcclxuICAgICAgICAgICAgZGVsZXRlQWN0aW9uOiB0aGlzLnByb3BzLm9uRGVsZXRlLFxyXG4gICAgICAgICAgICBvbkNvbXBsZXRpb246IHRoaXMubWFya1RoaXNDb21wbGV0ZSxcclxuICAgICAgICAgICAgdG9nZ2xlRXhwYW5kOiB0aGlzLnRvZ2dsZUV4cGFuZCxcclxuICAgICAgICAgICAgb3BlblNuYWNrYmFyT25BY3Rpb246IChtZXNzYWdlVHlwZSkgPT4gdGhpcy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlVHlwZSksXHJcbiAgICAgICAgICAgIHVwZGF0ZVN1bW1hcnlJblBhcmVudDogKHVwZGF0ZWRTdW1tYXJ5KSA9PiB7IHRoaXMucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5LCB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcykgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvcnJlY3RJbnZvaWNlcyA9IChpbnZvaWNlcywgaW52b2ljZXNNYXApID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IGludm9pY2VzLFxyXG4gICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBpbnZvaWNlc01hcFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZUludm9pY2VzSW5QYXJlbnQoaW52b2ljZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJbnZvaWNlcyA9IChmbGFnLCBpbnZvaWNlQ291bnQpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogZmxhZyxcclxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiBpbnZvaWNlQ291bnQsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFya1RoaXNDb21wbGV0ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29tcGxldGVkOiB0cnVlLCBleHBhbmRlZDogZmFsc2UgfSk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCBpbnRlbnRUeXBlIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IGNvbW1vblByb3BzID0gdGhpcy5nZXRDb21tb25Qcm9wcygpO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8RXhwYW5zaW9uUGFuZWxcclxuICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5leHBhbnNpb25QYW5lbFJvb3QgfX1cclxuICAgICAgICAgICAgICAgIGV4cGFuZGVkPXt0aGlzLnN0YXRlLmV4cGFuZGVkfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnBhbmVsfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8RXhwYW5zaW9uUGFuZWxTdW1tYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLmV4cGFuZGVkID8gY2xhc3Nlcy5leHBhbmRlZEJhY2tncm91bmQgOiBjbGFzc2VzLnBhbmVsQ29tbW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZEljb249e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlICE9PSBJTlRFTlRfVFlQRVMuRk9MTE9XX1VQICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbmRNb3JlSWNvbiBvbkNsaWNrPXt0aGlzLnRvZ2dsZUV4cGFuZH0gY2xhc3NOYW1lPXtjbGFzc2VzLmV4cGFuZEljb259IC8+KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudFR5cGUgPT09IElOVEVOVF9UWVBFUy5QMlAgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFAyUFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc9eyB0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQW1vdW50PXt0aGlzLnN0YXRlLmFtb3VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5PXsgdGhpcy5zdGF0ZS5zdW1tYXJ5IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQ9eyB0aGlzLnN0YXRlLmludm9pY2VDb3VudCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzPXsgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5jb21tb25Qcm9wc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlID09PSBJTlRFTlRfVFlQRVMuRElTUFVURSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGlzcHV0ZSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnPXt0aGlzLnN0YXRlLmluY29ycmVjdEZsYWd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeT17dGhpcy5zdGF0ZS5zdW1tYXJ5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VDb3VudD17dGhpcy5zdGF0ZS5pbnZvaWNlQ291bnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzPXt0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb25Db2RlTGlzdD17dGhpcy5wcm9wcy5yZWFzb25Db2RlTGlzdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZSA9PT0gSU5URU5UX1RZUEVTLkZPTExPV19VUCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9sbG93dXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnPXt0aGlzLnN0YXRlLmluY29ycmVjdEZsYWd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeT17dGhpcy5zdGF0ZS5zdW1tYXJ5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd3VwVGV4dExpc3Q9e3RoaXMucHJvcHMuZm9sbG93dXBUZXh0TGlzdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9FeHBhbnNpb25QYW5lbFN1bW1hcnk+XHJcbiAgICAgICAgICAgICAgICA8RXhwYW5zaW9uUGFuZWxEZXRhaWxzIGNsYXNzTmFtZT17Y2xhc3Nlcy5wYW5lbENvbW1vbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFjdGlvbkRldGFpbHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VtPXt0aGlzLnN0YXRlLnN1bW1hcnl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudFR5cGU9e2ludGVudFR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcz17dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcD17dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc9e3RoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVJbnZvaWNlPXt0aGlzLnVwZGF0ZUludm9pY2VzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lPXt0aGlzLnN0YXRlLmNvbXBsZXRlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXM9e3RoaXMucHJvcHMuYWxsSW52b2ljZUxpc3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldE5hbWVzPXt0aGlzLnByb3BzLmJ1Y2tldE5hbWVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJbnZvaWNlcz17KGludm9pY2VzLCBpbnZvaWNlc01hcCkgPT4geyB0aGlzLnVwZGF0ZUNvcnJlY3RJbnZvaWNlcyhpbnZvaWNlcywgaW52b2ljZXNNYXApIH19XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsRGV0YWlscz5cclxuICAgICAgICAgICAgPC9FeHBhbnNpb25QYW5lbD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbkFjdGlvbnMucHJvcFR5cGVzID0ge1xyXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEFjdGlvbnMpXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvQWN0aW9ucy5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSBcImNsYXNzbmFtZXNcIjtcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCB7IERvbmUsIEhpZ2hsaWdodE9mZiwgQm9yZGVyQ29sb3IsIERhdGVSYW5nZSwgQ2hlY2tDaXJjbGVPdXRsaW5lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zJztcclxuaW1wb3J0IERhdGVGbnNVdGlscyBmcm9tICdAZGF0ZS1pby9kYXRlLWZucyc7XHJcbmltcG9ydCB7IE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLCBEYXRlUGlja2VyIH0gZnJvbSAnbWF0ZXJpYWwtdWktcGlja2Vycyc7XHJcbmltcG9ydCB7IE11aVRoZW1lUHJvdmlkZXIsIGNyZWF0ZU11aVRoZW1lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgYmx1ZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMvYmx1ZSc7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RleHRGaWVsZCc7XHJcbmltcG9ydCBFcnJvciBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRXJyb3InO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBOdW1iZXJGb3JtYXQgZnJvbSAncmVhY3QtbnVtYmVyLWZvcm1hdCc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaXJjdWxhclByb2dyZXNzJztcclxuaW1wb3J0IEN1c3RvbURpYWxvZyBmcm9tICcuL0N1c3RvbURpYWxvZyc7XHJcbmltcG9ydCB7IGVtcHR5RnVuY3Rpb24gfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7XHJcbmltcG9ydCB7IGN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyIH0gZnJvbSAnLi4vdXRpbHMvZm9ybWF0dGVyJztcclxuaW1wb3J0IHsgaXNWYWxpZERhdGUsIGZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCwgZm9ybWF0RGF0ZVdpdGhUaW1lem9uZSB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XHJcbmltcG9ydCBjb21iaW5lU3R5bGVzIGZyb20gJy4uL3V0aWxzL2NvbWJpbmVTdHlsZXMnO1xyXG5pbXBvcnQgYmFzZVN0eWxlIGZyb20gICcuLi91dGlscy9iYXNlU3R5bGUnO1xyXG5cclxuLy9jb25zdGFudHNcclxuY29uc3QgUDJQUmVnZXggPSAvKFByb21pc2UgdG8gcGF5IGZvciBcXGQqKXwoXFxkezR9LVxcZHsyfS1cXGR7Mn1UW1xcZHsyfTpdKi5cXGR7M31bLXwrXVxcZHsyfTpcXGR7Mn0pfChcXGQqIGludm9pY2UpL2c7XHJcbmNvbnN0IGRpc2NhcmRNZXNzYWdlID0gXCJUaGlzIHdpbGwgYmUgcmVtb3ZlZCBwZXJtYW5lbnRseSBmcm9tIHRoZSBzdWdnZXN0ZWQgYWN0aW9ucy4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS5cIjtcclxuY29uc3QgcmVzb2x2ZU1lc3NhZ2UgPSBcIiBVbmFibGUgdG8gY29tcGxldGUgdGhlIGFjdGlvbi4gUGxlYXNlIHJlc29sdmUgdGhlIGVycm9ycyB0byBhcHByb3ZlLlwiO1xyXG5jb25zdCBQMlBUZW1wbGF0ZSA9IFwiUGF5bWVudCBjb21taXRtZW50IHJlY2VpdmVkIGZvciA8QW1vdW50PiB0byBiZSBwYWlkIGJ5IDxEYXRlPiA8SW52b2ljZXM+LlwiO1xyXG5jb25zdCBQMlBfT1JJR19URU1QTEFURSA9IFwiQ3JlYXRlIFByb21pc2UgdG8gcGF5IGZvciA8QW1vdW50PiB0byBiZSBwYWlkIGJ5IDxEYXRlPiBmb3IgPEludm9pY2VzPlwiO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICAgIHRleHRGaWVsZDoge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG1hcmdpbjogMFxyXG4gICAgfSxcclxufSk7XHJcblxyXG5jb25zdCBtYXRlcmlhbFRoZW1lID0gY3JlYXRlTXVpVGhlbWUoe1xyXG4gICAgb3ZlcnJpZGVzOiB7XHJcbiAgICAgICAgTXVpUGlja2Vyc1Rvb2xiYXI6IHtcclxuICAgICAgICAgICAgdG9vbGJhcjoge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBibHVlLkEyMDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgOiBcIjEzdmhcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTXVpUGlja2Vyc0NhbGVuZGFySGVhZGVyOiB7XHJcbiAgICAgICAgICAgIHN3aXRjaEhlYWRlcjoge1xyXG4gICAgICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBsaWdodEJsdWUuQTIwMCxcclxuICAgICAgICAgICAgICAgIC8vIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTXVpUGlja2Vyc0RheToge1xyXG4gICAgICAgICAgICBkYXk6IHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBibHVlLkE3MDAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkOiB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJsdWVbJzQwMCddLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjdXJyZW50OiB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogYmx1ZVsnOTAwJ10sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBNdWlGb3JtSGVscGVyVGV4dDoge1xyXG4gICAgICAgICAgICBlcnJvcjoge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI0ZGODg4OCAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIE11aVBpY2tlcnNNb2RhbDoge1xyXG4gICAgICAgICAgICBkaWFsb2dBY3Rpb246IHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBibHVlWyc0MDAnXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxufSk7XHJcblxyXG5jbGFzcyBQMlAgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgbGV0IGV4dHJhY3RlZERhdGEgPSB0aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChQMlBSZWdleCk7XHJcbiAgICAgICAgbGV0IGV4dHJhY3RlZEFtb3VudCA9IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICByZWFkT25seTogIXRoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkLFxyXG4gICAgICAgICAgICBpc0VkaXRpbmc6IHRoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICBwcmV2QW1vdW50OiBcIlwiLFxyXG4gICAgICAgICAgICBhbW91bnQ6IGV4dHJhY3RlZEFtb3VudCA/IGV4dHJhY3RlZEFtb3VudFswXSA6IHRoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkID8gXCJcIiA6IDAsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkRGF0ZTogbmV3IERhdGUoZXh0cmFjdGVkRGF0YVsxXSksXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogdGhpcy5wcm9wcy5pbnZvaWNlQ291bnQsXHJcbiAgICAgICAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgc25hY2tCYXJPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiLFxyXG4gICAgICAgICAgICBvcGVuV2FybmluZ0RpYWxvZzogZmFsc2UsXHJcbiAgICAgICAgICAgIG9wZW5Qcm9ncmVzc0JhcjogdHJ1ZSxcclxuICAgICAgICAgICAgYWN0aW9uSWQ6IHRoaXMucHJvcHMuc3VtbWFyeS5pZCxcclxuICAgICAgICAgICAgaXNEb25lOiB0aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSxcclxuICAgICAgICAgICAgZmluYWxTZWxlY3RlZERhdGU6IHRoaXMucHJvcHMuc3VtbWFyeS5zYXZlID8gZm9ybWF0KG5ldyBEYXRlKGV4dHJhY3RlZERhdGFbMV0pLCBcIk1NTSBkZCwgeXl5eVwiKSA6IFwiXCIsXHJcbiAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBleHRyYWN0ZWRBbW91bnQgPyAoXCJcIiArIGV4dHJhY3RlZEFtb3VudCkubGVuZ3RoICogMTIgOiAxNSxcclxuICAgICAgICAgICAgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSxcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogdGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgICAgICBpbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZTogXCJcIixcclxuICAgICAgICAgICAgb3BlbkludmFsaWREYXRhTm90aWZpZXI6IGZhbHNlLFxyXG4gICAgICAgICAgICBzdW1tYXJ5OiB0aGlzLnByb3BzLnN1bW1hcnksXHJcbiAgICAgICAgICAgIGlzQW1vdW50SW52YWxpZDogKGV4dHJhY3RlZEFtb3VudCA/IGZhbHNlIDogdHJ1ZSksXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUludm9pY2VDdXJyZW5jeUNoYW5nZSA9IChldmVudCkgPT4ge1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGV2ZW50LnRhcmdldC52YWx1ZSA/IChcIlwiICsgZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCkgKiAxMiA6IDUwLFxyXG4gICAgICAgICAgICBhbW91bnQ6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgYW1vdW50Rm9ybWF0dGVkOiBldmVudC50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgIGlzQW1vdW50SW52YWxpZDogZmFsc2UsXHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuYW1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNBbW91bnRJbnZhbGlkOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IG5leHRQcm9wcy5pbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobmV4dFByb3BzLmludm9pY2VDb3VudCA+PSAwICYmIG5leHRQcm9wcy5pbnZvaWNlQ291bnQgIT0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VDb3VudDogbmV4dFByb3BzLmludm9pY2VDb3VudCB9XHJcbiAgICAgICAgICAgICAgICAsICgpID0+IHsgdGhpcy51cGRhdGVTdW1tYXJ5KCkgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgb3BlbkRhdGFJbnZhbGlkRGlhbG9nID0gKG1lc3NhZ2UpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgb3BlbkludmFsaWREYXRhTm90aWZpZXI6IHRydWUsXHJcbiAgICAgICAgICAgIGludmFsaWREYXRhTm90aWZpZXJNZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlSW52YWxpZERhdGFOb3RpZmllciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkludmFsaWREYXRhTm90aWZpZXI6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlU25hY2tiYXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVQMlBEYXRhID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBsZXQgYW1vdW50ID0gdGhpcy5zdGF0ZS5hbW91bnQ7XHJcblxyXG4gICAgICAgIGlmIChOdW1iZXIoYW1vdW50KSA8IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2coXCJQbGVhc2UgZW50ZXIgYW1vdW50ID4gMC5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNWYWxpZERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3BlbkRhdGFJbnZhbGlkRGlhbG9nKFwiRm91bmQgaW52YWxpZCBkYXRlLiBQbGVhc2UgY29ycmVjdCB0aGUgZGF0ZSB0byBwcm9jZWVkLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tJbnZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICghdGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgJiZcclxuICAgICAgICAgICAgIXRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyAmJiBpc1ZhbGlkRGF0ZSh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSkpXHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZVAyUCA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlUDJQRGF0YSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coY29udGFjdElkKVxyXG4gICAgICAgIGxldCBjb250YWN0SWQgPSB0aGlzLnByb3BzLmNvbnRhY3RMb2cuY29udGFjdCAhPT0gbnVsbCA/ICB0aGlzLnByb3BzLmNvbnRhY3RMb2cuY29udGFjdC5pZCA6IG51bGw7XHJcbiAgICAgICAgbGV0IHBob25lTnVtYmVyID0gdGhpcy5wcm9wcy5jb250YWN0TG9nLmNhbGxpbmdOdW1iZXJcclxuICAgICAgICBsZXQgaW52b2ljZXMgPSB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlcy5tYXAoaW52b2ljZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbnZvaWNlT2JqID0ge31cclxuICAgICAgICAgICAgaW52b2ljZU9iai5jbXNEb2NIZWFkZXJJZCA9IGludm9pY2UuaWRcclxuICAgICAgICAgICAgcmV0dXJuIGludm9pY2VPYmo7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSwgaXNFZGl0aW5nOiBmYWxzZSwgcmVhZE9ubHk6IHRydWUgfSk7XHJcbiAgICAgICAgbGV0IHJlcU9iaiA9IHtcclxuICAgICAgICAgICAgY29tbWl0dGVkQW1vdW50OiB0aGlzLnN0YXRlLmFtb3VudCxcclxuICAgICAgICAgICAgY29tbWl0dGVkQnk6IHtcclxuICAgICAgICAgICAgICAgIGlkOiBjb250YWN0SWQsXHJcbiAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogcGhvbmVOdW1iZXIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbW1pdHRlZERhdGU6IG5ldyBEYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlKSxcclxuICAgICAgICAgICAgY29tbWl0dGVkT246IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGN1cnJlbmN5OiBcIiRcIixcclxuICAgICAgICAgICAgY3VzdG9tZXJJZDogdGhpcy5wcm9wcy5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgcGNJdGVtczogaW52b2ljZXMsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jdXN0b21lci8ke3RoaXMucHJvcHMuY3VzdG9tZXIuaWR9L3AycGAsIHJlcU9iailcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlNVQ0NFU1NcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZmluYWxTZWxlY3RlZERhdGU6IHRoaXMuZ2V0RGF0ZUZpZWxkVmFsdWUoKSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNEb25lOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbCBcclxuICAgICAgICAgICAgICAgIGxldCBzdW1tYXJ5VG9TYXZlID0gdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Db21wbGV0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uQWN0aW9uSXRlbUNvbmZpcm0oc3VtbWFyeVRvU2F2ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlLCBpc0RvbmU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUFjdGlvblN1bW1hcnkgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCBpbnZvaWNlQ291bnQgPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudDtcclxuICAgICAgICBsZXQgZGF0ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlO1xyXG4gICAgICAgIGxldCBmb3JtYXR0ZWREYXRlID0gZm9ybWF0KGRhdGUsIFwiTU0tZGQteXl5eVwiKTtcclxuXHJcbiAgICAgICAgbGV0IGdlbmVyYXRlZFN1bW1hcnkgPSBQMlBUZW1wbGF0ZS5yZXBsYWNlKFwiPEFtb3VudD5cIiwgXCIkXCIgKyBmb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQodGhpcy5zdGF0ZS5hbW91bnQpKVxyXG4gICAgICAgICAgICAucmVwbGFjZShcIjxEYXRlPlwiLCBmb3JtYXR0ZWREYXRlKVxyXG4gICAgICAgICAgICAucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgKGludm9pY2VDb3VudCA9PT0gMCkgPyBcIlwiIDogaW52b2ljZUNvdW50ID09PSAxID8gXCJmb3IgXCIgKyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlXCIgOiBcImZvciBcIiArIGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkU3VtbWFyeTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IG1lc3NhZ2UgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzbWlzc0Ftb3VudENoYW5nZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zdCBhbW91bnRUZXh0RmllbGRMZW5ndGggPSBjdXN0b21DdXJyZW5jeUZvcm1hdHRlcih0aGlzLnN0YXRlLmFtb3VudCkubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFtb3VudDogY3VycmVudFN0YXRlLnByZXZBbW91bnQsXHJcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzRWRpdGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhbW91bnRUZXh0RmllbGRXaWR0aDogYW1vdW50VGV4dEZpZWxkTGVuZ3RoICogNC41LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCkuYmx1cigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5QaWNrZXIgPSBlID0+IHtcclxuICAgICAgICB0aGlzLnBpY2tlci5vcGVuKGUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB1cGRhdGVTdW1tYXJ5ID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBsZXQgaW52b2ljZUNvdW50ID0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQ7XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXREYXRlV2l0aFRpbWV6b25lKG5ldyBEYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlKSwgXCItMDY6MDBcIik7XHJcbiAgICAgICAgbGV0IHVwZGF0ZWRTdW1tYXJ5ID0gUDJQX09SSUdfVEVNUExBVEUucmVwbGFjZShcIjxBbW91bnQ+XCIsIHRoaXMuc3RhdGUuYW1vdW50ID8gdGhpcy5zdGF0ZS5hbW91bnQgOiBcIjxhbW91bnQtb2YtbW9uZXk+XCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPERhdGU+XCIsIGZvcm1hdHRlZERhdGUpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCAoaW52b2ljZUNvdW50ID09PSAwKSA/IFwiPFggaW52b2ljZXM+XCIgOlxyXG4gICAgICAgICAgICAgICAgaW52b2ljZUNvdW50ID09PSAxID8gaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZVwiIDogaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIik7XHJcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHNhdmVJbnZvaWNlQW1vdW50Q2hhbmdlID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBhbW91bnRUZXh0RmllbGRMZW5ndGggPSBjdXN0b21DdXJyZW5jeUZvcm1hdHRlcih0aGlzLnN0YXRlLmFtb3VudCkubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICBwcmV2QW1vdW50OiB0aGlzLnN0YXRlLmFtb3VudCwgXHJcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSwgXHJcbiAgICAgICAgICAgICAgICBpc0VkaXRpbmc6IGZhbHNlLCBcclxuICAgICAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBhbW91bnRUZXh0RmllbGRMZW5ndGggKiA0LjUsXHJcbiAgICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgICAoKSA9PiB7IHRoaXMudXBkYXRlU3VtbWFyeSgpO30gXHJcbiAgICAgICAgKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCkuYmx1cigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogdHJ1ZSB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQW5kRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGVsZXRlQWN0aW9uKHRoaXMuc3RhdGUuYWN0aW9uSWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVdhcm5pbmdEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVFZGl0aW5nID0gKGUpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVhZE9ubHk6IGZhbHNlLCBpc0VkaXRpbmc6IHRydWUgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCkuZm9jdXMoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGF0ZUNoYW5nZSA9IGRhdGUgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZERhdGU6IGRhdGUgfSwgKCkgPT4geyB0aGlzLnVwZGF0ZVN1bW1hcnkoKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRlRmllbGRWYWx1ZSA9ICgpID0+IHtcclxuICAgICAgICBsZXQgaWQgPSBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkO1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgRm9ybWF0dGVkQ3VycmVuY3lJbnB1dCA9IChwcm9wcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgaW5wdXRSZWYsIG9uQ2hhbmdlLCAuLi5vdGhlciB9ID0gcHJvcHM7XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8TnVtYmVyRm9ybWF0XHJcbiAgICAgICAgICAgICAgICB7Li4ub3RoZXJ9XHJcbiAgICAgICAgICAgICAgICBnZXRJbnB1dFJlZj17aW5wdXRSZWZ9XHJcbiAgICAgICAgICAgICAgICBvblZhbHVlQ2hhbmdlPXt2YWx1ZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGZvcm1hdD17KGFyZ3MpID0+IGN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyKHRoaXMuc3RhdGUuYW1vdW50LCBcIiRcIil9XHJcbiAgICAgICAgICAgICAgICBkZWNpbWFsU2NhbGU9ezh9XHJcbiAgICAgICAgICAgICAgICBhbGxvd05lZ2F0aXZlPXtmYWxzZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGNsYXNzZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgc3VtbWFyeSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCB7IGZ1bGxTY3JlZW4gfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZVNhbXBsZX0+XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMH0gbWQ9ezEwfSBsZz17MTB9IGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cImZsZXgtc3RhcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjNyZW1cIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3Rpb25TYXZlUHJvZ3Jlc3NCYXIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjdWxhclByb2dyZXNzIGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb25Qcm9ncmVzc0Jhcn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERvbmUgc3R5bGU9e3sgY29sb3I6IFwiIzVGQzMyQ1wiICwgcGFkZGluZ0xlZnQgOiBcIjAuNXJlbVwiLCBwYWRkaW5nUmlnaHQgOiBcIjAuNXJlbVwiLCBoZWlnaHQgOiBcIjEuNXJlbVwiLCB3aWR0aCA6IFwiMS41cmVtXCIgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezExfSBtZD17MTF9IGxnPXsxMX0gY29udGFpbmVyIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwiZmxleC1zdGFydFwiPiBcclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0RvbmUgJiYgPFR5cG9ncmFwaHkgc3R5bGU9e3sgIG9wYWNpdHkgOiAxLCAgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRUZXh0fT5DcmVhdGVkICZuYnNwOzwvVHlwb2dyYXBoeT59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5pc0RvbmUgJiYgPFR5cG9ncmFwaHkgc3R5bGU9e3sgb3BhY2l0eSA6IDEsICB9fSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZFRleHR9ID5DcmVhdGUgJm5ic3A7PC9UeXBvZ3JhcGh5Pn1cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgZm9udFdlaWdodDogXCJib2xkXCIsIG9wYWNpdHkgOiAxLCAgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRUZXh0fSA+UDJQICZuYnNwOzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRUZXh0fSA+b2YgJm5ic3A7PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBzdHlsZT17eyBtaW5XaWR0aDogdGhpcy5zdGF0ZS5pc0VkaXRpbmcgPyBcIjdyZW1cIiA6IHRoaXMuc3RhdGUuYW1vdW50VGV4dEZpZWxkV2lkdGggLCB3aWR0aDogdGhpcy5zdGF0ZS5pc0VkaXRpbmcgPyBcIjdyZW1cIiA6IHRoaXMuc3RhdGUuYW1vdW50VGV4dEZpZWxkV2lkdGgsIG1heFdpZHRoOiBcIjlyZW1cIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e1wiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy50ZXh0RmllbGR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hbW91bnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHRoaXMuaGFuZGxlSW52b2ljZUN1cnJlbmN5Q2hhbmdlKGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPVwibm9ybWFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9XCJub3JtYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgPyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMoY2xhc3Nlcy5ib3JkZXJGaXJzdCxjbGFzc2VzLmlucHV0RmllbGRUZXh0KSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWVzKGNsYXNzZXMuYm9yZGVyU2Vjb25kLGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKHRoaXMuc3RhdGUucmVhZE9ubHkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IEJvb2xlYW4odGhpcy5zdGF0ZS5yZWFkT25seSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDb21wb25lbnQ6IHRoaXMuc3RhdGUuaXNFZGl0aW5nID8gTnVtYmVyRm9ybWF0Q3VzdG9tIDogdGhpcy5Gb3JtYXR0ZWRDdXJyZW5jeUlucHV0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNFZGl0aW5nICYmICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3JkZXJDb2xvciBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZEljb259IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpbkxlZnQ6IFwiNnB4XCIgfX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVFZGl0aW5nfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0VkaXRpbmcgJiYgIXRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIaWdobGlnaHRPZmYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpbkxlZnQ6IFwiMC40cmVtXCIsIGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiLCB9fSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXshdGhpcy5zdGF0ZS5wcmV2QW1vdW50ID8gY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0biA6IFwiXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyF0aGlzLnN0YXRlLnByZXZBbW91bnQgPyBlbXB0eUZ1bmN0aW9uIDogdGhpcy5kaXNtaXNzQW1vdW50Q2hhbmdlc30gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogXCIjNUZDMzJDXCIsIH19IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0biA6IFwiXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gZW1wdHlGdW5jdGlvbiA6IHRoaXMuc2F2ZUludm9pY2VBbW91bnRDaGFuZ2V9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZFRleHR9ID4mbmJzcDsgd2l0aCBkdWUgZGF0ZSBvZiAmbmJzcDs8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+IHt0aGlzLnN0YXRlLmlzRG9uZSAmJiA8VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gfX0+e3RoaXMuc3RhdGUuZmluYWxTZWxlY3RlZERhdGV9PC9UeXBvZ3JhcGh5Pn08L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgbWF4V2lkdGg6IFwiOGVtXCIgfX0+eyF0aGlzLnN0YXRlLmlzRG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIgdXRpbHM9e0RhdGVGbnNVdGlsc30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TXVpVGhlbWVQcm92aWRlciB0aGVtZT17bWF0ZXJpYWxUaGVtZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWF4V2lkdGg6IFwiNS4zNXJlbVwiLCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbD17Qm9vbGVhbihmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdD1cIk1NTSBkZCwgeXl5eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRhdGVNZXNzYWdlPVwiUHJldmlvdXMgZGF0ZSBub3QgYWNjZXB0YWJsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzZXMuaW5wdXRGaWVsZFRleHQsY2xhc3Nlcy5ib3JkZXJTZWNvbmQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4odHJ1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17bm9kZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlciA9IG5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRGF0ZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25DbGljaz17ZSA9PiBlLnByZXZlbnREZWZhdWx0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlWWVhclNjcm9sbGluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRhdGU9e25ldyBEYXRlKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVJhbmdlIGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkSWNvbn0gb25DbGljaz17dGhpcy5vcGVuUGlja2VyfSAvPjwvTXVpVGhlbWVQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9NdWlQaWNrZXJzVXRpbHNQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJsZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmludm9pY2VDb3VudCAhPT0gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZGlzcGxheTogXCJmbGV4XCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkVGV4dH0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNFZGl0aW5nICYmIDxzcGFuPiZuYnNwOzwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3dhcmRzJm5ic3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRUZXh0fSBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZUV4cGFuZH0gPnt0aGlzLnN0YXRlLmludm9pY2VDb3VudCArIFwiIEludm9pY2VcIiArICh0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDEgPyBcInNcIiA6IFwiXCIpfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmIDxFcnJvciBjbGFzc05hbWU9e2NsYXNzZXMuZXJyb3JGbGFnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDxDdXN0b21EaWFsb2cgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5BY3Rpb25TYXZlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VBY3Rpb25TYXZlRGlhbG9nfSB0aXRsZT17ZGlzY2FyZE1lc3NhZ2V9IGFjdGlvbnM9e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgWzxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2d9IGNvbG9yPVwicHJpbWFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFncmVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPl1cclxuICAgICAgICAgICAgICAgICAgICB9IC8+XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tRGlhbG9nIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlV2FybmluZ0RpYWxvZ30gdGl0bGU9e3Jlc29sdmVNZXNzYWdlfSBhY3Rpb25zPXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFs8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfSBjb2xvcj1cInNlY29uZGFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XVxyXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cclxuICAgICAgICAgICAgICAgIDxDdXN0b21EaWFsb2cgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5JbnZhbGlkRGF0YU5vdGlmaWVyfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VJbnZhbGlkRGF0YU5vdGlmaWVyfSB0aXRsZT17dGhpcy5zdGF0ZS5pbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlSW52YWxpZERhdGFOb3RpZmllcn0gY29sb3I9XCJzZWNvbmRhcnlcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPl1cclxuICAgICAgICAgICAgICAgICAgICB9IC8+XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsyfSBtZD17Mn0gbGc9ezJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0T2ZmIHN0eWxlPXt7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH19IG9uQ2xpY2s9e3RoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2d9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwiIzVGQzMyQ1wiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmNoZWNrSW52YWxpZGF0aW9uKCkgPyBcIlwiIDogY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0bn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNoZWNrSW52YWxpZGF0aW9uKCkgPyB0aGlzLnNhdmVQMlAgOiBlbXB0eUZ1bmN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTnVtYmVyRm9ybWF0Q3VzdG9tKHByb3BzKSB7XHJcbiAgICBjb25zdCB7IGlucHV0UmVmLCBvbkNoYW5nZSwgLi4ub3RoZXIgfSA9IHByb3BzO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPE51bWJlckZvcm1hdFxyXG4gICAgICAgICAgICB7Li4ub3RoZXJ9XHJcbiAgICAgICAgICAgIGdldElucHV0UmVmPXtpbnB1dFJlZn1cclxuICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17dmFsdWVzID0+IHtcclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlcy52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHRob3VzYW5kU2VwYXJhdG9yXHJcbiAgICAgICAgICAgIHByZWZpeD1cIiRcIlxyXG4gICAgICAgICAgICBhbGxvd05lZ2F0aXZlPXtmYWxzZX1cclxuICAgICAgICAgICAgZGVjaW1hbFNjYWxlPXs4fVxyXG4gICAgICAgIC8+XHJcbiAgICApO1xyXG59XHJcblxyXG5OdW1iZXJGb3JtYXRDdXN0b20ucHJvcFR5cGVzID0ge1xyXG4gICAgaW5wdXRSZWY6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxufTtcclxuXHJcblAyUC5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5jb25zdCBjb21iaW5lZFN0eWxlID0gY29tYmluZVN0eWxlcyhzdHlsZXMsYmFzZVN0eWxlKVxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFAyUClcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9QMlAuanMiLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qc1xuLy8gbW9kdWxlIGlkID0gNjA5MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoXCJyZWFjdFwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJyZWFjdFwiXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLnJlYWN0VGV4dE1hc2s9dChyZXF1aXJlKFwicmVhY3RcIikpOmUucmVhY3RUZXh0TWFzaz10KGUuUmVhY3QpfSh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4pe2lmKHJbbl0pcmV0dXJuIHJbbl0uZXhwb3J0czt2YXIgbz1yW25dPXtleHBvcnRzOnt9LGlkOm4sbG9hZGVkOiExfTtyZXR1cm4gZVtuXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyx0KSxvLmxvYWRlZD0hMCxvLmV4cG9ydHN9dmFyIHI9e307cmV0dXJuIHQubT1lLHQuYz1yLHQucD1cIlwiLHQoMCl9KFtmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbyhlLHQpe3ZhciByPXt9O2Zvcih2YXIgbiBpbiBlKXQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJihyW25dPWVbbl0pO3JldHVybiByfWZ1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiB1KGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jb25mb3JtVG9NYXNrPXZvaWQgMDt2YXIgbD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksZj1yKDIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiY29uZm9ybVRvTWFza1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGYpLmRlZmF1bHR9fSk7dmFyIGM9cigxMSkscD1uKGMpLGQ9cig5KSxoPW4oZCksdj1yKDUpLHk9bih2KSxtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZTtpKHRoaXMsdCk7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShyKSxvPTA7bzxyO28rKyluW29dPWFyZ3VtZW50c1tvXTt2YXIgdT1hKHRoaXMsKGU9dC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobikpKTtyZXR1cm4gdS5vbkJsdXI9dS5vbkJsdXIuYmluZCh1KSx1Lm9uQ2hhbmdlPXUub25DaGFuZ2UuYmluZCh1KSx1fXJldHVybiB1KHQsZSkscyh0LFt7a2V5OlwiaW5pdFRleHRNYXNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9dGhpcy5wcm9wcy52YWx1ZTt0aGlzLnRleHRNYXNrSW5wdXRFbGVtZW50PSgwLHkuZGVmYXVsdCkobCh7aW5wdXRFbGVtZW50OnRoaXMuaW5wdXRFbGVtZW50fSxlKSksdGhpcy50ZXh0TWFza0lucHV0RWxlbWVudC51cGRhdGUodCl9fSx7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5pdFRleHRNYXNrKCl9fSx7a2V5OlwiY29tcG9uZW50RGlkVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmluaXRUZXh0TWFzaygpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uIGUoKXt2YXIgdD10aGlzLHI9dGhpcy5wcm9wcyxlPXIucmVuZGVyLG49byhyLFtcInJlbmRlclwiXSk7ZGVsZXRlIG4ubWFzayxkZWxldGUgbi5ndWlkZSxkZWxldGUgbi5waXBlLGRlbGV0ZSBuLnBsYWNlaG9sZGVyQ2hhcixkZWxldGUgbi5rZWVwQ2hhclBvc2l0aW9ucyxkZWxldGUgbi52YWx1ZSxkZWxldGUgbi5vbkJsdXIsZGVsZXRlIG4ub25DaGFuZ2UsZGVsZXRlIG4uc2hvd01hc2s7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5wdXRFbGVtZW50PWV9O3JldHVybiBlKGksbCh7b25CbHVyOnRoaXMub25CbHVyLG9uQ2hhbmdlOnRoaXMub25DaGFuZ2UsZGVmYXVsdFZhbHVlOnRoaXMucHJvcHMudmFsdWV9LG4pKX19LHtrZXk6XCJvbkNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGV4dE1hc2tJbnB1dEVsZW1lbnQudXBkYXRlKCksXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5wcm9wcy5vbkNoYW5nZSYmdGhpcy5wcm9wcy5vbkNoYW5nZShlKX19LHtrZXk6XCJvbkJsdXJcIix2YWx1ZTpmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnByb3BzLm9uQmx1ciYmdGhpcy5wcm9wcy5vbkJsdXIoZSl9fV0pLHR9KHAuZGVmYXVsdC5Db21wb25lbnQpO3QuZGVmYXVsdD1tLG0ucHJvcFR5cGVzPXttYXNrOmguZGVmYXVsdC5vbmVPZlR5cGUoW2guZGVmYXVsdC5hcnJheSxoLmRlZmF1bHQuZnVuYyxoLmRlZmF1bHQuYm9vbCxoLmRlZmF1bHQuc2hhcGUoe21hc2s6aC5kZWZhdWx0Lm9uZU9mVHlwZShbaC5kZWZhdWx0LmFycmF5LGguZGVmYXVsdC5mdW5jXSkscGlwZTpoLmRlZmF1bHQuZnVuY30pXSkuaXNSZXF1aXJlZCxndWlkZTpoLmRlZmF1bHQuYm9vbCx2YWx1ZTpoLmRlZmF1bHQub25lT2ZUeXBlKFtoLmRlZmF1bHQuc3RyaW5nLGguZGVmYXVsdC5udW1iZXJdKSxwaXBlOmguZGVmYXVsdC5mdW5jLHBsYWNlaG9sZGVyQ2hhcjpoLmRlZmF1bHQuc3RyaW5nLGtlZXBDaGFyUG9zaXRpb25zOmguZGVmYXVsdC5ib29sLHNob3dNYXNrOmguZGVmYXVsdC5ib29sfSxtLmRlZmF1bHRQcm9wcz17cmVuZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIixsKHtyZWY6ZX0sdCkpfX19LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5wbGFjZWhvbGRlckNoYXI9XCJfXCIsdC5zdHJGdW5jdGlvbj1cImZ1bmN0aW9uXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOmwsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtpZighKDAsaS5pc0FycmF5KSh0KSl7aWYoKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6byh0KSkhPT1hLnN0ckZ1bmN0aW9uKXRocm93IG5ldyBFcnJvcihcIlRleHQtbWFzazpjb25mb3JtVG9NYXNrOyBUaGUgbWFzayBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5LlwiKTt0PXQoZSxyKSx0PSgwLGkucHJvY2Vzc0NhcmV0VHJhcHMpKHQpLm1hc2tXaXRob3V0Q2FyZXRUcmFwc312YXIgbj1yLmd1aWRlLHM9dm9pZCAwPT09bnx8bixmPXIucHJldmlvdXNDb25mb3JtZWRWYWx1ZSxjPXZvaWQgMD09PWY/bDpmLHA9ci5wbGFjZWhvbGRlckNoYXIsZD12b2lkIDA9PT1wP2EucGxhY2Vob2xkZXJDaGFyOnAsaD1yLnBsYWNlaG9sZGVyLHY9dm9pZCAwPT09aD8oMCxpLmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcikodCxkKTpoLHk9ci5jdXJyZW50Q2FyZXRQb3NpdGlvbixtPXIua2VlcENoYXJQb3NpdGlvbnMsYj1zPT09ITEmJnZvaWQgMCE9PWMsZz1lLmxlbmd0aCxrPWMubGVuZ3RoLEM9di5sZW5ndGgsTz10Lmxlbmd0aCxUPWctayxQPVQ+MCx4PXkrKFA/LVQ6MCksdz14K01hdGguYWJzKFQpO2lmKG09PT0hMCYmIVApe2Zvcih2YXIgXz1sLE09eDtNPHc7TSsrKXZbTV09PT1kJiYoXys9ZCk7ZT1lLnNsaWNlKDAseCkrXytlLnNsaWNlKHgsZyl9Zm9yKHZhciBTPWUuc3BsaXQobCkubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJue2NoYXI6ZSxpc05ldzp0Pj14JiZ0PHd9fSksaj1nLTE7aj49MDtqLS0pe3ZhciBFPVNbal0uY2hhcjtpZihFIT09ZCl7dmFyIFI9aj49eCYmaz09PU87RT09PXZbUj9qLVQ6al0mJlMuc3BsaWNlKGosMSl9fXZhciBWPWwsQT0hMTtlOmZvcih2YXIgTj0wO048QztOKyspe3ZhciBCPXZbTl07aWYoQj09PWQpe2lmKFMubGVuZ3RoPjApZm9yKDtTLmxlbmd0aD4wOyl7dmFyIEk9Uy5zaGlmdCgpLEY9SS5jaGFyLHE9SS5pc05ldztpZihGPT09ZCYmYiE9PSEwKXtWKz1kO2NvbnRpbnVlIGV9aWYodFtOXS50ZXN0KEYpKXtpZihtPT09ITAmJnEhPT0hMSYmYyE9PWwmJnMhPT0hMSYmUCl7Zm9yKHZhciBEPVMubGVuZ3RoLEw9bnVsbCxXPTA7VzxEO1crKyl7dmFyIEo9U1tXXTtpZihKLmNoYXIhPT1kJiZKLmlzTmV3PT09ITEpYnJlYWs7aWYoSi5jaGFyPT09ZCl7TD1XO2JyZWFrfX1udWxsIT09TD8oVis9RixTLnNwbGljZShMLDEpKTpOLS19ZWxzZSBWKz1GO2NvbnRpbnVlIGV9QT0hMH1iPT09ITEmJihWKz12LnN1YnN0cihOLEMpKTticmVha31WKz1CfWlmKGImJlA9PT0hMSl7Zm9yKHZhciBVPW51bGwsSD0wO0g8Vi5sZW5ndGg7SCsrKXZbSF09PT1kJiYoVT1IKTtWPW51bGwhPT1VP1Yuc3Vic3RyKDAsVSsxKTpsfXJldHVybntjb25mb3JtZWRWYWx1ZTpWLG1ldGE6e3NvbWVDaGFyc1JlamVjdGVkOkF9fX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTt0LmRlZmF1bHQ9bjt2YXIgaT1yKDMpLGE9cigxKSx1PVtdLGw9XCJcIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06cyx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpsLnBsYWNlaG9sZGVyQ2hhcjtpZighbyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJUZXh0LW1hc2s6Y29udmVydE1hc2tUb1BsYWNlaG9sZGVyOyBUaGUgbWFzayBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5LlwiKTtpZihlLmluZGV4T2YodCkhPT0tMSl0aHJvdyBuZXcgRXJyb3IoXCJQbGFjZWhvbGRlciBjaGFyYWN0ZXIgbXVzdCBub3QgYmUgdXNlZCBhcyBwYXJ0IG9mIHRoZSBtYXNrLiBQbGVhc2Ugc3BlY2lmeSBhIGNoYXJhY3RlciB0aGF0IGlzIG5vdCBwcmVzZW50IGluIHlvdXIgbWFzayBhcyB5b3VyIHBsYWNlaG9sZGVyIGNoYXJhY3Rlci5cXG5cXG5cIisoXCJUaGUgcGxhY2Vob2xkZXIgY2hhcmFjdGVyIHRoYXQgd2FzIHJlY2VpdmVkIGlzOiBcIitKU09OLnN0cmluZ2lmeSh0KStcIlxcblxcblwiKSsoXCJUaGUgbWFzayB0aGF0IHdhcyByZWNlaXZlZCBpczogXCIrSlNPTi5zdHJpbmdpZnkoZSkpKTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBSZWdFeHA/dDplfSkuam9pbihcIlwiKX1mdW5jdGlvbiBvKGUpe3JldHVybiBBcnJheS5pc0FycmF5JiZBcnJheS5pc0FycmF5KGUpfHxlIGluc3RhbmNlb2YgQXJyYXl9ZnVuY3Rpb24gaShlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZ31mdW5jdGlvbiBhKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZ2b2lkIDA9PT1lLmxlbmd0aCYmIWlzTmFOKGUpfWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PVtdLHI9dm9pZCAwO3I9ZS5pbmRleE9mKGYpLHIhPT0tMTspdC5wdXNoKHIpLGUuc3BsaWNlKHIsMSk7cmV0dXJue21hc2tXaXRob3V0Q2FyZXRUcmFwczplLGluZGV4ZXM6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXI9bix0LmlzQXJyYXk9byx0LmlzU3RyaW5nPWksdC5pc051bWJlcj1hLHQucHJvY2Vzc0NhcmV0VHJhcHM9dTt2YXIgbD1yKDEpLHM9W10sZj1cIltdXCJ9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXt2YXIgdD1lLnByZXZpb3VzQ29uZm9ybWVkVmFsdWUscj12b2lkIDA9PT10P286dCxpPWUucHJldmlvdXNQbGFjZWhvbGRlcixhPXZvaWQgMD09PWk/bzppLHU9ZS5jdXJyZW50Q2FyZXRQb3NpdGlvbixsPXZvaWQgMD09PXU/MDp1LHM9ZS5jb25mb3JtZWRWYWx1ZSxmPWUucmF3VmFsdWUsYz1lLnBsYWNlaG9sZGVyQ2hhcixwPWUucGxhY2Vob2xkZXIsZD1lLmluZGV4ZXNPZlBpcGVkQ2hhcnMsaD12b2lkIDA9PT1kP246ZCx2PWUuY2FyZXRUcmFwSW5kZXhlcyx5PXZvaWQgMD09PXY/bjp2O2lmKDA9PT1sfHwhZi5sZW5ndGgpcmV0dXJuIDA7dmFyIG09Zi5sZW5ndGgsYj1yLmxlbmd0aCxnPXAubGVuZ3RoLGs9cy5sZW5ndGgsQz1tLWIsTz1DPjAsVD0wPT09YixQPUM+MSYmIU8mJiFUO2lmKFApcmV0dXJuIGw7dmFyIHg9TyYmKHI9PT1zfHxzPT09cCksdz0wLF89dm9pZCAwLE09dm9pZCAwO2lmKHgpdz1sLUM7ZWxzZXt2YXIgUz1zLnRvTG93ZXJDYXNlKCksaj1mLnRvTG93ZXJDYXNlKCksRT1qLnN1YnN0cigwLGwpLnNwbGl0KG8pLFI9RS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFMuaW5kZXhPZihlKSE9PS0xfSk7TT1SW1IubGVuZ3RoLTFdO3ZhciBWPWEuc3Vic3RyKDAsUi5sZW5ndGgpLnNwbGl0KG8pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWN9KS5sZW5ndGgsQT1wLnN1YnN0cigwLFIubGVuZ3RoKS5zcGxpdChvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1jfSkubGVuZ3RoLE49QSE9PVYsQj12b2lkIDAhPT1hW1IubGVuZ3RoLTFdJiZ2b2lkIDAhPT1wW1IubGVuZ3RoLTJdJiZhW1IubGVuZ3RoLTFdIT09YyYmYVtSLmxlbmd0aC0xXSE9PXBbUi5sZW5ndGgtMV0mJmFbUi5sZW5ndGgtMV09PT1wW1IubGVuZ3RoLTJdOyFPJiYoTnx8QikmJlY+MCYmcC5pbmRleE9mKE0pPi0xJiZ2b2lkIDAhPT1mW2xdJiYoXz0hMCxNPWZbbF0pO2Zvcih2YXIgST1oLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gU1tlXX0pLEY9SS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1NfSkubGVuZ3RoLHE9Ui5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1NfSkubGVuZ3RoLEQ9cC5zdWJzdHIoMCxwLmluZGV4T2YoYykpLnNwbGl0KG8pLmZpbHRlcihmdW5jdGlvbihlLHQpe3JldHVybiBlPT09TSYmZlt0XSE9PWV9KS5sZW5ndGgsTD1EK3ErRisoXz8xOjApLFc9MCxKPTA7SjxrO0orKyl7dmFyIFU9U1tKXTtpZih3PUorMSxVPT09TSYmVysrLFc+PUwpYnJlYWt9fWlmKE8pe2Zvcih2YXIgSD13LFk9dztZPD1nO1krKylpZihwW1ldPT09YyYmKEg9WSkscFtZXT09PWN8fHkuaW5kZXhPZihZKSE9PS0xfHxZPT09ZylyZXR1cm4gSH1lbHNlIGlmKF8pe2Zvcih2YXIgej13LTE7ej49MDt6LS0paWYoc1t6XT09PU18fHkuaW5kZXhPZih6KSE9PS0xfHwwPT09eilyZXR1cm4gen1lbHNlIGZvcih2YXIgRz13O0c+PTA7Ry0tKWlmKHBbRy0xXT09PWN8fHkuaW5kZXhPZihHKSE9PS0xfHwwPT09RylyZXR1cm4gR31PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9cjt2YXIgbj1bXSxvPVwiXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBvKGUpe3ZhciB0PXtwcmV2aW91c0NvbmZvcm1lZFZhbHVlOnZvaWQgMCxwcmV2aW91c1BsYWNlaG9sZGVyOnZvaWQgMH07cmV0dXJue3N0YXRlOnQsdXBkYXRlOmZ1bmN0aW9uKHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTplLG89bi5pbnB1dEVsZW1lbnQscz1uLm1hc2ssYz1uLmd1aWRlLHk9bi5waXBlLGI9bi5wbGFjZWhvbGRlckNoYXIsZz12b2lkIDA9PT1iP2gucGxhY2Vob2xkZXJDaGFyOmIsaz1uLmtlZXBDaGFyUG9zaXRpb25zLEM9dm9pZCAwIT09ayYmayxPPW4uc2hvd01hc2ssVD12b2lkIDAhPT1PJiZPO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiByJiYocj1vLnZhbHVlKSxyIT09dC5wcmV2aW91c0NvbmZvcm1lZFZhbHVlKXsoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHM/XCJ1bmRlZmluZWRcIjpsKHMpKT09PW0mJnZvaWQgMCE9PXMucGlwZSYmdm9pZCAwIT09cy5tYXNrJiYoeT1zLnBpcGUscz1zLm1hc2spO3ZhciBQPXZvaWQgMCx4PXZvaWQgMDtpZihzIGluc3RhbmNlb2YgQXJyYXkmJihQPSgwLGQuY29udmVydE1hc2tUb1BsYWNlaG9sZGVyKShzLGcpKSxzIT09ITEpe3ZhciB3PWEociksXz1vLnNlbGVjdGlvbkVuZCxNPXQucHJldmlvdXNDb25mb3JtZWRWYWx1ZSxTPXQucHJldmlvdXNQbGFjZWhvbGRlcixqPXZvaWQgMDtpZigoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHM/XCJ1bmRlZmluZWRcIjpsKHMpKT09PWguc3RyRnVuY3Rpb24pe2lmKHg9cyh3LHtjdXJyZW50Q2FyZXRQb3NpdGlvbjpfLHByZXZpb3VzQ29uZm9ybWVkVmFsdWU6TSxwbGFjZWhvbGRlckNoYXI6Z30pLHg9PT0hMSlyZXR1cm47dmFyIEU9KDAsZC5wcm9jZXNzQ2FyZXRUcmFwcykoeCksUj1FLm1hc2tXaXRob3V0Q2FyZXRUcmFwcyxWPUUuaW5kZXhlczt4PVIsaj1WLFA9KDAsZC5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXIpKHgsZyl9ZWxzZSB4PXM7dmFyIEE9e3ByZXZpb3VzQ29uZm9ybWVkVmFsdWU6TSxndWlkZTpjLHBsYWNlaG9sZGVyQ2hhcjpnLHBpcGU6eSxwbGFjZWhvbGRlcjpQLGN1cnJlbnRDYXJldFBvc2l0aW9uOl8sa2VlcENoYXJQb3NpdGlvbnM6Q30sTj0oMCxwLmRlZmF1bHQpKHcseCxBKSxCPU4uY29uZm9ybWVkVmFsdWUsST0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHk/XCJ1bmRlZmluZWRcIjpsKHkpKT09PWguc3RyRnVuY3Rpb24sRj17fTtJJiYoRj15KEIsdSh7cmF3VmFsdWU6d30sQSkpLEY9PT0hMT9GPXt2YWx1ZTpNLHJlamVjdGVkOiEwfTooMCxkLmlzU3RyaW5nKShGKSYmKEY9e3ZhbHVlOkZ9KSk7dmFyIHE9ST9GLnZhbHVlOkIsRD0oMCxmLmRlZmF1bHQpKHtwcmV2aW91c0NvbmZvcm1lZFZhbHVlOk0scHJldmlvdXNQbGFjZWhvbGRlcjpTLGNvbmZvcm1lZFZhbHVlOnEscGxhY2Vob2xkZXI6UCxyYXdWYWx1ZTp3LGN1cnJlbnRDYXJldFBvc2l0aW9uOl8scGxhY2Vob2xkZXJDaGFyOmcsaW5kZXhlc09mUGlwZWRDaGFyczpGLmluZGV4ZXNPZlBpcGVkQ2hhcnMsY2FyZXRUcmFwSW5kZXhlczpqfSksTD1xPT09UCYmMD09PUQsVz1UP1A6dixKPUw/VzpxO3QucHJldmlvdXNDb25mb3JtZWRWYWx1ZT1KLHQucHJldmlvdXNQbGFjZWhvbGRlcj1QLG8udmFsdWUhPT1KJiYoby52YWx1ZT1KLGkobyxEKSl9fX19fWZ1bmN0aW9uIGkoZSx0KXtkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZSYmKGI/ZyhmdW5jdGlvbigpe3JldHVybiBlLnNldFNlbGVjdGlvblJhbmdlKHQsdCx5KX0sMCk6ZS5zZXRTZWxlY3Rpb25SYW5nZSh0LHQseSkpfWZ1bmN0aW9uIGEoZSl7aWYoKDAsZC5pc1N0cmluZykoZSkpcmV0dXJuIGU7aWYoKDAsZC5pc051bWJlcikoZSkpcmV0dXJuIFN0cmluZyhlKTtpZih2b2lkIDA9PT1lfHxudWxsPT09ZSlyZXR1cm4gdjt0aHJvdyBuZXcgRXJyb3IoXCJUaGUgJ3ZhbHVlJyBwcm92aWRlZCB0byBUZXh0IE1hc2sgbmVlZHMgdG8gYmUgYSBzdHJpbmcgb3IgYSBudW1iZXIuIFRoZSB2YWx1ZSByZWNlaXZlZCB3YXM6XFxuXFxuIFwiK0pTT04uc3RyaW5naWZ5KGUpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1vO3ZhciBzPXIoNCksZj1uKHMpLGM9cigyKSxwPW4oYyksZD1yKDMpLGg9cigxKSx2PVwiXCIseT1cIm5vbmVcIixtPVwib2JqZWN0XCIsYj1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvQW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZz1cInVuZGVmaW5lZFwiIT10eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lP3JlcXVlc3RBbmltYXRpb25GcmFtZTpzZXRUaW1lb3V0fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fXZhciBuPWZ1bmN0aW9uKCl7fTtuLnRoYXRSZXR1cm5zPXIsbi50aGF0UmV0dXJuc0ZhbHNlPXIoITEpLG4udGhhdFJldHVybnNUcnVlPXIoITApLG4udGhhdFJldHVybnNOdWxsPXIobnVsbCksbi50aGF0UmV0dXJuc1RoaXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbi50aGF0UmV0dXJuc0FyZ3VtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlfSxlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LHIsbixpLGEsdSxsKXtpZihvKHQpLCFlKXt2YXIgcztpZih2b2lkIDA9PT10KXM9bmV3IEVycm9yKFwiTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7ZWxzZXt2YXIgZj1bcixuLGksYSx1LGxdLGM9MDtzPW5ldyBFcnJvcih0LnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gZltjKytdfSkpLHMubmFtZT1cIkludmFyaWFudCBWaW9sYXRpb25cIn10aHJvdyBzLmZyYW1lc1RvUG9wPTEsc319dmFyIG89ZnVuY3Rpb24oZSl7fTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoNiksbz1yKDcpLGk9cigxMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixuLGEsdSl7dSE9PWkmJm8oITEsXCJDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiBVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiBSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzXCIpfWZ1bmN0aW9uIHQoKXtyZXR1cm4gZX1lLmlzUmVxdWlyZWQ9ZTt2YXIgcj17YXJyYXk6ZSxib29sOmUsZnVuYzplLG51bWJlcjplLG9iamVjdDplLHN0cmluZzplLHN5bWJvbDplLGFueTplLGFycmF5T2Y6dCxlbGVtZW50OmUsaW5zdGFuY2VPZjp0LG5vZGU6ZSxvYmplY3RPZjp0LG9uZU9mOnQsb25lT2ZUeXBlOnQsc2hhcGU6dCxleGFjdDp0fTtyZXR1cm4gci5jaGVja1Byb3BUeXBlcz1uLHIuUHJvcFR5cGVzPXIscn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxlLmV4cG9ydHM9cig4KSgpfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciByPVwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIjtlLmV4cG9ydHM9cn0sZnVuY3Rpb24odCxyKXt0LmV4cG9ydHM9ZX1dKX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRleHQtbWFzay9kaXN0L3JlYWN0VGV4dE1hc2suanNcbi8vIG1vZHVsZSBpZCA9IDYwOTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vQ1NTVHJhbnNpdGlvblwiKSk7XG5cbnZhciBfUmVwbGFjZVRyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1JlcGxhY2VUcmFuc2l0aW9uXCIpKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1RyYW5zaXRpb25Hcm91cFwiKSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvblwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUcmFuc2l0aW9uOiBfVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBUcmFuc2l0aW9uR3JvdXA6IF9UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdCxcbiAgUmVwbGFjZVRyYW5zaXRpb246IF9SZXBsYWNlVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBDU1NUcmFuc2l0aW9uOiBfQ1NTVHJhbnNpdGlvbi5kZWZhdWx0XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDYwOTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBQcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfYWRkQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9jbGFzcy9hZGRDbGFzc1wiKSk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvblwiKSk7XG5cbnZhciBfUHJvcFR5cGVzID0gcmVxdWlyZShcIi4vdXRpbHMvUHJvcFR5cGVzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbiBhZGRDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9hZGRDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9yZW1vdmVDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gX2V4dGVuZHMoe30sIF9UcmFuc2l0aW9uLmRlZmF1bHQucHJvcFR5cGVzLCB7XG4gIC8qKlxuICAgKiBUaGUgYW5pbWF0aW9uIGNsYXNzTmFtZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50IGFzIGl0IGVudGVycywgZXhpdHMgb3IgaGFzIGZpbmlzaGVkIHRoZSB0cmFuc2l0aW9uLlxuICAgKiBBIHNpbmdsZSBuYW1lIGNhbiBiZSBwcm92aWRlZCBhbmQgaXQgd2lsbCBiZSBzdWZmaXhlZCBmb3IgZWFjaCBzdGFnZTogZS5nLlxuICAgKlxuICAgKiBgY2xhc3NOYW1lcz1cImZhZGVcImAgYXBwbGllcyBgZmFkZS1lbnRlcmAsIGBmYWRlLWVudGVyLWFjdGl2ZWAsIGBmYWRlLWVudGVyLWRvbmVgLFxuICAgKiBgZmFkZS1leGl0YCwgYGZhZGUtZXhpdC1hY3RpdmVgLCBgZmFkZS1leGl0LWRvbmVgLCBgZmFkZS1hcHBlYXJgLCBhbmQgYGZhZGUtYXBwZWFyLWFjdGl2ZWAuXG4gICAqIEVhY2ggaW5kaXZpZHVhbCBjbGFzc05hbWVzIGNhbiBhbHNvIGJlIHNwZWNpZmllZCBpbmRlcGVuZGVudGx5IGxpa2U6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3tcbiAgICogIGFwcGVhcjogJ215LWFwcGVhcicsXG4gICAqICBhcHBlYXJBY3RpdmU6ICdteS1hY3RpdmUtYXBwZWFyJyxcbiAgICogIGVudGVyOiAnbXktZW50ZXInLFxuICAgKiAgZW50ZXJBY3RpdmU6ICdteS1hY3RpdmUtZW50ZXInLFxuICAgKiAgZW50ZXJEb25lOiAnbXktZG9uZS1lbnRlcicsXG4gICAqICBleGl0OiAnbXktZXhpdCcsXG4gICAqICBleGl0QWN0aXZlOiAnbXktYWN0aXZlLWV4aXQnLFxuICAgKiAgZXhpdERvbmU6ICdteS1kb25lLWV4aXQnLFxuICAgKiB9fVxuICAgKiBgYGBcbiAgICpcbiAgICogSWYgeW91IHdhbnQgdG8gc2V0IHRoZXNlIGNsYXNzZXMgdXNpbmcgQ1NTIE1vZHVsZXM6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuY3NzJztcbiAgICogYGBgXG4gICAqXG4gICAqIHlvdSBtaWdodCB3YW50IHRvIHVzZSBjYW1lbENhc2UgaW4geW91ciBDU1MgZmlsZSwgdGhhdCB3YXkgY291bGQgc2ltcGx5IHNwcmVhZFxuICAgKiB0aGVtIGluc3RlYWQgb2YgbGlzdGluZyB0aGVtIG9uZSBieSBvbmU6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3sgLi4uc3R5bGVzIH19XG4gICAqIGBgYFxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nIHwge1xuICAgKiAgYXBwZWFyPzogc3RyaW5nLFxuICAgKiAgYXBwZWFyQWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZW50ZXI/OiBzdHJpbmcsXG4gICAqICBlbnRlckFjdGl2ZT86IHN0cmluZyxcbiAgICogIGVudGVyRG9uZT86IHN0cmluZyxcbiAgICogIGV4aXQ/OiBzdHJpbmcsXG4gICAqICBleGl0QWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZXhpdERvbmU/OiBzdHJpbmcsXG4gICAqIH19XG4gICAqL1xuICBjbGFzc05hbWVzOiBfUHJvcFR5cGVzLmNsYXNzTmFtZXNTaGFwZSxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyJyBvciAnYXBwZWFyJyBjbGFzcyBpc1xuICAgKiBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyLWFjdGl2ZScgb3JcbiAgICogJ2FwcGVhci1hY3RpdmUnIGNsYXNzIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbClcbiAgICovXG4gIG9uRW50ZXJpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXInIG9yXG4gICAqICdhcHBlYXInIGNsYXNzZXMgYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGRvbmVgIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBET00gbm9kZS5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzIGlzXG4gICAqIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KVxuICAgKi9cbiAgb25FeGl0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQtYWN0aXZlJyBpcyBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudFxuICAgKi9cbiAgb25FeGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzZXNcbiAgICogYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGV4aXQtZG9uZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIERPTSBub2RlLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudClcbiAgICovXG4gIG9uRXhpdGVkOiBQcm9wVHlwZXMuZnVuY1xufSkgOiB7fTs7XG4vKipcbiAqIEEgYFRyYW5zaXRpb25gIGNvbXBvbmVudCB1c2luZyBDU1MgdHJhbnNpdGlvbnMgYW5kIGFuaW1hdGlvbnMuXG4gKiBJdCdzIGluc3BpcmVkIGJ5IHRoZSBleGNlbGxlbnQgW25nLWFuaW1hdGVdKGh0dHA6Ly93d3cubmdhbmltYXRlLm9yZy8pIGxpYnJhcnkuXG4gKlxuICogYENTU1RyYW5zaXRpb25gIGFwcGxpZXMgYSBwYWlyIG9mIGNsYXNzIG5hbWVzIGR1cmluZyB0aGUgYGFwcGVhcmAsIGBlbnRlcmAsXG4gKiBhbmQgYGV4aXRgIHN0YWdlcyBvZiB0aGUgdHJhbnNpdGlvbi4gVGhlIGZpcnN0IGNsYXNzIGlzIGFwcGxpZWQgYW5kIHRoZW4gYVxuICogc2Vjb25kIFwiYWN0aXZlXCIgY2xhc3MgaW4gb3JkZXIgdG8gYWN0aXZhdGUgdGhlIGNzcyBhbmltYXRpb24uIEFmdGVyIHRoZSBhbmltYXRpb24sXG4gKiBtYXRjaGluZyBgZG9uZWAgY2xhc3MgbmFtZXMgYXJlIGFwcGxpZWQgdG8gcGVyc2lzdCB0aGUgYW5pbWF0aW9uIHN0YXRlLlxuICpcbiAqIFdoZW4gdGhlIGBpbmAgcHJvcCBpcyB0b2dnbGVkIHRvIGB0cnVlYCB0aGUgQ29tcG9uZW50IHdpbGwgZ2V0XG4gKiB0aGUgYGV4YW1wbGUtZW50ZXJgIENTUyBjbGFzcyBhbmQgdGhlIGBleGFtcGxlLWVudGVyLWFjdGl2ZWAgQ1NTIGNsYXNzXG4gKiBhZGRlZCBpbiB0aGUgbmV4dCB0aWNrLiBUaGlzIGlzIGEgY29udmVudGlvbiBiYXNlZCBvbiB0aGUgYGNsYXNzTmFtZXNgIHByb3AuXG4gKi9cblxudmFyIENTU1RyYW5zaXRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ1NTVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLm9uRW50ZXIgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lcyA9IF90aGlzLmdldENsYXNzTmFtZXMoYXBwZWFyaW5nID8gJ2FwcGVhcicgOiAnZW50ZXInKSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzLmNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZXhpdCcpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkVudGVyaW5nID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMyID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcyhhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpLFxuICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXMyLmFjdGl2ZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJpbmcpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FbnRlcmluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FbnRlcmVkID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMzID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZW50ZXInKSxcbiAgICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczMuZG9uZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCBhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBkb25lQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJlZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczQgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczQuY2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdhcHBlYXInKTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZW50ZXInKTtcblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRXhpdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkV4aXQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdGluZyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczUgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczUuYWN0aXZlQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0aW5nKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRXhpdGluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FeGl0ZWQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXM2ID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZXhpdCcpLFxuICAgICAgICAgIGRvbmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNi5kb25lQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdleGl0Jyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGRvbmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0ZWQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FeGl0ZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmdldENsYXNzTmFtZXMgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgdmFyIGNsYXNzTmFtZXMgPSBfdGhpcy5wcm9wcy5jbGFzc05hbWVzO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZV0gOiBjbGFzc05hbWVzICsgJy0nICsgdHlwZTtcbiAgICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSB0eXBlb2YgY2xhc3NOYW1lcyAhPT0gJ3N0cmluZycgPyBjbGFzc05hbWVzW3R5cGUgKyAnQWN0aXZlJ10gOiBjbGFzc05hbWUgKyAnLWFjdGl2ZSc7XG4gICAgICB2YXIgZG9uZUNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZSArICdEb25lJ10gOiBjbGFzc05hbWUgKyAnLWRvbmUnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIGFjdGl2ZUNsYXNzTmFtZTogYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lOiBkb25lQ2xhc3NOYW1lXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ1NTVHJhbnNpdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbW92ZUNsYXNzZXMgPSBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKG5vZGUsIHR5cGUpIHtcbiAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczcgPSB0aGlzLmdldENsYXNzTmFtZXModHlwZSksXG4gICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM3LmNsYXNzTmFtZSxcbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuZG9uZUNsYXNzTmFtZTtcblxuICAgIGNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuICAgIGFjdGl2ZUNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuICAgIGRvbmVDbGFzc05hbWUgJiYgcmVtb3ZlQ2xhc3Mobm9kZSwgZG9uZUNsYXNzTmFtZSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlZmxvd0FuZEFkZENsYXNzID0gZnVuY3Rpb24gcmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBmb3IgdG8gZm9yY2UgYSByZXBhaW50LFxuICAgIC8vIHdoaWNoIGlzIG5lY2Vzc2FyeSBpbiBvcmRlciB0byB0cmFuc2l0aW9uIHN0eWxlcyB3aGVuIGFkZGluZyBhIGNsYXNzIG5hbWUuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICBub2RlICYmIG5vZGUuc2Nyb2xsVG9wO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG5cbiAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lcztcbiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIG9uRW50ZXI6IHRoaXMub25FbnRlcixcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5vbkVudGVyZWQsXG4gICAgICBvbkVudGVyaW5nOiB0aGlzLm9uRW50ZXJpbmcsXG4gICAgICBvbkV4aXQ6IHRoaXMub25FeGl0LFxuICAgICAgb25FeGl0aW5nOiB0aGlzLm9uRXhpdGluZyxcbiAgICAgIG9uRXhpdGVkOiB0aGlzLm9uRXhpdGVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBDU1NUcmFuc2l0aW9uO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5DU1NUcmFuc2l0aW9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xudmFyIF9kZWZhdWx0ID0gQ1NTVHJhbnNpdGlvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDYwOTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYWRkQ2xhc3M7XG5cbnZhciBfaGFzQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2hhc0NsYXNzXCIpKTtcblxuZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7ZWxzZSBpZiAoISgwLCBfaGFzQ2xhc3MuZGVmYXVsdCkoZWxlbWVudCwgY2xhc3NOYW1lKSkgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUgKyAnICcgKyBjbGFzc05hbWU7ZWxzZSBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoZWxlbWVudC5jbGFzc05hbWUgJiYgZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbCB8fCAnJykgKyAnICcgKyBjbGFzc05hbWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gaGFzQ2xhc3M7XG5cbmZ1bmN0aW9uIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHJldHVybiAhIWNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO2Vsc2UgcmV0dXJuIChcIiBcIiArIChlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8IGVsZW1lbnQuY2xhc3NOYW1lKSArIFwiIFwiKS5pbmRleE9mKFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIpICE9PSAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9oYXNDbGFzcy5qc1xuLy8gbW9kdWxlIGlkID0gNjA5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHJlcGxhY2VDbGFzc05hbWUob3JpZ0NsYXNzLCBjbGFzc1RvUmVtb3ZlKSB7XG4gIHJldHVybiBvcmlnQ2xhc3MucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgY2xhc3NUb1JlbW92ZSArICcoPzpcXFxcc3wkKScsICdnJyksICckMScpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7ZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSByZXBsYWNlQ2xhc3NOYW1lKGVsZW1lbnQuY2xhc3NOYW1lLCBjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgcmVwbGFjZUNsYXNzTmFtZShlbGVtZW50LmNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8ICcnLCBjbGFzc05hbWUpKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MuanNcbi8vIG1vZHVsZSBpZCA9IDYwOTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKFwicmVhY3QtZG9tXCIpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvbkdyb3VwXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgaW46IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihwcm9wcywgcHJvcE5hbWUpIHtcbiAgICBpZiAoX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4uY291bnQocHJvcHNbcHJvcE5hbWVdKSAhPT0gMikgcmV0dXJuIG5ldyBFcnJvcihcIlxcXCJcIiArIHByb3BOYW1lICsgXCJcXFwiIG11c3QgYmUgZXhhY3RseSB0d28gdHJhbnNpdGlvbiBjb21wb25lbnRzLlwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSA6IHt9Oztcbi8qKlxuICogVGhlIGA8UmVwbGFjZVRyYW5zaXRpb24+YCBjb21wb25lbnQgaXMgYSBzcGVjaWFsaXplZCBgVHJhbnNpdGlvbmAgY29tcG9uZW50XG4gKiB0aGF0IGFuaW1hdGVzIGJldHdlZW4gdHdvIGNoaWxkcmVuLlxuICpcbiAqIGBgYGpzeFxuICogPFJlcGxhY2VUcmFuc2l0aW9uIGluPlxuICogICA8RmFkZT48ZGl2PkkgYXBwZWFyIGZpcnN0PC9kaXY+PC9GYWRlPlxuICogICA8RmFkZT48ZGl2PkkgcmVwbGFjZSB0aGUgYWJvdmU8L2Rpdj48L0ZhZGU+XG4gKiA8L1JlcGxhY2VUcmFuc2l0aW9uPlxuICogYGBgXG4gKi9cblxudmFyIFJlcGxhY2VUcmFuc2l0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJlcGxhY2VUcmFuc2l0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSZXBsYWNlVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KF9hcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FbnRlcicsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFbnRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXJpbmcnLCAwLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXJlZCcsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFeGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTVdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0JywgMSwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUV4aXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjYpLCBfa2V5NiA9IDA7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHtcbiAgICAgICAgYXJnc1tfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkV4aXRpbmcnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRXhpdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW43KSwgX2tleTcgPSAwOyBfa2V5NyA8IF9sZW43OyBfa2V5NysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTddID0gYXJndW1lbnRzW19rZXk3XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0ZWQnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJlcGxhY2VUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uaGFuZGxlTGlmZWN5Y2xlID0gZnVuY3Rpb24gaGFuZGxlTGlmZWN5Y2xlKGhhbmRsZXIsIGlkeCwgb3JpZ2luYWxBcmdzKSB7XG4gICAgdmFyIF9jaGlsZCRwcm9wcztcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICB2YXIgY2hpbGQgPSBfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKVtpZHhdO1xuXG4gICAgaWYgKGNoaWxkLnByb3BzW2hhbmRsZXJdKSAoX2NoaWxkJHByb3BzID0gY2hpbGQucHJvcHMpW2hhbmRsZXJdLmFwcGx5KF9jaGlsZCRwcm9wcywgb3JpZ2luYWxBcmdzKTtcbiAgICBpZiAodGhpcy5wcm9wc1toYW5kbGVyXSkgdGhpcy5wcm9wc1toYW5kbGVyXSgoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzKSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBpblByb3AgPSBfdGhpcyRwcm9wcy5pbixcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wiY2hpbGRyZW5cIiwgXCJpblwiXSk7XG5cbiAgICB2YXIgX1JlYWN0JENoaWxkcmVuJHRvQXJyID0gX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbiksXG4gICAgICAgIGZpcnN0ID0gX1JlYWN0JENoaWxkcmVuJHRvQXJyWzBdLFxuICAgICAgICBzZWNvbmQgPSBfUmVhY3QkQ2hpbGRyZW4kdG9BcnJbMV07XG5cbiAgICBkZWxldGUgcHJvcHMub25FbnRlcjtcbiAgICBkZWxldGUgcHJvcHMub25FbnRlcmluZztcbiAgICBkZWxldGUgcHJvcHMub25FbnRlcmVkO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkV4aXQ7XG4gICAgZGVsZXRlIHByb3BzLm9uRXhpdGluZztcbiAgICBkZWxldGUgcHJvcHMub25FeGl0ZWQ7XG4gICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RyYW5zaXRpb25Hcm91cC5kZWZhdWx0LCBwcm9wcywgaW5Qcm9wID8gX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KGZpcnN0LCB7XG4gICAgICBrZXk6ICdmaXJzdCcsXG4gICAgICBvbkVudGVyOiB0aGlzLmhhbmRsZUVudGVyLFxuICAgICAgb25FbnRlcmluZzogdGhpcy5oYW5kbGVFbnRlcmluZyxcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5oYW5kbGVFbnRlcmVkXG4gICAgfSkgOiBfcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoc2Vjb25kLCB7XG4gICAgICBrZXk6ICdzZWNvbmQnLFxuICAgICAgb25FbnRlcjogdGhpcy5oYW5kbGVFeGl0LFxuICAgICAgb25FbnRlcmluZzogdGhpcy5oYW5kbGVFeGl0aW5nLFxuICAgICAgb25FbnRlcmVkOiB0aGlzLmhhbmRsZUV4aXRlZFxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gUmVwbGFjZVRyYW5zaXRpb247XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cblJlcGxhY2VUcmFuc2l0aW9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xudmFyIF9kZWZhdWx0ID0gUmVwbGFjZVRyYW5zaXRpb247XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9SZXBsYWNlVHJhbnNpdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gNjA5N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcclxuICogQGF1dGhvciA6IFNocnV0aSBTaW5oYVxyXG4gKi9cclxuXHJcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCB7IERvbmUsIEhpZ2hsaWdodE9mZiwgQ2hlY2tDaXJjbGVPdXRsaW5lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBFcnJvciBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRXJyb3InO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NlbGVjdCc7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9NZW51SXRlbSc7XHJcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCBDdXN0b21EaWFsb2cgZnJvbSAnLi9DdXN0b21EaWFsb2cnXHJcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gXCJkYXRlLWZuc1wiO1xyXG5pbXBvcnQgeyBlbXB0eUZ1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICAnLi4vdXRpbHMvYmFzZVN0eWxlJztcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcblxyXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBzdW1tYXJ5OiB7XHJcbiAgICAgICAgc3VtbWFyeTogXCJcIixcclxuICAgIH0sXHJcbiAgICByZWFzb25Db2RlTGlzdDogW10sXHJcbiAgICBjb3JyZWN0SW52b2ljZXM6IFwiXCIsXHJcbiAgICBpbmNvcnJlY3RGbGFnOiBcIlwiLFxyXG4gICAgdG9nZ2xlRXhwYW5kOiBmYWxzZSxcclxuICAgIGRlbGV0ZUFjdGlvbjogZnVuY3Rpb24oKSB7fSxcclxuXHJcbn07XHJcblxyXG5jb25zdCBkaXNwdXRlUmVnZXggPSAvKFxcZCogaW52b2ljZSl8KGJlY2F1c2Ugb2YgLiopL2c7XHJcbmNvbnN0IGRpc2NhcmRNZXNzYWdlID0gXCJUaGlzIHdpbGwgYmUgcmVtb3ZlZCBwZXJtYW5lbnRseSBmcm9tIHRoZSBzdWdnZXN0ZWQgYWN0aW9ucy4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS5cIjtcclxuY29uc3QgcmVzb2x2ZU1lc3NhZ2UgPSBcIiBVbmFibGUgdG8gY29tcGxldGUgdGhlIGFjdGlvbi4gUGxlYXNlIHJlc29sdmUgdGhlIGVycm9ycyB0byBhcHByb3ZlLlwiO1xyXG5jb25zdCBub1JlYXNvbk1lc3NhZ2UgPSBcIlBsZWFzZSBzZWxlY3QgYXBwcm9wcmlhdGUgZGlzcHV0ZSByZWFzb24uXCI7XHJcbmNvbnN0IG5vSW52b2ljZU1lc3NhZ2UgPSBcIk5vIGludm9pY2Ugc2VsZWN0ZWQuIFBsZWFzZSBhZGQgYXQgbGVhc3QgYW4gaW52b2ljZSB0byBzYXZlIHRoZSBkaXNwdXRlLlwiO1xyXG5jb25zdCBESVNQVVRFX1RFTVBMQVRFID0gXCJEaXNwdXRlIHJhaXNlZCBmb3IgPEludm9pY2VzPiBiZWNhdXNlIG9mIDogPERJU1BVVEUtUkVBU09OPlwiO1xyXG5jb25zdCBESVNQVVRFX09SSUdfVEVNUExBVEUgPSBcIkNyZWF0ZSBEaXNwdXRlIGZvciA8SW52b2ljZXM+IGJlY2F1c2Ugb2YgPFJlYXNvbkNvZGU+XCI7XHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgICBzZWxlY3RJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY2xhc3MgRGlzcHV0ZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICBsZXQgZXh0cmFjdGVkRGF0YSA9ICh0aGlzLnByb3BzLnN1bW1hcnkgJiYgdGhpcy5wcm9wcy5zdW1tYXJ5LnN1bW1hcnkpP3RoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKGRpc3B1dGVSZWdleCk6XCJcIjtcclxuXHJcbiAgICAgICAgbGV0IHJlYXNvbkNvZGUgPSBleHRyYWN0ZWREYXRhWzFdID8gZXh0cmFjdGVkRGF0YVsxXS5zdWJzdHJpbmcoMTEpIDogXCJcIjtcclxuICAgICAgICBsZXQgcmVhc29uQ29kZXMgPSB0aGlzLnByb3BzLnJlYXNvbkNvZGVMaXN0O1xyXG5cclxuICAgICAgICBpZiAocmVhc29uQ29kZXMuaW5kZXhPZihyZWFzb25Db2RlKSA8IDApIHtcclxuICAgICAgICAgICAgcmVhc29uQ29kZSA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICByZWFzb25Db2RlOiByZWFzb25Db2RlLFxyXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IHRoaXMucHJvcHMuaW52b2ljZUNvdW50LFxyXG4gICAgICAgICAgICBvcGVuQWN0aW9uU2F2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcclxuICAgICAgICAgICAgb3Blbk5vUmVhc29uRGlhbG9nOiBmYWxzZSxcclxuICAgICAgICAgICAgb3Blbk5vSW52b2ljZURpYWxvZzogZmFsc2UsXHJcbiAgICAgICAgICAgIG9wZW5Qcm9ncmVzc0JhcjogdHJ1ZSxcclxuICAgICAgICAgICAgYWN0aW9uSWQ6IHRoaXMucHJvcHMuc3VtbWFyeS5pZCxcclxuICAgICAgICAgICAgaXNEb25lOiB0aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSxcclxuICAgICAgICAgICAgZmluYWxTZWxlY3RlZERhdGU6IFwiXCIsXHJcbiAgICAgICAgICAgIGNoYW5nZTogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IG5leHRQcm9wcy5pbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobmV4dFByb3BzLmludm9pY2VDb3VudCA+PSAwICYmIG5leHRQcm9wcy5pbnZvaWNlQ291bnQgIT0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VDb3VudDogbmV4dFByb3BzLmludm9pY2VDb3VudCB9XHJcbiAgICAgICAgICAgICAgICAsICgpID0+IHsgdGhpcy51cGRhdGVTdW1tYXJ5KCkgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLypjaGFuZ2UqIGJvdHRvbiAzIGZ1bmN0aW9uc1xyXG4gICAgc2F2ZURpc3B1dGUgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5wcm9wcy5jb3JyZWN0SW52b2ljZXMubWFwKGludm9pY2UgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW52b2ljZU9iaiA9IHt9XHJcbiAgICAgICAgICAgIGludm9pY2VPYmouY21zRG9jSGVhZGVySWQgPSBpbnZvaWNlLmlkXHJcbiAgICAgICAgICAgIHJldHVybiBpbnZvaWNlT2JqO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnJlYXNvbkNvZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5Ob1JlYXNvbkRpYWxvZzogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5Ob0ludm9pY2VEaWFsb2c6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGxldCByZXFPYmogPSB7XHJcbiAgICAgICAgICAgIC8vIGFjdHVhbERpc3B1dGVBbW91bnQ6IHRoaXMuc3RhdGUuYW1vdW50LFxyXG4gICAgICAgICAgICByZWFzb25Db2RlOiB0aGlzLnN0YXRlLnJlYXNvbkNvZGUsXHJcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IHRoaXMucHJvcHMuY3VzdG9tZXIuaWQsXHJcbiAgICAgICAgICAgIGRpc3B1dGVJdGVtczogaW52b2ljZXMsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jdXN0b21lci8ke3RoaXMucHJvcHMuY3VzdG9tZXIuaWR9L2Rpc3B1dGVgLCByZXFPYmopXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJTVUNDRVNTXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0RvbmU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy91cGRhdGUgZmxhZyBpbiBhY3Rpb25zIHwgcG9zdCBjYWxsIFxyXG4gICAgICAgICAgICAgICAgbGV0IHN1bW1hcnlUb1NhdmUgPSB0aGlzLmdlbmVyYXRlQWN0aW9uU3VtbWFyeSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybShzdW1tYXJ5VG9TYXZlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3VtbWFyeSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVSUk9SXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQWN0aW9uU3VtbWFyeSA9ICgpID0+IHtcclxuICAgICAgICBsZXQgaW52b2ljZUNvdW50ID0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQ7XHJcblxyXG4gICAgICAgIGxldCBnZW5lcmF0ZWRTdW1tYXJ5ID0gRElTUFVURV9URU1QTEFURS5yZXBsYWNlKFwiPERJU1BVVEUtUkVBU09OPlwiLCB0aGlzLnN0YXRlLnJlYXNvbkNvZGUpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCAoaW52b2ljZUNvdW50ID09IDEpID8gaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZVwiIDogaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIik7XHJcblxyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZWRTdW1tYXJ5O1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVN1bW1hcnkgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCBpbnZvaWNlQ291bnQgPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudDtcclxuICAgICAgICBsZXQgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdChuZXcgRGF0ZSh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSksIFwieXl5eS1NTS1kZFwiKTtcclxuICAgICAgICBsZXQgdXBkYXRlZFN1bW1hcnkgPSBESVNQVVRFX09SSUdfVEVNUExBVEUucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgKGludm9pY2VDb3VudCA9PT0gMCkgPyBcIjxYIGludm9pY2VzPlwiIDogaW52b2ljZUNvdW50ID09PSAxID8gaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZVwiIDogaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIilcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCI8UmVhc29uQ29kZT5cIiwgdGhpcy5zdGF0ZS5yZWFzb25Db2RlKTtcclxuICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBtZXNzYWdlID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9wZW5TbmFja2Jhck9uQWN0aW9uKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogdHJ1ZSB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQW5kRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGVsZXRlQWN0aW9uKHRoaXMuc3RhdGUuYWN0aW9uSWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVdhcm5pbmdEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZU5vUmVhc29uRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9SZWFzb25EaWFsb2c6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlTm9JbnZvaWNlRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9JbnZvaWNlRGlhbG9nOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVSZWFzb25Db2RlQ2hhbmdlID0gZXZlbnQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBjaGFuZ2U6IHRydWUsXHJcbiAgICAgICAgICAgIHJlYXNvbkNvZGU6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgLy8gcmVhc29uQ29kZVRleHRGaWVsZFdpZHRoOiBldmVudC50YXJnZXQudmFsdWUgPyAoXCJcIiArIGV2ZW50LnRhcmdldC52YWx1ZS5sZW5ndGgpICogMTIgOiA1MFxyXG4gICAgICAgIH0sICgpID0+IHsgdGhpcy51cGRhdGVTdW1tYXJ5KCkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGdldFJlYXNvbkNvZGUgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlYXNvbkNvZGVzID0gdGhpcy5wcm9wcy5yZWFzb25Db2RlTGlzdDtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5yZWFzb25Db2RlICYmIHJlYXNvbkNvZGVzLmluZGV4T2YodGhpcy5zdGF0ZS5yZWFzb25Db2RlKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIHJldHVybiBcIlNlbGVjdFwiO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5yZWFzb25Db2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJTZWxlY3RcIjtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgc3VtbWFyeSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCB7IGZ1bGxTY3JlZW4gfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIGxldCByZWFzb25Db2RlcyA9IHRoaXMucHJvcHMucmVhc29uQ29kZUxpc3Q7XHJcbiAgICAgICAgbGV0IG9wdGlvbkl0ZW1zID0gcmVhc29uQ29kZXMgJiYgcmVhc29uQ29kZXMubWFwKChyZWFzb25Db2RlLCBpZCkgPT5cclxuICAgICAgICAgICAgPE1lbnVJdGVtIGtleT17aWR9IGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9e3JlYXNvbkNvZGV9PntyZWFzb25Db2RlfTwvTWVudUl0ZW0+XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlU2FtcGxlfT5cclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEwfSBtZD17MTB9IGxnPXsxMH0gY29udGFpbmVyIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwiZmxleC1zdGFydFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IFwiM3JlbVwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFjdGlvblNhdmVQcm9ncmVzc0JhciAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgY2xhc3NOYW1lPXtjbGFzc2VzLmFjdGlvblByb2dyZXNzQmFyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RG9uZSBzdHlsZT17eyBjb2xvcjogXCIjNUZDMzJDXCIgLCBwYWRkaW5nTGVmdCA6IFwiMC41cmVtXCIsIHBhZGRpbmdSaWdodCA6IFwiMC41cmVtXCIsIGhlaWdodCA6IFwiMS41cmVtXCIsIHdpZHRoIDogXCIxLjVyZW1cIiB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNEb25lICYmIDxUeXBvZ3JhcGh5ICBzdHlsZT17eyAgb3BhY2l0eSA6IDEsICB9fSBjbGFzc05hbWUgPSB7Y2xhc3Nlcy5jYXJkVGV4dH0gPkNyZWF0ZWQgJm5ic3A7PC9UeXBvZ3JhcGh5Pn1cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnN0YXRlLmlzRG9uZSAmJiA8VHlwb2dyYXBoeSBzdHlsZT17eyAgb3BhY2l0eSA6IDEsICB9fSBjbGFzc05hbWUgPSB7Y2xhc3Nlcy5jYXJkVGV4dH0+Q3JlYXRlICZuYnNwOzwvVHlwb2dyYXBoeT59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGZvbnRXZWlnaHQ6IFwiYm9sZFwiLCBvcGFjaXR5IDogMSwgfX0gY2xhc3NOYW1lID0ge2NsYXNzZXMuY2FyZFRleHR9PkRJU1BVVEUgJm5ic3A7PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgIT09IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGRpc3BsYXk6IFwiZmxleFwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IG1hcmdpbjogXCIwIDhweCAwIDZweFwiIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkVGV4dH0+Zm9yPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZFRleHR9IG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRXhwYW5kfT57dGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgKyBcIiBJbnZvaWNlXCIgKyAodGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgPiAxID8gXCJzXCIgOiBcIlwiKX08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW5jb3JyZWN0RmxhZyAmJiA8RXJyb3IgY2xhc3NOYW1lPXtjbGFzc2VzLmVycm9yRmxhZ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRUZXh0fT4mbmJzcDsgd2l0aCByZWFzb24gY29kZSBvZiAmbmJzcDs8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUucmVhc29uQ29kZVRleHRGaWVsZFdpZHRoIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbj17dGhpcy5zdGF0ZS5pc0RvbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInJlYXNvbi1jb2RlLWZpZWxkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLmdldFJlYXNvbkNvZGUoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVJlYXNvbkNvZGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuc3RhdGUucmVhc29uQ29kZSA/IGNsYXNzTmFtZXMoY2xhc3Nlcy5ib3JkZXJTZWNvbmQsY2xhc3Nlcy5pbnB1dEZpZWxkVGV4dCkgOiBjbGFzc05hbWVzKGNsYXNzZXMuYm9yZGVyRmlyc3QsY2xhc3Nlcy5pbnB1dEZpZWxkVGV4dCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudUNsYXNzLCBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24gfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnVQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9XCJTZWxlY3RcIiBkaXNhYmxlZCA+U2VsZWN0PC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcHRpb25JdGVtc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUucmVhc29uQ29kZVRleHRGaWVsZFdpZHRoIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbj17IXRoaXMuc3RhdGUuaXNEb25lfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e3RoaXMuc3RhdGUucmVhc29uQ29kZX08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFjdGlvblNhdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e2Rpc2NhcmRNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWdyZWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbURpYWxvZyBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFjdGlvblNhdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2d9IHRpdGxlPXtkaXNjYXJkTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24ga2V5PXtcIkN1c3RvbURpYWxvZ1wiKzB9IG9uQ2xpY2s9e3RoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nfSBjb2xvcj1cInByaW1hcnlcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5dXHJcbiAgICAgICAgICAgICAgICAgICAgfSAvPlxyXG5cclxuICAgICAgICAgICAgICAgIHsvKiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5XYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgaWQ9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiPntyZXNvbHZlTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tRGlhbG9nIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlV2FybmluZ0RpYWxvZ30gdGl0bGU9e3Jlc29sdmVNZXNzYWdlfSBhY3Rpb25zPXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFs8QnV0dG9uICBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9IGNvbG9yPVwicHJpbWFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XVxyXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cclxuICAgICAgICAgICAgICAgIHsvKiA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5Ob1JlYXNvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlTm9SZWFzb25EaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e25vUmVhc29uTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbURpYWxvZyBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbk5vUmVhc29uRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZ30gdGl0bGU9e25vUmVhc29uTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZU5vUmVhc29uRGlhbG9nfSBjb2xvcj1cInNlY29uZGFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XVxyXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cclxuICAgICAgICAgICAgICAgIHsvKiA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5Ob0ludm9pY2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGlkPVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIj57bm9JbnZvaWNlTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VOb0ludm9pY2VEaWFsb2d9IGNvbG9yPVwiZGVmYXVsdFwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPiAqL31cclxuICAgICAgICAgICAgICAgIDxDdXN0b21EaWFsb2cgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5Ob0ludm9pY2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZ30gdGl0bGU9e25vSW52b2ljZU1lc3NhZ2V9IGFjdGlvbnM9e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgWzxCdXR0b24ga2V5PXtcIkN1c3RvbURpYWxvZ1wiKzB9IG9uQ2xpY2s9e3RoaXMuY2xvc2VOb0ludm9pY2VEaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5dXHJcbiAgICAgICAgICAgICAgICAgICAgfSAvPlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsyfSBtZD17Mn0gbGc9ezJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0T2ZmIHN0eWxlPXt7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH19IG9uQ2xpY2s9e3RoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2d9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIiM1RkMzMkNcIiB9fSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuc3RhdGUucmVhc29uQ29kZSA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhdGUucmVhc29uQ29kZSA/IHRoaXMuc2F2ZURpc3B1dGUgOiBlbXB0eUZ1bmN0aW9ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuRGlzcHV0ZS5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5EaXNwdXRlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcclxuXHJcbmNvbnN0IGNvbWJpbmVkU3R5bGUgPSBjb21iaW5lU3R5bGVzKHN0eWxlcyxiYXNlU3R5bGUpXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoRGlzcHV0ZSlcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9EaXNwdXRlLmpzIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IHtcclxuICBEb25lLFxyXG4gIEhpZ2hsaWdodE9mZixcclxuICBEYXRlUmFuZ2UsXHJcbiAgQ2hlY2tDaXJjbGVPdXRsaW5lXHJcbn0gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29uc1wiO1xyXG5pbXBvcnQgRGF0ZUZuc1V0aWxzIGZyb20gJ0BkYXRlLWlvL2RhdGUtZm5zJztcclxuaW1wb3J0IHsgTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIgfSBmcm9tICdtYXRlcmlhbC11aS1waWNrZXJzJztcclxuaW1wb3J0IHsgRGF0ZVBpY2tlciB9IGZyb20gJ21hdGVyaWFsLXVpLXBpY2tlcnMnO1xyXG5pbXBvcnQgeyBNdWlUaGVtZVByb3ZpZGVyLCBjcmVhdGVNdWlUaGVtZSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IGJsdWUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvY29sb3JzL2JsdWUnO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGQnO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBOdW1iZXJGb3JtYXQgZnJvbSAncmVhY3QtbnVtYmVyLWZvcm1hdCc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NlbGVjdCc7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9NZW51SXRlbSc7XHJcbmltcG9ydCBDaXJjdWxhclByb2dyZXNzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NpcmN1bGFyUHJvZ3Jlc3MnO1xyXG5pbXBvcnQgQ3VzdG9tRGlhbG9nIGZyb20gJy4vQ3VzdG9tRGlhbG9nJztcclxuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnO1xyXG5pbXBvcnQgeyBlbXB0eUZ1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgaXNWYWxpZERhdGUgfSBmcm9tICcuLi91dGlscy9oZWxwZXInO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICcuLi91dGlscy9iYXNlU3R5bGUnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICBzdW1tYXJ5OiB7XHJcbiAgICAgIHN1bW1hcnk6IFwiXCIsXHJcbiAgfSxcclxuICBmb2xsb3d1cFRleHRMaXN0OiBbXSxcclxuICBpbmNvcnJlY3RGbGFnOiBcIlwiLFxyXG4gIGRlbGV0ZUFjdGlvbjogZnVuY3Rpb24oKSB7fSxcclxuXHJcbn07XHJcblxyXG4vL2NvbnN0YW50c1xyXG5jb25zdCBmb2xsb3d1cFJlZ2V4ID0gLyhcXGR7NH0tXFxkezJ9LVxcZHsyfVRbXFxkezJ9Ol0qLlxcZHszfVstfCtdXFxkezJ9OlxcZHsyfSl8KHJlYXNvbjogLiopL2c7XHJcbmNvbnN0IGRpc2NhcmRNZXNzYWdlID1cclxuICBcIlRoaXMgd2lsbCBiZSByZW1vdmVkIHBlcm1hbmVudGx5IGZyb20gdGhlIHN1Z2dlc3RlZCBhY3Rpb25zLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLlwiO1xyXG5jb25zdCByZXNvbHZlTWVzc2FnZSA9XHJcbiAgXCIgVW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBhY3Rpb24uIFBsZWFzZSByZXNvbHZlIHRoZSBlcnJvcnMgdG8gYXBwcm92ZS5cIjtcclxuY29uc3Qgbm9UZXh0TWVzc2FnZSA9IFwiUGxlYXNlIHNlbGVjdCBhcHByb3ByaWF0ZSBmb2xsb3d1cCByZWFzb24uXCI7XHJcbmNvbnN0IGludmFsaWREYXRlTWVzc2FnZSA9XHJcbiAgXCJGb3VuZCBpbnZhbGlkIGRhdGUuIFBsZWFzZSBjb3JyZWN0IHRoZSBkYXRlIHRvIHByb2NlZWQuXCI7XHJcbmNvbnN0IEZPTExPV1VQX1RFTVBMQVRFID1cclxuICBcIkZvbGxvdyB1cCAgPENvbnRhY3QgTmFtZT4gPEZvbGxvd3VwIERhdGU+IDxGb2xsb3d1cCBUZXh0PlwiO1xyXG5jb25zdCBGT0xMT1dVUF9PUklHX1RFTVBMQVRFID1cclxuICBcIkNyZWF0ZSBGb2xsb3d1cCBldmVudCBmb3IgPEZvbGxvd3VwIERhdGU+IHJlYXNvbjogPEZvbGxvd3VwIFRleHQ+XCI7XHJcbmNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgc2VsZWN0SWNvbjoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgbWF0ZXJpYWxUaGVtZSA9IGNyZWF0ZU11aVRoZW1lKHtcclxuICBvdmVycmlkZXM6IHtcclxuICAgIE11aVBpY2tlcnNUb29sYmFyOiB7XHJcbiAgICAgIHRvb2xiYXI6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJsdWUuQTIwMCxcclxuICAgICAgICBoZWlnaHQ6IFwiMTN2aFwiXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXI6IHtcclxuICAgICAgc3dpdGNoSGVhZGVyOiB7XHJcbiAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBsaWdodEJsdWUuQTIwMCxcclxuICAgICAgICAvLyBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE11aVBpY2tlcnNEYXk6IHtcclxuICAgICAgZGF5OiB7XHJcbiAgICAgICAgY29sb3I6IGJsdWUuQTcwMFxyXG4gICAgICB9LFxyXG4gICAgICBzZWxlY3RlZDoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogYmx1ZVtcIjQwMFwiXVxyXG4gICAgICB9LFxyXG4gICAgICBjdXJyZW50OiB7XHJcbiAgICAgICAgY29sb3I6IGJsdWVbXCI5MDBcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XHJcbiAgICAgIGVycm9yOiB7XHJcbiAgICAgICAgY29sb3I6IFwiI0ZGODg4OCAhaW1wb3J0YW50XCJcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE11aVBpY2tlcnNNb2RhbDoge1xyXG4gICAgICBkaWFsb2dBY3Rpb246IHtcclxuICAgICAgICBjb2xvcjogYmx1ZVtcIjQwMFwiXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbmNsYXNzIEZvbGxvd3VwIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgbGV0IGV4dHJhY3RlZERhdGEgPSB0aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChmb2xsb3d1cFJlZ2V4KTtcclxuICAgIGxldCBzZWxlY3RlZERhdGUgPSBcIlwiO1xyXG4gICAgbGV0IGZvbGxvd3VwVGV4dCA9IFwiXCI7XHJcbiAgICBpZiAoZXh0cmFjdGVkRGF0YSAmJiBleHRyYWN0ZWREYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgc2VsZWN0ZWREYXRlID0gbmV3IERhdGUoZXh0cmFjdGVkRGF0YVswXSk7XHJcbiAgICAgIGZvbGxvd3VwVGV4dCA9IGV4dHJhY3RlZERhdGFbMV0gPyBleHRyYWN0ZWREYXRhWzFdLnN1YnN0cmluZyg4KSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGZvbGxvd3VwVGV4dHMgPSB0aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3Q7XHJcblxyXG4gICAgaWYgKGZvbGxvd3VwVGV4dHMuaW5kZXhPZihmb2xsb3d1cFRleHQpIDwgMCkge1xyXG4gICAgICBmb2xsb3d1cFRleHQgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHJlYWRPbmx5OiB0cnVlLFxyXG4gICAgICBpc0VkaXRpbmc6IGZhbHNlLFxyXG4gICAgICBmb2xsb3d1cFRleHQ6IGZvbGxvd3VwVGV4dCxcclxuICAgICAgc2VsZWN0ZWREYXRlOiBuZXcgRGF0ZShzZWxlY3RlZERhdGUpLFxyXG4gICAgICBvcGVuQWN0aW9uU2F2ZTogZmFsc2UsXHJcbiAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcclxuICAgICAgb3BlbkludmFsaWREYXRlRGlhbG9nOiBmYWxzZSxcclxuICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxyXG4gICAgICBhY3Rpb25JZDogdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxyXG4gICAgICBpc0RvbmU6IHRoaXMucHJvcHMuc3VtbWFyeS5zYXZlLFxyXG4gICAgICBmaW5hbFNlbGVjdGVkRGF0ZTogdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmVcclxuICAgICAgICA/IGZvcm1hdChuZXcgRGF0ZShleHRyYWN0ZWREYXRhWzBdKSwgXCJNTU0gZGQsIHl5eXlcIilcclxuICAgICAgICA6IFwiXCIsXHJcbiAgICAgIC8vIGZvbGxvd3VwVGV4dEZpZWxkV2lkdGg6IGZvbGxvd3VwVGV4dCA/IChcIlwiICsgZm9sbG93dXBUZXh0KS5sZW5ndGggKiAxMiA6IDUwLFxyXG4gICAgICBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlLFxyXG4gICAgICBpbmNvcnJlY3RGbGFnOiBudWxsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpbmNvcnJlY3RGbGFnOiBuZXh0UHJvcHMuaW5jb3JyZWN0RmxhZ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB2YWxpZGF0ZUZvbGxvd3VwRGF0YSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1ZhbGlkRGF0ZSh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSkpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5JbnZhbGlkRGF0ZURpYWxvZzogdHJ1ZSB9KTtcclxuICAgICAgLy8gdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2coXCJQbGVhc2UgY29ycmVjdCBkYXRlIGZpcnN0LlwiKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIHNhdmVGb2xsb3d1cCA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy52YWxpZGF0ZUZvbGxvd3VwRGF0YSgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuZm9sbG93dXBUZXh0KSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9UZXh0RGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSB9KTtcclxuICAgIGxldCBmb2xsb3dEYXRlID0gbmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpO1xyXG4gICAgbGV0IGZvbGxvd0Zvcm1hdERhdGUgPSBmb3JtYXQoZm9sbG93RGF0ZSwgXCJ5eXl5LU1NLWRkXCIpO1xyXG5cclxuICAgIGxldCByZXFPYmogPSB7XHJcbiAgICAgIGR1ZURhdGU6IGZvbGxvd0Zvcm1hdERhdGUsXHJcbiAgICAgIHJlbWluZGVyRGF0ZTogZm9sbG93Rm9ybWF0RGF0ZSxcclxuICAgICAgc3ViamVjdDogdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRcclxuICAgICAgLy8gYXNzaWduZWRUb1VzZXI6IHRoaXMucHJvcHMuY3VzdG9tZXIuaWQsXHJcbiAgICB9O1xyXG5cclxuICAgIGF4aW9zXHJcbiAgICAgIC5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2N1c3RvbWVyLyR7dGhpcy5wcm9wcy5jdXN0b21lci5pZH0vdGFza2AsIHJlcU9iailcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJTVUNDRVNTXCIpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaW5hbFNlbGVjdGVkRGF0ZTogdGhpcy5nZXREYXRlRmllbGRWYWx1ZSgpIH0sICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzRG9uZTogdHJ1ZSB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbFxyXG4gICAgICAgIGxldCBzdW1tYXJ5VG9TYXZlID0gdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGlvbigpO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybShzdW1tYXJ5VG9TYXZlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRVJST1JcIik7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcbiAgZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5ID0gKCkgPT4ge1xyXG4gICAgbGV0IGludm9pY2VDb3VudCA9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50O1xyXG4gICAgbGV0IGNvbnRhY3ROdW1iZXIgPSB0aGlzLnByb3BzLmNhbGxlZFRvTnVtYmVyO1xyXG4gICAgLy8gbGV0IHNlbGVjdGVkZm9ybWF0dGVkRGF0ZSA9IChkYXRlLmdldE1vbnRoKCkgKyAxKSArICctJyArIGRhdGUuZ2V0RGF0ZSgpICsgJy0nICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgbGV0IGNvbnRhY3ROYW1lID1cclxuICAgICAgKHRoaXMucHJvcHMuY2FsbFRvTmFtZSA9PSBcIlVua25vd24gXCIgfHxcclxuICAgICAgICB0aGlzLnByb3BzLmNhbGxUb05hbWUgPT0gXCJVbm5hbWVkIFVubmFtZWRcIikgJiZcclxuICAgICAgICBjb250YWN0TnVtYmVyXHJcbiAgICAgICAgPyBjb250YWN0TnVtYmVyXHJcbiAgICAgICAgOiB0aGlzLnByb3BzLmNhbGxUb05hbWU7XHJcbiAgICBsZXQgZ2VuZXJhdGVkU3VtbWFyeSA9IEZPTExPV1VQX1RFTVBMQVRFLnJlcGxhY2UoXHJcbiAgICAgIFwiPENvbnRhY3QgTmFtZT5cIixcclxuICAgICAgY29udGFjdE5hbWVcclxuICAgIClcclxuICAgICAgLnJlcGxhY2UoXHJcbiAgICAgICAgXCI8Rm9sbG93dXAgRGF0ZT5cIixcclxuICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZVxyXG4gICAgICAgICAgPyBcIm9uIFwiICsgZm9ybWF0KHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLCBcIk1NLWRkLXl5eXlcIilcclxuICAgICAgICAgIDogXCJcIlxyXG4gICAgICApXHJcbiAgICAgIC5yZXBsYWNlKFxyXG4gICAgICAgIFwiPEZvbGxvd3VwIFRleHQ+XCIsXHJcbiAgICAgICAgdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgPyBcImZvciBcIiArIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0IDogXCJcIlxyXG4gICAgICApO1xyXG5cclxuICAgIHJldHVybiBnZW5lcmF0ZWRTdW1tYXJ5O1xyXG4gIH07XHJcblxyXG4gIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLm9wZW5TbmFja2Jhck9uQWN0aW9uKG1lc3NhZ2UpO1xyXG4gIH07XHJcblxyXG4gIG9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pO1xyXG4gIH07XHJcblxyXG4gIGNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2VBbmREaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMuZGVsZXRlQWN0aW9uKHRoaXMuc3RhdGUuYWN0aW9uSWQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2VXYXJuaW5nRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcclxuICB9O1xyXG5cclxuICBjbG9zZU5vVGV4dERpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9UZXh0RGlhbG9nOiBmYWxzZSB9KTtcclxuICB9O1xyXG5cclxuICBjbG9zZUludmFsaWREYXRlRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5JbnZhbGlkRGF0ZURpYWxvZzogZmFsc2UgfSk7XHJcbiAgfTtcclxuXHJcbiAgdG9nZ2xlRWRpdGluZyA9IGUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHJlYWRPbmx5OiBmYWxzZSwgaXNFZGl0aW5nOiB0cnVlIH0sICgpID0+IHtcclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQpXHJcbiAgICAgICAgLmZvY3VzKCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVEYXRlQ2hhbmdlID0gZGF0ZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWREYXRlOiBkYXRlIH0sICgpID0+IHtcclxuICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBnZXREYXRlRmllbGRWYWx1ZSA9ICgpID0+IHtcclxuICAgIGxldCBpZCA9IFwiZGF0ZS1pbnB1dC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQ7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnZhbHVlO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUZvbGxvd3VwVGV4dENoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgIHtcclxuICAgICAgICBjaGFuZ2U6IHRydWUsXHJcbiAgICAgICAgZm9sbG93dXBUZXh0OiBldmVudC50YXJnZXQudmFsdWVcclxuICAgICAgICAvLyBmb2xsb3d1cFRleHRGaWVsZFdpZHRoOiBldmVudC50YXJnZXQudmFsdWUgPyAoXCJcIiArIGV2ZW50LnRhcmdldC52YWx1ZS5sZW5ndGgpICogMTIgOiA1MFxyXG4gICAgICB9LFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgZ2V0Rm9sbG93dXBUZXh0ID0gKCkgPT4ge1xyXG4gICAgbGV0IGZvbGxvd3VwVGV4dHMgPSB0aGlzLnByb3BzLmZvbGxvd3VwVGV4dExpc3Q7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0ICYmXHJcbiAgICAgIGZvbGxvd3VwVGV4dHMuaW5kZXhPZih0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCkgPj0gMFxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dDtcclxuICAgIH1cclxuICAgIHJldHVybiBcIlNlbGVjdFwiO1xyXG4gIH07IFxyXG5cclxuICB1cGRhdGVTdW1tYXJ5ID0gKCkgPT4ge1xyXG4gICAgbGV0IGludm9pY2VDb3VudCA9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50O1xyXG4gICAgbGV0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXQobmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpLCBcInl5eXktTU0tZGRcIik7XHJcbiAgICBsZXQgdXBkYXRlZFN1bW1hcnkgPSBGT0xMT1dVUF9PUklHX1RFTVBMQVRFLnJlcGxhY2UoXHJcbiAgICAgIFwiPEZvbGxvd3VwIERhdGU+XCIsXHJcbiAgICAgIGZvcm1hdHRlZERhdGVcclxuICAgICkucmVwbGFjZShcclxuICAgICAgXCI8Rm9sbG93dXAgVGV4dD5cIixcclxuICAgICAgdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgPyB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA6IFwiXCJcclxuICAgICk7XHJcbiAgICB0aGlzLnByb3BzLnVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSk7XHJcbiAgfTtcclxuXHJcbiAgb3BlblBpY2tlciA9IGUgPT4ge1xyXG4gICAgdGhpcy5waWNrZXIub3BlbihlKTtcclxuICB9O1xyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGNsYXNzZXMgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zdCB7IHN1bW1hcnksIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgY29uc3QgeyBmdWxsU2NyZWVuIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIGxldCBmb2xsb3d1cFRleHRzID0gdGhpcy5wcm9wcy5mb2xsb3d1cFRleHRMaXN0O1xyXG4gICAgbGV0IG9wdGlvbkl0ZW1zID0gZm9sbG93dXBUZXh0cy5tYXAoKGZvbGxvd3VwVGV4dCwgaWQpID0+IChcclxuICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAga2V5PXtcImZvbGxvd3VwVGV4dFwiICsgaWR9XHJcbiAgICAgICAgdmFsdWU9e2ZvbGxvd3VwVGV4dH1cclxuICAgICAgICBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19XHJcbiAgICAgID5cclxuICAgICAgICB7Zm9sbG93dXBUZXh0fVxyXG4gICAgICA8L01lbnVJdGVtPlxyXG4gICAgKSk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEdyaWQgY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlU2FtcGxlfT5cclxuICAgICAgICA8R3JpZFxyXG4gICAgICAgICAgaXRlbVxyXG4gICAgICAgICAgeHM9ezEwfVxyXG4gICAgICAgICAgbWQ9ezEwfVxyXG4gICAgICAgICAgbGc9ezEwfVxyXG4gICAgICAgICAgY29udGFpbmVyXHJcbiAgICAgICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCJcclxuICAgICAgICAgIGp1c3RpZnk9XCJmbGV4LXN0YXJ0XCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjNyZW1cIiB9fT5cclxuICAgICAgICAgICAge3RoaXMuc3RhdGUuYWN0aW9uU2F2ZVByb2dyZXNzQmFyICYmIChcclxuICAgICAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9uUHJvZ3Jlc3NCYXJ9IC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgPERvbmVcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM1RkMzMkNcIixcclxuICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsXHJcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEuNXJlbVwiLFxyXG4gICAgICAgICAgICAgICAgICB3aWR0aDogXCIxLjVyZW1cIlxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0RvbmUgJiYgKFxyXG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBvcGFjaXR5OiAxIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZFRleHR9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgQ3JlYXRlZCAmbmJzcDtcclxuICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNEb25lICYmIChcclxuICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgb3BhY2l0eTogMSB9fVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRUZXh0fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIENyZWF0ZSAmbmJzcDtcclxuICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBvcGFjaXR5OiAxIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkVGV4dH0+XHJcbiAgICAgICAgICAgICAgRk9MTE9XLVVQICZuYnNwO1xyXG4gICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZFRleHR9PlxyXG4gICAgICAgICAgICAgIGV2ZW50IGZvciAmbmJzcDtcclxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAge1wiIFwifVxyXG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0RvbmUgJiYgKFxyXG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcclxuICAgICAgICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmZpbmFsU2VsZWN0ZWREYXRlfVxyXG4gICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5pc0RvbmUgJiYgKFxyXG4gICAgICAgICAgICAgIDxNdWlQaWNrZXJzVXRpbHNQcm92aWRlciB1dGlscz17RGF0ZUZuc1V0aWxzfT5cclxuICAgICAgICAgICAgICAgIDxNdWlUaGVtZVByb3ZpZGVyIHRoZW1lPXttYXRlcmlhbFRoZW1lfT5cclxuICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXhXaWR0aDogXCI1LjM1cmVtXCIgfX1cclxuICAgICAgICAgICAgICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbD17Qm9vbGVhbihmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0PVwiTU1NIGRkLCB5eXl5XCJcclxuICAgICAgICAgICAgICAgICAgICBtaW5EYXRlTWVzc2FnZT1cIlByZXZpb3VzIGRhdGUgbm90IGFjY2VwdGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzZXMuYm9yZGVyU2Vjb25kLGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4odHJ1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICByZWY9e25vZGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2VsZWN0ZWREYXRlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZURhdGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb25DbGljaz17ZSA9PiBlLnByZXZlbnREZWZhdWx0fVxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBtaW5EYXRlPXtuZXcgRGF0ZSgpfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8RGF0ZVJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRJY29ufVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub3BlblBpY2tlcn1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvTXVpVGhlbWVQcm92aWRlcj5cclxuICAgICAgICAgICAgICA8L011aVBpY2tlcnNVdGlsc1Byb3ZpZGVyPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgPEdyaWQgaXRlbSBoaWRkZW49e3RoaXMuc3RhdGUuaXNEb25lICYmICF0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dH0+XHJcbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkVGV4dH0+XHJcbiAgICAgICAgICAgICAgJm5ic3A7IGZvciAmbmJzcDtcclxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgaXRlbVxyXG4gICAgICAgICAgICAvLyBzdHlsZT17eyB3aWR0aDogdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRGaWVsZFdpZHRoIH19XHJcbiAgICAgICAgICAgIGhpZGRlbj17dGhpcy5zdGF0ZS5pc0RvbmV9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxTZWxlY3RcclxuICAgICAgICAgICAgICBpZD1cImZvbGxvd3VwLXRleHQtZmllbGRcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLmdldEZvbGxvd3VwVGV4dCgpfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUZvbGxvd3VwVGV4dENoYW5nZX1cclxuICAgICAgICAgICAgICBjbGFzc2VzPXt7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RNZW51OiBjbGFzc2VzLnNlbGVjdE1lbnVDbGFzcyxcclxuICAgICAgICAgICAgICAgIGljb246IGNsYXNzZXMuc2VsZWN0SWNvblxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0XHJcbiAgICAgICAgICAgICAgICAgID8gY2xhc3NOYW1lcyhjbGFzc2VzLmJvcmRlclNlY29uZCxjbGFzc2VzLmlucHV0RmllbGRUZXh0KVxyXG4gICAgICAgICAgICAgICAgICA6IGNsYXNzTmFtZXMoY2xhc3Nlcy5ib3JkZXJGaXJzdCxjbGFzc2VzLmlucHV0RmllbGRUZXh0KVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBNZW51UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcclxuICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxNZW51SXRlbVxyXG4gICAgICAgICAgICAgICAgY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fVxyXG4gICAgICAgICAgICAgICAgdmFsdWU9XCJTZWxlY3RcIlxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBTZWxlY3RcclxuICAgICAgICAgICAgICA8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgIHtvcHRpb25JdGVtc31cclxuICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZFxyXG4gICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dEZpZWxkV2lkdGggfX1cclxuICAgICAgICAgICAgaGlkZGVuPXshdGhpcy5zdGF0ZS5pc0RvbmV9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuc2VsZWN0TWVudUNsYXNzfT57dGhpcy5zdGF0ZS5mb2xsb3d1cFRleHR9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgPEN1c3RvbURpYWxvZ1xyXG4gICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbk5vVGV4dERpYWxvZ31cclxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VOb1RleHREaWFsb2d9XHJcbiAgICAgICAgICB0aXRsZT17bm9UZXh0TWVzc2FnZX1cclxuICAgICAgICAgIGFjdGlvbnM9e1tcclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VOb1RleHREaWFsb2d9XHJcbiAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICBdfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFjdGlvblNhdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e2Rpc2NhcmRNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWdyZWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgIDxDdXN0b21EaWFsb2dcclxuICAgICAgICAgIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5BY3Rpb25TYXZlfVxyXG4gICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2d9XHJcbiAgICAgICAgICB0aXRsZT17ZGlzY2FyZE1lc3NhZ2V9XHJcbiAgICAgICAgICBhY3Rpb25zPXtbXHJcbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgRGlzYWdyZWVcclxuICAgICAgICAgICAgPC9CdXR0b24+LFxyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2d9XHJcbiAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICBhdXRvRm9jdXNcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEFncmVlXHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgXX1cclxuICAgICAgICAvPlxyXG4gICAgICAgIHsvKiA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5XYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgaWQ9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiPntyZXNvbHZlTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgPEN1c3RvbURpYWxvZ1xyXG4gICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbldhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlV2FybmluZ0RpYWxvZ31cclxuICAgICAgICAgIHRpdGxlPXtyZXNvbHZlTWVzc2FnZX1cclxuICAgICAgICAgIGFjdGlvbnM9e1tcclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICBhdXRvRm9jdXNcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgXX1cclxuICAgICAgICAvPlxyXG4gICAgICAgIHsvKiA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5JbnZhbGlkRGF0ZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlSW52YWxpZERhdGVEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e2ludmFsaWREYXRlTWVzc2FnZX08L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgIDxDdXN0b21EaWFsb2dcclxuICAgICAgICAgIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5JbnZhbGlkRGF0ZURpYWxvZ31cclxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZ31cclxuICAgICAgICAgIHRpdGxlPXtpbnZhbGlkRGF0ZU1lc3NhZ2V9XHJcbiAgICAgICAgICBhY3Rpb25zPXtbXHJcbiAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlSW52YWxpZERhdGVEaWFsb2d9XHJcbiAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICBdfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPEdyaWQgaXRlbSB4cz17Mn0gbWQ9ezJ9IGxnPXsyfT5cclxuICAgICAgICAgIHshdGhpcy5zdGF0ZS5pc0RvbmUgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxIaWdobGlnaHRPZmZcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH19XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlT3V0bGluZVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwiIzVGQzMyQ1wiIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgPyB0aGlzLnNhdmVGb2xsb3d1cCA6IGVtcHR5RnVuY3Rpb25cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9HcmlkPlxyXG4gICAgICA8L0dyaWQ+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTnVtYmVyRm9ybWF0Q3VzdG9tKHByb3BzKSB7XHJcbiAgY29uc3QgeyBpbnB1dFJlZiwgb25DaGFuZ2UsIC4uLm90aGVyIH0gPSBwcm9wcztcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxOdW1iZXJGb3JtYXRcclxuICAgICAgey4uLm90aGVyfVxyXG4gICAgICBnZXRJbnB1dFJlZj17aW5wdXRSZWZ9XHJcbiAgICAgIG9uVmFsdWVDaGFuZ2U9e3ZhbHVlcyA9PiB7XHJcbiAgICAgICAgb25DaGFuZ2Uoe1xyXG4gICAgICAgICAgdGFyZ2V0OiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXMudmFsdWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfX1cclxuICAgICAgdGhvdXNhbmRTZXBhcmF0b3JcclxuICAgICAgcHJlZml4PVwiJFwiXHJcbiAgICAvPlxyXG4gICk7XHJcbn1cclxuXHJcbk51bWJlckZvcm1hdEN1c3RvbS5wcm9wVHlwZXMgPSB7XHJcbiAgaW5wdXRSZWY6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcclxufTtcclxuXHJcbkZvbGxvd3VwLnByb3BUeXBlcyA9IHtcclxuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcclxufTtcclxuXHJcbkZvbGxvd3VwLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcclxuY29uc3QgY29tYmluZWRTdHlsZSA9IGNvbWJpbmVTdHlsZXMoc3R5bGVzLCBiYXNlU3R5bGUpXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoRm9sbG93dXApO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9Gb2xsb3d1cC5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgR3JpZExpc3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3QnO1xyXG5pbXBvcnQgR3JpZExpc3RUaWxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWRMaXN0VGlsZSc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaGVja2JveCc7XHJcbmltcG9ydCBDaGVja0NpcmNsZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0NoZWNrQ2lyY2xlJztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBSYWRpb0J1dHRvblVuY2hlY2tlZEljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL1JhZGlvQnV0dG9uVW5jaGVja2VkJztcclxuaW1wb3J0IEFkZCBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQWRkJztcclxuaW1wb3J0IFJlbW92ZUNpcmNsZU91dGxpbmUgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL1JlbW92ZUNpcmNsZU91dGxpbmUnO1xyXG5pbXBvcnQgQ2xvc2UgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xyXG5pbXBvcnQgRmFiIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ZhYic7XHJcbmltcG9ydCBDYXJkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NhcmQnO1xyXG5pbXBvcnQgQ2FyZENvbnRlbnQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2FyZENvbnRlbnQnO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IEVycm9yIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FcnJvcic7XHJcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nJztcclxuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQWN0aW9ucyc7XHJcbmltcG9ydCBEaWFsb2dUaXRsZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dUaXRsZSc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Nb2RhbCc7XHJcbmltcG9ydCBEdWVEZXRhaWwgZnJvbSAnLi9EdWVEZXRhaWwnO1xyXG5pbXBvcnQgQ2xlYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0NsZWFyJztcclxuaW1wb3J0IHsgZm9ybWF0dGVyIH0gZnJvbSAnLi4vdXRpbHMvZm9ybWF0dGVyJztcclxuaW1wb3J0IHsgZm9ybWF0Q3VycmVuY3lUb1VTRm9ybWF0IH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCBMaXN0T2ZUaWxlIGZyb20gJy4vTGlzdE9mVGlsZSc7XHJcblxyXG5cclxuY29uc3QgUDJQUmVnZXggPSAvKFByb21pc2UgdG8gcGF5IGZvciBcXGQqKXwoWzAtOV17NH1bLV1bMC05XXsyfVstXVswLTldezJ9KXwoXFxkKiBpbnZvaWNlKS9nO1xyXG5jb25zdCBtZXNzYWdlID0gXCJQbGVhc2Ugc2VsZWN0IHNvbWUgaW52b2ljZXMuXCI7XHJcbmNvbnN0IGRpc3B1dGVSZWdleCA9IC8oXFxkKiBpbnZvaWNlKXwoYmVjYXVzZSBvZiAuKikvZztcclxuXHJcbmZ1bmN0aW9uIHJhbmQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjApIC0gMTA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1vZGFsU3R5bGUodGhlbWUpIHtcclxuICAgIGNvbnN0IHRvcCA9IDUwO1xyXG4gICAgY29uc3QgbGVmdCA9IDUwO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9wOiBgJHt0b3B9JWAsXHJcbiAgICAgICAgbGVmdDogYCR7bGVmdH0lYCxcclxuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoLSR7dG9wfSUsIC0ke2xlZnR9JSlgLFxyXG4gICAgICAgIHdpZHRoOiBcIjczdndcIixcclxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgMnB4IHNvbGlkXCIsXHJcbiAgICB9O1xyXG59XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG5cclxuICAgIGludm9pY2VIZWFkZXI6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNi40ODE0ODE0ODE0OHZoXCIsXHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiIzM5NUM3MyBzb2xpZCAxcHhcIixcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIzcmVtXCJcclxuICAgICAgICAvLyBib3JkZXJUb3A6IFwic29saWQgYmxhY2sgMXB4XCJcclxuICAgIH0sXHJcbiAgICBjaGVja2VkSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIHpJbmRleDogXCIzXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcImF1dG9cIixcclxuICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxyXG4gICAgICAgIG1hcmdpblRvcDogXCIxcmVtXCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuOXJlbVwiLFxyXG4gICAgICAgIC8vIGZsZXhXcmFwOiAnd3JhcCcsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1hcm91bmQnLFxyXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIzcmVtXCJcclxuICAgIH0sXHJcbiAgICBjb3JyZWN0aW9uOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICB9LFxyXG4gICAgY29ycmVjdGlvbkFsZXJ0OiB7XHJcbiAgICAgICAgY29sb3I6IFwiI0ZGODg4OFwiLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxyXG4gICAgfSxcclxuICAgIGVycm9yRmxhZzoge1xyXG4gICAgICAgIGNvbG9yOiBcIiNGRjQ0NDRcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogJzEwcHggMHB4IC0ycHggLS40cmVtICFpbXBvcnRhbnQnLFxyXG4gICAgfSxcclxuICAgIGdyaWRMaXN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcclxuICAgICAgICBoZWlnaHQ6IFwiNy40MHZoXCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAxcHhcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXHJcbiAgICB9LFxyXG4gICAgaW5jb3JyZWN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGJvcmRlcjogXCIjRkY4ODg4IGRhc2hlZCAxcHhcIixcclxuICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuICAgIH0sXHJcbiAgICBwYXBlcjoge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHdpZHRoOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAxMDAsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgIGJveFNoYWRvdzogdGhlbWUuc2hhZG93c1s1XSxcclxuICAgICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAxLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiAwLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogMFxyXG4gICAgfSxcclxuICAgIGJ1dHRvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIyZW1cIixcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiXHJcbiAgICB9LFxyXG4gICAgYWRkSWNvbjoge1xyXG4gICAgICAgIHdpZHRoOiAnY2FsYygxLjF2aCArIDEuMXZ3KScsXHJcbiAgICAgICAgaGVpZ2h0OiAnY2FsYygxLjF2aCArIDEuMXZ3KScsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBwcmltYXJ5VGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxufSk7XHJcblxyXG5jbGFzcyBBY3Rpb25EZXRhaWxzIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIGxldCBzdW1tYXJ5ID0gdGhpcy5wcm9wcy5zdW07XHJcbiAgICAgICAgbGV0IGludGVudFR5cGUgPSB0aGlzLnByb3BzLmludGVudFR5cGU7XHJcbiAgICAgICAgbGV0IGV4dHJhY3RlZEFtb3VudDtcclxuICAgICAgICAvLyBsZXQgbm9PZkludm9pY2VzID0gMDtcclxuICAgICAgICBpZiAoaW50ZW50VHlwZSA9PSBcIlAyUFwiKSB7XHJcbiAgICAgICAgICAgIGxldCBleHRyYWN0ZWREYXRhID0gc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKFAyUFJlZ2V4KTtcclxuICAgICAgICAgICAgZXh0cmFjdGVkQW1vdW50ID0gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9LylcclxuXHJcbiAgICAgICAgICAgIGlmICghZXh0cmFjdGVkQW1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRBbW91bnQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vT2ZJbnZvaWNlcyA9IGV4dHJhY3RlZERhdGFbMl0gPyBleHRyYWN0ZWREYXRhWzJdLm1hdGNoKC9bMC05XXsxLH0vKSA6IDA7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xyXG4gICAgICAgICAgICAvLyAgICAgbm9PZkludm9pY2VzID0gMDtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VDaGVja3NNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5wcm9wcy5jb3JyZWN0SW52b2ljZXM7XHJcbiAgICAgICAgaWYgKGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnZvaWNlID0gaW52b2ljZXNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgaW52b2ljZUNoZWNrc01hcC5zZXQoaW52b2ljZS5pZC50b1N0cmluZygpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAoaW50ZW50VHlwZSA9PSBcIkRpc3B1dGVcIikge1xyXG4gICAgICAgICAgICBsZXQgZXh0cmFjdGVkRGF0YSA9IHN1bW1hcnkuc3VtbWFyeS5tYXRjaChkaXNwdXRlUmVnZXgpO1xyXG4gICAgICAgICAgICAvLyBub09mSW52b2ljZXMgPSBleHRyYWN0ZWREYXRhWzBdID8gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9LykgOiAwO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKCFub09mSW52b2ljZXMpIHtcclxuICAgICAgICAgICAgLy8gICAgIG5vT2ZJbnZvaWNlcyA9IDA7XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIGxldCByZWFzb25Db2RlID0gZXh0cmFjdGVkRGF0YVsxXSA/IGV4dHJhY3RlZERhdGFbMV0uc3Vic3RyaW5nKDExKSA6IFwiR2VuZXJhbCBEaXNwdXRlXCI7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXJlYXNvbkNvZGUpIHtcclxuICAgICAgICAgICAgICAgIHJlYXNvbkNvZGUgPSBcIkdlbmVyYWwgRGlzcHV0ZVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBhbGxJbnZvaWNlc1NlbGVjdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogaW52b2ljZUNoZWNrc01hcCxcclxuICAgICAgICAgICAgdG90YWxBbW91bnQ6IGV4dHJhY3RlZEFtb3VudCxcclxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiB0aGlzLnByb3BzLmludm9pY2VDb3VudCxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlcyxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogdGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgICAgICBpc01lc3NhZ2VEaWFsb2dPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIGludm9pY2VzOiB0aGlzLnByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogdGhpcy5wcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgZXhlY3V0ZUFwcGVuZEludm9pY2U6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIC8vICAgICAvLyB0aGlzLnNldFN0YXRlKHtjb3JyZWN0SW52b2ljZXM6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXN9KTtcclxuICAgIC8vICAgICAvLyAgdGhpcy5zZXRTdGF0ZSh7Y29ycmVjdEludm9pY2VzOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzLGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcH0pXHJcblxyXG4gICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoe2NvcnJlY3RJbnZvaWNlczogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlcywgY29ycmVjdEludm9pY2VzTWFwOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzTWFwfSk7XHJcbiAgICAvLyB9XHJcbiAgICBzZXRTZWxlY3RlZEludm9pY2VzID0gKGludm9pY2VzKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IGludm9pY2VzIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMFxyXG4gICAgICAgIGZvciAobGV0IGkgaW4gc2VsZWN0ZWRJbnZvaWNlcykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyknO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbHRlckludm9pY2VzID0gKGludm9pY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcyB9KTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcclxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkSW52b2ljZXMgPSBbXVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEFycmF5ID0gW11cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJEaXNwdXRlXCIgJiYgaW52b2ljZXNbaV1bal0uZGlzcHV0ZVN0YXR1cyAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlByZWRpY3RlZCBEZWxpbnF1ZW50XCIgJiYgaW52b2ljZXNbaV1bal0ucDJwRGVsaW5xdWVudCA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlVwY29taW5nIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycFVwY29taW5nID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGludm9pY2VUeXBlID09IFwiQnJva2VuIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycEJyb2tlbiA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkSW52b2ljZXMucHVzaCh0ZW1wQXJyYXkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVDaGVja2JveCA9IGlkID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGNoZWNrZWQgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGlkKTtcclxuICAgICAgICBsZXQgdXBkYXRlZENoZWNrYm94TWFwID0gdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xyXG4gICAgICAgIHVwZGF0ZWRDaGVja2JveE1hcC5zZXQoaWQsICFjaGVja2VkKTtcclxuICAgICAgICBsZXQgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzQ2hlY2tib3hNYXA6IHVwZGF0ZWRDaGVja2JveE1hcCB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGludm9pY2VLZXkgb2YgdXBkYXRlZENoZWNrYm94TWFwLmtleXMoKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlZENoZWNrYm94TWFwLmdldChpbnZvaWNlS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFsbEludm9pY2VzU2VsZWN0ZWQ6IGZsYWcgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUludm9pY2UgPSBpbnZvaWNlTnVtYmVyID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHRlbXAgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRlbXApIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PSBpbnZvaWNlTnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGVtcFtrZXldO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjaGVja2JveE1hcCA9IHRoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcclxuICAgICAgICBjaGVja2JveE1hcC5kZWxldGUoaW52b2ljZU51bWJlcik7XHJcbiAgICAgICAgLy8gZm9yIChsZXQga2V5IG9mIGNoZWNrYm94TWFwKSB7XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAoa2V5ID09IE51bWJlcihpbnZvaWNlTnVtYmVyKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coa2V5KTtcclxuICAgICAgICAvLyAgICAgICAgIGNoZWNrYm94TWFwLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBjaGVja2JveE1hcCxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoaW52b2ljZSA9PiBpbnZvaWNlLmlkICE9IGludm9pY2VOdW1iZXIpLFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IHRlbXBcclxuICAgICAgICB9LFxyXG4gICAgICAgICAgICAoKSA9PiB7IHRoaXMudXBkYXRlSW52b2ljZXNUaGluZ3MoaW52b2ljZU51bWJlcik7IHRoaXMucHJvcHMudXBkYXRlSW52b2ljZXModGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsIHRlbXApIH1cclxuICAgICAgICApXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVBbGxTZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGludm9pY2VNYXAgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XHJcbiAgICAgICAgICAgIGFsbEludm9pY2VzU2VsZWN0ZWQ6ICFwcmV2U3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZFxyXG4gICAgICAgIH0pLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGludm9pY2VLZXkgb2YgaW52b2ljZU1hcC5rZXlzKCkpIHtcclxuICAgICAgICAgICAgICAgIGludm9pY2VNYXAuc2V0KGludm9pY2VLZXksIHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlQ2hlY2tzTWFwOiBpbnZvaWNlTWFwIH0pO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUFsbFNlbGVjdGlvbiA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHRvRGVsZXRlSW52b2ljZXMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoaW52b2ljZSA9PlxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgPT0gdHJ1ZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICh0b0RlbGV0ZUludm9pY2VzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc01lc3NhZ2VEaWFsb2dPcGVuOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdXBkYXRlZEludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuZmlsdGVyKGludm9pY2UgPT5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpID09IGZhbHNlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VzQ2hlY2tib3hNYXAgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XHJcbiAgICAgICAgbGV0IGludm9pY2VNYXAgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcclxuICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBpbnZvaWNlTGVuZ3RoID0gdXBkYXRlZEludm9pY2VzLmxlbmd0aDtcclxuICAgICAgICBsZXQgYWxsU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdG9EZWxldGVJbnZvaWNlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IGtleSA9IHRvRGVsZXRlSW52b2ljZXNbaV0uaWQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcC5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgZGVsZXRlIGludm9pY2VNYXBba2V5XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IHVwZGF0ZWRJbnZvaWNlcyxcclxuICAgICAgICAgICAgLy8gaW52b2ljZUNvdW50OiB1cGRhdGVkSW52b2ljZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBpbnZvaWNlc0NoZWNrYm94TWFwLFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IGludm9pY2VNYXAsXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogaW52b2ljZUxlbmd0aCxcclxuICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW52b2ljZUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW52b2ljZSA9IHVwZGF0ZWRJbnZvaWNlc1tpXTtcclxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBpbnZvaWNlLmlkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gaW52b2ljZU1hcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnZvaWNlTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnZvaWNlID0gdXBkYXRlZEludm9pY2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IGludm9pY2UuaWQudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmxhZywgYWxsSW52b2ljZXNTZWxlY3RlZDogYWxsU2VsZWN0ZWQgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZsYWcsIGludm9pY2VMZW5ndGgpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZUludm9pY2VzKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLCB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVNZXNzYWdlRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XHJcbiAgICAgICAgICAgIGlzTWVzc2FnZURpYWxvZ09wZW46ICFwcmV2U3RhdGUuaXNNZXNzYWdlRGlhbG9nT3BlbixcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICBvcGVuQWRkSW52b2ljZU1vZGFsID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWRkSW52b2ljZU1vZGFsOiB0cnVlIH0pXHJcbiAgICB9XHJcbiAgICBjbG9zZUFkZEludm9pY2VNb2RhbCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UgfSlcclxuICAgIH1cclxuICAgIGFwcGVuZEludm9pY2VzID0gaW52b2ljZXMgPT4ge1xyXG4gICAgICAgIHZhciB0ZW1wTWFwID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXBcclxuICAgICAgICB2YXIgdGVtcEludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuc2xpY2UoMClcclxuICAgICAgICB2YXIgdGVtcENoZWNrYm94SW52b2ljZU1hcCA9IHRoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwW3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzW2ldLmlkXSkge1xyXG4gICAgICAgICAgICAgICAgdGVtcEludm9pY2VzLnNwbGljZSh0ZW1wSW52b2ljZXMuaW5kZXhPZih0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXSksIDEpXHJcbiAgICAgICAgICAgICAgICB0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwLmRlbGV0ZSh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXS5pZC50b1N0cmluZygpKVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29ycmVjdEludm9pY2VzOiB0ZW1wSW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDoge30sIGludm9pY2VzQ2hlY2tib3hNYXA6IHRlbXBDaGVja2JveEludm9pY2VNYXAgfSlcclxuICAgICAgICB0ZW1wTWFwID0ge31cclxuXHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnZvaWNlc1trZXldID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHRoaXMucHJvcHMuaW52b2ljZXMubGVuZ3RoOyBwKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcSA9IDA7IHEgPCB0aGlzLnByb3BzLmludm9pY2VzW3BdLmxlbmd0aDsgcSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmludm9pY2VzW3BdW3FdLmlkID09IGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEludm9pY2VzLnB1c2godGhpcy5wcm9wcy5pbnZvaWNlc1twXVtxXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0ZW1wTWFwW2tleV0gPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGxldCBpbnZvaWNlc0NoZWNrYm94TWFwID0gdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW52b2ljZXNba2V5XSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcC5zZXQoa2V5LnRvU3RyaW5nKCksIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzQ2hlY2tib3hNYXA6IGludm9pY2VzQ2hlY2tib3hNYXAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29ycmVjdEludm9pY2VzOiB0ZW1wSW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDogdGVtcE1hcCwgaW52b2ljZUNvdW50OiB0ZW1wSW52b2ljZXMubGVuZ3RoIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVJbnZvaWNlcyh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcywgdGVtcE1hcCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLnByb3BzLm9uVXBkYXRlSW52b2ljZSh0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcsIHRlbXBJbnZvaWNlcy5sZW5ndGgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWRkSW52b2ljZU1vZGFsOiBmYWxzZSB9KVxyXG5cclxuICAgIH1cclxuICAgIHVwZGF0ZUludm9pY2VzVGhpbmdzID0gKGludm9pY2VOdW1iZXIpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VNYXAgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcclxuICAgICAgICAvLyBsZXQgYWxsSW52b2ljZXNMaXN0ID0gdGhpcy5wcm9wcy5hbGxJbnZvaWNlc0xpc3Q7XHJcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcclxuICAgICAgICBsZXQgaW52b2ljZXMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcztcclxuICAgICAgICBsZXQgaW52b2ljZUxlbmd0aCA9IGludm9pY2VzLmxlbmd0aDtcclxuICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtpbnZvaWNlTnVtYmVyXTtcclxuXHJcbiAgICAgICAgaWYgKGludm9pY2VMZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmFsc2UsIGludm9pY2VDb3VudDogMCB9KTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZUludm9pY2UoZmFsc2UsIDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtpbnZvaWNlTnVtYmVyXTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvcnJlY3RJbnZvaWNlc01hcDogaW52b2ljZU1hcCB9LCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludm9pY2VMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGludm9pY2UgPSBpbnZvaWNlc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIShpbnZvaWNlLmlkIGluIGludm9pY2VNYXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbmNvcnJlY3RGbGFnOiBmbGFnLCBpbnZvaWNlQ291bnQ6IGludm9pY2VMZW5ndGggfSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZsYWcsIGludm9pY2VMZW5ndGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGF0ZUFtb3VudCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgYW1vdW50ID0gMDtcclxuICAgICAgICBsZXQgY29ycmVjdEludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXM7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBjb3JyZWN0SW52b2ljZXMpIHtcclxuICAgICAgICAgICAgYW1vdW50ICs9IChjb3JyZWN0SW52b2ljZXNbaV0uaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApID8gY29ycmVjdEludm9pY2VzW2ldLmN1cnJlbnRPcGVuQW1vdW50IDogMFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW1vdW50ID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQoYW1vdW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuXHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj48TW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwic2ltcGxlLW1vZGFsLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cInNpbXBsZS1tb2RhbC1kZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFkZEludm9pY2VNb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFkZEludm9pY2VNb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e2dldE1vZGFsU3R5bGUodGhlbWUpfSBjbGFzc05hbWU9e2NsYXNzZXMucGFwZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW06IFwiY2VudGVyXCIsIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgICMzOTVDNzMgXCIsIHBhZGRpbmc6IFwiLjJyZW0gMCAuNnJlbSAwXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgbWFyZ2luTGVmdDogXCIxcmVtXCIsIGZvbnRTaXplOiBcIjEuM3JlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNjUgfX0+U2VsZWN0IGFuZCBBZGQgSW52b2ljZXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsZWFyIG9uQ2xpY2s9e3RoaXMuY2xvc2VBZGRJbnZvaWNlTW9kYWx9IHN0eWxlPXt7IHBvc2l0aW9uOiBcImZpeGVkXCIsIHJpZ2h0OiBcIjUlXCIsIG9wYWNpdHk6IDAuNjUsIGN1cnNvcjogXCJwb2ludGVyXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RHVlRGV0YWlsIHNldFNlbGVjdGVkSW52b2ljZXM9e3RoaXMuc2V0U2VsZWN0ZWRJbnZvaWNlc30gcG9zdENhbGw9e3RydWV9IGFwcGVuZEludm9pY2VzPXt0aGlzLmFwcGVuZEludm9pY2VzfSBmaWx0ZXJJbnZvaWNlcz17dGhpcy5maWx0ZXJJbnZvaWNlc30gYnVja2V0TmFtZXM9e3RoaXMucHJvcHMuYnVja2V0TmFtZXN9IGludm9pY2VzPXt0aGlzLnN0YXRlLmludm9pY2VzfSBjb3JyZWN0SW52b2ljZXNNYXA9e3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwfT48L0R1ZURldGFpbD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgeHM9ezEyfSBqdXN0aWZ5PVwiZmxleC1lbmRcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgc3R5bGU9e3sgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCAjMzk1QzczXCIsIHBhZGRpbmdUb3A6IFwiLjZyZW1cIiB9fT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiY29udGFpbmVkXCIgY29sb3I9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9e2NsYXNzZXMuYnV0dG9ufSBvbkNsaWNrPXsoKSA9PiB0aGlzLmFwcGVuZEludm9pY2VzKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTYXZlIHt0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGgoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUhlYWRlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIHBhZGRpbmdUb3A6IFwiMC41cmVtXCIsIHBhZGRpbmdCb3R0b206IFwiMC41cmVtXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLCBwYWRkaW5nUmlnaHQ6IFwiMS41NnZ3XCIgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IHBhZGRpbmc6ICcwcHgnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQWxsU2VsZWN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMucHJpbWFyeVRleHR9PiZuYnNwO1NlbGVjdCBhbGw8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lZFwiIGNvbG9yPVwic2Vjb25kYXJ5XCIgc2l6ZT0nc21hbGwnIHN0eWxlPXt7IGhlaWdodDogXCI0LjQ0dmhcIiwgcGFkZGluZ0xlZnQ6IFwiMC42NjZyZW1cIiwgcGFkZGluZ1JpZ2h0OiBcIjAuNjY2cmVtXCIgfX0gb25DbGljaz17dGhpcy5vcGVuQWRkSW52b2ljZU1vZGFsfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8QWRkIGNsYXNzTmFtZT17Y2xhc3Nlcy5hZGRJY29ufSAvPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICc0cHgnLCBtYXJnaW5SaWdodDogJzRweCcsIGZvbnRTaXplOiAnLjg5cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gfX0+U2VsZWN0IEludm9pY2VzPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPEZhYiB2YXJpYW50PVwiY29udGFpbmVkXCIgc2l6ZT0nc21hbGwnIHN0eWxlPXt7IHdpZHRoOiBcIjM2cHhcIiwgaGVpZ2h0OiBcIjM2cHhcIiwgbWFyZ2luTGVmdDogXCIxMHB4XCIgfX0gb25DbGljaz17dGhpcy5kZWxldGVBbGxTZWxlY3Rpb259PjxSZW1vdmVDaXJjbGVPdXRsaW5lIHN0eWxlPXt7IHdpZHRoOiBcIjEuMGVtXCIsIGNvbG9yOiBcImdyYXlcIiB9fSAvPjwvRmFiPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lZFwiIGNvbG9yPVwic2Vjb25kYXJ5XCIgc2l6ZT0nc21hbGwnIHN0eWxlPXt7IGhlaWdodDogXCI0LjQ0dmhcIiwgbWFyZ2luTGVmdDogXCIxcmVtXCIsIHBhZGRpbmc6IFwiMCAwLjY2NnJlbVwiIH19IG9uQ2xpY2s9e3RoaXMuZGVsZXRlQWxsU2VsZWN0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZSBjbGFzc05hbWU9e2NsYXNzZXMuYWRkSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICc0cHgnLCBmb250U2l6ZTogJy44OXJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluIH19PlJlbW92ZTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUxpc3R9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb3JyZWN0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5wcmltYXJ5VGV4dH0+e3RoaXMuc3RhdGUuaW52b2ljZUNvdW50fSB7dGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgPiAxID8gXCJJbnZvaWNlcyBcIiA6IFwiSW52b2ljZSBcIn08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMuaW50ZW50VHlwZSA9PSBcIlAyUFwiIHx8IHRoaXMucHJvcHMuaW50ZW50VHlwZSA9PSBcIkRpc3B1dGVcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBvcGFjaXR5OiAwLjUgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLnByaW1hcnlUZXh0fT4mbmJzcDsoJHt0aGlzLmNhbGN1bGF0ZUFtb3VudCgpfSk8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgbWFyZ2luTGVmdDogXCIuNXJlbVwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXJyb3IgY2xhc3NOYW1lPXtjbGFzc2VzLmVycm9yRmxhZ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmNvcnJlY3Rpb25BbGVydH0+Q29ycmVjdGlvbiBSZXF1aXJlZCh7dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubGVuZ3RoIC0gT2JqZWN0LmtleXModGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApLmxlbmd0aH0pPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxMaXN0T2ZUaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlcz17dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA9e3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcD17dGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU9e3RoaXMucHJvcHMuZG9uZX0vPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0IGNlbGxIZWlnaHQ9e1wiYXV0b1wifSBjbGFzc05hbWU9e2NsYXNzZXMuZ3JpZExpc3R9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLm1hcChpbnZvaWNlID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGlzdFRpbGUgY29scz17MX0ga2V5PXtpbnZvaWNlLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogJ2F1dG8nLHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuNHJlbScgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsoaW52b2ljZS5pZCBpbiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCkgPyAodGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCA/IGNsYXNzTmFtZXMoY2xhc3Nlcy5zZWxlY3RlZEdyaWRMaXN0RGl2LGNsYXNzZXMuZ3JpZExpc3REaXYpIDogY2xhc3Nlcy5ncmlkTGlzdERpdikgOiBjbGFzc2VzLmluY29ycmVjdERpdn0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggc3R5bGU9e3sgIHBhZGRpbmc6ICcycHgnLCBsZWZ0ICA6XCIzJVwiLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IShpbnZvaWNlLmlkIGluIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRvZ2dsZUNoZWNrYm94KGludm9pY2UuaWQudG9TdHJpbmcoKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsanVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41LCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH19PntpbnZvaWNlLmRvY3VtZW50TnVtYmVyfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogJzEuMTU2cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfX0+JHtpbnZvaWNlLmlkIGluIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwID8gZm9ybWF0dGVyKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpIDogXCItLS0tXCJ9PC9UeXBvZ3JhcGh5PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8RmFiIHZhcmlhbnQ9XCJjb250YWluZWRcIiBzaXplPSdzbWFsbCcgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZSBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLHdpZHRoOiBcImNhbGMoLjh2aCArIC44dncpXCIsIGhlaWdodDogXCJjYWxjKC44dmggKyAuOHZ3KVwiIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5hZGRJY29ufSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuZGVsZXRlSW52b2ljZShpbnZvaWNlLmlkKSB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC9GYWI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0VGlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGlzdD48L2Rpdj5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLmlzTWVzc2FnZURpYWxvZ09wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgaWQ9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiPnttZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuQWN0aW9uRGV0YWlscy5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG4vLyBleHBvcnQgZnVuY3Rpb24gZ2V0SW52b2ljZXMoKSB7XHJcblxyXG4vLyAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMpO1xyXG5cclxuLy8gICAgIGxldCBkb2N1bWVudE51bWJlcnMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5tYXAoaW52b2ljZSA9PiB7XHJcbi8vICAgICAgICAgcmV0dXJuIGludm9pY2UuZG9jdW1lbnROdW1iZXI7XHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICBjb25zb2xlLmxvZyhcIkRPQ1VcIiwgZG9jdW1lbnROdW1iZXJzKTtcclxuXHJcbi8vICAgICByZXR1cm4gZG9jdW1lbnROdW1iZXJzO1xyXG4vLyB9XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoQWN0aW9uRGV0YWlscylcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9BY3Rpb25EZXRhaWxzLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XHJcbmltcG9ydCB7IGZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2hlY2tib3gnO1xyXG5pbXBvcnQgR3JpZExpc3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3QnO1xyXG5pbXBvcnQgR3JpZExpc3RUaWxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWRMaXN0VGlsZSc7XHJcblxyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuXHJcbiAgICBncmlkTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogJzAgLTJweCAtMnB4IC0ycHggIWltcG9ydGFudCcsXHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdERpdjoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxyXG4gICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXHJcbiAgICB9LFxyXG4gICAgZ3JpZExpc3RUaWxlOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcImF1dG8gIWltcG9ydGFudFwiXHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IG5ldyBNYXAoKSxcclxuICAgIGNvcnJlY3RJbnZvaWNlc01hcDoge30sXHJcbiAgICBzZWxlY3RlZEludm9pY2VzOiBbXSxcclxuICAgIGludm9pY2VzOiBbXSxcclxuICAgIGRvbmU6IHRydWUsXHJcbiAgICBpbkludm9pY2VUYWJsZTogZmFsc2VcclxufTtcclxuXHJcbmNsYXNzIExpc3RPZlRpbGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaW52b2ljZXM6IHRoaXMucHJvcHMuaW52b2ljZXMsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IHRoaXMucHJvcHMuc2VsZWN0ZWRJbnZvaWNlcyxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogdGhpcy5wcm9wcy5pbnZvaWNlc0NoZWNrYm94TWFwXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbiAgICBhZGRJbnZvaWNlID0gKGlkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5hZGRJbnZvaWNlKGlkKVxyXG4gICAgfVxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaW52b2ljZXM6IG5leHRQcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlczogbmV4dFByb3BzLnNlbGVjdGVkSW52b2ljZXMsXHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogbmV4dFByb3BzLmludm9pY2VzQ2hlY2tib3hNYXBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZSA9IChjb3JyZWN0SW52b2ljZXNNYXAsIGludm9pY2VzQ2hlY2tib3hNYXAsIGlkLCBzZWxlY3RlZEludm9pY2VzKSA9PiB7XHJcbiAgICAgICAgaWYgKCEoaW52b2ljZS5pZCBpbiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCkpXHJcbiAgICAgICAgICAgIHJldHVybiBjbGFzc2VzLmluY29ycmVjdERpdlxyXG4gICAgICAgIGlmIChpbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSlcclxuICAgICAgICAgICAgcmV0dXJuIGNsYXNzZXMuc2VsZWN0ZWRHcmlkTGlzdERpdlxyXG4gICAgICAgIHJldHVybiBjbGFzc2VzLmdyaWRMaXN0RGl2XHJcbiAgICB9XHJcbiAgICAvL1JlbmRlciBmdW5jdGlvbiBcclxuICAgIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8R3JpZExpc3QgY2VsbEhlaWdodD17XCJhdXRvXCJ9IGNsYXNzTmFtZT17Y2xhc3Nlcy5ncmlkTGlzdH0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubWFwKGludm9pY2UgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0VGlsZSBjb2xzPXsxfSBrZXk9e2ludm9pY2UuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuNHJlbScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZSh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCwgdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLCBpbnZvaWNlLmlkLCB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghdGhpcy5wcm9wcy5kb25lKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IHBhZGRpbmc6ICcycHgnLCBsZWZ0OiBcIjMlXCIsIGFsaWduSXRlbXM6ICdjZW50ZXInLCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshKGludm9pY2UuaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy50b2dnbGVDaGVja2JveChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNSwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9fT57aW52b2ljZS5kb2N1bWVudE51bWJlcn08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6ICcxLjE1NnJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9fT4ke2ludm9pY2UuaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAgPyBmb3JtYXR0ZXIoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCkgOiBcIi0tLS1cIn08L1R5cG9ncmFwaHk+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0aGlzLnByb3BzLmluSW52b2ljZVRhYmxlIHx8IHRoaXMucHJvcHMuZG9uZSApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8RmFiIHZhcmlhbnQ9XCJjb250YWluZWRcIiBzaXplPSdzbWFsbCcgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZSBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLCB3aWR0aDogXCJjYWxjKC44dmggKyAuOHZ3KVwiLCBoZWlnaHQ6IFwiY2FsYyguOHZoICsgLjh2dylcIiB9fSBjbGFzc05hbWU9e2NsYXNzZXMuYWRkSWNvbn0gb25DbGljaz17KCkgPT4geyB0aGlzLmRlbGV0ZUludm9pY2UoaW52b2ljZS5pZCkgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwvRmFiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0VGlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9HcmlkTGlzdD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5MaXN0T2ZUaWxlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShMaXN0T2ZUaWxlKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvTGlzdE9mVGlsZS5qcyIsIi8qXHJcbioqXHJcbiogQ2xhc3MgTmFtZSBUQkRcclxuKiBUZW1wb3JhcnkgcGFya2luZyBhcyBGaW5hbC5qc1xyXG4qL1xyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCB7IFR5cG9ncmFwaHkgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XHJcbmltcG9ydCBJbmZvIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9JbmZvJztcclxuaW1wb3J0IEVtYWlsQm94IGZyb20gJy4uL2NvbXBvbmVudHMvRW1haWxCb3gnO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICcuLi91dGlscy9iYXNlU3R5bGUnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcblxyXG4gICAgc3VtbWFyeU5vdGVzQm94OiB7XHJcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjkwdmhcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICB9LFxyXG4gICAgc3VtbWFyeU5vdGVpdGVtczoge1xyXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiMWVtXCIsXHJcbiAgICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcclxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxyXG4gICAgICAgIG1heEhlaWdodDogXCI3NS41dmhcIixcclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5Tm90ZXNIZWFkZXI6XHJcbiAgICB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiMS4wNjY2cmVtXCIsXHJcbiAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcclxuICAgICAgICBwYWRkaW5nVG9wOiBcIjIuMjJ2aFwiLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjEuMDI2dndcIixcclxuICAgICAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiAwLjY1XHJcbiAgICB9LFxyXG4gICAgbm90ZXNMaXN0OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjBcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjEuN3JlbVwiXHJcbiAgICB9LFxyXG4gICAgZW1wdHlTdW1tYXJ5VGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGVtcHR5U3VtbWFyeUdyaWQ6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiMTV2aFwiLFxyXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcclxuICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxyXG4gICAgfSxcclxuICAgIHdhcm5pbmdMaW5lOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBmb250V2VpZ2h0OiA1MDAsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi44ZW1cIixcclxuICAgICAgICBvcGFjaXR5OiBcIjAuNjVcIixcclxuICAgIH0sXHJcbiAgICBpY29uOiB7XHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiLjV2d1wiXHJcbiAgICB9LFxyXG4gICAgaGlkZU92ZXJmbG93OiB7XHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBjb250YWN0SW5kZXggOiBudWxsLFxyXG4gICAgY3VzdG9tZXIgOiB7fSxcclxuICAgIGludm9pY2VMaXN0IDogW10sXHJcbiAgICBzdW1tYXJ5Tm90ZXMgOiBcIlwiLFxyXG4gICAgbmV4dEN1c3RvbWVyVXJsIDogbnVsbCxcclxuICAgIHRvQ2FsbEN1c3RvbWVycyA6IG51bGwsXHJcbiAgICBjb2xsZWN0b3IgOiB7fSxcclxuICAgIG5vbkFjdGlvbkluY2x1ZGVkIDogZmFsc2UsXHJcbn1cclxuXHJcbmNvbnN0IHByb3BUeXBlcyA9IHtcclxuICAgIGNvbnRhY3RJbmRleCA6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgICBjdXN0b21lciA6IFByb3BUeXBlcy5vYmplY3QsXHJcbiAgICBpbnZvaWNlTGlzdCA6IFByb3BUeXBlcy5hcnJheSxcclxuICAgIHN1bW1hcnlOb3RlcyA6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBuZXh0Q3VzdG9tZXJVcmwgOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgdG9DYWxsQ3VzdG9tZXJzIDogUHJvcFR5cGVzLm51bWJlcixcclxuICAgIGNvbGxlY3RvciA6IFByb3BUeXBlcy5vYmplY3QsXHJcbiAgICBjbGFzc2VzIDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICAgbm9uQWN0aW9uSW5jbHVkZWQgOiBQcm9wVHlwZXMuYm9vbFxyXG59XHJcblxyXG5cclxuY2xhc3MgRmluYWwgZXh0ZW5kcyBDb21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIC8vIGxvYWRpbmc6IHRydWUsICAgICAgICAgXHJcbiAgICAgICAgICAgIGVtYWlsSWRDaGlwczogW10sXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvL3VuY29tbWVudCB3aGVuIHlvdSByZXF1aXJlIGVtYWlsIHRlbXBsYXRlc1xyXG4gICAgICAgIC8vZ2V0IGVtYWlsIFRlbXBsYXRlc1xyXG4gICAgICAgIC8vIGNvcnJlc3BvbmRlbmNlU2VydmljZS5nZXRFbWFpbFRlbXBsYXRlcygpXHJcbiAgICAgICAgLy8gICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAvLyAgICAgICAgIHZhciBhcnIgPSBbXTtcclxuICAgICAgICAvLyAgICAgICAgIGFyciA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZXM6IGFyciB9LCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZU5hbWU6IGFyclswXS5uYW1lIH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IGFyclswXS5zdWJqZWN0IH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZUJvZHk6IGFyclswXS5ib2R5IH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdGVtcGxhdGVJZDogYXJyWzBdLmlkIH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSlcclxuICAgICAgICAvLyAgICAgICAgIH0pXHJcbiAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgLy8gICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGluIGZldGNoaW5nIHRlbXBsYXRlc1wiKTtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlczogW10gfSwgKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KVxyXG4gICAgICAgIC8vICAgICAgICAgfSlcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlTmFtZTogXCJObyBUZW1wbGF0ZXMhXCIgfSk7XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdEVtYWlsSWRDaGlwcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERlZmF1bHRFbWFpbElkQ2hpcHMgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGNvbnRhY3RJbmRleCA9IHRoaXMucHJvcHMuY29udGFjdEluZGV4O1xyXG4gICAgICAgIGxldCBjb250YWN0cyA9IFtdO1xyXG4gICAgICAgIGlmIChjb250YWN0SW5kZXggIT0gbnVsbCAmJiB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZmlyc3ROYW1lICE9PSBcIlVubmFtZWRcIiAmJiB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0ubGFzdE5hbWUgIT09IFwiVW5uYW1lZFwiKSB7XHJcbiAgICAgICAgICAgIGxldCBmdWxsTmFtZSA9IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5maXJzdE5hbWUgK1xyXG4gICAgICAgICAgICAgICAgXCIgXCIgKyB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0ubGFzdE5hbWU7XHJcblxyXG4gICAgICAgICAgICBjb250YWN0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGtleTogMCxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBmdWxsTmFtZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsSWQ6IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5lbWFpbCxcclxuICAgICAgICAgICAgICAgIGlzVmFsaWRFbWFpbDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzRWRpdGluZyA6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsSWRDaGlwczogY29udGFjdHMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICBjb25zdCB7IGN1c3RvbWVyLCBjbGFzc2VzLCBzdW1tYXJ5Tm90ZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHJldHVybiAoXHJcblxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiB9fT5cclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEyfSBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHBhZGRpbmc6IFwiMHB4IDhweCA4cHggOHB4XCIsXHJcbiAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs1fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEyfSBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeU5vdGVzQm94fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlOb3Rlc0hlYWRlcn0+U1VNTUFSWSBOT1RFUzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW1zIGlkPVwic3VtbWFyeU5vdGVpdGVtc1wiIGNsYXNzTmFtZT17KCFzdW1tYXJ5Tm90ZXMgfHwgc3VtbWFyeU5vdGVzLmxlbmd0aCA9PSAwKSA/IGNsYXNzTmFtZXMoY2xhc3Nlcy5lbXB0eVN1bW1hcnlHcmlkLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpIDogY2xhc3Nlcy5zdW1tYXJ5Tm90ZWl0ZW1zfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghc3VtbWFyeU5vdGVzIHx8IHN1bW1hcnlOb3Rlcy5sZW5ndGggPT0gMCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMud2FybmluZ0xpbmV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm8gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMuZW1wdHlTdW1tYXJ5VGV4dH0+VGhlcmUgaXMgbm8gc3VtbWFyeSBub3RlcyA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHN1bW1hcnlOb3RlcyAmJiAhc3VtbWFyeU5vdGVzLmxlbmd0aCA9PSAwKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPXtjbGFzc2VzLm5vdGVzTGlzdH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzLm1hcChub3RlID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMSwgZm9udFNpemU6IFwiMC44ODg4ODg4ODg4OHJlbVwiLCBtYXJnaW5Cb3R0b206IFwiMC44ODhyZW1cIiB9fT57bm90ZX08L1R5cG9ncmFwaHk+PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs3fSBzdHlsZT17eyBwYWRkaW5nTGVmdDogXCIxLjA0MXZ3XCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxFbWFpbEJveFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzID0ge3N1bW1hcnlOb3Rlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rvcj17dGhpcy5wcm9wcy5jb2xsZWN0b3J9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25BY3Rpb25JbmNsdWRlZD17dGhpcy5wcm9wcy5ub25BY3Rpb25JbmNsdWRlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsSWRDaGlwcz17dGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcj17dGhpcy5wcm9wcy5jdXN0b21lcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsQXR0YWNoZW1lbnRzPXt0aGlzLnByb3BzLmludm9pY2VMaXN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkZpbmFsLnByb3BUeXBlcyA9IHByb3BUeXBlc1xyXG5GaW5hbC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHNcclxuXHJcbmNvbnN0IGNvbWJpbmVkU3R5bGUgPSBjb21iaW5lU3R5bGVzKHN0eWxlcywgYmFzZVN0eWxlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoRmluYWwpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92aWV3cy9GaW5hbC5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgeyBUeXBvZ3JhcGh5LCBUZXh0RmllbGQsIEJ1dHRvbiwgU2VsZWN0LCBNZW51SXRlbSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IElucHV0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0lucHV0JztcclxuaW1wb3J0IHsgY29ycmVzcG9uZGVuY2VTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29ycmVzcG9uZGVuY2VTZXJ2aWNlJztcclxuaW1wb3J0IENsb3NlIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcbmltcG9ydCBHcmlkTGlzdCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkTGlzdCc7XHJcbmltcG9ydCBHcmlkTGlzdFRpbGUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3RUaWxlJztcclxuaW1wb3J0IENoaXAgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2hpcCc7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbmFja2Jhcic7XHJcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b24nO1xyXG5pbXBvcnQgeyB2YWxpZGF0ZUVtYWlsIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVycy9lbWFpbEhlbHBlcic7XHJcbmltcG9ydCBDbG9zZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IHsgUEZBTWVzc2FnZSwgZGVmYXVsdEVtYWlsU3ViamVjdCB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgICBzdW1tYXJ5RW1haWxIZWFkZXI6IHtcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbDoge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxyXG4gICAgICAgIG1hcmdpblRvcDogXCIuMTI1cmVtXCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuM3JlbVwiLFxyXG4gICAgICAgIGhlaWdodDogXCI3OXZoXCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbEZvcm06IHtcclxuICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAwLjVyZW0gMCAwLjVyZW1cIixcclxuICAgIH0sXHJcbiAgICBlbWFpbElkQ2hpcHNJbnB1dDoge1xyXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIwLjA2MjVyZW0gc29saWQgcmdiYSg5MywgMTcwLCAyMjQsIDAuNSlcIixcclxuICAgIH0sXHJcbiAgICBlbWFpbEFkZExhYmVsOiB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIwLjNlbVwiLFxyXG4gICAgICAgIG9wYWNpdHk6IDAuNSxcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxyXG4gICAgfSxcclxuICAgIGVtYWlsSWRDaGlwczoge1xyXG4gICAgICAgIGhlaWdodDogXCIxLjRlbVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMC4xNzc3cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAuMTc3N3JlbVwiLFxyXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuMmVtXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBcIiY+IHNwYW5cIjoge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcclxuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4zcmVtXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnJjpob3ZlciwgJjpmb2N1cyc6IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJyY6YWN0aXZlJzoge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkRW1haWxJZENoaXBzOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjEuNGVtXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjE3NzdyZW1cIixcclxuICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMC4xNzc3cmVtXCIsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4yZW1cIixcclxuICAgICAgICBcIiY+IHNwYW5cIjoge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcclxuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4zcmVtXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmNDQ0NFwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICAnJjpob3ZlciwgJjpmb2N1cyc6IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNzM4MzhcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgICcmOmFjdGl2ZSc6IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNzM4MzhcIixcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIHJlbW92ZUVtYWlsSWQ6IHtcclxuICAgICAgICBmb250U2l6ZTogXCIwLjhlbVwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGVtYWlsSWRJbnB1dDoge1xyXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuMzEyNXJlbVwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjk1JVwiLFxyXG4gICAgICAgIHJlc2l6ZTogXCJob3Jpem9udGFsXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiXHJcbiAgICB9LFxyXG4gICAgZW1haWxTdWJqZWN0OiB7XHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjAuMDYyNXJlbSBzb2xpZCByZ2JhKDkzLCAxNzAsIDIyNCwgMC41KVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgICcmOjpwbGFjZWhvbGRlcic6IHtcclxuICAgICAgICAgICAgY29sb3I6ICcjYTdhN2E3J1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkaXNhYmxlZFN1YmplY3RJbnB1dDoge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbEJvZHk6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNjB2aFwiLFxyXG4gICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxyXG4gICAgfSxcclxuICAgIGVtYWlsQm9keVRleHQ6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiMC45cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgIWltcG9ydGFudFwiXHJcbiAgICB9LFxyXG4gICAgaW52b2ljZUNvdW50OiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuOHJlbVwiLFxyXG4gICAgfSxcclxuICAgIGludm9pY2VBdHRhY2hlbWVudHM6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiMTB2aFwiLFxyXG4gICAgfSxcclxuICAgIGdyaWRMaXN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDAuMDYyNXJlbVwiLFxyXG4gICAgICAgIHBhZGRpbmc6ICcwLjI1cmVtJyxcclxuICAgICAgICBib3JkZXJSYWRpdXM6ICcwLjI1cmVtJ1xyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbEZvb3Rlcjoge1xyXG4gICAgICAgIGhlaWdodDogXCI3LjR2aFwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvdy1yZXZlcnNlXCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiICMyYzQxNGY7XCJcclxuICAgIH0sXHJcbiAgICBzZW5kU3VtbWFyeUVtYWlsQnRuOiB7XHJcbiAgICAgICAgaGVpZ2h0OiAnMmVtJyxcclxuICAgICAgICB3aWR0aDogJzZlbScsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMS4ycmVtXCIsXHJcbiAgICAgICAgZm9udFNpemU6ICdzbWFsbGVyJyxcclxuICAgICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGRpc2FibGVJY29uOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJub25lXCIsXHJcbiAgICB9LFxyXG4gICAgbm90ZXNMaXN0OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjBcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjEuN3JlbVwiXHJcbiAgICB9LFxyXG4gICAgZW1wdHlTdW1tYXJ5VGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGVtcHR5U3VtbWFyeUdyaWQ6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiMTV2aFwiLFxyXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcclxuICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxyXG4gICAgfSxcclxuICAgIHdhcm5pbmdMaW5lOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBmb250V2VpZ2h0OiA1MDAsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi44ZW1cIixcclxuICAgICAgICBvcGFjaXR5OiBcIjAuNjVcIixcclxuICAgIH0sXHJcbiAgICBpY29uOiB7XHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiLjV2d1wiXHJcbiAgICB9LFxyXG4gICAgaGlkZU92ZXJmbG93OiB7XHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBzdW1tYXJ5Tm90ZXM6IFwiXCIsXHJcbiAgICBjb2xsZWN0b3I6IHt9LFxyXG4gICAgbm9uQWN0aW9uSW5jbHVkZWQ6IGZhbHNlLFxyXG4gICAgZW1haWxJZENoaXBzOiBbXSxcclxuICAgIGN1c3RvbWVyOiB7fSxcclxuICAgIGVtYWlsQXR0YWNoZW1lbnRzOiBbXVxyXG59XHJcblxyXG5jb25zdCBwcm9wVHlwZXMgPSB7XHJcbiAgICBzdW1tYXJ5Tm90ZXM6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBjb2xsZWN0b3I6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIG5vbkFjdGlvbkluY2x1ZGVkOiBQcm9wVHlwZXMuYm9vbCxcclxuICAgIGVtYWlsSWRDaGlwczogUHJvcFR5cGVzLmFycmF5LFxyXG4gICAgY3VzdG9tZXI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIGVtYWlsQXR0YWNoZW1lbnRzOiBQcm9wVHlwZXMuYXJyYXksXHJcbn07XHJcblxyXG5cclxuY2xhc3MgRW1haWxCb3ggZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5lbWFpbEFkZCA9IFJlYWN0LmNyZWF0ZVJlZigpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGVtYWlsSWRDaGlwczogdGhpcy5wcm9wcy5lbWFpbElkQ2hpcHMsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlSWQ6IC0xLFxyXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlU3ViamVjdDogZGVmYXVsdEVtYWlsU3ViamVjdCxcclxuICAgICAgICAgICAgZW1haWxTZW50OiBmYWxzZSxcclxuICAgICAgICAgICAgZW1haWxCb2R5SGVpZ2h0OiAxMixcclxuICAgICAgICAgICAgZW1haWxBdHRhY2hlbWVudHM6IHRoaXMucHJvcHMuZW1haWxBdHRhY2hlbWVudHMsXHJcbiAgICAgICAgICAgIHNuYWNrQmFyT3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNuYWNrQmFyTWVzc2FnZTogXCJcIixcclxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZU5hbWU6IFwiXCIsXHJcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVCb2R5OiBcIlwiLFxyXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlczogW10sXHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdEJvZHkoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2VtYWlsSWRDaGlwcyA6IG5leHRQcm9wcy5lbWFpbElkQ2hpcHN9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsZSBmdW5jdGlvbiBmb3IgY2hhbmdlIGluIHRlbXBsYXRlIHNlbGVjdGlvblxyXG4gICAgaGFuZGxlVGVtcGxhdGVDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVOYW1lOiBldmVudC50YXJnZXQudmFsdWUgfSk7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZXM7XHJcblxyXG4gICAgICAgIC8vY2hlY2sgaWYgbm8gdGVtcGxhdGUgaXMgc2VsZWN0ZWRcclxuXHJcbiAgICAgICAgLy90aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVzLmZvckVhY2goZnVuY3Rpb24gKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wbGF0ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGVtcGxhdGVbaV0ubmFtZSA9PSBldmVudC50YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlU3ViamVjdDogdGVtcGxhdGVbaV0uc3ViamVjdCB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlQm9keTogdGVtcGxhdGVbaV0uYm9keSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0ZW1wbGF0ZUlkOiB0ZW1wbGF0ZVtpXS5pZCB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIG9uIHByZXNzaW5nIGVudGVyIGtleSBhZnRlciBlbWFpbCBpZCBhZGRpdGlvblxyXG4gICAgaGFuZGxlRW1haWxFbnRlciA9IGV2ZW50ID0+IHtcclxuICAgICAgICBpZiAoKGV2ZW50LnR5cGUgPT09ICdibHVyJyB8fCBldmVudC5rZXkgPT09ICdFbnRlcicpICYmIGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCkpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vcmVndWxhciBleHByZXNzaW9uIC0gdG8gY2hlY2sgQGhvc3QuZG9tYWluXHJcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy92YWxpZGF0ZSB0aGUgZW50ZXJlZCBlbWFpbCBpZFxyXG4gICAgICAgICAgICBsZXQgaXNWYWxpZEVtYWlsID0gdmFsaWRhdGVFbWFpbChldmVudC50YXJnZXQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVtYWlsQXJyID0gdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHM7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBrZXk6IGVtYWlsQXJyLmxlbmd0aCwgbGFiZWw6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsSWQ6IGV2ZW50LnRhcmdldC52YWx1ZSwgaXNWYWxpZEVtYWlsOiBpc1ZhbGlkRW1haWwsXHJcbiAgICAgICAgICAgICAgICBpc0VkaXRpbmcgOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBlbWFpbEFyci5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0b0FkZHI6IGVtYWlsQXJyIH0pO1xyXG4gICAgICAgICAgICBldmVudC50YXJnZXQudmFsdWUgPSBcIlwiO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvL2hhbmRsZSBmdW5jdGlvbiB3aGVuIGVtYWlsSWQgY2hpcCBpcyByZW1vdmVkXHJcbiAgICBoYW5kbGVFbWFpbElkRGVsZXRlID0gZGF0YSA9PiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5lbWFpbEFkZC5jdXJyZW50LmZvY3VzKCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVtYWlsSWRDaGlwcyA9IFsuLi5zdGF0ZS5lbWFpbElkQ2hpcHNdO1xyXG4gICAgICAgICAgICBjb25zdCBjaGlwVG9EZWxldGUgPSBlbWFpbElkQ2hpcHMuaW5kZXhPZihkYXRhKTtcclxuICAgICAgICAgICAgZW1haWxJZENoaXBzLnNwbGljZShjaGlwVG9EZWxldGUsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4geyBlbWFpbElkQ2hpcHMgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgc3ViamVjdFxyXG4gICAgaGFuZGxlU3ViamVjdENoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgYm9keVxyXG4gICAgaGFuZGxlRW1haWxCb2R5Q2hhbmdlID0gZXZlbnQgPT4ge1xyXG4gICAgICAgIGxldCBuZXdNYXhIZWlnaHQgPSBNYXRoLnJvdW5kKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbEJvZHknKS5zY3JvbGxIZWlnaHQpO1xyXG4gICAgICAgIGlmIChuZXdNYXhIZWlnaHQgPD0gMTIpIHtcclxuICAgICAgICAgICAgbmV3TWF4SGVpZ2h0ID0gMTI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlQm9keTogZXZlbnQudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICBlbWFpbEJvZHlIZWlnaHQ6IG5ld01heEhlaWdodFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlbW92ZSBhdHRhY2hlbWVudCBmcm9tIGVtYWlsXHJcbiAgICByZW1vdmVBdHRhY2hlbWVudCA9IGRvY3VtZW50TnVtYmVyID0+IHtcclxuICAgICAgICB2YXIgY3VyckF0dGFjaGVtZW50cyA9IHRoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHM7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyQXR0YWNoZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyQXR0YWNoZW1lbnRzW2ldLmlkID09IGRvY3VtZW50TnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyQXR0YWNoZW1lbnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbEF0dGFjaGVtZW50czogY3VyckF0dGFjaGVtZW50cyB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVRvRWRpdCA9IChpbmRleCkgPT4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0ZW1wRW1haWxJZGNoaXBzID0gdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHNcclxuICAgICAgICB0ZW1wRW1haWxJZGNoaXBzW2luZGV4XS5pc0VkaXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2VtYWlsSWRDaGlwcyA6IHRlbXBFbWFpbElkY2hpcHN9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVFZGl0RW1haWwgPSAoaW5kZXgsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKChldmVudC50eXBlID09PSAnYmx1cicgfHwgZXZlbnQua2V5ID09PSAnRW50ZXInKSAmJiBldmVudC50YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgLy9yZWd1bGFyIGV4cHJlc3Npb24gLSB0byBjaGVjayBAaG9zdC5kb21haW5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3ZhbGlkYXRlIHRoZSBlbnRlcmVkIGVtYWlsIGlkXHJcbiAgICAgICAgICAgIGxldCBpc1ZhbGlkRW1haWwgPSB2YWxpZGF0ZUVtYWlsKGV2ZW50LnRhcmdldC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdGVtcEVtYWlsSWRDaGlwcyA9IHRoaXMuc3RhdGUuZW1haWxJZENoaXBzO1xyXG4gICAgICAgICAgICB0ZW1wRW1haWxJZENoaXBzW2luZGV4XS52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICAgICAgdGVtcEVtYWlsSWRDaGlwc1tpbmRleF0uaXNWYWxpZEVtYWlsID0gaXNWYWxpZEVtYWlsXHJcbiAgICAgICAgICAgIHRlbXBFbWFpbElkQ2hpcHNbaW5kZXhdLmlzRWRpdGluZyA9IGZhbHNlXHJcblxyXG4gICAgICAgICAgICAvLyB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAvLyAgICAga2V5OiBlbWFpbEFyci5sZW5ndGgsIGxhYmVsOiBldmVudC50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgIC8vICAgICBlbWFpbElkOiBldmVudC50YXJnZXQudmFsdWUsIGlzVmFsaWRFbWFpbDogaXNWYWxpZEVtYWlsLFxyXG4gICAgICAgICAgICAvLyAgICAgaXNFZGl0aW5nIDogZmFsc2VcclxuICAgICAgICAgICAgLy8gfTtcclxuICAgICAgICAgICAgLy8gZW1haWxBcnIucHVzaChvYmopO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG9BZGRyOiB0ZW1wRW1haWxJZENoaXBzIH0pO1xyXG4gICAgICAgICAgICAvLyBldmVudC50YXJnZXQudmFsdWUgPSBcIlwiO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9IFxyXG5cclxuICAgIGhhbmRsZUNoYW5nZSA9IChpbmRleCxldmVudCkgPT4ge1xyXG4gICAgICAgIGxldCB0ZW1wRW1haWxJZENoaXBzID0gdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHM7XHJcbiAgICAgICAgdGVtcEVtYWlsSWRDaGlwc1tpbmRleF0udmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZW1haWxJZENoaXBzIDogdGVtcEVtYWlsSWRDaGlwc30pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlbmQgcG9zdCBjYWxsIHN1bW1hcnkgZW1haWxcclxuICAgIHNlbmRTdW1tYXJ5RW1haWwgPSAoKSA9PiB7XHJcbiAgICAgICAgLy9JbnZvaWNlIGRvY3VtZW50IGlkcyBcclxuICAgICAgICB2YXIgZG9jdW1lbnRJRHMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZG9jdW1lbnRJRHMucHVzaCh0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzW2ldLmlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9pZiBubyB0b0FkZHIgaXMgcHJlc2VudCwgc2hvdyBpbiBzbmFjayBiYXJcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlBsZWFzZSBzcGVjaWZ5IGF0IGxlYXN0IG9uZSByZWNpcGllbnQuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vdG8gZW1haWwgYWRkcmVzc2VzIFxyXG4gICAgICAgIHZhciB0b0FkZHIgPSBcIlwiO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuZW1haWxJZENoaXBzW2ldLmlzVmFsaWRFbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgdG9BZGRyICs9IHRoaXMuc3RhdGUuZW1haWxJZENoaXBzW2ldLmVtYWlsSWQgKyBcIixcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL3JlbW92ZSBsYXN0IGNvbW1hXHJcbiAgICAgICAgdmFyIHBvcyA9IHRvQWRkci5sYXN0SW5kZXhPZihcIixcIik7XHJcbiAgICAgICAgdG9BZGRyID0gdG9BZGRyLnNsaWNlKDAsIHBvcyk7XHJcbiAgICAgICAgbGV0IGVtYWlsQm9keSA9IHRoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZUJvZHk7XHJcbiAgICAgICAgZW1haWxCb2R5ID0gZW1haWxCb2R5LnJlcGxhY2UoL1xcbi9nLCAnPGJyIC8+Jyk7XHJcbiAgICAgICAgLy8gQ3JlYXRpbmcgcmVxdWVzdCBlbWFpbCBvYmplY3RcclxuICAgICAgICBsZXQgZW1haWxPYmogPSB7XHJcbiAgICAgICAgICAgIGJvZHk6IGVtYWlsQm9keSxcclxuICAgICAgICAgICAgc3ViamVjdDogdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlU3ViamVjdCxcclxuICAgICAgICAgICAgLy8gY29yclR5cGVJZDogdGhpcy5zdGF0ZS50ZW1wbGF0ZUlkLCAgICAvLyB3aGF0ICBpZiB0ZW1wbGF0ZXMgYXJlIG5vdCBmZXRjaGVkLiBcclxuICAgICAgICAgICAgY3VzdG9tZXJJZDogdGhpcy5wcm9wcy5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IGRvY3VtZW50SURzLFxyXG4gICAgICAgICAgICBmcm9tOiB0aGlzLnByb3BzLmNvbGxlY3Rvci5lbWFpbElkLCAgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxyXG4gICAgICAgICAgICB0bzogdG9BZGRyLCAgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIE1ha2luZyBhIHBvc3QgY2FsbCBmb3Igc2VuZGluZyBlbWFpbHNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiB0cnVlIH0pXHJcbiAgICAgICAgY29ycmVzcG9uZGVuY2VTZXJ2aWNlLnNlbmRDYWxsU3VtbWFyeShlbWFpbE9iailcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVtYWlsIHNlbnRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9kaXNhYmxlIHRvIHRoZSBjb21wb25lbnQgdG8gcmVhZCBvbmx5IG1vZGUuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiBmYWxzZSB9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcclxuICAgIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyTWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cclxuICAgIGNsb3NlU25hY2tiYXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGVmYXVsdEJvZHkgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBjb2xsZWN0b3IsIHN1bW1hcnlOb3Rlcywgbm9uQWN0aW9uSW5jbHVkZWQgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgbGV0IGludm9pY2VTdHJpbmcgPSAodGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGggPiAwKSA/ICBQRkFNZXNzYWdlICA6IFwiXCI7XHJcbiAgICAgICAgbGV0IHN1bW1hcnlTdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIGxldCBmaXJzdE5hbWUgPSBjb2xsZWN0b3IuZmlyc3ROYW1lID8gdGhpcy5wcm9wcy5jb2xsZWN0b3IuZmlyc3ROYW1lIDogXCJcIlxyXG4gICAgICAgIGxldCBsYXN0TmFtZSA9IGNvbGxlY3Rvci5sYXN0TmFtZSA/IHRoaXMucHJvcHMuY29sbGVjdG9yLmxhc3ROYW1lIDogXCJcIlxyXG4gICAgICAgIGZvciAobGV0IGkgaW4gc3VtbWFyeU5vdGVzKSB7XHJcbiAgICAgICAgICAgIGlmICgoaSA9PSBzdW1tYXJ5Tm90ZXMubGVuZ3RoIC0gMSkgJiYgbm9uQWN0aW9uSW5jbHVkZWQpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN1bW1hcnlTdHJpbmcgKz0gKHN1bW1hcnlOb3Rlc1tpXS50cmltKCkpID8gXCJcXG5cXHUyMDIyIFwiICsgc3VtbWFyeU5vdGVzW2ldIDogXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN1bW1hcnlTdHJpbmcgPSAoc3VtbWFyeVN0cmluZykgPyBgXFxuUGxlYXNlIGZpbmQgYmVsb3cgdGhlIHN1bW1hcnkgb2Ygb3VyIGNvbnZlcnNhdGlvbjpcXG4ke3N1bW1hcnlTdHJpbmd9XFxuXFxuJHtpbnZvaWNlU3RyaW5nfVxcbmAgOiBcIlwiO1xyXG4gICAgICAgIGxldCBlbWFpbEJvZHkgPSAoc3VtbWFyeVN0cmluZykgPyBgR3JlZXRpbmdzLFxcbiR7c3VtbWFyeVN0cmluZ31cXG5SZWdhcmRzLFxcbiR7Zmlyc3ROYW1lICsgXCIgXCIgKyBsYXN0TmFtZX1gIDogXCJcIjtcclxuICAgICAgICBsZXQgbmV3TGluZUNvdW50ID0gKGVtYWlsQm9keS5tYXRjaCgvXFxuL2cpIHx8IFtdKS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVCb2R5OiBlbWFpbEJvZHksIGVtYWlsQm9keUhlaWdodDogbmV3TGluZUNvdW50ICsgMSB9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5RW1haWxIZWFkZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGZvbnRTaXplOiBcIjEuMDY2NjZyZW1cIiwgZm9udFdlaWdodDogXCJub3JtYWxcIiwgY29sb3I6IFwiI2ZmZmZmZlwiLCBvcGFjaXR5OiAwLjY1LCBwYWRkaW5nQm90dG9tOiBcIjAuMmVtXCIsIH19PlNFTkQgU1VNTUFSWSBNQUlMPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiBVbmNvbW1lbnQgdGhpcyB0byBnZXQgdGVtcGxhdGUgc2VsZWN0b3IgZHJvcCBkb3duICovfVxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250U2l6ZTogXCIwLjZlbVwiLCBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLCBjb2xvcjogXCIjZmZmZmZmXCIgfX0+U3VtbWFyeSBUZW1wbGF0ZSAxPC9UeXBvZ3JhcGh5PiAqL31cclxuICAgICAgICAgICAgICAgICAgICB7LyogPFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVRlbXBsYXRlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5lbWFpbFRlbXBsYXRlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2VtYWlsVGVtcGxhdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVtcGxhdGVTZWxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnN0YXRlLmVtYWlsU2VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEljb25Db21wb25lbnQ9e0Fycm93RHJvcERvd259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+Ki99XHJcbiAgICAgICAgICAgICAgICAgICAgey8qIDxNZW51SXRlbSB2YWx1ZT1cIlwiPk5vIFRlbXBsYXRlcyE8L01lbnVJdGVtPiAqL31cclxuICAgICAgICAgICAgICAgICAgICB7Lyoge3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZXMubWFwKHRlbXBsYXRlcyA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RlbXBsYXRlcy5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGVtcGxhdGVzLm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD4gKi99XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlFbWFpbH0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeUVtYWlsRm9ybX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8Rm9ybUNvbnRyb2wgZnVsbFdpZHRoIGNsYXNzTmFtZT17Y2xhc3Nlcy5tYXJnaW59PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuZW1haWxJZENoaXBzSW5wdXR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsQWRkTGFiZWx9PlRvIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVtYWlsSWRDaGlwcy5tYXAoKGVtYWlsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWwuaXNFZGl0aW5nID9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uS2V5UHJlc3M9eyAoZSkgPT4gIHRoaXMuaGFuZGxlRWRpdEVtYWlsKGluZGV4LCBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UgPSB7KGUpID0+IHt0aGlzLmhhbmRsZUNoYW5nZShpbmRleCxlKX19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0ge2VtYWlsLmxhYmVsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI9eyhlKSA9PiB0aGlzLmhhbmRsZUVkaXRFbWFpbChpbmRleCwgZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5lbWFpbElkSW5wdXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGlwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17ZW1haWwua2V5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17ZW1haWwubGFiZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17ZW1haWwuaXNWYWxpZEVtYWlsID8gY2xhc3Nlcy5lbWFpbElkQ2hpcHMgOiBjbGFzc2VzLmludmFsaWRFbWFpbElkQ2hpcHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUljb249ezxDbG9zZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXshdGhpcy5zdGF0ZS5lbWFpbFNlbnQgPyBjbGFzc2VzLnJlbW92ZUVtYWlsSWQgOiBjbGFzc2VzLmRpc2FibGVJY29ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90b2RvIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjbGlja2FibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25DbGljaz0geyAoZSkgPT4gIHRoaXMudG9nZ2xlVG9FZGl0KGluZGV4KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGU9e3RoaXMuaGFuZGxlRW1haWxJZERlbGV0ZShlbWFpbCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgY2xpY2thYmxlOiBlbWFpbC5pc1ZhbGlkRW1haWwgPyBjbGFzc2VzLmVtYWlsSWRDaGlwcyA6IGNsYXNzZXMuaW52YWxpZEVtYWlsSWRDaGlwcyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMuaGFuZGxlRW1haWxFbnRlcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI9e3RoaXMuaGFuZGxlRW1haWxFbnRlcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGg9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsSWRJbnB1dH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmVtYWlsU2VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFJlZj17dGhpcy5lbWFpbEFkZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblRvcDogXCIxJVwiLCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdWJqZWN0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRTdWJqZWN0SW5wdXQgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5lbWFpbFN1YmplY3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlU3ViamVjdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVN1YmplY3RDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuZW1haWxTZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5RW1haWxCb2R5fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImVtYWlsQm9keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpbGluZT17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlQm9keX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVFbWFpbEJvZHlDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17MTJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwid2hpdGVcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzTWF4PXt0aGlzLnN0YXRlLmVtYWlsQm9keUhlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuZW1haWxCb2R5VGV4dH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7fX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnB1dFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIndoaXRlXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBpbnB1dDogY2xhc3Nlcy5oaWRlT3ZlcmZsb3cgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuZW1haWxTZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VBdHRhY2hlbWVudHN9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLmxlbmd0aCA+IDAgJiZcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VDb3VudH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiwgZm9udFNpemU6IFwiMC45Nzc3XCIgfX0+SW52b2ljZSBBdHRhY2hlbWVudHMgKHt0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLmxlbmd0aH0pPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0IGNlbGxIZWlnaHQ9e1wiYXV0b1wifSBjbGFzc05hbWU9e2NsYXNzZXMuZ3JpZExpc3R9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5tYXAoaW52b2ljZSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExpc3RUaWxlIGNvbHM9ezF9IGtleT17aW52b2ljZS5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6ICdhdXRvJywgd2lkdGg6ICcxMi41cmVtJywgcGFkZGluZzogJzAuMjVyZW0nIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmdyaWRMaXN0RGl2fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJywgbWFyZ2luTGVmdDogJzAuMzc1cmVtJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IHBhZGRpbmc6ICcwLjI1cmVtJywgZm9udFNpemU6ICcwLjg4OHJlbScsIG9wYWNpdHk6IDAuNjUsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9fT57aW52b2ljZS5kb2N1bWVudE51bWJlcn08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiAnMC4yNXJlbScsIGZvbnRTaXplOiAnMXJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9fT4kIHtpbnZvaWNlLmN1cnJlbnRPcGVuQW1vdW50fTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0VGlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGlzdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5RW1haWxGb290ZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LypVbmNvbW1lbnQgdGhpcyB0byBhZGQgaW52b2ljZXMgaW4gdGhpcyBzY3JlZW4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5hdHRhY2hJbnZvaWNlc0J0bn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5hdHRhY2hJbnZvaWNlTGFiZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFkZEludm9pY2VBdHRhY2hlbWVudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXR0YWNoIEludm9pY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnNlbmRTdW1tYXJ5RW1haWxCdG59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbmRTdW1tYXJ5RW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5lbWFpbFNlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNFTkRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB7LyogPC9Gb3JtQ29udHJvbD4gKi99XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxTbmFja2JhclxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdsZWZ0JyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc25hY2tCYXJPcGVufVxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezIwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ezxzcGFuIGlkPVwibWVzc2FnZS1pZFwiPnt0aGlzLnN0YXRlLnNuYWNrQmFyTWVzc2FnZX08L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbj17W1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiY2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwiaW5oZXJpdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2xvc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPixcclxuICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5FbWFpbEJveC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHNcclxuRW1haWxCb3gucHJvcFR5cGVzID0gcHJvcFR5cGVzXHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoRW1haWxCb3gpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9FbWFpbEJveC5qcyIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IHtoYW5kbGVBcGlSZXNwb25zZX0gZnJvbSAnLi4vdXRpbHMvbmV0d29ya1V0aWxzJztcclxuXHJcblxyXG5jb25zdCBCQVNFX1VSTCA9IFwiL2NvcnJlc3BvbmRlbmNlXCI7IFxyXG5cclxuZnVuY3Rpb24gZ2V0RW1haWxUZW1wbGF0ZXMgKCkge1xyXG4gICAgcmV0dXJuIGF4aW9zXHJcbiAgICAucG9zdChgJHtjb25maWcuYXBpVXJsfSR7QkFTRV9VUkx9L2VtYWlsdGVtcGxhdGVzYCkgICAgIFxyXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKGVycm9yKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlbmRDYWxsU3VtbWFyeShyZXFPYmopIHtcclxuICAgIHJldHVybiBheGlvc1xyXG4gICAgLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0ke0JBU0VfVVJMfS9jYWxsc3VtbWFyeWAscmVxT2JqKVxyXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKGVycm9yKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb3JyZXNwb25kZW5jZVNlcnZpY2UgPSB7Z2V0RW1haWxUZW1wbGF0ZXMgOiBnZXRFbWFpbFRlbXBsYXRlcywgc2VuZENhbGxTdW1tYXJ5IDogc2VuZENhbGxTdW1tYXJ5fTtcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2aWNlcy9jb3JyZXNwb25kZW5jZVNlcnZpY2UuanMiLCJleHBvcnQgY29uc3QgdmFsaWRhdGVFbWFpbCA9IGVtYWlsID0+IHtcclxuICAgIGNvbnN0IHJlID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XHJcbiAgICByZXR1cm4gcmUudGVzdChlbWFpbClcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvaGVscGVycy9lbWFpbEhlbHBlci5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgTGlzdCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9MaXN0JztcclxuaW1wb3J0IExpc3RJdGVtIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0xpc3RJdGVtJztcclxuaW1wb3J0IExpc3RJdGVtVGV4dCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9MaXN0SXRlbVRleHQnO1xyXG5pbXBvcnQgRGlhbG9nVGl0bGUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nVGl0bGUnO1xyXG5pbXBvcnQgRGlhbG9nIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZyc7XHJcbmltcG9ydCB7IEFDVElPTl9UWVBFUywgZW1wdHlGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gICAgZGlhbG9nUGFwZXI6IHtcclxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgd2hpdGUnLFxyXG4gICAgICAgIHdpZHRoOiAnMTkuNTN2dydcclxuICAgIH0sXHJcbiAgICBkaWFsb2c6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgY3JlYXRlTmV3QWN0aW9uRGlhbG9nSGVhZGVyOiB7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArICcgIWltcG9ydGFudCcsXHJcbiAgICAgICAgZm9udFNpemU6ICcxLjI0NDQ0cmVtJ1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZU5ld0FjdGlvbkRpYWxvZ09wdGlvbnM6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgJyAhaW1wb3J0YW50JyxcclxuICAgICAgICBmb250U2l6ZTogJzAuOTc3N3JlbScsXHJcbiAgICAgICAgcG9pbnRlcjogJ2N1cnNvcidcclxuICAgIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgcHJvcFR5cGVzID0ge1xyXG4gICAgb3BlbjogUHJvcFR5cGVzLmJvb2wsXHJcbiAgICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYyxcclxuICAgIG9uQWN0aW9uSXRlbUNsaWNrOiBQcm9wVHlwZXMuZnVuY1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgb3BlbjogZmFsc2UsXHJcbiAgICBvbkNsb3NlOiBlbXB0eUZ1bmN0aW9uLFxyXG4gICAgb25BY3Rpb25JdGVtQ2xpY2s6IGVtcHR5RnVuY3Rpb25cclxufVxyXG5cclxuY2xhc3MgQWN0aW9uQ3JlYXRvckRpYWxvZyBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XHJcbiAgICAgICAgaWYgKG5leHRQcm9wcy5vcGVuICE9PSB0aGlzLnByb3BzLm9wZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICBjb25zdCB7IG9wZW4sIGNsYXNzZXMsIG9uQ2xvc2UgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9e29uQ2xvc2V9XHJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9J25ldy1hY3Rpb24tZGlhbG9nLXRpdGxlJ1xyXG4gICAgICAgICAgICAgICAgb3Blbj17b3Blbn1cclxuICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgcGFwZXJTY3JvbGxQYXBlcjogY2xhc3Nlcy5kaWFsb2dQYXBlciB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGVcclxuICAgICAgICAgICAgICAgICAgICBpZD0nbmV3LWFjdGlvbi1kaWFsb2ctdGl0bGUnXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmRpYWxvZ30+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY3JlYXRlTmV3QWN0aW9uRGlhbG9nSGVhZGVyfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlIE5ldyBBY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPExpc3QgY2xhc3NOYW1lPXtjbGFzc2VzLmNyZWF0ZU5ld0FjdGlvbkRpYWxvZ09wdGlvbnN9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhBQ1RJT05fVFlQRVMpLm1hcChhY3Rpb25UeXBlS2V5ID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5wcm9wcy5vbkFjdGlvbkl0ZW1DbGljayhBQ1RJT05fVFlQRVNbYWN0aW9uVHlwZUtleV0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2FjdGlvblR5cGVLZXl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1UZXh0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY3JlYXRlTmV3QWN0aW9uRGlhbG9nT3B0aW9uc30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2BDcmVhdGUgJHtBQ1RJT05fVFlQRVNbYWN0aW9uVHlwZUtleV19YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpc3RJdGVtVGV4dD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpc3RJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvTGlzdD5cclxuICAgICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgIDwvRGlhbG9nPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vcmVtb3ZlIHByb3BUeXBlcyBpbiBwcm9kdWN0aW9uXHJcbkFjdGlvbkNyZWF0b3JEaWFsb2cucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xyXG5BY3Rpb25DcmVhdG9yRGlhbG9nLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcclxuXHJcbmV4cG9ydCBkZWZhdWx0ICh3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkpKEFjdGlvbkNyZWF0b3JEaWFsb2cpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0FjdGlvbkNyZWF0b3JEaWFsb2cuanMiLCIvKipcclxuICogQGF1dGhvciBCYWxyYWogU2luZ2ggPGJhbHJhanNpbmdoLnNAaGlnaHJhZGl1cy5jb20+XHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBHcm93IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyb3cnO1xyXG5pbXBvcnQgeyBUeXBvZ3JhcGh5IH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgSGlnaGxpZ2h0ZXIgZnJvbSAncmVhY3QtaGlnaGxpZ2h0LXdvcmRzJztcclxuaW1wb3J0IHsgSElHSExJR0hURVJfUkVHRVggfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBjYWxsYmFja2lmeSB9IGZyb20gJ3V0aWwnO1xyXG5pbXBvcnQgR2lmUGxheWVyIGZyb20gJ3JlYWN0LWdpZi1wbGF5ZXInO1xyXG5pbXBvcnQgUmlwcGxlR2lmIGZyb20gJy4uL2Fzc2V0cy9SaXBwbGUuZ2lmJztcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcblxyXG4gICAgY2hhdEJ1YmJsZToge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiZmxleC1zdGFydFwiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiNHB4XCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgICAgIG1pbldpZHRoOiBcImNhbGMoMTAwJSAtIDJyZW0pXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiY2FsYygxMDAlIC0gMnJlbSlcIixcclxuICAgICAgICBtaW5IZWlnaHQ6IFwiMXJlbVwiLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCI0cHhcIixcclxuICAgIH0sXHJcbiAgICByaWdodEJ1YmJsZToge1xyXG4gICAgICAgIG9wYWNpdHk6IFwiMC42NSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgYWxpZ25TZWxmOiBcImZsZXgtZW5kXCIsXHJcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3ctcmV2ZXJzZVwiLFxyXG4gICAgfSxcclxuICAgIG1lc3NhZ2U6IHtcclxuICAgICAgICBmb250U2l6ZTogXCIxcmVtXCIsXHJcbiAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxyXG4gICAgfSxcclxuICAgIGhpZ2hsaWdodE1lc3NhZ2U6IHtcclxuICAgICAgICBjb2xvcjogXCIjZmZmXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoOTMsIDE3MCwgMjI0LCAwLjMpXCIsXHJcbiAgICB9LFxyXG4gICAgY2lyY2xlZFRleHQ6IHtcclxuICAgICAgICBtaW5XaWR0aDogXCIycmVtXCIsXHJcbiAgICAgICAgbWluSGVpZ2h0OiBcIjJyZW1cIixcclxuICAgICAgICBtYXhIZWlnaHQ6IFwiMnJlbVwiLFxyXG4gICAgICAgIG1heFdpZHRoOiBcIjJyZW1cIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxyXG4gICAgICAgIGxpbmVIZWlnaHQ6IFwiMnJlbVwiLFxyXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM1REFBRTBcIixcclxuICAgIH0sXHJcbiAgICBnaWZBbmltYXRvcjoge1xyXG5cclxuICAgIH0sXHJcbiAgICBkZXRlY3Rvcjoge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcclxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICM1REFBRTBcIixcclxuICAgIH0sXHJcbiAgICBoaWdobGlnaHRlckZvckxlZnQ6IHtcclxuICAgICAgICBhbGlnblNlbGY6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgbWFyZ2luTGVmdDogXCIxMHB4XCIsXHJcbiAgICB9LFxyXG4gICAgaGlnaGxpZ2h0ZXJGb3JSaWdodDoge1xyXG4gICAgICAgIHRleHRBbGlnbjogXCJyaWdodFwiLFxyXG4gICAgICAgIGFsaWduU2VsZjogXCJjZW50ZXJcIixcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIxMHB4XCIsXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY2xhc3MgQ2hhdEJveCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XHJcbiAgICAgICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICAgICAgIGlzQ29sbGVjdG9yOiBQcm9wVHlwZXMuYm9vbCxcclxuICAgICAgICBtZXNzYWdlOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIGlzRGV0ZWN0aW5nOiBQcm9wVHlwZXMuYm9vbCxcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcclxuICAgICAgICBpc0NvbGxlY3RvcjogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogXCJcIixcclxuICAgICAgICBpc0RldGVjdGluZzogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGlzQ29sbGVjdG9yLCBtZXNzYWdlLCBjbGFzc2VzLCBpc0RldGVjdGluZyB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgLy9jb21tZW50IDxHcm93PiBhbmQgPC9Hcm93PiBmb2xsb3dpbmcgZm9yIHJ1bm5pbmcgdGVzdHMgc3VpdGVcclxuICAgICAgICAgICAgLy9jYW5ub3Qgc2V0IHRyYW5zaXRpb25zIGluIG5vZGUgZW52XHJcbiAgICAgICAgICAgIDxHcm93IGluPXt0cnVlfT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNoYXRCdWJibGUgKyBcIiBcIiArIChpc0NvbGxlY3RvciA/IGNsYXNzZXMucmlnaHRCdWJibGUgOiBcIlwiKX0+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNEZXRlY3RpbmcgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaXJjbGVkVGV4dCArIFwiIFwiICsgKGlzRGV0ZWN0aW5nID8gY2xhc3Nlcy5kZXRlY3RvciA6IFwiXCIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbml0aWFsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGV0ZWN0aW5nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogXCIyLjVyZW1cIiwgd2lkdGg6IFwiMi41cmVtXCIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNyYz17XCIvdG92by9zdGF0aWMvUmlwcGxlLmdpZlwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtSaXBwbGVHaWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJEZXRlY3RpbmcgU3BlYWtlcnMgQW5pbWF0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPEhpZ2hsaWdodGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17aXNDb2xsZWN0b3IgPyBjbGFzc2VzLmhpZ2hsaWdodGVyRm9yUmlnaHQgOiBjbGFzc2VzLmhpZ2hsaWdodGVyRm9yTGVmdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5oaWdobGlnaHRDbGFzc05hbWU9e2NsYXNzZXMubWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lPXtjbGFzc2VzLmhpZ2hsaWdodE1lc3NhZ2UgKyBcIiBcIiArIGNsYXNzZXMubWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoV29yZHM9e0hJR0hMSUdIVEVSX1JFR0VYfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0VG9IaWdobGlnaHQ9e21lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L0dyb3c+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KSkoQ2hhdEJveCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvQ2hhdEJveC5qcyIsIm1vZHVsZS5leHBvcnRzID1cbi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX0hpZ2hsaWdodGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfSGlnaGxpZ2h0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSGlnaGxpZ2h0ZXIpO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IF9IaWdobGlnaHRlcjJbJ2RlZmF1bHQnXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gSGlnaGxpZ2h0ZXI7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX2hpZ2hsaWdodFdvcmRzQ29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX21lbW9pemVPbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfbWVtb2l6ZU9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZW1vaXplT25lKTtcblx0XG5cdEhpZ2hsaWdodGVyLnByb3BUeXBlcyA9IHtcblx0ICBhY3RpdmVDbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXHQgIGFjdGl2ZUluZGV4OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm51bWJlcixcblx0ICBhY3RpdmVTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3QsXG5cdCAgYXV0b0VzY2FwZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuXHQgIGNsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG5cdCAgZmluZENodW5rczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXHQgIGhpZ2hsaWdodENsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0LCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZ10pLFxuXHQgIGhpZ2hsaWdodFN0eWxlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdCxcblx0ICBoaWdobGlnaHRUYWc6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYywgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmddKSxcblx0ICBzYW5pdGl6ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXHQgIHNlYXJjaFdvcmRzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmFycmF5T2YoX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmluc3RhbmNlT2YoUmVnRXhwKV0pKS5pc1JlcXVpcmVkLFxuXHQgIHRleHRUb0hpZ2hsaWdodDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcuaXNSZXF1aXJlZCxcblx0ICB1bmhpZ2hsaWdodENsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG5cdCAgdW5oaWdobGlnaHRTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3Rcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBIaWdobGlnaHRzIGFsbCBvY2N1cnJlbmNlcyBvZiBzZWFyY2ggdGVybXMgKHNlYXJjaFRleHQpIHdpdGhpbiBhIHN0cmluZyAodGV4dFRvSGlnaGxpZ2h0KS5cblx0ICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGFuIGFycmF5IG9mIHN0cmluZ3MgYW5kIDxzcGFuPnMgKHdyYXBwaW5nIGhpZ2hsaWdodGVkIHdvcmRzKS5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBIaWdobGlnaHRlcihfcmVmKSB7XG5cdCAgdmFyIF9yZWYkYWN0aXZlQ2xhc3NOYW1lID0gX3JlZi5hY3RpdmVDbGFzc05hbWU7XG5cdCAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IF9yZWYkYWN0aXZlQ2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkYWN0aXZlQ2xhc3NOYW1lO1xuXHQgIHZhciBfcmVmJGFjdGl2ZUluZGV4ID0gX3JlZi5hY3RpdmVJbmRleDtcblx0ICB2YXIgYWN0aXZlSW5kZXggPSBfcmVmJGFjdGl2ZUluZGV4ID09PSB1bmRlZmluZWQgPyAtMSA6IF9yZWYkYWN0aXZlSW5kZXg7XG5cdCAgdmFyIGFjdGl2ZVN0eWxlID0gX3JlZi5hY3RpdmVTdHlsZTtcblx0ICB2YXIgYXV0b0VzY2FwZSA9IF9yZWYuYXV0b0VzY2FwZTtcblx0ICB2YXIgX3JlZiRjYXNlU2Vuc2l0aXZlID0gX3JlZi5jYXNlU2Vuc2l0aXZlO1xuXHQgIHZhciBjYXNlU2Vuc2l0aXZlID0gX3JlZiRjYXNlU2Vuc2l0aXZlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkY2FzZVNlbnNpdGl2ZTtcblx0ICB2YXIgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWU7XG5cdCAgdmFyIGZpbmRDaHVua3MgPSBfcmVmLmZpbmRDaHVua3M7XG5cdCAgdmFyIF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZi5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIGhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciBfcmVmJGhpZ2hsaWdodFN0eWxlID0gX3JlZi5oaWdobGlnaHRTdHlsZTtcblx0ICB2YXIgaGlnaGxpZ2h0U3R5bGUgPSBfcmVmJGhpZ2hsaWdodFN0eWxlID09PSB1bmRlZmluZWQgPyB7fSA6IF9yZWYkaGlnaGxpZ2h0U3R5bGU7XG5cdCAgdmFyIF9yZWYkaGlnaGxpZ2h0VGFnID0gX3JlZi5oaWdobGlnaHRUYWc7XG5cdCAgdmFyIGhpZ2hsaWdodFRhZyA9IF9yZWYkaGlnaGxpZ2h0VGFnID09PSB1bmRlZmluZWQgPyAnbWFyaycgOiBfcmVmJGhpZ2hsaWdodFRhZztcblx0ICB2YXIgc2FuaXRpemUgPSBfcmVmLnNhbml0aXplO1xuXHQgIHZhciBzZWFyY2hXb3JkcyA9IF9yZWYuc2VhcmNoV29yZHM7XG5cdCAgdmFyIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYudGV4dFRvSGlnaGxpZ2h0O1xuXHQgIHZhciBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZi51bmhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICB2YXIgdW5oaWdobGlnaHRDbGFzc05hbWUgPSBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkdW5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIHVuaGlnaGxpZ2h0U3R5bGUgPSBfcmVmLnVuaGlnaGxpZ2h0U3R5bGU7XG5cdFxuXHQgIHZhciBjaHVua3MgPSAoMCwgX2hpZ2hsaWdodFdvcmRzQ29yZS5maW5kQWxsKSh7XG5cdCAgICBhdXRvRXNjYXBlOiBhdXRvRXNjYXBlLFxuXHQgICAgY2FzZVNlbnNpdGl2ZTogY2FzZVNlbnNpdGl2ZSxcblx0ICAgIGZpbmRDaHVua3M6IGZpbmRDaHVua3MsXG5cdCAgICBzYW5pdGl6ZTogc2FuaXRpemUsXG5cdCAgICBzZWFyY2hXb3Jkczogc2VhcmNoV29yZHMsXG5cdCAgICB0ZXh0VG9IaWdobGlnaHQ6IHRleHRUb0hpZ2hsaWdodFxuXHQgIH0pO1xuXHQgIHZhciBIaWdobGlnaHRUYWcgPSBoaWdobGlnaHRUYWc7XG5cdCAgdmFyIGhpZ2hsaWdodENvdW50ID0gLTE7XG5cdCAgdmFyIGhpZ2hsaWdodENsYXNzTmFtZXMgPSAnJztcblx0ICB2YXIgaGlnaGxpZ2h0U3R5bGVzID0gdW5kZWZpbmVkO1xuXHRcblx0ICB2YXIgbG93ZXJjYXNlUHJvcHMgPSBmdW5jdGlvbiBsb3dlcmNhc2VQcm9wcyhvYmplY3QpIHtcblx0ICAgIHZhciBtYXBwZWQgPSB7fTtcblx0ICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcblx0ICAgICAgbWFwcGVkW2tleS50b0xvd2VyQ2FzZSgpXSA9IG9iamVjdFtrZXldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG1hcHBlZDtcblx0ICB9O1xuXHQgIHZhciBtZW1vaXplZExvd2VyY2FzZVByb3BzID0gKDAsIF9tZW1vaXplT25lMlsnZGVmYXVsdCddKShsb3dlcmNhc2VQcm9wcyk7XG5cdFxuXHQgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICdzcGFuJyxcblx0ICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcblx0ICAgIGNodW5rcy5tYXAoZnVuY3Rpb24gKGNodW5rLCBpbmRleCkge1xuXHQgICAgICB2YXIgdGV4dCA9IHRleHRUb0hpZ2hsaWdodC5zdWJzdHIoY2h1bmsuc3RhcnQsIGNodW5rLmVuZCAtIGNodW5rLnN0YXJ0KTtcblx0XG5cdCAgICAgIGlmIChjaHVuay5oaWdobGlnaHQpIHtcblx0ICAgICAgICBoaWdobGlnaHRDb3VudCsrO1xuXHRcblx0ICAgICAgICB2YXIgaGlnaGxpZ2h0Q2xhc3MgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBoaWdobGlnaHRDbGFzc05hbWUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICBpZiAoIWNhc2VTZW5zaXRpdmUpIHtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lID0gbWVtb2l6ZWRMb3dlcmNhc2VQcm9wcyhoaWdobGlnaHRDbGFzc05hbWUpO1xuXHQgICAgICAgICAgICBoaWdobGlnaHRDbGFzcyA9IGhpZ2hsaWdodENsYXNzTmFtZVt0ZXh0LnRvTG93ZXJDYXNlKCldO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3MgPSBoaWdobGlnaHRDbGFzc05hbWVbdGV4dF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGhpZ2hsaWdodENsYXNzID0gaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGlzQWN0aXZlID0gaGlnaGxpZ2h0Q291bnQgPT09ICthY3RpdmVJbmRleDtcblx0XG5cdCAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lcyA9IGhpZ2hsaWdodENsYXNzICsgJyAnICsgKGlzQWN0aXZlID8gYWN0aXZlQ2xhc3NOYW1lIDogJycpO1xuXHQgICAgICAgIGhpZ2hsaWdodFN0eWxlcyA9IGlzQWN0aXZlID09PSB0cnVlICYmIGFjdGl2ZVN0eWxlICE9IG51bGwgPyBPYmplY3QuYXNzaWduKHt9LCBoaWdobGlnaHRTdHlsZSwgYWN0aXZlU3R5bGUpIDogaGlnaGxpZ2h0U3R5bGU7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIEhpZ2hsaWdodFRhZyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBoaWdobGlnaHRDbGFzc05hbWVzLFxuXHQgICAgICAgICAgICBrZXk6IGluZGV4LFxuXHQgICAgICAgICAgICBzdHlsZTogaGlnaGxpZ2h0U3R5bGVzXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdGV4dFxuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHVuaGlnaGxpZ2h0Q2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBrZXk6IGluZGV4LFxuXHQgICAgICAgICAgICBzdHlsZTogdW5oaWdobGlnaHRTdHlsZVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHRleHRcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgICk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9XG5cdC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcblx0LyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG5cdC8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuXHQvKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHQvKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG5cdC8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0LyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcblx0LyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG5cdC8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcblx0LyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuXHQvKioqKioqLyBcdFx0fTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHQvKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdC8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdC8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG5cdC8qKioqKiovIFx0fVxuXHQvKioqKioqL1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5cdC8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuXHQvKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cblx0LyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuXHQvKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXHQvKioqKioqLyB9KVxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXHQvKioqKioqLyAoW1xuXHQvKiAwICovXG5cdC8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblx0XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0XG5cdC8qKiovIH0pLFxuXHQvKiAxICovXG5cdC8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblx0XG5cdFx0J3VzZSBzdHJpY3QnO1xuXHRcdFxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdCAgdmFsdWU6IHRydWVcblx0XHR9KTtcblx0XHRcblx0XHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NvbWJpbmVDaHVua3MnLCB7XG5cdFx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFx0ICAgIHJldHVybiBfdXRpbHMuY29tYmluZUNodW5rcztcblx0XHQgIH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2ZpbGxJbkNodW5rcycsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5maWxsSW5DaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaW5kQWxsJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmZpbmRBbGw7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaW5kQ2h1bmtzJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmZpbmRDaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFxuXHQvKioqLyB9KSxcblx0LyogMiAqL1xuXHQvKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cdFxuXHRcdCd1c2Ugc3RyaWN0Jztcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHQgIHZhbHVlOiB0cnVlXG5cdFx0fSk7XG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBhbiBhcnJheSBvZiBjaHVuayBvYmplY3RzIHJlcHJlc2VudGluZyBib3RoIGhpZ2xpZ2h0YWJsZSBhbmQgbm9uIGhpZ2hsaWdodGFibGUgcGllY2VzIG9mIHRleHQgdGhhdCBtYXRjaCBlYWNoIHNlYXJjaCB3b3JkLlxuXHRcdCAqIEByZXR1cm4gQXJyYXkgb2YgXCJjaHVua3NcIiAod2hlcmUgYSBDaHVuayBpcyB7IHN0YXJ0Om51bWJlciwgZW5kOm51bWJlciwgaGlnaGxpZ2h0OmJvb2xlYW4gfSlcblx0XHQgKi9cblx0XHR2YXIgZmluZEFsbCA9IGV4cG9ydHMuZmluZEFsbCA9IGZ1bmN0aW9uIGZpbmRBbGwoX3JlZikge1xuXHRcdCAgdmFyIGF1dG9Fc2NhcGUgPSBfcmVmLmF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgX3JlZiRjYXNlU2Vuc2l0aXZlID0gX3JlZi5jYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIGNhc2VTZW5zaXRpdmUgPSBfcmVmJGNhc2VTZW5zaXRpdmUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRjYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIF9yZWYkZmluZENodW5rcyA9IF9yZWYuZmluZENodW5rcyxcblx0XHQgICAgICBmaW5kQ2h1bmtzID0gX3JlZiRmaW5kQ2h1bmtzID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RmluZENodW5rcyA6IF9yZWYkZmluZENodW5rcyxcblx0XHQgICAgICBzYW5pdGl6ZSA9IF9yZWYuc2FuaXRpemUsXG5cdFx0ICAgICAgc2VhcmNoV29yZHMgPSBfcmVmLnNlYXJjaFdvcmRzLFxuXHRcdCAgICAgIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYudGV4dFRvSGlnaGxpZ2h0O1xuXHRcdCAgcmV0dXJuIGZpbGxJbkNodW5rcyh7XG5cdFx0ICAgIGNodW5rc1RvSGlnaGxpZ2h0OiBjb21iaW5lQ2h1bmtzKHtcblx0XHQgICAgICBjaHVua3M6IGZpbmRDaHVua3Moe1xuXHRcdCAgICAgICAgYXV0b0VzY2FwZTogYXV0b0VzY2FwZSxcblx0XHQgICAgICAgIGNhc2VTZW5zaXRpdmU6IGNhc2VTZW5zaXRpdmUsXG5cdFx0ICAgICAgICBzYW5pdGl6ZTogc2FuaXRpemUsXG5cdFx0ICAgICAgICBzZWFyY2hXb3Jkczogc2VhcmNoV29yZHMsXG5cdFx0ICAgICAgICB0ZXh0VG9IaWdobGlnaHQ6IHRleHRUb0hpZ2hsaWdodFxuXHRcdCAgICAgIH0pXG5cdFx0ICAgIH0pLFxuXHRcdCAgICB0b3RhbExlbmd0aDogdGV4dFRvSGlnaGxpZ2h0ID8gdGV4dFRvSGlnaGxpZ2h0Lmxlbmd0aCA6IDBcblx0XHQgIH0pO1xuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogVGFrZXMgYW4gYXJyYXkgb2Yge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn0gb2JqZWN0cyBhbmQgY29tYmluZXMgY2h1bmtzIHRoYXQgb3ZlcmxhcCBpbnRvIHNpbmdsZSBjaHVua3MuXG5cdFx0ICogQHJldHVybiB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyfVtdXG5cdFx0ICovXG5cdFx0dmFyIGNvbWJpbmVDaHVua3MgPSBleHBvcnRzLmNvbWJpbmVDaHVua3MgPSBmdW5jdGlvbiBjb21iaW5lQ2h1bmtzKF9yZWYyKSB7XG5cdFx0ICB2YXIgY2h1bmtzID0gX3JlZjIuY2h1bmtzO1xuXHRcdFxuXHRcdCAgY2h1bmtzID0gY2h1bmtzLnNvcnQoZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHtcblx0XHQgICAgcmV0dXJuIGZpcnN0LnN0YXJ0IC0gc2Vjb25kLnN0YXJ0O1xuXHRcdCAgfSkucmVkdWNlKGZ1bmN0aW9uIChwcm9jZXNzZWRDaHVua3MsIG5leHRDaHVuaykge1xuXHRcdCAgICAvLyBGaXJzdCBjaHVuayBqdXN0IGdvZXMgc3RyYWlnaHQgaW4gdGhlIGFycmF5Li4uXG5cdFx0ICAgIGlmIChwcm9jZXNzZWRDaHVua3MubGVuZ3RoID09PSAwKSB7XG5cdFx0ICAgICAgcmV0dXJuIFtuZXh0Q2h1bmtdO1xuXHRcdCAgICB9IGVsc2Uge1xuXHRcdCAgICAgIC8vIC4uLiBzdWJzZXF1ZW50IGNodW5rcyBnZXQgY2hlY2tlZCB0byBzZWUgaWYgdGhleSBvdmVybGFwLi4uXG5cdFx0ICAgICAgdmFyIHByZXZDaHVuayA9IHByb2Nlc3NlZENodW5rcy5wb3AoKTtcblx0XHQgICAgICBpZiAobmV4dENodW5rLnN0YXJ0IDw9IHByZXZDaHVuay5lbmQpIHtcblx0XHQgICAgICAgIC8vIEl0IG1heSBiZSB0aGUgY2FzZSB0aGF0IHByZXZDaHVuayBjb21wbGV0ZWx5IHN1cnJvdW5kcyBuZXh0Q2h1bmssIHNvIHRha2UgdGhlXG5cdFx0ICAgICAgICAvLyBsYXJnZXN0IG9mIHRoZSBlbmQgaW5kZWNlcy5cblx0XHQgICAgICAgIHZhciBlbmRJbmRleCA9IE1hdGgubWF4KHByZXZDaHVuay5lbmQsIG5leHRDaHVuay5lbmQpO1xuXHRcdCAgICAgICAgcHJvY2Vzc2VkQ2h1bmtzLnB1c2goeyBzdGFydDogcHJldkNodW5rLnN0YXJ0LCBlbmQ6IGVuZEluZGV4IH0pO1xuXHRcdCAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICBwcm9jZXNzZWRDaHVua3MucHVzaChwcmV2Q2h1bmssIG5leHRDaHVuayk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICAgIHJldHVybiBwcm9jZXNzZWRDaHVua3M7XG5cdFx0ICAgIH1cblx0XHQgIH0sIFtdKTtcblx0XHRcblx0XHQgIHJldHVybiBjaHVua3M7XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBFeGFtaW5lIHRleHQgZm9yIGFueSBtYXRjaGVzLlxuXHRcdCAqIElmIHdlIGZpbmQgbWF0Y2hlcywgYWRkIHRoZW0gdG8gdGhlIHJldHVybmVkIGFycmF5IGFzIGEgXCJjaHVua1wiIG9iamVjdCAoe3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn0pLlxuXHRcdCAqIEByZXR1cm4ge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqL1xuXHRcdHZhciBkZWZhdWx0RmluZENodW5rcyA9IGZ1bmN0aW9uIGRlZmF1bHRGaW5kQ2h1bmtzKF9yZWYzKSB7XG5cdFx0ICB2YXIgYXV0b0VzY2FwZSA9IF9yZWYzLmF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgY2FzZVNlbnNpdGl2ZSA9IF9yZWYzLmNhc2VTZW5zaXRpdmUsXG5cdFx0ICAgICAgX3JlZjMkc2FuaXRpemUgPSBfcmVmMy5zYW5pdGl6ZSxcblx0XHQgICAgICBzYW5pdGl6ZSA9IF9yZWYzJHNhbml0aXplID09PSB1bmRlZmluZWQgPyBpZGVudGl0eSA6IF9yZWYzJHNhbml0aXplLFxuXHRcdCAgICAgIHNlYXJjaFdvcmRzID0gX3JlZjMuc2VhcmNoV29yZHMsXG5cdFx0ICAgICAgdGV4dFRvSGlnaGxpZ2h0ID0gX3JlZjMudGV4dFRvSGlnaGxpZ2h0O1xuXHRcdFxuXHRcdCAgdGV4dFRvSGlnaGxpZ2h0ID0gc2FuaXRpemUodGV4dFRvSGlnaGxpZ2h0KTtcblx0XHRcblx0XHQgIHJldHVybiBzZWFyY2hXb3Jkcy5maWx0ZXIoZnVuY3Rpb24gKHNlYXJjaFdvcmQpIHtcblx0XHQgICAgcmV0dXJuIHNlYXJjaFdvcmQ7XG5cdFx0ICB9KSAvLyBSZW1vdmUgZW1wdHkgd29yZHNcblx0XHQgIC5yZWR1Y2UoZnVuY3Rpb24gKGNodW5rcywgc2VhcmNoV29yZCkge1xuXHRcdCAgICBzZWFyY2hXb3JkID0gc2FuaXRpemUoc2VhcmNoV29yZCk7XG5cdFx0XG5cdFx0ICAgIGlmIChhdXRvRXNjYXBlKSB7XG5cdFx0ICAgICAgc2VhcmNoV29yZCA9IGVzY2FwZVJlZ0V4cEZuKHNlYXJjaFdvcmQpO1xuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoc2VhcmNoV29yZCwgY2FzZVNlbnNpdGl2ZSA/ICdnJyA6ICdnaScpO1xuXHRcdFxuXHRcdCAgICB2YXIgbWF0Y2ggPSB2b2lkIDA7XG5cdFx0ICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dFRvSGlnaGxpZ2h0KSkge1xuXHRcdCAgICAgIHZhciBzdGFydCA9IG1hdGNoLmluZGV4O1xuXHRcdCAgICAgIHZhciBlbmQgPSByZWdleC5sYXN0SW5kZXg7XG5cdFx0ICAgICAgLy8gV2UgZG8gbm90IHJldHVybiB6ZXJvLWxlbmd0aCBtYXRjaGVzXG5cdFx0ICAgICAgaWYgKGVuZCA+IHN0YXJ0KSB7XG5cdFx0ICAgICAgICBjaHVua3MucHVzaCh7IHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQgfSk7XG5cdFx0ICAgICAgfVxuXHRcdFxuXHRcdCAgICAgIC8vIFByZXZlbnQgYnJvd3NlcnMgbGlrZSBGaXJlZm94IGZyb20gZ2V0dGluZyBzdHVjayBpbiBhbiBpbmZpbml0ZSBsb29wXG5cdFx0ICAgICAgLy8gU2VlIGh0dHA6Ly93d3cucmVnZXhndXJ1LmNvbS8yMDA4LzA0L3dhdGNoLW91dC1mb3ItemVyby1sZW5ndGgtbWF0Y2hlcy9cblx0XHQgICAgICBpZiAobWF0Y2guaW5kZXggPT0gcmVnZXgubGFzdEluZGV4KSB7XG5cdFx0ICAgICAgICByZWdleC5sYXN0SW5kZXgrKztcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgcmV0dXJuIGNodW5rcztcblx0XHQgIH0sIFtdKTtcblx0XHR9O1xuXHRcdC8vIEFsbG93IHRoZSBmaW5kQ2h1bmtzIHRvIGJlIG92ZXJyaWRkZW4gaW4gZmluZEFsbCxcblx0XHQvLyBidXQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdlIGV4cG9ydCBhcyB0aGUgb2xkIG5hbWVcblx0XHRleHBvcnRzLmZpbmRDaHVua3MgPSBkZWZhdWx0RmluZENodW5rcztcblx0XHRcblx0XHQvKipcblx0XHQgKiBHaXZlbiBhIHNldCBvZiBjaHVua3MgdG8gaGlnaGxpZ2h0LCBjcmVhdGUgYW4gYWRkaXRpb25hbCBzZXQgb2YgY2h1bmtzXG5cdFx0ICogdG8gcmVwcmVzZW50IHRoZSBiaXRzIG9mIHRleHQgYmV0d2VlbiB0aGUgaGlnaGxpZ2h0ZWQgdGV4dC5cblx0XHQgKiBAcGFyYW0gY2h1bmtzVG9IaWdobGlnaHQge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqIEBwYXJhbSB0b3RhbExlbmd0aCBudW1iZXJcblx0XHQgKiBAcmV0dXJuIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXIsIGhpZ2hsaWdodDpib29sZWFufVtdXG5cdFx0ICovXG5cdFx0XG5cdFx0dmFyIGZpbGxJbkNodW5rcyA9IGV4cG9ydHMuZmlsbEluQ2h1bmtzID0gZnVuY3Rpb24gZmlsbEluQ2h1bmtzKF9yZWY0KSB7XG5cdFx0ICB2YXIgY2h1bmtzVG9IaWdobGlnaHQgPSBfcmVmNC5jaHVua3NUb0hpZ2hsaWdodCxcblx0XHQgICAgICB0b3RhbExlbmd0aCA9IF9yZWY0LnRvdGFsTGVuZ3RoO1xuXHRcdFxuXHRcdCAgdmFyIGFsbENodW5rcyA9IFtdO1xuXHRcdCAgdmFyIGFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChzdGFydCwgZW5kLCBoaWdobGlnaHQpIHtcblx0XHQgICAgaWYgKGVuZCAtIHN0YXJ0ID4gMCkge1xuXHRcdCAgICAgIGFsbENodW5rcy5wdXNoKHtcblx0XHQgICAgICAgIHN0YXJ0OiBzdGFydCxcblx0XHQgICAgICAgIGVuZDogZW5kLFxuXHRcdCAgICAgICAgaGlnaGxpZ2h0OiBoaWdobGlnaHRcblx0XHQgICAgICB9KTtcblx0XHQgICAgfVxuXHRcdCAgfTtcblx0XHRcblx0XHQgIGlmIChjaHVua3NUb0hpZ2hsaWdodC5sZW5ndGggPT09IDApIHtcblx0XHQgICAgYXBwZW5kKDAsIHRvdGFsTGVuZ3RoLCBmYWxzZSk7XG5cdFx0ICB9IGVsc2Uge1xuXHRcdCAgICB2YXIgbGFzdEluZGV4ID0gMDtcblx0XHQgICAgY2h1bmtzVG9IaWdobGlnaHQuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmspIHtcblx0XHQgICAgICBhcHBlbmQobGFzdEluZGV4LCBjaHVuay5zdGFydCwgZmFsc2UpO1xuXHRcdCAgICAgIGFwcGVuZChjaHVuay5zdGFydCwgY2h1bmsuZW5kLCB0cnVlKTtcblx0XHQgICAgICBsYXN0SW5kZXggPSBjaHVuay5lbmQ7XG5cdFx0ICAgIH0pO1xuXHRcdCAgICBhcHBlbmQobGFzdEluZGV4LCB0b3RhbExlbmd0aCwgZmFsc2UpO1xuXHRcdCAgfVxuXHRcdCAgcmV0dXJuIGFsbENodW5rcztcblx0XHR9O1xuXHRcdFxuXHRcdGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG5cdFx0ICByZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHRcdFxuXHRcdGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cEZuKHN0cikge1xuXHRcdCAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgJ1xcXFwkJicpO1xuXHRcdH1cblx0XG5cdC8qKiovIH0pXG5cdC8qKioqKiovIF0pO1xuXHQvLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcblx0ICAgIFN5bWJvbC5mb3IgJiZcblx0ICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcblx0ICAgIDB4ZWFjNztcblx0XG5cdCAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcblx0ICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG5cdCAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuXHQgIH07XG5cdFxuXHQgIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuXHQgIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2Rcblx0ICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcblx0fSBlbHNlIHtcblx0ICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuXHQgIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2Rcblx0ICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKCk7XG5cdH1cblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0XG5cdC8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuXHQvLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcblx0Ly8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuXHQvLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXHRcblx0dmFyIGNhY2hlZFNldFRpbWVvdXQ7XG5cdHZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgfVxuXHR9ICgpKVxuXHRmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuXHQgICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuXHQgICAgICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0fVxuXHRmdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG5cdCAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcblx0ICAgICAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG5cdCAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdFxuXHR9XG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdHByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblx0XG5cdHByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBpbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdHZhciBhc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR2YXIgY2hlY2tQcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpIHtcblx0ICAvKiBnbG9iYWwgU3ltYm9sICovXG5cdCAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuXHQgIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJzsgLy8gQmVmb3JlIFN5bWJvbCBzcGVjLlxuXHRcblx0ICAvKipcblx0ICAgKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG5cdCAgICpcblx0ICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcblx0ICAgKlxuXHQgICAqICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obXlJdGVyYWJsZSk7XG5cdCAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG5cdCAgICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuXHQgICAqICAgICAgIC4uLlxuXHQgICAqICAgICB9XG5cdCAgICpcblx0ICAgKiBAcGFyYW0gez9vYmplY3R9IG1heWJlSXRlcmFibGVcblx0ICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG5cdCAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuXHQgICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcblx0ICAgKiBzdXBwbGllZCB0byBSZWFjdCBjb21wb25lbnRzLiBFeGFtcGxlIHVzYWdlOlxuXHQgICAqXG5cdCAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuXHQgICAqICAgdmFyIE15QXJ0aWNsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICAgcHJvcFR5cGVzOiB7XG5cdCAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuXHQgICAqICAgICAgIGRlc2NyaXB0aW9uOiBQcm9wcy5zdHJpbmcsXG5cdCAgICpcblx0ICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG5cdCAgICogICAgICAgY2F0ZWdvcnk6IFByb3BzLm9uZU9mKFsnTmV3cycsJ1Bob3RvcyddKS5pc1JlcXVpcmVkLFxuXHQgICAqXG5cdCAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG5cdCAgICogICAgICAgZGlhbG9nOiBQcm9wcy5pbnN0YW5jZU9mKERpYWxvZykuaXNSZXF1aXJlZFxuXHQgICAqICAgICB9LFxuXHQgICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuXHQgICAqICAgfSk7XG5cdCAgICpcblx0ICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG5cdCAgICpcblx0ICAgKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcblx0ICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cblx0ICAgKlxuXHQgICAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcblx0ICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG5cdCAgICpcblx0ICAgKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICBwcm9wVHlwZXM6IHtcblx0ICAgKiAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBvciBVUkkgcHJvcCBuYW1lZCBcImhyZWZcIi5cblx0ICAgKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuXHQgICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAqICAgICAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHByb3BWYWx1ZSAhPT0gJ3N0cmluZycgJiZcblx0ICAgKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xuXHQgICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG5cdCAgICogICAgICAgICAgICAnRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYW4gVVJJIGZvciAnICsgcHJvcE5hbWUgKyAnIGluICcgK1xuXHQgICAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuXHQgICAqICAgICAgICAgICk7XG5cdCAgICogICAgICAgIH1cblx0ICAgKiAgICAgIH1cblx0ICAgKiAgICB9LFxuXHQgICAqICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7Li4ufVxuXHQgICAqICB9KTtcblx0ICAgKlxuXHQgICAqIEBpbnRlcm5hbFxuXHQgICAqL1xuXHRcblx0ICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuXHRcblx0ICAvLyBJbXBvcnRhbnQhXG5cdCAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanNgLlxuXHQgIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcblx0ICAgIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcblx0ICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG5cdCAgICBmdW5jOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignZnVuY3Rpb24nKSxcblx0ICAgIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxuXHQgICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG5cdCAgICBzdHJpbmc6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcblx0ICAgIHN5bWJvbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N5bWJvbCcpLFxuXHRcblx0ICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcblx0ICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcblx0ICAgIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxuXHQgICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcblx0ICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG5cdCAgICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcblx0ICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG5cdCAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG5cdCAgICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcixcblx0ICAgIGV4YWN0OiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyLFxuXHQgIH07XG5cdFxuXHQgIC8qKlxuXHQgICAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cblx0ICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcblx0ICAgKi9cblx0ICAvKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSovXG5cdCAgZnVuY3Rpb24gaXMoeCwgeSkge1xuXHQgICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuXHQgICAgaWYgKHggPT09IHkpIHtcblx0ICAgICAgLy8gU3RlcHMgMS01LCA3LTEwXG5cdCAgICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG5cdCAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG5cdCAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8qZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXHRcblx0ICAvKipcblx0ICAgKiBXZSB1c2UgYW4gRXJyb3ItbGlrZSBvYmplY3QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYXMgcGVvcGxlIG1heSBjYWxsXG5cdCAgICogUHJvcFR5cGVzIGRpcmVjdGx5IGFuZCBpbnNwZWN0IHRoZWlyIG91dHB1dC4gSG93ZXZlciwgd2UgZG9uJ3QgdXNlIHJlYWxcblx0ICAgKiBFcnJvcnMgYW55bW9yZS4gV2UgZG9uJ3QgaW5zcGVjdCB0aGVpciBzdGFjayBhbnl3YXksIGFuZCBjcmVhdGluZyB0aGVtXG5cdCAgICogaXMgcHJvaGliaXRpdmVseSBleHBlbnNpdmUgaWYgdGhleSBhcmUgY3JlYXRlZCB0b28gb2Z0ZW4sIHN1Y2ggYXMgd2hhdFxuXHQgICAqIGhhcHBlbnMgaW4gb25lT2ZUeXBlKCkgZm9yIGFueSB0eXBlIGJlZm9yZSB0aGUgb25lIHRoYXQgbWF0Y2hlZC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBQcm9wVHlwZUVycm9yKG1lc3NhZ2UpIHtcblx0ICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdCAgICB0aGlzLnN0YWNrID0gJyc7XG5cdCAgfVxuXHQgIC8vIE1ha2UgYGluc3RhbmNlb2YgRXJyb3JgIHN0aWxsIHdvcmsgZm9yIHJldHVybmVkIGVycm9ycy5cblx0ICBQcm9wVHlwZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpIHtcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIHZhciBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSA9IHt9O1xuXHQgICAgICB2YXIgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPSAwO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG5cdCAgICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IEFOT05ZTU9VUztcblx0ICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXHRcblx0ICAgICAgaWYgKHNlY3JldCAhPT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcblx0ICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuXHQgICAgICAgICAgLy8gTmV3IGJlaGF2aW9yIG9ubHkgZm9yIHVzZXJzIG9mIGBwcm9wLXR5cGVzYCBwYWNrYWdlXG5cdCAgICAgICAgICBpbnZhcmlhbnQoXG5cdCAgICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICAgICAgICdVc2UgYFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpYCB0byBjYWxsIHRoZW0uICcgK1xuXHQgICAgICAgICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG5cdCAgICAgICAgICB2YXIgY2FjaGVLZXkgPSBjb21wb25lbnROYW1lICsgJzonICsgcHJvcE5hbWU7XG5cdCAgICAgICAgICBpZiAoXG5cdCAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcblx0ICAgICAgICAgICAgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXG5cdCAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50IDwgM1xuXHQgICAgICAgICAgKSB7XG5cdCAgICAgICAgICAgIHdhcm5pbmcoXG5cdCAgICAgICAgICAgICAgZmFsc2UsXG5cdCAgICAgICAgICAgICAgJ1lvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBhIFJlYWN0LlByb3BUeXBlcyB2YWxpZGF0aW9uICcgK1xuXHQgICAgICAgICAgICAgICdmdW5jdGlvbiBmb3IgdGhlIGAlc2AgcHJvcCBvbiBgJXNgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArXG5cdCAgICAgICAgICAgICAgJ2FuZCB3aWxsIHRocm93IGluIHRoZSBzdGFuZGFsb25lIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcblx0ICAgICAgICAgICAgICAnWW91IG1heSBiZSBzZWVpbmcgdGhpcyB3YXJuaW5nIGR1ZSB0byBhIHRoaXJkLXBhcnR5IFByb3BUeXBlcyAnICtcblx0ICAgICAgICAgICAgICAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJyxcblx0ICAgICAgICAgICAgICBwcm9wRnVsbE5hbWUsXG5cdCAgICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gPSB0cnVlO1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcblx0ICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuXHQgICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkICcgKyAoJ2luIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGBudWxsYC4nKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGB1bmRlZmluZWRgLicpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY2hhaW5lZENoZWNrVHlwZSA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIGZhbHNlKTtcblx0ICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXHRcblx0ICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuXHQgICAgICAgIC8vIGBwcm9wVmFsdWVgIGJlaW5nIGluc3RhbmNlIG9mLCBzYXksIGRhdGUvcmVnZXhwLCBwYXNzIHRoZSAnb2JqZWN0J1xuXHQgICAgICAgIC8vIGNoZWNrLCBidXQgd2UgY2FuIG9mZmVyIGEgbW9yZSBwcmVjaXNlIGVycm9yIG1lc3NhZ2UgaGVyZSByYXRoZXIgdGhhblxuXHQgICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cblx0ICAgICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuXHRcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIoZXhwZWN0ZWRDbGFzcykge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG5cdCAgICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VUztcblx0ICAgICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgYWN0dWFsQ2xhc3NOYW1lICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdpbnN0YW5jZSBvZiBgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJ2AuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuXHQgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoaXMocHJvcFZhbHVlLCBleHBlY3RlZFZhbHVlc1tpXSkpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHZhbHVlc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGV4cGVjdGVkVmFsdWVzKTtcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB2YWx1ZSBgJyArIHByb3BWYWx1ZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuXHQgICAgICAgIGlmIChwcm9wVmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlVW5pb25UeXBlQ2hlY2tlcihhcnJheU9mVHlwZUNoZWNrZXJzKSB7XG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB2b2lkIDA7XG5cdCAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuXHQgICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB3YXJuaW5nKFxuXHQgICAgICAgICAgZmFsc2UsXG5cdCAgICAgICAgICAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUuIEV4cGVjdGVkIGFuIGFycmF5IG9mIGNoZWNrIGZ1bmN0aW9ucywgYnV0ICcgK1xuXHQgICAgICAgICAgJ3JlY2VpdmVkICVzIGF0IGluZGV4ICVzLicsXG5cdCAgICAgICAgICBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcoY2hlY2tlciksXG5cdCAgICAgICAgICBpXG5cdCAgICAgICAgKTtcblx0ICAgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuXHQgICAgICAgIGlmIChjaGVja2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpID09IG51bGwpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBzaGFwZVR5cGVzKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cdCAgICAgICAgaWYgKCFjaGVja2VyKSB7XG5cdCAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG5cdCAgICAgIC8vIHByb3BzLlxuXHQgICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcblx0ICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcblx0ICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcblx0ICAgICAgICBpZiAoIWNoZWNrZXIpIHtcblx0ICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcblx0ICAgICAgICAgICAgJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGtleSBgJyArIGtleSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLicgK1xuXHQgICAgICAgICAgICAnXFxuQmFkIG9iamVjdDogJyArIEpTT04uc3RyaW5naWZ5KHByb3BzW3Byb3BOYW1lXSwgbnVsbCwgJyAgJykgK1xuXHQgICAgICAgICAgICAnXFxuVmFsaWQga2V5czogJyArICBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJylcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzTm9kZShwcm9wVmFsdWUpIHtcblx0ICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuXHQgICAgICBjYXNlICdudW1iZXInOlxuXHQgICAgICBjYXNlICdzdHJpbmcnOlxuXHQgICAgICBjYXNlICd1bmRlZmluZWQnOlxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICBjYXNlICdib29sZWFuJzpcblx0ICAgICAgICByZXR1cm4gIXByb3BWYWx1ZTtcblx0ICAgICAgY2FzZSAnb2JqZWN0Jzpcblx0ICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwgfHwgaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcblx0ICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuXHQgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgICB2YXIgc3RlcDtcblx0ICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuXHQgICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgICAgaWYgKCFpc05vZGUoc3RlcC52YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuXHQgICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcblx0ICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcblx0ICAgIC8vIE5hdGl2ZSBTeW1ib2wuXG5cdCAgICBpZiAocHJvcFR5cGUgPT09ICdzeW1ib2wnKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG5cdCAgICBpZiAocHJvcFZhbHVlWydAQHRvU3RyaW5nVGFnJ10gPT09ICdTeW1ib2wnKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEZhbGxiYWNrIGZvciBub24tc3BlYyBjb21wbGlhbnQgU3ltYm9scyB3aGljaCBhcmUgcG9seWZpbGxlZC5cblx0ICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICAvLyBFcXVpdmFsZW50IG9mIGB0eXBlb2ZgIGJ1dCB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGFycmF5IGFuZCByZWdleHAuXG5cdCAgZnVuY3Rpb24gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKSB7XG5cdCAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gJ2FycmF5Jztcblx0ICAgIH1cblx0ICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuXHQgICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cblx0ICAgICAgLy8gcGFzc2VzIFByb3BUeXBlcy5vYmplY3QuXG5cdCAgICAgIHJldHVybiAnb2JqZWN0Jztcblx0ICAgIH1cblx0ICAgIGlmIChpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gJ3N5bWJvbCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcHJvcFR5cGU7XG5cdCAgfVxuXHRcblx0ICAvLyBUaGlzIGhhbmRsZXMgbW9yZSB0eXBlcyB0aGFuIGBnZXRQcm9wVHlwZWAuIE9ubHkgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG5cdCAgLy8gU2VlIGBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcmAuXG5cdCAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG5cdCAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvcFZhbHVlID09PSBudWxsKSB7XG5cdCAgICAgIHJldHVybiAnJyArIHByb3BWYWx1ZTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICBpZiAocHJvcFR5cGUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdCAgICAgICAgcmV0dXJuICdkYXRlJztcblx0ICAgICAgfSBlbHNlIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBwcm9wVHlwZTtcblx0ICB9XG5cdFxuXHQgIC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBwb3N0Zml4ZWQgdG8gYSB3YXJuaW5nIGFib3V0IGFuIGludmFsaWQgdHlwZS5cblx0ICAvLyBGb3IgZXhhbXBsZSwgXCJ1bmRlZmluZWRcIiBvciBcIm9mIHR5cGUgYXJyYXlcIlxuXHQgIGZ1bmN0aW9uIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyh2YWx1ZSkge1xuXHQgICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG5cdCAgICBzd2l0Y2ggKHR5cGUpIHtcblx0ICAgICAgY2FzZSAnYXJyYXknOlxuXHQgICAgICBjYXNlICdvYmplY3QnOlxuXHQgICAgICAgIHJldHVybiAnYW4gJyArIHR5cGU7XG5cdCAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuXHQgICAgICBjYXNlICdkYXRlJzpcblx0ICAgICAgY2FzZSAncmVnZXhwJzpcblx0ICAgICAgICByZXR1cm4gJ2EgJyArIHR5cGU7XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgcmV0dXJuIHR5cGU7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuXHQgIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcblx0ICAgIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xuXHQgICAgICByZXR1cm4gQU5PTllNT1VTO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xuXHQgIH1cblx0XG5cdCAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBjaGVja1Byb3BUeXBlcztcblx0ICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblx0XG5cdCAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xuXHR9O1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICpcblx0ICogXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBhcmc7XG5cdCAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG5cdCAqIHByaW1hcmlseSB1c2VmdWwgaWRpb21hdGljYWxseSBmb3Igb3ZlcnJpZGFibGUgZnVuY3Rpb24gZW5kcG9pbnRzIHdoaWNoXG5cdCAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG5cdCAqL1xuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fTtcblx0XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlID0gbWFrZUVtcHR5RnVuY3Rpb24oZmFsc2UpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVGhpcyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50ID0gZnVuY3Rpb24gKGFyZykge1xuXHQgIHJldHVybiBhcmc7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG5cdCAqXG5cdCAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG5cdCAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuXHQgKiBleHBlY3RpbmcuXG5cdCAqXG5cdCAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG5cdCAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0ICovXG5cdFxuXHR2YXIgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHt9O1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0ICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXHRcblx0ICBpZiAoIWNvbmRpdGlvbikge1xuXHQgICAgdmFyIGVycm9yO1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcblx0ICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgICAgfSkpO1xuXHQgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuXHQgICAgfVxuXHRcblx0ICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcblx0ICAgIHRocm93IGVycm9yO1xuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0LyoqXG5cdCAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cblx0ICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuXHQgKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuXHQgKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cblx0ICovXG5cdFxuXHR2YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb247XG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiBwcmludFdhcm5pbmcoZm9ybWF0KSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgIH0pO1xuXHQgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuXHQgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcblx0ICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0ICAgIH0gY2F0Y2ggKHgpIHt9XG5cdCAgfTtcblx0XG5cdCAgd2FybmluZyA9IGZ1bmN0aW9uIHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQpIHtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChmb3JtYXQuaW5kZXhPZignRmFpbGVkIENvbXBvc2l0ZSBwcm9wVHlwZTogJykgPT09IDApIHtcblx0ICAgICAgcmV0dXJuOyAvLyBJZ25vcmUgQ29tcG9zaXRlQ29tcG9uZW50IHByb3B0eXBlIGNoZWNrLlxuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcblx0ICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Lypcblx0b2JqZWN0LWFzc2lnblxuXHQoYykgU2luZHJlIFNvcmh1c1xuXHRAbGljZW5zZSBNSVRcblx0Ki9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0dmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdHZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0XG5cdGZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRcdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gT2JqZWN0KHZhbCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0XHR9KTtcblx0XHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdFx0dmFyIHRlc3QzID0ge307XG5cdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0XHR2YXIgZnJvbTtcblx0XHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHRcdHZhciBzeW1ib2xzO1xuXHRcblx0XHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXHRcblx0XHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdG87XG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcblxuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0ICB2YXIgd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdCAgdmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdCAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuXHQgKiBFcnJvciBtZXNzYWdlcyBhcmUgbWVtb3JpemVkIGFuZCB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcblx0ICogQHBhcmFtIHtvYmplY3R9IHZhbHVlcyBSdW50aW1lIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgdHlwZS1jaGVja2VkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBlLmcuIFwicHJvcFwiLCBcImNvbnRleHRcIiwgXCJjaGlsZCBjb250ZXh0XCJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cblx0ICogQHBhcmFtIHs/RnVuY3Rpb259IGdldFN0YWNrIFJldHVybnMgdGhlIGNvbXBvbmVudCBzdGFjay5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHR5cGVTcGVjcywgdmFsdWVzLCBsb2NhdGlvbiwgY29tcG9uZW50TmFtZSwgZ2V0U3RhY2spIHtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuXHQgICAgICBpZiAodHlwZVNwZWNzLmhhc093blByb3BlcnR5KHR5cGVTcGVjTmFtZSkpIHtcblx0ICAgICAgICB2YXIgZXJyb3I7XG5cdCAgICAgICAgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cblx0ICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG5cdCAgICAgICAgLy8gQWZ0ZXIgdGhlc2UgaGF2ZSBiZWVuIGNsZWFuZWQgdXAsIHdlJ2xsIGxldCB0aGVtIHRocm93LlxuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcblx0ICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cblx0ICAgICAgICAgIGludmFyaWFudCh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gPT09ICdmdW5jdGlvbicsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAndGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCVzYC4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSk7XG5cdCAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG5cdCAgICAgICAgICBlcnJvciA9IGV4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBsb2NhdGlvbiwgdHlwZVNwZWNOYW1lLCB0eXBlb2YgZXJyb3IpO1xuXHQgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG5cdCAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcblx0ICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG5cdCAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuXHRcblx0ICAgICAgICAgIHZhciBzdGFjayA9IGdldFN0YWNrID8gZ2V0U3RhY2soKSA6ICcnO1xuXHRcblx0ICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgJXMgdHlwZTogJXMlcycsIGxvY2F0aW9uLCBlcnJvci5tZXNzYWdlLCBzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGNoZWNrUHJvcFR5cGVzO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlbXB0eUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIGludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG5cdCAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuXHQgICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGludmFyaWFudChcblx0ICAgICAgZmFsc2UsXG5cdCAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcblx0ICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuXHQgICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcblx0ICAgICk7XG5cdCAgfTtcblx0ICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuXHQgIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG5cdCAgICByZXR1cm4gc2hpbTtcblx0ICB9O1xuXHQgIC8vIEltcG9ydGFudCFcblx0ICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cblx0ICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG5cdCAgICBhcnJheTogc2hpbSxcblx0ICAgIGJvb2w6IHNoaW0sXG5cdCAgICBmdW5jOiBzaGltLFxuXHQgICAgbnVtYmVyOiBzaGltLFxuXHQgICAgb2JqZWN0OiBzaGltLFxuXHQgICAgc3RyaW5nOiBzaGltLFxuXHQgICAgc3ltYm9sOiBzaGltLFxuXHRcblx0ICAgIGFueTogc2hpbSxcblx0ICAgIGFycmF5T2Y6IGdldFNoaW0sXG5cdCAgICBlbGVtZW50OiBzaGltLFxuXHQgICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcblx0ICAgIG5vZGU6IHNoaW0sXG5cdCAgICBvYmplY3RPZjogZ2V0U2hpbSxcblx0ICAgIG9uZU9mOiBnZXRTaGltLFxuXHQgICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuXHQgICAgc2hhcGU6IGdldFNoaW0sXG5cdCAgICBleGFjdDogZ2V0U2hpbVxuXHQgIH07XG5cdFxuXHQgIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcblx0ICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblx0XG5cdCAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBzaW1wbGVJc0VxdWFsID0gZnVuY3Rpb24gc2ltcGxlSXNFcXVhbChhLCBiKSB7XG5cdCAgcmV0dXJuIGEgPT09IGI7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBpbmRleCAocmVzdWx0Rm4pIHtcblx0ICB2YXIgaXNFcXVhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogc2ltcGxlSXNFcXVhbDtcblx0XG5cdCAgdmFyIGxhc3RUaGlzID0gdm9pZCAwO1xuXHQgIHZhciBsYXN0QXJncyA9IFtdO1xuXHQgIHZhciBsYXN0UmVzdWx0ID0gdm9pZCAwO1xuXHQgIHZhciBjYWxsZWRPbmNlID0gZmFsc2U7XG5cdFxuXHQgIHZhciBpc05ld0FyZ0VxdWFsVG9MYXN0ID0gZnVuY3Rpb24gaXNOZXdBcmdFcXVhbFRvTGFzdChuZXdBcmcsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gaXNFcXVhbChuZXdBcmcsIGxhc3RBcmdzW2luZGV4XSk7XG5cdCAgfTtcblx0XG5cdCAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uIHJlc3VsdCgpIHtcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBuZXdBcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIG5ld0FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNhbGxlZE9uY2UgJiYgbGFzdFRoaXMgPT09IHRoaXMgJiYgbmV3QXJncy5sZW5ndGggPT09IGxhc3RBcmdzLmxlbmd0aCAmJiBuZXdBcmdzLmV2ZXJ5KGlzTmV3QXJnRXF1YWxUb0xhc3QpKSB7XG5cdCAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIGNhbGxlZE9uY2UgPSB0cnVlO1xuXHQgICAgbGFzdFRoaXMgPSB0aGlzO1xuXHQgICAgbGFzdEFyZ3MgPSBuZXdBcmdzO1xuXHQgICAgbGFzdFJlc3VsdCA9IHJlc3VsdEZuLmFwcGx5KHRoaXMsIG5ld0FyZ3MpO1xuXHQgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpbmRleDtcblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYWluLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWhpZ2hsaWdodC13b3Jkcy9kaXN0L21haW4uanNcbi8vIG1vZHVsZSBpZCA9IDYxMDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzXG4vLyBtb2R1bGUgaWQgPSA2MTA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA2MTEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gNjExMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIzMTdkZjBiNzE5NDRiMjAwY2IwYTIzMjllN2FlYmMwYi5naWZcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9hc3NldHMvUmlwcGxlLmdpZlxuLy8gbW9kdWxlIGlkID0gNjExMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcclxuICogQGF1dGhvciBCYWxyYWogU2luZ2ggPGJhbHJhanNpbmdoLnNAaGlnaHJhZGl1cy5jb20+XHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCB7XHJcbiAgICBCb3JkZXJDb2xvcixcclxuICAgIEhpZ2hsaWdodE9mZixcclxuICAgIENoZWNrQ2lyY2xlT3V0bGluZVxyXG59IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy8nO1xyXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RleHRGaWVsZCc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gICAgbm9uQWN0aW9uTm90ZXNFZGl0aW5nOiB7XHJcbiAgICAgICAgYm94U2hhZG93OiBcIiAwIDRweCA4cHggMCByZ2JhKDAsMCwwLDAuMilcIixcclxuICAgICAgICBwYWRkaW5nOiBcIjAuOHJlbVwiLFxyXG4gICAgICAgIGJvcmRlcjogXCIycHggc29saWQgI0ZGRlwiLFxyXG4gICAgfSxcclxuICAgIHRlc3Q6IHtcclxuICAgICAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgICAgIGhlaWdodDogJzEwdmgnLFxyXG4gICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxyXG4gICAgICAgIHBhZGRpbmc6ICcwcHgnLFxyXG4gICAgICAgIGRpc3BsYXk6ICdibG9jayAhaW1wb3J0YW50JyxcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgd2hpdGVTcGFjZTogJ3ByZS1saW5lJyxcclxuICAgIH0sXHJcbiAgICBub25BY3Rpb25Ob3Rlc1RpdGxlOiB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiMXJlbVwiLFxyXG4gICAgICAgIGxpbmVIZWlnaHQ6IFwiMS41cmVtXCIsXHJcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eTogMC42NVxyXG4gICAgfSxcclxuICAgIG5vdGVzRWRpdG9yOiB7XHJcbiAgICAgICAgd2lkdGg6ICctd2Via2l0LWZpbGwtYXZhaWxhYmxlJ1xyXG4gICAgfSxcclxuICAgIG5vbkFjdGlvbk5vdGVzTm90RWRpdGluZzoge1xyXG5cclxuICAgIH1cclxufSk7XHJcblxyXG5jbGFzcyBOb3Rlc0VkaXRvciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxyXG4gICAgICAgICAgICBub25BY3Rpb25Ob3RlczogdGhpcy5wcm9wcy5pbml0aWFsTm90ZXMsXHJcbiAgICAgICAgICAgIHByZXZOb25BY3Rpb25Ob3RlczogdGhpcy5wcm9wcy5pbml0aWFsTm90ZXMsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcclxuICAgICAgICBpZiAobmV4dFByb3BzLmluaXRpYWxOb3RlcyAhPT0gdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuZXh0U3RhdGUuaXNFZGl0aW5nT24gIT09IHRoaXMuc3RhdGUuaXNFZGl0aW5nT24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTm90ZXNUZXh0RmllbGRDaGFuZ2UgPSBlID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbm9uQWN0aW9uTm90ZXM6IGUudGFyZ2V0LnZhbHVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVkaXROb25BY3Rpb25Ob3RlcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNFZGl0aW5nT246IHRydWUgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uLWFjdGlvbi1ub3Rlcy1lZGl0LWZpZWxkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dEZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEZpZWxkLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTb21ldGhpbmcgaGFwcGVuZWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMjAwKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc2NhcmROb3Rlc0NoYW5nZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzRWRpdGluZ09uOiBmYWxzZSxcclxuICAgICAgICAgICAgbm9uQWN0aW9uTm90ZXM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnByZXZOb25BY3Rpb25Ob3Rlc1xyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ibHVyTm9uQWN0aW9uTm90ZXNCb3goKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzYXZlTm90ZXNDaGFuZ2VzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXHJcbiAgICAgICAgICAgIHByZXZOb25BY3Rpb25Ob3RlczpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXNcclxuICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYmx1ck5vbkFjdGlvbk5vdGVzQm94KCk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25Ob3Rlc0NoYW5nZSh0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBibHVyTm9uQWN0aW9uTm90ZXNCb3ggPSAoKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB0ZXh0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vbi1hY3Rpb24tbm90ZXMtZWRpdC1maWVsZFwiKTtcclxuICAgICAgICAgICAgaWYgKHRleHRGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dEZpZWxkLmJsdXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDUwMClcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMubm9uQWN0aW9uTm90ZXNUaXRsZX0+Tk9OIEFDVElPTiBOT1RFUzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRWRpdGluZ09uICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3JkZXJDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzVEQUFFMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0OiAncmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5lZGl0Tm9uQWN0aW9uTm90ZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsb2F0OiAncmlnaHQnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIaWdobGlnaHRPZmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6ICcwLjRyZW0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjRkY4ODg4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcwIDEuM3JlbSAwIDAuOHJlbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmRpc2NhcmROb3Rlc0NoYW5nZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM1RkMzMkMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zYXZlTm90ZXNDaGFuZ2VzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgIGlkPSdub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGQnXHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB0aGlzLmhhbmRsZU5vdGVzVGV4dEZpZWxkQ2hhbmdlKGUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChjbGFzc2VzLm5vdGVzRWRpdG9yICsgJyAnKSArICh0aGlzLnN0YXRlLmlzRWRpdGluZ09uID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMubm9uQWN0aW9uTm90ZXNFZGl0aW5nIDogY2xhc3Nlcy5ub25BY3Rpb25Ob3Rlc05vdEVkaXRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbj1cIm5vcm1hbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4oIXRoaXMuc3RhdGUuaXNFZGl0aW5nT24pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoTm90ZXNFZGl0b3IpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL05vdGVzRWRpdG9yLmpzIiwiaW1wb3J0IHsgaXNBY3Rpb25JbnRlbnQgfSBmcm9tICcuLi9oZWxwZXInO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlTm90ZXNBc1N0cmluZyA9IChub3RlcykgPT4ge1xyXG4gICAgbGV0IG5vdGVzU3RyaW5nID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub3Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG5vdGVzU3RyaW5nICs9IGkgPT09IG5vdGVzLmxlbmd0aCAtIDEgPyBub3Rlc1tpXS50cmltKCkgOiBgJHtub3Rlc1tpXS50cmltKCl9L25gO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBub3Rlc1N0cmluZztcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcCA9IChzdW1tYXJ5KSA9PiB7XHJcbiAgICBsZXQgbWFwID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIHN1bW1hcnkgJiYgc3VtbWFyeS5tYXAoc3VtbWFyeSA9PiAoXHJcbiAgICAgICAgKGlzQWN0aW9uSW50ZW50KHN1bW1hcnkuaW50ZW50KSkgJiZcclxuICAgICAgICAobWFwLnNldChzdW1tYXJ5LmlkLCBmYWxzZSkpXHJcbiAgICApKTtcclxuXHJcbiAgICByZXR1cm4gbWFwO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFwcGVuZElkc1RvU3VtbWFyeSA9IChzdW1tYXJ5KSA9PiB7XHJcbiAgICAvL2FwcGVuZCBpZHMgdG8gc3VtbWFyeVxyXG4gICAgaWYgKHN1bW1hcnkpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gc3VtbWFyeSkge1xyXG4gICAgICAgICAgICBzdW1tYXJ5W2ldWydpZCddID0gaSArIDE7XHJcbiAgICAgICAgICAgIHN1bW1hcnlbaV1bJ3NhdmUnXSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3VtbWFyeTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzID0gKHN1bW1hcnksIHZvaWNlbWFpbE1lc3NhZ2UgPSAnJykgPT4ge1xyXG4gICAgbGV0IGluaXRpYWxOb3Rlc1N0cmluZyA9ICcnO1xyXG5cclxuICAgIGlmICh2b2ljZW1haWxNZXNzYWdlKSB7XHJcbiAgICAgICAgaW5pdGlhbE5vdGVzU3RyaW5nICs9IHZvaWNlbWFpbE1lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChjb25zdCBpIGluIHN1bW1hcnkpIHtcclxuICAgICAgICBpZiAoIWlzQWN0aW9uSW50ZW50KHN1bW1hcnlbaV0uaW50ZW50KSkge1xyXG4gICAgICAgICAgICBpbml0aWFsTm90ZXNTdHJpbmcgKz0gc3VtbWFyeVtpXS5zdW1tYXJ5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW5pdGlhbE5vdGVzU3RyaW5nO1xyXG59O1xyXG5cclxuLy9jaGVja3MgaWYgdGhlIG1hcCBjb250YWlucyBhbnkgZmFsc2UgdmFsdWVcclxuLy9yZXR1cm4gdHJ1ZSBpZiBpdCBkb2VzXHJcbmV4cG9ydCBjb25zdCBjaGVja1N1bW1hcnlDb21wbGV0ZU1hcCA9IChzdW1tYXJ5Q29tcGxldGlvbk1hcCkgPT4ge1xyXG5cclxuICAgIGZvciAoY29uc3QgdmFsIG9mIHN1bW1hcnlDb21wbGV0aW9uTWFwLnZhbHVlcygpKSB7XHJcbiAgICAgICAgaWYgKHZhbCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvaGVscGVycy9wb3N0Q2FsbEhlbHBlci5qcyIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IHsgaGFuZGxlQXBpUmVzcG9uc2UgfSBmcm9tICcuLi91dGlscy9uZXR3b3JrVXRpbHMnO1xyXG5cclxuLy9jb21tZW50IG91dCBmb2xsb3dpbmcgYmVmb3JlIHB1c2ggdG8gZ2l0XHJcblxyXG4vL2ZvciBsb2NhbGhvc3QsIGNvbW1lbnQgZm9sbG93aW5nIGJlZm9yZSBwdXNoIHRvIGdpdFxyXG5jb25zdCBCQVNFX0VORFBPSU5UID0gJy9jb21tb24nO1xyXG4vLyBjb25zdCBCQVNFX0VORFBPSU5UID0gJyc7Ly9tb2NrXHJcblxyXG5jb25zdCBESVNQVVRFX0VORFBPSU5UID0gJy9kaXNwdXRlY29kZXMnO1xyXG5jb25zdCBGT0xMT1dfVVBfRU5EUE9JTlQgPSAnL3Rhc2t0eXBlcyc7XHJcblxyXG5jb25zdCBnZXREaXNwdXRlQ29kZXMgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gYXhpb3NcclxuICAgICAgICAuZ2V0KGAke2NvbmZpZy5hcGlVcmx9JHtCQVNFX0VORFBPSU5UfSR7RElTUFVURV9FTkRQT0lOVH1gKVxyXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQXBpUmVzcG9uc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQXBpUmVzcG9uc2UoZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0VGFza1R5cGVzID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIGF4aW9zXHJcbiAgICAgICAgLmdldChgJHtjb25maWcuYXBpVXJsfSR7QkFTRV9FTkRQT0lOVH0ke0ZPTExPV19VUF9FTkRQT0lOVH1gKVxyXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQXBpUmVzcG9uc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQXBpUmVzcG9uc2UoZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbW1vblNlcnZpY2UgPSB7IGdldERpc3B1dGVDb2RlcywgIGdldFRhc2tUeXBlcyB9O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2aWNlcy9jb21tb25TZXJ2aWNlLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBUYWJzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RhYnMnO1xyXG5pbXBvcnQgVGFiIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RhYic7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgRHVlRGV0YWlsIGZyb20gJy4vRHVlRGV0YWlsJztcclxuaW1wb3J0IHsgUGFwZXIgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XHJcbmltcG9ydCBDaXJjdWxhclByb2dyZXNzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NpcmN1bGFyUHJvZ3Jlc3MnO1xyXG5pbXBvcnQgSW52b2ljZVRhYmxlIGZyb20gJy4vSW52b2ljZVRhYmxlJztcclxuaW1wb3J0IHsgZm9ybWF0dGVyIH0gZnJvbSAnLi4vdXRpbHMvZm9ybWF0dGVyJztcclxuXHJcbmZ1bmN0aW9uIFRhYkNvbnRhaW5lcihwcm9wcywgdGhlbWUpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPFR5cG9ncmFwaHkgY29tcG9uZW50PVwiZGl2XCIgc3R5bGU9e3sgcGFkZGluZ1RvcDogXCIxLjg1dmhcIiwgfX0+XHJcbiAgICAgICAgICAgIDxQYXBlciBcclxuICAgICAgICAgICAgICAgIGVsZXZhdGlvbj17MX0gXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsIFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCI3OC41dmhcIiwgXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzIDogXCI0cHhcIixcclxuICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHByb3BzLnRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbiBcclxuICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICB7cHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICAgIDwvUGFwZXI+XHJcbiAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgKTtcclxufVxyXG5cclxuVGFiQ29udGFpbmVyLnByb3BUeXBlcyA9IHtcclxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxyXG59O1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICAgIHJvb3Q6IHtcclxuICAgICAgLy8gIHdpZHRoOiBcIjYxLjQ4OXZ3XCJcclxuICAgIH0sXHJcbiAgICBwcm9ncmVzczoge1xyXG4gICAgICAgIG1hcmdpbjogXCI3cmVtIDAgMCAyMHJlbVwiXHJcbiAgICB9LFxyXG4gICAgY29udGFpbmVyOiB7XHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiYXV0b1wiXHJcbiAgICB9LFxyXG4gICAgc2Nyb2xsQnV0dG9uczoge1xyXG4gICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXHJcbiAgICAgICAgZmxleDogXCIwICFpbXBvcnRhbnRcIlxyXG4gICAgfSxcclxuICAgIGluZGljYXRvcjoge1xyXG4gICAgICAgIGhlaWdodDogXCIycHhcIixcclxuICAgICAgICB0b3A6IFwiNS43dmggIWltcG9ydGFudFwiXHJcbiAgICB9LFxyXG4gICAgdGFiU2VsZWN0ZWQ6IHtcclxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgIWltcG9ydGFudFwiXHJcbiAgICB9LFxyXG4gICAgdGFiUm9vdDoge1xyXG4gICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICB3aWR0aDogXCJjYWxjKDUuNjY2dmggKyA1LjY2NnZ3KVwiLFxyXG4gICAgICAgbWluSGVpZ2h0OiBcIjYuM3ZoXCIsXHJcbiAgICAgICBtYXhIZWlnaHQ6IFwiNi4zdmhcIlxyXG4gICAgfSxcclxuICAgIHRhYldyYXBwZXI6IHtcclxuICAgICAgbWFyZ2luQm90dG9tOiBcIi40dndcIixcclxuICAgICAgIHdpZHRoOiBcImNhbGMoNS42NjZ2aCArIDUuNjY2dncpXCIsXHJcbiAgICB9LFxyXG4gICAgdGFic0ZsZXhDb250YWluZXI6IHsgIFxyXG4gICAgICAgIGhlaWdodDogXCI2LjN2aFwiXHJcbiAgICB9LFxyXG4gICAgdGFic1Jvb3Q6IHtcclxuICAgICAgICBtaW5IZWlnaHQ6IFwiNi4zdmhcIixcclxuICAgICAgICBtYXhIZWlnaHQ6IFwiNi4zdmhcIlxyXG4gICAgfSxcclxuICAgIHRhYnNTY3JvbGxlcjoge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCItMTB2aCAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlQ291bnRUZXh0OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi44cmVtXCIsIFxyXG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGJ1Y2tldE5hbWVzOiBbXSxcclxuICAgIGludm9pY2VzOiBbXVxyXG4gIH07IFxyXG5cclxuY2xhc3MgSW5DYWxsRGV0YWlscyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICBsZXQgZGF5cyA9IHRoaXMucHJvcHMuYnVja2V0TmFtZXMucmV2ZXJzZSgpXHJcbiAgICAgICAgZGF5cy51bnNoaWZ0KFwiQ3VycmVudCBEdWVcIilcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXHJcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgZGF5cyA6IGRheXNcclxuICAgICAgICAgICAgLy8gYWxsSW52b2ljZXM6IHRoaXMucHJvcHMuaW52b2ljZXMsXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICBcclxuXHJcbiAgICAgICAgLy8gZmlsdGVySW52b2ljZXMgPSBmaWx0ZXJJbnZvaWNlcy5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBsZXQgdXJsID0gYCR7Y29uZmlnLmFwaVVybH0vaW52b2ljZXNgXHJcbiAgICAgICAgLy8gYXhpb3MuZ2V0KHVybCkudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogcmVzcG9uc2UuZGF0YSB9KVxyXG4gICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgYWxsSW52b2ljZXM6IHJlc3BvbnNlLmRhdGEgfSlcclxuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlIH0pXHJcbiAgICAgICAgLy8gfSlcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vRmlsdGVyIGludm9pY2UgYmFzZWQgb24gYnVja2V0XHJcbiAgICBmaWx0ZXJJbnZvaWNlcyA9IChpbnZvaWNlVHlwZSkgPT4ge1xyXG4gICAgICAgIGlmIChpbnZvaWNlVHlwZSA9PSBcIkFsbFwiKVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IHRoaXMuc3RhdGUuYWxsSW52b2ljZXMgfSk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBpbnZvaWNlcyA9IHRoaXMuc3RhdGUuYWxsSW52b2ljZXM7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZEludm9pY2VzID0gW11cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZvaWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBBcnJheSA9IFtdXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGludm9pY2VzW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiRGlzcHV0ZVwiICYmIGludm9pY2VzW2ldW2pdLmRpc3B1dGVTdGF0dXMgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJQcmVkaWN0ZWQgRGVsaW5xdWVudFwiICYmIGludm9pY2VzW2ldW2pdLnAycERlbGlucXVlbnQgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJVcGNvbWluZyBQMlBcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBVcGNvbWluZyA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIkJyb2tlbiBQMlBcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBCcm9rZW4gPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEFycmF5LnB1c2goaW52b2ljZXNbaV1bal0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEludm9pY2VzLnB1c2godGVtcEFycmF5KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogZmlsdGVyZWRJbnZvaWNlcyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IChldmVudCwgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIGlmIHByaW1hcnkgZW1haWwgSUQgaXMgcHJlc2VudCBpbiBjdXN0b21lciBjb250YWN0cy5cclxuICAgICAgICAvLyBjaGVja0VtYWlsSUQgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAodGhpcy5wcm9wcy5jdXN0b21lciA9PSB1bmRlZmluZWQgfHwgdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0cy5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbaV0ucHJpbWFyeSA9PT0gdHJ1ZSAmJiB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2ldLmVtYWlsKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyAgICAgfVxyXG5cclxuICAgICAgICAvLyB9O1xyXG5cclxuICAgICAgICAvLyAgZmluZFR5cGUgPSAoaW52b2ljZSkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICBzd2l0Y2goaW52b2ljZSlcclxuICAgICAgICAvLyAgICAgICAge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgY2FzZSBpbnZvaWNlLnAycERlbGlucXVlbnQgPT0gdHJ1ZSA6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIFwiUHJlZGljdGVkIERlbGlucW1lbnRcIlxyXG4gICAgICAgIC8vICAgICAgICAgICAgY2FzZSBpbnZvaWNlLnAycFVwY29taW5nID09IHRydWUgOlxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIlVwY29taW5nIFAyUFwiXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY2FzZSBpbnZvaWNlLnAycEJyb2tlbiA9PSB0cnVlIDpcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICByZXR1cm4gXCJCcm9rZW4gUDJQXCJcclxuICAgICAgICAvLyAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBcIkRpc3B1dGVcIlxyXG4gICAgICAgIC8vICAgICAgICB9XHJcbiAgICAgICAgLy8gIH1cclxuICAgICAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHRoaXMuc3RhdGU7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gZGF5cyA9IGRheXMudW5zaGlmdChcIkN1cnJlICAgbnQgRHVlXCIpXHJcbiAgICAgICAgICAgIHZhciBpbnZvaWNlQ291bnQgPSBbXVxyXG4gICAgICAgICAgICB2YXIgaW52b2ljZVRvdGFsQW1vdW50ID0gW11cclxuICAgICAgICAgICAgdmFyIHRvdGFsSW52b2ljZUNvdW50ID0gMDtcclxuICAgICAgICAgICAgdmFyIHdob2xlQW1vdW50ID0gMFxyXG4gICAgICAgICAgICBmb3IodmFyIGk9MDtpPHRoaXMuc3RhdGUuZGF5cy5sZW5ndGg7aSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpbnZvaWNlVG90YWxBbW91bnQucHVzaCgwKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5pbnZvaWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaW52b2ljZUNvdW50LnB1c2godGhpcy5zdGF0ZS5pbnZvaWNlc1tpXS5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICB2YXIgc3VtID0gMFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLnN0YXRlLmludm9pY2VzW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VtID0gc3VtICsgdGhpcy5zdGF0ZS5pbnZvaWNlc1tpXVtqXS5jdXJyZW50T3BlbkFtb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsSW52b2ljZUNvdW50ID0gdG90YWxJbnZvaWNlQ291bnQgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHdob2xlQW1vdW50ID0gd2hvbGVBbW91bnQgKyB0aGlzLnN0YXRlLmludm9pY2VzW2ldW2pdLmN1cnJlbnRPcGVuQW1vdW50XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnZvaWNlVG90YWxBbW91bnRbaV0gPSBzdW1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmxvYWRpbmcgPT09IGZhbHNlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJzIHZhbHVlPXt2YWx1ZX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yQ29sb3I9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhcmlhbnQ9XCJzY3JvbGxhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEJ1dHRvbnM9XCJhdXRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgPSB7eyBzY3JvbGxCdXR0b25zOiBjbGFzc2VzLnNjcm9sbEJ1dHRvbnMsIGZsZXhDb250YWluZXI6IGNsYXNzZXMudGFic0ZsZXhDb250YWluZXIsIHJvb3Q6IGNsYXNzZXMudGFic1Jvb3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXI6IGNsYXNzZXMudGFic1Njcm9sbGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFiSW5kaWNhdG9yUHJvcHMgPSB7e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgY2xhc3Nlcz17eyBzZWxlY3RlZDogY2xhc3Nlcy50YWJTZWxlY3RlZCxyb290OiBjbGFzc2VzLnRhYlJvb3QsIHdyYXBwZXI6IGNsYXNzZXMudGFiV3JhcHBlcn19IGljb249ezxkaXY+PHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VDb3VudFRleHR9Pnt0b3RhbEludm9pY2VDb3VudH0gKCR7Zm9ybWF0dGVyKHdob2xlQW1vdW50KX0pPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiBcIi44cmVtXCIgfX0+QWxsIEludm9pY2VzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZGF5cy5tYXAoKGRheSwgaWQpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiBjbGFzc2VzPXt7IHNlbGVjdGVkOiBjbGFzc2VzLnRhYlNlbGVjdGVkLHJvb3Q6IGNsYXNzZXMudGFiUm9vdH19IGljb249ezxkaXY+PHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLmludm9pY2VDb3VudFRleHR9PntpbnZvaWNlQ291bnRbaWRdfSAoJHtmb3JtYXR0ZXIoaW52b2ljZVRvdGFsQW1vdW50W2lkXSl9KTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiBcIi44cmVtXCIgfX0+e2RheX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFicz5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3ZhbHVlID09PSAwICYmIDxUYWJDb250YWluZXIgdGhlbWUgPSB7dGhlbWV9PjxEdWVEZXRhaWwgZW1haWxPZkNhbGxlZD17dGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkfSBjb2xsZWN0b3I9e3RoaXMucHJvcHMuY29sbGVjdG9yfSBjdXN0b21lcj17dGhpcy5wcm9wcy5jdXN0b21lcn0gZmlsdGVySW52b2ljZXM9e3RoaXMuZmlsdGVySW52b2ljZXN9IGJ1Y2tldE5hbWVzPXt0aGlzLnN0YXRlLmRheXN9IGludm9pY2VzPXt0aGlzLnN0YXRlLmludm9pY2VzfT48L0R1ZURldGFpbD48L1RhYkNvbnRhaW5lcj59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmludm9pY2VzLm1hcCgoYnVja2V0SW52b2ljZXMsIGlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IGlkICsgMSAmJiA8VGFiQ29udGFpbmVyIHRoZW1lID0ge3RoZW1lfSBjbGFzc05hbWU9e2NsYXNzZXMuY29udGFpbmVyfT48SW52b2ljZVRhYmxlIGVtYWlsT2ZDYWxsZWQ9e3RoaXMucHJvcHMuZW1haWxPZkNhbGxlZH0gY29sbGVjdG9yPXt0aGlzLnByb3BzLmNvbGxlY3Rvcn0gY3VzdG9tZXI9e3RoaXMucHJvcHMuY3VzdG9tZXJ9IGZpbHRlckludm9pY2VzPXt0aGlzLmZpbHRlckludm9pY2VzfSBpbmRpdmlkdWFsPXt0cnVlfSBkYXlzPXt0aGlzLnN0YXRlLmRheXNbaWRdfSBpbnZvaWNlcz17YnVja2V0SW52b2ljZXN9PjwvSW52b2ljZVRhYmxlPjwvVGFiQ29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5sb2FkaW5nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFicyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JDb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzY3JvbGxhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxCdXR0b25zPVwiYXV0b1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyA9IHt7IHNjcm9sbEJ1dHRvbnM6IGNsYXNzZXMuc2Nyb2xsQnV0dG9uc319XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiBzdHlsZT17eyBjb2xvcjogXCJ3aGl0ZVwiIH19IGxhYmVsPVwiQWxsIEludm9pY2VcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmRheXMubWFwKChkYXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgc3R5bGU9e3sgY29sb3I6IFwid2hpdGVcIiB9fSBsYWJlbD17ZGF5ICsgXCJkYXlzIHBhc3QgZHVlXCJ9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFicz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXBlciBzdHlsZT17eyBoZWlnaHQ6IFwiMjRyZW1cIiwgbWFyZ2luVG9wOiBcIjJyZW1cIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyBjbGFzc05hbWU9e2NsYXNzZXMucHJvZ3Jlc3N9IHNpemU9ezEwMH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUGFwZXI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEluQ2FsbERldGFpbHMucHJvcFR5cGVzID0ge1xyXG4gICAgICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIH07XHJcblxyXG5cclxuICAgIEluQ2FsbERldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuICAgIGV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShJbkNhbGxEZXRhaWxzKTtcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0luQ2FsbERldGFpbHMuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUG9wb3ZlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Qb3BvdmVyJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcywgVHlwb2dyYXBoeSwgSWNvbkJ1dHRvbiB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCB7IGNoYW5nZUNhbGxlciB9IGZyb20gJy4uL2FjdGlvbnMvYWN0aW9ucyc7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCB7IFZvaWNlbWFpbCwgTW9yZVZlcnQsIERvbmUsIENsb3NlIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zLyc7XHJcbmltcG9ydCB7IHNpcFNlbmREVE1GLCBzaXBUb2dnbGVNdXRlIH0gZnJvbSAnLi4vdXRpbHMvc2lwVXRpbHMnO1xyXG5pbXBvcnQgeyBlbXB0eUZ1bmN0aW9uLCBWT0lDRU1BSUxfQVVUT19DTE9TRV9USU1FTU9VVCB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbmFja2Jhcic7XHJcbmltcG9ydCBDbG9zZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdjb25maWcnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gIEFwcDoge1xyXG4gICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gIH0sXHJcbiAgcG9wT3Zlcjoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsXHJcbiAgICB3aWR0aDogXCIyMGVtXCJcclxuICB9LFxyXG4gIGhlYWQ6IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLFxyXG4gICAgZm9udFNpemU6IFwiMWVtXCIsXHJcbiAgICBvcGFjaXR5OiAwLjY1LFxyXG4gIH0sXHJcbiAgaWNvbjoge1xyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcclxuICAgIG1pbldpZHRoOiBcImNhbGMoMS42dmggKyAxLjZ2dylcIixcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgfSxcclxuICB2b2ljZU1haWxJY29uOiB7XHJcbiAgICBiYWNrZ3JvdW5kOiBcIiM1REFBRTBcIixcclxuICAgIHBhZGRpbmc6IFwiMXB4XCIsXHJcbiAgfSxcclxuICB2b2ljZW1haWxTZW50SWNvbjoge1xyXG4gICAgYm9yZGVyOiBcIjJweCBzb2xpZCAjNURBQUUwXCIsXHJcbiAgfSxcclxuICB2b2ljZW1haWxQcm9ncmVzc1BhcmVudDoge1xyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbEJveDoge1xyXG4gICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcclxuICAgIGJvcmRlckJvdHRvbTogXCIwLjVweCBzb2xpZCByZ2IoOTMsMTcwLDIyNClcIixcclxuICAgIGJvcmRlckJvdHRvbTogXCIwLjVweCBzb2xpZCByZ2JhKDkzLDE3MCwyMjQsMC42NSlcIixcclxuICAgIHBhZGRpbmc6IFwiMTJweCAxMnB4IDIwcHggMTJweFwiLFxyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBtYXJnaW5Cb3R0b206IFwiMjBweFwiLFxyXG4gICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcclxuICB9LFxyXG4gIGRpc2FibGVkVm9pY2VtYWlsQm94OiB7XHJcbiAgICBjdXJzb3I6IFwiZGVmYXVsdCAhaW1wb3J0YW50XCIsXHJcbiAgICBvcGFjaXR5OiBcIjAuNjVcIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbFRleHQ6IHtcclxuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgIG1hcmdpbkxlZnQ6IFwiMS4ycmVtXCIsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gIH0sXHJcbiAgdm9pY2VtYWlsUHJvZ3Jlc3M6IHtcclxuICAgIHdpZHRoOiBcImluaGVyaXQgIWltcG9ydGFudFwiLFxyXG4gICAgaGVpZ2h0OiBcImluaGVyaXQgIWltcG9ydGFudFwiLFxyXG4gICAgZmlsbDogXCIjNURBQUUwXCIsXHJcbiAgfSxcclxuICBjbG9zZUljb246IHtcclxuICAgIGZpbGw6IFwibGlnaHRibHVlXCIsXHJcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgcmlnaHQ6IFwiMyVcIixcclxuICAgIGZvbnRTaXplOiBcIjJyZW1cIixcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgfSxcclxuICB2b2ljZW1haWxCdG46IHtcclxuICAgIGNvbG9yOiBcIiNGRkZcIixcclxuICAgIGZvbnRTaXplOiBcIjEuN3JlbVwiLFxyXG4gICAgcGFkZGluZzogXCIxMCVcIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbFNlbnRCdG46IHtcclxuICAgIGZvbnRTaXplOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgfSxcclxuICBkaXNhYmxlQnRuOiB7XHJcbiAgICBvcGFjaXR5OiAwLjQsXHJcbiAgICBjdXJzb3I6IFwiZGVmYXVsdFwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuY2xhc3MgS2V5UGFkIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIG9wZW46IGZhbHNlLFxyXG4gICAgICBwaG9uZU51bWJlcjogXCJcIixcclxuICAgICAgZGlzcGxheU51bWJlcjogXCJcIixcclxuICAgICAgZGlhbGxlZDogZmFsc2UsXHJcbiAgICAgIGZvY3VzOiB0cnVlLFxyXG4gICAgICBpc1ZvaWNlbWFpbEVuYWJsZWQ6IHRydWUsXHJcbiAgICAgIGlzVm9pY2VtYWlsQ2xpY2tlZDogZmFsc2UsXHJcbiAgICAgIHZvaWNlbWFpbENsaWNrTWFwOiBuZXcgTWFwKCksXHJcbiAgICAgIHZvaWNlbWFpbFNlbnRNYXA6IG5ldyBNYXAoKSxcclxuICAgICAgdm9pY2VtYWlsVGVtcGxhdGVzOiBbXSxcclxuICAgICAgc25hY2tPcGVuOiBmYWxzZSxcclxuICAgICAgZGlzYWJsZVZvaWNlbWFpbENsaWNrOiBmYWxzZSxcclxuICAgIH07XHJcblxyXG4gICAgYXhpb3MuZ2V0KGAke2NvbmZpZy5hcGlVcmx9L3ZvaWNldGVtcGxhdGVgKVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJWb2ljZW1haWwgRmV0Y2hlZFwiLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVWb2ljZW1haWxEYXRhKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGZldGNoIHZvaWNlbWFpbHNcIiwgZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVWb2ljZW1haWxEYXRhID0gKHZvaWNlbWFpbFRlbXBsYXRlcykgPT4ge1xyXG4gICAgbGV0IHZvaWNlbWFpbENsaWNrTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgbGV0IHZvaWNlbWFpbFNlbnRNYXAgPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2b2ljZW1haWxUZW1wbGF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdm9pY2VtYWlsQ2xpY2tNYXAuc2V0KHZvaWNlbWFpbFRlbXBsYXRlc1tpXS5pZCwgZmFsc2UpO1xyXG4gICAgICB2b2ljZW1haWxTZW50TWFwLnNldCh2b2ljZW1haWxUZW1wbGF0ZXNbaV0uaWQsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgdm9pY2VtYWlsVGVtcGxhdGVzLFxyXG4gICAgICB2b2ljZW1haWxDbGlja01hcCxcclxuICAgICAgdm9pY2VtYWlsU2VudE1hcCxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZU9wZW4gPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3BlbjogdHJ1ZSB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVDaGFuZ2UgPSBlID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBwaG9uZU51bWJlcjogZS50YXJnZXQudmFsdWUgfSk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3BlbjogZmFsc2UsIGRpc2FibGVWb2ljZW1haWxDbGljazogIXRoaXMuc3RhdGUuaXNWb2ljZW1haWxFbmFibGVkLCB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVWb2ljZW1haWxDbGljayA9IHZvaWNlbWFpbFRlbXBsYXRlID0+IHtcclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5kaXNhYmxlVm9pY2VtYWlsQ2xpY2spIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlkID0gdm9pY2VtYWlsVGVtcGxhdGUuaWQ7XHJcbiAgICBsZXQgdm9pY2VtYWlsQ2xpY2tNYXAgPSB0aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwO1xyXG4gICAgdm9pY2VtYWlsQ2xpY2tNYXAuc2V0KGlkLCB0cnVlKTtcclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgdm9pY2VtYWlsQ2xpY2tNYXAsIGRpc2FibGVWb2ljZW1haWxDbGljazogdHJ1ZSB9LCAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHZvaWNlbWFpbFRlbXBsYXRlLnRlbXBsYXRlTmFtZSwgdGhpcy5zdGF0ZS5pZCk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBbaWRdOiB0cnVlIH0pO1xyXG4gICAgICBpZiAoc2lwVG9nZ2xlTXV0ZSgpID09PSBcIk9LXCIpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiB0cnVlLCBzbmFja01lc3NhZ2U6IFwiTWljIGF1dG8gbXV0ZWRcIiB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiB0cnVlLCBzbmFja01lc3NhZ2U6IFwiRmFpbGVkIHRvIGF1dG8gbXV0ZSBtaWMhXCIgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpZCA9PT0gMCkge1xyXG4gICAgICAgIHNpcFNlbmREVE1GKCcjJyk7XHJcbiAgICAgICAgc2lwU2VuZERUTUYoJzQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIjFzdCBUZW1wbGF0ZVwiKTtcclxuICAgICAgfSBlbHNlIGlmIChpZCA9PT0gMSkge1xyXG4gICAgICAgIHNpcFNlbmREVE1GKCcjJyk7XHJcbiAgICAgICAgc2lwU2VuZERUTUYoJzUnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIjJuZCBUZW1wbGF0ZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzaXBTZW5kRFRNRignIycpO1xyXG4gICAgICAgIHNpcFNlbmREVE1GKCc2Jyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJMYXN0IHRlbXBsYXRlXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnByb3BzLm9uVm9pY2VtYWlsQ2xpY2soKTtcclxuICAgIH0pO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGxldCB2b2ljZW1haWxTZW50TWFwID0gdGhpcy5zdGF0ZS52b2ljZW1haWxTZW50TWFwO1xyXG4gICAgICB2b2ljZW1haWxTZW50TWFwLnNldChpZCwgdHJ1ZSk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxTZW50TWFwLCBpc1ZvaWNlbWFpbEVuYWJsZWQ6IGZhbHNlIH0pO1xyXG4gICAgfSwgMjAwMCk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaGFuZGxlQ2xvc2UoKSwgVk9JQ0VNQUlMX0FVVE9fQ0xPU0VfVElNRU1PVVQpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VTbmFja2JhciA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja09wZW46IGZhbHNlIH0pO1xyXG4gIH1cclxuXHJcbiAgaXNWb2ljZW1haWxBdmFpbGFibGUgPSAoKSA9PiB7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgKHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIikgJiZcclxuICAgICAgKHRoaXMuc3RhdGUudm9pY2VtYWlsVGVtcGxhdGVzICYmIHRoaXMuc3RhdGUudm9pY2VtYWlsVGVtcGxhdGVzLmxlbmd0aCA+IDApICYmXHJcbiAgICAgICh0aGlzLnN0YXRlLmlzVm9pY2VtYWlsRW5hYmxlZClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGNsYXNzZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLkFwcH0+XHJcbiAgICAgICAgPFZvaWNlbWFpbFxyXG4gICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmlzVm9pY2VtYWlsQXZhaWxhYmxlKCkgPyBjbGFzc2VzLnZvaWNlbWFpbEJ0biA6IGNsYXNzZXMudm9pY2VtYWlsQnRuICsgXCIgXCIgKyBjbGFzc2VzLmRpc2FibGVCdG59XHJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmlzVm9pY2VtYWlsQXZhaWxhYmxlKCkgPyB0aGlzLmhhbmRsZU9wZW4gOiBlbXB0eUZ1bmN0aW9ufVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPFBvcG92ZXJcclxuICAgICAgICAgIGlkPVwic2ltcGxlLXBvcHBlclwiXHJcbiAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW59XHJcbiAgICAgICAgICBvbkNsb3NlPXt0aGlzLmhhbmRsZUNsb3NlfVxyXG4gICAgICAgICAgYW5jaG9yUmVmZXJlbmNlPVwiYW5jaG9yUG9zaXRpb25cIlxyXG4gICAgICAgICAgYW5jaG9yUG9zaXRpb249e3sgdG9wOiA4MCB9fVxyXG4gICAgICAgICAgUGFwZXJQcm9wcz17e1xyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjNlbVwiLFxyXG4gICAgICAgICAgICAgIHJpZ2h0OiBcIjBcIixcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgICAgICAgIGJvcmRlckxlZnQ6IFwiMnB4IHNvbGlkICNGRkZcIixcclxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xyXG4gICAgICAgICAgICB2ZXJ0aWNhbDogMjAsXHJcbiAgICAgICAgICAgIGhvcml6b250YWw6IDIwXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgdHJhbnNmb3JtT3JpZ2luPXt7XHJcbiAgICAgICAgICAgIHZlcnRpY2FsOiAyMCxcclxuICAgICAgICAgICAgaG9yaXpvbnRhbDogMjBcclxuICAgICAgICAgIH19PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnBvcE92ZXJ9PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBwYWRkaW5nTGVmdDogXCI0JVwiLCBtYXJnaW5Ub3A6IFwiNSVcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9fT5cclxuICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuaGVhZH0+Vk9JQ0VNQUlMPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgIDxDbG9zZSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsb3NlfSBjbGFzc05hbWU9e2NsYXNzZXMuY2xvc2VJY29ufSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAge3RoaXMuc3RhdGUudm9pY2VtYWlsVGVtcGxhdGVzLm1hcCh2b2ljZW1haWxUZW1wbGF0ZSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5kaXNhYmxlVm9pY2VtYWlsQ2xpY2sgPyBjbGFzc05hbWVzKGNsYXNzZXMuZGlzYWJsZWRWb2ljZW1haWxCb3gsY2xhc3Nlcy52b2ljZW1haWxCb3gpIDogY2xhc3Nlcy52b2ljZW1haWxCb3h9IGtleT17dm9pY2VtYWlsVGVtcGxhdGUuaWR9PlxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUudm9pY2VtYWlsQ2xpY2tNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMudm9pY2VNYWlsSWNvbixjbGFzc2VzLmljb24pfT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxWb2ljZW1haWwgY2xhc3NOYW1lPXtjbGFzc2VzLnZvaWNlbWFpbEJ0bn0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUudm9pY2VtYWlsU2VudE1hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy52b2ljZW1haWxQcm9ncmVzc1BhcmVudCxjbGFzc2VzLmJhc2VJY29uU2l6ZSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgY2xhc3NOYW1lPXtjbGFzc2VzLnZvaWNlbWFpbFByb2dyZXNzfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMudm9pY2VtYWlsU2VudEljb24sY2xhc3Nlcy5pY29uKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8RG9uZSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy52b2ljZW1haWxTZW50QnRuLGNsYXNzZXMudm9pY2VtYWlsQnRuKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy52b2ljZW1haWxUZXh0fSBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZVZvaWNlbWFpbENsaWNrKHZvaWNlbWFpbFRlbXBsYXRlKX0+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUudm9pY2VtYWlsQ2xpY2tNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsIG9wYWNpdHk6IDAuNjUgfX0+U2VuZDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLCBvcGFjaXR5OiAwLjY1IH19PlNlbmRpbmc8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudm9pY2VtYWlsQ2xpY2tNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiBcIiM1REFBRTBcIiwgb3BhY2l0eTogMC42NSB9fT5TZW50PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvciB9fT57dm9pY2VtYWlsVGVtcGxhdGUudGVtcGxhdGVOYW1lfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxNb3JlVmVydCBzdHlsZT17eyByaWdodDogXCIzJVwiLCBwb3NpdGlvbjogXCJmaXhlZFwiLCB9fSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9Qb3BvdmVyPlxyXG4gICAgICAgIDxTbmFja2JhclxyXG4gICAgICAgICAgYW5jaG9yT3JpZ2luPXt7XHJcbiAgICAgICAgICAgIHZlcnRpY2FsOiAnYm90dG9tJyxcclxuICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIGtleT17dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2V9XHJcbiAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLnNuYWNrT3Blbn1cclxuICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezIwMDB9XHJcbiAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICBDb250ZW50UHJvcHM9e3tcclxuICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCcsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgbWVzc2FnZT17PHNwYW4gaWQ9e3RoaXMuc3RhdGUuc25hY2tNZXNzYWdlfT57dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2V9PC9zcGFuPn1cclxuICAgICAgICAgIGFjdGlvbj17W1xyXG4gICAgICAgICAgICA8SWNvbkJ1dHRvblxyXG4gICAgICAgICAgICAgIGtleT1cImNsb3NlXCJcclxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2VcIlxyXG4gICAgICAgICAgICAgIGNvbG9yPVwiaW5oZXJpdFwiXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNsb3NlfVxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxDbG9zZUljb24gLz5cclxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPixcclxuICAgICAgICAgIF19XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgVm9pY2VtYWlsV3JhcHBlciA9IHdpdGhTdHlsZXMoc3R5bGVzKShLZXlQYWQpO1xyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe1xyXG5cclxuICBjYWxsU3RhdGU6IHN0YXRlLmNhbGxTdGF0ZVxyXG59KVxyXG5cclxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZGlzcGF0Y2ggPT4gKHtcclxuICAvLyBjaGFuZ2VDYWxsU3RhdGU6IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZUNhbGxTdGF0ZShkYXRhKSkpXHJcbiAgY2hhbmdlQ2FsbGVyOiBkYXRhID0+IChkaXNwYXRjaChjaGFuZ2VDYWxsZXIoZGF0YSkpKVxyXG59KVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXHJcbiAgbWFwU3RhdGVUb1Byb3BzLFxyXG4gIG1hcERpc3BhdGNoVG9Qcm9wcyxcclxuKSh3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoVm9pY2VtYWlsV3JhcHBlcikpXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL1ZvaWNlbWFpbFdyYXBwZXIuanMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDNEFBQUF1Q0FZQUFBQlh1U3MzQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQmw1SlJFRlVhSUhGbWw5c1U5Y2R4eisvNnh1N09JN3lGNXJRMHRqQUpwN1cwQ0d4ZjJLRzduMGdEWkJhV0wxTm1zUVQyUjZtU2FVU0UzVGRIcWJDdzZROVRDSXQyY1BTaDZUYXc1NUczSC9xV2xTUmRCSWIwbHJITENNZUJJaEo0c1QyOWYzdHdYK0k3ZXMvMXc3d2Zibys5L3p1K1p6Zi9aMXpmdmNjQzIwcU1obnJzUzNQZDIxMEJOV3dLRUdFWUZrbFpVNkZPVVNpQmpKam1MbjN4bzZFbHRwcFYxbzFmUG5QOFZjRVBTekM0VmJzVlpsU1pPcFB4NGZmYXNYZUZYaGtNdFpqV2NacHNUVlM1ZFZXcGN5cElXT21hVjkwOHhhYUJqL3hUaXdzdGx6YU5PQktLWE5xNkkvR2o0YWl6VlJ2Q0I2WmpQWGtzc2Fib0pIMjZacVF5b1hMeDRkLzFxaGFYZkRJWkt6SHlzcTB3TWpta1RXV3dvelpvUWZyaFk1UjY4WkxFN0dSSndFTklEQmlaV1g2cFlsWXpiWWRQZjZrUEYycGVwNDNLd3ZhaFI3dThYSnlieDlmR2ZBaHdId3l5MS8rbGVUam02dXVuMVgwUExDMzhsNVZxT1N5eHB0TzBQMStEd1ArcW42V2FYZS9qMWNQRHZMVkFqVEFzOTBkbk5vL3dBOWY2SE1OWG9RL01SRzdVQmY4eER1eHNOUHMwZS8zY09iZ0VHY09EZEs3eGVQWWdHbkF6Nyt6amFkTTUvSCt2VjFkZk91NXpoYmg1WFNlelFFOE1obnJFVnN1T1JtZTJyK1ZmcitIdmkwZVhqczA1QWkvZDd1ZmdMZm1XQWNndkxPckpYQUFzZVZTWkRMV1V3VnVaUml0dGJqODRaTkY3cTNsQUJqd084UHY2UFkyYlB6WjdvNFdzUUVoYUdVWUxmNHNnWXZJNlZvMml5bUw4MWNTZGVIZmo2MlFYTS9WYmRzMFdrNk44b3pJSzhWckErRGtSQ3dDOU5TMG9ESDhZc3JpM0hTaUlYeGJFb0lGMXBMSG04cndHc0hmWG5rTThBVld5ZWNpY3QrTjVZRGY1TXloUWZwSzNzNXg3c29DOXdzZDJoWXdlZTNnSU4xUGxZK0RkVXY1NmVUTnRzazlIZHByV0JuQ2phdVc2MGw3M3NvUU5taHhoV3dXL2tIYTNqVGdEUm94Uk54N3ZLaGE4TVVRdWIxaThmb2pnQmNoYktBeTNNNURuT0RQYklqdmhlWHNwc01yMG0xc3hoZk5Zc3JpZzdtVjB1K25BNll6L0NiRnZNQkkvYXpKUVQvZTE4OWdvSVBrZW83Zi8vMU9xVHliMDdKNlJmanpoVUc2c0p6bHQrLy9yNnpPTjNaMGNtaFhQZzE0KzlwZDVwUFpwam5xSnhjT0d2Q2I3Tm5xWTk4ei9yTHkvejZvYnJUUzgzZFdyYkw3Ty91ODdObnFZODlXbjFzTTkrQkZRSStSejcyTHVuWXJ4VXFtT280cjRUZHFaMThlT0tkd3k2SGo5V1FvR25kamNPMVdxblI5SUJRb1hkc0t2L3ZnTnV1V1Z0azR3UnNDUTEzNXBPc2ZpVFhzYXJPYVV0VlpRMkRPRGZqMTIrc2xyNys0cTR0ZzcwT3ZmM0V2emEvK3RzQ1ZMNWF4TmQrWjRsdW9oTGNWZnZOZWdsUldpWDY1VXQxUUhZbXc1UG5hRDBhREl1SnFMbitRenJGL1J5Y2k4UHlRbncvblZzZ1VCdWR5Mm1abVlZMnA2MG1tcmlmNWREN0ZONThMNERPRmdOZmc2OC80K1hRK1JkcFNIcVJ0WmhaUzNGaE11d0pYNVMwRG1IRmxCVnlkVC9GUlBQOE4yYmZGdzlrWGh4anNjcDZnN3F4YS9IbzY3MWw0NlBrdVgzNTR1WmxKTm1qRzg4TExvd20xNVpkdUxUOVByTEc3ejhlMmdFbW4xeUFjNnFMVGE1QmN6NUhLMm1VeDIrRVJPbjBlUW9Xd0NuZ045bTczODhsL1ZrdHZ5bzFNTDZjRTRPUkViQXJrKzI0ZklBSS8yZGZQZ1dDZ3JOeFdXRnkxV00zYURQak5rbmNyZGF1d01DMjdXbFgxM2N2SFFvZUxUNXh5Q3cyZ0NuKzhlcGV4eis2eGxuM29PVVB5cVcybzExc0duYzRwSDhZZmVubDdWd2V2YmdpYkpqVUZHemFFVGt6RTVvVFc4NVlPai9EdDRVNUN2VDUyOS92WVVmaStYTXNxSDhWWCtPZWRkVDVQckpHMmxOMzlQbjV4NE9uU2prQ3pubGMwUG40c0ZJU05DNUF5MWlvMDVKZjg2SmNyWFByc0xuKzlrU3lWTHl4bmVmdmFQYTRXWmhLQWY5OU44MFkwVVpyem0vVzhDS1g5bFZKTjA4c0Z0NHRSTzRyZHovQkdORkVLc1Vid2lzWXZIdzFWZzQ4ZENTMGhQSjZ0NUlKaTl6TzgzaXg4QlZ0WmpmR2pvYWlxdG5TMDBhcHVMdVhoVndzcnJDQm94UXlwNk1YS0RmK3FycGxlUmxWMTloR3lWdW5tVW9iejB3bHVMS1k1ZDJXaExGbFQxZG54WTZIUlNwdmEyOHdab2lMeS9DUGtiU2hWblRXOWhKMjJtUjFId3RpUjBKSXRSQjYzNXpkS1ZXZHRJVkxyVktMeFVjb1Q4SHc5VHhmVjFPR1ZsZVdzVUh0dmNUT2w2RVdubUs2VXErTkNsTEYyVnRkNlVqU09FTm0wNDhLTktvVE9LRUprc3pxZ2FCeGxiUHg0Nkt3YnU1YjNmUXU3cG9kYnlTcnowbmVCcWN2SFFpMmxHdTF0V0ZONkMyRmdSSVN3UXJEeWJhanFyQWhMcWtTQkdkTkx0TjAvSWZ3ZjBoc0RKcjh5bTljQUFBQUFTVVZPUks1Q1lJST1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Fzc2V0cy9taWNfb2ZmLnBuZ1xuLy8gbW9kdWxlIGlkID0gNjExOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDNEFBQUF1Q0FZQUFBQlh1U3MzQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQksxSlJFRlVhSUhObVcySVZGVVl4My9QbmRsVlM1Q2RPZGUzUUZRU0xXd3hCVVBNelRRUVV3UHhaZW1qbGhEMEpmUkRVR1p2UlBqSmlNZ1BGU3JSRjVXQ2tMS29WSktGdEF4cFV6RmNYNkMyM1h0bmQxYTNuTTJaKy9UaDd1cTZPM2Z1bWRtZEhmOXd1VFBuUE05NWZuUG0zSFBPUFk4d0NsTFhuVU1RTE1WeEZxTDZDUEFBTUJXUmVsUzdnQzZnRS9pUklEaEtWOWRQQXNGSVlrckZzTWJNQlo0SDFpRXl0enhuN1FhT0VBU2YwdFgxZlNVL29teHdOV1l0c0IyUko4djFqZERmQk1ISFpETHZDT1JzbmF6QnRhR2hrVVRpZlVTZXFJd3ZMb0QrZ1VpemVONnZOdVpPYkh1UVVOZmRTU0x4UzlXZ0FVVG1vSHBLMCttWDFhSkRTeHFvNjA0RXZnWWVIeTArSzZrZXdmZWJCZjZOTW9rRVY3Z1BZMzVBNUxIcTBNVkk5UXo1L0VySlpyUEZxb3NPRllWNlhQZmJta0VEaUN3a21meEdZWHl4Nm1IZ0NnN0dIQUtXVmgwdVRpS0xjZDNQaTQzNTRUMmVUcitKeUROakFtYW4xUmp6K3REQ3UzNUovNkxTaWtoeXpMQnNwS3JBQ3ZIOTR3TkZkL2U0eUw1N0RocEFSQkQ1U0NFeFVIUWJYRjEzQzdDa0ptQjJlcEIwK29XQkx3S2dJTGp1SldCV3piQnNwSG9OMzU4cG9HR1BHL00wOXpvMGdNZ01VcWxWY0dlb3ZGUkRuUExrT0ZzQVJHRTh4dnlEU095K0pWS3paOE84ZVRCNU1reVpFdDZuVG9WY0R0cmE3bHpuenNHTkd5TURWKzNCOTlOSmpGbFNFYlF4c0drVGJOZ0FqWTMyZmgwZGNQbzBIRGdBSjA2VUhSYVJTUml6VE5SMWR3SnZXenMyTnNLMmJiQitQZFRYbHg5NHNDNWVoTDE3NGVCQnVIV3JITTlYUlkzNUVwRjFzYVoxZGJCbkQyemVYREZucE5yYXduYXZYYlAxT09RQTA2eE10MjZ0RGpTRXo4aXVYZVY0UEpRRVhDdlQ1dWJvdXRaVzJMOGZUcDZFSzFjZ0dQSUthUXpNbncrTEZzR09IWkFzc2ppdlhoMlc1L00yTkpORlhiY1h1TCtrMmJoeGNQVXFPRVdlNFZ3dTdERzdnSEQ0TURRMUZhOXJhb0lMRitMYlVBMGNJSDV2a2s0WGh3Ym83TFNIQm1odmo2NXJhTEJ1eGdHS3ZtSGNwVkpnZFhYV3dRQ1lNQ0c2VHF6ZjNUc2NWRE94WnBrTXFCYXZNNmFjZ09FQ0ZhV2JOMjFiYVU4aWNnNTR1S1Jab1JDTzhaa3pJWnVGUzVmQ3E2MHR2Q2VUOXZQd3hvMHdmVHBNbXhiZUIzKzJudzdiUlkxNURaRzNZazFuelFxaHU3dHRHNittZGlkUmJiSDZxeTlmcmo2T3JRcUZZNktRd0hWN2lKc1M3eFdwNXZIOWlZNUFBZmlxMWp4bHFFV2dMNXljQzRWUGFneGpMNUVQWWZDcm16RlhFSmxSVzZvWXFmNko3ODhRQ0J3QUFVWGtqVnB6V2VpOWdiUDBvZWNxWnhCNXREWk1NVkk5ais4dkVQZ1BocCtyUElmcWlGSWNWWkZxUUQ3LzdBQTBEQUh2UDFTUFg0ekdXcXJ2U2paN2RuRFJzSlduLzlEek9DTEx4bzZzcEk3aWVXdUc1b21HN1ZYN0RkYWcrdnVZb1VWSjlXYzhiMzJ4NUZiUlRiYjQvZzF5dVJWQWE5WGhvdlViaGNKVFVRbXR5R01KNmUzdEJKYWdXb3RWOVN4OWZjdWx1N3NueXFEa2VZcDRYaSsrdnhiVkhVRGZxT01WMXdkNDNtSzVmcjJySkp0dGF6cHAwbXpxNnZaWDdhRlZQUSs4S0w1L3pNYTgvQVJ0S3JVUngzbGwxQmFxTUwrNUc4L2JWMDZHZVNRcDhlWEFkbUFWSXVVZGFhbjJJUElGUWZDWlpETGZWUksvWXZEYkRHRmFjU1d3QmxnQXBCQkpvWm9pN01FTzRDL2dJbkFHa1ZONFhrdi9kcnBpL1ErMFgzOWNYSVY2RHdBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Fzc2V0cy9oYW5nLXVwLnBuZ1xuLy8gbW9kdWxlIGlkID0gNjExOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9