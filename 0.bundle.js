webpackJsonp([0],{6074:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(29),f=n(p),m=a(21),h=n(m),g=a(8),v=n(g),y=a(372),b=n(y),C=a(70),E=a(69),S=a(344),w=a(24),x=a(68),O=n(x),k=a(43),I=a(357),D=n(I),T=a(6086),N=n(T),P=a(6116),A=n(P),j=a(337),M=n(j),F=a(71),R=n(F),B=a(92),_=n(B),L=a(169),V=n(L),H=a(341),U=n(H),z=a(340),W=n(z),Y=a(174),K=n(Y),G=a(183),q=n(G),X=a(358),J=a(351),Z=n(J),Q=a(359),$=n(Q),ee=a(6117),te=n(ee),ae=a(6081),ne=(n(ae),a(49)),oe=a(173),re=n(oe),ie=a(45),le=a(6080),se=n(le),ce=a(31),ue=n(ce),de=a(32),pe=n(de),fe=(a(373),void 0),me=function(e){return{appFrame:{display:"flex",flexDirection:"row",maxHeight:"100vh"},root:{backgroundImage:e.palette.background.main,width:"93.75vw",marginRight:"auto",marginLeft:"auto",alignItems:"center",paddingBottom:"0",justifyContent:"center",fontFamily:e.font.title.fontFamily},hangUpIconIng:{height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",cursor:"pointer"},callText:{marginLeft:".5rem",color:e.palette.primary.main,fontFamily:e.font.title.fontFamily,fontSize:"1rem"},dialpadIcon:{height:"calc(1.6vh + 1.6vw)",paddingRight:"1rem"},voiceMailIcon:{cursor:"pointer",background:"#5DAAE0",borderRadius:"50%",textAlign:"center",padding:"1px"},status:{fontSize:".7rem",color:"white",zIndex:"6"},duration:{marginRight:".6rem",color:e.palette.primary.main},customerName:{fontFamily:e.font.title.fontFamily,fontSize:"1.78rem",color:e.palette.secondary.main,lineHeight:"2.05rem"},customerNumber:{fontFamily:e.font.title.fontFamily,fontSize:".8rem",color:e.palette.secondary.main},transcriptBox:{height:"86.50vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main,position:"relative"},transcriptTitle:{fontSize:"1.2rem",color:e.palette.primary.main,paddingLeft:"1rem",opacity:.65,paddingTop:".5rem",position:"absolute",fontFamily:"Roboto"},nextFab:{right:.25*e.spacing.unit},prevFab:{marginLeft:"-0.5rem"},hangUpButton:{height:"calc(1.53vh + 1.53vw)",width:"2.66666665rem"},hangUpButtonImg:{height:"2.666665rem",width:"2.66666665rem"},dropDownIcon:{color:e.palette.secondary.main},dropDown:{color:e.palette.cardBackground.main},micOffIconImg:{cursor:"pointer",height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)"},micOffIcon:{height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",color:"white"},calledContactName:{fontSize:".76rem",color:"white",lineHeight:"normal"},calledToContactDiv:{width:"80%"},transcriptBoxParent:{paddingBottom:"0px !important",borderRadius:"4px"},closeStyle:{position:"fixed",top:"1%",left:"50%",color:"#fff",fontSize:48,cursor:"pointer"},customerHistoryModal:{position:"absolute",width:"45%",height:"100%",bottom:"0",overflowWrap:"break-word",overflowY:"auto",boxShadow:e.shadows[5],paddingLeft:"1%",backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main,left:"4.2%"},actionIcon:{fontSize:"2rem",color:e.palette.primary.main},actionButton:{height:"4.166vw",borderRadius:"0px",width:"4.166vw"}}},he=function(){for(var e=[],t={product:"hello",region:"America",amount:"5",saleDate:"09/09/1996",customer:"Balraj"},a=0;a<1e3;a++)e.push(t);return e}(),ge=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.openContactDropdown=function(){1==a.state.contactOpen?a.setState({contactOpen:!1}):a.setState({contactOpen:!0})},a.toggleContactPopover=function(e){a.setState({contactOpen:e})},a.getFormattedDuration=function(){var e=a.state.callDuration++,t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),o=Math.floor(e-3600*t-60*n);return n<10&&(n="0"+n),o<10&&(o="0"+o),n+":"+o},a.openVoicemail=function(){a.setState({isVoicemailOpen:!a.state.isVoicemailOpen})},a.closePopTimeline=function(){a.setState({popTimeline:!1})},a.openPopTimeline=function(e){a.setState({popTimeline:!0,popType:e})},a.getTimeline=function(e){var t=(a.props.classes,""),n="",o="";if("PAYMENT_HISTORY"===e&&(t=a.state.customer.payments,n="RECENT PAYMENTS",o="No Payments in Last 30 Days"),"COMM_HISTORY"===e){t=a.state.communication,n="COMMUNICATION HISTORY",o="No Communication History";for(var r in t){var i=t[r].type.toUpperCase();if("CALL"==i){var l=t[r].call.status;t[r].commType="-100"==l?"VOICEMAIL":"CALL"}else"CORRESPONDENCE"==i&&(t[r].commType="MAIL",t[r].customerName=a.state.customer.customerName)}}return u.default.createElement("div",null,("COMM_HISTORY"==e||"PAYMENT_HISTORY"==e)&&u.default.createElement($.default,{popType:e,events:t,mainHeader:n,noEventMsg:o}))},a.toggleMute=function(){a.setState({isMuted:!a.state.isMuted}),(0,C.sipToggleMute)()},a.setDuration=function(){0===a.state.callDuration&&(fe=setInterval(function(){"Connected to"===a.props.callState.status&&a.setState({callDurationInFormat:a.getFormattedDuration()})},1e3))},a.clearIntervalOnHangup=function(){clearInterval(fe)},a.hangUp=function(){(0,C.sipHangup)()},a.openVoicemail=function(){a.setState({isVoicemailOpen:!a.state.isVoicemailOpen})},a.switchToCallPrepPage=function(){a.setState({callPrepPage:!0})},a.switchToCallInCallPage=function(){a.setState({callPrepPage:!1})},a.handleVoicemailMessage=function(){var e=void 0,t=a.calledToFirstName+" "+a.calledToLastName;e="Unknown "===t||"Unnamed Unnamed"===t?a.props.location.state.calledToNumber:t;var n="Voicemail Played for "+(e||"")+"\n";a.setState({voicemailPlayedMessage:n})},a.myRef=u.default.createRef(),a.props.changeCallState({calling:!0,status:""});var n=void 0,l=void 0;null!=a.props.location.state.contactIndex?(console.log("first one"),console.log(a.props),n=a.props.location.state.contactIndex,l=a.props.location.state.customer.contacts[n].id,a.calledToNumber=a.props.location.state.calledToNumber,a.calledToFirstName=a.props.location.state.customer.contacts[n].firstName,a.calledToLastName=a.props.location.state.customer.contacts[n].lastName,a.emailOfCalled=a.props.location.state.customer.contacts[n].email):(console.log(a.props),console.log("second one"),l=a.props.location.state.contactId,a.calledToNumber=a.props.location.state.calledToNumber,a.calledToFirstName=a.props.location.state.calledToFirstName,a.calledToLastName=a.props.location.state.calledToLastName,a.emailOfCalled=a.props.location.state.emailOfCalled),console.log("Email of called",a.emailOfCalled),a.calledToFullName=a.calledToFirstName+" "+a.calledToLastName,"Unknown "!==a.calledToFullName&&"Unnamed Unnamed"!==a.calledToFullName||(a.calledToFullName=a.calledToNumber);var s=a.props.location.state,c=a.props.customers.customers.filter(function(e){return e.id==s.accountId});return a.props.callLog({status:"",contact:{id:l},calledToNumber:a.calledToNumber,contactId:l,calledTo:a.props.location.state.calledTo,startDateTime:new Date}),(0,ie.disableFredaInCall)(),(0,C.sipCall)(a.calledToNumber,a.props.user,c,s.customer,a.props.location.state.invoices),a.state=o({loading:!1,voicemailPlayedMessage:"",redirect:!1,callPrepPage:!1,customer:a.props.location.state.customer,communication:a.props.location.state.communication,callDuration:0,callDurationInFormat:"",transcription:"",summary:"[]",contactOpen:!1,columns:[{name:"product",title:"Product"},{name:"region",title:"Region"},{name:"amount",title:"Sale Amount"},{name:"saleDate",title:"Sale Date"},{name:"customer",title:"Customer"}],currencyColumns:["amount"],pageSizes:[5,10,15],rows:he,invoices:a.props.location.state.invoices,isVoicemailOpen:!1},"transcription",""),console.log(a.props.location.state.invoices,"in incall usual flow"),a}return l(t,e),s(t,[{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.transcription.transcription,a=e.transcription.transcription;a!==t&&this.setState({transcription:a}),this.setState({invoices:e.location.state.invoices})}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUpdate",value:function(e){}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.classes,i=n.theme,l=(parseInt(this.props.match.params.id,10),parseInt(this.props.match.params.id,10),(0,ne.getInitialsFromName)(this.calledToFirstName+" "+this.calledToLastName));i.palette.primary.main;return"Connected to"===this.props.callState.status&&this.setDuration(),u.default.createElement("div",null,!0===this.props.callState.calling&&u.default.createElement(M.default,{onSwipeLeft:this.switchToCallPrepPage,onSwipeRight:this.switchToCallInCallPage},u.default.createElement("div",{className:r.appFrame},u.default.createElement(K.default,{topItems:(0,X.getMenuItems)(r,i,this.openPopTimeline)}),u.default.createElement(re.default,null),u.default.createElement("div",{className:r.root},u.default.createElement(R.default,{open:this.state.popTimeline,disableAutoFocus:!0,onClose:this.closePopTimeline},u.default.createElement("div",null,u.default.createElement("div",{className:r.customerHistoryModal},this.getTimeline(this.state.popType)),u.default.createElement(O.default,{classes:{root:r.closeStyle},onClick:this.closePopTimeline}))),u.default.createElement("div",null,!0===this.props.callState.calling&&u.default.createElement("div",null,u.default.createElement(V.default,{"aria-label":"Add",className:(0,v.default)(r.prevFab,r.fabButtons),classes:{disabled:r.disabledFab},size:"small",disabled:this.state.callPrepPage,onClick:this.switchToCallPrepPage},u.default.createElement(W.default,{className:this.state.callPrepPage?r.disabledArrowicon:r.arrowIcon})),u.default.createElement(V.default,{"aria-label":"Add",classes:{disabled:r.disabledFab},className:(0,v.default)(r.nextFab,r.fabButtons),disabled:!this.state.callPrepPage,size:"small",onClick:this.switchToCallInCallPage},u.default.createElement(U.default,{className:this.state.callPrepPage?r.arrowIcon:r.disabledArrowicon}))),!0===this.props.callState.calling&&u.default.createElement(f.default,{container:!0,xs:12,justify:"space-between",alignItems:"flex-start",style:{marginTop:"1.12vh"}},u.default.createElement(f.default,{item:!0,xs:5,style:{paddingLeft:"0px",paddingRight:"0px"}},this.state.customer.customerName.length<20?u.default.createElement(h.default,{noWrap:!0,className:r.customerName}," ",this.state.customer.customerName):u.default.createElement(_.default,{title:this.state.customer.customerName},u.default.createElement(h.default,{noWrap:!0,className:r.customerName}," ",this.state.customer.customerName)),u.default.createElement("div",{className:r.customerNumber},this.state.customer.customerNumber)),u.default.createElement(f.default,{item:!0,container:!0,sm:6,lg:6,md:6,xl:5,alignItems:"center",justify:"flex-end"},u.default.createElement(f.default,{item:!0,container:!0,lg:8,md:10,xl:10,alignItems:"center",justify:"flex-end",style:{marginRight:"8.333vw"}},u.default.createElement(f.default,{item:!0,container:!0,sm:9,lg:9,md:9,xl:9,alignItems:"center",justify:"space-between",className:r.callGrid},u.default.createElement(f.default,{container:!0,item:!0,lg:7,md:7,xl:7,style:{cursor:"pointer"},onClick:this.openContactDropdown,justify:"flex-start",alignItems:"center"},u.default.createElement(f.default,{item:!0,className:r.customerIconCircle},"Unnamed"===this.calledToFirstName&&"Unnamed"===this.calledToLastName&&u.default.createElement("span",null,"?"),"Unnamed"!==this.calledToFirstName&&"Unnamed"!==this.calledToLastName&&u.default.createElement("span",null,this.calledToFirstName.toUpperCase().charAt(0)+this.calledToLastName.toUpperCase().charAt(0))),u.default.createElement(f.default,{item:!0,lg:7,md:7,xl:7,className:r.callText},u.default.createElement(h.default,{variant:"span",noWrap:!0,className:(0,v.default)(r.status)},this.props.callState.status),u.default.createElement("div",{className:r.calledToContactDiv},u.default.createElement(h.default,{noWrap:!0,className:r.calledContactName},this.calledToFullName))),u.default.createElement(f.default,{item:!0,className:r.dropDown,align:"right"},u.default.createElement(q.default,{className:r.dropDownIcon})),u.default.createElement(f.default,{item:!0,className:r.contactIcon},u.default.createElement(b.default,{dataFromChild:this.toggleContactPopover,contactOpen:this.state.contactOpen,openContacts:!1,contacts:this.state.customer.contacts,customer:this.state.customer,invoices:this.state.invoices,bucketNames:this.props.location.state.bucketNames,nextCustomerUrl:this.nextUrl,toCallCustomers:this.props.location.state.toCallCustomers}))),u.default.createElement(f.default,{container:!0,item:!0,lg:5,md:5,xl:5,alignItems:"center",justify:"flex-end"},u.default.createElement(f.default,{className:r.duration},this.state.callDurationInFormat),u.default.createElement(f.default,{item:!0,className:(0,v.default)(r.micOffIcon,r.centerFlexBox)},this.state.isMuted&&u.default.createElement("img",{className:r.micOffIconImg,src:"/tovo/static/unmute.svg",onClick:this.toggleMute}),!this.state.isMuted&&u.default.createElement("img",{className:r.micOffIconImg,src:a(6118),onClick:this.toggleMute})),u.default.createElement(f.default,{item:!0,align:"right",className:r.hangUpButton},u.default.createElement("img",(e={className:r.hangUpButtonImg,onClick:this.hangUp},o(e,"className",r.hangUpIconIng),o(e,"src",a(6119)),e))))),u.default.createElement(f.default,{item:!0,className:r.dialpadIcon},u.default.createElement(Z.default,{className:r.baseIconSize,customer:this.state.customer})),u.default.createElement(f.default,{item:!0,className:(0,v.default)(r.voiceMailIcon,r.baseIconSize)},u.default.createElement(te.default,{customer:this.state.customer,onVoicemailClick:function(){return t.handleVoicemailMessage()}}))))),!0===this.props.callState.calling&&!1===this.state.callPrepPage&&u.default.createElement("div",{style:{marginTop:"2.037vh"}},u.default.createElement(f.default,{container:!0,xs:12,alignItems:"flex-start",justify:"center",style:{marginLeft:"0px"}},u.default.createElement(f.default,{item:!0,xs:8,align:"left",style:{paddingTop:"0",paddingRight:"1.041vw"}},this.state.invoices&&u.default.createElement(A.default,{collector:this.props.user,emailOfCalled:this.emailOfCalled,customer:this.state.customer,invoices:this.state.invoices,bucketNames:this.props.location.state.bucketNames})),u.default.createElement(f.default,{item:!0,container:!0,xs:4,className:r.transcriptBoxParent},u.default.createElement(se.default,{className:r.transcriptBox,autoScroll:!0,transcriptTitleClassName:r.transcriptTitle,transcriptChatProps:{transcription:this.state.transcription,calledToNameInitials:l,userInitials:"ME",transcriptGridID:"live-transcription-grid"}})))),!0===this.props.callState.calling&&!0===this.state.callPrepPage&&u.default.createElement("div",null,u.default.createElement(D.default,{customer:this.state.customer})))))),!1===this.props.callState.calling&&("Call Failed"===this.props.callState.status||"Wrong Number"==this.props.callState.status||"User Busy"==this.props.callState.status)&&u.default.createElement("div",null,u.default.createElement(k.Redirect,{to:{pathname:"/callprep/"+this.state.customer.id,state:{openContacts:!0,toCallCustomers:this.props.location.state.toCallCustomers}}})),!1===this.props.callState.calling&&u.default.createElement(N.default,{voicemailMessage:this.state.voicemailPlayedMessage,callDuration:this.state.callDuration,toCallCustomers:this.props.location.state.toCallCustomers,nextCustomerUrl:this.props.location.state.nextCustomerUrl,onHangup:this.clearIntervalOnHangup,invoices:this.state.invoices,customer:this.state.customer,calledToName:this.calledToFirstName+" "+this.calledToLastName,bucketNames:this.props.location.state.bucketNames,collector:this.props.user,contactIndex:this.props.location.state.contactIndex,calledToNumber:this.props.location.state.calledToNumber,initialTranscription:this.state.transcription}),!1===this.props.callState.calling&&"Trying to connect"===this.props.callState.status&&u.default.createElement("div",null,u.default.createElement(k.Redirect,{to:{pathname:"/callprep/"+this.state.customer.id,state:{openContacts:!1,toCallCustomers:this.props.location.state.toCallCustomers}}})))}}]),t}(c.Component),ve=function(e){return{user:e.personalDetails,callState:e.callState,transcription:e.transcription,customers:e.customers}},ye=function(e){return{changeCallState:function(t){return e((0,E.changeCallState)(t))},changeStatus:function(t){return e((0,E.changeStatus)(t))},changeTranscription:function(t){return e((0,E.changeTranscription)(t))},callLog:function(t){return e((0,S.addInitialCallLog)(t))}}},be=(0,ue.default)(me,pe.default);t.default=(0,w.connect)(ve,ye)((0,d.withStyles)(be,{withTheme:!0})(ge))},6075:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(73),o=a(93),r=a(184),i=a(94),l=a(185),s=a(187),c=a(123),u=a(188),d=a(186),p=a(189),f=a(360),m=a(361),h=a(362),g=a(363),v=a(364),y=a(365),b=a(366),C=a(190),E=a(367),S=a(368),w=a(369),x=a(370),O=a(371),k=a(122),I=a(95),D=a(46),T=a(124),N=function(){function e(e){var t=(void 0===e?{}:e).locale;this.dateTime12hFormat="MMMM do hh:mm aaaa",this.dateTime24hFormat="MMMM do HH:mm",this.time12hFormat="hh:mm a",this.time24hFormat="HH:mm",this.dateFormat="MMMM do",this.locale=t}return e.prototype.addDays=function(e,t){return Object(n.a)(e,t)},e.prototype.isValid=function(e){return Object(C.a)(e)},e.prototype.getDiff=function(e,t){return Object(i.a)(e,t)},e.prototype.isAfter=function(e,t){return Object(g.a)(e,t)},e.prototype.isBefore=function(e,t){return Object(v.a)(e,t)},e.prototype.startOfDay=function(e){return Object(k.a)(e)},e.prototype.endOfDay=function(e){return Object(s.a)(e)},e.prototype.getHours=function(e){return Object(f.a)(e)},e.prototype.setHours=function(e,t){return Object(S.a)(e,t)},e.prototype.setMinutes=function(e,t){return Object(w.a)(e,t)},e.prototype.getSeconds=function(e){return Object(m.a)(e)},e.prototype.setSeconds=function(e,t){return Object(x.a)(e,t)},e.prototype.isSameDay=function(e,t){return Object(b.a)(e,t)},e.prototype.getStartOfMonth=function(e){return Object(I.a)(e)},e.prototype.getYear=function(e){return Object(h.a)(e)},e.prototype.setYear=function(e,t){return Object(O.a)(e,t)},e.prototype.date=function(e){return void 0===e?new Date:null===e?null:new Date(e)},e.prototype.parse=function(e,t){return""===e?null:Object(E.a)(e,t,new Date)},e.prototype.format=function(e,t){return Object(p.a)(e,t,{locale:this.locale})},e.prototype.isEqual=function(e,t){return null===e&&null===t||Object(y.a)(e,t)},e.prototype.isNull=function(e){return null===e},e.prototype.isAfterDay=function(e,t){return Object(g.a)(e,Object(s.a)(t))},e.prototype.isBeforeDay=function(e,t){return Object(v.a)(e,Object(k.a)(t))},e.prototype.isBeforeYear=function(e,t){return Object(v.a)(e,Object(T.a)(t))},e.prototype.isAfterYear=function(e,t){return Object(g.a)(e,Object(d.a)(t))},e.prototype.formatNumber=function(e){return e},e.prototype.getMinutes=function(e){return e.getMinutes()},e.prototype.getMonth=function(e){return e.getMonth()},e.prototype.getMeridiemText=function(e){return"am"===e?"AM":"PM"},e.prototype.getNextMonth=function(e){return Object(o.a)(e,1)},e.prototype.getPreviousMonth=function(e){return Object(o.a)(e,-1)},e.prototype.mergeDateAndTime=function(e,t){return this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t))},e.prototype.getWeekdays=function(){var e=this,t=new Date;return Object(l.a)({start:Object(D.a)(t,{locale:this.locale}),end:Object(u.a)(t,{locale:this.locale})},{locale:this.locale}).map(function(t){return Object(p.a)(t,"EEEEEE",{locale:e.locale})})},e.prototype.getWeekArray=function(e){for(var t=Object(D.a)(Object(I.a)(e),{locale:this.locale}),a=Object(u.a)(Object(c.a)(e),{locale:this.locale}),o=0,r=t,i=[];Object(v.a)(r,a);){var l=Math.floor(o/7);i[l]=i[l]||[],i[l].push(r),r=Object(n.a)(r,1),o+=1}return i},e.prototype.getYearRange=function(e,t){for(var a=Object(T.a)(e),n=Object(d.a)(t),o=[],i=a;Object(v.a)(i,n);)o.push(i),i=Object(r.a)(i,1);return o},e.prototype.getCalendarHeaderText=function(e){return Object(p.a)(e,"MMMM yyyy",{locale:this.locale})},e.prototype.getYearText=function(e){return Object(p.a)(e,"yyyy",{locale:this.locale})},e.prototype.getDatePickerHeaderText=function(e){return Object(p.a)(e,"EEE, MMM d",{locale:this.locale})},e.prototype.getDateTimePickerHeaderText=function(e){return Object(p.a)(e,"MMM d",{locale:this.locale})},e.prototype.getDayText=function(e){return Object(p.a)(e,"d",{locale:this.locale})},e.prototype.getHourText=function(e,t){return Object(p.a)(e,t?"hh":"HH",{locale:this.locale})},e.prototype.getMinuteText=function(e){return Object(p.a)(e,"mm",{locale:this.locale})},e.prototype.getSecondText=function(e){return Object(p.a)(e,"ss",{locale:this.locale})},e}();t.default=N},6076:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"DatePicker",function(){return Ye}),a.d(t,"InlineDatePicker",function(){return Ze}),a.d(t,"TimePicker",function(){return kt}),a.d(t,"InlineTimePicker",function(){return Tt}),a.d(t,"DateTimePicker",function(){return zt}),a.d(t,"InlineDateTimePicker",function(){return Yt}),a.d(t,"BasePicker",function(){return ie}),a.d(t,"Calendar",function(){return Fe}),a.d(t,"Day",function(){return Pe}),a.d(t,"TimePickerView",function(){return Et}),a.d(t,"Clock",function(){return ft}),a.d(t,"MuiPickersUtilsProvider",function(){return te});var n=a(6089),o=a(4),r=(a.n(o),a(0)),i=(a.n(r),a(6090)),l=a.n(i),s=a(349),c=a.n(s),u=a(35),d=a.n(u),p=a(350),f=a.n(p),m=a(326),h=a.n(m),g=a(42),v=a.n(g),y=a(168),b=a.n(y),C=a(171),E=a.n(C),S=a(348),w=a.n(S),x=a(19),O=(a.n(x),a(8)),k=a.n(O),I=a(36),D=a.n(I),T=a(56),N=a.n(T),P=a(343),A=a.n(P),j=a(9),M=a.n(j),F=a(181),R=a.n(F),B=a(21),_=a.n(B),L=a(6091),V=(a.n(L),a(20)),H=(a.n(V),a(88)),U=a.n(H),z=a(33),W=a.n(z),Y=a(44),K=a.n(Y),G=a(335),q=a.n(G),X=a(336),J=a.n(X),Z=Object(r.createContext)(null),Q=Z.Consumer,$=Z.Provider,ee=Q,te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={utils:null},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return{utils:new(0,e.utils)({locale:e.locale,moment:e.moment})}},t.prototype.render=function(){return Object(r.createElement)($,{value:this.state.utils,children:this.props.children})},t.defaultProps={locale:void 0,moment:void 0},t}(r.Component),ae=function(e){if(!e)throw new Error("Can not find utils in context. You either a) forgot to wrap your component tree in MuiPickersUtilsProvider; or b) mixed named and direct file imports.  Recommendation: use named imports from the module index.")},ne=function(){return function(e){var t=function(t){return Object(r.createElement)(ee,null,function(a){return ae(a),Object(r.createElement)(e,Object(n.a)({utils:a},t))})};return t.displayName="WithUtils("+(e.displayName||e.name)+")",t}},oe=function(e){var t=e.utils,a=e.value,n=e.initialFocusedDate,o=a||n||t.date(),r=t.date(o);return t.isValid(r)?r:t.date()},re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={date:oe(t.props),isAccepted:!1},t.changeDate=function(e,a){return t.setState({date:e},a)},t.handleAcceptedChange=function(e,a){return t.setState({isAccepted:e},a)},t.handleClear=function(){return t.props.onChange(null)},t.handleAccept=function(){return t.props.onChange(t.state.date)},t.handleSetTodayDate=function(){return t.handleChange(t.props.utils.date(),!1)},t.handleTextFieldChange=function(e){var a=t.props,n=a.onChange,o=a.utils;a.mergePreviousDateOnChange&&(e=o.mergeDateAndTime(t.state.date,e)),null===e?n(null):t.changeDate(e,function(){return n(e)})},t.pick12hOr24hFormat=function(e,a){var n=t.props,o=n.format,r=n.ampm;return o||(r?e:a)},t.handleChange=function(e,a){void 0===a&&(a=!0);var n=t.props,o=n.autoOk,r=n.onChange;t.changeDate(e,function(){a&&o&&(r(e),t.handleAcceptedChange(!0,function(){return t.handleAcceptedChange(!1)}))})},t.handleDismiss=function(){t.setState({date:oe(t.props)})},t}return Object(n.b)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,a=t.utils,n=t.value,o=t.initialFocusedDate;e.value===n&&e.utils.locale===a.locale&&e.initialFocusedDate===o||this.changeDate(oe(this.props))},t.prototype.render=function(){return this.props.children(Object(n.a)({},this.state,{utils:this.props.utils,changeDate:this.changeDate,handleAcceptedChange:this.handleAcceptedChange,handleClear:this.handleClear,handleAccept:this.handleAccept,handleDismiss:this.handleDismiss,handleSetTodayDate:this.handleSetTodayDate,handleTextFieldChange:this.handleTextFieldChange,pick12hOr24hFormat:this.pick12hOr24hFormat,handleChange:this.handleChange}))},t}(r.Component),ie=ne()(re),le=(Object(o.oneOfType)([o.object,o.string,o.number,Object(o.instanceOf)(Date)]),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.inputRef,a=e.keepCharPositions,o=Object(n.c)(e,["inputRef","keepCharPositions"]);return this.props.mask?Object(r.createElement)(l.a,Object(n.a)({},o,{keepCharPositions:a,ref:t})):Object(r.createElement)("input",Object(n.a)({},o,{ref:t}))},t.defaultProps={mask:void 0},t}(r.PureComponent)),se=function(e){var t=e.utils,a=e.value,n=e.format,o=e.invalidLabel,r=e.emptyLabel,i=e.labelFunc,l=null===a,s=t.date(a);return i?i(l?null:s,o):l?r:t.isValid(s)?t.format(s,n):o},ce=function(e,t){var a=t.utils,n=t.maxDate,o=t.minDate,r=t.disablePast,i=t.disableFuture,l=t.maxDateMessage,s=t.minDateMessage,c=t.invalidDateMessage;return a.isValid(e)?n&&a.isAfter(e,a.endOfDay(a.date(n)))||i&&a.isAfter(e,a.endOfDay(a.date()))?l:o&&a.isBefore(e,a.startOfDay(a.date(o)))||r&&a.isBefore(e,a.startOfDay(a.date()))?s:"":a.isNull(e)?"":c},ue=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.state=t.updateState(a.props),a.commitUpdates=function(e){var n=a.props,o=n.onChange,r=n.clearable,i=n.onClear,l=n.utils,s=n.format,c=n.onError;if(""===e)return void(null===a.props.value?a.setState(t.updateState(a.props)):r&&i&&i());var u=l.date(a.state.value),d=l.parse(e,s),p=ce(d,a.props);a.setState({error:p,displayValue:e,value:p?d:u},function(){p||l.isEqual(d,u)||o(d),p&&c&&c(d,p)})},a.handleBlur=function(e){a.props.keyboard&&(e.preventDefault(),e.stopPropagation(),a.commitUpdates(e.target.value),a.props.onBlur&&a.props.onBlur(e))},a.handleChange=function(e){var t=a.props,n=t.utils,o=t.format,r=t.onInputChange,i=n.parse(e.target.value,o);r&&r(e),a.setState({displayValue:e.target.value,error:ce(i,a.props)})},a.handleFocus=function(e){e.stopPropagation(),e.preventDefault(),a.props.keyboard||a.openPicker(e)},a.handleKeyPress=function(e){"Enter"===e.key&&(a.props.disableOpenOnEnter?a.commitUpdates(e.target.value):a.openPicker(e))},a.openPicker=function(e){var t=a.props,n=t.disabled,o=t.onClick;n||o(e)},a}return Object(n.b)(t,e),t.prototype.componentDidUpdate=function(e){this.props.utils.isEqual(this.props.value,e.value)&&e.format===this.props.format&&e.maxDate===this.props.maxDate&&e.minDate===this.props.minDate&&e.emptyLabel===this.props.emptyLabel&&e.utils===this.props.utils||this.setState(t.updateState(this.props))},t.prototype.render=function(){var e=this.props,t=e.adornmentPosition,a=(e.clearable,e.disabled),o=(e.disableFuture,e.disableOpenOnEnter,e.disablePast,e.emptyLabel,e.format,e.InputAdornmentProps),i=e.InputProps,l=(e.invalidDateMessage,e.invalidLabel,e.keyboard),s=e.keyboardIcon,u=(e.labelFunc,e.mask),p=(e.maxDate,e.maxDateMessage,e.minDate,e.minDateMessage,e.onBlur,e.onClear,e.onClick,e.pipe),m=e.keepCharPositions,h=e.TextFieldComponent,g=(e.utils,e.value,e.onInputChange,Object(n.c)(e,["adornmentPosition","clearable","disabled","disableFuture","disableOpenOnEnter","disablePast","emptyLabel","format","InputAdornmentProps","InputProps","invalidDateMessage","invalidLabel","keyboard","keyboardIcon","labelFunc","mask","maxDate","maxDateMessage","minDate","minDateMessage","onBlur","onClear","onClick","pipe","keepCharPositions","TextFieldComponent","utils","value","onInputChange"])),v=this.state,y=v.displayValue,b=v.error,C={inputComponent:le,inputProps:{mask:l?u:null,pipe:l?p:null,keepCharPositions:l?m:void 0,readOnly:!l}};l&&(C[t+"Adornment"]=Object(r.createElement)(f.a,Object(n.a)({position:t},o),Object(r.createElement)(d.a,{disabled:a,onClick:this.openPicker},Object(r.createElement)(c.a,null," ",s," "))));var E=h,S=Object(n.a)({},C,i);return Object(r.createElement)(E,Object(n.a)({onClick:this.handleFocus,error:!!b,helperText:b,onKeyPress:this.handleKeyPress,onBlur:this.handleBlur,disabled:a,value:y},g,{onError:void 0,onChange:this.handleChange,InputProps:S}))},t.defaultProps={disabled:!1,invalidLabel:"Unknown",emptyLabel:"",value:new Date,labelFunc:void 0,format:void 0,InputProps:void 0,keyboard:!1,mask:void 0,keyboardIcon:"event",disableOpenOnEnter:!1,invalidDateMessage:"Invalid Date Format",clearable:!1,onBlur:void 0,onClear:void 0,disablePast:!1,disableFuture:!1,onError:void 0,onInputChange:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",minDateMessage:"Date should not be before minimal date",maxDateMessage:"Date should not be after maximal date",TextFieldComponent:h.a,InputAdornmentProps:{},adornmentPosition:"end",pipe:void 0,keepCharPositions:!1},t.updateState=function(e){return{value:e.value,displayValue:se(e),error:ce(e.utils.date(e.value),e)}},t}(r.PureComponent),de=ne()(ue),pe=function(e){var t,a,o,i=e.children,l=e.classes,s=e.onKeyDown,c=e.onAccept,u=e.onDismiss,d=e.onClear,p=e.onSetToday,f=e.okLabel,m=e.cancelLabel,h=e.clearLabel,g=e.todayLabel,y=e.clearable,C=e.showTodayButton,S=e.showTabs,x=Object(n.c)(e,["children","classes","onKeyDown","onAccept","onDismiss","onClear","onSetToday","okLabel","cancelLabel","clearLabel","todayLabel","clearable","showTodayButton","showTabs"]);return Object(r.createElement)(b.a,Object(n.a)({role:"dialog",onClose:u,classes:{paper:k()(l.dialogRoot,(t={},t[l.dialogWithTabs]=S,t))}},x),Object(r.createElement)(D.a,{target:"window",onKeyDown:s}),Object(r.createElement)(w.a,{children:i,className:k()(l.dialog,(a={},a[l.dialogWithTabs]=S,a))}),Object(r.createElement)(E.a,{classes:{root:y||C?l.dialogActions:void 0,action:k()(l.dialogAction,(o={},o[l.clearableDialogAction]=y,o[l.todayDialogAction]=!y&&C,o))}},y&&Object(r.createElement)(v.a,{color:"primary",onClick:d},h),!y&&C&&Object(r.createElement)(v.a,{color:"primary",onClick:p},g),Object(r.createElement)(v.a,{color:"primary",onClick:u},m),Object(r.createElement)(v.a,{color:"primary",onClick:c},f)))};pe.displayName="ModalDialog";var fe=Object(x.createStyles)({dialogRoot:{minWidth:310,minHeight:405},dialog:{width:310,minHeight:405,overflow:"hidden","&:first-child":{padding:0}},dialogWithTabs:{minHeight:455},dialogActions:{justifyContent:"flex-start"},clearableDialogAction:{"&:first-child":{marginRight:"auto"}},todayDialogAction:{"&:first-child":{marginRight:"auto"}},dialogAction:{}}),me=Object(x.withStyles)(fe,{name:"MuiPickersModal"})(pe),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1},t.handleKeyDown=function(e){switch(N()(e)){case"enter":t.handleAccept();break;default:return}e.preventDefault()},t.handleSetTodayDate=function(){t.props.onSetToday&&t.props.onSetToday()},t.open=function(){t.setState({open:!0}),t.props.onOpen&&t.props.onOpen()},t.close=function(){t.setState({open:!1}),t.props.onClose&&t.props.onClose()},t.handleAccept=function(){t.close(),t.props.onAccept&&t.props.onAccept()},t.handleDismiss=function(){t.close(),t.props.onDismiss&&t.props.onDismiss()},t.handleClear=function(){t.close(),t.props.onClear&&t.props.onClear()},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return e.isAccepted?{open:!1}:null},t.prototype.render=function(){var e=this.props,t=e.value,a=e.format,o=e.children,i=(e.onAccept,e.onDismiss,e.invalidLabel),l=e.labelFunc,s=e.okLabel,c=e.cancelLabel,u=e.clearLabel,d=e.clearable,p=e.todayLabel,f=e.showTodayButton,m=(e.onOpen,e.onClose,e.onSetToday,e.isAccepted,e.DialogProps),h=e.showTabs,g=Object(n.c)(e,["value","format","children","onAccept","onDismiss","invalidLabel","labelFunc","okLabel","cancelLabel","clearLabel","clearable","todayLabel","showTodayButton","onOpen","onClose","onSetToday","isAccepted","DialogProps","showTabs"]);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(de,Object(n.a)({value:t,format:a,onClick:this.open,invalidLabel:i,labelFunc:l,clearable:d},g)),Object(r.createElement)(me,Object(n.a)({showTabs:h,open:this.state.open,onKeyDown:this.handleKeyDown,onClear:this.handleClear,onAccept:this.handleAccept,onDismiss:this.handleDismiss,onSetToday:this.handleSetTodayDate,clearLabel:u,todayLabel:p,okLabel:s,cancelLabel:c,clearable:d,showTodayButton:f,children:o},m)))},t.defaultProps={invalidLabel:void 0,value:new Date,labelFunc:void 0,okLabel:"OK",cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",clearable:!1,showTodayButton:!1,format:void 0,onAccept:void 0,onDismiss:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,onSetToday:void 0,DialogProps:void 0,isAccepted:!1},t}(r.PureComponent),ge=function(e){var t=e.children,a=e.className,o=e.classes,i=Object(n.c)(e,["children","className","classes"]);return Object(r.createElement)(R.a,Object(n.a)({className:k()(o.toolbar,a)},i),t)};ge.defaultProps={className:""};var ve=function(e){return A()({toolbar:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",height:100,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default}})},ye=M()(ve,{name:"MuiPickersToolbar"})(ge),be=function(e){var t,a=e.classes,o=e.selected,i=e.label,l=e.className,s=Object(n.c)(e,["classes","selected","label","className"]);return Object(r.createElement)(_.a,Object(n.a)({className:k()(a.toolbarBtn,l,(t={},t[a.toolbarBtnSelected]=o,t))},s),i)};be.defaultProps={className:""};var Ce=function(e){return{toolbarBtn:{cursor:"pointer",color:"rgba(255, 255, 255, 0.54)"},toolbarBtnSelected:{color:e.palette.common.white}}},Ee=M()(Ce,{name:"MuiPickersToolbarButton"})(be),Se=function(e){var t=e.date,a=e.utils,n=e.minDate,o=e.maxDate,r=e.disableFuture,i=e.disablePast,l=e.shouldDisableDate,s=a.startOfDay(a.date());n=n&&a.date(n),o=o&&a.date(o),i&&a.isBefore(n,s)&&(n=s),r&&a.isAfter(o,s)&&(o=s);var c=a.date(t),u=a.date(t);for(a.isBefore(t,n)&&(c=n,u=null),a.isAfter(t,o)&&(u&&(u=o),c=null);c||u;){if(c&&a.isAfter(c,o)&&(c=null),u&&a.isBefore(u,n)&&(u=null),c){if(!l(c))return c;c=a.addDays(c,1)}if(u){if(!l(u))return u;u=a.addDays(u,-1)}}return null},we=function(e){var t=e.classes,a=e.className,n=e.children,o=e.transKey,i=e.slideDirection;return Object(r.createElement)(L.TransitionGroup,{className:k()(t.transitionContainer,a)},Object(r.createElement)(L.CSSTransition,{key:o,mountOnEnter:!0,unmountOnExit:!0,timeout:350,children:n,classNames:{enter:t["slideEnter-"+i],enterActive:t.slideEnterActive,exit:t.slideExit,exitActive:t["slideExitActiveLeft-"+i]}}))};we.defaultProps={className:void 0};var xe=function(e){var t=e.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return A()({transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:t},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-200%)",transition:t},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(200%)",transition:t}})},Oe=M()(xe,{name:"MuiPickersSlideTransition"})(we),ke=function(e){var t=e.classes,a=e.theme,n=e.currentMonth,o=e.onMonthChange,i=e.leftArrowIcon,l=e.rightArrowIcon,s=e.disablePrevMonth,u=e.disableNextMonth,p=e.utils,f=e.slideDirection,m="rtl"===a.direction,h=function(){return o(p.getNextMonth(n),"left")},g=function(){return o(p.getPreviousMonth(n),"right")};return Object(r.createElement)("div",null,Object(r.createElement)("div",{className:t.switchHeader},Object(r.createElement)(d.a,{disabled:s,onClick:g,className:t.iconButton},Object(r.createElement)(c.a,null,m?l:i)),Object(r.createElement)(Oe,{slideDirection:f,transKey:n.toString(),className:t.transitionContainer},Object(r.createElement)(_.a,{align:"center",variant:"body1"},p.getCalendarHeaderText(n))),Object(r.createElement)(d.a,{disabled:u,onClick:h,className:t.iconButton},Object(r.createElement)(c.a,null,m?i:l))),Object(r.createElement)("div",{className:t.daysHeader},p.getWeekdays().map(function(e,a){return Object(r.createElement)(_.a,{key:a,variant:"caption",className:t.dayLabel},e)})))};ke.defaultProps={leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",disablePrevMonth:!1,disableNextMonth:!1};var Ie=function(e){return A()({switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing.unit/2,marginBottom:e.spacing.unit},transitionContainer:{width:"100%",height:20},iconButton:{zIndex:2,backgroundColor:e.palette.background.paper,"& > *":{backgroundColor:e.palette.background.paper,"& > *":{zIndex:1,overflow:"visible"}}},daysHeader:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:16},dayLabel:{width:36,margin:"0 2px",textAlign:"center",color:e.palette.text.hint}})},De=M()(Ie,{withTheme:!0,name:"MuiPickersCalendarHeader"})(ne()(ke)),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.children,o=t.classes,i=t.disabled,l=t.hidden,s=t.current,c=t.selected,u=Object(n.c)(t,["children","classes","disabled","hidden","current","selected"]),p=k()(o.day,(e={},e[o.hidden]=l,e[o.current]=s,e[o.selected]=c,e[o.disabled]=i,e));return Object(r.createElement)(d.a,Object(n.a)({className:p,tabIndex:l||i?-1:0},u),a)},t.defaultProps={disabled:!1,hidden:!1,current:!1,selected:!1},t}(r.PureComponent),Ne=function(e){return A()({day:{width:36,height:36,fontSize:e.typography.caption.fontSize,margin:"0 2px",color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium,padding:0},hidden:{opacity:0,pointerEvents:"none"},current:{color:e.palette.primary.main,fontWeight:600},selected:{color:e.palette.common.white,backgroundColor:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{backgroundColor:e.palette.primary.main}},disabled:{pointerEvents:"none",color:e.palette.text.hint}})},Pe=M()(Ne,{name:"MuiPickersDay"})(Te),Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onSelect(t.props.value)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,a=(e.value,e.dayInCurrentMonth),o=e.disabled,i=(e.onSelect,Object(n.c)(e,["children","value","dayInCurrentMonth","disabled","onSelect"]));return Object(r.createElement)("div",Object(n.a)({onClick:a&&!o?this.handleClick:void 0,onKeyPress:a&&!o?this.handleClick:void 0,role:"presentation"},i),t)},t.defaultProps={dayInCurrentMonth:!0,disabled:!1},t}(r.PureComponent),je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={slideDirection:"left",currentMonth:t.props.utils.getStartOfMonth(t.props.date)},t.onDateSelect=function(e,a){void 0===a&&(a=!0);var n=t.props,o=n.date,r=n.utils;t.props.onChange(r.mergeDateAndTime(e,o),a)},t.handleChangeMonth=function(e,a){t.setState({currentMonth:e,slideDirection:a})},t.validateMinMaxDate=function(e){var a=t.props,n=a.minDate,o=a.maxDate,r=a.utils;return n&&r.isBeforeDay(e,r.date(n))||o&&r.isAfterDay(e,r.date(o))},t.shouldDisablePrevMonth=function(){var e=t.props,a=e.utils,n=e.disablePast,o=e.minDate,r=a.date();return!a.isBefore(a.getStartOfMonth(n&&a.isAfter(r,o)?r:a.date(o)),t.state.currentMonth)},t.shouldDisableNextMonth=function(){var e=t.props,a=e.utils,n=e.disableFuture,o=e.maxDate,r=a.date();return!a.isAfter(a.getStartOfMonth(n&&a.isBefore(r,o)?r:a.date(o)),t.state.currentMonth)},t.shouldDisableDate=function(e){var a=t.props,n=a.disablePast,o=a.disableFuture,r=a.shouldDisableDate,i=a.utils;return Boolean(o&&i.isAfterDay(e,i.date())||n&&i.isBeforeDay(e,i.date())||t.validateMinMaxDate(e)||r&&r(e))},t.moveToDay=function(e){e&&!t.shouldDisableDate(e)&&t.onDateSelect(e,!1)},t.handleKeyDown=function(e){var a=t.props,n=a.theme,o=a.date,r=a.utils;switch(N()(e)){case"up":t.moveToDay(r.addDays(o,-7));break;case"down":t.moveToDay(r.addDays(o,7));break;case"left":"ltr"===n.direction?t.moveToDay(r.addDays(o,-1)):t.moveToDay(r.addDays(o,1));break;case"right":"ltr"===n.direction?t.moveToDay(r.addDays(o,1)):t.moveToDay(r.addDays(o,-1));break;default:return}e.preventDefault()},t.renderWeeks=function(){var e=t.props.utils,a=t.state.currentMonth;return e.getWeekArray(a).map(function(e){return Object(r.createElement)("div",{key:"week-"+e[0].toString(),className:t.props.classes.week},t.renderDays(e))})},t.renderDays=function(e){var a=t.props,n=a.date,o=a.renderDay,i=a.utils,l=i.startOfDay(n),s=i.getMonth(t.state.currentMonth),c=i.date();return e.map(function(e){var a=t.shouldDisableDate(e),n=i.getMonth(e)===s,u=Object(r.createElement)(Pe,{current:i.isSameDay(e,c),hidden:!n,disabled:a,selected:i.isSameDay(l,e)},i.getDayText(e));return o&&(u=o(e,l,n,u)),Object(r.createElement)(Ae,{key:e.toString(),value:e,dayInCurrentMonth:n,disabled:a,onSelect:t.onDateSelect},u)})},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e,t){return e.utils.isEqual(e.date,t.lastDate)?null:{lastDate:e.date,currentMonth:e.utils.getStartOfMonth(e.date)}},t.prototype.componentDidMount=function(){var e=this.props,t=e.date,a=e.minDate,n=e.maxDate,o=e.utils,r=e.disablePast;if(this.shouldDisableDate(t)){var i=Se({date:t,utils:o,minDate:a,maxDate:n,disablePast:Boolean(r),disableFuture:Boolean(r),shouldDisableDate:this.shouldDisableDate});this.onDateSelect(i||a,!1)}},t.prototype.render=function(){var e=this.state,t=e.currentMonth,a=e.slideDirection,n=this.props,o=n.classes,i=n.allowKeyboardControl;return Object(r.createElement)(r.Fragment,null,i&&Object(r.createElement)(D.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(r.createElement)(De,{slideDirection:a,currentMonth:t,onMonthChange:this.handleChangeMonth,leftArrowIcon:this.props.leftArrowIcon,rightArrowIcon:this.props.rightArrowIcon,disablePrevMonth:this.shouldDisablePrevMonth(),disableNextMonth:this.shouldDisableNextMonth()}),Object(r.createElement)(Oe,{slideDirection:a,transKey:t.toString(),className:o.transitionContainer},Object(r.createElement)("div",{autoFocus:!0},this.renderWeeks())))},t.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,allowKeyboardControl:!1,shouldDisableDate:function(){return!1}},t}(r.Component),Me=function(e){return{transitionContainer:{minHeight:216,marginTop:1.5*e.spacing.unit},week:{display:"flex",justifyContent:"center"}}},Fe=M()(Me,{name:"MuiPickersCalendar",withTheme:!0})(ne()(je)),Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onSelect(t.props.value)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.classes,o=t.selected,i=t.disabled,l=(t.value,t.children),s=Object(n.c)(t,["classes","selected","disabled","value","children"]);return Object(r.createElement)(_.a,Object(n.a)({role:"button",component:"div",className:k()(a.root,(e={},e[a.selected]=o,e[a.disabled]=i,e)),tabIndex:i?-1:0,onClick:this.handleClick,onKeyPress:this.handleClick,color:o?"primary":"default",variant:o?"h5":"subtitle1"},s),l)},t.defaultProps={selected:!1,disabled:!1},t}(r.PureComponent),Be=function(e){return A()({root:{height:5*e.spacing.unit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none","&:focus":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium}},selected:{margin:"10px 0",fontWeight:e.typography.fontWeightMedium},disabled:{pointerEvents:"none",color:e.palette.text.hint}})},_e=M()(Be,{name:"MuiPickersYear"})(Re),Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedYearRef=void 0,t.getSelectedYearRef=function(e){t.selectedYearRef=e},t.scrollToCurrentYear=function(e){var a=t.props.animateYearScrolling,n=Object(V.findDOMNode)(e);n&&n.scrollIntoView&&(a?setTimeout(function(){return n.scrollIntoView({behavior:"smooth"})},100):n.scrollIntoView())},t.onYearSelect=function(e){var a=t.props,n=a.date;(0,a.onChange)(a.utils.setYear(n,e))},t}return Object(n.b)(t,e),t.prototype.componentDidMount=function(){this.selectedYearRef&&this.scrollToCurrentYear(this.selectedYearRef)},t.prototype.render=function(){var e=this,t=this.props,a=t.minDate,n=t.maxDate,o=t.date,i=t.classes,l=t.disablePast,s=t.disableFuture,c=t.utils,u=c.getYear(o);return Object(r.createElement)("div",{className:i.container},c.getYearRange(a,n).map(function(t){var a=c.getYear(t),n=a===u;return Object(r.createElement)(_e,{key:c.getYearText(t),selected:n,value:a,onSelect:e.onYearSelect,ref:n?e.getSelectedYearRef:void 0,disabled:l&&c.isBeforeYear(t,c.date())||s&&c.isAfterYear(t,c.date())},c.getYearText(t))}))},t.defaultProps={animateYearScrolling:!1},t}(r.PureComponent),Ve=A()({container:{maxHeight:300,overflowY:"auto",justifyContent:"center"}}),He=M()(Ve,{name:"MuiPickersYearSelection"})(ne()(Le)),Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showYearSelection:Boolean(t.props.openToYearSelection)},t.handleYearSelect=function(e){t.props.onChange(e,!1),t.openCalendar()},t.openYearSelection=function(){t.setState({showYearSelection:!0})},t.openCalendar=function(){t.setState({showYearSelection:!1})},t}return Object(n.b)(t,e),Object.defineProperty(t.prototype,"date",{get:function(){return this.props.date},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this.props.utils.date(this.props.minDate)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this.props.utils.date(this.props.maxDate)},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.state.showYearSelection,t=this.props,a=t.disablePast,n=t.disableFuture,o=t.onChange,i=t.animateYearScrolling,l=t.leftArrowIcon,s=t.rightArrowIcon,c=t.renderDay,u=t.utils,d=t.shouldDisableDate,p=t.allowKeyboardControl;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(ye,null,Object(r.createElement)(Ee,{variant:"subtitle1",onClick:this.openYearSelection,selected:e,label:u.getYearText(this.date)}),Object(r.createElement)(Ee,{variant:"h4",onClick:this.openCalendar,selected:!e,label:u.getDatePickerHeaderText(this.date)})),this.props.children,e?Object(r.createElement)(He,{date:this.date,onChange:this.handleYearSelect,minDate:this.minDate,maxDate:this.maxDate,disablePast:a,disableFuture:n,animateYearScrolling:i}):Object(r.createElement)(Fe,{date:this.date,onChange:o,disablePast:a,disableFuture:n,minDate:this.minDate,maxDate:this.maxDate,leftArrowIcon:l,rightArrowIcon:s,renderDay:c,shouldDisableDate:d,allowKeyboardControl:p}))},t.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,allowKeyboardControl:!1,animateYearScrolling:void 0,openToYearSelection:!1,children:null,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,shouldDisableDate:void 0},t}(r.PureComponent),ze=ne()(Ue),We=function(e){var t=e.allowKeyboardControl,a=e.animateYearScrolling,o=(e.autoOk,e.disableFuture),i=e.disablePast,l=e.format,s=e.forwardedRef,c=e.labelFunc,u=e.leftArrowIcon,d=e.maxDate,p=e.minDate,f=(e.initialFocusedDate,e.onChange,e.openToYearSelection),m=e.renderDay,h=e.rightArrowIcon,g=e.shouldDisableDate,v=e.value,y=Object(n.c)(e,["allowKeyboardControl","animateYearScrolling","autoOk","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value"]);return Object(r.createElement)(ie,Object(n.a)({},e),function(e){var b=e.date,C=e.utils,E=e.handleAccept,S=e.handleChange,w=e.handleClear,x=e.handleDismiss,O=e.handleSetTodayDate,k=e.handleTextFieldChange,I=e.isAccepted;return Object(r.createElement)(he,Object(n.a)({disableFuture:o,disablePast:i,format:l||C.dateFormat,labelFunc:c,maxDate:d,minDate:p,onAccept:E,onChange:k,onClear:w,onDismiss:x,onSetToday:O,ref:s,value:v,isAccepted:I},y),Object(r.createElement)(ze,{date:b,allowKeyboardControl:t,animateYearScrolling:a,disableFuture:o,disablePast:i,leftArrowIcon:u,maxDate:d,minDate:p,onChange:S,openToYearSelection:f,renderDay:m,rightArrowIcon:h,shouldDisableDate:g}))})};We.defaultProps={value:new Date,format:void 0,autoOk:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0};var Ye=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(We,Object(n.a)({},e,{forwardedRef:t}))}),Ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={anchorEl:null},t.open=function(e){t.setState({anchorEl:e.currentTarget}),t.props.onOpen&&t.props.onOpen()},t.close=function(){t.setState({anchorEl:null}),t.props.handleAccept(),t.props.onClose&&t.props.onClose()},t.handleKeyDown=function(e){switch(N()(e)){case"enter":t.props.handleAccept(),t.close();break;default:return}e.preventDefault()},t}return Object(n.b)(t,e),t.getDerivedStateFromProps=function(e){return e.isAccepted?{anchorEl:null}:null},t.prototype.render=function(){var e=this.props,t=e.value,a=e.format,o=e.children,i=(e.onOpen,e.onClose,e.PopoverProps),l=(e.isAccepted,e.keyboard),s=(e.onlyCalendar,e.classes),c=(e.handleAccept,Object(n.c)(e,["value","format","children","onOpen","onClose","PopoverProps","isAccepted","keyboard","onlyCalendar","classes","handleAccept"])),u=Boolean(this.state.anchorEl);return Object(r.createElement)(r.Fragment,null,u&&Object(r.createElement)(D.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(r.createElement)(de,Object(n.a)({value:t,format:a,onClick:this.open,keyboard:l},c)),Object(r.createElement)(U.a,Object(n.a)({id:"picker-popover",open:u,anchorEl:this.state.anchorEl,onClose:this.close,classes:{paper:s.popoverPaper},anchorOrigin:{vertical:"bottom",horizontal:l?"right":"center"},transformOrigin:{vertical:"top",horizontal:l?"right":"center"},children:o},i)))},t.defaultProps={value:new Date,labelFunc:void 0,onlyCalendar:!1,format:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,PopoverProps:void 0,isAccepted:!1,keyboard:void 0},t}(r.PureComponent),Ge={popoverPaper:{maxWidth:310,minWidth:290,paddingBottom:8}},qe=M()(Ge)(Ke),Xe=function(e){var t=e.allowKeyboardControl,a=e.animateYearScrolling,o=e.disableFuture,i=e.disablePast,l=e.format,s=e.forwardedRef,c=e.labelFunc,u=e.leftArrowIcon,d=e.maxDate,p=e.minDate,f=(e.initialFocusedDate,e.onChange,e.openToYearSelection),m=e.renderDay,h=e.rightArrowIcon,g=e.shouldDisableDate,v=e.value,y=(e.autoOk,e.onlyCalendar),b=Object(n.c)(e,["allowKeyboardControl","animateYearScrolling","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value","autoOk","onlyCalendar"]),C=y?Fe:ze;return Object(r.createElement)(ie,Object(n.a)({},e,{autoOk:!0}),function(e){var y=e.date,E=e.utils,S=e.isAccepted,w=e.handleChange,x=e.handleTextFieldChange,O=e.handleAccept;return Object(r.createElement)(qe,Object(n.a)({disableFuture:o,disablePast:i,format:l||E.dateFormat,labelFunc:c,maxDate:d,minDate:p,onChange:x,innerRef:s,value:v,isAccepted:S,handleAccept:O},b),Object(r.createElement)(C,{date:y,allowKeyboardControl:t,animateYearScrolling:a,disableFuture:o,disablePast:i,leftArrowIcon:u,maxDate:d,minDate:p,onChange:w,openToYearSelection:f,renderDay:m,rightArrowIcon:h,shouldDisableDate:g}))})};Xe.defaultProps={value:new Date,format:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0,autoOk:void 0,onlyCalendar:!1};var Je,Ze=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Xe,Object(n.a)({},e,{forwardedRef:t}))}),Qe={x:130,y:130},$e={x:Qe.x,y:0},et=$e.x-Qe.x,tt=$e.y-Qe.y,at=function(e){return 57.29577951308232*e},nt=function(e,t,a){var n=t-Qe.x,o=a-Qe.y,r=Math.atan2(et,tt)-Math.atan2(n,o),i=at(r);i=Math.round(i/e)*e,i%=360;var l=Math.floor(i/e)||0,s=Math.pow(n,2)+Math.pow(o,2);return{value:l,distance:Math.sqrt(s)}},ot=function(e,t,a){var n=nt(30,e,t),o=n.value,r=n.distance;return o=o||12,a?o%=12:r<90&&(o+=12,o%=24),o},rt=function(e,t,a){return void 0===a&&(a=6),nt(a,e,t).value},it=function(e,t,a,n){if(a){if((n.getHours(e)>=12?"pm":"am")!==t){var o="am"===t?n.getHours(e)-12:n.getHours(e)+12;return n.setHours(e,o)}}return e};!function(e){e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds"}(Je||(Je={}));var lt=Je,st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={toAnimateTransform:!1,previousType:void 0},t.getAngleStyle=function(){var e=t.props,a=e.value,n=e.isInner,o=e.type,r=o===lt.HOURS?12:60,i=360/r*a;return o===lt.HOURS&&a>12&&(i-=360),{height:n?"26%":"40%",transform:"rotateZ("+i+"deg)"}},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t,a=this.props,n=a.classes,o=a.hasSelected;return Object(r.createElement)("div",{style:this.getAngleStyle(),className:k()(n.pointer,(e={},e[n.animateTransform]=this.state.toAnimateTransform,e))},Object(r.createElement)("div",{className:k()(n.thumb,(t={},t[n.noPoint]=o,t))}))},t.getDerivedStateFromProps=function(e,t){return e.type!==t.previousType?{toAnimateTransform:!0,previousType:e.type}:{toAnimateTransform:!1,previousType:e.type}},t}(r.Component),ct=function(e){return A()({pointer:{width:2,backgroundColor:e.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},animateTransform:{transition:e.transitions.create(["transform","height"])},thumb:{width:4,height:4,backgroundColor:e.palette.common.white,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid "+e.palette.primary.main,boxSizing:"content-box"},noPoint:{backgroundColor:e.palette.primary.main}})},ut=M()(ct,{name:"MuiPickersClockPointer"})(st),dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isMoving=!1,t.handleTouchMove=function(e){t.isMoving=!0,t.setTime(e)},t.handleTouchEnd=function(e){t.isMoving&&(t.setTime(e,!0),t.isMoving=!1)},t.handleMove=function(e){e.preventDefault(),e.stopPropagation(),(void 0===e.buttons?1===e.nativeEvent.which:1===e.buttons)&&t.setTime(e.nativeEvent,!1)},t.handleMouseUp=function(e){t.isMoving&&(t.isMoving=!1),t.setTime(e.nativeEvent,!0)},t.hasSelected=function(){var e=t.props,a=e.type,n=e.value;return a===lt.HOURS||n%5==0},t}return Object(n.b)(t,e),t.prototype.setTime=function(e,t){void 0===t&&(t=!1);var a=e.offsetX,n=e.offsetY;if(void 0===a){var o=e.target.getBoundingClientRect();a=e.changedTouches[0].clientX-o.left,n=e.changedTouches[0].clientY-o.top}var r=this.props.type===lt.SECONDS||this.props.type===lt.MINUTES?rt(a,n):ot(a,n,Boolean(this.props.ampm));this.props.onChange(r,t)},t.prototype.render=function(){var e=this.props,t=e.classes,a=e.value,n=e.children,o=e.type,i=e.ampm,l=!i&&o===lt.HOURS&&(a<1||a>12);return Object(r.createElement)("div",{className:t.container},Object(r.createElement)("div",{className:t.clock},Object(r.createElement)("div",{role:"menu",tabIndex:-1,className:t.squareMask,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMove}),Object(r.createElement)("div",{className:t.pin}),Object(r.createElement)(ut,{type:o,value:a,isInner:l,hasSelected:this.hasSelected()}),n))},t.defaultProps={ampm:!1},t}(r.Component),pt=function(e){return A()({container:{display:"flex",justifyContent:"center",alignItems:"flex-end",margin:4*e.spacing.unit+"px 0 "+e.spacing.unit+"px"},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none",zIndex:1},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:"none",touchActions:"none",userSelect:"none","&:active":{cursor:"move"}},pin:{width:6,height:6,borderRadius:"50%",backgroundColor:e.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})},ft=M()(pt,{name:"MuiPickersClock"})(dt),mt={0:[0,40],1:[55,19.6],2:[94.4,59.5],3:[109,114],4:[94.4,168.5],5:[54.5,208.4],6:[0,223],7:[-54.5,208.4],8:[-94.4,168.5],9:[-109,114],10:[-94.4,59.5],11:[-54.5,19.6],12:[0,5],13:[36.9,49.9],14:[64,77],15:[74,114],16:[64,151],17:[37,178],18:[0,188],19:[-37,178],20:[-64,151],21:[-74,114],22:[-64,77],23:[-37,50]},ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getTransformStyle=function(e){var t=mt[e];return{transform:"translate("+t[0]+"px, "+t[1]+"px"}},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.selected,n=t.label,o=t.index,i=t.classes,l=t.isInner,s=k()(i.clockNumber,(e={},e[i.selected]=a,e));return Object(r.createElement)(_.a,{variant:l?"body1":"subtitle1",component:"span",className:s,style:this.getTransformStyle(o)},n)},t.defaultProps={isInner:!1},t}(r.Component),gt=function(e){var t=4*e.spacing.unit;return A()({clockNumber:{width:t,height:t,userSelect:"none",position:"absolute",left:"calc(50% - "+t/2+"px)",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"light"===e.palette.type?e.palette.text.primary:e.palette.text.hint},selected:{color:e.palette.common.white}})},vt=M()(gt,{name:"MuiPickersClockNumber"})(ht),yt=function(e){for(var t=e.ampm,a=e.utils,o=e.date,i=a.getHours(o),l=[],s=t?1:0,c=t?12:23,u=s;u<=c;u+=1){var d=u.toString();0===u&&(d="00");var p={index:u,label:a.formatNumber(d),selected:function(e){return t?12===e?12===i||0===i:i===e||i-12===e:i===e}(u),isInner:!t&&(0===u||u>12)};l.push(Object(r.createElement)(vt,Object(n.a)({key:u},p)))}return l},bt=function(e){var t=e.value,a=e.utils,n=a.formatNumber;return[Object(r.createElement)(vt,{label:n("00"),selected:0===t,index:12,key:12}),Object(r.createElement)(vt,{label:n("05"),selected:5===t,index:1,key:1}),Object(r.createElement)(vt,{label:n("10"),selected:10===t,index:2,key:2}),Object(r.createElement)(vt,{label:n("15"),selected:15===t,index:3,key:3}),Object(r.createElement)(vt,{label:n("20"),selected:20===t,index:4,key:4}),Object(r.createElement)(vt,{label:n("25"),selected:25===t,index:5,key:5}),Object(r.createElement)(vt,{label:n("30"),selected:30===t,index:6,key:6}),Object(r.createElement)(vt,{label:n("35"),selected:35===t,index:7,key:7}),Object(r.createElement)(vt,{label:n("40"),selected:40===t,index:8,key:8}),Object(r.createElement)(vt,{label:n("45"),selected:45===t,index:9,key:9}),Object(r.createElement)(vt,{label:n("50"),selected:50===t,index:10,key:10}),Object(r.createElement)(vt,{label:n("55"),selected:55===t,index:11,key:11})]},Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getViewProps=function(){var e=t.props,a=e.type,n=e.ampm,o=e.date,r=e.utils;switch(a){case lt.HOURS:return{value:r.getHours(o),children:yt({date:o,ampm:Boolean(n),utils:r}),onChange:t.handleHourChange};case lt.MINUTES:var i=r.getMinutes(o);return{value:i,children:bt({value:i,utils:r}),onChange:t.handleMinutesChange};case lt.SECONDS:var l=r.getSeconds(o);return{value:l,children:bt({value:l,utils:r}),onChange:t.handleSecondsChange};default:throw new Error("You must provide the type for TimePickerView")}},t.handleHourChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setHours(o,e);t.props.onHourChange(i,a)},t.handleMinutesChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setMinutes(o,e);t.props.onMinutesChange(i,a)},t.handleSecondsChange=function(e,a){var n=t.props,o=n.date,r=n.utils,i=r.setSeconds(o,e);t.props.onSecondsChange(i,a)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.ampm,a=e.type,o=this.getViewProps();return Object(r.createElement)(ft,Object(n.a)({type:a,ampm:t},o))},t.defaultProps={ampm:!0},t}(r.PureComponent),Et=ne()(Ct),St=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openView:lt.HOURS,meridiemMode:t.props.utils.getHours(t.props.date)>=12?"pm":"am"},t.setMeridiemMode=function(e){return function(){t.setState({meridiemMode:e},function(){return t.handleChange({time:t.props.date,isFinish:!1,openMinutes:!1,openSeconds:!1})})}},t.handleChange=function(e){var a=e.time,n=e.isFinish,o=e.openMinutes,r=e.openSeconds,i=it(a,t.state.meridiemMode,Boolean(t.props.ampm),t.props.utils);if(n){if(!o&&!r)return void t.props.onChange(i,n);o&&t.openMinutesView(),r&&t.openSecondsView()}t.props.onChange(i,!1)},t.handleHourChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!0,openSeconds:!1})},t.handleMinutesChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!1,openSeconds:Boolean(t.props.seconds)})},t.handleSecondsChange=function(e,a){t.handleChange({time:e,isFinish:a,openMinutes:!1,openSeconds:!1})},t.openSecondsView=function(){t.setState({openView:lt.SECONDS})},t.openMinutesView=function(){t.setState({openView:lt.MINUTES})},t.openHourView=function(){t.setState({openView:lt.HOURS})},t}return Object(n.b)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.classes,n=t.theme,o=t.date,i=t.utils,l=t.ampm,s=t.seconds,c=this.state,u=c.meridiemMode,d=c.openView,p="rtl"===n.direction,f=p?a.hourMinuteLabelReverse:a.hourMinuteLabel;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(ye,{className:k()(a.toolbar,(e={},e[a.toolbarLeftPadding]=l,e))},Object(r.createElement)("div",{className:f},Object(r.createElement)(Ee,{variant:"h2",onClick:this.openHourView,selected:d===lt.HOURS,label:i.getHourText(o,Boolean(l))}),Object(r.createElement)(Ee,{variant:"h2",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h2",onClick:this.openMinutesView,selected:d===lt.MINUTES,label:i.getMinuteText(o)}),s&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Ee,{variant:"h2",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h2",onClick:this.openSecondsView,selected:d===lt.SECONDS,label:i.getSecondText(o)}))),l&&Object(r.createElement)("div",{className:s?a.ampmSelectionWithSeconds:a.ampmSelection},Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"am"===u,variant:"subtitle1",label:i.getMeridiemText("am"),onClick:this.setMeridiemMode("am")}),Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"pm"===u,variant:"subtitle1",label:i.getMeridiemText("pm"),onClick:this.setMeridiemMode("pm")}))),this.props.children,Object(r.createElement)(Et,{date:o,type:this.state.openView,ampm:l,onHourChange:this.handleHourChange,onMinutesChange:this.handleMinutesChange,onSecondsChange:this.handleSecondsChange}))},t.defaultProps={children:null,ampm:!0,seconds:!1},t}(r.Component),wt=function(){return A()({toolbar:{flexDirection:"row",alignItems:"center"},toolbarLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{marginLeft:20,marginRight:-20},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelReverse:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row-reverse"}})},xt=M()(wt,{withTheme:!0,name:"MuiPickersTimePicker"})(ne()(St)),Ot=function(e){var t=e.value,a=(e.format,e.autoOk,e.onChange,e.ampm),o=e.forwardedRef,i=e.seconds,l=Object(n.c)(e,["value","format","autoOk","onChange","ampm","forwardedRef","seconds"]);return Object(r.createElement)(ie,Object(n.a)({mergePreviousDateOnChange:!0},e),function(e){var s=e.date,c=e.utils,u=e.handleAccept,d=e.handleChange,p=e.handleClear,f=e.handleDismiss,m=e.handleSetTodayDate,h=e.handleTextFieldChange,g=e.isAccepted,v=e.pick12hOr24hFormat;return Object(r.createElement)(he,Object(n.a)({ref:o,value:t,onClear:p,onAccept:u,onChange:h,onDismiss:f,onSetToday:m,isAccepted:g,format:v(c.time12hFormat,c.time24hFormat)},l),Object(r.createElement)(xt,{date:s,onChange:d,ampm:a,seconds:i}))})};Ot.defaultProps={value:new Date,format:void 0,autoOk:!1,ampm:!0,forwardedRef:void 0,seconds:!1};var kt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Ot,Object(n.a)({},e,{forwardedRef:t}))}),It=function(e){var t=e.value,a=(e.format,e.onChange,e.ampm),o=e.forwardedRef,i=e.seconds,l=Object(n.c)(e,["value","format","onChange","ampm","forwardedRef","seconds"]);return Object(r.createElement)(ie,Object(n.a)({mergePreviousDateOnChange:!0,autoOk:!0},e),function(e){var s=e.date,c=e.utils,u=e.handleChange,d=e.handleTextFieldChange,p=e.isAccepted,f=e.pick12hOr24hFormat,m=e.handleAccept;return Object(r.createElement)(qe,Object(n.a)({innerRef:o,value:t,onChange:d,isAccepted:p,handleAccept:m,format:f(c.time12hFormat,c.time24hFormat)},l),Object(r.createElement)(xt,{date:s,onChange:u,ampm:a,seconds:i}))})};It.defaultProps={ampm:!0,value:new Date,format:void 0,forwardedRef:void 0,seconds:!1};var Dt,Tt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(It,Object(n.a)({},e,{forwardedRef:t}))});!function(e){e.YEAR="year",e.DATE="date",e.HOUR="hours",e.MINUTES="minutes"}(Dt||(Dt={}));var Nt=Dt,Pt=function(e){return A()({toolbar:{flexDirection:"row",alignItems:"center",paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{top:9,position:"relative",marginLeft:10,marginRight:-10},ampmLabel:{fontSize:18},hourMinuteLabel:{top:5,position:"relative",display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"rtl"===e.direction?"row-reverse":"row"},dateHeader:{height:60},timeHeader:{height:65,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}})},At=function(e){var t=e.date,a=e.classes,n=e.openView,o=e.meridiemMode,i=e.onOpenViewChange,l=e.setMeridiemMode,s=e.utils,c=e.ampm;return Object(r.createElement)(ye,{className:a.toolbar},Object(r.createElement)("div",{className:a.dateHeader},Object(r.createElement)(Ee,{variant:"subtitle1",onClick:function(){return i(Nt.YEAR)},selected:n===Nt.YEAR,label:s.getYearText(t)}),Object(r.createElement)(Ee,{variant:"h4",onClick:function(){return i(Nt.DATE)},selected:n===Nt.DATE,label:s.getDateTimePickerHeaderText(t)})),Object(r.createElement)("div",{className:a.timeHeader},Object(r.createElement)("div",{className:a.hourMinuteLabel},Object(r.createElement)(Ee,{variant:"h3",onClick:function(){return i(Nt.HOUR)},selected:n===Nt.HOUR,label:s.getHourText(t,c)}),Object(r.createElement)(Ee,{variant:"h3",label:":",selected:!1,className:a.separator}),Object(r.createElement)(Ee,{variant:"h3",onClick:function(){return i(Nt.MINUTES)},selected:n===Nt.MINUTES,label:s.getMinuteText(t)})),c&&Object(r.createElement)("div",{className:a.ampmSelection},Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"am"===o,variant:"subtitle1",label:s.getMeridiemText("am"),onClick:l("am")}),Object(r.createElement)(Ee,{className:a.ampmLabel,selected:"pm"===o,variant:"subtitle1",label:s.getMeridiemText("pm"),onClick:l("pm")}))))};At.defaultProps={ampm:!0};var jt=M()(Pt,{name:"MuiPickerDTHeader"})(ne()(At)),Mt=function(e){return e===Nt.DATE||e===Nt.YEAR?"date":"time"},Ft=function(e){return"date"===e?Nt.DATE:Nt.HOUR},Rt=function(e){var t=e.view,a=e.onChange,n=e.classes,o=e.theme,i=e.dateRangeIcon,l=e.timeIcon,s="light"===o.palette.type?"secondary":"primary",u=function(e,n){n!==Mt(t)&&a(Ft(n))};return Object(r.createElement)(W.a,null,Object(r.createElement)(J.a,{fullWidth:!0,value:Mt(t),onChange:u,className:n.tabs,indicatorColor:s},Object(r.createElement)(q.a,{value:"date",icon:Object(r.createElement)(c.a,null,i)}),Object(r.createElement)(q.a,{value:"time",icon:Object(r.createElement)(c.a,null,l)})))},Bt=function(e){return{tabs:{color:e.palette.common.white,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default}}},_t=K()()(M()(Bt,{name:"MuiPickerDTTabs"})(Rt)),Lt=function(e){var t=e.selected,a=e.children;return t?Object(r.createElement)("div",{children:a}):null},Vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openView:t.props.openTo,meridiemMode:t.props.utils.getHours(t.props.date)>=12?"pm":"am"},t.onChange=function(e,a,n){void 0===a&&(a=!0),t.handleChange(e),a&&t.props.autoSubmit&&t.handleViewChange(n)},t.setMeridiemMode=function(e){return function(){t.setState({meridiemMode:e},function(){return t.handleChange(t.props.date,!1)})}},t.handleViewChange=function(e){t.setState({openView:e})},t.handleChange=function(e,a){void 0===a&&(a=!1);var n=it(e,t.state.meridiemMode,Boolean(t.props.ampm),t.props.utils);t.props.onChange(n,a)},t.handleYearChange=function(e){t.onChange(e,!1,Nt.DATE)},t.handleDayChange=function(e,a){t.onChange(e,a,Nt.HOUR)},t.handleHourChange=function(e,a){t.onChange(e,a,Nt.MINUTES)},t}return Object(n.b)(t,e),t.prototype.render=function(){var e=this.state,t=e.openView,a=e.meridiemMode,o=this.props,i=o.date,l=o.minDate,s=o.maxDate,c=o.showTabs,u=o.disablePast,d=o.disableFuture,p=o.leftArrowIcon,f=o.rightArrowIcon,m=o.dateRangeIcon,h=o.timeIcon,g=o.renderDay,v=o.ampm,y=o.shouldDisableDate,b=o.animateYearScrolling,C=o.allowKeyboardControl,E=o.ViewContainerComponent,S=E,w="string"==typeof E?{}:{openView:t,onChange:this.onChange};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(jt,{date:i,openView:t,meridiemMode:a,setMeridiemMode:this.setMeridiemMode,onOpenViewChange:this.handleViewChange,ampm:v}),c&&Object(r.createElement)(_t,{view:t,onChange:this.handleViewChange,dateRangeIcon:m,timeIcon:h}),Object(r.createElement)(S,Object(n.a)({},w),Object(r.createElement)(Lt,{selected:t===Nt.YEAR},Object(r.createElement)(He,{date:i,minDate:l,maxDate:s,onChange:this.handleYearChange,disablePast:u,disableFuture:d,animateYearScrolling:b})),Object(r.createElement)(Lt,{selected:t===Nt.DATE},Object(r.createElement)(Fe,{allowKeyboardControl:C,date:i,minDate:l,maxDate:s,onChange:this.handleDayChange,disablePast:u,disableFuture:d,leftArrowIcon:p,rightArrowIcon:f,renderDay:g,shouldDisableDate:y})),Object(r.createElement)(Lt,{selected:t===Nt.HOUR||t===Nt.MINUTES},Object(r.createElement)(Et,{date:i,type:t,onHourChange:this.handleHourChange,onMinutesChange:this.handleChange,onSecondsChange:this.handleChange,ampm:v}))))},t.defaultProps={allowKeyboardControl:!1,ampm:!0,animateYearScrolling:!1,autoSubmit:!0,dateRangeIcon:void 0,disableFuture:!1,disablePast:!1,leftArrowIcon:void 0,renderDay:void 0,rightArrowIcon:void 0,shouldDisableDate:void 0,showTabs:!0,timeIcon:void 0,ViewContainerComponent:"div"},t}(r.Component),Ht=ne()(Vt),Ut=function(e){var t=e.value,a=(e.format,e.autoOk,e.openTo),o=e.minDate,i=e.maxDate,l=(e.initialFocusedDate,e.showTabs),s=e.autoSubmit,c=e.disablePast,u=e.disableFuture,d=e.leftArrowIcon,p=e.rightArrowIcon,f=e.dateRangeIcon,m=e.timeIcon,h=e.renderDay,g=e.ampm,v=e.shouldDisableDate,y=e.animateYearScrolling,b=e.forwardedRef,C=e.allowKeyboardControl,E=Object(n.c)(e,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]),S=l&&"undefined"!=typeof window&&window.innerHeight>667;return Object(r.createElement)(ie,Object(n.a)({},e),function(e){var l=e.date,w=e.utils,x=e.handleAccept,O=e.handleChange,k=e.handleClear,I=e.handleDismiss,D=e.handleSetTodayDate,T=e.handleTextFieldChange,N=e.isAccepted,P=e.pick12hOr24hFormat;return Object(r.createElement)(he,Object(n.a)({showTabs:S,ref:b,disableFuture:u,disablePast:c,maxDate:i,minDate:o,onAccept:x,onChange:T,onClear:k,onDismiss:I,onSetToday:D,value:t,isAccepted:N,format:P(w.dateTime12hFormat,w.dateTime24hFormat)},E),Object(r.createElement)(Ht,{allowKeyboardControl:C,ampm:g,animateYearScrolling:y,autoSubmit:s,date:l,dateRangeIcon:f,disableFuture:u,disablePast:c,leftArrowIcon:d,maxDate:i,minDate:o,onChange:O,openTo:a,renderDay:h,rightArrowIcon:p,shouldDisableDate:v,showTabs:S,timeIcon:m}))})};Ut.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};var zt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Ut,Object(n.a)({},e,{forwardedRef:t}))}),Wt=function(e){var t=e.value,a=(e.format,e.autoOk,e.openTo),o=e.minDate,i=e.maxDate,l=(e.initialFocusedDate,e.showTabs),s=e.autoSubmit,c=e.disablePast,u=e.disableFuture,d=e.leftArrowIcon,p=e.rightArrowIcon,f=e.dateRangeIcon,m=e.timeIcon,h=e.renderDay,g=e.ampm,v=e.shouldDisableDate,y=e.animateYearScrolling,b=e.forwardedRef,C=e.allowKeyboardControl,E=Object(n.c)(e,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]);return Object(r.createElement)(ie,Object(n.a)({},e,{autoOk:!0}),function(e){var S=e.date,w=e.utils,x=e.handleChange,O=e.handleTextFieldChange,k=e.isAccepted,I=e.pick12hOr24hFormat,D=e.handleAccept;return Object(r.createElement)(qe,Object(n.a)({innerRef:b,disableFuture:u,disablePast:c,maxDate:i,minDate:o,onChange:O,value:t,isAccepted:k,handleAccept:D,format:I(w.dateTime12hFormat,w.dateTime24hFormat)},E),Object(r.createElement)(Ht,{allowKeyboardControl:C,ampm:g,animateYearScrolling:y,autoSubmit:s,date:S,dateRangeIcon:f,disableFuture:u,disablePast:c,leftArrowIcon:d,maxDate:i,minDate:o,onChange:x,openTo:a,renderDay:h,rightArrowIcon:p,shouldDisableDate:v,showTabs:l,timeIcon:m}))})};Wt.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};var Yt=Object(r.forwardRef)(function(e,t){return Object(r.createElement)(Wt,Object(n.a)({},e,{forwardedRef:t}))})},6077:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?f(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var m=n(a(4)),h=n(a(0)),g=a(6097),v={thousandSeparator:m.default.oneOfType([m.default.string,m.default.oneOf([!0])]),decimalSeparator:m.default.string,thousandsGroupStyle:m.default.oneOf(["thousand","lakh","wan"]),decimalScale:m.default.number,fixedDecimalScale:m.default.bool,displayType:m.default.oneOf(["input","text"]),prefix:m.default.string,suffix:m.default.string,format:m.default.oneOfType([m.default.string,m.default.func]),removeFormatting:m.default.func,mask:m.default.oneOfType([m.default.string,m.default.arrayOf(m.default.string)]),value:m.default.oneOfType([m.default.number,m.default.string]),defaultValue:m.default.oneOfType([m.default.number,m.default.string]),isNumericString:m.default.bool,customInput:m.default.func,allowNegative:m.default.bool,allowEmptyFormatting:m.default.bool,onValueChange:m.default.func,onKeyDown:m.default.func,onMouseUp:m.default.func,onChange:m.default.func,onFocus:m.default.func,onBlur:m.default.func,type:m.default.oneOf(["text","tel","password"]),isAllowed:m.default.func,renderText:m.default.func,getInputRef:m.default.func},y={displayType:"input",decimalSeparator:".",thousandsGroupStyle:"thousand",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,allowEmptyFormatting:!1,isNumericString:!1,type:"text",onValueChange:g.noop,onChange:g.noop,onKeyDown:g.noop,onMouseUp:g.noop,onFocus:g.noop,onBlur:g.noop,isAllowed:g.returnTrue,getInputRef:g.noop},b=function(e){function t(e){var a;i(this,t),a=c(this,u(t).call(this,e));var n=e.defaultValue;a.validateProps();var o=a.formatValueProp(n);return a.state={value:o,numAsString:a.removeFormatting(o)},a.selectionBeforeInput={selectionStart:0,selectionEnd:0},a.onChange=a.onChange.bind(f(f(a))),a.onKeyDown=a.onKeyDown.bind(f(f(a))),a.onMouseUp=a.onMouseUp.bind(f(f(a))),a.onFocus=a.onFocus.bind(f(f(a))),a.onBlur=a.onBlur.bind(f(f(a))),a}return d(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,a=this.state,n=this.focusedElm,o=a.value,r=a.numAsString,i=void 0===r?"":r;if(e!==t){this.validateProps();var l=this.formatNumString(i),s=void 0===t.value?l:this.formatValueProp(),c=this.removeFormatting(s),u=parseFloat(c),d=parseFloat(i);(isNaN(u)&&isNaN(d)||u===d)&&l===o&&(null!==n||s===o)||this.updateValue({formattedValue:s,numAsString:c,input:n})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.decimalScale,a=this.getSeparators(),n=a.decimalSeparator,o=this.getNumberRegex(!0),r="-"===e[0];r&&(e=e.replace("-","")),n&&0===t&&(e=e.split(n)[0]),e=(e.match(o)||[]).join("").replace(n,".");var i=e.indexOf(".");return-1!==i&&(e="".concat(e.substring(0,i),".").concat(e.substring(i+1,e.length).replace(new RegExp((0,g.escapeRegExp)(n),"g"),""))),r&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var a=this.props,n=a.format,o=a.decimalScale,r=this.getSeparators(),i=r.decimalSeparator;return new RegExp("\\d"+(!i||0===o||t||n?"":"|"+(0,g.escapeRegExp)(i)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props.decimalSeparator,t=this.props.thousandSeparator;return!0===t&&(t=","),{decimalSeparator:e,thousandSeparator:t}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,a=void 0===t?" ":t;return"string"==typeof a?a:a[e]||" "}},{key:"getValueObject",value:function(e,t){var a=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(a)?void 0:a}}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),a=t.decimalSeparator,n=t.thousandSeparator;if(a===n)throw new Error("\n          Decimal separator can't be same as thousand separator.\n          thousandSeparator: ".concat(n,' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: ').concat(a," (default value for decimalSeparator is .)\n       "));if(e){if(("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask ".concat(e," should not contain numeric character;\n        "))}}},{key:"setPatchedCaretPosition",value:function(e,t,a){(0,g.setCaretPosition)(e,t),setTimeout(function(){e.value===a&&(0,g.setCaretPosition)(e,t)},0)}},{key:"correctCaretPosition",value:function(e,t,a){var n=this.props,o=n.prefix,r=n.suffix,i=n.format;if(""===e)return 0;if(t=(0,g.clamp)(t,0,e.length),!i){var l="-"===e[0];return(0,g.clamp)(t,o.length+(l?1:0),e.length-r.length)}if("function"==typeof i)return t;if("#"===i[t]&&(0,g.charIsNumber)(e[t]))return t;if("#"===i[t-1]&&(0,g.charIsNumber)(e[t-1]))return t;var s=i.indexOf("#"),c=i.lastIndexOf("#");t=(0,g.clamp)(t,s,c+1);for(var u=i.substring(t,i.length).indexOf("#"),d=t,p=t+(-1===u?0:u);d>s&&("#"!==i[d]||!(0,g.charIsNumber)(e[d]));)d-=1;return!(0,g.charIsNumber)(e[p])||"left"===a&&t!==s||t-d<p-t?(0,g.charIsNumber)(e[d])?d+1:d:p}},{key:"getCaretPosition",value:function(e,t,a){var n,o,r=this.props.format,i=this.state.value,l=this.getNumberRegex(!0),s=(e.match(l)||[]).join(""),c=(t.match(l)||[]).join("");for(n=0,o=0;o<a;o++){var u=e[o]||"",d=t[n]||"";if((u.match(l)||u===d)&&("0"!==u||!d.match(l)||"0"===d||s.length===c.length)){for(;u!==t[n]&&n<t.length;)n++;n++}}return"string"!=typeof r||i||(n=t.length),n=this.correctCaretPosition(t,n)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,a=t.format,n=t.prefix,o=t.suffix;if(!a&&e){var r="-"===e[0];r&&(e=e.substring(1,e.length)),e=n&&0===e.indexOf(n)?e.substring(n.length,e.length):e;var i=e.lastIndexOf(o);e=o&&-1!==i&&i===e.length-o.length?e.substring(0,i):e,r&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format,a=t.split("#").filter(function(e){return""!==e}),n=0,o="",r=0,i=a.length;r<=i;r++){var l=a[r]||"",s=r===i?e.length:e.indexOf(l,n);if(-1===s){o=e;break}o+=e.substring(n,s),n=s+l.length}return(o.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,a=t.format,n=t.removeFormatting;return e?(a?e="string"==typeof a?this.removePatternFormatting(e):"function"==typeof n?n(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,a=0,n=t.split(""),o=0,r=t.length;o<r;o++)"#"===t[o]&&(n[o]=e[a]||this.getMaskAtIndex(a),a+=1);return n.join("")}},{key:"formatAsNumber",value:function(e){var t=this.props,a=t.decimalScale,n=t.fixedDecimalScale,o=t.prefix,r=t.suffix,i=t.allowNegative,l=t.thousandsGroupStyle,s=this.getSeparators(),c=s.thousandSeparator,u=s.decimalSeparator,d=-1!==e.indexOf(".")||a&&n,p=(0,g.splitDecimal)(e,i),f=p.beforeDecimal,m=p.afterDecimal,h=p.addNegation;if(void 0!==a&&(m=(0,g.limitToScale)(m,a,n)),c){var v=(0,g.getThousandsGroupRegex)(l);f=f.replace(v,"$1"+c)}return o&&(f=o+f),r&&(m+=r),h&&(f="-"+f),e=f+(d&&u||"")+m}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props,a=t.format,n=t.allowEmptyFormatting,o=e;return""!==e||n?"-"!==e||a?o="string"==typeof a?this.formatWithPattern(o):"function"==typeof a?a(o):this.formatAsNumber(o):(o="-",e=""):o="",o}},{key:"formatValueProp",value:function(e){var t=this.props,a=t.format,n=t.decimalScale,o=t.fixedDecimalScale,r=t.allowEmptyFormatting,i=this.props,l=i.value,s=void 0===l?e:l,c=i.isNumericString,u=!s&&0!==s;return u&&r&&(s=""),u&&!r?"":("number"==typeof s&&(s=s.toString(),c=!0),c&&!a&&"number"==typeof n&&(s=(0,g.roundToPrecision)(s,n,o)),c?this.formatNumString(s):this.formatInput(s))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,a=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),o=a.test(e),r=n.test(e);return e=e.replace(/-/g,""),o&&!r&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.removePrefixAndSuffix(e),e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var a=this.props,n=a.format,o=a.prefix,r=a.suffix,i=a.decimalScale,l=a.fixedDecimalScale,s=this.getSeparators(),c=s.decimalSeparator;return"string"==typeof n&&"#"!==n[e]||!(n||!(e<o.length||e>=t.length-r.length||i&&l&&t[e]===c))}},{key:"checkIfFormatGotDeleted",value:function(e,t,a){for(var n=e;n<t;n++)if(this.isCharacterAFormat(n,a))return!0;return!1}},{key:"correctInputValue",value:function(e,t,a){var n=this.props,o=n.format,r=n.allowNegative,i=n.prefix,l=n.suffix,s=this.getSeparators(),c=s.decimalSeparator,u=this.state.numAsString||"",d=this.selectionBeforeInput,p=d.selectionStart,f=d.selectionEnd,m=(0,g.findChangedIndex)(t,a),h=m.start,v=m.end;if(!o&&"."!==c&&h===v&&"."===a[p])return a.substr(0,p)+c+a.substr(p+1,a.length);var y=o?0:i.length,b=t.length-(o?0:l.length);if(a.length>t.length||!a.length||h===v||0===p&&f===t.length||p===y&&f===b)return a;if(this.checkIfFormatGotDeleted(h,v,t)&&(a=t),!o){var C=this.removeFormatting(a),E=(0,g.splitDecimal)(C,r),S=E.beforeDecimal,w=E.afterDecimal,x=E.addNegation,O=e<a.indexOf(c)+1;if(C.length<u.length&&O&&""===S&&!parseFloat(w))return x?"-":""}return a}},{key:"updateValue",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.noop,n=e.formattedValue,o=e.input,r=e.numAsString,i=e.caretPos,l=this.props.onValueChange,s=this.state.value;if(o){if(!i){var c=e.inputValue||o.value,u=(0,g.getCurrentCaretPosition)(o);i=this.getCaretPosition(c,n,u)}o.value=n,this.setPatchedCaretPosition(o,i,n)}void 0===r&&(r=this.removeFormatting(n)),n!==s?this.setState({value:n,numAsString:r},function(){l(t.getValueObject(n,r)),a()}):a()}},{key:"onChange",value:function(e){e.persist();var t=e.target,a=t.value,n=this.state,o=this.props,r=o.isAllowed,i=n.value||"",l=(0,g.getCurrentCaretPosition)(t);a=this.correctInputValue(l,i,a);var s=this.formatInput(a)||"",c=this.removeFormatting(s);r(this.getValueObject(s,c))||(s=i),this.updateValue({formattedValue:s,numAsString:c,inputValue:a,input:t},function(){o.onChange(e)})}},{key:"onBlur",value:function(e){var t=this.props,a=this.state,n=t.format,o=t.onBlur,r=a.numAsString,i=a.value;if(this.focusedElm=null,!n){r=(0,g.fixLeadingZero)(r);var l=this.formatNumString(r);if(l!==i)return e.persist(),void this.updateValue({formattedValue:l,numAsString:r},function(){o(e)})}o(e)}},{key:"onKeyDown",value:function(e){var t,a=e.target,n=e.key,o=a.selectionStart,r=a.selectionEnd,i=a.value,l=void 0===i?"":i,s=this.props,c=s.decimalScale,u=s.fixedDecimalScale,d=s.prefix,p=s.suffix,f=s.format,m=s.onKeyDown,h=(s.onValueChange,void 0!==c&&u),g=this.getNumberRegex(!1,h),v=new RegExp("-"),y="string"==typeof f;if(this.selectionBeforeInput={selectionStart:o,selectionEnd:r},"ArrowLeft"===n||"Backspace"===n?t=o-1:"ArrowRight"===n?t=o+1:"Delete"===n&&(t=o),void 0===t||o!==r)return void m(e);var b=t,C=y?f.indexOf("#"):d.length,E=y?f.lastIndexOf("#")+1:l.length-p.length;if("ArrowLeft"===n||"ArrowRight"===n){var S="ArrowLeft"===n?"left":"right";b=this.correctCaretPosition(l,t,S)}else if("Delete"!==n||g.test(l[t])||v.test(l[t])){if("Backspace"===n&&!g.test(l[t]))if(o<=C+1&&"-"===l[0]&&void 0===f){var w=l.substring(1);e.persist(),this.updateValue({formattedValue:w,caretPos:b,input:a})}else if(!v.test(l[t])){for(;!g.test(l[b-1])&&b>C;)b--;b=this.correctCaretPosition(l,b,"left")}}else for(;!g.test(l[b])&&b<E;)b++;(b!==t||t<C||t>E)&&(e.preventDefault(),this.setPatchedCaretPosition(a,b,l)),e.isUnitTestRun&&this.setPatchedCaretPosition(a,b,l),this.props.onKeyDown(e)}},{key:"onMouseUp",value:function(e){var t=e.target,a=t.selectionStart,n=t.selectionEnd,o=t.value,r=void 0===o?"":o;if(a===n){var i=this.correctCaretPosition(r,a);i!==a&&this.setPatchedCaretPosition(t,i,r)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),this.focusedElm=e.target,setTimeout(function(){var a=e.target,n=a.selectionStart,o=a.selectionEnd,r=a.value,i=void 0===r?"":r,l=t.correctCaretPosition(i,n);l===n||0===n&&o===i.length||t.setPatchedCaretPosition(a,l,i),t.props.onFocus(e)},0)}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.displayType,n=e.customInput,o=e.renderText,i=e.getInputRef,l=this.state.value,s=(0,g.omit)(this.props,v),c=r({},s,{type:t,value:l,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===a)return o?o(l)||null:h.default.createElement("span",r({},s,{ref:i}),l);if(n){var u=n;return h.default.createElement(u,c)}return h.default.createElement("input",r({},c,{ref:i}))}}]),t}(h.default.Component);b.propTypes=v,b.defaultProps=y;var C=b;t.default=C,e.exports=t.default},6078:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(8),p=n(d),f=a(33),m=n(f),h=a(21),g=n(h),v=a(327),y=n(v),b=a(29),C=n(b),E=a(116),S=n(E),w=a(170),x=n(w),O=a(6079),k=n(O),I=a(40),D=n(I),T=a(41),N=n(T),P=a(4),A=n(P),j=a(167),M=n(j),F=a(35),R=n(F),B=a(68),_=n(B),L=a(338),V=n(L),H=function(e){return{dueDetailsRoot:{borderRadius:"0",background:"transparent"},postCallDueDetailsRoot:{borderRadius:"0",height:"60vh",overflowY:"auto",backgroundColor:e.palette.solidBackground.main},menuItemRoot:{color:e.palette.primary.main,fontSize:".9rem",padding:"1.5vh 1.09vw"},menuPaper:{backgroundColor:e.palette.solidBackground.main,overflowY:"auto",border:"2px solid white"},checkedIcon:{color:e.palette.secondary.main,width:"calc(1.2vh + 1.2vw)",height:"calc(1.2vh + 1.2vw)"},selectFilter:{minWidth:120,color:e.palette.primary.main,fontSize:".9rem !important",marginLeft:"1.718vw"},emailIcon:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)"},enabledEmailIcon:{cursor:"pointer"},disabledEmailIcon:{opacity:".5"},blackText:{color:e.palette.primary.main,fontSize:".9rem"},selectMenu:{fontSize:".9rem !important",color:e.palette.primary.main,borderBottom:"1px solid rgba(255,255,255,.2)"},clearSelections:{marginLeft:".5rem",opacity:.65,fontSize:"0.888rem",color:e.palette.primary.main},clearSelectionsParent:{display:"flex",alignItems:"center",color:e.palette.primary.main,fontSize:"1rem",cursor:"pointer",paddingRight:".45rem"},selectIcon:{color:e.palette.secondary.main,opacity:.6},selectLinePostCall:{boxShadow:"none",borderBottom:".7px solid #596A75 !important",padding:".7vh 0"},selectLineInCall:{boxShadow:"none",marginTop:"2.037vh"},invoiceBucketCheckbox:{width:"3.125vw"},checkBoxRoot:{padding:"0"},clearSelectionGrid:{justifyContent:"flex-end"}}},U={invoices:[],filterInvoices:function(){},bucketNames:[]},z=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));W.call(a),a.totalRows=0;for(var n={},i=0;i<e.invoices.length;i++){a.totalRows=a.totalRows+e.invoices[i].length;for(var l=0;l<e.invoices[i].length;l++)e.correctInvoicesMap&&e.invoices[i][l].id in e.correctInvoicesMap?n[e.invoices[i][l].id]=!0:n[e.invoices[i][l].id]=!1}return 1==a.props.postCall&&a.props.setSelectedInvoices(n),a.state={invoices:e.invoices,invoiceType:"All",selectedInvoices:n,allInvoices:e.invoices,globalCheck:!1,isBulkEmail:!0,collector:a.props.collector,customer:a.props.customer,snackBarOpen:!1,snackBarMessage:""},a.props.filterInvoices("All"),a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({invoices:e.invoices,allInvoices:e.invoices},function(){t.setCheck(e.invoices,t.state.selectedInvoices)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=this.props.bucketNames;return c.default.createElement(m.default,{className:this.props.postCall?a.postCallDueDetailsRoot:a.dueDetailsRoot,elevation:0},c.default.createElement(C.default,{container:!0,alignItems:"center",className:this.props.postCall?a.selectLinePostCall:a.selectLineInCall},c.default.createElement(C.default,{item:!0,className:a.invoiceBucketCheckbox,align:"center"},c.default.createElement(y.default,{classes:{root:a.checkBoxRoot},icon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.globalCheck,onClick:this.handleChange})),c.default.createElement(C.default,{item:!0,xs:1},c.default.createElement("span",{className:a.blackText},"Select All")),c.default.createElement(C.default,{item:!0,xs:1,align:"right"},c.default.createElement(g.default,{style:{color:n.palette.primary.main,opacity:.5}},"View  :")),c.default.createElement(C.default,{item:!0,xs:4},c.default.createElement(S.default,{className:(0,p.default)(a.selectFilter),value:this.state.invoiceType,onChange:this.handleFilterChange,classes:{icon:a.selectIcon,selectMenu:a.selectMenu},MenuProps:{classes:{paper:a.menuPaper}},inputProps:{name:"invoiceType",disableUnderline:!0}},c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"All"},"All"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Broken P2P"},"Broken P2P"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Upcoming P2P"},"Upcoming P2P"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Dispute"},"Dispute"),c.default.createElement(x.default,{classes:{root:a.menuItemRoot},value:"Predicted Delinquent"},"Predicted Delinquent"))),this.props.postCall&&c.default.createElement(C.default,{item:!0,xs:5,align:"right",className:(0,p.default)(a.clearSelectionGrid,a.centerFlexBox)},c.default.createElement("div",{onClick:this.clearSelections,className:a.clearSelectionsParent},c.default.createElement(V.default,{style:{fontSize:"1.1rem",opacity:.65}})," ",c.default.createElement("span",{className:a.clearSelections},"Clear Selections ",this.selectedInvoicesLength()))),!this.props.postCall&&c.default.createElement(C.default,{item:!0,xs:5,align:"right",style:{paddingRight:"0vw"}},this.props.emailOfCalled&&!this.state.isBulkEmail&&c.default.createElement("img",{className:(0,p.default)(a.emailIcon,a.enabledEmailIcon),onClick:this.sendBulkEmail,src:"/tovo/static/Email.svg"}),this.props.emailOfCalled&&!this.state.isBulkEmail&&c.default.createElement("img",{className:(0,p.default)(a.emailIcon,a.disabledEmailIcon),src:"/tovo/static/Email.svg"}))),this.state.invoices.map(function(t,a){return c.default.createElement(k.default,{emailOfCalled:e.props.emailOfCalled,postCall:e.props.postCall,collector:e.props.collector,customer:e.props.customer,selectedInvoices:e.state.selectedInvoices,invoices:t,individual:!1,days:o[a],invoiceType:e.state.invoiceType,updateGlobalMap:e.updateGlobalMap})}),c.default.createElement(M.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:c.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[c.default.createElement(R.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},c.default.createElement(_.default,null))]}))}}]),t}(c.default.Component),W=function(){var e=this;this.setCheck=function(t,a){for(var n=!1,o=t,r=!1,i=0,l=0;l<o.length;l++){i+=o[l].length;for(var s=0;s<o[l].length;s++)if(0==e.state.selectedInvoices[o[l][s].id]){r=!0;break}}for(var l=0;l<o.length;l++)for(var s=0;s<o[l].length;s++)if(1==e.state.selectedInvoices[o[l][s].id]){n=!0,e.setState({isBulkEmail:!1});break}n||e.setState({isBulkEmail:!0}),0==i&&(r=!0),1==r?e.setState({globalCheck:!1}):e.setState({globalCheck:!0})},this.updateGlobalMap=function(t,a,n){var o;switch(a){case"add":o=e.state.selectedInvoices,o[t]=!0,e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"remove":o=e.state.selectedInvoices,o[t]=!1,e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"addArray":if(1==n){o=e.state.selectedInvoices;for(var r=0;r<t.length;r++)o[t[r].id]=!0;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break}o=e.state.selectedInvoices;for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)o[t[i][r].id]=!0;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"removeArray":if(1==n){o=e.state.selectedInvoices;for(var r=0;r<t.length;r++)o[t[r].id]=!1;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break}o=e.state.selectedInvoices;for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)o[t[i][r].id]=!1;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o)}1==e.props.postCall&&e.props.setSelectedInvoices(o)},this.handleChange=function(){1==e.state.globalCheck?e.updateGlobalMap(e.state.invoices,"removeArray",!1):e.updateGlobalMap(e.state.invoices,"addArray",!1)},this.clearSelections=function(){e.updateGlobalMap(e.state.invoices,"removeArray",!1)},this.findType=function(e){return e.p2pDelinquent?"Predicted Delinqment":e.p2pUpcoming?"Upcoming P2P":e.p2pBroken?"Broken P2P":"Dispute"},this.handleFilterChange=function(t){e.setState({invoiceType:t.target.value}),e.props.filterInvoices(t.target.value)},this.preventDefault=function(e){e.preventDefault()},this.openSnackBarWithMessage=function(t){e.setState({snackBarMessage:t}),e.setState({snackBarOpen:!0})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.sendBulkEmail=function(){for(var t=e.state.invoices,a=[],n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)1==e.state.selectedInvoices[t[n][o].id]&&a.push(t[n][o].id);var r={customerId:e.state.customer.id,documentIds:a,from:e.state.collector.emailId,to:e.props.emailOfCalled};N.default.post(D.default.apiUrl+"/correspondence/invoicecopy",r).then(function(t){e.openSnackBarWithMessage("Email sent")}).catch(function(t){e.openSnackBarWithMessage("Error in sending email")})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0;for(var n in t)1==t[n]&&a++;if(0!=a)return"("+a+")"}};z.propTypes={classes:A.default.object.isRequired,invoices:A.default.array,filterInvoices:A.default.func},z.defaultProps=U,t.default=(0,u.withStyles)(H,{withTheme:!0})(z)},6079:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(176),f=n(p),m=a(177),h=n(m),g=a(334),v=n(g),y=a(8),b=n(y),C=a(67),E=a(21),S=n(E),w=a(339),x=n(w),O=a(327),k=n(O),I=a(29),D=n(I),T=a(68),N=n(T),P=a(354),A=n(P),j=a(116),M=n(j),F=a(170),R=n(F),B=a(40),_=n(B),L=a(41),V=n(L),H=a(4),U=n(H),z=a(167),W=n(z),Y=a(35),K=n(Y),G=a(115),q=a(31),X=n(q),J=a(32),Z=n(J),Q=a(328),$=n(Q),ee=a(329),te=n(ee),ae=function(e){var t;return t={root:{padding:"0"},menuItemRoot:{color:e.palette.primary.main,fontSize:".9rem",padding:"1.5vh 1.09vw"},menuPaper:{backgroundColor:e.palette.solidBackground.main,overflowY:"auto"},postCallRoot:{padding:"0",marginTop:".8vh"},icon:{color:e.palette.primary.main,width:"1.25vw",height:"2.22vh",opacity:".6"},checkedIcon:{color:e.palette.secondary.main,zIndex:"3",height:"calc(1.2vh + 1.2vw)",width:"calc(1.2vh + 1.2vw)"},selectFilter:{minWidth:120,marginLeft:"1.718vw"},gridList:{width:"100%",height:"100%",margin:"0 -2px -2px -2px !important",overflow:"hidden"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{backgroundColor:"#39586F"},shift:{margin:"1rem 1rem 0 1rem"},blackText:{color:e.palette.primary.main,fontSize:".95rem",textAlign:"center"},greyText:{opacity:".65"},bucketHeaderText:{color:e.palette.primary.main,fontSize:".9rem"},changeRowBackground:{backgroundColor:"#586973"},defaultBackground:{borderBottom:".7px solid #395C73 !important",height:"5.65vh"},invoiceHeaderText:{fontSize:".9rem",color:e.palette.primary.main,opacity:".5"},panelSummary:{padding:"0",margin:"0"},content:{margin:"0 !important"},expandIcon:{color:e.palette.secondary.main},individualInvoiceHeader:{boxShadow:"none",padding:"2.037vh 1rem 0 1rem"},iconSize:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)"},enabledEmailIcon:{cursor:"pointer"},disabledEmailIcon:{opacity:".5"},summaryExpanded:{minHeight:"5.55vh !important"},disableTimeline:{marginTop:"2.2rem",marginLeft:".2rem"},timeline:{borderLeft:"1px solid #596A75"}},l(t,"disableTimeline",{}),l(t,"postCallTimeline",{borderLeft:"1px solid #395C73"}),l(t,"selectIcon",{color:e.palette.primary.main,opacity:.6}),l(t,"summaryContent",{boxShadow:"none",paddingRight:"0 !important"}),l(t,"invoiceNumberColumn",{width:"14%"}),l(t,"amountColumn",{width:"12%"}),l(t,"brokenColumn",{width:"13.5%"}),l(t,"upcomingColumn",{width:"14%"}),l(t,"disputeColumn",{width:"13%"}),l(t,"predictedColumn",{width:"18%"}),l(t,"checkBoxColumn",{textAlign:"center",minWidth:"3.125vw"}),l(t,"borderBottom",{borderBottom:".7px solid #395C73 !important"}),l(t,"emailColumn",{justifyContent:"flex-end"}),l(t,"invoiceBucketCheckbox",{width:"3.125vw",height:"5.55vh"}),l(t,"verticalTimeline",{width:"3.125vw"}),l(t,"connector",{height:"5.55vh"}),l(t,"checkBoxRoot",{padding:"0"}),l(t,"individualBucketCheckbox",{minWidth:"3.125vw"}),l(t,"selectMenu",{fontSize:".9rem !important",color:e.palette.primary.main,borderBottom:"1px solid rgba(255,255,255,.2)"}),l(t,"gridListTile",{height:"auto !important"}),t},ne={invoices:[],selectedInvoices:[],filterInvoices:function(){}},oe=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));re.call(a);var n;a.totalAmount=0;for(var i={},l=0;l<e.invoices.length;l++)a.totalAmount=a.totalAmount+e.invoices[l].currentOpenAmount,i[e.invoices[l].id]=!1;var s,c;return a.props.individual?(s=i,c="All",a.props.filterInvoices("All"),n=!0):(s=a.props.selectedInvoices,c=e.invoiceType,n=!1),a.state={checked:!1,invoices:e.invoices,allInvoices:e.invoices,selectedInvoices:s,days:e.days,totalAmount:a.totalAmount,invoiceType:c,expanded:n,isBulkEmail:!0,customer:a.props.customer,collector:a.props.collector,snackBarOpen:!1,snackBarMessage:""},a}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){for(var t=0,a=0;a<e.invoices.length;a++)t+=e.invoices[a].currentOpenAmount;e.individual?(this.setState({totalAmount:t,invoices:e.invoices,allInvoices:e.invoices}),this.setCheck(e.invoices,this.state.selectedInvoices)):(this.setState({totalAmount:t,invoices:e.invoices,allInvoices:e.invoices,selectedInvoices:e.selectedInvoices}),this.setCheck(e.invoices,this.state.selectedInvoices))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{style:{position:"relative"}},this.props.individual&&u.default.createElement(D.default,{container:!0,xs:12,alignItems:"center",justify:"space-between",className:a.individualInvoiceHeader},u.default.createElement(D.default,{item:!0,align:"center",style:{zIndex:"5"},className:a.individualBucketCheckbox},u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.checked,onClick:function(){return e.checkAllInvoices(event)}})),u.default.createElement(D.default,{item:!0,xs:1},u.default.createElement("span",{className:a.bucketHeaderText},"Select All")),u.default.createElement(D.default,{item:!0,xs:1,align:"right"},u.default.createElement(S.default,{style:{color:"#989898"}},"View  :  ")),u.default.createElement(D.default,{item:!0,xs:4},u.default.createElement(M.default,{className:(0,b.default)(a.selectFilter),value:this.state.invoiceType,classes:{icon:a.selectIcon,selectMenu:a.selectMenu},onChange:this.handleFilterChange,inputProps:{name:"invoiceType"},MenuProps:{classes:{paper:a.menuPaper}}},u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"All"},"All"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Broken P2P"},"Broken P2P"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Upcoming P2P"},"Upcoming P2P"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Dispute"},"Dispute"),u.default.createElement(R.default,{classes:{root:a.menuItemRoot},value:"Predicted Delinquent"},"Predicted Delinquent"))),u.default.createElement(D.default,{item:!0,xs:5,align:"right"},this.props.emailOfCalled&&!this.state.isBulkEmail&&u.default.createElement("img",{className:(0,b.default)(a.iconSize,a.enabledEmailIcon),onClick:this.sendBulkEmail,src:"/tovo/static/Email.svg"}),this.props.emailOfCalled&&!this.state.isBulkEmail&&u.default.createElement("img",{className:(0,b.default)(a.iconSize,a.disabledEmailIcon),src:"/tovo/static/Email.svg"}))),u.default.createElement(D.default,{container:!0,alignItems:"flex-start"},u.default.createElement(D.default,{item:!0,xs:12,className:this.props.individual?a.shift:a.noShift},u.default.createElement(f.default,{style:{boxShadow:"none",backgroundColor:"transparent"},defaultExpanded:this.props.individual,expanded:this.state.expanded},!this.props.individual&&u.default.createElement(h.default,{className:a.panelSummary,classes:{content:a.content,expanded:a.summaryExpanded}},u.default.createElement(D.default,{container:!0,alignItems:"center",className:a.summaryContent},u.default.createElement(D.default,{item:!0,className:(0,b.default)(a.invoiceBucketCheckbox,a.centerFlexBox),align:"center"},u.default.createElement("div",{className:a.connector}),u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.checked,onClick:function(){return e.checkAllInvoices(event)}})),u.default.createElement(D.default,{container:!0,alignItems:"center",justify:"space-between",item:!0,xs:11,align:"left",onClick:this.toggleExpand,className:a.borderBottom},u.default.createElement(D.default,{item:!0,xs:10},u.default.createElement("span",{className:a.bucketHeaderText},this.state.days," "),u.default.createElement("span",{className:(0,b.default)(a.greyText,a.bucketHeaderText)},this.selectedInvoicesLength())),u.default.createElement(D.default,{item:!0,xs:2,align:"right"},!this.state.expanded&&u.default.createElement(x.default,{className:(0,b.default)(a.expandIcon,a.iconSize)}),this.state.expanded&&u.default.createElement(G.ExpandLess,{className:(0,b.default)(a.expandIcon,a.iconSize)}))))),u.default.createElement(v.default,{className:this.props.postCall?a.postCallRoot:a.root},!this.props.postCall&&u.default.createElement(D.default,{container:!0},!this.props.individual&&u.default.createElement(D.default,{item:!0,container:!0,className:a.verticalTimeline,justify:"center"},u.default.createElement(D.default,{item:!0,className:this.props.individual?a.disableTimeline:a.timeline})),u.default.createElement(D.default,{item:!0,container:!0,xs:this.props.individual?12:11,alignItems:"center",justify:"center"},u.default.createElement(D.default,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between",style:{marginTop:"1.34vh"}},u.default.createElement(D.default,{item:!0,className:a.checkBoxColumn},u.default.createElement("span",null)),u.default.createElement(D.default,{item:!0,align:"center",className:(0,b.default)(a.invoiceNumberColumn,a.invoiceHeaderText,a.centerFlexBox)},"Invoice Number"),u.default.createElement(D.default,{item:!0,align:"right",className:(0,b.default)(a.amountColumn,a.invoiceHeaderText,a.centerFlexBox)},"Amount"),u.default.createElement(D.default,{item:!0,align:"center",className:(0,b.default)(a.brokenColumn,a.invoiceHeaderText,a.centerFlexBox)},"Broken P2P"),u.default.createElement(D.default,{item:!0,align:"center",className:(0,b.default)(a.upcomingColumn,a.invoiceHeaderText,a.centerFlexBox)},"Upcoming P2P"),u.default.createElement(D.default,{item:!0,align:"center",className:(0,b.default)(a.disputeColumn,a.invoiceHeaderText,a.centerFlexBox)},"Dispute"),u.default.createElement(D.default,{item:!0,align:"center",className:(0,b.default)(a.predictedColumn,a.invoiceHeaderText,a.centerFlexBox)},"Predicted Delinquent"),u.default.createElement(D.default,{item:!0,xs:1,className:(0,b.default)(a.emailColumn,a.centerFlexBox)})),this.state.invoices.map(function(t,n){return u.default.createElement(D.default,{item:!0,container:!0,alignItems:"center",justify:"space-between",xs:12,className:e.state.selectedInvoices[t.id]?(0,b.default)(a.changeRowBackground,a.defaultBackground):a.defaultBackground,key:t.id+"row"},u.default.createElement(D.default,{item:!0,className:a.checkBoxColumn,align:"center",padding:"checkbox"},u.default.createElement(k.default,{classes:{root:a.checkBoxRoot},id:t.id,icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:1==e.state.selectedInvoices[t.id],onClick:function(){return e.addInvoice(t.id)}})),u.default.createElement(D.default,{align:"center",numeric:!0,className:(0,b.default)(a.invoiceNumberColumn,a.blackText,a.centerFlexBox)},t.documentNumber),u.default.createElement(D.default,{align:"right",numeric:!0,className:(0,b.default)(a.amountColumn,a.blackText,a.centerFlexBox)},"$"+(0,C.formatter)(t.currentOpenAmount)),u.default.createElement(D.default,{className:(0,b.default)(a.brokenColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pBroken?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(D.default,{className:(0,b.default)(a.upcomingColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pUpcoming?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(D.default,{className:(0,b.default)(a.disputeColumn,a.centerFlexBox),align:"center",numeric:!0},null!=t.disputeStatus?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(D.default,{className:(0,b.default)(a.predictedColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pDelinquent?u.default.createElement(A.default,{className:a.icon}):u.default.createElement(N.default,{className:a.icon})),u.default.createElement(D.default,{className:(0,b.default)(a.emailColumn,a.centerFlexBox),xs:1,align:"right"},e.props.emailOfCalled&&!e.state.selectedInvoices[t.id]&&u.default.createElement("img",{className:(0,b.default)(a.iconSize,a.enabledEmailIcon),onClick:function(){return e.sendEmail(t.id)},src:"/tovo/static/Email.svg"})))}))),this.props.postCall&&u.default.createElement(D.default,{container:!0},u.default.createElement(D.default,{item:!0,container:!0,className:a.verticalTimeline,justify:"center"},u.default.createElement(D.default,{item:!0,className:a.postCallTimeline})),u.default.createElement(D.default,{item:!0,xs:11},u.default.createElement($.default,{cellHeight:"auto",className:a.gridList},this.state.invoices.map(function(t){return u.default.createElement(te.default,{cols:1,key:t.id,classes:{tile:a.gridListTile},style:{height:"auto",width:"16vw",margin:"0.2rem"}},u.default.createElement("div",{className:1==e.state.selectedInvoices[t.id]?a.selectedGridListDiv:a.gridListDiv},u.default.createElement(k.default,{style:{padding:"2px",alignItems:"center",left:"3%"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),id:t.id,checked:1==e.state.selectedInvoices[t.id],onClick:function(){return e.addInvoice(t.id)}}),u.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},u.default.createElement(S.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.65,lineHeight:"1.7rem"}},t.documentNumber),u.default.createElement(S.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",(0,C.formatter)(t.currentOpenAmount)))))})))))))),u.default.createElement(W.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[u.default.createElement(K.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(N.default,null))]}))}}]),t}(u.default.Component),re=function(){var e=this;this.handleFilterChange=function(t){e.setState({invoiceType:t.target.value}),e.props.filterInvoices(t.target.value)},this.toggleExpand=function(){1==e.state.expanded?e.setState({expanded:!1}):e.setState({expanded:!0})},this.addInvoice=function(t){0==e.state.selectedInvoices[t]?e.props.individual?e.updateLocalMap(t,"add"):e.props.updateGlobalMap(t,"add",!0):e.props.individual?e.updateLocalMap(t,"remove"):e.props.updateGlobalMap(t,"remove",!0)},this.checkAllInvoices=function(t){1==e.state.checked?(e.setState({checked:!1}),e.props.individual?e.updateLocalMap(e.state.invoices,"removeArray"):e.props.updateGlobalMap(e.state.invoices,"removeArray",!0)):(e.setState({checked:!0}),e.props.individual?e.updateLocalMap(e.state.invoices,"addArray"):e.props.updateGlobalMap(e.state.invoices,"addArray",!0))},this.updateLocalMap=function(t,a){switch(a){case"add":var n=e.state.selectedInvoices;n[t]=!0,e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"remove":var n=e.state.selectedInvoices;n[t]=!1,e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"addArray":for(var n=e.state.selectedInvoices,o=0;o<t.length;o++)n[t[o].id]=!0;e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"removeArray":for(var n=e.state.selectedInvoices,o=0;o<t.length;o++)n[t[o].id]=!1;e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n)}},this.setCheck=function(){for(var t=e.state.invoices,a=!1,n=!1,o=0;o<t.length;o++)if(1==e.state.selectedInvoices[t[o].id]){n=!0,e.setState({isBulkEmail:!1});break}n||e.setState({isBulkEmail:!0});for(var r=0;r<t.length;r++)if(0==e.state.selectedInvoices[t[r].id]){a=!0;break}0==t.length&&(a=!0),1==a?e.setState({checked:!1}):e.setState({checked:!0})},this.openSnackBarWithMessage=function(t){e.setState({snackBarMessage:t}),e.setState({snackBarOpen:!0})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.sendEmail=function(t){var a={customerId:e.state.customer.id,documentIds:[t],from:e.state.collector.emailId,to:e.props.emailOfCalled};V.default.post(_.default.apiUrl+"/correspondence/invoicecopy",a).then(function(t){e.openSnackBarWithMessage("Email sent"),console.log(t.data),console.log(t.status),console.log(t.statusText)}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),console.log(t)})},this.sendBulkEmail=function(){console.log("Sending Bulk email");for(var t=e.state.invoices,a=[],n=0;n<t.length;n++)1==e.state.selectedInvoices[t[n].id]&&a.push(t[n].id);var o={customerId:e.state.customer.id,documentIds:a,from:e.state.collector.emailId,to:e.props.emailOfCalled};V.default.post(_.default.apiUrl+"/correspondence/invoicecopy",o).then(function(t){e.openSnackBarWithMessage("Email sent"),console.log(t.data),console.log(t.status),console.log(t.statusText)}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),console.log(t)})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0,n=e.state.invoices;for(var o in n)1==t[n[o].id]&&a++;return 0!=a&&e.props.postCall?"("+a+" Selected)":"(Total: $"+(0,C.formatter)(e.state.totalAmount,"")+" - "+e.state.invoices.length+" Invoices)"}};oe.propTypes={classes:U.default.object.isRequired,invoices:U.default.array,filterInvoices:U.default.func},oe.defaultProps=ne;var ie=(0,X.default)(ae,Z.default);t.default=(0,d.withStyles)(ie,{withTheme:!0})(oe)},6080:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(19),p=a(4),f=(n(p),a(29)),m=n(f),h=a(6081),g=n(h),v=function(e){return{}},y=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.autoScroll,a=(e.classes,e.className),n=e.transcriptChatProps,o=e.transcriptTitleClassName;return u.default.createElement(m.default,{item:!0,xs:12,container:!0,className:a},u.default.createElement("span",{className:o},"CALL TRANSCRIPT"),u.default.createElement(g.default,l({autoScroll:t},n)))}}]),t}(c.Component);t.default=(0,d.withStyles)(v,{withTheme:!0})(y)},6081:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=(n(u),a(19)),p=a(6107),f=n(p),m=a(49),h=a(114),g=function(e){return{transcriptTextParent:{whiteSpace:"pre-line",marginTop:"2.5rem",height:"85%",overflowY:"auto",padding:"0.5rem 0.5rem 0.5rem 0px",fontFamily:"Roboto",marginLeft:"1rem",width:"100%",wordWrap:"break-word"}}},v={autoScroll:!1,transcription:"",calledToNameInitials:"UU",userInitials:"ME"},y=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.scrollToBottom=function(){var e=a.props.transcriptGridID,t=document.getElementById(e);t&&(t.scrollTop=t.scrollHeight)},a.generateChatBoxes=function(e,t){return e.includes(h.TRANSCRIPT_DELIMETERS.COLLECTOR)?c.default.createElement(f.default,{key:t,isCollector:!0,initials:a.props.userInitials?a.props.userInitials:"ME",message:e.replace(h.TRANSCRIPT_DELIMETERS.COLLECTOR,"")}):e.includes(h.TRANSCRIPT_DELIMETERS.CUSTOMER)?c.default.createElement(f.default,{key:t,isCollector:!1,initials:a.props.calledToNameInitials,message:e.replace(h.TRANSCRIPT_DELIMETERS.CUSTOMER,"")}):e.includes(h.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS)?c.default.createElement(f.default,{key:t,isDetecting:!0,initials:"",message:e.replace(h.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS,"")}):void 0},a.state={},a}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.autoScroll&&(console.log("Auto Scrolling"),this.scrollToBottom())}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.transcription,n=e.transcriptGridID,o=(0,m.splitTranscript)(a);return c.default.createElement("div",{id:n,className:t.transcriptTextParent},c.default.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},o.map(this.generateChatBoxes)))}}]),t}(s.Component);y.defaultProps=v,t.default=(0,d.withStyles)(g,{withTheme:!0})(y)},6086:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(90),u=a(4),d=(n(u),a(0)),p=n(d),f=a(19),m=a(8),h=n(m),g=a(43),v=a(69),y=a(24),b=a(29),C=n(b),E=a(6087),S=n(E),w=a(23),x=a(42),O=n(x),k=a(86),I=n(k),D=a(40),T=n(D),N=a(41),P=n(N),A=a(6102),j=n(A),M=a(87),F=n(M),R=a(169),B=n(R),_=a(330),L=n(_),V=a(167),H=n(V),U=a(35),z=n(U),W=a(68),Y=n(W),K=a(6106),G=n(K),q=a(6080),X=n(q),J=a(6113),Z=n(J),Q=a(174),$=n(Q),ee=a(173),te=n(ee),ae=a(49),ne=a(114),oe=a(6114),re=a(6115),ie=function(e){return{appFrame:{overflowX:"hidden",display:"flex",flexDirection:"row",maxHeight:"100vh",width:"100%"},root:{margin:"1.12vh 1.041vw 0em 1.041vw",backgroundColor:e.palette.background.main,width:"100%"},transcriptBox:{height:"58.98vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main,marginBottom:"1.85vh"},summaryBox:{height:"25.50vh",padding:"0.8rem",borderRadius:"4px",display:"flex",backgroundColor:e.palette.cardBackground.main},transcriptTitle:{fontSize:"1.1rem",color:e.palette.primary.main,paddingLeft:".8rem",paddingTop:".8rem",opacity:.65,position:"absolute"},customerName:{fontSize:"1.78rem",lineHeight:"2.1rem"},customerDetailText:{fontFamily:e.font.title.fontFamily,color:e.palette.secondary.main},customerNumber:{fontSize:".8rem"},button:{fontSize:"0.5rem",width:"7.2922vw",boxShadow:"none",minHeight:"4.4444vh",padding:0,"&:hover, &$focusVisible":{backgroundColor:"#86BFE7"}},buttonTitle:{fontFamily:e.font.title.fontFamily,color:e.palette.primary.main},heading:{color:e.palette.primary.main,fontSize:"1.067rem",opacity:.5,paddingBottom:"1.94vh"},nextCustomerUrl:{color:e.palette.secondary.main,fontSize:"0.888rem",height:"4.4444vh",display:"flex",alignItems:"center"},actionButton:{boxShadow:"none",fontSize:"1.111rem","&:hover, &$focusVisible":{backgroundColor:"#86BFE7"},height:"6.48vh"},postCallCardGrid:{marginTop:"2.037vh"},paddingRightOnCard:{paddingRight:"1.041vw"}}},le={voicemailMessage:"",callDuration:0,toCallCustomers:null,nextCustomerUrl:null,onHangup:ne.emptyFunction,invoices:[],initialTranscription:""},se=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.snackMessageQueue=[],a.deleteAction=function(e){console.log("ID",e,t);var t=a.state.summary.filter(function(t){return t.id!=e}),n=a.state.summaryCompletionMap;n.delete(e),console.log(n),a.setState({summary:t,summaryCompletionMap:n})},a.markSummaryAsDone=function(e){var t=a.state.summaryCompletionMap,n=a.state.summary;for(var o in n)if(n[o].id==e){n[o].save=!0;break}a.setState({summary:n}),t.set(e,!0),a.setState({summaryCompletionMap:t})},a.updateActionItemCheck=function(e){a.setState({notes:[].concat(o(a.state.notes),[e]),isAnyActionCompleted:!0})},a.savePostCallThings=function(){if((0,oe.checkSummaryCompleteMap)(a.state.summaryCompletionMap))return void a.setState({doReviewDialogOpen:!0});a.state.nonActionNotes&&a.state.nonActionNotes.trim()?a.setState({notes:[].concat(o(a.state.notes),[a.state.nonActionNotes.trim()]),nonActionIncluded:!0},function(){a.saveCallLog()}):a.saveCallLog()},a.saveNotesChanges=function(){a.setState({isEditingOn:!1,prevNonActionNotes:a.state.nonActionNotes},function(){a.blurNonActionNotesBox()})},a.discardNotesChanges=function(){a.setState({isEditingOn:!1,nonActionNotes:a.state.prevNonActionNotes},function(){a.blurNonActionNotesBox()})},a.openSnackbar=function(e){a.snackMessageQueue.push({message:ne.SNACK_MESSAGES[e],key:(new Date).getTime()}),a.state.snackOpen?a.setState({snackOpen:!1}):a.processQueue()},a.processQueue=function(){a.snackMessageQueue.length>0&&a.setState({snackMessage:a.snackMessageQueue.shift(),snackOpen:!0})},a.handleNonactionNotesChange=function(e){a.setState({nonActionNotes:e.target.value})},a.updateNotes=function(e){a.setState({nonActionNotes:e})},a.closeSnackbar=function(e,t){"clickaway"!==t&&a.setState({snackOpen:!1})},a.handleSnackbarExit=function(){a.processQueue()},a.handleActionItemClick=function(e){var t=(0,ae.createAction)(e);if(console.log("Action created",t),t){var n=a.state.summary.length;t.id=n>0?a.state.summary[n-1].id+1:1,t.save=!1,t.created=!0;var r=a.state.summaryCompletionMap;r.set(t.id,!1),a.setState({summary:[].concat(o(a.state.summary),[t]),summaryCompletionMap:r},function(){var e=document.getElementById("action-summary-grid-container");e&&(e.scrollTop=e.scrollHeight)})}a.closeActionCreatorDialog()},a.closeReviewWarningDialog=function(){a.setState({doReviewDialogOpen:!1})},a.handleActionCreation=function(){a.setState({doOpenNewActionDialog:!0})},a.closeActionCreatorDialog=function(){a.setState({doOpenNewActionDialog:!1})},a.updateSummaryFromChild=function(e,t){var n=a.state.summary;for(var o in n)if(n[o].id==t){n[o].summary=e;break}a.setState({summary:n})},a.updateInvoices=function(e,t){var n=Object.create(a.state.summary),o=[];for(var r in n)if(n[r].id==t){for(var i in e)o.push(e[i].documentNumber);n[r].entities.invoice=o;break}a.setState({summary:n})},a.editNonActionNotes=function(){a.setState({isEditingOn:!0},function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.focus()},500)})},a.blurNonActionNotesBox=function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.blur()},500)},a.initializeSummaryWithDefaults=function(e){if("[]"===e)a.setState({summary:[]});else{var t=(0,oe.appendIdsToSummary)(e),n=(0,oe.createSummaryCompletionMap)(e),o=(0,oe.createInitialNonActionSummaryNotes)(e,a.props.voicemailMessage);a.setState({summary:t,summaryCompletionMap:n,nonActionNotes:o})}},a.saveCallLog=function(){var e=(0,oe.generateNotesAsString)(a.state.notes),t=a.props.callLogState,n=a.props.customer,o={id:t.id,callSummary:a.props.transcription.transcription,duration:a.props.callDuration,note:{customerId:n.id,noteContent:e}};P.default.put(T.default.apiUrl+"/call",o).then(function(e){a.setState({openProgressBar:!1,isPostCallDone:!0}),c.store.dispatch((0,v.changeTranscription)({transcription:""}))}).catch(function(e){a.setState({openProgressBar:!1,isPostCallDone:!0})})},a.genSummaryActionCards=function(e){var t=e.intent;if((0,ae.isActionIntent)(t))return p.default.createElement(F.default,{in:!0,key:e.id},p.default.createElement(S.default,{onDelete:function(e){return a.deleteAction(e)},onActionItemConfirm:a.updateActionItemCheck,summary:e,style:{width:"100%",marginBottom:"0.7rem"},intentType:t,allInvoiceList:a.props.invoices,customer:a.props.customer,calledToName:a.props.calledToName,calledToNumber:a.props.calledToNumber,completed:function(){return a.markSummaryAsDone(e.id)},bucketNames:a.props.bucketNames,contactLog:a.props.callLogState,callState:a.props.callState,followupTextList:a.state.followupTextList,reasonCodeList:a.state.reasonCodeList,openSnackbarOnAction:function(e){return a.openSnackbar(e)},updateInvoicesInParent:function(t){return a.updateInvoices(t,e.id)},updateSummaryInParent:function(t){a.updateSummaryFromChild(t,e.id)}}))},a.props.onHangup(),console.log(a.props.nextCustomerUrl,"next customer url"),a.nextCustomeText="GO TO NEXT CUSTOMER",a.nextCustomerUrl=a.props.nextCustomerUrl,a.nextCustomerUrl||(a.nextCustomerUrl="/",a.nextCustomeText="GO BACK TO HOME PAGE"),console.log(a.props.toCallCustomers,"to call customers"),a.state={date:new Date,isEditingOn:!1,summary:"",transcription:a.props.initialTranscription,openProgressBar:!1,doOpenNewActionDialog:!1,isAnyActionCompleted:!1,doReviewDialogOpen:!1,notes:[],isPostCallDone:!1,summaryCompletionMap:new Map,nonActionNotes:"",snackMessage:{},snackOpen:!1,followupTextList:[],reasonCodeList:[],nonActionIncluded:!1},re.commonService.getDisputeCodes().then(function(e){a.setState({reasonCodeList:e||[]})}).catch(function(e){console.log("Failed to load dispute codes",e)}),re.commonService.getTaskTypes().then(function(e){a.setState({followupTextList:e||[]})}).catch(function(e){console.log("Failed to load Follow up text list",e)}),a}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.transcription.summary,a=e.transcription.transcription,n=this.props.transcription.transcription;console.log("Summary received in Post Call",JSON.stringify(t)),a&&a!==n&&(console.log("Updating transcription",a),this.setState({transcription:a})),JSON.stringify(t)!==JSON.stringify(this.state.summary)&&this.initializeSummaryWithDefaults(t)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.customer,n=this.props.user,o=this.props.calledToName,r=(0,ae.getInitialsFromName)(o);(0,ae.getInitialsFromName)(n.name);return p.default.createElement("div",{className:t.appFrame},p.default.createElement($.default,null),p.default.createElement(te.default,null),p.default.createElement("div",{className:t.root},p.default.createElement(C.default,{container:!0},p.default.createElement(C.default,{item:!0,container:!0,alignItems:"flex-start"},p.default.createElement(C.default,{item:!0,xs:10},p.default.createElement("div",{style:{display:"flex",alignItems:"center"}},p.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left"}},p.default.createElement("div",{className:(0,h.default)(t.customerName,t.customerDetailText)},a.customerName),p.default.createElement("div",{className:(0,h.default)(t.customerNumber,t.customerDetailText)},a.customerNumber)))),p.default.createElement(C.default,{item:!0,container:!0,xs:2,justify:"flex-end",style:{marginLeft:"-8.33vw"}},p.default.createElement("div",{style:{margin:"0px 0 0 0",display:"flex",alignItems:"center"}},p.default.createElement(C.default,{item:!0,align:"right"},!this.state.isPostCallDone&&p.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"right",height:"4.444vh"}},p.default.createElement(B.default,{variant:"extended",onClick:this.savePostCallThings,color:"secondary","aria-label":"Add",size:"small",disabled:!this.state.summary,className:t.button},p.default.createElement(w.Typography,{className:t.buttonTitle},"Done"))),this.state.isPostCallDone&&p.default.createElement(g.Link,{style:{textDecoration:"none"},onClick:ne.emptyFunction,to:{pathname:this.nextCustomerUrl,state:{toCallCustomers:this.props.toCallCustomers}}},p.default.createElement(w.Typography,{className:t.nextCustomerUrl},this.nextCustomeText)))))),!this.state.isPostCallDone&&p.default.createElement(C.default,{item:!0,container:!0,className:t.postCallCardGrid},p.default.createElement(C.default,{item:!0,xs:8,className:t.paddingRightOnCard},p.default.createElement("div",null,p.default.createElement(w.Typography,{className:t.heading},"SUGGESTED ACTIONS")),p.default.createElement(C.default,{item:!0,xs:12,style:{height:"auto",maxHeight:"74.7vh",overflowY:"auto"},id:"action-summary-grid-container"},this.state.summary&&this.state.summary.map(function(t){return e.genSummaryActionCards(t)}),!this.state.summary&&p.default.createElement("div",{stlye:{height:"100%"}},p.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"70vh"}},p.default.createElement(I.default,null),p.default.createElement(w.Typography,{style:{color:"white",marginTop:"1.3rem"}},"Generating call summary")))),this.state.summary&&p.default.createElement(O.default,{style:{width:"100%"},color:"secondary",className:t.actionButton,variant:"contained",onClick:function(){e.handleActionCreation()}},p.default.createElement(w.Typography,{color:"primary",style:{fontSize:"1.067rem"}},"+ CREATE NEW ACTION"))),p.default.createElement(C.default,{item:!0,container:!0,xs:4,alignItems:"center",style:{height:"86.29vh"}},p.default.createElement(X.default,{className:t.transcriptBox,autoScroll:Boolean(!1),transcriptTitleClassName:t.transcriptTitle,transcriptChatProps:{transcription:this.state.transcription,calledToNameInitials:r,userInitials:"ME",transcriptGridID:"post-call-transcription-grid"}}),p.default.createElement(C.default,{item:!0,xs:12,className:t.summaryBox},p.default.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},this.state.summary&&p.default.createElement(Z.default,{initialNotes:this.state.nonActionNotes,onNotesChange:function(t){return e.updateNotes(t)}}),!this.state.summary&&p.default.createElement("div",{stlye:{height:"100%"}},p.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"20vh"}},p.default.createElement(I.default,{style:{color:"#eeeeee"}}),p.default.createElement(w.Typography,{style:{color:"#eeeeee",marginTop:"1.3rem"}},"Waiting for summary"))))))),this.state.isPostCallDone&&p.default.createElement(C.default,{item:!0,container:!0,xs:12,className:t.postCallCardGrid},p.default.createElement(j.default,{invoiceList:(0,ae.generateFinalInvoiceList)(this.state.summary,this.props.invoices),summaryNotes:this.state.notes,nonActionIncluded:this.state.nonActionIncluded,nextCustomerUrl:this.props.nextCustomerUrl,toCallCustomers:this.props.toCallCustomers,customer:this.props.customer,collector:this.props.collector,contactIndex:this.props.contactIndex})),p.default.createElement(G.default,{open:this.state.doOpenNewActionDialog,onClose:this.closeActionCreatorDialog,onActionItemClick:function(t){return e.handleActionItemClick(t)}}),p.default.createElement(L.default,{open:this.state.doReviewDialogOpen,onClose:this.closeReviewWarningDialog,title:ne.REVIEW_WARNING,actions:[p.default.createElement(O.default,{onClick:this.closeReviewWarningDialog,color:"secondary"},"OK")]}),p.default.createElement(H.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage.key,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:p.default.createElement("span",{id:this.state.snackMessage.key},this.state.snackMessage.message),action:[p.default.createElement(z.default,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.closeSnackbar,onExited:this.handleSnackbarExit},p.default.createElement(Y.default,null))]}))))}}]),t}(p.default.Component);se.defaultProps=le;var ce=function(e){return{user:e.personalDetails,callState:e.callState,transcription:e.transcription,callLogState:e.callLogState}};t.default=(0,y.connect)(ce)((0,f.withStyles)(ie,{withTheme:!0})(se))},6087:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),f=a(19),m=a(6088),h=n(m),g=a(6098),v=n(g),y=a(6099),b=n(y),C=a(6100),E=n(C),S=a(176),w=n(S),x=a(177),O=n(x),k=a(334),I=n(k),D=a(339),T=n(D),N=a(114),P=function(e){return{panel:{width:"100%",backgroundColor:e.palette.solidBackground.main},expandedBackground:{backgroundColor:"#39586F",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2))",padding:"0 !important"},panelCommon:{padding:"0 !important",borderRadius:"5px",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2))"},expandIcon:{color:e.palette.secondary.main},expansionPanelRoot:{boxShadow:"none !important",borderRadius:"4px !important",marginBottom:"0.83vh"}}},A=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));j.call(a);var n=a.props.summary.entities.invoice,i=a.genInitialInvoiceData(n),l=i.correctInvoices,s=i.correctInvoicesMap,c=i.incorrectFlag;return a.state={expanded:!1,amount:0,invoices:n,summary:a.props.summary,correctInvoices:l,correctInvoicesMap:s,incorrectFlag:c,invoiceCount:0},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.intentType,o=this.getCommonProps();return u.default.createElement(w.default,{classes:{root:a.expansionPanelRoot},expanded:this.state.expanded,className:a.panel},u.default.createElement(O.default,{className:this.state.expanded?a.expandedBackground:a.panelCommon,expandIcon:n!==N.INTENT_TYPES.FOLLOW_UP&&u.default.createElement(T.default,{onClick:this.toggleExpand,className:a.expandIcon})},n===N.INTENT_TYPES.P2P&&u.default.createElement(h.default,l({incorrectFlag:this.state.incorrectFlag,totalAmount:this.state.amount,summary:this.state.summary,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices},o)),n===N.INTENT_TYPES.DISPUTE&&u.default.createElement(v.default,l({incorrectFlag:this.state.incorrectFlag,summary:this.state.summary,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices,reasonCodeList:this.props.reasonCodeList},o)),n===N.INTENT_TYPES.FOLLOW_UP&&u.default.createElement(b.default,l({incorrectFlag:this.state.incorrectFlag,summary:this.state.summary,followupTextList:this.props.followupTextList},o))),u.default.createElement(I.default,{className:a.panelCommon},u.default.createElement(E.default,{sum:this.state.summary,intentType:n,correctInvoices:this.state.correctInvoices,correctInvoicesMap:this.state.correctInvoicesMap,incorrectFlag:this.state.incorrectFlag,onUpdateInvoice:this.updateInvoices,done:this.state.completed,invoices:this.props.allInvoiceList,bucketNames:this.props.bucketNames,updateInvoices:function(t,a){e.updateCorrectInvoices(t,a)}})))}}]),t}(c.Component),j=function(){var e=this;this.toggleExpand=function(){e.setState({expanded:!e.state.expanded})},this.genInitialInvoiceData=function(t){var a=[],n={},o=!1,r=e.props.allInvoiceList;if(t)for(var i=0;i<t.length;i++){for(var l=!1,s=0;s<r.length&&!l;s++)for(var c=0;c<r[s].length;c++){var u=r[s][c];if(t[i]==u.documentNumber){a.push(u),n[u.id]=!0,l=!0;break}}if(!l){var d=Object.create({id:t[i]+"incorrect",documentNumber:t[i]});a.push(d),o=!0}}return Object.freeze({correctInvoices:a,correctInvoicesMap:n,incorrectFlag:o})},this.getCommonProps=function(){return Object.assign({customer:e.props.customer,callToName:e.props.calledToName,calledToNumber:e.props.calledToNumber,contactLog:e.props.contactLog,onActionItemConfirm:e.props.onActionItemConfirm,deleteAction:e.props.onDelete,onCompletion:e.markThisComplete,toggleExpand:e.toggleExpand,openSnackbarOnAction:function(t){return e.props.openSnackbarOnAction(t)},updateSummaryInParent:function(t){e.props.updateSummaryInParent(t,e.state.correctInvoices)}})},this.updateCorrectInvoices=function(t,a){e.setState({correctInvoices:t,correctInvoicesMap:a},function(){e.props.updateInvoicesInParent(t)})},this.updateInvoices=function(t,a){e.setState({incorrectFlag:t,invoiceCount:a})},this.markThisComplete=function(){e.setState({completed:!0,expanded:!1}),e.props.completed()}};A.propTypes={classes:p.default.object.isRequired},t.default=(0,f.withStyles)(P,{withTheme:!0})(A)},6088:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.inputRef,a=e.onChange,n=o(e,["inputRef","onChange"]);return p.default.createElement(_.default,c({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$",allowNegative:!1,decimalScale:8}))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),p=n(d),f=a(42),m=n(f),h=a(4),g=n(h),v=a(8),y=n(v),b=a(19),C=a(115),E=a(6075),S=n(E),w=a(6076),x=a(23),O=a(333),k=n(O),I=a(21),D=n(I),T=a(326),N=n(T),P=a(331),A=n(P),j=a(41),M=n(j),F=a(40),R=n(F),B=a(6077),_=n(B),L=a(29),V=n(L),H=a(86),U=n(H),z=a(330),W=n(z),Y=a(114),K=a(175),G=a(67),q=a(49),X=a(31),J=n(X),Z=a(32),Q=n(Z),$=/(Promise to pay for \d*)|(\d{4}-\d{2}-\d{2}T[\d{2}:]*.\d{3}[-|+]\d{2}:\d{2})|(\d* invoice)/g,ee="Payment commitment received for <Amount> to be paid by <Date> <Invoices>.",te="Create Promise to pay for <Amount> to be paid by <Date> for <Invoices>",ae=function(e){return{textField:{margin:"0px",fontSize:"0.875rem",fontWeight:"bold",color:e.palette.primary.main},test:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6,"&:before":{borderBottom:"1px solid #5DAAE0"},"&:after":{borderBottom:"2px solid #5DAAE0"}},testInitial:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6,"&:before":{borderBottom:"1px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},actionProgressBar:{color:e.palette.primary.main,alignItems:"center",width:"1.5rem !important",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem !important"},cardContent:{color:e.palette.primary.main,opacity:.65,fontSize:"0.9rem"},actionIcon:{color:e.palette.secondary.main,height:"1.6rem",width:"1.6rem"},errorFlag:{color:"#FF4444",marginLeft:".5rem"},disableDoneBtn:{opacity:.4,cursor:"default"}}},ne=(0,x.createMuiTheme)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:k.default.A200,height:"13vh"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:k.default.A700},selected:{backgroundColor:k.default[400]},current:{color:k.default[900]}},MuiFormHelperText:{error:{color:"#FF8888 !important"}},MuiPickersModal:{dialogAction:{color:k.default[400]}}}}),oe=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));re.call(a);var n=a.props.summary.summary.match($),o=n[0].match(/[0-9]{1,}/);return a.state={readOnly:!a.props.summary.created,isEditing:a.props.summary.created||!1,prevAmount:"",amount:o?o[0]:a.props.summary.created?"":0,selectedDate:new Date(n[1]),invoiceCount:a.props.invoiceCount,openActionSave:!1,snackBarOpen:!1,snackBarMessage:"",openWarningDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:a.props.summary.save?(0,K.format)(new Date(n[1]),"MMM dd, yyyy"):"",amountTextFieldWidth:o?12*(""+o).length:15,actionSaveProgressBar:!1,incorrectFlag:a.props.incorrectFlag,invalidDataNotifierMessage:"",openInvalidDataNotifier:!1,summary:a.props.summary,isAmountInvalid:!o},a}return l(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.updateSummary()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({incorrectFlag:e.incorrectFlag}),e.invoiceCount>=0&&e.invoiceCount!=this.state.invoiceCount&&this.setState({invoiceCount:e.invoiceCount},function(){t.updateSummary()})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=(this.props.summary,this.props.fullScreen);return p.default.createElement(V.default,{container:!0,className:a.invoiceSample},p.default.createElement(V.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&p.default.createElement(U.default,{className:a.actionProgressBar}),this.state.isDone&&p.default.createElement(C.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),p.default.createElement(V.default,{item:!0,xs:11,md:11,lg:11,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement(V.default,{item:!0},this.state.isDone&&p.default.createElement(D.default,{style:{opacity:1},className:a.cardContent},"Created  ")),p.default.createElement(V.default,{item:!0},!this.state.isDone&&p.default.createElement(D.default,{style:{opacity:1},className:a.cardContent},"Create  ")),p.default.createElement(V.default,{item:!0},p.default.createElement(D.default,{style:{fontWeight:"bold",opacity:1},className:a.cardContent},"P2P  ")),p.default.createElement(V.default,{item:!0},p.default.createElement(D.default,{className:a.cardContent},"of  ")),p.default.createElement(V.default,{item:!0,style:{minWidth:this.state.isEditing?"7rem":this.state.amountTextFieldWidth,width:this.state.isEditing?"7rem":this.state.amountTextFieldWidth,maxWidth:"9rem"}},p.default.createElement(N.default,{id:"invoice-amount-field-"+this.state.actionId,className:a.textField,value:this.state.amount,onChange:function(t){return e.handleInvoiceCurrencyChange(t)},margin:"normal",padding:"normal",InputProps:{className:this.state.isAmountInvalid?(0,y.default)(a.testInitial,a.inputFieldText):(0,y.default)(a.test,a.inputFieldText),readOnly:Boolean(this.state.readOnly),disableUnderline:Boolean(this.state.readOnly),inputComponent:this.state.isEditing?s:this.FormattedCurrencyInput}})),p.default.createElement(V.default,{item:!0},!this.state.isEditing&&!this.state.isDone&&p.default.createElement(C.BorderColor,{className:a.actionIcon,style:{marginLeft:"6px"},onClick:this.toggleEditing}),this.state.isEditing&&!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(C.HighlightOff,{style:{marginLeft:"0.4rem",color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},className:this.state.prevAmount?"":a.disableDoneBtn,onClick:this.state.prevAmount?this.dismissAmountChanges:Y.emptyFunction}),p.default.createElement(C.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.isAmountInvalid?a.disableDoneBtn:"",onClick:this.state.isAmountInvalid?Y.emptyFunction:this.saveInvoiceAmountChange}))),p.default.createElement(V.default,{item:!0},p.default.createElement(D.default,{className:a.cardContent},"  with due date of  ")),p.default.createElement(V.default,{item:!0}," ",this.state.isDone&&p.default.createElement(D.default,{style:{color:n.palette.primary.main}},this.state.finalSelectedDate)),p.default.createElement(V.default,{item:!0,style:{display:"flex",maxWidth:"8em"}},!this.state.isDone&&p.default.createElement(w.MuiPickersUtilsProvider,{utils:S.default},p.default.createElement(x.MuiThemeProvider,{theme:ne},p.default.createElement(w.DatePicker,{style:{maxWidth:"5.35rem"},allowKeyboardControl:Boolean(!1),format:"MMM dd, yyyy",minDateMessage:"Previous date not acceptable",InputProps:{id:"date-input-field-"+this.state.actionId,className:a.test,readOnly:Boolean(!0),disableUnderline:Boolean(!0)},ref:function(t){e.picker=t},value:this.state.selectedDate,onChange:this.handleDateChange,animateYearScrolling:!1,minDate:new Date}),p.default.createElement(C.DateRange,{className:a.actionIcon,onClick:this.openPicker})))),p.default.createElement(V.default,{item:!0,align:"left"},0!==this.state.invoiceCount&&p.default.createElement("div",{style:{alignItems:"center",display:"flex"}},p.default.createElement(D.default,{className:a.cardContent},!this.state.isEditing&&p.default.createElement("span",null," "),"towards "),p.default.createElement(D.default,{style:{fontWeight:"bold"},className:a.cardContent,onClick:this.props.toggleExpand},this.state.invoiceCount+" Invoice"+(this.state.invoiceCount>1?"s":"")),this.state.incorrectFlag&&p.default.createElement(A.default,{className:a.errorFlag}))))),p.default.createElement(W.default,{fullScreen:o,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[p.default.createElement(m.default,{onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),p.default.createElement(m.default,{onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),p.default.createElement(W.default,{fullScreen:o,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[p.default.createElement(m.default,{onClick:this.closeWarningDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(W.default,{fullScreen:o,open:this.state.openInvalidDataNotifier,onClose:this.closeInvalidDataNotifier,title:this.state.invalidDataNotifierMessage,actions:[p.default.createElement(m.default,{onClick:this.closeInvalidDataNotifier,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(V.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(C.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),p.default.createElement(C.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.checkInvalidation()?"":a.disableDoneBtn,onClick:this.checkInvalidation()?this.saveP2P:Y.emptyFunction}))))}}]),t}(d.Component),re=function(){var e=this;this.handleInvoiceCurrencyChange=function(t){e.setState({amountTextFieldWidth:t.target.value?12*(""+t.target.value.length):50,amount:t.target.value,amountFormatted:t.target.value,isAmountInvalid:!1},function(){e.state.amount||e.setState({isAmountInvalid:!0})})},this.openDataInvalidDialog=function(t){e.setState({openInvalidDataNotifier:!0,invalidDataNotifierMessage:t})},this.closeInvalidDataNotifier=function(){e.setState({openInvalidDataNotifier:!1})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.validateP2PData=function(){var t=e.state.amount;return Number(t)<1?(e.openDataInvalidDialog("Please enter amount > 0."),!1):!!(0,q.isValidDate)(e.state.selectedDate)||(e.openDataInvalidDialog("Found invalid date. Please correct the date to proceed."),!1)},this.checkInvalidation=function(){return!e.state.isAmountInvalid&&!e.state.incorrectFlag&&(0,q.isValidDate)(e.state.selectedDate)},this.saveP2P=function(){if(e.validateP2PData()){console.log(t);var t=null!==e.props.contactLog.contact?e.props.contactLog.contact.id:null,a=e.props.contactLog.callingNumber,n=e.props.correctInvoices.map(function(e){var t={};return t.cmsDocHeaderId=e.id,t});if(e.state.incorrectFlag)return void e.setState({openWarningDialog:!0});e.setState({actionSaveProgressBar:!0,isEditing:!1,readOnly:!0});var o={committedAmount:e.state.amount,committedBy:{id:t,phoneNumber:a},committedDate:new Date(e.state.selectedDate),committedOn:new Date,currency:"$",customerId:e.props.customer.id,pcItems:n};M.default.post(R.default.apiUrl+"/customer/"+e.props.customer.id+"/p2p",o).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({finalSelectedDate:e.getDateFieldValue()},function(){e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1,isDone:!1})})}},this.generateActionSummary=function(){var t=e.state.invoiceCount,a=e.state.selectedDate,n=(0,K.format)(a,"MM-dd-yyyy");return ee.replace("<Amount>","$"+(0,q.formatCurrencyToUSFormat)(e.state.amount)).replace("<Date>",n).replace("<Invoices>",0===t?"":1===t?"for "+t+" invoice":"for "+t+" invoices")},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.dismissAmountChanges=function(){var t=e.state,a=(0,G.customCurrencyFormatter)(e.state.amount).length;e.setState({amount:t.prevAmount,readOnly:!0,isEditing:!1,amountTextFieldWidth:4.5*a}),document.getElementById("invoice-amount-field-"+e.state.actionId).blur()},this.openPicker=function(t){e.picker.open(t)},this.updateSummary=function(){var t=e.state.invoiceCount,a=(0,q.formatDateWithTimezone)(new Date(e.state.selectedDate),"-06:00"),n=te.replace("<Amount>",e.state.amount?e.state.amount:"<amount-of-money>").replace("<Date>",a).replace("<Invoices>",0===t?"<X invoices>":1===t?t+" invoice":t+" invoices");e.props.updateSummaryInParent(n)},this.saveInvoiceAmountChange=function(){var t=(0,G.customCurrencyFormatter)(e.state.amount).length;e.setState({prevAmount:e.state.amount,readOnly:!0,isEditing:!1,amountTextFieldWidth:4.5*t},function(){e.updateSummary()}),document.getElementById("invoice-amount-field-"+e.state.actionId).blur()},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.toggleEditing=function(t){e.setState({readOnly:!1,isEditing:!0},function(){document.getElementById("invoice-amount-field-"+e.state.actionId).focus()})},this.handleDateChange=function(t){e.setState({selectedDate:t},function(){e.updateSummary()})},this.getDateFieldValue=function(){var t="date-input-field-"+e.state.actionId;return document.getElementById(t).value},this.FormattedCurrencyInput=function(t){var a=t.inputRef,n=t.onChange,r=o(t,["inputRef","onChange"]);return p.default.createElement(_.default,c({},r,{getInputRef:a,onValueChange:function(e){n({target:{value:e.value}})},format:function(t){return(0,G.customCurrencyFormatter)(e.state.amount,"$")},decimalScale:8,allowNegative:!1}))}};s.propTypes={inputRef:g.default.func.isRequired,onChange:g.default.func.isRequired},oe.propTypes={classes:g.default.object.isRequired};var ie=(0,J.default)(ae,Q.default);t.default=(0,b.withStyles)(ie,{withTheme:!0})(oe)},6089:function(e,t,a){"use strict";function n(e,t){function a(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}function o(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]]);return a}t.b=n,a.d(t,"a",function(){return i}),t.c=o;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i.apply(this,arguments)}},6090:function(e,t,a){!function(t,n){e.exports=n(a(0))}(0,function(e){return function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return n(u).default}});var d=a(11),p=n(d),f=a(9),m=n(f),h=a(5),g=n(h),v=function(e){function t(){var e;r(this,t);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];var l=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return l.onBlur=l.onBlur.bind(l),l.onChange=l.onChange.bind(l),l}return l(t,e),c(t,[{key:"initTextMask",value:function(){var e=this.props,t=this.props.value;this.textMaskInputElement=(0,g.default)(s({inputElement:this.inputElement},e)),this.textMaskInputElement.update(t)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(){this.initTextMask()}},{key:"render",value:function(){var e=this,t=this.props,a=t.render,n=o(t,["render"]);return delete n.mask,delete n.guide,delete n.pipe,delete n.placeholderChar,delete n.keepCharPositions,delete n.value,delete n.onBlur,delete n.onChange,delete n.showMask,a(function(t){return e.inputElement=t},s({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},n))}},{key:"onChange",value:function(e){this.textMaskInputElement.update(),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"onBlur",value:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e)}}]),t}(p.default.Component);t.default=v,v.propTypes={mask:m.default.oneOfType([m.default.array,m.default.func,m.default.bool,m.default.shape({mask:m.default.oneOfType([m.default.array,m.default.func]),pipe:m.default.func})]).isRequired,guide:m.default.bool,value:m.default.oneOfType([m.default.string,m.default.number]),pipe:m.default.func,placeholderChar:m.default.string,keepCharPositions:m.default.bool,showMask:m.default.bool},v.defaultProps={render:function(e,t){return p.default.createElement("input",s({ref:e},t))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,r.isArray)(t)){if((void 0===t?"undefined":o(t))!==i.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,a),t=(0,r.processCaretTraps)(t).maskWithoutCaretTraps}var n=a.guide,c=void 0===n||n,u=a.previousConformedValue,d=void 0===u?s:u,p=a.placeholderChar,f=void 0===p?i.placeholderChar:p,m=a.placeholder,h=void 0===m?(0,r.convertMaskToPlaceholder)(t,f):m,g=a.currentCaretPosition,v=a.keepCharPositions,y=!1===c&&void 0!==d,b=e.length,C=d.length,E=h.length,S=t.length,w=b-C,x=w>0,O=g+(x?-w:0),k=O+Math.abs(w);if(!0===v&&!x){for(var I=s,D=O;D<k;D++)h[D]===f&&(I+=f);e=e.slice(0,O)+I+e.slice(O,b)}for(var T=e.split(s).map(function(e,t){return{char:e,isNew:t>=O&&t<k}}),N=b-1;N>=0;N--){var P=T[N].char;if(P!==f){P===h[N>=O&&C===S?N-w:N]&&T.splice(N,1)}}var A=s,j=!1;e:for(var M=0;M<E;M++){var F=h[M];if(F===f){if(T.length>0)for(;T.length>0;){var R=T.shift(),B=R.char,_=R.isNew;if(B===f&&!0!==y){A+=f;continue e}if(t[M].test(B)){if(!0===v&&!1!==_&&d!==s&&!1!==c&&x){for(var L=T.length,V=null,H=0;H<L;H++){var U=T[H];if(U.char!==f&&!1===U.isNew)break;if(U.char===f){V=H;break}}null!==V?(A+=B,T.splice(V,1)):M--}else A+=B;continue e}j=!0}!1===y&&(A+=h.substr(M,E));break}A+=F}if(y&&!1===x){for(var z=null,W=0;W<A.length;W++)h[W]===f&&(z=W);A=null!==z?A.substr(0,z+1):s}return{conformedValue:A,meta:{someCharsRejected:j}}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n;var r=a(3),i=a(1),l=[],s=""},function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.placeholderChar;if(!o(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map(function(e){return e instanceof RegExp?t:e}).join("")}function o(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function r(e){return"string"==typeof e||e instanceof String}function i(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)}function l(e){for(var t=[],a=void 0;-1!==(a=e.indexOf(u));)t.push(a),e.splice(a,1);return{maskWithoutCaretTraps:e,indexes:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=n,t.isArray=o,t.isString=r,t.isNumber=i,t.processCaretTraps=l;var s=a(1),c=[],u="[]"},function(e,t){"use strict";function a(e){var t=e.previousConformedValue,a=void 0===t?o:t,r=e.previousPlaceholder,i=void 0===r?o:r,l=e.currentCaretPosition,s=void 0===l?0:l,c=e.conformedValue,u=e.rawValue,d=e.placeholderChar,p=e.placeholder,f=e.indexesOfPipedChars,m=void 0===f?n:f,h=e.caretTrapIndexes,g=void 0===h?n:h;if(0===s||!u.length)return 0;var v=u.length,y=a.length,b=p.length,C=c.length,E=v-y,S=E>0,w=0===y;if(E>1&&!S&&!w)return s;var x=S&&(a===c||c===p),O=0,k=void 0,I=void 0;if(x)O=s-E;else{var D=c.toLowerCase(),T=u.toLowerCase(),N=T.substr(0,s).split(o),P=N.filter(function(e){return-1!==D.indexOf(e)});I=P[P.length-1];var A=i.substr(0,P.length).split(o).filter(function(e){return e!==d}).length,j=p.substr(0,P.length).split(o).filter(function(e){return e!==d}).length,M=j!==A,F=void 0!==i[P.length-1]&&void 0!==p[P.length-2]&&i[P.length-1]!==d&&i[P.length-1]!==p[P.length-1]&&i[P.length-1]===p[P.length-2];!S&&(M||F)&&A>0&&p.indexOf(I)>-1&&void 0!==u[s]&&(k=!0,I=u[s]);for(var R=m.map(function(e){return D[e]}),B=R.filter(function(e){return e===I}).length,_=P.filter(function(e){return e===I}).length,L=p.substr(0,p.indexOf(d)).split(o).filter(function(e,t){return e===I&&u[t]!==e}).length,V=L+_+B+(k?1:0),H=0,U=0;U<C;U++){var z=D[U];if(O=U+1,z===I&&H++,H>=V)break}}if(S){for(var W=O,Y=O;Y<=b;Y++)if(p[Y]===d&&(W=Y),p[Y]===d||-1!==g.indexOf(Y)||Y===b)return W}else if(k){for(var K=O-1;K>=0;K--)if(c[K]===I||-1!==g.indexOf(K)||0===K)return K}else for(var G=O;G>=0;G--)if(p[G-1]===d||-1!==g.indexOf(G)||0===G)return G}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=[],o=""},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=n.inputElement,c=n.mask,d=n.guide,g=n.pipe,y=n.placeholderChar,b=void 0===y?m.placeholderChar:y,C=n.keepCharPositions,E=void 0!==C&&C,S=n.showMask,w=void 0!==S&&S;if(void 0===a&&(a=o.value),a!==t.previousConformedValue){(void 0===c?"undefined":s(c))===v&&void 0!==c.pipe&&void 0!==c.mask&&(g=c.pipe,c=c.mask);var x=void 0,O=void 0;if(c instanceof Array&&(x=(0,f.convertMaskToPlaceholder)(c,b)),!1!==c){var k=i(a),I=o.selectionEnd,D=t.previousConformedValue,T=t.previousPlaceholder,N=void 0;if((void 0===c?"undefined":s(c))===m.strFunction){if(!1===(O=c(k,{currentCaretPosition:I,previousConformedValue:D,placeholderChar:b})))return;var P=(0,f.processCaretTraps)(O),A=P.maskWithoutCaretTraps,j=P.indexes;O=A,N=j,x=(0,f.convertMaskToPlaceholder)(O,b)}else O=c;var M={previousConformedValue:D,guide:d,placeholderChar:b,pipe:g,placeholder:x,currentCaretPosition:I,keepCharPositions:E},F=(0,p.default)(k,O,M),R=F.conformedValue,B=(void 0===g?"undefined":s(g))===m.strFunction,_={};B&&(_=g(R,l({rawValue:k},M)),!1===_?_={value:D,rejected:!0}:(0,f.isString)(_)&&(_={value:_}));var L=B?_.value:R,V=(0,u.default)({previousConformedValue:D,previousPlaceholder:T,conformedValue:L,placeholder:x,rawValue:k,currentCaretPosition:I,placeholderChar:b,indexesOfPipedChars:_.indexesOfPipedChars,caretTrapIndexes:N}),H=L===x&&0===V,U=w?x:h,z=H?U:L;t.previousConformedValue=z,t.previousPlaceholder=x,o.value!==z&&(o.value=z,r(o,V))}}}}}function r(e,t){document.activeElement===e&&(y?b(function(){return e.setSelectionRange(t,t,g)},0):e.setSelectionRange(t,t,g))}function i(e){if((0,f.isString)(e))return e;if((0,f.isNumber)(e))return String(e);if(void 0===e||null===e)return h;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=o;var c=a(4),u=n(c),d=a(2),p=n(d),f=a(3),m=a(1),h="",g="none",v="object",y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout},function(e,t){"use strict";function a(e){return function(){return e}}var n=function(){};n.thatReturns=a,n.thatReturnsFalse=a(!1),n.thatReturnsTrue=a(!0),n.thatReturnsNull=a(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,a){"use strict";function n(e,t,a,n,r,i,l,s){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,n,r,i,l,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};e.exports=n},function(e,t,a){"use strict";var n=a(6),o=a(7),r=a(10);e.exports=function(){function e(e,t,a,n,i,l){l!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t,a){"use strict";"function"==typeof Symbol&&Symbol.iterator,e.exports=a(8)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,a){t.exports=e}])})},6091:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=n(a(6092)),r=n(a(6096)),i=n(a(332)),l=n(a(55));e.exports={Transition:l.default,TransitionGroup:i.default,ReplaceTransition:r.default,CSSTransition:o.default}},6092:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}t.__esModule=!0,t.default=void 0;var i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}t.default=e}(a(4)),n(a(6093))),l=n(a(6095)),s=n(a(0)),c=n(a(55)),u=(a(346),function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,i.default)(e,t)})}),d=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,l.default)(e,t)})},p=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,t.onEnter=function(e,a){var n=t.getClassNames(a?"appear":"enter"),o=n.className;t.removeClasses(e,"exit"),u(e,o),t.props.onEnter&&t.props.onEnter(e)},t.onEntering=function(e,a){var n=t.getClassNames(a?"appear":"enter"),o=n.activeClassName;t.reflowAndAddClass(e,o),t.props.onEntering&&t.props.onEntering(e)},t.onEntered=function(e,a){var n=t.getClassNames("enter"),o=n.doneClassName;t.removeClasses(e,a?"appear":"enter"),u(e,o),t.props.onEntered&&t.props.onEntered(e)},t.onExit=function(e){var a=t.getClassNames("exit"),n=a.className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.getClassNames("exit"),n=a.activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.getClassNames("exit"),n=a.doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var a=t.props.classNames,n="string"!=typeof a?a[e]:a+"-"+e;return{className:n,activeClassName:"string"!=typeof a?a[e+"Active"]:n+"-active",doneClassName:"string"!=typeof a?a[e+"Done"]:n+"-done"}},t}o(t,e);var a=t.prototype;return a.removeClasses=function(e,t){var a=this.getClassNames(t),n=a.className,o=a.activeClassName,r=a.doneClassName;n&&d(e,n),o&&d(e,o),r&&d(e,r)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},a.render=function(){var e=r({},this.props);return delete e.classNames,s.default.createElement(c.default,r({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.default.Component);p.propTypes={};var f=p;t.default=f,e.exports=t.default},6093:function(e,t,a){"use strict";function n(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var o=a(3);t.__esModule=!0,t.default=n;var r=o(a(6094));e.exports=t.default},6094:function(e,t,a){"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.__esModule=!0,t.default=n,e.exports=t.default},6095:function(e,t,a){"use strict";function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}},6096:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.__esModule=!0,t.default=void 0;var i=(n(a(4)),n(a(0))),l=a(20),s=n(a(332)),c=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,t.handleEnter=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEnter",0,a)},t.handleEntering=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEntering",0,a)},t.handleEntered=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEntered",0,a)},t.handleExit=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExit",1,a)},t.handleExiting=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExiting",1,a)},t.handleExited=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExited",1,a)},t}r(t,e);var a=t.prototype;return a.handleLifecycle=function(e,t,a){var n,o=this.props.children,r=i.default.Children.toArray(o)[t];r.props[e]&&(n=r.props)[e].apply(n,a),this.props[e]&&this.props[e]((0,l.findDOMNode)(this))},a.render=function(){var e=this.props,t=e.children,a=e.in,n=o(e,["children","in"]),r=i.default.Children.toArray(t),l=r[0],c=r[1];return delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,i.default.createElement(s.default,n,a?i.default.cloneElement(l,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):i.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(i.default.Component);c.propTypes={};var u=c;t.default=u,e.exports=t.default},6097:function(e,t,a){"use strict";function n(){}function o(){return!0}function r(e){return!!(e||"").match(/\d/)}function i(e){return e.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&")}function l(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a="-"===e[0],n=a&&t;e=e.replace("-","");var o=e.split(".");return{beforeDecimal:o[0],afterDecimal:o[1]||"",hasNagation:a,addNegation:n}}function c(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var a=e.split("."),n=a[0].replace(/^0+/,"")||"0",o=a[1]||"";return"".concat(t?"-":"").concat(n).concat(o?".".concat(o):"")}function u(e,t,a){for(var n="",o=a?"0":"",r=0;r<=t-1;r++)n+=e[r]||o;return n}function d(e,t,a){if(-1!==["","-"].indexOf(e))return e;var n=-1!==e.indexOf(".")&&t,o=s(e),r=o.beforeDecimal,i=o.afterDecimal,l=o.hasNagation,c=parseFloat("0.".concat(i||"0")).toFixed(t).split("."),d=r.split("").reverse().reduce(function(e,t,a){return e.length>a?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e},c[0]),p=u(c[1]||"",Math.min(t,i.length),a),f=l?"-":"",m=n?".":"";return"".concat(f).concat(d).concat(m).concat(p)}function p(e,t){var a={};return Object.keys(e).forEach(function(n){t[n]||(a[n]=e[n])}),a}function f(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var a=e.createTextRange();return a.move("character",t),a.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}function m(e,t){for(var a=0,n=0,o=e.length,r=t.length;e[a]===t[a]&&a<o;)a++;for(;e[o-1-n]===t[r-1-n]&&r-n>a&&o-n>a;)n++;return{start:a,end:o-n}}function h(e,t,a){return Math.min(Math.max(e,t),a)}function g(e){return Math.max(e.selectionStart,e.selectionEnd)}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=n,t.returnTrue=o,t.charIsNumber=r,t.escapeRegExp=i,t.getThousandsGroupRegex=l,t.splitDecimal=s,t.fixLeadingZero=c,t.limitToScale=u,t.roundToPrecision=d,t.omit=p,t.setCaretPosition=f,t.findChangedIndex=m,t.clamp=h,t.getCurrentCaretPosition=g},6098:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(42),d=n(u),p=a(4),f=n(p),m=a(19),h=a(115),g=a(21),v=n(g),y=a(168),b=(n(y),a(171)),C=(n(b),a(172)),E=(n(C),a(331)),S=n(E),w=a(41),x=n(w),O=a(40),k=n(O),I=a(29),D=n(I),T=a(116),N=n(T),P=a(170),A=n(P),j=a(326),M=n(j),F=a(86),R=n(F),B=a(330),_=n(B),L=a(175),V=a(114),H=a(31),U=n(H),z=a(32),W=n(z),Y=a(8),K=(n(Y),{summary:{summary:""},reasonCodeList:"",correctInvoices:"",incorrectFlag:"",toggleExpand:""}),G=/(\d* invoice)|(because of .*)/g,q="Dispute raised for <Invoices> because of : <DISPUTE-REASON>",X="Create Dispute for <Invoices> because of <ReasonCode>",J=function(e){return{selectMenuClass:{fontSize:"0.875rem",opacity:.65,color:e.palette.primary.main},menuItemRoot:{color:e.palette.primary.main+" !important"},menuPaper:{backgroundColor:e.palette.solidBackground.main,height:"20rem !important",overflowY:"auto",border:"2px solid white"},test:{width:"auto",padding:"0px",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6},actionProgressBar:{color:e.palette.primary.main,alignItems:"center",width:"1.5rem !important",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem !important"},textField:{margin:"0px",fontSize:"0.875rem",color:e.palette.primary.main},testInitial:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6,"&:before":{borderBottom:"2px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},cardContent:{color:e.palette.primary.main,opacity:.65},actionIcon:{color:e.palette.secondary.main},errorFlag:{color:"#FF4444",marginLeft:".5rem"},selectIcon:{color:e.palette.secondary.main},disableDoneBtn:{opacity:.4,cursor:"default"}}},Z=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Q.call(a);var n=a.props.summary&&a.props.summary.summary?a.props.summary.summary.match(G):"",i=n[1]?n[1].substring(11):"";return a.props.reasonCodeList.indexOf(i)<0&&(i=""),a.state={reasonCode:i,invoiceCount:a.props.invoiceCount,openActionSave:!1,openWarningDialog:!1,openNoReasonDialog:!1,openNoInvoiceDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:"",change:!1},a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({incorrectFlag:e.incorrectFlag}),e.invoiceCount>=0&&e.invoiceCount!=this.state.invoiceCount&&this.setState({invoiceCount:e.invoiceCount},function(){t.updateSummary()})}},{key:"render",value:function(){var e=this.props.classes,t=(this.props.summary,this.props.fullScreen),a=this.props.reasonCodeList,n=a&&a.map(function(t,a){return c.default.createElement(A.default,{key:a,classes:{root:e.menuItemRoot},value:t},t)});return c.default.createElement(D.default,{container:!0,className:e.invoiceSample},c.default.createElement(D.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},c.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&c.default.createElement(R.default,{className:e.actionProgressBar}),this.state.isDone&&c.default.createElement(h.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),c.default.createElement(D.default,{item:!0},this.state.isDone&&c.default.createElement(v.default,{style:{opacity:1},className:e.cardContent},"Created  ")),c.default.createElement(D.default,{item:!0},!this.state.isDone&&c.default.createElement(v.default,{style:{opacity:1},className:e.cardContent},"Create  ")),c.default.createElement(D.default,{item:!0},c.default.createElement(v.default,{style:{fontWeight:"bold",opacity:1},className:e.cardContent},"DISPUTE  ")),c.default.createElement(D.default,{item:!0},0!==this.state.invoiceCount&&c.default.createElement("div",{style:{alignItems:"center",display:"flex"}},c.default.createElement(v.default,{style:{margin:"0 8px 0 6px"},className:e.cardContent},"for"),c.default.createElement(v.default,{style:{fontWeight:"bold"},className:e.cardContent,onClick:this.props.toggleExpand},this.state.invoiceCount+" Invoice"+(this.state.invoiceCount>1?"s":"")),this.props.incorrectFlag&&c.default.createElement(S.default,{className:e.errorFlag}))),c.default.createElement(D.default,{item:!0},c.default.createElement(v.default,{className:e.cardContent},"  with reason code of  ")),c.default.createElement(D.default,{item:!0,hidden:this.state.isDone},c.default.createElement(N.default,{id:"reason-code-field",value:this.getReasonCode(),onChange:this.handleReasonCodeChange,className:this.state.reasonCode?e.test:e.testInitial,classes:{selectMenu:e.selectMenuClass,icon:e.selectIcon},MenuProps:{classes:{paper:e.menuPaper}}},c.default.createElement(A.default,{classes:{root:e.menuItemRoot},value:"Select",disabled:!0},"Select"),n)),c.default.createElement(D.default,{item:!0,hidden:!this.state.isDone},c.default.createElement(M.default,{id:"reason-code-field-"+this.state.actionId,className:e.selectedReason,value:this.state.reasonCode,margin:"normal",padding:"normal",InputProps:{className:e.test,readOnly:!0,disableUnderline:!0}}))),c.default.createElement(_.default,{fullScreen:t,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),c.default.createElement(_.default,{fullScreen:t,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeWarningDialog,color:"primary",autoFocus:!0},"OK")]}),c.default.createElement(_.default,{fullScreen:t,open:this.state.openNoReasonDialog,onClose:this.closeNoReasonDialog,title:"Please select appropriate dispute reason.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeNoReasonDialog,color:"secondary",autoFocus:!0},"OK")]}),c.default.createElement(_.default,{fullScreen:t,open:this.state.openNoInvoiceDialog,onClose:this.closeNoInvoiceDialog,title:"No invoice selected. Please add at least an invoice to save the dispute.",actions:[c.default.createElement(d.default,{key:"CustomDialog0",onClick:this.closeNoInvoiceDialog,color:"secondary",autoFocus:!0},"OK")]}),c.default.createElement(D.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&c.default.createElement("div",null,c.default.createElement(h.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),c.default.createElement(h.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.reasonCode?"":e.disableDoneBtn,onClick:this.state.reasonCode?this.saveDispute:V.emptyFunction}))))}}]),t}(s.Component),Q=function(){var e=this;this.saveDispute=function(){var t=e.props.correctInvoices.map(function(e){var t={};return t.cmsDocHeaderId=e.id,t});if(e.props.incorrectFlag)return void e.setState({openWarningDialog:!0});if(!e.state.reasonCode)return void e.setState({openNoReasonDialog:!0});if(0==e.state.invoiceCount)return void e.setState({openNoInvoiceDialog:!0});e.setState({actionSaveProgressBar:!0});var a={reasonCode:e.state.reasonCode,customerId:e.props.customer.id,disputeItems:t};x.default.post(k.default.apiUrl+"/customer/"+e.props.customer.id+"/dispute",a).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1})})},this.generateActionSummary=function(){var t=e.state.invoiceCount;return q.replace("<DISPUTE-REASON>",e.state.reasonCode).replace("<Invoices>",1==t?t+" invoice":t+" invoices")},this.updateSummary=function(){var t=e.state.invoiceCount,a=((0,L.format)(new Date(e.state.selectedDate),"yyyy-MM-dd"),X.replace("<Invoices>",0===t?"<X invoices>":1===t?t+" invoice":t+" invoices").replace("<ReasonCode>",e.state.reasonCode));e.props.updateSummaryInParent(a)},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.closeNoReasonDialog=function(){e.setState({openNoReasonDialog:!1})},this.closeNoInvoiceDialog=function(){e.setState({openNoInvoiceDialog:!1})},this.handleReasonCodeChange=function(t){e.setState({change:!0,reasonCode:t.target.value},function(){e.updateSummary()})},this.getReasonCode=function(){var t=e.props.reasonCodeList;return e.state.reasonCode&&t.indexOf(e.state.reasonCode)>=0?e.state.reasonCode:"Select"}};Z.propTypes={classes:f.default.object.isRequired},Z.defaultProps=K;var $=(0,U.default)(J,W.default);t.default=(0,m.withStyles)($,{withTheme:!0})(Z)},6099:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.inputRef,a=e.onChange,n=o(e,["inputRef","onChange"]);return p.default.createElement(j.default,c({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$"}))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),p=n(d),f=a(42),m=n(f),h=a(4),g=n(h),v=a(19),y=a(115),b=a(6075),C=n(b),E=a(6076),S=a(23),w=a(333),x=n(w),O=a(21),k=n(O),I=a(326),D=(n(I),a(41)),T=n(D),N=a(40),P=n(N),A=a(6077),j=n(A),M=a(29),F=n(M),R=a(116),B=n(R),_=a(170),L=n(_),V=a(86),H=n(V),U=a(330),z=n(U),W=a(175),Y=a(114),K=a(49),G=a(31),q=n(G),X=a(32),J=n(X),Z=a(8),Q=(n(Z),/(\d{4}-\d{2}-\d{2}T[\d{2}:]*.\d{3}[-|+]\d{2}:\d{2})|(reason: .*)/g),$="Follow up  <Contact Name> <Followup Date> <Followup Text>",ee="Create Followup event for <Followup Date> reason: <Followup Text>",te=(new Date,function(e){return{selectMenuClass:{fontSize:"0.875rem",opacity:.65,color:e.palette.primary.main},menuItemRoot:{color:e.palette.primary.main},menuPaper:{backgroundColor:e.palette.solidBackground.main,height:"20rem !important",overflowY:"auto",border:"2px solid white"},test:{width:"auto",padding:"0px",color:e.palette.primary.main,opacity:.6,fontSize:"0.875rem","&:before":{borderBottom:"1px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},testInitial:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.primary.main,opacity:.6,"&:before":{borderBottom:"1px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},actionProgressBar:{color:e.palette.primary.main,alignItems:"center",width:"1.5rem !important",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem !important"},cardContent:{color:e.palette.primary.main,opacity:.65},actionIcon:{color:e.palette.secondary.main},selectIcon:{color:e.palette.secondary.main},disableDoneBtn:{opacity:.4,cursor:"default"}}}),ae=(0,S.createMuiTheme)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:x.default.A200,height:"13vh"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:x.default.A700},selected:{backgroundColor:x.default[400]},current:{color:x.default[900]}},MuiFormHelperText:{error:{color:"#FF8888 !important"}},MuiPickersModal:{dialogAction:{color:x.default[400]}}}}),ne=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));oe.call(a);var n=a.props.summary.summary.match(Q),o="",l="";return n&&n.length>0&&(o=new Date(n[0]),l=n[1]?n[1].substring(8):null),a.props.followupTextList.indexOf(l)<0&&(l=""),a.state={readOnly:!0,isEditing:!1,followupText:l,selectedDate:new Date(o),openActionSave:!1,openWarningDialog:!1,openInvalidDateDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:a.props.summary.save?(0,W.format)(new Date(n[0]),"MMM dd, yyyy"):"",actionSaveProgressBar:!1,incorrectFlag:null},a}return l(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({incorrectFlag:e.incorrectFlag})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props,n=(a.summary,a.theme),o=this.props.fullScreen,r=this.props.followupTextList,i=r.map(function(e,a){return p.default.createElement(L.default,{key:"followupText"+a,value:e,classes:{root:t.menuItemRoot}},e)});return p.default.createElement(F.default,{container:!0,className:t.invoiceSample},p.default.createElement(F.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},p.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&p.default.createElement(H.default,{className:t.actionProgressBar}),this.state.isDone&&p.default.createElement(y.Done,{style:{color:"#5FC32C",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),p.default.createElement(F.default,{item:!0},this.state.isDone&&p.default.createElement(k.default,{style:{opacity:1},className:t.cardContent},"Created  ")),p.default.createElement(F.default,{item:!0},!this.state.isDone&&p.default.createElement(k.default,{style:{opacity:1},className:t.cardContent},"Create  ")),p.default.createElement(F.default,{item:!0},p.default.createElement(k.default,{style:{opacity:1},className:t.cardContent},"FOLLOW-UP  ")),p.default.createElement(F.default,{item:!0},p.default.createElement(k.default,{className:t.cardContent},"event for  ")),p.default.createElement(F.default,{item:!0}," ",this.state.isDone&&p.default.createElement(k.default,{style:{fontWeight:"bold",color:n.palette.primary.main}},this.state.finalSelectedDate)),p.default.createElement(F.default,{item:!0},!this.state.isDone&&p.default.createElement(E.MuiPickersUtilsProvider,{utils:C.default},p.default.createElement(S.MuiThemeProvider,{theme:ae},p.default.createElement(E.DatePicker,{style:{maxWidth:"5.35rem"},allowKeyboardControl:Boolean(!1),format:"MMM dd, yyyy",minDateMessage:"Previous date not acceptable",InputProps:{id:"date-input-field-"+this.state.actionId,className:t.test,readOnly:Boolean(!0),disableUnderline:Boolean(!0)},ref:function(t){e.picker=t},value:this.state.selectedDate,onChange:this.handleDateChange,animateYearScrolling:!1,minDate:new Date}),p.default.createElement(y.DateRange,{className:t.actionIcon,onClick:this.openPicker})))),p.default.createElement(F.default,{item:!0,hidden:this.state.isDone&&!this.state.followupText},p.default.createElement(k.default,{className:t.cardContent},"  for  ")),p.default.createElement(F.default,{item:!0,hidden:this.state.isDone},p.default.createElement(B.default,{id:"followup-text-field",value:this.getFollowupText(),onChange:this.handleFollowupTextChange,classes:{selectMenu:t.selectMenuClass,icon:t.selectIcon},className:this.state.followupText?t.test:t.testInitial,MenuProps:{classes:{paper:t.menuPaper}}},p.default.createElement(L.default,{classes:{root:t.menuItemRoot},value:"Select",disabled:!0},"Select"),i)),p.default.createElement(F.default,{item:!0,hidden:!this.state.isDone},p.default.createElement(k.default,{className:t.selectMenuClass},this.state.followupText))),p.default.createElement(z.default,{fullScreen:o,open:this.state.openNoTextDialog,onClose:this.closeNoTextDialog,title:"Please select appropriate followup reason.",actions:[p.default.createElement(m.default,{onClick:this.closeNoTextDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(z.default,{fullScreen:o,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:"This will be removed permanently from the suggested actions. This action cannot be undone.",actions:[p.default.createElement(m.default,{onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),p.default.createElement(m.default,{onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),p.default.createElement(z.default,{fullScreen:o,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:" Unable to complete the action. Please resolve the errors to approve.",actions:[p.default.createElement(m.default,{onClick:this.closeWarningDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(z.default,{fullScreen:o,open:this.state.openInvalidDateDialog,onClose:this.closeInvalidDateDialog,title:"Found invalid date. Please correct the date to proceed.",actions:[p.default.createElement(m.default,{onClick:this.closeInvalidDateDialog,color:"secondary",autoFocus:!0},"OK")]}),p.default.createElement(F.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&p.default.createElement("div",null,p.default.createElement(y.HighlightOff,{style:{color:"#FF8888",padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),p.default.createElement(y.CheckCircleOutline,{style:{color:"#5FC32C"},className:this.state.followupText?"":t.disableDoneBtn,onClick:this.state.followupText?this.saveFollowup:Y.emptyFunction}))))}}]),t}(d.Component),oe=function(){var e=this;this.validateFollowupData=function(){return e.state.incorrectFlag?(e.setState({openWarningDialog:!0}),!1):!!(0,K.isValidDate)(e.state.selectedDate)||(e.setState({openInvalidDateDialog:!0}),!1)},this.saveFollowup=function(){if(e.validateFollowupData()){if(!e.state.followupText)return void e.setState({openNoTextDialog:!0});e.setState({actionSaveProgressBar:!0});var t=new Date(e.state.selectedDate),a=(0,W.format)(t,"yyyy-MM-dd"),n={dueDate:a,reminderDate:a,subject:e.state.followupText};T.default.post(P.default.apiUrl+"/customer/"+e.props.customer.id+"/task",n).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({finalSelectedDate:e.getDateFieldValue()},function(){e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1})})}},this.generateActionSummary=function(){var t=(e.state.invoiceCount,e.props.calledToNumber),a="Unknown "!=e.props.callToName&&"Unnamed Unnamed"!=e.props.callToName||!t?e.props.callToName:t;return $.replace("<Contact Name>",a).replace("<Followup Date>",e.state.selectedDate?"on "+(0,W.format)(e.state.selectedDate,"MM-dd-yyyy"):"").replace("<Followup Text>",e.state.followupText?"for "+e.state.followupText:"")},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.closeNoTextDialog=function(){e.setState({openNoTextDialog:!1})},this.closeInvalidDateDialog=function(){e.setState({openInvalidDateDialog:!1})},this.toggleEditing=function(t){e.setState({readOnly:!1,isEditing:!0},function(){document.getElementById("invoice-amount-field-"+e.state.actionId).focus()})},this.handleDateChange=function(t){e.setState({selectedDate:t},function(){e.updateSummary()})},this.getDateFieldValue=function(){var t="date-input-field-"+e.state.actionId;return document.getElementById(t).value},this.handleFollowupTextChange=function(t){e.setState({change:!0,followupText:t.target.value},function(){e.updateSummary()})},this.getFollowupText=function(){var t=e.props.followupTextList;return e.state.followupText&&t.indexOf(e.state.followupText)>=0?e.state.followupText:"Select"},this.updateSummary=function(){var t=(e.state.invoiceCount,(0,W.format)(new Date(e.state.selectedDate),"yyyy-MM-dd")),a=ee.replace("<Followup Date>",t).replace("<Followup Text>",e.state.followupText?e.state.followupText:"");e.props.updateSummaryInParent(a)},this.openPicker=function(t){e.picker.open(t)}};s.propTypes={inputRef:g.default.func.isRequired,onChange:g.default.func.isRequired},ne.propTypes={classes:g.default.object.isRequired};var re=(0,q.default)(te,J.default);t.default=(0,v.withStyles)(re,{withTheme:!0})(ne)},6100:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"73vw",border:e.palette.primary.main+" 2px solid"}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),f=a(19),m=a(328),h=n(m),g=a(329),v=n(g),y=a(327),b=n(y),C=a(353),E=(n(C),a(29)),S=n(E),w=a(355),x=(n(w),a(352)),O=(n(x),a(356)),k=(n(O),a(68)),I=n(k),D=a(42),T=n(D),N=a(169),P=(n(N),a(72)),A=(n(P),a(119)),j=(n(A),a(21)),M=n(j),F=a(331),R=n(F),B=a(168),_=n(B),L=a(171),V=n(L),H=a(172),U=n(H),z=a(71),W=n(z),Y=a(6078),K=n(Y),G=a(338),q=n(G),X=a(67),J=a(49),Z=a(8),Q=n(Z),$=a(6101),ee=(n($),/(Promise to pay for \d*)|([0-9]{4}[-][0-9]{2}[-][0-9]{2})|(\d* invoice)/g),te=/(\d* invoice)|(because of .*)/g,ae=function(e){return{invoiceHeader:{height:"6.48148148148vh",display:"flex",alignItems:"center",backgroundColor:e.palette.solidBackground.main,borderBottom:"#395C73 solid 1px",paddingLeft:"3rem"},checkedIcon:{color:e.palette.secondary.main,zIndex:"3",height:"calc(1.2vh + 1.2vw)",width:"calc(1.2vh + 1.2vw)"},invoiceList:{width:"auto",height:"auto",marginTop:"1rem",marginBottom:"1.9rem",justifyContent:"space-around",overflow:"hidden",paddingLeft:"3rem"},correction:{display:"flex"},correctionAlert:{color:"#FF8888",marginLeft:".5rem"},errorFlag:{color:"#FF4444",marginLeft:".5rem"},gridList:{width:"100%",height:"100%",margin:"10px 0px -2px -.4rem !important"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",alignItems:"center",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px"},selectedGridListDiv:{backgroundColor:"#39586F"},incorrectDiv:{display:"flex",border:"#FF8888 dashed 1px",width:"15.41vw",height:"7.40vh",alignItems:"center"},paper:{position:"absolute",width:100*e.spacing.unit,backgroundColor:e.palette.solidBackground.main,boxShadow:e.shadows[5],padding:1*e.spacing.unit,paddingLeft:0,paddingRight:0},button:{color:e.palette.primary.main,marginRight:"2em",fontSize:"0.888rem"},addIcon:{width:"calc(1.1vh + 1.1vw)",height:"calc(1.1vh + 1.1vw)",color:e.palette.secondary.main},primaryText:{color:e.palette.primary.main}}},ne=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));oe.call(a);var n=a.props.sum,i=a.props.intentType,l=void 0;if("P2P"==i){l=n.summary.match(ee)[0].match(/[0-9]{1,}/),l||(l=0)}var s=new Map,c=a.props.correctInvoices;if(c)for(var u=0;u<c.length;u++){var d=c[u];s.set(d.id.toString(),!1)}if("Dispute"==i){var p=n.summary.match(te),f=p[1]?p[1].substring(11):"General Dispute";f||(f="General Dispute")}return a.state={allInvoicesSelected:!1,invoicesCheckboxMap:s,totalAmount:l,invoiceCount:a.props.invoiceCount,correctInvoices:a.props.correctInvoices,correctInvoicesMap:a.props.correctInvoicesMap,incorrectFlag:a.props.incorrectFlag,isMessageDialogOpen:!1,openAddInvoiceModal:!1,invoices:a.props.invoices,allInvoices:a.props.invoices,executeAppendInvoice:!1},a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{style:{width:"100%"}},!this.props.done&&u.default.createElement("div",null,u.default.createElement(W.default,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openAddInvoiceModal,onClose:this.closeAddInvoiceModal},u.default.createElement("div",{style:l(n),className:a.paper},u.default.createElement("div",{style:{width:"100%",display:"flex",alignItem:"center",borderBottom:"1px solid  #395C73 ",padding:".2rem 0 .6rem 0"}},u.default.createElement("span",{style:{marginLeft:"1rem",fontSize:"1.3rem",color:n.palette.primary.main,opacity:.65}},"Select and Add Invoices"),u.default.createElement(q.default,{onClick:this.closeAddInvoiceModal,style:{position:"fixed",right:"5%",opacity:.65,cursor:"pointer",color:n.palette.primary.main}})),u.default.createElement(K.default,{setSelectedInvoices:this.setSelectedInvoices,postCall:!0,appendInvoices:this.appendInvoices,filterInvoices:this.filterInvoices,bucketNames:this.props.bucketNames,invoices:this.state.invoices,correctInvoicesMap:this.state.correctInvoicesMap}),u.default.createElement(S.default,{container:!0,xs:12,justify:"flex-end",alignItems:"center",style:{borderTop:"1px solid #395C73",paddingTop:".6rem"}},u.default.createElement(T.default,{variant:"contained",color:"secondary",className:a.button,onClick:function(){return e.appendInvoices(e.state.selectedInvoices)}},"Save ",this.selectedInvoicesLength())))),u.default.createElement("div",{className:a.invoiceHeader},u.default.createElement("div",{style:{display:"flex",alignItems:"center",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},this.state.invoiceCount>0&&u.default.createElement("div",{style:{display:"flex",alignItems:"center",color:n.palette.secondary.main,paddingRight:"1.56vw"}},u.default.createElement(b.default,{style:{padding:"0px"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.allInvoicesSelected,onClick:this.handleAllSelection}),u.default.createElement(M.default,{className:a.primaryText}," Select all")),u.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u.default.createElement(T.default,{variant:"outlined",color:"secondary",size:"small",style:{height:"4.44vh",paddingLeft:"0.666rem",paddingRight:"0.666rem"},onClick:this.openAddInvoiceModal},u.default.createElement(M.default,{style:{marginLeft:"4px",marginRight:"4px",fontSize:".89rem",color:n.palette.secondary.main}},"Select Invoices"))),u.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u.default.createElement(T.default,{variant:"outlined",color:"secondary",size:"small",style:{height:"4.44vh",marginLeft:"1rem",padding:"0 0.666rem"},onClick:this.deleteAllSelection},u.default.createElement(I.default,{className:a.addIcon}),u.default.createElement(M.default,{style:{marginLeft:"4px",fontSize:".89rem",color:n.palette.secondary.main}},"Remove")))))),u.default.createElement("div",{className:a.invoiceList},u.default.createElement("div",{className:a.correction},u.default.createElement(M.default,{className:a.primaryText},this.state.invoiceCount," ",this.state.invoiceCount>1?"Invoices ":"Invoice "),("P2P"==this.props.intentType||"Dispute"==this.props.intentType)&&u.default.createElement(M.default,{style:{opacity:.5},className:a.primaryText}," ($",this.calculateAmount(),")"),this.state.incorrectFlag&&u.default.createElement("div",{style:{display:"flex",marginLeft:".5rem",alignItems:"center"}},u.default.createElement(R.default,{className:a.errorFlag}),u.default.createElement(M.default,{className:a.correctionAlert},"Correction Required(",this.state.correctInvoices.length-Object.keys(this.state.correctInvoicesMap).length,")"))),u.default.createElement(h.default,{cellHeight:"auto",className:a.gridList},this.state.correctInvoices.map(function(t){return u.default.createElement(v.default,{cols:1,key:t.id,style:{height:"auto",width:"16vw",margin:"0.4rem"}},u.default.createElement("div",{className:t.id in e.state.correctInvoicesMap?e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected?(0,Q.default)(a.selectedGridListDiv,a.gridListDiv):a.gridListDiv:a.incorrectDiv},!e.props.done&&u.default.createElement(b.default,{style:{padding:"2px",left:"3%",alignItems:"center"},icon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:u.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),disabled:!(t.id in e.state.correctInvoicesMap),checked:e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected,onClick:function(){return e.toggleCheckbox(t.id.toString())}}),u.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},u.default.createElement(M.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.5,lineHeight:"1.7rem"}},t.documentNumber),u.default.createElement(M.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",t.id in e.state.correctInvoicesMap?(0,X.formatter)(t.currentOpenAmount):"----")),!e.props.done&&u.default.createElement(I.default,{style:{position:"absolute",right:"10%",top:"27%",width:"calc(.8vh + .8vw)",height:"calc(.8vh + .8vw)"},className:a.addIcon,onClick:function(){e.deleteInvoice(t.id)}})))}))),u.default.createElement(_.default,{open:this.state.isMessageDialogOpen,onClose:this.handleMessageDialog,"aria-labelledby":"responsive-dialog-title"},u.default.createElement(U.default,{id:"responsive-dialog-title"},"Please select some invoices."),u.default.createElement(V.default,null,u.default.createElement(T.default,{onClick:this.handleMessageDialog,color:"default"},"OK"))))}}]),t}(c.Component),oe=function(){var e=this;this.setSelectedInvoices=function(t){e.setState({selectedInvoices:t})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0;for(var n in t)1==t[n]&&a++;if(0!=a)return"("+a+")"},this.filterInvoices=function(t){if("All"==t)e.setState({invoices:e.state.allInvoices});else{for(var a=e.state.allInvoices,n=[],o=0;o<a.length;o++){for(var r=[],i=0;i<a[o].length;i++)"Dispute"==t&&null!=a[o][i].disputeStatus?r.push(a[o][i]):"Predicted Delinquent"==t&&1==a[o][i].p2pDelinquent?r.push(a[o][i]):"Upcoming P2P"==t&&1==a[o][i].p2pUpcoming?r.push(a[o][i]):"Broken P2P"==t&&1==a[o][i].p2pBroken&&r.push(a[o][i]);n.push(r)}e.setState({invoices:n})}},this.toggleCheckbox=function(t){var a=e.state.invoicesCheckboxMap.get(t),n=e.state.invoicesCheckboxMap;n.set(t,!a);var o=!0;e.setState({invoicesCheckboxMap:n},function(){var t=!0,a=!1,r=void 0;try{for(var i,l=n.keys()[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var s=i.value;if(!n.get(s)){o=!1;break}}}catch(e){a=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw r}}e.setState({allInvoicesSelected:o})})},this.deleteInvoice=function(t){var a=e.state.correctInvoicesMap;for(var n in a)if(n==t){delete a[n];break}var o=e.state.invoicesCheckboxMap;o.delete(t),e.setState({invoicesCheckboxMap:o,correctInvoices:e.state.correctInvoices.filter(function(e){return e.id!=t}),correctInvoicesMap:a},function(){e.updateInvoicesThings(t),e.props.updateInvoices(e.state.correctInvoices,a)})},this.handleAllSelection=function(){var t=e.state.invoicesCheckboxMap;e.setState(function(e){return{allInvoicesSelected:!e.allInvoicesSelected}},function(){var a=!0,n=!1,o=void 0;try{for(var r,i=t.keys()[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var l=r.value;t.set(l,e.state.allInvoicesSelected)}}catch(e){n=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}e.setState({invoiceChecksMap:t})})},this.deleteAllSelection=function(){var t=e.state.correctInvoices.filter(function(t){return 1==e.state.invoicesCheckboxMap.get(t.id.toString())});if(0==t.length)return void e.setState({isMessageDialogOpen:!0});for(var a=e.state.correctInvoices.filter(function(t){return 0==e.state.invoicesCheckboxMap.get(t.id.toString())}),n=e.state.invoicesCheckboxMap,o=e.state.correctInvoicesMap,r=!1,i=a.length,l=!0,s=0,c=t.length;s<c;++s){var u=t[s].id.toString();n.delete(u),delete o[u]}e.setState({correctInvoices:a,invoicesCheckboxMap:n,correctInvoicesMap:o,invoiceCount:i},function(){for(var t=0;t<i;t++){if(!(a[t].id.toString()in o)){r=!0;break}}for(var s=0;s<i;s++){var c=a[s],u=c.id.toString();if(!n.get(u)){l=!1;break}}e.setState({incorrectFlag:r,allInvoicesSelected:l}),e.props.onUpdateInvoice(r,i),e.props.updateInvoices(e.state.correctInvoices,e.state.correctInvoicesMap)})},this.handleMessageDialog=function(){e.setState(function(e){return{isMessageDialogOpen:!e.isMessageDialogOpen}})},this.openAddInvoiceModal=function(){e.setState({openAddInvoiceModal:!0})},this.closeAddInvoiceModal=function(){e.setState({openAddInvoiceModal:!1})},this.appendInvoices=function(t){for(var a=e.state.correctInvoicesMap,n=e.state.correctInvoices.slice(0),o=e.state.invoicesCheckboxMap,r=0;r<e.state.correctInvoices.length;r++)e.state.correctInvoicesMap[e.state.correctInvoices[r].id]&&(n.splice(n.indexOf(e.state.correctInvoices[r]),1),o.delete(e.state.correctInvoices[r].id.toString()));e.setState({correctInvoices:n,correctInvoicesMap:{},invoicesCheckboxMap:o}),a={};for(var i in t)if(1==t[i])for(var l=!1,s=0;s<e.props.invoices.length&&!l;s++){for(var c=0;c<e.props.invoices[s].length;c++)if(e.props.invoices[s][c].id==i){n.push(e.props.invoices[s][c]),l=!0;break}a[i]=!0}if(t){var u=e.state.invoicesCheckboxMap;for(var d in t)1==t[d]&&u.set(d.toString(),!1);e.setState({invoicesCheckboxMap:u})}e.setState({correctInvoices:n,correctInvoicesMap:a,invoiceCount:n.length},function(){e.props.updateInvoices(e.state.correctInvoices,a)}),e.props.onUpdateInvoice(e.state.incorrectFlag,n.length),e.setState({openAddInvoiceModal:!1})},this.updateInvoicesThings=function(t){var a=e.state.correctInvoicesMap,n=!1,o=e.state.correctInvoices,r=o.length;if(delete a[t],0==r)return e.setState({incorrectFlag:!1,invoiceCount:0}),void e.props.onUpdateInvoice(!1,0);delete a[t],e.setState({correctInvoicesMap:a},function(){for(var t=0;t<r;t++){if(!(o[t].id in a)){n=!0;break}}e.setState({incorrectFlag:n,invoiceCount:r}),e.props.onUpdateInvoice(n,r)})},this.calculateAmount=function(){var t=0,a=e.state.correctInvoices;for(var n in a)t+=a[n].id in e.state.correctInvoicesMap?a[n].currentOpenAmount:0;return 0==t?0:(0,J.formatCurrencyToUSFormat)(t)}};ne.propTypes={classes:p.default.object.isRequired},t.default=(0,f.withStyles)(ae,{withTheme:!0})(ne)},6101:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(8),p=(n(d),a(67)),f=a(21),m=n(f),h=a(327),g=n(h),v=a(328),y=n(v),b=a(329),C=n(b),E=function(e){return{gridList:{width:"100%",height:"100%",margin:"0 -2px -2px -2px !important",overflow:"hidden"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.secondary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{backgroundColor:"#39586F"},gridListTile:{height:"auto !important"}}},S={invoicesCheckboxMap:new Map,correctInvoicesMap:{},selectedInvoices:[],invoices:[],done:!0,inInvoiceTable:!1},w=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.addInvoice=function(e){a.props.addInvoice(e)},a.getClassOfGridListTile=function(e,t,n,o){return invoice.id in a.state.correctInvoicesMap?t.get(invoice.id.toString())||a.state.selectedInvoices[invoice.id]?classes.selectedGridListDiv:classes.gridListDiv:classes.incorrectDiv},a.state={invoices:a.props.invoices,selectedInvoices:a.props.selectedInvoices,correctInvoicesMap:a.props.correctInvoicesMap,invoicesCheckboxMap:a.props.invoicesCheckboxMap},a}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({invoices:e.invoices,selectedInvoices:e.selectedInvoices,correctInvoicesMap:e.correctInvoicesMap,invoicesCheckboxMap:e.invoicesCheckboxMap})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return c.default.createElement(y.default,{cellHeight:"auto",className:a.gridList},this.state.correctInvoices.map(function(t){return c.default.createElement(C.default,{cols:1,key:t.id,style:{height:"auto",width:"16vw",margin:"0.4rem"}},c.default.createElement("div",{className:e.getClassOfGridListTile(e.state.correctInvoicesMap,e.state.invoicesCheckboxMap,t.id,e.state.selectedInvoices)},!e.props.done&&c.default.createElement(g.default,{style:{padding:"2px",left:"3%",alignItems:"center"},icon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:c.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),disabled:!(t.id in e.state.correctInvoicesMap),checked:e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected,onClick:function(){return e.toggleCheckbox(t.id.toString())}}),c.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},c.default.createElement(m.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.primary.main,opacity:.5,lineHeight:"1.7rem"}},t.documentNumber),c.default.createElement(m.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.primary.main,lineHeight:"1.7rem"}},"$",t.id in e.state.correctInvoicesMap?(0,p.formatter)(t.currentOpenAmount):"----")),!(e.props.inInvoiceTable||e.props.done)&&c.default.createElement(Close,{style:{position:"absolute",right:"10%",top:"27%",width:"calc(.8vh + .8vw)",height:"calc(.8vh + .8vw)"},className:a.addIcon,onClick:function(){e.deleteInvoice(t.id)}})))}))}}]),t}(c.default.Component);w.defaultProps=S,t.default=(0,u.withStyles)(E,{withTheme:!0})(w)},6102:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=n(u),p=a(19),f=a(29),m=n(f),h=a(23),g=a(89),v=n(g),y=a(6103),b=n(y),C=a(31),E=n(C),S=a(32),w=n(S),x=a(8),O=n(x),k=function(e){return{summaryNotesBox:{maxHeight:"90vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main},summaryNoteitems:{whiteSpace:"pre-line",marginTop:"1em",wordBreak:"break-word",overflowY:"auto",maxHeight:"75.5vh"},summaryNotesHeader:{fontSize:"1.0666rem",fontWeight:"normal",paddingTop:"2.22vh",paddingLeft:"1.026vw",lineHeight:"normal",color:e.palette.primary.main,opacity:.65},notesList:{color:e.palette.primary.main,paddingLeft:"0",marginLeft:"1.7rem"},emptySummaryText:{color:e.palette.primary.main},emptySummaryGrid:{height:"15vh",whiteSpace:"pre-line",wordBreak:"break-word"},warningLine:{display:"flex",alignItems:"center",fontWeight:500,color:e.palette.primary.main,fontSize:".8em",opacity:"0.65"},icon:{marginRight:".5vw"},hideOverflow:{overflow:"hidden"}}},I={contactIndex:null,customer:{},invoiceList:[],summaryNotes:"",nextCustomerUrl:null,toCallCustomers:null,collector:{},nonActionIncluded:!1},D={contactIndex:d.default.number,customer:d.default.object,invoiceList:d.default.array,summaryNotes:d.default.string,nextCustomerUrl:d.default.string,toCallCustomers:d.default.number,collector:d.default.object,classes:d.default.object.isRequired,nonActionIncluded:d.default.bool},T=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setDefaultEmailIdChips=function(){var e=a.props.contactIndex,t=[];if(null!=e&&"Unnamed"!==a.props.customer.contacts[e].firstName&&"Unnamed"!==a.props.customer.contacts[e].lastName){var n=a.props.customer.contacts[e].firstName+" "+a.props.customer.contacts[e].lastName;t.push({key:0,label:n,emailId:a.props.customer.contacts[e].email,isValidEmail:!0,isEditing:!1})}a.setState({emailIdChips:t})},a.state={emailIdChips:[]},a}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.setDefaultEmailIdChips()}},{key:"render",value:function(){var e=this.props,t=(e.customer,e.classes),a=e.summaryNotes,n=e.theme;return c.default.createElement("div",{style:{width:"100%"}},c.default.createElement(m.default,{item:!0,xs:12,style:{display:"flex"}},c.default.createElement(m.default,{item:!0,xs:5},c.default.createElement(m.default,{item:!0,xs:12,className:t.summaryNotesBox},c.default.createElement(m.default,{item:!0},c.default.createElement(h.Typography,{className:t.summaryNotesHeader},"SUMMARY NOTES")),c.default.createElement(m.default,{items:!0,id:"summaryNoteitems",className:a&&0!=a.length?t.summaryNoteitems:(0,O.default)(t.emptySummaryGrid,t.centerFlexBox)},(!a||0==a.length)&&c.default.createElement("div",{className:t.warningLine},c.default.createElement(v.default,{className:t.icon}),c.default.createElement("span",{className:t.emptySummaryText},"There is no summary notes ")),a&&0==!a.length&&c.default.createElement("ul",{className:t.notesList},a.map(function(e){return c.default.createElement("li",null,c.default.createElement(h.Typography,{style:{color:n.palette.primary.main,opacity:1,fontSize:"0.88888888888rem",marginBottom:"0.888rem"}},e))}))))),c.default.createElement(m.default,{item:!0,xs:7,style:{paddingLeft:"1.041vw"}},c.default.createElement(b.default,{summaryNotes:a,collector:this.props.collector,nonActionIncluded:this.props.nonActionIncluded,emailIdChips:this.state.emailIdChips,customer:this.props.customer,emailAttachements:this.props.invoiceList}))))}}]),t}(s.Component);T.propTypes=D,T.defaultProps=I;var N=(0,E.default)(k,w.default);t.default=(0,p.withStyles)(N,{withTheme:!0})(T)},6103:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),f=a(19),m=a(23),h=a(91),g=n(h),v=a(6104),y=a(68),b=n(y),C=a(328),E=n(C),S=a(329),w=n(S),x=a(347),O=n(x),k=a(167),I=n(k),D=a(35),T=n(D),N=a(6105),P=a(114),A=function(e){return{summaryEmailHeader:{alignItems:"center",display:"flex"},summaryEmail:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:".125rem",marginBottom:"1.3rem",height:"79vh",borderRadius:"4px",backgroundColor:e.palette.cardBackground.main},summaryEmailForm:{padding:"0.5rem 0.5rem 0 0.5rem"},emailIdChipsInput:{borderBottom:"0.0625rem solid rgba(93, 170, 224, 0.5)"},emailAddLabel:{fontSize:"0.888rem",marginRight:"0.3em",opacity:.5,color:e.palette.secondary.main},emailIdChips:{height:"1.4em",fontSize:"0.888rem",paddingLeft:"0.1777rem",paddingRight:"0.1777rem",marginRight:"0.2em",backgroundColor:e.palette.secondary.main,color:e.palette.primary.main,"&> span":{fontSize:"0.9rem",marginRight:"0.3rem"},"&:hover, &:focus":{backgroundColor:e.palette.secondary.main},"&:active":{backgroundColor:e.palette.secondary.main}},invalidEmailIdChips:{height:"1.4em",fontSize:"0.888rem",paddingLeft:"0.1777rem",paddingRight:"0.1777rem",marginRight:"0.2em","&> span":{fontSize:"0.9rem",marginRight:"0.3rem"},backgroundColor:"#ff4444",color:e.palette.primary.main,"&:hover, &:focus":{backgroundColor:"#f73838"},"&:active":{backgroundColor:"#f73838"}},removeEmailId:{fontSize:"0.8em",color:e.palette.primary.main},emailIdInput:{marginRight:"0.3125rem",width:"95%",resize:"horizontal",color:e.palette.primary.main,fontSize:"0.9rem"},emailSubject:{borderBottom:"0.0625rem solid rgba(93, 170, 224, 0.5)",fontSize:"0.888rem",color:e.palette.primary.main,"&::placeholder":{color:"#a7a7a7"}},disabledSubjectInput:{fontSize:"0.888rem",color:e.palette.primary.main},summaryEmailBody:{height:"60vh",overflowY:"auto",overflowX:"hidden"},emailBodyText:{marginTop:"0.9rem",color:e.palette.primary.main+" !important"},invoiceCount:{marginBottom:"0.8rem"},invoiceAttachements:{height:"10vh"},gridListDiv:{display:"flex",border:e.palette.secondary.main+" solid 0.0625rem",padding:"0.25rem",borderRadius:"0.25rem"},summaryEmailFooter:{height:"7.4vh",width:"100%",display:"flex",flexDirection:"row-reverse",alignItems:"center",backgroundColor:" #2c414f;"},sendSummaryEmailBtn:{height:"2em",width:"6em",marginRight:"1.2rem",fontSize:"smaller",alignSelf:"center",color:e.palette.primary.main},disableIcon:{display:"none"},notesList:{color:e.palette.primary.main,paddingLeft:"0",marginLeft:"1.7rem"},emptySummaryText:{color:e.palette.primary.main},emptySummaryGrid:{height:"15vh",whiteSpace:"pre-line",wordBreak:"break-word"},warningLine:{display:"flex",alignItems:"center",fontWeight:500,color:e.palette.primary.main,fontSize:".8em",opacity:"0.65"},icon:{marginRight:".5vw"},hideOverflow:{overflow:"hidden"}}},j={summaryNotes:"",collector:{},nonActionIncluded:!1,emailIdChips:[],customer:{},emailAttachements:[]},M={summaryNotes:p.default.string,collector:p.default.object.isRequired,nonActionIncluded:p.default.bool,emailIdChips:p.default.array,customer:p.default.object.isRequired,emailAttachements:p.default.array},F=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleTemplateChange=function(e){a.setState({emailTemplateName:e.target.value});for(var t=a.state.emailTemplates,n=0;n<t.length;n++)if(t[n].name==e.target.value){a.setState({emailTemplateSubject:t[n].subject}),a.setState({emailTemplateBody:t[n].body}),a.setState({templateId:t[n].id});break}},a.handleEmailEnter=function(e){if(("blur"===e.type||"Enter"===e.key)&&e.target.value.trim()){e.target.value&&(e.target.value=e.target.value.trim());var t=(0,N.validateEmail)(e.target.value),n=a.state.emailIdChips,o={key:n.length,label:e.target.value,emailId:e.target.value,isValidEmail:t,isEditing:!1};n.push(o),a.setState({toAddr:n}),e.target.value=""}},a.handleEmailIdDelete=function(e){return function(){a.emailAdd.current.focus(),a.setState(function(t){var a=[].concat(o(t.emailIdChips)),n=a.indexOf(e);return a.splice(n,1),{emailIdChips:a}})}},a.handleSubjectChange=function(e){a.setState({emailTemplateSubject:e.target.value})},a.handleEmailBodyChange=function(e){var t=Math.round(document.getElementById("emailBody").scrollHeight);t<=12&&(t=12),a.setState({emailTemplateBody:e.target.value,emailBodyHeight:t})},a.removeAttachement=function(e){for(var t=a.state.emailAttachements,n=0;n<t.length;n++)if(t[n].id==e){t.splice(n,1),a.setState({emailAttachements:t});break}},a.toggleToEdit=function(e){var t=a.state.emailIdChips;t[e].isEditing=!0,a.setState({emailIdChips:t})},a.handleEditEmail=function(e,t){if(("blur"===t.type||"Enter"===t.key)&&t.target.value){t.target.value&&(t.target.value=t.target.value.trim());var n=(0,N.validateEmail)(t.target.value),o=a.state.emailIdChips;o[e].value=t.target.value,o[e].isValidEmail=n,o[e].isEditing=!1,a.setState({toAddr:o})}},a.handleChange=function(e,t){var n=a.state.emailIdChips;n[e].value=t.target.value,a.setState({emailIdChips:n})},a.sendSummaryEmail=function(){for(var e=[],t=0;t<a.state.emailAttachements.length;t++)e.push(a.state.emailAttachements[t].id);if(0==a.state.emailIdChips.length)return void a.openSnackBarWithMessage("Please specify at least one recipient.");for(var n="",t=0;t<a.state.emailIdChips.length;t++)a.state.emailIdChips[t].isValidEmail&&(n+=a.state.emailIdChips[t].emailId+",");var o=n.lastIndexOf(",");n=n.slice(0,o);var r=a.state.emailTemplateBody;r=r.replace(/\n/g,"<br />");var i={body:r,subject:a.state.emailTemplateSubject,customerId:a.props.customer.id,documentIds:e,from:a.props.collector.emailId,to:n};a.setState({emailSent:!0}),v.correspondenceService.sendCallSummary(i).then(function(e){a.openSnackBarWithMessage("Email sent"),a.setState({emailSent:!0})}).catch(function(e){a.setState({emailSent:!1}),a.openSnackBarWithMessage("Error in sending email"),console.log(e)})},a.openSnackBarWithMessage=function(e){a.setState({snackBarMessage:e}),a.setState({snackBarOpen:!0})},a.closeSnackbar=function(){a.setState({snackBarOpen:!1})},a.setDefaultBody=function(){var e=a.props,t=e.collector,n=e.summaryNotes,o=e.nonActionIncluded,r=a.state.emailAttachements.length>0?{PFAMessage:P.PFAMessage}:"",i="",l=t.firstName?a.props.collector.firstName:"",s=t.lastName?a.props.collector.lastName:"";for(var c in n){if(c==n.length-1&&o)break;i+=n[c].trim()?"\n• "+n[c]:""}i=i?"\nPlease find below the summary of our conversation:\n"+i+"\n\n"+r+"\n":"";var u=i?"Greetings,\n"+i+"\nRegards,\n"+l+" "+s:"",d=(u.match(/\n/g)||[]).length;a.setState({emailTemplateBody:u,emailBodyHeight:d+1})},a.emailAdd=u.default.createRef(),a.state={emailIdChips:a.props.emailIdChips,templateId:-1,emailTemplateSubject:P.defaultEmailSubject,emailSent:!1,emailBodyHeight:12,emailAttachements:a.props.emailAttachements,snackBarOpen:!1,snackBarMessage:"",emailTemplateName:"",emailTemplateBody:"",emailTemplates:[]},a}return l(t,e),s(t,[{key:"componentDidMount",value:function(){this.setDefaultBody()}},{key:"componentWillReceiveProps",value:function(e){this.setState({emailIdChips:e.emailIdChips})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:a.summaryEmailHeader},u.default.createElement(m.Typography,{style:{fontSize:"1.06666rem",fontWeight:"normal",color:"#ffffff",opacity:.65,paddingBottom:"0.2em"}},"SEND SUMMARY MAIL")),u.default.createElement("div",{className:a.summaryEmail},u.default.createElement("div",{className:a.summaryEmailForm},u.default.createElement("div",{className:a.emailIdChipsInput},u.default.createElement("span",{className:a.emailAddLabel},"To "),this.state.emailIdChips.map(function(t,n){return t.isEditing?u.default.createElement(g.default,{onChange:function(t){e.handleChange(n,t)},value:t.label,onBlur:function(t){return e.handleEditEmail(n,t)},className:a.emailIdInput,disableUnderline:!0}):u.default.createElement(O.default,{key:t.key,label:t.label,className:t.isValidEmail?a.emailIdChips:a.invalidEmailIdChips,deleteIcon:u.default.createElement(b.default,{className:e.state.emailSent?a.disableIcon:a.removeEmailId}),onDelete:e.handleEmailIdDelete(t),classes:{clickable:t.isValidEmail?a.emailIdChips:a.invalidEmailIdChips}})}),u.default.createElement(g.default,{onKeyPress:this.handleEmailEnter,onBlur:this.handleEmailEnter,fullWidth:!0,className:a.emailIdInput,disableUnderline:!0,disabled:this.state.emailSent,inputRef:this.emailAdd})),u.default.createElement(g.default,{fullWidth:!0,style:{marginTop:"1%"},placeholder:"Subject",classes:{disabled:a.disabledSubjectInput},className:a.emailSubject,value:this.state.emailTemplateSubject,onChange:this.handleSubjectChange,disableUnderline:!0,disabled:this.state.emailSent}),u.default.createElement("div",{className:a.summaryEmailBody},u.default.createElement(m.TextField,{id:"emailBody",fullWidth:!0,multiline:!0,value:this.state.emailTemplateBody,onChange:this.handleEmailBodyChange,rows:12,style:{color:"white",overflow:"hidden"},rowsMax:this.state.emailBodyHeight,className:a.emailBodyText,classes:{},InputProps:{disableUnderline:!0,style:{color:"white"},classes:{input:a.hideOverflow}},disabled:this.state.emailSent}),u.default.createElement("div",{className:a.invoiceAttachements},this.state.emailAttachements.length>0&&u.default.createElement("div",{className:a.invoiceCount},u.default.createElement(m.Typography,{style:{color:n.palette.secondary.main,fontSize:"0.9777"}},"Invoice Attachements (",this.state.emailAttachements.length,")")),u.default.createElement(E.default,{cellHeight:"auto",className:a.gridList},this.state.emailAttachements.map(function(e){return u.default.createElement(w.default,{cols:1,key:e.id,style:{height:"auto",width:"12.5rem",padding:"0.25rem"}},u.default.createElement("div",{className:a.gridListDiv},u.default.createElement("div",{style:{display:"block",marginLeft:"0.375rem"}},u.default.createElement(m.Typography,{style:{padding:"0.25rem",fontSize:"0.888rem",opacity:.65,color:n.palette.primary.main}},e.documentNumber),u.default.createElement(m.Typography,{style:{padding:"0.25rem",fontSize:"1rem",color:n.palette.primary.main}},"$ ",e.currentOpenAmount))))}))))),u.default.createElement("div",{className:a.summaryEmailFooter},u.default.createElement(m.Button,{color:"secondary",className:a.sendSummaryEmailBtn,size:"small",variant:"contained",onClick:this.sendSummaryEmail,disabled:this.state.emailSent},"SEND"))),u.default.createElement(I.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[u.default.createElement(T.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(b.default,null))]}))}}]),t}(c.Component);F.defaultProps=j,F.propTypes=M,t.default=(0,f.withStyles)(A,{withTheme:!0})(F)},6104:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return l.default.post(""+c.default.apiUrl+d+"/emailtemplates").then(function(e){return(0,u.handleApiResponse)(e)}).catch(function(e){return(0,u.handleApiResponse)(e)})}function r(e){return l.default.post(""+c.default.apiUrl+d+"/callsummary",e).then(function(e){return(0,u.handleApiResponse)(e)}).catch(function(e){return(0,u.handleApiResponse)(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.correspondenceService=void 0;var i=a(41),l=n(i),s=a(40),c=n(s),u=a(117),d="/correspondence";t.correspondenceService={getEmailTemplates:o,sendCallSummary:r}},6105:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.validateEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},6106:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(19),d=a(4),p=n(d),f=a(120),m=n(f),h=a(121),g=n(h),v=a(180),y=n(v),b=a(172),C=n(b),E=a(168),S=n(E),w=a(114),x=function(e){return{dialogPaper:{border:"1px solid white",width:"19.53vw"},dialog:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main},createNewActionDialogHeader:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main+" !important",fontSize:"1.24444rem"},createNewActionDialogOptions:{backgroundColor:e.palette.solidBackground.main,color:e.palette.primary.main+" !important",fontSize:"0.9777rem",pointer:"cursor"}}},O={open:p.default.bool,onClose:p.default.func,onActionItemClick:p.default.func},k={open:!1,onClose:w.emptyFunction,onActionItemClick:w.emptyFunction},I=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){return e.open!==this.props.open}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.classes,o=t.onClose;return c.default.createElement(S.default,{onClose:o,"aria-labelledby":"new-action-dialog-title",open:a,classes:{paperScrollPaper:n.dialogPaper}},c.default.createElement(C.default,{id:"new-action-dialog-title",className:n.dialog},c.default.createElement("div",{className:n.createNewActionDialogHeader},"Create New Action")),c.default.createElement(c.default.Fragment,null,c.default.createElement(m.default,{className:n.createNewActionDialogOptions},Object.keys(w.ACTION_TYPES).map(function(t){return c.default.createElement(g.default,{style:{cursor:"pointer"},onClick:function(){return e.props.onActionItemClick(w.ACTION_TYPES[t])},key:t},c.default.createElement(y.default,null,c.default.createElement("div",{className:n.createNewActionDialogOptions},"Create "+w.ACTION_TYPES[t])))}))))}}]),t}(s.Component);I.propTypes=O,I.defaultProps=k,t.default=(0,u.withStyles)(x,{withTheme:!0})(I)},6107:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=n(u),p=a(19),f=a(87),m=n(f),h=a(23),g=a(6108),v=n(g),y=a(114),b=(a(6109),a(179)),C=(n(b),a(6112)),E=n(C),S=function(e){return{chatBubble:{display:"flex",alignItems:"flex-start",padding:"4px",borderRadius:"4px",minWidth:"calc(100% - 2rem)",width:"calc(100% - 2rem)",minHeight:"1rem",marginBottom:"4px"},rightBubble:{opacity:"0.65 !important",alignSelf:"flex-end",flexDirection:"row-reverse"},message:{fontSize:"1rem",color:"#fff"},highlightMessage:{color:"#fff",backgroundColor:"rgba(93, 170, 224, 0.3)"},circledText:{minWidth:"2rem",minHeight:"2rem",maxHeight:"2rem",maxWidth:"2rem",borderRadius:"50%",fontSize:"0.8rem",color:"#fff",lineHeight:"2rem",textAlign:"center",background:"#5DAAE0"},gifAnimator:{},detector:{background:"transparent",border:"1px solid #5DAAE0"},highlighterForLeft:{alignSelf:"center",marginLeft:"10px"},highlighterForRight:{textAlign:"right",alignSelf:"center",marginRight:"10px"}}},w=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.isCollector,a=e.message,n=e.classes,o=e.isDetecting;return c.default.createElement(m.default,{in:!0},c.default.createElement("div",{className:n.chatBubble+" "+(t?n.rightBubble:"")},!o&&c.default.createElement(h.Typography,{className:n.circledText+" "+(o?n.detector:"")},this.props.initials),o&&c.default.createElement("img",{style:{height:"2.5rem",width:"2.5rem"},src:E.default,alt:"Detecting Speakers Animation"}),c.default.createElement(v.default,{className:t?n.highlighterForRight:n.highlighterForLeft,unhighlightClassName:n.message,highlightClassName:n.highlightMessage+" "+n.message,searchWords:y.HIGHLIGHTER_REGEX,textToHighlight:a})))}}]),t}(s.Component);w.propTypes={classes:d.default.object.isRequired,isCollector:d.default.bool,message:d.default.string,isDetecting:d.default.bool},w.defaultProps={isCollector:!1,message:"",isDetecting:!1},t.default=(0,p.withStyles)(S,{withTheme:!0})(w)},6108:function(e,t,a){e.exports=function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){e.exports=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.activeClassName,a=void 0===t?"":t,n=e.activeIndex,o=void 0===n?-1:n,i=e.activeStyle,l=e.autoEscape,s=e.caseSensitive,u=void 0!==s&&s,p=e.className,f=e.findChunks,m=e.highlightClassName,h=void 0===m?"":m,g=e.highlightStyle,v=void 0===g?{}:g,y=e.highlightTag,b=void 0===y?"mark":y,C=e.sanitize,E=e.searchWords,S=e.textToHighlight,w=e.unhighlightClassName,x=void 0===w?"":w,O=e.unhighlightStyle,k=(0,r.findAll)({autoEscape:l,caseSensitive:u,findChunks:f,sanitize:C,searchWords:E,textToHighlight:S}),I=b,D=-1,T="",N=void 0,P=function(e){var t={};for(var a in e)t[a.toLowerCase()]=e[a];return t},A=(0,d.default)(P);return c.default.createElement("span",{className:p},k.map(function(e,t){var n=S.substr(e.start,e.end-e.start);if(e.highlight){D++;var r=void 0;"object"==typeof h?u?r=h[n]:(h=A(h),r=h[n.toLowerCase()]):r=h;var l=D===+o;return T=r+" "+(l?a:""),N=!0===l&&null!=i?Object.assign({},v,i):v,c.default.createElement(I,{className:T,key:t,style:N},n)}return c.default.createElement("span",{className:x,key:t,style:O},n)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=a(3),i=a(4),l=n(i),s=a(14),c=n(s),u=a(15),d=n(u);o.propTypes={activeClassName:l.default.string,activeIndex:l.default.number,activeStyle:l.default.object,autoEscape:l.default.bool,className:l.default.string,findChunks:l.default.func,highlightClassName:l.default.oneOfType([l.default.object,l.default.string]),highlightStyle:l.default.object,highlightTag:l.default.oneOfType([l.default.node,l.default.func,l.default.string]),sanitize:l.default.func,searchWords:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.instanceOf(RegExp)])).isRequired,textToHighlight:l.default.string.isRequired,unhighlightClassName:l.default.string,unhighlightStyle:l.default.object},e.exports=t.default},function(e,t){e.exports=function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){e.exports=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return n.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return n.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return n.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return n.findChunks}})},function(e,t){"use strict";function a(e){return e}function n(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}Object.defineProperty(t,"__esModule",{value:!0});var o=(t.findAll=function(e){var t=e.autoEscape,a=e.caseSensitive,n=void 0!==a&&a,l=e.findChunks,s=void 0===l?r:l,c=e.sanitize,u=e.searchWords,d=e.textToHighlight;return i({chunksToHighlight:o({chunks:s({autoEscape:t,caseSensitive:n,sanitize:c,searchWords:u,textToHighlight:d})}),totalLength:d?d.length:0})},t.combineChunks=function(e){var t=e.chunks;return t=t.sort(function(e,t){return e.start-t.start}).reduce(function(e,t){if(0===e.length)return[t];var a=e.pop();if(t.start<=a.end){var n=Math.max(a.end,t.end);e.push({start:a.start,end:n})}else e.push(a,t);return e},[])}),r=function(e){var t=e.autoEscape,o=e.caseSensitive,r=e.sanitize,i=void 0===r?a:r,l=e.searchWords,s=e.textToHighlight;return s=i(s),l.filter(function(e){return e}).reduce(function(e,a){a=i(a),t&&(a=n(a));for(var r=new RegExp(a,o?"g":"gi"),l=void 0;l=r.exec(s);){var c=l.index,u=r.lastIndex;u>c&&e.push({start:c,end:u}),l.index==r.lastIndex&&r.lastIndex++}return e},[])};t.findChunks=r;var i=t.fillInChunks=function(e){var t=e.chunksToHighlight,a=e.totalLength,n=[],o=function(e,t,a){t-e>0&&n.push({start:e,end:t,highlight:a})};if(0===t.length)o(0,a,!1);else{var r=0;t.forEach(function(e){o(r,e.start,!1),o(e.start,e.end,!0),r=e.end}),o(r,a,!1)}return n}}])},function(e,t,a){(function(t){if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n};e.exports=a(6)(o,!0)}else e.exports=a(13)()}).call(t,a(5))},function(e,t){function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===a||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){h&&f&&(h=!1,f.length?m=f.concat(m):g=-1,m.length&&l())}function l(){if(!h){var e=o(i);h=!0;for(var t=m.length;t;){for(f=m,m=[];++g<t;)f&&f[g].run();g=-1,t=m.length}f=null,h=!1,r(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,d,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:a}catch(e){u=a}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var f,m=[],h=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];m.push(new s(e,t)),1!==m.length||h||o(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,a){(function(t){"use strict";var n=a(7),o=a(8),r=a(9),i=a(10),l=a(11),s=a(12);e.exports=function(e,a){function c(e){var t=e&&(I&&e[I]||e[D]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function d(e){this.message=e,this.stack=""}function p(e){function n(n,c,u,p,f,m,h){if(p=p||T,m=m||u,h!==l)if(a)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var g=p+":"+u;!i[g]&&s<3&&(r(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,p),i[g]=!0,s++)}return null==c[u]?n?new d(null===c[u]?"The "+f+" `"+m+"` is marked as required in `"+p+"`, but its value is `null`.":"The "+f+" `"+m+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(c,u,p,f,m)}if("production"!==t.env.NODE_ENV)var i={},s=0;var c=n.bind(null,!1);return c.isRequired=n.bind(null,!0),c}function f(e){function t(t,a,n,o,r,i){var l=t[a];if(w(l)!==e)return new d("Invalid "+o+" `"+r+"` of type `"+x(l)+"` supplied to `"+n+"`, expected `"+e+"`.");return null}return p(t)}function m(e){function t(t,a,n,o,r){if("function"!=typeof e)return new d("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var i=t[a];if(!Array.isArray(i)){return new d("Invalid "+o+" `"+r+"` of type `"+w(i)+"` supplied to `"+n+"`, expected an array.")}for(var s=0;s<i.length;s++){var c=e(i,s,n,o,r+"["+s+"]",l);if(c instanceof Error)return c}return null}return p(t)}function h(e){function t(t,a,n,o,r){if(!(t[a]instanceof e)){var i=e.name||T;return new d("Invalid "+o+" `"+r+"` of type `"+k(t[a])+"` supplied to `"+n+"`, expected instance of `"+i+"`.")}return null}return p(t)}function g(e){function a(t,a,n,o,r){for(var i=t[a],l=0;l<e.length;l++)if(u(i,e[l]))return null;return new d("Invalid "+o+" `"+r+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?p(a):("production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)}function v(e){function t(t,a,n,o,r){if("function"!=typeof e)return new d("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var i=t[a],s=w(i);if("object"!==s)return new d("Invalid "+o+" `"+r+"` of type `"+s+"` supplied to `"+n+"`, expected an object.");for(var c in i)if(i.hasOwnProperty(c)){var u=e(i,c,n,o,r+"."+c,l);if(u instanceof Error)return u}return null}return p(t)}function y(e){function a(t,a,n,o,r){for(var i=0;i<e.length;i++){if(null==(0,e[i])(t,a,n,o,r,l))return null}return new d("Invalid "+o+" `"+r+"` supplied to `"+n+"`.")}if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var o=0;o<e.length;o++){var i=e[o];if("function"!=typeof i)return r(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",O(i),o),n.thatReturnsNull}return p(a)}function b(e){function t(t,a,n,o,r){var i=t[a],s=w(i);if("object"!==s)return new d("Invalid "+o+" `"+r+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var u=e[c];if(u){var p=u(i,c,n,o,r+"."+c,l);if(p)return p}}return null}return p(t)}function C(e){function t(t,a,n,o,r){var s=t[a],c=w(s);if("object"!==c)return new d("Invalid "+o+" `"+r+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");var u=i({},t[a],e);for(var p in u){var f=e[p];if(!f)return new d("Invalid "+o+" `"+r+"` key `"+p+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[a],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var m=f(s,p,n,o,r+"."+p,l);if(m)return m}return null}return p(t)}function E(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(E);if(null===t||e(t))return!0;var a=c(t);if(!a)return!1;var n,o=a.call(t);if(a!==t.entries){for(;!(n=o.next()).done;)if(!E(n.value))return!1}else for(;!(n=o.next()).done;){var r=n.value;if(r&&!E(r[1]))return!1}return!0;default:return!1}}function S(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function w(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":S(t,e)?"symbol":t}function x(e){if(void 0===e||null===e)return""+e;var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function O(e){var t=x(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function k(e){return e.constructor&&e.constructor.name?e.constructor.name:T}var I="function"==typeof Symbol&&Symbol.iterator,D="@@iterator",T="<<anonymous>>",N={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:function(){return p(n.thatReturnsNull)}(),arrayOf:m,element:function(){function t(t,a,n,o,r){var i=t[a];if(!e(i)){return new d("Invalid "+o+" `"+r+"` of type `"+w(i)+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return p(t)}(),instanceOf:h,node:function(){function e(e,t,a,n,o){return E(e[t])?null:new d("Invalid "+n+" `"+o+"` supplied to `"+a+"`, expected a ReactNode.")}return p(e)}(),objectOf:v,oneOf:g,oneOfType:y,shape:b,exact:C};return d.prototype=Error.prototype,N.checkPropTypes=s,N.PropTypes=N,N}}).call(t,a(5))},function(e,t){"use strict";function a(e){return function(){return e}}var n=function(){};n.thatReturns=a,n.thatReturnsFalse=a(!1),n.thatReturnsTrue=a(!0),n.thatReturnsNull=a(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,a){(function(t){"use strict";function a(e,t,a,o,r,i,l,s){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,o,r,i,l,s],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=a}).call(t,a(5))},function(e,t,a){(function(t){"use strict";var n=a(7),o=n;if("production"!==t.env.NODE_ENV){var r=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var o=0,r="Warning: "+e.replace(/%s/g,function(){return a[o++]});"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(e){}};o=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var a=arguments.length,n=Array(a>2?a-2:0),o=2;o<a;o++)n[o-2]=arguments[o];r.apply(void 0,[t].concat(n))}}}e.exports=o}).call(t,a(5))},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,l,s=a(e),c=1;c<arguments.length;c++){i=Object(arguments[c]);for(var u in i)o.call(i,u)&&(s[u]=i[u]);if(n){l=n(i);for(var d=0;d<l.length;d++)r.call(i,l[d])&&(s[l[d]]=i[l[d]])}}return s}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){(function(t){"use strict";function n(e,a,n,s,c){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{o("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",s||"React class",n,u,typeof e[u]),d=e[u](a,u,s,n,null,i)}catch(e){d=e}if(r(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,u,typeof d),d instanceof Error&&!(d.message in l)){l[d.message]=!0;var p=c?c():"";r(!1,"Failed %s type: %s%s",n,d.message,null!=p?p:"")}}}if("production"!==t.env.NODE_ENV)var o=a(8),r=a(9),i=a(11),l={};e.exports=n}).call(t,a(5))},function(e,t,a){"use strict";var n=a(7),o=a(8),r=a(11);e.exports=function(){function e(e,t,a,n,i,l){l!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t){e.exports=a(0)},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a=void 0,o=[],r=void 0,i=!1,l=function(e,a){return t(e,o[a])};return function(){for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return i&&a===this&&n.length===o.length&&n.every(l)?r:(i=!0,a=this,o=n,r=e.apply(this,n))}}var n=function(e,t){return e===t};e.exports=a}])},6109:function(e,t,a){(function(e,n){function o(e,a){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(a)?n.showHidden=a:a&&t._extend(n,a),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=r),s(n,e,n.depth)}function r(e,t){var a=o.styles[t];return a?"["+o.colors[a][0]+"m"+e+"["+o.colors[a][1]+"m":e}function i(e,t){return e}function l(e){var t={};return e.forEach(function(e,a){t[e]=!0}),t}function s(e,a,n){if(e.customInspect&&a&&k(a.inspect)&&a.inspect!==t.inspect&&(!a.constructor||a.constructor.prototype!==a)){var o=a.inspect(n,e);return b(o)||(o=s(e,o,n)),o}var r=c(e,a);if(r)return r;var i=Object.keys(a),h=l(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(a)),O(a)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return u(a);if(0===i.length){if(k(a)){var g=a.name?": "+a.name:"";return e.stylize("[Function"+g+"]","special")}if(S(a))return e.stylize(RegExp.prototype.toString.call(a),"regexp");if(x(a))return e.stylize(Date.prototype.toString.call(a),"date");if(O(a))return u(a)}var v="",y=!1,C=["{","}"];if(m(a)&&(y=!0,C=["[","]"]),k(a)){v=" [Function"+(a.name?": "+a.name:"")+"]"}if(S(a)&&(v=" "+RegExp.prototype.toString.call(a)),x(a)&&(v=" "+Date.prototype.toUTCString.call(a)),O(a)&&(v=" "+u(a)),0===i.length&&(!y||0==a.length))return C[0]+v+C[1];if(n<0)return S(a)?e.stylize(RegExp.prototype.toString.call(a),"regexp"):e.stylize("[Object]","special");e.seen.push(a);var E;return E=y?d(e,a,n,h,i):i.map(function(t){return p(e,a,n,h,t,y)}),e.seen.pop(),f(E,v,C)}function c(e,t){if(E(t))return e.stylize("undefined","undefined");if(b(t)){var a="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(a,"string")}return y(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,a,n,o){for(var r=[],i=0,l=t.length;i<l;++i)P(t,String(i))?r.push(p(e,t,a,n,String(i),!0)):r.push("");return o.forEach(function(o){o.match(/^\d+$/)||r.push(p(e,t,a,n,o,!0))}),r}function p(e,t,a,n,o,r){var i,l,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?l=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(l=e.stylize("[Setter]","special")),P(n,o)||(i="["+o+"]"),l||(e.seen.indexOf(c.value)<0?(l=g(a)?s(e,c.value,null):s(e,c.value,a-1),l.indexOf("\n")>-1&&(l=r?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n"))):l=e.stylize("[Circular]","special")),E(i)){if(r&&o.match(/^\d+$/))return l;i=JSON.stringify(""+o),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+l}function f(e,t,a){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?a[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+a[1]:a[0]+t+" "+e.join(", ")+" "+a[1]}function m(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function C(e){return"symbol"==typeof e}function E(e){return void 0===e}function S(e){return w(e)&&"[object RegExp]"===D(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===D(e)}function O(e){return w(e)&&("[object Error]"===D(e)||e instanceof Error)}function k(e){return"function"==typeof e}function I(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function D(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}function N(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],a=0;a<arguments.length;a++)t.push(o(arguments[a]));return t.join(" ")}for(var a=1,n=arguments,r=n.length,i=String(e).replace(A,function(e){if("%%"===e)return"%";if(a>=r)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(e){return"[Circular]"}default:return e}}),l=n[a];a<r;l=n[++a])g(l)||!w(l)?i+=" "+l:i+=" "+o(l);return i},t.deprecate=function(a,o){function r(){if(!i){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),i=!0}return a.apply(this,arguments)}if(E(e.process))return function(){return t.deprecate(a,o).apply(this,arguments)};if(!0===n.noDeprecation)return a;var i=!1;return r};var j,M={};t.debuglog=function(e){if(E(j)&&(j=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!M[e])if(new RegExp("\\b"+e+"\\b","i").test(j)){var a=n.pid;M[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,a,n)}}else M[e]=function(){};return M[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=h,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=y,t.isString=b,t.isSymbol=C,t.isUndefined=E,t.isRegExp=S,t.isObject=w,t.isDate=x,t.isError=O,t.isFunction=k,t.isPrimitive=I,t.isBuffer=a(6110);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=a(6111),t._extend=function(e,t){if(!t||!w(t))return e;for(var a=Object.keys(t),n=a.length;n--;)e[a[n]]=t[a[n]];return e}}).call(t,a(50),a(118))},6110:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},6111:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},6112:function(e,t,a){e.exports=a.p+"317df0b71944b200cb0a2329e7aebc0b.gif"},6113:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),c=n(s),u=a(4),d=(n(u),a(19)),p=a(115),f=a(326),m=n(f),h=function(e){return{nonActionNotesEditing:{boxShadow:" 0 4px 8px 0 rgba(0,0,0,0.2)",padding:"0.8rem",border:"2px solid #FFF"},test:{width:"auto",height:"10vh",overflowY:"auto",padding:"0px",display:"block !important",color:e.palette.primary.main,whiteSpace:"pre-line"},nonActionNotesTitle:{fontSize:"1rem",lineHeight:"1.5rem",position:"relative",color:e.palette.primary.main,opacity:.65},notesEditor:{width:"-webkit-fill-available"},nonActionNotesNotEditing:{}}},g=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleNotesTextFieldChange=function(e){a.setState({nonActionNotes:e.target.value})},a.editNonActionNotes=function(){a.setState({isEditingOn:!0},function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e?e.focus():console.log("Something happened")},200)})},a.discardNotesChanges=function(){a.setState({isEditingOn:!1,nonActionNotes:a.state.prevNonActionNotes},function(){a.blurNonActionNotesBox()})},a.saveNotesChanges=function(){a.setState({isEditingOn:!1,prevNonActionNotes:a.state.nonActionNotes},function(){a.blurNonActionNotesBox(),a.props.onNotesChange(a.state.nonActionNotes)})},a.blurNonActionNotesBox=function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.blur()},500)},a.state={isEditingOn:!1,nonActionNotes:a.props.initialNotes,prevNonActionNotes:a.props.initialNotes},a}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.initialNotes!==this.state.nonActionNotes||t.isEditingOn!==this.state.isEditingOn}},{key:"render",value:function(){var e=this,t=this.props.classes;return c.default.createElement("div",null,c.default.createElement("div",null,c.default.createElement("span",{className:t.nonActionNotesTitle},"NON ACTION NOTES"),!this.state.isEditingOn&&c.default.createElement(p.BorderColor,{style:{color:"#5DAAE0",float:"right",cursor:"pointer"},onClick:this.editNonActionNotes}),this.state.isEditingOn&&c.default.createElement("div",{style:{float:"right"}},c.default.createElement(p.HighlightOff,{style:{marginLeft:"0.4rem",color:"#FF8888",padding:"0 1.3rem 0 0.8rem",cursor:"pointer"},onClick:this.discardNotesChanges}),c.default.createElement(p.CheckCircleOutline,{style:{color:"#5FC32C",cursor:"pointer"},onClick:this.saveNotesChanges}))),c.default.createElement(m.default,{id:"non-action-notes-edit-field",multiline:!0,value:this.state.nonActionNotes,onChange:function(t){return e.handleNotesTextFieldChange(t)},className:t.notesEditor+" "+(this.state.isEditingOn?t.nonActionNotesEditing:t.nonActionNotesNotEditing),margin:"normal",InputProps:{className:t.test,readOnly:Boolean(!this.state.isEditingOn),disableUnderline:Boolean(!0)}}))}}]),t}(s.Component);t.default=(0,d.withStyles)(h,{withTheme:!0})(g)},6114:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSummaryCompleteMap=t.createInitialNonActionSummaryNotes=t.appendIdsToSummary=t.createSummaryCompletionMap=t.generateNotesAsString=void 0;var n=a(49);t.generateNotesAsString=function(e){for(var t="",a=0;a<e.length;a++)t+=a===e.length-1?e[a].trim():e[a].trim()+"/n";return t},t.createSummaryCompletionMap=function(e){var t=new Map;return e&&e.map(function(e){return(0,n.isActionIntent)(e.intent)&&t.set(e.id,!1)}),t},t.appendIdsToSummary=function(e){if(e)for(var t in e)e[t].id=t+1,e[t].save=!1;return e},t.createInitialNonActionSummaryNotes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";t&&(a+=t);for(var o in e)(0,n.isActionIntent)(e[o].intent)||(a+=e[o].summary);return a},t.checkSummaryCompleteMap=function(e){var t=!0,a=!1,n=void 0;try{for(var o,r=e.values()[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){if(!1===o.value)return!0}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}return!1}},6115:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.commonService=void 0;var o=a(41),r=n(o),i=a(40),l=n(i),s=a(117),c=function(){return r.default.get(l.default.apiUrl+"/disputecodes").then(function(e){return(0,s.handleApiResponse)(e)}).catch(function(e){return(0,s.handleApiResponse)(e)})},u=function(){return r.default.get(l.default.apiUrl+"/tasktypes").then(function(e){return(0,s.handleApiResponse)(e)}).catch(function(e){return(0,s.handleApiResponse)(e)})};t.commonService={getDisputeCodes:c,getTaskTypes:u}},6116:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return u.default.createElement(b.default,{component:"div",style:{paddingTop:"1.85vh"}},u.default.createElement(S.Paper,{elevation:1,style:{overflowY:"auto",height:"78.5vh",borderRadius:"4px",boxShadow:"none",background:e.theme.palette.cardBackground.main}},e.children))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(4),p=n(d),f=a(19),m=a(336),h=n(m),g=a(335),v=n(g),y=a(21),b=n(y),C=a(6078),E=n(C),S=a(23),w=a(86),x=n(w),O=a(6079),k=n(O),I=a(67);l.propTypes={children:p.default.node.isRequired};var D=function(e){return{root:{},progress:{margin:"7rem 0 0 20rem"},container:{overflow:"auto"},scrollButtons:{color:"white",flex:"0 !important"},indicator:{height:"2px",top:"5.7vh !important"},tabSelected:{color:e.palette.primary.main+" !important"},tabRoot:{color:e.palette.secondary.main,width:"calc(5.666vh + 5.666vw)",minHeight:"6.3vh",maxHeight:"6.3vh"},tabWrapper:{marginBottom:".4vw",width:"calc(5.666vh + 5.666vw)"},tabsFlexContainer:{height:"6.3vh"},tabsRoot:{minHeight:"6.3vh",maxHeight:"6.3vh"},tabsScroller:{marginBottom:"-10vh !important"},invoiceCountText:{color:e.palette.primary.main,fontSize:".8rem",display:"block"}}},T={bucketNames:[],invoices:[]},N=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.filterInvoices=function(e){if("All"==e)a.setState({invoices:a.state.allInvoices});else{for(var t=a.state.allInvoices,n=[],o=0;o<t.length;o++){for(var r=[],i=0;i<t[o].length;i++)"Dispute"==e&&null!=t[o][i].disputeStatus?r.push(t[o][i]):"Predicted Delinquent"==e&&1==t[o][i].p2pDelinquent?r.push(t[o][i]):"Upcoming P2P"==e&&1==t[o][i].p2pUpcoming?r.push(t[o][i]):"Broken P2P"==e&&1==t[o][i].p2pBroken&&r.push(t[o][i]);n.push(r)}a.setState({invoices:n})}},a.handleChange=function(e,t){a.setState({value:t})};var n=a.props.bucketNames.reverse();return n.unshift("Current Due"),a.state={value:0,loading:!1,invoices:e.invoices,allInvoices:e.invoices,days:n},a}return i(t,e),s(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.classes,n=t.theme,o=this.state.value,r=[],i=[],s=0,c=0,d=0;d<this.state.days.length;d++)i.push(0);for(var d=0;d<this.state.invoices.length;d++){r.push(this.state.invoices[d].length);for(var p=0,f=0;f<this.state.invoices[d].length;f++)p+=this.state.invoices[d][f].currentOpenAmount,s+=1,c+=this.state.invoices[d][f].currentOpenAmount;i[d]=p}return u.default.createElement("div",{className:a.root},!1===this.state.loading&&u.default.createElement("div",null,u.default.createElement(h.default,{value:o,onChange:this.handleChange,indicatorColor:"primary",scrollable:!0,scrollButtons:"auto",classes:{scrollButtons:a.scrollButtons,flexContainer:a.tabsFlexContainer,root:a.tabsRoot,scroller:a.tabsScroller},TabIndicatorProps:{className:a.indicator}},u.default.createElement(v.default,{classes:{selected:a.tabSelected,root:a.tabRoot,wrapper:a.tabWrapper},icon:u.default.createElement("div",null,u.default.createElement("span",{className:a.invoiceCountText},s," ($",(0,I.formatter)(c),")"),u.default.createElement("span",{style:{fontSize:".8rem"}},"All Invoices"))}),this.state.days.map(function(e,t){return u.default.createElement(v.default,{classes:{selected:a.tabSelected,root:a.tabRoot},icon:u.default.createElement("div",null,u.default.createElement("span",{className:a.invoiceCountText},r[t]," ($",(0,I.formatter)(i[t]),")"),u.default.createElement("span",{style:{fontSize:".8rem"}},e))})})),0===o&&u.default.createElement(l,{theme:n},u.default.createElement(E.default,{emailOfCalled:this.props.emailOfCalled,collector:this.props.collector,customer:this.props.customer,filterInvoices:this.filterInvoices,bucketNames:this.state.days,invoices:this.state.invoices})),this.state.invoices.map(function(t,r){return o===r+1&&u.default.createElement(l,{theme:n,className:a.container},u.default.createElement(k.default,{emailOfCalled:e.props.emailOfCalled,collector:e.props.collector,customer:e.props.customer,filterInvoices:e.filterInvoices,individual:!0,days:e.state.days[r],invoices:t}))})),this.state.loading&&u.default.createElement("div",null,u.default.createElement(h.default,{value:o,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{scrollButtons:a.scrollButtons}},u.default.createElement(v.default,{style:{color:"white"},label:"All Invoice"}),this.state.days.map(function(e){return u.default.createElement(v.default,{style:{color:"white"},label:e+"days past due"})})),u.default.createElement(S.Paper,{style:{height:"24rem",marginTop:"2rem"}},u.default.createElement(x.default,{className:a.progress,size:100}))))}}]),t}(u.default.Component);N.propTypes={classes:p.default.object.isRequired},N.defaultProps=T,t.default=(0,f.withStyles)(D,{withTheme:!0})(N)},6117:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(88),p=n(d),f=a(23),m=a(86),h=n(m),g=a(69),v=a(24),y=a(115),b=a(70),C=a(114),E=a(167),S=n(E),w=a(68),x=n(w),O=a(41),k=n(O),I=a(40),D=n(I),T=a(8),N=n(T),P=function(e){var t;return{App:{textAlign:"center"},popOver:{color:e.palette.cardBackground.color,width:"20em"},head:{color:e.palette.cardBackground.color,fontSize:"1em",opacity:.65},icon:l({height:"calc(1.6vh + 1.6vw)",minWidth:"calc(1.6vh + 1.6vw)",cursor:"pointer",textAlign:"center",borderRadius:"50%"},"textAlign","center"),voiceMailIcon:{background:"#5DAAE0",padding:"1px"},voicemailSentIcon:{border:"2px solid #5DAAE0"},voicemailProgressParent:{cursor:"pointer",textAlign:"center"},voicemailBox:(t={wordBreak:"break-word",borderBottom:"0.5px solid rgb(93,170,224)"},l(t,"borderBottom","0.5px solid rgba(93,170,224,0.65)"),l(t,"padding","12px 12px 20px 12px"),l(t,"display","flex"),l(t,"marginBottom","20px"),l(t,"flexDirection","row"),t),disabledVoicemailBox:{cursor:"default !important",opacity:"0.65"},voicemailText:{display:"flex",flexDirection:"column",marginLeft:"1.2rem",cursor:"pointer"},voicemailProgress:{width:"inherit !important",height:"inherit !important",fill:"#5DAAE0"},closeIcon:{fill:"lightblue",position:"absolute",right:"3%",fontSize:"2rem",cursor:"pointer"},voicemailBtn:{color:"#FFF",fontSize:"1.7rem",padding:"10%"},voicemailSentBtn:{fontSize:"1.5rem !important"},disableBtn:{opacity:.4,cursor:"default"}}},A=function(e){function t(e){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.initializeVoicemailData=function(e){for(var t=new Map,n=new Map,o=0;o<e.length;o++)t.set(e[o].id,!1),n.set(e[o].id,!1);a.setState({voicemailTemplates:e,voicemailClickMap:t,voicemailSentMap:n})},a.handleOpen=function(){a.setState({open:!0})},a.handleChange=function(e){a.setState({phoneNumber:e.target.value})},a.handleClose=function(){a.setState({open:!1,disableVoicemailClick:!a.state.isVoicemailEnabled})},a.handleVoicemailClick=function(e){if(!a.state.disableVoicemailClick){var t=e.id,n=a.state.voicemailClickMap;n.set(t,!0),a.setState({voicemailClickMap:n,disableVoicemailClick:!0},function(){console.log(e.templateName,a.state.id),a.setState(l({},t,!0)),"OK"===(0,b.sipToggleMute)()?a.setState({snackOpen:!0,snackMessage:"Mic auto muted"}):a.setState({snackOpen:!0,snackMessage:"Failed to auto mute mic!"}),0===t?((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("4"),console.log("1st Template")):1===t?((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("5"),console.log("2nd Template")):((0,b.sipSendDTMF)("#"),(0,b.sipSendDTMF)("6"),console.log("Last template")),a.props.onVoicemailClick()}),setTimeout(function(){var e=a.state.voicemailSentMap;e.set(t,!0),a.setState({voicemailSentMap:e,isVoicemailEnabled:!1})},2e3),setTimeout(function(){return a.handleClose()},C.VOICEMAIL_AUTO_CLOSE_TIMEMOUT)}},a.closeSnackbar=function(){a.setState({snackOpen:!1})},a.isVoicemailAvailable=function(){return"Connected to"===a.props.callState.status&&a.state.voicemailTemplates&&a.state.voicemailTemplates.length>0&&a.state.isVoicemailEnabled},a.state={open:!1,phoneNumber:"",displayNumber:"",dialled:!1,focus:!0,isVoicemailEnabled:!0,isVoicemailClicked:!1,voicemailClickMap:new Map,voicemailSentMap:new Map,voicemailTemplates:[],snackOpen:!1,disableVoicemailClick:!1},k.default.get(D.default.apiUrl+"/voicetemplate").then(function(e){console.log("Voicemail Fetched",e.data),a.initializeVoicemailData(e.data)}).catch(function(e){console.log("Failed to fetch voicemails",e)}),a}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return u.default.createElement("div",{className:a.App},u.default.createElement(y.Voicemail,{className:this.isVoicemailAvailable()?a.voicemailBtn:a.voicemailBtn+" "+a.disableBtn,onClick:this.isVoicemailAvailable()?this.handleOpen:C.emptyFunction}),u.default.createElement(p.default,{id:"simple-popper",open:this.state.open,onClose:this.handleClose,anchorReference:"anchorPosition",anchorPosition:{top:80},PaperProps:{style:{height:"100%",marginTop:"3em",right:"0",background:n.palette.solidBackground.main,borderLeft:"2px solid #FFF",borderRadius:0}},anchorOrigin:{vertical:20,horizontal:20},transformOrigin:{vertical:20,horizontal:20}},u.default.createElement("div",{className:a.popOver},u.default.createElement("div",{style:{display:"flex",paddingLeft:"4%",marginTop:"5%",alignItems:"center"}},u.default.createElement(f.Typography,{className:a.head},"VOICEMAIL"),u.default.createElement(y.Close,{onClick:this.handleClose,className:a.closeIcon})),u.default.createElement("br",null),u.default.createElement("div",null,this.state.voicemailTemplates.map(function(t){return u.default.createElement("div",{className:e.state.disableVoicemailClick?(0,N.default)(a.disabledVoicemailBox,a.voicemailBox):a.voicemailBox,key:t.id},!e.state.voicemailClickMap.get(t.id)&&u.default.createElement("div",{className:(0,N.default)(a.voiceMailIcon,a.icon)},u.default.createElement(y.Voicemail,{className:a.voicemailBtn})),e.state.voicemailClickMap.get(t.id)&&!e.state.voicemailSentMap.get(t.id)&&u.default.createElement("div",{className:(0,N.default)(a.voicemailProgressParent,a.baseIconSize)},u.default.createElement(h.default,{className:a.voicemailProgress})),e.state.voicemailClickMap.get(t.id)&&e.state.voicemailSentMap.get(t.id)&&u.default.createElement("div",{className:(0,N.default)(a.voicemailSentIcon,a.icon)},u.default.createElement(y.Done,{className:(0,N.default)(a.voicemailSentBtn,a.voicemailBtn)})),u.default.createElement("div",{className:a.voicemailText,onClick:function(){return e.handleVoicemailClick(t)}},!e.state.voicemailClickMap.get(t.id)&&u.default.createElement(f.Typography,{style:{color:n.palette.cardBackground.color,opacity:.65}},"Send"),e.state.voicemailClickMap.get(t.id)&&!e.state.voicemailSentMap.get(t.id)&&u.default.createElement(f.Typography,{style:{color:n.palette.cardBackground.color,opacity:.65}},"Sending"),e.state.voicemailClickMap.get(t.id)&&e.state.voicemailSentMap.get(t.id)&&u.default.createElement(f.Typography,{style:{color:"#5DAAE0",opacity:.65}},"Sent"),u.default.createElement(f.Typography,{style:{color:n.palette.cardBackground.color}},t.templateName)),u.default.createElement(y.MoreVert,{style:{right:"3%",position:"fixed"}}))})))),u.default.createElement(S.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:u.default.createElement("span",{id:this.state.snackMessage},this.state.snackMessage),action:[u.default.createElement(f.IconButton,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},u.default.createElement(x.default,null))]}))}}]),t}(c.Component),j=(0,f.withStyles)(P)(A),M=function(e){return{callState:e.callState}},F=function(e){return{changeCaller:function(t){return e((0,g.changeCaller)(t))}}};t.default=(0,v.connect)(M,F)((0,f.withStyles)(P,{withTheme:!0})(j))},6118:function(e,t){e.exports="data:image/png;base64,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"},6119:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAABHNCSVQICAgIfAhkiAAABK1JREFUaIHNmW2IVFUYx3/PndlVS5CdOde3QFQSLWwxBUPMzTQQUwPxZemjlhD0JfRDUGZvRPjJiMgPFSrRF5WCkLKoVJKFtAxpUzFcX6C23Xtnd1a3nM2Z+/Th7uq6O3fumdmdHf9wuTPnPM95fnPm3HPOPY8wClLXnUMQLMVxFqL6CPAAMBWRelS7gC6gE/iRIDhKV9dPAsFIYkrFsMbMBZ4H1iEytzxn7QaOEASf0tX1fSU/omxwNWYtsB2RJ8v1jdDfBMHHZDLvCORsnazBtaGhkUTifUSeqIwvLoD+gUizeN6vNuZObHuQUNfdSSLxS9WgAUTmoHpK0+mX1aJDSxqo604EvgYeHy0+K6kewfebBf6NMokEV7gPY35A5LHq0MVI9Qz5/ErJZrPFqosOFYV6XPfbmkEDiCwkmfxGYXyx6mHgCg7GHAKWVh0uTiKLcd3Pi4354T2eTr+JyDNjAman1Rjz+tDCu35J/6LSikhyzLBspKrACvH94wNFd/e4yL57DhpARBD5SCExUHQbXF13C7CkJmB2epB0+oWBLwKgILjuJWBWzbBspHoN358poGGPG/M09zo0gMgMUqlVcGeovFRDnPLkOFsARGE8xvyDSOy+JVKzZ8O8eTB5MkyZEt6nToVcDtra7lznzsGNGyMDV+3B99NJjFlSEbQxsGkTbNgAjY32fh0dcPo0HDgAJ06UHRaRSRizTNR1dwJvWzs2NsK2bbB+PdTXlx94sC5ehL174eBBuHWrHM9XRY35EpF1saZ1dbBnD2zeXDFnpNrawnavXbP1OOQA06xMt26tDjSEz8iuXeV4PJQEXCvT5uboutZW2L8fTp6EK1cgGPIKaQzMnw+LFsGOHZAssjivXh2W5/M2NJNFXbcXuL+k2bhxcPUqOEWe4Vwu7DG7gHD4MDQ1Fa9raoILF+LbUA0cIH5vkk4Xhwbo7LSHBmhvj65raLBuxgGKvmHcpVJgdXXWwQCYMCG6Tqzf3TscVDOxZpkMqBavM6acgOECFaWbN21baU8icg54uKRZoRCO8ZkzIZuFS5fCq60tvCeT9vPwxo0wfTpMmxbeB3+2nw7bRY15DZG3Yk1nzQqhu7ttG6+mdidRbbH6qy9frj6OrQqFY6KQwHV7iJsS7xWp5vH9iY5AAfiq1jxlqEWgL5ycC4VPagxjL5EPYfCrmzFXEJlRW6oYqf6J788QCBwAAUXkjVpzWei9gbP0oecqZxB5tDZMMVI9j+8vEPgPhp+rPIfqiFIcVZFqQD7/7AA0DAHvP1SPX4zGWqrvSjZ7dnDRsJWn/9DzOCLLxo6spI7ieWuG5omG7VX7Ddag+vuYoUVJ9Wc8b32x5FbRTbb4/g1yuRVAa9XhovUbhcJTUQmtyGMJ6e3tBJagWotV9Sx9fculu7snyqDkeYp4Xi++vxbVHUDfqOMV1wd43mK5fr2rJJttazpp0mzq6vZX7aFVPQ+8KL5/zMa8/ARtKrURx3ll1BaqML+5G8/bV06GeSQp8eXAdmAVIuUdaan2IPIFQfCZZDLfVRK/YvDbDGFacSWwBlgApBBJoZoi7MEO4C/gInAGkVN4Xkv/drpi/Q+0X39cXIV6DwAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMC5idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0luQ2FsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGRhdGUtaW8vZGF0ZS1mbnMvYnVpbGQvaW5kZXguZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXRlcmlhbC11aS1waWNrZXJzL2Rpc3QvbWF0ZXJpYWwtdWktcGlja2Vycy5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW51bWJlci1mb3JtYXQvbGliL251bWJlcl9mb3JtYXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRHVlRGV0YWlsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0ludm9pY2VUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UcmFuc2NyaXB0Qm94LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1RyYW5zY3JpcHRDaGF0LmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9Qb3N0Q2FsbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9BY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1AyUC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC10ZXh0LW1hc2svZGlzdC9yZWFjdFRleHRNYXNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9oYXNDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvUmVwbGFjZVRyYW5zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW51bWJlci1mb3JtYXQvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Rpc3B1dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRm9sbG93dXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQWN0aW9uRGV0YWlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9MaXN0T2ZUaWxlLmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9GaW5hbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9FbWFpbEJveC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvY29ycmVzcG9uZGVuY2VTZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9oZWxwZXJzL2VtYWlsSGVscGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0FjdGlvbkNyZWF0b3JEaWFsb2cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ2hhdEJveC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtaGlnaGxpZ2h0LXdvcmRzL2Rpc3QvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvUmlwcGxlLmdpZiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Ob3Rlc0VkaXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvaGVscGVycy9wb3N0Q2FsbEhlbHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvY29tbW9uU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9JbkNhbGxEZXRhaWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1ZvaWNlbWFpbFdyYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9taWNfb2ZmLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2hhbmctdXAucG5nIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIjYwNzQiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZpbmVQcm9wZXJ0eSIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiY2FsbCIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9zdHlsZXMiLCJfR3JpZCIsIl9HcmlkMiIsIl9UeXBvZ3JhcGh5IiwiX1R5cG9ncmFwaHkyIiwiX2NsYXNzbmFtZXMiLCJfY2xhc3NuYW1lczIiLCJfQ29udGFjdExpc3QiLCJfQ29udGFjdExpc3QyIiwiX3NpcFV0aWxzIiwiX2FjdGlvbnMiLCJfY2FsbExvZ0FjdGlvbnMiLCJfcmVhY3RSZWR1eCIsIl9DbG9zZSIsIl9DbG9zZTIiLCJfcmVhY3RSb3V0ZXJEb20iLCJfQ2FsbFByZXBEZXRhaWxzIiwiX0NhbGxQcmVwRGV0YWlsczIiLCJfUG9zdENhbGwiLCJfUG9zdENhbGwyIiwiX0luQ2FsbERldGFpbHMiLCJfSW5DYWxsRGV0YWlsczIiLCJfcmVhY3RIYW1tZXJqcyIsIl9yZWFjdEhhbW1lcmpzMiIsIl9Nb2RhbCIsIl9Nb2RhbDIiLCJfVG9vbHRpcCIsIl9Ub29sdGlwMiIsIl9GYWIiLCJfRmFiMiIsIl9OYXZpZ2F0ZU5leHQiLCJfTmF2aWdhdGVOZXh0MiIsIl9OYXZpZ2F0ZUJlZm9yZSIsIl9OYXZpZ2F0ZUJlZm9yZTIiLCJfRHJhd2VyIiwiX0RyYXdlcjIiLCJfQXJyb3dEcm9wRG93biIsIl9BcnJvd0Ryb3BEb3duMiIsIl9DdXN0b21lckRyYXdlck9wdGlvbnMiLCJfS2V5UGFkV3JhcHBlZCIsIl9LZXlQYWRXcmFwcGVkMiIsIl9WZXJ0aWNhbFRpbWVMaW5lIiwiX1ZlcnRpY2FsVGltZUxpbmUyIiwiX1ZvaWNlbWFpbFdyYXBwZXIiLCJfVm9pY2VtYWlsV3JhcHBlcjIiLCJfVHJhbnNjcmlwdENoYXQiLCJfaGVscGVyIiwiX0N1c3RvbUZvb3RlciIsIl9DdXN0b21Gb290ZXIyIiwiX0ZyZWRhQnV0dG9uIiwiX1RyYW5zY3JpcHRCb3giLCJfVHJhbnNjcmlwdEJveDIiLCJfY29tYmluZVN0eWxlcyIsIl9jb21iaW5lU3R5bGVzMiIsIl9iYXNlU3R5bGUiLCJfYmFzZVN0eWxlMiIsInRpbWVJbnRlcnZhbCIsInJlcXVpcmUiLCJzdHlsZXMiLCJ0aGVtZSIsImFwcEZyYW1lIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJtYXhIZWlnaHQiLCJyb290IiwiYmFja2dyb3VuZEltYWdlIiwicGFsZXR0ZSIsImJhY2tncm91bmQiLCJtYWluIiwid2lkdGgiLCJtYXJnaW5SaWdodCIsIm1hcmdpbkxlZnQiLCJhbGlnbkl0ZW1zIiwicGFkZGluZ0JvdHRvbSIsImp1c3RpZnlDb250ZW50IiwiZm9udEZhbWlseSIsImZvbnQiLCJ0aXRsZSIsImhhbmdVcEljb25JbmciLCJoZWlnaHQiLCJjdXJzb3IiLCJjYWxsVGV4dCIsImNvbG9yIiwicHJpbWFyeSIsImZvbnRTaXplIiwiZGlhbHBhZEljb24iLCJwYWRkaW5nUmlnaHQiLCJ2b2ljZU1haWxJY29uIiwiYm9yZGVyUmFkaXVzIiwidGV4dEFsaWduIiwicGFkZGluZyIsInN0YXR1cyIsInpJbmRleCIsImR1cmF0aW9uIiwiY3VzdG9tZXJOYW1lIiwic2Vjb25kYXJ5IiwibGluZUhlaWdodCIsImN1c3RvbWVyTnVtYmVyIiwidHJhbnNjcmlwdEJveCIsImJhY2tncm91bmRDb2xvciIsImNhcmRCYWNrZ3JvdW5kIiwicG9zaXRpb24iLCJ0cmFuc2NyaXB0VGl0bGUiLCJwYWRkaW5nTGVmdCIsIm9wYWNpdHkiLCJwYWRkaW5nVG9wIiwibmV4dEZhYiIsInJpZ2h0Iiwic3BhY2luZyIsInVuaXQiLCJwcmV2RmFiIiwiaGFuZ1VwQnV0dG9uIiwiaGFuZ1VwQnV0dG9uSW1nIiwiZHJvcERvd25JY29uIiwiZHJvcERvd24iLCJtaWNPZmZJY29uSW1nIiwibWljT2ZmSWNvbiIsImNhbGxlZENvbnRhY3ROYW1lIiwiY2FsbGVkVG9Db250YWN0RGl2IiwidHJhbnNjcmlwdEJveFBhcmVudCIsImNsb3NlU3R5bGUiLCJ0b3AiLCJsZWZ0IiwiY3VzdG9tZXJIaXN0b3J5TW9kYWwiLCJib3R0b20iLCJvdmVyZmxvd1dyYXAiLCJvdmVyZmxvd1kiLCJib3hTaGFkb3ciLCJzaGFkb3dzIiwic29saWRCYWNrZ3JvdW5kIiwiYWN0aW9uSWNvbiIsImFjdGlvbkJ1dHRvbiIsInNhbGVzIiwicm93cyIsIml0ZW0iLCJwcm9kdWN0IiwicmVnaW9uIiwiYW1vdW50Iiwic2FsZURhdGUiLCJjdXN0b21lciIsInB1c2giLCJJbkNhbGwiLCJfQ29tcG9uZW50IiwidGhpcyIsIl90aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJvcGVuQ29udGFjdERyb3Bkb3duIiwic3RhdGUiLCJjb250YWN0T3BlbiIsInNldFN0YXRlIiwidG9nZ2xlQ29udGFjdFBvcG92ZXIiLCJnZXRGb3JtYXR0ZWREdXJhdGlvbiIsImNhbGxEdXJhdGlvbiIsImhyIiwiTWF0aCIsImZsb29yIiwibWluIiwic2VjIiwib3BlblZvaWNlbWFpbCIsImlzVm9pY2VtYWlsT3BlbiIsImNsb3NlUG9wVGltZWxpbmUiLCJwb3BUaW1lbGluZSIsIm9wZW5Qb3BUaW1lbGluZSIsInBvcFR5cGUiLCJnZXRUaW1lbGluZSIsImV2ZW50cyIsImNsYXNzZXMiLCJtYWluSGVhZGVyIiwibm9FdmVudE1zZyIsInBheW1lbnRzIiwiY29tbXVuaWNhdGlvbiIsInR5cGUiLCJ0b1VwcGVyQ2FzZSIsImNvbW1UeXBlIiwiY3JlYXRlRWxlbWVudCIsInRvZ2dsZU11dGUiLCJpc011dGVkIiwic2lwVG9nZ2xlTXV0ZSIsInNldER1cmF0aW9uIiwic2V0SW50ZXJ2YWwiLCJjYWxsU3RhdGUiLCJjYWxsRHVyYXRpb25JbkZvcm1hdCIsImNsZWFySW50ZXJ2YWxPbkhhbmd1cCIsImNsZWFySW50ZXJ2YWwiLCJoYW5nVXAiLCJzaXBIYW5ndXAiLCJzd2l0Y2hUb0NhbGxQcmVwUGFnZSIsImNhbGxQcmVwUGFnZSIsInN3aXRjaFRvQ2FsbEluQ2FsbFBhZ2UiLCJoYW5kbGVWb2ljZW1haWxNZXNzYWdlIiwiY29udGFjdCIsImNhbGxlZE5hbWUiLCJjYWxsZWRUb0ZpcnN0TmFtZSIsImNhbGxlZFRvTGFzdE5hbWUiLCJsb2NhdGlvbiIsImNhbGxlZFRvTnVtYmVyIiwibWVzc2FnZSIsInZvaWNlbWFpbFBsYXllZE1lc3NhZ2UiLCJteVJlZiIsIlJlYWN0IiwiY3JlYXRlUmVmIiwiY2hhbmdlQ2FsbFN0YXRlIiwiY2FsbGluZyIsImNvbnRhY3RJbmRleCIsImNhbGxlZFRvQ29udGFjdElkIiwiY29uc29sZSIsImxvZyIsImNvbnRhY3RzIiwiaWQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsT2ZDYWxsZWQiLCJlbWFpbCIsImNvbnRhY3RJZCIsImNhbGxlZFRvRnVsbE5hbWUiLCJsb2NhdGlvblByb3BzIiwiYWNjb3VudCIsImN1c3RvbWVycyIsImZpbHRlciIsImFjY291bnRJZCIsImNhbGxMb2ciLCJjYWxsZWRUbyIsInN0YXJ0RGF0ZVRpbWUiLCJEYXRlIiwiZGlzYWJsZUZyZWRhSW5DYWxsIiwic2lwQ2FsbCIsInVzZXIiLCJpbnZvaWNlcyIsImxvYWRpbmciLCJyZWRpcmVjdCIsInRyYW5zY3JpcHRpb24iLCJzdW1tYXJ5IiwiY29sdW1ucyIsIm5hbWUiLCJjdXJyZW5jeUNvbHVtbnMiLCJwYWdlU2l6ZXMiLCJuZXh0UHJvcHMiLCJjdXJyZW50VHJhbnNjcmlwdGlvbiIsIm5ld1RyYW5zY3JpcHRpb24iLCJfUmVhY3QkY3JlYXRlRWxlbWVudCIsIl90aGlzMiIsIl9wcm9wcyIsImNhbGxlZFRvTmFtZUluaXRpYWxzIiwicGFyc2VJbnQiLCJtYXRjaCIsInBhcmFtcyIsImdldEluaXRpYWxzRnJvbU5hbWUiLCJvblN3aXBlTGVmdCIsIm9uU3dpcGVSaWdodCIsImNsYXNzTmFtZSIsInRvcEl0ZW1zIiwiZ2V0TWVudUl0ZW1zIiwib3BlbiIsImRpc2FibGVBdXRvRm9jdXMiLCJvbkNsb3NlIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJmYWJCdXR0b25zIiwiZGlzYWJsZWQiLCJkaXNhYmxlZEZhYiIsInNpemUiLCJkaXNhYmxlZEFycm93aWNvbiIsImFycm93SWNvbiIsImNvbnRhaW5lciIsInhzIiwianVzdGlmeSIsInN0eWxlIiwibWFyZ2luVG9wIiwibm9XcmFwIiwic20iLCJsZyIsIm1kIiwieGwiLCJjYWxsR3JpZCIsImN1c3RvbWVySWNvbkNpcmNsZSIsImNoYXJBdCIsInZhcmlhbnQiLCJhbGlnbiIsImNvbnRhY3RJY29uIiwiZGF0YUZyb21DaGlsZCIsIm9wZW5Db250YWN0cyIsImJ1Y2tldE5hbWVzIiwibmV4dEN1c3RvbWVyVXJsIiwibmV4dFVybCIsInRvQ2FsbEN1c3RvbWVycyIsImNlbnRlckZsZXhCb3giLCJzcmMiLCJiYXNlSWNvblNpemUiLCJvblZvaWNlbWFpbENsaWNrIiwiY29sbGVjdG9yIiwiYXV0b1Njcm9sbCIsInRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZSIsInRyYW5zY3JpcHRDaGF0UHJvcHMiLCJ1c2VySW5pdGlhbHMiLCJ0cmFuc2NyaXB0R3JpZElEIiwiUmVkaXJlY3QiLCJ0byIsInBhdGhuYW1lIiwidm9pY2VtYWlsTWVzc2FnZSIsIm9uSGFuZ3VwIiwiY2FsbGVkVG9OYW1lIiwiaW5pdGlhbFRyYW5zY3JpcHRpb24iLCJDb21wb25lbnQiLCJtYXBTdGF0ZVRvUHJvcHMiLCJwZXJzb25hbERldGFpbHMiLCJtYXBEaXNwYXRjaFRvUHJvcHMiLCJkaXNwYXRjaCIsImRhdGEiLCJjaGFuZ2VTdGF0dXMiLCJjaGFuZ2VUcmFuc2NyaXB0aW9uIiwiYWRkSW5pdGlhbENhbGxMb2ciLCJjb21iaW5lZFN0eWxlIiwiYmFzZVN0eWxlIiwiY29ubmVjdCIsIndpdGhTdHlsZXMiLCJ3aXRoVGhlbWUiLCI2MDc1IiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9kYXRlX2Zuc19hZGREYXlzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfZGF0ZV9mbnNfYWRkTW9udGhzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfZGF0ZV9mbnNfYWRkWWVhcnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19kYXRlX2Zuc19kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9kYXRlX2Zuc19lYWNoRGF5T2ZJbnRlcnZhbF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2RhdGVfZm5zX2VuZE9mRGF5X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfZGF0ZV9mbnNfZW5kT2ZNb250aF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2RhdGVfZm5zX2VuZE9mV2Vla19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X2RhdGVfZm5zX2VuZE9mWWVhcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9kYXRlX2Zuc19nZXRIb3Vyc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9kYXRlX2Zuc19nZXRTZWNvbmRzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX2RhdGVfZm5zX2dldFllYXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfZGF0ZV9mbnNfaXNBZnRlcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9kYXRlX2Zuc19pc0VxdWFsX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X2RhdGVfZm5zX2lzU2FtZURheV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19kYXRlX2Zuc19pc1ZhbGlkX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X2RhdGVfZm5zX3BhcnNlX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X2RhdGVfZm5zX3NldEhvdXJzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX2RhdGVfZm5zX3NldE1pbnV0ZXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfZGF0ZV9mbnNfc2V0U2Vjb25kc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9kYXRlX2Zuc19zZXRZZWFyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX2RhdGVfZm5zX3N0YXJ0T2ZEYXlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfZGF0ZV9mbnNfc3RhcnRPZk1vbnRoX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X2RhdGVfZm5zX3N0YXJ0T2ZXZWVrX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI2X2RhdGVfZm5zX3N0YXJ0T2ZZZWFyX18iLCJEYXRlRm5zVXRpbHMiLCJfYSIsImxvY2FsZSIsImRhdGVUaW1lMTJoRm9ybWF0IiwiZGF0ZVRpbWUyNGhGb3JtYXQiLCJ0aW1lMTJoRm9ybWF0IiwidGltZTI0aEZvcm1hdCIsImRhdGVGb3JtYXQiLCJhZGREYXlzIiwiY291bnQiLCJpc1ZhbGlkIiwiZ2V0RGlmZiIsImNvbXBhcmluZyIsImlzQWZ0ZXIiLCJpc0JlZm9yZSIsInN0YXJ0T2ZEYXkiLCJlbmRPZkRheSIsImdldEhvdXJzIiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsInNldFNlY29uZHMiLCJpc1NhbWVEYXkiLCJnZXRTdGFydE9mTW9udGgiLCJnZXRZZWFyIiwic2V0WWVhciIsImRhdGUiLCJwYXJzZSIsImZvcm1hdFN0cmluZyIsImZvcm1hdCIsImlzRXF1YWwiLCJpc051bGwiLCJpc0FmdGVyRGF5IiwiaXNCZWZvcmVEYXkiLCJpc0JlZm9yZVllYXIiLCJpc0FmdGVyWWVhciIsImZvcm1hdE51bWJlciIsIm51bWJlclRvRm9ybWF0IiwiZ2V0TWludXRlcyIsImdldE1vbnRoIiwiZ2V0TWVyaWRpZW1UZXh0IiwiYW1wbSIsImdldE5leHRNb250aCIsImdldFByZXZpb3VzTW9udGgiLCJtZXJnZURhdGVBbmRUaW1lIiwidGltZSIsImdldFdlZWtkYXlzIiwibm93Iiwic3RhcnQiLCJlbmQiLCJtYXAiLCJkYXkiLCJnZXRXZWVrQXJyYXkiLCJjdXJyZW50IiwibmVzdGVkV2Vla3MiLCJ3ZWVrTnVtYmVyIiwiZ2V0WWVhclJhbmdlIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInllYXJzIiwiZ2V0Q2FsZW5kYXJIZWFkZXJUZXh0IiwiZ2V0WWVhclRleHQiLCJnZXREYXRlUGlja2VySGVhZGVyVGV4dCIsImdldERhdGVUaW1lUGlja2VySGVhZGVyVGV4dCIsImdldERheVRleHQiLCJnZXRIb3VyVGV4dCIsImdldE1pbnV0ZVRleHQiLCJnZXRTZWNvbmRUZXh0IiwiNjA3NiIsImQiLCJEYXRlUGlja2VyTW9kYWwkMSIsIkRhdGVQaWNrZXJJbmxpbmUkMSIsIlRpbWVQaWNrZXJNb2RhbCQxIiwiVGltZVBpY2tlcklubGluZSQxIiwiRGF0ZVRpbWVQaWNrZXJNb2RhbCQxIiwiRGF0ZVRpbWVQaWNrZXJJbmxpbmUkMSIsIkJhc2VQaWNrZXIkMSIsIkNhbGVuZGFyJDEiLCJEYXkkMSIsIlRpbWVQaWNrZXJWaWV3JDEiLCJDbG9jayQxIiwiTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfXyIsIm4iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfcmVhY3RfdGV4dF9tYXNrX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfcmVhY3RfdGV4dF9tYXNrX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19tYXRlcmlhbF91aV9jb3JlX0ljb25CdXR0b25fX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19tYXRlcmlhbF91aV9jb3JlX0lucHV0QWRvcm5tZW50X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX21hdGVyaWFsX3VpX2NvcmVfSW5wdXRBZG9ybm1lbnRfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19tYXRlcmlhbF91aV9jb3JlX1RleHRGaWVsZF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19tYXRlcmlhbF91aV9jb3JlX1RleHRGaWVsZF9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX21hdGVyaWFsX3VpX2NvcmVfQnV0dG9uX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX21hdGVyaWFsX3VpX2NvcmVfQnV0dG9uX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dBY3Rpb25zX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dDb250ZW50X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfcmVhY3RfZXZlbnRfbGlzdGVuZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfcmVhY3RfZXZlbnRfbGlzdGVuZXJfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9rZXljb2RlX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19tYXRlcmlhbF91aV9jb3JlX1Rvb2xiYXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX3JlYWN0X3RyYW5zaXRpb25fZ3JvdXBfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfcmVhY3RfZG9tX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19tYXRlcmlhbF91aV9jb3JlX1BvcG92ZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX21hdGVyaWFsX3VpX2NvcmVfUG9wb3Zlcl9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19tYXRlcmlhbF91aV9jb3JlX1BhcGVyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19tYXRlcmlhbF91aV9jb3JlX1BhcGVyX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhUaGVtZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFRoZW1lX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX21hdGVyaWFsX3VpX2NvcmVfVGFiX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19tYXRlcmlhbF91aV9jb3JlX1RhYl9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI2X19tYXRlcmlhbF91aV9jb3JlX1RhYnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX21hdGVyaWFsX3VpX2NvcmVfVGFic19fX2RlZmF1bHQiLCJDb25zdW1lciIsIlByb3ZpZGVyIiwiTXVpUGlja2Vyc0NvbnRleHRDb25zdW1lciIsIl9zdXBlciIsImFwcGx5IiwiYXJndW1lbnRzIiwidXRpbHMiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJVdGlscyIsIm1vbWVudCIsInJlbmRlciIsImNoaWxkcmVuIiwiZGVmYXVsdFByb3BzIiwidW5kZWZpbmVkIiwiY2hlY2tVdGlscyIsIkVycm9yIiwid2l0aFV0aWxzIiwiQ29tcG9uZW50JCQxIiwiV2l0aFV0aWxzIiwiZGlzcGxheU5hbWUiLCJnZXRJbml0aWFsRGF0ZSIsImluaXRpYWxGb2N1c2VkRGF0ZSIsImluaXRpYWxEYXRlIiwiQmFzZVBpY2tlciIsImlzQWNjZXB0ZWQiLCJjaGFuZ2VEYXRlIiwiY2FsbGJhY2siLCJoYW5kbGVBY2NlcHRlZENoYW5nZSIsImhhbmRsZUNsZWFyIiwib25DaGFuZ2UiLCJoYW5kbGVBY2NlcHQiLCJoYW5kbGVTZXRUb2RheURhdGUiLCJoYW5kbGVDaGFuZ2UiLCJoYW5kbGVUZXh0RmllbGRDaGFuZ2UiLCJtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlIiwicGljazEyaE9yMjRoRm9ybWF0IiwiZGVmYXVsdDEyaEZvcm1hdCIsImRlZmF1bHQyNGhGb3JtYXQiLCJuZXdEYXRlIiwiaXNGaW5pc2giLCJhdXRvT2siLCJoYW5kbGVEaXNtaXNzIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwiSW5wdXQiLCJpbnB1dFJlZiIsImtlZXBDaGFyUG9zaXRpb25zIiwicmVzdCIsIm1hc2siLCJhIiwicmVmIiwiZ2V0RGlzcGxheURhdGUiLCJpbnZhbGlkTGFiZWwiLCJlbXB0eUxhYmVsIiwibGFiZWxGdW5jIiwiaXNFbXB0eSIsImdldEVycm9yIiwibWF4RGF0ZSIsIm1pbkRhdGUiLCJkaXNhYmxlUGFzdCIsImRpc2FibGVGdXR1cmUiLCJtYXhEYXRlTWVzc2FnZSIsIm1pbkRhdGVNZXNzYWdlIiwiaW52YWxpZERhdGVNZXNzYWdlIiwiRGF0ZVRleHRGaWVsZCIsInVwZGF0ZVN0YXRlIiwiY29tbWl0VXBkYXRlcyIsImNsZWFyYWJsZSIsIm9uQ2xlYXIiLCJvbkVycm9yIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImVycm9yIiwiZGlzcGxheVZhbHVlIiwiaGFuZGxlQmx1ciIsImUiLCJrZXlib2FyZCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwib25CbHVyIiwib25JbnB1dENoYW5nZSIsInBhcnNlZFZhbHVlIiwiaGFuZGxlRm9jdXMiLCJvcGVuUGlja2VyIiwiaGFuZGxlS2V5UHJlc3MiLCJkaXNhYmxlT3Blbk9uRW50ZXIiLCJhZG9ybm1lbnRQb3NpdGlvbiIsIklucHV0QWRvcm5tZW50UHJvcHMiLCJJbnB1dFByb3BzIiwia2V5Ym9hcmRJY29uIiwicGlwZSIsIlRleHRGaWVsZENvbXBvbmVudCIsIm90aGVyIiwiX2IiLCJsb2NhbElucHV0UHJvcHMiLCJpbnB1dENvbXBvbmVudCIsImlucHV0UHJvcHMiLCJyZWFkT25seSIsImhlbHBlclRleHQiLCJvbktleVByZXNzIiwiRGF0ZVRleHRGaWVsZCQxIiwiTW9kYWxEaWFsb2ciLCJfYyIsIl9kIiwib25LZXlEb3duIiwib25BY2NlcHQiLCJvbkRpc21pc3MiLCJvblNldFRvZGF5Iiwib2tMYWJlbCIsImNhbmNlbExhYmVsIiwiY2xlYXJMYWJlbCIsInRvZGF5TGFiZWwiLCJzaG93VG9kYXlCdXR0b24iLCJzaG93VGFicyIsInJvbGUiLCJwYXBlciIsImRpYWxvZ1Jvb3QiLCJkaWFsb2dXaXRoVGFicyIsImRpYWxvZyIsImRpYWxvZ0FjdGlvbnMiLCJhY3Rpb24iLCJkaWFsb2dBY3Rpb24iLCJjbGVhcmFibGVEaWFsb2dBY3Rpb24iLCJ0b2RheURpYWxvZ0FjdGlvbiIsIm1pbldpZHRoIiwibWluSGVpZ2h0Iiwib3ZlcmZsb3ciLCImOmZpcnN0LWNoaWxkIiwiTW9kYWxEaWFsb2ckMSIsIk1vZGFsV3JhcHBlciIsImhhbmRsZUtleURvd24iLCJldmVudCIsIm9uT3BlbiIsImNsb3NlIiwiRGlhbG9nUHJvcHMiLCJQaWNrZXJUb29sYmFyIiwidG9vbGJhciIsInN0eWxlcyQxIiwiUGlja2VyVG9vbGJhciQxIiwiVG9vbGJhckJ1dHRvbiIsInNlbGVjdGVkIiwibGFiZWwiLCJ0b29sYmFyQnRuIiwidG9vbGJhckJ0blNlbGVjdGVkIiwic3R5bGVzJDIiLCJjb21tb24iLCJ3aGl0ZSIsIlRvb2xiYXJCdXR0b24kMSIsImZpbmRDbG9zZXN0RW5hYmxlZERhdGUiLCJzaG91bGREaXNhYmxlRGF0ZSIsInRvZGF5IiwiZm9yd2FyZCIsImJhY2t3YXJkIiwiU2xpZGVUcmFuc2l0aW9uIiwidHJhbnNLZXkiLCJzbGlkZURpcmVjdGlvbiIsInRyYW5zaXRpb25Db250YWluZXIiLCJtb3VudE9uRW50ZXIiLCJ1bm1vdW50T25FeGl0IiwidGltZW91dCIsImNsYXNzTmFtZXMiLCJlbnRlciIsImVudGVyQWN0aXZlIiwic2xpZGVFbnRlckFjdGl2ZSIsImV4aXQiLCJzbGlkZUV4aXQiLCJleGl0QWN0aXZlIiwic3R5bGVzJDMiLCJzbGlkZVRyYW5zaXRpb24iLCJ0cmFuc2l0aW9ucyIsImVhc2luZyIsIiYgPiAqIiwic2xpZGVFbnRlci1sZWZ0Iiwid2lsbENoYW5nZSIsInRyYW5zZm9ybSIsInNsaWRlRW50ZXItcmlnaHQiLCJ0cmFuc2l0aW9uIiwic2xpZGVFeGl0QWN0aXZlTGVmdC1sZWZ0Iiwic2xpZGVFeGl0QWN0aXZlTGVmdC1yaWdodCIsIlNsaWRlVHJhbnNpdGlvbiQxIiwiQ2FsZW5kYXJIZWFkZXIiLCJjdXJyZW50TW9udGgiLCJvbk1vbnRoQ2hhbmdlIiwibGVmdEFycm93SWNvbiIsInJpZ2h0QXJyb3dJY29uIiwiZGlzYWJsZVByZXZNb250aCIsImRpc2FibGVOZXh0TW9udGgiLCJydGwiLCJkaXJlY3Rpb24iLCJzZWxlY3ROZXh0TW9udGgiLCJzZWxlY3RQcmV2aW91c01vbnRoIiwic3dpdGNoSGVhZGVyIiwiaWNvbkJ1dHRvbiIsInRvU3RyaW5nIiwiZGF5c0hlYWRlciIsImluZGV4IiwiZGF5TGFiZWwiLCJzdHlsZXMkNCIsIm1hcmdpbkJvdHRvbSIsIm1hcmdpbiIsInRleHQiLCJoaW50IiwiQ2FsZW5kYXJIZWFkZXIkMSIsIkRheSIsImhpZGRlbiIsInRhYkluZGV4Iiwic3R5bGVzJDUiLCJ0eXBvZ3JhcGh5IiwiY2FwdGlvbiIsImZvbnRXZWlnaHQiLCJmb250V2VpZ2h0TWVkaXVtIiwicG9pbnRlckV2ZW50cyIsIiY6aG92ZXIiLCJEYXlXcmFwcGVyIiwiaGFuZGxlQ2xpY2siLCJvblNlbGVjdCIsImRheUluQ3VycmVudE1vbnRoIiwiQ2FsZW5kYXIiLCJvbkRhdGVTZWxlY3QiLCJoYW5kbGVDaGFuZ2VNb250aCIsIm5ld01vbnRoIiwidmFsaWRhdGVNaW5NYXhEYXRlIiwic2hvdWxkRGlzYWJsZVByZXZNb250aCIsInNob3VsZERpc2FibGVOZXh0TW9udGgiLCJCb29sZWFuIiwibW92ZVRvRGF5IiwicmVuZGVyV2Vla3MiLCJ3ZWVrIiwicmVuZGVyRGF5cyIsInJlbmRlckRheSIsInNlbGVjdGVkRGF0ZSIsImN1cnJlbnRNb250aE51bWJlciIsImRheUNvbXBvbmVudCIsImxhc3REYXRlIiwiY29tcG9uZW50RGlkTW91bnQiLCJjbG9zZXN0RW5hYmxlZERhdGUiLCJhbGxvd0tleWJvYXJkQ29udHJvbCIsImF1dG9Gb2N1cyIsInN0eWxlcyQ2IiwiWWVhciIsImNvbXBvbmVudCIsInN0eWxlcyQ3Iiwib3V0bGluZSIsIiY6Zm9jdXMiLCJZZWFyJDEiLCJZZWFyU2VsZWN0aW9uIiwic2VsZWN0ZWRZZWFyUmVmIiwiZ2V0U2VsZWN0ZWRZZWFyUmVmIiwic2Nyb2xsVG9DdXJyZW50WWVhciIsImRvbU5vZGUiLCJhbmltYXRlWWVhclNjcm9sbGluZyIsImN1cnJlbnRZZWFyRWxlbWVudCIsInNjcm9sbEludG9WaWV3Iiwic2V0VGltZW91dCIsImJlaGF2aW9yIiwib25ZZWFyU2VsZWN0IiwieWVhciIsImN1cnJlbnRZZWFyIiwieWVhck51bWJlciIsInN0eWxlcyQ4IiwiWWVhclNlbGVjdGlvbiQxIiwiRGF0ZVBpY2tlciIsInNob3dZZWFyU2VsZWN0aW9uIiwib3BlblRvWWVhclNlbGVjdGlvbiIsImhhbmRsZVllYXJTZWxlY3QiLCJvcGVuQ2FsZW5kYXIiLCJvcGVuWWVhclNlbGVjdGlvbiIsImdldCIsIkRhdGVQaWNrZXIkMSIsIkRhdGVQaWNrZXJNb2RhbCIsImZvcndhcmRlZFJlZiIsIklubGluZVdyYXBwZXIiLCJhbmNob3JFbCIsImN1cnJlbnRUYXJnZXQiLCJQb3BvdmVyUHJvcHMiLCJvbmx5Q2FsZW5kYXIiLCJpc09wZW4iLCJwb3BvdmVyUGFwZXIiLCJhbmNob3JPcmlnaW4iLCJ2ZXJ0aWNhbCIsImhvcml6b250YWwiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJzdHlsZXMkOSIsIm1heFdpZHRoIiwiSW5saW5lV3JhcHBlciQxIiwiRGF0ZVBpY2tlcklubGluZSIsIkNvbXBvbmVudFRvU2hvdyIsImlubmVyUmVmIiwiQ2xvY2tUeXBlIiwiY2VudGVyIiwieCIsInkiLCJiYXNlUG9pbnQiLCJjeCIsImN5IiwicmFkMmRlZyIsInJhZCIsImdldEFuZ2xlVmFsdWUiLCJzdGVwIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJhdGFuIiwiYXRhbjIiLCJkZWciLCJyb3VuZCIsImRlbHRhIiwicG93IiwiZGlzdGFuY2UiLCJzcXJ0IiwiY29udmVydFRvTWVyaWRpZW0iLCJtZXJpZGllbSIsImhvdXJzIiwiQ2xvY2tUeXBlJDEiLCJDbG9ja1BvaW50ZXIiLCJ0b0FuaW1hdGVUcmFuc2Zvcm0iLCJwcmV2aW91c1R5cGUiLCJnZXRBbmdsZVN0eWxlIiwiaXNJbm5lciIsIm1heCIsIkhPVVJTIiwiYW5nbGUiLCJoYXNTZWxlY3RlZCIsInBvaW50ZXIiLCJhbmltYXRlVHJhbnNmb3JtIiwidGh1bWIiLCJub1BvaW50Iiwic3R5bGVzJGEiLCJib3JkZXIiLCJib3hTaXppbmciLCJDbG9ja1BvaW50ZXIkMSIsIkNsb2NrIiwiaXNNb3ZpbmciLCJoYW5kbGVUb3VjaE1vdmUiLCJzZXRUaW1lIiwiaGFuZGxlVG91Y2hFbmQiLCJoYW5kbGVNb3ZlIiwiYnV0dG9ucyIsIm5hdGl2ZUV2ZW50Iiwid2hpY2giLCJoYW5kbGVNb3VzZVVwIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNoYW5nZWRUb3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJTRUNPTkRTIiwiTUlOVVRFUyIsImlzUG9pbnRlcklubmVyIiwiY2xvY2siLCJzcXVhcmVNYXNrIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwib25Nb3VzZVVwIiwib25Nb3VzZU1vdmUiLCJwaW4iLCJzdHlsZXMkYiIsInRvdWNoQWN0aW9ucyIsInVzZXJTZWxlY3QiLCImOmFjdGl2ZSIsInBvc2l0aW9ucyIsIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCIxMCIsIjExIiwiMTIiLCIxMyIsIjE0IiwiMTUiLCIxNiIsIjE3IiwiMTgiLCIxOSIsIjIwIiwiMjEiLCIyMiIsIjIzIiwiQ2xvY2tOdW1iZXIiLCJnZXRUcmFuc2Zvcm1TdHlsZSIsImNsb2NrTnVtYmVyIiwic3R5bGVzJGMiLCJDbG9ja051bWJlciQxIiwiZ2V0SG91ck51bWJlcnMiLCJjdXJyZW50SG91cnMiLCJob3VyTnVtYmVycyIsInN0YXJ0SG91ciIsImVuZEhvdXIiLCJob3VyIiwiZ2V0TWludXRlc051bWJlcnMiLCJmIiwiVGltZVBpY2tlclZpZXciLCJnZXRWaWV3UHJvcHMiLCJoYW5kbGVIb3VyQ2hhbmdlIiwibWludXRlc1ZhbHVlIiwiaGFuZGxlTWludXRlc0NoYW5nZSIsInNlY29uZHNWYWx1ZSIsImhhbmRsZVNlY29uZHNDaGFuZ2UiLCJ1cGRhdGVkVGltZSIsIm9uSG91ckNoYW5nZSIsIm1pbnV0ZXMiLCJvbk1pbnV0ZXNDaGFuZ2UiLCJzZWNvbmRzIiwib25TZWNvbmRzQ2hhbmdlIiwidmlld1Byb3BzIiwiVGltZVBpY2tlciIsIm9wZW5WaWV3IiwibWVyaWRpZW1Nb2RlIiwic2V0TWVyaWRpZW1Nb2RlIiwibW9kZSIsIm9wZW5NaW51dGVzIiwib3BlblNlY29uZHMiLCJ3aXRoTWVyaWRpZW0iLCJvcGVuTWludXRlc1ZpZXciLCJvcGVuU2Vjb25kc1ZpZXciLCJvcGVuSG91clZpZXciLCJob3VyTWludXRlQ2xhc3NOYW1lIiwiaG91ck1pbnV0ZUxhYmVsUmV2ZXJzZSIsImhvdXJNaW51dGVMYWJlbCIsInRvb2xiYXJMZWZ0UGFkZGluZyIsInNlcGFyYXRvciIsImFtcG1TZWxlY3Rpb25XaXRoU2Vjb25kcyIsImFtcG1TZWxlY3Rpb24iLCJhbXBtTGFiZWwiLCJzdHlsZXMkZCIsIlRpbWVQaWNrZXIkMSIsIlRpbWVQaWNrZXJNb2RhbCIsIlRpbWVQaWNrZXJJbmxpbmUiLCJEYXRlVGltZVBpY2tlclZpZXciLCJEYXRlVGltZVBpY2tlclZpZXckMSIsInN0eWxlcyRlIiwiZGF0ZUhlYWRlciIsInRpbWVIZWFkZXIiLCJEYXRlVGltZVBpY2tlckhlYWRlciIsIm9uT3BlblZpZXdDaGFuZ2UiLCJZRUFSIiwiREFURSIsIkhPVVIiLCJEYXRldGltZVBpY2tlckhlYWRlciIsInZpZXdUb1RhYkluZGV4IiwidGFiSW5kZXhUb1ZpZXciLCJ0YWIiLCJEYXRlVGltZVBpY2tlclRhYnMiLCJ2aWV3IiwiZGF0ZVJhbmdlSWNvbiIsInRpbWVJY29uIiwiaW5kaWNhdG9yQ29sb3IiLCJmdWxsV2lkdGgiLCJ0YWJzIiwiaWNvbiIsInN0eWxlcyRmIiwiRGF0ZVRpbWVQaWNrZXJUYWJzJDEiLCJEYXRlVGltZVBpY2tlclZpZXckMiIsIkRhdGVUaW1lUGlja2VyIiwib3BlblRvIiwibmV4dFZpZXciLCJhdXRvU3VibWl0IiwiaGFuZGxlVmlld0NoYW5nZSIsImhhbmRsZVllYXJDaGFuZ2UiLCJoYW5kbGVEYXlDaGFuZ2UiLCJWaWV3Q29udGFpbmVyQ29tcG9uZW50IiwiQ29udGFpbmVyIiwiVmlld0NvbnRhaW5lckNvbXBvbmVudFByb3BzIiwiRGF0ZVRpbWVQaWNrZXIkMSIsIkRhdGVUaW1lUGlja2VyTW9kYWwiLCJ0b1Nob3dUYWJzIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJEYXRlVGltZVBpY2tlcklubGluZSIsIjYwNzciLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInNvdXJjZSIsImhhc093blByb3BlcnR5IiwiX2RlZmluZVByb3BlcnRpZXMiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX2dldFByb3RvdHlwZU9mIiwibyIsIl9zZXRQcm90b3R5cGVPZiIsInAiLCJfcHJvcFR5cGVzIiwiX3V0aWxzIiwicHJvcFR5cGVzIiwidGhvdXNhbmRTZXBhcmF0b3IiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJvbmVPZiIsImRlY2ltYWxTZXBhcmF0b3IiLCJ0aG91c2FuZHNHcm91cFN0eWxlIiwiZGVjaW1hbFNjYWxlIiwibnVtYmVyIiwiZml4ZWREZWNpbWFsU2NhbGUiLCJib29sIiwiZGlzcGxheVR5cGUiLCJwcmVmaXgiLCJzdWZmaXgiLCJmdW5jIiwicmVtb3ZlRm9ybWF0dGluZyIsImFycmF5T2YiLCJkZWZhdWx0VmFsdWUiLCJpc051bWVyaWNTdHJpbmciLCJjdXN0b21JbnB1dCIsImFsbG93TmVnYXRpdmUiLCJhbGxvd0VtcHR5Rm9ybWF0dGluZyIsIm9uVmFsdWVDaGFuZ2UiLCJvbkZvY3VzIiwiaXNBbGxvd2VkIiwicmVuZGVyVGV4dCIsImdldElucHV0UmVmIiwibm9vcCIsInJldHVyblRydWUiLCJOdW1iZXJGb3JtYXQiLCJfUmVhY3QkQ29tcG9uZW50IiwidmFsaWRhdGVQcm9wcyIsImZvcm1hdHRlZFZhbHVlIiwiZm9ybWF0VmFsdWVQcm9wIiwibnVtQXNTdHJpbmciLCJzZWxlY3Rpb25CZWZvcmVJbnB1dCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiYmluZCIsInVwZGF0ZVZhbHVlSWZSZXF1aXJlZCIsImZvY3VzZWRFbG0iLCJzdGF0ZVZhbHVlIiwiX3N0YXRlJG51bUFzU3RyaW5nIiwibGFzdE51bVN0ciIsImxhc3RWYWx1ZVdpdGhOZXdGb3JtYXQiLCJmb3JtYXROdW1TdHJpbmciLCJmbG9hdFZhbHVlIiwicGFyc2VGbG9hdCIsImxhc3RGbG9hdFZhbHVlIiwiaXNOYU4iLCJ1cGRhdGVWYWx1ZSIsImlucHV0IiwibnVtIiwiX3RoaXMkZ2V0U2VwYXJhdG9ycyIsImdldFNlcGFyYXRvcnMiLCJudW1SZWdleCIsImdldE51bWJlclJlZ2V4IiwiaGFzTmVnYXRpb24iLCJyZXBsYWNlIiwic3BsaXQiLCJqb2luIiwiZmlyc3REZWNpbWFsSW5kZXgiLCJpbmRleE9mIiwiY29uY2F0Iiwic3Vic3RyaW5nIiwiUmVnRXhwIiwiZXNjYXBlUmVnRXhwIiwiZyIsImlnbm9yZURlY2ltYWxTZXBhcmF0b3IiLCJfdGhpcyRwcm9wcyIsIl90aGlzJGdldFNlcGFyYXRvcnMyIiwiX3RoaXMkcHJvcHMkbWFzayIsIl90aGlzJGdldFNlcGFyYXRvcnMzIiwiZWwiLCJjYXJldFBvcyIsImN1cnJlbnRWYWx1ZSIsInNldENhcmV0UG9zaXRpb24iLCJfdGhpcyRwcm9wczIiLCJjbGFtcCIsImNoYXJJc051bWJlciIsImZpcnN0SGFzaFBvc2l0aW9uIiwibGFzdEhhc2hQb3NpdGlvbiIsImxhc3RJbmRleE9mIiwibmV4dFBvcyIsImNhcmV0TGVmdEJvdW5kIiwiY2FyZXRSaWdodEJvdW5kIiwiaW5wdXRWYWx1ZSIsImoiLCJpbnB1dE51bWJlciIsImZvcm1hdHRlZE51bWJlciIsImN1cnJlbnRJbnB1dENoYXIiLCJjdXJyZW50Rm9ybWF0Q2hhciIsImNvcnJlY3RDYXJldFBvc2l0aW9uIiwidmFsIiwiX3RoaXMkcHJvcHMzIiwiaXNOZWdhdGl2ZSIsInN1ZmZpeExhc3RJbmRleCIsImZvcm1hdEFycmF5Iiwic3RyIiwibnVtU3RyIiwibG4iLCJwYXJ0IiwiX3RoaXMkcHJvcHM0IiwicmVtb3ZlUGF0dGVybkZvcm1hdHRpbmciLCJyZW1vdmVQcmVmaXhBbmRTdWZmaXgiLCJnZXRGbG9hdFN0cmluZyIsImhhc2hDb3VudCIsImZvcm1hdHRlZE51bWJlckFyeSIsImdldE1hc2tBdEluZGV4IiwiX3RoaXMkcHJvcHM1IiwiX3RoaXMkZ2V0U2VwYXJhdG9yczQiLCJoYXNEZWNpbWFsU2VwYXJhdG9yIiwiX3NwbGl0RGVjaW1hbCIsInNwbGl0RGVjaW1hbCIsImJlZm9yZURlY2ltYWwiLCJhZnRlckRlY2ltYWwiLCJhZGROZWdhdGlvbiIsImxpbWl0VG9TY2FsZSIsInRob3VzYW5kc0dyb3VwUmVnZXgiLCJnZXRUaG91c2FuZHNHcm91cFJlZ2V4IiwiX3RoaXMkcHJvcHM2IiwiZm9ybWF0V2l0aFBhdHRlcm4iLCJmb3JtYXRBc051bWJlciIsIl90aGlzJHByb3BzNyIsIl90aGlzJHByb3BzOCIsIl90aGlzJHByb3BzOCR2YWx1ZSIsImlzTm9uTnVtZXJpY0ZhbHN5Iiwicm91bmRUb1ByZWNpc2lvbiIsImZvcm1hdElucHV0IiwibmVnYXRpb25SZWdleCIsImRvdWJsZU5lZ2F0aW9uUmVnZXgiLCJ0ZXN0IiwicmVtb3ZlTmVnYXRpb24iLCJmb3JtYXROZWdhdGlvbiIsIl90aGlzJHByb3BzOSIsIl90aGlzJGdldFNlcGFyYXRvcnM1IiwiaXNDaGFyYWN0ZXJBRm9ybWF0IiwibGFzdFZhbHVlIiwiX3RoaXMkcHJvcHMxMCIsIl90aGlzJGdldFNlcGFyYXRvcnM2IiwiX3RoaXMkc2VsZWN0aW9uQmVmb3JlIiwiX2ZpbmRDaGFuZ2VkSW5kZXgiLCJmaW5kQ2hhbmdlZEluZGV4Iiwic3Vic3RyIiwibGVmdEJvdW5kIiwicmlnaHRCb3VuZCIsImNoZWNrSWZGb3JtYXRHb3REZWxldGVkIiwibnVtZXJpY1N0cmluZyIsIl9zcGxpdERlY2ltYWwyIiwiaXNCZWZvcmVEZWNpbWFsUG9pbnQiLCJvblVwZGF0ZSIsImN1cnJlbnRDYXJldFBvc2l0aW9uIiwiZ2V0Q3VycmVudENhcmV0UG9zaXRpb24iLCJnZXRDYXJldFBvc2l0aW9uIiwic2V0UGF0Y2hlZENhcmV0UG9zaXRpb24iLCJnZXRWYWx1ZU9iamVjdCIsInBlcnNpc3QiLCJjb3JyZWN0SW5wdXRWYWx1ZSIsImZpeExlYWRpbmdaZXJvIiwiZXhwZWN0ZWRDYXJldFBvc2l0aW9uIiwiX2VsJHZhbHVlIiwiX3RoaXMkcHJvcHMxMSIsIm5lZ2F0aXZlUmVnZXgiLCJpc1BhdHRlcm5Gb3JtYXQiLCJuZXdDYXJldFBvc2l0aW9uIiwiaXNVbml0VGVzdFJ1biIsIl9lbCR2YWx1ZTIiLCJjYXJldFBvc2l0aW9uIiwiX3RoaXMzIiwiX2VsJHZhbHVlMyIsIl90aGlzJHByb3BzMTIiLCJvdGhlclByb3BzIiwib21pdCIsIkN1c3RvbUlucHV0IiwiX2RlZmF1bHQiLCI2MDc4IiwiX1BhcGVyIiwiX1BhcGVyMiIsIl9DaGVja2JveCIsIl9DaGVja2JveDIiLCJfU2VsZWN0IiwiX1NlbGVjdDIiLCJfTWVudUl0ZW0iLCJfTWVudUl0ZW0yIiwiX0ludm9pY2VUYWJsZSIsIl9JbnZvaWNlVGFibGUyIiwiX2NvbmZpZyIsIl9jb25maWcyIiwiX2F4aW9zIiwiX2F4aW9zMiIsIl9wcm9wVHlwZXMyIiwiX1NuYWNrYmFyIiwiX1NuYWNrYmFyMiIsIl9JY29uQnV0dG9uIiwiX0ljb25CdXR0b24yIiwiX0NsZWFyIiwiX0NsZWFyMiIsImR1ZURldGFpbHNSb290IiwicG9zdENhbGxEdWVEZXRhaWxzUm9vdCIsIm1lbnVJdGVtUm9vdCIsIm1lbnVQYXBlciIsImNoZWNrZWRJY29uIiwic2VsZWN0RmlsdGVyIiwiZW1haWxJY29uIiwiZW5hYmxlZEVtYWlsSWNvbiIsImRpc2FibGVkRW1haWxJY29uIiwiYmxhY2tUZXh0Iiwic2VsZWN0TWVudSIsImJvcmRlckJvdHRvbSIsImNsZWFyU2VsZWN0aW9ucyIsImNsZWFyU2VsZWN0aW9uc1BhcmVudCIsInNlbGVjdEljb24iLCJzZWxlY3RMaW5lUG9zdENhbGwiLCJzZWxlY3RMaW5lSW5DYWxsIiwiaW52b2ljZUJ1Y2tldENoZWNrYm94IiwiY2hlY2tCb3hSb290IiwiY2xlYXJTZWxlY3Rpb25HcmlkIiwiZmlsdGVySW52b2ljZXMiLCJEdWVEZXRhaWxzIiwiX2luaXRpYWxpc2VQcm9wcyIsInRvdGFsUm93cyIsImNvcnJlY3RJbnZvaWNlc01hcCIsInBvc3RDYWxsIiwic2V0U2VsZWN0ZWRJbnZvaWNlcyIsImludm9pY2VUeXBlIiwic2VsZWN0ZWRJbnZvaWNlcyIsImFsbEludm9pY2VzIiwiZ2xvYmFsQ2hlY2siLCJpc0J1bGtFbWFpbCIsInNuYWNrQmFyT3BlbiIsInNuYWNrQmFyTWVzc2FnZSIsInNldENoZWNrIiwiZGF5cyIsImVsZXZhdGlvbiIsImNoZWNrZWQiLCJoYW5kbGVGaWx0ZXJDaGFuZ2UiLCJNZW51UHJvcHMiLCJkaXNhYmxlVW5kZXJsaW5lIiwic2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCIsInNlbmRCdWxrRW1haWwiLCJidWNrZXRJbnZvaWNlcyIsImluZGl2aWR1YWwiLCJ1cGRhdGVHbG9iYWxNYXAiLCJhdXRvSGlkZUR1cmF0aW9uIiwiY2xvc2VTbmFja2JhciIsIkNvbnRlbnRQcm9wcyIsImFyaWEtZGVzY3JpYmVkYnkiLCJfdGhpczQiLCJhbGxFbWFpbHNGbGFnIiwidGVtcCIsImZsYWciLCJzdW0iLCJjYWxsRnJvbUNoaWxkIiwiZmluZFR5cGUiLCJpbnZvaWNlIiwicDJwRGVsaW5xdWVudCIsInAycFVwY29taW5nIiwicDJwQnJva2VuIiwib3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UiLCJkb2N1bWVudE51bWJlcnMiLCJyZXFFbWFpbE9iaiIsImN1c3RvbWVySWQiLCJkb2N1bWVudElkcyIsImZyb20iLCJlbWFpbElkIiwiYXhpb3MiLCJwb3N0IiwiY29uZmlnIiwiYXBpVXJsIiwidGhlbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJzZWxlY3RlZEludm9pY2VzQ291bnQiLCJQcm9wVHlwZXMiLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwiYXJyYXkiLCI2MDc5IiwiX0V4cGFuc2lvblBhbmVsIiwiX0V4cGFuc2lvblBhbmVsMiIsIl9FeHBhbnNpb25QYW5lbFN1bW1hcnkiLCJfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5MiIsIl9FeHBhbnNpb25QYW5lbERldGFpbHMiLCJfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMiIsIl9mb3JtYXR0ZXIiLCJfRXhwYW5kTW9yZSIsIl9FeHBhbmRNb3JlMiIsIl9Eb25lIiwiX0RvbmUyIiwiX2ljb25zIiwiX0dyaWRMaXN0IiwiX0dyaWRMaXN0MiIsIl9HcmlkTGlzdFRpbGUiLCJfR3JpZExpc3RUaWxlMiIsIl9yZWYiLCJwb3N0Q2FsbFJvb3QiLCJncmlkTGlzdCIsImdyaWRMaXN0RGl2Iiwic2VsZWN0ZWRHcmlkTGlzdERpdiIsInNoaWZ0IiwiZ3JleVRleHQiLCJidWNrZXRIZWFkZXJUZXh0IiwiY2hhbmdlUm93QmFja2dyb3VuZCIsImRlZmF1bHRCYWNrZ3JvdW5kIiwiaW52b2ljZUhlYWRlclRleHQiLCJwYW5lbFN1bW1hcnkiLCJjb250ZW50IiwiZXhwYW5kSWNvbiIsImluZGl2aWR1YWxJbnZvaWNlSGVhZGVyIiwiaWNvblNpemUiLCJzdW1tYXJ5RXhwYW5kZWQiLCJkaXNhYmxlVGltZWxpbmUiLCJ0aW1lbGluZSIsImJvcmRlckxlZnQiLCJJbnZvaWNlVGFibGUiLCJleHBhbmRlZCIsInRvdGFsQW1vdW50IiwiY3VycmVudE9wZW5BbW91bnQiLCJjaGVja2VkSW52b2ljZXMiLCJpbmRpdmlkdWFsQnVja2V0Q2hlY2tib3giLCJjaGVja0FsbEludm9pY2VzIiwibm9TaGlmdCIsImRlZmF1bHRFeHBhbmRlZCIsInN1bW1hcnlDb250ZW50IiwiY29ubmVjdG9yIiwidG9nZ2xlRXhwYW5kIiwiRXhwYW5kTGVzcyIsInZlcnRpY2FsVGltZWxpbmUiLCJjaGVja0JveENvbHVtbiIsImludm9pY2VOdW1iZXJDb2x1bW4iLCJhbW91bnRDb2x1bW4iLCJicm9rZW5Db2x1bW4iLCJ1cGNvbWluZ0NvbHVtbiIsImRpc3B1dGVDb2x1bW4iLCJwcmVkaWN0ZWRDb2x1bW4iLCJlbWFpbENvbHVtbiIsImFkZEludm9pY2UiLCJudW1lcmljIiwiZG9jdW1lbnROdW1iZXIiLCJmb3JtYXR0ZXIiLCJkaXNwdXRlU3RhdHVzIiwic2VuZEVtYWlsIiwicG9zdENhbGxUaW1lbGluZSIsImNlbGxIZWlnaHQiLCJjb2xzIiwidGlsZSIsImdyaWRMaXN0VGlsZSIsInVwZGF0ZUxvY2FsTWFwIiwiaW52b2ljZUlkIiwic3RhdHVzVGV4dCIsIjYwODAiLCJfVHJhbnNjcmlwdENoYXQyIiwiVHJhbnNjcmlwdEJveCIsInRyYW5zY3JpcHRDb250YWluZXJDbGFzcyIsIjYwODEiLCJfQ2hhdEJveCIsIl9DaGF0Qm94MiIsIl9jb25zdGFudHMiLCJ0cmFuc2NyaXB0VGV4dFBhcmVudCIsIndoaXRlU3BhY2UiLCJ3b3JkV3JhcCIsIlRyYW5zY3JpcHRDaGF0Iiwic2Nyb2xsVG9Cb3R0b20iLCJjb250YWluZXJJRCIsInRyYW5zY3JpcHRpb25HcmlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImdlbmVyYXRlQ2hhdEJveGVzIiwidHJhbnNjcmlwdE1lc3NhZ2UiLCJpbmNsdWRlcyIsIlRSQU5TQ1JJUFRfREVMSU1FVEVSUyIsIkNPTExFQ1RPUiIsImlzQ29sbGVjdG9yIiwiaW5pdGlhbHMiLCJDVVNUT01FUiIsIkRFVEVDVElOR19TUEVBS0VSUyIsImlzRGV0ZWN0aW5nIiwicHJldlN0YXRlIiwic25hcHNob3QiLCJleHRyYWN0ZWRUcmFuc2NyaXB0Iiwic3BsaXRUcmFuc2NyaXB0IiwiNjA4NiIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsImFycjIiLCJfc3RvcmUiLCJfQWN0aW9ucyIsIl9BY3Rpb25zMiIsIl9jb3JlIiwiX0J1dHRvbiIsIl9CdXR0b24yIiwiX0NpcmN1bGFyUHJvZ3Jlc3MiLCJfQ2lyY3VsYXJQcm9ncmVzczIiLCJfRmluYWwiLCJfRmluYWwyIiwiX0dyb3ciLCJfR3JvdzIiLCJfQ3VzdG9tRGlhbG9nIiwiX0N1c3RvbURpYWxvZzIiLCJfQWN0aW9uQ3JlYXRvckRpYWxvZyIsIl9BY3Rpb25DcmVhdG9yRGlhbG9nMiIsIl9Ob3Rlc0VkaXRvciIsIl9Ob3Rlc0VkaXRvcjIiLCJfcG9zdENhbGxIZWxwZXIiLCJfY29tbW9uU2VydmljZSIsIm92ZXJmbG93WCIsInN1bW1hcnlCb3giLCJjdXN0b21lckRldGFpbFRleHQiLCJidXR0b24iLCImOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSIsImJ1dHRvblRpdGxlIiwiaGVhZGluZyIsInBvc3RDYWxsQ2FyZEdyaWQiLCJwYWRkaW5nUmlnaHRPbkNhcmQiLCJlbXB0eUZ1bmN0aW9uIiwiUG9zdENhbGwiLCJzbmFja01lc3NhZ2VRdWV1ZSIsImRlbGV0ZUFjdGlvbiIsInN1bW1hcnlDb21wbGV0aW9uTWFwIiwiZGVsZXRlIiwibWFya1N1bW1hcnlBc0RvbmUiLCJkb25lTWFwIiwicHJldlN1bW1hcnkiLCJzYXZlIiwic2V0IiwidXBkYXRlQWN0aW9uSXRlbUNoZWNrIiwiZ2VuZXJhdGVkU3VtbWFyeSIsIm5vdGVzIiwiaXNBbnlBY3Rpb25Db21wbGV0ZWQiLCJzYXZlUG9zdENhbGxUaGluZ3MiLCJjaGVja1N1bW1hcnlDb21wbGV0ZU1hcCIsImRvUmV2aWV3RGlhbG9nT3BlbiIsIm5vbkFjdGlvbk5vdGVzIiwidHJpbSIsIm5vbkFjdGlvbkluY2x1ZGVkIiwic2F2ZUNhbGxMb2ciLCJzYXZlTm90ZXNDaGFuZ2VzIiwiaXNFZGl0aW5nT24iLCJwcmV2Tm9uQWN0aW9uTm90ZXMiLCJibHVyTm9uQWN0aW9uTm90ZXNCb3giLCJkaXNjYXJkTm90ZXNDaGFuZ2VzIiwib3BlblNuYWNrYmFyIiwibWVzc2FnZVR5cGUiLCJTTkFDS19NRVNTQUdFUyIsImdldFRpbWUiLCJzbmFja09wZW4iLCJwcm9jZXNzUXVldWUiLCJzbmFja01lc3NhZ2UiLCJoYW5kbGVOb25hY3Rpb25Ob3Rlc0NoYW5nZSIsInVwZGF0ZU5vdGVzIiwicmVhc29uIiwiaGFuZGxlU25hY2tiYXJFeGl0IiwiaGFuZGxlQWN0aW9uSXRlbUNsaWNrIiwiYWN0aW9uVHlwZSIsIm5ld0FjdGlvbiIsImNyZWF0ZUFjdGlvbiIsInN1bW1hcnlMZW5ndGgiLCJjbG9zZUFjdGlvbkNyZWF0b3JEaWFsb2ciLCJjbG9zZVJldmlld1dhcm5pbmdEaWFsb2ciLCJoYW5kbGVBY3Rpb25DcmVhdGlvbiIsImRvT3Blbk5ld0FjdGlvbkRpYWxvZyIsInVwZGF0ZVN1bW1hcnlGcm9tQ2hpbGQiLCJuZXdTdW1tYXJ5IiwidXBkYXRlSW52b2ljZXMiLCJ1cGRhdGVkSW52b2ljZXMiLCJ1cGRhdGVkSW52b2ljZUxpc3QiLCJlbnRpdGllcyIsImVkaXROb25BY3Rpb25Ob3RlcyIsInRleHRGaWVsZCIsImZvY3VzIiwiYmx1ciIsImluaXRpYWxpemVTdW1tYXJ5V2l0aERlZmF1bHRzIiwic3VtbWFyeVdpdGhJZHMiLCJhcHBlbmRJZHNUb1N1bW1hcnkiLCJjcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcCIsIm5vbkFjdGlvblN1bW1hcnkiLCJjcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzIiwiY29tYmluZWROb3RlcyIsImdlbmVyYXRlTm90ZXNBc1N0cmluZyIsImNhbGxMb2dTdGF0ZSIsInJlcVBhcmFtcyIsImNhbGxTdW1tYXJ5Iiwibm90ZSIsIm5vdGVDb250ZW50IiwicHV0Iiwib3BlblByb2dyZXNzQmFyIiwiaXNQb3N0Q2FsbERvbmUiLCJzdG9yZSIsImdlblN1bW1hcnlBY3Rpb25DYXJkcyIsImludGVudCIsImlzQWN0aW9uSW50ZW50IiwiaW4iLCJvbkRlbGV0ZSIsIm9uQWN0aW9uSXRlbUNvbmZpcm0iLCJpbnRlbnRUeXBlIiwiYWxsSW52b2ljZUxpc3QiLCJjb21wbGV0ZWQiLCJjb250YWN0TG9nIiwiZm9sbG93dXBUZXh0TGlzdCIsInJlYXNvbkNvZGVMaXN0Iiwib3BlblNuYWNrYmFyT25BY3Rpb24iLCJ1cGRhdGVJbnZvaWNlc0luUGFyZW50IiwidXBkYXRlU3VtbWFyeUluUGFyZW50IiwidXBkYXRlZFN1bW1hcnkiLCJuZXh0Q3VzdG9tZVRleHQiLCJNYXAiLCJjb21tb25TZXJ2aWNlIiwiZ2V0RGlzcHV0ZUNvZGVzIiwiZ2V0VGFza1R5cGVzIiwibmV4dFN1bW1hcnkiLCJuZXh0VHJhbnNjcmlwdGlvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJUeXBvZ3JhcGh5IiwiTGluayIsInRleHREZWNvcmF0aW9uIiwic3RseWUiLCJpbml0aWFsTm90ZXMiLCJvbk5vdGVzQ2hhbmdlIiwiaW52b2ljZUxpc3QiLCJnZW5lcmF0ZUZpbmFsSW52b2ljZUxpc3QiLCJzdW1tYXJ5Tm90ZXMiLCJvbkFjdGlvbkl0ZW1DbGljayIsIlJFVklFV19XQVJOSU5HIiwiYWN0aW9ucyIsIm9uRXhpdGVkIiwiNjA4NyIsIl9QMlAiLCJfUDJQMiIsIl9EaXNwdXRlIiwiX0Rpc3B1dGUyIiwiX0ZvbGxvd3VwIiwiX0ZvbGxvd3VwMiIsIl9BY3Rpb25EZXRhaWxzIiwiX0FjdGlvbkRldGFpbHMyIiwicGFuZWwiLCJleHBhbmRlZEJhY2tncm91bmQiLCJwYW5lbENvbW1vbiIsImV4cGFuc2lvblBhbmVsUm9vdCIsIkFjdGlvbnMiLCJpbml0aWFsSW52b2ljZURhdGEiLCJnZW5Jbml0aWFsSW52b2ljZURhdGEiLCJjb3JyZWN0SW52b2ljZXMiLCJpbmNvcnJlY3RGbGFnIiwiaW52b2ljZUNvdW50IiwiY29tbW9uUHJvcHMiLCJnZXRDb21tb25Qcm9wcyIsIklOVEVOVF9UWVBFUyIsIkZPTExPV19VUCIsIlAyUCIsIkRJU1BVVEUiLCJvblVwZGF0ZUludm9pY2UiLCJkb25lIiwiaW52b2ljZXNNYXAiLCJ1cGRhdGVDb3JyZWN0SW52b2ljZXMiLCJrIiwiY3VycmVudEludm9pY2UiLCJ0ZW1wSW52b2ljZSIsImZyZWV6ZSIsImNhbGxUb05hbWUiLCJvbkNvbXBsZXRpb24iLCJtYXJrVGhpc0NvbXBsZXRlIiwiNjA4OCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImtleXMiLCJOdW1iZXJGb3JtYXRDdXN0b20iLCJfcmVhY3ROdW1iZXJGb3JtYXQyIiwidmFsdWVzIiwiX2RhdGVGbnMiLCJfZGF0ZUZuczIiLCJfbWF0ZXJpYWxVaVBpY2tlcnMiLCJfYmx1ZSIsIl9ibHVlMiIsIl9UZXh0RmllbGQiLCJfVGV4dEZpZWxkMiIsIl9FcnJvciIsIl9FcnJvcjIiLCJfcmVhY3ROdW1iZXJGb3JtYXQiLCJfZGF0ZUZuczMiLCJQMlBSZWdleCIsIlAyUFRlbXBsYXRlIiwiUDJQX09SSUdfVEVNUExBVEUiLCImOmJlZm9yZSIsIiY6YWZ0ZXIiLCJ0ZXN0SW5pdGlhbCIsImFjdGlvblByb2dyZXNzQmFyIiwiY2FyZENvbnRlbnQiLCJlcnJvckZsYWciLCJkaXNhYmxlRG9uZUJ0biIsIm1hdGVyaWFsVGhlbWUiLCJjcmVhdGVNdWlUaGVtZSIsIm92ZXJyaWRlcyIsIk11aVBpY2tlcnNUb29sYmFyIiwiYmx1ZSIsIkEyMDAiLCJNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXIiLCJNdWlQaWNrZXJzRGF5IiwiQTcwMCIsIk11aUZvcm1IZWxwZXJUZXh0IiwiTXVpUGlja2Vyc01vZGFsIiwiZXh0cmFjdGVkRGF0YSIsImV4dHJhY3RlZEFtb3VudCIsImNyZWF0ZWQiLCJpc0VkaXRpbmciLCJwcmV2QW1vdW50Iiwib3BlbkFjdGlvblNhdmUiLCJvcGVuV2FybmluZ0RpYWxvZyIsImFjdGlvbklkIiwiaXNEb25lIiwiZmluYWxTZWxlY3RlZERhdGUiLCJhbW91bnRUZXh0RmllbGRXaWR0aCIsImFjdGlvblNhdmVQcm9ncmVzc0JhciIsImludmFsaWREYXRhTm90aWZpZXJNZXNzYWdlIiwib3BlbkludmFsaWREYXRhTm90aWZpZXIiLCJpc0Ftb3VudEludmFsaWQiLCJ1cGRhdGVTdW1tYXJ5IiwiZnVsbFNjcmVlbiIsImludm9pY2VTYW1wbGUiLCJEb25lIiwiaGFuZGxlSW52b2ljZUN1cnJlbmN5Q2hhbmdlIiwiaW5wdXRGaWVsZFRleHQiLCJGb3JtYXR0ZWRDdXJyZW5jeUlucHV0IiwiQm9yZGVyQ29sb3IiLCJ0b2dnbGVFZGl0aW5nIiwiSGlnaGxpZ2h0T2ZmIiwiZGlzbWlzc0Ftb3VudENoYW5nZXMiLCJDaGVja0NpcmNsZU91dGxpbmUiLCJzYXZlSW52b2ljZUFtb3VudENoYW5nZSIsIk11aVRoZW1lUHJvdmlkZXIiLCJub2RlIiwicGlja2VyIiwiaGFuZGxlRGF0ZUNoYW5nZSIsIkRhdGVSYW5nZSIsImNsb3NlQWN0aW9uU2F2ZURpYWxvZyIsImNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyIsImNsb3NlQW5kRGlzY2FyZERpYWxvZyIsImNsb3NlV2FybmluZ0RpYWxvZyIsImNsb3NlSW52YWxpZERhdGFOb3RpZmllciIsIm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nIiwiY2hlY2tJbnZhbGlkYXRpb24iLCJzYXZlUDJQIiwiYW1vdW50Rm9ybWF0dGVkIiwib3BlbkRhdGFJbnZhbGlkRGlhbG9nIiwidmFsaWRhdGVQMlBEYXRhIiwiTnVtYmVyIiwiaXNWYWxpZERhdGUiLCJwaG9uZU51bWJlciIsImNhbGxpbmdOdW1iZXIiLCJpbnZvaWNlT2JqIiwiY21zRG9jSGVhZGVySWQiLCJyZXFPYmoiLCJjb21taXR0ZWRBbW91bnQiLCJjb21taXR0ZWRCeSIsImNvbW1pdHRlZERhdGUiLCJjb21taXR0ZWRPbiIsImN1cnJlbmN5IiwicGNJdGVtcyIsImdldERhdGVGaWVsZFZhbHVlIiwic3VtbWFyeVRvU2F2ZSIsImdlbmVyYXRlQWN0aW9uU3VtbWFyeSIsImZvcm1hdHRlZERhdGUiLCJmb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQiLCJjdXJyZW50U3RhdGUiLCJhbW91bnRUZXh0RmllbGRMZW5ndGgiLCJjdXN0b21DdXJyZW5jeUZvcm1hdHRlciIsImZvcm1hdERhdGVXaXRoVGltZXpvbmUiLCJhcmdzIiwiNjA4OSIsIl9fZXh0ZW5kcyIsImIiLCJfXyIsImV4dGVuZFN0YXRpY3MiLCJfX3Jlc3QiLCJzIiwidCIsImdldE93blByb3BlcnR5U3ltYm9scyIsIl9fYXNzaWduIiwiNjA5MCIsInIiLCJsb2FkZWQiLCJtIiwiYyIsInUiLCJjb25mb3JtVG9NYXNrIiwibCIsImgiLCJ2IiwidGV4dE1hc2tJbnB1dEVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJ1cGRhdGUiLCJpbml0VGV4dE1hc2siLCJndWlkZSIsInBsYWNlaG9sZGVyQ2hhciIsInNob3dNYXNrIiwic2hhcGUiLCJzdHJGdW5jdGlvbiIsInByb2Nlc3NDYXJldFRyYXBzIiwibWFza1dpdGhvdXRDYXJldFRyYXBzIiwicHJldmlvdXNDb25mb3JtZWRWYWx1ZSIsInBsYWNlaG9sZGVyIiwiY29udmVydE1hc2tUb1BsYWNlaG9sZGVyIiwiQyIsIk8iLCJUIiwiUCIsInciLCJhYnMiLCJfIiwiTSIsInNsaWNlIiwiUyIsImNoYXIiLCJpc05ldyIsIkUiLCJzcGxpY2UiLCJWIiwiQSIsIk4iLCJCIiwiSSIsIkYiLCJxIiwiRCIsIkwiLCJXIiwiSiIsIlUiLCJIIiwiY29uZm9ybWVkVmFsdWUiLCJtZXRhIiwic29tZUNoYXJzUmVqZWN0ZWQiLCJTdHJpbmciLCJpbmRleGVzIiwiaXNTdHJpbmciLCJpc051bWJlciIsInByZXZpb3VzUGxhY2Vob2xkZXIiLCJyYXdWYWx1ZSIsImluZGV4ZXNPZlBpcGVkQ2hhcnMiLCJjYXJldFRyYXBJbmRleGVzIiwidG9Mb3dlckNhc2UiLCJSIiwiWSIsInoiLCJHIiwicmVqZWN0ZWQiLCJhY3RpdmVFbGVtZW50Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aGF0UmV0dXJucyIsInRoYXRSZXR1cm5zRmFsc2UiLCJ0aGF0UmV0dXJuc1RydWUiLCJ0aGF0UmV0dXJuc051bGwiLCJ0aGF0UmV0dXJuc1RoaXMiLCJ0aGF0UmV0dXJuc0FyZ3VtZW50IiwiZnJhbWVzVG9Qb3AiLCJzeW1ib2wiLCJhbnkiLCJlbGVtZW50IiwiaW5zdGFuY2VPZiIsIm9iamVjdE9mIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsIjYwOTEiLCJfQ1NTVHJhbnNpdGlvbiIsIl9SZXBsYWNlVHJhbnNpdGlvbiIsIl9UcmFuc2l0aW9uR3JvdXAiLCJfVHJhbnNpdGlvbiIsIlRyYW5zaXRpb24iLCJUcmFuc2l0aW9uR3JvdXAiLCJSZXBsYWNlVHJhbnNpdGlvbiIsIkNTU1RyYW5zaXRpb24iLCI2MDkyIiwiX2luaGVyaXRzTG9vc2UiLCJfYWRkQ2xhc3MiLCJuZXdPYmoiLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJmb3JFYWNoIiwicmVtb3ZlQ2xhc3MiLCJfbGVuIiwiX2tleSIsIm9uRW50ZXIiLCJhcHBlYXJpbmciLCJfdGhpcyRnZXRDbGFzc05hbWVzIiwiZ2V0Q2xhc3NOYW1lcyIsInJlbW92ZUNsYXNzZXMiLCJvbkVudGVyaW5nIiwiX3RoaXMkZ2V0Q2xhc3NOYW1lczIiLCJhY3RpdmVDbGFzc05hbWUiLCJyZWZsb3dBbmRBZGRDbGFzcyIsIm9uRW50ZXJlZCIsIl90aGlzJGdldENsYXNzTmFtZXMzIiwiZG9uZUNsYXNzTmFtZSIsIm9uRXhpdCIsIl90aGlzJGdldENsYXNzTmFtZXM0Iiwib25FeGl0aW5nIiwiX3RoaXMkZ2V0Q2xhc3NOYW1lczUiLCJfdGhpcyRnZXRDbGFzc05hbWVzNiIsIl9wcm90byIsIl90aGlzJGdldENsYXNzTmFtZXM3IiwiNjA5MyIsImNsYXNzTGlzdCIsImFkZCIsIl9oYXNDbGFzcyIsInNldEF0dHJpYnV0ZSIsImJhc2VWYWwiLCI2MDk0IiwiaGFzQ2xhc3MiLCJjb250YWlucyIsIjYwOTUiLCJyZXBsYWNlQ2xhc3NOYW1lIiwib3JpZ0NsYXNzIiwiY2xhc3NUb1JlbW92ZSIsInJlbW92ZSIsIjYwOTYiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsIl9yZWFjdERvbSIsIl9hcmdzIiwiaGFuZGxlRW50ZXIiLCJfbGVuMiIsIl9rZXkyIiwiaGFuZGxlTGlmZWN5Y2xlIiwiaGFuZGxlRW50ZXJpbmciLCJfbGVuMyIsIl9rZXkzIiwiaGFuZGxlRW50ZXJlZCIsIl9sZW40IiwiX2tleTQiLCJoYW5kbGVFeGl0IiwiX2xlbjUiLCJfa2V5NSIsImhhbmRsZUV4aXRpbmciLCJfbGVuNiIsIl9rZXk2IiwiaGFuZGxlRXhpdGVkIiwiX2xlbjciLCJfa2V5NyIsImhhbmRsZXIiLCJpZHgiLCJvcmlnaW5hbEFyZ3MiLCJfY2hpbGQkcHJvcHMiLCJjaGlsZCIsIkNoaWxkcmVuIiwidG9BcnJheSIsImZpbmRET01Ob2RlIiwiaW5Qcm9wIiwiX1JlYWN0JENoaWxkcmVuJHRvQXJyIiwiZmlyc3QiLCJzZWNvbmQiLCJjbG9uZUVsZW1lbnQiLCI2MDk3IiwiaGFzTmFnYXRpb24iLCJwYXJ0cyIsInNjYWxlIiwiZmlsbGVyIiwic2hvdWRIYXZlRGVjaW1hbFNlcGFyYXRvciIsInJvdW5kZWREZWNpbWFsUGFydHMiLCJ0b0ZpeGVkIiwiaW50UGFydCIsInJldmVyc2UiLCJyZWR1Y2UiLCJyb3VuZGVkU3RyIiwiZGVjaW1hbFBhcnQiLCJuZWdhdGlvbiIsImtleU1hcHMiLCJmaWx0ZXJlZE9iaiIsImNyZWF0ZVRleHRSYW5nZSIsInJhbmdlIiwibW92ZSIsInNlbGVjdCIsInByZXZWYWx1ZSIsInByZXZMZW5ndGgiLCJuZXdMZW5ndGgiLCI2MDk4IiwiX0RpYWxvZyIsIl9EaWFsb2dBY3Rpb25zIiwiX0RpYWxvZ1RpdGxlIiwiZGlzcHV0ZVJlZ2V4IiwiRElTUFVURV9URU1QTEFURSIsIkRJU1BVVEVfT1JJR19URU1QTEFURSIsInNlbGVjdE1lbnVDbGFzcyIsIkRpc3B1dGUiLCJyZWFzb25Db2RlIiwib3Blbk5vUmVhc29uRGlhbG9nIiwib3Blbk5vSW52b2ljZURpYWxvZyIsImNoYW5nZSIsInJlYXNvbkNvZGVzIiwib3B0aW9uSXRlbXMiLCJnZXRSZWFzb25Db2RlIiwiaGFuZGxlUmVhc29uQ29kZUNoYW5nZSIsInNlbGVjdGVkUmVhc29uIiwiY2xvc2VOb1JlYXNvbkRpYWxvZyIsImNsb3NlTm9JbnZvaWNlRGlhbG9nIiwic2F2ZURpc3B1dGUiLCJkaXNwdXRlSXRlbXMiLCI2MDk5IiwiZm9sbG93dXBSZWdleCIsIkZPTExPV1VQX1RFTVBMQVRFIiwiRk9MTE9XVVBfT1JJR19URU1QTEFURSIsIkZvbGxvd3VwIiwiZm9sbG93dXBUZXh0Iiwib3BlbkludmFsaWREYXRlRGlhbG9nIiwiZm9sbG93dXBUZXh0cyIsImdldEZvbGxvd3VwVGV4dCIsImhhbmRsZUZvbGxvd3VwVGV4dENoYW5nZSIsIm9wZW5Ob1RleHREaWFsb2ciLCJjbG9zZU5vVGV4dERpYWxvZyIsImNsb3NlSW52YWxpZERhdGVEaWFsb2ciLCJzYXZlRm9sbG93dXAiLCJ2YWxpZGF0ZUZvbGxvd3VwRGF0YSIsImZvbGxvd0RhdGUiLCJmb2xsb3dGb3JtYXREYXRlIiwiZHVlRGF0ZSIsInJlbWluZGVyRGF0ZSIsInN1YmplY3QiLCJjb250YWN0TnVtYmVyIiwiY29udGFjdE5hbWUiLCI2MTAwIiwiZ2V0TW9kYWxTdHlsZSIsIl9DaGVja0NpcmNsZSIsIl9SYWRpb0J1dHRvblVuY2hlY2tlZCIsIl9BZGQiLCJfUmVtb3ZlQ2lyY2xlT3V0bGluZSIsIl9DYXJkIiwiX0NhcmRDb250ZW50IiwiX0RpYWxvZzIiLCJfRGlhbG9nQWN0aW9uczIiLCJfRGlhbG9nVGl0bGUyIiwiX0R1ZURldGFpbCIsIl9EdWVEZXRhaWwyIiwiX0xpc3RPZlRpbGUiLCJpbnZvaWNlSGVhZGVyIiwiY29ycmVjdGlvbiIsImNvcnJlY3Rpb25BbGVydCIsImluY29ycmVjdERpdiIsImFkZEljb24iLCJwcmltYXJ5VGV4dCIsIkFjdGlvbkRldGFpbHMiLCJpbnZvaWNlQ2hlY2tzTWFwIiwiYWxsSW52b2ljZXNTZWxlY3RlZCIsImludm9pY2VzQ2hlY2tib3hNYXAiLCJpc01lc3NhZ2VEaWFsb2dPcGVuIiwib3BlbkFkZEludm9pY2VNb2RhbCIsImV4ZWN1dGVBcHBlbmRJbnZvaWNlIiwiYXJpYS1sYWJlbGxlZGJ5IiwiY2xvc2VBZGRJbnZvaWNlTW9kYWwiLCJhbGlnbkl0ZW0iLCJhcHBlbmRJbnZvaWNlcyIsImJvcmRlclRvcCIsImhhbmRsZUFsbFNlbGVjdGlvbiIsImRlbGV0ZUFsbFNlbGVjdGlvbiIsImNhbGN1bGF0ZUFtb3VudCIsInRvZ2dsZUNoZWNrYm94IiwiZGVsZXRlSW52b2ljZSIsImhhbmRsZU1lc3NhZ2VEaWFsb2ciLCJmaWx0ZXJlZEludm9pY2VzIiwidGVtcEFycmF5IiwidXBkYXRlZENoZWNrYm94TWFwIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIm5leHQiLCJpbnZvaWNlS2V5IiwiZXJyIiwicmV0dXJuIiwiaW52b2ljZU51bWJlciIsImNoZWNrYm94TWFwIiwidXBkYXRlSW52b2ljZXNUaGluZ3MiLCJpbnZvaWNlTWFwIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwidG9EZWxldGVJbnZvaWNlcyIsImludm9pY2VMZW5ndGgiLCJhbGxTZWxlY3RlZCIsInRlbXBNYXAiLCJ0ZW1wSW52b2ljZXMiLCJ0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwIiwiNjEwMSIsImluSW52b2ljZVRhYmxlIiwiTGlzdE9mVGlsZSIsImdldENsYXNzT2ZHcmlkTGlzdFRpbGUiLCJDbG9zZSIsIjYxMDIiLCJfSW5mbyIsIl9JbmZvMiIsIl9FbWFpbEJveCIsIl9FbWFpbEJveDIiLCJzdW1tYXJ5Tm90ZXNCb3giLCJzdW1tYXJ5Tm90ZWl0ZW1zIiwid29yZEJyZWFrIiwic3VtbWFyeU5vdGVzSGVhZGVyIiwibm90ZXNMaXN0IiwiZW1wdHlTdW1tYXJ5VGV4dCIsImVtcHR5U3VtbWFyeUdyaWQiLCJ3YXJuaW5nTGluZSIsImhpZGVPdmVyZmxvdyIsIkZpbmFsIiwic2V0RGVmYXVsdEVtYWlsSWRDaGlwcyIsImZ1bGxOYW1lIiwiaXNWYWxpZEVtYWlsIiwiZW1haWxJZENoaXBzIiwiaXRlbXMiLCJlbWFpbEF0dGFjaGVtZW50cyIsIjYxMDMiLCJfSW5wdXQiLCJfSW5wdXQyIiwiX2NvcnJlc3BvbmRlbmNlU2VydmljZSIsIl9DaGlwIiwiX0NoaXAyIiwiX2VtYWlsSGVscGVyIiwic3VtbWFyeUVtYWlsSGVhZGVyIiwic3VtbWFyeUVtYWlsIiwic3VtbWFyeUVtYWlsRm9ybSIsImVtYWlsSWRDaGlwc0lucHV0IiwiZW1haWxBZGRMYWJlbCIsIiY+IHNwYW4iLCImOmhvdmVyLCAmOmZvY3VzIiwiaW52YWxpZEVtYWlsSWRDaGlwcyIsInJlbW92ZUVtYWlsSWQiLCJlbWFpbElkSW5wdXQiLCJyZXNpemUiLCJlbWFpbFN1YmplY3QiLCImOjpwbGFjZWhvbGRlciIsImRpc2FibGVkU3ViamVjdElucHV0Iiwic3VtbWFyeUVtYWlsQm9keSIsImVtYWlsQm9keVRleHQiLCJpbnZvaWNlQXR0YWNoZW1lbnRzIiwic3VtbWFyeUVtYWlsRm9vdGVyIiwic2VuZFN1bW1hcnlFbWFpbEJ0biIsImFsaWduU2VsZiIsImRpc2FibGVJY29uIiwiRW1haWxCb3giLCJoYW5kbGVUZW1wbGF0ZUNoYW5nZSIsImVtYWlsVGVtcGxhdGVOYW1lIiwidGVtcGxhdGUiLCJlbWFpbFRlbXBsYXRlcyIsImVtYWlsVGVtcGxhdGVTdWJqZWN0IiwiZW1haWxUZW1wbGF0ZUJvZHkiLCJib2R5IiwidGVtcGxhdGVJZCIsImhhbmRsZUVtYWlsRW50ZXIiLCJ2YWxpZGF0ZUVtYWlsIiwiZW1haWxBcnIiLCJ0b0FkZHIiLCJoYW5kbGVFbWFpbElkRGVsZXRlIiwiZW1haWxBZGQiLCJjaGlwVG9EZWxldGUiLCJoYW5kbGVTdWJqZWN0Q2hhbmdlIiwiaGFuZGxlRW1haWxCb2R5Q2hhbmdlIiwibmV3TWF4SGVpZ2h0IiwiZW1haWxCb2R5SGVpZ2h0IiwicmVtb3ZlQXR0YWNoZW1lbnQiLCJjdXJyQXR0YWNoZW1lbnRzIiwidG9nZ2xlVG9FZGl0IiwidGVtcEVtYWlsSWRjaGlwcyIsImhhbmRsZUVkaXRFbWFpbCIsInRlbXBFbWFpbElkQ2hpcHMiLCJzZW5kU3VtbWFyeUVtYWlsIiwiZG9jdW1lbnRJRHMiLCJwb3MiLCJlbWFpbEJvZHkiLCJlbWFpbE9iaiIsImVtYWlsU2VudCIsImNvcnJlc3BvbmRlbmNlU2VydmljZSIsInNlbmRDYWxsU3VtbWFyeSIsInNldERlZmF1bHRCb2R5IiwiaW52b2ljZVN0cmluZyIsIlBGQU1lc3NhZ2UiLCJzdW1tYXJ5U3RyaW5nIiwibmV3TGluZUNvdW50IiwiZGVmYXVsdEVtYWlsU3ViamVjdCIsIkZyYWdtZW50IiwiZGVsZXRlSWNvbiIsImNsaWNrYWJsZSIsIlRleHRGaWVsZCIsIm11bHRpbGluZSIsInJvd3NNYXgiLCJCdXR0b24iLCI2MTA0IiwiZ2V0RW1haWxUZW1wbGF0ZXMiLCJCQVNFX1VSTCIsIl9uZXR3b3JrVXRpbHMiLCJoYW5kbGVBcGlSZXNwb25zZSIsIjYxMDUiLCI2MTA2IiwiX0xpc3QiLCJfTGlzdDIiLCJfTGlzdEl0ZW0iLCJfTGlzdEl0ZW0yIiwiX0xpc3RJdGVtVGV4dCIsIl9MaXN0SXRlbVRleHQyIiwiZGlhbG9nUGFwZXIiLCJjcmVhdGVOZXdBY3Rpb25EaWFsb2dIZWFkZXIiLCJjcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zIiwiQWN0aW9uQ3JlYXRvckRpYWxvZyIsInBhcGVyU2Nyb2xsUGFwZXIiLCJBQ1RJT05fVFlQRVMiLCJhY3Rpb25UeXBlS2V5IiwiNjEwNyIsIl9yZWFjdEhpZ2hsaWdodFdvcmRzIiwiX3JlYWN0SGlnaGxpZ2h0V29yZHMyIiwiX3JlYWN0R2lmUGxheWVyIiwiX1JpcHBsZSIsIl9SaXBwbGUyIiwiY2hhdEJ1YmJsZSIsInJpZ2h0QnViYmxlIiwiaGlnaGxpZ2h0TWVzc2FnZSIsImNpcmNsZWRUZXh0IiwiZ2lmQW5pbWF0b3IiLCJkZXRlY3RvciIsImhpZ2hsaWdodGVyRm9yTGVmdCIsImhpZ2hsaWdodGVyRm9yUmlnaHQiLCJDaGF0Qm94IiwiUmlwcGxlR2lmIiwiYWx0IiwidW5oaWdobGlnaHRDbGFzc05hbWUiLCJoaWdobGlnaHRDbGFzc05hbWUiLCJzZWFyY2hXb3JkcyIsIkhJR0hMSUdIVEVSX1JFR0VYIiwidGV4dFRvSGlnaGxpZ2h0IiwiNjEwOCIsIm1vZHVsZXMiLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJfSGlnaGxpZ2h0ZXIiLCJfSGlnaGxpZ2h0ZXIyIiwiSGlnaGxpZ2h0ZXIiLCJfcmVmJGFjdGl2ZUNsYXNzTmFtZSIsIl9yZWYkYWN0aXZlSW5kZXgiLCJhY3RpdmVJbmRleCIsImFjdGl2ZVN0eWxlIiwiYXV0b0VzY2FwZSIsIl9yZWYkY2FzZVNlbnNpdGl2ZSIsImNhc2VTZW5zaXRpdmUiLCJmaW5kQ2h1bmtzIiwiX3JlZiRoaWdobGlnaHRDbGFzc05hbWUiLCJfcmVmJGhpZ2hsaWdodFN0eWxlIiwiaGlnaGxpZ2h0U3R5bGUiLCJfcmVmJGhpZ2hsaWdodFRhZyIsImhpZ2hsaWdodFRhZyIsInNhbml0aXplIiwiX3JlZiR1bmhpZ2hsaWdodENsYXNzTmFtZSIsInVuaGlnaGxpZ2h0U3R5bGUiLCJjaHVua3MiLCJfaGlnaGxpZ2h0V29yZHNDb3JlIiwiZmluZEFsbCIsIkhpZ2hsaWdodFRhZyIsImhpZ2hsaWdodENvdW50IiwiaGlnaGxpZ2h0Q2xhc3NOYW1lcyIsImhpZ2hsaWdodFN0eWxlcyIsImxvd2VyY2FzZVByb3BzIiwibWFwcGVkIiwibWVtb2l6ZWRMb3dlcmNhc2VQcm9wcyIsIl9tZW1vaXplT25lMiIsImNodW5rIiwiaGlnaGxpZ2h0IiwiaGlnaGxpZ2h0Q2xhc3MiLCJpc0FjdGl2ZSIsIl9tZW1vaXplT25lIiwiY29tYmluZUNodW5rcyIsImZpbGxJbkNodW5rcyIsImlkZW50aXR5IiwiZXNjYXBlUmVnRXhwRm4iLCJfcmVmJGZpbmRDaHVua3MiLCJkZWZhdWx0RmluZENodW5rcyIsImNodW5rc1RvSGlnaGxpZ2h0IiwidG90YWxMZW5ndGgiLCJfcmVmMiIsInNvcnQiLCJwcm9jZXNzZWRDaHVua3MiLCJuZXh0Q2h1bmsiLCJwcmV2Q2h1bmsiLCJwb3AiLCJlbmRJbmRleCIsIl9yZWYzIiwiX3JlZjMkc2FuaXRpemUiLCJzZWFyY2hXb3JkIiwicmVnZXgiLCJleGVjIiwibGFzdEluZGV4IiwiX3JlZjQiLCJhbGxDaHVua3MiLCJhcHBlbmQiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJSRUFDVF9FTEVNRU5UX1RZUEUiLCJmb3IiLCJpc1ZhbGlkRWxlbWVudCIsIiQkdHlwZW9mIiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY2FjaGVkU2V0VGltZW91dCIsInJ1bkNsZWFyVGltZW91dCIsIm1hcmtlciIsImNhY2hlZENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsImxlbiIsInJ1biIsIkl0ZW0iLCJuZXh0VGljayIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJpbnZhcmlhbnQiLCJ3YXJuaW5nIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJ0aHJvd09uRGlyZWN0QWNjZXNzIiwiZ2V0SXRlcmF0b3JGbiIsIm1heWJlSXRlcmFibGUiLCJpdGVyYXRvckZuIiwiSVRFUkFUT1JfU1lNQk9MIiwiRkFVWF9JVEVSQVRPUl9TWU1CT0wiLCJpcyIsIlByb3BUeXBlRXJyb3IiLCJzdGFjayIsImNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyIiwidmFsaWRhdGUiLCJjaGVja1R5cGUiLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJwcm9wRnVsbE5hbWUiLCJzZWNyZXQiLCJBTk9OWU1PVVMiLCJjYWNoZUtleSIsIm1hbnVhbFByb3BUeXBlQ2FsbENhY2hlIiwibWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQiLCJjaGFpbmVkQ2hlY2tUeXBlIiwiY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIiLCJleHBlY3RlZFR5cGUiLCJwcm9wVmFsdWUiLCJnZXRQcm9wVHlwZSIsImdldFByZWNpc2VUeXBlIiwiY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyIiwidHlwZUNoZWNrZXIiLCJjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyIiwiZXhwZWN0ZWRDbGFzcyIsImV4cGVjdGVkQ2xhc3NOYW1lIiwiZ2V0Q2xhc3NOYW1lIiwiY3JlYXRlRW51bVR5cGVDaGVja2VyIiwiZXhwZWN0ZWRWYWx1ZXMiLCJjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyIiwicHJvcFR5cGUiLCJjcmVhdGVVbmlvblR5cGVDaGVja2VyIiwiYXJyYXlPZlR5cGVDaGVja2VycyIsImNoZWNrZXIiLCJnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmciLCJjcmVhdGVTaGFwZVR5cGVDaGVja2VyIiwic2hhcGVUeXBlcyIsImNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIiLCJhbGxLZXlzIiwiaXNOb2RlIiwiZXZlcnkiLCJlbnRyaWVzIiwiZW50cnkiLCJpc1N5bWJvbCIsIlJlYWN0UHJvcFR5cGVzIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJhcmciLCJjb25kaXRpb24iLCJ2YWxpZGF0ZUZvcm1hdCIsImFyZ0luZGV4IiwicHJpbnRXYXJuaW5nIiwidG9PYmplY3QiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0ZXN0MSIsImdldE93blByb3BlcnR5TmFtZXMiLCJ0ZXN0MiIsImZyb21DaGFyQ29kZSIsInRlc3QzIiwibGV0dGVyIiwic3ltYm9scyIsInR5cGVTcGVjcyIsImdldFN0YWNrIiwidHlwZVNwZWNOYW1lIiwiZXgiLCJsb2dnZWRUeXBlRmFpbHVyZXMiLCJzaGltIiwiZ2V0U2hpbSIsInJlc3VsdEZuIiwic2ltcGxlSXNFcXVhbCIsImxhc3RUaGlzIiwibGFzdEFyZ3MiLCJsYXN0UmVzdWx0IiwiY2FsbGVkT25jZSIsImlzTmV3QXJnRXF1YWxUb0xhc3QiLCJuZXdBcmciLCJuZXdBcmdzIiwiNjEwOSIsImdsb2JhbCIsImluc3BlY3QiLCJvcHRzIiwiY3R4Iiwic2VlbiIsInN0eWxpemUiLCJzdHlsaXplTm9Db2xvciIsImRlcHRoIiwiY29sb3JzIiwiaXNCb29sZWFuIiwic2hvd0hpZGRlbiIsIl9leHRlbmQiLCJpc1VuZGVmaW5lZCIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJhcnJheVRvSGFzaCIsImhhc2giLCJyZWN1cnNlVGltZXMiLCJpc0Z1bmN0aW9uIiwicmV0IiwicHJpbWl0aXZlIiwiZm9ybWF0UHJpbWl0aXZlIiwidmlzaWJsZUtleXMiLCJpc0Vycm9yIiwiZm9ybWF0RXJyb3IiLCJpc1JlZ0V4cCIsImlzRGF0ZSIsImJhc2UiLCJicmFjZXMiLCJ0b1VUQ1N0cmluZyIsIm91dHB1dCIsImZvcm1hdFByb3BlcnR5IiwicmVkdWNlVG9TaW5nbGVTdHJpbmciLCJzaW1wbGUiLCJsaW5lIiwibnVtTGluZXNFc3QiLCJwcmV2IiwiY3VyIiwiYXIiLCJpc051bGxPclVuZGVmaW5lZCIsInJlIiwiaXNPYmplY3QiLCJvYmplY3RUb1N0cmluZyIsImlzUHJpbWl0aXZlIiwicGFkIiwidGltZXN0YW1wIiwiZ2V0RGF0ZSIsIm1vbnRocyIsInByb3AiLCJmb3JtYXRSZWdFeHAiLCJvYmplY3RzIiwiZGVwcmVjYXRlIiwiZm4iLCJtc2ciLCJkZXByZWNhdGVkIiwid2FybmVkIiwidGhyb3dEZXByZWNhdGlvbiIsInRyYWNlRGVwcmVjYXRpb24iLCJ0cmFjZSIsIm5vRGVwcmVjYXRpb24iLCJkZWJ1Z0Vudmlyb24iLCJkZWJ1Z3MiLCJkZWJ1Z2xvZyIsIk5PREVfREVCVUciLCJwaWQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaW52ZXJzZSIsImdyZXkiLCJibGFjayIsImN5YW4iLCJncmVlbiIsIm1hZ2VudGEiLCJyZWQiLCJ5ZWxsb3ciLCJzcGVjaWFsIiwiYm9vbGVhbiIsIm51bGwiLCJyZWdleHAiLCJpc0J1ZmZlciIsImluaGVyaXRzIiwib3JpZ2luIiwiNjExMCIsImNvcHkiLCJmaWxsIiwicmVhZFVJbnQ4IiwiNjExMSIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJUZW1wQ3RvciIsIjYxMTIiLCI2MTEzIiwibm9uQWN0aW9uTm90ZXNFZGl0aW5nIiwibm9uQWN0aW9uTm90ZXNUaXRsZSIsIm5vdGVzRWRpdG9yIiwibm9uQWN0aW9uTm90ZXNOb3RFZGl0aW5nIiwiTm90ZXNFZGl0b3IiLCJoYW5kbGVOb3Rlc1RleHRGaWVsZENoYW5nZSIsIm5leHRTdGF0ZSIsImZsb2F0IiwiNjExNCIsIm5vdGVzU3RyaW5nIiwiaW5pdGlhbE5vdGVzU3RyaW5nIiwiNjExNSIsIjYxMTYiLCJUYWJDb250YWluZXIiLCJQYXBlciIsIl9UYWJzIiwiX1RhYnMyIiwiX1RhYiIsIl9UYWIyIiwicHJvZ3Jlc3MiLCJzY3JvbGxCdXR0b25zIiwiZmxleCIsImluZGljYXRvciIsInRhYlNlbGVjdGVkIiwidGFiUm9vdCIsInRhYldyYXBwZXIiLCJ0YWJzRmxleENvbnRhaW5lciIsInRhYnNSb290IiwidGFic1Njcm9sbGVyIiwiaW52b2ljZUNvdW50VGV4dCIsIkluQ2FsbERldGFpbHMiLCJ1bnNoaWZ0IiwiaW52b2ljZVRvdGFsQW1vdW50IiwidG90YWxJbnZvaWNlQ291bnQiLCJ3aG9sZUFtb3VudCIsInNjcm9sbGFibGUiLCJmbGV4Q29udGFpbmVyIiwic2Nyb2xsZXIiLCJUYWJJbmRpY2F0b3JQcm9wcyIsIndyYXBwZXIiLCJ0ZXh0Q29sb3IiLCI2MTE3IiwiX1BvcG92ZXIiLCJfUG9wb3ZlcjIiLCJfdm9pY2VtYWlsQm94IiwiQXBwIiwicG9wT3ZlciIsImhlYWQiLCJ2b2ljZW1haWxTZW50SWNvbiIsInZvaWNlbWFpbFByb2dyZXNzUGFyZW50Iiwidm9pY2VtYWlsQm94IiwiZGlzYWJsZWRWb2ljZW1haWxCb3giLCJ2b2ljZW1haWxUZXh0Iiwidm9pY2VtYWlsUHJvZ3Jlc3MiLCJjbG9zZUljb24iLCJ2b2ljZW1haWxCdG4iLCJ2b2ljZW1haWxTZW50QnRuIiwiZGlzYWJsZUJ0biIsIktleVBhZCIsImluaXRpYWxpemVWb2ljZW1haWxEYXRhIiwidm9pY2VtYWlsVGVtcGxhdGVzIiwidm9pY2VtYWlsQ2xpY2tNYXAiLCJ2b2ljZW1haWxTZW50TWFwIiwiaGFuZGxlT3BlbiIsImhhbmRsZUNsb3NlIiwiZGlzYWJsZVZvaWNlbWFpbENsaWNrIiwiaXNWb2ljZW1haWxFbmFibGVkIiwiaGFuZGxlVm9pY2VtYWlsQ2xpY2siLCJ2b2ljZW1haWxUZW1wbGF0ZSIsInRlbXBsYXRlTmFtZSIsInNpcFNlbmREVE1GIiwiVk9JQ0VNQUlMX0FVVE9fQ0xPU0VfVElNRU1PVVQiLCJpc1ZvaWNlbWFpbEF2YWlsYWJsZSIsImRpc3BsYXlOdW1iZXIiLCJkaWFsbGVkIiwiaXNWb2ljZW1haWxDbGlja2VkIiwiVm9pY2VtYWlsIiwiYW5jaG9yUmVmZXJlbmNlIiwiYW5jaG9yUG9zaXRpb24iLCJQYXBlclByb3BzIiwiTW9yZVZlcnQiLCJJY29uQnV0dG9uIiwiVm9pY2VtYWlsV3JhcHBlciIsImNoYW5nZUNhbGxlciIsIjYxMTgiLCI2MTE5Il0sIm1hcHBpbmdzIjoiQUFBQUEsY0FBYyxJQUVSQyxLQUNBLFNBQVVDLEVBQVFDLEVBQVNDLEdBRWpDLFlBK0hBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNHLEdBQWdCSCxFQUFLSSxFQUFLQyxHQUFpSyxNQUFwSkQsS0FBT0osR0FBT00sT0FBT0MsZUFBZVAsRUFBS0ksR0FBT0MsTUFBT0EsRUFBT0csWUFBWSxFQUFNQyxjQUFjLEVBQU1DLFVBQVUsSUFBa0JWLEVBQUlJLEdBQU9DLEVBQWdCTCxFQUUzTSxRQUFTVyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTUMsR0FBUSxJQUFLRCxFQUFRLEtBQU0sSUFBSUUsZ0JBQWUsNERBQWdFLFFBQU9ELEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJELEVBQVBDLEVBRWxPLFFBQVNFLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVloQixPQUFPaUIsT0FBT0YsR0FBY0EsRUFBV0MsV0FBYUUsYUFBZW5CLE1BQU9lLEVBQVVaLFlBQVksRUFBT0UsVUFBVSxFQUFNRCxjQUFjLEtBQWVZLElBQVlmLE9BQU9tQixlQUFpQm5CLE9BQU9tQixlQUFlTCxFQUFVQyxHQUFjRCxFQUFTTSxVQUFZTCxHQXBJamVmLE9BQU9DLGVBQWVWLEVBQVMsY0FDN0JRLE9BQU8sR0FHVCxJQUFJc0IsR0FBZSxXQUFjLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV3pCLFdBQWF5QixFQUFXekIsYUFBYyxFQUFPeUIsRUFBV3hCLGNBQWUsRUFBVSxTQUFXd0IsS0FBWUEsRUFBV3ZCLFVBQVcsR0FBTUosT0FBT0MsZUFBZXNCLEVBQVFJLEVBQVc3QixJQUFLNkIsSUFBaUIsTUFBTyxVQUFVcEIsRUFBYXFCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZTixFQUFpQmYsRUFBWVMsVUFBV1ksR0FBaUJDLEdBQWFQLEVBQWlCZixFQUFhc0IsR0FBcUJ0QixNQ1poaUJ1QixFQUFBdEMsRUFBQSxHRGdCSXVDLEVBQVV0QyxFQUF1QnFDLEdDZnJDRSxFQUFBeEMsRUFBQSxJQUNBeUMsRUFBQXpDLEVBQUEsSURvQkkwQyxFQUFTekMsRUFBdUJ3QyxHQ25CcENFLEVBQUEzQyxFQUFBLElEdUJJNEMsRUFBZTNDLEVBQXVCMEMsR0N0QjFDRSxFQUFBN0MsRUFBQSxHRDBCSThDLEVBQWU3QyxFQUF1QjRDLEdDekIxQ0UsRUFBQS9DLEVBQUEsS0Q2QklnRCxFQUFnQi9DLEVBQXVCOEMsR0M1QjNDRSxFQUFBakQsRUFBQSxJQUNBa0QsRUFBQWxELEVBQUEsSUFDQW1ELEVBQUFuRCxFQUFBLEtBQ0FvRCxFQUFBcEQsRUFBQSxJQUNBcUQsRUFBQXJELEVBQUEsSURvQ0lzRCxFQUFVckQsRUFBdUJvRCxHQ25DckNFLEVBQUF2RCxFQUFBLElBQ0F3RCxFQUFBeEQsRUFBQSxLRHdDSXlELEVBQW9CeEQsRUFBdUJ1RCxHQ3ZDL0NFLEVBQUExRCxFQUFBLE1EMkNJMkQsRUFBYTFELEVBQXVCeUQsR0MxQ3hDRSxFQUFBNUQsRUFBQSxNRDhDSTZELEVBQWtCNUQsRUFBdUIyRCxHQzdDN0NFLEVBQUE5RCxFQUFBLEtEaURJK0QsRUFBa0I5RCxFQUF1QjZELEdDaEQ3Q0UsRUFBQWhFLEVBQUEsSURvRElpRSxFQUFVaEUsRUFBdUIrRCxHQ25EckNFLEVBQUFsRSxFQUFBLElEdURJbUUsRUFBWWxFLEVBQXVCaUUsR0N0RHZDRSxFQUFBcEUsRUFBQSxLRDBESXFFLEVBQVFwRSxFQUF1Qm1FLEdDekRuQ0UsRUFBQXRFLEVBQUEsS0Q2REl1RSxFQUFpQnRFLEVBQXVCcUUsR0M1RDVDRSxFQUFBeEUsRUFBQSxLRGdFSXlFLEVBQW1CeEUsRUFBdUJ1RSxHQy9EOUNFLEVBQUExRSxFQUFBLEtEbUVJMkUsRUFBVzFFLEVBQXVCeUUsR0NsRXRDRSxFQUFBNUUsRUFBQSxLRHNFSTZFLEVBQWtCNUUsRUFBdUIyRSxHQ3JFN0NFLEVBQUE5RSxFQUFBLEtBQ0ErRSxFQUFBL0UsRUFBQSxLRDBFSWdGLEVBQWtCL0UsRUFBdUI4RSxHQ3pFN0NFLEVBQUFqRixFQUFBLEtENkVJa0YsRUFBcUJqRixFQUF1QmdGLEdDNUVoREUsR0FBQW5GLEVBQUEsTURnRklvRixHQUFxQm5GLEVBQXVCa0YsSUMvRWhERSxHQUFBckYsRUFBQSxNQUNBc0YsSURrRnVCckYsRUFBdUJvRixJQ2xGOUNyRixFQUFBLEtBQ0F1RixHQUFBdkYsRUFBQSxLRHVGSXdGLEdBQWlCdkYsRUFBdUJzRixJQ3RGNUNFLEdBQUF6RixFQUFBLElBQ0EwRixHQUFBMUYsRUFBQSxNRDJGSTJGLEdBQWtCMUYsRUFBdUJ5RixJQzFGN0NFLEdBQUE1RixFQUFBLElEOEZJNkYsR0FBa0I1RixFQUF1QjJGLElDN0Y3Q0UsR0FBQTlGLEVBQUEsSURpR0krRixHQUFjOUYsRUFBdUI2RixJQzVGckNFLElBRmdCQyxFQUFRLFNBRXhCRCxJQU9FRSxHQUFTLFNBQUFDLEdBQUEsT0FDYkMsVUFDRUMsUUFBUyxPQUNUQyxjQUFlLE1BQ2ZDLFVBQVcsU0FFYkMsTUFDRUMsZ0JBQWlCTixFQUFNTyxRQUFRQyxXQUFXQyxLQUMxQ0MsTUFBTyxVQUNQQyxZQUFhLE9BQ2JDLFdBQVksT0FDWkMsV0FBWSxTQUNaQyxjQUFlLElBQ2ZDLGVBQWdCLFNBQ2hCQyxXQUFZaEIsRUFBTWlCLEtBQUtDLE1BQU1GLFlBRy9CRyxlQUNFQyxPQUFRLHdCQUNSVixNQUFPLHdCQUNQVyxPQUFRLFdBRVZDLFVBQ0VWLFdBQVksUUFDWlcsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3Qk8sV0FBWWhCLEVBQU1pQixLQUFLQyxNQUFNRixXQUM3QlMsU0FBVSxRQUVaQyxhQUNFTixPQUFRLHNCQUNSTyxhQUFjLFFBRWhCQyxlQUNFUCxPQUFRLFVBQ1JiLFdBQVksVUFDWnFCLGFBQWMsTUFDZEMsVUFBVyxTQUNYQyxRQUFTLE9BRVhDLFFBQ0VQLFNBQVUsUUFDVkYsTUFBTyxRQUNQVSxPQUFRLEtBRVZDLFVBQ0V2QixZQUFhLFFBQ2JZLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsTUFFL0IwQixjQUNFbkIsV0FBWWhCLEVBQU1pQixLQUFLQyxNQUFNRixXQUM3QlMsU0FBVSxVQUNWRixNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixLQUMvQjRCLFdBQVksV0FFZEMsZ0JBQ0V0QixXQUFZaEIsRUFBTWlCLEtBQUtDLE1BQU1GLFdBQzdCUyxTQUFVLFFBQ1ZGLE1BQU92QixFQUFNTyxRQUFRNkIsVUFBVTNCLE1BRWpDOEIsZUFDRW5CLE9BQVEsVUFFUlMsYUFBYyxNQUNkVyxnQkFBaUJ4QyxFQUFNTyxRQUFRa0MsZUFBZWhDLEtBQzlDaUMsU0FBVSxZQUVaQyxpQkFDRWxCLFNBQVUsU0FDVkYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUU3Qm1DLFlBQWEsT0FDYkMsUUFBUyxJQUNUQyxXQUFZLFFBQ1pKLFNBQVUsV0FDVjFCLFdBQVksVUFFZCtCLFNBQ0VDLE1BQTRCLElBQXJCaEQsRUFBTWlELFFBQVFDLE1BRXZCQyxTQUNFdkMsV0FBWSxXQUVkd0MsY0FDRWhDLE9BQVEsd0JBQ1JWLE1BQU8saUJBRVQyQyxpQkFDRWpDLE9BQVEsY0FDUlYsTUFBTyxpQkFFVDRDLGNBQ0UvQixNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixNQUVqQzhDLFVBQ0VoQyxNQUFPdkIsRUFBTU8sUUFBUWtDLGVBQWVoQyxNQUd0QytDLGVBQ0VuQyxPQUFRLFVBQ1JELE9BQVEsd0JBQ1JWLE1BQU8seUJBRVQrQyxZQUNFckMsT0FBUSx3QkFDUlYsTUFBTyx3QkFDUGEsTUFBTyxTQUdUbUMsbUJBQ0VqQyxTQUFVLFNBQ1ZGLE1BQU8sUUFDUGMsV0FBWSxVQUVkc0Isb0JBQ0VqRCxNQUFPLE9BRVRrRCxxQkFDRTlDLGNBQWUsaUJBQ2ZlLGFBQWMsT0FFaEJnQyxZQUNFbkIsU0FBVSxRQUNWb0IsSUFBSyxLQUNMQyxLQUFNLE1BQ054QyxNQUFPLE9BQ1BFLFNBQVUsR0FDVkosT0FBUSxXQUVWMkMsc0JBQ0V0QixTQUFVLFdBQ1ZoQyxNQUFPLE1BQ1BVLE9BQVEsT0FDUjZDLE9BQVEsSUFDUkMsYUFBYyxhQUNkQyxVQUFXLE9BQ1hDLFVBQVdwRSxFQUFNcUUsUUFBUSxHQUN6QnpCLFlBQWEsS0FDYkosZ0JBQWlCeEMsRUFBTU8sUUFBUStELGdCQUFnQjdELEtBQy9DYyxNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCc0QsS0FBTSxRQUdSUSxZQUNFOUMsU0FBVSxPQUNWRixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLE1BRS9CK0QsY0FFRXBELE9BQVEsVUFDUlMsYUFBYyxNQUNkbkIsTUFBTyxhQU1MK0QsR0FFTixXQUdFLElBQUssR0FGREMsTUFDQUMsR0FBU0MsUUFBVyxRQUFTQyxPQUFVLFVBQVdDLE9BQVUsSUFBS0MsU0FBWSxhQUFjQyxTQUFZLFVBQ2xHbEosRUFBSSxFQUFHQSxFQUFJLElBQU1BLElBQ3hCNEksRUFBS08sS0FBS04sRUFHWixPQUFPRCxNQUdIUSxHRHVHTyxTQUFVQyxHQ3RHckIsUUFBQUQsR0FBWXJKLEdBQU9uQixFQUFBMEssS0FBQUYsRUFBQSxJQUFBRyxHQUFBdkssRUFBQXNLLE1BQUFGLEVBQUF6SixXQUFBcEIsT0FBQWlMLGVBQUFKLElBQUFsSyxLQUFBb0ssS0FDWHZKLEdBRFd3SixHQXlGbkJFLG9CQUFzQixXQUNVLEdBQTFCRixFQUFLRyxNQUFNQyxZQUNiSixFQUFLSyxVQUFXRCxhQUFhLElBRTdCSixFQUFLSyxVQUFXRCxhQUFhLEtBN0ZkSixFQStGbkJNLHFCQUF1QixTQUFBdkwsR0FDckJpTCxFQUFLSyxVQUFXRCxZQUFhckwsS0FoR1ppTCxFQWtHbkJPLHFCQUF1QixXQUNyQixHQUFJMUQsR0FBV21ELEVBQUtHLE1BQU1LLGVBQ3RCQyxFQUFLQyxLQUFLQyxNQUFNOUQsRUFBVyxNQUMzQitELEVBQU1GLEtBQUtDLE9BQU85RCxFQUFpQixLQUFMNEQsR0FBYyxJQUM1Q0ksRUFBTUgsS0FBS0MsTUFBTTlELEVBQWlCLEtBQUw0RCxFQUFvQixHQUFORyxFQVUvQyxPQVJJQSxHQUFNLEtBQ1JBLEVBQU0sSUFBTUEsR0FHVkMsRUFBTSxLQUNSQSxFQUFNLElBQU1BLEdBR1BELEVBQU0sSUFBTUMsR0FoSEZiLEVBbUhuQmMsY0FBZ0IsV0FDZGQsRUFBS0ssVUFBV1UsaUJBQWtCZixFQUFLRyxNQUFNWSxtQkFwSDVCZixFQXVIbkJnQixpQkFBbUIsV0FDakJoQixFQUFLSyxVQUFXWSxhQUFhLEtBeEhaakIsRUEySG5Ca0IsZ0JBQWtCLFNBQUFDLEdBQ2hCbkIsRUFBS0ssVUFBV1ksYUFBYSxFQUFNRSxRQUFTQSxLQTVIM0JuQixFQStIbkJvQixZQUFjLFNBQUFELEdBQVcsR0FFbkJFLElBRGdCckIsRUFBS3hKLE1BQWpCOEssUUFDSyxJQUFJQyxFQUFhLEdBQUlDLEVBQWEsRUFPL0MsSUFOZ0Isb0JBQVpMLElBQ0ZFLEVBQVNyQixFQUFLRyxNQUFNUixTQUFTOEIsU0FFN0JGLEVBQWEsa0JBQ2JDLEVBQWEsK0JBRUMsaUJBQVpMLEVBQTRCLENBQzlCRSxFQUFTckIsRUFBS0csTUFBTXVCLGNBRXBCSCxFQUFhLHdCQUNiQyxFQUFhLDBCQUNiLEtBQUssR0FBSS9LLEtBQUs0SyxHQUFRLENBQ3BCLEdBQUlNLEdBQU9OLEVBQU81SyxHQUFHa0wsS0FBS0MsYUFDMUIsSUFBWSxRQUFSRCxFQUFnQixDQUNsQixHQUFJaEYsR0FBUzBFLEVBQU81SyxHQUFHZCxLQUFLZ0gsTUFFMUIwRSxHQUFPNUssR0FBR29MLFNBREUsUUFBVmxGLEVBQ21CLFlBRUEsV0FJUixrQkFBUmdGLElBQ1BOLEVBQU81SyxHQUFHb0wsU0FBVyxPQUNyQlIsRUFBTzVLLEdBQUdxRyxhQUFla0QsRUFBS0csTUFBTVIsU0FBUzdDLGVBSW5ELE1BQ0UvRixHQUFBbkMsUUFBQWtOLGNBQUEsWUFDZ0IsZ0JBQVhYLEdBQXlDLG1CQUFYQSxJQUMvQnBLLEVBQUFuQyxRQUFBa04sY0FBQ3BJLEVBQUE5RSxTQUNDdU0sUUFBU0EsRUFDVEUsT0FBUUEsRUFDUkUsV0FBWUEsRUFDWkMsV0FBWUEsTUFyS0h4QixFQTRLbkIrQixXQUFhLFdBQ1gvQixFQUFLSyxVQUFXMkIsU0FBVWhDLEVBQUtHLE1BQU02QixXQUNyQyxFQUFBdkssRUFBQXdLLGtCQTlLaUJqQyxFQWlMbkJrQyxZQUFjLFdBQ29CLElBQTVCbEMsRUFBS0csTUFBTUssZUFDYmhHLEdBQWUySCxZQUFZLFdBQ1csaUJBQWhDbkMsRUFBS3hKLE1BQU00TCxVQUFVekYsUUFDdkJxRCxFQUFLSyxVQUFXZ0MscUJBQXNCckMsRUFBS08sMEJBRTVDLE9BdkxZUCxFQThMbkJzQyxzQkFBd0IsV0FDdEJDLGNBQWMvSCxLQS9MR3dGLEVBb01uQndDLE9BQVMsWUFDUCxFQUFBL0ssRUFBQWdMLGNBck1pQnpDLEVBK01uQmMsY0FBZ0IsV0FDZGQsRUFBS0ssVUFBV1UsaUJBQWtCZixFQUFLRyxNQUFNWSxtQkFoTjVCZixFQW1ObkIwQyxxQkFBdUIsV0FDckIxQyxFQUFLSyxVQUFXc0MsY0FBYyxLQXBOYjNDLEVBdU5uQjRDLHVCQUF5QixXQUN2QjVDLEVBQUtLLFVBQVdzQyxjQUFjLEtBeE5iM0MsRUE0Tm5CNkMsdUJBQXlCLFdBSXZCLEdBQUlDLFVBQ0FDLEVBQWEvQyxFQUFLZ0Qsa0JBQW9CLElBQU1oRCxFQUFLaUQsZ0JBR25ESCxHQURpQixhQUFmQyxHQUE0QyxvQkFBZkEsRUFDckIvQyxFQUFLeEosTUFBTTBNLFNBQVMvQyxNQUFNZ0QsZUFFMUJKLENBR1osSUFBSUssNEJBQWtDTixHQUFvQixJQUF0RCxJQUVKOUMsR0FBS0ssVUFBV2dELHVCQUF3QkQsS0F4T3hDcEQsRUFBS3NELE1BQVFDLFVBQU1DLFlBQ25CeEQsRUFBS3hKLE1BQU1pTixpQkFBa0JDLFNBQVMsRUFBTS9HLE9BQVEsSUFDcEQsSUFBSWdILFVBQWNDLFFBQzRCLE9BQTFDNUQsRUFBS3hKLE1BQU0wTSxTQUFTL0MsTUFBTXdELGNBQzVCRSxRQUFRQyxJQUFJLGFBQ1pELFFBQVFDLElBQUk5RCxFQUFLeEosT0FDakJtTixFQUFlM0QsRUFBS3hKLE1BQU0wTSxTQUFTL0MsTUFBTXdELGFBQ3pDQyxFQUFvQjVELEVBQUt4SixNQUFNME0sU0FBUy9DLE1BQU1SLFNBQVNvRSxTQUFTSixHQUFjSyxHQUM5RWhFLEVBQUttRCxlQUFpQm5ELEVBQUt4SixNQUFNME0sU0FBUy9DLE1BQU1nRCxlQUNoRG5ELEVBQUtnRCxrQkFBb0JoRCxFQUFLeEosTUFBTTBNLFNBQVMvQyxNQUFNUixTQUFTb0UsU0FBU0osR0FBY00sVUFDbkZqRSxFQUFLaUQsaUJBQW1CakQsRUFBS3hKLE1BQU0wTSxTQUFTL0MsTUFBTVIsU0FBU29FLFNBQVNKLEdBQWNPLFNBQ2xGbEUsRUFBS21FLGNBQWdCbkUsRUFBS3hKLE1BQU0wTSxTQUFTL0MsTUFBTVIsU0FBU29FLFNBQVNKLEdBQWNTLFFBRy9FUCxRQUFRQyxJQUFJOUQsRUFBS3hKLE9BQ2pCcU4sUUFBUUMsSUFBSSxjQUNaRixFQUFvQjVELEVBQUt4SixNQUFNME0sU0FBUy9DLE1BQU1rRSxVQUM5Q3JFLEVBQUttRCxlQUFpQm5ELEVBQUt4SixNQUFNME0sU0FBUy9DLE1BQU1nRCxlQUNoRG5ELEVBQUtnRCxrQkFBb0JoRCxFQUFLeEosTUFBTTBNLFNBQVMvQyxNQUFNNkMsa0JBQ25EaEQsRUFBS2lELGlCQUFtQmpELEVBQUt4SixNQUFNME0sU0FBUy9DLE1BQU04QyxpQkFDbERqRCxFQUFLbUUsY0FBZ0JuRSxFQUFLeEosTUFBTTBNLFNBQVMvQyxNQUFNZ0UsZUFFakROLFFBQVFDLElBQUksa0JBQW1COUQsRUFBS21FLGVBRXBDbkUsRUFBS3NFLGlCQUFtQnRFLEVBQUtnRCxrQkFBb0IsSUFBTWhELEVBQUtpRCxpQkFDOUIsYUFBMUJqRCxFQUFLc0Usa0JBQTZELG9CQUExQnRFLEVBQUtzRSxtQkFDL0N0RSxFQUFLc0UsaUJBQW1CdEUsRUFBS21ELGVBRS9CLElBQUlvQixHQUFnQnZFLEVBQUt4SixNQUFNME0sU0FBUy9DLE1BQ3BDcUUsRUFBVXhFLEVBQUt4SixNQUFNaU8sVUFBVUEsVUFBVUMsT0FBTyxTQUFBL0UsR0FBQSxNQUFZQSxHQUFTcUUsSUFBTU8sRUFBY0ksV0FoQzVFLE9BaUNqQjNFLEdBQUt4SixNQUFNb08sU0FDVGpJLE9BQVEsR0FDUm1HLFNBQ0VrQixHQUFJSixHQUVOVCxlQUFnQm5ELEVBQUttRCxlQUNyQmtCLFVBQVdULEVBQ1hpQixTQUFVN0UsRUFBS3hKLE1BQU0wTSxTQUFTL0MsTUFBTTBFLFNBQ3BDQyxjQUFlLEdBQUlDLFNBRXJCLEVBQUE5SyxHQUFBK0ssdUJBQ0EsRUFBQXZOLEVBQUF3TixTQUFRakYsRUFBS21ELGVBQWdCbkQsRUFBS3hKLE1BQU0wTyxLQUFNVixFQUFTRCxFQUFjNUUsU0FBVUssRUFBS3hKLE1BQU0wTSxTQUFTL0MsTUFBTWdGLFVBRXpHbkYsRUFBS0csTUFBTHRMLEdBQ0V1USxTQUFTLEVBQ1QvQix1QkFBd0IsR0FDeEJnQyxVQUFVLEVBQ1YxQyxjQUFjLEVBQ2RoRCxTQUFVSyxFQUFLeEosTUFBTTBNLFNBQVMvQyxNQUFNUixTQUNwQytCLGNBQWUxQixFQUFLeEosTUFBTTBNLFNBQVMvQyxNQUFNdUIsY0FDekNsQixhQUFjLEVBQ2Q2QixxQkFBc0IsR0FDdEJpRCxjQUFlLEdBQ2ZDLFFBQVMsS0FDVG5GLGFBQWEsRUFDYm9GLFVBQ0lDLEtBQU0sVUFBVzVKLE1BQU8sWUFDeEI0SixLQUFNLFNBQVU1SixNQUFPLFdBQ3ZCNEosS0FBTSxTQUFVNUosTUFBTyxnQkFDdkI0SixLQUFNLFdBQVk1SixNQUFPLGNBQ3pCNEosS0FBTSxXQUFZNUosTUFBTyxhQUU3QjZKLGlCQUFrQixVQUNsQkMsV0FBWSxFQUFHLEdBQUksSUFDbkJ0RyxLQUFNRCxHQUNOK0YsU0FBVW5GLEVBQUt4SixNQUFNME0sU0FBUy9DLE1BQU1nRixTQUNwQ3BFLGlCQUFpQixHQXZCbkIsZ0JBd0JpQixJQUdqQjhDLFFBQVFDLElBQUk5RCxFQUFLeEosTUFBTTBNLFNBQVMvQyxNQUFNZ0YsU0FBVSx3QkF6RS9CbkYsRUQ0bkJuQixNQXJoQkFuSyxHQUFVZ0ssRUFBUUMsR0FrTmxCekosRUFBYXdKLElBQ1gvSyxJQUFLLHVCQUNMQyxNQUFPLGVBRVBELElBQUssNEJBQ0xDLE1BQU8sU0M5T2lCNlEsR0FDeEIsR0FBSUMsR0FBdUI5RixLQUFLdkosTUFBTThPLGNBQWNBLGNBQ2hEUSxFQUFtQkYsRUFBVU4sY0FBY0EsYUFDM0NRLEtBQXFCRCxHQUN2QjlGLEtBQUtNLFVBQVdpRixjQUFlUSxJQUVqQy9GLEtBQUtNLFVBQVc4RSxTQUFVUyxFQUFVMUMsU0FBUy9DLE1BQU1nRixjRGlQbkRyUSxJQUFLLHFCQUNMQyxNQUFPLGVBRVBELElBQUssc0JBQ0xDLE1BQU8sU0M5SFc2USxPRGdJbEI5USxJQUFLLFNBQ0xDLE1BQU8sV0NoR0EsR0FBQWdSLEdBQUFDLEVBQUFqRyxLQUFBa0csRUFDb0JsRyxLQUFLdkosTUFBeEI4SyxFQUREMkUsRUFDQzNFLFFBQVMzRyxFQURWc0wsRUFDVXRMLE1BT1h1TCxHQUpPQyxTQUFTcEcsS0FBS3ZKLE1BQU00UCxNQUFNQyxPQUFPckMsR0FBSSxJQUNyQ21DLFNBQVNwRyxLQUFLdkosTUFBTTRQLE1BQU1DLE9BQU9yQyxHQUFJLEtBR3JCLEVBQUFsSyxHQUFBd00scUJBQXVCdkcsS0FBS2lELGtCQUE1QixJQUFpRGpELEtBQUtrRCxrQkFFMUV0SSxHQUFNTyxRQUFRaUIsUUFBUWYsSUFTL0IsT0FKb0MsaUJBQWhDMkUsS0FBS3ZKLE1BQU00TCxVQUFVekYsUUFDdkJvRCxLQUFLbUMsY0FJTG5MLEVBQUFuQyxRQUFBa04sY0FBQSxZQUNvQyxJQUFqQy9CLEtBQUt2SixNQUFNNEwsVUFBVXNCLFNBRXBCM00sRUFBQW5DLFFBQUFrTixjQUFDdkosRUFBQTNELFNBQU8yUixZQUFheEcsS0FBSzJDLHFCQUFzQjhELGFBQWN6RyxLQUFLNkMsd0JBQ2pFN0wsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUTFHLFVBQ3hCN0QsRUFBQW5DLFFBQUFrTixjQUFDM0ksRUFBQXZFLFNBQU84UixVQUFVLEVBQUFwTixFQUFBcU4sY0FBYXJGLEVBQVMzRyxFQUFPb0YsS0FBS21CLG1CQUNoRG5LLEVBQUFuQyxRQUFBa04sY0FBQzlILEdBQUFwRixRQUFELE1BQ0ZtQyxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzJFLFVBQVduRixFQUFRdEcsTUFFdEJqRSxFQUFBbkMsUUFBQWtOLGNBQUNySixFQUFBN0QsU0FDQ2dTLEtBQU03RyxLQUFLSSxNQUFNYyxZQUNqQjRGLGtCQUFrQixFQUNsQkMsUUFBUy9HLEtBQUtpQixrQkFFZGpLLEVBQUFuQyxRQUFBa04sY0FBQSxXQUNFL0ssRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUTNDLHNCQUNyQm9CLEtBQUtxQixZQUFZckIsS0FBS0ksTUFBTWdCLFVBRS9CcEssRUFBQW5DLFFBQUFrTixjQUFDaEssRUFBQWxELFNBQ0MwTSxTQUFXdEcsS0FBTXNHLEVBQVE5QyxZQUN6QnVJLFFBQVNoSCxLQUFLaUIscUJBSXBCakssRUFBQW5DLFFBQUFrTixjQUFBLFlBRXFDLElBQWpDL0IsS0FBS3ZKLE1BQU00TCxVQUFVc0IsU0FDbkIzTSxFQUFBbkMsUUFBQWtOLGNBQUEsV0FFRS9LLEVBQUFuQyxRQUFBa04sY0FBQ2pKLEVBQUFqRSxTQUVDb1MsYUFBVyxNQUNYUCxXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVF4RCxRQUFTd0QsRUFBUTJGLFlBQy9DM0YsU0FBVzRGLFNBQVU1RixFQUFRNkYsYUFDN0JDLEtBQUssUUFDTEYsU0FBVW5ILEtBQUtJLE1BQU13QyxhQUNyQm9FLFFBQVNoSCxLQUFLMkMsc0JBRWQzTCxFQUFBbkMsUUFBQWtOLGNBQUM3SSxFQUFBckUsU0FBZTZSLFVBQVcxRyxLQUFLSSxNQUFNd0MsYUFBZXJCLEVBQVErRixrQkFBb0IvRixFQUFRZ0csYUFFM0Z2USxFQUFBbkMsUUFBQWtOLGNBQUNqSixFQUFBakUsU0FFQ29TLGFBQVcsTUFDWDFGLFNBQVc0RixTQUFVNUYsRUFBUTZGLGFBQzdCVixXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVE1RCxRQUFTNEQsRUFBUTJGLFlBQy9DQyxVQUFXbkgsS0FBS0ksTUFBTXdDLGFBQ3RCeUUsS0FBSyxRQUNMTCxRQUFTaEgsS0FBSzZDLHdCQUVkN0wsRUFBQW5DLFFBQUFrTixjQUFDL0ksRUFBQW5FLFNBQWE2UixVQUFZMUcsS0FBS0ksTUFBTXdDLGFBQTJDckIsRUFBUWdHLFVBQXBDaEcsRUFBUStGLHVCQU9qQyxJQUFqQ3RILEtBQUt2SixNQUFNNEwsVUFBVXNCLFNBQ3JCM00sRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUsyUyxXQUFBLEVBQVVDLEdBQUksR0FBSUMsUUFBUSxnQkFBZ0JqTSxXQUFXLGFBQWFrTSxPQUFTQyxVQUFXLFdBRTFGNVEsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEVBQUdFLE9BQVNuSyxZQUFhLE1BQU9qQixhQUFjLFFBR3pEeUQsS0FBS0ksTUFBTVIsU0FBUzdDLGFBQWFwRyxPQUFTLEdBQ3hDSyxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FDQ2dULFFBQVEsRUFDUm5CLFVBQVduRixFQUFReEUsY0FFbEIsSUFFQWlELEtBQUtJLE1BQU1SLFNBQVM3QyxjQUt2Qi9GLEVBQUFuQyxRQUFBa04sY0FBQ25KLEVBQUEvRCxTQUFRaUgsTUFBT2tFLEtBQUtJLE1BQU1SLFNBQVM3QyxjQUNsQy9GLEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUNDZ1QsUUFBUSxFQUNSbkIsVUFBV25GLEVBQVF4RSxjQUVsQixJQUVBaUQsS0FBS0ksTUFBTVIsU0FBUzdDLGVBSTdCL0YsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUXJFLGdCQUFpQjhDLEtBQUtJLE1BQU1SLFNBQVMxQyxpQkFFL0RsRyxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS2lJLFdBQUEsRUFBVU0sR0FBSSxFQUFHQyxHQUFJLEVBQUdDLEdBQUksRUFBR0MsR0FBSSxFQUFHeE0sV0FBVyxTQUFTaU0sUUFBUSxZQUMzRTFRLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLaUksV0FBQSxFQUFVTyxHQUFJLEVBQUdDLEdBQUksR0FBSUMsR0FBSSxHQUFJeE0sV0FBVyxTQUFTaU0sUUFBUSxXQUFXQyxPQUFTcE0sWUFBYSxZQUN2R3ZFLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLaUksV0FBQSxFQUFVTSxHQUFJLEVBQUdDLEdBQUksRUFBR0MsR0FBSSxFQUFHQyxHQUFJLEVBQUd4TSxXQUFXLFNBQVNpTSxRQUFRLGdCQUFnQmhCLFVBQVduRixFQUFRMkcsVUFDOUdsUixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzJTLFdBQUEsRUFBVWpJLE1BQUEsRUFBS3dJLEdBQUksRUFBR0MsR0FBSSxFQUFHQyxHQUFJLEVBQUdOLE9BQVMxTCxPQUFRLFdBQWErSyxRQUFTaEgsS0FBS0csb0JBQXFCdUgsUUFBUSxhQUFhak0sV0FBVyxVQUN6SXpFLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLbUgsVUFBV25GLEVBQVE0RyxvQkFDQSxZQUEzQm5JLEtBQUtpRCxtQkFBNkQsWUFBMUJqRCxLQUFLa0Qsa0JBQzVDbE0sRUFBQW5DLFFBQUFrTixjQUFBLGlCQUcwQixZQUEzQi9CLEtBQUtpRCxtQkFBNkQsWUFBMUJqRCxLQUFLa0Qsa0JBQzVDbE0sRUFBQW5DLFFBQUFrTixjQUFBLFlBQU8vQixLQUFLaUQsa0JBQWtCcEIsY0FBY3VHLE9BQU8sR0FBS3BJLEtBQUtrRCxpQkFBaUJyQixjQUFjdUcsT0FBTyxLQUd2R3BSLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLd0ksR0FBSSxFQUFHQyxHQUFJLEVBQUdDLEdBQUksRUFBR3ZCLFVBQVduRixFQUFRckYsVUFDakRsRixFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBV3dULFFBQVEsT0FBT1IsUUFBQSxFQUFPbkIsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRM0UsU0FDN0RvRCxLQUFLdkosTUFBTTRMLFVBQVV6RixRQUV4QjVGLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVFoRCxvQkFDdEJ2SCxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBV2dULFFBQVEsRUFBTW5CLFVBQVduRixFQUFRakQsbUJBRTFDMEIsS0FBS3VFLG9CQU1adk4sRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUttSCxVQUFXbkYsRUFBUXBELFNBQVVtSyxNQUFNLFNBQzVDdFIsRUFBQW5DLFFBQUFrTixjQUFDekksRUFBQXpFLFNBQ0M2UixVQUFXbkYsRUFBUXJELGdCQUd2QmxILEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLbUgsVUFBV25GLEVBQVFnSCxhQUM1QnZSLEVBQUFuQyxRQUFBa04sY0FBQ3RLLEVBQUE1QyxTQUNDMlQsY0FBZXhJLEtBQUtPLHFCQUNwQkYsWUFBYUwsS0FBS0ksTUFBTUMsWUFDeEJvSSxjQUFjLEVBQ2R6RSxTQUFVaEUsS0FBS0ksTUFBTVIsU0FBU29FLFNBQzlCcEUsU0FBVUksS0FBS0ksTUFBTVIsU0FDckJ3RixTQUFVcEYsS0FBS0ksTUFBTWdGLFNBQ3JCc0QsWUFBYTFJLEtBQUt2SixNQUFNME0sU0FBUy9DLE1BQU1zSSxZQUN2Q0MsZ0JBQWlCM0ksS0FBSzRJLFFBQ3RCQyxnQkFDRTdJLEtBQUt2SixNQUFNME0sU0FBUy9DLE1BQU15SSxvQkFLbEM3UixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzJTLFdBQUEsRUFBVWpJLE1BQUEsRUFBS3dJLEdBQUksRUFBR0MsR0FBSSxFQUFHQyxHQUFJLEVBQUd4TSxXQUFXLFNBQVNpTSxRQUFRLFlBRXBFMVEsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUs2UixVQUFXbkYsRUFBUXpFLFVBQ3RCa0QsS0FBS0ksTUFBTWtDLHNCQUVkdEwsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUttSCxXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVFsRCxXQUFZa0QsRUFBUXVILGdCQUMxRDlJLEtBQUtJLE1BQU02QixTQUFXakwsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUW5ELGNBQWUySyxJQUFLLDBCQUEyQi9CLFFBQVNoSCxLQUFLZ0MsY0FDMUdoQyxLQUFLSSxNQUFNNkIsU0FBV2pMLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVFuRCxjQUFlMkssSUFBS3JPLEVBQVEsTUFBMEJzTSxRQUFTaEgsS0FBS2dDLGNBR3RIaEwsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUsrSSxNQUFNLFFBQVE1QixVQUFXbkYsRUFBUXZELGNBQzFDaEgsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUFpRSxHQUFLVSxVQUFXbkYsRUFBUXRELGdCQUFpQitJLFFBQVNoSCxLQUFLeUMsUUFBdkQzTixFQUFBa1IsRUFBQSxZQUEwRXpFLEVBQVF4RixlQUFsRmpILEVBQUFrUixFQUFBLE1BQXNHdEwsRUFBUSxPQUE5R3NMLE9BS05oUCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS21ILFVBQVduRixFQUFRakYsYUFDNUJ0RixFQUFBbkMsUUFBQWtOLGNBQUN0SSxFQUFBNUUsU0FBYzZSLFVBQVduRixFQUFReUgsYUFBY3BKLFNBQVVJLEtBQUtJLE1BQU1SLFlBRXZFNUksRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUttSCxXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVEvRSxjQUFlK0UsRUFBUXlILGVBQzlEaFMsRUFBQW5DLFFBQUFrTixjQUFDbEksR0FBQWhGLFNBQWlCK0ssU0FBVUksS0FBS0ksTUFBTVIsU0FBVXFKLGlCQUFrQixpQkFBTWhELEdBQUtuRCxpQ0FPckQsSUFBakM5QyxLQUFLdkosTUFBTTRMLFVBQVVzQixVQUFnRCxJQUE1QjNELEtBQUtJLE1BQU13QyxjQUNwRDVMLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLNEYsT0FBU0MsVUFBVyxZQUV2QjVRLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMlMsV0FBQSxFQUFVQyxHQUFJLEdBQUloTSxXQUFXLGFBQWFpTSxRQUFRLFNBQVNDLE9BQVNuTSxXQUFZLFFBQ3BGeEUsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEVBQUdhLE1BQU0sT0FBT1gsT0FBU2pLLFdBQVksSUFBS25CLGFBQWMsWUFDcEV5RCxLQUFLSSxNQUFNZ0YsVUFDVnBPLEVBQUFuQyxRQUFBa04sY0FBQ3pKLEVBQUF6RCxTQUFjcVUsVUFBV2xKLEtBQUt2SixNQUFNME8sS0FBTWYsY0FBZXBFLEtBQUtvRSxjQUFleEUsU0FBVUksS0FBS0ksTUFBTVIsU0FBVXdGLFNBQVVwRixLQUFLSSxNQUFNZ0YsU0FBVXNELFlBQWExSSxLQUFLdkosTUFBTTBNLFNBQVMvQyxNQUFNc0ksZUFHdkwxUixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS2lJLFdBQUEsRUFBVUMsR0FBSSxFQUFHZixVQUFXbkYsRUFBUS9DLHFCQUM3Q3hILEVBQUFuQyxRQUFBa04sY0FBQzNILEdBQUF2RixTQUNDNlIsVUFBV25GLEVBQVFwRSxjQUNuQmdNLFlBQUEsRUFDQUMseUJBQTBCN0gsRUFBUWhFLGdCQUNsQzhMLHFCQUNFOUQsY0FBZXZGLEtBQUtJLE1BQU1tRixjQUMxQlkscUJBQXNCQSxFQUN0Qm1ELGFBQWMsS0FDZEMsaUJBQWtCLGlDQVFLLElBQWpDdkosS0FBS3ZKLE1BQU00TCxVQUFVc0IsVUFBZ0QsSUFBNUIzRCxLQUFLSSxNQUFNd0MsY0FDcEQ1TCxFQUFBbkMsUUFBQWtOLGNBQUEsV0FDRS9LLEVBQUFuQyxRQUFBa04sY0FBQzdKLEVBQUFyRCxTQUFnQitLLFNBQVVJLEtBQUtJLE1BQU1SLGlCQVVqQixJQUFqQ0ksS0FBS3ZKLE1BQU00TCxVQUFVc0IsVUFFYSxnQkFBaEMzRCxLQUFLdkosTUFBTTRMLFVBQVV6RixRQUNVLGdCQUEvQm9ELEtBQUt2SixNQUFNNEwsVUFBVXpGLFFBQ1UsYUFBL0JvRCxLQUFLdkosTUFBTTRMLFVBQVV6RixTQUNyQjVGLEVBQUFuQyxRQUFBa04sY0FBQSxXQUNFL0ssRUFBQW5DLFFBQUFrTixjQUFDL0osRUFBQXdSLFVBQ0NDLElBQ0VDLFNBQVUsYUFBZTFKLEtBQUtJLE1BQU1SLFNBQVNxRSxHQUM3QzdELE9BQVNxSSxjQUFjLEVBQU1JLGdCQUFpQjdJLEtBQUt2SixNQUFNME0sU0FBUy9DLE1BQU15SSxzQkFPL0MsSUFBakM3SSxLQUFLdkosTUFBTTRMLFVBQVVzQixTQUNuQjNNLEVBQUFuQyxRQUFBa04sY0FBQzNKLEVBQUF2RCxTQUNDOFUsaUJBQWtCM0osS0FBS0ksTUFBTWtELHVCQUM3QjdDLGFBQWNULEtBQUtJLE1BQU1LLGFBQ3pCb0ksZ0JBQWlCN0ksS0FBS3ZKLE1BQU0wTSxTQUFTL0MsTUFBTXlJLGdCQUMzQ0YsZ0JBQWlCM0ksS0FBS3ZKLE1BQU0wTSxTQUFTL0MsTUFBTXVJLGdCQUMzQ2lCLFNBQVU1SixLQUFLdUMsc0JBQ2Y2QyxTQUFVcEYsS0FBS0ksTUFBTWdGLFNBQ3JCeEYsU0FBVUksS0FBS0ksTUFBTVIsU0FDckJpSyxhQUFjN0osS0FBS2lELGtCQUFvQixJQUFNakQsS0FBS2tELGlCQUNsRHdGLFlBQWExSSxLQUFLdkosTUFBTTBNLFNBQVMvQyxNQUFNc0ksWUFDdkNRLFVBQVdsSixLQUFLdkosTUFBTTBPLEtBQ3RCdkIsYUFBYzVELEtBQUt2SixNQUFNME0sU0FBUy9DLE1BQU13RCxhQUN4Q1IsZUFBZ0JwRCxLQUFLdkosTUFBTTBNLFNBQVMvQyxNQUFNZ0QsZUFDMUMwRyxxQkFBc0I5SixLQUFLSSxNQUFNbUYsaUJBS0osSUFBakN2RixLQUFLdkosTUFBTTRMLFVBQVVzQixTQUFxRCxzQkFBaEMzRCxLQUFLdkosTUFBTTRMLFVBQVV6RixRQUMvRDVGLEVBQUFuQyxRQUFBa04sY0FBQSxXQUVFL0ssRUFBQW5DLFFBQUFrTixjQUFDL0osRUFBQXdSLFVBQVNDLElBQ1JDLFNBQVUsYUFBZTFKLEtBQUtJLE1BQU1SLFNBQVNxRSxHQUM3QzdELE9BQVNxSSxjQUFjLEVBQU9JLGdCQUFpQjdJLEtBQUt2SixNQUFNME0sU0FBUy9DLE1BQU15SSwwQkQySTlFL0ksR0M3bkJZaUssYUE0ZmZDLEdBQWtCLFNBQUE1SixHQUFBLE9BRXRCK0UsS0FBTS9FLEVBQU02SixnQkFDWjVILFVBQVdqQyxFQUFNaUMsVUFDakJrRCxjQUFlbkYsRUFBTW1GLGNBQ3JCYixVQUFXdEUsRUFBTXNFLFlBR2J3RixHQUFxQixTQUFBQyxHQUFBLE9BQ3pCekcsZ0JBQWlCLFNBQUEwRyxHQUFBLE1BQVNELElBQVMsRUFBQXhTLEVBQUErTCxpQkFBZ0IwRyxLQUNuREMsYUFBYyxTQUFBRCxHQUFBLE1BQVNELElBQVMsRUFBQXhTLEVBQUEwUyxjQUFhRCxLQUM3Q0Usb0JBQXFCLFNBQUFGLEdBQUEsTUFBU0QsSUFBUyxFQUFBeFMsRUFBQTJTLHFCQUFvQkYsS0FDM0R2RixRQUFTLFNBQUF1RixHQUFBLE1BQVNELElBQVMsRUFBQXZTLEVBQUEyUyxtQkFBa0JILE9BR3pDSSxJQUFnQixFQUFBbFEsR0FBQXpGLFNBQWM4RixHQUFROFAsV0RpSjVDalcsR0FBUUssU0NoSk8sRUFBQWdELEVBQUE2UyxTQUNiVixHQUNBRSxLQUNBLEVBQUFqVCxFQUFBMFQsWUFBV0gsSUFBaUJJLFdBQVcsSUFBUTlLLE1EaUozQytLLEtBQ0EsU0FBVXRXLEVBQVF1VyxFQUFxQnJXLEdBRTdDLFlFeDNCQVEsUUFBQUMsZUFBQTRWLEVBQUEsY0FBQTlWLE9BQUEsT0FBQStWLEdBQUF0VyxFQUFBLElBQUF1VyxFQUFBdlcsRUFBQSxJQUFBd1csRUFBQXhXLEVBQUEsS0FBQXlXLEVBQUF6VyxFQUFBLElBQUEwVyxFQUFBMVcsRUFBQSxLQUFBMlcsRUFBQTNXLEVBQUEsS0FBQTRXLEVBQUE1VyxFQUFBLEtBQUE2VyxFQUFBN1csRUFBQSxLQUFBOFcsRUFBQTlXLEVBQUEsS0FBQStXLEVBQUEvVyxFQUFBLEtBQUFnWCxFQUFBaFgsRUFBQSxLQUFBaVgsRUFBQWpYLEVBQUEsS0FBQWtYLEVBQUFsWCxFQUFBLEtBQUFtWCxFQUFBblgsRUFBQSxLQUFBb1gsRUFBQXBYLEVBQUEsS0FBQXFYLEVBQUFyWCxFQUFBLEtBQUFzWCxFQUFBdFgsRUFBQSxLQUFBdVgsRUFBQXZYLEVBQUEsS0FBQXdYLEVBQUF4WCxFQUFBLEtBQUF5WCxFQUFBelgsRUFBQSxLQUFBMFgsRUFBQTFYLEVBQUEsS0FBQTJYLEVBQUEzWCxFQUFBLEtBQUE0WCxFQUFBNVgsRUFBQSxLQUFBNlgsRUFBQTdYLEVBQUEsS0FBQThYLEVBQUE5WCxFQUFBLElBQUErWCxFQUFBL1gsRUFBQSxJQUFBZ1ksRUFBQWhZLEVBQUEsS0E0QkFpWSxFQUFBLFdBQ0EsUUFBQUEsR0FBQUMsR0FDQSxHQUFBQyxRQUFBLEtBQUFELEtBQXdDQSxHQUFBQyxNQUN4QzVNLE1BQUE2TSxrQkFBQSxxQkFDQTdNLEtBQUE4TSxrQkFBQSxnQkFDQTlNLEtBQUErTSxjQUFBLFVBQ0EvTSxLQUFBZ04sY0FBQSxRQUNBaE4sS0FBQWlOLFdBQUEsVUFDQWpOLEtBQUE0TSxTQTJLQSxNQXZLQUYsR0FBQXpXLFVBQUFpWCxRQUFBLFNBQUFsWSxFQUFBbVksR0FDQSxNQUFlbFksUUFBQThWLEVBQUEsR0FBTy9WLEVBQUFtWSxJQUV0QlQsRUFBQXpXLFVBQUFtWCxRQUFBLFNBQUFwWSxHQUNBLE1BQWVDLFFBQUErVyxFQUFBLEdBQU9oWCxJQUV0QjBYLEVBQUF6VyxVQUFBb1gsUUFBQSxTQUFBclksRUFBQXNZLEdBQ0EsTUFBZXJZLFFBQUFpVyxFQUFBLEdBQXdCbFcsRUFBQXNZLElBRXZDWixFQUFBelcsVUFBQXNYLFFBQUEsU0FBQXZZLEVBQUFzWSxHQUNBLE1BQWVyWSxRQUFBMlcsRUFBQSxHQUFPNVcsRUFBQXNZLElBRXRCWixFQUFBelcsVUFBQXVYLFNBQUEsU0FBQXhZLEVBQUFzWSxHQUNBLE1BQWVyWSxRQUFBNFcsRUFBQSxHQUFRN1csRUFBQXNZLElBRXZCWixFQUFBelcsVUFBQXdYLFdBQUEsU0FBQXpZLEdBQ0EsTUFBZUMsUUFBQXFYLEVBQUEsR0FBVXRYLElBRXpCMFgsRUFBQXpXLFVBQUF5WCxTQUFBLFNBQUExWSxHQUNBLE1BQWVDLFFBQUFtVyxFQUFBLEdBQVFwVyxJQUV2QjBYLEVBQUF6VyxVQUFBMFgsU0FBQSxTQUFBM1ksR0FDQSxNQUFlQyxRQUFBd1csRUFBQSxHQUFRelcsSUFFdkIwWCxFQUFBelcsVUFBQTJYLFNBQUEsU0FBQTVZLEVBQUFtWSxHQUNBLE1BQWVsWSxRQUFBaVgsRUFBQSxHQUFRbFgsRUFBQW1ZLElBRXZCVCxFQUFBelcsVUFBQTRYLFdBQUEsU0FBQTdZLEVBQUFtWSxHQUNBLE1BQWVsWSxRQUFBa1gsRUFBQSxHQUFVblgsRUFBQW1ZLElBRXpCVCxFQUFBelcsVUFBQTZYLFdBQUEsU0FBQTlZLEdBQ0EsTUFBZUMsUUFBQXlXLEVBQUEsR0FBVTFXLElBRXpCMFgsRUFBQXpXLFVBQUE4WCxXQUFBLFNBQUEvWSxFQUFBbVksR0FDQSxNQUFlbFksUUFBQW1YLEVBQUEsR0FBVXBYLEVBQUFtWSxJQUV6QlQsRUFBQXpXLFVBQUErWCxVQUFBLFNBQUFoWixFQUFBc1ksR0FDQSxNQUFlclksUUFBQThXLEVBQUEsR0FBUy9XLEVBQUFzWSxJQUV4QlosRUFBQXpXLFVBQUFnWSxnQkFBQSxTQUFBalosR0FDQSxNQUFlQyxRQUFBc1gsRUFBQSxHQUFZdlgsSUFFM0IwWCxFQUFBelcsVUFBQWlZLFFBQUEsU0FBQWxaLEdBQ0EsTUFBZUMsUUFBQTBXLEVBQUEsR0FBTzNXLElBRXRCMFgsRUFBQXpXLFVBQUFrWSxRQUFBLFNBQUFuWixFQUFBbVksR0FDQSxNQUFlbFksUUFBQW9YLEVBQUEsR0FBT3JYLEVBQUFtWSxJQUV0QlQsRUFBQXpXLFVBQUFtWSxLQUFBLFNBQUFwWixHQUNBLGdCQUFBQSxFQUNBLEdBQUFnUSxNQUVBLE9BQUFoUSxFQUNBLEtBRUEsR0FBQWdRLE1BQUFoUSxJQUVBMFgsRUFBQXpXLFVBQUFvWSxNQUFBLFNBQUFyWixFQUFBc1osR0FDQSxXQUFBdFosRUFDQSxLQUVlQyxPQUFBZ1gsRUFBQSxHQUFZalgsRUFBQXNaLEVBQUEsR0FBQXRKLFFBRTNCMEgsRUFBQXpXLFVBQUFzWSxPQUFBLFNBQUFILEVBQUFFLEdBQ0EsTUFBZXJaLFFBQUF1VyxFQUFBLEdBQU00QyxFQUFBRSxHQUFzQjFCLE9BQUE1TSxLQUFBNE0sVUFFM0NGLEVBQUF6VyxVQUFBdVksUUFBQSxTQUFBSixFQUFBZCxHQUNBLGNBQUFjLEdBQUEsT0FBQWQsR0FHZXJZLE9BQUE2VyxFQUFBLEdBQU9zQyxFQUFBZCxJQUV0QlosRUFBQXpXLFVBQUF3WSxPQUFBLFNBQUFMLEdBQ0EsY0FBQUEsR0FFQTFCLEVBQUF6VyxVQUFBeVksV0FBQSxTQUFBTixFQUFBcFosR0FDQSxNQUFlQyxRQUFBMlcsRUFBQSxHQUFPd0MsRUFBT25aLE9BQUFtVyxFQUFBLEdBQVFwVyxLQUVyQzBYLEVBQUF6VyxVQUFBMFksWUFBQSxTQUFBUCxFQUFBcFosR0FDQSxNQUFlQyxRQUFBNFcsRUFBQSxHQUFRdUMsRUFBT25aLE9BQUFxWCxFQUFBLEdBQVV0WCxLQUV4QzBYLEVBQUF6VyxVQUFBMlksYUFBQSxTQUFBUixFQUFBcFosR0FDQSxNQUFlQyxRQUFBNFcsRUFBQSxHQUFRdUMsRUFBT25aLE9BQUF3WCxFQUFBLEdBQVd6WCxLQUV6QzBYLEVBQUF6VyxVQUFBNFksWUFBQSxTQUFBVCxFQUFBcFosR0FDQSxNQUFlQyxRQUFBMlcsRUFBQSxHQUFPd0MsRUFBT25aLE9BQUFzVyxFQUFBLEdBQVN2VyxLQUV0QzBYLEVBQUF6VyxVQUFBNlksYUFBQSxTQUFBQyxHQUNBLE1BQUFBLElBRUFyQyxFQUFBelcsVUFBQStZLFdBQUEsU0FBQVosR0FDQSxNQUFBQSxHQUFBWSxjQUVBdEMsRUFBQXpXLFVBQUFnWixTQUFBLFNBQUFiLEdBQ0EsTUFBQUEsR0FBQWEsWUFFQXZDLEVBQUF6VyxVQUFBaVosZ0JBQUEsU0FBQUMsR0FDQSxhQUFBQSxFQUFBLFdBRUF6QyxFQUFBelcsVUFBQW1aLGFBQUEsU0FBQWhCLEdBQ0EsTUFBZW5aLFFBQUErVixFQUFBLEdBQVNvRCxFQUFBLElBRXhCMUIsRUFBQXpXLFVBQUFvWixpQkFBQSxTQUFBakIsR0FDQSxNQUFlblosUUFBQStWLEVBQUEsR0FBU29ELEdBQUEsSUFFeEIxQixFQUFBelcsVUFBQXFaLGlCQUFBLFNBQUFsQixFQUFBbUIsR0FDQSxNQUFBdlAsTUFBQTZOLFdBQUE3TixLQUFBNE4sU0FBQVEsRUFBQXBPLEtBQUEyTixTQUFBNEIsSUFBQXZQLEtBQUFnUCxXQUFBTyxLQUVBN0MsRUFBQXpXLFVBQUF1WixZQUFBLFdBQ0EsR0FBQXZQLEdBQUFELEtBQ0F5UCxFQUFBLEdBQUF6SyxLQUNBLE9BQWUvUCxRQUFBa1csRUFBQSxJQUNmdUUsTUFBbUJ6YSxPQUFBdVgsRUFBQSxHQUFXaUQsR0FBTzdDLE9BQUE1TSxLQUFBNE0sU0FDckMrQyxJQUFpQjFhLE9BQUFxVyxFQUFBLEdBQVNtRSxHQUFPN0MsT0FBQTVNLEtBQUE0TSxXQUNyQkEsT0FBQTVNLEtBQUE0TSxTQUFzQmdELElBQUEsU0FBQUMsR0FBc0IsTUFBUTVhLFFBQUF1VyxFQUFBLEdBQU1xRSxFQUFBLFVBQWlCakQsT0FBQTNNLEVBQUEyTSxZQUV2RkYsRUFBQXpXLFVBQUE2WixhQUFBLFNBQUExQixHQU1BLElBTEEsR0FBQXNCLEdBQW9CemEsT0FBQXVYLEVBQUEsR0FBWXZYLE9BQUFzWCxFQUFBLEdBQVk2QixJQUFTeEIsT0FBQTVNLEtBQUE0TSxTQUNyRCtDLEVBQWtCMWEsT0FBQXFXLEVBQUEsR0FBVXJXLE9BQUFvVyxFQUFBLEdBQVUrQyxJQUFTeEIsT0FBQTVNLEtBQUE0TSxTQUMvQ08sRUFBQSxFQUNBNEMsRUFBQUwsRUFDQU0sS0FDZS9hLE9BQUE0VyxFQUFBLEdBQVFrRSxFQUFBSixJQUFBLENBQ3ZCLEdBQUFNLEdBQUF0UCxLQUFBQyxNQUFBdU0sRUFBQSxFQUNBNkMsR0FBQUMsR0FBQUQsRUFBQUMsT0FDQUQsRUFBQUMsR0FBQXBRLEtBQUFrUSxHQUNBQSxFQUFzQjlhLE9BQUE4VixFQUFBLEdBQU9nRixFQUFBLEdBQzdCNUMsR0FBQSxFQUVBLE1BQUE2QyxJQUVBdEQsRUFBQXpXLFVBQUFpYSxhQUFBLFNBQUFSLEVBQUFDLEdBS0EsSUFKQSxHQUFBUSxHQUF3QmxiLE9BQUF3WCxFQUFBLEdBQVdpRCxHQUNuQ1UsRUFBc0JuYixPQUFBc1csRUFBQSxHQUFTb0UsR0FDL0JVLEtBQ0FOLEVBQUFJLEVBQ2VsYixPQUFBNFcsRUFBQSxHQUFRa0UsRUFBQUssSUFDdkJDLEVBQUF4USxLQUFBa1EsR0FDQUEsRUFBc0I5YSxPQUFBZ1csRUFBQSxHQUFROEUsRUFBQSxFQUU5QixPQUFBTSxJQUdBM0QsRUFBQXpXLFVBQUFxYSxzQkFBQSxTQUFBbEMsR0FDQSxNQUFlblosUUFBQXVXLEVBQUEsR0FBTTRDLEVBQUEsYUFBcUJ4QixPQUFBNU0sS0FBQTRNLFVBRTFDRixFQUFBelcsVUFBQXNhLFlBQUEsU0FBQW5DLEdBQ0EsTUFBZW5aLFFBQUF1VyxFQUFBLEdBQU00QyxFQUFBLFFBQWdCeEIsT0FBQTVNLEtBQUE0TSxVQUVyQ0YsRUFBQXpXLFVBQUF1YSx3QkFBQSxTQUFBcEMsR0FDQSxNQUFlblosUUFBQXVXLEVBQUEsR0FBTTRDLEVBQUEsY0FBc0J4QixPQUFBNU0sS0FBQTRNLFVBRTNDRixFQUFBelcsVUFBQXdhLDRCQUFBLFNBQUFyQyxHQUNBLE1BQWVuWixRQUFBdVcsRUFBQSxHQUFNNEMsRUFBQSxTQUFpQnhCLE9BQUE1TSxLQUFBNE0sVUFFdENGLEVBQUF6VyxVQUFBeWEsV0FBQSxTQUFBdEMsR0FDQSxNQUFlblosUUFBQXVXLEVBQUEsR0FBTTRDLEVBQUEsS0FBYXhCLE9BQUE1TSxLQUFBNE0sVUFFbENGLEVBQUF6VyxVQUFBMGEsWUFBQSxTQUFBdkMsRUFBQWUsR0FDQSxNQUFlbGEsUUFBQXVXLEVBQUEsR0FBTTRDLEVBQUFlLEVBQUEsV0FBNEJ2QyxPQUFBNU0sS0FBQTRNLFVBRWpERixFQUFBelcsVUFBQTJhLGNBQUEsU0FBQXhDLEdBQ0EsTUFBZW5aLFFBQUF1VyxFQUFBLEdBQU00QyxFQUFBLE1BQWN4QixPQUFBNU0sS0FBQTRNLFVBRW5DRixFQUFBelcsVUFBQTRhLGNBQUEsU0FBQXpDLEdBQ0EsTUFBZW5aLFFBQUF1VyxFQUFBLEdBQU00QyxFQUFBLE1BQWN4QixPQUFBNU0sS0FBQTRNLFVBRW5DRixJQUdlNUIsR0FBQSxXRjA1QlRnRyxLQUNBLFNBQVV2YyxFQUFRdVcsRUFBcUJyVyxHQUU3QyxZRy9tQ0FRLFFBQUFDLGVBQUE0VixFQUFBLGNBQUE5VixPQUFBLElBQUFQLEVBQUFzYyxFQUFBakcsRUFBQSw4QkFBQWtHLE1BQUF2YyxFQUFBc2MsRUFBQWpHLEVBQUEsb0NBQUFtRyxNQUFBeGMsRUFBQXNjLEVBQUFqRyxFQUFBLDhCQUFBb0csTUFBQXpjLEVBQUFzYyxFQUFBakcsRUFBQSxvQ0FBQXFHLE1BQUExYyxFQUFBc2MsRUFBQWpHLEVBQUEsa0NBQUFzRyxNQUFBM2MsRUFBQXNjLEVBQUFqRyxFQUFBLHdDQUFBdUcsTUFBQTVjLEVBQUFzYyxFQUFBakcsRUFBQSw4QkFBQXdHLE1BQUE3YyxFQUFBc2MsRUFBQWpHLEVBQUEsNEJBQUF5RyxNQUFBOWMsRUFBQXNjLEVBQUFqRyxFQUFBLHVCQUFBMEcsTUFBQS9jLEVBQUFzYyxFQUFBakcsRUFBQSxrQ0FBQTJHLE1BQUFoZCxFQUFBc2MsRUFBQWpHLEVBQUEseUJBQUE0RyxNQUFBamQsRUFBQXNjLEVBQUFqRyxFQUFBLDJDQUFBNkcsS0FBQSxJQUFBQyxHQUFBbmQsRUFBQSxNQUFBb2QsRUFBQXBkLEVBQUEsR0FBQXFkLEdBQUFyZCxFQUFBc2QsRUFBQUYsR0FBQXBkLEVBQUEsSUFBQXVkLEdBQUF2ZCxFQUFBc2QsRUFBQUQsR0FBQXJkLEVBQUEsT0FBQXdkLEVBQUF4ZCxFQUFBc2QsRUFBQUMsR0FBQUUsRUFBQXpkLEVBQUEsS0FBQTBkLEVBQUExZCxFQUFBc2QsRUFBQUcsR0FBQUUsRUFBQTNkLEVBQUEsSUFBQTRkLEVBQUE1ZCxFQUFBc2QsRUFBQUssR0FBQUUsRUFBQTdkLEVBQUEsS0FBQThkLEVBQUE5ZCxFQUFBc2QsRUFBQU8sR0FBQUUsRUFBQS9kLEVBQUEsS0FBQWdlLEVBQUFoZSxFQUFBc2QsRUFBQVMsR0FBQUUsRUFBQWplLEVBQUEsSUFBQWtlLEVBQUFsZSxFQUFBc2QsRUFBQVcsR0FBQUUsRUFBQW5lLEVBQUEsS0FBQW9lLEVBQUFwZSxFQUFBc2QsRUFBQWEsR0FBQUUsRUFBQXJlLEVBQUEsS0FBQXNlLEVBQUF0ZSxFQUFBc2QsRUFBQWUsR0FBQUUsRUFBQXZlLEVBQUEsS0FBQXdlLEVBQUF4ZSxFQUFBc2QsRUFBQWlCLEdBQUFFLEVBQUF6ZSxFQUFBLElBQUEwZSxHQUFBMWUsRUFBQXNkLEVBQUFtQixHQUFBemUsRUFBQSxJQUFBMmUsRUFBQTNlLEVBQUFzZCxFQUFBb0IsR0FBQUUsRUFBQTVlLEVBQUEsSUFBQTZlLEVBQUE3ZSxFQUFBc2QsRUFBQXNCLEdBQUFFLEVBQUE5ZSxFQUFBLElBQUErZSxFQUFBL2UsRUFBQXNkLEVBQUF3QixHQUFBRSxFQUFBaGYsRUFBQSxLQUFBaWYsRUFBQWpmLEVBQUFzZCxFQUFBMEIsR0FBQUUsRUFBQWxmLEVBQUEsR0FBQW1mLEVBQUFuZixFQUFBc2QsRUFBQTRCLEdBQUFFLEVBQUFwZixFQUFBLEtBQUFxZixFQUFBcmYsRUFBQXNkLEVBQUE4QixHQUFBRSxFQUFBdGYsRUFBQSxJQUFBdWYsRUFBQXZmLEVBQUFzZCxFQUFBZ0MsR0FBQUUsRUFBQXhmLEVBQUEsTUFBQXlmLEdBQUF6ZixFQUFBc2QsRUFBQWtDLEdBQUF4ZixFQUFBLEtBQUEwZixHQUFBMWYsRUFBQXNkLEVBQUFtQyxHQUFBemYsRUFBQSxLQUFBMmYsRUFBQTNmLEVBQUFzZCxFQUFBb0MsR0FBQUUsRUFBQTVmLEVBQUEsSUFBQTZmLEVBQUE3ZixFQUFBc2QsRUFBQXNDLEdBQUFFLEVBQUE5ZixFQUFBLElBQUErZixFQUFBL2YsRUFBQXNkLEVBQUF3QyxHQUFBRSxFQUFBaGdCLEVBQUEsS0FBQWlnQixFQUFBamdCLEVBQUFzZCxFQUFBMEMsR0FBQUUsRUFBQWxnQixFQUFBLEtBQUFtZ0IsRUFBQW5nQixFQUFBc2QsRUFBQTRDLEdBNEJBaEksRUFBUzFYLE9BQUE2YyxFQUFBLGVBQWEsTUFDdEIrQyxFQUFBbEksRUFBQWtJLFNBQ0FDLEVBQUFuSSxFQUFBbUksU0FFQUMsR0FBQUYsRUFFQWxELEdBRUEsU0FBQXFELEdBR0EsUUFBQXJELEtBQ0EsR0FBQTFSLEdBQUEsT0FBQStVLEtBQUFDLE1BQUFqVixLQUFBa1YsWUFBQWxWLElBS0EsT0FIQUMsR0FBQUcsT0FDQStVLE1BQUEsTUFFQWxWLEVBZ0NBLE1BeENFaEwsUUFBQTJjLEVBQUEsR0FBU0QsRUFBQXFELEdBV1hyRCxFQUFBeUQseUJBQUEsU0FBQXpJLEdBSUEsT0FDQXdJLE1BQUEsSUFBQUUsRUFKQTFJLEVBQUF3SSxRQUtBdkksT0FKQUQsRUFBQUMsT0FLQTBJLE9BSkEzSSxFQUFBMkksV0FTQTNELEVBQUExYixVQUFBc2YsT0FBQSxXQUNBLE1BQVd0Z0IsUUFBQTZjLEVBQUEsZUFBYWdELEdBQ3hCOWYsTUFBQWdMLEtBQUFJLE1BQUErVSxNQUNBSyxTQUFBeFYsS0FBQXZKLE1BQUErZSxZQVVBN0QsRUFBQThELGNBQ0E3SSxXQUFBOEksR0FDQUosV0FBQUksSUFFQS9ELEdBQ0VHLEVBQUEsV0FFRjZELEdBQUEsU0FBQVIsR0FDQSxJQUFBQSxFQUVBLFNBQUFTLE9BQUEscU5BSUFDLEdBQUEsV0FDQSxnQkFBQUMsR0FDQSxHQUFBQyxHQUFBLFNBQUF0ZixHQUNBLE1BQWF4QixRQUFBNmMsRUFBQSxlQUFhaUQsR0FBQSxjQUFBSSxHQUUxQixNQURBUSxJQUFBUixHQUNlbGdCLE9BQUE2YyxFQUFBLGVBQWFnRSxFQUFlN2dCLE9BQUEyYyxFQUFBLElBQzNDdUQsU0FDUzFlLE1BS1QsT0FEQXNmLEdBQUFDLFlBQUEsY0FBQUYsRUFBQUUsYUFBQUYsRUFBQXBRLE1BQUEsSUFDQXFRLElBSUFFLEdBQUEsU0FBQXRKLEdBQ0EsR0FBQXdJLEdBQUF4SSxFQUFBd0ksTUFDQW5nQixFQUFBMlgsRUFBQTNYLE1BQ0FraEIsRUFBQXZKLEVBQUF1SixtQkFDQUMsRUFBQW5oQixHQUFBa2hCLEdBQUFmLEVBQUEvRyxPQUNBQSxFQUFBK0csRUFBQS9HLEtBQUErSCxFQUNBLE9BQUFoQixHQUFBL0gsUUFBQWdCLEtBQUErRyxFQUFBL0csUUFHQWdJLEdBRUEsU0FBQXBCLEdBR0EsUUFBQW9CLEtBQ0EsR0FBQW5XLEdBQUEsT0FBQStVLEtBQUFDLE1BQUFqVixLQUFBa1YsWUFBQWxWLElBd0ZBLE9BdEZBQyxHQUFBRyxPQUNBZ08sS0FBQTZILEdBQUFoVyxFQUFBeEosT0FDQTRmLFlBQUEsR0FHQXBXLEVBQUFxVyxXQUFBLFNBQUFsSSxFQUFBbUksR0FDQSxNQUFBdFcsR0FBQUssVUFDQThOLFFBQ09tSSxJQUdQdFcsRUFBQXVXLHFCQUFBLFNBQUFILEVBQUFFLEdBQ0EsTUFBQXRXLEdBQUFLLFVBQ0ErVixjQUNPRSxJQUdQdFcsRUFBQXdXLFlBQUEsV0FDQSxNQUFBeFcsR0FBQXhKLE1BQUFpZ0IsU0FBQSxPQUdBelcsRUFBQTBXLGFBQUEsV0FDQSxNQUFBMVcsR0FBQXhKLE1BQUFpZ0IsU0FBQXpXLEVBQUFHLE1BQUFnTyxPQUdBbk8sRUFBQTJXLG1CQUFBLFdBQ0EsTUFBQTNXLEdBQUE0VyxhQUFBNVcsRUFBQXhKLE1BQUEwZSxNQUFBL0csUUFBQSxJQUdBbk8sRUFBQTZXLHNCQUFBLFNBQUExSSxHQUNBLEdBQUF6QixHQUFBMU0sRUFBQXhKLE1BQ0FpZ0IsRUFBQS9KLEVBQUErSixTQUNBdkIsRUFBQXhJLEVBQUF3SSxLQUNBeEksR0FBQW9LLDRCQUdBM0ksRUFBQStHLEVBQUE3RixpQkFBQXJQLEVBQUFHLE1BQUFnTyxTQUdBLE9BQUFBLEVBQ0FzSSxFQUFBLE1BRUF6VyxFQUFBcVcsV0FBQWxJLEVBQUEsV0FDQSxNQUFBc0ksR0FBQXRJLE1BS0FuTyxFQUFBK1csbUJBQUEsU0FBQUMsRUFBQUMsR0FDQSxHQUFBdkssR0FBQTFNLEVBQUF4SixNQUNBOFgsRUFBQTVCLEVBQUE0QixPQUNBWSxFQUFBeEMsRUFBQXdDLElBRUEsT0FBQVosS0FJQVksRUFBQThILEVBQUFDLElBR0FqWCxFQUFBNFcsYUFBQSxTQUFBTSxFQUFBQyxPQUNBLEtBQUFBLElBQ0FBLEdBQUEsRUFHQSxJQUFBekssR0FBQTFNLEVBQUF4SixNQUNBNGdCLEVBQUExSyxFQUFBMEssT0FDQVgsRUFBQS9KLEVBQUErSixRQUVBelcsR0FBQXFXLFdBQUFhLEVBQUEsV0FDQUMsR0FBQUMsSUFDQVgsRUFBQVMsR0FFQWxYLEVBQUF1VyxzQkFBQSxhQUNBLE1BQUF2VyxHQUFBdVcsc0JBQUEsU0FNQXZXLEVBQUFxWCxjQUFBLFdBQ0FyWCxFQUFBSyxVQUNBOE4sS0FBQTZILEdBQUFoVyxFQUFBeEosVUFJQXdKLEVBNkJBLE1BeEhFaEwsUUFBQTJjLEVBQUEsR0FBU3dFLEVBQUFwQixHQThGWG9CLEVBQUFuZ0IsVUFBQXNoQixtQkFBQSxTQUFBQyxHQUNBLEdBQUE3SyxHQUFBM00sS0FBQXZKLE1BQ0EwZSxFQUFBeEksRUFBQXdJLE1BQ0FuZ0IsRUFBQTJYLEVBQUEzWCxNQUNBa2hCLEVBQUF2SixFQUFBdUosa0JBRUFzQixHQUFBeGlCLFdBQUF3aUIsRUFBQXJDLE1BQUF2SSxTQUFBdUksRUFBQXZJLFFBQUE0SyxFQUFBdEIsd0JBQ0FsVyxLQUFBc1csV0FBQUwsR0FBQWpXLEtBQUF2SixTQUlBMmYsRUFBQW5nQixVQUFBc2YsT0FBQSxXQUNBLE1BQUF2VixNQUFBdkosTUFBQStlLFNBQStCdmdCLE9BQUEyYyxFQUFBLE1BQVc1UixLQUFBSSxPQUMxQytVLE1BQUFuVixLQUFBdkosTUFBQTBlLE1BQ0FtQixXQUFBdFcsS0FBQXNXLFdBQ0FFLHFCQUFBeFcsS0FBQXdXLHFCQUNBQyxZQUFBelcsS0FBQXlXLFlBQ0FFLGFBQUEzVyxLQUFBMlcsYUFDQVcsY0FBQXRYLEtBQUFzWCxjQUNBVixtQkFBQTVXLEtBQUE0VyxtQkFDQUUsc0JBQUE5VyxLQUFBOFcsc0JBQ0FFLG1CQUFBaFgsS0FBQWdYLG1CQUNBSCxhQUFBN1csS0FBQTZXLGlCQUlBVCxHQUNFdEUsRUFBQSxXQUNGUixHQUFBdUUsS0FBQU8sSUFPQXFCLElBTFd4aUIsT0FBQTRjLEVBQUEsWUFBV0EsRUFBQSxPQUFRQSxFQUFBLE9BQVFBLEVBQUEsT0FBUTVjLE9BQUE0YyxFQUFBLFlBQVU3TSxRQU94RCxTQUFBZ1EsR0FHQSxRQUFBeUMsS0FDQSxjQUFBekMsS0FBQUMsTUFBQWpWLEtBQUFrVixZQUFBbFYsS0F3QkEsTUEzQkUvSyxRQUFBMmMsRUFBQSxHQUFTNkYsRUFBQXpDLEdBTVh5QyxFQUFBeGhCLFVBQUFzZixPQUFBLFdBQ0EsR0FBQTVJLEdBQUEzTSxLQUFBdkosTUFDQWloQixFQUFBL0ssRUFBQStLLFNBQ0FDLEVBQUFoTCxFQUFBZ0wsa0JBQ0FDLEVBQWUzaUIsT0FBQTJjLEVBQUEsR0FBTWpGLEdBQUEsZ0NBRXJCLE9BQUEzTSxNQUFBdkosTUFBQW9oQixLQUE2QjVpQixPQUFBNmMsRUFBQSxlQUFjRyxFQUFBNkYsRUFBYTdpQixPQUFBMmMsRUFBQSxNQUFXZ0csR0FDbkVELG9CQUNBSSxJQUFBTCxLQUNVemlCLE9BQUE2YyxFQUFBLGVBQWEsUUFBVTdjLE9BQUEyYyxFQUFBLE1BQVdnRyxHQUM1Q0csSUFBQUwsTUFRQUQsRUFBQWhDLGNBQ0FvQyxTQUFBbkMsSUFFQStCLEdBQ0UzRixFQUFBLGdCQUVGa0csR0FBQSxTQUFBckwsR0FDQSxHQUFBd0ksR0FBQXhJLEVBQUF3SSxNQUNBbmdCLEVBQUEyWCxFQUFBM1gsTUFDQXVaLEVBQUE1QixFQUFBNEIsT0FDQTBKLEVBQUF0TCxFQUFBc0wsYUFDQUMsRUFBQXZMLEVBQUF1TCxXQUNBQyxFQUFBeEwsRUFBQXdMLFVBQ0FDLEVBQUEsT0FBQXBqQixFQUNBb1osRUFBQStHLEVBQUEvRyxLQUFBcFosRUFFQSxPQUFBbWpCLEdBQ0FBLEVBQUFDLEVBQUEsS0FBQWhLLEVBQUE2SixHQUdBRyxFQUNBRixFQUdBL0MsRUFBQS9ILFFBQUFnQixHQUFBK0csRUFBQTVHLE9BQUFILEVBQUFHLEdBQUEwSixHQUdBSSxHQUFBLFNBQUFyakIsRUFBQXlCLEdBQ0EsR0FBQTBlLEdBQUExZSxFQUFBMGUsTUFDQW1ELEVBQUE3aEIsRUFBQTZoQixRQUNBQyxFQUFBOWhCLEVBQUE4aEIsUUFDQUMsRUFBQS9oQixFQUFBK2hCLFlBQ0FDLEVBQUFoaUIsRUFBQWdpQixjQUNBQyxFQUFBamlCLEVBQUFpaUIsZUFDQUMsRUFBQWxpQixFQUFBa2lCLGVBQ0FDLEVBQUFuaUIsRUFBQW1pQixrQkFFQSxPQUFBekQsR0FBQS9ILFFBQUFwWSxHQVNBc2pCLEdBQUFuRCxFQUFBNUgsUUFBQXZZLEVBQUFtZ0IsRUFBQXpILFNBQUF5SCxFQUFBL0csS0FBQWtLLE1BQUFHLEdBQUF0RCxFQUFBNUgsUUFBQXZZLEVBQUFtZ0IsRUFBQXpILFNBQUF5SCxFQUFBL0csU0FDQXNLLEVBR0FILEdBQUFwRCxFQUFBM0gsU0FBQXhZLEVBQUFtZ0IsRUFBQTFILFdBQUEwSCxFQUFBL0csS0FBQW1LLE1BQUFDLEdBQUFyRCxFQUFBM0gsU0FBQXhZLEVBQUFtZ0IsRUFBQTFILFdBQUEwSCxFQUFBL0csU0FDQXVLLEVBR0EsR0FmQXhELEVBQUExRyxPQUFBelosR0FDQSxHQUdBNGpCLEdBY0FDLEdBRUEsU0FBQTdELEdBR0EsUUFBQTZELEtBQ0EsR0FBQTVZLEdBQUEsT0FBQStVLEtBQUFDLE1BQUFqVixLQUFBa1YsWUFBQWxWLElBc0dBLE9BcEdBQyxHQUFBRyxNQUFBeVksRUFBQUMsWUFBQTdZLEVBQUF4SixPQUVBd0osRUFBQThZLGNBQUEsU0FBQS9qQixHQUNBLEdBQUEyWCxHQUFBMU0sRUFBQXhKLE1BQ0FpZ0IsRUFBQS9KLEVBQUErSixTQUNBc0MsRUFBQXJNLEVBQUFxTSxVQUNBQyxFQUFBdE0sRUFBQXNNLFFBQ0E5RCxFQUFBeEksRUFBQXdJLE1BQ0E1RyxFQUFBNUIsRUFBQTRCLE9BQ0EySyxFQUFBdk0sRUFBQXVNLE9BRUEsU0FBQWxrQixFQU9BLFlBTkEsT0FBQWlMLEVBQUF4SixNQUFBekIsTUFDQWlMLEVBQUFLLFNBQUF1WSxFQUFBQyxZQUFBN1ksRUFBQXhKLFFBQ1N1aUIsR0FBQUMsR0FDVEEsSUFNQSxJQUFBRSxHQUFBaEUsRUFBQS9HLEtBQUFuTyxFQUFBRyxNQUFBcEwsT0FDQW9rQixFQUFBakUsRUFBQTlHLE1BQUFyWixFQUFBdVosR0FDQThLLEVBQUFoQixHQUFBZSxFQUFBblosRUFBQXhKLE1BRUF3SixHQUFBSyxVQUNBK1ksUUFDQUMsYUFBQXRrQixFQUNBQSxNQUFBcWtCLEVBQUFELEVBQUFELEdBQ08sV0FDUEUsR0FBQWxFLEVBQUEzRyxRQUFBNEssRUFBQUQsSUFDQXpDLEVBQUEwQyxHQUdBQyxHQUFBSCxHQUNBQSxFQUFBRSxFQUFBQyxNQUtBcFosRUFBQXNaLFdBQUEsU0FBQUMsR0FDQXZaLEVBQUF4SixNQUFBZ2pCLFdBQ0FELEVBQUFFLGlCQUNBRixFQUFBRyxrQkFFQTFaLEVBQUE4WSxjQUFBUyxFQUFBaGpCLE9BQUF4QixPQUVBaUwsRUFBQXhKLE1BQUFtakIsUUFDQTNaLEVBQUF4SixNQUFBbWpCLE9BQUFKLEtBS0F2WixFQUFBNFcsYUFBQSxTQUFBMkMsR0FDQSxHQUFBN00sR0FBQTFNLEVBQUF4SixNQUNBMGUsRUFBQXhJLEVBQUF3SSxNQUNBNUcsRUFBQTVCLEVBQUE0QixPQUNBc0wsRUFBQWxOLEVBQUFrTixjQUNBQyxFQUFBM0UsRUFBQTlHLE1BQUFtTCxFQUFBaGpCLE9BQUF4QixNQUFBdVosRUFFQXNMLElBQ0FBLEVBQUFMLEdBR0F2WixFQUFBSyxVQUNBZ1osYUFBQUUsRUFBQWhqQixPQUFBeEIsTUFDQXFrQixNQUFBaEIsR0FBQXlCLEVBQUE3WixFQUFBeEosVUFJQXdKLEVBQUE4WixZQUFBLFNBQUFQLEdBQ0FBLEVBQUFHLGtCQUNBSCxFQUFBRSxpQkFFQXpaLEVBQUF4SixNQUFBZ2pCLFVBQ0F4WixFQUFBK1osV0FBQVIsSUFJQXZaLEVBQUFnYSxlQUFBLFNBQUFULEdBQ0EsVUFBQUEsRUFBQXprQixNQUNBa0wsRUFBQXhKLE1BQUF5akIsbUJBSUFqYSxFQUFBOFksY0FBQVMsRUFBQWhqQixPQUFBeEIsT0FIQWlMLEVBQUErWixXQUFBUixLQVFBdlosRUFBQStaLFdBQUEsU0FBQVIsR0FDQSxHQUFBN00sR0FBQTFNLEVBQUF4SixNQUNBMFEsRUFBQXdGLEVBQUF4RixTQUNBSCxFQUFBMkYsRUFBQTNGLE9BRUFHLElBQ0FILEVBQUF3UyxJQUlBdlosRUEySkEsTUFwUUVoTCxRQUFBMmMsRUFBQSxHQUFTaUgsRUFBQTdELEdBNEdYNkQsRUFBQTVpQixVQUFBc2hCLG1CQUFBLFNBQUFDLEdBQ0F4WCxLQUFBdkosTUFBQTBlLE1BQUEzRyxRQUFBeE8sS0FBQXZKLE1BQUF6QixNQUFBd2lCLEVBQUF4aUIsUUFBQXdpQixFQUFBakosU0FBQXZPLEtBQUF2SixNQUFBOFgsUUFBQWlKLEVBQUFjLFVBQUF0WSxLQUFBdkosTUFBQTZoQixTQUFBZCxFQUFBZSxVQUFBdlksS0FBQXZKLE1BQUE4aEIsU0FBQWYsRUFBQVUsYUFBQWxZLEtBQUF2SixNQUFBeWhCLFlBQUFWLEVBQUFyQyxRQUFBblYsS0FBQXZKLE1BQUEwZSxPQUNBblYsS0FBQU0sU0FBQXVZLEVBQUFDLFlBQUE5WSxLQUFBdkosU0FJQW9pQixFQUFBNWlCLFVBQUFzZixPQUFBLFdBQ0EsR0FBQTVJLEdBQUEzTSxLQUFBdkosTUFDQTBqQixFQUFBeE4sRUFBQXdOLGtCQUVBaFQsR0FEQXdGLEVBQUFxTSxVQUNBck0sRUFBQXhGLFVBTUFpVCxHQUxBek4sRUFBQThMLGNBQ0E5TCxFQUFBdU4sbUJBQ0F2TixFQUFBNkwsWUFDQTdMLEVBQUF1TCxXQUNBdkwsRUFBQTRCLE9BQ0E1QixFQUFBeU4scUJBQ0FDLEVBQUExTixFQUFBME4sV0FHQVosR0FGQTlNLEVBQUFpTSxtQkFDQWpNLEVBQUFzTCxhQUNBdEwsRUFBQThNLFVBQ0FhLEVBQUEzTixFQUFBMk4sYUFFQXpDLEdBREFsTCxFQUFBd0wsVUFDQXhMLEVBQUFrTCxNQVFBMEMsR0FQQTVOLEVBQUEyTCxRQUNBM0wsRUFBQStMLGVBQ0EvTCxFQUFBNEwsUUFDQTVMLEVBQUFnTSxlQUNBaE0sRUFBQWlOLE9BQ0FqTixFQUFBc00sUUFDQXRNLEVBQUEzRixRQUNBMkYsRUFBQTROLE1BQ0E1QyxFQUFBaEwsRUFBQWdMLGtCQUNBNkMsRUFBQTdOLEVBQUE2TixtQkFJQUMsR0FIQTlOLEVBQUF3SSxNQUNBeEksRUFBQTNYLE1BQ0EyWCxFQUFBa04sY0FDZ0I1a0IsT0FBQTJjLEVBQUEsR0FBTWpGLEdBQUEsOFlBRXRCK04sRUFBQTFhLEtBQUFJLE1BQ0FrWixFQUFBb0IsRUFBQXBCLGFBQ0FELEVBQUFxQixFQUFBckIsTUFDQXNCLEdBQ0FDLGVBQUFuRCxHQUNBb0QsWUFDQWhELEtBQUE0QixFQUFBNUIsRUFBQSxLQUNBMEMsS0FBQWQsRUFBQWMsRUFBQSxLQUNBNUMsa0JBQUE4QixFQUFBOUIsTUFBQWpDLEdBQ0FvRixVQUFBckIsR0FJQUEsS0FDQWtCLEVBQUFSLEVBQUEsYUFBeURsbEIsT0FBQTZjLEVBQUEsZUFBY1MsRUFBQXVGLEVBQWdCN2lCLE9BQUEyYyxFQUFBLElBQ3ZGdFUsU0FBQTZjLEdBQ09DLEdBQXdCbmxCLE9BQUE2YyxFQUFBLGVBQWNPLEVBQUF5RixHQUM3QzNRLFdBQ0FILFFBQUFoSCxLQUFBZ2EsWUFDUy9rQixPQUFBNmMsRUFBQSxlQUFjSyxFQUFBMkYsRUFBSSxTQUFBd0MsRUFBQSxPQUczQixJQUFBeEUsR0FBQTBFLEVBRUFLLEVBQXFCNWxCLE9BQUEyYyxFQUFBLE1BQVcrSSxFQUFBTixFQUVoQyxPQUFXcGxCLFFBQUE2YyxFQUFBLGVBQWFnRSxFQUFlN2dCLE9BQUEyYyxFQUFBLElBQ3ZDNUssUUFBQWhILEtBQUErWixZQUNBVixVQUNBMEIsV0FBQTFCLEVBQ0EyQixXQUFBaGIsS0FBQWlhLGVBQ0FMLE9BQUE1WixLQUFBdVosV0FDQXBTLFdBQ0FuUyxNQUFBc2tCLEdBQ0ttQixHQUNMdkIsWUFBQXhELEdBQ0FnQixTQUFBMVcsS0FBQTZXLGFBQ0F3RCxXQUFBUSxNQXFDQWhDLEVBQUFwRCxjQUNBdE8sVUFBQSxFQUNBOFEsYUFBQSxVQUNBQyxXQUFBLEdBQ0FsakIsTUFBQSxHQUFBZ1EsTUFDQW1ULGNBQUF6QyxHQUNBbkgsV0FBQW1ILEdBQ0EyRSxlQUFBM0UsR0FDQStELFVBQUEsRUFDQTVCLFNBQUFuQyxHQUNBNEUsYUFBQSxRQUNBSixvQkFBQSxFQUNBdEIsbUJBQUEsc0JBQ0FJLFdBQUEsRUFDQVksV0FBQWxFLEdBQ0F1RCxZQUFBdkQsR0FDQThDLGFBQUEsRUFDQUMsZUFBQSxFQUNBUyxZQUFBeEQsR0FDQW1FLGtCQUFBbkUsR0FDQTZDLFFBQUEsYUFDQUQsUUFBQSxhQUNBSyxlQUFBLHlDQUNBRCxlQUFBLHdDQUNBOEIsbUJBQXdCL0gsRUFBQXFGLEVBQ3hCc0MsdUJBQ0FELGtCQUFBLE1BQ0FJLFNBQUE3RSxHQUNBaUMsbUJBQUEsR0FHQWtCLEVBQUFDLFlBQUEsU0FBQXJpQixHQUNBLE9BQ0F6QixNQUFBeUIsRUFBQXpCLE1BQ0Fza0IsYUFBQXRCLEdBQUF2aEIsR0FDQTRpQixNQUFBaEIsR0FBQTVoQixFQUFBMGUsTUFBQS9HLEtBQUEzWCxFQUFBekIsT0FBQXlCLEtBSUFvaUIsR0FDRS9HLEVBQUEsZUFFRm1KLEdBQUFwRixLQUFBZ0QsSUFFQXFDLEdBQUEsU0FBQXZPLEdBQ0EsR0FnQkErTixHQUFBUyxFQUFBQyxFQWhCQTVGLEVBQUE3SSxFQUFBNkksU0FDQWpVLEVBQUFvTCxFQUFBcEwsUUFDQThaLEVBQUExTyxFQUFBME8sVUFDQUMsRUFBQTNPLEVBQUEyTyxTQUNBQyxFQUFBNU8sRUFBQTRPLFVBQ0F0QyxFQUFBdE0sRUFBQXNNLFFBQ0F1QyxFQUFBN08sRUFBQTZPLFdBQ0FDLEVBQUE5TyxFQUFBOE8sUUFDQUMsRUFBQS9PLEVBQUErTyxZQUNBQyxFQUFBaFAsRUFBQWdQLFdBQ0FDLEVBQUFqUCxFQUFBaVAsV0FDQTVDLEVBQUFyTSxFQUFBcU0sVUFDQTZDLEVBQUFsUCxFQUFBa1AsZ0JBQ0FDLEVBQUFuUCxFQUFBbVAsU0FDQXJCLEVBQWN4bEIsT0FBQTJjLEVBQUEsR0FBTWpGLEdBQUEsMktBSXBCLE9BQVMxWCxRQUFBNmMsRUFBQSxlQUFjZSxFQUFBaUYsRUFBUTdpQixPQUFBMmMsRUFBQSxJQUMvQm1LLEtBQUEsU0FDQWhWLFFBQUF3VSxFQUNBaGEsU0FDQXlhLE1BQWE1SSxJQUFVN1IsRUFBQTBhLFlBQUF2QixLQUE2QkEsRUFBQW5aLEVBQUEyYSxnQkFBQUosRUFBQXBCLE1BRWpERCxHQUFVeGxCLE9BQUE2YyxFQUFBLGVBQWN3QixFQUFBd0UsR0FDM0J0aEIsT0FBQSxTQUNBNmtCLGNBQ01wbUIsT0FBQTZjLEVBQUEsZUFBY21CLEVBQUE2RSxHQUNwQnRDLFdBQ0E5TyxVQUFlME0sSUFBVTdSLEVBQUE0YSxRQUFBaEIsS0FBeUJBLEVBQUE1WixFQUFBMmEsZ0JBQUFKLEVBQUFYLE1BQzVDbG1CLE9BQUE2YyxFQUFBLGVBQWNpQixFQUFBK0UsR0FDcEJ2VyxTQUNBdEcsS0FBQStkLEdBQUE2QyxFQUFBdGEsRUFBQTZhLGtCQUFBMUcsR0FDQTJHLE9BQWNqSixJQUFVN1IsRUFBQSthLGNBQUFsQixLQUErQkEsRUFBQTdaLEVBQUFnYix1QkFBQXZELEVBQUFvQyxFQUFBN1osRUFBQWliLG9CQUFBeEQsR0FBQTZDLEVBQUFULE1BRXBEcEMsR0FBZS9qQixPQUFBNmMsRUFBQSxlQUFjYSxFQUFBbUYsR0FDaEMzYixNQUFBLFVBQ0E2SyxRQUFBaVMsR0FDRzBDLElBQUEzQyxHQUFBNkMsR0FBZ0Q1bUIsT0FBQTZjLEVBQUEsZUFBY2EsRUFBQW1GLEdBQ2pFM2IsTUFBQSxVQUNBNkssUUFBQXdVLEdBQ0dJLEdBQWUzbUIsT0FBQTZjLEVBQUEsZUFBY2EsRUFBQW1GLEdBQ2hDM2IsTUFBQSxVQUNBNkssUUFBQXVVLEdBQ0dHLEdBQWdCem1CLE9BQUE2YyxFQUFBLGVBQWNhLEVBQUFtRixHQUNqQzNiLE1BQUEsVUFDQTZLLFFBQUFzVSxHQUNHRyxLQUVIUCxJQUFBbEYsWUFBQSxhQWdCQSxJQUdBcmIsSUFBYTFGLE9BQUFpZSxFQUFBLGVBQ2IrSSxZQUNBUSxTQUxBLElBTUFDLFVBTEEsS0FPQVAsUUFDQTdnQixNQVRBLElBVUFvaEIsVUFUQSxJQVVBQyxTQUFBLFNBQ0FDLGlCQUNBamdCLFFBQUEsSUFHQXVmLGdCQUNBUSxVQWZBLEtBaUJBTixlQUdBemdCLGVBQUEsY0FFQTRnQix1QkFDQUssaUJBQ0FyaEIsWUFBQSxTQUdBaWhCLG1CQUNBSSxpQkFDQXJoQixZQUFBLFNBR0ErZ0Isa0JBR0FPLEdBQW9CNW5CLE9BQUFpZSxFQUFBLFlBQVV2WSxJQUM5QitLLEtBQUEsb0JBQ0N3VixJQUVENEIsR0FFQSxTQUFBOUgsR0FHQSxRQUFBOEgsS0FDQSxHQUFBN2MsR0FBQSxPQUFBK1UsS0FBQUMsTUFBQWpWLEtBQUFrVixZQUFBbFYsSUF3RUEsT0F0RUFDLEdBQUFHLE9BQ0F5RyxNQUFBLEdBR0E1RyxFQUFBOGMsY0FBQSxTQUFBQyxHQUNBLE9BQWN4SixJQUFPd0osSUFDckIsWUFDQS9jLEVBQUEwVyxjQUVBLE1BRUEsU0FFQSxPQUlBcUcsRUFBQXRELGtCQUdBelosRUFBQTJXLG1CQUFBLFdBQ0EzVyxFQUFBeEosTUFBQStrQixZQUNBdmIsRUFBQXhKLE1BQUEra0IsY0FJQXZiLEVBQUE0RyxLQUFBLFdBQ0E1RyxFQUFBSyxVQUNBdUcsTUFBQSxJQUdBNUcsRUFBQXhKLE1BQUF3bUIsUUFDQWhkLEVBQUF4SixNQUFBd21CLFVBSUFoZCxFQUFBaWQsTUFBQSxXQUNBamQsRUFBQUssVUFDQXVHLE1BQUEsSUFHQTVHLEVBQUF4SixNQUFBc1EsU0FDQTlHLEVBQUF4SixNQUFBc1EsV0FJQTlHLEVBQUEwVyxhQUFBLFdBQ0ExVyxFQUFBaWQsUUFFQWpkLEVBQUF4SixNQUFBNmtCLFVBQ0FyYixFQUFBeEosTUFBQTZrQixZQUlBcmIsRUFBQXFYLGNBQUEsV0FDQXJYLEVBQUFpZCxRQUVBamQsRUFBQXhKLE1BQUE4a0IsV0FDQXRiLEVBQUF4SixNQUFBOGtCLGFBSUF0YixFQUFBd1csWUFBQSxXQUNBeFcsRUFBQWlkLFFBRUFqZCxFQUFBeEosTUFBQXdpQixTQUNBaFosRUFBQXhKLE1BQUF3aUIsV0FJQWhaLEVBd0dBLE1BbkxFaEwsUUFBQTJjLEVBQUEsR0FBU2tMLEVBQUE5SCxHQThFWDhILEVBQUExSCx5QkFBQSxTQUFBdlAsR0FFQSxNQUFBQSxHQUFBd1EsWUFFQXhQLE1BQUEsR0FJQSxNQUdBaVcsRUFBQTdtQixVQUFBc2YsT0FBQSxXQUNBLEdBQUE1SSxHQUFBM00sS0FBQXZKLE1BQ0F6QixFQUFBMlgsRUFBQTNYLE1BQ0F1WixFQUFBNUIsRUFBQTRCLE9BQ0FpSCxFQUFBN0ksRUFBQTZJLFNBR0F5QyxHQUZBdEwsRUFBQTJPLFNBQ0EzTyxFQUFBNE8sVUFDQTVPLEVBQUFzTCxjQUNBRSxFQUFBeEwsRUFBQXdMLFVBQ0FzRCxFQUFBOU8sRUFBQThPLFFBQ0FDLEVBQUEvTyxFQUFBK08sWUFDQUMsRUFBQWhQLEVBQUFnUCxXQUNBM0MsRUFBQXJNLEVBQUFxTSxVQUNBNEMsRUFBQWpQLEVBQUFpUCxXQUNBQyxFQUFBbFAsRUFBQWtQLGdCQUtBc0IsR0FKQXhRLEVBQUFzUSxPQUNBdFEsRUFBQTVGLFFBQ0E0RixFQUFBNk8sV0FDQTdPLEVBQUEwSixXQUNBMUosRUFBQXdRLGFBQ0FyQixFQUFBblAsRUFBQW1QLFNBQ0FyQixFQUFnQnhsQixPQUFBMmMsRUFBQSxHQUFNakYsR0FBQSxxT0FFdEIsT0FBVzFYLFFBQUE2YyxFQUFBLGVBQWNBLEVBQUEsU0FBUSxLQUFRN2MsT0FBQTZjLEVBQUEsZUFBYW1KLEdBQWtCaG1CLE9BQUEyYyxFQUFBLElBQ3hFNWMsUUFDQXVaLFNBQ0F2SCxRQUFBaEgsS0FBQTZHLEtBRUFvUixlQUNBRSxZQUNBYSxhQUNLeUIsSUFBV3hsQixPQUFBNmMsRUFBQSxlQUFhK0ssR0FBZ0I1bkIsT0FBQTJjLEVBQUEsSUFDN0NrSyxXQUNBalYsS0FBQTdHLEtBQUFJLE1BQUF5RyxLQUNBd1UsVUFBQXJiLEtBQUErYyxjQUNBOUQsUUFBQWpaLEtBQUF5VyxZQUNBNkUsU0FBQXRiLEtBQUEyVyxhQUNBNEUsVUFBQXZiLEtBQUFzWCxjQUNBa0UsV0FBQXhiLEtBQUE0VyxtQkFDQStFLGFBQ0FDLGFBQ0FILFVBQ0FDLGNBQ0ExQyxZQUNBNkMsa0JBQ0FyRyxZQUNLMkgsTUF3QkxMLEVBQUFySCxjQUNBd0MsaUJBQUF2QyxHQUNBMWdCLE1BQUEsR0FBQWdRLE1BQ0FtVCxjQUFBekMsR0FDQStGLFFBQUEsS0FDQUMsWUFBQSxTQUNBQyxXQUFBLFFBQ0FDLFdBQUEsUUFDQTVDLFdBQUEsRUFDQTZDLGlCQUFBLEVBQ0F0TixXQUFBbUgsR0FDQTRGLGFBQUE1RixHQUNBNkYsY0FBQTdGLEdBQ0F1RCxZQUFBdkQsR0FDQXVILFdBQUF2SCxHQUNBM08sWUFBQTJPLEdBQ0E4RixlQUFBOUYsR0FDQXlILGdCQUFBekgsR0FDQVcsWUFBQSxHQUVBeUcsR0FDRWhMLEVBQUEsZUFFRnNMLEdBQUEsU0FBQXpRLEdBQ0EsR0FBQTZJLEdBQUE3SSxFQUFBNkksU0FDQTlPLEVBQUFpRyxFQUFBakcsVUFDQW5GLEVBQUFvTCxFQUFBcEwsUUFDQWtaLEVBQWN4bEIsT0FBQTJjLEVBQUEsR0FBTWpGLEdBQUEsa0NBRXBCLE9BQVMxWCxRQUFBNmMsRUFBQSxlQUFjZ0MsRUFBQWdFLEVBQVM3aUIsT0FBQTJjLEVBQUEsSUFDaENsTCxVQUFlME0sSUFBVTdSLEVBQUE4YixRQUFBM1csSUFDdEIrVCxHQUFBakYsR0FTSDRILElBQUEzSCxjQUNBL08sVUFBQSxHQUVBLElBQUE0VyxJQUFBLFNBQUExaUIsR0FDQSxNQUFTOFksTUFDVDJKLFNBQ0F2aUIsUUFBQSxPQUNBQyxjQUFBLFNBQ0FVLFdBQUEsYUFDQUUsZUFBQSxTQUNBSyxPQUFBLElBQ0FvQixnQkFBQSxVQUFBeEMsRUFBQU8sUUFBQXlHLEtBQUFoSCxFQUFBTyxRQUFBaUIsUUFBQWYsS0FBQVQsRUFBQU8sUUFBQUMsV0FBQSxZQUlBbWlCLEdBQXNCM0osSUFBWTBKLElBQ2xDNVgsS0FBQSxzQkFDQzBYLElBRURJLEdBQUEsU0FBQTdRLEdBQ0EsR0FNQStOLEdBTkFuWixFQUFBb0wsRUFBQXBMLFFBQ0FrYyxFQUFBOVEsRUFBQThRLFNBQ0FDLEVBQUEvUSxFQUFBK1EsTUFDQWhYLEVBQUFpRyxFQUFBakcsVUFDQStULEVBQWN4bEIsT0FBQTJjLEVBQUEsR0FBTWpGLEdBQUEsMENBSXBCLE9BQVMxWCxRQUFBNmMsRUFBQSxlQUFja0MsRUFBQThELEVBQVk3aUIsT0FBQTJjLEVBQUEsSUFDbkNsTCxVQUFlME0sSUFBVTdSLEVBQUFvYyxXQUFBalgsR0FBQWdVLEtBQXdDQSxFQUFBblosRUFBQXFjLG9CQUFBSCxFQUFBL0MsS0FDOURELEdBQUFpRCxHQVVIRixJQUFBL0gsY0FDQS9PLFVBQUEsR0FFQSxJQUFBbVgsSUFBQSxTQUFBampCLEdBQ0EsT0FDQStpQixZQUNBMWhCLE9BQUEsVUFDQUUsTUFBQSw2QkFFQXloQixvQkFDQXpoQixNQUFBdkIsRUFBQU8sUUFBQTJpQixPQUFBQyxTQUlBQyxHQUFzQnBLLElBQVlpSyxJQUNsQ25ZLEtBQUEsNEJBQ0M4WCxJQUVEUyxHQUFBLFNBQUF0UixHQUNBLEdBQUF5QixHQUFBekIsRUFBQXlCLEtBQ0ErRyxFQUFBeEksRUFBQXdJLE1BQ0FvRCxFQUFBNUwsRUFBQTRMLFFBQ0FELEVBQUEzTCxFQUFBMkwsUUFDQUcsRUFBQTlMLEVBQUE4TCxjQUNBRCxFQUFBN0wsRUFBQTZMLFlBQ0EwRixFQUFBdlIsRUFBQXVSLGtCQUNBQyxFQUFBaEosRUFBQTFILFdBQUEwSCxFQUFBL0csT0FDQW1LLE1BQUFwRCxFQUFBL0csS0FBQW1LLEdBQ0FELEtBQUFuRCxFQUFBL0csS0FBQWtLLEdBRUFFLEdBQUFyRCxFQUFBM0gsU0FBQStLLEVBQUE0RixLQUNBNUYsRUFBQTRGLEdBR0ExRixHQUFBdEQsRUFBQTVILFFBQUErSyxFQUFBNkYsS0FDQTdGLEVBQUE2RixFQUdBLElBQUFDLEdBQUFqSixFQUFBL0csUUFDQWlRLEVBQUFsSixFQUFBL0csT0FlQSxLQWJBK0csRUFBQTNILFNBQUFZLEVBQUFtSyxLQUNBNkYsRUFBQTdGLEVBQ0E4RixFQUFBLE1BR0FsSixFQUFBNUgsUUFBQWEsRUFBQWtLLEtBQ0ErRixJQUNBQSxFQUFBL0YsR0FHQThGLEVBQUEsTUFHQUEsR0FBQUMsR0FBQSxDQVNBLEdBUkFELEdBQUFqSixFQUFBNUgsUUFBQTZRLEVBQUE5RixLQUNBOEYsRUFBQSxNQUdBQyxHQUFBbEosRUFBQTNILFNBQUE2USxFQUFBOUYsS0FDQThGLEVBQUEsTUFHQUQsRUFBQSxDQUNBLElBQUFGLEVBQUFFLEdBQ0EsTUFBQUEsRUFHQUEsR0FBQWpKLEVBQUFqSSxRQUFBa1IsRUFBQSxHQUdBLEdBQUFDLEVBQUEsQ0FDQSxJQUFBSCxFQUFBRyxHQUNBLE1BQUFBLEVBR0FBLEdBQUFsSixFQUFBakksUUFBQW1SLEdBQUEsSUFJQSxhQUtBQyxHQUFBLFNBQUEzUixHQUNBLEdBQUFwTCxHQUFBb0wsRUFBQXBMLFFBQ0FtRixFQUFBaUcsRUFBQWpHLFVBQ0E4TyxFQUFBN0ksRUFBQTZJLFNBQ0ErSSxFQUFBNVIsRUFBQTRSLFNBQ0FDLEVBQUE3UixFQUFBNlIsY0FDQSxPQUFTdnBCLFFBQUE2YyxFQUFBLGVBQWNtQyxFQUFBLGlCQUN2QnZOLFVBQWUwTSxJQUFVN1IsRUFBQWtkLG9CQUFBL1gsSUFDcEJ6UixPQUFBNmMsRUFBQSxlQUFjbUMsRUFBQSxlQUNuQmxmLElBQUF3cEIsRUFDQUcsY0FBQSxFQUNBQyxlQUFBLEVBQ0FDLFFBZEEsSUFlQXBKLFdBQ0FxSixZQUNBQyxNQUFBdmQsRUFBQSxjQUFBaWQsR0FDQU8sWUFBQXhkLEVBQUF5ZCxpQkFDQUMsS0FBQTFkLEVBQUEyZCxVQUNBQyxXQUFBNWQsRUFBQSx1QkFBQWlkLE9BYUFGLElBQUE3SSxjQUNBL08sY0FBQWdQLEdBRUEsSUFBQTBKLElBQUEsU0FBQXhrQixHQUNBLEdBQUF5a0IsR0FBQXprQixFQUFBMGtCLFlBQUFwcEIsT0FBQSxhQUNBNEcsU0F0Q0EsSUF1Q0F5aUIsT0FBQSxtQ0FFQSxPQUFTN0wsTUFDVCtLLHFCQUNBM2pCLFFBQUEsUUFDQXdDLFNBQUEsV0FDQWtpQixTQUNBbGlCLFNBQUEsV0FDQW9CLElBQUEsRUFDQWQsTUFBQSxFQUNBZSxLQUFBLElBR0E4Z0IsbUJBQ0FDLFdBQUEsWUFDQUMsVUFBQSxtQkFFQUMsb0JBQ0FGLFdBQUEsWUFDQUMsVUFBQSxvQkFFQVgsa0JBQ0FXLFVBQUEsZ0JBQ0FFLFdBQUFSLEdBRUFILFdBQ0FTLFVBQUEsaUJBRUFHLDRCQUNBSixXQUFBLFlBQ0FDLFVBQUEsbUJBQ0FFLFdBQUFSLEdBRUFVLDZCQUNBTCxXQUFBLFlBQ0FDLFVBQUEsa0JBQ0FFLFdBQUFSLE1BSUFXLEdBQXdCcE0sSUFBWXdMLElBQ3BDMVosS0FBQSw4QkFDQzRZLElBRUQyQixHQUFBLFNBQUF0VCxHQUNBLEdBQUFwTCxHQUFBb0wsRUFBQXBMLFFBQ0EzRyxFQUFBK1IsRUFBQS9SLE1BQ0FzbEIsRUFBQXZULEVBQUF1VCxhQUNBQyxFQUFBeFQsRUFBQXdULGNBQ0FDLEVBQUF6VCxFQUFBeVQsY0FDQUMsRUFBQTFULEVBQUEwVCxlQUNBQyxFQUFBM1QsRUFBQTJULGlCQUNBQyxFQUFBNVQsRUFBQTRULGlCQUNBcEwsRUFBQXhJLEVBQUF3SSxNQUNBcUosRUFBQTdSLEVBQUE2UixlQUNBZ0MsRUFBQSxRQUFBNWxCLEVBQUE2bEIsVUFFQUMsRUFBQSxXQUNBLE1BQUFQLEdBQUFoTCxFQUFBL0YsYUFBQThRLEdBQUEsU0FHQVMsRUFBQSxXQUNBLE1BQUFSLEdBQUFoTCxFQUFBOUYsaUJBQUE2USxHQUFBLFNBR0EsT0FBU2pyQixRQUFBNmMsRUFBQSxlQUFhLFdBQWM3YyxPQUFBNmMsRUFBQSxlQUFhLE9BQ2pEcEwsVUFBQW5GLEVBQUFxZixjQUNLM3JCLE9BQUE2YyxFQUFBLGVBQWNPLEVBQUF5RixHQUNuQjNRLFNBQUFtWixFQUNBdFosUUFBQTJaLEVBQ0FqYSxVQUFBbkYsRUFBQXNmLFlBQ0s1ckIsT0FBQTZjLEVBQUEsZUFBY0ssRUFBQTJGLEVBQUksS0FBQTBJLEVBQUFILEVBQUFELElBQWdEbnJCLE9BQUE2YyxFQUFBLGVBQWFrTyxJQUNwRnhCLGlCQUNBRCxTQUFBMkIsRUFBQVksV0FDQXBhLFVBQUFuRixFQUFBa2QscUJBQ0t4cEIsT0FBQTZjLEVBQUEsZUFBY2tDLEVBQUE4RCxHQUNuQnhQLE1BQUEsU0FDQUQsUUFBQSxTQUNHOE0sRUFBQTdFLHNCQUFBNFAsS0FBK0NqckIsT0FBQTZjLEVBQUEsZUFBY08sRUFBQXlGLEdBQ2hFM1EsU0FBQW9aLEVBQ0F2WixRQUFBMFosRUFDQWhhLFVBQUFuRixFQUFBc2YsWUFDSzVyQixPQUFBNmMsRUFBQSxlQUFjSyxFQUFBMkYsRUFBSSxLQUFBMEksRUFBQUosRUFBQUMsS0FBaURwckIsT0FBQTZjLEVBQUEsZUFBYSxPQUNyRnBMLFVBQUFuRixFQUFBd2YsWUFDRzVMLEVBQUEzRixjQUFBSSxJQUFBLFNBQUFDLEVBQUFtUixHQUNILE1BQVcvckIsUUFBQTZjLEVBQUEsZUFBY2tDLEVBQUE4RCxHQUN6Qi9pQixJQUFBaXNCLEVBQ0EzWSxRQUFBLFVBQ0EzQixVQUFBbkYsRUFBQTBmLFVBQ0twUixPQWdCTG9RLElBQUF4SyxjQUNBMkssY0FBQSxzQkFDQUMsZUFBQSx1QkFDQUMsa0JBQUEsRUFDQUMsa0JBQUEsRUFFQSxJQUFBVyxJQUFBLFNBQUF0bUIsR0FDQSxNQUFTOFksTUFDVGtOLGNBQ0E5bEIsUUFBQSxPQUNBYSxlQUFBLGdCQUNBRixXQUFBLFNBQ0FtTSxVQUFBaE4sRUFBQWlELFFBQUFDLEtBQUEsRUFDQXFqQixhQUFBdm1CLEVBQUFpRCxRQUFBQyxNQUVBMmdCLHFCQUNBbmpCLE1BQUEsT0FDQVUsT0FBQSxJQUVBNmtCLFlBQ0Foa0IsT0FBQSxFQUNBTyxnQkFBQXhDLEVBQUFPLFFBQUFDLFdBQUE0Z0IsTUFDQXdELFNBRUFwaUIsZ0JBQUF4QyxFQUFBTyxRQUFBQyxXQUFBNGdCLE1BQ0F3RCxTQUVBM2lCLE9BQUEsRUFDQThmLFNBQUEsYUFJQW9FLFlBQ0FqbUIsUUFBQSxPQUNBYSxlQUFBLFNBQ0FGLFdBQUEsU0FDQVQsVUFBQSxJQUVBaW1CLFVBQ0EzbEIsTUFBQSxHQUNBOGxCLE9BQUEsUUFDQTFrQixVQUFBLFNBQ0FQLE1BQUF2QixFQUFBTyxRQUFBa21CLEtBQUFDLFNBSUFDLEdBQXVCM04sSUFBWXNOLElBQ25DdFcsV0FBQSxFQUNBbEYsS0FBQSw2QkFDQ21RLEtBQUFvSyxLQUVEdUIsR0FFQSxTQUFBeE0sR0FHQSxRQUFBd00sS0FDQSxjQUFBeE0sS0FBQUMsTUFBQWpWLEtBQUFrVixZQUFBbFYsS0FxQ0EsTUF4Q0UvSyxRQUFBMmMsRUFBQSxHQUFTNFAsRUFBQXhNLEdBTVh3TSxFQUFBdnJCLFVBQUFzZixPQUFBLFdBQ0EsR0FBQTVJLEdBRUErTixFQUFBMWEsS0FBQXZKLE1BQ0ErZSxFQUFBa0YsRUFBQWxGLFNBQ0FqVSxFQUFBbVosRUFBQW5aLFFBQ0E0RixFQUFBdVQsRUFBQXZULFNBQ0FzYSxFQUFBL0csRUFBQStHLE9BQ0ExUixFQUFBMkssRUFBQTNLLFFBQ0EwTixFQUFBL0MsRUFBQStDLFNBQ0FoRCxFQUFnQnhsQixPQUFBMmMsRUFBQSxHQUFNOEksR0FBQSxnRUFFdEJoVSxFQUFvQjBNLElBQVU3UixFQUFBc08sS0FBQWxELEtBQXNCQSxFQUFBcEwsRUFBQWtnQixVQUFBOVUsRUFBQXBMLEVBQUF3TyxXQUFBcEQsRUFBQXBMLEVBQUFrYyxZQUFBOVEsRUFBQXBMLEVBQUE0RixZQUFBd0YsR0FDcEQsT0FBVzFYLFFBQUE2YyxFQUFBLGVBQWNPLEVBQUF5RixFQUFZN2lCLE9BQUEyYyxFQUFBLElBQ3JDbEwsWUFDQWdiLFNBQUFELEdBQUF0YSxHQUFBLEtBQ0tzVCxHQUFBakYsSUFZTGdNLEVBQUEvTCxjQUNBdE8sVUFBQSxFQUNBc2EsUUFBQSxFQUNBMVIsU0FBQSxFQUNBME4sVUFBQSxHQUVBK0QsR0FDRTFQLEVBQUEsZUFFRjZQLEdBQUEsU0FBQS9tQixHQUNBLE1BQVM4WSxNQUNUN0QsS0FDQXZVLE1BQUEsR0FDQVUsT0FBQSxHQUNBSyxTQUFBekIsRUFBQWduQixXQUFBQyxRQUFBeGxCLFNBQ0Era0IsT0FBQSxRQUNBamxCLE1BQUF2QixFQUFBTyxRQUFBa21CLEtBQUFqbEIsUUFDQTBsQixXQUFBbG5CLEVBQUFnbkIsV0FBQUcsaUJBQ0FwbEIsUUFBQSxHQUVBOGtCLFFBQ0Foa0IsUUFBQSxFQUNBdWtCLGNBQUEsUUFFQWpTLFNBQ0E1VCxNQUFBdkIsRUFBQU8sUUFBQWlCLFFBQUFmLEtBQ0F5bUIsV0FBQSxLQUVBckUsVUFDQXRoQixNQUFBdkIsRUFBQU8sUUFBQTJpQixPQUFBQyxNQUNBM2dCLGdCQUFBeEMsRUFBQU8sUUFBQWlCLFFBQUFmLEtBQ0F5bUIsV0FBQWxuQixFQUFBZ25CLFdBQUFHLGlCQUNBRSxXQUNBN2tCLGdCQUFBeEMsRUFBQU8sUUFBQWlCLFFBQUFmLE9BR0E4TCxVQUNBNmEsY0FBQSxPQUNBN2xCLE1BQUF2QixFQUFBTyxRQUFBa21CLEtBQUFDLFNBSUE5UCxHQUFZb0MsSUFBWStOLElBQ3hCamMsS0FBQSxrQkFDQzhiLElBRURVLEdBRUEsU0FBQWxOLEdBR0EsUUFBQWtOLEtBQ0EsR0FBQWppQixHQUFBLE9BQUErVSxLQUFBQyxNQUFBalYsS0FBQWtWLFlBQUFsVixJQU1BLE9BSkFDLEdBQUFraUIsWUFBQSxXQUNBbGlCLEVBQUF4SixNQUFBMnJCLFNBQUFuaUIsRUFBQXhKLE1BQUF6QixRQUdBaUwsRUE4QkEsTUF2Q0VoTCxRQUFBMmMsRUFBQSxHQUFTc1EsRUFBQWxOLEdBWVhrTixFQUFBanNCLFVBQUFzZixPQUFBLFdBQ0EsR0FBQTVJLEdBQUEzTSxLQUFBdkosTUFDQStlLEVBQUE3SSxFQUFBNkksU0FFQTZNLEdBREExVixFQUFBM1gsTUFDQTJYLEVBQUEwVixtQkFDQWxiLEVBQUF3RixFQUFBeEYsU0FFQXNULEdBREE5TixFQUFBeVYsU0FDZ0JudEIsT0FBQTJjLEVBQUEsR0FBTWpGLEdBQUEsK0RBRXRCLE9BQVcxWCxRQUFBNmMsRUFBQSxlQUFhLE1BQVE3YyxPQUFBMmMsRUFBQSxJQUNoQzVLLFFBQUFxYixJQUFBbGIsRUFBQW5ILEtBQUFtaUIsZ0JBQUF6TSxHQUNBc0YsV0FBQXFILElBQUFsYixFQUFBbkgsS0FBQW1pQixnQkFBQXpNLEdBQ0FxRyxLQUFBLGdCQUNLdEIsR0FBQWpGLElBVUwwTSxFQUFBek0sY0FDQTRNLG1CQUFBLEVBQ0FsYixVQUFBLEdBRUErYSxHQUNFcFEsRUFBQSxlQUVGd1EsR0FFQSxTQUFBdE4sR0FHQSxRQUFBc04sS0FDQSxHQUFBcmlCLEdBQUEsT0FBQStVLEtBQUFDLE1BQUFqVixLQUFBa1YsWUFBQWxWLElBa0pBLE9BaEpBQyxHQUFBRyxPQUNBb2UsZUFBQSxPQUNBMEIsYUFBQWpnQixFQUFBeEosTUFBQTBlLE1BQUFsSCxnQkFBQWhPLEVBQUF4SixNQUFBMlgsT0FHQW5PLEVBQUFzaUIsYUFBQSxTQUFBMVMsRUFBQXVILE9BQ0EsS0FBQUEsSUFDQUEsR0FBQSxFQUdBLElBQUF6SyxHQUFBMU0sRUFBQXhKLE1BQ0EyWCxFQUFBekIsRUFBQXlCLEtBQ0ErRyxFQUFBeEksRUFBQXdJLEtBRUFsVixHQUFBeEosTUFBQWlnQixTQUFBdkIsRUFBQTdGLGlCQUFBTyxFQUFBekIsR0FBQWdKLElBR0FuWCxFQUFBdWlCLGtCQUFBLFNBQUFDLEVBQUFqRSxHQUNBdmUsRUFBQUssVUFDQTRmLGFBQUF1QyxFQUNBakUsb0JBSUF2ZSxFQUFBeWlCLG1CQUFBLFNBQUE3UyxHQUNBLEdBQUFsRCxHQUFBMU0sRUFBQXhKLE1BQ0E4aEIsRUFBQTVMLEVBQUE0TCxRQUNBRCxFQUFBM0wsRUFBQTJMLFFBQ0FuRCxFQUFBeEksRUFBQXdJLEtBQ0EsT0FBQW9ELElBQUFwRCxFQUFBeEcsWUFBQWtCLEVBQUFzRixFQUFBL0csS0FBQW1LLEtBQUFELEdBQUFuRCxFQUFBekcsV0FBQW1CLEVBQUFzRixFQUFBL0csS0FBQWtLLEtBR0FyWSxFQUFBMGlCLHVCQUFBLFdBQ0EsR0FBQWhXLEdBQUExTSxFQUFBeEosTUFDQTBlLEVBQUF4SSxFQUFBd0ksTUFDQXFELEVBQUE3TCxFQUFBNkwsWUFDQUQsRUFBQTVMLEVBQUE0TCxRQUNBOUksRUFBQTBGLEVBQUEvRyxNQUNBLFFBQUErRyxFQUFBM0gsU0FBQTJILEVBQUFsSCxnQkFBQXVLLEdBQUFyRCxFQUFBNUgsUUFBQWtDLEVBQUE4SSxHQUFBOUksRUFBQTBGLEVBQUEvRyxLQUFBbUssSUFBQXRZLEVBQUFHLE1BQUE4ZixlQUdBamdCLEVBQUEyaUIsdUJBQUEsV0FDQSxHQUFBalcsR0FBQTFNLEVBQUF4SixNQUNBMGUsRUFBQXhJLEVBQUF3SSxNQUNBc0QsRUFBQTlMLEVBQUE4TCxjQUNBSCxFQUFBM0wsRUFBQTJMLFFBQ0E3SSxFQUFBMEYsRUFBQS9HLE1BQ0EsUUFBQStHLEVBQUE1SCxRQUFBNEgsRUFBQWxILGdCQUFBd0ssR0FBQXRELEVBQUEzSCxTQUFBaUMsRUFBQTZJLEdBQUE3SSxFQUFBMEYsRUFBQS9HLEtBQUFrSyxJQUFBclksRUFBQUcsTUFBQThmLGVBR0FqZ0IsRUFBQWllLGtCQUFBLFNBQUFyTyxHQUNBLEdBQUFsRCxHQUFBMU0sRUFBQXhKLE1BQ0EraEIsRUFBQTdMLEVBQUE2TCxZQUNBQyxFQUFBOUwsRUFBQThMLGNBQ0F5RixFQUFBdlIsRUFBQXVSLGtCQUNBL0ksRUFBQXhJLEVBQUF3SSxLQUNBLE9BQUEwTixTQUFBcEssR0FBQXRELEVBQUF6RyxXQUFBbUIsRUFBQXNGLEVBQUEvRyxTQUFBb0ssR0FBQXJELEVBQUF4RyxZQUFBa0IsRUFBQXNGLEVBQUEvRyxTQUFBbk8sRUFBQXlpQixtQkFBQTdTLElBQUFxTyxLQUFBck8sS0FHQTVQLEVBQUE2aUIsVUFBQSxTQUFBalQsR0FDQUEsSUFBQTVQLEVBQUFpZSxrQkFBQXJPLElBQ0E1UCxFQUFBc2lCLGFBQUExUyxHQUFBLElBSUE1UCxFQUFBOGMsY0FBQSxTQUFBQyxHQUNBLEdBQUFyUSxHQUFBMU0sRUFBQXhKLE1BQ0FtRSxFQUFBK1IsRUFBQS9SLE1BQ0F3VCxFQUFBekIsRUFBQXlCLEtBQ0ErRyxFQUFBeEksRUFBQXdJLEtBRUEsUUFBYzNCLElBQU93SixJQUNyQixTQUNBL2MsRUFBQTZpQixVQUFBM04sRUFBQWpJLFFBQUFrQixHQUFBLEdBRUEsTUFFQSxZQUNBbk8sRUFBQTZpQixVQUFBM04sRUFBQWpJLFFBQUFrQixFQUFBLEdBRUEsTUFFQSxZQUNBLFFBQUF4VCxFQUFBNmxCLFVBQUF4Z0IsRUFBQTZpQixVQUFBM04sRUFBQWpJLFFBQUFrQixHQUFBLElBQUFuTyxFQUFBNmlCLFVBQUEzTixFQUFBakksUUFBQWtCLEVBQUEsR0FDQSxNQUVBLGFBQ0EsUUFBQXhULEVBQUE2bEIsVUFBQXhnQixFQUFBNmlCLFVBQUEzTixFQUFBakksUUFBQWtCLEVBQUEsSUFBQW5PLEVBQUE2aUIsVUFBQTNOLEVBQUFqSSxRQUFBa0IsR0FBQSxHQUNBLE1BRUEsU0FFQSxPQUlBNE8sRUFBQXRELGtCQUdBelosRUFBQThpQixZQUFBLFdBQ0EsR0FBQTVOLEdBQUFsVixFQUFBeEosTUFBQTBlLE1BQ0ErSyxFQUFBamdCLEVBQUFHLE1BQUE4ZixZQUVBLE9BREEvSyxHQUFBckYsYUFBQW9RLEdBQ0F0USxJQUFBLFNBQUFvVCxHQUNBLE1BQWUvdEIsUUFBQTZjLEVBQUEsZUFBYSxPQUM1Qi9jLElBQUEsUUFBQWl1QixFQUFBLEdBQUFsQyxXQUNBcGEsVUFBQXpHLEVBQUF4SixNQUFBOEssUUFBQXloQixNQUNTL2lCLEVBQUFnakIsV0FBQUQsT0FJVC9pQixFQUFBZ2pCLFdBQUEsU0FBQUQsR0FDQSxHQUFBclcsR0FBQTFNLEVBQUF4SixNQUNBMlgsRUFBQXpCLEVBQUF5QixLQUNBOFUsRUFBQXZXLEVBQUF1VyxVQUNBL04sRUFBQXhJLEVBQUF3SSxNQUNBZ08sRUFBQWhPLEVBQUExSCxXQUFBVyxHQUNBZ1YsRUFBQWpPLEVBQUFsRyxTQUFBaFAsRUFBQUcsTUFBQThmLGNBQ0F6USxFQUFBMEYsRUFBQS9HLE1BQ0EsT0FBQTRVLEdBQUFwVCxJQUFBLFNBQUFDLEdBQ0EsR0FBQTFJLEdBQUFsSCxFQUFBaWUsa0JBQUFyTyxHQUVBd1MsRUFBQWxOLEVBQUFsRyxTQUFBWSxLQUFBdVQsRUFDQUMsRUFBMkJwdUIsT0FBQTZjLEVBQUEsZUFBYU4sSUFDeEN6QixRQUFBb0YsRUFBQW5ILFVBQUE2QixFQUFBSixHQUNBZ1MsUUFBQVksRUFDQWxiLFdBQ0FzVyxTQUFBdEksRUFBQW5ILFVBQUFtVixFQUFBdFQsSUFDU3NGLEVBQUF6RSxXQUFBYixHQU1ULE9BSkFxVCxLQUNBRyxFQUFBSCxFQUFBclQsRUFBQXNULEVBQUFkLEVBQUFnQixJQUdlcHVCLE9BQUE2YyxFQUFBLGVBQWFvUSxJQUM1Qm50QixJQUFBOGEsRUFBQWlSLFdBQ0E5ckIsTUFBQTZhLEVBQ0F3UyxvQkFDQWxiLFdBQ0FpYixTQUFBbmlCLEVBQUFzaUIsY0FDU2MsTUFJVHBqQixFQThGQSxNQW5QRWhMLFFBQUEyYyxFQUFBLEdBQVMwUSxFQUFBdE4sR0F3SlhzTixFQUFBbE4seUJBQUEsU0FBQXZQLEVBQUF6RixHQUNBLE1BQUF5RixHQUFBc1AsTUFBQTNHLFFBQUEzSSxFQUFBdUksS0FBQWhPLEVBQUFrakIsVUFPQSxNQUxBQSxTQUFBemQsRUFBQXVJLEtBQ0E4UixhQUFBcmEsRUFBQXNQLE1BQUFsSCxnQkFBQXBJLEVBQUF1SSxRQU9Ba1UsRUFBQXJzQixVQUFBc3RCLGtCQUFBLFdBQ0EsR0FBQTVXLEdBQUEzTSxLQUFBdkosTUFDQTJYLEVBQUF6QixFQUFBeUIsS0FDQW1LLEVBQUE1TCxFQUFBNEwsUUFDQUQsRUFBQTNMLEVBQUEyTCxRQUNBbkQsRUFBQXhJLEVBQUF3SSxNQUNBcUQsRUFBQTdMLEVBQUE2TCxXQUVBLElBQUF4WSxLQUFBa2Usa0JBQUE5UCxHQUFBLENBQ0EsR0FBQW9WLEdBQUF2RixJQUNBN1AsT0FDQStHLFFBQ0FvRCxVQUNBRCxVQUNBRSxZQUFBcUssUUFBQXJLLEdBQ0FDLGNBQUFvSyxRQUFBckssR0FDQTBGLGtCQUFBbGUsS0FBQWtlLG1CQUVBbGUsTUFBQXVpQixhQUFBaUIsR0FBQWpMLEdBQUEsS0FJQStKLEVBQUFyc0IsVUFBQXNmLE9BQUEsV0FDQSxHQUFBNUksR0FBQTNNLEtBQUFJLE1BQ0E4ZixFQUFBdlQsRUFBQXVULGFBQ0ExQixFQUFBN1IsRUFBQTZSLGVBQ0E5RCxFQUFBMWEsS0FBQXZKLE1BQ0E4SyxFQUFBbVosRUFBQW5aLFFBQ0FraUIsRUFBQS9JLEVBQUErSSxvQkFDQSxPQUFXeHVCLFFBQUE2YyxFQUFBLGVBQWNBLEVBQUEsU0FBUSxLQUFBMlIsR0FBZ0N4dUIsT0FBQTZjLEVBQUEsZUFBY3dCLEVBQUF3RSxHQUMvRXRoQixPQUFBLFNBQ0E2a0IsVUFBQXJiLEtBQUErYyxnQkFDUTluQixPQUFBNmMsRUFBQSxlQUFheVAsSUFDckIvQyxpQkFDQTBCLGVBQ0FDLGNBQUFuZ0IsS0FBQXdpQixrQkFDQXBDLGNBQUFwZ0IsS0FBQXZKLE1BQUEycEIsY0FDQUMsZUFBQXJnQixLQUFBdkosTUFBQTRwQixlQUNBQyxpQkFBQXRnQixLQUFBMmlCLHlCQUNBcEMsaUJBQUF2Z0IsS0FBQTRpQiwyQkFDUTN0QixPQUFBNmMsRUFBQSxlQUFha08sSUFDckJ4QixpQkFDQUQsU0FBQTJCLEVBQUFZLFdBQ0FwYSxVQUFBbkYsRUFBQWtkLHFCQUNPeHBCLE9BQUE2YyxFQUFBLGVBQWEsT0FFcEI0UixXQUFBLEdBQ0sxakIsS0FBQStpQixrQkFvQkxULEVBQUE3TSxjQUNBOEMsUUFBQSxhQUNBRCxRQUFBLGFBQ0FFLGFBQUEsRUFDQUMsZUFBQSxFQUNBMkgsa0JBQUExSyxHQUNBMkssbUJBQUEzSyxHQUNBd04sY0FBQXhOLEdBQ0ErTixzQkFBQSxFQUNBdkYsa0JBQUEsV0FDQSxXQUdBb0UsR0FDRXhRLEVBQUEsV0FDRjZSLEdBQUEsU0FBQS9vQixHQUNBLE9BQ0E2akIscUJBQ0EvQixVQUFBLElBQ0E5VSxVQUFBLElBQUFoTixFQUFBaUQsUUFBQUMsTUFFQWtsQixNQUNBbG9CLFFBQUEsT0FDQWEsZUFBQSxZQUlBNFYsR0FBaUJxQyxJQUFZK1AsSUFDN0JqZSxLQUFBLHFCQUNBa0YsV0FBQSxJQUNDaUwsS0FBQXlNLEtBRURzQixHQUVBLFNBQUE1TyxHQUdBLFFBQUE0TyxLQUNBLEdBQUEzakIsR0FBQSxPQUFBK1UsS0FBQUMsTUFBQWpWLEtBQUFrVixZQUFBbFYsSUFNQSxPQUpBQyxHQUFBa2lCLFlBQUEsV0FDQWxpQixFQUFBeEosTUFBQTJyQixTQUFBbmlCLEVBQUF4SixNQUFBekIsUUFHQWlMLEVBdUNBLE1BaERFaEwsUUFBQTJjLEVBQUEsR0FBU2dTLEVBQUE1TyxHQVlYNE8sRUFBQTN0QixVQUFBc2YsT0FBQSxXQUNBLEdBQUE1SSxHQUVBK04sRUFBQTFhLEtBQUF2SixNQUNBOEssRUFBQW1aLEVBQUFuWixRQUNBa2MsRUFBQS9DLEVBQUErQyxTQUNBdFcsRUFBQXVULEVBQUF2VCxTQUVBcU8sR0FEQWtGLEVBQUExbEIsTUFDQTBsQixFQUFBbEYsVUFDQWlGLEVBQWdCeGxCLE9BQUEyYyxFQUFBLEdBQU04SSxHQUFBLG9EQUV0QixPQUFXemxCLFFBQUE2YyxFQUFBLGVBQWNrQyxFQUFBOEQsRUFBWTdpQixPQUFBMmMsRUFBQSxJQUNyQ21LLEtBQUEsU0FDQThILFVBQUEsTUFDQW5kLFVBQWlCME0sSUFBVTdSLEVBQUF0RyxNQUFBMFIsS0FBdUJBLEVBQUFwTCxFQUFBa2MsWUFBQTlRLEVBQUFwTCxFQUFBNEYsWUFBQXdGLElBQ2xEK1UsU0FBQXZhLEdBQUEsSUFDQUgsUUFBQWhILEtBQUFtaUIsWUFDQW5ILFdBQUFoYixLQUFBbWlCLFlBQ0FobUIsTUFBQXNoQixFQUFBLG9CQUNBcFYsUUFBQW9WLEVBQUEsa0JBQ0toRCxHQUFBakYsSUFZTG9PLEVBQUFuTyxjQUNBZ0ksVUFBQSxFQUNBdFcsVUFBQSxHQUVBeWMsR0FDRTlSLEVBQUEsZUFDRmdTLEdBQUEsU0FBQWxwQixHQUNBLE1BQVM4WSxNQUNUelksTUFDQWUsT0FBQSxFQUFBcEIsRUFBQWlELFFBQUFDLEtBQ0FoRCxRQUFBLE9BQ0FXLFdBQUEsU0FDQUUsZUFBQSxTQUNBTSxPQUFBLFVBQ0E4bkIsUUFBQSxPQUNBQyxXQUNBN25CLE1BQUF2QixFQUFBTyxRQUFBaUIsUUFBQWYsS0FDQXltQixXQUFBbG5CLEVBQUFnbkIsV0FBQUcsbUJBR0F0RSxVQUNBMkQsT0FBQSxTQUNBVSxXQUFBbG5CLEVBQUFnbkIsV0FBQUcsa0JBRUE1YSxVQUNBNmEsY0FBQSxPQUNBN2xCLE1BQUF2QixFQUFBTyxRQUFBa21CLEtBQUFDLFNBSUEyQyxHQUFhclEsSUFBWWtRLElBQ3pCcGUsS0FBQSxtQkFDQ2tlLElBRURNLEdBRUEsU0FBQWxQLEdBR0EsUUFBQWtQLEtBQ0EsR0FBQWprQixHQUFBLE9BQUErVSxLQUFBQyxNQUFBalYsS0FBQWtWLFlBQUFsVixJQWtDQSxPQWhDQUMsR0FBQWtrQixvQkFBQXpPLEdBRUF6VixFQUFBbWtCLG1CQUFBLFNBQUFyTSxHQUNBOVgsRUFBQWtrQixnQkFBQXBNLEdBR0E5WCxFQUFBb2tCLG9CQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQXRrQixFQUFBeEosTUFBQTh0QixxQkFDQUMsRUFBK0J2dkIsT0FBQWlmLEVBQUEsYUFBV29RLEVBRTFDRSxNQUFBQyxpQkFDQUYsRUFDQUcsV0FBQSxXQUNBLE1BQUFGLEdBQUFDLGdCQUNBRSxTQUFBLFlBRVcsS0FFWEgsRUFBQUMsbUJBS0F4a0IsRUFBQTJrQixhQUFBLFNBQUFDLEdBQ0EsR0FBQWxZLEdBQUExTSxFQUFBeEosTUFDQTJYLEVBQUF6QixFQUFBeUIsTUFJQXNJLEVBSEEvSixFQUFBK0osVUFDQS9KLEVBQUF3SSxNQUNBaEgsUUFBQUMsRUFBQXlXLEtBSUE1a0IsRUFxREEsTUExRkVoTCxRQUFBMmMsRUFBQSxHQUFTc1MsRUFBQWxQLEdBd0NYa1AsRUFBQWp1QixVQUFBc3RCLGtCQUFBLFdBQ0F2akIsS0FBQW1rQixpQkFDQW5rQixLQUFBcWtCLG9CQUFBcmtCLEtBQUFta0Isa0JBSUFELEVBQUFqdUIsVUFBQXNmLE9BQUEsV0FDQSxHQUFBdFYsR0FBQUQsS0FFQTJNLEVBQUEzTSxLQUFBdkosTUFDQThoQixFQUFBNUwsRUFBQTRMLFFBQ0FELEVBQUEzTCxFQUFBMkwsUUFDQWxLLEVBQUF6QixFQUFBeUIsS0FDQTdNLEVBQUFvTCxFQUFBcEwsUUFDQWlYLEVBQUE3TCxFQUFBNkwsWUFDQUMsRUFBQTlMLEVBQUE4TCxjQUNBdEQsRUFBQXhJLEVBQUF3SSxNQUNBMlAsRUFBQTNQLEVBQUFqSCxRQUFBRSxFQUNBLE9BQVduWixRQUFBNmMsRUFBQSxlQUFhLE9BQ3hCcEwsVUFBQW5GLEVBQUFpRyxXQUNLMk4sRUFBQWpGLGFBQUFxSSxFQUFBRCxHQUFBMUksSUFBQSxTQUFBaVYsR0FDTCxHQUFBRSxHQUFBNVAsRUFBQWpILFFBQUEyVyxHQUNBcEgsRUFBQXNILElBQUFELENBQ0EsT0FBYTd2QixRQUFBNmMsRUFBQSxlQUFhbVMsSUFDMUJsdkIsSUFBQW9nQixFQUFBNUUsWUFBQXNVLEdBQ0FwSCxXQUNBem9CLE1BQUErdkIsRUFDQTNDLFNBQUFuaUIsRUFBQTJrQixhQUVBN00sSUFBQTBGLEVBQUF4ZCxFQUFBbWtCLHVCQUFBMU8sR0FDQXZPLFNBQUFxUixHQUFBckQsRUFBQXZHLGFBQUFpVyxFQUFBMVAsRUFBQS9HLFNBQUFxSyxHQUFBdEQsRUFBQXRHLFlBQUFnVyxFQUFBMVAsRUFBQS9HLFNBQ08rRyxFQUFBNUUsWUFBQXNVLFFBZ0JQWCxFQUFBek8sY0FDQThPLHNCQUFBLEdBRUFMLEdBQ0VwUyxFQUFBLGVBQ0ZrVCxHQUFldFIsS0FDZmxNLFdBQ0F4TSxVQUFBLElBQ0ErRCxVQUFBLE9BQ0FwRCxlQUFBLFlBR0FzcEIsR0FBc0JyUixJQUFZb1IsSUFDbEN0ZixLQUFBLDRCQUNDbVEsS0FBQXFPLEtBRURnQixHQUVBLFNBQUFsUSxHQUdBLFFBQUFrUSxLQUNBLEdBQUFqbEIsR0FBQSxPQUFBK1UsS0FBQUMsTUFBQWpWLEtBQUFrVixZQUFBbFYsSUF3QkEsT0F0QkFDLEdBQUFHLE9BQ0Era0Isa0JBQUF0QyxRQUFBNWlCLEVBQUF4SixNQUFBMnVCLHNCQUdBbmxCLEVBQUFvbEIsaUJBQUEsU0FBQWpYLEdBQ0FuTyxFQUFBeEosTUFBQWlnQixTQUFBdEksR0FBQSxHQUVBbk8sRUFBQXFsQixnQkFHQXJsQixFQUFBc2xCLGtCQUFBLFdBQ0F0bEIsRUFBQUssVUFDQTZrQixtQkFBQSxLQUlBbGxCLEVBQUFxbEIsYUFBQSxXQUNBcmxCLEVBQUFLLFVBQ0E2a0IsbUJBQUEsS0FJQWxsQixFQXVHQSxNQWxJRWhMLFFBQUEyYyxFQUFBLEdBQVNzVCxFQUFBbFEsR0E4QlgvZixPQUFBQyxlQUFBZ3dCLEVBQUFqdkIsVUFBQSxRQUNBdXZCLElBQUEsV0FDQSxNQUFBeGxCLE1BQUF2SixNQUFBMlgsTUFFQWpaLFlBQUEsRUFDQUMsY0FBQSxJQUVBSCxPQUFBQyxlQUFBZ3dCLEVBQUFqdkIsVUFBQSxXQUNBdXZCLElBQUEsV0FDQSxNQUFBeGxCLE1BQUF2SixNQUFBMGUsTUFBQS9HLEtBQUFwTyxLQUFBdkosTUFBQThoQixVQUVBcGpCLFlBQUEsRUFDQUMsY0FBQSxJQUVBSCxPQUFBQyxlQUFBZ3dCLEVBQUFqdkIsVUFBQSxXQUNBdXZCLElBQUEsV0FDQSxNQUFBeGxCLE1BQUF2SixNQUFBMGUsTUFBQS9HLEtBQUFwTyxLQUFBdkosTUFBQTZoQixVQUVBbmpCLFlBQUEsRUFDQUMsY0FBQSxJQUdBOHZCLEVBQUFqdkIsVUFBQXNmLE9BQUEsV0FDQSxHQUFBNFAsR0FBQW5sQixLQUFBSSxNQUFBK2tCLGtCQUNBeFksRUFBQTNNLEtBQUF2SixNQUNBK2hCLEVBQUE3TCxFQUFBNkwsWUFDQUMsRUFBQTlMLEVBQUE4TCxjQUNBL0IsRUFBQS9KLEVBQUErSixTQUNBNk4sRUFBQTVYLEVBQUE0WCxxQkFDQW5FLEVBQUF6VCxFQUFBeVQsY0FDQUMsRUFBQTFULEVBQUEwVCxlQUNBNkMsRUFBQXZXLEVBQUF1VyxVQUNBL04sRUFBQXhJLEVBQUF3SSxNQUNBK0ksRUFBQXZSLEVBQUF1UixrQkFDQXVGLEVBQUE5VyxFQUFBOFcsb0JBQ0EsT0FBV3h1QixRQUFBNmMsRUFBQSxlQUFjQSxFQUFBLFNBQVEsS0FBUTdjLE9BQUE2YyxFQUFBLGVBQWF5TCxHQUFBLEtBQXdCdG9CLE9BQUE2YyxFQUFBLGVBQWFrTSxJQUMzRjNWLFFBQUEsWUFDQXJCLFFBQUFoSCxLQUFBdWxCLGtCQUNBOUgsU0FBQTBILEVBQ0F6SCxNQUFBdkksRUFBQTVFLFlBQUF2USxLQUFBb08sUUFDUW5aLE9BQUE2YyxFQUFBLGVBQWFrTSxJQUNyQjNWLFFBQUEsS0FDQXJCLFFBQUFoSCxLQUFBc2xCLGFBQ0E3SCxVQUFBMEgsRUFDQXpILE1BQUF2SSxFQUFBM0Usd0JBQUF4USxLQUFBb08sU0FDS3BPLEtBQUF2SixNQUFBK2UsU0FBQTJQLEVBQTZDbHdCLE9BQUE2YyxFQUFBLGVBQWFtVCxJQUMvRDdXLEtBQUFwTyxLQUFBb08sS0FDQXNJLFNBQUExVyxLQUFBcWxCLGlCQUNBOU0sUUFBQXZZLEtBQUF1WSxRQUNBRCxRQUFBdFksS0FBQXNZLFFBQ0FFLGNBQ0FDLGdCQUNBOEwseUJBQ1N0dkIsT0FBQTZjLEVBQUEsZUFBYVAsSUFDdEJuRCxLQUFBcE8sS0FBQW9PLEtBQ0FzSSxXQUNBOEIsY0FDQUMsZ0JBQ0FGLFFBQUF2WSxLQUFBdVksUUFDQUQsUUFBQXRZLEtBQUFzWSxRQUNBOEgsZ0JBQ0FDLGlCQUNBNkMsWUFDQWhGLG9CQUNBdUYsMkJBc0JBeUIsRUFBQXpQLGNBQ0E4QyxRQUFBLGFBQ0FELFFBQUEsYUFDQUUsYUFBQSxFQUNBQyxlQUFBLEVBQ0FnTCxzQkFBQSxFQUNBYyx5QkFBQTdPLEdBQ0EwUCxxQkFBQSxFQUNBNVAsU0FBQSxLQUNBNEssa0JBQUExSyxHQUNBMkssbUJBQUEzSyxHQUNBd04sY0FBQXhOLEdBQ0F3SSxzQkFBQXhJLElBRUF3UCxHQUNFcFQsRUFBQSxlQUNGMlQsR0FBQTVQLEtBQUFxUCxJQUVBUSxHQUFBLFNBQUFqdkIsR0FDQSxHQUFBZ3RCLEdBQUFodEIsRUFBQWd0QixxQkFDQWMsRUFBQTl0QixFQUFBOHRCLHFCQUVBOUwsR0FEQWhpQixFQUFBNGdCLE9BQ0E1Z0IsRUFBQWdpQixlQUNBRCxFQUFBL2hCLEVBQUEraEIsWUFDQWpLLEVBQUE5WCxFQUFBOFgsT0FDQW9YLEVBQUFsdkIsRUFBQWt2QixhQUNBeE4sRUFBQTFoQixFQUFBMGhCLFVBQ0FpSSxFQUFBM3BCLEVBQUEycEIsY0FDQTlILEVBQUE3aEIsRUFBQTZoQixRQUNBQyxFQUFBOWhCLEVBQUE4aEIsUUFHQTZNLEdBRkEzdUIsRUFBQXlmLG1CQUNBemYsRUFBQWlnQixTQUNBamdCLEVBQUEydUIscUJBQ0FsQyxFQUFBenNCLEVBQUF5c0IsVUFDQTdDLEVBQUE1cEIsRUFBQTRwQixlQUNBbkMsRUFBQXpuQixFQUFBeW5CLGtCQUNBbHBCLEVBQUF5QixFQUFBekIsTUFDQXlsQixFQUFjeGxCLE9BQUEyYyxFQUFBLEdBQU1uYixHQUFBLDZRQUVwQixPQUFTeEIsUUFBQTZjLEVBQUEsZUFBYVIsR0FBZXJjLE9BQUEyYyxFQUFBLE1BQVduYixHQUFBLFNBQUFrVyxHQUNoRCxHQUFBeUIsR0FBQXpCLEVBQUF5QixLQUNBK0csRUFBQXhJLEVBQUF3SSxNQUNBd0IsRUFBQWhLLEVBQUFnSyxhQUNBRSxFQUFBbEssRUFBQWtLLGFBQ0FKLEVBQUE5SixFQUFBOEosWUFDQWEsRUFBQTNLLEVBQUEySyxjQUNBVixFQUFBakssRUFBQWlLLG1CQUNBRSxFQUFBbkssRUFBQW1LLHNCQUNBVCxFQUFBMUosRUFBQTBKLFVBQ0EsT0FBV3BoQixRQUFBNmMsRUFBQSxlQUFhZ0wsR0FBZTduQixPQUFBMmMsRUFBQSxJQUN2QzZHLGdCQUNBRCxjQUNBakssVUFBQTRHLEVBQUFsSSxXQUNBa0wsWUFDQUcsVUFDQUMsVUFDQStDLFNBQUEzRSxFQUNBRCxTQUFBSSxFQUNBbUMsUUFBQXhDLEVBQ0E4RSxVQUFBakUsRUFDQWtFLFdBQUE1RSxFQUNBbUIsSUFBQTROLEVBQ0Ezd0IsUUFDQXFoQixjQUNLb0UsR0FBVXhsQixPQUFBNmMsRUFBQSxlQUFhMlQsSUFDNUJyWCxPQUNBcVYsdUJBQ0FjLHVCQUNBOUwsZ0JBQ0FELGNBQ0E0SCxnQkFDQTlILFVBQ0FDLFVBQ0E3QixTQUFBRyxFQUNBdU8sc0JBQ0FsQyxZQUNBN0MsaUJBQ0FuQyx5QkF3QkF3SCxJQUFBalEsY0FDQXpnQixNQUFBLEdBQUFnUSxNQUNBdUosV0FBQW1ILEdBQ0EyQixRQUFBLEVBQ0FrQixRQUFBLGFBQ0FELFFBQUEsYUFDQXBDLHVCQUFBUixHQUNBK0MsZUFBQSxFQUNBRCxhQUFBLEVBQ0ErTCxzQkFBQSxFQUNBYSxxQkFBQSxFQUNBM0Isc0JBQUEsRUFDQXJELGNBQUEsc0JBQ0FDLGVBQUEsdUJBQ0E2QyxjQUFBeE4sR0FDQXlDLGNBQUF6QyxHQUNBd0ksc0JBQUF4SSxHQUNBaVEsaUJBQUFqUSxHQUVBLElBQUExRSxJQUF3Qi9iLE9BQUE2YyxFQUFBLFlBQVUsU0FBQXJiLEVBQUFzaEIsR0FDbEMsTUFBUzlpQixRQUFBNmMsRUFBQSxlQUFhNFQsR0FBa0J6d0IsT0FBQTJjLEVBQUEsTUFBV25iLEdBQ25Ea3ZCLGFBQUE1TixPQUlBNk4sR0FFQSxTQUFBNVEsR0FHQSxRQUFBNFEsS0FDQSxHQUFBM2xCLEdBQUEsT0FBQStVLEtBQUFDLE1BQUFqVixLQUFBa1YsWUFBQWxWLElBZ0RBLE9BOUNBQyxHQUFBRyxPQUNBeWxCLFNBQUEsTUFHQTVsQixFQUFBNEcsS0FBQSxTQUFBMlMsR0FDQXZaLEVBQUFLLFVBQ0F1bEIsU0FBQXJNLEVBQUFzTSxnQkFHQTdsQixFQUFBeEosTUFBQXdtQixRQUNBaGQsRUFBQXhKLE1BQUF3bUIsVUFJQWhkLEVBQUFpZCxNQUFBLFdBQ0FqZCxFQUFBSyxVQUNBdWxCLFNBQUEsT0FHQTVsQixFQUFBeEosTUFBQWtnQixlQUVBMVcsRUFBQXhKLE1BQUFzUSxTQUNBOUcsRUFBQXhKLE1BQUFzUSxXQUlBOUcsRUFBQThjLGNBQUEsU0FBQUMsR0FDQSxPQUFjeEosSUFBT3dKLElBQ3JCLFlBRUEvYyxFQUFBeEosTUFBQWtnQixlQUVBMVcsRUFBQWlkLE9BRUEsTUFHQSxTQUVBLE9BSUFGLEVBQUF0RCxrQkFHQXpaLEVBaUdBLE1BcEpFaEwsUUFBQTJjLEVBQUEsR0FBU2dVLEVBQUE1USxHQXNEWDRRLEVBQUF4USx5QkFBQSxTQUFBdlAsR0FFQSxNQUFBQSxHQUFBd1EsWUFFQXdQLFNBQUEsTUFJQSxNQUdBRCxFQUFBM3ZCLFVBQUFzZixPQUFBLFdBQ0EsR0FBQTVJLEdBQUEzTSxLQUFBdkosTUFDQXpCLEVBQUEyWCxFQUFBM1gsTUFDQXVaLEVBQUE1QixFQUFBNEIsT0FDQWlILEVBQUE3SSxFQUFBNkksU0FHQXVRLEdBRkFwWixFQUFBc1EsT0FDQXRRLEVBQUE1RixRQUNBNEYsRUFBQW9aLGNBRUF0TSxHQURBOU0sRUFBQTBKLFdBQ0ExSixFQUFBOE0sVUFFQWxZLEdBREFvTCxFQUFBcVosYUFDQXJaLEVBQUFwTCxTQUVBa1osR0FEQTlOLEVBQUFnSyxhQUNnQjFoQixPQUFBMmMsRUFBQSxHQUFNakYsR0FBQSxpSUFFdEJzWixFQUFBcEQsUUFBQTdpQixLQUFBSSxNQUFBeWxCLFNBQ0EsT0FBVzV3QixRQUFBNmMsRUFBQSxlQUFjQSxFQUFBLFNBQVEsS0FBQW1VLEdBQWtCaHhCLE9BQUE2YyxFQUFBLGVBQWN3QixFQUFBd0UsR0FDakV0aEIsT0FBQSxTQUNBNmtCLFVBQUFyYixLQUFBK2MsZ0JBQ1E5bkIsT0FBQTZjLEVBQUEsZUFBYW1KLEdBQWtCaG1CLE9BQUEyYyxFQUFBLElBQ3ZDNWMsUUFDQXVaLFNBQ0F2SCxRQUFBaEgsS0FBQTZHLEtBQ0E0UyxZQUNLZ0IsSUFBV3hsQixPQUFBNmMsRUFBQSxlQUFjc0MsRUFBQTBELEVBQVM3aUIsT0FBQTJjLEVBQUEsSUFDdkMzTixHQUFBLGlCQUNBNEMsS0FBQW9mLEVBQ0FKLFNBQUE3bEIsS0FBQUksTUFBQXlsQixTQUNBOWUsUUFBQS9HLEtBQUFrZCxNQUNBM2IsU0FDQXlhLE1BQUF6YSxFQUFBMmtCLGNBRUFDLGNBQ0FDLFNBQUEsU0FDQUMsV0FBQTVNLEVBQUEsa0JBRUE2TSxpQkFDQUYsU0FBQSxNQUNBQyxXQUFBNU0sRUFBQSxrQkFFQWpFLFlBQ0t1USxNQThCTEgsRUFBQW5RLGNBQ0F6Z0IsTUFBQSxHQUFBZ1EsTUFDQW1ULGNBQUF6QyxHQUNBc1EsY0FBQSxFQUNBelgsV0FBQW1ILEdBQ0F1RCxZQUFBdkQsR0FDQXVILFdBQUF2SCxHQUNBM08sWUFBQTJPLEdBQ0FxUSxpQkFBQXJRLEdBQ0FXLFlBQUEsRUFDQW9ELGFBQUEvRCxJQUVBa1EsR0FDRTlULEVBQUEsZUFDRnlVLElBQ0FMLGNBQ0FNLFNBQUEsSUFDQS9KLFNBQUEsSUFDQS9nQixjQUFBLElBSUErcUIsR0FBc0I3UyxJQUFZMlMsSUFBQVgsSUFFbENjLEdBQUEsU0FBQWp3QixHQUNBLEdBQUFndEIsR0FBQWh0QixFQUFBZ3RCLHFCQUNBYyxFQUFBOXRCLEVBQUE4dEIscUJBQ0E5TCxFQUFBaGlCLEVBQUFnaUIsY0FDQUQsRUFBQS9oQixFQUFBK2hCLFlBQ0FqSyxFQUFBOVgsRUFBQThYLE9BQ0FvWCxFQUFBbHZCLEVBQUFrdkIsYUFDQXhOLEVBQUExaEIsRUFBQTBoQixVQUNBaUksRUFBQTNwQixFQUFBMnBCLGNBQ0E5SCxFQUFBN2hCLEVBQUE2aEIsUUFDQUMsRUFBQTloQixFQUFBOGhCLFFBR0E2TSxHQUZBM3VCLEVBQUF5ZixtQkFDQXpmLEVBQUFpZ0IsU0FDQWpnQixFQUFBMnVCLHFCQUNBbEMsRUFBQXpzQixFQUFBeXNCLFVBQ0E3QyxFQUFBNXBCLEVBQUE0cEIsZUFDQW5DLEVBQUF6bkIsRUFBQXluQixrQkFDQWxwQixFQUFBeUIsRUFBQXpCLE1BRUFneEIsR0FEQXZ2QixFQUFBNGdCLE9BQ0E1Z0IsRUFBQXV2QixjQUNBdkwsRUFBY3hsQixPQUFBMmMsRUFBQSxHQUFNbmIsR0FBQSw2UkFFcEJrd0IsRUFBQVgsRUFBQXpVLEdBQUFrVSxFQUNBLE9BQVN4d0IsUUFBQTZjLEVBQUEsZUFBYVIsR0FBZXJjLE9BQUEyYyxFQUFBLE1BQVduYixHQUNoRDRnQixRQUFBLElBQ0csU0FBQTFLLEdBQ0gsR0FBQXlCLEdBQUF6QixFQUFBeUIsS0FDQStHLEVBQUF4SSxFQUFBd0ksTUFDQWtCLEVBQUExSixFQUFBMEosV0FDQVEsRUFBQWxLLEVBQUFrSyxhQUNBQyxFQUFBbkssRUFBQW1LLHNCQUNBSCxFQUFBaEssRUFBQWdLLFlBQ0EsT0FBVzFoQixRQUFBNmMsRUFBQSxlQUFhMlUsR0FBa0J4eEIsT0FBQTJjLEVBQUEsSUFDMUM2RyxnQkFDQUQsY0FDQWpLLFVBQUE0RyxFQUFBbEksV0FDQWtMLFlBQ0FHLFVBQ0FDLFVBQ0E3QixTQUFBSSxFQUNBOFAsU0FBQWpCLEVBQ0Ezd0IsUUFDQXFoQixhQUNBTSxnQkFDSzhELEdBQVV4bEIsT0FBQTZjLEVBQUEsZUFBYTZVLEdBQzVCdlksT0FDQXFWLHVCQUNBYyx1QkFDQTlMLGdCQUNBRCxjQUNBNEgsZ0JBQ0E5SCxVQUNBQyxVQUNBN0IsU0FBQUcsRUFDQXVPLHNCQUNBbEMsWUFDQTdDLGlCQUNBbkMseUJBeUJBd0ksSUFBQWpSLGNBQ0F6Z0IsTUFBQSxHQUFBZ1EsTUFDQXVKLFdBQUFtSCxHQUNBNkMsUUFBQSxhQUNBRCxRQUFBLGFBQ0FwQyx1QkFBQVIsR0FDQStDLGVBQUEsRUFDQUQsYUFBQSxFQUNBK0wsc0JBQUEsRUFDQWEscUJBQUEsRUFDQTNCLHNCQUFBLEVBQ0FyRCxjQUFBLHNCQUNBQyxlQUFBLHVCQUNBNkMsY0FBQXhOLEdBQ0F5QyxjQUFBekMsR0FDQXdJLHNCQUFBeEksR0FDQWlRLGlCQUFBalEsR0FDQTJCLFdBQUEzQixHQUNBc1EsY0FBQSxFQUVBLElBNkVBYSxJQTdFQTVWLEdBQXlCaGMsT0FBQTZjLEVBQUEsWUFBVSxTQUFBcmIsRUFBQXNoQixHQUNuQyxNQUFTOWlCLFFBQUE2YyxFQUFBLGVBQWE0VSxHQUFtQnp4QixPQUFBMmMsRUFBQSxNQUFXbmIsR0FDcERrdkIsYUFBQTVOLE9BSUErTyxJQUNBQyxFQUFBLElBQ0FDLEVBQUEsS0FFQUMsSUFDQUYsRUFBQUQsR0FBQUMsRUFDQUMsRUFBQSxHQUVBRSxHQUFBRCxHQUFBRixFQUFBRCxHQUFBQyxFQUNBSSxHQUFBRixHQUFBRCxFQUFBRixHQUFBRSxFQUVBSSxHQUFBLFNBQUFDLEdBQ0EseUJBQUFBLEdBR0FDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBVixHQUFBUyxFQUFBVixHQUFBQyxFQUNBQyxFQUFBUyxFQUFBWCxHQUFBRSxFQUNBVSxFQUFBL21CLEtBQUFnbkIsTUFBQVQsR0FBQUMsSUFBQXhtQixLQUFBZ25CLE1BQUFaLEVBQUFDLEdBQ0FZLEVBQUFSLEdBQUFNLEVBQ0FFLEdBQUFqbkIsS0FBQWtuQixNQUFBRCxFQUFBTCxLQUNBSyxHQUFBLEdBQ0EsSUFBQTV5QixHQUFBMkwsS0FBQUMsTUFBQWduQixFQUFBTCxJQUFBLEVBQ0FPLEVBQUFubkIsS0FBQW9uQixJQUFBaEIsRUFBQSxHQUFBcG1CLEtBQUFvbkIsSUFBQWYsRUFBQSxFQUVBLFFBQ0FoeUIsUUFDQWd6QixTQUhBcm5CLEtBQUFzbkIsS0FBQUgsS0FPQW5hLEdBQUEsU0FBQTZaLEVBQUFDLEVBQUF0WSxHQUVBLEdBQUF4QyxHQUFBMmEsR0FBQSxHQUFBRSxFQUFBQyxHQUNBenlCLEVBQUEyWCxFQUFBM1gsTUFDQWd6QixFQUFBcmIsRUFBQXFiLFFBYUEsT0FYQWh6QixNQUFBLEdBRUFtYSxFQU1BbmEsR0FBQSxHQUxBZ3pCLEVBQUEsS0FDQWh6QixHQUFBLEdBQ0FBLEdBQUEsSUFNQUEsR0FFQWdhLEdBQUEsU0FBQXdZLEVBQUFDLEVBQUFGLEdBTUEsV0FMQSxLQUFBQSxJQUNBQSxFQUFBLEdBR0FELEdBQUFDLEVBQUFDLEVBQUFDLEdBQUF6eUIsT0FHQWt6QixHQUFBLFNBQUEzWSxFQUFBNFksRUFBQWhaLEVBQUFnRyxHQUNBLEdBQUFoRyxFQUFBLENBR0EsSUFGQWdHLEVBQUF4SCxTQUFBNEIsSUFBQSxnQkFFQTRZLEVBQUEsQ0FDQSxHQUFBQyxHQUFBLE9BQUFELEVBQUFoVCxFQUFBeEgsU0FBQTRCLEdBQUEsR0FBQTRGLEVBQUF4SCxTQUFBNEIsR0FBQSxFQUNBLE9BQUE0RixHQUFBdkgsU0FBQTJCLEVBQUE2WSxJQUlBLE1BQUE3WSxLQUtBLFNBQUFzWCxHQUNBQSxFQUFBLGNBQ0FBLEVBQUEsa0JBQ0FBLEVBQUEsbUJBQ0NBLFlBRUQsSUFBQXdCLElBQUF4QixHQUVBeUIsR0FFQSxTQUFBdFQsR0FHQSxRQUFBc1QsS0FDQSxHQUFBcm9CLEdBQUEsT0FBQStVLEtBQUFDLE1BQUFqVixLQUFBa1YsWUFBQWxWLElBeUJBLE9BdkJBQyxHQUFBRyxPQUNBbW9CLG9CQUFBLEVBQ0FDLGlCQUFBOVMsSUFHQXpWLEVBQUF3b0IsY0FBQSxXQUNBLEdBQUE5YixHQUFBMU0sRUFBQXhKLE1BQ0F6QixFQUFBMlgsRUFBQTNYLE1BQ0EwekIsRUFBQS9iLEVBQUErYixRQUNBOW1CLEVBQUErSyxFQUFBL0ssS0FDQSttQixFQUFBL21CLElBQUF5bUIsR0FBQU8sTUFBQSxNQUNBQyxFQUFBLElBQUFGLEVBQUEzekIsQ0FNQSxPQUpBNE0sS0FBQXltQixHQUFBTyxPQUFBNXpCLEVBQUEsS0FDQTZ6QixHQUFBLE1BSUE3c0IsT0FBQTBzQixFQUFBLFlBQ0EvSSxVQUFBLFdBQUFrSixFQUFBLFNBSUE1b0IsRUEwQ0EsTUF0RUVoTCxRQUFBMmMsRUFBQSxHQUFTMFcsRUFBQXRULEdBK0JYc1QsRUFBQXJ5QixVQUFBc2YsT0FBQSxXQUNBLEdBQUE1SSxHQUFBK04sRUFFQVMsRUFBQW5iLEtBQUF2SixNQUNBOEssRUFBQTRaLEVBQUE1WixRQUNBdW5CLEVBQUEzTixFQUFBMk4sV0FDQSxPQUFXN3pCLFFBQUE2YyxFQUFBLGVBQWEsT0FDeEJuSyxNQUFBM0gsS0FBQXlvQixnQkFDQS9oQixVQUFpQjBNLElBQVU3UixFQUFBd25CLFNBQUFwYyxLQUEwQkEsRUFBQXBMLEVBQUF5bkIsa0JBQUFocEIsS0FBQUksTUFBQW1vQixtQkFBQTViLEtBQzlDMVgsT0FBQTZjLEVBQUEsZUFBYSxPQUNwQnBMLFVBQWlCME0sSUFBVTdSLEVBQUEwbkIsT0FBQXZPLEtBQXdCQSxFQUFBblosRUFBQTJuQixTQUFBSixFQUFBcE8sUUFlbkQ0TixFQUFBbFQseUJBQUEsU0FBQXZQLEVBQUF6RixHQUNBLE1BQUF5RixHQUFBakUsT0FBQXhCLEVBQUFvb0IsY0FFQUQsb0JBQUEsRUFDQUMsYUFBQTNpQixFQUFBakUsT0FLQTJtQixvQkFBQSxFQUNBQyxhQUFBM2lCLEVBQUFqRSxPQUlBMG1CLEdBQ0V4VyxFQUFBLFdBQ0ZxWCxHQUFBLFNBQUF2dUIsR0FDQSxNQUFTOFksTUFDVHFWLFNBQ0F6dEIsTUFBQSxFQUNBOEIsZ0JBQUF4QyxFQUFBTyxRQUFBaUIsUUFBQWYsS0FDQWlDLFNBQUEsV0FDQXFCLEtBQUEsa0JBQ0FFLE9BQUEsTUFDQXluQixnQkFBQSxxQkFFQTBDLGtCQUNBbkosV0FBQWpsQixFQUFBMGtCLFlBQUFwcEIsUUFBQSx3QkFFQSt5QixPQUNBM3RCLE1BQUEsRUFDQVUsT0FBQSxFQUNBb0IsZ0JBQUF4QyxFQUFBTyxRQUFBMmlCLE9BQUFDLE1BQ0F0aEIsYUFBQSxPQUNBYSxTQUFBLFdBQ0FvQixLQUFBLEdBQ0FDLE1BQUEsR0FDQXlxQixPQUFBLGNBQUF4dUIsRUFBQU8sUUFBQWlCLFFBQUFmLEtBQ0FndUIsVUFBQSxlQUVBSCxTQUNBOXJCLGdCQUFBeEMsRUFBQU8sUUFBQWlCLFFBQUFmLFNBSUFpdUIsR0FBcUIxVixJQUFZdVYsSUFDakN6akIsS0FBQSwyQkFDQzRpQixJQUVEaUIsR0FFQSxTQUFBdlUsR0FHQSxRQUFBdVUsS0FDQSxHQUFBdHBCLEdBQUEsT0FBQStVLEtBQUFDLE1BQUFqVixLQUFBa1YsWUFBQWxWLElBaURBLE9BL0NBQyxHQUFBdXBCLFVBQUEsRUFFQXZwQixFQUFBd3BCLGdCQUFBLFNBQUFqUSxHQUNBdlosRUFBQXVwQixVQUFBLEVBRUF2cEIsRUFBQXlwQixRQUFBbFEsSUFHQXZaLEVBQUEwcEIsZUFBQSxTQUFBblEsR0FDQXZaLEVBQUF1cEIsV0FDQXZwQixFQUFBeXBCLFFBQUFsUSxHQUFBLEdBRUF2WixFQUFBdXBCLFVBQUEsSUFJQXZwQixFQUFBMnBCLFdBQUEsU0FBQXBRLEdBQ0FBLEVBQUFFLGlCQUNBRixFQUFBRyx1QkFFQSxLQUFBSCxFQUFBcVEsUUFBQSxJQUFBclEsRUFBQXNRLFlBQUFDLE1BQUEsSUFBQXZRLEVBQUFxUSxVQUdBNXBCLEVBQUF5cEIsUUFBQWxRLEVBQUFzUSxhQUFBLElBSUE3cEIsRUFBQStwQixjQUFBLFNBQUF4USxHQUNBdlosRUFBQXVwQixXQUNBdnBCLEVBQUF1cEIsVUFBQSxHQUdBdnBCLEVBQUF5cEIsUUFBQWxRLEVBQUFzUSxhQUFBLElBR0E3cEIsRUFBQTZvQixZQUFBLFdBQ0EsR0FBQW5jLEdBQUExTSxFQUFBeEosTUFDQW1MLEVBQUErSyxFQUFBL0ssS0FDQTVNLEVBQUEyWCxFQUFBM1gsS0FFQSxPQUFBNE0sS0FBQXltQixHQUFBTyxPQUlBNXpCLEVBQUEsTUFHQWlMLEVBaUVBLE1BckhFaEwsUUFBQTJjLEVBQUEsR0FBUzJYLEVBQUF2VSxHQXVEWHVVLEVBQUF0ekIsVUFBQXl6QixRQUFBLFNBQUFsUSxFQUFBcEMsT0FDQSxLQUFBQSxJQUNBQSxHQUFBLEVBR0EsSUFBQW9RLEdBQUFoTyxFQUFBZ08sUUFDQUMsRUFBQWpPLEVBQUFpTyxPQUVBLGFBQUFELEVBQUEsQ0FDQSxHQUFBeUMsR0FBQXpRLEVBQUFoakIsT0FBQTB6Qix1QkFDQTFDLEdBQUFoTyxFQUFBMlEsZUFBQSxHQUFBQyxRQUFBSCxFQUFBdHJCLEtBQ0E4b0IsRUFBQWpPLEVBQUEyUSxlQUFBLEdBQUFFLFFBQUFKLEVBQUF2ckIsSUFHQSxHQUFBMUosR0FBQWdMLEtBQUF2SixNQUFBbUwsT0FBQXltQixHQUFBaUMsU0FBQXRxQixLQUFBdkosTUFBQW1MLE9BQUF5bUIsR0FBQWtDLFFBQUF2YixHQUFBd1ksRUFBQUMsR0FBQTlaLEdBQUE2WixFQUFBQyxFQUFBNUUsUUFBQTdpQixLQUFBdkosTUFBQTBZLE1BQ0FuUCxNQUFBdkosTUFBQWlnQixTQUFBMWhCLEVBQUFvaUIsSUFHQW1TLEVBQUF0ekIsVUFBQXNmLE9BQUEsV0FDQSxHQUFBNUksR0FBQTNNLEtBQUF2SixNQUNBOEssRUFBQW9MLEVBQUFwTCxRQUNBdk0sRUFBQTJYLEVBQUEzWCxNQUNBd2dCLEVBQUE3SSxFQUFBNkksU0FDQTVULEVBQUErSyxFQUFBL0ssS0FDQXVOLEVBQUF4QyxFQUFBd0MsS0FDQXFiLEdBQUFyYixHQUFBdk4sSUFBQXltQixHQUFBTyxRQUFBNXpCLEVBQUEsR0FBQUEsRUFBQSxHQUNBLE9BQVdDLFFBQUE2YyxFQUFBLGVBQWEsT0FDeEJwTCxVQUFBbkYsRUFBQWlHLFdBQ092UyxPQUFBNmMsRUFBQSxlQUFhLE9BQ3BCcEwsVUFBQW5GLEVBQUFrcEIsT0FDT3gxQixPQUFBNmMsRUFBQSxlQUFhLE9BQ3BCaUssS0FBQSxPQUNBMkYsVUFBQSxFQUNBaGIsVUFBQW5GLEVBQUFtcEIsV0FDQUMsWUFBQTNxQixLQUFBeXBCLGdCQUNBbUIsV0FBQTVxQixLQUFBMnBCLGVBQ0FrQixVQUFBN3FCLEtBQUFncUIsY0FDQWMsWUFBQTlxQixLQUFBNHBCLGFBQ1EzMEIsT0FBQTZjLEVBQUEsZUFBYSxPQUNyQnBMLFVBQUFuRixFQUFBd3BCLE1BQ1E5MUIsT0FBQTZjLEVBQUEsZUFBYXdYLElBQ3JCMW5CLE9BQ0E1TSxRQUNBMHpCLFFBQUE4QixFQUNBMUIsWUFBQTlvQixLQUFBOG9CLGdCQUNLdFQsS0FjTCtULEVBQUE5VCxjQUNBdEcsTUFBQSxHQUVBb2EsR0FDRXpYLEVBQUEsV0FDRmtaLEdBQUEsU0FBQXB3QixHQUNBLE1BQVM4WSxNQUNUbE0sV0FDQTFNLFFBQUEsT0FDQWEsZUFBQSxTQUNBRixXQUFBLFdBQ0EybEIsT0FBQSxFQUFBeG1CLEVBQUFpRCxRQUFBQyxLQUFBLFFBQUFsRCxFQUFBaUQsUUFBQUMsS0FBQSxNQUVBMnNCLE9BQ0FydEIsZ0JBQUEsa0JBQ0FYLGFBQUEsTUFDQVQsT0FBQSxJQUNBVixNQUFBLElBQ0FnQyxTQUFBLFdBQ0Ewa0IsY0FBQSxPQUNBbmxCLE9BQUEsR0FFQTZ0QixZQUNBcHZCLE1BQUEsT0FDQVUsT0FBQSxPQUNBc0IsU0FBQSxXQUNBMGtCLGNBQUEsT0FDQStCLFFBQUEsT0FDQWtILGFBQUEsT0FDQUMsV0FBQSxPQUNBQyxZQUNBbHZCLE9BQUEsU0FHQTh1QixLQUNBenZCLE1BQUEsRUFDQVUsT0FBQSxFQUNBUyxhQUFBLE1BQ0FXLGdCQUFBeEMsRUFBQU8sUUFBQWlCLFFBQUFmLEtBQ0FpQyxTQUFBLFdBQ0FvQixJQUFBLE1BQ0FDLEtBQUEsTUFDQWdoQixVQUFBLDRCQUlBak8sR0FBY2tDLElBQVlvWCxJQUMxQnRsQixLQUFBLG9CQUNDNmpCLElBRUQ2QixJQUNBQyxHQUFBLE1BQ0FDLEdBQUEsU0FDQUMsR0FBQSxXQUNBQyxHQUFBLFNBQ0FDLEdBQUEsWUFDQUMsR0FBQSxZQUNBQyxHQUFBLE9BQ0FDLElBQUEsWUFDQUMsSUFBQSxZQUNBQyxJQUFBLFNBQ0FDLEtBQUEsV0FDQUMsS0FBQSxXQUNBQyxJQUFBLEtBQ0FDLElBQUEsV0FDQUMsSUFBQSxPQUNBQyxJQUFBLFFBQ0FDLElBQUEsUUFDQUMsSUFBQSxRQUNBQyxJQUFBLE9BQ0FDLEtBQUEsUUFDQUMsS0FBQSxRQUNBQyxLQUFBLFFBQ0FDLEtBQUEsT0FDQUMsS0FBQSxRQUdBQyxHQUVBLFNBQUE3WCxHQUdBLFFBQUE2WCxLQUNBLEdBQUE1c0IsR0FBQSxPQUFBK1UsS0FBQUMsTUFBQWpWLEtBQUFrVixZQUFBbFYsSUFTQSxPQVBBQyxHQUFBNnNCLGtCQUFBLFNBQUE5TCxHQUNBLEdBQUExakIsR0FBQTh0QixHQUFBcEssRUFDQSxRQUNBckIsVUFBQSxhQUFBcmlCLEVBQUEsVUFBQUEsRUFBQSxVQUlBMkMsRUFnQ0EsTUE1Q0VoTCxRQUFBMmMsRUFBQSxHQUFTaWIsRUFBQTdYLEdBZVg2WCxFQUFBNTJCLFVBQUFzZixPQUFBLFdBQ0EsR0FBQTVJLEdBRUErTixFQUFBMWEsS0FBQXZKLE1BQ0FnbkIsRUFBQS9DLEVBQUErQyxTQUNBQyxFQUFBaEQsRUFBQWdELE1BQ0FzRCxFQUFBdEcsRUFBQXNHLE1BQ0F6ZixFQUFBbVosRUFBQW5aLFFBQ0FtbkIsRUFBQWhPLEVBQUFnTyxRQUNBaGlCLEVBQW9CME0sSUFBVTdSLEVBQUF3ckIsYUFBQXBnQixLQUE4QkEsRUFBQXBMLEVBQUFrYyxZQUFBOVEsR0FDNUQsT0FBVzFYLFFBQUE2YyxFQUFBLGVBQWNrQyxFQUFBOEQsR0FDekJ6UCxRQUFBcWdCLEVBQUEsb0JBQ0E3RSxVQUFBLE9BQ0FuZCxZQUNBaUIsTUFBQTNILEtBQUE4c0Isa0JBQUE5TCxJQUNLdEQsSUFXTG1QLEVBQUFwWCxjQUNBaVQsU0FBQSxHQUVBbUUsR0FDRS9hLEVBQUEsV0FDRmtiLEdBQUEsU0FBQXB5QixHQUNBLEdBQUF5TSxHQUFBLEVBQUF6TSxFQUFBaUQsUUFBQUMsSUFDQSxPQUFTNFYsTUFDVHFaLGFBQ0F6eEIsTUFBQStMLEVBQ0FyTCxPQUFBcUwsRUFDQTZqQixXQUFBLE9BQ0E1dEIsU0FBQSxXQUNBcUIsS0FBQSxjQUFBMEksRUFBQSxRQUNBdk0sUUFBQSxjQUNBYSxlQUFBLFNBQ0FGLFdBQUEsU0FDQWdCLGFBQUEsTUFDQU4sTUFBQSxVQUFBdkIsRUFBQU8sUUFBQXlHLEtBQUFoSCxFQUFBTyxRQUFBa21CLEtBQUFqbEIsUUFBQXhCLEVBQUFPLFFBQUFrbUIsS0FBQUMsTUFFQTdELFVBQ0F0aEIsTUFBQXZCLEVBQUFPLFFBQUEyaUIsT0FBQUMsVUFJQWtQLEdBQW9CclosSUFBWW9aLElBQ2hDdG5CLEtBQUEsMEJBQ0NtbkIsSUFFREssR0FBQSxTQUFBdmdCLEdBcUJBLE9BcEJBd0MsR0FBQXhDLEVBQUF3QyxLQUNBZ0csRUFBQXhJLEVBQUF3SSxNQUNBL0csRUFBQXpCLEVBQUF5QixLQUNBK2UsRUFBQWhZLEVBQUF4SCxTQUFBUyxHQUNBZ2YsS0FDQUMsRUFBQWxlLEVBQUEsSUFDQW1lLEVBQUFuZSxFQUFBLE1BY0FvZSxFQUFBRixFQUE0QkUsR0FBQUQsRUFBaUJDLEdBQUEsR0FDN0MsR0FBQTdQLEdBQUE2UCxFQUFBek0sVUFFQSxLQUFBeU0sSUFDQTdQLEVBQUEsS0FHQSxJQUFBam5CLElBQ0F1cUIsTUFBQXVNLEVBQ0E3UCxNQUFBdkksRUFBQXJHLGFBQUE0TyxHQUNBRCxTQXRCQSxTQUFBOFAsR0FDQSxNQUFBcGUsR0FDQSxLQUFBb2UsRUFDQSxLQUFBSixHQUFBLElBQUFBLEVBR0FBLElBQUFJLEdBQUFKLEVBQUEsS0FBQUksRUFHQUosSUFBQUksR0FhQUEsR0FDQTdFLFNBQUF2WixJQUFBLElBQUFvZSxLQUFBLElBRUFILEdBQUF2dEIsS0FBcUI1SyxPQUFBNmMsRUFBQSxlQUFhbWIsR0FBZ0JoNEIsT0FBQTJjLEVBQUEsSUFDbEQ3YyxJQUFBdzRCLEdBQ0s5MkIsS0FHTCxNQUFBMjJCLElBRUFJLEdBQUEsU0FBQTdnQixHQUNBLEdBQUEzWCxHQUFBMlgsRUFBQTNYLE1BQ0FtZ0IsRUFBQXhJLEVBQUF3SSxNQUNBc1ksRUFBQXRZLEVBQUFyRyxZQUNBLFFBQVU3WixPQUFBNmMsRUFBQSxlQUFhbWIsSUFDdkJ2UCxNQUFBK1AsRUFBQSxNQUNBaFEsU0FBQSxJQUFBem9CLEVBQ0Fnc0IsTUFBQSxHQUNBanNCLElBQUEsS0FDTUUsT0FBQTZjLEVBQUEsZUFBYW1iLElBQ25CdlAsTUFBQStQLEVBQUEsTUFDQWhRLFNBQUEsSUFBQXpvQixFQUNBZ3NCLE1BQUEsRUFDQWpzQixJQUFBLElBQ01FLE9BQUE2YyxFQUFBLGVBQWFtYixJQUNuQnZQLE1BQUErUCxFQUFBLE1BQ0FoUSxTQUFBLEtBQUF6b0IsRUFDQWdzQixNQUFBLEVBQ0Fqc0IsSUFBQSxJQUNNRSxPQUFBNmMsRUFBQSxlQUFhbWIsSUFDbkJ2UCxNQUFBK1AsRUFBQSxNQUNBaFEsU0FBQSxLQUFBem9CLEVBQ0Fnc0IsTUFBQSxFQUNBanNCLElBQUEsSUFDTUUsT0FBQTZjLEVBQUEsZUFBYW1iLElBQ25CdlAsTUFBQStQLEVBQUEsTUFDQWhRLFNBQUEsS0FBQXpvQixFQUNBZ3NCLE1BQUEsRUFDQWpzQixJQUFBLElBQ01FLE9BQUE2YyxFQUFBLGVBQWFtYixJQUNuQnZQLE1BQUErUCxFQUFBLE1BQ0FoUSxTQUFBLEtBQUF6b0IsRUFDQWdzQixNQUFBLEVBQ0Fqc0IsSUFBQSxJQUNNRSxPQUFBNmMsRUFBQSxlQUFhbWIsSUFDbkJ2UCxNQUFBK1AsRUFBQSxNQUNBaFEsU0FBQSxLQUFBem9CLEVBQ0Fnc0IsTUFBQSxFQUNBanNCLElBQUEsSUFDTUUsT0FBQTZjLEVBQUEsZUFBYW1iLElBQ25CdlAsTUFBQStQLEVBQUEsTUFDQWhRLFNBQUEsS0FBQXpvQixFQUNBZ3NCLE1BQUEsRUFDQWpzQixJQUFBLElBQ01FLE9BQUE2YyxFQUFBLGVBQWFtYixJQUNuQnZQLE1BQUErUCxFQUFBLE1BQ0FoUSxTQUFBLEtBQUF6b0IsRUFDQWdzQixNQUFBLEVBQ0Fqc0IsSUFBQSxJQUNNRSxPQUFBNmMsRUFBQSxlQUFhbWIsSUFDbkJ2UCxNQUFBK1AsRUFBQSxNQUNBaFEsU0FBQSxLQUFBem9CLEVBQ0Fnc0IsTUFBQSxFQUNBanNCLElBQUEsSUFDTUUsT0FBQTZjLEVBQUEsZUFBYW1iLElBQ25CdlAsTUFBQStQLEVBQUEsTUFDQWhRLFNBQUEsS0FBQXpvQixFQUNBZ3NCLE1BQUEsR0FDQWpzQixJQUFBLEtBQ01FLE9BQUE2YyxFQUFBLGVBQWFtYixJQUNuQnZQLE1BQUErUCxFQUFBLE1BQ0FoUSxTQUFBLEtBQUF6b0IsRUFDQWdzQixNQUFBLEdBQ0Fqc0IsSUFBQSxPQUlBMjRCLEdBRUEsU0FBQTFZLEdBR0EsUUFBQTBZLEtBQ0EsR0FBQXp0QixHQUFBLE9BQUErVSxLQUFBQyxNQUFBalYsS0FBQWtWLFlBQUFsVixJQTJFQSxPQXpFQUMsR0FBQTB0QixhQUFBLFdBQ0EsR0FBQWhoQixHQUFBMU0sRUFBQXhKLE1BQ0FtTCxFQUFBK0ssRUFBQS9LLEtBQ0F1TixFQUFBeEMsRUFBQXdDLEtBQ0FmLEVBQUF6QixFQUFBeUIsS0FDQStHLEVBQUF4SSxFQUFBd0ksS0FFQSxRQUFBdlQsR0FDQSxJQUFBeW1CLElBQUFPLE1BQ0EsT0FDQTV6QixNQUFBbWdCLEVBQUF4SCxTQUFBUyxHQUNBb0gsU0FBQTBYLElBQ0E5ZSxPQUNBZSxLQUFBMFQsUUFBQTFULEdBQ0FnRyxVQUVBdUIsU0FBQXpXLEVBQUEydEIsaUJBR0EsS0FBQXZGLElBQUFrQyxRQUNBLEdBQUFzRCxHQUFBMVksRUFBQW5HLFdBQUFaLEVBQ0EsUUFDQXBaLE1BQUE2NEIsRUFDQXJZLFNBQUFnWSxJQUNBeDRCLE1BQUE2NEIsRUFDQTFZLFVBRUF1QixTQUFBelcsRUFBQTZ0QixvQkFHQSxLQUFBekYsSUFBQWlDLFFBQ0EsR0FBQXlELEdBQUE1WSxFQUFBckgsV0FBQU0sRUFDQSxRQUNBcFosTUFBQSs0QixFQUNBdlksU0FBQWdZLElBQ0F4NEIsTUFBQSs0QixFQUNBNVksVUFFQXVCLFNBQUF6VyxFQUFBK3RCLG9CQUdBLFNBQ0EsU0FBQXBZLE9BQUEsa0RBSUEzVixFQUFBMnRCLGlCQUFBLFNBQUF4RixFQUFBaFIsR0FDQSxHQUFBekssR0FBQTFNLEVBQUF4SixNQUNBMlgsRUFBQXpCLEVBQUF5QixLQUNBK0csRUFBQXhJLEVBQUF3SSxNQUNBOFksRUFBQTlZLEVBQUF2SCxTQUFBUSxFQUFBZ2EsRUFFQW5vQixHQUFBeEosTUFBQXkzQixhQUFBRCxFQUFBN1csSUFHQW5YLEVBQUE2dEIsb0JBQUEsU0FBQUssRUFBQS9XLEdBQ0EsR0FBQXpLLEdBQUExTSxFQUFBeEosTUFDQTJYLEVBQUF6QixFQUFBeUIsS0FDQStHLEVBQUF4SSxFQUFBd0ksTUFDQThZLEVBQUE5WSxFQUFBdEgsV0FBQU8sRUFBQStmLEVBRUFsdUIsR0FBQXhKLE1BQUEyM0IsZ0JBQUFILEVBQUE3VyxJQUdBblgsRUFBQSt0QixvQkFBQSxTQUFBSyxFQUFBalgsR0FDQSxHQUFBekssR0FBQTFNLEVBQUF4SixNQUNBMlgsRUFBQXpCLEVBQUF5QixLQUNBK0csRUFBQXhJLEVBQUF3SSxNQUNBOFksRUFBQTlZLEVBQUFwSCxXQUFBSyxFQUFBaWdCLEVBRUFwdUIsR0FBQXhKLE1BQUE2M0IsZ0JBQUFMLEVBQUE3VyxJQUdBblgsRUE0QkEsTUExR0VoTCxRQUFBMmMsRUFBQSxHQUFTOGIsRUFBQTFZLEdBaUZYMFksRUFBQXozQixVQUFBc2YsT0FBQSxXQUNBLEdBQUE1SSxHQUFBM00sS0FBQXZKLE1BQ0EwWSxFQUFBeEMsRUFBQXdDLEtBQ0F2TixFQUFBK0ssRUFBQS9LLEtBQ0Eyc0IsRUFBQXZ1QixLQUFBMnRCLGNBQ0EsT0FBVzE0QixRQUFBNmMsRUFBQSxlQUFhSixHQUFVemMsT0FBQTJjLEVBQUEsSUFDbENoUSxPQUNBdU4sUUFDS29mLEtBY0xiLEVBQUFqWSxjQUNBdEcsTUFBQSxHQUVBdWUsR0FDRTViLEVBQUEsZUFDRkwsR0FBQW9FLEtBQUE2WCxJQUVBYyxHQUVBLFNBQUF4WixHQUdBLFFBQUF3WixLQUNBLEdBQUF2dUIsR0FBQSxPQUFBK1UsS0FBQUMsTUFBQWpWLEtBQUFrVixZQUFBbFYsSUE2RkEsT0EzRkFDLEdBQUFHLE9BQ0FxdUIsU0FBQXBHLEdBQUFPLE1BQ0E4RixhQUFBenVCLEVBQUF4SixNQUFBMGUsTUFBQXhILFNBQUExTixFQUFBeEosTUFBQTJYLE9BQUEsY0FHQW5PLEVBQUEwdUIsZ0JBQUEsU0FBQUMsR0FDQSxrQkFDQTN1QixFQUFBSyxVQUNBb3VCLGFBQUFFLEdBQ1MsV0FDVCxNQUFBM3VCLEdBQUE0VyxjQUNBdEgsS0FBQXRQLEVBQUF4SixNQUFBMlgsS0FDQWdKLFVBQUEsRUFDQXlYLGFBQUEsRUFDQUMsYUFBQSxRQU1BN3VCLEVBQUE0VyxhQUFBLFNBQUFsSyxHQUNBLEdBQUE0QyxHQUFBNUMsRUFBQTRDLEtBQ0E2SCxFQUFBekssRUFBQXlLLFNBQ0F5WCxFQUFBbGlCLEVBQUFraUIsWUFDQUMsRUFBQW5pQixFQUFBbWlCLFlBQ0FDLEVBQUE3RyxHQUFBM1ksRUFBQXRQLEVBQUFHLE1BQUFzdUIsYUFBQTdMLFFBQUE1aUIsRUFBQXhKLE1BQUEwWSxNQUFBbFAsRUFBQXhKLE1BQUEwZSxNQUVBLElBQUFpQyxFQUFBLENBQ0EsSUFBQXlYLElBQUFDLEVBR0EsV0FGQTd1QixHQUFBeEosTUFBQWlnQixTQUFBcVksRUFBQTNYLEVBS0F5WCxJQUNBNXVCLEVBQUErdUIsa0JBR0FGLEdBQ0E3dUIsRUFBQWd2QixrQkFJQWh2QixFQUFBeEosTUFBQWlnQixTQUFBcVksR0FBQSxJQUdBOXVCLEVBQUEydEIsaUJBQUEsU0FBQXJlLEVBQUE2SCxHQUNBblgsRUFBQTRXLGNBQ0F0SCxPQUNBNkgsV0FDQXlYLGFBQUEsRUFDQUMsYUFBQSxLQUlBN3VCLEVBQUE2dEIsb0JBQUEsU0FBQXZlLEVBQUE2SCxHQUNBblgsRUFBQTRXLGNBQ0F0SCxPQUNBNkgsV0FDQXlYLGFBQUEsRUFDQUMsWUFBQWpNLFFBQUE1aUIsRUFBQXhKLE1BQUE0M0IsWUFJQXB1QixFQUFBK3RCLG9CQUFBLFNBQUF6ZSxFQUFBNkgsR0FDQW5YLEVBQUE0VyxjQUNBdEgsT0FDQTZILFdBQ0F5WCxhQUFBLEVBQ0FDLGFBQUEsS0FJQTd1QixFQUFBZ3ZCLGdCQUFBLFdBQ0FodkIsRUFBQUssVUFDQW11QixTQUFBcEcsR0FBQWlDLFdBSUFycUIsRUFBQSt1QixnQkFBQSxXQUNBL3VCLEVBQUFLLFVBQ0FtdUIsU0FBQXBHLEdBQUFrQyxXQUlBdHFCLEVBQUFpdkIsYUFBQSxXQUNBanZCLEVBQUFLLFVBQ0FtdUIsU0FBQXBHLEdBQUFPLFNBSUEzb0IsRUF1RkEsTUF2TEVoTCxRQUFBMmMsRUFBQSxHQUFTNGMsRUFBQXhaLEdBbUdYd1osRUFBQXY0QixVQUFBc2YsT0FBQSxXQUNBLEdBQUE1SSxHQUVBK04sRUFBQTFhLEtBQUF2SixNQUNBOEssRUFBQW1aLEVBQUFuWixRQUNBM0csRUFBQThmLEVBQUE5ZixNQUNBd1QsRUFBQXNNLEVBQUF0TSxLQUNBK0csRUFBQXVGLEVBQUF2RixNQUNBaEcsRUFBQXVMLEVBQUF2TCxLQUNBa2YsRUFBQTNULEVBQUEyVCxRQUNBbFQsRUFBQW5iLEtBQUFJLE1BQ0FzdUIsRUFBQXZULEVBQUF1VCxhQUNBRCxFQUFBdFQsRUFBQXNULFNBQ0FqTyxFQUFBLFFBQUE1bEIsRUFBQTZsQixVQUNBME8sRUFBQTNPLEVBQUFqZixFQUFBNnRCLHVCQUFBN3RCLEVBQUE4dEIsZUFDQSxPQUFXcDZCLFFBQUE2YyxFQUFBLGVBQWNBLEVBQUEsU0FBUSxLQUFRN2MsT0FBQTZjLEVBQUEsZUFBYXlMLElBQ3REN1csVUFBaUIwTSxJQUFVN1IsRUFBQThiLFNBQUExUSxLQUEwQkEsRUFBQXBMLEVBQUErdEIsb0JBQUFuZ0IsRUFBQXhDLEtBQzlDMVgsT0FBQTZjLEVBQUEsZUFBYSxPQUNwQnBMLFVBQUF5b0IsR0FDT2w2QixPQUFBNmMsRUFBQSxlQUFha00sSUFDcEIzVixRQUFBLEtBQ0FyQixRQUFBaEgsS0FBQWt2QixhQUNBelIsU0FBQWdSLElBQUFwRyxHQUFBTyxNQUNBbEwsTUFBQXZJLEVBQUF4RSxZQUFBdkMsRUFBQXlVLFFBQUExVCxNQUNRbGEsT0FBQTZjLEVBQUEsZUFBYWtNLElBQ3JCM1YsUUFBQSxLQUNBcVYsTUFBQSxJQUNBRCxVQUFBLEVBQ0EvVyxVQUFBbkYsRUFBQWd1QixZQUNRdDZCLE9BQUE2YyxFQUFBLGVBQWFrTSxJQUNyQjNWLFFBQUEsS0FDQXJCLFFBQUFoSCxLQUFBZ3ZCLGdCQUNBdlIsU0FBQWdSLElBQUFwRyxHQUFBa0MsUUFDQTdNLE1BQUF2SSxFQUFBdkUsY0FBQXhDLEtBQ0tpZ0IsR0FBY3A1QixPQUFBNmMsRUFBQSxlQUFjQSxFQUFBLFNBQVEsS0FBUTdjLE9BQUE2YyxFQUFBLGVBQWFrTSxJQUM5RDNWLFFBQUEsS0FDQXFWLE1BQUEsSUFDQUQsVUFBQSxFQUNBL1csVUFBQW5GLEVBQUFndUIsWUFDUXQ2QixPQUFBNmMsRUFBQSxlQUFha00sSUFDckIzVixRQUFBLEtBQ0FyQixRQUFBaEgsS0FBQWl2QixnQkFDQXhSLFNBQUFnUixJQUFBcEcsR0FBQWlDLFFBQ0E1TSxNQUFBdkksRUFBQXRFLGNBQUF6QyxPQUNLZSxHQUFhbGEsT0FBQTZjLEVBQUEsZUFBYSxPQUMvQnBMLFVBQUEybkIsRUFBQTlzQixFQUFBaXVCLHlCQUFBanVCLEVBQUFrdUIsZUFDT3g2QixPQUFBNmMsRUFBQSxlQUFha00sSUFDcEJ0WCxVQUFBbkYsRUFBQW11QixVQUNBalMsU0FBQSxPQUFBaVIsRUFDQXJtQixRQUFBLFlBQ0FxVixNQUFBdkksRUFBQWpHLGdCQUFBLE1BQ0FsSSxRQUFBaEgsS0FBQTJ1QixnQkFBQSxRQUNRMTVCLE9BQUE2YyxFQUFBLGVBQWFrTSxJQUNyQnRYLFVBQUFuRixFQUFBbXVCLFVBQ0FqUyxTQUFBLE9BQUFpUixFQUNBcm1CLFFBQUEsWUFDQXFWLE1BQUF2SSxFQUFBakcsZ0JBQUEsTUFDQWxJLFFBQUFoSCxLQUFBMnVCLGdCQUFBLFVBQ0szdUIsS0FBQXZKLE1BQUErZSxTQUEwQnZnQixPQUFBNmMsRUFBQSxlQUFhTCxJQUM1Q3JELE9BQ0F4TSxLQUFBNUIsS0FBQUksTUFBQXF1QixTQUNBdGYsT0FDQStlLGFBQUFsdUIsS0FBQTR0QixpQkFDQVEsZ0JBQUFwdUIsS0FBQTh0QixvQkFDQVEsZ0JBQUF0dUIsS0FBQWd1Qix3QkFlQVEsRUFBQS9ZLGNBQ0FELFNBQUEsS0FDQXJHLE1BQUEsRUFDQWtmLFNBQUEsR0FFQUcsR0FDRTFjLEVBQUEsV0FDRjZkLEdBQUEsV0FDQSxNQUFTamMsTUFDVDJKLFNBQ0F0aUIsY0FBQSxNQUNBVSxXQUFBLFVBRUE2ekIsb0JBQ0E5eEIsWUFBQSxJQUVBK3hCLFdBQ0FuTyxPQUFBLGNBQ0FubEIsT0FBQSxXQUVBd3pCLGVBQ0FqMEIsV0FBQSxHQUNBRCxhQUFBLElBRUFpMEIsMEJBQ0FoMEIsV0FBQSxHQUNBRCxZQUFBLElBRUFtMEIsV0FDQXJ6QixTQUFBLElBRUFnekIsaUJBQ0F2MEIsUUFBQSxPQUNBYSxlQUFBLFdBQ0FGLFdBQUEsWUFFQTJ6Qix3QkFDQXQwQixRQUFBLE9BQ0FhLGVBQUEsV0FDQUYsV0FBQSxXQUNBVixjQUFBLGtCQUlBNjBCLEdBQW1CaGMsSUFBWStiLElBQy9CL2tCLFdBQUEsRUFDQWxGLEtBQUEseUJBQ0NtUSxLQUFBMlksS0FFRHFCLEdBQUEsU0FBQXA1QixHQUNBLEdBQUF6QixHQUFBeUIsRUFBQXpCLE1BSUFtYSxHQUhBMVksRUFBQThYLE9BQ0E5WCxFQUFBNGdCLE9BQ0E1Z0IsRUFBQWlnQixTQUNBamdCLEVBQUEwWSxNQUNBd1csRUFBQWx2QixFQUFBa3ZCLGFBQ0EwSSxFQUFBNTNCLEVBQUE0M0IsUUFDQTVULEVBQWN4bEIsT0FBQTJjLEVBQUEsR0FBTW5iLEdBQUEsc0VBRXBCLE9BQVN4QixRQUFBNmMsRUFBQSxlQUFhUixHQUFlcmMsT0FBQTJjLEVBQUEsSUFDckNtRiwyQkFBQSxHQUNHdGdCLEdBQUEsU0FBQWtXLEdBQ0gsR0FBQXlCLEdBQUF6QixFQUFBeUIsS0FDQStHLEVBQUF4SSxFQUFBd0ksTUFDQXdCLEVBQUFoSyxFQUFBZ0ssYUFDQUUsRUFBQWxLLEVBQUFrSyxhQUNBSixFQUFBOUosRUFBQThKLFlBQ0FhLEVBQUEzSyxFQUFBMkssY0FDQVYsRUFBQWpLLEVBQUFpSyxtQkFDQUUsRUFBQW5LLEVBQUFtSyxzQkFDQVQsRUFBQTFKLEVBQUEwSixXQUNBVyxFQUFBckssRUFBQXFLLGtCQUNBLE9BQVcvaEIsUUFBQTZjLEVBQUEsZUFBYWdMLEdBQWU3bkIsT0FBQTJjLEVBQUEsSUFDdkNtRyxJQUFBNE4sRUFDQTN3QixRQUNBaWtCLFFBQUF4QyxFQUNBNkUsU0FBQTNFLEVBQ0FELFNBQUFJLEVBQ0F5RSxVQUFBakUsRUFDQWtFLFdBQUE1RSxFQUNBUCxhQUNBOUgsT0FBQXlJLEVBQUE3QixFQUFBcEksY0FBQW9JLEVBQUFuSSxnQkFDS3lOLEdBQVV4bEIsT0FBQTZjLEVBQUEsZUFBYThkLElBQzVCeGhCLE9BQ0FzSSxTQUFBRyxFQUNBMUgsT0FDQWtmLGVBYUF3QixJQUFBcGEsY0FDQXpnQixNQUFBLEdBQUFnUSxNQUNBdUosV0FBQW1ILEdBQ0EyQixRQUFBLEVBQ0FsSSxNQUFBLEVBQ0F3VyxpQkFBQWpRLEdBQ0EyWSxTQUFBLEVBRUEsSUFBQW5kLElBQXdCamMsT0FBQTZjLEVBQUEsWUFBVSxTQUFBcmIsRUFBQXNoQixHQUNsQyxNQUFTOWlCLFFBQUE2YyxFQUFBLGVBQWErZCxHQUFrQjU2QixPQUFBMmMsRUFBQSxNQUFXbmIsR0FDbkRrdkIsYUFBQTVOLE9BSUErWCxHQUFBLFNBQUFyNUIsR0FDQSxHQUFBekIsR0FBQXlCLEVBQUF6QixNQUdBbWEsR0FGQTFZLEVBQUE4WCxPQUNBOVgsRUFBQWlnQixTQUNBamdCLEVBQUEwWSxNQUNBd1csRUFBQWx2QixFQUFBa3ZCLGFBQ0EwSSxFQUFBNTNCLEVBQUE0M0IsUUFDQTVULEVBQWN4bEIsT0FBQTJjLEVBQUEsR0FBTW5iLEdBQUEsNkRBRXBCLE9BQVN4QixRQUFBNmMsRUFBQSxlQUFhUixHQUFlcmMsT0FBQTJjLEVBQUEsSUFDckNtRiwyQkFBQSxFQUNBTSxRQUFBLEdBQ0c1Z0IsR0FBQSxTQUFBa1csR0FDSCxHQUFBeUIsR0FBQXpCLEVBQUF5QixLQUNBK0csRUFBQXhJLEVBQUF3SSxNQUNBMEIsRUFBQWxLLEVBQUFrSyxhQUNBQyxFQUFBbkssRUFBQW1LLHNCQUNBVCxFQUFBMUosRUFBQTBKLFdBQ0FXLEVBQUFySyxFQUFBcUssbUJBQ0FMLEVBQUFoSyxFQUFBZ0ssWUFDQSxPQUFXMWhCLFFBQUE2YyxFQUFBLGVBQWEyVSxHQUFrQnh4QixPQUFBMmMsRUFBQSxJQUMxQ2dWLFNBQUFqQixFQUNBM3dCLFFBQ0EwaEIsU0FBQUksRUFDQVQsYUFDQU0sZUFDQXBJLE9BQUF5SSxFQUFBN0IsRUFBQXBJLGNBQUFvSSxFQUFBbkksZ0JBQ0t5TixHQUFVeGxCLE9BQUE2YyxFQUFBLGVBQWE4ZCxJQUM1QnhoQixPQUNBc0ksU0FBQUcsRUFDQTFILE9BQ0FrZixlQVlBeUIsSUFBQXJhLGNBQ0F0RyxNQUFBLEVBQ0FuYSxNQUFBLEdBQUFnUSxNQUNBdUosV0FBQW1ILEdBQ0FpUSxpQkFBQWpRLEdBQ0EyWSxTQUFBLEVBRUEsSUFNQTBCLElBTkE1ZSxHQUF5QmxjLE9BQUE2YyxFQUFBLFlBQVUsU0FBQXJiLEVBQUFzaEIsR0FDbkMsTUFBUzlpQixRQUFBNmMsRUFBQSxlQUFhZ2UsR0FBbUI3NkIsT0FBQTJjLEVBQUEsTUFBV25iLEdBQ3BEa3ZCLGFBQUE1TixRQU1BLFNBQUFnWSxHQUNBQSxFQUFBLFlBQ0FBLEVBQUEsWUFDQUEsRUFBQSxhQUNBQSxFQUFBLG1CQUNDQSxZQUVELElBQUFDLElBQUFELEdBRUFFLEdBQUEsU0FBQXIxQixHQUNBLE1BQVM4WSxNQUNUMkosU0FDQXRpQixjQUFBLE1BQ0FVLFdBQUEsU0FDQStCLFlBQUEsR0FDQWpCLGFBQUEsR0FDQVosZUFBQSxnQkFFQTR6QixXQUNBbk8sT0FBQSxjQUNBbmxCLE9BQUEsV0FFQXd6QixlQUNBL3dCLElBQUEsRUFDQXBCLFNBQUEsV0FDQTlCLFdBQUEsR0FDQUQsYUFBQSxJQUVBbTBCLFdBQ0FyekIsU0FBQSxJQUVBZ3pCLGlCQUNBM3dCLElBQUEsRUFDQXBCLFNBQUEsV0FDQXhDLFFBQUEsT0FDQWEsZUFBQSxXQUNBRixXQUFBLFdBQ0FWLGNBQUEsUUFBQUgsRUFBQTZsQixVQUFBLHFCQUVBeVAsWUFDQWwwQixPQUFBLElBRUFtMEIsWUFDQW4wQixPQUFBLEdBQ0FsQixRQUFBLE9BQ0FhLGVBQUEsV0FDQUYsV0FBQSxlQUlBMjBCLEdBQUEsU0FBQXpqQixHQUNBLEdBQUF5QixHQUFBekIsRUFBQXlCLEtBQ0E3TSxFQUFBb0wsRUFBQXBMLFFBQ0FrdEIsRUFBQTloQixFQUFBOGhCLFNBQ0FDLEVBQUEvaEIsRUFBQStoQixhQUNBMkIsRUFBQTFqQixFQUFBMGpCLGlCQUNBMUIsRUFBQWhpQixFQUFBZ2lCLGdCQUNBeFosRUFBQXhJLEVBQUF3SSxNQUNBaEcsRUFBQXhDLEVBQUF3QyxJQUNBLE9BQVNsYSxRQUFBNmMsRUFBQSxlQUFheUwsSUFDdEI3VyxVQUFBbkYsRUFBQThiLFNBQ0twb0IsT0FBQTZjLEVBQUEsZUFBYSxPQUNsQnBMLFVBQUFuRixFQUFBMnVCLFlBQ0tqN0IsT0FBQTZjLEVBQUEsZUFBYWtNLElBQ2xCM1YsUUFBQSxZQUNBckIsUUFBQSxXQUNBLE1BQUFxcEIsR0FBQUwsR0FBQU0sT0FFQTdTLFNBQUFnUixJQUFBdUIsR0FBQU0sS0FDQTVTLE1BQUF2SSxFQUFBNUUsWUFBQW5DLEtBQ01uWixPQUFBNmMsRUFBQSxlQUFha00sSUFDbkIzVixRQUFBLEtBQ0FyQixRQUFBLFdBQ0EsTUFBQXFwQixHQUFBTCxHQUFBTyxPQUVBOVMsU0FBQWdSLElBQUF1QixHQUFBTyxLQUNBN1MsTUFBQXZJLEVBQUExRSw0QkFBQXJDLE1BQ09uWixPQUFBNmMsRUFBQSxlQUFhLE9BQ3BCcEwsVUFBQW5GLEVBQUE0dUIsWUFDS2w3QixPQUFBNmMsRUFBQSxlQUFhLE9BQ2xCcEwsVUFBQW5GLEVBQUE4dEIsaUJBQ0twNkIsT0FBQTZjLEVBQUEsZUFBYWtNLElBQ2xCM1YsUUFBQSxLQUNBckIsUUFBQSxXQUNBLE1BQUFxcEIsR0FBQUwsR0FBQVEsT0FFQS9TLFNBQUFnUixJQUFBdUIsR0FBQVEsS0FDQTlTLE1BQUF2SSxFQUFBeEUsWUFBQXZDLEVBQUFlLEtBQ01sYSxPQUFBNmMsRUFBQSxlQUFha00sSUFDbkIzVixRQUFBLEtBQ0FxVixNQUFBLElBQ0FELFVBQUEsRUFDQS9XLFVBQUFuRixFQUFBZ3VCLFlBQ010NkIsT0FBQTZjLEVBQUEsZUFBYWtNLElBQ25CM1YsUUFBQSxLQUNBckIsUUFBQSxXQUNBLE1BQUFxcEIsR0FBQUwsR0FBQXpGLFVBRUE5TSxTQUFBZ1IsSUFBQXVCLEdBQUF6RixRQUNBN00sTUFBQXZJLEVBQUF2RSxjQUFBeEMsTUFDR2UsR0FBWWxhLE9BQUE2YyxFQUFBLGVBQWEsT0FDNUJwTCxVQUFBbkYsRUFBQWt1QixlQUNLeDZCLE9BQUE2YyxFQUFBLGVBQWFrTSxJQUNsQnRYLFVBQUFuRixFQUFBbXVCLFVBQ0FqUyxTQUFBLE9BQUFpUixFQUNBcm1CLFFBQUEsWUFDQXFWLE1BQUF2SSxFQUFBakcsZ0JBQUEsTUFDQWxJLFFBQUEybkIsRUFBQSxRQUNNMTVCLE9BQUE2YyxFQUFBLGVBQWFrTSxJQUNuQnRYLFVBQUFuRixFQUFBbXVCLFVBQ0FqUyxTQUFBLE9BQUFpUixFQUNBcm1CLFFBQUEsWUFDQXFWLE1BQUF2SSxFQUFBakcsZ0JBQUEsTUFDQWxJLFFBQUEybkIsRUFBQSxXQWNBeUIsSUFBQTNhLGNBQ0F0RyxNQUFBLEVBRUEsSUFBQXNoQixJQUEyQjdjLElBQVlxYyxJQUN2Q3ZxQixLQUFBLHNCQUNDbVEsS0FBQXVhLEtBRURNLEdBQUEsU0FBQWpDLEdBQ0EsTUFBQUEsS0FBQXVCLEdBQUFPLE1BQUE5QixJQUFBdUIsR0FBQU0sS0FDQSxPQUdBLFFBR0FLLEdBQUEsU0FBQUMsR0FDQSxlQUFBQSxFQUNBWixHQUFBTyxLQUdBUCxHQUFBUSxNQUdBSyxHQUFBLFNBQUFwNkIsR0FDQSxHQUFBcTZCLEdBQUFyNkIsRUFBQXE2QixLQUNBcGEsRUFBQWpnQixFQUFBaWdCLFNBQ0FuVixFQUFBOUssRUFBQThLLFFBQ0EzRyxFQUFBbkUsRUFBQW1FLE1BQ0FtMkIsRUFBQXQ2QixFQUFBczZCLGNBQ0FDLEVBQUF2NkIsRUFBQXU2QixTQUNBQyxFQUFBLFVBQUFyMkIsRUFBQU8sUUFBQXlHLEtBQUEsc0JBRUFpVixFQUFBLFNBQUEyQyxFQUFBeGtCLEdBQ0FBLElBQUEwN0IsR0FBQUksSUFDQXBhLEVBQUFpYSxHQUFBMzdCLElBSUEsT0FBU0MsUUFBQTZjLEVBQUEsZUFBY3dDLEVBQUF3RCxFQUFLLEtBQVE3aUIsT0FBQTZjLEVBQUEsZUFBYzhDLEVBQUFrRCxHQUNsRG9aLFdBQUEsRUFDQWw4QixNQUFBMDdCLEdBQUFJLEdBQ0FwYSxTQUFBRyxFQUNBblEsVUFBQW5GLEVBQUE0dkIsS0FDQUYsa0JBQ0toOEIsT0FBQTZjLEVBQUEsZUFBYzRDLEVBQUFvRCxHQUNuQjlpQixNQUFBLE9BQ0FvOEIsS0FBVW44QixPQUFBNmMsRUFBQSxlQUFjSyxFQUFBMkYsRUFBSSxLQUFBaVosS0FDdEI5N0IsT0FBQTZjLEVBQUEsZUFBYzRDLEVBQUFvRCxHQUNwQjlpQixNQUFBLE9BQ0FvOEIsS0FBVW44QixPQUFBNmMsRUFBQSxlQUFjSyxFQUFBMkYsRUFBSSxLQUFBa1osUUFXNUJLLEdBQUEsU0FBQXoyQixHQUNBLE9BQ0F1MkIsTUFDQWgxQixNQUFBdkIsRUFBQU8sUUFBQTJpQixPQUFBQyxNQUNBM2dCLGdCQUFBLFVBQUF4QyxFQUFBTyxRQUFBeUcsS0FBQWhILEVBQUFPLFFBQUFpQixRQUFBZixLQUFBVCxFQUFBTyxRQUFBQyxXQUFBLFdBSUFrMkIsR0FBMkI5YyxNQUFZWixJQUFZeWQsSUFDbkQzckIsS0FBQSxvQkFDQ21yQixLQUVEVSxHQUFBLFNBQUE1a0IsR0FDQSxHQUFBOFEsR0FBQTlRLEVBQUE4USxTQUNBakksRUFBQTdJLEVBQUE2SSxRQUVBLE9BQUFpSSxHQUlTeG9CLE9BQUE2YyxFQUFBLGVBQWEsT0FDdEIwRCxhQUpBLE1BWUFnYyxHQUVBLFNBQUF4YyxHQUdBLFFBQUF3YyxLQUNBLEdBQUF2eEIsR0FBQSxPQUFBK1UsS0FBQUMsTUFBQWpWLEtBQUFrVixZQUFBbFYsSUF5REEsT0F2REFDLEdBQUFHLE9BQ0FxdUIsU0FBQXh1QixFQUFBeEosTUFBQWc3QixPQUNBL0MsYUFBQXp1QixFQUFBeEosTUFBQTBlLE1BQUF4SCxTQUFBMU4sRUFBQXhKLE1BQUEyWCxPQUFBLGNBR0FuTyxFQUFBeVcsU0FBQSxTQUFBbkgsRUFBQTZILEVBQUFzYSxPQUNBLEtBQUF0YSxJQUNBQSxHQUFBLEdBR0FuWCxFQUFBNFcsYUFBQXRILEdBRUE2SCxHQUFBblgsRUFBQXhKLE1BQUFrN0IsWUFDQTF4QixFQUFBMnhCLGlCQUFBRixJQUlBenhCLEVBQUEwdUIsZ0JBQUEsU0FBQUMsR0FDQSxrQkFDQTN1QixFQUFBSyxVQUNBb3VCLGFBQUFFLEdBQ1MsV0FDVCxNQUFBM3VCLEdBQUE0VyxhQUFBNVcsRUFBQXhKLE1BQUEyWCxNQUFBLE9BS0FuTyxFQUFBMnhCLGlCQUFBLFNBQUFkLEdBQ0E3d0IsRUFBQUssVUFDQW11QixTQUFBcUMsS0FJQTd3QixFQUFBNFcsYUFBQSxTQUFBdEgsRUFBQTZILE9BQ0EsS0FBQUEsSUFDQUEsR0FBQSxFQUdBLElBQUEyWCxHQUFBN0csR0FBQTNZLEVBQUF0UCxFQUFBRyxNQUFBc3VCLGFBQUE3TCxRQUFBNWlCLEVBQUF4SixNQUFBMFksTUFBQWxQLEVBQUF4SixNQUFBMGUsTUFFQWxWLEdBQUF4SixNQUFBaWdCLFNBQUFxWSxFQUFBM1gsSUFHQW5YLEVBQUE0eEIsaUJBQUEsU0FBQXpqQixHQUNBbk8sRUFBQXlXLFNBQUF0SSxHQUFBLEVBQUE0aEIsR0FBQU8sT0FHQXR3QixFQUFBNnhCLGdCQUFBLFNBQUExakIsRUFBQWdKLEdBQ0FuWCxFQUFBeVcsU0FBQXRJLEVBQUFnSixFQUFBNFksR0FBQVEsT0FHQXZ3QixFQUFBMnRCLGlCQUFBLFNBQUFyZSxFQUFBNkgsR0FDQW5YLEVBQUF5VyxTQUFBbkgsRUFBQTZILEVBQUE0WSxHQUFBekYsVUFHQXRxQixFQXVIQSxNQW5MRWhMLFFBQUEyYyxFQUFBLEdBQVM0ZixFQUFBeGMsR0ErRFh3YyxFQUFBdjdCLFVBQUFzZixPQUFBLFdBQ0EsR0FBQTVJLEdBQUEzTSxLQUFBSSxNQUNBcXVCLEVBQUE5aEIsRUFBQThoQixTQUNBQyxFQUFBL2hCLEVBQUEraEIsYUFDQWhVLEVBQUExYSxLQUFBdkosTUFDQTJYLEVBQUFzTSxFQUFBdE0sS0FDQW1LLEVBQUFtQyxFQUFBbkMsUUFDQUQsRUFBQW9DLEVBQUFwQyxRQUNBd0QsRUFBQXBCLEVBQUFvQixTQUNBdEQsRUFBQWtDLEVBQUFsQyxZQUNBQyxFQUFBaUMsRUFBQWpDLGNBQ0EySCxFQUFBMUYsRUFBQTBGLGNBQ0FDLEVBQUEzRixFQUFBMkYsZUFDQTBRLEVBQUFyVyxFQUFBcVcsY0FDQUMsRUFBQXRXLEVBQUFzVyxTQUNBOU4sRUFBQXhJLEVBQUF3SSxVQUNBL1QsRUFBQXVMLEVBQUF2TCxLQUNBK08sRUFBQXhELEVBQUF3RCxrQkFDQXFHLEVBQUE3SixFQUFBNkoscUJBQ0FkLEVBQUEvSSxFQUFBK0kscUJBQ0FzTyxFQUFBclgsRUFBQXFYLHVCQUNBQyxFQUFBRCxFQUNBRSxFQUFBLGdCQUFBRixPQUNBdEQsV0FDQS9YLFNBQUExVyxLQUFBMFcsU0FFQSxPQUFXemhCLFFBQUE2YyxFQUFBLGVBQWNBLEVBQUEsU0FBUSxLQUFRN2MsT0FBQTZjLEVBQUEsZUFBYTJlLElBQ3REcmlCLE9BQ0FxZ0IsV0FDQUMsZUFDQUMsZ0JBQUEzdUIsS0FBQTJ1QixnQkFDQTBCLGlCQUFBcndCLEtBQUE0eEIsaUJBQ0F6aUIsU0FDSzJNLEdBQWU3bUIsT0FBQTZjLEVBQUEsZUFBYXdmLElBQ2pDUixLQUFBckMsRUFDQS9YLFNBQUExVyxLQUFBNHhCLGlCQUNBYixnQkFDQUMsYUFDUS83QixPQUFBNmMsRUFBQSxlQUFha2dCLEVBQVkvOEIsT0FBQTJjLEVBQUEsTUFBV3FnQixHQUFnQ2g5QixPQUFBNmMsRUFBQSxlQUFheWYsSUFDekY5VCxTQUFBZ1IsSUFBQXVCLEdBQUFNLE1BQ09yN0IsT0FBQTZjLEVBQUEsZUFBYW1ULElBQ3BCN1csT0FDQW1LLFVBQ0FELFVBQ0E1QixTQUFBMVcsS0FBQTZ4QixpQkFDQXJaLGNBQ0FDLGdCQUNBOEwsMEJBQ1N0dkIsT0FBQTZjLEVBQUEsZUFBYXlmLElBQ3RCOVQsU0FBQWdSLElBQUF1QixHQUFBTyxNQUNPdDdCLE9BQUE2YyxFQUFBLGVBQWFQLElBQ3BCa1MsdUJBQ0FyVixPQUNBbUssVUFDQUQsVUFDQTVCLFNBQUExVyxLQUFBOHhCLGdCQUNBdFosY0FDQUMsZ0JBQ0EySCxnQkFDQUMsaUJBQ0E2QyxZQUNBaEYsdUJBQ1NqcEIsT0FBQTZjLEVBQUEsZUFBYXlmLElBQ3RCOVQsU0FBQWdSLElBQUF1QixHQUFBUSxNQUFBL0IsSUFBQXVCLEdBQUF6RixTQUNPdDFCLE9BQUE2YyxFQUFBLGVBQWFMLElBQ3BCckQsT0FDQXhNLEtBQUE2c0IsRUFDQVAsYUFBQWx1QixLQUFBNHRCLGlCQUNBUSxnQkFBQXB1QixLQUFBNlcsYUFDQXlYLGdCQUFBdHVCLEtBQUE2VyxhQUNBMUgsYUE4QkFxaUIsRUFBQS9iLGNBQ0FnTyxzQkFBQSxFQUNBdFUsTUFBQSxFQUNBb1Ysc0JBQUEsRUFDQW9OLFlBQUEsRUFDQVosa0JBQUFyYixHQUNBK0MsZUFBQSxFQUNBRCxhQUFBLEVBQ0E0SCxrQkFBQTFLLEdBQ0F3TixjQUFBeE4sR0FDQTJLLG1CQUFBM0ssR0FDQXdJLHNCQUFBeEksR0FDQW9HLFVBQUEsRUFDQWtWLGFBQUF0YixHQUNBcWMsdUJBQUEsT0FFQVAsR0FDRTFmLEVBQUEsV0FDRm9nQixHQUFBcmMsS0FBQTJiLElBRUFXLEdBQUEsU0FBQTE3QixHQUNBLEdBQUF6QixHQUFBeUIsRUFBQXpCLE1BR0F5OEIsR0FGQWg3QixFQUFBOFgsT0FDQTlYLEVBQUE0Z0IsT0FDQTVnQixFQUFBZzdCLFFBQ0FsWixFQUFBOWhCLEVBQUE4aEIsUUFDQUQsRUFBQTdoQixFQUFBNmhCLFFBRUF3RCxHQURBcmxCLEVBQUF5ZixtQkFDQXpmLEVBQUFxbEIsVUFDQTZWLEVBQUFsN0IsRUFBQWs3QixXQUNBblosRUFBQS9oQixFQUFBK2hCLFlBQ0FDLEVBQUFoaUIsRUFBQWdpQixjQUNBMkgsRUFBQTNwQixFQUFBMnBCLGNBQ0FDLEVBQUE1cEIsRUFBQTRwQixlQUNBMFEsRUFBQXQ2QixFQUFBczZCLGNBQ0FDLEVBQUF2NkIsRUFBQXU2QixTQUNBOU4sRUFBQXpzQixFQUFBeXNCLFVBQ0EvVCxFQUFBMVksRUFBQTBZLEtBQ0ErTyxFQUFBem5CLEVBQUF5bkIsa0JBQ0FxRyxFQUFBOXRCLEVBQUE4dEIscUJBQ0FvQixFQUFBbHZCLEVBQUFrdkIsYUFDQWxDLEVBQUFodEIsRUFBQWd0QixxQkFDQWhKLEVBQWN4bEIsT0FBQTJjLEVBQUEsR0FBTW5iLEdBQUEsb1NBR3BCMjdCLEVBQUF0VyxHQUFBLG1CQUFBdVcsZ0JBQUFDLFlBQUEsR0FDQSxPQUFTcjlCLFFBQUE2YyxFQUFBLGVBQWFSLEdBQWVyYyxPQUFBMmMsRUFBQSxNQUFXbmIsR0FBQSxTQUFBa1csR0FDaEQsR0FBQXlCLEdBQUF6QixFQUFBeUIsS0FDQStHLEVBQUF4SSxFQUFBd0ksTUFDQXdCLEVBQUFoSyxFQUFBZ0ssYUFDQUUsRUFBQWxLLEVBQUFrSyxhQUNBSixFQUFBOUosRUFBQThKLFlBQ0FhLEVBQUEzSyxFQUFBMkssY0FDQVYsRUFBQWpLLEVBQUFpSyxtQkFDQUUsRUFBQW5LLEVBQUFtSyxzQkFDQVQsRUFBQTFKLEVBQUEwSixXQUNBVyxFQUFBckssRUFBQXFLLGtCQUNBLE9BQVcvaEIsUUFBQTZjLEVBQUEsZUFBYWdMLEdBQWU3bkIsT0FBQTJjLEVBQUEsSUFDdkNrSyxTQUFBc1csRUFDQXJhLElBQUE0TixFQUNBbE4sZ0JBQ0FELGNBQ0FGLFVBQ0FDLFVBQ0ErQyxTQUFBM0UsRUFDQUQsU0FBQUksRUFDQW1DLFFBQUF4QyxFQUNBOEUsVUFBQWpFLEVBQ0FrRSxXQUFBNUUsRUFDQTVoQixRQUNBcWhCLGFBQ0E5SCxPQUFBeUksRUFBQTdCLEVBQUF0SSxrQkFBQXNJLEVBQUFySSxvQkFDSzJOLEdBQVV4bEIsT0FBQTZjLEVBQUEsZUFBYW9nQixJQUM1QnpPLHVCQUNBdFUsT0FDQW9WLHVCQUNBb04sYUFDQXZqQixPQUNBMmlCLGdCQUNBdFksZ0JBQ0FELGNBQ0E0SCxnQkFDQTlILFVBQ0FDLFVBQ0E3QixTQUFBRyxFQUNBNGEsU0FDQXZPLFlBQ0E3QyxpQkFDQW5DLG9CQUNBcEMsU0FBQXNXLEVBQ0FwQixnQkF3RUFtQixJQUFBMWMsY0FDQXpnQixNQUFBLEdBQUFnUSxNQUNBdUosV0FBQW1ILEdBQ0EyQixRQUFBLEVBQ0FzYSxZQUFBLEVBQ0FGLE9BQUEsT0FDQWhaLGVBQUEsRUFDQUQsYUFBQSxFQUNBRCxRQUFBLGFBQ0FELFFBQUEsYUFDQXBDLHVCQUFBUixHQUNBb0csVUFBQSxFQUNBc0UsY0FBQSxzQkFDQUMsZUFBQSx1QkFDQTBRLGNBQUEsYUFDQUMsU0FBQSxjQUNBOU4sY0FBQXhOLEdBQ0F2RyxNQUFBLEVBQ0ErTyxzQkFBQXhJLEdBQ0E2TyxzQkFBQSxFQUNBb0IsaUJBQUFqUSxHQUNBK04sc0JBQUEsRUFFQSxJQUFBclMsSUFBNEJuYyxPQUFBNmMsRUFBQSxZQUFVLFNBQUFyYixFQUFBc2hCLEdBQ3RDLE1BQVM5aUIsUUFBQTZjLEVBQUEsZUFBYXFnQixHQUFzQmw5QixPQUFBMmMsRUFBQSxNQUFXbmIsR0FDdkRrdkIsYUFBQTVOLE9BSUF3YSxHQUFBLFNBQUE5N0IsR0FDQSxHQUFBekIsR0FBQXlCLEVBQUF6QixNQUdBeThCLEdBRkFoN0IsRUFBQThYLE9BQ0E5WCxFQUFBNGdCLE9BQ0E1Z0IsRUFBQWc3QixRQUNBbFosRUFBQTloQixFQUFBOGhCLFFBQ0FELEVBQUE3aEIsRUFBQTZoQixRQUVBd0QsR0FEQXJsQixFQUFBeWYsbUJBQ0F6ZixFQUFBcWxCLFVBQ0E2VixFQUFBbDdCLEVBQUFrN0IsV0FDQW5aLEVBQUEvaEIsRUFBQStoQixZQUNBQyxFQUFBaGlCLEVBQUFnaUIsY0FDQTJILEVBQUEzcEIsRUFBQTJwQixjQUNBQyxFQUFBNXBCLEVBQUE0cEIsZUFDQTBRLEVBQUF0NkIsRUFBQXM2QixjQUNBQyxFQUFBdjZCLEVBQUF1NkIsU0FDQTlOLEVBQUF6c0IsRUFBQXlzQixVQUNBL1QsRUFBQTFZLEVBQUEwWSxLQUNBK08sRUFBQXpuQixFQUFBeW5CLGtCQUNBcUcsRUFBQTl0QixFQUFBOHRCLHFCQUNBb0IsRUFBQWx2QixFQUFBa3ZCLGFBQ0FsQyxFQUFBaHRCLEVBQUFndEIscUJBQ0FoSixFQUFjeGxCLE9BQUEyYyxFQUFBLEdBQU1uYixHQUFBLG1TQUVwQixPQUFTeEIsUUFBQTZjLEVBQUEsZUFBYVIsR0FBZXJjLE9BQUEyYyxFQUFBLE1BQVduYixHQUNoRDRnQixRQUFBLElBQ0csU0FBQTFLLEdBQ0gsR0FBQXlCLEdBQUF6QixFQUFBeUIsS0FDQStHLEVBQUF4SSxFQUFBd0ksTUFDQTBCLEVBQUFsSyxFQUFBa0ssYUFDQUMsRUFBQW5LLEVBQUFtSyxzQkFDQVQsRUFBQTFKLEVBQUEwSixXQUNBVyxFQUFBckssRUFBQXFLLG1CQUNBTCxFQUFBaEssRUFBQWdLLFlBQ0EsT0FBVzFoQixRQUFBNmMsRUFBQSxlQUFhMlUsR0FBa0J4eEIsT0FBQTJjLEVBQUEsSUFDMUNnVixTQUFBakIsRUFDQWxOLGdCQUNBRCxjQUNBRixVQUNBQyxVQUNBN0IsU0FBQUksRUFDQTloQixRQUNBcWhCLGFBQ0FNLGVBQ0FwSSxPQUFBeUksRUFBQTdCLEVBQUF0SSxrQkFBQXNJLEVBQUFySSxvQkFDSzJOLEdBQVV4bEIsT0FBQTZjLEVBQUEsZUFBYW9nQixJQUM1QnpPLHVCQUNBdFUsT0FDQW9WLHVCQUNBb04sYUFDQXZqQixPQUNBMmlCLGdCQUNBdFksZ0JBQ0FELGNBQ0E0SCxnQkFDQTlILFVBQ0FDLFVBQ0E3QixTQUFBRyxFQUNBNGEsU0FDQXZPLFlBQ0E3QyxpQkFDQW5DLG9CQUNBcEMsV0FDQWtWLGdCQTRCQXVCLElBQUE5YyxjQUNBemdCLE1BQUEsR0FBQWdRLE1BQ0F1SixXQUFBbUgsR0FDQTJCLFFBQUEsRUFDQXNhLFlBQUEsRUFDQUYsT0FBQSxPQUNBaFosZUFBQSxFQUNBRCxhQUFBLEVBQ0FELFFBQUEsYUFDQUQsUUFBQSxhQUNBcEMsdUJBQUFSLEdBQ0FvRyxVQUFBLEVBQ0FzRSxjQUFBLHNCQUNBQyxlQUFBLHVCQUNBMFEsY0FBQSxhQUNBQyxTQUFBLGNBQ0E5TixjQUFBeE4sR0FDQXZHLE1BQUEsRUFDQStPLHNCQUFBeEksR0FDQTZPLHNCQUFBLEVBQ0FvQixpQkFBQWpRLEdBQ0ErTixzQkFBQSxFQUVBLElBQUFwUyxJQUE2QnBjLE9BQUE2YyxFQUFBLFlBQVUsU0FBQXJiLEVBQUFzaEIsR0FDdkMsTUFBUzlpQixRQUFBNmMsRUFBQSxlQUFheWdCLEdBQXVCdDlCLE9BQUEyYyxFQUFBLE1BQVduYixHQUN4RGt2QixhQUFBNU4sUUg0ckNNeWEsS0FDQSxTQUFVaitCLEVBQVFDLEVBQVNDLEdBRWpDLFlJdm5LQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FFN0UsUUFBQTg5QixHQUFBOTlCLEdBQXdVLE9BQXRPODlCLEVBQTNFLGtCQUFBQyxTQUFBLGdCQUFBQSxRQUFBQyxTQUEyRSxTQUFBaCtCLEdBQWtDLGFBQUFBLElBQStCLFNBQUFBLEdBQWtDLE1BQUFBLElBQUEsa0JBQUErOUIsU0FBQS85QixFQUFBd0IsY0FBQXU4QixRQUFBLzlCLElBQUErOUIsT0FBQXo4QixVQUFBLGVBQUF0QixLQUFtSUEsR0FFeFUsUUFBQWkrQixLQUFtUixNQUE5UEEsR0FBQTM5QixPQUFBNDlCLFFBQUEsU0FBQXI4QixHQUFnRCxPQUFBRSxHQUFBLEVBQWdCQSxFQUFBd2UsVUFBQXZlLE9BQXNCRCxJQUFBLENBQU8sR0FBQW84QixHQUFBNWQsVUFBQXhlLEVBQTJCLFFBQUEzQixLQUFBKzlCLEdBQTBCNzlCLE9BQUFnQixVQUFBODhCLGVBQUFuOUIsS0FBQWs5QixFQUFBLzlCLEtBQXlEeUIsRUFBQXpCLEdBQUErOUIsRUFBQS85QixJQUFpQyxNQUFBeUIsSUFBa0JvOEIsRUFBQTNkLE1BQUFqVixLQUFBa1YsV0FFblIsUUFBQTVmLEdBQUFDLEVBQUFDLEdBQWlELEtBQUFELFlBQUFDLElBQTBDLFNBQUFDLFdBQUEscUNBRTNGLFFBQUF1OUIsR0FBQXg4QixFQUFBQyxHQUEyQyxPQUFBQyxHQUFBLEVBQWdCQSxFQUFBRCxFQUFBRSxPQUFrQkQsSUFBQSxDQUFPLEdBQUFFLEdBQUFILEVBQUFDLEVBQTJCRSxHQUFBekIsV0FBQXlCLEVBQUF6QixhQUFBLEVBQXdEeUIsRUFBQXhCLGNBQUEsRUFBZ0MsU0FBQXdCLE9BQUF2QixVQUFBLEdBQXVESixPQUFBQyxlQUFBc0IsRUFBQUksRUFBQTdCLElBQUE2QixJQUU5UCxRQUFBTixHQUFBZCxFQUFBcUIsRUFBQUMsR0FBaU0sTUFBcElELElBQUFtOEIsRUFBQXg5QixFQUFBUyxVQUFBWSxHQUFzRUMsR0FBQWs4QixFQUFBeDlCLEVBQUFzQixHQUE4RHRCLEVBRWpNLFFBQUFFLEdBQUFDLEVBQUFDLEdBQWlELE9BQUFBLEdBQUEsV0FBQTY4QixFQUFBNzhCLElBQUEsa0JBQUFBLEdBQXlGcTlCLEVBQUF0OUIsR0FBZkMsRUFFM0gsUUFBQXM5QixHQUFBQyxHQUFnTCxPQUFuSkQsRUFBQWorQixPQUFBbUIsZUFBQW5CLE9BQUFpTCxlQUFBLFNBQUFpekIsR0FBZ0csTUFBQUEsR0FBQTk4QixXQUFBcEIsT0FBQWlMLGVBQUFpekIsS0FBbURBLEdBRWhMLFFBQUFyOUIsR0FBQUMsRUFBQUMsR0FBMEMscUJBQUFBLElBQUEsT0FBQUEsRUFBK0QsU0FBQVAsV0FBQSxxREFBNkVNLEdBQUFFLFVBQUFoQixPQUFBaUIsT0FBQUYsS0FBQUMsV0FBeUVFLGFBQWVuQixNQUFBZSxFQUFBVixVQUFBLEVBQUFELGNBQUEsS0FBMERZLEdBQUFvOUIsRUFBQXI5QixFQUFBQyxHQUV4VSxRQUFBbzlCLEdBQUFELEVBQUFFLEdBQTBJLE9BQTFHRCxFQUFBbitCLE9BQUFtQixnQkFBQSxTQUFBKzhCLEVBQUFFLEdBQTZGLE1BQWpCRixHQUFBOThCLFVBQUFnOUIsRUFBaUJGLElBQWFBLEVBQUFFLEdBRTFJLFFBQUFKLEdBQUF0OUIsR0FBdUMsWUFBQUEsRUFBdUIsU0FBQUUsZ0JBQUEsNERBQXlGLE9BQUFGLEdBL0J2SlYsT0FBQUMsZUFBQVYsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUFLLFlBQUEsRUFFQSxJQUFBeStCLEdBQUE1K0IsRUFBd0NELEVBQVEsSUFFaERzQyxFQUFBckMsRUFBb0NELEVBQVEsSUFFNUM4K0IsRUFBYTkrQixFQUFRLE1Bd0JyQisrQixHQUNBQyxrQkFBQUgsRUFBQXorQixRQUFBNitCLFdBQUFKLEVBQUF6K0IsUUFBQTgrQixPQUFBTCxFQUFBeitCLFFBQUErK0IsUUFBQSxNQUNBQyxpQkFBQVAsRUFBQXorQixRQUFBOCtCLE9BQ0FHLG9CQUFBUixFQUFBeitCLFFBQUErK0IsT0FBQSwwQkFDQUcsYUFBQVQsRUFBQXorQixRQUFBbS9CLE9BQ0FDLGtCQUFBWCxFQUFBeitCLFFBQUFxL0IsS0FDQUMsWUFBQWIsRUFBQXorQixRQUFBKytCLE9BQUEsaUJBQ0FRLE9BQUFkLEVBQUF6K0IsUUFBQTgrQixPQUNBVSxPQUFBZixFQUFBeitCLFFBQUE4K0IsT0FDQXBsQixPQUFBK2tCLEVBQUF6K0IsUUFBQTYrQixXQUFBSixFQUFBeitCLFFBQUE4K0IsT0FBQUwsRUFBQXorQixRQUFBeS9CLE9BQ0FDLGlCQUFBakIsRUFBQXorQixRQUFBeS9CLEtBQ0F6YyxLQUFBeWIsRUFBQXorQixRQUFBNitCLFdBQUFKLEVBQUF6K0IsUUFBQTgrQixPQUFBTCxFQUFBeitCLFFBQUEyL0IsUUFBQWxCLEVBQUF6K0IsUUFBQTgrQixVQUNBMytCLE1BQUFzK0IsRUFBQXorQixRQUFBNitCLFdBQUFKLEVBQUF6K0IsUUFBQW0vQixPQUFBVixFQUFBeitCLFFBQUE4K0IsU0FDQWMsYUFBQW5CLEVBQUF6K0IsUUFBQTYrQixXQUFBSixFQUFBeitCLFFBQUFtL0IsT0FBQVYsRUFBQXorQixRQUFBOCtCLFNBQ0FlLGdCQUFBcEIsRUFBQXorQixRQUFBcS9CLEtBQ0FTLFlBQUFyQixFQUFBeitCLFFBQUF5L0IsS0FDQU0sY0FBQXRCLEVBQUF6K0IsUUFBQXEvQixLQUNBVyxxQkFBQXZCLEVBQUF6K0IsUUFBQXEvQixLQUNBWSxjQUFBeEIsRUFBQXorQixRQUFBeS9CLEtBQ0FqWixVQUFBaVksRUFBQXorQixRQUFBeS9CLEtBQ0F6SixVQUFBeUksRUFBQXorQixRQUFBeS9CLEtBQ0E1ZCxTQUFBNGMsRUFBQXorQixRQUFBeS9CLEtBQ0FTLFFBQUF6QixFQUFBeitCLFFBQUF5L0IsS0FDQTFhLE9BQUEwWixFQUFBeitCLFFBQUF5L0IsS0FDQTF5QixLQUFBMHhCLEVBQUF6K0IsUUFBQSsrQixPQUFBLDBCQUNBb0IsVUFBQTFCLEVBQUF6K0IsUUFBQXkvQixLQUNBVyxXQUFBM0IsRUFBQXorQixRQUFBeS9CLEtBQ0FZLFlBQUE1QixFQUFBeitCLFFBQUF5L0IsTUFFQTdlLEdBQ0EwZSxZQUFBLFFBQ0FOLGlCQUFBLElBQ0FDLG9CQUFBLFdBQ0FHLG1CQUFBLEVBQ0FHLE9BQUEsR0FDQUMsT0FBQSxHQUNBTyxlQUFBLEVBQ0FDLHNCQUFBLEVBQ0FILGlCQUFBLEVBQ0E5eUIsS0FBQSxPQUNBa3pCLGNBQUF2QixFQUFBNEIsS0FDQXplLFNBQUE2YyxFQUFBNEIsS0FDQTlaLFVBQUFrWSxFQUFBNEIsS0FDQXRLLFVBQUEwSSxFQUFBNEIsS0FDQUosUUFBQXhCLEVBQUE0QixLQUNBdmIsT0FBQTJaLEVBQUE0QixLQUNBSCxVQUFBekIsRUFBQTZCLFdBQ0FGLFlBQUEzQixFQUFBNEIsTUFHQUUsRUFFQSxTQUFBQyxHQUdBLFFBQUFELEdBQUE1K0IsR0FDQSxHQUFBd0osRUFFQTNLLEdBQUEwSyxLQUFBcTFCLEdBRUFwMUIsRUFBQXZLLEVBQUFzSyxLQUFBa3pCLEVBQUFtQyxHQUFBei9CLEtBQUFvSyxLQUFBdkosR0FDQSxJQUFBZytCLEdBQUFoK0IsRUFBQWcrQixZQUVBeDBCLEdBQUFzMUIsZUFFQSxJQUFBQyxHQUFBdjFCLEVBQUF3MUIsZ0JBQUFoQixFQWVBLE9BYkF4MEIsR0FBQUcsT0FDQXBMLE1BQUF3Z0MsRUFDQUUsWUFBQXoxQixFQUFBczBCLGlCQUFBaUIsSUFFQXYxQixFQUFBMDFCLHNCQUNBQyxlQUFBLEVBQ0FDLGFBQUEsR0FFQTUxQixFQUFBeVcsU0FBQXpXLEVBQUF5VyxTQUFBb2YsS0FBQTdDLElBQUFoekIsS0FDQUEsRUFBQW9iLFVBQUFwYixFQUFBb2IsVUFBQXlhLEtBQUE3QyxJQUFBaHpCLEtBQ0FBLEVBQUE0cUIsVUFBQTVxQixFQUFBNHFCLFVBQUFpTCxLQUFBN0MsSUFBQWh6QixLQUNBQSxFQUFBODBCLFFBQUE5MEIsRUFBQTgwQixRQUFBZSxLQUFBN0MsSUFBQWh6QixLQUNBQSxFQUFBMlosT0FBQTNaLEVBQUEyWixPQUFBa2MsS0FBQTdDLElBQUFoekIsS0FDQUEsRUE4MkJBLE1BejRCQW5LLEdBQUF1L0IsRUFBQUMsR0E4QkFoL0IsRUFBQSsrQixJQUNBdGdDLElBQUEscUJBQ0FDLE1BQUEsU0FBQXdpQixHQUNBeFgsS0FBQSsxQixzQkFBQXZlLE1BR0F6aUIsSUFBQSx3QkFDQUMsTUFBQSxTQUFBd2lCLEdBQ0EsR0FBQS9nQixHQUFBdUosS0FBQXZKLE1BQ0EySixFQUFBSixLQUFBSSxNQUNBNDFCLEVBQUFoMkIsS0FBQWcyQixXQUNBQyxFQUFBNzFCLEVBQUFwTCxNQUNBa2hDLEVBQUE5MUIsRUFBQXMxQixZQUNBUyxNQUFBLEtBQUFELEVBQUEsR0FBQUEsQ0FFQSxJQUFBMWUsSUFBQS9nQixFQUFBLENBRUF1SixLQUFBdTFCLGVBQ0EsSUFBQWEsR0FBQXAyQixLQUFBcTJCLGdCQUFBRixHQUNBWCxNQUFBOWYsS0FBQWpmLEVBQUF6QixNQUFBb2hDLEVBQUFwMkIsS0FBQXkxQixrQkFDQUMsRUFBQTExQixLQUFBdTBCLGlCQUFBaUIsR0FDQWMsRUFBQUMsV0FBQWIsR0FDQWMsRUFBQUQsV0FBQUosSUFHQU0sTUFBQUgsSUFBQUcsTUFBQUQsSUFBQUYsSUFBQUUsSUFDQUosSUFBQUgsSUFDQSxPQUFBRCxHQUFBUixJQUFBUyxJQUNBajJCLEtBQUEwMkIsYUFDQWxCLGlCQUNBRSxjQUNBaUIsTUFBQVgsUUFRQWpoQyxJQUFBLGlCQUNBQyxNQUFBLFdBQ0EsR0FBQTRoQyxHQUFBMWhCLFVBQUF2ZSxPQUFBLE9BQUErZSxLQUFBUixVQUFBLEdBQUFBLFVBQUEsTUFDQTZlLEVBQUEvekIsS0FBQXZKLE1BQUFzOUIsYUFFQThDLEVBQUE3MkIsS0FBQTgyQixnQkFDQWpELEVBQUFnRCxFQUFBaEQsaUJBRUFrRCxFQUFBLzJCLEtBQUFnM0IsZ0JBQUEsR0FFQUMsRUFBQSxNQUFBTCxFQUFBLEVBQ0FLLEtBQUFMLElBQUFNLFFBQUEsU0FFQXJELEdBQUEsSUFBQUUsSUFDQTZDLElBQUFPLE1BQUF0RCxHQUFBLElBR0ErQyxLQUFBdndCLE1BQUEwd0IsUUFBQUssS0FBQSxJQUFBRixRQUFBckQsRUFBQSxJQUVBLElBQUF3RCxHQUFBVCxFQUFBVSxRQUFBLElBUUEsUUFOQSxJQUFBRCxJQUNBVCxFQUFBLEdBQUFXLE9BQUFYLEVBQUFZLFVBQUEsRUFBQUgsR0FBQSxLQUFBRSxPQUFBWCxFQUFBWSxVQUFBSCxFQUFBLEVBQUFULEVBQUFqZ0MsUUFBQXVnQyxRQUFBLEdBQUFPLFNBQUEsRUFBQWxFLEVBQUFtRSxjQUFBN0QsR0FBQSxXQUlBb0QsSUFBQUwsRUFBQSxJQUFBQSxHQUNBQSxLQUlBN2hDLElBQUEsaUJBQ0FDLE1BQUEsU0FBQTJpQyxFQUFBQyxHQUNBLEdBQUFDLEdBQUE3M0IsS0FBQXZKLE1BQ0E4WCxFQUFBc3BCLEVBQUF0cEIsT0FDQXdsQixFQUFBOEQsRUFBQTlELGFBRUErRCxFQUFBOTNCLEtBQUE4MkIsZ0JBQ0FqRCxFQUFBaUUsRUFBQWpFLGdCQUVBLFdBQUE0RCxRQUFBLFFBQUE1RCxHQUFBLElBQUFFLEdBQUE2RCxHQUFBcnBCLEVBQUEsVUFBQWdsQixFQUFBbUUsY0FBQTdELElBQUE4RCxFQUFBLFFBQUFqaUIsT0FHQTNnQixJQUFBLGdCQUNBQyxNQUFBLFdBQ0EsR0FBQTYrQixHQUFBN3pCLEtBQUF2SixNQUFBbzlCLGlCQUNBSixFQUFBenpCLEtBQUF2SixNQUFBZzlCLGlCQU1BLFFBSkEsSUFBQUEsSUFDQUEsRUFBQSxNQUlBSSxtQkFDQUosd0JBSUExK0IsSUFBQSxpQkFDQUMsTUFBQSxTQUFBZ3NCLEdBQ0EsR0FBQStXLEdBQUEvM0IsS0FBQXZKLE1BQUFvaEIsS0FDQUEsTUFBQSxLQUFBa2dCLEVBQUEsSUFBQUEsQ0FFQSx1QkFBQWxnQixHQUNBQSxFQUdBQSxFQUFBbUosSUFBQSxPQUdBanNCLElBQUEsaUJBQ0FDLE1BQUEsU0FBQXdnQyxFQUFBRSxHQUNBLEdBQUFZLEdBQUFDLFdBQUFiLEVBQ0EsUUFDQUYsaUJBQ0F4Z0MsTUFBQTBnQyxFQUNBWSxXQUFBRyxNQUFBSCxPQUFBNWdCLEdBQUE0Z0IsTUFJQXZoQyxJQUFBLGdCQUNBQyxNQUFBLFdBQ0EsR0FBQTZpQixHQUFBN1gsS0FBQXZKLE1BQUFvaEIsS0FFQW1nQixFQUFBaDRCLEtBQUE4MkIsZ0JBQ0FqRCxFQUFBbUUsRUFBQW5FLGlCQUNBSixFQUFBdUUsRUFBQXZFLGlCQUVBLElBQUFJLElBQUFKLEVBQ0EsU0FBQTdkLE9BQUEsb0dBQUEyaEIsT0FBQTlELEVBQUEsa0dBQW1MOEQsT0FBQTFELEVBQUEsdURBSW5MLElBQUFoYyxFQUFBLENBR0EsSUFGQSxXQUFBQSxNQUFBaUosWUFFQXphLE1BQUEsT0FDQSxTQUFBdVAsT0FBQSxvQkFBQTJoQixPQUFBMWYsRUFBQSx5REFTQTlpQixJQUFBLDBCQUNBQyxNQUFBLFNBQUFpakMsRUFBQUMsRUFBQUMsSUFJQSxFQUFBNUUsRUFBQTZFLGtCQUFBSCxFQUFBQyxHQUNBeFQsV0FBQSxXQUNBdVQsRUFBQWpqQyxRQUFBbWpDLElBQUEsRUFBQTVFLEVBQUE2RSxrQkFBQUgsRUFBQUMsSUFDTyxNQUtQbmpDLElBQUEsdUJBQ0FDLE1BQUEsU0FBQUEsRUFBQWtqQyxFQUFBelgsR0FDQSxHQUFBNFgsR0FBQXI0QixLQUFBdkosTUFDQTI5QixFQUFBaUUsRUFBQWpFLE9BQ0FDLEVBQUFnRSxFQUFBaEUsT0FDQTlsQixFQUFBOHBCLEVBQUE5cEIsTUFFQSxTQUFBdlosRUFBQSxRQUlBLElBRkFrakMsR0FBQSxFQUFBM0UsRUFBQStFLE9BQUFKLEVBQUEsRUFBQWxqQyxFQUFBMkIsU0FFQTRYLEVBQUEsQ0FDQSxHQUFBMG9CLEdBQUEsTUFBQWppQyxFQUFBLEVBQ0EsVUFBQXUrQixFQUFBK0UsT0FBQUosRUFBQTlELEVBQUF6OUIsUUFBQXNnQyxFQUFBLEtBQUFqaUMsRUFBQTJCLE9BQUEwOUIsRUFBQTE5QixRQUlBLHFCQUFBNFgsR0FBQSxNQUFBMnBCLEVBSUEsVUFBQTNwQixFQUFBMnBCLEtBQUEsRUFBQTNFLEVBQUFnRixjQUFBdmpDLEVBQUFrakMsSUFBQSxNQUFBQSxFQUVBLFVBQUEzcEIsRUFBQTJwQixFQUFBLE9BQUEzRSxFQUFBZ0YsY0FBQXZqQyxFQUFBa2pDLEVBQUEsVUFBQUEsRUFFQSxJQUFBTSxHQUFBanFCLEVBQUErb0IsUUFBQSxLQUNBbUIsRUFBQWxxQixFQUFBbXFCLFlBQUEsSUFFQVIsSUFBQSxFQUFBM0UsRUFBQStFLE9BQUFKLEVBQUFNLEVBQUFDLEVBQUEsRUFLQSxLQUpBLEdBQUFFLEdBQUFwcUIsRUFBQWlwQixVQUFBVSxFQUFBM3BCLEVBQUE1WCxRQUFBMmdDLFFBQUEsS0FDQXNCLEVBQUFWLEVBQ0FXLEVBQUFYLElBQUEsSUFBQVMsRUFBQSxFQUFBQSxHQUVBQyxFQUFBSixJQUFBLE1BQUFqcUIsRUFBQXFxQixNQUFBLEVBQUFyRixFQUFBZ0YsY0FBQXZqQyxFQUFBNGpDLE1BQ0FBLEdBQUEsQ0FLQSxTQUZBLEVBQUFyRixFQUFBZ0YsY0FBQXZqQyxFQUFBNmpDLEtBQUEsU0FBQXBZLEdBQUF5WCxJQUFBTSxHQUFBTixFQUFBVSxFQUFBQyxFQUFBWCxHQUtBLEVBQUEzRSxFQUFBZ0YsY0FBQXZqQyxFQUFBNGpDLE1BQUEsRUFBQUEsRUFHQUMsS0FHQTlqQyxJQUFBLG1CQUNBQyxNQUFBLFNBQUE4akMsRUFBQXRELEVBQUEwQyxHQUNBLEdBS0FhLEdBQUFyaUMsRUFMQTZYLEVBQUF2TyxLQUFBdkosTUFBQThYLE9BQ0EwbkIsRUFBQWoyQixLQUFBSSxNQUFBcEwsTUFDQStoQyxFQUFBLzJCLEtBQUFnM0IsZ0JBQUEsR0FDQWdDLEdBQUFGLEVBQUF6eUIsTUFBQTB3QixRQUFBSyxLQUFBLElBQ0E2QixHQUFBekQsRUFBQW52QixNQUFBMHdCLFFBQUFLLEtBQUEsR0FJQSxLQUZBMkIsRUFBQSxFQUVBcmlDLEVBQUEsRUFBaUJBLEVBQUF3aEMsRUFBY3hoQyxJQUFBLENBQy9CLEdBQUF3aUMsR0FBQUosRUFBQXBpQyxJQUFBLEdBQ0F5aUMsRUFBQTNELEVBQUF1RCxJQUFBLEVBR0EsS0FBQUcsRUFBQTd5QixNQUFBMHdCLElBQUFtQyxJQUFBQyxLQUdBLE1BQUFELElBQUFDLEVBQUE5eUIsTUFBQTB3QixJQUFBLE1BQUFvQyxHQUFBSCxFQUFBcmlDLFNBQUFzaUMsRUFBQXRpQyxRQUFBLENBRUEsS0FBQXVpQyxJQUFBMUQsRUFBQXVELE1BQUF2RCxFQUFBNytCLFFBQ0FvaUMsR0FHQUEsTUFVQSxNQVBBLGdCQUFBeHFCLElBQUEwbkIsSUFFQThDLEVBQUF2RCxFQUFBNytCLFFBSUFvaUMsRUFBQS80QixLQUFBbzVCLHFCQUFBNUQsRUFBQXVELE1BUUFoa0MsSUFBQSx3QkFDQUMsTUFBQSxTQUFBcWtDLEdBQ0EsR0FBQUMsR0FBQXQ1QixLQUFBdkosTUFDQThYLEVBQUErcUIsRUFBQS9xQixPQUNBNmxCLEVBQUFrRixFQUFBbEYsT0FDQUMsRUFBQWlGLEVBQUFqRixNQUVBLEtBQUE5bEIsR0FBQThxQixFQUFBLENBQ0EsR0FBQUUsR0FBQSxNQUFBRixFQUFBLEVBRUFFLEtBQUFGLElBQUE3QixVQUFBLEVBQUE2QixFQUFBMWlDLFNBRUEwaUMsRUFBQWpGLEdBQUEsSUFBQWlGLEVBQUEvQixRQUFBbEQsR0FBQWlGLEVBQUE3QixVQUFBcEQsRUFBQXo5QixPQUFBMGlDLEVBQUExaUMsUUFBQTBpQyxDQUVBLElBQUFHLEdBQUFILEVBQUFYLFlBQUFyRSxFQUNBZ0YsR0FBQWhGLElBQUEsSUFBQW1GLE9BQUFILEVBQUExaUMsT0FBQTA5QixFQUFBMTlCLE9BQUEwaUMsRUFBQTdCLFVBQUEsRUFBQWdDLEdBQUFILEVBRUFFLElBQUFGLEVBQUEsSUFBQUEsR0FHQSxNQUFBQSxNQUdBdGtDLElBQUEsMEJBQ0FDLE1BQUEsU0FBQXFrQyxHQVFBLE9BUEE5cUIsR0FBQXZPLEtBQUF2SixNQUFBOFgsT0FDQWtyQixFQUFBbHJCLEVBQUE0b0IsTUFBQSxLQUFBeHlCLE9BQUEsU0FBQSswQixHQUNBLFdBQUFBLElBRUFocUIsRUFBQSxFQUNBaXFCLEVBQUEsR0FFQWpqQyxFQUFBLEVBQUFrakMsRUFBQUgsRUFBQTlpQyxPQUE4Q0QsR0FBQWtqQyxFQUFTbGpDLElBQUEsQ0FDdkQsR0FBQW1qQyxHQUFBSixFQUFBL2lDLElBQUEsR0FHQXNxQixFQUFBdHFCLElBQUFrakMsRUFBQVAsRUFBQTFpQyxPQUFBMGlDLEVBQUEvQixRQUFBdUMsRUFBQW5xQixFQUtBLFNBQUFzUixFQUFBLENBQ0EyWSxFQUFBTixDQUNBLE9BRUFNLEdBQUFOLEVBQUE3QixVQUFBOW5CLEVBQUFzUixHQUNBdFIsRUFBQXNSLEVBQUE2WSxFQUFBbGpDLE9BSUEsT0FBQWdqQyxFQUFBdHpCLE1BQUEsWUFBQSt3QixLQUFBLE9BR0FyaUMsSUFBQSxtQkFDQUMsTUFBQSxTQUFBcWtDLEdBQ0EsR0FBQVMsR0FBQTk1QixLQUFBdkosTUFDQThYLEVBQUF1ckIsRUFBQXZyQixPQUNBZ21CLEVBQUF1RixFQUFBdkYsZ0JBQ0EsT0FBQThFLElBRUE5cUIsRUFJQThxQixFQURPLGdCQUFBOXFCLEdBQ1B2TyxLQUFBKzVCLHdCQUFBVixHQUNPLGtCQUFBOUUsR0FFUEEsRUFBQThFLElBRUFBLEVBQUFoekIsTUFBQSxZQUFBK3dCLEtBQUEsS0FSQWlDLEVBQUFyNUIsS0FBQWc2QixzQkFBQVgsR0FDQUEsRUFBQXI1QixLQUFBaTZCLGVBQUFaLElBVUFBLEdBZEFBLEtBMkJBdGtDLElBQUEsb0JBQ0FDLE1BQUEsU0FBQTJrQyxHQUtBLE9BSkFwckIsR0FBQXZPLEtBQUF2SixNQUFBOFgsT0FDQTJyQixFQUFBLEVBQ0FDLEVBQUE1ckIsRUFBQTRvQixNQUFBLElBRUF6Z0MsRUFBQSxFQUFBa2pDLEVBQUFyckIsRUFBQTVYLE9BQXlDRCxFQUFBa2pDLEVBQVFsakMsSUFDakQsTUFBQTZYLEVBQUE3WCxLQUNBeWpDLEVBQUF6akMsR0FBQWlqQyxFQUFBTyxJQUFBbDZCLEtBQUFvNkIsZUFBQUYsR0FDQUEsR0FBQSxFQUlBLE9BQUFDLEdBQUEvQyxLQUFBLE9BUUFyaUMsSUFBQSxpQkFDQUMsTUFBQSxTQUFBMmtDLEdBQ0EsR0FBQVUsR0FBQXI2QixLQUFBdkosTUFDQXM5QixFQUFBc0csRUFBQXRHLGFBQ0FFLEVBQUFvRyxFQUFBcEcsa0JBQ0FHLEVBQUFpRyxFQUFBakcsT0FDQUMsRUFBQWdHLEVBQUFoRyxPQUNBTyxFQUFBeUYsRUFBQXpGLGNBQ0FkLEVBQUF1RyxFQUFBdkcsb0JBRUF3RyxFQUFBdDZCLEtBQUE4MkIsZ0JBQ0FyRCxFQUFBNkcsRUFBQTdHLGtCQUNBSSxFQUFBeUcsRUFBQXpHLGlCQUVBMEcsR0FBQSxJQUFBWixFQUFBckMsUUFBQSxNQUFBdkQsR0FBQUUsRUFFQXVHLEdBQUEsRUFBQWpILEVBQUFrSCxjQUFBZCxFQUFBL0UsR0FDQThGLEVBQUFGLEVBQUFFLGNBQ0FDLEVBQUFILEVBQUFHLGFBQ0FDLEVBQUFKLEVBQUFJLFdBTUEsUUFGQWxsQixLQUFBcWUsSUFBQTRHLEdBQUEsRUFBQXBILEVBQUFzSCxjQUFBRixFQUFBNUcsRUFBQUUsSUFFQVIsRUFBQSxDQUNBLEdBQUFxSCxJQUFBLEVBQUF2SCxFQUFBd0gsd0JBQUFqSCxFQUNBNEcsS0FBQXhELFFBQUE0RCxFQUFBLEtBQUFySCxHQVNBLE1BTEFXLEtBQUFzRyxFQUFBdEcsRUFBQXNHLEdBQ0FyRyxJQUFBc0csR0FBQXRHLEdBRUF1RyxJQUFBRixFQUFBLElBQUFBLEdBQ0FmLEVBQUFlLEdBQUFILEdBQUExRyxHQUFBLElBQUE4RyxLQUlBNWxDLElBQUEsa0JBQ0FDLE1BQUEsV0FDQSxHQUFBQSxHQUFBa2dCLFVBQUF2ZSxPQUFBLE9BQUErZSxLQUFBUixVQUFBLEdBQUFBLFVBQUEsTUFDQThsQixFQUFBaDdCLEtBQUF2SixNQUNBOFgsRUFBQXlzQixFQUFBenNCLE9BQ0FzbUIsRUFBQW1HLEVBQUFuRyxxQkFDQVcsRUFBQXhnQyxDQWVBLE9BYkEsS0FBQUEsR0FBQTYvQixFQUVPLE1BQUE3L0IsR0FBQXVaLEVBSVBpbkIsRUFETyxnQkFBQWpuQixHQUNQdk8sS0FBQWk3QixrQkFBQXpGLEdBQ08sa0JBQUFqbkIsR0FDUEEsRUFBQWluQixHQUVBeDFCLEtBQUFrN0IsZUFBQTFGLElBUEFBLEVBQUEsSUFDQXhnQyxFQUFBLElBSEF3Z0MsRUFBQSxHQVlBQSxLQUdBemdDLElBQUEsa0JBQ0FDLE1BQUEsU0FBQXkvQixHQUNBLEdBQUEwRyxHQUFBbjdCLEtBQUF2SixNQUNBOFgsRUFBQTRzQixFQUFBNXNCLE9BQ0F3bEIsRUFBQW9ILEVBQUFwSCxhQUNBRSxFQUFBa0gsRUFBQWxILGtCQUNBWSxFQUFBc0csRUFBQXRHLHFCQUNBdUcsRUFBQXA3QixLQUFBdkosTUFDQTRrQyxFQUFBRCxFQUFBcG1DLE1BQ0FBLE1BQUEsS0FBQXFtQyxFQUFBNUcsRUFBQTRHLEVBQ0EzRyxFQUFBMEcsRUFBQTFHLGdCQUNBNEcsR0FBQXRtQyxHQUFBLElBQUFBLENBT0EsT0FMQXNtQyxJQUFBekcsSUFDQTcvQixFQUFBLElBSUFzbUMsSUFBQXpHLEVBQUEsSUFFQSxnQkFBQTcvQixLQUNBQSxJQUFBOHJCLFdBQ0E0VCxHQUFBLEdBS0FBLElBQUFubUIsR0FBQSxnQkFBQXdsQixLQUNBLytCLEdBQUEsRUFBQXUrQixFQUFBZ0ksa0JBQUF2bUMsRUFBQSsrQixFQUFBRSxJQUdBUyxFQUFBMTBCLEtBQUFxMkIsZ0JBQUFyaEMsR0FBQWdMLEtBQUF3N0IsWUFBQXhtQyxPQUlBRCxJQUFBLGlCQUNBQyxNQUFBLFdBQ0EsR0FBQUEsR0FBQWtnQixVQUFBdmUsT0FBQSxPQUFBK2UsS0FBQVIsVUFBQSxHQUFBQSxVQUFBLE1BQ0EwZixFQUFBNTBCLEtBQUF2SixNQUFBbStCLGNBQ0E2RyxFQUFBLEdBQUFoRSxRQUFBLE9BQ0FpRSxFQUFBLEdBQUFqRSxRQUFBLGNBRUFSLEVBQUF3RSxFQUFBRSxLQUFBM21DLEdBRUE0bUMsRUFBQUYsRUFBQUMsS0FBQTNtQyxFQVFBLE9BTkFBLEtBQUFraUMsUUFBQSxTQUVBRCxJQUFBMkUsR0FBQWhILElBQ0E1L0IsRUFBQSxJQUFBQSxHQUdBQSxLQUdBRCxJQUFBLGNBQ0FDLE1BQUEsV0FDQSxHQUFBQSxHQUFBa2dCLFVBQUF2ZSxPQUFBLE9BQUErZSxLQUFBUixVQUFBLEdBQUFBLFVBQUEsS0FVQSxPQVRBbFYsTUFBQXZKLE1BQUE4WCxTQUdBdlosRUFBQWdMLEtBQUFnNkIsc0JBQUFobEMsR0FDQUEsRUFBQWdMLEtBQUE2N0IsZUFBQTdtQyxJQUlBQSxFQUFBZ0wsS0FBQXUwQixpQkFBQXYvQixHQUNBZ0wsS0FBQXEyQixnQkFBQXJoQyxNQUtBRCxJQUFBLHFCQUNBQyxNQUFBLFNBQUFrakMsRUFBQWxqQyxHQUNBLEdBQUE4bUMsR0FBQTk3QixLQUFBdkosTUFDQThYLEVBQUF1dEIsRUFBQXZ0QixPQUNBNmxCLEVBQUEwSCxFQUFBMUgsT0FDQUMsRUFBQXlILEVBQUF6SCxPQUNBTixFQUFBK0gsRUFBQS9ILGFBQ0FFLEVBQUE2SCxFQUFBN0gsa0JBRUE4SCxFQUFBLzdCLEtBQUE4MkIsZ0JBQ0FqRCxFQUFBa0ksRUFBQWxJLGdCQUdBLHVCQUFBdGxCLElBQUEsTUFBQUEsRUFBQTJwQixNQUVBM3BCLEtBQUEycEIsRUFBQTlELEVBQUF6OUIsUUFBQXVoQyxHQUFBbGpDLEVBQUEyQixPQUFBMDlCLEVBQUExOUIsUUFBQW85QixHQUFBRSxHQUFBai9CLEVBQUFrakMsS0FBQXJFLE9BT0E5K0IsSUFBQSwwQkFDQUMsTUFBQSxTQUFBMGEsRUFBQUMsRUFBQTNhLEdBQ0EsT0FBQTBCLEdBQUFnWixFQUF5QmhaLEVBQUFpWixFQUFTalosSUFDbEMsR0FBQXNKLEtBQUFnOEIsbUJBQUF0bEMsRUFBQTFCLEdBQUEsUUFHQSxhQVFBRCxJQUFBLG9CQUNBQyxNQUFBLFNBQUFrakMsRUFBQStELEVBQUFqbkMsR0FDQSxHQUFBa25DLEdBQUFsOEIsS0FBQXZKLE1BQ0E4WCxFQUFBMnRCLEVBQUEzdEIsT0FDQXFtQixFQUFBc0gsRUFBQXRILGNBQ0FSLEVBQUE4SCxFQUFBOUgsT0FDQUMsRUFBQTZILEVBQUE3SCxPQUVBOEgsRUFBQW44QixLQUFBODJCLGdCQUNBakQsRUFBQXNJLEVBQUF0SSxpQkFFQXNDLEVBQUFuMkIsS0FBQUksTUFBQXMxQixhQUFBLEdBQ0EwRyxFQUFBcDhCLEtBQUEyMUIscUJBQ0FDLEVBQUF3RyxFQUFBeEcsZUFDQUMsRUFBQXVHLEVBQUF2RyxhQUVBd0csR0FBQSxFQUFBOUksRUFBQStJLGtCQUFBTCxFQUFBam5DLEdBQ0EwYSxFQUFBMnNCLEVBQUEzc0IsTUFDQUMsRUFBQTBzQixFQUFBMXNCLEdBSUEsS0FBQXBCLEdBQUEsTUFBQXNsQixHQUFBbmtCLElBQUFDLEdBQUEsTUFBQTNhLEVBQUE0Z0MsR0FDQSxNQUFBNWdDLEdBQUF1bkMsT0FBQSxFQUFBM0csR0FBQS9CLEVBQUE3K0IsRUFBQXVuQyxPQUFBM0csRUFBQSxFQUFBNWdDLEVBQUEyQixPQVFBLElBQUE2bEMsR0FBQWp1QixFQUFBLEVBQUE2bEIsRUFBQXo5QixPQUNBOGxDLEVBQUFSLEVBQUF0bEMsUUFBQTRYLEVBQUEsRUFBQThsQixFQUFBMTlCLE9BRUEsSUFBQTNCLEVBQUEyQixPQUFBc2xDLEVBQUF0bEMsU0FBQTNCLEVBQUEyQixRQUFBK1ksSUFBQUMsR0FBQSxJQUFBaW1CLEdBQUFDLElBQUFvRyxFQUFBdGxDLFFBQUFpL0IsSUFBQTRHLEdBQUEzRyxJQUFBNEcsRUFDQSxNQUFBem5DLEVBVUEsSUFOQWdMLEtBQUEwOEIsd0JBQUFodEIsRUFBQUMsRUFBQXNzQixLQUNBam5DLEVBQUFpbkMsSUFLQTF0QixFQUFBLENBQ0EsR0FBQW91QixHQUFBMzhCLEtBQUF1MEIsaUJBQUF2L0IsR0FFQTRuQyxHQUFBLEVBQUFySixFQUFBa0gsY0FBQWtDLEVBQUEvSCxHQUNBOEYsRUFBQWtDLEVBQUFsQyxjQUNBQyxFQUFBaUMsRUFBQWpDLGFBQ0FDLEVBQUFnQyxFQUFBaEMsWUFJQWlDLEVBQUEzRSxFQUFBbGpDLEVBQUFzaUMsUUFBQXpELEdBQUEsQ0FFQSxJQUFBOEksRUFBQWhtQyxPQUFBdy9CLEVBQUF4L0IsUUFBQWttQyxHQUFBLEtBQUFuQyxJQUFBbkUsV0FBQW9FLEdBQ0EsTUFBQUMsR0FBQSxPQUlBLE1BQUE1bEMsTUFLQUQsSUFBQSxjQUNBQyxNQUFBLFNBQUFzUixHQUNBLEdBQUFMLEdBQUFqRyxLQUVBODhCLEVBQUE1bkIsVUFBQXZlLE9BQUEsT0FBQStlLEtBQUFSLFVBQUEsR0FBQUEsVUFBQSxHQUFBcWUsRUFBQTRCLEtBQ0FLLEVBQUFsdkIsRUFBQWt2QixlQUNBbUIsRUFBQXJ3QixFQUFBcXdCLE1BQ0FqQixFQUFBcHZCLEVBQUFvdkIsWUFDQXdDLEVBQUE1eEIsRUFBQTR4QixTQUNBcEQsRUFBQTkwQixLQUFBdkosTUFBQXErQixjQUNBbUgsRUFBQWo4QixLQUFBSSxNQUFBcEwsS0FFQSxJQUFBMmhDLEVBQUEsQ0FFQSxJQUFBdUIsRUFBQSxDQUNBLEdBQUFZLEdBQUF4eUIsRUFBQXd5QixZQUFBbkMsRUFBQTNoQyxNQUNBK25DLEdBQUEsRUFBQXhKLEVBQUF5Six5QkFBQXJHLEVBRUF1QixHQUFBbDRCLEtBQUFpOUIsaUJBQUFuRSxFQUFBdEQsRUFBQXVILEdBSUFwRyxFQUFBM2hDLE1BQUF3Z0MsRUFFQXgxQixLQUFBazlCLHdCQUFBdkcsRUFBQXVCLEVBQUExQyxPQUlBOWYsS0FBQWdnQixJQUNBQSxFQUFBMTFCLEtBQUF1MEIsaUJBQUFpQixJQUlBQSxJQUFBeUcsRUFDQWo4QixLQUFBTSxVQUNBdEwsTUFBQXdnQyxFQUNBRSxlQUNTLFdBQ1RaLEVBQUE3dUIsRUFBQWszQixlQUFBM0gsRUFBQUUsSUFDQW9ILE1BR0FBLE9BSUEvbkMsSUFBQSxXQUNBQyxNQUFBLFNBQUF3a0IsR0FDQUEsRUFBQTRqQixTQUNBLElBQUFuRixHQUFBemUsRUFBQWhqQixPQUNBc2lDLEVBQUFiLEVBQUFqakMsTUFDQW9MLEVBQUFKLEtBQUFJLE1BQ0EzSixFQUFBdUosS0FBQXZKLE1BQ0F1K0IsRUFBQXYrQixFQUFBdStCLFVBQ0FpSCxFQUFBNzdCLEVBQUFwTCxPQUFBLEdBQ0ErbkMsR0FBQSxFQUFBeEosRUFBQXlKLHlCQUFBL0UsRUFDQWEsR0FBQTk0QixLQUFBcTlCLGtCQUFBTixFQUFBZCxFQUFBbkQsRUFDQSxJQUFBdEQsR0FBQXgxQixLQUFBdzdCLFlBQUExQyxJQUFBLEdBQ0FwRCxFQUFBMTFCLEtBQUF1MEIsaUJBQUFpQixFQUdBUixHQUZBaDFCLEtBQUFtOUIsZUFBQTNILEVBQUFFLE1BR0FGLEVBQUF5RyxHQUdBajhCLEtBQUEwMkIsYUFDQWxCLGlCQUNBRSxjQUNBb0QsYUFDQW5DLE1BQUFzQixHQUNPLFdBQ1B4aEMsRUFBQWlnQixTQUFBOEMsUUFJQXprQixJQUFBLFNBQ0FDLE1BQUEsU0FBQXdrQixHQUNBLEdBQUEvaUIsR0FBQXVKLEtBQUF2SixNQUNBMkosRUFBQUosS0FBQUksTUFDQW1PLEVBQUE5WCxFQUFBOFgsT0FDQXFMLEVBQUFuakIsRUFBQW1qQixPQUNBOGIsRUFBQXQxQixFQUFBczFCLFlBQ0F1RyxFQUFBNzdCLEVBQUFwTCxLQUdBLElBRkFnTCxLQUFBZzJCLFdBQUEsTUFFQXpuQixFQUFBLENBQ0FtbkIsR0FBQSxFQUFBbkMsRUFBQStKLGdCQUFBNUgsRUFDQSxJQUFBRixHQUFBeDFCLEtBQUFxMkIsZ0JBQUFYLEVBRUEsSUFBQUYsSUFBQXlHLEVBU0EsTUFQQXppQixHQUFBNGpCLGNBQ0FwOUIsTUFBQTAyQixhQUNBbEIsaUJBQ0FFLGVBQ1csV0FDWDliLEVBQUFKLEtBTUFJLEVBQUFKLE1BR0F6a0IsSUFBQSxZQUNBQyxNQUFBLFNBQUF3a0IsR0FDQSxHQU1BK2pCLEdBTkF0RixFQUFBemUsRUFBQWhqQixPQUNBekIsRUFBQXlrQixFQUFBemtCLElBQ0E2Z0MsRUFBQXFDLEVBQUFyQyxlQUNBQyxFQUFBb0MsRUFBQXBDLGFBQ0EySCxFQUFBdkYsRUFBQWpqQyxNQUNBQSxNQUFBLEtBQUF3b0MsRUFBQSxHQUFBQSxFQUVBQyxFQUFBejlCLEtBQUF2SixNQUNBczlCLEVBQUEwSixFQUFBMUosYUFDQUUsRUFBQXdKLEVBQUF4SixrQkFDQUcsRUFBQXFKLEVBQUFySixPQUNBQyxFQUFBb0osRUFBQXBKLE9BQ0E5bEIsRUFBQWt2QixFQUFBbHZCLE9BQ0E4TSxFQUFBb2lCLEVBQUFwaUIsVUFFQXVjLEdBREE2RixFQUFBM0ksa0JBQ0FwZixLQUFBcWUsR0FBQUUsR0FDQThDLEVBQUEvMkIsS0FBQWczQixnQkFBQSxFQUFBWSxHQUNBOEYsRUFBQSxHQUFBakcsUUFBQSxLQUNBa0csRUFBQSxnQkFBQXB2QixFQWlCQSxJQWhCQXZPLEtBQUEyMUIsc0JBQ0FDLGlCQUNBQyxnQkFJQSxjQUFBOWdDLEdBQUEsY0FBQUEsRUFDQXdvQyxFQUFBM0gsRUFBQSxFQUNPLGVBQUE3Z0MsRUFDUHdvQyxFQUFBM0gsRUFBQSxFQUNPLFdBQUE3Z0MsSUFDUHdvQyxFQUFBM0gsT0FLQWxnQixLQUFBNm5CLEdBQUEzSCxJQUFBQyxFQUVBLFdBREF4YSxHQUFBN0IsRUFJQSxJQUFBb2tCLEdBQUFMLEVBQ0FmLEVBQUFtQixFQUFBcHZCLEVBQUErb0IsUUFBQSxLQUFBbEQsRUFBQXo5QixPQUNBOGxDLEVBQUFrQixFQUFBcHZCLEVBQUFtcUIsWUFBQSxPQUFBMWpDLEVBQUEyQixPQUFBMDlCLEVBQUExOUIsTUFFQSxrQkFBQTVCLEdBQUEsZUFBQUEsRUFBQSxDQUNBLEdBQUEwckIsR0FBQSxjQUFBMXJCLEVBQUEsY0FDQTZvQyxHQUFBNTlCLEtBQUFvNUIscUJBQUFwa0MsRUFBQXVvQyxFQUFBOWMsT0FDTyxlQUFBMXJCLEdBQUFnaUMsRUFBQTRFLEtBQUEzbUMsRUFBQXVvQyxLQUFBRyxFQUFBL0IsS0FBQTNtQyxFQUFBdW9DLEtBSUEsaUJBQUF4b0MsSUFBQWdpQyxFQUFBNEUsS0FBQTNtQyxFQUFBdW9DLElBS1AsR0FBQTNILEdBQUE0RyxFQUFBLFNBQUF4bkMsRUFBQSxhQUFBdVosRUFBQSxDQUNBLEdBQUE2SyxHQUFBcGtCLEVBQUF3aUMsVUFBQSxFQUVBaGUsR0FBQTRqQixVQUNBcDlCLEtBQUEwMkIsYUFDQWxCLGVBQUFwYyxFQUNBOGUsU0FBQTBGLEVBQ0FqSCxNQUFBc0IsUUFFUyxLQUFBeUYsRUFBQS9CLEtBQUEzbUMsRUFBQXVvQyxJQUFBLENBQ1QsTUFBQXhHLEVBQUE0RSxLQUFBM21DLEVBQUE0b0MsRUFBQSxLQUFBQSxFQUFBcEIsR0FDQW9CLEdBR0FBLEdBQUE1OUIsS0FBQW81QixxQkFBQXBrQyxFQUFBNG9DLEVBQUEsYUF0QkEsT0FBQTdHLEVBQUE0RSxLQUFBM21DLEVBQUE0b0MsT0FBQW5CLEdBQ0FtQixLQXlCQUEsSUFBQUwsS0FBQWYsR0FBQWUsRUFBQWQsS0FDQWpqQixFQUFBRSxpQkFDQTFaLEtBQUFrOUIsd0JBQUFqRixFQUFBMkYsRUFBQTVvQyxJQU1Bd2tCLEVBQUFxa0IsZUFDQTc5QixLQUFBazlCLHdCQUFBakYsRUFBQTJGLEVBQUE1b0MsR0FHQWdMLEtBQUF2SixNQUFBNGtCLFVBQUE3QixNQUtBemtCLElBQUEsWUFDQUMsTUFBQSxTQUFBd2tCLEdBQ0EsR0FBQXllLEdBQUF6ZSxFQUFBaGpCLE9BTUFvL0IsRUFBQXFDLEVBQUFyQyxlQUNBQyxFQUFBb0MsRUFBQXBDLGFBQ0FpSSxFQUFBN0YsRUFBQWpqQyxNQUNBQSxNQUFBLEtBQUE4b0MsRUFBQSxHQUFBQSxDQUVBLElBQUFsSSxJQUFBQyxFQUFBLENBQ0EsR0FBQWtJLEdBQUEvOUIsS0FBQW81QixxQkFBQXBrQyxFQUFBNGdDLEVBRUFtSSxLQUFBbkksR0FDQTUxQixLQUFBazlCLHdCQUFBakYsRUFBQThGLEVBQUEvb0MsR0FJQWdMLEtBQUF2SixNQUFBbzBCLFVBQUFyUixNQUdBemtCLElBQUEsVUFDQUMsTUFBQSxTQUFBd2tCLEdBQ0EsR0FBQXdrQixHQUFBaCtCLElBSUF3WixHQUFBNGpCLFVBQ0FwOUIsS0FBQWcyQixXQUFBeGMsRUFBQWhqQixPQUNBa3VCLFdBQUEsV0FDQSxHQUFBdVQsR0FBQXplLEVBQUFoakIsT0FDQW8vQixFQUFBcUMsRUFBQXJDLGVBQ0FDLEVBQUFvQyxFQUFBcEMsYUFDQW9JLEVBQUFoRyxFQUFBampDLE1BQ0FBLE1BQUEsS0FBQWlwQyxFQUFBLEdBQUFBLEVBRUFGLEVBQUFDLEVBQUE1RSxxQkFBQXBrQyxFQUFBNGdDLEVBR0FtSSxLQUFBbkksR0FBQSxJQUFBQSxHQUFBQyxJQUFBN2dDLEVBQUEyQixRQUNBcW5DLEVBQUFkLHdCQUFBakYsRUFBQThGLEVBQUEvb0MsR0FHQWdwQyxFQUFBdm5DLE1BQUFzK0IsUUFBQXZiLElBQ08sTUFHUHprQixJQUFBLFNBQ0FDLE1BQUEsV0FDQSxHQUFBa3BDLEdBQUFsK0IsS0FBQXZKLE1BQ0FtTCxFQUFBczhCLEVBQUF0OEIsS0FDQXV5QixFQUFBK0osRUFBQS9KLFlBQ0FRLEVBQUF1SixFQUFBdkosWUFDQU0sRUFBQWlKLEVBQUFqSixXQUNBQyxFQUFBZ0osRUFBQWhKLFlBQ0FsZ0MsRUFBQWdMLEtBQUFJLE1BQUFwTCxNQUNBbXBDLEdBQUEsRUFBQTVLLEVBQUE2SyxNQUFBcCtCLEtBQUF2SixNQUFBKzhCLEdBRUEzWSxFQUFBK1gsS0FBa0N1TCxHQUNsQ3Y4QixPQUNBNU0sUUFDQTBoQixTQUFBMVcsS0FBQTBXLFNBQ0EyRSxVQUFBcmIsS0FBQXFiLFVBQ0F3UCxVQUFBN3FCLEtBQUE2cUIsVUFDQWtLLFFBQUEvMEIsS0FBQSswQixRQUNBbmIsT0FBQTVaLEtBQUE0WixRQUdBLGFBQUF1YSxFQUNBLE1BQUFjLEtBQUFqZ0MsSUFBQSxLQUFBK0IsRUFBQWxDLFFBQUFrTixjQUFBLE9BQUE2d0IsS0FBd0d1TCxHQUN4R3BtQixJQUFBbWQsSUFDU2xnQyxFQUNGLElBQUEyL0IsRUFBQSxDQUNQLEdBQUEwSixHQUFBMUosQ0FDQSxPQUFBNTlCLEdBQUFsQyxRQUFBa04sY0FBQXM4QixFQUFBeGpCLEdBR0EsTUFBQTlqQixHQUFBbEMsUUFBQWtOLGNBQUEsUUFBQTZ3QixLQUE4RC9YLEdBQzlEOUMsSUFBQW1kLFNBS0FHLEdBQ0N0K0IsRUFBQWxDLFFBQUFrVixVQUVEc3JCLEdBQUE3QixZQUNBNkIsRUFBQTVmLGNBQ0EsSUFBQTZvQixHQUFBakosQ0FDQTdnQyxHQUFBSyxRQUFBeXBDLEVBQ0EvcEMsRUFBQUMsVUFBQUssU0p5b0tNMHBDLEtBQ0EsU0FBVWhxQyxFQUFRQyxFQUFTQyxHQUVqQyxZQTJFQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTVyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTUMsR0FBUSxJQUFLRCxFQUFRLEtBQU0sSUFBSUUsZ0JBQWUsNERBQWdFLFFBQU9ELEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJELEVBQVBDLEVBRWxPLFFBQVNFLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVloQixPQUFPaUIsT0FBT0YsR0FBY0EsRUFBV0MsV0FBYUUsYUFBZW5CLE1BQU9lLEVBQVVaLFlBQVksRUFBT0UsVUFBVSxFQUFNRCxjQUFjLEtBQWVZLElBQVlmLE9BQU9tQixlQUFpQm5CLE9BQU9tQixlQUFlTCxFQUFVQyxHQUFjRCxFQUFTTSxVQUFZTCxHQTlFamVmLE9BQU9DLGVBQWVWLEVBQVMsY0FDM0JRLE9BQU8sR0FHWCxJQUFJc0IsR0FBZSxXQUFjLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV3pCLFdBQWF5QixFQUFXekIsYUFBYyxFQUFPeUIsRUFBV3hCLGNBQWUsRUFBVSxTQUFXd0IsS0FBWUEsRUFBV3ZCLFVBQVcsR0FBTUosT0FBT0MsZUFBZXNCLEVBQVFJLEVBQVc3QixJQUFLNkIsSUFBaUIsTUFBTyxVQUFVcEIsRUFBYXFCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZTixFQUFpQmYsRUFBWVMsVUFBV1ksR0FBaUJDLEdBQWFQLEVBQWlCZixFQUFhc0IsR0FBcUJ0QixNSzNuTWhpQnVCLEVBQUF0QyxFQUFBLEdMK25NSXVDLEVBQVV0QyxFQUF1QnFDLEdLOW5NckNFLEVBQUF4QyxFQUFBLElBQ0E2QyxFQUFBN0MsRUFBQSxHTG1vTUk4QyxFQUFlN0MsRUFBdUI0QyxHS2xvTTFDa25DLEVBQUEvcEMsRUFBQSxJTHNvTUlncUMsRUFBVS9wQyxFQUF1QjhwQyxHS3JvTXJDcG5DLEVBQUEzQyxFQUFBLElMeW9NSTRDLEVBQWUzQyxFQUF1QjBDLEdLeG9NMUNzbkMsRUFBQWpxQyxFQUFBLEtMNG9NSWtxQyxFQUFhanFDLEVBQXVCZ3FDLEdLM29NeEN4bkMsRUFBQXpDLEVBQUEsSUwrb01JMEMsRUFBU3pDLEVBQXVCd0MsR0s5b01wQzBuQyxFQUFBbnFDLEVBQUEsS0xrcE1Jb3FDLEVBQVducUMsRUFBdUJrcUMsR0tqcE10Q0UsRUFBQXJxQyxFQUFBLEtMcXBNSXNxQyxFQUFhcnFDLEVBQXVCb3FDLEdLcHBNeENFLEVBQUF2cUMsRUFBQSxNTHdwTUl3cUMsRUFBaUJ2cUMsRUFBdUJzcUMsR0t2cE01Q0UsRUFBQXpxQyxFQUFBLElMMnBNSTBxQyxFQUFXenFDLEVBQXVCd3FDLEdLMXBNdENFLEVBQUEzcUMsRUFBQSxJTDhwTUk0cUMsRUFBVTNxQyxFQUF1QjBxQyxHSzdwTXJDOUwsRUFBQTcrQixFQUFBLEdMaXFNSTZxQyxFQUFjNXFDLEVBQXVCNCtCLEdLaHFNekNpTSxFQUFBOXFDLEVBQUEsS0xvcU1JK3FDLEVBQWE5cUMsRUFBdUI2cUMsR0tucU14Q0UsRUFBQWhyQyxFQUFBLElMdXFNSWlyQyxFQUFlaHJDLEVBQXVCK3FDLEdLdHFNMUMzbkMsRUFBQXJELEVBQUEsSUwwcU1Jc0QsRUFBVXJELEVBQXVCb0QsR0t6cU1yQzZuQyxFQUFBbHJDLEVBQUEsS0w2cU1JbXJDLEVBQVVsckMsRUFBdUJpckMsR0szcU0vQmhsQyxFQUFTLFNBQUFDLEdBQUEsT0FDWGlsQyxnQkFDSXBqQyxhQUFjLElBQ2RyQixXQUFZLGVBRWhCMGtDLHdCQUNJcmpDLGFBQWMsSUFDZFQsT0FBUSxPQUNSK0MsVUFBVyxPQUNYM0IsZ0JBQWlCeEMsRUFBTU8sUUFBUStELGdCQUFnQjdELE1BR25EMGtDLGNBQ0k1akMsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3QmdCLFNBQVUsUUFDVk0sUUFBUyxnQkFFYnFqQyxXQUNJNWlDLGdCQUFpQnhDLEVBQU1PLFFBQVErRCxnQkFBZ0I3RCxLQUMvQzBELFVBQVcsT0FDWHFxQixPQUFRLG1CQUVaNlcsYUFDSTlqQyxNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixLQUMvQkMsTUFBTyxzQkFDUFUsT0FBUSx1QkFFWmtrQyxjQUNJempCLFNBQVUsSUFDVnRnQixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCZ0IsU0FBVSxtQkFDVmIsV0FBWSxXQUVoQjJrQyxXQUNJbmtDLE9BQVEsd0JBQ1JWLE1BQU8seUJBRVg4a0Msa0JBQ0lua0MsT0FBUSxXQUVab2tDLG1CQUNJNWlDLFFBQVMsTUFFYjZpQyxXQUNJbmtDLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JnQixTQUFVLFNBRWRra0MsWUFDSWxrQyxTQUFVLG1CQUNWRixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCbWxDLGFBQWMsa0NBRWxCQyxpQkFDSWpsQyxXQUFZLFFBQ1ppQyxRQUFTLElBQ1RwQixTQUFVLFdBQ1ZGLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsTUFFakNxbEMsdUJBQ0k1bEMsUUFBUyxPQUNUVyxXQUFZLFNBQ1pVLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JnQixTQUFVLE9BQ1ZKLE9BQVEsVUFDUk0sYUFBYyxVQUVsQm9rQyxZQUNJeGtDLE1BQU92QixFQUFNTyxRQUFRNkIsVUFBVTNCLEtBQy9Cb0MsUUFBUyxJQUVibWpDLG9CQUNJNWhDLFVBQVcsT0FDWHdoQyxhQUFjLGdDQUNkN2pDLFFBQVMsVUFFYmtrQyxrQkFDSTdoQyxVQUFXLE9BQ1g0SSxVQUFXLFdBRWZrNUIsdUJBQ0l4bEMsTUFBTyxXQUVYeWxDLGNBQ0lwa0MsUUFBUyxLQUVicWtDLG9CQUNJcmxDLGVBQWdCLGNBS2xCOFosR0FDRnJRLFlBQ0E2N0IsZUFBZ0IsYUFDaEJ2NEIsZ0JBR0V3NEIsRUxzck1XLFNBQVU1TCxHS3ByTXZCLFFBQUE0TCxHQUFZenFDLEdBQU9uQixFQUFBMEssS0FBQWtoQyxFQUFBLElBQUFqaEMsR0FBQXZLLEVBQUFzSyxNQUFBa2hDLEVBQUE3cUMsV0FBQXBCLE9BQUFpTCxlQUFBZ2hDLElBQUF0ckMsS0FBQW9LLEtBQ1R2SixHQURTMHFDLEdBQUF2ckMsS0FBQXFLLEdBRWZBLEVBQUttaEMsVUFBWSxDQUVqQixLQUFLLEdBRER4eEIsTUFDS21wQixFQUFJLEVBQUdBLEVBQUl0aUMsRUFBTTJPLFNBQVN6TyxPQUFRb2lDLElBQUssQ0FDNUM5NEIsRUFBS21oQyxVQUFZbmhDLEVBQUttaEMsVUFBWTNxQyxFQUFNMk8sU0FBUzJ6QixHQUFHcGlDLE1BQ3BELEtBQUssR0FBSUQsR0FBSSxFQUFHQSxFQUFJRCxFQUFNMk8sU0FBUzJ6QixHQUFHcGlDLE9BQVFELElBQ3JDRCxFQUFNNHFDLG9CQUdINXFDLEVBQU0yTyxTQUFTMnpCLEdBQUdyaUMsR0FBR3VOLEtBQU14TixHQUFNNHFDLG1CQUNqQ3p4QixFQUFJblosRUFBTTJPLFNBQVMyekIsR0FBR3JpQyxHQUFHdU4sS0FBTSxFQUhuQzJMLEVBQUluWixFQUFNMk8sU0FBUzJ6QixHQUFHcmlDLEdBQUd1TixLQUFNLEVBUjVCLE1Ba0JZLElBQXZCaEUsRUFBS3hKLE1BQU02cUMsVUFDWHJoQyxFQUFLeEosTUFBTThxQyxvQkFBb0IzeEIsR0FHbkMzUCxFQUFLRyxPQUNEZ0YsU0FBVTNPLEVBQU0yTyxTQUNoQm84QixZQUFhLE1BQ2JDLGlCQUFrQjd4QixFQUNsQjh4QixZQUFhanJDLEVBQU0yTyxTQUNuQnU4QixhQUFhLEVBQ2JDLGFBQWEsRUFDYjE0QixVQUFXakosRUFBS3hKLE1BQU15UyxVQUN0QnRKLFNBQVVLLEVBQUt4SixNQUFNbUosU0FDckJpaUMsY0FBYyxFQUNkQyxnQkFBaUIsSUFFckI3aEMsRUFBS3hKLE1BQU13cUMsZUFBZSxPQWxDWGhoQyxFTGk0TW5CLE1BNU1BbkssR0FBVW9yQyxFQUFZNUwsR0F5Q3RCaC9CLEVBQWE0cUMsSUFDVG5zQyxJQUFLLDRCQUNMQyxNQUFPLFNLenJNZXlCLEdBQU8sR0FBQXdQLEdBQUFqRyxJQUM3QkEsTUFBS00sVUFBVzhFLFNBQVUzTyxFQUFNMk8sU0FBVXM4QixZQUFhanJDLEVBQU0yTyxVQUFZLFdBQVFhLEVBQUs4N0IsU0FBU3RyQyxFQUFNMk8sU0FBVWEsRUFBSzdGLE1BQU1xaEMsdUJMMHNNMUgxc0MsSUFBSyxTQUNMQyxNQUFPLFdLei9MRixHQUFBZ3BDLEdBQUFoK0IsS0FBQWtHLEVBQ3NCbEcsS0FBS3ZKLE1BQXhCOEssRUFESDJFLEVBQ0czRSxRQUFTM0csRUFEWnNMLEVBQ1l0TCxNQUNib25DLEVBQU9oaUMsS0FBS3ZKLE1BQU1pUyxXQUN0QixPQUNJMVIsR0FBQW5DLFFBQUFrTixjQUFDMDhCLEVBQUE1cEMsU0FBTTZSLFVBQVcxRyxLQUFLdkosTUFBTTZxQyxTQUFXLy9CLEVBQVF1K0IsdUJBQXlCditCLEVBQVFzK0IsZUFBZ0JvQyxVQUFXLEdBQ3hHanJDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMlMsV0FBQSxFQUFXL0wsV0FBVyxTQUFTaUwsVUFBVzFHLEtBQUt2SixNQUFNNnFDLFNBQVcvL0IsRUFBUXEvQixtQkFBcUJyL0IsRUFBUXMvQixrQkFDdkc3cEMsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUttSCxVQUFXbkYsRUFBUXUvQixzQkFBdUJ4NEIsTUFBTSxVQUFTdFIsRUFBQW5DLFFBQUFrTixjQUFDNDhCLEVBQUE5cEMsU0FBUzBNLFNBQVd0RyxLQUFNc0csRUFBUXcvQixjQUFnQjNQLEtBQU1wNkIsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUTArQixZQUFhbDNCLElBQUssb0NBQXVDazNCLFlBQWFqcEMsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUTArQixZQUFhbDNCLElBQUssa0NBQXFDbTVCLFFBQVNsaUMsS0FBS0ksTUFBTXVoQyxZQUFhMzZCLFFBQVNoSCxLQUFLNlcsZ0JBQ3pWN2YsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEdBQ1h6USxFQUFBbkMsUUFBQWtOLGNBQUEsUUFBTTJFLFVBQVduRixFQUFRKytCLFdBQXpCLGVBQ0p0cEMsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEVBQUdhLE1BQU0sU0FBUXRSLEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUFXOFMsT0FBU3hMLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FBTW9DLFFBQVMsS0FBakUsWUFDaEN6RyxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS2tJLEdBQUksR0FDWHpRLEVBQUFuQyxRQUFBa04sY0FBQzg4QixFQUFBaHFDLFNBQ0c2UixXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVEyK0IsY0FDOUJsckMsTUFBT2dMLEtBQUtJLE1BQU1vaEMsWUFDbEI5cUIsU0FBVTFXLEtBQUttaUMsbUJBQ2Y1Z0MsU0FBVzZ2QixLQUFNN3ZCLEVBQVFvL0IsV0FBWUosV0FBWWgvQixFQUFRZy9CLFlBQ3pENkIsV0FDSTdnQyxTQUNJeWEsTUFBT3phLEVBQVF5K0IsWUFHdkJubEIsWUFDSW5WLEtBQU0sY0FDUDI4QixrQkFBa0IsSUFHckJyckMsRUFBQW5DLFFBQUFrTixjQUFDZzlCLEVBQUFscUMsU0FBUzBNLFNBQVd0RyxLQUFNc0csRUFBUXcrQixjQUFnQi9xQyxNQUFPLE9BQTFELE9BQ0FnQyxFQUFBbkMsUUFBQWtOLGNBQUNnOUIsRUFBQWxxQyxTQUFTME0sU0FBV3RHLEtBQU1zRyxFQUFRdytCLGNBQWdCL3FDLE1BQU8sY0FBMUQsY0FDQWdDLEVBQUFuQyxRQUFBa04sY0FBQ2c5QixFQUFBbHFDLFNBQVMwTSxTQUFXdEcsS0FBTXNHLEVBQVF3K0IsY0FBZ0IvcUMsTUFBTyxnQkFBMUQsZ0JBQ0FnQyxFQUFBbkMsUUFBQWtOLGNBQUNnOUIsRUFBQWxxQyxTQUFTME0sU0FBV3RHLEtBQU1zRyxFQUFRdytCLGNBQWdCL3FDLE1BQU8sV0FBMUQsV0FDQWdDLEVBQUFuQyxRQUFBa04sY0FBQ2c5QixFQUFBbHFDLFNBQVMwTSxTQUFXdEcsS0FBTXNHLEVBQVF3K0IsY0FBZ0IvcUMsTUFBTyx3QkFBMUQsMEJBR1BnTCxLQUFLdkosTUFBTTZxQyxVQUNSdHFDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLa0ksR0FBSSxFQUFHYSxNQUFNLFFBQVE1QixXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVF5L0IsbUJBQW1Cei9CLEVBQVF1SCxnQkFDckY5UixFQUFBbkMsUUFBQWtOLGNBQUEsT0FBS2lGLFFBQVNoSCxLQUFLeWdDLGdCQUFpQi81QixVQUFXbkYsRUFBUW0vQix1QkFBdUIxcEMsRUFBQW5DLFFBQUFrTixjQUFDNjlCLEVBQUEvcUMsU0FBTThTLE9BQVN0TCxTQUFVLFNBQVVvQixRQUFTLE9BQTNILElBQXNJekcsRUFBQW5DLFFBQUFrTixjQUFBLFFBQU0yRSxVQUFXbkYsRUFBUWsvQixpQkFBekIsb0JBQTREemdDLEtBQUtzaUMsNkJBRzdNdGlDLEtBQUt2SixNQUFNNnFDLFVBQ1R0cUMsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEVBQUdhLE1BQU0sUUFBUVgsT0FBU3BMLGFBQWMsUUFDaER5RCxLQUFLdkosTUFBTTJOLGdCQUFrQnBFLEtBQUtJLE1BQU13aEMsYUFDdkM1cUMsRUFBQW5DLFFBQUFrTixjQUFBLE9BQU0yRSxXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVE0K0IsVUFBVzUrQixFQUFRNitCLGtCQUFtQnA1QixRQUFTaEgsS0FBS3VpQyxjQUFleDVCLElBQUssMkJBRzNHL0ksS0FBS3ZKLE1BQU0yTixnQkFBa0JwRSxLQUFLSSxNQUFNd2hDLGFBQ3pDNXFDLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFNMkUsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRNCtCLFVBQVc1K0IsRUFBUTgrQixtQkFBb0J0M0IsSUFBSyw2QkFLL0YvSSxLQUFLSSxNQUFNZ0YsU0FBU3dLLElBQUksU0FBQzR5QixFQUFnQnYrQixHQUN0QyxNQUNJak4sR0FBQW5DLFFBQUFrTixjQUFDazlCLEVBQUFwcUMsU0FBYXVQLGNBQWU0NUIsRUFBS3ZuQyxNQUFNMk4sY0FBZWs5QixTQUFVdEQsRUFBS3ZuQyxNQUFNNnFDLFNBQVVwNEIsVUFBVzgwQixFQUFLdm5DLE1BQU15UyxVQUFXdEosU0FBVW8rQixFQUFLdm5DLE1BQU1tSixTQUFVNmhDLGlCQUFrQnpELEVBQUs1OUIsTUFBTXFoQyxpQkFBa0JyOEIsU0FBVW85QixFQUFnQkMsWUFBWSxFQUFPVCxLQUFNQSxFQUFLLzlCLEdBQUt1OUIsWUFBYXhELEVBQUs1OUIsTUFBTW9oQyxZQUFha0IsZ0JBQWlCMUUsRUFBSzBFLG9CQUlyVTFyQyxFQUFBbkMsUUFBQWtOLGNBQUN5OUIsRUFBQTNxQyxTQUNHc3hCLGNBQ0lDLFNBQVUsU0FDVkMsV0FBWSxRQUVoQnhmLEtBQU03RyxLQUFLSSxNQUFNeWhDLGFBQ2pCYyxpQkFBa0IsSUFDbEI1N0IsUUFBUy9HLEtBQUs0aUMsY0FDZEMsY0FDSUMsbUJBQW9CLGNBRXhCei9CLFFBQVNyTSxFQUFBbkMsUUFBQWtOLGNBQUEsUUFBTWtDLEdBQUcsY0FBY2pFLEtBQUtJLE1BQU0waEMsaUJBQzNDemxCLFFBQ0lybEIsRUFBQW5DLFFBQUFrTixjQUFDMjlCLEVBQUE3cUMsU0FDR0UsSUFBSSxRQUNKa1MsYUFBVyxRQUNYOUssTUFBTSxVQUNOdUssVUFBV25GLEVBQVEyYixNQUNuQmxXLFFBQVNoSCxLQUFLNGlDLGVBRWQ1ckMsRUFBQW5DLFFBQUFrTixjQUFDaEssRUFBQWxELFFBQUQsZUwyak1qQnFzQyxHS240TWMxOUIsVUFBTXVHLFdMczRNM0JvM0IsRUFBbUIsV0FDbkIsR0FBSTRCLEdBQVMvaUMsSUFFYkEsTUszMU1BK2hDLFNBQVcsU0FBQzM4QixFQUFVcThCLEdBUWxCLElBQUssR0FORHVCLElBQWdCLEVBRWhCQyxFQUFPNzlCLEVBRVA4OUIsR0FBTyxFQUNQQyxFQUFNLEVBQ0RwSyxFQUFJLEVBQUdBLEVBQUlrSyxFQUFLdHNDLE9BQVFvaUMsSUFBSyxDQUNsQ29LLEdBQVlGLEVBQUtsSyxHQUFHcGlDLE1BQ3BCLEtBQUssR0FBSUQsR0FBSSxFQUFHQSxFQUFJdXNDLEVBQUtsSyxHQUFHcGlDLE9BQVFELElBQ2hDLEdBQWtELEdBQTlDcXNDLEVBQUszaUMsTUFBTXFoQyxpQkFBaUJ3QixFQUFLbEssR0FBR3JpQyxHQUFHdU4sSUFBYyxDQUNyRGkvQixHQUFPLENBQ1AsUUFNWixJQUFLLEdBQUluSyxHQUFJLEVBQUdBLEVBQUlrSyxFQUFLdHNDLE9BQVFvaUMsSUFDN0IsSUFBSyxHQUFJcmlDLEdBQUksRUFBR0EsRUFBSXVzQyxFQUFLbEssR0FBR3BpQyxPQUFRRCxJQUNoQyxHQUFrRCxHQUE5Q3FzQyxFQUFLM2lDLE1BQU1xaEMsaUJBQWlCd0IsRUFBS2xLLEdBQUdyaUMsR0FBR3VOLElBQWEsQ0FDcEQrK0IsR0FBZ0IsRUFDaEJELEVBQUt6aUMsVUFBV3NoQyxhQUFhLEdBQzdCLE9BS1BvQixHQUNERCxFQUFLemlDLFVBQVdzaEMsYUFBYSxJQUV0QixHQUFQdUIsSUFDQUQsR0FBTyxHQUVDLEdBQVJBLEVBQ0FILEVBQUt6aUMsVUFBV3FoQyxhQUFhLElBRTdCb0IsRUFBS3ppQyxVQUFXcWhDLGFBQWEsS0wwMU1yQzNoQyxLS3IxTUEwaUMsZ0JBQWtCLFNBQUN0NEIsRUFBTTg0QixFQUFNRSxHQUMzQixHQUFJSCxFQUNKLFFBQVFDLEdBQ0osSUFBSyxNQUNERCxFQUFPRixFQUFLM2lDLE1BQU1xaEMsaUJBQ2xCd0IsRUFBSzc0QixJQUFRLEVBQ2IyNEIsRUFBS3ppQyxVQUFXbWhDLGlCQUFrQndCLElBQ2xDRixFQUFLaEIsU0FBU2dCLEVBQUszaUMsTUFBTWdGLFNBQVU2OUIsRUFDbkMsTUFDSixLQUFLLFNBQ0RBLEVBQU9GLEVBQUszaUMsTUFBTXFoQyxpQkFDbEJ3QixFQUFLNzRCLElBQVEsRUFDYjI0QixFQUFLemlDLFVBQVdtaEMsaUJBQWtCd0IsSUFDbENGLEVBQUtoQixTQUFTZ0IsRUFBSzNpQyxNQUFNZ0YsU0FBVTY5QixFQUNuQyxNQUNKLEtBQUssV0FDRCxHQUFxQixHQUFqQkcsRUFBdUIsQ0FDdkJILEVBQU9GLEVBQUszaUMsTUFBTXFoQyxnQkFDbEIsS0FBSyxHQUFJL3FDLEdBQUksRUFBR0EsRUFBSTBULEVBQUt6VCxPQUFRRCxJQUM3QnVzQyxFQUFLNzRCLEVBQUsxVCxHQUFHdU4sS0FBTSxDQUV2QjgrQixHQUFLemlDLFVBQVdtaEMsaUJBQWtCd0IsSUFDbENGLEVBQUtoQixTQUFTZ0IsRUFBSzNpQyxNQUFNZ0YsU0FBVTY5QixFQUNuQyxPQUdBQSxFQUFPRixFQUFLM2lDLE1BQU1xaEMsZ0JBQ2xCLEtBQUssR0FBSTFJLEdBQUksRUFBR0EsRUFBSTN1QixFQUFLelQsT0FBUW9pQyxJQUM3QixJQUFLLEdBQUlyaUMsR0FBSSxFQUFHQSxFQUFJMFQsRUFBSzJ1QixHQUFHcGlDLE9BQVFELElBQ2hDdXNDLEVBQUs3NEIsRUFBSzJ1QixHQUFHcmlDLEdBQUd1TixLQUFNLENBQzlCOCtCLEdBQUt6aUMsVUFBV21oQyxpQkFBa0J3QixJQUNsQ0YsRUFBS2hCLFNBQVNnQixFQUFLM2lDLE1BQU1nRixTQUFVNjlCLEVBQ25DLE1BRVIsS0FBSyxjQUNELEdBQXFCLEdBQWpCRyxFQUF1QixDQUN2QkgsRUFBT0YsRUFBSzNpQyxNQUFNcWhDLGdCQUNsQixLQUFLLEdBQUkvcUMsR0FBSSxFQUFHQSxFQUFJMFQsRUFBS3pULE9BQVFELElBQzdCdXNDLEVBQUs3NEIsRUFBSzFULEdBQUd1TixLQUFNLENBRXZCOCtCLEdBQUt6aUMsVUFBV21oQyxpQkFBa0J3QixJQUNsQ0YsRUFBS2hCLFNBQVNnQixFQUFLM2lDLE1BQU1nRixTQUFVNjlCLEVBQ25DLE9BR0FBLEVBQU9GLEVBQUszaUMsTUFBTXFoQyxnQkFDbEIsS0FBSyxHQUFJMUksR0FBSSxFQUFHQSxFQUFJM3VCLEVBQUt6VCxPQUFRb2lDLElBQzdCLElBQUssR0FBSXJpQyxHQUFJLEVBQUdBLEVBQUkwVCxFQUFLMnVCLEdBQUdwaUMsT0FBUUQsSUFDaEN1c0MsRUFBSzc0QixFQUFLMnVCLEdBQUdyaUMsR0FBR3VOLEtBQU0sQ0FDOUI4K0IsR0FBS3ppQyxVQUFXbWhDLGlCQUFrQndCLElBQ2xDRixFQUFLaEIsU0FBU2dCLEVBQUszaUMsTUFBTWdGLFNBQVU2OUIsR0FPcEIsR0FBdkJGLEVBQUt0c0MsTUFBTTZxQyxVQUNYeUIsRUFBS3RzQyxNQUFNOHFDLG9CQUFvQjBCLElMeTFNdkNqakMsS0tyMU1BNlcsYUFBZSxXQUNtQixHQUExQmtzQixFQUFLM2lDLE1BQU11aEMsWUFDWG9CLEVBQUtMLGdCQUFnQkssRUFBSzNpQyxNQUFNZ0YsU0FBVSxlQUFlLEdBR3pEMjlCLEVBQUtMLGdCQUFnQkssRUFBSzNpQyxNQUFNZ0YsU0FBVSxZQUFZLElMdzFNOURwRixLS3IxTUF5Z0MsZ0JBQWtCLFdBQ2RzQyxFQUFLTCxnQkFBZ0JLLEVBQUszaUMsTUFBTWdGLFNBQVUsZUFBZSxJTHcxTTdEcEYsS0t0MU1BcWpDLFNBQVcsU0FBQ0MsR0FDUixNQUFJQSxHQUFRQyxjQUNELHVCQUNQRCxFQUFRRSxZQUNELGVBQ1BGLEVBQVFHLFVBQ0QsYUFDSixXTHMxTVh6akMsS0tuMU1BbWlDLG1CQUFxQixTQUFBbmxCLEdBWWpCK2xCLEVBQUt6aUMsVUFBV2toQyxZQUFheGtCLEVBQU14bUIsT0FBT3hCLFFBQzFDK3RDLEVBQUt0c0MsTUFBTXdxQyxlQUFlamtCLEVBQU14bUIsT0FBT3hCLFFMczFNM0NnTCxLS24xTUEwWixlQUFpQixTQUFDc0QsR0FDZEEsRUFBTXRELGtCTHMxTVYxWixLS2wxTUEwakMsd0JBQTBCLFNBQUFyZ0MsR0FDdEIwL0IsRUFBS3ppQyxVQUFXd2hDLGdCQUFpQnorQixJQUNqQzAvQixFQUFLemlDLFVBQVd1aEMsY0FBYyxLTHExTWxDN2hDLEtLajFNQTRpQyxjQUFnQixXQUNaRyxFQUFLemlDLFVBQVd1aEMsY0FBYyxLTG8xTWxDN2hDLEtLaDFNQXVpQyxjQUFnQixXQU1aLElBQUssR0FMRFUsR0FBT0YsRUFBSzNpQyxNQUFNZ0YsU0FDbEJ1K0IsS0FJSzVLLEVBQUksRUFBR0EsRUFBSWtLLEVBQUt0c0MsT0FBUW9pQyxJQUM3QixJQUFLLEdBQUlyaUMsR0FBSSxFQUFHQSxFQUFJdXNDLEVBQUtsSyxHQUFHcGlDLE9BQVFELElBQ2tCLEdBQTlDcXNDLEVBQUszaUMsTUFBTXFoQyxpQkFBaUJ3QixFQUFLbEssR0FBR3JpQyxHQUFHdU4sS0FDdkMwL0IsRUFBZ0I5akMsS0FBS29qQyxFQUFLbEssR0FBR3JpQyxHQUFHdU4sR0FNNUMsSUFBSTIvQixJQUNBQyxXQUFZZCxFQUFLM2lDLE1BQU1SLFNBQVNxRSxHQUNoQzYvQixZQUFhSCxFQUNiSSxLQUFNaEIsRUFBSzNpQyxNQUFNOEksVUFBVTg2QixRQUMzQnY2QixHQUFJczVCLEVBQUt0c0MsTUFBTTJOLGNBSW5CNi9CLFdBQU1DLEtBQVFDLFVBQU9DLE9BQXJCLDhCQUEwRFIsR0FFckRTLEtBQUssU0FBQUMsR0FDRnZCLEVBQUtXLHdCQUF3QixnQkFHaENhLE1BQU0sU0FBQWxyQixHQUNIMHBCLEVBQUtXLHdCQUF3Qiw2QkxpMU16QzFqQyxLSzcwTUFzaUMsdUJBQXlCLFdBQ3JCLEdBQUliLEdBQW1Cc0IsRUFBSzNpQyxNQUFNcWhDLGlCQUM5QitDLEVBQXdCLENBQzVCLEtBQUssR0FBSTl0QyxLQUFLK3FDLEdBQ2lCLEdBQXZCQSxFQUFpQi9xQyxJQUNqQjh0QyxHQUdSLElBQTZCLEdBQXpCQSxFQUdKLE1BQU8sSUFBTUEsRUFBd0IsS0EwRjdDdEQsR0FBVzFOLFdBQ1BqeUIsUUFBU2tqQyxVQUFVQyxPQUFPQyxXQUMxQnYvQixTQUFVcS9CLFVBQVVHLE1BQ3BCM0QsZUFBZ0J3RCxVQUFVblEsTUFHOUI0TSxFQUFXenJCLGFBQWVBLEVMeXZNMUJqaEIsRUFBUUssU0t2dk1PLEVBQUFvQyxFQUFBMFQsWUFBV2hRLEdBQVVpUSxXQUFXLElBQVFzMkIsSUwydk1qRDJELEtBQ0EsU0FBVXR3QyxFQUFRQyxFQUFTQyxHQUVqQyxZQXVHQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTVyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTUMsR0FBUSxJQUFLRCxFQUFRLEtBQU0sSUFBSUUsZ0JBQWUsNERBQWdFLFFBQU9ELEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJELEVBQVBDLEVBRWxPLFFBQVNFLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVloQixPQUFPaUIsT0FBT0YsR0FBY0EsRUFBV0MsV0FBYUUsYUFBZW5CLE1BQU9lLEVBQVVaLFlBQVksRUFBT0UsVUFBVSxFQUFNRCxjQUFjLEtBQWVZLElBQVlmLE9BQU9tQixlQUFpQm5CLE9BQU9tQixlQUFlTCxFQUFVQyxHQUFjRCxFQUFTTSxVQUFZTCxHQUVqZSxRQUFTbEIsR0FBZ0JILEVBQUtJLEVBQUtDLEdBQWlLLE1BQXBKRCxLQUFPSixHQUFPTSxPQUFPQyxlQUFlUCxFQUFLSSxHQUFPQyxNQUFPQSxFQUFPRyxZQUFZLEVBQU1DLGNBQWMsRUFBTUMsVUFBVSxJQUFrQlYsRUFBSUksR0FBT0MsRUFBZ0JMLEVBNUczTU0sT0FBT0MsZUFBZVYsRUFBUyxjQUMzQlEsT0FBTyxHQUdYLElBQUlzQixHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXekIsV0FBYXlCLEVBQVd6QixhQUFjLEVBQU95QixFQUFXeEIsY0FBZSxFQUFVLFNBQVd3QixLQUFZQSxFQUFXdkIsVUFBVyxHQUFNSixPQUFPQyxlQUFlc0IsRUFBUUksRUFBVzdCLElBQUs2QixJQUFpQixNQUFPLFVBQVVwQixFQUFhcUIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlOLEVBQWlCZixFQUFZUyxVQUFXWSxHQUFpQkMsR0FBYVAsRUFBaUJmLEVBQWFzQixHQUFxQnRCLE1NbnROaGlCdUIsRUFBQXRDLEVBQUEsR051dE5JdUMsRUFBVXRDLEVBQXVCcUMsR010dE5yQ0UsRUFBQXhDLEVBQUEsSUFDQXF3QyxFQUFBcndDLEVBQUEsS04ydE5Jc3dDLEVBQW1CcndDLEVBQXVCb3dDLEdNMXROOUNFLEVBQUF2d0MsRUFBQSxLTjh0Tkl3d0MsRUFBMEJ2d0MsRUFBdUJzd0MsR003dE5yREUsRUFBQXp3QyxFQUFBLEtOaXVOSTB3QyxFQUEwQnp3QyxFQUF1Qnd3QyxHTWh1TnJENXRDLEVBQUE3QyxFQUFBLEdOb3VOSThDLEVBQWU3QyxFQUF1QjRDLEdNbnVOMUM4dEMsRUFBQTN3QyxFQUFBLElBQ0EyQyxFQUFBM0MsRUFBQSxJTnd1Tkk0QyxFQUFlM0MsRUFBdUIwQyxHTXZ1TjFDaXVDLEVBQUE1d0MsRUFBQSxLTjJ1Tkk2d0MsRUFBZTV3QyxFQUF1QjJ3QyxHTTF1TjFDM0csRUFBQWpxQyxFQUFBLEtOOHVOSWtxQyxFQUFhanFDLEVBQXVCZ3FDLEdNN3VOeEN4bkMsRUFBQXpDLEVBQUEsSU5pdk5JMEMsRUFBU3pDLEVBQXVCd0MsR01odk5wQ1ksRUFBQXJELEVBQUEsSU5vdk5Jc0QsRUFBVXJELEVBQXVCb0QsR01udk5yQ3l0QyxFQUFBOXdDLEVBQUEsS051dk5JK3dDLEVBQVM5d0MsRUFBdUI2d0MsR010dk5wQzNHLEVBQUFucUMsRUFBQSxLTjB2TklvcUMsRUFBV25xQyxFQUF1QmtxQyxHTXp2TnRDRSxFQUFBcnFDLEVBQUEsS042dk5Jc3FDLEVBQWFycUMsRUFBdUJvcUMsR001dk54Q0ksRUFBQXpxQyxFQUFBLElOZ3dOSTBxQyxFQUFXenFDLEVBQXVCd3FDLEdNL3ZOdENFLEVBQUEzcUMsRUFBQSxJTm13Tkk0cUMsRUFBVTNxQyxFQUF1QjBxQyxHTWx3TnJDOUwsRUFBQTcrQixFQUFBLEdOc3dOSTZxQyxFQUFjNXFDLEVBQXVCNCtCLEdNcndOekNpTSxFQUFBOXFDLEVBQUEsS055d05JK3FDLEVBQWE5cUMsRUFBdUI2cUMsR014d054Q0UsRUFBQWhyQyxFQUFBLElONHdOSWlyQyxFQUFlaHJDLEVBQXVCK3FDLEdNM3dOMUNnRyxFQUFBaHhDLEVBQUEsS0FFQTRGLEVBQUE1RixFQUFBLElOK3dOSTZGLEVBQWtCNUYsRUFBdUIyRixHTTl3TjdDRSxFQUFBOUYsRUFBQSxJTmt4TkkrRixFQUFjOUYsRUFBdUI2RixHTWp4TnpDbXJDLEVBQUFqeEMsRUFBQSxLTnF4TklreEMsRUFBYWp4QyxFQUF1Qmd4QyxHTXB4TnhDRSxHQUFBbnhDLEVBQUEsS053eE5Jb3hDLEdBQWlCbnhDLEVBQXVCa3hDLElNdHhOdENqckMsR0FBUyxTQUFBQyxHQUFBLEdBQUFrckMsRUFBQSxPQUFBQSxJQUNYN3FDLE1BQ0kwQixRQUFTLEtBRWJvakMsY0FDSTVqQyxNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCZ0IsU0FBVSxRQUNWTSxRQUFTLGdCQUVicWpDLFdBQ0k1aUMsZ0JBQWlCeEMsRUFBTU8sUUFBUStELGdCQUFnQjdELEtBQy9DMEQsVUFBVyxRQUVmZ25DLGNBQ0lwcEMsUUFBUyxJQUNUaUwsVUFBVyxRQUVmd3BCLE1BQ0lqMUIsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3QkMsTUFBTyxTQUNQVSxPQUFRLFNBQ1J5QixRQUFTLE1BR2J3aUMsYUFDSTlqQyxNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixLQUMvQndCLE9BQVEsSUFDUmIsT0FBUSxzQkFDUlYsTUFBTyx1QkFFWDRrQyxjQUNJempCLFNBQVUsSUFDVmpoQixXQUFZLFdBRWhCd3FDLFVBQ0kxcUMsTUFBTyxPQUNQVSxPQUFRLE9BQ1JvbEIsT0FBUSw4QkFDUnpFLFNBQVUsVUFFZHNwQixhQUNJbnJDLFFBQVMsT0FDVFEsTUFBTyxVQUNQVSxPQUFRLFNBQ1JvdEIsT0FBUXh1QixFQUFNTyxRQUFRNkIsVUFBVTNCLEtBQU8sYUFDdkNvQixhQUFjLE1BQ2RoQixXQUFZLFVBRWhCeXFDLHFCQUNJOW9DLGdCQUFpQixXQUVyQitvQyxPQUNJL2tCLE9BQVEsb0JBRVprZixXQUNJbmtDLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JnQixTQUFVLFNBQ1ZLLFVBQVcsVUFFZjBwQyxVQUNJM29DLFFBQVMsT0FFYjRvQyxrQkFDSWxxQyxNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCZ0IsU0FBVSxTQUVkaXFDLHFCQUNJbHBDLGdCQUFpQixXQUVyQm1wQyxtQkFDSS9GLGFBQWMsZ0NBQ2R4a0MsT0FBUSxVQUVad3FDLG1CQUNJbnFDLFNBQVUsUUFDVkYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3Qm9DLFFBQVMsTUFFYmdwQyxjQUNJOXBDLFFBQVMsSUFBS3lrQixPQUFRLEtBRTFCc2xCLFNBQ0l0bEIsT0FBUSxnQkFFWnVsQixZQUNJeHFDLE1BQU92QixFQUFNTyxRQUFRNkIsVUFBVTNCLE1BRW5DdXJDLHlCQUNJNW5DLFVBQVcsT0FDWHJDLFFBQVMsdUJBRWJrcUMsVUFDSTdxQyxPQUFRLHdCQUNSVixNQUFPLHlCQUVYOGtDLGtCQUNJbmtDLE9BQVEsV0FFWm9rQyxtQkFDSTVpQyxRQUFTLE1BRWJxcEMsaUJBQ0lwcUIsVUFBVyxxQkFFZnFxQixpQkFDSW4vQixVQUFXLFNBQVVwTSxXQUFZLFNBRXJDd3JDLFVBQ0lDLFdBQVksc0JBNUdMbnlDLEVBQUFneEMsRUFBQSxzQkFBQWh4QyxFQUFBZ3hDLEVBQUEsb0JBa0hQbUIsV0FBWSxzQkFsSExueUMsRUFBQWd4QyxFQUFBLGNBcUhQM3BDLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JvQyxRQUFTLEtBdEhGM0ksRUFBQWd4QyxFQUFBLGtCQXlIUDltQyxVQUFXLE9BQ1h6QyxhQUFjLGlCQTFIUHpILEVBQUFneEMsRUFBQSx1QkE2SFB4cUMsTUFBTyxRQTdIQXhHLEVBQUFneEMsRUFBQSxnQkFnSVB4cUMsTUFBTyxRQWhJQXhHLEVBQUFneEMsRUFBQSxnQkFtSVB4cUMsTUFBTyxVQW5JQXhHLEVBQUFneEMsRUFBQSxrQkFzSVB4cUMsTUFBTyxRQXRJQXhHLEVBQUFneEMsRUFBQSxpQkF5SVB4cUMsTUFBTyxRQXpJQXhHLEVBQUFneEMsRUFBQSxtQkE0SVB4cUMsTUFBTyxRQTVJQXhHLEVBQUFneEMsRUFBQSxrQkErSVBwcEMsVUFBVyxTQUNYK2YsU0FBVSxZQWhKSDNuQixFQUFBZ3hDLEVBQUEsZ0JBbUpQdEYsYUFBYyxrQ0FuSlAxckMsRUFBQWd4QyxFQUFBLGVBc0pQbnFDLGVBQWdCLGFBdEpUN0csRUFBQWd4QyxFQUFBLHlCQXlKUHhxQyxNQUFPLFVBQ1BVLE9BQVEsV0ExSkRsSCxFQUFBZ3hDLEVBQUEsb0JBNkpQeHFDLE1BQU8sWUE3SkF4RyxFQUFBZ3hDLEVBQUEsYUFnS1A5cEMsT0FBUSxXQWhLRGxILEVBQUFneEMsRUFBQSxnQkFtS1BucEMsUUFBUyxNQW5LRjdILEVBQUFneEMsRUFBQSw0QkFzS1BycEIsU0FBVSxZQXRLSDNuQixFQUFBZ3hDLEVBQUEsY0F5S1B6cEMsU0FBVSxtQkFDVkYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3Qm1sQyxhQUFjLG1DQTNLUDFyQyxFQUFBZ3hDLEVBQUEsZ0JBOEtQOXBDLE9BQVEsb0JBOUtEOHBDLEdBb0xUcndCLElBQ0ZyUSxZQUNBcThCLG9CQUNBUixlQUFnQixjQUdkaUcsR05neE5hLFNBQVU1UixHTTd3TnpCLFFBQUE0UixHQUFZendDLEdBQU9uQixFQUFBMEssS0FBQWtuQyxFQUFBLElBQUFqbkMsR0FBQXZLLEVBQUFzSyxNQUFBa25DLEVBQUE3d0MsV0FBQXBCLE9BQUFpTCxlQUFBZ25DLElBQUF0eEMsS0FBQW9LLEtBQ1R2SixHQURTMHFDLElBQUF2ckMsS0FBQXFLLEVBRWYsSUFBSWtuQyxFQUNKbG5DLEdBQUttbkMsWUFBYyxDQUVuQixLQUFLLEdBRER4M0IsTUFDS2xaLEVBQUksRUFBR0EsRUFBSUQsRUFBTTJPLFNBQVN6TyxPQUFRRCxJQUN2Q3VKLEVBQUttbkMsWUFBY25uQyxFQUFLbW5DLFlBQWMzd0MsRUFBTTJPLFNBQVMxTyxHQUFHMndDLGtCQUN4RHozQixFQUFJblosRUFBTTJPLFNBQVMxTyxHQUFHdU4sS0FBTSxDQUVoQyxJQUFJcWpDLEdBQ0E5RixDQVZXLE9BV1h2aEMsR0FBS3hKLE1BQU1nc0MsWUFDWDZFLEVBQWtCMTNCLEVBQ2xCNHhCLEVBQWMsTUFDZHZoQyxFQUFLeEosTUFBTXdxQyxlQUFlLE9BQzFCa0csR0FBVyxJQUdYRyxFQUFrQnJuQyxFQUFLeEosTUFBTWdyQyxpQkFDN0JELEVBQWMvcUMsRUFBTStxQyxZQUNwQjJGLEdBQVcsR0FHZmxuQyxFQUFLRyxPQUNEOGhDLFNBQVMsRUFDVDk4QixTQUFVM08sRUFBTTJPLFNBQ2hCczhCLFlBQWFqckMsRUFBTTJPLFNBQ25CcThCLGlCQUFrQjZGLEVBQ2xCdEYsS0FBTXZyQyxFQUFNdXJDLEtBQ1pvRixZQUFhbm5DLEVBQUttbkMsWUFDbEI1RixZQUFhQSxFQUNiMkYsU0FBVUEsRUFDVnZGLGFBQWEsRUFDYmhpQyxTQUFVSyxFQUFLeEosTUFBTW1KLFNBQ3JCc0osVUFBV2pKLEVBQUt4SixNQUFNeVMsVUFDdEIyNEIsY0FBYyxFQUNkQyxnQkFBaUIsSUFwQ043aEMsRU5rck9uQixNQXBhQW5LLEdBQVVveEMsRUFBYzVSLEdBK0N4QmgvQixFQUFhNHdDLElBQ1RueUMsSUFBSyw0QkFDTEMsTUFBTyxTTXR4TmV5QixHQUd0QixJQUFLLEdBREQwc0MsR0FBTSxFQUNEenNDLEVBQUksRUFBR0EsRUFBSUQsRUFBTTJPLFNBQVN6TyxPQUFRRCxJQUN2Q3lzQyxHQUFZMXNDLEVBQU0yTyxTQUFTMU8sR0FBRzJ3QyxpQkFFOUI1d0MsR0FBTWdzQyxZQUNOemlDLEtBQUtNLFVBQVc4bUMsWUFBYWpFLEVBQUsvOUIsU0FBVTNPLEVBQU0yTyxTQUFVczhCLFlBQWFqckMsRUFBTTJPLFdBQy9FcEYsS0FBSytoQyxTQUFTdHJDLEVBQU0yTyxTQUFVcEYsS0FBS0ksTUFBTXFoQyxvQkFHekN6aEMsS0FBS00sVUFBVzhtQyxZQUFhakUsRUFBSy85QixTQUFVM08sRUFBTTJPLFNBQVVzOEIsWUFBYWpyQyxFQUFNMk8sU0FBVXE4QixpQkFBa0JockMsRUFBTWdyQyxtQkFDakh6aEMsS0FBSytoQyxTQUFTdHJDLEVBQU0yTyxTQUFVcEYsS0FBS0ksTUFBTXFoQyxzQk53eU43QzFzQyxJQUFLLFNBSUxDLE1BQU8sV001bE5GLEdBQUFpUixHQUFBakcsS0FBQWtHLEVBRXNCbEcsS0FBS3ZKLE1BQXhCOEssRUFGSDJFLEVBRUczRSxRQUFTM0csRUFGWnNMLEVBRVl0TCxLQUNqQixPQUNJNUQsR0FBQW5DLFFBQUFrTixjQUFBLE9BQUs0RixPQUFTckssU0FBVSxhQUNuQjBDLEtBQUt2SixNQUFNZ3NDLFlBQ1J6ckMsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUsyUyxXQUFBLEVBQVVDLEdBQUksR0FBSWhNLFdBQVcsU0FBU2lNLFFBQVEsZ0JBQWdCaEIsVUFBV25GLEVBQVFxbEMseUJBQ25GNXZDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLK0ksTUFBTSxTQUFTWCxPQUFTOUssT0FBUSxLQUFPNkosVUFBV25GLEVBQVFnbUMsMEJBQTBCdndDLEVBQUFuQyxRQUFBa04sY0FBQzQ4QixFQUFBOXBDLFNBQVMwTSxTQUFXdEcsS0FBTXNHLEVBQVF3L0IsY0FBZ0IzUCxLQUFNcDZCLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVEwK0IsWUFBYWwzQixJQUFLLG9DQUF1Q2szQixZQUFhanBDLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVEwK0IsWUFBYWwzQixJQUFLLGtDQUFxQ201QixRQUFTbGlDLEtBQUtJLE1BQU04aEMsUUFBU2w3QixRQUFTLGlCQUFNZixHQUFLdWhDLGlCQUFpQnhxQixXQUN2WWhtQixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS2tJLEdBQUksR0FBR3pRLEVBQUFuQyxRQUFBa04sY0FBQSxRQUFNMkUsVUFBV25GLEVBQVE4a0Msa0JBQXpCLGVBQ2xCcnZDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLa0ksR0FBSSxFQUFHYSxNQUFNLFNBQVF0UixFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzhTLE9BQVN4TCxNQUFPLFlBQTVCLGNBQ2hDbkYsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEdBQ1h6USxFQUFBbkMsUUFBQWtOLGNBQUM4OEIsRUFBQWhxQyxTQUNHNlIsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRMitCLGNBQzlCbHJDLE1BQU9nTCxLQUFLSSxNQUFNb2hDLFlBQ2xCamdDLFNBQVc2dkIsS0FBTTd2QixFQUFRby9CLFdBQVlKLFdBQVloL0IsRUFBUWcvQixZQUN6RDdwQixTQUFVMVcsS0FBS21pQyxtQkFDZnRuQixZQUNJblYsS0FBTSxlQUVWMDhCLFdBQ0k3Z0MsU0FDSXlhLE1BQU96YSxFQUFReStCLGFBSXZCaHBDLEVBQUFuQyxRQUFBa04sY0FBQ2c5QixFQUFBbHFDLFNBQVMwTSxTQUFXdEcsS0FBTXNHLEVBQVF3K0IsY0FBZ0IvcUMsTUFBTyxPQUExRCxPQUNBZ0MsRUFBQW5DLFFBQUFrTixjQUFDZzlCLEVBQUFscUMsU0FBUzBNLFNBQVd0RyxLQUFNc0csRUFBUXcrQixjQUFnQi9xQyxNQUFPLGNBQTFELGNBQ0FnQyxFQUFBbkMsUUFBQWtOLGNBQUNnOUIsRUFBQWxxQyxTQUFTME0sU0FBV3RHLEtBQU1zRyxFQUFRdytCLGNBQWdCL3FDLE1BQU8sZ0JBQTFELGdCQUNBZ0MsRUFBQW5DLFFBQUFrTixjQUFDZzlCLEVBQUFscUMsU0FBUzBNLFNBQVd0RyxLQUFNc0csRUFBUXcrQixjQUFnQi9xQyxNQUFPLFdBQTFELFdBQ0FnQyxFQUFBbkMsUUFBQWtOLGNBQUNnOUIsRUFBQWxxQyxTQUFTME0sU0FBV3RHLEtBQU1zRyxFQUFRdytCLGNBQWdCL3FDLE1BQU8sd0JBQTFELDBCQUdSZ0MsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEVBQUdhLE1BQU0sU0FFZnRJLEtBQUt2SixNQUFNMk4sZ0JBQWtCcEUsS0FBS0ksTUFBTXdoQyxhQUN6QzVxQyxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzJFLFdBQVcsRUFBQW5QLEVBQUExQyxTQUFXME0sRUFBUXNsQyxTQUFVdGxDLEVBQVE2K0Isa0JBQW1CcDVCLFFBQVNoSCxLQUFLdWlDLGNBQWV4NUIsSUFBSywyQkFHekcvSSxLQUFLdkosTUFBTTJOLGdCQUFrQnBFLEtBQUtJLE1BQU13aEMsYUFDekM1cUMsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVFzbEMsU0FBVXRsQyxFQUFROCtCLG1CQUFvQnQzQixJQUFLLDZCQUs5Ri9SLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMlMsV0FBQSxFQUFVL0wsV0FBVyxjQUN2QnpFLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLa0ksR0FBSSxHQUFJZixVQUFXMUcsS0FBS3ZKLE1BQU1nc0MsV0FBYWxoQyxFQUFRNGtDLE1BQVE1a0MsRUFBUWttQyxTQUMxRXp3QyxFQUFBbkMsUUFBQWtOLGNBQUNnakMsRUFBQWx3QyxTQUFlOFMsT0FBUzNJLFVBQVcsT0FBUTVCLGdCQUFpQixlQUFpQnNxQyxnQkFBaUIxbkMsS0FBS3ZKLE1BQU1nc0MsV0FBWTBFLFNBQVVubkMsS0FBS0ksTUFBTSttQyxXQUNySW5uQyxLQUFLdkosTUFBTWdzQyxZQUNUenJDLEVBQUFuQyxRQUFBa04sY0FBQ2tqQyxFQUFBcHdDLFNBQXNCNlIsVUFBV25GLEVBQVFrbEMsYUFBY2xsQyxTQUFXbWxDLFFBQVNubEMsRUFBUW1sQyxRQUFTUyxTQUFVNWxDLEVBQVF1bEMsa0JBQzNHOXZDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMlMsV0FBQSxFQUFVL0wsV0FBVyxTQUFTaUwsVUFBV25GLEVBQVFvbUMsZ0JBQ25EM3dDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLbUgsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRdS9CLHNCQUFzQnYvQixFQUFRdUgsZUFBZ0JSLE1BQU0sVUFDekZ0UixFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzJFLFVBQVduRixFQUFRcW1DLFlBQ3hCNXdDLEVBQUFuQyxRQUFBa04sY0FBQzQ4QixFQUFBOXBDLFNBQVMwTSxTQUFXdEcsS0FBTXNHLEVBQVF3L0IsY0FBZ0IzUCxLQUFNcDZCLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVEwK0IsWUFBYWwzQixJQUFLLG9DQUF1Q2szQixZQUFhanBDLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVEwK0IsWUFBYWwzQixJQUFLLGtDQUFxQ201QixRQUFTbGlDLEtBQUtJLE1BQU04aEMsUUFBU2w3QixRQUFTLGlCQUFNZixHQUFLdWhDLGlCQUFpQnhxQixXQUM1U2htQixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzJTLFdBQUEsRUFBVS9MLFdBQVcsU0FBU2lNLFFBQVEsZ0JBQWdCbkksTUFBQSxFQUFLa0ksR0FBSSxHQUFJYSxNQUFNLE9BQU90QixRQUFTaEgsS0FBSzZuQyxhQUFjbmhDLFVBQVduRixFQUFRaS9CLGNBQ2pJeHBDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLa0ksR0FBSSxJQUNYelEsRUFBQW5DLFFBQUFrTixjQUFBLFFBQU0yRSxVQUFXbkYsRUFBUThrQyxrQkFBbUJybUMsS0FBS0ksTUFBTTRoQyxLQUF2RCxLQUVBaHJDLEVBQUFuQyxRQUFBa04sY0FBQSxRQUFNMkUsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRNmtDLFNBQVM3a0MsRUFBUThrQyxtQkFDaERybUMsS0FBS3NpQywyQkFHZHRyQyxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS2tJLEdBQUksRUFBR2EsTUFBTSxVQUNsQnRJLEtBQUtJLE1BQU0rbUMsVUFBWW53QyxFQUFBbkMsUUFBQWtOLGNBQUN1akMsRUFBQXp3QyxTQUFlNlIsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRb2xDLFdBQVdwbEMsRUFBUXNsQyxZQUN6RjdtQyxLQUFLSSxNQUFNK21DLFVBQVlud0MsRUFBQW5DLFFBQUFrTixjQUFDMGpDLEVBQUFxQyxZQUFXcGhDLFdBQVcsRUFBQW5QLEVBQUExQyxTQUFXME0sRUFBUW9sQyxXQUFXcGxDLEVBQVFzbEMsZ0JBTXpHN3ZDLEVBQUFuQyxRQUFBa04sY0FBQ29qQyxFQUFBdHdDLFNBQXNCNlIsVUFBWTFHLEtBQUt2SixNQUFNNnFDLFNBQTBCLy9CLEVBQVF3a0MsYUFBdkJ4a0MsRUFBUXRHLE9BQzNEK0UsS0FBS3ZKLE1BQU02cUMsVUFDVHRxQyxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzJTLFdBQUEsSUFDQXhILEtBQUt2SixNQUFNZ3NDLFlBQ1R6ckMsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtpSSxXQUFBLEVBQVVkLFVBQVduRixFQUFRd21DLGlCQUFrQnJnQyxRQUFRLFVBQzlEMVEsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUttSCxVQUFXMUcsS0FBS3ZKLE1BQU1nc0MsV0FBYWxoQyxFQUFRd2xDLGdCQUFrQnhsQyxFQUFReWxDLFlBRXhGaHdDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLaUksV0FBQSxFQUFVQyxHQUFJekgsS0FBS3ZKLE1BQU1nc0MsV0FBYSxHQUFLLEdBQUlobkMsV0FBVyxTQUFTaU0sUUFBUSxVQUNsRjFRLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLaUksV0FBQSxFQUFVQyxHQUFJLEdBQUloTSxXQUFXLFNBQVNpTSxRQUFRLGdCQUFnQkMsT0FBU0MsVUFBVyxXQUN6RjVRLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLbUgsVUFBV25GLEVBQVF5bUMsZ0JBQzFCaHhDLEVBQUFuQyxRQUFBa04sY0FBQSxjQUVKL0ssRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUsrSSxNQUFNLFNBQVM1QixXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVEwbUMsb0JBQXFCMW1DLEVBQVFpbEMsa0JBQW1CamxDLEVBQVF1SCxnQkFBaEgsa0JBR0E5UixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBSytJLE1BQU0sUUFBUTVCLFdBQVcsRUFBQW5QLEVBQUExQyxTQUFXME0sRUFBUTJtQyxhQUFjM21DLEVBQVFpbEMsa0JBQW1CamxDLEVBQVF1SCxnQkFBeEcsVUFHQTlSLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLK0ksTUFBTSxTQUFTNUIsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRNG1DLGFBQWM1bUMsRUFBUWlsQyxrQkFBbUJqbEMsRUFBUXVILGdCQUF6RyxjQUdBOVIsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUsrSSxNQUFNLFNBQVM1QixXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVE2bUMsZUFBZ0I3bUMsRUFBUWlsQyxrQkFBbUJqbEMsRUFBUXVILGdCQUEzRyxnQkFHQTlSLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLK0ksTUFBTSxTQUFTNUIsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFROG1DLGNBQWU5bUMsRUFBUWlsQyxrQkFBbUJqbEMsRUFBUXVILGdCQUExRyxXQUdBOVIsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUsrSSxNQUFNLFNBQVM1QixXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVErbUMsZ0JBQWlCL21DLEVBQVFpbEMsa0JBQW1CamxDLEVBQVF1SCxnQkFBNUcsd0JBR0E5UixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS2tJLEdBQUksRUFBR2YsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRZ25DLFlBQVlobkMsRUFBUXVILGtCQUdwRTlJLEtBQUtJLE1BQU1nRixTQUFTd0ssSUFBSSxTQUFDMHpCLEVBQVNyL0IsR0FFOUIsTUFDSWpOLEdBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLaUksV0FBQSxFQUFVL0wsV0FBVyxTQUFTaU0sUUFBUSxnQkFBZ0JELEdBQUksR0FBSWYsVUFBV1QsRUFBSzdGLE1BQU1xaEMsaUJBQWlCNkIsRUFBUXIvQixLQUFNLEVBQUExTSxFQUFBMUMsU0FBVzBNLEVBQVEra0Msb0JBQXFCL2tDLEVBQVFnbEMsbUJBQXFCaGxDLEVBQVFnbEMsa0JBQW1CeHhDLElBQUt1dUMsRUFBUXIvQixHQUFLLE9BQzVPak4sRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUttSCxVQUFXbkYsRUFBUXltQyxlQUFnQjEvQixNQUFNLFNBQVMzTCxRQUFRLFlBQ2pFM0YsRUFBQW5DLFFBQUFrTixjQUFDNDhCLEVBQUE5cEMsU0FBUzBNLFNBQVd0RyxLQUFNc0csRUFBUXcvQixjQUFnQjk4QixHQUFJcS9CLEVBQVFyL0IsR0FBSW10QixLQUFNcDZCLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVEwK0IsWUFBYWwzQixJQUFLLG9DQUF1Q2szQixZQUFhanBDLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVEwK0IsWUFBYWwzQixJQUFLLGtDQUFxQ201QixRQUFvRCxHQUEzQ2o4QixFQUFLN0YsTUFBTXFoQyxpQkFBaUI2QixFQUFRci9CLElBQWErQyxRQUFTLGlCQUFNZixHQUFLdWlDLFdBQVdsRixFQUFRci9CLFFBRTNWak4sRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUt5VCxNQUFNLFNBQVNtZ0MsU0FBQSxFQUFRL2hDLFdBQVcsRUFBQW5QLEVBQUExQyxTQUFXME0sRUFBUTBtQyxvQkFBcUIxbUMsRUFBUSsrQixVQUFXLytCLEVBQVF1SCxnQkFDdEd3NkIsRUFBUW9GLGdCQUViMXhDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLeVQsTUFBTSxRQUFRbWdDLFNBQUEsRUFBUS9oQyxXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVEybUMsYUFBYzNtQyxFQUFRKytCLFVBQVcvK0IsRUFBUXVILGdCQUM5RixLQUFNLEVBQUFzOEIsRUFBQXVELFdBQVVyRixFQUFRK0Qsb0JBRTdCcndDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLNlIsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRNG1DLGFBQWM1bUMsRUFBUXVILGVBQWdCUixNQUFNLFNBQVNtZ0MsU0FBQSxHQUFTbkYsRUFBUUcsVUFBWXpzQyxFQUFBbkMsUUFBQWtOLGNBQUN5akMsRUFBQTN3QyxTQUFTNlIsVUFBV25GLEVBQVE2dkIsT0FBV3A2QixFQUFBbkMsUUFBQWtOLGNBQUNoSyxFQUFBbEQsU0FBVTZSLFVBQVduRixFQUFRNnZCLFFBQzVMcDZCLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLNlIsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRNm1DLGVBQWdCN21DLEVBQVF1SCxlQUFnQlIsTUFBTSxTQUFTbWdDLFNBQUEsR0FBU25GLEVBQVFFLFlBQWN4c0MsRUFBQW5DLFFBQUFrTixjQUFDeWpDLEVBQUEzd0MsU0FBUzZSLFVBQVduRixFQUFRNnZCLE9BQVdwNkIsRUFBQW5DLFFBQUFrTixjQUFDaEssRUFBQWxELFNBQVU2UixVQUFXbkYsRUFBUTZ2QixRQUNoTXA2QixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzZSLFdBQVcsRUFBQW5QLEVBQUExQyxTQUFXME0sRUFBUThtQyxjQUFlOW1DLEVBQVF1SCxlQUFnQlIsTUFBTSxTQUFTbWdDLFNBQUEsR0FBa0MsTUFBekJuRixFQUFRc0YsY0FBd0I1eEMsRUFBQW5DLFFBQUFrTixjQUFDeWpDLEVBQUEzd0MsU0FBUzZSLFVBQVduRixFQUFRNnZCLE9BQVdwNkIsRUFBQW5DLFFBQUFrTixjQUFDaEssRUFBQWxELFNBQVU2UixVQUFXbkYsRUFBUTZ2QixRQUN6TXA2QixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzZSLFdBQVcsRUFBQW5QLEVBQUExQyxTQUFXME0sRUFBUSttQyxnQkFBaUIvbUMsRUFBUXVILGVBQWdCUixNQUFNLFNBQVNtZ0MsU0FBQSxHQUFTbkYsRUFBUUMsY0FBZ0J2c0MsRUFBQW5DLFFBQUFrTixjQUFDeWpDLEVBQUEzd0MsU0FBUzZSLFVBQVduRixFQUFRNnZCLE9BQVdwNkIsRUFBQW5DLFFBQUFrTixjQUFDaEssRUFBQWxELFNBQVU2UixVQUFXbkYsRUFBUTZ2QixRQUNuTXA2QixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzZSLFdBQVcsRUFBQW5QLEVBQUExQyxTQUFXME0sRUFBUWduQyxZQUFZaG5DLEVBQVF1SCxlQUFnQnJCLEdBQUksRUFBR2EsTUFBTSxTQUM5RXJDLEVBQUt4UCxNQUFNMk4sZ0JBQWtCNkIsRUFBSzdGLE1BQU1xaEMsaUJBQWlCNkIsRUFBUXIvQixLQUNoRWpOLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRc2xDLFNBQVV0bEMsRUFBUTYrQixrQkFBbUJwNUIsUUFBUyxpQkFBTWYsR0FBSzRpQyxVQUFVdkYsRUFBUXIvQixLQUFLOEUsSUFBSyxpQ0FVeEovSSxLQUFLdkosTUFBTTZxQyxVQUNYdHFDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMlMsV0FBQSxHQUNGeFEsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtpSSxXQUFBLEVBQVVkLFVBQVduRixFQUFRd21DLGlCQUFrQnJnQyxRQUFRLFVBQzlEMVEsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUttSCxVQUFXbkYsRUFBUXVuQyxvQkFFbEM5eEMsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLElBRVh6USxFQUFBbkMsUUFBQWtOLGNBQUM0akMsRUFBQTl3QyxTQUFTazBDLFdBQVksT0FBUXJpQyxVQUFXbkYsRUFBUXlrQyxVQUV6Q2htQyxLQUFLSSxNQUFNZ0YsU0FBU3dLLElBQUksU0FBQTB6QixHQUFBLE1BRWhCdHNDLEdBQUFuQyxRQUFBa04sY0FBQzhqQyxHQUFBaHhDLFNBQWFtMEMsS0FBTSxFQUFHajBDLElBQUt1dUMsRUFBUXIvQixHQUFJMUMsU0FBVzBuQyxLQUFNMW5DLEVBQVEybkMsY0FDN0R2aEMsT0FBUzNMLE9BQVEsT0FBUVYsTUFBTyxPQUFROGxCLE9BQVEsV0FFaERwcUIsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUF1RCxHQUEzQ1QsRUFBSzdGLE1BQU1xaEMsaUJBQWlCNkIsRUFBUXIvQixJQUFlMUMsRUFBUTJrQyxvQkFBc0Iza0MsRUFBUTBrQyxhQUV0R2p2QyxFQUFBbkMsUUFBQWtOLGNBQUM0OEIsRUFBQTlwQyxTQUFTOFMsT0FBU2hMLFFBQVMsTUFBT2xCLFdBQVksU0FBVWtELEtBQU0sTUFDM0R5eUIsS0FBTXA2QixFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzJFLFVBQVduRixFQUFRMCtCLFlBQWFsM0IsSUFBSyxvQ0FDaERrM0IsWUFBYWpwQyxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzJFLFVBQVduRixFQUFRMCtCLFlBQWFsM0IsSUFBSyxrQ0FDdkQ5RSxHQUFJcS9CLEVBQVFyL0IsR0FHWmkrQixRQUFvRCxHQUEzQ2o4QixFQUFLN0YsTUFBTXFoQyxpQkFBaUI2QixFQUFRci9CLElBQWErQyxRQUFTLGlCQUFNZixHQUFLdWlDLFdBQVdsRixFQUFRci9CLE9BRXJHak4sRUFBQW5DLFFBQUFrTixjQUFBLE9BQUs0RixPQUFTN00sUUFBUyxPQUFRQyxjQUFlLFNBQVVZLGVBQWdCLFNBQVVILFdBQVksUUFDMUZ4RSxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzhTLE9BQVNoTCxRQUFTLElBQUtOLFNBQVUsU0FBVUYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUFNb0MsUUFBUyxJQUFNUixXQUFZLFdBQWFxbUMsRUFBUW9GLGdCQUMxSTF4QyxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzhTLE9BQVNoTCxRQUFTLElBQUtOLFNBQVUsV0FBWUYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUFNNEIsV0FBWSxXQUF4RyxLQUFzSCxFQUFBbW9DLEVBQUF1RCxXQUFVckYsRUFBUStELGdDQWdCaE1yd0MsRUFBQW5DLFFBQUFrTixjQUFDeTlCLEVBQUEzcUMsU0FDR3N4QixjQUNJQyxTQUFVLFNBQ1ZDLFdBQVksUUFFaEJ4ZixLQUFNN0csS0FBS0ksTUFBTXloQyxhQUNqQmMsaUJBQWtCLElBQ2xCNTdCLFFBQVMvRyxLQUFLNGlDLGNBQ2RDLGNBQ0lDLG1CQUFvQixjQUV4QnovQixRQUFTck0sRUFBQW5DLFFBQUFrTixjQUFBLFFBQU1rQyxHQUFHLGNBQWNqRSxLQUFLSSxNQUFNMGhDLGlCQUMzQ3psQixRQUNJcmxCLEVBQUFuQyxRQUFBa04sY0FBQzI5QixFQUFBN3FDLFNBQ0dFLElBQUksUUFDSmtTLGFBQVcsUUFDWDlLLE1BQU0sVUFDTnVLLFVBQVduRixFQUFRMmIsTUFDbkJsVyxRQUFTaEgsS0FBSzRpQyxlQUVkNXJDLEVBQUFuQyxRQUFBa04sY0FBQ2hLLEVBQUFsRCxRQUFELGVONHVOakJxeUMsR01yck9nQjFqQyxVQUFNdUcsV053ck83Qm8zQixHQUFtQixXQUNuQixHQUFJbkQsR0FBU2grQixJQUViQSxNTS9uT0FtaUMsbUJBQXFCLFNBQUFubEIsR0FDakJnaEIsRUFBSzE5QixVQUFXa2hDLFlBQWF4a0IsRUFBTXhtQixPQUFPeEIsUUFDMUNncEMsRUFBS3ZuQyxNQUFNd3FDLGVBQWVqa0IsRUFBTXhtQixPQUFPeEIsUU5rb08zQ2dMLEtNL25PQTZuQyxhQUFlLFdBQ2dCLEdBQXZCN0osRUFBSzU5QixNQUFNK21DLFNBQ1huSixFQUFLMTlCLFVBQVc2bUMsVUFBVSxJQUUxQm5KLEVBQUsxOUIsVUFBVzZtQyxVQUFVLEtOK25PbENubkMsS001bk9Bd29DLFdBQWEsU0FBQ3ZrQyxHQUc2QixHQUFuQys1QixFQUFLNTlCLE1BQU1xaEMsaUJBQWlCeDlCLEdBQ3hCKzVCLEVBQUt2bkMsTUFBTWdzQyxXQUNYekUsRUFBS21MLGVBQWVsbEMsRUFBSSxPQUV4Qis1QixFQUFLdm5DLE1BQU1pc0MsZ0JBQWdCeitCLEVBQUksT0FBTyxHQUl0Qys1QixFQUFLdm5DLE1BQU1nc0MsV0FDWHpFLEVBQUttTCxlQUFlbGxDLEVBQUksVUFFeEIrNUIsRUFBS3ZuQyxNQUFNaXNDLGdCQUFnQnorQixFQUFJLFVBQVUsSU4wbk9yRGpFLEtNcm5PQXduQyxpQkFBbUIsU0FBQ3hxQixHQUVVLEdBQXRCZ2hCLEVBQUs1OUIsTUFBTThoQyxTQUNYbEUsRUFBSzE5QixVQUFXNGhDLFNBQVMsSUFDckJsRSxFQUFLdm5DLE1BQU1nc0MsV0FDWHpFLEVBQUttTCxlQUFlbkwsRUFBSzU5QixNQUFNZ0YsU0FBVSxlQUV6QzQ0QixFQUFLdm5DLE1BQU1pc0MsZ0JBQWdCMUUsRUFBSzU5QixNQUFNZ0YsU0FBVSxlQUFlLEtBSW5FNDRCLEVBQUsxOUIsVUFBVzRoQyxTQUFTLElBQ3JCbEUsRUFBS3ZuQyxNQUFNZ3NDLFdBQ1h6RSxFQUFLbUwsZUFBZW5MLEVBQUs1OUIsTUFBTWdGLFNBQVUsWUFFekM0NEIsRUFBS3ZuQyxNQUFNaXNDLGdCQUFnQjFFLEVBQUs1OUIsTUFBTWdGLFNBQVUsWUFBWSxLTmluT3hFcEYsS001bU9BbXBDLGVBQWlCLFNBQUMvK0IsRUFBTTg0QixHQUNwQixPQUFRQSxHQUNKLElBQUssTUFDRCxHQUFJRCxHQUFPakYsRUFBSzU5QixNQUFNcWhDLGdCQUN0QndCLEdBQUs3NEIsSUFBUSxFQUNiNHpCLEVBQUsxOUIsVUFBV21oQyxpQkFBa0J3QixJQUNsQ2pGLEVBQUsrRCxTQUFTL0QsRUFBSzU5QixNQUFNZ0YsU0FBVTY5QixFQUNuQyxNQUNKLEtBQUssU0FDRCxHQUFJQSxHQUFPakYsRUFBSzU5QixNQUFNcWhDLGdCQUN0QndCLEdBQUs3NEIsSUFBUSxFQUNiNHpCLEVBQUsxOUIsVUFBV21oQyxpQkFBa0J3QixJQUNsQ2pGLEVBQUsrRCxTQUFTL0QsRUFBSzU5QixNQUFNZ0YsU0FBVTY5QixFQUNuQyxNQUNKLEtBQUssV0FFRCxJQUFLLEdBRERBLEdBQU9qRixFQUFLNTlCLE1BQU1xaEMsaUJBQ2IvcUMsRUFBSSxFQUFHQSxFQUFJMFQsRUFBS3pULE9BQVFELElBQzdCdXNDLEVBQUs3NEIsRUFBSzFULEdBQUd1TixLQUFNLENBRXZCKzVCLEdBQUsxOUIsVUFBV21oQyxpQkFBa0J3QixJQUNsQ2pGLEVBQUsrRCxTQUFTL0QsRUFBSzU5QixNQUFNZ0YsU0FBVTY5QixFQUNuQyxNQUNKLEtBQUssY0FFRCxJQUFLLEdBRERBLEdBQU9qRixFQUFLNTlCLE1BQU1xaEMsaUJBQ2IvcUMsRUFBSSxFQUFHQSxFQUFJMFQsRUFBS3pULE9BQVFELElBQzdCdXNDLEVBQUs3NEIsRUFBSzFULEdBQUd1TixLQUFNLENBRXZCKzVCLEdBQUsxOUIsVUFBV21oQyxpQkFBa0J3QixJQUNsQ2pGLEVBQUsrRCxTQUFTL0QsRUFBSzU5QixNQUFNZ0YsU0FBVTY5QixLTmluTy9DampDLEtNM21PQStoQyxTQUFXLFdBTVAsSUFBSyxHQUxEa0IsR0FBT2pGLEVBQUs1OUIsTUFBTWdGLFNBQ2xCODlCLEdBQU8sRUFDUEYsR0FBZ0IsRUFHWGpLLEVBQUksRUFBR0EsRUFBSWtLLEVBQUt0c0MsT0FBUW9pQyxJQUM3QixHQUErQyxHQUEzQ2lGLEVBQUs1OUIsTUFBTXFoQyxpQkFBaUJ3QixFQUFLbEssR0FBRzkwQixJQUFhLENBQ2pEKytCLEdBQWdCLEVBQ2hCaEYsRUFBSzE5QixVQUFXc2hDLGFBQWEsR0FDN0IsT0FHSG9CLEdBQ0RoRixFQUFLMTlCLFVBQVdzaEMsYUFBYSxHQUVqQyxLQUFLLEdBQUlsckMsR0FBSSxFQUFHQSxFQUFJdXNDLEVBQUt0c0MsT0FBUUQsSUFDN0IsR0FBK0MsR0FBM0NzbkMsRUFBSzU5QixNQUFNcWhDLGlCQUFpQndCLEVBQUt2c0MsR0FBR3VOLElBQWMsQ0FDbERpL0IsR0FBTyxDQUNQLE9BR1csR0FBZkQsRUFBS3RzQyxTQUNMdXNDLEdBQU8sR0FFQyxHQUFSQSxFQUNBbEYsRUFBSzE5QixVQUFXNGhDLFNBQVMsSUFFekJsRSxFQUFLMTlCLFVBQVc0aEMsU0FBUyxLTjBtT2pDbGlDLEtNdG1PQTBqQyx3QkFBMEIsU0FBQXJnQyxHQUN0QjI2QixFQUFLMTlCLFVBQVd3aEMsZ0JBQWlCeitCLElBQ2pDMjZCLEVBQUsxOUIsVUFBV3VoQyxjQUFjLEtOeW1PbEM3aEMsS01ybU9BNGlDLGNBQWdCLFdBQ1o1RSxFQUFLMTlCLFVBQVd1aEMsY0FBYyxLTndtT2xDN2hDLEtNcG1PQTZvQyxVQUFZLFNBQUNPLEdBRVQsR0FBSXhGLElBQ0FDLFdBQVk3RixFQUFLNTlCLE1BQU1SLFNBQVNxRSxHQUNoQzYvQixhQUFjc0YsR0FDZHJGLEtBQU0vRixFQUFLNTlCLE1BQU04SSxVQUFVODZCLFFBQzNCdjZCLEdBQUl1MEIsRUFBS3ZuQyxNQUFNMk4sY0FJbkI2L0IsV0FBTUMsS0FBUUMsVUFBT0MsT0FBckIsOEJBQTBEUixHQUVyRFMsS0FBSyxTQUFBQyxHQUNGdEcsRUFBSzBGLHdCQUF3QixjQUM3QjUvQixRQUFRQyxJQUFJdWdDLEVBQVNsNkIsTUFDckJ0RyxRQUFRQyxJQUFJdWdDLEVBQVMxbkMsUUFDckJrSCxRQUFRQyxJQUFJdWdDLEVBQVMrRSxjQUV4QjlFLE1BQU0sU0FBQWxyQixHQUNIMmtCLEVBQUswRix3QkFBd0IsMEJBQzdCNS9CLFFBQVFDLElBQUlzVixNTnVtT3hCclosS01sbU9BdWlDLGNBQWdCLFdBQ1p6K0IsUUFBUUMsSUFBSSxxQkFLWixLQUFLLEdBSkRrL0IsR0FBT2pGLEVBQUs1OUIsTUFBTWdGLFNBQ2xCdStCLEtBR0tqdEMsRUFBSSxFQUFHQSxFQUFJdXNDLEVBQUt0c0MsT0FBUUQsSUFDa0IsR0FBM0NzbkMsRUFBSzU5QixNQUFNcWhDLGlCQUFpQndCLEVBQUt2c0MsR0FBR3VOLEtBQ3BDMC9CLEVBQWdCOWpDLEtBQUtvakMsRUFBS3ZzQyxHQUFHdU4sR0FLckMsSUFBSTIvQixJQUNBQyxXQUFZN0YsRUFBSzU5QixNQUFNUixTQUFTcUUsR0FDaEM2L0IsWUFBYUgsRUFDYkksS0FBTS9GLEVBQUs1OUIsTUFBTThJLFVBQVU4NkIsUUFDM0J2NkIsR0FBSXUwQixFQUFLdm5DLE1BQU0yTixjQUluQjYvQixXQUFNQyxLQUFRQyxVQUFPQyxPQUFyQiw4QkFBMERSLEdBRXJEUyxLQUFLLFNBQUFDLEdBQ0Z0RyxFQUFLMEYsd0JBQXdCLGNBQzdCNS9CLFFBQVFDLElBQUl1Z0MsRUFBU2w2QixNQUNyQnRHLFFBQVFDLElBQUl1Z0MsRUFBUzFuQyxRQUNyQmtILFFBQVFDLElBQUl1Z0MsRUFBUytFLGNBRXhCOUUsTUFBTSxTQUFBbHJCLEdBQ0gya0IsRUFBSzBGLHdCQUF3QiwwQkFDN0I1L0IsUUFBUUMsSUFBSXNWLE1OcW1PeEJyWixLTWptT0FzaUMsdUJBQXlCLFdBQ3JCLEdBQUliLEdBQW1CekQsRUFBSzU5QixNQUFNcWhDLGlCQUM5QitDLEVBQXdCLEVBQ3hCcC9CLEVBQVc0NEIsRUFBSzU5QixNQUFNZ0YsUUFDMUIsS0FBSyxHQUFJMU8sS0FBSzBPLEdBQzhCLEdBQXBDcThCLEVBQWlCcjhCLEVBQVMxTyxHQUFHdU4sS0FDN0J1Z0MsR0FHUixPQUE2QixJQUF6QkEsR0FBK0J4RyxFQUFLdm5DLE1BQU02cUMsU0FHdkMsSUFBTWtELEVBQXdCLGFBRmpDLGFBQW9CLEVBQUFZLEVBQUF1RCxXQUFVM0ssRUFBSzU5QixNQUFNZ25DLFlBQWEsSUFBdEQsTUFBK0RwSixFQUFLNTlCLE1BQU1nRixTQUFTek8sT0FBbkYsY0FnTlp1d0MsSUFBYTFULFdBQ1RqeUIsUUFBU2tqQyxVQUFVQyxPQUFPQyxXQUMxQnYvQixTQUFVcS9CLFVBQVVHLE1BQ3BCM0QsZUFBZ0J3RCxVQUFVblEsTUFHOUI0UyxHQUFhenhCLGFBQWVBLEVBRTVCLElBQU1qTCxLQUFnQixFQUFBbFEsRUFBQXpGLFNBQWM4RixHQUFPOFAsVU53NU4zQ2pXLEdBQVFLLFNNdjVOTyxFQUFBb0MsRUFBQTBULFlBQVdILElBQWlCSSxXQUFXLElBQVFzOEIsS04yNU54RG9DLEtBQ0EsU0FBVS8wQyxFQUFRQyxFQUFTQyxHQUVqQyxZQTZCQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTVyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTUMsR0FBUSxJQUFLRCxFQUFRLEtBQU0sSUFBSUUsZ0JBQWUsNERBQWdFLFFBQU9ELEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJELEVBQVBDLEVBRWxPLFFBQVNFLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVloQixPQUFPaUIsT0FBT0YsR0FBY0EsRUFBV0MsV0FBYUUsYUFBZW5CLE1BQU9lLEVBQVVaLFlBQVksRUFBT0UsVUFBVSxFQUFNRCxjQUFjLEtBQWVZLElBQVlmLE9BQU9tQixlQUFpQm5CLE9BQU9tQixlQUFlTCxFQUFVQyxHQUFjRCxFQUFTTSxVQUFZTCxHQWhDamVmLE9BQU9DLGVBQWVWLEVBQVMsY0FDM0JRLE9BQU8sR0FHWCxJQUFJNDlCLEdBQVczOUIsT0FBTzQ5QixRQUFVLFNBQVVyOEIsR0FBVSxJQUFLLEdBQUlFLEdBQUksRUFBR0EsRUFBSXdlLFVBQVV2ZSxPQUFRRCxJQUFLLENBQUUsR0FBSW84QixHQUFTNWQsVUFBVXhlLEVBQUksS0FBSyxHQUFJM0IsS0FBTys5QixHQUFjNzlCLE9BQU9nQixVQUFVODhCLGVBQWVuOUIsS0FBS2s5QixFQUFRLzlCLEtBQVF5QixFQUFPekIsR0FBTys5QixFQUFPLzlCLElBQVksTUFBT3lCLElBRW5QRixFQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXekIsV0FBYXlCLEVBQVd6QixhQUFjLEVBQU95QixFQUFXeEIsY0FBZSxFQUFVLFNBQVd3QixLQUFZQSxFQUFXdkIsVUFBVyxHQUFNSixPQUFPQyxlQUFlc0IsRUFBUUksRUFBVzdCLElBQUs2QixJQUFpQixNQUFPLFVBQVVwQixFQUFhcUIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlOLEVBQWlCZixFQUFZUyxVQUFXWSxHQUFpQkMsR0FBYVAsRUFBaUJmLEVBQWFzQixHQUFxQnRCLE1PdmxQaGlCdUIsRUFBQXRDLEVBQUEsR1AybFBJdUMsRUFBVXRDLEVBQXVCcUMsR08xbFByQ0UsRUFBQXhDLEVBQUEsSUFDQTYrQixFQUFBNytCLEVBQUEsR0FDQXlDLEdQOGxQa0J4QyxFQUF1QjQrQixHTzlsUHpDNytCLEVBQUEsS1BrbVBJMEMsRUFBU3pDLEVBQXVCd0MsR09qbVBwQzRDLEVBQUFyRixFQUFBLE1QcW1QSTgwQyxFQUFtQjcwQyxFQUF1Qm9GLEdPbm1QeENhLEVBQVMsU0FBQUMsR0FBQSxVQVdUNHVDLEVQNm1QYyxTQUFVenBDLEdPM21QMUIsUUFBQXlwQyxHQUFZL3lDLEdBQU9uQixFQUFBMEssS0FBQXdwQyxFQUFBLElBQUF2cEMsR0FBQXZLLEVBQUFzSyxNQUFBd3BDLEVBQUFuekMsV0FBQXBCLE9BQUFpTCxlQUFBc3BDLElBQUE1ekMsS0FBQW9LLEtBQ1R2SixHQURTLE9BR2Z3SixHQUFLRyxTQUhVSCxFUHNwUG5CLE1BMUNBbkssR0FBVTB6QyxFQUFlenBDLEdBV3pCekosRUFBYWt6QyxJQUNUejBDLElBQUssU0FDTEMsTUFBTyxXT25uUEYsR0FBQWtSLEdBUURsRyxLQUFLdkosTUFMTDBTLEVBSENqRCxFQUdEaUQsV0FFV3NnQyxHQUxWdmpDLEVBSUQzRSxRQUpDMkUsRUFLRFEsV0FDQTJDLEVBTkNuRCxFQU1EbUQsb0JBQ0FELEVBUENsRCxFQU9Ea0Qsd0JBR0osT0FDSXBTLEdBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUNHMEssTUFBQSxFQUNBa0ksR0FBSSxHQUNKRCxXQUFBLEVBQ0FkLFVBQVcraUMsR0FFWHp5QyxFQUFBbkMsUUFBQWtOLGNBQUEsUUFBTTJFLFVBQVcwQyxHQUFqQixtQkFDQXBTLEVBQUFuQyxRQUFBa04sY0FBQ3duQyxFQUFBMTBDLFFBQUQrOUIsR0FDSXpwQixXQUFZQSxHQUNSRSxTUDRuUGJtZ0MsR094cFBpQnovQixZUDJwUDVCdlYsR0FBUUssU094blBRLEVBQUFvQyxFQUFBMFQsWUFBV2hRLEdBQVVpUSxXQUFXLElBQVM0K0IsSVA0blBuREUsS0FDQSxTQUFVbjFDLEVBQVFDLEVBQVNDLEdBRWpDLFlBMkJBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNXLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQTJCQyxFQUFNQyxHQUFRLElBQUtELEVBQVEsS0FBTSxJQUFJRSxnQkFBZSw0REFBZ0UsUUFBT0QsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QkQsRUFBUEMsRUFFbE8sUUFBU0UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJUCxXQUFVLGlFQUFvRU8sR0FBZUQsR0FBU0UsVUFBWWhCLE9BQU9pQixPQUFPRixHQUFjQSxFQUFXQyxXQUFhRSxhQUFlbkIsTUFBT2UsRUFBVVosWUFBWSxFQUFPRSxVQUFVLEVBQU1ELGNBQWMsS0FBZVksSUFBWWYsT0FBT21CLGVBQWlCbkIsT0FBT21CLGVBQWVMLEVBQVVDLEdBQWNELEVBQVNNLFVBQVlMLEdBOUJqZWYsT0FBT0MsZUFBZVYsRUFBUyxjQUM3QlEsT0FBTyxHQUdULElBQUlzQixHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXekIsV0FBYXlCLEVBQVd6QixhQUFjLEVBQU95QixFQUFXeEIsY0FBZSxFQUFVLFNBQVd3QixLQUFZQSxFQUFXdkIsVUFBVyxHQUFNSixPQUFPQyxlQUFlc0IsRUFBUUksRUFBVzdCLElBQUs2QixJQUFpQixNQUFPLFVBQVVwQixFQUFhcUIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlOLEVBQWlCZixFQUFZUyxVQUFXWSxHQUFpQkMsR0FBYVAsRUFBaUJmLEVBQWFzQixHQUFxQnRCLE1RdHJQaGlCdUIsRUFBQXRDLEVBQUEsR1IwclBJdUMsRUFBVXRDLEVBQXVCcUMsR1F6clByQ3U4QixFQUFBNytCLEVBQUEsR0FDQXdDLEdSNHJQa0J2QyxFQUF1QjQrQixHUTVyUHpDNytCLEVBQUEsS0FDQWsxQyxFQUFBbDFDLEVBQUEsTVJpc1BJbTFDLEVBQVlsMUMsRUFBdUJpMUMsR1Foc1B2QzV2QyxFQUFBdEYsRUFBQSxJQUNBbzFDLEVBQUFwMUMsRUFBQSxLQUVNa0csRUFBUyxTQUFBQyxHQUFBLE9BQ2JrdkMsc0JBQ0VDLFdBQVksV0FDWm5pQyxVQUFXLFNBQ1g1TCxPQUFRLE1BQ1IrQyxVQUFXLE9BQ1hwQyxRQUFTLDJCQUNUZixXQUFZLFNBQ1pKLFdBQVksT0FDWkYsTUFBTyxPQUNQMHVDLFNBQVUsZ0JBSVJ2MEIsR0FDSnRNLFlBQVksRUFDWjVELGNBQWUsR0FDZlkscUJBQXNCLEtBQ3RCbUQsYUFBYyxNQUdWMmdDLEVSK3NQZSxTQUFVbHFDLEdROXNQN0IsUUFBQWtxQyxHQUFZeHpDLEdBQU9uQixFQUFBMEssS0FBQWlxQyxFQUFBLElBQUFocUMsR0FBQXZLLEVBQUFzSyxNQUFBaXFDLEVBQUE1ekMsV0FBQXBCLE9BQUFpTCxlQUFBK3BDLElBQUFyMEMsS0FBQW9LLEtBQ1h2SixHQURXLE9BQUF3SixHQWNuQmlxQyxlQUFpQixXQUVmLEdBQU1DLEdBQWNscUMsRUFBS3hKLE1BQU04UyxpQkFDM0I2Z0MsRUFBb0JDLFNBQVNDLGVBQWVILEVBQzVDQyxLQUNGQSxFQUFrQkcsVUFBWUgsRUFBa0JJLGVBbkJqQ3ZxQyxFQXVCbkJ3cUMsa0JBQW9CLFNBQUNDLEVBQW1CMXBCLEdBRXRDLE1BQUkwcEIsR0FBa0JDLFNBQVNDLHdCQUFzQkMsV0FFakQ3ekMsRUFBQW5DLFFBQUFrTixjQUFDNm5DLEVBQUEvMEMsU0FDQ0UsSUFBS2lzQixFQUNMOHBCLGFBQUEsRUFDQUMsU0FBVTlxQyxFQUFLeEosTUFBTTZTLGFBQWVySixFQUFLeEosTUFBTTZTLGFBQWUsS0FDOURqRyxRQUFTcW5DLEVBQWtCeFQsUUFBUTBULHdCQUFzQkMsVUFBVyxNQUcvREgsRUFBa0JDLFNBQVNDLHdCQUFzQkksVUFFeERoMEMsRUFBQW5DLFFBQUFrTixjQUFDNm5DLEVBQUEvMEMsU0FDQ0UsSUFBS2lzQixFQUNMOHBCLGFBQWEsRUFDYkMsU0FBVTlxQyxFQUFLeEosTUFBTTBQLHFCQUNyQjlDLFFBQVNxbkMsRUFBa0J4VCxRQUFRMFQsd0JBQXNCSSxTQUFVLE1BRzlETixFQUFrQkMsU0FBU0Msd0JBQXNCSyxvQkFFeERqMEMsRUFBQW5DLFFBQUFrTixjQUFDNm5DLEVBQUEvMEMsU0FDQ0UsSUFBS2lzQixFQUNMa3FCLGFBQUEsRUFDQUgsU0FBVSxHQUNWMW5DLFFBQVNxbkMsRUFBa0J4VCxRQUFRMFQsd0JBQXNCSyxtQkFBb0IsVUFONUUsSUF4Q1BockMsRUFBS0csU0FIWUgsRVIyeFBuQixNQTVFQW5LLEdBQVVtMEMsRUFBZ0JscUMsR0E4QzFCekosRUFBYTJ6QyxJQUNYbDFDLElBQUsscUJBQ0xDLE1BQU8sU1F6dlBVd2lCLEVBQVcyekIsRUFBV0MsR0FFbkNwckMsS0FBS3ZKLE1BQU0wUyxhQUNickYsUUFBUUMsSUFBSSxrQkFDWi9ELEtBQUtrcUMscUJSNnZQUG4xQyxJQUFLLFNBQ0xDLE1BQU8sV1FqdFBBLEdBQUFrUixHQUM4Q2xHLEtBQUt2SixNQUFsRDhLLEVBREQyRSxFQUNDM0UsUUFBU2dFLEVBRFZXLEVBQ1VYLGNBQWVnRSxFQUR6QnJELEVBQ3lCcUQsaUJBQzVCOGhDLEdBQXNCLEVBQUF0eEMsRUFBQXV4QyxpQkFBZ0IvbEMsRUFDMUMsT0FDRXZPLEdBQUFuQyxRQUFBa04sY0FBQSxPQUFLa0MsR0FBSXNGLEVBQWtCN0MsVUFBV25GLEVBQVF1b0Msc0JBQzVDOXlDLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLNEYsT0FBU3JNLE1BQU8sT0FBUVIsUUFBUyxPQUFRQyxjQUFlLFdBQzFEc3dDLEVBQW9CejdCLElBQUk1UCxLQUFLeXFDLHlCUjh0UC9CUixHUTV4UG9CbGdDLFlBcUU3QmtnQyxHQUFleDBCLGFBQWVBLEVSNHRQOUJqaEIsRUFBUUssU1ExdFBPLEVBQUFvQyxFQUFBMFQsWUFBV2hRLEdBQVVpUSxXQUFXLElBQVFxL0IsSVI4dFBqRHNCLEtBQ0EsU0FBVWgzQyxFQUFRQyxFQUFTQyxHQUVqQyxZQWlIQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTNjJDLEdBQW1CQyxHQUFPLEdBQUlDLE1BQU1DLFFBQVFGLEdBQU0sQ0FBRSxJQUFLLEdBQUkvMEMsR0FBSSxFQUFHazFDLEVBQU9GLE1BQU1ELEVBQUk5MEMsUUFBU0QsRUFBSSswQyxFQUFJOTBDLE9BQVFELElBQU9rMUMsRUFBS2wxQyxHQUFLKzBDLEVBQUkvMEMsRUFBTSxPQUFPazFDLEdBQWUsTUFBT0YsT0FBTTNILEtBQUswSCxHQUUxTCxRQUFTbjJDLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQTJCQyxFQUFNQyxHQUFRLElBQUtELEVBQVEsS0FBTSxJQUFJRSxnQkFBZSw0REFBZ0UsUUFBT0QsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QkQsRUFBUEMsRUFFbE8sUUFBU0UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJUCxXQUFVLGlFQUFvRU8sR0FBZUQsR0FBU0UsVUFBWWhCLE9BQU9pQixPQUFPRixHQUFjQSxFQUFXQyxXQUFhRSxhQUFlbkIsTUFBT2UsRUFBVVosWUFBWSxFQUFPRSxVQUFVLEVBQU1ELGNBQWMsS0FBZVksSUFBWWYsT0FBT21CLGVBQWlCbkIsT0FBT21CLGVBQWVMLEVBQVVDLEdBQWNELEVBQVNNLFVBQVlMLEdBdEhqZWYsT0FBT0MsZUFBZVYsRUFBUyxjQUM3QlEsT0FBTyxHQUdULElBQUlzQixHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXekIsV0FBYXlCLEVBQVd6QixhQUFjLEVBQU95QixFQUFXeEIsY0FBZSxFQUFVLFNBQVd3QixLQUFZQSxFQUFXdkIsVUFBVyxHQUFNSixPQUFPQyxlQUFlc0IsRUFBUUksRUFBVzdCLElBQUs2QixJQUFpQixNQUFPLFVBQVVwQixFQUFhcUIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlOLEVBQWlCZixFQUFZUyxVQUFXWSxHQUFpQkMsR0FBYVAsRUFBaUJmLEVBQWFzQixHQUFxQnRCLE1TLzBQaGlCcTJDLEVBQUFwM0MsRUFBQSxJQUNBNitCLEVBQUE3K0IsRUFBQSxHQUNBc0MsR1RtMVBrQnJDLEVBQXVCNCtCLEdTbjFQekM3K0IsRUFBQSxJVHUxUEl1QyxFQUFVdEMsRUFBdUJxQyxHU3QxUHJDRSxFQUFBeEMsRUFBQSxJQUNBNkMsRUFBQTdDLEVBQUEsR1QyMVBJOEMsRUFBZTdDLEVBQXVCNEMsR1MxMVAxQ1UsRUFBQXZELEVBQUEsSUFDQWtELEVBQUFsRCxFQUFBLElBQ0FvRCxFQUFBcEQsRUFBQSxJQUNBeUMsRUFBQXpDLEVBQUEsSVRpMlBJMEMsRUFBU3pDLEVBQXVCd0MsR1NoMlBwQzQwQyxFQUFBcjNDLEVBQUEsTVRvMlBJczNDLEVBQVlyM0MsRUFBdUJvM0MsR1NuMlB2Q0UsRUFBQXYzQyxFQUFBLElBQ0F3M0MsRUFBQXgzQyxFQUFBLElUdzJQSXkzQyxFQUFXeDNDLEVBQXVCdTNDLEdTdjJQdENFLEVBQUExM0MsRUFBQSxJVDIyUEkyM0MsRUFBcUIxM0MsRUFBdUJ5M0MsR1MxMlBoRGpOLEVBQUF6cUMsRUFBQSxJVDgyUEkwcUMsRUFBV3pxQyxFQUF1QndxQyxHUzcyUHRDRSxFQUFBM3FDLEVBQUEsSVRpM1BJNHFDLEVBQVUzcUMsRUFBdUIwcUMsR1NoM1ByQ2lOLEVBQUE1M0MsRUFBQSxNVG8zUEk2M0MsRUFBVTUzQyxFQUF1QjIzQyxHU24zUHJDRSxFQUFBOTNDLEVBQUEsSVR1M1BJKzNDLEVBQVM5M0MsRUFBdUI2M0MsR1N0M1BwQzF6QyxFQUFBcEUsRUFBQSxLVDAzUElxRSxFQUFRcEUsRUFBdUJtRSxHU3ozUG5DNHpDLEVBQUFoNEMsRUFBQSxLVDYzUElpNEMsRUFBaUJoNEMsRUFBdUIrM0MsR1M1M1A1Q2xOLEVBQUE5cUMsRUFBQSxLVGc0UEkrcUMsRUFBYTlxQyxFQUF1QjZxQyxHUy8zUHhDRSxFQUFBaHJDLEVBQUEsSVRtNFBJaXJDLEVBQWVockMsRUFBdUIrcUMsR1NsNFAxQzNuQyxFQUFBckQsRUFBQSxJVHM0UElzRCxFQUFVckQsRUFBdUJvRCxHU3I0UHJDNjBDLEVBQUFsNEMsRUFBQSxNVHk0UEltNEMsRUFBd0JsNEMsRUFBdUJpNEMsR1N4NFBuRHh5QyxFQUFBMUYsRUFBQSxNVDQ0UEkyRixFQUFrQjFGLEVBQXVCeUYsR1MzNFA3QzB5QyxFQUFBcDRDLEVBQUEsTVQrNFBJcTRDLEVBQWdCcDRDLEVBQXVCbTRDLEdTOTRQM0MxekMsRUFBQTFFLEVBQUEsS1RrNVBJMkUsRUFBVzFFLEVBQXVCeUUsR1NqNVB0Q2EsR0FBQXZGLEVBQUEsS1RxNVBJd0YsR0FBaUJ2RixFQUF1QnNGLElTcDVQNUNELEdBQUF0RixFQUFBLElBTUFvMUMsR0FBQXAxQyxFQUFBLEtBS0FzNEMsR0FBQXQ0QyxFQUFBLE1BT0F1NEMsR0FBQXY0QyxFQUFBLE1BRU1rRyxHQUFTLFNBQUFDLEdBQUEsT0FDYkMsVUFDRW95QyxVQUFXLFNBQ1hueUMsUUFBUyxPQUNUQyxjQUFlLE1BQ2ZDLFVBQVcsUUFDWE0sTUFBTyxRQUVUTCxNQUNFbW1CLE9BQVEsNkJBQ1Joa0IsZ0JBQWlCeEMsRUFBTU8sUUFBUUMsV0FBV0MsS0FDMUNDLE1BQU8sUUFFVDZCLGVBQ0VuQixPQUFRLFVBQ1JTLGFBQWMsTUFDZFcsZ0JBQWlCeEMsRUFBTU8sUUFBUWtDLGVBQWVoQyxLQUM5QzhsQixhQUFjLFVBRWhCK3JCLFlBQ0VseEMsT0FBUSxVQUNSVyxRQUFTLFNBQ1RGLGFBQWMsTUFDZDNCLFFBQVMsT0FDVHNDLGdCQUFpQnhDLEVBQU1PLFFBQVFrQyxlQUFlaEMsTUFFaERrQyxpQkFDRWxCLFNBQVUsU0FDVkYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3Qm1DLFlBQWEsUUFDYkUsV0FBWSxRQUNaRCxRQUFTLElBQ1RILFNBQVUsWUFFWlAsY0FDRVYsU0FBVSxVQUNWWSxXQUFZLFVBRWRrd0Msb0JBQ0V2eEMsV0FBWWhCLEVBQU1pQixLQUFLQyxNQUFNRixXQUM3Qk8sTUFBT3ZCLEVBQU1PLFFBQVE2QixVQUFVM0IsTUFFakM2QixnQkFDRWIsU0FBVSxTQUVaK3dDLFFBQ0Uvd0MsU0FBVSxTQUNWZixNQUFPLFdBQ1AwRCxVQUFXLE9BQ1gwZCxVQUFXLFdBQ1gvZixRQUFTLEVBQ1Qwd0MsMkJBQ0Vqd0MsZ0JBQWlCLFlBR3JCa3dDLGFBQ0UxeEMsV0FBWWhCLEVBQU1pQixLQUFLQyxNQUFNRixXQUM3Qk8sTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixNQUUvQmt5QyxTQUNFcHhDLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JnQixTQUFVLFdBQ1ZvQixRQUFTLEdBQ1QvQixjQUFlLFVBRWpCaU4saUJBQ0V4TSxNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixLQUMvQmdCLFNBQVUsV0FDVkwsT0FBUSxXQUNSbEIsUUFBUyxPQUNUVyxXQUFZLFVBRWQyRCxjQUNFSixVQUFXLE9BQ1gzQyxTQUFVLFdBQ1ZneEMsMkJBQ0Vqd0MsZ0JBQWlCLFdBRW5CcEIsT0FBUSxVQUVWd3hDLGtCQUNFNWxDLFVBQVcsV0FFYjZsQyxvQkFDRWx4QyxhQUFjLGFBSVprWixJQUNKOUwsaUJBQWtCLEdBQ2xCbEosYUFBYyxFQUNkb0ksZ0JBQWlCLEtBQ2pCRixnQkFBaUIsS0FDakJpQixTQUFVOGpDLGlCQUNWdG9DLFlBQ0EwRSxxQkFBc0IsSUFHbEI2akMsR1RzNVBTLFNBQVVyWSxHU241UHZCLFFBQUFxWSxHQUFZbDNDLEdBQU9uQixFQUFBMEssS0FBQTJ0QyxFQUFBLElBQUExdEMsR0FBQXZLLEVBQUFzSyxNQUFBMnRDLEVBQUF0M0MsV0FBQXBCLE9BQUFpTCxlQUFBeXRDLElBQUEvM0MsS0FBQW9LLEtBQ1h2SixHQURXLE9BQUF3SixHQUZuQjJ0QyxxQkFFbUIzdEMsRUFvRG5CNHRDLGFBQWUsU0FBQTVwQyxHQUNiSCxRQUFRQyxJQUFJLEtBQU1FLEVBQUl1QixFQUN0QixJQUFJQSxHQUFVdkYsRUFBS0csTUFBTW9GLFFBQVFiLE9BQU8sU0FBQXN6QixHQUFBLE1BQU1BLEdBQUdoMEIsSUFBTUEsSUFDbkQyTCxFQUFNM1AsRUFBS0csTUFBTTB0QyxvQkFFckJsK0IsR0FBSW0rQixPQUFPOXBDLEdBRVhILFFBQVFDLElBQUk2TCxHQUVaM1AsRUFBS0ssVUFBV2tGLFFBQVNBLEVBQVNzb0MscUJBQXNCbCtCLEtBN0R2QzNQLEVBZ0ZuQit0QyxrQkFBb0IsU0FBQS9wQyxHQUNsQixHQUFJZ3FDLEdBQVVodUMsRUFBS0csTUFBTTB0QyxxQkFDckJJLEVBQWNqdUMsRUFBS0csTUFBTW9GLE9BRTdCLEtBQUssR0FBSTlPLEtBQUt3M0MsR0FDWixHQUFJQSxFQUFZeDNDLEdBQUd1TixJQUFNQSxFQUFJLENBQzNCaXFDLEVBQVl4M0MsR0FBR3kzQyxNQUFPLENBQ3RCLE9BSUpsdUMsRUFBS0ssVUFBV2tGLFFBQVMwb0MsSUFDekJELEVBQVFHLElBQUlucUMsR0FBSSxHQUNoQmhFLEVBQUtLLFVBQVd3dEMscUJBQXNCRyxLQTdGckJodUMsRUFnR25Cb3VDLHNCQUF3QixTQUFBQyxHQUN0QnJ1QyxFQUFLSyxVQUNIaXVDLGtCQUFXdHVDLEVBQUtHLE1BQU1tdUMsUUFBT0QsSUFDN0JFLHNCQUFzQixLQW5HUHZ1QyxFQXVHbkJ3dUMsbUJBQXFCLFdBQ25CLElBQUksRUFBQTFCLEdBQUEyQix5QkFBd0J6dUMsRUFBS0csTUFBTTB0QyxzQkFFckMsV0FEQTd0QyxHQUFLSyxVQUFXcXVDLG9CQUFvQixHQUlsQzF1QyxHQUFLRyxNQUFNd3VDLGdCQUFrQjN1QyxFQUFLRyxNQUFNd3VDLGVBQWVDLE9BQ3pENXVDLEVBQUtLLFVBQ0hpdUMsa0JBQVd0dUMsRUFBS0csTUFBTW11QyxRQUFPdHVDLEVBQUtHLE1BQU13dUMsZUFBZUMsU0FDdkRDLG1CQUFtQixHQUNsQixXQUNEN3VDLEVBQUs4dUMsZ0JBSVA5dUMsRUFBSzh1QyxlQXRIVTl1QyxFQTBIbkIrdUMsaUJBQW1CLFdBQ2pCL3VDLEVBQUtLLFVBQ0gydUMsYUFBYSxFQUNiQyxtQkFDRWp2QyxFQUFLRyxNQUFNd3VDLGdCQUNaLFdBQ0QzdUMsRUFBS2t2QywyQkFoSVVsdkMsRUFvSW5CbXZDLG9CQUFzQixXQUNwQm52QyxFQUFLSyxVQUNIMnVDLGFBQWEsRUFDYkwsZUFDRTN1QyxFQUFLRyxNQUFNOHVDLG9CQUNaLFdBQ0RqdkMsRUFBS2t2QywyQkExSVVsdkMsRUE4SW5Cb3ZDLGFBQWUsU0FBQUMsR0FDYnJ2QyxFQUFLMnRDLGtCQUFrQi90QyxNQUNyQndELFFBQVNrc0Msa0JBQWVELEdBQ3hCdjZDLEtBQUssR0FBSWlRLE9BQU93cUMsWUFHZHZ2QyxFQUFLRyxNQUFNcXZDLFVBQ2J4dkMsRUFBS0ssVUFBV212QyxXQUFXLElBRTNCeHZDLEVBQUt5dkMsZ0JBdkpVenZDLEVBMkpuQnl2QyxhQUFlLFdBQ1R6dkMsRUFBSzJ0QyxrQkFBa0JqM0MsT0FBUyxHQUNsQ3NKLEVBQUtLLFVBQ0hxdkMsYUFBYzF2QyxFQUFLMnRDLGtCQUFrQnpILFFBQ3JDc0osV0FBVyxLQS9KRXh2QyxFQW9LbkIydkMsMkJBQTZCLFNBQUFwMkIsR0FDM0J2WixFQUFLSyxVQUFXc3VDLGVBQWdCcDFCLEVBQUVoakIsT0FBT3hCLFNBckt4QmlMLEVBd0tuQjR2QyxZQUFjLFNBQUF0QixHQUNadHVDLEVBQUtLLFVBQVdzdUMsZUFBZ0JMLEtBektmdHVDLEVBNEtuQjJpQyxjQUFnQixTQUFDNWxCLEVBQU84eUIsR0FDUCxjQUFYQSxHQUdKN3ZDLEVBQUtLLFVBQVdtdkMsV0FBVyxLQWhMVnh2QyxFQW1MbkI4dkMsbUJBQXFCLFdBQ25COXZDLEVBQUt5dkMsZ0JBcExZenZDLEVBdUxuQit2QyxzQkFBd0IsU0FBQUMsR0FDdEIsR0FBSUMsSUFBWSxFQUFBbjJDLEdBQUFvMkMsY0FBYUYsRUFJN0IsSUFEQW5zQyxRQUFRQyxJQUFJLGlCQUFrQm1zQyxHQUMxQkEsRUFBVyxDQUNiLEdBQU1FLEdBQWdCbndDLEVBQUtHLE1BQU1vRixRQUFRN08sTUFHdkN1NUMsR0FBQSxHQURFRSxFQUFnQixFQUNBbndDLEVBQUtHLE1BQU1vRixRQUFRNHFDLEVBQWdCLEdBQW5DLEdBQThDLEVBRTlDLEVBR3BCRixFQUFBLE1BQW9CLEVBQ3BCQSxFQUFBLFNBQXVCLENBRXZCLElBQUlwQyxHQUF1Qjd0QyxFQUFLRyxNQUFNMHRDLG9CQUN0Q0EsR0FBcUJNLElBQUk4QixFQUFVanNDLElBQUksR0FFdkNoRSxFQUFLSyxVQUNIa0Ysb0JBQWF2RixFQUFLRyxNQUFNb0YsVUFBUzBxQyxJQUNqQ3BDLHdCQUNDLFdBQ0QsR0FBSTdWLEdBQUtvUyxTQUFTQyxlQUFlLGdDQUM3QnJTLEtBQ0ZBLEVBQUdzUyxVQUFZdFMsRUFBR3VTLGdCQUt4QnZxQyxFQUFLb3dDLDRCQXROWXB3QyxFQXlObkJxd0MseUJBQTJCLFdBQ3pCcndDLEVBQUtLLFVBQVdxdUMsb0JBQW9CLEtBMU5uQjF1QyxFQTZObkJzd0MscUJBQXVCLFdBQ3JCdHdDLEVBQUtLLFVBQVdrd0MsdUJBQXVCLEtBOU50QnZ3QyxFQWlPbkJvd0MseUJBQTJCLFdBQ3pCcHdDLEVBQUtLLFVBQVdrd0MsdUJBQXVCLEtBbE90QnZ3QyxFQXFPbkJ3d0MsdUJBQXlCLFNBQUNDLEVBQVl6c0MsR0FDcEMsR0FBSWlxQyxHQUFjanVDLEVBQUtHLE1BQU1vRixPQUU3QixLQUFLLEdBQUk5TyxLQUFLdzNDLEdBQ1osR0FBSUEsRUFBWXgzQyxHQUFHdU4sSUFBTUEsRUFBSSxDQUMzQmlxQyxFQUFZeDNDLEdBQUc4TyxRQUFVa3JDLENBQ3pCLE9BSUp6d0MsRUFBS0ssVUFBV2tGLFFBQVMwb0MsS0EvT1JqdUMsRUFrUG5CMHdDLGVBQWlCLFNBQUNDLEVBQWlCM3NDLEdBQ2pDLEdBQUlpcUMsR0FBY2o1QyxPQUFPaUIsT0FBTytKLEVBQUtHLE1BQU1vRixTQUN2Q3FyQyxJQUNKLEtBQUssR0FBSW42QyxLQUFLdzNDLEdBQ1osR0FBSUEsRUFBWXgzQyxHQUFHdU4sSUFBTUEsRUFBSSxDQUMzQixJQUFLLEdBQUl2TixLQUFLazZDLEdBQ1pDLEVBQW1CaHhDLEtBQUsrd0MsRUFBZ0JsNkMsR0FBR2d5QyxlQUc3Q3dGLEdBQVl4M0MsR0FBR282QyxTQUFTeE4sUUFBVXVOLENBQ2xDLE9BSUo1d0MsRUFBS0ssVUFBV2tGLFFBQVMwb0MsS0FoUVJqdUMsRUFtUW5COHdDLG1CQUFxQixXQUNuQjl3QyxFQUFLSyxVQUFXMnVDLGFBQWEsR0FBUSxXQUNuQ3ZxQixXQUFXLFdBQ1QsR0FBSXNzQixHQUFZM0csU0FBU0MsZUFBZSw4QkFDcEMwRyxJQUNGQSxFQUFVQyxTQUVYLFFBMVFZaHhDLEVBOFFuQmt2QyxzQkFBd0IsV0FDdEJ6cUIsV0FBVyxXQUNULEdBQUlzc0IsR0FBWTNHLFNBQVNDLGVBQWUsOEJBQ3BDMEcsSUFDRkEsRUFBVUUsUUFFWCxNQXBSY2p4QyxFQXVSbkJreEMsOEJBQWdDLFNBQUMzckMsR0FFL0IsR0FBZ0IsT0FBWkEsRUFDRnZGLEVBQUtLLFVBQVdrRixpQkFDWCxDQUNMLEdBQUk0ckMsSUFBaUIsRUFBQXJFLEdBQUFzRSxvQkFBbUI3ckMsR0FDcENzb0MsR0FBdUIsRUFBQWYsR0FBQXVFLDRCQUEyQjlyQyxHQUNsRCtyQyxHQUFtQixFQUFBeEUsR0FBQXlFLG9DQUFtQ2hzQyxFQUFTdkYsRUFBS3hKLE1BQU1rVCxpQkFFOUUxSixHQUFLSyxVQUVEa0YsUUFBUzRyQyxFQUNUdEQsdUJBQ0FjLGVBQWdCMkMsTUFwU0x0eEMsRUEwU25COHVDLFlBQWMsV0FDWixHQUFNMEMsSUFBZ0IsRUFBQTFFLEdBQUEyRSx1QkFBc0J6eEMsRUFBS0csTUFBTW11QyxPQUNqRG9ELEVBQWUxeEMsRUFBS3hKLE1BQU1rN0MsYUFDMUIveEMsRUFBV0ssRUFBS3hKLE1BQU1tSixTQUN0Qmd5QyxHQUNKM3RDLEdBQUkwdEMsRUFBYTF0QyxHQUNqQjR0QyxZQUFhNXhDLEVBQUt4SixNQUFNOE8sY0FBY0EsY0FDdEN6SSxTQUFVbUQsRUFBS3hKLE1BQU1nSyxhQUNyQnF4QyxNQUNFak8sV0FBWWprQyxFQUFTcUUsR0FDckI4dEMsWUFBYU4sR0FHakJ4TixXQUFNK04sSUFBTzdOLFVBQU9DLE9BQXBCLFFBQW1Dd04sR0FDaEN2TixLQUFLLFNBQUFDLEdBQ0pya0MsRUFBS0ssVUFBVzJ4QyxpQkFBaUIsRUFBT0MsZ0JBQWdCLElBQ3hEQyxRQUFNaG9DLFVBQVMsRUFBQXhTLEVBQUEyUyxzQkFBc0IvRSxjQUFlLFFBRXJEZy9CLE1BQU0sU0FBQWxyQixHQUVMcFosRUFBS0ssVUFBVzJ4QyxpQkFBaUIsRUFBT0MsZ0JBQWdCLE9BOVQzQ2p5QyxFQW9VbkJteUMsc0JBQXdCLFNBQUM1c0MsR0FFdkIsR0FBSTZzQyxHQUFTN3NDLEVBQVE2c0MsTUFFckIsS0FBSyxFQUFBdDRDLEdBQUF1NEMsZ0JBQWVELEdBSXBCLE1BQ0VyN0MsR0FBQW5DLFFBQUFrTixjQUFDeXFDLEVBQUEzM0MsU0FDQzA5QyxJQUFJLEVBQ0p4OUMsSUFBS3lRLEVBQVF2QixJQUViak4sRUFBQW5DLFFBQUFrTixjQUFDZ3FDLEVBQUFsM0MsU0FDQzI5QyxTQUFVLFNBQUN2dUMsR0FBRCxNQUFRaEUsR0FBSzR0QyxhQUFhNXBDLElBQ3BDd3VDLG9CQUFxQnh5QyxFQUFLb3VDLHNCQUMxQjdvQyxRQUFTQSxFQUNUbUMsT0FBU3JNLE1BQU8sT0FBUTZsQixhQUFjLFVBQ3RDdXhCLFdBQVlMLEVBQ1pNLGVBQWdCMXlDLEVBQUt4SixNQUFNMk8sU0FDM0J4RixTQUFVSyxFQUFLeEosTUFBTW1KLFNBQ3JCaUssYUFBYzVKLEVBQUt4SixNQUFNb1QsYUFDekJ6RyxlQUFnQm5ELEVBQUt4SixNQUFNMk0sZUFDM0J3dkMsVUFBVyxpQkFBTTN5QyxHQUFLK3RDLGtCQUFrQnhvQyxFQUFRdkIsS0FDaER5RSxZQUFhekksRUFBS3hKLE1BQU1pUyxZQUN4Qm1xQyxXQUFZNXlDLEVBQUt4SixNQUFNazdDLGFBQ3ZCdHZDLFVBQVdwQyxFQUFLeEosTUFBTTRMLFVBQ3RCeXdDLGlCQUFrQjd5QyxFQUFLRyxNQUFNMHlDLGlCQUM3QkMsZUFBZ0I5eUMsRUFBS0csTUFBTTJ5QyxlQUMzQkMscUJBQXNCLFNBQUMxRCxHQUFELE1BQWlCcnZDLEdBQUtvdkMsYUFBYUMsSUFDekQyRCx1QkFBd0IsU0FBQ3JDLEdBQUQsTUFBcUIzd0MsR0FBSzB3QyxlQUFlQyxFQUFpQnByQyxFQUFRdkIsS0FDMUZpdkMsc0JBQXVCLFNBQUNDLEdBQXFCbHpDLEVBQUt3d0MsdUJBQXVCMEMsRUFBZ0IzdEMsRUFBUXZCLFNBaFd2R2hFLEVBQUt4SixNQUFNbVQsV0FDWDlGLFFBQVFDLElBQUk5RCxFQUFLeEosTUFBTWtTLGdCQUFpQixxQkFDeEMxSSxFQUFLbXpDLGdCQUFrQixzQkFDdkJuekMsRUFBSzBJLGdCQUFrQjFJLEVBQUt4SixNQUFNa1MsZ0JBQzdCMUksRUFBSzBJLGtCQUNSMUksRUFBSzBJLGdCQUFrQixJQUN2QjFJLEVBQUttekMsZ0JBQWtCLHdCQUV6QnR2QyxRQUFRQyxJQUFJOUQsRUFBS3hKLE1BQU1vUyxnQkFBaUIscUJBRXhDNUksRUFBS0csT0FDSGdPLEtBQU0sR0FBSXBKLE1BQ1ZpcUMsYUFBYSxFQUNienBDLFFBQVMsR0FDVEQsY0FBZXRGLEVBQUt4SixNQUFNcVQscUJBQzFCbW9DLGlCQUFpQixFQUNqQnpCLHVCQUF1QixFQUN2QmhDLHNCQUFzQixFQUN0Qkcsb0JBQW9CLEVBQ3BCSixTQUNBMkQsZ0JBQWdCLEVBQ2hCcEUscUJBQXNCLEdBQUl1RixLQUMxQnpFLGVBQWdCLEdBQ2hCZSxnQkFDQUYsV0FBVyxFQUNYcUQsb0JBQ0FDLGtCQUNBakUsbUJBQW1CLEdBR3JCd0UsaUJBQ0dDLGtCQUNBbFAsS0FBSyxTQUFBQyxHQUNKcmtDLEVBQUtLLFVBQVd5eUMsZUFBZ0J6TyxVQUVqQ0MsTUFBTSxTQUFBbHJCLEdBQ0x2VixRQUFRQyxJQUFJLCtCQUFnQ3NWLEtBR2hEaTZCLGlCQUNHRSxlQUNBblAsS0FBSyxTQUFBQyxHQUNKcmtDLEVBQUtLLFVBQVd3eUMsaUJBQWtCeE8sVUFFbkNDLE1BQU0sU0FBQWxyQixHQUNMdlYsUUFBUUMsSUFBSSxxQ0FBc0NzVixLQWhEckNwWixFVGttUm5CLE1BOXNCQW5LLEdBQVU2M0MsRUFBVXJZLEdBNFZwQmgvQixFQUFhcTNDLElBQ1g1NEMsSUFBSyw0QkFDTEMsTUFBTyxTU2xyUWlCNlEsR0FDeEIsR0FBSTR0QyxHQUFjNXRDLEVBQVVOLGNBQWNDLFFBQ3RDa3VDLEVBQW9CN3RDLEVBQVVOLGNBQWNBLGNBQzVDTyxFQUF1QjlGLEtBQUt2SixNQUFNOE8sY0FBY0EsYUFDcER6QixTQUFRQyxJQUFJLGdDQUFpQzR2QyxLQUFLQyxVQUFVSCxJQUV2REMsR0FBdUJBLElBQXNCNXRDLElBQ2hEaEMsUUFBUUMsSUFBSSx5QkFBMEIydkMsR0FDdEMxekMsS0FBS00sVUFBV2lGLGNBQWVtdUMsS0FHN0JDLEtBQUtDLFVBQVVILEtBQWlCRSxLQUFLQyxVQUFVNXpDLEtBQUtJLE1BQU1vRixVQUM1RHhGLEtBQUtteEMsOEJBQThCc0MsTVRzclFyQzErQyxJQUFLLFNBQ0xDLE1BQU8sV1MzNVBBLEdBQUFpUixHQUFBakcsS0FDQ3VCLEVBQVl2QixLQUFLdkosTUFBakI4SyxRQUNBM0IsRUFBYUksS0FBS3ZKLE1BQWxCbUosU0FDSnVGLEVBQU9uRixLQUFLdkosTUFBTTBPLEtBQ2xCMEUsRUFBZTdKLEtBQUt2SixNQUFNb1QsYUFDeEIxRCxHQUF1QixFQUFBcE0sR0FBQXdNLHFCQUFvQnNELElBQzlCLEVBQUE5UCxHQUFBd00scUJBQW9CcEIsRUFBS08sS0FFNUMsT0FDRTFPLEdBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVExRyxVQUN0QjdELEVBQUFuQyxRQUFBa04sY0FBQzNJLEVBQUF2RSxRQUFELE1BQ0FtQyxFQUFBbkMsUUFBQWtOLGNBQUM5SCxHQUFBcEYsUUFBRCxNQUVBbUMsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUXRHLE1BQ3RCakUsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUsyUyxXQUFBLEdBQ0p4USxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FDQzBLLE1BQUEsRUFDQWlJLFdBQUEsRUFDQS9MLFdBQVcsY0FFWHpFLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUNDMEssTUFBQSxFQUNBa0ksR0FBSSxJQUVKelEsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUs0RixPQUNIN00sUUFBUyxPQUNUVyxXQUFZLFdBRVp6RSxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQ0g3TSxRQUFTLE9BQ1RDLGNBQWUsU0FDZlksZUFBZ0IsU0FDaEJGLFdBQVksU0FFWnpFLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFReEUsYUFBY3dFLEVBQVE0ckMscUJBQXNCdnRDLEVBQVM3QyxjQUN4Ri9GLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRckUsZUFBZ0JxRSxFQUFRNHJDLHFCQUFzQnZ0QyxFQUFTMUMsbUJBSWhHbEcsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQ0MwSyxNQUFBLEVBQ0FpSSxXQUFBLEVBQ0FDLEdBQUksRUFDSkMsUUFBUSxXQUNSQyxPQUFTbk0sV0FBWSxZQUVyQnhFLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLNEYsT0FDSHlaLE9BQVEsWUFDUnRtQixRQUFTLE9BQ1RXLFdBQVksV0FHWnpFLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUNDMEssTUFBQSxFQUNBK0ksTUFBTSxVQUdIdEksS0FBS0ksTUFBTTh4QyxnQkFDVmw3QyxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQ0g3TSxRQUFTLE9BQ1RDLGNBQWUsU0FDZlUsV0FBWSxRQUNaTyxPQUFRLFlBR1JoRixFQUFBbkMsUUFBQWtOLGNBQUNqSixFQUFBakUsU0FDQ3dULFFBQVEsV0FDUnJCLFFBQVNoSCxLQUFLeXVDLG1CQUNkdHlDLE1BQU0sWUFDTjhLLGFBQVcsTUFDWEksS0FBSyxRQUNMRixVQUFVbkgsS0FBS0ksTUFBTW9GLFFBQ3JCa0IsVUFBV25GLEVBQVE2ckMsUUFDbkJwMkMsRUFBQW5DLFFBQUFrTixjQUFDaXFDLEVBQUE2SCxZQUFXbnRDLFVBQVduRixFQUFRK3JDLGFBQS9CLFVBTU50dEMsS0FBS0ksTUFBTTh4QyxnQkFDVGw3QyxFQUFBbkMsUUFBQWtOLGNBQUMvSixFQUFBODdDLE1BQ0Nuc0MsT0FBU29zQyxlQUFnQixRQUN6Qi9zQyxRQUFTMG1DLGlCQUNUamtDLElBQ0VDLFNBQVUxSixLQUFLMkksZ0JBQ2Z2SSxPQUNFeUksZ0JBQ0U3SSxLQUFLdkosTUFBTW9TLG1CQUlqQjdSLEVBQUFuQyxRQUFBa04sY0FBQ2lxQyxFQUFBNkgsWUFBV250QyxVQUFXbkYsRUFBUW9ILGlCQUFrQjNJLEtBQUtvekMsdUJBU2pFcHpDLEtBQUtJLE1BQU04eEMsZ0JBQ1ZsN0MsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtpSSxXQUFBLEVBQVVkLFVBQVduRixFQUFRaXNDLGtCQUN0Q3gyQyxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS2tJLEdBQUksRUFBR2YsVUFBV25GLEVBQVFrc0Msb0JBQ25DejJDLEVBQUFuQyxRQUFBa04sY0FBQSxXQUNFL0ssRUFBQW5DLFFBQUFrTixjQUFDaXFDLEVBQUE2SCxZQUFXbnRDLFVBQVduRixFQUFRZ3NDLFNBQS9CLHNCQUVGdjJDLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUNDMEssTUFBQSxFQUNBa0ksR0FBSSxHQUNKRSxPQUNFM0wsT0FBUSxPQUNSaEIsVUFBVyxTQUNYK0QsVUFBVyxRQUVia0YsR0FBRyxpQ0FHRGpFLEtBQUtJLE1BQU1vRixTQUNUeEYsS0FBS0ksTUFBTW9GLFFBQVFvSyxJQUFJLFNBQUFwSyxHQUFBLE1BQ3JCUyxHQUFLbXNDLHNCQUFzQjVzQyxNQUs5QnhGLEtBQUtJLE1BQU1vRixTQUNWeE8sRUFBQW5DLFFBQUFrTixjQUFBLE9BQUtpeUMsT0FBU2g0QyxPQUFRLFNBQ3BCaEYsRUFBQW5DLFFBQUFrTixjQUFBLE9BQ0U0RixPQUNFaE0sZUFBZ0IsU0FDaEJGLFdBQVksU0FDWlgsUUFBUyxPQUNUQyxjQUFlLFNBQ2ZpQixPQUFRLFNBR1ZoRixFQUFBbkMsUUFBQWtOLGNBQUNxcUMsRUFBQXYzQyxRQUFELE1BQ0FtQyxFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQTZILFlBQVdsc0MsT0FDVnhMLE1BQU8sUUFDUHlMLFVBQVcsV0FGYiw4QkFZUjVILEtBQUtJLE1BQU1vRixTQUNUeE8sRUFBQW5DLFFBQUFrTixjQUFDbXFDLEVBQUFyM0MsU0FDQzhTLE9BQVNyTSxNQUFPLFFBQ2hCYSxNQUFNLFlBQ051SyxVQUFXbkYsRUFBUW5DLGFBQ25CaUosUUFBUSxZQUNSckIsUUFBUyxXQUFRZixFQUFLc3FDLHlCQUV0QnY1QyxFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQTZILFlBQ0MxM0MsTUFBTSxVQUNOd0wsT0FBU3RMLFNBQVUsYUFGckIseUJBVVJyRixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FDQzBLLE1BQUEsRUFBS2lJLFdBQUEsRUFDTEMsR0FBSSxFQUNKaE0sV0FBVyxTQUNYa00sT0FBUzNMLE9BQVEsWUFFakJoRixFQUFBbkMsUUFBQWtOLGNBQUMzSCxFQUFBdkYsU0FDQzZSLFVBQVduRixFQUFRcEUsY0FDbkJnTSxXQUFZMFosU0FBUSxHQUNwQnpaLHlCQUEwQjdILEVBQVFoRSxnQkFDbEM4TCxxQkFDRTlELGNBQWV2RixLQUFLSSxNQUFNbUYsY0FDMUJZLHFCQUFzQkEsRUFDdEJtRCxhQUFjLEtBQ2RDLGlCQUFrQixrQ0FHdEJ2UyxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FDQzBLLE1BQUEsRUFDQWtJLEdBQUksR0FDSmYsVUFBV25GLEVBQVEyckMsWUFFbkJsMkMsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUs0RixPQUNIN00sUUFBUyxPQUNUQyxjQUFlLFNBQ2ZPLE1BQU8sU0FFTjBFLEtBQUtJLE1BQU1vRixTQUNWeE8sRUFBQW5DLFFBQUFrTixjQUFDK3FDLEVBQUFqNEMsU0FDQ28vQyxhQUFjajBDLEtBQUtJLE1BQU13dUMsZUFDekJzRixjQUFlLFNBQUMzRixHQUFELE1BQVd0b0MsR0FBSzRwQyxZQUFZdEIsT0FJNUN2dUMsS0FBS0ksTUFBTW9GLFNBQ1Z4TyxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBS2l5QyxPQUFTaDRDLE9BQVEsU0FDcEJoRixFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQ0hoTSxlQUFnQixTQUNoQkYsV0FBWSxTQUNaWCxRQUFTLE9BQ1RDLGNBQWUsU0FDZmlCLE9BQVEsU0FFUmhGLEVBQUFuQyxRQUFBa04sY0FBQ3FxQyxFQUFBdjNDLFNBQWlCOFMsT0FBU3hMLE1BQU8sYUFDbENuRixFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQTZILFlBQVdsc0MsT0FDVnhMLE1BQU8sVUFDUHlMLFVBQVcsV0FGYiw2QkFpQmxCNUgsS0FBS0ksTUFBTTh4QyxnQkFDVGw3QyxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FDQzBLLE1BQUEsRUFDQWlJLFdBQUEsRUFDQUMsR0FBSSxHQUNKZixVQUFXbkYsRUFBUWlzQyxrQkFFbkJ4MkMsRUFBQW5DLFFBQUFrTixjQUFDdXFDLEVBQUF6M0MsU0FDQ3MvQyxhQUFhLEVBQUFwNkMsR0FBQXE2QywwQkFBeUJwMEMsS0FBS0ksTUFBTW9GLFFBQVN4RixLQUFLdkosTUFBTTJPLFVBQ3JFaXZDLGFBQWNyMEMsS0FBS0ksTUFBTW11QyxNQUN6Qk8sa0JBQW1COXVDLEtBQUtJLE1BQU0wdUMsa0JBQzlCbm1DLGdCQUFpQjNJLEtBQUt2SixNQUFNa1MsZ0JBQzVCRSxnQkFBaUI3SSxLQUFLdkosTUFBTW9TLGdCQUM1QmpKLFNBQVVJLEtBQUt2SixNQUFNbUosU0FDckJzSixVQUFXbEosS0FBS3ZKLE1BQU15UyxVQUN0QnRGLGFBQWM1RCxLQUFLdkosTUFBTW1OLGdCQU1qQzVNLEVBQUFuQyxRQUFBa04sY0FBQzZxQyxFQUFBLzNDLFNBQ0NnUyxLQUFNN0csS0FBS0ksTUFBTW93QyxzQkFDakJ6cEMsUUFBUy9HLEtBQUtxd0MseUJBQ2RpRSxrQkFBbUIsU0FBQ3JFLEdBQUQsTUFBZ0JocUMsR0FBSytwQyxzQkFBc0JDLE1BRWhFajVDLEVBQUFuQyxRQUFBa04sY0FBQzJxQyxFQUFBNzNDLFNBQ0NnUyxLQUFNN0csS0FBS0ksTUFBTXV1QyxtQkFDakI1bkMsUUFBUy9HLEtBQUtzd0MseUJBQ2R4MEMsTUFBT3k0QyxrQkFDUEMsU0FDRXg5QyxFQUFBbkMsUUFBQWtOLGNBQUNtcUMsRUFBQXIzQyxTQUNDbVMsUUFBU2hILEtBQUtzd0MseUJBQ2RuMEMsTUFBTSxhQUZSLFNBUUpuRixFQUFBbkMsUUFBQWtOLGNBQUN5OUIsRUFBQTNxQyxTQUNDc3hCLGNBQ0VDLFNBQVUsU0FDVkMsV0FBWSxRQUVkdHhCLElBQUtpTCxLQUFLSSxNQUFNdXZDLGFBQWE1NkMsSUFDN0I4UixLQUFNN0csS0FBS0ksTUFBTXF2QyxVQUNqQjlNLGlCQUFrQixJQUNsQjU3QixRQUFTL0csS0FBSzRpQyxjQUNkQyxjQUNFQyxtQkFBb0IsY0FFdEJ6L0IsUUFBU3JNLEVBQUFuQyxRQUFBa04sY0FBQSxRQUFNa0MsR0FBSWpFLEtBQUtJLE1BQU11dkMsYUFBYTU2QyxLQUFNaUwsS0FBS0ksTUFBTXV2QyxhQUFhdHNDLFNBQ3pFZ1osUUFDRXJsQixFQUFBbkMsUUFBQWtOLGNBQUMyOUIsRUFBQTdxQyxTQUNDRSxJQUFJLFFBQ0prUyxhQUFXLFFBQ1g5SyxNQUFNLFVBQ051SyxVQUFXbkYsRUFBUTJiLE1BQ25CbFcsUUFBU2hILEtBQUs0aUMsY0FDZDZSLFNBQVV6MEMsS0FBSyt2QyxvQkFFZi80QyxFQUFBbkMsUUFBQWtOLGNBQUNoSyxFQUFBbEQsUUFBRCxpQlQwOVBUODRDLEdTcm1SY25xQyxVQUFNdUcsVUFzcEI3QjRqQyxJQUFTbDRCLGFBQWVBLEVBRXhCLElBQU16TCxJQUFrQixTQUFBNUosR0FBQSxPQUN0QitFLEtBQU0vRSxFQUFNNkosZ0JBQ1o1SCxVQUFXakMsRUFBTWlDLFVBQ2pCa0QsY0FBZW5GLEVBQU1tRixjQUNyQm9zQyxhQUFjdnhDLEVBQU11eEMsY1R1OVB0Qm45QyxHQUFRSyxTU3A5UE8sRUFBQWdELEVBQUE2UyxTQUNiVixLQUNBLEVBQUEvUyxFQUFBMFQsWUFBV2hRLElBQVVpUSxXQUFXLElBQVEraUMsTVRzOVBwQytHLEtBQ0EsU0FBVW5nRCxFQUFRQyxFQUFTQyxHQUVqQyxZQXVEQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTVyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTUMsR0FBUSxJQUFLRCxFQUFRLEtBQU0sSUFBSUUsZ0JBQWUsNERBQWdFLFFBQU9ELEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJELEVBQVBDLEVBRWxPLFFBQVNFLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVloQixPQUFPaUIsT0FBT0YsR0FBY0EsRUFBV0MsV0FBYUUsYUFBZW5CLE1BQU9lLEVBQVVaLFlBQVksRUFBT0UsVUFBVSxFQUFNRCxjQUFjLEtBQWVZLElBQVlmLE9BQU9tQixlQUFpQm5CLE9BQU9tQixlQUFlTCxFQUFVQyxHQUFjRCxFQUFTTSxVQUFZTCxHQTFEamVmLE9BQU9DLGVBQWVWLEVBQVMsY0FDM0JRLE9BQU8sR0FHWCxJQUFJNDlCLEdBQVczOUIsT0FBTzQ5QixRQUFVLFNBQVVyOEIsR0FBVSxJQUFLLEdBQUlFLEdBQUksRUFBR0EsRUFBSXdlLFVBQVV2ZSxPQUFRRCxJQUFLLENBQUUsR0FBSW84QixHQUFTNWQsVUFBVXhlLEVBQUksS0FBSyxHQUFJM0IsS0FBTys5QixHQUFjNzlCLE9BQU9nQixVQUFVODhCLGVBQWVuOUIsS0FBS2s5QixFQUFRLzlCLEtBQVF5QixFQUFPekIsR0FBTys5QixFQUFPLzlCLElBQVksTUFBT3lCLElBRW5QRixFQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXekIsV0FBYXlCLEVBQVd6QixhQUFjLEVBQU95QixFQUFXeEIsY0FBZSxFQUFVLFNBQVd3QixLQUFZQSxFQUFXdkIsVUFBVyxHQUFNSixPQUFPQyxlQUFlc0IsRUFBUUksRUFBVzdCLElBQUs2QixJQUFpQixNQUFPLFVBQVVwQixFQUFhcUIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlOLEVBQWlCZixFQUFZUyxVQUFXWSxHQUFpQkMsR0FBYVAsRUFBaUJmLEVBQWFzQixHQUFxQnRCLE1VcHhSaGlCdUIsRUFBQXRDLEVBQUEsR1Z3eFJJdUMsRUFBVXRDLEVBQXVCcUMsR1V2eFJyQ3U4QixFQUFBNytCLEVBQUEsR1YyeFJJNnFDLEVBQWM1cUMsRUFBdUI0K0IsR1UxeFJ6Q3I4QixFQUFBeEMsRUFBQSxJQUNBa2dELEVBQUFsZ0QsRUFBQSxNVit4UkltZ0QsRUFBUWxnRCxFQUF1QmlnRCxHVTl4Um5DRSxFQUFBcGdELEVBQUEsTVZreVJJcWdELEVBQVlwZ0QsRUFBdUJtZ0QsR1VqeVJ2Q0UsRUFBQXRnRCxFQUFBLE1WcXlSSXVnRCxFQUFhdGdELEVBQXVCcWdELEdVcHlSeENFLEVBQUF4Z0QsRUFBQSxNVnd5Ukl5Z0QsRUFBa0J4Z0QsRUFBdUJ1Z0QsR1V2eVI3Q25RLEVBQUFyd0MsRUFBQSxLVjJ5Uklzd0MsRUFBbUJyd0MsRUFBdUJvd0MsR1UxeVI5Q0UsRUFBQXZ3QyxFQUFBLEtWOHlSSXd3QyxFQUEwQnZ3QyxFQUF1QnN3QyxHVTd5UnJERSxFQUFBendDLEVBQUEsS1ZpelJJMHdDLEVBQTBCendDLEVBQXVCd3dDLEdVaHpSckRHLEVBQUE1d0MsRUFBQSxLVm96Ukk2d0MsRUFBZTV3QyxFQUF1QjJ3QyxHVW56UjFDd0UsRUFBQXAxQyxFQUFBLEtBRU1rRyxFQUFTLFNBQUFDLEdBQUEsT0FDWHU2QyxPQUNJNzVDLE1BQU8sT0FDUDhCLGdCQUFpQnhDLEVBQU1PLFFBQVErRCxnQkFBZ0I3RCxNQUVuRCs1QyxvQkFDSWg0QyxnQkFBaUIsVUFDakJ1SCxPQUFRLDhDQUNSaEksUUFBUyxnQkFFYjA0QyxhQUNJMTRDLFFBQVMsZUFDVEYsYUFBYyxNQUNka0ksT0FBUSwrQ0FFWmdpQyxZQUNJeHFDLE1BQU92QixFQUFNTyxRQUFRNkIsVUFBVTNCLE1BRW5DaTZDLG9CQUNJdDJDLFVBQVcsa0JBQ1h2QyxhQUFjLGlCQUNkMGtCLGFBQWMsWUFJaEJvMEIsRVYrelJRLFNBQVV4MUMsR1U5elJwQixRQUFBdzFDLEdBQVk5K0MsR0FBT25CLEVBQUEwSyxLQUFBdTFDLEVBQUEsSUFBQXQxQyxHQUFBdkssRUFBQXNLLE1BQUF1MUMsRUFBQWwvQyxXQUFBcEIsT0FBQWlMLGVBQUFxMUMsSUFBQTMvQyxLQUFBb0ssS0FDVHZKLEdBRFMwcUMsR0FBQXZyQyxLQUFBcUssRUFHZixJQUFJbUYsR0FBV25GLEVBQUt4SixNQUFNK08sUUFBUXNyQyxTQUFuQixRQUNUMEUsRUFBcUJ2MUMsRUFBS3cxQyxzQkFBc0Jyd0MsR0FDOUNzd0MsRUFBdURGLEVBQXZERSxnQkFBaUJyVSxFQUFzQ21VLEVBQXRDblUsbUJBQW9Cc1UsRUFBa0JILEVBQWxCRyxhQUw5QixPQU9mMTFDLEdBQUtHLE9BQ0QrbUMsVUFBVSxFQUNWem5DLE9BQVEsRUFDUjBGLFdBQ0FJLFFBQVN2RixFQUFLeEosTUFBTStPLFFBQ3BCa3dDLGtCQUNBclUscUJBQ0FzVSxnQkFDQUMsYUFBYyxHQWZIMzFDLEVWKzVSbkIsTUFoR0FuSyxHQUFVeS9DLEVBQVN4MUMsR0E2Qm5CekosRUFBYWkvQyxJQUNUeGdELElBQUssU0FDTEMsTUFBTyxXVWh2UkYsR0FBQWlSLEdBQUFqRyxLQUFBa0csRUFDMkJsRyxLQUFLdkosTUFBN0I4SyxFQURIMkUsRUFDRzNFLFFBQVNteEMsRUFEWnhzQyxFQUNZd3NDLFdBQ1htRCxFQUFjNzFDLEtBQUs4MUMsZ0JBRXpCLE9BQ0k5K0MsR0FBQW5DLFFBQUFrTixjQUFDZ2pDLEVBQUFsd0MsU0FDRzBNLFNBQVd0RyxLQUFNc0csRUFBUSt6QyxvQkFDekJuTyxTQUFVbm5DLEtBQUtJLE1BQU0rbUMsU0FDckJ6Z0MsVUFBV25GLEVBQVE0ekMsT0FFbkJuK0MsRUFBQW5DLFFBQUFrTixjQUFDa2pDLEVBQUFwd0MsU0FDRzZSLFVBQVcxRyxLQUFLSSxNQUFNK21DLFNBQVc1bEMsRUFBUTZ6QyxtQkFBcUI3ekMsRUFBUTh6QyxZQUN0RTFPLFdBQ0krTCxJQUFlcUQsZUFBYUMsV0FDeEJoL0MsRUFBQW5DLFFBQUFrTixjQUFDdWpDLEVBQUF6d0MsU0FBZW1TLFFBQVNoSCxLQUFLNm5DLGFBQWNuaEMsVUFBV25GLEVBQVFvbEMsY0FJbkUrTCxJQUFlcUQsZUFBYUUsS0FDeEJqL0MsRUFBQW5DLFFBQUFrTixjQUFDNnlDLEVBQUEvL0MsUUFBRCs5QixHQUNJK2lCLGNBQWdCMzFDLEtBQUtJLE1BQU11MUMsY0FDM0J2TyxZQUFhcG5DLEtBQUtJLE1BQU1WLE9BQ3hCOEYsUUFBVXhGLEtBQUtJLE1BQU1vRixRQUNyQm93QyxhQUFlNTFDLEtBQUtJLE1BQU13MUMsYUFDMUJGLGdCQUFrQjExQyxLQUFLSSxNQUFNczFDLGlCQUN6QkcsSUFLWm5ELElBQWVxRCxlQUFhRyxTQUN4QmwvQyxFQUFBbkMsUUFBQWtOLGNBQUMreUMsRUFBQWpnRCxRQUFEKzlCLEdBQ0kraUIsY0FBZTMxQyxLQUFLSSxNQUFNdTFDLGNBQzFCbndDLFFBQVN4RixLQUFLSSxNQUFNb0YsUUFDcEJvd0MsYUFBYzUxQyxLQUFLSSxNQUFNdzFDLGFBQ3pCRixnQkFBaUIxMUMsS0FBS0ksTUFBTXMxQyxnQkFDNUIzQyxlQUFnQi95QyxLQUFLdkosTUFBTXM4QyxnQkFDdkI4QyxJQUtabkQsSUFBZXFELGVBQWFDLFdBQ3hCaC9DLEVBQUFuQyxRQUFBa04sY0FBQ2l6QyxFQUFBbmdELFFBQUQrOUIsR0FDSStpQixjQUFlMzFDLEtBQUtJLE1BQU11MUMsY0FDMUJud0MsUUFBU3hGLEtBQUtJLE1BQU1vRixRQUNwQnN0QyxpQkFBa0I5eUMsS0FBS3ZKLE1BQU1xOEMsa0JBQ3pCK0MsS0FLcEI3K0MsRUFBQW5DLFFBQUFrTixjQUFDb2pDLEVBQUF0d0MsU0FBc0I2UixVQUFXbkYsRUFBUTh6QyxhQUN0Q3IrQyxFQUFBbkMsUUFBQWtOLGNBQUNtekMsRUFBQXJnRCxTQUNHc3VDLElBQUtuakMsS0FBS0ksTUFBTW9GLFFBQ2hCa3RDLFdBQVlBLEVBQ1pnRCxnQkFBaUIxMUMsS0FBS0ksTUFBTXMxQyxnQkFDNUJyVSxtQkFBb0JyaEMsS0FBS0ksTUFBTWloQyxtQkFDL0JzVSxjQUFlMzFDLEtBQUtJLE1BQU11MUMsY0FDMUJRLGdCQUFpQm4yQyxLQUFLMndDLGVBQ3RCeUYsS0FBTXAyQyxLQUFLSSxNQUFNd3lDLFVBQ2pCeHRDLFNBQVVwRixLQUFLdkosTUFBTWs4QyxlQUNyQmpxQyxZQUFhMUksS0FBS3ZKLE1BQU1pUyxZQUN4QmlvQyxlQUFnQixTQUFDdnJDLEVBQVVpeEMsR0FBa0Jwd0MsRUFBS3F3QyxzQkFBc0JseEMsRUFBVWl4QyxZVmt2Ui9GZCxHVWg2Uld4ckMsYVZtNlJsQm8zQixFQUFtQixXQUNuQixHQUFJbkQsR0FBU2grQixJQUViQSxNVWw1UkE2bkMsYUFBZSxXQUNYN0osRUFBSzE5QixVQUFXNm1DLFVBQVduSixFQUFLNTlCLE1BQU0rbUMsWVZxNVIxQ25uQyxLVWw1UkF5MUMsc0JBQXdCLFNBQUNyd0MsR0FDckIsR0FBSXN3QyxNQUNBclUsS0FDQXNVLEdBQWdCLEVBQ2RoRCxFQUFpQjNVLEVBQUt2bkMsTUFBTWs4QyxjQUVsQyxJQUFJdnRDLEVBQ0EsSUFBSyxHQUFJMU8sR0FBSSxFQUFHQSxFQUFJME8sRUFBU3pPLE9BQVFELElBQUssQ0FHdEMsSUFBSyxHQUZEd3NDLElBQU8sRUFFRm5LLEVBQUksRUFBR0EsRUFBSTRaLEVBQWVoOEMsU0FDM0J1c0MsRUFEbUNuSyxJQUt2QyxJQUFLLEdBQUl3ZCxHQUFJLEVBQUdBLEVBQUk1RCxFQUFlNVosR0FBR3BpQyxPQUFRNC9DLElBQUssQ0FDL0MsR0FBSUMsR0FBaUI3RCxFQUFlNVosR0FBR3dkLEVBRXZDLElBQUlueEMsRUFBUzFPLElBQU04L0MsRUFBZTlOLGVBQWdCLENBQzlDZ04sRUFBZ0I3MUMsS0FBSzIyQyxHQUNyQm5WLEVBQW1CbVYsRUFBZXZ5QyxLQUFNLEVBQ3hDaS9CLEdBQU8sQ0FDUCxRQUtaLElBQUtBLEVBQU0sQ0FDUCxHQUFJdVQsR0FBY3hoRCxPQUFPaUIsUUFDckIrTixHQUFPbUIsRUFBUzFPLEdBQWhCLFlBQ0FneUMsZUFBZ0J0akMsRUFBUzFPLElBRzdCZy9DLEdBQWdCNzFDLEtBQUs0MkMsR0FDckJkLEdBQWdCLEdBVzVCLE1BTm9CMWdELFFBQU95aEQsUUFDdkJoQixrQkFDQXJVLHFCQUNBc1UsbUJWdzVSUjMxQyxLVWw1UkE4MUMsZUFBaUIsV0FDYixNQUFPN2dELFFBQU80OUIsUUFDVmp6QixTQUFVbytCLEVBQUt2bkMsTUFBTW1KLFNBQ3JCKzJDLFdBQVkzWSxFQUFLdm5DLE1BQU1vVCxhQUN2QnpHLGVBQWdCNDZCLEVBQUt2bkMsTUFBTTJNLGVBQzNCeXZDLFdBQVk3VSxFQUFLdm5DLE1BQU1vOEMsV0FDdkJKLG9CQUFxQnpVLEVBQUt2bkMsTUFBTWc4QyxvQkFDaEM1RSxhQUFjN1AsRUFBS3ZuQyxNQUFNKzdDLFNBQ3pCb0UsYUFBYzVZLEVBQUs2WSxpQkFDbkJoUCxhQUFjN0osRUFBSzZKLGFBQ25CbUwscUJBQXNCLFNBQUMxRCxHQUFELE1BQWlCdFIsR0FBS3ZuQyxNQUFNdThDLHFCQUFxQjFELElBQ3ZFNEQsc0JBQXVCLFNBQUNDLEdBQXFCblYsRUFBS3ZuQyxNQUFNeThDLHNCQUFzQkMsRUFBZ0JuVixFQUFLNTlCLE1BQU1zMUMscUJWMDVSakgxMUMsS1V0NVJBczJDLHNCQUF3QixTQUFDbHhDLEVBQVVpeEMsR0FDL0JyWSxFQUFLMTlCLFVBRUdvMUMsZ0JBQWlCdHdDLEVBQ2pCaThCLG1CQUFvQmdWLEdBRXhCLFdBQ0lyWSxFQUFLdm5DLE1BQU13OEMsdUJBQXVCN3RDLE1WdzVSOUNwRixLVW41UkEyd0MsZUFBaUIsU0FBQ3pOLEVBQU0wUyxHQUNwQjVYLEVBQUsxOUIsVUFDRHExQyxjQUFlelMsRUFDZjBTLGFBQWNBLEtWdTVSdEI1MUMsS1VuNVJBNjJDLGlCQUFtQixXQUNmN1ksRUFBSzE5QixVQUFXc3lDLFdBQVcsRUFBTXpMLFVBQVUsSUFDM0NuSixFQUFLdm5DLE1BQU1tOEMsYUE2RW5CMkMsR0FBUS9oQixXQUNKanlCLFFBQVNrakMsVUFBVUMsT0FBT0MsWVY2MFI5Qm53QyxFQUFRSyxTVTEwUk8sRUFBQW9DLEVBQUEwVCxZQUFXaFEsR0FBVWlRLFdBQVcsSUFBUTJxQyxJVjgwUmpEdUIsS0FDQSxTQUFVdmlELEVBQVFDLEVBQVNDLEdBRWpDLFlBK0ZBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNvaUQsR0FBeUJwaUQsRUFBS3FpRCxHQUFRLEdBQUl4Z0QsS0FBYSxLQUFLLEdBQUlFLEtBQUsvQixHQUFXcWlELEVBQUsxZixRQUFRNWdDLElBQU0sR0FBa0J6QixPQUFPZ0IsVUFBVTg4QixlQUFlbjlCLEtBQUtqQixFQUFLK0IsS0FBY0YsRUFBT0UsR0FBSy9CLEVBQUkrQixHQUFNLE9BQU9GLEdBRW5OLFFBQVNsQixHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTUMsR0FBUSxJQUFLRCxFQUFRLEtBQU0sSUFBSUUsZ0JBQWUsNERBQWdFLFFBQU9ELEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJELEVBQVBDLEVBRWxPLFFBQVNFLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVloQixPQUFPaUIsT0FBT0YsR0FBY0EsRUFBV0MsV0FBYUUsYUFBZW5CLE1BQU9lLEVBQVVaLFlBQVksRUFBT0UsVUFBVSxFQUFNRCxjQUFjLEtBQWVZLElBQVlmLE9BQU9tQixlQUFpQm5CLE9BQU9tQixlQUFlTCxFQUFVQyxHQUFjRCxFQUFTTSxVQUFZTCxHVzNsUmplLFFBQVNpaEQsR0FBbUJ4Z0QsR0FBTyxHQUN2QmloQixHQUFpQ2poQixFQUFqQ2loQixTQUFVaEIsRUFBdUJqZ0IsRUFBdkJpZ0IsU0FBYStELEVBREFzOEIsRUFDVXRnRCxHQURWLHVCQUcvQixPQUNJTyxHQUFBbkMsUUFBQWtOLGNBQUNtMUMsRUFBQXJpRCxRQUFEKzlCLEtBQ1FuWSxHQUNKeWEsWUFBYXhkLEVBQ2JvZCxjQUFlLFNBQUFxaUIsR0FDWHpnQyxHQUNJbGdCLFFBQ0l4QixNQUFPbWlELEVBQU9uaUQsVUFJMUJ5K0IsbUJBQUEsRUFDQVcsT0FBTyxJQUNQUSxlQUFlLEVBQ2ZiLGFBQWMsS1hzK1ExQjkrQixPQUFPQyxlQUFlVixFQUFTLGNBQzNCUSxPQUFPLEdBR1gsSUFBSTQ5QixHQUFXMzlCLE9BQU80OUIsUUFBVSxTQUFVcjhCLEdBQVUsSUFBSyxHQUFJRSxHQUFJLEVBQUdBLEVBQUl3ZSxVQUFVdmUsT0FBUUQsSUFBSyxDQUFFLEdBQUlvOEIsR0FBUzVkLFVBQVV4ZSxFQUFJLEtBQUssR0FBSTNCLEtBQU8rOUIsR0FBYzc5QixPQUFPZ0IsVUFBVTg4QixlQUFlbjlCLEtBQUtrOUIsRUFBUS85QixLQUFReUIsRUFBT3pCLEdBQU8rOUIsRUFBTy85QixJQUFZLE1BQU95QixJQUVuUEYsRUFBZSxXQUFjLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV3pCLFdBQWF5QixFQUFXekIsYUFBYyxFQUFPeUIsRUFBV3hCLGNBQWUsRUFBVSxTQUFXd0IsS0FBWUEsRUFBV3ZCLFVBQVcsR0FBTUosT0FBT0MsZUFBZXNCLEVBQVFJLEVBQVc3QixJQUFLNkIsSUFBaUIsTUFBTyxVQUFVcEIsRUFBYXFCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZTixFQUFpQmYsRUFBWVMsVUFBV1ksR0FBaUJDLEdBQWFQLEVBQWlCZixFQUFhc0IsR0FBcUJ0QixNVzdqU2hpQnVCLEVBQUF0QyxFQUFBLEdYaWtTSXVDLEVBQVV0QyxFQUF1QnFDLEdXaGtTckNrMUMsRUFBQXgzQyxFQUFBLElYb2tTSXkzQyxFQUFXeDNDLEVBQXVCdTNDLEdXbmtTdEMzWSxFQUFBNytCLEVBQUEsR1h1a1NJNnFDLEVBQWM1cUMsRUFBdUI0K0IsR1d0a1N6Q2g4QixFQUFBN0MsRUFBQSxHWDBrU0k4QyxFQUFlN0MsRUFBdUI0QyxHV3prUzFDTCxFQUFBeEMsRUFBQSxJQUNBZ3hDLEVBQUFoeEMsRUFBQSxLQUNBMmlELEVBQUEzaUQsRUFBQSxNWCtrU0k0aUQsRUFBWTNpRCxFQUF1QjBpRCxHVzlrU3ZDRSxFQUFBN2lELEVBQUEsTUFDQXUzQyxFQUFBdjNDLEVBQUEsSUFDQThpRCxFQUFBOWlELEVBQUEsS1hvbFNJK2lELEVBQVM5aUQsRUFBdUI2aUQsR1dubFNwQ25nRCxFQUFBM0MsRUFBQSxJWHVsU0k0QyxFQUFlM0MsRUFBdUIwQyxHV3RsUzFDcWdELEVBQUFoakQsRUFBQSxLWDBsU0lpakQsRUFBY2hqRCxFQUF1QitpRCxHV3psU3pDRSxFQUFBbGpELEVBQUEsS1g2bFNJbWpELEVBQVVsakQsRUFBdUJpakQsR1c1bFNyQ3ZZLEVBQUEzcUMsRUFBQSxJWGdtU0k0cUMsRUFBVTNxQyxFQUF1QjBxQyxHVy9sU3JDRixFQUFBenFDLEVBQUEsSVhtbVNJMHFDLEVBQVd6cUMsRUFBdUJ3cUMsR1dsbVN0QzJZLEVBQUFwakQsRUFBQSxNWHNtU0l5aUQsRUFBc0J4aUQsRUFBdUJtakQsR1dybVNqRDNnRCxFQUFBekMsRUFBQSxJWHltU0kwQyxFQUFTekMsRUFBdUJ3QyxHV3htU3BDaTFDLEVBQUExM0MsRUFBQSxJWDRtU0kyM0MsRUFBcUIxM0MsRUFBdUJ5M0MsR1czbVNoRE0sRUFBQWg0QyxFQUFBLEtYK21TSWk0QyxFQUFpQmg0QyxFQUF1QiszQyxHVzltUzVDNUMsRUFBQXAxQyxFQUFBLEtBQ0FxakQsRUFBQXJqRCxFQUFBLEtBQ0Eyd0MsRUFBQTN3QyxFQUFBLElBQ0FzRixFQUFBdEYsRUFBQSxJQUNBNEYsRUFBQTVGLEVBQUEsSVhzblNJNkYsRUFBa0I1RixFQUF1QjJGLEdXcm5TN0NFLEVBQUE5RixFQUFBLElYeW5TSStGLEVBQWM5RixFQUF1QjZGLEdXdG5TbkN3OUMsRUFBVyw4RkFHWEMsR0FBYyw0RUFDZEMsR0FBb0IseUVBRXBCdDlDLEdBQVMsU0FBQUMsR0FBQSxPQUNYbzJDLFdBQ0k1dkIsT0FBUSxNQUNSL2tCLFNBQVUsV0FDVnlsQixXQUFZLE9BQ1ozbEIsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixNQUVqQ3NnQyxNQUNJcmdDLE1BQU8sT0FDUHFCLFFBQVMsTUFDVG1sQixXQUFZLE9BQ1p6bEIsU0FBVSxXQUNWRixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCb0MsUUFBUyxHQUVUeTZDLFlBQ0kxWCxhQUFjLHFCQUVsQjJYLFdBQ0kzWCxhQUFjLHNCQUd0QjRYLGFBQ0k5OEMsTUFBTyxPQUNQcUIsUUFBUyxNQUNUbWxCLFdBQVksT0FDWnpsQixTQUFVLFdBQ1ZGLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JvQyxRQUFTLEdBRVR5NkMsWUFDSTFYLGFBQWMscUJBRWxCMlgsV0FDSTNYLGFBQWMsc0JBR3RCNlgsbUJBQ0lsOEMsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3QkksV0FBWSxTQUNaSCxNQUFPLG9CQUNQa0MsWUFBYSxTQUNiakIsYUFBYyxTQUNkUCxPQUFRLHFCQUVaczhDLGFBQ0luOEMsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3Qm9DLFFBQVUsSUFDVnBCLFNBQVcsVUFFZjhDLFlBQ0loRCxNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixLQUMvQlcsT0FBUyxTQUNUVixNQUFTLFVBRWJpOUMsV0FDSXA4QyxNQUFPLFVBQ1BYLFdBQVksU0FFaEJnOUMsZ0JBQ0kvNkMsUUFBUyxHQUNUeEIsT0FBUSxhQUlWdzhDLElBQWdCLEVBQUF6TSxFQUFBME0saUJBQ2xCQyxXQUNJQyxtQkFDSXY3QixTQUNJamdCLGdCQUFpQnk3QyxVQUFLQyxLQUN0Qjk4QyxPQUFTLFNBR2pCKzhDLDBCQUNJbjRCLGlCQUtKbzRCLGVBQ0lucEMsS0FDSTFULE1BQU8wOEMsVUFBS0ksTUFFaEJ4N0IsVUFDSXJnQixnQkFBaUJ5N0MsVUFBSyxNQUUxQjlvQyxTQUNJNVQsTUFBTzA4QyxVQUFLLE9BR3BCSyxtQkFDSTcvQixPQUNJbGQsTUFBTyx1QkFHZmc5QyxpQkFDSTc4QixjQUNJbmdCLE1BQU8wOEMsVUFBSyxVQU10QjVDLEdYcW9TSSxTQUFVbDJDLEdXcG9TaEIsUUFBQWsyQyxHQUFZeC9DLEdBQU9uQixFQUFBMEssS0FBQWkyQyxFQUFBLElBQUFoMkMsR0FBQXZLLEVBQUFzSyxNQUFBaTJDLEVBQUE1L0MsV0FBQXBCLE9BQUFpTCxlQUFBKzFDLElBQUFyZ0QsS0FBQW9LLEtBQ1R2SixHQURTMHFDLElBQUF2ckMsS0FBQXFLLEVBRWYsSUFBSW01QyxHQUFnQm41QyxFQUFLeEosTUFBTStPLFFBQVFBLFFBQVFhLE1BQU0weEMsR0FDakRzQixFQUFrQkQsRUFBYyxHQUFHL3lDLE1BQU0sWUFIOUIsT0FLZnBHLEdBQUtHLE9BQ0QwYSxVQUFXN2EsRUFBS3hKLE1BQU0rTyxRQUFROHpDLFFBQzlCQyxVQUFXdDVDLEVBQUt4SixNQUFNK08sUUFBUTh6QyxVQUFXLEVBQ3pDRSxXQUFZLEdBQ1o5NUMsT0FBUTI1QyxFQUFrQkEsRUFBZ0IsR0FBS3A1QyxFQUFLeEosTUFBTStPLFFBQVE4ekMsUUFBVSxHQUFLLEVBQ2pGbjJCLGFBQWMsR0FBSW5lLE1BQUtvMEMsRUFBYyxJQUNyQ3hELGFBQWMzMUMsRUFBS3hKLE1BQU1tL0MsYUFDekI2RCxnQkFBZ0IsRUFDaEI1WCxjQUFjLEVBQ2RDLGdCQUFpQixHQUNqQjRYLG1CQUFtQixFQUNuQnpILGlCQUFpQixFQUNqQjBILFNBQVUxNUMsRUFBS3hKLE1BQU0rTyxRQUFRdkIsR0FDN0IyMUMsT0FBUTM1QyxFQUFLeEosTUFBTStPLFFBQVEyb0MsS0FDM0IwTCxrQkFBbUI1NUMsRUFBS3hKLE1BQU0rTyxRQUFRMm9DLE1BQU8sRUFBQTJKLEVBQUF2cEMsUUFBTyxHQUFJdkosTUFBS28wQyxFQUFjLElBQUssZ0JBQWtCLEdBQ2xHVSxxQkFBc0JULEVBQWtELElBQS9CLEdBQUtBLEdBQWlCMWlELE9BQWMsR0FDN0VvakQsdUJBQXVCLEVBQ3ZCcEUsY0FBZTExQyxFQUFLeEosTUFBTWsvQyxjQUMxQnFFLDJCQUE0QixHQUM1QkMseUJBQXlCLEVBQ3pCejBDLFFBQVN2RixFQUFLeEosTUFBTStPLFFBQ3BCMDBDLGlCQUFrQmIsR0ExQlBwNUMsRVhtNlNuQixNQTlSQW5LLEdBQVVtZ0QsRUFBS2wyQyxHQXNDZnpKLEVBQWEyL0MsSUFDVGxoRCxJQUFLLHVCQUNMQyxNQUFPLFdXaG9TUGdMLEtBQUttNkMsbUJYb29TTHBsRCxJQUFLLDRCQUNMQyxNQUFPLFNXbG9TZTZRLEdBQVcsR0FBQUksR0FBQWpHLElBRWpDQSxNQUFLTSxVQUNEcTFDLGNBQWU5dkMsRUFBVTh2QyxnQkFHekI5dkMsRUFBVSt2QyxjQUFnQixHQUFLL3ZDLEVBQVUrdkMsY0FBZ0I1MUMsS0FBS0ksTUFBTXcxQyxjQUNwRTUxQyxLQUFLTSxVQUFXczFDLGFBQWMvdkMsRUFBVSt2QyxjQUNsQyxXQUFRM3ZDLEVBQUtrMEMscUJYd29TdkJwbEQsSUFBSyxTQUNMQyxNQUFPLFdXajdSRixHQUFBZ3BDLEdBQUFoK0IsS0FBQWtHLEVBQ3NCbEcsS0FBS3ZKLE1BQXhCOEssRUFESDJFLEVBQ0czRSxRQUFTM0csRUFEWnNMLEVBQ1l0TCxNQUVUdy9DLEdBRFlwNkMsS0FBS3ZKLE1BQWpCK08sUUFDZXhGLEtBQUt2SixNQUFwQjJqRCxXQUVSLE9BQ0lwakQsR0FBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUsyUyxXQUFBLEVBQVVkLFVBQVduRixFQUFRODRDLGVBQy9CcmpELEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLa0ksR0FBSSxHQUFJTyxHQUFJLEdBQUlELEdBQUksR0FBSVAsV0FBQSxFQUFVL0wsV0FBVyxTQUFTaU0sUUFBUSxjQUNyRTFRLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLNEYsT0FBU3JNLE1BQU8sU0FFYjBFLEtBQUtJLE1BQU0yNUMsdUJBQ1gvaUQsRUFBQW5DLFFBQUFrTixjQUFDcXFDLEVBQUF2M0MsU0FBaUI2UixVQUFXbkYsRUFBUTgyQyxvQkFHckNyNEMsS0FBS0ksTUFBTXc1QyxRQUNYNWlELEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBNlUsTUFBSzN5QyxPQUFTeEwsTUFBTyxVQUFZcUIsWUFBYyxTQUFVakIsYUFBZSxTQUFVUCxPQUFTLFNBQVVWLE1BQVEsYUFHdEh0RSxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS2tJLEdBQUksR0FBSU8sR0FBSSxHQUFJRCxHQUFJLEdBQUlQLFdBQUEsRUFBVS9MLFdBQVcsU0FBU2lNLFFBQVEsY0FDekUxUSxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsR0FDRFMsS0FBS0ksTUFBTXc1QyxRQUFVNWlELEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUFXOFMsT0FBVWxLLFFBQVUsR0FBT2lKLFVBQVduRixFQUFRKzJDLGFBQTFELGNBRTFCdGhELEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxJQUNBUyxLQUFLSSxNQUFNdzVDLFFBQVU1aUQsRUFBQW5DLFFBQUFrTixjQUFDMUssRUFBQXhDLFNBQVc4UyxPQUFTbEssUUFBVSxHQUFPaUosVUFBV25GLEVBQVErMkMsYUFBekQsYUFFM0J0aEQsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEdBQ0Z2SSxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzhTLE9BQVNtYSxXQUFZLE9BQVFya0IsUUFBVSxHQUFPaUosVUFBV25GLEVBQVErMkMsYUFBN0UsVUFFSnRoRCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsR0FDRnZJLEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUFXNlIsVUFBV25GLEVBQVErMkMsYUFBL0IsU0FHSnRoRCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS29JLE9BQVM4VSxTQUFVemMsS0FBS0ksTUFBTW01QyxVQUFZLE9BQVN2NUMsS0FBS0ksTUFBTTA1QyxxQkFBdUJ4K0MsTUFBTzBFLEtBQUtJLE1BQU1tNUMsVUFBWSxPQUFTdjVDLEtBQUtJLE1BQU0wNUMscUJBQXNCdHpCLFNBQVUsU0FDOUt4dkIsRUFBQW5DLFFBQUFrTixjQUFDMjFDLEVBQUE3aUQsU0FDR29QLEdBQUksd0JBQTBCakUsS0FBS0ksTUFBTXU1QyxTQUV6Q2p6QyxVQUFXbkYsRUFBUXl2QyxVQUNuQmg4QyxNQUFPZ0wsS0FBS0ksTUFBTVYsT0FDbEJnWCxTQUFVLFNBQUM4QyxHQUFELE1BQU93a0IsR0FBS3VjLDRCQUE0Qi9nQyxJQUNsRDRILE9BQU8sU0FDUHprQixRQUFRLFNBQ1IwZCxZQUNJM1QsVUFBVzFHLEtBQUtJLE1BQU04NUMsaUJBQ1gsRUFBQTNpRCxFQUFBMUMsU0FBVzBNLEVBQVE2MkMsWUFBWTcyQyxFQUFRaTVDLGlCQUN2QyxFQUFBampELEVBQUExQyxTQUFXME0sRUFBUW82QixLQUFLcDZCLEVBQVFpNUMsZ0JBQzNDMS9CLFNBQVUrSCxRQUFRN2lCLEtBQUtJLE1BQU0wYSxVQUM3QnVuQixpQkFBa0J4ZixRQUFRN2lCLEtBQUtJLE1BQU0wYSxVQUNyQ0YsZUFBZ0I1YSxLQUFLSSxNQUFNbTVDLFVBQVl0QyxFQUFxQmozQyxLQUFLeTZDLDJCQUk3RXpqRCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsSUFFR1MsS0FBS0ksTUFBTW01QyxZQUFjdjVDLEtBQUtJLE1BQU13NUMsUUFDckM1aUQsRUFBQW5DLFFBQUFrTixjQUFDMGpDLEVBQUFpVixhQUNHaDBDLFVBQVduRixFQUFRcEMsV0FDbkJ3SSxPQUFTbk0sV0FBWSxPQUNyQndMLFFBQVNoSCxLQUFLMjZDLGdCQUlsQjM2QyxLQUFLSSxNQUFNbTVDLFlBQWN2NUMsS0FBS0ksTUFBTXc1QyxRQUNwQzVpRCxFQUFBbkMsUUFBQWtOLGNBQUEsV0FDSS9LLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBbVYsY0FDR2p6QyxPQUFTbk0sV0FBWSxTQUFVVyxNQUFPLFVBQVdRLFFBQVMscUJBQzFEK0osVUFBWTFHLEtBQUtJLE1BQU1vNUMsV0FBc0MsR0FBekJqNEMsRUFBUWkzQyxlQUM1Q3h4QyxRQUFVaEgsS0FBS0ksTUFBTW81QyxXQUE2Qng1QyxLQUFLNjZDLHFCQUFyQm5OLGtCQUV0QzEyQyxFQUFBbkMsUUFBQWtOLGNBQUMwakMsRUFBQXFWLG9CQUNHbnpDLE9BQVN4TCxNQUFPLFdBQ2hCdUssVUFBVzFHLEtBQUtJLE1BQU04NUMsZ0JBQWtCMzRDLEVBQVFpM0MsZUFBaUIsR0FDakV4eEMsUUFBU2hILEtBQUtJLE1BQU04NUMsZ0JBQWtCeE0sZ0JBQWdCMXRDLEtBQUsrNkMsNEJBSzNFL2pELEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxHQUNGdkksRUFBQW5DLFFBQUFrTixjQUFDMUssRUFBQXhDLFNBQVc2UixVQUFXbkYsRUFBUSsyQyxhQUEvQix5QkFFSnRoRCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsR0FBTixJQUFhUyxLQUFLSSxNQUFNdzVDLFFBQVU1aUQsRUFBQW5DLFFBQUFrTixjQUFDMUssRUFBQXhDLFNBQVc4UyxPQUFTeEwsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixPQUFTMkUsS0FBS0ksTUFBTXk1QyxvQkFDeEc3aUQsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtvSSxPQUFTN00sUUFBUyxPQUFRMHJCLFNBQVUsU0FBV3htQixLQUFLSSxNQUFNdzVDLFFBQ2pFNWlELEVBQUFuQyxRQUFBa04sY0FBQ3UxQyxFQUFBM2xDLHlCQUF3QndELE1BQU96SSxXQUM1QjFWLEVBQUFuQyxRQUFBa04sY0FBQ2lxQyxFQUFBZ1Asa0JBQWlCcGdELE1BQU82OUMsSUFDckJ6aEQsRUFBQW5DLFFBQUFrTixjQUFDdTFDLEVBQUFweUIsWUFDR3ZkLE9BQVM2ZSxTQUFVLFdBQ25CL0MscUJBQXNCWixTQUFRLEdBQzlCdFUsT0FBTyxlQUNQb0ssZUFBZSwrQkFDZjBCLFlBQ0lwVyxHQUFJLG9CQUFzQmpFLEtBQUtJLE1BQU11NUMsU0FDckNqekMsVUFBV25GLEVBQVFvNkIsS0FDbkI3Z0IsU0FBVStILFNBQVEsR0FDbEJ3ZixpQkFBa0J4ZixTQUFRLElBRTlCOUssSUFBSyxTQUFBa2pDLEdBQ0RqZCxFQUFLa2QsT0FBU0QsR0FFbEJqbUQsTUFBT2dMLEtBQUtJLE1BQU0raUIsYUFDbEJ6TSxTQUFVMVcsS0FBS203QyxpQkFFZjUyQixzQkFBc0IsRUFDdEJoTSxRQUFTLEdBQUl2VCxRQUVqQmhPLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBMlYsV0FBVTEwQyxVQUFXbkYsRUFBUXBDLFdBQVk2SCxRQUFTaEgsS0FBS2dhLGdCQUlwRWhqQixFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBSytJLE1BQU0sUUFDZ0IsSUFBNUJ0SSxLQUFLSSxNQUFNdzFDLGNBRVI1K0MsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUs0RixPQUFTbE0sV0FBWSxTQUFVWCxRQUFTLFNBQ3pDOUQsRUFBQW5DLFFBQUFrTixjQUFDMUssRUFBQXhDLFNBQVk2UixVQUFXbkYsRUFBUSsyQyxjQUM3QnQ0QyxLQUFLSSxNQUFNbTVDLFdBQWF2aUQsRUFBQW5DLFFBQUFrTixjQUFBLGlCQUQzQixZQUlBL0ssRUFBQW5DLFFBQUFrTixjQUFDMUssRUFBQXhDLFNBQVc4UyxPQUFTbWEsV0FBWSxRQUFVcGIsVUFBV25GLEVBQVErMkMsWUFBYXR4QyxRQUFTaEgsS0FBS3ZKLE1BQU1veEMsY0FBZ0I3bkMsS0FBS0ksTUFBTXcxQyxhQUFlLFlBQWM1MUMsS0FBS0ksTUFBTXcxQyxhQUFlLEVBQUksSUFBTSxLQUMxTDUxQyxLQUFLSSxNQUFNdTFDLGVBQWlCMytDLEVBQUFuQyxRQUFBa04sY0FBQzYxQyxFQUFBL2lELFNBQU02UixVQUFXbkYsRUFBUWczQyxnQkFNdkV2aEQsRUFBQW5DLFFBQUFrTixjQUFDMnFDLEVBQUE3M0MsU0FBYXVsRCxXQUFZQSxFQUN0QnZ6QyxLQUFNN0csS0FBS0ksTUFBTXE1QyxlQUNqQjF5QyxRQUFTL0csS0FBS3E3QyxzQkFBdUJ2L0MsTUF6ZmxDLDZGQXlmeUQwNEMsU0FFdkR4OUMsRUFBQW5DLFFBQUFrTixjQUFDbXFDLEVBQUFyM0MsU0FBT21TLFFBQVNoSCxLQUFLczdDLHlCQUEwQm4vQyxNQUFNLGFBQXRELFlBR0RuRixFQUFBbkMsUUFBQWtOLGNBQUNtcUMsRUFBQXIzQyxTQUFPbVMsUUFBU2hILEtBQUt1N0Msc0JBQXVCcC9DLE1BQU0sVUFBVXVuQixXQUFBLEdBQTdELFlBSVIxc0IsRUFBQW5DLFFBQUFrTixjQUFDMnFDLEVBQUE3M0MsU0FBYXVsRCxXQUFZQSxFQUN0QnZ6QyxLQUFNN0csS0FBS0ksTUFBTXM1QyxrQkFDakIzeUMsUUFBUy9HLEtBQUt3N0MsbUJBQW9CMS9DLE1BbmdCL0Isd0VBbWdCc0QwNEMsU0FFcER4OUMsRUFBQW5DLFFBQUFrTixjQUFDbXFDLEVBQUFyM0MsU0FBT21TLFFBQVNoSCxLQUFLdzdDLG1CQUFvQnIvQyxNQUFNLFlBQVl1bkIsV0FBQSxHQUE1RCxTQUlUMXNCLEVBQUFuQyxRQUFBa04sY0FBQzJxQyxFQUFBNzNDLFNBQWF1bEQsV0FBWUEsRUFDdEJ2ekMsS0FBTTdHLEtBQUtJLE1BQU02NUMsd0JBQ2pCbHpDLFFBQVMvRyxLQUFLeTdDLHlCQUEwQjMvQyxNQUFPa0UsS0FBS0ksTUFBTTQ1QywyQkFBNEJ4RixTQUVqRng5QyxFQUFBbkMsUUFBQWtOLGNBQUNtcUMsRUFBQXIzQyxTQUFPbVMsUUFBU2hILEtBQUt5N0MseUJBQTBCdC9DLE1BQU0sWUFBWXVuQixXQUFBLEdBQWxFLFNBSVQxc0IsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEVBQUdPLEdBQUksRUFBR0QsR0FBSSxJQUVwQi9ILEtBQUtJLE1BQU13NUMsUUFDWjVpRCxFQUFBbkMsUUFBQWtOLGNBQUEsV0FDSS9LLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBbVYsY0FBYWp6QyxPQUFTeEwsTUFBTyxVQUFXUSxRQUFTLHFCQUF1QnFLLFFBQVNoSCxLQUFLMDdDLDBCQUN2RjFrRCxFQUFBbkMsUUFBQWtOLGNBQUMwakMsRUFBQXFWLG9CQUNHbnpDLE9BQVN4TCxNQUFPLFdBQ2hCdUssVUFBVzFHLEtBQUsyN0Msb0JBQXNCLEdBQUtwNkMsRUFBUWkzQyxlQUNuRHh4QyxRQUFTaEgsS0FBSzI3QyxvQkFBc0IzN0MsS0FBSzQ3QyxRQUFVbE8seUJYcy9SeEV1SSxHV3A2U09sc0MsYVh1NlNkbzNCLEdBQW1CLFdBQ25CLEdBQUk0QixHQUFTL2lDLElBRWJBLE1XMzRTQXU2Qyw0QkFBOEIsU0FBQ3Y5QixHQUUzQitsQixFQUFLemlDLFVBQ0R3NUMscUJBQXNCOThCLEVBQU14bUIsT0FBT3hCLE1BQTJDLElBQWxDLEdBQUtnb0IsRUFBTXhtQixPQUFPeEIsTUFBTTJCLFFBQWUsR0FDbkYrSSxPQUFRc2QsRUFBTXhtQixPQUFPeEIsTUFDckI2bUQsZ0JBQWlCNytCLEVBQU14bUIsT0FBT3hCLE1BQzlCa2xELGlCQUFpQixHQUNsQixXQUNNblgsRUFBSzNpQyxNQUFNVixRQUNacWpDLEVBQUt6aUMsVUFBVzQ1QyxpQkFBaUIsT1hnNVM3Q2w2QyxLV3ozU0E4N0Msc0JBQXdCLFNBQUN6NEMsR0FDckIwL0IsRUFBS3ppQyxVQUNEMjVDLHlCQUF5QixFQUN6QkQsMkJBQTRCMzJDLEtYNjNTcENyRCxLV3ozU0F5N0MseUJBQTJCLFdBQ3ZCMVksRUFBS3ppQyxVQUFXMjVDLHlCQUF5QixLWDQzUzdDajZDLEtXejNTQTRpQyxjQUFnQixXQUNaRyxFQUFLemlDLFVBQVd1aEMsY0FBYyxLWDQzU2xDN2hDLEtXejNTQSs3QyxnQkFBa0IsV0FFZCxHQUFJcjhDLEdBQVNxakMsRUFBSzNpQyxNQUFNVixNQUV4QixPQUFJczhDLFFBQU90OEMsR0FBVSxHQUNqQnFqQyxFQUFLK1ksc0JBQXNCLDZCQUNwQixNQUdOLEVBQUEvaEQsRUFBQWtpRCxhQUFZbFosRUFBSzNpQyxNQUFNK2lCLGdCQUN4QjRmLEVBQUsrWSxzQkFBc0IsNERBQ3BCLElYKzNTZjk3QyxLV3ozU0EyN0Msa0JBQW9CLFdBQ2hCLE9BQVM1WSxFQUFLM2lDLE1BQU04NUMsa0JBQ2ZuWCxFQUFLM2lDLE1BQU11MUMsZ0JBQWlCLEVBQUE1N0MsRUFBQWtpRCxhQUFZbFosRUFBSzNpQyxNQUFNK2lCLGVYMjNTNURuakIsS1d4M1NBNDdDLFFBQVUsV0FFTixHQUFLN1ksRUFBS2daLGtCQUFWLENBR0FqNEMsUUFBUUMsSUFBSU8sRUFDWixJQUFJQSxHQUE4QyxPQUFsQ3krQixFQUFLdHNDLE1BQU1vOEMsV0FBVzl2QyxRQUFvQmdnQyxFQUFLdHNDLE1BQU1vOEMsV0FBVzl2QyxRQUFRa0IsR0FBSyxLQUN6Rmk0QyxFQUFjblosRUFBS3RzQyxNQUFNbzhDLFdBQVdzSixjQUNwQy8yQyxFQUFXMjlCLEVBQUt0c0MsTUFBTWkvQyxnQkFBZ0I5bEMsSUFBSSxTQUFBMHpCLEdBQzFDLEdBQUk4WSxLQUVKLE9BREFBLEdBQVdDLGVBQWlCL1ksRUFBUXIvQixHQUM3Qm00QyxHQUlYLElBQUlyWixFQUFLM2lDLE1BQU11MUMsY0FFWCxXQURBNVMsR0FBS3ppQyxVQUFXbzVDLG1CQUFtQixHQUl2QzNXLEdBQUt6aUMsVUFBV3k1Qyx1QkFBdUIsRUFBTVIsV0FBVyxFQUFPeitCLFVBQVUsR0FDekUsSUFBSXdoQyxJQUNBQyxnQkFBaUJ4WixFQUFLM2lDLE1BQU1WLE9BQzVCODhDLGFBQ0l2NEMsR0FBSUssRUFDSjQzQyxZQUFhQSxHQUVqQk8sY0FBZSxHQUFJejNDLE1BQUsrOUIsRUFBSzNpQyxNQUFNK2lCLGNBQ25DdTVCLFlBQWEsR0FBSTEzQyxNQUNqQjIzQyxTQUFVLElBQ1Y5WSxXQUFZZCxFQUFLdHNDLE1BQU1tSixTQUFTcUUsR0FDaEMyNEMsUUFBU3gzQyxFQUdiNitCLFdBQU1DLEtBQVFDLFVBQU9DLE9BQXJCLGFBQXdDckIsRUFBS3RzQyxNQUFNbUosU0FBU3FFLEdBQTVELE9BQXNFcTRDLEdBQ2pFalksS0FBSyxTQUFBQyxHQUNGdkIsRUFBS1csd0JBQXdCLFdBQzdCWCxFQUFLemlDLFVBQVd1NUMsa0JBQW1COVcsRUFBSzhaLHFCQUF1QixXQUMzRDlaLEVBQUt6aUMsVUFBV3k1Qyx1QkFBdUIsR0FBUyxXQUM1Q2hYLEVBQUt6aUMsVUFBV3M1QyxRQUFRLE9BS2hDLElBQUlrRCxHQUFnQi9aLEVBQUtnYSx1QkFDekJoYSxHQUFLdHNDLE1BQU1tZ0QsZUFDWDdULEVBQUt0c0MsTUFBTWc4QyxvQkFBb0JxSyxHQUMvQi9aLEVBQUtvWCxrQkFFUjVWLE1BQU0sU0FBQWxyQixHQUNIMHBCLEVBQUtXLHdCQUF3QixTQUM3QlgsRUFBS3ppQyxVQUFXeTVDLHVCQUF1QixFQUFPSCxRQUFRLFFYdzNTbEU1NUMsS1dwM1NBKzhDLHNCQUF3QixXQUVwQixHQUFJbkgsR0FBZTdTLEVBQUszaUMsTUFBTXcxQyxhQUMxQnhuQyxFQUFPMjBCLEVBQUszaUMsTUFBTStpQixhQUNsQjY1QixHQUFnQixFQUFBbEYsRUFBQXZwQyxRQUFPSCxFQUFNLGFBTWpDLE9BSnVCNHBDLElBQVk5Z0IsUUFBUSxXQUFZLEtBQU0sRUFBQW45QixFQUFBa2pELDBCQUF5QmxhLEVBQUszaUMsTUFBTVYsU0FDNUZ3M0IsUUFBUSxTQUFVOGxCLEdBQ2xCOWxCLFFBQVEsYUFBZ0MsSUFBakIwZSxFQUFzQixHQUFzQixJQUFqQkEsRUFBcUIsT0FBU0EsRUFBZSxXQUFhLE9BQVNBLEVBQWUsY1h1M1M3STUxQyxLV2wzU0EwakMsd0JBQTBCLFNBQUFyZ0MsR0FDdEIwL0IsRUFBS3RzQyxNQUFNdThDLHFCQUFxQjN2QyxJWHEzU3BDckQsS1dsM1NBNjZDLHFCQUF1QixXQUNuQixHQUFNcUMsR0FBZW5hLEVBQUszaUMsTUFDcEIrOEMsR0FBd0IsRUFBQS9YLEVBQUFnWSx5QkFBd0JyYSxFQUFLM2lDLE1BQU1WLFFBQVEvSSxNQUN6RW9zQyxHQUFLemlDLFVBRUdaLE9BQVF3OUMsRUFBYTFELFdBQ3JCMStCLFVBQVUsRUFDVnkrQixXQUFXLEVBQ1hPLHFCQUE4QyxJQUF4QnFELElBRTlCOVMsU0FBU0MsZUFBZSx3QkFBMEJ2SCxFQUFLM2lDLE1BQU11NUMsVUFBVXpJLFFYbzNTM0VseEMsS1dqM1NBZ2EsV0FBYSxTQUFBUixHQUNUdXBCLEVBQUttWSxPQUFPcjBDLEtBQUsyUyxJWG8zU3JCeFosS1dqM1NBbTZDLGNBQWdCLFdBRVosR0FBSXZFLEdBQWU3UyxFQUFLM2lDLE1BQU13MUMsYUFDMUJvSCxHQUFnQixFQUFBampELEVBQUFzakQsd0JBQXVCLEdBQUlyNEMsTUFBSys5QixFQUFLM2lDLE1BQU0raUIsY0FBZSxVQUMxRWd3QixFQUFpQjhFLEdBQWtCL2dCLFFBQVEsV0FBWTZMLEVBQUszaUMsTUFBTVYsT0FBU3FqQyxFQUFLM2lDLE1BQU1WLE9BQVMscUJBQzlGdzNCLFFBQVEsU0FBVThsQixHQUNsQjlsQixRQUFRLGFBQWdDLElBQWpCMGUsRUFBc0IsZUFDekIsSUFBakJBLEVBQXFCQSxFQUFlLFdBQWFBLEVBQWUsWUFDeEU3UyxHQUFLdHNDLE1BQU15OEMsc0JBQXNCQyxJWGkzU3JDbnpDLEtXNzJTQSs2Qyx3QkFBMEIsV0FFdEIsR0FBTW9DLElBQXdCLEVBQUEvWCxFQUFBZ1kseUJBQXdCcmEsRUFBSzNpQyxNQUFNVixRQUFRL0ksTUFDekVvc0MsR0FBS3ppQyxVQUVHazVDLFdBQVl6VyxFQUFLM2lDLE1BQU1WLE9BQ3ZCb2IsVUFBVSxFQUNWeStCLFdBQVcsRUFDWE8scUJBQThDLElBQXhCcUQsR0FFMUIsV0FBUXBhLEVBQUtvWCxrQkFFakI5UCxTQUFTQyxlQUFlLHdCQUEwQnZILEVBQUszaUMsTUFBTXU1QyxVQUFVekksUVgrMlMzRWx4QyxLVzUyU0EwN0Msd0JBQTBCLFdBQ3RCM1ksRUFBS3ppQyxVQUFXbTVDLGdCQUFnQixLWCsyU3BDejVDLEtXNTJTQXM3Qyx5QkFBMkIsV0FDdkJ2WSxFQUFLemlDLFVBQVdtNUMsZ0JBQWdCLEtYKzJTcEN6NUMsS1c1MlNBdTdDLHNCQUF3QixXQUVwQnhZLEVBQUt6aUMsVUFBV201QyxnQkFBZ0IsR0FBUyxXQUNyQzFXLEVBQUt0c0MsTUFBTW8zQyxhQUFhOUssRUFBSzNpQyxNQUFNdTVDLGFYZzNTM0MzNUMsS1czMlNBdzdDLG1CQUFxQixXQUNqQnpZLEVBQUt6aUMsVUFBV281QyxtQkFBbUIsS1g4MlN2QzE1QyxLVzMyU0EyNkMsY0FBZ0IsU0FBQ25oQyxHQUNidXBCLEVBQUt6aUMsVUFBV3dhLFVBQVUsRUFBT3krQixXQUFXLEdBQVEsV0FDaERsUCxTQUFTQyxlQUFlLHdCQUEwQnZILEVBQUszaUMsTUFBTXU1QyxVQUFVMUksV1grMlMvRWp4QyxLVzEyU0FtN0MsaUJBQW1CLFNBQUEvc0MsR0FDZjIwQixFQUFLemlDLFVBQVc2aUIsYUFBYy9VLEdBQVEsV0FBUTIwQixFQUFLb1gsbUJYKzJTdkRuNkMsS1c1MlNBNjhDLGtCQUFvQixXQUNoQixHQUFJNTRDLEdBQUssb0JBQXNCOCtCLEVBQUszaUMsTUFBTXU1QyxRQUMxQyxPQUFPdFAsVUFBU0MsZUFBZXJtQyxHQUFJalAsT1grMlN2Q2dMLEtXNTJTQXk2Qyx1QkFBeUIsU0FBQ2hrRCxHQUFVLEdBQ3hCaWhCLEdBQWlDamhCLEVBQWpDaWhCLFNBQVVoQixFQUF1QmpnQixFQUF2QmlnQixTQUFhK0QsRUFEQ3M4QixFQUNTdGdELEdBRFQsdUJBR2hDLE9BQ0lPLEdBQUFuQyxRQUFBa04sY0FBQ20xQyxFQUFBcmlELFFBQUQrOUIsS0FDUW5ZLEdBQ0p5YSxZQUFheGQsRUFDYm9kLGNBQWUsU0FBQXFpQixHQUNYemdDLEdBQ0lsZ0IsUUFDSXhCLE1BQU9taUQsRUFBT25pRCxVQUkxQnVaLE9BQVEsU0FBQyt1QyxHQUFELE9BQVUsRUFBQWxZLEVBQUFnWSx5QkFBd0JyYSxFQUFLM2lDLE1BQU1WLE9BQVEsTUFDN0RxMEIsYUFBYyxFQUNkYSxlQUFlLE1Ba00vQnFpQixHQUFtQnpqQixXQUNmOWIsU0FBVStzQixVQUFVblEsS0FBS3FRLFdBQ3pCanVCLFNBQVUrdEIsVUFBVW5RLEtBQUtxUSxZQUc3QnNSLEdBQUl6aUIsV0FDQWp5QixRQUFTa2pDLFVBQVVDLE9BQU9DLFdBRzlCLElBQU1uNkIsS0FBZ0IsRUFBQWxRLEVBQUF6RixTQUFjOEYsR0FBTzhQLFVYdXNTM0NqVyxHQUFRSyxTV3RzU08sRUFBQW9DLEVBQUEwVCxZQUFXSCxJQUFpQkksV0FBVyxJQUFRcXJDLEtYMHNTeERzSCxLQUNBLFNBQVVocEQsRUFBUXVXLEVBQXFCclcsR0FFN0MsWVl0eFRPLFNBQUErb0QsR0FBQXpzQyxFQUFBMHNDLEdBRVAsUUFBQUMsS0FBbUIxOUMsS0FBQTdKLFlBQUE0YSxFQURuQjRzQyxFQUFBNXNDLEVBQUEwc0MsR0FFQTFzQyxFQUFBOWEsVUFBQSxPQUFBd25ELEVBQUF4b0QsT0FBQWlCLE9BQUF1bkQsSUFBQUMsRUFBQXpuRCxVQUFBd25ELEVBQUF4bkQsVUFBQSxHQUFBeW5ELElBY08sUUFBQUUsR0FBQUMsRUFBQXJrQyxHQUNQLEdBQUFza0MsS0FDQSxRQUFBenFCLEtBQUF3cUIsR0FBQTVvRCxPQUFBZ0IsVUFBQTg4QixlQUFBbjlCLEtBQUFpb0QsRUFBQXhxQixJQUFBN1osRUFBQThkLFFBQUFqRSxHQUFBLElBQ0F5cUIsRUFBQXpxQixHQUFBd3FCLEVBQUF4cUIsR0FDQSxVQUFBd3FCLEdBQUEsa0JBQUE1b0QsUUFBQThvRCxzQkFDQSxPQUFBcm5ELEdBQUEsRUFBQTI4QixFQUFBcCtCLE9BQUE4b0Qsc0JBQUFGLEdBQTREbm5ELEVBQUEyOEIsRUFBQTE4QixPQUFjRCxJQUFBOGlCLEVBQUE4ZCxRQUFBakUsRUFBQTM4QixJQUFBLElBQzFFb25ELEVBQUF6cUIsRUFBQTM4QixJQUFBbW5ELEVBQUF4cUIsRUFBQTM4QixJQUNBLE9BQUFvbkQsR0EvQ0FoekMsRUFBQSxFQUFBMHlDLEVBQUEvb0QsRUFBQXNjLEVBQUFqRyxFQUFBLHFCQUFBa3pDLEtBQUFsekMsRUFBQSxFQUFBOHlDOzs7Ozs7Ozs7Ozs7OztBQWdCQSxHQUFBRCxHQUFBLFNBQUE1c0MsRUFBQTBzQyxHQUlBLE9BSEFFLEVBQUExb0QsT0FBQW1CLGlCQUNVQyx1QkFBZ0JxMUMsUUFBQSxTQUFBMzZCLEVBQUEwc0MsR0FBc0Mxc0MsRUFBQTFhLFVBQUFvbkQsSUFDaEUsU0FBQTFzQyxFQUFBMHNDLEdBQXlCLE9BQUFwcUIsS0FBQW9xQixLQUFBMXFCLGVBQUFNLEtBQUF0aUIsRUFBQXNpQixHQUFBb3FCLEVBQUFwcUIsTUFDekJ0aUIsRUFBQTBzQyxJQVNPTyxFQUFBLFdBUVAsTUFQQUEsR0FBQS9vRCxPQUFBNDlCLFFBQUEsU0FBQWlyQixHQUNBLE9BQUFELEdBQUFubkQsRUFBQSxFQUFBcWIsRUFBQW1ELFVBQUF2ZSxPQUFnREQsRUFBQXFiLEVBQU9yYixJQUFBLENBQ3ZEbW5ELEVBQUEzb0MsVUFBQXhlLEVBQ0EsUUFBQTI4QixLQUFBd3FCLEdBQUE1b0QsT0FBQWdCLFVBQUE4OEIsZUFBQW45QixLQUFBaW9ELEVBQUF4cUIsS0FBQXlxQixFQUFBenFCLEdBQUF3cUIsRUFBQXhxQixJQUVBLE1BQUF5cUIsSUFFQUUsRUFBQS9vQyxNQUFBalYsS0FBQWtWLGFaMDlUTStvQyxLQUNBLFNBQVUxcEQsRUFBUUMsRUFBU0MsSWFoZ1VqQyxTQUFBK2tCLEVBQUFza0MsR0FBZ0V2cEQsRUFBQUMsUUFBQXNwRCxFQUFrQnJwRCxFQUFRLEtBQWtLdUwsRUFBQSxTQUFBd1osR0FBa0IsZ0JBQUFBLEdBQW1CLFFBQUFza0MsR0FBQS9yQyxHQUFjLEdBQUFtc0MsRUFBQW5zQyxHQUFBLE1BQUFtc0MsR0FBQW5zQyxHQUFBdmQsT0FBNEIsSUFBQTIrQixHQUFBK3FCLEVBQUFuc0MsSUFBWXZkLFdBQVV5UCxHQUFBOE4sRUFBQW9zQyxRQUFBLEVBQWlCLE9BQUEza0MsR0FBQXpILEdBQUFuYyxLQUFBdTlCLEVBQUEzK0IsUUFBQTIrQixJQUFBMytCLFFBQUFzcEQsR0FBQTNxQixFQUFBZ3JCLFFBQUEsRUFBQWhyQixFQUFBMytCLFFBQWdFLEdBQUEwcEQsS0FBUyxPQUFBSixHQUFBTSxFQUFBNWtDLEVBQUFza0MsRUFBQU8sRUFBQUgsRUFBQUosRUFBQXpxQixFQUFBLEdBQUF5cUIsRUFBQSxLQUErQixTQUFBdGtDLEVBQUFza0MsRUFBQUksR0FBa0IsWUFBYSxTQUFBbnNDLEdBQUF5SCxHQUFjLE1BQUFBLE1BQUE1a0IsV0FBQTRrQixHQUEwQjNrQixRQUFBMmtCLEdBQVcsUUFBQTJaLEdBQUEzWixFQUFBc2tDLEdBQWdCLEdBQUFJLEtBQVMsUUFBQW5zQyxLQUFBeUgsR0FBQXNrQyxFQUFBeG1CLFFBQUF2bEIsSUFBQSxHQUFBOWMsT0FBQWdCLFVBQUE4OEIsZUFBQW45QixLQUFBNGpCLEVBQUF6SCxLQUFBbXNDLEVBQUFuc0MsR0FBQXlILEVBQUF6SCxHQUF1RixPQUFBbXNDLEdBQVMsUUFBQXhuRCxHQUFBOGlCLEVBQUFza0MsR0FBZ0IsS0FBQXRrQyxZQUFBc2tDLElBQUEsU0FBQXJvRCxXQUFBLHFDQUE4RSxRQUFBcWlCLEdBQUEwQixFQUFBc2tDLEdBQWdCLElBQUF0a0MsRUFBQSxTQUFBM2pCLGdCQUFBLDREQUE0RixRQUFBaW9ELEdBQUEsZ0JBQUFBLElBQUEsa0JBQUFBLEdBQUF0a0MsRUFBQXNrQyxFQUF1RCxRQUFBUSxHQUFBOWtDLEVBQUFza0MsR0FBZ0IscUJBQUFBLElBQUEsT0FBQUEsRUFBQSxTQUFBcm9ELFdBQUEsaUVBQUFxb0QsR0FBMkh0a0MsR0FBQXZqQixVQUFBaEIsT0FBQWlCLE9BQUE0bkQsS0FBQTduRCxXQUEwQ0UsYUFBYW5CLE1BQUF3a0IsRUFBQXJrQixZQUFBLEVBQUFFLFVBQUEsRUFBQUQsY0FBQSxLQUFtRDBvRCxJQUFBN29ELE9BQUFtQixlQUFBbkIsT0FBQW1CLGVBQUFvakIsRUFBQXNrQyxHQUFBdGtDLEVBQUFuakIsVUFBQXluRCxHQUFzRTdvRCxPQUFBQyxlQUFBNG9ELEVBQUEsY0FBc0M5b0QsT0FBQSxJQUFTOG9ELEVBQUFTLGtCQUFBLEVBQXlCLElBQUFDLEdBQUF2cEQsT0FBQTQ5QixRQUFBLFNBQUFyWixHQUFpQyxPQUFBc2tDLEdBQUEsRUFBWUEsRUFBQTVvQyxVQUFBdmUsT0FBbUJtbkQsSUFBQSxDQUFLLEdBQUFJLEdBQUFocEMsVUFBQTRvQyxFQUFtQixRQUFBL3JDLEtBQUFtc0MsR0FBQWpwRCxPQUFBZ0IsVUFBQTg4QixlQUFBbjlCLEtBQUFzb0QsRUFBQW5zQyxLQUFBeUgsRUFBQXpILEdBQUFtc0MsRUFBQW5zQyxJQUFzRSxNQUFBeUgsSUFBU3FrQyxFQUFBLFdBQWMsUUFBQXJrQyxLQUFBc2tDLEdBQWdCLE9BQUFJLEdBQUEsRUFBWUEsRUFBQUosRUFBQW5uRCxPQUFXdW5ELElBQUEsQ0FBSyxHQUFBbnNDLEdBQUErckMsRUFBQUksRUFBV25zQyxHQUFBNWMsV0FBQTRjLEVBQUE1YyxhQUFBLEVBQUE0YyxFQUFBM2MsY0FBQSxXQUFBMmMsT0FBQTFjLFVBQUEsR0FBQUosT0FBQUMsZUFBQXNrQixFQUFBekgsRUFBQWhkLElBQUFnZCxJQUErRyxnQkFBQStyQyxFQUFBSSxFQUFBbnNDLEdBQXVCLE1BQUFtc0MsSUFBQTFrQyxFQUFBc2tDLEVBQUE3bkQsVUFBQWlvRCxHQUFBbnNDLEdBQUF5SCxFQUFBc2tDLEVBQUEvckMsR0FBQStyQyxNQUF3Q3J3QixFQUFBeXdCLEVBQUEsRUFBVWpwRCxRQUFBQyxlQUFBNG9ELEVBQUEsaUJBQXlDM29ELFlBQUEsRUFBQXF3QixJQUFBLFdBQTZCLE1BQUF6VCxHQUFBMGIsR0FBQTU0QixVQUF1QixJQUFBd3BELEdBQUFILEVBQUEsSUFBQTdxQixFQUFBdGhCLEVBQUFzc0MsR0FBQXR0QyxFQUFBbXRDLEVBQUEsR0FBQU8sRUFBQTFzQyxFQUFBaEIsR0FBQTJ0QyxFQUFBUixFQUFBLEdBQUFsM0IsRUFBQWpWLEVBQUEyc0MsR0FBQU4sRUFBQSxTQUFBNWtDLEdBQTZELFFBQUFza0MsS0FBYSxHQUFBdGtDLEVBQU05aUIsR0FBQXNKLEtBQUE4OUMsRUFBVSxRQUFBSSxHQUFBaHBDLFVBQUF2ZSxPQUFBb2IsRUFBQTI1QixNQUFBd1MsR0FBQS9xQixFQUFBLEVBQTBDQSxFQUFBK3FCLEVBQUkvcUIsSUFBQXBoQixFQUFBb2hCLEdBQUFqZSxVQUFBaWUsRUFBc0IsSUFBQW1yQixHQUFBeG1DLEVBQUE5WCxNQUFBd1osRUFBQXNrQyxFQUFBem5ELFdBQUFwQixPQUFBaUwsZUFBQTQ5QyxJQUFBbG9ELEtBQUFxZixNQUFBdUUsR0FBQXhaLE1BQUF1M0IsT0FBQXhsQixJQUF1RixPQUFBdXNDLEdBQUExa0MsT0FBQTBrQyxFQUFBMWtDLE9BQUFrYyxLQUFBd29CLEtBQUE1bkMsU0FBQTRuQyxFQUFBNW5DLFNBQUFvZixLQUFBd29CLEtBQWlFLE1BQUFBLEdBQUFSLEVBQUF0a0MsR0FBQXFrQyxFQUFBQyxJQUFvQi9vRCxJQUFBLGVBQUFDLE1BQUEsV0FBb0MsR0FBQXdrQixHQUFBeFosS0FBQXZKLE1BQUFxbkQsRUFBQTk5QyxLQUFBdkosTUFBQXpCLEtBQW9DZ0wsTUFBQTIrQyxzQkFBQSxFQUFBMzNCLEVBQUFueUIsU0FBQTJwRCxHQUEyQ0ksYUFBQTUrQyxLQUFBNCtDLGNBQStCcGxDLElBQUF4WixLQUFBMitDLHFCQUFBRSxPQUFBZixNQUE0Qy9vRCxJQUFBLG9CQUFBQyxNQUFBLFdBQXlDZ0wsS0FBQTgrQyxrQkFBdUIvcEQsSUFBQSxxQkFBQUMsTUFBQSxXQUEwQ2dMLEtBQUE4K0Msa0JBQXVCL3BELElBQUEsU0FBQUMsTUFBQSxXQUFnQyxHQUFBOG9ELEdBQUE5OUMsS0FBQWsrQyxFQUFBbCtDLEtBQUF2SixNQUFBK2lCLEVBQUEwa0MsRUFBQTNvQyxPQUFBeEQsRUFBQW9oQixFQUFBK3FCLEdBQUEsVUFBa1EsY0FBN01uc0MsR0FBQThGLFdBQUE5RixHQUFBZ3RDLFlBQUFodEMsR0FBQXdJLFdBQUF4SSxHQUFBaXRDLHNCQUFBanRDLEdBQUE0Rix3QkFBQTVGLEdBQUEvYyxZQUFBK2MsR0FBQTZILGFBQUE3SCxHQUFBMkUsZUFBQTNFLEdBQUFrdEMsU0FBNk16bEMsRUFBM0MsU0FBQUEsR0FBa0IsTUFBQXNrQyxHQUFBYyxhQUFBcGxDLEdBQXlCZ2xDLEdBQWM1a0MsT0FBQTVaLEtBQUE0WixPQUFBbEQsU0FBQTFXLEtBQUEwVyxTQUFBK2QsYUFBQXowQixLQUFBdkosTUFBQXpCLE9BQXdFK2MsT0FBUWhkLElBQUEsV0FBQUMsTUFBQSxTQUFBd2tCLEdBQWlDeFosS0FBQTIrQyxxQkFBQUUsU0FBQSxrQkFBQTcrQyxNQUFBdkosTUFBQWlnQixVQUFBMVcsS0FBQXZKLE1BQUFpZ0IsU0FBQThDLE1BQXFHemtCLElBQUEsU0FBQUMsTUFBQSxTQUFBd2tCLEdBQStCLGtCQUFBeFosTUFBQXZKLE1BQUFtakIsUUFBQTVaLEtBQUF2SixNQUFBbWpCLE9BQUFKLE9BQTREc2tDLEdBQUt6cUIsRUFBQXgrQixRQUFBa1YsVUFBc0IrekMsR0FBQWpwRCxRQUFBdXBELElBQUE1cUIsV0FBeUIzYixLQUFBNG1DLEVBQUE1cEQsUUFBQTYrQixXQUFBK3FCLEVBQUE1cEQsUUFBQSt2QyxNQUFBNlosRUFBQTVwRCxRQUFBeS9CLEtBQUFtcUIsRUFBQTVwRCxRQUFBcS9CLEtBQUF1cUIsRUFBQTVwRCxRQUFBcXFELE9BQXlGcm5DLEtBQUE0bUMsRUFBQTVwRCxRQUFBNitCLFdBQUErcUIsRUFBQTVwRCxRQUFBK3ZDLE1BQUE2WixFQUFBNXBELFFBQUF5L0IsT0FBQS9aLEtBQUFra0MsRUFBQTVwRCxRQUFBeS9CLFNBQStFcVEsV0FBQW9hLE1BQUFOLEVBQUE1cEQsUUFBQXEvQixLQUFBbC9CLE1BQUF5cEQsRUFBQTVwRCxRQUFBNitCLFdBQUErcUIsRUFBQTVwRCxRQUFBOCtCLE9BQUE4cUIsRUFBQTVwRCxRQUFBbS9CLFNBQUF6WixLQUFBa2tDLEVBQUE1cEQsUUFBQXkvQixLQUFBMHFCLGdCQUFBUCxFQUFBNXBELFFBQUE4K0IsT0FBQWhjLGtCQUFBOG1DLEVBQUE1cEQsUUFBQXEvQixLQUFBK3FCLFNBQUFSLEVBQUE1cEQsUUFBQXEvQixNQUFpTmtxQixFQUFBM29DLGNBQWlCRixPQUFBLFNBQUFpRSxFQUFBc2tDLEdBQXFCLE1BQUF6cUIsR0FBQXgrQixRQUFBa04sY0FBQSxRQUFBeThDLEdBQTBDem1DLElBQUF5QixHQUFNc2tDLE9BQU8sU0FBQXRrQyxFQUFBc2tDLEdBQWUsWUFBYTdvRCxRQUFBQyxlQUFBNG9ELEVBQUEsY0FBc0M5b0QsT0FBQSxJQUFTOG9ELEVBQUFrQixnQkFBQSxJQUFBbEIsRUFBQXFCLFlBQUEsWUFBaUQsU0FBQTNsQyxFQUFBc2tDLEVBQUFJLEdBQWlCLFlBQWEsU0FBQW5zQyxLQUFhLEdBQUF5SCxHQUFBdEUsVUFBQXZlLE9BQUEsWUFBQXVlLFVBQUEsR0FBQUEsVUFBQSxHQUFBc3BDLEVBQUFWLEVBQUE1b0MsVUFBQXZlLE9BQUEsWUFBQXVlLFVBQUEsR0FBQUEsVUFBQSxHQUFBb3BDLEVBQUFKLEVBQUFocEMsVUFBQXZlLE9BQUEsWUFBQXVlLFVBQUEsR0FBQUEsVUFBQSxLQUFzTCxRQUFBeGUsRUFBQWkxQyxTQUFBbVMsR0FBQSxDQUFzQixhQUFBQSxFQUFBLFlBQUEzcUIsRUFBQTJxQixNQUFBaG1DLEVBQUFxbkMsWUFBQSxTQUFBdnBDLE9BQUEsK0RBQTRJa29DLEtBQUF0a0MsRUFBQTBrQyxHQUFBSixHQUFBLEVBQUFwbkQsRUFBQTBvRCxtQkFBQXRCLEdBQUF1QixzQkFBNEQsR0FBQXR0QyxHQUFBbXNDLEVBQUFhLE1BQUFsQixNQUFBLEtBQUE5ckMsS0FBQTBiLEVBQUF5d0IsRUFBQW9CLHVCQUFBakIsTUFBQSxLQUFBNXdCLEVBQUErd0IsRUFBQS93QixFQUFBNEYsRUFBQTZxQixFQUFBYyxnQkFBQWp1QyxNQUFBLEtBQUFzaUIsRUFBQXZiLEVBQUFrbkMsZ0JBQUEzckIsRUFBQW9yQixFQUFBUCxFQUFBcUIsWUFBQWIsTUFBQSxLQUFBRCxHQUFBLEVBQUEvbkQsRUFBQThvRCwwQkFBQTFCLEVBQUEvc0MsR0FBQTB0QyxFQUFBejNCLEVBQUFrM0IsRUFBQW5oQixxQkFBQXFoQixFQUFBRixFQUFBdm1DLGtCQUFBOGxDLEdBQUEsSUFBQUksT0FBQSxLQUFBUSxFQUFBMW1CLEVBQUFuZSxFQUFBN2lCLE9BQUE0L0MsRUFBQThILEVBQUExbkQsT0FBQThvRCxFQUFBZixFQUFBL25ELE9BQUErb0QsRUFBQTVCLEVBQUFubkQsT0FBQWdwRCxFQUFBaG9CLEVBQUE0ZSxFQUFBcUosRUFBQUQsRUFBQSxFQUFBNTRCLEVBQUFDLEdBQUE0NEIsR0FBQUQsRUFBQSxHQUFBRSxFQUFBOTRCLEVBQUFwbUIsS0FBQW0vQyxJQUFBSCxFQUEyVixTQUFBdkIsSUFBQXdCLEVBQUEsQ0FBZSxPQUFBRyxHQUFBdkIsRUFBQXdCLEVBQUFqNUIsRUFBZ0JpNUIsRUFBQUgsRUFBSUcsSUFBQXRCLEVBQUFzQixLQUFBanZDLElBQUFndkMsR0FBQWh2QyxFQUFxQnlJLEtBQUF5bUMsTUFBQSxFQUFBbDVCLEdBQUFnNUIsRUFBQXZtQyxFQUFBeW1DLE1BQUFsNUIsRUFBQTRRLEdBQThCLE9BQUF1b0IsR0FBQTFtQyxFQUFBMmQsTUFBQXFuQixHQUFBNXVDLElBQUEsU0FBQTRKLEVBQUFza0MsR0FBdUMsT0FBT3FDLEtBQUEzbUMsRUFBQTRtQyxNQUFBdEMsR0FBQS8yQixHQUFBKzJCLEVBQUErQixLQUF3QjltQixFQUFBcEIsRUFBQSxFQUFRb0IsR0FBQSxFQUFLQSxJQUFBLENBQUssR0FBQXNuQixHQUFBSCxFQUFBbm5CLEdBQUFvbkIsSUFBZ0IsSUFBQUUsSUFBQXR2QyxFQUFBLENBQTRCc3ZDLElBQUEzQixFQUFsQjNsQixHQUFBaFMsR0FBQXd2QixJQUFBbUosRUFBa0IzbUIsRUFBQTRtQixFQUFBNW1CLElBQUFtbkIsRUFBQUksT0FBQXZuQixFQUFBLElBQStCLEdBQUF3bkIsR0FBQS9CLEVBQUFnQyxHQUFBLENBQWFobkMsR0FBQSxPQUFBaW5DLEdBQUEsRUFBY0EsRUFBQWhCLEVBQUlnQixJQUFBLENBQUssR0FBQUMsR0FBQWhDLEVBQUErQixFQUFXLElBQUFDLElBQUEzdkMsRUFBQSxDQUFVLEdBQUFtdkMsRUFBQXZwRCxPQUFBLE9BQW1CdXBELEVBQUF2cEQsT0FBQSxHQUFXLENBQUUsR0FBQWdxRCxHQUFBVCxFQUFBL1osUUFBQXlhLEVBQUFELEVBQUFSLEtBQUFVLEVBQUFGLEVBQUFQLEtBQW1DLElBQUFRLElBQUE3dkMsSUFBQSxJQUFBMHNDLEVBQUEsQ0FBa0I4QyxHQUFBeHZDLENBQUssU0FBQXlJLEdBQVcsR0FBQXNrQyxFQUFBMkMsR0FBQTlrQixLQUFBaWxCLEdBQUEsQ0FBaUIsUUFBQXhDLElBQUEsSUFBQXlDLEdBQUF4QyxJQUFBRyxJQUFBLElBQUFYLEdBQUErQixFQUFBLENBQXFDLE9BQUFrQixHQUFBWixFQUFBdnBELE9BQUFvcUQsRUFBQSxLQUFBQyxFQUFBLEVBQThCQSxFQUFBRixFQUFJRSxJQUFBLENBQUssR0FBQUMsR0FBQWYsRUFBQWMsRUFBVyxJQUFBQyxFQUFBZCxPQUFBcHZDLElBQUEsSUFBQWt3QyxFQUFBYixNQUFBLEtBQWtDLElBQUFhLEVBQUFkLE9BQUFwdkMsRUFBQSxDQUFlZ3dDLEVBQUFDLENBQUksUUFBTyxPQUFBRCxHQUFBUixHQUFBSyxFQUFBVixFQUFBSSxPQUFBUyxFQUFBLElBQUFOLFFBQWtDRixJQUFBSyxDQUFVLFNBQUFwbkMsR0FBV2duQyxHQUFBLEdBQUssSUFBQS9DLElBQUE4QyxHQUFBN0IsRUFBQW5pQixPQUFBa2tCLEVBQUFoQixHQUEyQixPQUFNYyxHQUFBRyxFQUFLLEdBQUFqRCxJQUFBLElBQUFtQyxFQUFBLENBQWMsT0FBQXNCLEdBQUEsS0FBQUMsRUFBQSxFQUFtQkEsRUFBQVosRUFBQTVwRCxPQUFXd3FELElBQUF6QyxFQUFBeUMsS0FBQXB3QyxJQUFBbXdDLEVBQUFDLEVBQW9CWixHQUFBLE9BQUFXLEVBQUFYLEVBQUFoa0IsT0FBQSxFQUFBMmtCLEVBQUEsR0FBQTFDLEVBQTZCLE9BQU80QyxlQUFBYixFQUFBYyxNQUF1QkMsa0JBQUFkLElBQXNCdnJELE9BQUFDLGVBQUE0b0QsRUFBQSxjQUFzQzlvRCxPQUFBLEdBQVcsSUFBQW0rQixHQUFBLGtCQUFBVCxTQUFBLGdCQUFBQSxRQUFBQyxTQUFBLFNBQUFuWixHQUE4RSxhQUFBQSxJQUFnQixTQUFBQSxHQUFhLE1BQUFBLElBQUEsa0JBQUFrWixTQUFBbFosRUFBQXJqQixjQUFBdThCLFFBQUFsWixJQUFBa1osT0FBQXo4QixVQUFBLGVBQUF1akIsR0FBcUdza0MsR0FBQWpwRCxRQUFBa2QsQ0FBWSxJQUFBcmIsR0FBQXduRCxFQUFBLEdBQUFwbUMsRUFBQW9tQyxFQUFBLEdBQUFJLEtBQUFFLEVBQUEsSUFBNEIsU0FBQWhsQyxFQUFBc2tDLEVBQUFJLEdBQWlCLFlBQWEsU0FBQW5zQyxLQUFhLEdBQUF5SCxHQUFBdEUsVUFBQXZlLE9BQUEsWUFBQXVlLFVBQUEsR0FBQUEsVUFBQSxHQUFBMm9DLEVBQUFDLEVBQUE1b0MsVUFBQXZlLE9BQUEsWUFBQXVlLFVBQUEsR0FBQUEsVUFBQSxHQUFBc3BDLEVBQUFRLGVBQTBJLEtBQUE3ckIsRUFBQTNaLEdBQUEsU0FBQTVELE9BQUEsMEVBQW9HLFNBQUE0RCxFQUFBOGQsUUFBQXdtQixHQUFBLFNBQUFsb0MsT0FBQSw2TUFBQSs5QixLQUFBQyxVQUFBa0ssR0FBQSxzQ0FBQW5LLEtBQUFDLFVBQUFwNkIsR0FBdVUsT0FBQUEsR0FBQTVKLElBQUEsU0FBQTRKLEdBQXlCLE1BQUFBLGFBQUFpZSxRQUFBcW1CLEVBQUF0a0MsSUFBK0I0ZCxLQUFBLElBQVcsUUFBQWpFLEdBQUEzWixHQUFjLE1BQUFreUIsT0FBQUMsU0FBQUQsTUFBQUMsUUFBQW55QixnQkFBQWt5QixPQUEyRCxRQUFBaDFDLEdBQUE4aUIsR0FBYyxzQkFBQUEsZ0JBQUErbkMsUUFBOEMsUUFBQXpwQyxHQUFBMEIsR0FBYyxzQkFBQUEsUUFBQSxLQUFBQSxFQUFBN2lCLFNBQUE4L0IsTUFBQWpkLEdBQXVELFFBQUE4a0MsR0FBQTlrQyxHQUFjLE9BQUFza0MsTUFBQUksTUFBQSxJQUFzQixLQUFBQSxFQUFBMWtDLEVBQUE4ZCxRQUFBN0osS0FBc0Jxd0IsRUFBQWorQyxLQUFBcStDLEdBQUExa0MsRUFBQThtQyxPQUFBcEMsRUFBQSxFQUF5QixRQUFPbUIsc0JBQUE3bEMsRUFBQWdvQyxRQUFBMUQsR0FBbUM3b0QsT0FBQUMsZUFBQTRvRCxFQUFBLGNBQXNDOW9ELE9BQUEsSUFBUzhvRCxFQUFBMEIseUJBQUF6dEMsRUFBQStyQyxFQUFBblMsUUFBQXhZLEVBQUEycUIsRUFBQTJELFNBQUEvcUQsRUFBQW9uRCxFQUFBNEQsU0FBQTVwQyxFQUFBZ21DLEVBQUFzQixrQkFBQWQsQ0FBMkYsSUFBQUUsR0FBQU4sRUFBQSxHQUFBTCxLQUFBcHdCLEVBQUEsTUFBdUIsU0FBQWpVLEVBQUFza0MsR0FBZSxZQUFhLFNBQUFJLEdBQUExa0MsR0FBYyxHQUFBc2tDLEdBQUF0a0MsRUFBQThsQyx1QkFBQXBCLE1BQUEsS0FBQUosRUFBQTNxQixFQUFBMnFCLEVBQUFwbkQsRUFBQThpQixFQUFBbW9DLG9CQUFBN3BDLE1BQUEsS0FBQXBoQixFQUFBeThCLEVBQUF6OEIsRUFBQTRuRCxFQUFBOWtDLEVBQUF1akIscUJBQUF5aEIsTUFBQSxLQUFBRixFQUFBLEVBQUFBLEVBQUFULEVBQUFya0MsRUFBQTRuQyxlQUFBM3pCLEVBQUFqVSxFQUFBb29DLFNBQUF2RCxFQUFBN2tDLEVBQUF3bEMsZ0JBQUEzckIsRUFBQTdaLEVBQUErbEMsWUFBQXh1QyxFQUFBeUksRUFBQXFvQyxvQkFBQXBELE1BQUEsS0FBQTF0QyxFQUFBZ0IsRUFBQWhCLEVBQUEydEMsRUFBQWxsQyxFQUFBc29DLGlCQUFBOTZCLE1BQUEsS0FBQTAzQixFQUFBM3NDLEVBQUEyc0MsQ0FBc1IsUUFBQUYsSUFBQS93QixFQUFBOTJCLE9BQUEsUUFBNkIsSUFBQXluRCxHQUFBM3dCLEVBQUE5MkIsT0FBQThtRCxFQUFBUyxFQUFBdm5ELE9BQUFnaEMsRUFBQXRFLEVBQUExOEIsT0FBQTQvQyxFQUFBc0gsRUFBQWxuRCxPQUFBOG9ELEVBQUFyQixFQUFBWCxFQUFBaUMsRUFBQUQsRUFBQSxFQUFBRSxFQUFBLElBQUFsQyxDQUFrRixJQUFsRmdDLEVBQUEsSUFBQUMsSUFBQUMsRUFBa0YsTUFBQW5CLEVBQWMsSUFBQXozQixHQUFBMjRCLElBQUF4QixJQUFBTCxPQUFBeHFCLEdBQUF3c0IsRUFBQSxFQUFBRSxNQUFBLEdBQUFDLE1BQUEsRUFBOEMsSUFBQWo1QixFQUFBODRCLEVBQUFyQixFQUFBaUIsTUFBVyxDQUFLLEdBQUFTLEdBQUFyQyxFQUFBa0UsY0FBQWhwQixFQUFBdEwsRUFBQXMwQixjQUFBMUIsRUFBQXRuQixFQUFBd0QsT0FBQSxFQUFBaWlCLEdBQUFybkIsTUFBQWhFLEdBQUE2dUIsRUFBQTNCLEVBQUExN0MsT0FBQSxTQUFBNlUsR0FBd0YsV0FBQTBtQyxFQUFBNW9CLFFBQUE5ZCxJQUEyQndtQyxHQUFBZ0MsSUFBQXJyRCxPQUFBLEVBQWdCLElBQUE0cEQsR0FBQXpvQyxFQUFBeWtCLE9BQUEsRUFBQXlsQixFQUFBcnJELFFBQUF3Z0MsTUFBQWhFLEdBQUF4dUIsT0FBQSxTQUFBNlUsR0FBdUQsTUFBQUEsS0FBQTZrQyxJQUFhMW5ELE9BQUE2cEQsRUFBQW50QixFQUFBa0osT0FBQSxFQUFBeWxCLEVBQUFyckQsUUFBQXdnQyxNQUFBaEUsR0FBQXh1QixPQUFBLFNBQUE2VSxHQUE0RCxNQUFBQSxLQUFBNmtDLElBQWExbkQsT0FBQThwRCxFQUFBRCxJQUFBRCxFQUFBRyxNQUFBLEtBQUE1b0MsRUFBQWtxQyxFQUFBcnJELE9BQUEsYUFBQTA4QixFQUFBMnVCLEVBQUFyckQsT0FBQSxJQUFBbWhCLEVBQUFrcUMsRUFBQXJyRCxPQUFBLEtBQUEwbkQsR0FBQXZtQyxFQUFBa3FDLEVBQUFyckQsT0FBQSxLQUFBMDhCLEVBQUEydUIsRUFBQXJyRCxPQUFBLElBQUFtaEIsRUFBQWtxQyxFQUFBcnJELE9BQUEsS0FBQTA4QixFQUFBMnVCLEVBQUFyckQsT0FBQSxJQUFtSitvRCxJQUFBZSxHQUFBQyxJQUFBSCxFQUFBLEdBQUFsdEIsRUFBQWlFLFFBQUEwb0IsSUFBQSxZQUFBdnlCLEVBQUErd0IsS0FBQXVCLEdBQUEsRUFBQUMsRUFBQXZ5QixFQUFBK3dCLEdBQStELFFBQUFtQyxHQUFBbEMsRUFBQTd1QyxJQUFBLFNBQUE0SixHQUE0QixNQUFBMG1DLEdBQUExbUMsS0FBWW9uQyxFQUFBRCxFQUFBaDhDLE9BQUEsU0FBQTZVLEdBQXlCLE1BQUFBLEtBQUF3bUMsSUFBYXJwRCxPQUFBa3FELEVBQUFtQixFQUFBcjlDLE9BQUEsU0FBQTZVLEdBQWdDLE1BQUFBLEtBQUF3bUMsSUFBYXJwRCxPQUFBbXFELEVBQUF6dEIsRUFBQWtKLE9BQUEsRUFBQWxKLEVBQUFpRSxRQUFBK21CLElBQUFsbkIsTUFBQWhFLEdBQUF4dUIsT0FBQSxTQUFBNlUsRUFBQXNrQyxHQUFrRSxNQUFBdGtDLEtBQUF3bUMsR0FBQXZ5QixFQUFBcXdCLEtBQUF0a0MsSUFBdUI3aUIsT0FBQW9xRCxFQUFBRCxFQUFBRCxFQUFBRCxHQUFBYixFQUFBLEtBQUFpQixFQUFBLEVBQUFDLEVBQUEsRUFBaUNBLEVBQUExSyxFQUFJMEssSUFBQSxDQUFLLEdBQUFDLEdBQUFoQixFQUFBZSxFQUFXLElBQUFwQixFQUFBb0IsRUFBQSxFQUFBQyxJQUFBbEIsR0FBQWdCLE9BQUFELEVBQUEsT0FBZ0MsR0FBQXJCLEdBQU0sT0FBQXlCLEdBQUF0QixFQUFBb0MsRUFBQXBDLEVBQWdCb0MsR0FBQXRxQixFQUFLc3FCLElBQUEsR0FBQTV1QixFQUFBNHVCLEtBQUE1RCxJQUFBOEMsRUFBQWMsR0FBQTV1QixFQUFBNHVCLEtBQUE1RCxJQUFBLElBQUFyM0IsRUFBQXNRLFFBQUEycUIsUUFBQXRxQixFQUFBLE1BQUF3cEIsT0FBbUUsSUFBQXBCLEdBQVcsT0FBQW1DLEdBQUFyQyxFQUFBLEVBQWNxQyxHQUFBLEVBQUtBLElBQUEsR0FBQXJFLEVBQUFxRSxLQUFBbEMsSUFBQSxJQUFBaDVCLEVBQUFzUSxRQUFBNHFCLElBQUEsSUFBQUEsRUFBQSxNQUFBQSxPQUFtRCxRQUFBQyxHQUFBdEMsRUFBaUJzQyxHQUFBLEVBQUtBLElBQUEsR0FBQTl1QixFQUFBOHVCLEVBQUEsS0FBQTlELElBQUEsSUFBQXIzQixFQUFBc1EsUUFBQTZxQixJQUFBLElBQUFBLEVBQUEsTUFBQUEsR0FBcURsdEQsT0FBQUMsZUFBQTRvRCxFQUFBLGNBQXNDOW9ELE9BQUEsSUFBUzhvRCxFQUFBanBELFFBQUFxcEQsQ0FBYyxJQUFBbnNDLE1BQUFvaEIsRUFBQSxJQUFjLFNBQUEzWixFQUFBc2tDLEVBQUFJLEdBQWlCLFlBQWEsU0FBQW5zQyxHQUFBeUgsR0FBYyxNQUFBQSxNQUFBNWtCLFdBQUE0a0IsR0FBMEIza0IsUUFBQTJrQixHQUFXLFFBQUEyWixHQUFBM1osR0FBYyxHQUFBc2tDLElBQU93QiwyQkFBQSxHQUFBcUMsd0JBQUEsR0FBMEQsUUFBT3ZoRCxNQUFBMDlDLEVBQUFlLE9BQUEsU0FBQVgsR0FBMkIsR0FBQW5zQyxHQUFBbUQsVUFBQXZlLE9BQUEsWUFBQXVlLFVBQUEsR0FBQUEsVUFBQSxHQUFBc0UsRUFBQTJaLEVBQUFwaEIsRUFBQTZzQyxhQUFBZixFQUFBOXJDLEVBQUE4RixLQUFBd21DLEVBQUF0c0MsRUFBQWd0QyxNQUFBLzNCLEVBQUFqVixFQUFBd0ksS0FBQWtqQyxFQUFBMXJDLEVBQUFpdEMsZ0JBQUFybkIsTUFBQSxLQUFBOGxCLEVBQUFnQixFQUFBTyxnQkFBQXZCLEVBQUFsSCxFQUFBeGtDLEVBQUE0RixrQkFBQThuQyxNQUFBLEtBQUFsSixLQUFBbUosRUFBQTN0QyxFQUFBa3RDLFNBQUFVLE1BQUEsS0FBQUQsSUFBb08sYUFBQXhCLE1BQUEvcUIsRUFBQW4rQixPQUFBa3BELElBQUFKLEVBQUF3Qix1QkFBQSxNQUFvRSxLQUFBekIsRUFBQSxZQUFBVyxFQUFBWCxNQUFBTyxPQUFBLEtBQUFQLEVBQUF0akMsVUFBQSxLQUFBc2pDLEVBQUFobUMsT0FBQW1QLEVBQUE2MkIsRUFBQXRqQyxLQUFBc2pDLElBQUFobUMsS0FBb0csSUFBQStuQyxPQUFBLEdBQUE3NEIsTUFBQSxFQUFzQixJQUFBODJCLFlBQUFuUyxTQUFBa1UsR0FBQSxFQUFBN3VDLEVBQUF5dUMsMEJBQUEzQixFQUFBbG1CLEtBQUEsSUFBQWttQixFQUFBLENBQXVFLEdBQUFnQyxHQUFBL25DLEVBQUFvbUMsR0FBQTZCLEVBQUE1c0IsRUFBQTBDLGFBQUFtcUIsRUFBQWxDLEVBQUF3Qix1QkFBQVksRUFBQXBDLEVBQUE2RCxvQkFBQTVvQixNQUFBLEVBQXdGLGNBQUE4a0IsRUFBQSxZQUFBVyxFQUFBWCxNQUFBWSxFQUFBVSxZQUFBLENBQTZELElBQTRFLEtBQTVFcDRCLEVBQUE4MkIsRUFBQWdDLEdBQVU5aUIscUJBQUFnakIsRUFBQVQsdUJBQUFVLEVBQUFoQixnQkFBQXJuQixLQUFrRSxNQUFnQixJQUFBMG9CLElBQUEsRUFBQXR2QyxFQUFBcXVDLG1CQUFBcjRCLEdBQUFpN0IsRUFBQTNCLEVBQUFoQixzQkFBQWtCLEVBQUFGLEVBQUFtQixPQUF1RXo2QixHQUFBaTdCLEVBQUFqcEIsRUFBQXduQixFQUFBWCxHQUFBLEVBQUE3dUMsRUFBQXl1QywwQkFBQXo0QixFQUFBNFEsT0FBOEM1USxHQUFBODJCLENBQVMsSUFBQTJDLElBQU9sQix1QkFBQVUsRUFBQWpCLE1BQUFWLEVBQUFXLGdCQUFBcm5CLEVBQUFwZCxLQUFBeU0sRUFBQXU0QixZQUFBSyxFQUFBN2lCLHFCQUFBZ2pCLEVBQUFwb0Msa0JBQUE4bkMsR0FBbUhnQixHQUFBLEVBQUFwdEIsRUFBQXgrQixTQUFBZ3JELEVBQUE5NEIsRUFBQXk1QixHQUFBRSxFQUFBRCxFQUFBVyxlQUFBVCxPQUFBLEtBQUEzNUIsRUFBQSxZQUFBdzNCLEVBQUF4M0IsTUFBQXkzQixFQUFBVSxZQUFBeUIsSUFBMkdELEtBQUFDLEVBQUE1NUIsRUFBQTA1QixFQUFBcEMsR0FBYXNELFNBQUEvQixHQUFXVyxLQUFBLElBQUFJLEtBQWU1ckQsTUFBQWdyRCxFQUFBb0MsVUFBQSxJQUFvQixFQUFBcnhDLEVBQUEwd0MsVUFBQWIsUUFBd0I1ckQsTUFBQTRyRCxJQUFXLElBQUFDLEdBQUFGLEVBQUFDLEVBQUE1ckQsTUFBQTByRCxFQUFBSSxHQUFBLEVBQUFyekIsRUFBQTU0QixVQUFtQ3lxRCx1QkFBQVUsRUFBQTJCLG9CQUFBekIsRUFBQWtCLGVBQUFQLEVBQUF0QixZQUFBSyxFQUFBZ0MsU0FBQS9CLEVBQUE5aUIscUJBQUFnakIsRUFBQWYsZ0JBQUFybkIsRUFBQWtxQixvQkFBQWpCLEVBQUFpQixvQkFBQUMsaUJBQUEvb0IsSUFBK0xnb0IsRUFBQUYsSUFBQWpCLEdBQUEsSUFBQWtCLEVBQUFFLEVBQUFyQixFQUFBQyxFQUFBbEIsRUFBQXVDLEVBQUFGLEVBQUFDLEVBQUFILENBQWlDL0MsR0FBQXdCLHVCQUFBMkIsRUFBQW5ELEVBQUE2RCxvQkFBQS9CLEVBQUF6c0IsRUFBQW4rQixRQUFBaXNELElBQUE5dEIsRUFBQW4rQixNQUFBaXNELEVBQUF2cUQsRUFBQXk4QixFQUFBMnRCLFFBQXVGLFFBQUFwcUQsR0FBQThpQixFQUFBc2tDLEdBQWdCelQsU0FBQWdZLGdCQUFBN29DLElBQUFpa0MsRUFBQTlsQixFQUFBLFdBQTRDLE1BQUFuZSxHQUFBOG9DLGtCQUFBeEUsSUFBQTkyQixJQUFrQyxHQUFBeE4sRUFBQThvQyxrQkFBQXhFLElBQUE5MkIsSUFBZ0MsUUFBQWxQLEdBQUEwQixHQUFjLE1BQUF6SSxFQUFBMHdDLFVBQUFqb0MsR0FBQSxNQUFBQSxFQUE4QixPQUFBekksRUFBQTJ3QyxVQUFBbG9DLEdBQUEsTUFBQStuQyxRQUFBL25DLEVBQXNDLGFBQUFBLEdBQUEsT0FBQUEsRUFBQSxNQUFBa2xDLEVBQWlDLFVBQUE5b0MsT0FBQSxtR0FBQSs5QixLQUFBQyxVQUFBcDZCLElBQXNJdmtCLE9BQUFDLGVBQUE0b0QsRUFBQSxjQUFzQzlvRCxPQUFBLEdBQVcsSUFBQXNwRCxHQUFBcnBELE9BQUE0OUIsUUFBQSxTQUFBclosR0FBaUMsT0FBQXNrQyxHQUFBLEVBQVlBLEVBQUE1b0MsVUFBQXZlLE9BQW1CbW5ELElBQUEsQ0FBSyxHQUFBSSxHQUFBaHBDLFVBQUE0b0MsRUFBbUIsUUFBQS9yQyxLQUFBbXNDLEdBQUFqcEQsT0FBQWdCLFVBQUE4OEIsZUFBQW45QixLQUFBc29ELEVBQUFuc0MsS0FBQXlILEVBQUF6SCxHQUFBbXNDLEVBQUFuc0MsSUFBc0UsTUFBQXlILElBQVNnbEMsRUFBQSxrQkFBQTlyQixTQUFBLGdCQUFBQSxRQUFBQyxTQUFBLFNBQUFuWixHQUEyRSxhQUFBQSxJQUFnQixTQUFBQSxHQUFhLE1BQUFBLElBQUEsa0JBQUFrWixTQUFBbFosRUFBQXJqQixjQUFBdThCLFFBQUFsWixJQUFBa1osT0FBQXo4QixVQUFBLGVBQUF1akIsR0FBcUdza0MsR0FBQWpwRCxRQUFBcytCLENBQVksSUFBQTBxQixHQUFBSyxFQUFBLEdBQUF6d0IsRUFBQTFiLEVBQUE4ckMsR0FBQVEsRUFBQUgsRUFBQSxHQUFBN3FCLEVBQUF0aEIsRUFBQXNzQyxHQUFBdHRDLEVBQUFtdEMsRUFBQSxHQUFBTyxFQUFBUCxFQUFBLEdBQUFRLEVBQUEsR0FBQTEzQixFQUFBLE9BQUFvM0IsRUFBQSxTQUFBWCxFQUFBLG1CQUFBOEUsWUFBQSxXQUFBNW1CLEtBQUE0bUIsVUFBQUMsV0FBQTdxQixFQUFBLG1CQUFBOHFCLDZDQUFBLzlCLFlBQTBOLFNBQUFsTCxFQUFBc2tDLEdBQWUsWUFBYSxTQUFBSSxHQUFBMWtDLEdBQWMsa0JBQWtCLE1BQUFBLElBQVUsR0FBQXpILEdBQUEsWUFBbUJBLEdBQUEyd0MsWUFBQXhFLEVBQUFuc0MsRUFBQTR3QyxpQkFBQXpFLEdBQUEsR0FBQW5zQyxFQUFBNndDLGdCQUFBMUUsR0FBQSxHQUFBbnNDLEVBQUE4d0MsZ0JBQUEzRSxFQUFBLE1BQUFuc0MsRUFBQSt3QyxnQkFBQSxXQUF3SCxNQUFBOWlELE9BQVkrUixFQUFBZ3hDLG9CQUFBLFNBQUF2cEMsR0FBbUMsTUFBQUEsSUFBU0EsRUFBQWhsQixRQUFBdWQsR0FBYSxTQUFBeUgsRUFBQXNrQyxFQUFBSSxHQUFpQixZQUFhLFNBQUFuc0MsR0FBQXlILEVBQUFza0MsRUFBQUksRUFBQW5zQyxFQUFBcmIsRUFBQW9oQixFQUFBd21DLEVBQUFFLEdBQTRCLEdBQUFyckIsRUFBQTJxQixJQUFBdGtDLEVBQUEsQ0FBWSxHQUFBcWtDLEVBQU0sYUFBQUMsRUFBQUQsRUFBQSxHQUFBam9DLE9BQUEscUlBQTJKLENBQUssR0FBQTZYLElBQUF5d0IsRUFBQW5zQyxFQUFBcmIsRUFBQW9oQixFQUFBd21DLEVBQUFFLEdBQUFILEVBQUEsQ0FBd0JSLEdBQUEsR0FBQWpvQyxPQUFBa29DLEVBQUE1bUIsUUFBQSxpQkFBdUMsTUFBQXpKLEdBQUE0d0IsUUFBY1IsRUFBQW40QyxLQUFBLHNCQUFnQyxLQUFBbTRDLEdBQUFtRixZQUFBLEVBQUFuRixHQUF5QixHQUFBMXFCLEdBQUEsU0FBQTNaLElBQW9CQSxHQUFBaGxCLFFBQUF1ZCxHQUFZLFNBQUF5SCxFQUFBc2tDLEVBQUFJLEdBQWlCLFlBQWEsSUFBQW5zQyxHQUFBbXNDLEVBQUEsR0FBQS9xQixFQUFBK3FCLEVBQUEsR0FBQXhuRCxFQUFBd25ELEVBQUEsR0FBMEIxa0MsR0FBQWhsQixRQUFBLFdBQXFCLFFBQUFnbEIsS0FBQXNrQyxFQUFBSSxFQUFBbnNDLEVBQUErRixFQUFBd21DLEdBQXdCQSxJQUFBNW5ELEdBQUF5OEIsR0FBQSxxTEFBK0wsUUFBQTJxQixLQUFhLE1BQUF0a0MsR0FBU0EsRUFBQW1yQixXQUFBbnJCLENBQWUsSUFBQTBrQyxJQUFPdFosTUFBQXByQixFQUFBMGEsS0FBQTFhLEVBQUE4YSxLQUFBOWEsRUFBQXdhLE9BQUF4YSxFQUFBa3JCLE9BQUFsckIsRUFBQW1hLE9BQUFuYSxFQUFBeXBDLE9BQUF6cEMsRUFBQTBwQyxJQUFBMXBDLEVBQUFnYixRQUFBc3BCLEVBQUFxRixRQUFBM3BDLEVBQUE0cEMsV0FBQXRGLEVBQUE3QyxLQUFBemhDLEVBQUE2cEMsU0FBQXZGLEVBQUFscUIsTUFBQWtxQixFQUFBcHFCLFVBQUFvcUIsRUFBQW9CLE1BQUFwQixFQUFBd0YsTUFBQXhGLEVBQXdKLE9BQUFJLEdBQUFxRixlQUFBeHhDLEVBQUFtc0MsRUFBQXpaLFVBQUF5WixNQUEyQyxTQUFBMWtDLEVBQUFza0MsRUFBQUksR0FBaUIsWUFBYSxtQkFBQXhyQixnQkFBQUMsU0FBeU1uWixFQUFBaGxCLFFBQUEwcEQsRUFBQSxNQUFrQixTQUFBMWtDLEVBQUFza0MsR0FBZSxZQUFrRXRrQyxHQUFBaGxCLFFBQXJELGdEQUFpRSxTQUFBc3BELEVBQUFJLEdBQWVKLEVBQUF0cEQsUUFBQWdsQixRYnNnVXA3WWdxQyxLQUNBLFNBQVVqdkQsRUFBUUMsRUFBU0MsR0FFakMsWWMvL1RBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQVI3RSxHQUFBOHVELEdBQUEvdUQsRUFBNENELEVBQVEsT0FFcERpdkQsRUFBQWh2RCxFQUFnREQsRUFBUSxPQUV4RGt2RCxFQUFBanZELEVBQThDRCxFQUFRLE1BRXREbXZELEVBQUFsdkQsRUFBeUNELEVBQVEsSUFJakRGLEdBQUFDLFNBQ0FxdkQsV0FBQUQsRUFBQS91RCxRQUNBaXZELGdCQUFBSCxFQUFBOXVELFFBQ0FrdkQsa0JBQUFMLEVBQUE3dUQsUUFDQW12RCxjQUFBUCxFQUFBNXVELFVkK2dVTW92RCxLQUNBLFNBQVUxdkQsRUFBUUMsRUFBU0MsR0FFakMsWWVqaFVBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQUk3RSxRQUFBdXZELEdBQUFudUQsRUFBQUMsR0FBK0NELEVBQUFFLFVBQUFoQixPQUFBaUIsT0FBQUYsRUFBQUMsV0FBMERGLEVBQUFFLFVBQUFFLFlBQUFKLEVBQTJDQSxFQUFBTSxVQUFBTCxFQUVwSixRQUFBNDhCLEtBQW1SLE1BQTlQQSxHQUFBMzlCLE9BQUE0OUIsUUFBQSxTQUFBcjhCLEdBQWdELE9BQUFFLEdBQUEsRUFBZ0JBLEVBQUF3ZSxVQUFBdmUsT0FBc0JELElBQUEsQ0FBTyxHQUFBbzhCLEdBQUE1ZCxVQUFBeGUsRUFBMkIsUUFBQTNCLEtBQUErOUIsR0FBMEI3OUIsT0FBQWdCLFVBQUE4OEIsZUFBQW45QixLQUFBazlCLEVBQUEvOUIsS0FBeUR5QixFQUFBekIsR0FBQSs5QixFQUFBLzlCLElBQWlDLE1BQUF5QixJQUFrQm84QixFQUFBM2QsTUFBQWpWLEtBQUFrVixXQXJCblIxZ0IsRUFBQUksWUFBQSxFQUNBSixFQUFBSyxZQUFBLEVBRUEsSUFFQXN2RCxJQVlBLFNBQUF4dkQsR0FBdUMsR0FBQUEsS0FBQUMsV0FBNkIsTUFBQUQsRUFBcUIsSUFBQXl2RCxLQUFpQixVQUFBenZELEVBQW1CLE9BQUFJLEtBQUFKLEdBQXVCLEdBQUFNLE9BQUFnQixVQUFBODhCLGVBQUFuOUIsS0FBQWpCLEVBQUFJLEdBQUEsQ0FBc0QsR0FBQXN2RCxHQUFBcHZELE9BQUFDLGdCQUFBRCxPQUFBcXZELHlCQUFBcnZELE9BQUFxdkQseUJBQUEzdkQsRUFBQUksS0FBc0hzdkQsR0FBQTcrQixLQUFBNitCLEVBQUFqVyxJQUE0Qm41QyxPQUFBQyxlQUFBa3ZELEVBQUFydkQsRUFBQXN2RCxHQUFtREQsRUFBQXJ2RCxHQUFBSixFQUFBSSxHQUFnQ3F2RCxFQUFBdnZELFFBQUFGLEdBZHZZRixFQUFRLElBRWhEQyxFQUF1Q0QsRUFBUSxRQUUvQzh2RCxFQUFBN3ZELEVBQTBDRCxFQUFRLE9BRWxEc0MsRUFBQXJDLEVBQW9DRCxFQUFRLElBRTVDbXZELEVBQUFsdkQsRUFBeUNELEVBQVEsS0FZakQrdkQsR0FWaUIvdkQsRUFBUSxLQVV6QixTQUFBd21ELEVBQUExNUMsR0FDQSxNQUFBMDVDLElBQUExNUMsS0FBQTQxQixNQUFBLEtBQUFzdEIsUUFBQSxTQUFBcEcsR0FDQSxTQUFBOEYsRUFBQXR2RCxTQUFBb21ELEVBQUFvRCxPQUlBcUcsRUFBQSxTQUFBekosRUFBQTE1QyxHQUNBLE1BQUEwNUMsSUFBQTE1QyxLQUFBNDFCLE1BQUEsS0FBQXN0QixRQUFBLFNBQUFwRyxHQUNBLFNBQUFrRyxFQUFBMXZELFNBQUFvbUQsRUFBQW9ELE1BaUhBMkYsRUFFQSxTQUFBMXVCLEdBR0EsUUFBQTB1QixLQUdBLE9BRkEvakQsR0FFQTBrRCxFQUFBenZDLFVBQUF2ZSxPQUFBMm1ELEVBQUEsR0FBQTVSLE9BQUFpWixHQUFBQyxFQUFBLEVBQXVFQSxFQUFBRCxFQUFhQyxJQUNwRnRILEVBQUFzSCxHQUFBMXZDLFVBQUEwdkMsRUE2RkEsT0ExRkEza0QsR0FBQXExQixFQUFBMS9CLEtBQUFxZixNQUFBcWdCLEdBQUF0MUIsTUFBQXUzQixPQUFBK2xCLEtBQUF0OUMsS0FFQUMsRUFBQTRrRCxRQUFBLFNBQUE1SixFQUFBNkosR0FDQSxHQUFBQyxHQUFBOWtELEVBQUEra0QsY0FBQUYsRUFBQSxrQkFDQXArQyxFQUFBcStDLEVBQUFyK0MsU0FFQXpHLEdBQUFnbEQsY0FBQWhLLEVBQUEsUUFFQXVKLEVBQUF2SixFQUFBdjBDLEdBRUF6RyxFQUFBeEosTUFBQW91RCxTQUNBNWtELEVBQUF4SixNQUFBb3VELFFBQUE1SixJQUlBaDdDLEVBQUFpbEQsV0FBQSxTQUFBakssRUFBQTZKLEdBQ0EsR0FBQUssR0FBQWxsRCxFQUFBK2tELGNBQUFGLEVBQUEsa0JBQ0FNLEVBQUFELEVBQUFDLGVBRUFubEQsR0FBQW9sRCxrQkFBQXBLLEVBQUFtSyxHQUVBbmxELEVBQUF4SixNQUFBeXVELFlBQ0FqbEQsRUFBQXhKLE1BQUF5dUQsV0FBQWpLLElBSUFoN0MsRUFBQXFsRCxVQUFBLFNBQUFySyxFQUFBNkosR0FDQSxHQUFBUyxHQUFBdGxELEVBQUEra0QsY0FBQSxTQUNBUSxFQUFBRCxFQUFBQyxhQUVBdmxELEdBQUFnbEQsY0FBQWhLLEVBQUE2SixFQUFBLGtCQUVBTixFQUFBdkosRUFBQXVLLEdBRUF2bEQsRUFBQXhKLE1BQUE2dUQsV0FDQXJsRCxFQUFBeEosTUFBQTZ1RCxVQUFBckssSUFJQWg3QyxFQUFBd2xELE9BQUEsU0FBQXhLLEdBQ0EsR0FBQXlLLEdBQUF6bEQsRUFBQStrRCxjQUFBLFFBQ0F0K0MsRUFBQWcvQyxFQUFBaC9DLFNBRUF6RyxHQUFBZ2xELGNBQUFoSyxFQUFBLFVBRUFoN0MsRUFBQWdsRCxjQUFBaEssRUFBQSxTQUVBdUosRUFBQXZKLEVBQUF2MEMsR0FFQXpHLEVBQUF4SixNQUFBZ3ZELFFBQ0F4bEQsRUFBQXhKLE1BQUFndkQsT0FBQXhLLElBSUFoN0MsRUFBQTBsRCxVQUFBLFNBQUExSyxHQUNBLEdBQUEySyxHQUFBM2xELEVBQUEra0QsY0FBQSxRQUNBSSxFQUFBUSxFQUFBUixlQUVBbmxELEdBQUFvbEQsa0JBQUFwSyxFQUFBbUssR0FFQW5sRCxFQUFBeEosTUFBQWt2RCxXQUNBMWxELEVBQUF4SixNQUFBa3ZELFVBQUExSyxJQUlBaDdDLEVBQUF3MEMsU0FBQSxTQUFBd0csR0FDQSxHQUFBNEssR0FBQTVsRCxFQUFBK2tELGNBQUEsUUFDQVEsRUFBQUssRUFBQUwsYUFFQXZsRCxHQUFBZ2xELGNBQUFoSyxFQUFBLFFBRUF1SixFQUFBdkosRUFBQXVLLEdBRUF2bEQsRUFBQXhKLE1BQUFnK0MsVUFDQXgwQyxFQUFBeEosTUFBQWcrQyxTQUFBd0csSUFJQWg3QyxFQUFBK2tELGNBQUEsU0FBQXBqRCxHQUNBLEdBQUFpZCxHQUFBNWUsRUFBQXhKLE1BQUFvb0IsV0FDQW5ZLEVBQUEsZ0JBQUFtWSxLQUFBamQsR0FBQWlkLEVBQUEsSUFBQWpkLENBR0EsUUFDQThFLFlBQ0EwK0MsZ0JBSkEsZ0JBQUF2bUMsS0FBQWpkLEVBQUEsVUFBQThFLEVBQUEsVUFLQTgrQyxjQUpBLGdCQUFBM21DLEtBQUFqZCxFQUFBLFFBQUE4RSxFQUFBLFVBUUF6RyxFQW5HQWlrRCxFQUFBRixFQUFBMXVCLEVBc0dBLElBQUF3d0IsR0FBQTlCLEVBQUEvdEQsU0F1Q0EsT0FyQ0E2dkQsR0FBQWIsY0FBQSxTQUFBaEssRUFBQXI1QyxHQUNBLEdBQUFta0QsR0FBQS9sRCxLQUFBZ2xELGNBQUFwakQsR0FDQThFLEVBQUFxL0MsRUFBQXIvQyxVQUNBMCtDLEVBQUFXLEVBQUFYLGdCQUNBSSxFQUFBTyxFQUFBUCxhQUVBOStDLElBQUFnK0MsRUFBQXpKLEVBQUF2MEMsR0FDQTArQyxHQUFBVixFQUFBekosRUFBQW1LLEdBQ0FJLEdBQUFkLEVBQUF6SixFQUFBdUssSUFHQU0sRUFBQVQsa0JBQUEsU0FBQXBLLEVBQUF2MEMsR0FHQUEsSUFFQXUwQyxLQUFBMVEsVUFHQWlhLEVBQUF2SixFQUFBdjBDLEtBSUFvL0MsRUFBQXZ3QyxPQUFBLFdBQ0EsR0FBQTllLEdBQUFtOEIsS0FBMkI1eUIsS0FBQXZKLE1BRzNCLGNBREFBLEdBQUFvb0IsV0FDQTluQixFQUFBbEMsUUFBQWtOLGNBQUE2aEQsRUFBQS91RCxRQUFBKzlCLEtBQXdFbjhCLEdBQ3hFb3VELFFBQUE3a0QsS0FBQTZrRCxRQUNBUyxVQUFBdGxELEtBQUFzbEQsVUFDQUosV0FBQWxsRCxLQUFBa2xELFdBQ0FPLE9BQUF6bEQsS0FBQXlsRCxPQUNBRSxVQUFBM2xELEtBQUEybEQsVUFDQWxSLFNBQUF6MEMsS0FBQXkwQyxhQUlBdVAsR0FDQ2p0RCxFQUFBbEMsUUFBQWtWLFVBRURpNkMsR0FBQXh3QixZQUNBLElBQUE4SyxHQUFBMGxCLENBQ0F4dkQsR0FBQUssUUFBQXlwQyxFQUNBL3BDLEVBQUFDLFVBQUEsU2Z1aVVNd3hELEtBQ0EsU0FBVXp4RCxFQUFRQyxFQUFTQyxHQUVqQyxZZ0J6MFVBLFNBQUErdkQsR0FBQXJCLEVBQUF6OEMsR0FDQXk4QyxFQUFBOEMsVUFBQTlDLEVBQUE4QyxVQUFBQyxJQUFBeC9DLElBQTBELEVBQUF5L0MsRUFBQXR4RCxTQUFBc3VELEVBQUF6OEMsS0FBQSxnQkFBQXk4QyxHQUFBejhDLFVBQUF5OEMsRUFBQXo4QyxVQUFBeThDLEVBQUF6OEMsVUFBQSxJQUFBQSxFQUF5Snk4QyxFQUFBaUQsYUFBQSxTQUFBakQsRUFBQXo4QyxXQUFBeThDLEVBQUF6OEMsVUFBQTIvQyxTQUFBLFFBQUEzL0MsSUFSbk4sR0FBQWhTLEdBQTZCRCxFQUFRLEVBRXJDRCxHQUFBSSxZQUFBLEVBQ0FKLEVBQUFLLFFBQUEydkQsQ0FFQSxJQUFBMkIsR0FBQXp4RCxFQUF1Q0QsRUFBUSxNQU0vQ0YsR0FBQUMsVUFBQSxTaEJ1MVVNOHhELEtBQ0EsU0FBVS94RCxFQUFRQyxFQUFTQyxHQUVqQyxZaUJsMlVBLFNBQUE4eEQsR0FBQXBELEVBQUF6OEMsR0FDQSxNQUFBeThDLEdBQUE4QyxZQUFBdi9DLEdBQUF5OEMsRUFBQThDLFVBQUFPLFNBQUE5L0MsSUFBcUYsVUFBQXk4QyxFQUFBejhDLFVBQUEyL0MsU0FBQWxELEVBQUF6OEMsV0FBQSxLQUFBNHdCLFFBQUEsSUFBQTV3QixFQUFBLEtBSnJGbFMsRUFBQUksWUFBQSxFQUNBSixFQUFBSyxRQUFBMHhELEVBTUFoeUQsRUFBQUMsVUFBQSxTakI0MlVNaXlELEtBQ0EsU0FBVWx5RCxFQUFRQyxFQUFTQyxHQUVqQyxZa0J0M1VBLFNBQUFpeUQsR0FBQUMsRUFBQUMsR0FDQSxNQUFBRCxHQUFBenZCLFFBQUEsR0FBQU8sUUFBQSxVQUFBbXZCLEVBQUEsdUJBQUExdkIsUUFBQSxZQUFBQSxRQUFBLGlCQUdBM2lDLEVBQUFDLFFBQUEsU0FBQTJ1RCxFQUFBejhDLEdBQ0F5OEMsRUFBQThDLFVBQUE5QyxFQUFBOEMsVUFBQVksT0FBQW5nRCxHQUE2RCxnQkFBQXk4QyxHQUFBejhDLFVBQUF5OEMsRUFBQXo4QyxVQUFBZ2dELEVBQUF2RCxFQUFBejhDLGFBQW1IeThDLEVBQUFpRCxhQUFBLFFBQUFNLEVBQUF2RCxFQUFBejhDLFdBQUF5OEMsRUFBQXo4QyxVQUFBMi9DLFNBQUEsR0FBQTMvQyxNbEI4M1UxS29nRCxLQUNBLFNBQVV2eUQsRUFBUUMsRUFBU0MsR0FFakMsWW1CMzNVQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FFN0UsUUFBQW95RCxHQUFBajBCLEVBQUFrMEIsR0FBMEQsU0FBQWwwQixFQUFBLFFBQStCLElBQXVELzlCLEdBQUEyQixFQUF2REYsS0FBaUJ5d0QsRUFBQWh5RCxPQUFBK2hELEtBQUFsa0IsRUFBa0QsS0FBQXA4QixFQUFBLEVBQVlBLEVBQUF1d0QsRUFBQXR3RCxPQUF1QkQsSUFBTzNCLEVBQUFreUQsRUFBQXZ3RCxHQUFxQnN3RCxFQUFBMXZCLFFBQUF2aUMsSUFBQSxJQUEwQ3lCLEVBQUF6QixHQUFBKzlCLEVBQUEvOUIsR0FBNkIsT0FBQXlCLEdBRWxTLFFBQUEwdEQsR0FBQW51RCxFQUFBQyxHQUErQ0QsRUFBQUUsVUFBQWhCLE9BQUFpQixPQUFBRixFQUFBQyxXQUEwREYsRUFBQUUsVUFBQUUsWUFBQUosRUFBMkNBLEVBQUFNLFVBQUFMLEVBZnBKeEIsRUFBQUksWUFBQSxFQUNBSixFQUFBSyxZQUFBLEVBRUEsSUFFQWtDLElBRkFyQyxFQUF3Q0QsRUFBUSxJQUVoREMsRUFBb0NELEVBQVEsS0FFNUN5eUQsRUFBZ0J6eUQsRUFBUSxJQUV4Qmt2RCxFQUFBanZELEVBQThDRCxFQUFRLE1BMkJ0RHN2RCxFQUVBLFNBQUF6dUIsR0FHQSxRQUFBeXVCLEtBR0EsT0FGQTlqRCxHQUVBMGtELEVBQUF6dkMsVUFBQXZlLE9BQUF3d0QsRUFBQSxHQUFBemIsT0FBQWlaLEdBQUFDLEVBQUEsRUFBd0VBLEVBQUFELEVBQWFDLElBQ3JGdUMsRUFBQXZDLEdBQUExdkMsVUFBQTB2QyxFQXFEQSxPQWxEQTNrRCxHQUFBcTFCLEVBQUExL0IsS0FBQXFmLE1BQUFxZ0IsR0FBQXQxQixNQUFBdTNCLE9BQUE0dkIsS0FBQW5uRCxLQUVBQyxFQUFBbW5ELFlBQUEsV0FDQSxPQUFBQyxHQUFBbnlDLFVBQUF2ZSxPQUFBMm1ELEVBQUEsR0FBQTVSLE9BQUEyYixHQUFBQyxFQUFBLEVBQTRFQSxFQUFBRCxFQUFlQyxJQUMzRmhLLEVBQUFnSyxHQUFBcHlDLFVBQUFveUMsRUFHQSxPQUFBcm5ELEdBQUFzbkQsZ0JBQUEsWUFBQWpLLElBR0FyOUMsRUFBQXVuRCxlQUFBLFdBQ0EsT0FBQUMsR0FBQXZ5QyxVQUFBdmUsT0FBQTJtRCxFQUFBLEdBQUE1UixPQUFBK2IsR0FBQUMsRUFBQSxFQUE0RUEsRUFBQUQsRUFBZUMsSUFDM0ZwSyxFQUFBb0ssR0FBQXh5QyxVQUFBd3lDLEVBR0EsT0FBQXpuRCxHQUFBc25ELGdCQUFBLGVBQUFqSyxJQUdBcjlDLEVBQUEwbkQsY0FBQSxXQUNBLE9BQUFDLEdBQUExeUMsVUFBQXZlLE9BQUEybUQsRUFBQSxHQUFBNVIsT0FBQWtjLEdBQUFDLEVBQUEsRUFBNEVBLEVBQUFELEVBQWVDLElBQzNGdkssRUFBQXVLLEdBQUEzeUMsVUFBQTJ5QyxFQUdBLE9BQUE1bkQsR0FBQXNuRCxnQkFBQSxjQUFBakssSUFHQXI5QyxFQUFBNm5ELFdBQUEsV0FDQSxPQUFBQyxHQUFBN3lDLFVBQUF2ZSxPQUFBMm1ELEVBQUEsR0FBQTVSLE9BQUFxYyxHQUFBQyxFQUFBLEVBQTRFQSxFQUFBRCxFQUFlQyxJQUMzRjFLLEVBQUEwSyxHQUFBOXlDLFVBQUE4eUMsRUFHQSxPQUFBL25ELEdBQUFzbkQsZ0JBQUEsV0FBQWpLLElBR0FyOUMsRUFBQWdvRCxjQUFBLFdBQ0EsT0FBQUMsR0FBQWh6QyxVQUFBdmUsT0FBQTJtRCxFQUFBLEdBQUE1UixPQUFBd2MsR0FBQUMsRUFBQSxFQUE0RUEsRUFBQUQsRUFBZUMsSUFDM0Y3SyxFQUFBNkssR0FBQWp6QyxVQUFBaXpDLEVBR0EsT0FBQWxvRCxHQUFBc25ELGdCQUFBLGNBQUFqSyxJQUdBcjlDLEVBQUFtb0QsYUFBQSxXQUNBLE9BQUFDLEdBQUFuekMsVUFBQXZlLE9BQUEybUQsRUFBQSxHQUFBNVIsT0FBQTJjLEdBQUFDLEVBQUEsRUFBNEVBLEVBQUFELEVBQWVDLElBQzNGaEwsRUFBQWdMLEdBQUFwekMsVUFBQW96QyxFQUdBLE9BQUFyb0QsR0FBQXNuRCxnQkFBQSxhQUFBakssSUFHQXI5QyxFQTNEQWlrRCxFQUFBSCxFQUFBenVCLEVBOERBLElBQUF3d0IsR0FBQS9CLEVBQUE5dEQsU0EwQ0EsT0F4Q0E2dkQsR0FBQXlCLGdCQUFBLFNBQUFnQixFQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEdBRUFsekMsRUFBQXhWLEtBQUF2SixNQUFBK2UsU0FFQW16QyxFQUFBNXhELEVBQUFsQyxRQUFBK3pELFNBQUFDLFFBQUFyekMsR0FBQWd6QyxFQUVBRyxHQUFBbHlELE1BQUE4eEQsS0FBQUcsRUFBQUMsRUFBQWx5RCxPQUFBOHhELEdBQUF0ekMsTUFBQXl6QyxFQUFBRCxHQUNBem9ELEtBQUF2SixNQUFBOHhELElBQUF2b0QsS0FBQXZKLE1BQUE4eEQsSUFBQSxFQUFBckIsRUFBQTRCLGFBQUE5b0QsUUFHQThsRCxFQUFBdndDLE9BQUEsV0FDQSxHQUFBc2lCLEdBQUE3M0IsS0FBQXZKLE1BQ0ErZSxFQUFBcWlCLEVBQUFyaUIsU0FDQXV6QyxFQUFBbHhCLEVBQUEwYSxHQUNBOTdDLEVBQUFzd0QsRUFBQWx2QixHQUFBLGtCQUVBbXhCLEVBQUFqeUQsRUFBQWxDLFFBQUErekQsU0FBQUMsUUFBQXJ6QyxHQUNBeXpDLEVBQUFELEVBQUEsR0FDQUUsRUFBQUYsRUFBQSxFQVFBLGNBTkF2eUQsR0FBQW91RCxjQUNBcHVELEdBQUF5dUQsaUJBQ0F6dUQsR0FBQTZ1RCxnQkFDQTd1RCxHQUFBZ3ZELGFBQ0FodkQsR0FBQWt2RCxnQkFDQWx2RCxHQUFBZytDLFNBQ0ExOUMsRUFBQWxDLFFBQUFrTixjQUFBNGhELEVBQUE5dUQsUUFBQTRCLEVBQUFzeUQsRUFBQWh5RCxFQUFBbEMsUUFBQXMwRCxhQUFBRixHQUNBbDBELElBQUEsUUFDQTh2RCxRQUFBN2tELEtBQUFvbkQsWUFDQWxDLFdBQUFsbEQsS0FBQXduRCxlQUNBbEMsVUFBQXRsRCxLQUFBMm5ELGdCQUNLNXdELEVBQUFsQyxRQUFBczBELGFBQUFELEdBQ0xuMEQsSUFBQSxTQUNBOHZELFFBQUE3a0QsS0FBQThuRCxXQUNBNUMsV0FBQWxsRCxLQUFBaW9ELGNBQ0EzQyxVQUFBdGxELEtBQUFvb0QsaUJBSUFyRSxHQUNDaHRELEVBQUFsQyxRQUFBa1YsVUFFRGc2QyxHQUFBdndCLFlBQ0EsSUFBQThLLEdBQUF5bEIsQ0FDQXZ2RCxHQUFBSyxRQUFBeXBDLEVBQ0EvcEMsRUFBQUMsVUFBQSxTbkI2NFVNNDBELEtBQ0EsU0FBVTcwRCxFQUFRQyxFQUFTQyxHQUVqQyxZb0JsaFZBLFNBQUEwZ0MsTUFFQSxRQUFBQyxLQUNBLFNBR0EsUUFBQW1ELEdBQUE0bkIsR0FDQSxTQUFBQSxHQUFBLElBQUE5NUMsTUFBQSxNQUdBLFFBQUFxeEIsR0FBQWdDLEdBQ0EsTUFBQUEsR0FBQXhDLFFBQUEseUJBQThCLFFBRzlCLFFBQUE2RCxHQUFBakgsR0FDQSxPQUFBQSxHQUNBLFdBQ0EsNENBRUEsV0FDQSwrQkFFQSxnQkFDQSxRQUNBLGlDQUtBLFFBQUEyRyxHQUFBZCxHQUNBLEdBQUEvRSxLQUFBMWYsVUFBQXZlLE9BQUEsT0FBQStlLEtBQUFSLFVBQUEsS0FBQUEsVUFBQSxHQUNBbTBDLEVBQUEsTUFBQTF2QixFQUFBLEdBQ0FpQixFQUFBeXVCLEdBQUF6MEIsQ0FDQStFLEtBQUF6QyxRQUFBLE9BQ0EsSUFBQW95QixHQUFBM3ZCLEVBQUF4QyxNQUFBLElBR0EsUUFDQXVELGNBSEE0dUIsRUFBQSxHQUlBM3VCLGFBSEEydUIsRUFBQSxPQUlBRCxjQUNBenVCLGVBSUEsUUFBQTBDLEdBQUEzRCxHQUNBLElBQUFBLEVBQUEsTUFBQUEsRUFDQSxJQUFBSixHQUFBLE1BQUFJLEVBQUEsRUFDQUosS0FBQUksSUFBQW5DLFVBQUEsRUFBQW1DLEVBQUFoakMsUUFDQSxJQUFBMnlELEdBQUEzdkIsRUFBQXhDLE1BQUEsS0FDQXVELEVBQUE0dUIsRUFBQSxHQUFBcHlCLFFBQUEsZUFDQXlELEVBQUEydUIsRUFBQSxNQUNBLFVBQUEveEIsT0FBQWdDLEVBQUEsUUFBQWhDLE9BQUFtRCxHQUFBbkQsT0FBQW9ELEVBQUEsSUFBQXBELE9BQUFvRCxHQUFBLElBUUEsUUFBQUUsR0FBQWxCLEVBQUE0dkIsRUFBQXQxQixHQUlBLE9BSEF5RixHQUFBLEdBQ0E4dkIsRUFBQXYxQixFQUFBLE9BRUF2OUIsRUFBQSxFQUFpQkEsR0FBQTZ5RCxFQUFBLEVBQWdCN3lELElBQ2pDZ2pDLEdBQUFDLEVBQUFqakMsSUFBQTh5RCxDQUdBLE9BQUE5dkIsR0FRQSxRQUFBNkIsR0FBQTVCLEVBQUE0dkIsRUFBQXQxQixHQUVBLGlCQUFBcUQsUUFBQXFDLEdBQUEsTUFBQUEsRUFDQSxJQUFBOHZCLElBQUEsSUFBQTl2QixFQUFBckMsUUFBQSxNQUFBaXlCLEVBRUEvdUIsRUFBQUMsRUFBQWQsR0FDQWUsRUFBQUYsRUFBQUUsY0FDQUMsRUFBQUgsRUFBQUcsYUFDQTB1QixFQUFBN3VCLEVBQUE2dUIsWUFFQUssRUFBQW56QixXQUFBLEtBQUFnQixPQUFBb0QsR0FBQSxNQUFBZ3ZCLFFBQUFKLEdBQUFweUIsTUFBQSxLQUNBeXlCLEVBQUFsdkIsRUFBQXZELE1BQUEsSUFBQTB5QixVQUFBQyxPQUFBLFNBQUFDLEVBQUFoNkMsRUFBQXk0QyxHQUNBLE1BQUF1QixHQUFBcHpELE9BQUE2eEQsR0FDQXhNLE9BQUErTixFQUFBLElBQUEvTixPQUFBanNDLElBQUErUSxXQUFBaXBDLEVBQUF2eUIsVUFBQSxFQUFBdXlCLEVBQUFwekQsUUFHQW9aLEVBQUFnNkMsR0FDR0wsRUFBQSxJQUNITSxFQUFBbnZCLEVBQUE2dUIsRUFBQSxPQUFBL29ELEtBQUFFLElBQUEwb0QsRUFBQTV1QixFQUFBaGtDLFFBQUFzOUIsR0FDQWcyQixFQUFBWixFQUFBLE9BQ0F4MUIsRUFBQTQxQixFQUFBLE1BQ0EsVUFBQWx5QixPQUFBMHlCLEdBQUExeUIsT0FBQXF5QixHQUFBcnlCLE9BQUExRCxHQUFBMEQsT0FBQXl5QixHQUdBLFFBQUE1ckIsR0FBQXpwQyxFQUFBdTFELEdBQ0EsR0FBQUMsS0FJQSxPQUhBbDFELFFBQUEraEQsS0FBQXJpRCxHQUFBOHZELFFBQUEsU0FBQTF2RCxHQUNBbTFELEVBQUFuMUQsS0FBQW8xRCxFQUFBcDFELEdBQUFKLEVBQUFJLE1BRUFvMUQsRUFLQSxRQUFBL3hCLEdBQUFILEVBQUFDLEdBS0EsR0FKQUQsRUFBQWpqQyxNQUFBaWpDLEVBQUFqakMsTUFJQSxPQUFBaWpDLEVBQUEsQ0FDQSxHQUFBQSxFQUFBbXlCLGdCQUFBLENBQ0EsR0FBQUMsR0FBQXB5QixFQUFBbXlCLGlCQUdBLE9BRkFDLEdBQUFDLEtBQUEsWUFBQXB5QixHQUNBbXlCLEVBQUFFLFVBQ0EsRUFJQSxNQUFBdHlCLEdBQUFyQyxnQkFBQSxJQUFBcUMsRUFBQXJDLGdCQUNBcUMsRUFBQWdaLFFBQ0FoWixFQUFBcXFCLGtCQUFBcHFCLE1BQ0EsSUFJQUQsRUFBQWdaLFNBQ0EsSUFXQSxRQUFBM1UsR0FBQWt1QixFQUFBcHhDLEdBTUEsSUFMQSxHQUFBMWlCLEdBQUEsRUFDQXFpQyxFQUFBLEVBQ0EweEIsRUFBQUQsRUFBQTd6RCxPQUNBK3pELEVBQUF0eEMsRUFBQXppQixPQUVBNnpELEVBQUE5ekQsS0FBQTBpQixFQUFBMWlCLE1BQUErekQsR0FDQS96RCxHQUlBLE1BQUE4ekQsRUFBQUMsRUFBQSxFQUFBMXhCLEtBQUEzZixFQUFBc3hDLEVBQUEsRUFBQTN4QixJQUFBMnhCLEVBQUEzeEIsRUFBQXJpQyxHQUFBK3pELEVBQUExeEIsRUFBQXJpQyxHQUNBcWlDLEdBR0EsUUFDQXJwQixNQUFBaFosRUFDQWlaLElBQUE4NkMsRUFBQTF4QixHQVFBLFFBQUFULEdBQUExQixFQUFBLzFCLEVBQUE4bkIsR0FDQSxNQUFBaG9CLE1BQUFFLElBQUFGLEtBQUFnb0IsSUFBQWlPLEVBQUEvMUIsR0FBQThuQixHQUdBLFFBQUFxVSxHQUFBL0UsR0FFQSxNQUFBdDNCLE1BQUFnb0IsSUFBQXNQLEVBQUFyQyxlQUFBcUMsRUFBQXBDLGNBak1BNWdDLE9BQUFDLGVBQUFWLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBMmdDLE9BQ0EzZ0MsRUFBQTRnQyxhQUNBNWdDLEVBQUErakMsZUFDQS9qQyxFQUFBa2pDLGVBQ0FsakMsRUFBQXVtQyx5QkFDQXZtQyxFQUFBaW1DLGVBQ0FqbUMsRUFBQThvQyxpQkFDQTlvQyxFQUFBcW1DLGVBQ0FybUMsRUFBQSttQyxtQkFDQS9tQyxFQUFBNHBDLE9BQ0E1cEMsRUFBQTRqQyxtQkFDQTVqQyxFQUFBOG5DLG1CQUNBOW5DLEVBQUE4akMsUUFDQTlqQyxFQUFBd29DLDJCcEI4dFZNMnRCLEtBQ0EsU0FBVXAyRCxFQUFRQyxFQUFTQyxHQUVqQyxZQTZGQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTVyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTUMsR0FBUSxJQUFLRCxFQUFRLEtBQU0sSUFBSUUsZ0JBQWUsNERBQWdFLFFBQU9ELEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJELEVBQVBDLEVBRWxPLFFBQVNFLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVloQixPQUFPaUIsT0FBT0YsR0FBY0EsRUFBV0MsV0FBYUUsYUFBZW5CLE1BQU9lLEVBQVVaLFlBQVksRUFBT0UsVUFBVSxFQUFNRCxjQUFjLEtBQWVZLElBQVlmLE9BQU9tQixlQUFpQm5CLE9BQU9tQixlQUFlTCxFQUFVQyxHQUFjRCxFQUFTTSxVQUFZTCxHQWhHamVmLE9BQU9DLGVBQWVWLEVBQVMsY0FDM0JRLE9BQU8sR0FHWCxJQUFJc0IsR0FBZSxXQUFjLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV3pCLFdBQWF5QixFQUFXekIsYUFBYyxFQUFPeUIsRUFBV3hCLGNBQWUsRUFBVSxTQUFXd0IsS0FBWUEsRUFBV3ZCLFVBQVcsR0FBTUosT0FBT0MsZUFBZXNCLEVBQVFJLEVBQVc3QixJQUFLNkIsSUFBaUIsTUFBTyxVQUFVcEIsRUFBYXFCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZTixFQUFpQmYsRUFBWVMsVUFBV1ksR0FBaUJDLEdBQWFQLEVBQWlCZixFQUFhc0IsR0FBcUJ0QixNcUIxdlZoaUJ1QixFQUFBdEMsRUFBQSxHckI4dlZJdUMsRUFBVXRDLEVBQXVCcUMsR3FCN3ZWckNrMUMsRUFBQXgzQyxFQUFBLElyQml3Vkl5M0MsRUFBV3gzQyxFQUF1QnUzQyxHcUJod1Z0QzNZLEVBQUE3K0IsRUFBQSxHckJvd1ZJNnFDLEVBQWM1cUMsRUFBdUI0K0IsR3FCbndWekNyOEIsRUFBQXhDLEVBQUEsSUFDQWd4QyxFQUFBaHhDLEVBQUEsS0FDQTJDLEVBQUEzQyxFQUFBLElyQnl3Vkk0QyxFQUFlM0MsRUFBdUIwQyxHcUJ4d1YxQ3d6RCxFQUFBbjJELEVBQUEsS0FDQW8yRCxHckIyd1ZlbjJELEVBQXVCazJELEdxQjN3VnRDbjJELEVBQUEsTUFDQXEyRCxHckI4d1ZzQnAyRCxFQUF1Qm0yRCxHcUI5d1Y3Q3AyRCxFQUFBLE1BQ0FrakQsR3JCaXhWb0JqakQsRUFBdUJvMkQsR3FCanhWM0NyMkQsRUFBQSxNckJxeFZJbWpELEVBQVVsakQsRUFBdUJpakQsR3FCcHhWckN2WSxFQUFBM3FDLEVBQUEsSXJCd3hWSTRxQyxFQUFVM3FDLEVBQXVCMHFDLEdxQnZ4VnJDRixFQUFBenFDLEVBQUEsSXJCMnhWSTBxQyxFQUFXenFDLEVBQXVCd3FDLEdxQjF4VnRDaG9DLEVBQUF6QyxFQUFBLElyQjh4VkkwQyxFQUFTekMsRUFBdUJ3QyxHcUI3eFZwQzBuQyxFQUFBbnFDLEVBQUEsS3JCaXlWSW9xQyxFQUFXbnFDLEVBQXVCa3FDLEdxQmh5VnRDRSxFQUFBcnFDLEVBQUEsS3JCb3lWSXNxQyxFQUFhcnFDLEVBQXVCb3FDLEdxQm55VnhDMlksRUFBQWhqRCxFQUFBLEtyQnV5VklpakQsRUFBY2hqRCxFQUF1QitpRCxHcUJ0eVZ6Q3RMLEVBQUExM0MsRUFBQSxJckIweVZJMjNDLEVBQXFCMTNDLEVBQXVCeTNDLEdxQnp5VmhETSxFQUFBaDRDLEVBQUEsS3JCNnlWSWk0QyxFQUFpQmg0QyxFQUF1QiszQyxHcUI1eVY1QzJLLEVBQUEzaUQsRUFBQSxLQUNBbzFDLEVBQUFwMUMsRUFBQSxLQUNBNEYsRUFBQTVGLEVBQUEsSXJCa3pWSTZGLEVBQWtCNUYsRUFBdUIyRixHcUJqelY3Q0UsRUFBQTlGLEVBQUEsSXJCcXpWSStGLEVBQWM5RixFQUF1QjZGLEdxQnB6VnpDakQsRUFBQTdDLEVBQUEsR0FFTWdoQixHckJzelZhL2dCLEVBQXVCNEMsSXFCcnpWdENrTyxTQUNJQSxRQUFTLElBRWJ1dEMsZUFBZ0IsR0FDaEIyQyxnQkFBaUIsR0FDakJDLGNBQWUsR0FDZjlOLGFBQWMsS0FLWmtqQixFQUFlLGlDQUtmQyxFQUFtQiw4REFDbkJDLEVBQXdCLHdEQUN4QnR3RCxFQUFTLFNBQUFDLEdBQUEsT0FFWHN3RCxpQkFDRTd1RCxTQUFVLFdBQ1ZvQixRQUFVLElBQ1Z0QixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLE1BRS9CMGtDLGNBQ0k1akMsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUFPLGVBRXhDMmtDLFdBQ0k1aUMsZ0JBQWlCeEMsRUFBTU8sUUFBUStELGdCQUFnQjdELEtBQy9DVyxPQUFRLG1CQUNSK0MsVUFBVyxPQUNYcXFCLE9BQVEsbUJBRVp1UyxNQUNJcmdDLE1BQU8sT0FDUHFCLFFBQVMsTUFDVE4sU0FBVSxXQUNWRixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCb0MsUUFBUyxJQUViNDZDLG1CQUNJbDhDLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JJLFdBQVksU0FDWkgsTUFBTyxvQkFDUGtDLFlBQWMsU0FDZGpCLGFBQWUsU0FDZlAsT0FBUSxxQkFJWmcxQyxXQUNJNXZCLE9BQVEsTUFFUi9rQixTQUFVLFdBSVZGLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsTUFFOUIrOEMsYUFDQzk4QyxNQUFPLE9BQ1BxQixRQUFTLE1BQ1RtbEIsV0FBWSxPQUNaemxCLFNBQVUsV0FDVkYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3Qm9DLFFBQVMsR0FFVHk2QyxZQUNJMVgsYUFBYyxxQkFFbEIyWCxXQUNJM1gsYUFBYyxzQkFJdEI4WCxhQUNJbjhDLE1BQVF2QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDOUJvQyxRQUFVLEtBRWQwQixZQUNJaEQsTUFBT3ZCLEVBQU1PLFFBQVE2QixVQUFVM0IsTUFFbkNrOUMsV0FDSXA4QyxNQUFPLFVBQ1BYLFdBQVksU0FFaEJtbEMsWUFDSXhrQyxNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixNQUVuQ205QyxnQkFDSS82QyxRQUFTLEdBQ1R4QixPQUFRLGFBcUNWa3ZELEVyQmcwVlEsU0FBVXByRCxHcUIvelZwQixRQUFBb3JELEdBQVkxMEQsR0FBT25CLEVBQUEwSyxLQUFBbXJELEVBQUEsSUFBQWxyRCxHQUFBdkssRUFBQXNLLE1BQUFtckQsRUFBQTkwRCxXQUFBcEIsT0FBQWlMLGVBQUFpckQsSUFBQXYxRCxLQUFBb0ssS0FDVHZKLEdBRFMwcUMsR0FBQXZyQyxLQUFBcUssRUFFZixJQUFJbTVDLEdBQWlCbjVDLEVBQUt4SixNQUFNK08sU0FBV3ZGLEVBQUt4SixNQUFNK08sUUFBUUEsUUFBU3ZGLEVBQUt4SixNQUFNK08sUUFBUUEsUUFBUWEsTUFBTTBrRCxHQUFjLEdBVWxISyxFQUFhaFMsRUFBYyxHQUFLQSxFQUFjLEdBQUc1aEIsVUFBVSxJQUFNLEVBWnRELE9BYUd2M0IsR0FBS3hKLE1BQU1zOEMsZUFHYnpiLFFBQVE4ekIsR0FBYyxJQUNsQ0EsRUFBYSxJQUtqQm5yRCxFQUFLRyxPQUNEZ3JELFdBQVlBLEVBQ1p4VixhQUFjMzFDLEVBQUt4SixNQUFNbS9DLGFBQ3pCNkQsZ0JBQWdCLEVBQ2hCQyxtQkFBbUIsRUFDbkIyUixvQkFBb0IsRUFDcEJDLHFCQUFxQixFQUNyQnJaLGlCQUFpQixFQUNqQjBILFNBQVUxNUMsRUFBS3hKLE1BQU0rTyxRQUFRdkIsR0FDN0IyMUMsT0FBUTM1QyxFQUFLeEosTUFBTStPLFFBQVEyb0MsS0FFM0IwTCxrQkFBbUIsR0FFbkIwUixRQUFRLEdBbkNHdHJELEVyQnFqV25CLE1BclBBbkssR0FBVXExRCxFQUFTcHJELEdBNENuQnpKLEVBQWE2MEQsSUFDVHAyRCxJQUFLLDRCQUNMQyxNQUFPLFNxQnYwVmU2USxHQUFXLEdBQUFJLEdBQUFqRyxJQUVqQ0EsTUFBS00sVUFDRHExQyxjQUFlOXZDLEVBQVU4dkMsZ0JBR3pCOXZDLEVBQVUrdkMsY0FBZ0IsR0FBSy92QyxFQUFVK3ZDLGNBQWdCNTFDLEtBQUtJLE1BQU13MUMsY0FDcEU1MUMsS0FBS00sVUFBV3MxQyxhQUFjL3ZDLEVBQVUrdkMsY0FDbEMsV0FBUTN2QyxFQUFLazBDLHFCckJnMVZ2QnBsRCxJQUFLLFNBQ0xDLE1BQU8sV3FCdnRWRixHQUNHdU0sR0FBWXZCLEtBQUt2SixNQUFqQjhLLFFBRUE2NEMsR0FEWXA2QyxLQUFLdkosTUFBakIrTyxRQUNleEYsS0FBS3ZKLE1BQXBCMmpELFlBRUpvUixFQUFjeHJELEtBQUt2SixNQUFNczhDLGVBQ3pCMFksRUFBY0QsR0FBZUEsRUFBWTU3QyxJQUFJLFNBQUN3N0MsRUFBWW5uRCxHQUFiLE1BQzdDak4sR0FBQW5DLFFBQUFrTixjQUFDZzlCLEVBQUFscUMsU0FBU0UsSUFBS2tQLEVBQUkxQyxTQUFXdEcsS0FBTXNHLEVBQVF3K0IsY0FBZ0IvcUMsTUFBT28yRCxHQUFhQSxJQUdwRixPQUNJcDBELEdBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMlMsV0FBQSxFQUFVZCxVQUFXbkYsRUFBUTg0QyxlQUMvQnJqRCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS2tJLEdBQUksR0FBSU8sR0FBSSxHQUFJRCxHQUFJLEdBQUlQLFdBQUEsRUFBVS9MLFdBQVcsU0FBU2lNLFFBQVEsY0FDckUxUSxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQVNyTSxNQUFPLFNBRWIwRSxLQUFLSSxNQUFNMjVDLHVCQUNYL2lELEVBQUFuQyxRQUFBa04sY0FBQ3FxQyxFQUFBdjNDLFNBQWlCNlIsVUFBV25GLEVBQVE4MkMsb0JBR3JDcjRDLEtBQUtJLE1BQU13NUMsUUFDWDVpRCxFQUFBbkMsUUFBQWtOLGNBQUMwakMsRUFBQTZVLE1BQUszeUMsT0FBU3hMLE1BQU8sVUFBWXFCLFlBQWMsU0FBVWpCLGFBQWUsU0FBVVAsT0FBUyxTQUFVVixNQUFRLGFBR3RIdEUsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEdBQ0RTLEtBQUtJLE1BQU13NUMsUUFBVTVpRCxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBWThTLE9BQVVsSyxRQUFVLEdBQU9pSixVQUFhbkYsRUFBUSsyQyxhQUE3RCxjQUUxQnRoRCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsSUFDQVMsS0FBS0ksTUFBTXc1QyxRQUFVNWlELEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUFXOFMsT0FBVWxLLFFBQVUsR0FBT2lKLFVBQWFuRixFQUFRKzJDLGFBQTVELGFBRTNCdGhELEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxHQUNGdkksRUFBQW5DLFFBQUFrTixjQUFDMUssRUFBQXhDLFNBQVc4UyxPQUFTbWEsV0FBWSxPQUFRcmtCLFFBQVUsR0FBTWlKLFVBQWFuRixFQUFRKzJDLGFBQTlFLGNBRUp0aEQsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEdBQzJCLElBQTVCUyxLQUFLSSxNQUFNdzFDLGNBRVI1K0MsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUs0RixPQUFTbE0sV0FBWSxTQUFVWCxRQUFTLFNBQ3pDOUQsRUFBQW5DLFFBQUFrTixjQUFDMUssRUFBQXhDLFNBQVc4UyxPQUFTeVosT0FBUSxlQUFpQjFhLFVBQVduRixFQUFRKzJDLGFBQWpFLE9BQ0F0aEQsRUFBQW5DLFFBQUFrTixjQUFDMUssRUFBQXhDLFNBQVc4UyxPQUFTbWEsV0FBWSxRQUFVcGIsVUFBV25GLEVBQVErMkMsWUFBYXR4QyxRQUFTaEgsS0FBS3ZKLE1BQU1veEMsY0FBZTduQyxLQUFLSSxNQUFNdzFDLGFBQWUsWUFBYzUxQyxLQUFLSSxNQUFNdzFDLGFBQWUsRUFBSSxJQUFNLEtBQ3pMNTFDLEtBQUt2SixNQUFNay9DLGVBQWlCMytDLEVBQUFuQyxRQUFBa04sY0FBQzYxQyxFQUFBL2lELFNBQU02UixVQUFXbkYsRUFBUWczQyxjQUtuRXZoRCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsR0FDRnZJLEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUFXNlIsVUFBV25GLEVBQVErMkMsYUFBL0IsNEJBRUp0aEQsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBRUZraUIsT0FBUXpoQixLQUFLSSxNQUFNdzVDLFFBRW5CNWlELEVBQUFuQyxRQUFBa04sY0FBQzg4QixFQUFBaHFDLFNBQ0dvUCxHQUFHLG9CQUNIalAsTUFBT2dMLEtBQUswckQsZ0JBQ1poMUMsU0FBVTFXLEtBQUsyckQsdUJBQ2ZqbEQsVUFBVzFHLEtBQUtJLE1BQU1nckQsV0FBYzdwRCxFQUFRbzZCLEtBQVNwNkIsRUFBUTYyQyxZQUM3RDcyQyxTQUFXZy9CLFdBQVloL0IsRUFBUTJwRCxnQkFBaUI5NUIsS0FBTTd2QixFQUFRby9CLFlBQzlEeUIsV0FDSTdnQyxTQUNJeWEsTUFBT3phLEVBQVF5K0IsYUFJdkJocEMsRUFBQW5DLFFBQUFrTixjQUFDZzlCLEVBQUFscUMsU0FBUzBNLFNBQVd0RyxLQUFNc0csRUFBUXcrQixjQUFnQi9xQyxNQUFNLFNBQVNtUyxVQUFBLEdBQWxFLFVBQ0Nza0QsSUFHVHowRCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFFRmtpQixRQUFTemhCLEtBQUtJLE1BQU13NUMsUUFFcEI1aUQsRUFBQW5DLFFBQUFrTixjQUFDMjFDLEVBQUE3aUQsU0FDR29QLEdBQUkscUJBQXVCakUsS0FBS0ksTUFBTXU1QyxTQUN0Q2p6QyxVQUFXbkYsRUFBUXFxRCxlQUNuQjUyRCxNQUFPZ0wsS0FBS0ksTUFBTWdyRCxXQUVsQmhxQyxPQUFPLFNBQ1B6a0IsUUFBUSxTQUNSMGQsWUFDSTNULFVBQVduRixFQUFRbzZCLEtBQ25CN2dCLFVBQVUsRUFDVnVuQixrQkFBa0IsT0F3QmxDcnJDLEVBQUFuQyxRQUFBa04sY0FBQzJxQyxFQUFBNzNDLFNBQWF1bEQsV0FBWUEsRUFDdEJ2ekMsS0FBTTdHLEtBQUtJLE1BQU1xNUMsZUFDakIxeUMsUUFBUy9HLEtBQUtxN0Msc0JBQXVCdi9DLE1BellsQyw2RkF5WXlEMDRDLFNBRXZEeDlDLEVBQUFuQyxRQUFBa04sY0FBQ21xQyxFQUFBcjNDLFNBQU9FLElBQUssZ0JBQWtCaVMsUUFBU2hILEtBQUtzN0MseUJBQTBCbi9DLE1BQU0sYUFBN0UsWUFHRG5GLEVBQUFuQyxRQUFBa04sY0FBQ21xQyxFQUFBcjNDLFNBQU9FLElBQUssZ0JBQWtCaVMsUUFBU2hILEtBQUt1N0Msc0JBQXVCcC9DLE1BQU0sVUFBVXVuQixXQUFBLEdBQXBGLFlBaUJSMXNCLEVBQUFuQyxRQUFBa04sY0FBQzJxQyxFQUFBNzNDLFNBQWF1bEQsV0FBWUEsRUFDdEJ2ekMsS0FBTTdHLEtBQUtJLE1BQU1zNUMsa0JBQ2pCM3lDLFFBQVMvRyxLQUFLdzdDLG1CQUFvQjEvQyxNQWhhL0Isd0VBZ2FzRDA0QyxTQUVwRHg5QyxFQUFBbkMsUUFBQWtOLGNBQUNtcUMsRUFBQXIzQyxTQUFRRSxJQUFLLGdCQUFrQmlTLFFBQVNoSCxLQUFLdzdDLG1CQUFvQnIvQyxNQUFNLFVBQVV1bkIsV0FBQSxHQUFsRixTQWlCVDFzQixFQUFBbkMsUUFBQWtOLGNBQUMycUMsRUFBQTczQyxTQUFhdWxELFdBQVlBLEVBQ3RCdnpDLEtBQU03RyxLQUFLSSxNQUFNaXJELG1CQUNqQnRrRCxRQUFTL0csS0FBSzZyRCxvQkFBcUIvdkQsTUFwYi9CLDRDQW9idUQwNEMsU0FFdER4OUMsRUFBQW5DLFFBQUFrTixjQUFDbXFDLEVBQUFyM0MsU0FBT0UsSUFBSyxnQkFBa0JpUyxRQUFTaEgsS0FBSzZyRCxvQkFBcUIxdkQsTUFBTSxZQUFZdW5CLFdBQUEsR0FBcEYsU0FpQlQxc0IsRUFBQW5DLFFBQUFrTixjQUFDMnFDLEVBQUE3M0MsU0FBYXVsRCxXQUFZQSxFQUN0QnZ6QyxLQUFNN0csS0FBS0ksTUFBTWtyRCxvQkFDakJ2a0QsUUFBUy9HLEtBQUs4ckQscUJBQXNCaHdELE1BeGMvQiwyRUF3Y3dEMDRDLFNBRXhEeDlDLEVBQUFuQyxRQUFBa04sY0FBQ21xQyxFQUFBcjNDLFNBQU9FLElBQUssZ0JBQWtCaVMsUUFBU2hILEtBQUs4ckQscUJBQXNCM3ZELE1BQU0sWUFBWXVuQixXQUFBLEdBQXJGLFNBTVQxc0IsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEVBQUdPLEdBQUksRUFBR0QsR0FBSSxJQUVwQi9ILEtBQUtJLE1BQU13NUMsUUFDWjVpRCxFQUFBbkMsUUFBQWtOLGNBQUEsV0FDSS9LLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBbVYsY0FBYWp6QyxPQUFTeEwsTUFBTyxVQUFXUSxRQUFTLHFCQUF1QnFLLFFBQVNoSCxLQUFLMDdDLDBCQUN2RjFrRCxFQUFBbkMsUUFBQWtOLGNBQUMwakMsRUFBQXFWLG9CQUNHbnpDLE9BQVN4TCxNQUFPLFdBQ2hCdUssVUFBVzFHLEtBQUtJLE1BQU1nckQsV0FBYSxHQUFLN3BELEVBQVFpM0MsZUFDaER4eEMsUUFBU2hILEtBQUtJLE1BQU1nckQsV0FBYXByRCxLQUFLK3JELFlBQWNyZSx5QnJCZ3RWekV5ZCxHcUJ0aldXcGhELGFyQnlqV2xCbzNCLEVBQW1CLFdBQ25CLEdBQUluRCxHQUFTaCtCLElBRWJBLE1xQnRnV0ErckQsWUFBYyxXQUNWLEdBQUkzbUQsR0FBVzQ0QixFQUFLdm5DLE1BQU1pL0MsZ0JBQWdCOWxDLElBQUksU0FBQTB6QixHQUMxQyxHQUFJOFksS0FFSixPQURBQSxHQUFXQyxlQUFpQi9ZLEVBQVFyL0IsR0FDN0JtNEMsR0FHWCxJQUFJcGUsRUFBS3ZuQyxNQUFNay9DLGNBRVgsV0FEQTNYLEdBQUsxOUIsVUFBV281QyxtQkFBbUIsR0FJdkMsS0FBSzFiLEVBQUs1OUIsTUFBTWdyRCxXQUVaLFdBREFwdEIsR0FBSzE5QixVQUFXK3FELG9CQUFvQixHQUl4QyxJQUErQixHQUEzQnJ0QixFQUFLNTlCLE1BQU13MUMsYUFFWCxXQURBNVgsR0FBSzE5QixVQUFXZ3JELHFCQUFxQixHQUl6Q3R0QixHQUFLMTlCLFVBQVd5NUMsdUJBQXVCLEdBRXZDLElBQUl1QyxJQUVBOE8sV0FBWXB0QixFQUFLNTlCLE1BQU1nckQsV0FDdkJ2bkIsV0FBWTdGLEVBQUt2bkMsTUFBTW1KLFNBQVNxRSxHQUNoQytuRCxhQUFjNW1ELEVBR2xCNitCLFdBQU1DLEtBQVFDLFVBQU9DLE9BQXJCLGFBQXdDcEcsRUFBS3ZuQyxNQUFNbUosU0FBU3FFLEdBQTVELFdBQTBFcTRDLEdBQ3JFalksS0FBSyxTQUFBQyxHQUNGdEcsRUFBSzBGLHdCQUF3QixXQUM3QjFGLEVBQUsxOUIsVUFBV3k1Qyx1QkFBdUIsR0FBUyxXQUM1Qy9iLEVBQUsxOUIsVUFBV3M1QyxRQUFRLEtBRzVCLElBQUlrRCxHQUFnQjllLEVBQUsrZSx1QkFDekIvZSxHQUFLdm5DLE1BQU1tZ0QsZUFDWDVZLEVBQUt2bkMsTUFBTWc4QyxvQkFBb0JxSyxHQUMvQjllLEVBQUttYyxrQkFFUjVWLE1BQU0sU0FBQWxyQixHQUNIMmtCLEVBQUswRix3QkFBd0IsU0FDN0IxRixFQUFLMTlCLFVBQVd5NUMsdUJBQXVCLE9yQndnV25ELzVDLEtxQnBnV0ErOEMsc0JBQXdCLFdBQ3BCLEdBQUluSCxHQUFlNVgsRUFBSzU5QixNQUFNdzFDLFlBSzlCLE9BSHVCb1YsR0FBaUI5ekIsUUFBUSxtQkFBb0I4RyxFQUFLNTlCLE1BQU1nckQsWUFDMUVsMEIsUUFBUSxhQUErQixHQUFoQjBlLEVBQXFCQSxFQUFlLFdBQWFBLEVBQWUsY3JCd2dXaEc1MUMsS3FCbmdXQW02QyxjQUFnQixXQUVaLEdBQUl2RSxHQUFlNVgsRUFBSzU5QixNQUFNdzFDLGFBRTFCekMsSUFEZ0IsRUFBQWlFLEVBQUE3b0MsUUFBTyxHQUFJdkosTUFBS2c1QixFQUFLNTlCLE1BQU0raUIsY0FBZSxjQUN6QzhuQyxFQUFzQi96QixRQUFRLGFBQWdDLElBQWpCMGUsRUFBc0IsZUFBa0MsSUFBakJBLEVBQXFCQSxFQUFlLFdBQWFBLEVBQWUsYUFDcEsxZSxRQUFRLGVBQWdCOEcsRUFBSzU5QixNQUFNZ3JELFlBQ3hDcHRCLEdBQUt2bkMsTUFBTXk4QyxzQkFBc0JDLElyQnFnV3JDbnpDLEtxQmxnV0EwakMsd0JBQTBCLFNBQUFyZ0MsR0FDdEIyNkIsRUFBS3ZuQyxNQUFNdThDLHFCQUFxQjN2QyxJckJxZ1dwQ3JELEtxQmxnV0EwN0Msd0JBQTBCLFdBQ3RCMWQsRUFBSzE5QixVQUFXbTVDLGdCQUFnQixLckJxZ1dwQ3o1QyxLcUJsZ1dBczdDLHlCQUEyQixXQUN2QnRkLEVBQUsxOUIsVUFBV201QyxnQkFBZ0IsS3JCcWdXcEN6NUMsS3FCbGdXQXU3QyxzQkFBd0IsV0FFcEJ2ZCxFQUFLMTlCLFVBQVdtNUMsZ0JBQWdCLEdBQVMsV0FDckN6YixFQUFLdm5DLE1BQU1vM0MsYUFBYTdQLEVBQUs1OUIsTUFBTXU1QyxhckJzZ1czQzM1QyxLcUJqZ1dBdzdDLG1CQUFxQixXQUNqQnhkLEVBQUsxOUIsVUFBV281QyxtQkFBbUIsS3JCb2dXdkMxNUMsS3FCamdXQTZyRCxvQkFBc0IsV0FDbEI3dEIsRUFBSzE5QixVQUFXK3FELG9CQUFvQixLckJvZ1d4Q3JyRCxLcUJqZ1dBOHJELHFCQUF1QixXQUNuQjl0QixFQUFLMTlCLFVBQVdnckQscUJBQXFCLEtyQm9nV3pDdHJELEtxQmpnV0EyckQsdUJBQXlCLFNBQUEzdUMsR0FDckJnaEIsRUFBSzE5QixVQUNEaXJELFFBQVEsRUFDUkgsV0FBWXB1QyxFQUFNeG1CLE9BQU94QixPQUUxQixXQUFRZ3BDLEVBQUttYyxtQnJCc2dXcEJuNkMsS3FCbmdXQTByRCxjQUFnQixXQUNaLEdBQUlGLEdBQWN4dEIsRUFBS3ZuQyxNQUFNczhDLGNBQzdCLE9BQUkvVSxHQUFLNTlCLE1BQU1nckQsWUFBY0ksRUFBWWwwQixRQUFRMEcsRUFBSzU5QixNQUFNZ3JELGFBQWUsRUFFaEVwdEIsRUFBSzU5QixNQUFNZ3JELFdBRWYsVUF5TWZELEdBQVEzM0IsV0FDSmp5QixRQUFTa2pDLFVBQVVDLE9BQU9DLFlBRzlCd21CLEVBQVExMUMsYUFBZUEsQ0FFdkIsSUFBTWpMLElBQWdCLEVBQUFsUSxFQUFBekYsU0FBYzhGLEVBQU84UCxVckIrelYzQ2pXLEdBQVFLLFNxQjl6Vk8sRUFBQW9DLEVBQUEwVCxZQUFXSCxHQUFpQkksV0FBVyxJQUFRdWdELElyQmswVnhEYyxLQUNBLFNBQVUxM0QsRUFBUUMsRUFBU0MsR0FFakMsWUFpR0EsU0FBU0MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU29pRCxHQUF5QnBpRCxFQUFLcWlELEdBQVEsR0FBSXhnRCxLQUFhLEtBQUssR0FBSUUsS0FBSy9CLEdBQVdxaUQsRUFBSzFmLFFBQVE1Z0MsSUFBTSxHQUFrQnpCLE9BQU9nQixVQUFVODhCLGVBQWVuOUIsS0FBS2pCLEVBQUsrQixLQUFjRixFQUFPRSxHQUFLL0IsRUFBSStCLEdBQU0sT0FBT0YsR0FFbk4sUUFBU2xCLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQTJCQyxFQUFNQyxHQUFRLElBQUtELEVBQVEsS0FBTSxJQUFJRSxnQkFBZSw0REFBZ0UsUUFBT0QsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QkQsRUFBUEMsRUFFbE8sUUFBU0UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJUCxXQUFVLGlFQUFvRU8sR0FBZUQsR0FBU0UsVUFBWWhCLE9BQU9pQixPQUFPRixHQUFjQSxFQUFXQyxXQUFhRSxhQUFlbkIsTUFBT2UsRUFBVVosWUFBWSxFQUFPRSxVQUFVLEVBQU1ELGNBQWMsS0FBZVksSUFBWWYsT0FBT21CLGVBQWlCbkIsT0FBT21CLGVBQWVMLEVBQVVDLEdBQWNELEVBQVNNLFVBQVlMLEdzQnZ5VmplLFFBQVNpaEQsR0FBbUJ4Z0QsR0FBTyxHQUN6QmloQixHQUFpQ2poQixFQUFqQ2loQixTQUFVaEIsRUFBdUJqZ0IsRUFBdkJpZ0IsU0FBYStELEVBREVzOEIsRUFDUXRnRCxHQURSLHVCQUdqQyxPQUNFTyxHQUFBbkMsUUFBQWtOLGNBQUNtMUMsRUFBQXJpRCxRQUFEKzlCLEtBQ01uWSxHQUNKeWEsWUFBYXhkLEVBQ2JvZCxjQUFlLFNBQUFxaUIsR0FDYnpnQyxHQUNFbGdCLFFBQ0V4QixNQUFPbWlELEVBQU9uaUQsVUFJcEJ5K0IsbUJBQUEsRUFDQVcsT0FBTyxPdEJrclZibi9CLE9BQU9DLGVBQWVWLEVBQVMsY0FDN0JRLE9BQU8sR0FHVCxJQUFJNDlCLEdBQVczOUIsT0FBTzQ5QixRQUFVLFNBQVVyOEIsR0FBVSxJQUFLLEdBQUlFLEdBQUksRUFBR0EsRUFBSXdlLFVBQVV2ZSxPQUFRRCxJQUFLLENBQUUsR0FBSW84QixHQUFTNWQsVUFBVXhlLEVBQUksS0FBSyxHQUFJM0IsS0FBTys5QixHQUFjNzlCLE9BQU9nQixVQUFVODhCLGVBQWVuOUIsS0FBS2s5QixFQUFRLzlCLEtBQVF5QixFQUFPekIsR0FBTys5QixFQUFPLzlCLElBQVksTUFBT3lCLElBRW5QRixFQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXekIsV0FBYXlCLEVBQVd6QixhQUFjLEVBQU95QixFQUFXeEIsY0FBZSxFQUFVLFNBQVd3QixLQUFZQSxFQUFXdkIsVUFBVyxHQUFNSixPQUFPQyxlQUFlc0IsRUFBUUksRUFBVzdCLElBQUs2QixJQUFpQixNQUFPLFVBQVVwQixFQUFhcUIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlOLEVBQWlCZixFQUFZUyxVQUFXWSxHQUFpQkMsR0FBYVAsRUFBaUJmLEVBQWFzQixHQUFxQnRCLE1zQi8xV2hpQnVCLEVBQUF0QyxFQUFBLEd0Qm0yV0l1QyxFQUFVdEMsRUFBdUJxQyxHc0JsMldyQ2sxQyxFQUFBeDNDLEVBQUEsSXRCczJXSXkzQyxFQUFXeDNDLEVBQXVCdTNDLEdzQnIyV3RDM1ksRUFBQTcrQixFQUFBLEd0QnkyV0k2cUMsRUFBYzVxQyxFQUF1QjQrQixHc0J4Mld6Q3I4QixFQUFBeEMsRUFBQSxJQUNBZ3hDLEVBQUFoeEMsRUFBQSxLQU1BMmlELEVBQUEzaUQsRUFBQSxNdEJ5MldJNGlELEVBQVkzaUQsRUFBdUIwaUQsR3NCeDJXdkNFLEVBQUE3aUQsRUFBQSxNQUVBdTNDLEVBQUF2M0MsRUFBQSxJQUNBOGlELEVBQUE5aUQsRUFBQSxLdEI2MldJK2lELEVBQVM5aUQsRUFBdUI2aUQsR3NCNTJXcENuZ0QsRUFBQTNDLEVBQUEsSXRCZzNXSTRDLEVBQWUzQyxFQUF1QjBDLEdzQi8yVzFDcWdELEVBQUFoakQsRUFBQSxLQUNBMnFDLEd0QmszV2tCMXFDLEVBQXVCK2lELEdzQmwzV3pDaGpELEVBQUEsS3RCczNXSTRxQyxFQUFVM3FDLEVBQXVCMHFDLEdzQnIzV3JDRixFQUFBenFDLEVBQUEsSXRCeTNXSTBxQyxFQUFXenFDLEVBQXVCd3FDLEdzQngzV3RDMlksRUFBQXBqRCxFQUFBLE10QjQzV0l5aUQsRUFBc0J4aUQsRUFBdUJtakQsR3NCMzNXakQzZ0QsRUFBQXpDLEVBQUEsSXRCKzNXSTBDLEVBQVN6QyxFQUF1QndDLEdzQjkzV3BDMG5DLEVBQUFucUMsRUFBQSxLdEJrNFdJb3FDLEVBQVducUMsRUFBdUJrcUMsR3NCajRXdENFLEVBQUFycUMsRUFBQSxLdEJxNFdJc3FDLEVBQWFycUMsRUFBdUJvcUMsR3NCcDRXeENxTixFQUFBMTNDLEVBQUEsSXRCdzRXSTIzQyxFQUFxQjEzQyxFQUF1QnkzQyxHc0J2NFdoRE0sRUFBQWg0QyxFQUFBLEt0QjI0V0lpNEMsRUFBaUJoNEMsRUFBdUIrM0MsR3NCMTRXNUNxTCxFQUFBcmpELEVBQUEsS0FDQW8xQyxFQUFBcDFDLEVBQUEsS0FDQXNGLEVBQUF0RixFQUFBLElBQ0E0RixFQUFBNUYsRUFBQSxJdEJpNVdJNkYsRUFBa0I1RixFQUF1QjJGLEdzQmg1VzdDRSxFQUFBOUYsRUFBQSxJdEJvNVdJK0YsRUFBYzlGLEVBQXVCNkYsR3NCbjVXekNqRCxFQUFBN0MsRUFBQSxHQUdNeTNELEd0Qm81V2F4M0QsRUFBdUI0QyxHc0JwNVdwQixxRUFRaEI2MEQsRUFDSiw0REFDSUMsR0FDSixvRUFHSXp4RCxJQUZRLEdBQUlxSyxNQUVILFNBQUFwSyxHQUFBLE9BQ2Jzd0QsaUJBQ0U3dUQsU0FBVSxXQUNWb0IsUUFBVSxJQUNWdEIsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixNQUUvQjBrQyxjQUNFNWpDLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsTUFFL0Iya0MsV0FDRTVpQyxnQkFBaUJ4QyxFQUFNTyxRQUFRK0QsZ0JBQWdCN0QsS0FDL0NXLE9BQVEsbUJBQ1IrQyxVQUFXLE9BQ1hxcUIsT0FBUSxtQkFFVnVTLE1BQ0VyZ0MsTUFBTyxPQUNQcUIsUUFBUyxNQUNUUixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCb0MsUUFBUyxHQUNUcEIsU0FBVSxXQUNWNjdDLFlBQ0UxWCxhQUFjLHFCQUVoQjJYLFdBQ0UzWCxhQUFjLHNCQUdsQjRYLGFBQ0U5OEMsTUFBTyxPQUNQcUIsUUFBUyxNQUNUbWxCLFdBQVksT0FDWnpsQixTQUFVLFdBQ1ZGLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JvQyxRQUFTLEdBRVR5NkMsWUFDRTFYLGFBQWMscUJBRWhCMlgsV0FDRTNYLGFBQWMsc0JBR2xCNlgsbUJBQ0VsOEMsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3QkksV0FBWSxTQUNaSCxNQUFPLG9CQUNQa0MsWUFBYSxTQUNiakIsYUFBYyxTQUNkUCxPQUFRLHFCQUVWczhDLGFBQ0VuOEMsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3Qm9DLFFBQVMsS0FFWDBCLFlBQ0VoRCxNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixNQUVqQ3NsQyxZQUNFeGtDLE1BQU92QixFQUFNTyxRQUFRNkIsVUFBVTNCLE1BRWpDbTlDLGdCQUNFLzZDLFFBQVMsR0FDVHhCLE9BQVEsY0FJTnc4QyxJQUFnQixFQUFBek0sRUFBQTBNLGlCQUNwQkMsV0FDRUMsbUJBQ0V2N0IsU0FDRWpnQixnQkFBaUJ5N0MsVUFBS0MsS0FDdEI5OEMsT0FBUSxTQUdaKzhDLDBCQUNFbjRCLGlCQUtGbzRCLGVBQ0VucEMsS0FDRTFULE1BQU8wOEMsVUFBS0ksTUFFZHg3QixVQUNFcmdCLGdCQUFpQnk3QyxVQUFLLE1BRXhCOW9DLFNBQ0U1VCxNQUFPMDhDLFVBQUssT0FHaEJLLG1CQUNFNy9CLE9BQ0VsZCxNQUFPLHVCQUdYZzlDLGlCQUNFNzhCLGNBQ0VuZ0IsTUFBTzA4QyxVQUFLLFVBTWR3VCxHdEI4NVdTLFNBQVV0c0QsR3NCNzVXdkIsUUFBQXNzRCxHQUFZNTFELEdBQU9uQixFQUFBMEssS0FBQXFzRCxFQUFBLElBQUFwc0QsR0FBQXZLLEVBQUFzSyxNQUFBcXNELEVBQUFoMkQsV0FBQXBCLE9BQUFpTCxlQUFBbXNELElBQUF6MkQsS0FBQW9LLEtBQ1h2SixHQURXMHFDLElBQUF2ckMsS0FBQXFLLEVBRWpCLElBQUltNUMsR0FBZ0JuNUMsRUFBS3hKLE1BQU0rTyxRQUFRQSxRQUFRYSxNQUFNNmxELEdBQ2pEL29DLEVBQWUsR0FDZm1wQyxFQUFlLEVBSkYsT0FLYmxULElBQWlCQSxFQUFjemlELE9BQVMsSUFDMUN3c0IsRUFBZSxHQUFJbmUsTUFBS28wQyxFQUFjLElBQ3RDa1QsRUFBZWxULEVBQWMsR0FBS0EsRUFBYyxHQUFHNWhCLFVBQVUsR0FBSyxNQUdoRHYzQixFQUFLeEosTUFBTXE4QyxpQkFFYnhiLFFBQVFnMUIsR0FBZ0IsSUFDeENBLEVBQWUsSUFHakJyc0QsRUFBS0csT0FDSDBhLFVBQVUsRUFDVnkrQixXQUFXLEVBQ1grUyxhQUFjQSxFQUNkbnBDLGFBQWMsR0FBSW5lLE1BQUttZSxHQUN2QnMyQixnQkFBZ0IsRUFDaEJDLG1CQUFtQixFQUNuQjZTLHVCQUF1QixFQUN2QnRhLGlCQUFpQixFQUNqQjBILFNBQVUxNUMsRUFBS3hKLE1BQU0rTyxRQUFRdkIsR0FDN0IyMUMsT0FBUTM1QyxFQUFLeEosTUFBTStPLFFBQVEyb0MsS0FDM0IwTCxrQkFBbUI1NUMsRUFBS3hKLE1BQU0rTyxRQUFRMm9DLE1BQ2xDLEVBQUEySixFQUFBdnBDLFFBQU8sR0FBSXZKLE1BQUtvMEMsRUFBYyxJQUFLLGdCQUNuQyxHQUVKVyx1QkFBdUIsRUFDdkJwRSxjQUFlLE1BaENBMTFDLEV0Qml2WG5CLE1BblZBbkssR0FBVXUyRCxFQUFVdHNELEdBMENwQnpKLEVBQWErMUQsSUFDWHQzRCxJQUFLLDRCQUNMQyxNQUFPLFNzQnQ2V2lCNlEsR0FDeEI3RixLQUFLTSxVQUNIcTFDLGNBQWU5dkMsRUFBVTh2QyxtQnRCMDZXM0I1Z0QsSUFBSyxTQUNMQyxNQUFPLFdzQnp2V0EsR0FBQWlSLEdBQUFqRyxLQUNDdUIsRUFBWXZCLEtBQUt2SixNQUFqQjhLLFFBREQyRSxFQUVvQmxHLEtBQUt2SixNQUFmbUUsR0FGVnNMLEVBRUNWLFFBRkRVLEVBRVV0TCxPQUNUdy9DLEVBQWVwNkMsS0FBS3ZKLE1BQXBCMmpELFdBRUpvUyxFQUFnQnhzRCxLQUFLdkosTUFBTXE4QyxpQkFDM0IyWSxFQUFjZSxFQUFjNThDLElBQUksU0FBQzA4QyxFQUFjcm9ELEdBQWYsTUFDbENqTixHQUFBbkMsUUFBQWtOLGNBQUNnOUIsRUFBQWxxQyxTQUNDRSxJQUFLLGVBQWlCa1AsRUFDdEJqUCxNQUFPczNELEVBQ1AvcUQsU0FBV3RHLEtBQU1zRyxFQUFRdytCLGVBRXhCdXNCLElBSUwsT0FDRXQxRCxHQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzJTLFdBQUEsRUFBVWQsVUFBV25GLEVBQVE4NEMsZUFDakNyakQsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQ0MwSyxNQUFBLEVBQ0FrSSxHQUFJLEdBQ0pPLEdBQUksR0FDSkQsR0FBSSxHQUNKUCxXQUFBLEVBQ0EvTCxXQUFXLFNBQ1hpTSxRQUFRLGNBRVIxUSxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQVNyTSxNQUFPLFNBQ2xCMEUsS0FBS0ksTUFBTTI1Qyx1QkFDVi9pRCxFQUFBbkMsUUFBQWtOLGNBQUNxcUMsRUFBQXYzQyxTQUFpQjZSLFVBQVduRixFQUFRODJDLG9CQUV0Q3I0QyxLQUFLSSxNQUFNdzVDLFFBQ1Y1aUQsRUFBQW5DLFFBQUFrTixjQUFDMGpDLEVBQUE2VSxNQUNDM3lDLE9BQ0V4TCxNQUFPLFVBQ1BxQixZQUFhLFNBQ2JqQixhQUFjLFNBQ2RQLE9BQVEsU0FDUlYsTUFBTyxhQUtmdEUsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEdBQ0hTLEtBQUtJLE1BQU13NUMsUUFDVjVpRCxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FDQzhTLE9BQVNsSyxRQUFTLEdBQ2xCaUosVUFBV25GLEVBQVErMkMsYUFGckIsY0FRSnRoRCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsSUFDRlMsS0FBS0ksTUFBTXc1QyxRQUNYNWlELEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUNDOFMsT0FBU2xLLFFBQVMsR0FDbEJpSixVQUFXbkYsRUFBUSsyQyxhQUZyQixhQVFKdGhELEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxHQUNKdkksRUFBQW5DLFFBQUFrTixjQUFDMUssRUFBQXhDLFNBQVc4UyxPQUFTbEssUUFBUyxHQUFLaUosVUFBV25GLEVBQVErMkMsYUFBdEQsZ0JBSUZ0aEQsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEdBQ0p2SSxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzZSLFVBQVduRixFQUFRKzJDLGFBQS9CLGdCQUlGdGhELEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxHQUNILElBQ0FTLEtBQUtJLE1BQU13NUMsUUFDVjVpRCxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FDQzhTLE9BQ0VtYSxXQUFZLE9BQ1ozbEIsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixPQUc5QjJFLEtBQUtJLE1BQU15NUMsb0JBSWxCN2lELEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxJQUNGUyxLQUFLSSxNQUFNdzVDLFFBQ1g1aUQsRUFBQW5DLFFBQUFrTixjQUFDdTFDLEVBQUEzbEMseUJBQXdCd0QsTUFBT3pJLFdBQzlCMVYsRUFBQW5DLFFBQUFrTixjQUFDaXFDLEVBQUFnUCxrQkFBaUJwZ0QsTUFBTzY5QyxJQUN2QnpoRCxFQUFBbkMsUUFBQWtOLGNBQUN1MUMsRUFBQXB5QixZQUNDdmQsT0FBUzZlLFNBQVUsV0FDbkIvQyxxQkFBc0JaLFNBQVEsR0FDOUJ0VSxPQUFPLGVBQ1BvSyxlQUFlLCtCQUNmMEIsWUFDRXBXLEdBQUksb0JBQXNCakUsS0FBS0ksTUFBTXU1QyxTQUNyQ2p6QyxVQUFXbkYsRUFBUW82QixLQUNuQjdnQixTQUFVK0gsU0FBUSxHQUNsQndmLGlCQUFrQnhmLFNBQVEsSUFFNUI5SyxJQUFLLFNBQUFrakMsR0FDSGgxQyxFQUFLaTFDLE9BQVNELEdBRWhCam1ELE1BQU9nTCxLQUFLSSxNQUFNK2lCLGFBQ2xCek0sU0FBVTFXLEtBQUttN0MsaUJBRWY1MkIsc0JBQXNCLEVBQ3RCaE0sUUFBUyxHQUFJdlQsUUFFZmhPLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBMlYsV0FDQzEwQyxVQUFXbkYsRUFBUXBDLFdBQ25CNkgsUUFBU2hILEtBQUtnYSxnQkFNeEJoakIsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtraUIsT0FBUXpoQixLQUFLSSxNQUFNdzVDLFNBQVc1NUMsS0FBS0ksTUFBTWtzRCxjQUNsRHQxRCxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzZSLFVBQVduRixFQUFRKzJDLGFBQS9CLFlBSUZ0aEQsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQ0MwSyxNQUFBLEVBRUFraUIsT0FBUXpoQixLQUFLSSxNQUFNdzVDLFFBRW5CNWlELEVBQUFuQyxRQUFBa04sY0FBQzg4QixFQUFBaHFDLFNBQ0NvUCxHQUFHLHNCQUNIalAsTUFBT2dMLEtBQUt5c0Qsa0JBQ1ovMUMsU0FBVTFXLEtBQUswc0QseUJBQ2ZuckQsU0FDRWcvQixXQUFZaC9CLEVBQVEycEQsZ0JBQ3BCOTVCLEtBQU03dkIsRUFBUW8vQixZQUVoQmo2QixVQUNFMUcsS0FBS0ksTUFBTWtzRCxhQUNQL3FELEVBQVFvNkIsS0FDUnA2QixFQUFRNjJDLFlBRWRoVyxXQUNFN2dDLFNBQ0V5YSxNQUFPemEsRUFBUXkrQixhQUluQmhwQyxFQUFBbkMsUUFBQWtOLGNBQUNnOUIsRUFBQWxxQyxTQUNDME0sU0FBV3RHLEtBQU1zRyxFQUFRdytCLGNBQ3pCL3FDLE1BQU0sU0FDTm1TLFVBQUEsR0FIRixVQU9Dc2tELElBR0x6MEQsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQ0MwSyxNQUFBLEVBRUFraUIsUUFBU3poQixLQUFLSSxNQUFNdzVDLFFBRXRCNWlELEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUFXNlIsVUFBV25GLEVBQVEycEQsaUJBQWtCbHJELEtBQUtJLE1BQU1rc0QsZ0JBSTlEdDFELEVBQUFuQyxRQUFBa04sY0FBQzJxQyxFQUFBNzNDLFNBQ0N1bEQsV0FBWUEsRUFDWnZ6QyxLQUFNN0csS0FBS0ksTUFBTXVzRCxpQkFDakI1bEQsUUFBUy9HLEtBQUs0c0Qsa0JBQ2Q5d0QsTUFyZlksNkNBc2ZaMDRDLFNBQ0V4OUMsRUFBQW5DLFFBQUFrTixjQUFDbXFDLEVBQUFyM0MsU0FDQ21TLFFBQVNoSCxLQUFLNHNELGtCQUNkendELE1BQU0sWUFDTnVuQixXQUFBLEdBSEYsU0F5Qkoxc0IsRUFBQW5DLFFBQUFrTixjQUFDMnFDLEVBQUE3M0MsU0FDQ3VsRCxXQUFZQSxFQUNadnpDLEtBQU03RyxLQUFLSSxNQUFNcTVDLGVBQ2pCMXlDLFFBQVMvRyxLQUFLcTdDLHNCQUNkdi9DLE1BdmhCUiw2RkF3aEJRMDRDLFNBQ0V4OUMsRUFBQW5DLFFBQUFrTixjQUFDbXFDLEVBQUFyM0MsU0FBT21TLFFBQVNoSCxLQUFLczdDLHlCQUEwQm4vQyxNQUFNLGFBQXRELFlBR0FuRixFQUFBbkMsUUFBQWtOLGNBQUNtcUMsRUFBQXIzQyxTQUNDbVMsUUFBU2hILEtBQUt1N0Msc0JBQ2RwL0MsTUFBTSxVQUNOdW5CLFdBQUEsR0FIRixZQXNCSjFzQixFQUFBbkMsUUFBQWtOLGNBQUMycUMsRUFBQTczQyxTQUNDdWxELFdBQVlBLEVBQ1p2ekMsS0FBTTdHLEtBQUtJLE1BQU1zNUMsa0JBQ2pCM3lDLFFBQVMvRyxLQUFLdzdDLG1CQUNkMS9DLE1BcGpCUix3RUFxakJRMDRDLFNBQ0V4OUMsRUFBQW5DLFFBQUFrTixjQUFDbXFDLEVBQUFyM0MsU0FDQ21TLFFBQVNoSCxLQUFLdzdDLG1CQUNkci9DLE1BQU0sWUFDTnVuQixXQUFBLEdBSEYsU0FzQkoxc0IsRUFBQW5DLFFBQUFrTixjQUFDMnFDLEVBQUE3M0MsU0FDQ3VsRCxXQUFZQSxFQUNadnpDLEtBQU03RyxLQUFLSSxNQUFNbXNELHNCQUNqQnhsRCxRQUFTL0csS0FBSzZzRCx1QkFDZC93RCxNQTdrQlIsMERBOGtCUTA0QyxTQUNFeDlDLEVBQUFuQyxRQUFBa04sY0FBQ21xQyxFQUFBcjNDLFNBQ0NtUyxRQUFTaEgsS0FBSzZzRCx1QkFDZDF3RCxNQUFNLFlBQ051bkIsV0FBQSxHQUhGLFNBU0oxc0IsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEVBQUdPLEdBQUksRUFBR0QsR0FBSSxJQUN6Qi9ILEtBQUtJLE1BQU13NUMsUUFDWDVpRCxFQUFBbkMsUUFBQWtOLGNBQUEsV0FDRS9LLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBbVYsY0FDQ2p6QyxPQUFTeEwsTUFBTyxVQUFXUSxRQUFTLHFCQUNwQ3FLLFFBQVNoSCxLQUFLMDdDLDBCQUVoQjFrRCxFQUFBbkMsUUFBQWtOLGNBQUMwakMsRUFBQXFWLG9CQUNDbnpDLE9BQVN4TCxNQUFPLFdBQ2hCdUssVUFDRTFHLEtBQUtJLE1BQU1rc0QsYUFBZSxHQUFLL3FELEVBQVFpM0MsZUFFekN4eEMsUUFDRWhILEtBQUtJLE1BQU1rc0QsYUFBZXRzRCxLQUFLOHNELGFBQWVwZix5QnRCNnZXdkQyZSxHc0JsdlhjdGlELGF0QnF2WG5CbzNCLEdBQW1CLFdBQ3JCLEdBQUluRCxHQUFTaCtCLElBRWJBLE1zQjdzWEErc0QscUJBQXVCLFdBQ3JCLE1BQUkvdUIsR0FBSzU5QixNQUFNdTFDLGVBQ2IzWCxFQUFLMTlCLFVBQVdvNUMsbUJBQW1CLEtBQzVCLE1BR0osRUFBQTMvQyxFQUFBa2lELGFBQVlqZSxFQUFLNTlCLE1BQU0raUIsZ0JBQzFCNmEsRUFBSzE5QixVQUFXaXNELHVCQUF1QixLQUVoQyxJdEJtdFhYdnNELEtzQjdzWEE4c0QsYUFBZSxXQUNiLEdBQUs5dUIsRUFBSyt1Qix1QkFBVixDQUlBLElBQUsvdUIsRUFBSzU5QixNQUFNa3NELGFBRWQsV0FEQXR1QixHQUFLMTlCLFVBQVdxc0Qsa0JBQWtCLEdBSXBDM3VCLEdBQUsxOUIsVUFBV3k1Qyx1QkFBdUIsR0FDdkMsSUFBSWlULEdBQWEsR0FBSWhvRCxNQUFLZzVCLEVBQUs1OUIsTUFBTStpQixjQUNqQzhwQyxHQUFtQixFQUFBblYsRUFBQXZwQyxRQUFPeStDLEVBQVksY0FFdEMxUSxHQUNGNFEsUUFBU0QsRUFDVEUsYUFBY0YsRUFDZEcsUUFBU3B2QixFQUFLNTlCLE1BQU1rc0QsYUFJdEJyb0IsV0FDR0MsS0FBUUMsVUFBT0MsT0FEbEIsYUFDcUNwRyxFQUFLdm5DLE1BQU1tSixTQUFTcUUsR0FEekQsUUFDb0VxNEMsR0FDakVqWSxLQUFLLFNBQUFDLEdBQ0p0RyxFQUFLMEYsd0JBQXdCLFdBQzdCMUYsRUFBSzE5QixVQUFXdTVDLGtCQUFtQjdiLEVBQUs2ZSxxQkFBdUIsV0FDN0Q3ZSxFQUFLMTlCLFVBQVd5NUMsdUJBQXVCLEdBQVMsV0FDOUMvYixFQUFLMTlCLFVBQVdzNUMsUUFBUSxPQUk1QixJQUFJa0QsR0FBZ0I5ZSxFQUFLK2UsdUJBQ3pCL2UsR0FBS3ZuQyxNQUFNbWdELGVBQ1g1WSxFQUFLdm5DLE1BQU1nOEMsb0JBQW9CcUssR0FDL0I5ZSxFQUFLbWMsa0JBRU41VixNQUFNLFNBQUFsckIsR0FDTDJrQixFQUFLMEYsd0JBQXdCLFNBQzdCMUYsRUFBSzE5QixVQUFXeTVDLHVCQUF1QixRdEI4c1g3Qy81QyxLc0Izc1hBKzhDLHNCQUF3QixXQUN0QixHQUNJc1EsSUFEZXJ2QixFQUFLNTlCLE1BQU13MUMsYUFDVjVYLEVBQUt2bkMsTUFBTTJNLGdCQUUzQmtxRCxFQUN3QixZQUF6QnR2QixFQUFLdm5DLE1BQU1rZ0QsWUFDZSxtQkFBekIzWSxFQUFLdm5DLE1BQU1rZ0QsYUFDWDBXLEVBRUVydkIsRUFBS3ZuQyxNQUFNa2dELFdBRFgwVyxDQWlCTixPQWZ1QmxCLEdBQWtCajFCLFFBQ3ZDLGlCQUNBbzJCLEdBRUNwMkIsUUFDQyxrQkFDQThHLEVBQUs1OUIsTUFBTStpQixhQUNQLE9BQVEsRUFBQTIwQixFQUFBdnBDLFFBQU95dkIsRUFBSzU5QixNQUFNK2lCLGFBQWMsY0FDeEMsSUFFTCtULFFBQ0Msa0JBQ0E4RyxFQUFLNTlCLE1BQU1rc0QsYUFBZSxPQUFTdHVCLEVBQUs1OUIsTUFBTWtzRCxhQUFlLEt0QityWG5FdHNELEtzQnpyWEEwakMsd0JBQTBCLFNBQUFyZ0MsR0FDeEIyNkIsRUFBS3ZuQyxNQUFNdThDLHFCQUFxQjN2QyxJdEI0clhsQ3JELEtzQnpyWEEwN0Msd0JBQTBCLFdBQ3hCMWQsRUFBSzE5QixVQUFXbTVDLGdCQUFnQixLdEI0clhsQ3o1QyxLc0J6clhBczdDLHlCQUEyQixXQUN6QnRkLEVBQUsxOUIsVUFBV201QyxnQkFBZ0IsS3RCNHJYbEN6NUMsS3NCenJYQXU3QyxzQkFBd0IsV0FDdEJ2ZCxFQUFLMTlCLFVBQVdtNUMsZ0JBQWdCLEdBQVMsV0FDdkN6YixFQUFLdm5DLE1BQU1vM0MsYUFBYTdQLEVBQUs1OUIsTUFBTXU1QyxhdEI2clh2QzM1QyxLc0J6clhBdzdDLG1CQUFxQixXQUNuQnhkLEVBQUsxOUIsVUFBV281QyxtQkFBbUIsS3RCNHJYckMxNUMsS3NCenJYQTRzRCxrQkFBb0IsV0FDbEI1dUIsRUFBSzE5QixVQUFXcXNELGtCQUFrQixLdEI0clhwQzNzRCxLc0J6clhBNnNELHVCQUF5QixXQUN2Qjd1QixFQUFLMTlCLFVBQVdpc0QsdUJBQXVCLEt0QjRyWHpDdnNELEtzQnpyWEEyNkMsY0FBZ0IsU0FBQW5oQyxHQUNkd2tCLEVBQUsxOUIsVUFBV3dhLFVBQVUsRUFBT3krQixXQUFXLEdBQVEsV0FDbERsUCxTQUNHQyxlQUFlLHdCQUEwQnRNLEVBQUs1OUIsTUFBTXU1QyxVQUNwRDFJLFd0QjJyWFBqeEMsS3NCdnJYQW03QyxpQkFBbUIsU0FBQS9zQyxHQUNqQjR2QixFQUFLMTlCLFVBQVc2aUIsYUFBYy9VLEdBQVEsV0FDcEM0dkIsRUFBS21jLG1CdEIyclhUbjZDLEtzQnZyWEE2OEMsa0JBQW9CLFdBQ2xCLEdBQUk1NEMsR0FBSyxvQkFBc0IrNUIsRUFBSzU5QixNQUFNdTVDLFFBQzFDLE9BQU90UCxVQUFTQyxlQUFlcm1DLEdBQUlqUCxPdEIwclhyQ2dMLEtzQnZyWEEwc0QseUJBQTJCLFNBQUExdkMsR0FDekJnaEIsRUFBSzE5QixVQUVEaXJELFFBQVEsRUFDUmUsYUFBY3R2QyxFQUFNeG1CLE9BQU94QixPQUc3QixXQUNFZ3BDLEVBQUttYyxtQnRCeXJYWG42QyxLc0JwclhBeXNELGdCQUFrQixXQUNoQixHQUFJRCxHQUFnQnh1QixFQUFLdm5DLE1BQU1xOEMsZ0JBQy9CLE9BQ0U5VSxHQUFLNTlCLE1BQU1rc0QsY0FDWEUsRUFBY2wxQixRQUFRMEcsRUFBSzU5QixNQUFNa3NELGVBQWlCLEVBRTNDdHVCLEVBQUs1OUIsTUFBTWtzRCxhQUViLFV0Qm9yWFR0c0QsS3NCanJYQW02QyxjQUFnQixXQUNkLEdBQ0k2QyxJQURlaGYsRUFBSzU5QixNQUFNdzFDLGNBQ1YsRUFBQWtDLEVBQUF2cEMsUUFBTyxHQUFJdkosTUFBS2c1QixFQUFLNTlCLE1BQU0raUIsY0FBZSxlQUMxRGd3QixFQUFpQmlaLEdBQXVCbDFCLFFBQzFDLGtCQUNBOGxCLEdBQ0E5bEIsUUFDQSxrQkFDQThHLEVBQUs1OUIsTUFBTWtzRCxhQUFldHVCLEVBQUs1OUIsTUFBTWtzRCxhQUFlLEdBRXREdHVCLEdBQUt2bkMsTUFBTXk4QyxzQkFBc0JDLEl0QjhxWG5DbnpDLEtzQjNxWEFnYSxXQUFhLFNBQUFSLEdBQ1h3a0IsRUFBS2tkLE9BQU9yMEMsS0FBSzJTLElBOFRyQnk5QixHQUFtQnpqQixXQUNqQjliLFNBQVUrc0IsVUFBVW5RLEtBQUtxUSxXQUN6Qmp1QixTQUFVK3RCLFVBQVVuUSxLQUFLcVEsWUFHM0IwbkIsR0FBUzc0QixXQUNQanlCLFFBQVNrakMsVUFBVUMsT0FBT0MsV0FHNUIsSUFBTW42QixLQUFnQixFQUFBbFEsRUFBQXpGLFNBQWM4RixHQUFROFAsVXRCcTRXNUNqVyxHQUFRSyxTc0JwNFdPLEVBQUFvQyxFQUFBMFQsWUFBV0gsSUFBaUJJLFdBQVcsSUFBUXloRCxLdEJ3NFd4RGtCLEtBQ0EsU0FBVWg1RCxFQUFRQyxFQUFTQyxHQUVqQyxZQW1IQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTVyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTUMsR0FBUSxJQUFLRCxFQUFRLEtBQU0sSUFBSUUsZ0JBQWUsNERBQWdFLFFBQU9ELEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJELEVBQVBDLEVBRWxPLFFBQVNFLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVloQixPQUFPaUIsT0FBT0YsR0FBY0EsRUFBV0MsV0FBYUUsYUFBZW5CLE1BQU9lLEVBQVVaLFlBQVksRUFBT0UsVUFBVSxFQUFNRCxjQUFjLEtBQWVZLElBQVlmLE9BQU9tQixlQUFpQm5CLE9BQU9tQixlQUFlTCxFQUFVQyxHQUFjRCxFQUFTTSxVQUFZTCxHdUJwcFlqZSxRQUFTdzNELEdBQWM1eUQsR0FJbkIsT0FDSThELElBQVFBLE1BQ1JDLEtBQVNBLE1BQ1RnaEIsa0NBQ0Fya0IsTUFBTyxPQUNQOHRCLE9BQVF4dUIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQU8sY3ZCcWhZN0NwRyxPQUFPQyxlQUFlVixFQUFTLGNBQzNCUSxPQUFPLEdBR1gsSUFBSXNCLEdBQWUsV0FBYyxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVd6QixXQUFheUIsRUFBV3pCLGFBQWMsRUFBT3lCLEVBQVd4QixjQUFlLEVBQVUsU0FBV3dCLEtBQVlBLEVBQVd2QixVQUFXLEdBQU1KLE9BQU9DLGVBQWVzQixFQUFRSSxFQUFXN0IsSUFBSzZCLElBQWlCLE1BQU8sVUFBVXBCLEVBQWFxQixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWU4sRUFBaUJmLEVBQVlTLFVBQVdZLEdBQWlCQyxHQUFhUCxFQUFpQmYsRUFBYXNCLEdBQXFCdEIsTXVCeGtZaGlCdUIsRUFBQXRDLEVBQUEsR3ZCNGtZSXVDLEVBQVV0QyxFQUF1QnFDLEd1QjNrWXJDdThCLEVBQUE3K0IsRUFBQSxHdkIra1lJNnFDLEVBQWM1cUMsRUFBdUI0K0IsR3VCOWtZekNyOEIsRUFBQXhDLEVBQUEsSUFDQWl4QyxFQUFBanhDLEVBQUEsS3ZCbWxZSWt4QyxFQUFhanhDLEVBQXVCZ3hDLEd1QmxsWXhDRSxFQUFBbnhDLEVBQUEsS3ZCc2xZSW94QyxFQUFpQm54QyxFQUF1Qmt4QyxHdUJybFk1Q2xILEVBQUFqcUMsRUFBQSxLdkJ5bFlJa3FDLEVBQWFqcUMsRUFBdUJncUMsR3VCeGxZeEMrdUIsRUFBQWg1RCxFQUFBLEtBQ0F5QyxHdkIybFlvQnhDLEVBQXVCKzRELEd1QjNsWTNDaDVELEVBQUEsS3ZCK2xZSTBDLEVBQVN6QyxFQUF1QndDLEd1QjlsWXBDdzJELEVBQUFqNUQsRUFBQSxLQUNBazVELEd2QmltWTZCajVELEVBQXVCZzVELEd1QmptWXBEajVELEVBQUEsTUFDQW01RCxHdkJvbVlZbDVELEVBQXVCaTVELEd1QnBtWW5DbDVELEVBQUEsTUFDQXFELEd2QnVtWTRCcEQsRUFBdUJrNUQsR3VCdm1ZbkRuNUQsRUFBQSxLdkIybVlJc0QsRUFBVXJELEVBQXVCb0QsR3VCMW1ZckNtMEMsRUFBQXgzQyxFQUFBLEl2QjhtWUl5M0MsRUFBV3gzQyxFQUF1QnUzQyxHdUI3bVl0Q3B6QyxFQUFBcEUsRUFBQSxLQUNBbzVELEd2QmduWVluNUQsRUFBdUJtRSxHdUJoblluQ3BFLEVBQUEsS0FDQXE1RCxHdkJtbllhcDVELEVBQXVCbTVELEd1Qm5uWXBDcDVELEVBQUEsTUFDQTJDLEd2QnNuWW9CMUMsRUFBdUJvNUQsR3VCdG5ZM0NyNUQsRUFBQSxLdkIwbllJNEMsRUFBZTNDLEVBQXVCMEMsR3VCem5ZMUN1Z0QsRUFBQWxqRCxFQUFBLEt2QjZuWUltakQsRUFBVWxqRCxFQUF1QmlqRCxHdUI1bllyQ2lULEVBQUFuMkQsRUFBQSxLdkJnb1lJczVELEVBQVdyNUQsRUFBdUJrMkQsR3VCL25ZdENDLEVBQUFwMkQsRUFBQSxLdkJtb1lJdTVELEVBQWtCdDVELEVBQXVCbTJELEd1QmxvWTdDQyxFQUFBcjJELEVBQUEsS3ZCc29ZSXc1RCxFQUFnQnY1RCxFQUF1Qm8yRCxHdUJyb1kzQ3J5RCxFQUFBaEUsRUFBQSxJdkJ5b1lJaUUsRUFBVWhFLEVBQXVCK0QsR3VCeG9ZckN5MUQsRUFBQXo1RCxFQUFBLE12QjRvWUkwNUQsRUFBY3o1RCxFQUF1Qnc1RCxHdUIzb1l6Q3Z1QixFQUFBbHJDLEVBQUEsS3ZCK29ZSW1yQyxFQUFVbHJDLEVBQXVCaXJDLEd1QjlvWXJDeUYsRUFBQTN3QyxFQUFBLElBQ0FzRixFQUFBdEYsRUFBQSxJQUNBNkMsRUFBQTdDLEVBQUEsR3ZCb3BZSThDLEVBQWU3QyxFQUF1QjRDLEd1Qm5wWTFDODJELEVBQUEzNUQsRUFBQSxNQUdNc2pELEl2Qm9wWWFyakQsRUFBdUIwNUQsR3VCcHBZekIsNEVBRVhyRCxHQUFlLGlDQW1CZnB3RCxHQUFTLFNBQUFDLEdBQUEsT0FFWHl6RCxlQUNJcnlELE9BQVEsa0JBQ1JsQixRQUFTLE9BQ1RXLFdBQVksU0FDWjJCLGdCQUFpQnhDLEVBQU1PLFFBQVErRCxnQkFBZ0I3RCxLQUMvQ21sQyxhQUFjLG9CQUNkaGpDLFlBQWEsUUFHakJ5aUMsYUFDSTlqQyxNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixLQUMvQndCLE9BQVEsSUFDUmIsT0FBUSxzQkFDUlYsTUFBTyx1QkFFWDY0QyxhQUNJNzRDLE1BQU8sT0FDUFUsT0FBUSxPQUNSNEwsVUFBVyxPQUNYdVosYUFBYyxTQUVkeGxCLGVBQWdCLGVBQ2hCZ2hCLFNBQVUsU0FDVm5mLFlBQWEsUUFFakI4d0QsWUFDSXh6RCxRQUFTLFFBRWJ5ekQsaUJBQ0lweUQsTUFBTyxVQUNQWCxXQUFZLFNBRWhCKzhDLFdBQ0lwOEMsTUFBTyxVQUNQWCxXQUFZLFNBRWhCd3FDLFVBQ0kxcUMsTUFBTyxPQUNQVSxPQUFRLE9BQ1JvbEIsT0FBUSxtQ0FFWjZrQixhQUNJbnJDLFFBQVMsT0FDVFEsTUFBTyxVQUNQVSxPQUFRLFNBQ1JQLFdBQVksU0FDWjJ0QixPQUFReHVCLEVBQU1PLFFBQVE2QixVQUFVM0IsS0FBTyxhQUN2Q29CLGFBQWMsT0FFbEJ5cEMscUJBQ0k5b0MsZ0JBQWlCLFdBRXJCb3hELGNBQ0kxekQsUUFBUyxPQUNUc3VCLE9BQVEscUJBQ1I5dEIsTUFBTyxVQUNQVSxPQUFRLFNBQ1JQLFdBQVksVUFFaEJ1Z0IsT0FDSTFlLFNBQVUsV0FDVmhDLE1BQTRCLElBQXJCVixFQUFNaUQsUUFBUUMsS0FDckJWLGdCQUFpQnhDLEVBQU1PLFFBQVErRCxnQkFBZ0I3RCxLQUMvQzJELFVBQVdwRSxFQUFNcUUsUUFBUSxHQUN6QnRDLFFBQThCLEVBQXJCL0IsRUFBTWlELFFBQVFDLEtBQ3ZCTixZQUFhLEVBQ2JqQixhQUFjLEdBRWxCNndDLFFBQ0lqeEMsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3QkUsWUFBYSxNQUNiYyxTQUFVLFlBRWRveUQsU0FDSW56RCxNQUFPLHNCQUNQVSxPQUFRLHNCQUNSRyxNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixNQUVuQ3F6RCxhQUNJdnlELE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsUUFJL0JzekQsR3ZCZ3FZYyxTQUFVNXVELEd1Qi9wWTFCLFFBQUE0dUQsR0FBWWw0RCxHQUFPbkIsRUFBQTBLLEtBQUEydUQsRUFBQSxJQUFBMXVELEdBQUF2SyxFQUFBc0ssTUFBQTJ1RCxFQUFBdDRELFdBQUFwQixPQUFBaUwsZUFBQXl1RCxJQUFBLzRELEtBQUFvSyxLQUNUdkosR0FEUzBxQyxJQUFBdnJDLEtBQUFxSyxFQUVmLElBQUl1RixHQUFVdkYsRUFBS3hKLE1BQU0wc0MsSUFDckJ1UCxFQUFhenlDLEVBQUt4SixNQUFNaThDLFdBQ3hCMkcsUUFFSixJQUFrQixPQUFkM0csRUFBcUIsQ0FFckIyRyxFQURvQjd6QyxFQUFRQSxRQUFRYSxNQUFNMHhDLElBQ1YsR0FBRzF4QyxNQUFNLGFBRXBDZ3pDLElBQ0RBLEVBQWtCLEdBUzFCLEdBQUl1VixHQUFtQixHQUFJdmIsS0FDdkJqdUMsRUFBV25GLEVBQUt4SixNQUFNaS9DLGVBQzFCLElBQUl0d0MsRUFDQSxJQUFLLEdBQUkxTyxHQUFJLEVBQUdBLEVBQUkwTyxFQUFTek8sT0FBUUQsSUFBSyxDQUN0QyxHQUFJNHNDLEdBQVVsK0IsRUFBUzFPLEVBRXZCazRELEdBQWlCeGdCLElBQUk5SyxFQUFRci9CLEdBQUc2YyxZQUFZLEdBS3BELEdBQWtCLFdBQWQ0eEIsRUFBeUIsQ0FDekIsR0FBSTBHLEdBQWdCNXpDLEVBQVFBLFFBQVFhLE1BQU0wa0QsSUFPdENLLEVBQWFoUyxFQUFjLEdBQUtBLEVBQWMsR0FBRzVoQixVQUFVLElBQU0saUJBRWhFNHpCLEtBQ0RBLEVBQWEsbUJBMUNOLE1BOENmbnJELEdBQUtHLE9BQ0R5dUQscUJBQXFCLEVBQ3JCQyxvQkFBcUJGLEVBQ3JCeG5CLFlBQWFpUyxFQUNiekQsYUFBYzMxQyxFQUFLeEosTUFBTW0vQyxhQUN6QkYsZ0JBQWlCejFDLEVBQUt4SixNQUFNaS9DLGdCQUM1QnJVLG1CQUFvQnBoQyxFQUFLeEosTUFBTTRxQyxtQkFDL0JzVSxjQUFlMTFDLEVBQUt4SixNQUFNay9DLGNBQzFCb1oscUJBQXFCLEVBQ3JCQyxxQkFBcUIsRUFDckI1cEQsU0FBVW5GLEVBQUt4SixNQUFNMk8sU0FDckJzOEIsWUFBYXpoQyxFQUFLeEosTUFBTTJPLFNBQ3hCNnBELHNCQUFzQixHQTFEWGh2RCxFdkIrN1luQixNQS9SQW5LLEdBQVU2NEQsRUFBZTV1RCxHQThFekJ6SixFQUFhcTRELElBQ1Q1NUQsSUFBSyxTQUNMQyxNQUFPLFd1QnA1WEYsR0FBQWlSLEdBQUFqRyxLQUFBa0csRUFDc0JsRyxLQUFLdkosTUFBeEI4SyxFQURIMkUsRUFDRzNFLFFBQVMzRyxFQURac0wsRUFDWXRMLEtBRWpCLE9BRUk1RCxHQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQVNyTSxNQUFPLFVBRVowRSxLQUFLdkosTUFBTTIvQyxNQUNacC9DLEVBQUFuQyxRQUFBa04sY0FBQSxXQUFLL0ssRUFBQW5DLFFBQUFrTixjQUFDckosRUFBQTdELFNBQ0ZxNkQsa0JBQWdCLHFCQUNoQnBzQixtQkFBaUIsMkJBQ2pCajhCLEtBQU03RyxLQUFLSSxNQUFNNHVELG9CQUNqQmpvRCxRQUFTL0csS0FBS212RCxzQkFFZG40RCxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE1BQU82bEQsRUFBYzV5RCxHQUFROEwsVUFBV25GLEVBQVF5YSxPQUNqRGhsQixFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQVNyTSxNQUFPLE9BQVFSLFFBQVMsT0FBUXMwRCxVQUFXLFNBQVU1dUIsYUFBYyxzQkFBdUI3akMsUUFBUyxvQkFDN0czRixFQUFBbkMsUUFBQWtOLGNBQUEsUUFBTTRGLE9BQVNuTSxXQUFZLE9BQVFhLFNBQVUsU0FBVUYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUFNb0MsUUFBUyxNQUFuRywyQkFDQXpHLEVBQUFuQyxRQUFBa04sY0FBQzY5QixFQUFBL3FDLFNBQU1tUyxRQUFTaEgsS0FBS212RCxxQkFBc0J4bkQsT0FBU3JLLFNBQVUsUUFBU00sTUFBTyxLQUFNSCxRQUFTLElBQU14QixPQUFRLFVBQVdFLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsU0FFdkpyRSxFQUFBbkMsUUFBQWtOLGNBQUNvc0QsRUFBQXQ1RCxTQUFVMHNDLG9CQUFxQnZoQyxLQUFLdWhDLG9CQUFxQkQsVUFBVSxFQUFNK3RCLGVBQWdCcnZELEtBQUtxdkQsZUFBZ0JwdUIsZUFBZ0JqaEMsS0FBS2loQyxlQUFnQnY0QixZQUFhMUksS0FBS3ZKLE1BQU1pUyxZQUFhdEQsU0FBVXBGLEtBQUtJLE1BQU1nRixTQUFVaThCLG1CQUFvQnJoQyxLQUFLSSxNQUFNaWhDLHFCQUV2UHJxQyxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzJTLFdBQUEsRUFBVUMsR0FBSSxHQUFJQyxRQUFRLFdBQVdqTSxXQUFXLFNBQVNrTSxPQUFTMm5ELFVBQVcsb0JBQXFCNXhELFdBQVksVUFFaEgxRyxFQUFBbkMsUUFBQWtOLGNBQUNtcUMsRUFBQXIzQyxTQUFPd1QsUUFBUSxZQUFZbE0sTUFBTSxZQUFZdUssVUFBV25GLEVBQVE2ckMsT0FBUXBtQyxRQUFTLGlCQUFNZixHQUFLb3BELGVBQWVwcEQsRUFBSzdGLE1BQU1xaEMsb0JBQXZILFFBQ1V6aEMsS0FBS3NpQyw2QkFLdkJ0ckMsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUThzRCxlQUNwQnIzRCxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQVM3TSxRQUFTLE9BQVFXLFdBQVksU0FBVWlDLFdBQVksU0FBVWhDLGNBQWUsV0FDckZzRSxLQUFLSSxNQUFNdzFDLGFBQWUsR0FDdkI1K0MsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUs0RixPQUFTN00sUUFBUyxPQUFRVyxXQUFZLFNBQVVVLE1BQU92QixFQUFNTyxRQUFRNkIsVUFBVTNCLEtBQU1rQixhQUFjLFdBRXBHdkYsRUFBQW5DLFFBQUFrTixjQUFDNDhCLEVBQUE5cEMsU0FBUzhTLE9BQVNoTCxRQUFTLE9BQ3hCeTBCLEtBQU1wNkIsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUTArQixZQUFhbDNCLElBQUssb0NBQ2hEazNCLFlBQWFqcEMsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUTArQixZQUFhbDNCLElBQUssa0NBQ3ZEbTVCLFFBQVNsaUMsS0FBS0ksTUFBTXl1RCxvQkFDcEI3bkQsUUFBU2hILEtBQUt1dkQscUJBR2xCdjRELEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUFXNlIsVUFBV25GLEVBQVFtdEQsYUFBL0IsZ0JBR1IxM0QsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUs0RixPQUFTN00sUUFBUyxPQUFRVyxXQUFZLFdBQ3ZDekUsRUFBQW5DLFFBQUFrTixjQUFDbXFDLEVBQUFyM0MsU0FBT3dULFFBQVEsV0FBV2xNLE1BQU0sWUFBWWtMLEtBQUssUUFBUU0sT0FBUzNMLE9BQVEsU0FBVXdCLFlBQWEsV0FBWWpCLGFBQWMsWUFBY3lLLFFBQVNoSCxLQUFLZ3ZELHFCQUVwSmg0RCxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzhTLE9BQVNuTSxXQUFZLE1BQU9ELFlBQWEsTUFBT2MsU0FBVSxTQUFVRixNQUFPdkIsRUFBTU8sUUFBUTZCLFVBQVUzQixPQUEvRyxxQkFJUnJFLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLNEYsT0FBUzdNLFFBQVMsT0FBUVcsV0FBWSxXQUN2Q3pFLEVBQUFuQyxRQUFBa04sY0FBQ21xQyxFQUFBcjNDLFNBQU93VCxRQUFRLFdBQVdsTSxNQUFNLFlBQVlrTCxLQUFLLFFBQVFNLE9BQVMzTCxPQUFRLFNBQVVSLFdBQVksT0FBUW1CLFFBQVMsY0FBZ0JxSyxRQUFTaEgsS0FBS3d2RCxvQkFDNUl4NEQsRUFBQW5DLFFBQUFrTixjQUFDaEssRUFBQWxELFNBQU02UixVQUFXbkYsRUFBUWt0RCxVQUMxQnozRCxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzhTLE9BQVNuTSxXQUFZLE1BQU9hLFNBQVUsU0FBVUYsTUFBT3ZCLEVBQU1PLFFBQVE2QixVQUFVM0IsT0FBM0YsZUFPcEJyRSxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzJFLFVBQVduRixFQUFRNHlDLGFBQ3BCbjlDLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVErc0QsWUFDcEJ0M0QsRUFBQW5DLFFBQUFrTixjQUFDMUssRUFBQXhDLFNBQVc2UixVQUFXbkYsRUFBUW10RCxhQUFjMXVELEtBQUtJLE1BQU13MUMsYUFBeEQsSUFBdUU1MUMsS0FBS0ksTUFBTXcxQyxhQUFlLEVBQUksWUFBYyxhQUN4RixPQUF6QjUxQyxLQUFLdkosTUFBTWk4QyxZQUFnRCxXQUF6QjF5QyxLQUFLdkosTUFBTWk4QyxhQUMzQzE3QyxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzhTLE9BQVNsSyxRQUFTLElBQU9pSixVQUFXbkYsRUFBUW10RCxhQUF4RCxNQUE4RTF1RCxLQUFLeXZELGtCQUFuRixLQUVIenZELEtBQUtJLE1BQU11MUMsZUFDUjMrQyxFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQVM3TSxRQUFTLE9BQVFVLFdBQVksUUFBU0MsV0FBWSxXQUM1RHpFLEVBQUFuQyxRQUFBa04sY0FBQzYxQyxFQUFBL2lELFNBQU02UixVQUFXbkYsRUFBUWczQyxZQUMxQnZoRCxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzZSLFVBQVduRixFQUFRZ3RELGlCQUEvQix1QkFBcUV2dUQsS0FBS0ksTUFBTXMxQyxnQkFBZ0IvK0MsT0FBUzFCLE9BQU8raEQsS0FBS2gzQyxLQUFLSSxNQUFNaWhDLG9CQUFvQjFxQyxPQUFwSixPQVVaSyxFQUFBbkMsUUFBQWtOLGNBQUM0akMsRUFBQTl3QyxTQUFTazBDLFdBQVksT0FBUXJpQyxVQUFXbkYsRUFBUXlrQyxVQUV6Q2htQyxLQUFLSSxNQUFNczFDLGdCQUFnQjlsQyxJQUFJLFNBQUEwekIsR0FBQSxNQUV2QnRzQyxHQUFBbkMsUUFBQWtOLGNBQUM4akMsRUFBQWh4QyxTQUFhbTBDLEtBQU0sRUFBR2owQyxJQUFLdXVDLEVBQVFyL0IsR0FDaEMwRCxPQUFTM0wsT0FBUSxPQUFPVixNQUFPLE9BQVE4bEIsT0FBUSxXQUUvQ3BxQixFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzJFLFVBQVk0OEIsRUFBUXIvQixLQUFNZ0MsR0FBSzdGLE1BQU1paEMsbUJBQXVCcDdCLEVBQUs3RixNQUFNMHVELG9CQUFvQnRwQyxJQUFJOGQsRUFBUXIvQixHQUFHNmMsYUFBZTdhLEVBQUs3RixNQUFNeXVELHFCQUFzQixFQUFBdDNELEVBQUExQyxTQUFXME0sRUFBUTJrQyxvQkFBb0Iza0MsRUFBUTBrQyxhQUFlMWtDLEVBQVEwa0MsWUFBZTFrQyxFQUFRaXRELGVBRW5Qdm9ELEVBQUt4UCxNQUFNMi9DLE1BQ1pwL0MsRUFBQW5DLFFBQUFrTixjQUFDNDhCLEVBQUE5cEMsU0FBUzhTLE9BQVVoTCxRQUFTLE1BQU9nQyxLQUFPLEtBQU1sRCxXQUFZLFVBQzdEMjFCLEtBQU1wNkIsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUTArQixZQUFhbDNCLElBQUssb0NBQ2hEazNCLFlBQWFqcEMsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUTArQixZQUFhbDNCLElBQUssa0NBQ3ZENUIsV0FBWW04QixFQUFRci9CLEtBQU1nQyxHQUFLN0YsTUFBTWloQyxvQkFDckNhLFFBQVNqOEIsRUFBSzdGLE1BQU0wdUQsb0JBQW9CdHBDLElBQUk4ZCxFQUFRci9CLEdBQUc2YyxhQUFlN2EsRUFBSzdGLE1BQU15dUQsb0JBQ3BGN25ELFFBQVMsaUJBQU1mLEdBQUt5cEQsZUFBZXBzQixFQUFRci9CLEdBQUc2YyxlQUcvQzlwQixFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQVM3TSxRQUFTLE9BQU9DLGNBQWUsU0FBU1ksZUFBZ0IsU0FBVUgsV0FBWSxRQUN4RnhFLEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUFXOFMsT0FBU2hMLFFBQVMsSUFBS04sU0FBVSxTQUFTRixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQU1vQyxRQUFTLEdBQUtSLFdBQVksV0FBYXFtQyxFQUFRb0YsZ0JBQ3hJMXhDLEVBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUFXOFMsT0FBU2hMLFFBQVMsSUFBS04sU0FBVSxXQUFZRixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQUs0QixXQUFZLFdBQXZHLElBQXFIcW1DLEVBQVFyL0IsS0FBTWdDLEdBQUs3RixNQUFNaWhDLG9CQUFxQixFQUFBK0QsRUFBQXVELFdBQVVyRixFQUFRK0QsbUJBQXFCLFVBRXpNcGhDLEVBQUt4UCxNQUFNMi9DLE1BRVpwL0MsRUFBQW5DLFFBQUFrTixjQUFDaEssRUFBQWxELFNBQU04UyxPQUFTckssU0FBVSxXQUFZTSxNQUFPLE1BQU9jLElBQUssTUFBTXBELE1BQU8sb0JBQXFCVSxPQUFRLHFCQUF1QjBLLFVBQVduRixFQUFRa3RELFFBQVN6bkQsUUFBUyxXQUFRZixFQUFLMHBELGNBQWNyc0IsRUFBUXIvQixhQVV0T2pOLEVBQUFuQyxRQUFBa04sY0FBQ2dzRCxFQUFBbDVELFNBQ0dnUyxLQUFNN0csS0FBS0ksTUFBTTJ1RCxvQkFDakJob0QsUUFBUy9HLEtBQUs0dkQsb0JBQ2RWLGtCQUFnQiwyQkFFaEJsNEQsRUFBQW5DLFFBQUFrTixjQUFDa3NELEVBQUFwNUQsU0FBWW9QLEdBQUcsMkJBN2pCcEIsZ0NBOGpCSWpOLEVBQUFuQyxRQUFBa04sY0FBQ2lzRCxFQUFBbjVELFFBQUQsS0FDSW1DLEVBQUFuQyxRQUFBa04sY0FBQ21xQyxFQUFBcjNDLFNBQU9tUyxRQUFTaEgsS0FBSzR2RCxvQkFBcUJ6ekQsTUFBTSxXQUFqRCxhdkIwK1hid3lELEd1Qmg4WWlCNWtELGF2Qm04WXhCbzNCLEdBQW1CLFdBQ25CLEdBQUluRCxHQUFTaCtCLElBRWJBLE11Qmg0WUF1aEMsb0JBQXNCLFNBQUNuOEIsR0FDbkI0NEIsRUFBSzE5QixVQUFXbWhDLGlCQUFrQnI4QixLdkJtNFl0Q3BGLEt1Qmg0WUFzaUMsdUJBQXlCLFdBQ3JCLEdBQUliLEdBQW1CekQsRUFBSzU5QixNQUFNcWhDLGlCQUM5QitDLEVBQXdCLENBQzVCLEtBQUssR0FBSTl0QyxLQUFLK3FDLEdBQ2lCLEdBQXZCQSxFQUFpQi9xQyxJQUNqQjh0QyxHQUdSLElBQTZCLEdBQXpCQSxFQUdKLE1BQU8sSUFBTUEsRUFBd0IsS3ZCbTRZekN4a0MsS3VCaDRZQWloQyxlQUFpQixTQUFDTyxHQUNkLEdBQW1CLE9BQWZBLEVBQ0F4RCxFQUFLMTlCLFVBQVc4RSxTQUFVNDRCLEVBQUs1OUIsTUFBTXNoQyxrQkFDcEMsQ0FHRCxJQUFLLEdBRkR0OEIsR0FBVzQ0QixFQUFLNTlCLE1BQU1zaEMsWUFDdEJtdUIsS0FDS241RCxFQUFJLEVBQUdBLEVBQUkwTyxFQUFTek8sT0FBUUQsSUFBSyxDQUV0QyxJQUFLLEdBRERvNUQsTUFDSy8yQixFQUFJLEVBQUdBLEVBQUkzekIsRUFBUzFPLEdBQUdDLE9BQVFvaUMsSUFDakIsV0FBZnlJLEdBQTRELE1BQWhDcDhCLEVBQVMxTyxHQUFHcWlDLEdBQUc2UCxjQUMzQ2tuQixFQUFVandELEtBQUt1RixFQUFTMU8sR0FBR3FpQyxJQUNQLHdCQUFmeUksR0FBeUUsR0FBaENwOEIsRUFBUzFPLEdBQUdxaUMsR0FBR3dLLGNBQzdEdXNCLEVBQVVqd0QsS0FBS3VGLEVBQVMxTyxHQUFHcWlDLElBQ1AsZ0JBQWZ5SSxHQUErRCxHQUE5QnA4QixFQUFTMU8sR0FBR3FpQyxHQUFHeUssWUFDckRzc0IsRUFBVWp3RCxLQUFLdUYsRUFBUzFPLEdBQUdxaUMsSUFDUCxjQUFmeUksR0FBMkQsR0FBNUJwOEIsRUFBUzFPLEdBQUdxaUMsR0FBRzBLLFdBQ25EcXNCLEVBQVVqd0QsS0FBS3VGLEVBQVMxTyxHQUFHcWlDLEdBRW5DODJCLEdBQWlCaHdELEtBQUtpd0QsR0FFMUI5eEIsRUFBSzE5QixVQUFXOEUsU0FBVXlxRCxNdkIyM1lsQzd2RCxLdUJ2M1lBMHZELGVBQWlCLFNBQUF6ckQsR0FFYixHQUFJaStCLEdBQVVsRSxFQUFLNTlCLE1BQU0wdUQsb0JBQW9CdHBDLElBQUl2aEIsR0FDN0M4ckQsRUFBcUIveEIsRUFBSzU5QixNQUFNMHVELG1CQUNwQ2lCLEdBQW1CM2hCLElBQUlucUMsR0FBS2krQixFQUM1QixJQUFJZ0IsSUFBTyxDQUNYbEYsR0FBSzE5QixVQUFXd3VELG9CQUFxQmlCLEdBQXNCLFdBQU0sR0FBQUMsSUFBQSxFQUFBQyxHQUFBLEVBQUFDLE1BQUF4NkMsRUFBQSxLQUM3RCxPQUFBeTZDLEdBQUFDLEVBQXVCTCxFQUFtQi9ZLE9BQTFDdGtCLE9BQUFDLGNBQUFxOUIsR0FBQUcsRUFBQUMsRUFBQUMsUUFBQWphLE1BQUE0WixHQUFBLEVBQWtELElBQXpDTSxHQUF5Q0gsRUFBQW43RCxLQUU5QyxLQUFLKzZELEVBQW1CdnFDLElBQUk4cUMsR0FBYSxDQUNyQ3B0QixHQUFPLENBQ1AsU0FMcUQsTUFBQXF0QixHQUFBTixHQUFBLEVBQUFDLEVBQUFLLEVBQUEsYUFBQVAsR0FBQUksRUFBQUksUUFBQUosRUFBQUksU0FBQSxXQUFBUCxFQUFBLEtBQUFDLElBUzdEbHlCLEVBQUsxOUIsVUFBV3V1RCxvQkFBcUIzckIsT3ZCZzVZN0NsakMsS3VCMzRZQTJ2RCxjQUFnQixTQUFBYyxHQUVaLEdBQUl4dEIsR0FBT2pGLEVBQUs1OUIsTUFBTWloQyxrQkFFdEIsS0FBSyxHQUFJdHNDLEtBQU9rdUMsR0FDWixHQUFJbHVDLEdBQU8wN0QsRUFBZSxPQUNmeHRCLEdBQUtsdUMsRUFDWixPQUlSLEdBQUkyN0QsR0FBYzF5QixFQUFLNTlCLE1BQU0wdUQsbUJBQzdCNEIsR0FBWTNpQixPQUFPMGlCLEdBYW5CenlCLEVBQUsxOUIsVUFDRHd1RCxvQkFBcUI0QixFQUNyQmhiLGdCQUFpQjFYLEVBQUs1OUIsTUFBTXMxQyxnQkFBZ0Ivd0MsT0FBTyxTQUFBMitCLEdBQUEsTUFBV0EsR0FBUXIvQixJQUFNd3NELElBQzVFcHZCLG1CQUFvQjRCLEdBRXBCLFdBQVFqRixFQUFLMnlCLHFCQUFxQkYsR0FBZ0J6eUIsRUFBS3ZuQyxNQUFNazZDLGVBQWUzUyxFQUFLNTlCLE1BQU1zMUMsZ0JBQWlCelMsTXZCKzRZaEhqakMsS3VCejRZQXV2RCxtQkFBcUIsV0FDakIsR0FBSXFCLEdBQWE1eUIsRUFBSzU5QixNQUFNMHVELG1CQUU1Qjl3QixHQUFLMTlCLFNBQVMsU0FBQTZxQyxHQUFBLE9BQ1YwakIscUJBQXNCMWpCLEVBQVUwakIsc0JBQ2hDLFdBQU0sR0FBQWdDLElBQUEsRUFBQUMsR0FBQSxFQUFBQyxNQUFBcjdDLEVBQUEsS0FDTixPQUFBczdDLEdBQUFDLEVBQXVCTCxFQUFXNVosT0FBbEN0a0IsT0FBQUMsY0FBQWsrQixHQUFBRyxFQUFBQyxFQUFBWixRQUFBamEsTUFBQXlhLEdBQUEsRUFBMEMsSUFBakNQLEdBQWlDVSxFQUFBaDhELEtBQ3RDNDdELEdBQVd4aUIsSUFBSWtpQixFQUFZdHlCLEVBQUs1OUIsTUFBTXl1RCxzQkFGcEMsTUFBQTBCLEdBQUFPLEdBQUEsRUFBQUMsRUFBQVIsRUFBQSxhQUFBTSxHQUFBSSxFQUFBVCxRQUFBUyxFQUFBVCxTQUFBLFdBQUFNLEVBQUEsS0FBQUMsSUFLTi95QixFQUFLMTlCLFVBQVdzdUQsaUJBQWtCZ0MsT3ZCbzZZMUM1d0QsS3VCLzVZQXd2RCxtQkFBcUIsV0FFakIsR0FBSTBCLEdBQW1CbHpCLEVBQUs1OUIsTUFBTXMxQyxnQkFBZ0Ivd0MsT0FBTyxTQUFBMitCLEdBQUEsTUFDUSxJQUE3RHRGLEVBQUs1OUIsTUFBTTB1RCxvQkFBb0J0cEMsSUFBSThkLEVBQVFyL0IsR0FBRzZjLGFBR2xELElBQStCLEdBQTNCb3dDLEVBQWlCdjZELE9BRWpCLFdBREFxbkMsR0FBSzE5QixVQUFXeXVELHFCQUFxQixHQWF6QyxLQUFLLEdBVERuZSxHQUFrQjVTLEVBQUs1OUIsTUFBTXMxQyxnQkFBZ0Ivd0MsT0FBTyxTQUFBMitCLEdBQUEsTUFDUyxJQUE3RHRGLEVBQUs1OUIsTUFBTTB1RCxvQkFBb0J0cEMsSUFBSThkLEVBQVFyL0IsR0FBRzZjLGNBRzlDZ3VDLEVBQXNCOXdCLEVBQUs1OUIsTUFBTTB1RCxvQkFDakM4QixFQUFhNXlCLEVBQUs1OUIsTUFBTWloQyxtQkFDeEI2QixHQUFPLEVBQ1BpdUIsRUFBZ0J2Z0IsRUFBZ0JqNkMsT0FDaEN5NkQsR0FBYyxFQUNUMTZELEVBQUksRUFBRzhuRCxFQUFJMFMsRUFBaUJ2NkQsT0FBUUQsRUFBSThuRCxJQUFLOW5ELEVBQUcsQ0FDckQsR0FBSTNCLEdBQU1tOEQsRUFBaUJ4NkQsR0FBR3VOLEdBQUc2YyxVQUNqQ2d1QyxHQUFvQi9nQixPQUFPaDVDLFNBQ3BCNjdELEdBQVc3N0QsR0FHdEJpcEMsRUFBSzE5QixVQUNEbzFDLGdCQUFpQjlFLEVBRWpCa2Usb0JBQXFCQSxFQUNyQnp0QixtQkFBb0J1dkIsRUFDcEJoYixhQUFjdWIsR0FDZixXQUNDLElBQUssR0FBSXo2RCxHQUFJLEVBQUdBLEVBQUl5NkQsRUFBZXo2RCxJQUFLLENBR3BDLEtBRmNrNkMsRUFBZ0JsNkMsR0FDWnVOLEdBQUc2YyxZQUNSOHZDLElBQWEsQ0FDdEIxdEIsR0FBTyxDQUNQLFFBSVIsSUFBSyxHQUFJeHNDLEdBQUksRUFBR0EsRUFBSXk2RCxFQUFlejZELElBQUssQ0FDcEMsR0FBSTRzQyxHQUFVc04sRUFBZ0JsNkMsR0FDMUIzQixFQUFNdXVDLEVBQVFyL0IsR0FBRzZjLFVBRXJCLEtBQUtndUMsRUFBb0J0cEMsSUFBSXp3QixHQUFNLENBQy9CcThELEdBQWMsQ0FDZCxRQUlScHpCLEVBQUsxOUIsVUFBV3ExQyxjQUFlelMsRUFBTTJyQixvQkFBcUJ1QyxJQUMxRHB6QixFQUFLdm5DLE1BQU0wL0MsZ0JBQWdCalQsRUFBTWl1QixHQUNqQ256QixFQUFLdm5DLE1BQU1rNkMsZUFBZTNTLEVBQUs1OUIsTUFBTXMxQyxnQkFBaUIxWCxFQUFLNTlCLE1BQU1paEMsdUJ2Qm02WXpFcmhDLEt1Qjc1WUE0dkQsb0JBQXNCLFdBQ2xCNXhCLEVBQUsxOUIsU0FBUyxTQUFBNnFDLEdBQUEsT0FDVjRqQixxQkFBc0I1akIsRUFBVTRqQix3QnZCbTZZeEMvdUQsS3VCaDZZQWd2RCxvQkFBc0IsV0FDbEJoeEIsRUFBSzE5QixVQUFXMHVELHFCQUFxQixLdkJtNll6Q2h2RCxLdUJqNllBbXZELHFCQUF1QixXQUNuQm54QixFQUFLMTlCLFVBQVcwdUQscUJBQXFCLEt2Qm82WXpDaHZELEt1Qmw2WUFxdkQsZUFBaUIsU0FBQWpxRCxHQUliLElBQUssR0FIRGlzRCxHQUFVcnpCLEVBQUs1OUIsTUFBTWloQyxtQkFDckJpd0IsRUFBZXR6QixFQUFLNTlCLE1BQU1zMUMsZ0JBQWdCdUssTUFBTSxHQUNoRHNSLEVBQXlCdnpCLEVBQUs1OUIsTUFBTTB1RCxvQkFDL0JwNEQsRUFBSSxFQUFHQSxFQUFJc25DLEVBQUs1OUIsTUFBTXMxQyxnQkFBZ0IvK0MsT0FBUUQsSUFDL0NzbkMsRUFBSzU5QixNQUFNaWhDLG1CQUFtQnJELEVBQUs1OUIsTUFBTXMxQyxnQkFBZ0JoL0MsR0FBR3VOLE1BQzVEcXRELEVBQWFoUixPQUFPZ1IsRUFBYWg2QixRQUFRMEcsRUFBSzU5QixNQUFNczFDLGdCQUFnQmgvQyxJQUFLLEdBQ3pFNjZELEVBQXVCeGpCLE9BQU8vUCxFQUFLNTlCLE1BQU1zMUMsZ0JBQWdCaC9DLEdBQUd1TixHQUFHNmMsWUFJdkVrZCxHQUFLMTlCLFVBQVdvMUMsZ0JBQWlCNGIsRUFBY2p3QixzQkFBd0J5dEIsb0JBQXFCeUMsSUFDNUZGLElBRUEsS0FBSyxHQUFJdDhELEtBQU9xUSxHQUNaLEdBQXFCLEdBQWpCQSxFQUFTclEsR0FFVCxJQUFLLEdBRERtdUMsSUFBTyxFQUNGN1AsRUFBSSxFQUFHQSxFQUFJMkssRUFBS3ZuQyxNQUFNMk8sU0FBU3pPLFNBQ2hDdXNDLEVBRHdDN1AsSUFBSyxDQUdqRCxJQUFLLEdBQUl3dEIsR0FBSSxFQUFHQSxFQUFJN2lCLEVBQUt2bkMsTUFBTTJPLFNBQVNpdUIsR0FBRzE4QixPQUFRa3FELElBQy9DLEdBQUk3aUIsRUFBS3ZuQyxNQUFNMk8sU0FBU2l1QixHQUFHd3RCLEdBQUc1OEMsSUFBTWxQLEVBQUssQ0FDckN1OEQsRUFBYXp4RCxLQUFLbStCLEVBQUt2bkMsTUFBTTJPLFNBQVNpdUIsR0FBR3d0QixJQUN6QzNkLEdBQU8sQ0FDUCxPQUdSbXVCLEVBQVF0OEQsSUFBTyxFQUkzQixHQUFJcVEsRUFBVSxDQUNWLEdBQUkwcEQsR0FBc0I5d0IsRUFBSzU5QixNQUFNMHVELG1CQUVyQyxLQUFLLEdBQUkvNUQsS0FBT3FRLEdBQ1MsR0FBakJBLEVBQVNyUSxJQUNUKzVELEVBQW9CMWdCLElBQUlyNUMsRUFBSStyQixZQUFZLEVBSWhEa2QsR0FBSzE5QixVQUFXd3VELG9CQUFxQkEsSUFHekM5d0IsRUFBSzE5QixVQUFXbzFDLGdCQUFpQjRiLEVBQWNqd0IsbUJBQW9CZ3dCLEVBQVN6YixhQUFjMGIsRUFBYTM2RCxRQUFVLFdBQzdHcW5DLEVBQUt2bkMsTUFBTWs2QyxlQUFlM1MsRUFBSzU5QixNQUFNczFDLGdCQUFpQjJiLEtBRTFEcnpCLEVBQUt2bkMsTUFBTTAvQyxnQkFBZ0JuWSxFQUFLNTlCLE1BQU11MUMsY0FBZTJiLEVBQWEzNkQsUUFDbEVxbkMsRUFBSzE5QixVQUFXMHVELHFCQUFxQixLdkJtNll6Q2h2RCxLdUJoNllBMndELHFCQUF1QixTQUFDRixHQUVwQixHQUFJRyxHQUFhNXlCLEVBQUs1OUIsTUFBTWloQyxtQkFFeEI2QixHQUFPLEVBQ1A5OUIsRUFBVzQ0QixFQUFLNTlCLE1BQU1zMUMsZ0JBQ3RCeWIsRUFBZ0IvckQsRUFBU3pPLE1BRzdCLFVBRk9pNkQsR0FBV0gsR0FFRyxHQUFqQlUsRUFHQSxNQUZBbnpCLEdBQUsxOUIsVUFBV3ExQyxlQUFlLEVBQU9DLGFBQWMsUUFDcEQ1WCxHQUFLdm5DLE1BQU0wL0MsaUJBQWdCLEVBQU8sU0FJL0J5YSxHQUFXSCxHQUVsQnp5QixFQUFLMTlCLFVBQVcrZ0MsbUJBQW9CdXZCLEdBQWMsV0FFOUMsSUFBSyxHQUFJbDZELEdBQUksRUFBR0EsRUFBSXk2RCxFQUFlejZELElBQUssQ0FHcEMsS0FGYzBPLEVBQVMxTyxHQUVUdU4sS0FBTTJzRCxJQUFhLENBQzdCMXRCLEdBQU8sQ0FDUCxRQUlSbEYsRUFBSzE5QixVQUFXcTFDLGNBQWV6UyxFQUFNMFMsYUFBY3ViLElBQ25EbnpCLEVBQUt2bkMsTUFBTTAvQyxnQkFBZ0JqVCxFQUFNaXVCLE12Qm82WXpDbnhELEt1Qmg2WUF5dkQsZ0JBQWtCLFdBQ2QsR0FBSS92RCxHQUFTLEVBQ1RnMkMsRUFBa0IxWCxFQUFLNTlCLE1BQU1zMUMsZUFDakMsS0FBSyxHQUFJaC9DLEtBQUtnL0MsR0FDVmgyQyxHQUFXZzJDLEVBQWdCaC9DLEdBQUd1TixLQUFNKzVCLEdBQUs1OUIsTUFBTWloQyxtQkFBc0JxVSxFQUFnQmgvQyxHQUFHMndDLGtCQUFvQixDQUVoSCxPQUFjLElBQVYzbkMsRUFDTyxHQUVKLEVBQUEzRixFQUFBa2pELDBCQUF5QnY5QyxJQXVJeENpdkQsSUFBY243QixXQUNWanlCLFFBQVNrakMsVUFBVUMsT0FBT0MsWXZCNnlZOUJud0MsRUFBUUssU3VCN3hZTyxFQUFBb0MsRUFBQTBULFlBQVdoUSxJQUFVaVEsV0FBVyxJQUFRK2pELEt2Qml5WWpENkMsS0FDQSxTQUFVajlELEVBQVFDLEVBQVNDLEdBRWpDLFlBcUNBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNXLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQTJCQyxFQUFNQyxHQUFRLElBQUtELEVBQVEsS0FBTSxJQUFJRSxnQkFBZSw0REFBZ0UsUUFBT0QsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QkQsRUFBUEMsRUFFbE8sUUFBU0UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJUCxXQUFVLGlFQUFvRU8sR0FBZUQsR0FBU0UsVUFBWWhCLE9BQU9pQixPQUFPRixHQUFjQSxFQUFXQyxXQUFhRSxhQUFlbkIsTUFBT2UsRUFBVVosWUFBWSxFQUFPRSxVQUFVLEVBQU1ELGNBQWMsS0FBZVksSUFBWWYsT0FBT21CLGVBQWlCbkIsT0FBT21CLGVBQWVMLEVBQVVDLEdBQWNELEVBQVNNLFVBQVlMLEdBeENqZWYsT0FBT0MsZUFBZVYsRUFBUyxjQUMzQlEsT0FBTyxHQUdYLElBQUlzQixHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXekIsV0FBYXlCLEVBQVd6QixhQUFjLEVBQU95QixFQUFXeEIsY0FBZSxFQUFVLFNBQVd3QixLQUFZQSxFQUFXdkIsVUFBVyxHQUFNSixPQUFPQyxlQUFlc0IsRUFBUUksRUFBVzdCLElBQUs2QixJQUFpQixNQUFPLFVBQVVwQixFQUFhcUIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlOLEVBQWlCZixFQUFZUyxVQUFXWSxHQUFpQkMsR0FBYVAsRUFBaUJmLEVBQWFzQixHQUFxQnRCLE13QnI2WmhpQnVCLEVBQUF0QyxFQUFBLEd4Qnk2Wkl1QyxFQUFVdEMsRUFBdUJxQyxHd0J4NlpyQ0UsRUFBQXhDLEVBQUEsSUFDQTZDLEVBQUE3QyxFQUFBLEdBQ0Eyd0MsR3hCNDZabUIxd0MsRUFBdUI0QyxHd0I1NloxQzdDLEVBQUEsS0FDQTJDLEVBQUEzQyxFQUFBLEl4Qmk3Wkk0QyxFQUFlM0MsRUFBdUIwQyxHd0JoN1oxQ3NuQyxFQUFBanFDLEVBQUEsS3hCbzdaSWtxQyxFQUFhanFDLEVBQXVCZ3FDLEd3Qm43WnhDZ0gsRUFBQWp4QyxFQUFBLEt4QnU3WklreEMsRUFBYWp4QyxFQUF1Qmd4QyxHd0J0N1p4Q0UsRUFBQW54QyxFQUFBLEt4QjA3WklveEMsRUFBaUJueEMsRUFBdUJreEMsR3dCdjdadENqckMsRUFBUyxTQUFBQyxHQUFBLE9BRVhvckMsVUFDSTFxQyxNQUFPLE9BQ1BVLE9BQVEsT0FDUm9sQixPQUFRLDhCQUNSekUsU0FBVSxVQUVkc3BCLGFBQ0luckMsUUFBUyxPQUNUUSxNQUFPLFVBQ1BVLE9BQVEsU0FDUm90QixPQUFReHVCLEVBQU1PLFFBQVE2QixVQUFVM0IsS0FBTyxhQUN2Q29CLGFBQWMsTUFDZGhCLFdBQVksVUFFaEJ5cUMscUJBQ0k5b0MsZ0JBQWlCLFdBRXJCOHJDLGNBQ0lsdEMsT0FBUSxxQkFLVnlaLEdBQ0ZxNUMsb0JBQXFCLEdBQUl6YixLQUN6QmhTLHNCQUNBSSxvQkFDQXI4QixZQUNBZ3hDLE1BQU0sRUFDTnFiLGdCQUFnQixHQUdkQyxFeEJtOFpXLFNBQVVwOEIsR3dCbDhadkIsUUFBQW84QixHQUFZajdELEdBQU9uQixFQUFBMEssS0FBQTB4RCxFQUFBLElBQUF6eEQsR0FBQXZLLEVBQUFzSyxNQUFBMHhELEVBQUFyN0QsV0FBQXBCLE9BQUFpTCxlQUFBd3hELElBQUE5N0QsS0FBQW9LLEtBQ1R2SixHQURTLE9BQUF3SixHQVduQnVvQyxXQUFhLFNBQUN2a0MsR0FDVmhFLEVBQUt4SixNQUFNK3hDLFdBQVd2a0MsSUFaUGhFLEVBc0JuQjB4RCx1QkFBeUIsU0FBQ3R3QixFQUFvQnl0QixFQUFxQjdxRCxFQUFJdzlCLEdBQ25FLE1BQU02QixTQUFRci9CLEtBQU1oRSxHQUFLRyxNQUFNaWhDLG1CQUUzQnl0QixFQUFvQnRwQyxJQUFJOGQsUUFBUXIvQixHQUFHNmMsYUFBZTdnQixFQUFLRyxNQUFNcWhDLGlCQUFpQjZCLFFBQVFyL0IsSUFDL0UxQyxRQUFRMmtDLG9CQUNaM2tDLFFBQVEwa0MsWUFISjFrQyxRQUFRaXRELGNBckJuQnZ1RCxFQUFLRyxPQUNEZ0YsU0FBVW5GLEVBQUt4SixNQUFNMk8sU0FDckJxOEIsaUJBQWtCeGhDLEVBQUt4SixNQUFNZ3JDLGlCQUM3QkosbUJBQW9CcGhDLEVBQUt4SixNQUFNNHFDLG1CQUMvQnl0QixvQkFBcUI3dUQsRUFBS3hKLE1BQU1xNEQscUJBUHJCN3VELEV4Qm9pYW5CLE1BakdBbkssR0FBVTQ3RCxFQUFZcDhCLEdBMkJ0QmgvQixFQUFhbzdELElBQ1QzOEQsSUFBSyw0QkFDTEMsTUFBTyxTd0JsOVplNlEsR0FDdEI3RixLQUFLTSxVQUNEOEUsU0FBVVMsRUFBVVQsU0FDcEJxOEIsaUJBQWtCNTdCLEVBQVU0N0IsaUJBQzVCSixtQkFBb0J4N0IsRUFBVXc3QixtQkFDOUJ5dEIsb0JBQXFCanBELEVBQVVpcEQseUJ4QnM5Wm5DLzVELElBQUssU0FHTEMsTUFBTyxXd0I5OFpGLEdBQUFpUixHQUFBakcsS0FBQWtHLEVBRXNCbEcsS0FBS3ZKLE1BQXhCOEssRUFGSDJFLEVBRUczRSxRQUFTM0csRUFGWnNMLEVBRVl0TCxLQUNqQixPQUNJNUQsR0FBQW5DLFFBQUFrTixjQUFDNGpDLEVBQUE5d0MsU0FBU2swQyxXQUFZLE9BQVFyaUMsVUFBV25GLEVBQVF5a0MsVUFFekNobUMsS0FBS0ksTUFBTXMxQyxnQkFBZ0I5bEMsSUFBSSxTQUFBMHpCLEdBQUEsTUFFdkJ0c0MsR0FBQW5DLFFBQUFrTixjQUFDOGpDLEVBQUFoeEMsU0FBYW0wQyxLQUFNLEVBQUdqMEMsSUFBS3V1QyxFQUFRci9CLEdBQ2hDMEQsT0FBUzNMLE9BQVEsT0FBUVYsTUFBTyxPQUFROGxCLE9BQVEsV0FDaERwcUIsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXVCxFQUFLMHJELHVCQUF1QjFyRCxFQUFLN0YsTUFBTWloQyxtQkFBb0JwN0IsRUFBSzdGLE1BQU0wdUQsb0JBQXFCeHJCLEVBQVFyL0IsR0FBSWdDLEVBQUs3RixNQUFNcWhDLG9CQUV4SHg3QixFQUFLeFAsTUFBTTIvQyxNQUNicC9DLEVBQUFuQyxRQUFBa04sY0FBQzQ4QixFQUFBOXBDLFNBQVM4UyxPQUFTaEwsUUFBUyxNQUFPZ0MsS0FBTSxLQUFNbEQsV0FBWSxVQUN2RDIxQixLQUFNcDZCLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVEwK0IsWUFBYWwzQixJQUFLLG9DQUNoRGszQixZQUFhanBDLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVEwK0IsWUFBYWwzQixJQUFLLGtDQUN2RDVCLFdBQVltOEIsRUFBUXIvQixLQUFNZ0MsR0FBSzdGLE1BQU1paEMsb0JBQ3JDYSxRQUFTajhCLEVBQUs3RixNQUFNMHVELG9CQUFvQnRwQyxJQUFJOGQsRUFBUXIvQixHQUFHNmMsYUFBZTdhLEVBQUs3RixNQUFNeXVELG9CQUNqRjduRCxRQUFTLGlCQUFNZixHQUFLeXBELGVBQWVwc0IsRUFBUXIvQixHQUFHNmMsZUFHdEQ5cEIsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUs0RixPQUFTN00sUUFBUyxPQUFRQyxjQUFlLFNBQVVZLGVBQWdCLFNBQVVILFdBQVksUUFDMUZ4RSxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzhTLE9BQVNoTCxRQUFTLElBQUtOLFNBQVUsU0FBVUYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUFNb0MsUUFBUyxHQUFLUixXQUFZLFdBQWFxbUMsRUFBUW9GLGdCQUN6STF4QyxFQUFBbkMsUUFBQWtOLGNBQUMxSyxFQUFBeEMsU0FBVzhTLE9BQVNoTCxRQUFTLElBQUtOLFNBQVUsV0FBWUYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUFNNEIsV0FBWSxXQUF4RyxJQUFzSHFtQyxFQUFRci9CLEtBQU1nQyxHQUFLN0YsTUFBTWloQyxvQkFBcUIsRUFBQStELEVBQUF1RCxXQUFVckYsRUFBUStELG1CQUFxQixXQUUxTXBoQyxFQUFLeFAsTUFBTWc3RCxnQkFBa0J4ckQsRUFBS3hQLE1BQU0yL0MsT0FFekNwL0MsRUFBQW5DLFFBQUFrTixjQUFDNnZELE9BQU1qcUQsT0FBU3JLLFNBQVUsV0FBWU0sTUFBTyxNQUFPYyxJQUFLLE1BQU9wRCxNQUFPLG9CQUFxQlUsT0FBUSxxQkFBdUIwSyxVQUFXbkYsRUFBUWt0RCxRQUFTem5ELFFBQVMsV0FBUWYsRUFBSzBwRCxjQUFjcnNCLEVBQVFyL0IsZ0J4QjIrWmhPeXRELEd3QnJpYWNsdUQsVUFBTXVHLFVBc0UvQjJuRCxHQUFXajhDLGFBQWVBLEV4Qm8rWjFCamhCLEVBQVFLLFN3QmwrWk8sRUFBQW9DLEVBQUEwVCxZQUFXaFEsR0FBVWlRLFdBQVcsSUFBUThtRCxJeEJzK1pqREcsS0FDQSxTQUFVdDlELEVBQVFDLEVBQVNDLEdBRWpDLFlBNkNBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNXLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQTJCQyxFQUFNQyxHQUFRLElBQUtELEVBQVEsS0FBTSxJQUFJRSxnQkFBZSw0REFBZ0UsUUFBT0QsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QkQsRUFBUEMsRUFFbE8sUUFBU0UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJUCxXQUFVLGlFQUFvRU8sR0FBZUQsR0FBU0UsVUFBWWhCLE9BQU9pQixPQUFPRixHQUFjQSxFQUFXQyxXQUFhRSxhQUFlbkIsTUFBT2UsRUFBVVosWUFBWSxFQUFPRSxVQUFVLEVBQU1ELGNBQWMsS0FBZVksSUFBWWYsT0FBT21CLGVBQWlCbkIsT0FBT21CLGVBQWVMLEVBQVVDLEdBQWNELEVBQVNNLFVBQVlMLEdBaERqZWYsT0FBT0MsZUFBZVYsRUFBUyxjQUMzQlEsT0FBTyxHQUdYLElBQUlzQixHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXekIsV0FBYXlCLEVBQVd6QixhQUFjLEVBQU95QixFQUFXeEIsY0FBZSxFQUFVLFNBQVd3QixLQUFZQSxFQUFXdkIsVUFBVyxHQUFNSixPQUFPQyxlQUFlc0IsRUFBUUksRUFBVzdCLElBQUs2QixJQUFpQixNQUFPLFVBQVVwQixFQUFhcUIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlOLEVBQWlCZixFQUFZUyxVQUFXWSxHQUFpQkMsR0FBYVAsRUFBaUJmLEVBQWFzQixHQUFxQnRCLE15Qi9sYWhpQnVCLEVBQUF0QyxFQUFBLEd6Qm1tYUl1QyxFQUFVdEMsRUFBdUJxQyxHeUJsbWFyQ3U4QixFQUFBNytCLEVBQUEsR3pCc21hSTZxQyxFQUFjNXFDLEVBQXVCNCtCLEd5QnJtYXpDcjhCLEVBQUF4QyxFQUFBLElBQ0F5QyxFQUFBekMsRUFBQSxJekIwbWFJMEMsRUFBU3pDLEVBQXVCd0MsR3lCem1hcEM4MEMsRUFBQXYzQyxFQUFBLElBQ0FxOUQsRUFBQXI5RCxFQUFBLEl6QjhtYUlzOUQsRUFBU3I5RCxFQUF1Qm85RCxHeUI3bWFwQ0UsRUFBQXY5RCxFQUFBLE16QmluYUl3OUQsRUFBYXY5RCxFQUF1QnM5RCxHeUJobmF4QzMzRCxFQUFBNUYsRUFBQSxJekJvbmFJNkYsRUFBa0I1RixFQUF1QjJGLEd5Qm5uYTdDRSxFQUFBOUYsRUFBQSxJekJ1bmFJK0YsRUFBYzlGLEVBQXVCNkYsR3lCdG5hekNqRCxFQUFBN0MsRUFBQSxHekIwbmFJOEMsRUFBZTdDLEVBQXVCNEMsR3lCeG5hcENxRCxFQUFTLFNBQUFDLEdBQUEsT0FFWHMzRCxpQkFDSWwzRCxVQUFXLE9BQ1h5QixhQUFjLE1BQ2RXLGdCQUFpQnhDLEVBQU1PLFFBQVFrQyxlQUFlaEMsTUFFbEQ4MkQsa0JBQ0lwb0IsV0FBWSxXQUNabmlDLFVBQVcsTUFDWHdxRCxVQUFXLGFBQ1hyekQsVUFBVyxPQUNYL0QsVUFBVyxVQUVmcTNELG9CQUVJaDJELFNBQVUsWUFDVnlsQixXQUFZLFNBQ1pwa0IsV0FBWSxTQUNaRixZQUFhLFVBQ2JQLFdBQVksU0FDWmQsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3Qm9DLFFBQVMsS0FFYjYwRCxXQUNJbjJELE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JtQyxZQUFhLElBQ2JoQyxXQUFZLFVBRWhCKzJELGtCQUNJcDJELE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsTUFFakNtM0Qsa0JBQ0l4MkQsT0FBUSxPQUNSK3RDLFdBQVksV0FDWnFvQixVQUFXLGNBRWZLLGFBQ0kzM0QsUUFBUyxPQUNUVyxXQUFZLFNBQ1pxbUIsV0FBWSxJQUNaM2xCLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JnQixTQUFVLE9BQ1ZvQixRQUFTLFFBRWIyekIsTUFDSTcxQixZQUFhLFFBRWpCbTNELGNBQ0kvMUMsU0FBVSxZQUlabEgsR0FDRjdSLGFBQWUsS0FDZmhFLFlBQ0F1MEMsZUFDQUUsYUFBZSxHQUNmMXJDLGdCQUFrQixLQUNsQkUsZ0JBQWtCLEtBQ2xCSyxhQUNBNGxDLG1CQUFvQixHQUdsQnRiLEdBQ0Y1dkIsYUFBZTZnQyxVQUFVelEsT0FDekJwMEIsU0FBVzZrQyxVQUFVQyxPQUNyQnlQLFlBQWMxUCxVQUFVRyxNQUN4QnlQLGFBQWU1UCxVQUFVOVEsT0FDekJockIsZ0JBQWtCODdCLFVBQVU5USxPQUM1QjlxQixnQkFBa0I0N0IsVUFBVXpRLE9BQzVCOXFCLFVBQVl1N0IsVUFBVUMsT0FDdEJuakMsUUFBVWtqQyxVQUFVQyxPQUFPQyxXQUMzQm1LLGtCQUFvQnJLLFVBQVV2USxNQUk1QnkrQixFekJ1b2FNLFNBQVU1eUQsR3lCcm9hbEIsUUFBQTR5RCxHQUFZbDhELEdBQU9uQixFQUFBMEssS0FBQTJ5RCxFQUFBLElBQUExeUQsR0FBQXZLLEVBQUFzSyxNQUFBMnlELEVBQUF0OEQsV0FBQXBCLE9BQUFpTCxlQUFBeXlELElBQUEvOEQsS0FBQW9LLEtBQ1R2SixHQURTLE9BQUF3SixHQW9DbkIyeUQsdUJBQXlCLFdBQ3JCLEdBQUlodkQsR0FBZTNELEVBQUt4SixNQUFNbU4sYUFDMUJJLElBQ0osSUFBb0IsTUFBaEJKLEdBQWlGLFlBQXpEM0QsRUFBS3hKLE1BQU1tSixTQUFTb0UsU0FBU0osR0FBY00sV0FBbUYsWUFBeERqRSxFQUFLeEosTUFBTW1KLFNBQVNvRSxTQUFTSixHQUFjTyxTQUF3QixDQUNqSyxHQUFJMHVELEdBQVc1eUQsRUFBS3hKLE1BQU1tSixTQUFTb0UsU0FBU0osR0FBY00sVUFDdEQsSUFBTWpFLEVBQUt4SixNQUFNbUosU0FBU29FLFNBQVNKLEdBQWNPLFFBRXJESCxHQUFTbkUsTUFDTDlLLElBQUssRUFDTDJvQixNQUFPbTFDLEVBQ1A3dUIsUUFBUy9qQyxFQUFLeEosTUFBTW1KLFNBQVNvRSxTQUFTSixHQUFjUyxNQUNwRHl1RCxjQUFjLEVBQ2R2WixXQUFZLElBSXBCdDVDLEVBQUtLLFVBQVd5eUQsYUFBYy91RCxLQWxEOUIvRCxFQUFLRyxPQUVEMnlELGlCQUpXOXlELEV6Qm14YW5CLE1BN0lBbkssR0FBVTY4RCxFQUFPNXlELEdBdURqQnpKLEVBQWFxOEQsSUFDVDU5RCxJQUFLLG9CQUNMQyxNQUFPLFd5QjlwYVBnTCxLQUFLNHlELDRCekJrcWFMNzlELElBQUssU0FDTEMsTUFBTyxXeUI3b2FGLEdBQUFrUixHQUU4Q2xHLEtBQUt2SixNQUF0QzhLLEdBRmIyRSxFQUVHdEcsU0FGSHNHLEVBRWEzRSxTQUFTOHlDLEVBRnRCbnVDLEVBRXNCbXVDLGFBQWN6NUMsRUFGcENzTCxFQUVvQ3RMLEtBQ3pDLE9BRUk1RCxHQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzRGLE9BQVNyTSxNQUFPLFNBQ2pCdEUsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEdBQUlFLE9BQ2Y3TSxRQUFTLFNBR1Q5RCxFQUFBbkMsUUFBQWtOLGNBQUM1SyxFQUFBdEMsU0FBSzBLLE1BQUEsRUFBS2tJLEdBQUksR0FDWHpRLEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLMEssTUFBQSxFQUFLa0ksR0FBSSxHQUFJZixVQUFXbkYsRUFBUTJ3RCxpQkFDbENsN0QsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEdBQ0Z2SSxFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQTZILFlBQVdudEMsVUFBV25GLEVBQVE4d0Qsb0JBQS9CLGtCQUVKcjdELEVBQUFuQyxRQUFBa04sY0FBQzVLLEVBQUF0QyxTQUFLbStELE9BQUEsRUFBTS91RCxHQUFHLG1CQUFtQnlDLFVBQWEydEMsR0FBdUMsR0FBdkJBLEVBQWExOUMsT0FBNkU0SyxFQUFRNHdELGtCQUF0RSxFQUFBNTZELEVBQUExQyxTQUFXME0sRUFBUWl4RCxpQkFBa0JqeEQsRUFBUXVILGtCQUU5SHVyQyxHQUF1QyxHQUF2QkEsRUFBYTE5QyxTQUMvQkssRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUWt4RCxhQUNwQno3RCxFQUFBbkMsUUFBQWtOLGNBQUNnd0QsRUFBQWw5RCxTQUFLNlIsVUFBV25GLEVBQVE2dkIsT0FDekJwNkIsRUFBQW5DLFFBQUFrTixjQUFBLFFBQU0yRSxVQUFXbkYsRUFBUWd4RCxrQkFBekIsK0JBR05sZSxHQUF3QyxJQUF2QkEsRUFBYTE5QyxRQUM1QkssRUFBQW5DLFFBQUFrTixjQUFBLE1BQUkyRSxVQUFXbkYsRUFBUSt3RCxXQUVmamUsRUFBYXprQyxJQUFJLFNBQUFraUMsR0FBQSxNQUNiOTZDLEdBQUFuQyxRQUFBa04sY0FBQSxVQUFJL0ssRUFBQW5DLFFBQUFrTixjQUFDaXFDLEVBQUE2SCxZQUFXbHNDLE9BQVN4TCxNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQU1vQyxRQUFTLEVBQUdwQixTQUFVLG1CQUFvQjhrQixhQUFjLGFBQWUyd0IsVUFRL0o5NkMsRUFBQW5DLFFBQUFrTixjQUFDNUssRUFBQXRDLFNBQUswSyxNQUFBLEVBQUtrSSxHQUFJLEVBQUdFLE9BQVNuSyxZQUFhLFlBQ3BDeEcsRUFBQW5DLFFBQUFrTixjQUFDa3dELEVBQUFwOUQsU0FDR3cvQyxhQUFnQkEsRUFDaEJuckMsVUFBV2xKLEtBQUt2SixNQUFNeVMsVUFDdEI0bEMsa0JBQW1COXVDLEtBQUt2SixNQUFNcTRDLGtCQUM5QmlrQixhQUFjL3lELEtBQUtJLE1BQU0yeUQsYUFDekJuekQsU0FBVUksS0FBS3ZKLE1BQU1tSixTQUNyQnF6RCxrQkFBbUJqekQsS0FBS3ZKLE1BQU0wOUMscUJ6QmtyYS9Dd2UsR3lCcnhhUzVvRCxZQWdIcEI0b0QsR0FBTW4vQixVQUFZQSxFQUNsQm0vQixFQUFNbDlDLGFBQWVBLENBRXJCLElBQU1qTCxJQUFnQixFQUFBbFEsRUFBQXpGLFNBQWM4RixFQUFROFAsVXpCMHFhNUNqVyxHQUFRSyxTeUJ4cWFPLEVBQUFvQyxFQUFBMFQsWUFBV0gsR0FBaUJJLFdBQVcsSUFBUStuRCxJekI0cWF4RE8sS0FDQSxTQUFVMytELEVBQVFDLEVBQVNDLEdBRWpDLFlBdURBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVM2MkMsR0FBbUJDLEdBQU8sR0FBSUMsTUFBTUMsUUFBUUYsR0FBTSxDQUFFLElBQUssR0FBSS8wQyxHQUFJLEVBQUdrMUMsRUFBT0YsTUFBTUQsRUFBSTkwQyxRQUFTRCxFQUFJKzBDLEVBQUk5MEMsT0FBUUQsSUFBT2sxQyxFQUFLbDFDLEdBQUsrMEMsRUFBSS8wQyxFQUFNLE9BQU9rMUMsR0FBZSxNQUFPRixPQUFNM0gsS0FBSzBILEdBRTFMLFFBQVNuMkMsR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBMkJDLEVBQU1DLEdBQVEsSUFBS0QsRUFBUSxLQUFNLElBQUlFLGdCQUFlLDREQUFnRSxRQUFPRCxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCRCxFQUFQQyxFQUVsTyxRQUFTRSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlQLFdBQVUsaUVBQW9FTyxHQUFlRCxHQUFTRSxVQUFZaEIsT0FBT2lCLE9BQU9GLEdBQWNBLEVBQVdDLFdBQWFFLGFBQWVuQixNQUFPZSxFQUFVWixZQUFZLEVBQU9FLFVBQVUsRUFBTUQsY0FBYyxLQUFlWSxJQUFZZixPQUFPbUIsZUFBaUJuQixPQUFPbUIsZUFBZUwsRUFBVUMsR0FBY0QsRUFBU00sVUFBWUwsR0E1RGplZixPQUFPQyxlQUFlVixFQUFTLGNBQzNCUSxPQUFPLEdBR1gsSUFBSXNCLEdBQWUsV0FBYyxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVd6QixXQUFheUIsRUFBV3pCLGFBQWMsRUFBT3lCLEVBQVd4QixjQUFlLEVBQVUsU0FBV3dCLEtBQVlBLEVBQVd2QixVQUFXLEdBQU1KLE9BQU9DLGVBQWVzQixFQUFRSSxFQUFXN0IsSUFBSzZCLElBQWlCLE1BQU8sVUFBVXBCLEVBQWFxQixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWU4sRUFBaUJmLEVBQVlTLFVBQVdZLEdBQWlCQyxHQUFhUCxFQUFpQmYsRUFBYXNCLEdBQXFCdEIsTTBCeDRhaGlCdUIsRUFBQXRDLEVBQUEsRzFCNDRhSXVDLEVBQVV0QyxFQUF1QnFDLEcwQjM0YXJDdThCLEVBQUE3K0IsRUFBQSxHMUIrNGFJNnFDLEVBQWM1cUMsRUFBdUI0K0IsRzBCOTRhekNyOEIsRUFBQXhDLEVBQUEsSUFDQXUzQyxFQUFBdjNDLEVBQUEsSUFDQTArRCxFQUFBMStELEVBQUEsSTFCbzVhSTIrRCxFQUFVMStELEVBQXVCeStELEcwQm41YXJDRSxFQUFBNStELEVBQUEsTUFDQXFELEVBQUFyRCxFQUFBLEkxQnc1YUlzRCxFQUFVckQsRUFBdUJvRCxHMEJ2NWFyQzR0QyxFQUFBanhDLEVBQUEsSzFCMjVhSWt4QyxFQUFhanhDLEVBQXVCZ3hDLEcwQjE1YXhDRSxFQUFBbnhDLEVBQUEsSzFCODVhSW94QyxFQUFpQm54QyxFQUF1Qmt4QyxHMEI3NWE1QzB0QixFQUFBNytELEVBQUEsSzFCaTZhSTgrRCxFQUFTNytELEVBQXVCNCtELEcwQmg2YXBDL3pCLEVBQUE5cUMsRUFBQSxLMUJvNmFJK3FDLEVBQWE5cUMsRUFBdUI2cUMsRzBCbjZheENFLEVBQUFockMsRUFBQSxJMUJ1NmFJaXJDLEVBQWVockMsRUFBdUIrcUMsRzBCdDZhMUMrekIsRUFBQS8rRCxFQUFBLE1BRUFvMUMsRUFBQXAxQyxFQUFBLEtBQ01rRyxFQUFTLFNBQUFDLEdBQUEsT0FDWDY0RCxvQkFDSWg0RCxXQUFZLFNBQ1pYLFFBQVMsUUFFYjQ0RCxjQUNJNTRELFFBQVMsT0FDVEMsY0FBZSxTQUNmWSxlQUFnQixnQkFDaEJpTSxVQUFXLFVBQ1h1WixhQUFjLFNBQ2RubEIsT0FBUSxPQUNSUyxhQUFjLE1BQ2RXLGdCQUFpQnhDLEVBQU1PLFFBQVFrQyxlQUFlaEMsTUFFbERzNEQsa0JBQ0loM0QsUUFBUywwQkFFYmkzRCxtQkFDSXB6QixhQUFjLDJDQUVsQnF6QixlQUNJeDNELFNBQVUsV0FDVmQsWUFBYSxRQUNia0MsUUFBUyxHQUNUdEIsTUFBT3ZCLEVBQU1PLFFBQVE2QixVQUFVM0IsTUFFbkMwM0QsY0FDSS8yRCxPQUFRLFFBQ1JLLFNBQVUsV0FDVm1CLFlBQWEsWUFDYmpCLGFBQWMsWUFDZGhCLFlBQWEsUUFDYjZCLGdCQUFpQnhDLEVBQU1PLFFBQVE2QixVQUFVM0IsS0FDekNjLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0J5NEQsV0FDSXozRCxTQUFVLFNBQ1ZkLFlBQWEsVUFFakJ3NEQsb0JBQ0kzMkQsZ0JBQWlCeEMsRUFBTU8sUUFBUTZCLFVBQVUzQixNQUU3Qzh2QixZQUNJL3RCLGdCQUFpQnhDLEVBQU1PLFFBQVE2QixVQUFVM0IsT0FHakQyNEQscUJBQ0loNEQsT0FBUSxRQUNSSyxTQUFVLFdBQ1ZtQixZQUFhLFlBQ2JqQixhQUFjLFlBQ2RoQixZQUFhLFFBQ2J1NEQsV0FDSXozRCxTQUFVLFNBQ1ZkLFlBQWEsVUFFakI2QixnQkFBaUIsVUFDakJqQixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCMDRELG9CQUNJMzJELGdCQUFpQixXQUVyQit0QixZQUNJL3RCLGdCQUFpQixZQUd6QjYyRCxlQUNJNTNELFNBQVUsUUFDVkYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixNQUVqQzY0RCxjQUNJMzRELFlBQWEsWUFDYkQsTUFBTyxNQUNQNjRELE9BQVEsYUFDUmg0RCxNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCZ0IsU0FBVSxVQUVkKzNELGNBQ0k1ekIsYUFBYywwQ0FDZG5rQyxTQUFVLFdBQ1ZGLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JnNUQsa0JBQ0lsNEQsTUFBTyxZQUdmbTRELHNCQUNJajRELFNBQVUsV0FDVkYsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixNQUVqQ2s1RCxrQkFDSXY0RCxPQUFRLE9BQ1IrQyxVQUFXLE9BQ1hrdUMsVUFBVyxVQUVmdW5CLGVBQ0k1c0QsVUFBVyxTQUNYekwsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUFPLGVBRXhDdTZDLGNBQ0l6MEIsYUFBYyxVQUVsQnN6QyxxQkFDSXo0RCxPQUFRLFFBRVppcUMsYUFDSW5yQyxRQUFTLE9BQ1RzdUIsT0FBUXh1QixFQUFNTyxRQUFRNkIsVUFBVTNCLEtBQU8sbUJBQ3ZDc0IsUUFBUyxVQUNURixhQUFjLFdBRWxCaTRELG9CQUNJMTRELE9BQVEsUUFDUlYsTUFBTyxPQUNQUixRQUFTLE9BQ1RDLGNBQWUsY0FDZlUsV0FBWSxTQUNaMkIsZ0JBQWlCLGFBRXJCdTNELHFCQUNJMzRELE9BQVEsTUFDUlYsTUFBTyxNQUNQQyxZQUFhLFNBQ2JjLFNBQVUsVUFDVnU0RCxVQUFXLFNBQ1h6NEQsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixNQUVqQ3c1RCxhQUNJLzVELFFBQVMsUUFFYnczRCxXQUNJbjJELE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JtQyxZQUFhLElBQ2JoQyxXQUFZLFVBRWhCKzJELGtCQUNJcDJELE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsTUFFakNtM0Qsa0JBQ0l4MkQsT0FBUSxPQUNSK3RDLFdBQVksV0FDWnFvQixVQUFXLGNBRWZLLGFBQ0kzM0QsUUFBUyxPQUNUVyxXQUFZLFNBQ1pxbUIsV0FBWSxJQUNaM2xCLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsS0FDN0JnQixTQUFVLE9BQ1ZvQixRQUFTLFFBRWIyekIsTUFDSTcxQixZQUFhLFFBRWpCbTNELGNBQ0kvMUMsU0FBVSxZQUlabEgsR0FDRjQrQixhQUFjLEdBQ2RuckMsYUFDQTRsQyxtQkFBbUIsRUFDbkJpa0IsZ0JBQ0FuekQsWUFDQXF6RCxzQkFHRXovQixHQUNGNmdCLGFBQWM1UCxVQUFVOVEsT0FDeEJ6cUIsVUFBV3U3QixVQUFVQyxPQUFPQyxXQUM1Qm1LLGtCQUFtQnJLLFVBQVV2USxLQUM3QjYrQixhQUFjdHVCLFVBQVVHLE1BQ3hCaGxDLFNBQVU2a0MsVUFBVUMsT0FBT0MsV0FDM0JzdUIsa0JBQW1CeHVCLFVBQVVHLE9BSTNCa3dCLEUxQm83YVMsU0FBVS8wRCxHMEJuN2FyQixRQUFBKzBELEdBQVlyK0QsR0FBT25CLEVBQUEwSyxLQUFBODBELEVBQUEsSUFBQTcwRCxHQUFBdkssRUFBQXNLLE1BQUE4MEQsRUFBQXorRCxXQUFBcEIsT0FBQWlMLGVBQUE0MEQsSUFBQWwvRCxLQUFBb0ssS0FDVHZKLEdBRFMsT0FBQXdKLEdBNkJuQjgwRCxxQkFBdUIsU0FBQS8zQyxHQUNuQi9jLEVBQUtLLFVBQVcwMEQsa0JBQW1CaDRDLEVBQU14bUIsT0FBT3hCLE9BT2hELEtBQUssR0FMRGlnRSxHQUFXaDFELEVBQUtHLE1BQU04MEQsZUFLakJ4K0QsRUFBSSxFQUFHQSxFQUFJdStELEVBQVN0K0QsT0FBUUQsSUFDakMsR0FBSXUrRCxFQUFTditELEdBQUdnUCxNQUFRc1gsRUFBTXhtQixPQUFPeEIsTUFBTyxDQUN4Q2lMLEVBQUtLLFVBQVc2MEQscUJBQXNCRixFQUFTditELEdBQUcwMkQsVUFDbERudEQsRUFBS0ssVUFBVzgwRCxrQkFBbUJILEVBQVN2K0QsR0FBRzIrRCxPQUMvQ3AxRCxFQUFLSyxVQUFXZzFELFdBQVlMLEVBQVN2K0QsR0FBR3VOLElBQ3hDLFNBMUNPaEUsRUFnRG5CczFELGlCQUFtQixTQUFBdjRDLEdBQ2YsSUFBb0IsU0FBZkEsRUFBTXBiLE1BQWlDLFVBQWRvYixFQUFNam9CLE1BQW9CaW9CLEVBQU14bUIsT0FBT3hCLE1BQU02NUMsT0FBUSxDQUczRTd4QixFQUFNeG1CLE9BQU94QixRQUNiZ29CLEVBQU14bUIsT0FBT3hCLE1BQVFnb0IsRUFBTXhtQixPQUFPeEIsTUFBTTY1QyxPQUc1QyxJQUFJaWtCLElBQWUsRUFBQVUsRUFBQWdDLGVBQWN4NEMsRUFBTXhtQixPQUFPeEIsT0FFMUN5Z0UsRUFBV3gxRCxFQUFLRyxNQUFNMnlELGFBQ3RCcCtELEdBQ0FJLElBQUswZ0UsRUFBUzkrRCxPQUFRK21CLE1BQU9WLEVBQU14bUIsT0FBT3hCLE1BQzFDZ3ZDLFFBQVNobkIsRUFBTXhtQixPQUFPeEIsTUFBTzg5RCxhQUFjQSxFQUMzQ3ZaLFdBQVksRUFFaEJrYyxHQUFTNTFELEtBQUtsTCxHQUNkc0wsRUFBS0ssVUFBV28xRCxPQUFRRCxJQUN4Qno0QyxFQUFNeG1CLE9BQU94QixNQUFRLEtBbEVWaUwsRUEwRW5CMDFELG9CQUFzQixTQUFBdnJELEdBQUEsTUFBUSxZQUMxQm5LLEVBQUsyMUQsU0FBUzdsRCxRQUFRa2hDLFFBQ3RCaHhDLEVBQUtLLFNBQVMsU0FBQUYsR0FDVixHQUFNMnlELGVBQW1CM3lELEVBQU0yeUQsZUFDekI4QyxFQUFlOUMsRUFBYXo3QixRQUFRbHRCLEVBRTFDLE9BREEyb0QsR0FBYXpTLE9BQU91VixFQUFjLElBQ3pCOUMsb0JBaEZFOXlELEVBcUZuQjYxRCxvQkFBc0IsU0FBQTk0QyxHQUNsQi9jLEVBQUtLLFVBQ0Q2MEQscUJBQXNCbjRDLEVBQU14bUIsT0FBT3hCLFNBdkZ4QmlMLEVBNEZuQjgxRCxzQkFBd0IsU0FBQS80QyxHQUNwQixHQUFJZzVDLEdBQWVyMUQsS0FBS2tuQixNQUFNd2lCLFNBQVNDLGVBQWUsYUFBYUUsYUFDL0R3ckIsSUFBZ0IsS0FDaEJBLEVBQWUsSUFFbkIvMUQsRUFBS0ssVUFDRDgwRCxrQkFBbUJwNEMsRUFBTXhtQixPQUFPeEIsTUFDaENpaEUsZ0JBQWlCRCxLQW5HTi8xRCxFQXdHbkJpMkQsa0JBQW9CLFNBQUF4dEIsR0FFaEIsSUFBSyxHQUREeXRCLEdBQW1CbDJELEVBQUtHLE1BQU02eUQsa0JBQ3pCdjhELEVBQUksRUFBR0EsRUFBSXkvRCxFQUFpQngvRCxPQUFRRCxJQUN6QyxHQUFJeS9ELEVBQWlCei9ELEdBQUd1TixJQUFNeWtDLEVBQWdCLENBQzFDeXRCLEVBQWlCN1YsT0FBTzVwRCxFQUFHLEdBQzNCdUosRUFBS0ssVUFBVzJ5RCxrQkFBbUJrRCxHQUNuQyxTQTlHT2wyRCxFQW1IbkJtMkQsYUFBZSxTQUFDcDFDLEdBRVosR0FBSXExQyxHQUFtQnAyRCxFQUFLRyxNQUFNMnlELFlBQ2xDc0QsR0FBaUJyMUMsR0FBT3U0QixXQUFZLEVBQ3BDdDVDLEVBQUtLLFVBQVV5eUQsYUFBZXNELEtBdkhmcDJELEVBMEhuQnEyRCxnQkFBa0IsU0FBQ3QxQyxFQUFPaEUsR0FDdEIsSUFBb0IsU0FBZkEsRUFBTXBiLE1BQWlDLFVBQWRvYixFQUFNam9CLE1BQW9CaW9CLEVBQU14bUIsT0FBT3hCLE1BQU8sQ0FFcEVnb0IsRUFBTXhtQixPQUFPeEIsUUFDYmdvQixFQUFNeG1CLE9BQU94QixNQUFRZ29CLEVBQU14bUIsT0FBT3hCLE1BQU02NUMsT0FHNUMsSUFBSWlrQixJQUFlLEVBQUFVLEVBQUFnQyxlQUFjeDRDLEVBQU14bUIsT0FBT3hCLE9BRTFDdWhFLEVBQW1CdDJELEVBQUtHLE1BQU0yeUQsWUFDbEN3RCxHQUFpQnYxQyxHQUFPaHNCLE1BQVFnb0IsRUFBTXhtQixPQUFPeEIsTUFDN0N1aEUsRUFBaUJ2MUMsR0FBTzh4QyxhQUFlQSxFQUN2Q3lELEVBQWlCdjFDLEdBQU91NEIsV0FBWSxFQVFwQ3Q1QyxFQUFLSyxVQUFXbzFELE9BQVFhLE1BOUlidDJELEVBb0puQjRXLGFBQWUsU0FBQ21LLEVBQU1oRSxHQUNsQixHQUFJdTVDLEdBQW1CdDJELEVBQUtHLE1BQU0yeUQsWUFDbEN3RCxHQUFpQnYxQyxHQUFPaHNCLE1BQVFnb0IsRUFBTXhtQixPQUFPeEIsTUFDN0NpTCxFQUFLSyxVQUFVeXlELGFBQWV3RCxLQXZKZnQyRCxFQTRKbkJ1MkQsaUJBQW1CLFdBR2YsSUFBSyxHQUREQyxNQUNLLy9ELEVBQUksRUFBR0EsRUFBSXVKLEVBQUtHLE1BQU02eUQsa0JBQWtCdDhELE9BQVFELElBQ3JEKy9ELEVBQVk1MkQsS0FBS0ksRUFBS0csTUFBTTZ5RCxrQkFBa0J2OEQsR0FBR3VOLEdBR3JELElBQXNDLEdBQWxDaEUsRUFBS0csTUFBTTJ5RCxhQUFhcDhELE9BRXhCLFdBREFzSixHQUFLeWpDLHdCQUF3Qix5Q0FLakMsS0FBSyxHQUREZ3lCLEdBQVMsR0FDSmgvRCxFQUFJLEVBQUdBLEVBQUl1SixFQUFLRyxNQUFNMnlELGFBQWFwOEQsT0FBUUQsSUFDNUN1SixFQUFLRyxNQUFNMnlELGFBQWFyOEQsR0FBR284RCxlQUMzQjRDLEdBQVV6MUQsRUFBS0csTUFBTTJ5RCxhQUFhcjhELEdBQUdzdEMsUUFBVSxJQUl2RCxJQUFJMHlCLEdBQU1oQixFQUFPaDlCLFlBQVksSUFDN0JnOUIsR0FBU0EsRUFBT3pWLE1BQU0sRUFBR3lXLEVBQ3pCLElBQUlDLEdBQVkxMkQsRUFBS0csTUFBTWcxRCxpQkFDM0J1QixHQUFZQSxFQUFVei9CLFFBQVEsTUFBTyxTQUVyQyxJQUFJMC9CLElBQ0F2QixLQUFNc0IsRUFDTnZKLFFBQVNudEQsRUFBS0csTUFBTSswRCxxQkFFcEJ0eEIsV0FBWTVqQyxFQUFLeEosTUFBTW1KLFNBQVNxRSxHQUNoQzYvQixZQUFhMnlCLEVBQ2IxeUIsS0FBTTlqQyxFQUFLeEosTUFBTXlTLFVBQVU4NkIsUUFDM0J2NkIsR0FBSWlzRCxFQUdSejFELEdBQUtLLFVBQVd1MkQsV0FBVyxJQUMzQkMsd0JBQXNCQyxnQkFBZ0JILEdBQ2pDdnlCLEtBQUssU0FBQUMsR0FDRnJrQyxFQUFLeWpDLHdCQUF3QixjQUM3QnpqQyxFQUFLSyxVQUFXdTJELFdBQVcsTUFHOUJ0eUIsTUFBTSxTQUFBbHJCLEdBQ0hwWixFQUFLSyxVQUFXdTJELFdBQVcsSUFDM0I1MkQsRUFBS3lqQyx3QkFBd0IsMEJBQzdCNS9CLFFBQVFDLElBQUlzVixNQXhNTHBaLEVBOE1uQnlqQyx3QkFBMEIsU0FBQXJnQyxHQUN0QnBELEVBQUtLLFVBQVd3aEMsZ0JBQWlCeitCLElBQ2pDcEQsRUFBS0ssVUFBV3VoQyxjQUFjLEtBaE5mNWhDLEVBb05uQjJpQyxjQUFnQixXQUNaM2lDLEVBQUtLLFVBQVd1aEMsY0FBYyxLQXJOZjVoQyxFQXdObkIrMkQsZUFBaUIsV0FBTSxHQUFBbi9CLEdBQ29DNTNCLEVBQUt4SixNQUFwRHlTLEVBRFcydUIsRUFDWDN1QixVQUFXbXJDLEVBREF4YyxFQUNBd2MsYUFBY3ZGLEVBRGRqWCxFQUNjaVgsa0JBQzdCbW9CLEVBQWlCaDNELEVBQUtHLE1BQU02eUQsa0JBQWtCdDhELE9BQVMsR0FBT3VnRSx5QkFBZSxHQUM3RUMsRUFBZ0IsR0FDaEJqekQsRUFBWWdGLEVBQVVoRixVQUFZakUsRUFBS3hKLE1BQU15UyxVQUFVaEYsVUFBWSxHQUNuRUMsRUFBVytFLEVBQVUvRSxTQUFXbEUsRUFBS3hKLE1BQU15UyxVQUFVL0UsU0FBVyxFQUNwRSxLQUFLLEdBQUl6TixLQUFLMjlDLEdBQWMsQ0FDeEIsR0FBSzM5QyxHQUFLMjlDLEVBQWExOUMsT0FBUyxHQUFNbTRDLEVBQ2xDLEtBRUpxb0IsSUFBa0I5aUIsRUFBYTM5QyxHQUFHbTRDLE9BQVUsT0FBY3dGLEVBQWEzOUMsR0FBSyxHQUVoRnlnRSxFQUFpQkEsRUFBRCx5REFBMkVBLEVBQTNFLE9BQStGRixFQUEvRixLQUFtSCxFQUNuSSxJQUFJTixHQUFhUSxFQUFELGVBQWlDQSxFQUFqQyxlQUE2RGp6RCxFQUFZLElBQU1DLEVBQWEsR0FDeEdpekQsR0FBZ0JULEVBQVV0d0QsTUFBTSxZQUFjMVAsTUFDbERzSixHQUFLSyxVQUFXODBELGtCQUFtQnVCLEVBQVdWLGdCQUFpQm1CLEVBQWUsS0FyTzlFbjNELEVBQUsyMUQsU0FBV3B5RCxVQUFNQyxZQUN0QnhELEVBQUtHLE9BQ0QyeUQsYUFBYzl5RCxFQUFLeEosTUFBTXM4RCxhQUN6QnVDLFlBQWEsRUFDYkgscUJBQXNCa0Msc0JBQ3RCUixXQUFXLEVBQ1haLGdCQUFpQixHQUNqQmhELGtCQUFtQmh6RCxFQUFLeEosTUFBTXc4RCxrQkFDOUJweEIsY0FBYyxFQUNkQyxnQkFBaUIsR0FDakJrekIsa0JBQW1CLEdBQ25CSSxrQkFBbUIsR0FDbkJGLG1CQWRXajFELEUxQjYzYm5CLE1BemNBbkssR0FBVWcvRCxFQUFVLzBELEdBNk5wQnpKLEVBQWF3K0QsSUFDVC8vRCxJQUFLLG9CQUNMQyxNQUFPLFcwQjluYlBnTCxLQUFLZzNELG9CMUJrb2JMamlFLElBQUssNEJBQ0xDLE1BQU8sUzBCaG9iZTZRLEdBQ3RCN0YsS0FBS00sVUFBVXl5RCxhQUFlbHRELEVBQVVrdEQsa0IxQjhwYnhDaCtELElBQUssU0FDTEMsTUFBTyxXMEI3OGFGLEdBQUFpUixHQUFBakcsS0FBQWtHLEVBQ3NCbEcsS0FBS3ZKLE1BQXhCOEssRUFESDJFLEVBQ0czRSxRQUFTM0csRUFEWnNMLEVBQ1l0TCxLQUNqQixPQUNJNUQsR0FBQW5DLFFBQUFrTixjQUFDL0ssRUFBQW5DLFFBQU15aUUsU0FBUCxLQUNJdGdFLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVFreUQsb0JBQ3BCejhELEVBQUFuQyxRQUFBa04sY0FBQ2lxQyxFQUFBNkgsWUFBV2xzQyxPQUFTdEwsU0FBVSxhQUFjeWxCLFdBQVksU0FBVTNsQixNQUFPLFVBQVdzQixRQUFTLElBQU0vQixjQUFlLFVBQW5ILHNCQXdCSjFFLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVFteUQsY0FDcEIxOEQsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUW95RCxrQkFFcEIzOEQsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUXF5RCxtQkFDcEI1OEQsRUFBQW5DLFFBQUFrTixjQUFBLFFBQU0yRSxVQUFXbkYsRUFBUXN5RCxlQUF6QixPQUNDN3pELEtBQUtJLE1BQU0yeUQsYUFBYW5qRCxJQUFJLFNBQUN2TCxFQUFPMmMsR0FDakMsTUFFUTNjLEdBQU1rMUMsVUFFRnZpRCxFQUFBbkMsUUFBQWtOLGNBQUNxeEQsRUFBQXYrRCxTQUVHNmhCLFNBQVksU0FBQzhDLEdBQU92VCxFQUFLNFEsYUFBYW1LLEVBQU14SCxJQUM1Q3hrQixNQUFTcVAsRUFBTXFaLE1BQ2Y5RCxPQUFRLFNBQUNKLEdBQUQsTUFBT3ZULEdBQUtxd0QsZ0JBQWdCdDFDLEVBQU94SCxJQUMzQzlTLFVBQVduRixFQUFRMnlELGFBQ25CN3hCLGtCQUFrQixJQUV0QnJyQyxFQUFBbkMsUUFBQWtOLGNBQUN3eEQsRUFBQTErRCxTQUNHRSxJQUFLc1AsRUFBTXRQLElBQ1gyb0IsTUFBT3JaLEVBQU1xWixNQUNiaFgsVUFBV3JDLEVBQU15dUQsYUFBZXZ4RCxFQUFRd3hELGFBQWV4eEQsRUFBUXl5RCxvQkFDL0R1RCxXQUFZdmdFLEVBQUFuQyxRQUFBa04sY0FBQ2hLLEVBQUFsRCxTQUNUNlIsVUFBWVQsRUFBSzdGLE1BQU15MkQsVUFBb0N0MUQsRUFBUXN6RCxZQUFoQ3R6RCxFQUFRMHlELGdCQUsvQ3poQixTQUFVdnNDLEVBQUswdkQsb0JBQW9CdHhELEdBQ25DOUMsU0FBV2kyRCxVQUFXbnpELEVBQU15dUQsYUFBZXZ4RCxFQUFRd3hELGFBQWV4eEQsRUFBUXl5RCx5QkFLOUZoOUQsRUFBQW5DLFFBQUFrTixjQUFDcXhELEVBQUF2K0QsU0FDR21tQixXQUFZaGIsS0FBS3UxRCxpQkFDakIzN0MsT0FBUTVaLEtBQUt1MUQsaUJBQ2Jya0MsV0FBVyxFQUNYeHFCLFVBQVduRixFQUFRMnlELGFBQ25CN3hCLGtCQUFrQixFQUNsQmw3QixTQUFVbkgsS0FBS0ksTUFBTXkyRCxVQUNyQm4vQyxTQUFVMVgsS0FBSzQxRCxZQUd2QjUrRCxFQUFBbkMsUUFBQWtOLGNBQUNxeEQsRUFBQXYrRCxTQUNHcThCLFdBQVcsRUFDWHZwQixPQUFTQyxVQUFXLE1BQ3BCMjNDLFlBQVksVUFDWmgrQyxTQUFXNEYsU0FBVTVGLEVBQVEreUQsc0JBQzdCNXRELFVBQVduRixFQUFRNnlELGFBQ25CcC9ELE1BQU9nTCxLQUFLSSxNQUFNKzBELHFCQUNsQnorQyxTQUFVMVcsS0FBSzgxRCxvQkFDZnp6QixrQkFBa0IsRUFDbEJsN0IsU0FBVW5ILEtBQUtJLE1BQU15MkQsWUFFekI3L0QsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUWd6RCxrQkFDcEJ2OUQsRUFBQW5DLFFBQUFrTixjQUFDaXFDLEVBQUF5ckIsV0FDR3h6RCxHQUFHLFlBQ0hpdEIsV0FBVyxFQUNYd21DLFdBQVcsRUFDWDFpRSxNQUFPZ0wsS0FBS0ksTUFBTWcxRCxrQkFDbEIxK0MsU0FBVTFXLEtBQUsrMUQsc0JBQ2Z6MkQsS0FBTSxHQUNOcUksT0FBU3hMLE1BQU8sUUFBU3dnQixTQUFVLFVBQ25DZzdDLFFBQVMzM0QsS0FBS0ksTUFBTTYxRCxnQkFDcEJ2dkQsVUFBV25GLEVBQVFpekQsY0FDbkJqekQsV0FDQThZLFlBQ0lnb0Isa0JBQWtCLEVBQ2xCMTZCLE9BQVN4TCxNQUFPLFNBQ2hCb0YsU0FBV28xQixNQUFPcDFCLEVBQVFteEQsZUFFOUJ2ckQsU0FBVW5ILEtBQUtJLE1BQU15MkQsWUFFekI3L0QsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUWt6RCxxQkFDbkJ6MEQsS0FBS0ksTUFBTTZ5RCxrQkFBa0J0OEQsT0FBUyxHQUVuQ0ssRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUXEwQyxjQUNwQjUrQyxFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQTZILFlBQVdsc0MsT0FBU3hMLE1BQU92QixFQUFNTyxRQUFRNkIsVUFBVTNCLEtBQU1nQixTQUFVLFdBQXBFLHlCQUF1RzJELEtBQUtJLE1BQU02eUQsa0JBQWtCdDhELE9BQXBJLE1BR1JLLEVBQUFuQyxRQUFBa04sY0FBQzRqQyxFQUFBOXdDLFNBQVNrMEMsV0FBWSxPQUFRcmlDLFVBQVduRixFQUFReWtDLFVBQzVDaG1DLEtBQUtJLE1BQU02eUQsa0JBQWtCcmpELElBQUksU0FBQTB6QixHQUFBLE1BQzlCdHNDLEdBQUFuQyxRQUFBa04sY0FBQzhqQyxFQUFBaHhDLFNBQWFtMEMsS0FBTSxFQUFHajBDLElBQUt1dUMsRUFBUXIvQixHQUNoQzBELE9BQVMzTCxPQUFRLE9BQVFWLE1BQU8sVUFBV3FCLFFBQVMsWUFDcEQzRixFQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzJFLFVBQVduRixFQUFRMGtDLGFBQ3BCanZDLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLNEYsT0FBUzdNLFFBQVMsUUFBU1UsV0FBWSxhQUN4Q3hFLEVBQUFuQyxRQUFBa04sY0FBQ2lxQyxFQUFBNkgsWUFBV2xzQyxPQUFTaEwsUUFBUyxVQUFXTixTQUFVLFdBQVlvQixRQUFTLElBQU10QixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLE9BQVNpb0MsRUFBUW9GLGdCQUM1SDF4QyxFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQTZILFlBQVdsc0MsT0FBU2hMLFFBQVMsVUFBV04sU0FBVSxPQUFRRixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLE9BQXhGLEtBQW1HaW9DLEVBQVErRCw0QkFTM0lyd0MsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUW16RCxvQkFVcEIxOUQsRUFBQW5DLFFBQUFrTixjQUFDaXFDLEVBQUE0ckIsUUFDR3o3RCxNQUFNLFlBQ051SyxVQUFXbkYsRUFBUW96RCxvQkFDbkJ0dEQsS0FBSyxRQUNMZ0IsUUFBUSxZQUNSckIsUUFBU2hILEtBQUt3MkQsaUJBQ2RydkQsU0FBVW5ILEtBQUtJLE1BQU15MkQsV0FOekIsVUFhUjcvRCxFQUFBbkMsUUFBQWtOLGNBQUN5OUIsRUFBQTNxQyxTQUNHc3hCLGNBQ0lDLFNBQVUsU0FDVkMsV0FBWSxRQUVoQnhmLEtBQU03RyxLQUFLSSxNQUFNeWhDLGFBQ2pCYyxpQkFBa0IsSUFDbEI1N0IsUUFBUy9HLEtBQUs0aUMsY0FDZEMsY0FDSUMsbUJBQW9CLGNBRXhCei9CLFFBQVNyTSxFQUFBbkMsUUFBQWtOLGNBQUEsUUFBTWtDLEdBQUcsY0FBY2pFLEtBQUtJLE1BQU0waEMsaUJBQzNDemxCLFFBQ0lybEIsRUFBQW5DLFFBQUFrTixjQUFDMjlCLEVBQUE3cUMsU0FDR0UsSUFBSSxRQUNKa1MsYUFBVyxRQUNYOUssTUFBTSxVQUNOdUssVUFBV25GLEVBQVEyYixNQUNuQmxXLFFBQVNoSCxLQUFLNGlDLGVBRWQ1ckMsRUFBQW5DLFFBQUFrTixjQUFDaEssRUFBQWxELFFBQUQsZTFCeSthakJpZ0UsRzBCOTNiWS9xRCxZQThadkIrcUQsR0FBU3IvQyxhQUFlQSxFQUN4QnEvQyxFQUFTdGhDLFVBQVlBLEUxQnErYXJCaC9CLEVBQVFLLFMwQm4rYU8sRUFBQW9DLEVBQUEwVCxZQUFXaFEsR0FBVWlRLFdBQVcsSUFBUWtxRCxJMUJ1K2FqRCtDLEtBQ0EsU0FBVXRqRSxFQUFRQyxFQUFTQyxHQUVqQyxZQWtCQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHMkJybGN2RixRQUFTbWpFLEtBQ0wsTUFBTzd6QixXQUNOQyxLQURNLEdBQ0VDLFVBQU9DLE9BQVMyekIsRUFEbEIsbUJBRU4xekIsS0FBSyxTQUFDQyxHQUNILE9BQU8sRUFBQTB6QixFQUFBQyxtQkFBa0IzekIsS0FFNUJDLE1BQU0sU0FBQ2xyQixHQUNKLE9BQU8sRUFBQTIrQyxFQUFBQyxtQkFBa0I1K0MsS0FLakMsUUFBUzA5QyxHQUFnQnphLEdBQ3JCLE1BQU9yWSxXQUNOQyxLQURNLEdBQ0VDLFVBQU9DLE9BQVMyekIsRUFEbEIsZUFDeUN6YixHQUMvQ2pZLEtBQUssU0FBQ0MsR0FDSCxPQUFPLEVBQUEwekIsRUFBQUMsbUJBQWtCM3pCLEtBRTVCQyxNQUFNLFNBQUNsckIsR0FDSixPQUFPLEVBQUEyK0MsRUFBQUMsbUJBQWtCNStDLEszQm1qY2pDcGtCLE9BQU9DLGVBQWVWLEVBQVMsY0FDM0JRLE9BQU8sSUFFWFIsRUFBUXNpRSwwQkFBd0JwaEQsRTJCaGxjaEMsSUFBQTBwQixHQUFBM3FDLEVBQUEsSTNCb2xjSTRxQyxFQUFVM3FDLEVBQXVCMHFDLEcyQm5sY3JDRixFQUFBenFDLEVBQUEsSTNCdWxjSTBxQyxFQUFXenFDLEVBQXVCd3FDLEcyQnRsY3RDODRCLEVBQUF2akUsRUFBQSxLQUdNc2pFLEVBQVcsaUJBeUJKakIsMEJBQXlCZ0Isa0JBQW9CQSxFQUFtQmYsZ0JBQWtCQSxJM0JzbGN6Rm1CLEtBQ0EsU0FBVTNqRSxFQUFRQyxFQUFTQyxHQUVqQyxZQUdBUSxRQUFPQyxlQUFlVixFQUFTLGNBQzNCUSxPQUFPLEc0QjNuY0V3Z0UsaUJBQWdCLFNBQUFueEQsR0FFekIsTUFEVyw0SkFDRHMzQixLQUFLdDNCLEs1QmtvY2I4ekQsS0FDQSxTQUFVNWpFLEVBQVFDLEVBQVNDLEdBRWpDLFlBeUNBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNXLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQTJCQyxFQUFNQyxHQUFRLElBQUtELEVBQVEsS0FBTSxJQUFJRSxnQkFBZSw0REFBZ0UsUUFBT0QsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QkQsRUFBUEMsRUFFbE8sUUFBU0UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJUCxXQUFVLGlFQUFvRU8sR0FBZUQsR0FBU0UsVUFBWWhCLE9BQU9pQixPQUFPRixHQUFjQSxFQUFXQyxXQUFhRSxhQUFlbkIsTUFBT2UsRUFBVVosWUFBWSxFQUFPRSxVQUFVLEVBQU1ELGNBQWMsS0FBZVksSUFBWWYsT0FBT21CLGVBQWlCbkIsT0FBT21CLGVBQWVMLEVBQVVDLEdBQWNELEVBQVNNLFVBQVlMLEdBNUNqZWYsT0FBT0MsZUFBZVYsRUFBUyxjQUMzQlEsT0FBTyxHQUdYLElBQUlzQixHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXekIsV0FBYXlCLEVBQVd6QixhQUFjLEVBQU95QixFQUFXeEIsY0FBZSxFQUFVLFNBQVd3QixLQUFZQSxFQUFXdkIsVUFBVyxHQUFNSixPQUFPQyxlQUFlc0IsRUFBUUksRUFBVzdCLElBQUs2QixJQUFpQixNQUFPLFVBQVVwQixFQUFhcUIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlOLEVBQWlCZixFQUFZUyxVQUFXWSxHQUFpQkMsR0FBYVAsRUFBaUJmLEVBQWFzQixHQUFxQnRCLE02QjlvY2hpQnVCLEVBQUF0QyxFQUFBLEc3QmtwY0l1QyxFQUFVdEMsRUFBdUJxQyxHNkJqcGNyQ0UsRUFBQXhDLEVBQUEsSUFDQTYrQixFQUFBNytCLEVBQUEsRzdCc3BjSTZxQyxFQUFjNXFDLEVBQXVCNCtCLEc2QnJwY3pDOGtDLEVBQUEzakUsRUFBQSxLN0J5cGNJNGpFLEVBQVMzakUsRUFBdUIwakUsRzZCeHBjcENFLEVBQUE3akUsRUFBQSxLN0I0cGNJOGpFLEVBQWE3akUsRUFBdUI0akUsRzZCM3BjeENFLEVBQUEvakUsRUFBQSxLN0IrcGNJZ2tFLEVBQWlCL2pFLEVBQXVCOGpFLEc2QjlwYzVDMU4sRUFBQXIyRCxFQUFBLEs3QmtxY0l3NUQsRUFBZ0J2NUQsRUFBdUJvMkQsRzZCanFjM0NGLEVBQUFuMkQsRUFBQSxLN0JxcWNJczVELEVBQVdyNUQsRUFBdUJrMkQsRzZCcHFjdEMvZ0IsRUFBQXAxQyxFQUFBLEtBRU1rRyxFQUFTLFNBQUFDLEdBQUEsT0FDWDg5RCxhQUNJdHZDLE9BQVEsa0JBQ1I5dEIsTUFBTyxXQUVYNmdCLFFBQ0kvZSxnQkFBaUJ4QyxFQUFNTyxRQUFRK0QsZ0JBQWdCN0QsS0FDL0NjLE1BQU92QixFQUFNTyxRQUFRaUIsUUFBUWYsTUFFakNzOUQsNkJBQ0l2N0QsZ0JBQWlCeEMsRUFBTU8sUUFBUStELGdCQUFnQjdELEtBQy9DYyxNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQU8sY0FDcENnQixTQUFVLGNBRWR1OEQsOEJBQ0l4N0QsZ0JBQWlCeEMsRUFBTU8sUUFBUStELGdCQUFnQjdELEtBQy9DYyxNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQU8sY0FDcENnQixTQUFVLFlBQ1Ywc0IsUUFBUyxZQUlYeUssR0FDRjNzQixLQUFNNDlCLFVBQVV2USxLQUNoQm50QixRQUFTMDlCLFVBQVVuUSxLQUNuQmdnQixrQkFBbUI3UCxVQUFVblEsTUFHM0I3ZSxHQUNGNU8sTUFBTSxFQUNORSxRQUFTMm1DLGdCQUNUNEcsa0JBQW1CNUcsaUJBR2pCbXJCLEU3QmdyY29CLFNBQVU5NEQsRzZCOXFjaEMsUUFBQTg0RCxHQUFZcGlFLEdBQU9uQixFQUFBMEssS0FBQTY0RCxFQUFBLElBQUE1NEQsR0FBQXZLLEVBQUFzSyxNQUFBNjRELEVBQUF4aUUsV0FBQXBCLE9BQUFpTCxlQUFBMjRELElBQUFqakUsS0FBQW9LLEtBQ1R2SixHQURTLE9BR2Z3SixHQUFLRyxTQUhVSCxFN0Jrd2NuQixNQW5GQW5LLEdBQVUraUUsRUFBcUI5NEQsR0FXL0J6SixFQUFhdWlFLElBQ1Q5akUsSUFBSyx3QkFDTEMsTUFBTyxTNkJ0cmNXNlEsR0FDbEIsTUFBSUEsR0FBVWdCLE9BQVM3RyxLQUFLdkosTUFBTW9RLFE3QjZyY2xDOVIsSUFBSyxTQUNMQyxNQUFPLFc2QnZyY0YsR0FBQWlSLEdBQUFqRyxLQUFBa0csRUFFOEJsRyxLQUFLdkosTUFBaENvUSxFQUZIWCxFQUVHVyxLQUFNdEYsRUFGVDJFLEVBRVMzRSxRQUFTd0YsRUFGbEJiLEVBRWtCYSxPQUV2QixPQUNJL1AsR0FBQW5DLFFBQUFrTixjQUFDZ3NELEVBQUFsNUQsU0FDR2tTLFFBQVNBLEVBQ1Rtb0Qsa0JBQWdCLDBCQUNoQnJvRCxLQUFNQSxFQUNOdEYsU0FBV3UzRCxpQkFBa0J2M0QsRUFBUW0zRCxjQUVyQzFoRSxFQUFBbkMsUUFBQWtOLGNBQUNrc0QsRUFBQXA1RCxTQUNHb1AsR0FBRywwQkFDSHlDLFVBQVduRixFQUFRNGEsUUFDbkJubEIsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUW8zRCw2QkFBeEIsc0JBSUozaEUsRUFBQW5DLFFBQUFrTixjQUFDL0ssRUFBQW5DLFFBQU15aUUsU0FBUCxLQUNJdGdFLEVBQUFuQyxRQUFBa04sY0FBQ3MyRCxFQUFBeGpFLFNBQUs2UixVQUFXbkYsRUFBUXEzRCw4QkFFakIzakUsT0FBTytoRCxLQUFLK2hCLGdCQUFjbnBELElBQUksU0FBQW9wRCxHQUFBLE1BQzFCaGlFLEdBQUFuQyxRQUFBa04sY0FBQ3cyRCxFQUFBMWpFLFNBQ0c4UyxPQUFTMUwsT0FBUSxXQUNqQitLLFFBQVMsaUJBQU1mLEdBQUt4UCxNQUFNNjlDLGtCQUFrQnlrQixlQUFhQyxLQUN6RGprRSxJQUFLaWtFLEdBRUxoaUUsRUFBQW5DLFFBQUFrTixjQUFDMDJELEVBQUE1akUsUUFBRCxLQUNJbUMsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUXEzRCw4QkFBeEIsVUFDZUcsZUFBYUMsZTdCdXRjekRILEc2QnB3Y3VCOXVELFlBMkRsQzh1RCxHQUFvQnJsQyxVQUFZQSxFQUNoQ3FsQyxFQUFvQnBqRCxhQUFlQSxFN0JpdGNuQ2poQixFQUFRSyxTNkIvc2NRLEVBQUFvQyxFQUFBMFQsWUFBV2hRLEdBQVVpUSxXQUFXLElBQVNpdUQsSTdCbXRjbkRJLEtBQ0EsU0FBVTFrRSxFQUFRQyxFQUFTQyxHQUVqQyxZQXlDQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTVyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTUMsR0FBUSxJQUFLRCxFQUFRLEtBQU0sSUFBSUUsZ0JBQWUsNERBQWdFLFFBQU9ELEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJELEVBQVBDLEVBRWxPLFFBQVNFLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVloQixPQUFPaUIsT0FBT0YsR0FBY0EsRUFBV0MsV0FBYUUsYUFBZW5CLE1BQU9lLEVBQVVaLFlBQVksRUFBT0UsVUFBVSxFQUFNRCxjQUFjLEtBQWVZLElBQVlmLE9BQU9tQixlQUFpQm5CLE9BQU9tQixlQUFlTCxFQUFVQyxHQUFjRCxFQUFTTSxVQUFZTCxHQTVDamVmLE9BQU9DLGVBQWVWLEVBQVMsY0FDM0JRLE9BQU8sR0FHWCxJQUFJc0IsR0FBZSxXQUFjLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV3pCLFdBQWF5QixFQUFXekIsYUFBYyxFQUFPeUIsRUFBV3hCLGNBQWUsRUFBVSxTQUFXd0IsS0FBWUEsRUFBV3ZCLFVBQVcsR0FBTUosT0FBT0MsZUFBZXNCLEVBQVFJLEVBQVc3QixJQUFLNkIsSUFBaUIsTUFBTyxVQUFVcEIsRUFBYXFCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZTixFQUFpQmYsRUFBWVMsVUFBV1ksR0FBaUJDLEdBQWFQLEVBQWlCZixFQUFhc0IsR0FBcUJ0QixNOEJuMGNoaUJ1QixFQUFBdEMsRUFBQSxHOUJ1MGNJdUMsRUFBVXRDLEVBQXVCcUMsRzhCdDBjckN1OEIsRUFBQTcrQixFQUFBLEc5QjAwY0k2cUMsRUFBYzVxQyxFQUF1QjQrQixHOEJ6MGN6Q3I4QixFQUFBeEMsRUFBQSxJQUNBODNDLEVBQUE5M0MsRUFBQSxJOUI4MGNJKzNDLEVBQVM5M0MsRUFBdUI2M0MsRzhCNzBjcENQLEVBQUF2M0MsRUFBQSxJQUNBeWtFLEVBQUF6a0UsRUFBQSxNOUJrMWNJMGtFLEVBQXdCemtFLEVBQXVCd2tFLEc4QmoxY25EcnZCLEVBQUFwMUMsRUFBQSxLQUVBMmtFLEdBREEza0UsRUFBQSxNQUNBQSxFQUFBLE1BQ0E0a0UsRzlCczFjdUIza0UsRUFBdUIwa0UsRzhCdDFjOUMza0UsRUFBQSxPOUIwMWNJNmtFLEVBQVc1a0UsRUFBdUIya0UsRzhCeDFjaEMxK0QsRUFBUyxTQUFBQyxHQUFBLE9BRVgyK0QsWUFDSXorRCxRQUFTLE9BQ1RXLFdBQVksYUFDWmtCLFFBQVMsTUFDVEYsYUFBYyxNQUNkZ2dCLFNBQVUsb0JBQ1ZuaEIsTUFBTyxvQkFDUG9oQixVQUFXLE9BQ1h5RSxhQUFjLE9BRWxCcTRDLGFBQ0kvN0QsUUFBUyxrQkFDVG0zRCxVQUFXLFdBQ1g3NUQsY0FBZSxlQUVuQnNJLFNBQ0loSCxTQUFVLE9BQ1ZGLE1BQU8sUUFFWHM5RCxrQkFDSXQ5RCxNQUFPLE9BQ1BpQixnQkFBaUIsMkJBRXJCczhELGFBQ0lqOUMsU0FBVSxPQUNWQyxVQUFXLE9BQ1gxaEIsVUFBVyxPQUNYd3JCLFNBQVUsT0FDVi9wQixhQUFjLE1BQ2RKLFNBQVUsU0FDVkYsTUFBTyxPQUNQYyxXQUFZLE9BQ1pQLFVBQVcsU0FDWHRCLFdBQVksV0FFaEJ1K0QsZUFHQUMsVUFDSXgrRCxXQUFZLGNBQ1pndUIsT0FBUSxxQkFFWnl3QyxvQkFDSWpGLFVBQVcsU0FDWHA1RCxXQUFZLFFBRWhCcytELHFCQUNJcDlELFVBQVcsUUFDWGs0RCxVQUFXLFNBQ1hyNUQsWUFBYSxVQUlmdytELEU5Qm8yY1EsU0FBVWg2RCxHOEJuMmNwQixRQUFBZzZELEdBQVl0akUsR0FBT25CLEVBQUEwSyxLQUFBKzVELEVBQUEsSUFBQTk1RCxHQUFBdkssRUFBQXNLLE1BQUErNUQsRUFBQTFqRSxXQUFBcEIsT0FBQWlMLGVBQUE2NUQsSUFBQW5rRSxLQUFBb0ssS0FDVHZKLEdBRFMsT0FHZndKLEdBQUtHLFNBSFVILEU5QjQ1Y25CLE1BeERBbkssR0FBVWlrRSxFQUFTaDZELEdBV25CekosRUFBYXlqRSxJQUNUaGxFLElBQUssU0FDTEMsTUFBTyxXOEI5MWNGLEdBQUFrUixHQUNrRGxHLEtBQUt2SixNQUFwRHEwQyxFQURINWtDLEVBQ0c0a0MsWUFBYXpuQyxFQURoQjZDLEVBQ2dCN0MsUUFBUzlCLEVBRHpCMkUsRUFDeUIzRSxRQUFTMnBDLEVBRGxDaGxDLEVBQ2tDZ2xDLFdBRXZDLE9BR0lsMEMsR0FBQW5DLFFBQUFrTixjQUFDeXFDLEVBQUEzM0MsU0FBSzA5QyxJQUFJLEdBQ052N0MsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUWc0RCxXQUFhLEtBQU96dUIsRUFBY3ZwQyxFQUFRaTRELFlBQWMsTUFFdkV0dUIsR0FDRGwwQyxFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQTZILFlBQ0dudEMsVUFBV25GLEVBQVFtNEQsWUFBYyxLQUFPeHVCLEVBQWMzcEMsRUFBUXE0RCxTQUFXLEtBRXhFNTVELEtBQUt2SixNQUFNczBDLFVBSWhCRyxHQUNBbDBDLEVBQUFuQyxRQUFBa04sY0FBQSxPQUNJNEYsT0FBUzNMLE9BQVEsU0FBVVYsTUFBTyxVQUVsQ3lOLElBQUtpeEQsVUFDTEMsSUFBSSxpQ0FHWmpqRSxFQUFBbkMsUUFBQWtOLGNBQUNvM0QsRUFBQXRrRSxTQUNHNlIsVUFBV29rQyxFQUFjdnBDLEVBQVF1NEQsb0JBQXNCdjRELEVBQVFzNEQsbUJBQy9ESyxxQkFBc0IzNEQsRUFBUThCLFFBQzlCODJELG1CQUFvQjU0RCxFQUFRazRELGlCQUFtQixJQUFNbDRELEVBQVE4QixRQUM3RCsyRCxZQUFhQyxvQkFDYkMsZ0JBQWlCajNELFU5QjIyYzlCMDJELEc4Qjc1Y1dod0QsWUFBaEJnd0QsR0FPS3ZtQyxXQUNIanlCLFFBQVNrakMsVUFBVUMsT0FBT0MsV0FDMUJtRyxZQUFhckcsVUFBVXZRLEtBQ3ZCN3dCLFFBQVNvaEMsVUFBVTlRLE9BQ25CdVgsWUFBYXpHLFVBQVV2USxNQVh6QjZsQyxFQWNLdGtELGNBQ0hxMUIsYUFBYSxFQUNiem5DLFFBQVMsR0FDVDZuQyxhQUFhLEc5QjA1Y3JCMTJDLEVBQVFLLFM4QmozY1EsRUFBQW9DLEVBQUEwVCxZQUFXaFEsR0FBVWlRLFdBQVcsSUFBU212RCxJOUJxM2NuRFEsS0FDQSxTQUFVaG1FLEVBQVFDLEVBQVNDLEcrQnQvY2pDRixFQUFBQyxRQUNBLFNBQUFnbUUsR0FLQSxRQUFBL2xFLEdBQUFnbUUsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFqbUUsT0FHQSxJQUFBRCxHQUFBbW1FLEVBQUFELElBQ0FqbUUsV0FDQXlQLEdBQUF3MkQsRUFDQXRjLFFBQUEsRUFVQSxPQU5BcWMsR0FBQUMsR0FBQTdrRSxLQUFBckIsRUFBQUMsUUFBQUQsSUFBQUMsUUFBQUMsR0FHQUYsRUFBQTRwRCxRQUFBLEVBR0E1cEQsRUFBQUMsUUF2QkEsR0FBQWttRSxLQXFDQSxPQVRBam1FLEdBQUEycEQsRUFBQW9jLEVBR0EvbEUsRUFBQTRwRCxFQUFBcWMsRUFHQWptRSxFQUFBNCtCLEVBQUEsR0FHQTUrQixFQUFBLEtBS0EsU0FBQUYsRUFBQUMsRUFBQUMsR0FFQUYsRUFBQUMsUUFBQUMsRUFBQSxJQUtBLFNBQUFGLEVBQUFDLEVBQUFDLEdBRUEsWUFFQVEsUUFBQUMsZUFBQVYsRUFBQSxjQUNBUSxPQUFBLEdBS0EsSUFBQTJsRSxHQUFBbG1FLEVBQUEsR0FFQW1tRSxFQUpBLFNBQUFqbUUsR0FBdUMsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLElBSTlFZ21FLEVBRUFubUUsR0FBQSxRQUFBb21FLEVBQUEsUUFDQXJtRSxFQUFBQyxVQUFBLFNBSUEsU0FBQUQsRUFBQUMsRUFBQUMsR0FFQSxZQU9BLFNBQUFDLEdBQUFDLEdBQXVDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQXNDOUUsUUFBQWttRSxHQUFBLzBCLEdBQ0EsR0FBQWcxQixHQUFBaDFCLEVBQUFzZixnQkFDQUEsTUFBQTF2QyxLQUFBb2xELEVBQUEsR0FBQUEsRUFDQUMsRUFBQWoxQixFQUFBazFCLFlBQ0FBLE1BQUF0bEQsS0FBQXFsRCxHQUFBLEVBQUFBLEVBQ0FFLEVBQUFuMUIsRUFBQW0xQixZQUNBQyxFQUFBcDFCLEVBQUFvMUIsV0FDQUMsRUFBQXIxQixFQUFBczFCLGNBQ0FBLE1BQUExbEQsS0FBQXlsRCxLQUNBejBELEVBQUFvL0IsRUFBQXAvQixVQUNBMjBELEVBQUF2MUIsRUFBQXUxQixXQUNBQyxFQUFBeDFCLEVBQUFxMEIsbUJBQ0FBLE1BQUF6a0QsS0FBQTRsRCxFQUFBLEdBQUFBLEVBQ0FDLEVBQUF6MUIsRUFBQTAxQixlQUNBQSxNQUFBOWxELEtBQUE2bEQsS0FBOERBLEVBQzlERSxFQUFBMzFCLEVBQUE0MUIsYUFDQUEsTUFBQWhtRCxLQUFBK2xELEVBQUEsT0FBQUEsRUFDQUUsRUFBQTcxQixFQUFBNjFCLFNBQ0F2QixFQUFBdDBCLEVBQUFzMEIsWUFDQUUsRUFBQXgwQixFQUFBdzBCLGdCQUNBc0IsRUFBQTkxQixFQUFBbzBCLHFCQUNBQSxNQUFBeGtELEtBQUFrbUQsRUFBQSxHQUFBQSxFQUNBQyxFQUFBLzFCLEVBQUErMUIsaUJBRUFDLEdBQUEsRUFBQUMsRUFBQUMsVUFDQWQsYUFDQUUsZ0JBQ0FDLGFBQ0FNLFdBQ0F2QixjQUNBRSxvQkFFQTJCLEVBQUFQLEVBQ0FRLEdBQUEsRUFDQUMsRUFBQSxHQUNBQyxNQUFBMW1ELEdBRUEybUQsRUFBQSxTQUFBMzNCLEdBQ0EsR0FBQTQzQixLQUNBLFFBQUF2bkUsS0FBQTJ2QyxHQUNBNDNCLEVBQUF2bkUsRUFBQWd0RCxlQUFBcmQsRUFBQTN2QyxFQUVBLE9BQUF1bkUsSUFFQUMsR0FBQSxFQUFBQyxFQUFBLFNBQUFILEVBRUEsT0FBQXJsRSxHQUFBLFFBQUErSyxjQUNBLFFBQ00yRSxhQUNObzFELEVBQUFsc0QsSUFBQSxTQUFBNnNELEVBQUF6N0MsR0FDQSxHQUFBSyxHQUFBaTVDLEVBQUEvOUIsT0FBQWtnQyxFQUFBL3NELE1BQUErc0QsRUFBQTlzRCxJQUFBOHNELEVBQUEvc0QsTUFFQSxJQUFBK3NELEVBQUFDLFVBQUEsQ0FDQVIsR0FFQSxJQUFBUyxPQUFBam5ELEVBQ0EsaUJBQUF5a0QsR0FDQWlCLEVBSUF1QixFQUFBeEMsRUFBQTk0QyxJQUhBODRDLEVBQUFvQyxFQUFBcEMsR0FDQXdDLEVBQUF4QyxFQUFBOTRDLEVBQUEwZ0MsZ0JBS0E0YSxFQUFBeEMsQ0FHQSxJQUFBeUMsR0FBQVYsS0FBQWxCLENBS0EsT0FIQW1CLEdBQUFRLEVBQUEsS0FBQUMsRUFBQXhYLEVBQUEsSUFDQWdYLEdBQUEsSUFBQVEsR0FBQSxNQUFBM0IsRUFBQWhtRSxPQUFBNDlCLFVBQXNGMm9DLEVBQUFQLEdBQUFPLEVBRXRGeGtFLEVBQUEsUUFBQStLLGNBQ0FrNkQsR0FFQXYxRCxVQUFBeTFELEVBQ0FwbkUsSUFBQWlzQixFQUNBclosTUFBQXkwRCxHQUVBLzZDLEdBR0EsTUFBQXJxQixHQUFBLFFBQUErSyxjQUNBLFFBRUEyRSxVQUFBd3pELEVBQ0FubEUsSUFBQWlzQixFQUNBclosTUFBQWswRCxHQUVBeDZDLE1BcElBcHNCLE9BQUFDLGVBQUFWLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBLFFBQUFxbUUsQ0FJQSxJQUFBa0IsR0FBQXRuRSxFQUFBLEdBRUE2K0IsRUFBQTcrQixFQUFBLEdBRUE2cUMsRUFBQTVxQyxFQUFBNCtCLEdBRUF2OEIsRUFBQXRDLEVBQUEsSUFFQXVDLEVBQUF0QyxFQUFBcUMsR0FFQThsRSxFQUFBcG9FLEVBQUEsSUFFQStuRSxFQUFBOW5FLEVBQUFtb0UsRUFFQWhDLEdBQUFybkMsV0FDQTR4QixnQkFBQTlsQixFQUFBLFFBQUEzTCxPQUNBcW5DLFlBQUExN0IsRUFBQSxRQUFBdEwsT0FDQWluQyxZQUFBMzdCLEVBQUEsUUFBQW9GLE9BQ0F3MkIsV0FBQTU3QixFQUFBLFFBQUFwTCxLQUNBeHRCLFVBQUE0NEIsRUFBQSxRQUFBM0wsT0FDQTBuQyxXQUFBLzdCLEVBQUEsUUFBQWhMLEtBQ0E2bEMsbUJBQUE3NkIsRUFBQSxRQUFBNUwsV0FBQTRMLEVBQUEsUUFBQW9GLE9BQUFwRixFQUFBLFFBQUEzTCxTQUNBNm5DLGVBQUFsOEIsRUFBQSxRQUFBb0YsT0FDQWczQixhQUFBcDhCLEVBQUEsUUFBQTVMLFdBQUE0TCxFQUFBLFFBQUEyYixLQUFBM2IsRUFBQSxRQUFBaEwsS0FBQWdMLEVBQUEsUUFBQTNMLFNBQ0Fnb0MsU0FBQXI4QixFQUFBLFFBQUFoTCxLQUNBOGxDLFlBQUE5NkIsRUFBQSxRQUFBOUssUUFBQThLLEVBQUEsUUFBQTVMLFdBQUE0TCxFQUFBLFFBQUEzTCxPQUFBMkwsRUFBQSxRQUFBOGpCLFdBQUEzckIsV0FBQWtOLFdBQ0EyMUIsZ0JBQUFoN0IsRUFBQSxRQUFBM0wsT0FBQWdSLFdBQ0F1MUIscUJBQUE1NkIsRUFBQSxRQUFBM0wsT0FDQWtvQyxpQkFBQXY4QixFQUFBLFFBQUFvRixRQXdHQW53QyxFQUFBQyxVQUFBLFNBSUEsU0FBQUQsRUFBQUMsR0FFQUQsRUFBQUMsUUFDQSxTQUFBZ21FLEdBS0EsUUFBQS9sRSxHQUFBZ21FLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBam1FLE9BR0EsSUFBQUQsR0FBQW1tRSxFQUFBRCxJQUNBam1FLFdBQ0F5UCxHQUFBdzJELEVBQ0F0YyxRQUFBLEVBVUEsT0FOQXFjLEdBQUFDLEdBQUE3a0UsS0FBQXJCLEVBQUFDLFFBQUFELElBQUFDLFFBQUFDLEdBR0FGLEVBQUE0cEQsUUFBQSxFQUdBNXBELEVBQUFDLFFBdkJBLEdBQUFrbUUsS0FxQ0EsT0FUQWptRSxHQUFBMnBELEVBQUFvYyxFQUdBL2xFLEVBQUE0cEQsRUFBQXFjLEVBR0FqbUUsRUFBQTQrQixFQUFBLEdBR0E1K0IsRUFBQSxLQUtBLFNBQUFGLEVBQUFDLEVBQUFDLEdBRUFGLEVBQUFDLFFBQUFDLEVBQUEsSUFLQSxTQUFBRixFQUFBQyxFQUFBQyxHQUVBLFlBRUFRLFFBQUFDLGVBQUFWLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUF1K0IsR0FBQTkrQixFQUFBLEVBRUFRLFFBQUFDLGVBQUFWLEVBQUEsaUJBQ0FXLFlBQUEsRUFDQXF3QixJQUFBLFdBQ0EsTUFBQStOLEdBQUF1cEMsaUJBR0E3bkUsT0FBQUMsZUFBQVYsRUFBQSxnQkFDQVcsWUFBQSxFQUNBcXdCLElBQUEsV0FDQSxNQUFBK04sR0FBQXdwQyxnQkFHQTluRSxPQUFBQyxlQUFBVixFQUFBLFdBQ0FXLFlBQUEsRUFDQXF3QixJQUFBLFdBQ0EsTUFBQStOLEdBQUF5b0MsV0FHQS9tRSxPQUFBQyxlQUFBVixFQUFBLGNBQ0FXLFlBQUEsRUFDQXF3QixJQUFBLFdBQ0EsTUFBQStOLEdBQUE4bkMsZUFNQSxTQUFBOW1FLEVBQUFDLEdBRUEsWUFzSkEsU0FBQXdvRSxHQUFBaG9FLEdBQ0EsTUFBQUEsR0FHQSxRQUFBaW9FLEdBQUF2akMsR0FDQSxNQUFBQSxHQUFBeEMsUUFBQSxzQ0FBcUMsUUF6SnJDamlDLE9BQUFDLGVBQUFWLEVBQUEsY0FDQVEsT0FBQSxHQU1BLElBMkJBOG5FLElBM0JBdG9FLEVBQUF3bkUsUUFBQSxTQUFBbDJCLEdBQ0EsR0FBQW8xQixHQUFBcDFCLEVBQUFvMUIsV0FDQUMsRUFBQXIxQixFQUFBczFCLGNBQ0FBLE1BQUExbEQsS0FBQXlsRCxLQUNBK0IsRUFBQXAzQixFQUFBdTFCLFdBQ0FBLE1BQUEzbEQsS0FBQXduRCxFQUFBQyxFQUFBRCxFQUNBdkIsRUFBQTcxQixFQUFBNjFCLFNBQ0F2QixFQUFBdDBCLEVBQUFzMEIsWUFDQUUsRUFBQXgwQixFQUFBdzBCLGVBQ0EsT0FBQXlDLElBQ0FLLGtCQUFBTixHQUNBaEIsT0FBQVQsR0FDQUgsYUFDQUUsZ0JBQ0FPLFdBQ0F2QixjQUNBRSxzQkFHQStDLFlBQUEvQyxJQUFBM2pFLE9BQUEsS0FRQW5DLEVBQUFzb0UsY0FBQSxTQUFBUSxHQUNBLEdBQUF4QixHQUFBd0IsRUFBQXhCLE1BdUJBLE9BckJBQSxLQUFBeUIsS0FBQSxTQUFBdFUsRUFBQUMsR0FDQSxNQUFBRCxHQUFBdjVDLE1BQUF3NUMsRUFBQXg1QyxRQUNLbzZDLE9BQUEsU0FBQTBULEVBQUFDLEdBRUwsT0FBQUQsRUFBQTdtRSxPQUNBLE9BQUE4bUUsRUFHQSxJQUFBQyxHQUFBRixFQUFBRyxLQUNBLElBQUFGLEVBQUEvdEQsT0FBQWd1RCxFQUFBL3RELElBQUEsQ0FHQSxHQUFBaXVELEdBQUFqOUQsS0FBQWdvQixJQUFBKzBDLEVBQUEvdEQsSUFBQTh0RCxFQUFBOXRELElBQ0E2dEQsR0FBQTM5RCxNQUFnQzZQLE1BQUFndUQsRUFBQWh1RCxNQUFBQyxJQUFBaXVELFFBRWhDSixHQUFBMzlELEtBQUE2OUQsRUFBQUQsRUFFQSxPQUFBRCxVQVlBTCxFQUFBLFNBQUFVLEdBQ0EsR0FBQTNDLEdBQUEyQyxFQUFBM0MsV0FDQUUsRUFBQXlDLEVBQUF6QyxjQUNBMEMsRUFBQUQsRUFBQWxDLFNBQ0FBLE1BQUFqbUQsS0FBQW9vRCxFQUFBZCxFQUFBYyxFQUNBMUQsRUFBQXlELEVBQUF6RCxZQUNBRSxFQUFBdUQsRUFBQXZELGVBSUEsT0FGQUEsR0FBQXFCLEVBQUFyQixHQUVBRixFQUFBejFELE9BQUEsU0FBQW81RCxHQUNBLE1BQUFBLEtBRUFqVSxPQUFBLFNBQUFnUyxFQUFBaUMsR0FDQUEsRUFBQXBDLEVBQUFvQyxHQUVBN0MsSUFDQTZDLEVBQUFkLEVBQUFjLEdBTUEsS0FIQSxHQUFBQyxHQUFBLEdBQUF2bUMsUUFBQXNtQyxFQUFBM0MsRUFBQSxVQUVBLzBELE1BQUEsR0FDQUEsRUFBQTIzRCxFQUFBQyxLQUFBM0QsSUFBQSxDQUNBLEdBQUE1cUQsR0FBQXJKLEVBQUEyYSxNQUNBclIsRUFBQXF1RCxFQUFBRSxTQUVBdnVELEdBQUFELEdBQ0Fvc0QsRUFBQWo4RCxNQUF1QjZQLFFBQUFDLFFBS3ZCdEosRUFBQTJhLE9BQUFnOUMsRUFBQUUsV0FDQUYsRUFBQUUsWUFJQSxNQUFBcEMsUUFLQXRuRSxHQUFBNm1FLFdBQUE4QixDQVVBLElBQUFKLEdBQUF2b0UsRUFBQXVvRSxhQUFBLFNBQUFvQixHQUNBLEdBQUFmLEdBQUFlLEVBQUFmLGtCQUNBQyxFQUFBYyxFQUFBZCxZQUVBZSxLQUNBQyxFQUFBLFNBQUEzdUQsRUFBQUMsRUFBQStzRCxHQUNBL3NELEVBQUFELEVBQUEsR0FDQTB1RCxFQUFBditELE1BQ0E2UCxRQUNBQyxNQUNBK3NELGNBS0EsUUFBQVUsRUFBQXptRSxPQUNBMG5FLEVBQUEsRUFBQWhCLEdBQUEsT0FDSyxDQUNMLEdBQUFhLEdBQUEsQ0FDQWQsR0FBQTNZLFFBQUEsU0FBQWdZLEdBQ0E0QixFQUFBSCxFQUFBekIsRUFBQS9zRCxPQUFBLEdBQ0EydUQsRUFBQTVCLEVBQUEvc0QsTUFBQStzRCxFQUFBOXNELEtBQUEsR0FDQXV1RCxFQUFBekIsRUFBQTlzRCxNQUVBMHVELEVBQUFILEVBQUFiLEdBQUEsR0FFQSxNQUFBZSxRQWlCQSxTQUFBN3BFLEVBQUFDLEVBQUFDLElBRUEsU0FBQTZwRSxHQU9BLGtCQUFBQSxFQUFBQyxJQUFBQyxTQUFBLENBQ0EsR0FBQUMsR0FBQSxrQkFBQS9yQyxTQUNBQSxPQUFBZ3NDLEtBQ0Foc0MsT0FBQWdzQyxJQUFBLGtCQUNBLE1BRUFDLEVBQUEsU0FBQWo2QixHQUNBLHNCQUFBQSxJQUNBLE9BQUFBLEdBQ0FBLEVBQUFrNkIsV0FBQUgsRUFNQWxxRSxHQUFBQyxRQUFBQyxFQUFBLEdBQUFrcUUsR0FEQSxPQUtBcHFFLEdBQUFDLFFBQUFDLEVBQUEsUUFHNkJtQixLQUFBcEIsRUFBQUMsRUFBQSxLQUk3QixTQUFBRixFQUFBQyxHQWFBLFFBQUFxcUUsS0FDQSxTQUFBanBELE9BQUEsbUNBRUEsUUFBQWtwRCxLQUNBLFNBQUFscEQsT0FBQSxxQ0FzQkEsUUFBQW1wRCxHQUFBQyxHQUNBLEdBQUFDLElBQUF2NkMsV0FFQSxNQUFBQSxZQUFBczZDLEVBQUEsRUFHQSxLQUFBQyxJQUFBSixJQUFBSSxJQUFBdjZDLFdBRUEsTUFEQXU2QyxHQUFBdjZDLFdBQ0FBLFdBQUFzNkMsRUFBQSxFQUVBLEtBRUEsTUFBQUMsR0FBQUQsRUFBQSxHQUNNLE1BQUF4bEQsR0FDTixJQUVBLE1BQUF5bEQsR0FBQXJwRSxLQUFBLEtBQUFvcEUsRUFBQSxHQUNVLE1BQUF4bEQsR0FFVixNQUFBeWxELEdBQUFycEUsS0FBQW9LLEtBQUFnL0QsRUFBQSxLQU1BLFFBQUFFLEdBQUFDLEdBQ0EsR0FBQUMsSUFBQUMsYUFFQSxNQUFBQSxjQUFBRixFQUdBLEtBQUFDLElBQUFOLElBQUFNLElBQUFDLGFBRUEsTUFEQUQsR0FBQUMsYUFDQUEsYUFBQUYsRUFFQSxLQUVBLE1BQUFDLEdBQUFELEdBQ00sTUFBQTNsRCxHQUNOLElBRUEsTUFBQTRsRCxHQUFBeHBFLEtBQUEsS0FBQXVwRSxHQUNVLE1BQUEzbEQsR0FHVixNQUFBNGxELEdBQUF4cEUsS0FBQW9LLEtBQUFtL0QsS0FZQSxRQUFBRyxLQUNBQyxHQUFBQyxJQUdBRCxHQUFBLEVBQ0FDLEVBQUE3b0UsT0FDQThvRSxFQUFBRCxFQUFBam9DLE9BQUFrb0MsR0FFQUMsR0FBQSxFQUVBRCxFQUFBOW9FLFFBQ0FncEUsS0FJQSxRQUFBQSxLQUNBLElBQUFKLEVBQUEsQ0FHQSxHQUFBM2dELEdBQUFtZ0QsRUFBQU8sRUFDQUMsSUFBQSxDQUdBLEtBREEsR0FBQUssR0FBQUgsRUFBQTlvRSxPQUNBaXBFLEdBQUEsQ0FHQSxJQUZBSixFQUFBQyxFQUNBQSxPQUNBQyxFQUFBRSxHQUNBSixHQUNBQSxFQUFBRSxHQUFBRyxLQUdBSCxJQUFBLEVBQ0FFLEVBQUFILEVBQUE5b0UsT0FFQTZvRSxFQUFBLEtBQ0FELEdBQUEsRUFDQUwsRUFBQXRnRCxJQWlCQSxRQUFBa2hELEdBQUFkLEVBQUFwNkIsR0FDQTVrQyxLQUFBZy9ELE1BQ0FoL0QsS0FBQTRrQyxRQVlBLFFBQUF6UCxNQWhLQSxHQU9BOHBDLEdBQ0FHLEVBUkFkLEVBQUEvcEUsRUFBQUMsWUFnQkEsV0FDQSxJQUVBeXFFLEVBREEsa0JBQUF2NkMsWUFDQUEsV0FFQW02QyxFQUVNLE1BQUFybEQsR0FDTnlsRCxFQUFBSixFQUVBLElBRUFPLEVBREEsa0JBQUFDLGNBQ0FBLGFBRUFQLEVBRU0sTUFBQXRsRCxHQUNONGxELEVBQUFOLEtBdURBLElBRUFVLEdBRkFDLEtBQ0FGLEdBQUEsRUFFQUcsR0FBQSxDQXlDQXBCLEdBQUF5QixTQUFBLFNBQUFmLEdBQ0EsR0FBQTFoQixHQUFBLEdBQUE1UixPQUFBeDJCLFVBQUF2ZSxPQUFBLEVBQ0EsSUFBQXVlLFVBQUF2ZSxPQUFBLEVBQ0EsT0FBQUQsR0FBQSxFQUF3QkEsRUFBQXdlLFVBQUF2ZSxPQUFzQkQsSUFDOUM0bUQsRUFBQTVtRCxFQUFBLEdBQUF3ZSxVQUFBeGUsRUFHQStvRSxHQUFBNS9ELEtBQUEsR0FBQWlnRSxHQUFBZCxFQUFBMWhCLElBQ0EsSUFBQW1pQixFQUFBOW9FLFFBQUE0b0UsR0FDQVIsRUFBQVksSUFTQUcsRUFBQTdwRSxVQUFBNHBFLElBQUEsV0FDQTcvRCxLQUFBZy9ELElBQUEvcEQsTUFBQSxLQUFBalYsS0FBQTRrQyxRQUVBMDVCLEVBQUF4aUUsTUFBQSxVQUNBd2lFLEVBQUEwQixTQUFBLEVBQ0ExQixFQUFBQyxPQUNBRCxFQUFBMkIsUUFDQTNCLEVBQUE0QixRQUFBLEdBQ0E1QixFQUFBNkIsWUFJQTdCLEVBQUE4QixHQUFBanJDLEVBQ0FtcEMsRUFBQStCLFlBQUFsckMsRUFDQW1wQyxFQUFBZ0MsS0FBQW5yQyxFQUNBbXBDLEVBQUFpQyxJQUFBcHJDLEVBQ0FtcEMsRUFBQWtDLGVBQUFyckMsRUFDQW1wQyxFQUFBbUMsbUJBQUF0ckMsRUFDQW1wQyxFQUFBb0MsS0FBQXZyQyxFQUNBbXBDLEVBQUFxQyxnQkFBQXhyQyxFQUNBbXBDLEVBQUFzQyxvQkFBQXpyQyxFQUVBbXBDLEVBQUF1QyxVQUFBLFNBQUFuN0QsR0FBc0MsVUFFdEM0NEQsRUFBQXdDLFFBQUEsU0FBQXA3RCxHQUNBLFNBQUFrUSxPQUFBLHFDQUdBMG9ELEVBQUF5QyxJQUFBLFdBQTRCLFdBQzVCekMsRUFBQTBDLE1BQUEsU0FBQUMsR0FDQSxTQUFBcnJELE9BQUEsbUNBRUEwb0QsRUFBQTRDLE1BQUEsV0FBNkIsV0FLN0IsU0FBQTNzRSxFQUFBQyxFQUFBQyxJQUVBLFNBQUE2cEUsR0FPQSxZQUVBLElBQUE1d0IsR0FBQWo1QyxFQUFBLEdBQ0Ewc0UsRUFBQTFzRSxFQUFBLEdBQ0Eyc0UsRUFBQTNzRSxFQUFBLEdBQ0FvK0IsRUFBQXArQixFQUFBLElBRUE0c0UsRUFBQTVzRSxFQUFBLElBQ0E4dUQsRUFBQTl1RCxFQUFBLEdBRUFGLEdBQUFDLFFBQUEsU0FBQW1xRSxFQUFBMkMsR0FtQkEsUUFBQUMsR0FBQUMsR0FDQSxHQUFBQyxHQUFBRCxJQUFBRSxHQUFBRixFQUFBRSxJQUFBRixFQUFBRyxHQUNBLHNCQUFBRixHQUNBLE1BQUFBLEdBaUZBLFFBQUFHLEdBQUE3NkMsRUFBQUMsR0FFQSxNQUFBRCxLQUFBQyxFQUdBLElBQUFELEdBQUEsRUFBQUEsR0FBQSxFQUFBQyxFQUdBRCxPQUFBQyxNQVlBLFFBQUE2NkMsR0FBQXgrRCxHQUNBckQsS0FBQXFELFVBQ0FyRCxLQUFBOGhFLE1BQUEsR0FLQSxRQUFBQyxHQUFBQyxHQUtBLFFBQUFDLEdBQUF0OUIsRUFBQWx1QyxFQUFBeXJFLEVBQUFDLEVBQUFoL0QsRUFBQWkvRCxFQUFBQyxHQUlBLEdBSEFGLEtBQUFHLEVBQ0FGLEtBQUFGLEVBRUFHLElBQUFoQixFQUNBLEdBQUFDLEVBRUFILEdBQ0EsRUFDQSx5TEFJVSxtQkFBQTdDLEVBQUFDLElBQUFDLFVBQUEsbUJBQUExNkQsU0FBQSxDQUVWLEdBQUF5K0QsR0FBQUosRUFBQSxJQUFBRCxHQUVBTSxFQUFBRCxJQUVBRSxFQUFBLElBRUFyQixHQUNBLEVBQ0EsOFNBS0FnQixFQUNBRCxHQUVBSyxFQUFBRCxJQUFBLEVBQ0FFLEtBSUEsYUFBQWhzRSxFQUFBeXJFLEdBQ0F2OUIsRUFFQSxHQUFBazlCLEdBREEsT0FBQXByRSxFQUFBeXJFLEdBQ0EsT0FBQS8rRCxFQUFBLEtBQUFpL0QsRUFBQSwrQkFBQUQsRUFBQSw4QkFFQSxPQUFBaC9ELEVBQUEsS0FBQWkvRCxFQUFBLCtCQUFBRCxFQUFBLG9DQUVBLEtBRUFILEVBQUF2ckUsRUFBQXlyRSxFQUFBQyxFQUFBaC9ELEVBQUFpL0QsR0FqREEsa0JBQUE5RCxFQUFBQyxJQUFBQyxTQUNBLEdBQUFnRSxNQUNBQyxFQUFBLENBbURBLElBQUFDLEdBQUFULEVBQUFuc0MsS0FBQSxRQUdBLE9BRkE0c0MsR0FBQS85QixXQUFBczlCLEVBQUFuc0MsS0FBQSxTQUVBNHNDLEVBR0EsUUFBQUMsR0FBQUMsR0FDQSxRQUFBWixHQUFBdnJFLEVBQUF5ckUsRUFBQUMsRUFBQWgvRCxFQUFBaS9ELEVBQUFDLEdBQ0EsR0FBQVEsR0FBQXBzRSxFQUFBeXJFLEVBRUEsSUFEQVksRUFBQUQsS0FDQUQsRUFNQSxVQUFBZixHQUFBLFdBQUExK0QsRUFBQSxLQUFBaS9ELEVBQUEsY0FGQVcsRUFBQUYsR0FFQSxrQkFBQVYsRUFBQSxnQkFBQVMsRUFBQSxLQUVBLGFBRUEsTUFBQWIsR0FBQUMsR0FPQSxRQUFBZ0IsR0FBQUMsR0FDQSxRQUFBakIsR0FBQXZyRSxFQUFBeXJFLEVBQUFDLEVBQUFoL0QsRUFBQWkvRCxHQUNBLHFCQUFBYSxHQUNBLFVBQUFwQixHQUFBLGFBQUFPLEVBQUEsbUJBQUFELEVBQUEsa0RBRUEsSUFBQVUsR0FBQXBzRSxFQUFBeXJFLEVBQ0EsS0FBQXgyQixNQUFBQyxRQUFBazNCLEdBQUEsQ0FFQSxVQUFBaEIsR0FBQSxXQUFBMStELEVBQUEsS0FBQWkvRCxFQUFBLGNBREFVLEVBQUFELEdBQ0Esa0JBQUFWLEVBQUEseUJBRUEsT0FBQXpyRSxHQUFBLEVBQXNCQSxFQUFBbXNFLEVBQUFsc0UsT0FBc0JELElBQUEsQ0FDNUMsR0FBQTJpQixHQUFBNHBELEVBQUFKLEVBQUFuc0UsRUFBQXlyRSxFQUFBaC9ELEVBQUFpL0QsRUFBQSxJQUFBMXJFLEVBQUEsSUFBQTJxRSxFQUNBLElBQUFob0QsWUFBQXpELE9BQ0EsTUFBQXlELEdBR0EsWUFFQSxNQUFBMG9ELEdBQUFDLEdBZUEsUUFBQWtCLEdBQUFDLEdBQ0EsUUFBQW5CLEdBQUF2ckUsRUFBQXlyRSxFQUFBQyxFQUFBaC9ELEVBQUFpL0QsR0FDQSxLQUFBM3JFLEVBQUF5ckUsWUFBQWlCLElBQUEsQ0FDQSxHQUFBQyxHQUFBRCxFQUFBejlELE1BQUE0OEQsQ0FFQSxXQUFBVCxHQUFBLFdBQUExK0QsRUFBQSxLQUFBaS9ELEVBQUEsY0FEQWlCLEVBQUE1c0UsRUFBQXlyRSxJQUNBLGtCQUFBQyxFQUFBLDRCQUFBaUIsRUFBQSxNQUVBLFlBRUEsTUFBQXJCLEdBQUFDLEdBR0EsUUFBQXNCLEdBQUFDLEdBTUEsUUFBQXZCLEdBQUF2ckUsRUFBQXlyRSxFQUFBQyxFQUFBaC9ELEVBQUFpL0QsR0FFQSxPQURBUyxHQUFBcHNFLEVBQUF5ckUsR0FDQXhyRSxFQUFBLEVBQXNCQSxFQUFBNnNFLEVBQUE1c0UsT0FBMkJELElBQ2pELEdBQUFrckUsRUFBQWlCLEVBQUFVLEVBQUE3c0UsSUFDQSxXQUtBLFdBQUFtckUsR0FBQSxXQUFBMStELEVBQUEsS0FBQWkvRCxFQUFBLGVBQUFTLEVBQUEsa0JBQUFWLEVBQUEsc0JBREF4dUIsS0FBQUMsVUFBQTJ2QixHQUNBLEtBZEEsTUFBQTczQixPQUFBQyxRQUFBNDNCLEdBZ0JBeEIsRUFBQUMsSUFmQSxlQUFBMUQsRUFBQUMsSUFBQUMsVUFBQTRDLEdBQUEsd0VBQ0ExekIsRUFBQW1WLGlCQWlCQSxRQUFBMmdCLEdBQUFQLEdBQ0EsUUFBQWpCLEdBQUF2ckUsRUFBQXlyRSxFQUFBQyxFQUFBaC9ELEVBQUFpL0QsR0FDQSxxQkFBQWEsR0FDQSxVQUFBcEIsR0FBQSxhQUFBTyxFQUFBLG1CQUFBRCxFQUFBLG1EQUVBLElBQUFVLEdBQUFwc0UsRUFBQXlyRSxHQUNBdUIsRUFBQVgsRUFBQUQsRUFDQSxlQUFBWSxFQUNBLFVBQUE1QixHQUFBLFdBQUExK0QsRUFBQSxLQUFBaS9ELEVBQUEsY0FBQXFCLEVBQUEsa0JBQUF0QixFQUFBLHlCQUVBLFFBQUFwdEUsS0FBQTh0RSxHQUNBLEdBQUFBLEVBQUE5dkMsZUFBQWgrQixHQUFBLENBQ0EsR0FBQXNrQixHQUFBNHBELEVBQUFKLEVBQUE5dEUsRUFBQW90RSxFQUFBaC9ELEVBQUFpL0QsRUFBQSxJQUFBcnRFLEVBQUFzc0UsRUFDQSxJQUFBaG9ELFlBQUF6RCxPQUNBLE1BQUF5RCxHQUlBLFlBRUEsTUFBQTBvRCxHQUFBQyxHQUdBLFFBQUEwQixHQUFBQyxHQW9CQSxRQUFBM0IsR0FBQXZyRSxFQUFBeXJFLEVBQUFDLEVBQUFoL0QsRUFBQWkvRCxHQUNBLE9BQUExckUsR0FBQSxFQUFzQkEsRUFBQWl0RSxFQUFBaHRFLE9BQWdDRCxJQUFBLENBRXRELFVBQUFrdEUsRUFEQUQsRUFBQWp0RSxJQUNBRCxFQUFBeXJFLEVBQUFDLEVBQUFoL0QsRUFBQWkvRCxFQUFBZixHQUNBLFlBSUEsVUFBQVEsR0FBQSxXQUFBMStELEVBQUEsS0FBQWkvRCxFQUFBLGtCQUFBRCxFQUFBLE1BM0JBLElBQUF6MkIsTUFBQUMsUUFBQWc0QixHQUVBLE1BREEsZUFBQXJGLEVBQUFDLElBQUFDLFVBQUE0QyxHQUFBLDRFQUNBMXpCLEVBQUFtVixlQUdBLFFBQUFuc0QsR0FBQSxFQUFvQkEsRUFBQWl0RSxFQUFBaHRFLE9BQWdDRCxJQUFBLENBQ3BELEdBQUFrdEUsR0FBQUQsRUFBQWp0RSxFQUNBLHNCQUFBa3RFLEdBUUEsTUFQQXhDLElBQ0EsRUFDQSw2R0FFQXlDLEVBQUFELEdBQ0FsdEUsR0FFQWczQyxFQUFBbVYsZ0JBY0EsTUFBQWtmLEdBQUFDLEdBYUEsUUFBQThCLEdBQUFDLEdBQ0EsUUFBQS9CLEdBQUF2ckUsRUFBQXlyRSxFQUFBQyxFQUFBaC9ELEVBQUFpL0QsR0FDQSxHQUFBUyxHQUFBcHNFLEVBQUF5ckUsR0FDQXVCLEVBQUFYLEVBQUFELEVBQ0EsZUFBQVksRUFDQSxVQUFBNUIsR0FBQSxXQUFBMStELEVBQUEsS0FBQWkvRCxFQUFBLGNBQUFxQixFQUFBLGtCQUFBdEIsRUFBQSx3QkFFQSxRQUFBcHRFLEtBQUFndkUsR0FBQSxDQUNBLEdBQUFILEdBQUFHLEVBQUFodkUsRUFDQSxJQUFBNnVFLEVBQUEsQ0FHQSxHQUFBdnFELEdBQUF1cUQsRUFBQWYsRUFBQTl0RSxFQUFBb3RFLEVBQUFoL0QsRUFBQWkvRCxFQUFBLElBQUFydEUsRUFBQXNzRSxFQUNBLElBQUFob0QsRUFDQSxNQUFBQSxJQUdBLFlBRUEsTUFBQTBvRCxHQUFBQyxHQUdBLFFBQUFnQyxHQUFBRCxHQUNBLFFBQUEvQixHQUFBdnJFLEVBQUF5ckUsRUFBQUMsRUFBQWgvRCxFQUFBaS9ELEdBQ0EsR0FBQVMsR0FBQXBzRSxFQUFBeXJFLEdBQ0F1QixFQUFBWCxFQUFBRCxFQUNBLGVBQUFZLEVBQ0EsVUFBQTVCLEdBQUEsV0FBQTErRCxFQUFBLEtBQUFpL0QsRUFBQSxjQUFBcUIsRUFBQSxrQkFBQXRCLEVBQUEsd0JBSUEsSUFBQThCLEdBQUFweEMsS0FBOEJwOEIsRUFBQXlyRSxHQUFBNkIsRUFDOUIsUUFBQWh2RSxLQUFBa3ZFLEdBQUEsQ0FDQSxHQUFBTCxHQUFBRyxFQUFBaHZFLEVBQ0EsS0FBQTZ1RSxFQUNBLFVBQUEvQixHQUNBLFdBQUExK0QsRUFBQSxLQUFBaS9ELEVBQUEsVUFBQXJ0RSxFQUFBLGtCQUFBb3RFLEVBQUEsbUJBQ0F4dUIsS0FBQUMsVUFBQW45QyxFQUFBeXJFLEdBQUEsV0FDQSxpQkFBQXZ1QixLQUFBQyxVQUFBMytDLE9BQUEraEQsS0FBQStzQixHQUFBLFdBR0EsSUFBQTFxRCxHQUFBdXFELEVBQUFmLEVBQUE5dEUsRUFBQW90RSxFQUFBaC9ELEVBQUFpL0QsRUFBQSxJQUFBcnRFLEVBQUFzc0UsRUFDQSxJQUFBaG9ELEVBQ0EsTUFBQUEsR0FHQSxZQUdBLE1BQUEwb0QsR0FBQUMsR0FHQSxRQUFBa0MsR0FBQXJCLEdBQ0EsYUFBQUEsSUFDQSxhQUNBLGFBQ0EsZ0JBQ0EsUUFDQSxlQUNBLE9BQUFBLENBQ0EsY0FDQSxHQUFBbjNCLE1BQUFDLFFBQUFrM0IsR0FDQSxNQUFBQSxHQUFBc0IsTUFBQUQsRUFFQSxXQUFBckIsR0FBQWxFLEVBQUFrRSxHQUNBLFFBR0EsSUFBQXBCLEdBQUFGLEVBQUFzQixFQUNBLEtBQUFwQixFQXFCQSxRQXBCQSxJQUNBbDZDLEdBREFvTCxFQUFBOHVDLEVBQUE3ckUsS0FBQWl0RSxFQUVBLElBQUFwQixJQUFBb0IsRUFBQXVCLFNBQ0EsT0FBQTc4QyxFQUFBb0wsRUFBQTA5QixRQUFBamEsTUFDQSxJQUFBOHRCLEVBQUEzOEMsRUFBQXZ5QixPQUNBLGFBS0EsUUFBQXV5QixFQUFBb0wsRUFBQTA5QixRQUFBamEsTUFBQSxDQUNBLEdBQUFpdUIsR0FBQTk4QyxFQUFBdnlCLEtBQ0EsSUFBQXF2RSxJQUNBSCxFQUFBRyxFQUFBLElBQ0EsU0FTQSxRQUNBLFNBQ0EsVUFJQSxRQUFBQyxHQUFBYixFQUFBWixHQUVBLGlCQUFBWSxJQUtBLFdBQUFaLEVBQUEsa0JBS0Esa0JBQUFud0MsU0FBQW13QyxZQUFBbndDLFNBUUEsUUFBQW93QyxHQUFBRCxHQUNBLEdBQUFZLFNBQUFaLEVBQ0EsT0FBQW4zQixPQUFBQyxRQUFBazNCLEdBQ0EsUUFFQUEsWUFBQXByQyxRQUlBLFNBRUE2c0MsRUFBQWIsRUFBQVosR0FDQSxTQUVBWSxFQUtBLFFBQUFWLEdBQUFGLEdBQ0EsWUFBQUEsR0FBQSxPQUFBQSxFQUNBLFNBQUFBLENBRUEsSUFBQVksR0FBQVgsRUFBQUQsRUFDQSxlQUFBWSxFQUFBLENBQ0EsR0FBQVosWUFBQTc5RCxNQUNBLFlBQ1EsSUFBQTY5RCxZQUFBcHJDLFFBQ1IsZUFHQSxNQUFBZ3NDLEdBS0EsUUFBQUksR0FBQTd1RSxHQUNBLEdBQUE0TSxHQUFBbWhFLEVBQUEvdEUsRUFDQSxRQUFBNE0sR0FDQSxZQUNBLGFBQ0EsWUFBQUEsQ0FDQSxlQUNBLFdBQ0EsYUFDQSxXQUFBQSxDQUNBLFNBQ0EsTUFBQUEsSUFLQSxRQUFBeWhFLEdBQUFSLEdBQ0EsTUFBQUEsR0FBQTFzRSxhQUFBMHNFLEVBQUExc0UsWUFBQXVQLEtBR0FtOUQsRUFBQTFzRSxZQUFBdVAsS0FGQTQ4RCxFQWpnQkEsR0FBQVosR0FBQSxrQkFBQWh2QyxnQkFBQUMsU0FDQWd2QyxFQUFBLGFBc0VBVyxFQUFBLGdCQUlBaUMsR0FDQTMvQixNQUFBKzlCLEVBQUEsU0FDQXp1QyxLQUFBeXVDLEVBQUEsV0FDQXJ1QyxLQUFBcXVDLEVBQUEsWUFDQTN1QyxPQUFBMnVDLEVBQUEsVUFDQWorQixPQUFBaStCLEVBQUEsVUFDQWh2QyxPQUFBZ3ZDLEVBQUEsVUFDQTFmLE9BQUEwZixFQUFBLFVBRUF6ZixJQXlIQSxXQUNBLE1BQUE2ZSxHQUFBcjBCLEVBQUFtVixvQkF6SEFydUIsUUFBQXd1QyxFQUNBN2YsUUFnSkEsV0FDQSxRQUFBNmUsR0FBQXZyRSxFQUFBeXJFLEVBQUFDLEVBQUFoL0QsRUFBQWkvRCxHQUNBLEdBQUFTLEdBQUFwc0UsRUFBQXlyRSxFQUNBLEtBQUF2RCxFQUFBa0UsR0FBQSxDQUVBLFVBQUFoQixHQUFBLFdBQUExK0QsRUFBQSxLQUFBaS9ELEVBQUEsY0FEQVUsRUFBQUQsR0FDQSxrQkFBQVYsRUFBQSxzQ0FFQSxZQUVBLE1BQUFKLEdBQUFDLE1BeEpBNWUsV0FBQThmLEVBQ0Fqb0IsS0FrUEEsV0FDQSxRQUFBK21CLEdBQUF2ckUsRUFBQXlyRSxFQUFBQyxFQUFBaC9ELEVBQUFpL0QsR0FDQSxNQUFBOEIsR0FBQXp0RSxFQUFBeXJFLElBR0EsS0FGQSxHQUFBTCxHQUFBLFdBQUExK0QsRUFBQSxLQUFBaS9ELEVBQUEsa0JBQUFELEVBQUEsNEJBSUEsTUFBQUosR0FBQUMsTUF4UEEzZSxTQUFBbWdCLEVBQ0E1dkMsTUFBQTB2QyxFQUNBNXZDLFVBQUFnd0MsRUFDQXhrQixNQUFBNGtCLEVBQ0F4Z0IsTUFBQTBnQixFQTRhQSxPQTNZQW5DLEdBQUE1ckUsVUFBQTJmLE1BQUEzZixVQXdZQXN1RSxFQUFBaGhCLGlCQUNBZ2hCLEVBQUE5L0IsVUFBQTgvQixFQUVBQSxLQUc2QjN1RSxLQUFBcEIsRUFBQUMsRUFBQSxLQUk3QixTQUFBRixFQUFBQyxHQUVBLFlBV0EsU0FBQWd3RSxHQUFBQyxHQUNBLGtCQUNBLE1BQUFBLElBU0EsR0FBQS8yQixHQUFBLFlBRUFBLEdBQUFnVixZQUFBOGhCLEVBQ0E5MkIsRUFBQWlWLGlCQUFBNmhCLEdBQUEsR0FDQTkyQixFQUFBa1YsZ0JBQUE0aEIsR0FBQSxHQUNBOTJCLEVBQUFtVixnQkFBQTJoQixFQUFBLE1BQ0E5MkIsRUFBQW9WLGdCQUFBLFdBQ0EsTUFBQTlpRCxPQUVBMHRDLEVBQUFxVixvQkFBQSxTQUFBMGhCLEdBQ0EsTUFBQUEsSUFHQWx3RSxFQUFBQyxRQUFBazVDLEdBSUEsU0FBQW41QyxFQUFBQyxFQUFBQyxJQUVBLFNBQUE2cEUsR0FRQSxZQXVCQSxTQUFBNkMsR0FBQXVELEVBQUFuMkQsRUFBQXVKLEVBQUEybEMsRUFBQVksRUFBQXR0QyxFQUFBeUksRUFBQWlVLEdBR0EsR0FGQWszQyxFQUFBcDJELElBRUFtMkQsRUFBQSxDQUNBLEdBQUFyckQsRUFDQSxRQUFBM0QsS0FBQW5ILEVBQ0E4SyxFQUFBLEdBQUF6RCxPQUFBLHFJQUNNLENBQ04sR0FBQTBuQyxJQUFBeGxDLEVBQUEybEMsRUFBQVksRUFBQXR0QyxFQUFBeUksRUFBQWlVLEdBQ0FtM0MsRUFBQSxDQUNBdnJELEdBQUEsR0FBQXpELE9BQUFySCxFQUFBMm9CLFFBQUEsaUJBQ0EsTUFBQW9tQixHQUFBc25CLFFBRUF2ckQsRUFBQTNULEtBQUEsc0JBSUEsS0FEQTJULEdBQUEycEMsWUFBQSxFQUNBM3BDLEdBM0JBLEdBQUFzckQsR0FBQSxTQUFBcDJELElBRUEsZ0JBQUErdkQsRUFBQUMsSUFBQUMsV0FDQW1HLEVBQUEsU0FBQXAyRCxHQUNBLE9BQUFtSCxLQUFBbkgsRUFDQSxTQUFBcUgsT0FBQSxrREEwQkFyaEIsRUFBQUMsUUFBQTJzRSxJQUM2QnZyRSxLQUFBcEIsRUFBQUMsRUFBQSxLQUk3QixTQUFBRixFQUFBQyxFQUFBQyxJQUVBLFNBQUE2cEUsR0FRQSxZQUVBLElBQUE1d0IsR0FBQWo1QyxFQUFBLEdBU0Eyc0UsRUFBQTF6QixDQUVBLG1CQUFBNHdCLEVBQUFDLElBQUFDLFNBQUEsQ0FDQSxHQUFBcUcsR0FBQSxTQUFBdDJELEdBQ0EsT0FBQW8yQyxHQUFBenZDLFVBQUF2ZSxPQUFBMm1ELEVBQUE1UixNQUFBaVosRUFBQSxFQUFBQSxFQUFBLEtBQUFDLEVBQUEsRUFBdUZBLEVBQUFELEVBQWFDLElBQ3BHdEgsRUFBQXNILEVBQUEsR0FBQTF2QyxVQUFBMHZDLEVBR0EsSUFBQWdnQixHQUFBLEVBQ0F2aEUsRUFBQSxZQUFBa0wsRUFBQTJvQixRQUFBLGlCQUNBLE1BQUFvbUIsR0FBQXNuQixNQUVBLG9CQUFBOWdFLFVBQ0FBLFFBQUF1VixNQUFBaFcsRUFFQSxLQUlBLFNBQUF1UyxPQUFBdlMsR0FDTSxNQUFBMGpCLEtBR05xNkMsR0FBQSxTQUFBc0QsRUFBQW4yRCxHQUNBLE9BQUFtSCxLQUFBbkgsRUFDQSxTQUFBcUgsT0FBQSw0RUFHQSxRQUFBckgsRUFBQStvQixRQUFBLGlDQUlBb3RDLEVBQUEsQ0FDQSxPQUFBcmQsR0FBQW55QyxVQUFBdmUsT0FBQTJtRCxFQUFBNVIsTUFBQTJiLEVBQUEsRUFBQUEsRUFBQSxLQUFBQyxFQUFBLEVBQTZGQSxFQUFBRCxFQUFlQyxJQUM1R2hLLEVBQUFnSyxFQUFBLEdBQUFweUMsVUFBQW95QyxFQUdBdWQsR0FBQTV2RCxVQUFBUyxJQUFBbkgsR0FBQWdwQixPQUFBK2xCLE1BS0Evb0QsRUFBQUMsUUFBQTRzRSxJQUM2QnhyRSxLQUFBcEIsRUFBQUMsRUFBQSxLQUk3QixTQUFBRixFQUFBQzs7Ozs7QUFRQSxZQU1BLFNBQUFzd0UsR0FBQXpyQyxHQUNBLFVBQUFBLE9BQUEzakIsS0FBQTJqQixFQUNBLFNBQUE1akMsV0FBQSx3REFHQSxPQUFBUixRQUFBb2tDLEdBVEEsR0FBQTBrQixHQUFBOW9ELE9BQUE4b0Qsc0JBQ0FockIsRUFBQTk5QixPQUFBZ0IsVUFBQTg4QixlQUNBZ3lDLEVBQUE5dkUsT0FBQWdCLFVBQUErdUUsb0JBc0RBendFLEdBQUFDLFFBNUNBLFdBQ0EsSUFDQSxJQUFBUyxPQUFBNDlCLE9BQ0EsUUFNQSxJQUFBb3lDLEdBQUEsR0FBQTFqQixRQUFBLE1BRUEsSUFEQTBqQixFQUFBLFFBQ0EsTUFBQWh3RSxPQUFBaXdFLG9CQUFBRCxHQUFBLEdBQ0EsUUFLQSxRQURBRSxNQUNBenVFLEVBQUEsRUFBa0JBLEVBQUEsR0FBUUEsSUFDMUJ5dUUsRUFBQSxJQUFBNWpCLE9BQUE2akIsYUFBQTF1RSxLQUtBLG1CQUhBekIsT0FBQWl3RSxvQkFBQUMsR0FBQXYxRCxJQUFBLFNBQUFtQyxHQUNBLE1BQUFvekQsR0FBQXB6RCxLQUVBcWxCLEtBQUEsSUFDQSxRQUlBLElBQUFpdUMsS0FJQSxPQUhBLHVCQUFBbHVDLE1BQUEsSUFBQXN0QixRQUFBLFNBQUE2Z0IsR0FDQUQsRUFBQUMsT0FHQSx5QkFEQXJ3RSxPQUFBK2hELEtBQUEvaEQsT0FBQTQ5QixVQUFtQ3d5QyxJQUFBanVDLEtBQUEsSUFNaEMsTUFBQW01QixHQUVILGFBSUF0N0QsT0FBQTQ5QixPQUFBLFNBQUFyOEIsRUFBQXM4QixHQUtBLE9BSkFpUixHQUVBd2hDLEVBREE5N0QsRUFBQXE3RCxFQUFBdHVFLEdBR0FxbkQsRUFBQSxFQUFpQkEsRUFBQTNvQyxVQUFBdmUsT0FBc0JrbkQsSUFBQSxDQUN2QzlaLEVBQUE5dUMsT0FBQWlnQixVQUFBMm9DLEdBRUEsUUFBQTlvRCxLQUFBZ3ZDLEdBQ0FoUixFQUFBbjlCLEtBQUFtdUMsRUFBQWh2QyxLQUNBMFUsRUFBQTFVLEdBQUFndkMsRUFBQWh2QyxHQUlBLElBQUFncEQsRUFBQSxDQUNBd25CLEVBQUF4bkIsRUFBQWhhLEVBQ0EsUUFBQXJ0QyxHQUFBLEVBQW1CQSxFQUFBNnVFLEVBQUE1dUUsT0FBb0JELElBQ3ZDcXVFLEVBQUFudkUsS0FBQW11QyxFQUFBd2hDLEVBQUE3dUUsTUFDQStTLEVBQUE4N0QsRUFBQTd1RSxJQUFBcXRDLEVBQUF3aEMsRUFBQTd1RSxNQU1BLE1BQUErUyxLQU1BLFNBQUFsVixFQUFBQyxHQVNBLFlBSUFELEdBQUFDLFFBRkEsZ0RBT0EsU0FBQUQsRUFBQUMsRUFBQUMsSUFFQSxTQUFBNnBFLEdBT0EsWUFvQkEsU0FBQS9hLEdBQUFpaUIsRUFBQXJ1QixFQUFBaDBDLEVBQUFnL0QsRUFBQXNELEdBQ0Esa0JBQUFuSCxFQUFBQyxJQUFBQyxTQUNBLE9BQUFrSCxLQUFBRixHQUNBLEdBQUFBLEVBQUF6eUMsZUFBQTJ5QyxHQUFBLENBQ0EsR0FBQXJzRCxFQUlBLEtBR0E4bkQsRUFBQSxrQkFBQXFFLEdBQUFFLEdBQUEsZ0hBQWlHdkQsR0FBQSxjQUFBaC9ELEVBQUF1aUUsUUFBQUYsR0FBQUUsSUFDakdyc0QsRUFBQW1zRCxFQUFBRSxHQUFBdnVCLEVBQUF1dUIsRUFBQXZELEVBQUFoL0QsRUFBQSxLQUFBaytELEdBQ1UsTUFBQXNFLEdBQ1Z0c0QsRUFBQXNzRCxFQUdBLEdBREF2RSxHQUFBL25ELGVBQUF6RCxPQUFBLDJSQUFpR3VzRCxHQUFBLGNBQUFoL0QsRUFBQXVpRSxRQUFBcnNELElBQ2pHQSxZQUFBekQsVUFBQXlELEVBQUFoVyxVQUFBdWlFLElBQUEsQ0FHQUEsRUFBQXZzRCxFQUFBaFcsVUFBQSxDQUVBLElBQUF5K0QsR0FBQTJELE1BQUEsRUFFQXJFLElBQUEseUJBQUFqK0QsRUFBQWtXLEVBQUFoVyxRQUFBLE1BQUF5K0QsSUFBQSxNQTFDQSxrQkFBQXhELEVBQUFDLElBQUFDLFNBQ0EsR0FBQTJDLEdBQUExc0UsRUFBQSxHQUNBMnNFLEVBQUEzc0UsRUFBQSxHQUNBNHNFLEVBQUE1c0UsRUFBQSxJQUNBbXhFLElBNkNBcnhFLEdBQUFDLFFBQUErdUQsSUFFNkIzdEQsS0FBQXBCLEVBQUFDLEVBQUEsS0FJN0IsU0FBQUYsRUFBQUMsRUFBQUMsR0FTQSxZQUVBLElBQUFpNUMsR0FBQWo1QyxFQUFBLEdBQ0Ewc0UsRUFBQTFzRSxFQUFBLEdBQ0E0c0UsRUFBQTVzRSxFQUFBLEdBRUFGLEdBQUFDLFFBQUEsV0FDQSxRQUFBcXhFLEdBQUFwdkUsRUFBQXlyRSxFQUFBQyxFQUFBaC9ELEVBQUFpL0QsRUFBQUMsR0FDQUEsSUFBQWhCLEdBSUFGLEdBQ0EsRUFDQSxtTEFNQSxRQUFBMkUsS0FDQSxNQUFBRCxHQUZBQSxFQUFBbGhDLFdBQUFraEMsQ0FNQSxJQUFBdEIsSUFDQTMvQixNQUFBaWhDLEVBQ0EzeEMsS0FBQTJ4QyxFQUNBdnhDLEtBQUF1eEMsRUFDQTd4QyxPQUFBNnhDLEVBQ0FuaEMsT0FBQW1oQyxFQUNBbHlDLE9BQUFreUMsRUFDQTVpQixPQUFBNGlCLEVBRUEzaUIsSUFBQTJpQixFQUNBcnhDLFFBQUFzeEMsRUFDQTNpQixRQUFBMGlCLEVBQ0F6aUIsV0FBQTBpQixFQUNBN3FCLEtBQUE0cUIsRUFDQXhpQixTQUFBeWlCLEVBQ0FseUMsTUFBQWt5QyxFQUNBcHlDLFVBQUFveUMsRUFDQTVtQixNQUFBNG1CLEVBQ0F4aUIsTUFBQXdpQixFQU1BLE9BSEF2QixHQUFBaGhCLGVBQUE3VixFQUNBNjJCLEVBQUE5L0IsVUFBQTgvQixFQUVBQSxJQU1BLFNBQUFod0UsRUFBQUMsR0FFQUQsRUFBQUMsUUFBa0JDLEVBQVEsSUFJMUIsU0FBQUYsRUFBQUMsR0FFQSxZQU1BLFNBQUF3c0IsR0FBQStrRCxHQUNBLEdBQUF2M0QsR0FBQTBHLFVBQUF2ZSxPQUFBLE9BQUErZSxLQUFBUixVQUFBLEdBQUFBLFVBQUEsR0FBQTh3RCxFQUVBQyxNQUFBLEdBQ0FDLEtBQ0FDLE1BQUEsR0FDQUMsR0FBQSxFQUVBQyxFQUFBLFNBQUFDLEVBQUF0bEQsR0FDQSxNQUFBeFMsR0FBQTgzRCxFQUFBSixFQUFBbGxELElBbUJBLE9BaEJBLFlBQ0EsT0FBQTJqQyxHQUFBenZDLFVBQUF2ZSxPQUFBNHZFLEVBQUE3NkIsTUFBQWlaLEdBQUFDLEVBQUEsRUFBdUVBLEVBQUFELEVBQWFDLElBQ3BGMmhCLEVBQUEzaEIsR0FBQTF2QyxVQUFBMHZDLEVBR0EsT0FBQXdoQixJQUFBSCxJQUFBam1FLE1BQUF1bUUsRUFBQTV2RSxTQUFBdXZFLEVBQUF2dkUsUUFBQTR2RSxFQUFBcEMsTUFBQWtDLEdBQ0FGLEdBR0FDLEdBQUEsRUFDQUgsRUFBQWptRSxLQUNBa21FLEVBQUFLLEVBQ0FKLEVBQUFKLEVBQUE5d0QsTUFBQWpWLEtBQUF1bUUsS0E1QkEsR0FBQVAsR0FBQSxTQUFBbHVELEVBQUEybEMsR0FDQSxNQUFBM2xDLEtBQUEybEMsRUFrQ0FscEQsR0FBQUMsUUFBQXdzQixNL0JpZ2RNd2xELEtBQ0EsU0FBVWp5RSxFQUFRQyxFQUFTQyxJZ0M1cWdCakMsU0FBQWd5RSxFQUFBbkksR0E0SEEsUUFBQW9JLEdBQUEveEUsRUFBQWd5RSxHQUVBLEdBQUFDLElBQ0FDLFFBQ0FDLFFBQUFDLEVBa0JBLE9BZkE3eEQsV0FBQXZlLFFBQUEsSUFBQWl3RSxFQUFBSSxNQUFBOXhELFVBQUEsSUFDQUEsVUFBQXZlLFFBQUEsSUFBQWl3RSxFQUFBSyxPQUFBL3hELFVBQUEsSUFDQWd5RCxFQUFBUCxHQUVBQyxFQUFBTyxXQUFBUixFQUNHQSxHQUVIbnlFLEVBQUE0eUUsUUFBQVIsRUFBQUQsR0FHQVUsRUFBQVQsRUFBQU8sY0FBQVAsRUFBQU8sWUFBQSxHQUNBRSxFQUFBVCxFQUFBSSxTQUFBSixFQUFBSSxNQUFBLEdBQ0FLLEVBQUFULEVBQUFLLFVBQUFMLEVBQUFLLFFBQUEsR0FDQUksRUFBQVQsRUFBQVUsaUJBQUFWLEVBQUFVLGVBQUEsR0FDQVYsRUFBQUssU0FBQUwsRUFBQUUsUUFBQVMsR0FDQUMsRUFBQVosRUFBQWp5RSxFQUFBaXlFLEVBQUFJLE9Bb0NBLFFBQUFPLEdBQUE3dEMsRUFBQSt0QyxHQUNBLEdBQUE5L0QsR0FBQSsrRCxFQUFBL3JFLE9BQUE4c0UsRUFFQSxPQUFBOS9ELEdBQ0EsS0FBQSsrRCxFQUFBTyxPQUFBdC9ELEdBQUEsT0FBQSt4QixFQUNBLEtBQUFndEMsRUFBQU8sT0FBQXQvRCxHQUFBLE9BRUEreEIsRUFLQSxRQUFBcXRDLEdBQUFydEMsRUFBQSt0QyxHQUNBLE1BQUEvdEMsR0FJQSxRQUFBZ3VDLEdBQUE5aUMsR0FDQSxHQUFBK2lDLEtBTUEsT0FKQS9pQyxHQUFBNmYsUUFBQSxTQUFBcHJCLEVBQUFtdkIsR0FDQW1mLEVBQUF0dUMsSUFBQSxJQUdBc3VDLEVBSUEsUUFBQUgsR0FBQVosRUFBQTV4RSxFQUFBNHlFLEdBR0EsR0FBQWhCLEVBQUFVLGVBQ0F0eUUsR0FDQTZ5RSxFQUFBN3lFLEVBQUEweEUsVUFFQTF4RSxFQUFBMHhFLFVBQUFseUUsRUFBQWt5RSxXQUVBMXhFLEVBQUFtQixhQUFBbkIsRUFBQW1CLFlBQUFGLFlBQUFqQixHQUFBLENBQ0EsR0FBQTh5RSxHQUFBOXlFLEVBQUEweEUsUUFBQWtCLEVBQUFoQixFQUlBLE9BSEFubEIsR0FBQXFtQixLQUNBQSxFQUFBTixFQUFBWixFQUFBa0IsRUFBQUYsSUFFQUUsRUFJQSxHQUFBQyxHQUFBQyxFQUFBcEIsRUFBQTV4RSxFQUNBLElBQUEreUUsRUFDQSxNQUFBQSxFQUlBLElBQUEvd0IsR0FBQS9oRCxPQUFBK2hELEtBQUFoaUQsR0FDQWl6RSxFQUFBUCxFQUFBMXdCLEVBUUEsSUFOQTR2QixFQUFBTyxhQUNBbndCLEVBQUEvaEQsT0FBQWl3RSxvQkFBQWx3RSxJQUtBa3pFLEVBQUFsekUsS0FDQWdpRCxFQUFBMWYsUUFBQSxlQUFBMGYsRUFBQTFmLFFBQUEsbUJBQ0EsTUFBQTZ3QyxHQUFBbnpFLEVBSUEsUUFBQWdpRCxFQUFBcmdELE9BQUEsQ0FDQSxHQUFBa3hFLEVBQUE3eUUsR0FBQSxDQUNBLEdBQUEwUSxHQUFBMVEsRUFBQTBRLEtBQUEsS0FBQTFRLEVBQUEwUSxLQUFBLEVBQ0EsT0FBQWtoRSxHQUFBRSxRQUFBLFlBQUFwaEUsRUFBQSxlQUVBLEdBQUEwaUUsRUFBQXB6RSxHQUNBLE1BQUE0eEUsR0FBQUUsUUFBQXJ2QyxPQUFBeGhDLFVBQUE2cUIsU0FBQWxyQixLQUFBWixHQUFBLFNBRUEsSUFBQXF6RSxFQUFBcnpFLEdBQ0EsTUFBQTR4RSxHQUFBRSxRQUFBOWhFLEtBQUEvTyxVQUFBNnFCLFNBQUFsckIsS0FBQVosR0FBQSxPQUVBLElBQUFrekUsRUFBQWx6RSxHQUNBLE1BQUFtekUsR0FBQW56RSxHQUlBLEdBQUFzekUsR0FBQSxHQUFBMWpDLEdBQUEsRUFBQTJqQyxHQUFBLElBQTRDLElBUzVDLElBTkE1OEIsRUFBQTMyQyxLQUNBNHZDLEdBQUEsRUFDQTJqQyxHQUFBLFVBSUFWLEVBQUE3eUUsR0FBQSxDQUVBc3pFLEVBQUEsY0FEQXR6RSxFQUFBMFEsS0FBQSxLQUFBMVEsRUFBQTBRLEtBQUEsSUFDQSxJQWtCQSxHQWRBMGlFLEVBQUFwekUsS0FDQXN6RSxFQUFBLElBQUE3d0MsT0FBQXhoQyxVQUFBNnFCLFNBQUFsckIsS0FBQVosSUFJQXF6RSxFQUFBcnpFLEtBQ0FzekUsRUFBQSxJQUFBdGpFLEtBQUEvTyxVQUFBdXlFLFlBQUE1eUUsS0FBQVosSUFJQWt6RSxFQUFBbHpFLEtBQ0FzekUsRUFBQSxJQUFBSCxFQUFBbnpFLElBR0EsSUFBQWdpRCxFQUFBcmdELFVBQUFpdUMsR0FBQSxHQUFBNXZDLEVBQUEyQixRQUNBLE1BQUE0eEUsR0FBQSxHQUFBRCxFQUFBQyxFQUFBLEVBR0EsSUFBQVgsRUFBQSxFQUNBLE1BQUFRLEdBQUFwekUsR0FDQTR4RSxFQUFBRSxRQUFBcnZDLE9BQUF4aEMsVUFBQTZxQixTQUFBbHJCLEtBQUFaLEdBQUEsVUFFQTR4RSxFQUFBRSxRQUFBLHFCQUlBRixHQUFBQyxLQUFBaG5FLEtBQUE3SyxFQUVBLElBQUF5ekUsRUFXQSxPQVRBQSxHQURBN2pDLEVBQ0FuTCxFQUFBbXRDLEVBQUE1eEUsRUFBQTR5RSxFQUFBSyxFQUFBanhCLEdBRUFBLEVBQUFwbkMsSUFBQSxTQUFBN2EsR0FDQSxNQUFBMnpFLEdBQUE5QixFQUFBNXhFLEVBQUE0eUUsRUFBQUssRUFBQWx6RSxFQUFBNnZDLEtBSUFnaUMsRUFBQUMsS0FBQWxKLE1BRUFnTCxFQUFBRixFQUFBSCxFQUFBQyxHQUlBLFFBQUFQLEdBQUFwQixFQUFBNXhFLEdBQ0EsR0FBQXF5RSxFQUFBcnlFLEdBQ0EsTUFBQTR4RSxHQUFBRSxRQUFBLHdCQUNBLElBQUFybEIsRUFBQXpzRCxHQUFBLENBQ0EsR0FBQTR6RSxHQUFBLElBQUFqMUIsS0FBQUMsVUFBQTUrQyxHQUFBa2lDLFFBQUEsYUFDQUEsUUFBQSxZQUNBQSxRQUFBLGVBQ0EsT0FBQTB2QyxHQUFBRSxRQUFBOEIsRUFBQSxVQUVBLE1BQUFsbkIsR0FBQTFzRCxHQUNBNHhFLEVBQUFFLFFBQUEsR0FBQTl4RSxFQUFBLFVBQ0FreUUsRUFBQWx5RSxHQUNBNHhFLEVBQUFFLFFBQUEsR0FBQTl4RSxFQUFBLFdBRUF5WixFQUFBelosR0FDQTR4RSxFQUFBRSxRQUFBLG1CQURBLEdBS0EsUUFBQXFCLEdBQUFuekUsR0FDQSxVQUFBNGdCLE1BQUEzZixVQUFBNnFCLFNBQUFsckIsS0FBQVosR0FBQSxJQUlBLFFBQUF5a0MsR0FBQW10QyxFQUFBNXhFLEVBQUE0eUUsRUFBQUssRUFBQWp4QixHQUVBLE9BREF5eEIsTUFDQS94RSxFQUFBLEVBQUE4bkQsRUFBQXhwRCxFQUFBMkIsT0FBbUNELEVBQUE4bkQsSUFBTzluRCxFQUMxQ3E4QixFQUFBLzlCLEVBQUF1c0QsT0FBQTdxRCxJQUNBK3hFLEVBQUE1b0UsS0FBQTZvRSxFQUFBOUIsRUFBQTV4RSxFQUFBNHlFLEVBQUFLLEVBQ0ExbUIsT0FBQTdxRCxJQUFBLElBRUEreEUsRUFBQTVvRSxLQUFBLEdBU0EsT0FOQW0zQyxHQUFBeU4sUUFBQSxTQUFBMXZELEdBQ0FBLEVBQUFzUixNQUFBLFVBQ0FvaUUsRUFBQTVvRSxLQUFBNm9FLEVBQUE5QixFQUFBNXhFLEVBQUE0eUUsRUFBQUssRUFDQWx6RSxHQUFBLE1BR0EwekUsRUFJQSxRQUFBQyxHQUFBOUIsRUFBQTV4RSxFQUFBNHlFLEVBQUFLLEVBQUFsekUsRUFBQTZ2QyxHQUNBLEdBQUFsL0IsR0FBQWcwQixFQUFBMnFCLENBc0NBLElBckNBQSxFQUFBcHZELE9BQUFxdkQseUJBQUF0dkQsRUFBQUQsS0FBeURDLFFBQUFELElBQ3pEc3ZELEVBQUE3K0IsSUFFQWtVLEVBREEycUIsRUFBQWpXLElBQ0F3NEIsRUFBQUUsUUFBQSw2QkFFQUYsRUFBQUUsUUFBQSxzQkFHQXppQixFQUFBalcsTUFDQTFVLEVBQUFrdEMsRUFBQUUsUUFBQSx1QkFHQS96QyxFQUFBazFDLEVBQUFsekUsS0FDQTJRLEVBQUEsSUFBQTNRLEVBQUEsS0FFQTJrQyxJQUNBa3RDLEVBQUFDLEtBQUF2dkMsUUFBQStzQixFQUFBcnZELE9BQUEsR0FFQTBrQyxFQURBanJCLEVBQUFtNUQsR0FDQUosRUFBQVosRUFBQXZpQixFQUFBcnZELE1BQUEsTUFFQXd5RSxFQUFBWixFQUFBdmlCLEVBQUFydkQsTUFBQTR5RSxFQUFBLEdBRUFsdUMsRUFBQXBDLFFBQUEsV0FFQW9DLEVBREFrTCxFQUNBbEwsRUFBQXZDLE1BQUEsTUFBQXZuQixJQUFBLFNBQUFpNUQsR0FDQSxXQUFBQSxJQUNXenhDLEtBQUEsTUFBQW1GLE9BQUEsR0FFWCxLQUFBN0MsRUFBQXZDLE1BQUEsTUFBQXZuQixJQUFBLFNBQUFpNUQsR0FDQSxZQUFBQSxJQUNXenhDLEtBQUEsUUFJWHNDLEVBQUFrdEMsRUFBQUUsUUFBQSx5QkFHQU8sRUFBQTNoRSxHQUFBLENBQ0EsR0FBQWsvQixHQUFBN3ZDLEVBQUFzUixNQUFBLFNBQ0EsTUFBQXF6QixFQUVBaDBCLEdBQUFpdUMsS0FBQUMsVUFBQSxHQUFBNytDLEdBQ0EyUSxFQUFBVyxNQUFBLGlDQUNBWCxJQUFBNjJCLE9BQUEsRUFBQTcyQixFQUFBL08sT0FBQSxHQUNBK08sRUFBQWtoRSxFQUFBRSxRQUFBcGhFLEVBQUEsVUFFQUEsSUFBQXd4QixRQUFBLFlBQ0FBLFFBQUEsWUFDQUEsUUFBQSxnQkFDQXh4QixFQUFBa2hFLEVBQUFFLFFBQUFwaEUsRUFBQSxXQUlBLE1BQUFBLEdBQUEsS0FBQWcwQixFQUlBLFFBQUFpdkMsR0FBQUYsRUFBQUgsRUFBQUMsR0FDQSxHQUFBTyxHQUFBLENBT0EsT0FOQUwsR0FBQTNlLE9BQUEsU0FBQWlmLEVBQUFDLEdBR0EsTUFGQUYsS0FDQUUsRUFBQTF4QyxRQUFBLFVBQUF3eEMsSUFDQUMsRUFBQUMsRUFBQTl4QyxRQUFBLHNCQUFBdmdDLE9BQUEsR0FDRyxHQUVILEdBQ0E0eEUsRUFBQSxJQUNBLEtBQUFELEVBQUEsR0FBQUEsRUFBQSxPQUNBLElBQ0FHLEVBQUFyeEMsS0FBQSxTQUNBLElBQ0FteEMsRUFBQSxHQUdBQSxFQUFBLEdBQUFELEVBQUEsSUFBQUcsRUFBQXJ4QyxLQUFBLFVBQUFteEMsRUFBQSxHQU1BLFFBQUE1OEIsR0FBQXM5QixHQUNBLE1BQUF2OUIsT0FBQUMsUUFBQXM5QixHQUlBLFFBQUEvQixHQUFBekMsR0FDQSx1QkFBQUEsR0FJQSxRQUFBaDJELEdBQUFnMkQsR0FDQSxjQUFBQSxFQUlBLFFBQUF5RSxHQUFBekUsR0FDQSxhQUFBQSxFQUlBLFFBQUEvaUIsR0FBQStpQixHQUNBLHNCQUFBQSxHQUlBLFFBQUFoakIsR0FBQWdqQixHQUNBLHNCQUFBQSxHQUlBLFFBQUFILEdBQUFHLEdBQ0Esc0JBQUFBLEdBSUEsUUFBQTRDLEdBQUE1QyxHQUNBLGdCQUFBQSxFQUlBLFFBQUEyRCxHQUFBZSxHQUNBLE1BQUFDLEdBQUFELElBQUEsb0JBQUFFLEVBQUFGLEdBSUEsUUFBQUMsR0FBQTNFLEdBQ0Esc0JBQUFBLElBQUEsT0FBQUEsRUFJQSxRQUFBNEQsR0FBQXQzRCxHQUNBLE1BQUFxNEQsR0FBQXI0RCxJQUFBLGtCQUFBczRELEVBQUF0NEQsR0FJQSxRQUFBbTNELEdBQUExdUQsR0FDQSxNQUFBNHZELEdBQUE1dkQsS0FDQSxtQkFBQTZ2RCxFQUFBN3ZELGdCQUFBNUQsUUFJQSxRQUFBaXlELEdBQUFwRCxHQUNBLHdCQUFBQSxHQUlBLFFBQUE2RSxHQUFBN0UsR0FDQSxjQUFBQSxHQUNBLGlCQUFBQSxJQUNBLGdCQUFBQSxJQUNBLGdCQUFBQSxJQUNBLGdCQUFBQSxRQUNBLEtBQUFBLEVBTUEsUUFBQTRFLEdBQUFsMkMsR0FDQSxNQUFBbCtCLFFBQUFnQixVQUFBNnFCLFNBQUFsckIsS0FBQXU5QixHQUlBLFFBQUFvMkMsR0FBQXgzRCxHQUNBLE1BQUFBLEdBQUEsT0FBQUEsRUFBQStPLFNBQUEsSUFBQS9PLEVBQUErTyxTQUFBLElBUUEsUUFBQTBvRCxLQUNBLEdBQUF6NEQsR0FBQSxHQUFBL0wsTUFDQXVLLEdBQUFnNkQsRUFBQXg0RCxFQUFBcEQsWUFDQTQ3RCxFQUFBeDRELEVBQUEvQixjQUNBdTZELEVBQUF4NEQsRUFBQWpELGVBQUFzcEIsS0FBQSxJQUNBLFFBQUFybUIsRUFBQTA0RCxVQUFBQyxFQUFBMzRELEVBQUE5QixZQUFBTSxHQUFBNm5CLEtBQUEsS0FxQ0EsUUFBQXJFLEdBQUFwK0IsRUFBQWcxRSxHQUNBLE1BQUExMEUsUUFBQWdCLFVBQUE4OEIsZUFBQW45QixLQUFBakIsRUFBQWcxRSxHQW5qQkEsR0FBQUMsR0FBQSxVQUNBcDFFLEdBQUErWixPQUFBLFNBQUFrZixHQUNBLElBQUFnMEIsRUFBQWgwQixHQUFBLENBRUEsT0FEQW84QyxNQUNBbnpFLEVBQUEsRUFBbUJBLEVBQUF3ZSxVQUFBdmUsT0FBc0JELElBQ3pDbXpFLEVBQUFocUUsS0FBQTZtRSxFQUFBeHhELFVBQUF4ZSxJQUVBLE9BQUFtekUsR0FBQXp5QyxLQUFBLEtBc0JBLE9BbkJBMWdDLEdBQUEsRUFDQTRtRCxFQUFBcG9DLFVBQ0EwcUQsRUFBQXRpQixFQUFBM21ELE9BQ0EraUMsRUFBQTZuQixPQUFBOXpCLEdBQUF5SixRQUFBMHlDLEVBQUEsU0FBQTdpRCxHQUNBLFVBQUFBLEVBQUEsU0FDQSxJQUFBcndCLEdBQUFrcEUsRUFBQSxNQUFBNzRDLEVBQ0EsUUFBQUEsR0FDQSxlQUFBdzZCLFFBQUFqRSxFQUFBNW1ELEtBQ0EsZ0JBQUFzbEQsUUFBQXNCLEVBQUE1bUQsS0FDQSxVQUNBLElBQ0EsTUFBQWk5QyxNQUFBQyxVQUFBMEosRUFBQTVtRCxNQUNTLE1BQUFxcEQsR0FDVCxtQkFFQSxRQUNBLE1BQUFoNUIsTUFHQUEsRUFBQXUyQixFQUFBNW1ELEdBQXVCQSxFQUFBa3BFLEVBQVM3NEMsRUFBQXUyQixJQUFBNW1ELEdBQ2hDK1gsRUFBQXNZLEtBQUFxaUQsRUFBQXJpRCxHQUNBMlMsR0FBQSxJQUFBM1MsRUFFQTJTLEdBQUEsSUFBQWd0QyxFQUFBMy9DLEVBR0EsT0FBQTJTLElBT0FsbEMsRUFBQXMxRSxVQUFBLFNBQUFDLEVBQUFDLEdBYUEsUUFBQUMsS0FDQSxJQUFBQyxFQUFBLENBQ0EsR0FBQTVMLEVBQUE2TCxpQkFDQSxTQUFBdjBELE9BQUFvMEQsRUFDTzFMLEdBQUE4TCxpQkFDUHRtRSxRQUFBdW1FLE1BQUFMLEdBRUFsbUUsUUFBQXVWLE1BQUEyd0QsR0FFQUUsR0FBQSxFQUVBLE1BQUFILEdBQUE5MEQsTUFBQWpWLEtBQUFrVixXQXRCQSxHQUFBbXlELEVBQUFaLEVBQUFuSSxTQUNBLGtCQUNBLE1BQUE5cEUsR0FBQXMxRSxVQUFBQyxFQUFBQyxHQUFBLzBELE1BQUFqVixLQUFBa1YsV0FJQSxTQUFBb3BELEVBQUFnTSxjQUNBLE1BQUFQLEVBR0EsSUFBQUcsSUFBQSxDQWVBLE9BQUFELEdBSUEsSUFDQU0sR0FEQUMsSUFFQWgyRSxHQUFBaTJFLFNBQUEsU0FBQXI4QixHQUlBLEdBSEFpNUIsRUFBQWtELEtBQ0FBLEVBQUFqTSxFQUFBQyxJQUFBbU0sWUFBQSxJQUNBdDhCLElBQUF2c0MsZUFDQTJvRSxFQUFBcDhCLEdBQ0EsTUFBQTNXLFFBQUEsTUFBQTJXLEVBQUEsV0FBQXpTLEtBQUE0dUMsR0FBQSxDQUNBLEdBQUFJLEdBQUFyTSxFQUFBcU0sR0FDQUgsR0FBQXA4QixHQUFBLFdBQ0EsR0FBQTQ3QixHQUFBeDFFLEVBQUErWixPQUFBMEcsTUFBQXpnQixFQUFBMGdCLFVBQ0FwUixTQUFBdVYsTUFBQSxZQUFBKzBCLEVBQUF1OEIsRUFBQVgsUUFHQVEsR0FBQXA4QixHQUFBLFlBR0EsT0FBQW84QixHQUFBcDhCLElBb0NBNTVDLEVBQUFreUUsVUFJQUEsRUFBQU8sUUFDQTJELE1BQUEsTUFDQUMsUUFBQSxNQUNBQyxXQUFBLE1BQ0FDLFNBQUEsTUFDQWh0RCxPQUFBLE9BQ0FpdEQsTUFBQSxPQUNBQyxPQUFBLE9BQ0FweUIsTUFBQSxPQUNBcXlCLE1BQUEsT0FDQUMsT0FBQSxPQUNBQyxTQUFBLE9BQ0FDLEtBQUEsT0FDQUMsUUFBQSxRQUlBNUUsRUFBQS9yRSxRQUNBNHdFLFFBQUEsT0FDQXYzQyxPQUFBLFNBQ0F3M0MsUUFBQSxTQUNBOTFELFVBQUEsT0FDQSsxRCxLQUFBLE9BQ0E5M0MsT0FBQSxRQUNBdmxCLEtBQUEsVUFFQXM5RCxPQUFBLE9Ba1JBbDNFLEVBQUFtM0MsVUFLQW4zQyxFQUFBMHlFLFlBS0ExeUUsRUFBQWlhLFNBS0FqYSxFQUFBMDBFLG9CQUtBMTBFLEVBQUFrdEQsV0FLQWx0RCxFQUFBaXRELFdBS0FqdEQsRUFBQTh2RSxXQUtBOXZFLEVBQUE2eUUsY0FLQTd5RSxFQUFBNHpFLFdBS0E1ekUsRUFBQTQwRSxXQUtBNTBFLEVBQUE2ekUsU0FNQTd6RSxFQUFBMHpFLFVBS0ExekUsRUFBQXF6RSxhQVVBcnpFLEVBQUE4MEUsY0FFQTkwRSxFQUFBbTNFLFNBQW1CbDNFLEVBQVEsS0FZM0IsSUFBQWkxRSxJQUFBLHNEQUNBLGtCQWFBbDFFLEdBQUF1UCxJQUFBLFdBQ0FELFFBQUFDLElBQUEsVUFBQXlsRSxJQUFBaDFFLEVBQUErWixPQUFBMEcsTUFBQXpnQixFQUFBMGdCLGFBaUJBMWdCLEVBQUFvM0UsU0FBbUJuM0UsRUFBUSxNQUUzQkQsRUFBQTR5RSxRQUFBLFNBQUF5RSxFQUFBM2xCLEdBRUEsSUFBQUEsSUFBQWtqQixFQUFBbGpCLEdBQUEsTUFBQTJsQixFQUlBLEtBRkEsR0FBQTcwQixHQUFBL2hELE9BQUEraEQsS0FBQWtQLEdBQ0F4dkQsRUFBQXNnRCxFQUFBcmdELE9BQ0FELEtBQ0FtMUUsRUFBQTcwQixFQUFBdGdELElBQUF3dkQsRUFBQWxQLEVBQUF0Z0QsR0FFQSxPQUFBbTFFLE1oQ3FyZ0I2QmoyRSxLQUFLcEIsRUFBU0MsRUFBb0IsSUFBS0EsRUFBb0IsT0FJbEZxM0UsS0FDQSxTQUFVdjNFLEVBQVFDLEdpQzl2aEJ4QkQsRUFBQUMsUUFBQSxTQUFBaXdFLEdBQ0EsTUFBQUEsSUFBQSxnQkFBQUEsSUFDQSxrQkFBQUEsR0FBQXNILE1BQ0Esa0JBQUF0SCxHQUFBdUgsTUFDQSxrQkFBQXZILEdBQUF3SCxZakNxd2hCTUMsS0FDQSxTQUFVMzNFLEVBQVFDLEdrQzF3aEJ4QixrQkFBQVMsUUFBQWlCLE9BRUEzQixFQUFBQyxRQUFBLFNBQUEyM0UsRUFBQUMsR0FDQUQsRUFBQUUsT0FBQUQsRUFDQUQsRUFBQWwyRSxVQUFBaEIsT0FBQWlCLE9BQUFrMkUsRUFBQW4yRSxXQUNBRSxhQUNBbkIsTUFBQW0zRSxFQUNBaDNFLFlBQUEsRUFDQUUsVUFBQSxFQUNBRCxjQUFBLE1BTUFiLEVBQUFDLFFBQUEsU0FBQTIzRSxFQUFBQyxHQUNBRCxFQUFBRSxPQUFBRCxDQUNBLElBQUFFLEdBQUEsWUFDQUEsR0FBQXIyRSxVQUFBbTJFLEVBQUFuMkUsVUFDQWsyRSxFQUFBbDJFLFVBQUEsR0FBQXEyRSxHQUNBSCxFQUFBbDJFLFVBQUFFLFlBQUFnMkUsSWxDbXhoQk1JLEtBQ0EsU0FBVWg0RSxFQUFRQyxFQUFTQyxHbUN4eWhCakNGLEVBQUFDLFFBQWlCQyxFQUFBNCtCLEVBQXVCLHdDbkM4eWhCbENtNUMsS0FDQSxTQUFVajRFLEVBQVFDLEVBQVNDLEdBRWpDLFlBeUJBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNXLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQTJCQyxFQUFNQyxHQUFRLElBQUtELEVBQVEsS0FBTSxJQUFJRSxnQkFBZSw0REFBZ0UsUUFBT0QsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QkQsRUFBUEMsRUFFbE8sUUFBU0UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJUCxXQUFVLGlFQUFvRU8sR0FBZUQsR0FBU0UsVUFBWWhCLE9BQU9pQixPQUFPRixHQUFjQSxFQUFXQyxXQUFhRSxhQUFlbkIsTUFBT2UsRUFBVVosWUFBWSxFQUFPRSxVQUFVLEVBQU1ELGNBQWMsS0FBZVksSUFBWWYsT0FBT21CLGVBQWlCbkIsT0FBT21CLGVBQWVMLEVBQVVDLEdBQWNELEVBQVNNLFVBQVlMLEdBNUJqZWYsT0FBT0MsZUFBZVYsRUFBUyxjQUMzQlEsT0FBTyxHQUdYLElBQUlzQixHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXekIsV0FBYXlCLEVBQVd6QixhQUFjLEVBQU95QixFQUFXeEIsY0FBZSxFQUFVLFNBQVd3QixLQUFZQSxFQUFXdkIsVUFBVyxHQUFNSixPQUFPQyxlQUFlc0IsRUFBUUksRUFBVzdCLElBQUs2QixJQUFpQixNQUFPLFVBQVVwQixFQUFhcUIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlOLEVBQWlCZixFQUFZUyxVQUFXWSxHQUFpQkMsR0FBYVAsRUFBaUJmLEVBQWFzQixHQUFxQnRCLE1vQ3B6aEJoaUJ1QixFQUFBdEMsRUFBQSxHcEN3emhCSXVDLEVBQVV0QyxFQUF1QnFDLEdvQ3Z6aEJyQ3U4QixFQUFBNytCLEVBQUEsR0FDQXdDLEdwQzB6aEJrQnZDLEVBQXVCNCtCLEdvQzF6aEJ6QzcrQixFQUFBLEtBQ0FneEMsRUFBQWh4QyxFQUFBLEtBS0FnakQsRUFBQWhqRCxFQUFBLEtwQzR6aEJJaWpELEVBQWNoakQsRUFBdUIraUQsR29DMXpoQm5DOThDLEVBQVMsU0FBQUMsR0FBQSxPQUNYNnhFLHVCQUNJenRFLFVBQVcsK0JBQ1hyQyxRQUFTLFNBQ1R5c0IsT0FBUSxrQkFFWnVTLE1BQ0lyZ0MsTUFBTyxPQUNQVSxPQUFRLE9BQ1IrQyxVQUFXLE9BQ1hwQyxRQUFTLE1BQ1Q3QixRQUFTLG1CQUNUcUIsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUM3QjB1QyxXQUFZLFlBRWhCMmlDLHFCQUNJcndFLFNBQVUsT0FDVlksV0FBWSxTQUNaSyxTQUFVLFdBQ1ZuQixNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCb0MsUUFBUyxLQUVia3ZFLGFBQ0lyeEUsTUFBTywwQkFFWHN4RSw4QkFLRUMsRXBDczBoQlksU0FBVTlzRSxHb0NyMGhCeEIsUUFBQThzRSxHQUFZcDJFLEdBQU9uQixFQUFBMEssS0FBQTZzRSxFQUFBLElBQUE1c0UsR0FBQXZLLEVBQUFzSyxNQUFBNnNFLEVBQUF4MkUsV0FBQXBCLE9BQUFpTCxlQUFBMnNFLElBQUFqM0UsS0FBQW9LLEtBQ1R2SixHQURTLE9BQUF3SixHQXNCbkI2c0UsMkJBQTZCLFNBQUF0ekQsR0FDekJ2WixFQUFLSyxVQUFXc3VDLGVBQWdCcDFCLEVBQUVoakIsT0FBT3hCLFNBdkIxQmlMLEVBMEJuQjh3QyxtQkFBcUIsV0FDakI5d0MsRUFBS0ssVUFBVzJ1QyxhQUFhLEdBQVEsV0FDakN2cUIsV0FBVyxXQUNQLEdBQUlzc0IsR0FBWTNHLFNBQVNDLGVBQWUsOEJBQ3BDMEcsR0FDQUEsRUFBVUMsUUFFVm50QyxRQUFRQyxJQUFJLHVCQUVqQixRQW5DUTlELEVBdUNuQm12QyxvQkFBc0IsV0FDbEJudkMsRUFBS0ssVUFDRDJ1QyxhQUFhLEVBQ2JMLGVBQ0kzdUMsRUFBS0csTUFBTTh1QyxvQkFDaEIsV0FDQ2p2QyxFQUFLa3ZDLDJCQTdDTWx2QyxFQWlEbkIrdUMsaUJBQW1CLFdBQ2YvdUMsRUFBS0ssVUFDRDJ1QyxhQUFhLEVBQ2JDLG1CQUNJanZDLEVBQUtHLE1BQU13dUMsZ0JBQ2hCLFdBQ0MzdUMsRUFBS2t2Qyx3QkFDTGx2QyxFQUFLeEosTUFBTXk5QyxjQUFjajBDLEVBQUtHLE1BQU13dUMsbUJBeER6QjN1QyxFQTREbkJrdkMsc0JBQXdCLFdBQ3BCenFCLFdBQVcsV0FDUCxHQUFJc3NCLEdBQVkzRyxTQUFTQyxlQUFlLDhCQUNwQzBHLElBQ0FBLEVBQVVFLFFBRWYsTUEvREhqeEMsRUFBS0csT0FDRDZ1QyxhQUFhLEVBQ2JMLGVBQWdCM3VDLEVBQUt4SixNQUFNdzlDLGFBQzNCL0UsbUJBQW9CanZDLEVBQUt4SixNQUFNdzlDLGNBTnBCaDBDLEVwQ2s5aEJuQixNQTVJQW5LLEdBQVUrMkUsRUFBYTlzRSxHQTREdkJ6SixFQUFhdTJFLElBQ1Q5M0UsSUFBSyx3QkFDTEMsTUFBTyxTb0MxM2hCVzZRLEVBQVdrbkUsR0FDN0IsTUFBSWxuRSxHQUFVb3VDLGVBQWlCajBDLEtBQUtJLE1BQU13dUMsZ0JBSXRDbStCLEVBQVU5OUIsY0FBZ0JqdkMsS0FBS0ksTUFBTTZ1QyxlcENpNGhCekNsNkMsSUFBSyxTQUNMQyxNQUFPLFdvQzUwaEJGLEdBQUFpUixHQUFBakcsS0FDR3VCLEVBQVl2QixLQUFLdkosTUFBakI4SyxPQUVSLE9BQ0l2SyxHQUFBbkMsUUFBQWtOLGNBQUEsV0FDSS9LLEVBQUFuQyxRQUFBa04sY0FBQSxXQUNJL0ssRUFBQW5DLFFBQUFrTixjQUFBLFFBQU0yRSxVQUFXbkYsRUFBUW1yRSxxQkFBekIscUJBRUsxc0UsS0FBS0ksTUFBTTZ1QyxhQUNSajRDLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBaVYsYUFDRy95QyxPQUNJeEwsTUFBTyxVQUNQNndFLE1BQU8sUUFDUC93RSxPQUFRLFdBRVorSyxRQUFTaEgsS0FBSyt3QyxxQkFLdEIvd0MsS0FBS0ksTUFBTTZ1QyxhQUNQajRDLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLNEYsT0FBU3FsRSxNQUFPLFVBQ2pCaDJFLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBbVYsY0FDR2p6QyxPQUNJbk0sV0FBWSxTQUNaVyxNQUFPLFVBQ1BRLFFBQVMsb0JBQ1RWLE9BQVEsV0FFWitLLFFBQVNoSCxLQUFLb3ZDLHNCQUVsQnA0QyxFQUFBbkMsUUFBQWtOLGNBQUMwakMsRUFBQXFWLG9CQUNHbnpDLE9BQ0l4TCxNQUFPLFVBQ1BGLE9BQVEsV0FFWitLLFFBQVNoSCxLQUFLZ3ZDLHFCQU1sQ2g0QyxFQUFBbkMsUUFBQWtOLGNBQUMyMUMsRUFBQTdpRCxTQUNHb1AsR0FBRyw4QkFDSHl6RCxXQUFBLEVBQ0ExaUUsTUFBT2dMLEtBQUtJLE1BQU13dUMsZUFDbEJsNEIsU0FBVSxTQUFDOEMsR0FBRCxNQUFPdlQsR0FBSzZtRSwyQkFBMkJ0ekQsSUFDakQ5UyxVQUNLbkYsRUFBUW9yRSxZQUFjLEtBQVEzc0UsS0FBS0ksTUFBTTZ1QyxZQUN0QzF0QyxFQUFRa3JFLHNCQUF3QmxyRSxFQUFRcXJFLDBCQUVoRHhyRCxPQUFPLFNBQ1AvRyxZQUNJM1QsVUFBV25GLEVBQVFvNkIsS0FDbkI3Z0IsU0FBVStILFNBQVM3aUIsS0FBS0ksTUFBTTZ1QyxhQUM5QjVNLGlCQUFrQnhmLFNBQVEsV3BDczFoQnZDZ3FELEdvQ245aEJlOWlFLFlwQ3M5aEIxQnZWLEdBQVFLLFNvQ2oxaEJPLEVBQUFvQyxFQUFBMFQsWUFBV2hRLEdBQVVpUSxXQUFXLElBQVFpaUUsSXBDcTFoQmpESSxLQUNBLFNBQVUxNEUsRUFBUUMsRUFBU0MsR0FFakMsWUFHQVEsUUFBT0MsZUFBZVYsRUFBUyxjQUMzQlEsT0FBTyxJQUVYUixFQUFRazZDLHdCQUEwQmw2QyxFQUFRZzlDLG1DQUFxQ2g5QyxFQUFRNjhDLG1CQUFxQjc4QyxFQUFRODhDLDJCQUE2Qjk4QyxFQUFRazlDLDBCQUF3Qmg4QixFcUMvZ2lCakwsSUFBQTNiLEdBQUF0RixFQUFBLEdBRWFpOUMseUJBQXdCLFNBQUNuRCxHQUdsQyxJQUFLLEdBRkQyK0IsR0FBYyxHQUVUeDJFLEVBQUksRUFBR0EsRUFBSTYzQyxFQUFNNTNDLE9BQVFELElBQzlCdzJFLEdBQWV4MkUsSUFBTTYzQyxFQUFNNTNDLE9BQVMsRUFBSTQzQyxFQUFNNzNDLEdBQUdtNEMsT0FBWU4sRUFBTTczQyxHQUFHbTRDLE9BQXZELElBR25CLE9BQU9xK0IsSUFHRTU3Qiw2QkFBNkIsU0FBQzlyQyxHQUN2QyxHQUFJb0ssR0FBTSxHQUFJeWpDLElBT2QsT0FMQTd0QyxJQUFXQSxFQUFRb0ssSUFBSSxTQUFBcEssR0FBQSxPQUNsQixFQUFBekwsRUFBQXU0QyxnQkFBZTlzQyxFQUFRNnNDLFNBQ3ZCemlDLEVBQUl3K0IsSUFBSTVvQyxFQUFRdkIsSUFBSSxLQUdsQjJMLEdBR0V5aEMscUJBQXFCLFNBQUM3ckMsR0FFL0IsR0FBSUEsRUFDQSxJQUFLLEdBQU05TyxLQUFLOE8sR0FDWkEsRUFBUTlPLEdBQVIsR0FBbUJBLEVBQUksRUFDdkI4TyxFQUFROU8sR0FBUixNQUFxQixDQUk3QixPQUFPOE8sSUFHRWdzQyxxQ0FBcUMsU0FBQ2hzQyxHQUFtQyxHQUExQm1FLEdBQTBCdUwsVUFBQXZlLE9BQUEsT0FBQStlLEtBQUFSLFVBQUEsR0FBQUEsVUFBQSxHQUFQLEdBQ3ZFaTRELEVBQXFCLEVBRXJCeGpFLEtBQ0F3akUsR0FBc0J4akUsRUFHMUIsS0FBSyxHQUFNalQsS0FBSzhPLElBQ1AsRUFBQXpMLEVBQUF1NEMsZ0JBQWU5c0MsRUFBUTlPLEdBQUcyN0MsVUFDM0I4NkIsR0FBc0IzbkUsRUFBUTlPLEdBQUc4TyxRQUl6QyxPQUFPMm5FLElBS0V6K0IsMEJBQTBCLFNBQUNaLEdBQXlCLEdBQUFraUIsSUFBQSxFQUFBQyxHQUFBLEVBQUFDLE1BQUF4NkMsRUFBQSxLQUU3RCxPQUFBeTZDLEdBQUFDLEVBQWtCdGlCLEVBQXFCcUosU0FBdkN6a0IsT0FBQUMsY0FBQXE5QixHQUFBRyxFQUFBQyxFQUFBQyxRQUFBamEsTUFBQTRaLEdBQUEsRUFBaUQsQ0FDN0MsSUFBWSxJQURpQ0csRUFBQW43RCxNQUV6QyxPQUFPLEdBSjhDLE1BQUF1N0QsR0FBQU4sR0FBQSxFQUFBQyxFQUFBSyxFQUFBLGFBQUFQLEdBQUFJLEVBQUFJLFFBQUFKLEVBQUFJLFNBQUEsV0FBQVAsRUFBQSxLQUFBQyxJQVE3RCxPQUFPLElyQzRpaUJMa2QsS0FDQSxTQUFVNzRFLEVBQVFDLEVBQVNDLEdBRWpDLFlBa0JBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBZnZGTSxPQUFPQyxlQUFlVixFQUFTLGNBQzNCUSxPQUFPLElBRVhSLEVBQVE4K0Msa0JBQWdCNTlCLEVzQ2xuaUJ4QixJQUFBMHBCLEdBQUEzcUMsRUFBQSxJdENzbmlCSTRxQyxFQUFVM3FDLEVBQXVCMHFDLEdzQ3JuaUJyQ0YsRUFBQXpxQyxFQUFBLEl0Q3luaUJJMHFDLEVBQVd6cUMsRUFBdUJ3cUMsR3NDeG5pQnRDODRCLEVBQUF2akUsRUFBQSxLQVdNOCtDLEVBQWtCLFdBQ3BCLE1BQU90UCxXQUNGemUsSUFBTzJlLFVBQU9DLE9BTEUsaUJBTWhCQyxLQUFLLFNBQUNDLEdBQ0gsT0FBTyxFQUFBMHpCLEVBQUFDLG1CQUFrQjN6QixLQUU1QkMsTUFBTSxTQUFDbHJCLEdBQ0osT0FBTyxFQUFBMitDLEVBQUFDLG1CQUFrQjUrQyxNQUkvQm02QixFQUFlLFdBQ2pCLE1BQU92UCxXQUNGemUsSUFBTzJlLFVBQU9DLE9BZkksY0FnQmxCQyxLQUFLLFNBQUNDLEdBQ0gsT0FBTyxFQUFBMHpCLEVBQUFDLG1CQUFrQjN6QixLQUU1QkMsTUFBTSxTQUFDbHJCLEdBQ0osT0FBTyxFQUFBMitDLEVBQUFDLG1CQUFrQjUrQyxLQUl4Qmk2QixrQkFBa0JDLGtCQUFrQkMsaUJ0QzBuaUIzQzY1QixLQUNBLFNBQVU5NEUsRUFBUUMsRUFBU0MsR0FFakMsWUErQ0EsU0FBU0MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU1csR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBMkJDLEVBQU1DLEdBQVEsSUFBS0QsRUFBUSxLQUFNLElBQUlFLGdCQUFlLDREQUFnRSxRQUFPRCxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCRCxFQUFQQyxFQUVsTyxRQUFTRSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlQLFdBQVUsaUVBQW9FTyxHQUFlRCxHQUFTRSxVQUFZaEIsT0FBT2lCLE9BQU9GLEdBQWNBLEVBQVdDLFdBQWFFLGFBQWVuQixNQUFPZSxFQUFVWixZQUFZLEVBQU9FLFVBQVUsRUFBTUQsY0FBYyxLQUFlWSxJQUFZZixPQUFPbUIsZUFBaUJuQixPQUFPbUIsZUFBZUwsRUFBVUMsR0FBY0QsRUFBU00sVUFBWUwsR3VDenNpQmplLFFBQVNzM0UsR0FBYTcyRSxFQUFPbUUsR0FDekIsTUFDSTVELEdBQUFuQyxRQUFBa04sY0FBQzFLLEVBQUF4QyxTQUFXZ3ZCLFVBQVUsTUFBTWxjLE9BQVNqSyxXQUFZLFdBQzdDMUcsRUFBQW5DLFFBQUFrTixjQUFDaXFDLEVBQUF1aEMsT0FBTXRyQyxVQUFXLEVBQUd0NkIsT0FBUTVJLFVBQVcsT0FBUS9DLE9BQVEsU0FBVVMsYUFBZSxNQUFNdUMsVUFBVyxPQUFPNUQsV0FBWTNFLEVBQU1tRSxNQUFNTyxRQUFRa0MsZUFBZWhDLE9BQ25KNUUsRUFBTStlLFd2Q21waUJ2QnZnQixPQUFPQyxlQUFlVixFQUFTLGNBQzNCUSxPQUFPLEdBR1gsSUFBSXNCLEdBQWUsV0FBYyxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVd6QixXQUFheUIsRUFBV3pCLGFBQWMsRUFBT3lCLEVBQVd4QixjQUFlLEVBQVUsU0FBV3dCLEtBQVlBLEVBQVd2QixVQUFXLEdBQU1KLE9BQU9DLGVBQWVzQixFQUFRSSxFQUFXN0IsSUFBSzZCLElBQWlCLE1BQU8sVUFBVXBCLEVBQWFxQixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWU4sRUFBaUJmLEVBQVlTLFVBQVdZLEdBQWlCQyxHQUFhUCxFQUFpQmYsRUFBYXNCLEdBQXFCdEIsTXVDdnFpQmhpQnVCLEVBQUF0QyxFQUFBLEd2QzJxaUJJdUMsRUFBVXRDLEVBQXVCcUMsR3VDMXFpQnJDdThCLEVBQUE3K0IsRUFBQSxHdkM4cWlCSTZxQyxFQUFjNXFDLEVBQXVCNCtCLEd1QzdxaUJ6Q3I4QixFQUFBeEMsRUFBQSxJQUNBKzRFLEVBQUEvNEUsRUFBQSxLdkNrcmlCSWc1RSxFQUFTLzRFLEVBQXVCODRFLEd1Q2pyaUJwQ0UsRUFBQWo1RSxFQUFBLEt2Q3FyaUJJazVFLEVBQVFqNUUsRUFBdUJnNUUsR3VDcHJpQm5DdDJFLEVBQUEzQyxFQUFBLEl2Q3dyaUJJNEMsRUFBZTNDLEVBQXVCMEMsR3VDdnJpQjFDODJELEVBQUF6NUQsRUFBQSxNdkMycmlCSTA1RCxFQUFjejVELEVBQXVCdzVELEd1QzFyaUJ6Q2xpQixFQUFBdjNDLEVBQUEsSUFDQTAzQyxFQUFBMTNDLEVBQUEsSXZDK3JpQkkyM0MsRUFBcUIxM0MsRUFBdUJ5M0MsR3VDOXJpQmhEbk4sRUFBQXZxQyxFQUFBLE12Q2tzaUJJd3FDLEVBQWlCdnFDLEVBQXVCc3FDLEd1Q2pzaUI1Q29HLEVBQUEzd0MsRUFBQSxHQVlBNjRFLEdBQWE5NUMsV0FDVGhlLFNBQVVpdkIsVUFBVXdXLEtBQUt0VyxXQUc3QixJQUFNaHFDLEdBQVMsU0FBQUMsR0FBQSxPQUNYSyxRQUdBMnlFLFVBQ0l4c0QsT0FBUSxrQkFFWjVaLFdBQ0ltVixTQUFVLFFBRWRreEQsZUFDSTF4RSxNQUFPLFFBQ1AyeEUsS0FBTSxnQkFFVkMsV0FDSS94RSxPQUFRLE1BQ1IwQyxJQUFLLG9CQUVUc3ZFLGFBQ0U3eEUsTUFBT3ZCLEVBQU1PLFFBQVFpQixRQUFRZixLQUFPLGVBRXRDNHlFLFNBQ0c5eEUsTUFBT3ZCLEVBQU1PLFFBQVE2QixVQUFVM0IsS0FDL0JDLE1BQU8sMEJBQ1BvaEIsVUFBVyxRQUNYMWhCLFVBQVcsU0FFZGt6RSxZQUNFL3NELGFBQWMsT0FDYjdsQixNQUFPLDJCQUVWNnlFLG1CQUNJbnlFLE9BQVEsU0FFWm95RSxVQUNJMXhELFVBQVcsUUFDWDFoQixVQUFXLFNBRWZxekUsY0FDSWx0RCxhQUFjLG9CQUVsQm10RCxrQkFDSW55RSxNQUFPdkIsRUFBTU8sUUFBUWlCLFFBQVFmLEtBQzdCZ0IsU0FBVSxRQUNWdkIsUUFBUyxXQUlYMmEsR0FDRi9NLGVBQ0F0RCxhQUdFbXBFLEV2QytzaUJjLFNBQVVqNUMsR3VDOXNpQjFCLFFBQUFpNUMsR0FBWTkzRSxHQUFPbkIsRUFBQTBLLEtBQUF1dUUsRUFBQSxJQUFBdHVFLEdBQUF2SyxFQUFBc0ssTUFBQXV1RSxFQUFBbDRFLFdBQUFwQixPQUFBaUwsZUFBQXF1RSxJQUFBMzRFLEtBQUFvSyxLQUNUdkosR0FEU3dKLEdBOEJuQmdoQyxlQUFpQixTQUFDTyxHQUNkLEdBQW1CLE9BQWZBLEVBQ0F2aEMsRUFBS0ssVUFBVzhFLFNBQVVuRixFQUFLRyxNQUFNc2hDLGtCQUNwQyxDQUdELElBQUssR0FGRHQ4QixHQUFXbkYsRUFBS0csTUFBTXNoQyxZQUN0Qm11QixLQUNLbjVELEVBQUksRUFBR0EsRUFBSTBPLEVBQVN6TyxPQUFRRCxJQUFLLENBRXRDLElBQUssR0FERG81RCxNQUNLLzJCLEVBQUksRUFBR0EsRUFBSTN6QixFQUFTMU8sR0FBR0MsT0FBUW9pQyxJQUNqQixXQUFmeUksR0FBNEQsTUFBaENwOEIsRUFBUzFPLEdBQUdxaUMsR0FBRzZQLGNBQzNDa25CLEVBQVVqd0QsS0FBS3VGLEVBQVMxTyxHQUFHcWlDLElBQ1Asd0JBQWZ5SSxHQUF5RSxHQUFoQ3A4QixFQUFTMU8sR0FBR3FpQyxHQUFHd0ssY0FDN0R1c0IsRUFBVWp3RCxLQUFLdUYsRUFBUzFPLEdBQUdxaUMsSUFDUCxnQkFBZnlJLEdBQStELEdBQTlCcDhCLEVBQVMxTyxHQUFHcWlDLEdBQUd5SyxZQUNyRHNzQixFQUFVandELEtBQUt1RixFQUFTMU8sR0FBR3FpQyxJQUNQLGNBQWZ5SSxHQUEyRCxHQUE1QnA4QixFQUFTMU8sR0FBR3FpQyxHQUFHMEssV0FDbkRxc0IsRUFBVWp3RCxLQUFLdUYsRUFBUzFPLEdBQUdxaUMsR0FFbkM4MkIsR0FBaUJod0QsS0FBS2l3RCxHQUUxQjd2RCxFQUFLSyxVQUFXOEUsU0FBVXlxRCxNQWxEZjV2RCxFQXNEZjRXLGFBQWUsU0FBQ21HLEVBQU9ob0IsR0FDbkJpTCxFQUFLSyxVQUFXdEwsVUFyRHBCLElBQUlndEMsR0FBTy9oQyxFQUFLeEosTUFBTWlTLFlBQVltaEQsU0FGbkIsT0FHZjduQixHQUFLd3NDLFFBQVEsZUFFYnZ1RSxFQUFLRyxPQUNEcEwsTUFBTyxFQUNQcVEsU0FBUyxFQUNURCxTQUFVM08sRUFBTTJPLFNBQ2hCczhCLFlBQWFqckMsRUFBTTJPLFNBQ25CNDhCLEtBQU9BLEdBVkkvaEMsRXZDbzZpQm5CLE1Bck5BbkssR0FBVXk0RSxFQUFlajVDLEdBcUR6QmgvQixFQUFhaTRFLElBQ1R4NUUsSUFBSyxTQWdDTEMsTUFBTyxXdUNwc2lCSCxJQUFJLEdBVkNpUixHQUFBakcsS0FBQWtHLEVBQ3NCbEcsS0FBS3ZKLE1BQXhCOEssRUFESDJFLEVBQ0czRSxRQUFTM0csRUFEWnNMLEVBQ1l0TCxNQUNUNUYsRUFBVWdMLEtBQUtJLE1BQWZwTCxNQUlKNGdELEtBQ0E2NEIsS0FDQUMsRUFBb0IsRUFDcEJDLEVBQWMsRUFDVmo0RSxFQUFFLEVBQUVBLEVBQUVzSixLQUFLSSxNQUFNNGhDLEtBQUtyckMsT0FBT0QsSUFFakMrM0UsRUFBbUI1dUUsS0FBSyxFQUU1QixLQUFLLEdBQUluSixHQUFJLEVBQUdBLEVBQUlzSixLQUFLSSxNQUFNZ0YsU0FBU3pPLE9BQVFELElBQUssQ0FDakRrL0MsRUFBYS8xQyxLQUFLRyxLQUFLSSxNQUFNZ0YsU0FBUzFPLEdBQUdDLE9BRXpDLEtBQUssR0FERHdzQyxHQUFNLEVBQ0RwSyxFQUFJLEVBQUdBLEVBQUkvNEIsS0FBS0ksTUFBTWdGLFNBQVMxTyxHQUFHQyxPQUFRb2lDLElBQy9Db0ssR0FBWW5qQyxLQUFLSSxNQUFNZ0YsU0FBUzFPLEdBQUdxaUMsR0FBR3NPLGtCQUN0Q3FuQyxHQUF3QyxFQUN4Q0MsR0FBNEIzdUUsS0FBS0ksTUFBTWdGLFNBQVMxTyxHQUFHcWlDLEdBQUdzTyxpQkFFMURvbkMsR0FBbUIvM0UsR0FBS3lzQyxFQUdoQyxNQUNJbnNDLEdBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVF0RyxPQUNJLElBQXZCK0UsS0FBS0ksTUFBTWlGLFNBQ1JyTyxFQUFBbkMsUUFBQWtOLGNBQUEsV0FDSS9LLEVBQUFuQyxRQUFBa04sY0FBQzByRSxFQUFBNTRFLFNBQUtHLE1BQU9BLEVBQU8waEIsU0FBVTFXLEtBQUs2VyxhQUMvQm9hLGVBQWUsVUFFZjI5QyxZQUFBLEVBQ0FmLGNBQWMsT0FDZHRzRSxTQUFhc3NFLGNBQWV0c0UsRUFBUXNzRSxjQUFlZ0IsY0FBZXR0RSxFQUFRNHNFLGtCQUFtQmx6RSxLQUFNc0csRUFBUTZzRSxTQUM5RlUsU0FBVXZ0RSxFQUFROHNFLGNBRS9CVSxtQkFDSXJvRSxVQUFXbkYsRUFBUXdzRSxZQUd2Qi8yRSxFQUFBbkMsUUFBQWtOLGNBQUM0ckUsRUFBQTk0RSxTQUFJME0sU0FBV2tjLFNBQVVsYyxFQUFReXNFLFlBQVkveUUsS0FBTXNHLEVBQVEwc0UsUUFBU2UsUUFBU3p0RSxFQUFRMnNFLFlBQWE5OEMsS0FBTXA2QixFQUFBbkMsUUFBQWtOLGNBQUEsV0FBSy9LLEVBQUFuQyxRQUFBa04sY0FBQSxRQUFNMkUsVUFBV25GLEVBQVErc0Usa0JBQW1CSSxFQUE1QyxPQUFrRSxFQUFBdHBDLEVBQUF1RCxXQUFVZ21DLEdBQTVFLEtBQzFHMzNFLEVBQUFuQyxRQUFBa04sY0FBQSxRQUFNNEYsT0FBU3RMLFNBQVUsVUFBekIsbUJBRUgyRCxLQUFLSSxNQUFNNGhDLEtBQUtweUIsSUFBSSxTQUFDQyxFQUFLNUwsR0FFdkIsTUFDSWpOLEdBQUFuQyxRQUFBa04sY0FBQzRyRSxFQUFBOTRFLFNBQUkwTSxTQUFXa2MsU0FBVWxjLEVBQVF5c0UsWUFBWS95RSxLQUFNc0csRUFBUTBzRSxTQUFVNzhDLEtBQU1wNkIsRUFBQW5DLFFBQUFrTixjQUFBLFdBQUsvSyxFQUFBbkMsUUFBQWtOLGNBQUEsUUFBTTJFLFVBQVduRixFQUFRK3NFLGtCQUFtQjE0QixFQUFhM3hDLEdBQXpELE9BQWlFLEVBQUFtaEMsRUFBQXVELFdBQVU4bEMsRUFBbUJ4cUUsSUFBOUYsS0FDN0VqTixFQUFBbkMsUUFBQWtOLGNBQUEsUUFBTTRGLE9BQVN0TCxTQUFVLFVBQVl3VCxTQU0xQyxJQUFWN2EsR0FBZWdDLEVBQUFuQyxRQUFBa04sY0FBQ3VyRSxHQUFhMXlFLE1BQVNBLEdBQU81RCxFQUFBbkMsUUFBQWtOLGNBQUNvc0QsRUFBQXQ1RCxTQUFVdVAsY0FBZXBFLEtBQUt2SixNQUFNMk4sY0FBZThFLFVBQVdsSixLQUFLdkosTUFBTXlTLFVBQVd0SixTQUFVSSxLQUFLdkosTUFBTW1KLFNBQVVxaEMsZUFBZ0JqaEMsS0FBS2loQyxlQUFnQnY0QixZQUFhMUksS0FBS0ksTUFBTTRoQyxLQUFNNThCLFNBQVVwRixLQUFLSSxNQUFNZ0YsWUFDelBwRixLQUFLSSxNQUFNZ0YsU0FBU3dLLElBQUksU0FBQzR5QixFQUFnQnYrQixHQUNsQyxNQUNJalAsS0FBVWlQLEVBQUssR0FBS2pOLEVBQUFuQyxRQUFBa04sY0FBQ3VyRSxHQUFhMXlFLE1BQVNBLEVBQU84TCxVQUFXbkYsRUFBUWlHLFdBQVd4USxFQUFBbkMsUUFBQWtOLGNBQUNrOUIsRUFBQXBxQyxTQUFhdVAsY0FBZTZCLEVBQUt4UCxNQUFNMk4sY0FBZThFLFVBQVdqRCxFQUFLeFAsTUFBTXlTLFVBQVd0SixTQUFVcUcsRUFBS3hQLE1BQU1tSixTQUFVcWhDLGVBQWdCaDdCLEVBQUtnN0IsZUFBZ0J3QixZQUFZLEVBQU1ULEtBQU0vN0IsRUFBSzdGLE1BQU00aEMsS0FBSy85QixHQUFLbUIsU0FBVW85QixRQU0vU3hpQyxLQUFLSSxNQUFNaUYsU0FDWHJPLEVBQUFuQyxRQUFBa04sY0FBQSxXQUNJL0ssRUFBQW5DLFFBQUFrTixjQUFDMHJFLEVBQUE1NEUsU0FDR0csTUFBT0EsRUFBTzBoQixTQUFVMVcsS0FBSzZXLGFBQzdCb2EsZUFBZSxVQUNmZytDLFVBQVUsVUFDVjVtRSxRQUFRLGFBQ1J3bEUsY0FBYyxPQUNkdHNFLFNBQWFzc0UsY0FBZXRzRSxFQUFRc3NFLGdCQUVwQzcyRSxFQUFBbkMsUUFBQWtOLGNBQUM0ckUsRUFBQTk0RSxTQUFJOFMsT0FBU3hMLE1BQU8sU0FBV3VoQixNQUFNLGdCQUNyQzFkLEtBQUtJLE1BQU00aEMsS0FBS3B5QixJQUFJLFNBQUNDLEdBQ2xCLE1BQ0k3WSxHQUFBbkMsUUFBQWtOLGNBQUM0ckUsRUFBQTk0RSxTQUFJOFMsT0FBU3hMLE1BQU8sU0FBV3VoQixNQUFPN04sRUFBTSxxQkFJekQ3WSxFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQXVoQyxPQUFNNWxFLE9BQVMzTCxPQUFRLFFBQVM0TCxVQUFXLFNBQ3hDNVEsRUFBQW5DLFFBQUFrTixjQUFDcXFDLEVBQUF2M0MsU0FBaUI2UixVQUFXbkYsRUFBUXFzRSxTQUFVdm1FLEtBQU0sYXZDNHZpQjFFa25FLEd1Q3I2aUJpQi9xRSxVQUFNdUcsVUFpTDlCd2tFLEdBQWMvNkMsV0FDVmp5QixRQUFTa2pDLFVBQVVDLE9BQU9DLFlBSTlCNHBDLEVBQWM5NEQsYUFBZUEsRXZDd3ZpQmpDamhCLEVBQVFLLFN1Q3R2aUJXLEVBQUFvQyxFQUFBMFQsWUFBV2hRLEdBQVVpUSxXQUFXLElBQVEyakUsSXZDMHZpQnJEVyxLQUNBLFNBQVUzNkUsRUFBUUMsRUFBU0MsR0FFakMsWUFxREEsU0FBU0MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU1csR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBMkJDLEVBQU1DLEdBQVEsSUFBS0QsRUFBUSxLQUFNLElBQUlFLGdCQUFlLDREQUFnRSxRQUFPRCxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCRCxFQUFQQyxFQUVsTyxRQUFTRSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlQLFdBQVUsaUVBQW9FTyxHQUFlRCxHQUFTRSxVQUFZaEIsT0FBT2lCLE9BQU9GLEdBQWNBLEVBQVdDLFdBQWFFLGFBQWVuQixNQUFPZSxFQUFVWixZQUFZLEVBQU9FLFVBQVUsRUFBTUQsY0FBYyxLQUFlWSxJQUFZZixPQUFPbUIsZUFBaUJuQixPQUFPbUIsZUFBZUwsRUFBVUMsR0FBY0QsRUFBU00sVUFBWUwsR0FFamUsUUFBU2xCLEdBQWdCSCxFQUFLSSxFQUFLQyxHQUFpSyxNQUFwSkQsS0FBT0osR0FBT00sT0FBT0MsZUFBZVAsRUFBS0ksR0FBT0MsTUFBT0EsRUFBT0csWUFBWSxFQUFNQyxjQUFjLEVBQU1DLFVBQVUsSUFBa0JWLEVBQUlJLEdBQU9DLEVBQWdCTCxFQTFEM01NLE9BQU9DLGVBQWVWLEVBQVMsY0FDN0JRLE9BQU8sR0FHVCxJQUFJc0IsR0FBZSxXQUFjLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV3pCLFdBQWF5QixFQUFXekIsYUFBYyxFQUFPeUIsRUFBV3hCLGNBQWUsRUFBVSxTQUFXd0IsS0FBWUEsRUFBV3ZCLFVBQVcsR0FBTUosT0FBT0MsZUFBZXNCLEVBQVFJLEVBQVc3QixJQUFLNkIsSUFBaUIsTUFBTyxVQUFVcEIsRUFBYXFCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZTixFQUFpQmYsRUFBWVMsVUFBV1ksR0FBaUJDLEdBQWFQLEVBQWlCZixFQUFhc0IsR0FBcUJ0QixNd0MzZ2pCaGlCdUIsRUFBQXRDLEVBQUEsR3hDK2dqQkl1QyxFQUFVdEMsRUFBdUJxQyxHd0M5Z2pCckNvNEUsRUFBQTE2RSxFQUFBLEl4Q2toakJJMjZFLEVBQVkxNkUsRUFBdUJ5NkUsR3dDamhqQnZDbmpDLEVBQUF2M0MsRUFBQSxJQUNBMDNDLEVBQUExM0MsRUFBQSxJeENzaGpCSTIzQyxFQUFxQjEzQyxFQUF1QnkzQyxHd0NyaGpCaER4MEMsRUFBQWxELEVBQUEsSUFDQW9ELEVBQUFwRCxFQUFBLElBQ0FneEMsRUFBQWh4QyxFQUFBLEtBQ0FpRCxFQUFBakQsRUFBQSxJQUNBbzFDLEVBQUFwMUMsRUFBQSxLQUNBOHFDLEVBQUE5cUMsRUFBQSxLeEM4aGpCSStxQyxFQUFhOXFDLEVBQXVCNnFDLEd3QzdoakJ4Q3puQyxFQUFBckQsRUFBQSxJeENpaWpCSXNELEVBQVVyRCxFQUF1Qm9ELEd3Q2hpakJyQ3NuQyxFQUFBM3FDLEVBQUEsSXhDb2lqQkk0cUMsRUFBVTNxQyxFQUF1QjBxQyxHd0NuaWpCckNGLEVBQUF6cUMsRUFBQSxJeEN1aWpCSTBxQyxFQUFXenFDLEVBQXVCd3FDLEd3Q3RpakJ0QzVuQyxFQUFBN0MsRUFBQSxHeEMwaWpCSThDLEVBQWU3QyxFQUF1QjRDLEd3Q3ZpakJwQ3FELEVBQVMsU0FBQUMsR0FBQSxHQUFBeTBFLEVBQUEsUUFDYkMsS0FDRTV5RSxVQUFXLFVBRWI2eUUsU0FDRXB6RSxNQUFPdkIsRUFBTU8sUUFBUWtDLGVBQWVsQixNQUNwQ2IsTUFBTyxRQUVUazBFLE1BQ0VyekUsTUFBT3ZCLEVBQU1PLFFBQVFrQyxlQUFlbEIsTUFDcENFLFNBQVUsTUFDVm9CLFFBQVMsS0FFWDJ6QixRQUNFcDFCLE9BQVEsc0JBQ1J5Z0IsU0FBVSxzQkFDVnhnQixPQUFRLFVBQ1JTLFVBQVcsU0FDWEQsYUFBYyxPQUxoQixZQU1hLFVBRWJELGVBQ0VwQixXQUFZLFVBQ1p1QixRQUFTLE9BRVg4eUUsbUJBQ0VybUQsT0FBUSxxQkFFVnNtRCx5QkFDRXp6RSxPQUFRLFVBQ1JTLFVBQVcsVUFFYml6RSxpQkFDRXZkLFVBQVcsYUFDWDV4QixhQUFjLCtCQUZoQjFyQyxFQUFBdTZFLEVBQUEsZUFHZ0IscUNBSGhCdjZFLEVBQUF1NkUsRUFBQSxVQUlXLHVCQUpYdjZFLEVBQUF1NkUsRUFBQSxVQUtXLFFBTFh2NkUsRUFBQXU2RSxFQUFBLGVBTWdCLFFBTmhCdjZFLEVBQUF1NkUsRUFBQSxnQkFPaUIsT0FQakJBLEdBU0FPLHNCQUNFM3pFLE9BQVEscUJBQ1J3QixRQUFTLFFBRVhveUUsZUFDRS8wRSxRQUFTLE9BQ1RDLGNBQWUsU0FDZlMsV0FBWSxTQUNaUyxPQUFRLFdBRVY2ekUsbUJBQ0V4MEUsTUFBTyxxQkFDUFUsT0FBUSxxQkFDUmd3RSxLQUFNLFdBRVIrRCxXQUNFL0QsS0FBTSxZQUNOMXVFLFNBQVUsV0FDVk0sTUFBTyxLQUNQdkIsU0FBVSxPQUNWSixPQUFRLFdBRVYrekUsY0FDRTd6RSxNQUFPLE9BQ1BFLFNBQVUsU0FDVk0sUUFBUyxPQUVYc3pFLGtCQUNFNXpFLFNBQVUscUJBRVo2ekUsWUFDRXp5RSxRQUFTLEdBQ1R4QixPQUFRLGFBSU5rMEUsRXhDaWpqQk8sU0FBVXB3RSxHd0NoampCckIsUUFBQW93RSxHQUFZMTVFLEdBQU9uQixFQUFBMEssS0FBQW13RSxFQUFBLElBQUFsd0UsR0FBQXZLLEVBQUFzSyxNQUFBbXdFLEVBQUE5NUUsV0FBQXBCLE9BQUFpTCxlQUFBaXdFLElBQUF2NkUsS0FBQW9LLEtBQ1h2SixHQURXLE9BQUF3SixHQTRCbkJtd0Usd0JBQTBCLFNBQUNDLEdBSXpCLElBQUssR0FIREMsR0FBb0IsR0FBSWo5QixLQUN4Qms5QixFQUFtQixHQUFJbDlCLEtBRWxCMzhDLEVBQUksRUFBR0EsRUFBSTI1RSxFQUFtQjE1RSxPQUFRRCxJQUM3QzQ1RSxFQUFrQmxpQyxJQUFJaWlDLEVBQW1CMzVFLEdBQUd1TixJQUFJLEdBQ2hEc3NFLEVBQWlCbmlDLElBQUlpaUMsRUFBbUIzNUUsR0FBR3VOLElBQUksRUFHakRoRSxHQUFLSyxVQUNIK3ZFLHFCQUNBQyxvQkFDQUMsc0JBeENldHdFLEVBNENuQnV3RSxXQUFhLFdBQ1h2d0UsRUFBS0ssVUFBV3VHLE1BQU0sS0E3Q0w1RyxFQWdEbkI0VyxhQUFlLFNBQUEyQyxHQUNidlosRUFBS0ssVUFBVzQ3QyxZQUFhMWlDLEVBQUVoakIsT0FBT3hCLFNBakRyQmlMLEVBb0RuQnd3RSxZQUFjLFdBQ1p4d0UsRUFBS0ssVUFBV3VHLE1BQU0sRUFBTzZwRSx1QkFBd0J6d0UsRUFBS0csTUFBTXV3RSxzQkFyRC9DMXdFLEVBd0RuQjJ3RSxxQkFBdUIsU0FBQUMsR0FFckIsSUFBSTV3RSxFQUFLRyxNQUFNc3dFLHNCQUFmLENBSUEsR0FBTXpzRSxHQUFLNHNFLEVBQWtCNXNFLEdBQ3pCcXNFLEVBQW9CcndFLEVBQUtHLE1BQU1rd0UsaUJBQ25DQSxHQUFrQmxpQyxJQUFJbnFDLEdBQUksR0FFMUJoRSxFQUFLSyxVQUFXZ3dFLG9CQUFtQkksdUJBQXVCLEdBQVEsV0FDaEU1c0UsUUFBUUMsSUFBSThzRSxFQUFrQkMsYUFBYzd3RSxFQUFLRyxNQUFNNkQsSUFDdkRoRSxFQUFLSyxTQUFMeEwsS0FBaUJtUCxHQUFLLElBQ0UsUUFBcEIsRUFBQXZNLEVBQUF3SyxpQkFDRmpDLEVBQUtLLFVBQVdtdkMsV0FBVyxFQUFNRSxhQUFjLG1CQUUvQzF2QyxFQUFLSyxVQUFXbXZDLFdBQVcsRUFBTUUsYUFBYyw2QkFHdEMsSUFBUDFyQyxJQUNGLEVBQUF2TSxFQUFBcTVFLGFBQVksTUFDWixFQUFBcjVFLEVBQUFxNUUsYUFBWSxLQUNaanRFLFFBQVFDLElBQUksaUJBQ0ksSUFBUEUsSUFDVCxFQUFBdk0sRUFBQXE1RSxhQUFZLE1BQ1osRUFBQXI1RSxFQUFBcTVFLGFBQVksS0FDWmp0RSxRQUFRQyxJQUFJLG1CQUVaLEVBQUFyTSxFQUFBcTVFLGFBQVksTUFDWixFQUFBcjVFLEVBQUFxNUUsYUFBWSxLQUNaanRFLFFBQVFDLElBQUksa0JBR2Q5RCxFQUFLeEosTUFBTXdTLHFCQUVieWIsV0FBVyxXQUNULEdBQUk2ckQsR0FBbUJ0d0UsRUFBS0csTUFBTW13RSxnQkFDbENBLEdBQWlCbmlDLElBQUlucUMsR0FBSSxHQUN6QmhFLEVBQUtLLFVBQVdpd0UsbUJBQWtCSSxvQkFBb0IsS0FDckQsS0FDSGpzRCxXQUFXLGlCQUFNemtCLEdBQUt3d0UsZUFBZU8sbUNBaEdwQi93RSxFQW1HbkIyaUMsY0FBZ0IsV0FDZDNpQyxFQUFLSyxVQUFXbXZDLFdBQVcsS0FwR1Z4dkMsRUF1R25CZ3hFLHFCQUF1QixXQUVyQixNQUNtQyxpQkFBaENoeEUsRUFBS3hKLE1BQU00TCxVQUFVekYsUUFDckJxRCxFQUFLRyxNQUFNaXdFLG9CQUFzQnB3RSxFQUFLRyxNQUFNaXdFLG1CQUFtQjE1RSxPQUFTLEdBQ3hFc0osRUFBS0csTUFBTXV3RSxvQkF6R2Qxd0UsRUFBS0csT0FDSHlHLE1BQU0sRUFDTnExQyxZQUFhLEdBQ2JnMUIsY0FBZSxHQUNmQyxTQUFTLEVBQ1RsZ0MsT0FBTyxFQUNQMC9CLG9CQUFvQixFQUNwQlMsb0JBQW9CLEVBQ3BCZCxrQkFBbUIsR0FBSWo5QixLQUN2Qms5QixpQkFBa0IsR0FBSWw5QixLQUN0Qmc5QixzQkFDQTVnQyxXQUFXLEVBQ1hpaEMsdUJBQXVCLEdBR3pCenNDLFVBQU16ZSxJQUFPMmUsVUFBT0MsT0FBcEIsa0JBQ0dDLEtBQUssU0FBQUMsR0FDSnhnQyxRQUFRQyxJQUFJLG9CQUFxQnVnQyxFQUFTbDZCLE1BQzFDbkssRUFBS213RSx3QkFBd0I5ckMsRUFBU2w2QixRQUV2Q202QixNQUFNLFNBQUFsckIsR0FDTHZWLFFBQVFDLElBQUksNkJBQThCc1YsS0F4QjdCcFosRXhDa3pqQm5CLE1BalFBbkssR0FBVXE2RSxFQUFRcHdFLEdBaUhsQnpKLEVBQWE2NUUsSUFDWHA3RSxJQUFLLFNBQ0xDLE1BQU8sV3dDcGpqQkEsR0FBQWlSLEdBQUFqRyxLQUFBa0csRUFDb0JsRyxLQUFLdkosTUFBeEI4SyxFQUREMkUsRUFDQzNFLFFBQVMzRyxFQURWc0wsRUFDVXRMLEtBRWpCLE9BQ0U1RCxHQUFBbkMsUUFBQWtOLGNBQUEsT0FBSzJFLFVBQVduRixFQUFRK3RFLEtBQ3RCdDRFLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBNHJDLFdBQ0MzcUUsVUFBVzFHLEtBQUtpeEUsdUJBQXlCMXZFLEVBQVF5dUUsYUFBZXp1RSxFQUFReXVFLGFBQWUsSUFBTXp1RSxFQUFRMnVFLFdBQ3JHbHBFLFFBQVNoSCxLQUFLaXhFLHVCQUF5Qmp4RSxLQUFLd3dFLFdBQWE5aUMsa0JBRTNEMTJDLEVBQUFuQyxRQUFBa04sY0FBQ3F0RSxFQUFBdjZFLFNBQ0NvUCxHQUFHLGdCQUNINEMsS0FBTTdHLEtBQUtJLE1BQU15RyxLQUNqQkUsUUFBUy9HLEtBQUt5d0UsWUFDZGEsZ0JBQWdCLGlCQUNoQkMsZ0JBQWtCN3lFLElBQUssSUFDdkI4eUUsWUFDRTdwRSxPQUNFM0wsT0FBUSxPQUNSNEwsVUFBVyxNQUNYaEssTUFBTyxJQUNQeEMsV0FBWVIsRUFBTU8sUUFBUStELGdCQUFnQjdELEtBQzFDNHJDLFdBQVksaUJBQ1p4cUMsYUFBYyxJQUdsQjBwQixjQUNFQyxTQUFVLEdBQ1ZDLFdBQVksSUFFZEMsaUJBQ0VGLFNBQVUsR0FDVkMsV0FBWSxLQUdkcnZCLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsVUFBV25GLEVBQVFndUUsU0FDdEJ2NEUsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUs0RixPQUFTN00sUUFBUyxPQUFRMEMsWUFBYSxLQUFNb0ssVUFBVyxLQUFNbk0sV0FBWSxXQUM3RXpFLEVBQUFuQyxRQUFBa04sY0FBQ2lxQyxFQUFBNkgsWUFBV250QyxVQUFXbkYsRUFBUWl1RSxNQUEvQixhQUNBeDRFLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBbXNCLE9BQU01cUQsUUFBU2hILEtBQUt5d0UsWUFBYS9wRSxVQUFXbkYsRUFBUXd1RSxhQUV2RC80RSxFQUFBbkMsUUFBQWtOLGNBQUEsV0FDQS9LLEVBQUFuQyxRQUFBa04sY0FBQSxXQUNHL0IsS0FBS0ksTUFBTWl3RSxtQkFBbUJ6Z0UsSUFBSSxTQUFBaWhFLEdBQUEsTUFDakM3NUUsR0FBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXVCxFQUFLN0YsTUFBTXN3RSx1QkFBd0IsRUFBQW41RSxFQUFBMUMsU0FBVzBNLEVBQVFxdUUscUJBQXFCcnVFLEVBQVFvdUUsY0FBZ0JwdUUsRUFBUW91RSxhQUFjNTZFLElBQUs4N0UsRUFBa0I1c0UsS0FFM0pnQyxFQUFLN0YsTUFBTWt3RSxrQkFBa0I5cUQsSUFBSXFyRCxFQUFrQjVzRSxLQUNwRGpOLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRL0UsY0FBYytFLEVBQVE2dkIsT0FDdkRwNkIsRUFBQW5DLFFBQUFrTixjQUFDMGpDLEVBQUE0ckMsV0FBVTNxRSxVQUFXbkYsRUFBUXl1RSxnQkFJaEMvcEUsRUFBSzdGLE1BQU1rd0Usa0JBQWtCOXFELElBQUlxckQsRUFBa0I1c0UsTUFDbERnQyxFQUFLN0YsTUFBTW13RSxpQkFBaUIvcUQsSUFBSXFyRCxFQUFrQjVzRSxLQUNuRGpOLEVBQUFuQyxRQUFBa04sY0FBQSxPQUFLMkUsV0FBVyxFQUFBblAsRUFBQTFDLFNBQVcwTSxFQUFRbXVFLHdCQUF3Qm51RSxFQUFReUgsZUFDakVoUyxFQUFBbkMsUUFBQWtOLGNBQUNxcUMsRUFBQXYzQyxTQUFpQjZSLFVBQVduRixFQUFRdXVFLHFCQUl2QzdwRSxFQUFLN0YsTUFBTWt3RSxrQkFBa0I5cUQsSUFBSXFyRCxFQUFrQjVzRSxLQUNuRGdDLEVBQUs3RixNQUFNbXdFLGlCQUFpQi9xRCxJQUFJcXJELEVBQWtCNXNFLEtBQ2xEak4sRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxXQUFXLEVBQUFuUCxFQUFBMUMsU0FBVzBNLEVBQVFrdUUsa0JBQWtCbHVFLEVBQVE2dkIsT0FDM0RwNkIsRUFBQW5DLFFBQUFrTixjQUFDMGpDLEVBQUE2VSxNQUFLNXpDLFdBQVcsRUFBQW5QLEVBQUExQyxTQUFXME0sRUFBUTB1RSxpQkFBaUIxdUUsRUFBUXl1RSxpQkFHakVoNUUsRUFBQW5DLFFBQUFrTixjQUFBLE9BQUsyRSxVQUFXbkYsRUFBUXN1RSxjQUFlN29FLFFBQVMsaUJBQU1mLEdBQUsycUUscUJBQXFCQyxNQUUzRTVxRSxFQUFLN0YsTUFBTWt3RSxrQkFBa0I5cUQsSUFBSXFyRCxFQUFrQjVzRSxLQUNwRGpOLEVBQUFuQyxRQUFBa04sY0FBQ2lxQyxFQUFBNkgsWUFBV2xzQyxPQUFTeEwsTUFBT3ZCLEVBQU1PLFFBQVFrQyxlQUFlbEIsTUFBT3NCLFFBQVMsTUFBekUsUUFHQXdJLEVBQUs3RixNQUFNa3dFLGtCQUFrQjlxRCxJQUFJcXJELEVBQWtCNXNFLE1BQ2xEZ0MsRUFBSzdGLE1BQU1td0UsaUJBQWlCL3FELElBQUlxckQsRUFBa0I1c0UsS0FDbkRqTixFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQTZILFlBQVdsc0MsT0FBU3hMLE1BQU92QixFQUFNTyxRQUFRa0MsZUFBZWxCLE1BQU9zQixRQUFTLE1BQXpFLFdBR0F3SSxFQUFLN0YsTUFBTWt3RSxrQkFBa0I5cUQsSUFBSXFyRCxFQUFrQjVzRSxLQUNuRGdDLEVBQUs3RixNQUFNbXdFLGlCQUFpQi9xRCxJQUFJcXJELEVBQWtCNXNFLEtBQ2xEak4sRUFBQW5DLFFBQUFrTixjQUFDaXFDLEVBQUE2SCxZQUFXbHNDLE9BQVN4TCxNQUFPLFVBQVdzQixRQUFTLE1BQWhELFFBRUZ6RyxFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQTZILFlBQVdsc0MsT0FBU3hMLE1BQU92QixFQUFNTyxRQUFRa0MsZUFBZWxCLFFBQVUwMEUsRUFBa0JDLGVBRXZGOTVFLEVBQUFuQyxRQUFBa04sY0FBQzBqQyxFQUFBZ3NDLFVBQVM5cEUsT0FBUy9KLE1BQU8sS0FBTU4sU0FBVSxpQkFNcER0RyxFQUFBbkMsUUFBQWtOLGNBQUN5OUIsRUFBQTNxQyxTQUNDc3hCLGNBQ0VDLFNBQVUsU0FDVkMsV0FBWSxRQUVkdHhCLElBQUtpTCxLQUFLSSxNQUFNdXZDLGFBQ2hCOW9DLEtBQU03RyxLQUFLSSxNQUFNcXZDLFVBQ2pCOU0saUJBQWtCLElBQ2xCNTdCLFFBQVMvRyxLQUFLNGlDLGNBQ2RDLGNBQ0VDLG1CQUFvQixjQUV0QnovQixRQUFTck0sRUFBQW5DLFFBQUFrTixjQUFBLFFBQU1rQyxHQUFJakUsS0FBS0ksTUFBTXV2QyxjQUFlM3ZDLEtBQUtJLE1BQU11dkMsY0FDeER0ekIsUUFDRXJsQixFQUFBbkMsUUFBQWtOLGNBQUNpcUMsRUFBQTBsQyxZQUNDMzhFLElBQUksUUFDSmtTLGFBQVcsUUFDWDlLLE1BQU0sVUFDTnVLLFVBQVduRixFQUFRMmIsTUFDbkJsVyxRQUFTaEgsS0FBSzRpQyxlQUVkNXJDLEVBQUFuQyxRQUFBa04sY0FBQ2hLLEVBQUFsRCxRQUFELGV4Q3VsakJMczdFLEd3Q256akJZcG1FLGFBcU9mNG5FLEdBQW1CLEVBQUEzbEMsRUFBQXJoQyxZQUFXaFEsR0FBUXcxRSxHQUN0Q25tRSxFQUFrQixTQUFBNUosR0FBQSxPQUV0QmlDLFVBQVdqQyxFQUFNaUMsWUFHYjZILEVBQXFCLFNBQUFDLEdBQUEsT0FFekJ5bkUsYUFBYyxTQUFBeG5FLEdBQUEsTUFBU0QsSUFBUyxFQUFBeFMsRUFBQWk2RSxjQUFheG5FLE14QzBsakIvQzVWLEdBQVFLLFN3Q3RsakJPLEVBQUFnRCxFQUFBNlMsU0FDYlYsRUFDQUUsSUFDQSxFQUFBOGhDLEVBQUFyaEMsWUFBV2hRLEdBQVVpUSxXQUFXLElBQVErbUUsS3hDdWxqQnBDRSxLQUNBLFNBQVV0OUUsRUFBUUMsR3lDejZqQnhCRCxFQUFBQyxRQUFBLDB2RXpDKzZqQk1zOUUsS0FDQSxTQUFVdjlFLEVBQVFDLEcwQ2g3akJ4QkQsRUFBQUMsUUFBQSIsImZpbGUiOiIwLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbMF0se1xuXG4vKioqLyA2MDc0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX1R5cG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHlwb2dyYXBoeSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9Db250YWN0TGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblxudmFyIF9Db250YWN0TGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250YWN0TGlzdCk7XG5cbnZhciBfc2lwVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTtcblxudmFyIF9hY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cbnZhciBfY2FsbExvZ0FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NCk7XG5cbnZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX3JlYWN0Um91dGVyRG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBfQ2FsbFByZXBEZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTcpO1xuXG52YXIgX0NhbGxQcmVwRGV0YWlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxsUHJlcERldGFpbHMpO1xuXG52YXIgX1Bvc3RDYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDg2KTtcblxudmFyIF9Qb3N0Q2FsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb3N0Q2FsbCk7XG5cbnZhciBfSW5DYWxsRGV0YWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNjExNik7XG5cbnZhciBfSW5DYWxsRGV0YWlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbkNhbGxEZXRhaWxzKTtcblxudmFyIF9yZWFjdEhhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXG52YXIgX3JlYWN0SGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RIYW1tZXJqcyk7XG5cbnZhciBfTW9kYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblxudmFyIF9Nb2RhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RhbCk7XG5cbnZhciBfVG9vbHRpcCA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuXG52YXIgX1Rvb2x0aXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9vbHRpcCk7XG5cbnZhciBfRmFiID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjkpO1xuXG52YXIgX0ZhYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GYWIpO1xuXG52YXIgX05hdmlnYXRlTmV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQxKTtcblxudmFyIF9OYXZpZ2F0ZU5leHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTmF2aWdhdGVOZXh0KTtcblxudmFyIF9OYXZpZ2F0ZUJlZm9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzQwKTtcblxudmFyIF9OYXZpZ2F0ZUJlZm9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OYXZpZ2F0ZUJlZm9yZSk7XG5cbnZhciBfRHJhd2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzQpO1xuXG52YXIgX0RyYXdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EcmF3ZXIpO1xuXG52YXIgX0Fycm93RHJvcERvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Myk7XG5cbnZhciBfQXJyb3dEcm9wRG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcnJvd0Ryb3BEb3duKTtcblxudmFyIF9DdXN0b21lckRyYXdlck9wdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OCk7XG5cbnZhciBfS2V5UGFkV3JhcHBlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUxKTtcblxudmFyIF9LZXlQYWRXcmFwcGVkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0tleVBhZFdyYXBwZWQpO1xuXG52YXIgX1ZlcnRpY2FsVGltZUxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OSk7XG5cbnZhciBfVmVydGljYWxUaW1lTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WZXJ0aWNhbFRpbWVMaW5lKTtcblxudmFyIF9Wb2ljZW1haWxXcmFwcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTE3KTtcblxudmFyIF9Wb2ljZW1haWxXcmFwcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZvaWNlbWFpbFdyYXBwZXIpO1xuXG52YXIgX1RyYW5zY3JpcHRDaGF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDgxKTtcblxudmFyIF9UcmFuc2NyaXB0Q2hhdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2NyaXB0Q2hhdCk7XG5cbnZhciBfaGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cbnZhciBfQ3VzdG9tRm9vdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzMpO1xuXG52YXIgX0N1c3RvbUZvb3RlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21Gb290ZXIpO1xuXG52YXIgX0ZyZWRhQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG5cbnZhciBfVHJhbnNjcmlwdEJveCA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4MCk7XG5cbnZhciBfVHJhbnNjcmlwdEJveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2NyaXB0Qm94KTtcblxudmFyIF9jb21iaW5lU3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cbnZhciBfY29tYmluZVN0eWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lU3R5bGVzKTtcblxudmFyIF9iYXNlU3R5bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblxudmFyIF9iYXNlU3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFzZVN0eWxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgc3VtbWFyeURhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Myk7XG52YXIgdGVzdCA9IFwiQ3VzdG9tZXI6IEhpLiBIZWxsby4gSGV5LCBDb2xsZWN0b3I6IEkgd2FudGVkIHRvIG1ha2Ugc3VyZSB5b3UgcmVjZWl2ZWQgbXkgbm90ZS4gVGhlIHBheW1lbnQgd2FzIGR1ZSB5ZXN0ZXJkYXkuIERldGVjdGluZyBTcGVha2VyOiBnZXQgaXQgdW5kZXIgdGhlIHNlbmRlci4gSSdtIENvbGxlY3RvcjogSSBkaWRuJ3QgYSB0ZWxsIHlvdSBmb3Jnb3QuIEl0J3MgaW52b2ljZSBudW1iZXIgMzQ3LTQwMC00MDAwLiBJIHdpbGwgZW1haWwgeW91IHJpZ2h0IG5vdyBkb2VzIGEgcGVyc29uIGF0IG0uY29tIGVtYWlsIGFkZHJlc3Mgd29ya3MgYmVzdCBmb3IgeW91PyBDdXN0b21lcjogWWVhaCwgdGhhdCdzIGZpbmUuIENvbGxlY3RvcjogQmlnIEJlbmQgT2xpdmlhIGdvaW5nIHRvIG1lIHRvIG1lIHRoYXQgY2hlY2sgZm9yIHRoaXMgaW52b2ljZS4gQ3VzdG9tZXI6IEkgYWN0dWFsbHkgZG9uJ3QgaGF2ZSB0aGUgY2FzaCBmb3IgZGViYXRlIHJpZ2h0IG5vdy4gQ29sbGVjdG9yOiBPa2F5LCBJIHNlZSB3aGVuIHdlIHdpbGwgYmUgZ2V0dGluZyB5b3VyIG5leHQgcGF5bWVudC4gQ3VzdG9tZXI6IE5vcnRoZXJuIFRvb2wgaW4gdGhlIDIxc3QgYXQgeW91IHNlbmQgbWUgYSBjaGVjayBvciBUaHVyc2RheSB0aGUgMjJuZD8gSSB3b24ndCBDb2xsZWN0b3I6IDcgc2VlIGNhbiBiZSBhYmxlIHRvIHBheSB0aGUgd2hvbGUgdGhpbmcgZG9uZS4gQ29sbGVjdG9yOiBCdXQgaWYgeW91IHNlbmQgbWUgaGF2ZSB0byByZWdpc3RlciBhbmQgdGhlbiB1cCBhdCB0aGUgZW5kIG9mIHRoZSBtb250aC4gQ3VzdG9tZXI6IFRoYXQgYWN0dWFsbHkgbWlnaHQgd29yay4gQ29sbGVjdG9yOiBPa2F5LCBzb3VuZHMgZ29vZC4gSSdsbCBNYWxjb2xtIFggYW1hemluZyBtZSAkMiwwMDAgb24gVGh1cnNkYXkgdGhlIDIybmQgYW5kIEkgd2lsbCBmb2xsb3cgdXAgd2l0aCB5b3UgdGVzdGluZ1wiO1xudmFyIHRpbWVJbnRlcnZhbCA9IHZvaWQgMDtcbnZhciBhdmFpbGFibGVGaWx0ZXJPcGVyYXRpb25zID0gWydlcXVhbCcsICdub3RFcXVhbCcsICdncmVhdGVyVGhhbicsICdncmVhdGVyVGhhbk9yRXF1YWwnLCAnbGVzc1RoYW4nLCAnbGVzc1RoYW5PckVxdWFsJ107XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBhcHBGcmFtZToge1xuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgbWF4SGVpZ2h0OiBcIjEwMHZoXCJcbiAgICB9LFxuICAgIHJvb3Q6IHtcbiAgICAgIGJhY2tncm91bmRJbWFnZTogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLm1haW4sXG4gICAgICB3aWR0aDogXCI5My43NXZ3XCIsXG4gICAgICBtYXJnaW5SaWdodDogXCJhdXRvXCIsXG4gICAgICBtYXJnaW5MZWZ0OiBcImF1dG9cIixcbiAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICBwYWRkaW5nQm90dG9tOiBcIjBcIixcbiAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5XG5cbiAgICB9LFxuICAgIGhhbmdVcEljb25Jbmc6IHtcbiAgICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcbiAgICAgIHdpZHRoOiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG4gICAgY2FsbFRleHQ6IHtcbiAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcbiAgICAgIGZvbnRTaXplOiBcIjFyZW1cIlxuICAgIH0sXG4gICAgZGlhbHBhZEljb246IHtcbiAgICAgIGhlaWdodDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXG4gICAgICBwYWRkaW5nUmlnaHQ6IFwiMXJlbVwiXG4gICAgfSxcbiAgICB2b2ljZU1haWxJY29uOiB7XG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgYmFja2dyb3VuZDogXCIjNURBQUUwXCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICBwYWRkaW5nOiBcIjFweFwiXG4gICAgfSxcbiAgICBzdGF0dXM6IHtcbiAgICAgIGZvbnRTaXplOiBcIi43cmVtXCIsXG4gICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgekluZGV4OiBcIjZcIlxuICAgIH0sXG4gICAgZHVyYXRpb246IHtcbiAgICAgIG1hcmdpblJpZ2h0OiBcIi42cmVtXCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIGN1c3RvbWVyTmFtZToge1xuICAgICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6IFwiMS43OHJlbVwiLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICBsaW5lSGVpZ2h0OiBcIjIuMDVyZW1cIlxuICAgIH0sXG4gICAgY3VzdG9tZXJOdW1iZXI6IHtcbiAgICAgIGZvbnRGYW1pbHk6IHRoZW1lLmZvbnQudGl0bGUuZm9udEZhbWlseSxcbiAgICAgIGZvbnRTaXplOiBcIi44cmVtXCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgIH0sXG4gICAgdHJhbnNjcmlwdEJveDoge1xuICAgICAgaGVpZ2h0OiBcIjg2LjUwdmhcIixcbiAgICAgIC8vIHdpZHRoOiBcIjI1dmhcIixcbiAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluLFxuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICAgIH0sXG4gICAgdHJhbnNjcmlwdFRpdGxlOiB7XG4gICAgICBmb250U2l6ZTogXCIxLjJyZW1cIixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIC8vIHBhZGRpbmc6IFwiMmVtIDAgMmVtIDBcIlxuICAgICAgcGFkZGluZ0xlZnQ6IFwiMXJlbVwiLFxuICAgICAgb3BhY2l0eTogMC42NSxcbiAgICAgIHBhZGRpbmdUb3A6IFwiLjVyZW1cIixcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICBmb250RmFtaWx5OiBcIlJvYm90b1wiXG4gICAgfSxcbiAgICBuZXh0RmFiOiB7XG4gICAgICByaWdodDogdGhlbWUuc3BhY2luZy51bml0ICogMC4yNVxuICAgIH0sXG4gICAgcHJldkZhYjoge1xuICAgICAgbWFyZ2luTGVmdDogXCItMC41cmVtXCJcbiAgICB9LFxuICAgIGhhbmdVcEJ1dHRvbjoge1xuICAgICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgd2lkdGg6IFwiMi42NjY2NjY2NXJlbVwiXG4gICAgfSxcbiAgICBoYW5nVXBCdXR0b25JbWc6IHtcbiAgICAgIGhlaWdodDogXCIyLjY2NjY2NXJlbVwiLFxuICAgICAgd2lkdGg6IFwiMi42NjY2NjY2NXJlbVwiXG4gICAgfSxcbiAgICBkcm9wRG93bkljb246IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgfSxcbiAgICBkcm9wRG93bjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpblxuICAgIH0sXG5cbiAgICBtaWNPZmZJY29uSW1nOiB7XG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCJcbiAgICB9LFxuICAgIG1pY09mZkljb246IHtcbiAgICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcbiAgICAgIHdpZHRoOiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxuICAgICAgY29sb3I6IFwid2hpdGVcIlxuICAgIH0sXG5cbiAgICBjYWxsZWRDb250YWN0TmFtZToge1xuICAgICAgZm9udFNpemU6IFwiLjc2cmVtXCIsXG4gICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgbGluZUhlaWdodDogXCJub3JtYWxcIlxuICAgIH0sXG4gICAgY2FsbGVkVG9Db250YWN0RGl2OiB7XG4gICAgICB3aWR0aDogXCI4MCVcIlxuICAgIH0sXG4gICAgdHJhbnNjcmlwdEJveFBhcmVudDoge1xuICAgICAgcGFkZGluZ0JvdHRvbTogXCIwcHggIWltcG9ydGFudFwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiXG4gICAgfSxcbiAgICBjbG9zZVN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgdG9wOiBcIjElXCIsXG4gICAgICBsZWZ0OiBcIjUwJVwiLFxuICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgZm9udFNpemU6IDQ4LFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG4gICAgY3VzdG9tZXJIaXN0b3J5TW9kYWw6IHtcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICB3aWR0aDogXCI0NSVcIixcbiAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICBib3R0b206IFwiMFwiLFxuICAgICAgb3ZlcmZsb3dXcmFwOiBcImJyZWFrLXdvcmRcIixcbiAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICBib3hTaGFkb3c6IHRoZW1lLnNoYWRvd3NbNV0sXG4gICAgICBwYWRkaW5nTGVmdDogXCIxJVwiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgbGVmdDogXCI0LjIlXCJcbiAgICB9LFxuICAgIC8vbWVudSBcbiAgICBhY3Rpb25JY29uOiB7XG4gICAgICBmb250U2l6ZTogJzJyZW0nLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgfSxcbiAgICBhY3Rpb25CdXR0b246IHtcbiAgICAgIC8vIHBhZGRpbmcgOiBcIjElXCIsXG4gICAgICBoZWlnaHQ6IFwiNC4xNjZ2d1wiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjBweFwiLFxuICAgICAgd2lkdGg6IFwiNC4xNjZ2d1wiXG4gICAgfVxuXG4gIH07XG59O1xuXG52YXIgc2FsZXMgPSBnZXRSYW1kb21Sb3dzKCk7XG5cbmZ1bmN0aW9uIGdldFJhbWRvbVJvd3MoKSB7XG4gIHZhciByb3dzID0gW107XG4gIHZhciBpdGVtID0geyBcInByb2R1Y3RcIjogXCJoZWxsb1wiLCBcInJlZ2lvblwiOiBcIkFtZXJpY2FcIiwgXCJhbW91bnRcIjogXCI1XCIsIFwic2FsZURhdGVcIjogXCIwOS8wOS8xOTk2XCIsIFwiY3VzdG9tZXJcIjogXCJCYWxyYWpcIiB9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDEwMDA7IGkrKykge1xuICAgIHJvd3MucHVzaChpdGVtKTtcbiAgfVxuXG4gIHJldHVybiByb3dzO1xufVxuXG52YXIgSW5DYWxsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEluQ2FsbCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSW5DYWxsKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluQ2FsbCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW5DYWxsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5DYWxsKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMub3BlbkNvbnRhY3REcm9wZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5jb250YWN0T3BlbiA9PSB0cnVlKSBfdGhpcy5zZXRTdGF0ZSh7IGNvbnRhY3RPcGVuOiBmYWxzZSB9KTtlbHNlIF90aGlzLnNldFN0YXRlKHsgY29udGFjdE9wZW46IHRydWUgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnRvZ2dsZUNvbnRhY3RQb3BvdmVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNvbnRhY3RPcGVuOiB2YWx1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0Rm9ybWF0dGVkRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZHVyYXRpb24gPSBfdGhpcy5zdGF0ZS5jYWxsRHVyYXRpb24rKztcbiAgICAgIHZhciBociA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAzNjAwKTtcbiAgICAgIHZhciBtaW4gPSBNYXRoLmZsb29yKChkdXJhdGlvbiAtIGhyICogMzYwMCkgLyA2MCk7XG4gICAgICB2YXIgc2VjID0gTWF0aC5mbG9vcihkdXJhdGlvbiAtIGhyICogMzYwMCAtIG1pbiAqIDYwKTtcblxuICAgICAgaWYgKG1pbiA8IDEwKSB7XG4gICAgICAgIG1pbiA9IFwiMFwiICsgbWluO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VjIDwgMTApIHtcbiAgICAgICAgc2VjID0gXCIwXCIgKyBzZWM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtaW4gKyAnOicgKyBzZWM7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5Wb2ljZW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlzVm9pY2VtYWlsT3BlbjogIV90aGlzLnN0YXRlLmlzVm9pY2VtYWlsT3BlbiB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2VQb3BUaW1lbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgcG9wVGltZWxpbmU6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuUG9wVGltZWxpbmUgPSBmdW5jdGlvbiAocG9wVHlwZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBwb3BUaW1lbGluZTogdHJ1ZSwgcG9wVHlwZTogcG9wVHlwZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0VGltZWxpbmUgPSBmdW5jdGlvbiAocG9wVHlwZSkge1xuICAgICAgdmFyIGNsYXNzZXMgPSBfdGhpcy5wcm9wcy5jbGFzc2VzO1xuXG4gICAgICB2YXIgZXZlbnRzID0gXCJcIixcbiAgICAgICAgICBtYWluSGVhZGVyID0gXCJcIixcbiAgICAgICAgICBub0V2ZW50TXNnID0gXCJcIjtcbiAgICAgIGlmIChwb3BUeXBlID09PSBcIlBBWU1FTlRfSElTVE9SWVwiKSB7XG4gICAgICAgIGV2ZW50cyA9IF90aGlzLnN0YXRlLmN1c3RvbWVyLnBheW1lbnRzO1xuICAgICAgICAvLyBldmVudHM9dGhpcy5wYXltZW50cztcbiAgICAgICAgbWFpbkhlYWRlciA9IFwiUkVDRU5UIFBBWU1FTlRTXCI7XG4gICAgICAgIG5vRXZlbnRNc2cgPSBcIk5vIFBheW1lbnRzIGluIExhc3QgMzAgRGF5c1wiO1xuICAgICAgfVxuICAgICAgaWYgKHBvcFR5cGUgPT09IFwiQ09NTV9ISVNUT1JZXCIpIHtcbiAgICAgICAgZXZlbnRzID0gX3RoaXMuc3RhdGUuY29tbXVuaWNhdGlvbjtcbiAgICAgICAgLy8gZXZlbnRzPXRoaXMuY29tbXVuaWNhdGlvbjtcbiAgICAgICAgbWFpbkhlYWRlciA9IFwiQ09NTVVOSUNBVElPTiBISVNUT1JZXCI7XG4gICAgICAgIG5vRXZlbnRNc2cgPSBcIk5vIENvbW11bmljYXRpb24gSGlzdG9yeVwiO1xuICAgICAgICBmb3IgKHZhciBpIGluIGV2ZW50cykge1xuICAgICAgICAgIHZhciB0eXBlID0gZXZlbnRzW2ldLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICBpZiAodHlwZSA9PSBcIkNBTExcIikge1xuICAgICAgICAgICAgdmFyIHN0YXR1cyA9IGV2ZW50c1tpXS5jYWxsLnN0YXR1cztcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gXCItMTAwXCIpIHtcbiAgICAgICAgICAgICAgZXZlbnRzW2ldLmNvbW1UeXBlID0gXCJWT0lDRU1BSUxcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV2ZW50c1tpXS5jb21tVHlwZSA9IFwiQ0FMTFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIkNPUlJFU1BPTkRFTkNFXCIpIHtcbiAgICAgICAgICAgIGV2ZW50c1tpXS5jb21tVHlwZSA9IFwiTUFJTFwiO1xuICAgICAgICAgICAgZXZlbnRzW2ldLmN1c3RvbWVyTmFtZSA9IF90aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIChwb3BUeXBlID09IFwiQ09NTV9ISVNUT1JZXCIgfHwgcG9wVHlwZSA9PSBcIlBBWU1FTlRfSElTVE9SWVwiKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVmVydGljYWxUaW1lTGluZTIuZGVmYXVsdCwge1xuICAgICAgICAgIHBvcFR5cGU6IHBvcFR5cGUsXG4gICAgICAgICAgZXZlbnRzOiBldmVudHMsXG4gICAgICAgICAgbWFpbkhlYWRlcjogbWFpbkhlYWRlcixcbiAgICAgICAgICBub0V2ZW50TXNnOiBub0V2ZW50TXNnXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH07XG5cbiAgICBfdGhpcy50b2dnbGVNdXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBpc011dGVkOiAhX3RoaXMuc3RhdGUuaXNNdXRlZCB9KTtcbiAgICAgICgwLCBfc2lwVXRpbHMuc2lwVG9nZ2xlTXV0ZSkoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0RHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuY2FsbER1cmF0aW9uID09PSAwKSB7XG4gICAgICAgIHRpbWVJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDb25uZWN0ZWQgdG9cIikgX3RoaXMuc2V0U3RhdGUoeyBjYWxsRHVyYXRpb25JbkZvcm1hdDogX3RoaXMuZ2V0Rm9ybWF0dGVkRHVyYXRpb24oKSB9KTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmNsZWFySW50ZXJ2YWxPbkhhbmd1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZUludGVydmFsKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZ1VwID0gZnVuY3Rpb24gKCkge1xuICAgICAgKDAsIF9zaXBVdGlscy5zaXBIYW5ndXApKCk7XG4gICAgICAvLyB0aGlzLnByb3BzLmNoYW5nZUNhbGxTdGF0ZSh7IGNhbGxpbmc6IGZhbHNlLCBzdGF0dXMgOiBcIkNvbm5lY3RlZCB0b1wiIH0pXG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5Wb2ljZW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlzVm9pY2VtYWlsT3BlbjogIV90aGlzLnN0YXRlLmlzVm9pY2VtYWlsT3BlbiB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3dpdGNoVG9DYWxsUHJlcFBhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGNhbGxQcmVwUGFnZTogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3dpdGNoVG9DYWxsSW5DYWxsUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgY2FsbFByZXBQYWdlOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVm9pY2VtYWlsTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgLy9hZnRlciBmb3IgYWRkIGNhbGxlZF90b19uYW1lIG9yIG51bWJlciBpZiB1bmtub3cgdXNlciBhY2NvcmRpbmdseVxuXG4gICAgICB2YXIgY29udGFjdCA9IHZvaWQgMDtcbiAgICAgIHZhciBjYWxsZWROYW1lID0gX3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyBcIiBcIiArIF90aGlzLmNhbGxlZFRvTGFzdE5hbWU7XG5cbiAgICAgIGlmIChjYWxsZWROYW1lID09PSBcIlVua25vd24gXCIgfHwgY2FsbGVkTmFtZSA9PT0gXCJVbm5hbWVkIFVubmFtZWRcIikge1xuICAgICAgICBjb250YWN0ID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9OdW1iZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWN0ID0gY2FsbGVkTmFtZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lc3NhZ2UgPSAnVm9pY2VtYWlsIFBsYXllZCBmb3IgJyArIChjb250YWN0ID8gY29udGFjdCA6IFwiXCIpICsgJ1xcbic7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHsgdm9pY2VtYWlsUGxheWVkTWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMubXlSZWYgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlUmVmKCk7XG4gICAgX3RoaXMucHJvcHMuY2hhbmdlQ2FsbFN0YXRlKHsgY2FsbGluZzogdHJ1ZSwgc3RhdHVzOiBcIlwiIH0pO1xuICAgIHZhciBjb250YWN0SW5kZXggPSB2b2lkIDAsXG4gICAgICAgIGNhbGxlZFRvQ29udGFjdElkID0gdm9pZCAwO1xuICAgIGlmIChfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SW5kZXggIT0gbnVsbCkge1xuICAgICAgY29uc29sZS5sb2coXCJmaXJzdCBvbmVcIik7XG4gICAgICBjb25zb2xlLmxvZyhfdGhpcy5wcm9wcyk7XG4gICAgICBjb250YWN0SW5kZXggPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SW5kZXg7XG4gICAgICBjYWxsZWRUb0NvbnRhY3RJZCA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uaWQ7XG4gICAgICBfdGhpcy5jYWxsZWRUb051bWJlciA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyO1xuICAgICAgX3RoaXMuY2FsbGVkVG9GaXJzdE5hbWUgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmZpcnN0TmFtZTtcbiAgICAgIF90aGlzLmNhbGxlZFRvTGFzdE5hbWUgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmxhc3ROYW1lO1xuICAgICAgX3RoaXMuZW1haWxPZkNhbGxlZCA9IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZW1haWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKF90aGlzLnByb3BzKTtcbiAgICAgIGNvbnNvbGUubG9nKFwic2Vjb25kIG9uZVwiKTtcbiAgICAgIGNhbGxlZFRvQ29udGFjdElkID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdElkO1xuICAgICAgX3RoaXMuY2FsbGVkVG9OdW1iZXIgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jYWxsZWRUb051bWJlcjtcbiAgICAgIF90aGlzLmNhbGxlZFRvRmlyc3ROYW1lID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9GaXJzdE5hbWU7XG4gICAgICBfdGhpcy5jYWxsZWRUb0xhc3ROYW1lID0gX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9MYXN0TmFtZTtcbiAgICAgIF90aGlzLmVtYWlsT2ZDYWxsZWQgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5lbWFpbE9mQ2FsbGVkO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkVtYWlsIG9mIGNhbGxlZFwiLCBfdGhpcy5lbWFpbE9mQ2FsbGVkKTtcblxuICAgIF90aGlzLmNhbGxlZFRvRnVsbE5hbWUgPSBfdGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSArIFwiIFwiICsgX3RoaXMuY2FsbGVkVG9MYXN0TmFtZTtcbiAgICBpZiAoX3RoaXMuY2FsbGVkVG9GdWxsTmFtZSA9PT0gXCJVbmtub3duIFwiIHx8IF90aGlzLmNhbGxlZFRvRnVsbE5hbWUgPT09IFwiVW5uYW1lZCBVbm5hbWVkXCIpIHtcbiAgICAgIF90aGlzLmNhbGxlZFRvRnVsbE5hbWUgPSBfdGhpcy5jYWxsZWRUb051bWJlcjtcbiAgICB9XG4gICAgdmFyIGxvY2F0aW9uUHJvcHMgPSBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZTtcbiAgICB2YXIgYWNjb3VudCA9IF90aGlzLnByb3BzLmN1c3RvbWVycy5jdXN0b21lcnMuZmlsdGVyKGZ1bmN0aW9uIChjdXN0b21lcikge1xuICAgICAgcmV0dXJuIGN1c3RvbWVyLmlkID09IGxvY2F0aW9uUHJvcHMuYWNjb3VudElkO1xuICAgIH0pO1xuICAgIF90aGlzLnByb3BzLmNhbGxMb2coe1xuICAgICAgc3RhdHVzOiBcIlwiLFxuICAgICAgY29udGFjdDoge1xuICAgICAgICBpZDogY2FsbGVkVG9Db250YWN0SWRcbiAgICAgIH0sXG4gICAgICBjYWxsZWRUb051bWJlcjogX3RoaXMuY2FsbGVkVG9OdW1iZXIsXG4gICAgICBjb250YWN0SWQ6IGNhbGxlZFRvQ29udGFjdElkLFxuICAgICAgY2FsbGVkVG86IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvLFxuICAgICAgc3RhcnREYXRlVGltZTogbmV3IERhdGUoKVxuICAgIH0pO1xuICAgICgwLCBfRnJlZGFCdXR0b24uZGlzYWJsZUZyZWRhSW5DYWxsKSgpO1xuICAgICgwLCBfc2lwVXRpbHMuc2lwQ2FsbCkoX3RoaXMuY2FsbGVkVG9OdW1iZXIsIF90aGlzLnByb3BzLnVzZXIsIGFjY291bnQsIGxvY2F0aW9uUHJvcHMuY3VzdG9tZXIsIF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzKTtcbiAgICAvLyB3aGlsZSh0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nICE9IHRydWUpO1xuICAgIF90aGlzLnN0YXRlID0gX2RlZmluZVByb3BlcnR5KHtcbiAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgdm9pY2VtYWlsUGxheWVkTWVzc2FnZTogXCJcIixcbiAgICAgIHJlZGlyZWN0OiBmYWxzZSxcbiAgICAgIGNhbGxQcmVwUGFnZTogZmFsc2UsXG4gICAgICBjdXN0b21lcjogX3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY3VzdG9tZXIsXG4gICAgICBjb21tdW5pY2F0aW9uOiBfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb21tdW5pY2F0aW9uLFxuICAgICAgY2FsbER1cmF0aW9uOiAwLFxuICAgICAgY2FsbER1cmF0aW9uSW5Gb3JtYXQ6IFwiXCIsXG4gICAgICB0cmFuc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgc3VtbWFyeTogXCJbXVwiLFxuICAgICAgY29udGFjdE9wZW46IGZhbHNlLFxuICAgICAgY29sdW1uczogW3sgbmFtZTogJ3Byb2R1Y3QnLCB0aXRsZTogJ1Byb2R1Y3QnIH0sIHsgbmFtZTogJ3JlZ2lvbicsIHRpdGxlOiAnUmVnaW9uJyB9LCB7IG5hbWU6ICdhbW91bnQnLCB0aXRsZTogJ1NhbGUgQW1vdW50JyB9LCB7IG5hbWU6ICdzYWxlRGF0ZScsIHRpdGxlOiAnU2FsZSBEYXRlJyB9LCB7IG5hbWU6ICdjdXN0b21lcicsIHRpdGxlOiAnQ3VzdG9tZXInIH1dLFxuICAgICAgY3VycmVuY3lDb2x1bW5zOiBbJ2Ftb3VudCddLFxuICAgICAgcGFnZVNpemVzOiBbNSwgMTAsIDE1XSxcbiAgICAgIHJvd3M6IHNhbGVzLFxuICAgICAgaW52b2ljZXM6IF90aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzLFxuICAgICAgaXNWb2ljZW1haWxPcGVuOiBmYWxzZVxuICAgIH0sICd0cmFuc2NyaXB0aW9uJywgXCJcIik7XG5cbiAgICBjb25zb2xlLmxvZyhfdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5pbnZvaWNlcywgXCJpbiBpbmNhbGwgdXN1YWwgZmxvd1wiKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJbkNhbGwsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHt9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBjdXJyZW50VHJhbnNjcmlwdGlvbiA9IHRoaXMucHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xuICAgICAgdmFyIG5ld1RyYW5zY3JpcHRpb24gPSBuZXh0UHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xuICAgICAgaWYgKG5ld1RyYW5zY3JpcHRpb24gIT09IGN1cnJlbnRUcmFuc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0cmFuc2NyaXB0aW9uOiBuZXdUcmFuc2NyaXB0aW9uIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBuZXh0UHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge31cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcykge31cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfUmVhY3QkY3JlYXRlRWxlbWVudCxcbiAgICAgICAgICBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG5cblxuICAgICAgdmFyIG5leHRJZCA9IHBhcnNlSW50KHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmlkLCAxMCkgKyAxO1xuICAgICAgdmFyIHByZXZJZCA9IHBhcnNlSW50KHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmlkLCAxMCkgLSAxO1xuICAgICAgdmFyIG5leHRVcmwgPSBcIi9jYWxscHJlcC9cIiArIG5leHRJZDtcbiAgICAgIHZhciBwcmV2VXJsID0gXCIvY2FsbHByZXAvXCIgKyBwcmV2SWQ7XG4gICAgICB2YXIgY2FsbGVkVG9OYW1lSW5pdGlhbHMgPSAoMCwgX2hlbHBlci5nZXRJbml0aWFsc0Zyb21OYW1lKSh0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICsgJyAnICsgdGhpcy5jYWxsZWRUb0xhc3ROYW1lKTtcbiAgICAgIHZhciB4QXhpc0xhYmVsU3R5bGVzID0ge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgIGZvbnRTaXplOiBcIjEzcHhcIixcbiAgICAgICAgd2lkdGg6IFwiODAlXCJcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiQ29ubmVjdGVkIHRvXCIpIHtcbiAgICAgICAgdGhpcy5zZXREdXJhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBudWxsLFxuICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9yZWFjdEhhbW1lcmpzMi5kZWZhdWx0LFxuICAgICAgICAgIHsgb25Td2lwZUxlZnQ6IHRoaXMuc3dpdGNoVG9DYWxsUHJlcFBhZ2UsIG9uU3dpcGVSaWdodDogdGhpcy5zd2l0Y2hUb0NhbGxJbkNhbGxQYWdlIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFwcEZyYW1lIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRHJhd2VyMi5kZWZhdWx0LCB7IHRvcEl0ZW1zOiAoMCwgX0N1c3RvbWVyRHJhd2VyT3B0aW9ucy5nZXRNZW51SXRlbXMpKGNsYXNzZXMsIHRoZW1lLCB0aGlzLm9wZW5Qb3BUaW1lbGluZSkgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRm9vdGVyMi5kZWZhdWx0LCBudWxsKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucm9vdCB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfTW9kYWwyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5wb3BUaW1lbGluZSxcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVBdXRvRm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlUG9wVGltZWxpbmVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jdXN0b21lckhpc3RvcnlNb2RhbCB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFRpbWVsaW5lKHRoaXMuc3RhdGUucG9wVHlwZSlcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyByb290OiBjbGFzc2VzLmNsb3NlU3R5bGUgfSxcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVBvcFRpbWVsaW5lXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9GYWIyLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgLy8gY29sb3I9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAsXG4gICAgICAgICAgICAgICAgICAgIHsgJ2FyaWEtbGFiZWwnOiAnQWRkJyxcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5wcmV2RmFiLCBjbGFzc2VzLmZhYkJ1dHRvbnMpLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRGYWIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnN3aXRjaFRvQ2FsbFByZXBQYWdlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9OYXZpZ2F0ZUJlZm9yZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IHRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID8gY2xhc3Nlcy5kaXNhYmxlZEFycm93aWNvbiA6IGNsYXNzZXMuYXJyb3dJY29uIH0pXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9GYWIyLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgLy8gY29sb3I9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAsXG4gICAgICAgICAgICAgICAgICAgIHsgJ2FyaWEtbGFiZWwnOiAnQWRkJyxcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IGRpc2FibGVkOiBjbGFzc2VzLmRpc2FibGVkRmFiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMubmV4dEZhYiwgY2xhc3Nlcy5mYWJCdXR0b25zKSxcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIXRoaXMuc3RhdGUuY2FsbFByZXBQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zd2l0Y2hUb0NhbGxJbkNhbGxQYWdlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9OYXZpZ2F0ZU5leHQyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiAhdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPyBjbGFzc2VzLmRpc2FibGVkQXJyb3dpY29uIDogY2xhc3Nlcy5hcnJvd0ljb24gfSlcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCB4czogMTIsIGp1c3RpZnk6ICdzcGFjZS1iZXR3ZWVuJywgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLCBzdHlsZTogeyBtYXJnaW5Ub3A6IFwiMS4xMnZoXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA1LCBzdHlsZTogeyBwYWRkaW5nTGVmdDogXCIwcHhcIiwgcGFkZGluZ1JpZ2h0OiBcIjBweFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWUubGVuZ3RoIDwgMjAgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub1dyYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZVxuICAgICAgICAgICAgICAgICAgICApIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX1Rvb2x0aXAyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgeyB0aXRsZTogdGhpcy5zdGF0ZS5jdXN0b21lci5jdXN0b21lck5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBub1dyYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jdXN0b21lck5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jdXN0b21lck51bWJlciB9LFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHNtOiA2LCBsZzogNiwgbWQ6IDYsIHhsOiA1LCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2ZsZXgtZW5kJyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgbGc6IDgsIG1kOiAxMCwgeGw6IDEwLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2ZsZXgtZW5kJywgc3R5bGU6IHsgbWFyZ2luUmlnaHQ6IFwiOC4zMzN2d1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHNtOiA5LCBsZzogOSwgbWQ6IDksIHhsOiA5LCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ3NwYWNlLWJldHdlZW4nLCBjbGFzc05hbWU6IGNsYXNzZXMuY2FsbEdyaWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGl0ZW06IHRydWUsIGxnOiA3LCBtZDogNywgeGw6IDcsIHN0eWxlOiB7IGN1cnNvcjogXCJwb2ludGVyXCIgfSwgb25DbGljazogdGhpcy5vcGVuQ29udGFjdERyb3Bkb3duLCBqdXN0aWZ5OiAnZmxleC1zdGFydCcsIGFsaWduSXRlbXM6ICdjZW50ZXInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmN1c3RvbWVySWNvbkNpcmNsZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgPT09IFwiVW5uYW1lZFwiICYmIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSA9PT0gXCJVbm5hbWVkXCIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJz8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICE9PSBcIlVubmFtZWRcIiAmJiB0aGlzLmNhbGxlZFRvTGFzdE5hbWUgIT09IFwiVW5uYW1lZFwiICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUudG9VcHBlckNhc2UoKS5jaGFyQXQoMCkgKyB0aGlzLmNhbGxlZFRvTGFzdE5hbWUudG9VcHBlckNhc2UoKS5jaGFyQXQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgbGc6IDcsIG1kOiA3LCB4bDogNywgY2xhc3NOYW1lOiBjbGFzc2VzLmNhbGxUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFyaWFudDogJ3NwYW4nLCBub1dyYXA6IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnN0YXR1cykgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNhbGxlZFRvQ29udGFjdERpdiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5vV3JhcDogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhbGxlZENvbnRhY3ROYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGVkVG9GdWxsTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuZHJvcERvd24sIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Fycm93RHJvcERvd24yLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kcm9wRG93bkljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5jb250YWN0SWNvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Db250YWN0TGlzdDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUZyb21DaGlsZDogdGhpcy50b2dnbGVDb250YWN0UG9wb3ZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RPcGVuOiB0aGlzLnN0YXRlLmNvbnRhY3RPcGVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkNvbnRhY3RzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RzOiB0aGlzLnN0YXRlLmN1c3RvbWVyLmNvbnRhY3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IHRoaXMuc3RhdGUuY3VzdG9tZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlczogdGhpcy5zdGF0ZS5pbnZvaWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldE5hbWVzOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmJ1Y2tldE5hbWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEN1c3RvbWVyVXJsOiB0aGlzLm5leHRVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGl0ZW06IHRydWUsIGxnOiA1LCBtZDogNSwgeGw6IDUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnZmxleC1lbmQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmR1cmF0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jYWxsRHVyYXRpb25JbkZvcm1hdFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLm1pY09mZkljb24sIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzTXV0ZWQgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLm1pY09mZkljb25JbWcsIHNyYzogJy90b3ZvL3N0YXRpYy91bm11dGUuc3ZnJywgb25DbGljazogdGhpcy50b2dnbGVNdXRlIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzTXV0ZWQgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLm1pY09mZkljb25JbWcsIHNyYzogX193ZWJwYWNrX3JlcXVpcmVfXyg2MTE4KSwgb25DbGljazogdGhpcy50b2dnbGVNdXRlIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgYWxpZ246ICdyaWdodCcsIGNsYXNzTmFtZTogY2xhc3Nlcy5oYW5nVXBCdXR0b24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgKF9SZWFjdCRjcmVhdGVFbGVtZW50ID0geyBjbGFzc05hbWU6IGNsYXNzZXMuaGFuZ1VwQnV0dG9uSW1nLCBvbkNsaWNrOiB0aGlzLmhhbmdVcCB9LCBfZGVmaW5lUHJvcGVydHkoX1JlYWN0JGNyZWF0ZUVsZW1lbnQsICdjbGFzc05hbWUnLCBjbGFzc2VzLmhhbmdVcEljb25JbmcpLCBfZGVmaW5lUHJvcGVydHkoX1JlYWN0JGNyZWF0ZUVsZW1lbnQsICdzcmMnLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMTkpKSwgX1JlYWN0JGNyZWF0ZUVsZW1lbnQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuZGlhbHBhZEljb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9LZXlQYWRXcmFwcGVkMi5kZWZhdWx0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5iYXNlSWNvblNpemUsIGN1c3RvbWVyOiB0aGlzLnN0YXRlLmN1c3RvbWVyIH0pXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy52b2ljZU1haWxJY29uLCBjbGFzc2VzLmJhc2VJY29uU2l6ZSkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Wb2ljZW1haWxXcmFwcGVyMi5kZWZhdWx0LCB7IGN1c3RvbWVyOiB0aGlzLnN0YXRlLmN1c3RvbWVyLCBvblZvaWNlbWFpbENsaWNrOiBmdW5jdGlvbiBvblZvaWNlbWFpbENsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlVm9pY2VtYWlsTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmIHRoaXMuc3RhdGUuY2FsbFByZXBQYWdlID09PSBmYWxzZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBtYXJnaW5Ub3A6IFwiMi4wMzd2aFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIHhzOiAxMiwgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLCBqdXN0aWZ5OiAnY2VudGVyJywgc3R5bGU6IHsgbWFyZ2luTGVmdDogXCIwcHhcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDgsIGFsaWduOiAnbGVmdCcsIHN0eWxlOiB7IHBhZGRpbmdUb3A6IFwiMFwiLCBwYWRkaW5nUmlnaHQ6IFwiMS4wNDF2d1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbkNhbGxEZXRhaWxzMi5kZWZhdWx0LCB7IGNvbGxlY3RvcjogdGhpcy5wcm9wcy51c2VyLCBlbWFpbE9mQ2FsbGVkOiB0aGlzLmVtYWlsT2ZDYWxsZWQsIGN1c3RvbWVyOiB0aGlzLnN0YXRlLmN1c3RvbWVyLCBpbnZvaWNlczogdGhpcy5zdGF0ZS5pbnZvaWNlcywgYnVja2V0TmFtZXM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuYnVja2V0TmFtZXMgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHhzOiA0LCBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNjcmlwdEJveFBhcmVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2NyaXB0Qm94Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNjcmlwdEJveCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9TY3JvbGw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0VGl0bGVDbGFzc05hbWU6IGNsYXNzZXMudHJhbnNjcmlwdFRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdENoYXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uOiB0aGlzLnN0YXRlLnRyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZFRvTmFtZUluaXRpYWxzOiBjYWxsZWRUb05hbWVJbml0aWFscyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckluaXRpYWxzOiAnTUUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0R3JpZElEOiAnbGl2ZS10cmFuc2NyaXB0aW9uLWdyaWQnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiB0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSA9PT0gdHJ1ZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DYWxsUHJlcERldGFpbHMyLmRlZmF1bHQsIHsgY3VzdG9tZXI6IHRoaXMuc3RhdGUuY3VzdG9tZXIgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IGZhbHNlICYmICh0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiQ2FsbCBGYWlsZWRcIiB8fCB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT0gXCJXcm9uZyBOdW1iZXJcIiB8fCB0aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT0gXCJVc2VyIEJ1c3lcIikgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXJEb20uUmVkaXJlY3QsIHtcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgIHBhdGhuYW1lOiBcIi9jYWxscHJlcC9cIiArIHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICAgIHN0YXRlOiB7IG9wZW5Db250YWN0czogdHJ1ZSwgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLnRvQ2FsbEN1c3RvbWVycyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKSxcbiAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gZmFsc2UgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1Bvc3RDYWxsMi5kZWZhdWx0LCB7XG4gICAgICAgICAgdm9pY2VtYWlsTWVzc2FnZTogdGhpcy5zdGF0ZS52b2ljZW1haWxQbGF5ZWRNZXNzYWdlLFxuICAgICAgICAgIGNhbGxEdXJhdGlvbjogdGhpcy5zdGF0ZS5jYWxsRHVyYXRpb24sXG4gICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLnRvQ2FsbEN1c3RvbWVycyxcbiAgICAgICAgICBuZXh0Q3VzdG9tZXJVcmw6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUubmV4dEN1c3RvbWVyVXJsLFxuICAgICAgICAgIG9uSGFuZ3VwOiB0aGlzLmNsZWFySW50ZXJ2YWxPbkhhbmd1cCxcbiAgICAgICAgICBpbnZvaWNlczogdGhpcy5zdGF0ZS5pbnZvaWNlcyxcbiAgICAgICAgICBjdXN0b21lcjogdGhpcy5zdGF0ZS5jdXN0b21lcixcbiAgICAgICAgICBjYWxsZWRUb05hbWU6IHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyBcIiBcIiArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZSxcbiAgICAgICAgICBidWNrZXROYW1lczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lcyxcbiAgICAgICAgICBjb2xsZWN0b3I6IHRoaXMucHJvcHMudXNlcixcbiAgICAgICAgICBjb250YWN0SW5kZXg6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdEluZGV4LFxuICAgICAgICAgIGNhbGxlZFRvTnVtYmVyOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyLFxuICAgICAgICAgIGluaXRpYWxUcmFuc2NyaXB0aW9uOiB0aGlzLnN0YXRlLnRyYW5zY3JpcHRpb25cbiAgICAgICAgfSksXG4gICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IGZhbHNlICYmIHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJUcnlpbmcgdG8gY29ubmVjdFwiICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyRG9tLlJlZGlyZWN0LCB7IHRvOiB7XG4gICAgICAgICAgICAgIHBhdGhuYW1lOiAnL2NhbGxwcmVwLycgKyB0aGlzLnN0YXRlLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgICBzdGF0ZTogeyBvcGVuQ29udGFjdHM6IGZhbHNlLCB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzIH1cbiAgICAgICAgICAgIH0gfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSW5DYWxsO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuXG4gICAgdXNlcjogc3RhdGUucGVyc29uYWxEZXRhaWxzLFxuICAgIGNhbGxTdGF0ZTogc3RhdGUuY2FsbFN0YXRlLFxuICAgIHRyYW5zY3JpcHRpb246IHN0YXRlLnRyYW5zY3JpcHRpb24sXG4gICAgY3VzdG9tZXJzOiBzdGF0ZS5jdXN0b21lcnNcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBjaGFuZ2VDYWxsU3RhdGU6IGZ1bmN0aW9uIGNoYW5nZUNhbGxTdGF0ZShkYXRhKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmNoYW5nZUNhbGxTdGF0ZSkoZGF0YSkpO1xuICAgIH0sXG4gICAgY2hhbmdlU3RhdHVzOiBmdW5jdGlvbiBjaGFuZ2VTdGF0dXMoZGF0YSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfYWN0aW9ucy5jaGFuZ2VTdGF0dXMpKGRhdGEpKTtcbiAgICB9LFxuICAgIGNoYW5nZVRyYW5zY3JpcHRpb246IGZ1bmN0aW9uIGNoYW5nZVRyYW5zY3JpcHRpb24oZGF0YSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfYWN0aW9ucy5jaGFuZ2VUcmFuc2NyaXB0aW9uKShkYXRhKSk7XG4gICAgfSxcbiAgICBjYWxsTG9nOiBmdW5jdGlvbiBjYWxsTG9nKGRhdGEpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2NhbGxMb2dBY3Rpb25zLmFkZEluaXRpYWxDYWxsTG9nKShkYXRhKSk7XG4gICAgfVxuICB9O1xufTtcblxudmFyIGNvbWJpbmVkU3R5bGUgPSAoMCwgX2NvbWJpbmVTdHlsZXMyLmRlZmF1bHQpKHN0eWxlcywgX2Jhc2VTdHlsZTIuZGVmYXVsdCk7XG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKCgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEluQ2FsbCkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA3NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2RhdGVfZm5zX2FkZERheXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9kYXRlX2Zuc19hZGRNb250aHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9kYXRlX2Zuc19hZGRZZWFyc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19kYXRlX2Zuc19kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9kYXRlX2Zuc19lYWNoRGF5T2ZJbnRlcnZhbF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9kYXRlX2Zuc19lbmRPZkRheV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODcpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9kYXRlX2Zuc19lbmRPZk1vbnRoX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2RhdGVfZm5zX2VuZE9mV2Vla19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODgpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9kYXRlX2Zuc19lbmRPZlllYXJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9kYXRlX2Zuc19nZXRIb3Vyc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfZGF0ZV9mbnNfZ2V0U2Vjb25kc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfZGF0ZV9mbnNfZ2V0WWVhcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfZGF0ZV9mbnNfaXNBZnRlcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2RhdGVfZm5zX2lzRXF1YWxfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X2RhdGVfZm5zX2lzU2FtZURheV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfZGF0ZV9mbnNfaXNWYWxpZF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfZGF0ZV9mbnNfcGFyc2VfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X2RhdGVfZm5zX3NldEhvdXJzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9kYXRlX2Zuc19zZXRNaW51dGVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9kYXRlX2Zuc19zZXRTZWNvbmRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9kYXRlX2Zuc19zZXRZZWFyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19kYXRlX2Zuc19zdGFydE9mRGF5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9kYXRlX2Zuc19zdGFydE9mTW9udGhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfZGF0ZV9mbnNfc3RhcnRPZldlZWtfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfZGF0ZV9mbnNfc3RhcnRPZlllYXJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI0KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxudmFyIERhdGVGbnNVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRlRm5zVXRpbHMoX2EpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IChfYSA9PT0gdm9pZCAwID8ge30gOiBfYSkubG9jYWxlO1xuICAgICAgICB0aGlzLmRhdGVUaW1lMTJoRm9ybWF0ID0gXCJNTU1NIGRvIGhoOm1tIGFhYWFcIjtcbiAgICAgICAgdGhpcy5kYXRlVGltZTI0aEZvcm1hdCA9IFwiTU1NTSBkbyBISDptbVwiO1xuICAgICAgICB0aGlzLnRpbWUxMmhGb3JtYXQgPSBcImhoOm1tIGFcIjtcbiAgICAgICAgdGhpcy50aW1lMjRoRm9ybWF0ID0gXCJISDptbVwiO1xuICAgICAgICB0aGlzLmRhdGVGb3JtYXQgPSBcIk1NTU0gZG9cIjtcbiAgICAgICAgdGhpcy5sb2NhbGUgPSBsb2NhbGU7XG4gICAgfVxuICAgIC8vIE5vdGU6IGRhdGUtZm5zIGlucHV0IHR5cGVzIGFyZSBtb3JlIGxlbmllbnQgdGhhbiB0aGlzIGFkYXB0ZXIsIHNvIHdlIG5lZWQgdG8gZXhwb3NlIG91ciBtb3JlXG4gICAgLy8gIHN0cmljdCBzaWduYXR1cmUgYW5kIGRlbGVnYXRlIHRvIHRoZSBtb3JlIGxlbmllbnQgc2lndGF0dXJlLiAgT3RoZXJ3aXNlLCB3ZSBoYXZlIGRvd25zdHJlYW0gdHlwZSBlcnJvcnMgdXBvbiB1c2FnZS5cbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmFkZERheXMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2RhdGVfZm5zX2FkZERheXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfZGF0ZV9mbnNfaXNWYWxpZF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERpZmYgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19kYXRlX2Zuc19kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQWZ0ZXIgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfZGF0ZV9mbnNfaXNBZnRlcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmUgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnN0YXJ0T2ZEYXkgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX2RhdGVfZm5zX3N0YXJ0T2ZEYXlfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5lbmRPZkRheSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9kYXRlX2Zuc19lbmRPZkRheV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldEhvdXJzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9kYXRlX2Zuc19nZXRIb3Vyc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnNldEhvdXJzID0gZnVuY3Rpb24gKHZhbHVlLCBjb3VudCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfZGF0ZV9mbnNfc2V0SG91cnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuc2V0TWludXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX2RhdGVfZm5zX3NldE1pbnV0ZXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvdW50KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0U2Vjb25kcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfZGF0ZV9mbnNfZ2V0U2Vjb25kc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnNldFNlY29uZHMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9kYXRlX2Zuc19zZXRTZWNvbmRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlLCBjb3VudCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzU2FtZURheSA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9kYXRlX2Zuc19pc1NhbWVEYXlfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFN0YXJ0T2ZNb250aCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfZGF0ZV9mbnNfc3RhcnRPZk1vbnRoX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0WWVhciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfZGF0ZV9mbnNfZ2V0WWVhcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnNldFllYXIgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9kYXRlX2Zuc19zZXRZZWFyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlLCBjb3VudCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmRhdGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZm9ybWF0U3RyaW5nKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X2RhdGVfZm5zX3BhcnNlX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlLCBmb3JtYXRTdHJpbmcsIG5ldyBEYXRlKCkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoZGF0ZSwgZm9ybWF0U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBmb3JtYXRTdHJpbmcsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNFcXVhbCA9IGZ1bmN0aW9uIChkYXRlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgaWYgKGRhdGUgPT09IG51bGwgJiYgY29tcGFyaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfZGF0ZV9mbnNfaXNFcXVhbF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc051bGwgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZSA9PT0gbnVsbDtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNBZnRlckRheSA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfZGF0ZV9mbnNfaXNBZnRlcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2RhdGVfZm5zX2VuZE9mRGF5X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQmVmb3JlRGF5ID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9kYXRlX2Zuc19pc0JlZm9yZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19kYXRlX2Zuc19zdGFydE9mRGF5X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQmVmb3JlWWVhciA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfZGF0ZV9mbnNfc3RhcnRPZlllYXJfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNBZnRlclllYXIgPSBmdW5jdGlvbiAoZGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2RhdGVfZm5zX2lzQWZ0ZXJfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9kYXRlX2Zuc19lbmRPZlllYXJfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZm9ybWF0TnVtYmVyID0gZnVuY3Rpb24gKG51bWJlclRvRm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBudW1iZXJUb0Zvcm1hdDtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TWludXRlcyA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0TW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNZXJpZGllbVRleHQgPSBmdW5jdGlvbiAoYW1wbSkge1xuICAgICAgICByZXR1cm4gYW1wbSA9PT0gXCJhbVwiID8gXCJBTVwiIDogXCJQTVwiO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXROZXh0TW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9kYXRlX2Zuc19hZGRNb250aHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgMSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFByZXZpb3VzTW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9kYXRlX2Zuc19hZGRNb250aHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgLTEpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5tZXJnZURhdGVBbmRUaW1lID0gZnVuY3Rpb24gKGRhdGUsIHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TWludXRlcyh0aGlzLnNldEhvdXJzKGRhdGUsIHRoaXMuZ2V0SG91cnModGltZSkpLCB0aGlzLmdldE1pbnV0ZXModGltZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRXZWVrZGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2RhdGVfZm5zX2VhY2hEYXlPZkludGVydmFsX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHtcbiAgICAgICAgICAgIHN0YXJ0OiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9kYXRlX2Zuc19zdGFydE9mV2Vla19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShub3csIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KSxcbiAgICAgICAgICAgIGVuZDogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19kYXRlX2Zuc19lbmRPZldlZWtfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkobm93LCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSlcbiAgICAgICAgfSwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pLm1hcChmdW5jdGlvbiAoZGF5KSB7IHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXksIFwiRUVFRUVFXCIsIHsgbG9jYWxlOiBfdGhpcy5sb2NhbGUgfSk7IH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRXZWVrQXJyYXkgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9kYXRlX2Zuc19zdGFydE9mV2Vla19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9kYXRlX2Zuc19zdGFydE9mTW9udGhfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSksIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICAgICAgdmFyIGVuZCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfZGF0ZV9mbnNfZW5kT2ZXZWVrX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfZGF0ZV9mbnNfZW5kT2ZNb250aF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlKSwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudCA9IHN0YXJ0O1xuICAgICAgICB2YXIgbmVzdGVkV2Vla3MgPSBbXTtcbiAgICAgICAgd2hpbGUgKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X2RhdGVfZm5zX2lzQmVmb3JlX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGN1cnJlbnQsIGVuZCkpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrTnVtYmVyID0gTWF0aC5mbG9vcihjb3VudCAvIDcpO1xuICAgICAgICAgICAgbmVzdGVkV2Vla3Nbd2Vla051bWJlcl0gPSBuZXN0ZWRXZWVrc1t3ZWVrTnVtYmVyXSB8fCBbXTtcbiAgICAgICAgICAgIG5lc3RlZFdlZWtzW3dlZWtOdW1iZXJdLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9kYXRlX2Zuc19hZGREYXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGN1cnJlbnQsIDEpO1xuICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmVzdGVkV2Vla3M7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFllYXJSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgIHZhciBzdGFydERhdGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9kYXRlX2Zuc19zdGFydE9mWWVhcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShzdGFydCk7XG4gICAgICAgIHZhciBlbmREYXRlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9kYXRlX2Zuc19lbmRPZlllYXJfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZW5kKTtcbiAgICAgICAgdmFyIHllYXJzID0gW107XG4gICAgICAgIHZhciBjdXJyZW50ID0gc3RhcnREYXRlO1xuICAgICAgICB3aGlsZSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfZGF0ZV9mbnNfaXNCZWZvcmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoY3VycmVudCwgZW5kRGF0ZSkpIHtcbiAgICAgICAgICAgIHllYXJzLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9kYXRlX2Zuc19hZGRZZWFyc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShjdXJyZW50LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geWVhcnM7XG4gICAgfTtcbiAgICAvLyBkaXNwbGF5aW5nIG1ldGhwZHNcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldENhbGVuZGFySGVhZGVyVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBcIk1NTU0geXl5eVwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFllYXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIFwieXl5eVwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERhdGVQaWNrZXJIZWFkZXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfZGF0ZV9mbnNfZm9ybWF0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGRhdGUsIFwiRUVFLCBNTU0gZFwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERhdGVUaW1lUGlja2VySGVhZGVyVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBcIk1NTSBkXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGF5VGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBcImRcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRIb3VyVGV4dCA9IGZ1bmN0aW9uIChkYXRlLCBhbXBtKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X2RhdGVfZm5zX2Zvcm1hdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShkYXRlLCBhbXBtID8gXCJoaFwiIDogXCJISFwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE1pbnV0ZVRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgXCJtbVwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFNlY29uZFRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9kYXRlX2Zuc19mb3JtYXRfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZGF0ZSwgXCJzc1wiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGF0ZUZuc1V0aWxzO1xufSgpKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChEYXRlRm5zVXRpbHMpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDc2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEYXRlUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRGF0ZVBpY2tlck1vZGFsJDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIklubGluZURhdGVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEYXRlUGlja2VySW5saW5lJDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRpbWVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUaW1lUGlja2VyTW9kYWwkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5saW5lVGltZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRpbWVQaWNrZXJJbmxpbmUkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRGF0ZVRpbWVQaWNrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEYXRlVGltZVBpY2tlck1vZGFsJDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIklubGluZURhdGVUaW1lUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRGF0ZVRpbWVQaWNrZXJJbmxpbmUkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQmFzZVBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEJhc2VQaWNrZXIkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ2FsZW5kYXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDYWxlbmRhciQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEYXlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEYXkkMTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVGltZVBpY2tlclZpZXdcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUaW1lUGlja2VyVmlldyQxOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDbG9ja1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENsb2NrJDE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXI7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDg5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Byb3BfdHlwZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19yZWFjdF90ZXh0X21hc2tfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA5MCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3JlYWN0X3RleHRfbWFza19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3JlYWN0X3RleHRfbWFza19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19tYXRlcmlhbF91aV9jb3JlX0ljb25CdXR0b25fX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fbWF0ZXJpYWxfdWlfY29yZV9JbnB1dEFkb3JubWVudF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fbWF0ZXJpYWxfdWlfY29yZV9JbnB1dEFkb3JubWVudF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19tYXRlcmlhbF91aV9jb3JlX0lucHV0QWRvcm5tZW50X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fbWF0ZXJpYWxfdWlfY29yZV9UZXh0RmllbGRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX21hdGVyaWFsX3VpX2NvcmVfVGV4dEZpZWxkX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX21hdGVyaWFsX3VpX2NvcmVfVGV4dEZpZWxkX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjgpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dBY3Rpb25zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dBY3Rpb25zX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0FjdGlvbnNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dDb250ZW50X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0OCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dDb250ZW50X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19tYXRlcmlhbF91aV9jb3JlX0RpYWxvZ0NvbnRlbnRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9rZXljb2RlX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfY3JlYXRlU3R5bGVzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19tYXRlcmlhbF91aV9jb3JlX1Rvb2xiYXJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19tYXRlcmlhbF91aV9jb3JlX1Rvb2xiYXJfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX21hdGVyaWFsX3VpX2NvcmVfVG9vbGJhcl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX21hdGVyaWFsX3VpX2NvcmVfVHlwb2dyYXBoeV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDkxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX3JlYWN0X3RyYW5zaXRpb25fZ3JvdXBfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX3JlYWN0X2RvbV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9yZWFjdF9kb21fX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfcmVhY3RfZG9tX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX21hdGVyaWFsX3VpX2NvcmVfUG9wb3Zlcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fbWF0ZXJpYWxfdWlfY29yZV9Qb3BvdmVyX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19tYXRlcmlhbF91aV9jb3JlX1BvcG92ZXJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fbWF0ZXJpYWxfdWlfY29yZV9QYXBlcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fbWF0ZXJpYWxfdWlfY29yZV9QYXBlcl9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fbWF0ZXJpYWxfdWlfY29yZV9QYXBlcl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoVGhlbWVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhUaGVtZV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFRoZW1lX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX21hdGVyaWFsX3VpX2NvcmVfVGFiX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX21hdGVyaWFsX3VpX2NvcmVfVGFiX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX21hdGVyaWFsX3VpX2NvcmVfVGFic19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX21hdGVyaWFsX3VpX2NvcmVfVGFic19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fbWF0ZXJpYWxfdWlfY29yZV9UYWJzX18pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgX2EgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVDb250ZXh0XCJdKShudWxsKSxcbiAgICBDb25zdW1lciA9IF9hLkNvbnN1bWVyLFxuICAgIFByb3ZpZGVyID0gX2EuUHJvdmlkZXI7XG5cbnZhciBNdWlQaWNrZXJzQ29udGV4dENvbnN1bWVyID0gQ29uc3VtZXI7XG5cbnZhciBNdWlQaWNrZXJzVXRpbHNQcm92aWRlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShNdWlQaWNrZXJzVXRpbHNQcm92aWRlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBNdWlQaWNrZXJzVXRpbHNQcm92aWRlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdXRpbHM6IG51bGxcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBVdGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBsb2NhbGUgPSBfYS5sb2NhbGUsXG4gICAgICAgIG1vbWVudCA9IF9hLm1vbWVudDtcbiAgICByZXR1cm4ge1xuICAgICAgdXRpbHM6IG5ldyBVdGlscyh7XG4gICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICBtb21lbnQ6IG1vbWVudFxuICAgICAgfSlcbiAgICB9O1xuICB9O1xuXG4gIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZTogdGhpcy5zdGF0ZS51dGlscyxcbiAgICAgIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgfSk7XG4gIH07XG5cbiAgIGZhbHNlID8gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICAgIHV0aWxzOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgbG9jYWxlOiBvbmVPZlR5cGUoW29iamVjdCwgc3RyaW5nXSksXG4gICAgY2hpbGRyZW46IG9uZU9mVHlwZShbZWxlbWVudC5pc1JlcXVpcmVkLCBhcnJheU9mKGVsZW1lbnQuaXNSZXF1aXJlZCldKS5pc1JlcXVpcmVkLFxuICAgIG1vbWVudDogZnVuY1xuICB9IDogdm9pZCAwO1xuICBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbG9jYWxlOiB1bmRlZmluZWQsXG4gICAgbW9tZW50OiB1bmRlZmluZWRcbiAgfTtcbiAgcmV0dXJuIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG5cbnZhciBjaGVja1V0aWxzID0gZnVuY3Rpb24gKHV0aWxzKSB7XG4gIGlmICghdXRpbHMpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBub3QgZmluZCB1dGlscyBpbiBjb250ZXh0LiBZb3UgZWl0aGVyIGEpIGZvcmdvdCB0byB3cmFwIHlvdXIgY29tcG9uZW50IHRyZWUgaW4gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXI7IG9yIGIpIG1peGVkIG5hbWVkIGFuZCBkaXJlY3QgZmlsZSBpbXBvcnRzLiAgUmVjb21tZW5kYXRpb246IHVzZSBuYW1lZCBpbXBvcnRzIGZyb20gdGhlIG1vZHVsZSBpbmRleC4nKTtcbiAgfVxufTtcblxudmFyIHdpdGhVdGlscyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChDb21wb25lbnQkJDEpIHtcbiAgICB2YXIgV2l0aFV0aWxzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoTXVpUGlja2Vyc0NvbnRleHRDb25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKHV0aWxzKSB7XG4gICAgICAgIGNoZWNrVXRpbHModXRpbHMpO1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ29tcG9uZW50JCQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgIH0sIHByb3BzKSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgV2l0aFV0aWxzLmRpc3BsYXlOYW1lID0gXCJXaXRoVXRpbHMoXCIgKyAoQ29tcG9uZW50JCQxLmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudCQkMS5uYW1lKSArIFwiKVwiO1xuICAgIHJldHVybiBXaXRoVXRpbHM7XG4gIH07XG59O1xuXG52YXIgZ2V0SW5pdGlhbERhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gX2EuaW5pdGlhbEZvY3VzZWREYXRlO1xuICB2YXIgaW5pdGlhbERhdGUgPSB2YWx1ZSB8fCBpbml0aWFsRm9jdXNlZERhdGUgfHwgdXRpbHMuZGF0ZSgpO1xuICB2YXIgZGF0ZSA9IHV0aWxzLmRhdGUoaW5pdGlhbERhdGUpO1xuICByZXR1cm4gdXRpbHMuaXNWYWxpZChkYXRlKSA/IGRhdGUgOiB1dGlscy5kYXRlKCk7XG59O1xuXG52YXIgQmFzZVBpY2tlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShCYXNlUGlja2VyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEJhc2VQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRhdGU6IGdldEluaXRpYWxEYXRlKF90aGlzLnByb3BzKSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGZhbHNlXG4gICAgfTtcblxuICAgIF90aGlzLmNoYW5nZURhdGUgPSBmdW5jdGlvbiAoZGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRhdGU6IGRhdGVcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UgPSBmdW5jdGlvbiAoaXNBY2NlcHRlZCwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWRcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucHJvcHMub25DaGFuZ2UobnVsbCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjY2VwdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5vbkNoYW5nZShfdGhpcy5zdGF0ZS5kYXRlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU2V0VG9kYXlEYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNoYW5nZShfdGhpcy5wcm9wcy51dGlscy5kYXRlKCksIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlID0gX2EubWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZTtcblxuICAgICAgaWYgKG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2UpIHtcbiAgICAgICAgZGF0ZSA9IHV0aWxzLm1lcmdlRGF0ZUFuZFRpbWUoX3RoaXMuc3RhdGUuZGF0ZSwgZGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRlID09PSBudWxsKSB7XG4gICAgICAgIG9uQ2hhbmdlKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuY2hhbmdlRGF0ZShkYXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlKGRhdGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucGljazEyaE9yMjRoRm9ybWF0ID0gZnVuY3Rpb24gKGRlZmF1bHQxMmhGb3JtYXQsIGRlZmF1bHQyNGhGb3JtYXQpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBhbXBtID0gX2EuYW1wbTtcblxuICAgICAgaWYgKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gZm9ybWF0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYW1wbSA/IGRlZmF1bHQxMmhGb3JtYXQgOiBkZWZhdWx0MjRoRm9ybWF0O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAobmV3RGF0ZSwgaXNGaW5pc2gpIHtcbiAgICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlzRmluaXNoID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b09rID0gX2EuYXV0b09rLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2U7XG5cbiAgICAgIF90aGlzLmNoYW5nZURhdGUobmV3RGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNGaW5pc2ggJiYgYXV0b09rKSB7XG4gICAgICAgICAgb25DaGFuZ2UobmV3RGF0ZSk7IC8vIHBhc3MgZG93biBhY2NlcHQgdHJ1ZSwgYW5kIG1ha2UgaXQgZmFsc2UgaW4gdGhlIG5leHQgdGlja1xuXG4gICAgICAgICAgX3RoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UodHJ1ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUFjY2VwdGVkQ2hhbmdlKGZhbHNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZURpc21pc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRhdGU6IGdldEluaXRpYWxEYXRlKF90aGlzLnByb3BzKVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEJhc2VQaWNrZXIucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBfYS5pbml0aWFsRm9jdXNlZERhdGU7XG5cbiAgICBpZiAocHJldlByb3BzLnZhbHVlICE9PSB2YWx1ZSB8fCBwcmV2UHJvcHMudXRpbHMubG9jYWxlICE9PSB1dGlscy5sb2NhbGUgfHwgcHJldlByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSAhPT0gaW5pdGlhbEZvY3VzZWREYXRlKSB7XG4gICAgICB0aGlzLmNoYW5nZURhdGUoZ2V0SW5pdGlhbERhdGUodGhpcy5wcm9wcykpO1xuICAgIH1cbiAgfTtcblxuICBCYXNlUGlja2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4oT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHRoaXMuc3RhdGUsIHtcbiAgICAgIHV0aWxzOiB0aGlzLnByb3BzLnV0aWxzLFxuICAgICAgY2hhbmdlRGF0ZTogdGhpcy5jaGFuZ2VEYXRlLFxuICAgICAgaGFuZGxlQWNjZXB0ZWRDaGFuZ2U6IHRoaXMuaGFuZGxlQWNjZXB0ZWRDaGFuZ2UsXG4gICAgICBoYW5kbGVDbGVhcjogdGhpcy5oYW5kbGVDbGVhcixcbiAgICAgIGhhbmRsZUFjY2VwdDogdGhpcy5oYW5kbGVBY2NlcHQsXG4gICAgICBoYW5kbGVEaXNtaXNzOiB0aGlzLmhhbmRsZURpc21pc3MsXG4gICAgICBoYW5kbGVTZXRUb2RheURhdGU6IHRoaXMuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlOiB0aGlzLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdDogdGhpcy5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICBoYW5kbGVDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBCYXNlUGlja2VyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG52YXIgQmFzZVBpY2tlciQxID0gd2l0aFV0aWxzKCkoQmFzZVBpY2tlcik7XG5cbnZhciBkYXRlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19bXCJvbmVPZlR5cGVcIl0pKFtfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fW1wib2JqZWN0XCJdLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fW1wic3RyaW5nXCJdLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fW1wibnVtYmVyXCJdLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Byb3BfdHlwZXNfX1tcImluc3RhbmNlT2ZcIl0pKERhdGUpXSk7XG52YXIgRG9tYWluUHJvcFR5cGVzID0ge1xuICBkYXRlOiBkYXRlXG59O1xuXG52YXIgSW5wdXQgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoSW5wdXQsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gSW5wdXQoKSB7XG4gICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgSW5wdXQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBpbnB1dFJlZiA9IF9hLmlucHV0UmVmLFxuICAgICAgICBrZWVwQ2hhclBvc2l0aW9ucyA9IF9hLmtlZXBDaGFyUG9zaXRpb25zLFxuICAgICAgICByZXN0ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJpbnB1dFJlZlwiLCBcImtlZXBDaGFyUG9zaXRpb25zXCJdKTtcblxuICAgIHJldHVybiB0aGlzLnByb3BzLm1hc2sgPyBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfcmVhY3RfdGV4dF9tYXNrX19fZGVmYXVsdC5hLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcmVzdCwge1xuICAgICAga2VlcENoYXJQb3NpdGlvbnM6IGtlZXBDaGFyUG9zaXRpb25zLFxuICAgICAgcmVmOiBpbnB1dFJlZlxuICAgIH0pKSA6IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiaW5wdXRcIiwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHJlc3QsIHtcbiAgICAgIHJlZjogaW5wdXRSZWZcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gSW5wdXQucHJvcFR5cGVzID0ge1xuICAgIG1hc2s6IGFueSxcbiAgICBpbnB1dFJlZjogZnVuYy5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIElucHV0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtYXNrOiB1bmRlZmluZWRcbiAgfTtcbiAgcmV0dXJuIElucHV0O1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xuXG52YXIgZ2V0RGlzcGxheURhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgaW52YWxpZExhYmVsID0gX2EuaW52YWxpZExhYmVsLFxuICAgICAgZW1wdHlMYWJlbCA9IF9hLmVtcHR5TGFiZWwsXG4gICAgICBsYWJlbEZ1bmMgPSBfYS5sYWJlbEZ1bmM7XG4gIHZhciBpc0VtcHR5ID0gdmFsdWUgPT09IG51bGw7XG4gIHZhciBkYXRlID0gdXRpbHMuZGF0ZSh2YWx1ZSk7XG5cbiAgaWYgKGxhYmVsRnVuYykge1xuICAgIHJldHVybiBsYWJlbEZ1bmMoaXNFbXB0eSA/IG51bGwgOiBkYXRlLCBpbnZhbGlkTGFiZWwpO1xuICB9XG5cbiAgaWYgKGlzRW1wdHkpIHtcbiAgICByZXR1cm4gZW1wdHlMYWJlbDtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc1ZhbGlkKGRhdGUpID8gdXRpbHMuZm9ybWF0KGRhdGUsIGZvcm1hdCkgOiBpbnZhbGlkTGFiZWw7XG59O1xuXG52YXIgZ2V0RXJyb3IgPSBmdW5jdGlvbiAodmFsdWUsIHByb3BzKSB7XG4gIHZhciB1dGlscyA9IHByb3BzLnV0aWxzLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIG1heERhdGVNZXNzYWdlID0gcHJvcHMubWF4RGF0ZU1lc3NhZ2UsXG4gICAgICBtaW5EYXRlTWVzc2FnZSA9IHByb3BzLm1pbkRhdGVNZXNzYWdlLFxuICAgICAgaW52YWxpZERhdGVNZXNzYWdlID0gcHJvcHMuaW52YWxpZERhdGVNZXNzYWdlO1xuXG4gIGlmICghdXRpbHMuaXNWYWxpZCh2YWx1ZSkpIHtcbiAgICAvLyBpZiBudWxsIC0gZG8gbm90IHNob3cgZXJyb3JcbiAgICBpZiAodXRpbHMuaXNOdWxsKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHJldHVybiBpbnZhbGlkRGF0ZU1lc3NhZ2U7XG4gIH1cblxuICBpZiAobWF4RGF0ZSAmJiB1dGlscy5pc0FmdGVyKHZhbHVlLCB1dGlscy5lbmRPZkRheSh1dGlscy5kYXRlKG1heERhdGUpKSkgfHwgZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyKHZhbHVlLCB1dGlscy5lbmRPZkRheSh1dGlscy5kYXRlKCkpKSkge1xuICAgIHJldHVybiBtYXhEYXRlTWVzc2FnZTtcbiAgfVxuXG4gIGlmIChtaW5EYXRlICYmIHV0aWxzLmlzQmVmb3JlKHZhbHVlLCB1dGlscy5zdGFydE9mRGF5KHV0aWxzLmRhdGUobWluRGF0ZSkpKSB8fCBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZSh2YWx1ZSwgdXRpbHMuc3RhcnRPZkRheSh1dGlscy5kYXRlKCkpKSkge1xuICAgIHJldHVybiBtaW5EYXRlTWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiAnJztcbn07XG5cbnZhciBEYXRlVGV4dEZpZWxkID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKERhdGVUZXh0RmllbGQsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVRleHRGaWVsZCgpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0gRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZShfdGhpcy5wcm9wcyk7XG5cbiAgICBfdGhpcy5jb21taXRVcGRhdGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlLFxuICAgICAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgICAgICBvbkNsZWFyID0gX2Eub25DbGVhcixcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBvbkVycm9yID0gX2Eub25FcnJvcjtcblxuICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICBpZiAoX3RoaXMucHJvcHMudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlKF90aGlzLnByb3BzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2xlYXJhYmxlICYmIG9uQ2xlYXIpIHtcbiAgICAgICAgICBvbkNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvbGRWYWx1ZSA9IHV0aWxzLmRhdGUoX3RoaXMuc3RhdGUudmFsdWUpO1xuICAgICAgdmFyIG5ld1ZhbHVlID0gdXRpbHMucGFyc2UodmFsdWUsIGZvcm1hdCk7XG4gICAgICB2YXIgZXJyb3IgPSBnZXRFcnJvcihuZXdWYWx1ZSwgX3RoaXMucHJvcHMpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgZGlzcGxheVZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdmFsdWU6IGVycm9yID8gbmV3VmFsdWUgOiBvbGRWYWx1ZVxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWVycm9yICYmICF1dGlscy5pc0VxdWFsKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICBvbkNoYW5nZShuZXdWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IgJiYgb25FcnJvcikge1xuICAgICAgICAgIG9uRXJyb3IobmV3VmFsdWUsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmtleWJvYXJkKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBfdGhpcy5jb21taXRVcGRhdGVzKGUudGFyZ2V0LnZhbHVlKTtcblxuICAgICAgICBpZiAoX3RoaXMucHJvcHMub25CbHVyKSB7XG4gICAgICAgICAgX3RoaXMucHJvcHMub25CbHVyKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgICBvbklucHV0Q2hhbmdlID0gX2Eub25JbnB1dENoYW5nZTtcbiAgICAgIHZhciBwYXJzZWRWYWx1ZSA9IHV0aWxzLnBhcnNlKGUudGFyZ2V0LnZhbHVlLCBmb3JtYXQpO1xuXG4gICAgICBpZiAob25JbnB1dENoYW5nZSkge1xuICAgICAgICBvbklucHV0Q2hhbmdlKGUpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpc3BsYXlWYWx1ZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgIGVycm9yOiBnZXRFcnJvcihwYXJzZWRWYWx1ZSwgX3RoaXMucHJvcHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKCFfdGhpcy5wcm9wcy5rZXlib2FyZCkge1xuICAgICAgICBfdGhpcy5vcGVuUGlja2VyKGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5wcm9wcy5kaXNhYmxlT3Blbk9uRW50ZXIpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuUGlja2VyKGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmUgVE9ETyBjaGVjayBtZVxuICAgICAgICAgIF90aGlzLmNvbW1pdFVwZGF0ZXMoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5QaWNrZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljaztcblxuICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXRlVGV4dEZpZWxkLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnV0aWxzLmlzRXF1YWwodGhpcy5wcm9wcy52YWx1ZSwgcHJldlByb3BzLnZhbHVlKSB8fCBwcmV2UHJvcHMuZm9ybWF0ICE9PSB0aGlzLnByb3BzLmZvcm1hdCB8fCBwcmV2UHJvcHMubWF4RGF0ZSAhPT0gdGhpcy5wcm9wcy5tYXhEYXRlIHx8IHByZXZQcm9wcy5taW5EYXRlICE9PSB0aGlzLnByb3BzLm1pbkRhdGUgfHwgcHJldlByb3BzLmVtcHR5TGFiZWwgIT09IHRoaXMucHJvcHMuZW1wdHlMYWJlbCB8fCBwcmV2UHJvcHMudXRpbHMgIT09IHRoaXMucHJvcHMudXRpbHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoRGF0ZVRleHRGaWVsZC51cGRhdGVTdGF0ZSh0aGlzLnByb3BzKSk7XG4gICAgfVxuICB9O1xuXG4gIERhdGVUZXh0RmllbGQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBhZG9ybm1lbnRQb3NpdGlvbiA9IF9hLmFkb3JubWVudFBvc2l0aW9uLFxuICAgICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICBkaXNhYmxlT3Blbk9uRW50ZXIgPSBfYS5kaXNhYmxlT3Blbk9uRW50ZXIsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGVtcHR5TGFiZWwgPSBfYS5lbXB0eUxhYmVsLFxuICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgIElucHV0QWRvcm5tZW50UHJvcHMgPSBfYS5JbnB1dEFkb3JubWVudFByb3BzLFxuICAgICAgICBJbnB1dFByb3BzID0gX2EuSW5wdXRQcm9wcyxcbiAgICAgICAgaW52YWxpZERhdGVNZXNzYWdlID0gX2EuaW52YWxpZERhdGVNZXNzYWdlLFxuICAgICAgICBpbnZhbGlkTGFiZWwgPSBfYS5pbnZhbGlkTGFiZWwsXG4gICAgICAgIGtleWJvYXJkID0gX2Eua2V5Ym9hcmQsXG4gICAgICAgIGtleWJvYXJkSWNvbiA9IF9hLmtleWJvYXJkSWNvbixcbiAgICAgICAgbGFiZWxGdW5jID0gX2EubGFiZWxGdW5jLFxuICAgICAgICBtYXNrID0gX2EubWFzayxcbiAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgIG1heERhdGVNZXNzYWdlID0gX2EubWF4RGF0ZU1lc3NhZ2UsXG4gICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICBtaW5EYXRlTWVzc2FnZSA9IF9hLm1pbkRhdGVNZXNzYWdlLFxuICAgICAgICBvbkJsdXIgPSBfYS5vbkJsdXIsXG4gICAgICAgIG9uQ2xlYXIgPSBfYS5vbkNsZWFyLFxuICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcbiAgICAgICAgcGlwZSA9IF9hLnBpcGUsXG4gICAgICAgIGtlZXBDaGFyUG9zaXRpb25zID0gX2Eua2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIFRleHRGaWVsZENvbXBvbmVudCA9IF9hLlRleHRGaWVsZENvbXBvbmVudCxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgb25JbnB1dENoYW5nZSA9IF9hLm9uSW5wdXRDaGFuZ2UsXG4gICAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJhZG9ybm1lbnRQb3NpdGlvblwiLCBcImNsZWFyYWJsZVwiLCBcImRpc2FibGVkXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVPcGVuT25FbnRlclwiLCBcImRpc2FibGVQYXN0XCIsIFwiZW1wdHlMYWJlbFwiLCBcImZvcm1hdFwiLCBcIklucHV0QWRvcm5tZW50UHJvcHNcIiwgXCJJbnB1dFByb3BzXCIsIFwiaW52YWxpZERhdGVNZXNzYWdlXCIsIFwiaW52YWxpZExhYmVsXCIsIFwia2V5Ym9hcmRcIiwgXCJrZXlib2FyZEljb25cIiwgXCJsYWJlbEZ1bmNcIiwgXCJtYXNrXCIsIFwibWF4RGF0ZVwiLCBcIm1heERhdGVNZXNzYWdlXCIsIFwibWluRGF0ZVwiLCBcIm1pbkRhdGVNZXNzYWdlXCIsIFwib25CbHVyXCIsIFwib25DbGVhclwiLCBcIm9uQ2xpY2tcIiwgXCJwaXBlXCIsIFwia2VlcENoYXJQb3NpdGlvbnNcIiwgXCJUZXh0RmllbGRDb21wb25lbnRcIiwgXCJ1dGlsc1wiLCBcInZhbHVlXCIsIFwib25JbnB1dENoYW5nZVwiXSk7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnN0YXRlLFxuICAgICAgICBkaXNwbGF5VmFsdWUgPSBfYi5kaXNwbGF5VmFsdWUsXG4gICAgICAgIGVycm9yID0gX2IuZXJyb3I7XG4gICAgdmFyIGxvY2FsSW5wdXRQcm9wcyA9IHtcbiAgICAgIGlucHV0Q29tcG9uZW50OiBJbnB1dCxcbiAgICAgIGlucHV0UHJvcHM6IHtcbiAgICAgICAgbWFzazogIWtleWJvYXJkID8gbnVsbCA6IG1hc2ssXG4gICAgICAgIHBpcGU6ICFrZXlib2FyZCA/IG51bGwgOiBwaXBlLFxuICAgICAgICBrZWVwQ2hhclBvc2l0aW9uczogIWtleWJvYXJkID8gdW5kZWZpbmVkIDoga2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIHJlYWRPbmx5OiAha2V5Ym9hcmRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGtleWJvYXJkKSB7XG4gICAgICBsb2NhbElucHV0UHJvcHNbYWRvcm5tZW50UG9zaXRpb24gKyBcIkFkb3JubWVudFwiXSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fbWF0ZXJpYWxfdWlfY29yZV9JbnB1dEFkb3JubWVudF9fX2RlZmF1bHQuYSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgICBwb3NpdGlvbjogYWRvcm5tZW50UG9zaXRpb25cbiAgICAgIH0sIElucHV0QWRvcm5tZW50UHJvcHMpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fX2RlZmF1bHQuYSwge1xuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub3BlblBpY2tlclxuICAgICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0LmEsIG51bGwsIFwiIFwiLCBrZXlib2FyZEljb24sIFwiIFwiKSkpO1xuICAgIH1cblxuICAgIHZhciBDb21wb25lbnQkJDEgPSBUZXh0RmllbGRDb21wb25lbnQ7XG5cbiAgICB2YXIgaW5wdXRQcm9wcyA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBsb2NhbElucHV0UHJvcHMsIElucHV0UHJvcHMpO1xuXG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENvbXBvbmVudCQkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgb25DbGljazogdGhpcy5oYW5kbGVGb2N1cyxcbiAgICAgIGVycm9yOiAhIWVycm9yLFxuICAgICAgaGVscGVyVGV4dDogZXJyb3IsXG4gICAgICBvbktleVByZXNzOiB0aGlzLmhhbmRsZUtleVByZXNzLFxuICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICB2YWx1ZTogZGlzcGxheVZhbHVlXG4gICAgfSwgb3RoZXIsIHtcbiAgICAgIG9uRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgIElucHV0UHJvcHM6IGlucHV0UHJvcHNcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gRGF0ZVRleHRGaWVsZC5wcm9wVHlwZXMgPSB7XG4gICAgdmFsdWU6IG9uZU9mVHlwZShbb2JqZWN0LCBzdHJpbmcsIG51bWJlciwgaW5zdGFuY2VPZihEYXRlKV0pLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgZm9ybWF0OiBzdHJpbmcsXG4gICAgb25CbHVyOiBmdW5jLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgb25DbGVhcjogZnVuYyxcbiAgICBvbkNsaWNrOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2xlYXJhYmxlOiBib29sLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlZDogYm9vbCxcbiAgICBJbnB1dFByb3BzOiBzaGFwZSh7fSksXG4gICAgbWFzazogYW55LFxuICAgIG1pbkRhdGVNZXNzYWdlOiBub2RlLFxuICAgIG1heERhdGVNZXNzYWdlOiBub2RlLFxuICAgIGludmFsaWRMYWJlbDogc3RyaW5nLFxuICAgIGVtcHR5TGFiZWw6IHN0cmluZyxcbiAgICBsYWJlbEZ1bmM6IGZ1bmMsXG4gICAga2V5Ym9hcmQ6IGJvb2wsXG4gICAga2V5Ym9hcmRJY29uOiBub2RlLFxuICAgIGRpc2FibGVPcGVuT25FbnRlcjogYm9vbCxcbiAgICBpbnZhbGlkRGF0ZU1lc3NhZ2U6IG5vZGUsXG4gICAgVGV4dEZpZWxkQ29tcG9uZW50OiBvbmVPZlR5cGUoW3N0cmluZywgZnVuY10pLFxuICAgIElucHV0QWRvcm5tZW50UHJvcHM6IG9iamVjdCxcbiAgICBhZG9ybm1lbnRQb3NpdGlvbjogb25lT2YoWydzdGFydCcsICdlbmQnXSksXG4gICAgb25FcnJvcjogZnVuYyxcbiAgICBvbklucHV0Q2hhbmdlOiBmdW5jLFxuICAgIHBpcGU6IGZ1bmMsXG4gICAga2VlcENoYXJQb3NpdGlvbnM6IGJvb2xcbiAgfSA6IHZvaWQgMDtcbiAgRGF0ZVRleHRGaWVsZC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIGludmFsaWRMYWJlbDogJ1Vua25vd24nLFxuICAgIGVtcHR5TGFiZWw6ICcnLFxuICAgIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICAgIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICAgIGZvcm1hdDogdW5kZWZpbmVkLFxuICAgIElucHV0UHJvcHM6IHVuZGVmaW5lZCxcbiAgICBrZXlib2FyZDogZmFsc2UsXG4gICAgbWFzazogdW5kZWZpbmVkLFxuICAgIGtleWJvYXJkSWNvbjogJ2V2ZW50JyxcbiAgICBkaXNhYmxlT3Blbk9uRW50ZXI6IGZhbHNlLFxuICAgIGludmFsaWREYXRlTWVzc2FnZTogJ0ludmFsaWQgRGF0ZSBGb3JtYXQnLFxuICAgIGNsZWFyYWJsZTogZmFsc2UsXG4gICAgb25CbHVyOiB1bmRlZmluZWQsXG4gICAgb25DbGVhcjogdW5kZWZpbmVkLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBvbkVycm9yOiB1bmRlZmluZWQsXG4gICAgb25JbnB1dENoYW5nZTogdW5kZWZpbmVkLFxuICAgIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gICAgbWluRGF0ZU1lc3NhZ2U6ICdEYXRlIHNob3VsZCBub3QgYmUgYmVmb3JlIG1pbmltYWwgZGF0ZScsXG4gICAgbWF4RGF0ZU1lc3NhZ2U6ICdEYXRlIHNob3VsZCBub3QgYmUgYWZ0ZXIgbWF4aW1hbCBkYXRlJyxcbiAgICBUZXh0RmllbGRDb21wb25lbnQ6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fbWF0ZXJpYWxfdWlfY29yZV9UZXh0RmllbGRfX19kZWZhdWx0LmEsXG4gICAgSW5wdXRBZG9ybm1lbnRQcm9wczoge30sXG4gICAgYWRvcm5tZW50UG9zaXRpb246ICdlbmQnLFxuICAgIHBpcGU6IHVuZGVmaW5lZCxcbiAgICBrZWVwQ2hhclBvc2l0aW9uczogZmFsc2VcbiAgfTtcblxuICBEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgICAgIGRpc3BsYXlWYWx1ZTogZ2V0RGlzcGxheURhdGUocHJvcHMpLFxuICAgICAgZXJyb3I6IGdldEVycm9yKHByb3BzLnV0aWxzLmRhdGUocHJvcHMudmFsdWUpLCBwcm9wcylcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBEYXRlVGV4dEZpZWxkO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xuXG52YXIgRGF0ZVRleHRGaWVsZCQxID0gd2l0aFV0aWxzKCkoRGF0ZVRleHRGaWVsZCk7XG5cbnZhciBNb2RhbERpYWxvZyA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgb25LZXlEb3duID0gX2Eub25LZXlEb3duLFxuICAgICAgb25BY2NlcHQgPSBfYS5vbkFjY2VwdCxcbiAgICAgIG9uRGlzbWlzcyA9IF9hLm9uRGlzbWlzcyxcbiAgICAgIG9uQ2xlYXIgPSBfYS5vbkNsZWFyLFxuICAgICAgb25TZXRUb2RheSA9IF9hLm9uU2V0VG9kYXksXG4gICAgICBva0xhYmVsID0gX2Eub2tMYWJlbCxcbiAgICAgIGNhbmNlbExhYmVsID0gX2EuY2FuY2VsTGFiZWwsXG4gICAgICBjbGVhckxhYmVsID0gX2EuY2xlYXJMYWJlbCxcbiAgICAgIHRvZGF5TGFiZWwgPSBfYS50b2RheUxhYmVsLFxuICAgICAgY2xlYXJhYmxlID0gX2EuY2xlYXJhYmxlLFxuICAgICAgc2hvd1RvZGF5QnV0dG9uID0gX2Euc2hvd1RvZGF5QnV0dG9uLFxuICAgICAgc2hvd1RhYnMgPSBfYS5zaG93VGFicyxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzZXNcIiwgXCJvbktleURvd25cIiwgXCJvbkFjY2VwdFwiLCBcIm9uRGlzbWlzc1wiLCBcIm9uQ2xlYXJcIiwgXCJvblNldFRvZGF5XCIsIFwib2tMYWJlbFwiLCBcImNhbmNlbExhYmVsXCIsIFwiY2xlYXJMYWJlbFwiLCBcInRvZGF5TGFiZWxcIiwgXCJjbGVhcmFibGVcIiwgXCJzaG93VG9kYXlCdXR0b25cIiwgXCJzaG93VGFic1wiXSk7XG5cbiAgdmFyIF9iLCBfYywgX2Q7XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICByb2xlOiBcImRpYWxvZ1wiLFxuICAgIG9uQ2xvc2U6IG9uRGlzbWlzcyxcbiAgICBjbGFzc2VzOiB7XG4gICAgICBwYXBlcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMuZGlhbG9nUm9vdCwgKF9iID0ge30sIF9iW2NsYXNzZXMuZGlhbG9nV2l0aFRhYnNdID0gc2hvd1RhYnMsIF9iKSlcbiAgICB9XG4gIH0sIG90aGVyKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9yZWFjdF9ldmVudF9saXN0ZW5lcl9fX2RlZmF1bHQuYSwge1xuICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICBvbktleURvd246IG9uS2V5RG93blxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dDb250ZW50X19fZGVmYXVsdC5hLCB7XG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMuZGlhbG9nLCAoX2MgPSB7fSwgX2NbY2xhc3Nlcy5kaWFsb2dXaXRoVGFic10gPSBzaG93VGFicywgX2MpKVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fbWF0ZXJpYWxfdWlfY29yZV9EaWFsb2dBY3Rpb25zX19fZGVmYXVsdC5hLCB7XG4gICAgY2xhc3Nlczoge1xuICAgICAgcm9vdDogY2xlYXJhYmxlIHx8IHNob3dUb2RheUJ1dHRvbiA/IGNsYXNzZXMuZGlhbG9nQWN0aW9ucyA6IHVuZGVmaW5lZCxcbiAgICAgIGFjdGlvbjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19jbGFzc25hbWVzX19fZGVmYXVsdCgpKGNsYXNzZXMuZGlhbG9nQWN0aW9uLCAoX2QgPSB7fSwgX2RbY2xhc3Nlcy5jbGVhcmFibGVEaWFsb2dBY3Rpb25dID0gY2xlYXJhYmxlLCBfZFtjbGFzc2VzLnRvZGF5RGlhbG9nQWN0aW9uXSA9ICFjbGVhcmFibGUgJiYgc2hvd1RvZGF5QnV0dG9uLCBfZCkpXG4gICAgfVxuICB9LCBjbGVhcmFibGUgJiYgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fX2RlZmF1bHQuYSwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkNsZWFyXG4gIH0sIGNsZWFyTGFiZWwpLCAhY2xlYXJhYmxlICYmIHNob3dUb2RheUJ1dHRvbiAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX21hdGVyaWFsX3VpX2NvcmVfQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uU2V0VG9kYXlcbiAgfSwgdG9kYXlMYWJlbCksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fbWF0ZXJpYWxfdWlfY29yZV9CdXR0b25fX19kZWZhdWx0LmEsIHtcbiAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgb25DbGljazogb25EaXNtaXNzXG4gIH0sIGNhbmNlbExhYmVsKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19tYXRlcmlhbF91aV9jb3JlX0J1dHRvbl9fX2RlZmF1bHQuYSwge1xuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBvbkFjY2VwdFxuICB9LCBva0xhYmVsKSkpO1xufTtcbk1vZGFsRGlhbG9nLmRpc3BsYXlOYW1lID0gJ01vZGFsRGlhbG9nJztcbiBmYWxzZSA/IE1vZGFsRGlhbG9nLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgb25LZXlEb3duOiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uQWNjZXB0OiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uRGlzbWlzczogZnVuYy5pc1JlcXVpcmVkLFxuICBvbkNsZWFyOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBva0xhYmVsOiBub2RlLmlzUmVxdWlyZWQsXG4gIGNhbmNlbExhYmVsOiBub2RlLmlzUmVxdWlyZWQsXG4gIGNsZWFyTGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xlYXJhYmxlOiBib29sLmlzUmVxdWlyZWQsXG4gIHRvZGF5TGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgc2hvd1RvZGF5QnV0dG9uOiBib29sLmlzUmVxdWlyZWQsXG4gIG9uU2V0VG9kYXk6IGZ1bmMuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcbnZhciBkaWFsb2dXaWR0aCA9IDMxMDtcbnZhciBkaWFsb2dIZWlnaHQgPSA0MDU7XG52YXIgZGlhbG9nSGVpZ2h0V2l0aFRhYnMgPSA0NTU7XG52YXIgc3R5bGVzID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX19bXCJjcmVhdGVTdHlsZXNcIl0pKHtcbiAgZGlhbG9nUm9vdDoge1xuICAgIG1pbldpZHRoOiBkaWFsb2dXaWR0aCxcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodFxuICB9LFxuICBkaWFsb2c6IHtcbiAgICB3aWR0aDogZGlhbG9nV2lkdGgsXG4gICAgbWluSGVpZ2h0OiBkaWFsb2dIZWlnaHQsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfSxcbiAgZGlhbG9nV2l0aFRhYnM6IHtcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodFdpdGhUYWJzXG4gIH0sXG4gIGRpYWxvZ0FjdGlvbnM6IHtcbiAgICAvLyBzZXQganVzdGlmeUNvbnRlbnQgdG8gZGVmYXVsdCB2YWx1ZSB0byBmaXggSUUxMSBsYXlvdXQgYnVnXG4gICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kbXRyS292YWxlbmtvL21hdGVyaWFsLXVpLXBpY2tlcnMvcHVsbC8yNjdcbiAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnXG4gIH0sXG4gIGNsZWFyYWJsZURpYWxvZ0FjdGlvbjoge1xuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgbWFyZ2luUmlnaHQ6ICdhdXRvJ1xuICAgIH1cbiAgfSxcbiAgdG9kYXlEaWFsb2dBY3Rpb246IHtcbiAgICAnJjpmaXJzdC1jaGlsZCc6IHtcbiAgICAgIG1hcmdpblJpZ2h0OiAnYXV0bydcbiAgICB9XG4gIH0sXG4gIGRpYWxvZ0FjdGlvbjogey8vIGVtcHR5IGJ1dCBtYXkgYmUgbmVlZGVkIGZvciBvdmVycmlkZVxuICB9XG59KTtcbnZhciBNb2RhbERpYWxvZyQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX19bXCJ3aXRoU3R5bGVzXCJdKShzdHlsZXMsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNNb2RhbCdcbn0pKE1vZGFsRGlhbG9nKTtcblxudmFyIE1vZGFsV3JhcHBlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShNb2RhbFdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gTW9kYWxXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfa2V5Y29kZV9fX2RlZmF1bHQoKShldmVudCkpIHtcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICAgIF90aGlzLmhhbmRsZUFjY2VwdCgpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBrZXljb2RlIGlzIG5vdCBoYW5kbGVkLCBzdG9wIGV4ZWN1dGlvblxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gaWYgZXZlbnQgd2FzIGhhbmRsZWQgcHJldmVudCBvdGhlciBzaWRlIGVmZmVjdHNcblxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZXRUb2RheURhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25TZXRUb2RheSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblNldFRvZGF5KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25PcGVuKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uT3BlbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjY2VwdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlKCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkFjY2VwdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkFjY2VwdCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVEaXNtaXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRGlzbWlzcykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkRpc21pc3MoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DbGVhcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE1vZGFsV3JhcHBlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgLy8gb25seSBpZiBhY2NlcHQgPSB0cnVlIGNsb3NlIHRoZSBkaWFsb2dcbiAgICBpZiAobmV4dFByb3BzLmlzQWNjZXB0ZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9wZW46IGZhbHNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIE1vZGFsV3JhcHBlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgb25BY2NlcHQgPSBfYS5vbkFjY2VwdCxcbiAgICAgICAgb25EaXNtaXNzID0gX2Eub25EaXNtaXNzLFxuICAgICAgICBpbnZhbGlkTGFiZWwgPSBfYS5pbnZhbGlkTGFiZWwsXG4gICAgICAgIGxhYmVsRnVuYyA9IF9hLmxhYmVsRnVuYyxcbiAgICAgICAgb2tMYWJlbCA9IF9hLm9rTGFiZWwsXG4gICAgICAgIGNhbmNlbExhYmVsID0gX2EuY2FuY2VsTGFiZWwsXG4gICAgICAgIGNsZWFyTGFiZWwgPSBfYS5jbGVhckxhYmVsLFxuICAgICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICAgIHRvZGF5TGFiZWwgPSBfYS50b2RheUxhYmVsLFxuICAgICAgICBzaG93VG9kYXlCdXR0b24gPSBfYS5zaG93VG9kYXlCdXR0b24sXG4gICAgICAgIG9uT3BlbiA9IF9hLm9uT3BlbixcbiAgICAgICAgb25DbG9zZSA9IF9hLm9uQ2xvc2UsXG4gICAgICAgIG9uU2V0VG9kYXkgPSBfYS5vblNldFRvZGF5LFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgRGlhbG9nUHJvcHMgPSBfYS5EaWFsb2dQcm9wcyxcbiAgICAgICAgc2hvd1RhYnMgPSBfYS5zaG93VGFicyxcbiAgICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiY2hpbGRyZW5cIiwgXCJvbkFjY2VwdFwiLCBcIm9uRGlzbWlzc1wiLCBcImludmFsaWRMYWJlbFwiLCBcImxhYmVsRnVuY1wiLCBcIm9rTGFiZWxcIiwgXCJjYW5jZWxMYWJlbFwiLCBcImNsZWFyTGFiZWxcIiwgXCJjbGVhcmFibGVcIiwgXCJ0b2RheUxhYmVsXCIsIFwic2hvd1RvZGF5QnV0dG9uXCIsIFwib25PcGVuXCIsIFwib25DbG9zZVwiLCBcIm9uU2V0VG9kYXlcIiwgXCJpc0FjY2VwdGVkXCIsIFwiRGlhbG9nUHJvcHNcIiwgXCJzaG93VGFic1wiXSk7XG5cbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJGcmFnbWVudFwiXSwgbnVsbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRleHRGaWVsZCQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbixcbiAgICAgIC8vIG9uRm9jdXM9e3RoaXMudG9nZ2xlUGlja2VyfSA8LSBDdXJyZW50bHkgbm90IHByb3Blcmx5IHdvcmtzIHdpdGggLmJsdXIoKSBvbiBUZXh0RmllbGRcbiAgICAgIGludmFsaWRMYWJlbDogaW52YWxpZExhYmVsLFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBjbGVhcmFibGU6IGNsZWFyYWJsZVxuICAgIH0sIG90aGVyKSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKE1vZGFsRGlhbG9nJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHNob3dUYWJzOiBzaG93VGFicyxcbiAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbixcbiAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuICAgICAgb25DbGVhcjogdGhpcy5oYW5kbGVDbGVhcixcbiAgICAgIG9uQWNjZXB0OiB0aGlzLmhhbmRsZUFjY2VwdCxcbiAgICAgIG9uRGlzbWlzczogdGhpcy5oYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogdGhpcy5oYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICBjbGVhckxhYmVsOiBjbGVhckxhYmVsLFxuICAgICAgdG9kYXlMYWJlbDogdG9kYXlMYWJlbCxcbiAgICAgIG9rTGFiZWw6IG9rTGFiZWwsXG4gICAgICBjYW5jZWxMYWJlbDogY2FuY2VsTGFiZWwsXG4gICAgICBjbGVhcmFibGU6IGNsZWFyYWJsZSxcbiAgICAgIHNob3dUb2RheUJ1dHRvbjogc2hvd1RvZGF5QnV0dG9uLFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfSwgRGlhbG9nUHJvcHMpKSk7XG4gIH07XG5cbiAgIGZhbHNlID8gTW9kYWxXcmFwcGVyLnByb3BUeXBlcyA9IHtcbiAgICBva0xhYmVsOiBub2RlLFxuICAgIGNhbmNlbExhYmVsOiBub2RlLFxuICAgIGNsZWFyTGFiZWw6IG5vZGUsXG4gICAgY2xlYXJhYmxlOiBib29sLFxuICAgIHRvZGF5TGFiZWw6IHN0cmluZyxcbiAgICBzaG93VG9kYXlCdXR0b246IGJvb2wsXG4gICAgb25PcGVuOiBmdW5jLFxuICAgIGZvcm1hdDogc3RyaW5nLFxuICAgIERpYWxvZ1Byb3BzOiBvYmplY3QsXG4gICAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGludmFsaWRMYWJlbDogbm9kZSxcbiAgICBsYWJlbEZ1bmM6IGZ1bmMsXG4gICAgb25DbG9zZTogZnVuYyxcbiAgICBvbkFjY2VwdDogZnVuYyxcbiAgICBvbkRpc21pc3M6IGZ1bmMsXG4gICAgb25DbGVhcjogZnVuYyxcbiAgICBvblNldFRvZGF5OiBmdW5jLFxuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgaXNBY2NlcHRlZDogYm9vbC5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIE1vZGFsV3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaW52YWxpZExhYmVsOiB1bmRlZmluZWQsXG4gICAgdmFsdWU6IG5ldyBEYXRlKCksXG4gICAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gICAgb2tMYWJlbDogJ09LJyxcbiAgICBjYW5jZWxMYWJlbDogJ0NhbmNlbCcsXG4gICAgY2xlYXJMYWJlbDogJ0NsZWFyJyxcbiAgICB0b2RheUxhYmVsOiAnVG9kYXknLFxuICAgIGNsZWFyYWJsZTogZmFsc2UsXG4gICAgc2hvd1RvZGF5QnV0dG9uOiBmYWxzZSxcbiAgICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgICBvbkFjY2VwdDogdW5kZWZpbmVkLFxuICAgIG9uRGlzbWlzczogdW5kZWZpbmVkLFxuICAgIG9uQ2xlYXI6IHVuZGVmaW5lZCxcbiAgICBvbk9wZW46IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlOiB1bmRlZmluZWQsXG4gICAgb25TZXRUb2RheTogdW5kZWZpbmVkLFxuICAgIERpYWxvZ1Byb3BzOiB1bmRlZmluZWQsXG4gICAgaXNBY2NlcHRlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIE1vZGFsV3JhcHBlcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcblxudmFyIFBpY2tlclRvb2xiYXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImNsYXNzZXNcIl0pO1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19tYXRlcmlhbF91aV9jb3JlX1Rvb2xiYXJfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnRvb2xiYXIsIGNsYXNzTmFtZSlcbiAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG59O1xuXG4gZmFsc2UgPyBQaWNrZXJUb29sYmFyLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IGFycmF5T2Yobm9kZSkuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIGNsYXNzZXM6IGFueS5pc1JlcXVpcmVkLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuUGlja2VyVG9vbGJhci5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJydcbn07XG52YXIgc3R5bGVzJDEgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBoZWlnaHQ6IDEwMCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS50eXBlID09PSAnbGlnaHQnID8gdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmRbXCJkZWZhdWx0XCJdXG4gICAgfVxuICB9KTtcbn07XG52YXIgUGlja2VyVG9vbGJhciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkMSwge1xuICBuYW1lOiAnTXVpUGlja2Vyc1Rvb2xiYXInXG59KShQaWNrZXJUb29sYmFyKTtcblxudmFyIFRvb2xiYXJCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgc2VsZWN0ZWQgPSBfYS5zZWxlY3RlZCxcbiAgICAgIGxhYmVsID0gX2EubGFiZWwsXG4gICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShfYSwgW1wiY2xhc3Nlc1wiLCBcInNlbGVjdGVkXCIsIFwibGFiZWxcIiwgXCJjbGFzc05hbWVcIl0pO1xuXG4gIHZhciBfYjtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X19fZGVmYXVsdC5hLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgY2xhc3NOYW1lOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy50b29sYmFyQnRuLCBjbGFzc05hbWUsIChfYiA9IHt9LCBfYltjbGFzc2VzLnRvb2xiYXJCdG5TZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2IpKVxuICB9LCBvdGhlciksIGxhYmVsKTtcbn07XG5cbiBmYWxzZSA/IFRvb2xiYXJCdXR0b24ucHJvcFR5cGVzID0ge1xuICBzZWxlY3RlZDogYm9vbC5pc1JlcXVpcmVkLFxuICBsYWJlbDogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IGFueS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcblRvb2xiYXJCdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnXG59O1xudmFyIHN0eWxlcyQyID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdG9vbGJhckJ0bjoge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41NCknXG4gICAgfSxcbiAgICB0b29sYmFyQnRuU2VsZWN0ZWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZVxuICAgIH1cbiAgfTtcbn07XG52YXIgVG9vbGJhckJ1dHRvbiQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkMiwge1xuICBuYW1lOiAnTXVpUGlja2Vyc1Rvb2xiYXJCdXR0b24nXG59KShUb29sYmFyQnV0dG9uKTtcblxudmFyIGZpbmRDbG9zZXN0RW5hYmxlZERhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9hLnNob3VsZERpc2FibGVEYXRlO1xuICB2YXIgdG9kYXkgPSB1dGlscy5zdGFydE9mRGF5KHV0aWxzLmRhdGUoKSk7XG4gIG1pbkRhdGUgPSBtaW5EYXRlICYmIHV0aWxzLmRhdGUobWluRGF0ZSk7XG4gIG1heERhdGUgPSBtYXhEYXRlICYmIHV0aWxzLmRhdGUobWF4RGF0ZSk7XG5cbiAgaWYgKGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlKG1pbkRhdGUsIHRvZGF5KSkge1xuICAgIG1pbkRhdGUgPSB0b2RheTtcbiAgfVxuXG4gIGlmIChkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXIobWF4RGF0ZSwgdG9kYXkpKSB7XG4gICAgbWF4RGF0ZSA9IHRvZGF5O1xuICB9XG5cbiAgdmFyIGZvcndhcmQgPSB1dGlscy5kYXRlKGRhdGUpO1xuICB2YXIgYmFja3dhcmQgPSB1dGlscy5kYXRlKGRhdGUpO1xuXG4gIGlmICh1dGlscy5pc0JlZm9yZShkYXRlLCBtaW5EYXRlKSkge1xuICAgIGZvcndhcmQgPSBtaW5EYXRlO1xuICAgIGJhY2t3YXJkID0gbnVsbDtcbiAgfVxuXG4gIGlmICh1dGlscy5pc0FmdGVyKGRhdGUsIG1heERhdGUpKSB7XG4gICAgaWYgKGJhY2t3YXJkKSB7XG4gICAgICBiYWNrd2FyZCA9IG1heERhdGU7XG4gICAgfVxuXG4gICAgZm9yd2FyZCA9IG51bGw7XG4gIH1cblxuICB3aGlsZSAoZm9yd2FyZCB8fCBiYWNrd2FyZCkge1xuICAgIGlmIChmb3J3YXJkICYmIHV0aWxzLmlzQWZ0ZXIoZm9yd2FyZCwgbWF4RGF0ZSkpIHtcbiAgICAgIGZvcndhcmQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChiYWNrd2FyZCAmJiB1dGlscy5pc0JlZm9yZShiYWNrd2FyZCwgbWluRGF0ZSkpIHtcbiAgICAgIGJhY2t3YXJkID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgaWYgKCFzaG91bGREaXNhYmxlRGF0ZShmb3J3YXJkKSkge1xuICAgICAgICByZXR1cm4gZm9yd2FyZDtcbiAgICAgIH1cblxuICAgICAgZm9yd2FyZCA9IHV0aWxzLmFkZERheXMoZm9yd2FyZCwgMSk7XG4gICAgfVxuXG4gICAgaWYgKGJhY2t3YXJkKSB7XG4gICAgICBpZiAoIXNob3VsZERpc2FibGVEYXRlKGJhY2t3YXJkKSkge1xuICAgICAgICByZXR1cm4gYmFja3dhcmQ7XG4gICAgICB9XG5cbiAgICAgIGJhY2t3YXJkID0gdXRpbHMuYWRkRGF5cyhiYWNrd2FyZCwgLTEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIGFuaW1hdGlvbkR1cmF0aW9uID0gMzUwO1xuXG52YXIgU2xpZGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICB0cmFuc0tleSA9IF9hLnRyYW5zS2V5LFxuICAgICAgc2xpZGVEaXJlY3Rpb24gPSBfYS5zbGlkZURpcmVjdGlvbjtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fW1wiVHJhbnNpdGlvbkdyb3VwXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy50cmFuc2l0aW9uQ29udGFpbmVyLCBjbGFzc05hbWUpXG4gIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fW1wiQ1NTVHJhbnNpdGlvblwiXSwge1xuICAgIGtleTogdHJhbnNLZXksXG4gICAgbW91bnRPbkVudGVyOiB0cnVlLFxuICAgIHVubW91bnRPbkV4aXQ6IHRydWUsXG4gICAgdGltZW91dDogYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZXM6IHtcbiAgICAgIGVudGVyOiBjbGFzc2VzW1wic2xpZGVFbnRlci1cIiArIHNsaWRlRGlyZWN0aW9uXSxcbiAgICAgIGVudGVyQWN0aXZlOiBjbGFzc2VzLnNsaWRlRW50ZXJBY3RpdmUsXG4gICAgICBleGl0OiBjbGFzc2VzLnNsaWRlRXhpdCxcbiAgICAgIGV4aXRBY3RpdmU6IGNsYXNzZXNbXCJzbGlkZUV4aXRBY3RpdmVMZWZ0LVwiICsgc2xpZGVEaXJlY3Rpb25dXG4gICAgfVxuICB9KSk7XG59O1xuXG4gZmFsc2UgPyBTbGlkZVRyYW5zaXRpb24ucHJvcFR5cGVzID0ge1xuICBjbGFzc2VzOiBzaGFwZSh7fSkuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIHNsaWRlRGlyZWN0aW9uOiBvbmVPZihbJ2xlZnQnLCAncmlnaHQnXSkuaXNSZXF1aXJlZCxcbiAgdHJhbnNLZXk6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuU2xpZGVUcmFuc2l0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiB1bmRlZmluZWRcbn07XG52YXIgc3R5bGVzJDMgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgdmFyIHNsaWRlVHJhbnNpdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgndHJhbnNmb3JtJywge1xuICAgIGR1cmF0aW9uOiBhbmltYXRpb25EdXJhdGlvbixcbiAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoMC4zNSwgMC44LCAwLjQsIDEpJ1xuICB9KTtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgdHJhbnNpdGlvbkNvbnRhaW5lcjoge1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgJyYgPiAqJzoge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfVxuICAgIH0sXG4gICAgJ3NsaWRlRW50ZXItbGVmdCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDEwMCUpJ1xuICAgIH0sXG4gICAgJ3NsaWRlRW50ZXItcmlnaHQnOiB7XG4gICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtMTAwJSknXG4gICAgfSxcbiAgICBzbGlkZUVudGVyQWN0aXZlOiB7XG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCUpJyxcbiAgICAgIHRyYW5zaXRpb246IHNsaWRlVHJhbnNpdGlvblxuICAgIH0sXG4gICAgc2xpZGVFeGl0OiB7XG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCUpJ1xuICAgIH0sXG4gICAgJ3NsaWRlRXhpdEFjdGl2ZUxlZnQtbGVmdCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0yMDAlKScsXG4gICAgICB0cmFuc2l0aW9uOiBzbGlkZVRyYW5zaXRpb25cbiAgICB9LFxuICAgICdzbGlkZUV4aXRBY3RpdmVMZWZ0LXJpZ2h0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMjAwJSknLFxuICAgICAgdHJhbnNpdGlvbjogc2xpZGVUcmFuc2l0aW9uXG4gICAgfVxuICB9KTtcbn07XG52YXIgU2xpZGVUcmFuc2l0aW9uJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQzLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzU2xpZGVUcmFuc2l0aW9uJ1xufSkoU2xpZGVUcmFuc2l0aW9uKTtcblxudmFyIENhbGVuZGFySGVhZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIHRoZW1lID0gX2EudGhlbWUsXG4gICAgICBjdXJyZW50TW9udGggPSBfYS5jdXJyZW50TW9udGgsXG4gICAgICBvbk1vbnRoQ2hhbmdlID0gX2Eub25Nb250aENoYW5nZSxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBfYS5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBfYS5yaWdodEFycm93SWNvbixcbiAgICAgIGRpc2FibGVQcmV2TW9udGggPSBfYS5kaXNhYmxlUHJldk1vbnRoLFxuICAgICAgZGlzYWJsZU5leHRNb250aCA9IF9hLmRpc2FibGVOZXh0TW9udGgsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgc2xpZGVEaXJlY3Rpb24gPSBfYS5zbGlkZURpcmVjdGlvbjtcbiAgdmFyIHJ0bCA9IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG5cbiAgdmFyIHNlbGVjdE5leHRNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gb25Nb250aENoYW5nZSh1dGlscy5nZXROZXh0TW9udGgoY3VycmVudE1vbnRoKSwgJ2xlZnQnKTtcbiAgfTtcblxuICB2YXIgc2VsZWN0UHJldmlvdXNNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gb25Nb250aENoYW5nZSh1dGlscy5nZXRQcmV2aW91c01vbnRoKGN1cnJlbnRNb250aCksICdyaWdodCcpO1xuICB9O1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCBudWxsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN3aXRjaEhlYWRlclxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fX2RlZmF1bHQuYSwge1xuICAgIGRpc2FibGVkOiBkaXNhYmxlUHJldk1vbnRoLFxuICAgIG9uQ2xpY2s6IHNlbGVjdFByZXZpb3VzTW9udGgsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmljb25CdXR0b25cbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0LmEsIG51bGwsIHJ0bCA/IHJpZ2h0QXJyb3dJY29uIDogbGVmdEFycm93SWNvbikpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShTbGlkZVRyYW5zaXRpb24kMSwge1xuICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvbixcbiAgICB0cmFuc0tleTogY3VycmVudE1vbnRoLnRvU3RyaW5nKCksXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zaXRpb25Db250YWluZXJcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X19fZGVmYXVsdC5hLCB7XG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgdmFyaWFudDogXCJib2R5MVwiXG4gIH0sIHV0aWxzLmdldENhbGVuZGFySGVhZGVyVGV4dChjdXJyZW50TW9udGgpKSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbWF0ZXJpYWxfdWlfY29yZV9JY29uQnV0dG9uX19fZGVmYXVsdC5hLCB7XG4gICAgZGlzYWJsZWQ6IGRpc2FibGVOZXh0TW9udGgsXG4gICAgb25DbGljazogc2VsZWN0TmV4dE1vbnRoLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uQnV0dG9uXG4gIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWF0ZXJpYWxfdWlfY29yZV9JY29uX19fZGVmYXVsdC5hLCBudWxsLCBydGwgPyBsZWZ0QXJyb3dJY29uIDogcmlnaHRBcnJvd0ljb24pKSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuZGF5c0hlYWRlclxuICB9LCB1dGlscy5nZXRXZWVrZGF5cygpLm1hcChmdW5jdGlvbiAoZGF5LCBpbmRleCkge1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0LmEsIHtcbiAgICAgIGtleTogaW5kZXgsXG4gICAgICB2YXJpYW50OiBcImNhcHRpb25cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kYXlMYWJlbFxuICAgIH0sIGRheSk7XG4gIH0pKSk7XG59O1xuIGZhbHNlID8gQ2FsZW5kYXJIZWFkZXIucHJvcFR5cGVzID0ge1xuICBjdXJyZW50TW9udGg6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBvbk1vbnRoQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICBkaXNhYmxlUHJldk1vbnRoOiBib29sLFxuICBkaXNhYmxlTmV4dE1vbnRoOiBib29sLFxuICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIHNsaWRlRGlyZWN0aW9uOiBvbmVPZihbJ3JpZ2h0JywgJ2xlZnQnXSkuaXNSZXF1aXJlZCxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcbkNhbGVuZGFySGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgZGlzYWJsZVByZXZNb250aDogZmFsc2UsXG4gIGRpc2FibGVOZXh0TW9udGg6IGZhbHNlXG59O1xudmFyIHN0eWxlcyQ0ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICAgIHN3aXRjaEhlYWRlcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nLnVuaXQgLyAyLFxuICAgICAgbWFyZ2luQm90dG9tOiB0aGVtZS5zcGFjaW5nLnVuaXRcbiAgICB9LFxuICAgIHRyYW5zaXRpb25Db250YWluZXI6IHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6IDIwXG4gICAgfSxcbiAgICBpY29uQnV0dG9uOiB7XG4gICAgICB6SW5kZXg6IDIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcixcbiAgICAgICcmID4gKic6IHtcbiAgICAgICAgLy8gbGFiZWxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQucGFwZXIsXG4gICAgICAgICcmID4gKic6IHtcbiAgICAgICAgICAvLyBpY29uXG4gICAgICAgICAgekluZGV4OiAxLFxuICAgICAgICAgIG92ZXJmbG93OiAndmlzaWJsZSdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGF5c0hlYWRlcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBtYXhIZWlnaHQ6IDE2XG4gICAgfSxcbiAgICBkYXlMYWJlbDoge1xuICAgICAgd2lkdGg6IDM2LFxuICAgICAgbWFyZ2luOiAnMCAycHgnLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuaGludFxuICAgIH1cbiAgfSk7XG59O1xudmFyIENhbGVuZGFySGVhZGVyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyQ0LCB7XG4gIHdpdGhUaGVtZTogdHJ1ZSxcbiAgbmFtZTogJ011aVBpY2tlcnNDYWxlbmRhckhlYWRlcidcbn0pKHdpdGhVdGlscygpKENhbGVuZGFySGVhZGVyKSk7XG5cbnZhciBEYXkgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoRGF5LCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIERheSgpIHtcbiAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICBEYXkucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF9iLmNoaWxkcmVuLFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgZGlzYWJsZWQgPSBfYi5kaXNhYmxlZCxcbiAgICAgICAgaGlkZGVuID0gX2IuaGlkZGVuLFxuICAgICAgICBjdXJyZW50ID0gX2IuY3VycmVudCxcbiAgICAgICAgc2VsZWN0ZWQgPSBfYi5zZWxlY3RlZCxcbiAgICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2IsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3Nlc1wiLCBcImRpc2FibGVkXCIsIFwiaGlkZGVuXCIsIFwiY3VycmVudFwiLCBcInNlbGVjdGVkXCJdKTtcblxuICAgIHZhciBjbGFzc05hbWUgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy5kYXksIChfYSA9IHt9LCBfYVtjbGFzc2VzLmhpZGRlbl0gPSBoaWRkZW4sIF9hW2NsYXNzZXMuY3VycmVudF0gPSBjdXJyZW50LCBfYVtjbGFzc2VzLnNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYVtjbGFzc2VzLmRpc2FibGVkXSA9IGRpc2FibGVkLCBfYSkpO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX21hdGVyaWFsX3VpX2NvcmVfSWNvbkJ1dHRvbl9fX2RlZmF1bHQuYSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICB0YWJJbmRleDogaGlkZGVuIHx8IGRpc2FibGVkID8gLTEgOiAwXG4gICAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG4gIH07XG5cbiAgIGZhbHNlID8gRGF5LnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGN1cnJlbnQ6IGJvb2wsXG4gICAgZGlzYWJsZWQ6IGJvb2wsXG4gICAgaGlkZGVuOiBib29sLFxuICAgIHNlbGVjdGVkOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgRGF5LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgaGlkZGVuOiBmYWxzZSxcbiAgICBjdXJyZW50OiBmYWxzZSxcbiAgICBzZWxlY3RlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIERheTtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcblxudmFyIHN0eWxlcyQ1ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICAgIGRheToge1xuICAgICAgd2lkdGg6IDM2LFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5LmNhcHRpb24uZm9udFNpemUsXG4gICAgICBtYXJnaW46ICcwIDJweCcsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnksXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW0sXG4gICAgICBwYWRkaW5nOiAwXG4gICAgfSxcbiAgICBoaWRkZW46IHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICB9LFxuICAgIGN1cnJlbnQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRXZWlnaHQ6IDYwMFxuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW0sXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgfVxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuaGludFxuICAgIH1cbiAgfSk7XG59O1xudmFyIERheSQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkNSwge1xuICBuYW1lOiAnTXVpUGlja2Vyc0RheSdcbn0pKERheSk7XG5cbnZhciBEYXlXcmFwcGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKERheVdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF5V3JhcHBlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvcHMub25TZWxlY3QoX3RoaXMucHJvcHMudmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEYXlXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgZGF5SW5DdXJyZW50TW9udGggPSBfYS5kYXlJbkN1cnJlbnRNb250aCxcbiAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgb25TZWxlY3QgPSBfYS5vblNlbGVjdCxcbiAgICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkoX2EsIFtcImNoaWxkcmVuXCIsIFwidmFsdWVcIiwgXCJkYXlJbkN1cnJlbnRNb250aFwiLCBcImRpc2FibGVkXCIsIFwib25TZWxlY3RcIl0pO1xuXG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIG9uQ2xpY2s6IGRheUluQ3VycmVudE1vbnRoICYmICFkaXNhYmxlZCA/IHRoaXMuaGFuZGxlQ2xpY2sgOiB1bmRlZmluZWQsXG4gICAgICBvbktleVByZXNzOiBkYXlJbkN1cnJlbnRNb250aCAmJiAhZGlzYWJsZWQgPyB0aGlzLmhhbmRsZUNsaWNrIDogdW5kZWZpbmVkLFxuICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIlxuICAgIH0sIG90aGVyKSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gICBmYWxzZSA/IERheVdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgZGF5SW5DdXJyZW50TW9udGg6IGJvb2wsXG4gICAgZGlzYWJsZWQ6IGJvb2wsXG4gICAgb25TZWxlY3Q6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogYW55LmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgRGF5V3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGF5SW5DdXJyZW50TW9udGg6IHRydWUsXG4gICAgZGlzYWJsZWQ6IGZhbHNlXG4gIH07XG4gIHJldHVybiBEYXlXcmFwcGVyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xuXG52YXIgQ2FsZW5kYXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoQ2FsZW5kYXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNsaWRlRGlyZWN0aW9uOiAnbGVmdCcsXG4gICAgICBjdXJyZW50TW9udGg6IF90aGlzLnByb3BzLnV0aWxzLmdldFN0YXJ0T2ZNb250aChfdGhpcy5wcm9wcy5kYXRlKVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkRhdGVTZWxlY3QgPSBmdW5jdGlvbiAoZGF5LCBpc0ZpbmlzaCkge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh1dGlscy5tZXJnZURhdGVBbmRUaW1lKGRheSwgZGF0ZSksIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlTW9udGggPSBmdW5jdGlvbiAobmV3TW9udGgsIHNsaWRlRGlyZWN0aW9uKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRNb250aDogbmV3TW9udGgsXG4gICAgICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvblxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnZhbGlkYXRlTWluTWF4RGF0ZSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICByZXR1cm4gbWluRGF0ZSAmJiB1dGlscy5pc0JlZm9yZURheShkYXksIHV0aWxzLmRhdGUobWluRGF0ZSkpIHx8IG1heERhdGUgJiYgdXRpbHMuaXNBZnRlckRheShkYXksIHV0aWxzLmRhdGUobWF4RGF0ZSkpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlUHJldk1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0LFxuICAgICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiAhdXRpbHMuaXNCZWZvcmUodXRpbHMuZ2V0U3RhcnRPZk1vbnRoKGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQWZ0ZXIobm93LCBtaW5EYXRlKSA/IG5vdyA6IHV0aWxzLmRhdGUobWluRGF0ZSkpLCBfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlTmV4dE1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZTtcbiAgICAgIHZhciBub3cgPSB1dGlscy5kYXRlKCk7XG4gICAgICByZXR1cm4gIXV0aWxzLmlzQWZ0ZXIodXRpbHMuZ2V0U3RhcnRPZk1vbnRoKGRpc2FibGVGdXR1cmUgJiYgdXRpbHMuaXNCZWZvcmUobm93LCBtYXhEYXRlKSA/IG5vdyA6IHV0aWxzLmRhdGUobWF4RGF0ZSkpLCBfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNhYmxlRGF0ZSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBfYS5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyRGF5KGRheSwgdXRpbHMuZGF0ZSgpKSB8fCBkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZURheShkYXksIHV0aWxzLmRhdGUoKSkgfHwgX3RoaXMudmFsaWRhdGVNaW5NYXhEYXRlKGRheSkgfHwgc2hvdWxkRGlzYWJsZURhdGUgJiYgc2hvdWxkRGlzYWJsZURhdGUoZGF5KSk7XG4gICAgfTtcblxuICAgIF90aGlzLm1vdmVUb0RheSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgIGlmIChkYXkgJiYgIV90aGlzLnNob3VsZERpc2FibGVEYXRlKGRheSkpIHtcbiAgICAgICAgX3RoaXMub25EYXRlU2VsZWN0KGRheSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0aGVtZSA9IF9hLnRoZW1lLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG5cbiAgICAgIHN3aXRjaCAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9rZXljb2RlX19fZGVmYXVsdCgpKGV2ZW50KSkge1xuICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgICAgX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgLTcpKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICAgIF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIDcpKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIHRoZW1lLmRpcmVjdGlvbiA9PT0gJ2x0cicgPyBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAtMSkpIDogX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgMSkpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICB0aGVtZS5kaXJlY3Rpb24gPT09ICdsdHInID8gX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgMSkpIDogX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgLTEpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGlmIGtleWNvZGUgaXMgbm90IGhhbmRsZWQsIHN0b3AgZXhlY3V0aW9uXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpZiBldmVudCB3YXMgaGFuZGxlZCBwcmV2ZW50IG90aGVyIHNpZGUgZWZmZWN0cyAoZS5nLiBwYWdlIHNjcm9sbClcblxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5yZW5kZXJXZWVrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB1dGlscyA9IF90aGlzLnByb3BzLnV0aWxzO1xuICAgICAgdmFyIGN1cnJlbnRNb250aCA9IF90aGlzLnN0YXRlLmN1cnJlbnRNb250aDtcbiAgICAgIHZhciB3ZWVrcyA9IHV0aWxzLmdldFdlZWtBcnJheShjdXJyZW50TW9udGgpO1xuICAgICAgcmV0dXJuIHdlZWtzLm1hcChmdW5jdGlvbiAod2Vlaykge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgICAgIGtleTogXCJ3ZWVrLVwiICsgd2Vla1swXS50b1N0cmluZygpLFxuICAgICAgICAgIGNsYXNzTmFtZTogX3RoaXMucHJvcHMuY2xhc3Nlcy53ZWVrXG4gICAgICAgIH0sIF90aGlzLnJlbmRlckRheXMod2VlaykpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnJlbmRlckRheXMgPSBmdW5jdGlvbiAod2Vlaykge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgcmVuZGVyRGF5ID0gX2EucmVuZGVyRGF5LFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICB2YXIgc2VsZWN0ZWREYXRlID0gdXRpbHMuc3RhcnRPZkRheShkYXRlKTtcbiAgICAgIHZhciBjdXJyZW50TW9udGhOdW1iZXIgPSB1dGlscy5nZXRNb250aChfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgpO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiB3ZWVrLm1hcChmdW5jdGlvbiAoZGF5KSB7XG4gICAgICAgIHZhciBkaXNhYmxlZCA9IF90aGlzLnNob3VsZERpc2FibGVEYXRlKGRheSk7XG5cbiAgICAgICAgdmFyIGRheUluQ3VycmVudE1vbnRoID0gdXRpbHMuZ2V0TW9udGgoZGF5KSA9PT0gY3VycmVudE1vbnRoTnVtYmVyO1xuICAgICAgICB2YXIgZGF5Q29tcG9uZW50ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF5JDEsIHtcbiAgICAgICAgICBjdXJyZW50OiB1dGlscy5pc1NhbWVEYXkoZGF5LCBub3cpLFxuICAgICAgICAgIGhpZGRlbjogIWRheUluQ3VycmVudE1vbnRoLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBzZWxlY3RlZDogdXRpbHMuaXNTYW1lRGF5KHNlbGVjdGVkRGF0ZSwgZGF5KVxuICAgICAgICB9LCB1dGlscy5nZXREYXlUZXh0KGRheSkpO1xuXG4gICAgICAgIGlmIChyZW5kZXJEYXkpIHtcbiAgICAgICAgICBkYXlDb21wb25lbnQgPSByZW5kZXJEYXkoZGF5LCBzZWxlY3RlZERhdGUsIGRheUluQ3VycmVudE1vbnRoLCBkYXlDb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERheVdyYXBwZXIsIHtcbiAgICAgICAgICBrZXk6IGRheS50b1N0cmluZygpLFxuICAgICAgICAgIHZhbHVlOiBkYXksXG4gICAgICAgICAgZGF5SW5DdXJyZW50TW9udGg6IGRheUluQ3VycmVudE1vbnRoLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBvblNlbGVjdDogX3RoaXMub25EYXRlU2VsZWN0XG4gICAgICAgIH0sIGRheUNvbXBvbmVudCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2FsZW5kYXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcywgc3RhdGUpIHtcbiAgICBpZiAoIW5leHRQcm9wcy51dGlscy5pc0VxdWFsKG5leHRQcm9wcy5kYXRlLCBzdGF0ZS5sYXN0RGF0ZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhc3REYXRlOiBuZXh0UHJvcHMuZGF0ZSxcbiAgICAgICAgY3VycmVudE1vbnRoOiBuZXh0UHJvcHMudXRpbHMuZ2V0U3RhcnRPZk1vbnRoKG5leHRQcm9wcy5kYXRlKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBDYWxlbmRhci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdDtcblxuICAgIGlmICh0aGlzLnNob3VsZERpc2FibGVEYXRlKGRhdGUpKSB7XG4gICAgICB2YXIgY2xvc2VzdEVuYWJsZWREYXRlID0gZmluZENsb3Nlc3RFbmFibGVkRGF0ZSh7XG4gICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgIHV0aWxzOiB1dGlscyxcbiAgICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgICAgZGlzYWJsZVBhc3Q6IEJvb2xlYW4oZGlzYWJsZVBhc3QpLFxuICAgICAgICBkaXNhYmxlRnV0dXJlOiBCb29sZWFuKGRpc2FibGVQYXN0KSxcbiAgICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHRoaXMuc2hvdWxkRGlzYWJsZURhdGVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbkRhdGVTZWxlY3QoY2xvc2VzdEVuYWJsZWREYXRlIHx8IG1pbkRhdGUsIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgQ2FsZW5kYXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnN0YXRlLFxuICAgICAgICBjdXJyZW50TW9udGggPSBfYS5jdXJyZW50TW9udGgsXG4gICAgICAgIHNsaWRlRGlyZWN0aW9uID0gX2Euc2xpZGVEaXJlY3Rpb247XG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gX2IuYWxsb3dLZXlib2FyZENvbnRyb2w7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIGFsbG93S2V5Ym9hcmRDb250cm9sICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfcmVhY3RfZXZlbnRfbGlzdGVuZXJfX19kZWZhdWx0LmEsIHtcbiAgICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENhbGVuZGFySGVhZGVyJDEsIHtcbiAgICAgIHNsaWRlRGlyZWN0aW9uOiBzbGlkZURpcmVjdGlvbixcbiAgICAgIGN1cnJlbnRNb250aDogY3VycmVudE1vbnRoLFxuICAgICAgb25Nb250aENoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VNb250aCxcbiAgICAgIGxlZnRBcnJvd0ljb246IHRoaXMucHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiB0aGlzLnByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgZGlzYWJsZVByZXZNb250aDogdGhpcy5zaG91bGREaXNhYmxlUHJldk1vbnRoKCksXG4gICAgICBkaXNhYmxlTmV4dE1vbnRoOiB0aGlzLnNob3VsZERpc2FibGVOZXh0TW9udGgoKVxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShTbGlkZVRyYW5zaXRpb24kMSwge1xuICAgICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uLFxuICAgICAgdHJhbnNLZXk6IGN1cnJlbnRNb250aC50b1N0cmluZygpLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zaXRpb25Db250YWluZXJcbiAgICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICAvLyBAdHMtaWdub3JlIEF1dG9mb2N1cyByZXF1aXJlZCBmb3IgZ2V0dGluZyB3b3JrIGtleWJvYXJkIG5hdmlnYXRpb24gZmVhdHVyZVxuICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgfSwgdGhpcy5yZW5kZXJXZWVrcygpKSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IENhbGVuZGFyLnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgICByZW5kZXJEYXk6IGZ1bmMsXG4gICAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENhbGVuZGFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gICAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgICBsZWZ0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmlnaHRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogZmFsc2UsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBDYWxlbmRhcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJDb21wb25lbnRcIl0pO1xudmFyIHN0eWxlcyQ2ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdHJhbnNpdGlvbkNvbnRhaW5lcjoge1xuICAgICAgbWluSGVpZ2h0OiAzNiAqIDYsXG4gICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDEuNVxuICAgIH0sXG4gICAgd2Vlazoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXG4gICAgfVxuICB9O1xufTtcbnZhciBDYWxlbmRhciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkNiwge1xuICBuYW1lOiAnTXVpUGlja2Vyc0NhbGVuZGFyJyxcbiAgd2l0aFRoZW1lOiB0cnVlXG59KSh3aXRoVXRpbHMoKShDYWxlbmRhcikpO1xuXG52YXIgWWVhciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShZZWFyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFllYXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uU2VsZWN0KF90aGlzLnByb3BzLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgWWVhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYi5jbGFzc2VzLFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBkaXNhYmxlZCA9IF9iLmRpc2FibGVkLFxuICAgICAgICB2YWx1ZSA9IF9iLnZhbHVlLFxuICAgICAgICBjaGlsZHJlbiA9IF9iLmNoaWxkcmVuLFxuICAgICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShfYiwgW1wiY2xhc3Nlc1wiLCBcInNlbGVjdGVkXCIsIFwiZGlzYWJsZWRcIiwgXCJ2YWx1ZVwiLCBcImNoaWxkcmVuXCJdKTtcblxuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19tYXRlcmlhbF91aV9jb3JlX1R5cG9ncmFwaHlfX19kZWZhdWx0LmEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICBjb21wb25lbnQ6IFwiZGl2XCIsXG4gICAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnJvb3QsIChfYSA9IHt9LCBfYVtjbGFzc2VzLnNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYVtjbGFzc2VzLmRpc2FibGVkXSA9IGRpc2FibGVkLCBfYSkpLFxuICAgICAgdGFiSW5kZXg6IGRpc2FibGVkID8gLTEgOiAwLFxuICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDbGljayxcbiAgICAgIG9uS2V5UHJlc3M6IHRoaXMuaGFuZGxlQ2xpY2ssXG4gICAgICBjb2xvcjogc2VsZWN0ZWQgPyAncHJpbWFyeScgOiAnZGVmYXVsdCcsXG4gICAgICB2YXJpYW50OiBzZWxlY3RlZCA/ICdoNScgOiAnc3VidGl0bGUxJ1xuICAgIH0sIG90aGVyKSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gICBmYWxzZSA/IFllYXIucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZWQ6IGJvb2wsXG4gICAgb25TZWxlY3Q6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBzZWxlY3RlZDogYm9vbCxcbiAgICB2YWx1ZTogYW55LmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBZZWFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgZGlzYWJsZWQ6IGZhbHNlXG4gIH07XG4gIHJldHVybiBZZWFyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIlB1cmVDb21wb25lbnRcIl0pO1xudmFyIHN0eWxlcyQ3ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICAgIHJvb3Q6IHtcbiAgICAgIGhlaWdodDogdGhlbWUuc3BhY2luZy51bml0ICogNSxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICAnJjpmb2N1cyc6IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdGVkOiB7XG4gICAgICBtYXJnaW46ICcxMHB4IDAnLFxuICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0TWVkaXVtXG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfVxuICB9KTtcbn07XG52YXIgWWVhciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkNywge1xuICBuYW1lOiAnTXVpUGlja2Vyc1llYXInXG59KShZZWFyKTtcblxudmFyIFllYXJTZWxlY3Rpb24gPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoWWVhclNlbGVjdGlvbiwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBZZWFyU2VsZWN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc2VsZWN0ZWRZZWFyUmVmID0gdW5kZWZpbmVkO1xuXG4gICAgX3RoaXMuZ2V0U2VsZWN0ZWRZZWFyUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuc2VsZWN0ZWRZZWFyUmVmID0gcmVmO1xuICAgIH07XG5cbiAgICBfdGhpcy5zY3JvbGxUb0N1cnJlbnRZZWFyID0gZnVuY3Rpb24gKGRvbU5vZGUpIHtcbiAgICAgIHZhciBhbmltYXRlWWVhclNjcm9sbGluZyA9IF90aGlzLnByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nO1xuICAgICAgdmFyIGN1cnJlbnRZZWFyRWxlbWVudCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX3JlYWN0X2RvbV9fW1wiZmluZERPTU5vZGVcIl0pKGRvbU5vZGUpO1xuXG4gICAgICBpZiAoY3VycmVudFllYXJFbGVtZW50ICYmIGN1cnJlbnRZZWFyRWxlbWVudC5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICBpZiAoYW5pbWF0ZVllYXJTY3JvbGxpbmcpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50WWVhckVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudFllYXJFbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25ZZWFyU2VsZWN0ID0gZnVuY3Rpb24gKHllYXIpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciBuZXdEYXRlID0gdXRpbHMuc2V0WWVhcihkYXRlLCB5ZWFyKTtcbiAgICAgIG9uQ2hhbmdlKG5ld0RhdGUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBZZWFyU2VsZWN0aW9uLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZFllYXJSZWYpIHtcbiAgICAgIHRoaXMuc2Nyb2xsVG9DdXJyZW50WWVhcih0aGlzLnNlbGVjdGVkWWVhclJlZik7XG4gICAgfVxuICB9O1xuXG4gIFllYXJTZWxlY3Rpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgIHZhciBjdXJyZW50WWVhciA9IHV0aWxzLmdldFllYXIoZGF0ZSk7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jb250YWluZXJcbiAgICB9LCB1dGlscy5nZXRZZWFyUmFuZ2UobWluRGF0ZSwgbWF4RGF0ZSkubWFwKGZ1bmN0aW9uICh5ZWFyKSB7XG4gICAgICB2YXIgeWVhck51bWJlciA9IHV0aWxzLmdldFllYXIoeWVhcik7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSB5ZWFyTnVtYmVyID09PSBjdXJyZW50WWVhcjtcbiAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShZZWFyJDEsIHtcbiAgICAgICAga2V5OiB1dGlscy5nZXRZZWFyVGV4dCh5ZWFyKSxcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICB2YWx1ZTogeWVhck51bWJlcixcbiAgICAgICAgb25TZWxlY3Q6IF90aGlzLm9uWWVhclNlbGVjdCxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZWY6IHNlbGVjdGVkID8gX3RoaXMuZ2V0U2VsZWN0ZWRZZWFyUmVmIDogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNCZWZvcmVZZWFyKHllYXIsIHV0aWxzLmRhdGUoKSkgfHwgZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyWWVhcih5ZWFyLCB1dGlscy5kYXRlKCkpXG4gICAgICB9LCB1dGlscy5nZXRZZWFyVGV4dCh5ZWFyKSk7XG4gICAgfSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IFllYXJTZWxlY3Rpb24ucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IHNoYXBlKHt9KS5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBZZWFyU2VsZWN0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIFllYXJTZWxlY3Rpb247XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiUHVyZUNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJDggPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICBjb250YWluZXI6IHtcbiAgICBtYXhIZWlnaHQ6IDMwMCxcbiAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgfVxufSk7XG52YXIgWWVhclNlbGVjdGlvbiQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkOCwge1xuICBuYW1lOiAnTXVpUGlja2Vyc1llYXJTZWxlY3Rpb24nXG59KSh3aXRoVXRpbHMoKShZZWFyU2VsZWN0aW9uKSk7XG5cbnZhciBEYXRlUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKERhdGVQaWNrZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRGF0ZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd1llYXJTZWxlY3Rpb246IEJvb2xlYW4oX3RoaXMucHJvcHMub3BlblRvWWVhclNlbGVjdGlvbilcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlWWVhclNlbGVjdCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShkYXRlLCBmYWxzZSk7XG5cbiAgICAgIF90aGlzLm9wZW5DYWxlbmRhcigpO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuWWVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd1llYXJTZWxlY3Rpb246IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuQ2FsZW5kYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3dZZWFyU2VsZWN0aW9uOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRlUGlja2VyLnByb3RvdHlwZSwgXCJkYXRlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmRhdGU7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXIucHJvdG90eXBlLCBcIm1pbkRhdGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMudXRpbHMuZGF0ZSh0aGlzLnByb3BzLm1pbkRhdGUpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRlUGlja2VyLnByb3RvdHlwZSwgXCJtYXhEYXRlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnV0aWxzLmRhdGUodGhpcy5wcm9wcy5tYXhEYXRlKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hvd1llYXJTZWxlY3Rpb24gPSB0aGlzLnN0YXRlLnNob3dZZWFyU2VsZWN0aW9uO1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlLFxuICAgICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IF9hLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgICBsZWZ0QXJyb3dJY29uID0gX2EubGVmdEFycm93SWNvbixcbiAgICAgICAgcmlnaHRBcnJvd0ljb24gPSBfYS5yaWdodEFycm93SWNvbixcbiAgICAgICAgcmVuZGVyRGF5ID0gX2EucmVuZGVyRGF5LFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9hLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IF9hLmFsbG93S2V5Ym9hcmRDb250cm9sO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkZyYWdtZW50XCJdLCBudWxsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShQaWNrZXJUb29sYmFyJDEsIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlblllYXJTZWxlY3Rpb24sXG4gICAgICBzZWxlY3RlZDogc2hvd1llYXJTZWxlY3Rpb24sXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0WWVhclRleHQodGhpcy5kYXRlKVxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDRcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbkNhbGVuZGFyLFxuICAgICAgc2VsZWN0ZWQ6ICFzaG93WWVhclNlbGVjdGlvbixcbiAgICAgIGxhYmVsOiB1dGlscy5nZXREYXRlUGlja2VySGVhZGVyVGV4dCh0aGlzLmRhdGUpXG4gICAgfSkpLCB0aGlzLnByb3BzLmNoaWxkcmVuLCBzaG93WWVhclNlbGVjdGlvbiA/IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFllYXJTZWxlY3Rpb24kMSwge1xuICAgICAgZGF0ZTogdGhpcy5kYXRlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlWWVhclNlbGVjdCxcbiAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgIG1heERhdGU6IHRoaXMubWF4RGF0ZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmdcbiAgICB9KSA6IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENhbGVuZGFyJDEsIHtcbiAgICAgIGRhdGU6IHRoaXMuZGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBtaW5EYXRlOiB0aGlzLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlOiB0aGlzLm1heERhdGUsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2xcbiAgICB9KSk7XG4gIH07XG5cbiAgIGZhbHNlID8gRGF0ZVBpY2tlci5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IGJvb2wsXG4gICAgY2hpbGRyZW46IG5vZGUsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgICByZW5kZXJEYXk6IGZ1bmMsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICAgIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGVcbiAgfSA6IHZvaWQgMDtcbiAgRGF0ZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICAgIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gICAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGZhbHNlLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gICAgY2hpbGRyZW46IG51bGwsXG4gICAgbGVmdEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJpZ2h0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gRGF0ZVBpY2tlcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcbnZhciBEYXRlUGlja2VyJDEgPSB3aXRoVXRpbHMoKShEYXRlUGlja2VyKTtcblxudmFyIERhdGVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBwcm9wcy5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gcHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBsYWJlbEZ1bmMgPSBwcm9wcy5sYWJlbEZ1bmMsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gcHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGUgPSBwcm9wcy5tYXhEYXRlLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBwcm9wcy5pbml0aWFsRm9jdXNlZERhdGUsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbiA9IHByb3BzLm9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICByZW5kZXJEYXkgPSBwcm9wcy5yZW5kZXJEYXksXG4gICAgICByaWdodEFycm93SWNvbiA9IHByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBwcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShwcm9wcywgW1wiYWxsb3dLZXlib2FyZENvbnRyb2xcIiwgXCJhbmltYXRlWWVhclNjcm9sbGluZ1wiLCBcImF1dG9Pa1wiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImZvcm1hdFwiLCBcImZvcndhcmRlZFJlZlwiLCBcImxhYmVsRnVuY1wiLCBcImxlZnRBcnJvd0ljb25cIiwgXCJtYXhEYXRlXCIsIFwibWluRGF0ZVwiLCBcImluaXRpYWxGb2N1c2VkRGF0ZVwiLCBcIm9uQ2hhbmdlXCIsIFwib3BlblRvWWVhclNlbGVjdGlvblwiLCBcInJlbmRlckRheVwiLCBcInJpZ2h0QXJyb3dJY29uXCIsIFwic2hvdWxkRGlzYWJsZURhdGVcIiwgXCJ2YWx1ZVwiXSk7XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKEJhc2VQaWNrZXIkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHByb3BzKSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlQ2xlYXIgPSBfYS5oYW5kbGVDbGVhcixcbiAgICAgICAgaGFuZGxlRGlzbWlzcyA9IF9hLmhhbmRsZURpc21pc3MsXG4gICAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZSA9IF9hLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoTW9kYWxXcmFwcGVyLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgdXRpbHMuZGF0ZUZvcm1hdCxcbiAgICAgIGxhYmVsRnVuYzogbGFiZWxGdW5jLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIG9uQ2xlYXI6IGhhbmRsZUNsZWFyLFxuICAgICAgb25EaXNtaXNzOiBoYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkXG4gICAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlUGlja2VyJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IG9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZVxuICAgIH0pKTtcbiAgfSk7XG59O1xuIGZhbHNlID8gRGF0ZVBpY2tlck1vZGFsLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IGJvb2wsXG4gIGRpc2FibGVQYXN0OiBib29sLFxuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogYm9vbCxcbiAgbGFiZWxGdW5jOiBmdW5jLFxuICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgcmVuZGVyRGF5OiBmdW5jLFxuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcbkRhdGVQaWNrZXJNb2RhbC5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiBmYWxzZSxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGZhbHNlLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZFxufTtcbnZhciBEYXRlUGlja2VyTW9kYWwkMSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImZvcndhcmRSZWZcIl0pKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlUGlja2VyTW9kYWwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgSW5saW5lV3JhcHBlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShJbmxpbmVXcmFwcGVyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIElubGluZVdyYXBwZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgfTtcblxuICAgIF90aGlzLm9wZW4gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBhbmNob3JFbDogZS5jdXJyZW50VGFyZ2V0XG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uT3Blbikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk9wZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFuY2hvckVsOiBudWxsXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMucHJvcHMuaGFuZGxlQWNjZXB0KCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsb3NlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoIChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X2tleWNvZGVfX19kZWZhdWx0KCkoZXZlbnQpKSB7XG4gICAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5oYW5kbGVBY2NlcHQoKTtcblxuICAgICAgICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gaWYga2V5Y29kZSBpcyBub3QgaGFuZGxlZCwgc3RvcCBleGVjdXRpb25cbiAgICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGlmIGV2ZW50IHdhcyBoYW5kbGVkIHByZXZlbnQgb3RoZXIgc2lkZSBlZmZlY3RzXG5cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgSW5saW5lV3JhcHBlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgLy8gb25seSBpZiBhY2NlcHQgPSB0cnVlIGNsb3NlIHRoZSBwb3BvdmVyXG4gICAgaWYgKG5leHRQcm9wcy5pc0FjY2VwdGVkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmNob3JFbDogbnVsbFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBJbmxpbmVXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICBvbk9wZW4gPSBfYS5vbk9wZW4sXG4gICAgICAgIG9uQ2xvc2UgPSBfYS5vbkNsb3NlLFxuICAgICAgICBQb3BvdmVyUHJvcHMgPSBfYS5Qb3BvdmVyUHJvcHMsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBrZXlib2FyZCA9IF9hLmtleWJvYXJkLFxuICAgICAgICBvbmx5Q2FsZW5kYXIgPSBfYS5vbmx5Q2FsZW5kYXIsXG4gICAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQsXG4gICAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKF9hLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImNoaWxkcmVuXCIsIFwib25PcGVuXCIsIFwib25DbG9zZVwiLCBcIlBvcG92ZXJQcm9wc1wiLCBcImlzQWNjZXB0ZWRcIiwgXCJrZXlib2FyZFwiLCBcIm9ubHlDYWxlbmRhclwiLCBcImNsYXNzZXNcIiwgXCJoYW5kbGVBY2NlcHRcIl0pO1xuXG4gICAgdmFyIGlzT3BlbiA9IEJvb2xlYW4odGhpcy5zdGF0ZS5hbmNob3JFbCk7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIGlzT3BlbiAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X3JlYWN0X2V2ZW50X2xpc3RlbmVyX19fZGVmYXVsdC5hLCB7XG4gICAgICB0YXJnZXQ6IFwid2luZG93XCIsXG4gICAgICBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93blxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGV4dEZpZWxkJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgb25DbGljazogdGhpcy5vcGVuLFxuICAgICAga2V5Ym9hcmQ6IGtleWJvYXJkXG4gICAgfSwgb3RoZXIpKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fbWF0ZXJpYWxfdWlfY29yZV9Qb3BvdmVyX19fZGVmYXVsdC5hLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBpZDogXCJwaWNrZXItcG9wb3ZlclwiLFxuICAgICAgb3BlbjogaXNPcGVuLFxuICAgICAgYW5jaG9yRWw6IHRoaXMuc3RhdGUuYW5jaG9yRWwsXG4gICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlLFxuICAgICAgY2xhc3Nlczoge1xuICAgICAgICBwYXBlcjogY2xhc3Nlcy5wb3BvdmVyUGFwZXJcbiAgICAgIH0sXG4gICAgICBhbmNob3JPcmlnaW46IHtcbiAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICBob3Jpem9udGFsOiBrZXlib2FyZCA/ICdyaWdodCcgOiAnY2VudGVyJ1xuICAgICAgfSxcbiAgICAgIHRyYW5zZm9ybU9yaWdpbjoge1xuICAgICAgICB2ZXJ0aWNhbDogJ3RvcCcsXG4gICAgICAgIGhvcml6b250YWw6IGtleWJvYXJkID8gJ3JpZ2h0JyA6ICdjZW50ZXInXG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfSwgUG9wb3ZlclByb3BzKSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IElubGluZVdyYXBwZXIucHJvcFR5cGVzID0ge1xuICAgIC8qKiBTaG93IG9ubHkgY2FsZW5kYXIgZm9yIGRhdGVwaWNrZXIgaW4gcG9wb3ZlciBtb2RlICovXG4gICAgb25seUNhbGVuZGFyOiBib29sLFxuXG4gICAgLyoqIFBpY2tlciB2YWx1ZSAqL1xuICAgIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAgIC8qKiBPbiBvcGVuIGNhbGxiYWNrIFsoZTogRXZlbnQpID0+IHZvaWRdICovXG4gICAgb25PcGVuOiBmdW5jLFxuXG4gICAgLyoqIE9uIGNsb3NlIGNhbGxiYWNrIFsoZTogRXZlbnQpID0+IHZvaWRdICovXG4gICAgb25DbG9zZTogZnVuYyxcblxuICAgIC8qKiBGb3JtYXQgc3RyaW5nICovXG4gICAgZm9ybWF0OiBzdHJpbmcsXG5cbiAgICAvKiogRGlhbG9nIHByb3BzIHBhc3NlZCB0byBtYXRlcmlhbC11aSBEaWFsb2cgKi9cbiAgICBQb3BvdmVyUHJvcHM6IG9iamVjdCxcbiAgICBsYWJlbEZ1bmM6IGZ1bmMsXG4gICAgb25DbGVhcjogZnVuYyxcbiAgICBpc0FjY2VwdGVkOiBib29sLFxuICAgIGhhbmRsZUFjY2VwdDogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAga2V5Ym9hcmQ6IGJvb2wsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBJbmxpbmVXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgICBvbmx5Q2FsZW5kYXI6IGZhbHNlLFxuICAgIGZvcm1hdDogdW5kZWZpbmVkLFxuICAgIG9uQ2xlYXI6IHVuZGVmaW5lZCxcbiAgICBvbk9wZW46IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlOiB1bmRlZmluZWQsXG4gICAgUG9wb3ZlclByb3BzOiB1bmRlZmluZWQsXG4gICAgaXNBY2NlcHRlZDogZmFsc2UsXG4gICAga2V5Ym9hcmQ6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gSW5saW5lV3JhcHBlcjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkOSA9IHtcbiAgcG9wb3ZlclBhcGVyOiB7XG4gICAgbWF4V2lkdGg6IDMxMCxcbiAgICBtaW5XaWR0aDogMjkwLFxuICAgIHBhZGRpbmdCb3R0b206IDhcbiAgfVxufTsgLy8gQHRzLWlnbm9yZVxuXG52YXIgSW5saW5lV3JhcHBlciQxID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fbWF0ZXJpYWxfdWlfY29yZV9zdHlsZXNfd2l0aFN0eWxlc19fX2RlZmF1bHQoKShzdHlsZXMkOSkoSW5saW5lV3JhcHBlcik7XG5cbnZhciBEYXRlUGlja2VySW5saW5lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBwcm9wcy5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGZvcndhcmRlZFJlZiA9IHByb3BzLmZvcndhcmRlZFJlZixcbiAgICAgIGxhYmVsRnVuYyA9IHByb3BzLmxhYmVsRnVuYyxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBtaW5EYXRlID0gcHJvcHMubWluRGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uID0gcHJvcHMub3BlblRvWWVhclNlbGVjdGlvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IHByb3BzLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9ubHlDYWxlbmRhciA9IHByb3BzLm9ubHlDYWxlbmRhcixcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKHByb3BzLCBbXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiLCBcImFuaW1hdGVZZWFyU2Nyb2xsaW5nXCIsIFwiZGlzYWJsZUZ1dHVyZVwiLCBcImRpc2FibGVQYXN0XCIsIFwiZm9ybWF0XCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwibGFiZWxGdW5jXCIsIFwibGVmdEFycm93SWNvblwiLCBcIm1heERhdGVcIiwgXCJtaW5EYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwib25DaGFuZ2VcIiwgXCJvcGVuVG9ZZWFyU2VsZWN0aW9uXCIsIFwicmVuZGVyRGF5XCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJzaG91bGREaXNhYmxlRGF0ZVwiLCBcInZhbHVlXCIsIFwiYXV0b09rXCIsIFwib25seUNhbGVuZGFyXCJdKTtcblxuICB2YXIgQ29tcG9uZW50VG9TaG93ID0gb25seUNhbGVuZGFyID8gQ2FsZW5kYXIkMSA6IERhdGVQaWNrZXIkMTtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKEJhc2VQaWNrZXIkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHByb3BzLCB7XG4gICAgYXV0b09rOiB0cnVlXG4gIH0pLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0O1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShJbmxpbmVXcmFwcGVyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCB8fCB1dGlscy5kYXRlRm9ybWF0LFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBpbm5lclJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGhhbmRsZUFjY2VwdDogaGFuZGxlQWNjZXB0XG4gICAgfSwgb3RoZXIpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDb21wb25lbnRUb1Nob3csIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IG9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZVxuICAgIH0pKTtcbiAgfSk7XG59O1xuIGZhbHNlID8gRGF0ZVBpY2tlcklubGluZS5wcm9wVHlwZXMgPSB7XG4gIG9ubHlDYWxlbmRhcjogYm9vbCxcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGJvb2wsXG4gIGxhYmVsRnVuYzogZnVuYyxcbiAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gIHJlbmRlckRheTogZnVuYyxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSksXG4gIGF1dG9PazogYm9vbFxufSA6IHZvaWQgMDtcbkRhdGVQaWNrZXJJbmxpbmUuZGVmYXVsdFByb3BzID0ge1xuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IHVuZGVmaW5lZCxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBmYWxzZSxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IHRydWUsXG4gIGxlZnRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19sZWZ0JyxcbiAgcmlnaHRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19yaWdodCcsXG4gIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIGF1dG9PazogdW5kZWZpbmVkLFxuICBvbmx5Q2FsZW5kYXI6IGZhbHNlXG59O1xudmFyIERhdGVQaWNrZXJJbmxpbmUkMSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImZvcndhcmRSZWZcIl0pKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlUGlja2VySW5saW5lLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIGNlbnRlciA9IHtcbiAgeDogMjYwIC8gMixcbiAgeTogMjYwIC8gMlxufTtcbnZhciBiYXNlUG9pbnQgPSB7XG4gIHg6IGNlbnRlci54LFxuICB5OiAwXG59O1xudmFyIGN4ID0gYmFzZVBvaW50LnggLSBjZW50ZXIueDtcbnZhciBjeSA9IGJhc2VQb2ludC55IC0gY2VudGVyLnk7XG5cbnZhciByYWQyZGVnID0gZnVuY3Rpb24gKHJhZCkge1xuICByZXR1cm4gcmFkICogNTcuMjk1Nzc5NTEzMDgyMzI7XG59O1xuXG52YXIgZ2V0QW5nbGVWYWx1ZSA9IGZ1bmN0aW9uIChzdGVwLCBvZmZzZXRYLCBvZmZzZXRZKSB7XG4gIHZhciB4ID0gb2Zmc2V0WCAtIGNlbnRlci54O1xuICB2YXIgeSA9IG9mZnNldFkgLSBjZW50ZXIueTtcbiAgdmFyIGF0YW4gPSBNYXRoLmF0YW4yKGN4LCBjeSkgLSBNYXRoLmF0YW4yKHgsIHkpO1xuICB2YXIgZGVnID0gcmFkMmRlZyhhdGFuKTtcbiAgZGVnID0gTWF0aC5yb3VuZChkZWcgLyBzdGVwKSAqIHN0ZXA7XG4gIGRlZyAlPSAzNjA7XG4gIHZhciB2YWx1ZSA9IE1hdGguZmxvb3IoZGVnIC8gc3RlcCkgfHwgMDtcbiAgdmFyIGRlbHRhID0gTWF0aC5wb3coeCwgMikgKyBNYXRoLnBvdyh5LCAyKTtcbiAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGRlbHRhKTtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgZGlzdGFuY2U6IGRpc3RhbmNlXG4gIH07XG59O1xuXG52YXIgZ2V0SG91cnMgPSBmdW5jdGlvbiAob2Zmc2V0WCwgb2Zmc2V0WSwgYW1wbSkge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgdmFyIF9hID0gZ2V0QW5nbGVWYWx1ZSgzMCwgb2Zmc2V0WCwgb2Zmc2V0WSksXG4gICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgZGlzdGFuY2UgPSBfYS5kaXN0YW5jZTtcblxuICB2YWx1ZSA9IHZhbHVlIHx8IDEyO1xuXG4gIGlmICghYW1wbSkge1xuICAgIGlmIChkaXN0YW5jZSA8IDkwKSB7XG4gICAgICB2YWx1ZSArPSAxMjtcbiAgICAgIHZhbHVlICU9IDI0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSAlPSAxMjtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgZ2V0TWludXRlcyA9IGZ1bmN0aW9uIChvZmZzZXRYLCBvZmZzZXRZLCBzdGVwKSB7XG4gIGlmIChzdGVwID09PSB2b2lkIDApIHtcbiAgICBzdGVwID0gNjtcbiAgfVxuXG4gIHZhciB2YWx1ZSA9IGdldEFuZ2xlVmFsdWUoc3RlcCwgb2Zmc2V0WCwgb2Zmc2V0WSkudmFsdWU7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgY29udmVydFRvTWVyaWRpZW0gPSBmdW5jdGlvbiAodGltZSwgbWVyaWRpZW0sIGFtcG0sIHV0aWxzKSB7XG4gIGlmIChhbXBtKSB7XG4gICAgdmFyIGN1cnJlbnRNZXJpZGllbSA9IHV0aWxzLmdldEhvdXJzKHRpbWUpID49IDEyID8gJ3BtJyA6ICdhbSc7XG5cbiAgICBpZiAoY3VycmVudE1lcmlkaWVtICE9PSBtZXJpZGllbSkge1xuICAgICAgdmFyIGhvdXJzID0gbWVyaWRpZW0gPT09ICdhbScgPyB1dGlscy5nZXRIb3Vycyh0aW1lKSAtIDEyIDogdXRpbHMuZ2V0SG91cnModGltZSkgKyAxMjtcbiAgICAgIHJldHVybiB1dGlscy5zZXRIb3Vycyh0aW1lLCBob3Vycyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRpbWU7XG59O1xuXG52YXIgQ2xvY2tUeXBlO1xuXG4oZnVuY3Rpb24gKENsb2NrVHlwZSkge1xuICBDbG9ja1R5cGVbXCJIT1VSU1wiXSA9IFwiaG91cnNcIjtcbiAgQ2xvY2tUeXBlW1wiTUlOVVRFU1wiXSA9IFwibWludXRlc1wiO1xuICBDbG9ja1R5cGVbXCJTRUNPTkRTXCJdID0gXCJzZWNvbmRzXCI7XG59KShDbG9ja1R5cGUgfHwgKENsb2NrVHlwZSA9IHt9KSk7XG5cbnZhciBDbG9ja1R5cGUkMSA9IENsb2NrVHlwZTtcblxudmFyIENsb2NrUG9pbnRlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShDbG9ja1BvaW50ZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2xvY2tQb2ludGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0b0FuaW1hdGVUcmFuc2Zvcm06IGZhbHNlLFxuICAgICAgcHJldmlvdXNUeXBlOiB1bmRlZmluZWRcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0QW5nbGVTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgICAgaXNJbm5lciA9IF9hLmlzSW5uZXIsXG4gICAgICAgICAgdHlwZSA9IF9hLnR5cGU7XG4gICAgICB2YXIgbWF4ID0gdHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMgPyAxMiA6IDYwO1xuICAgICAgdmFyIGFuZ2xlID0gMzYwIC8gbWF4ICogdmFsdWU7XG5cbiAgICAgIGlmICh0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyAmJiB2YWx1ZSA+IDEyKSB7XG4gICAgICAgIGFuZ2xlIC09IDM2MDsgLy8gcm91bmQgdXAgYW5nbGUgdG8gbWF4IDM2MCBkZWdyZWVzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaXNJbm5lciA/ICcyNiUnIDogJzQwJScsXG4gICAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGVaKFwiICsgYW5nbGUgKyBcImRlZylcIlxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2xvY2tQb2ludGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hLCBfYjtcblxuICAgIHZhciBfYyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYy5jbGFzc2VzLFxuICAgICAgICBoYXNTZWxlY3RlZCA9IF9jLmhhc1NlbGVjdGVkO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICBzdHlsZTogdGhpcy5nZXRBbmdsZVN0eWxlKCksXG4gICAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnBvaW50ZXIsIChfYSA9IHt9LCBfYVtjbGFzc2VzLmFuaW1hdGVUcmFuc2Zvcm1dID0gdGhpcy5zdGF0ZS50b0FuaW1hdGVUcmFuc2Zvcm0sIF9hKSlcbiAgICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLnRodW1iLCAoX2IgPSB7fSwgX2JbY2xhc3Nlcy5ub1BvaW50XSA9IGhhc1NlbGVjdGVkLCBfYikpXG4gICAgfSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IENsb2NrUG9pbnRlci5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdmFsdWU6IG51bWJlci5pc1JlcXVpcmVkLFxuICAgIGhhc1NlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gICAgaXNJbm5lcjogYm9vbC5pc1JlcXVpcmVkLFxuICAgIGlubmVyUmVmOiBhbnksXG4gICAgdHlwZTogb25lT2YoT2JqZWN0LmtleXMoQ2xvY2tUeXBlJDEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gQ2xvY2tUeXBlJDFba2V5XTtcbiAgICB9KSkuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuXG4gIENsb2NrUG9pbnRlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBzdGF0ZSkge1xuICAgIGlmIChuZXh0UHJvcHMudHlwZSAhPT0gc3RhdGUucHJldmlvdXNUeXBlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b0FuaW1hdGVUcmFuc2Zvcm06IHRydWUsXG4gICAgICAgIHByZXZpb3VzVHlwZTogbmV4dFByb3BzLnR5cGVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvQW5pbWF0ZVRyYW5zZm9ybTogZmFsc2UsXG4gICAgICBwcmV2aW91c1R5cGU6IG5leHRQcm9wcy50eXBlXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gQ2xvY2tQb2ludGVyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJGEgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgcG9pbnRlcjoge1xuICAgICAgd2lkdGg6IDIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBsZWZ0OiAnY2FsYyg1MCUgLSAxcHgpJyxcbiAgICAgIGJvdHRvbTogJzUwJScsXG4gICAgICB0cmFuc2Zvcm1PcmlnaW46ICdjZW50ZXIgYm90dG9tIDBweCdcbiAgICB9LFxuICAgIGFuaW1hdGVUcmFuc2Zvcm06IHtcbiAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZShbJ3RyYW5zZm9ybScsICdoZWlnaHQnXSlcbiAgICB9LFxuICAgIHRodW1iOiB7XG4gICAgICB3aWR0aDogNCxcbiAgICAgIGhlaWdodDogNCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAtMjEsXG4gICAgICBsZWZ0OiAtMTUsXG4gICAgICBib3JkZXI6IFwiMTRweCBzb2xpZCBcIiArIHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgYm94U2l6aW5nOiAnY29udGVudC1ib3gnXG4gICAgfSxcbiAgICBub1BvaW50OiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2tQb2ludGVyJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyRhLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2xvY2tQb2ludGVyJ1xufSkoQ2xvY2tQb2ludGVyKTtcblxudmFyIENsb2NrID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKENsb2NrLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIENsb2NrKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcblxuICAgIF90aGlzLmhhbmRsZVRvdWNoTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5pc01vdmluZyA9IHRydWU7XG5cbiAgICAgIF90aGlzLnNldFRpbWUoZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVRvdWNoRW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5pc01vdmluZykge1xuICAgICAgICBfdGhpcy5zZXRUaW1lKGUsIHRydWUpO1xuXG4gICAgICAgIF90aGlzLmlzTW92aW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gTW91c2VFdmVudC53aGljaCBpcyBkZXByZWNhdGVkLCBidXQgTW91c2VFdmVudC5idXR0b25zIGlzIG5vdCBzdXBwb3J0ZWQgaW4gU2FmYXJpXG5cbiAgICAgIHZhciBpc0J1dHRvblByZXNzZWQgPSB0eXBlb2YgZS5idXR0b25zID09PSAndW5kZWZpbmVkJyA/IGUubmF0aXZlRXZlbnQud2hpY2ggPT09IDEgOiBlLmJ1dHRvbnMgPT09IDE7XG5cbiAgICAgIGlmIChpc0J1dHRvblByZXNzZWQpIHtcbiAgICAgICAgX3RoaXMuc2V0VGltZShlLm5hdGl2ZUV2ZW50LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLmlzTW92aW5nKSB7XG4gICAgICAgIF90aGlzLmlzTW92aW5nID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFRpbWUoZS5uYXRpdmVFdmVudCwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhc1NlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdHlwZSA9IF9hLnR5cGUsXG4gICAgICAgICAgdmFsdWUgPSBfYS52YWx1ZTtcblxuICAgICAgaWYgKHR5cGUgPT09IENsb2NrVHlwZSQxLkhPVVJTKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWUgJSA1ID09PSAwO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9jay5wcm90b3R5cGUuc2V0VGltZSA9IGZ1bmN0aW9uIChlLCBpc0ZpbmlzaCkge1xuICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICBpc0ZpbmlzaCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBvZmZzZXRYID0gZS5vZmZzZXRYLFxuICAgICAgICBvZmZzZXRZID0gZS5vZmZzZXRZO1xuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXRYID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHJlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIG9mZnNldFggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgICBvZmZzZXRZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gcmVjdC50b3A7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy50eXBlID09PSBDbG9ja1R5cGUkMS5TRUNPTkRTIHx8IHRoaXMucHJvcHMudHlwZSA9PT0gQ2xvY2tUeXBlJDEuTUlOVVRFUyA/IGdldE1pbnV0ZXMob2Zmc2V0WCwgb2Zmc2V0WSkgOiBnZXRIb3VycyhvZmZzZXRYLCBvZmZzZXRZLCBCb29sZWFuKHRoaXMucHJvcHMuYW1wbSkpO1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUsIGlzRmluaXNoKTtcbiAgfTtcblxuICBDbG9jay5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgYW1wbSA9IF9hLmFtcG07XG4gICAgdmFyIGlzUG9pbnRlcklubmVyID0gIWFtcG0gJiYgdHlwZSA9PT0gQ2xvY2tUeXBlJDEuSE9VUlMgJiYgKHZhbHVlIDwgMSB8fCB2YWx1ZSA+IDEyKTtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhaW5lclxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9ja1xuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIHJvbGU6IFwibWVudVwiLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNxdWFyZU1hc2ssXG4gICAgICBvblRvdWNoTW92ZTogdGhpcy5oYW5kbGVUb3VjaE1vdmUsXG4gICAgICBvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kLFxuICAgICAgb25Nb3VzZVVwOiB0aGlzLmhhbmRsZU1vdXNlVXAsXG4gICAgICBvbk1vdXNlTW92ZTogdGhpcy5oYW5kbGVNb3ZlXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5waW5cbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tQb2ludGVyJDEsIHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0lubmVyOiBpc1BvaW50ZXJJbm5lcixcbiAgICAgIGhhc1NlbGVjdGVkOiB0aGlzLmhhc1NlbGVjdGVkKClcbiAgICB9KSwgY2hpbGRyZW4pKTtcbiAgfTtcblxuICAgZmFsc2UgPyBDbG9jay5wcm9wVHlwZXMgPSB7XG4gICAgdHlwZTogb25lT2YoT2JqZWN0LmtleXMoQ2xvY2tUeXBlJDEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gQ2xvY2tUeXBlJDFba2V5XTtcbiAgICB9KSkuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjaGlsZHJlbjogYXJyYXlPZihub2RlKS5pc1JlcXVpcmVkLFxuICAgIGFtcG06IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBDbG9jay5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYW1wbTogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIENsb2NrO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJGIgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgY29udGFpbmVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgbWFyZ2luOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiA0ICsgXCJweCAwIFwiICsgdGhlbWUuc3BhY2luZy51bml0ICsgXCJweFwiXG4gICAgfSxcbiAgICBjbG9jazoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwuMDcpJyxcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBoZWlnaHQ6IDI2MCxcbiAgICAgIHdpZHRoOiAyNjAsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIHpJbmRleDogMVxuICAgIH0sXG4gICAgc3F1YXJlTWFzazoge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bycsXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICB0b3VjaEFjdGlvbnM6ICdub25lJyxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICcmOmFjdGl2ZSc6IHtcbiAgICAgICAgY3Vyc29yOiAnbW92ZSdcbiAgICAgIH1cbiAgICB9LFxuICAgIHBpbjoge1xuICAgICAgd2lkdGg6IDYsXG4gICAgICBoZWlnaHQ6IDYsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAnNTAlJyxcbiAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIENsb2NrJDEgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc193aXRoU3R5bGVzX19fZGVmYXVsdCgpKHN0eWxlcyRiLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2xvY2snXG59KShDbG9jayk7XG5cbnZhciBwb3NpdGlvbnMgPSB7XG4gIDA6IFswLCA0MF0sXG4gIDE6IFs1NSwgMTkuNl0sXG4gIDI6IFs5NC40LCA1OS41XSxcbiAgMzogWzEwOSwgMTE0XSxcbiAgNDogWzk0LjQsIDE2OC41XSxcbiAgNTogWzU0LjUsIDIwOC40XSxcbiAgNjogWzAsIDIyM10sXG4gIDc6IFstNTQuNSwgMjA4LjRdLFxuICA4OiBbLTk0LjQsIDE2OC41XSxcbiAgOTogWy0xMDksIDExNF0sXG4gIDEwOiBbLTk0LjQsIDU5LjVdLFxuICAxMTogWy01NC41LCAxOS42XSxcbiAgMTI6IFswLCA1XSxcbiAgMTM6IFszNi45LCA0OS45XSxcbiAgMTQ6IFs2NCwgNzddLFxuICAxNTogWzc0LCAxMTRdLFxuICAxNjogWzY0LCAxNTFdLFxuICAxNzogWzM3LCAxNzhdLFxuICAxODogWzAsIDE4OF0sXG4gIDE5OiBbLTM3LCAxNzhdLFxuICAyMDogWy02NCwgMTUxXSxcbiAgMjE6IFstNzQsIDExNF0sXG4gIDIyOiBbLTY0LCA3N10sXG4gIDIzOiBbLTM3LCA1MF1cbn07XG5cbnZhciBDbG9ja051bWJlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShDbG9ja051bWJlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDbG9ja051bWJlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmdldFRyYW5zZm9ybVN0eWxlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgcG9zaXRpb24gPSBwb3NpdGlvbnNbaW5kZXhdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIiArIHBvc2l0aW9uWzBdICsgXCJweCwgXCIgKyBwb3NpdGlvblsxXSArIFwicHhcIlxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2xvY2tOdW1iZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG5cbiAgICB2YXIgX2IgPSB0aGlzLnByb3BzLFxuICAgICAgICBzZWxlY3RlZCA9IF9iLnNlbGVjdGVkLFxuICAgICAgICBsYWJlbCA9IF9iLmxhYmVsLFxuICAgICAgICBpbmRleCA9IF9iLmluZGV4LFxuICAgICAgICBjbGFzc2VzID0gX2IuY2xhc3NlcyxcbiAgICAgICAgaXNJbm5lciA9IF9iLmlzSW5uZXI7XG4gICAgdmFyIGNsYXNzTmFtZSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfY2xhc3NuYW1lc19fX2RlZmF1bHQoKShjbGFzc2VzLmNsb2NrTnVtYmVyLCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy5zZWxlY3RlZF0gPSBzZWxlY3RlZCwgX2EpKTtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fbWF0ZXJpYWxfdWlfY29yZV9UeXBvZ3JhcGh5X19fZGVmYXVsdC5hLCB7XG4gICAgICB2YXJpYW50OiBpc0lubmVyID8gJ2JvZHkxJyA6ICdzdWJ0aXRsZTEnLFxuICAgICAgY29tcG9uZW50OiBcInNwYW5cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHRoaXMuZ2V0VHJhbnNmb3JtU3R5bGUoaW5kZXgpXG4gICAgfSwgbGFiZWwpO1xuICB9O1xuXG4gICBmYWxzZSA/IENsb2NrTnVtYmVyLnByb3BUeXBlcyA9IHtcbiAgICBpbmRleDogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgbGFiZWw6IHN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaXNJbm5lcjogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENsb2NrTnVtYmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpc0lubmVyOiBmYWxzZVxuICB9O1xuICByZXR1cm4gQ2xvY2tOdW1iZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBzdHlsZXMkYyA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICB2YXIgc2l6ZSA9IHRoZW1lLnNwYWNpbmcudW5pdCAqIDQ7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICAgIGNsb2NrTnVtYmVyOiB7XG4gICAgICB3aWR0aDogc2l6ZSxcbiAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgbGVmdDogXCJjYWxjKDUwJSAtIFwiICsgc2l6ZSAvIDIgKyBcInB4KVwiLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1mbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSA6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2tOdW1iZXIkMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGMsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNDbG9ja051bWJlcidcbn0pKENsb2NrTnVtYmVyKTtcblxudmFyIGdldEhvdXJOdW1iZXJzID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBhbXBtID0gX2EuYW1wbSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBkYXRlID0gX2EuZGF0ZTtcbiAgdmFyIGN1cnJlbnRIb3VycyA9IHV0aWxzLmdldEhvdXJzKGRhdGUpO1xuICB2YXIgaG91ck51bWJlcnMgPSBbXTtcbiAgdmFyIHN0YXJ0SG91ciA9IGFtcG0gPyAxIDogMDtcbiAgdmFyIGVuZEhvdXIgPSBhbXBtID8gMTIgOiAyMztcblxuICB2YXIgaXNTZWxlY3RlZCA9IGZ1bmN0aW9uIChob3VyKSB7XG4gICAgaWYgKGFtcG0pIHtcbiAgICAgIGlmIChob3VyID09PSAxMikge1xuICAgICAgICByZXR1cm4gY3VycmVudEhvdXJzID09PSAxMiB8fCBjdXJyZW50SG91cnMgPT09IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjdXJyZW50SG91cnMgPT09IGhvdXIgfHwgY3VycmVudEhvdXJzIC0gMTIgPT09IGhvdXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRIb3VycyA9PT0gaG91cjtcbiAgfTtcblxuICBmb3IgKHZhciBob3VyID0gc3RhcnRIb3VyOyBob3VyIDw9IGVuZEhvdXI7IGhvdXIgKz0gMSkge1xuICAgIHZhciBsYWJlbCA9IGhvdXIudG9TdHJpbmcoKTtcblxuICAgIGlmIChob3VyID09PSAwKSB7XG4gICAgICBsYWJlbCA9ICcwMCc7XG4gICAgfVxuXG4gICAgdmFyIHByb3BzID0ge1xuICAgICAgaW5kZXg6IGhvdXIsXG4gICAgICBsYWJlbDogdXRpbHMuZm9ybWF0TnVtYmVyKGxhYmVsKSxcbiAgICAgIHNlbGVjdGVkOiBpc1NlbGVjdGVkKGhvdXIpLFxuICAgICAgaXNJbm5lcjogIWFtcG0gJiYgKGhvdXIgPT09IDAgfHwgaG91ciA+IDEyKVxuICAgIH07XG4gICAgaG91ck51bWJlcnMucHVzaChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBrZXk6IGhvdXJcbiAgICB9LCBwcm9wcykpKTtcbiAgfVxuXG4gIHJldHVybiBob3VyTnVtYmVycztcbn07XG52YXIgZ2V0TWludXRlc051bWJlcnMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICB2YXIgZiA9IHV0aWxzLmZvcm1hdE51bWJlcjtcbiAgcmV0dXJuIFtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzAwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAwLFxuICAgIGluZGV4OiAxMixcbiAgICBrZXk6IDEyXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzA1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA1LFxuICAgIGluZGV4OiAxLFxuICAgIGtleTogMVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcxMCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMTAsXG4gICAgaW5kZXg6IDIsXG4gICAga2V5OiAyXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzE1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAxNSxcbiAgICBpbmRleDogMyxcbiAgICBrZXk6IDNcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMjAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDIwLFxuICAgIGluZGV4OiA0LFxuICAgIGtleTogNFxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcyNScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMjUsXG4gICAgaW5kZXg6IDUsXG4gICAga2V5OiA1XG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzMwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAzMCxcbiAgICBpbmRleDogNixcbiAgICBrZXk6IDZcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMzUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDM1LFxuICAgIGluZGV4OiA3LFxuICAgIGtleTogN1xuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCc0MCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNDAsXG4gICAgaW5kZXg6IDgsXG4gICAga2V5OiA4XG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzQ1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA0NSxcbiAgICBpbmRleDogOSxcbiAgICBrZXk6IDlcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNTAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDUwLFxuICAgIGluZGV4OiAxMCxcbiAgICBrZXk6IDEwXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzU1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA1NSxcbiAgICBpbmRleDogMTEsXG4gICAga2V5OiAxMVxuICB9KV07XG59O1xuXG52YXIgVGltZVBpY2tlclZpZXcgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJiXCIgLyogX19leHRlbmRzICovXSkoVGltZVBpY2tlclZpZXcsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gVGltZVBpY2tlclZpZXcoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5nZXRWaWV3UHJvcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgICBhbXBtID0gX2EuYW1wbSxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuXG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBDbG9ja1R5cGUkMS5IT1VSUzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHV0aWxzLmdldEhvdXJzKGRhdGUpLFxuICAgICAgICAgICAgY2hpbGRyZW46IGdldEhvdXJOdW1iZXJzKHtcbiAgICAgICAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgICAgICAgYW1wbTogQm9vbGVhbihhbXBtKSxcbiAgICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVIb3VyQ2hhbmdlXG4gICAgICAgICAgfTtcblxuICAgICAgICBjYXNlIENsb2NrVHlwZSQxLk1JTlVURVM6XG4gICAgICAgICAgdmFyIG1pbnV0ZXNWYWx1ZSA9IHV0aWxzLmdldE1pbnV0ZXMoZGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBtaW51dGVzVmFsdWUsXG4gICAgICAgICAgICBjaGlsZHJlbjogZ2V0TWludXRlc051bWJlcnMoe1xuICAgICAgICAgICAgICB2YWx1ZTogbWludXRlc1ZhbHVlLFxuICAgICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzLmhhbmRsZU1pbnV0ZXNDaGFuZ2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgQ2xvY2tUeXBlJDEuU0VDT05EUzpcbiAgICAgICAgICB2YXIgc2Vjb25kc1ZhbHVlID0gdXRpbHMuZ2V0U2Vjb25kcyhkYXRlKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHNlY29uZHNWYWx1ZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBnZXRNaW51dGVzTnVtYmVycyh7XG4gICAgICAgICAgICAgIHZhbHVlOiBzZWNvbmRzVmFsdWUsXG4gICAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMuaGFuZGxlU2Vjb25kc0NoYW5nZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHByb3ZpZGUgdGhlIHR5cGUgZm9yIFRpbWVQaWNrZXJWaWV3Jyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUhvdXJDaGFuZ2UgPSBmdW5jdGlvbiAoaG91cnMsIGlzRmluaXNoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIHVwZGF0ZWRUaW1lID0gdXRpbHMuc2V0SG91cnMoZGF0ZSwgaG91cnMpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkhvdXJDaGFuZ2UodXBkYXRlZFRpbWUsIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTWludXRlc0NoYW5nZSA9IGZ1bmN0aW9uIChtaW51dGVzLCBpc0ZpbmlzaCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciB1cGRhdGVkVGltZSA9IHV0aWxzLnNldE1pbnV0ZXMoZGF0ZSwgbWludXRlcyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uTWludXRlc0NoYW5nZSh1cGRhdGVkVGltZSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlID0gZnVuY3Rpb24gKHNlY29uZHMsIGlzRmluaXNoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIHVwZGF0ZWRUaW1lID0gdXRpbHMuc2V0U2Vjb25kcyhkYXRlLCBzZWNvbmRzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25TZWNvbmRzQ2hhbmdlKHVwZGF0ZWRUaW1lLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRpbWVQaWNrZXJWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgYW1wbSA9IF9hLmFtcG0sXG4gICAgICAgIHR5cGUgPSBfYS50eXBlO1xuICAgIHZhciB2aWV3UHJvcHMgPSB0aGlzLmdldFZpZXdQcm9wcygpO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDbG9jayQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgYW1wbTogYW1wbVxuICAgIH0sIHZpZXdQcm9wcykpO1xuICB9O1xuXG4gICBmYWxzZSA/IFRpbWVQaWNrZXJWaWV3LnByb3BUeXBlcyA9IHtcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkhvdXJDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbk1pbnV0ZXNDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblNlY29uZHNDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgYW1wbTogYm9vbCxcbiAgICB0eXBlOiBvbmVPZihPYmplY3Qua2V5cyhDbG9ja1R5cGUkMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBDbG9ja1R5cGUkMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIFRpbWVQaWNrZXJWaWV3LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbXBtOiB0cnVlXG4gIH07XG4gIHJldHVybiBUaW1lUGlja2VyVmlldztcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtcbnZhciBUaW1lUGlja2VyVmlldyQxID0gd2l0aFV0aWxzKCkoVGltZVBpY2tlclZpZXcpO1xuXG52YXIgVGltZVBpY2tlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImJcIiAvKiBfX2V4dGVuZHMgKi9dKShUaW1lUGlja2VyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFRpbWVQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5IT1VSUyxcbiAgICAgIG1lcmlkaWVtTW9kZTogX3RoaXMucHJvcHMudXRpbHMuZ2V0SG91cnMoX3RoaXMucHJvcHMuZGF0ZSkgPj0gMTIgPyAncG0nIDogJ2FtJ1xuICAgIH07XG5cbiAgICBfdGhpcy5zZXRNZXJpZGllbU1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1lcmlkaWVtTW9kZTogbW9kZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNoYW5nZSh7XG4gICAgICAgICAgICB0aW1lOiBfdGhpcy5wcm9wcy5kYXRlLFxuICAgICAgICAgICAgaXNGaW5pc2g6IGZhbHNlLFxuICAgICAgICAgICAgb3Blbk1pbnV0ZXM6IGZhbHNlLFxuICAgICAgICAgICAgb3BlblNlY29uZHM6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICB2YXIgdGltZSA9IF9hLnRpbWUsXG4gICAgICAgICAgaXNGaW5pc2ggPSBfYS5pc0ZpbmlzaCxcbiAgICAgICAgICBvcGVuTWludXRlcyA9IF9hLm9wZW5NaW51dGVzLFxuICAgICAgICAgIG9wZW5TZWNvbmRzID0gX2Eub3BlblNlY29uZHM7XG4gICAgICB2YXIgd2l0aE1lcmlkaWVtID0gY29udmVydFRvTWVyaWRpZW0odGltZSwgX3RoaXMuc3RhdGUubWVyaWRpZW1Nb2RlLCBCb29sZWFuKF90aGlzLnByb3BzLmFtcG0pLCBfdGhpcy5wcm9wcy51dGlscyk7XG5cbiAgICAgIGlmIChpc0ZpbmlzaCkge1xuICAgICAgICBpZiAoIW9wZW5NaW51dGVzICYmICFvcGVuU2Vjb25kcykge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHdpdGhNZXJpZGllbSwgaXNGaW5pc2gpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZW5NaW51dGVzKSB7XG4gICAgICAgICAgX3RoaXMub3Blbk1pbnV0ZXNWaWV3KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlblNlY29uZHMpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuU2Vjb25kc1ZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh3aXRoTWVyaWRpZW0sIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlSG91ckNoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgaXNGaW5pc2g6IGlzRmluaXNoLFxuICAgICAgICBvcGVuTWludXRlczogdHJ1ZSxcbiAgICAgICAgb3BlblNlY29uZHM6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTWludXRlc0NoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgaXNGaW5pc2g6IGlzRmluaXNoLFxuICAgICAgICBvcGVuTWludXRlczogZmFsc2UsXG4gICAgICAgIG9wZW5TZWNvbmRzOiBCb29sZWFuKF90aGlzLnByb3BzLnNlY29uZHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU2Vjb25kc0NoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgaXNGaW5pc2g6IGlzRmluaXNoLFxuICAgICAgICBvcGVuTWludXRlczogZmFsc2UsXG4gICAgICAgIG9wZW5TZWNvbmRzOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5TZWNvbmRzVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLlNFQ09ORFNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuTWludXRlc1ZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5NSU5VVEVTXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbkhvdXJWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuVmlldzogQ2xvY2tUeXBlJDEuSE9VUlNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUaW1lUGlja2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIHRoZW1lID0gX2IudGhlbWUsXG4gICAgICAgIGRhdGUgPSBfYi5kYXRlLFxuICAgICAgICB1dGlscyA9IF9iLnV0aWxzLFxuICAgICAgICBhbXBtID0gX2IuYW1wbSxcbiAgICAgICAgc2Vjb25kcyA9IF9iLnNlY29uZHM7XG4gICAgdmFyIF9jID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgbWVyaWRpZW1Nb2RlID0gX2MubWVyaWRpZW1Nb2RlLFxuICAgICAgICBvcGVuVmlldyA9IF9jLm9wZW5WaWV3O1xuICAgIHZhciBydGwgPSB0aGVtZS5kaXJlY3Rpb24gPT09ICdydGwnO1xuICAgIHZhciBob3VyTWludXRlQ2xhc3NOYW1lID0gcnRsID8gY2xhc3Nlcy5ob3VyTWludXRlTGFiZWxSZXZlcnNlIDogY2xhc3Nlcy5ob3VyTWludXRlTGFiZWw7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiRnJhZ21lbnRcIl0sIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFBpY2tlclRvb2xiYXIkMSwge1xuICAgICAgY2xhc3NOYW1lOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoY2xhc3Nlcy50b29sYmFyLCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy50b29sYmFyTGVmdFBhZGRpbmddID0gYW1wbSwgX2EpKVxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogaG91ck1pbnV0ZUNsYXNzTmFtZVxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuSG91clZpZXcsXG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IENsb2NrVHlwZSQxLkhPVVJTLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldEhvdXJUZXh0KGRhdGUsIEJvb2xlYW4oYW1wbSkpXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgbGFiZWw6IFwiOlwiLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlcGFyYXRvclxuICAgIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3Blbk1pbnV0ZXNWaWV3LFxuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBDbG9ja1R5cGUkMS5NSU5VVEVTLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldE1pbnV0ZVRleHQoZGF0ZSlcbiAgICB9KSwgc2Vjb25kcyAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkZyYWdtZW50XCJdLCBudWxsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIGxhYmVsOiBcIjpcIixcbiAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZXBhcmF0b3JcbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5TZWNvbmRzVmlldyxcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gQ2xvY2tUeXBlJDEuU0VDT05EUyxcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRTZWNvbmRUZXh0KGRhdGUpXG4gICAgfSkpKSwgYW1wbSAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IHNlY29uZHMgPyBjbGFzc2VzLmFtcG1TZWxlY3Rpb25XaXRoU2Vjb25kcyA6IGNsYXNzZXMuYW1wbVNlbGVjdGlvblxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICAgIHNlbGVjdGVkOiBtZXJpZGllbU1vZGUgPT09ICdhbScsXG4gICAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgnYW0nKSxcbiAgICAgIG9uQ2xpY2s6IHRoaXMuc2V0TWVyaWRpZW1Nb2RlKCdhbScpXG4gICAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICAgIHNlbGVjdGVkOiBtZXJpZGllbU1vZGUgPT09ICdwbScsXG4gICAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgncG0nKSxcbiAgICAgIG9uQ2xpY2s6IHRoaXMuc2V0TWVyaWRpZW1Nb2RlKCdwbScpXG4gICAgfSkpKSwgdGhpcy5wcm9wcy5jaGlsZHJlbiwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVGltZVBpY2tlclZpZXckMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIHR5cGU6IHRoaXMuc3RhdGUub3BlblZpZXcsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgb25Ib3VyQ2hhbmdlOiB0aGlzLmhhbmRsZUhvdXJDaGFuZ2UsXG4gICAgICBvbk1pbnV0ZXNDaGFuZ2U6IHRoaXMuaGFuZGxlTWludXRlc0NoYW5nZSxcbiAgICAgIG9uU2Vjb25kc0NoYW5nZTogdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlXG4gICAgfSkpO1xuICB9O1xuXG4gICBmYWxzZSA/IFRpbWVQaWNrZXIucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdGhlbWU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBub2RlLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbXBtOiBib29sLFxuICAgIHNlY29uZHM6IGJvb2wsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBUaW1lUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjaGlsZHJlbjogbnVsbCxcbiAgICBhbXBtOiB0cnVlLFxuICAgIHNlY29uZHM6IGZhbHNlXG4gIH07XG4gIHJldHVybiBUaW1lUGlja2VyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG52YXIgc3R5bGVzJGQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19tYXRlcmlhbF91aV9jb3JlX3N0eWxlc19jcmVhdGVTdHlsZXNfX19kZWZhdWx0KCkoe1xuICAgIHRvb2xiYXI6IHtcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICB9LFxuICAgIHRvb2xiYXJMZWZ0UGFkZGluZzoge1xuICAgICAgcGFkZGluZ0xlZnQ6IDUwXG4gICAgfSxcbiAgICBzZXBhcmF0b3I6IHtcbiAgICAgIG1hcmdpbjogJzAgNHB4IDAgMnB4JyxcbiAgICAgIGN1cnNvcjogJ2RlZmF1bHQnXG4gICAgfSxcbiAgICBhbXBtU2VsZWN0aW9uOiB7XG4gICAgICBtYXJnaW5MZWZ0OiAyMCxcbiAgICAgIG1hcmdpblJpZ2h0OiAtMjBcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb25XaXRoU2Vjb25kczoge1xuICAgICAgbWFyZ2luTGVmdDogMTUsXG4gICAgICBtYXJnaW5SaWdodDogMTBcbiAgICB9LFxuICAgIGFtcG1MYWJlbDoge1xuICAgICAgZm9udFNpemU6IDE4XG4gICAgfSxcbiAgICBob3VyTWludXRlTGFiZWw6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJ1xuICAgIH0sXG4gICAgaG91ck1pbnV0ZUxhYmVsUmV2ZXJzZToge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ3Jvdy1yZXZlcnNlJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIFRpbWVQaWNrZXIkMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGQsIHtcbiAgd2l0aFRoZW1lOiB0cnVlLFxuICBuYW1lOiAnTXVpUGlja2Vyc1RpbWVQaWNrZXInXG59KSh3aXRoVXRpbHMoKShUaW1lUGlja2VyKSk7XG5cbnZhciBUaW1lUGlja2VyTW9kYWwgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgYW1wbSA9IHByb3BzLmFtcG0sXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBzZWNvbmRzID0gcHJvcHMuc2Vjb25kcyxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImF1dG9Pa1wiLCBcIm9uQ2hhbmdlXCIsIFwiYW1wbVwiLCBcImZvcndhcmRlZFJlZlwiLCBcInNlY29uZHNcIl0pO1xuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShCYXNlUGlja2VyJDEsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICBtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlOiB0cnVlXG4gIH0sIHByb3BzKSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlQ2xlYXIgPSBfYS5oYW5kbGVDbGVhcixcbiAgICAgICAgaGFuZGxlRGlzbWlzcyA9IF9hLmhhbmRsZURpc21pc3MsXG4gICAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZSA9IF9hLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgcGljazEyaE9yMjRoRm9ybWF0ID0gX2EucGljazEyaE9yMjRoRm9ybWF0O1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShNb2RhbFdyYXBwZXIsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImFcIiAvKiBfX2Fzc2lnbiAqL10pKHtcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgICBvbkFjY2VwdDogaGFuZGxlQWNjZXB0LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIG9uRGlzbWlzczogaGFuZGxlRGlzbWlzcyxcbiAgICAgIG9uU2V0VG9kYXk6IGhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy50aW1lMTJoRm9ybWF0LCB1dGlscy50aW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVGltZVBpY2tlciQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBzZWNvbmRzOiBzZWNvbmRzXG4gICAgfSkpO1xuICB9KTtcbn07XG4gZmFsc2UgPyBUaW1lUGlja2VyTW9kYWwucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhdXRvT2s6IGJvb2wsXG4gIGFtcG06IGJvb2wsXG4gIHNlY29uZHM6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcblRpbWVQaWNrZXJNb2RhbC5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiBmYWxzZSxcbiAgYW1wbTogdHJ1ZSxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIHNlY29uZHM6IGZhbHNlXG59O1xudmFyIFRpbWVQaWNrZXJNb2RhbCQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRpbWVQaWNrZXJNb2RhbCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBUaW1lUGlja2VySW5saW5lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgc2Vjb25kcyA9IHByb3BzLnNlY29uZHMsXG4gICAgICBvdGhlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdHNsaWJfX1tcImNcIiAvKiBfX3Jlc3QgKi9dKShwcm9wcywgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJvbkNoYW5nZVwiLCBcImFtcG1cIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJzZWNvbmRzXCJdKTtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQmFzZVBpY2tlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgbWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZTogdHJ1ZSxcbiAgICBhdXRvT2s6IHRydWVcbiAgfSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgcGljazEyaE9yMjRoRm9ybWF0ID0gX2EucGljazEyaE9yMjRoRm9ybWF0LFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQ7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKElubGluZVdyYXBwZXIkMSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgaW5uZXJSZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgaGFuZGxlQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy50aW1lMTJoRm9ybWF0LCB1dGlscy50aW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVGltZVBpY2tlciQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBzZWNvbmRzOiBzZWNvbmRzXG4gICAgfSkpO1xuICB9KTtcbn07XG4gZmFsc2UgPyBUaW1lUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgYW1wbTogYm9vbCxcbiAgc2Vjb25kczogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pXG59IDogdm9pZCAwO1xuVGltZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGFtcG06IHRydWUsXG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIHNlY29uZHM6IGZhbHNlXG59O1xudmFyIFRpbWVQaWNrZXJJbmxpbmUkMSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImZvcndhcmRSZWZcIl0pKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUaW1lUGlja2VySW5saW5lLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIERhdGVUaW1lUGlja2VyVmlldztcblxuKGZ1bmN0aW9uIChEYXRlVGltZVBpY2tlclZpZXcpIHtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiWUVBUlwiXSA9IFwieWVhclwiO1xuICBEYXRlVGltZVBpY2tlclZpZXdbXCJEQVRFXCJdID0gXCJkYXRlXCI7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIkhPVVJcIl0gPSBcImhvdXJzXCI7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIk1JTlVURVNcIl0gPSBcIm1pbnV0ZXNcIjtcbn0pKERhdGVUaW1lUGlja2VyVmlldyB8fCAoRGF0ZVRpbWVQaWNrZXJWaWV3ID0ge30pKTtcblxudmFyIERhdGVUaW1lUGlja2VyVmlldyQxID0gRGF0ZVRpbWVQaWNrZXJWaWV3O1xuXG52YXIgc3R5bGVzJGUgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX2NyZWF0ZVN0eWxlc19fX2RlZmF1bHQoKSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIHBhZGRpbmdMZWZ0OiAxNixcbiAgICAgIHBhZGRpbmdSaWdodDogMTYsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWFyb3VuZCdcbiAgICB9LFxuICAgIHNlcGFyYXRvcjoge1xuICAgICAgbWFyZ2luOiAnMCA0cHggMCAycHgnLFxuICAgICAgY3Vyc29yOiAnZGVmYXVsdCdcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb246IHtcbiAgICAgIHRvcDogOSxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgbWFyZ2luTGVmdDogMTAsXG4gICAgICBtYXJnaW5SaWdodDogLTEwXG4gICAgfSxcbiAgICBhbXBtTGFiZWw6IHtcbiAgICAgIGZvbnRTaXplOiAxOFxuICAgIH0sXG4gICAgaG91ck1pbnV0ZUxhYmVsOiB7XG4gICAgICB0b3A6IDUsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJyxcbiAgICAgIGZsZXhEaXJlY3Rpb246IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCcgPyAncm93LXJldmVyc2UnIDogJ3JvdydcbiAgICB9LFxuICAgIGRhdGVIZWFkZXI6IHtcbiAgICAgIGhlaWdodDogNjBcbiAgICB9LFxuICAgIHRpbWVIZWFkZXI6IHtcbiAgICAgIGhlaWdodDogNjUsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCdcbiAgICB9XG4gIH0pO1xufTtcbnZhciBEYXRlVGltZVBpY2tlckhlYWRlciA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIG9wZW5WaWV3ID0gX2Eub3BlblZpZXcsXG4gICAgICBtZXJpZGllbU1vZGUgPSBfYS5tZXJpZGllbU1vZGUsXG4gICAgICBvbk9wZW5WaWV3Q2hhbmdlID0gX2Eub25PcGVuVmlld0NoYW5nZSxcbiAgICAgIHNldE1lcmlkaWVtTW9kZSA9IF9hLnNldE1lcmlkaWVtTW9kZSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBhbXBtID0gX2EuYW1wbTtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFBpY2tlclRvb2xiYXIkMSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50b29sYmFyXG4gIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuZGF0ZUhlYWRlclxuICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLllFQVIpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5ZRUFSLFxuICAgIGxhYmVsOiB1dGlscy5nZXRZZWFyVGV4dChkYXRlKVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoNFwiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFLFxuICAgIGxhYmVsOiB1dGlscy5nZXREYXRlVGltZVBpY2tlckhlYWRlclRleHQoZGF0ZSlcbiAgfSkpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRpbWVIZWFkZXJcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5ob3VyTWludXRlTGFiZWxcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoM1wiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSLFxuICAgIGxhYmVsOiB1dGlscy5nZXRIb3VyVGV4dChkYXRlLCBhbXBtKVxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoM1wiLFxuICAgIGxhYmVsOiBcIjpcIixcbiAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlcGFyYXRvclxuICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoM1wiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbk9wZW5WaWV3Q2hhbmdlKERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMpO1xuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTLFxuICAgIGxhYmVsOiB1dGlscy5nZXRNaW51dGVUZXh0KGRhdGUpXG4gIH0pKSwgYW1wbSAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1TZWxlY3Rpb25cbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICBzZWxlY3RlZDogbWVyaWRpZW1Nb2RlID09PSAnYW0nLFxuICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgnYW0nKSxcbiAgICBvbkNsaWNrOiBzZXRNZXJpZGllbU1vZGUoJ2FtJylcbiAgfSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFRvb2xiYXJCdXR0b24kMSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hbXBtTGFiZWwsXG4gICAgc2VsZWN0ZWQ6IG1lcmlkaWVtTW9kZSA9PT0gJ3BtJyxcbiAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgIGxhYmVsOiB1dGlscy5nZXRNZXJpZGllbVRleHQoJ3BtJyksXG4gICAgb25DbGljazogc2V0TWVyaWRpZW1Nb2RlKCdwbScpXG4gIH0pKSkpO1xufTtcbiBmYWxzZSA/IERhdGVUaW1lUGlja2VySGVhZGVyLnByb3BUeXBlcyA9IHtcbiAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBtZXJpZGllbU1vZGU6IHN0cmluZy5pc1JlcXVpcmVkLFxuICBvcGVuVmlldzogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9uT3BlblZpZXdDaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgc2V0TWVyaWRpZW1Nb2RlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgYW1wbTogYm9vbCxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcbkRhdGVUaW1lUGlja2VySGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYW1wbTogdHJ1ZVxufTtcbnZhciBEYXRldGltZVBpY2tlckhlYWRlciA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGUsIHtcbiAgbmFtZTogJ011aVBpY2tlckRUSGVhZGVyJ1xufSkod2l0aFV0aWxzKCkoRGF0ZVRpbWVQaWNrZXJIZWFkZXIpKTtcblxudmFyIHZpZXdUb1RhYkluZGV4ID0gZnVuY3Rpb24gKG9wZW5WaWV3KSB7XG4gIGlmIChvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURSB8fCBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuWUVBUikge1xuICAgIHJldHVybiAnZGF0ZSc7XG4gIH1cblxuICByZXR1cm4gJ3RpbWUnO1xufTtcblxudmFyIHRhYkluZGV4VG9WaWV3ID0gZnVuY3Rpb24gKHRhYikge1xuICBpZiAodGFiID09PSAnZGF0ZScpIHtcbiAgICByZXR1cm4gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURTtcbiAgfVxuXG4gIHJldHVybiBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSO1xufTtcblxudmFyIERhdGVUaW1lUGlja2VyVGFicyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmlldyA9IHByb3BzLnZpZXcsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgY2xhc3NlcyA9IHByb3BzLmNsYXNzZXMsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lLFxuICAgICAgZGF0ZVJhbmdlSWNvbiA9IHByb3BzLmRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbiA9IHByb3BzLnRpbWVJY29uO1xuICB2YXIgaW5kaWNhdG9yQ29sb3IgPSB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyAnc2Vjb25kYXJ5JyA6ICdwcmltYXJ5JztcblxuICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB2aWV3VG9UYWJJbmRleCh2aWV3KSkge1xuICAgICAgb25DaGFuZ2UodGFiSW5kZXhUb1ZpZXcodmFsdWUpKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX21hdGVyaWFsX3VpX2NvcmVfUGFwZXJfX19kZWZhdWx0LmEsIG51bGwsIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX21hdGVyaWFsX3VpX2NvcmVfVGFic19fX2RlZmF1bHQuYSwge1xuICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICB2YWx1ZTogdmlld1RvVGFiSW5kZXgodmlldyksXG4gICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudGFicyxcbiAgICBpbmRpY2F0b3JDb2xvcjogaW5kaWNhdG9yQ29sb3JcbiAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fbWF0ZXJpYWxfdWlfY29yZV9UYWJfX19kZWZhdWx0LmEsIHtcbiAgICB2YWx1ZTogXCJkYXRlXCIsXG4gICAgaWNvbjogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXRlcmlhbF91aV9jb3JlX0ljb25fX19kZWZhdWx0LmEsIG51bGwsIGRhdGVSYW5nZUljb24pXG4gIH0pLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19tYXRlcmlhbF91aV9jb3JlX1RhYl9fX2RlZmF1bHQuYSwge1xuICAgIHZhbHVlOiBcInRpbWVcIixcbiAgICBpY29uOiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGVyaWFsX3VpX2NvcmVfSWNvbl9fX2RlZmF1bHQuYSwgbnVsbCwgdGltZUljb24pXG4gIH0pKSk7XG59O1xuIGZhbHNlID8gRGF0ZVRpbWVQaWNrZXJUYWJzLnByb3BUeXBlcyA9IHtcbiAgdmlldzogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGRhdGVSYW5nZUljb246IG5vZGUuaXNSZXF1aXJlZCxcbiAgdGltZUljb246IG5vZGUuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcbnZhciBzdHlsZXMkZiA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHRhYnM6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS50eXBlID09PSAnbGlnaHQnID8gdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmRbXCJkZWZhdWx0XCJdXG4gICAgfVxuICB9O1xufTtcbnZhciBEYXRlVGltZVBpY2tlclRhYnMkMSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhUaGVtZV9fX2RlZmF1bHQoKSgpKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX21hdGVyaWFsX3VpX2NvcmVfc3R5bGVzX3dpdGhTdHlsZXNfX19kZWZhdWx0KCkoc3R5bGVzJGYsIHtcbiAgbmFtZTogJ011aVBpY2tlckRUVGFicydcbn0pKERhdGVUaW1lUGlja2VyVGFicykpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJWaWV3JDIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHNlbGVjdGVkID0gX2Euc2VsZWN0ZWQsXG4gICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuO1xuXG4gIGlmICghc2VsZWN0ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShcImRpdlwiLCB7XG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH0pO1xufTtcbiBmYWxzZSA/IERhdGVUaW1lUGlja2VyVmlldyQyLnByb3BUeXBlcyA9IHtcbiAgc2VsZWN0ZWQ6IGJvb2wuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IG5vZGUuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcblxudmFyIERhdGVUaW1lUGlja2VyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYlwiIC8qIF9fZXh0ZW5kcyAqL10pKERhdGVUaW1lUGlja2VyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIERhdGVUaW1lUGlja2VyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuVmlldzogX3RoaXMucHJvcHMub3BlblRvLFxuICAgICAgbWVyaWRpZW1Nb2RlOiBfdGhpcy5wcm9wcy51dGlscy5nZXRIb3VycyhfdGhpcy5wcm9wcy5kYXRlKSA+PSAxMiA/ICdwbScgOiAnYW0nXG4gICAgfTtcblxuICAgIF90aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoLCBuZXh0Vmlldykge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UodGltZSk7XG5cbiAgICAgIGlmIChpc0ZpbmlzaCAmJiBfdGhpcy5wcm9wcy5hdXRvU3VibWl0KSB7XG4gICAgICAgIF90aGlzLmhhbmRsZVZpZXdDaGFuZ2UobmV4dFZpZXcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRNZXJpZGllbU1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1lcmlkaWVtTW9kZTogbW9kZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNoYW5nZShfdGhpcy5wcm9wcy5kYXRlLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVmlld0NoYW5nZSA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiB2aWV3XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgd2l0aE1lcmlkaWVtID0gY29udmVydFRvTWVyaWRpZW0odGltZSwgX3RoaXMuc3RhdGUubWVyaWRpZW1Nb2RlLCBCb29sZWFuKF90aGlzLnByb3BzLmFtcG0pLCBfdGhpcy5wcm9wcy51dGlscyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHdpdGhNZXJpZGllbSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVZZWFyQ2hhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIF90aGlzLm9uQ2hhbmdlKGRhdGUsIGZhbHNlLCBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRGF5Q2hhbmdlID0gZnVuY3Rpb24gKGRhdGUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5vbkNoYW5nZShkYXRlLCBpc0ZpbmlzaCwgRGF0ZVRpbWVQaWNrZXJWaWV3JDEuSE9VUik7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUhvdXJDaGFuZ2UgPSBmdW5jdGlvbiAodGltZSwgaXNGaW5pc2gpIHtcbiAgICAgIF90aGlzLm9uQ2hhbmdlKHRpbWUsIGlzRmluaXNoLCBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgRGF0ZVRpbWVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnN0YXRlLFxuICAgICAgICBvcGVuVmlldyA9IF9hLm9wZW5WaWV3LFxuICAgICAgICBtZXJpZGllbU1vZGUgPSBfYS5tZXJpZGllbU1vZGU7XG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0ZSA9IF9iLmRhdGUsXG4gICAgICAgIG1pbkRhdGUgPSBfYi5taW5EYXRlLFxuICAgICAgICBtYXhEYXRlID0gX2IubWF4RGF0ZSxcbiAgICAgICAgc2hvd1RhYnMgPSBfYi5zaG93VGFicyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYi5kaXNhYmxlUGFzdCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9iLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIGxlZnRBcnJvd0ljb24gPSBfYi5sZWZ0QXJyb3dJY29uLFxuICAgICAgICByaWdodEFycm93SWNvbiA9IF9iLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgICBkYXRlUmFuZ2VJY29uID0gX2IuZGF0ZVJhbmdlSWNvbixcbiAgICAgICAgdGltZUljb24gPSBfYi50aW1lSWNvbixcbiAgICAgICAgcmVuZGVyRGF5ID0gX2IucmVuZGVyRGF5LFxuICAgICAgICBhbXBtID0gX2IuYW1wbSxcbiAgICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBfYi5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmcgPSBfYi5hbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBfYi5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgICAgVmlld0NvbnRhaW5lckNvbXBvbmVudCA9IF9iLlZpZXdDb250YWluZXJDb21wb25lbnQ7XG4gICAgdmFyIENvbnRhaW5lciA9IFZpZXdDb250YWluZXJDb21wb25lbnQ7XG4gICAgdmFyIFZpZXdDb250YWluZXJDb21wb25lbnRQcm9wcyA9IHR5cGVvZiBWaWV3Q29udGFpbmVyQ29tcG9uZW50ID09PSAnc3RyaW5nJyA/IHt9IDoge1xuICAgICAgb3BlblZpZXc6IG9wZW5WaWV3LFxuICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2VcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcIkZyYWdtZW50XCJdLCBudWxsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRldGltZVBpY2tlckhlYWRlciwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG9wZW5WaWV3OiBvcGVuVmlldyxcbiAgICAgIG1lcmlkaWVtTW9kZTogbWVyaWRpZW1Nb2RlLFxuICAgICAgc2V0TWVyaWRpZW1Nb2RlOiB0aGlzLnNldE1lcmlkaWVtTW9kZSxcbiAgICAgIG9uT3BlblZpZXdDaGFuZ2U6IHRoaXMuaGFuZGxlVmlld0NoYW5nZSxcbiAgICAgIGFtcG06IGFtcG1cbiAgICB9KSwgc2hvd1RhYnMgJiYgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXJUYWJzJDEsIHtcbiAgICAgIHZpZXc6IG9wZW5WaWV3LFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlVmlld0NoYW5nZSxcbiAgICAgIGRhdGVSYW5nZUljb246IGRhdGVSYW5nZUljb24sXG4gICAgICB0aW1lSWNvbjogdGltZUljb25cbiAgICB9KSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQ29udGFpbmVyLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgVmlld0NvbnRhaW5lckNvbXBvbmVudFByb3BzKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXJWaWV3JDIsIHtcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuWUVBUlxuICAgIH0sIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFllYXJTZWxlY3Rpb24kMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlWWVhckNoYW5nZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmdcbiAgICB9KSksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUaW1lUGlja2VyVmlldyQyLCB7XG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEVcbiAgICB9LCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShDYWxlbmRhciQxLCB7XG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVEYXlDaGFuZ2UsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGltZVBpY2tlclZpZXckMiwge1xuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSIHx8IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5NSU5VVEVTXG4gICAgfSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoVGltZVBpY2tlclZpZXckMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIHR5cGU6IG9wZW5WaWV3LFxuICAgICAgb25Ib3VyQ2hhbmdlOiB0aGlzLmhhbmRsZUhvdXJDaGFuZ2UsXG4gICAgICBvbk1pbnV0ZXNDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgb25TZWNvbmRzQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgIGFtcG06IGFtcG1cbiAgICB9KSkpKTtcbiAgfTtcblxuICAgZmFsc2UgPyBEYXRlVGltZVBpY2tlci5wcm9wVHlwZXMgPSB7XG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gICAgYW1wbTogYm9vbCxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgICBhdXRvU3VibWl0OiBib29sLFxuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGluaXRpYWxGb2N1c2VkRGF0ZTogYW55LFxuICAgIGlubmVyUmVmOiBhbnksXG4gICAgZGF0ZVJhbmdlSWNvbjogbm9kZSxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGRpc2FibGVQYXN0OiBib29sLFxuICAgIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUuaXNSZXF1aXJlZCxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZS5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgb3BlblRvOiBvbmVPZihPYmplY3Qua2V5cyhEYXRlVGltZVBpY2tlclZpZXckMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBEYXRlVGltZVBpY2tlclZpZXckMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkLFxuICAgIHJlbmRlckRheTogZnVuYyxcbiAgICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcbiAgICBzaG93VGFiczogYm9vbCxcbiAgICB0aW1lSWNvbjogbm9kZSxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgVmlld0NvbnRhaW5lckNvbXBvbmVudDogb25lT2ZUeXBlKFtzdHJpbmcsIGZ1bmMsIG9iamVjdF0pXG4gIH0gOiB2b2lkIDA7XG4gIERhdGVUaW1lUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogZmFsc2UsXG4gICAgYW1wbTogdHJ1ZSxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gICAgYXV0b1N1Ym1pdDogdHJ1ZSxcbiAgICBkYXRlUmFuZ2VJY29uOiB1bmRlZmluZWQsXG4gICAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGxlZnRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgICByaWdodEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gICAgc2hvd1RhYnM6IHRydWUsXG4gICAgdGltZUljb246IHVuZGVmaW5lZCxcbiAgICBWaWV3Q29udGFpbmVyQ29tcG9uZW50OiAnZGl2J1xuICB9O1xuICByZXR1cm4gRGF0ZVRpbWVQaWNrZXI7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcbnZhciBEYXRlVGltZVBpY2tlciQxID0gd2l0aFV0aWxzKCkoRGF0ZVRpbWVQaWNrZXIpO1xuXG52YXIgRGF0ZVRpbWVQaWNrZXJNb2RhbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgIGF1dG9PayA9IHByb3BzLmF1dG9PayxcbiAgICAgIG9wZW5UbyA9IHByb3BzLm9wZW5UbyxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgbWF4RGF0ZSA9IHByb3BzLm1heERhdGUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBwcm9wcy5pbml0aWFsRm9jdXNlZERhdGUsXG4gICAgICBzaG93VGFicyA9IHByb3BzLnNob3dUYWJzLFxuICAgICAgYXV0b1N1Ym1pdCA9IHByb3BzLmF1dG9TdWJtaXQsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gcHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uID0gcHJvcHMucmlnaHRBcnJvd0ljb24sXG4gICAgICBkYXRlUmFuZ2VJY29uID0gcHJvcHMuZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uID0gcHJvcHMudGltZUljb24sXG4gICAgICByZW5kZXJEYXkgPSBwcm9wcy5yZW5kZXJEYXksXG4gICAgICBhbXBtID0gcHJvcHMuYW1wbSxcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBwcm9wcy5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIG90aGVyID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiY1wiIC8qIF9fcmVzdCAqL10pKHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImF1dG9Pa1wiLCBcIm9wZW5Ub1wiLCBcIm1pbkRhdGVcIiwgXCJtYXhEYXRlXCIsIFwiaW5pdGlhbEZvY3VzZWREYXRlXCIsIFwic2hvd1RhYnNcIiwgXCJhdXRvU3VibWl0XCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwibGVmdEFycm93SWNvblwiLCBcInJpZ2h0QXJyb3dJY29uXCIsIFwiZGF0ZVJhbmdlSWNvblwiLCBcInRpbWVJY29uXCIsIFwicmVuZGVyRGF5XCIsIFwiYW1wbVwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJhbGxvd0tleWJvYXJkQ29udHJvbFwiXSk7IC8vIGRvIG5vdCBzaG93IHRhYnMgZm9yIHNtYWxsIHNjcmVlbnNcblxuXG4gIHZhciB0b1Nob3dUYWJzID0gc2hvd1RhYnMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmlubmVySGVpZ2h0ID4gNjY3O1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQmFzZVBpY2tlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVDbGVhciA9IF9hLmhhbmRsZUNsZWFyLFxuICAgICAgICBoYW5kbGVEaXNtaXNzID0gX2EuaGFuZGxlRGlzbWlzcyxcbiAgICAgICAgaGFuZGxlU2V0VG9kYXlEYXRlID0gX2EuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQ7XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKE1vZGFsV3JhcHBlciwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF90c2xpYl9fW1wiYVwiIC8qIF9fYXNzaWduICovXSkoe1xuICAgICAgc2hvd1RhYnM6IHRvU2hvd1RhYnMsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgICBvbkRpc21pc3M6IGhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiBoYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgZm9ybWF0OiBwaWNrMTJoT3IyNGhGb3JtYXQodXRpbHMuZGF0ZVRpbWUxMmhGb3JtYXQsIHV0aWxzLmRhdGVUaW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoRGF0ZVRpbWVQaWNrZXIkMSwge1xuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZyxcbiAgICAgIGF1dG9TdWJtaXQ6IGF1dG9TdWJtaXQsXG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgZGF0ZVJhbmdlSWNvbjogZGF0ZVJhbmdlSWNvbixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IG1pbkRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgb3BlblRvOiBvcGVuVG8sXG4gICAgICByZW5kZXJEYXk6IHJlbmRlckRheSxcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlOiBzaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHNob3dUYWJzOiB0b1Nob3dUYWJzLFxuICAgICAgdGltZUljb246IHRpbWVJY29uXG4gICAgfSkpO1xuICB9KTtcbn07XG4gZmFsc2UgPyBEYXRlVGltZVBpY2tlck1vZGFsLnByb3BUeXBlcyA9IHtcbiAgLyoqIERhdGUtdGltZSBwaWNrZXIgdmFsdWUgKi9cbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBEYXRlIGZvcm1hdCBzdHJpbmcgZm9yIGlucHV0ICovXG4gIGZvcm1hdDogc3RyaW5nLFxuXG4gIC8qKiBDYWxsYmFjayBmaXJpbmcgd2hlbiBkYXRlIGFjY2VwdGVkIFsoZGF0ZTogRGF0ZSkgPT4gdm9pZF0gKi9cbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKiogQXV0byBhY2NlcHQgZGF0ZSBvbiBtaW51dGUgc2VsZWN0aW9uICovXG4gIGF1dG9PazogYm9vbCxcblxuICAvKiogTW92ZSB0byB0aGUgbmV4dCBwYXJ0IG9mIGRhdGUgb24gc2VsZWN0ICh5ZWFyIC0+IGRhdGUgLT4gaG91ciAtPiBtaW51dGUpICovXG4gIGF1dG9TdWJtaXQ6IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgZnV0dXJlIGRhdGVzICovXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgcGFzdCBkYXRlcyAqL1xuICBkaXNhYmxlUGFzdDogYm9vbCxcblxuICAvKiogTWluIHNlbGVjdGFibGUgZGF0ZSAqL1xuICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogTWF4IHNlbGVjdGFibGUgZGF0ZSAqL1xuICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogSW5pdGlhbCBmb2N1c2VkIGRhdGUgd2hlbiBjYWxlbmRhciBvcGVucywgaWYgbm8gdmFsdWUgaXMgcHJvdmlkZWQgKi9cbiAgaW5pdGlhbEZvY3VzZWREYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcblxuICAvKiogU2hvdyBkYXRlL3RpbWUgdGFicyAqL1xuICBzaG93VGFiczogYm9vbCxcblxuICAvKiogTGVmdCBhcnJvdyBpY29uICovXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG5cbiAgLyoqIFJpZ2h0IGFycm93IGljb24gKi9cbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG5cbiAgLyoqIERhdGUgdGFiIGljb24gKi9cbiAgZGF0ZVJhbmdlSWNvbjogbm9kZSxcblxuICAvKiogVGltZSB0YWIgaWNvbiAqL1xuICB0aW1lSWNvbjogbm9kZSxcblxuICAvKipcbiAgICogQ3VzdG9tIHJlbmRlcmVyIGZvciBkYXlcbiAgICogWyhkYXRlOiBEYXRlLCBub3dTZWxlY3RlZERhdGU6IERhdGUsIGlzSW5DdXJyZW50TW9udGg6IGJvb2xlYW4pID0+IFJlYWN0RWxlbWVudF1cbiAgICovXG4gIHJlbmRlckRheTogZnVuYyxcblxuICAvKiogMTJoLzI0aCB2aWV3IGZvciBob3VyIHNlbGVjdGlvbiBjbG9jayAqL1xuICBhbXBtOiBib29sLFxuXG4gIC8qKiBEaXNhYmxlIHNwZWNpZmljIGRhdGUgWyhkYXRlOiBEYXRlKSA9PiBib29sZWFuXSAqL1xuICBzaG91bGREaXNhYmxlRGF0ZTogZnVuYyxcblxuICAvKiogRW5hYmxlIGFuaW1hdGVkIHNjcm9sbGluZyB0byBjdXJyZW50IHllYXIgKi9cbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG5cbiAgLyoqIE9wZW4gZGlyZWN0bHkgdG8gcGFydGljdWxhciB2aWV3ICovXG4gIG9wZW5Ubzogb25lT2YoWyd5ZWFyJywgJ2RhdGUnLCAnaG91cicsICdtaW51dGVzJ10pLFxuXG4gIC8qKiBFbmFibGVzIGtleWJvYXJkIGxpc3RlbmVyIGZvciBtb3ZpbmcgYmV0d2VlbiBkYXlzIGluIGNhbGVuZGFyICovXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5EYXRlVGltZVBpY2tlck1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBhdXRvT2s6IGZhbHNlLFxuICBhdXRvU3VibWl0OiB0cnVlLFxuICBvcGVuVG86ICdkYXRlJyxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gIGluaXRpYWxGb2N1c2VkRGF0ZTogdW5kZWZpbmVkLFxuICBzaG93VGFiczogdHJ1ZSxcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgZGF0ZVJhbmdlSWNvbjogJ2RhdGVfcmFuZ2UnLFxuICB0aW1lSWNvbjogJ2FjY2Vzc190aW1lJyxcbiAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gIGFtcG06IHRydWUsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWQsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlXG59O1xudmFyIERhdGVUaW1lUGlja2VyTW9kYWwkMSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImZvcndhcmRSZWZcIl0pKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19bXCJjcmVhdGVFbGVtZW50XCJdKShEYXRlVGltZVBpY2tlck1vZGFsLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIERhdGVUaW1lUGlja2VySW5saW5lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb3BlblRvID0gcHJvcHMub3BlblRvLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIHNob3dUYWJzID0gcHJvcHMuc2hvd1RhYnMsXG4gICAgICBhdXRvU3VibWl0ID0gcHJvcHMuYXV0b1N1Ym1pdCxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIGRhdGVSYW5nZUljb24gPSBwcm9wcy5kYXRlUmFuZ2VJY29uLFxuICAgICAgdGltZUljb24gPSBwcm9wcy50aW1lSWNvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBwcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gcHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgb3RoZXIgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJjXCIgLyogX19yZXN0ICovXSkocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiYXV0b09rXCIsIFwib3BlblRvXCIsIFwibWluRGF0ZVwiLCBcIm1heERhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJzaG93VGFic1wiLCBcImF1dG9TdWJtaXRcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJkYXRlUmFuZ2VJY29uXCIsIFwidGltZUljb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJhbXBtXCIsIFwic2hvdWxkRGlzYWJsZURhdGVcIiwgXCJhbmltYXRlWWVhclNjcm9sbGluZ1wiLCBcImZvcndhcmRlZFJlZlwiLCBcImFsbG93S2V5Ym9hcmRDb250cm9sXCJdKTtcblxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoQmFzZVBpY2tlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBhdXRvT2s6IHRydWVcbiAgfSksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX2EuaGFuZGxlQ2hhbmdlLFxuICAgICAgICBoYW5kbGVUZXh0RmllbGRDaGFuZ2UgPSBfYS5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBwaWNrMTJoT3IyNGhGb3JtYXQgPSBfYS5waWNrMTJoT3IyNGhGb3JtYXQsXG4gICAgICAgIGhhbmRsZUFjY2VwdCA9IF9hLmhhbmRsZUFjY2VwdDtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoSW5saW5lV3JhcHBlciQxLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7XG4gICAgICBpbm5lclJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWQsXG4gICAgICBoYW5kbGVBY2NlcHQ6IGhhbmRsZUFjY2VwdCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLmRhdGVUaW1lMTJoRm9ybWF0LCB1dGlscy5kYXRlVGltZTI0aEZvcm1hdClcbiAgICB9LCBvdGhlciksIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUaW1lUGlja2VyJDEsIHtcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBhdXRvU3VibWl0OiBhdXRvU3VibWl0LFxuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGRhdGVSYW5nZUljb246IGRhdGVSYW5nZUljb24sXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIG9wZW5Ubzogb3BlblRvLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBzaG93VGFiczogc2hvd1RhYnMsXG4gICAgICB0aW1lSWNvbjogdGltZUljb25cbiAgICB9KSk7XG4gIH0pO1xufTtcbiBmYWxzZSA/IERhdGVUaW1lUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgYXV0b09rOiBib29sLFxuICBhdXRvU3VibWl0OiBib29sLFxuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBzaG93VGFiczogYm9vbCxcbiAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gIGRhdGVSYW5nZUljb246IG5vZGUsXG4gIHRpbWVJY29uOiBub2RlLFxuICByZW5kZXJEYXk6IGZ1bmMsXG4gIGFtcG06IGJvb2wsXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgb3BlblRvOiBvbmVPZihbJ3llYXInLCAnZGF0ZScsICdob3VyJywgJ21pbnV0ZXMnXSksXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5EYXRlVGltZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiBmYWxzZSxcbiAgYXV0b1N1Ym1pdDogdHJ1ZSxcbiAgb3BlblRvOiAnZGF0ZScsXG4gIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IHVuZGVmaW5lZCxcbiAgc2hvd1RhYnM6IHRydWUsXG4gIGxlZnRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19sZWZ0JyxcbiAgcmlnaHRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19yaWdodCcsXG4gIGRhdGVSYW5nZUljb246ICdkYXRlX3JhbmdlJyxcbiAgdGltZUljb246ICdhY2Nlc3NfdGltZScsXG4gIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICBhbXBtOiB0cnVlLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZVxufTtcbnZhciBEYXRlVGltZVBpY2tlcklubGluZSQxID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiZm9yd2FyZFJlZlwiXSkoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKERhdGVUaW1lUGlja2VySW5saW5lLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3RzbGliX19bXCJhXCIgLyogX19hc3NpZ24gKi9dKSh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRlcmlhbC11aS1waWNrZXJzLmVzbS5qcy5tYXBcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA3Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKTtcblxudmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA5Nyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICB0aG91c2FuZFNlcGFyYXRvcjogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFt0cnVlXSldKSxcbiAgZGVjaW1hbFNlcGFyYXRvcjogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcbiAgdGhvdXNhbmRzR3JvdXBTdHlsZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFsndGhvdXNhbmQnLCAnbGFraCcsICd3YW4nXSksXG4gIGRlY2ltYWxTY2FsZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcixcbiAgZml4ZWREZWNpbWFsU2NhbGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICBkaXNwbGF5VHlwZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFsnaW5wdXQnLCAndGV4dCddKSxcbiAgcHJlZml4OiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICBzdWZmaXg6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIGZvcm1hdDogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmNdKSxcbiAgcmVtb3ZlRm9ybWF0dGluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG1hc2s6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcpXSksXG4gIHZhbHVlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLCBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nXSksXG4gIGRlZmF1bHRWYWx1ZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlciwgX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZ10pLFxuICBpc051bWVyaWNTdHJpbmc6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICBjdXN0b21JbnB1dDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIGFsbG93TmVnYXRpdmU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICBhbGxvd0VtcHR5Rm9ybWF0dGluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIG9uVmFsdWVDaGFuZ2U6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbktleURvd246IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbk1vdXNlVXA6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbkNoYW5nZTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uRm9jdXM6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICBvbkJsdXI6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICB0eXBlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWyd0ZXh0JywgJ3RlbCcsICdwYXNzd29yZCddKSxcbiAgaXNBbGxvd2VkOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgcmVuZGVyVGV4dDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIGdldElucHV0UmVmOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY1xufTtcbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGRpc3BsYXlUeXBlOiAnaW5wdXQnLFxuICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXG4gIHRob3VzYW5kc0dyb3VwU3R5bGU6ICd0aG91c2FuZCcsXG4gIGZpeGVkRGVjaW1hbFNjYWxlOiBmYWxzZSxcbiAgcHJlZml4OiAnJyxcbiAgc3VmZml4OiAnJyxcbiAgYWxsb3dOZWdhdGl2ZTogdHJ1ZSxcbiAgYWxsb3dFbXB0eUZvcm1hdHRpbmc6IGZhbHNlLFxuICBpc051bWVyaWNTdHJpbmc6IGZhbHNlLFxuICB0eXBlOiAndGV4dCcsXG4gIG9uVmFsdWVDaGFuZ2U6IF91dGlscy5ub29wLFxuICBvbkNoYW5nZTogX3V0aWxzLm5vb3AsXG4gIG9uS2V5RG93bjogX3V0aWxzLm5vb3AsXG4gIG9uTW91c2VVcDogX3V0aWxzLm5vb3AsXG4gIG9uRm9jdXM6IF91dGlscy5ub29wLFxuICBvbkJsdXI6IF91dGlscy5ub29wLFxuICBpc0FsbG93ZWQ6IF91dGlscy5yZXR1cm5UcnVlLFxuICBnZXRJbnB1dFJlZjogX3V0aWxzLm5vb3Bcbn07XG5cbnZhciBOdW1iZXJGb3JtYXQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKE51bWJlckZvcm1hdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTnVtYmVyRm9ybWF0KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE51bWJlckZvcm1hdCk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihOdW1iZXJGb3JtYXQpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlOyAvL3ZhbGlkYXRlIHByb3BzXG5cbiAgICBfdGhpcy52YWxpZGF0ZVByb3BzKCk7XG5cbiAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBfdGhpcy5mb3JtYXRWYWx1ZVByb3AoZGVmYXVsdFZhbHVlKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgbnVtQXNTdHJpbmc6IF90aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpXG4gICAgfTtcbiAgICBfdGhpcy5zZWxlY3Rpb25CZWZvcmVJbnB1dCA9IHtcbiAgICAgIHNlbGVjdGlvblN0YXJ0OiAwLFxuICAgICAgc2VsZWN0aW9uRW5kOiAwXG4gICAgfTtcbiAgICBfdGhpcy5vbkNoYW5nZSA9IF90aGlzLm9uQ2hhbmdlLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgIF90aGlzLm9uS2V5RG93biA9IF90aGlzLm9uS2V5RG93bi5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICBfdGhpcy5vbk1vdXNlVXAgPSBfdGhpcy5vbk1vdXNlVXAuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgX3RoaXMub25Gb2N1cyA9IF90aGlzLm9uRm9jdXMuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgX3RoaXMub25CbHVyID0gX3RoaXMub25CbHVyLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOdW1iZXJGb3JtYXQsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICB0aGlzLnVwZGF0ZVZhbHVlSWZSZXF1aXJlZChwcmV2UHJvcHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVWYWx1ZUlmUmVxdWlyZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVmFsdWVJZlJlcXVpcmVkKHByZXZQcm9wcykge1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgZm9jdXNlZEVsbSA9IHRoaXMuZm9jdXNlZEVsbTtcbiAgICAgIHZhciBzdGF0ZVZhbHVlID0gc3RhdGUudmFsdWUsXG4gICAgICAgICAgX3N0YXRlJG51bUFzU3RyaW5nID0gc3RhdGUubnVtQXNTdHJpbmcsXG4gICAgICAgICAgbGFzdE51bVN0ciA9IF9zdGF0ZSRudW1Bc1N0cmluZyA9PT0gdm9pZCAwID8gJycgOiBfc3RhdGUkbnVtQXNTdHJpbmc7XG5cbiAgICAgIGlmIChwcmV2UHJvcHMgIT09IHByb3BzKSB7XG4gICAgICAgIC8vdmFsaWRhdGUgcHJvcHNcbiAgICAgICAgdGhpcy52YWxpZGF0ZVByb3BzKCk7XG4gICAgICAgIHZhciBsYXN0VmFsdWVXaXRoTmV3Rm9ybWF0ID0gdGhpcy5mb3JtYXROdW1TdHJpbmcobGFzdE51bVN0cik7XG4gICAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IHByb3BzLnZhbHVlID09PSB1bmRlZmluZWQgPyBsYXN0VmFsdWVXaXRoTmV3Rm9ybWF0IDogdGhpcy5mb3JtYXRWYWx1ZVByb3AoKTtcbiAgICAgICAgdmFyIG51bUFzU3RyaW5nID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgICAgdmFyIGZsb2F0VmFsdWUgPSBwYXJzZUZsb2F0KG51bUFzU3RyaW5nKTtcbiAgICAgICAgdmFyIGxhc3RGbG9hdFZhbHVlID0gcGFyc2VGbG9hdChsYXN0TnVtU3RyKTtcblxuICAgICAgICBpZiAoIC8vd2hpbGUgdHlwaW5nIHNldCBzdGF0ZSBvbmx5IHdoZW4gZmxvYXQgdmFsdWUgY2hhbmdlc1xuICAgICAgICAoIWlzTmFOKGZsb2F0VmFsdWUpIHx8ICFpc05hTihsYXN0RmxvYXRWYWx1ZSkpICYmIGZsb2F0VmFsdWUgIT09IGxhc3RGbG9hdFZhbHVlIHx8IC8vY2FuIGFsc28gc2V0IHN0YXRlIHdoZW4gZmxvYXQgdmFsdWUgaXMgc2FtZSBhbmQgdGhlIGZvcm1hdCBwcm9wcyBjaGFuZ2VzXG4gICAgICAgIGxhc3RWYWx1ZVdpdGhOZXdGb3JtYXQgIT09IHN0YXRlVmFsdWUgfHwgLy9zZXQgc3RhdGUgYWx3YXlzIHdoZW4gbm90IGluIGZvY3VzIGFuZCBmb3JtYXR0ZWQgdmFsdWUgaXMgY2hhbmdlZFxuICAgICAgICBmb2N1c2VkRWxtID09PSBudWxsICYmIGZvcm1hdHRlZFZhbHVlICE9PSBzdGF0ZVZhbHVlKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgICBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmcsXG4gICAgICAgICAgICBpbnB1dDogZm9jdXNlZEVsbVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBNaXNjIG1ldGhvZHMgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRGbG9hdFN0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGbG9hdFN0cmluZygpIHtcbiAgICAgIHZhciBudW0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgdmFyIGRlY2ltYWxTY2FsZSA9IHRoaXMucHJvcHMuZGVjaW1hbFNjYWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9ycyA9IHRoaXMuZ2V0U2VwYXJhdG9ycygpLFxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzLmRlY2ltYWxTZXBhcmF0b3I7XG5cbiAgICAgIHZhciBudW1SZWdleCA9IHRoaXMuZ2V0TnVtYmVyUmVnZXgodHJ1ZSk7IC8vcmVtb3ZlIG5lZ2F0aW9uIGZvciByZWdleCBjaGVja1xuXG4gICAgICB2YXIgaGFzTmVnYXRpb24gPSBudW1bMF0gPT09ICctJztcbiAgICAgIGlmIChoYXNOZWdhdGlvbikgbnVtID0gbnVtLnJlcGxhY2UoJy0nLCAnJyk7IC8vaWYgZGVjaW1hbCBzY2FsZSBpcyB6ZXJvIHJlbW92ZSBkZWNpbWFsIGFuZCBudW1iZXIgYWZ0ZXIgZGVjaW1hbFNlcGFyYXRvclxuXG4gICAgICBpZiAoZGVjaW1hbFNlcGFyYXRvciAmJiBkZWNpbWFsU2NhbGUgPT09IDApIHtcbiAgICAgICAgbnVtID0gbnVtLnNwbGl0KGRlY2ltYWxTZXBhcmF0b3IpWzBdO1xuICAgICAgfVxuXG4gICAgICBudW0gPSAobnVtLm1hdGNoKG51bVJlZ2V4KSB8fCBbXSkuam9pbignJykucmVwbGFjZShkZWNpbWFsU2VwYXJhdG9yLCAnLicpOyAvL3JlbW92ZSBleHRyYSBkZWNpbWFsc1xuXG4gICAgICB2YXIgZmlyc3REZWNpbWFsSW5kZXggPSBudW0uaW5kZXhPZignLicpO1xuXG4gICAgICBpZiAoZmlyc3REZWNpbWFsSW5kZXggIT09IC0xKSB7XG4gICAgICAgIG51bSA9IFwiXCIuY29uY2F0KG51bS5zdWJzdHJpbmcoMCwgZmlyc3REZWNpbWFsSW5kZXgpLCBcIi5cIikuY29uY2F0KG51bS5zdWJzdHJpbmcoZmlyc3REZWNpbWFsSW5kZXggKyAxLCBudW0ubGVuZ3RoKS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsIF91dGlscy5lc2NhcGVSZWdFeHApKGRlY2ltYWxTZXBhcmF0b3IpLCAnZycpLCAnJykpO1xuICAgICAgfSAvL2FkZCBuZWdhdGlvbiBiYWNrXG5cblxuICAgICAgaWYgKGhhc05lZ2F0aW9uKSBudW0gPSAnLScgKyBudW07XG4gICAgICByZXR1cm4gbnVtO1xuICAgIH0gLy9yZXR1cm5lZCByZWdleCBhc3N1bWVzIGRlY2ltYWxTZXBhcmF0b3IgaXMgYXMgcGVyIHByb3BcblxuICB9LCB7XG4gICAga2V5OiBcImdldE51bWJlclJlZ2V4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE51bWJlclJlZ2V4KGcsIGlnbm9yZURlY2ltYWxTZXBhcmF0b3IpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMuZm9ybWF0LFxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzLmRlY2ltYWxTY2FsZTtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnMyID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMyLmRlY2ltYWxTZXBhcmF0b3I7XG5cbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKCdcXFxcZCcgKyAoZGVjaW1hbFNlcGFyYXRvciAmJiBkZWNpbWFsU2NhbGUgIT09IDAgJiYgIWlnbm9yZURlY2ltYWxTZXBhcmF0b3IgJiYgIWZvcm1hdCA/ICd8JyArICgwLCBfdXRpbHMuZXNjYXBlUmVnRXhwKShkZWNpbWFsU2VwYXJhdG9yKSA6ICcnKSwgZyA/ICdnJyA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFNlcGFyYXRvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VwYXJhdG9ycygpIHtcbiAgICAgIHZhciBkZWNpbWFsU2VwYXJhdG9yID0gdGhpcy5wcm9wcy5kZWNpbWFsU2VwYXJhdG9yO1xuICAgICAgdmFyIHRob3VzYW5kU2VwYXJhdG9yID0gdGhpcy5wcm9wcy50aG91c2FuZFNlcGFyYXRvcjtcblxuICAgICAgaWYgKHRob3VzYW5kU2VwYXJhdG9yID09PSB0cnVlKSB7XG4gICAgICAgIHRob3VzYW5kU2VwYXJhdG9yID0gJywnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZWNpbWFsU2VwYXJhdG9yOiBkZWNpbWFsU2VwYXJhdG9yLFxuICAgICAgICB0aG91c2FuZFNlcGFyYXRvcjogdGhvdXNhbmRTZXBhcmF0b3JcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE1hc2tBdEluZGV4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1hc2tBdEluZGV4KGluZGV4KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMkbWFzayA9IHRoaXMucHJvcHMubWFzayxcbiAgICAgICAgICBtYXNrID0gX3RoaXMkcHJvcHMkbWFzayA9PT0gdm9pZCAwID8gJyAnIDogX3RoaXMkcHJvcHMkbWFzaztcblxuICAgICAgaWYgKHR5cGVvZiBtYXNrID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbWFzaztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hc2tbaW5kZXhdIHx8ICcgJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmFsdWVPYmplY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWVPYmplY3QoZm9ybWF0dGVkVmFsdWUsIG51bUFzU3RyaW5nKSB7XG4gICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQobnVtQXNTdHJpbmcpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICB2YWx1ZTogbnVtQXNTdHJpbmcsXG4gICAgICAgIGZsb2F0VmFsdWU6IGlzTmFOKGZsb2F0VmFsdWUpID8gdW5kZWZpbmVkIDogZmxvYXRWYWx1ZVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidmFsaWRhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZVByb3BzKCkge1xuICAgICAgdmFyIG1hc2sgPSB0aGlzLnByb3BzLm1hc2s7IC8vdmFsaWRhdGUgZGVjaW1hbFNlcGFyYXRvciBhbmQgdGhvdXNhbmRTZXBhcmF0b3JcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnMzID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMzLmRlY2ltYWxTZXBhcmF0b3IsXG4gICAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzMy50aG91c2FuZFNlcGFyYXRvcjtcblxuICAgICAgaWYgKGRlY2ltYWxTZXBhcmF0b3IgPT09IHRob3VzYW5kU2VwYXJhdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcbiAgICAgICAgICBEZWNpbWFsIHNlcGFyYXRvciBjYW4ndCBiZSBzYW1lIGFzIHRob3VzYW5kIHNlcGFyYXRvci5cXG4gICAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3I6IFwiLmNvbmNhdCh0aG91c2FuZFNlcGFyYXRvciwgXCIgKHRob3VzYW5kU2VwYXJhdG9yID0ge3RydWV9IGlzIHNhbWUgYXMgdGhvdXNhbmRTZXBhcmF0b3IgPSBcXFwiLFxcXCIpXFxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3I6IFwiKS5jb25jYXQoZGVjaW1hbFNlcGFyYXRvciwgXCIgKGRlZmF1bHQgdmFsdWUgZm9yIGRlY2ltYWxTZXBhcmF0b3IgaXMgLilcXG4gICAgICAgXCIpKTtcbiAgICAgIH0gLy92YWxpZGF0ZSBtYXNrXG5cblxuICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgdmFyIG1hc2tBc1N0ciA9IG1hc2sgPT09ICdzdHJpbmcnID8gbWFzayA6IG1hc2sudG9TdHJpbmcoKTtcblxuICAgICAgICBpZiAobWFza0FzU3RyLm1hdGNoKC9cXGQvZykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcXG4gICAgICAgICAgTWFzayBcIi5jb25jYXQobWFzaywgXCIgc2hvdWxkIG5vdCBjb250YWluIG51bWVyaWMgY2hhcmFjdGVyO1xcbiAgICAgICAgXCIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKiogTWlzYyBtZXRob2RzIGVuZCAqKi9cblxuICAgIC8qKiBjYXJldCBzcGVjaWZpYyBtZXRob2RzICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0UGF0Y2hlZENhcmV0UG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zLCBjdXJyZW50VmFsdWUpIHtcbiAgICAgIC8qIHNldHRpbmcgY2FyZXQgcG9zaXRpb24gd2l0aGluIHRpbWVvdXQgb2YgMG1zIGlzIHJlcXVpcmVkIGZvciBtb2JpbGUgY2hyb21lLFxuICAgICAgb3RoZXJ3aXNlIGJyb3dzZXIgcmVzZXRzIHRoZSBjYXJldCBwb3NpdGlvbiBhZnRlciB3ZSBzZXQgaXRcbiAgICAgIFdlIGFyZSBhbHNvIHNldHRpbmcgaXQgd2l0aG91dCB0aW1lb3V0IHNvIHRoYXQgaW4gbm9ybWFsIGJyb3dzZXIgd2UgZG9uJ3Qgc2VlIHRoZSBmbGlja2VyaW5nICovXG4gICAgICAoMCwgX3V0aWxzLnNldENhcmV0UG9zaXRpb24pKGVsLCBjYXJldFBvcyk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGVsLnZhbHVlID09PSBjdXJyZW50VmFsdWUpICgwLCBfdXRpbHMuc2V0Q2FyZXRQb3NpdGlvbikoZWwsIGNhcmV0UG9zKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgICAvKiBUaGlzIGtlZXBzIHRoZSBjYXJldCB3aXRoaW4gdHlwaW5nIGFyZWEgc28gcGVvcGxlIGNhbid0IHR5cGUgaW4gYmV0d2VlbiBwcmVmaXggb3Igc3VmZml4ICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb3JyZWN0Q2FyZXRQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgY2FyZXRQb3MsIGRpcmVjdGlvbikge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcHJlZml4ID0gX3RoaXMkcHJvcHMyLnByZWZpeCxcbiAgICAgICAgICBzdWZmaXggPSBfdGhpcyRwcm9wczIuc3VmZml4LFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzMi5mb3JtYXQ7IC8vaWYgdmFsdWUgaXMgZW1wdHkgcmV0dXJuIDBcblxuICAgICAgaWYgKHZhbHVlID09PSAnJykgcmV0dXJuIDA7IC8vY2FyZXQgcG9zaXRpb24gc2hvdWxkIGJlIGJldHdlZW4gMCBhbmQgdmFsdWUgbGVuZ3RoXG5cbiAgICAgIGNhcmV0UG9zID0gKDAsIF91dGlscy5jbGFtcCkoY2FyZXRQb3MsIDAsIHZhbHVlLmxlbmd0aCk7IC8vaW4gY2FzZSBvZiBmb3JtYXQgYXMgbnVtYmVyIGxpbWl0IGJldHdlZW4gcHJlZml4IGFuZCBzdWZmaXhcblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFyIGhhc05lZ2F0aW9uID0gdmFsdWVbMF0gPT09ICctJztcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuY2xhbXApKGNhcmV0UG9zLCBwcmVmaXgubGVuZ3RoICsgKGhhc05lZ2F0aW9uID8gMSA6IDApLCB2YWx1ZS5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKTtcbiAgICAgIH0gLy9pbiBjYXNlIGlmIGN1c3RvbSBmb3JtYXQgbWV0aG9kIGRvbid0IGRvIGFueXRoaW5nXG5cblxuICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdmdW5jdGlvbicpIHJldHVybiBjYXJldFBvcztcbiAgICAgIC8qIGluIGNhc2UgZm9ybWF0IGlzIHN0cmluZyBmaW5kIHRoZSBjbG9zZXN0ICMgcG9zaXRpb24gZnJvbSB0aGUgY2FyZXQgcG9zaXRpb24gKi9cbiAgICAgIC8vaW4gY2FzZSB0aGUgY2FyZXRQb3MgaGF2ZSBpbnB1dCB2YWx1ZSBvbiBpdCBkb24ndCBkbyBhbnl0aGluZ1xuXG4gICAgICBpZiAoZm9ybWF0W2NhcmV0UG9zXSA9PT0gJyMnICYmICgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldFBvc10pKSByZXR1cm4gY2FyZXRQb3M7IC8vaWYgY2FyZXRQb3MgaXMganVzdCBhZnRlciBpbnB1dCB2YWx1ZSBkb24ndCBkbyBhbnl0aGluZ1xuXG4gICAgICBpZiAoZm9ybWF0W2NhcmV0UG9zIC0gMV0gPT09ICcjJyAmJiAoMCwgX3V0aWxzLmNoYXJJc051bWJlcikodmFsdWVbY2FyZXRQb3MgLSAxXSkpIHJldHVybiBjYXJldFBvczsgLy9maW5kIHRoZSBuZWFyZXN0IGNhcmV0IHBvc2l0aW9uXG5cbiAgICAgIHZhciBmaXJzdEhhc2hQb3NpdGlvbiA9IGZvcm1hdC5pbmRleE9mKCcjJyk7XG4gICAgICB2YXIgbGFzdEhhc2hQb3NpdGlvbiA9IGZvcm1hdC5sYXN0SW5kZXhPZignIycpOyAvL2xpbWl0IHRoZSBjdXJzb3IgYmV0d2VlbiB0aGUgZmlyc3QgIyBwb3NpdGlvbiBhbmQgdGhlIGxhc3QgIyBwb3NpdGlvblxuXG4gICAgICBjYXJldFBvcyA9ICgwLCBfdXRpbHMuY2xhbXApKGNhcmV0UG9zLCBmaXJzdEhhc2hQb3NpdGlvbiwgbGFzdEhhc2hQb3NpdGlvbiArIDEpO1xuICAgICAgdmFyIG5leHRQb3MgPSBmb3JtYXQuc3Vic3RyaW5nKGNhcmV0UG9zLCBmb3JtYXQubGVuZ3RoKS5pbmRleE9mKCcjJyk7XG4gICAgICB2YXIgY2FyZXRMZWZ0Qm91bmQgPSBjYXJldFBvcztcbiAgICAgIHZhciBjYXJldFJpZ2h0Qm91bmQgPSBjYXJldFBvcyArIChuZXh0UG9zID09PSAtMSA/IDAgOiBuZXh0UG9zKTsgLy9nZXQgdGhlIHBvc2l0aW9uIHdoZXJlIHRoZSBsYXN0IG51bWJlciBpcyBwcmVzZW50XG5cbiAgICAgIHdoaWxlIChjYXJldExlZnRCb3VuZCA+IGZpcnN0SGFzaFBvc2l0aW9uICYmIChmb3JtYXRbY2FyZXRMZWZ0Qm91bmRdICE9PSAnIycgfHwgISgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldExlZnRCb3VuZF0pKSkge1xuICAgICAgICBjYXJldExlZnRCb3VuZCAtPSAxO1xuICAgICAgfVxuXG4gICAgICB2YXIgZ29Ub0xlZnQgPSAhKDAsIF91dGlscy5jaGFySXNOdW1iZXIpKHZhbHVlW2NhcmV0UmlnaHRCb3VuZF0pIHx8IGRpcmVjdGlvbiA9PT0gJ2xlZnQnICYmIGNhcmV0UG9zICE9PSBmaXJzdEhhc2hQb3NpdGlvbiB8fCBjYXJldFBvcyAtIGNhcmV0TGVmdEJvdW5kIDwgY2FyZXRSaWdodEJvdW5kIC0gY2FyZXRQb3M7XG5cbiAgICAgIGlmIChnb1RvTGVmdCkge1xuICAgICAgICAvL2NoZWNrIGlmIG51bWJlciBzaG91bGQgYmUgdGFrZW4gYWZ0ZXIgdGhlIGJvdW5kIG9yIGFmdGVyIGl0XG4gICAgICAgIC8vaWYgbnVtYmVyIHByZWNlZGluZyBhIHZhbGlkIG51bWJlciBrZWVwIGl0IGFmdGVyXG4gICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmNoYXJJc051bWJlcikodmFsdWVbY2FyZXRMZWZ0Qm91bmRdKSA/IGNhcmV0TGVmdEJvdW5kICsgMSA6IGNhcmV0TGVmdEJvdW5kO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FyZXRSaWdodEJvdW5kO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDYXJldFBvc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENhcmV0UG9zaXRpb24oaW5wdXRWYWx1ZSwgZm9ybWF0dGVkVmFsdWUsIGNhcmV0UG9zKSB7XG4gICAgICB2YXIgZm9ybWF0ID0gdGhpcy5wcm9wcy5mb3JtYXQ7XG4gICAgICB2YXIgc3RhdGVWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgICB2YXIgbnVtUmVnZXggPSB0aGlzLmdldE51bWJlclJlZ2V4KHRydWUpO1xuICAgICAgdmFyIGlucHV0TnVtYmVyID0gKGlucHV0VmFsdWUubWF0Y2gobnVtUmVnZXgpIHx8IFtdKS5qb2luKCcnKTtcbiAgICAgIHZhciBmb3JtYXR0ZWROdW1iZXIgPSAoZm9ybWF0dGVkVmFsdWUubWF0Y2gobnVtUmVnZXgpIHx8IFtdKS5qb2luKCcnKTtcbiAgICAgIHZhciBqLCBpO1xuICAgICAgaiA9IDA7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYXJldFBvczsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyZW50SW5wdXRDaGFyID0gaW5wdXRWYWx1ZVtpXSB8fCAnJztcbiAgICAgICAgdmFyIGN1cnJlbnRGb3JtYXRDaGFyID0gZm9ybWF0dGVkVmFsdWVbal0gfHwgJyc7IC8vbm8gbmVlZCB0byBpbmNyZWFzZSBuZXcgY3Vyc29yIHBvc2l0aW9uIGlmIGZvcm1hdHRlZCB2YWx1ZSBkb2VzIG5vdCBoYXZlIHRob3NlIGNoYXJhY3RlcnNcbiAgICAgICAgLy9jYXNlIGlucHV0VmFsdWUgPSAxYTIzIGFuZCBmb3JtYXR0ZWRWYWx1ZSA9ICAxMjNcblxuICAgICAgICBpZiAoIWN1cnJlbnRJbnB1dENoYXIubWF0Y2gobnVtUmVnZXgpICYmIGN1cnJlbnRJbnB1dENoYXIgIT09IGN1cnJlbnRGb3JtYXRDaGFyKSBjb250aW51ZTsgLy9XaGVuIHdlIGFyZSBzdHJpcGluZyBvdXQgbGVhZGluZyB6ZXJvcyBtYWludGFpbiB0aGUgbmV3IGN1cnNvciBwb3NpdGlvblxuICAgICAgICAvL0Nhc2UgaW5wdXRWYWx1ZSA9IDAwMDIzIGFuZCBmb3JtYXR0ZWRWYWx1ZSA9IDIzO1xuXG4gICAgICAgIGlmIChjdXJyZW50SW5wdXRDaGFyID09PSAnMCcgJiYgY3VycmVudEZvcm1hdENoYXIubWF0Y2gobnVtUmVnZXgpICYmIGN1cnJlbnRGb3JtYXRDaGFyICE9PSAnMCcgJiYgaW5wdXROdW1iZXIubGVuZ3RoICE9PSBmb3JtYXR0ZWROdW1iZXIubGVuZ3RoKSBjb250aW51ZTsgLy93ZSBhcmUgbm90IHVzaW5nIGN1cnJlbnRGb3JtYXRDaGFyIGJlY2F1c2UgaiBjYW4gY2hhbmdlIGhlcmVcblxuICAgICAgICB3aGlsZSAoY3VycmVudElucHV0Q2hhciAhPT0gZm9ybWF0dGVkVmFsdWVbal0gJiYgaiA8IGZvcm1hdHRlZFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgIGorKztcbiAgICAgICAgfVxuXG4gICAgICAgIGorKztcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnICYmICFzdGF0ZVZhbHVlKSB7XG4gICAgICAgIC8vc2V0IGl0IHRvIHRoZSBtYXhpbXVtIHZhbHVlIHNvIGl0IGdvZXMgYWZ0ZXIgdGhlIGxhc3QgbnVtYmVyXG4gICAgICAgIGogPSBmb3JtYXR0ZWRWYWx1ZS5sZW5ndGg7XG4gICAgICB9IC8vY29ycmVjdCBjYXJldCBwb3NpdGlvbiBpZiBpdHMgb3V0c2lkZSBvZiBlZGl0YWJsZSBhcmVhXG5cblxuICAgICAgaiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24oZm9ybWF0dGVkVmFsdWUsIGopO1xuICAgICAgcmV0dXJuIGo7XG4gICAgfVxuICAgIC8qKiBjYXJldCBzcGVjaWZpYyBtZXRob2RzIGVuZHMgKiovXG5cbiAgICAvKiogbWV0aG9kcyB0byByZW1vdmUgZm9ybWF0dHRpbmcgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVQcmVmaXhBbmRTdWZmaXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlUHJlZml4QW5kU3VmZml4KHZhbCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMzLmZvcm1hdCxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczMucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzMy5zdWZmaXg7IC8vcmVtb3ZlIHByZWZpeCBhbmQgc3VmZml4XG5cbiAgICAgIGlmICghZm9ybWF0ICYmIHZhbCkge1xuICAgICAgICB2YXIgaXNOZWdhdGl2ZSA9IHZhbFswXSA9PT0gJy0nOyAvL3JlbW92ZSBuZWdhdGlvbiBzaWduXG5cbiAgICAgICAgaWYgKGlzTmVnYXRpdmUpIHZhbCA9IHZhbC5zdWJzdHJpbmcoMSwgdmFsLmxlbmd0aCk7IC8vcmVtb3ZlIHByZWZpeFxuXG4gICAgICAgIHZhbCA9IHByZWZpeCAmJiB2YWwuaW5kZXhPZihwcmVmaXgpID09PSAwID8gdmFsLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoLCB2YWwubGVuZ3RoKSA6IHZhbDsgLy9yZW1vdmUgc3VmZml4XG5cbiAgICAgICAgdmFyIHN1ZmZpeExhc3RJbmRleCA9IHZhbC5sYXN0SW5kZXhPZihzdWZmaXgpO1xuICAgICAgICB2YWwgPSBzdWZmaXggJiYgc3VmZml4TGFzdEluZGV4ICE9PSAtMSAmJiBzdWZmaXhMYXN0SW5kZXggPT09IHZhbC5sZW5ndGggLSBzdWZmaXgubGVuZ3RoID8gdmFsLnN1YnN0cmluZygwLCBzdWZmaXhMYXN0SW5kZXgpIDogdmFsOyAvL2FkZCBuZWdhdGlvbiBzaWduIGJhY2tcblxuICAgICAgICBpZiAoaXNOZWdhdGl2ZSkgdmFsID0gJy0nICsgdmFsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVQYXR0ZXJuRm9ybWF0dGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVQYXR0ZXJuRm9ybWF0dGluZyh2YWwpIHtcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcbiAgICAgIHZhciBmb3JtYXRBcnJheSA9IGZvcm1hdC5zcGxpdCgnIycpLmZpbHRlcihmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIgIT09ICcnO1xuICAgICAgfSk7XG4gICAgICB2YXIgc3RhcnQgPSAwO1xuICAgICAgdmFyIG51bVN0ciA9ICcnO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbG4gPSBmb3JtYXRBcnJheS5sZW5ndGg7IGkgPD0gbG47IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGZvcm1hdEFycmF5W2ldIHx8ICcnOyAvL2lmIGkgaXMgdGhlIGxhc3QgZnJhZ21lbnQgdGFrZSB0aGUgaW5kZXggb2YgZW5kIG9mIHRoZSB2YWx1ZVxuICAgICAgICAvL0ZvciBjYXNlIGxpa2UgKzEgKDkxMSkgOTExIDkxIDkxIGhhdmluZyBwYXR0ZXJuICsxICgjIyMpICMjIyAjIyAjI1xuXG4gICAgICAgIHZhciBpbmRleCA9IGkgPT09IGxuID8gdmFsLmxlbmd0aCA6IHZhbC5pbmRleE9mKHBhcnQsIHN0YXJ0KTtcbiAgICAgICAgLyogaW4gYW55IGNhc2UgaWYgd2UgZG9uJ3QgZmluZCB0aGUgcGF0dGVybiBwYXJ0IGluIHRoZSB2YWx1ZSBhc3N1bWUgdGhlIHZhbCBhcyBudW1lcmljIHN0cmluZ1xuICAgICAgICBUaGlzIHdpbGwgYmUgYWxzbyBpbiBjYXNlIGlmIHVzZXIgaGFzIHN0YXJ0ZWQgdHlwaW5nLCBpbiBhbnkgb3RoZXIgY2FzZSBpdCB3aWxsIG5vdCBiZSAtMVxuICAgICAgICB1bmxlc3Mgd3JvbmcgcHJvcCB2YWx1ZSBpcyBwcm92aWRlZCAqL1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBudW1TdHIgPSB2YWw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbnVtU3RyICs9IHZhbC5zdWJzdHJpbmcoc3RhcnQsIGluZGV4KTtcbiAgICAgICAgICBzdGFydCA9IGluZGV4ICsgcGFydC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChudW1TdHIubWF0Y2goL1xcZC9nKSB8fCBbXSkuam9pbignJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUZvcm1hdHRpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRm9ybWF0dGluZyh2YWwpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzNC5mb3JtYXQsXG4gICAgICAgICAgcmVtb3ZlRm9ybWF0dGluZyA9IF90aGlzJHByb3BzNC5yZW1vdmVGb3JtYXR0aW5nO1xuICAgICAgaWYgKCF2YWwpIHJldHVybiB2YWw7XG5cbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIHZhbCA9IHRoaXMucmVtb3ZlUHJlZml4QW5kU3VmZml4KHZhbCk7XG4gICAgICAgIHZhbCA9IHRoaXMuZ2V0RmxvYXRTdHJpbmcodmFsKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFsID0gdGhpcy5yZW1vdmVQYXR0ZXJuRm9ybWF0dGluZyh2YWwpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmVtb3ZlRm9ybWF0dGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvL2NvbmRpdGlvbiBuZWVkIHRvIGJlIGhhbmRsZWQgaWYgZm9ybWF0IG1ldGhvZCBpcyBwcm92aWRlLFxuICAgICAgICB2YWwgPSByZW1vdmVGb3JtYXR0aW5nKHZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSAodmFsLm1hdGNoKC9cXGQvZykgfHwgW10pLmpvaW4oJycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICAvKiogbWV0aG9kcyB0byByZW1vdmUgZm9ybWF0dHRpbmcgZW5kICoqL1xuXG4gICAgLyoqKiBmb3JtYXQgc3BlY2lmaWMgbWV0aG9kcyBzdGFydCAqKiovXG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgd2hlbiAjIGJhc2VkIHN0cmluZyBpcyBwcm92aWRlZFxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gbnVtU3RyIE51bWVyaWMgU3RyaW5nXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgZm9ybWF0dGVkIFZhbHVlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmb3JtYXRXaXRoUGF0dGVyblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRXaXRoUGF0dGVybihudW1TdHIpIHtcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcbiAgICAgIHZhciBoYXNoQ291bnQgPSAwO1xuICAgICAgdmFyIGZvcm1hdHRlZE51bWJlckFyeSA9IGZvcm1hdC5zcGxpdCgnJyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGZvcm1hdC5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICAgIGlmIChmb3JtYXRbaV0gPT09ICcjJykge1xuICAgICAgICAgIGZvcm1hdHRlZE51bWJlckFyeVtpXSA9IG51bVN0cltoYXNoQ291bnRdIHx8IHRoaXMuZ2V0TWFza0F0SW5kZXgoaGFzaENvdW50KTtcbiAgICAgICAgICBoYXNoQ291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm9ybWF0dGVkTnVtYmVyQXJ5LmpvaW4oJycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IG51bVN0ciBOdW1lcmljIHN0cmluZy9mbG9hdFN0cmluZ10gSXQgYWx3YXlzIGhhdmUgZGVjaW1hbFNlcGFyYXRvciBhcyAuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBmb3JtYXR0ZWQgVmFsdWVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdEFzTnVtYmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdEFzTnVtYmVyKG51bVN0cikge1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM1LmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzNS5maXhlZERlY2ltYWxTY2FsZSxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczUucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzNS5zdWZmaXgsXG4gICAgICAgICAgYWxsb3dOZWdhdGl2ZSA9IF90aGlzJHByb3BzNS5hbGxvd05lZ2F0aXZlLFxuICAgICAgICAgIHRob3VzYW5kc0dyb3VwU3R5bGUgPSBfdGhpcyRwcm9wczUudGhvdXNhbmRzR3JvdXBTdHlsZTtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnM0ID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzNC50aG91c2FuZFNlcGFyYXRvcixcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczQuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgdmFyIGhhc0RlY2ltYWxTZXBhcmF0b3IgPSBudW1TdHIuaW5kZXhPZignLicpICE9PSAtMSB8fCBkZWNpbWFsU2NhbGUgJiYgZml4ZWREZWNpbWFsU2NhbGU7XG5cbiAgICAgIHZhciBfc3BsaXREZWNpbWFsID0gKDAsIF91dGlscy5zcGxpdERlY2ltYWwpKG51bVN0ciwgYWxsb3dOZWdhdGl2ZSksXG4gICAgICAgICAgYmVmb3JlRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYmVmb3JlRGVjaW1hbCxcbiAgICAgICAgICBhZnRlckRlY2ltYWwgPSBfc3BsaXREZWNpbWFsLmFmdGVyRGVjaW1hbCxcbiAgICAgICAgICBhZGROZWdhdGlvbiA9IF9zcGxpdERlY2ltYWwuYWRkTmVnYXRpb247IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgICAvL2FwcGx5IGRlY2ltYWwgcHJlY2lzaW9uIGlmIGl0cyBkZWZpbmVkXG5cblxuICAgICAgaWYgKGRlY2ltYWxTY2FsZSAhPT0gdW5kZWZpbmVkKSBhZnRlckRlY2ltYWwgPSAoMCwgX3V0aWxzLmxpbWl0VG9TY2FsZSkoYWZ0ZXJEZWNpbWFsLCBkZWNpbWFsU2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKTtcblxuICAgICAgaWYgKHRob3VzYW5kU2VwYXJhdG9yKSB7XG4gICAgICAgIHZhciB0aG91c2FuZHNHcm91cFJlZ2V4ID0gKDAsIF91dGlscy5nZXRUaG91c2FuZHNHcm91cFJlZ2V4KSh0aG91c2FuZHNHcm91cFN0eWxlKTtcbiAgICAgICAgYmVmb3JlRGVjaW1hbCA9IGJlZm9yZURlY2ltYWwucmVwbGFjZSh0aG91c2FuZHNHcm91cFJlZ2V4LCAnJDEnICsgdGhvdXNhbmRTZXBhcmF0b3IpO1xuICAgICAgfSAvL2FkZCBwcmVmaXggYW5kIHN1ZmZpeFxuXG5cbiAgICAgIGlmIChwcmVmaXgpIGJlZm9yZURlY2ltYWwgPSBwcmVmaXggKyBiZWZvcmVEZWNpbWFsO1xuICAgICAgaWYgKHN1ZmZpeCkgYWZ0ZXJEZWNpbWFsID0gYWZ0ZXJEZWNpbWFsICsgc3VmZml4OyAvL3Jlc3RvcmUgbmVnYXRpb24gc2lnblxuXG4gICAgICBpZiAoYWRkTmVnYXRpb24pIGJlZm9yZURlY2ltYWwgPSAnLScgKyBiZWZvcmVEZWNpbWFsO1xuICAgICAgbnVtU3RyID0gYmVmb3JlRGVjaW1hbCArIChoYXNEZWNpbWFsU2VwYXJhdG9yICYmIGRlY2ltYWxTZXBhcmF0b3IgfHwgJycpICsgYWZ0ZXJEZWNpbWFsO1xuICAgICAgcmV0dXJuIG51bVN0cjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0TnVtU3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdE51bVN0cmluZygpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczYuZm9ybWF0LFxuICAgICAgICAgIGFsbG93RW1wdHlGb3JtYXR0aW5nID0gX3RoaXMkcHJvcHM2LmFsbG93RW1wdHlGb3JtYXR0aW5nO1xuICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdmFsdWU7XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gJycgJiYgIWFsbG93RW1wdHlGb3JtYXR0aW5nKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gJyc7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnLScgJiYgIWZvcm1hdCkge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9ICctJztcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdFdpdGhQYXR0ZXJuKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdChmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHRoaXMuZm9ybWF0QXNOdW1iZXIoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdFZhbHVlUHJvcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRWYWx1ZVByb3AoZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczcuZm9ybWF0LFxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzNy5kZWNpbWFsU2NhbGUsXG4gICAgICAgICAgZml4ZWREZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczcuZml4ZWREZWNpbWFsU2NhbGUsXG4gICAgICAgICAgYWxsb3dFbXB0eUZvcm1hdHRpbmcgPSBfdGhpcyRwcm9wczcuYWxsb3dFbXB0eUZvcm1hdHRpbmc7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM4ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBfdGhpcyRwcm9wczgkdmFsdWUgPSBfdGhpcyRwcm9wczgudmFsdWUsXG4gICAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wczgkdmFsdWUgPT09IHZvaWQgMCA/IGRlZmF1bHRWYWx1ZSA6IF90aGlzJHByb3BzOCR2YWx1ZSxcbiAgICAgICAgICBpc051bWVyaWNTdHJpbmcgPSBfdGhpcyRwcm9wczguaXNOdW1lcmljU3RyaW5nO1xuICAgICAgdmFyIGlzTm9uTnVtZXJpY0ZhbHN5ID0gIXZhbHVlICYmIHZhbHVlICE9PSAwO1xuXG4gICAgICBpZiAoaXNOb25OdW1lcmljRmFsc3kgJiYgYWxsb3dFbXB0eUZvcm1hdHRpbmcpIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH0gLy8gaWYgdmFsdWUgaXMgbm90IGRlZmluZWQgcmV0dXJuIGVtcHR5IHN0cmluZ1xuXG5cbiAgICAgIGlmIChpc05vbk51bWVyaWNGYWxzeSAmJiAhYWxsb3dFbXB0eUZvcm1hdHRpbmcpIHJldHVybiAnJztcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICBpc051bWVyaWNTdHJpbmcgPSB0cnVlO1xuICAgICAgfSAvL3JvdW5kIHRoZSBudW1iZXIgYmFzZWQgb24gZGVjaW1hbFNjYWxlXG4gICAgICAvL2Zvcm1hdCBvbmx5IGlmIG5vbiBmb3JtYXR0ZWQgdmFsdWUgaXMgcHJvdmlkZWRcblxuXG4gICAgICBpZiAoaXNOdW1lcmljU3RyaW5nICYmICFmb3JtYXQgJiYgdHlwZW9mIGRlY2ltYWxTY2FsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFsdWUgPSAoMCwgX3V0aWxzLnJvdW5kVG9QcmVjaXNpb24pKHZhbHVlLCBkZWNpbWFsU2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gaXNOdW1lcmljU3RyaW5nID8gdGhpcy5mb3JtYXROdW1TdHJpbmcodmFsdWUpIDogdGhpcy5mb3JtYXRJbnB1dCh2YWx1ZSk7XG4gICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdE5lZ2F0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdE5lZ2F0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgIHZhciBhbGxvd05lZ2F0aXZlID0gdGhpcy5wcm9wcy5hbGxvd05lZ2F0aXZlO1xuICAgICAgdmFyIG5lZ2F0aW9uUmVnZXggPSBuZXcgUmVnRXhwKCcoLSknKTtcbiAgICAgIHZhciBkb3VibGVOZWdhdGlvblJlZ2V4ID0gbmV3IFJlZ0V4cCgnKC0pKC4pKigtKScpOyAvLyBDaGVjayBudW1iZXIgaGFzICctJyB2YWx1ZVxuXG4gICAgICB2YXIgaGFzTmVnYXRpb24gPSBuZWdhdGlvblJlZ2V4LnRlc3QodmFsdWUpOyAvLyBDaGVjayBudW1iZXIgaGFzIDIgb3IgbW9yZSAnLScgdmFsdWVzXG5cbiAgICAgIHZhciByZW1vdmVOZWdhdGlvbiA9IGRvdWJsZU5lZ2F0aW9uUmVnZXgudGVzdCh2YWx1ZSk7IC8vcmVtb3ZlIG5lZ2F0aW9uXG5cbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvLS9nLCAnJyk7XG5cbiAgICAgIGlmIChoYXNOZWdhdGlvbiAmJiAhcmVtb3ZlTmVnYXRpb24gJiYgYWxsb3dOZWdhdGl2ZSkge1xuICAgICAgICB2YWx1ZSA9ICctJyArIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdElucHV0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdElucHV0KCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDsgLy9mb3JtYXQgbmVnYXRpb24gb25seSBpZiB3ZSBhcmUgZm9ybWF0dGluZyBhcyBudW1iZXJcblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFsdWUgPSB0aGlzLnJlbW92ZVByZWZpeEFuZFN1ZmZpeCh2YWx1ZSk7XG4gICAgICAgIHZhbHVlID0gdGhpcy5mb3JtYXROZWdhdGlvbih2YWx1ZSk7XG4gICAgICB9IC8vcmVtb3ZlIGZvcm1hdHRpbmcgZnJvbSBudW1iZXJcblxuXG4gICAgICB2YWx1ZSA9IHRoaXMucmVtb3ZlRm9ybWF0dGluZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXROdW1TdHJpbmcodmFsdWUpO1xuICAgIH1cbiAgICAvKioqIGZvcm1hdCBzcGVjaWZpYyBtZXRob2RzIGVuZCAqKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0NoYXJhY3RlckFGb3JtYXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDaGFyYWN0ZXJBRm9ybWF0KGNhcmV0UG9zLCB2YWx1ZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzOSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHM5LmZvcm1hdCxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczkucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzOS5zdWZmaXgsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM5LmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzOS5maXhlZERlY2ltYWxTY2FsZTtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnM1ID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnM1LmRlY2ltYWxTZXBhcmF0b3I7IC8vY2hlY2sgd2l0aGluIGZvcm1hdCBwYXR0ZXJuXG5cblxuICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnICYmIGZvcm1hdFtjYXJldFBvc10gIT09ICcjJykgcmV0dXJuIHRydWU7IC8vY2hlY2sgaW4gbnVtYmVyIGZvcm1hdFxuXG4gICAgICBpZiAoIWZvcm1hdCAmJiAoY2FyZXRQb3MgPCBwcmVmaXgubGVuZ3RoIHx8IGNhcmV0UG9zID49IHZhbHVlLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGggfHwgZGVjaW1hbFNjYWxlICYmIGZpeGVkRGVjaW1hbFNjYWxlICYmIHZhbHVlW2NhcmV0UG9zXSA9PT0gZGVjaW1hbFNlcGFyYXRvcikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tJZkZvcm1hdEdvdERlbGV0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tJZkZvcm1hdEdvdERlbGV0ZWQoc3RhcnQsIGVuZCwgdmFsdWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyQUZvcm1hdChpLCB2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBjaGVjayBpZiBhbnkgZm9ybWF0dGluZyBnb3QgcmVtb3ZlZCBieSB0aGUgZGVsZXRlIG9yIGJhY2tzcGFjZSBhbmQgcmVzZXQgdGhlIHZhbHVlXG4gICAgICogSXQgd2lsbCBhbHNvIHdvcmsgYXMgZmFsbGJhY2sgaWYgYW5kcm9pZCBjaG9tZSBrZXlEb3duIGhhbmRsZXIgZG9lcyBub3Qgd29ya1xuICAgICAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvcnJlY3RJbnB1dFZhbHVlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvcnJlY3RJbnB1dFZhbHVlKGNhcmV0UG9zLCBsYXN0VmFsdWUsIHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMxMCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMxMC5mb3JtYXQsXG4gICAgICAgICAgYWxsb3dOZWdhdGl2ZSA9IF90aGlzJHByb3BzMTAuYWxsb3dOZWdhdGl2ZSxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczEwLnByZWZpeCxcbiAgICAgICAgICBzdWZmaXggPSBfdGhpcyRwcm9wczEwLnN1ZmZpeDtcblxuICAgICAgdmFyIF90aGlzJGdldFNlcGFyYXRvcnM2ID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnM2LmRlY2ltYWxTZXBhcmF0b3I7XG5cbiAgICAgIHZhciBsYXN0TnVtU3RyID0gdGhpcy5zdGF0ZS5udW1Bc1N0cmluZyB8fCAnJztcbiAgICAgIHZhciBfdGhpcyRzZWxlY3Rpb25CZWZvcmUgPSB0aGlzLnNlbGVjdGlvbkJlZm9yZUlucHV0LFxuICAgICAgICAgIHNlbGVjdGlvblN0YXJ0ID0gX3RoaXMkc2VsZWN0aW9uQmVmb3JlLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IF90aGlzJHNlbGVjdGlvbkJlZm9yZS5zZWxlY3Rpb25FbmQ7XG5cbiAgICAgIHZhciBfZmluZENoYW5nZWRJbmRleCA9ICgwLCBfdXRpbHMuZmluZENoYW5nZWRJbmRleCkobGFzdFZhbHVlLCB2YWx1ZSksXG4gICAgICAgICAgc3RhcnQgPSBfZmluZENoYW5nZWRJbmRleC5zdGFydCxcbiAgICAgICAgICBlbmQgPSBfZmluZENoYW5nZWRJbmRleC5lbmQ7XG4gICAgICAvKiogQ2hlY2sgaWYgb25seSAuIGlzIGFkZGVkIGluIHRoZSBudW1lcmljIGZvcm1hdCBhbmQgcmVwbGFjZSBpdCB3aXRoIGRlY2ltYWwgc2VwYXJhdG9yICovXG5cblxuICAgICAgaWYgKCFmb3JtYXQgJiYgZGVjaW1hbFNlcGFyYXRvciAhPT0gJy4nICYmIHN0YXJ0ID09PSBlbmQgJiYgdmFsdWVbc2VsZWN0aW9uU3RhcnRdID09PSAnLicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cigwLCBzZWxlY3Rpb25TdGFydCkgKyBkZWNpbWFsU2VwYXJhdG9yICsgdmFsdWUuc3Vic3RyKHNlbGVjdGlvblN0YXJ0ICsgMSwgdmFsdWUubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIC8qIGRvbid0IGRvIGFueWh0aW5nIGlmIHNvbWV0aGluZyBnb3QgYWRkZWQsXG4gICAgICAgb3IgaWYgdmFsdWUgaXMgZW1wdHkgc3RyaW5nICh3aGVuIHdob2xlIGlucHV0IGlzIGNsZWFyZWQpXG4gICAgICAgb3Igd2hvbGUgaW5wdXQgaXMgcmVwbGFjZSB3aXRoIGEgbnVtYmVyXG4gICAgICAqL1xuXG5cbiAgICAgIHZhciBsZWZ0Qm91bmQgPSAhIWZvcm1hdCA/IDAgOiBwcmVmaXgubGVuZ3RoO1xuICAgICAgdmFyIHJpZ2h0Qm91bmQgPSBsYXN0VmFsdWUubGVuZ3RoIC0gKCEhZm9ybWF0ID8gMCA6IHN1ZmZpeC5sZW5ndGgpO1xuXG4gICAgICBpZiAodmFsdWUubGVuZ3RoID4gbGFzdFZhbHVlLmxlbmd0aCB8fCAhdmFsdWUubGVuZ3RoIHx8IHN0YXJ0ID09PSBlbmQgfHwgc2VsZWN0aW9uU3RhcnQgPT09IDAgJiYgc2VsZWN0aW9uRW5kID09PSBsYXN0VmFsdWUubGVuZ3RoIHx8IHNlbGVjdGlvblN0YXJ0ID09PSBsZWZ0Qm91bmQgJiYgc2VsZWN0aW9uRW5kID09PSByaWdodEJvdW5kKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gLy9pZiBmb3JtYXQgZ290IGRlbGV0ZWQgcmVzZXQgdGhlIHZhbHVlIHRvIGxhc3QgdmFsdWVcblxuXG4gICAgICBpZiAodGhpcy5jaGVja0lmRm9ybWF0R290RGVsZXRlZChzdGFydCwgZW5kLCBsYXN0VmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gbGFzdFZhbHVlO1xuICAgICAgfSAvL2ZvciBudW1iZXJzIGNoZWNrIGlmIGJlZm9yZURlY2ltYWwgZ290IGRlbGV0ZWQgYW5kIHRoZXJlIGlzIG5vdGhpbmcgYWZ0ZXIgZGVjaW1hbCxcbiAgICAgIC8vY2xlYXIgYWxsIG51bWJlcnMgaW4gc3VjaCBjYXNlIHdoaWxlIGtlZXBpbmcgdGhlIC0gc2lnblxuXG5cbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIHZhciBudW1lcmljU3RyaW5nID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKHZhbHVlKTtcblxuICAgICAgICB2YXIgX3NwbGl0RGVjaW1hbDIgPSAoMCwgX3V0aWxzLnNwbGl0RGVjaW1hbCkobnVtZXJpY1N0cmluZywgYWxsb3dOZWdhdGl2ZSksXG4gICAgICAgICAgICBiZWZvcmVEZWNpbWFsID0gX3NwbGl0RGVjaW1hbDIuYmVmb3JlRGVjaW1hbCxcbiAgICAgICAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwyLmFmdGVyRGVjaW1hbCxcbiAgICAgICAgICAgIGFkZE5lZ2F0aW9uID0gX3NwbGl0RGVjaW1hbDIuYWRkTmVnYXRpb247IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgICAgIC8vY2xlYXIgb25seSBpZiBzb21ldGhpbmcgZ290IGRlbGV0ZWRcblxuXG4gICAgICAgIHZhciBpc0JlZm9yZURlY2ltYWxQb2ludCA9IGNhcmV0UG9zIDwgdmFsdWUuaW5kZXhPZihkZWNpbWFsU2VwYXJhdG9yKSArIDE7XG5cbiAgICAgICAgaWYgKG51bWVyaWNTdHJpbmcubGVuZ3RoIDwgbGFzdE51bVN0ci5sZW5ndGggJiYgaXNCZWZvcmVEZWNpbWFsUG9pbnQgJiYgYmVmb3JlRGVjaW1hbCA9PT0gJycgJiYgIXBhcnNlRmxvYXQoYWZ0ZXJEZWNpbWFsKSkge1xuICAgICAgICAgIHJldHVybiBhZGROZWdhdGlvbiA/ICctJyA6ICcnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqIFVwZGF0ZSB2YWx1ZSBhbmQgY2FyZXQgcG9zaXRpb24gKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVZhbHVlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVZhbHVlKHBhcmFtcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBvblVwZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogX3V0aWxzLm5vb3A7XG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBwYXJhbXMuZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgaW5wdXQgPSBwYXJhbXMuaW5wdXQ7XG4gICAgICB2YXIgbnVtQXNTdHJpbmcgPSBwYXJhbXMubnVtQXNTdHJpbmcsXG4gICAgICAgICAgY2FyZXRQb3MgPSBwYXJhbXMuY2FyZXRQb3M7XG4gICAgICB2YXIgb25WYWx1ZUNoYW5nZSA9IHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZTtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlOyAvL3NldCBjYXJldCBwb3NpdGlvbiwgYW5kIHZhbHVlIGltcGVyYXRpdmVseSB3aGVuIGVsZW1lbnQgaXMgcHJvdmlkZWRcblxuICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgIC8vY2FsY3VsYXRlIGNhcmV0IHBvc2l0aW9uIGlmIG5vdCBkZWZpbmVkXG4gICAgICAgIGlmICghY2FyZXRQb3MpIHtcbiAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IHBhcmFtcy5pbnB1dFZhbHVlIHx8IGlucHV0LnZhbHVlO1xuICAgICAgICAgIHZhciBjdXJyZW50Q2FyZXRQb3NpdGlvbiA9ICgwLCBfdXRpbHMuZ2V0Q3VycmVudENhcmV0UG9zaXRpb24pKGlucHV0KTsgLy9nZXQgdGhlIGNhcmV0IHBvc2l0aW9uXG5cbiAgICAgICAgICBjYXJldFBvcyA9IHRoaXMuZ2V0Q2FyZXRQb3NpdGlvbihpbnB1dFZhbHVlLCBmb3JtYXR0ZWRWYWx1ZSwgY3VycmVudENhcmV0UG9zaXRpb24pO1xuICAgICAgICB9IC8vc2V0IHRoZSB2YWx1ZSBpbXBlcmF0aXZlbHksIHRoaXMgaXMgcmVxdWlyZWQgZm9yIElFIGZpeFxuXG5cbiAgICAgICAgaW5wdXQudmFsdWUgPSBmb3JtYXR0ZWRWYWx1ZTsgLy9zZXQgY2FyZXQgcG9zaXRpb25cblxuICAgICAgICB0aGlzLnNldFBhdGNoZWRDYXJldFBvc2l0aW9uKGlucHV0LCBjYXJldFBvcywgZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfSAvL2NhbGN1bGF0ZSBudW1lcmljIHN0cmluZyBpZiBub3QgcGFzc2VkXG5cblxuICAgICAgaWYgKG51bUFzU3RyaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbnVtQXNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfSAvL3VwZGF0ZSBzdGF0ZSBpZiB2YWx1ZSBpcyBjaGFuZ2VkXG5cblxuICAgICAgaWYgKGZvcm1hdHRlZFZhbHVlICE9PSBsYXN0VmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICAgIG51bUFzU3RyaW5nOiBudW1Bc1N0cmluZ1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25WYWx1ZUNoYW5nZShfdGhpczIuZ2V0VmFsdWVPYmplY3QoZm9ybWF0dGVkVmFsdWUsIG51bUFzU3RyaW5nKSk7XG4gICAgICAgICAgb25VcGRhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICBlLnBlcnNpc3QoKTtcbiAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xuICAgICAgdmFyIGlucHV0VmFsdWUgPSBlbC52YWx1ZTtcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgdmFyIGlzQWxsb3dlZCA9IHByb3BzLmlzQWxsb3dlZDtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSBzdGF0ZS52YWx1ZSB8fCAnJztcbiAgICAgIHZhciBjdXJyZW50Q2FyZXRQb3NpdGlvbiA9ICgwLCBfdXRpbHMuZ2V0Q3VycmVudENhcmV0UG9zaXRpb24pKGVsKTtcbiAgICAgIGlucHV0VmFsdWUgPSB0aGlzLmNvcnJlY3RJbnB1dFZhbHVlKGN1cnJlbnRDYXJldFBvc2l0aW9uLCBsYXN0VmFsdWUsIGlucHV0VmFsdWUpO1xuICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXRJbnB1dChpbnB1dFZhbHVlKSB8fCAnJztcbiAgICAgIHZhciBudW1Bc1N0cmluZyA9IHRoaXMucmVtb3ZlRm9ybWF0dGluZyhmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB2YXIgdmFsdWVPYmogPSB0aGlzLmdldFZhbHVlT2JqZWN0KGZvcm1hdHRlZFZhbHVlLCBudW1Bc1N0cmluZyk7XG5cbiAgICAgIGlmICghaXNBbGxvd2VkKHZhbHVlT2JqKSkge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGxhc3RWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlOiBmb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgbnVtQXNTdHJpbmc6IG51bUFzU3RyaW5nLFxuICAgICAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlLFxuICAgICAgICBpbnB1dDogZWxcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcHJvcHMub25DaGFuZ2UoZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25CbHVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQmx1cihlKSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIHZhciBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICAgICAgb25CbHVyID0gcHJvcHMub25CbHVyO1xuICAgICAgdmFyIG51bUFzU3RyaW5nID0gc3RhdGUubnVtQXNTdHJpbmc7XG4gICAgICB2YXIgbGFzdFZhbHVlID0gc3RhdGUudmFsdWU7XG4gICAgICB0aGlzLmZvY3VzZWRFbG0gPSBudWxsO1xuXG4gICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICBudW1Bc1N0cmluZyA9ICgwLCBfdXRpbHMuZml4TGVhZGluZ1plcm8pKG51bUFzU3RyaW5nKTtcbiAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXROdW1TdHJpbmcobnVtQXNTdHJpbmcpOyAvL2NoYW5nZSB0aGUgc3RhdGVcblxuICAgICAgICBpZiAoZm9ybWF0dGVkVmFsdWUgIT09IGxhc3RWYWx1ZSkge1xuICAgICAgICAgIC8vIHRoZSBldmVudCBuZWVkcyB0byBiZSBwZXJzaXN0ZWQgYmVjYXVzZSBpdHMgcHJvcGVydGllcyBjYW4gYmUgYWNjZXNzZWQgaW4gYW4gYXN5bmNocm9ub3VzIHdheVxuICAgICAgICAgIGUucGVyc2lzdCgpO1xuICAgICAgICAgIHRoaXMudXBkYXRlVmFsdWUoe1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICAgICAgbnVtQXNTdHJpbmc6IG51bUFzU3RyaW5nXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb25CbHVyKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBvbkJsdXIoZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uS2V5RG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG4gICAgICB2YXIga2V5ID0gZS5rZXk7XG4gICAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSBlbC5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICBzZWxlY3Rpb25FbmQgPSBlbC5zZWxlY3Rpb25FbmQsXG4gICAgICAgICAgX2VsJHZhbHVlID0gZWwudmFsdWUsXG4gICAgICAgICAgdmFsdWUgPSBfZWwkdmFsdWUgPT09IHZvaWQgMCA/ICcnIDogX2VsJHZhbHVlO1xuICAgICAgdmFyIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbjtcbiAgICAgIHZhciBfdGhpcyRwcm9wczExID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczExLmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzMTEuZml4ZWREZWNpbWFsU2NhbGUsXG4gICAgICAgICAgcHJlZml4ID0gX3RoaXMkcHJvcHMxMS5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHMxMS5zdWZmaXgsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMxMS5mb3JtYXQsXG4gICAgICAgICAgb25LZXlEb3duID0gX3RoaXMkcHJvcHMxMS5vbktleURvd24sXG4gICAgICAgICAgb25WYWx1ZUNoYW5nZSA9IF90aGlzJHByb3BzMTEub25WYWx1ZUNoYW5nZTtcbiAgICAgIHZhciBpZ25vcmVEZWNpbWFsU2VwYXJhdG9yID0gZGVjaW1hbFNjYWxlICE9PSB1bmRlZmluZWQgJiYgZml4ZWREZWNpbWFsU2NhbGU7XG4gICAgICB2YXIgbnVtUmVnZXggPSB0aGlzLmdldE51bWJlclJlZ2V4KGZhbHNlLCBpZ25vcmVEZWNpbWFsU2VwYXJhdG9yKTtcbiAgICAgIHZhciBuZWdhdGl2ZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnLScpO1xuICAgICAgdmFyIGlzUGF0dGVybkZvcm1hdCA9IHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnO1xuICAgICAgdGhpcy5zZWxlY3Rpb25CZWZvcmVJbnB1dCA9IHtcbiAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IHNlbGVjdGlvblN0YXJ0LFxuICAgICAgICBzZWxlY3Rpb25FbmQ6IHNlbGVjdGlvbkVuZCAvL0hhbmRsZSBiYWNrc3BhY2UgYW5kIGRlbGV0ZSBhZ2FpbnN0IG5vbiBudW1lcmljYWwvZGVjaW1hbCBjaGFyYWN0ZXJzIG9yIGFycm93IGtleXNcblxuICAgICAgfTtcblxuICAgICAgaWYgKGtleSA9PT0gJ0Fycm93TGVmdCcgfHwga2V5ID09PSAnQmFja3NwYWNlJykge1xuICAgICAgICBleHBlY3RlZENhcmV0UG9zaXRpb24gPSBzZWxlY3Rpb25TdGFydCAtIDE7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0ICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnRGVsZXRlJykge1xuICAgICAgICBleHBlY3RlZENhcmV0UG9zaXRpb24gPSBzZWxlY3Rpb25TdGFydDtcbiAgICAgIH0gLy9pZiBleHBlY3RlZENhcmV0UG9zaXRpb24gaXMgbm90IHNldCBpdCBtZWFucyB3ZSBkb24ndCB3YW50IHRvIEhhbmRsZSBrZXlEb3duXG4gICAgICAvL2Fsc28gaWYgbXVsdGlwbGUgY2hhcmFjdGVycyBhcmUgc2VsZWN0ZWQgZG9uJ3QgaGFuZGxlXG5cblxuICAgICAgaWYgKGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHNlbGVjdGlvblN0YXJ0ICE9PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgb25LZXlEb3duKGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdDYXJldFBvc2l0aW9uID0gZXhwZWN0ZWRDYXJldFBvc2l0aW9uO1xuICAgICAgdmFyIGxlZnRCb3VuZCA9IGlzUGF0dGVybkZvcm1hdCA/IGZvcm1hdC5pbmRleE9mKCcjJykgOiBwcmVmaXgubGVuZ3RoO1xuICAgICAgdmFyIHJpZ2h0Qm91bmQgPSBpc1BhdHRlcm5Gb3JtYXQgPyBmb3JtYXQubGFzdEluZGV4T2YoJyMnKSArIDEgOiB2YWx1ZS5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuXG4gICAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBrZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0ga2V5ID09PSAnQXJyb3dMZWZ0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIG5ld0NhcmV0UG9zaXRpb24gPSB0aGlzLmNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBleHBlY3RlZENhcmV0UG9zaXRpb24sIGRpcmVjdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0RlbGV0ZScgJiYgIW51bVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkgJiYgIW5lZ2F0aXZlUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSkge1xuICAgICAgICB3aGlsZSAoIW51bVJlZ2V4LnRlc3QodmFsdWVbbmV3Q2FyZXRQb3NpdGlvbl0pICYmIG5ld0NhcmV0UG9zaXRpb24gPCByaWdodEJvdW5kKSB7XG4gICAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbisrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0JhY2tzcGFjZScgJiYgIW51bVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkpIHtcbiAgICAgICAgLyogTk9URTogVGhpcyBpcyBzcGVjaWFsIGNhc2Ugd2hlbiBiYWNrc3BhY2UgaXMgcHJlc3NlZCBvbiBhXG4gICAgICAgIG5lZ2F0aXZlIHZhbHVlIHdoaWxlIHRoZSBjdXJzb3IgcG9zaXRpb24gaXMgYWZ0ZXIgcHJlZml4LiBXZSBjYW4ndCBoYW5kbGUgaXQgb24gb25DaGFuZ2UgYmVjYXVzZVxuICAgICAgICB3ZSB3aWxsIG5vdCBoYXZlIGFueSBpbmZvcm1hdGlvbiBvZiBrZXlQcmVzc1xuICAgICAgICAqL1xuICAgICAgICBpZiAoc2VsZWN0aW9uU3RhcnQgPD0gbGVmdEJvdW5kICsgMSAmJiB2YWx1ZVswXSA9PT0gJy0nICYmIHR5cGVvZiBmb3JtYXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEpOyAvL3BlcnNpc3QgZXZlbnQgYmVmb3JlIHBlcmZvcm1pbmcgYXN5bmMgdGFza1xuXG4gICAgICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogbmV3VmFsdWUsXG4gICAgICAgICAgICBjYXJldFBvczogbmV3Q2FyZXRQb3NpdGlvbixcbiAgICAgICAgICAgIGlucHV0OiBlbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZWdhdGl2ZVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkpIHtcbiAgICAgICAgICB3aGlsZSAoIW51bVJlZ2V4LnRlc3QodmFsdWVbbmV3Q2FyZXRQb3NpdGlvbiAtIDFdKSAmJiBuZXdDYXJldFBvc2l0aW9uID4gbGVmdEJvdW5kKSB7XG4gICAgICAgICAgICBuZXdDYXJldFBvc2l0aW9uLS07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIG5ld0NhcmV0UG9zaXRpb24sICdsZWZ0Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0NhcmV0UG9zaXRpb24gIT09IGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiB8fCBleHBlY3RlZENhcmV0UG9zaXRpb24gPCBsZWZ0Qm91bmQgfHwgZXhwZWN0ZWRDYXJldFBvc2l0aW9uID4gcmlnaHRCb3VuZCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIG5ld0NhcmV0UG9zaXRpb24sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8qIE5PVEU6IHRoaXMgaXMganVzdCByZXF1aXJlZCBmb3IgdW5pdCB0ZXN0IGFzIHdlIG5lZWQgdG8gZ2V0IHRoZSBuZXdDYXJldFBvc2l0aW9uLFxuICAgICAgICAgICAgICBSZW1vdmUgdGhpcyB3aGVuIHlvdSBmaW5kIGRpZmZlcmVudCBzb2x1dGlvbiAqL1xuXG5cbiAgICAgIGlmIChlLmlzVW5pdFRlc3RSdW4pIHtcbiAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgbmV3Q2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3BzLm9uS2V5RG93bihlKTtcbiAgICB9XG4gICAgLyoqIHJlcXVpcmVkIHRvIGhhbmRsZSB0aGUgY2FyZXQgcG9zaXRpb24gd2hlbiBjbGljayBhbnl3aGVyZSB3aXRoaW4gdGhlIGlucHV0ICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZVVwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VVcChlKSB7XG4gICAgICB2YXIgZWwgPSBlLnRhcmdldDtcbiAgICAgIC8qKlxuICAgICAgICogTk9URTogd2UgaGF2ZSB0byBnaXZlIGRlZmF1bHQgdmFsdWUgZm9yIHZhbHVlIGFzIGluIGNhc2Ugd2hlbiBjdXN0b20gaW5wdXQgaXMgcHJvdmlkZWRcbiAgICAgICAqIHZhbHVlIGNhbiBjb21lIGFzIHVuZGVmaW5lZCB3aGVuIG5vdGhpbmcgaXMgcHJvdmlkZWQgb24gdmFsdWUgcHJvcC5cbiAgICAgICovXG5cbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IGVsLnNlbGVjdGlvbkVuZCxcbiAgICAgICAgICBfZWwkdmFsdWUyID0gZWwudmFsdWUsXG4gICAgICAgICAgdmFsdWUgPSBfZWwkdmFsdWUyID09PSB2b2lkIDAgPyAnJyA6IF9lbCR2YWx1ZTI7XG5cbiAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA9PT0gc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHZhciBjYXJldFBvc2l0aW9uID0gdGhpcy5jb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgc2VsZWN0aW9uU3RhcnQpO1xuXG4gICAgICAgIGlmIChjYXJldFBvc2l0aW9uICE9PSBzZWxlY3Rpb25TdGFydCkge1xuICAgICAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zaXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3BzLm9uTW91c2VVcChlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Gb2N1c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkZvY3VzKGUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAvLyBXb3JrYXJvdW5kIENocm9tZSBhbmQgU2FmYXJpIGJ1ZyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03NzkzMjhcbiAgICAgIC8vIChvbkZvY3VzIGV2ZW50IHRhcmdldCBzZWxlY3Rpb25TdGFydCBpcyBhbHdheXMgMCBiZWZvcmUgc2V0VGltZW91dClcbiAgICAgIGUucGVyc2lzdCgpO1xuICAgICAgdGhpcy5mb2N1c2VkRWxtID0gZS50YXJnZXQ7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG4gICAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgc2VsZWN0aW9uRW5kID0gZWwuc2VsZWN0aW9uRW5kLFxuICAgICAgICAgICAgX2VsJHZhbHVlMyA9IGVsLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWUgPSBfZWwkdmFsdWUzID09PSB2b2lkIDAgPyAnJyA6IF9lbCR2YWx1ZTM7XG5cbiAgICAgICAgdmFyIGNhcmV0UG9zaXRpb24gPSBfdGhpczMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIHNlbGVjdGlvblN0YXJ0KTsgLy9zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbiBvbmx5IHdoZW4gZXZlcnl0aGluZyBpcyBub3Qgc2VsZWN0ZWQgb24gZm9jdXMgKHdoaWxlIHRhYmJpbmcgaW50byB0aGUgZmllbGQpXG5cblxuICAgICAgICBpZiAoY2FyZXRQb3NpdGlvbiAhPT0gc2VsZWN0aW9uU3RhcnQgJiYgIShzZWxlY3Rpb25TdGFydCA9PT0gMCAmJiBzZWxlY3Rpb25FbmQgPT09IHZhbHVlLmxlbmd0aCkpIHtcbiAgICAgICAgICBfdGhpczMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zaXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy5wcm9wcy5vbkZvY3VzKGUpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMxMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdHlwZSA9IF90aGlzJHByb3BzMTIudHlwZSxcbiAgICAgICAgICBkaXNwbGF5VHlwZSA9IF90aGlzJHByb3BzMTIuZGlzcGxheVR5cGUsXG4gICAgICAgICAgY3VzdG9tSW5wdXQgPSBfdGhpcyRwcm9wczEyLmN1c3RvbUlucHV0LFxuICAgICAgICAgIHJlbmRlclRleHQgPSBfdGhpcyRwcm9wczEyLnJlbmRlclRleHQsXG4gICAgICAgICAgZ2V0SW5wdXRSZWYgPSBfdGhpcyRwcm9wczEyLmdldElucHV0UmVmO1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgIHZhciBvdGhlclByb3BzID0gKDAsIF91dGlscy5vbWl0KSh0aGlzLnByb3BzLCBwcm9wVHlwZXMpO1xuXG4gICAgICB2YXIgaW5wdXRQcm9wcyA9IF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2UsXG4gICAgICAgIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sXG4gICAgICAgIG9uTW91c2VVcDogdGhpcy5vbk1vdXNlVXAsXG4gICAgICAgIG9uRm9jdXM6IHRoaXMub25Gb2N1cyxcbiAgICAgICAgb25CbHVyOiB0aGlzLm9uQmx1clxuICAgICAgfSk7XG5cbiAgICAgIGlmIChkaXNwbGF5VHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0ID8gcmVuZGVyVGV4dCh2YWx1ZSkgfHwgbnVsbCA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7XG4gICAgICAgICAgcmVmOiBnZXRJbnB1dFJlZlxuICAgICAgICB9KSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChjdXN0b21JbnB1dCkge1xuICAgICAgICB2YXIgQ3VzdG9tSW5wdXQgPSBjdXN0b21JbnB1dDtcbiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ3VzdG9tSW5wdXQsIGlucHV0UHJvcHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIF9leHRlbmRzKHt9LCBpbnB1dFByb3BzLCB7XG4gICAgICAgIHJlZjogZ2V0SW5wdXRSZWZcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTnVtYmVyRm9ybWF0O1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5OdW1iZXJGb3JtYXQucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuTnVtYmVyRm9ybWF0LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcbnZhciBfZGVmYXVsdCA9IE51bWJlckZvcm1hdDtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDc4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX1BhcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX0NoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjcpO1xuXG52YXIgX0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZWNrYm94KTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MCk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX0ludm9pY2VUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3OSk7XG5cbnZhciBfSW52b2ljZVRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludm9pY2VUYWJsZSk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTY3KTtcblxudmFyIF9TbmFja2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2Jhcik7XG5cbnZhciBfSWNvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXG52YXIgX0ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvbkJ1dHRvbik7XG5cbnZhciBfQ2xvc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblxudmFyIF9DbG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9zZSk7XG5cbnZhciBfQ2xlYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzOCk7XG5cbnZhciBfQ2xlYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xlYXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBkdWVEZXRhaWxzUm9vdDoge1xuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjBcIixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICB9LFxuICAgICAgICBwb3N0Q2FsbER1ZURldGFpbHNSb290OiB7XG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiMFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjYwdmhcIixcbiAgICAgICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW5cblxuICAgICAgICB9LFxuICAgICAgICBtZW51SXRlbVJvb3Q6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjEuNXZoIDEuMDl2d1wiXG4gICAgICAgIH0sXG4gICAgICAgIG1lbnVQYXBlcjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIycHggc29saWQgd2hpdGVcIlxuICAgICAgICB9LFxuICAgICAgICBjaGVja2VkSWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdEZpbHRlcjoge1xuICAgICAgICAgICAgbWluV2lkdGg6IDEyMCxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi45cmVtICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMS43MTh2d1wiXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsSWNvbjoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS40NnZoICsgMS40NnZ3KVwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgZW5hYmxlZEVtYWlsSWNvbjoge1xuICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZEVtYWlsSWNvbjoge1xuICAgICAgICAgICAgb3BhY2l0eTogXCIuNVwiXG4gICAgICAgIH0sXG4gICAgICAgIGJsYWNrVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RNZW51OiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIuOXJlbSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjIpXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJTZWxlY3Rpb25zOiB7XG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBjbGVhclNlbGVjdGlvbnNQYXJlbnQ6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiLjQ1cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0SWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAuNlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RMaW5lUG9zdENhbGw6IHtcbiAgICAgICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjNTk2QTc1ICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiLjd2aCAwXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0TGluZUluQ2FsbDoge1xuICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIyLjAzN3ZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUJ1Y2tldENoZWNrYm94OiB7XG4gICAgICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tCb3hSb290OiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjBcIlxuICAgICAgICB9LFxuICAgICAgICBjbGVhclNlbGVjdGlvbkdyaWQ6IHtcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCJcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGludm9pY2VzOiBbXSxcbiAgICBmaWx0ZXJJbnZvaWNlczogZnVuY3Rpb24gZmlsdGVySW52b2ljZXMoKSB7fSxcbiAgICBidWNrZXROYW1lczogW11cbn07XG5cbnZhciBEdWVEZXRhaWxzID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRHVlRGV0YWlscywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEdWVEZXRhaWxzKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEdWVEZXRhaWxzKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRHVlRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKER1ZURldGFpbHMpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgICAgICBfdGhpcy50b3RhbFJvd3MgPSAwO1xuICAgICAgICB2YXIgbWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIF90aGlzLnRvdGFsUm93cyA9IF90aGlzLnRvdGFsUm93cyArIHByb3BzLmludm9pY2VzW2pdLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXNbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCkgbWFwW3Byb3BzLmludm9pY2VzW2pdW2ldLmlkXSA9IGZhbHNlO2Vsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW52b2ljZXNbal1baV0uaWQgaW4gcHJvcHMuY29ycmVjdEludm9pY2VzTWFwKSBtYXBbcHJvcHMuaW52b2ljZXNbal1baV0uaWRdID0gdHJ1ZTtlbHNlIG1hcFtwcm9wcy5pbnZvaWNlc1tqXVtpXS5pZF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMucHJvcHMucG9zdENhbGwgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMuc2V0U2VsZWN0ZWRJbnZvaWNlcyhtYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBpbnZvaWNlVHlwZTogXCJBbGxcIixcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IG1hcCxcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgIGdsb2JhbENoZWNrOiBmYWxzZSxcbiAgICAgICAgICAgIGlzQnVsa0VtYWlsOiB0cnVlLFxuICAgICAgICAgICAgY29sbGVjdG9yOiBfdGhpcy5wcm9wcy5jb2xsZWN0b3IsXG4gICAgICAgICAgICBjdXN0b21lcjogX3RoaXMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnByb3BzLmZpbHRlckludm9pY2VzKFwiQWxsXCIpO1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRHVlRGV0YWlscywgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsIF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcyx0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcblxuXG4gICAgICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cblxuXG4gICAgICAgIC8vIFNlbmQgZW1haWwgZm9yIG1vcmUgdGhhbiBvbmUgaW52b2ljZVxuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuICAgICAgICAgICAgdmFyIGRheXMgPSB0aGlzLnByb3BzLmJ1Y2tldE5hbWVzO1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5wb3N0Q2FsbCA/IGNsYXNzZXMucG9zdENhbGxEdWVEZXRhaWxzUm9vdCA6IGNsYXNzZXMuZHVlRGV0YWlsc1Jvb3QsIGVsZXZhdGlvbjogMCB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBjbGFzc05hbWU6IHRoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnNlbGVjdExpbmVQb3N0Q2FsbCA6IGNsYXNzZXMuc2VsZWN0TGluZUluQ2FsbCB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUJ1Y2tldENoZWNrYm94LCBhbGlnbjogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMuY2hlY2tCb3hSb290IH0sIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2ZycgfSksIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZDogdGhpcy5zdGF0ZS5nbG9iYWxDaGVjaywgb25DbGljazogdGhpcy5oYW5kbGVDaGFuZ2UgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5ibGFja1RleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0IEFsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmlldyBcXHhBMDonXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfU2VsZWN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuc2VsZWN0RmlsdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW52b2ljZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUZpbHRlckNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24sIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW51UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJpbnZvaWNlVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdBbGwnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBbGwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdCcm9rZW4gUDJQJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQnJva2VuIFAyUCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ1VwY29taW5nIFAyUCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VwY29taW5nIFAyUCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0Rpc3B1dGUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEaXNwdXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnUHJlZGljdGVkIERlbGlucXVlbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdQcmVkaWN0ZWQgRGVsaW5xdWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucG9zdENhbGwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDUsIGFsaWduOiAncmlnaHQnLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5jbGVhclNlbGVjdGlvbkdyaWQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbGVhclNlbGVjdGlvbnMsIGNsYXNzTmFtZTogY2xhc3Nlcy5jbGVhclNlbGVjdGlvbnNQYXJlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xlYXIyLmRlZmF1bHQsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMS4xcmVtXCIsIG9wYWNpdHk6IDAuNjUgfSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2xlYXJTZWxlY3Rpb25zIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDbGVhciBTZWxlY3Rpb25zICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogNSwgYWxpZ246ICdyaWdodCcsIHN0eWxlOiB7IHBhZGRpbmdSaWdodDogXCIwdndcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxJY29uLCBjbGFzc2VzLmVuYWJsZWRFbWFpbEljb24pLCBvbkNsaWNrOiB0aGlzLnNlbmRCdWxrRW1haWwsIHNyYzogJy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLmlzQnVsa0VtYWlsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmVtYWlsSWNvbiwgY2xhc3Nlcy5kaXNhYmxlZEVtYWlsSWNvbiksIHNyYzogJy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGZ1bmN0aW9uIChidWNrZXRJbnZvaWNlcywgaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnZvaWNlVGFibGUyLmRlZmF1bHQsIHsgZW1haWxPZkNhbGxlZDogX3RoaXMzLnByb3BzLmVtYWlsT2ZDYWxsZWQsIHBvc3RDYWxsOiBfdGhpczMucHJvcHMucG9zdENhbGwsIGNvbGxlY3RvcjogX3RoaXMzLnByb3BzLmNvbGxlY3RvciwgY3VzdG9tZXI6IF90aGlzMy5wcm9wcy5jdXN0b21lciwgc2VsZWN0ZWRJbnZvaWNlczogX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMsIGludm9pY2VzOiBidWNrZXRJbnZvaWNlcywgaW5kaXZpZHVhbDogZmFsc2UsIGRheXM6IGRheXNbaWRdLCBpbnZvaWNlVHlwZTogX3RoaXMzLnN0YXRlLmludm9pY2VUeXBlLCB1cGRhdGVHbG9iYWxNYXA6IF90aGlzMy51cGRhdGVHbG9iYWxNYXAgfSk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tCYXJPcGVuLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbWVzc2FnZS1pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlU25hY2tiYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICldXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRHVlRGV0YWlscztcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHRoaXMuc2V0Q2hlY2sgPSBmdW5jdGlvbiAoaW52b2ljZXMsIHNlbGVjdGVkSW52b2ljZXMpIHtcblxuICAgICAgICB2YXIgYWxsRW1haWxzRmxhZyA9IGZhbHNlO1xuXG4gICAgICAgIHZhciB0ZW1wID0gaW52b2ljZXM7XG5cbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgc3VtID0gc3VtICsgdGVtcFtqXS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vZW5hYmxlIG9yIGRpc2FibGUgZW1haWwgaWNvbiBiYXNlZCBvbiBzZWxlY3Rpb25cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBhbGxFbWFpbHNGbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFsbEVtYWlsc0ZsYWcpIHtcbiAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGlzQnVsa0VtYWlsOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdW0gPT0gMCkgZmxhZyA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSkgX3RoaXM0LnNldFN0YXRlKHsgZ2xvYmFsQ2hlY2s6IGZhbHNlIH0pO2Vsc2UgX3RoaXM0LnNldFN0YXRlKHsgZ2xvYmFsQ2hlY2s6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlR2xvYmFsTWFwID0gZnVuY3Rpb24gKGRhdGEsIGZsYWcsIGNhbGxGcm9tQ2hpbGQpIHtcbiAgICAgICAgdmFyIHRlbXA7XG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xuICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICAgICAgICAgIHRlbXAgPSBfdGhpczQuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJlbW92ZVwiOlxuICAgICAgICAgICAgICAgIHRlbXAgPSBfdGhpczQuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0Q2hlY2soX3RoaXM0LnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhZGRBcnJheVwiOlxuICAgICAgICAgICAgICAgIGlmIChjYWxsRnJvbUNoaWxkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IF90aGlzNC5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtpXS5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1fdGhpczQuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0Q2hlY2soX3RoaXM0LnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInJlbW92ZUFycmF5XCI6XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxGcm9tQ2hpbGQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDaGVjayhfdGhpczQuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9X3RoaXM0LnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldENoZWNrKF90aGlzNC5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXM0LnByb3BzLnBvc3RDYWxsID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzNC5wcm9wcy5zZXRTZWxlY3RlZEludm9pY2VzKHRlbXApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLmdsb2JhbENoZWNrID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVHbG9iYWxNYXAoX3RoaXM0LnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVHbG9iYWxNYXAoX3RoaXM0LnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNsZWFyU2VsZWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnVwZGF0ZUdsb2JhbE1hcChfdGhpczQuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIiwgZmFsc2UpO1xuICAgIH07XG5cbiAgICB0aGlzLmZpbmRUeXBlID0gZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgaWYgKGludm9pY2UucDJwRGVsaW5xdWVudCkgcmV0dXJuIFwiUHJlZGljdGVkIERlbGlucW1lbnRcIjtcbiAgICAgICAgaWYgKGludm9pY2UucDJwVXBjb21pbmcpIHJldHVybiBcIlVwY29taW5nIFAyUFwiO1xuICAgICAgICBpZiAoaW52b2ljZS5wMnBCcm9rZW4pIHJldHVybiBcIkJyb2tlbiBQMlBcIjtcbiAgICAgICAgcmV0dXJuIFwiRGlzcHV0ZVwiO1xuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZUZpbHRlckNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyB0aGlzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICAgICAgICAvLyB2YXIgaW52b2ljZVR5cGUgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgLy8gaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXG4gICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IHRoaXMuc3RhdGUuYWxsSW52b2ljZXMgfSwoKSA9PiB7dGhpcy5zZXRDaGVjaygpfSk7XG4gICAgICAgIC8vIGVsc2Uge1xuICAgICAgICAvLyAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcbiAgICAgICAgLy8gICAgIHZhciBmaWx0ZXJlZEludm9pY2VzID0gW11cbiAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIC8vICAgICAgICAgZmlsdGVyZWRJbnZvaWNlc1tpXSA9IGludm9pY2VzW2ldLmZpbHRlcihpbnZvaWNlID0+IHRoaXMuZmluZFR5cGUoaW52b2ljZSkgPT0gaW52b2ljZVR5cGUpO1xuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0sKCkgPT4ge3RoaXMuc2V0Q2hlY2soKX0pO1xuICAgICAgICAvLyB9XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGludm9pY2VUeXBlOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgIF90aGlzNC5wcm9wcy5maWx0ZXJJbnZvaWNlcyhldmVudC50YXJnZXQudmFsdWUpO1xuICAgIH07XG5cbiAgICB0aGlzLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzbmFja0Jhck1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbmRCdWxrRW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZW1wID0gX3RoaXM0LnN0YXRlLmludm9pY2VzO1xuICAgICAgICB2YXIgZG9jdW1lbnROdW1iZXJzID0gW107XG5cbiAgICAgICAgLy8gR2V0IHRoZSBjaGVja2VkIGludm9pY2VzIElkXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzNC5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbal1baV0uaWRdID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXJzLnB1c2godGVtcFtqXVtpXS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcbiAgICAgICAgdmFyIHJlcUVtYWlsT2JqID0ge1xuICAgICAgICAgICAgY3VzdG9tZXJJZDogX3RoaXM0LnN0YXRlLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IGRvY3VtZW50TnVtYmVycyxcbiAgICAgICAgICAgIGZyb206IF90aGlzNC5zdGF0ZS5jb2xsZWN0b3IuZW1haWxJZCwgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxuICAgICAgICAgICAgdG86IF90aGlzNC5wcm9wcy5lbWFpbE9mQ2FsbGVkIC8vZ2V0IGZyb20gQ29udGFjdCBvYmplY3QuXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTWFraW5nIGEgcG9zdCBjYWxsIGZvciBzZW5kaW5nIGVtYWlsc1xuICAgICAgICBfYXhpb3MyLmRlZmF1bHQucG9zdChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHknLCByZXFFbWFpbE9iailcbiAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgICAvLyBtb2NrIHNlcnZlciBhcGlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpczQub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFbWFpbCBzZW50XCIpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzID0gX3RoaXM0LnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgIHZhciBzZWxlY3RlZEludm9pY2VzQ291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpIGluIHNlbGVjdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzW2ldID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyknO1xuICAgIH07XG59O1xuXG5EdWVEZXRhaWxzLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICAgIGZpbHRlckludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5cbkR1ZURldGFpbHMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKER1ZURldGFpbHMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA3OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nik7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWwpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsU3VtbWFyeSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc3KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbERldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNCk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuc2lvblBhbmVsRGV0YWlscyk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9FeHBhbmRNb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzkpO1xuXG52YXIgX0V4cGFuZE1vcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5kTW9yZSk7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNyk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX0RvbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1NCk7XG5cbnZhciBfRG9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Eb25lKTtcblxudmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MCk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfU25hY2tiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cbnZhciBfU25hY2tiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25hY2tiYXIpO1xuXG52YXIgX0ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblxudmFyIF9JY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25CdXR0b24pO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgX2Jhc2VTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlU3R5bGUpO1xuXG52YXIgX0dyaWRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjgpO1xuXG52YXIgX0dyaWRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0KTtcblxudmFyIF9HcmlkTGlzdFRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSk7XG5cbnZhciBfR3JpZExpc3RUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0VGlsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbi8vIGltcG9ydCBMaXN0T2ZUaWxlIGZyb20gJy4vTGlzdE9mVGlsZSc7XG5cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMFwiXG4gICAgICAgIH0sXG4gICAgICAgIG1lbnVJdGVtUm9vdDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMS41dmggMS4wOXZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgbWVudVBhcGVyOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiXG4gICAgICAgIH0sXG4gICAgICAgIHBvc3RDYWxsUm9vdDoge1xuICAgICAgICAgICAgcGFkZGluZzogXCIwXCIsXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IFwiLjh2aFwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEuMjV2d1wiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjIuMjJ2aFwiLFxuICAgICAgICAgICAgb3BhY2l0eTogXCIuNlwiXG5cbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tlZEljb246IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAgICAgekluZGV4OiBcIjNcIixcbiAgICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0RmlsdGVyOiB7XG4gICAgICAgICAgICBtaW5XaWR0aDogMTIwLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIxLjcxOHZ3XCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBtYXJnaW46ICcwIC0ycHggLTJweCAtMnB4ICFpbXBvcnRhbnQnLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3REaXY6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcbiAgICAgICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RlZEdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiXG4gICAgICAgIH0sXG4gICAgICAgIHNoaWZ0OiB7XG4gICAgICAgICAgICBtYXJnaW46IFwiMXJlbSAxcmVtIDAgMXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGJsYWNrVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjk1cmVtXCIsXG4gICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JleVRleHQ6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiLjY1XCJcbiAgICAgICAgfSxcbiAgICAgICAgYnVja2V0SGVhZGVyVGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2VSb3dCYWNrZ3JvdW5kOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzU4Njk3M1wiXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRCYWNrZ3JvdW5kOiB7XG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjMzk1QzczICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI1LjY1dmhcIlxuICAgICAgICB9LFxuICAgICAgICBpbnZvaWNlSGVhZGVyVGV4dDoge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiLjVcIlxuICAgICAgICB9LFxuICAgICAgICBwYW5lbFN1bW1hcnk6IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMFwiLCBtYXJnaW46IFwiMFwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgIG1hcmdpbjogXCIwICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBleHBhbmRJY29uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBpbmRpdmlkdWFsSW52b2ljZUhlYWRlcjoge1xuICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMi4wMzd2aCAxcmVtIDAgMXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb25TaXplOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIlxuICAgICAgICB9LFxuICAgICAgICBlbmFibGVkRW1haWxJY29uOiB7XG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkRW1haWxJY29uOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiBcIi41XCJcbiAgICAgICAgfSxcbiAgICAgICAgc3VtbWFyeUV4cGFuZGVkOiB7XG4gICAgICAgICAgICBtaW5IZWlnaHQ6IFwiNS41NXZoICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlVGltZWxpbmU6IHtcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIyLjJyZW1cIiwgbWFyZ2luTGVmdDogXCIuMnJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVsaW5lOiB7XG4gICAgICAgICAgICBib3JkZXJMZWZ0OiBcIjFweCBzb2xpZCAjNTk2QTc1XCJcbiAgICAgICAgfVxuICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZGlzYWJsZVRpbWVsaW5lJywge30pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3Bvc3RDYWxsVGltZWxpbmUnLCB7XG4gICAgICAgIGJvcmRlckxlZnQ6IFwiMXB4IHNvbGlkICMzOTVDNzNcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3NlbGVjdEljb24nLCB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgb3BhY2l0eTogLjZcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdzdW1tYXJ5Q29udGVudCcsIHtcbiAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAgIWltcG9ydGFudFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnaW52b2ljZU51bWJlckNvbHVtbicsIHtcbiAgICAgICAgd2lkdGg6IFwiMTQlXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdhbW91bnRDb2x1bW4nLCB7XG4gICAgICAgIHdpZHRoOiBcIjEyJVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnYnJva2VuQ29sdW1uJywge1xuICAgICAgICB3aWR0aDogXCIxMy41JVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAndXBjb21pbmdDb2x1bW4nLCB7XG4gICAgICAgIHdpZHRoOiBcIjE0JVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZGlzcHV0ZUNvbHVtbicsIHtcbiAgICAgICAgd2lkdGg6IFwiMTMlXCJcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICdwcmVkaWN0ZWRDb2x1bW4nLCB7XG4gICAgICAgIHdpZHRoOiBcIjE4JVwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnY2hlY2tCb3hDb2x1bW4nLCB7XG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgbWluV2lkdGg6IFwiMy4xMjV2d1wiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnYm9yZGVyQm90dG9tJywge1xuICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjMzk1QzczICFpbXBvcnRhbnRcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2VtYWlsQ29sdW1uJywge1xuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnaW52b2ljZUJ1Y2tldENoZWNrYm94Jywge1xuICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCIsXG4gICAgICAgIGhlaWdodDogXCI1LjU1dmhcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ3ZlcnRpY2FsVGltZWxpbmUnLCB7XG4gICAgICAgIHdpZHRoOiBcIjMuMTI1dndcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2Nvbm5lY3RvcicsIHtcbiAgICAgICAgaGVpZ2h0OiBcIjUuNTV2aFwiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnY2hlY2tCb3hSb290Jywge1xuICAgICAgICBwYWRkaW5nOiBcIjBcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2luZGl2aWR1YWxCdWNrZXRDaGVja2JveCcsIHtcbiAgICAgICAgbWluV2lkdGg6IFwiMy4xMjV2d1wiXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAnc2VsZWN0TWVudScsIHtcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW0gIWltcG9ydGFudFwiLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMilcIlxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2dyaWRMaXN0VGlsZScsIHtcbiAgICAgICAgaGVpZ2h0OiBcImF1dG8gIWltcG9ydGFudFwiXG4gICAgfSksIF9yZWY7XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGludm9pY2VzOiBbXSxcbiAgICBzZWxlY3RlZEludm9pY2VzOiBbXSxcbiAgICBmaWx0ZXJJbnZvaWNlczogZnVuY3Rpb24gZmlsdGVySW52b2ljZXMoKSB7fVxufTtcblxudmFyIEludm9pY2VUYWJsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEludm9pY2VUYWJsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBJbnZvaWNlVGFibGUocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludm9pY2VUYWJsZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEludm9pY2VUYWJsZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEludm9pY2VUYWJsZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIHZhciBleHBhbmRlZDtcbiAgICAgICAgX3RoaXMudG90YWxBbW91bnQgPSAwO1xuICAgICAgICB2YXIgbWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF90aGlzLnRvdGFsQW1vdW50ID0gX3RoaXMudG90YWxBbW91bnQgKyBwcm9wcy5pbnZvaWNlc1tpXS5jdXJyZW50T3BlbkFtb3VudDtcbiAgICAgICAgICAgIG1hcFtwcm9wcy5pbnZvaWNlc1tpXS5pZF0gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hlY2tlZEludm9pY2VzO1xuICAgICAgICB2YXIgaW52b2ljZVR5cGU7XG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5pbmRpdmlkdWFsKSB7XG4gICAgICAgICAgICBjaGVja2VkSW52b2ljZXMgPSBtYXA7XG4gICAgICAgICAgICBpbnZvaWNlVHlwZSA9IFwiQWxsXCI7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5maWx0ZXJJbnZvaWNlcyhcIkFsbFwiKTtcbiAgICAgICAgICAgIGV4cGFuZGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrZWRJbnZvaWNlcyA9IF90aGlzLnByb3BzLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICBpbnZvaWNlVHlwZSA9IHByb3BzLmludm9pY2VUeXBlO1xuICAgICAgICAgICAgZXhwYW5kZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzOiBjaGVja2VkSW52b2ljZXMsXG4gICAgICAgICAgICBkYXlzOiBwcm9wcy5kYXlzLFxuICAgICAgICAgICAgdG90YWxBbW91bnQ6IF90aGlzLnRvdGFsQW1vdW50LFxuICAgICAgICAgICAgaW52b2ljZVR5cGU6IGludm9pY2VUeXBlLFxuICAgICAgICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuICAgICAgICAgICAgaXNCdWxrRW1haWw6IHRydWUsXG4gICAgICAgICAgICBjdXN0b21lcjogX3RoaXMucHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICBjb2xsZWN0b3I6IF90aGlzLnByb3BzLmNvbGxlY3RvcixcbiAgICAgICAgICAgIHNuYWNrQmFyT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCJcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhJbnZvaWNlVGFibGUsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcykge1xuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjaygpICAgIFxuICAgICAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3VtID0gc3VtICsgcHJvcHMuaW52b2ljZXNbaV0uY3VycmVudE9wZW5BbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcHMuaW5kaXZpZHVhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0b3RhbEFtb3VudDogc3VtLCBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHByb3BzLmludm9pY2VzLCB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG90YWxBbW91bnQ6IHN1bSwgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLCBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsIHNlbGVjdGVkSW52b2ljZXM6IHByb3BzLnNlbGVjdGVkSW52b2ljZXMgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcywgdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vV2lsbCBjaGVjayBhbmQgbWFwIGFsbCBpbnZvaWNlcyBhcmUgc2VsZWN0ZWQgb3Igbm90XG5cblxuICAgICAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcblxuXG4gICAgICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cblxuXG4gICAgICAgIC8vIFNlbmQgZW1haWwgZm9yIGluZGl2aWR1YWwgaW52b2ljZVxuXG5cbiAgICAgICAgLy8gU2VuZCBlbWFpbCBmb3IgbW9yZSB0aGFuIG9uZSBpbnZvaWNlXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG5cblxuICAgICAgICAvL1JlbmRlciBmdW5jdGlvbiBcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfSB9LFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaW5kaXZpZHVhbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCB4czogMTIsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIGNsYXNzTmFtZTogY2xhc3Nlcy5pbmRpdmlkdWFsSW52b2ljZUhlYWRlciB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIHN0eWxlOiB7IHpJbmRleDogXCI1XCIgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmluZGl2aWR1YWxCdWNrZXRDaGVja2JveCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoZWNrYm94Mi5kZWZhdWx0LCB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfSwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkOiB0aGlzLnN0YXRlLmNoZWNrZWQsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2hlY2tBbGxJbnZvaWNlcyhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmJ1Y2tldEhlYWRlclRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0IEFsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiBcIiM5ODk4OThcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZpZXcgXFx4QTA6ICAnXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfU2VsZWN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuc2VsZWN0RmlsdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW52b2ljZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgaWNvbjogY2xhc3Nlcy5zZWxlY3RJY29uLCBzZWxlY3RNZW51OiBjbGFzc2VzLnNlbGVjdE1lbnUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRmlsdGVyQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImludm9pY2VUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVudVByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6IGNsYXNzZXMubWVudVBhcGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0FsbCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfTWVudUl0ZW0yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9LCB2YWx1ZTogJ0Jyb2tlbiBQMlAnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdCcm9rZW4gUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnVXBjb21pbmcgUDJQJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBjb21pbmcgUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiAnRGlzcHV0ZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Rpc3B1dGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdQcmVkaWN0ZWQgRGVsaW5xdWVudCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ByZWRpY3RlZCBEZWxpbnF1ZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDUsIGFsaWduOiAncmlnaHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbiksIG9uQ2xpY2s6IHRoaXMuc2VuZEJ1bGtFbWFpbCwgc3JjOiAnL3Rvdm8vc3RhdGljL0VtYWlsLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZGlzYWJsZWRFbWFpbEljb24pLCBzcmM6ICcvdG92by9zdGF0aWMvRW1haWwuc3ZnJyB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEyLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuaW5kaXZpZHVhbCA/IGNsYXNzZXMuc2hpZnQgOiBjbGFzc2VzLm5vU2hpZnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGJveFNoYWRvdzogXCJub25lXCIsIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiIH0sIGRlZmF1bHRFeHBhbmRlZDogdGhpcy5wcm9wcy5pbmRpdmlkdWFsLCBleHBhbmRlZDogdGhpcy5zdGF0ZS5leHBhbmRlZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmluZGl2aWR1YWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnBhbmVsU3VtbWFyeSwgY2xhc3NlczogeyBjb250ZW50OiBjbGFzc2VzLmNvbnRlbnQsIGV4cGFuZGVkOiBjbGFzc2VzLnN1bW1hcnlFeHBhbmRlZCB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5Q29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5pbnZvaWNlQnVja2V0Q2hlY2tib3gsIGNsYXNzZXMuY2VudGVyRmxleEJveCksIGFsaWduOiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jb25uZWN0b3IgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoZWNrYm94Mi5kZWZhdWx0LCB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfSwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkOiB0aGlzLnN0YXRlLmNoZWNrZWQsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNoZWNrQWxsSW52b2ljZXMoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIGl0ZW06IHRydWUsIHhzOiAxMSwgYWxpZ246ICdsZWZ0Jywgb25DbGljazogdGhpcy50b2dnbGVFeHBhbmQsIGNsYXNzTmFtZTogY2xhc3Nlcy5ib3JkZXJCb3R0b20gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuYnVja2V0SGVhZGVyVGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZ3JleVRleHQsIGNsYXNzZXMuYnVja2V0SGVhZGVyVGV4dCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMiwgYWxpZ246ICdyaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuZXhwYW5kZWQgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0V4cGFuZE1vcmUyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZXhwYW5kSWNvbiwgY2xhc3Nlcy5pY29uU2l6ZSkgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZXhwYW5kZWQgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkV4cGFuZExlc3MsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZXhwYW5kSWNvbiwgY2xhc3Nlcy5pY29uU2l6ZSkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogIXRoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnJvb3QgOiBjbGFzc2VzLnBvc3RDYWxsUm9vdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnByb3BzLmluZGl2aWR1YWwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy52ZXJ0aWNhbFRpbWVsaW5lLCBqdXN0aWZ5OiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9HcmlkMi5kZWZhdWx0LCB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5pbmRpdmlkdWFsID8gY2xhc3Nlcy5kaXNhYmxlVGltZWxpbmUgOiBjbGFzc2VzLnRpbWVsaW5lIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIHhzOiB0aGlzLnByb3BzLmluZGl2aWR1YWwgPyAxMiA6IDExLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY29udGFpbmVyOiB0cnVlLCB4czogMTIsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIHN0eWxlOiB7IG1hcmdpblRvcDogXCIxLjM0dmhcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja0JveENvbHVtbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmludm9pY2VOdW1iZXJDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJbnZvaWNlIE51bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgYWxpZ246ICdyaWdodCcsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmFtb3VudENvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Ftb3VudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgYWxpZ246ICdjZW50ZXInLCBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5icm9rZW5Db2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdCcm9rZW4gUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnVwY29taW5nQ29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBjb21pbmcgUDJQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmRpc3B1dGVDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEaXNwdXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBhbGlnbjogJ2NlbnRlcicsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnByZWRpY3RlZENvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ByZWRpY3RlZCBEZWxpbnF1ZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfR3JpZDIuZGVmYXVsdCwgeyBpdGVtOiB0cnVlLCB4czogMSwgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGZ1bmN0aW9uIChpbnZvaWNlLCBpZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5OiAnc3BhY2UtYmV0d2VlbicsIHhzOiAxMiwgY2xhc3NOYW1lOiBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA/ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5jaGFuZ2VSb3dCYWNrZ3JvdW5kLCBjbGFzc2VzLmRlZmF1bHRCYWNrZ3JvdW5kKSA6IGNsYXNzZXMuZGVmYXVsdEJhY2tncm91bmQsIGtleTogaW52b2ljZS5pZCArIFwicm93XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrQm94Q29sdW1uLCBhbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICdjaGVja2JveCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hlY2tib3gyLmRlZmF1bHQsIHsgY2xhc3NlczogeyByb290OiBjbGFzc2VzLmNoZWNrQm94Um9vdCB9LCBpZDogaW52b2ljZS5pZCwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSwgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLCBjaGVja2VkOiBfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA9PSB0cnVlLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hZGRJbnZvaWNlKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBhbGlnbjogJ2NlbnRlcicsIG51bWVyaWM6IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmludm9pY2VOdW1iZXJDb2x1bW4sIGNsYXNzZXMuYmxhY2tUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kb2N1bWVudE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgYWxpZ246ICdyaWdodCcsIG51bWVyaWM6IHRydWUsIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmFtb3VudENvbHVtbiwgY2xhc3Nlcy5ibGFja1RleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiRcIiArICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmJyb2tlbkNvbHVtbiwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSwgYWxpZ246ICdjZW50ZXInLCBudW1lcmljOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5wMnBCcm9rZW4gPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMudXBjb21pbmdDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCksIGFsaWduOiAnY2VudGVyJywgbnVtZXJpYzogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UucDJwVXBjb21pbmcgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZGlzcHV0ZUNvbHVtbiwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KSwgYWxpZ246ICdjZW50ZXInLCBudW1lcmljOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kaXNwdXRlU3RhdHVzICE9IG51bGwgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMucHJlZGljdGVkQ29sdW1uLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpLCBhbGlnbjogJ2NlbnRlcicsIG51bWVyaWM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLnAycERlbGlucXVlbnQgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9uZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZW1haWxDb2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCksIHhzOiAxLCBhbGlnbjogJ3JpZ2h0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICFfdGhpczIuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5pY29uU2l6ZSwgY2xhc3Nlcy5lbmFibGVkRW1haWxJY29uKSwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2VuZEVtYWlsKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBzcmM6ICcvdG92by9zdGF0aWMvRW1haWwuc3ZnJyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucG9zdENhbGwgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLnZlcnRpY2FsVGltZWxpbmUsIGp1c3RpZnk6ICdjZW50ZXInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0dyaWQyLmRlZmF1bHQsIHsgaXRlbTogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLnBvc3RDYWxsVGltZWxpbmUgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZExpc3QyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2VsbEhlaWdodDogXCJhdXRvXCIsIGNsYXNzTmFtZTogY2xhc3Nlcy5ncmlkTGlzdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzLm1hcChmdW5jdGlvbiAoaW52b2ljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkTGlzdFRpbGUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xzOiAxLCBrZXk6IGludm9pY2UuaWQsIGNsYXNzZXM6IHsgdGlsZTogY2xhc3Nlcy5ncmlkTGlzdFRpbGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuMnJlbScgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID09IHRydWUgPyBjbGFzc2VzLnNlbGVjdGVkR3JpZExpc3REaXYgOiBjbGFzc2VzLmdyaWRMaXN0RGl2IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBzdHlsZTogeyBwYWRkaW5nOiAnMnB4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGxlZnQ6IFwiMyVcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnZvaWNlLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5kb2N1bWVudE51bWJlcikgfHwgdGhpcy5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIG9uQ2xpY2s9eygpID0+IHRoaXMudG9nZ2xlQ2hlY2tib3goaW52b2ljZS5kb2N1bWVudE51bWJlcil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID09IHRydWUsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hZGRJbnZvaWNlKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIiwgbWFyZ2luTGVmdDogJzF2dycgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6IFwiLjg5cmVtXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC42NSwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5kb2N1bWVudE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiAnMS4xNTZyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgX2Zvcm1hdHRlci5mb3JtYXR0ZXIpKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tCYXJPcGVuLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbWVzc2FnZS1pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlU25hY2tiYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICldXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSW52b2ljZVRhYmxlO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdGhpcy5oYW5kbGVGaWx0ZXJDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW52b2ljZVR5cGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgX3RoaXMzLnByb3BzLmZpbHRlckludm9pY2VzKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlRXhwYW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLmV4cGFuZGVkID09IHRydWUpIF90aGlzMy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiBmYWxzZSB9KTtlbHNlIF90aGlzMy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZEludm9pY2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgLy8gdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkO1xuICAgICAgICAvLyAgY29uc29sZS5sb2coXCJJRCBpc1wiLGlkKVxuICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaWRdID09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMzLnByb3BzLmluZGl2aWR1YWwpIF90aGlzMy51cGRhdGVMb2NhbE1hcChpZCwgXCJhZGRcIik7ZWxzZSBfdGhpczMucHJvcHMudXBkYXRlR2xvYmFsTWFwKGlkLCBcImFkZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHRoaXMuc2V0Q2hlY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfdGhpczMucHJvcHMuaW5kaXZpZHVhbCkgX3RoaXMzLnVwZGF0ZUxvY2FsTWFwKGlkLCBcInJlbW92ZVwiKTtlbHNlIF90aGlzMy5wcm9wcy51cGRhdGVHbG9iYWxNYXAoaWQsIFwicmVtb3ZlXCIsIHRydWUpO1xuICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tBbGxJbnZvaWNlcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYgKF90aGlzMy5zdGF0ZS5jaGVja2VkID09IHRydWUpIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5pbmRpdmlkdWFsKSBfdGhpczMudXBkYXRlTG9jYWxNYXAoX3RoaXMzLnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIpO2Vsc2UgX3RoaXMzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcChfdGhpczMuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIiwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBjaGVja2VkOiB0cnVlIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5pbmRpdmlkdWFsKSBfdGhpczMudXBkYXRlTG9jYWxNYXAoX3RoaXMzLnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIpO2Vsc2UgX3RoaXMzLnByb3BzLnVwZGF0ZUdsb2JhbE1hcChfdGhpczMuc3RhdGUuaW52b2ljZXMsIFwiYWRkQXJyYXlcIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVMb2NhbE1hcCA9IGZ1bmN0aW9uIChkYXRhLCBmbGFnKSB7XG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xuICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XG4gICAgICAgICAgICAgICAgdGVtcFtkYXRhXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0Q2hlY2soX3RoaXMzLnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgIHRlbXBbZGF0YV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRDaGVjayhfdGhpczMuc3RhdGUuaW52b2ljZXMsIHRlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFkZEFycmF5XCI6XG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldENoZWNrKF90aGlzMy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlQXJyYXlcIjpcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbaV0uaWRdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldENoZWNrKF90aGlzMy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zZXRDaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBfdGhpczMuc3RhdGUuaW52b2ljZXM7XG4gICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBhbGxFbWFpbHNGbGFnID0gZmFsc2U7XG5cbiAgICAgICAgLy9lbmFibGUgb3IgZGlzYWJsZSBlbWFpbCBpY29uIGJhc2VkIG9uIHNlbGVjdGlvblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlbXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2pdLmlkXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYWxsRW1haWxzRmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWxsRW1haWxzRmxhZykge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtpXS5pZF0gPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGVtcC5sZW5ndGggPT0gMCkgZmxhZyA9IHRydWU7XG5cbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSkgX3RoaXMzLnNldFN0YXRlKHsgY2hlY2tlZDogZmFsc2UgfSk7ZWxzZSBfdGhpczMuc2V0U3RhdGUoeyBjaGVja2VkOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc25hY2tCYXJNZXNzYWdlOiBtZXNzYWdlIH0pO1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VTbmFja2JhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZW5kRW1haWwgPSBmdW5jdGlvbiAoaW52b2ljZUlkKSB7XG4gICAgICAgIC8vQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcbiAgICAgICAgdmFyIHJlcUVtYWlsT2JqID0ge1xuICAgICAgICAgICAgY3VzdG9tZXJJZDogX3RoaXMzLnN0YXRlLmN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IFtpbnZvaWNlSWRdLFxuICAgICAgICAgICAgZnJvbTogX3RoaXMzLnN0YXRlLmNvbGxlY3Rvci5lbWFpbElkLCAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXG4gICAgICAgICAgICB0bzogX3RoaXMzLnByb3BzLmVtYWlsT2ZDYWxsZWQgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cbiAgICAgICAgfTtcblxuICAgICAgICAvL01ha2luZyBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgRW1haWwgZm9yIHRoaXMgaW52b2ljZVxuICAgICAgICBfYXhpb3MyLmRlZmF1bHQucG9zdChfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArICcvY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHknLCByZXFFbWFpbE9iailcbiAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgLy8gbW9jayBzZXJ2ZXIgYXBpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgX3RoaXMzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzMy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbmRCdWxrRW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyBCdWxrIGVtYWlsXCIpO1xuICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlcztcbiAgICAgICAgdmFyIGRvY3VtZW50TnVtYmVycyA9IFtdO1xuXG4gICAgICAgIC8vIEdldCB0aGUgY2hlY2tlZCBpbnZvaWNlIElkc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2ldLmlkXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXJzLnB1c2godGVtcFtpXS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGluZyByZXF1ZXN0IG9iamVjdFxuICAgICAgICB2YXIgcmVxRW1haWxPYmogPSB7XG4gICAgICAgICAgICBjdXN0b21lcklkOiBfdGhpczMuc3RhdGUuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBkb2N1bWVudElkczogZG9jdW1lbnROdW1iZXJzLFxuICAgICAgICAgICAgZnJvbTogX3RoaXMzLnN0YXRlLmNvbGxlY3Rvci5lbWFpbElkLCAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXG4gICAgICAgICAgICB0bzogX3RoaXMzLnByb3BzLmVtYWlsT2ZDYWxsZWRcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNYWtpbmcgYSBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgZW1haWxzXG4gICAgICAgIF9heGlvczIuZGVmYXVsdC5wb3N0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weScsIHJlcUVtYWlsT2JqKVxuICAgICAgICAvLyBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopICAgIC8vIG1vY2sgc2VydmVyIGFwaVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIF90aGlzMy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVtYWlsIHNlbnRcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFcnJvciBpbiBzZW5kaW5nIGVtYWlsXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMDtcbiAgICAgICAgdmFyIGludm9pY2VzID0gX3RoaXMzLnN0YXRlLmludm9pY2VzO1xuICAgICAgICBmb3IgKHZhciBpIGluIGludm9pY2VzKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlc1tpXS5pZF0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXNDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzQ291bnQgPT0gMCB8fCAhX3RoaXMzLnByb3BzLnBvc3RDYWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gJyhUb3RhbDogJCcgKyAoMCwgX2Zvcm1hdHRlci5mb3JtYXR0ZXIpKF90aGlzMy5zdGF0ZS50b3RhbEFtb3VudCwgXCJcIikgKyAnIC0gJyArIF90aGlzMy5zdGF0ZS5pbnZvaWNlcy5sZW5ndGggKyAnIEludm9pY2VzKSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcoJyArIHNlbGVjdGVkSW52b2ljZXNDb3VudCArICcgU2VsZWN0ZWQpJztcbiAgICB9O1xufTtcblxuSW52b2ljZVRhYmxlLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICAgIGZpbHRlckludm9pY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5cbkludm9pY2VUYWJsZS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbnZhciBjb21iaW5lZFN0eWxlID0gKDAsIF9jb21iaW5lU3R5bGVzMi5kZWZhdWx0KShzdHlsZXMsIF9iYXNlU3R5bGUyLmRlZmF1bHQpO1xuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW52b2ljZVRhYmxlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwODA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfVHJhbnNjcmlwdENoYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODEpO1xuXG52YXIgX1RyYW5zY3JpcHRDaGF0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zY3JpcHRDaGF0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHt9O1xufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgICB0cmFuc2NyaXB0R3JpZElEOiAndHJhbnNjcmlwdGlvbi1ncmlkJyxcbiAgICB0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3M6ICcnLFxuICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZTogJycsXG4gICAgdHJhbnNjcmlwdENoYXRQcm9wczoge31cbn07XG5cbnZhciBUcmFuc2NyaXB0Qm94ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoVHJhbnNjcmlwdEJveCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBUcmFuc2NyaXB0Qm94KHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2NyaXB0Qm94KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVHJhbnNjcmlwdEJveC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRyYW5zY3JpcHRCb3gpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhUcmFuc2NyaXB0Qm94LCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgYXV0b1Njcm9sbCA9IF9wcm9wcy5hdXRvU2Nyb2xsLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3MgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRDaGF0UHJvcHMgPSBfcHJvcHMudHJhbnNjcmlwdENoYXRQcm9wcyxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0VGl0bGVDbGFzc05hbWUgPSBfcHJvcHMudHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lO1xuXG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHhzOiAxMixcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRyYW5zY3JpcHRDb250YWluZXJDbGFzc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAnQ0FMTCBUUkFOU0NSSVBUJ1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RyYW5zY3JpcHRDaGF0Mi5kZWZhdWx0LCBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9TY3JvbGw6IGF1dG9TY3JvbGxcbiAgICAgICAgICAgICAgICB9LCB0cmFuc2NyaXB0Q2hhdFByb3BzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVHJhbnNjcmlwdEJveDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoVHJhbnNjcmlwdEJveCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDgxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9DaGF0Qm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTA3KTtcblxudmFyIF9DaGF0Qm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoYXRCb3gpO1xuXG52YXIgX2hlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGF1dGhvciBCYWxyYWogU2luZ2ggPGJhbHJhanNpbmdoLnNAaGlnaHJhZGl1cy5jb20+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdHJhbnNjcmlwdFRleHRQYXJlbnQ6IHtcbiAgICAgIHdoaXRlU3BhY2U6ICdwcmUtbGluZScsXG4gICAgICBtYXJnaW5Ub3A6ICcyLjVyZW0nLFxuICAgICAgaGVpZ2h0OiAnODUlJyxcbiAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgcGFkZGluZzogJzAuNXJlbSAwLjVyZW0gMC41cmVtIDBweCcsXG4gICAgICBmb250RmFtaWx5OiAnUm9ib3RvJyxcbiAgICAgIG1hcmdpbkxlZnQ6ICcxcmVtJyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnXG4gICAgfVxuICB9O1xufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgYXV0b1Njcm9sbDogZmFsc2UsXG4gIHRyYW5zY3JpcHRpb246ICcnLFxuICBjYWxsZWRUb05hbWVJbml0aWFsczogJ1VVJywgLy9DdXN0b21lciBOYW1lXG4gIHVzZXJJbml0aWFsczogJ01FJ1xufTtcblxudmFyIFRyYW5zY3JpcHRDaGF0ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRyYW5zY3JpcHRDaGF0LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUcmFuc2NyaXB0Q2hhdChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2NyaXB0Q2hhdCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVHJhbnNjcmlwdENoYXQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUcmFuc2NyaXB0Q2hhdCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnNjcm9sbFRvQm90dG9tID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbGV0IGN1cnJlbnQgPSB0aGlzLm15UmVmLmN1cnJlbnQ7XG4gICAgICB2YXIgY29udGFpbmVySUQgPSBfdGhpcy5wcm9wcy50cmFuc2NyaXB0R3JpZElEO1xuICAgICAgdmFyIHRyYW5zY3JpcHRpb25HcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySUQpO1xuICAgICAgaWYgKHRyYW5zY3JpcHRpb25HcmlkKSB7XG4gICAgICAgIHRyYW5zY3JpcHRpb25HcmlkLnNjcm9sbFRvcCA9IHRyYW5zY3JpcHRpb25HcmlkLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuZ2VuZXJhdGVDaGF0Qm94ZXMgPSBmdW5jdGlvbiAodHJhbnNjcmlwdE1lc3NhZ2UsIGluZGV4KSB7XG4gICAgICAvL2NvbGxlY3RvciB0byB0aGUgcmlnaHRcbiAgICAgIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhfY29uc3RhbnRzLlRSQU5TQ1JJUFRfREVMSU1FVEVSUy5DT0xMRUNUT1IpKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2hhdEJveDIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgaXNDb2xsZWN0b3I6IHRydWUsXG4gICAgICAgICAgaW5pdGlhbHM6IF90aGlzLnByb3BzLnVzZXJJbml0aWFscyA/IF90aGlzLnByb3BzLnVzZXJJbml0aWFscyA6IFwiTUVcIixcbiAgICAgICAgICBtZXNzYWdlOiB0cmFuc2NyaXB0TWVzc2FnZS5yZXBsYWNlKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkNPTExFQ1RPUiwgXCJcIilcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRyYW5zY3JpcHRNZXNzYWdlLmluY2x1ZGVzKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkNVU1RPTUVSKSkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoYXRCb3gyLmRlZmF1bHQsIHtcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgIGlzQ29sbGVjdG9yOiBmYWxzZSxcbiAgICAgICAgICBpbml0aWFsczogX3RoaXMucHJvcHMuY2FsbGVkVG9OYW1lSW5pdGlhbHMsXG4gICAgICAgICAgbWVzc2FnZTogdHJhbnNjcmlwdE1lc3NhZ2UucmVwbGFjZShfY29uc3RhbnRzLlRSQU5TQ1JJUFRfREVMSU1FVEVSUy5DVVNUT01FUiwgXCJcIilcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRyYW5zY3JpcHRNZXNzYWdlLmluY2x1ZGVzKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkRFVEVDVElOR19TUEVBS0VSUykpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGF0Qm94Mi5kZWZhdWx0LCB7XG4gICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICBpc0RldGVjdGluZzogdHJ1ZSxcbiAgICAgICAgICBpbml0aWFsczogXCJcIixcbiAgICAgICAgICBtZXNzYWdlOiB0cmFuc2NyaXB0TWVzc2FnZS5yZXBsYWNlKF9jb25zdGFudHMuVFJBTlNDUklQVF9ERUxJTUVURVJTLkRFVEVDVElOR19TUEVBS0VSUywgXCJcIilcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRyYW5zY3JpcHRDaGF0LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSwgc25hcHNob3QpIHtcblxuICAgICAgaWYgKHRoaXMucHJvcHMuYXV0b1Njcm9sbCkge1xuICAgICAgICBjb25zb2xlLmxvZygnQXV0byBTY3JvbGxpbmcnKTtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICB0cmFuc2NyaXB0aW9uID0gX3Byb3BzLnRyYW5zY3JpcHRpb24sXG4gICAgICAgICAgdHJhbnNjcmlwdEdyaWRJRCA9IF9wcm9wcy50cmFuc2NyaXB0R3JpZElEO1xuXG4gICAgICB2YXIgZXh0cmFjdGVkVHJhbnNjcmlwdCA9ICgwLCBfaGVscGVyLnNwbGl0VHJhbnNjcmlwdCkodHJhbnNjcmlwdGlvbik7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGlkOiB0cmFuc2NyaXB0R3JpZElELCBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNjcmlwdFRleHRQYXJlbnQgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIxMDAlXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiIH0gfSxcbiAgICAgICAgICBleHRyYWN0ZWRUcmFuc2NyaXB0Lm1hcCh0aGlzLmdlbmVyYXRlQ2hhdEJveGVzKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUcmFuc2NyaXB0Q2hhdDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cblRyYW5zY3JpcHRDaGF0LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShUcmFuc2NyaXB0Q2hhdCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDg2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3N0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblxudmFyIF9hY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cbnZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX0FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwODcpO1xuXG52YXIgX0FjdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWN0aW9ucyk7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG52YXIgX0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CdXR0b24pO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmN1bGFyUHJvZ3Jlc3MpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX0ZpbmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTAyKTtcblxudmFyIF9GaW5hbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaW5hbCk7XG5cbnZhciBfR3JvdyA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXG52YXIgX0dyb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3Jvdyk7XG5cbnZhciBfRmFiID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjkpO1xuXG52YXIgX0ZhYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GYWIpO1xuXG52YXIgX0N1c3RvbURpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzMwKTtcblxudmFyIF9DdXN0b21EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ3VzdG9tRGlhbG9nKTtcblxudmFyIF9TbmFja2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTY3KTtcblxudmFyIF9TbmFja2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TbmFja2Jhcik7XG5cbnZhciBfSWNvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXG52YXIgX0ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvbkJ1dHRvbik7XG5cbnZhciBfQ2xvc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblxudmFyIF9DbG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9zZSk7XG5cbnZhciBfQWN0aW9uQ3JlYXRvckRpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwNik7XG5cbnZhciBfQWN0aW9uQ3JlYXRvckRpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BY3Rpb25DcmVhdG9yRGlhbG9nKTtcblxudmFyIF9UcmFuc2NyaXB0Qm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDgwKTtcblxudmFyIF9UcmFuc2NyaXB0Qm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zY3JpcHRCb3gpO1xuXG52YXIgX05vdGVzRWRpdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTEzKTtcblxudmFyIF9Ob3Rlc0VkaXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ob3Rlc0VkaXRvcik7XG5cbnZhciBfRHJhd2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzQpO1xuXG52YXIgX0RyYXdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EcmF3ZXIpO1xuXG52YXIgX0N1c3RvbUZvb3RlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTczKTtcblxudmFyIF9DdXN0b21Gb290ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ3VzdG9tRm9vdGVyKTtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cbnZhciBfcG9zdENhbGxIZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMTQpO1xuXG52YXIgX2NvbW1vblNlcnZpY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMTUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgYXBwRnJhbWU6IHtcbiAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICAgIG1heEhlaWdodDogJzEwMHZoJyxcbiAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICB9LFxuICAgIHJvb3Q6IHtcbiAgICAgIG1hcmdpbjogJzEuMTJ2aCAxLjA0MXZ3IDBlbSAxLjA0MXZ3JyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLm1haW4sXG4gICAgICB3aWR0aDogXCIxMDAlXCJcbiAgICB9LFxuICAgIHRyYW5zY3JpcHRCb3g6IHtcbiAgICAgIGhlaWdodDogJzU4Ljk4dmgnLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluLFxuICAgICAgbWFyZ2luQm90dG9tOiAnMS44NXZoJ1xuICAgIH0sXG4gICAgc3VtbWFyeUJveDoge1xuICAgICAgaGVpZ2h0OiAnMjUuNTB2aCcsXG4gICAgICBwYWRkaW5nOiAnMC44cmVtJyxcbiAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpblxuICAgIH0sXG4gICAgdHJhbnNjcmlwdFRpdGxlOiB7XG4gICAgICBmb250U2l6ZTogJzEuMXJlbScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBwYWRkaW5nTGVmdDogXCIuOHJlbVwiLFxuICAgICAgcGFkZGluZ1RvcDogXCIuOHJlbVwiLFxuICAgICAgb3BhY2l0eTogMC42NSxcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICB9LFxuICAgIGN1c3RvbWVyTmFtZToge1xuICAgICAgZm9udFNpemU6IFwiMS43OHJlbVwiLFxuICAgICAgbGluZUhlaWdodDogXCIyLjFyZW1cIlxuICAgIH0sXG4gICAgY3VzdG9tZXJEZXRhaWxUZXh0OiB7XG4gICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgIH0sXG4gICAgY3VzdG9tZXJOdW1iZXI6IHtcbiAgICAgIGZvbnRTaXplOiBcIi44cmVtXCJcbiAgICB9LFxuICAgIGJ1dHRvbjoge1xuICAgICAgZm9udFNpemU6IFwiMC41cmVtXCIsXG4gICAgICB3aWR0aDogXCI3LjI5MjJ2d1wiLFxuICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgIG1pbkhlaWdodDogXCI0LjQ0NDR2aFwiLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2QkZFNydcbiAgICAgIH1cbiAgICB9LFxuICAgIGJ1dHRvblRpdGxlOiB7XG4gICAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIGhlYWRpbmc6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRTaXplOiAnMS4wNjdyZW0nLFxuICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgcGFkZGluZ0JvdHRvbTogJzEuOTR2aCdcbiAgICB9LFxuICAgIG5leHRDdXN0b21lclVybDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXG4gICAgICBmb250U2l6ZTogJzAuODg4cmVtJyxcbiAgICAgIGhlaWdodDogXCI0LjQ0NDR2aFwiLFxuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICBhY3Rpb25CdXR0b246IHtcbiAgICAgIGJveFNoYWRvdzogJ25vbmUnLFxuICAgICAgZm9udFNpemU6ICcxLjExMXJlbScsXG4gICAgICAnJjpob3ZlciwgJiRmb2N1c1Zpc2libGUnOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM4NkJGRTcnXG4gICAgICB9LFxuICAgICAgaGVpZ2h0OiAnNi40OHZoJ1xuICAgIH0sXG4gICAgcG9zdENhbGxDYXJkR3JpZDoge1xuICAgICAgbWFyZ2luVG9wOiAnMi4wMzd2aCdcbiAgICB9LFxuICAgIHBhZGRpbmdSaWdodE9uQ2FyZDoge1xuICAgICAgcGFkZGluZ1JpZ2h0OiAnMS4wNDF2dydcbiAgICB9XG4gIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICB2b2ljZW1haWxNZXNzYWdlOiAnJyxcbiAgY2FsbER1cmF0aW9uOiAwLFxuICB0b0NhbGxDdXN0b21lcnM6IG51bGwsXG4gIG5leHRDdXN0b21lclVybDogbnVsbCxcbiAgb25IYW5ndXA6IF9jb25zdGFudHMuZW1wdHlGdW5jdGlvbixcbiAgaW52b2ljZXM6IFtdLFxuICBpbml0aWFsVHJhbnNjcmlwdGlvbjogJydcbn07XG5cbnZhciBQb3N0Q2FsbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQb3N0Q2FsbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUG9zdENhbGwocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9zdENhbGwpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvc3RDYWxsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUG9zdENhbGwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5zbmFja01lc3NhZ2VRdWV1ZSA9IFtdO1xuXG4gICAgX3RoaXMuZGVsZXRlQWN0aW9uID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIklEXCIsIGlkLCBzdW1tYXJ5KTtcbiAgICAgIHZhciBzdW1tYXJ5ID0gX3RoaXMuc3RhdGUuc3VtbWFyeS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBlbC5pZCAhPSBpZDtcbiAgICAgIH0pO1xuICAgICAgdmFyIG1hcCA9IF90aGlzLnN0YXRlLnN1bW1hcnlDb21wbGV0aW9uTWFwO1xuXG4gICAgICBtYXAuZGVsZXRlKGlkKTtcblxuICAgICAgY29uc29sZS5sb2cobWFwKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBzdW1tYXJ5LCBzdW1tYXJ5Q29tcGxldGlvbk1hcDogbWFwIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5tYXJrU3VtbWFyeUFzRG9uZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgdmFyIGRvbmVNYXAgPSBfdGhpcy5zdGF0ZS5zdW1tYXJ5Q29tcGxldGlvbk1hcDtcbiAgICAgIHZhciBwcmV2U3VtbWFyeSA9IF90aGlzLnN0YXRlLnN1bW1hcnk7XG5cbiAgICAgIGZvciAodmFyIGkgaW4gcHJldlN1bW1hcnkpIHtcbiAgICAgICAgaWYgKHByZXZTdW1tYXJ5W2ldLmlkID09IGlkKSB7XG4gICAgICAgICAgcHJldlN1bW1hcnlbaV0uc2F2ZSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBwcmV2U3VtbWFyeSB9KTtcbiAgICAgIGRvbmVNYXAuc2V0KGlkLCB0cnVlKTtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgc3VtbWFyeUNvbXBsZXRpb25NYXA6IGRvbmVNYXAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnVwZGF0ZUFjdGlvbkl0ZW1DaGVjayA9IGZ1bmN0aW9uIChnZW5lcmF0ZWRTdW1tYXJ5KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG5vdGVzOiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLnN0YXRlLm5vdGVzKSwgW2dlbmVyYXRlZFN1bW1hcnldKSxcbiAgICAgICAgaXNBbnlBY3Rpb25Db21wbGV0ZWQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5zYXZlUG9zdENhbGxUaGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoKDAsIF9wb3N0Q2FsbEhlbHBlci5jaGVja1N1bW1hcnlDb21wbGV0ZU1hcCkoX3RoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXApKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgZG9SZXZpZXdEaWFsb2dPcGVuOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3RlcyAmJiBfdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlcy50cmltKCkpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG5vdGVzOiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLnN0YXRlLm5vdGVzKSwgW190aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzLnRyaW0oKV0pLFxuICAgICAgICAgIG5vbkFjdGlvbkluY2x1ZGVkOiB0cnVlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5zYXZlQ2FsbExvZygpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNhdmVDYWxsTG9nKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnNhdmVOb3Rlc0NoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRWRpdGluZ09uOiBmYWxzZSxcbiAgICAgICAgcHJldk5vbkFjdGlvbk5vdGVzOiBfdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlc1xuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5ibHVyTm9uQWN0aW9uTm90ZXNCb3goKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5kaXNjYXJkTm90ZXNDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXG4gICAgICAgIG5vbkFjdGlvbk5vdGVzOiBfdGhpcy5zdGF0ZS5wcmV2Tm9uQWN0aW9uTm90ZXNcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuYmx1ck5vbkFjdGlvbk5vdGVzQm94KCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblNuYWNrYmFyID0gZnVuY3Rpb24gKG1lc3NhZ2VUeXBlKSB7XG4gICAgICBfdGhpcy5zbmFja01lc3NhZ2VRdWV1ZS5wdXNoKHtcbiAgICAgICAgbWVzc2FnZTogX2NvbnN0YW50cy5TTkFDS19NRVNTQUdFU1ttZXNzYWdlVHlwZV0sXG4gICAgICAgIGtleTogbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMuc3RhdGUuc25hY2tPcGVuKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5wcm9jZXNzUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc25hY2tNZXNzYWdlUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc25hY2tNZXNzYWdlOiBfdGhpcy5zbmFja01lc3NhZ2VRdWV1ZS5zaGlmdCgpLFxuICAgICAgICAgIHNuYWNrT3BlbjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTm9uYWN0aW9uTm90ZXNDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBub25BY3Rpb25Ob3RlczogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnVwZGF0ZU5vdGVzID0gZnVuY3Rpb24gKG5vdGVzKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IG5vbkFjdGlvbk5vdGVzOiBub3RlcyB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2VTbmFja2JhciA9IGZ1bmN0aW9uIChldmVudCwgcmVhc29uKSB7XG4gICAgICBpZiAocmVhc29uID09PSAnY2xpY2thd2F5Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNuYWNrT3BlbjogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVNuYWNrYmFyRXhpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVBY3Rpb25JdGVtQ2xpY2sgPSBmdW5jdGlvbiAoYWN0aW9uVHlwZSkge1xuICAgICAgdmFyIG5ld0FjdGlvbiA9ICgwLCBfaGVscGVyLmNyZWF0ZUFjdGlvbikoYWN0aW9uVHlwZSk7XG4gICAgICAvL0FkZCB0aGUgbmV3bHkgY3JlYXRlZCBhY3Rpb24gdG8gc3VtbWFyeSBhcnJheVxuICAgICAgLy9pZiBuZXdBY3Rpb24gaXMgbnVsbCBza2lwIGFkZGluZyBpdFxuICAgICAgY29uc29sZS5sb2coJ0FjdGlvbiBjcmVhdGVkJywgbmV3QWN0aW9uKTtcbiAgICAgIGlmIChuZXdBY3Rpb24pIHtcbiAgICAgICAgdmFyIHN1bW1hcnlMZW5ndGggPSBfdGhpcy5zdGF0ZS5zdW1tYXJ5Lmxlbmd0aDtcblxuICAgICAgICBpZiAoc3VtbWFyeUxlbmd0aCA+IDApIHtcbiAgICAgICAgICBuZXdBY3Rpb25bJ2lkJ10gPSBfdGhpcy5zdGF0ZS5zdW1tYXJ5W3N1bW1hcnlMZW5ndGggLSAxXVsnaWQnXSArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3QWN0aW9uWydpZCddID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld0FjdGlvblsnc2F2ZSddID0gZmFsc2U7XG4gICAgICAgIG5ld0FjdGlvblsnY3JlYXRlZCddID0gdHJ1ZTtcblxuICAgICAgICB2YXIgc3VtbWFyeUNvbXBsZXRpb25NYXAgPSBfdGhpcy5zdGF0ZS5zdW1tYXJ5Q29tcGxldGlvbk1hcDtcbiAgICAgICAgc3VtbWFyeUNvbXBsZXRpb25NYXAuc2V0KG5ld0FjdGlvbi5pZCwgZmFsc2UpO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzdW1tYXJ5OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLnN0YXRlLnN1bW1hcnkpLCBbbmV3QWN0aW9uXSksXG4gICAgICAgICAgc3VtbWFyeUNvbXBsZXRpb25NYXA6IHN1bW1hcnlDb21wbGV0aW9uTWFwXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN0aW9uLXN1bW1hcnktZ3JpZC1jb250YWluZXInKTtcbiAgICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgIGVsLnNjcm9sbFRvcCA9IGVsLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5jbG9zZUFjdGlvbkNyZWF0b3JEaWFsb2coKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuY2xvc2VSZXZpZXdXYXJuaW5nRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBkb1Jldmlld0RpYWxvZ09wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVBY3Rpb25DcmVhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgZG9PcGVuTmV3QWN0aW9uRGlhbG9nOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZUFjdGlvbkNyZWF0b3JEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGRvT3Blbk5ld0FjdGlvbkRpYWxvZzogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnVwZGF0ZVN1bW1hcnlGcm9tQ2hpbGQgPSBmdW5jdGlvbiAobmV3U3VtbWFyeSwgaWQpIHtcbiAgICAgIHZhciBwcmV2U3VtbWFyeSA9IF90aGlzLnN0YXRlLnN1bW1hcnk7XG5cbiAgICAgIGZvciAodmFyIGkgaW4gcHJldlN1bW1hcnkpIHtcbiAgICAgICAgaWYgKHByZXZTdW1tYXJ5W2ldLmlkID09IGlkKSB7XG4gICAgICAgICAgcHJldlN1bW1hcnlbaV0uc3VtbWFyeSA9IG5ld1N1bW1hcnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzdW1tYXJ5OiBwcmV2U3VtbWFyeSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMudXBkYXRlSW52b2ljZXMgPSBmdW5jdGlvbiAodXBkYXRlZEludm9pY2VzLCBpZCkge1xuICAgICAgdmFyIHByZXZTdW1tYXJ5ID0gT2JqZWN0LmNyZWF0ZShfdGhpcy5zdGF0ZS5zdW1tYXJ5KTtcbiAgICAgIHZhciB1cGRhdGVkSW52b2ljZUxpc3QgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgaW4gcHJldlN1bW1hcnkpIHtcbiAgICAgICAgaWYgKHByZXZTdW1tYXJ5W2ldLmlkID09IGlkKSB7XG4gICAgICAgICAgZm9yICh2YXIgX2kgaW4gdXBkYXRlZEludm9pY2VzKSB7XG4gICAgICAgICAgICB1cGRhdGVkSW52b2ljZUxpc3QucHVzaCh1cGRhdGVkSW52b2ljZXNbX2ldLmRvY3VtZW50TnVtYmVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcmV2U3VtbWFyeVtpXS5lbnRpdGllcy5pbnZvaWNlID0gdXBkYXRlZEludm9pY2VMaXN0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogcHJldlN1bW1hcnkgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmVkaXROb25BY3Rpb25Ob3RlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgaXNFZGl0aW5nT246IHRydWUgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgdGV4dEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vbi1hY3Rpb24tbm90ZXMtZWRpdC1maWVsZCcpO1xuICAgICAgICAgIGlmICh0ZXh0RmllbGQpIHtcbiAgICAgICAgICAgIHRleHRGaWVsZC5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5ibHVyTm9uQWN0aW9uTm90ZXNCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRleHRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9uLWFjdGlvbi1ub3Rlcy1lZGl0LWZpZWxkXCIpO1xuICAgICAgICBpZiAodGV4dEZpZWxkKSB7XG4gICAgICAgICAgdGV4dEZpZWxkLmJsdXIoKTtcbiAgICAgICAgfVxuICAgICAgfSwgNTAwKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaW5pdGlhbGl6ZVN1bW1hcnlXaXRoRGVmYXVsdHMgPSBmdW5jdGlvbiAoc3VtbWFyeSkge1xuXG4gICAgICBpZiAoc3VtbWFyeSA9PT0gJ1tdJykge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnk6IFtdIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHN1bW1hcnlXaXRoSWRzID0gKDAsIF9wb3N0Q2FsbEhlbHBlci5hcHBlbmRJZHNUb1N1bW1hcnkpKHN1bW1hcnkpO1xuICAgICAgICB2YXIgc3VtbWFyeUNvbXBsZXRpb25NYXAgPSAoMCwgX3Bvc3RDYWxsSGVscGVyLmNyZWF0ZVN1bW1hcnlDb21wbGV0aW9uTWFwKShzdW1tYXJ5KTtcbiAgICAgICAgdmFyIG5vbkFjdGlvblN1bW1hcnkgPSAoMCwgX3Bvc3RDYWxsSGVscGVyLmNyZWF0ZUluaXRpYWxOb25BY3Rpb25TdW1tYXJ5Tm90ZXMpKHN1bW1hcnksIF90aGlzLnByb3BzLnZvaWNlbWFpbE1lc3NhZ2UpO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzdW1tYXJ5OiBzdW1tYXJ5V2l0aElkcyxcbiAgICAgICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcDogc3VtbWFyeUNvbXBsZXRpb25NYXAsXG4gICAgICAgICAgbm9uQWN0aW9uTm90ZXM6IG5vbkFjdGlvblN1bW1hcnlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnNhdmVDYWxsTG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNvbWJpbmVkTm90ZXMgPSAoMCwgX3Bvc3RDYWxsSGVscGVyLmdlbmVyYXRlTm90ZXNBc1N0cmluZykoX3RoaXMuc3RhdGUubm90ZXMpO1xuICAgICAgdmFyIGNhbGxMb2dTdGF0ZSA9IF90aGlzLnByb3BzLmNhbGxMb2dTdGF0ZTtcbiAgICAgIHZhciBjdXN0b21lciA9IF90aGlzLnByb3BzLmN1c3RvbWVyO1xuICAgICAgdmFyIHJlcVBhcmFtcyA9IHtcbiAgICAgICAgaWQ6IGNhbGxMb2dTdGF0ZS5pZCxcbiAgICAgICAgY2FsbFN1bW1hcnk6IF90aGlzLnByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbixcbiAgICAgICAgZHVyYXRpb246IF90aGlzLnByb3BzLmNhbGxEdXJhdGlvbixcbiAgICAgICAgbm90ZToge1xuICAgICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICAgIG5vdGVDb250ZW50OiBjb21iaW5lZE5vdGVzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBfYXhpb3MyLmRlZmF1bHQucHV0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy9jYWxsJywgcmVxUGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW5Qcm9ncmVzc0JhcjogZmFsc2UsIGlzUG9zdENhbGxEb25lOiB0cnVlIH0pO1xuICAgICAgICBfc3RvcmUuc3RvcmUuZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmNoYW5nZVRyYW5zY3JpcHRpb24pKHsgdHJhbnNjcmlwdGlvbjogXCJcIiB9KSk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW5Qcm9ncmVzc0JhcjogZmFsc2UsIGlzUG9zdENhbGxEb25lOiB0cnVlIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmdlblN1bW1hcnlBY3Rpb25DYXJkcyA9IGZ1bmN0aW9uIChzdW1tYXJ5KSB7XG5cbiAgICAgIHZhciBpbnRlbnQgPSBzdW1tYXJ5LmludGVudDtcblxuICAgICAgaWYgKCEoMCwgX2hlbHBlci5pc0FjdGlvbkludGVudCkoaW50ZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX0dyb3cyLmRlZmF1bHQsXG4gICAgICAgIHtcbiAgICAgICAgICAnaW4nOiB0cnVlLFxuICAgICAgICAgIGtleTogc3VtbWFyeS5pZFxuICAgICAgICB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQWN0aW9uczIuZGVmYXVsdCwge1xuICAgICAgICAgIG9uRGVsZXRlOiBmdW5jdGlvbiBvbkRlbGV0ZShpZCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmRlbGV0ZUFjdGlvbihpZCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkFjdGlvbkl0ZW1Db25maXJtOiBfdGhpcy51cGRhdGVBY3Rpb25JdGVtQ2hlY2ssXG4gICAgICAgICAgc3VtbWFyeTogc3VtbWFyeSxcbiAgICAgICAgICBzdHlsZTogeyB3aWR0aDogXCIxMDAlXCIsIG1hcmdpbkJvdHRvbTogXCIwLjdyZW1cIiB9LFxuICAgICAgICAgIGludGVudFR5cGU6IGludGVudCxcbiAgICAgICAgICBhbGxJbnZvaWNlTGlzdDogX3RoaXMucHJvcHMuaW52b2ljZXMsXG4gICAgICAgICAgY3VzdG9tZXI6IF90aGlzLnByb3BzLmN1c3RvbWVyLFxuICAgICAgICAgIGNhbGxlZFRvTmFtZTogX3RoaXMucHJvcHMuY2FsbGVkVG9OYW1lLFxuICAgICAgICAgIGNhbGxlZFRvTnVtYmVyOiBfdGhpcy5wcm9wcy5jYWxsZWRUb051bWJlcixcbiAgICAgICAgICBjb21wbGV0ZWQ6IGZ1bmN0aW9uIGNvbXBsZXRlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5tYXJrU3VtbWFyeUFzRG9uZShzdW1tYXJ5LmlkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJ1Y2tldE5hbWVzOiBfdGhpcy5wcm9wcy5idWNrZXROYW1lcyxcbiAgICAgICAgICBjb250YWN0TG9nOiBfdGhpcy5wcm9wcy5jYWxsTG9nU3RhdGUsXG4gICAgICAgICAgY2FsbFN0YXRlOiBfdGhpcy5wcm9wcy5jYWxsU3RhdGUsXG4gICAgICAgICAgZm9sbG93dXBUZXh0TGlzdDogX3RoaXMuc3RhdGUuZm9sbG93dXBUZXh0TGlzdCxcbiAgICAgICAgICByZWFzb25Db2RlTGlzdDogX3RoaXMuc3RhdGUucmVhc29uQ29kZUxpc3QsXG4gICAgICAgICAgb3BlblNuYWNrYmFyT25BY3Rpb246IGZ1bmN0aW9uIG9wZW5TbmFja2Jhck9uQWN0aW9uKG1lc3NhZ2VUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMub3BlblNuYWNrYmFyKG1lc3NhZ2VUeXBlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVwZGF0ZUludm9pY2VzSW5QYXJlbnQ6IGZ1bmN0aW9uIHVwZGF0ZUludm9pY2VzSW5QYXJlbnQodXBkYXRlZEludm9pY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlSW52b2ljZXModXBkYXRlZEludm9pY2VzLCBzdW1tYXJ5LmlkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVwZGF0ZVN1bW1hcnlJblBhcmVudDogZnVuY3Rpb24gdXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KSB7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVTdW1tYXJ5RnJvbUNoaWxkKHVwZGF0ZWRTdW1tYXJ5LCBzdW1tYXJ5LmlkKTtcbiAgICAgICAgICB9IH0pXG4gICAgICApO1xuICAgIH07XG5cbiAgICBfdGhpcy5wcm9wcy5vbkhhbmd1cCgpO1xuICAgIGNvbnNvbGUubG9nKF90aGlzLnByb3BzLm5leHRDdXN0b21lclVybCwgXCJuZXh0IGN1c3RvbWVyIHVybFwiKTtcbiAgICBfdGhpcy5uZXh0Q3VzdG9tZVRleHQgPSBcIkdPIFRPIE5FWFQgQ1VTVE9NRVJcIjtcbiAgICBfdGhpcy5uZXh0Q3VzdG9tZXJVcmwgPSBfdGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmw7XG4gICAgaWYgKCFfdGhpcy5uZXh0Q3VzdG9tZXJVcmwpIHtcbiAgICAgIF90aGlzLm5leHRDdXN0b21lclVybCA9IFwiL1wiO1xuICAgICAgX3RoaXMubmV4dEN1c3RvbWVUZXh0ID0gXCJHTyBCQUNLIFRPIEhPTUUgUEFHRVwiO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhfdGhpcy5wcm9wcy50b0NhbGxDdXN0b21lcnMsIFwidG8gY2FsbCBjdXN0b21lcnNcIik7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRhdGU6IG5ldyBEYXRlKCksXG4gICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXG4gICAgICBzdW1tYXJ5OiAnJyxcbiAgICAgIHRyYW5zY3JpcHRpb246IF90aGlzLnByb3BzLmluaXRpYWxUcmFuc2NyaXB0aW9uLFxuICAgICAgb3BlblByb2dyZXNzQmFyOiBmYWxzZSxcbiAgICAgIGRvT3Blbk5ld0FjdGlvbkRpYWxvZzogZmFsc2UsXG4gICAgICBpc0FueUFjdGlvbkNvbXBsZXRlZDogZmFsc2UsXG4gICAgICBkb1Jldmlld0RpYWxvZ09wZW46IGZhbHNlLFxuICAgICAgbm90ZXM6IFtdLFxuICAgICAgaXNQb3N0Q2FsbERvbmU6IGZhbHNlLFxuICAgICAgc3VtbWFyeUNvbXBsZXRpb25NYXA6IG5ldyBNYXAoKSxcbiAgICAgIG5vbkFjdGlvbk5vdGVzOiAnJyxcbiAgICAgIHNuYWNrTWVzc2FnZToge30sXG4gICAgICBzbmFja09wZW46IGZhbHNlLFxuICAgICAgZm9sbG93dXBUZXh0TGlzdDogW10sXG4gICAgICByZWFzb25Db2RlTGlzdDogW10sXG4gICAgICBub25BY3Rpb25JbmNsdWRlZDogZmFsc2VcbiAgICB9O1xuXG4gICAgX2NvbW1vblNlcnZpY2UuY29tbW9uU2VydmljZS5nZXREaXNwdXRlQ29kZXMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyByZWFzb25Db2RlTGlzdDogcmVzcG9uc2UgPyByZXNwb25zZSA6IFtdIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gbG9hZCBkaXNwdXRlIGNvZGVzXCIsIGVycm9yKTtcbiAgICB9KTtcblxuICAgIF9jb21tb25TZXJ2aWNlLmNvbW1vblNlcnZpY2UuZ2V0VGFza1R5cGVzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgZm9sbG93dXBUZXh0TGlzdDogcmVzcG9uc2UgPyByZXNwb25zZSA6IFtdIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gbG9hZCBGb2xsb3cgdXAgdGV4dCBsaXN0XCIsIGVycm9yKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUG9zdENhbGwsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB2YXIgbmV4dFN1bW1hcnkgPSBuZXh0UHJvcHMudHJhbnNjcmlwdGlvbi5zdW1tYXJ5O1xuICAgICAgdmFyIG5leHRUcmFuc2NyaXB0aW9uID0gbmV4dFByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbjtcbiAgICAgIHZhciBjdXJyZW50VHJhbnNjcmlwdGlvbiA9IHRoaXMucHJvcHMudHJhbnNjcmlwdGlvbi50cmFuc2NyaXB0aW9uO1xuICAgICAgY29uc29sZS5sb2coJ1N1bW1hcnkgcmVjZWl2ZWQgaW4gUG9zdCBDYWxsJywgSlNPTi5zdHJpbmdpZnkobmV4dFN1bW1hcnkpKTtcblxuICAgICAgaWYgKG5leHRUcmFuc2NyaXB0aW9uICYmIG5leHRUcmFuc2NyaXB0aW9uICE9PSBjdXJyZW50VHJhbnNjcmlwdGlvbikge1xuICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgdHJhbnNjcmlwdGlvbicsIG5leHRUcmFuc2NyaXB0aW9uKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRyYW5zY3JpcHRpb246IG5leHRUcmFuc2NyaXB0aW9uIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoSlNPTi5zdHJpbmdpZnkobmV4dFN1bW1hcnkpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlLnN1bW1hcnkpKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVN1bW1hcnlXaXRoRGVmYXVsdHMobmV4dFN1bW1hcnkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgY2xhc3NlcyA9IHRoaXMucHJvcHMuY2xhc3NlcztcbiAgICAgIHZhciBjdXN0b21lciA9IHRoaXMucHJvcHMuY3VzdG9tZXI7XG5cbiAgICAgIHZhciB1c2VyID0gdGhpcy5wcm9wcy51c2VyO1xuICAgICAgdmFyIGNhbGxlZFRvTmFtZSA9IHRoaXMucHJvcHMuY2FsbGVkVG9OYW1lO1xuICAgICAgdmFyIGNhbGxlZFRvTmFtZUluaXRpYWxzID0gKDAsIF9oZWxwZXIuZ2V0SW5pdGlhbHNGcm9tTmFtZSkoY2FsbGVkVG9OYW1lKTtcbiAgICAgIHZhciB1c2VySW5pdGlhbHMgPSAoMCwgX2hlbHBlci5nZXRJbml0aWFsc0Zyb21OYW1lKSh1c2VyLm5hbWUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hcHBGcmFtZSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRHJhd2VyMi5kZWZhdWx0LCBudWxsKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbUZvb3RlcjIuZGVmYXVsdCwgbnVsbCksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnJvb3QgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0J1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBpdGVtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgeHM6IDEwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2xlZnQnXG4gICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLmN1c3RvbWVyTmFtZSwgY2xhc3Nlcy5jdXN0b21lckRldGFpbFRleHQpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJOYW1lXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuY3VzdG9tZXJOdW1iZXIsIGNsYXNzZXMuY3VzdG9tZXJEZXRhaWxUZXh0KSB9LFxuICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICAgICAgICBjb250YWluZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICB4czogMixcbiAgICAgICAgICAgICAgICAgIGp1c3RpZnk6ICdmbGV4LWVuZCcsXG4gICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5MZWZ0OiAnLTguMzN2dycgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcwcHggMCAwIDAnLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0J1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzQuNDQ0dmgnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9GYWIyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdleHRlbmRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc2F2ZVBvc3RDYWxsVGhpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0FkZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnN0YXRlLnN1bW1hcnkgPyBmYWxzZSA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5idXR0b24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5idXR0b25UaXRsZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnRG9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNQb3N0Q2FsbERvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Um91dGVyRG9tLkxpbmssXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgdGV4dERlY29yYXRpb246ICdub25lJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IHRoaXMubmV4dEN1c3RvbWVyVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvQ2FsbEN1c3RvbWVyczogdGhpcy5wcm9wcy50b0NhbGxDdXN0b21lcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMubmV4dEN1c3RvbWVyVXJsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDdXN0b21lVGV4dFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBjb250YWluZXI6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5wb3N0Q2FsbENhcmRHcmlkIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDgsIGNsYXNzTmFtZTogY2xhc3Nlcy5wYWRkaW5nUmlnaHRPbkNhcmQgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5oZWFkaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICdTVUdHRVNURUQgQUNUSU9OUydcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHhzOiAxMixcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICc3NC43dmgnLFxuICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlkOiAnYWN0aW9uLXN1bW1hcnktZ3JpZC1jb250YWluZXInXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIHRoaXMuc3RhdGUuc3VtbWFyeS5tYXAoZnVuY3Rpb24gKHN1bW1hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZW5TdW1tYXJ5QWN0aW9uQ2FyZHMoc3VtbWFyeSk7XG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLnN1bW1hcnkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IHN0bHllOiB7IGhlaWdodDogJzEwMCUnIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnNzB2aCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaXJjdWxhclByb2dyZXNzMi5kZWZhdWx0LCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlR5cG9ncmFwaHksXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAnMS4zcmVtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnR2VuZXJhdGluZyBjYWxsIHN1bW1hcnknXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1bW1hcnkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyB3aWR0aDogJzEwMCUnIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvbkJ1dHRvbixcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ2NvbnRhaW5lZCcsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmhhbmRsZUFjdGlvbkNyZWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgZm9udFNpemU6ICcxLjA2N3JlbScgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnKyBDUkVBVEUgTkVXIEFDVElPTidcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHhzOiA0LFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6ICc4Ni4yOXZoJyB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNjcmlwdEJveDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zY3JpcHRCb3gsXG4gICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsOiBCb29sZWFuKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZTogY2xhc3Nlcy50cmFuc2NyaXB0VGl0bGUsXG4gICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q2hhdFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IHRoaXMuc3RhdGUudHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVkVG9OYW1lSW5pdGlhbHM6IGNhbGxlZFRvTmFtZUluaXRpYWxzLFxuICAgICAgICAgICAgICAgICAgICB1c2VySW5pdGlhbHM6ICdNRScsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRHcmlkSUQ6ICdwb3N0LWNhbGwtdHJhbnNjcmlwdGlvbi1ncmlkJ1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHhzOiAxMixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN1bW1hcnlCb3hcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Ob3Rlc0VkaXRvcjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxOb3RlczogdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3RlcyxcbiAgICAgICAgICAgICAgICAgICAgICBvbk5vdGVzQ2hhbmdlOiBmdW5jdGlvbiBvbk5vdGVzQ2hhbmdlKG5vdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnVwZGF0ZU5vdGVzKG5vdGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgc3RseWU6IHsgaGVpZ2h0OiAnMTAwJScgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcyMHZoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2lyY3VsYXJQcm9ncmVzczIuZGVmYXVsdCwgeyBzdHlsZTogeyBjb2xvcjogJyNlZWVlZWUnIH0gfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZWVlZWVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogJzEuM3JlbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdXYWl0aW5nIGZvciBzdW1tYXJ5J1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNQb3N0Q2FsbERvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgeHM6IDEyLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5wb3N0Q2FsbENhcmRHcmlkXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9GaW5hbDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgIGludm9pY2VMaXN0OiAoMCwgX2hlbHBlci5nZW5lcmF0ZUZpbmFsSW52b2ljZUxpc3QpKHRoaXMuc3RhdGUuc3VtbWFyeSwgdGhpcy5wcm9wcy5pbnZvaWNlcyksXG4gICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzOiB0aGlzLnN0YXRlLm5vdGVzLFxuICAgICAgICAgICAgICAgIG5vbkFjdGlvbkluY2x1ZGVkOiB0aGlzLnN0YXRlLm5vbkFjdGlvbkluY2x1ZGVkLFxuICAgICAgICAgICAgICAgIG5leHRDdXN0b21lclVybDogdGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmwsXG4gICAgICAgICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzOiB0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVycyxcbiAgICAgICAgICAgICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5jdXN0b21lcixcbiAgICAgICAgICAgICAgICBjb2xsZWN0b3I6IHRoaXMucHJvcHMuY29sbGVjdG9yLFxuICAgICAgICAgICAgICAgIGNvbnRhY3RJbmRleDogdGhpcy5wcm9wcy5jb250YWN0SW5kZXhcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQWN0aW9uQ3JlYXRvckRpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLmRvT3Blbk5ld0FjdGlvbkRpYWxvZyxcbiAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZUFjdGlvbkNyZWF0b3JEaWFsb2csXG4gICAgICAgICAgICAgIG9uQWN0aW9uSXRlbUNsaWNrOiBmdW5jdGlvbiBvbkFjdGlvbkl0ZW1DbGljayhhY3Rpb25UeXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVBY3Rpb25JdGVtQ2xpY2soYWN0aW9uVHlwZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLmRvUmV2aWV3RGlhbG9nT3BlbixcbiAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZVJldmlld1dhcm5pbmdEaWFsb2csXG4gICAgICAgICAgICAgIHRpdGxlOiBfY29uc3RhbnRzLlJFVklFV19XQVJOSU5HLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlUmV2aWV3V2FybmluZ0RpYWxvZyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICAgICApXVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU25hY2tiYXIyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgYW5jaG9yT3JpZ2luOiB7XG4gICAgICAgICAgICAgICAgdmVydGljYWw6IFwiYm90dG9tXCIsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJsZWZ0XCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAga2V5OiB0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZS5rZXksXG4gICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tPcGVuLFxuICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogJ21lc3NhZ2UtaWQnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICB7IGlkOiB0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZS5rZXkgfSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZS5tZXNzYWdlXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9JY29uQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGtleTogJ2Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2xvc2UsXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICBvbkV4aXRlZDogdGhpcy5oYW5kbGVTbmFja2JhckV4aXRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgbnVsbClcbiAgICAgICAgICAgICAgKV1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQb3N0Q2FsbDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cblBvc3RDYWxsLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLnBlcnNvbmFsRGV0YWlscyxcbiAgICBjYWxsU3RhdGU6IHN0YXRlLmNhbGxTdGF0ZSxcbiAgICB0cmFuc2NyaXB0aW9uOiBzdGF0ZS50cmFuc2NyaXB0aW9uLFxuICAgIGNhbGxMb2dTdGF0ZTogc3RhdGUuY2FsbExvZ1N0YXRlXG4gIH07XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzKSgoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFBvc3RDYWxsKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDg3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX1AyUCA9IF9fd2VicGFja19yZXF1aXJlX18oNjA4OCk7XG5cbnZhciBfUDJQMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1AyUCk7XG5cbnZhciBfRGlzcHV0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjA5OCk7XG5cbnZhciBfRGlzcHV0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNwdXRlKTtcblxudmFyIF9Gb2xsb3d1cCA9IF9fd2VicGFja19yZXF1aXJlX18oNjA5OSk7XG5cbnZhciBfRm9sbG93dXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRm9sbG93dXApO1xuXG52YXIgX0FjdGlvbkRldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMDApO1xuXG52YXIgX0FjdGlvbkRldGFpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWN0aW9uRGV0YWlscyk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nik7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWwpO1xuXG52YXIgX0V4cGFuc2lvblBhbmVsU3VtbWFyeSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc3KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbFN1bW1hcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5KTtcblxudmFyIF9FeHBhbnNpb25QYW5lbERldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNCk7XG5cbnZhciBfRXhwYW5zaW9uUGFuZWxEZXRhaWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuc2lvblBhbmVsRGV0YWlscyk7XG5cbnZhciBfRXhwYW5kTW9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzM5KTtcblxudmFyIF9FeHBhbmRNb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuZE1vcmUpO1xuXG52YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGFuZWw6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpblxuICAgICAgICB9LFxuICAgICAgICBleHBhbmRlZEJhY2tncm91bmQ6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXG4gICAgICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMHB4IDNweCA2cHggcmdiYSgwLCAwLCAwLCAwLjIpKVwiLFxuICAgICAgICAgICAgcGFkZGluZzogXCIwICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBwYW5lbENvbW1vbjoge1xuICAgICAgICAgICAgcGFkZGluZzogXCIwICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI1cHhcIixcbiAgICAgICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwcHggM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMikpXCJcbiAgICAgICAgfSxcbiAgICAgICAgZXhwYW5kSWNvbjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZXhwYW5zaW9uUGFuZWxSb290OiB7XG4gICAgICAgICAgICBib3hTaGFkb3c6IFwibm9uZSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4ICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjgzdmhcIlxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBBY3Rpb25zID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQWN0aW9ucywgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBBY3Rpb25zKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY3Rpb25zKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQWN0aW9ucy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFjdGlvbnMpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgICAgICB2YXIgaW52b2ljZXMgPSBfdGhpcy5wcm9wcy5zdW1tYXJ5LmVudGl0aWVzW1wiaW52b2ljZVwiXTtcbiAgICAgICAgdmFyIGluaXRpYWxJbnZvaWNlRGF0YSA9IF90aGlzLmdlbkluaXRpYWxJbnZvaWNlRGF0YShpbnZvaWNlcyk7XG4gICAgICAgIHZhciBjb3JyZWN0SW52b2ljZXMgPSBpbml0aWFsSW52b2ljZURhdGEuY29ycmVjdEludm9pY2VzLFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwID0gaW5pdGlhbEludm9pY2VEYXRhLmNvcnJlY3RJbnZvaWNlc01hcCxcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWcgPSBpbml0aWFsSW52b2ljZURhdGEuaW5jb3JyZWN0RmxhZztcblxuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgZXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYW1vdW50OiAwLFxuICAgICAgICAgICAgaW52b2ljZXM6IGludm9pY2VzLFxuICAgICAgICAgICAgc3VtbWFyeTogX3RoaXMucHJvcHMuc3VtbWFyeSxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogY29ycmVjdEludm9pY2VzLFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBjb3JyZWN0SW52b2ljZXNNYXAsXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBpbmNvcnJlY3RGbGFnLFxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiAwXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQWN0aW9ucywgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgaW50ZW50VHlwZSA9IF9wcm9wcy5pbnRlbnRUeXBlO1xuXG4gICAgICAgICAgICB2YXIgY29tbW9uUHJvcHMgPSB0aGlzLmdldENvbW1vblByb3BzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfRXhwYW5zaW9uUGFuZWwyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMuZXhwYW5zaW9uUGFuZWxSb290IH0sXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZGVkOiB0aGlzLnN0YXRlLmV4cGFuZGVkLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMucGFuZWxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfRXhwYW5zaW9uUGFuZWxTdW1tYXJ5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUuZXhwYW5kZWQgPyBjbGFzc2VzLmV4cGFuZGVkQmFja2dyb3VuZCA6IGNsYXNzZXMucGFuZWxDb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBhbmRJY29uOiBpbnRlbnRUeXBlICE9PSBfY29uc3RhbnRzLklOVEVOVF9UWVBFUy5GT0xMT1dfVVAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0V4cGFuZE1vcmUyLmRlZmF1bHQsIHsgb25DbGljazogdGhpcy50b2dnbGVFeHBhbmQsIGNsYXNzTmFtZTogY2xhc3Nlcy5leHBhbmRJY29uIH0pXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGludGVudFR5cGUgPT09IF9jb25zdGFudHMuSU5URU5UX1RZUEVTLlAyUCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUDJQMi5kZWZhdWx0LCBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiB0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEFtb3VudDogdGhpcy5zdGF0ZS5hbW91bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiB0aGlzLnN0YXRlLnN1bW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQ6IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1xuICAgICAgICAgICAgICAgICAgICB9LCBjb21tb25Qcm9wcykpLFxuICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlID09PSBfY29uc3RhbnRzLklOVEVOVF9UWVBFUy5ESVNQVVRFICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EaXNwdXRlMi5kZWZhdWx0LCBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiB0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiB0aGlzLnN0YXRlLnN1bW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQ6IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbkNvZGVMaXN0OiB0aGlzLnByb3BzLnJlYXNvbkNvZGVMaXN0XG4gICAgICAgICAgICAgICAgICAgIH0sIGNvbW1vblByb3BzKSksXG4gICAgICAgICAgICAgICAgICAgIGludGVudFR5cGUgPT09IF9jb25zdGFudHMuSU5URU5UX1RZUEVTLkZPTExPV19VUCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRm9sbG93dXAyLmRlZmF1bHQsIF9leHRlbmRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6IHRoaXMuc3RhdGUuc3VtbWFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd3VwVGV4dExpc3Q6IHRoaXMucHJvcHMuZm9sbG93dXBUZXh0TGlzdFxuICAgICAgICAgICAgICAgICAgICB9LCBjb21tb25Qcm9wcykpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0V4cGFuc2lvblBhbmVsRGV0YWlsczIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucGFuZWxDb21tb24gfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0FjdGlvbkRldGFpbHMyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bTogdGhpcy5zdGF0ZS5zdW1tYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZTogaW50ZW50VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVJbnZvaWNlOiB0aGlzLnVwZGF0ZUludm9pY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogdGhpcy5zdGF0ZS5jb21wbGV0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlczogdGhpcy5wcm9wcy5hbGxJbnZvaWNlTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldE5hbWVzOiB0aGlzLnByb3BzLmJ1Y2tldE5hbWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSW52b2ljZXM6IGZ1bmN0aW9uIHVwZGF0ZUludm9pY2VzKGludm9pY2VzLCBpbnZvaWNlc01hcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVDb3JyZWN0SW52b2ljZXMoaW52b2ljZXMsIGludm9pY2VzTWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQWN0aW9ucztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHRoaXMudG9nZ2xlRXhwYW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBleHBhbmRlZDogIV90aGlzMy5zdGF0ZS5leHBhbmRlZCB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZW5Jbml0aWFsSW52b2ljZURhdGEgPSBmdW5jdGlvbiAoaW52b2ljZXMpIHtcbiAgICAgICAgdmFyIGNvcnJlY3RJbnZvaWNlcyA9IFtdO1xuICAgICAgICB2YXIgY29ycmVjdEludm9pY2VzTWFwID0ge307XG4gICAgICAgIHZhciBpbmNvcnJlY3RGbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBhbGxJbnZvaWNlTGlzdCA9IF90aGlzMy5wcm9wcy5hbGxJbnZvaWNlTGlzdDtcblxuICAgICAgICBpZiAoaW52b2ljZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZmxhZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhbGxJbnZvaWNlTGlzdC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGFsbEludm9pY2VMaXN0W2pdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudEludm9pY2UgPSBhbGxJbnZvaWNlTGlzdFtqXVtrXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludm9pY2VzW2ldID09IGN1cnJlbnRJbnZvaWNlLmRvY3VtZW50TnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzLnB1c2goY3VycmVudEludm9pY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcFtjdXJyZW50SW52b2ljZS5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFmbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wSW52b2ljZSA9IE9iamVjdC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGludm9pY2VzW2ldICsgJ2luY29ycmVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudE51bWJlcjogaW52b2ljZXNbaV1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzLnB1c2godGVtcEludm9pY2UpO1xuICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW52b2ljZURhdGEgPSBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogY29ycmVjdEludm9pY2VzLFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBjb3JyZWN0SW52b2ljZXNNYXAsXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBpbmNvcnJlY3RGbGFnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBpbnZvaWNlRGF0YTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRDb21tb25Qcm9wcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY3VzdG9tZXI6IF90aGlzMy5wcm9wcy5jdXN0b21lcixcbiAgICAgICAgICAgIGNhbGxUb05hbWU6IF90aGlzMy5wcm9wcy5jYWxsZWRUb05hbWUsXG4gICAgICAgICAgICBjYWxsZWRUb051bWJlcjogX3RoaXMzLnByb3BzLmNhbGxlZFRvTnVtYmVyLFxuICAgICAgICAgICAgY29udGFjdExvZzogX3RoaXMzLnByb3BzLmNvbnRhY3RMb2csXG4gICAgICAgICAgICBvbkFjdGlvbkl0ZW1Db25maXJtOiBfdGhpczMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybSxcbiAgICAgICAgICAgIGRlbGV0ZUFjdGlvbjogX3RoaXMzLnByb3BzLm9uRGVsZXRlLFxuICAgICAgICAgICAgb25Db21wbGV0aW9uOiBfdGhpczMubWFya1RoaXNDb21wbGV0ZSxcbiAgICAgICAgICAgIHRvZ2dsZUV4cGFuZDogX3RoaXMzLnRvZ2dsZUV4cGFuZCxcbiAgICAgICAgICAgIG9wZW5TbmFja2Jhck9uQWN0aW9uOiBmdW5jdGlvbiBvcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlVHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMucHJvcHMub3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZVR5cGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZVN1bW1hcnlJblBhcmVudDogZnVuY3Rpb24gdXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnByb3BzLnVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSwgX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZUNvcnJlY3RJbnZvaWNlcyA9IGZ1bmN0aW9uIChpbnZvaWNlcywgaW52b2ljZXNNYXApIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlczogaW52b2ljZXMsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IGludm9pY2VzTWFwXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy51cGRhdGVJbnZvaWNlc0luUGFyZW50KGludm9pY2VzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlSW52b2ljZXMgPSBmdW5jdGlvbiAoZmxhZywgaW52b2ljZUNvdW50KSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBmbGFnLFxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiBpbnZvaWNlQ291bnRcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMubWFya1RoaXNDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgY29tcGxldGVkOiB0cnVlLCBleHBhbmRlZDogZmFsc2UgfSk7XG4gICAgICAgIF90aGlzMy5wcm9wcy5jb21wbGV0ZWQoKTtcbiAgICB9O1xufTtcblxuQWN0aW9ucy5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShBY3Rpb25zKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwODg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG52YXIgX0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CdXR0b24pO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9pY29ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblxudmFyIF9kYXRlRm5zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDc1KTtcblxudmFyIF9kYXRlRm5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVGbnMpO1xuXG52YXIgX21hdGVyaWFsVWlQaWNrZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDc2KTtcblxudmFyIF9jb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfYmx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzMzKTtcblxudmFyIF9ibHVlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JsdWUpO1xuXG52YXIgX1R5cG9ncmFwaHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF9UeXBvZ3JhcGh5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R5cG9ncmFwaHkpO1xuXG52YXIgX1RleHRGaWVsZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzI2KTtcblxudmFyIF9UZXh0RmllbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dEZpZWxkKTtcblxudmFyIF9FcnJvciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMxKTtcblxudmFyIF9FcnJvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FcnJvcik7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfcmVhY3ROdW1iZXJGb3JtYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNzcpO1xuXG52YXIgX3JlYWN0TnVtYmVyRm9ybWF0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0TnVtYmVyRm9ybWF0KTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaXJjdWxhclByb2dyZXNzKTtcblxudmFyIF9DdXN0b21EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMCk7XG5cbnZhciBfQ3VzdG9tRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0N1c3RvbURpYWxvZyk7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXG52YXIgX2RhdGVGbnMzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXG52YXIgX2Zvcm1hdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG52YXIgX2hlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgX2Jhc2VTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlU3R5bGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy9jb25zdGFudHNcbnZhciBQMlBSZWdleCA9IC8oUHJvbWlzZSB0byBwYXkgZm9yIFxcZCopfChcXGR7NH0tXFxkezJ9LVxcZHsyfVRbXFxkezJ9Ol0qLlxcZHszfVstfCtdXFxkezJ9OlxcZHsyfSl8KFxcZCogaW52b2ljZSkvZztcbnZhciBkaXNjYXJkTWVzc2FnZSA9IFwiVGhpcyB3aWxsIGJlIHJlbW92ZWQgcGVybWFuZW50bHkgZnJvbSB0aGUgc3VnZ2VzdGVkIGFjdGlvbnMuIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuXCI7XG52YXIgcmVzb2x2ZU1lc3NhZ2UgPSBcIiBVbmFibGUgdG8gY29tcGxldGUgdGhlIGFjdGlvbi4gUGxlYXNlIHJlc29sdmUgdGhlIGVycm9ycyB0byBhcHByb3ZlLlwiO1xudmFyIFAyUFRlbXBsYXRlID0gXCJQYXltZW50IGNvbW1pdG1lbnQgcmVjZWl2ZWQgZm9yIDxBbW91bnQ+IHRvIGJlIHBhaWQgYnkgPERhdGU+IDxJbnZvaWNlcz4uXCI7XG52YXIgUDJQX09SSUdfVEVNUExBVEUgPSBcIkNyZWF0ZSBQcm9taXNlIHRvIHBheSBmb3IgPEFtb3VudD4gdG8gYmUgcGFpZCBieSA8RGF0ZT4gZm9yIDxJbnZvaWNlcz5cIjtcblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRleHRGaWVsZDoge1xuICAgICAgICAgICAgbWFyZ2luOiBcIjBweFwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIHRlc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgICAgICBwYWRkaW5nOiAnMHB4JyxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjYsXG5cbiAgICAgICAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgIzVEQUFFMFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICM1REFBRTBcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0ZXN0SW5pdGlhbDoge1xuICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgICAgICAgIHBhZGRpbmc6ICcwcHgnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNixcblxuICAgICAgICAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjZmY0NTQzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiY6YWZ0ZXJcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvblByb2dyZXNzQmFyOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMS41cmVtICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEuNXJlbSAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgY2FyZENvbnRlbnQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNjUsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25JY29uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcbiAgICAgICAgICAgIGhlaWdodDogXCIxLjZyZW1cIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEuNnJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yRmxhZzoge1xuICAgICAgICAgICAgY29sb3I6IFwiI0ZGNDQ0NFwiLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIuNXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVEb25lQnRuOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLjQsXG4gICAgICAgICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIG1hdGVyaWFsVGhlbWUgPSAoMCwgX2NvcmUuY3JlYXRlTXVpVGhlbWUpKHtcbiAgICBvdmVycmlkZXM6IHtcbiAgICAgICAgTXVpUGlja2Vyc1Rvb2xiYXI6IHtcbiAgICAgICAgICAgIHRvb2xiYXI6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IF9ibHVlMi5kZWZhdWx0LkEyMDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEzdmhcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXI6IHtcbiAgICAgICAgICAgIHN3aXRjaEhlYWRlcjoge1xuICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjogbGlnaHRCbHVlLkEyMDAsXG4gICAgICAgICAgICAgICAgLy8gY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE11aVBpY2tlcnNEYXk6IHtcbiAgICAgICAgICAgIGRheToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBfYmx1ZTIuZGVmYXVsdC5BNzAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IF9ibHVlMi5kZWZhdWx0Wyc0MDAnXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1cnJlbnQ6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogX2JsdWUyLmRlZmF1bHRbJzkwMCddXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNGRjg4ODggIWltcG9ydGFudFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE11aVBpY2tlcnNNb2RhbDoge1xuICAgICAgICAgICAgZGlhbG9nQWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IF9ibHVlMi5kZWZhdWx0Wyc0MDAnXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBQMlAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhQMlAsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUDJQKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQMlApO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQMlAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQMlApKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgICAgICB2YXIgZXh0cmFjdGVkRGF0YSA9IF90aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChQMlBSZWdleCk7XG4gICAgICAgIHZhciBleHRyYWN0ZWRBbW91bnQgPSBleHRyYWN0ZWREYXRhWzBdLm1hdGNoKC9bMC05XXsxLH0vKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHJlYWRPbmx5OiAhX3RoaXMucHJvcHMuc3VtbWFyeS5jcmVhdGVkLFxuICAgICAgICAgICAgaXNFZGl0aW5nOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LmNyZWF0ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgICBwcmV2QW1vdW50OiBcIlwiLFxuICAgICAgICAgICAgYW1vdW50OiBleHRyYWN0ZWRBbW91bnQgPyBleHRyYWN0ZWRBbW91bnRbMF0gOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LmNyZWF0ZWQgPyBcIlwiIDogMCxcbiAgICAgICAgICAgIHNlbGVjdGVkRGF0ZTogbmV3IERhdGUoZXh0cmFjdGVkRGF0YVsxXSksXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IF90aGlzLnByb3BzLmludm9pY2VDb3VudCxcbiAgICAgICAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcbiAgICAgICAgICAgIHNuYWNrQmFyT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCIsXG4gICAgICAgICAgICBvcGVuV2FybmluZ0RpYWxvZzogZmFsc2UsXG4gICAgICAgICAgICBvcGVuUHJvZ3Jlc3NCYXI6IHRydWUsXG4gICAgICAgICAgICBhY3Rpb25JZDogX3RoaXMucHJvcHMuc3VtbWFyeS5pZCxcbiAgICAgICAgICAgIGlzRG9uZTogX3RoaXMucHJvcHMuc3VtbWFyeS5zYXZlLFxuICAgICAgICAgICAgZmluYWxTZWxlY3RlZERhdGU6IF90aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSA/ICgwLCBfZGF0ZUZuczMuZm9ybWF0KShuZXcgRGF0ZShleHRyYWN0ZWREYXRhWzFdKSwgXCJNTU0gZGQsIHl5eXlcIikgOiBcIlwiLFxuICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGV4dHJhY3RlZEFtb3VudCA/IChcIlwiICsgZXh0cmFjdGVkQW1vdW50KS5sZW5ndGggKiAxMiA6IDE1LFxuICAgICAgICAgICAgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSxcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IF90aGlzLnByb3BzLmluY29ycmVjdEZsYWcsXG4gICAgICAgICAgICBpbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZTogXCJcIixcbiAgICAgICAgICAgIG9wZW5JbnZhbGlkRGF0YU5vdGlmaWVyOiBmYWxzZSxcbiAgICAgICAgICAgIHN1bW1hcnk6IF90aGlzLnByb3BzLnN1bW1hcnksXG4gICAgICAgICAgICBpc0Ftb3VudEludmFsaWQ6IGV4dHJhY3RlZEFtb3VudCA/IGZhbHNlIDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFAyUCwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IG5leHRQcm9wcy5pbmNvcnJlY3RGbGFnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKG5leHRQcm9wcy5pbnZvaWNlQ291bnQgPj0gMCAmJiBuZXh0UHJvcHMuaW52b2ljZUNvdW50ICE9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VDb3VudDogbmV4dFByb3BzLmludm9pY2VDb3VudCB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgIHRoZW1lID0gX3Byb3BzLnRoZW1lO1xuICAgICAgICAgICAgdmFyIHN1bW1hcnkgPSB0aGlzLnByb3BzLnN1bW1hcnk7XG4gICAgICAgICAgICB2YXIgZnVsbFNjcmVlbiA9IHRoaXMucHJvcHMuZnVsbFNjcmVlbjtcblxuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBjb250YWluZXI6IHRydWUsIGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlU2FtcGxlIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMCwgbWQ6IDEwLCBsZzogMTAsIGNvbnRhaW5lcjogdHJ1ZSwgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnk6ICdmbGV4LXN0YXJ0JyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogXCIzcmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3Rpb25TYXZlUHJvZ3Jlc3NCYXIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NpcmN1bGFyUHJvZ3Jlc3MyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvblByb2dyZXNzQmFyIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkRvbmUsIHsgc3R5bGU6IHsgY29sb3I6IFwiIzVGQzMyQ1wiLCBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIiwgcGFkZGluZ1JpZ2h0OiBcIjAuNXJlbVwiLCBoZWlnaHQ6IFwiMS41cmVtXCIsIHdpZHRoOiBcIjEuNXJlbVwiIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDExLCBtZDogMTEsIGxnOiAxMSwgY29udGFpbmVyOiB0cnVlLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2ZsZXgtc3RhcnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgb3BhY2l0eTogMSB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZWQgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgb3BhY2l0eTogMSB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZSBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGZvbnRXZWlnaHQ6IFwiYm9sZFwiLCBvcGFjaXR5OiAxIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUDJQIFxceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvZiBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBzdHlsZTogeyBtaW5XaWR0aDogdGhpcy5zdGF0ZS5pc0VkaXRpbmcgPyBcIjdyZW1cIiA6IHRoaXMuc3RhdGUuYW1vdW50VGV4dEZpZWxkV2lkdGgsIHdpZHRoOiB0aGlzLnN0YXRlLmlzRWRpdGluZyA/IFwiN3JlbVwiIDogdGhpcy5zdGF0ZS5hbW91bnRUZXh0RmllbGRXaWR0aCwgbWF4V2lkdGg6IFwiOXJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGV4dEZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5hbW91bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmhhbmRsZUludm9pY2VDdXJyZW5jeUNoYW5nZShlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnbm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJ25vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgPyAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMudGVzdEluaXRpYWwsIGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpIDogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnRlc3QsIGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4odGhpcy5zdGF0ZS5yZWFkT25seSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRoaXMuc3RhdGUucmVhZE9ubHkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDb21wb25lbnQ6IHRoaXMuc3RhdGUuaXNFZGl0aW5nID8gTnVtYmVyRm9ybWF0Q3VzdG9tIDogdGhpcy5Gb3JtYXR0ZWRDdXJyZW5jeUlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiAhdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkJvcmRlckNvbG9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25JY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5MZWZ0OiBcIjZweFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlRWRpdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNFZGl0aW5nICYmICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5IaWdobGlnaHRPZmYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpbkxlZnQ6IFwiMC40cmVtXCIsIGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICF0aGlzLnN0YXRlLnByZXZBbW91bnQgPyBjbGFzc2VzLmRpc2FibGVEb25lQnRuIDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICF0aGlzLnN0YXRlLnByZXZBbW91bnQgPyBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb24gOiB0aGlzLmRpc21pc3NBbW91bnRDaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuQ2hlY2tDaXJjbGVPdXRsaW5lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgPyBjbGFzc2VzLmRpc2FibGVEb25lQnRuIDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc3RhdGUuaXNBbW91bnRJbnZhbGlkID8gX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uIDogdGhpcy5zYXZlSW52b2ljZUFtb3VudENoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHhBMCB3aXRoIGR1ZSBkYXRlIG9mIFxceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0RvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZmluYWxTZWxlY3RlZERhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBzdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgbWF4V2lkdGg6IFwiOGVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21hdGVyaWFsVWlQaWNrZXJzLk11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHV0aWxzOiBfZGF0ZUZuczIuZGVmYXVsdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLk11aVRoZW1lUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoZW1lOiBtYXRlcmlhbFRoZW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbWF0ZXJpYWxVaVBpY2tlcnMuRGF0ZVBpY2tlciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1heFdpZHRoOiBcIjUuMzVyZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBCb29sZWFuKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICdNTU0gZGQsIHl5eXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRhdGVNZXNzYWdlOiAnUHJldmlvdXMgZGF0ZSBub3QgYWNjZXB0YWJsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJkYXRlLWlucHV0LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKHRydWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5waWNrZXIgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZURhdGVDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbkNsaWNrPXtlID0+IGUucHJldmVudERlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGF0ZTogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuRGF0ZVJhbmdlLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25JY29uLCBvbkNsaWNrOiB0aGlzLm9wZW5QaWNrZXIgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIGFsaWduOiAnbGVmdCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VDb3VudCAhPT0gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZGlzcGxheTogXCJmbGV4XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Rvd2FyZHNcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZm9udFdlaWdodDogJ2JvbGQnIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCwgb25DbGljazogdGhpcy5wcm9wcy50b2dnbGVFeHBhbmQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ICsgXCIgSW52b2ljZVwiICsgKHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMSA/IFwic1wiIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9FcnJvcjIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuZXJyb3JGbGFnIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbkFjdGlvblNhdmUsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VBY3Rpb25TYXZlRGlhbG9nLCB0aXRsZTogZGlzY2FyZE1lc3NhZ2UsIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nLCBjb2xvcjogJ3NlY29uZGFyeScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdEaXNhZ3JlZSdcbiAgICAgICAgICAgICAgICAgICAgKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZywgY29sb3I6ICdwcmltYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnQWdyZWUnXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHsgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZyxcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2csIHRpdGxlOiByZXNvbHZlTWVzc2FnZSwgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2csIGNvbG9yOiAnc2Vjb25kYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHsgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuSW52YWxpZERhdGFOb3RpZmllcixcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZUludmFsaWREYXRhTm90aWZpZXIsIHRpdGxlOiB0aGlzLnN0YXRlLmludmFsaWREYXRhTm90aWZpZXJNZXNzYWdlLCBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmNsb3NlSW52YWxpZERhdGFOb3RpZmllciwgY29sb3I6ICdzZWNvbmRhcnknLCBhdXRvRm9jdXM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdPSydcbiAgICAgICAgICAgICAgICAgICAgKV0gfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAyLCBtZDogMiwgbGc6IDIgfSxcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkhpZ2hsaWdodE9mZiwgeyBzdHlsZTogeyBjb2xvcjogXCIjRkY4ODg4XCIsIHBhZGRpbmc6IFwiMCAxLjNyZW0gMCAwLjhyZW1cIiB9LCBvbkNsaWNrOiB0aGlzLm9wZW5BY3Rpb25EaXNjYXJkRGlhbG9nIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkNoZWNrQ2lyY2xlT3V0bGluZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIiM1RkMzMkNcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5jaGVja0ludmFsaWRhdGlvbigpID8gXCJcIiA6IGNsYXNzZXMuZGlzYWJsZURvbmVCdG4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jaGVja0ludmFsaWRhdGlvbigpID8gdGhpcy5zYXZlUDJQIDogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQMlA7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICB0aGlzLmhhbmRsZUludm9pY2VDdXJyZW5jeUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhbW91bnRUZXh0RmllbGRXaWR0aDogZXZlbnQudGFyZ2V0LnZhbHVlID8gKFwiXCIgKyBldmVudC50YXJnZXQudmFsdWUubGVuZ3RoKSAqIDEyIDogNTAsXG4gICAgICAgICAgICBhbW91bnQ6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgIGFtb3VudEZvcm1hdHRlZDogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgaXNBbW91bnRJbnZhbGlkOiBmYWxzZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzNC5zdGF0ZS5hbW91bnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBpc0Ftb3VudEludmFsaWQ6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5EYXRhSW52YWxpZERpYWxvZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogdHJ1ZSxcbiAgICAgICAgICAgIGludmFsaWREYXRhTm90aWZpZXJNZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlSW52YWxpZERhdGFOb3RpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgb3BlbkludmFsaWREYXRhTm90aWZpZXI6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlU25hY2tiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudmFsaWRhdGVQMlBEYXRhID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBhbW91bnQgPSBfdGhpczQuc3RhdGUuYW1vdW50O1xuXG4gICAgICAgIGlmIChOdW1iZXIoYW1vdW50KSA8IDEpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuRGF0YUludmFsaWREaWFsb2coXCJQbGVhc2UgZW50ZXIgYW1vdW50ID4gMC5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISgwLCBfaGVscGVyLmlzVmFsaWREYXRlKShfdGhpczQuc3RhdGUuc2VsZWN0ZWREYXRlKSkge1xuICAgICAgICAgICAgX3RoaXM0Lm9wZW5EYXRhSW52YWxpZERpYWxvZyhcIkZvdW5kIGludmFsaWQgZGF0ZS4gUGxlYXNlIGNvcnJlY3QgdGhlIGRhdGUgdG8gcHJvY2VlZC5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5jaGVja0ludmFsaWRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICFfdGhpczQuc3RhdGUuaXNBbW91bnRJbnZhbGlkICYmICFfdGhpczQuc3RhdGUuaW5jb3JyZWN0RmxhZyAmJiAoMCwgX2hlbHBlci5pc1ZhbGlkRGF0ZSkoX3RoaXM0LnN0YXRlLnNlbGVjdGVkRGF0ZSk7XG4gICAgfTtcblxuICAgIHRoaXMuc2F2ZVAyUCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIV90aGlzNC52YWxpZGF0ZVAyUERhdGEoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGNvbnRhY3RJZCk7XG4gICAgICAgIHZhciBjb250YWN0SWQgPSBfdGhpczQucHJvcHMuY29udGFjdExvZy5jb250YWN0ICE9PSBudWxsID8gX3RoaXM0LnByb3BzLmNvbnRhY3RMb2cuY29udGFjdC5pZCA6IG51bGw7XG4gICAgICAgIHZhciBwaG9uZU51bWJlciA9IF90aGlzNC5wcm9wcy5jb250YWN0TG9nLmNhbGxpbmdOdW1iZXI7XG4gICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzNC5wcm9wcy5jb3JyZWN0SW52b2ljZXMubWFwKGZ1bmN0aW9uIChpbnZvaWNlKSB7XG4gICAgICAgICAgICB2YXIgaW52b2ljZU9iaiA9IHt9O1xuICAgICAgICAgICAgaW52b2ljZU9iai5jbXNEb2NIZWFkZXJJZCA9IGludm9pY2UuaWQ7XG4gICAgICAgICAgICByZXR1cm4gaW52b2ljZU9iajtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKF90aGlzNC5zdGF0ZS5pbmNvcnJlY3RGbGFnKSB7XG4gICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogdHJ1ZSwgaXNFZGl0aW5nOiBmYWxzZSwgcmVhZE9ubHk6IHRydWUgfSk7XG4gICAgICAgIHZhciByZXFPYmogPSB7XG4gICAgICAgICAgICBjb21taXR0ZWRBbW91bnQ6IF90aGlzNC5zdGF0ZS5hbW91bnQsXG4gICAgICAgICAgICBjb21taXR0ZWRCeToge1xuICAgICAgICAgICAgICAgIGlkOiBjb250YWN0SWQsXG4gICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHBob25lTnVtYmVyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tbWl0dGVkRGF0ZTogbmV3IERhdGUoX3RoaXM0LnN0YXRlLnNlbGVjdGVkRGF0ZSksXG4gICAgICAgICAgICBjb21taXR0ZWRPbjogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGN1cnJlbmN5OiBcIiRcIixcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IF90aGlzNC5wcm9wcy5jdXN0b21lci5pZCxcbiAgICAgICAgICAgIHBjSXRlbXM6IGludm9pY2VzXG4gICAgICAgIH07XG5cbiAgICAgICAgX2F4aW9zMi5kZWZhdWx0LnBvc3QoX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyAnL2N1c3RvbWVyLycgKyBfdGhpczQucHJvcHMuY3VzdG9tZXIuaWQgKyAnL3AycCcsIHJlcU9iaikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlNVQ0NFU1NcIik7XG4gICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBmaW5hbFNlbGVjdGVkRGF0ZTogX3RoaXM0LmdldERhdGVGaWVsZFZhbHVlKCkgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBpc0RvbmU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbCBcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5VG9TYXZlID0gX3RoaXM0LmdlbmVyYXRlQWN0aW9uU3VtbWFyeSgpO1xuICAgICAgICAgICAgX3RoaXM0LnByb3BzLm9uQ29tcGxldGlvbigpO1xuICAgICAgICAgICAgX3RoaXM0LnByb3BzLm9uQWN0aW9uSXRlbUNvbmZpcm0oc3VtbWFyeVRvU2F2ZSk7XG4gICAgICAgICAgICBfdGhpczQudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzNC5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVSUk9SXCIpO1xuICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSwgaXNEb25lOiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2VuZXJhdGVBY3Rpb25TdW1tYXJ5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBpbnZvaWNlQ291bnQgPSBfdGhpczQuc3RhdGUuaW52b2ljZUNvdW50O1xuICAgICAgICB2YXIgZGF0ZSA9IF90aGlzNC5zdGF0ZS5zZWxlY3RlZERhdGU7XG4gICAgICAgIHZhciBmb3JtYXR0ZWREYXRlID0gKDAsIF9kYXRlRm5zMy5mb3JtYXQpKGRhdGUsIFwiTU0tZGQteXl5eVwiKTtcblxuICAgICAgICB2YXIgZ2VuZXJhdGVkU3VtbWFyeSA9IFAyUFRlbXBsYXRlLnJlcGxhY2UoXCI8QW1vdW50PlwiLCBcIiRcIiArICgwLCBfaGVscGVyLmZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCkoX3RoaXM0LnN0YXRlLmFtb3VudCkpLnJlcGxhY2UoXCI8RGF0ZT5cIiwgZm9ybWF0dGVkRGF0ZSkucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgaW52b2ljZUNvdW50ID09PSAwID8gXCJcIiA6IGludm9pY2VDb3VudCA9PT0gMSA/IFwiZm9yIFwiICsgaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZVwiIDogXCJmb3IgXCIgKyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlc1wiKTtcblxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkU3VtbWFyeTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIF90aGlzNC5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kaXNtaXNzQW1vdW50Q2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IF90aGlzNC5zdGF0ZTtcbiAgICAgICAgdmFyIGFtb3VudFRleHRGaWVsZExlbmd0aCA9ICgwLCBfZm9ybWF0dGVyLmN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyKShfdGhpczQuc3RhdGUuYW1vdW50KS5sZW5ndGg7XG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhbW91bnQ6IGN1cnJlbnRTdGF0ZS5wcmV2QW1vdW50LFxuICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGFtb3VudFRleHRGaWVsZExlbmd0aCAqIDQuNVxuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIF90aGlzNC5zdGF0ZS5hY3Rpb25JZCkuYmx1cigpO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5QaWNrZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBfdGhpczQucGlja2VyLm9wZW4oZSk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlU3VtbWFyeSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgaW52b2ljZUNvdW50ID0gX3RoaXM0LnN0YXRlLmludm9pY2VDb3VudDtcbiAgICAgICAgdmFyIGZvcm1hdHRlZERhdGUgPSAoMCwgX2hlbHBlci5mb3JtYXREYXRlV2l0aFRpbWV6b25lKShuZXcgRGF0ZShfdGhpczQuc3RhdGUuc2VsZWN0ZWREYXRlKSwgXCItMDY6MDBcIik7XG4gICAgICAgIHZhciB1cGRhdGVkU3VtbWFyeSA9IFAyUF9PUklHX1RFTVBMQVRFLnJlcGxhY2UoXCI8QW1vdW50PlwiLCBfdGhpczQuc3RhdGUuYW1vdW50ID8gX3RoaXM0LnN0YXRlLmFtb3VudCA6IFwiPGFtb3VudC1vZi1tb25leT5cIikucmVwbGFjZShcIjxEYXRlPlwiLCBmb3JtYXR0ZWREYXRlKS5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCBpbnZvaWNlQ291bnQgPT09IDAgPyBcIjxYIGludm9pY2VzPlwiIDogaW52b2ljZUNvdW50ID09PSAxID8gaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZVwiIDogaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIik7XG4gICAgICAgIF90aGlzNC5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpO1xuICAgIH07XG5cbiAgICB0aGlzLnNhdmVJbnZvaWNlQW1vdW50Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBhbW91bnRUZXh0RmllbGRMZW5ndGggPSAoMCwgX2Zvcm1hdHRlci5jdXN0b21DdXJyZW5jeUZvcm1hdHRlcikoX3RoaXM0LnN0YXRlLmFtb3VudCkubGVuZ3RoO1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcHJldkFtb3VudDogX3RoaXM0LnN0YXRlLmFtb3VudCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBhbW91bnRUZXh0RmllbGRMZW5ndGggKiA0LjVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM0LnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyBfdGhpczQuc3RhdGUuYWN0aW9uSWQpLmJsdXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuQWN0aW9uRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczQucHJvcHMuZGVsZXRlQWN0aW9uKF90aGlzNC5zdGF0ZS5hY3Rpb25JZCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZUVkaXRpbmcgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBfdGhpczQuc2V0U3RhdGUoeyByZWFkT25seTogZmFsc2UsIGlzRWRpdGluZzogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgX3RoaXM0LnN0YXRlLmFjdGlvbklkKS5mb2N1cygpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVEYXRlQ2hhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsgc2VsZWN0ZWREYXRlOiBkYXRlIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdldERhdGVGaWVsZFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaWQgPSBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyBfdGhpczQuc3RhdGUuYWN0aW9uSWQ7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWU7XG4gICAgfTtcblxuICAgIHRoaXMuRm9ybWF0dGVkQ3VycmVuY3lJbnB1dCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB2YXIgaW5wdXRSZWYgPSBwcm9wcy5pbnB1dFJlZixcbiAgICAgICAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgWydpbnB1dFJlZicsICdvbkNoYW5nZSddKTtcblxuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0TnVtYmVyRm9ybWF0Mi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgb3RoZXIsIHtcbiAgICAgICAgICAgIGdldElucHV0UmVmOiBpbnB1dFJlZixcbiAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmFsdWVDaGFuZ2UodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXMudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KGFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9mb3JtYXR0ZXIuY3VzdG9tQ3VycmVuY3lGb3JtYXR0ZXIpKF90aGlzNC5zdGF0ZS5hbW91bnQsIFwiJFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWNpbWFsU2NhbGU6IDgsXG4gICAgICAgICAgICBhbGxvd05lZ2F0aXZlOiBmYWxzZVxuICAgICAgICB9KSk7XG4gICAgfTtcbn07XG5cbmZ1bmN0aW9uIE51bWJlckZvcm1hdEN1c3RvbShwcm9wcykge1xuICAgIHZhciBpbnB1dFJlZiA9IHByb3BzLmlucHV0UmVmLFxuICAgICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgWydpbnB1dFJlZicsICdvbkNoYW5nZSddKTtcblxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3ROdW1iZXJGb3JtYXQyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCBvdGhlciwge1xuICAgICAgICBnZXRJbnB1dFJlZjogaW5wdXRSZWYsXG4gICAgICAgIG9uVmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmFsdWVDaGFuZ2UodmFsdWVzKSB7XG4gICAgICAgICAgICBvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXMudmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3I6IHRydWUsXG4gICAgICAgIHByZWZpeDogJyQnLFxuICAgICAgICBhbGxvd05lZ2F0aXZlOiBmYWxzZSxcbiAgICAgICAgZGVjaW1hbFNjYWxlOiA4XG4gICAgfSkpO1xufVxuXG5OdW1iZXJGb3JtYXRDdXN0b20ucHJvcFR5cGVzID0ge1xuICAgIGlucHV0UmVmOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWRcbn07XG5cblAyUC5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxudmFyIGNvbWJpbmVkU3R5bGUgPSAoMCwgX2NvbWJpbmVTdHlsZXMyLmRlZmF1bHQpKHN0eWxlcywgX2Jhc2VTdHlsZTIuZGVmYXVsdCk7XG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShjb21iaW5lZFN0eWxlLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShQMlApO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA4OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYlwiXSA9IF9fZXh0ZW5kcztcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19hc3NpZ247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImNcIl0gPSBfX3Jlc3Q7XG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19kZWNvcmF0ZSAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fcGFyYW0gKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX21ldGFkYXRhICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19hd2FpdGVyICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19nZW5lcmF0b3IgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX2V4cG9ydFN0YXIgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX3ZhbHVlcyAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fcmVhZCAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fc3ByZWFkICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19hd2FpdCAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fYXN5bmNHZW5lcmF0b3IgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBfX2FzeW5jRGVsZWdhdG9yICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19hc3luY1ZhbHVlcyAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IF9fbWFrZVRlbXBsYXRlT2JqZWN0ICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19pbXBvcnRTdGFyICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgX19pbXBvcnREZWZhdWx0ICovXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDkwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4hZnVuY3Rpb24oZSx0KXsgdHJ1ZT9tb2R1bGUuZXhwb3J0cz10KF9fd2VicGFja19yZXF1aXJlX18oMCkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicmVhY3RcIl0sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5yZWFjdFRleHRNYXNrPXQocmVxdWlyZShcInJlYWN0XCIpKTplLnJlYWN0VGV4dE1hc2s9dChlLlJlYWN0KX0odGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuKXtpZihyW25dKXJldHVybiByW25dLmV4cG9ydHM7dmFyIG89cltuXT17ZXhwb3J0czp7fSxpZDpuLGxvYWRlZDohMX07cmV0dXJuIGVbbl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsdCksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciByPXt9O3JldHVybiB0Lm09ZSx0LmM9cix0LnA9XCJcIix0KDApfShbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj17fTtmb3IodmFyIG4gaW4gZSl0LmluZGV4T2Yobik+PTB8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYocltuXT1lW25dKTtyZXR1cm4gcn1mdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gdShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY29uZm9ybVRvTWFzaz12b2lkIDA7dmFyIGw9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0scz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLGY9cigyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNvbmZvcm1Ub01hc2tcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihmKS5kZWZhdWx0fX0pO3ZhciBjPXIoMTEpLHA9bihjKSxkPXIoOSksaD1uKGQpLHY9cig1KSx5PW4odiksbT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU7aSh0aGlzLHQpO2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkociksbz0wO288cjtvKyspbltvXT1hcmd1bWVudHNbb107dmFyIHU9YSh0aGlzLChlPXQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KG4pKSk7cmV0dXJuIHUub25CbHVyPXUub25CbHVyLmJpbmQodSksdS5vbkNoYW5nZT11Lm9uQ2hhbmdlLmJpbmQodSksdX1yZXR1cm4gdSh0LGUpLHModCxbe2tleTpcImluaXRUZXh0TWFza1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PXRoaXMucHJvcHMudmFsdWU7dGhpcy50ZXh0TWFza0lucHV0RWxlbWVudD0oMCx5LmRlZmF1bHQpKGwoe2lucHV0RWxlbWVudDp0aGlzLmlucHV0RWxlbWVudH0sZSkpLHRoaXMudGV4dE1hc2tJbnB1dEVsZW1lbnQudXBkYXRlKHQpfX0se2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmluaXRUZXh0TWFzaygpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbml0VGV4dE1hc2soKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbiBlKCl7dmFyIHQ9dGhpcyxyPXRoaXMucHJvcHMsZT1yLnJlbmRlcixuPW8ocixbXCJyZW5kZXJcIl0pO2RlbGV0ZSBuLm1hc2ssZGVsZXRlIG4uZ3VpZGUsZGVsZXRlIG4ucGlwZSxkZWxldGUgbi5wbGFjZWhvbGRlckNoYXIsZGVsZXRlIG4ua2VlcENoYXJQb3NpdGlvbnMsZGVsZXRlIG4udmFsdWUsZGVsZXRlIG4ub25CbHVyLGRlbGV0ZSBuLm9uQ2hhbmdlLGRlbGV0ZSBuLnNob3dNYXNrO3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiB0LmlucHV0RWxlbWVudD1lfTtyZXR1cm4gZShpLGwoe29uQmx1cjp0aGlzLm9uQmx1cixvbkNoYW5nZTp0aGlzLm9uQ2hhbmdlLGRlZmF1bHRWYWx1ZTp0aGlzLnByb3BzLnZhbHVlfSxuKSl9fSx7a2V5Olwib25DaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnRleHRNYXNrSW5wdXRFbGVtZW50LnVwZGF0ZSgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMucHJvcHMub25DaGFuZ2UmJnRoaXMucHJvcHMub25DaGFuZ2UoZSl9fSx7a2V5Olwib25CbHVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5wcm9wcy5vbkJsdXImJnRoaXMucHJvcHMub25CbHVyKGUpfX1dKSx0fShwLmRlZmF1bHQuQ29tcG9uZW50KTt0LmRlZmF1bHQ9bSxtLnByb3BUeXBlcz17bWFzazpoLmRlZmF1bHQub25lT2ZUeXBlKFtoLmRlZmF1bHQuYXJyYXksaC5kZWZhdWx0LmZ1bmMsaC5kZWZhdWx0LmJvb2wsaC5kZWZhdWx0LnNoYXBlKHttYXNrOmguZGVmYXVsdC5vbmVPZlR5cGUoW2guZGVmYXVsdC5hcnJheSxoLmRlZmF1bHQuZnVuY10pLHBpcGU6aC5kZWZhdWx0LmZ1bmN9KV0pLmlzUmVxdWlyZWQsZ3VpZGU6aC5kZWZhdWx0LmJvb2wsdmFsdWU6aC5kZWZhdWx0Lm9uZU9mVHlwZShbaC5kZWZhdWx0LnN0cmluZyxoLmRlZmF1bHQubnVtYmVyXSkscGlwZTpoLmRlZmF1bHQuZnVuYyxwbGFjZWhvbGRlckNoYXI6aC5kZWZhdWx0LnN0cmluZyxrZWVwQ2hhclBvc2l0aW9uczpoLmRlZmF1bHQuYm9vbCxzaG93TWFzazpoLmRlZmF1bHQuYm9vbH0sbS5kZWZhdWx0UHJvcHM9e3JlbmRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBwLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsbCh7cmVmOmV9LHQpKX19fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQucGxhY2Vob2xkZXJDaGFyPVwiX1wiLHQuc3RyRnVuY3Rpb249XCJmdW5jdGlvblwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpsLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnUscj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307aWYoISgwLGkuaXNBcnJheSkodCkpe2lmKChcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOm8odCkpIT09YS5zdHJGdW5jdGlvbil0aHJvdyBuZXcgRXJyb3IoXCJUZXh0LW1hc2s6Y29uZm9ybVRvTWFzazsgVGhlIG1hc2sgcHJvcGVydHkgbXVzdCBiZSBhbiBhcnJheS5cIik7dD10KGUsciksdD0oMCxpLnByb2Nlc3NDYXJldFRyYXBzKSh0KS5tYXNrV2l0aG91dENhcmV0VHJhcHN9dmFyIG49ci5ndWlkZSxzPXZvaWQgMD09PW58fG4sZj1yLnByZXZpb3VzQ29uZm9ybWVkVmFsdWUsYz12b2lkIDA9PT1mP2w6ZixwPXIucGxhY2Vob2xkZXJDaGFyLGQ9dm9pZCAwPT09cD9hLnBsYWNlaG9sZGVyQ2hhcjpwLGg9ci5wbGFjZWhvbGRlcix2PXZvaWQgMD09PWg/KDAsaS5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXIpKHQsZCk6aCx5PXIuY3VycmVudENhcmV0UG9zaXRpb24sbT1yLmtlZXBDaGFyUG9zaXRpb25zLGI9cz09PSExJiZ2b2lkIDAhPT1jLGc9ZS5sZW5ndGgsaz1jLmxlbmd0aCxDPXYubGVuZ3RoLE89dC5sZW5ndGgsVD1nLWssUD1UPjAseD15KyhQPy1UOjApLHc9eCtNYXRoLmFicyhUKTtpZihtPT09ITAmJiFQKXtmb3IodmFyIF89bCxNPXg7TTx3O00rKyl2W01dPT09ZCYmKF8rPWQpO2U9ZS5zbGljZSgwLHgpK18rZS5zbGljZSh4LGcpfWZvcih2YXIgUz1lLnNwbGl0KGwpLm1hcChmdW5jdGlvbihlLHQpe3JldHVybntjaGFyOmUsaXNOZXc6dD49eCYmdDx3fX0pLGo9Zy0xO2o+PTA7ai0tKXt2YXIgRT1TW2pdLmNoYXI7aWYoRSE9PWQpe3ZhciBSPWo+PXgmJms9PT1PO0U9PT12W1I/ai1UOmpdJiZTLnNwbGljZShqLDEpfX12YXIgVj1sLEE9ITE7ZTpmb3IodmFyIE49MDtOPEM7TisrKXt2YXIgQj12W05dO2lmKEI9PT1kKXtpZihTLmxlbmd0aD4wKWZvcig7Uy5sZW5ndGg+MDspe3ZhciBJPVMuc2hpZnQoKSxGPUkuY2hhcixxPUkuaXNOZXc7aWYoRj09PWQmJmIhPT0hMCl7Vis9ZDtjb250aW51ZSBlfWlmKHRbTl0udGVzdChGKSl7aWYobT09PSEwJiZxIT09ITEmJmMhPT1sJiZzIT09ITEmJlApe2Zvcih2YXIgRD1TLmxlbmd0aCxMPW51bGwsVz0wO1c8RDtXKyspe3ZhciBKPVNbV107aWYoSi5jaGFyIT09ZCYmSi5pc05ldz09PSExKWJyZWFrO2lmKEouY2hhcj09PWQpe0w9VzticmVha319bnVsbCE9PUw/KFYrPUYsUy5zcGxpY2UoTCwxKSk6Ti0tfWVsc2UgVis9Rjtjb250aW51ZSBlfUE9ITB9Yj09PSExJiYoVis9di5zdWJzdHIoTixDKSk7YnJlYWt9Vis9Qn1pZihiJiZQPT09ITEpe2Zvcih2YXIgVT1udWxsLEg9MDtIPFYubGVuZ3RoO0grKyl2W0hdPT09ZCYmKFU9SCk7Vj1udWxsIT09VT9WLnN1YnN0cigwLFUrMSk6bH1yZXR1cm57Y29uZm9ybWVkVmFsdWU6VixtZXRhOntzb21lQ2hhcnNSZWplY3RlZDpBfX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07dC5kZWZhdWx0PW47dmFyIGk9cigzKSxhPXIoMSksdT1bXSxsPVwiXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnMsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bC5wbGFjZWhvbGRlckNoYXI7aWYoIW8oZSkpdGhyb3cgbmV3IEVycm9yKFwiVGV4dC1tYXNrOmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcjsgVGhlIG1hc2sgcHJvcGVydHkgbXVzdCBiZSBhbiBhcnJheS5cIik7aWYoZS5pbmRleE9mKHQpIT09LTEpdGhyb3cgbmV3IEVycm9yKFwiUGxhY2Vob2xkZXIgY2hhcmFjdGVyIG11c3Qgbm90IGJlIHVzZWQgYXMgcGFydCBvZiB0aGUgbWFzay4gUGxlYXNlIHNwZWNpZnkgYSBjaGFyYWN0ZXIgdGhhdCBpcyBub3QgcHJlc2VudCBpbiB5b3VyIG1hc2sgYXMgeW91ciBwbGFjZWhvbGRlciBjaGFyYWN0ZXIuXFxuXFxuXCIrKFwiVGhlIHBsYWNlaG9sZGVyIGNoYXJhY3RlciB0aGF0IHdhcyByZWNlaXZlZCBpczogXCIrSlNPTi5zdHJpbmdpZnkodCkrXCJcXG5cXG5cIikrKFwiVGhlIG1hc2sgdGhhdCB3YXMgcmVjZWl2ZWQgaXM6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSk7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgUmVnRXhwP3Q6ZX0pLmpvaW4oXCJcIil9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSYmQXJyYXkuaXNBcnJheShlKXx8ZSBpbnN0YW5jZW9mIEFycmF5fWZ1bmN0aW9uIGkoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBTdHJpbmd9ZnVuY3Rpb24gYShlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmdm9pZCAwPT09ZS5sZW5ndGgmJiFpc05hTihlKX1mdW5jdGlvbiB1KGUpe2Zvcih2YXIgdD1bXSxyPXZvaWQgMDtyPWUuaW5kZXhPZihmKSxyIT09LTE7KXQucHVzaChyKSxlLnNwbGljZShyLDEpO3JldHVybnttYXNrV2l0aG91dENhcmV0VHJhcHM6ZSxpbmRleGVzOnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY29udmVydE1hc2tUb1BsYWNlaG9sZGVyPW4sdC5pc0FycmF5PW8sdC5pc1N0cmluZz1pLHQuaXNOdW1iZXI9YSx0LnByb2Nlc3NDYXJldFRyYXBzPXU7dmFyIGw9cigxKSxzPVtdLGY9XCJbXVwifSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7dmFyIHQ9ZS5wcmV2aW91c0NvbmZvcm1lZFZhbHVlLHI9dm9pZCAwPT09dD9vOnQsaT1lLnByZXZpb3VzUGxhY2Vob2xkZXIsYT12b2lkIDA9PT1pP286aSx1PWUuY3VycmVudENhcmV0UG9zaXRpb24sbD12b2lkIDA9PT11PzA6dSxzPWUuY29uZm9ybWVkVmFsdWUsZj1lLnJhd1ZhbHVlLGM9ZS5wbGFjZWhvbGRlckNoYXIscD1lLnBsYWNlaG9sZGVyLGQ9ZS5pbmRleGVzT2ZQaXBlZENoYXJzLGg9dm9pZCAwPT09ZD9uOmQsdj1lLmNhcmV0VHJhcEluZGV4ZXMseT12b2lkIDA9PT12P246djtpZigwPT09bHx8IWYubGVuZ3RoKXJldHVybiAwO3ZhciBtPWYubGVuZ3RoLGI9ci5sZW5ndGgsZz1wLmxlbmd0aCxrPXMubGVuZ3RoLEM9bS1iLE89Qz4wLFQ9MD09PWIsUD1DPjEmJiFPJiYhVDtpZihQKXJldHVybiBsO3ZhciB4PU8mJihyPT09c3x8cz09PXApLHc9MCxfPXZvaWQgMCxNPXZvaWQgMDtpZih4KXc9bC1DO2Vsc2V7dmFyIFM9cy50b0xvd2VyQ2FzZSgpLGo9Zi50b0xvd2VyQ2FzZSgpLEU9ai5zdWJzdHIoMCxsKS5zcGxpdChvKSxSPUUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBTLmluZGV4T2YoZSkhPT0tMX0pO009UltSLmxlbmd0aC0xXTt2YXIgVj1hLnN1YnN0cigwLFIubGVuZ3RoKS5zcGxpdChvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1jfSkubGVuZ3RoLEE9cC5zdWJzdHIoMCxSLmxlbmd0aCkuc3BsaXQobykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09Y30pLmxlbmd0aCxOPUEhPT1WLEI9dm9pZCAwIT09YVtSLmxlbmd0aC0xXSYmdm9pZCAwIT09cFtSLmxlbmd0aC0yXSYmYVtSLmxlbmd0aC0xXSE9PWMmJmFbUi5sZW5ndGgtMV0hPT1wW1IubGVuZ3RoLTFdJiZhW1IubGVuZ3RoLTFdPT09cFtSLmxlbmd0aC0yXTshTyYmKE58fEIpJiZWPjAmJnAuaW5kZXhPZihNKT4tMSYmdm9pZCAwIT09ZltsXSYmKF89ITAsTT1mW2xdKTtmb3IodmFyIEk9aC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFNbZV19KSxGPUkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09TX0pLmxlbmd0aCxxPVIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09TX0pLmxlbmd0aCxEPXAuc3Vic3RyKDAscC5pbmRleE9mKGMpKS5zcGxpdChvKS5maWx0ZXIoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PU0mJmZbdF0hPT1lfSkubGVuZ3RoLEw9RCtxK0YrKF8/MTowKSxXPTAsSj0wO0o8aztKKyspe3ZhciBVPVNbSl07aWYodz1KKzEsVT09PU0mJlcrKyxXPj1MKWJyZWFrfX1pZihPKXtmb3IodmFyIEg9dyxZPXc7WTw9ZztZKyspaWYocFtZXT09PWMmJihIPVkpLHBbWV09PT1jfHx5LmluZGV4T2YoWSkhPT0tMXx8WT09PWcpcmV0dXJuIEh9ZWxzZSBpZihfKXtmb3IodmFyIHo9dy0xO3o+PTA7ei0tKWlmKHNbel09PT1NfHx5LmluZGV4T2YoeikhPT0tMXx8MD09PXopcmV0dXJuIHp9ZWxzZSBmb3IodmFyIEc9dztHPj0wO0ctLSlpZihwW0ctMV09PT1jfHx5LmluZGV4T2YoRykhPT0tMXx8MD09PUcpcmV0dXJuIEd9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXI7dmFyIG49W10sbz1cIlwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbyhlKXt2YXIgdD17cHJldmlvdXNDb25mb3JtZWRWYWx1ZTp2b2lkIDAscHJldmlvdXNQbGFjZWhvbGRlcjp2b2lkIDB9O3JldHVybntzdGF0ZTp0LHVwZGF0ZTpmdW5jdGlvbihyKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZSxvPW4uaW5wdXRFbGVtZW50LHM9bi5tYXNrLGM9bi5ndWlkZSx5PW4ucGlwZSxiPW4ucGxhY2Vob2xkZXJDaGFyLGc9dm9pZCAwPT09Yj9oLnBsYWNlaG9sZGVyQ2hhcjpiLGs9bi5rZWVwQ2hhclBvc2l0aW9ucyxDPXZvaWQgMCE9PWsmJmssTz1uLnNob3dNYXNrLFQ9dm9pZCAwIT09TyYmTztpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgciYmKHI9by52YWx1ZSksciE9PXQucHJldmlvdXNDb25mb3JtZWRWYWx1ZSl7KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzP1widW5kZWZpbmVkXCI6bChzKSk9PT1tJiZ2b2lkIDAhPT1zLnBpcGUmJnZvaWQgMCE9PXMubWFzayYmKHk9cy5waXBlLHM9cy5tYXNrKTt2YXIgUD12b2lkIDAseD12b2lkIDA7aWYocyBpbnN0YW5jZW9mIEFycmF5JiYoUD0oMCxkLmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcikocyxnKSkscyE9PSExKXt2YXIgdz1hKHIpLF89by5zZWxlY3Rpb25FbmQsTT10LnByZXZpb3VzQ29uZm9ybWVkVmFsdWUsUz10LnByZXZpb3VzUGxhY2Vob2xkZXIsaj12b2lkIDA7aWYoKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzP1widW5kZWZpbmVkXCI6bChzKSk9PT1oLnN0ckZ1bmN0aW9uKXtpZih4PXModyx7Y3VycmVudENhcmV0UG9zaXRpb246XyxwcmV2aW91c0NvbmZvcm1lZFZhbHVlOk0scGxhY2Vob2xkZXJDaGFyOmd9KSx4PT09ITEpcmV0dXJuO3ZhciBFPSgwLGQucHJvY2Vzc0NhcmV0VHJhcHMpKHgpLFI9RS5tYXNrV2l0aG91dENhcmV0VHJhcHMsVj1FLmluZGV4ZXM7eD1SLGo9VixQPSgwLGQuY29udmVydE1hc2tUb1BsYWNlaG9sZGVyKSh4LGcpfWVsc2UgeD1zO3ZhciBBPXtwcmV2aW91c0NvbmZvcm1lZFZhbHVlOk0sZ3VpZGU6YyxwbGFjZWhvbGRlckNoYXI6ZyxwaXBlOnkscGxhY2Vob2xkZXI6UCxjdXJyZW50Q2FyZXRQb3NpdGlvbjpfLGtlZXBDaGFyUG9zaXRpb25zOkN9LE49KDAscC5kZWZhdWx0KSh3LHgsQSksQj1OLmNvbmZvcm1lZFZhbHVlLEk9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB5P1widW5kZWZpbmVkXCI6bCh5KSk9PT1oLnN0ckZ1bmN0aW9uLEY9e307SSYmKEY9eShCLHUoe3Jhd1ZhbHVlOnd9LEEpKSxGPT09ITE/Rj17dmFsdWU6TSxyZWplY3RlZDohMH06KDAsZC5pc1N0cmluZykoRikmJihGPXt2YWx1ZTpGfSkpO3ZhciBxPUk/Ri52YWx1ZTpCLEQ9KDAsZi5kZWZhdWx0KSh7cHJldmlvdXNDb25mb3JtZWRWYWx1ZTpNLHByZXZpb3VzUGxhY2Vob2xkZXI6Uyxjb25mb3JtZWRWYWx1ZTpxLHBsYWNlaG9sZGVyOlAscmF3VmFsdWU6dyxjdXJyZW50Q2FyZXRQb3NpdGlvbjpfLHBsYWNlaG9sZGVyQ2hhcjpnLGluZGV4ZXNPZlBpcGVkQ2hhcnM6Ri5pbmRleGVzT2ZQaXBlZENoYXJzLGNhcmV0VHJhcEluZGV4ZXM6an0pLEw9cT09PVAmJjA9PT1ELFc9VD9QOnYsSj1MP1c6cTt0LnByZXZpb3VzQ29uZm9ybWVkVmFsdWU9Six0LnByZXZpb3VzUGxhY2Vob2xkZXI9UCxvLnZhbHVlIT09SiYmKG8udmFsdWU9SixpKG8sRCkpfX19fX1mdW5jdGlvbiBpKGUsdCl7ZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09PWUmJihiP2coZnVuY3Rpb24oKXtyZXR1cm4gZS5zZXRTZWxlY3Rpb25SYW5nZSh0LHQseSl9LDApOmUuc2V0U2VsZWN0aW9uUmFuZ2UodCx0LHkpKX1mdW5jdGlvbiBhKGUpe2lmKCgwLGQuaXNTdHJpbmcpKGUpKXJldHVybiBlO2lmKCgwLGQuaXNOdW1iZXIpKGUpKXJldHVybiBTdHJpbmcoZSk7aWYodm9pZCAwPT09ZXx8bnVsbD09PWUpcmV0dXJuIHY7dGhyb3cgbmV3IEVycm9yKFwiVGhlICd2YWx1ZScgcHJvdmlkZWQgdG8gVGV4dCBNYXNrIG5lZWRzIHRvIGJlIGEgc3RyaW5nIG9yIGEgbnVtYmVyLiBUaGUgdmFsdWUgcmVjZWl2ZWQgd2FzOlxcblxcbiBcIitKU09OLnN0cmluZ2lmeShlKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0sbD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTt0LmRlZmF1bHQ9bzt2YXIgcz1yKDQpLGY9bihzKSxjPXIoMikscD1uKGMpLGQ9cigzKSxoPXIoMSksdj1cIlwiLHk9XCJub25lXCIsbT1cIm9iamVjdFwiLGI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL0FuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZT9yZXF1ZXN0QW5pbWF0aW9uRnJhbWU6c2V0VGltZW91dH0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlfX12YXIgbj1mdW5jdGlvbigpe307bi50aGF0UmV0dXJucz1yLG4udGhhdFJldHVybnNGYWxzZT1yKCExKSxuLnRoYXRSZXR1cm5zVHJ1ZT1yKCEwKSxuLnRoYXRSZXR1cm5zTnVsbD1yKG51bGwpLG4udGhhdFJldHVybnNUaGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LG4udGhhdFJldHVybnNBcmd1bWVudD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCxyLG4saSxhLHUsbCl7aWYobyh0KSwhZSl7dmFyIHM7aWYodm9pZCAwPT09dClzPW5ldyBFcnJvcihcIk1pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50IGZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuXCIpO2Vsc2V7dmFyIGY9W3IsbixpLGEsdSxsXSxjPTA7cz1uZXcgRXJyb3IodC5yZXBsYWNlKC8lcy9nLGZ1bmN0aW9uKCl7cmV0dXJuIGZbYysrXX0pKSxzLm5hbWU9XCJJbnZhcmlhbnQgVmlvbGF0aW9uXCJ9dGhyb3cgcy5mcmFtZXNUb1BvcD0xLHN9fXZhciBvPWZ1bmN0aW9uKGUpe307ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDYpLG89cig3KSxpPXIoMTApO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsbixhLHUpe3UhPT1pJiZvKCExLFwiQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlc1wiKX1mdW5jdGlvbiB0KCl7cmV0dXJuIGV9ZS5pc1JlcXVpcmVkPWU7dmFyIHI9e2FycmF5OmUsYm9vbDplLGZ1bmM6ZSxudW1iZXI6ZSxvYmplY3Q6ZSxzdHJpbmc6ZSxzeW1ib2w6ZSxhbnk6ZSxhcnJheU9mOnQsZWxlbWVudDplLGluc3RhbmNlT2Y6dCxub2RlOmUsb2JqZWN0T2Y6dCxvbmVPZjp0LG9uZU9mVHlwZTp0LHNoYXBlOnQsZXhhY3Q6dH07cmV0dXJuIHIuY2hlY2tQcm9wVHlwZXM9bixyLlByb3BUeXBlcz1yLHJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sZS5leHBvcnRzPXIoOCkoKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgcj1cIlNFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEXCI7ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQscil7dC5leHBvcnRzPWV9XSl9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfQ1NTVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MDkyKSk7XG5cbnZhciBfUmVwbGFjZVRyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjA5NikpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMzIpKTtcblxudmFyIF9UcmFuc2l0aW9uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUcmFuc2l0aW9uOiBfVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBUcmFuc2l0aW9uR3JvdXA6IF9UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdCxcbiAgUmVwbGFjZVRyYW5zaXRpb246IF9SZXBsYWNlVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBDU1NUcmFuc2l0aW9uOiBfQ1NTVHJhbnNpdGlvbi5kZWZhdWx0XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIFByb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX2FkZENsYXNzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOTMpKTtcblxudmFyIF9yZW1vdmVDbGFzcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MDk1KSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpO1xuXG52YXIgX1RyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNTUpKTtcblxudmFyIF9Qcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0Nik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbnZhciBhZGRDbGFzcyA9IGZ1bmN0aW9uIGFkZENsYXNzKG5vZGUsIGNsYXNzZXMpIHtcbiAgcmV0dXJuIG5vZGUgJiYgY2xhc3NlcyAmJiBjbGFzc2VzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAoMCwgX2FkZENsYXNzLmRlZmF1bHQpKG5vZGUsIGMpO1xuICB9KTtcbn07XG5cbnZhciByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKG5vZGUsIGNsYXNzZXMpIHtcbiAgcmV0dXJuIG5vZGUgJiYgY2xhc3NlcyAmJiBjbGFzc2VzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAoMCwgX3JlbW92ZUNsYXNzLmRlZmF1bHQpKG5vZGUsIGMpO1xuICB9KTtcbn07XG5cbnZhciBwcm9wVHlwZXMgPSAgZmFsc2UgPyBfZXh0ZW5kcyh7fSwgX1RyYW5zaXRpb24uZGVmYXVsdC5wcm9wVHlwZXMsIHtcbiAgLyoqXG4gICAqIFRoZSBhbmltYXRpb24gY2xhc3NOYW1lcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQgYXMgaXQgZW50ZXJzLCBleGl0cyBvciBoYXMgZmluaXNoZWQgdGhlIHRyYW5zaXRpb24uXG4gICAqIEEgc2luZ2xlIG5hbWUgY2FuIGJlIHByb3ZpZGVkIGFuZCBpdCB3aWxsIGJlIHN1ZmZpeGVkIGZvciBlYWNoIHN0YWdlOiBlLmcuXG4gICAqXG4gICAqIGBjbGFzc05hbWVzPVwiZmFkZVwiYCBhcHBsaWVzIGBmYWRlLWVudGVyYCwgYGZhZGUtZW50ZXItYWN0aXZlYCwgYGZhZGUtZW50ZXItZG9uZWAsXG4gICAqIGBmYWRlLWV4aXRgLCBgZmFkZS1leGl0LWFjdGl2ZWAsIGBmYWRlLWV4aXQtZG9uZWAsIGBmYWRlLWFwcGVhcmAsIGFuZCBgZmFkZS1hcHBlYXItYWN0aXZlYC5cbiAgICogRWFjaCBpbmRpdmlkdWFsIGNsYXNzTmFtZXMgY2FuIGFsc28gYmUgc3BlY2lmaWVkIGluZGVwZW5kZW50bHkgbGlrZTpcbiAgICpcbiAgICogYGBganNcbiAgICogY2xhc3NOYW1lcz17e1xuICAgKiAgYXBwZWFyOiAnbXktYXBwZWFyJyxcbiAgICogIGFwcGVhckFjdGl2ZTogJ215LWFjdGl2ZS1hcHBlYXInLFxuICAgKiAgZW50ZXI6ICdteS1lbnRlcicsXG4gICAqICBlbnRlckFjdGl2ZTogJ215LWFjdGl2ZS1lbnRlcicsXG4gICAqICBlbnRlckRvbmU6ICdteS1kb25lLWVudGVyJyxcbiAgICogIGV4aXQ6ICdteS1leGl0JyxcbiAgICogIGV4aXRBY3RpdmU6ICdteS1hY3RpdmUtZXhpdCcsXG4gICAqICBleGl0RG9uZTogJ215LWRvbmUtZXhpdCcsXG4gICAqIH19XG4gICAqIGBgYFxuICAgKlxuICAgKiBJZiB5b3Ugd2FudCB0byBzZXQgdGhlc2UgY2xhc3NlcyB1c2luZyBDU1MgTW9kdWxlczpcbiAgICpcbiAgICogYGBganNcbiAgICogaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5jc3MnO1xuICAgKiBgYGBcbiAgICpcbiAgICogeW91IG1pZ2h0IHdhbnQgdG8gdXNlIGNhbWVsQ2FzZSBpbiB5b3VyIENTUyBmaWxlLCB0aGF0IHdheSBjb3VsZCBzaW1wbHkgc3ByZWFkXG4gICAqIHRoZW0gaW5zdGVhZCBvZiBsaXN0aW5nIHRoZW0gb25lIGJ5IG9uZTpcbiAgICpcbiAgICogYGBganNcbiAgICogY2xhc3NOYW1lcz17eyAuLi5zdHlsZXMgfX1cbiAgICogYGBgXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmcgfCB7XG4gICAqICBhcHBlYXI/OiBzdHJpbmcsXG4gICAqICBhcHBlYXJBY3RpdmU/OiBzdHJpbmcsXG4gICAqICBlbnRlcj86IHN0cmluZyxcbiAgICogIGVudGVyQWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZW50ZXJEb25lPzogc3RyaW5nLFxuICAgKiAgZXhpdD86IHN0cmluZyxcbiAgICogIGV4aXRBY3RpdmU/OiBzdHJpbmcsXG4gICAqICBleGl0RG9uZT86IHN0cmluZyxcbiAgICogfX1cbiAgICovXG4gIGNsYXNzTmFtZXM6IF9Qcm9wVHlwZXMuY2xhc3NOYW1lc1NoYXBlLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXInIG9yICdhcHBlYXInIGNsYXNzIGlzXG4gICAqIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbClcbiAgICovXG4gIG9uRW50ZXI6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXItYWN0aXZlJyBvclxuICAgKiAnYXBwZWFyLWFjdGl2ZScgY2xhc3MgaXMgYXBwbGllZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmluZzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEEgYDxUcmFuc2l0aW9uPmAgY2FsbGJhY2sgZmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlICdlbnRlcicgb3JcbiAgICogJ2FwcGVhcicgY2xhc3NlcyBhcmUgKipyZW1vdmVkKiogYW5kIHRoZSBgZG9uZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIERPTSBub2RlLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZXhpdCcgY2xhc3MgaXNcbiAgICogYXBwbGllZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQpXG4gICAqL1xuICBvbkV4aXQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZXhpdC1hY3RpdmUnIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50XG4gICAqL1xuICBvbkV4aXRpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZXhpdCcgY2xhc3Nlc1xuICAgKiBhcmUgKipyZW1vdmVkKiogYW5kIHRoZSBgZXhpdC1kb25lYCBjbGFzcyBpcyBhZGRlZCB0byB0aGUgRE9NIG5vZGUuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KVxuICAgKi9cbiAgb25FeGl0ZWQ6IFByb3BUeXBlcy5mdW5jXG59KSA6IHt9Oztcbi8qKlxuICogQSBgVHJhbnNpdGlvbmAgY29tcG9uZW50IHVzaW5nIENTUyB0cmFuc2l0aW9ucyBhbmQgYW5pbWF0aW9ucy5cbiAqIEl0J3MgaW5zcGlyZWQgYnkgdGhlIGV4Y2VsbGVudCBbbmctYW5pbWF0ZV0oaHR0cDovL3d3dy5uZ2FuaW1hdGUub3JnLykgbGlicmFyeS5cbiAqXG4gKiBgQ1NTVHJhbnNpdGlvbmAgYXBwbGllcyBhIHBhaXIgb2YgY2xhc3MgbmFtZXMgZHVyaW5nIHRoZSBgYXBwZWFyYCwgYGVudGVyYCxcbiAqIGFuZCBgZXhpdGAgc3RhZ2VzIG9mIHRoZSB0cmFuc2l0aW9uLiBUaGUgZmlyc3QgY2xhc3MgaXMgYXBwbGllZCBhbmQgdGhlbiBhXG4gKiBzZWNvbmQgXCJhY3RpdmVcIiBjbGFzcyBpbiBvcmRlciB0byBhY3RpdmF0ZSB0aGUgY3NzIGFuaW1hdGlvbi4gQWZ0ZXIgdGhlIGFuaW1hdGlvbixcbiAqIG1hdGNoaW5nIGBkb25lYCBjbGFzcyBuYW1lcyBhcmUgYXBwbGllZCB0byBwZXJzaXN0IHRoZSBhbmltYXRpb24gc3RhdGUuXG4gKlxuICogV2hlbiB0aGUgYGluYCBwcm9wIGlzIHRvZ2dsZWQgdG8gYHRydWVgIHRoZSBDb21wb25lbnQgd2lsbCBnZXRcbiAqIHRoZSBgZXhhbXBsZS1lbnRlcmAgQ1NTIGNsYXNzIGFuZCB0aGUgYGV4YW1wbGUtZW50ZXItYWN0aXZlYCBDU1MgY2xhc3NcbiAqIGFkZGVkIGluIHRoZSBuZXh0IHRpY2suIFRoaXMgaXMgYSBjb252ZW50aW9uIGJhc2VkIG9uIHRoZSBgY2xhc3NOYW1lc2AgcHJvcC5cbiAqL1xuXG52YXIgQ1NTVHJhbnNpdGlvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShDU1NUcmFuc2l0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDU1NUcmFuc2l0aW9uKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMub25FbnRlciA9IGZ1bmN0aW9uIChub2RlLCBhcHBlYXJpbmcpIHtcbiAgICAgIHZhciBfdGhpcyRnZXRDbGFzc05hbWVzID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcyhhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXMuY2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdleGl0Jyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkVudGVyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRW50ZXIobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRW50ZXJpbmcgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczIgPSBfdGhpcy5nZXRDbGFzc05hbWVzKGFwcGVhcmluZyA/ICdhcHBlYXInIDogJ2VudGVyJyksXG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczIuYWN0aXZlQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcmluZykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyaW5nKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkVudGVyZWQgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczMgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdlbnRlcicpLFxuICAgICAgICAgIGRvbmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzMy5kb25lQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsIGFwcGVhcmluZyA/ICdhcHBlYXInIDogJ2VudGVyJyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGRvbmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcmVkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRW50ZXJlZChub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FeGl0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHZhciBfdGhpcyRnZXRDbGFzc05hbWVzNCA9IF90aGlzLmdldENsYXNzTmFtZXMoJ2V4aXQnKSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNC5jbGFzc05hbWU7XG5cbiAgICAgIF90aGlzLnJlbW92ZUNsYXNzZXMobm9kZSwgJ2FwcGVhcicpO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdlbnRlcicpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRXhpdChub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FeGl0aW5nID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHZhciBfdGhpcyRnZXRDbGFzc05hbWVzNSA9IF90aGlzLmdldENsYXNzTmFtZXMoJ2V4aXQnKSxcbiAgICAgICAgICBhY3RpdmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNS5hY3RpdmVDbGFzc05hbWU7XG5cbiAgICAgIF90aGlzLnJlZmxvd0FuZEFkZENsYXNzKG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkV4aXRpbmcpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FeGl0aW5nKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkV4aXRlZCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczYgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgZG9uZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM2LmRvbmVDbGFzc05hbWU7XG5cbiAgICAgIF90aGlzLnJlbW92ZUNsYXNzZXMobm9kZSwgJ2V4aXQnKTtcblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgZG9uZUNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkV4aXRlZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkV4aXRlZChub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0Q2xhc3NOYW1lcyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lcyA9IF90aGlzLnByb3BzLmNsYXNzTmFtZXM7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gdHlwZW9mIGNsYXNzTmFtZXMgIT09ICdzdHJpbmcnID8gY2xhc3NOYW1lc1t0eXBlXSA6IGNsYXNzTmFtZXMgKyAnLScgKyB0eXBlO1xuICAgICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZSArICdBY3RpdmUnXSA6IGNsYXNzTmFtZSArICctYWN0aXZlJztcbiAgICAgIHZhciBkb25lQ2xhc3NOYW1lID0gdHlwZW9mIGNsYXNzTmFtZXMgIT09ICdzdHJpbmcnID8gY2xhc3NOYW1lc1t0eXBlICsgJ0RvbmUnXSA6IGNsYXNzTmFtZSArICctZG9uZSc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lOiBhY3RpdmVDbGFzc05hbWUsXG4gICAgICAgIGRvbmVDbGFzc05hbWU6IGRvbmVDbGFzc05hbWVcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBDU1NUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVtb3ZlQ2xhc3NlcyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMobm9kZSwgdHlwZSkge1xuICAgIHZhciBfdGhpcyRnZXRDbGFzc05hbWVzNyA9IHRoaXMuZ2V0Q2xhc3NOYW1lcyh0eXBlKSxcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuY2xhc3NOYW1lLFxuICAgICAgICBhY3RpdmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNy5hY3RpdmVDbGFzc05hbWUsXG4gICAgICAgIGRvbmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNy5kb25lQ2xhc3NOYW1lO1xuXG4gICAgY2xhc3NOYW1lICYmIHJlbW92ZUNsYXNzKG5vZGUsIGNsYXNzTmFtZSk7XG4gICAgYWN0aXZlQ2xhc3NOYW1lICYmIHJlbW92ZUNsYXNzKG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSk7XG4gICAgZG9uZUNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBkb25lQ2xhc3NOYW1lKTtcbiAgfTtcblxuICBfcHJvdG8ucmVmbG93QW5kQWRkQ2xhc3MgPSBmdW5jdGlvbiByZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpIHtcbiAgICAvLyBUaGlzIGlzIGZvciB0byBmb3JjZSBhIHJlcGFpbnQsXG4gICAgLy8gd2hpY2ggaXMgbmVjZXNzYXJ5IGluIG9yZGVyIHRvIHRyYW5zaXRpb24gc3R5bGVzIHdoZW4gYWRkaW5nIGEgY2xhc3MgbmFtZS5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgICAgIG5vZGUgJiYgbm9kZS5zY3JvbGxUb3A7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcblxuICAgIGRlbGV0ZSBwcm9wcy5jbGFzc05hbWVzO1xuICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2l0aW9uLmRlZmF1bHQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgb25FbnRlcjogdGhpcy5vbkVudGVyLFxuICAgICAgb25FbnRlcmVkOiB0aGlzLm9uRW50ZXJlZCxcbiAgICAgIG9uRW50ZXJpbmc6IHRoaXMub25FbnRlcmluZyxcbiAgICAgIG9uRXhpdDogdGhpcy5vbkV4aXQsXG4gICAgICBvbkV4aXRpbmc6IHRoaXMub25FeGl0aW5nLFxuICAgICAgb25FeGl0ZWQ6IHRoaXMub25FeGl0ZWRcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb247XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkNTU1RyYW5zaXRpb24ucHJvcFR5cGVzID0gIGZhbHNlID8gcHJvcFR5cGVzIDoge307XG52YXIgX2RlZmF1bHQgPSBDU1NUcmFuc2l0aW9uO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYWRkQ2xhc3M7XG5cbnZhciBfaGFzQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjA5NCkpO1xuXG5mdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtlbHNlIGlmICghKDAsIF9oYXNDbGFzcy5kZWZhdWx0KShlbGVtZW50LCBjbGFzc05hbWUpKSBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZTtlbHNlIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIChlbGVtZW50LmNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8ICcnKSArICcgJyArIGNsYXNzTmFtZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDk0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gaGFzQ2xhc3M7XG5cbmZ1bmN0aW9uIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHJldHVybiAhIWNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO2Vsc2UgcmV0dXJuIChcIiBcIiArIChlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8IGVsZW1lbnQuY2xhc3NOYW1lKSArIFwiIFwiKS5pbmRleE9mKFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIpICE9PSAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIHJlcGxhY2VDbGFzc05hbWUob3JpZ0NsYXNzLCBjbGFzc1RvUmVtb3ZlKSB7XG4gIHJldHVybiBvcmlnQ2xhc3MucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgY2xhc3NUb1JlbW92ZSArICcoPzpcXFxcc3wkKScsICdnJyksICckMScpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7ZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSByZXBsYWNlQ2xhc3NOYW1lKGVsZW1lbnQuY2xhc3NOYW1lLCBjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgcmVwbGFjZUNsYXNzTmFtZShlbGVtZW50LmNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8ICcnLCBjbGFzc05hbWUpKTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDk2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMCkpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICBpbjogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IGZ1bmN0aW9uIGNoaWxkcmVuKHByb3BzLCBwcm9wTmFtZSkge1xuICAgIGlmIChfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi5jb3VudChwcm9wc1twcm9wTmFtZV0pICE9PSAyKSByZXR1cm4gbmV3IEVycm9yKFwiXFxcIlwiICsgcHJvcE5hbWUgKyBcIlxcXCIgbXVzdCBiZSBleGFjdGx5IHR3byB0cmFuc2l0aW9uIGNvbXBvbmVudHMuXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59IDoge307O1xuLyoqXG4gKiBUaGUgYDxSZXBsYWNlVHJhbnNpdGlvbj5gIGNvbXBvbmVudCBpcyBhIHNwZWNpYWxpemVkIGBUcmFuc2l0aW9uYCBjb21wb25lbnRcbiAqIHRoYXQgYW5pbWF0ZXMgYmV0d2VlbiB0d28gY2hpbGRyZW4uXG4gKlxuICogYGBganN4XG4gKiA8UmVwbGFjZVRyYW5zaXRpb24gaW4+XG4gKiAgIDxGYWRlPjxkaXY+SSBhcHBlYXIgZmlyc3Q8L2Rpdj48L0ZhZGU+XG4gKiAgIDxGYWRlPjxkaXY+SSByZXBsYWNlIHRoZSBhYm92ZTwvZGl2PjwvRmFkZT5cbiAqIDwvUmVwbGFjZVRyYW5zaXRpb24+XG4gKiBgYGBcbiAqL1xuXG52YXIgUmVwbGFjZVRyYW5zaXRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoUmVwbGFjZVRyYW5zaXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJlcGxhY2VUcmFuc2l0aW9uKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBfYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIF9hcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoX2FyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuaGFuZGxlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkVudGVyJywgMCwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUVudGVyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FbnRlcmluZycsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFbnRlcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FbnRlcmVkJywgMCwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUV4aXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjUpLCBfa2V5NSA9IDA7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkV4aXQnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRXhpdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNiksIF9rZXk2ID0gMDsgX2tleTYgPCBfbGVuNjsgX2tleTYrKykge1xuICAgICAgICBhcmdzW19rZXk2XSA9IGFyZ3VtZW50c1tfa2V5Nl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRXhpdGluZycsIDEsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFeGl0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjcpLCBfa2V5NyA9IDA7IF9rZXk3IDwgX2xlbjc7IF9rZXk3KyspIHtcbiAgICAgICAgYXJnc1tfa2V5N10gPSBhcmd1bWVudHNbX2tleTddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkV4aXRlZCcsIDEsIGFyZ3MpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gUmVwbGFjZVRyYW5zaXRpb24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5oYW5kbGVMaWZlY3ljbGUgPSBmdW5jdGlvbiBoYW5kbGVMaWZlY3ljbGUoaGFuZGxlciwgaWR4LCBvcmlnaW5hbEFyZ3MpIHtcbiAgICB2YXIgX2NoaWxkJHByb3BzO1xuXG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblxuICAgIHZhciBjaGlsZCA9IF9yZWFjdC5kZWZhdWx0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pW2lkeF07XG5cbiAgICBpZiAoY2hpbGQucHJvcHNbaGFuZGxlcl0pIChfY2hpbGQkcHJvcHMgPSBjaGlsZC5wcm9wcylbaGFuZGxlcl0uYXBwbHkoX2NoaWxkJHByb3BzLCBvcmlnaW5hbEFyZ3MpO1xuICAgIGlmICh0aGlzLnByb3BzW2hhbmRsZXJdKSB0aGlzLnByb3BzW2hhbmRsZXJdKCgwLCBfcmVhY3REb20uZmluZERPTU5vZGUpKHRoaXMpKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIGluUHJvcCA9IF90aGlzJHByb3BzLmluLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJjaGlsZHJlblwiLCBcImluXCJdKTtcblxuICAgIHZhciBfUmVhY3QkQ2hpbGRyZW4kdG9BcnIgPSBfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKSxcbiAgICAgICAgZmlyc3QgPSBfUmVhY3QkQ2hpbGRyZW4kdG9BcnJbMF0sXG4gICAgICAgIHNlY29uZCA9IF9SZWFjdCRDaGlsZHJlbiR0b0FyclsxXTtcblxuICAgIGRlbGV0ZSBwcm9wcy5vbkVudGVyO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkVudGVyaW5nO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkVudGVyZWQ7XG4gICAgZGVsZXRlIHByb3BzLm9uRXhpdDtcbiAgICBkZWxldGUgcHJvcHMub25FeGl0aW5nO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkV4aXRlZDtcbiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHQsIHByb3BzLCBpblByb3AgPyBfcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoZmlyc3QsIHtcbiAgICAgIGtleTogJ2ZpcnN0JyxcbiAgICAgIG9uRW50ZXI6IHRoaXMuaGFuZGxlRW50ZXIsXG4gICAgICBvbkVudGVyaW5nOiB0aGlzLmhhbmRsZUVudGVyaW5nLFxuICAgICAgb25FbnRlcmVkOiB0aGlzLmhhbmRsZUVudGVyZWRcbiAgICB9KSA6IF9yZWFjdC5kZWZhdWx0LmNsb25lRWxlbWVudChzZWNvbmQsIHtcbiAgICAgIGtleTogJ3NlY29uZCcsXG4gICAgICBvbkVudGVyOiB0aGlzLmhhbmRsZUV4aXQsXG4gICAgICBvbkVudGVyaW5nOiB0aGlzLmhhbmRsZUV4aXRpbmcsXG4gICAgICBvbkVudGVyZWQ6IHRoaXMuaGFuZGxlRXhpdGVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBSZXBsYWNlVHJhbnNpdGlvbjtcbn0oX3JlYWN0LmRlZmF1bHQuQ29tcG9uZW50KTtcblxuUmVwbGFjZVRyYW5zaXRpb24ucHJvcFR5cGVzID0gIGZhbHNlID8gcHJvcFR5cGVzIDoge307XG52YXIgX2RlZmF1bHQgPSBSZXBsYWNlVHJhbnNpdGlvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm5vb3AgPSBub29wO1xuZXhwb3J0cy5yZXR1cm5UcnVlID0gcmV0dXJuVHJ1ZTtcbmV4cG9ydHMuY2hhcklzTnVtYmVyID0gY2hhcklzTnVtYmVyO1xuZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBlc2NhcGVSZWdFeHA7XG5leHBvcnRzLmdldFRob3VzYW5kc0dyb3VwUmVnZXggPSBnZXRUaG91c2FuZHNHcm91cFJlZ2V4O1xuZXhwb3J0cy5zcGxpdERlY2ltYWwgPSBzcGxpdERlY2ltYWw7XG5leHBvcnRzLmZpeExlYWRpbmdaZXJvID0gZml4TGVhZGluZ1plcm87XG5leHBvcnRzLmxpbWl0VG9TY2FsZSA9IGxpbWl0VG9TY2FsZTtcbmV4cG9ydHMucm91bmRUb1ByZWNpc2lvbiA9IHJvdW5kVG9QcmVjaXNpb247XG5leHBvcnRzLm9taXQgPSBvbWl0O1xuZXhwb3J0cy5zZXRDYXJldFBvc2l0aW9uID0gc2V0Q2FyZXRQb3NpdGlvbjtcbmV4cG9ydHMuZmluZENoYW5nZWRJbmRleCA9IGZpbmRDaGFuZ2VkSW5kZXg7XG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XG5leHBvcnRzLmdldEN1cnJlbnRDYXJldFBvc2l0aW9uID0gZ2V0Q3VycmVudENhcmV0UG9zaXRpb247XG5cbi8vIGJhc2ljIG5vb3AgZnVuY3Rpb25cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY2hhcklzTnVtYmVyKGNoYXIpIHtcbiAgcmV0dXJuICEhKGNoYXIgfHwgJycpLm1hdGNoKC9cXGQvKTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1stW1xcXS97fSgpKis/LlxcXFxeJHxdL2csIFwiXFxcXCQmXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRUaG91c2FuZHNHcm91cFJlZ2V4KHRob3VzYW5kc0dyb3VwU3R5bGUpIHtcbiAgc3dpdGNoICh0aG91c2FuZHNHcm91cFN0eWxlKSB7XG4gICAgY2FzZSAnbGFraCc6XG4gICAgICByZXR1cm4gLyhcXGQrPykoPz0oXFxkXFxkKSsoXFxkKSg/IVxcZCkpKFxcLlxcZCspPy9nO1xuXG4gICAgY2FzZSAnd2FuJzpcbiAgICAgIHJldHVybiAvKFxcZCkoPz0oXFxkezR9KSsoPyFcXGQpKS9nO1xuXG4gICAgY2FzZSAndGhvdXNhbmQnOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gLyhcXGQpKD89KFxcZHszfSkrKD8hXFxkKSkvZztcbiAgfVxufSAvL3NwaWx0IGEgZmxvYXQgbnVtYmVyIGludG8gZGlmZmVyZW50IHBhcnRzIGJlZm9yZURlY2ltYWwsIGFmdGVyRGVjaW1hbCwgYW5kIG5lZ2F0aW9uXG5cblxuZnVuY3Rpb24gc3BsaXREZWNpbWFsKG51bVN0cikge1xuICB2YXIgYWxsb3dOZWdhdGl2ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgdmFyIGhhc05hZ2F0aW9uID0gbnVtU3RyWzBdID09PSAnLSc7XG4gIHZhciBhZGROZWdhdGlvbiA9IGhhc05hZ2F0aW9uICYmIGFsbG93TmVnYXRpdmU7XG4gIG51bVN0ciA9IG51bVN0ci5yZXBsYWNlKCctJywgJycpO1xuICB2YXIgcGFydHMgPSBudW1TdHIuc3BsaXQoJy4nKTtcbiAgdmFyIGJlZm9yZURlY2ltYWwgPSBwYXJ0c1swXTtcbiAgdmFyIGFmdGVyRGVjaW1hbCA9IHBhcnRzWzFdIHx8ICcnO1xuICByZXR1cm4ge1xuICAgIGJlZm9yZURlY2ltYWw6IGJlZm9yZURlY2ltYWwsXG4gICAgYWZ0ZXJEZWNpbWFsOiBhZnRlckRlY2ltYWwsXG4gICAgaGFzTmFnYXRpb246IGhhc05hZ2F0aW9uLFxuICAgIGFkZE5lZ2F0aW9uOiBhZGROZWdhdGlvblxuICB9O1xufVxuXG5mdW5jdGlvbiBmaXhMZWFkaW5nWmVybyhudW1TdHIpIHtcbiAgaWYgKCFudW1TdHIpIHJldHVybiBudW1TdHI7XG4gIHZhciBpc05lZ2F0aXZlID0gbnVtU3RyWzBdID09PSAnLSc7XG4gIGlmIChpc05lZ2F0aXZlKSBudW1TdHIgPSBudW1TdHIuc3Vic3RyaW5nKDEsIG51bVN0ci5sZW5ndGgpO1xuICB2YXIgcGFydHMgPSBudW1TdHIuc3BsaXQoJy4nKTtcbiAgdmFyIGJlZm9yZURlY2ltYWwgPSBwYXJ0c1swXS5yZXBsYWNlKC9eMCsvLCAnJykgfHwgJzAnO1xuICB2YXIgYWZ0ZXJEZWNpbWFsID0gcGFydHNbMV0gfHwgJyc7XG4gIHJldHVybiBcIlwiLmNvbmNhdChpc05lZ2F0aXZlID8gJy0nIDogJycpLmNvbmNhdChiZWZvcmVEZWNpbWFsKS5jb25jYXQoYWZ0ZXJEZWNpbWFsID8gXCIuXCIuY29uY2F0KGFmdGVyRGVjaW1hbCkgOiAnJyk7XG59XG4vKipcbiAqIGxpbWl0IGRlY2ltYWwgbnVtYmVycyB0byBnaXZlbiBzY2FsZVxuICogTm90IHVzZWQgLmZpeGVkVG8gYmVjYXVzZSB0aGF0IHdpbGwgYnJlYWsgd2l0aCBiaWcgbnVtYmVyc1xuICovXG5cblxuZnVuY3Rpb24gbGltaXRUb1NjYWxlKG51bVN0ciwgc2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKSB7XG4gIHZhciBzdHIgPSAnJztcbiAgdmFyIGZpbGxlciA9IGZpeGVkRGVjaW1hbFNjYWxlID8gJzAnIDogJyc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2NhbGUgLSAxOyBpKyspIHtcbiAgICBzdHIgKz0gbnVtU3RyW2ldIHx8IGZpbGxlcjtcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIHJlcXVpcmVkIHRvIHJvdW5kIHByb3AgdmFsdWUgdG8gZ2l2ZW4gc2NhbGUuXG4gKiBOb3QgdXNlZCAucm91bmQgb3IgLmZpeGVkVG8gYmVjYXVzZSB0aGF0IHdpbGwgYnJlYWsgd2l0aCBiaWcgbnVtYmVyc1xuICovXG5cblxuZnVuY3Rpb24gcm91bmRUb1ByZWNpc2lvbihudW1TdHIsIHNjYWxlLCBmaXhlZERlY2ltYWxTY2FsZSkge1xuICAvL2lmIG51bWJlciBpcyBlbXB0eSBkb24ndCBkbyBhbnl0aGluZyByZXR1cm4gZW1wdHkgc3RyaW5nXG4gIGlmIChbJycsICctJ10uaW5kZXhPZihudW1TdHIpICE9PSAtMSkgcmV0dXJuIG51bVN0cjtcbiAgdmFyIHNob3VkSGF2ZURlY2ltYWxTZXBhcmF0b3IgPSBudW1TdHIuaW5kZXhPZignLicpICE9PSAtMSAmJiBzY2FsZTtcblxuICB2YXIgX3NwbGl0RGVjaW1hbCA9IHNwbGl0RGVjaW1hbChudW1TdHIpLFxuICAgICAgYmVmb3JlRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYmVmb3JlRGVjaW1hbCxcbiAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYWZ0ZXJEZWNpbWFsLFxuICAgICAgaGFzTmFnYXRpb24gPSBfc3BsaXREZWNpbWFsLmhhc05hZ2F0aW9uO1xuXG4gIHZhciByb3VuZGVkRGVjaW1hbFBhcnRzID0gcGFyc2VGbG9hdChcIjAuXCIuY29uY2F0KGFmdGVyRGVjaW1hbCB8fCAnMCcpKS50b0ZpeGVkKHNjYWxlKS5zcGxpdCgnLicpO1xuICB2YXIgaW50UGFydCA9IGJlZm9yZURlY2ltYWwuc3BsaXQoJycpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKHJvdW5kZWRTdHIsIGN1cnJlbnQsIGlkeCkge1xuICAgIGlmIChyb3VuZGVkU3RyLmxlbmd0aCA+IGlkeCkge1xuICAgICAgcmV0dXJuIChOdW1iZXIocm91bmRlZFN0clswXSkgKyBOdW1iZXIoY3VycmVudCkpLnRvU3RyaW5nKCkgKyByb3VuZGVkU3RyLnN1YnN0cmluZygxLCByb3VuZGVkU3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnQgKyByb3VuZGVkU3RyO1xuICB9LCByb3VuZGVkRGVjaW1hbFBhcnRzWzBdKTtcbiAgdmFyIGRlY2ltYWxQYXJ0ID0gbGltaXRUb1NjYWxlKHJvdW5kZWREZWNpbWFsUGFydHNbMV0gfHwgJycsIE1hdGgubWluKHNjYWxlLCBhZnRlckRlY2ltYWwubGVuZ3RoKSwgZml4ZWREZWNpbWFsU2NhbGUpO1xuICB2YXIgbmVnYXRpb24gPSBoYXNOYWdhdGlvbiA/ICctJyA6ICcnO1xuICB2YXIgZGVjaW1hbFNlcGFyYXRvciA9IHNob3VkSGF2ZURlY2ltYWxTZXBhcmF0b3IgPyAnLicgOiAnJztcbiAgcmV0dXJuIFwiXCIuY29uY2F0KG5lZ2F0aW9uKS5jb25jYXQoaW50UGFydCkuY29uY2F0KGRlY2ltYWxTZXBhcmF0b3IpLmNvbmNhdChkZWNpbWFsUGFydCk7XG59XG5cbmZ1bmN0aW9uIG9taXQob2JqLCBrZXlNYXBzKSB7XG4gIHZhciBmaWx0ZXJlZE9iaiA9IHt9O1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICgha2V5TWFwc1trZXldKSBmaWx0ZXJlZE9ialtrZXldID0gb2JqW2tleV07XG4gIH0pO1xuICByZXR1cm4gZmlsdGVyZWRPYmo7XG59XG4vKiogc2V0IHRoZSBjYXJldCBwb3NpdG9uIGluIGFuIGlucHV0IGZpZWxkICoqL1xuXG5cbmZ1bmN0aW9uIHNldENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zKSB7XG4gIGVsLnZhbHVlID0gZWwudmFsdWU7IC8vIF4gdGhpcyBpcyB1c2VkIHRvIG5vdCBvbmx5IGdldCBcImZvY3VzXCIsIGJ1dFxuICAvLyB0byBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBpdCBldmVyeXRoaW5nIC1zZWxlY3RlZC1cbiAgLy8gKGl0IGNhdXNlcyBhbiBpc3N1ZSBpbiBjaHJvbWUsIGFuZCBoYXZpbmcgaXQgZG9lc24ndCBodXJ0IGFueSBvdGhlciBicm93c2VyKVxuXG4gIGlmIChlbCAhPT0gbnVsbCkge1xuICAgIGlmIChlbC5jcmVhdGVUZXh0UmFuZ2UpIHtcbiAgICAgIHZhciByYW5nZSA9IGVsLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgcmFuZ2UubW92ZSgnY2hhcmFjdGVyJywgY2FyZXRQb3MpO1xuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIChlbC5zZWxlY3Rpb25TdGFydCA9PT0gMCBhZGRlZCBmb3IgRmlyZWZveCBidWcpXG5cblxuICAgIGlmIChlbC5zZWxlY3Rpb25TdGFydCB8fCBlbC5zZWxlY3Rpb25TdGFydCA9PT0gMCkge1xuICAgICAgZWwuZm9jdXMoKTtcbiAgICAgIGVsLnNldFNlbGVjdGlvblJhbmdlKGNhcmV0UG9zLCBjYXJldFBvcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIGZhaWwgY2l0eSwgZm9ydHVuYXRlbHkgdGhpcyBuZXZlciBoYXBwZW5zIChhcyBmYXIgYXMgSSd2ZSB0ZXN0ZWQpIDopXG5cblxuICAgIGVsLmZvY3VzKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4vKipcbiAgR2l2ZW4gcHJldmlvdXMgdmFsdWUgYW5kIG5ld1ZhbHVlIGl0IHJldHVybnMgdGhlIGluZGV4XG4gIHN0YXJ0IC0gZW5kIHRvIHdoaWNoIHZhbHVlcyBoYXZlIGNoYW5nZWQuXG4gIFRoaXMgZnVuY3Rpb24gbWFrZXMgYXNzdW1wdGlvbiBhYm91dCBvbmx5IGNvbnNlY3V0aXZlXG4gIGNoYXJhY3RlcnMgYXJlIGNoYW5nZWQgd2hpY2ggaXMgY29ycmVjdCBhc3N1bXB0aW9uIGZvciBjYXJldCBpbnB1dC5cbiovXG5cblxuZnVuY3Rpb24gZmluZENoYW5nZWRJbmRleChwcmV2VmFsdWUsIG5ld1ZhbHVlKSB7XG4gIHZhciBpID0gMCxcbiAgICAgIGogPSAwO1xuICB2YXIgcHJldkxlbmd0aCA9IHByZXZWYWx1ZS5sZW5ndGg7XG4gIHZhciBuZXdMZW5ndGggPSBuZXdWYWx1ZS5sZW5ndGg7XG5cbiAgd2hpbGUgKHByZXZWYWx1ZVtpXSA9PT0gbmV3VmFsdWVbaV0gJiYgaSA8IHByZXZMZW5ndGgpIHtcbiAgICBpKys7XG4gIH0gLy9jaGVjayB3aGF0IGhhcyBiZWVuIGNoYW5nZWQgZnJvbSBsYXN0XG5cblxuICB3aGlsZSAocHJldlZhbHVlW3ByZXZMZW5ndGggLSAxIC0gal0gPT09IG5ld1ZhbHVlW25ld0xlbmd0aCAtIDEgLSBqXSAmJiBuZXdMZW5ndGggLSBqID4gaSAmJiBwcmV2TGVuZ3RoIC0gaiA+IGkpIHtcbiAgICBqKys7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBpLFxuICAgIGVuZDogcHJldkxlbmd0aCAtIGpcbiAgfTtcbn1cbi8qXG4gIFJldHVybnMgYSBudW1iZXIgd2hvc2UgdmFsdWUgaXMgbGltaXRlZCB0byB0aGUgZ2l2ZW4gcmFuZ2VcbiovXG5cblxuZnVuY3Rpb24gY2xhbXAobnVtLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q2FyZXRQb3NpdGlvbihlbCkge1xuICAvKk1heCBvZiBzZWxlY3Rpb25TdGFydCBhbmQgc2VsZWN0aW9uRW5kIGlzIHRha2VuIGZvciB0aGUgcGF0Y2ggb2YgcGl4ZWwgYW5kIG90aGVyIG1vYmlsZSBkZXZpY2UgY2FyZXQgYnVnKi9cbiAgcmV0dXJuIE1hdGgubWF4KGVsLnNlbGVjdGlvblN0YXJ0LCBlbC5zZWxlY3Rpb25FbmQpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cbnZhciBfQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0J1dHRvbik7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9pY29ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfRGlhbG9nQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcxKTtcblxudmFyIF9EaWFsb2dBY3Rpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ0FjdGlvbnMpO1xuXG52YXIgX0RpYWxvZ1RpdGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXG52YXIgX0RpYWxvZ1RpdGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZ1RpdGxlKTtcblxudmFyIF9FcnJvciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMxKTtcblxudmFyIF9FcnJvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FcnJvcik7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfR3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX0dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZCk7XG5cbnZhciBfU2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXG52YXIgX1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3QpO1xuXG52YXIgX01lbnVJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzApO1xuXG52YXIgX01lbnVJdGVtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lbnVJdGVtKTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNik7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY3VsYXJQcm9ncmVzcyk7XG5cbnZhciBfQ3VzdG9tRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzApO1xuXG52YXIgX0N1c3RvbURpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdXN0b21EaWFsb2cpO1xuXG52YXIgX2RhdGVGbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NSk7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgX2Jhc2VTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlU3R5bGUpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBzdW1tYXJ5OiB7XG4gICAgICAgIHN1bW1hcnk6IFwiXCJcbiAgICB9LFxuICAgIHJlYXNvbkNvZGVMaXN0OiBcIlwiLFxuICAgIGNvcnJlY3RJbnZvaWNlczogXCJcIixcbiAgICBpbmNvcnJlY3RGbGFnOiBcIlwiLFxuICAgIHRvZ2dsZUV4cGFuZDogXCJcIlxufTtcblxuLy9jb25zdGFudHNcbi8vIGNvbnN0IERpc3B1dGVSZWdleCA9IC8oRGlzcHV0ZSBmb3IgXFxkKil8KFswLTldezR9Wy1dWzAtOV17Mn1bLV1bMC05XXsyfSl8KFxcZCogaW52b2ljZSkvZztcbnZhciBkaXNwdXRlUmVnZXggPSAvKFxcZCogaW52b2ljZSl8KGJlY2F1c2Ugb2YgLiopL2c7XG52YXIgZGlzY2FyZE1lc3NhZ2UgPSBcIlRoaXMgd2lsbCBiZSByZW1vdmVkIHBlcm1hbmVudGx5IGZyb20gdGhlIHN1Z2dlc3RlZCBhY3Rpb25zLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLlwiO1xudmFyIHJlc29sdmVNZXNzYWdlID0gXCIgVW5hYmxlIHRvIGNvbXBsZXRlIHRoZSBhY3Rpb24uIFBsZWFzZSByZXNvbHZlIHRoZSBlcnJvcnMgdG8gYXBwcm92ZS5cIjtcbnZhciBub1JlYXNvbk1lc3NhZ2UgPSBcIlBsZWFzZSBzZWxlY3QgYXBwcm9wcmlhdGUgZGlzcHV0ZSByZWFzb24uXCI7XG52YXIgbm9JbnZvaWNlTWVzc2FnZSA9IFwiTm8gaW52b2ljZSBzZWxlY3RlZC4gUGxlYXNlIGFkZCBhdCBsZWFzdCBhbiBpbnZvaWNlIHRvIHNhdmUgdGhlIGRpc3B1dGUuXCI7XG52YXIgRElTUFVURV9URU1QTEFURSA9IFwiRGlzcHV0ZSByYWlzZWQgZm9yIDxJbnZvaWNlcz4gYmVjYXVzZSBvZiA6IDxESVNQVVRFLVJFQVNPTj5cIjtcbnZhciBESVNQVVRFX09SSUdfVEVNUExBVEUgPSBcIkNyZWF0ZSBEaXNwdXRlIGZvciA8SW52b2ljZXM+IGJlY2F1c2Ugb2YgPFJlYXNvbkNvZGU+XCI7XG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHtcblxuICAgICAgICBzZWxlY3RNZW51Q2xhc3M6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY1LFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIG1lbnVJdGVtUm9vdDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgIWltcG9ydGFudFwiXG4gICAgICAgIH0sXG4gICAgICAgIG1lbnVQYXBlcjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcmVtICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkIHdoaXRlXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVzdDoge1xuICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgICAgICAgIHBhZGRpbmc6ICcwcHgnLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNlxuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25Qcm9ncmVzc0Jhcjoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxLjVyZW0gIWltcG9ydGFudFwiXG5cbiAgICAgICAgfSxcblxuICAgICAgICB0ZXh0RmllbGQ6IHtcbiAgICAgICAgICAgIG1hcmdpbjogXCIwcHhcIixcbiAgICAgICAgICAgIC8vIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXG4gICAgICAgICAgICAvLyBwYWRkaW5nOiBcIjBweFwiLFxuICAgICAgICAgICAgLy8gbWF4V2lkdGg6IFwiMTIwcHhcIixcbiAgICAgICAgICAgIC8vIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIHRlc3RJbml0aWFsOiB7XG4gICAgICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgb3BhY2l0eTogMC42LFxuXG4gICAgICAgICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjYXJkQ29udGVudDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgb3BhY2l0eTogMC42NVxuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25JY29uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBlcnJvckZsYWc6IHtcbiAgICAgICAgICAgIGNvbG9yOiBcIiNGRjQ0NDRcIixcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RJY29uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlRG9uZUJ0bjoge1xuICAgICAgICAgICAgb3BhY2l0eTogMC40LFxuICAgICAgICAgICAgY3Vyc29yOiBcImRlZmF1bHRcIlxuXG4gICAgICAgICAgICAvLyB0ZXN0OiB7XG4gICAgICAgICAgICAvLyAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgICAgICAgIC8vICAgICBwYWRkaW5nOiAnMHB4JyxcbiAgICAgICAgICAgIC8vICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgICAvLyAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgICAgICAgIC8vICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICAvLyAgICAgb3BhY2l0eTogMC42LFxuXG4gICAgICAgICAgICAvLyAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgIzVEQUFFMFwiLFxuICAgICAgICAgICAgLy8gICAgIH0sXG4gICAgICAgICAgICAvLyAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgIC8vICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjNURBQUUwXCIsXG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgIC8vIHRlc3RJbml0aWFsOiB7XG4gICAgICAgICAgICAvLyAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgICAgICAgIC8vICAgICBwYWRkaW5nOiAnMHB4JyxcbiAgICAgICAgICAgIC8vICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgICAvLyAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgICAgICAgICAgIC8vICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICAvLyAgICAgb3BhY2l0eTogMC42LFxuXG4gICAgICAgICAgICAvLyAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiLFxuICAgICAgICAgICAgLy8gICAgIH0sXG4gICAgICAgICAgICAvLyAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgIC8vICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCIsXG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gfSxcblxuICAgICAgICB9IH07XG59O1xuXG52YXIgRGlzcHV0ZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKERpc3B1dGUsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRGlzcHV0ZShwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlzcHV0ZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERpc3B1dGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEaXNwdXRlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cbiAgICAgICAgdmFyIGV4dHJhY3RlZERhdGEgPSBfdGhpcy5wcm9wcy5zdW1tYXJ5ICYmIF90aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeSA/IF90aGlzLnByb3BzLnN1bW1hcnkuc3VtbWFyeS5tYXRjaChkaXNwdXRlUmVnZXgpIDogXCJcIjtcbiAgICAgICAgLy8gbGV0IGV4dHJhY3RlZEFtb3VudCA9IGV4dHJhY3RlZERhdGFbMF0ubWF0Y2goL1swLTldezEsfS8pO1xuICAgICAgICAvLyBpZiAoIWV4dHJhY3RlZEFtb3VudCkgZXh0cmFjdGVkQW1vdW50ID0gMDsgICAgICAgIFxuXG4gICAgICAgIC8vIGxldCBub09mSW52b2ljZXMgPSBleHRyYWN0ZWREYXRhWzBdID8gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9LykgOiAwO1xuXG4gICAgICAgIC8vIGlmICghbm9PZkludm9pY2VzKSB7XG4gICAgICAgIC8vICAgICBub09mSW52b2ljZXMgPSAwO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgdmFyIHJlYXNvbkNvZGUgPSBleHRyYWN0ZWREYXRhWzFdID8gZXh0cmFjdGVkRGF0YVsxXS5zdWJzdHJpbmcoMTEpIDogXCJcIjtcbiAgICAgICAgdmFyIHJlYXNvbkNvZGVzID0gX3RoaXMucHJvcHMucmVhc29uQ29kZUxpc3Q7XG5cbiAgICAgICAgaWYgKHJlYXNvbkNvZGVzLmluZGV4T2YocmVhc29uQ29kZSkgPCAwKSB7XG4gICAgICAgICAgICByZWFzb25Db2RlID0gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcmVhc29uQ29kZTogcmVhc29uQ29kZSxcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogX3RoaXMucHJvcHMuaW52b2ljZUNvdW50LFxuICAgICAgICAgICAgb3BlbkFjdGlvblNhdmU6IGZhbHNlLFxuICAgICAgICAgICAgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlLFxuICAgICAgICAgICAgb3Blbk5vUmVhc29uRGlhbG9nOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5Ob0ludm9pY2VEaWFsb2c6IGZhbHNlLFxuICAgICAgICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxuICAgICAgICAgICAgYWN0aW9uSWQ6IF90aGlzLnByb3BzLnN1bW1hcnkuaWQsXG4gICAgICAgICAgICBpc0RvbmU6IF90aGlzLnByb3BzLnN1bW1hcnkuc2F2ZSxcbiAgICAgICAgICAgIC8vIGlzRG9uZTogZmFsc2UsXG4gICAgICAgICAgICBmaW5hbFNlbGVjdGVkRGF0ZTogXCJcIixcbiAgICAgICAgICAgIC8vIHJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aDogcmVhc29uQ29kZSA/IChcIlwiICsgcmVhc29uQ29kZSkubGVuZ3RoICogMTIgOiA1MCxcbiAgICAgICAgICAgIGNoYW5nZTogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhEaXNwdXRlLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogbmV4dFByb3BzLmluY29ycmVjdEZsYWdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobmV4dFByb3BzLmludm9pY2VDb3VudCA+PSAwICYmIG5leHRQcm9wcy5pbnZvaWNlQ291bnQgIT0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZUNvdW50OiBuZXh0UHJvcHMuaW52b2ljZUNvdW50IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vKmNoYW5nZSogYm90dG9uIDMgZnVuY3Rpb25zXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHRoaXMucHJvcHMuY2xhc3NlcztcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5ID0gdGhpcy5wcm9wcy5zdW1tYXJ5O1xuICAgICAgICAgICAgdmFyIGZ1bGxTY3JlZW4gPSB0aGlzLnByb3BzLmZ1bGxTY3JlZW47XG5cblxuICAgICAgICAgICAgdmFyIHJlYXNvbkNvZGVzID0gdGhpcy5wcm9wcy5yZWFzb25Db2RlTGlzdDtcbiAgICAgICAgICAgIHZhciBvcHRpb25JdGVtcyA9IHJlYXNvbkNvZGVzICYmIHJlYXNvbkNvZGVzLm1hcChmdW5jdGlvbiAocmVhc29uQ29kZSwgaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IGlkLCBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sIHZhbHVlOiByZWFzb25Db2RlIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbkNvZGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7IGNvbnRhaW5lcjogdHJ1ZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmludm9pY2VTYW1wbGUgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDEwLCBtZDogMTAsIGxnOiAxMCwgY29udGFpbmVyOiB0cnVlLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeTogJ2ZsZXgtc3RhcnQnIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiBcIjNyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFjdGlvblNhdmVQcm9ncmVzc0JhciAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2lyY3VsYXJQcm9ncmVzczIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuYWN0aW9uUHJvZ3Jlc3NCYXIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuRG9uZSwgeyBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIsIHBhZGRpbmdMZWZ0OiBcIjAuNXJlbVwiLCBwYWRkaW5nUmlnaHQ6IFwiMC41cmVtXCIsIGhlaWdodDogXCIxLjVyZW1cIiwgd2lkdGg6IFwiMS41cmVtXCIgfSB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZWQgXFx4QTAnXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDEgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZSBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250V2VpZ2h0OiBcImJvbGRcIiwgb3BhY2l0eTogMSB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRElTUFVURSBcXHhBMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgIT09IDAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBkaXNwbGF5OiBcImZsZXhcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpbjogXCIwIDhweCAwIDZweFwiIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGZvbnRXZWlnaHQ6ICdib2xkJyB9LCBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnQsIG9uQ2xpY2s6IHRoaXMucHJvcHMudG9nZ2xlRXhwYW5kIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ICsgXCIgSW52b2ljZVwiICsgKHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMSA/IFwic1wiIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaW5jb3JyZWN0RmxhZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRXJyb3IyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVycm9yRmxhZyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHhBMCB3aXRoIHJlYXNvbiBjb2RlIG9mIFxceEEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUucmVhc29uQ29kZVRleHRGaWVsZFdpZHRoIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBoaWRkZW46IHRoaXMuc3RhdGUuaXNEb25lXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX1NlbGVjdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAncmVhc29uLWNvZGUtZmllbGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5nZXRSZWFzb25Db2RlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVJlYXNvbkNvZGVDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5yZWFzb25Db2RlID8gY2xhc3Nlcy50ZXN0IDogY2xhc3Nlcy50ZXN0SW5pdGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBzZWxlY3RNZW51OiBjbGFzc2VzLnNlbGVjdE1lbnVDbGFzcywgaWNvbjogY2xhc3Nlcy5zZWxlY3RJY29uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnVQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcGVyOiBjbGFzc2VzLm1lbnVQYXBlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01lbnVJdGVtMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzZXM6IHsgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfSwgdmFsdWU6ICdTZWxlY3QnLCBkaXNhYmxlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uSXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaXRlbTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLnJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaGlkZGVuOiAhdGhpcy5zdGF0ZS5pc0RvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwicmVhc29uLWNvZGUtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zZWxlY3RlZFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5yZWFzb25Db2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW52b2ljZUN1cnJlbmN5Q2hhbmdlKFwiYW1vdW50XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbWFyZ2luOiAnbm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnbm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnB1dENvbXBvbmVudDogTnVtYmVyRm9ybWF0Q3VzdG9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHsgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuQWN0aW9uU2F2ZSxcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZUFjdGlvblNhdmVEaWFsb2csIHRpdGxlOiBkaXNjYXJkTWVzc2FnZSwgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBcIkN1c3RvbURpYWxvZ1wiICsgMCwgb25DbGljazogdGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2csIGNvbG9yOiAnc2Vjb25kYXJ5JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0Rpc2FncmVlJ1xuICAgICAgICAgICAgICAgICAgICApLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJDdXN0b21EaWFsb2dcIiArIDAsIG9uQ2xpY2s6IHRoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nLCBjb2xvcjogJ3ByaW1hcnknLCBhdXRvRm9jdXM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdBZ3JlZSdcbiAgICAgICAgICAgICAgICAgICAgKV0gfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0N1c3RvbURpYWxvZzIuZGVmYXVsdCwgeyBmdWxsU2NyZWVuOiBmdWxsU2NyZWVuLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5XYXJuaW5nRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZywgdGl0bGU6IHJlc29sdmVNZXNzYWdlLCBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwiQ3VzdG9tRGlhbG9nXCIgKyAwLCBvbkNsaWNrOiB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZywgY29sb3I6ICdwcmltYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHsgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuTm9SZWFzb25EaWFsb2csXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZywgdGl0bGU6IG5vUmVhc29uTWVzc2FnZSwgYWN0aW9uczogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBcIkN1c3RvbURpYWxvZ1wiICsgMCwgb25DbGljazogdGhpcy5jbG9zZU5vUmVhc29uRGlhbG9nLCBjb2xvcjogJ3NlY29uZGFyeScsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICAgICAgICAgICApXSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7IGZ1bGxTY3JlZW46IGZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3Blbk5vSW52b2ljZURpYWxvZyxcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZywgdGl0bGU6IG5vSW52b2ljZU1lc3NhZ2UsIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJDdXN0b21EaWFsb2dcIiArIDAsIG9uQ2xpY2s6IHRoaXMuY2xvc2VOb0ludm9pY2VEaWFsb2csIGNvbG9yOiAnc2Vjb25kYXJ5JywgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICAgICAgICldIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogMiwgbWQ6IDIsIGxnOiAyIH0sXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5IaWdobGlnaHRPZmYsIHsgc3R5bGU6IHsgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIgfSwgb25DbGljazogdGhpcy5vcGVuQWN0aW9uRGlzY2FyZERpYWxvZyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5DaGVja0NpcmNsZU91dGxpbmUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCIjNUZDMzJDXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUucmVhc29uQ29kZSA/IFwiXCIgOiBjbGFzc2VzLmRpc2FibGVEb25lQnRuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc3RhdGUucmVhc29uQ29kZSA/IHRoaXMuc2F2ZURpc3B1dGUgOiBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb24gfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGlzcHV0ZTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHRoaXMuc2F2ZURpc3B1dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzMy5wcm9wcy5jb3JyZWN0SW52b2ljZXMubWFwKGZ1bmN0aW9uIChpbnZvaWNlKSB7XG4gICAgICAgICAgICB2YXIgaW52b2ljZU9iaiA9IHt9O1xuICAgICAgICAgICAgaW52b2ljZU9iai5jbXNEb2NIZWFkZXJJZCA9IGludm9pY2UuaWQ7XG4gICAgICAgICAgICByZXR1cm4gaW52b2ljZU9iajtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5pbmNvcnJlY3RGbGFnKSB7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGUpIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Ob1JlYXNvbkRpYWxvZzogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpczMuc3RhdGUuaW52b2ljZUNvdW50ID09IDApIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Ob0ludm9pY2VEaWFsb2c6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IHRydWUgfSk7XG5cbiAgICAgICAgdmFyIHJlcU9iaiA9IHtcbiAgICAgICAgICAgIC8vIGFjdHVhbERpc3B1dGVBbW91bnQ6IHRoaXMuc3RhdGUuYW1vdW50LFxuICAgICAgICAgICAgcmVhc29uQ29kZTogX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGUsXG4gICAgICAgICAgICBjdXN0b21lcklkOiBfdGhpczMucHJvcHMuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBkaXNwdXRlSXRlbXM6IGludm9pY2VzXG4gICAgICAgIH07XG5cbiAgICAgICAgX2F4aW9zMi5kZWZhdWx0LnBvc3QoX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyAnL2N1c3RvbWVyLycgKyBfdGhpczMucHJvcHMuY3VzdG9tZXIuaWQgKyAnL2Rpc3B1dGUnLCByZXFPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJTVUNDRVNTXCIpO1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNEb25lOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL3VwZGF0ZSBmbGFnIGluIGFjdGlvbnMgfCBwb3N0IGNhbGwgXG4gICAgICAgICAgICB2YXIgc3VtbWFyeVRvU2F2ZSA9IF90aGlzMy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5vbkNvbXBsZXRpb24oKTtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5vbkFjdGlvbkl0ZW1Db25maXJtKHN1bW1hcnlUb1NhdmUpO1xuICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdlbmVyYXRlQWN0aW9uU3VtbWFyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlQ291bnQ7XG5cbiAgICAgICAgdmFyIGdlbmVyYXRlZFN1bW1hcnkgPSBESVNQVVRFX1RFTVBMQVRFLnJlcGxhY2UoXCI8RElTUFVURS1SRUFTT04+XCIsIF90aGlzMy5zdGF0ZS5yZWFzb25Db2RlKS5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCBpbnZvaWNlQ291bnQgPT0gMSA/IGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpO1xuXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZWRTdW1tYXJ5O1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZVN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlQ291bnQ7XG4gICAgICAgIHZhciBmb3JtYXR0ZWREYXRlID0gKDAsIF9kYXRlRm5zLmZvcm1hdCkobmV3IERhdGUoX3RoaXMzLnN0YXRlLnNlbGVjdGVkRGF0ZSksIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgdmFyIHVwZGF0ZWRTdW1tYXJ5ID0gRElTUFVURV9PUklHX1RFTVBMQVRFLnJlcGxhY2UoXCI8SW52b2ljZXM+XCIsIGludm9pY2VDb3VudCA9PT0gMCA/IFwiPFggaW52b2ljZXM+XCIgOiBpbnZvaWNlQ291bnQgPT09IDEgPyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlXCIgOiBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlc1wiKS5yZXBsYWNlKFwiPFJlYXNvbkNvZGU+XCIsIF90aGlzMy5zdGF0ZS5yZWFzb25Db2RlKTtcbiAgICAgICAgX3RoaXMzLnByb3BzLnVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBfdGhpczMucHJvcHMub3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZSk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLmRlbGV0ZUFjdGlvbihfdGhpczMuc3RhdGUuYWN0aW9uSWQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZU5vUmVhc29uRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuTm9SZWFzb25EaWFsb2c6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlTm9JbnZvaWNlRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuTm9JbnZvaWNlRGlhbG9nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVSZWFzb25Db2RlQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjaGFuZ2U6IHRydWUsXG4gICAgICAgICAgICByZWFzb25Db2RlOiBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgIC8vIHJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aDogZXZlbnQudGFyZ2V0LnZhbHVlID8gKFwiXCIgKyBldmVudC50YXJnZXQudmFsdWUubGVuZ3RoKSAqIDEyIDogNTBcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0UmVhc29uQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlYXNvbkNvZGVzID0gX3RoaXMzLnByb3BzLnJlYXNvbkNvZGVMaXN0O1xuICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGUgJiYgcmVhc29uQ29kZXMuaW5kZXhPZihfdGhpczMuc3RhdGUucmVhc29uQ29kZSkgPj0gMCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuIFwiU2VsZWN0XCI7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLnN0YXRlLnJlYXNvbkNvZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiU2VsZWN0XCI7XG4gICAgfTtcbn07XG5cbkRpc3B1dGUucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cbkRpc3B1dGUuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG52YXIgY29tYmluZWRTdHlsZSA9ICgwLCBfY29tYmluZVN0eWxlczIuZGVmYXVsdCkoc3R5bGVzLCBfYmFzZVN0eWxlMi5kZWZhdWx0KTtcbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKERpc3B1dGUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjA5OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG52YXIgX0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CdXR0b24pO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbnZhciBfZGF0ZUZucyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3NSk7XG5cbnZhciBfZGF0ZUZuczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlRm5zKTtcblxudmFyIF9tYXRlcmlhbFVpUGlja2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3Nik7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX2JsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMyk7XG5cbnZhciBfYmx1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ibHVlKTtcblxudmFyIF9UeXBvZ3JhcGh5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfVHlwb2dyYXBoeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UeXBvZ3JhcGh5KTtcblxudmFyIF9UZXh0RmllbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNik7XG5cbnZhciBfVGV4dEZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWVsZCk7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfcmVhY3ROdW1iZXJGb3JtYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNzcpO1xuXG52YXIgX3JlYWN0TnVtYmVyRm9ybWF0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0TnVtYmVyRm9ybWF0KTtcblxudmFyIF9HcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfR3JpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmlkKTtcblxudmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfTWVudUl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MCk7XG5cbnZhciBfTWVudUl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVudUl0ZW0pO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmN1bGFyUHJvZ3Jlc3MpO1xuXG52YXIgX0N1c3RvbURpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzMwKTtcblxudmFyIF9DdXN0b21EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ3VzdG9tRGlhbG9nKTtcblxudmFyIF9kYXRlRm5zMyA9IF9fd2VicGFja19yZXF1aXJlX18oMTc1KTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cbnZhciBfaGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cbnZhciBfY29tYmluZVN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYmluZVN0eWxlcyk7XG5cbnZhciBfYmFzZVN0eWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cbnZhciBfYmFzZVN0eWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jhc2VTdHlsZSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vY29uc3RhbnRzXG52YXIgZm9sbG93dXBSZWdleCA9IC8oXFxkezR9LVxcZHsyfS1cXGR7Mn1UW1xcZHsyfTpdKi5cXGR7M31bLXwrXVxcZHsyfTpcXGR7Mn0pfChyZWFzb246IC4qKS9nO1xudmFyIGRpc2NhcmRNZXNzYWdlID0gXCJUaGlzIHdpbGwgYmUgcmVtb3ZlZCBwZXJtYW5lbnRseSBmcm9tIHRoZSBzdWdnZXN0ZWQgYWN0aW9ucy4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS5cIjtcbnZhciByZXNvbHZlTWVzc2FnZSA9IFwiIFVuYWJsZSB0byBjb21wbGV0ZSB0aGUgYWN0aW9uLiBQbGVhc2UgcmVzb2x2ZSB0aGUgZXJyb3JzIHRvIGFwcHJvdmUuXCI7XG52YXIgbm9UZXh0TWVzc2FnZSA9IFwiUGxlYXNlIHNlbGVjdCBhcHByb3ByaWF0ZSBmb2xsb3d1cCByZWFzb24uXCI7XG52YXIgaW52YWxpZERhdGVNZXNzYWdlID0gXCJGb3VuZCBpbnZhbGlkIGRhdGUuIFBsZWFzZSBjb3JyZWN0IHRoZSBkYXRlIHRvIHByb2NlZWQuXCI7XG52YXIgRk9MTE9XVVBfVEVNUExBVEUgPSBcIkZvbGxvdyB1cCAgPENvbnRhY3QgTmFtZT4gPEZvbGxvd3VwIERhdGU+IDxGb2xsb3d1cCBUZXh0PlwiO1xudmFyIEZPTExPV1VQX09SSUdfVEVNUExBVEUgPSBcIkNyZWF0ZSBGb2xsb3d1cCBldmVudCBmb3IgPEZvbGxvd3VwIERhdGU+IHJlYXNvbjogPEZvbGxvd3VwIFRleHQ+XCI7XG52YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgc2VsZWN0TWVudUNsYXNzOiB7XG4gICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxuICAgICAgb3BhY2l0eTogMC42NSxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgIH0sXG4gICAgbWVudUl0ZW1Sb290OiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9LFxuICAgIG1lbnVQYXBlcjoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxuICAgICAgaGVpZ2h0OiBcIjIwcmVtICFpbXBvcnRhbnRcIixcbiAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICBib3JkZXI6IFwiMnB4IHNvbGlkIHdoaXRlXCJcbiAgICB9LFxuICAgIHRlc3Q6IHtcbiAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgIHBhZGRpbmc6IFwiMHB4XCIsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBvcGFjaXR5OiAwLjYsXG4gICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxuICAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2ZmNDU0M1wiXG4gICAgICB9LFxuICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIHRlc3RJbml0aWFsOiB7XG4gICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgb3BhY2l0eTogMC42LFxuXG4gICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjZmY0NTQzXCJcbiAgICAgIH0sXG4gICAgICBcIiY6YWZ0ZXJcIjoge1xuICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIlxuICAgICAgfVxuICAgIH0sXG4gICAgYWN0aW9uUHJvZ3Jlc3NCYXI6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICB3aWR0aDogXCIxLjVyZW0gIWltcG9ydGFudFwiLFxuICAgICAgcGFkZGluZ0xlZnQ6IFwiMC41cmVtXCIsXG4gICAgICBwYWRkaW5nUmlnaHQ6IFwiMC41cmVtXCIsXG4gICAgICBoZWlnaHQ6IFwiMS41cmVtICFpbXBvcnRhbnRcIlxuICAgIH0sXG4gICAgY2FyZENvbnRlbnQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIG9wYWNpdHk6IDAuNjVcbiAgICB9LFxuICAgIGFjdGlvbkljb246IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgfSxcbiAgICBzZWxlY3RJY29uOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgIH0sXG4gICAgZGlzYWJsZURvbmVCdG46IHtcbiAgICAgIG9wYWNpdHk6IDAuNCxcbiAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCJcbiAgICB9XG4gIH07XG59O1xuXG52YXIgbWF0ZXJpYWxUaGVtZSA9ICgwLCBfY29yZS5jcmVhdGVNdWlUaGVtZSkoe1xuICBvdmVycmlkZXM6IHtcbiAgICBNdWlQaWNrZXJzVG9vbGJhcjoge1xuICAgICAgdG9vbGJhcjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IF9ibHVlMi5kZWZhdWx0LkEyMDAsXG4gICAgICAgIGhlaWdodDogXCIxM3ZoXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aVBpY2tlcnNDYWxlbmRhckhlYWRlcjoge1xuICAgICAgc3dpdGNoSGVhZGVyOiB7XG4gICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjogbGlnaHRCbHVlLkEyMDAsXG4gICAgICAgIC8vIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgfVxuICAgIH0sXG4gICAgTXVpUGlja2Vyc0RheToge1xuICAgICAgZGF5OiB7XG4gICAgICAgIGNvbG9yOiBfYmx1ZTIuZGVmYXVsdC5BNzAwXG4gICAgICB9LFxuICAgICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBfYmx1ZTIuZGVmYXVsdFtcIjQwMFwiXVxuICAgICAgfSxcbiAgICAgIGN1cnJlbnQ6IHtcbiAgICAgICAgY29sb3I6IF9ibHVlMi5kZWZhdWx0W1wiOTAwXCJdXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlGb3JtSGVscGVyVGV4dDoge1xuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29sb3I6IFwiI0ZGODg4OCAhaW1wb3J0YW50XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aVBpY2tlcnNNb2RhbDoge1xuICAgICAgZGlhbG9nQWN0aW9uOiB7XG4gICAgICAgIGNvbG9yOiBfYmx1ZTIuZGVmYXVsdFtcIjQwMFwiXVxuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cbnZhciBGb2xsb3d1cCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhGb2xsb3d1cCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRm9sbG93dXAocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9sbG93dXApO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEZvbGxvd3VwLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRm9sbG93dXApKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgdmFyIGV4dHJhY3RlZERhdGEgPSBfdGhpcy5wcm9wcy5zdW1tYXJ5LnN1bW1hcnkubWF0Y2goZm9sbG93dXBSZWdleCk7XG4gICAgdmFyIHNlbGVjdGVkRGF0ZSA9IFwiXCI7XG4gICAgdmFyIGZvbGxvd3VwVGV4dCA9IFwiXCI7XG4gICAgaWYgKGV4dHJhY3RlZERhdGEgJiYgZXh0cmFjdGVkRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICBzZWxlY3RlZERhdGUgPSBuZXcgRGF0ZShleHRyYWN0ZWREYXRhWzBdKTtcbiAgICAgIGZvbGxvd3VwVGV4dCA9IGV4dHJhY3RlZERhdGFbMV0gPyBleHRyYWN0ZWREYXRhWzFdLnN1YnN0cmluZyg4KSA6IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGZvbGxvd3VwVGV4dHMgPSBfdGhpcy5wcm9wcy5mb2xsb3d1cFRleHRMaXN0O1xuXG4gICAgaWYgKGZvbGxvd3VwVGV4dHMuaW5kZXhPZihmb2xsb3d1cFRleHQpIDwgMCkge1xuICAgICAgZm9sbG93dXBUZXh0ID0gXCJcIjtcbiAgICB9XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgIGZvbGxvd3VwVGV4dDogZm9sbG93dXBUZXh0LFxuICAgICAgc2VsZWN0ZWREYXRlOiBuZXcgRGF0ZShzZWxlY3RlZERhdGUpLFxuICAgICAgb3BlbkFjdGlvblNhdmU6IGZhbHNlLFxuICAgICAgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlLFxuICAgICAgb3BlbkludmFsaWREYXRlRGlhbG9nOiBmYWxzZSxcbiAgICAgIG9wZW5Qcm9ncmVzc0JhcjogdHJ1ZSxcbiAgICAgIGFjdGlvbklkOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxuICAgICAgaXNEb25lOiBfdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUsXG4gICAgICBmaW5hbFNlbGVjdGVkRGF0ZTogX3RoaXMucHJvcHMuc3VtbWFyeS5zYXZlID8gKDAsIF9kYXRlRm5zMy5mb3JtYXQpKG5ldyBEYXRlKGV4dHJhY3RlZERhdGFbMF0pLCBcIk1NTSBkZCwgeXl5eVwiKSA6IFwiXCIsXG4gICAgICAvLyBmb2xsb3d1cFRleHRGaWVsZFdpZHRoOiBmb2xsb3d1cFRleHQgPyAoXCJcIiArIGZvbGxvd3VwVGV4dCkubGVuZ3RoICogMTIgOiA1MCxcbiAgICAgIGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UsXG4gICAgICBpbmNvcnJlY3RGbGFnOiBudWxsXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRm9sbG93dXAsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaW5jb3JyZWN0RmxhZzogbmV4dFByb3BzLmluY29ycmVjdEZsYWdcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgY2xhc3NlcyA9IHRoaXMucHJvcHMuY2xhc3NlcztcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN1bW1hcnkgPSBfcHJvcHMuc3VtbWFyeSxcbiAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcbiAgICAgIHZhciBmdWxsU2NyZWVuID0gdGhpcy5wcm9wcy5mdWxsU2NyZWVuO1xuXG5cbiAgICAgIHZhciBmb2xsb3d1cFRleHRzID0gdGhpcy5wcm9wcy5mb2xsb3d1cFRleHRMaXN0O1xuICAgICAgdmFyIG9wdGlvbkl0ZW1zID0gZm9sbG93dXBUZXh0cy5tYXAoZnVuY3Rpb24gKGZvbGxvd3VwVGV4dCwgaWQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6IFwiZm9sbG93dXBUZXh0XCIgKyBpZCxcbiAgICAgICAgICAgIHZhbHVlOiBmb2xsb3d1cFRleHQsXG4gICAgICAgICAgICBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvbGxvd3VwVGV4dFxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZVNhbXBsZSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpdGVtOiB0cnVlLFxuICAgICAgICAgICAgeHM6IDEwLFxuICAgICAgICAgICAgbWQ6IDEwLFxuICAgICAgICAgICAgbGc6IDEwLFxuICAgICAgICAgICAgY29udGFpbmVyOiB0cnVlLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICBqdXN0aWZ5OiAnZmxleC1zdGFydCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiBcIjNyZW1cIiB9IH0sXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmFjdGlvblNhdmVQcm9ncmVzc0JhciAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2lyY3VsYXJQcm9ncmVzczIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuYWN0aW9uUHJvZ3Jlc3NCYXIgfSksXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuRG9uZSwge1xuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM1RkMzMkNcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEuNXJlbVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEuNXJlbVwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHlsZTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNhcmRDb250ZW50XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdDcmVhdGVkIFxceEEwJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0eWxlOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZENvbnRlbnRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ0NyZWF0ZSBcXHhBMCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgeyBzdHlsZTogeyBvcGFjaXR5OiAxIH0sIGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAnRk9MTE9XLVVQIFxceEEwJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAnZXZlbnQgZm9yIFxceEEwJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHsgaXRlbTogdHJ1ZSB9LFxuICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuZmluYWxTZWxlY3RlZERhdGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7IGl0ZW06IHRydWUgfSxcbiAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX21hdGVyaWFsVWlQaWNrZXJzLk11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLFxuICAgICAgICAgICAgICB7IHV0aWxzOiBfZGF0ZUZuczIuZGVmYXVsdCB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfY29yZS5NdWlUaGVtZVByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIHsgdGhlbWU6IG1hdGVyaWFsVGhlbWUgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbWF0ZXJpYWxVaVBpY2tlcnMuRGF0ZVBpY2tlciwge1xuICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgbWF4V2lkdGg6IFwiNS4zNXJlbVwiIH0sXG4gICAgICAgICAgICAgICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogQm9vbGVhbihmYWxzZSksXG4gICAgICAgICAgICAgICAgICBmb3JtYXQ6ICdNTU0gZGQsIHl5eXknLFxuICAgICAgICAgICAgICAgICAgbWluRGF0ZU1lc3NhZ2U6ICdQcmV2aW91cyBkYXRlIG5vdCBhY2NlcHRhYmxlJyxcbiAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwiZGF0ZS1pbnB1dC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50ZXN0LFxuICAgICAgICAgICAgICAgICAgICByZWFkT25seTogQm9vbGVhbih0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogQm9vbGVhbih0cnVlKVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnBpY2tlciA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlLFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlRGF0ZUNoYW5nZVxuICAgICAgICAgICAgICAgICAgLy8gb25DbGljaz17ZSA9PiBlLnByZXZlbnREZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgLCBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBtaW5EYXRlOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkRhdGVSYW5nZSwge1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvbkljb24sXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9wZW5QaWNrZXJcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCBoaWRkZW46IHRoaXMuc3RhdGUuaXNEb25lICYmICF0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jYXJkQ29udGVudCB9LFxuICAgICAgICAgICAgICAnXFx4QTAgZm9yIFxceEEwJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaXRlbTogdHJ1ZVxuICAgICAgICAgICAgICAvLyBzdHlsZT17eyB3aWR0aDogdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRGaWVsZFdpZHRoIH19XG4gICAgICAgICAgICAgICwgaGlkZGVuOiB0aGlzLnN0YXRlLmlzRG9uZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfU2VsZWN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICdmb2xsb3d1cC10ZXh0LWZpZWxkJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5nZXRGb2xsb3d1cFRleHQoKSxcbiAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVGb2xsb3d1cFRleHRDaGFuZ2UsXG4gICAgICAgICAgICAgICAgY2xhc3Nlczoge1xuICAgICAgICAgICAgICAgICAgc2VsZWN0TWVudTogY2xhc3Nlcy5zZWxlY3RNZW51Q2xhc3MsXG4gICAgICAgICAgICAgICAgICBpY29uOiBjbGFzc2VzLnNlbGVjdEljb25cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgPyBjbGFzc2VzLnRlc3QgOiBjbGFzc2VzLnRlc3RJbml0aWFsLFxuICAgICAgICAgICAgICAgIE1lbnVQcm9wczoge1xuICAgICAgICAgICAgICAgICAgY2xhc3Nlczoge1xuICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9NZW51SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH0sXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogJ1NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ1NlbGVjdCdcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgb3B0aW9uSXRlbXNcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGl0ZW06IHRydWVcbiAgICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0RmllbGRXaWR0aCB9fVxuICAgICAgICAgICAgICAsIGhpZGRlbjogIXRoaXMuc3RhdGUuaXNEb25lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5zZWxlY3RNZW51Q2xhc3MgfSxcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHtcbiAgICAgICAgICBmdWxsU2NyZWVuOiBmdWxsU2NyZWVuLFxuICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3Blbk5vVGV4dERpYWxvZyxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlTm9UZXh0RGlhbG9nLFxuICAgICAgICAgIHRpdGxlOiBub1RleHRNZXNzYWdlLFxuICAgICAgICAgIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2xvc2VOb1RleHREaWFsb2csXG4gICAgICAgICAgICAgIGNvbG9yOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ09LJ1xuICAgICAgICAgICldXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5BY3Rpb25TYXZlLFxuICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VBY3Rpb25TYXZlRGlhbG9nLFxuICAgICAgICAgIHRpdGxlOiBkaXNjYXJkTWVzc2FnZSxcbiAgICAgICAgICBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZywgY29sb3I6ICdzZWNvbmRhcnknIH0sXG4gICAgICAgICAgICAnRGlzYWdyZWUnXG4gICAgICAgICAgKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZyxcbiAgICAgICAgICAgICAgY29sb3I6ICdwcmltYXJ5JyxcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ0FncmVlJ1xuICAgICAgICAgICldXG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ3VzdG9tRGlhbG9nMi5kZWZhdWx0LCB7XG4gICAgICAgICAgZnVsbFNjcmVlbjogZnVsbFNjcmVlbixcbiAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW5XYXJuaW5nRGlhbG9nLFxuICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VXYXJuaW5nRGlhbG9nLFxuICAgICAgICAgIHRpdGxlOiByZXNvbHZlTWVzc2FnZSxcbiAgICAgICAgICBhY3Rpb25zOiBbX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlV2FybmluZ0RpYWxvZyxcbiAgICAgICAgICAgICAgY29sb3I6ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICBhdXRvRm9jdXM6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnT0snXG4gICAgICAgICAgKV1cbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DdXN0b21EaWFsb2cyLmRlZmF1bHQsIHtcbiAgICAgICAgICBmdWxsU2NyZWVuOiBmdWxsU2NyZWVuLFxuICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbkludmFsaWREYXRlRGlhbG9nLFxuICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZyxcbiAgICAgICAgICB0aXRsZTogaW52YWxpZERhdGVNZXNzYWdlLFxuICAgICAgICAgIGFjdGlvbnM6IFtfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZyxcbiAgICAgICAgICAgICAgY29sb3I6ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICBhdXRvRm9jdXM6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnT0snXG4gICAgICAgICAgKV1cbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgIHsgaXRlbTogdHJ1ZSwgeHM6IDIsIG1kOiAyLCBsZzogMiB9LFxuICAgICAgICAgICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5IaWdobGlnaHRPZmYsIHtcbiAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIgfSxcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vcGVuQWN0aW9uRGlzY2FyZERpYWxvZ1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbnMuQ2hlY2tDaXJjbGVPdXRsaW5lLCB7XG4gICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIiM1RkMzMkNcIiB9LFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0ID8gXCJcIiA6IGNsYXNzZXMuZGlzYWJsZURvbmVCdG4sXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0ID8gdGhpcy5zYXZlRm9sbG93dXAgOiBfY29uc3RhbnRzLmVtcHR5RnVuY3Rpb25cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGb2xsb3d1cDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgdGhpcy52YWxpZGF0ZUZvbGxvd3VwRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoX3RoaXMzLnN0YXRlLmluY29ycmVjdEZsYWcpIHtcbiAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghKDAsIF9oZWxwZXIuaXNWYWxpZERhdGUpKF90aGlzMy5zdGF0ZS5zZWxlY3RlZERhdGUpKSB7XG4gICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuSW52YWxpZERhdGVEaWFsb2c6IHRydWUgfSk7XG4gICAgICAvLyB0aGlzLm9wZW5EYXRhSW52YWxpZERpYWxvZyhcIlBsZWFzZSBjb3JyZWN0IGRhdGUgZmlyc3QuXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIHRoaXMuc2F2ZUZvbGxvd3VwID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghX3RoaXMzLnZhbGlkYXRlRm9sbG93dXBEYXRhKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIV90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQpIHtcbiAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5Ob1RleHREaWFsb2c6IHRydWUgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgX3RoaXMzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiB0cnVlIH0pO1xuICAgIHZhciBmb2xsb3dEYXRlID0gbmV3IERhdGUoX3RoaXMzLnN0YXRlLnNlbGVjdGVkRGF0ZSk7XG4gICAgdmFyIGZvbGxvd0Zvcm1hdERhdGUgPSAoMCwgX2RhdGVGbnMzLmZvcm1hdCkoZm9sbG93RGF0ZSwgXCJ5eXl5LU1NLWRkXCIpO1xuXG4gICAgdmFyIHJlcU9iaiA9IHtcbiAgICAgIGR1ZURhdGU6IGZvbGxvd0Zvcm1hdERhdGUsXG4gICAgICByZW1pbmRlckRhdGU6IGZvbGxvd0Zvcm1hdERhdGUsXG4gICAgICBzdWJqZWN0OiBfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0XG4gICAgICAvLyBhc3NpZ25lZFRvVXNlcjogdGhpcy5wcm9wcy5jdXN0b21lci5pZCxcbiAgICB9O1xuXG4gICAgX2F4aW9zMi5kZWZhdWx0LnBvc3QoX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyAnL2N1c3RvbWVyLycgKyBfdGhpczMucHJvcHMuY3VzdG9tZXIuaWQgKyAnL3Rhc2snLCByZXFPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBfdGhpczMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJTVUNDRVNTXCIpO1xuICAgICAgX3RoaXMzLnNldFN0YXRlKHsgZmluYWxTZWxlY3RlZERhdGU6IF90aGlzMy5nZXREYXRlRmllbGRWYWx1ZSgpIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaXNEb25lOiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgLy91cGRhdGUgZmxhZyBpbiBhY3Rpb25zIHwgcG9zdCBjYWxsXG4gICAgICB2YXIgc3VtbWFyeVRvU2F2ZSA9IF90aGlzMy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcbiAgICAgIF90aGlzMy5wcm9wcy5vbkNvbXBsZXRpb24oKTtcbiAgICAgIF90aGlzMy5wcm9wcy5vbkFjdGlvbkl0ZW1Db25maXJtKHN1bW1hcnlUb1NhdmUpO1xuICAgICAgX3RoaXMzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIF90aGlzMy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVSUk9SXCIpO1xuICAgICAgX3RoaXMzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdlbmVyYXRlQWN0aW9uU3VtbWFyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW52b2ljZUNvdW50ID0gX3RoaXMzLnN0YXRlLmludm9pY2VDb3VudDtcbiAgICB2YXIgY29udGFjdE51bWJlciA9IF90aGlzMy5wcm9wcy5jYWxsZWRUb051bWJlcjtcbiAgICAvLyBsZXQgc2VsZWN0ZWRmb3JtYXR0ZWREYXRlID0gKGRhdGUuZ2V0TW9udGgoKSArIDEpICsgJy0nICsgZGF0ZS5nZXREYXRlKCkgKyAnLScgKyBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgdmFyIGNvbnRhY3ROYW1lID0gKF90aGlzMy5wcm9wcy5jYWxsVG9OYW1lID09IFwiVW5rbm93biBcIiB8fCBfdGhpczMucHJvcHMuY2FsbFRvTmFtZSA9PSBcIlVubmFtZWQgVW5uYW1lZFwiKSAmJiBjb250YWN0TnVtYmVyID8gY29udGFjdE51bWJlciA6IF90aGlzMy5wcm9wcy5jYWxsVG9OYW1lO1xuICAgIHZhciBnZW5lcmF0ZWRTdW1tYXJ5ID0gRk9MTE9XVVBfVEVNUExBVEUucmVwbGFjZShcIjxDb250YWN0IE5hbWU+XCIsIGNvbnRhY3ROYW1lKS5yZXBsYWNlKFwiPEZvbGxvd3VwIERhdGU+XCIsIF90aGlzMy5zdGF0ZS5zZWxlY3RlZERhdGUgPyBcIm9uIFwiICsgKDAsIF9kYXRlRm5zMy5mb3JtYXQpKF90aGlzMy5zdGF0ZS5zZWxlY3RlZERhdGUsIFwiTU0tZGQteXl5eVwiKSA6IFwiXCIpLnJlcGxhY2UoXCI8Rm9sbG93dXAgVGV4dD5cIiwgX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IFwiZm9yIFwiICsgX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dCA6IFwiXCIpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRlZFN1bW1hcnk7XG4gIH07XG5cbiAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgX3RoaXMzLnByb3BzLm9wZW5TbmFja2Jhck9uQWN0aW9uKG1lc3NhZ2UpO1xuICB9O1xuXG4gIHRoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IHRydWUgfSk7XG4gIH07XG5cbiAgdGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczMucHJvcHMuZGVsZXRlQWN0aW9uKF90aGlzMy5zdGF0ZS5hY3Rpb25JZCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5jbG9zZVdhcm5pbmdEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VOb1RleHREaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgb3Blbk5vVGV4dERpYWxvZzogZmFsc2UgfSk7XG4gIH07XG5cbiAgdGhpcy5jbG9zZUludmFsaWREYXRlRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7IG9wZW5JbnZhbGlkRGF0ZURpYWxvZzogZmFsc2UgfSk7XG4gIH07XG5cbiAgdGhpcy50b2dnbGVFZGl0aW5nID0gZnVuY3Rpb24gKGUpIHtcbiAgICBfdGhpczMuc2V0U3RhdGUoeyByZWFkT25seTogZmFsc2UsIGlzRWRpdGluZzogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgX3RoaXMzLnN0YXRlLmFjdGlvbklkKS5mb2N1cygpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuaGFuZGxlRGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgX3RoaXMzLnNldFN0YXRlKHsgc2VsZWN0ZWREYXRlOiBkYXRlIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZXREYXRlRmllbGRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaWQgPSBcImRhdGUtaW5wdXQtZmllbGQtXCIgKyBfdGhpczMuc3RhdGUuYWN0aW9uSWQ7XG4gICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS52YWx1ZTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZUZvbGxvd3VwVGV4dENoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICBjaGFuZ2U6IHRydWUsXG4gICAgICBmb2xsb3d1cFRleHQ6IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgLy8gZm9sbG93dXBUZXh0RmllbGRXaWR0aDogZXZlbnQudGFyZ2V0LnZhbHVlID8gKFwiXCIgKyBldmVudC50YXJnZXQudmFsdWUubGVuZ3RoKSAqIDEyIDogNTBcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczMudXBkYXRlU3VtbWFyeSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0Rm9sbG93dXBUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmb2xsb3d1cFRleHRzID0gX3RoaXMzLnByb3BzLmZvbGxvd3VwVGV4dExpc3Q7XG4gICAgaWYgKF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQgJiYgZm9sbG93dXBUZXh0cy5pbmRleE9mKF90aGlzMy5zdGF0ZS5mb2xsb3d1cFRleHQpID49IDApIHtcbiAgICAgIHJldHVybiBfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0O1xuICAgIH1cbiAgICByZXR1cm4gXCJTZWxlY3RcIjtcbiAgfTtcblxuICB0aGlzLnVwZGF0ZVN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGludm9pY2VDb3VudCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlQ291bnQ7XG4gICAgdmFyIGZvcm1hdHRlZERhdGUgPSAoMCwgX2RhdGVGbnMzLmZvcm1hdCkobmV3IERhdGUoX3RoaXMzLnN0YXRlLnNlbGVjdGVkRGF0ZSksIFwieXl5eS1NTS1kZFwiKTtcbiAgICB2YXIgdXBkYXRlZFN1bW1hcnkgPSBGT0xMT1dVUF9PUklHX1RFTVBMQVRFLnJlcGxhY2UoXCI8Rm9sbG93dXAgRGF0ZT5cIiwgZm9ybWF0dGVkRGF0ZSkucmVwbGFjZShcIjxGb2xsb3d1cCBUZXh0PlwiLCBfdGhpczMuc3RhdGUuZm9sbG93dXBUZXh0ID8gX3RoaXMzLnN0YXRlLmZvbGxvd3VwVGV4dCA6IFwiXCIpO1xuICAgIF90aGlzMy5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpO1xuICB9O1xuXG4gIHRoaXMub3BlblBpY2tlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgX3RoaXMzLnBpY2tlci5vcGVuKGUpO1xuICB9O1xufTtcblxuZnVuY3Rpb24gTnVtYmVyRm9ybWF0Q3VzdG9tKHByb3BzKSB7XG4gIHZhciBpbnB1dFJlZiA9IHByb3BzLmlucHV0UmVmLFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbJ2lucHV0UmVmJywgJ29uQ2hhbmdlJ10pO1xuXG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3ROdW1iZXJGb3JtYXQyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCBvdGhlciwge1xuICAgIGdldElucHV0UmVmOiBpbnB1dFJlZixcbiAgICBvblZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBvblZhbHVlQ2hhbmdlKHZhbHVlcykge1xuICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICB2YWx1ZTogdmFsdWVzLnZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdGhvdXNhbmRTZXBhcmF0b3I6IHRydWUsXG4gICAgcHJlZml4OiAnJCdcbiAgfSkpO1xufVxuXG5OdW1iZXJGb3JtYXRDdXN0b20ucHJvcFR5cGVzID0ge1xuICBpbnB1dFJlZjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZFxufTtcblxuRm9sbG93dXAucHJvcFR5cGVzID0ge1xuICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuXG52YXIgY29tYmluZWRTdHlsZSA9ICgwLCBfY29tYmluZVN0eWxlczIuZGVmYXVsdCkoc3R5bGVzLCBfYmFzZVN0eWxlMi5kZWZhdWx0KTtcbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEZvbGxvd3VwKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMDA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cbnZhciBfR3JpZExpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOCk7XG5cbnZhciBfR3JpZExpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZExpc3QpO1xuXG52YXIgX0dyaWRMaXN0VGlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzI5KTtcblxudmFyIF9HcmlkTGlzdFRpbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JpZExpc3RUaWxlKTtcblxudmFyIF9DaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMzI3KTtcblxudmFyIF9DaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaGVja2JveCk7XG5cbnZhciBfQ2hlY2tDaXJjbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Myk7XG5cbnZhciBfQ2hlY2tDaXJjbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tDaXJjbGUpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX1JhZGlvQnV0dG9uVW5jaGVja2VkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTUpO1xuXG52YXIgX1JhZGlvQnV0dG9uVW5jaGVja2VkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JhZGlvQnV0dG9uVW5jaGVja2VkKTtcblxudmFyIF9BZGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Mik7XG5cbnZhciBfQWRkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FkZCk7XG5cbnZhciBfUmVtb3ZlQ2lyY2xlT3V0bGluZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzU2KTtcblxudmFyIF9SZW1vdmVDaXJjbGVPdXRsaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbW92ZUNpcmNsZU91dGxpbmUpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG52YXIgX0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CdXR0b24pO1xuXG52YXIgX0ZhYiA9IF9fd2VicGFja19yZXF1aXJlX18oMTY5KTtcblxudmFyIF9GYWIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmFiKTtcblxudmFyIF9DYXJkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG5cbnZhciBfQ2FyZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYXJkKTtcblxudmFyIF9DYXJkQ29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE5KTtcblxudmFyIF9DYXJkQ29udGVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYXJkQ29udGVudCk7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX1R5cG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHlwb2dyYXBoeSk7XG5cbnZhciBfRXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMSk7XG5cbnZhciBfRXJyb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXJyb3IpO1xuXG52YXIgX0RpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblxudmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblxudmFyIF9EaWFsb2dBY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzEpO1xuXG52YXIgX0RpYWxvZ0FjdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nQWN0aW9ucyk7XG5cbnZhciBfRGlhbG9nVGl0bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Mik7XG5cbnZhciBfRGlhbG9nVGl0bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nVGl0bGUpO1xuXG52YXIgX01vZGFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cbnZhciBfTW9kYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9kYWwpO1xuXG52YXIgX0R1ZURldGFpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3OCk7XG5cbnZhciBfRHVlRGV0YWlsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0R1ZURldGFpbCk7XG5cbnZhciBfQ2xlYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzOCk7XG5cbnZhciBfQ2xlYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xlYXIpO1xuXG52YXIgX2Zvcm1hdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG52YXIgX2hlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfTGlzdE9mVGlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwMSk7XG5cbnZhciBfTGlzdE9mVGlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaXN0T2ZUaWxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUDJQUmVnZXggPSAvKFByb21pc2UgdG8gcGF5IGZvciBcXGQqKXwoWzAtOV17NH1bLV1bMC05XXsyfVstXVswLTldezJ9KXwoXFxkKiBpbnZvaWNlKS9nO1xudmFyIG1lc3NhZ2UgPSBcIlBsZWFzZSBzZWxlY3Qgc29tZSBpbnZvaWNlcy5cIjtcbnZhciBkaXNwdXRlUmVnZXggPSAvKFxcZCogaW52b2ljZSl8KGJlY2F1c2Ugb2YgLiopL2c7XG5cbmZ1bmN0aW9uIHJhbmQoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDIwKSAtIDEwO1xufVxuXG5mdW5jdGlvbiBnZXRNb2RhbFN0eWxlKHRoZW1lKSB7XG4gICAgdmFyIHRvcCA9IDUwO1xuICAgIHZhciBsZWZ0ID0gNTA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRvcCArICclJyxcbiAgICAgICAgbGVmdDogbGVmdCArICclJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0nICsgdG9wICsgJyUsIC0nICsgbGVmdCArICclKScsXG4gICAgICAgIHdpZHRoOiBcIjczdndcIixcbiAgICAgICAgYm9yZGVyOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArIFwiIDJweCBzb2xpZFwiXG4gICAgfTtcbn1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG5cbiAgICAgICAgaW52b2ljZUhlYWRlcjoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjYuNDgxNDgxNDgxNDh2aFwiLFxuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiIzM5NUM3MyBzb2xpZCAxcHhcIixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjNyZW1cIlxuICAgICAgICAgICAgLy8gYm9yZGVyVG9wOiBcInNvbGlkIGJsYWNrIDFweFwiXG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrZWRJY29uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcbiAgICAgICAgICAgIHpJbmRleDogXCIzXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiXG4gICAgICAgIH0sXG4gICAgICAgIGludm9pY2VMaXN0OiB7XG4gICAgICAgICAgICB3aWR0aDogXCJhdXRvXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjFyZW1cIixcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIxLjlyZW1cIixcbiAgICAgICAgICAgIC8vIGZsZXhXcmFwOiAnd3JhcCcsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWFyb3VuZCcsXG4gICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIzcmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgY29ycmVjdGlvbjoge1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCJcbiAgICAgICAgfSxcbiAgICAgICAgY29ycmVjdGlvbkFsZXJ0OiB7XG4gICAgICAgICAgICBjb2xvcjogXCIjRkY4ODg4XCIsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3JGbGFnOiB7XG4gICAgICAgICAgICBjb2xvcjogXCIjRkY0NDQ0XCIsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBtYXJnaW46ICcxMHB4IDBweCAtMnB4IC0uNHJlbSAhaW1wb3J0YW50J1xuICAgICAgICB9LFxuICAgICAgICBncmlkTGlzdERpdjoge1xuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTUuNDF2d1wiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGVkR3JpZExpc3REaXY6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW5jb3JyZWN0RGl2OiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBib3JkZXI6IFwiI0ZGODg4OCBkYXNoZWQgMXB4XCIsXG4gICAgICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiNy40MHZoXCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gICAgICAgIH0sXG4gICAgICAgIHBhcGVyOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIHdpZHRoOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAxMDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICAgICAgICBib3hTaGFkb3c6IHRoZW1lLnNoYWRvd3NbNV0sXG4gICAgICAgICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAxLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDAsXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgYnV0dG9uOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIyZW1cIixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgYWRkSWNvbjoge1xuICAgICAgICAgICAgd2lkdGg6ICdjYWxjKDEuMXZoICsgMS4xdncpJyxcbiAgICAgICAgICAgIGhlaWdodDogJ2NhbGMoMS4xdmggKyAxLjF2dyknLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgcHJpbWFyeVRleHQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBBY3Rpb25EZXRhaWxzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQWN0aW9uRGV0YWlscywgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBBY3Rpb25EZXRhaWxzKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY3Rpb25EZXRhaWxzKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQWN0aW9uRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFjdGlvbkRldGFpbHMpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgICAgICB2YXIgc3VtbWFyeSA9IF90aGlzLnByb3BzLnN1bTtcbiAgICAgICAgdmFyIGludGVudFR5cGUgPSBfdGhpcy5wcm9wcy5pbnRlbnRUeXBlO1xuICAgICAgICB2YXIgZXh0cmFjdGVkQW1vdW50ID0gdm9pZCAwO1xuICAgICAgICAvLyBsZXQgbm9PZkludm9pY2VzID0gMDtcbiAgICAgICAgaWYgKGludGVudFR5cGUgPT0gXCJQMlBcIikge1xuICAgICAgICAgICAgdmFyIGV4dHJhY3RlZERhdGEgPSBzdW1tYXJ5LnN1bW1hcnkubWF0Y2goUDJQUmVnZXgpO1xuICAgICAgICAgICAgZXh0cmFjdGVkQW1vdW50ID0gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9Lyk7XG5cbiAgICAgICAgICAgIGlmICghZXh0cmFjdGVkQW1vdW50KSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkQW1vdW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vT2ZJbnZvaWNlcyA9IGV4dHJhY3RlZERhdGFbMl0gPyBleHRyYWN0ZWREYXRhWzJdLm1hdGNoKC9bMC05XXsxLH0vKSA6IDA7XG5cbiAgICAgICAgICAgIC8vIGlmICghbm9PZkludm9pY2VzKSB7XG4gICAgICAgICAgICAvLyAgICAgbm9PZkludm9pY2VzID0gMDtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbnZvaWNlQ2hlY2tzTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB2YXIgaW52b2ljZXMgPSBfdGhpcy5wcm9wcy5jb3JyZWN0SW52b2ljZXM7XG4gICAgICAgIGlmIChpbnZvaWNlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnZvaWNlID0gaW52b2ljZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpbnZvaWNlQ2hlY2tzTWFwLnNldChpbnZvaWNlLmlkLnRvU3RyaW5nKCksIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnRlbnRUeXBlID09IFwiRGlzcHV0ZVwiKSB7XG4gICAgICAgICAgICB2YXIgX2V4dHJhY3RlZERhdGEgPSBzdW1tYXJ5LnN1bW1hcnkubWF0Y2goZGlzcHV0ZVJlZ2V4KTtcbiAgICAgICAgICAgIC8vIG5vT2ZJbnZvaWNlcyA9IGV4dHJhY3RlZERhdGFbMF0gPyBleHRyYWN0ZWREYXRhWzBdLm1hdGNoKC9bMC05XXsxLH0vKSA6IDA7XG5cbiAgICAgICAgICAgIC8vIGlmICghbm9PZkludm9pY2VzKSB7XG4gICAgICAgICAgICAvLyAgICAgbm9PZkludm9pY2VzID0gMDtcbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgdmFyIHJlYXNvbkNvZGUgPSBfZXh0cmFjdGVkRGF0YVsxXSA/IF9leHRyYWN0ZWREYXRhWzFdLnN1YnN0cmluZygxMSkgOiBcIkdlbmVyYWwgRGlzcHV0ZVwiO1xuXG4gICAgICAgICAgICBpZiAoIXJlYXNvbkNvZGUpIHtcbiAgICAgICAgICAgICAgICByZWFzb25Db2RlID0gXCJHZW5lcmFsIERpc3B1dGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgYWxsSW52b2ljZXNTZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBpbnZvaWNlQ2hlY2tzTWFwLFxuICAgICAgICAgICAgdG90YWxBbW91bnQ6IGV4dHJhY3RlZEFtb3VudCxcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogX3RoaXMucHJvcHMuaW52b2ljZUNvdW50LFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiBfdGhpcy5wcm9wcy5jb3JyZWN0SW52b2ljZXMsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IF90aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWc6IF90aGlzLnByb3BzLmluY29ycmVjdEZsYWcsXG4gICAgICAgICAgICBpc01lc3NhZ2VEaWFsb2dPcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIG9wZW5BZGRJbnZvaWNlTW9kYWw6IGZhbHNlLFxuICAgICAgICAgICAgaW52b2ljZXM6IF90aGlzLnByb3BzLmludm9pY2VzLFxuICAgICAgICAgICAgYWxsSW52b2ljZXM6IF90aGlzLnByb3BzLmludm9pY2VzLFxuICAgICAgICAgICAgZXhlY3V0ZUFwcGVuZEludm9pY2U6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8vIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgLy8gICAgIC8vIHRoaXMuc2V0U3RhdGUoe2NvcnJlY3RJbnZvaWNlczogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc30pO1xuICAgIC8vICAgICAvLyAgdGhpcy5zZXRTdGF0ZSh7Y29ycmVjdEludm9pY2VzOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzLGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcH0pXG5cbiAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7Y29ycmVjdEludm9pY2VzOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzLCBjb3JyZWN0SW52b2ljZXNNYXA6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXNNYXB9KTtcbiAgICAvLyB9XG5cblxuICAgIF9jcmVhdGVDbGFzcyhBY3Rpb25EZXRhaWxzLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogJzEwMCUnIH0gfSxcbiAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfTW9kYWwyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6ICdzaW1wbGUtbW9kYWwtdGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogJ3NpbXBsZS1tb2RhbC1kZXNjcmlwdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5vcGVuQWRkSW52b2ljZU1vZGFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuY2xvc2VBZGRJbnZvaWNlTW9kYWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiBnZXRNb2RhbFN0eWxlKHRoZW1lKSwgY2xhc3NOYW1lOiBjbGFzc2VzLnBhcGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiBcIjEwMCVcIiwgZGlzcGxheTogXCJmbGV4XCIsIGFsaWduSXRlbTogXCJjZW50ZXJcIiwgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAgIzM5NUM3MyBcIiwgcGFkZGluZzogXCIuMnJlbSAwIC42cmVtIDBcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBtYXJnaW5MZWZ0OiBcIjFyZW1cIiwgZm9udFNpemU6IFwiMS4zcmVtXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC42NSB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VsZWN0IGFuZCBBZGQgSW52b2ljZXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbGVhcjIuZGVmYXVsdCwgeyBvbkNsaWNrOiB0aGlzLmNsb3NlQWRkSW52b2ljZU1vZGFsLCBzdHlsZTogeyBwb3NpdGlvbjogXCJmaXhlZFwiLCByaWdodDogXCI1JVwiLCBvcGFjaXR5OiAwLjY1LCBjdXJzb3I6IFwicG9pbnRlclwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gfSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0R1ZURldGFpbDIuZGVmYXVsdCwgeyBzZXRTZWxlY3RlZEludm9pY2VzOiB0aGlzLnNldFNlbGVjdGVkSW52b2ljZXMsIHBvc3RDYWxsOiB0cnVlLCBhcHBlbmRJbnZvaWNlczogdGhpcy5hcHBlbmRJbnZvaWNlcywgZmlsdGVySW52b2ljZXM6IHRoaXMuZmlsdGVySW52b2ljZXMsIGJ1Y2tldE5hbWVzOiB0aGlzLnByb3BzLmJ1Y2tldE5hbWVzLCBpbnZvaWNlczogdGhpcy5zdGF0ZS5pbnZvaWNlcywgY29ycmVjdEludm9pY2VzTWFwOiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY29udGFpbmVyOiB0cnVlLCB4czogMTIsIGp1c3RpZnk6ICdmbGV4LWVuZCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBzdHlsZTogeyBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICMzOTVDNzNcIiwgcGFkZGluZ1RvcDogXCIuNnJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfQnV0dG9uMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB2YXJpYW50OiAnY29udGFpbmVkJywgY29sb3I6ICdzZWNvbmRhcnknLCBjbGFzc05hbWU6IGNsYXNzZXMuYnV0dG9uLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmFwcGVuZEludm9pY2VzKF90aGlzMi5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2F2ZSAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEludm9pY2VzTGVuZ3RoKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmludm9pY2VIZWFkZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgcGFkZGluZ1RvcDogXCIwLjVyZW1cIiwgcGFkZGluZ0JvdHRvbTogXCIwLjVyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgPiAwICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiwgcGFkZGluZ1JpZ2h0OiBcIjEuNTZ2d1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoZWNrYm94Mi5kZWZhdWx0LCB7IHN0eWxlOiB7IHBhZGRpbmc6ICcwcHgnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGVja2VkSWNvbiwgc3JjOiAnL3Rvdm8vc3RhdGljL2NoZWNrZWRfaWNvbi5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogdGhpcy5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVBbGxTZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5wcmltYXJ5VGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xceEEwU2VsZWN0IGFsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHZhcmlhbnQ6ICdvdXRsaW5lZCcsIGNvbG9yOiAnc2Vjb25kYXJ5Jywgc2l6ZTogJ3NtYWxsJywgc3R5bGU6IHsgaGVpZ2h0OiBcIjQuNDR2aFwiLCBwYWRkaW5nTGVmdDogXCIwLjY2NnJlbVwiLCBwYWRkaW5nUmlnaHQ6IFwiMC42NjZyZW1cIiB9LCBvbkNsaWNrOiB0aGlzLm9wZW5BZGRJbnZvaWNlTW9kYWwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgbWFyZ2luTGVmdDogJzRweCcsIG1hcmdpblJpZ2h0OiAnNHB4JywgZm9udFNpemU6ICcuODlyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NlbGVjdCBJbnZvaWNlcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHZhcmlhbnQ6ICdvdXRsaW5lZCcsIGNvbG9yOiAnc2Vjb25kYXJ5Jywgc2l6ZTogJ3NtYWxsJywgc3R5bGU6IHsgaGVpZ2h0OiBcIjQuNDR2aFwiLCBtYXJnaW5MZWZ0OiBcIjFyZW1cIiwgcGFkZGluZzogXCIwIDAuNjY2cmVtXCIgfSwgb25DbGljazogdGhpcy5kZWxldGVBbGxTZWxlY3Rpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuYWRkSWNvbiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgbWFyZ2luTGVmdDogJzRweCcsIGZvbnRTaXplOiAnLjg5cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSZW1vdmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUxpc3QgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNvcnJlY3Rpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9UeXBvZ3JhcGh5Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnByaW1hcnlUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMSA/IFwiSW52b2ljZXMgXCIgOiBcIkludm9pY2UgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5wcm9wcy5pbnRlbnRUeXBlID09IFwiUDJQXCIgfHwgdGhpcy5wcm9wcy5pbnRlbnRUeXBlID09IFwiRGlzcHV0ZVwiKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IG9wYWNpdHk6IDAuNSB9LCBjbGFzc05hbWU6IGNsYXNzZXMucHJpbWFyeVRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx4QTAoJCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVBbW91bnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgbWFyZ2luTGVmdDogXCIuNXJlbVwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRXJyb3IyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVycm9yRmxhZyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNvcnJlY3Rpb25BbGVydCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29ycmVjdGlvbiBSZXF1aXJlZCgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5sZW5ndGggLSBPYmplY3Qua2V5cyh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCkubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjZWxsSGVpZ2h0OiBcImF1dG9cIiwgY2xhc3NOYW1lOiBjbGFzc2VzLmdyaWRMaXN0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5tYXAoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkTGlzdFRpbGUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY29sczogMSwga2V5OiBpbnZvaWNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuNHJlbScgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGludm9pY2UuaWQgaW4gX3RoaXMyLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCA/IF90aGlzMi5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IF90aGlzMi5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkID8gKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnNlbGVjdGVkR3JpZExpc3REaXYsIGNsYXNzZXMuZ3JpZExpc3REaXYpIDogY2xhc3Nlcy5ncmlkTGlzdERpdiA6IGNsYXNzZXMuaW5jb3JyZWN0RGl2IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhX3RoaXMyLnByb3BzLmRvbmUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoZWNrYm94Mi5kZWZhdWx0LCB7IHN0eWxlOiB7IHBhZGRpbmc6ICcycHgnLCBsZWZ0OiBcIjMlXCIsIGFsaWduSXRlbXM6ICdjZW50ZXInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICEoaW52b2ljZS5pZCBpbiBfdGhpczIuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBfdGhpczIuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCBfdGhpczIuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZUNoZWNrYm94KGludm9pY2UuaWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNSwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuZG9jdW1lbnROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6ICcxLjE1NnJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5pZCBpbiBfdGhpczIuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwID8gKDAsIF9mb3JtYXR0ZXIuZm9ybWF0dGVyKShpbnZvaWNlLmN1cnJlbnRPcGVuQW1vdW50KSA6IFwiLS0tLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFfdGhpczIucHJvcHMuZG9uZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPEZhYiB2YXJpYW50PVwiY29udGFpbmVkXCIgc2l6ZT0nc21hbGwnICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIHsgc3R5bGU6IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgcmlnaHQ6IFwiMTAlXCIsIHRvcDogXCIyNyVcIiwgd2lkdGg6IFwiY2FsYyguOHZoICsgLjh2dylcIiwgaGVpZ2h0OiBcImNhbGMoLjh2aCArIC44dncpXCIgfSwgY2xhc3NOYW1lOiBjbGFzc2VzLmFkZEljb24sIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5kZWxldGVJbnZvaWNlKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwvRmFiPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9EaWFsb2cyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuaXNNZXNzYWdlRGlhbG9nT3BlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuaGFuZGxlTWVzc2FnZURpYWxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsbGVkYnknOiAncmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGUnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0RpYWxvZ1RpdGxlMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogJ3Jlc3BvbnNpdmUtZGlhbG9nLXRpdGxlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9EaWFsb2dBY3Rpb25zMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZU1lc3NhZ2VEaWFsb2csIGNvbG9yOiAnZGVmYXVsdCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnT0snXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFjdGlvbkRldGFpbHM7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB0aGlzLnNldFNlbGVjdGVkSW52b2ljZXMgPSBmdW5jdGlvbiAoaW52b2ljZXMpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogaW52b2ljZXMgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkSW52b2ljZXMgPSBfdGhpczMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcbiAgICAgICAgdmFyIHNlbGVjdGVkSW52b2ljZXNDb3VudCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgaW4gc2VsZWN0ZWRJbnZvaWNlcykge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNbaV0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXNDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZEludm9pY2VzQ291bnQgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnKCcgKyBzZWxlY3RlZEludm9pY2VzQ291bnQgKyAnKSc7XG4gICAgfTtcblxuICAgIHRoaXMuZmlsdGVySW52b2ljZXMgPSBmdW5jdGlvbiAoaW52b2ljZVR5cGUpIHtcbiAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpIF90aGlzMy5zZXRTdGF0ZSh7IGludm9pY2VzOiBfdGhpczMuc3RhdGUuYWxsSW52b2ljZXMgfSk7ZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW52b2ljZXMgPSBfdGhpczMuc3RhdGUuYWxsSW52b2ljZXM7XG4gICAgICAgICAgICB2YXIgZmlsdGVyZWRJbnZvaWNlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wQXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGludm9pY2VzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnZvaWNlVHlwZSA9PSBcIkRpc3B1dGVcIiAmJiBpbnZvaWNlc1tpXVtqXS5kaXNwdXRlU3RhdHVzICE9IG51bGwpIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKTtlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlByZWRpY3RlZCBEZWxpbnF1ZW50XCIgJiYgaW52b2ljZXNbaV1bal0ucDJwRGVsaW5xdWVudCA9PSB0cnVlKSB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSk7ZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJVcGNvbWluZyBQMlBcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBVcGNvbWluZyA9PSB0cnVlKSB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSk7ZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJCcm9rZW4gUDJQXCIgJiYgaW52b2ljZXNbaV1bal0ucDJwQnJva2VuID09IHRydWUpIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRJbnZvaWNlcy5wdXNoKHRlbXBBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpbnZvaWNlczogZmlsdGVyZWRJbnZvaWNlcyB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZUNoZWNrYm94ID0gZnVuY3Rpb24gKGlkKSB7XG5cbiAgICAgICAgdmFyIGNoZWNrZWQgPSBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaWQpO1xuICAgICAgICB2YXIgdXBkYXRlZENoZWNrYm94TWFwID0gX3RoaXMzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XG4gICAgICAgIHVwZGF0ZWRDaGVja2JveE1hcC5zZXQoaWQsICFjaGVja2VkKTtcbiAgICAgICAgdmFyIGZsYWcgPSB0cnVlO1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpbnZvaWNlc0NoZWNrYm94TWFwOiB1cGRhdGVkQ2hlY2tib3hNYXAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdXBkYXRlZENoZWNrYm94TWFwLmtleXMoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludm9pY2VLZXkgPSBfc3RlcC52YWx1ZTtcblxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdXBkYXRlZENoZWNrYm94TWFwLmdldChpbnZvaWNlS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBhbGxJbnZvaWNlc1NlbGVjdGVkOiBmbGFnIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5kZWxldGVJbnZvaWNlID0gZnVuY3Rpb24gKGludm9pY2VOdW1iZXIpIHtcblxuICAgICAgICB2YXIgdGVtcCA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXA7XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRlbXApIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT0gaW52b2ljZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0ZW1wW2tleV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hlY2tib3hNYXAgPSBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcbiAgICAgICAgY2hlY2tib3hNYXAuZGVsZXRlKGludm9pY2VOdW1iZXIpO1xuICAgICAgICAvLyBmb3IgKGxldCBrZXkgb2YgY2hlY2tib3hNYXApIHtcblxuICAgICAgICAvLyAgICAgaWYgKGtleSA9PSBOdW1iZXIoaW52b2ljZU51bWJlcikpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAgICAvLyAgICAgICAgIGNoZWNrYm94TWFwLmRlbGV0ZShrZXkpO1xuICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG5cblxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogY2hlY2tib3hNYXAsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuZmlsdGVyKGZ1bmN0aW9uIChpbnZvaWNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGludm9pY2UuaWQgIT0gaW52b2ljZU51bWJlcjtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiB0ZW1wXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMy51cGRhdGVJbnZvaWNlc1RoaW5ncyhpbnZvaWNlTnVtYmVyKTtfdGhpczMucHJvcHMudXBkYXRlSW52b2ljZXMoX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcywgdGVtcCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZUFsbFNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGludm9pY2VNYXAgPSBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcblxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhbGxJbnZvaWNlc1NlbGVjdGVkOiAhcHJldlN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBpbnZvaWNlTWFwLmtleXMoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW52b2ljZUtleSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpbnZvaWNlTWFwLnNldChpbnZvaWNlS2V5LCBfdGhpczMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGludm9pY2VDaGVja3NNYXA6IGludm9pY2VNYXAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmRlbGV0ZUFsbFNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgdG9EZWxldGVJbnZvaWNlcyA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuZmlsdGVyKGZ1bmN0aW9uIChpbnZvaWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgPT0gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRvRGVsZXRlSW52b2ljZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGlzTWVzc2FnZURpYWxvZ09wZW46IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdXBkYXRlZEludm9pY2VzID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSA9PSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGludm9pY2VzQ2hlY2tib3hNYXAgPSBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcbiAgICAgICAgdmFyIGludm9pY2VNYXAgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwO1xuICAgICAgICB2YXIgZmxhZyA9IGZhbHNlO1xuICAgICAgICB2YXIgaW52b2ljZUxlbmd0aCA9IHVwZGF0ZWRJbnZvaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBhbGxTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdG9EZWxldGVJbnZvaWNlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSB0b0RlbGV0ZUludm9pY2VzW2ldLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgZGVsZXRlIGludm9pY2VNYXBba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IHVwZGF0ZWRJbnZvaWNlcyxcbiAgICAgICAgICAgIC8vIGludm9pY2VDb3VudDogdXBkYXRlZEludm9pY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IGludm9pY2VzQ2hlY2tib3hNYXAsXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IGludm9pY2VNYXAsXG4gICAgICAgICAgICBpbnZvaWNlQ291bnQ6IGludm9pY2VMZW5ndGhcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGludm9pY2VMZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW52b2ljZSA9IHVwZGF0ZWRJbnZvaWNlc1tfaV07XG4gICAgICAgICAgICAgICAgdmFyIF9rZXkgPSBpbnZvaWNlLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKCEoX2tleSBpbiBpbnZvaWNlTWFwKSkge1xuICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBpbnZvaWNlTGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgICAgIHZhciBfaW52b2ljZSA9IHVwZGF0ZWRJbnZvaWNlc1tfaTJdO1xuICAgICAgICAgICAgICAgIHZhciBfa2V5MiA9IF9pbnZvaWNlLmlkLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KF9rZXkyKSkge1xuICAgICAgICAgICAgICAgICAgICBhbGxTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGluY29ycmVjdEZsYWc6IGZsYWcsIGFsbEludm9pY2VzU2VsZWN0ZWQ6IGFsbFNlbGVjdGVkIH0pO1xuICAgICAgICAgICAgX3RoaXMzLnByb3BzLm9uVXBkYXRlSW52b2ljZShmbGFnLCBpbnZvaWNlTGVuZ3RoKTtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy51cGRhdGVJbnZvaWNlcyhfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLCBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlTWVzc2FnZURpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXNNZXNzYWdlRGlhbG9nT3BlbjogIXByZXZTdGF0ZS5pc01lc3NhZ2VEaWFsb2dPcGVuXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuQWRkSW52b2ljZU1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWRkSW52b2ljZU1vZGFsOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlQWRkSW52b2ljZU1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBvcGVuQWRkSW52b2ljZU1vZGFsOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5hcHBlbmRJbnZvaWNlcyA9IGZ1bmN0aW9uIChpbnZvaWNlcykge1xuICAgICAgICB2YXIgdGVtcE1hcCA9IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXA7XG4gICAgICAgIHZhciB0ZW1wSW52b2ljZXMgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzLnNsaWNlKDApO1xuICAgICAgICB2YXIgdGVtcENoZWNrYm94SW52b2ljZU1hcCA9IF90aGlzMy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwW190aGlzMy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNbaV0uaWRdKSB7XG4gICAgICAgICAgICAgICAgdGVtcEludm9pY2VzLnNwbGljZSh0ZW1wSW52b2ljZXMuaW5kZXhPZihfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzW2ldKSwgMSk7XG4gICAgICAgICAgICAgICAgdGVtcENoZWNrYm94SW52b2ljZU1hcC5kZWxldGUoX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXS5pZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBjb3JyZWN0SW52b2ljZXM6IHRlbXBJbnZvaWNlcywgY29ycmVjdEludm9pY2VzTWFwOiB7fSwgaW52b2ljZXNDaGVja2JveE1hcDogdGVtcENoZWNrYm94SW52b2ljZU1hcCB9KTtcbiAgICAgICAgdGVtcE1hcCA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBpbnZvaWNlcykge1xuICAgICAgICAgICAgaWYgKGludm9pY2VzW2tleV0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBfdGhpczMucHJvcHMuaW52b2ljZXMubGVuZ3RoOyBwKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBxID0gMDsgcSA8IF90aGlzMy5wcm9wcy5pbnZvaWNlc1twXS5sZW5ndGg7IHErKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5pbnZvaWNlc1twXVtxXS5pZCA9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wSW52b2ljZXMucHVzaChfdGhpczMucHJvcHMuaW52b2ljZXNbcF1bcV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRlbXBNYXBba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpbnZvaWNlcykge1xuICAgICAgICAgICAgdmFyIGludm9pY2VzQ2hlY2tib3hNYXAgPSBfdGhpczMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2tleTMgaW4gaW52b2ljZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW52b2ljZXNbX2tleTNdID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcC5zZXQoX2tleTMudG9TdHJpbmcoKSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW52b2ljZXNDaGVja2JveE1hcDogaW52b2ljZXNDaGVja2JveE1hcCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IGNvcnJlY3RJbnZvaWNlczogdGVtcEludm9pY2VzLCBjb3JyZWN0SW52b2ljZXNNYXA6IHRlbXBNYXAsIGludm9pY2VDb3VudDogdGVtcEludm9pY2VzLmxlbmd0aCB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMudXBkYXRlSW52b2ljZXMoX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcywgdGVtcE1hcCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpczMucHJvcHMub25VcGRhdGVJbnZvaWNlKF90aGlzMy5zdGF0ZS5pbmNvcnJlY3RGbGFnLCB0ZW1wSW52b2ljZXMubGVuZ3RoKTtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlSW52b2ljZXNUaGluZ3MgPSBmdW5jdGlvbiAoaW52b2ljZU51bWJlcikge1xuXG4gICAgICAgIHZhciBpbnZvaWNlTWFwID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcbiAgICAgICAgLy8gbGV0IGFsbEludm9pY2VzTGlzdCA9IHRoaXMucHJvcHMuYWxsSW52b2ljZXNMaXN0O1xuICAgICAgICB2YXIgZmxhZyA9IGZhbHNlO1xuICAgICAgICB2YXIgaW52b2ljZXMgPSBfdGhpczMuc3RhdGUuY29ycmVjdEludm9pY2VzO1xuICAgICAgICB2YXIgaW52b2ljZUxlbmd0aCA9IGludm9pY2VzLmxlbmd0aDtcbiAgICAgICAgZGVsZXRlIGludm9pY2VNYXBbaW52b2ljZU51bWJlcl07XG5cbiAgICAgICAgaWYgKGludm9pY2VMZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmFsc2UsIGludm9pY2VDb3VudDogMCB9KTtcbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5vblVwZGF0ZUludm9pY2UoZmFsc2UsIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGludm9pY2VNYXBbaW52b2ljZU51bWJlcl07XG5cbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgY29ycmVjdEludm9pY2VzTWFwOiBpbnZvaWNlTWFwIH0sIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZvaWNlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW52b2ljZSA9IGludm9pY2VzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEoaW52b2ljZS5pZCBpbiBpbnZvaWNlTWFwKSkge1xuICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBpbmNvcnJlY3RGbGFnOiBmbGFnLCBpbnZvaWNlQ291bnQ6IGludm9pY2VMZW5ndGggfSk7XG4gICAgICAgICAgICBfdGhpczMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZsYWcsIGludm9pY2VMZW5ndGgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jYWxjdWxhdGVBbW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhbW91bnQgPSAwO1xuICAgICAgICB2YXIgY29ycmVjdEludm9pY2VzID0gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcztcbiAgICAgICAgZm9yICh2YXIgaSBpbiBjb3JyZWN0SW52b2ljZXMpIHtcbiAgICAgICAgICAgIGFtb3VudCArPSBjb3JyZWN0SW52b2ljZXNbaV0uaWQgaW4gX3RoaXMzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCA/IGNvcnJlY3RJbnZvaWNlc1tpXS5jdXJyZW50T3BlbkFtb3VudCA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFtb3VudCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9oZWxwZXIuZm9ybWF0Q3VycmVuY3lUb1VTRm9ybWF0KShhbW91bnQpO1xuICAgIH07XG59O1xuXG5BY3Rpb25EZXRhaWxzLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuXG4vLyBleHBvcnQgZnVuY3Rpb24gZ2V0SW52b2ljZXMoKSB7XG5cbi8vICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcyk7XG5cbi8vICAgICBsZXQgZG9jdW1lbnROdW1iZXJzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubWFwKGludm9pY2UgPT4ge1xuLy8gICAgICAgICByZXR1cm4gaW52b2ljZS5kb2N1bWVudE51bWJlcjtcbi8vICAgICB9KTtcblxuLy8gICAgIGNvbnNvbGUubG9nKFwiRE9DVVwiLCBkb2N1bWVudE51bWJlcnMpO1xuXG4vLyAgICAgcmV0dXJuIGRvY3VtZW50TnVtYmVycztcbi8vIH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9zdHlsZXMud2l0aFN0eWxlcykoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShBY3Rpb25EZXRhaWxzKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMDE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfZm9ybWF0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX1R5cG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHlwb2dyYXBoeSk7XG5cbnZhciBfQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNyk7XG5cbnZhciBfQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hlY2tib3gpO1xuXG52YXIgX0dyaWRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjgpO1xuXG52YXIgX0dyaWRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0KTtcblxudmFyIF9HcmlkTGlzdFRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSk7XG5cbnZhciBfR3JpZExpc3RUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0VGlsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG5cbiAgICAgICAgZ3JpZExpc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBtYXJnaW46ICcwIC0ycHggLTJweCAtMnB4ICFpbXBvcnRhbnQnLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZExpc3REaXY6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI3LjQwdmhcIixcbiAgICAgICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RlZEdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiXG4gICAgICAgIH0sXG4gICAgICAgIGdyaWRMaXN0VGlsZToge1xuICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG8gIWltcG9ydGFudFwiXG4gICAgICAgIH1cblxuICAgIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IG5ldyBNYXAoKSxcbiAgICBjb3JyZWN0SW52b2ljZXNNYXA6IHt9LFxuICAgIHNlbGVjdGVkSW52b2ljZXM6IFtdLFxuICAgIGludm9pY2VzOiBbXSxcbiAgICBkb25lOiB0cnVlLFxuICAgIGluSW52b2ljZVRhYmxlOiBmYWxzZVxufTtcblxudmFyIExpc3RPZlRpbGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhMaXN0T2ZUaWxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIExpc3RPZlRpbGUocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3RPZlRpbGUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMaXN0T2ZUaWxlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTGlzdE9mVGlsZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5hZGRJbnZvaWNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5hZGRJbnZvaWNlKGlkKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5nZXRDbGFzc09mR3JpZExpc3RUaWxlID0gZnVuY3Rpb24gKGNvcnJlY3RJbnZvaWNlc01hcCwgaW52b2ljZXNDaGVja2JveE1hcCwgaWQsIHNlbGVjdGVkSW52b2ljZXMpIHtcbiAgICAgICAgICAgIGlmICghKGludm9pY2UuaWQgaW4gX3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKSkgcmV0dXJuIGNsYXNzZXMuaW5jb3JyZWN0RGl2O1xuICAgICAgICAgICAgaWYgKGludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgfHwgX3RoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSkgcmV0dXJuIGNsYXNzZXMuc2VsZWN0ZWRHcmlkTGlzdERpdjtcbiAgICAgICAgICAgIHJldHVybiBjbGFzc2VzLmdyaWRMaXN0RGl2O1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaW52b2ljZXM6IF90aGlzLnByb3BzLmludm9pY2VzLFxuICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlczogX3RoaXMucHJvcHMuc2VsZWN0ZWRJbnZvaWNlcyxcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogX3RoaXMucHJvcHMuY29ycmVjdEludm9pY2VzTWFwLFxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogX3RoaXMucHJvcHMuaW52b2ljZXNDaGVja2JveE1hcFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTGlzdE9mVGlsZSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaW52b2ljZXM6IG5leHRQcm9wcy5pbnZvaWNlcyxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzOiBuZXh0UHJvcHMuc2VsZWN0ZWRJbnZvaWNlcyxcbiAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXNNYXAsXG4gICAgICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogbmV4dFByb3BzLmludm9pY2VzQ2hlY2tib3hNYXBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuXG4gICAgICAgIC8vUmVuZGVyIGZ1bmN0aW9uIFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9HcmlkTGlzdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7IGNlbGxIZWlnaHQ6IFwiYXV0b1wiLCBjbGFzc05hbWU6IGNsYXNzZXMuZ3JpZExpc3QgfSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5tYXAoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWRMaXN0VGlsZTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY29sczogMSwga2V5OiBpbnZvaWNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGhlaWdodDogJ2F1dG8nLCB3aWR0aDogJzE2dncnLCBtYXJnaW46ICcwLjRyZW0nIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBfdGhpczIuZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZShfdGhpczIuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwLCBfdGhpczIuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcCwgaW52b2ljZS5pZCwgX3RoaXMyLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIV90aGlzMi5wcm9wcy5kb25lICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DaGVja2JveDIuZGVmYXVsdCwgeyBzdHlsZTogeyBwYWRkaW5nOiAnMnB4JywgbGVmdDogXCIzJVwiLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2hlY2tlZEljb24sIHNyYzogJy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNoZWNrZWRJY29uLCBzcmM6ICcvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2ZycgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhKGludm9pY2UuaWQgaW4gX3RoaXMyLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IF90aGlzMi5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi50b2dnbGVDaGVja2JveChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNSwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLmRvY3VtZW50TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1R5cG9ncmFwaHkyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogJzEuMTU2cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuaWQgaW4gX3RoaXMyLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCA/ICgwLCBfZm9ybWF0dGVyLmZvcm1hdHRlcikoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCkgOiBcIi0tLS1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKF90aGlzMi5wcm9wcy5pbkludm9pY2VUYWJsZSB8fCBfdGhpczIucHJvcHMuZG9uZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8RmFiIHZhcmlhbnQ9XCJjb250YWluZWRcIiBzaXplPSdzbWFsbCcgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChDbG9zZSwgeyBzdHlsZTogeyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLCB3aWR0aDogXCJjYWxjKC44dmggKyAuOHZ3KVwiLCBoZWlnaHQ6IFwiY2FsYyguOHZoICsgLjh2dylcIiB9LCBjbGFzc05hbWU6IGNsYXNzZXMuYWRkSWNvbiwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5kZWxldGVJbnZvaWNlKGludm9pY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC9GYWI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMaXN0T2ZUaWxlO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuTGlzdE9mVGlsZS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoTGlzdE9mVGlsZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTAyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX0dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxudmFyIF9HcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWQpO1xuXG52YXIgX2NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF9JbmZvID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG5cbnZhciBfSW5mbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbmZvKTtcblxudmFyIF9FbWFpbEJveCA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwMyk7XG5cbnZhciBfRW1haWxCb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRW1haWxCb3gpO1xuXG52YXIgX2NvbWJpbmVTdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIF9jb21iaW5lU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVTdHlsZXMpO1xuXG52YXIgX2Jhc2VTdHlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgX2Jhc2VTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlU3R5bGUpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKipcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDbGFzcyBOYW1lIFRCRFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFRlbXBvcmFyeSBwYXJraW5nIGFzIEZpbmFsLmpzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG5cbiAgICAgICAgc3VtbWFyeU5vdGVzQm94OiB7XG4gICAgICAgICAgICBtYXhIZWlnaHQ6IFwiOTB2aFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgc3VtbWFyeU5vdGVpdGVtczoge1xuICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJwcmUtbGluZVwiLFxuICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjFlbVwiLFxuICAgICAgICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcbiAgICAgICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICAgICAgICBtYXhIZWlnaHQ6IFwiNzUuNXZoXCJcbiAgICAgICAgfSxcbiAgICAgICAgc3VtbWFyeU5vdGVzSGVhZGVyOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIxLjA2NjZyZW1cIixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiBcIjIuMjJ2aFwiLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMS4wMjZ2d1wiLFxuICAgICAgICAgICAgbGluZUhlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNjVcbiAgICAgICAgfSxcbiAgICAgICAgbm90ZXNMaXN0OiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwXCIsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIjEuN3JlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGVtcHR5U3VtbWFyeVRleHQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBlbXB0eVN1bW1hcnlHcmlkOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTV2aFwiLFxuICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJwcmUtbGluZVwiLFxuICAgICAgICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIlxuICAgICAgICB9LFxuICAgICAgICB3YXJuaW5nTGluZToge1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgZm9udFdlaWdodDogNTAwLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjhlbVwiLFxuICAgICAgICAgICAgb3BhY2l0eTogXCIwLjY1XCJcbiAgICAgICAgfSxcbiAgICAgICAgaWNvbjoge1xuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiLjV2d1wiXG4gICAgICAgIH0sXG4gICAgICAgIGhpZGVPdmVyZmxvdzoge1xuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbnRhY3RJbmRleDogbnVsbCxcbiAgICBjdXN0b21lcjoge30sXG4gICAgaW52b2ljZUxpc3Q6IFtdLFxuICAgIHN1bW1hcnlOb3RlczogXCJcIixcbiAgICBuZXh0Q3VzdG9tZXJVcmw6IG51bGwsXG4gICAgdG9DYWxsQ3VzdG9tZXJzOiBudWxsLFxuICAgIGNvbGxlY3Rvcjoge30sXG4gICAgbm9uQWN0aW9uSW5jbHVkZWQ6IGZhbHNlXG59O1xuXG52YXIgcHJvcFR5cGVzID0ge1xuICAgIGNvbnRhY3RJbmRleDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gICAgY3VzdG9tZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAgIGludm9pY2VMaXN0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICAgIHN1bW1hcnlOb3RlczogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gICAgbmV4dEN1c3RvbWVyVXJsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgICB0b0NhbGxDdXN0b21lcnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICAgIGNvbGxlY3RvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gICAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBub25BY3Rpb25JbmNsdWRlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sXG59O1xuXG52YXIgRmluYWwgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhGaW5hbCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBGaW5hbChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmluYWwpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGaW5hbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZpbmFsKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnNldERlZmF1bHRFbWFpbElkQ2hpcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29udGFjdEluZGV4ID0gX3RoaXMucHJvcHMuY29udGFjdEluZGV4O1xuICAgICAgICAgICAgdmFyIGNvbnRhY3RzID0gW107XG4gICAgICAgICAgICBpZiAoY29udGFjdEluZGV4ICE9IG51bGwgJiYgX3RoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5maXJzdE5hbWUgIT09IFwiVW5uYW1lZFwiICYmIF90aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0ubGFzdE5hbWUgIT09IFwiVW5uYW1lZFwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZ1bGxOYW1lID0gX3RoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5maXJzdE5hbWUgKyBcIiBcIiArIF90aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0ubGFzdE5hbWU7XG5cbiAgICAgICAgICAgICAgICBjb250YWN0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogZnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsSWQ6IF90aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWRFbWFpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbElkQ2hpcHM6IGNvbnRhY3RzIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgLy8gbG9hZGluZzogdHJ1ZSwgICAgICAgICBcbiAgICAgICAgICAgIGVtYWlsSWRDaGlwczogW11cbiAgICAgICAgfTtcbiAgICAgICAgLy91bmNvbW1lbnQgd2hlbiB5b3UgcmVxdWlyZSBlbWFpbCB0ZW1wbGF0ZXNcbiAgICAgICAgLy9nZXQgZW1haWwgVGVtcGxhdGVzXG4gICAgICAgIC8vIGNvcnJlc3BvbmRlbmNlU2VydmljZS5nZXRFbWFpbFRlbXBsYXRlcygpXG4gICAgICAgIC8vICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIC8vICAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICAvLyAgICAgICAgIGFyciA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVzOiBhcnIgfSwgKCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgICAgICBpZiAoYXJyLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZU5hbWU6IGFyclswXS5uYW1lIH0pO1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVTdWJqZWN0OiBhcnJbMF0uc3ViamVjdCB9KTtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlQm9keTogYXJyWzBdLmJvZHkgfSk7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdGVtcGxhdGVJZDogYXJyWzBdLmlkIH0pO1xuICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgICAvLyAgICAgICAgIH0pXG4gICAgICAgIC8vICAgICB9KVxuICAgICAgICAvLyAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBpbiBmZXRjaGluZyB0ZW1wbGF0ZXNcIik7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVzOiBbXSB9LCAoKSA9PiB7XG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgICAvLyAgICAgICAgIH0pXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVOYW1lOiBcIk5vIFRlbXBsYXRlcyFcIiB9KTtcbiAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEZpbmFsLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdEVtYWlsSWRDaGlwcygpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY3VzdG9tZXIgPSBfcHJvcHMuY3VzdG9tZXIsXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgIHN1bW1hcnlOb3RlcyA9IF9wcm9wcy5zdW1tYXJ5Tm90ZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUgPSBfcHJvcHMudGhlbWU7XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiBcIjEwMCVcIiB9IH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMiwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHBhZGRpbmc6IFwiMHB4IDhweCA4cHggOHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0dyaWQyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiA1IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGl0ZW06IHRydWUsIHhzOiAxMiwgY2xhc3NOYW1lOiBjbGFzc2VzLnN1bW1hcnlOb3Rlc0JveCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnN1bW1hcnlOb3Rlc0hlYWRlciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NVTU1BUlkgTk9URVMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR3JpZDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtczogdHJ1ZSwgaWQ6ICdzdW1tYXJ5Tm90ZWl0ZW1zJywgY2xhc3NOYW1lOiAhc3VtbWFyeU5vdGVzIHx8IHN1bW1hcnlOb3Rlcy5sZW5ndGggPT0gMCA/ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoY2xhc3Nlcy5lbXB0eVN1bW1hcnlHcmlkLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpIDogY2xhc3Nlcy5zdW1tYXJ5Tm90ZWl0ZW1zIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghc3VtbWFyeU5vdGVzIHx8IHN1bW1hcnlOb3Rlcy5sZW5ndGggPT0gMCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLndhcm5pbmdMaW5lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW5mbzIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5lbXB0eVN1bW1hcnlUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZXJlIGlzIG5vIHN1bW1hcnkgbm90ZXMgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5Tm90ZXMgJiYgIXN1bW1hcnlOb3Rlcy5sZW5ndGggPT0gMCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1bCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5ub3Rlc0xpc3QgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnlOb3Rlcy5tYXAoZnVuY3Rpb24gKG5vdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBvcGFjaXR5OiAxLCBmb250U2l6ZTogXCIwLjg4ODg4ODg4ODg4cmVtXCIsIG1hcmdpbkJvdHRvbTogXCIwLjg4OHJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpdGVtOiB0cnVlLCB4czogNywgc3R5bGU6IHsgcGFkZGluZ0xlZnQ6IFwiMS4wNDF2d1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9FbWFpbEJveDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnlOb3Rlczogc3VtbWFyeU5vdGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RvcjogdGhpcy5wcm9wcy5jb2xsZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uQWN0aW9uSW5jbHVkZWQ6IHRoaXMucHJvcHMubm9uQWN0aW9uSW5jbHVkZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWxJZENoaXBzOiB0aGlzLnN0YXRlLmVtYWlsSWRDaGlwcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5jdXN0b21lcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbEF0dGFjaGVtZW50czogdGhpcy5wcm9wcy5pbnZvaWNlTGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRmluYWw7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5GaW5hbC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5GaW5hbC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbnZhciBjb21iaW5lZFN0eWxlID0gKDAsIF9jb21iaW5lU3R5bGVzMi5kZWZhdWx0KShzdHlsZXMsIF9iYXNlU3R5bGUyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShjb21iaW5lZFN0eWxlLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShGaW5hbCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTAzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX2NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF9JbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xuXG52YXIgX0lucHV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0lucHV0KTtcblxudmFyIF9jb3JyZXNwb25kZW5jZVNlcnZpY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMDQpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX0dyaWRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjgpO1xuXG52YXIgX0dyaWRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0KTtcblxudmFyIF9HcmlkTGlzdFRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSk7XG5cbnZhciBfR3JpZExpc3RUaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyaWRMaXN0VGlsZSk7XG5cbnZhciBfQ2hpcCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ3KTtcblxudmFyIF9DaGlwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoaXApO1xuXG52YXIgX1NuYWNrYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXG52YXIgX1NuYWNrYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NuYWNrYmFyKTtcblxudmFyIF9JY29uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cbnZhciBfSWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uQnV0dG9uKTtcblxudmFyIF9lbWFpbEhlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwNSk7XG5cbnZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3VtbWFyeUVtYWlsSGVhZGVyOiB7XG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCJcbiAgICAgICAgfSxcbiAgICAgICAgc3VtbWFyeUVtYWlsOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IFwiLjEyNXJlbVwiLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuM3JlbVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjc5dmhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlFbWFpbEZvcm06IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtIDAuNXJlbSAwIDAuNXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsSWRDaGlwc0lucHV0OiB7XG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMC4wNjI1cmVtIHNvbGlkIHJnYmEoOTMsIDE3MCwgMjI0LCAwLjUpXCJcbiAgICAgICAgfSxcbiAgICAgICAgZW1haWxBZGRMYWJlbDoge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuM2VtXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjUsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBlbWFpbElkQ2hpcHM6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCIxLjRlbVwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjAuMTc3N3JlbVwiLFxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAuMTc3N3JlbVwiLFxuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4yZW1cIixcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIFwiJj4gc3BhblwiOiB7XG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4zcmVtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnJjpob3ZlciwgJjpmb2N1cyc6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnJjphY3RpdmUnOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGludmFsaWRFbWFpbElkQ2hpcHM6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCIxLjRlbVwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjAuMTc3N3JlbVwiLFxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAuMTc3N3JlbVwiLFxuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4yZW1cIixcbiAgICAgICAgICAgIFwiJj4gc3BhblwiOiB7XG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC45cmVtXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4zcmVtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmNDQ0NFwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgJyY6aG92ZXIsICY6Zm9jdXMnOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNzM4MzhcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICcmOmFjdGl2ZSc6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y3MzgzOFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUVtYWlsSWQ6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOGVtXCIsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZW1haWxJZElucHV0OiB7XG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIwLjMxMjVyZW1cIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjk1JVwiLFxuICAgICAgICAgICAgcmVzaXplOiBcImhvcml6b250YWxcIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsU3ViamVjdDoge1xuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjAuMDYyNXJlbSBzb2xpZCByZ2JhKDkzLCAxNzAsIDIyNCwgMC41KVwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgICcmOjpwbGFjZWhvbGRlcic6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNhN2E3YTcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkU3ViamVjdElucHV0OiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlFbWFpbEJvZHk6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCI2MHZoXCIsXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsQm9keVRleHQ6IHtcbiAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjlyZW1cIixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArIFwiICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBpbnZvaWNlQ291bnQ6IHtcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjhyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBpbnZvaWNlQXR0YWNoZW1lbnRzOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTB2aFwiXG4gICAgICAgIH0sXG4gICAgICAgIGdyaWRMaXN0RGl2OiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAwLjA2MjVyZW1cIixcbiAgICAgICAgICAgIHBhZGRpbmc6ICcwLjI1cmVtJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzAuMjVyZW0nXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnlFbWFpbEZvb3Rlcjoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjcuNHZoXCIsXG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93LXJldmVyc2VcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiICMyYzQxNGY7XCJcbiAgICAgICAgfSxcbiAgICAgICAgc2VuZFN1bW1hcnlFbWFpbEJ0bjoge1xuICAgICAgICAgICAgaGVpZ2h0OiAnMmVtJyxcbiAgICAgICAgICAgIHdpZHRoOiAnNmVtJyxcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIjEuMnJlbVwiLFxuICAgICAgICAgICAgZm9udFNpemU6ICdzbWFsbGVyJyxcbiAgICAgICAgICAgIGFsaWduU2VsZjogJ2NlbnRlcicsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZGlzYWJsZUljb246IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgICAgIH0sXG4gICAgICAgIG5vdGVzTGlzdDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMFwiLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIxLjdyZW1cIlxuICAgICAgICB9LFxuICAgICAgICBlbXB0eVN1bW1hcnlUZXh0OiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICAgICAgfSxcbiAgICAgICAgZW1wdHlTdW1tYXJ5R3JpZDoge1xuICAgICAgICAgICAgaGVpZ2h0OiBcIjE1dmhcIixcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcbiAgICAgICAgICAgIHdvcmRCcmVhazogXCJicmVhay13b3JkXCJcbiAgICAgICAgfSxcbiAgICAgICAgd2FybmluZ0xpbmU6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIi44ZW1cIixcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiMC42NVwiXG4gICAgICAgIH0sXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIi41dndcIlxuICAgICAgICB9LFxuICAgICAgICBoaWRlT3ZlcmZsb3c6IHtcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBzdW1tYXJ5Tm90ZXM6IFwiXCIsXG4gICAgY29sbGVjdG9yOiB7fSxcbiAgICBub25BY3Rpb25JbmNsdWRlZDogZmFsc2UsXG4gICAgZW1haWxJZENoaXBzOiBbXSxcbiAgICBjdXN0b21lcjoge30sXG4gICAgZW1haWxBdHRhY2hlbWVudHM6IFtdXG59O1xuXG52YXIgcHJvcFR5cGVzID0ge1xuICAgIHN1bW1hcnlOb3RlczogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gICAgY29sbGVjdG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG5vbkFjdGlvbkluY2x1ZGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gICAgZW1haWxJZENoaXBzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICAgIGN1c3RvbWVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGVtYWlsQXR0YWNoZW1lbnRzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5XG59O1xuXG52YXIgRW1haWxCb3ggPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhFbWFpbEJveCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBFbWFpbEJveChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW1haWxCb3gpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChFbWFpbEJveC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEVtYWlsQm94KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLmhhbmRsZVRlbXBsYXRlQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVOYW1lOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG5cbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IF90aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVzO1xuXG4gICAgICAgICAgICAvL2NoZWNrIGlmIG5vIHRlbXBsYXRlIGlzIHNlbGVjdGVkXG5cbiAgICAgICAgICAgIC8vdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlcy5mb3JFYWNoKGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wbGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVtpXS5uYW1lID09IGV2ZW50LnRhcmdldC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVTdWJqZWN0OiB0ZW1wbGF0ZVtpXS5zdWJqZWN0IH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVCb2R5OiB0ZW1wbGF0ZVtpXS5ib2R5IH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHRlbXBsYXRlSWQ6IHRlbXBsYXRlW2ldLmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlRW1haWxFbnRlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKChldmVudC50eXBlID09PSAnYmx1cicgfHwgZXZlbnQua2V5ID09PSAnRW50ZXInKSAmJiBldmVudC50YXJnZXQudmFsdWUudHJpbSgpKSB7XG5cbiAgICAgICAgICAgICAgICAvL3JlZ3VsYXIgZXhwcmVzc2lvbiAtIHRvIGNoZWNrIEBob3N0LmRvbWFpblxuICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy92YWxpZGF0ZSB0aGUgZW50ZXJlZCBlbWFpbCBpZFxuICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkRW1haWwgPSAoMCwgX2VtYWlsSGVscGVyLnZhbGlkYXRlRW1haWwpKGV2ZW50LnRhcmdldC52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZW1haWxBcnIgPSBfdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHM7XG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBlbWFpbEFyci5sZW5ndGgsIGxhYmVsOiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsSWQ6IGV2ZW50LnRhcmdldC52YWx1ZSwgaXNWYWxpZEVtYWlsOiBpc1ZhbGlkRW1haWwsXG4gICAgICAgICAgICAgICAgICAgIGlzRWRpdGluZzogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGVtYWlsQXJyLnB1c2gob2JqKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHRvQWRkcjogZW1haWxBcnIgfSk7XG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVFbWFpbElkRGVsZXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1haWxBZGQuY3VycmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW1haWxJZENoaXBzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5lbWFpbElkQ2hpcHMpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaXBUb0RlbGV0ZSA9IGVtYWlsSWRDaGlwcy5pbmRleE9mKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBlbWFpbElkQ2hpcHMuc3BsaWNlKGNoaXBUb0RlbGV0ZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGVtYWlsSWRDaGlwczogZW1haWxJZENoaXBzIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmhhbmRsZVN1YmplY3RDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBlbWFpbFRlbXBsYXRlU3ViamVjdDogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVFbWFpbEJvZHlDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBuZXdNYXhIZWlnaHQgPSBNYXRoLnJvdW5kKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbEJvZHknKS5zY3JvbGxIZWlnaHQpO1xuICAgICAgICAgICAgaWYgKG5ld01heEhlaWdodCA8PSAxMikge1xuICAgICAgICAgICAgICAgIG5ld01heEhlaWdodCA9IDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVCb2R5OiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgZW1haWxCb2R5SGVpZ2h0OiBuZXdNYXhIZWlnaHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLnJlbW92ZUF0dGFjaGVtZW50ID0gZnVuY3Rpb24gKGRvY3VtZW50TnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgY3VyckF0dGFjaGVtZW50cyA9IF90aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyQXR0YWNoZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJBdHRhY2hlbWVudHNbaV0uaWQgPT0gZG9jdW1lbnROdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyckF0dGFjaGVtZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxBdHRhY2hlbWVudHM6IGN1cnJBdHRhY2hlbWVudHMgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy50b2dnbGVUb0VkaXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcblxuICAgICAgICAgICAgdmFyIHRlbXBFbWFpbElkY2hpcHMgPSBfdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHM7XG4gICAgICAgICAgICB0ZW1wRW1haWxJZGNoaXBzW2luZGV4XS5pc0VkaXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBlbWFpbElkQ2hpcHM6IHRlbXBFbWFpbElkY2hpcHMgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlRWRpdEVtYWlsID0gZnVuY3Rpb24gKGluZGV4LCBldmVudCkge1xuICAgICAgICAgICAgaWYgKChldmVudC50eXBlID09PSAnYmx1cicgfHwgZXZlbnQua2V5ID09PSAnRW50ZXInKSAmJiBldmVudC50YXJnZXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvL3JlZ3VsYXIgZXhwcmVzc2lvbiAtIHRvIGNoZWNrIEBob3N0LmRvbWFpblxuICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy92YWxpZGF0ZSB0aGUgZW50ZXJlZCBlbWFpbCBpZFxuICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkRW1haWwgPSAoMCwgX2VtYWlsSGVscGVyLnZhbGlkYXRlRW1haWwpKGV2ZW50LnRhcmdldC52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGVtcEVtYWlsSWRDaGlwcyA9IF90aGlzLnN0YXRlLmVtYWlsSWRDaGlwcztcbiAgICAgICAgICAgICAgICB0ZW1wRW1haWxJZENoaXBzW2luZGV4XS52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0ZW1wRW1haWxJZENoaXBzW2luZGV4XS5pc1ZhbGlkRW1haWwgPSBpc1ZhbGlkRW1haWw7XG4gICAgICAgICAgICAgICAgdGVtcEVtYWlsSWRDaGlwc1tpbmRleF0uaXNFZGl0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyB2YXIgb2JqID0ge1xuICAgICAgICAgICAgICAgIC8vICAgICBrZXk6IGVtYWlsQXJyLmxlbmd0aCwgbGFiZWw6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAvLyAgICAgZW1haWxJZDogZXZlbnQudGFyZ2V0LnZhbHVlLCBpc1ZhbGlkRW1haWw6IGlzVmFsaWRFbWFpbCxcbiAgICAgICAgICAgICAgICAvLyAgICAgaXNFZGl0aW5nIDogZmFsc2VcbiAgICAgICAgICAgICAgICAvLyB9O1xuICAgICAgICAgICAgICAgIC8vIGVtYWlsQXJyLnB1c2gob2JqKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHRvQWRkcjogdGVtcEVtYWlsSWRDaGlwcyB9KTtcbiAgICAgICAgICAgICAgICAvLyBldmVudC50YXJnZXQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChpbmRleCwgZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wRW1haWxJZENoaXBzID0gX3RoaXMuc3RhdGUuZW1haWxJZENoaXBzO1xuICAgICAgICAgICAgdGVtcEVtYWlsSWRDaGlwc1tpbmRleF0udmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsSWRDaGlwczogdGVtcEVtYWlsSWRDaGlwcyB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5zZW5kU3VtbWFyeUVtYWlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy9JbnZvaWNlIGRvY3VtZW50IGlkcyBcbiAgICAgICAgICAgIHZhciBkb2N1bWVudElEcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50SURzLnB1c2goX3RoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHNbaV0uaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9pZiBubyB0b0FkZHIgaXMgcHJlc2VudCwgc2hvdyBpbiBzbmFjayBiYXJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlBsZWFzZSBzcGVjaWZ5IGF0IGxlYXN0IG9uZSByZWNpcGllbnQuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vdG8gZW1haWwgYWRkcmVzc2VzIFxuICAgICAgICAgICAgdmFyIHRvQWRkciA9IFwiXCI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLnN0YXRlLmVtYWlsSWRDaGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHNbaV0uaXNWYWxpZEVtYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvQWRkciArPSBfdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHNbaV0uZW1haWxJZCArIFwiLFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vcmVtb3ZlIGxhc3QgY29tbWFcbiAgICAgICAgICAgIHZhciBwb3MgPSB0b0FkZHIubGFzdEluZGV4T2YoXCIsXCIpO1xuICAgICAgICAgICAgdG9BZGRyID0gdG9BZGRyLnNsaWNlKDAsIHBvcyk7XG4gICAgICAgICAgICB2YXIgZW1haWxCb2R5ID0gX3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZUJvZHk7XG4gICAgICAgICAgICBlbWFpbEJvZHkgPSBlbWFpbEJvZHkucmVwbGFjZSgvXFxuL2csICc8YnIgLz4nKTtcbiAgICAgICAgICAgIC8vIENyZWF0aW5nIHJlcXVlc3QgZW1haWwgb2JqZWN0XG4gICAgICAgICAgICB2YXIgZW1haWxPYmogPSB7XG4gICAgICAgICAgICAgICAgYm9keTogZW1haWxCb2R5LFxuICAgICAgICAgICAgICAgIHN1YmplY3Q6IF90aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVTdWJqZWN0LFxuICAgICAgICAgICAgICAgIC8vIGNvcnJUeXBlSWQ6IHRoaXMuc3RhdGUudGVtcGxhdGVJZCwgICAgLy8gd2hhdCAgaWYgdGVtcGxhdGVzIGFyZSBub3QgZmV0Y2hlZC4gXG4gICAgICAgICAgICAgICAgY3VzdG9tZXJJZDogX3RoaXMucHJvcHMuY3VzdG9tZXIuaWQsXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRJZHM6IGRvY3VtZW50SURzLFxuICAgICAgICAgICAgICAgIGZyb206IF90aGlzLnByb3BzLmNvbGxlY3Rvci5lbWFpbElkLCAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXG4gICAgICAgICAgICAgICAgdG86IHRvQWRkciAvL2dldCBmcm9tIENvbnRhY3Qgb2JqZWN0LlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIE1ha2luZyBhIHBvc3QgY2FsbCBmb3Igc2VuZGluZyBlbWFpbHNcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiB0cnVlIH0pO1xuICAgICAgICAgICAgX2NvcnJlc3BvbmRlbmNlU2VydmljZS5jb3JyZXNwb25kZW5jZVNlcnZpY2Uuc2VuZENhbGxTdW1tYXJ5KGVtYWlsT2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsU2VudDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAvL2Rpc2FibGUgdG8gdGhlIGNvbXBvbmVudCB0byByZWFkIG9ubHkgbW9kZS5cbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLnNldERlZmF1bHRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY29sbGVjdG9yID0gX3RoaXMkcHJvcHMuY29sbGVjdG9yLFxuICAgICAgICAgICAgICAgIHN1bW1hcnlOb3RlcyA9IF90aGlzJHByb3BzLnN1bW1hcnlOb3RlcyxcbiAgICAgICAgICAgICAgICBub25BY3Rpb25JbmNsdWRlZCA9IF90aGlzJHByb3BzLm5vbkFjdGlvbkluY2x1ZGVkO1xuXG4gICAgICAgICAgICB2YXIgaW52b2ljZVN0cmluZyA9IF90aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLmxlbmd0aCA+IDAgPyB7IFBGQU1lc3NhZ2U6IF9jb25zdGFudHMuUEZBTWVzc2FnZSB9IDogXCJcIjtcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5U3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBmaXJzdE5hbWUgPSBjb2xsZWN0b3IuZmlyc3ROYW1lID8gX3RoaXMucHJvcHMuY29sbGVjdG9yLmZpcnN0TmFtZSA6IFwiXCI7XG4gICAgICAgICAgICB2YXIgbGFzdE5hbWUgPSBjb2xsZWN0b3IubGFzdE5hbWUgPyBfdGhpcy5wcm9wcy5jb2xsZWN0b3IubGFzdE5hbWUgOiBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBzdW1tYXJ5Tm90ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBzdW1tYXJ5Tm90ZXMubGVuZ3RoIC0gMSAmJiBub25BY3Rpb25JbmNsdWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3VtbWFyeVN0cmluZyArPSBzdW1tYXJ5Tm90ZXNbaV0udHJpbSgpID8gJ1xcblxcdTIwMjIgJyArIHN1bW1hcnlOb3Rlc1tpXSA6IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdW1tYXJ5U3RyaW5nID0gc3VtbWFyeVN0cmluZyA/ICdcXG5QbGVhc2UgZmluZCBiZWxvdyB0aGUgc3VtbWFyeSBvZiBvdXIgY29udmVyc2F0aW9uOlxcbicgKyBzdW1tYXJ5U3RyaW5nICsgJ1xcblxcbicgKyBpbnZvaWNlU3RyaW5nICsgJ1xcbicgOiBcIlwiO1xuICAgICAgICAgICAgdmFyIGVtYWlsQm9keSA9IHN1bW1hcnlTdHJpbmcgPyAnR3JlZXRpbmdzLFxcbicgKyBzdW1tYXJ5U3RyaW5nICsgJ1xcblJlZ2FyZHMsXFxuJyArIChmaXJzdE5hbWUgKyBcIiBcIiArIGxhc3ROYW1lKSA6IFwiXCI7XG4gICAgICAgICAgICB2YXIgbmV3TGluZUNvdW50ID0gKGVtYWlsQm9keS5tYXRjaCgvXFxuL2cpIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVCb2R5OiBlbWFpbEJvZHksIGVtYWlsQm9keUhlaWdodDogbmV3TGluZUNvdW50ICsgMSB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5lbWFpbEFkZCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVSZWYoKTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBlbWFpbElkQ2hpcHM6IF90aGlzLnByb3BzLmVtYWlsSWRDaGlwcyxcbiAgICAgICAgICAgIHRlbXBsYXRlSWQ6IC0xLFxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IF9jb25zdGFudHMuZGVmYXVsdEVtYWlsU3ViamVjdCxcbiAgICAgICAgICAgIGVtYWlsU2VudDogZmFsc2UsXG4gICAgICAgICAgICBlbWFpbEJvZHlIZWlnaHQ6IDEyLFxuICAgICAgICAgICAgZW1haWxBdHRhY2hlbWVudHM6IF90aGlzLnByb3BzLmVtYWlsQXR0YWNoZW1lbnRzLFxuICAgICAgICAgICAgc25hY2tCYXJPcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIHNuYWNrQmFyTWVzc2FnZTogXCJcIixcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVOYW1lOiBcIlwiLFxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZUJvZHk6IFwiXCIsXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlczogW11cblxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRW1haWxCb3gsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0Qm9keSgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxJZENoaXBzOiBuZXh0UHJvcHMuZW1haWxJZENoaXBzIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIGZ1bmN0aW9uIGZvciBjaGFuZ2UgaW4gdGVtcGxhdGUgc2VsZWN0aW9uXG5cblxuICAgICAgICAvLyBvbiBwcmVzc2luZyBlbnRlciBrZXkgYWZ0ZXIgZW1haWwgaWQgYWRkaXRpb25cblxuXG4gICAgICAgIC8vaGFuZGxlIGZ1bmN0aW9uIHdoZW4gZW1haWxJZCBjaGlwIGlzIHJlbW92ZWRcblxuXG4gICAgICAgIC8vIG9uIGNoYW5nZSBpbiBlbWFpbCBzdWJqZWN0XG5cblxuICAgICAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgYm9keVxuXG5cbiAgICAgICAgLy8gcmVtb3ZlIGF0dGFjaGVtZW50IGZyb20gZW1haWxcblxuXG4gICAgICAgIC8vIFNlbmQgcG9zdCBjYWxsIHN1bW1hcnkgZW1haWxcblxuXG4gICAgICAgIC8vIE9wZW4gc25hY2sgYmFyIHdpdGggbWVzc2FnZVxuXG5cbiAgICAgICAgLy8gQ2xvc2Ugc25hY2sgYmFyIHVzaW5nIGNyb3NzIGJ1dHRvblxuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5GcmFnbWVudCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsSGVhZGVyIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMS4wNjY2NnJlbVwiLCBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLCBjb2xvcjogXCIjZmZmZmZmXCIsIG9wYWNpdHk6IDAuNjUsIHBhZGRpbmdCb3R0b206IFwiMC4yZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnU0VORCBTVU1NQVJZIE1BSUwnXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuc3VtbWFyeUVtYWlsIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5zdW1tYXJ5RW1haWxGb3JtIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5lbWFpbElkQ2hpcHNJbnB1dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmVtYWlsQWRkTGFiZWwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZW1haWxJZENoaXBzLm1hcChmdW5jdGlvbiAoZW1haWwsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbWFpbC5pc0VkaXRpbmcgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW5wdXQyLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25LZXlQcmVzcz17IChlKSA9PiAgdGhpcy5oYW5kbGVFZGl0RW1haWwoaW5kZXgsIGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHsgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGFuZGxlQ2hhbmdlKGluZGV4LCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW1haWwubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVFZGl0RW1haWwoaW5kZXgsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5lbWFpbElkSW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NoaXAyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogZW1haWwua2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGVtYWlsLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBlbWFpbC5pc1ZhbGlkRW1haWwgPyBjbGFzc2VzLmVtYWlsSWRDaGlwcyA6IGNsYXNzZXMuaW52YWxpZEVtYWlsSWRDaGlwcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DbG9zZTIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogIV90aGlzMi5zdGF0ZS5lbWFpbFNlbnQgPyBjbGFzc2VzLnJlbW92ZUVtYWlsSWQgOiBjbGFzc2VzLmRpc2FibGVJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90b2RvIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xpY2thYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbkNsaWNrPSB7IChlKSA9PiAgdGhpcy50b2dnbGVUb0VkaXQoaW5kZXgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBvbkRlbGV0ZTogX3RoaXMyLmhhbmRsZUVtYWlsSWREZWxldGUoZW1haWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBjbGlja2FibGU6IGVtYWlsLmlzVmFsaWRFbWFpbCA/IGNsYXNzZXMuZW1haWxJZENoaXBzIDogY2xhc3Nlcy5pbnZhbGlkRW1haWxJZENoaXBzIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0lucHV0Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M6IHRoaXMuaGFuZGxlRW1haWxFbnRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUVtYWlsRW50ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmVtYWlsSWRJbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuc3RhdGUuZW1haWxTZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFJlZjogdGhpcy5lbWFpbEFkZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0lucHV0Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpblRvcDogXCIxJVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdTdWJqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IGRpc2FibGVkOiBjbGFzc2VzLmRpc2FibGVkU3ViamVjdElucHV0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmVtYWlsU3ViamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlU3ViamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVTdWJqZWN0Q2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuc3RhdGUuZW1haWxTZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnN1bW1hcnlFbWFpbEJvZHkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29yZS5UZXh0RmllbGQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdlbWFpbEJvZHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpbGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZUJvZHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUVtYWlsQm9keUNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93czogMTIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBcIndoaXRlXCIsIG92ZXJmbG93OiBcImhpZGRlblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3NNYXg6IHRoaXMuc3RhdGUuZW1haWxCb2R5SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZW1haWxCb2R5VGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCJ3aGl0ZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IGlucHV0OiBjbGFzc2VzLmhpZGVPdmVyZmxvdyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnN0YXRlLmVtYWlsU2VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUF0dGFjaGVtZW50cyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzLmxlbmd0aCA+IDAgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmludm9pY2VDb3VudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLCBmb250U2l6ZTogXCIwLjk3NzdcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ludm9pY2UgQXR0YWNoZW1lbnRzICgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkTGlzdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2VsbEhlaWdodDogXCJhdXRvXCIsIGNsYXNzTmFtZTogY2xhc3Nlcy5ncmlkTGlzdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5tYXAoZnVuY3Rpb24gKGludm9pY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HcmlkTGlzdFRpbGUyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY29sczogMSwga2V5OiBpbnZvaWNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTIuNXJlbScsIHBhZGRpbmc6ICcwLjI1cmVtJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5ncmlkTGlzdERpdiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBkaXNwbGF5OiAnYmxvY2snLCBtYXJnaW5MZWZ0OiAnMC4zNzVyZW0nIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nOiAnMC4yNXJlbScsIGZvbnRTaXplOiAnMC44ODhyZW0nLCBvcGFjaXR5OiAwLjY1LCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLmRvY3VtZW50TnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nOiAnMC4yNXJlbScsIGZvbnRTaXplOiAnMXJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckICcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2UuY3VycmVudE9wZW5BbW91bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnN1bW1hcnlFbWFpbEZvb3RlciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvcmUuQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc2VuZFN1bW1hcnlFbWFpbEJ0bixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ2NvbnRhaW5lZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc2VuZFN1bW1hcnlFbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuc3RhdGUuZW1haWxTZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU0VORCdcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUuc25hY2tCYXJPcGVuLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAwLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbWVzc2FnZS1pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0ljb25CdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsb3NlU25hY2tiYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2xvc2UyLmRlZmF1bHQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICldXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRW1haWxCb3g7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5FbWFpbEJveC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5FbWFpbEJveC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoRW1haWxCb3gpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwNDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jb3JyZXNwb25kZW5jZVNlcnZpY2UgPSB1bmRlZmluZWQ7XG5cbnZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxudmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cbnZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cbnZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cbnZhciBfbmV0d29ya1V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQkFTRV9VUkwgPSBcIi9jb3JyZXNwb25kZW5jZVwiO1xuXG5mdW5jdGlvbiBnZXRFbWFpbFRlbXBsYXRlcygpIHtcbiAgICByZXR1cm4gX2F4aW9zMi5kZWZhdWx0LnBvc3QoJycgKyBfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArIEJBU0VfVVJMICsgJy9lbWFpbHRlbXBsYXRlcycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiAoMCwgX25ldHdvcmtVdGlscy5oYW5kbGVBcGlSZXNwb25zZSkocmVzcG9uc2UpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICByZXR1cm4gKDAsIF9uZXR3b3JrVXRpbHMuaGFuZGxlQXBpUmVzcG9uc2UpKGVycm9yKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2VuZENhbGxTdW1tYXJ5KHJlcU9iaikge1xuICAgIHJldHVybiBfYXhpb3MyLmRlZmF1bHQucG9zdCgnJyArIF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgQkFTRV9VUkwgKyAnL2NhbGxzdW1tYXJ5JywgcmVxT2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gKDAsIF9uZXR3b3JrVXRpbHMuaGFuZGxlQXBpUmVzcG9uc2UpKHJlc3BvbnNlKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfbmV0d29ya1V0aWxzLmhhbmRsZUFwaVJlc3BvbnNlKShlcnJvcik7XG4gICAgfSk7XG59XG5cbnZhciBjb3JyZXNwb25kZW5jZVNlcnZpY2UgPSBleHBvcnRzLmNvcnJlc3BvbmRlbmNlU2VydmljZSA9IHsgZ2V0RW1haWxUZW1wbGF0ZXM6IGdldEVtYWlsVGVtcGxhdGVzLCBzZW5kQ2FsbFN1bW1hcnk6IHNlbmRDYWxsU3VtbWFyeSB9O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xudmFyIHZhbGlkYXRlRW1haWwgPSBleHBvcnRzLnZhbGlkYXRlRW1haWwgPSBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKGVtYWlsKSB7XG4gICAgdmFyIHJlID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgcmV0dXJuIHJlLnRlc3QoZW1haWwpO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMDY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKTtcblxudmFyIF9MaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3QpO1xuXG52YXIgX0xpc3RJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjEpO1xuXG52YXIgX0xpc3RJdGVtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3RJdGVtKTtcblxudmFyIF9MaXN0SXRlbVRleHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MCk7XG5cbnZhciBfTGlzdEl0ZW1UZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3RJdGVtVGV4dCk7XG5cbnZhciBfRGlhbG9nVGl0bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Mik7XG5cbnZhciBfRGlhbG9nVGl0bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nVGl0bGUpO1xuXG52YXIgX0RpYWxvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblxudmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpYWxvZ1BhcGVyOiB7XG4gICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgd2hpdGUnLFxuICAgICAgICAgICAgd2lkdGg6ICcxOS41M3Z3J1xuICAgICAgICB9LFxuICAgICAgICBkaWFsb2c6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVOZXdBY3Rpb25EaWFsb2dIZWFkZXI6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArICcgIWltcG9ydGFudCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzEuMjQ0NDRyZW0nXG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZU5ld0FjdGlvbkRpYWxvZ09wdGlvbnM6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArICcgIWltcG9ydGFudCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzAuOTc3N3JlbScsXG4gICAgICAgICAgICBwb2ludGVyOiAnY3Vyc29yJ1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBwcm9wVHlwZXMgPSB7XG4gICAgb3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAgIG9uQ2xvc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgICBvbkFjdGlvbkl0ZW1DbGljazogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICAgIG9wZW46IGZhbHNlLFxuICAgIG9uQ2xvc2U6IF9jb25zdGFudHMuZW1wdHlGdW5jdGlvbixcbiAgICBvbkFjdGlvbkl0ZW1DbGljazogX2NvbnN0YW50cy5lbXB0eUZ1bmN0aW9uXG59O1xuXG52YXIgQWN0aW9uQ3JlYXRvckRpYWxvZyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEFjdGlvbkNyZWF0b3JEaWFsb2csIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQWN0aW9uQ3JlYXRvckRpYWxvZyhwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWN0aW9uQ3JlYXRvckRpYWxvZyk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFjdGlvbkNyZWF0b3JEaWFsb2cuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBY3Rpb25DcmVhdG9yRGlhbG9nKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQWN0aW9uQ3JlYXRvckRpYWxvZywgW3tcbiAgICAgICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHMub3BlbiAhPT0gdGhpcy5wcm9wcy5vcGVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBvcGVuID0gX3Byb3BzLm9wZW4sXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IF9wcm9wcy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgIG9uQ2xvc2UgPSBfcHJvcHMub25DbG9zZTtcblxuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0RpYWxvZzIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IG9uQ2xvc2UsXG4gICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsbGVkYnknOiAnbmV3LWFjdGlvbi1kaWFsb2ctdGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiBvcGVuLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHBhcGVyU2Nyb2xsUGFwZXI6IGNsYXNzZXMuZGlhbG9nUGFwZXIgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9EaWFsb2dUaXRsZTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICduZXctYWN0aW9uLWRpYWxvZy10aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMuZGlhbG9nIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jcmVhdGVOZXdBY3Rpb25EaWFsb2dIZWFkZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGUgTmV3IEFjdGlvbidcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5GcmFnbWVudCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfTGlzdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmNyZWF0ZU5ld0FjdGlvbkRpYWxvZ09wdGlvbnMgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF9jb25zdGFudHMuQUNUSU9OX1RZUEVTKS5tYXAoZnVuY3Rpb24gKGFjdGlvblR5cGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9MaXN0SXRlbTIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY3Vyc29yOiAncG9pbnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5wcm9wcy5vbkFjdGlvbkl0ZW1DbGljayhfY29uc3RhbnRzLkFDVElPTl9UWVBFU1thY3Rpb25UeXBlS2V5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBhY3Rpb25UeXBlS2V5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0xpc3RJdGVtVGV4dDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZSAnICsgX2NvbnN0YW50cy5BQ1RJT05fVFlQRVNbYWN0aW9uVHlwZUtleV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBY3Rpb25DcmVhdG9yRGlhbG9nO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuLy9yZW1vdmUgcHJvcFR5cGVzIGluIHByb2R1Y3Rpb25cblxuXG5BY3Rpb25DcmVhdG9yRGlhbG9nLnByb3BUeXBlcyA9IHByb3BUeXBlcztcbkFjdGlvbkNyZWF0b3JEaWFsb2cuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEFjdGlvbkNyZWF0b3JEaWFsb2cpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEwNzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIF9Hcm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nyk7XG5cbnZhciBfR3JvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm93KTtcblxudmFyIF9jb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfcmVhY3RIaWdobGlnaHRXb3JkcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwOCk7XG5cbnZhciBfcmVhY3RIaWdobGlnaHRXb3JkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEhpZ2hsaWdodFdvcmRzKTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cbnZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwOSk7XG5cbnZhciBfcmVhY3RHaWZQbGF5ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OSk7XG5cbnZhciBfcmVhY3RHaWZQbGF5ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RHaWZQbGF5ZXIpO1xuXG52YXIgX1JpcHBsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjExMik7XG5cbnZhciBfUmlwcGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JpcHBsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBhdXRob3IgQmFscmFqIFNpbmdoIDxiYWxyYWpzaW5naC5zQGhpZ2hyYWRpdXMuY29tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG5cbiAgICAgICAgY2hhdEJ1YmJsZToge1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImZsZXgtc3RhcnRcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiNHB4XCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXG4gICAgICAgICAgICBtaW5XaWR0aDogXCJjYWxjKDEwMCUgLSAycmVtKVwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxMDAlIC0gMnJlbSlcIixcbiAgICAgICAgICAgIG1pbkhlaWdodDogXCIxcmVtXCIsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiNHB4XCJcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHRCdWJibGU6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiMC42NSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICBhbGlnblNlbGY6IFwiZmxleC1lbmRcIixcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93LXJldmVyc2VcIlxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogXCIxcmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogXCIjZmZmXCJcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0TWVzc2FnZToge1xuICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoOTMsIDE3MCwgMjI0LCAwLjMpXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2lyY2xlZFRleHQ6IHtcbiAgICAgICAgICAgIG1pbldpZHRoOiBcIjJyZW1cIixcbiAgICAgICAgICAgIG1pbkhlaWdodDogXCIycmVtXCIsXG4gICAgICAgICAgICBtYXhIZWlnaHQ6IFwiMnJlbVwiLFxuICAgICAgICAgICAgbWF4V2lkdGg6IFwiMnJlbVwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMC44cmVtXCIsXG4gICAgICAgICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBcIjJyZW1cIixcbiAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiIzVEQUFFMFwiXG4gICAgICAgIH0sXG4gICAgICAgIGdpZkFuaW1hdG9yOiB7fSxcbiAgICAgICAgZGV0ZWN0b3I6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzVEQUFFMFwiXG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodGVyRm9yTGVmdDoge1xuICAgICAgICAgICAgYWxpZ25TZWxmOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIxMHB4XCJcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0ZXJGb3JSaWdodDoge1xuICAgICAgICAgICAgdGV4dEFsaWduOiBcInJpZ2h0XCIsXG4gICAgICAgICAgICBhbGlnblNlbGY6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogXCIxMHB4XCJcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgQ2hhdEJveCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKENoYXRCb3gsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ2hhdEJveChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhdEJveCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENoYXRCb3guX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDaGF0Qm94KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2hhdEJveCwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGlzQ29sbGVjdG9yID0gX3Byb3BzLmlzQ29sbGVjdG9yLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfcHJvcHMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gX3Byb3BzLmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgaXNEZXRlY3RpbmcgPSBfcHJvcHMuaXNEZXRlY3Rpbmc7XG5cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAvL2NvbW1lbnQgPEdyb3c+IGFuZCA8L0dyb3c+IGZvbGxvd2luZyBmb3IgcnVubmluZyB0ZXN0cyBzdWl0ZVxuICAgICAgICAgICAgICAgIC8vY2Fubm90IHNldCB0cmFuc2l0aW9ucyBpbiBub2RlIGVudlxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfR3JvdzIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyAnaW4nOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5jaGF0QnViYmxlICsgXCIgXCIgKyAoaXNDb2xsZWN0b3IgPyBjbGFzc2VzLnJpZ2h0QnViYmxlIDogXCJcIikgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc0RldGVjdGluZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNpcmNsZWRUZXh0ICsgXCIgXCIgKyAoaXNEZXRlY3RpbmcgPyBjbGFzc2VzLmRldGVjdG9yIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RldGVjdGluZyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGhlaWdodDogXCIyLjVyZW1cIiwgd2lkdGg6IFwiMi41cmVtXCIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNyYz17XCIvdG92by9zdGF0aWMvUmlwcGxlLmdpZlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgc3JjOiBfUmlwcGxlMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdDogJ0RldGVjdGluZyBTcGVha2VycyBBbmltYXRpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdEhpZ2hsaWdodFdvcmRzMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBpc0NvbGxlY3RvciA/IGNsYXNzZXMuaGlnaGxpZ2h0ZXJGb3JSaWdodCA6IGNsYXNzZXMuaGlnaGxpZ2h0ZXJGb3JMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaGlnaGxpZ2h0Q2xhc3NOYW1lOiBjbGFzc2VzLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3NOYW1lOiBjbGFzc2VzLmhpZ2hsaWdodE1lc3NhZ2UgKyBcIiBcIiArIGNsYXNzZXMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hXb3JkczogX2NvbnN0YW50cy5ISUdITElHSFRFUl9SRUdFWCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0VG9IaWdobGlnaHQ6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENoYXRCb3g7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DaGF0Qm94LnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGlzQ29sbGVjdG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gICAgbWVzc2FnZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gICAgaXNEZXRlY3Rpbmc6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbFxufTtcbkNoYXRCb3guZGVmYXVsdFByb3BzID0ge1xuICAgIGlzQ29sbGVjdG9yOiBmYWxzZSxcbiAgICBtZXNzYWdlOiBcIlwiLFxuICAgIGlzRGV0ZWN0aW5nOiBmYWxzZVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoQ2hhdEJveCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTA4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9XG4vKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9IaWdobGlnaHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0hpZ2hsaWdodGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hpZ2hsaWdodGVyKTtcblxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBfSGlnaGxpZ2h0ZXIyWydkZWZhdWx0J107XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEhpZ2hsaWdodGVyO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9oaWdobGlnaHRXb3Jkc0NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9tZW1vaXplT25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX21lbW9pemVPbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWVtb2l6ZU9uZSk7XG5cdFxuXHRIaWdobGlnaHRlci5wcm9wVHlwZXMgPSB7XG5cdCAgYWN0aXZlQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcblx0ICBhY3RpdmVJbmRleDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5udW1iZXIsXG5cdCAgYWN0aXZlU3R5bGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0LFxuXHQgIGF1dG9Fc2NhcGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcblx0ICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXHQgIGZpbmRDaHVua3M6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblx0ICBoaWdobGlnaHRDbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdCwgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmddKSxcblx0ICBoaWdobGlnaHRTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3QsXG5cdCAgaGlnaGxpZ2h0VGFnOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9uZU9mVHlwZShbX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nXSksXG5cdCAgc2FuaXRpemU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblx0ICBzZWFyY2hXb3JkczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5hcnJheU9mKF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZywgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5pbnN0YW5jZU9mKFJlZ0V4cCldKSkuaXNSZXF1aXJlZCxcblx0ICB0ZXh0VG9IaWdobGlnaHQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAgdW5oaWdobGlnaHRDbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXHQgIHVuaGlnaGxpZ2h0U3R5bGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0XG5cdH07XG5cdFxuXHQvKipcblx0ICogSGlnaGxpZ2h0cyBhbGwgb2NjdXJyZW5jZXMgb2Ygc2VhcmNoIHRlcm1zIChzZWFyY2hUZXh0KSB3aXRoaW4gYSBzdHJpbmcgKHRleHRUb0hpZ2hsaWdodCkuXG5cdCAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbiBhcnJheSBvZiBzdHJpbmdzIGFuZCA8c3Bhbj5zICh3cmFwcGluZyBoaWdobGlnaHRlZCB3b3JkcykuXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gSGlnaGxpZ2h0ZXIoX3JlZikge1xuXHQgIHZhciBfcmVmJGFjdGl2ZUNsYXNzTmFtZSA9IF9yZWYuYWN0aXZlQ2xhc3NOYW1lO1xuXHQgIHZhciBhY3RpdmVDbGFzc05hbWUgPSBfcmVmJGFjdGl2ZUNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJGFjdGl2ZUNsYXNzTmFtZTtcblx0ICB2YXIgX3JlZiRhY3RpdmVJbmRleCA9IF9yZWYuYWN0aXZlSW5kZXg7XG5cdCAgdmFyIGFjdGl2ZUluZGV4ID0gX3JlZiRhY3RpdmVJbmRleCA9PT0gdW5kZWZpbmVkID8gLTEgOiBfcmVmJGFjdGl2ZUluZGV4O1xuXHQgIHZhciBhY3RpdmVTdHlsZSA9IF9yZWYuYWN0aXZlU3R5bGU7XG5cdCAgdmFyIGF1dG9Fc2NhcGUgPSBfcmVmLmF1dG9Fc2NhcGU7XG5cdCAgdmFyIF9yZWYkY2FzZVNlbnNpdGl2ZSA9IF9yZWYuY2FzZVNlbnNpdGl2ZTtcblx0ICB2YXIgY2FzZVNlbnNpdGl2ZSA9IF9yZWYkY2FzZVNlbnNpdGl2ZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGNhc2VTZW5zaXRpdmU7XG5cdCAgdmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lO1xuXHQgIHZhciBmaW5kQ2h1bmtzID0gX3JlZi5maW5kQ2h1bmtzO1xuXHQgIHZhciBfcmVmJGhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYuaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciBoaWdobGlnaHRDbGFzc05hbWUgPSBfcmVmJGhpZ2hsaWdodENsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJGhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICB2YXIgX3JlZiRoaWdobGlnaHRTdHlsZSA9IF9yZWYuaGlnaGxpZ2h0U3R5bGU7XG5cdCAgdmFyIGhpZ2hsaWdodFN0eWxlID0gX3JlZiRoaWdobGlnaHRTdHlsZSA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGhpZ2hsaWdodFN0eWxlO1xuXHQgIHZhciBfcmVmJGhpZ2hsaWdodFRhZyA9IF9yZWYuaGlnaGxpZ2h0VGFnO1xuXHQgIHZhciBoaWdobGlnaHRUYWcgPSBfcmVmJGhpZ2hsaWdodFRhZyA9PT0gdW5kZWZpbmVkID8gJ21hcmsnIDogX3JlZiRoaWdobGlnaHRUYWc7XG5cdCAgdmFyIHNhbml0aXplID0gX3JlZi5zYW5pdGl6ZTtcblx0ICB2YXIgc2VhcmNoV29yZHMgPSBfcmVmLnNlYXJjaFdvcmRzO1xuXHQgIHZhciB0ZXh0VG9IaWdobGlnaHQgPSBfcmVmLnRleHRUb0hpZ2hsaWdodDtcblx0ICB2YXIgX3JlZiR1bmhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYudW5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZiR1bmhpZ2hsaWdodENsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciB1bmhpZ2hsaWdodFN0eWxlID0gX3JlZi51bmhpZ2hsaWdodFN0eWxlO1xuXHRcblx0ICB2YXIgY2h1bmtzID0gKDAsIF9oaWdobGlnaHRXb3Jkc0NvcmUuZmluZEFsbCkoe1xuXHQgICAgYXV0b0VzY2FwZTogYXV0b0VzY2FwZSxcblx0ICAgIGNhc2VTZW5zaXRpdmU6IGNhc2VTZW5zaXRpdmUsXG5cdCAgICBmaW5kQ2h1bmtzOiBmaW5kQ2h1bmtzLFxuXHQgICAgc2FuaXRpemU6IHNhbml0aXplLFxuXHQgICAgc2VhcmNoV29yZHM6IHNlYXJjaFdvcmRzLFxuXHQgICAgdGV4dFRvSGlnaGxpZ2h0OiB0ZXh0VG9IaWdobGlnaHRcblx0ICB9KTtcblx0ICB2YXIgSGlnaGxpZ2h0VGFnID0gaGlnaGxpZ2h0VGFnO1xuXHQgIHZhciBoaWdobGlnaHRDb3VudCA9IC0xO1xuXHQgIHZhciBoaWdobGlnaHRDbGFzc05hbWVzID0gJyc7XG5cdCAgdmFyIGhpZ2hsaWdodFN0eWxlcyA9IHVuZGVmaW5lZDtcblx0XG5cdCAgdmFyIGxvd2VyY2FzZVByb3BzID0gZnVuY3Rpb24gbG93ZXJjYXNlUHJvcHMob2JqZWN0KSB7XG5cdCAgICB2YXIgbWFwcGVkID0ge307XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG5cdCAgICAgIG1hcHBlZFtrZXkudG9Mb3dlckNhc2UoKV0gPSBvYmplY3Rba2V5XTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBtYXBwZWQ7XG5cdCAgfTtcblx0ICB2YXIgbWVtb2l6ZWRMb3dlcmNhc2VQcm9wcyA9ICgwLCBfbWVtb2l6ZU9uZTJbJ2RlZmF1bHQnXSkobG93ZXJjYXNlUHJvcHMpO1xuXHRcblx0ICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAnc3BhbicsXG5cdCAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sXG5cdCAgICBjaHVua3MubWFwKGZ1bmN0aW9uIChjaHVuaywgaW5kZXgpIHtcblx0ICAgICAgdmFyIHRleHQgPSB0ZXh0VG9IaWdobGlnaHQuc3Vic3RyKGNodW5rLnN0YXJ0LCBjaHVuay5lbmQgLSBjaHVuay5zdGFydCk7XG5cdFxuXHQgICAgICBpZiAoY2h1bmsuaGlnaGxpZ2h0KSB7XG5cdCAgICAgICAgaGlnaGxpZ2h0Q291bnQrKztcblx0XG5cdCAgICAgICAgdmFyIGhpZ2hsaWdodENsYXNzID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIGlmICh0eXBlb2YgaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgaWYgKCFjYXNlU2Vuc2l0aXZlKSB7XG5cdCAgICAgICAgICAgIGhpZ2hsaWdodENsYXNzTmFtZSA9IG1lbW9pemVkTG93ZXJjYXNlUHJvcHMoaGlnaGxpZ2h0Q2xhc3NOYW1lKTtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3MgPSBoaWdobGlnaHRDbGFzc05hbWVbdGV4dC50b0xvd2VyQ2FzZSgpXTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGhpZ2hsaWdodENsYXNzID0gaGlnaGxpZ2h0Q2xhc3NOYW1lW3RleHRdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBoaWdobGlnaHRDbGFzcyA9IGhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBpc0FjdGl2ZSA9IGhpZ2hsaWdodENvdW50ID09PSArYWN0aXZlSW5kZXg7XG5cdFxuXHQgICAgICAgIGhpZ2hsaWdodENsYXNzTmFtZXMgPSBoaWdobGlnaHRDbGFzcyArICcgJyArIChpc0FjdGl2ZSA/IGFjdGl2ZUNsYXNzTmFtZSA6ICcnKTtcblx0ICAgICAgICBoaWdobGlnaHRTdHlsZXMgPSBpc0FjdGl2ZSA9PT0gdHJ1ZSAmJiBhY3RpdmVTdHlsZSAhPSBudWxsID8gT2JqZWN0LmFzc2lnbih7fSwgaGlnaGxpZ2h0U3R5bGUsIGFjdGl2ZVN0eWxlKSA6IGhpZ2hsaWdodFN0eWxlO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBIaWdobGlnaHRUYWcsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogaGlnaGxpZ2h0Q2xhc3NOYW1lcyxcblx0ICAgICAgICAgICAga2V5OiBpbmRleCxcblx0ICAgICAgICAgICAgc3R5bGU6IGhpZ2hsaWdodFN0eWxlc1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHRleHRcblx0ICAgICAgICApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiB1bmhpZ2hsaWdodENsYXNzTmFtZSxcblx0ICAgICAgICAgICAga2V5OiBpbmRleCxcblx0ICAgICAgICAgICAgc3R5bGU6IHVuaGlnaGxpZ2h0U3R5bGVcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICB0ZXh0XG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICApO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPVxuXHQvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG5cdC8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuXHQvKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cblx0LyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0LyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuXHQvKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdC8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG5cdC8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuXHQvKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG5cdC8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcblx0LyoqKioqKi8gXHRcdH07XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0LyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHQvKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHQvKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuXHQvKioqKioqLyBcdH1cblx0LyoqKioqKi9cblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuXHQvKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcblx0LyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG5cdC8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcblx0LyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblx0LyoqKioqKi8gfSlcblx0LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblx0LyoqKioqKi8gKFtcblx0LyogMCAqL1xuXHQvKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cdFxuXHRcdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdFxuXHQvKioqLyB9KSxcblx0LyogMSAqL1xuXHQvKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cdFxuXHRcdCd1c2Ugc3RyaWN0Jztcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHQgIHZhbHVlOiB0cnVlXG5cdFx0fSk7XG5cdFx0XG5cdFx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFx0XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjb21iaW5lQ2h1bmtzJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmNvbWJpbmVDaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaWxsSW5DaHVua3MnLCB7XG5cdFx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFx0ICAgIHJldHVybiBfdXRpbHMuZmlsbEluQ2h1bmtzO1xuXHRcdCAgfVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZmluZEFsbCcsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5maW5kQWxsO1xuXHRcdCAgfVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZmluZENodW5rcycsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5maW5kQ2h1bmtzO1xuXHRcdCAgfVxuXHRcdH0pO1xuXHRcblx0LyoqKi8gfSksXG5cdC8qIDIgKi9cblx0LyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXHRcblx0XHQndXNlIHN0cmljdCc7XG5cdFx0XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0ICB2YWx1ZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgY2h1bmsgb2JqZWN0cyByZXByZXNlbnRpbmcgYm90aCBoaWdsaWdodGFibGUgYW5kIG5vbiBoaWdobGlnaHRhYmxlIHBpZWNlcyBvZiB0ZXh0IHRoYXQgbWF0Y2ggZWFjaCBzZWFyY2ggd29yZC5cblx0XHQgKiBAcmV0dXJuIEFycmF5IG9mIFwiY2h1bmtzXCIgKHdoZXJlIGEgQ2h1bmsgaXMgeyBzdGFydDpudW1iZXIsIGVuZDpudW1iZXIsIGhpZ2hsaWdodDpib29sZWFuIH0pXG5cdFx0ICovXG5cdFx0dmFyIGZpbmRBbGwgPSBleHBvcnRzLmZpbmRBbGwgPSBmdW5jdGlvbiBmaW5kQWxsKF9yZWYpIHtcblx0XHQgIHZhciBhdXRvRXNjYXBlID0gX3JlZi5hdXRvRXNjYXBlLFxuXHRcdCAgICAgIF9yZWYkY2FzZVNlbnNpdGl2ZSA9IF9yZWYuY2FzZVNlbnNpdGl2ZSxcblx0XHQgICAgICBjYXNlU2Vuc2l0aXZlID0gX3JlZiRjYXNlU2Vuc2l0aXZlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkY2FzZVNlbnNpdGl2ZSxcblx0XHQgICAgICBfcmVmJGZpbmRDaHVua3MgPSBfcmVmLmZpbmRDaHVua3MsXG5cdFx0ICAgICAgZmluZENodW5rcyA9IF9yZWYkZmluZENodW5rcyA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEZpbmRDaHVua3MgOiBfcmVmJGZpbmRDaHVua3MsXG5cdFx0ICAgICAgc2FuaXRpemUgPSBfcmVmLnNhbml0aXplLFxuXHRcdCAgICAgIHNlYXJjaFdvcmRzID0gX3JlZi5zZWFyY2hXb3Jkcyxcblx0XHQgICAgICB0ZXh0VG9IaWdobGlnaHQgPSBfcmVmLnRleHRUb0hpZ2hsaWdodDtcblx0XHQgIHJldHVybiBmaWxsSW5DaHVua3Moe1xuXHRcdCAgICBjaHVua3NUb0hpZ2hsaWdodDogY29tYmluZUNodW5rcyh7XG5cdFx0ICAgICAgY2h1bmtzOiBmaW5kQ2h1bmtzKHtcblx0XHQgICAgICAgIGF1dG9Fc2NhcGU6IGF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgICBjYXNlU2Vuc2l0aXZlOiBjYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgICAgc2FuaXRpemU6IHNhbml0aXplLFxuXHRcdCAgICAgICAgc2VhcmNoV29yZHM6IHNlYXJjaFdvcmRzLFxuXHRcdCAgICAgICAgdGV4dFRvSGlnaGxpZ2h0OiB0ZXh0VG9IaWdobGlnaHRcblx0XHQgICAgICB9KVxuXHRcdCAgICB9KSxcblx0XHQgICAgdG90YWxMZW5ndGg6IHRleHRUb0hpZ2hsaWdodCA/IHRleHRUb0hpZ2hsaWdodC5sZW5ndGggOiAwXG5cdFx0ICB9KTtcblx0XHR9O1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIFRha2VzIGFuIGFycmF5IG9mIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9IG9iamVjdHMgYW5kIGNvbWJpbmVzIGNodW5rcyB0aGF0IG92ZXJsYXAgaW50byBzaW5nbGUgY2h1bmtzLlxuXHRcdCAqIEByZXR1cm4ge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqL1xuXHRcdHZhciBjb21iaW5lQ2h1bmtzID0gZXhwb3J0cy5jb21iaW5lQ2h1bmtzID0gZnVuY3Rpb24gY29tYmluZUNodW5rcyhfcmVmMikge1xuXHRcdCAgdmFyIGNodW5rcyA9IF9yZWYyLmNodW5rcztcblx0XHRcblx0XHQgIGNodW5rcyA9IGNodW5rcy5zb3J0KGZ1bmN0aW9uIChmaXJzdCwgc2Vjb25kKSB7XG5cdFx0ICAgIHJldHVybiBmaXJzdC5zdGFydCAtIHNlY29uZC5zdGFydDtcblx0XHQgIH0pLnJlZHVjZShmdW5jdGlvbiAocHJvY2Vzc2VkQ2h1bmtzLCBuZXh0Q2h1bmspIHtcblx0XHQgICAgLy8gRmlyc3QgY2h1bmsganVzdCBnb2VzIHN0cmFpZ2h0IGluIHRoZSBhcnJheS4uLlxuXHRcdCAgICBpZiAocHJvY2Vzc2VkQ2h1bmtzLmxlbmd0aCA9PT0gMCkge1xuXHRcdCAgICAgIHJldHVybiBbbmV4dENodW5rXTtcblx0XHQgICAgfSBlbHNlIHtcblx0XHQgICAgICAvLyAuLi4gc3Vic2VxdWVudCBjaHVua3MgZ2V0IGNoZWNrZWQgdG8gc2VlIGlmIHRoZXkgb3ZlcmxhcC4uLlxuXHRcdCAgICAgIHZhciBwcmV2Q2h1bmsgPSBwcm9jZXNzZWRDaHVua3MucG9wKCk7XG5cdFx0ICAgICAgaWYgKG5leHRDaHVuay5zdGFydCA8PSBwcmV2Q2h1bmsuZW5kKSB7XG5cdFx0ICAgICAgICAvLyBJdCBtYXkgYmUgdGhlIGNhc2UgdGhhdCBwcmV2Q2h1bmsgY29tcGxldGVseSBzdXJyb3VuZHMgbmV4dENodW5rLCBzbyB0YWtlIHRoZVxuXHRcdCAgICAgICAgLy8gbGFyZ2VzdCBvZiB0aGUgZW5kIGluZGVjZXMuXG5cdFx0ICAgICAgICB2YXIgZW5kSW5kZXggPSBNYXRoLm1heChwcmV2Q2h1bmsuZW5kLCBuZXh0Q2h1bmsuZW5kKTtcblx0XHQgICAgICAgIHByb2Nlc3NlZENodW5rcy5wdXNoKHsgc3RhcnQ6IHByZXZDaHVuay5zdGFydCwgZW5kOiBlbmRJbmRleCB9KTtcblx0XHQgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgcHJvY2Vzc2VkQ2h1bmtzLnB1c2gocHJldkNodW5rLCBuZXh0Q2h1bmspO1xuXHRcdCAgICAgIH1cblx0XHQgICAgICByZXR1cm4gcHJvY2Vzc2VkQ2h1bmtzO1xuXHRcdCAgICB9XG5cdFx0ICB9LCBbXSk7XG5cdFx0XG5cdFx0ICByZXR1cm4gY2h1bmtzO1xuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogRXhhbWluZSB0ZXh0IGZvciBhbnkgbWF0Y2hlcy5cblx0XHQgKiBJZiB3ZSBmaW5kIG1hdGNoZXMsIGFkZCB0aGVtIHRvIHRoZSByZXR1cm5lZCBhcnJheSBhcyBhIFwiY2h1bmtcIiBvYmplY3QgKHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9KS5cblx0XHQgKiBAcmV0dXJuIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9W11cblx0XHQgKi9cblx0XHR2YXIgZGVmYXVsdEZpbmRDaHVua3MgPSBmdW5jdGlvbiBkZWZhdWx0RmluZENodW5rcyhfcmVmMykge1xuXHRcdCAgdmFyIGF1dG9Fc2NhcGUgPSBfcmVmMy5hdXRvRXNjYXBlLFxuXHRcdCAgICAgIGNhc2VTZW5zaXRpdmUgPSBfcmVmMy5jYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIF9yZWYzJHNhbml0aXplID0gX3JlZjMuc2FuaXRpemUsXG5cdFx0ICAgICAgc2FuaXRpemUgPSBfcmVmMyRzYW5pdGl6ZSA9PT0gdW5kZWZpbmVkID8gaWRlbnRpdHkgOiBfcmVmMyRzYW5pdGl6ZSxcblx0XHQgICAgICBzZWFyY2hXb3JkcyA9IF9yZWYzLnNlYXJjaFdvcmRzLFxuXHRcdCAgICAgIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYzLnRleHRUb0hpZ2hsaWdodDtcblx0XHRcblx0XHQgIHRleHRUb0hpZ2hsaWdodCA9IHNhbml0aXplKHRleHRUb0hpZ2hsaWdodCk7XG5cdFx0XG5cdFx0ICByZXR1cm4gc2VhcmNoV29yZHMuZmlsdGVyKGZ1bmN0aW9uIChzZWFyY2hXb3JkKSB7XG5cdFx0ICAgIHJldHVybiBzZWFyY2hXb3JkO1xuXHRcdCAgfSkgLy8gUmVtb3ZlIGVtcHR5IHdvcmRzXG5cdFx0ICAucmVkdWNlKGZ1bmN0aW9uIChjaHVua3MsIHNlYXJjaFdvcmQpIHtcblx0XHQgICAgc2VhcmNoV29yZCA9IHNhbml0aXplKHNlYXJjaFdvcmQpO1xuXHRcdFxuXHRcdCAgICBpZiAoYXV0b0VzY2FwZSkge1xuXHRcdCAgICAgIHNlYXJjaFdvcmQgPSBlc2NhcGVSZWdFeHBGbihzZWFyY2hXb3JkKTtcblx0XHQgICAgfVxuXHRcdFxuXHRcdCAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHNlYXJjaFdvcmQsIGNhc2VTZW5zaXRpdmUgPyAnZycgOiAnZ2knKTtcblx0XHRcblx0XHQgICAgdmFyIG1hdGNoID0gdm9pZCAwO1xuXHRcdCAgICB3aGlsZSAobWF0Y2ggPSByZWdleC5leGVjKHRleHRUb0hpZ2hsaWdodCkpIHtcblx0XHQgICAgICB2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDtcblx0XHQgICAgICB2YXIgZW5kID0gcmVnZXgubGFzdEluZGV4O1xuXHRcdCAgICAgIC8vIFdlIGRvIG5vdCByZXR1cm4gemVyby1sZW5ndGggbWF0Y2hlc1xuXHRcdCAgICAgIGlmIChlbmQgPiBzdGFydCkge1xuXHRcdCAgICAgICAgY2h1bmtzLnB1c2goeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pO1xuXHRcdCAgICAgIH1cblx0XHRcblx0XHQgICAgICAvLyBQcmV2ZW50IGJyb3dzZXJzIGxpa2UgRmlyZWZveCBmcm9tIGdldHRpbmcgc3R1Y2sgaW4gYW4gaW5maW5pdGUgbG9vcFxuXHRcdCAgICAgIC8vIFNlZSBodHRwOi8vd3d3LnJlZ2V4Z3VydS5jb20vMjAwOC8wNC93YXRjaC1vdXQtZm9yLXplcm8tbGVuZ3RoLW1hdGNoZXMvXG5cdFx0ICAgICAgaWYgKG1hdGNoLmluZGV4ID09IHJlZ2V4Lmxhc3RJbmRleCkge1xuXHRcdCAgICAgICAgcmVnZXgubGFzdEluZGV4Kys7XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIHJldHVybiBjaHVua3M7XG5cdFx0ICB9LCBbXSk7XG5cdFx0fTtcblx0XHQvLyBBbGxvdyB0aGUgZmluZENodW5rcyB0byBiZSBvdmVycmlkZGVuIGluIGZpbmRBbGwsXG5cdFx0Ly8gYnV0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3ZSBleHBvcnQgYXMgdGhlIG9sZCBuYW1lXG5cdFx0ZXhwb3J0cy5maW5kQ2h1bmtzID0gZGVmYXVsdEZpbmRDaHVua3M7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogR2l2ZW4gYSBzZXQgb2YgY2h1bmtzIHRvIGhpZ2hsaWdodCwgY3JlYXRlIGFuIGFkZGl0aW9uYWwgc2V0IG9mIGNodW5rc1xuXHRcdCAqIHRvIHJlcHJlc2VudCB0aGUgYml0cyBvZiB0ZXh0IGJldHdlZW4gdGhlIGhpZ2hsaWdodGVkIHRleHQuXG5cdFx0ICogQHBhcmFtIGNodW5rc1RvSGlnaGxpZ2h0IHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9W11cblx0XHQgKiBAcGFyYW0gdG90YWxMZW5ndGggbnVtYmVyXG5cdFx0ICogQHJldHVybiB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyLCBoaWdobGlnaHQ6Ym9vbGVhbn1bXVxuXHRcdCAqL1xuXHRcdFxuXHRcdHZhciBmaWxsSW5DaHVua3MgPSBleHBvcnRzLmZpbGxJbkNodW5rcyA9IGZ1bmN0aW9uIGZpbGxJbkNodW5rcyhfcmVmNCkge1xuXHRcdCAgdmFyIGNodW5rc1RvSGlnaGxpZ2h0ID0gX3JlZjQuY2h1bmtzVG9IaWdobGlnaHQsXG5cdFx0ICAgICAgdG90YWxMZW5ndGggPSBfcmVmNC50b3RhbExlbmd0aDtcblx0XHRcblx0XHQgIHZhciBhbGxDaHVua3MgPSBbXTtcblx0XHQgIHZhciBhcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoc3RhcnQsIGVuZCwgaGlnaGxpZ2h0KSB7XG5cdFx0ICAgIGlmIChlbmQgLSBzdGFydCA+IDApIHtcblx0XHQgICAgICBhbGxDaHVua3MucHVzaCh7XG5cdFx0ICAgICAgICBzdGFydDogc3RhcnQsXG5cdFx0ICAgICAgICBlbmQ6IGVuZCxcblx0XHQgICAgICAgIGhpZ2hsaWdodDogaGlnaGxpZ2h0XG5cdFx0ICAgICAgfSk7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFx0XG5cdFx0ICBpZiAoY2h1bmtzVG9IaWdobGlnaHQubGVuZ3RoID09PSAwKSB7XG5cdFx0ICAgIGFwcGVuZCgwLCB0b3RhbExlbmd0aCwgZmFsc2UpO1xuXHRcdCAgfSBlbHNlIHtcblx0XHQgICAgdmFyIGxhc3RJbmRleCA9IDA7XG5cdFx0ICAgIGNodW5rc1RvSGlnaGxpZ2h0LmZvckVhY2goZnVuY3Rpb24gKGNodW5rKSB7XG5cdFx0ICAgICAgYXBwZW5kKGxhc3RJbmRleCwgY2h1bmsuc3RhcnQsIGZhbHNlKTtcblx0XHQgICAgICBhcHBlbmQoY2h1bmsuc3RhcnQsIGNodW5rLmVuZCwgdHJ1ZSk7XG5cdFx0ICAgICAgbGFzdEluZGV4ID0gY2h1bmsuZW5kO1xuXHRcdCAgICB9KTtcblx0XHQgICAgYXBwZW5kKGxhc3RJbmRleCwgdG90YWxMZW5ndGgsIGZhbHNlKTtcblx0XHQgIH1cblx0XHQgIHJldHVybiBhbGxDaHVua3M7XG5cdFx0fTtcblx0XHRcblx0XHRmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuXHRcdCAgcmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0XHRcblx0XHRmdW5jdGlvbiBlc2NhcGVSZWdFeHBGbihzdHIpIHtcblx0XHQgIHJldHVybiBzdHIucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csICdcXFxcJCYnKTtcblx0XHR9XG5cdFxuXHQvKioqLyB9KVxuXHQvKioqKioqLyBdKTtcblx0Ly8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG5cdCAgICBTeW1ib2wuZm9yICYmXG5cdCAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG5cdCAgICAweGVhYzc7XG5cdFxuXHQgIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG5cdCAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuXHQgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcblx0ICB9O1xuXHRcblx0ICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cblx0ICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG5cdCAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuXHQgIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG5cdH0gZWxzZSB7XG5cdCAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cblx0ICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSgpO1xuXHR9XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHR2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdFxuXHQvLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcblx0Ly8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG5cdC8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcblx0Ly8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblx0XG5cdHZhciBjYWNoZWRTZXRUaW1lb3V0O1xuXHR2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdGZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgIH1cblx0fSAoKSlcblx0ZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcblx0ICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcblx0ICAgICAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdH1cblx0ZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuXHQgICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG5cdCAgICAgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuXHQgICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHRcblx0fVxuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlKGxlbikge1xuXHQgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuXHQgICAgICAgIHF1ZXVlID0gW107XG5cdCAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHR9XG5cdFxuXHRwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcblx0ICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG5cdCAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblx0ZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG5cdCAgICB0aGlzLmZ1biA9IGZ1bjtcblx0ICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcblx0fTtcblx0cHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcblx0cHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcblx0cHJvY2Vzcy5lbnYgPSB7fTtcblx0cHJvY2Vzcy5hcmd2ID0gW107XG5cdHByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXHRwcm9jZXNzLnZlcnNpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHByb2Nlc3Mub24gPSBub29wO1xuXHRwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5vbmNlID0gbm9vcDtcblx0cHJvY2Vzcy5vZmYgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuXHRwcm9jZXNzLmVtaXQgPSBub29wO1xuXHRwcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cdFxuXHRwcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cdFxuXHRwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0dmFyIHdhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHR2YXIgYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0dmFyIGNoZWNrUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG5cdCAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuXHQgIHZhciBJVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcblx0ICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblx0XG5cdCAgLyoqXG5cdCAgICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuXHQgICAqXG5cdCAgICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG15SXRlcmFibGUpO1xuXHQgICAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuXHQgICAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcblx0ICAgKiAgICAgICAuLi5cblx0ICAgKiAgICAgfVxuXHQgICAqXG5cdCAgICogQHBhcmFtIHs/b2JqZWN0fSBtYXliZUl0ZXJhYmxlXG5cdCAgICogQHJldHVybiB7P2Z1bmN0aW9ufVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuXHQgICAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcblx0ICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICByZXR1cm4gaXRlcmF0b3JGbjtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyB0aGF0IGFsbG93IGRlY2xhcmF0aW9uIGFuZCB2YWxpZGF0aW9uIG9mIHByb3BzIHRoYXQgYXJlXG5cdCAgICogc3VwcGxpZWQgdG8gUmVhY3QgY29tcG9uZW50cy4gRXhhbXBsZSB1c2FnZTpcblx0ICAgKlxuXHQgICAqICAgdmFyIFByb3BzID0gcmVxdWlyZSgnUmVhY3RQcm9wVHlwZXMnKTtcblx0ICAgKiAgIHZhciBNeUFydGljbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdCAgICogICAgIHByb3BUeXBlczoge1xuXHQgICAqICAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBwcm9wIG5hbWVkIFwiZGVzY3JpcHRpb25cIi5cblx0ICAgKiAgICAgICBkZXNjcmlwdGlvbjogUHJvcHMuc3RyaW5nLFxuXHQgICAqXG5cdCAgICogICAgICAgLy8gQSByZXF1aXJlZCBlbnVtIHByb3AgbmFtZWQgXCJjYXRlZ29yeVwiLlxuXHQgICAqICAgICAgIGNhdGVnb3J5OiBQcm9wcy5vbmVPZihbJ05ld3MnLCdQaG90b3MnXSkuaXNSZXF1aXJlZCxcblx0ICAgKlxuXHQgICAqICAgICAgIC8vIEEgcHJvcCBuYW1lZCBcImRpYWxvZ1wiIHRoYXQgcmVxdWlyZXMgYW4gaW5zdGFuY2Ugb2YgRGlhbG9nLlxuXHQgICAqICAgICAgIGRpYWxvZzogUHJvcHMuaW5zdGFuY2VPZihEaWFsb2cpLmlzUmVxdWlyZWRcblx0ICAgKiAgICAgfSxcblx0ICAgKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHsgLi4uIH1cblx0ICAgKiAgIH0pO1xuXHQgICAqXG5cdCAgICogQSBtb3JlIGZvcm1hbCBzcGVjaWZpY2F0aW9uIG9mIGhvdyB0aGVzZSBtZXRob2RzIGFyZSB1c2VkOlxuXHQgICAqXG5cdCAgICogICB0eXBlIDo9IGFycmF5fGJvb2x8ZnVuY3xvYmplY3R8bnVtYmVyfHN0cmluZ3xvbmVPZihbLi4uXSl8aW5zdGFuY2VPZiguLi4pXG5cdCAgICogICBkZWNsIDo9IFJlYWN0UHJvcFR5cGVzLnt0eXBlfSguaXNSZXF1aXJlZCk/XG5cdCAgICpcblx0ICAgKiBFYWNoIGFuZCBldmVyeSBkZWNsYXJhdGlvbiBwcm9kdWNlcyBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgc2lnbmF0dXJlLiBUaGlzXG5cdCAgICogYWxsb3dzIHRoZSBjcmVhdGlvbiBvZiBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbnMuIEZvciBleGFtcGxlOlxuXHQgICAqXG5cdCAgICogIHZhciBNeUxpbmsgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdCAgICogICAgcHJvcFR5cGVzOiB7XG5cdCAgICogICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgb3IgVVJJIHByb3AgbmFtZWQgXCJocmVmXCIuXG5cdCAgICogICAgICBocmVmOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcblx0ICAgKiAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgKiAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wVmFsdWUgIT09ICdzdHJpbmcnICYmXG5cdCAgICogICAgICAgICAgICAhKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFVSSSkpIHtcblx0ICAgKiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFxuXHQgICAqICAgICAgICAgICAgJ0V4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIFVSSSBmb3IgJyArIHByb3BOYW1lICsgJyBpbiAnICtcblx0ICAgKiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcblx0ICAgKiAgICAgICAgICApO1xuXHQgICAqICAgICAgICB9XG5cdCAgICogICAgICB9XG5cdCAgICogICAgfSxcblx0ICAgKiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgey4uLn1cblx0ICAgKiAgfSk7XG5cdCAgICpcblx0ICAgKiBAaW50ZXJuYWxcblx0ICAgKi9cblx0XG5cdCAgdmFyIEFOT05ZTU9VUyA9ICc8PGFub255bW91cz4+Jztcblx0XG5cdCAgLy8gSW1wb3J0YW50IVxuXHQgIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzYC5cblx0ICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG5cdCAgICBhcnJheTogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2FycmF5JyksXG5cdCAgICBib29sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYm9vbGVhbicpLFxuXHQgICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG5cdCAgICBudW1iZXI6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdudW1iZXInKSxcblx0ICAgIG9iamVjdDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ29iamVjdCcpLFxuXHQgICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG5cdCAgICBzeW1ib2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzeW1ib2wnKSxcblx0XG5cdCAgICBhbnk6IGNyZWF0ZUFueVR5cGVDaGVja2VyKCksXG5cdCAgICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG5cdCAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcblx0ICAgIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXG5cdCAgICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuXHQgICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXG5cdCAgICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxuXHQgICAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuXHQgICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIsXG5cdCAgICBleGFjdDogY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcixcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG5cdCAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG5cdCAgICovXG5cdCAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXHQgIGZ1bmN0aW9uIGlzKHgsIHkpIHtcblx0ICAgIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cblx0ICAgIGlmICh4ID09PSB5KSB7XG5cdCAgICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuXHQgICAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuXHQgICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBTdGVwIDYuYTogTmFOID09IE5hTlxuXHQgICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuXHQgICAgfVxuXHQgIH1cblx0ICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cblx0XG5cdCAgLyoqXG5cdCAgICogV2UgdXNlIGFuIEVycm9yLWxpa2Ugb2JqZWN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFzIHBlb3BsZSBtYXkgY2FsbFxuXHQgICAqIFByb3BUeXBlcyBkaXJlY3RseSBhbmQgaW5zcGVjdCB0aGVpciBvdXRwdXQuIEhvd2V2ZXIsIHdlIGRvbid0IHVzZSByZWFsXG5cdCAgICogRXJyb3JzIGFueW1vcmUuIFdlIGRvbid0IGluc3BlY3QgdGhlaXIgc3RhY2sgYW55d2F5LCBhbmQgY3JlYXRpbmcgdGhlbVxuXHQgICAqIGlzIHByb2hpYml0aXZlbHkgZXhwZW5zaXZlIGlmIHRoZXkgYXJlIGNyZWF0ZWQgdG9vIG9mdGVuLCBzdWNoIGFzIHdoYXRcblx0ICAgKiBoYXBwZW5zIGluIG9uZU9mVHlwZSgpIGZvciBhbnkgdHlwZSBiZWZvcmUgdGhlIG9uZSB0aGF0IG1hdGNoZWQuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlKSB7XG5cdCAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHQgICAgdGhpcy5zdGFjayA9ICcnO1xuXHQgIH1cblx0ICAvLyBNYWtlIGBpbnN0YW5jZW9mIEVycm9yYCBzdGlsbCB3b3JrIGZvciByZXR1cm5lZCBlcnJvcnMuXG5cdCAgUHJvcFR5cGVFcnJvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICB2YXIgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGUgPSB7fTtcblx0ICAgICAgdmFyIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50ID0gMDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuXHQgICAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBBTk9OWU1PVVM7XG5cdCAgICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcblx0XG5cdCAgICAgIGlmIChzZWNyZXQgIT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG5cdCAgICAgICAgaWYgKHRocm93T25EaXJlY3RBY2Nlc3MpIHtcblx0ICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxuXHQgICAgICAgICAgaW52YXJpYW50KFxuXHQgICAgICAgICAgICBmYWxzZSxcblx0ICAgICAgICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuXHQgICAgICAgICAgICAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICtcblx0ICAgICAgICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgIC8vIE9sZCBiZWhhdmlvciBmb3IgcGVvcGxlIHVzaW5nIFJlYWN0LlByb3BUeXBlc1xuXHQgICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuXHQgICAgICAgICAgaWYgKFxuXHQgICAgICAgICAgICAhbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldICYmXG5cdCAgICAgICAgICAgIC8vIEF2b2lkIHNwYW1taW5nIHRoZSBjb25zb2xlIGJlY2F1c2UgdGhleSBhcmUgb2Z0ZW4gbm90IGFjdGlvbmFibGUgZXhjZXB0IGZvciBsaWIgYXV0aG9yc1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA8IDNcblx0ICAgICAgICAgICkge1xuXHQgICAgICAgICAgICB3YXJuaW5nKFxuXHQgICAgICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgICAgICdZb3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgYSBSZWFjdC5Qcm9wVHlwZXMgdmFsaWRhdGlvbiAnICtcblx0ICAgICAgICAgICAgICAnZnVuY3Rpb24gZm9yIHRoZSBgJXNgIHByb3Agb24gYCVzYC4gVGhpcyBpcyBkZXByZWNhdGVkICcgK1xuXHQgICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICAgICAgICAgJ1lvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8gYSB0aGlyZC1wYXJ0eSBQcm9wVHlwZXMgJyArXG5cdCAgICAgICAgICAgICAgJ2xpYnJhcnkuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmctZG9udC1jYWxsLXByb3B0eXBlcyAnICsgJ2ZvciBkZXRhaWxzLicsXG5cdCAgICAgICAgICAgICAgcHJvcEZ1bGxOYW1lLFxuXHQgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldID0gdHJ1ZTtcblx0ICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQrKztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG5cdCAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcblx0ICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgdW5kZWZpbmVkYC4nKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG5cdCAgICBjaGFpbmVkQ2hlY2tUeXBlLmlzUmVxdWlyZWQgPSBjaGVja1R5cGUuYmluZChudWxsLCB0cnVlKTtcblx0XG5cdCAgICByZXR1cm4gY2hhaW5lZENoZWNrVHlwZTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcblx0ICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcblx0ICAgICAgICAvLyBjaGVjaywgYnV0IHdlIGNhbiBvZmZlciBhIG1vcmUgcHJlY2lzZSBlcnJvciBtZXNzYWdlIGhlcmUgcmF0aGVyIHRoYW5cblx0ICAgICAgICAvLyAnb2YgdHlwZSBgb2JqZWN0YCcuXG5cdCAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBhcnJheS4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnWycgKyBpICsgJ10nLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuXHQgICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50LicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuXHQgICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG5cdCAgICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIGFjdHVhbENsYXNzTmFtZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnaW5zdGFuY2Ugb2YgYCcgKyBleHBlY3RlZENsYXNzTmFtZSArICdgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcblx0ICAgIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mLCBleHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBhcnJheS4nKSA6IHZvaWQgMDtcblx0ICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XG5cdCAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG5cdCAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdmFsdWUgYCcgKyBwcm9wVmFsdWUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgb25lIG9mICcgKyB2YWx1ZXNTdHJpbmcgKyAnLicpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wVmFsdWUpIHtcblx0ICAgICAgICBpZiAocHJvcFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0ICAgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5T2ZUeXBlQ2hlY2tlcnMpKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuXHQgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcblx0ICAgICAgaWYgKHR5cGVvZiBjaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgd2FybmluZyhcblx0ICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2ZUeXBlLiBFeHBlY3RlZCBhbiBhcnJheSBvZiBjaGVjayBmdW5jdGlvbnMsIGJ1dCAnICtcblx0ICAgICAgICAgICdyZWNlaXZlZCAlcyBhdCBpbmRleCAlcy4nLFxuXHQgICAgICAgICAgZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKGNoZWNrZXIpLFxuXHQgICAgICAgICAgaVxuXHQgICAgICAgICk7XG5cdCAgICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcblx0ICAgICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KSA9PSBudWxsKSB7XG5cdCAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIFJlYWN0Tm9kZS4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuXHQgICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuXHQgICAgICAgIGlmICghY2hlY2tlcikge1xuXHQgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGFsbCBrZXlzIGluIGNhc2Ugc29tZSBhcmUgcmVxdWlyZWQgYnV0IG1pc3NpbmcgZnJvbVxuXHQgICAgICAvLyBwcm9wcy5cblx0ICAgICAgdmFyIGFsbEtleXMgPSBhc3NpZ24oe30sIHByb3BzW3Byb3BOYW1lXSwgc2hhcGVUeXBlcyk7XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBhbGxLZXlzKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cdCAgICAgICAgaWYgKCFjaGVja2VyKSB7XG5cdCAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXG5cdCAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcblx0ICAgICAgICAgICAgJ1xcbkJhZCBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShwcm9wc1twcm9wTmFtZV0sIG51bGwsICcgICcpICtcblx0ICAgICAgICAgICAgJ1xcblZhbGlkIGtleXM6ICcgKyAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoc2hhcGVUeXBlcyksIG51bGwsICcgICcpXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgaWYgKGVycm9yKSB7XG5cdCAgICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG5cdCAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wVmFsdWUpIHtcblx0ICAgICAgY2FzZSAnbnVtYmVyJzpcblx0ICAgICAgY2FzZSAnc3RyaW5nJzpcblx0ICAgICAgY2FzZSAndW5kZWZpbmVkJzpcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgY2FzZSAnYm9vbGVhbic6XG5cdCAgICAgICAgcmV0dXJuICFwcm9wVmFsdWU7XG5cdCAgICAgIGNhc2UgJ29iamVjdCc6XG5cdCAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IGlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcblx0ICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuXHQgICAgICAgICAgdmFyIHN0ZXA7XG5cdCAgICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gcHJvcFZhbHVlLmVudHJpZXMpIHtcblx0ICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHQgICAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAvLyBJdGVyYXRvciB3aWxsIHByb3ZpZGUgZW50cnkgW2ssdl0gdHVwbGVzIHJhdGhlciB0aGFuIHZhbHVlcy5cblx0ICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHQgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG5cdCAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSB7XG5cdCAgICAvLyBOYXRpdmUgU3ltYm9sLlxuXHQgICAgaWYgKHByb3BUeXBlID09PSAnc3ltYm9sJykge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddID09PSAnU3ltYm9sJ1xuXHQgICAgaWYgKHByb3BWYWx1ZVsnQEB0b1N0cmluZ1RhZyddID09PSAnU3ltYm9sJykge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBGYWxsYmFjayBmb3Igbm9uLXNwZWMgY29tcGxpYW50IFN5bWJvbHMgd2hpY2ggYXJlIHBvbHlmaWxsZWQuXG5cdCAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wVmFsdWUgaW5zdGFuY2VvZiBTeW1ib2wpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgLy8gRXF1aXZhbGVudCBvZiBgdHlwZW9mYCBidXQgd2l0aCBzcGVjaWFsIGhhbmRsaW5nIGZvciBhcnJheSBhbmQgcmVnZXhwLlxuXHQgIGZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuXHQgICAgdmFyIHByb3BUeXBlID0gdHlwZW9mIHByb3BWYWx1ZTtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgcmV0dXJuICdhcnJheSc7XG5cdCAgICB9XG5cdCAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG5cdCAgICAgIC8vIE9sZCB3ZWJraXRzIChhdCBsZWFzdCB1bnRpbCBBbmRyb2lkIDQuMCkgcmV0dXJuICdmdW5jdGlvbicgcmF0aGVyIHRoYW5cblx0ICAgICAgLy8gJ29iamVjdCcgZm9yIHR5cGVvZiBhIFJlZ0V4cC4gV2UnbGwgbm9ybWFsaXplIHRoaXMgaGVyZSBzbyB0aGF0IC9ibGEvXG5cdCAgICAgIC8vIHBhc3NlcyBQcm9wVHlwZXMub2JqZWN0LlxuXHQgICAgICByZXR1cm4gJ29iamVjdCc7XG5cdCAgICB9XG5cdCAgICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcblx0ICAgICAgcmV0dXJuICdzeW1ib2wnO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHByb3BUeXBlO1xuXHQgIH1cblx0XG5cdCAgLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuXHQgIC8vIFNlZSBgY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXJgLlxuXHQgIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuXHQgICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BWYWx1ZSA9PT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gJycgKyBwcm9wVmFsdWU7XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuXHQgICAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuXHQgICAgICAgIHJldHVybiAnZGF0ZSc7XG5cdCAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG5cdCAgICAgICAgcmV0dXJuICdyZWdleHAnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcHJvcFR5cGU7XG5cdCAgfVxuXHRcblx0ICAvLyBSZXR1cm5zIGEgc3RyaW5nIHRoYXQgaXMgcG9zdGZpeGVkIHRvIGEgd2FybmluZyBhYm91dCBhbiBpbnZhbGlkIHR5cGUuXG5cdCAgLy8gRm9yIGV4YW1wbGUsIFwidW5kZWZpbmVkXCIgb3IgXCJvZiB0eXBlIGFycmF5XCJcblx0ICBmdW5jdGlvbiBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcodmFsdWUpIHtcblx0ICAgIHZhciB0eXBlID0gZ2V0UHJlY2lzZVR5cGUodmFsdWUpO1xuXHQgICAgc3dpdGNoICh0eXBlKSB7XG5cdCAgICAgIGNhc2UgJ2FycmF5Jzpcblx0ICAgICAgY2FzZSAnb2JqZWN0Jzpcblx0ICAgICAgICByZXR1cm4gJ2FuICcgKyB0eXBlO1xuXHQgICAgICBjYXNlICdib29sZWFuJzpcblx0ICAgICAgY2FzZSAnZGF0ZSc6XG5cdCAgICAgIGNhc2UgJ3JlZ2V4cCc6XG5cdCAgICAgICAgcmV0dXJuICdhICcgKyB0eXBlO1xuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJldHVybiB0eXBlO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gUmV0dXJucyBjbGFzcyBuYW1lIG9mIHRoZSBvYmplY3QsIGlmIGFueS5cblx0ICBmdW5jdGlvbiBnZXRDbGFzc05hbWUocHJvcFZhbHVlKSB7XG5cdCAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcblx0ICAgICAgcmV0dXJuIEFOT05ZTU9VUztcblx0ICAgIH1cblx0ICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcblx0ICB9XG5cdFxuXHQgIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gY2hlY2tQcm9wVHlwZXM7XG5cdCAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cdFxuXHQgIHJldHVybiBSZWFjdFByb3BUeXBlcztcblx0fTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHQvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqXG5cdCAqIFxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZykge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gYXJnO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuXHQgKiBwcmltYXJpbHkgdXNlZnVsIGlkaW9tYXRpY2FsbHkgZm9yIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGVuZHBvaW50cyB3aGljaFxuXHQgKiBhbHdheXMgbmVlZCB0byBiZSBjYWxsYWJsZSwgc2luY2UgSlMgbGFja3MgYSBudWxsLWNhbGwgaWRpb20gYWxhIENvY29hLlxuXHQgKi9cblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge307XG5cdFxuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWUgPSBtYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcblx0ICByZXR1cm4gYXJnO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBlbXB0eUZ1bmN0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICpcblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuXHQgKlxuXHQgKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuXHQgKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcblx0ICogZXhwZWN0aW5nLlxuXHQgKlxuXHQgKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuXHQgKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG5cdCAqL1xuXHRcblx0dmFyIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7fTtcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG5cdCAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblx0XG5cdCAgaWYgKCFjb25kaXRpb24pIHtcblx0ICAgIHZhciBlcnJvcjtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG5cdCAgICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdCAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG5cdCAgICAgIH0pKTtcblx0ICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcblx0ICAgIH1cblx0XG5cdCAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG5cdCAgICB0aHJvdyBlcnJvcjtcblx0ICB9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlbXB0eUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdC8qKlxuXHQgKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG5cdCAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcblx0ICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcblx0ICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG5cdCAqL1xuXHRcblx0dmFyIHdhcm5pbmcgPSBlbXB0eUZ1bmN0aW9uO1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGZvcm1hdCkge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdCAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG5cdCAgICB9KTtcblx0ICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cblx0ICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG5cdCAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdCAgICB9IGNhdGNoICh4KSB7fVxuXHQgIH07XG5cdFxuXHQgIHdhcm5pbmcgPSBmdW5jdGlvbiB3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZm9ybWF0LmluZGV4T2YoJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICcpID09PSAwKSB7XG5cdCAgICAgIHJldHVybjsgLy8gSWdub3JlIENvbXBvc2l0ZUNvbXBvbmVudCBwcm9wdHlwZSBjaGVjay5cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWNvbmRpdGlvbikge1xuXHQgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHdhcm5pbmc7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qXG5cdG9iamVjdC1hc3NpZ25cblx0KGMpIFNpbmRyZSBTb3JodXNcblx0QGxpY2Vuc2UgTUlUXG5cdCovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cdHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXHR2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXHR2YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cdFxuXHRmdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0XHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIE9iamVjdCh2YWwpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXHRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdFx0dmFyIHRlc3QyID0ge307XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0XHR9KTtcblx0XHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdFx0dmFyIGZyb207XG5cdFx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0XHR2YXIgc3ltYm9scztcblx0XG5cdFx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblx0XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHRvO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFyIGludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdCAgdmFyIHdhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHQgIHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHQgIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEFzc2VydCB0aGF0IHRoZSB2YWx1ZXMgbWF0Y2ggd2l0aCB0aGUgdHlwZSBzcGVjcy5cblx0ICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSB0eXBlU3BlY3MgTWFwIG9mIG5hbWUgdG8gYSBSZWFjdFByb3BUeXBlXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb24gZS5nLiBcInByb3BcIiwgXCJjb250ZXh0XCIsIFwiY2hpbGQgY29udGV4dFwiXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudCBmb3IgZXJyb3IgbWVzc2FnZXMuXG5cdCAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcblx0ICAgICAgaWYgKHR5cGVTcGVjcy5oYXNPd25Qcm9wZXJ0eSh0eXBlU3BlY05hbWUpKSB7XG5cdCAgICAgICAgdmFyIGVycm9yO1xuXHQgICAgICAgIC8vIFByb3AgdHlwZSB2YWxpZGF0aW9uIG1heSB0aHJvdy4gSW4gY2FzZSB0aGV5IGRvLCB3ZSBkb24ndCB3YW50IHRvXG5cdCAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuXHQgICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG5cdCAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG5cdCAgICAgICAgICBpbnZhcmlhbnQodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdID09PSAnZnVuY3Rpb24nLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSAnICsgJ3RoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAlc2AuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBsb2NhdGlvbiwgdHlwZVNwZWNOYW1lLCB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0pO1xuXHQgICAgICAgICAgZXJyb3IgPSB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSh2YWx1ZXMsIHR5cGVTcGVjTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICB9IGNhdGNoIChleCkge1xuXHQgICAgICAgICAgZXJyb3IgPSBleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgd2FybmluZyghZXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciwgJyVzOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJXMgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIGVycm9yKTtcblx0ICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuXHQgICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG5cdCAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuXHQgICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblx0XG5cdCAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkICVzIHR5cGU6ICVzJXMnLCBsb2NhdGlvbiwgZXJyb3IubWVzc2FnZSwgc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJycpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBpbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuXHQgICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcblx0ICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpbnZhcmlhbnQoXG5cdCAgICAgIGZhbHNlLFxuXHQgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcblx0ICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG5cdCAgICApO1xuXHQgIH07XG5cdCAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcblx0ICBmdW5jdGlvbiBnZXRTaGltKCkge1xuXHQgICAgcmV0dXJuIHNoaW07XG5cdCAgfTtcblx0ICAvLyBJbXBvcnRhbnQhXG5cdCAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG5cdCAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuXHQgICAgYXJyYXk6IHNoaW0sXG5cdCAgICBib29sOiBzaGltLFxuXHQgICAgZnVuYzogc2hpbSxcblx0ICAgIG51bWJlcjogc2hpbSxcblx0ICAgIG9iamVjdDogc2hpbSxcblx0ICAgIHN0cmluZzogc2hpbSxcblx0ICAgIHN5bWJvbDogc2hpbSxcblx0XG5cdCAgICBhbnk6IHNoaW0sXG5cdCAgICBhcnJheU9mOiBnZXRTaGltLFxuXHQgICAgZWxlbWVudDogc2hpbSxcblx0ICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG5cdCAgICBub2RlOiBzaGltLFxuXHQgICAgb2JqZWN0T2Y6IGdldFNoaW0sXG5cdCAgICBvbmVPZjogZ2V0U2hpbSxcblx0ICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcblx0ICAgIHNoYXBlOiBnZXRTaGltLFxuXHQgICAgZXhhY3Q6IGdldFNoaW1cblx0ICB9O1xuXHRcblx0ICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247XG5cdCAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cdFxuXHQgIHJldHVybiBSZWFjdFByb3BUeXBlcztcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHNpbXBsZUlzRXF1YWwgPSBmdW5jdGlvbiBzaW1wbGVJc0VxdWFsKGEsIGIpIHtcblx0ICByZXR1cm4gYSA9PT0gYjtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGluZGV4IChyZXN1bHRGbikge1xuXHQgIHZhciBpc0VxdWFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBzaW1wbGVJc0VxdWFsO1xuXHRcblx0ICB2YXIgbGFzdFRoaXMgPSB2b2lkIDA7XG5cdCAgdmFyIGxhc3RBcmdzID0gW107XG5cdCAgdmFyIGxhc3RSZXN1bHQgPSB2b2lkIDA7XG5cdCAgdmFyIGNhbGxlZE9uY2UgPSBmYWxzZTtcblx0XG5cdCAgdmFyIGlzTmV3QXJnRXF1YWxUb0xhc3QgPSBmdW5jdGlvbiBpc05ld0FyZ0VxdWFsVG9MYXN0KG5ld0FyZywgaW5kZXgpIHtcblx0ICAgIHJldHVybiBpc0VxdWFsKG5ld0FyZywgbGFzdEFyZ3NbaW5kZXhdKTtcblx0ICB9O1xuXHRcblx0ICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24gcmVzdWx0KCkge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG5ld0FyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgbmV3QXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY2FsbGVkT25jZSAmJiBsYXN0VGhpcyA9PT0gdGhpcyAmJiBuZXdBcmdzLmxlbmd0aCA9PT0gbGFzdEFyZ3MubGVuZ3RoICYmIG5ld0FyZ3MuZXZlcnkoaXNOZXdBcmdFcXVhbFRvTGFzdCkpIHtcblx0ICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgY2FsbGVkT25jZSA9IHRydWU7XG5cdCAgICBsYXN0VGhpcyA9IHRoaXM7XG5cdCAgICBsYXN0QXJncyA9IG5ld0FyZ3M7XG5cdCAgICBsYXN0UmVzdWx0ID0gcmVzdWx0Rm4uYXBwbHkodGhpcywgbmV3QXJncyk7XG5cdCAgICByZXR1cm4gbGFzdFJlc3VsdDtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGluZGV4O1xuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1haW4uanMubWFwXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTA5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsLCBwcm9jZXNzKSB7Ly8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTEwKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MTExKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTEyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiMzE3ZGYwYjcxOTQ0YjIwMGNiMGEyMzI5ZTdhZWJjMGIuZ2lmXCI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTEzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXG52YXIgX1RleHRGaWVsZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzI2KTtcblxudmFyIF9UZXh0RmllbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dEZpZWxkKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGF1dGhvciBCYWxyYWogU2luZ2ggPGJhbHJhanNpbmdoLnNAaGlnaHJhZGl1cy5jb20+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm9uQWN0aW9uTm90ZXNFZGl0aW5nOiB7XG4gICAgICAgICAgICBib3hTaGFkb3c6IFwiIDAgNHB4IDhweCAwIHJnYmEoMCwwLDAsMC4yKVwiLFxuICAgICAgICAgICAgcGFkZGluZzogXCIwLjhyZW1cIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIycHggc29saWQgI0ZGRlwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlc3Q6IHtcbiAgICAgICAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMHZoJyxcbiAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2sgIWltcG9ydGFudCcsXG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiAncHJlLWxpbmUnXG4gICAgICAgIH0sXG4gICAgICAgIG5vbkFjdGlvbk5vdGVzVGl0bGU6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IFwiMS41cmVtXCIsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgb3BhY2l0eTogMC42NVxuICAgICAgICB9LFxuICAgICAgICBub3Rlc0VkaXRvcjoge1xuICAgICAgICAgICAgd2lkdGg6ICctd2Via2l0LWZpbGwtYXZhaWxhYmxlJ1xuICAgICAgICB9LFxuICAgICAgICBub25BY3Rpb25Ob3Rlc05vdEVkaXRpbmc6IHt9XG4gICAgfTtcbn07XG5cbnZhciBOb3Rlc0VkaXRvciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKE5vdGVzRWRpdG9yLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIE5vdGVzRWRpdG9yKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb3Rlc0VkaXRvcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE5vdGVzRWRpdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTm90ZXNFZGl0b3IpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlTm90ZXNUZXh0RmllbGRDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBub25BY3Rpb25Ob3RlczogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuZWRpdE5vbkFjdGlvbk5vdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBpc0VkaXRpbmdPbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9uLWFjdGlvbi1ub3Rlcy1lZGl0LWZpZWxkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0RmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRGaWVsZC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NvbWV0aGluZyBoYXBwZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmRpc2NhcmROb3Rlc0NoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5vbkFjdGlvbk5vdGVzOiBfdGhpcy5zdGF0ZS5wcmV2Tm9uQWN0aW9uTm90ZXNcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ibHVyTm9uQWN0aW9uTm90ZXNCb3goKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLnNhdmVOb3Rlc0NoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZXZOb25BY3Rpb25Ob3RlczogX3RoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXNcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ibHVyTm9uQWN0aW9uTm90ZXNCb3goKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbk5vdGVzQ2hhbmdlKF90aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmJsdXJOb25BY3Rpb25Ob3Rlc0JveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vbi1hY3Rpb24tbm90ZXMtZWRpdC1maWVsZFwiKTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dEZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRGaWVsZC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzRWRpdGluZ09uOiBmYWxzZSxcbiAgICAgICAgICAgIG5vbkFjdGlvbk5vdGVzOiBfdGhpcy5wcm9wcy5pbml0aWFsTm90ZXMsXG4gICAgICAgICAgICBwcmV2Tm9uQWN0aW9uTm90ZXM6IF90aGlzLnByb3BzLmluaXRpYWxOb3Rlc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKE5vdGVzRWRpdG9yLCBbe1xuICAgICAgICBrZXk6ICdzaG91bGRDb21wb25lbnRVcGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgICAgICBpZiAobmV4dFByb3BzLmluaXRpYWxOb3RlcyAhPT0gdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmV4dFN0YXRlLmlzRWRpdGluZ09uICE9PSB0aGlzLnN0YXRlLmlzRWRpdGluZ09uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHRoaXMucHJvcHMuY2xhc3NlcztcblxuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMubm9uQWN0aW9uTm90ZXNUaXRsZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ05PTiBBQ1RJT04gTk9URVMnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzRWRpdGluZ09uICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Cb3JkZXJDb2xvciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM1REFBRTAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0OiAncmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5lZGl0Tm9uQWN0aW9uTm90ZXNcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNFZGl0aW5nT24gJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgZmxvYXQ6ICdyaWdodCcgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkhpZ2hsaWdodE9mZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6ICcwLjRyZW0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNGRjg4ODgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMCAxLjNyZW0gMCAwLjhyZW0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5kaXNjYXJkTm90ZXNDaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5DaGVja0NpcmNsZU91dGxpbmUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM1RkMzMkMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zYXZlTm90ZXNDaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dEZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnbm9uLWFjdGlvbi1ub3Rlcy1lZGl0LWZpZWxkJyxcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3RlcyxcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlTm90ZXNUZXh0RmllbGRDaGFuZ2UoZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5ub3Rlc0VkaXRvciArICcgJyArICh0aGlzLnN0YXRlLmlzRWRpdGluZ09uID8gY2xhc3Nlcy5ub25BY3Rpb25Ob3Rlc0VkaXRpbmcgOiBjbGFzc2VzLm5vbkFjdGlvbk5vdGVzTm90RWRpdGluZyksXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJ25vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4oIXRoaXMuc3RhdGUuaXNFZGl0aW5nT24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogQm9vbGVhbih0cnVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTm90ZXNFZGl0b3I7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3N0eWxlcy53aXRoU3R5bGVzKShzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKE5vdGVzRWRpdG9yKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXAgPSBleHBvcnRzLmNyZWF0ZUluaXRpYWxOb25BY3Rpb25TdW1tYXJ5Tm90ZXMgPSBleHBvcnRzLmFwcGVuZElkc1RvU3VtbWFyeSA9IGV4cG9ydHMuY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXAgPSBleHBvcnRzLmdlbmVyYXRlTm90ZXNBc1N0cmluZyA9IHVuZGVmaW5lZDtcblxudmFyIF9oZWxwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxudmFyIGdlbmVyYXRlTm90ZXNBc1N0cmluZyA9IGV4cG9ydHMuZ2VuZXJhdGVOb3Rlc0FzU3RyaW5nID0gZnVuY3Rpb24gZ2VuZXJhdGVOb3Rlc0FzU3RyaW5nKG5vdGVzKSB7XG4gICAgdmFyIG5vdGVzU3RyaW5nID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5vdGVzU3RyaW5nICs9IGkgPT09IG5vdGVzLmxlbmd0aCAtIDEgPyBub3Rlc1tpXS50cmltKCkgOiBub3Rlc1tpXS50cmltKCkgKyAnL24nO1xuICAgIH1cblxuICAgIHJldHVybiBub3Rlc1N0cmluZztcbn07XG5cbnZhciBjcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcCA9IGV4cG9ydHMuY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXAgPSBmdW5jdGlvbiBjcmVhdGVTdW1tYXJ5Q29tcGxldGlvbk1hcChzdW1tYXJ5KSB7XG4gICAgdmFyIG1hcCA9IG5ldyBNYXAoKTtcblxuICAgIHN1bW1hcnkgJiYgc3VtbWFyeS5tYXAoZnVuY3Rpb24gKHN1bW1hcnkpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaGVscGVyLmlzQWN0aW9uSW50ZW50KShzdW1tYXJ5LmludGVudCkgJiYgbWFwLnNldChzdW1tYXJ5LmlkLCBmYWxzZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWFwO1xufTtcblxudmFyIGFwcGVuZElkc1RvU3VtbWFyeSA9IGV4cG9ydHMuYXBwZW5kSWRzVG9TdW1tYXJ5ID0gZnVuY3Rpb24gYXBwZW5kSWRzVG9TdW1tYXJ5KHN1bW1hcnkpIHtcbiAgICAvL2FwcGVuZCBpZHMgdG8gc3VtbWFyeVxuICAgIGlmIChzdW1tYXJ5KSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gc3VtbWFyeSkge1xuICAgICAgICAgICAgc3VtbWFyeVtpXVsnaWQnXSA9IGkgKyAxO1xuICAgICAgICAgICAgc3VtbWFyeVtpXVsnc2F2ZSddID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3VtbWFyeTtcbn07XG5cbnZhciBjcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzID0gZXhwb3J0cy5jcmVhdGVJbml0aWFsTm9uQWN0aW9uU3VtbWFyeU5vdGVzID0gZnVuY3Rpb24gY3JlYXRlSW5pdGlhbE5vbkFjdGlvblN1bW1hcnlOb3RlcyhzdW1tYXJ5KSB7XG4gICAgdmFyIHZvaWNlbWFpbE1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gICAgdmFyIGluaXRpYWxOb3Rlc1N0cmluZyA9ICcnO1xuXG4gICAgaWYgKHZvaWNlbWFpbE1lc3NhZ2UpIHtcbiAgICAgICAgaW5pdGlhbE5vdGVzU3RyaW5nICs9IHZvaWNlbWFpbE1lc3NhZ2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSBpbiBzdW1tYXJ5KSB7XG4gICAgICAgIGlmICghKDAsIF9oZWxwZXIuaXNBY3Rpb25JbnRlbnQpKHN1bW1hcnlbaV0uaW50ZW50KSkge1xuICAgICAgICAgICAgaW5pdGlhbE5vdGVzU3RyaW5nICs9IHN1bW1hcnlbaV0uc3VtbWFyeTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbml0aWFsTm90ZXNTdHJpbmc7XG59O1xuXG4vL2NoZWNrcyBpZiB0aGUgbWFwIGNvbnRhaW5zIGFueSBmYWxzZSB2YWx1ZVxuLy9yZXR1cm4gdHJ1ZSBpZiBpdCBkb2VzXG52YXIgY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXAgPSBleHBvcnRzLmNoZWNrU3VtbWFyeUNvbXBsZXRlTWFwID0gZnVuY3Rpb24gY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXAoc3VtbWFyeUNvbXBsZXRpb25NYXApIHtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcblxuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBzdW1tYXJ5Q29tcGxldGlvbk1hcC52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY29tbW9uU2VydmljZSA9IHVuZGVmaW5lZDtcblxudmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblxudmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxudmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxudmFyIF9uZXR3b3JrVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vY29tbWVudCBvdXQgZm9sbG93aW5nIGJlZm9yZSBwdXNoIHRvIGdpdFxuXG4vL2ZvciBsb2NhbGhvc3QsIGNvbW1lbnQgZm9sbG93aW5nIGJlZm9yZSBwdXNoIHRvIGdpdFxuLy8gY29uc3QgQkFTRV9FTkRQT0lOVCA9ICcvY29tbW9uJztcbnZhciBCQVNFX0VORFBPSU5UID0gJyc7IC8vbW9ja1xuXG52YXIgRElTUFVURV9FTkRQT0lOVCA9ICcvZGlzcHV0ZWNvZGVzJztcbnZhciBGT0xMT1dfVVBfRU5EUE9JTlQgPSAnL3Rhc2t0eXBlcyc7XG5cbnZhciBnZXREaXNwdXRlQ29kZXMgPSBmdW5jdGlvbiBnZXREaXNwdXRlQ29kZXMoKSB7XG4gICAgcmV0dXJuIF9heGlvczIuZGVmYXVsdC5nZXQoJycgKyBfY29uZmlnMi5kZWZhdWx0LmFwaVVybCArIEJBU0VfRU5EUE9JTlQgKyBESVNQVVRFX0VORFBPSU5UKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gKDAsIF9uZXR3b3JrVXRpbHMuaGFuZGxlQXBpUmVzcG9uc2UpKHJlc3BvbnNlKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfbmV0d29ya1V0aWxzLmhhbmRsZUFwaVJlc3BvbnNlKShlcnJvcik7XG4gICAgfSk7XG59O1xuXG52YXIgZ2V0VGFza1R5cGVzID0gZnVuY3Rpb24gZ2V0VGFza1R5cGVzKCkge1xuICAgIHJldHVybiBfYXhpb3MyLmRlZmF1bHQuZ2V0KCcnICsgX2NvbmZpZzIuZGVmYXVsdC5hcGlVcmwgKyBCQVNFX0VORFBPSU5UICsgRk9MTE9XX1VQX0VORFBPSU5UKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gKDAsIF9uZXR3b3JrVXRpbHMuaGFuZGxlQXBpUmVzcG9uc2UpKHJlc3BvbnNlKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfbmV0d29ya1V0aWxzLmhhbmRsZUFwaVJlc3BvbnNlKShlcnJvcik7XG4gICAgfSk7XG59O1xuXG52YXIgY29tbW9uU2VydmljZSA9IGV4cG9ydHMuY29tbW9uU2VydmljZSA9IHsgZ2V0RGlzcHV0ZUNvZGVzOiBnZXREaXNwdXRlQ29kZXMsIGdldFRhc2tUeXBlczogZ2V0VGFza1R5cGVzIH07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTE2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3N0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG52YXIgX1RhYnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNik7XG5cbnZhciBfVGFiczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJzKTtcblxudmFyIF9UYWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNSk7XG5cbnZhciBfVGFiMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYik7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX1R5cG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHlwb2dyYXBoeSk7XG5cbnZhciBfRHVlRGV0YWlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDc4KTtcblxudmFyIF9EdWVEZXRhaWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRHVlRGV0YWlsKTtcblxudmFyIF9jb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfQ2lyY3VsYXJQcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY3VsYXJQcm9ncmVzcyk7XG5cbnZhciBfSW52b2ljZVRhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDc5KTtcblxudmFyIF9JbnZvaWNlVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW52b2ljZVRhYmxlKTtcblxudmFyIF9mb3JtYXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBUYWJDb250YWluZXIocHJvcHMsIHRoZW1lKSB7XG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfVHlwb2dyYXBoeTIuZGVmYXVsdCxcbiAgICAgICAgeyBjb21wb25lbnQ6ICdkaXYnLCBzdHlsZTogeyBwYWRkaW5nVG9wOiBcIjEuODV2aFwiIH0gfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfY29yZS5QYXBlcixcbiAgICAgICAgICAgIHsgZWxldmF0aW9uOiAxLCBzdHlsZTogeyBvdmVyZmxvd1k6IFwiYXV0b1wiLCBoZWlnaHQ6IFwiNzguNXZoXCIsIGJvcmRlclJhZGl1czogXCI0cHhcIiwgYm94U2hhZG93OiBcIm5vbmVcIiwgYmFja2dyb3VuZDogcHJvcHMudGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluIH0gfSxcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuXG4gICAgICAgIClcbiAgICApO1xufVxuXG5UYWJDb250YWluZXIucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUuaXNSZXF1aXJlZFxufTtcblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICAgIC8vICB3aWR0aDogXCI2MS40ODl2d1wiXG4gICAgICAgIH0sXG4gICAgICAgIHByb2dyZXNzOiB7XG4gICAgICAgICAgICBtYXJnaW46IFwiN3JlbSAwIDAgMjByZW1cIlxuICAgICAgICB9LFxuICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImF1dG9cIlxuICAgICAgICB9LFxuICAgICAgICBzY3JvbGxCdXR0b25zOiB7XG4gICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgZmxleDogXCIwICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICBpbmRpY2F0b3I6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCIycHhcIixcbiAgICAgICAgICAgIHRvcDogXCI1Ljd2aCAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgdGFiU2VsZWN0ZWQ6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArIFwiICFpbXBvcnRhbnRcIlxuICAgICAgICB9LFxuICAgICAgICB0YWJSb290OiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcbiAgICAgICAgICAgIHdpZHRoOiBcImNhbGMoNS42NjZ2aCArIDUuNjY2dncpXCIsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IFwiNi4zdmhcIixcbiAgICAgICAgICAgIG1heEhlaWdodDogXCI2LjN2aFwiXG4gICAgICAgIH0sXG4gICAgICAgIHRhYldyYXBwZXI6IHtcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIuNHZ3XCIsXG4gICAgICAgICAgICB3aWR0aDogXCJjYWxjKDUuNjY2dmggKyA1LjY2NnZ3KVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRhYnNGbGV4Q29udGFpbmVyOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiNi4zdmhcIlxuICAgICAgICB9LFxuICAgICAgICB0YWJzUm9vdDoge1xuICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjYuM3ZoXCIsXG4gICAgICAgICAgICBtYXhIZWlnaHQ6IFwiNi4zdmhcIlxuICAgICAgICB9LFxuICAgICAgICB0YWJzU2Nyb2xsZXI6IHtcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCItMTB2aCAhaW1wb3J0YW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgaW52b2ljZUNvdW50VGV4dDoge1xuICAgICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiLjhyZW1cIixcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gICAgYnVja2V0TmFtZXM6IFtdLFxuICAgIGludm9pY2VzOiBbXVxufTtcblxudmFyIEluQ2FsbERldGFpbHMgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhJbkNhbGxEZXRhaWxzLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEluQ2FsbERldGFpbHMocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluQ2FsbERldGFpbHMpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChJbkNhbGxEZXRhaWxzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5DYWxsRGV0YWlscykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5maWx0ZXJJbnZvaWNlcyA9IGZ1bmN0aW9uIChpbnZvaWNlVHlwZSkge1xuICAgICAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpIF90aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IF90aGlzLnN0YXRlLmFsbEludm9pY2VzIH0pO2Vsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBpbnZvaWNlcyA9IF90aGlzLnN0YXRlLmFsbEludm9pY2VzO1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZEludm9pY2VzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcEFycmF5ID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnZvaWNlVHlwZSA9PSBcIkRpc3B1dGVcIiAmJiBpbnZvaWNlc1tpXVtqXS5kaXNwdXRlU3RhdHVzICE9IG51bGwpIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKTtlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlByZWRpY3RlZCBEZWxpbnF1ZW50XCIgJiYgaW52b2ljZXNbaV1bal0ucDJwRGVsaW5xdWVudCA9PSB0cnVlKSB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSk7ZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJVcGNvbWluZyBQMlBcIiAmJiBpbnZvaWNlc1tpXVtqXS5wMnBVcGNvbWluZyA9PSB0cnVlKSB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSk7ZWxzZSBpZiAoaW52b2ljZVR5cGUgPT0gXCJCcm9rZW4gUDJQXCIgJiYgaW52b2ljZXNbaV1bal0ucDJwQnJva2VuID09IHRydWUpIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZEludm9pY2VzLnB1c2godGVtcEFycmF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogZmlsdGVyZWRJbnZvaWNlcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQsIHZhbHVlKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZGF5cyA9IF90aGlzLnByb3BzLmJ1Y2tldE5hbWVzLnJldmVyc2UoKTtcbiAgICAgICAgZGF5cy51bnNoaWZ0KFwiQ3VycmVudCBEdWVcIik7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxuICAgICAgICAgICAgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxuICAgICAgICAgICAgZGF5czogZGF5c1xuICAgICAgICAgICAgLy8gYWxsSW52b2ljZXM6IHRoaXMucHJvcHMuaW52b2ljZXMsXG5cbiAgICAgICAgICAgIC8vIGZpbHRlckludm9pY2VzID0gZmlsdGVySW52b2ljZXMuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgLy8gbGV0IHVybCA9IGAke2NvbmZpZy5hcGlVcmx9L2ludm9pY2VzYFxuICAgICAgICAgICAgLy8gYXhpb3MuZ2V0KHVybCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiByZXNwb25zZS5kYXRhIH0pXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGFsbEludm9pY2VzOiByZXNwb25zZS5kYXRhIH0pXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlIH0pXG4gICAgICAgICAgICAvLyB9KVxuXG5cbiAgICAgICAgfTtyZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLy9GaWx0ZXIgaW52b2ljZSBiYXNlZCBvbiBidWNrZXRcblxuXG4gICAgX2NyZWF0ZUNsYXNzKEluQ2FsbERldGFpbHMsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG5cblxuICAgICAgICAvLyBjaGVjayBpZiBwcmltYXJ5IGVtYWlsIElEIGlzIHByZXNlbnQgaW4gY3VzdG9tZXIgY29udGFjdHMuXG4gICAgICAgIC8vIGNoZWNrRW1haWxJRCA9ICgpID0+IHtcblxuICAgICAgICAvLyAgICAgaWYgKHRoaXMucHJvcHMuY3VzdG9tZXIgPT0gdW5kZWZpbmVkIHx8IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tpXS5wcmltYXJ5ID09PSB0cnVlICYmIHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbaV0uZW1haWwpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gICAgIH1cblxuICAgICAgICAvLyB9O1xuXG4gICAgICAgIC8vICBmaW5kVHlwZSA9IChpbnZvaWNlKSA9PiB7XG4gICAgICAgIC8vICAgICAgICBzd2l0Y2goaW52b2ljZSlcbiAgICAgICAgLy8gICAgICAgIHtcbiAgICAgICAgLy8gICAgICAgICAgICBjYXNlIGludm9pY2UucDJwRGVsaW5xdWVudCA9PSB0cnVlIDpcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIFwiUHJlZGljdGVkIERlbGlucW1lbnRcIlxuICAgICAgICAvLyAgICAgICAgICAgIGNhc2UgaW52b2ljZS5wMnBVcGNvbWluZyA9PSB0cnVlIDpcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIFwiVXBjb21pbmcgUDJQXCJcbiAgICAgICAgLy8gICAgICAgICAgICAgY2FzZSBpbnZvaWNlLnAycEJyb2tlbiA9PSB0cnVlIDpcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIFwiQnJva2VuIFAyUFwiXG4gICAgICAgIC8vICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBcIkRpc3B1dGVcIlxuICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAvLyAgfVxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cbiAgICAgICAgICAgIC8vIGRheXMgPSBkYXlzLnVuc2hpZnQoXCJDdXJyZSAgIG50IER1ZVwiKVxuXG4gICAgICAgICAgICB2YXIgaW52b2ljZUNvdW50ID0gW107XG4gICAgICAgICAgICB2YXIgaW52b2ljZVRvdGFsQW1vdW50ID0gW107XG4gICAgICAgICAgICB2YXIgdG90YWxJbnZvaWNlQ291bnQgPSAwO1xuICAgICAgICAgICAgdmFyIHdob2xlQW1vdW50ID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5kYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW52b2ljZVRvdGFsQW1vdW50LnB1c2goMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUuaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQucHVzaCh0aGlzLnN0YXRlLmludm9pY2VzW2ldLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLnN0YXRlLmludm9pY2VzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bSA9IHN1bSArIHRoaXMuc3RhdGUuaW52b2ljZXNbaV1bal0uY3VycmVudE9wZW5BbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsSW52b2ljZUNvdW50ID0gdG90YWxJbnZvaWNlQ291bnQgKyAxO1xuICAgICAgICAgICAgICAgICAgICB3aG9sZUFtb3VudCA9IHdob2xlQW1vdW50ICsgdGhpcy5zdGF0ZS5pbnZvaWNlc1tpXVtqXS5jdXJyZW50T3BlbkFtb3VudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW52b2ljZVRvdGFsQW1vdW50W2ldID0gc3VtO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMucm9vdCB9LFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubG9hZGluZyA9PT0gZmFsc2UgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9UYWJzMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogdmFsdWUsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JDb2xvcjogJ3ByaW1hcnknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyaWFudD1cInNjcm9sbGFibGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgc2Nyb2xsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxCdXR0b25zOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogeyBzY3JvbGxCdXR0b25zOiBjbGFzc2VzLnNjcm9sbEJ1dHRvbnMsIGZsZXhDb250YWluZXI6IGNsYXNzZXMudGFic0ZsZXhDb250YWluZXIsIHJvb3Q6IGNsYXNzZXMudGFic1Jvb3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVyOiBjbGFzc2VzLnRhYnNTY3JvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFiSW5kaWNhdG9yUHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmluZGljYXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGFiMi5kZWZhdWx0LCB7IGNsYXNzZXM6IHsgc2VsZWN0ZWQ6IGNsYXNzZXMudGFiU2VsZWN0ZWQsIHJvb3Q6IGNsYXNzZXMudGFiUm9vdCwgd3JhcHBlcjogY2xhc3Nlcy50YWJXcmFwcGVyIH0sIGljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pbnZvaWNlQ291bnRUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEludm9pY2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgKCQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIF9mb3JtYXR0ZXIuZm9ybWF0dGVyKSh3aG9sZUFtb3VudCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIi44cmVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FsbCBJbnZvaWNlcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmRheXMubWFwKGZ1bmN0aW9uIChkYXksIGlkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RhYjIuZGVmYXVsdCwgeyBjbGFzc2VzOiB7IHNlbGVjdGVkOiBjbGFzc2VzLnRhYlNlbGVjdGVkLCByb290OiBjbGFzc2VzLnRhYlJvb3QgfSwgaWNvbjogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzZXMuaW52b2ljZUNvdW50VGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VDb3VudFtpZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAoJCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIF9mb3JtYXR0ZXIuZm9ybWF0dGVyKShpbnZvaWNlVG90YWxBbW91bnRbaWRdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBmb250U2l6ZTogXCIuOHJlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID09PSAwICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgVGFiQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGVtZTogdGhlbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9EdWVEZXRhaWwyLmRlZmF1bHQsIHsgZW1haWxPZkNhbGxlZDogdGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkLCBjb2xsZWN0b3I6IHRoaXMucHJvcHMuY29sbGVjdG9yLCBjdXN0b21lcjogdGhpcy5wcm9wcy5jdXN0b21lciwgZmlsdGVySW52b2ljZXM6IHRoaXMuZmlsdGVySW52b2ljZXMsIGJ1Y2tldE5hbWVzOiB0aGlzLnN0YXRlLmRheXMsIGludm9pY2VzOiB0aGlzLnN0YXRlLmludm9pY2VzIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW52b2ljZXMubWFwKGZ1bmN0aW9uIChidWNrZXRJbnZvaWNlcywgaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gaWQgKyAxICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhYkNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoZW1lOiB0aGVtZSwgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhaW5lciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnZvaWNlVGFibGUyLmRlZmF1bHQsIHsgZW1haWxPZkNhbGxlZDogX3RoaXMyLnByb3BzLmVtYWlsT2ZDYWxsZWQsIGNvbGxlY3RvcjogX3RoaXMyLnByb3BzLmNvbGxlY3RvciwgY3VzdG9tZXI6IF90aGlzMi5wcm9wcy5jdXN0b21lciwgZmlsdGVySW52b2ljZXM6IF90aGlzMi5maWx0ZXJJbnZvaWNlcywgaW5kaXZpZHVhbDogdHJ1ZSwgZGF5czogX3RoaXMyLnN0YXRlLmRheXNbaWRdLCBpbnZvaWNlczogYnVja2V0SW52b2ljZXMgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmxvYWRpbmcgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9UYWJzMi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGljYXRvckNvbG9yOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ3Njcm9sbGFibGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEJ1dHRvbnM6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7IHNjcm9sbEJ1dHRvbnM6IGNsYXNzZXMuc2Nyb2xsQnV0dG9ucyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RhYjIuZGVmYXVsdCwgeyBzdHlsZTogeyBjb2xvcjogXCJ3aGl0ZVwiIH0sIGxhYmVsOiAnQWxsIEludm9pY2UnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXlzLm1hcChmdW5jdGlvbiAoZGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UYWIyLmRlZmF1bHQsIHsgc3R5bGU6IHsgY29sb3I6IFwid2hpdGVcIiB9LCBsYWJlbDogZGF5ICsgXCJkYXlzIHBhc3QgZHVlXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3JlLlBhcGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogeyBoZWlnaHQ6IFwiMjRyZW1cIiwgbWFyZ2luVG9wOiBcIjJyZW1cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2lyY3VsYXJQcm9ncmVzczIuZGVmYXVsdCwgeyBjbGFzc05hbWU6IGNsYXNzZXMucHJvZ3Jlc3MsIHNpemU6IDEwMCB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbkNhbGxEZXRhaWxzO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuSW5DYWxsRGV0YWlscy5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblxuSW5DYWxsRGV0YWlscy5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW5DYWxsRGV0YWlscyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTE3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfUG9wb3ZlciA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xuXG52YXIgX1BvcG92ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9wb3Zlcik7XG5cbnZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG52YXIgX0NpcmN1bGFyUHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxudmFyIF9DaXJjdWxhclByb2dyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmN1bGFyUHJvZ3Jlc3MpO1xuXG52YXIgX2FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblxudmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cbnZhciBfc2lwVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTtcblxudmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cbnZhciBfU25hY2tiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cbnZhciBfU25hY2tiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25hY2tiYXIpO1xuXG52YXIgX0Nsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cbnZhciBfQ2xvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2UpO1xuXG52YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXG52YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG52YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICB2YXIgX3ZvaWNlbWFpbEJveDtcblxuICByZXR1cm4ge1xuICAgIEFwcDoge1xuICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICBwb3BPdmVyOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvcixcbiAgICAgIHdpZHRoOiBcIjIwZW1cIlxuICAgIH0sXG4gICAgaGVhZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsXG4gICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgIG9wYWNpdHk6IDAuNjVcbiAgICB9LFxuICAgIGljb246IF9kZWZpbmVQcm9wZXJ0eSh7XG4gICAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgbWluV2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIlxuICAgIH0sICd0ZXh0QWxpZ24nLCBcImNlbnRlclwiKSxcbiAgICB2b2ljZU1haWxJY29uOiB7XG4gICAgICBiYWNrZ3JvdW5kOiBcIiM1REFBRTBcIixcbiAgICAgIHBhZGRpbmc6IFwiMXB4XCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbFNlbnRJY29uOiB7XG4gICAgICBib3JkZXI6IFwiMnB4IHNvbGlkICM1REFBRTBcIlxuICAgIH0sXG4gICAgdm9pY2VtYWlsUHJvZ3Jlc3NQYXJlbnQ6IHtcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbEJveDogKF92b2ljZW1haWxCb3ggPSB7XG4gICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxuICAgICAgYm9yZGVyQm90dG9tOiBcIjAuNXB4IHNvbGlkIHJnYig5MywxNzAsMjI0KVwiXG4gICAgfSwgX2RlZmluZVByb3BlcnR5KF92b2ljZW1haWxCb3gsICdib3JkZXJCb3R0b20nLCBcIjAuNXB4IHNvbGlkIHJnYmEoOTMsMTcwLDIyNCwwLjY1KVwiKSwgX2RlZmluZVByb3BlcnR5KF92b2ljZW1haWxCb3gsICdwYWRkaW5nJywgXCIxMnB4IDEycHggMjBweCAxMnB4XCIpLCBfZGVmaW5lUHJvcGVydHkoX3ZvaWNlbWFpbEJveCwgJ2Rpc3BsYXknLCBcImZsZXhcIiksIF9kZWZpbmVQcm9wZXJ0eShfdm9pY2VtYWlsQm94LCAnbWFyZ2luQm90dG9tJywgXCIyMHB4XCIpLCBfZGVmaW5lUHJvcGVydHkoX3ZvaWNlbWFpbEJveCwgJ2ZsZXhEaXJlY3Rpb24nLCBcInJvd1wiKSwgX3ZvaWNlbWFpbEJveCksXG4gICAgZGlzYWJsZWRWb2ljZW1haWxCb3g6IHtcbiAgICAgIGN1cnNvcjogXCJkZWZhdWx0ICFpbXBvcnRhbnRcIixcbiAgICAgIG9wYWNpdHk6IFwiMC42NVwiXG4gICAgfSxcbiAgICB2b2ljZW1haWxUZXh0OiB7XG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICBtYXJnaW5MZWZ0OiBcIjEuMnJlbVwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG4gICAgdm9pY2VtYWlsUHJvZ3Jlc3M6IHtcbiAgICAgIHdpZHRoOiBcImluaGVyaXQgIWltcG9ydGFudFwiLFxuICAgICAgaGVpZ2h0OiBcImluaGVyaXQgIWltcG9ydGFudFwiLFxuICAgICAgZmlsbDogXCIjNURBQUUwXCJcbiAgICB9LFxuICAgIGNsb3NlSWNvbjoge1xuICAgICAgZmlsbDogXCJsaWdodGJsdWVcIixcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICByaWdodDogXCIzJVwiLFxuICAgICAgZm9udFNpemU6IFwiMnJlbVwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG4gICAgdm9pY2VtYWlsQnRuOiB7XG4gICAgICBjb2xvcjogXCIjRkZGXCIsXG4gICAgICBmb250U2l6ZTogXCIxLjdyZW1cIixcbiAgICAgIHBhZGRpbmc6IFwiMTAlXCJcbiAgICB9LFxuICAgIHZvaWNlbWFpbFNlbnRCdG46IHtcbiAgICAgIGZvbnRTaXplOiBcIjEuNXJlbSAhaW1wb3J0YW50XCJcbiAgICB9LFxuICAgIGRpc2FibGVCdG46IHtcbiAgICAgIG9wYWNpdHk6IDAuNCxcbiAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCJcbiAgICB9XG4gIH07XG59O1xuXG52YXIgS2V5UGFkID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEtleVBhZCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gS2V5UGFkKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEtleVBhZCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoS2V5UGFkLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoS2V5UGFkKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuaW5pdGlhbGl6ZVZvaWNlbWFpbERhdGEgPSBmdW5jdGlvbiAodm9pY2VtYWlsVGVtcGxhdGVzKSB7XG4gICAgICB2YXIgdm9pY2VtYWlsQ2xpY2tNYXAgPSBuZXcgTWFwKCk7XG4gICAgICB2YXIgdm9pY2VtYWlsU2VudE1hcCA9IG5ldyBNYXAoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2b2ljZW1haWxUZW1wbGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdm9pY2VtYWlsQ2xpY2tNYXAuc2V0KHZvaWNlbWFpbFRlbXBsYXRlc1tpXS5pZCwgZmFsc2UpO1xuICAgICAgICB2b2ljZW1haWxTZW50TWFwLnNldCh2b2ljZW1haWxUZW1wbGF0ZXNbaV0uaWQsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2b2ljZW1haWxUZW1wbGF0ZXM6IHZvaWNlbWFpbFRlbXBsYXRlcyxcbiAgICAgICAgdm9pY2VtYWlsQ2xpY2tNYXA6IHZvaWNlbWFpbENsaWNrTWFwLFxuICAgICAgICB2b2ljZW1haWxTZW50TWFwOiB2b2ljZW1haWxTZW50TWFwXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgb3BlbjogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgcGhvbmVOdW1iZXI6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgb3BlbjogZmFsc2UsIGRpc2FibGVWb2ljZW1haWxDbGljazogIV90aGlzLnN0YXRlLmlzVm9pY2VtYWlsRW5hYmxlZCB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlVm9pY2VtYWlsQ2xpY2sgPSBmdW5jdGlvbiAodm9pY2VtYWlsVGVtcGxhdGUpIHtcblxuICAgICAgaWYgKF90aGlzLnN0YXRlLmRpc2FibGVWb2ljZW1haWxDbGljaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpZCA9IHZvaWNlbWFpbFRlbXBsYXRlLmlkO1xuICAgICAgdmFyIHZvaWNlbWFpbENsaWNrTWFwID0gX3RoaXMuc3RhdGUudm9pY2VtYWlsQ2xpY2tNYXA7XG4gICAgICB2b2ljZW1haWxDbGlja01hcC5zZXQoaWQsIHRydWUpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZvaWNlbWFpbENsaWNrTWFwOiB2b2ljZW1haWxDbGlja01hcCwgZGlzYWJsZVZvaWNlbWFpbENsaWNrOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2codm9pY2VtYWlsVGVtcGxhdGUudGVtcGxhdGVOYW1lLCBfdGhpcy5zdGF0ZS5pZCk7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKF9kZWZpbmVQcm9wZXJ0eSh7fSwgaWQsIHRydWUpKTtcbiAgICAgICAgaWYgKCgwLCBfc2lwVXRpbHMuc2lwVG9nZ2xlTXV0ZSkoKSA9PT0gXCJPS1wiKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzbmFja09wZW46IHRydWUsIHNuYWNrTWVzc2FnZTogXCJNaWMgYXV0byBtdXRlZFwiIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiB0cnVlLCBzbmFja01lc3NhZ2U6IFwiRmFpbGVkIHRvIGF1dG8gbXV0ZSBtaWMhXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaWQgPT09IDApIHtcbiAgICAgICAgICAoMCwgX3NpcFV0aWxzLnNpcFNlbmREVE1GKSgnIycpO1xuICAgICAgICAgICgwLCBfc2lwVXRpbHMuc2lwU2VuZERUTUYpKCc0Jyk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCIxc3QgVGVtcGxhdGVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoaWQgPT09IDEpIHtcbiAgICAgICAgICAoMCwgX3NpcFV0aWxzLnNpcFNlbmREVE1GKSgnIycpO1xuICAgICAgICAgICgwLCBfc2lwVXRpbHMuc2lwU2VuZERUTUYpKCc1Jyk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCIybmQgVGVtcGxhdGVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKDAsIF9zaXBVdGlscy5zaXBTZW5kRFRNRikoJyMnKTtcbiAgICAgICAgICAoMCwgX3NpcFV0aWxzLnNpcFNlbmREVE1GKSgnNicpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGFzdCB0ZW1wbGF0ZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnByb3BzLm9uVm9pY2VtYWlsQ2xpY2soKTtcbiAgICAgIH0pO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2b2ljZW1haWxTZW50TWFwID0gX3RoaXMuc3RhdGUudm9pY2VtYWlsU2VudE1hcDtcbiAgICAgICAgdm9pY2VtYWlsU2VudE1hcC5zZXQoaWQsIHRydWUpO1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZvaWNlbWFpbFNlbnRNYXA6IHZvaWNlbWFpbFNlbnRNYXAsIGlzVm9pY2VtYWlsRW5hYmxlZDogZmFsc2UgfSk7XG4gICAgICB9LCAyMDAwKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2xvc2UoKTtcbiAgICAgIH0sIF9jb25zdGFudHMuVk9JQ0VNQUlMX0FVVE9fQ0xPU0VfVElNRU1PVVQpO1xuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZVNuYWNrYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzbmFja09wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5pc1ZvaWNlbWFpbEF2YWlsYWJsZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgcmV0dXJuIF90aGlzLnByb3BzLmNhbGxTdGF0ZS5zdGF0dXMgPT09IFwiQ29ubmVjdGVkIHRvXCIgJiYgX3RoaXMuc3RhdGUudm9pY2VtYWlsVGVtcGxhdGVzICYmIF90aGlzLnN0YXRlLnZvaWNlbWFpbFRlbXBsYXRlcy5sZW5ndGggPiAwICYmIF90aGlzLnN0YXRlLmlzVm9pY2VtYWlsRW5hYmxlZDtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZSxcbiAgICAgIHBob25lTnVtYmVyOiBcIlwiLFxuICAgICAgZGlzcGxheU51bWJlcjogXCJcIixcbiAgICAgIGRpYWxsZWQ6IGZhbHNlLFxuICAgICAgZm9jdXM6IHRydWUsXG4gICAgICBpc1ZvaWNlbWFpbEVuYWJsZWQ6IHRydWUsXG4gICAgICBpc1ZvaWNlbWFpbENsaWNrZWQ6IGZhbHNlLFxuICAgICAgdm9pY2VtYWlsQ2xpY2tNYXA6IG5ldyBNYXAoKSxcbiAgICAgIHZvaWNlbWFpbFNlbnRNYXA6IG5ldyBNYXAoKSxcbiAgICAgIHZvaWNlbWFpbFRlbXBsYXRlczogW10sXG4gICAgICBzbmFja09wZW46IGZhbHNlLFxuICAgICAgZGlzYWJsZVZvaWNlbWFpbENsaWNrOiBmYWxzZVxuICAgIH07XG5cbiAgICBfYXhpb3MyLmRlZmF1bHQuZ2V0KF9jb25maWcyLmRlZmF1bHQuYXBpVXJsICsgJy92b2ljZXRlbXBsYXRlJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiVm9pY2VtYWlsIEZldGNoZWRcIiwgcmVzcG9uc2UuZGF0YSk7XG4gICAgICBfdGhpcy5pbml0aWFsaXplVm9pY2VtYWlsRGF0YShyZXNwb25zZS5kYXRhKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGZldGNoIHZvaWNlbWFpbHNcIiwgZXJyb3IpO1xuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhLZXlQYWQsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzZXMgPSBfcHJvcHMuY2xhc3NlcyxcbiAgICAgICAgICB0aGVtZSA9IF9wcm9wcy50aGVtZTtcblxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5BcHAgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLlZvaWNlbWFpbCwge1xuICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5pc1ZvaWNlbWFpbEF2YWlsYWJsZSgpID8gY2xhc3Nlcy52b2ljZW1haWxCdG4gOiBjbGFzc2VzLnZvaWNlbWFpbEJ0biArIFwiIFwiICsgY2xhc3Nlcy5kaXNhYmxlQnRuLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaXNWb2ljZW1haWxBdmFpbGFibGUoKSA/IHRoaXMuaGFuZGxlT3BlbiA6IF9jb25zdGFudHMuZW1wdHlGdW5jdGlvblxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX1BvcG92ZXIyLmRlZmF1bHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdzaW1wbGUtcG9wcGVyJyxcbiAgICAgICAgICAgIG9wZW46IHRoaXMuc3RhdGUub3BlbixcbiAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuaGFuZGxlQ2xvc2UsXG4gICAgICAgICAgICBhbmNob3JSZWZlcmVuY2U6ICdhbmNob3JQb3NpdGlvbicsXG4gICAgICAgICAgICBhbmNob3JQb3NpdGlvbjogeyB0b3A6IDgwIH0sXG4gICAgICAgICAgICBQYXBlclByb3BzOiB7XG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiM2VtXCIsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXG4gICAgICAgICAgICAgICAgYm9yZGVyTGVmdDogXCIycHggc29saWQgI0ZGRlwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW5jaG9yT3JpZ2luOiB7XG4gICAgICAgICAgICAgIHZlcnRpY2FsOiAyMCxcbiAgICAgICAgICAgICAgaG9yaXpvbnRhbDogMjBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IHtcbiAgICAgICAgICAgICAgdmVydGljYWw6IDIwLFxuICAgICAgICAgICAgICBob3Jpem9udGFsOiAyMFxuICAgICAgICAgICAgfSB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5wb3BPdmVyIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIHsgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIHBhZGRpbmdMZWZ0OiBcIjQlXCIsIG1hcmdpblRvcDogXCI1JVwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH0gfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy5oZWFkIH0sXG4gICAgICAgICAgICAgICAgJ1ZPSUNFTUFJTCdcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkNsb3NlLCB7IG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xvc2UsIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZUljb24gfSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnInLCBudWxsKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b2ljZW1haWxUZW1wbGF0ZXMubWFwKGZ1bmN0aW9uICh2b2ljZW1haWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IF90aGlzMi5zdGF0ZS5kaXNhYmxlVm9pY2VtYWlsQ2xpY2sgPyAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMuZGlzYWJsZWRWb2ljZW1haWxCb3gsIGNsYXNzZXMudm9pY2VtYWlsQm94KSA6IGNsYXNzZXMudm9pY2VtYWlsQm94LCBrZXk6IHZvaWNlbWFpbFRlbXBsYXRlLmlkIH0sXG4gICAgICAgICAgICAgICAgICAhX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnZvaWNlTWFpbEljb24sIGNsYXNzZXMuaWNvbikgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLlZvaWNlbWFpbCwgeyBjbGFzc05hbWU6IGNsYXNzZXMudm9pY2VtYWlsQnRuIH0pXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgIV90aGlzMi5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KShjbGFzc2VzLnZvaWNlbWFpbFByb2dyZXNzUGFyZW50LCBjbGFzc2VzLmJhc2VJY29uU2l6ZSkgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NpcmN1bGFyUHJvZ3Jlc3MyLmRlZmF1bHQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnZvaWNlbWFpbFByb2dyZXNzIH0pXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMudm9pY2VtYWlsU2VudEljb24sIGNsYXNzZXMuaWNvbikgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb25zLkRvbmUsIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKGNsYXNzZXMudm9pY2VtYWlsU2VudEJ0biwgY2xhc3Nlcy52b2ljZW1haWxCdG4pIH0pXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3Nlcy52b2ljZW1haWxUZXh0LCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVWb2ljZW1haWxDbGljayh2b2ljZW1haWxUZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAhX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLCBvcGFjaXR5OiAwLjY1IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAnU2VuZCdcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgIV90aGlzMi5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yLCBvcGFjaXR5OiAwLjY1IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAnU2VuZGluZydcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiYgX3RoaXMyLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBfY29yZS5UeXBvZ3JhcGh5LFxuICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IFwiIzVEQUFFMFwiLCBvcGFjaXR5OiAwLjY1IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAnU2VudCdcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgX2NvcmUuVHlwb2dyYXBoeSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICB2b2ljZW1haWxUZW1wbGF0ZS50ZW1wbGF0ZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29ucy5Nb3JlVmVydCwgeyBzdHlsZTogeyByaWdodDogXCIzJVwiLCBwb3NpdGlvbjogXCJmaXhlZFwiIH0gfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NuYWNrYmFyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgYW5jaG9yT3JpZ2luOiB7XG4gICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGtleTogdGhpcy5zdGF0ZS5zbmFja01lc3NhZ2UsXG4gICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS5zbmFja09wZW4sXG4gICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbjogMjAwMCxcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmNsb3NlU25hY2tiYXIsXG4gICAgICAgICAgQ29udGVudFByb3BzOiB7XG4gICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbWVzc2FnZTogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICB7IGlkOiB0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZSB9LFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zbmFja01lc3NhZ2VcbiAgICAgICAgICApLFxuICAgICAgICAgIGFjdGlvbjogW19yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX2NvcmUuSWNvbkJ1dHRvbixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdDbG9zZScsXG4gICAgICAgICAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5jbG9zZSxcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZVNuYWNrYmFyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Nsb3NlMi5kZWZhdWx0LCBudWxsKVxuICAgICAgICAgICldXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBLZXlQYWQ7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgVm9pY2VtYWlsV3JhcHBlciA9ICgwLCBfY29yZS53aXRoU3R5bGVzKShzdHlsZXMpKEtleVBhZCk7XG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG5cbiAgICBjYWxsU3RhdGU6IHN0YXRlLmNhbGxTdGF0ZVxuICB9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIC8vIGNoYW5nZUNhbGxTdGF0ZTogZGF0YSA9PiAoZGlzcGF0Y2goY2hhbmdlQ2FsbFN0YXRlKGRhdGEpKSlcbiAgICBjaGFuZ2VDYWxsZXI6IGZ1bmN0aW9uIGNoYW5nZUNhbGxlcihkYXRhKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmNoYW5nZUNhbGxlcikoZGF0YSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoKDAsIF9jb3JlLndpdGhTdHlsZXMpKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoVm9pY2VtYWlsV3JhcHBlcikpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjExODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQzRBQUFBdUNBWUFBQUJYdVNzM0FBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUJsNUpSRUZVYUlIRm1sOXNVOWNkeHorLzZ4dTdPSTd5RjVyUTB0akFKcDdXMENHeGYyS0c3bjBnRFpCYVdMMU5tc1FUMlI2bVNhVVNFM1RkSHFiQ3c2UTlUQ0l0MmNQU2g2VGF3NTVHM0gvcVdsU1JkQkliMGxySExDTWVCSWhKNHNUMjlmM3R3WCtJN2VzLzF3N3dmYm8rOS96dStaemYvWjF6ZnZjY0MyMHFNaG5yc1MzUGQyMTBCTld3S0VHRVlGa2xaVTZGT1VTaUJqSmptTG4zeG82RWx0cHBWMW8xZlBuUDhWY0VQU3pDNFZic1ZabFNaT3BQeDRmZmFzWGVGWGhrTXRaaldjWnBzVFZTNWRWV3BjeXBJV09tYVY5MDh4YWFCai94VGl3c3RsemFOT0JLS1hOcTZJL0dqNGFpelZSdkNCNlpqUFhrc3NhYm9KSDI2WnFReW9YTHg0ZC8xcWhhWGZESVpLekh5c3Ewd01qbWtUV1d3b3pab1FmcmhZNVI2OFpMRTdHUkp3RU5JREJpWldYNnBZbFl6YllkUGY2a1BGMnBlcDQzS3d2YWhSN3U4WEp5Yng5ZkdmQWh3SHd5eTEvK2xlVGptNnV1bjFYMFBMQzM4bDVWcU9TeXhwdE8wUDErRHdQK3FuNldhWGUvajFjUER2TFZBalRBczkwZG5Oby93QTlmNkhNTlhvUS9NUkc3VUJmOHhEdXhzTlBzMGUvM2NPYmdFR2NPRGRLN3hlUFlnR25BejcremphZE01L0grdlYxZGZPdTV6aGJoNVhTZXpRRThNaG5yRVZzdU9SbWUycitWZnIrSHZpMGVYanMwNUFpL2Q3dWZnTGZtV0FjZ3ZMT3JKWEFBc2VWU1pETFdVd1Z1WlJpdHRiajg0Wk5GN3EzbEFCandPOFB2NlBZMmJQelo3bzRXc1FFaGFHVVlMZjRzZ1l2STZWbzJpeW1MODFjU2RlSGZqNjJRWE0vVmJkczBXazZOOG96SUs4VnJBK0RrUkN3QzlOUzBvREg4WXNyaTNIU2lJWHhiRW9JRjFwTEhtOHJ3R3NIZlhua004QVZXeWVjaWN0K041WURmNU15aFFmcEszczV4N3NvQzl3c2QyaFl3ZWUzZ0lOMVBsWStEZFV2NTZlVE50c2s5SGRwcldCbkNqYXVXNjBsNzNzb1FObWh4aFd3Vy9rSGEzalRnRFJveFJOeDd2S2hhOE1VUXViMWk4Zm9qZ0JjaGJLQXkzTTVEbk9EUGJJanZoZVhzcHNNcjBtMXN4aGZOWXNyaWc3bVYwdStuQTZZei9DYkZ2TUJJL2F6SlFUL2UxODlnb0lQa2VvN2YvLzFPcVR5YjA3SjZSZmp6aFVHNnNKemx0Ky8vcjZ6T04zWjBjbWhYUGcxNCs5cGQ1cFBacGpucUp4Y09HdkNiN05ucVk5OHovckx5L3o2b2JyVFM4M2RXcmJMN08vdTg3Tm5xWTg5V24xc005K0JGUUkrUno3Mkx1bllyeFVxbU9vNHI0VGRxWjE4ZU9LZHd5NkhqOVdRb0duZGpjTzFXcW5SOUlCUW9YZHNLdi92Z051dVdWdGs0d1JzQ1ExMzVwT3NmaVRYc2FyT2FVdFZaUTJET0RmajEyK3NscjcrNHE0dGc3ME92ZjNFdnphLyt0c0NWTDVheE5kK1o0bHVvaExjVmZ2TmVnbFJXaVg2NVV0MVFIWW13NVBuYUQwYURJdUpxTG4rUXpyRi9SeWNpOFB5UW53L25Wc2dVQnVkeTJtWm1ZWTJwNjBtbXJpZjVkRDdGTjU4TDRET0ZnTmZnNjgvNCtYUStSZHBTSHFSdFpoWlMzRmhNdXdKWDVTMERtSEZsQlZ5ZFQvRlJQUDhOMmJmRnc5a1hoeGpzY3A2ZzdxeGEvSG82NzFsNDZQa3VYMzU0dVpsSk5takc4OExMb3dtMTVaZHVMVDlQckxHN3o4ZTJnRW1uMXlBYzZxTFRhNUJjejVISzJtVXgyK0VST24wZVFvV3dDbmdOOW03Mzg4bC9Wa3R2eW8xTUw2Y0U0T1JFYkFyaysyNGZJQUkvMmRmUGdXQ2dyTnhXV0Z5MVdNM2FEUGpOa25jcmRhdXdNQzI3V2xYMTNjdkhRb2VMVDV4eUN3MmdDbis4ZXBleHorNnhsbjNvT1VQeXFXMm8xMXNHbmM0cEg4WWZlbmw3VndldmJnaWJKalVGR3phRVRrekU1b1RXODVZT2ovRHQ0VTVDdlQ1MjkvdllVZmkrWE1zcUg4VlgrT2VkZFQ1UHJKRzJsTjM5UG41eDRPblNqa0N6bmxjMFBuNHNGSVNOQzVBeTFpbzA1SmY4NkpjclhQcnNMbis5a1N5Vkx5eG5lZnZhUGE0V1poS0FmOTlOODBZMFVacnptL1c4Q0tYOWxWSk4wOHNGdDR0Uk80cmR6L0JHTkZFS3NVYndpc1l2SHcxVmc0OGRDUzBoUEo2dDVJSmk5ek84M2l4OEJWdFpqZkdqb2FpcXRuUzAwYXB1THVYaFZ3c3JyQ0JveFF5cDZNWEtEZitxcnBsZVJsVjE5aEd5VnVubVVvYnowd2x1TEtZNWQyV2hMRmxUMWRueFk2SFJTcHZhMjh3Wm9pTHkvQ1BrYlNoVm5UVzloSjIybVIxSHd0aVIwSkl0UkI2MzV6ZEtWV2R0SVZMclZLTHhVY29UOEh3OVR4ZlYxT0dWbGVXc1VIdHZjVE9sNkVXbm1LNlVxK05DbExGMlZ0ZDZValNPRU5tMDQ4S05Lb1RPS0VKa3N6cWdhQnhsYlB4NDZLd2J1NWIzZlF1N3BvZGJ5U3J6MG5lQnFjdkhRaTJsR3UxdFdGTjZDMkZnUklTd1FyRHliYWpxckFoTHFrU0JHZE5MdE4wL0lmd2YwaHNESnI4eW05Y0FBQUFBU1VWT1JLNUNZSUk9XCJcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMTk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQVlBQUFCWHVTczNBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFCSzFKUkVGVWFJSE5tVzJJVkZVWXgzL1BuZGxWUzVDZE9kZTNRRlFTTFd3eEJVUE16VFFRVXdQeFplbWpsaEQwSmZSRFVHWnZSUGpKaU1nUEZTclJGNVdDa0xLb1ZKS0Z0QXhwVXpGY1g2QzIzWHRuZDFhM25NMlorL1RoN3VxNk8zZnVtZG1kSGY5d3VUUG5QTTk1Zm5QbTNIUE9QWTh3Q2xMWG5VTVFMTVZ4RnFMNkNQQUFNQldSZWxTN2dDNmdFL2lSSURoS1Y5ZFBBc0ZJWWtyRnNNYk1CWjRIMWlFeXR6eG43UWFPRUFTZjB0WDFmU1Uvb214d05XWXRzQjJSSjh2MWpkRGZCTUhIWkRMdkNPUnNuYXpCdGFHaGtVVGlmVVNlcUl3dkxvRCtnVWl6ZU42dk51Wk9iSHVRVU5mZFNTTHhTOVdnQVVUbW9IcEswK21YMWFKRFN4cW82MDRFdmdZZUh5MCtLNmtld2ZlYkJmNk5Nb2tFVjdnUFkzNUE1TEhxME1WSTlRejUvRXJKWnJQRnFvc09GWVY2WFBmYm1rRURpQ3drbWZ4R1lYeXg2bUhnQ2c3R0hBS1dWaDB1VGlLTGNkM1BpNDM1NFQyZVRyK0p5RE5qQW1hbjFSanordERDdTM1Si82TFNpa2h5ekxCc3BLckFDdkg5NHdORmQvZTR5TDU3RGhwQVJCRDVTQ0V4VUhRYlhGMTNDN0NrSm1CMmVwQjArb1dCTHdLZ0lManVKV0JXemJCc3BIb04zNThwb0dHUEcvTTA5em8wZ01nTVVxbFZjR2VvdkZSRG5QTGtPRnNBUkdFOHh2eURTT3krSlZLelo4TzhlVEI1TWt5WkV0Nm5Ub1ZjRHRyYTdsem56c0dOR3lNRFYrM0I5OU5KakZsU0ViUXhzR2tUYk5nQWpZMzJmaDBkY1BvMEhEZ0FKMDZVSFJhUlNSaXpUTlIxZHdKdld6czJOc0syYmJCK1BkVFhseDk0c0M1ZWhMMTc0ZUJCdUhXckhNOVhSWTM1RXBGMXNhWjFkYkJuRDJ6ZVhERm5wTnJhd25hdlhiUDFPT1FBMDZ4TXQyNnREalNFejhpdVhlVjRQSlFFWEN2VDV1Ym91dFpXMkw4ZlRwNkVLMWNnR1BJS2FRek1udytMRnNHT0haQXNzaml2WGgyVzUvTTJOSk5GWGJjWHVMK2syYmh4Y1BVcU9FV2U0Vnd1N0RHN2dIRDRNRFExRmE5cmFvSUxGK0xiVUEwY0lINXZrazRYaHdibzdMU0hCbWh2ajY1cmFMQnV4Z0dLdm1IY3BWSmdkWFhXd1FDWU1DRzZUcXpmM1RzY1ZET3hacGtNcUJhdk02YWNnT0VDRmFXYk4yMWJhVThpY2c1NHVLUlpvUkNPOFprekladUZTNWZDcTYwdHZDZVQ5dlB3eG8wd2ZUcE1teGJlQjMrMm53N2JSWTE1RFpHM1lrMW56UXFodTd0dEc2K21kaWRSYmJINnF5OWZyajZPclFxRlk2S1F3SFY3aUpzUzd4V3A1dkg5aVk1QUFmaXExanhscUVXZ0w1eWNDNFZQYWd4akw1RVBZZkNybXpGWEVKbFJXNm9ZcWY2Sjc4OFFDQndBQVVYa2pWcHpXZWk5Z2JQMG9lY3FaeEI1dERaTU1WSTlqKzh2RVBnUGhwK3JQSWZxaUZJY1ZaRnFRRDcvN0FBMERBSHZQMVNQWDR6R1dxcnZTalo3ZG5EUnNKV24vOUR6T0NMTHhvNnNwSTdpZVd1RzVvbUc3Vlg3RGRhZyt2dVlvVVZKOVdjOGIzMng1RmJSVGJiNC9nMXl1UlZBYTlYaG92VWJoY0pUVVFtdHlHTUo2ZTN0QkphZ1dvdFY5U3g5ZmN1bHU3c255cURrZVlwNFhpKyt2eGJWSFVEZnFPTVYxd2Q0M21LNWZyMnJKSnR0YXpwcDBtenE2dlpYN2FGVlBRKzhLTDUvek1hOC9BUnRLclVSeDNsbDFCYXFNTCs1RzgvYlYwNkdlU1FwOGVYQWRtQVZJdVVkYWFuMklQSUZRZkNaWkRMZlZSSy9ZdkRiREdGYWNTV3dCbGdBcEJCSm9ab2k3TUVPNEMvZ0luQUdrVk40WGt2L2RycGkvUSswWDM5Y1hJVjZEd0FBQUFCSlJVNUVya0pnZ2c9PVwiXG5cbi8qKiovIH0pXG5cbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAwLmJ1bmRsZS5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgQ29udGFjdExpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9Db250YWN0TGlzdCc7XHJcbmltcG9ydCB7IHNpcENhbGwsIHNpcEhhbmd1cCwgc2lwVG9nZ2xlTXV0ZSB9IGZyb20gJy4uL3V0aWxzL3NpcFV0aWxzJztcclxuaW1wb3J0IHsgY2hhbmdlQ2FsbFN0YXRlLCBjaGFuZ2VTdGF0dXMsIGNoYW5nZVRyYW5zY3JpcHRpb24gfSBmcm9tICcuLi9hY3Rpb25zL2FjdGlvbnMnO1xyXG5pbXBvcnQgeyBhZGRJbml0aWFsQ2FsbExvZyB9IGZyb20gJy4uL2FjdGlvbnMvY2FsbExvZ0FjdGlvbnMnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgQ2xvc2UgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IHsgUmVkaXJlY3QgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IENhbGxQcmVwRGV0YWlscyBmcm9tICcuLi9jb21wb25lbnRzL0NhbGxQcmVwRGV0YWlscyc7XHJcbmltcG9ydCBQb3N0Q2FsbCBmcm9tICcuL1Bvc3RDYWxsJztcclxuaW1wb3J0IEluQ2FsbERldGFpbHMgZnJvbSAnLi4vY29tcG9uZW50cy9JbkNhbGxEZXRhaWxzJztcclxuaW1wb3J0IEhhbW1lciBmcm9tICdyZWFjdC1oYW1tZXJqcyc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Nb2RhbCc7XHJcbmltcG9ydCBUb29sdGlwIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1Rvb2x0aXAnO1xyXG5pbXBvcnQgRmFiIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ZhYic7XHJcbmltcG9ydCBOYXZpZ2F0ZU5leHQgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL05hdmlnYXRlTmV4dCc7XHJcbmltcG9ydCBOYXZpZ2F0ZUJlZm9yZSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvTmF2aWdhdGVCZWZvcmUnO1xyXG5pbXBvcnQgRHJhd2VyIGZyb20gJy4uL2NvbXBvbmVudHMvRHJhd2VyJztcclxuaW1wb3J0IEFycm93RHJvcERvd25JY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9BcnJvd0Ryb3BEb3duJztcclxuaW1wb3J0IHsgZ2V0TWVudUl0ZW1zIH0gZnJvbSAnLi4vY29tcG9uZW50cy9DdXN0b21lckRyYXdlck9wdGlvbnMnO1xyXG5pbXBvcnQgS2V5UGFkV3JhcHBlZCBmcm9tICcuLi9jb21wb25lbnRzL0tleVBhZFdyYXBwZWQnO1xyXG5pbXBvcnQgVmVydGljYWxUaW1lTGluZSBmcm9tICcuLi9jb21wb25lbnRzL1ZlcnRpY2FsVGltZUxpbmUnO1xyXG5pbXBvcnQgVm9pY2VtYWlsV3JhcHBlciBmcm9tICcuLi9jb21wb25lbnRzL1ZvaWNlbWFpbFdyYXBwZXInO1xyXG5pbXBvcnQgVHJhbnNjcmlwdENoYXQgZnJvbSAnLi4vY29tcG9uZW50cy9UcmFuc2NyaXB0Q2hhdCc7XHJcbmltcG9ydCB7IGdldEluaXRpYWxzRnJvbU5hbWUgfSBmcm9tICcuLi91dGlscy9oZWxwZXInO1xyXG5pbXBvcnQgQ3VzdG9tRm9vdGVyIGZyb20gJy4uL2NvbXBvbmVudHMvQ3VzdG9tRm9vdGVyJztcclxuaW1wb3J0IHsgZGlzYWJsZUZyZWRhSW5DYWxsIH0gZnJvbSAnLi4vY29tcG9uZW50cy9GcmVlZGEvRnJlZGFCdXR0b24nO1xyXG5pbXBvcnQgVHJhbnNjcmlwdEJveCBmcm9tICcuLi9jb21wb25lbnRzL1RyYW5zY3JpcHRCb3gnO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICcuLi91dGlscy9iYXNlU3R5bGUnXHJcblxyXG5cclxuY29uc3Qgc3VtbWFyeURhdGEgPSByZXF1aXJlKCcuLi9hc3NldHMvc2FtcGxlX25ld19qc29uLmpzb24nKTtcclxuY29uc3QgdGVzdCA9IFwiQ3VzdG9tZXI6IEhpLiBIZWxsby4gSGV5LCBDb2xsZWN0b3I6IEkgd2FudGVkIHRvIG1ha2Ugc3VyZSB5b3UgcmVjZWl2ZWQgbXkgbm90ZS4gVGhlIHBheW1lbnQgd2FzIGR1ZSB5ZXN0ZXJkYXkuIERldGVjdGluZyBTcGVha2VyOiBnZXQgaXQgdW5kZXIgdGhlIHNlbmRlci4gSSdtIENvbGxlY3RvcjogSSBkaWRuJ3QgYSB0ZWxsIHlvdSBmb3Jnb3QuIEl0J3MgaW52b2ljZSBudW1iZXIgMzQ3LTQwMC00MDAwLiBJIHdpbGwgZW1haWwgeW91IHJpZ2h0IG5vdyBkb2VzIGEgcGVyc29uIGF0IG0uY29tIGVtYWlsIGFkZHJlc3Mgd29ya3MgYmVzdCBmb3IgeW91PyBDdXN0b21lcjogWWVhaCwgdGhhdCdzIGZpbmUuIENvbGxlY3RvcjogQmlnIEJlbmQgT2xpdmlhIGdvaW5nIHRvIG1lIHRvIG1lIHRoYXQgY2hlY2sgZm9yIHRoaXMgaW52b2ljZS4gQ3VzdG9tZXI6IEkgYWN0dWFsbHkgZG9uJ3QgaGF2ZSB0aGUgY2FzaCBmb3IgZGViYXRlIHJpZ2h0IG5vdy4gQ29sbGVjdG9yOiBPa2F5LCBJIHNlZSB3aGVuIHdlIHdpbGwgYmUgZ2V0dGluZyB5b3VyIG5leHQgcGF5bWVudC4gQ3VzdG9tZXI6IE5vcnRoZXJuIFRvb2wgaW4gdGhlIDIxc3QgYXQgeW91IHNlbmQgbWUgYSBjaGVjayBvciBUaHVyc2RheSB0aGUgMjJuZD8gSSB3b24ndCBDb2xsZWN0b3I6IDcgc2VlIGNhbiBiZSBhYmxlIHRvIHBheSB0aGUgd2hvbGUgdGhpbmcgZG9uZS4gQ29sbGVjdG9yOiBCdXQgaWYgeW91IHNlbmQgbWUgaGF2ZSB0byByZWdpc3RlciBhbmQgdGhlbiB1cCBhdCB0aGUgZW5kIG9mIHRoZSBtb250aC4gQ3VzdG9tZXI6IFRoYXQgYWN0dWFsbHkgbWlnaHQgd29yay4gQ29sbGVjdG9yOiBPa2F5LCBzb3VuZHMgZ29vZC4gSSdsbCBNYWxjb2xtIFggYW1hemluZyBtZSAkMiwwMDAgb24gVGh1cnNkYXkgdGhlIDIybmQgYW5kIEkgd2lsbCBmb2xsb3cgdXAgd2l0aCB5b3UgdGVzdGluZ1wiO1xyXG5sZXQgdGltZUludGVydmFsO1xyXG5jb25zdCBhdmFpbGFibGVGaWx0ZXJPcGVyYXRpb25zID0gW1xyXG4gICdlcXVhbCcsICdub3RFcXVhbCcsXHJcbiAgJ2dyZWF0ZXJUaGFuJywgJ2dyZWF0ZXJUaGFuT3JFcXVhbCcsXHJcbiAgJ2xlc3NUaGFuJywgJ2xlc3NUaGFuT3JFcXVhbCcsXHJcbl07XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gIGFwcEZyYW1lOiB7XHJcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICBtYXhIZWlnaHQ6IFwiMTAwdmhcIlxyXG4gIH0sXHJcbiAgcm9vdDoge1xyXG4gICAgYmFja2dyb3VuZEltYWdlOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQubWFpbixcclxuICAgIHdpZHRoOiBcIjkzLjc1dndcIixcclxuICAgIG1hcmdpblJpZ2h0OiBcImF1dG9cIixcclxuICAgIG1hcmdpbkxlZnQ6IFwiYXV0b1wiLFxyXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgIHBhZGRpbmdCb3R0b206IFwiMFwiLFxyXG4gICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHlcclxuXHJcbiAgfSxcclxuICBoYW5nVXBJY29uSW5nOiB7XHJcbiAgICBoZWlnaHQ6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXHJcbiAgICB3aWR0aDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgfSxcclxuICBjYWxsVGV4dDoge1xyXG4gICAgbWFyZ2luTGVmdDogXCIuNXJlbVwiLFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgZm9udFNpemU6IFwiMXJlbVwiLFxyXG4gIH0sXHJcbiAgZGlhbHBhZEljb246IHtcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNnZoICsgMS42dncpXCIsXHJcbiAgICBwYWRkaW5nUmlnaHQ6IFwiMXJlbVwiLFxyXG4gIH0sXHJcbiAgdm9pY2VNYWlsSWNvbjoge1xyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgIGJhY2tncm91bmQ6IFwiIzVEQUFFMFwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgcGFkZGluZzogXCIxcHhcIixcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgZm9udFNpemU6IFwiLjdyZW1cIixcclxuICAgIGNvbG9yOiBcIndoaXRlXCIsXHJcbiAgICB6SW5kZXg6IFwiNlwiXHJcbiAgfSxcclxuICBkdXJhdGlvbjoge1xyXG4gICAgbWFyZ2luUmlnaHQ6IFwiLjZyZW1cIixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gIH0sXHJcbiAgY3VzdG9tZXJOYW1lOiB7XHJcbiAgICBmb250RmFtaWx5OiB0aGVtZS5mb250LnRpdGxlLmZvbnRGYW1pbHksXHJcbiAgICBmb250U2l6ZTogXCIxLjc4cmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgIGxpbmVIZWlnaHQ6IFwiMi4wNXJlbVwiXHJcbiAgfSxcclxuICBjdXN0b21lck51bWJlcjoge1xyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgZm9udFNpemU6IFwiLjhyZW1cIixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gIH0sXHJcbiAgdHJhbnNjcmlwdEJveDoge1xyXG4gICAgaGVpZ2h0OiBcIjg2LjUwdmhcIixcclxuICAgIC8vIHdpZHRoOiBcIjI1dmhcIixcclxuICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcclxuICB9LFxyXG4gIHRyYW5zY3JpcHRUaXRsZToge1xyXG4gICAgZm9udFNpemU6IFwiMS4ycmVtXCIsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAvLyBwYWRkaW5nOiBcIjJlbSAwIDJlbSAwXCJcclxuICAgIHBhZGRpbmdMZWZ0OiBcIjFyZW1cIixcclxuICAgIG9wYWNpdHk6IDAuNjUsXHJcbiAgICBwYWRkaW5nVG9wOiBcIi41cmVtXCIsXHJcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgZm9udEZhbWlseTogXCJSb2JvdG9cIlxyXG4gIH0sXHJcbiAgbmV4dEZhYjoge1xyXG4gICAgcmlnaHQ6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDAuMjUsXHJcbiAgfSxcclxuICBwcmV2RmFiOiB7XHJcbiAgICBtYXJnaW5MZWZ0OiBcIi0wLjVyZW1cIixcclxuICB9LFxyXG4gIGhhbmdVcEJ1dHRvbjoge1xyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG4gICAgd2lkdGg6IFwiMi42NjY2NjY2NXJlbVwiLFxyXG4gIH0sXHJcbiAgaGFuZ1VwQnV0dG9uSW1nOiB7XHJcbiAgICBoZWlnaHQ6IFwiMi42NjY2NjVyZW1cIixcclxuICAgIHdpZHRoOiBcIjIuNjY2NjY2NjVyZW1cIixcclxuICB9LFxyXG4gIGRyb3BEb3duSWNvbjoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICB9LFxyXG4gIGRyb3BEb3duOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluXHJcbiAgfSxcclxuXHJcbiAgbWljT2ZmSWNvbkltZzoge1xyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgIGhlaWdodDogXCJjYWxjKDEuNTN2aCArIDEuNTN2dylcIixcclxuICAgIHdpZHRoOiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG4gIH0sXHJcbiAgbWljT2ZmSWNvbjoge1xyXG4gICAgaGVpZ2h0OiBcImNhbGMoMS41M3ZoICsgMS41M3Z3KVwiLFxyXG4gICAgd2lkdGg6IFwiY2FsYygxLjUzdmggKyAxLjUzdncpXCIsXHJcbiAgICBjb2xvcjogXCJ3aGl0ZVwiXHJcbiAgfSxcclxuXHJcbiAgY2FsbGVkQ29udGFjdE5hbWU6IHtcclxuICAgIGZvbnRTaXplOiBcIi43NnJlbVwiLFxyXG4gICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgIGxpbmVIZWlnaHQ6IFwibm9ybWFsXCIsXHJcbiAgfSxcclxuICBjYWxsZWRUb0NvbnRhY3REaXY6IHtcclxuICAgIHdpZHRoOiBcIjgwJVwiXHJcbiAgfSxcclxuICB0cmFuc2NyaXB0Qm94UGFyZW50OiB7XHJcbiAgICBwYWRkaW5nQm90dG9tOiBcIjBweCAhaW1wb3J0YW50XCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCJcclxuICB9LFxyXG4gIGNsb3NlU3R5bGU6IHtcclxuICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXHJcbiAgICB0b3A6IFwiMSVcIixcclxuICAgIGxlZnQ6IFwiNTAlXCIsXHJcbiAgICBjb2xvcjogXCIjZmZmXCIsXHJcbiAgICBmb250U2l6ZTogNDgsXHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiXHJcbiAgfSxcclxuICBjdXN0b21lckhpc3RvcnlNb2RhbDoge1xyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIHdpZHRoOiBcIjQ1JVwiLFxyXG4gICAgaGVpZ2h0OiBcIjEwMCVcIixcclxuICAgIGJvdHRvbTogXCIwXCIsXHJcbiAgICBvdmVyZmxvd1dyYXA6IFwiYnJlYWstd29yZFwiLFxyXG4gICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcclxuICAgIGJveFNoYWRvdzogdGhlbWUuc2hhZG93c1s1XSxcclxuICAgIHBhZGRpbmdMZWZ0OiBcIjElXCIsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBsZWZ0OiBcIjQuMiVcIlxyXG4gIH0sXHJcbiAgLy9tZW51IFxyXG4gIGFjdGlvbkljb246IHtcclxuICAgIGZvbnRTaXplOiAnMnJlbScsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cclxuICB9LFxyXG4gIGFjdGlvbkJ1dHRvbjoge1xyXG4gICAgLy8gcGFkZGluZyA6IFwiMSVcIixcclxuICAgIGhlaWdodDogXCI0LjE2NnZ3XCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiMHB4XCIsXHJcbiAgICB3aWR0aDogXCI0LjE2NnZ3XCIsXHJcbiAgfSxcclxuXHJcblxyXG59KVxyXG5cclxuY29uc3Qgc2FsZXMgPSBnZXRSYW1kb21Sb3dzKCk7XHJcblxyXG5mdW5jdGlvbiBnZXRSYW1kb21Sb3dzKCkge1xyXG4gIGxldCByb3dzID0gW107XHJcbiAgbGV0IGl0ZW0gPSB7IFwicHJvZHVjdFwiOiBcImhlbGxvXCIsIFwicmVnaW9uXCI6IFwiQW1lcmljYVwiLCBcImFtb3VudFwiOiBcIjVcIiwgXCJzYWxlRGF0ZVwiOiBcIjA5LzA5LzE5OTZcIiwgXCJjdXN0b21lclwiOiBcIkJhbHJhalwiLCB9O1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwMDsgaSsrKSB7XHJcbiAgICByb3dzLnB1c2goaXRlbSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcm93cztcclxufVxyXG5cclxuY2xhc3MgSW5DYWxsIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMubXlSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuICAgIHRoaXMucHJvcHMuY2hhbmdlQ2FsbFN0YXRlKHsgY2FsbGluZzogdHJ1ZSwgc3RhdHVzOiBcIlwiIH0pXHJcbiAgICBsZXQgY29udGFjdEluZGV4LCBjYWxsZWRUb0NvbnRhY3RJZFxyXG4gICAgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY29udGFjdEluZGV4ICE9IG51bGwpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJmaXJzdCBvbmVcIilcclxuICAgICAgY29uc29sZS5sb2codGhpcy5wcm9wcylcclxuICAgICAgY29udGFjdEluZGV4ID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SW5kZXg7XHJcbiAgICAgIGNhbGxlZFRvQ29udGFjdElkID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmlkXHJcbiAgICAgIHRoaXMuY2FsbGVkVG9OdW1iZXIgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTnVtYmVyO1xyXG4gICAgICB0aGlzLmNhbGxlZFRvRmlyc3ROYW1lID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmZpcnN0TmFtZTtcclxuICAgICAgdGhpcy5jYWxsZWRUb0xhc3ROYW1lID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jdXN0b21lci5jb250YWN0c1tjb250YWN0SW5kZXhdLmxhc3ROYW1lO1xyXG4gICAgICB0aGlzLmVtYWlsT2ZDYWxsZWQgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZW1haWw7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2codGhpcy5wcm9wcylcclxuICAgICAgY29uc29sZS5sb2coXCJzZWNvbmQgb25lXCIpXHJcbiAgICAgIGNhbGxlZFRvQ29udGFjdElkID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SWRcclxuICAgICAgdGhpcy5jYWxsZWRUb051bWJlciA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9OdW1iZXI7XHJcbiAgICAgIHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvRmlyc3ROYW1lO1xyXG4gICAgICB0aGlzLmNhbGxlZFRvTGFzdE5hbWUgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvTGFzdE5hbWU7XHJcbiAgICAgIHRoaXMuZW1haWxPZkNhbGxlZCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuZW1haWxPZkNhbGxlZFxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJFbWFpbCBvZiBjYWxsZWRcIiwgdGhpcy5lbWFpbE9mQ2FsbGVkKVxyXG5cclxuICAgIHRoaXMuY2FsbGVkVG9GdWxsTmFtZSA9IHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyBcIiBcIiArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZTtcclxuICAgIGlmICh0aGlzLmNhbGxlZFRvRnVsbE5hbWUgPT09IFwiVW5rbm93biBcIiB8fCB0aGlzLmNhbGxlZFRvRnVsbE5hbWUgPT09IFwiVW5uYW1lZCBVbm5hbWVkXCIpIHtcclxuICAgICAgdGhpcy5jYWxsZWRUb0Z1bGxOYW1lID0gdGhpcy5jYWxsZWRUb051bWJlcjtcclxuICAgIH1cclxuICAgIGxldCBsb2NhdGlvblByb3BzID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZTtcclxuICAgIGxldCBhY2NvdW50ID0gdGhpcy5wcm9wcy5jdXN0b21lcnMuY3VzdG9tZXJzLmZpbHRlcihjdXN0b21lciA9PiBjdXN0b21lci5pZCA9PSBsb2NhdGlvblByb3BzLmFjY291bnRJZCk7XHJcbiAgICB0aGlzLnByb3BzLmNhbGxMb2coe1xyXG4gICAgICBzdGF0dXM6IFwiXCIsXHJcbiAgICAgIGNvbnRhY3Q6IHtcclxuICAgICAgICBpZDogY2FsbGVkVG9Db250YWN0SWRcclxuICAgICAgfSxcclxuICAgICAgY2FsbGVkVG9OdW1iZXI6IHRoaXMuY2FsbGVkVG9OdW1iZXIsXHJcbiAgICAgIGNvbnRhY3RJZDogY2FsbGVkVG9Db250YWN0SWQsXHJcbiAgICAgIGNhbGxlZFRvOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNhbGxlZFRvLFxyXG4gICAgICBzdGFydERhdGVUaW1lOiBuZXcgRGF0ZSgpLFxyXG4gICAgfSk7XHJcbiAgICBkaXNhYmxlRnJlZGFJbkNhbGwoKVxyXG4gICAgc2lwQ2FsbCh0aGlzLmNhbGxlZFRvTnVtYmVyLCB0aGlzLnByb3BzLnVzZXIsIGFjY291bnQsIGxvY2F0aW9uUHJvcHMuY3VzdG9tZXIsIHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuaW52b2ljZXMpO1xyXG4gICAgLy8gd2hpbGUodGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyAhPSB0cnVlKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGxvYWRpbmc6IGZhbHNlLFxyXG4gICAgICB2b2ljZW1haWxQbGF5ZWRNZXNzYWdlOiBcIlwiLFxyXG4gICAgICByZWRpcmVjdDogZmFsc2UsXHJcbiAgICAgIGNhbGxQcmVwUGFnZTogZmFsc2UsXHJcbiAgICAgIGN1c3RvbWVyOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmN1c3RvbWVyLFxyXG4gICAgICBjb21tdW5pY2F0aW9uOiB0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmNvbW11bmljYXRpb24sXHJcbiAgICAgIGNhbGxEdXJhdGlvbjogMCxcclxuICAgICAgY2FsbER1cmF0aW9uSW5Gb3JtYXQ6IFwiXCIsXHJcbiAgICAgIHRyYW5zY3JpcHRpb246IFwiXCIsXHJcbiAgICAgIHN1bW1hcnk6IFwiW11cIixcclxuICAgICAgY29udGFjdE9wZW46IGZhbHNlLFxyXG4gICAgICBjb2x1bW5zOiBbXHJcbiAgICAgICAgeyBuYW1lOiAncHJvZHVjdCcsIHRpdGxlOiAnUHJvZHVjdCcgfSxcclxuICAgICAgICB7IG5hbWU6ICdyZWdpb24nLCB0aXRsZTogJ1JlZ2lvbicgfSxcclxuICAgICAgICB7IG5hbWU6ICdhbW91bnQnLCB0aXRsZTogJ1NhbGUgQW1vdW50JyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ3NhbGVEYXRlJywgdGl0bGU6ICdTYWxlIERhdGUnIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnY3VzdG9tZXInLCB0aXRsZTogJ0N1c3RvbWVyJyB9LFxyXG4gICAgICBdLFxyXG4gICAgICBjdXJyZW5jeUNvbHVtbnM6IFsnYW1vdW50J10sXHJcbiAgICAgIHBhZ2VTaXplczogWzUsIDEwLCAxNV0sXHJcbiAgICAgIHJvd3M6IHNhbGVzLFxyXG4gICAgICBpbnZvaWNlczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5pbnZvaWNlcyxcclxuICAgICAgaXNWb2ljZW1haWxPcGVuOiBmYWxzZSxcclxuICAgICAgdHJhbnNjcmlwdGlvbjogXCJcIixcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmludm9pY2VzLCBcImluIGluY2FsbCB1c3VhbCBmbG93XCIpXHJcblxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgbGV0IGN1cnJlbnRUcmFuc2NyaXB0aW9uID0gdGhpcy5wcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XHJcbiAgICBsZXQgbmV3VHJhbnNjcmlwdGlvbiA9IG5leHRQcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XHJcbiAgICBpZiAobmV3VHJhbnNjcmlwdGlvbiAhPT0gY3VycmVudFRyYW5zY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRyYW5zY3JpcHRpb246IG5ld1RyYW5zY3JpcHRpb24gfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZXM6IG5leHRQcm9wcy5sb2NhdGlvbi5zdGF0ZS5pbnZvaWNlcyB9KTtcclxuICB9XHJcblxyXG4gIG9wZW5Db250YWN0RHJvcGRvd24gPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jb250YWN0T3BlbiA9PSB0cnVlKVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgY29udGFjdE9wZW46IGZhbHNlIH0pO1xyXG4gICAgZWxzZVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgY29udGFjdE9wZW46IHRydWUgfSk7XHJcbiAgfTtcclxuICB0b2dnbGVDb250YWN0UG9wb3ZlciA9IHZhbHVlID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBjb250YWN0T3BlbjogdmFsdWUgfSk7XHJcbiAgfTtcclxuICBnZXRGb3JtYXR0ZWREdXJhdGlvbiA9ICgpID0+IHtcclxuICAgIGxldCBkdXJhdGlvbiA9IHRoaXMuc3RhdGUuY2FsbER1cmF0aW9uKys7XHJcbiAgICB2YXIgaHIgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gMzYwMCk7XHJcbiAgICB2YXIgbWluID0gTWF0aC5mbG9vcigoZHVyYXRpb24gLSAoaHIgKiAzNjAwKSkgLyA2MCk7XHJcbiAgICB2YXIgc2VjID0gTWF0aC5mbG9vcihkdXJhdGlvbiAtIChociAqIDM2MDApIC0gKG1pbiAqIDYwKSk7XHJcblxyXG4gICAgaWYgKG1pbiA8IDEwKSB7XHJcbiAgICAgIG1pbiA9IFwiMFwiICsgbWluO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZWMgPCAxMCkge1xyXG4gICAgICBzZWMgPSBcIjBcIiArIHNlYztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbWluICsgJzonICsgc2VjO1xyXG4gIH1cclxuXHJcbiAgb3BlblZvaWNlbWFpbCA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc1ZvaWNlbWFpbE9wZW46ICF0aGlzLnN0YXRlLmlzVm9pY2VtYWlsT3BlbiB9KVxyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3BUaW1lbGluZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BUaW1lbGluZTogZmFsc2UgfSk7XHJcbiAgfTtcclxuXHJcbiAgb3BlblBvcFRpbWVsaW5lID0gcG9wVHlwZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgcG9wVGltZWxpbmU6IHRydWUsIHBvcFR5cGU6IHBvcFR5cGUgfSk7XHJcbiAgfTtcclxuXHJcbiAgZ2V0VGltZWxpbmUgPSBwb3BUeXBlID0+IHtcclxuICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gdGhpcy5wcm9wcztcclxuICAgIGxldCBldmVudHMgPSBcIlwiLCBtYWluSGVhZGVyID0gXCJcIiwgbm9FdmVudE1zZyA9IFwiXCI7XHJcbiAgICBpZiAocG9wVHlwZSA9PT0gXCJQQVlNRU5UX0hJU1RPUllcIikge1xyXG4gICAgICBldmVudHMgPSB0aGlzLnN0YXRlLmN1c3RvbWVyLnBheW1lbnRzO1xyXG4gICAgICAvLyBldmVudHM9dGhpcy5wYXltZW50cztcclxuICAgICAgbWFpbkhlYWRlciA9IFwiUkVDRU5UIFBBWU1FTlRTXCI7XHJcbiAgICAgIG5vRXZlbnRNc2cgPSBcIk5vIFBheW1lbnRzIGluIExhc3QgMzAgRGF5c1wiXHJcbiAgICB9XHJcbiAgICBpZiAocG9wVHlwZSA9PT0gXCJDT01NX0hJU1RPUllcIikge1xyXG4gICAgICBldmVudHMgPSB0aGlzLnN0YXRlLmNvbW11bmljYXRpb247XHJcbiAgICAgIC8vIGV2ZW50cz10aGlzLmNvbW11bmljYXRpb247XHJcbiAgICAgIG1haW5IZWFkZXIgPSBcIkNPTU1VTklDQVRJT04gSElTVE9SWVwiO1xyXG4gICAgICBub0V2ZW50TXNnID0gXCJObyBDb21tdW5pY2F0aW9uIEhpc3RvcnlcIlxyXG4gICAgICBmb3IgKGxldCBpIGluIGV2ZW50cykge1xyXG4gICAgICAgIGxldCB0eXBlID0gZXZlbnRzW2ldLnR5cGUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICBpZiAodHlwZSA9PSBcIkNBTExcIikge1xyXG4gICAgICAgICAgbGV0IHN0YXR1cyA9IGV2ZW50c1tpXS5jYWxsLnN0YXR1cztcclxuICAgICAgICAgIGlmIChzdGF0dXMgPT0gXCItMTAwXCIpIHtcclxuICAgICAgICAgICAgZXZlbnRzW2ldLmNvbW1UeXBlID0gXCJWT0lDRU1BSUxcIjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50c1tpXS5jb21tVHlwZSA9IFwiQ0FMTFwiO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBcIkNPUlJFU1BPTkRFTkNFXCIpIHtcclxuICAgICAgICAgIGV2ZW50c1tpXS5jb21tVHlwZSA9IFwiTUFJTFwiO1xyXG4gICAgICAgICAgZXZlbnRzW2ldLmN1c3RvbWVyTmFtZSA9IHRoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdj5cclxuICAgICAgICB7KChwb3BUeXBlID09IFwiQ09NTV9ISVNUT1JZXCIpIHx8IHBvcFR5cGUgPT0gXCJQQVlNRU5UX0hJU1RPUllcIikgJiZcclxuICAgICAgICAgIDxWZXJ0aWNhbFRpbWVMaW5lXHJcbiAgICAgICAgICAgIHBvcFR5cGU9e3BvcFR5cGV9XHJcbiAgICAgICAgICAgIGV2ZW50cz17ZXZlbnRzfVxyXG4gICAgICAgICAgICBtYWluSGVhZGVyPXttYWluSGVhZGVyfVxyXG4gICAgICAgICAgICBub0V2ZW50TXNnPXtub0V2ZW50TXNnfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICB0b2dnbGVNdXRlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTXV0ZWQ6ICF0aGlzLnN0YXRlLmlzTXV0ZWQgfSlcclxuICAgIHNpcFRvZ2dsZU11dGUoKTtcclxuICB9XHJcblxyXG4gIHNldER1cmF0aW9uID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY2FsbER1cmF0aW9uID09PSAwKSB7XHJcbiAgICAgIHRpbWVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIkNvbm5lY3RlZCB0b1wiKVxyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNhbGxEdXJhdGlvbkluRm9ybWF0OiB0aGlzLmdldEZvcm1hdHRlZER1cmF0aW9uKCkgfSlcclxuXHJcbiAgICAgIH0sIDEwMDApXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgfVxyXG5cclxuICBjbGVhckludGVydmFsT25IYW5ndXAgPSAoKSA9PiB7XHJcbiAgICBjbGVhckludGVydmFsKHRpbWVJbnRlcnZhbClcclxuICB9XHJcblxyXG5cclxuXHJcbiAgaGFuZ1VwID0gKCkgPT4ge1xyXG4gICAgc2lwSGFuZ3VwKClcclxuICAgIC8vIHRoaXMucHJvcHMuY2hhbmdlQ2FsbFN0YXRlKHsgY2FsbGluZzogZmFsc2UsIHN0YXR1cyA6IFwiQ29ubmVjdGVkIHRvXCIgfSlcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcykgeyB9XHJcblxyXG4gIG9wZW5Wb2ljZW1haWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNWb2ljZW1haWxPcGVuOiAhdGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbE9wZW4gfSlcclxuICB9XHJcblxyXG4gIHN3aXRjaFRvQ2FsbFByZXBQYWdlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGNhbGxQcmVwUGFnZTogdHJ1ZSB9KVxyXG4gIH1cclxuXHJcbiAgc3dpdGNoVG9DYWxsSW5DYWxsUGFnZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBjYWxsUHJlcFBhZ2U6IGZhbHNlIH0pXHJcblxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVm9pY2VtYWlsTWVzc2FnZSA9ICgpID0+IHtcclxuXHJcbiAgICAvL2FmdGVyIGZvciBhZGQgY2FsbGVkX3RvX25hbWUgb3IgbnVtYmVyIGlmIHVua25vdyB1c2VyIGFjY29yZGluZ2x5XHJcblxyXG4gICAgbGV0IGNvbnRhY3Q7XHJcbiAgICBsZXQgY2FsbGVkTmFtZSA9IHRoaXMuY2FsbGVkVG9GaXJzdE5hbWUgKyBcIiBcIiArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZTtcclxuXHJcbiAgICBpZiAoY2FsbGVkTmFtZSA9PT0gXCJVbmtub3duIFwiIHx8IGNhbGxlZE5hbWUgPT09IFwiVW5uYW1lZCBVbm5hbWVkXCIpIHtcclxuICAgICAgY29udGFjdCA9IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9OdW1iZXI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb250YWN0ID0gY2FsbGVkTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbWVzc2FnZSA9IGBWb2ljZW1haWwgUGxheWVkIGZvciAke2NvbnRhY3QgPyBjb250YWN0IDogXCJcIn1cXG5gO1xyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxQbGF5ZWRNZXNzYWdlOiBtZXNzYWdlIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuXHJcblxyXG4gICAgbGV0IG5leHRJZCA9IHBhcnNlSW50KHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmlkLCAxMCkgKyAxO1xyXG4gICAgbGV0IHByZXZJZCA9IHBhcnNlSW50KHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmlkLCAxMCkgLSAxO1xyXG4gICAgbGV0IG5leHRVcmwgPSBcIi9jYWxscHJlcC9cIiArIG5leHRJZDtcclxuICAgIGxldCBwcmV2VXJsID0gXCIvY2FsbHByZXAvXCIgKyBwcmV2SWQ7XHJcbiAgICBjb25zdCBjYWxsZWRUb05hbWVJbml0aWFscyA9IGdldEluaXRpYWxzRnJvbU5hbWUoYCR7dGhpcy5jYWxsZWRUb0ZpcnN0TmFtZX0gJHt0aGlzLmNhbGxlZFRvTGFzdE5hbWV9YCk7XHJcbiAgICBjb25zdCB4QXhpc0xhYmVsU3R5bGVzID0ge1xyXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgIGZvbnRTaXplOiBcIjEzcHhcIixcclxuICAgICAgd2lkdGg6IFwiODAlXCJcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIkNvbm5lY3RlZCB0b1wiKSB7XHJcbiAgICAgIHRoaXMuc2V0RHVyYXRpb24oKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAge3RoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiZcclxuXHJcbiAgICAgICAgICA8SGFtbWVyIG9uU3dpcGVMZWZ0PXt0aGlzLnN3aXRjaFRvQ2FsbFByZXBQYWdlfSBvblN3aXBlUmlnaHQ9e3RoaXMuc3dpdGNoVG9DYWxsSW5DYWxsUGFnZX0gPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5hcHBGcmFtZX0+XHJcbiAgICAgICAgICAgIDxEcmF3ZXIgdG9wSXRlbXM9e2dldE1lbnVJdGVtcyhjbGFzc2VzLCB0aGVtZSwgdGhpcy5vcGVuUG9wVGltZWxpbmUpfSAvPlxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbUZvb3RlciAvPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnJvb3R9ID5cclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8TW9kYWxcclxuICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5wb3BUaW1lbGluZX1cclxuICAgICAgICAgICAgICAgICAgZGlzYWJsZUF1dG9Gb2N1cz17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVBvcFRpbWVsaW5lfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmN1c3RvbWVySGlzdG9yeU1vZGFsfT5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFRpbWVsaW5lKHRoaXMuc3RhdGUucG9wVHlwZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPENsb3NlXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMuY2xvc2VTdHlsZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVBvcFRpbWVsaW5lfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxTdGF0ZS5jYWxsaW5nID09PSB0cnVlICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8RmFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJBZGRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnByZXZGYWIsIGNsYXNzZXMuZmFiQnV0dG9ucyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17eyBkaXNhYmxlZDogY2xhc3Nlcy5kaXNhYmxlZEZhYiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuY2FsbFByZXBQYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3dpdGNoVG9DYWxsUHJlcFBhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TmF2aWdhdGVCZWZvcmUgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSA/IGNsYXNzZXMuZGlzYWJsZWRBcnJvd2ljb24gOiBjbGFzc2VzLmFycm93SWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9GYWI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxGYWJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb2xvcj1cInNlY29uZGFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkFkZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17eyBkaXNhYmxlZDogY2xhc3Nlcy5kaXNhYmxlZEZhYiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLm5leHRGYWIsIGNsYXNzZXMuZmFiQnV0dG9ucyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3dpdGNoVG9DYWxsSW5DYWxsUGFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZpZ2F0ZU5leHQgY2xhc3NOYW1lPXshdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPyBjbGFzc2VzLmRpc2FibGVkQXJyb3dpY29uIDogY2xhc3Nlcy5hcnJvd0ljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRmFiPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciB4cz17MTJ9IGp1c3RpZnk9XCJzcGFjZS1iZXR3ZWVuXCIgYWxpZ25JdGVtcz1cImZsZXgtc3RhcnRcIiBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiMS4xMnZoXCIgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17NX0gc3R5bGU9e3sgcGFkZGluZ0xlZnQ6IFwiMHB4XCIsIHBhZGRpbmdSaWdodDogXCIwcHhcIiB9fT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZS5sZW5ndGggPCAyMCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub1dyYXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jdXN0b21lck5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIiBcIn1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXAgdGl0bGU9e3RoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub1dyYXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmN1c3RvbWVyTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIiBcIn1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuY3VzdG9tZXIuY3VzdG9tZXJOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJOdW1iZXJ9Pnt0aGlzLnN0YXRlLmN1c3RvbWVyLmN1c3RvbWVyTnVtYmVyfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjb250YWluZXIgc209ezZ9IGxnPXs2fSBtZD17Nn0geGw9ezV9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwiZmxleC1lbmRcIiA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIGxnPXs4fSBtZD17MTB9IHhsPXsxMH0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJmbGV4LWVuZFwiIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiBcIjguMzMzdndcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBzbT17OX0gbGc9ezl9IG1kPXs5fSB4bD17OX0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJzcGFjZS1iZXR3ZWVuXCIgY2xhc3NOYW1lPXtjbGFzc2VzLmNhbGxHcmlkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBpdGVtIGxnPXs3fSBtZD17N30geGw9ezd9IHN0eWxlPXt7IGN1cnNvcjogXCJwb2ludGVyXCIgfX0gb25DbGljaz17dGhpcy5vcGVuQ29udGFjdERyb3Bkb3dufSBqdXN0aWZ5PVwiZmxleC1zdGFydFwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMuY3VzdG9tZXJJY29uQ2lyY2xlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSA9PT0gXCJVbm5hbWVkXCIgJiYgdGhpcy5jYWxsZWRUb0xhc3ROYW1lID09PSBcIlVubmFtZWRcIiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Pzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmNhbGxlZFRvRmlyc3ROYW1lICE9PSBcIlVubmFtZWRcIiAmJiB0aGlzLmNhbGxlZFRvTGFzdE5hbWUgIT09IFwiVW5uYW1lZFwiICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57dGhpcy5jYWxsZWRUb0ZpcnN0TmFtZS50b1VwcGVyQ2FzZSgpLmNoYXJBdCgwKSArIHRoaXMuY2FsbGVkVG9MYXN0TmFtZS50b1VwcGVyQ2FzZSgpLmNoYXJBdCgwKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gbGc9ezd9IG1kPXs3fSB4bD17N30gY2xhc3NOYW1lPXtjbGFzc2VzLmNhbGxUZXh0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwic3BhblwiIG5vV3JhcCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5zdGF0dXMpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYWxsZWRUb0NvbnRhY3REaXZ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgbm9XcmFwPXt0cnVlfSBjbGFzc05hbWU9e2NsYXNzZXMuY2FsbGVkQ29udGFjdE5hbWV9ID5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmNhbGxlZFRvRnVsbE5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5kcm9wRG93bn0gYWxpZ249XCJyaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd0Ryb3BEb3duSWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmRyb3BEb3duSWNvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc2VzLmNvbnRhY3RJY29ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29udGFjdExpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFGcm9tQ2hpbGQ9e3RoaXMudG9nZ2xlQ29udGFjdFBvcG92ZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0T3Blbj17dGhpcy5zdGF0ZS5jb250YWN0T3Blbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Db250YWN0cz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0cz17dGhpcy5zdGF0ZS5jdXN0b21lci5jb250YWN0c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyPXt0aGlzLnN0YXRlLmN1c3RvbWVyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXM9e3RoaXMuc3RhdGUuaW52b2ljZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXROYW1lcz17dGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDdXN0b21lclVybD17dGhpcy5uZXh0VXJsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS50b0NhbGxDdXN0b21lcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9Db250YWN0TGlzdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGl0ZW0gbGc9ezV9IG1kPXs1fSB4bD17NX0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJmbGV4LWVuZFwiPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc2VzLmR1cmF0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jYWxsRHVyYXRpb25JbkZvcm1hdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLm1pY09mZkljb24sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc011dGVkICYmIDxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLm1pY09mZkljb25JbWd9IHNyYz17Jy90b3ZvL3N0YXRpYy91bm11dGUuc3ZnJ30gb25DbGljaz17dGhpcy50b2dnbGVNdXRlfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNNdXRlZCAmJiA8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5taWNPZmZJY29uSW1nfSBzcmM9e3JlcXVpcmUoJy4uL2Fzc2V0cy9taWNfb2ZmLnBuZycpfSBvbkNsaWNrPXt0aGlzLnRvZ2dsZU11dGV9IC8+fVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwicmlnaHRcIiBjbGFzc05hbWU9e2NsYXNzZXMuaGFuZ1VwQnV0dG9ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5oYW5nVXBCdXR0b25JbWd9IG9uQ2xpY2s9e3RoaXMuaGFuZ1VwfSBjbGFzc05hbWU9e2NsYXNzZXMuaGFuZ1VwSWNvbkluZ30gc3JjPXtyZXF1aXJlKCcuLi9hc3NldHMvaGFuZy11cC5wbmcnKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMuZGlhbHBhZEljb259PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEtleVBhZFdyYXBwZWQgY2xhc3NOYW1lPXtjbGFzc2VzLmJhc2VJY29uU2l6ZX0gY3VzdG9tZXI9e3RoaXMuc3RhdGUuY3VzdG9tZXJ9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMudm9pY2VNYWlsSWNvbiwgY2xhc3Nlcy5iYXNlSWNvblNpemUpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWb2ljZW1haWxXcmFwcGVyIGN1c3RvbWVyPXt0aGlzLnN0YXRlLmN1c3RvbWVyfSBvblZvaWNlbWFpbENsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZVZvaWNlbWFpbE1lc3NhZ2UoKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IHRydWUgJiYgdGhpcy5zdGF0ZS5jYWxsUHJlcFBhZ2UgPT09IGZhbHNlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiMi4wMzd2aFwiIH19PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciB4cz17MTJ9IGFsaWduSXRlbXM9XCJmbGV4LXN0YXJ0XCIganVzdGlmeT1cImNlbnRlclwiIHN0eWxlPXt7IG1hcmdpbkxlZnQ6IFwiMHB4XCIgfX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs4fSBhbGlnbj1cImxlZnRcIiBzdHlsZT17eyBwYWRkaW5nVG9wOiBcIjBcIiwgcGFkZGluZ1JpZ2h0OiBcIjEuMDQxdndcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbnZvaWNlcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluQ2FsbERldGFpbHMgY29sbGVjdG9yPXt0aGlzLnByb3BzLnVzZXJ9IGVtYWlsT2ZDYWxsZWQ9e3RoaXMuZW1haWxPZkNhbGxlZH0gY3VzdG9tZXI9e3RoaXMuc3RhdGUuY3VzdG9tZXJ9IGludm9pY2VzPXt0aGlzLnN0YXRlLmludm9pY2VzfSBidWNrZXROYW1lcz17dGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5idWNrZXROYW1lc30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjb250YWluZXIgeHM9ezR9IGNsYXNzTmFtZT17Y2xhc3Nlcy50cmFuc2NyaXB0Qm94UGFyZW50fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhbnNjcmlwdEJveFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnRyYW5zY3JpcHRCb3h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0VGl0bGVDbGFzc05hbWU9e2NsYXNzZXMudHJhbnNjcmlwdFRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdENoYXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uOiB0aGlzLnN0YXRlLnRyYW5zY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZFRvTmFtZUluaXRpYWxzOiBjYWxsZWRUb05hbWVJbml0aWFscyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckluaXRpYWxzOiAnTUUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0R3JpZElEOiAnbGl2ZS10cmFuc2NyaXB0aW9uLWdyaWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gdHJ1ZSAmJiB0aGlzLnN0YXRlLmNhbGxQcmVwUGFnZSA9PT0gdHJ1ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Q2FsbFByZXBEZXRhaWxzIGN1c3RvbWVyPXt0aGlzLnN0YXRlLmN1c3RvbWVyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L0hhbW1lcj5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLmNhbGxpbmcgPT09IGZhbHNlICYmXHJcbiAgICAgICAgICAoXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PT0gXCJDYWxsIEZhaWxlZFwiIHx8XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PSBcIldyb25nIE51bWJlclwiIHx8XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2FsbFN0YXRlLnN0YXR1cyA9PSBcIlVzZXIgQnVzeVwiKSAmJiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPFJlZGlyZWN0XHJcbiAgICAgICAgICAgICAgICB0bz17e1xyXG4gICAgICAgICAgICAgICAgICBwYXRobmFtZTogXCIvY2FsbHByZXAvXCIgKyB0aGlzLnN0YXRlLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogeyBvcGVuQ29udGFjdHM6IHRydWUsIHRvQ2FsbEN1c3RvbWVyczogdGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS50b0NhbGxDdXN0b21lcnMgfVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gZmFsc2UgJiYgKFxyXG4gICAgICAgICAgICA8UG9zdENhbGxcclxuICAgICAgICAgICAgICB2b2ljZW1haWxNZXNzYWdlPXt0aGlzLnN0YXRlLnZvaWNlbWFpbFBsYXllZE1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgY2FsbER1cmF0aW9uPXt0aGlzLnN0YXRlLmNhbGxEdXJhdGlvbn1cclxuICAgICAgICAgICAgICB0b0NhbGxDdXN0b21lcnM9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzfVxyXG4gICAgICAgICAgICAgIG5leHRDdXN0b21lclVybD17dGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5uZXh0Q3VzdG9tZXJVcmx9XHJcbiAgICAgICAgICAgICAgb25IYW5ndXA9e3RoaXMuY2xlYXJJbnRlcnZhbE9uSGFuZ3VwfVxyXG4gICAgICAgICAgICAgIGludm9pY2VzPXt0aGlzLnN0YXRlLmludm9pY2VzfVxyXG4gICAgICAgICAgICAgIGN1c3RvbWVyPXt0aGlzLnN0YXRlLmN1c3RvbWVyfVxyXG4gICAgICAgICAgICAgIGNhbGxlZFRvTmFtZT17dGhpcy5jYWxsZWRUb0ZpcnN0TmFtZSArIFwiIFwiICsgdGhpcy5jYWxsZWRUb0xhc3ROYW1lfVxyXG4gICAgICAgICAgICAgIGJ1Y2tldE5hbWVzPXt0aGlzLnByb3BzLmxvY2F0aW9uLnN0YXRlLmJ1Y2tldE5hbWVzfVxyXG4gICAgICAgICAgICAgIGNvbGxlY3Rvcj17dGhpcy5wcm9wcy51c2VyfVxyXG4gICAgICAgICAgICAgIGNvbnRhY3RJbmRleD17dGhpcy5wcm9wcy5sb2NhdGlvbi5zdGF0ZS5jb250YWN0SW5kZXh9XHJcbiAgICAgICAgICAgICAgY2FsbGVkVG9OdW1iZXI9e3RoaXMucHJvcHMubG9jYXRpb24uc3RhdGUuY2FsbGVkVG9OdW1iZXJ9XHJcbiAgICAgICAgICAgICAgaW5pdGlhbFRyYW5zY3JpcHRpb249e3RoaXMuc3RhdGUudHJhbnNjcmlwdGlvbn1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGhpcy5wcm9wcy5jYWxsU3RhdGUuY2FsbGluZyA9PT0gZmFsc2UgJiYgdGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIlRyeWluZyB0byBjb25uZWN0XCIgJiZcclxuICAgICAgICAgIDxkaXY+XHJcblxyXG4gICAgICAgICAgICA8UmVkaXJlY3QgdG89e3tcclxuICAgICAgICAgICAgICBwYXRobmFtZTogJy9jYWxscHJlcC8nICsgdGhpcy5zdGF0ZS5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgICBzdGF0ZTogeyBvcGVuQ29udGFjdHM6IGZhbHNlLCB0b0NhbGxDdXN0b21lcnM6IHRoaXMucHJvcHMubG9jYXRpb24uc3RhdGUudG9DYWxsQ3VzdG9tZXJzIH1cclxuICAgICAgICAgICAgfX0gLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4gKHtcclxuXHJcbiAgdXNlcjogc3RhdGUucGVyc29uYWxEZXRhaWxzLFxyXG4gIGNhbGxTdGF0ZTogc3RhdGUuY2FsbFN0YXRlLFxyXG4gIHRyYW5zY3JpcHRpb246IHN0YXRlLnRyYW5zY3JpcHRpb24sXHJcbiAgY3VzdG9tZXJzOiBzdGF0ZS5jdXN0b21lcnMsXHJcbn0pXHJcblxyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSBkaXNwYXRjaCA9PiAoe1xyXG4gIGNoYW5nZUNhbGxTdGF0ZTogZGF0YSA9PiAoZGlzcGF0Y2goY2hhbmdlQ2FsbFN0YXRlKGRhdGEpKSksXHJcbiAgY2hhbmdlU3RhdHVzOiBkYXRhID0+IChkaXNwYXRjaChjaGFuZ2VTdGF0dXMoZGF0YSkpKSxcclxuICBjaGFuZ2VUcmFuc2NyaXB0aW9uOiBkYXRhID0+IChkaXNwYXRjaChjaGFuZ2VUcmFuc2NyaXB0aW9uKGRhdGEpKSksXHJcbiAgY2FsbExvZzogZGF0YSA9PiAoZGlzcGF0Y2goYWRkSW5pdGlhbENhbGxMb2coZGF0YSkpKVxyXG59KVxyXG5cclxuY29uc3QgY29tYmluZWRTdHlsZSA9IGNvbWJpbmVTdHlsZXMoc3R5bGVzLCBiYXNlU3R5bGUpXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXHJcbiAgbWFwU3RhdGVUb1Byb3BzLFxyXG4gIG1hcERpc3BhdGNoVG9Qcm9wcyxcclxuKSh3aXRoU3R5bGVzKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEluQ2FsbCkpXHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdmlld3MvSW5DYWxsLmpzIiwiaW1wb3J0IGFkZERheXMgZnJvbSAnZGF0ZS1mbnMvYWRkRGF5cyc7XG5pbXBvcnQgYWRkTW9udGhzIGZyb20gJ2RhdGUtZm5zL2FkZE1vbnRocyc7XG5pbXBvcnQgYWRkWWVhcnMgZnJvbSAnZGF0ZS1mbnMvYWRkWWVhcnMnO1xuaW1wb3J0IGRpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyBmcm9tICdkYXRlLWZucy9kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMnO1xuaW1wb3J0IGVhY2hEYXlPZkludGVydmFsIGZyb20gJ2RhdGUtZm5zL2VhY2hEYXlPZkludGVydmFsJztcbmltcG9ydCBlbmRPZkRheSBmcm9tICdkYXRlLWZucy9lbmRPZkRheSc7XG5pbXBvcnQgZW5kT2ZNb250aCBmcm9tICdkYXRlLWZucy9lbmRPZk1vbnRoJztcbmltcG9ydCBlbmRPZldlZWsgZnJvbSAnZGF0ZS1mbnMvZW5kT2ZXZWVrJztcbmltcG9ydCBlbmRPZlllYXIgZnJvbSAnZGF0ZS1mbnMvZW5kT2ZZZWFyJztcbmltcG9ydCBmb3JtYXQgZnJvbSAnZGF0ZS1mbnMvZm9ybWF0JztcbmltcG9ydCBnZXRIb3VycyBmcm9tICdkYXRlLWZucy9nZXRIb3Vycyc7XG5pbXBvcnQgZ2V0U2Vjb25kcyBmcm9tICdkYXRlLWZucy9nZXRTZWNvbmRzJztcbmltcG9ydCBnZXRZZWFyIGZyb20gJ2RhdGUtZm5zL2dldFllYXInO1xuaW1wb3J0IGlzQWZ0ZXIgZnJvbSAnZGF0ZS1mbnMvaXNBZnRlcic7XG5pbXBvcnQgaXNCZWZvcmUgZnJvbSAnZGF0ZS1mbnMvaXNCZWZvcmUnO1xuaW1wb3J0IGlzRXF1YWwgZnJvbSAnZGF0ZS1mbnMvaXNFcXVhbCc7XG5pbXBvcnQgaXNTYW1lRGF5IGZyb20gJ2RhdGUtZm5zL2lzU2FtZURheSc7XG5pbXBvcnQgaXNWYWxpZCBmcm9tICdkYXRlLWZucy9pc1ZhbGlkJztcbmltcG9ydCBkYXRlRm5zUGFyc2UgZnJvbSAnZGF0ZS1mbnMvcGFyc2UnO1xuaW1wb3J0IHNldEhvdXJzIGZyb20gJ2RhdGUtZm5zL3NldEhvdXJzJztcbmltcG9ydCBzZXRNaW51dGVzIGZyb20gJ2RhdGUtZm5zL3NldE1pbnV0ZXMnO1xuaW1wb3J0IHNldFNlY29uZHMgZnJvbSAnZGF0ZS1mbnMvc2V0U2Vjb25kcyc7XG5pbXBvcnQgc2V0WWVhciBmcm9tICdkYXRlLWZucy9zZXRZZWFyJztcbmltcG9ydCBzdGFydE9mRGF5IGZyb20gJ2RhdGUtZm5zL3N0YXJ0T2ZEYXknO1xuaW1wb3J0IHN0YXJ0T2ZNb250aCBmcm9tICdkYXRlLWZucy9zdGFydE9mTW9udGgnO1xuaW1wb3J0IHN0YXJ0T2ZXZWVrIGZyb20gJ2RhdGUtZm5zL3N0YXJ0T2ZXZWVrJztcbmltcG9ydCBzdGFydE9mWWVhciBmcm9tICdkYXRlLWZucy9zdGFydE9mWWVhcic7XG5cbnZhciBEYXRlRm5zVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGF0ZUZuc1V0aWxzKF9hKSB7XG4gICAgICAgIHZhciBsb2NhbGUgPSAoX2EgPT09IHZvaWQgMCA/IHt9IDogX2EpLmxvY2FsZTtcbiAgICAgICAgdGhpcy5kYXRlVGltZTEyaEZvcm1hdCA9IFwiTU1NTSBkbyBoaDptbSBhYWFhXCI7XG4gICAgICAgIHRoaXMuZGF0ZVRpbWUyNGhGb3JtYXQgPSBcIk1NTU0gZG8gSEg6bW1cIjtcbiAgICAgICAgdGhpcy50aW1lMTJoRm9ybWF0ID0gXCJoaDptbSBhXCI7XG4gICAgICAgIHRoaXMudGltZTI0aEZvcm1hdCA9IFwiSEg6bW1cIjtcbiAgICAgICAgdGhpcy5kYXRlRm9ybWF0ID0gXCJNTU1NIGRvXCI7XG4gICAgICAgIHRoaXMubG9jYWxlID0gbG9jYWxlO1xuICAgIH1cbiAgICAvLyBOb3RlOiBkYXRlLWZucyBpbnB1dCB0eXBlcyBhcmUgbW9yZSBsZW5pZW50IHRoYW4gdGhpcyBhZGFwdGVyLCBzbyB3ZSBuZWVkIHRvIGV4cG9zZSBvdXIgbW9yZVxuICAgIC8vICBzdHJpY3Qgc2lnbmF0dXJlIGFuZCBkZWxlZ2F0ZSB0byB0aGUgbW9yZSBsZW5pZW50IHNpZ3RhdHVyZS4gIE90aGVyd2lzZSwgd2UgaGF2ZSBkb3duc3RyZWFtIHR5cGUgZXJyb3JzIHVwb24gdXNhZ2UuXG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5hZGREYXlzID0gZnVuY3Rpb24gKHZhbHVlLCBjb3VudCkge1xuICAgICAgICByZXR1cm4gYWRkRGF5cyh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGlmZiA9IGZ1bmN0aW9uICh2YWx1ZSwgY29tcGFyaW5nKSB7XG4gICAgICAgIHJldHVybiBkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHModmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQWZ0ZXIgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gaXNBZnRlcih2YWx1ZSwgY29tcGFyaW5nKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNCZWZvcmUgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gaXNCZWZvcmUodmFsdWUsIGNvbXBhcmluZyk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnN0YXJ0T2ZEYXkgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0T2ZEYXkodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5lbmRPZkRheSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZW5kT2ZEYXkodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRIb3VycyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZ2V0SG91cnModmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5zZXRIb3VycyA9IGZ1bmN0aW9uICh2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIHNldEhvdXJzKHZhbHVlLCBjb3VudCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLnNldE1pbnV0ZXMgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBzZXRNaW51dGVzKHZhbHVlLCBjb3VudCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFNlY29uZHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGdldFNlY29uZHModmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5zZXRTZWNvbmRzID0gZnVuY3Rpb24gKHZhbHVlLCBjb3VudCkge1xuICAgICAgICByZXR1cm4gc2V0U2Vjb25kcyh2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc1NhbWVEYXkgPSBmdW5jdGlvbiAodmFsdWUsIGNvbXBhcmluZykge1xuICAgICAgICByZXR1cm4gaXNTYW1lRGF5KHZhbHVlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRTdGFydE9mTW9udGggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0T2ZNb250aCh2YWx1ZSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFllYXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGdldFllYXIodmFsdWUpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5zZXRZZWFyID0gZnVuY3Rpb24gKHZhbHVlLCBjb3VudCkge1xuICAgICAgICByZXR1cm4gc2V0WWVhcih2YWx1ZSwgY291bnQpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5kYXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAodmFsdWUsIGZvcm1hdFN0cmluZykge1xuICAgICAgICBpZiAodmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlRm5zUGFyc2UodmFsdWUsIGZvcm1hdFN0cmluZywgbmV3IERhdGUoKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChkYXRlLCBmb3JtYXRTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBmb3JtYXRTdHJpbmcsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNFcXVhbCA9IGZ1bmN0aW9uIChkYXRlLCBjb21wYXJpbmcpIHtcbiAgICAgICAgaWYgKGRhdGUgPT09IG51bGwgJiYgY29tcGFyaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNFcXVhbChkYXRlLCBjb21wYXJpbmcpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc051bGwgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZSA9PT0gbnVsbDtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuaXNBZnRlckRheSA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNBZnRlcihkYXRlLCBlbmRPZkRheSh2YWx1ZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0JlZm9yZURheSA9IGZ1bmN0aW9uIChkYXRlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNCZWZvcmUoZGF0ZSwgc3RhcnRPZkRheSh2YWx1ZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5pc0JlZm9yZVllYXIgPSBmdW5jdGlvbiAoZGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzQmVmb3JlKGRhdGUsIHN0YXJ0T2ZZZWFyKHZhbHVlKSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmlzQWZ0ZXJZZWFyID0gZnVuY3Rpb24gKGRhdGUsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0FmdGVyKGRhdGUsIGVuZE9mWWVhcih2YWx1ZSkpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5mb3JtYXROdW1iZXIgPSBmdW5jdGlvbiAobnVtYmVyVG9Gb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlclRvRm9ybWF0O1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNaW51dGVzID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TWludXRlcygpO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRNb250aCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldE1vbnRoKCk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE1lcmlkaWVtVGV4dCA9IGZ1bmN0aW9uIChhbXBtKSB7XG4gICAgICAgIHJldHVybiBhbXBtID09PSBcImFtXCIgPyBcIkFNXCIgOiBcIlBNXCI7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE5leHRNb250aCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBhZGRNb250aHMoZGF0ZSwgMSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldFByZXZpb3VzTW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gYWRkTW9udGhzKGRhdGUsIC0xKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUubWVyZ2VEYXRlQW5kVGltZSA9IGZ1bmN0aW9uIChkYXRlLCB0aW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldE1pbnV0ZXModGhpcy5zZXRIb3VycyhkYXRlLCB0aGlzLmdldEhvdXJzKHRpbWUpKSwgdGhpcy5nZXRNaW51dGVzKHRpbWUpKTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0V2Vla2RheXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICByZXR1cm4gZWFjaERheU9mSW50ZXJ2YWwoe1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0T2ZXZWVrKG5vdywgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pLFxuICAgICAgICAgICAgZW5kOiBlbmRPZldlZWsobm93LCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSlcbiAgICAgICAgfSwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pLm1hcChmdW5jdGlvbiAoZGF5KSB7IHJldHVybiBmb3JtYXQoZGF5LCBcIkVFRUVFRVwiLCB7IGxvY2FsZTogX3RoaXMubG9jYWxlIH0pOyB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0V2Vla0FycmF5ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gc3RhcnRPZldlZWsoc3RhcnRPZk1vbnRoKGRhdGUpLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgICAgIHZhciBlbmQgPSBlbmRPZldlZWsoZW5kT2ZNb250aChkYXRlKSwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudCA9IHN0YXJ0O1xuICAgICAgICB2YXIgbmVzdGVkV2Vla3MgPSBbXTtcbiAgICAgICAgd2hpbGUgKGlzQmVmb3JlKGN1cnJlbnQsIGVuZCkpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrTnVtYmVyID0gTWF0aC5mbG9vcihjb3VudCAvIDcpO1xuICAgICAgICAgICAgbmVzdGVkV2Vla3Nbd2Vla051bWJlcl0gPSBuZXN0ZWRXZWVrc1t3ZWVrTnVtYmVyXSB8fCBbXTtcbiAgICAgICAgICAgIG5lc3RlZFdlZWtzW3dlZWtOdW1iZXJdLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gYWRkRGF5cyhjdXJyZW50LCAxKTtcbiAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5lc3RlZFdlZWtzO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRZZWFyUmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgICAgICB2YXIgc3RhcnREYXRlID0gc3RhcnRPZlllYXIoc3RhcnQpO1xuICAgICAgICB2YXIgZW5kRGF0ZSA9IGVuZE9mWWVhcihlbmQpO1xuICAgICAgICB2YXIgeWVhcnMgPSBbXTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzdGFydERhdGU7XG4gICAgICAgIHdoaWxlIChpc0JlZm9yZShjdXJyZW50LCBlbmREYXRlKSkge1xuICAgICAgICAgICAgeWVhcnMucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBhZGRZZWFycyhjdXJyZW50LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geWVhcnM7XG4gICAgfTtcbiAgICAvLyBkaXNwbGF5aW5nIG1ldGhwZHNcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldENhbGVuZGFySGVhZGVyVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgXCJNTU1NIHl5eXlcIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRZZWFyVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgXCJ5eXl5XCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIERhdGVGbnNVdGlscy5wcm90b3R5cGUuZ2V0RGF0ZVBpY2tlckhlYWRlclRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIFwiRUVFLCBNTU0gZFwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERhdGVUaW1lUGlja2VySGVhZGVyVGV4dCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoZGF0ZSwgXCJNTU0gZFwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldERheVRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIFwiZFwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldEhvdXJUZXh0ID0gZnVuY3Rpb24gKGRhdGUsIGFtcG0pIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBhbXBtID8gXCJoaFwiIDogXCJISFwiLCB7IGxvY2FsZTogdGhpcy5sb2NhbGUgfSk7XG4gICAgfTtcbiAgICBEYXRlRm5zVXRpbHMucHJvdG90eXBlLmdldE1pbnV0ZVRleHQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KGRhdGUsIFwibW1cIiwgeyBsb2NhbGU6IHRoaXMubG9jYWxlIH0pO1xuICAgIH07XG4gICAgRGF0ZUZuc1V0aWxzLnByb3RvdHlwZS5nZXRTZWNvbmRUZXh0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcInNzXCIsIHsgbG9jYWxlOiB0aGlzLmxvY2FsZSB9KTtcbiAgICB9O1xuICAgIHJldHVybiBEYXRlRm5zVXRpbHM7XG59KCkpO1xuXG5leHBvcnQgZGVmYXVsdCBEYXRlRm5zVXRpbHM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AZGF0ZS1pby9kYXRlLWZucy9idWlsZC9pbmRleC5lc20uanNcbi8vIG1vZHVsZSBpZCA9IDYwNzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgX19leHRlbmRzLCBfX2Fzc2lnbiwgX19yZXN0IH0gZnJvbSAndHNsaWInO1xuaW1wb3J0IHsgZnVuYywgb25lT2ZUeXBlLCBvYmplY3QsIHN0cmluZywgZWxlbWVudCwgYXJyYXlPZiwgYm9vbCwgbm9kZSwgYW55LCBvbmVPZiwgbnVtYmVyLCBpbnN0YW5jZU9mLCBzaGFwZSB9IGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgY3JlYXRlRWxlbWVudCwgQ29tcG9uZW50LCBGcmFnbWVudCwgUHVyZUNvbXBvbmVudCwgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNYXNrZWRJbnB1dCBmcm9tICdyZWFjdC10ZXh0LW1hc2snO1xuaW1wb3J0IEljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbic7XG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uQnV0dG9uJztcbmltcG9ydCBJbnB1dEFkb3JubWVudCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JbnB1dEFkb3JubWVudCc7XG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RleHRGaWVsZCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0J1dHRvbic7XG5pbXBvcnQgRGlhbG9nIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZyc7XG5pbXBvcnQgRGlhbG9nQWN0aW9ucyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dBY3Rpb25zJztcbmltcG9ydCBEaWFsb2dDb250ZW50IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ0NvbnRlbnQnO1xuaW1wb3J0IHsgY3JlYXRlU3R5bGVzLCB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IEV2ZW50TGlzdGVuZXIgZnJvbSAncmVhY3QtZXZlbnQtbGlzdGVuZXInO1xuaW1wb3J0IGtleWNvZGUgZnJvbSAna2V5Y29kZSc7XG5pbXBvcnQgY3JlYXRlU3R5bGVzJDEgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzL2NyZWF0ZVN0eWxlcyc7XG5pbXBvcnQgd2l0aFN0eWxlcyQxIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcy93aXRoU3R5bGVzJztcbmltcG9ydCBUb29sYmFyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1Rvb2xiYXInO1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XG5pbXBvcnQgeyBDU1NUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAgfSBmcm9tICdyZWFjdC10cmFuc2l0aW9uLWdyb3VwJztcbmltcG9ydCB7IGZpbmRET01Ob2RlIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBQb3BvdmVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1BvcG92ZXInO1xuaW1wb3J0IFBhcGVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1BhcGVyJztcbmltcG9ydCB3aXRoVGhlbWUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzL3dpdGhUaGVtZSc7XG5pbXBvcnQgVGFiIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RhYic7XG5pbXBvcnQgVGFicyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UYWJzJztcblxudmFyIF9hID0gY3JlYXRlQ29udGV4dChudWxsKSxcbiAgICBDb25zdW1lciA9IF9hLkNvbnN1bWVyLFxuICAgIFByb3ZpZGVyID0gX2EuUHJvdmlkZXI7XG5cbnZhciBNdWlQaWNrZXJzQ29udGV4dENvbnN1bWVyID0gQ29uc3VtZXI7XG5cbnZhciBNdWlQaWNrZXJzVXRpbHNQcm92aWRlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhNdWlQaWNrZXJzVXRpbHNQcm92aWRlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBNdWlQaWNrZXJzVXRpbHNQcm92aWRlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdXRpbHM6IG51bGxcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBVdGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBsb2NhbGUgPSBfYS5sb2NhbGUsXG4gICAgICAgIG1vbWVudCA9IF9hLm1vbWVudDtcbiAgICByZXR1cm4ge1xuICAgICAgdXRpbHM6IG5ldyBVdGlscyh7XG4gICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICBtb21lbnQ6IG1vbWVudFxuICAgICAgfSlcbiAgICB9O1xuICB9O1xuXG4gIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnV0aWxzLFxuICAgICAgY2hpbGRyZW46IHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICB9KTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBNdWlQaWNrZXJzVXRpbHNQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gICAgdXRpbHM6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBsb2NhbGU6IG9uZU9mVHlwZShbb2JqZWN0LCBzdHJpbmddKSxcbiAgICBjaGlsZHJlbjogb25lT2ZUeXBlKFtlbGVtZW50LmlzUmVxdWlyZWQsIGFycmF5T2YoZWxlbWVudC5pc1JlcXVpcmVkKV0pLmlzUmVxdWlyZWQsXG4gICAgbW9tZW50OiBmdW5jXG4gIH0gOiB2b2lkIDA7XG4gIE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBsb2NhbGU6IHVuZGVmaW5lZCxcbiAgICBtb21lbnQ6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXI7XG59KENvbXBvbmVudCk7XG5cbnZhciBjaGVja1V0aWxzID0gZnVuY3Rpb24gKHV0aWxzKSB7XG4gIGlmICghdXRpbHMpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBub3QgZmluZCB1dGlscyBpbiBjb250ZXh0LiBZb3UgZWl0aGVyIGEpIGZvcmdvdCB0byB3cmFwIHlvdXIgY29tcG9uZW50IHRyZWUgaW4gTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXI7IG9yIGIpIG1peGVkIG5hbWVkIGFuZCBkaXJlY3QgZmlsZSBpbXBvcnRzLiAgUmVjb21tZW5kYXRpb246IHVzZSBuYW1lZCBpbXBvcnRzIGZyb20gdGhlIG1vZHVsZSBpbmRleC4nKTtcbiAgfVxufTtcblxudmFyIHdpdGhVdGlscyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChDb21wb25lbnQkJDEpIHtcbiAgICB2YXIgV2l0aFV0aWxzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChNdWlQaWNrZXJzQ29udGV4dENvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAodXRpbHMpIHtcbiAgICAgICAgY2hlY2tVdGlscyh1dGlscyk7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KENvbXBvbmVudCQkMSwgX19hc3NpZ24oe1xuICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICB9LCBwcm9wcykpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIFdpdGhVdGlscy5kaXNwbGF5TmFtZSA9IFwiV2l0aFV0aWxzKFwiICsgKENvbXBvbmVudCQkMS5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQkJDEubmFtZSkgKyBcIilcIjtcbiAgICByZXR1cm4gV2l0aFV0aWxzO1xuICB9O1xufTtcblxudmFyIGdldEluaXRpYWxEYXRlID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IF9hLmluaXRpYWxGb2N1c2VkRGF0ZTtcbiAgdmFyIGluaXRpYWxEYXRlID0gdmFsdWUgfHwgaW5pdGlhbEZvY3VzZWREYXRlIHx8IHV0aWxzLmRhdGUoKTtcbiAgdmFyIGRhdGUgPSB1dGlscy5kYXRlKGluaXRpYWxEYXRlKTtcbiAgcmV0dXJuIHV0aWxzLmlzVmFsaWQoZGF0ZSkgPyBkYXRlIDogdXRpbHMuZGF0ZSgpO1xufTtcblxudmFyIEJhc2VQaWNrZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQmFzZVBpY2tlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBCYXNlUGlja2VyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBkYXRlOiBnZXRJbml0aWFsRGF0ZShfdGhpcy5wcm9wcyksXG4gICAgICBpc0FjY2VwdGVkOiBmYWxzZVxuICAgIH07XG5cbiAgICBfdGhpcy5jaGFuZ2VEYXRlID0gZnVuY3Rpb24gKGRhdGUsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkYXRlOiBkYXRlXG4gICAgICB9LCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjY2VwdGVkQ2hhbmdlID0gZnVuY3Rpb24gKGlzQWNjZXB0ZWQsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkXG4gICAgICB9LCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9uQ2hhbmdlKG51bGwpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVBY2NlcHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucHJvcHMub25DaGFuZ2UoX3RoaXMuc3RhdGUuZGF0ZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVNldFRvZGF5RGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVDaGFuZ2UoX3RoaXMucHJvcHMudXRpbHMuZGF0ZSgpLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVRleHRGaWVsZENoYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgICAgbWVyZ2VQcmV2aW91c0RhdGVPbkNoYW5nZSA9IF9hLm1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2U7XG5cbiAgICAgIGlmIChtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlKSB7XG4gICAgICAgIGRhdGUgPSB1dGlscy5tZXJnZURhdGVBbmRUaW1lKF90aGlzLnN0YXRlLmRhdGUsIGRhdGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICBvbkNoYW5nZShudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLmNoYW5nZURhdGUoZGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBvbkNoYW5nZShkYXRlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnBpY2sxMmhPcjI0aEZvcm1hdCA9IGZ1bmN0aW9uIChkZWZhdWx0MTJoRm9ybWF0LCBkZWZhdWx0MjRoRm9ybWF0KSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICAgICAgYW1wbSA9IF9hLmFtcG07XG5cbiAgICAgIGlmIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFtcG0gPyBkZWZhdWx0MTJoRm9ybWF0IDogZGVmYXVsdDI0aEZvcm1hdDtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKG5ld0RhdGUsIGlzRmluaXNoKSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGF1dG9PayA9IF9hLmF1dG9PayxcbiAgICAgICAgICBvbkNoYW5nZSA9IF9hLm9uQ2hhbmdlO1xuXG4gICAgICBfdGhpcy5jaGFuZ2VEYXRlKG5ld0RhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzRmluaXNoICYmIGF1dG9Paykge1xuICAgICAgICAgIG9uQ2hhbmdlKG5ld0RhdGUpOyAvLyBwYXNzIGRvd24gYWNjZXB0IHRydWUsIGFuZCBtYWtlIGl0IGZhbHNlIGluIHRoZSBuZXh0IHRpY2tcblxuICAgICAgICAgIF90aGlzLmhhbmRsZUFjY2VwdGVkQ2hhbmdlKHRydWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVBY2NlcHRlZENoYW5nZShmYWxzZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVEaXNtaXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkYXRlOiBnZXRJbml0aWFsRGF0ZShfdGhpcy5wcm9wcylcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBCYXNlUGlja2VyLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gX2EuaW5pdGlhbEZvY3VzZWREYXRlO1xuXG4gICAgaWYgKHByZXZQcm9wcy52YWx1ZSAhPT0gdmFsdWUgfHwgcHJldlByb3BzLnV0aWxzLmxvY2FsZSAhPT0gdXRpbHMubG9jYWxlIHx8IHByZXZQcm9wcy5pbml0aWFsRm9jdXNlZERhdGUgIT09IGluaXRpYWxGb2N1c2VkRGF0ZSkge1xuICAgICAgdGhpcy5jaGFuZ2VEYXRlKGdldEluaXRpYWxEYXRlKHRoaXMucHJvcHMpKTtcbiAgICB9XG4gIH07XG5cbiAgQmFzZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuKF9fYXNzaWduKHt9LCB0aGlzLnN0YXRlLCB7XG4gICAgICB1dGlsczogdGhpcy5wcm9wcy51dGlscyxcbiAgICAgIGNoYW5nZURhdGU6IHRoaXMuY2hhbmdlRGF0ZSxcbiAgICAgIGhhbmRsZUFjY2VwdGVkQ2hhbmdlOiB0aGlzLmhhbmRsZUFjY2VwdGVkQ2hhbmdlLFxuICAgICAgaGFuZGxlQ2xlYXI6IHRoaXMuaGFuZGxlQ2xlYXIsXG4gICAgICBoYW5kbGVBY2NlcHQ6IHRoaXMuaGFuZGxlQWNjZXB0LFxuICAgICAgaGFuZGxlRGlzbWlzczogdGhpcy5oYW5kbGVEaXNtaXNzLFxuICAgICAgaGFuZGxlU2V0VG9kYXlEYXRlOiB0aGlzLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZTogdGhpcy5oYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBwaWNrMTJoT3IyNGhGb3JtYXQ6IHRoaXMucGljazEyaE9yMjRoRm9ybWF0LFxuICAgICAgaGFuZGxlQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gQmFzZVBpY2tlcjtcbn0oQ29tcG9uZW50KTtcbnZhciBCYXNlUGlja2VyJDEgPSB3aXRoVXRpbHMoKShCYXNlUGlja2VyKTtcblxudmFyIGRhdGUgPSBvbmVPZlR5cGUoW29iamVjdCwgc3RyaW5nLCBudW1iZXIsIGluc3RhbmNlT2YoRGF0ZSldKTtcbnZhciBEb21haW5Qcm9wVHlwZXMgPSB7XG4gIGRhdGU6IGRhdGVcbn07XG5cbnZhciBJbnB1dCA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhJbnB1dCwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBJbnB1dCgpIHtcbiAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICBJbnB1dC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGlucHV0UmVmID0gX2EuaW5wdXRSZWYsXG4gICAgICAgIGtlZXBDaGFyUG9zaXRpb25zID0gX2Eua2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICAgIHJlc3QgPSBfX3Jlc3QoX2EsIFtcImlucHV0UmVmXCIsIFwia2VlcENoYXJQb3NpdGlvbnNcIl0pO1xuXG4gICAgcmV0dXJuIHRoaXMucHJvcHMubWFzayA/IGNyZWF0ZUVsZW1lbnQoTWFza2VkSW5wdXQsIF9fYXNzaWduKHt9LCByZXN0LCB7XG4gICAgICBrZWVwQ2hhclBvc2l0aW9uczoga2VlcENoYXJQb3NpdGlvbnMsXG4gICAgICByZWY6IGlucHV0UmVmXG4gICAgfSkpIDogY3JlYXRlRWxlbWVudChcImlucHV0XCIsIF9fYXNzaWduKHt9LCByZXN0LCB7XG4gICAgICByZWY6IGlucHV0UmVmXG4gICAgfSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IElucHV0LnByb3BUeXBlcyA9IHtcbiAgICBtYXNrOiBhbnksXG4gICAgaW5wdXRSZWY6IGZ1bmMuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuICBJbnB1dC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbWFzazogdW5kZWZpbmVkXG4gIH07XG4gIHJldHVybiBJbnB1dDtcbn0oUHVyZUNvbXBvbmVudCk7XG5cbnZhciBnZXREaXNwbGF5RGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBmb3JtYXQgPSBfYS5mb3JtYXQsXG4gICAgICBpbnZhbGlkTGFiZWwgPSBfYS5pbnZhbGlkTGFiZWwsXG4gICAgICBlbXB0eUxhYmVsID0gX2EuZW1wdHlMYWJlbCxcbiAgICAgIGxhYmVsRnVuYyA9IF9hLmxhYmVsRnVuYztcbiAgdmFyIGlzRW1wdHkgPSB2YWx1ZSA9PT0gbnVsbDtcbiAgdmFyIGRhdGUgPSB1dGlscy5kYXRlKHZhbHVlKTtcblxuICBpZiAobGFiZWxGdW5jKSB7XG4gICAgcmV0dXJuIGxhYmVsRnVuYyhpc0VtcHR5ID8gbnVsbCA6IGRhdGUsIGludmFsaWRMYWJlbCk7XG4gIH1cblxuICBpZiAoaXNFbXB0eSkge1xuICAgIHJldHVybiBlbXB0eUxhYmVsO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxzLmlzVmFsaWQoZGF0ZSkgPyB1dGlscy5mb3JtYXQoZGF0ZSwgZm9ybWF0KSA6IGludmFsaWRMYWJlbDtcbn07XG5cbnZhciBnZXRFcnJvciA9IGZ1bmN0aW9uICh2YWx1ZSwgcHJvcHMpIHtcbiAgdmFyIHV0aWxzID0gcHJvcHMudXRpbHMsXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgZGlzYWJsZVBhc3QgPSBwcm9wcy5kaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmUgPSBwcm9wcy5kaXNhYmxlRnV0dXJlLFxuICAgICAgbWF4RGF0ZU1lc3NhZ2UgPSBwcm9wcy5tYXhEYXRlTWVzc2FnZSxcbiAgICAgIG1pbkRhdGVNZXNzYWdlID0gcHJvcHMubWluRGF0ZU1lc3NhZ2UsXG4gICAgICBpbnZhbGlkRGF0ZU1lc3NhZ2UgPSBwcm9wcy5pbnZhbGlkRGF0ZU1lc3NhZ2U7XG5cbiAgaWYgKCF1dGlscy5pc1ZhbGlkKHZhbHVlKSkge1xuICAgIC8vIGlmIG51bGwgLSBkbyBub3Qgc2hvdyBlcnJvclxuICAgIGlmICh1dGlscy5pc051bGwodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGludmFsaWREYXRlTWVzc2FnZTtcbiAgfVxuXG4gIGlmIChtYXhEYXRlICYmIHV0aWxzLmlzQWZ0ZXIodmFsdWUsIHV0aWxzLmVuZE9mRGF5KHV0aWxzLmRhdGUobWF4RGF0ZSkpKSB8fCBkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXIodmFsdWUsIHV0aWxzLmVuZE9mRGF5KHV0aWxzLmRhdGUoKSkpKSB7XG4gICAgcmV0dXJuIG1heERhdGVNZXNzYWdlO1xuICB9XG5cbiAgaWYgKG1pbkRhdGUgJiYgdXRpbHMuaXNCZWZvcmUodmFsdWUsIHV0aWxzLnN0YXJ0T2ZEYXkodXRpbHMuZGF0ZShtaW5EYXRlKSkpIHx8IGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlKHZhbHVlLCB1dGlscy5zdGFydE9mRGF5KHV0aWxzLmRhdGUoKSkpKSB7XG4gICAgcmV0dXJuIG1pbkRhdGVNZXNzYWdlO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcblxudmFyIERhdGVUZXh0RmllbGQgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoRGF0ZVRleHRGaWVsZCwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXRlVGV4dEZpZWxkKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSBEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlKF90aGlzLnByb3BzKTtcblxuICAgIF90aGlzLmNvbW1pdFVwZGF0ZXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgY2xlYXJhYmxlID0gX2EuY2xlYXJhYmxlLFxuICAgICAgICAgIG9uQ2xlYXIgPSBfYS5vbkNsZWFyLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICAgIG9uRXJyb3IgPSBfYS5vbkVycm9yO1xuXG4gICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKERhdGVUZXh0RmllbGQudXBkYXRlU3RhdGUoX3RoaXMucHJvcHMpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbGVhcmFibGUgJiYgb25DbGVhcikge1xuICAgICAgICAgIG9uQ2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9sZFZhbHVlID0gdXRpbHMuZGF0ZShfdGhpcy5zdGF0ZS52YWx1ZSk7XG4gICAgICB2YXIgbmV3VmFsdWUgPSB1dGlscy5wYXJzZSh2YWx1ZSwgZm9ybWF0KTtcbiAgICAgIHZhciBlcnJvciA9IGdldEVycm9yKG5ld1ZhbHVlLCBfdGhpcy5wcm9wcyk7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICBkaXNwbGF5VmFsdWU6IHZhbHVlLFxuICAgICAgICB2YWx1ZTogZXJyb3IgPyBuZXdWYWx1ZSA6IG9sZFZhbHVlXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghZXJyb3IgJiYgIXV0aWxzLmlzRXF1YWwobmV3VmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICAgIG9uQ2hhbmdlKG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvciAmJiBvbkVycm9yKSB7XG4gICAgICAgICAgb25FcnJvcihuZXdWYWx1ZSwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMua2V5Ym9hcmQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIF90aGlzLmNvbW1pdFVwZGF0ZXMoZS50YXJnZXQudmFsdWUpO1xuXG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkJsdXIpIHtcbiAgICAgICAgICBfdGhpcy5wcm9wcy5vbkJsdXIoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICAgIG9uSW5wdXRDaGFuZ2UgPSBfYS5vbklucHV0Q2hhbmdlO1xuICAgICAgdmFyIHBhcnNlZFZhbHVlID0gdXRpbHMucGFyc2UoZS50YXJnZXQudmFsdWUsIGZvcm1hdCk7XG5cbiAgICAgIGlmIChvbklucHV0Q2hhbmdlKSB7XG4gICAgICAgIG9uSW5wdXRDaGFuZ2UoZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGlzcGxheVZhbHVlOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgZXJyb3I6IGdldEVycm9yKHBhcnNlZFZhbHVlLCBfdGhpcy5wcm9wcylcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmtleWJvYXJkKSB7XG4gICAgICAgIF90aGlzLm9wZW5QaWNrZXIoZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUtleVByZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICBpZiAoIV90aGlzLnByb3BzLmRpc2FibGVPcGVuT25FbnRlcikge1xuICAgICAgICAgIF90aGlzLm9wZW5QaWNrZXIoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZSBUT0RPIGNoZWNrIG1lXG4gICAgICAgICAgX3RoaXMuY29tbWl0VXBkYXRlcyhlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub3BlblBpY2tlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuXG4gICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgIG9uQ2xpY2soZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIERhdGVUZXh0RmllbGQucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudXRpbHMuaXNFcXVhbCh0aGlzLnByb3BzLnZhbHVlLCBwcmV2UHJvcHMudmFsdWUpIHx8IHByZXZQcm9wcy5mb3JtYXQgIT09IHRoaXMucHJvcHMuZm9ybWF0IHx8IHByZXZQcm9wcy5tYXhEYXRlICE9PSB0aGlzLnByb3BzLm1heERhdGUgfHwgcHJldlByb3BzLm1pbkRhdGUgIT09IHRoaXMucHJvcHMubWluRGF0ZSB8fCBwcmV2UHJvcHMuZW1wdHlMYWJlbCAhPT0gdGhpcy5wcm9wcy5lbXB0eUxhYmVsIHx8IHByZXZQcm9wcy51dGlscyAhPT0gdGhpcy5wcm9wcy51dGlscykge1xuICAgICAgdGhpcy5zZXRTdGF0ZShEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlKHRoaXMucHJvcHMpKTtcbiAgICB9XG4gIH07XG5cbiAgRGF0ZVRleHRGaWVsZC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFkb3JubWVudFBvc2l0aW9uID0gX2EuYWRvcm5tZW50UG9zaXRpb24sXG4gICAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIGRpc2FibGVPcGVuT25FbnRlciA9IF9hLmRpc2FibGVPcGVuT25FbnRlcixcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgZW1wdHlMYWJlbCA9IF9hLmVtcHR5TGFiZWwsXG4gICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgSW5wdXRBZG9ybm1lbnRQcm9wcyA9IF9hLklucHV0QWRvcm5tZW50UHJvcHMsXG4gICAgICAgIElucHV0UHJvcHMgPSBfYS5JbnB1dFByb3BzLFxuICAgICAgICBpbnZhbGlkRGF0ZU1lc3NhZ2UgPSBfYS5pbnZhbGlkRGF0ZU1lc3NhZ2UsXG4gICAgICAgIGludmFsaWRMYWJlbCA9IF9hLmludmFsaWRMYWJlbCxcbiAgICAgICAga2V5Ym9hcmQgPSBfYS5rZXlib2FyZCxcbiAgICAgICAga2V5Ym9hcmRJY29uID0gX2Eua2V5Ym9hcmRJY29uLFxuICAgICAgICBsYWJlbEZ1bmMgPSBfYS5sYWJlbEZ1bmMsXG4gICAgICAgIG1hc2sgPSBfYS5tYXNrLFxuICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgICAgbWF4RGF0ZU1lc3NhZ2UgPSBfYS5tYXhEYXRlTWVzc2FnZSxcbiAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgIG1pbkRhdGVNZXNzYWdlID0gX2EubWluRGF0ZU1lc3NhZ2UsXG4gICAgICAgIG9uQmx1ciA9IF9hLm9uQmx1cixcbiAgICAgICAgb25DbGVhciA9IF9hLm9uQ2xlYXIsXG4gICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLFxuICAgICAgICBwaXBlID0gX2EucGlwZSxcbiAgICAgICAga2VlcENoYXJQb3NpdGlvbnMgPSBfYS5rZWVwQ2hhclBvc2l0aW9ucyxcbiAgICAgICAgVGV4dEZpZWxkQ29tcG9uZW50ID0gX2EuVGV4dEZpZWxkQ29tcG9uZW50LFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBvbklucHV0Q2hhbmdlID0gX2Eub25JbnB1dENoYW5nZSxcbiAgICAgICAgb3RoZXIgPSBfX3Jlc3QoX2EsIFtcImFkb3JubWVudFBvc2l0aW9uXCIsIFwiY2xlYXJhYmxlXCIsIFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwiZGlzYWJsZU9wZW5PbkVudGVyXCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJlbXB0eUxhYmVsXCIsIFwiZm9ybWF0XCIsIFwiSW5wdXRBZG9ybm1lbnRQcm9wc1wiLCBcIklucHV0UHJvcHNcIiwgXCJpbnZhbGlkRGF0ZU1lc3NhZ2VcIiwgXCJpbnZhbGlkTGFiZWxcIiwgXCJrZXlib2FyZFwiLCBcImtleWJvYXJkSWNvblwiLCBcImxhYmVsRnVuY1wiLCBcIm1hc2tcIiwgXCJtYXhEYXRlXCIsIFwibWF4RGF0ZU1lc3NhZ2VcIiwgXCJtaW5EYXRlXCIsIFwibWluRGF0ZU1lc3NhZ2VcIiwgXCJvbkJsdXJcIiwgXCJvbkNsZWFyXCIsIFwib25DbGlja1wiLCBcInBpcGVcIiwgXCJrZWVwQ2hhclBvc2l0aW9uc1wiLCBcIlRleHRGaWVsZENvbXBvbmVudFwiLCBcInV0aWxzXCIsIFwidmFsdWVcIiwgXCJvbklucHV0Q2hhbmdlXCJdKTtcblxuICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGRpc3BsYXlWYWx1ZSA9IF9iLmRpc3BsYXlWYWx1ZSxcbiAgICAgICAgZXJyb3IgPSBfYi5lcnJvcjtcbiAgICB2YXIgbG9jYWxJbnB1dFByb3BzID0ge1xuICAgICAgaW5wdXRDb21wb25lbnQ6IElucHV0LFxuICAgICAgaW5wdXRQcm9wczoge1xuICAgICAgICBtYXNrOiAha2V5Ym9hcmQgPyBudWxsIDogbWFzayxcbiAgICAgICAgcGlwZTogIWtleWJvYXJkID8gbnVsbCA6IHBpcGUsXG4gICAgICAgIGtlZXBDaGFyUG9zaXRpb25zOiAha2V5Ym9hcmQgPyB1bmRlZmluZWQgOiBrZWVwQ2hhclBvc2l0aW9ucyxcbiAgICAgICAgcmVhZE9ubHk6ICFrZXlib2FyZFxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoa2V5Ym9hcmQpIHtcbiAgICAgIGxvY2FsSW5wdXRQcm9wc1thZG9ybm1lbnRQb3NpdGlvbiArIFwiQWRvcm5tZW50XCJdID0gY3JlYXRlRWxlbWVudChJbnB1dEFkb3JubWVudCwgX19hc3NpZ24oe1xuICAgICAgICBwb3NpdGlvbjogYWRvcm5tZW50UG9zaXRpb25cbiAgICAgIH0sIElucHV0QWRvcm5tZW50UHJvcHMpLCBjcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHtcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLm9wZW5QaWNrZXJcbiAgICAgIH0sIGNyZWF0ZUVsZW1lbnQoSWNvbiwgbnVsbCwgXCIgXCIsIGtleWJvYXJkSWNvbiwgXCIgXCIpKSk7XG4gICAgfVxuXG4gICAgdmFyIENvbXBvbmVudCQkMSA9IFRleHRGaWVsZENvbXBvbmVudDtcblxuICAgIHZhciBpbnB1dFByb3BzID0gX19hc3NpZ24oe30sIGxvY2FsSW5wdXRQcm9wcywgSW5wdXRQcm9wcyk7XG5cbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChDb21wb25lbnQkJDEsIF9fYXNzaWduKHtcbiAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlRm9jdXMsXG4gICAgICBlcnJvcjogISFlcnJvcixcbiAgICAgIGhlbHBlclRleHQ6IGVycm9yLFxuICAgICAgb25LZXlQcmVzczogdGhpcy5oYW5kbGVLZXlQcmVzcyxcbiAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgdmFsdWU6IGRpc3BsYXlWYWx1ZVxuICAgIH0sIG90aGVyLCB7XG4gICAgICBvbkVycm9yOiB1bmRlZmluZWQsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICBJbnB1dFByb3BzOiBpbnB1dFByb3BzXG4gICAgfSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVUZXh0RmllbGQucHJvcFR5cGVzID0ge1xuICAgIHZhbHVlOiBvbmVPZlR5cGUoW29iamVjdCwgc3RyaW5nLCBudW1iZXIsIGluc3RhbmNlT2YoRGF0ZSldKSxcbiAgICBtaW5EYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBtYXhEYXRlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGZvcm1hdDogc3RyaW5nLFxuICAgIG9uQmx1cjogZnVuYyxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uQ2xlYXI6IGZ1bmMsXG4gICAgb25DbGljazogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNsZWFyYWJsZTogYm9vbCxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZWQ6IGJvb2wsXG4gICAgSW5wdXRQcm9wczogc2hhcGUoe30pLFxuICAgIG1hc2s6IGFueSxcbiAgICBtaW5EYXRlTWVzc2FnZTogbm9kZSxcbiAgICBtYXhEYXRlTWVzc2FnZTogbm9kZSxcbiAgICBpbnZhbGlkTGFiZWw6IHN0cmluZyxcbiAgICBlbXB0eUxhYmVsOiBzdHJpbmcsXG4gICAgbGFiZWxGdW5jOiBmdW5jLFxuICAgIGtleWJvYXJkOiBib29sLFxuICAgIGtleWJvYXJkSWNvbjogbm9kZSxcbiAgICBkaXNhYmxlT3Blbk9uRW50ZXI6IGJvb2wsXG4gICAgaW52YWxpZERhdGVNZXNzYWdlOiBub2RlLFxuICAgIFRleHRGaWVsZENvbXBvbmVudDogb25lT2ZUeXBlKFtzdHJpbmcsIGZ1bmNdKSxcbiAgICBJbnB1dEFkb3JubWVudFByb3BzOiBvYmplY3QsXG4gICAgYWRvcm5tZW50UG9zaXRpb246IG9uZU9mKFsnc3RhcnQnLCAnZW5kJ10pLFxuICAgIG9uRXJyb3I6IGZ1bmMsXG4gICAgb25JbnB1dENoYW5nZTogZnVuYyxcbiAgICBwaXBlOiBmdW5jLFxuICAgIGtlZXBDaGFyUG9zaXRpb25zOiBib29sXG4gIH0gOiB2b2lkIDA7XG4gIERhdGVUZXh0RmllbGQuZGVmYXVsdFByb3BzID0ge1xuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBpbnZhbGlkTGFiZWw6ICdVbmtub3duJyxcbiAgICBlbXB0eUxhYmVsOiAnJyxcbiAgICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgICBJbnB1dFByb3BzOiB1bmRlZmluZWQsXG4gICAga2V5Ym9hcmQ6IGZhbHNlLFxuICAgIG1hc2s6IHVuZGVmaW5lZCxcbiAgICBrZXlib2FyZEljb246ICdldmVudCcsXG4gICAgZGlzYWJsZU9wZW5PbkVudGVyOiBmYWxzZSxcbiAgICBpbnZhbGlkRGF0ZU1lc3NhZ2U6ICdJbnZhbGlkIERhdGUgRm9ybWF0JyxcbiAgICBjbGVhcmFibGU6IGZhbHNlLFxuICAgIG9uQmx1cjogdW5kZWZpbmVkLFxuICAgIG9uQ2xlYXI6IHVuZGVmaW5lZCxcbiAgICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gICAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gICAgb25FcnJvcjogdW5kZWZpbmVkLFxuICAgIG9uSW5wdXRDaGFuZ2U6IHVuZGVmaW5lZCxcbiAgICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gICAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICAgIG1pbkRhdGVNZXNzYWdlOiAnRGF0ZSBzaG91bGQgbm90IGJlIGJlZm9yZSBtaW5pbWFsIGRhdGUnLFxuICAgIG1heERhdGVNZXNzYWdlOiAnRGF0ZSBzaG91bGQgbm90IGJlIGFmdGVyIG1heGltYWwgZGF0ZScsXG4gICAgVGV4dEZpZWxkQ29tcG9uZW50OiBUZXh0RmllbGQsXG4gICAgSW5wdXRBZG9ybm1lbnRQcm9wczoge30sXG4gICAgYWRvcm5tZW50UG9zaXRpb246ICdlbmQnLFxuICAgIHBpcGU6IHVuZGVmaW5lZCxcbiAgICBrZWVwQ2hhclBvc2l0aW9uczogZmFsc2VcbiAgfTtcblxuICBEYXRlVGV4dEZpZWxkLnVwZGF0ZVN0YXRlID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgICAgIGRpc3BsYXlWYWx1ZTogZ2V0RGlzcGxheURhdGUocHJvcHMpLFxuICAgICAgZXJyb3I6IGdldEVycm9yKHByb3BzLnV0aWxzLmRhdGUocHJvcHMudmFsdWUpLCBwcm9wcylcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBEYXRlVGV4dEZpZWxkO1xufShQdXJlQ29tcG9uZW50KTtcblxudmFyIERhdGVUZXh0RmllbGQkMSA9IHdpdGhVdGlscygpKERhdGVUZXh0RmllbGQpO1xuXG52YXIgTW9kYWxEaWFsb2cgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIG9uS2V5RG93biA9IF9hLm9uS2V5RG93bixcbiAgICAgIG9uQWNjZXB0ID0gX2Eub25BY2NlcHQsXG4gICAgICBvbkRpc21pc3MgPSBfYS5vbkRpc21pc3MsXG4gICAgICBvbkNsZWFyID0gX2Eub25DbGVhcixcbiAgICAgIG9uU2V0VG9kYXkgPSBfYS5vblNldFRvZGF5LFxuICAgICAgb2tMYWJlbCA9IF9hLm9rTGFiZWwsXG4gICAgICBjYW5jZWxMYWJlbCA9IF9hLmNhbmNlbExhYmVsLFxuICAgICAgY2xlYXJMYWJlbCA9IF9hLmNsZWFyTGFiZWwsXG4gICAgICB0b2RheUxhYmVsID0gX2EudG9kYXlMYWJlbCxcbiAgICAgIGNsZWFyYWJsZSA9IF9hLmNsZWFyYWJsZSxcbiAgICAgIHNob3dUb2RheUJ1dHRvbiA9IF9hLnNob3dUb2RheUJ1dHRvbixcbiAgICAgIHNob3dUYWJzID0gX2Euc2hvd1RhYnMsXG4gICAgICBvdGhlciA9IF9fcmVzdChfYSwgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc2VzXCIsIFwib25LZXlEb3duXCIsIFwib25BY2NlcHRcIiwgXCJvbkRpc21pc3NcIiwgXCJvbkNsZWFyXCIsIFwib25TZXRUb2RheVwiLCBcIm9rTGFiZWxcIiwgXCJjYW5jZWxMYWJlbFwiLCBcImNsZWFyTGFiZWxcIiwgXCJ0b2RheUxhYmVsXCIsIFwiY2xlYXJhYmxlXCIsIFwic2hvd1RvZGF5QnV0dG9uXCIsIFwic2hvd1RhYnNcIl0pO1xuXG4gIHZhciBfYiwgX2MsIF9kO1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KERpYWxvZywgX19hc3NpZ24oe1xuICAgIHJvbGU6IFwiZGlhbG9nXCIsXG4gICAgb25DbG9zZTogb25EaXNtaXNzLFxuICAgIGNsYXNzZXM6IHtcbiAgICAgIHBhcGVyOiBjbGFzc25hbWVzKGNsYXNzZXMuZGlhbG9nUm9vdCwgKF9iID0ge30sIF9iW2NsYXNzZXMuZGlhbG9nV2l0aFRhYnNdID0gc2hvd1RhYnMsIF9iKSlcbiAgICB9XG4gIH0sIG90aGVyKSwgY3JlYXRlRWxlbWVudChFdmVudExpc3RlbmVyLCB7XG4gICAgdGFyZ2V0OiBcIndpbmRvd1wiLFxuICAgIG9uS2V5RG93bjogb25LZXlEb3duXG4gIH0pLCBjcmVhdGVFbGVtZW50KERpYWxvZ0NvbnRlbnQsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMuZGlhbG9nLCAoX2MgPSB7fSwgX2NbY2xhc3Nlcy5kaWFsb2dXaXRoVGFic10gPSBzaG93VGFicywgX2MpKVxuICB9KSwgY3JlYXRlRWxlbWVudChEaWFsb2dBY3Rpb25zLCB7XG4gICAgY2xhc3Nlczoge1xuICAgICAgcm9vdDogY2xlYXJhYmxlIHx8IHNob3dUb2RheUJ1dHRvbiA/IGNsYXNzZXMuZGlhbG9nQWN0aW9ucyA6IHVuZGVmaW5lZCxcbiAgICAgIGFjdGlvbjogY2xhc3NuYW1lcyhjbGFzc2VzLmRpYWxvZ0FjdGlvbiwgKF9kID0ge30sIF9kW2NsYXNzZXMuY2xlYXJhYmxlRGlhbG9nQWN0aW9uXSA9IGNsZWFyYWJsZSwgX2RbY2xhc3Nlcy50b2RheURpYWxvZ0FjdGlvbl0gPSAhY2xlYXJhYmxlICYmIHNob3dUb2RheUJ1dHRvbiwgX2QpKVxuICAgIH1cbiAgfSwgY2xlYXJhYmxlICYmIGNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uQ2xlYXJcbiAgfSwgY2xlYXJMYWJlbCksICFjbGVhcmFibGUgJiYgc2hvd1RvZGF5QnV0dG9uICYmIGNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uU2V0VG9kYXlcbiAgfSwgdG9kYXlMYWJlbCksIGNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uRGlzbWlzc1xuICB9LCBjYW5jZWxMYWJlbCksIGNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uQWNjZXB0XG4gIH0sIG9rTGFiZWwpKSk7XG59O1xuTW9kYWxEaWFsb2cuZGlzcGxheU5hbWUgPSAnTW9kYWxEaWFsb2cnO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gTW9kYWxEaWFsb2cucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICBvbktleURvd246IGZ1bmMuaXNSZXF1aXJlZCxcbiAgb25BY2NlcHQ6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgb25EaXNtaXNzOiBmdW5jLmlzUmVxdWlyZWQsXG4gIG9uQ2xlYXI6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIG9rTGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2FuY2VsTGFiZWw6IG5vZGUuaXNSZXF1aXJlZCxcbiAgY2xlYXJMYWJlbDogbm9kZS5pc1JlcXVpcmVkLFxuICBjbGVhcmFibGU6IGJvb2wuaXNSZXF1aXJlZCxcbiAgdG9kYXlMYWJlbDogbm9kZS5pc1JlcXVpcmVkLFxuICBzaG93VG9kYXlCdXR0b246IGJvb2wuaXNSZXF1aXJlZCxcbiAgb25TZXRUb2RheTogZnVuYy5pc1JlcXVpcmVkXG59IDogdm9pZCAwO1xudmFyIGRpYWxvZ1dpZHRoID0gMzEwO1xudmFyIGRpYWxvZ0hlaWdodCA9IDQwNTtcbnZhciBkaWFsb2dIZWlnaHRXaXRoVGFicyA9IDQ1NTtcbnZhciBzdHlsZXMgPSBjcmVhdGVTdHlsZXMoe1xuICBkaWFsb2dSb290OiB7XG4gICAgbWluV2lkdGg6IGRpYWxvZ1dpZHRoLFxuICAgIG1pbkhlaWdodDogZGlhbG9nSGVpZ2h0XG4gIH0sXG4gIGRpYWxvZzoge1xuICAgIHdpZHRoOiBkaWFsb2dXaWR0aCxcbiAgICBtaW5IZWlnaHQ6IGRpYWxvZ0hlaWdodCxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgJyY6Zmlyc3QtY2hpbGQnOiB7XG4gICAgICBwYWRkaW5nOiAwXG4gICAgfVxuICB9LFxuICBkaWFsb2dXaXRoVGFiczoge1xuICAgIG1pbkhlaWdodDogZGlhbG9nSGVpZ2h0V2l0aFRhYnNcbiAgfSxcbiAgZGlhbG9nQWN0aW9uczoge1xuICAgIC8vIHNldCBqdXN0aWZ5Q29udGVudCB0byBkZWZhdWx0IHZhbHVlIHRvIGZpeCBJRTExIGxheW91dCBidWdcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2RtdHJLb3ZhbGVua28vbWF0ZXJpYWwtdWktcGlja2Vycy9wdWxsLzI2N1xuICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCdcbiAgfSxcbiAgY2xlYXJhYmxlRGlhbG9nQWN0aW9uOiB7XG4gICAgJyY6Zmlyc3QtY2hpbGQnOiB7XG4gICAgICBtYXJnaW5SaWdodDogJ2F1dG8nXG4gICAgfVxuICB9LFxuICB0b2RheURpYWxvZ0FjdGlvbjoge1xuICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgbWFyZ2luUmlnaHQ6ICdhdXRvJ1xuICAgIH1cbiAgfSxcbiAgZGlhbG9nQWN0aW9uOiB7Ly8gZW1wdHkgYnV0IG1heSBiZSBuZWVkZWQgZm9yIG92ZXJyaWRlXG4gIH1cbn0pO1xudmFyIE1vZGFsRGlhbG9nJDEgPSB3aXRoU3R5bGVzKHN0eWxlcywge1xuICBuYW1lOiAnTXVpUGlja2Vyc01vZGFsJ1xufSkoTW9kYWxEaWFsb2cpO1xuXG52YXIgTW9kYWxXcmFwcGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKE1vZGFsV3JhcHBlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBNb2RhbFdyYXBwZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW46IGZhbHNlXG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoa2V5Y29kZShldmVudCkpIHtcbiAgICAgICAgY2FzZSAnZW50ZXInOlxuICAgICAgICAgIF90aGlzLmhhbmRsZUFjY2VwdCgpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBrZXljb2RlIGlzIG5vdCBoYW5kbGVkLCBzdG9wIGV4ZWN1dGlvblxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gaWYgZXZlbnQgd2FzIGhhbmRsZWQgcHJldmVudCBvdGhlciBzaWRlIGVmZmVjdHNcblxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZXRUb2RheURhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25TZXRUb2RheSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblNldFRvZGF5KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW46IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25PcGVuKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uT3BlbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUFjY2VwdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsb3NlKCk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkFjY2VwdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkFjY2VwdCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVEaXNtaXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRGlzbWlzcykge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkRpc21pc3MoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbG9zZSgpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DbGVhcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE1vZGFsV3JhcHBlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgLy8gb25seSBpZiBhY2NlcHQgPSB0cnVlIGNsb3NlIHRoZSBkaWFsb2dcbiAgICBpZiAobmV4dFByb3BzLmlzQWNjZXB0ZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9wZW46IGZhbHNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIE1vZGFsV3JhcHBlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgIGZvcm1hdCA9IF9hLmZvcm1hdCxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgb25BY2NlcHQgPSBfYS5vbkFjY2VwdCxcbiAgICAgICAgb25EaXNtaXNzID0gX2Eub25EaXNtaXNzLFxuICAgICAgICBpbnZhbGlkTGFiZWwgPSBfYS5pbnZhbGlkTGFiZWwsXG4gICAgICAgIGxhYmVsRnVuYyA9IF9hLmxhYmVsRnVuYyxcbiAgICAgICAgb2tMYWJlbCA9IF9hLm9rTGFiZWwsXG4gICAgICAgIGNhbmNlbExhYmVsID0gX2EuY2FuY2VsTGFiZWwsXG4gICAgICAgIGNsZWFyTGFiZWwgPSBfYS5jbGVhckxhYmVsLFxuICAgICAgICBjbGVhcmFibGUgPSBfYS5jbGVhcmFibGUsXG4gICAgICAgIHRvZGF5TGFiZWwgPSBfYS50b2RheUxhYmVsLFxuICAgICAgICBzaG93VG9kYXlCdXR0b24gPSBfYS5zaG93VG9kYXlCdXR0b24sXG4gICAgICAgIG9uT3BlbiA9IF9hLm9uT3BlbixcbiAgICAgICAgb25DbG9zZSA9IF9hLm9uQ2xvc2UsXG4gICAgICAgIG9uU2V0VG9kYXkgPSBfYS5vblNldFRvZGF5LFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgRGlhbG9nUHJvcHMgPSBfYS5EaWFsb2dQcm9wcyxcbiAgICAgICAgc2hvd1RhYnMgPSBfYS5zaG93VGFicyxcbiAgICAgICAgb3RoZXIgPSBfX3Jlc3QoX2EsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiY2hpbGRyZW5cIiwgXCJvbkFjY2VwdFwiLCBcIm9uRGlzbWlzc1wiLCBcImludmFsaWRMYWJlbFwiLCBcImxhYmVsRnVuY1wiLCBcIm9rTGFiZWxcIiwgXCJjYW5jZWxMYWJlbFwiLCBcImNsZWFyTGFiZWxcIiwgXCJjbGVhcmFibGVcIiwgXCJ0b2RheUxhYmVsXCIsIFwic2hvd1RvZGF5QnV0dG9uXCIsIFwib25PcGVuXCIsIFwib25DbG9zZVwiLCBcIm9uU2V0VG9kYXlcIiwgXCJpc0FjY2VwdGVkXCIsIFwiRGlhbG9nUHJvcHNcIiwgXCJzaG93VGFic1wiXSk7XG5cbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgY3JlYXRlRWxlbWVudChEYXRlVGV4dEZpZWxkJDEsIF9fYXNzaWduKHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgb25DbGljazogdGhpcy5vcGVuLFxuICAgICAgLy8gb25Gb2N1cz17dGhpcy50b2dnbGVQaWNrZXJ9IDwtIEN1cnJlbnRseSBub3QgcHJvcGVybHkgd29ya3Mgd2l0aCAuYmx1cigpIG9uIFRleHRGaWVsZFxuICAgICAgaW52YWxpZExhYmVsOiBpbnZhbGlkTGFiZWwsXG4gICAgICBsYWJlbEZ1bmM6IGxhYmVsRnVuYyxcbiAgICAgIGNsZWFyYWJsZTogY2xlYXJhYmxlXG4gICAgfSwgb3RoZXIpKSwgY3JlYXRlRWxlbWVudChNb2RhbERpYWxvZyQxLCBfX2Fzc2lnbih7XG4gICAgICBzaG93VGFiczogc2hvd1RhYnMsXG4gICAgICBvcGVuOiB0aGlzLnN0YXRlLm9wZW4sXG4gICAgICBvbktleURvd246IHRoaXMuaGFuZGxlS2V5RG93bixcbiAgICAgIG9uQ2xlYXI6IHRoaXMuaGFuZGxlQ2xlYXIsXG4gICAgICBvbkFjY2VwdDogdGhpcy5oYW5kbGVBY2NlcHQsXG4gICAgICBvbkRpc21pc3M6IHRoaXMuaGFuZGxlRGlzbWlzcyxcbiAgICAgIG9uU2V0VG9kYXk6IHRoaXMuaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgY2xlYXJMYWJlbDogY2xlYXJMYWJlbCxcbiAgICAgIHRvZGF5TGFiZWw6IHRvZGF5TGFiZWwsXG4gICAgICBva0xhYmVsOiBva0xhYmVsLFxuICAgICAgY2FuY2VsTGFiZWw6IGNhbmNlbExhYmVsLFxuICAgICAgY2xlYXJhYmxlOiBjbGVhcmFibGUsXG4gICAgICBzaG93VG9kYXlCdXR0b246IHNob3dUb2RheUJ1dHRvbixcbiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgIH0sIERpYWxvZ1Byb3BzKSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IE1vZGFsV3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgb2tMYWJlbDogbm9kZSxcbiAgICBjYW5jZWxMYWJlbDogbm9kZSxcbiAgICBjbGVhckxhYmVsOiBub2RlLFxuICAgIGNsZWFyYWJsZTogYm9vbCxcbiAgICB0b2RheUxhYmVsOiBzdHJpbmcsXG4gICAgc2hvd1RvZGF5QnV0dG9uOiBib29sLFxuICAgIG9uT3BlbjogZnVuYyxcbiAgICBmb3JtYXQ6IHN0cmluZyxcbiAgICBEaWFsb2dQcm9wczogb2JqZWN0LFxuICAgIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgICBpbnZhbGlkTGFiZWw6IG5vZGUsXG4gICAgbGFiZWxGdW5jOiBmdW5jLFxuICAgIG9uQ2xvc2U6IGZ1bmMsXG4gICAgb25BY2NlcHQ6IGZ1bmMsXG4gICAgb25EaXNtaXNzOiBmdW5jLFxuICAgIG9uQ2xlYXI6IGZ1bmMsXG4gICAgb25TZXRUb2RheTogZnVuYyxcbiAgICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICAgIGlzQWNjZXB0ZWQ6IGJvb2wuaXNSZXF1aXJlZFxuICB9IDogdm9pZCAwO1xuICBNb2RhbFdyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGludmFsaWRMYWJlbDogdW5kZWZpbmVkLFxuICAgIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICAgIGxhYmVsRnVuYzogdW5kZWZpbmVkLFxuICAgIG9rTGFiZWw6ICdPSycsXG4gICAgY2FuY2VsTGFiZWw6ICdDYW5jZWwnLFxuICAgIGNsZWFyTGFiZWw6ICdDbGVhcicsXG4gICAgdG9kYXlMYWJlbDogJ1RvZGF5JyxcbiAgICBjbGVhcmFibGU6IGZhbHNlLFxuICAgIHNob3dUb2RheUJ1dHRvbjogZmFsc2UsXG4gICAgZm9ybWF0OiB1bmRlZmluZWQsXG4gICAgb25BY2NlcHQ6IHVuZGVmaW5lZCxcbiAgICBvbkRpc21pc3M6IHVuZGVmaW5lZCxcbiAgICBvbkNsZWFyOiB1bmRlZmluZWQsXG4gICAgb25PcGVuOiB1bmRlZmluZWQsXG4gICAgb25DbG9zZTogdW5kZWZpbmVkLFxuICAgIG9uU2V0VG9kYXk6IHVuZGVmaW5lZCxcbiAgICBEaWFsb2dQcm9wczogdW5kZWZpbmVkLFxuICAgIGlzQWNjZXB0ZWQ6IGZhbHNlXG4gIH07XG4gIHJldHVybiBNb2RhbFdyYXBwZXI7XG59KFB1cmVDb21wb25lbnQpO1xuXG52YXIgUGlja2VyVG9vbGJhciA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiY2xhc3Nlc1wiXSk7XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoVG9vbGJhciwgX19hc3NpZ24oe1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnRvb2xiYXIsIGNsYXNzTmFtZSlcbiAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG59O1xuXG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBQaWNrZXJUb29sYmFyLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IGFycmF5T2Yobm9kZSkuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIGNsYXNzZXM6IGFueS5pc1JlcXVpcmVkLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuUGlja2VyVG9vbGJhci5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJydcbn07XG52YXIgc3R5bGVzJDEgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICB0b29sYmFyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGhlaWdodDogMTAwLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiA6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZFtcImRlZmF1bHRcIl1cbiAgICB9XG4gIH0pO1xufTtcbnZhciBQaWNrZXJUb29sYmFyJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJDEsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNUb29sYmFyJ1xufSkoUGlja2VyVG9vbGJhcik7XG5cbnZhciBUb29sYmFyQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIHNlbGVjdGVkID0gX2Euc2VsZWN0ZWQsXG4gICAgICBsYWJlbCA9IF9hLmxhYmVsLFxuICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QoX2EsIFtcImNsYXNzZXNcIiwgXCJzZWxlY3RlZFwiLCBcImxhYmVsXCIsIFwiY2xhc3NOYW1lXCJdKTtcblxuICB2YXIgX2I7XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgX19hc3NpZ24oe1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnRvb2xiYXJCdG4sIGNsYXNzTmFtZSwgKF9iID0ge30sIF9iW2NsYXNzZXMudG9vbGJhckJ0blNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYikpXG4gIH0sIG90aGVyKSwgbGFiZWwpO1xufTtcblxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVG9vbGJhckJ1dHRvbi5wcm9wVHlwZXMgPSB7XG4gIHNlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gIGxhYmVsOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgY2xhc3NlczogYW55LmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuVG9vbGJhckJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJydcbn07XG52YXIgc3R5bGVzJDIgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0b29sYmFyQnRuOiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjU0KSdcbiAgICB9LFxuICAgIHRvb2xiYXJCdG5TZWxlY3RlZDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlXG4gICAgfVxuICB9O1xufTtcbnZhciBUb29sYmFyQnV0dG9uJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJDIsIHtcbiAgbmFtZTogJ011aVBpY2tlcnNUb29sYmFyQnV0dG9uJ1xufSkoVG9vbGJhckJ1dHRvbik7XG5cbnZhciBmaW5kQ2xvc2VzdEVuYWJsZWREYXRlID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICBtaW5EYXRlID0gX2EubWluRGF0ZSxcbiAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlLFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdCA9IF9hLmRpc2FibGVQYXN0LFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBfYS5zaG91bGREaXNhYmxlRGF0ZTtcbiAgdmFyIHRvZGF5ID0gdXRpbHMuc3RhcnRPZkRheSh1dGlscy5kYXRlKCkpO1xuICBtaW5EYXRlID0gbWluRGF0ZSAmJiB1dGlscy5kYXRlKG1pbkRhdGUpO1xuICBtYXhEYXRlID0gbWF4RGF0ZSAmJiB1dGlscy5kYXRlKG1heERhdGUpO1xuXG4gIGlmIChkaXNhYmxlUGFzdCAmJiB1dGlscy5pc0JlZm9yZShtaW5EYXRlLCB0b2RheSkpIHtcbiAgICBtaW5EYXRlID0gdG9kYXk7XG4gIH1cblxuICBpZiAoZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyKG1heERhdGUsIHRvZGF5KSkge1xuICAgIG1heERhdGUgPSB0b2RheTtcbiAgfVxuXG4gIHZhciBmb3J3YXJkID0gdXRpbHMuZGF0ZShkYXRlKTtcbiAgdmFyIGJhY2t3YXJkID0gdXRpbHMuZGF0ZShkYXRlKTtcblxuICBpZiAodXRpbHMuaXNCZWZvcmUoZGF0ZSwgbWluRGF0ZSkpIHtcbiAgICBmb3J3YXJkID0gbWluRGF0ZTtcbiAgICBiYWNrd2FyZCA9IG51bGw7XG4gIH1cblxuICBpZiAodXRpbHMuaXNBZnRlcihkYXRlLCBtYXhEYXRlKSkge1xuICAgIGlmIChiYWNrd2FyZCkge1xuICAgICAgYmFja3dhcmQgPSBtYXhEYXRlO1xuICAgIH1cblxuICAgIGZvcndhcmQgPSBudWxsO1xuICB9XG5cbiAgd2hpbGUgKGZvcndhcmQgfHwgYmFja3dhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCAmJiB1dGlscy5pc0FmdGVyKGZvcndhcmQsIG1heERhdGUpKSB7XG4gICAgICBmb3J3YXJkID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoYmFja3dhcmQgJiYgdXRpbHMuaXNCZWZvcmUoYmFja3dhcmQsIG1pbkRhdGUpKSB7XG4gICAgICBiYWNrd2FyZCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGZvcndhcmQpIHtcbiAgICAgIGlmICghc2hvdWxkRGlzYWJsZURhdGUoZm9yd2FyZCkpIHtcbiAgICAgICAgcmV0dXJuIGZvcndhcmQ7XG4gICAgICB9XG5cbiAgICAgIGZvcndhcmQgPSB1dGlscy5hZGREYXlzKGZvcndhcmQsIDEpO1xuICAgIH1cblxuICAgIGlmIChiYWNrd2FyZCkge1xuICAgICAgaWYgKCFzaG91bGREaXNhYmxlRGF0ZShiYWNrd2FyZCkpIHtcbiAgICAgICAgcmV0dXJuIGJhY2t3YXJkO1xuICAgICAgfVxuXG4gICAgICBiYWNrd2FyZCA9IHV0aWxzLmFkZERheXMoYmFja3dhcmQsIC0xKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciBhbmltYXRpb25EdXJhdGlvbiA9IDM1MDtcblxudmFyIFNsaWRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgY2xhc3NlcyA9IF9hLmNsYXNzZXMsXG4gICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgdHJhbnNLZXkgPSBfYS50cmFuc0tleSxcbiAgICAgIHNsaWRlRGlyZWN0aW9uID0gX2Euc2xpZGVEaXJlY3Rpb247XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFRyYW5zaXRpb25Hcm91cCwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnRyYW5zaXRpb25Db250YWluZXIsIGNsYXNzTmFtZSlcbiAgfSwgY3JlYXRlRWxlbWVudChDU1NUcmFuc2l0aW9uLCB7XG4gICAga2V5OiB0cmFuc0tleSxcbiAgICBtb3VudE9uRW50ZXI6IHRydWUsXG4gICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICB0aW1lb3V0OiBhbmltYXRpb25EdXJhdGlvbixcbiAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lczoge1xuICAgICAgZW50ZXI6IGNsYXNzZXNbXCJzbGlkZUVudGVyLVwiICsgc2xpZGVEaXJlY3Rpb25dLFxuICAgICAgZW50ZXJBY3RpdmU6IGNsYXNzZXMuc2xpZGVFbnRlckFjdGl2ZSxcbiAgICAgIGV4aXQ6IGNsYXNzZXMuc2xpZGVFeGl0LFxuICAgICAgZXhpdEFjdGl2ZTogY2xhc3Nlc1tcInNsaWRlRXhpdEFjdGl2ZUxlZnQtXCIgKyBzbGlkZURpcmVjdGlvbl1cbiAgICB9XG4gIH0pKTtcbn07XG5cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFNsaWRlVHJhbnNpdGlvbi5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzZXM6IHNoYXBlKHt9KS5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgc2xpZGVEaXJlY3Rpb246IG9uZU9mKFsnbGVmdCcsICdyaWdodCddKS5pc1JlcXVpcmVkLFxuICB0cmFuc0tleTogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGlubmVyUmVmOiBhbnlcbn0gOiB2b2lkIDA7XG5TbGlkZVRyYW5zaXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6IHVuZGVmaW5lZFxufTtcbnZhciBzdHlsZXMkMyA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICB2YXIgc2xpZGVUcmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCd0cmFuc2Zvcm0nLCB7XG4gICAgZHVyYXRpb246IGFuaW1hdGlvbkR1cmF0aW9uLFxuICAgIGVhc2luZzogJ2N1YmljLWJlemllcigwLjM1LCAwLjgsIDAuNCwgMSknXG4gIH0pO1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIHRyYW5zaXRpb25Db250YWluZXI6IHtcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICcmID4gKic6IHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIGxlZnQ6IDBcbiAgICAgIH1cbiAgICB9LFxuICAgICdzbGlkZUVudGVyLWxlZnQnOiB7XG4gICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgxMDAlKSdcbiAgICB9LFxuICAgICdzbGlkZUVudGVyLXJpZ2h0Jzoge1xuICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTEwMCUpJ1xuICAgIH0sXG4gICAgc2xpZGVFbnRlckFjdGl2ZToge1xuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAlKScsXG4gICAgICB0cmFuc2l0aW9uOiBzbGlkZVRyYW5zaXRpb25cbiAgICB9LFxuICAgIHNsaWRlRXhpdDoge1xuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAlKSdcbiAgICB9LFxuICAgICdzbGlkZUV4aXRBY3RpdmVMZWZ0LWxlZnQnOiB7XG4gICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtMjAwJSknLFxuICAgICAgdHJhbnNpdGlvbjogc2xpZGVUcmFuc2l0aW9uXG4gICAgfSxcbiAgICAnc2xpZGVFeGl0QWN0aXZlTGVmdC1yaWdodCc6IHtcbiAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDIwMCUpJyxcbiAgICAgIHRyYW5zaXRpb246IHNsaWRlVHJhbnNpdGlvblxuICAgIH1cbiAgfSk7XG59O1xudmFyIFNsaWRlVHJhbnNpdGlvbiQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQzLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzU2xpZGVUcmFuc2l0aW9uJ1xufSkoU2xpZGVUcmFuc2l0aW9uKTtcblxudmFyIENhbGVuZGFySGVhZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgIHRoZW1lID0gX2EudGhlbWUsXG4gICAgICBjdXJyZW50TW9udGggPSBfYS5jdXJyZW50TW9udGgsXG4gICAgICBvbk1vbnRoQ2hhbmdlID0gX2Eub25Nb250aENoYW5nZSxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBfYS5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBfYS5yaWdodEFycm93SWNvbixcbiAgICAgIGRpc2FibGVQcmV2TW9udGggPSBfYS5kaXNhYmxlUHJldk1vbnRoLFxuICAgICAgZGlzYWJsZU5leHRNb250aCA9IF9hLmRpc2FibGVOZXh0TW9udGgsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgc2xpZGVEaXJlY3Rpb24gPSBfYS5zbGlkZURpcmVjdGlvbjtcbiAgdmFyIHJ0bCA9IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG5cbiAgdmFyIHNlbGVjdE5leHRNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gb25Nb250aENoYW5nZSh1dGlscy5nZXROZXh0TW9udGgoY3VycmVudE1vbnRoKSwgJ2xlZnQnKTtcbiAgfTtcblxuICB2YXIgc2VsZWN0UHJldmlvdXNNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gb25Nb250aENoYW5nZSh1dGlscy5nZXRQcmV2aW91c01vbnRoKGN1cnJlbnRNb250aCksICdyaWdodCcpO1xuICB9O1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zd2l0Y2hIZWFkZXJcbiAgfSwgY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7XG4gICAgZGlzYWJsZWQ6IGRpc2FibGVQcmV2TW9udGgsXG4gICAgb25DbGljazogc2VsZWN0UHJldmlvdXNNb250aCxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbkJ1dHRvblxuICB9LCBjcmVhdGVFbGVtZW50KEljb24sIG51bGwsIHJ0bCA/IHJpZ2h0QXJyb3dJY29uIDogbGVmdEFycm93SWNvbikpLCBjcmVhdGVFbGVtZW50KFNsaWRlVHJhbnNpdGlvbiQxLCB7XG4gICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uLFxuICAgIHRyYW5zS2V5OiBjdXJyZW50TW9udGgudG9TdHJpbmcoKSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudHJhbnNpdGlvbkNvbnRhaW5lclxuICB9LCBjcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHtcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICB2YXJpYW50OiBcImJvZHkxXCJcbiAgfSwgdXRpbHMuZ2V0Q2FsZW5kYXJIZWFkZXJUZXh0KGN1cnJlbnRNb250aCkpKSwgY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7XG4gICAgZGlzYWJsZWQ6IGRpc2FibGVOZXh0TW9udGgsXG4gICAgb25DbGljazogc2VsZWN0TmV4dE1vbnRoLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uQnV0dG9uXG4gIH0sIGNyZWF0ZUVsZW1lbnQoSWNvbiwgbnVsbCwgcnRsID8gbGVmdEFycm93SWNvbiA6IHJpZ2h0QXJyb3dJY29uKSkpLCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuZGF5c0hlYWRlclxuICB9LCB1dGlscy5nZXRXZWVrZGF5cygpLm1hcChmdW5jdGlvbiAoZGF5LCBpbmRleCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHtcbiAgICAgIGtleTogaW5kZXgsXG4gICAgICB2YXJpYW50OiBcImNhcHRpb25cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kYXlMYWJlbFxuICAgIH0sIGRheSk7XG4gIH0pKSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQ2FsZW5kYXJIZWFkZXIucHJvcFR5cGVzID0ge1xuICBjdXJyZW50TW9udGg6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBvbk1vbnRoQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICBkaXNhYmxlUHJldk1vbnRoOiBib29sLFxuICBkaXNhYmxlTmV4dE1vbnRoOiBib29sLFxuICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIHNsaWRlRGlyZWN0aW9uOiBvbmVPZihbJ3JpZ2h0JywgJ2xlZnQnXSkuaXNSZXF1aXJlZCxcbiAgaW5uZXJSZWY6IGFueVxufSA6IHZvaWQgMDtcbkNhbGVuZGFySGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgbGVmdEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X2xlZnQnLFxuICByaWdodEFycm93SWNvbjogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgZGlzYWJsZVByZXZNb250aDogZmFsc2UsXG4gIGRpc2FibGVOZXh0TW9udGg6IGZhbHNlXG59O1xudmFyIHN0eWxlcyQ0ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgc3dpdGNoSGVhZGVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcudW5pdCAvIDIsXG4gICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcudW5pdFxuICAgIH0sXG4gICAgdHJhbnNpdGlvbkNvbnRhaW5lcjoge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogMjBcbiAgICB9LFxuICAgIGljb25CdXR0b246IHtcbiAgICAgIHpJbmRleDogMixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLnBhcGVyLFxuICAgICAgJyYgPiAqJzoge1xuICAgICAgICAvLyBsYWJlbFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcixcbiAgICAgICAgJyYgPiAqJzoge1xuICAgICAgICAgIC8vIGljb25cbiAgICAgICAgICB6SW5kZXg6IDEsXG4gICAgICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkYXlzSGVhZGVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIG1heEhlaWdodDogMTZcbiAgICB9LFxuICAgIGRheUxhYmVsOiB7XG4gICAgICB3aWR0aDogMzYsXG4gICAgICBtYXJnaW46ICcwIDJweCcsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2FsZW5kYXJIZWFkZXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkNCwge1xuICB3aXRoVGhlbWU6IHRydWUsXG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXInXG59KSh3aXRoVXRpbHMoKShDYWxlbmRhckhlYWRlcikpO1xuXG52YXIgRGF5ID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKERheSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXkoKSB7XG4gICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgRGF5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfYi5jaGlsZHJlbixcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIGRpc2FibGVkID0gX2IuZGlzYWJsZWQsXG4gICAgICAgIGhpZGRlbiA9IF9iLmhpZGRlbixcbiAgICAgICAgY3VycmVudCA9IF9iLmN1cnJlbnQsXG4gICAgICAgIHNlbGVjdGVkID0gX2Iuc2VsZWN0ZWQsXG4gICAgICAgIG90aGVyID0gX19yZXN0KF9iLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzZXNcIiwgXCJkaXNhYmxlZFwiLCBcImhpZGRlblwiLCBcImN1cnJlbnRcIiwgXCJzZWxlY3RlZFwiXSk7XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NuYW1lcyhjbGFzc2VzLmRheSwgKF9hID0ge30sIF9hW2NsYXNzZXMuaGlkZGVuXSA9IGhpZGRlbiwgX2FbY2xhc3Nlcy5jdXJyZW50XSA9IGN1cnJlbnQsIF9hW2NsYXNzZXMuc2VsZWN0ZWRdID0gc2VsZWN0ZWQsIF9hW2NsYXNzZXMuZGlzYWJsZWRdID0gZGlzYWJsZWQsIF9hKSk7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwgX19hc3NpZ24oe1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICB0YWJJbmRleDogaGlkZGVuIHx8IGRpc2FibGVkID8gLTEgOiAwXG4gICAgfSwgb3RoZXIpLCBjaGlsZHJlbik7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF5LnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGN1cnJlbnQ6IGJvb2wsXG4gICAgZGlzYWJsZWQ6IGJvb2wsXG4gICAgaGlkZGVuOiBib29sLFxuICAgIHNlbGVjdGVkOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgRGF5LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgaGlkZGVuOiBmYWxzZSxcbiAgICBjdXJyZW50OiBmYWxzZSxcbiAgICBzZWxlY3RlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIERheTtcbn0oUHVyZUNvbXBvbmVudCk7XG5cbnZhciBzdHlsZXMkNSA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIGRheToge1xuICAgICAgd2lkdGg6IDM2LFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5LmNhcHRpb24uZm9udFNpemUsXG4gICAgICBtYXJnaW46ICcwIDJweCcsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnksXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW0sXG4gICAgICBwYWRkaW5nOiAwXG4gICAgfSxcbiAgICBoaWRkZW46IHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICB9LFxuICAgIGN1cnJlbnQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGZvbnRXZWlnaHQ6IDYwMFxuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW0sXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxuICAgICAgfVxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuaGludFxuICAgIH1cbiAgfSk7XG59O1xudmFyIERheSQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQ1LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzRGF5J1xufSkoRGF5KTtcblxudmFyIERheVdyYXBwZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoRGF5V3JhcHBlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXlXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vblNlbGVjdChfdGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIERheVdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICB2YWx1ZSA9IF9hLnZhbHVlLFxuICAgICAgICBkYXlJbkN1cnJlbnRNb250aCA9IF9hLmRheUluQ3VycmVudE1vbnRoLFxuICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICBvblNlbGVjdCA9IF9hLm9uU2VsZWN0LFxuICAgICAgICBvdGhlciA9IF9fcmVzdChfYSwgW1wiY2hpbGRyZW5cIiwgXCJ2YWx1ZVwiLCBcImRheUluQ3VycmVudE1vbnRoXCIsIFwiZGlzYWJsZWRcIiwgXCJvblNlbGVjdFwiXSk7XG5cbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7XG4gICAgICBvbkNsaWNrOiBkYXlJbkN1cnJlbnRNb250aCAmJiAhZGlzYWJsZWQgPyB0aGlzLmhhbmRsZUNsaWNrIDogdW5kZWZpbmVkLFxuICAgICAgb25LZXlQcmVzczogZGF5SW5DdXJyZW50TW9udGggJiYgIWRpc2FibGVkID8gdGhpcy5oYW5kbGVDbGljayA6IHVuZGVmaW5lZCxcbiAgICAgIHJvbGU6IFwicHJlc2VudGF0aW9uXCJcbiAgICB9LCBvdGhlciksIGNoaWxkcmVuKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXlXcmFwcGVyLnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICAgIGRheUluQ3VycmVudE1vbnRoOiBib29sLFxuICAgIGRpc2FibGVkOiBib29sLFxuICAgIG9uU2VsZWN0OiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgdmFsdWU6IGFueS5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG4gIERheVdyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGRheUluQ3VycmVudE1vbnRoOiB0cnVlLFxuICAgIGRpc2FibGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gRGF5V3JhcHBlcjtcbn0oUHVyZUNvbXBvbmVudCk7XG5cbnZhciBDYWxlbmRhciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhDYWxlbmRhciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDYWxlbmRhcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc2xpZGVEaXJlY3Rpb246ICdsZWZ0JyxcbiAgICAgIGN1cnJlbnRNb250aDogX3RoaXMucHJvcHMudXRpbHMuZ2V0U3RhcnRPZk1vbnRoKF90aGlzLnByb3BzLmRhdGUpXG4gICAgfTtcblxuICAgIF90aGlzLm9uRGF0ZVNlbGVjdCA9IGZ1bmN0aW9uIChkYXksIGlzRmluaXNoKSB7XG4gICAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBpc0ZpbmlzaCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHV0aWxzLm1lcmdlRGF0ZUFuZFRpbWUoZGF5LCBkYXRlKSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2VNb250aCA9IGZ1bmN0aW9uIChuZXdNb250aCwgc2xpZGVEaXJlY3Rpb24pIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY3VycmVudE1vbnRoOiBuZXdNb250aCxcbiAgICAgICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMudmFsaWRhdGVNaW5NYXhEYXRlID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGUsXG4gICAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHJldHVybiBtaW5EYXRlICYmIHV0aWxzLmlzQmVmb3JlRGF5KGRheSwgdXRpbHMuZGF0ZShtaW5EYXRlKSkgfHwgbWF4RGF0ZSAmJiB1dGlscy5pc0FmdGVyRGF5KGRheSwgdXRpbHMuZGF0ZShtYXhEYXRlKSk7XG4gICAgfTtcblxuICAgIF90aGlzLnNob3VsZERpc2FibGVQcmV2TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGRpc2FibGVQYXN0ID0gX2EuZGlzYWJsZVBhc3QsXG4gICAgICAgICAgbWluRGF0ZSA9IF9hLm1pbkRhdGU7XG4gICAgICB2YXIgbm93ID0gdXRpbHMuZGF0ZSgpO1xuICAgICAgcmV0dXJuICF1dGlscy5pc0JlZm9yZSh1dGlscy5nZXRTdGFydE9mTW9udGgoZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNBZnRlcihub3csIG1pbkRhdGUpID8gbm93IDogdXRpbHMuZGF0ZShtaW5EYXRlKSksIF90aGlzLnN0YXRlLmN1cnJlbnRNb250aCk7XG4gICAgfTtcblxuICAgIF90aGlzLnNob3VsZERpc2FibGVOZXh0TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYS5kaXNhYmxlRnV0dXJlLFxuICAgICAgICAgIG1heERhdGUgPSBfYS5tYXhEYXRlO1xuICAgICAgdmFyIG5vdyA9IHV0aWxzLmRhdGUoKTtcbiAgICAgIHJldHVybiAhdXRpbHMuaXNBZnRlcih1dGlscy5nZXRTdGFydE9mTW9udGgoZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0JlZm9yZShub3csIG1heERhdGUpID8gbm93IDogdXRpbHMuZGF0ZShtYXhEYXRlKSksIF90aGlzLnN0YXRlLmN1cnJlbnRNb250aCk7XG4gICAgfTtcblxuICAgIF90aGlzLnNob3VsZERpc2FibGVEYXRlID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgICBkaXNhYmxlRnV0dXJlID0gX2EuZGlzYWJsZUZ1dHVyZSxcbiAgICAgICAgICBzaG91bGREaXNhYmxlRGF0ZSA9IF9hLnNob3VsZERpc2FibGVEYXRlLFxuICAgICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgICByZXR1cm4gQm9vbGVhbihkaXNhYmxlRnV0dXJlICYmIHV0aWxzLmlzQWZ0ZXJEYXkoZGF5LCB1dGlscy5kYXRlKCkpIHx8IGRpc2FibGVQYXN0ICYmIHV0aWxzLmlzQmVmb3JlRGF5KGRheSwgdXRpbHMuZGF0ZSgpKSB8fCBfdGhpcy52YWxpZGF0ZU1pbk1heERhdGUoZGF5KSB8fCBzaG91bGREaXNhYmxlRGF0ZSAmJiBzaG91bGREaXNhYmxlRGF0ZShkYXkpKTtcbiAgICB9O1xuXG4gICAgX3RoaXMubW92ZVRvRGF5ID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgaWYgKGRheSAmJiAhX3RoaXMuc2hvdWxkRGlzYWJsZURhdGUoZGF5KSkge1xuICAgICAgICBfdGhpcy5vbkRhdGVTZWxlY3QoZGF5LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHRoZW1lID0gX2EudGhlbWUsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcblxuICAgICAgc3dpdGNoIChrZXljb2RlKGV2ZW50KSkge1xuICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgICAgX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgLTcpKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICAgIF90aGlzLm1vdmVUb0RheSh1dGlscy5hZGREYXlzKGRhdGUsIDcpKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIHRoZW1lLmRpcmVjdGlvbiA9PT0gJ2x0cicgPyBfdGhpcy5tb3ZlVG9EYXkodXRpbHMuYWRkRGF5cyhkYXRlLCAtMSkpIDogX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgMSkpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICB0aGVtZS5kaXJlY3Rpb24gPT09ICdsdHInID8gX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgMSkpIDogX3RoaXMubW92ZVRvRGF5KHV0aWxzLmFkZERheXMoZGF0ZSwgLTEpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGlmIGtleWNvZGUgaXMgbm90IGhhbmRsZWQsIHN0b3AgZXhlY3V0aW9uXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpZiBldmVudCB3YXMgaGFuZGxlZCBwcmV2ZW50IG90aGVyIHNpZGUgZWZmZWN0cyAoZS5nLiBwYWdlIHNjcm9sbClcblxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5yZW5kZXJXZWVrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB1dGlscyA9IF90aGlzLnByb3BzLnV0aWxzO1xuICAgICAgdmFyIGN1cnJlbnRNb250aCA9IF90aGlzLnN0YXRlLmN1cnJlbnRNb250aDtcbiAgICAgIHZhciB3ZWVrcyA9IHV0aWxzLmdldFdlZWtBcnJheShjdXJyZW50TW9udGgpO1xuICAgICAgcmV0dXJuIHdlZWtzLm1hcChmdW5jdGlvbiAod2Vlaykge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAga2V5OiBcIndlZWstXCIgKyB3ZWVrWzBdLnRvU3RyaW5nKCksXG4gICAgICAgICAgY2xhc3NOYW1lOiBfdGhpcy5wcm9wcy5jbGFzc2VzLndlZWtcbiAgICAgICAgfSwgX3RoaXMucmVuZGVyRGF5cyh3ZWVrKSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmVuZGVyRGF5cyA9IGZ1bmN0aW9uICh3ZWVrKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICByZW5kZXJEYXkgPSBfYS5yZW5kZXJEYXksXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciBzZWxlY3RlZERhdGUgPSB1dGlscy5zdGFydE9mRGF5KGRhdGUpO1xuICAgICAgdmFyIGN1cnJlbnRNb250aE51bWJlciA9IHV0aWxzLmdldE1vbnRoKF90aGlzLnN0YXRlLmN1cnJlbnRNb250aCk7XG4gICAgICB2YXIgbm93ID0gdXRpbHMuZGF0ZSgpO1xuICAgICAgcmV0dXJuIHdlZWsubWFwKGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgICAgdmFyIGRpc2FibGVkID0gX3RoaXMuc2hvdWxkRGlzYWJsZURhdGUoZGF5KTtcblxuICAgICAgICB2YXIgZGF5SW5DdXJyZW50TW9udGggPSB1dGlscy5nZXRNb250aChkYXkpID09PSBjdXJyZW50TW9udGhOdW1iZXI7XG4gICAgICAgIHZhciBkYXlDb21wb25lbnQgPSBjcmVhdGVFbGVtZW50KERheSQxLCB7XG4gICAgICAgICAgY3VycmVudDogdXRpbHMuaXNTYW1lRGF5KGRheSwgbm93KSxcbiAgICAgICAgICBoaWRkZW46ICFkYXlJbkN1cnJlbnRNb250aCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgc2VsZWN0ZWQ6IHV0aWxzLmlzU2FtZURheShzZWxlY3RlZERhdGUsIGRheSlcbiAgICAgICAgfSwgdXRpbHMuZ2V0RGF5VGV4dChkYXkpKTtcblxuICAgICAgICBpZiAocmVuZGVyRGF5KSB7XG4gICAgICAgICAgZGF5Q29tcG9uZW50ID0gcmVuZGVyRGF5KGRheSwgc2VsZWN0ZWREYXRlLCBkYXlJbkN1cnJlbnRNb250aCwgZGF5Q29tcG9uZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KERheVdyYXBwZXIsIHtcbiAgICAgICAgICBrZXk6IGRheS50b1N0cmluZygpLFxuICAgICAgICAgIHZhbHVlOiBkYXksXG4gICAgICAgICAgZGF5SW5DdXJyZW50TW9udGg6IGRheUluQ3VycmVudE1vbnRoLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBvblNlbGVjdDogX3RoaXMub25EYXRlU2VsZWN0XG4gICAgICAgIH0sIGRheUNvbXBvbmVudCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2FsZW5kYXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcywgc3RhdGUpIHtcbiAgICBpZiAoIW5leHRQcm9wcy51dGlscy5pc0VxdWFsKG5leHRQcm9wcy5kYXRlLCBzdGF0ZS5sYXN0RGF0ZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhc3REYXRlOiBuZXh0UHJvcHMuZGF0ZSxcbiAgICAgICAgY3VycmVudE1vbnRoOiBuZXh0UHJvcHMudXRpbHMuZ2V0U3RhcnRPZk1vbnRoKG5leHRQcm9wcy5kYXRlKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBDYWxlbmRhci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIG1pbkRhdGUgPSBfYS5taW5EYXRlLFxuICAgICAgICBtYXhEYXRlID0gX2EubWF4RGF0ZSxcbiAgICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdDtcblxuICAgIGlmICh0aGlzLnNob3VsZERpc2FibGVEYXRlKGRhdGUpKSB7XG4gICAgICB2YXIgY2xvc2VzdEVuYWJsZWREYXRlID0gZmluZENsb3Nlc3RFbmFibGVkRGF0ZSh7XG4gICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgIHV0aWxzOiB1dGlscyxcbiAgICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZTogbWF4RGF0ZSxcbiAgICAgICAgZGlzYWJsZVBhc3Q6IEJvb2xlYW4oZGlzYWJsZVBhc3QpLFxuICAgICAgICBkaXNhYmxlRnV0dXJlOiBCb29sZWFuKGRpc2FibGVQYXN0KSxcbiAgICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHRoaXMuc2hvdWxkRGlzYWJsZURhdGVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbkRhdGVTZWxlY3QoY2xvc2VzdEVuYWJsZWREYXRlIHx8IG1pbkRhdGUsIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgQ2FsZW5kYXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnN0YXRlLFxuICAgICAgICBjdXJyZW50TW9udGggPSBfYS5jdXJyZW50TW9udGgsXG4gICAgICAgIHNsaWRlRGlyZWN0aW9uID0gX2Euc2xpZGVEaXJlY3Rpb247XG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gX2IuYWxsb3dLZXlib2FyZENvbnRyb2w7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGFsbG93S2V5Ym9hcmRDb250cm9sICYmIGNyZWF0ZUVsZW1lbnQoRXZlbnRMaXN0ZW5lciwge1xuICAgICAgdGFyZ2V0OiBcIndpbmRvd1wiLFxuICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd25cbiAgICB9KSwgY3JlYXRlRWxlbWVudChDYWxlbmRhckhlYWRlciQxLCB7XG4gICAgICBzbGlkZURpcmVjdGlvbjogc2xpZGVEaXJlY3Rpb24sXG4gICAgICBjdXJyZW50TW9udGg6IGN1cnJlbnRNb250aCxcbiAgICAgIG9uTW9udGhDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlTW9udGgsXG4gICAgICBsZWZ0QXJyb3dJY29uOiB0aGlzLnByb3BzLmxlZnRBcnJvd0ljb24sXG4gICAgICByaWdodEFycm93SWNvbjogdGhpcy5wcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIGRpc2FibGVQcmV2TW9udGg6IHRoaXMuc2hvdWxkRGlzYWJsZVByZXZNb250aCgpLFxuICAgICAgZGlzYWJsZU5leHRNb250aDogdGhpcy5zaG91bGREaXNhYmxlTmV4dE1vbnRoKClcbiAgICB9KSwgY3JlYXRlRWxlbWVudChTbGlkZVRyYW5zaXRpb24kMSwge1xuICAgICAgc2xpZGVEaXJlY3Rpb246IHNsaWRlRGlyZWN0aW9uLFxuICAgICAgdHJhbnNLZXk6IGN1cnJlbnRNb250aC50b1N0cmluZygpLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRyYW5zaXRpb25Db250YWluZXJcbiAgICB9LCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIC8vIEB0cy1pZ25vcmUgQXV0b2ZvY3VzIHJlcXVpcmVkIGZvciBnZXR0aW5nIHdvcmsga2V5Ym9hcmQgbmF2aWdhdGlvbiBmZWF0dXJlXG4gICAgICBhdXRvRm9jdXM6IHRydWVcbiAgICB9LCB0aGlzLnJlbmRlcldlZWtzKCkpKSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQ2FsZW5kYXIucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICAgIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICAgIHJlbmRlckRheTogZnVuYyxcbiAgICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgQ2FsZW5kYXIuZGVmYXVsdFByb3BzID0ge1xuICAgIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgICBtYXhEYXRlOiAnMjEwMC0wMS0wMScsXG4gICAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICAgIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICAgIGxlZnRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICByaWdodEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBmYWxzZSxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIENhbGVuZGFyO1xufShDb21wb25lbnQpO1xudmFyIHN0eWxlcyQ2ID0gZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgdHJhbnNpdGlvbkNvbnRhaW5lcjoge1xuICAgICAgbWluSGVpZ2h0OiAzNiAqIDYsXG4gICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcudW5pdCAqIDEuNVxuICAgIH0sXG4gICAgd2Vlazoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXG4gICAgfVxuICB9O1xufTtcbnZhciBDYWxlbmRhciQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQ2LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2FsZW5kYXInLFxuICB3aXRoVGhlbWU6IHRydWVcbn0pKHdpdGhVdGlscygpKENhbGVuZGFyKSk7XG5cbnZhciBZZWFyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKFllYXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gWWVhcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvcHMub25TZWxlY3QoX3RoaXMucHJvcHMudmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBZZWFyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIHNlbGVjdGVkID0gX2Iuc2VsZWN0ZWQsXG4gICAgICAgIGRpc2FibGVkID0gX2IuZGlzYWJsZWQsXG4gICAgICAgIHZhbHVlID0gX2IudmFsdWUsXG4gICAgICAgIGNoaWxkcmVuID0gX2IuY2hpbGRyZW4sXG4gICAgICAgIG90aGVyID0gX19yZXN0KF9iLCBbXCJjbGFzc2VzXCIsIFwic2VsZWN0ZWRcIiwgXCJkaXNhYmxlZFwiLCBcInZhbHVlXCIsIFwiY2hpbGRyZW5cIl0pO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgX19hc3NpZ24oe1xuICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgIGNvbXBvbmVudDogXCJkaXZcIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnJvb3QsIChfYSA9IHt9LCBfYVtjbGFzc2VzLnNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYVtjbGFzc2VzLmRpc2FibGVkXSA9IGRpc2FibGVkLCBfYSkpLFxuICAgICAgdGFiSW5kZXg6IGRpc2FibGVkID8gLTEgOiAwLFxuICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDbGljayxcbiAgICAgIG9uS2V5UHJlc3M6IHRoaXMuaGFuZGxlQ2xpY2ssXG4gICAgICBjb2xvcjogc2VsZWN0ZWQgPyAncHJpbWFyeScgOiAnZGVmYXVsdCcsXG4gICAgICB2YXJpYW50OiBzZWxlY3RlZCA/ICdoNScgOiAnc3VidGl0bGUxJ1xuICAgIH0sIG90aGVyKSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFllYXIucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWQsXG4gICAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZWQ6IGJvb2wsXG4gICAgb25TZWxlY3Q6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBzZWxlY3RlZDogYm9vbCxcbiAgICB2YWx1ZTogYW55LmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBZZWFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgZGlzYWJsZWQ6IGZhbHNlXG4gIH07XG4gIHJldHVybiBZZWFyO1xufShQdXJlQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkNyA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4gY3JlYXRlU3R5bGVzJDEoe1xuICAgIHJvb3Q6IHtcbiAgICAgIGhlaWdodDogdGhlbWUuc3BhY2luZy51bml0ICogNSxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICAnJjpmb2N1cyc6IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdGVkOiB7XG4gICAgICBtYXJnaW46ICcxMHB4IDAnLFxuICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0TWVkaXVtXG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50XG4gICAgfVxuICB9KTtcbn07XG52YXIgWWVhciQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQ3LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzWWVhcidcbn0pKFllYXIpO1xuXG52YXIgWWVhclNlbGVjdGlvbiA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhZZWFyU2VsZWN0aW9uLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFllYXJTZWxlY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zZWxlY3RlZFllYXJSZWYgPSB1bmRlZmluZWQ7XG5cbiAgICBfdGhpcy5nZXRTZWxlY3RlZFllYXJSZWYgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICBfdGhpcy5zZWxlY3RlZFllYXJSZWYgPSByZWY7XG4gICAgfTtcblxuICAgIF90aGlzLnNjcm9sbFRvQ3VycmVudFllYXIgPSBmdW5jdGlvbiAoZG9tTm9kZSkge1xuICAgICAgdmFyIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gX3RoaXMucHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmc7XG4gICAgICB2YXIgY3VycmVudFllYXJFbGVtZW50ID0gZmluZERPTU5vZGUoZG9tTm9kZSk7XG5cbiAgICAgIGlmIChjdXJyZW50WWVhckVsZW1lbnQgJiYgY3VycmVudFllYXJFbGVtZW50LnNjcm9sbEludG9WaWV3KSB7XG4gICAgICAgIGlmIChhbmltYXRlWWVhclNjcm9sbGluZykge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRZZWFyRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50WWVhckVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vblllYXJTZWxlY3QgPSBmdW5jdGlvbiAoeWVhcikge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIG5ld0RhdGUgPSB1dGlscy5zZXRZZWFyKGRhdGUsIHllYXIpO1xuICAgICAgb25DaGFuZ2UobmV3RGF0ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFllYXJTZWxlY3Rpb24ucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkWWVhclJlZikge1xuICAgICAgdGhpcy5zY3JvbGxUb0N1cnJlbnRZZWFyKHRoaXMuc2VsZWN0ZWRZZWFyUmVmKTtcbiAgICB9XG4gIH07XG5cbiAgWWVhclNlbGVjdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBtaW5EYXRlID0gX2EubWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZSA9IF9hLm1heERhdGUsXG4gICAgICAgIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHM7XG4gICAgdmFyIGN1cnJlbnRZZWFyID0gdXRpbHMuZ2V0WWVhcihkYXRlKTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuY29udGFpbmVyXG4gICAgfSwgdXRpbHMuZ2V0WWVhclJhbmdlKG1pbkRhdGUsIG1heERhdGUpLm1hcChmdW5jdGlvbiAoeWVhcikge1xuICAgICAgdmFyIHllYXJOdW1iZXIgPSB1dGlscy5nZXRZZWFyKHllYXIpO1xuICAgICAgdmFyIHNlbGVjdGVkID0geWVhck51bWJlciA9PT0gY3VycmVudFllYXI7XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChZZWFyJDEsIHtcbiAgICAgICAga2V5OiB1dGlscy5nZXRZZWFyVGV4dCh5ZWFyKSxcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICB2YWx1ZTogeWVhck51bWJlcixcbiAgICAgICAgb25TZWxlY3Q6IF90aGlzLm9uWWVhclNlbGVjdCxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZWY6IHNlbGVjdGVkID8gX3RoaXMuZ2V0U2VsZWN0ZWRZZWFyUmVmIDogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZVBhc3QgJiYgdXRpbHMuaXNCZWZvcmVZZWFyKHllYXIsIHV0aWxzLmRhdGUoKSkgfHwgZGlzYWJsZUZ1dHVyZSAmJiB1dGlscy5pc0FmdGVyWWVhcih5ZWFyLCB1dGlscy5kYXRlKCkpXG4gICAgICB9LCB1dGlscy5nZXRZZWFyVGV4dCh5ZWFyKSk7XG4gICAgfSkpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFllYXJTZWxlY3Rpb24ucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IHNoYXBlKHt9KS5pc1JlcXVpcmVkLFxuICAgIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgICB1dGlsczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueVxuICB9IDogdm9pZCAwO1xuICBZZWFyU2VsZWN0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIFllYXJTZWxlY3Rpb247XG59KFB1cmVDb21wb25lbnQpO1xudmFyIHN0eWxlcyQ4ID0gY3JlYXRlU3R5bGVzJDEoe1xuICBjb250YWluZXI6IHtcbiAgICBtYXhIZWlnaHQ6IDMwMCxcbiAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgfVxufSk7XG52YXIgWWVhclNlbGVjdGlvbiQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyQ4LCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzWWVhclNlbGVjdGlvbidcbn0pKHdpdGhVdGlscygpKFllYXJTZWxlY3Rpb24pKTtcblxudmFyIERhdGVQaWNrZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoRGF0ZVBpY2tlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXRlUGlja2VyKCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93WWVhclNlbGVjdGlvbjogQm9vbGVhbihfdGhpcy5wcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uKVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVZZWFyU2VsZWN0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKGRhdGUsIGZhbHNlKTtcblxuICAgICAgX3RoaXMub3BlbkNhbGVuZGFyKCk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5ZZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93WWVhclNlbGVjdGlvbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5DYWxlbmRhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd1llYXJTZWxlY3Rpb246IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXIucHJvdG90eXBlLCBcImRhdGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0ZTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0ZVBpY2tlci5wcm90b3R5cGUsIFwibWluRGF0ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy51dGlscy5kYXRlKHRoaXMucHJvcHMubWluRGF0ZSk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVQaWNrZXIucHJvdG90eXBlLCBcIm1heERhdGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMudXRpbHMuZGF0ZSh0aGlzLnByb3BzLm1heERhdGUpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG5cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzaG93WWVhclNlbGVjdGlvbiA9IHRoaXMuc3RhdGUuc2hvd1llYXJTZWxlY3Rpb247XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGlzYWJsZVBhc3QgPSBfYS5kaXNhYmxlUGFzdCxcbiAgICAgICAgZGlzYWJsZUZ1dHVyZSA9IF9hLmRpc2FibGVGdXR1cmUsXG4gICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gX2EuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICAgIGxlZnRBcnJvd0ljb24gPSBfYS5sZWZ0QXJyb3dJY29uLFxuICAgICAgICByaWdodEFycm93SWNvbiA9IF9hLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgICByZW5kZXJEYXkgPSBfYS5yZW5kZXJEYXksXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX2Euc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gX2EuYWxsb3dLZXlib2FyZENvbnRyb2w7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGNyZWF0ZUVsZW1lbnQoUGlja2VyVG9vbGJhciQxLCBudWxsLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlblllYXJTZWxlY3Rpb24sXG4gICAgICBzZWxlY3RlZDogc2hvd1llYXJTZWxlY3Rpb24sXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0WWVhclRleHQodGhpcy5kYXRlKVxuICAgIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoNFwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuQ2FsZW5kYXIsXG4gICAgICBzZWxlY3RlZDogIXNob3dZZWFyU2VsZWN0aW9uLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldERhdGVQaWNrZXJIZWFkZXJUZXh0KHRoaXMuZGF0ZSlcbiAgICB9KSksIHRoaXMucHJvcHMuY2hpbGRyZW4sIHNob3dZZWFyU2VsZWN0aW9uID8gY3JlYXRlRWxlbWVudChZZWFyU2VsZWN0aW9uJDEsIHtcbiAgICAgIGRhdGU6IHRoaXMuZGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVllYXJTZWxlY3QsXG4gICAgICBtaW5EYXRlOiB0aGlzLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlOiB0aGlzLm1heERhdGUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGFuaW1hdGVZZWFyU2Nyb2xsaW5nXG4gICAgfSkgOiBjcmVhdGVFbGVtZW50KENhbGVuZGFyJDEsIHtcbiAgICAgIGRhdGU6IHRoaXMuZGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBtaW5EYXRlOiB0aGlzLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlOiB0aGlzLm1heERhdGUsXG4gICAgICBsZWZ0QXJyb3dJY29uOiBsZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2xcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVBpY2tlci5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgbWF4RGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICAgIG9wZW5Ub1llYXJTZWxlY3Rpb246IGJvb2wsXG4gICAgY2hpbGRyZW46IG5vZGUsXG4gICAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgICByaWdodEFycm93SWNvbjogbm9kZSxcbiAgICByZW5kZXJEYXk6IGZ1bmMsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICAgIGluaXRpYWxGb2N1c2VkRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGVcbiAgfSA6IHZvaWQgMDtcbiAgRGF0ZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbWluRGF0ZTogJzE5MDAtMDEtMDEnLFxuICAgIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gICAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGZhbHNlLFxuICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gICAgY2hpbGRyZW46IG51bGwsXG4gICAgbGVmdEFycm93SWNvbjogdW5kZWZpbmVkLFxuICAgIHJpZ2h0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZFxuICB9O1xuICByZXR1cm4gRGF0ZVBpY2tlcjtcbn0oUHVyZUNvbXBvbmVudCk7XG52YXIgRGF0ZVBpY2tlciQxID0gd2l0aFV0aWxzKCkoRGF0ZVBpY2tlcik7XG5cbnZhciBEYXRlUGlja2VyTW9kYWwgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIGFsbG93S2V5Ym9hcmRDb250cm9sID0gcHJvcHMuYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZyA9IHByb3BzLmFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgZGlzYWJsZUZ1dHVyZSA9IHByb3BzLmRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdCA9IHByb3BzLmRpc2FibGVQYXN0LFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgbGFiZWxGdW5jID0gcHJvcHMubGFiZWxGdW5jLFxuICAgICAgbGVmdEFycm93SWNvbiA9IHByb3BzLmxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIG1pbkRhdGUgPSBwcm9wcy5taW5EYXRlLFxuICAgICAgaW5pdGlhbEZvY3VzZWREYXRlID0gcHJvcHMuaW5pdGlhbEZvY3VzZWREYXRlLFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIG9wZW5Ub1llYXJTZWxlY3Rpb24gPSBwcm9wcy5vcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgcmVuZGVyRGF5ID0gcHJvcHMucmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIHNob3VsZERpc2FibGVEYXRlID0gcHJvcHMuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QocHJvcHMsIFtcImFsbG93S2V5Ym9hcmRDb250cm9sXCIsIFwiYW5pbWF0ZVllYXJTY3JvbGxpbmdcIiwgXCJhdXRvT2tcIiwgXCJkaXNhYmxlRnV0dXJlXCIsIFwiZGlzYWJsZVBhc3RcIiwgXCJmb3JtYXRcIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJsYWJlbEZ1bmNcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwibWF4RGF0ZVwiLCBcIm1pbkRhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJvbkNoYW5nZVwiLCBcIm9wZW5Ub1llYXJTZWxlY3Rpb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJyaWdodEFycm93SWNvblwiLCBcInNob3VsZERpc2FibGVEYXRlXCIsIFwidmFsdWVcIl0pO1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KEJhc2VQaWNrZXIkMSwgX19hc3NpZ24oe30sIHByb3BzKSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlQ2xlYXIgPSBfYS5oYW5kbGVDbGVhcixcbiAgICAgICAgaGFuZGxlRGlzbWlzcyA9IF9hLmhhbmRsZURpc21pc3MsXG4gICAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZSA9IF9hLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZDtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChNb2RhbFdyYXBwZXIsIF9fYXNzaWduKHtcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCB8fCB1dGlscy5kYXRlRm9ybWF0LFxuICAgICAgbGFiZWxGdW5jOiBsYWJlbEZ1bmMsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgICBvbkRpc21pc3M6IGhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiBoYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzQWNjZXB0ZWQ6IGlzQWNjZXB0ZWRcbiAgICB9LCBvdGhlciksIGNyZWF0ZUVsZW1lbnQoRGF0ZVBpY2tlciQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBvcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGVcbiAgICB9KSk7XG4gIH0pO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVQaWNrZXJNb2RhbC5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgYXV0b09rOiBib29sLFxuICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gIG9wZW5Ub1llYXJTZWxlY3Rpb246IGJvb2wsXG4gIGxhYmVsRnVuYzogZnVuYyxcbiAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gIHJlbmRlckRheTogZnVuYyxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5EYXRlUGlja2VyTW9kYWwuZGVmYXVsdFByb3BzID0ge1xuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIGF1dG9PazogZmFsc2UsXG4gIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IHVuZGVmaW5lZCxcbiAgZGlzYWJsZUZ1dHVyZTogZmFsc2UsXG4gIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBmYWxzZSxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IHRydWUsXG4gIGxlZnRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19sZWZ0JyxcbiAgcmlnaHRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19yaWdodCcsXG4gIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICBsYWJlbEZ1bmM6IHVuZGVmaW5lZCxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgZm9yd2FyZGVkUmVmOiB1bmRlZmluZWRcbn07XG52YXIgRGF0ZVBpY2tlck1vZGFsJDEgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KERhdGVQaWNrZXJNb2RhbCwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBJbmxpbmVXcmFwcGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKElubGluZVdyYXBwZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gSW5saW5lV3JhcHBlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgYW5jaG9yRWw6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFuY2hvckVsOiBlLmN1cnJlbnRUYXJnZXRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25PcGVuKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uT3BlbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYW5jaG9yRWw6IG51bGxcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5wcm9wcy5oYW5kbGVBY2NlcHQoKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xvc2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKGtleWNvZGUoZXZlbnQpKSB7XG4gICAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5oYW5kbGVBY2NlcHQoKTtcblxuICAgICAgICAgICAgX3RoaXMuY2xvc2UoKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gaWYga2V5Y29kZSBpcyBub3QgaGFuZGxlZCwgc3RvcCBleGVjdXRpb25cbiAgICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGlmIGV2ZW50IHdhcyBoYW5kbGVkIHByZXZlbnQgb3RoZXIgc2lkZSBlZmZlY3RzXG5cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgSW5saW5lV3JhcHBlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgLy8gb25seSBpZiBhY2NlcHQgPSB0cnVlIGNsb3NlIHRoZSBwb3BvdmVyXG4gICAgaWYgKG5leHRQcm9wcy5pc0FjY2VwdGVkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmNob3JFbDogbnVsbFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBJbmxpbmVXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgZm9ybWF0ID0gX2EuZm9ybWF0LFxuICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICBvbk9wZW4gPSBfYS5vbk9wZW4sXG4gICAgICAgIG9uQ2xvc2UgPSBfYS5vbkNsb3NlLFxuICAgICAgICBQb3BvdmVyUHJvcHMgPSBfYS5Qb3BvdmVyUHJvcHMsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBrZXlib2FyZCA9IF9hLmtleWJvYXJkLFxuICAgICAgICBvbmx5Q2FsZW5kYXIgPSBfYS5vbmx5Q2FsZW5kYXIsXG4gICAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQsXG4gICAgICAgIG90aGVyID0gX19yZXN0KF9hLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcImNoaWxkcmVuXCIsIFwib25PcGVuXCIsIFwib25DbG9zZVwiLCBcIlBvcG92ZXJQcm9wc1wiLCBcImlzQWNjZXB0ZWRcIiwgXCJrZXlib2FyZFwiLCBcIm9ubHlDYWxlbmRhclwiLCBcImNsYXNzZXNcIiwgXCJoYW5kbGVBY2NlcHRcIl0pO1xuXG4gICAgdmFyIGlzT3BlbiA9IEJvb2xlYW4odGhpcy5zdGF0ZS5hbmNob3JFbCk7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGlzT3BlbiAmJiBjcmVhdGVFbGVtZW50KEV2ZW50TGlzdGVuZXIsIHtcbiAgICAgIHRhcmdldDogXCJ3aW5kb3dcIixcbiAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoRGF0ZVRleHRGaWVsZCQxLCBfX2Fzc2lnbih7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbixcbiAgICAgIGtleWJvYXJkOiBrZXlib2FyZFxuICAgIH0sIG90aGVyKSksIGNyZWF0ZUVsZW1lbnQoUG9wb3ZlciwgX19hc3NpZ24oe1xuICAgICAgaWQ6IFwicGlja2VyLXBvcG92ZXJcIixcbiAgICAgIG9wZW46IGlzT3BlbixcbiAgICAgIGFuY2hvckVsOiB0aGlzLnN0YXRlLmFuY2hvckVsLFxuICAgICAgb25DbG9zZTogdGhpcy5jbG9zZSxcbiAgICAgIGNsYXNzZXM6IHtcbiAgICAgICAgcGFwZXI6IGNsYXNzZXMucG9wb3ZlclBhcGVyXG4gICAgICB9LFxuICAgICAgYW5jaG9yT3JpZ2luOiB7XG4gICAgICAgIHZlcnRpY2FsOiAnYm90dG9tJyxcbiAgICAgICAgaG9yaXpvbnRhbDoga2V5Ym9hcmQgPyAncmlnaHQnIDogJ2NlbnRlcidcbiAgICAgIH0sXG4gICAgICB0cmFuc2Zvcm1PcmlnaW46IHtcbiAgICAgICAgdmVydGljYWw6ICd0b3AnLFxuICAgICAgICBob3Jpem9udGFsOiBrZXlib2FyZCA/ICdyaWdodCcgOiAnY2VudGVyJ1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgIH0sIFBvcG92ZXJQcm9wcykpKTtcbiAgfTtcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBJbmxpbmVXcmFwcGVyLnByb3BUeXBlcyA9IHtcbiAgICAvKiogU2hvdyBvbmx5IGNhbGVuZGFyIGZvciBkYXRlcGlja2VyIGluIHBvcG92ZXIgbW9kZSAqL1xuICAgIG9ubHlDYWxlbmRhcjogYm9vbCxcblxuICAgIC8qKiBQaWNrZXIgdmFsdWUgKi9cbiAgICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG5cbiAgICAvKiogT24gb3BlbiBjYWxsYmFjayBbKGU6IEV2ZW50KSA9PiB2b2lkXSAqL1xuICAgIG9uT3BlbjogZnVuYyxcblxuICAgIC8qKiBPbiBjbG9zZSBjYWxsYmFjayBbKGU6IEV2ZW50KSA9PiB2b2lkXSAqL1xuICAgIG9uQ2xvc2U6IGZ1bmMsXG5cbiAgICAvKiogRm9ybWF0IHN0cmluZyAqL1xuICAgIGZvcm1hdDogc3RyaW5nLFxuXG4gICAgLyoqIERpYWxvZyBwcm9wcyBwYXNzZWQgdG8gbWF0ZXJpYWwtdWkgRGlhbG9nICovXG4gICAgUG9wb3ZlclByb3BzOiBvYmplY3QsXG4gICAgbGFiZWxGdW5jOiBmdW5jLFxuICAgIG9uQ2xlYXI6IGZ1bmMsXG4gICAgaXNBY2NlcHRlZDogYm9vbCxcbiAgICBoYW5kbGVBY2NlcHQ6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjaGlsZHJlbjogbm9kZS5pc1JlcXVpcmVkLFxuICAgIGtleWJvYXJkOiBib29sLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgSW5saW5lV3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgdmFsdWU6IG5ldyBEYXRlKCksXG4gICAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gICAgb25seUNhbGVuZGFyOiBmYWxzZSxcbiAgICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgICBvbkNsZWFyOiB1bmRlZmluZWQsXG4gICAgb25PcGVuOiB1bmRlZmluZWQsXG4gICAgb25DbG9zZTogdW5kZWZpbmVkLFxuICAgIFBvcG92ZXJQcm9wczogdW5kZWZpbmVkLFxuICAgIGlzQWNjZXB0ZWQ6IGZhbHNlLFxuICAgIGtleWJvYXJkOiB1bmRlZmluZWRcbiAgfTtcbiAgcmV0dXJuIElubGluZVdyYXBwZXI7XG59KFB1cmVDb21wb25lbnQpO1xudmFyIHN0eWxlcyQ5ID0ge1xuICBwb3BvdmVyUGFwZXI6IHtcbiAgICBtYXhXaWR0aDogMzEwLFxuICAgIG1pbldpZHRoOiAyOTAsXG4gICAgcGFkZGluZ0JvdHRvbTogOFxuICB9XG59OyAvLyBAdHMtaWdub3JlXG5cbnZhciBJbmxpbmVXcmFwcGVyJDEgPSB3aXRoU3R5bGVzJDEoc3R5bGVzJDkpKElubGluZVdyYXBwZXIpO1xuXG52YXIgRGF0ZVBpY2tlcklubGluZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgYWxsb3dLZXlib2FyZENvbnRyb2wgPSBwcm9wcy5hbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gcHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBsYWJlbEZ1bmMgPSBwcm9wcy5sYWJlbEZ1bmMsXG4gICAgICBsZWZ0QXJyb3dJY29uID0gcHJvcHMubGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGUgPSBwcm9wcy5tYXhEYXRlLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBpbml0aWFsRm9jdXNlZERhdGUgPSBwcm9wcy5pbml0aWFsRm9jdXNlZERhdGUsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgb3BlblRvWWVhclNlbGVjdGlvbiA9IHByb3BzLm9wZW5Ub1llYXJTZWxlY3Rpb24sXG4gICAgICByZW5kZXJEYXkgPSBwcm9wcy5yZW5kZXJEYXksXG4gICAgICByaWdodEFycm93SWNvbiA9IHByb3BzLnJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBwcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBhdXRvT2sgPSBwcm9wcy5hdXRvT2ssXG4gICAgICBvbmx5Q2FsZW5kYXIgPSBwcm9wcy5vbmx5Q2FsZW5kYXIsXG4gICAgICBvdGhlciA9IF9fcmVzdChwcm9wcywgW1wiYWxsb3dLZXlib2FyZENvbnRyb2xcIiwgXCJhbmltYXRlWWVhclNjcm9sbGluZ1wiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImZvcm1hdFwiLCBcImZvcndhcmRlZFJlZlwiLCBcImxhYmVsRnVuY1wiLCBcImxlZnRBcnJvd0ljb25cIiwgXCJtYXhEYXRlXCIsIFwibWluRGF0ZVwiLCBcImluaXRpYWxGb2N1c2VkRGF0ZVwiLCBcIm9uQ2hhbmdlXCIsIFwib3BlblRvWWVhclNlbGVjdGlvblwiLCBcInJlbmRlckRheVwiLCBcInJpZ2h0QXJyb3dJY29uXCIsIFwic2hvdWxkRGlzYWJsZURhdGVcIiwgXCJ2YWx1ZVwiLCBcImF1dG9Pa1wiLCBcIm9ubHlDYWxlbmRhclwiXSk7XG5cbiAgdmFyIENvbXBvbmVudFRvU2hvdyA9IG9ubHlDYWxlbmRhciA/IENhbGVuZGFyJDEgOiBEYXRlUGlja2VyJDE7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KEJhc2VQaWNrZXIkMSwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgYXV0b09rOiB0cnVlXG4gIH0pLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgIHV0aWxzID0gX2EudXRpbHMsXG4gICAgICAgIGlzQWNjZXB0ZWQgPSBfYS5pc0FjY2VwdGVkLFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0O1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KElubGluZVdyYXBwZXIkMSwgX19hc3NpZ24oe1xuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGZvcm1hdDogZm9ybWF0IHx8IHV0aWxzLmRhdGVGb3JtYXQsXG4gICAgICBsYWJlbEZ1bmM6IGxhYmVsRnVuYyxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgIGlubmVyUmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgaGFuZGxlQWNjZXB0OiBoYW5kbGVBY2NlcHRcbiAgICB9LCBvdGhlciksIGNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50VG9TaG93LCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBvcGVuVG9ZZWFyU2VsZWN0aW9uLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGVcbiAgICB9KSk7XG4gIH0pO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVQaWNrZXJJbmxpbmUucHJvcFR5cGVzID0ge1xuICBvbmx5Q2FsZW5kYXI6IGJvb2wsXG4gIHZhbHVlOiBEb21haW5Qcm9wVHlwZXMuZGF0ZSxcbiAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgZGlzYWJsZVBhc3Q6IGJvb2wsXG4gIGRpc2FibGVGdXR1cmU6IGJvb2wsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBib29sLFxuICBvcGVuVG9ZZWFyU2VsZWN0aW9uOiBib29sLFxuICBsYWJlbEZ1bmM6IGZ1bmMsXG4gIGxlZnRBcnJvd0ljb246IG5vZGUsXG4gIHJpZ2h0QXJyb3dJY29uOiBub2RlLFxuICByZW5kZXJEYXk6IGZ1bmMsXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogYm9vbCxcbiAgZm9yd2FyZGVkUmVmOiBvbmVPZlR5cGUoW2Z1bmMsIG9iamVjdF0pLFxuICBhdXRvT2s6IGJvb2xcbn0gOiB2b2lkIDA7XG5EYXRlUGlja2VySW5saW5lLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiB1bmRlZmluZWQsXG4gIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBmYWxzZSxcbiAgb3BlblRvWWVhclNlbGVjdGlvbjogZmFsc2UsXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiB0cnVlLFxuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgbGFiZWxGdW5jOiB1bmRlZmluZWQsXG4gIHNob3VsZERpc2FibGVEYXRlOiB1bmRlZmluZWQsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkLFxuICBhdXRvT2s6IHVuZGVmaW5lZCxcbiAgb25seUNhbGVuZGFyOiBmYWxzZVxufTtcbnZhciBEYXRlUGlja2VySW5saW5lJDEgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KERhdGVQaWNrZXJJbmxpbmUsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGZvcndhcmRlZFJlZjogcmVmXG4gIH0pKTtcbn0pO1xuXG52YXIgY2VudGVyID0ge1xuICB4OiAyNjAgLyAyLFxuICB5OiAyNjAgLyAyXG59O1xudmFyIGJhc2VQb2ludCA9IHtcbiAgeDogY2VudGVyLngsXG4gIHk6IDBcbn07XG52YXIgY3ggPSBiYXNlUG9pbnQueCAtIGNlbnRlci54O1xudmFyIGN5ID0gYmFzZVBvaW50LnkgLSBjZW50ZXIueTtcblxudmFyIHJhZDJkZWcgPSBmdW5jdGlvbiAocmFkKSB7XG4gIHJldHVybiByYWQgKiA1Ny4yOTU3Nzk1MTMwODIzMjtcbn07XG5cbnZhciBnZXRBbmdsZVZhbHVlID0gZnVuY3Rpb24gKHN0ZXAsIG9mZnNldFgsIG9mZnNldFkpIHtcbiAgdmFyIHggPSBvZmZzZXRYIC0gY2VudGVyLng7XG4gIHZhciB5ID0gb2Zmc2V0WSAtIGNlbnRlci55O1xuICB2YXIgYXRhbiA9IE1hdGguYXRhbjIoY3gsIGN5KSAtIE1hdGguYXRhbjIoeCwgeSk7XG4gIHZhciBkZWcgPSByYWQyZGVnKGF0YW4pO1xuICBkZWcgPSBNYXRoLnJvdW5kKGRlZyAvIHN0ZXApICogc3RlcDtcbiAgZGVnICU9IDM2MDtcbiAgdmFyIHZhbHVlID0gTWF0aC5mbG9vcihkZWcgLyBzdGVwKSB8fCAwO1xuICB2YXIgZGVsdGEgPSBNYXRoLnBvdyh4LCAyKSArIE1hdGgucG93KHksIDIpO1xuICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGVsdGEpO1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgfTtcbn07XG5cbnZhciBnZXRIb3VycyA9IGZ1bmN0aW9uIChvZmZzZXRYLCBvZmZzZXRZLCBhbXBtKSB7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICB2YXIgX2EgPSBnZXRBbmdsZVZhbHVlKDMwLCBvZmZzZXRYLCBvZmZzZXRZKSxcbiAgICAgIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBkaXN0YW5jZSA9IF9hLmRpc3RhbmNlO1xuXG4gIHZhbHVlID0gdmFsdWUgfHwgMTI7XG5cbiAgaWYgKCFhbXBtKSB7XG4gICAgaWYgKGRpc3RhbmNlIDwgOTApIHtcbiAgICAgIHZhbHVlICs9IDEyO1xuICAgICAgdmFsdWUgJT0gMjQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhbHVlICU9IDEyO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBnZXRNaW51dGVzID0gZnVuY3Rpb24gKG9mZnNldFgsIG9mZnNldFksIHN0ZXApIHtcbiAgaWYgKHN0ZXAgPT09IHZvaWQgMCkge1xuICAgIHN0ZXAgPSA2O1xuICB9XG5cbiAgdmFyIHZhbHVlID0gZ2V0QW5nbGVWYWx1ZShzdGVwLCBvZmZzZXRYLCBvZmZzZXRZKS52YWx1ZTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBjb252ZXJ0VG9NZXJpZGllbSA9IGZ1bmN0aW9uICh0aW1lLCBtZXJpZGllbSwgYW1wbSwgdXRpbHMpIHtcbiAgaWYgKGFtcG0pIHtcbiAgICB2YXIgY3VycmVudE1lcmlkaWVtID0gdXRpbHMuZ2V0SG91cnModGltZSkgPj0gMTIgPyAncG0nIDogJ2FtJztcblxuICAgIGlmIChjdXJyZW50TWVyaWRpZW0gIT09IG1lcmlkaWVtKSB7XG4gICAgICB2YXIgaG91cnMgPSBtZXJpZGllbSA9PT0gJ2FtJyA/IHV0aWxzLmdldEhvdXJzKHRpbWUpIC0gMTIgOiB1dGlscy5nZXRIb3Vycyh0aW1lKSArIDEyO1xuICAgICAgcmV0dXJuIHV0aWxzLnNldEhvdXJzKHRpbWUsIGhvdXJzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGltZTtcbn07XG5cbnZhciBDbG9ja1R5cGU7XG5cbihmdW5jdGlvbiAoQ2xvY2tUeXBlKSB7XG4gIENsb2NrVHlwZVtcIkhPVVJTXCJdID0gXCJob3Vyc1wiO1xuICBDbG9ja1R5cGVbXCJNSU5VVEVTXCJdID0gXCJtaW51dGVzXCI7XG4gIENsb2NrVHlwZVtcIlNFQ09ORFNcIl0gPSBcInNlY29uZHNcIjtcbn0pKENsb2NrVHlwZSB8fCAoQ2xvY2tUeXBlID0ge30pKTtcblxudmFyIENsb2NrVHlwZSQxID0gQ2xvY2tUeXBlO1xuXG52YXIgQ2xvY2tQb2ludGVyID1cbi8qQF9fUFVSRV9fKi9cbmZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKENsb2NrUG9pbnRlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDbG9ja1BvaW50ZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRvQW5pbWF0ZVRyYW5zZm9ybTogZmFsc2UsXG4gICAgICBwcmV2aW91c1R5cGU6IHVuZGVmaW5lZFxuICAgIH07XG5cbiAgICBfdGhpcy5nZXRBbmdsZVN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgICBpc0lubmVyID0gX2EuaXNJbm5lcixcbiAgICAgICAgICB0eXBlID0gX2EudHlwZTtcbiAgICAgIHZhciBtYXggPSB0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUyA/IDEyIDogNjA7XG4gICAgICB2YXIgYW5nbGUgPSAzNjAgLyBtYXggKiB2YWx1ZTtcblxuICAgICAgaWYgKHR5cGUgPT09IENsb2NrVHlwZSQxLkhPVVJTICYmIHZhbHVlID4gMTIpIHtcbiAgICAgICAgYW5nbGUgLT0gMzYwOyAvLyByb3VuZCB1cCBhbmdsZSB0byBtYXggMzYwIGRlZ3JlZXNcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBpc0lubmVyID8gJzI2JScgOiAnNDAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZVooXCIgKyBhbmdsZSArIFwiZGVnKVwiXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDbG9ja1BvaW50ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EsIF9iO1xuXG4gICAgdmFyIF9jID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9jLmNsYXNzZXMsXG4gICAgICAgIGhhc1NlbGVjdGVkID0gX2MuaGFzU2VsZWN0ZWQ7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgc3R5bGU6IHRoaXMuZ2V0QW5nbGVTdHlsZSgpLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMucG9pbnRlciwgKF9hID0ge30sIF9hW2NsYXNzZXMuYW5pbWF0ZVRyYW5zZm9ybV0gPSB0aGlzLnN0YXRlLnRvQW5pbWF0ZVRyYW5zZm9ybSwgX2EpKVxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMudGh1bWIsIChfYiA9IHt9LCBfYltjbGFzc2VzLm5vUG9pbnRdID0gaGFzU2VsZWN0ZWQsIF9iKSlcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQ2xvY2tQb2ludGVyLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogbnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgaGFzU2VsZWN0ZWQ6IGJvb2wuaXNSZXF1aXJlZCxcbiAgICBpc0lubmVyOiBib29sLmlzUmVxdWlyZWQsXG4gICAgaW5uZXJSZWY6IGFueSxcbiAgICB0eXBlOiBvbmVPZihPYmplY3Qua2V5cyhDbG9ja1R5cGUkMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBDbG9ja1R5cGUkMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkXG4gIH0gOiB2b2lkIDA7XG5cbiAgQ2xvY2tQb2ludGVyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMsIHN0YXRlKSB7XG4gICAgaWYgKG5leHRQcm9wcy50eXBlICE9PSBzdGF0ZS5wcmV2aW91c1R5cGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvQW5pbWF0ZVRyYW5zZm9ybTogdHJ1ZSxcbiAgICAgICAgcHJldmlvdXNUeXBlOiBuZXh0UHJvcHMudHlwZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9BbmltYXRlVHJhbnNmb3JtOiBmYWxzZSxcbiAgICAgIHByZXZpb3VzVHlwZTogbmV4dFByb3BzLnR5cGVcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBDbG9ja1BvaW50ZXI7XG59KENvbXBvbmVudCk7XG52YXIgc3R5bGVzJGEgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICBwb2ludGVyOiB7XG4gICAgICB3aWR0aDogMixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGxlZnQ6ICdjYWxjKDUwJSAtIDFweCknLFxuICAgICAgYm90dG9tOiAnNTAlJyxcbiAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2NlbnRlciBib3R0b20gMHB4J1xuICAgIH0sXG4gICAgYW5pbWF0ZVRyYW5zZm9ybToge1xuICAgICAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKFsndHJhbnNmb3JtJywgJ2hlaWdodCddKVxuICAgIH0sXG4gICAgdGh1bWI6IHtcbiAgICAgIHdpZHRoOiA0LFxuICAgICAgaGVpZ2h0OiA0LFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGJvcmRlclJhZGl1czogJzEwMCUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IC0yMSxcbiAgICAgIGxlZnQ6IC0xNSxcbiAgICAgIGJvcmRlcjogXCIxNHB4IHNvbGlkIFwiICsgdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICBib3hTaXppbmc6ICdjb250ZW50LWJveCdcbiAgICB9LFxuICAgIG5vUG9pbnQ6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICB9XG4gIH0pO1xufTtcbnZhciBDbG9ja1BvaW50ZXIkMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkYSwge1xuICBuYW1lOiAnTXVpUGlja2Vyc0Nsb2NrUG9pbnRlcidcbn0pKENsb2NrUG9pbnRlcik7XG5cbnZhciBDbG9jayA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhDbG9jaywgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDbG9jaygpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLmlzTW92aW5nID0gZmFsc2U7XG5cbiAgICBfdGhpcy5oYW5kbGVUb3VjaE1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuaXNNb3ZpbmcgPSB0cnVlO1xuXG4gICAgICBfdGhpcy5zZXRUaW1lKGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVUb3VjaEVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuaXNNb3ZpbmcpIHtcbiAgICAgICAgX3RoaXMuc2V0VGltZShlLCB0cnVlKTtcblxuICAgICAgICBfdGhpcy5pc01vdmluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIE1vdXNlRXZlbnQud2hpY2ggaXMgZGVwcmVjYXRlZCwgYnV0IE1vdXNlRXZlbnQuYnV0dG9ucyBpcyBub3Qgc3VwcG9ydGVkIGluIFNhZmFyaVxuXG4gICAgICB2YXIgaXNCdXR0b25QcmVzc2VkID0gdHlwZW9mIGUuYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcgPyBlLm5hdGl2ZUV2ZW50LndoaWNoID09PSAxIDogZS5idXR0b25zID09PSAxO1xuXG4gICAgICBpZiAoaXNCdXR0b25QcmVzc2VkKSB7XG4gICAgICAgIF90aGlzLnNldFRpbWUoZS5uYXRpdmVFdmVudCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5pc01vdmluZykge1xuICAgICAgICBfdGhpcy5pc01vdmluZyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRUaW1lKGUubmF0aXZlRXZlbnQsIHRydWUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYXNTZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICAgIHZhbHVlID0gX2EudmFsdWU7XG5cbiAgICAgIGlmICh0eXBlID09PSBDbG9ja1R5cGUkMS5IT1VSUykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlICUgNSA9PT0gMDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2xvY2sucHJvdG90eXBlLnNldFRpbWUgPSBmdW5jdGlvbiAoZSwgaXNGaW5pc2gpIHtcbiAgICBpZiAoaXNGaW5pc2ggPT09IHZvaWQgMCkge1xuICAgICAgaXNGaW5pc2ggPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgb2Zmc2V0WCA9IGUub2Zmc2V0WCxcbiAgICAgICAgb2Zmc2V0WSA9IGUub2Zmc2V0WTtcblxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0WCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciByZWN0ID0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBvZmZzZXRYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgb2Zmc2V0WSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIHJlY3QudG9wO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvcHMudHlwZSA9PT0gQ2xvY2tUeXBlJDEuU0VDT05EUyB8fCB0aGlzLnByb3BzLnR5cGUgPT09IENsb2NrVHlwZSQxLk1JTlVURVMgPyBnZXRNaW51dGVzKG9mZnNldFgsIG9mZnNldFkpIDogZ2V0SG91cnMob2Zmc2V0WCwgb2Zmc2V0WSwgQm9vbGVhbih0aGlzLnByb3BzLmFtcG0pKTtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHZhbHVlLCBpc0ZpbmlzaCk7XG4gIH07XG5cbiAgQ2xvY2sucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICBjbGFzc2VzID0gX2EuY2xhc3NlcyxcbiAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgdHlwZSA9IF9hLnR5cGUsXG4gICAgICAgIGFtcG0gPSBfYS5hbXBtO1xuICAgIHZhciBpc1BvaW50ZXJJbm5lciA9ICFhbXBtICYmIHR5cGUgPT09IENsb2NrVHlwZSQxLkhPVVJTICYmICh2YWx1ZSA8IDEgfHwgdmFsdWUgPiAxMik7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRhaW5lclxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNsb2NrXG4gICAgfSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICByb2xlOiBcIm1lbnVcIixcbiAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zcXVhcmVNYXNrLFxuICAgICAgb25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZCxcbiAgICAgIG9uTW91c2VVcDogdGhpcy5oYW5kbGVNb3VzZVVwLFxuICAgICAgb25Nb3VzZU1vdmU6IHRoaXMuaGFuZGxlTW92ZVxuICAgIH0pLCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5waW5cbiAgICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja1BvaW50ZXIkMSwge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlzSW5uZXI6IGlzUG9pbnRlcklubmVyLFxuICAgICAgaGFzU2VsZWN0ZWQ6IHRoaXMuaGFzU2VsZWN0ZWQoKVxuICAgIH0pLCBjaGlsZHJlbikpO1xuICB9O1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENsb2NrLnByb3BUeXBlcyA9IHtcbiAgICB0eXBlOiBvbmVPZihPYmplY3Qua2V5cyhDbG9ja1R5cGUkMSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBDbG9ja1R5cGUkMVtrZXldO1xuICAgIH0pKS5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHZhbHVlOiBudW1iZXIuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBhcnJheU9mKG5vZGUpLmlzUmVxdWlyZWQsXG4gICAgYW1wbTogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIENsb2NrLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbXBtOiBmYWxzZVxuICB9O1xuICByZXR1cm4gQ2xvY2s7XG59KENvbXBvbmVudCk7XG52YXIgc3R5bGVzJGIgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICBjb250YWluZXI6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCcsXG4gICAgICBtYXJnaW46IHRoZW1lLnNwYWNpbmcudW5pdCAqIDQgKyBcInB4IDAgXCIgKyB0aGVtZS5zcGFjaW5nLnVuaXQgKyBcInB4XCJcbiAgICB9LFxuICAgIGNsb2NrOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLC4wNyknLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgIGhlaWdodDogMjYwLFxuICAgICAgd2lkdGg6IDI2MCxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgekluZGV4OiAxXG4gICAgfSxcbiAgICBzcXVhcmVNYXNrOiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdhdXRvJyxcbiAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgIHRvdWNoQWN0aW9uczogJ25vbmUnLFxuICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgJyY6YWN0aXZlJzoge1xuICAgICAgICBjdXJzb3I6ICdtb3ZlJ1xuICAgICAgfVxuICAgIH0sXG4gICAgcGluOiB7XG4gICAgICB3aWR0aDogNixcbiAgICAgIGhlaWdodDogNixcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6ICc1MCUnLFxuICAgICAgbGVmdDogJzUwJScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknXG4gICAgfVxuICB9KTtcbn07XG52YXIgQ2xvY2skMSA9IHdpdGhTdHlsZXMkMShzdHlsZXMkYiwge1xuICBuYW1lOiAnTXVpUGlja2Vyc0Nsb2NrJ1xufSkoQ2xvY2spO1xuXG52YXIgcG9zaXRpb25zID0ge1xuICAwOiBbMCwgNDBdLFxuICAxOiBbNTUsIDE5LjZdLFxuICAyOiBbOTQuNCwgNTkuNV0sXG4gIDM6IFsxMDksIDExNF0sXG4gIDQ6IFs5NC40LCAxNjguNV0sXG4gIDU6IFs1NC41LCAyMDguNF0sXG4gIDY6IFswLCAyMjNdLFxuICA3OiBbLTU0LjUsIDIwOC40XSxcbiAgODogWy05NC40LCAxNjguNV0sXG4gIDk6IFstMTA5LCAxMTRdLFxuICAxMDogWy05NC40LCA1OS41XSxcbiAgMTE6IFstNTQuNSwgMTkuNl0sXG4gIDEyOiBbMCwgNV0sXG4gIDEzOiBbMzYuOSwgNDkuOV0sXG4gIDE0OiBbNjQsIDc3XSxcbiAgMTU6IFs3NCwgMTE0XSxcbiAgMTY6IFs2NCwgMTUxXSxcbiAgMTc6IFszNywgMTc4XSxcbiAgMTg6IFswLCAxODhdLFxuICAxOTogWy0zNywgMTc4XSxcbiAgMjA6IFstNjQsIDE1MV0sXG4gIDIxOiBbLTc0LCAxMTRdLFxuICAyMjogWy02NCwgNzddLFxuICAyMzogWy0zNywgNTBdXG59O1xuXG52YXIgQ2xvY2tOdW1iZXIgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQ2xvY2tOdW1iZXIsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gQ2xvY2tOdW1iZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5nZXRUcmFuc2Zvcm1TdHlsZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gcG9zaXRpb25zW2luZGV4XTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoXCIgKyBwb3NpdGlvblswXSArIFwicHgsIFwiICsgcG9zaXRpb25bMV0gKyBcInB4XCJcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIENsb2NrTnVtYmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgc2VsZWN0ZWQgPSBfYi5zZWxlY3RlZCxcbiAgICAgICAgbGFiZWwgPSBfYi5sYWJlbCxcbiAgICAgICAgaW5kZXggPSBfYi5pbmRleCxcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIGlzSW5uZXIgPSBfYi5pc0lubmVyO1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc25hbWVzKGNsYXNzZXMuY2xvY2tOdW1iZXIsIChfYSA9IHt9LCBfYVtjbGFzc2VzLnNlbGVjdGVkXSA9IHNlbGVjdGVkLCBfYSkpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHtcbiAgICAgIHZhcmlhbnQ6IGlzSW5uZXIgPyAnYm9keTEnIDogJ3N1YnRpdGxlMScsXG4gICAgICBjb21wb25lbnQ6IFwic3BhblwiLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogdGhpcy5nZXRUcmFuc2Zvcm1TdHlsZShpbmRleClcbiAgICB9LCBsYWJlbCk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQ2xvY2tOdW1iZXIucHJvcFR5cGVzID0ge1xuICAgIGluZGV4OiBudW1iZXIuaXNSZXF1aXJlZCxcbiAgICBsYWJlbDogc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgc2VsZWN0ZWQ6IGJvb2wuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpc0lubmVyOiBib29sLFxuICAgIGlubmVyUmVmOiBhbnlcbiAgfSA6IHZvaWQgMDtcbiAgQ2xvY2tOdW1iZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGlzSW5uZXI6IGZhbHNlXG4gIH07XG4gIHJldHVybiBDbG9ja051bWJlcjtcbn0oQ29tcG9uZW50KTtcbnZhciBzdHlsZXMkYyA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICB2YXIgc2l6ZSA9IHRoZW1lLnNwYWNpbmcudW5pdCAqIDQ7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgY2xvY2tOdW1iZXI6IHtcbiAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBsZWZ0OiBcImNhbGMoNTAlIC0gXCIgKyBzaXplIC8gMiArIFwicHgpXCIsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0JyA/IHRoZW1lLnBhbGV0dGUudGV4dC5wcmltYXJ5IDogdGhlbWUucGFsZXR0ZS50ZXh0LmhpbnRcbiAgICB9LFxuICAgIHNlbGVjdGVkOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGVcbiAgICB9XG4gIH0pO1xufTtcbnZhciBDbG9ja051bWJlciQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyRjLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJzQ2xvY2tOdW1iZXInXG59KShDbG9ja051bWJlcik7XG5cbnZhciBnZXRIb3VyTnVtYmVycyA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgYW1wbSA9IF9hLmFtcG0sXG4gICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgZGF0ZSA9IF9hLmRhdGU7XG4gIHZhciBjdXJyZW50SG91cnMgPSB1dGlscy5nZXRIb3VycyhkYXRlKTtcbiAgdmFyIGhvdXJOdW1iZXJzID0gW107XG4gIHZhciBzdGFydEhvdXIgPSBhbXBtID8gMSA6IDA7XG4gIHZhciBlbmRIb3VyID0gYW1wbSA/IDEyIDogMjM7XG5cbiAgdmFyIGlzU2VsZWN0ZWQgPSBmdW5jdGlvbiAoaG91cikge1xuICAgIGlmIChhbXBtKSB7XG4gICAgICBpZiAoaG91ciA9PT0gMTIpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRIb3VycyA9PT0gMTIgfHwgY3VycmVudEhvdXJzID09PSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3VycmVudEhvdXJzID09PSBob3VyIHx8IGN1cnJlbnRIb3VycyAtIDEyID09PSBob3VyO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50SG91cnMgPT09IGhvdXI7XG4gIH07XG5cbiAgZm9yICh2YXIgaG91ciA9IHN0YXJ0SG91cjsgaG91ciA8PSBlbmRIb3VyOyBob3VyICs9IDEpIHtcbiAgICB2YXIgbGFiZWwgPSBob3VyLnRvU3RyaW5nKCk7XG5cbiAgICBpZiAoaG91ciA9PT0gMCkge1xuICAgICAgbGFiZWwgPSAnMDAnO1xuICAgIH1cblxuICAgIHZhciBwcm9wcyA9IHtcbiAgICAgIGluZGV4OiBob3VyLFxuICAgICAgbGFiZWw6IHV0aWxzLmZvcm1hdE51bWJlcihsYWJlbCksXG4gICAgICBzZWxlY3RlZDogaXNTZWxlY3RlZChob3VyKSxcbiAgICAgIGlzSW5uZXI6ICFhbXBtICYmIChob3VyID09PSAwIHx8IGhvdXIgPiAxMilcbiAgICB9O1xuICAgIGhvdXJOdW1iZXJzLnB1c2goY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCBfX2Fzc2lnbih7XG4gICAgICBrZXk6IGhvdXJcbiAgICB9LCBwcm9wcykpKTtcbiAgfVxuXG4gIHJldHVybiBob3VyTnVtYmVycztcbn07XG52YXIgZ2V0TWludXRlc051bWJlcnMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICB2YXIgZiA9IHV0aWxzLmZvcm1hdE51bWJlcjtcbiAgcmV0dXJuIFtjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMDAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDAsXG4gICAgaW5kZXg6IDEyLFxuICAgIGtleTogMTJcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcwNScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNSxcbiAgICBpbmRleDogMSxcbiAgICBrZXk6IDFcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcxMCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMTAsXG4gICAgaW5kZXg6IDIsXG4gICAga2V5OiAyXG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMTUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDE1LFxuICAgIGluZGV4OiAzLFxuICAgIGtleTogM1xuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzIwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAyMCxcbiAgICBpbmRleDogNCxcbiAgICBrZXk6IDRcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCcyNScpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gMjUsXG4gICAgaW5kZXg6IDUsXG4gICAga2V5OiA1XG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignMzAnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDMwLFxuICAgIGluZGV4OiA2LFxuICAgIGtleTogNlxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzM1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSAzNSxcbiAgICBpbmRleDogNyxcbiAgICBrZXk6IDdcbiAgfSksIGNyZWF0ZUVsZW1lbnQoQ2xvY2tOdW1iZXIkMSwge1xuICAgIGxhYmVsOiBmKCc0MCcpLFxuICAgIHNlbGVjdGVkOiB2YWx1ZSA9PT0gNDAsXG4gICAgaW5kZXg6IDgsXG4gICAga2V5OiA4XG4gIH0pLCBjcmVhdGVFbGVtZW50KENsb2NrTnVtYmVyJDEsIHtcbiAgICBsYWJlbDogZignNDUnKSxcbiAgICBzZWxlY3RlZDogdmFsdWUgPT09IDQ1LFxuICAgIGluZGV4OiA5LFxuICAgIGtleTogOVxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzUwJyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA1MCxcbiAgICBpbmRleDogMTAsXG4gICAga2V5OiAxMFxuICB9KSwgY3JlYXRlRWxlbWVudChDbG9ja051bWJlciQxLCB7XG4gICAgbGFiZWw6IGYoJzU1JyksXG4gICAgc2VsZWN0ZWQ6IHZhbHVlID09PSA1NSxcbiAgICBpbmRleDogMTEsXG4gICAga2V5OiAxMVxuICB9KV07XG59O1xuXG52YXIgVGltZVBpY2tlclZpZXcgPVxuLypAX19QVVJFX18qL1xuZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoVGltZVBpY2tlclZpZXcsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gVGltZVBpY2tlclZpZXcoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5nZXRWaWV3UHJvcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgICBhbXBtID0gX2EuYW1wbSxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuXG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBDbG9ja1R5cGUkMS5IT1VSUzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHV0aWxzLmdldEhvdXJzKGRhdGUpLFxuICAgICAgICAgICAgY2hpbGRyZW46IGdldEhvdXJOdW1iZXJzKHtcbiAgICAgICAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgICAgICAgYW1wbTogQm9vbGVhbihhbXBtKSxcbiAgICAgICAgICAgICAgdXRpbHM6IHV0aWxzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVIb3VyQ2hhbmdlXG4gICAgICAgICAgfTtcblxuICAgICAgICBjYXNlIENsb2NrVHlwZSQxLk1JTlVURVM6XG4gICAgICAgICAgdmFyIG1pbnV0ZXNWYWx1ZSA9IHV0aWxzLmdldE1pbnV0ZXMoZGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBtaW51dGVzVmFsdWUsXG4gICAgICAgICAgICBjaGlsZHJlbjogZ2V0TWludXRlc051bWJlcnMoe1xuICAgICAgICAgICAgICB2YWx1ZTogbWludXRlc1ZhbHVlLFxuICAgICAgICAgICAgICB1dGlsczogdXRpbHNcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzLmhhbmRsZU1pbnV0ZXNDaGFuZ2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgQ2xvY2tUeXBlJDEuU0VDT05EUzpcbiAgICAgICAgICB2YXIgc2Vjb25kc1ZhbHVlID0gdXRpbHMuZ2V0U2Vjb25kcyhkYXRlKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHNlY29uZHNWYWx1ZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBnZXRNaW51dGVzTnVtYmVycyh7XG4gICAgICAgICAgICAgIHZhbHVlOiBzZWNvbmRzVmFsdWUsXG4gICAgICAgICAgICAgIHV0aWxzOiB1dGlsc1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMuaGFuZGxlU2Vjb25kc0NoYW5nZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHByb3ZpZGUgdGhlIHR5cGUgZm9yIFRpbWVQaWNrZXJWaWV3Jyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUhvdXJDaGFuZ2UgPSBmdW5jdGlvbiAoaG91cnMsIGlzRmluaXNoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIHVwZGF0ZWRUaW1lID0gdXRpbHMuc2V0SG91cnMoZGF0ZSwgaG91cnMpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkhvdXJDaGFuZ2UodXBkYXRlZFRpbWUsIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTWludXRlc0NoYW5nZSA9IGZ1bmN0aW9uIChtaW51dGVzLCBpc0ZpbmlzaCkge1xuICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGF0ZSA9IF9hLmRhdGUsXG4gICAgICAgICAgdXRpbHMgPSBfYS51dGlscztcbiAgICAgIHZhciB1cGRhdGVkVGltZSA9IHV0aWxzLnNldE1pbnV0ZXMoZGF0ZSwgbWludXRlcyk7XG5cbiAgICAgIF90aGlzLnByb3BzLm9uTWludXRlc0NoYW5nZSh1cGRhdGVkVGltZSwgaXNGaW5pc2gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVTZWNvbmRzQ2hhbmdlID0gZnVuY3Rpb24gKHNlY29uZHMsIGlzRmluaXNoKSB7XG4gICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRlID0gX2EuZGF0ZSxcbiAgICAgICAgICB1dGlscyA9IF9hLnV0aWxzO1xuICAgICAgdmFyIHVwZGF0ZWRUaW1lID0gdXRpbHMuc2V0U2Vjb25kcyhkYXRlLCBzZWNvbmRzKTtcblxuICAgICAgX3RoaXMucHJvcHMub25TZWNvbmRzQ2hhbmdlKHVwZGF0ZWRUaW1lLCBpc0ZpbmlzaCk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRpbWVQaWNrZXJWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgYW1wbSA9IF9hLmFtcG0sXG4gICAgICAgIHR5cGUgPSBfYS50eXBlO1xuICAgIHZhciB2aWV3UHJvcHMgPSB0aGlzLmdldFZpZXdQcm9wcygpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KENsb2NrJDEsIF9fYXNzaWduKHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBhbXBtOiBhbXBtXG4gICAgfSwgdmlld1Byb3BzKSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVGltZVBpY2tlclZpZXcucHJvcFR5cGVzID0ge1xuICAgIGRhdGU6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uSG91ckNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uTWludXRlc0NoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uU2Vjb25kc0NoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIHV0aWxzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbXBtOiBib29sLFxuICAgIHR5cGU6IG9uZU9mKE9iamVjdC5rZXlzKENsb2NrVHlwZSQxKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIENsb2NrVHlwZSQxW2tleV07XG4gICAgfSkpLmlzUmVxdWlyZWRcbiAgfSA6IHZvaWQgMDtcbiAgVGltZVBpY2tlclZpZXcuZGVmYXVsdFByb3BzID0ge1xuICAgIGFtcG06IHRydWVcbiAgfTtcbiAgcmV0dXJuIFRpbWVQaWNrZXJWaWV3O1xufShQdXJlQ29tcG9uZW50KTtcbnZhciBUaW1lUGlja2VyVmlldyQxID0gd2l0aFV0aWxzKCkoVGltZVBpY2tlclZpZXcpO1xuXG52YXIgVGltZVBpY2tlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhUaW1lUGlja2VyLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFRpbWVQaWNrZXIoKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5IT1VSUyxcbiAgICAgIG1lcmlkaWVtTW9kZTogX3RoaXMucHJvcHMudXRpbHMuZ2V0SG91cnMoX3RoaXMucHJvcHMuZGF0ZSkgPj0gMTIgPyAncG0nIDogJ2FtJ1xuICAgIH07XG5cbiAgICBfdGhpcy5zZXRNZXJpZGllbU1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1lcmlkaWVtTW9kZTogbW9kZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNoYW5nZSh7XG4gICAgICAgICAgICB0aW1lOiBfdGhpcy5wcm9wcy5kYXRlLFxuICAgICAgICAgICAgaXNGaW5pc2g6IGZhbHNlLFxuICAgICAgICAgICAgb3Blbk1pbnV0ZXM6IGZhbHNlLFxuICAgICAgICAgICAgb3BlblNlY29uZHM6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICB2YXIgdGltZSA9IF9hLnRpbWUsXG4gICAgICAgICAgaXNGaW5pc2ggPSBfYS5pc0ZpbmlzaCxcbiAgICAgICAgICBvcGVuTWludXRlcyA9IF9hLm9wZW5NaW51dGVzLFxuICAgICAgICAgIG9wZW5TZWNvbmRzID0gX2Eub3BlblNlY29uZHM7XG4gICAgICB2YXIgd2l0aE1lcmlkaWVtID0gY29udmVydFRvTWVyaWRpZW0odGltZSwgX3RoaXMuc3RhdGUubWVyaWRpZW1Nb2RlLCBCb29sZWFuKF90aGlzLnByb3BzLmFtcG0pLCBfdGhpcy5wcm9wcy51dGlscyk7XG5cbiAgICAgIGlmIChpc0ZpbmlzaCkge1xuICAgICAgICBpZiAoIW9wZW5NaW51dGVzICYmICFvcGVuU2Vjb25kcykge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHdpdGhNZXJpZGllbSwgaXNGaW5pc2gpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZW5NaW51dGVzKSB7XG4gICAgICAgICAgX3RoaXMub3Blbk1pbnV0ZXNWaWV3KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlblNlY29uZHMpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuU2Vjb25kc1ZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh3aXRoTWVyaWRpZW0sIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlSG91ckNoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgaXNGaW5pc2g6IGlzRmluaXNoLFxuICAgICAgICBvcGVuTWludXRlczogdHJ1ZSxcbiAgICAgICAgb3BlblNlY29uZHM6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlTWludXRlc0NoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgaXNGaW5pc2g6IGlzRmluaXNoLFxuICAgICAgICBvcGVuTWludXRlczogZmFsc2UsXG4gICAgICAgIG9wZW5TZWNvbmRzOiBCb29sZWFuKF90aGlzLnByb3BzLnNlY29uZHMpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlU2Vjb25kc0NoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgaXNGaW5pc2g6IGlzRmluaXNoLFxuICAgICAgICBvcGVuTWludXRlczogZmFsc2UsXG4gICAgICAgIG9wZW5TZWNvbmRzOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5TZWNvbmRzVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3BlblZpZXc6IENsb2NrVHlwZSQxLlNFQ09ORFNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuTWludXRlc1ZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wZW5WaWV3OiBDbG9ja1R5cGUkMS5NSU5VVEVTXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbkhvdXJWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuVmlldzogQ2xvY2tUeXBlJDEuSE9VUlNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUaW1lUGlja2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF9iID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NlcyA9IF9iLmNsYXNzZXMsXG4gICAgICAgIHRoZW1lID0gX2IudGhlbWUsXG4gICAgICAgIGRhdGUgPSBfYi5kYXRlLFxuICAgICAgICB1dGlscyA9IF9iLnV0aWxzLFxuICAgICAgICBhbXBtID0gX2IuYW1wbSxcbiAgICAgICAgc2Vjb25kcyA9IF9iLnNlY29uZHM7XG4gICAgdmFyIF9jID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgbWVyaWRpZW1Nb2RlID0gX2MubWVyaWRpZW1Nb2RlLFxuICAgICAgICBvcGVuVmlldyA9IF9jLm9wZW5WaWV3O1xuICAgIHZhciBydGwgPSB0aGVtZS5kaXJlY3Rpb24gPT09ICdydGwnO1xuICAgIHZhciBob3VyTWludXRlQ2xhc3NOYW1lID0gcnRsID8gY2xhc3Nlcy5ob3VyTWludXRlTGFiZWxSZXZlcnNlIDogY2xhc3Nlcy5ob3VyTWludXRlTGFiZWw7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGNyZWF0ZUVsZW1lbnQoUGlja2VyVG9vbGJhciQxLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy50b29sYmFyLCAoX2EgPSB7fSwgX2FbY2xhc3Nlcy50b29sYmFyTGVmdFBhZGRpbmddID0gYW1wbSwgX2EpKVxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBob3VyTWludXRlQ2xhc3NOYW1lXG4gICAgfSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIHZhcmlhbnQ6IFwiaDJcIixcbiAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbkhvdXJWaWV3LFxuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBDbG9ja1R5cGUkMS5IT1VSUyxcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRIb3VyVGV4dChkYXRlLCBCb29sZWFuKGFtcG0pKVxuICAgIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgbGFiZWw6IFwiOlwiLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlcGFyYXRvclxuICAgIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgdmFyaWFudDogXCJoMlwiLFxuICAgICAgb25DbGljazogdGhpcy5vcGVuTWludXRlc1ZpZXcsXG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IENsb2NrVHlwZSQxLk1JTlVURVMsXG4gICAgICBsYWJlbDogdXRpbHMuZ2V0TWludXRlVGV4dChkYXRlKVxuICAgIH0pLCBzZWNvbmRzICYmIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBsYWJlbDogXCI6XCIsXG4gICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzZXMuc2VwYXJhdG9yXG4gICAgfSksIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgICB2YXJpYW50OiBcImgyXCIsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9wZW5TZWNvbmRzVmlldyxcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gQ2xvY2tUeXBlJDEuU0VDT05EUyxcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRTZWNvbmRUZXh0KGRhdGUpXG4gICAgfSkpKSwgYW1wbSAmJiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogc2Vjb25kcyA/IGNsYXNzZXMuYW1wbVNlbGVjdGlvbldpdGhTZWNvbmRzIDogY2xhc3Nlcy5hbXBtU2VsZWN0aW9uXG4gICAgfSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hbXBtTGFiZWwsXG4gICAgICBzZWxlY3RlZDogbWVyaWRpZW1Nb2RlID09PSAnYW0nLFxuICAgICAgdmFyaWFudDogXCJzdWJ0aXRsZTFcIixcbiAgICAgIGxhYmVsOiB1dGlscy5nZXRNZXJpZGllbVRleHQoJ2FtJyksXG4gICAgICBvbkNsaWNrOiB0aGlzLnNldE1lcmlkaWVtTW9kZSgnYW0nKVxuICAgIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICAgIHNlbGVjdGVkOiBtZXJpZGllbU1vZGUgPT09ICdwbScsXG4gICAgICB2YXJpYW50OiBcInN1YnRpdGxlMVwiLFxuICAgICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgncG0nKSxcbiAgICAgIG9uQ2xpY2s6IHRoaXMuc2V0TWVyaWRpZW1Nb2RlKCdwbScpXG4gICAgfSkpKSwgdGhpcy5wcm9wcy5jaGlsZHJlbiwgY3JlYXRlRWxlbWVudChUaW1lUGlja2VyVmlldyQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgdHlwZTogdGhpcy5zdGF0ZS5vcGVuVmlldyxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBvbkhvdXJDaGFuZ2U6IHRoaXMuaGFuZGxlSG91ckNoYW5nZSxcbiAgICAgIG9uTWludXRlc0NoYW5nZTogdGhpcy5oYW5kbGVNaW51dGVzQ2hhbmdlLFxuICAgICAgb25TZWNvbmRzQ2hhbmdlOiB0aGlzLmhhbmRsZVNlY29uZHNDaGFuZ2VcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVGltZVBpY2tlci5wcm9wVHlwZXMgPSB7XG4gICAgZGF0ZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IG5vZGUsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGFtcG06IGJvb2wsXG4gICAgc2Vjb25kczogYm9vbCxcbiAgICBpbm5lclJlZjogYW55XG4gIH0gOiB2b2lkIDA7XG4gIFRpbWVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGNoaWxkcmVuOiBudWxsLFxuICAgIGFtcG06IHRydWUsXG4gICAgc2Vjb25kczogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIFRpbWVQaWNrZXI7XG59KENvbXBvbmVudCk7XG52YXIgc3R5bGVzJGQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZXMkMSh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgIH0sXG4gICAgdG9vbGJhckxlZnRQYWRkaW5nOiB7XG4gICAgICBwYWRkaW5nTGVmdDogNTBcbiAgICB9LFxuICAgIHNlcGFyYXRvcjoge1xuICAgICAgbWFyZ2luOiAnMCA0cHggMCAycHgnLFxuICAgICAgY3Vyc29yOiAnZGVmYXVsdCdcbiAgICB9LFxuICAgIGFtcG1TZWxlY3Rpb246IHtcbiAgICAgIG1hcmdpbkxlZnQ6IDIwLFxuICAgICAgbWFyZ2luUmlnaHQ6IC0yMFxuICAgIH0sXG4gICAgYW1wbVNlbGVjdGlvbldpdGhTZWNvbmRzOiB7XG4gICAgICBtYXJnaW5MZWZ0OiAxNSxcbiAgICAgIG1hcmdpblJpZ2h0OiAxMFxuICAgIH0sXG4gICAgYW1wbUxhYmVsOiB7XG4gICAgICBmb250U2l6ZTogMThcbiAgICB9LFxuICAgIGhvdXJNaW51dGVMYWJlbDoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnXG4gICAgfSxcbiAgICBob3VyTWludXRlTGFiZWxSZXZlcnNlOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnXG4gICAgfVxuICB9KTtcbn07XG52YXIgVGltZVBpY2tlciQxID0gd2l0aFN0eWxlcyQxKHN0eWxlcyRkLCB7XG4gIHdpdGhUaGVtZTogdHJ1ZSxcbiAgbmFtZTogJ011aVBpY2tlcnNUaW1lUGlja2VyJ1xufSkod2l0aFV0aWxzKCkoVGltZVBpY2tlcikpO1xuXG52YXIgVGltZVBpY2tlck1vZGFsID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgZm9yd2FyZGVkUmVmID0gcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgc2Vjb25kcyA9IHByb3BzLnNlY29uZHMsXG4gICAgICBvdGhlciA9IF9fcmVzdChwcm9wcywgW1widmFsdWVcIiwgXCJmb3JtYXRcIiwgXCJhdXRvT2tcIiwgXCJvbkNoYW5nZVwiLCBcImFtcG1cIiwgXCJmb3J3YXJkZWRSZWZcIiwgXCJzZWNvbmRzXCJdKTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChCYXNlUGlja2VyJDEsIF9fYXNzaWduKHtcbiAgICBtZXJnZVByZXZpb3VzRGF0ZU9uQ2hhbmdlOiB0cnVlXG4gIH0sIHByb3BzKSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlQ2xlYXIgPSBfYS5oYW5kbGVDbGVhcixcbiAgICAgICAgaGFuZGxlRGlzbWlzcyA9IF9hLmhhbmRsZURpc21pc3MsXG4gICAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZSA9IF9hLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgcGljazEyaE9yMjRoRm9ybWF0ID0gX2EucGljazEyaE9yMjRoRm9ybWF0O1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KE1vZGFsV3JhcHBlciwgX19hc3NpZ24oe1xuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBvbkNsZWFyOiBoYW5kbGVDbGVhcixcbiAgICAgIG9uQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgb25EaXNtaXNzOiBoYW5kbGVEaXNtaXNzLFxuICAgICAgb25TZXRUb2RheTogaGFuZGxlU2V0VG9kYXlEYXRlLFxuICAgICAgaXNBY2NlcHRlZDogaXNBY2NlcHRlZCxcbiAgICAgIGZvcm1hdDogcGljazEyaE9yMjRoRm9ybWF0KHV0aWxzLnRpbWUxMmhGb3JtYXQsIHV0aWxzLnRpbWUyNGhGb3JtYXQpXG4gICAgfSwgb3RoZXIpLCBjcmVhdGVFbGVtZW50KFRpbWVQaWNrZXIkMSwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgc2Vjb25kczogc2Vjb25kc1xuICAgIH0pKTtcbiAgfSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVGltZVBpY2tlck1vZGFsLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgYXV0b09rOiBib29sLFxuICBhbXBtOiBib29sLFxuICBzZWNvbmRzOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5UaW1lUGlja2VyTW9kYWwuZGVmYXVsdFByb3BzID0ge1xuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIGF1dG9PazogZmFsc2UsXG4gIGFtcG06IHRydWUsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkLFxuICBzZWNvbmRzOiBmYWxzZVxufTtcbnZhciBUaW1lUGlja2VyTW9kYWwkMSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoVGltZVBpY2tlck1vZGFsLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIFRpbWVQaWNrZXJJbmxpbmUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgYW1wbSA9IHByb3BzLmFtcG0sXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBzZWNvbmRzID0gcHJvcHMuc2Vjb25kcyxcbiAgICAgIG90aGVyID0gX19yZXN0KHByb3BzLCBbXCJ2YWx1ZVwiLCBcImZvcm1hdFwiLCBcIm9uQ2hhbmdlXCIsIFwiYW1wbVwiLCBcImZvcndhcmRlZFJlZlwiLCBcInNlY29uZHNcIl0pO1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KEJhc2VQaWNrZXIkMSwgX19hc3NpZ24oe1xuICAgIG1lcmdlUHJldmlvdXNEYXRlT25DaGFuZ2U6IHRydWUsXG4gICAgYXV0b09rOiB0cnVlXG4gIH0sIHByb3BzKSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdCA9IF9hLnBpY2sxMmhPcjI0aEZvcm1hdCxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0O1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KElubGluZVdyYXBwZXIkMSwgX19hc3NpZ24oe1xuICAgICAgaW5uZXJSZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgaGFuZGxlQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy50aW1lMTJoRm9ybWF0LCB1dGlscy50aW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgY3JlYXRlRWxlbWVudChUaW1lUGlja2VyJDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgYW1wbTogYW1wbSxcbiAgICAgIHNlY29uZHM6IHNlY29uZHNcbiAgICB9KSk7XG4gIH0pO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRpbWVQaWNrZXJJbmxpbmUucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIGZvcm1hdDogc3RyaW5nLFxuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBhbXBtOiBib29sLFxuICBzZWNvbmRzOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5UaW1lUGlja2VySW5saW5lLmRlZmF1bHRQcm9wcyA9IHtcbiAgYW1wbTogdHJ1ZSxcbiAgdmFsdWU6IG5ldyBEYXRlKCksXG4gIGZvcm1hdDogdW5kZWZpbmVkLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgc2Vjb25kczogZmFsc2Vcbn07XG52YXIgVGltZVBpY2tlcklubGluZSQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChUaW1lUGlja2VySW5saW5lLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIERhdGVUaW1lUGlja2VyVmlldztcblxuKGZ1bmN0aW9uIChEYXRlVGltZVBpY2tlclZpZXcpIHtcbiAgRGF0ZVRpbWVQaWNrZXJWaWV3W1wiWUVBUlwiXSA9IFwieWVhclwiO1xuICBEYXRlVGltZVBpY2tlclZpZXdbXCJEQVRFXCJdID0gXCJkYXRlXCI7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIkhPVVJcIl0gPSBcImhvdXJzXCI7XG4gIERhdGVUaW1lUGlja2VyVmlld1tcIk1JTlVURVNcIl0gPSBcIm1pbnV0ZXNcIjtcbn0pKERhdGVUaW1lUGlja2VyVmlldyB8fCAoRGF0ZVRpbWVQaWNrZXJWaWV3ID0ge30pKTtcblxudmFyIERhdGVUaW1lUGlja2VyVmlldyQxID0gRGF0ZVRpbWVQaWNrZXJWaWV3O1xuXG52YXIgc3R5bGVzJGUgPSBmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlcyQxKHtcbiAgICB0b29sYmFyOiB7XG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgcGFkZGluZ0xlZnQ6IDE2LFxuICAgICAgcGFkZGluZ1JpZ2h0OiAxNixcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYXJvdW5kJ1xuICAgIH0sXG4gICAgc2VwYXJhdG9yOiB7XG4gICAgICBtYXJnaW46ICcwIDRweCAwIDJweCcsXG4gICAgICBjdXJzb3I6ICdkZWZhdWx0J1xuICAgIH0sXG4gICAgYW1wbVNlbGVjdGlvbjoge1xuICAgICAgdG9wOiA5LFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICBtYXJnaW5MZWZ0OiAxMCxcbiAgICAgIG1hcmdpblJpZ2h0OiAtMTBcbiAgICB9LFxuICAgIGFtcG1MYWJlbDoge1xuICAgICAgZm9udFNpemU6IDE4XG4gICAgfSxcbiAgICBob3VyTWludXRlTGFiZWw6IHtcbiAgICAgIHRvcDogNSxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnLFxuICAgICAgZmxleERpcmVjdGlvbjogdGhlbWUuZGlyZWN0aW9uID09PSAncnRsJyA/ICdyb3ctcmV2ZXJzZScgOiAncm93J1xuICAgIH0sXG4gICAgZGF0ZUhlYWRlcjoge1xuICAgICAgaGVpZ2h0OiA2MFxuICAgIH0sXG4gICAgdGltZUhlYWRlcjoge1xuICAgICAgaGVpZ2h0OiA2NSxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJ1xuICAgIH1cbiAgfSk7XG59O1xudmFyIERhdGVUaW1lUGlja2VySGVhZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gIHZhciBkYXRlID0gX2EuZGF0ZSxcbiAgICAgIGNsYXNzZXMgPSBfYS5jbGFzc2VzLFxuICAgICAgb3BlblZpZXcgPSBfYS5vcGVuVmlldyxcbiAgICAgIG1lcmlkaWVtTW9kZSA9IF9hLm1lcmlkaWVtTW9kZSxcbiAgICAgIG9uT3BlblZpZXdDaGFuZ2UgPSBfYS5vbk9wZW5WaWV3Q2hhbmdlLFxuICAgICAgc2V0TWVyaWRpZW1Nb2RlID0gX2Euc2V0TWVyaWRpZW1Nb2RlLFxuICAgICAgdXRpbHMgPSBfYS51dGlscyxcbiAgICAgIGFtcG0gPSBfYS5hbXBtO1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChQaWNrZXJUb29sYmFyJDEsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudG9vbGJhclxuICB9LCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuZGF0ZUhlYWRlclxuICB9LCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuWUVBUik7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLllFQVIsXG4gICAgbGFiZWw6IHV0aWxzLmdldFllYXJUZXh0KGRhdGUpXG4gIH0pLCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgIHZhcmlhbnQ6IFwiaDRcIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gb25PcGVuVmlld0NoYW5nZShEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFKTtcbiAgICB9LFxuICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURSxcbiAgICBsYWJlbDogdXRpbHMuZ2V0RGF0ZVRpbWVQaWNrZXJIZWFkZXJUZXh0KGRhdGUpXG4gIH0pKSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRpbWVIZWFkZXJcbiAgfSwgY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmhvdXJNaW51dGVMYWJlbFxuICB9LCBjcmVhdGVFbGVtZW50KFRvb2xiYXJCdXR0b24kMSwge1xuICAgIHZhcmlhbnQ6IFwiaDNcIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gb25PcGVuVmlld0NoYW5nZShEYXRlVGltZVBpY2tlclZpZXckMS5IT1VSKTtcbiAgICB9LFxuICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuSE9VUixcbiAgICBsYWJlbDogdXRpbHMuZ2V0SG91clRleHQoZGF0ZSwgYW1wbSlcbiAgfSksIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgdmFyaWFudDogXCJoM1wiLFxuICAgIGxhYmVsOiBcIjpcIixcbiAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnNlcGFyYXRvclxuICB9KSwgY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uJDEsIHtcbiAgICB2YXJpYW50OiBcImgzXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uT3BlblZpZXdDaGFuZ2UoRGF0ZVRpbWVQaWNrZXJWaWV3JDEuTUlOVVRFUyk7XG4gICAgfSxcbiAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVMsXG4gICAgbGFiZWw6IHV0aWxzLmdldE1pbnV0ZVRleHQoZGF0ZSlcbiAgfSkpLCBhbXBtICYmIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hbXBtU2VsZWN0aW9uXG4gIH0sIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICBzZWxlY3RlZDogbWVyaWRpZW1Nb2RlID09PSAnYW0nLFxuICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgnYW0nKSxcbiAgICBvbkNsaWNrOiBzZXRNZXJpZGllbU1vZGUoJ2FtJylcbiAgfSksIGNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbiQxLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFtcG1MYWJlbCxcbiAgICBzZWxlY3RlZDogbWVyaWRpZW1Nb2RlID09PSAncG0nLFxuICAgIHZhcmlhbnQ6IFwic3VidGl0bGUxXCIsXG4gICAgbGFiZWw6IHV0aWxzLmdldE1lcmlkaWVtVGV4dCgncG0nKSxcbiAgICBvbkNsaWNrOiBzZXRNZXJpZGllbU1vZGUoJ3BtJylcbiAgfSkpKSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVRpbWVQaWNrZXJIZWFkZXIucHJvcFR5cGVzID0ge1xuICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgY2xhc3Nlczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIG1lcmlkaWVtTW9kZTogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9wZW5WaWV3OiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgb25PcGVuVmlld0NoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICBzZXRNZXJpZGllbU1vZGU6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICBhbXBtOiBib29sLFxuICBpbm5lclJlZjogYW55XG59IDogdm9pZCAwO1xuRGF0ZVRpbWVQaWNrZXJIZWFkZXIuZGVmYXVsdFByb3BzID0ge1xuICBhbXBtOiB0cnVlXG59O1xudmFyIERhdGV0aW1lUGlja2VySGVhZGVyID0gd2l0aFN0eWxlcyQxKHN0eWxlcyRlLCB7XG4gIG5hbWU6ICdNdWlQaWNrZXJEVEhlYWRlcidcbn0pKHdpdGhVdGlscygpKERhdGVUaW1lUGlja2VySGVhZGVyKSk7XG5cbnZhciB2aWV3VG9UYWJJbmRleCA9IGZ1bmN0aW9uIChvcGVuVmlldykge1xuICBpZiAob3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEUgfHwgb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLllFQVIpIHtcbiAgICByZXR1cm4gJ2RhdGUnO1xuICB9XG5cbiAgcmV0dXJuICd0aW1lJztcbn07XG5cbnZhciB0YWJJbmRleFRvVmlldyA9IGZ1bmN0aW9uICh0YWIpIHtcbiAgaWYgKHRhYiA9PT0gJ2RhdGUnKSB7XG4gICAgcmV0dXJuIERhdGVUaW1lUGlja2VyVmlldyQxLkRBVEU7XG4gIH1cblxuICByZXR1cm4gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuSE9VUjtcbn07XG5cbnZhciBEYXRlVGltZVBpY2tlclRhYnMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIHZpZXcgPSBwcm9wcy52aWV3LFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIGNsYXNzZXMgPSBwcm9wcy5jbGFzc2VzLFxuICAgICAgdGhlbWUgPSBwcm9wcy50aGVtZSxcbiAgICAgIGRhdGVSYW5nZUljb24gPSBwcm9wcy5kYXRlUmFuZ2VJY29uLFxuICAgICAgdGltZUljb24gPSBwcm9wcy50aW1lSWNvbjtcbiAgdmFyIGluZGljYXRvckNvbG9yID0gdGhlbWUucGFsZXR0ZS50eXBlID09PSAnbGlnaHQnID8gJ3NlY29uZGFyeScgOiAncHJpbWFyeSc7XG5cbiAgdmFyIGhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdmlld1RvVGFiSW5kZXgodmlldykpIHtcbiAgICAgIG9uQ2hhbmdlKHRhYkluZGV4VG9WaWV3KHZhbHVlKSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFBhcGVyLCBudWxsLCBjcmVhdGVFbGVtZW50KFRhYnMsIHtcbiAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgdmFsdWU6IHZpZXdUb1RhYkluZGV4KHZpZXcpLFxuICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRhYnMsXG4gICAgaW5kaWNhdG9yQ29sb3I6IGluZGljYXRvckNvbG9yXG4gIH0sIGNyZWF0ZUVsZW1lbnQoVGFiLCB7XG4gICAgdmFsdWU6IFwiZGF0ZVwiLFxuICAgIGljb246IGNyZWF0ZUVsZW1lbnQoSWNvbiwgbnVsbCwgZGF0ZVJhbmdlSWNvbilcbiAgfSksIGNyZWF0ZUVsZW1lbnQoVGFiLCB7XG4gICAgdmFsdWU6IFwidGltZVwiLFxuICAgIGljb246IGNyZWF0ZUVsZW1lbnQoSWNvbiwgbnVsbCwgdGltZUljb24pXG4gIH0pKSk7XG59O1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVRpbWVQaWNrZXJUYWJzLnByb3BUeXBlcyA9IHtcbiAgdmlldzogc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9uQ2hhbmdlOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzZXM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICB0aGVtZTogb2JqZWN0LmlzUmVxdWlyZWQsXG4gIGRhdGVSYW5nZUljb246IG5vZGUuaXNSZXF1aXJlZCxcbiAgdGltZUljb246IG5vZGUuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcbnZhciBzdHlsZXMkZiA9IGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHRhYnM6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS50eXBlID09PSAnbGlnaHQnID8gdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmRbXCJkZWZhdWx0XCJdXG4gICAgfVxuICB9O1xufTtcbnZhciBEYXRlVGltZVBpY2tlclRhYnMkMSA9IHdpdGhUaGVtZSgpKHdpdGhTdHlsZXMkMShzdHlsZXMkZiwge1xuICBuYW1lOiAnTXVpUGlja2VyRFRUYWJzJ1xufSkoRGF0ZVRpbWVQaWNrZXJUYWJzKSk7XG5cbnZhciBEYXRlVGltZVBpY2tlclZpZXckMiA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgc2VsZWN0ZWQgPSBfYS5zZWxlY3RlZCxcbiAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47XG5cbiAgaWYgKCFzZWxlY3RlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICB9KTtcbn07XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEYXRlVGltZVBpY2tlclZpZXckMi5wcm9wVHlwZXMgPSB7XG4gIHNlbGVjdGVkOiBib29sLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBub2RlLmlzUmVxdWlyZWRcbn0gOiB2b2lkIDA7XG5cbnZhciBEYXRlVGltZVBpY2tlciA9XG4vKkBfX1BVUkVfXyovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhEYXRlVGltZVBpY2tlciwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBEYXRlVGltZVBpY2tlcigpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgb3BlblZpZXc6IF90aGlzLnByb3BzLm9wZW5UbyxcbiAgICAgIG1lcmlkaWVtTW9kZTogX3RoaXMucHJvcHMudXRpbHMuZ2V0SG91cnMoX3RoaXMucHJvcHMuZGF0ZSkgPj0gMTIgPyAncG0nIDogJ2FtJ1xuICAgIH07XG5cbiAgICBfdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCwgbmV4dFZpZXcpIHtcbiAgICAgIGlmIChpc0ZpbmlzaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlzRmluaXNoID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHRpbWUpO1xuXG4gICAgICBpZiAoaXNGaW5pc2ggJiYgX3RoaXMucHJvcHMuYXV0b1N1Ym1pdCkge1xuICAgICAgICBfdGhpcy5oYW5kbGVWaWV3Q2hhbmdlKG5leHRWaWV3KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0TWVyaWRpZW1Nb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBtZXJpZGllbU1vZGU6IG1vZGVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVDaGFuZ2UoX3RoaXMucHJvcHMuZGF0ZSwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVZpZXdDaGFuZ2UgPSBmdW5jdGlvbiAodmlldykge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuVmlldzogdmlld1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uICh0aW1lLCBpc0ZpbmlzaCkge1xuICAgICAgaWYgKGlzRmluaXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaXNGaW5pc2ggPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHdpdGhNZXJpZGllbSA9IGNvbnZlcnRUb01lcmlkaWVtKHRpbWUsIF90aGlzLnN0YXRlLm1lcmlkaWVtTW9kZSwgQm9vbGVhbihfdGhpcy5wcm9wcy5hbXBtKSwgX3RoaXMucHJvcHMudXRpbHMpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh3aXRoTWVyaWRpZW0sIGlzRmluaXNoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlWWVhckNoYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICBfdGhpcy5vbkNoYW5nZShkYXRlLCBmYWxzZSwgRGF0ZVRpbWVQaWNrZXJWaWV3JDEuREFURSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZURheUNoYW5nZSA9IGZ1bmN0aW9uIChkYXRlLCBpc0ZpbmlzaCkge1xuICAgICAgX3RoaXMub25DaGFuZ2UoZGF0ZSwgaXNGaW5pc2gsIERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVIb3VyQ2hhbmdlID0gZnVuY3Rpb24gKHRpbWUsIGlzRmluaXNoKSB7XG4gICAgICBfdGhpcy5vbkNoYW5nZSh0aW1lLCBpc0ZpbmlzaCwgRGF0ZVRpbWVQaWNrZXJWaWV3JDEuTUlOVVRFUyk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIERhdGVUaW1lUGlja2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgb3BlblZpZXcgPSBfYS5vcGVuVmlldyxcbiAgICAgICAgbWVyaWRpZW1Nb2RlID0gX2EubWVyaWRpZW1Nb2RlO1xuICAgIHZhciBfYiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRhdGUgPSBfYi5kYXRlLFxuICAgICAgICBtaW5EYXRlID0gX2IubWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZSA9IF9iLm1heERhdGUsXG4gICAgICAgIHNob3dUYWJzID0gX2Iuc2hvd1RhYnMsXG4gICAgICAgIGRpc2FibGVQYXN0ID0gX2IuZGlzYWJsZVBhc3QsXG4gICAgICAgIGRpc2FibGVGdXR1cmUgPSBfYi5kaXNhYmxlRnV0dXJlLFxuICAgICAgICBsZWZ0QXJyb3dJY29uID0gX2IubGVmdEFycm93SWNvbixcbiAgICAgICAgcmlnaHRBcnJvd0ljb24gPSBfYi5yaWdodEFycm93SWNvbixcbiAgICAgICAgZGF0ZVJhbmdlSWNvbiA9IF9iLmRhdGVSYW5nZUljb24sXG4gICAgICAgIHRpbWVJY29uID0gX2IudGltZUljb24sXG4gICAgICAgIHJlbmRlckRheSA9IF9iLnJlbmRlckRheSxcbiAgICAgICAgYW1wbSA9IF9iLmFtcG0sXG4gICAgICAgIHNob3VsZERpc2FibGVEYXRlID0gX2Iuc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gX2IuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sID0gX2IuYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICAgIFZpZXdDb250YWluZXJDb21wb25lbnQgPSBfYi5WaWV3Q29udGFpbmVyQ29tcG9uZW50O1xuICAgIHZhciBDb250YWluZXIgPSBWaWV3Q29udGFpbmVyQ29tcG9uZW50O1xuICAgIHZhciBWaWV3Q29udGFpbmVyQ29tcG9uZW50UHJvcHMgPSB0eXBlb2YgVmlld0NvbnRhaW5lckNvbXBvbmVudCA9PT0gJ3N0cmluZycgPyB7fSA6IHtcbiAgICAgIG9wZW5WaWV3OiBvcGVuVmlldyxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlXG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgY3JlYXRlRWxlbWVudChEYXRldGltZVBpY2tlckhlYWRlciwge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIG9wZW5WaWV3OiBvcGVuVmlldyxcbiAgICAgIG1lcmlkaWVtTW9kZTogbWVyaWRpZW1Nb2RlLFxuICAgICAgc2V0TWVyaWRpZW1Nb2RlOiB0aGlzLnNldE1lcmlkaWVtTW9kZSxcbiAgICAgIG9uT3BlblZpZXdDaGFuZ2U6IHRoaXMuaGFuZGxlVmlld0NoYW5nZSxcbiAgICAgIGFtcG06IGFtcG1cbiAgICB9KSwgc2hvd1RhYnMgJiYgY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlclRhYnMkMSwge1xuICAgICAgdmlldzogb3BlblZpZXcsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVWaWV3Q2hhbmdlLFxuICAgICAgZGF0ZVJhbmdlSWNvbjogZGF0ZVJhbmdlSWNvbixcbiAgICAgIHRpbWVJY29uOiB0aW1lSWNvblxuICAgIH0pLCBjcmVhdGVFbGVtZW50KENvbnRhaW5lciwgX19hc3NpZ24oe30sIFZpZXdDb250YWluZXJDb21wb25lbnRQcm9wcyksIGNyZWF0ZUVsZW1lbnQoRGF0ZVRpbWVQaWNrZXJWaWV3JDIsIHtcbiAgICAgIHNlbGVjdGVkOiBvcGVuVmlldyA9PT0gRGF0ZVRpbWVQaWNrZXJWaWV3JDEuWUVBUlxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoWWVhclNlbGVjdGlvbiQxLCB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVZZWFyQ2hhbmdlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nOiBhbmltYXRlWWVhclNjcm9sbGluZ1xuICAgIH0pKSwgY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlclZpZXckMiwge1xuICAgICAgc2VsZWN0ZWQ6IG9wZW5WaWV3ID09PSBEYXRlVGltZVBpY2tlclZpZXckMS5EQVRFXG4gICAgfSwgY3JlYXRlRWxlbWVudChDYWxlbmRhciQxLCB7XG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVEYXlDaGFuZ2UsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIHJpZ2h0QXJyb3dJY29uOiByaWdodEFycm93SWNvbixcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlXG4gICAgfSkpLCBjcmVhdGVFbGVtZW50KERhdGVUaW1lUGlja2VyVmlldyQyLCB7XG4gICAgICBzZWxlY3RlZDogb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLkhPVVIgfHwgb3BlblZpZXcgPT09IERhdGVUaW1lUGlja2VyVmlldyQxLk1JTlVURVNcbiAgICB9LCBjcmVhdGVFbGVtZW50KFRpbWVQaWNrZXJWaWV3JDEsIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICB0eXBlOiBvcGVuVmlldyxcbiAgICAgIG9uSG91ckNoYW5nZTogdGhpcy5oYW5kbGVIb3VyQ2hhbmdlLFxuICAgICAgb25NaW51dGVzQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgIG9uU2Vjb25kc0NoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICBhbXBtOiBhbXBtXG4gICAgfSkpKSk7XG4gIH07XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGF0ZVRpbWVQaWNrZXIucHJvcFR5cGVzID0ge1xuICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICAgIGFtcG06IGJvb2wsXG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGJvb2wsXG4gICAgYXV0b1N1Ym1pdDogYm9vbCxcbiAgICBkYXRlOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpbml0aWFsRm9jdXNlZERhdGU6IGFueSxcbiAgICBpbm5lclJlZjogYW55LFxuICAgIGRhdGVSYW5nZUljb246IG5vZGUsXG4gICAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcbiAgICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgICBsZWZ0QXJyb3dJY29uOiBub2RlLFxuICAgIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLmlzUmVxdWlyZWQsXG4gICAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9wZW5Ubzogb25lT2YoT2JqZWN0LmtleXMoRGF0ZVRpbWVQaWNrZXJWaWV3JDEpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gRGF0ZVRpbWVQaWNrZXJWaWV3JDFba2V5XTtcbiAgICB9KSkuaXNSZXF1aXJlZCxcbiAgICByZW5kZXJEYXk6IGZ1bmMsXG4gICAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gICAgc2hvdWxkRGlzYWJsZURhdGU6IGZ1bmMsXG4gICAgc2hvd1RhYnM6IGJvb2wsXG4gICAgdGltZUljb246IG5vZGUsXG4gICAgdXRpbHM6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIFZpZXdDb250YWluZXJDb21wb25lbnQ6IG9uZU9mVHlwZShbc3RyaW5nLCBmdW5jLCBvYmplY3RdKVxuICB9IDogdm9pZCAwO1xuICBEYXRlVGltZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGZhbHNlLFxuICAgIGFtcG06IHRydWUsXG4gICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICAgIGF1dG9TdWJtaXQ6IHRydWUsXG4gICAgZGF0ZVJhbmdlSWNvbjogdW5kZWZpbmVkLFxuICAgIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICAgIGRpc2FibGVQYXN0OiBmYWxzZSxcbiAgICBsZWZ0QXJyb3dJY29uOiB1bmRlZmluZWQsXG4gICAgcmVuZGVyRGF5OiB1bmRlZmluZWQsXG4gICAgcmlnaHRBcnJvd0ljb246IHVuZGVmaW5lZCxcbiAgICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICAgIHNob3dUYWJzOiB0cnVlLFxuICAgIHRpbWVJY29uOiB1bmRlZmluZWQsXG4gICAgVmlld0NvbnRhaW5lckNvbXBvbmVudDogJ2RpdidcbiAgfTtcbiAgcmV0dXJuIERhdGVUaW1lUGlja2VyO1xufShDb21wb25lbnQpO1xudmFyIERhdGVUaW1lUGlja2VyJDEgPSB3aXRoVXRpbHMoKShEYXRlVGltZVBpY2tlcik7XG5cbnZhciBEYXRlVGltZVBpY2tlck1vZGFsID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb3BlblRvID0gcHJvcHMub3BlblRvLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIHNob3dUYWJzID0gcHJvcHMuc2hvd1RhYnMsXG4gICAgICBhdXRvU3VibWl0ID0gcHJvcHMuYXV0b1N1Ym1pdCxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIGRhdGVSYW5nZUljb24gPSBwcm9wcy5kYXRlUmFuZ2VJY29uLFxuICAgICAgdGltZUljb24gPSBwcm9wcy50aW1lSWNvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBwcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gcHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiYXV0b09rXCIsIFwib3BlblRvXCIsIFwibWluRGF0ZVwiLCBcIm1heERhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJzaG93VGFic1wiLCBcImF1dG9TdWJtaXRcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJkYXRlUmFuZ2VJY29uXCIsIFwidGltZUljb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJhbXBtXCIsIFwic2hvdWxkRGlzYWJsZURhdGVcIiwgXCJhbmltYXRlWWVhclNjcm9sbGluZ1wiLCBcImZvcndhcmRlZFJlZlwiLCBcImFsbG93S2V5Ym9hcmRDb250cm9sXCJdKTsgLy8gZG8gbm90IHNob3cgdGFicyBmb3Igc21hbGwgc2NyZWVuc1xuXG5cbiAgdmFyIHRvU2hvd1RhYnMgPSBzaG93VGFicyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuaW5uZXJIZWlnaHQgPiA2Njc7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KEJhc2VQaWNrZXIkMSwgX19hc3NpZ24oe30sIHByb3BzKSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVBY2NlcHQgPSBfYS5oYW5kbGVBY2NlcHQsXG4gICAgICAgIGhhbmRsZUNoYW5nZSA9IF9hLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgaGFuZGxlQ2xlYXIgPSBfYS5oYW5kbGVDbGVhcixcbiAgICAgICAgaGFuZGxlRGlzbWlzcyA9IF9hLmhhbmRsZURpc21pc3MsXG4gICAgICAgIGhhbmRsZVNldFRvZGF5RGF0ZSA9IF9hLmhhbmRsZVNldFRvZGF5RGF0ZSxcbiAgICAgICAgaGFuZGxlVGV4dEZpZWxkQ2hhbmdlID0gX2EuaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgICBpc0FjY2VwdGVkID0gX2EuaXNBY2NlcHRlZCxcbiAgICAgICAgcGljazEyaE9yMjRoRm9ybWF0ID0gX2EucGljazEyaE9yMjRoRm9ybWF0O1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KE1vZGFsV3JhcHBlciwgX19hc3NpZ24oe1xuICAgICAgc2hvd1RhYnM6IHRvU2hvd1RhYnMsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLFxuICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgICBvbkRpc21pc3M6IGhhbmRsZURpc21pc3MsXG4gICAgICBvblNldFRvZGF5OiBoYW5kbGVTZXRUb2RheURhdGUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgZm9ybWF0OiBwaWNrMTJoT3IyNGhGb3JtYXQodXRpbHMuZGF0ZVRpbWUxMmhGb3JtYXQsIHV0aWxzLmRhdGVUaW1lMjRoRm9ybWF0KVxuICAgIH0sIG90aGVyKSwgY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlciQxLCB7XG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbDogYWxsb3dLZXlib2FyZENvbnRyb2wsXG4gICAgICBhbXBtOiBhbXBtLFxuICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGFuaW1hdGVZZWFyU2Nyb2xsaW5nLFxuICAgICAgYXV0b1N1Ym1pdDogYXV0b1N1Ym1pdCxcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBkYXRlUmFuZ2VJY29uOiBkYXRlUmFuZ2VJY29uLFxuICAgICAgZGlzYWJsZUZ1dHVyZTogZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGRpc2FibGVQYXN0OiBkaXNhYmxlUGFzdCxcbiAgICAgIGxlZnRBcnJvd0ljb246IGxlZnRBcnJvd0ljb24sXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBvcGVuVG86IG9wZW5UbyxcbiAgICAgIHJlbmRlckRheTogcmVuZGVyRGF5LFxuICAgICAgcmlnaHRBcnJvd0ljb246IHJpZ2h0QXJyb3dJY29uLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGU6IHNob3VsZERpc2FibGVEYXRlLFxuICAgICAgc2hvd1RhYnM6IHRvU2hvd1RhYnMsXG4gICAgICB0aW1lSWNvbjogdGltZUljb25cbiAgICB9KSk7XG4gIH0pO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVUaW1lUGlja2VyTW9kYWwucHJvcFR5cGVzID0ge1xuICAvKiogRGF0ZS10aW1lIHBpY2tlciB2YWx1ZSAqL1xuICB2YWx1ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG5cbiAgLyoqIERhdGUgZm9ybWF0IHN0cmluZyBmb3IgaW5wdXQgKi9cbiAgZm9ybWF0OiBzdHJpbmcsXG5cbiAgLyoqIENhbGxiYWNrIGZpcmluZyB3aGVuIGRhdGUgYWNjZXB0ZWQgWyhkYXRlOiBEYXRlKSA9PiB2b2lkXSAqL1xuICBvbkNoYW5nZTogZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKiBBdXRvIGFjY2VwdCBkYXRlIG9uIG1pbnV0ZSBzZWxlY3Rpb24gKi9cbiAgYXV0b09rOiBib29sLFxuXG4gIC8qKiBNb3ZlIHRvIHRoZSBuZXh0IHBhcnQgb2YgZGF0ZSBvbiBzZWxlY3QgKHllYXIgLT4gZGF0ZSAtPiBob3VyIC0+IG1pbnV0ZSkgKi9cbiAgYXV0b1N1Ym1pdDogYm9vbCxcblxuICAvKiogRGlzYWJsZSBmdXR1cmUgZGF0ZXMgKi9cbiAgZGlzYWJsZUZ1dHVyZTogYm9vbCxcblxuICAvKiogRGlzYWJsZSBwYXN0IGRhdGVzICovXG4gIGRpc2FibGVQYXN0OiBib29sLFxuXG4gIC8qKiBNaW4gc2VsZWN0YWJsZSBkYXRlICovXG4gIG1pbkRhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBNYXggc2VsZWN0YWJsZSBkYXRlICovXG4gIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBJbml0aWFsIGZvY3VzZWQgZGF0ZSB3aGVuIGNhbGVuZGFyIG9wZW5zLCBpZiBubyB2YWx1ZSBpcyBwcm92aWRlZCAqL1xuICBpbml0aWFsRm9jdXNlZERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuXG4gIC8qKiBTaG93IGRhdGUvdGltZSB0YWJzICovXG4gIHNob3dUYWJzOiBib29sLFxuXG4gIC8qKiBMZWZ0IGFycm93IGljb24gKi9cbiAgbGVmdEFycm93SWNvbjogbm9kZSxcblxuICAvKiogUmlnaHQgYXJyb3cgaWNvbiAqL1xuICByaWdodEFycm93SWNvbjogbm9kZSxcblxuICAvKiogRGF0ZSB0YWIgaWNvbiAqL1xuICBkYXRlUmFuZ2VJY29uOiBub2RlLFxuXG4gIC8qKiBUaW1lIHRhYiBpY29uICovXG4gIHRpbWVJY29uOiBub2RlLFxuXG4gIC8qKlxuICAgKiBDdXN0b20gcmVuZGVyZXIgZm9yIGRheVxuICAgKiBbKGRhdGU6IERhdGUsIG5vd1NlbGVjdGVkRGF0ZTogRGF0ZSwgaXNJbkN1cnJlbnRNb250aDogYm9vbGVhbikgPT4gUmVhY3RFbGVtZW50XVxuICAgKi9cbiAgcmVuZGVyRGF5OiBmdW5jLFxuXG4gIC8qKiAxMmgvMjRoIHZpZXcgZm9yIGhvdXIgc2VsZWN0aW9uIGNsb2NrICovXG4gIGFtcG06IGJvb2wsXG5cbiAgLyoqIERpc2FibGUgc3BlY2lmaWMgZGF0ZSBbKGRhdGU6IERhdGUpID0+IGJvb2xlYW5dICovXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuXG4gIC8qKiBFbmFibGUgYW5pbWF0ZWQgc2Nyb2xsaW5nIHRvIGN1cnJlbnQgeWVhciAqL1xuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcblxuICAvKiogT3BlbiBkaXJlY3RseSB0byBwYXJ0aWN1bGFyIHZpZXcgKi9cbiAgb3BlblRvOiBvbmVPZihbJ3llYXInLCAnZGF0ZScsICdob3VyJywgJ21pbnV0ZXMnXSksXG5cbiAgLyoqIEVuYWJsZXMga2V5Ym9hcmQgbGlzdGVuZXIgZm9yIG1vdmluZyBiZXR3ZWVuIGRheXMgaW4gY2FsZW5kYXIgKi9cbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IGJvb2wsXG4gIGZvcndhcmRlZFJlZjogb25lT2ZUeXBlKFtmdW5jLCBvYmplY3RdKVxufSA6IHZvaWQgMDtcbkRhdGVUaW1lUGlja2VyTW9kYWwuZGVmYXVsdFByb3BzID0ge1xuICB2YWx1ZTogbmV3IERhdGUoKSxcbiAgZm9ybWF0OiB1bmRlZmluZWQsXG4gIGF1dG9PazogZmFsc2UsXG4gIGF1dG9TdWJtaXQ6IHRydWUsXG4gIG9wZW5UbzogJ2RhdGUnLFxuICBkaXNhYmxlRnV0dXJlOiBmYWxzZSxcbiAgZGlzYWJsZVBhc3Q6IGZhbHNlLFxuICBtaW5EYXRlOiAnMTkwMC0wMS0wMScsXG4gIG1heERhdGU6ICcyMTAwLTAxLTAxJyxcbiAgaW5pdGlhbEZvY3VzZWREYXRlOiB1bmRlZmluZWQsXG4gIHNob3dUYWJzOiB0cnVlLFxuICBsZWZ0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gIHJpZ2h0QXJyb3dJY29uOiAna2V5Ym9hcmRfYXJyb3dfcmlnaHQnLFxuICBkYXRlUmFuZ2VJY29uOiAnZGF0ZV9yYW5nZScsXG4gIHRpbWVJY29uOiAnYWNjZXNzX3RpbWUnLFxuICByZW5kZXJEYXk6IHVuZGVmaW5lZCxcbiAgYW1wbTogdHJ1ZSxcbiAgc2hvdWxkRGlzYWJsZURhdGU6IHVuZGVmaW5lZCxcbiAgYW5pbWF0ZVllYXJTY3JvbGxpbmc6IGZhbHNlLFxuICBmb3J3YXJkZWRSZWY6IHVuZGVmaW5lZCxcbiAgYWxsb3dLZXlib2FyZENvbnRyb2w6IHRydWVcbn07XG52YXIgRGF0ZVRpbWVQaWNrZXJNb2RhbCQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlck1vZGFsLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IHJlZlxuICB9KSk7XG59KTtcblxudmFyIERhdGVUaW1lUGlja2VySW5saW5lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgYXV0b09rID0gcHJvcHMuYXV0b09rLFxuICAgICAgb3BlblRvID0gcHJvcHMub3BlblRvLFxuICAgICAgbWluRGF0ZSA9IHByb3BzLm1pbkRhdGUsXG4gICAgICBtYXhEYXRlID0gcHJvcHMubWF4RGF0ZSxcbiAgICAgIGluaXRpYWxGb2N1c2VkRGF0ZSA9IHByb3BzLmluaXRpYWxGb2N1c2VkRGF0ZSxcbiAgICAgIHNob3dUYWJzID0gcHJvcHMuc2hvd1RhYnMsXG4gICAgICBhdXRvU3VibWl0ID0gcHJvcHMuYXV0b1N1Ym1pdCxcbiAgICAgIGRpc2FibGVQYXN0ID0gcHJvcHMuZGlzYWJsZVBhc3QsXG4gICAgICBkaXNhYmxlRnV0dXJlID0gcHJvcHMuZGlzYWJsZUZ1dHVyZSxcbiAgICAgIGxlZnRBcnJvd0ljb24gPSBwcm9wcy5sZWZ0QXJyb3dJY29uLFxuICAgICAgcmlnaHRBcnJvd0ljb24gPSBwcm9wcy5yaWdodEFycm93SWNvbixcbiAgICAgIGRhdGVSYW5nZUljb24gPSBwcm9wcy5kYXRlUmFuZ2VJY29uLFxuICAgICAgdGltZUljb24gPSBwcm9wcy50aW1lSWNvbixcbiAgICAgIHJlbmRlckRheSA9IHByb3BzLnJlbmRlckRheSxcbiAgICAgIGFtcG0gPSBwcm9wcy5hbXBtLFxuICAgICAgc2hvdWxkRGlzYWJsZURhdGUgPSBwcm9wcy5zaG91bGREaXNhYmxlRGF0ZSxcbiAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nID0gcHJvcHMuYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBmb3J3YXJkZWRSZWYgPSBwcm9wcy5mb3J3YXJkZWRSZWYsXG4gICAgICBhbGxvd0tleWJvYXJkQ29udHJvbCA9IHByb3BzLmFsbG93S2V5Ym9hcmRDb250cm9sLFxuICAgICAgb3RoZXIgPSBfX3Jlc3QocHJvcHMsIFtcInZhbHVlXCIsIFwiZm9ybWF0XCIsIFwiYXV0b09rXCIsIFwib3BlblRvXCIsIFwibWluRGF0ZVwiLCBcIm1heERhdGVcIiwgXCJpbml0aWFsRm9jdXNlZERhdGVcIiwgXCJzaG93VGFic1wiLCBcImF1dG9TdWJtaXRcIiwgXCJkaXNhYmxlUGFzdFwiLCBcImRpc2FibGVGdXR1cmVcIiwgXCJsZWZ0QXJyb3dJY29uXCIsIFwicmlnaHRBcnJvd0ljb25cIiwgXCJkYXRlUmFuZ2VJY29uXCIsIFwidGltZUljb25cIiwgXCJyZW5kZXJEYXlcIiwgXCJhbXBtXCIsIFwic2hvdWxkRGlzYWJsZURhdGVcIiwgXCJhbmltYXRlWWVhclNjcm9sbGluZ1wiLCBcImZvcndhcmRlZFJlZlwiLCBcImFsbG93S2V5Ym9hcmRDb250cm9sXCJdKTtcblxuICByZXR1cm4gY3JlYXRlRWxlbWVudChCYXNlUGlja2VyJDEsIF9fYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGF1dG9PazogdHJ1ZVxuICB9KSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRhdGUgPSBfYS5kYXRlLFxuICAgICAgICB1dGlscyA9IF9hLnV0aWxzLFxuICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfYS5oYW5kbGVDaGFuZ2UsXG4gICAgICAgIGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IF9hLmhhbmRsZVRleHRGaWVsZENoYW5nZSxcbiAgICAgICAgaXNBY2NlcHRlZCA9IF9hLmlzQWNjZXB0ZWQsXG4gICAgICAgIHBpY2sxMmhPcjI0aEZvcm1hdCA9IF9hLnBpY2sxMmhPcjI0aEZvcm1hdCxcbiAgICAgICAgaGFuZGxlQWNjZXB0ID0gX2EuaGFuZGxlQWNjZXB0O1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KElubGluZVdyYXBwZXIkMSwgX19hc3NpZ24oe1xuICAgICAgaW5uZXJSZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIGRpc2FibGVGdXR1cmU6IGRpc2FibGVGdXR1cmUsXG4gICAgICBkaXNhYmxlUGFzdDogZGlzYWJsZVBhc3QsXG4gICAgICBtYXhEYXRlOiBtYXhEYXRlLFxuICAgICAgbWluRGF0ZTogbWluRGF0ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVUZXh0RmllbGRDaGFuZ2UsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpc0FjY2VwdGVkOiBpc0FjY2VwdGVkLFxuICAgICAgaGFuZGxlQWNjZXB0OiBoYW5kbGVBY2NlcHQsXG4gICAgICBmb3JtYXQ6IHBpY2sxMmhPcjI0aEZvcm1hdCh1dGlscy5kYXRlVGltZTEyaEZvcm1hdCwgdXRpbHMuZGF0ZVRpbWUyNGhGb3JtYXQpXG4gICAgfSwgb3RoZXIpLCBjcmVhdGVFbGVtZW50KERhdGVUaW1lUGlja2VyJDEsIHtcbiAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sOiBhbGxvd0tleWJvYXJkQ29udHJvbCxcbiAgICAgIGFtcG06IGFtcG0sXG4gICAgICBhbmltYXRlWWVhclNjcm9sbGluZzogYW5pbWF0ZVllYXJTY3JvbGxpbmcsXG4gICAgICBhdXRvU3VibWl0OiBhdXRvU3VibWl0LFxuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGRhdGVSYW5nZUljb246IGRhdGVSYW5nZUljb24sXG4gICAgICBkaXNhYmxlRnV0dXJlOiBkaXNhYmxlRnV0dXJlLFxuICAgICAgZGlzYWJsZVBhc3Q6IGRpc2FibGVQYXN0LFxuICAgICAgbGVmdEFycm93SWNvbjogbGVmdEFycm93SWNvbixcbiAgICAgIG1heERhdGU6IG1heERhdGUsXG4gICAgICBtaW5EYXRlOiBtaW5EYXRlLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIG9wZW5Ubzogb3BlblRvLFxuICAgICAgcmVuZGVyRGF5OiByZW5kZXJEYXksXG4gICAgICByaWdodEFycm93SWNvbjogcmlnaHRBcnJvd0ljb24sXG4gICAgICBzaG91bGREaXNhYmxlRGF0ZTogc2hvdWxkRGlzYWJsZURhdGUsXG4gICAgICBzaG93VGFiczogc2hvd1RhYnMsXG4gICAgICB0aW1lSWNvbjogdGltZUljb25cbiAgICB9KSk7XG4gIH0pO1xufTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERhdGVUaW1lUGlja2VySW5saW5lLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBmb3JtYXQ6IHN0cmluZyxcbiAgb25DaGFuZ2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgYXV0b09rOiBib29sLFxuICBhdXRvU3VibWl0OiBib29sLFxuICBkaXNhYmxlRnV0dXJlOiBib29sLFxuICBkaXNhYmxlUGFzdDogYm9vbCxcbiAgbWluRGF0ZTogRG9tYWluUHJvcFR5cGVzLmRhdGUsXG4gIG1heERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IERvbWFpblByb3BUeXBlcy5kYXRlLFxuICBzaG93VGFiczogYm9vbCxcbiAgbGVmdEFycm93SWNvbjogbm9kZSxcbiAgcmlnaHRBcnJvd0ljb246IG5vZGUsXG4gIGRhdGVSYW5nZUljb246IG5vZGUsXG4gIHRpbWVJY29uOiBub2RlLFxuICByZW5kZXJEYXk6IGZ1bmMsXG4gIGFtcG06IGJvb2wsXG4gIHNob3VsZERpc2FibGVEYXRlOiBmdW5jLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogYm9vbCxcbiAgb3BlblRvOiBvbmVPZihbJ3llYXInLCAnZGF0ZScsICdob3VyJywgJ21pbnV0ZXMnXSksXG4gIGFsbG93S2V5Ym9hcmRDb250cm9sOiBib29sLFxuICBmb3J3YXJkZWRSZWY6IG9uZU9mVHlwZShbZnVuYywgb2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5EYXRlVGltZVBpY2tlcklubGluZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhbHVlOiBuZXcgRGF0ZSgpLFxuICBmb3JtYXQ6IHVuZGVmaW5lZCxcbiAgYXV0b09rOiBmYWxzZSxcbiAgYXV0b1N1Ym1pdDogdHJ1ZSxcbiAgb3BlblRvOiAnZGF0ZScsXG4gIGRpc2FibGVGdXR1cmU6IGZhbHNlLFxuICBkaXNhYmxlUGFzdDogZmFsc2UsXG4gIG1pbkRhdGU6ICcxOTAwLTAxLTAxJyxcbiAgbWF4RGF0ZTogJzIxMDAtMDEtMDEnLFxuICBpbml0aWFsRm9jdXNlZERhdGU6IHVuZGVmaW5lZCxcbiAgc2hvd1RhYnM6IHRydWUsXG4gIGxlZnRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19sZWZ0JyxcbiAgcmlnaHRBcnJvd0ljb246ICdrZXlib2FyZF9hcnJvd19yaWdodCcsXG4gIGRhdGVSYW5nZUljb246ICdkYXRlX3JhbmdlJyxcbiAgdGltZUljb246ICdhY2Nlc3NfdGltZScsXG4gIHJlbmRlckRheTogdW5kZWZpbmVkLFxuICBhbXBtOiB0cnVlLFxuICBzaG91bGREaXNhYmxlRGF0ZTogdW5kZWZpbmVkLFxuICBhbmltYXRlWWVhclNjcm9sbGluZzogZmFsc2UsXG4gIGZvcndhcmRlZFJlZjogdW5kZWZpbmVkLFxuICBhbGxvd0tleWJvYXJkQ29udHJvbDogdHJ1ZVxufTtcbnZhciBEYXRlVGltZVBpY2tlcklubGluZSQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlcklubGluZSwgX19hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZm9yd2FyZGVkUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbmV4cG9ydCB7IERhdGVQaWNrZXJNb2RhbCQxIGFzIERhdGVQaWNrZXIsIERhdGVQaWNrZXJJbmxpbmUkMSBhcyBJbmxpbmVEYXRlUGlja2VyLCBUaW1lUGlja2VyTW9kYWwkMSBhcyBUaW1lUGlja2VyLCBUaW1lUGlja2VySW5saW5lJDEgYXMgSW5saW5lVGltZVBpY2tlciwgRGF0ZVRpbWVQaWNrZXJNb2RhbCQxIGFzIERhdGVUaW1lUGlja2VyLCBEYXRlVGltZVBpY2tlcklubGluZSQxIGFzIElubGluZURhdGVUaW1lUGlja2VyLCBCYXNlUGlja2VyJDEgYXMgQmFzZVBpY2tlciwgQ2FsZW5kYXIkMSBhcyBDYWxlbmRhciwgRGF5JDEgYXMgRGF5LCBUaW1lUGlja2VyVmlldyQxIGFzIFRpbWVQaWNrZXJWaWV3LCBDbG9jayQxIGFzIENsb2NrLCBNdWlQaWNrZXJzVXRpbHNQcm92aWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0ZXJpYWwtdWktcGlja2Vycy5lc20uanMubWFwXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9tYXRlcmlhbC11aS1waWNrZXJzL2Rpc3QvbWF0ZXJpYWwtdWktcGlja2Vycy5lc20uanNcbi8vIG1vZHVsZSBpZCA9IDYwNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbnZhciBwcm9wVHlwZXMgPSB7XG4gIHRob3VzYW5kU2VwYXJhdG9yOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoW3RydWVdKV0pLFxuICBkZWNpbWFsU2VwYXJhdG9yOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICB0aG91c2FuZHNHcm91cFN0eWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWyd0aG91c2FuZCcsICdsYWtoJywgJ3dhbiddKSxcbiAgZGVjaW1hbFNjYWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLFxuICBmaXhlZERlY2ltYWxTY2FsZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIGRpc3BsYXlUeXBlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWydpbnB1dCcsICd0ZXh0J10pLFxuICBwcmVmaXg6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIHN1ZmZpeDogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcbiAgZm9ybWF0OiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY10pLFxuICByZW1vdmVGb3JtYXR0aW5nOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgbWFzazogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyldKSxcbiAgdmFsdWU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIsIF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmddKSxcbiAgZGVmYXVsdFZhbHVlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLCBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nXSksXG4gIGlzTnVtZXJpY1N0cmluZzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIGN1c3RvbUlucHV0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgYWxsb3dOZWdhdGl2ZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIGFsbG93RW1wdHlGb3JtYXR0aW5nOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcbiAgb25WYWx1ZUNoYW5nZTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uS2V5RG93bjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uTW91c2VVcDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgb25Gb2N1czogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uQmx1cjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIHR5cGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZihbJ3RleHQnLCAndGVsJywgJ3Bhc3N3b3JkJ10pLFxuICBpc0FsbG93ZWQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICByZW5kZXJUZXh0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgZ2V0SW5wdXRSZWY6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jXG59O1xudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzcGxheVR5cGU6ICdpbnB1dCcsXG4gIGRlY2ltYWxTZXBhcmF0b3I6ICcuJyxcbiAgdGhvdXNhbmRzR3JvdXBTdHlsZTogJ3Rob3VzYW5kJyxcbiAgZml4ZWREZWNpbWFsU2NhbGU6IGZhbHNlLFxuICBwcmVmaXg6ICcnLFxuICBzdWZmaXg6ICcnLFxuICBhbGxvd05lZ2F0aXZlOiB0cnVlLFxuICBhbGxvd0VtcHR5Rm9ybWF0dGluZzogZmFsc2UsXG4gIGlzTnVtZXJpY1N0cmluZzogZmFsc2UsXG4gIHR5cGU6ICd0ZXh0JyxcbiAgb25WYWx1ZUNoYW5nZTogX3V0aWxzLm5vb3AsXG4gIG9uQ2hhbmdlOiBfdXRpbHMubm9vcCxcbiAgb25LZXlEb3duOiBfdXRpbHMubm9vcCxcbiAgb25Nb3VzZVVwOiBfdXRpbHMubm9vcCxcbiAgb25Gb2N1czogX3V0aWxzLm5vb3AsXG4gIG9uQmx1cjogX3V0aWxzLm5vb3AsXG4gIGlzQWxsb3dlZDogX3V0aWxzLnJldHVyblRydWUsXG4gIGdldElucHV0UmVmOiBfdXRpbHMubm9vcFxufTtcblxudmFyIE51bWJlckZvcm1hdCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTnVtYmVyRm9ybWF0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBOdW1iZXJGb3JtYXQocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtYmVyRm9ybWF0KTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKE51bWJlckZvcm1hdCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7IC8vdmFsaWRhdGUgcHJvcHNcblxuICAgIF90aGlzLnZhbGlkYXRlUHJvcHMoKTtcblxuICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IF90aGlzLmZvcm1hdFZhbHVlUHJvcChkZWZhdWx0VmFsdWUpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICBudW1Bc1N0cmluZzogX3RoaXMucmVtb3ZlRm9ybWF0dGluZyhmb3JtYXR0ZWRWYWx1ZSlcbiAgICB9O1xuICAgIF90aGlzLnNlbGVjdGlvbkJlZm9yZUlucHV0ID0ge1xuICAgICAgc2VsZWN0aW9uU3RhcnQ6IDAsXG4gICAgICBzZWxlY3Rpb25FbmQ6IDBcbiAgICB9O1xuICAgIF90aGlzLm9uQ2hhbmdlID0gX3RoaXMub25DaGFuZ2UuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgX3RoaXMub25LZXlEb3duID0gX3RoaXMub25LZXlEb3duLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgIF90aGlzLm9uTW91c2VVcCA9IF90aGlzLm9uTW91c2VVcC5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICBfdGhpcy5vbkZvY3VzID0gX3RoaXMub25Gb2N1cy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICBfdGhpcy5vbkJsdXIgPSBfdGhpcy5vbkJsdXIuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE51bWJlckZvcm1hdCwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgIHRoaXMudXBkYXRlVmFsdWVJZlJlcXVpcmVkKHByZXZQcm9wcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVZhbHVlSWZSZXF1aXJlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWYWx1ZUlmUmVxdWlyZWQocHJldlByb3BzKSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBmb2N1c2VkRWxtID0gdGhpcy5mb2N1c2VkRWxtO1xuICAgICAgdmFyIHN0YXRlVmFsdWUgPSBzdGF0ZS52YWx1ZSxcbiAgICAgICAgICBfc3RhdGUkbnVtQXNTdHJpbmcgPSBzdGF0ZS5udW1Bc1N0cmluZyxcbiAgICAgICAgICBsYXN0TnVtU3RyID0gX3N0YXRlJG51bUFzU3RyaW5nID09PSB2b2lkIDAgPyAnJyA6IF9zdGF0ZSRudW1Bc1N0cmluZztcblxuICAgICAgaWYgKHByZXZQcm9wcyAhPT0gcHJvcHMpIHtcbiAgICAgICAgLy92YWxpZGF0ZSBwcm9wc1xuICAgICAgICB0aGlzLnZhbGlkYXRlUHJvcHMoKTtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZVdpdGhOZXdGb3JtYXQgPSB0aGlzLmZvcm1hdE51bVN0cmluZyhsYXN0TnVtU3RyKTtcbiAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gcHJvcHMudmFsdWUgPT09IHVuZGVmaW5lZCA/IGxhc3RWYWx1ZVdpdGhOZXdGb3JtYXQgOiB0aGlzLmZvcm1hdFZhbHVlUHJvcCgpO1xuICAgICAgICB2YXIgbnVtQXNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQobnVtQXNTdHJpbmcpO1xuICAgICAgICB2YXIgbGFzdEZsb2F0VmFsdWUgPSBwYXJzZUZsb2F0KGxhc3ROdW1TdHIpO1xuXG4gICAgICAgIGlmICggLy93aGlsZSB0eXBpbmcgc2V0IHN0YXRlIG9ubHkgd2hlbiBmbG9hdCB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICghaXNOYU4oZmxvYXRWYWx1ZSkgfHwgIWlzTmFOKGxhc3RGbG9hdFZhbHVlKSkgJiYgZmxvYXRWYWx1ZSAhPT0gbGFzdEZsb2F0VmFsdWUgfHwgLy9jYW4gYWxzbyBzZXQgc3RhdGUgd2hlbiBmbG9hdCB2YWx1ZSBpcyBzYW1lIGFuZCB0aGUgZm9ybWF0IHByb3BzIGNoYW5nZXNcbiAgICAgICAgbGFzdFZhbHVlV2l0aE5ld0Zvcm1hdCAhPT0gc3RhdGVWYWx1ZSB8fCAvL3NldCBzdGF0ZSBhbHdheXMgd2hlbiBub3QgaW4gZm9jdXMgYW5kIGZvcm1hdHRlZCB2YWx1ZSBpcyBjaGFuZ2VkXG4gICAgICAgIGZvY3VzZWRFbG0gPT09IG51bGwgJiYgZm9ybWF0dGVkVmFsdWUgIT09IHN0YXRlVmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlOiBmb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgICAgIG51bUFzU3RyaW5nOiBudW1Bc1N0cmluZyxcbiAgICAgICAgICAgIGlucHV0OiBmb2N1c2VkRWxtXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqIE1pc2MgbWV0aG9kcyAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldEZsb2F0U3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZsb2F0U3RyaW5nKCkge1xuICAgICAgdmFyIG51bSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICB2YXIgZGVjaW1hbFNjYWxlID0gdGhpcy5wcm9wcy5kZWNpbWFsU2NhbGU7XG5cbiAgICAgIHZhciBfdGhpcyRnZXRTZXBhcmF0b3JzID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgdmFyIG51bVJlZ2V4ID0gdGhpcy5nZXROdW1iZXJSZWdleCh0cnVlKTsgLy9yZW1vdmUgbmVnYXRpb24gZm9yIHJlZ2V4IGNoZWNrXG5cbiAgICAgIHZhciBoYXNOZWdhdGlvbiA9IG51bVswXSA9PT0gJy0nO1xuICAgICAgaWYgKGhhc05lZ2F0aW9uKSBudW0gPSBudW0ucmVwbGFjZSgnLScsICcnKTsgLy9pZiBkZWNpbWFsIHNjYWxlIGlzIHplcm8gcmVtb3ZlIGRlY2ltYWwgYW5kIG51bWJlciBhZnRlciBkZWNpbWFsU2VwYXJhdG9yXG5cbiAgICAgIGlmIChkZWNpbWFsU2VwYXJhdG9yICYmIGRlY2ltYWxTY2FsZSA9PT0gMCkge1xuICAgICAgICBudW0gPSBudW0uc3BsaXQoZGVjaW1hbFNlcGFyYXRvcilbMF07XG4gICAgICB9XG5cbiAgICAgIG51bSA9IChudW0ubWF0Y2gobnVtUmVnZXgpIHx8IFtdKS5qb2luKCcnKS5yZXBsYWNlKGRlY2ltYWxTZXBhcmF0b3IsICcuJyk7IC8vcmVtb3ZlIGV4dHJhIGRlY2ltYWxzXG5cbiAgICAgIHZhciBmaXJzdERlY2ltYWxJbmRleCA9IG51bS5pbmRleE9mKCcuJyk7XG5cbiAgICAgIGlmIChmaXJzdERlY2ltYWxJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgbnVtID0gXCJcIi5jb25jYXQobnVtLnN1YnN0cmluZygwLCBmaXJzdERlY2ltYWxJbmRleCksIFwiLlwiKS5jb25jYXQobnVtLnN1YnN0cmluZyhmaXJzdERlY2ltYWxJbmRleCArIDEsIG51bS5sZW5ndGgpLnJlcGxhY2UobmV3IFJlZ0V4cCgoMCwgX3V0aWxzLmVzY2FwZVJlZ0V4cCkoZGVjaW1hbFNlcGFyYXRvciksICdnJyksICcnKSk7XG4gICAgICB9IC8vYWRkIG5lZ2F0aW9uIGJhY2tcblxuXG4gICAgICBpZiAoaGFzTmVnYXRpb24pIG51bSA9ICctJyArIG51bTtcbiAgICAgIHJldHVybiBudW07XG4gICAgfSAvL3JldHVybmVkIHJlZ2V4IGFzc3VtZXMgZGVjaW1hbFNlcGFyYXRvciBpcyBhcyBwZXIgcHJvcFxuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TnVtYmVyUmVnZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TnVtYmVyUmVnZXgoZywgaWdub3JlRGVjaW1hbFNlcGFyYXRvcikge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wcy5mb3JtYXQsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHMuZGVjaW1hbFNjYWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczIgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczIuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ1xcXFxkJyArIChkZWNpbWFsU2VwYXJhdG9yICYmIGRlY2ltYWxTY2FsZSAhPT0gMCAmJiAhaWdub3JlRGVjaW1hbFNlcGFyYXRvciAmJiAhZm9ybWF0ID8gJ3wnICsgKDAsIF91dGlscy5lc2NhcGVSZWdFeHApKGRlY2ltYWxTZXBhcmF0b3IpIDogJycpLCBnID8gJ2cnIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U2VwYXJhdG9yc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZXBhcmF0b3JzKCkge1xuICAgICAgdmFyIGRlY2ltYWxTZXBhcmF0b3IgPSB0aGlzLnByb3BzLmRlY2ltYWxTZXBhcmF0b3I7XG4gICAgICB2YXIgdGhvdXNhbmRTZXBhcmF0b3IgPSB0aGlzLnByb3BzLnRob3VzYW5kU2VwYXJhdG9yO1xuXG4gICAgICBpZiAodGhvdXNhbmRTZXBhcmF0b3IgPT09IHRydWUpIHtcbiAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSAnLCc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlY2ltYWxTZXBhcmF0b3I6IGRlY2ltYWxTZXBhcmF0b3IsXG4gICAgICAgIHRob3VzYW5kU2VwYXJhdG9yOiB0aG91c2FuZFNlcGFyYXRvclxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TWFza0F0SW5kZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWFza0F0SW5kZXgoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyRtYXNrID0gdGhpcy5wcm9wcy5tYXNrLFxuICAgICAgICAgIG1hc2sgPSBfdGhpcyRwcm9wcyRtYXNrID09PSB2b2lkIDAgPyAnICcgOiBfdGhpcyRwcm9wcyRtYXNrO1xuXG4gICAgICBpZiAodHlwZW9mIG1hc2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBtYXNrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFza1tpbmRleF0gfHwgJyAnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRWYWx1ZU9iamVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZU9iamVjdChmb3JtYXR0ZWRWYWx1ZSwgbnVtQXNTdHJpbmcpIHtcbiAgICAgIHZhciBmbG9hdFZhbHVlID0gcGFyc2VGbG9hdChudW1Bc1N0cmluZyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgIHZhbHVlOiBudW1Bc1N0cmluZyxcbiAgICAgICAgZmxvYXRWYWx1ZTogaXNOYU4oZmxvYXRWYWx1ZSkgPyB1bmRlZmluZWQgOiBmbG9hdFZhbHVlXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ2YWxpZGF0ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMoKSB7XG4gICAgICB2YXIgbWFzayA9IHRoaXMucHJvcHMubWFzazsgLy92YWxpZGF0ZSBkZWNpbWFsU2VwYXJhdG9yIGFuZCB0aG91c2FuZFNlcGFyYXRvclxuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczMgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczMuZGVjaW1hbFNlcGFyYXRvcixcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnMzLnRob3VzYW5kU2VwYXJhdG9yO1xuXG4gICAgICBpZiAoZGVjaW1hbFNlcGFyYXRvciA9PT0gdGhvdXNhbmRTZXBhcmF0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXFxuICAgICAgICAgIERlY2ltYWwgc2VwYXJhdG9yIGNhbid0IGJlIHNhbWUgYXMgdGhvdXNhbmQgc2VwYXJhdG9yLlxcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvcjogXCIuY29uY2F0KHRob3VzYW5kU2VwYXJhdG9yLCBcIiAodGhvdXNhbmRTZXBhcmF0b3IgPSB7dHJ1ZX0gaXMgc2FtZSBhcyB0aG91c2FuZFNlcGFyYXRvciA9IFxcXCIsXFxcIilcXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvcjogXCIpLmNvbmNhdChkZWNpbWFsU2VwYXJhdG9yLCBcIiAoZGVmYXVsdCB2YWx1ZSBmb3IgZGVjaW1hbFNlcGFyYXRvciBpcyAuKVxcbiAgICAgICBcIikpO1xuICAgICAgfSAvL3ZhbGlkYXRlIG1hc2tcblxuXG4gICAgICBpZiAobWFzaykge1xuICAgICAgICB2YXIgbWFza0FzU3RyID0gbWFzayA9PT0gJ3N0cmluZycgPyBtYXNrIDogbWFzay50b1N0cmluZygpO1xuXG4gICAgICAgIGlmIChtYXNrQXNTdHIubWF0Y2goL1xcZC9nKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcbiAgICAgICAgICBNYXNrIFwiLmNvbmNhdChtYXNrLCBcIiBzaG91bGQgbm90IGNvbnRhaW4gbnVtZXJpYyBjaGFyYWN0ZXI7XFxuICAgICAgICBcIikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiBNaXNjIG1ldGhvZHMgZW5kICoqL1xuXG4gICAgLyoqIGNhcmV0IHNwZWNpZmljIG1ldGhvZHMgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRQYXRjaGVkQ2FyZXRQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3MsIGN1cnJlbnRWYWx1ZSkge1xuICAgICAgLyogc2V0dGluZyBjYXJldCBwb3NpdGlvbiB3aXRoaW4gdGltZW91dCBvZiAwbXMgaXMgcmVxdWlyZWQgZm9yIG1vYmlsZSBjaHJvbWUsXG4gICAgICBvdGhlcndpc2UgYnJvd3NlciByZXNldHMgdGhlIGNhcmV0IHBvc2l0aW9uIGFmdGVyIHdlIHNldCBpdFxuICAgICAgV2UgYXJlIGFsc28gc2V0dGluZyBpdCB3aXRob3V0IHRpbWVvdXQgc28gdGhhdCBpbiBub3JtYWwgYnJvd3NlciB3ZSBkb24ndCBzZWUgdGhlIGZsaWNrZXJpbmcgKi9cbiAgICAgICgwLCBfdXRpbHMuc2V0Q2FyZXRQb3NpdGlvbikoZWwsIGNhcmV0UG9zKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZWwudmFsdWUgPT09IGN1cnJlbnRWYWx1ZSkgKDAsIF91dGlscy5zZXRDYXJldFBvc2l0aW9uKShlbCwgY2FyZXRQb3MpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICAgIC8qIFRoaXMga2VlcHMgdGhlIGNhcmV0IHdpdGhpbiB0eXBpbmcgYXJlYSBzbyBwZW9wbGUgY2FuJ3QgdHlwZSBpbiBiZXR3ZWVuIHByZWZpeCBvciBzdWZmaXggKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvcnJlY3RDYXJldFBvc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBjYXJldFBvcywgZGlyZWN0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczIucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzMi5zdWZmaXgsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHMyLmZvcm1hdDsgLy9pZiB2YWx1ZSBpcyBlbXB0eSByZXR1cm4gMFxuXG4gICAgICBpZiAodmFsdWUgPT09ICcnKSByZXR1cm4gMDsgLy9jYXJldCBwb3NpdGlvbiBzaG91bGQgYmUgYmV0d2VlbiAwIGFuZCB2YWx1ZSBsZW5ndGhcblxuICAgICAgY2FyZXRQb3MgPSAoMCwgX3V0aWxzLmNsYW1wKShjYXJldFBvcywgMCwgdmFsdWUubGVuZ3RoKTsgLy9pbiBjYXNlIG9mIGZvcm1hdCBhcyBudW1iZXIgbGltaXQgYmV0d2VlbiBwcmVmaXggYW5kIHN1ZmZpeFxuXG4gICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICB2YXIgaGFzTmVnYXRpb24gPSB2YWx1ZVswXSA9PT0gJy0nO1xuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5jbGFtcCkoY2FyZXRQb3MsIHByZWZpeC5sZW5ndGggKyAoaGFzTmVnYXRpb24gPyAxIDogMCksIHZhbHVlLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpO1xuICAgICAgfSAvL2luIGNhc2UgaWYgY3VzdG9tIGZvcm1hdCBtZXRob2QgZG9uJ3QgZG8gYW55dGhpbmdcblxuXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGNhcmV0UG9zO1xuICAgICAgLyogaW4gY2FzZSBmb3JtYXQgaXMgc3RyaW5nIGZpbmQgdGhlIGNsb3Nlc3QgIyBwb3NpdGlvbiBmcm9tIHRoZSBjYXJldCBwb3NpdGlvbiAqL1xuICAgICAgLy9pbiBjYXNlIHRoZSBjYXJldFBvcyBoYXZlIGlucHV0IHZhbHVlIG9uIGl0IGRvbid0IGRvIGFueXRoaW5nXG5cbiAgICAgIGlmIChmb3JtYXRbY2FyZXRQb3NdID09PSAnIycgJiYgKDAsIF91dGlscy5jaGFySXNOdW1iZXIpKHZhbHVlW2NhcmV0UG9zXSkpIHJldHVybiBjYXJldFBvczsgLy9pZiBjYXJldFBvcyBpcyBqdXN0IGFmdGVyIGlucHV0IHZhbHVlIGRvbid0IGRvIGFueXRoaW5nXG5cbiAgICAgIGlmIChmb3JtYXRbY2FyZXRQb3MgLSAxXSA9PT0gJyMnICYmICgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldFBvcyAtIDFdKSkgcmV0dXJuIGNhcmV0UG9zOyAvL2ZpbmQgdGhlIG5lYXJlc3QgY2FyZXQgcG9zaXRpb25cblxuICAgICAgdmFyIGZpcnN0SGFzaFBvc2l0aW9uID0gZm9ybWF0LmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBsYXN0SGFzaFBvc2l0aW9uID0gZm9ybWF0Lmxhc3RJbmRleE9mKCcjJyk7IC8vbGltaXQgdGhlIGN1cnNvciBiZXR3ZWVuIHRoZSBmaXJzdCAjIHBvc2l0aW9uIGFuZCB0aGUgbGFzdCAjIHBvc2l0aW9uXG5cbiAgICAgIGNhcmV0UG9zID0gKDAsIF91dGlscy5jbGFtcCkoY2FyZXRQb3MsIGZpcnN0SGFzaFBvc2l0aW9uLCBsYXN0SGFzaFBvc2l0aW9uICsgMSk7XG4gICAgICB2YXIgbmV4dFBvcyA9IGZvcm1hdC5zdWJzdHJpbmcoY2FyZXRQb3MsIGZvcm1hdC5sZW5ndGgpLmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBjYXJldExlZnRCb3VuZCA9IGNhcmV0UG9zO1xuICAgICAgdmFyIGNhcmV0UmlnaHRCb3VuZCA9IGNhcmV0UG9zICsgKG5leHRQb3MgPT09IC0xID8gMCA6IG5leHRQb3MpOyAvL2dldCB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIGxhc3QgbnVtYmVyIGlzIHByZXNlbnRcblxuICAgICAgd2hpbGUgKGNhcmV0TGVmdEJvdW5kID4gZmlyc3RIYXNoUG9zaXRpb24gJiYgKGZvcm1hdFtjYXJldExlZnRCb3VuZF0gIT09ICcjJyB8fCAhKDAsIF91dGlscy5jaGFySXNOdW1iZXIpKHZhbHVlW2NhcmV0TGVmdEJvdW5kXSkpKSB7XG4gICAgICAgIGNhcmV0TGVmdEJvdW5kIC09IDE7XG4gICAgICB9XG5cbiAgICAgIHZhciBnb1RvTGVmdCA9ICEoMCwgX3V0aWxzLmNoYXJJc051bWJlcikodmFsdWVbY2FyZXRSaWdodEJvdW5kXSkgfHwgZGlyZWN0aW9uID09PSAnbGVmdCcgJiYgY2FyZXRQb3MgIT09IGZpcnN0SGFzaFBvc2l0aW9uIHx8IGNhcmV0UG9zIC0gY2FyZXRMZWZ0Qm91bmQgPCBjYXJldFJpZ2h0Qm91bmQgLSBjYXJldFBvcztcblxuICAgICAgaWYgKGdvVG9MZWZ0KSB7XG4gICAgICAgIC8vY2hlY2sgaWYgbnVtYmVyIHNob3VsZCBiZSB0YWtlbiBhZnRlciB0aGUgYm91bmQgb3IgYWZ0ZXIgaXRcbiAgICAgICAgLy9pZiBudW1iZXIgcHJlY2VkaW5nIGEgdmFsaWQgbnVtYmVyIGtlZXAgaXQgYWZ0ZXJcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldExlZnRCb3VuZF0pID8gY2FyZXRMZWZ0Qm91bmQgKyAxIDogY2FyZXRMZWZ0Qm91bmQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYXJldFJpZ2h0Qm91bmQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldENhcmV0UG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2FyZXRQb3NpdGlvbihpbnB1dFZhbHVlLCBmb3JtYXR0ZWRWYWx1ZSwgY2FyZXRQb3MpIHtcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcbiAgICAgIHZhciBzdGF0ZVZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgIHZhciBudW1SZWdleCA9IHRoaXMuZ2V0TnVtYmVyUmVnZXgodHJ1ZSk7XG4gICAgICB2YXIgaW5wdXROdW1iZXIgPSAoaW5wdXRWYWx1ZS5tYXRjaChudW1SZWdleCkgfHwgW10pLmpvaW4oJycpO1xuICAgICAgdmFyIGZvcm1hdHRlZE51bWJlciA9IChmb3JtYXR0ZWRWYWx1ZS5tYXRjaChudW1SZWdleCkgfHwgW10pLmpvaW4oJycpO1xuICAgICAgdmFyIGosIGk7XG4gICAgICBqID0gMDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGNhcmV0UG9zOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJlbnRJbnB1dENoYXIgPSBpbnB1dFZhbHVlW2ldIHx8ICcnO1xuICAgICAgICB2YXIgY3VycmVudEZvcm1hdENoYXIgPSBmb3JtYXR0ZWRWYWx1ZVtqXSB8fCAnJzsgLy9ubyBuZWVkIHRvIGluY3JlYXNlIG5ldyBjdXJzb3IgcG9zaXRpb24gaWYgZm9ybWF0dGVkIHZhbHVlIGRvZXMgbm90IGhhdmUgdGhvc2UgY2hhcmFjdGVyc1xuICAgICAgICAvL2Nhc2UgaW5wdXRWYWx1ZSA9IDFhMjMgYW5kIGZvcm1hdHRlZFZhbHVlID0gIDEyM1xuXG4gICAgICAgIGlmICghY3VycmVudElucHV0Q2hhci5tYXRjaChudW1SZWdleCkgJiYgY3VycmVudElucHV0Q2hhciAhPT0gY3VycmVudEZvcm1hdENoYXIpIGNvbnRpbnVlOyAvL1doZW4gd2UgYXJlIHN0cmlwaW5nIG91dCBsZWFkaW5nIHplcm9zIG1haW50YWluIHRoZSBuZXcgY3Vyc29yIHBvc2l0aW9uXG4gICAgICAgIC8vQ2FzZSBpbnB1dFZhbHVlID0gMDAwMjMgYW5kIGZvcm1hdHRlZFZhbHVlID0gMjM7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRJbnB1dENoYXIgPT09ICcwJyAmJiBjdXJyZW50Rm9ybWF0Q2hhci5tYXRjaChudW1SZWdleCkgJiYgY3VycmVudEZvcm1hdENoYXIgIT09ICcwJyAmJiBpbnB1dE51bWJlci5sZW5ndGggIT09IGZvcm1hdHRlZE51bWJlci5sZW5ndGgpIGNvbnRpbnVlOyAvL3dlIGFyZSBub3QgdXNpbmcgY3VycmVudEZvcm1hdENoYXIgYmVjYXVzZSBqIGNhbiBjaGFuZ2UgaGVyZVxuXG4gICAgICAgIHdoaWxlIChjdXJyZW50SW5wdXRDaGFyICE9PSBmb3JtYXR0ZWRWYWx1ZVtqXSAmJiBqIDwgZm9ybWF0dGVkVmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgaisrO1xuICAgICAgICB9XG5cbiAgICAgICAgaisrO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycgJiYgIXN0YXRlVmFsdWUpIHtcbiAgICAgICAgLy9zZXQgaXQgdG8gdGhlIG1heGltdW0gdmFsdWUgc28gaXQgZ29lcyBhZnRlciB0aGUgbGFzdCBudW1iZXJcbiAgICAgICAgaiA9IGZvcm1hdHRlZFZhbHVlLmxlbmd0aDtcbiAgICAgIH0gLy9jb3JyZWN0IGNhcmV0IHBvc2l0aW9uIGlmIGl0cyBvdXRzaWRlIG9mIGVkaXRhYmxlIGFyZWFcblxuXG4gICAgICBqID0gdGhpcy5jb3JyZWN0Q2FyZXRQb3NpdGlvbihmb3JtYXR0ZWRWYWx1ZSwgaik7XG4gICAgICByZXR1cm4gajtcbiAgICB9XG4gICAgLyoqIGNhcmV0IHNwZWNpZmljIG1ldGhvZHMgZW5kcyAqKi9cblxuICAgIC8qKiBtZXRob2RzIHRvIHJlbW92ZSBmb3JtYXR0dGluZyAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVByZWZpeEFuZFN1ZmZpeFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVQcmVmaXhBbmRTdWZmaXgodmFsKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczMuZm9ybWF0LFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzMy5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHMzLnN1ZmZpeDsgLy9yZW1vdmUgcHJlZml4IGFuZCBzdWZmaXhcblxuICAgICAgaWYgKCFmb3JtYXQgJiYgdmFsKSB7XG4gICAgICAgIHZhciBpc05lZ2F0aXZlID0gdmFsWzBdID09PSAnLSc7IC8vcmVtb3ZlIG5lZ2F0aW9uIHNpZ25cblxuICAgICAgICBpZiAoaXNOZWdhdGl2ZSkgdmFsID0gdmFsLnN1YnN0cmluZygxLCB2YWwubGVuZ3RoKTsgLy9yZW1vdmUgcHJlZml4XG5cbiAgICAgICAgdmFsID0gcHJlZml4ICYmIHZhbC5pbmRleE9mKHByZWZpeCkgPT09IDAgPyB2YWwuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgsIHZhbC5sZW5ndGgpIDogdmFsOyAvL3JlbW92ZSBzdWZmaXhcblxuICAgICAgICB2YXIgc3VmZml4TGFzdEluZGV4ID0gdmFsLmxhc3RJbmRleE9mKHN1ZmZpeCk7XG4gICAgICAgIHZhbCA9IHN1ZmZpeCAmJiBzdWZmaXhMYXN0SW5kZXggIT09IC0xICYmIHN1ZmZpeExhc3RJbmRleCA9PT0gdmFsLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGggPyB2YWwuc3Vic3RyaW5nKDAsIHN1ZmZpeExhc3RJbmRleCkgOiB2YWw7IC8vYWRkIG5lZ2F0aW9uIHNpZ24gYmFja1xuXG4gICAgICAgIGlmIChpc05lZ2F0aXZlKSB2YWwgPSAnLScgKyB2YWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nKHZhbCkge1xuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0O1xuICAgICAgdmFyIGZvcm1hdEFycmF5ID0gZm9ybWF0LnNwbGl0KCcjJykuZmlsdGVyKGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ciAhPT0gJyc7XG4gICAgICB9KTtcbiAgICAgIHZhciBzdGFydCA9IDA7XG4gICAgICB2YXIgbnVtU3RyID0gJyc7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGZvcm1hdEFycmF5Lmxlbmd0aDsgaSA8PSBsbjsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gZm9ybWF0QXJyYXlbaV0gfHwgJyc7IC8vaWYgaSBpcyB0aGUgbGFzdCBmcmFnbWVudCB0YWtlIHRoZSBpbmRleCBvZiBlbmQgb2YgdGhlIHZhbHVlXG4gICAgICAgIC8vRm9yIGNhc2UgbGlrZSArMSAoOTExKSA5MTEgOTEgOTEgaGF2aW5nIHBhdHRlcm4gKzEgKCMjIykgIyMjICMjICMjXG5cbiAgICAgICAgdmFyIGluZGV4ID0gaSA9PT0gbG4gPyB2YWwubGVuZ3RoIDogdmFsLmluZGV4T2YocGFydCwgc3RhcnQpO1xuICAgICAgICAvKiBpbiBhbnkgY2FzZSBpZiB3ZSBkb24ndCBmaW5kIHRoZSBwYXR0ZXJuIHBhcnQgaW4gdGhlIHZhbHVlIGFzc3VtZSB0aGUgdmFsIGFzIG51bWVyaWMgc3RyaW5nXG4gICAgICAgIFRoaXMgd2lsbCBiZSBhbHNvIGluIGNhc2UgaWYgdXNlciBoYXMgc3RhcnRlZCB0eXBpbmcsIGluIGFueSBvdGhlciBjYXNlIGl0IHdpbGwgbm90IGJlIC0xXG4gICAgICAgIHVubGVzcyB3cm9uZyBwcm9wIHZhbHVlIGlzIHByb3ZpZGVkICovXG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIG51bVN0ciA9IHZhbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBudW1TdHIgKz0gdmFsLnN1YnN0cmluZyhzdGFydCwgaW5kZXgpO1xuICAgICAgICAgIHN0YXJ0ID0gaW5kZXggKyBwYXJ0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKG51bVN0ci5tYXRjaCgvXFxkL2cpIHx8IFtdKS5qb2luKCcnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlRm9ybWF0dGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nKHZhbCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZm9ybWF0ID0gX3RoaXMkcHJvcHM0LmZvcm1hdCxcbiAgICAgICAgICByZW1vdmVGb3JtYXR0aW5nID0gX3RoaXMkcHJvcHM0LnJlbW92ZUZvcm1hdHRpbmc7XG4gICAgICBpZiAoIXZhbCkgcmV0dXJuIHZhbDtcblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFsID0gdGhpcy5yZW1vdmVQcmVmaXhBbmRTdWZmaXgodmFsKTtcbiAgICAgICAgdmFsID0gdGhpcy5nZXRGbG9hdFN0cmluZyh2YWwpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YWwgPSB0aGlzLnJlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nKHZhbCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZW1vdmVGb3JtYXR0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vY29uZGl0aW9uIG5lZWQgdG8gYmUgaGFuZGxlZCBpZiBmb3JtYXQgbWV0aG9kIGlzIHByb3ZpZGUsXG4gICAgICAgIHZhbCA9IHJlbW92ZUZvcm1hdHRpbmcodmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9ICh2YWwubWF0Y2goL1xcZC9nKSB8fCBbXSkuam9pbignJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIC8qKiBtZXRob2RzIHRvIHJlbW92ZSBmb3JtYXR0dGluZyBlbmQgKiovXG5cbiAgICAvKioqIGZvcm1hdCBzcGVjaWZpYyBtZXRob2RzIHN0YXJ0ICoqKi9cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCB3aGVuICMgYmFzZWQgc3RyaW5nIGlzIHByb3ZpZGVkXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBudW1TdHIgTnVtZXJpYyBTdHJpbmdcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICBmb3JtYXR0ZWQgVmFsdWVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdFdpdGhQYXR0ZXJuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFdpdGhQYXR0ZXJuKG51bVN0cikge1xuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0O1xuICAgICAgdmFyIGhhc2hDb3VudCA9IDA7XG4gICAgICB2YXIgZm9ybWF0dGVkTnVtYmVyQXJ5ID0gZm9ybWF0LnNwbGl0KCcnKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxuID0gZm9ybWF0Lmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdFtpXSA9PT0gJyMnKSB7XG4gICAgICAgICAgZm9ybWF0dGVkTnVtYmVyQXJ5W2ldID0gbnVtU3RyW2hhc2hDb3VudF0gfHwgdGhpcy5nZXRNYXNrQXRJbmRleChoYXNoQ291bnQpO1xuICAgICAgICAgIGhhc2hDb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3JtYXR0ZWROdW1iZXJBcnkuam9pbignJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gbnVtU3RyIE51bWVyaWMgc3RyaW5nL2Zsb2F0U3RyaW5nXSBJdCBhbHdheXMgaGF2ZSBkZWNpbWFsU2VwYXJhdG9yIGFzIC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGZvcm1hdHRlZCBWYWx1ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0QXNOdW1iZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0QXNOdW1iZXIobnVtU3RyKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczUuZGVjaW1hbFNjYWxlLFxuICAgICAgICAgIGZpeGVkRGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM1LmZpeGVkRGVjaW1hbFNjYWxlLFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzNS5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHM1LnN1ZmZpeCxcbiAgICAgICAgICBhbGxvd05lZ2F0aXZlID0gX3RoaXMkcHJvcHM1LmFsbG93TmVnYXRpdmUsXG4gICAgICAgICAgdGhvdXNhbmRzR3JvdXBTdHlsZSA9IF90aGlzJHByb3BzNS50aG91c2FuZHNHcm91cFN0eWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczQgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvciA9IF90aGlzJGdldFNlcGFyYXRvcnM0LnRob3VzYW5kU2VwYXJhdG9yLFxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3IgPSBfdGhpcyRnZXRTZXBhcmF0b3JzNC5kZWNpbWFsU2VwYXJhdG9yO1xuXG4gICAgICB2YXIgaGFzRGVjaW1hbFNlcGFyYXRvciA9IG51bVN0ci5pbmRleE9mKCcuJykgIT09IC0xIHx8IGRlY2ltYWxTY2FsZSAmJiBmaXhlZERlY2ltYWxTY2FsZTtcblxuICAgICAgdmFyIF9zcGxpdERlY2ltYWwgPSAoMCwgX3V0aWxzLnNwbGl0RGVjaW1hbCkobnVtU3RyLCBhbGxvd05lZ2F0aXZlKSxcbiAgICAgICAgICBiZWZvcmVEZWNpbWFsID0gX3NwbGl0RGVjaW1hbC5iZWZvcmVEZWNpbWFsLFxuICAgICAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYWZ0ZXJEZWNpbWFsLFxuICAgICAgICAgIGFkZE5lZ2F0aW9uID0gX3NwbGl0RGVjaW1hbC5hZGROZWdhdGlvbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3RcbiAgICAgIC8vYXBwbHkgZGVjaW1hbCBwcmVjaXNpb24gaWYgaXRzIGRlZmluZWRcblxuXG4gICAgICBpZiAoZGVjaW1hbFNjYWxlICE9PSB1bmRlZmluZWQpIGFmdGVyRGVjaW1hbCA9ICgwLCBfdXRpbHMubGltaXRUb1NjYWxlKShhZnRlckRlY2ltYWwsIGRlY2ltYWxTY2FsZSwgZml4ZWREZWNpbWFsU2NhbGUpO1xuXG4gICAgICBpZiAodGhvdXNhbmRTZXBhcmF0b3IpIHtcbiAgICAgICAgdmFyIHRob3VzYW5kc0dyb3VwUmVnZXggPSAoMCwgX3V0aWxzLmdldFRob3VzYW5kc0dyb3VwUmVnZXgpKHRob3VzYW5kc0dyb3VwU3R5bGUpO1xuICAgICAgICBiZWZvcmVEZWNpbWFsID0gYmVmb3JlRGVjaW1hbC5yZXBsYWNlKHRob3VzYW5kc0dyb3VwUmVnZXgsICckMScgKyB0aG91c2FuZFNlcGFyYXRvcik7XG4gICAgICB9IC8vYWRkIHByZWZpeCBhbmQgc3VmZml4XG5cblxuICAgICAgaWYgKHByZWZpeCkgYmVmb3JlRGVjaW1hbCA9IHByZWZpeCArIGJlZm9yZURlY2ltYWw7XG4gICAgICBpZiAoc3VmZml4KSBhZnRlckRlY2ltYWwgPSBhZnRlckRlY2ltYWwgKyBzdWZmaXg7IC8vcmVzdG9yZSBuZWdhdGlvbiBzaWduXG5cbiAgICAgIGlmIChhZGROZWdhdGlvbikgYmVmb3JlRGVjaW1hbCA9ICctJyArIGJlZm9yZURlY2ltYWw7XG4gICAgICBudW1TdHIgPSBiZWZvcmVEZWNpbWFsICsgKGhhc0RlY2ltYWxTZXBhcmF0b3IgJiYgZGVjaW1hbFNlcGFyYXRvciB8fCAnJykgKyBhZnRlckRlY2ltYWw7XG4gICAgICByZXR1cm4gbnVtU3RyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JtYXROdW1TdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0TnVtU3RyaW5nKCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgIHZhciBfdGhpcyRwcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzNi5mb3JtYXQsXG4gICAgICAgICAgYWxsb3dFbXB0eUZvcm1hdHRpbmcgPSBfdGhpcyRwcm9wczYuYWxsb3dFbXB0eUZvcm1hdHRpbmc7XG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgaWYgKHZhbHVlID09PSAnJyAmJiAhYWxsb3dFbXB0eUZvcm1hdHRpbmcpIHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICctJyAmJiAhZm9ybWF0KSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gJy0nO1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHRoaXMuZm9ybWF0V2l0aFBhdHRlcm4oZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gZm9ybWF0KGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXRBc051bWJlcihmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3JtYXR0ZWRWYWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0VmFsdWVQcm9wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFZhbHVlUHJvcChkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczcgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZvcm1hdCA9IF90aGlzJHByb3BzNy5mb3JtYXQsXG4gICAgICAgICAgZGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM3LmRlY2ltYWxTY2FsZSxcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzNy5maXhlZERlY2ltYWxTY2FsZSxcbiAgICAgICAgICBhbGxvd0VtcHR5Rm9ybWF0dGluZyA9IF90aGlzJHByb3BzNy5hbGxvd0VtcHR5Rm9ybWF0dGluZztcbiAgICAgIHZhciBfdGhpcyRwcm9wczggPSB0aGlzLnByb3BzLFxuICAgICAgICAgIF90aGlzJHByb3BzOCR2YWx1ZSA9IF90aGlzJHByb3BzOC52YWx1ZSxcbiAgICAgICAgICB2YWx1ZSA9IF90aGlzJHByb3BzOCR2YWx1ZSA9PT0gdm9pZCAwID8gZGVmYXVsdFZhbHVlIDogX3RoaXMkcHJvcHM4JHZhbHVlLFxuICAgICAgICAgIGlzTnVtZXJpY1N0cmluZyA9IF90aGlzJHByb3BzOC5pc051bWVyaWNTdHJpbmc7XG4gICAgICB2YXIgaXNOb25OdW1lcmljRmFsc3kgPSAhdmFsdWUgJiYgdmFsdWUgIT09IDA7XG5cbiAgICAgIGlmIChpc05vbk51bWVyaWNGYWxzeSAmJiBhbGxvd0VtcHR5Rm9ybWF0dGluZykge1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfSAvLyBpZiB2YWx1ZSBpcyBub3QgZGVmaW5lZCByZXR1cm4gZW1wdHkgc3RyaW5nXG5cblxuICAgICAgaWYgKGlzTm9uTnVtZXJpY0ZhbHN5ICYmICFhbGxvd0VtcHR5Rm9ybWF0dGluZykgcmV0dXJuICcnO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIGlzTnVtZXJpY1N0cmluZyA9IHRydWU7XG4gICAgICB9IC8vcm91bmQgdGhlIG51bWJlciBiYXNlZCBvbiBkZWNpbWFsU2NhbGVcbiAgICAgIC8vZm9ybWF0IG9ubHkgaWYgbm9uIGZvcm1hdHRlZCB2YWx1ZSBpcyBwcm92aWRlZFxuXG5cbiAgICAgIGlmIChpc051bWVyaWNTdHJpbmcgJiYgIWZvcm1hdCAmJiB0eXBlb2YgZGVjaW1hbFNjYWxlID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YWx1ZSA9ICgwLCBfdXRpbHMucm91bmRUb1ByZWNpc2lvbikodmFsdWUsIGRlY2ltYWxTY2FsZSwgZml4ZWREZWNpbWFsU2NhbGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBpc051bWVyaWNTdHJpbmcgPyB0aGlzLmZvcm1hdE51bVN0cmluZyh2YWx1ZSkgOiB0aGlzLmZvcm1hdElucHV0KHZhbHVlKTtcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRWYWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0TmVnYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0TmVnYXRpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgdmFyIGFsbG93TmVnYXRpdmUgPSB0aGlzLnByb3BzLmFsbG93TmVnYXRpdmU7XG4gICAgICB2YXIgbmVnYXRpb25SZWdleCA9IG5ldyBSZWdFeHAoJygtKScpO1xuICAgICAgdmFyIGRvdWJsZU5lZ2F0aW9uUmVnZXggPSBuZXcgUmVnRXhwKCcoLSkoLikqKC0pJyk7IC8vIENoZWNrIG51bWJlciBoYXMgJy0nIHZhbHVlXG5cbiAgICAgIHZhciBoYXNOZWdhdGlvbiA9IG5lZ2F0aW9uUmVnZXgudGVzdCh2YWx1ZSk7IC8vIENoZWNrIG51bWJlciBoYXMgMiBvciBtb3JlICctJyB2YWx1ZXNcblxuICAgICAgdmFyIHJlbW92ZU5lZ2F0aW9uID0gZG91YmxlTmVnYXRpb25SZWdleC50ZXN0KHZhbHVlKTsgLy9yZW1vdmUgbmVnYXRpb25cblxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8tL2csICcnKTtcblxuICAgICAgaWYgKGhhc05lZ2F0aW9uICYmICFyZW1vdmVOZWdhdGlvbiAmJiBhbGxvd05lZ2F0aXZlKSB7XG4gICAgICAgIHZhbHVlID0gJy0nICsgdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0SW5wdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0SW5wdXQoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0OyAvL2Zvcm1hdCBuZWdhdGlvbiBvbmx5IGlmIHdlIGFyZSBmb3JtYXR0aW5nIGFzIG51bWJlclxuXG4gICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMucmVtb3ZlUHJlZml4QW5kU3VmZml4KHZhbHVlKTtcbiAgICAgICAgdmFsdWUgPSB0aGlzLmZvcm1hdE5lZ2F0aW9uKHZhbHVlKTtcbiAgICAgIH0gLy9yZW1vdmUgZm9ybWF0dGluZyBmcm9tIG51bWJlclxuXG5cbiAgICAgIHZhbHVlID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKHZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdE51bVN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKiogZm9ybWF0IHNwZWNpZmljIG1ldGhvZHMgZW5kICoqKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQ2hhcmFjdGVyQUZvcm1hdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NoYXJhY3RlckFGb3JtYXQoY2FyZXRQb3MsIHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM5ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczkuZm9ybWF0LFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzOS5wcmVmaXgsXG4gICAgICAgICAgc3VmZml4ID0gX3RoaXMkcHJvcHM5LnN1ZmZpeCxcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfdGhpcyRwcm9wczkuZGVjaW1hbFNjYWxlLFxuICAgICAgICAgIGZpeGVkRGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHM5LmZpeGVkRGVjaW1hbFNjYWxlO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczUgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczUuZGVjaW1hbFNlcGFyYXRvcjsgLy9jaGVjayB3aXRoaW4gZm9ybWF0IHBhdHRlcm5cblxuXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycgJiYgZm9ybWF0W2NhcmV0UG9zXSAhPT0gJyMnKSByZXR1cm4gdHJ1ZTsgLy9jaGVjayBpbiBudW1iZXIgZm9ybWF0XG5cbiAgICAgIGlmICghZm9ybWF0ICYmIChjYXJldFBvcyA8IHByZWZpeC5sZW5ndGggfHwgY2FyZXRQb3MgPj0gdmFsdWUubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCB8fCBkZWNpbWFsU2NhbGUgJiYgZml4ZWREZWNpbWFsU2NhbGUgJiYgdmFsdWVbY2FyZXRQb3NdID09PSBkZWNpbWFsU2VwYXJhdG9yKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGVja0lmRm9ybWF0R290RGVsZXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0lmRm9ybWF0R290RGVsZXRlZChzdGFydCwgZW5kLCB2YWx1ZSkge1xuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJBRm9ybWF0KGksIHZhbHVlKSkgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIGNoZWNrIGlmIGFueSBmb3JtYXR0aW5nIGdvdCByZW1vdmVkIGJ5IHRoZSBkZWxldGUgb3IgYmFja3NwYWNlIGFuZCByZXNldCB0aGUgdmFsdWVcbiAgICAgKiBJdCB3aWxsIGFsc28gd29yayBhcyBmYWxsYmFjayBpZiBhbmRyb2lkIGNob21lIGtleURvd24gaGFuZGxlciBkb2VzIG5vdCB3b3JrXG4gICAgICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29ycmVjdElucHV0VmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ycmVjdElucHV0VmFsdWUoY2FyZXRQb3MsIGxhc3RWYWx1ZSwgdmFsdWUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczEwID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczEwLmZvcm1hdCxcbiAgICAgICAgICBhbGxvd05lZ2F0aXZlID0gX3RoaXMkcHJvcHMxMC5hbGxvd05lZ2F0aXZlLFxuICAgICAgICAgIHByZWZpeCA9IF90aGlzJHByb3BzMTAucHJlZml4LFxuICAgICAgICAgIHN1ZmZpeCA9IF90aGlzJHByb3BzMTAuc3VmZml4O1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0U2VwYXJhdG9yczYgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX3RoaXMkZ2V0U2VwYXJhdG9yczYuZGVjaW1hbFNlcGFyYXRvcjtcblxuICAgICAgdmFyIGxhc3ROdW1TdHIgPSB0aGlzLnN0YXRlLm51bUFzU3RyaW5nIHx8ICcnO1xuICAgICAgdmFyIF90aGlzJHNlbGVjdGlvbkJlZm9yZSA9IHRoaXMuc2VsZWN0aW9uQmVmb3JlSW5wdXQsXG4gICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSBfdGhpcyRzZWxlY3Rpb25CZWZvcmUuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgc2VsZWN0aW9uRW5kID0gX3RoaXMkc2VsZWN0aW9uQmVmb3JlLnNlbGVjdGlvbkVuZDtcblxuICAgICAgdmFyIF9maW5kQ2hhbmdlZEluZGV4ID0gKDAsIF91dGlscy5maW5kQ2hhbmdlZEluZGV4KShsYXN0VmFsdWUsIHZhbHVlKSxcbiAgICAgICAgICBzdGFydCA9IF9maW5kQ2hhbmdlZEluZGV4LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IF9maW5kQ2hhbmdlZEluZGV4LmVuZDtcbiAgICAgIC8qKiBDaGVjayBpZiBvbmx5IC4gaXMgYWRkZWQgaW4gdGhlIG51bWVyaWMgZm9ybWF0IGFuZCByZXBsYWNlIGl0IHdpdGggZGVjaW1hbCBzZXBhcmF0b3IgKi9cblxuXG4gICAgICBpZiAoIWZvcm1hdCAmJiBkZWNpbWFsU2VwYXJhdG9yICE9PSAnLicgJiYgc3RhcnQgPT09IGVuZCAmJiB2YWx1ZVtzZWxlY3Rpb25TdGFydF0gPT09ICcuJykge1xuICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyKDAsIHNlbGVjdGlvblN0YXJ0KSArIGRlY2ltYWxTZXBhcmF0b3IgKyB2YWx1ZS5zdWJzdHIoc2VsZWN0aW9uU3RhcnQgKyAxLCB2YWx1ZS5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgLyogZG9uJ3QgZG8gYW55aHRpbmcgaWYgc29tZXRoaW5nIGdvdCBhZGRlZCxcbiAgICAgICBvciBpZiB2YWx1ZSBpcyBlbXB0eSBzdHJpbmcgKHdoZW4gd2hvbGUgaW5wdXQgaXMgY2xlYXJlZClcbiAgICAgICBvciB3aG9sZSBpbnB1dCBpcyByZXBsYWNlIHdpdGggYSBudW1iZXJcbiAgICAgICovXG5cblxuICAgICAgdmFyIGxlZnRCb3VuZCA9ICEhZm9ybWF0ID8gMCA6IHByZWZpeC5sZW5ndGg7XG4gICAgICB2YXIgcmlnaHRCb3VuZCA9IGxhc3RWYWx1ZS5sZW5ndGggLSAoISFmb3JtYXQgPyAwIDogc3VmZml4Lmxlbmd0aCk7XG5cbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiBsYXN0VmFsdWUubGVuZ3RoIHx8ICF2YWx1ZS5sZW5ndGggfHwgc3RhcnQgPT09IGVuZCB8fCBzZWxlY3Rpb25TdGFydCA9PT0gMCAmJiBzZWxlY3Rpb25FbmQgPT09IGxhc3RWYWx1ZS5sZW5ndGggfHwgc2VsZWN0aW9uU3RhcnQgPT09IGxlZnRCb3VuZCAmJiBzZWxlY3Rpb25FbmQgPT09IHJpZ2h0Qm91bmQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSAvL2lmIGZvcm1hdCBnb3QgZGVsZXRlZCByZXNldCB0aGUgdmFsdWUgdG8gbGFzdCB2YWx1ZVxuXG5cbiAgICAgIGlmICh0aGlzLmNoZWNrSWZGb3JtYXRHb3REZWxldGVkKHN0YXJ0LCBlbmQsIGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICB9IC8vZm9yIG51bWJlcnMgY2hlY2sgaWYgYmVmb3JlRGVjaW1hbCBnb3QgZGVsZXRlZCBhbmQgdGhlcmUgaXMgbm90aGluZyBhZnRlciBkZWNpbWFsLFxuICAgICAgLy9jbGVhciBhbGwgbnVtYmVycyBpbiBzdWNoIGNhc2Ugd2hpbGUga2VlcGluZyB0aGUgLSBzaWduXG5cblxuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdmFyIG51bWVyaWNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcodmFsdWUpO1xuXG4gICAgICAgIHZhciBfc3BsaXREZWNpbWFsMiA9ICgwLCBfdXRpbHMuc3BsaXREZWNpbWFsKShudW1lcmljU3RyaW5nLCBhbGxvd05lZ2F0aXZlKSxcbiAgICAgICAgICAgIGJlZm9yZURlY2ltYWwgPSBfc3BsaXREZWNpbWFsMi5iZWZvcmVEZWNpbWFsLFxuICAgICAgICAgICAgYWZ0ZXJEZWNpbWFsID0gX3NwbGl0RGVjaW1hbDIuYWZ0ZXJEZWNpbWFsLFxuICAgICAgICAgICAgYWRkTmVnYXRpb24gPSBfc3BsaXREZWNpbWFsMi5hZGROZWdhdGlvbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3RcbiAgICAgICAgLy9jbGVhciBvbmx5IGlmIHNvbWV0aGluZyBnb3QgZGVsZXRlZFxuXG5cbiAgICAgICAgdmFyIGlzQmVmb3JlRGVjaW1hbFBvaW50ID0gY2FyZXRQb3MgPCB2YWx1ZS5pbmRleE9mKGRlY2ltYWxTZXBhcmF0b3IpICsgMTtcblxuICAgICAgICBpZiAobnVtZXJpY1N0cmluZy5sZW5ndGggPCBsYXN0TnVtU3RyLmxlbmd0aCAmJiBpc0JlZm9yZURlY2ltYWxQb2ludCAmJiBiZWZvcmVEZWNpbWFsID09PSAnJyAmJiAhcGFyc2VGbG9hdChhZnRlckRlY2ltYWwpKSB7XG4gICAgICAgICAgcmV0dXJuIGFkZE5lZ2F0aW9uID8gJy0nIDogJyc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvKiogVXBkYXRlIHZhbHVlIGFuZCBjYXJldCBwb3NpdGlvbiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlVmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVmFsdWUocGFyYW1zKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIG9uVXBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBfdXRpbHMubm9vcDtcbiAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IHBhcmFtcy5mb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgICBpbnB1dCA9IHBhcmFtcy5pbnB1dDtcbiAgICAgIHZhciBudW1Bc1N0cmluZyA9IHBhcmFtcy5udW1Bc1N0cmluZyxcbiAgICAgICAgICBjYXJldFBvcyA9IHBhcmFtcy5jYXJldFBvcztcbiAgICAgIHZhciBvblZhbHVlQ2hhbmdlID0gdGhpcy5wcm9wcy5vblZhbHVlQ2hhbmdlO1xuICAgICAgdmFyIGxhc3RWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7IC8vc2V0IGNhcmV0IHBvc2l0aW9uLCBhbmQgdmFsdWUgaW1wZXJhdGl2ZWx5IHdoZW4gZWxlbWVudCBpcyBwcm92aWRlZFxuXG4gICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgLy9jYWxjdWxhdGUgY2FyZXQgcG9zaXRpb24gaWYgbm90IGRlZmluZWRcbiAgICAgICAgaWYgKCFjYXJldFBvcykge1xuICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gcGFyYW1zLmlucHV0VmFsdWUgfHwgaW5wdXQudmFsdWU7XG4gICAgICAgICAgdmFyIGN1cnJlbnRDYXJldFBvc2l0aW9uID0gKDAsIF91dGlscy5nZXRDdXJyZW50Q2FyZXRQb3NpdGlvbikoaW5wdXQpOyAvL2dldCB0aGUgY2FyZXQgcG9zaXRpb25cblxuICAgICAgICAgIGNhcmV0UG9zID0gdGhpcy5nZXRDYXJldFBvc2l0aW9uKGlucHV0VmFsdWUsIGZvcm1hdHRlZFZhbHVlLCBjdXJyZW50Q2FyZXRQb3NpdGlvbik7XG4gICAgICAgIH0gLy9zZXQgdGhlIHZhbHVlIGltcGVyYXRpdmVseSwgdGhpcyBpcyByZXF1aXJlZCBmb3IgSUUgZml4XG5cblxuICAgICAgICBpbnB1dC52YWx1ZSA9IGZvcm1hdHRlZFZhbHVlOyAvL3NldCBjYXJldCBwb3NpdGlvblxuXG4gICAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oaW5wdXQsIGNhcmV0UG9zLCBmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9IC8vY2FsY3VsYXRlIG51bWVyaWMgc3RyaW5nIGlmIG5vdCBwYXNzZWRcblxuXG4gICAgICBpZiAobnVtQXNTdHJpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBudW1Bc1N0cmluZyA9IHRoaXMucmVtb3ZlRm9ybWF0dGluZyhmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICB9IC8vdXBkYXRlIHN0YXRlIGlmIHZhbHVlIGlzIGNoYW5nZWRcblxuXG4gICAgICBpZiAoZm9ybWF0dGVkVmFsdWUgIT09IGxhc3RWYWx1ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB2YWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgbnVtQXNTdHJpbmc6IG51bUFzU3RyaW5nXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvblZhbHVlQ2hhbmdlKF90aGlzMi5nZXRWYWx1ZU9iamVjdChmb3JtYXR0ZWRWYWx1ZSwgbnVtQXNTdHJpbmcpKTtcbiAgICAgICAgICBvblVwZGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgIGUucGVyc2lzdCgpO1xuICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG4gICAgICB2YXIgaW5wdXRWYWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICB2YXIgaXNBbGxvd2VkID0gcHJvcHMuaXNBbGxvd2VkO1xuICAgICAgdmFyIGxhc3RWYWx1ZSA9IHN0YXRlLnZhbHVlIHx8ICcnO1xuICAgICAgdmFyIGN1cnJlbnRDYXJldFBvc2l0aW9uID0gKDAsIF91dGlscy5nZXRDdXJyZW50Q2FyZXRQb3NpdGlvbikoZWwpO1xuICAgICAgaW5wdXRWYWx1ZSA9IHRoaXMuY29ycmVjdElucHV0VmFsdWUoY3VycmVudENhcmV0UG9zaXRpb24sIGxhc3RWYWx1ZSwgaW5wdXRWYWx1ZSk7XG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdElucHV0KGlucHV0VmFsdWUpIHx8ICcnO1xuICAgICAgdmFyIG51bUFzU3RyaW5nID0gdGhpcy5yZW1vdmVGb3JtYXR0aW5nKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgIHZhciB2YWx1ZU9iaiA9IHRoaXMuZ2V0VmFsdWVPYmplY3QoZm9ybWF0dGVkVmFsdWUsIG51bUFzU3RyaW5nKTtcblxuICAgICAgaWYgKCFpc0FsbG93ZWQodmFsdWVPYmopKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gbGFzdFZhbHVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZVZhbHVlKHtcbiAgICAgICAgZm9ybWF0dGVkVmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmcsXG4gICAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWUsXG4gICAgICAgIGlucHV0OiBlbFxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBwcm9wcy5vbkNoYW5nZShlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkJsdXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25CbHVyKGUpIHtcbiAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgdmFyIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgICAgICBvbkJsdXIgPSBwcm9wcy5vbkJsdXI7XG4gICAgICB2YXIgbnVtQXNTdHJpbmcgPSBzdGF0ZS5udW1Bc1N0cmluZztcbiAgICAgIHZhciBsYXN0VmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICAgIHRoaXMuZm9jdXNlZEVsbSA9IG51bGw7XG5cbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIG51bUFzU3RyaW5nID0gKDAsIF91dGlscy5maXhMZWFkaW5nWmVybykobnVtQXNTdHJpbmcpO1xuICAgICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdE51bVN0cmluZyhudW1Bc1N0cmluZyk7IC8vY2hhbmdlIHRoZSBzdGF0ZVxuXG4gICAgICAgIGlmIChmb3JtYXR0ZWRWYWx1ZSAhPT0gbGFzdFZhbHVlKSB7XG4gICAgICAgICAgLy8gdGhlIGV2ZW50IG5lZWRzIHRvIGJlIHBlcnNpc3RlZCBiZWNhdXNlIGl0cyBwcm9wZXJ0aWVzIGNhbiBiZSBhY2Nlc3NlZCBpbiBhbiBhc3luY2hyb25vdXMgd2F5XG4gICAgICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZTogZm9ybWF0dGVkVmFsdWUsXG4gICAgICAgICAgICBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmdcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvbkJsdXIoZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG9uQmx1cihlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25LZXlEb3duXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICB2YXIgZWwgPSBlLnRhcmdldDtcbiAgICAgIHZhciBrZXkgPSBlLmtleTtcbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IGVsLnNlbGVjdGlvbkVuZCxcbiAgICAgICAgICBfZWwkdmFsdWUgPSBlbC52YWx1ZSxcbiAgICAgICAgICB2YWx1ZSA9IF9lbCR2YWx1ZSA9PT0gdm9pZCAwID8gJycgOiBfZWwkdmFsdWU7XG4gICAgICB2YXIgZXhwZWN0ZWRDYXJldFBvc2l0aW9uO1xuICAgICAgdmFyIF90aGlzJHByb3BzMTEgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF90aGlzJHByb3BzMTEuZGVjaW1hbFNjYWxlLFxuICAgICAgICAgIGZpeGVkRGVjaW1hbFNjYWxlID0gX3RoaXMkcHJvcHMxMS5maXhlZERlY2ltYWxTY2FsZSxcbiAgICAgICAgICBwcmVmaXggPSBfdGhpcyRwcm9wczExLnByZWZpeCxcbiAgICAgICAgICBzdWZmaXggPSBfdGhpcyRwcm9wczExLnN1ZmZpeCxcbiAgICAgICAgICBmb3JtYXQgPSBfdGhpcyRwcm9wczExLmZvcm1hdCxcbiAgICAgICAgICBvbktleURvd24gPSBfdGhpcyRwcm9wczExLm9uS2V5RG93bixcbiAgICAgICAgICBvblZhbHVlQ2hhbmdlID0gX3RoaXMkcHJvcHMxMS5vblZhbHVlQ2hhbmdlO1xuICAgICAgdmFyIGlnbm9yZURlY2ltYWxTZXBhcmF0b3IgPSBkZWNpbWFsU2NhbGUgIT09IHVuZGVmaW5lZCAmJiBmaXhlZERlY2ltYWxTY2FsZTtcbiAgICAgIHZhciBudW1SZWdleCA9IHRoaXMuZ2V0TnVtYmVyUmVnZXgoZmFsc2UsIGlnbm9yZURlY2ltYWxTZXBhcmF0b3IpO1xuICAgICAgdmFyIG5lZ2F0aXZlUmVnZXggPSBuZXcgUmVnRXhwKCctJyk7XG4gICAgICB2YXIgaXNQYXR0ZXJuRm9ybWF0ID0gdHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZyc7XG4gICAgICB0aGlzLnNlbGVjdGlvbkJlZm9yZUlucHV0ID0ge1xuICAgICAgICBzZWxlY3Rpb25TdGFydDogc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgIHNlbGVjdGlvbkVuZDogc2VsZWN0aW9uRW5kIC8vSGFuZGxlIGJhY2tzcGFjZSBhbmQgZGVsZXRlIGFnYWluc3Qgbm9uIG51bWVyaWNhbC9kZWNpbWFsIGNoYXJhY3RlcnMgb3IgYXJyb3cga2V5c1xuXG4gICAgICB9O1xuXG4gICAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBrZXkgPT09ICdCYWNrc3BhY2UnKSB7XG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0IC0gMTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQXJyb3dSaWdodCcpIHtcbiAgICAgICAgZXhwZWN0ZWRDYXJldFBvc2l0aW9uID0gc2VsZWN0aW9uU3RhcnQgKyAxO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdEZWxldGUnKSB7XG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0O1xuICAgICAgfSAvL2lmIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiBpcyBub3Qgc2V0IGl0IG1lYW5zIHdlIGRvbid0IHdhbnQgdG8gSGFuZGxlIGtleURvd25cbiAgICAgIC8vYWxzbyBpZiBtdWx0aXBsZSBjaGFyYWN0ZXJzIGFyZSBzZWxlY3RlZCBkb24ndCBoYW5kbGVcblxuXG4gICAgICBpZiAoZXhwZWN0ZWRDYXJldFBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgc2VsZWN0aW9uU3RhcnQgIT09IHNlbGVjdGlvbkVuZCkge1xuICAgICAgICBvbktleURvd24oZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld0NhcmV0UG9zaXRpb24gPSBleHBlY3RlZENhcmV0UG9zaXRpb247XG4gICAgICB2YXIgbGVmdEJvdW5kID0gaXNQYXR0ZXJuRm9ybWF0ID8gZm9ybWF0LmluZGV4T2YoJyMnKSA6IHByZWZpeC5sZW5ndGg7XG4gICAgICB2YXIgcmlnaHRCb3VuZCA9IGlzUGF0dGVybkZvcm1hdCA/IGZvcm1hdC5sYXN0SW5kZXhPZignIycpICsgMSA6IHZhbHVlLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGg7XG5cbiAgICAgIGlmIChrZXkgPT09ICdBcnJvd0xlZnQnIHx8IGtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBrZXkgPT09ICdBcnJvd0xlZnQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiwgZGlyZWN0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnRGVsZXRlJyAmJiAhbnVtUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSAmJiAhbmVnYXRpdmVSZWdleC50ZXN0KHZhbHVlW2V4cGVjdGVkQ2FyZXRQb3NpdGlvbl0pKSB7XG4gICAgICAgIHdoaWxlICghbnVtUmVnZXgudGVzdCh2YWx1ZVtuZXdDYXJldFBvc2l0aW9uXSkgJiYgbmV3Q2FyZXRQb3NpdGlvbiA8IHJpZ2h0Qm91bmQpIHtcbiAgICAgICAgICBuZXdDYXJldFBvc2l0aW9uKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQmFja3NwYWNlJyAmJiAhbnVtUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSkge1xuICAgICAgICAvKiBOT1RFOiBUaGlzIGlzIHNwZWNpYWwgY2FzZSB3aGVuIGJhY2tzcGFjZSBpcyBwcmVzc2VkIG9uIGFcbiAgICAgICAgbmVnYXRpdmUgdmFsdWUgd2hpbGUgdGhlIGN1cnNvciBwb3NpdGlvbiBpcyBhZnRlciBwcmVmaXguIFdlIGNhbid0IGhhbmRsZSBpdCBvbiBvbkNoYW5nZSBiZWNhdXNlXG4gICAgICAgIHdlIHdpbGwgbm90IGhhdmUgYW55IGluZm9ybWF0aW9uIG9mIGtleVByZXNzXG4gICAgICAgICovXG4gICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA8PSBsZWZ0Qm91bmQgKyAxICYmIHZhbHVlWzBdID09PSAnLScgJiYgdHlwZW9mIGZvcm1hdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSk7IC8vcGVyc2lzdCBldmVudCBiZWZvcmUgcGVyZm9ybWluZyBhc3luYyB0YXNrXG5cbiAgICAgICAgICBlLnBlcnNpc3QoKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgICAgICAgIGNhcmV0UG9zOiBuZXdDYXJldFBvc2l0aW9uLFxuICAgICAgICAgICAgaW5wdXQ6IGVsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW5lZ2F0aXZlUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSkge1xuICAgICAgICAgIHdoaWxlICghbnVtUmVnZXgudGVzdCh2YWx1ZVtuZXdDYXJldFBvc2l0aW9uIC0gMV0pICYmIG5ld0NhcmV0UG9zaXRpb24gPiBsZWZ0Qm91bmQpIHtcbiAgICAgICAgICAgIG5ld0NhcmV0UG9zaXRpb24tLTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXdDYXJldFBvc2l0aW9uID0gdGhpcy5jb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgbmV3Q2FyZXRQb3NpdGlvbiwgJ2xlZnQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobmV3Q2FyZXRQb3NpdGlvbiAhPT0gZXhwZWN0ZWRDYXJldFBvc2l0aW9uIHx8IGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA8IGxlZnRCb3VuZCB8fCBleHBlY3RlZENhcmV0UG9zaXRpb24gPiByaWdodEJvdW5kKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgbmV3Q2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgLyogTk9URTogdGhpcyBpcyBqdXN0IHJlcXVpcmVkIGZvciB1bml0IHRlc3QgYXMgd2UgbmVlZCB0byBnZXQgdGhlIG5ld0NhcmV0UG9zaXRpb24sXG4gICAgICAgICAgICAgIFJlbW92ZSB0aGlzIHdoZW4geW91IGZpbmQgZGlmZmVyZW50IHNvbHV0aW9uICovXG5cblxuICAgICAgaWYgKGUuaXNVbml0VGVzdFJ1bikge1xuICAgICAgICB0aGlzLnNldFBhdGNoZWRDYXJldFBvc2l0aW9uKGVsLCBuZXdDYXJldFBvc2l0aW9uLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMub25LZXlEb3duKGUpO1xuICAgIH1cbiAgICAvKiogcmVxdWlyZWQgdG8gaGFuZGxlIHRoZSBjYXJldCBwb3NpdGlvbiB3aGVuIGNsaWNrIGFueXdoZXJlIHdpdGhpbiB0aGUgaW5wdXQgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdXNlVXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZVVwKGUpIHtcbiAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xuICAgICAgLyoqXG4gICAgICAgKiBOT1RFOiB3ZSBoYXZlIHRvIGdpdmUgZGVmYXVsdCB2YWx1ZSBmb3IgdmFsdWUgYXMgaW4gY2FzZSB3aGVuIGN1c3RvbSBpbnB1dCBpcyBwcm92aWRlZFxuICAgICAgICogdmFsdWUgY2FuIGNvbWUgYXMgdW5kZWZpbmVkIHdoZW4gbm90aGluZyBpcyBwcm92aWRlZCBvbiB2YWx1ZSBwcm9wLlxuICAgICAgKi9cblxuICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gZWwuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgc2VsZWN0aW9uRW5kID0gZWwuc2VsZWN0aW9uRW5kLFxuICAgICAgICAgIF9lbCR2YWx1ZTIgPSBlbC52YWx1ZSxcbiAgICAgICAgICB2YWx1ZSA9IF9lbCR2YWx1ZTIgPT09IHZvaWQgMCA/ICcnIDogX2VsJHZhbHVlMjtcblxuICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgdmFyIGNhcmV0UG9zaXRpb24gPSB0aGlzLmNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBzZWxlY3Rpb25TdGFydCk7XG5cbiAgICAgICAgaWYgKGNhcmV0UG9zaXRpb24gIT09IHNlbGVjdGlvblN0YXJ0KSB7XG4gICAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMub25Nb3VzZVVwKGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkZvY3VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRm9jdXMoZSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIC8vIFdvcmthcm91bmQgQ2hyb21lIGFuZCBTYWZhcmkgYnVnIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc3OTMyOFxuICAgICAgLy8gKG9uRm9jdXMgZXZlbnQgdGFyZ2V0IHNlbGVjdGlvblN0YXJ0IGlzIGFsd2F5cyAwIGJlZm9yZSBzZXRUaW1lb3V0KVxuICAgICAgZS5wZXJzaXN0KCk7XG4gICAgICB0aGlzLmZvY3VzZWRFbG0gPSBlLnRhcmdldDtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWwgPSBlLnRhcmdldDtcbiAgICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gZWwuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgICBzZWxlY3Rpb25FbmQgPSBlbC5zZWxlY3Rpb25FbmQsXG4gICAgICAgICAgICBfZWwkdmFsdWUzID0gZWwudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZSA9IF9lbCR2YWx1ZTMgPT09IHZvaWQgMCA/ICcnIDogX2VsJHZhbHVlMztcblxuICAgICAgICB2YXIgY2FyZXRQb3NpdGlvbiA9IF90aGlzMy5jb3JyZWN0Q2FyZXRQb3NpdGlvbih2YWx1ZSwgc2VsZWN0aW9uU3RhcnQpOyAvL3NldFBhdGNoZWRDYXJldFBvc2l0aW9uIG9ubHkgd2hlbiBldmVyeXRoaW5nIGlzIG5vdCBzZWxlY3RlZCBvbiBmb2N1cyAod2hpbGUgdGFiYmluZyBpbnRvIHRoZSBmaWVsZClcblxuXG4gICAgICAgIGlmIChjYXJldFBvc2l0aW9uICE9PSBzZWxlY3Rpb25TdGFydCAmJiAhKHNlbGVjdGlvblN0YXJ0ID09PSAwICYmIHNlbGVjdGlvbkVuZCA9PT0gdmFsdWUubGVuZ3RoKSkge1xuICAgICAgICAgIF90aGlzMy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnByb3BzLm9uRm9jdXMoZSk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczEyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB0eXBlID0gX3RoaXMkcHJvcHMxMi50eXBlLFxuICAgICAgICAgIGRpc3BsYXlUeXBlID0gX3RoaXMkcHJvcHMxMi5kaXNwbGF5VHlwZSxcbiAgICAgICAgICBjdXN0b21JbnB1dCA9IF90aGlzJHByb3BzMTIuY3VzdG9tSW5wdXQsXG4gICAgICAgICAgcmVuZGVyVGV4dCA9IF90aGlzJHByb3BzMTIucmVuZGVyVGV4dCxcbiAgICAgICAgICBnZXRJbnB1dFJlZiA9IF90aGlzJHByb3BzMTIuZ2V0SW5wdXRSZWY7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgICAgdmFyIG90aGVyUHJvcHMgPSAoMCwgX3V0aWxzLm9taXQpKHRoaXMucHJvcHMsIHByb3BUeXBlcyk7XG5cbiAgICAgIHZhciBpbnB1dFByb3BzID0gX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZSxcbiAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93bixcbiAgICAgICAgb25Nb3VzZVVwOiB0aGlzLm9uTW91c2VVcCxcbiAgICAgICAgb25Gb2N1czogdGhpcy5vbkZvY3VzLFxuICAgICAgICBvbkJsdXI6IHRoaXMub25CbHVyXG4gICAgICB9KTtcblxuICAgICAgaWYgKGRpc3BsYXlUeXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHQgPyByZW5kZXJUZXh0KHZhbHVlKSB8fCBudWxsIDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHtcbiAgICAgICAgICByZWY6IGdldElucHV0UmVmXG4gICAgICAgIH0pLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGN1c3RvbUlucHV0KSB7XG4gICAgICAgIHZhciBDdXN0b21JbnB1dCA9IGN1c3RvbUlucHV0O1xuICAgICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChDdXN0b21JbnB1dCwgaW5wdXRQcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe30sIGlucHV0UHJvcHMsIHtcbiAgICAgICAgcmVmOiBnZXRJbnB1dFJlZlxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBOdW1iZXJGb3JtYXQ7XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbk51bWJlckZvcm1hdC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5OdW1iZXJGb3JtYXQuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xudmFyIF9kZWZhdWx0ID0gTnVtYmVyRm9ybWF0O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1udW1iZXItZm9ybWF0L2xpYi9udW1iZXJfZm9ybWF0LmpzXG4vLyBtb2R1bGUgaWQgPSA2MDc3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IFBhcGVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1BhcGVyJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaGVja2JveCc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NlbGVjdCc7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9NZW51SXRlbSc7XHJcbmltcG9ydCBJbnZvaWNlVGFibGUgZnJvbSAnLi9JbnZvaWNlVGFibGUnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbmFja2Jhcic7XHJcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b24nO1xyXG5pbXBvcnQgQ2xvc2VJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcbmltcG9ydCBDbGVhciBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xlYXInO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICAgIGR1ZURldGFpbHNSb290OiB7XHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjBcIixcclxuICAgICAgICBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCJcclxuICAgIH0sXHJcbiAgICBwb3N0Q2FsbER1ZURldGFpbHNSb290OiB7XHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjBcIixcclxuICAgICAgICBoZWlnaHQ6IFwiNjB2aFwiLFxyXG4gICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG5cclxuICAgIH0sXHJcbiAgICBtZW51SXRlbVJvb3Q6IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcclxuICAgICAgICBwYWRkaW5nOiBcIjEuNXZoIDEuMDl2d1wiXHJcbiAgICB9LFxyXG4gICAgbWVudVBhcGVyOiB7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCB3aGl0ZVwiXHJcbiAgICB9LFxyXG4gICAgY2hlY2tlZEljb246IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIlxyXG4gICAgfSxcclxuICAgIHNlbGVjdEZpbHRlcjoge1xyXG4gICAgICAgIG1pbldpZHRoOiAxMjAsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtICFpbXBvcnRhbnRcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjEuNzE4dndcIixcclxuICAgIH0sXHJcbiAgICBlbWFpbEljb246IHtcclxuICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiY2FsYygxLjQ2dmggKyAxLjQ2dncpXCIsXHJcbiAgICB9LFxyXG4gICAgZW5hYmxlZEVtYWlsSWNvbjoge1xyXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcclxuICAgIH0sXHJcbiAgICBkaXNhYmxlZEVtYWlsSWNvbjoge1xyXG4gICAgICAgIG9wYWNpdHk6IFwiLjVcIlxyXG4gICAgfSxcclxuICAgIGJsYWNrVGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBmb250U2l6ZTogXCIuOXJlbVwiLFxyXG4gICAgfSxcclxuICAgIHNlbGVjdE1lbnU6IHtcclxuICAgICAgICBmb250U2l6ZTogXCIuOXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMilcIixcclxuICAgIH0sXHJcbiAgICBjbGVhclNlbGVjdGlvbnM6IHtcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCIsXHJcbiAgICAgICAgb3BhY2l0eTogMC42NSxcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGNsZWFyU2VsZWN0aW9uc1BhcmVudDoge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcclxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogXCIuNDVyZW1cIlxyXG4gICAgfSxcclxuICAgIHNlbGVjdEljb246IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiAuNlxyXG4gICAgfSxcclxuICAgIHNlbGVjdExpbmVQb3N0Q2FsbDoge1xyXG4gICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIi43cHggc29saWQgIzU5NkE3NSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIuN3ZoIDBcIlxyXG4gICAgfSxcclxuICAgIHNlbGVjdExpbmVJbkNhbGw6IHtcclxuICAgICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxyXG4gICAgICAgIG1hcmdpblRvcDogXCIyLjAzN3ZoXCJcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlQnVja2V0Q2hlY2tib3g6IHtcclxuICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCJcclxuICAgIH0sXHJcbiAgICBjaGVja0JveFJvb3Q6IHtcclxuICAgICAgICBwYWRkaW5nOiBcIjBcIlxyXG4gICAgfSxcclxuICAgIGNsZWFyU2VsZWN0aW9uR3JpZDoge1xyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCIsXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGludm9pY2VzOiBbXSxcclxuICAgIGZpbHRlckludm9pY2VzOiBmdW5jdGlvbigpIHt9LFxyXG4gICAgYnVja2V0TmFtZXM6IFtdLFxyXG59O1xyXG5cclxuY2xhc3MgRHVlRGV0YWlscyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcylcclxuICAgICAgICB0aGlzLnRvdGFsUm93cyA9IDA7XHJcbiAgICAgICAgdmFyIG1hcCA9IHt9XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwcm9wcy5pbnZvaWNlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsUm93cyA9IHRoaXMudG90YWxSb3dzICsgcHJvcHMuaW52b2ljZXNbal0ubGVuZ3RoXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMuaW52b2ljZXNbal0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghcHJvcHMuY29ycmVjdEludm9pY2VzTWFwKVxyXG4gICAgICAgICAgICAgICAgICAgIG1hcFtwcm9wcy5pbnZvaWNlc1tqXVtpXS5pZF0gPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzLmludm9pY2VzW2pdW2ldLmlkIGluIHByb3BzLmNvcnJlY3RJbnZvaWNlc01hcClcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwW3Byb3BzLmludm9pY2VzW2pdW2ldLmlkXSA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcFtwcm9wcy5pbnZvaWNlc1tqXVtpXS5pZF0gPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wb3N0Q2FsbCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0U2VsZWN0ZWRJbnZvaWNlcyhtYXApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBpbnZvaWNlVHlwZTogXCJBbGxcIixcclxuICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlczogbWFwLFxyXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXHJcbiAgICAgICAgICAgIGdsb2JhbENoZWNrOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNCdWxrRW1haWw6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbGxlY3RvcjogdGhpcy5wcm9wcy5jb2xsZWN0b3IsXHJcbiAgICAgICAgICAgIGN1c3RvbWVyOiB0aGlzLnByb3BzLmN1c3RvbWVyLFxyXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnByb3BzLmZpbHRlckludm9pY2VzKFwiQWxsXCIpXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzIH0sICgpID0+IHsgdGhpcy5zZXRDaGVjayhwcm9wcy5pbnZvaWNlcywgdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKSB9KVxyXG4gICAgICAgIC8vIHRoaXMuc2V0Q2hlY2socHJvcHMuaW52b2ljZXMsdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzKVxyXG4gICAgfVxyXG5cclxuICAgIHNldENoZWNrID0gKGludm9pY2VzLCBzZWxlY3RlZEludm9pY2VzKSA9PiB7XHJcblxyXG4gICAgICAgIHZhciBhbGxFbWFpbHNGbGFnID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wID0gaW52b2ljZXNcclxuXHJcbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZVxyXG4gICAgICAgIHZhciBzdW0gPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBzdW0gPSBzdW0gKyB0ZW1wW2pdLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wW2pdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbal1baV0uaWRdID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9lbmFibGUgb3IgZGlzYWJsZSBlbWFpbCBpY29uIGJhc2VkIG9uIHNlbGVjdGlvblxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBbal0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbdGVtcFtqXVtpXS5pZF0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbEVtYWlsc0ZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0J1bGtFbWFpbDogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYWxsRW1haWxzRmxhZykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IHRydWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdW0gPT0gMClcclxuICAgICAgICAgICAgZmxhZyA9IHRydWVcclxuXHJcbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGdsb2JhbENoZWNrOiBmYWxzZSB9KVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGdsb2JhbENoZWNrOiB0cnVlIH0pXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVHbG9iYWxNYXAgPSAoZGF0YSwgZmxhZywgY2FsbEZyb21DaGlsZCkgPT4ge1xyXG4gICAgICAgIHZhciB0ZW1wO1xyXG4gICAgICAgIHN3aXRjaCAoZmxhZykge1xyXG4gICAgICAgICAgICBjYXNlIFwiYWRkXCI6XHJcbiAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzXHJcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcClcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzXHJcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImFkZEFycmF5XCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbEZyb21DaGlsZCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2RhdGFbaV0uaWRdID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEubGVuZ3RoOyBqKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVtqXS5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtqXVtpXS5pZF0gPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVBcnJheVwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxGcm9tQ2hpbGQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2pdLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2pdW2ldLmlkXSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IHRlbXAgfSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrKHRoaXMuc3RhdGUuaW52b2ljZXMsIHRlbXApXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnBvc3RDYWxsID09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRTZWxlY3RlZEludm9pY2VzKHRlbXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZ2xvYmFsQ2hlY2sgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdsb2JhbE1hcCh0aGlzLnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIsIGZhbHNlKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVHbG9iYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJhZGRBcnJheVwiLCBmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbGVhclNlbGVjdGlvbnMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVHbG9iYWxNYXAodGhpcy5zdGF0ZS5pbnZvaWNlcywgXCJyZW1vdmVBcnJheVwiLCBmYWxzZSlcclxuICAgIH1cclxuICAgIGZpbmRUeXBlID0gKGludm9pY2UpID0+IHtcclxuICAgICAgICBpZiAoaW52b2ljZS5wMnBEZWxpbnF1ZW50KVxyXG4gICAgICAgICAgICByZXR1cm4gXCJQcmVkaWN0ZWQgRGVsaW5xbWVudFwiXHJcbiAgICAgICAgaWYgKGludm9pY2UucDJwVXBjb21pbmcpXHJcbiAgICAgICAgICAgIHJldHVybiBcIlVwY29taW5nIFAyUFwiXHJcbiAgICAgICAgaWYgKGludm9pY2UucDJwQnJva2VuKVxyXG4gICAgICAgICAgICByZXR1cm4gXCJCcm9rZW4gUDJQXCJcclxuICAgICAgICByZXR1cm4gXCJEaXNwdXRlXCJcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVGaWx0ZXJDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICAgICAgLy8gdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VUeXBlOiBldmVudC50YXJnZXQudmFsdWUgfSlcclxuICAgICAgICAvLyB2YXIgaW52b2ljZVR5cGUgPSBldmVudC50YXJnZXQudmFsdWVcclxuICAgICAgICAvLyBpZiAoaW52b2ljZVR5cGUgPT0gXCJBbGxcIilcclxuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiB0aGlzLnN0YXRlLmFsbEludm9pY2VzIH0sKCkgPT4ge3RoaXMuc2V0Q2hlY2soKX0pO1xyXG4gICAgICAgIC8vIGVsc2Uge1xyXG4gICAgICAgIC8vICAgICBsZXQgaW52b2ljZXMgPSB0aGlzLnN0YXRlLmFsbEludm9pY2VzO1xyXG4gICAgICAgIC8vICAgICB2YXIgZmlsdGVyZWRJbnZvaWNlcyA9IFtdXHJcbiAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgLy8gICAgICAgICBmaWx0ZXJlZEludm9pY2VzW2ldID0gaW52b2ljZXNbaV0uZmlsdGVyKGludm9pY2UgPT4gdGhpcy5maW5kVHlwZShpbnZvaWNlKSA9PSBpbnZvaWNlVHlwZSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogZmlsdGVyZWRJbnZvaWNlcyB9LCgpID0+IHt0aGlzLnNldENoZWNrKCl9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VUeXBlOiBldmVudC50YXJnZXQudmFsdWUgfSlcclxuICAgICAgICB0aGlzLnByb3BzLmZpbHRlckludm9pY2VzKGV2ZW50LnRhcmdldC52YWx1ZSlcclxuICAgIH1cclxuXHJcbiAgICBwcmV2ZW50RGVmYXVsdCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3BlbiBzbmFjayBiYXIgd2l0aCBtZXNzYWdlXHJcbiAgICBvcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IG1lc3NhZ2UgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbG9zZSBzbmFjayBiYXIgdXNpbmcgY3Jvc3MgYnV0dG9uXHJcbiAgICBjbG9zZVNuYWNrYmFyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlbmQgZW1haWwgZm9yIG1vcmUgdGhhbiBvbmUgaW52b2ljZVxyXG4gICAgc2VuZEJ1bGtFbWFpbCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuaW52b2ljZXM7XHJcbiAgICAgICAgdmFyIGRvY3VtZW50TnVtYmVycyA9IFtdO1xyXG5cclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBjaGVja2VkIGludm9pY2VzIElkXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcFtqXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2pdW2ldLmlkXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnROdW1iZXJzLnB1c2godGVtcFtqXVtpXS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWF0aW5nIHJlcXVlc3Qgb2JqZWN0XHJcbiAgICAgICAgbGV0IHJlcUVtYWlsT2JqID0ge1xyXG4gICAgICAgICAgICBjdXN0b21lcklkOiB0aGlzLnN0YXRlLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICBkb2N1bWVudElkczogZG9jdW1lbnROdW1iZXJzLFxyXG4gICAgICAgICAgICBmcm9tOiB0aGlzLnN0YXRlLmNvbGxlY3Rvci5lbWFpbElkLCAgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxyXG4gICAgICAgICAgICB0bzogdGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkLCAgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBNYWtpbmcgYSBwb3N0IGNhbGwgZm9yIHNlbmRpbmcgZW1haWxzXHJcbiAgICAgICAgYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9jb3JyZXNwb25kZW5jZS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKVxyXG4gICAgICAgICAgICAvLyBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopICAgIC8vIG1vY2sgc2VydmVyIGFwaVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRXJyb3IgaW4gc2VuZGluZyBlbWFpbFwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMFxyXG4gICAgICAgIGZvciAobGV0IGkgaW4gc2VsZWN0ZWRJbnZvaWNlcykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyknO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGNsYXNzZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHZhciBkYXlzID0gdGhpcy5wcm9wcy5idWNrZXROYW1lc1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxQYXBlciBjbGFzc05hbWU9e3RoaXMucHJvcHMucG9zdENhbGwgPyBjbGFzc2VzLnBvc3RDYWxsRHVlRGV0YWlsc1Jvb3QgOiBjbGFzc2VzLmR1ZURldGFpbHNSb290fSBlbGV2YXRpb249ezB9PlxyXG4gICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyICBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgY2xhc3NOYW1lPXt0aGlzLnByb3BzLnBvc3RDYWxsID8gY2xhc3Nlcy5zZWxlY3RMaW5lUG9zdENhbGwgOiBjbGFzc2VzLnNlbGVjdExpbmVJbkNhbGx9ID5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlQnVja2V0Q2hlY2tib3h9IGFsaWduPVwiY2VudGVyXCI+PENoZWNrYm94IGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfX0gaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fSBjaGVja2VkPXt0aGlzLnN0YXRlLmdsb2JhbENoZWNrfSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNoYW5nZX0gLz48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5ibGFja1RleHR9PlNlbGVjdCBBbGw8L3NwYW4+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezF9IGFsaWduPVwicmlnaHRcIj48VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNSB9fT5WaWV3ICZuYnNwOzo8L1R5cG9ncmFwaHk+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5zZWxlY3RGaWx0ZXIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaW52b2ljZVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVGaWx0ZXJDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IGljb246IGNsYXNzZXMuc2VsZWN0SWNvbiwgc2VsZWN0TWVudTogY2xhc3Nlcy5zZWxlY3RNZW51IH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW51UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcGVyOiBjbGFzc2VzLm1lbnVQYXBlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJpbnZvaWNlVHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnQWxsJ30+QWxsPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnQnJva2VuIFAyUCd9PkJyb2tlbiBQMlA8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydVcGNvbWluZyBQMlAnfT5VcGNvbWluZyBQMlA8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydEaXNwdXRlJ30+RGlzcHV0ZTwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J1ByZWRpY3RlZCBEZWxpbnF1ZW50J30+UHJlZGljdGVkIERlbGlucXVlbnQ8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMucG9zdENhbGwgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17NX0gYWxpZ249XCJyaWdodFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmNsZWFyU2VsZWN0aW9uR3JpZCxjbGFzc2VzLmNlbnRlckZsZXhCb3gpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17dGhpcy5jbGVhclNlbGVjdGlvbnN9IGNsYXNzTmFtZT17Y2xhc3Nlcy5jbGVhclNlbGVjdGlvbnNQYXJlbnR9PjxDbGVhciBzdHlsZT17eyBmb250U2l6ZTogXCIxLjFyZW1cIiwgb3BhY2l0eTogMC42NSB9fSAvPiA8c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMuY2xlYXJTZWxlY3Rpb25zfT5DbGVhciBTZWxlY3Rpb25zIHt0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGgoKX08L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnByb3BzLnBvc3RDYWxsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezV9IGFsaWduPVwicmlnaHRcIiBzdHlsZT17eyBwYWRkaW5nUmlnaHQ6IFwiMHZ3XCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICh0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCBpbWcgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuZW1haWxJY29uLCBjbGFzc2VzLmVuYWJsZWRFbWFpbEljb24pfSBvbkNsaWNrPXt0aGlzLnNlbmRCdWxrRW1haWx9IHNyYz17Jy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQgJiYgIXRoaXMuc3RhdGUuaXNCdWxrRW1haWwpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCBpbWcgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuZW1haWxJY29uLCBjbGFzc2VzLmRpc2FibGVkRW1haWxJY29uKX0gc3JjPXsnL3Rvdm8vc3RhdGljL0VtYWlsLnN2Zyd9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbnZvaWNlcy5tYXAoKGJ1Y2tldEludm9pY2VzLCBpZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbnZvaWNlVGFibGUgZW1haWxPZkNhbGxlZD17dGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkfSBwb3N0Q2FsbD17dGhpcy5wcm9wcy5wb3N0Q2FsbH0gY29sbGVjdG9yPXt0aGlzLnByb3BzLmNvbGxlY3Rvcn0gY3VzdG9tZXI9e3RoaXMucHJvcHMuY3VzdG9tZXJ9IHNlbGVjdGVkSW52b2ljZXM9e3RoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc30gaW52b2ljZXM9e2J1Y2tldEludm9pY2VzfSBpbmRpdmlkdWFsPXtmYWxzZX0gZGF5cz17ZGF5c1tpZF19IGludm9pY2VUeXBlPXt0aGlzLnN0YXRlLmludm9pY2VUeXBlfSB1cGRhdGVHbG9iYWxNYXA9e3RoaXMudXBkYXRlR2xvYmFsTWFwfT48L0ludm9pY2VUYWJsZT5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDxTbmFja2JhclxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdsZWZ0JyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc25hY2tCYXJPcGVufVxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezIwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJyxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9ezxzcGFuIGlkPVwibWVzc2FnZS1pZFwiPnt0aGlzLnN0YXRlLnNuYWNrQmFyTWVzc2FnZX08L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbj17W1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiY2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwiaW5oZXJpdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2xvc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPixcclxuICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9QYXBlcj5cclxuXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbkR1ZURldGFpbHMucHJvcFR5cGVzID0ge1xyXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICAgaW52b2ljZXM6IFByb3BUeXBlcy5hcnJheSxcclxuICAgIGZpbHRlckludm9pY2VzOiBQcm9wVHlwZXMuZnVuY1xyXG59O1xyXG5cclxuRHVlRGV0YWlscy5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoRHVlRGV0YWlscyk7XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9EdWVEZXRhaWwuanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IEV4cGFuc2lvblBhbmVsIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0V4cGFuc2lvblBhbmVsJztcclxuaW1wb3J0IEV4cGFuc2lvblBhbmVsU3VtbWFyeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbFN1bW1hcnknO1xyXG5pbXBvcnQgRXhwYW5zaW9uUGFuZWxEZXRhaWxzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0V4cGFuc2lvblBhbmVsRGV0YWlscyc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XHJcbmltcG9ydCB7IGZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgRXhwYW5kTW9yZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0V4cGFuZE1vcmUnO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2hlY2tib3gnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcclxuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xvc2UnXHJcbmltcG9ydCBEb25lSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRG9uZSdcclxuaW1wb3J0IFNlbGVjdCBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvU2VsZWN0XCI7XHJcbmltcG9ydCBNZW51SXRlbSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvTWVudUl0ZW1cIjtcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdjb25maWcnO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgU25hY2tiYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU25hY2tiYXInO1xyXG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uQnV0dG9uJztcclxuaW1wb3J0IHsgRXhwYW5kTGVzcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucyc7XHJcbi8vIGltcG9ydCBMaXN0T2ZUaWxlIGZyb20gJy4vTGlzdE9mVGlsZSc7XHJcbmltcG9ydCBjb21iaW5lU3R5bGVzIGZyb20gJy4uL3V0aWxzL2NvbWJpbmVTdHlsZXMnO1xyXG5pbXBvcnQgYmFzZVN0eWxlIGZyb20gICcuLi91dGlscy9iYXNlU3R5bGUnXHJcbmltcG9ydCBHcmlkTGlzdCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkTGlzdCc7XHJcbmltcG9ydCBHcmlkTGlzdFRpbGUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3RUaWxlJztcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgICByb290OiB7XHJcbiAgICAgICAgcGFkZGluZzogXCIwXCJcclxuICAgIH0sXHJcbiAgICBtZW51SXRlbVJvb3Q6IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW1cIixcclxuICAgICAgICBwYWRkaW5nOiBcIjEuNXZoIDEuMDl2d1wiXHJcbiAgICB9LFxyXG4gICAgbWVudVBhcGVyOiB7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCJcclxuICAgIH0sXHJcbiAgICBwb3N0Q2FsbFJvb3Q6IHtcclxuICAgICAgICBwYWRkaW5nOiBcIjBcIixcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiLjh2aFwiXHJcbiAgICB9LFxyXG4gICAgaWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICB3aWR0aDogXCIxLjI1dndcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMi4yMnZoXCIsXHJcbiAgICAgICAgb3BhY2l0eTogXCIuNlwiXHJcblxyXG4gICAgfSxcclxuICAgIGNoZWNrZWRJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgekluZGV4OiBcIjNcIixcclxuICAgICAgICBoZWlnaHQ6IFwiY2FsYygxLjJ2aCArIDEuMnZ3KVwiLFxyXG4gICAgICAgIHdpZHRoOiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIlxyXG4gICAgfSxcclxuICAgIHNlbGVjdEZpbHRlcjoge1xyXG4gICAgICAgIG1pbldpZHRoOiAxMjAsXHJcbiAgICAgICAgbWFyZ2luTGVmdDogXCIxLjcxOHZ3XCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogJzAgLTJweCAtMnB4IC0ycHggIWltcG9ydGFudCcsXHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdERpdjoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxyXG4gICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXHJcbiAgICB9LFxyXG4gICAgc2hpZnQ6IHtcclxuICAgICAgICBtYXJnaW46IFwiMXJlbSAxcmVtIDAgMXJlbVwiXHJcbiAgICB9LFxyXG4gICAgYmxhY2tUZXh0OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi45NXJlbVwiLFxyXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgIH0sXHJcbiAgICBncmV5VGV4dDoge1xyXG4gICAgICAgIG9wYWNpdHk6IFwiLjY1XCJcclxuICAgIH0sXHJcbiAgICBidWNrZXRIZWFkZXJUZXh0OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXHJcbiAgICB9LFxyXG4gICAgY2hhbmdlUm93QmFja2dyb3VuZDoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjNTg2OTczXCIsXHJcbiAgICB9LFxyXG4gICAgZGVmYXVsdEJhY2tncm91bmQ6IHtcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjMzk1QzczICFpbXBvcnRhbnRcIixcclxuICAgICAgICBoZWlnaHQ6IFwiNS42NXZoXCJcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlSGVhZGVyVGV4dDoge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIi45cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHk6IFwiLjVcIlxyXG4gICAgfSxcclxuICAgIHBhbmVsU3VtbWFyeToge1xyXG4gICAgICAgIHBhZGRpbmc6IFwiMFwiLCBtYXJnaW46IFwiMFwiXHJcbiAgICB9LFxyXG4gICAgY29udGVudDoge1xyXG4gICAgICAgIG1hcmdpbjogXCIwICFpbXBvcnRhbnRcIixcclxuICAgIH0sXHJcbiAgICBleHBhbmRJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBpbmRpdmlkdWFsSW52b2ljZUhlYWRlcjoge1xyXG4gICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIyLjAzN3ZoIDFyZW0gMCAxcmVtXCJcclxuICAgIH0sXHJcbiAgICBpY29uU2l6ZToge1xyXG4gICAgICAgIGhlaWdodDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuNDZ2aCArIDEuNDZ2dylcIixcclxuICAgIH0sXHJcbiAgICBlbmFibGVkRW1haWxJY29uOiB7XHJcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxyXG4gICAgfSxcclxuICAgIGRpc2FibGVkRW1haWxJY29uOiB7XHJcbiAgICAgICAgb3BhY2l0eTogXCIuNVwiXHJcbiAgICB9LFxyXG4gICAgc3VtbWFyeUV4cGFuZGVkOiB7XHJcbiAgICAgICAgbWluSGVpZ2h0OiBcIjUuNTV2aCAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICBkaXNhYmxlVGltZWxpbmU6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiMi4ycmVtXCIsIG1hcmdpbkxlZnQ6IFwiLjJyZW1cIlxyXG4gICAgfSxcclxuICAgIHRpbWVsaW5lOiB7XHJcbiAgICAgICAgYm9yZGVyTGVmdDogXCIxcHggc29saWQgIzU5NkE3NVwiLFxyXG4gICAgfSxcclxuICAgIGRpc2FibGVUaW1lbGluZToge1xyXG5cclxuICAgIH0sXHJcbiAgICBwb3N0Q2FsbFRpbWVsaW5lOiB7XHJcbiAgICAgICAgYm9yZGVyTGVmdDogXCIxcHggc29saWQgIzM5NUM3M1wiLFxyXG4gICAgfSxcclxuICAgIHNlbGVjdEljb246IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eTogLjZcclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5Q29udGVudDoge1xyXG4gICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAgIWltcG9ydGFudFwiLFxyXG4gICAgfSxcclxuICAgIGludm9pY2VOdW1iZXJDb2x1bW46IHtcclxuICAgICAgICB3aWR0aDogXCIxNCVcIlxyXG4gICAgfSxcclxuICAgIGFtb3VudENvbHVtbjoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEyJVwiXHJcbiAgICB9LFxyXG4gICAgYnJva2VuQ29sdW1uOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTMuNSVcIlxyXG4gICAgfSxcclxuICAgIHVwY29taW5nQ29sdW1uOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTQlXCJcclxuICAgIH0sXHJcbiAgICBkaXNwdXRlQ29sdW1uOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTMlXCJcclxuICAgIH0sXHJcbiAgICBwcmVkaWN0ZWRDb2x1bW46IHtcclxuICAgICAgICB3aWR0aDogXCIxOCVcIlxyXG4gICAgfSxcclxuICAgIGNoZWNrQm94Q29sdW1uOiB7XHJcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgICAgIG1pbldpZHRoOiBcIjMuMTI1dndcIixcclxuICAgIH0sXHJcbiAgICBib3JkZXJCb3R0b206IHtcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiLjdweCBzb2xpZCAjMzk1QzczICFpbXBvcnRhbnRcIixcclxuICAgIH0sXHJcbiAgICBlbWFpbENvbHVtbjoge1xyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCJcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlQnVja2V0Q2hlY2tib3g6IHtcclxuICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjUuNTV2aFwiLFxyXG4gICAgfSxcclxuICAgIHZlcnRpY2FsVGltZWxpbmU6IHtcclxuICAgICAgICB3aWR0aDogXCIzLjEyNXZ3XCIsXHJcbiAgICB9LFxyXG4gICAgY29ubmVjdG9yOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjUuNTV2aFwiXHJcbiAgICB9LFxyXG4gICAgY2hlY2tCb3hSb290OiB7XHJcbiAgICAgICAgcGFkZGluZzogXCIwXCJcclxuICAgIH0sXHJcbiAgICBpbmRpdmlkdWFsQnVja2V0Q2hlY2tib3g6IHtcclxuICAgICAgICBtaW5XaWR0aDogXCIzLjEyNXZ3XCJcclxuICAgIH0sXHJcbiAgICBzZWxlY3RNZW51OiB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiLjlyZW0gIWltcG9ydGFudFwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjIpXCIsXHJcbiAgICB9LFxyXG4gICAgZ3JpZExpc3RUaWxlOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcImF1dG8gIWltcG9ydGFudFwiXHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcblxyXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBpbnZvaWNlczogW10sXHJcbiAgICBzZWxlY3RlZEludm9pY2VzOiBbXSxcclxuICAgIGZpbHRlckludm9pY2VzOiBmdW5jdGlvbigpIHt9XHJcbn07XHJcblxyXG5jbGFzcyBJbnZvaWNlVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgICAgIHZhciBleHBhbmRlZDtcclxuICAgICAgICB0aGlzLnRvdGFsQW1vdW50ID0gMDtcclxuICAgICAgICB2YXIgbWFwID0ge307XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5pbnZvaWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsQW1vdW50ID0gdGhpcy50b3RhbEFtb3VudCArIHByb3BzLmludm9pY2VzW2ldLmN1cnJlbnRPcGVuQW1vdW50O1xyXG4gICAgICAgICAgICBtYXBbcHJvcHMuaW52b2ljZXNbaV0uaWRdID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjaGVja2VkSW52b2ljZXM7XHJcbiAgICAgICAgdmFyIGludm9pY2VUeXBlO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmluZGl2aWR1YWwpIHtcclxuICAgICAgICAgICAgY2hlY2tlZEludm9pY2VzID0gbWFwO1xyXG4gICAgICAgICAgICBpbnZvaWNlVHlwZSA9IFwiQWxsXCI7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZmlsdGVySW52b2ljZXMoXCJBbGxcIik7XHJcbiAgICAgICAgICAgIGV4cGFuZGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNoZWNrZWRJbnZvaWNlcyA9IHRoaXMucHJvcHMuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICAgICAgaW52b2ljZVR5cGUgPSBwcm9wcy5pbnZvaWNlVHlwZTtcclxuICAgICAgICAgICAgZXhwYW5kZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGNoZWNrZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbnZvaWNlczogcHJvcHMuaW52b2ljZXMsXHJcbiAgICAgICAgICAgIGFsbEludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlczogY2hlY2tlZEludm9pY2VzLFxyXG4gICAgICAgICAgICBkYXlzOiBwcm9wcy5kYXlzLFxyXG4gICAgICAgICAgICB0b3RhbEFtb3VudDogdGhpcy50b3RhbEFtb3VudCxcclxuICAgICAgICAgICAgaW52b2ljZVR5cGU6IGludm9pY2VUeXBlLFxyXG4gICAgICAgICAgICBleHBhbmRlZDogZXhwYW5kZWQsXHJcbiAgICAgICAgICAgIGlzQnVsa0VtYWlsOiB0cnVlLFxyXG4gICAgICAgICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5jdXN0b21lcixcclxuICAgICAgICAgICAgY29sbGVjdG9yOiB0aGlzLnByb3BzLmNvbGxlY3RvcixcclxuICAgICAgICAgICAgc25hY2tCYXJPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgc25hY2tCYXJNZXNzYWdlOiBcIlwiLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMpIHtcclxuICAgICAgICAvLyB0aGlzLnNldENoZWNrKCkgICAgXHJcbiAgICAgICAgdmFyIHN1bSA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5pbnZvaWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzdW0gPSBzdW0gKyBwcm9wcy5pbnZvaWNlc1tpXS5jdXJyZW50T3BlbkFtb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb3BzLmluZGl2aWR1YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRvdGFsQW1vdW50OiBzdW0sIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldENoZWNrKHByb3BzLmludm9pY2VzLCB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRvdGFsQW1vdW50OiBzdW0sIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcywgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzLCBzZWxlY3RlZEludm9pY2VzOiBwcm9wcy5zZWxlY3RlZEludm9pY2VzIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldENoZWNrKHByb3BzLmludm9pY2VzLCB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVGaWx0ZXJDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VUeXBlOiBldmVudC50YXJnZXQudmFsdWUgfSlcclxuICAgICAgICB0aGlzLnByb3BzLmZpbHRlckludm9pY2VzKGV2ZW50LnRhcmdldC52YWx1ZSlcclxuICAgIH07XHJcblxyXG4gICAgdG9nZ2xlRXhwYW5kID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmV4cGFuZGVkID09IHRydWUpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBleHBhbmRlZDogZmFsc2UgfSlcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBleHBhbmRlZDogdHJ1ZSB9KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhZGRJbnZvaWNlID0gKGlkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkO1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcIklEIGlzXCIsaWQpXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpZF0gPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5kaXZpZHVhbClcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTG9jYWxNYXAoaWQsIFwiYWRkXCIpXHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXBkYXRlR2xvYmFsTWFwKGlkLCBcImFkZFwiLCB0cnVlKVxyXG4gICAgICAgICAgICAvLyB0aGlzLnNldENoZWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5pbmRpdmlkdWFsKVxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMb2NhbE1hcChpZCwgXCJyZW1vdmVcIilcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVHbG9iYWxNYXAoaWQsIFwicmVtb3ZlXCIsIHRydWUpXHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2V0Q2hlY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICBjaGVja0FsbEludm9pY2VzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2hlY2tlZCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjaGVja2VkOiBmYWxzZSB9KVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5pbmRpdmlkdWFsKVxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMb2NhbE1hcCh0aGlzLnN0YXRlLmludm9pY2VzLCBcInJlbW92ZUFycmF5XCIpXHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXBkYXRlR2xvYmFsTWFwKHRoaXMuc3RhdGUuaW52b2ljZXMsIFwicmVtb3ZlQXJyYXlcIiwgdHJ1ZSlcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogdHJ1ZSB9KVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5pbmRpdmlkdWFsKVxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMb2NhbE1hcCh0aGlzLnN0YXRlLmludm9pY2VzLCBcImFkZEFycmF5XCIpXHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXBkYXRlR2xvYmFsTWFwKHRoaXMuc3RhdGUuaW52b2ljZXMsIFwiYWRkQXJyYXlcIiwgdHJ1ZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9XaWxsIGNoZWNrIGFuZCBtYXAgYWxsIGludm9pY2VzIGFyZSBzZWxlY3RlZCBvciBub3RcclxuICAgIHVwZGF0ZUxvY2FsTWFwID0gKGRhdGEsIGZsYWcpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKGZsYWcpIHtcclxuICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXM7XHJcbiAgICAgICAgICAgICAgICB0ZW1wW2RhdGFdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICAgICAgICAgIHRlbXBbZGF0YV0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYWRkQXJyYXlcIjpcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFtkYXRhW2ldLmlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRJbnZvaWNlczogdGVtcCB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2sodGhpcy5zdGF0ZS5pbnZvaWNlcywgdGVtcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInJlbW92ZUFycmF5XCI6XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBbZGF0YVtpXS5pZF0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEludm9pY2VzOiB0ZW1wIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGVjayh0aGlzLnN0YXRlLmludm9pY2VzLCB0ZW1wKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q2hlY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIHRlbXAgPSB0aGlzLnN0YXRlLmludm9pY2VzO1xyXG4gICAgICAgIHZhciBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGFsbEVtYWlsc0ZsYWcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy9lbmFibGUgb3IgZGlzYWJsZSBlbWFpbCBpY29uIGJhc2VkIG9uIHNlbGVjdGlvblxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbal0uaWRdID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGFsbEVtYWlsc0ZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzQnVsa0VtYWlsOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYWxsRW1haWxzRmxhZykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNCdWxrRW1haWw6IHRydWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW3RlbXBbaV0uaWRdID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0ZW1wLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKGZsYWcgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGZhbHNlIH0pO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IHRydWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3BlbiBzbmFjayBiYXIgd2l0aCBtZXNzYWdlXHJcbiAgICBvcGVuU25hY2tCYXJXaXRoTWVzc2FnZSA9IG1lc3NhZ2UgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbG9zZSBzbmFjayBiYXIgdXNpbmcgY3Jvc3MgYnV0dG9uXHJcbiAgICBjbG9zZVNuYWNrYmFyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja0Jhck9wZW46IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlbmQgZW1haWwgZm9yIGluZGl2aWR1YWwgaW52b2ljZVxyXG4gICAgc2VuZEVtYWlsID0gKGludm9pY2VJZCkgPT4ge1xyXG4gICAgICAgIC8vQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcclxuICAgICAgICBsZXQgcmVxRW1haWxPYmogPSB7XHJcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXHJcbiAgICAgICAgICAgIGRvY3VtZW50SWRzOiBbaW52b2ljZUlkXSxcclxuICAgICAgICAgICAgZnJvbTogdGhpcy5zdGF0ZS5jb2xsZWN0b3IuZW1haWxJZCwgIC8vZ2V0IGZyb20gY29sbGVjdG9yIHByb2ZpbGVcclxuICAgICAgICAgICAgdG86IHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCwgIC8vZ2V0IGZyb20gQ29udGFjdCBvYmplY3QuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9NYWtpbmcgcG9zdCBjYWxsIGZvciBzZW5kaW5nIEVtYWlsIGZvciB0aGlzIGludm9pY2VcclxuICAgICAgICBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2NvcnJlc3BvbmRlbmNlL2ludm9pY2Vjb3B5YCwgcmVxRW1haWxPYmopXHJcbiAgICAgICAgICAgIC8vIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHlgLCByZXFFbWFpbE9iaikgIC8vIG1vY2sgc2VydmVyIGFwaVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiRW1haWwgc2VudFwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlbmQgZW1haWwgZm9yIG1vcmUgdGhhbiBvbmUgaW52b2ljZVxyXG4gICAgc2VuZEJ1bGtFbWFpbCA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNlbmRpbmcgQnVsayBlbWFpbFwiKTtcclxuICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc3RhdGUuaW52b2ljZXM7XHJcbiAgICAgICAgdmFyIGRvY3VtZW50TnVtYmVycyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGNoZWNrZWQgaW52b2ljZSBJZHNcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1t0ZW1wW2ldLmlkXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudE51bWJlcnMucHVzaCh0ZW1wW2ldLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRpbmcgcmVxdWVzdCBvYmplY3RcclxuICAgICAgICBsZXQgcmVxRW1haWxPYmogPSB7XHJcbiAgICAgICAgICAgIGN1c3RvbWVySWQ6IHRoaXMuc3RhdGUuY3VzdG9tZXIuaWQsXHJcbiAgICAgICAgICAgIGRvY3VtZW50SWRzOiBkb2N1bWVudE51bWJlcnMsXHJcbiAgICAgICAgICAgIGZyb206IHRoaXMuc3RhdGUuY29sbGVjdG9yLmVtYWlsSWQsICAvL2dldCBmcm9tIGNvbGxlY3RvciBwcm9maWxlXHJcbiAgICAgICAgICAgIHRvOiB0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWQsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gTWFraW5nIGEgcG9zdCBjYWxsIGZvciBzZW5kaW5nIGVtYWlsc1xyXG4gICAgICAgIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vY29ycmVzcG9uZGVuY2UvaW52b2ljZWNvcHlgLCByZXFFbWFpbE9iailcclxuICAgICAgICAgICAgLy8gYXhpb3MucG9zdChgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlY29weWAsIHJlcUVtYWlsT2JqKSAgICAvLyBtb2NrIHNlcnZlciBhcGlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVtYWlsIHNlbnRcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFcnJvciBpbiBzZW5kaW5nIGVtYWlsXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RlZEludm9pY2VzTGVuZ3RoID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZEludm9pY2VzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzO1xyXG4gICAgICAgIGxldCBzZWxlY3RlZEludm9pY2VzQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCBpbnZvaWNlcyA9IHRoaXMuc3RhdGUuaW52b2ljZXM7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBpbnZvaWNlcykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlc1tpXS5pZF0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlc0NvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkSW52b2ljZXNDb3VudCA9PSAwIHx8ICF0aGlzLnByb3BzLnBvc3RDYWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgKFRvdGFsOiBcXCQke2Zvcm1hdHRlcih0aGlzLnN0YXRlLnRvdGFsQW1vdW50LCBcIlwiKX0gLSAke3RoaXMuc3RhdGUuaW52b2ljZXMubGVuZ3RofSBJbnZvaWNlcylgO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyBTZWxlY3RlZCknO1xyXG4gICAgfVxyXG5cclxuICAgIC8vUmVuZGVyIGZ1bmN0aW9uIFxyXG4gICAgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICBjb25zdCB7IGNsYXNzZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9fT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmluZGl2aWR1YWwgJiZcclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgeHM9ezEyfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiBjbGFzc05hbWU9e2NsYXNzZXMuaW5kaXZpZHVhbEludm9pY2VIZWFkZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwiY2VudGVyXCIgc3R5bGU9e3sgekluZGV4OiBcIjVcIiB9fSBjbGFzc05hbWU9e2NsYXNzZXMuaW5kaXZpZHVhbEJ1Y2tldENoZWNrYm94fT48Q2hlY2tib3ggY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLmNoZWNrQm94Um9vdCB9fSBpY29uPXs8aW1nIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja2VkSWNvbn0gc3JjPXsnL3Rvdm8vc3RhdGljL3VuY2hlY2tlZF9pY29uLnN2Zyd9IC8+fSBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59IGNoZWNrZWQ9e3RoaXMuc3RhdGUuY2hlY2tlZH0gb25DbGljaz17KCkgPT4gdGhpcy5jaGVja0FsbEludm9pY2VzKGV2ZW50KX0gLz48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezF9PjxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5idWNrZXRIZWFkZXJUZXh0fT5TZWxlY3QgQWxsPC9zcGFuPjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MX0gYWxpZ249XCJyaWdodFwiPjxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiBcIiM5ODk4OThcIiB9fT5WaWV3ICZuYnNwOzogIDwvVHlwb2dyYXBoeT48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnNlbGVjdEZpbHRlcil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaW52b2ljZVR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17eyBpY29uOiBjbGFzc2VzLnNlbGVjdEljb24sIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUZpbHRlckNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiaW52b2ljZVR5cGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnVQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXsnQWxsJ30+QWxsPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J0Jyb2tlbiBQMlAnfT5Ccm9rZW4gUDJQPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT17J1VwY29taW5nIFAyUCd9PlVwY29taW5nIFAyUDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydEaXNwdXRlJ30+RGlzcHV0ZTwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5tZW51SXRlbVJvb3QgfX0gdmFsdWU9eydQcmVkaWN0ZWQgRGVsaW5xdWVudCd9PlByZWRpY3RlZCBEZWxpbnF1ZW50PC9NZW51SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezV9IGFsaWduPVwicmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLmlzQnVsa0VtYWlsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuaWNvblNpemUsIGNsYXNzZXMuZW5hYmxlZEVtYWlsSWNvbil9IG9uQ2xpY2s9e3RoaXMuc2VuZEJ1bGtFbWFpbH0gc3JjPXsnL3Rvdm8vc3RhdGljL0VtYWlsLnN2Zyd9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuZW1haWxPZkNhbGxlZCAmJiAhdGhpcy5zdGF0ZS5pc0J1bGtFbWFpbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmljb25TaXplLCBjbGFzc2VzLmRpc2FibGVkRW1haWxJY29uKX0gc3JjPXsnL3Rvdm8vc3RhdGljL0VtYWlsLnN2Zyd9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgYWxpZ25JdGVtcz1cImZsZXgtc3RhcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMn0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmluZGl2aWR1YWwgPyBjbGFzc2VzLnNoaWZ0IDogY2xhc3Nlcy5ub1NoaWZ0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEV4cGFuc2lvblBhbmVsIHN0eWxlPXt7IGJveFNoYWRvdzogXCJub25lXCIsIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiIH19IGRlZmF1bHRFeHBhbmRlZD17dGhpcy5wcm9wcy5pbmRpdmlkdWFsfSBleHBhbmRlZD17dGhpcy5zdGF0ZS5leHBhbmRlZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMucHJvcHMuaW5kaXZpZHVhbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbnNpb25QYW5lbFN1bW1hcnkgY2xhc3NOYW1lPXtjbGFzc2VzLnBhbmVsU3VtbWFyeX0gY2xhc3Nlcz17eyBjb250ZW50OiBjbGFzc2VzLmNvbnRlbnQsIGV4cGFuZGVkOiBjbGFzc2VzLnN1bW1hcnlFeHBhbmRlZCB9fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlDb250ZW50fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmludm9pY2VCdWNrZXRDaGVja2JveCxjbGFzc2VzLmNlbnRlckZsZXhCb3gpfSBhbGlnbj1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNvbm5lY3Rvcn0+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5jaGVja0JveFJvb3QgfX0gaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fSBjaGVja2VkPXt0aGlzLnN0YXRlLmNoZWNrZWR9IG9uQ2xpY2s9eygpID0+IHRoaXMuY2hlY2tBbGxJbnZvaWNlcyhldmVudCl9IC8+PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIGl0ZW0geHM9ezExfSBhbGlnbj1cImxlZnRcIiBvbkNsaWNrPXt0aGlzLnRvZ2dsZUV4cGFuZH0gY2xhc3NOYW1lPXtjbGFzc2VzLmJvcmRlckJvdHRvbX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMuYnVja2V0SGVhZGVyVGV4dH0+e3RoaXMuc3RhdGUuZGF5c30mbmJzcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5ncmV5VGV4dCxjbGFzc2VzLmJ1Y2tldEhlYWRlclRleHQpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGgoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsyfSBhbGlnbj1cInJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5leHBhbmRlZCAmJiA8RXhwYW5kTW9yZUljb24gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuZXhwYW5kSWNvbixjbGFzc2VzLmljb25TaXplKX0gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmV4cGFuZGVkICYmIDxFeHBhbmRMZXNzIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmV4cGFuZEljb24sY2xhc3Nlcy5pY29uU2l6ZSl9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRXhwYW5zaW9uUGFuZWxTdW1tYXJ5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV4cGFuc2lvblBhbmVsRGV0YWlscyBjbGFzc05hbWU9eyF0aGlzLnByb3BzLnBvc3RDYWxsID8gY2xhc3Nlcy5yb290IDogY2xhc3Nlcy5wb3N0Q2FsbFJvb3R9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshdGhpcy5wcm9wcy5wb3N0Q2FsbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMucHJvcHMuaW5kaXZpZHVhbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy52ZXJ0aWNhbFRpbWVsaW5lfSBqdXN0aWZ5PVwiY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmluZGl2aWR1YWwgPyBjbGFzc2VzLmRpc2FibGVUaW1lbGluZSA6IGNsYXNzZXMudGltZWxpbmV9ID48L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIHhzPXt0aGlzLnByb3BzLmluZGl2aWR1YWwgPyAxMiA6IDExfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIHhzPXsxMn0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJzcGFjZS1iZXR3ZWVuXCIgc3R5bGU9e3sgbWFyZ2luVG9wOiBcIjEuMzR2aFwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGVja0JveENvbHVtbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cImNlbnRlclwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmludm9pY2VOdW1iZXJDb2x1bW4sIGNsYXNzZXMuaW52b2ljZUhlYWRlclRleHQsIGNsYXNzZXMuY2VudGVyRmxleEJveCl9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEludm9pY2UgTnVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cInJpZ2h0XCIgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuYW1vdW50Q29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbW91bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwiY2VudGVyXCIgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuYnJva2VuQ29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCcm9rZW4gUDJQXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cImNlbnRlclwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnVwY29taW5nQ29sdW1uLCBjbGFzc2VzLmludm9pY2VIZWFkZXJUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVcGNvbWluZyBQMlBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGFsaWduPVwiY2VudGVyXCIgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuZGlzcHV0ZUNvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNwdXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBhbGlnbj1cImNlbnRlclwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnByZWRpY3RlZENvbHVtbiwgY2xhc3Nlcy5pbnZvaWNlSGVhZGVyVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcmVkaWN0ZWQgRGVsaW5xdWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezF9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmVtYWlsQ29sdW1uLGNsYXNzZXMuY2VudGVyRmxleEJveCl9PjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzLm1hcCgoaW52b2ljZSwgaWQpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIHhzPXsxMn0gY2xhc3NOYW1lPXt0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaW52b2ljZS5pZF0gPyBjbGFzc05hbWVzKGNsYXNzZXMuY2hhbmdlUm93QmFja2dyb3VuZCwgY2xhc3Nlcy5kZWZhdWx0QmFja2dyb3VuZCkgOiBjbGFzc2VzLmRlZmF1bHRCYWNrZ3JvdW5kfSBrZXk9e2ludm9pY2UuaWQgKyBcInJvd1wifT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tCb3hDb2x1bW59IGFsaWduPVwiY2VudGVyXCIgcGFkZGluZz1cImNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLmNoZWNrQm94Um9vdCB9fSBpZD17aW52b2ljZS5pZH0gaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn0gY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fSBjaGVja2VkPXt0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaW52b2ljZS5pZF0gPT0gdHJ1ZX0gb25DbGljaz17KCkgPT4gdGhpcy5hZGRJbnZvaWNlKGludm9pY2UuaWQpfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5pbnZvaWNlTnVtYmVyQ29sdW1uLCBjbGFzc2VzLmJsYWNrVGV4dCwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW52b2ljZS5kb2N1bWVudE51bWJlcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBhbGlnbj1cInJpZ2h0XCIgbnVtZXJpYyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5hbW91bnRDb2x1bW4sIGNsYXNzZXMuYmxhY2tUZXh0LCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcIiRcIiArIGZvcm1hdHRlcihpbnZvaWNlLmN1cnJlbnRPcGVuQW1vdW50KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5icm9rZW5Db2x1bW4sIGNsYXNzZXMuY2VudGVyRmxleEJveCl9IGFsaWduPVwiY2VudGVyXCIgbnVtZXJpYz57aW52b2ljZS5wMnBCcm9rZW4gPyA8RG9uZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+IDogPENsb3NlSWNvbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz59PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy51cGNvbWluZ0NvbHVtbiwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gYWxpZ249XCJjZW50ZXJcIiBudW1lcmljPntpbnZvaWNlLnAycFVwY29taW5nID8gPERvbmVJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPiA6IDxDbG9zZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+fTwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuZGlzcHV0ZUNvbHVtbiwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gYWxpZ249XCJjZW50ZXJcIiBudW1lcmljPntpbnZvaWNlLmRpc3B1dGVTdGF0dXMgIT0gbnVsbCA/IDxEb25lSWNvbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz4gOiA8Q2xvc2VJY29uIGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufSAvPn08L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnByZWRpY3RlZENvbHVtbiwgY2xhc3Nlcy5jZW50ZXJGbGV4Qm94KX0gYWxpZ249XCJjZW50ZXJcIiBudW1lcmljPntpbnZvaWNlLnAycERlbGlucXVlbnQgPyA8RG9uZUljb24gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+IDogPENsb3NlSWNvbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz59PC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5lbWFpbENvbHVtbixjbGFzc2VzLmNlbnRlckZsZXhCb3gpfSB4cz17MX0gYWxpZ249XCJyaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAodGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkICYmICF0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXNbaW52b2ljZS5pZF0pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5pY29uU2l6ZSwgY2xhc3Nlcy5lbmFibGVkRW1haWxJY29uKX0gb25DbGljaz17KCkgPT4gdGhpcy5zZW5kRW1haWwoaW52b2ljZS5pZCl9IHNyYz17Jy90b3ZvL3N0YXRpYy9FbWFpbC5zdmcnfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnBvc3RDYWxsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy52ZXJ0aWNhbFRpbWVsaW5lfSBqdXN0aWZ5PVwiY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMucG9zdENhbGxUaW1lbGluZX0gPjwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezExfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8TGlzdE9mVGlsZSBpbkludm9pY2VUYWJsZSBpbnZvaWNlcz17dGhpcy5zdGF0ZS5pbnZvaWNlc30gc2VsZWN0ZWRJbnZvaWNlcz17dGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzfSBhZGRJbnZvaWNlPXt0aGlzLmFkZEludm9pY2V9IC8+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGlzdCBjZWxsSGVpZ2h0PXtcImF1dG9cIn0gY2xhc3NOYW1lPXtjbGFzc2VzLmdyaWRMaXN0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlcy5tYXAoaW52b2ljZSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0VGlsZSBjb2xzPXsxfSBrZXk9e2ludm9pY2UuaWR9IGNsYXNzZXM9e3sgdGlsZTogY2xhc3Nlcy5ncmlkTGlzdFRpbGUgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogJ2F1dG8nLCB3aWR0aDogJzE2dncnLCBtYXJnaW46ICcwLjJyZW0nIH19PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsodGhpcy5zdGF0ZS5zZWxlY3RlZEludm9pY2VzW2ludm9pY2UuaWRdID09IHRydWUpID8gY2xhc3Nlcy5zZWxlY3RlZEdyaWRMaXN0RGl2IDogY2xhc3Nlcy5ncmlkTGlzdERpdn0gPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggc3R5bGU9e3sgcGFkZGluZzogJzJweCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBsZWZ0OiBcIjMlXCIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17aW52b2ljZS5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjaGVja2VkPXt0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuZG9jdW1lbnROdW1iZXIpIHx8IHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIG9uQ2xpY2s9eygpID0+IHRoaXMudG9nZ2xlQ2hlY2tib3goaW52b2ljZS5kb2N1bWVudE51bWJlcil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSA9PSB0cnVlfSBvbkNsaWNrPXsoKSA9PiB0aGlzLmFkZEludm9pY2UoaW52b2ljZS5pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6IFwiLjg5cmVtXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC42NSwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9fT57aW52b2ljZS5kb2N1bWVudE51bWJlcn08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogJzEuMTU2cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH19PiR7Zm9ybWF0dGVyKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpfTwvVHlwb2dyYXBoeT48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPENsb3NlIHN0eWxlPXt7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHdpZHRoOiBcImNhbGMoLjh2aCArIC44dncpXCIsIGhlaWdodDogXCJjYWxjKC44dmggKyAuOHZ3KVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiB9fSAvPiAqL31cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExpc3RUaWxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9FeHBhbnNpb25QYW5lbERldGFpbHM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRXhwYW5zaW9uUGFuZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgPFNuYWNrYmFyXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yT3JpZ2luPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiAnYm90dG9tJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5zbmFja0Jhck9wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbj17MjAwMH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgQ29udGVudFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogJ21lc3NhZ2UtaWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17PHNwYW4gaWQ9XCJtZXNzYWdlLWlkXCI+e3RoaXMuc3RhdGUuc25hY2tCYXJNZXNzYWdlfTwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uPXtbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJjbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jbG9zZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+LFxyXG4gICAgICAgICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5JbnZvaWNlVGFibGUucHJvcFR5cGVzID0ge1xyXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICAgaW52b2ljZXM6IFByb3BUeXBlcy5hcnJheSxcclxuICAgIGZpbHRlckludm9pY2VzOiBQcm9wVHlwZXMuZnVuY1xyXG59O1xyXG5cclxuSW52b2ljZVRhYmxlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcclxuXHJcbmNvbnN0IGNvbWJpbmVkU3R5bGUgPSBjb21iaW5lU3R5bGVzKHN0eWxlcyxiYXNlU3R5bGUpXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoSW52b2ljZVRhYmxlKTtcclxuXHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9JbnZvaWNlVGFibGUuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzLCB3aXRoVGhlbWUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcclxuaW1wb3J0IFRyYW5zY3JpcHRDaGF0IGZyb20gJy4uL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQnO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuXHJcbn0pO1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgdHJhbnNjcmlwdEdyaWRJRDogJ3RyYW5zY3JpcHRpb24tZ3JpZCcsXHJcbiAgICB0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3M6ICcnLFxyXG4gICAgdHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lOiAnJyxcclxuICAgIHRyYW5zY3JpcHRDaGF0UHJvcHM6IHt9LFxyXG59O1xyXG5cclxuY2xhc3MgVHJhbnNjcmlwdEJveCBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgYXV0b1Njcm9sbCxcclxuICAgICAgICAgICAgY2xhc3NlcyxcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiB0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3MsXHJcbiAgICAgICAgICAgIHRyYW5zY3JpcHRDaGF0UHJvcHMsXHJcbiAgICAgICAgICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZSxcclxuICAgICAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIHhzPXsxMn1cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0cmFuc2NyaXB0Q29udGFpbmVyQ2xhc3N9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17dHJhbnNjcmlwdFRpdGxlQ2xhc3NOYW1lfT5DQUxMIFRSQU5TQ1JJUFQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8VHJhbnNjcmlwdENoYXRcclxuICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsPXthdXRvU2Nyb2xsfVxyXG4gICAgICAgICAgICAgICAgICAgIHsuLi50cmFuc2NyaXB0Q2hhdFByb3BzfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0ICh3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkpKFRyYW5zY3JpcHRCb3gpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL1RyYW5zY3JpcHRCb3guanMiLCIvKipcclxuICogQGF1dGhvciBCYWxyYWogU2luZ2ggPGJhbHJhanNpbmdoLnNAaGlnaHJhZGl1cy5jb20+XHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBDaGF0Qm94IGZyb20gJy4vQ2hhdEJveCc7XHJcbmltcG9ydCB7IHNwbGl0VHJhbnNjcmlwdCB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XHJcbmltcG9ydCB7IFRSQU5TQ1JJUFRfREVMSU1FVEVSUyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gIHRyYW5zY3JpcHRUZXh0UGFyZW50OiB7XHJcbiAgICB3aGl0ZVNwYWNlOiAncHJlLWxpbmUnLFxyXG4gICAgbWFyZ2luVG9wOiAnMi41cmVtJyxcclxuICAgIGhlaWdodDogJzg1JScsXHJcbiAgICBvdmVyZmxvd1k6ICdhdXRvJyxcclxuICAgIHBhZGRpbmc6ICcwLjVyZW0gMC41cmVtIDAuNXJlbSAwcHgnLFxyXG4gICAgZm9udEZhbWlseTogJ1JvYm90bycsXHJcbiAgICBtYXJnaW5MZWZ0OiAnMXJlbScsXHJcbiAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgd29yZFdyYXA6ICdicmVhay13b3JkJ1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gIGF1dG9TY3JvbGw6IGZhbHNlLFxyXG4gIHRyYW5zY3JpcHRpb246ICcnLFxyXG4gIGNhbGxlZFRvTmFtZUluaXRpYWxzOiAnVVUnLCAvL0N1c3RvbWVyIE5hbWVcclxuICB1c2VySW5pdGlhbHM6ICdNRScsXHJcbn07XHJcblxyXG5jbGFzcyBUcmFuc2NyaXB0Q2hhdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge307XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KSB7XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYXV0b1Njcm9sbCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnQXV0byBTY3JvbGxpbmcnKTtcclxuICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xyXG4gICAgLy8gbGV0IGN1cnJlbnQgPSB0aGlzLm15UmVmLmN1cnJlbnQ7XHJcbiAgICBjb25zdCBjb250YWluZXJJRCA9IHRoaXMucHJvcHMudHJhbnNjcmlwdEdyaWRJRDtcclxuICAgIGxldCB0cmFuc2NyaXB0aW9uR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklEKTtcclxuICAgIGlmICh0cmFuc2NyaXB0aW9uR3JpZCkge1xyXG4gICAgICB0cmFuc2NyaXB0aW9uR3JpZC5zY3JvbGxUb3AgPSB0cmFuc2NyaXB0aW9uR3JpZC5zY3JvbGxIZWlnaHQ7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZ2VuZXJhdGVDaGF0Qm94ZXMgPSAodHJhbnNjcmlwdE1lc3NhZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAvL2NvbGxlY3RvciB0byB0aGUgcmlnaHRcclxuICAgIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhUUkFOU0NSSVBUX0RFTElNRVRFUlMuQ09MTEVDVE9SKSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxDaGF0Qm94XHJcbiAgICAgICAgICBrZXk9e2luZGV4fVxyXG4gICAgICAgICAgaXNDb2xsZWN0b3JcclxuICAgICAgICAgIGluaXRpYWxzPXt0aGlzLnByb3BzLnVzZXJJbml0aWFscyA/IHRoaXMucHJvcHMudXNlckluaXRpYWxzIDogXCJNRVwifVxyXG4gICAgICAgICAgbWVzc2FnZT17dHJhbnNjcmlwdE1lc3NhZ2UucmVwbGFjZShUUkFOU0NSSVBUX0RFTElNRVRFUlMuQ09MTEVDVE9SLCBcIlwiKX1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhUUkFOU0NSSVBUX0RFTElNRVRFUlMuQ1VTVE9NRVIpKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPENoYXRCb3hcclxuICAgICAgICAgIGtleT17aW5kZXh9XHJcbiAgICAgICAgICBpc0NvbGxlY3Rvcj17ZmFsc2V9XHJcbiAgICAgICAgICBpbml0aWFscz17dGhpcy5wcm9wcy5jYWxsZWRUb05hbWVJbml0aWFsc31cclxuICAgICAgICAgIG1lc3NhZ2U9e3RyYW5zY3JpcHRNZXNzYWdlLnJlcGxhY2UoVFJBTlNDUklQVF9ERUxJTUVURVJTLkNVU1RPTUVSLCBcIlwiKX1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmICh0cmFuc2NyaXB0TWVzc2FnZS5pbmNsdWRlcyhUUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTKSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxDaGF0Qm94XHJcbiAgICAgICAgICBrZXk9e2luZGV4fVxyXG4gICAgICAgICAgaXNEZXRlY3RpbmdcclxuICAgICAgICAgIGluaXRpYWxzPXtcIlwifVxyXG4gICAgICAgICAgbWVzc2FnZT17dHJhbnNjcmlwdE1lc3NhZ2UucmVwbGFjZShUUkFOU0NSSVBUX0RFTElNRVRFUlMuREVURUNUSU5HX1NQRUFLRVJTLCBcIlwiKX1cclxuICAgICAgICAvPlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzLCB0cmFuc2NyaXB0aW9uLCB0cmFuc2NyaXB0R3JpZElEIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgbGV0IGV4dHJhY3RlZFRyYW5zY3JpcHQgPSBzcGxpdFRyYW5zY3JpcHQodHJhbnNjcmlwdGlvbik7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGlkPXt0cmFuc2NyaXB0R3JpZElEfSBjbGFzc05hbWU9e2NsYXNzZXMudHJhbnNjcmlwdFRleHRQYXJlbnR9PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiB9fT5cclxuICAgICAgICAgIHtleHRyYWN0ZWRUcmFuc2NyaXB0Lm1hcCh0aGlzLmdlbmVyYXRlQ2hhdEJveGVzKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuVHJhbnNjcmlwdENoYXQuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFRyYW5zY3JpcHRDaGF0KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvVHJhbnNjcmlwdENoYXQuanMiLCJpbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL3V0aWxzL3N0b3JlJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB7IGNoYW5nZVRyYW5zY3JpcHRpb24sIH0gZnJvbSAnLi4vYWN0aW9ucy9hY3Rpb25zJztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBBY3Rpb25zIGZyb20gJy4uL2NvbXBvbmVudHMvQWN0aW9ucyc7XHJcbmltcG9ydCB7IFR5cG9ncmFwaHkgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IEZpbmFsIGZyb20gJy4vRmluYWwnO1xyXG5pbXBvcnQgR3JvdyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Hcm93JztcclxuaW1wb3J0IEZhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9GYWInO1xyXG5pbXBvcnQgQ3VzdG9tRGlhbG9nIGZyb20gJy4uL2NvbXBvbmVudHMvQ3VzdG9tRGlhbG9nJztcclxuaW1wb3J0IFNuYWNrYmFyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NuYWNrYmFyJztcclxuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvbic7XHJcbmltcG9ydCBDbG9zZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IEFjdGlvbkNyZWF0b3JEaWFsb2cgZnJvbSAnLi4vY29tcG9uZW50cy9BY3Rpb25DcmVhdG9yRGlhbG9nJztcclxuaW1wb3J0IFRyYW5zY3JpcHRCb3ggZnJvbSAnLi4vY29tcG9uZW50cy9UcmFuc2NyaXB0Qm94JztcclxuaW1wb3J0IE5vdGVzRWRpdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvTm90ZXNFZGl0b3InO1xyXG5pbXBvcnQgRHJhd2VyIGZyb20gJy4uL2NvbXBvbmVudHMvRHJhd2VyJztcclxuaW1wb3J0IEN1c3RvbUZvb3RlciBmcm9tICcuLi9jb21wb25lbnRzL0N1c3RvbUZvb3Rlcic7XHJcbmltcG9ydCB7XHJcbiAgZ2V0SW5pdGlhbHNGcm9tTmFtZSxcclxuICBjcmVhdGVBY3Rpb24sXHJcbiAgZ2VuZXJhdGVGaW5hbEludm9pY2VMaXN0LFxyXG4gIGlzQWN0aW9uSW50ZW50XHJcbn0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcclxuaW1wb3J0IHtcclxuICBSRVZJRVdfV0FSTklORyxcclxuICBTTkFDS19NRVNTQUdFUyxcclxuICBlbXB0eUZ1bmN0aW9uXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBnZW5lcmF0ZU5vdGVzQXNTdHJpbmcsXHJcbiAgY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXAsXHJcbiAgYXBwZW5kSWRzVG9TdW1tYXJ5LFxyXG4gIGNyZWF0ZUluaXRpYWxOb25BY3Rpb25TdW1tYXJ5Tm90ZXMsXHJcbiAgY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXBcclxufSBmcm9tICcuLi91dGlscy9oZWxwZXJzL3Bvc3RDYWxsSGVscGVyJ1xyXG5pbXBvcnQgeyBjb21tb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29tbW9uU2VydmljZSc7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gIGFwcEZyYW1lOiB7XHJcbiAgICBvdmVyZmxvd1g6ICdoaWRkZW4nLFxyXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXHJcbiAgICBtYXhIZWlnaHQ6ICcxMDB2aCcsXHJcbiAgICB3aWR0aDogJzEwMCUnXHJcbiAgfSxcclxuICByb290OiB7XHJcbiAgICBtYXJnaW46ICcxLjEydmggMS4wNDF2dyAwZW0gMS4wNDF2dycsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5tYWluLFxyXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gIH0sXHJcbiAgdHJhbnNjcmlwdEJveDoge1xyXG4gICAgaGVpZ2h0OiAnNTguOTh2aCcsXHJcbiAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICBtYXJnaW5Cb3R0b206ICcxLjg1dmgnXHJcbiAgfSxcclxuICBzdW1tYXJ5Qm94OiB7XHJcbiAgICBoZWlnaHQ6ICcyNS41MHZoJyxcclxuICAgIHBhZGRpbmc6ICcwLjhyZW0nLFxyXG4gICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluLFxyXG4gIH0sXHJcbiAgdHJhbnNjcmlwdFRpdGxlOiB7XHJcbiAgICBmb250U2l6ZTogJzEuMXJlbScsXHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICBwYWRkaW5nTGVmdDogXCIuOHJlbVwiLFxyXG4gICAgcGFkZGluZ1RvcDogXCIuOHJlbVwiLFxyXG4gICAgb3BhY2l0eTogMC42NSxcclxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgfSxcclxuICBjdXN0b21lck5hbWU6IHtcclxuICAgIGZvbnRTaXplOiBcIjEuNzhyZW1cIixcclxuICAgIGxpbmVIZWlnaHQ6IFwiMi4xcmVtXCJcclxuICB9LFxyXG4gIGN1c3RvbWVyRGV0YWlsVGV4dDoge1xyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgfSxcclxuICBjdXN0b21lck51bWJlcjoge1xyXG4gICAgZm9udFNpemU6IFwiLjhyZW1cIixcclxuICB9LFxyXG4gIGJ1dHRvbjoge1xyXG4gICAgZm9udFNpemU6IFwiMC41cmVtXCIsXHJcbiAgICB3aWR0aDogXCI3LjI5MjJ2d1wiLFxyXG4gICAgYm94U2hhZG93OiBcIm5vbmVcIixcclxuICAgIG1pbkhlaWdodDogXCI0LjQ0NDR2aFwiLFxyXG4gICAgcGFkZGluZzogMCxcclxuICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2QkZFNycsXHJcbiAgICB9XHJcbiAgfSxcclxuICBidXR0b25UaXRsZToge1xyXG4gICAgZm9udEZhbWlseTogdGhlbWUuZm9udC50aXRsZS5mb250RmFtaWx5LFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gIH0sXHJcbiAgaGVhZGluZzoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgZm9udFNpemU6ICcxLjA2N3JlbScsXHJcbiAgICBvcGFjaXR5OiAwLjUsXHJcbiAgICBwYWRkaW5nQm90dG9tOiAnMS45NHZoJ1xyXG4gIH0sXHJcbiAgbmV4dEN1c3RvbWVyVXJsOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgIGZvbnRTaXplOiAnMC44ODhyZW0nLFxyXG4gICAgaGVpZ2h0OiBcIjQuNDQ0NHZoXCIsXHJcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuICB9LFxyXG4gIGFjdGlvbkJ1dHRvbjoge1xyXG4gICAgYm94U2hhZG93OiAnbm9uZScsXHJcbiAgICBmb250U2l6ZTogJzEuMTExcmVtJyxcclxuICAgICcmOmhvdmVyLCAmJGZvY3VzVmlzaWJsZSc6IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2QkZFNycsXHJcbiAgICB9LFxyXG4gICAgaGVpZ2h0OiAnNi40OHZoJ1xyXG4gIH0sXHJcbiAgcG9zdENhbGxDYXJkR3JpZDoge1xyXG4gICAgbWFyZ2luVG9wOiAnMi4wMzd2aCdcclxuICB9LFxyXG4gIHBhZGRpbmdSaWdodE9uQ2FyZDoge1xyXG4gICAgcGFkZGluZ1JpZ2h0OiAnMS4wNDF2dydcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICB2b2ljZW1haWxNZXNzYWdlOiAnJyxcclxuICBjYWxsRHVyYXRpb246IDAsXHJcbiAgdG9DYWxsQ3VzdG9tZXJzOiBudWxsLFxyXG4gIG5leHRDdXN0b21lclVybDogbnVsbCxcclxuICBvbkhhbmd1cDogZW1wdHlGdW5jdGlvbixcclxuICBpbnZvaWNlczogW10sXHJcbiAgaW5pdGlhbFRyYW5zY3JpcHRpb246ICcnLFxyXG59O1xyXG5cclxuY2xhc3MgUG9zdENhbGwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIHNuYWNrTWVzc2FnZVF1ZXVlID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgdGhpcy5wcm9wcy5vbkhhbmd1cCgpO1xyXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmwsIFwibmV4dCBjdXN0b21lciB1cmxcIilcclxuICAgIHRoaXMubmV4dEN1c3RvbWVUZXh0ID0gXCJHTyBUTyBORVhUIENVU1RPTUVSXCJcclxuICAgIHRoaXMubmV4dEN1c3RvbWVyVXJsID0gdGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmxcclxuICAgIGlmICghdGhpcy5uZXh0Q3VzdG9tZXJVcmwpIHtcclxuICAgICAgdGhpcy5uZXh0Q3VzdG9tZXJVcmwgPSBcIi9cIlxyXG4gICAgICB0aGlzLm5leHRDdXN0b21lVGV4dCA9IFwiR08gQkFDSyBUTyBIT01FIFBBR0VcIlxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy50b0NhbGxDdXN0b21lcnMsIFwidG8gY2FsbCBjdXN0b21lcnNcIik7XHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgZGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxyXG4gICAgICBzdW1tYXJ5OiAnJyxcclxuICAgICAgdHJhbnNjcmlwdGlvbjogdGhpcy5wcm9wcy5pbml0aWFsVHJhbnNjcmlwdGlvbixcclxuICAgICAgb3BlblByb2dyZXNzQmFyOiBmYWxzZSxcclxuICAgICAgZG9PcGVuTmV3QWN0aW9uRGlhbG9nOiBmYWxzZSxcclxuICAgICAgaXNBbnlBY3Rpb25Db21wbGV0ZWQ6IGZhbHNlLFxyXG4gICAgICBkb1Jldmlld0RpYWxvZ09wZW46IGZhbHNlLFxyXG4gICAgICBub3RlczogW10sXHJcbiAgICAgIGlzUG9zdENhbGxEb25lOiBmYWxzZSxcclxuICAgICAgc3VtbWFyeUNvbXBsZXRpb25NYXA6IG5ldyBNYXAoKSxcclxuICAgICAgbm9uQWN0aW9uTm90ZXM6ICcnLFxyXG4gICAgICBzbmFja01lc3NhZ2U6IHt9LFxyXG4gICAgICBzbmFja09wZW46IGZhbHNlLFxyXG4gICAgICBmb2xsb3d1cFRleHRMaXN0OiBbXSxcclxuICAgICAgcmVhc29uQ29kZUxpc3Q6IFtdLFxyXG4gICAgICBub25BY3Rpb25JbmNsdWRlZDogZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBjb21tb25TZXJ2aWNlXHJcbiAgICAgIC5nZXREaXNwdXRlQ29kZXMoKVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlYXNvbkNvZGVMaXN0OiByZXNwb25zZSA/IHJlc3BvbnNlIDogW10gfSlcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBsb2FkIGRpc3B1dGUgY29kZXNcIiwgZXJyb3IpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBjb21tb25TZXJ2aWNlXHJcbiAgICAgIC5nZXRUYXNrVHlwZXMoKVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvbGxvd3VwVGV4dExpc3Q6IHJlc3BvbnNlID8gcmVzcG9uc2UgOiBbXSB9KVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGxvYWQgRm9sbG93IHVwIHRleHQgbGlzdFwiLCBlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQWN0aW9uID0gaWQgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJJRFwiLCBpZCwgc3VtbWFyeSk7XHJcbiAgICBsZXQgc3VtbWFyeSA9IHRoaXMuc3RhdGUuc3VtbWFyeS5maWx0ZXIoZWwgPT4gZWwuaWQgIT0gaWQpO1xyXG4gICAgbGV0IG1hcCA9IHRoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XHJcblxyXG4gICAgbWFwLmRlbGV0ZShpZCk7XHJcblxyXG4gICAgY29uc29sZS5sb2cobWFwKTtcclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogc3VtbWFyeSwgc3VtbWFyeUNvbXBsZXRpb25NYXA6IG1hcCwgfSk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgbGV0IG5leHRTdW1tYXJ5ID0gbmV4dFByb3BzLnRyYW5zY3JpcHRpb24uc3VtbWFyeTtcclxuICAgIGxldCBuZXh0VHJhbnNjcmlwdGlvbiA9IG5leHRQcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb247XHJcbiAgICBsZXQgY3VycmVudFRyYW5zY3JpcHRpb24gPSB0aGlzLnByb3BzLnRyYW5zY3JpcHRpb24udHJhbnNjcmlwdGlvbjtcclxuICAgIGNvbnNvbGUubG9nKCdTdW1tYXJ5IHJlY2VpdmVkIGluIFBvc3QgQ2FsbCcsIEpTT04uc3RyaW5naWZ5KG5leHRTdW1tYXJ5KSk7XHJcblxyXG4gICAgaWYgKChuZXh0VHJhbnNjcmlwdGlvbikgJiYgKG5leHRUcmFuc2NyaXB0aW9uICE9PSBjdXJyZW50VHJhbnNjcmlwdGlvbikpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIHRyYW5zY3JpcHRpb24nLCBuZXh0VHJhbnNjcmlwdGlvbilcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRyYW5zY3JpcHRpb246IG5leHRUcmFuc2NyaXB0aW9uIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChKU09OLnN0cmluZ2lmeShuZXh0U3VtbWFyeSkgIT09IEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuc3VtbWFyeSkpIHtcclxuICAgICAgdGhpcy5pbml0aWFsaXplU3VtbWFyeVdpdGhEZWZhdWx0cyhuZXh0U3VtbWFyeSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYXJrU3VtbWFyeUFzRG9uZSA9IGlkID0+IHtcclxuICAgIGxldCBkb25lTWFwID0gdGhpcy5zdGF0ZS5zdW1tYXJ5Q29tcGxldGlvbk1hcDtcclxuICAgIGxldCBwcmV2U3VtbWFyeSA9IHRoaXMuc3RhdGUuc3VtbWFyeTtcclxuXHJcbiAgICBmb3IgKGxldCBpIGluIHByZXZTdW1tYXJ5KSB7XHJcbiAgICAgIGlmIChwcmV2U3VtbWFyeVtpXS5pZCA9PSBpZCkge1xyXG4gICAgICAgIHByZXZTdW1tYXJ5W2ldLnNhdmUgPSB0cnVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHByZXZTdW1tYXJ5IH0pO1xyXG4gICAgZG9uZU1hcC5zZXQoaWQsIHRydWUpO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnlDb21wbGV0aW9uTWFwOiBkb25lTWFwIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQWN0aW9uSXRlbUNoZWNrID0gZ2VuZXJhdGVkU3VtbWFyeSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgbm90ZXM6IFsuLi50aGlzLnN0YXRlLm5vdGVzLCBnZW5lcmF0ZWRTdW1tYXJ5XSxcclxuICAgICAgaXNBbnlBY3Rpb25Db21wbGV0ZWQ6IHRydWVcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2F2ZVBvc3RDYWxsVGhpbmdzID0gKCkgPT4ge1xyXG4gICAgaWYgKGNoZWNrU3VtbWFyeUNvbXBsZXRlTWFwKHRoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXApKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBkb1Jldmlld0RpYWxvZ09wZW46IHRydWUgfSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3RlcyAmJiB0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzLnRyaW0oKSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBub3RlczogWy4uLnRoaXMuc3RhdGUubm90ZXMsIHRoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXMudHJpbSgpXSxcclxuICAgICAgICBub25BY3Rpb25JbmNsdWRlZDogdHJ1ZVxyXG4gICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zYXZlQ2FsbExvZygpO1xyXG4gICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNhdmVDYWxsTG9nKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzYXZlTm90ZXNDaGFuZ2VzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzRWRpdGluZ09uOiBmYWxzZSxcclxuICAgICAgcHJldk5vbkFjdGlvbk5vdGVzOlxyXG4gICAgICAgIHRoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXNcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgdGhpcy5ibHVyTm9uQWN0aW9uTm90ZXNCb3goKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGlzY2FyZE5vdGVzQ2hhbmdlcyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXHJcbiAgICAgIG5vbkFjdGlvbk5vdGVzOlxyXG4gICAgICAgIHRoaXMuc3RhdGUucHJldk5vbkFjdGlvbk5vdGVzXHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuYmx1ck5vbkFjdGlvbk5vdGVzQm94KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG9wZW5TbmFja2JhciA9IG1lc3NhZ2VUeXBlID0+IHtcclxuICAgIHRoaXMuc25hY2tNZXNzYWdlUXVldWUucHVzaCh7XHJcbiAgICAgIG1lc3NhZ2U6IFNOQUNLX01FU1NBR0VTW21lc3NhZ2VUeXBlXSxcclxuICAgICAga2V5OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLnN0YXRlLnNuYWNrT3Blbikge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcHJvY2Vzc1F1ZXVlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc25hY2tNZXNzYWdlUXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBzbmFja01lc3NhZ2U6IHRoaXMuc25hY2tNZXNzYWdlUXVldWUuc2hpZnQoKSxcclxuICAgICAgICBzbmFja09wZW46IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGhhbmRsZU5vbmFjdGlvbk5vdGVzQ2hhbmdlID0gZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgbm9uQWN0aW9uTm90ZXM6IGUudGFyZ2V0LnZhbHVlIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlTm90ZXMgPSBub3RlcyA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgbm9uQWN0aW9uTm90ZXM6IG5vdGVzIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VTbmFja2JhciA9IChldmVudCwgcmVhc29uKSA9PiB7XHJcbiAgICBpZiAocmVhc29uID09PSAnY2xpY2thd2F5Jykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tPcGVuOiBmYWxzZSB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVTbmFja2JhckV4aXQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUFjdGlvbkl0ZW1DbGljayA9IGFjdGlvblR5cGUgPT4ge1xyXG4gICAgbGV0IG5ld0FjdGlvbiA9IGNyZWF0ZUFjdGlvbihhY3Rpb25UeXBlKTtcclxuICAgIC8vQWRkIHRoZSBuZXdseSBjcmVhdGVkIGFjdGlvbiB0byBzdW1tYXJ5IGFycmF5XHJcbiAgICAvL2lmIG5ld0FjdGlvbiBpcyBudWxsIHNraXAgYWRkaW5nIGl0XHJcbiAgICBjb25zb2xlLmxvZygnQWN0aW9uIGNyZWF0ZWQnLCBuZXdBY3Rpb24pO1xyXG4gICAgaWYgKG5ld0FjdGlvbikge1xyXG4gICAgICBjb25zdCBzdW1tYXJ5TGVuZ3RoID0gdGhpcy5zdGF0ZS5zdW1tYXJ5Lmxlbmd0aDtcclxuXHJcbiAgICAgIGlmIChzdW1tYXJ5TGVuZ3RoID4gMCkge1xyXG4gICAgICAgIG5ld0FjdGlvblsnaWQnXSA9IHRoaXMuc3RhdGUuc3VtbWFyeVtzdW1tYXJ5TGVuZ3RoIC0gMV1bJ2lkJ10gKyAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5ld0FjdGlvblsnaWQnXSA9IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG5ld0FjdGlvblsnc2F2ZSddID0gZmFsc2U7XHJcbiAgICAgIG5ld0FjdGlvblsnY3JlYXRlZCddID0gdHJ1ZTtcclxuXHJcbiAgICAgIGxldCBzdW1tYXJ5Q29tcGxldGlvbk1hcCA9IHRoaXMuc3RhdGUuc3VtbWFyeUNvbXBsZXRpb25NYXA7XHJcbiAgICAgIHN1bW1hcnlDb21wbGV0aW9uTWFwLnNldChuZXdBY3Rpb24uaWQsIGZhbHNlKTtcclxuXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHN1bW1hcnk6IFsuLi50aGlzLnN0YXRlLnN1bW1hcnksIG5ld0FjdGlvbl0sXHJcbiAgICAgICAgc3VtbWFyeUNvbXBsZXRpb25NYXAsXHJcbiAgICAgIH0sICgpID0+IHtcclxuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN0aW9uLXN1bW1hcnktZ3JpZC1jb250YWluZXInKTtcclxuICAgICAgICBpZiAoZWwpIHtcclxuICAgICAgICAgIGVsLnNjcm9sbFRvcCA9IGVsLnNjcm9sbEhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2xvc2VBY3Rpb25DcmVhdG9yRGlhbG9nKCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVJldmlld1dhcm5pbmdEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgZG9SZXZpZXdEaWFsb2dPcGVuOiBmYWxzZSB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkNyZWF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRvT3Blbk5ld0FjdGlvbkRpYWxvZzogdHJ1ZSB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBkb09wZW5OZXdBY3Rpb25EaWFsb2c6IGZhbHNlIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3VtbWFyeUZyb21DaGlsZCA9IChuZXdTdW1tYXJ5LCBpZCkgPT4ge1xyXG4gICAgbGV0IHByZXZTdW1tYXJ5ID0gdGhpcy5zdGF0ZS5zdW1tYXJ5O1xyXG5cclxuICAgIGZvciAobGV0IGkgaW4gcHJldlN1bW1hcnkpIHtcclxuICAgICAgaWYgKHByZXZTdW1tYXJ5W2ldLmlkID09IGlkKSB7XHJcbiAgICAgICAgcHJldlN1bW1hcnlbaV0uc3VtbWFyeSA9IG5ld1N1bW1hcnk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogcHJldlN1bW1hcnkgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVJbnZvaWNlcyA9ICh1cGRhdGVkSW52b2ljZXMsIGlkKSA9PiB7XHJcbiAgICBsZXQgcHJldlN1bW1hcnkgPSBPYmplY3QuY3JlYXRlKHRoaXMuc3RhdGUuc3VtbWFyeSk7XHJcbiAgICBsZXQgdXBkYXRlZEludm9pY2VMaXN0ID0gW107XHJcbiAgICBmb3IgKGxldCBpIGluIHByZXZTdW1tYXJ5KSB7XHJcbiAgICAgIGlmIChwcmV2U3VtbWFyeVtpXS5pZCA9PSBpZCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgaW4gdXBkYXRlZEludm9pY2VzKSB7XHJcbiAgICAgICAgICB1cGRhdGVkSW52b2ljZUxpc3QucHVzaCh1cGRhdGVkSW52b2ljZXNbaV0uZG9jdW1lbnROdW1iZXIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcmV2U3VtbWFyeVtpXS5lbnRpdGllcy5pbnZvaWNlID0gdXBkYXRlZEludm9pY2VMaXN0O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1bW1hcnk6IHByZXZTdW1tYXJ5IH0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdE5vbkFjdGlvbk5vdGVzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzRWRpdGluZ09uOiB0cnVlIH0sICgpID0+IHtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IHRleHRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGQnKTtcclxuICAgICAgICBpZiAodGV4dEZpZWxkKSB7XHJcbiAgICAgICAgICB0ZXh0RmllbGQuZm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDUwMClcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYmx1ck5vbkFjdGlvbk5vdGVzQm94ID0gKCkgPT4ge1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGxldCB0ZXh0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vbi1hY3Rpb24tbm90ZXMtZWRpdC1maWVsZFwiKTtcclxuICAgICAgaWYgKHRleHRGaWVsZCkge1xyXG4gICAgICAgIHRleHRGaWVsZC5ibHVyKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIDUwMClcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVTdW1tYXJ5V2l0aERlZmF1bHRzID0gKHN1bW1hcnkpID0+IHtcclxuXHJcbiAgICBpZiAoc3VtbWFyeSA9PT0gJ1tdJykge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgc3VtbWFyeTogW10gfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgc3VtbWFyeVdpdGhJZHMgPSBhcHBlbmRJZHNUb1N1bW1hcnkoc3VtbWFyeSk7XHJcbiAgICAgIGxldCBzdW1tYXJ5Q29tcGxldGlvbk1hcCA9IGNyZWF0ZVN1bW1hcnlDb21wbGV0aW9uTWFwKHN1bW1hcnkpO1xyXG4gICAgICBsZXQgbm9uQWN0aW9uU3VtbWFyeSA9IGNyZWF0ZUluaXRpYWxOb25BY3Rpb25TdW1tYXJ5Tm90ZXMoc3VtbWFyeSwgdGhpcy5wcm9wcy52b2ljZW1haWxNZXNzYWdlKTtcclxuXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc3VtbWFyeTogc3VtbWFyeVdpdGhJZHMsXHJcbiAgICAgICAgICBzdW1tYXJ5Q29tcGxldGlvbk1hcCxcclxuICAgICAgICAgIG5vbkFjdGlvbk5vdGVzOiBub25BY3Rpb25TdW1tYXJ5LFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNhdmVDYWxsTG9nID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY29tYmluZWROb3RlcyA9IGdlbmVyYXRlTm90ZXNBc1N0cmluZyh0aGlzLnN0YXRlLm5vdGVzKTtcclxuICAgIGNvbnN0IGNhbGxMb2dTdGF0ZSA9IHRoaXMucHJvcHMuY2FsbExvZ1N0YXRlO1xyXG4gICAgY29uc3QgY3VzdG9tZXIgPSB0aGlzLnByb3BzLmN1c3RvbWVyO1xyXG4gICAgY29uc3QgcmVxUGFyYW1zID0ge1xyXG4gICAgICBpZDogY2FsbExvZ1N0YXRlLmlkLFxyXG4gICAgICBjYWxsU3VtbWFyeTogdGhpcy5wcm9wcy50cmFuc2NyaXB0aW9uLnRyYW5zY3JpcHRpb24sXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLnByb3BzLmNhbGxEdXJhdGlvbixcclxuICAgICAgbm90ZToge1xyXG4gICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkLFxyXG4gICAgICAgIG5vdGVDb250ZW50OiBjb21iaW5lZE5vdGVzLFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBheGlvcy5wdXQoYCR7Y29uZmlnLmFwaVVybH0vY2FsbGAsIHJlcVBhcmFtcylcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuUHJvZ3Jlc3NCYXI6IGZhbHNlLCBpc1Bvc3RDYWxsRG9uZTogdHJ1ZSB9KTtcclxuICAgICAgICBzdG9yZS5kaXNwYXRjaChjaGFuZ2VUcmFuc2NyaXB0aW9uKHsgdHJhbnNjcmlwdGlvbjogXCJcIiB9KSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuUHJvZ3Jlc3NCYXI6IGZhbHNlLCBpc1Bvc3RDYWxsRG9uZTogdHJ1ZSB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGdlblN1bW1hcnlBY3Rpb25DYXJkcyA9IChzdW1tYXJ5KSA9PiB7XHJcblxyXG4gICAgbGV0IGludGVudCA9IHN1bW1hcnkuaW50ZW50O1xyXG5cclxuICAgIGlmICghaXNBY3Rpb25JbnRlbnQoaW50ZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEdyb3dcclxuICAgICAgICBpbj17dHJ1ZX1cclxuICAgICAgICBrZXk9e3N1bW1hcnkuaWR9XHJcbiAgICAgID5cclxuICAgICAgICA8QWN0aW9uc1xyXG4gICAgICAgICAgb25EZWxldGU9eyhpZCkgPT4gdGhpcy5kZWxldGVBY3Rpb24oaWQpfVxyXG4gICAgICAgICAgb25BY3Rpb25JdGVtQ29uZmlybT17dGhpcy51cGRhdGVBY3Rpb25JdGVtQ2hlY2t9XHJcbiAgICAgICAgICBzdW1tYXJ5PXtzdW1tYXJ5fVxyXG4gICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBtYXJnaW5Cb3R0b206IFwiMC43cmVtXCIgfX1cclxuICAgICAgICAgIGludGVudFR5cGU9e2ludGVudH1cclxuICAgICAgICAgIGFsbEludm9pY2VMaXN0PXt0aGlzLnByb3BzLmludm9pY2VzfVxyXG4gICAgICAgICAgY3VzdG9tZXI9e3RoaXMucHJvcHMuY3VzdG9tZXJ9XHJcbiAgICAgICAgICBjYWxsZWRUb05hbWU9e3RoaXMucHJvcHMuY2FsbGVkVG9OYW1lfVxyXG4gICAgICAgICAgY2FsbGVkVG9OdW1iZXI9e3RoaXMucHJvcHMuY2FsbGVkVG9OdW1iZXJ9XHJcbiAgICAgICAgICBjb21wbGV0ZWQ9eygpID0+IHRoaXMubWFya1N1bW1hcnlBc0RvbmUoc3VtbWFyeS5pZCl9XHJcbiAgICAgICAgICBidWNrZXROYW1lcz17dGhpcy5wcm9wcy5idWNrZXROYW1lc31cclxuICAgICAgICAgIGNvbnRhY3RMb2c9e3RoaXMucHJvcHMuY2FsbExvZ1N0YXRlfVxyXG4gICAgICAgICAgY2FsbFN0YXRlPXt0aGlzLnByb3BzLmNhbGxTdGF0ZX1cclxuICAgICAgICAgIGZvbGxvd3VwVGV4dExpc3Q9e3RoaXMuc3RhdGUuZm9sbG93dXBUZXh0TGlzdH1cclxuICAgICAgICAgIHJlYXNvbkNvZGVMaXN0PXt0aGlzLnN0YXRlLnJlYXNvbkNvZGVMaXN0fVxyXG4gICAgICAgICAgb3BlblNuYWNrYmFyT25BY3Rpb249eyhtZXNzYWdlVHlwZSkgPT4gdGhpcy5vcGVuU25hY2tiYXIobWVzc2FnZVR5cGUpfVxyXG4gICAgICAgICAgdXBkYXRlSW52b2ljZXNJblBhcmVudD17KHVwZGF0ZWRJbnZvaWNlcykgPT4gdGhpcy51cGRhdGVJbnZvaWNlcyh1cGRhdGVkSW52b2ljZXMsIHN1bW1hcnkuaWQpfVxyXG4gICAgICAgICAgdXBkYXRlU3VtbWFyeUluUGFyZW50PXsodXBkYXRlZFN1bW1hcnkpID0+IHsgdGhpcy51cGRhdGVTdW1tYXJ5RnJvbUNoaWxkKHVwZGF0ZWRTdW1tYXJ5LCBzdW1tYXJ5LmlkKSB9fSAvPlxyXG4gICAgICA8L0dyb3c+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgY29uc3QgeyBjdXN0b21lciB9ID0gdGhpcy5wcm9wcztcclxuICAgIGxldCB1c2VyID0gdGhpcy5wcm9wcy51c2VyO1xyXG4gICAgbGV0IGNhbGxlZFRvTmFtZSA9IHRoaXMucHJvcHMuY2FsbGVkVG9OYW1lO1xyXG4gICAgY29uc3QgY2FsbGVkVG9OYW1lSW5pdGlhbHMgPSBnZXRJbml0aWFsc0Zyb21OYW1lKGNhbGxlZFRvTmFtZSk7XHJcbiAgICBsZXQgdXNlckluaXRpYWxzID0gZ2V0SW5pdGlhbHNGcm9tTmFtZSh1c2VyLm5hbWUpO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmFwcEZyYW1lfT5cclxuICAgICAgICA8RHJhd2VyIC8+XHJcbiAgICAgICAgPEN1c3RvbUZvb3RlciAvPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fT5cclxuICAgICAgICAgIDxHcmlkIGNvbnRhaW5lcj5cclxuICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgICAgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgYWxpZ25JdGVtcz1cImZsZXgtc3RhcnRcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIHhzPXsxMH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcclxuICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnbGVmdCdcclxuICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy5jdXN0b21lck5hbWUsIGNsYXNzZXMuY3VzdG9tZXJEZXRhaWxUZXh0KX0+e2N1c3RvbWVyLmN1c3RvbWVyTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmN1c3RvbWVyTnVtYmVyLCBjbGFzc2VzLmN1c3RvbWVyRGV0YWlsVGV4dCl9PntjdXN0b21lci5jdXN0b21lck51bWJlcn08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgeHM9ezJ9XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5PVwiZmxleC1lbmRcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luTGVmdDogJy04LjMzdncnIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBtYXJnaW46ICcwcHggMCAwIDAnLFxyXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8R3JpZFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBhbGlnbj1cInJpZ2h0XCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAncmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzQuNDQ0dmgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RmFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZXh0ZW5kZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zYXZlUG9zdENhbGxUaGluZ3N9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPSdBZGQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuc3VtbWFyeSA/IGZhbHNlIDogdHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5idXR0b259PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmJ1dHRvblRpdGxlfT5Eb25lPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRmFiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgdGV4dERlY29yYXRpb246ICdub25lJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2VtcHR5RnVuY3Rpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG89e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiB0aGlzLm5leHRDdXN0b21lclVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvQ2FsbEN1c3RvbWVyczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMubmV4dEN1c3RvbWVyVXJsfT57dGhpcy5uZXh0Q3VzdG9tZVRleHR9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzUG9zdENhbGxEb25lICYmIChcclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5wb3N0Q2FsbENhcmRHcmlkfT5cclxuICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17OH0gY2xhc3NOYW1lPXtjbGFzc2VzLnBhZGRpbmdSaWdodE9uQ2FyZH0gPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuaGVhZGluZ30+U1VHR0VTVEVEIEFDVElPTlM8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgIHhzPXsxMn1cclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICc3NC43dmgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIGlkPSdhY3Rpb24tc3VtbWFyeS1ncmlkLWNvbnRhaW5lcidcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdW1tYXJ5Lm1hcChzdW1tYXJ5ID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuU3VtbWFyeUFjdGlvbkNhcmRzKHN1bW1hcnkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0bHllPXt7IGhlaWdodDogJzEwMCUnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnNzB2aCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6ICcxLjNyZW0nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdlbmVyYXRpbmcgY2FsbCBzdW1tYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VtbWFyeSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb25CdXR0b259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyB0aGlzLmhhbmRsZUFjdGlvbkNyZWF0aW9uKCkgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxLjA2N3JlbScgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIENSRUFURSBORVcgQUNUSU9OXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgPEdyaWRcclxuICAgICAgICAgICAgICAgICAgICBpdGVtIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIHhzPXs0fVxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM9XCJjZW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogJzg2LjI5dmgnIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8VHJhbnNjcmlwdEJveFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnRyYW5zY3JpcHRCb3h9XHJcbiAgICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsPXtCb29sZWFuKGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRUaXRsZUNsYXNzTmFtZT17Y2xhc3Nlcy50cmFuc2NyaXB0VGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q2hhdFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IHRoaXMuc3RhdGUudHJhbnNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkVG9OYW1lSW5pdGlhbHM6IGNhbGxlZFRvTmFtZUluaXRpYWxzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5pdGlhbHM6ICdNRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRHcmlkSUQ6ICdwb3N0LWNhbGwtdHJhbnNjcmlwdGlvbi1ncmlkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICB4cz17MTJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeUJveH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJSdcclxuICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zdW1tYXJ5ICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Tm90ZXNFZGl0b3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxOb3Rlcz17dGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTm90ZXNDaGFuZ2U9eyhub3RlcykgPT4gdGhpcy51cGRhdGVOb3Rlcyhub3Rlcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLnN1bW1hcnkgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdGx5ZT17eyBoZWlnaHQ6ICcxMDAlJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMjB2aCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3Mgc3R5bGU9e3sgY29sb3I6ICcjZWVlZWVlJyB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNlZWVlZWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAnMS4zcmVtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2FpdGluZyBmb3Igc3VtbWFyeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1Bvc3RDYWxsRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgICA8R3JpZFxyXG4gICAgICAgICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICB4cz17MTJ9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5wb3N0Q2FsbENhcmRHcmlkfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8RmluYWxcclxuICAgICAgICAgICAgICAgICAgICBpbnZvaWNlTGlzdD17Z2VuZXJhdGVGaW5hbEludm9pY2VMaXN0KHRoaXMuc3RhdGUuc3VtbWFyeSwgdGhpcy5wcm9wcy5pbnZvaWNlcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzPXt0aGlzLnN0YXRlLm5vdGVzfVxyXG4gICAgICAgICAgICAgICAgICAgIG5vbkFjdGlvbkluY2x1ZGVkPXt0aGlzLnN0YXRlLm5vbkFjdGlvbkluY2x1ZGVkfVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRDdXN0b21lclVybD17dGhpcy5wcm9wcy5uZXh0Q3VzdG9tZXJVcmx9XHJcbiAgICAgICAgICAgICAgICAgICAgdG9DYWxsQ3VzdG9tZXJzPXt0aGlzLnByb3BzLnRvQ2FsbEN1c3RvbWVyc31cclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lcj17dGhpcy5wcm9wcy5jdXN0b21lcn1cclxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0b3I9e3RoaXMucHJvcHMuY29sbGVjdG9yfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3RJbmRleD17dGhpcy5wcm9wcy5jb250YWN0SW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPC9GaW5hbD5cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPEFjdGlvbkNyZWF0b3JEaWFsb2dcclxuICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLmRvT3Blbk5ld0FjdGlvbkRpYWxvZ31cclxuICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlQWN0aW9uQ3JlYXRvckRpYWxvZ31cclxuICAgICAgICAgICAgICBvbkFjdGlvbkl0ZW1DbGljaz17KGFjdGlvblR5cGUpID0+IHRoaXMuaGFuZGxlQWN0aW9uSXRlbUNsaWNrKGFjdGlvblR5cGUpfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8Q3VzdG9tRGlhbG9nXHJcbiAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5kb1Jldmlld0RpYWxvZ09wZW59XHJcbiAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVJldmlld1dhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgdGl0bGU9e1JFVklFV19XQVJOSU5HfVxyXG4gICAgICAgICAgICAgIGFjdGlvbnM9e1tcclxuICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVJldmlld1dhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxTbmFja2JhclxyXG4gICAgICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xyXG4gICAgICAgICAgICAgICAgdmVydGljYWw6IFwiYm90dG9tXCIsXHJcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBcImxlZnRcIixcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIGtleT17dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2Uua2V5fVxyXG4gICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc25hY2tPcGVufVxyXG4gICAgICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezIwMDB9XHJcbiAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgIENvbnRlbnRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCcsXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBtZXNzYWdlPXs8c3BhbiBpZD17dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2Uua2V5fT57dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2UubWVzc2FnZX08L3NwYW4+fVxyXG4gICAgICAgICAgICAgIGFjdGlvbj17W1xyXG4gICAgICAgICAgICAgICAgPEljb25CdXR0b25cclxuICAgICAgICAgICAgICAgICAga2V5PVwiY2xvc2VcIlxyXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPSdDbG9zZSdcclxuICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNsb3NlfVxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlU25hY2tiYXJ9XHJcbiAgICAgICAgICAgICAgICAgIG9uRXhpdGVkPXt0aGlzLmhhbmRsZVNuYWNrYmFyRXhpdH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbiAvPlxyXG4gICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPixcclxuICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5Qb3N0Q2FsbC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe1xyXG4gIHVzZXI6IHN0YXRlLnBlcnNvbmFsRGV0YWlscyxcclxuICBjYWxsU3RhdGU6IHN0YXRlLmNhbGxTdGF0ZSxcclxuICB0cmFuc2NyaXB0aW9uOiBzdGF0ZS50cmFuc2NyaXB0aW9uLFxyXG4gIGNhbGxMb2dTdGF0ZTogc3RhdGUuY2FsbExvZ1N0YXRlLFxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcclxuICBtYXBTdGF0ZVRvUHJvcHMsXHJcbikod2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFBvc3RDYWxsKSlcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZpZXdzL1Bvc3RDYWxsLmpzIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBQMlAgZnJvbSAnLi4vY29tcG9uZW50cy9QMlAnO1xyXG5pbXBvcnQgRGlzcHV0ZSBmcm9tICcuLi9jb21wb25lbnRzL0Rpc3B1dGUnO1xyXG5pbXBvcnQgRm9sbG93dXAgZnJvbSAnLi4vY29tcG9uZW50cy9Gb2xsb3d1cCc7XHJcbmltcG9ydCBBY3Rpb25EZXRhaWxzIGZyb20gJy4uL2NvbXBvbmVudHMvQWN0aW9uRGV0YWlscyc7XHJcbmltcG9ydCBFeHBhbnNpb25QYW5lbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbCc7XHJcbmltcG9ydCBFeHBhbnNpb25QYW5lbFN1bW1hcnkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRXhwYW5zaW9uUGFuZWxTdW1tYXJ5JztcclxuaW1wb3J0IEV4cGFuc2lvblBhbmVsRGV0YWlscyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbERldGFpbHMnO1xyXG5pbXBvcnQgRXhwYW5kTW9yZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0V4cGFuZE1vcmUnO1xyXG5pbXBvcnQgeyBJTlRFTlRfVFlQRVMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICAgIHBhbmVsOiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgIH0sXHJcbiAgICBleHBhbmRlZEJhY2tncm91bmQ6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzM5NTg2RlwiLFxyXG4gICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwcHggM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMikpXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIwICFpbXBvcnRhbnRcIixcclxuICAgIH0sXHJcbiAgICBwYW5lbENvbW1vbjoge1xyXG4gICAgICAgIHBhZGRpbmc6IFwiMCAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjVweFwiLFxyXG4gICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwcHggM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMikpXCJcclxuICAgIH0sXHJcbiAgICBleHBhbmRJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBleHBhbnNpb25QYW5lbFJvb3Q6IHtcclxuICAgICAgICBib3hTaGFkb3c6IFwibm9uZSAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweCAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuODN2aFwiXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY2xhc3MgQWN0aW9ucyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5wcm9wcy5zdW1tYXJ5LmVudGl0aWVzW1wiaW52b2ljZVwiXTtcclxuICAgICAgICBjb25zdCBpbml0aWFsSW52b2ljZURhdGEgPSB0aGlzLmdlbkluaXRpYWxJbnZvaWNlRGF0YShpbnZvaWNlcyk7XHJcbiAgICAgICAgY29uc3QgeyBjb3JyZWN0SW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcCwgaW5jb3JyZWN0RmxhZyB9ID0gaW5pdGlhbEludm9pY2VEYXRhO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBleHBhbmRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGFtb3VudDogMCxcclxuICAgICAgICAgICAgaW52b2ljZXMsXHJcbiAgICAgICAgICAgIHN1bW1hcnk6IHRoaXMucHJvcHMuc3VtbWFyeSxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzLFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXAsXHJcbiAgICAgICAgICAgIGluY29ycmVjdEZsYWcsXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogMCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlRXhwYW5kID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBleHBhbmRlZDogIXRoaXMuc3RhdGUuZXhwYW5kZWQgfSlcclxuICAgIH1cclxuXHJcbiAgICBnZW5Jbml0aWFsSW52b2ljZURhdGEgPSAoaW52b2ljZXMpID0+IHtcclxuICAgICAgICBsZXQgY29ycmVjdEludm9pY2VzID0gW107XHJcbiAgICAgICAgbGV0IGNvcnJlY3RJbnZvaWNlc01hcCA9IHt9O1xyXG4gICAgICAgIGxldCBpbmNvcnJlY3RGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgYWxsSW52b2ljZUxpc3QgPSB0aGlzLnByb3BzLmFsbEludm9pY2VMaXN0O1xyXG5cclxuICAgICAgICBpZiAoaW52b2ljZXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnZvaWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFsbEludm9pY2VMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGFsbEludm9pY2VMaXN0W2pdLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50SW52b2ljZSA9IGFsbEludm9pY2VMaXN0W2pdW2tdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludm9pY2VzW2ldID09IGN1cnJlbnRJbnZvaWNlLmRvY3VtZW50TnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXMucHVzaChjdXJyZW50SW52b2ljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXBbY3VycmVudEludm9pY2UuaWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFmbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBJbnZvaWNlID0gT2JqZWN0LmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBgJHtpbnZvaWNlc1tpXX1pbmNvcnJlY3RgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudE51bWJlcjogaW52b2ljZXNbaV1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzLnB1c2godGVtcEludm9pY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWcgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGludm9pY2VEYXRhID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcyxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwLFxyXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaW52b2ljZURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29tbW9uUHJvcHMgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgICAgICBjdXN0b21lcjogdGhpcy5wcm9wcy5jdXN0b21lcixcclxuICAgICAgICAgICAgY2FsbFRvTmFtZTogdGhpcy5wcm9wcy5jYWxsZWRUb05hbWUsXHJcbiAgICAgICAgICAgIGNhbGxlZFRvTnVtYmVyOiB0aGlzLnByb3BzLmNhbGxlZFRvTnVtYmVyLFxyXG4gICAgICAgICAgICBjb250YWN0TG9nOiB0aGlzLnByb3BzLmNvbnRhY3RMb2csXHJcbiAgICAgICAgICAgIG9uQWN0aW9uSXRlbUNvbmZpcm06IHRoaXMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybSxcclxuICAgICAgICAgICAgZGVsZXRlQWN0aW9uOiB0aGlzLnByb3BzLm9uRGVsZXRlLFxyXG4gICAgICAgICAgICBvbkNvbXBsZXRpb246IHRoaXMubWFya1RoaXNDb21wbGV0ZSxcclxuICAgICAgICAgICAgdG9nZ2xlRXhwYW5kOiB0aGlzLnRvZ2dsZUV4cGFuZCxcclxuICAgICAgICAgICAgb3BlblNuYWNrYmFyT25BY3Rpb246IChtZXNzYWdlVHlwZSkgPT4gdGhpcy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlVHlwZSksXHJcbiAgICAgICAgICAgIHVwZGF0ZVN1bW1hcnlJblBhcmVudDogKHVwZGF0ZWRTdW1tYXJ5KSA9PiB7IHRoaXMucHJvcHMudXBkYXRlU3VtbWFyeUluUGFyZW50KHVwZGF0ZWRTdW1tYXJ5LCB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcykgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvcnJlY3RJbnZvaWNlcyA9IChpbnZvaWNlcywgaW52b2ljZXNNYXApID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IGludm9pY2VzLFxyXG4gICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiBpbnZvaWNlc01hcFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZUludm9pY2VzSW5QYXJlbnQoaW52b2ljZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJbnZvaWNlcyA9IChmbGFnLCBpbnZvaWNlQ291bnQpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogZmxhZyxcclxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiBpbnZvaWNlQ291bnQsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFya1RoaXNDb21wbGV0ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29tcGxldGVkOiB0cnVlLCBleHBhbmRlZDogZmFsc2UgfSk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCBpbnRlbnRUeXBlIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IGNvbW1vblByb3BzID0gdGhpcy5nZXRDb21tb25Qcm9wcygpO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8RXhwYW5zaW9uUGFuZWxcclxuICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5leHBhbnNpb25QYW5lbFJvb3QgfX1cclxuICAgICAgICAgICAgICAgIGV4cGFuZGVkPXt0aGlzLnN0YXRlLmV4cGFuZGVkfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnBhbmVsfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8RXhwYW5zaW9uUGFuZWxTdW1tYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLmV4cGFuZGVkID8gY2xhc3Nlcy5leHBhbmRlZEJhY2tncm91bmQgOiBjbGFzc2VzLnBhbmVsQ29tbW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZEljb249e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlICE9PSBJTlRFTlRfVFlQRVMuRk9MTE9XX1VQICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbmRNb3JlSWNvbiBvbkNsaWNrPXt0aGlzLnRvZ2dsZUV4cGFuZH0gY2xhc3NOYW1lPXtjbGFzc2VzLmV4cGFuZEljb259IC8+KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudFR5cGUgPT09IElOVEVOVF9UWVBFUy5QMlAgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFAyUFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc9eyB0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQW1vdW50PXt0aGlzLnN0YXRlLmFtb3VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5PXsgdGhpcy5zdGF0ZS5zdW1tYXJ5IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQ9eyB0aGlzLnN0YXRlLmludm9pY2VDb3VudCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzPXsgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5jb21tb25Qcm9wc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlbnRUeXBlID09PSBJTlRFTlRfVFlQRVMuRElTUFVURSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGlzcHV0ZSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnPXt0aGlzLnN0YXRlLmluY29ycmVjdEZsYWd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeT17dGhpcy5zdGF0ZS5zdW1tYXJ5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9pY2VDb3VudD17dGhpcy5zdGF0ZS5pbnZvaWNlQ291bnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEludm9pY2VzPXt0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb25Db2RlTGlzdD17dGhpcy5wcm9wcy5yZWFzb25Db2RlTGlzdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50VHlwZSA9PT0gSU5URU5UX1RZUEVTLkZPTExPV19VUCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9sbG93dXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3RGbGFnPXt0aGlzLnN0YXRlLmluY29ycmVjdEZsYWd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeT17dGhpcy5zdGF0ZS5zdW1tYXJ5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd3VwVGV4dExpc3Q9e3RoaXMucHJvcHMuZm9sbG93dXBUZXh0TGlzdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9FeHBhbnNpb25QYW5lbFN1bW1hcnk+XHJcbiAgICAgICAgICAgICAgICA8RXhwYW5zaW9uUGFuZWxEZXRhaWxzIGNsYXNzTmFtZT17Y2xhc3Nlcy5wYW5lbENvbW1vbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFjdGlvbkRldGFpbHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VtPXt0aGlzLnN0YXRlLnN1bW1hcnl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudFR5cGU9e2ludGVudFR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlcz17dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcD17dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY29ycmVjdEZsYWc9e3RoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVJbnZvaWNlPXt0aGlzLnVwZGF0ZUludm9pY2VzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lPXt0aGlzLnN0YXRlLmNvbXBsZXRlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXM9e3RoaXMucHJvcHMuYWxsSW52b2ljZUxpc3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldE5hbWVzPXt0aGlzLnByb3BzLmJ1Y2tldE5hbWVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJbnZvaWNlcz17KGludm9pY2VzLCBpbnZvaWNlc01hcCkgPT4geyB0aGlzLnVwZGF0ZUNvcnJlY3RJbnZvaWNlcyhpbnZvaWNlcywgaW52b2ljZXNNYXApIH19XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsRGV0YWlscz5cclxuICAgICAgICAgICAgPC9FeHBhbnNpb25QYW5lbD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbkFjdGlvbnMucHJvcFR5cGVzID0ge1xyXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEFjdGlvbnMpXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvQWN0aW9ucy5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSBcImNsYXNzbmFtZXNcIjtcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCB7IERvbmUsIEhpZ2hsaWdodE9mZiwgQm9yZGVyQ29sb3IsIERhdGVSYW5nZSwgQ2hlY2tDaXJjbGVPdXRsaW5lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zJztcclxuaW1wb3J0IERhdGVGbnNVdGlscyBmcm9tICdAZGF0ZS1pby9kYXRlLWZucyc7XHJcbmltcG9ydCB7IE11aVBpY2tlcnNVdGlsc1Byb3ZpZGVyLCBEYXRlUGlja2VyIH0gZnJvbSAnbWF0ZXJpYWwtdWktcGlja2Vycyc7XHJcbmltcG9ydCB7IE11aVRoZW1lUHJvdmlkZXIsIGNyZWF0ZU11aVRoZW1lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgYmx1ZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMvYmx1ZSc7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RleHRGaWVsZCc7XHJcbmltcG9ydCBFcnJvciBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRXJyb3InO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBOdW1iZXJGb3JtYXQgZnJvbSAncmVhY3QtbnVtYmVyLWZvcm1hdCc7XHJcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xyXG5pbXBvcnQgQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaXJjdWxhclByb2dyZXNzJztcclxuaW1wb3J0IEN1c3RvbURpYWxvZyBmcm9tICcuL0N1c3RvbURpYWxvZyc7XHJcbmltcG9ydCB7IGVtcHR5RnVuY3Rpb24gfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7XHJcbmltcG9ydCB7IGN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyIH0gZnJvbSAnLi4vdXRpbHMvZm9ybWF0dGVyJztcclxuaW1wb3J0IHsgaXNWYWxpZERhdGUsIGZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCwgZm9ybWF0RGF0ZVdpdGhUaW1lem9uZSB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XHJcbmltcG9ydCBjb21iaW5lU3R5bGVzIGZyb20gJy4uL3V0aWxzL2NvbWJpbmVTdHlsZXMnO1xyXG5pbXBvcnQgYmFzZVN0eWxlIGZyb20gICcuLi91dGlscy9iYXNlU3R5bGUnO1xyXG5cclxuLy9jb25zdGFudHNcclxuY29uc3QgUDJQUmVnZXggPSAvKFByb21pc2UgdG8gcGF5IGZvciBcXGQqKXwoXFxkezR9LVxcZHsyfS1cXGR7Mn1UW1xcZHsyfTpdKi5cXGR7M31bLXwrXVxcZHsyfTpcXGR7Mn0pfChcXGQqIGludm9pY2UpL2c7XHJcbmNvbnN0IGRpc2NhcmRNZXNzYWdlID0gXCJUaGlzIHdpbGwgYmUgcmVtb3ZlZCBwZXJtYW5lbnRseSBmcm9tIHRoZSBzdWdnZXN0ZWQgYWN0aW9ucy4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS5cIjtcclxuY29uc3QgcmVzb2x2ZU1lc3NhZ2UgPSBcIiBVbmFibGUgdG8gY29tcGxldGUgdGhlIGFjdGlvbi4gUGxlYXNlIHJlc29sdmUgdGhlIGVycm9ycyB0byBhcHByb3ZlLlwiO1xyXG5jb25zdCBQMlBUZW1wbGF0ZSA9IFwiUGF5bWVudCBjb21taXRtZW50IHJlY2VpdmVkIGZvciA8QW1vdW50PiB0byBiZSBwYWlkIGJ5IDxEYXRlPiA8SW52b2ljZXM+LlwiO1xyXG5jb25zdCBQMlBfT1JJR19URU1QTEFURSA9IFwiQ3JlYXRlIFByb21pc2UgdG8gcGF5IGZvciA8QW1vdW50PiB0byBiZSBwYWlkIGJ5IDxEYXRlPiBmb3IgPEludm9pY2VzPlwiO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICAgIHRleHRGaWVsZDoge1xyXG4gICAgICAgIG1hcmdpbjogXCIwcHhcIixcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIHRlc3Q6IHtcclxuICAgICAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgICAgIHBhZGRpbmc6ICcwcHgnLFxyXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiAwLjYsXHJcblxyXG4gICAgICAgIFwiJjpiZWZvcmVcIjoge1xyXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICM1REFBRTBcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiJjphZnRlclwiOiB7XHJcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgIzVEQUFFMFwiLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB0ZXN0SW5pdGlhbDoge1xyXG4gICAgICAgIHdpZHRoOiAnYXV0bycsXHJcbiAgICAgICAgcGFkZGluZzogJzBweCcsXHJcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHk6IDAuNixcclxuXHJcbiAgICAgICAgXCImOmJlZm9yZVwiOiB7XHJcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCImOmFmdGVyXCI6IHtcclxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCIsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFjdGlvblByb2dyZXNzQmFyOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiMS41cmVtICFpbXBvcnRhbnRcIixcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIixcclxuICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMC41cmVtXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICB9LFxyXG4gICAgY2FyZENvbnRlbnQ6IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eSA6IDAuNjUsXHJcbiAgICAgICAgZm9udFNpemUgOiBcIjAuOXJlbVwiXHJcbiAgICB9LFxyXG4gICAgYWN0aW9uSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIGhlaWdodCA6IFwiMS42cmVtXCIsXHJcbiAgICAgICAgd2lkdGggIDogXCIxLjZyZW1cIlxyXG4gICAgfSxcclxuICAgIGVycm9yRmxhZzoge1xyXG4gICAgICAgIGNvbG9yOiBcIiNGRjQ0NDRcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCJcclxuICAgIH0sXHJcbiAgICBkaXNhYmxlRG9uZUJ0bjoge1xyXG4gICAgICAgIG9wYWNpdHk6IDAuNCxcclxuICAgICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiLFxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IG1hdGVyaWFsVGhlbWUgPSBjcmVhdGVNdWlUaGVtZSh7XHJcbiAgICBvdmVycmlkZXM6IHtcclxuICAgICAgICBNdWlQaWNrZXJzVG9vbGJhcjoge1xyXG4gICAgICAgICAgICB0b29sYmFyOiB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJsdWUuQTIwMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodCA6IFwiMTN2aFwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBNdWlQaWNrZXJzQ2FsZW5kYXJIZWFkZXI6IHtcclxuICAgICAgICAgICAgc3dpdGNoSGVhZGVyOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Qmx1ZS5BMjAwLFxyXG4gICAgICAgICAgICAgICAgLy8gY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBNdWlQaWNrZXJzRGF5OiB7XHJcbiAgICAgICAgICAgIGRheToge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IGJsdWUuQTcwMCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmx1ZVsnNDAwJ10sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBibHVlWyc5MDAnXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIE11aUZvcm1IZWxwZXJUZXh0OiB7XHJcbiAgICAgICAgICAgIGVycm9yOiB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjRkY4ODg4ICFpbXBvcnRhbnRcIixcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTXVpUGlja2Vyc01vZGFsOiB7XHJcbiAgICAgICAgICAgIGRpYWxvZ0FjdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IGJsdWVbJzQwMCddLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG59KTtcclxuXHJcbmNsYXNzIFAyUCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICBsZXQgZXh0cmFjdGVkRGF0YSA9IHRoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKFAyUFJlZ2V4KTtcclxuICAgICAgICBsZXQgZXh0cmFjdGVkQW1vdW50ID0gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9Lyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHJlYWRPbmx5OiAhdGhpcy5wcm9wcy5zdW1tYXJ5LmNyZWF0ZWQsXHJcbiAgICAgICAgICAgIGlzRWRpdGluZzogdGhpcy5wcm9wcy5zdW1tYXJ5LmNyZWF0ZWQgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgIHByZXZBbW91bnQ6IFwiXCIsXHJcbiAgICAgICAgICAgIGFtb3VudDogZXh0cmFjdGVkQW1vdW50ID8gZXh0cmFjdGVkQW1vdW50WzBdIDogdGhpcy5wcm9wcy5zdW1tYXJ5LmNyZWF0ZWQgPyBcIlwiIDogMCxcclxuICAgICAgICAgICAgc2VsZWN0ZWREYXRlOiBuZXcgRGF0ZShleHRyYWN0ZWREYXRhWzFdKSxcclxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiB0aGlzLnByb3BzLmludm9pY2VDb3VudCxcclxuICAgICAgICAgICAgb3BlbkFjdGlvblNhdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBzbmFja0Jhck9wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBzbmFja0Jhck1lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgICAgIG9wZW5XYXJuaW5nRGlhbG9nOiBmYWxzZSxcclxuICAgICAgICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxyXG4gICAgICAgICAgICBhY3Rpb25JZDogdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxyXG4gICAgICAgICAgICBpc0RvbmU6IHRoaXMucHJvcHMuc3VtbWFyeS5zYXZlLFxyXG4gICAgICAgICAgICBmaW5hbFNlbGVjdGVkRGF0ZTogdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUgPyBmb3JtYXQobmV3IERhdGUoZXh0cmFjdGVkRGF0YVsxXSksIFwiTU1NIGRkLCB5eXl5XCIpIDogXCJcIixcclxuICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGV4dHJhY3RlZEFtb3VudCA/IChcIlwiICsgZXh0cmFjdGVkQW1vdW50KS5sZW5ndGggKiAxMiA6IDE1LFxyXG4gICAgICAgICAgICBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiB0aGlzLnByb3BzLmluY29ycmVjdEZsYWcsXHJcbiAgICAgICAgICAgIGludmFsaWREYXRhTm90aWZpZXJNZXNzYWdlOiBcIlwiLFxyXG4gICAgICAgICAgICBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogZmFsc2UsXHJcbiAgICAgICAgICAgIHN1bW1hcnk6IHRoaXMucHJvcHMuc3VtbWFyeSxcclxuICAgICAgICAgICAgaXNBbW91bnRJbnZhbGlkOiAoZXh0cmFjdGVkQW1vdW50ID8gZmFsc2UgOiB0cnVlKSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlSW52b2ljZUN1cnJlbmN5Q2hhbmdlID0gKGV2ZW50KSA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBhbW91bnRUZXh0RmllbGRXaWR0aDogZXZlbnQudGFyZ2V0LnZhbHVlID8gKFwiXCIgKyBldmVudC50YXJnZXQudmFsdWUubGVuZ3RoKSAqIDEyIDogNTAsXHJcbiAgICAgICAgICAgIGFtb3VudDogZXZlbnQudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICBhbW91bnRGb3JtYXR0ZWQ6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgaXNBbW91bnRJbnZhbGlkOiBmYWxzZSxcclxuICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5hbW91bnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0Ftb3VudEludmFsaWQ6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogbmV4dFByb3BzLmluY29ycmVjdEZsYWcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChuZXh0UHJvcHMuaW52b2ljZUNvdW50ID49IDAgJiYgbmV4dFByb3BzLmludm9pY2VDb3VudCAhPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52b2ljZUNvdW50OiBuZXh0UHJvcHMuaW52b2ljZUNvdW50IH1cclxuICAgICAgICAgICAgICAgICwgKCkgPT4geyB0aGlzLnVwZGF0ZVN1bW1hcnkoKSB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvcGVuRGF0YUludmFsaWREaWFsb2cgPSAobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogdHJ1ZSxcclxuICAgICAgICAgICAgaW52YWxpZERhdGFOb3RpZmllck1lc3NhZ2U6IG1lc3NhZ2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VJbnZhbGlkRGF0YU5vdGlmaWVyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuSW52YWxpZERhdGFOb3RpZmllcjogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VTbmFja2JhciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZVAyUERhdGEgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCBhbW91bnQgPSB0aGlzLnN0YXRlLmFtb3VudDtcclxuXHJcbiAgICAgICAgaWYgKE51bWJlcihhbW91bnQpIDwgMSkge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5EYXRhSW52YWxpZERpYWxvZyhcIlBsZWFzZSBlbnRlciBhbW91bnQgPiAwLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFpc1ZhbGlkRGF0ZSh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuRGF0YUludmFsaWREaWFsb2coXCJGb3VuZCBpbnZhbGlkIGRhdGUuIFBsZWFzZSBjb3JyZWN0IHRoZSBkYXRlIHRvIHByb2NlZWQuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja0ludmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gKCF0aGlzLnN0YXRlLmlzQW1vdW50SW52YWxpZCAmJlxyXG4gICAgICAgICAgICAhdGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmIGlzVmFsaWREYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlKSlcclxuICAgIH1cclxuXHJcbiAgICBzYXZlUDJQID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVQMlBEYXRhKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhjb250YWN0SWQpXHJcbiAgICAgICAgbGV0IGNvbnRhY3RJZCA9IHRoaXMucHJvcHMuY29udGFjdExvZy5jb250YWN0ICE9PSBudWxsID8gIHRoaXMucHJvcHMuY29udGFjdExvZy5jb250YWN0LmlkIDogbnVsbDtcclxuICAgICAgICBsZXQgcGhvbmVOdW1iZXIgPSB0aGlzLnByb3BzLmNvbnRhY3RMb2cuY2FsbGluZ051bWJlclxyXG4gICAgICAgIGxldCBpbnZvaWNlcyA9IHRoaXMucHJvcHMuY29ycmVjdEludm9pY2VzLm1hcChpbnZvaWNlID0+IHtcclxuICAgICAgICAgICAgbGV0IGludm9pY2VPYmogPSB7fVxyXG4gICAgICAgICAgICBpbnZvaWNlT2JqLmNtc0RvY0hlYWRlcklkID0gaW52b2ljZS5pZFxyXG4gICAgICAgICAgICByZXR1cm4gaW52b2ljZU9iajtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5XYXJuaW5nRGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiB0cnVlLCBpc0VkaXRpbmc6IGZhbHNlLCByZWFkT25seTogdHJ1ZSB9KTtcclxuICAgICAgICBsZXQgcmVxT2JqID0ge1xyXG4gICAgICAgICAgICBjb21taXR0ZWRBbW91bnQ6IHRoaXMuc3RhdGUuYW1vdW50LFxyXG4gICAgICAgICAgICBjb21taXR0ZWRCeToge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGNvbnRhY3RJZCxcclxuICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBwaG9uZU51bWJlcixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29tbWl0dGVkRGF0ZTogbmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpLFxyXG4gICAgICAgICAgICBjb21taXR0ZWRPbjogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgY3VycmVuY3k6IFwiJFwiLFxyXG4gICAgICAgICAgICBjdXN0b21lcklkOiB0aGlzLnByb3BzLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICBwY0l0ZW1zOiBpbnZvaWNlcyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBheGlvcy5wb3N0KGAke2NvbmZpZy5hcGlVcmx9L2N1c3RvbWVyLyR7dGhpcy5wcm9wcy5jdXN0b21lci5pZH0vcDJwYCwgcmVxT2JqKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiU1VDQ0VTU1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaW5hbFNlbGVjdGVkRGF0ZTogdGhpcy5nZXREYXRlRmllbGRWYWx1ZSgpIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0RvbmU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy91cGRhdGUgZmxhZyBpbiBhY3Rpb25zIHwgcG9zdCBjYWxsIFxyXG4gICAgICAgICAgICAgICAgbGV0IHN1bW1hcnlUb1NhdmUgPSB0aGlzLmdlbmVyYXRlQWN0aW9uU3VtbWFyeSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25BY3Rpb25JdGVtQ29uZmlybShzdW1tYXJ5VG9TYXZlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3VtbWFyeSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVSUk9SXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UsIGlzRG9uZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQWN0aW9uU3VtbWFyeSA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VDb3VudCA9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50O1xyXG4gICAgICAgIGxldCBkYXRlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZERhdGU7XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXQoZGF0ZSwgXCJNTS1kZC15eXl5XCIpO1xyXG5cclxuICAgICAgICBsZXQgZ2VuZXJhdGVkU3VtbWFyeSA9IFAyUFRlbXBsYXRlLnJlcGxhY2UoXCI8QW1vdW50PlwiLCBcIiRcIiArIGZvcm1hdEN1cnJlbmN5VG9VU0Zvcm1hdCh0aGlzLnN0YXRlLmFtb3VudCkpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPERhdGU+XCIsIGZvcm1hdHRlZERhdGUpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPEludm9pY2VzPlwiLCAoaW52b2ljZUNvdW50ID09PSAwKSA/IFwiXCIgOiBpbnZvaWNlQ291bnQgPT09IDEgPyBcImZvciBcIiArIGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IFwiZm9yIFwiICsgaW52b2ljZUNvdW50ICsgXCIgaW52b2ljZXNcIik7XHJcblxyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZWRTdW1tYXJ5O1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNtaXNzQW1vdW50Q2hhbmdlcyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IGFtb3VudFRleHRGaWVsZExlbmd0aCA9IGN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyKHRoaXMuc3RhdGUuYW1vdW50KS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYW1vdW50OiBjdXJyZW50U3RhdGUucHJldkFtb3VudCxcclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGFtb3VudFRleHRGaWVsZFdpZHRoOiBhbW91bnRUZXh0RmllbGRMZW5ndGggKiA0LjUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkKS5ibHVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlblBpY2tlciA9IGUgPT4ge1xyXG4gICAgICAgIHRoaXMucGlja2VyLm9wZW4oZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHVwZGF0ZVN1bW1hcnkgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCBpbnZvaWNlQ291bnQgPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudDtcclxuICAgICAgICBsZXQgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdERhdGVXaXRoVGltZXpvbmUobmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpLCBcIi0wNjowMFwiKTtcclxuICAgICAgICBsZXQgdXBkYXRlZFN1bW1hcnkgPSBQMlBfT1JJR19URU1QTEFURS5yZXBsYWNlKFwiPEFtb3VudD5cIiwgdGhpcy5zdGF0ZS5hbW91bnQgPyB0aGlzLnN0YXRlLmFtb3VudCA6IFwiPGFtb3VudC1vZi1tb25leT5cIilcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCI8RGF0ZT5cIiwgZm9ybWF0dGVkRGF0ZSlcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCI8SW52b2ljZXM+XCIsIChpbnZvaWNlQ291bnQgPT09IDApID8gXCI8WCBpbnZvaWNlcz5cIiA6XHJcbiAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQgPT09IDEgPyBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlXCIgOiBpbnZvaWNlQ291bnQgKyBcIiBpbnZvaWNlc1wiKTtcclxuICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZVN1bW1hcnlJblBhcmVudCh1cGRhdGVkU3VtbWFyeSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZUludm9pY2VBbW91bnRDaGFuZ2UgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGNvbnN0IGFtb3VudFRleHRGaWVsZExlbmd0aCA9IGN1c3RvbUN1cnJlbmN5Rm9ybWF0dGVyKHRoaXMuc3RhdGUuYW1vdW50KS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgIHByZXZBbW91bnQ6IHRoaXMuc3RhdGUuYW1vdW50LCBcclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLCBcclxuICAgICAgICAgICAgICAgIGlzRWRpdGluZzogZmFsc2UsIFxyXG4gICAgICAgICAgICAgICAgYW1vdW50VGV4dEZpZWxkV2lkdGg6IGFtb3VudFRleHRGaWVsZExlbmd0aCAqIDQuNSxcclxuICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgICgpID0+IHsgdGhpcy51cGRhdGVTdW1tYXJ5KCk7fSBcclxuICAgICAgICApO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkKS5ibHVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbkFjdGlvbkRpc2NhcmREaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiB0cnVlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VBbmREaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVBY3Rpb24odGhpcy5zdGF0ZS5hY3Rpb25JZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlV2FybmluZ0RpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZUVkaXRpbmcgPSAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZWFkT25seTogZmFsc2UsIGlzRWRpdGluZzogdHJ1ZSB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52b2ljZS1hbW91bnQtZmllbGQtXCIgKyB0aGlzLnN0YXRlLmFjdGlvbklkKS5mb2N1cygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEYXRlQ2hhbmdlID0gZGF0ZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkRGF0ZTogZGF0ZSB9LCAoKSA9PiB7IHRoaXMudXBkYXRlU3VtbWFyeSgpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGVGaWVsZFZhbHVlID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBpZCA9IFwiZGF0ZS1pbnB1dC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQ7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBGb3JtYXR0ZWRDdXJyZW5jeUlucHV0ID0gKHByb3BzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBpbnB1dFJlZiwgb25DaGFuZ2UsIC4uLm90aGVyIH0gPSBwcm9wcztcclxuICAgIFxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxOdW1iZXJGb3JtYXRcclxuICAgICAgICAgICAgICAgIHsuLi5vdGhlcn1cclxuICAgICAgICAgICAgICAgIGdldElucHV0UmVmPXtpbnB1dFJlZn1cclxuICAgICAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U9e3ZhbHVlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXMudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgZm9ybWF0PXsoYXJncykgPT4gY3VzdG9tQ3VycmVuY3lGb3JtYXR0ZXIodGhpcy5zdGF0ZS5hbW91bnQsIFwiJFwiKX1cclxuICAgICAgICAgICAgICAgIGRlY2ltYWxTY2FsZT17OH1cclxuICAgICAgICAgICAgICAgIGFsbG93TmVnYXRpdmU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBzdW1tYXJ5IH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgZnVsbFNjcmVlbiB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlU2FtcGxlfT5cclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEwfSBtZD17MTB9IGxnPXsxMH0gY29udGFpbmVyIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5PVwiZmxleC1zdGFydFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IFwiM3JlbVwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFjdGlvblNhdmVQcm9ncmVzc0JhciAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgY2xhc3NOYW1lPXtjbGFzc2VzLmFjdGlvblByb2dyZXNzQmFyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RG9uZSBzdHlsZT17eyBjb2xvcjogXCIjNUZDMzJDXCIgLCBwYWRkaW5nTGVmdCA6IFwiMC41cmVtXCIsIHBhZGRpbmdSaWdodCA6IFwiMC41cmVtXCIsIGhlaWdodCA6IFwiMS41cmVtXCIsIHdpZHRoIDogXCIxLjVyZW1cIiB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTF9IG1kPXsxMX0gbGc9ezExfSBjb250YWluZXIgYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnk9XCJmbGV4LXN0YXJ0XCI+IFxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzRG9uZSAmJiA8VHlwb2dyYXBoeSBzdHlsZT17eyAgb3BhY2l0eSA6IDEsICB9fSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9PkNyZWF0ZWQgJm5ic3A7PC9UeXBvZ3JhcGh5Pn1cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnN0YXRlLmlzRG9uZSAmJiA8VHlwb2dyYXBoeSBzdHlsZT17eyBvcGFjaXR5IDogMSwgIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0gPkNyZWF0ZSAmbmJzcDs8L1R5cG9ncmFwaHk+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250V2VpZ2h0OiBcImJvbGRcIiwgb3BhY2l0eSA6IDEsICB9fSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9ID5QMlAgJm5ic3A7PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9ID5vZiAmbmJzcDs8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHN0eWxlPXt7IG1pbldpZHRoOiB0aGlzLnN0YXRlLmlzRWRpdGluZyA/IFwiN3JlbVwiIDogdGhpcy5zdGF0ZS5hbW91bnRUZXh0RmllbGRXaWR0aCAsIHdpZHRoOiB0aGlzLnN0YXRlLmlzRWRpdGluZyA/IFwiN3JlbVwiIDogdGhpcy5zdGF0ZS5hbW91bnRUZXh0RmllbGRXaWR0aCwgbWF4V2lkdGg6IFwiOXJlbVwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17XCJpbnZvaWNlLWFtb3VudC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWR9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnRleHRGaWVsZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFtb3VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5oYW5kbGVJbnZvaWNlQ3VycmVuY3lDaGFuZ2UoZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW49XCJub3JtYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1cIm5vcm1hbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnB1dFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnN0YXRlLmlzQW1vdW50SW52YWxpZCA/IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lcyhjbGFzc2VzLnRlc3RJbml0aWFsLGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMoY2xhc3Nlcy50ZXN0LGNsYXNzZXMuaW5wdXRGaWVsZFRleHQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKHRoaXMuc3RhdGUucmVhZE9ubHkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IEJvb2xlYW4odGhpcy5zdGF0ZS5yZWFkT25seSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDb21wb25lbnQ6IHRoaXMuc3RhdGUuaXNFZGl0aW5nID8gTnVtYmVyRm9ybWF0Q3VzdG9tIDogdGhpcy5Gb3JtYXR0ZWRDdXJyZW5jeUlucHV0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNFZGl0aW5nICYmICF0aGlzLnN0YXRlLmlzRG9uZSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3JkZXJDb2xvciBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9uSWNvbn0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luTGVmdDogXCI2cHhcIiB9fSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZUVkaXRpbmd9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRWRpdGluZyAmJiAhdGhpcy5zdGF0ZS5pc0RvbmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhpZ2hsaWdodE9mZiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luTGVmdDogXCIwLjRyZW1cIiwgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIsIH19IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyF0aGlzLnN0YXRlLnByZXZBbW91bnQgPyBjbGFzc2VzLmRpc2FibGVEb25lQnRuIDogXCJcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17IXRoaXMuc3RhdGUucHJldkFtb3VudCA/IGVtcHR5RnVuY3Rpb24gOiB0aGlzLmRpc21pc3NBbW91bnRDaGFuZ2VzfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZU91dGxpbmUgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIiM1RkMzMkNcIiwgfX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgPyBjbGFzc2VzLmRpc2FibGVEb25lQnRuIDogXCJcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zdGF0ZS5pc0Ftb3VudEludmFsaWQgPyBlbXB0eUZ1bmN0aW9uIDogdGhpcy5zYXZlSW52b2ljZUFtb3VudENoYW5nZX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0gPiZuYnNwOyB3aXRoIGR1ZSBkYXRlIG9mICZuYnNwOzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT4ge3RoaXMuc3RhdGUuaXNEb25lICYmIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9fT57dGhpcy5zdGF0ZS5maW5hbFNlbGVjdGVkRGF0ZX08L1R5cG9ncmFwaHk+fTwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBtYXhXaWR0aDogXCI4ZW1cIiB9fT57IXRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxNdWlQaWNrZXJzVXRpbHNQcm92aWRlciB1dGlscz17RGF0ZUZuc1V0aWxzfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNdWlUaGVtZVByb3ZpZGVyIHRoZW1lPXttYXRlcmlhbFRoZW1lfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXhXaWR0aDogXCI1LjM1cmVtXCIsIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93S2V5Ym9hcmRDb250cm9sPXtCb29sZWFuKGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0PVwiTU1NIGRkLCB5eXl5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGF0ZU1lc3NhZ2U9XCJQcmV2aW91cyBkYXRlIG5vdCBhY2NlcHRhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiZGF0ZS1pbnB1dC1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMudGVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogQm9vbGVhbih0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e25vZGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zZWxlY3RlZERhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZURhdGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uQ2xpY2s9e2UgPT4gZS5wcmV2ZW50RGVmYXVsdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZVllYXJTY3JvbGxpbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5EYXRlPXtuZXcgRGF0ZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGVSYW5nZSBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9uSWNvbn0gb25DbGljaz17dGhpcy5vcGVuUGlja2VyfSAvPjwvTXVpVGhlbWVQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9NdWlQaWNrZXJzVXRpbHNQcm92aWRlcj5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gYWxpZ249XCJsZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmludm9pY2VDb3VudCAhPT0gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZGlzcGxheTogXCJmbGV4XCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNFZGl0aW5nICYmIDxzcGFuPiZuYnNwOzwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3dhcmRzJm5ic3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fSBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZUV4cGFuZH0gPnt0aGlzLnN0YXRlLmludm9pY2VDb3VudCArIFwiIEludm9pY2VcIiArICh0aGlzLnN0YXRlLmludm9pY2VDb3VudCA+IDEgPyBcInNcIiA6IFwiXCIpfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmIDxFcnJvciBjbGFzc05hbWU9e2NsYXNzZXMuZXJyb3JGbGFnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgIDxDdXN0b21EaWFsb2cgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5BY3Rpb25TYXZlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VBY3Rpb25TYXZlRGlhbG9nfSB0aXRsZT17ZGlzY2FyZE1lc3NhZ2V9IGFjdGlvbnM9e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgWzxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFjdGlvbkRpc2NhcmREaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2d9IGNvbG9yPVwicHJpbWFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFncmVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPl1cclxuICAgICAgICAgICAgICAgICAgICB9IC8+XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tRGlhbG9nIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlV2FybmluZ0RpYWxvZ30gdGl0bGU9e3Jlc29sdmVNZXNzYWdlfSBhY3Rpb25zPXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFs8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfSBjb2xvcj1cInNlY29uZGFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XVxyXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cclxuICAgICAgICAgICAgICAgIDxDdXN0b21EaWFsb2cgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5JbnZhbGlkRGF0YU5vdGlmaWVyfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VJbnZhbGlkRGF0YU5vdGlmaWVyfSB0aXRsZT17dGhpcy5zdGF0ZS5pbnZhbGlkRGF0YU5vdGlmaWVyTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlSW52YWxpZERhdGFOb3RpZmllcn0gY29sb3I9XCJzZWNvbmRhcnlcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPl1cclxuICAgICAgICAgICAgICAgICAgICB9IC8+XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsyfSBtZD17Mn0gbGc9ezJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaXNEb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0T2ZmIHN0eWxlPXt7IGNvbG9yOiBcIiNGRjg4ODhcIiwgcGFkZGluZzogXCIwIDEuM3JlbSAwIDAuOHJlbVwiIH19IG9uQ2xpY2s9e3RoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2d9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwiIzVGQzMyQ1wiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmNoZWNrSW52YWxpZGF0aW9uKCkgPyBcIlwiIDogY2xhc3Nlcy5kaXNhYmxlRG9uZUJ0bn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNoZWNrSW52YWxpZGF0aW9uKCkgPyB0aGlzLnNhdmVQMlAgOiBlbXB0eUZ1bmN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTnVtYmVyRm9ybWF0Q3VzdG9tKHByb3BzKSB7XHJcbiAgICBjb25zdCB7IGlucHV0UmVmLCBvbkNoYW5nZSwgLi4ub3RoZXIgfSA9IHByb3BzO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPE51bWJlckZvcm1hdFxyXG4gICAgICAgICAgICB7Li4ub3RoZXJ9XHJcbiAgICAgICAgICAgIGdldElucHV0UmVmPXtpbnB1dFJlZn1cclxuICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17dmFsdWVzID0+IHtcclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlcy52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHRob3VzYW5kU2VwYXJhdG9yXHJcbiAgICAgICAgICAgIHByZWZpeD1cIiRcIlxyXG4gICAgICAgICAgICBhbGxvd05lZ2F0aXZlPXtmYWxzZX1cclxuICAgICAgICAgICAgZGVjaW1hbFNjYWxlPXs4fVxyXG4gICAgICAgIC8+XHJcbiAgICApO1xyXG59XHJcblxyXG5OdW1iZXJGb3JtYXRDdXN0b20ucHJvcFR5cGVzID0ge1xyXG4gICAgaW5wdXRSZWY6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxufTtcclxuXHJcblAyUC5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5jb25zdCBjb21iaW5lZFN0eWxlID0gY29tYmluZVN0eWxlcyhzdHlsZXMsYmFzZVN0eWxlKVxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKGNvbWJpbmVkU3R5bGUsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKFAyUClcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9QMlAuanMiLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qc1xuLy8gbW9kdWxlIGlkID0gNjA4OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoXCJyZWFjdFwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJyZWFjdFwiXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLnJlYWN0VGV4dE1hc2s9dChyZXF1aXJlKFwicmVhY3RcIikpOmUucmVhY3RUZXh0TWFzaz10KGUuUmVhY3QpfSh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4pe2lmKHJbbl0pcmV0dXJuIHJbbl0uZXhwb3J0czt2YXIgbz1yW25dPXtleHBvcnRzOnt9LGlkOm4sbG9hZGVkOiExfTtyZXR1cm4gZVtuXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyx0KSxvLmxvYWRlZD0hMCxvLmV4cG9ydHN9dmFyIHI9e307cmV0dXJuIHQubT1lLHQuYz1yLHQucD1cIlwiLHQoMCl9KFtmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbyhlLHQpe3ZhciByPXt9O2Zvcih2YXIgbiBpbiBlKXQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJihyW25dPWVbbl0pO3JldHVybiByfWZ1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiB1KGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jb25mb3JtVG9NYXNrPXZvaWQgMDt2YXIgbD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksZj1yKDIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiY29uZm9ybVRvTWFza1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGYpLmRlZmF1bHR9fSk7dmFyIGM9cigxMSkscD1uKGMpLGQ9cig5KSxoPW4oZCksdj1yKDUpLHk9bih2KSxtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZTtpKHRoaXMsdCk7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShyKSxvPTA7bzxyO28rKyluW29dPWFyZ3VtZW50c1tvXTt2YXIgdT1hKHRoaXMsKGU9dC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobikpKTtyZXR1cm4gdS5vbkJsdXI9dS5vbkJsdXIuYmluZCh1KSx1Lm9uQ2hhbmdlPXUub25DaGFuZ2UuYmluZCh1KSx1fXJldHVybiB1KHQsZSkscyh0LFt7a2V5OlwiaW5pdFRleHRNYXNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9dGhpcy5wcm9wcy52YWx1ZTt0aGlzLnRleHRNYXNrSW5wdXRFbGVtZW50PSgwLHkuZGVmYXVsdCkobCh7aW5wdXRFbGVtZW50OnRoaXMuaW5wdXRFbGVtZW50fSxlKSksdGhpcy50ZXh0TWFza0lucHV0RWxlbWVudC51cGRhdGUodCl9fSx7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5pdFRleHRNYXNrKCl9fSx7a2V5OlwiY29tcG9uZW50RGlkVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmluaXRUZXh0TWFzaygpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uIGUoKXt2YXIgdD10aGlzLHI9dGhpcy5wcm9wcyxlPXIucmVuZGVyLG49byhyLFtcInJlbmRlclwiXSk7ZGVsZXRlIG4ubWFzayxkZWxldGUgbi5ndWlkZSxkZWxldGUgbi5waXBlLGRlbGV0ZSBuLnBsYWNlaG9sZGVyQ2hhcixkZWxldGUgbi5rZWVwQ2hhclBvc2l0aW9ucyxkZWxldGUgbi52YWx1ZSxkZWxldGUgbi5vbkJsdXIsZGVsZXRlIG4ub25DaGFuZ2UsZGVsZXRlIG4uc2hvd01hc2s7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5wdXRFbGVtZW50PWV9O3JldHVybiBlKGksbCh7b25CbHVyOnRoaXMub25CbHVyLG9uQ2hhbmdlOnRoaXMub25DaGFuZ2UsZGVmYXVsdFZhbHVlOnRoaXMucHJvcHMudmFsdWV9LG4pKX19LHtrZXk6XCJvbkNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGV4dE1hc2tJbnB1dEVsZW1lbnQudXBkYXRlKCksXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5wcm9wcy5vbkNoYW5nZSYmdGhpcy5wcm9wcy5vbkNoYW5nZShlKX19LHtrZXk6XCJvbkJsdXJcIix2YWx1ZTpmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnByb3BzLm9uQmx1ciYmdGhpcy5wcm9wcy5vbkJsdXIoZSl9fV0pLHR9KHAuZGVmYXVsdC5Db21wb25lbnQpO3QuZGVmYXVsdD1tLG0ucHJvcFR5cGVzPXttYXNrOmguZGVmYXVsdC5vbmVPZlR5cGUoW2guZGVmYXVsdC5hcnJheSxoLmRlZmF1bHQuZnVuYyxoLmRlZmF1bHQuYm9vbCxoLmRlZmF1bHQuc2hhcGUoe21hc2s6aC5kZWZhdWx0Lm9uZU9mVHlwZShbaC5kZWZhdWx0LmFycmF5LGguZGVmYXVsdC5mdW5jXSkscGlwZTpoLmRlZmF1bHQuZnVuY30pXSkuaXNSZXF1aXJlZCxndWlkZTpoLmRlZmF1bHQuYm9vbCx2YWx1ZTpoLmRlZmF1bHQub25lT2ZUeXBlKFtoLmRlZmF1bHQuc3RyaW5nLGguZGVmYXVsdC5udW1iZXJdKSxwaXBlOmguZGVmYXVsdC5mdW5jLHBsYWNlaG9sZGVyQ2hhcjpoLmRlZmF1bHQuc3RyaW5nLGtlZXBDaGFyUG9zaXRpb25zOmguZGVmYXVsdC5ib29sLHNob3dNYXNrOmguZGVmYXVsdC5ib29sfSxtLmRlZmF1bHRQcm9wcz17cmVuZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIixsKHtyZWY6ZX0sdCkpfX19LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5wbGFjZWhvbGRlckNoYXI9XCJfXCIsdC5zdHJGdW5jdGlvbj1cImZ1bmN0aW9uXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOmwsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtpZighKDAsaS5pc0FycmF5KSh0KSl7aWYoKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6byh0KSkhPT1hLnN0ckZ1bmN0aW9uKXRocm93IG5ldyBFcnJvcihcIlRleHQtbWFzazpjb25mb3JtVG9NYXNrOyBUaGUgbWFzayBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5LlwiKTt0PXQoZSxyKSx0PSgwLGkucHJvY2Vzc0NhcmV0VHJhcHMpKHQpLm1hc2tXaXRob3V0Q2FyZXRUcmFwc312YXIgbj1yLmd1aWRlLHM9dm9pZCAwPT09bnx8bixmPXIucHJldmlvdXNDb25mb3JtZWRWYWx1ZSxjPXZvaWQgMD09PWY/bDpmLHA9ci5wbGFjZWhvbGRlckNoYXIsZD12b2lkIDA9PT1wP2EucGxhY2Vob2xkZXJDaGFyOnAsaD1yLnBsYWNlaG9sZGVyLHY9dm9pZCAwPT09aD8oMCxpLmNvbnZlcnRNYXNrVG9QbGFjZWhvbGRlcikodCxkKTpoLHk9ci5jdXJyZW50Q2FyZXRQb3NpdGlvbixtPXIua2VlcENoYXJQb3NpdGlvbnMsYj1zPT09ITEmJnZvaWQgMCE9PWMsZz1lLmxlbmd0aCxrPWMubGVuZ3RoLEM9di5sZW5ndGgsTz10Lmxlbmd0aCxUPWctayxQPVQ+MCx4PXkrKFA/LVQ6MCksdz14K01hdGguYWJzKFQpO2lmKG09PT0hMCYmIVApe2Zvcih2YXIgXz1sLE09eDtNPHc7TSsrKXZbTV09PT1kJiYoXys9ZCk7ZT1lLnNsaWNlKDAseCkrXytlLnNsaWNlKHgsZyl9Zm9yKHZhciBTPWUuc3BsaXQobCkubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJue2NoYXI6ZSxpc05ldzp0Pj14JiZ0PHd9fSksaj1nLTE7aj49MDtqLS0pe3ZhciBFPVNbal0uY2hhcjtpZihFIT09ZCl7dmFyIFI9aj49eCYmaz09PU87RT09PXZbUj9qLVQ6al0mJlMuc3BsaWNlKGosMSl9fXZhciBWPWwsQT0hMTtlOmZvcih2YXIgTj0wO048QztOKyspe3ZhciBCPXZbTl07aWYoQj09PWQpe2lmKFMubGVuZ3RoPjApZm9yKDtTLmxlbmd0aD4wOyl7dmFyIEk9Uy5zaGlmdCgpLEY9SS5jaGFyLHE9SS5pc05ldztpZihGPT09ZCYmYiE9PSEwKXtWKz1kO2NvbnRpbnVlIGV9aWYodFtOXS50ZXN0KEYpKXtpZihtPT09ITAmJnEhPT0hMSYmYyE9PWwmJnMhPT0hMSYmUCl7Zm9yKHZhciBEPVMubGVuZ3RoLEw9bnVsbCxXPTA7VzxEO1crKyl7dmFyIEo9U1tXXTtpZihKLmNoYXIhPT1kJiZKLmlzTmV3PT09ITEpYnJlYWs7aWYoSi5jaGFyPT09ZCl7TD1XO2JyZWFrfX1udWxsIT09TD8oVis9RixTLnNwbGljZShMLDEpKTpOLS19ZWxzZSBWKz1GO2NvbnRpbnVlIGV9QT0hMH1iPT09ITEmJihWKz12LnN1YnN0cihOLEMpKTticmVha31WKz1CfWlmKGImJlA9PT0hMSl7Zm9yKHZhciBVPW51bGwsSD0wO0g8Vi5sZW5ndGg7SCsrKXZbSF09PT1kJiYoVT1IKTtWPW51bGwhPT1VP1Yuc3Vic3RyKDAsVSsxKTpsfXJldHVybntjb25mb3JtZWRWYWx1ZTpWLG1ldGE6e3NvbWVDaGFyc1JlamVjdGVkOkF9fX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTt0LmRlZmF1bHQ9bjt2YXIgaT1yKDMpLGE9cigxKSx1PVtdLGw9XCJcIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06cyx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpsLnBsYWNlaG9sZGVyQ2hhcjtpZighbyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJUZXh0LW1hc2s6Y29udmVydE1hc2tUb1BsYWNlaG9sZGVyOyBUaGUgbWFzayBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5LlwiKTtpZihlLmluZGV4T2YodCkhPT0tMSl0aHJvdyBuZXcgRXJyb3IoXCJQbGFjZWhvbGRlciBjaGFyYWN0ZXIgbXVzdCBub3QgYmUgdXNlZCBhcyBwYXJ0IG9mIHRoZSBtYXNrLiBQbGVhc2Ugc3BlY2lmeSBhIGNoYXJhY3RlciB0aGF0IGlzIG5vdCBwcmVzZW50IGluIHlvdXIgbWFzayBhcyB5b3VyIHBsYWNlaG9sZGVyIGNoYXJhY3Rlci5cXG5cXG5cIisoXCJUaGUgcGxhY2Vob2xkZXIgY2hhcmFjdGVyIHRoYXQgd2FzIHJlY2VpdmVkIGlzOiBcIitKU09OLnN0cmluZ2lmeSh0KStcIlxcblxcblwiKSsoXCJUaGUgbWFzayB0aGF0IHdhcyByZWNlaXZlZCBpczogXCIrSlNPTi5zdHJpbmdpZnkoZSkpKTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBSZWdFeHA/dDplfSkuam9pbihcIlwiKX1mdW5jdGlvbiBvKGUpe3JldHVybiBBcnJheS5pc0FycmF5JiZBcnJheS5pc0FycmF5KGUpfHxlIGluc3RhbmNlb2YgQXJyYXl9ZnVuY3Rpb24gaShlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZ31mdW5jdGlvbiBhKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZ2b2lkIDA9PT1lLmxlbmd0aCYmIWlzTmFOKGUpfWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PVtdLHI9dm9pZCAwO3I9ZS5pbmRleE9mKGYpLHIhPT0tMTspdC5wdXNoKHIpLGUuc3BsaWNlKHIsMSk7cmV0dXJue21hc2tXaXRob3V0Q2FyZXRUcmFwczplLGluZGV4ZXM6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXI9bix0LmlzQXJyYXk9byx0LmlzU3RyaW5nPWksdC5pc051bWJlcj1hLHQucHJvY2Vzc0NhcmV0VHJhcHM9dTt2YXIgbD1yKDEpLHM9W10sZj1cIltdXCJ9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXt2YXIgdD1lLnByZXZpb3VzQ29uZm9ybWVkVmFsdWUscj12b2lkIDA9PT10P286dCxpPWUucHJldmlvdXNQbGFjZWhvbGRlcixhPXZvaWQgMD09PWk/bzppLHU9ZS5jdXJyZW50Q2FyZXRQb3NpdGlvbixsPXZvaWQgMD09PXU/MDp1LHM9ZS5jb25mb3JtZWRWYWx1ZSxmPWUucmF3VmFsdWUsYz1lLnBsYWNlaG9sZGVyQ2hhcixwPWUucGxhY2Vob2xkZXIsZD1lLmluZGV4ZXNPZlBpcGVkQ2hhcnMsaD12b2lkIDA9PT1kP246ZCx2PWUuY2FyZXRUcmFwSW5kZXhlcyx5PXZvaWQgMD09PXY/bjp2O2lmKDA9PT1sfHwhZi5sZW5ndGgpcmV0dXJuIDA7dmFyIG09Zi5sZW5ndGgsYj1yLmxlbmd0aCxnPXAubGVuZ3RoLGs9cy5sZW5ndGgsQz1tLWIsTz1DPjAsVD0wPT09YixQPUM+MSYmIU8mJiFUO2lmKFApcmV0dXJuIGw7dmFyIHg9TyYmKHI9PT1zfHxzPT09cCksdz0wLF89dm9pZCAwLE09dm9pZCAwO2lmKHgpdz1sLUM7ZWxzZXt2YXIgUz1zLnRvTG93ZXJDYXNlKCksaj1mLnRvTG93ZXJDYXNlKCksRT1qLnN1YnN0cigwLGwpLnNwbGl0KG8pLFI9RS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFMuaW5kZXhPZihlKSE9PS0xfSk7TT1SW1IubGVuZ3RoLTFdO3ZhciBWPWEuc3Vic3RyKDAsUi5sZW5ndGgpLnNwbGl0KG8pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWN9KS5sZW5ndGgsQT1wLnN1YnN0cigwLFIubGVuZ3RoKS5zcGxpdChvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1jfSkubGVuZ3RoLE49QSE9PVYsQj12b2lkIDAhPT1hW1IubGVuZ3RoLTFdJiZ2b2lkIDAhPT1wW1IubGVuZ3RoLTJdJiZhW1IubGVuZ3RoLTFdIT09YyYmYVtSLmxlbmd0aC0xXSE9PXBbUi5sZW5ndGgtMV0mJmFbUi5sZW5ndGgtMV09PT1wW1IubGVuZ3RoLTJdOyFPJiYoTnx8QikmJlY+MCYmcC5pbmRleE9mKE0pPi0xJiZ2b2lkIDAhPT1mW2xdJiYoXz0hMCxNPWZbbF0pO2Zvcih2YXIgST1oLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gU1tlXX0pLEY9SS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1NfSkubGVuZ3RoLHE9Ui5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1NfSkubGVuZ3RoLEQ9cC5zdWJzdHIoMCxwLmluZGV4T2YoYykpLnNwbGl0KG8pLmZpbHRlcihmdW5jdGlvbihlLHQpe3JldHVybiBlPT09TSYmZlt0XSE9PWV9KS5sZW5ndGgsTD1EK3ErRisoXz8xOjApLFc9MCxKPTA7SjxrO0orKyl7dmFyIFU9U1tKXTtpZih3PUorMSxVPT09TSYmVysrLFc+PUwpYnJlYWt9fWlmKE8pe2Zvcih2YXIgSD13LFk9dztZPD1nO1krKylpZihwW1ldPT09YyYmKEg9WSkscFtZXT09PWN8fHkuaW5kZXhPZihZKSE9PS0xfHxZPT09ZylyZXR1cm4gSH1lbHNlIGlmKF8pe2Zvcih2YXIgej13LTE7ej49MDt6LS0paWYoc1t6XT09PU18fHkuaW5kZXhPZih6KSE9PS0xfHwwPT09eilyZXR1cm4gen1lbHNlIGZvcih2YXIgRz13O0c+PTA7Ry0tKWlmKHBbRy0xXT09PWN8fHkuaW5kZXhPZihHKSE9PS0xfHwwPT09RylyZXR1cm4gR31PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9cjt2YXIgbj1bXSxvPVwiXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBvKGUpe3ZhciB0PXtwcmV2aW91c0NvbmZvcm1lZFZhbHVlOnZvaWQgMCxwcmV2aW91c1BsYWNlaG9sZGVyOnZvaWQgMH07cmV0dXJue3N0YXRlOnQsdXBkYXRlOmZ1bmN0aW9uKHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTplLG89bi5pbnB1dEVsZW1lbnQscz1uLm1hc2ssYz1uLmd1aWRlLHk9bi5waXBlLGI9bi5wbGFjZWhvbGRlckNoYXIsZz12b2lkIDA9PT1iP2gucGxhY2Vob2xkZXJDaGFyOmIsaz1uLmtlZXBDaGFyUG9zaXRpb25zLEM9dm9pZCAwIT09ayYmayxPPW4uc2hvd01hc2ssVD12b2lkIDAhPT1PJiZPO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiByJiYocj1vLnZhbHVlKSxyIT09dC5wcmV2aW91c0NvbmZvcm1lZFZhbHVlKXsoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHM/XCJ1bmRlZmluZWRcIjpsKHMpKT09PW0mJnZvaWQgMCE9PXMucGlwZSYmdm9pZCAwIT09cy5tYXNrJiYoeT1zLnBpcGUscz1zLm1hc2spO3ZhciBQPXZvaWQgMCx4PXZvaWQgMDtpZihzIGluc3RhbmNlb2YgQXJyYXkmJihQPSgwLGQuY29udmVydE1hc2tUb1BsYWNlaG9sZGVyKShzLGcpKSxzIT09ITEpe3ZhciB3PWEociksXz1vLnNlbGVjdGlvbkVuZCxNPXQucHJldmlvdXNDb25mb3JtZWRWYWx1ZSxTPXQucHJldmlvdXNQbGFjZWhvbGRlcixqPXZvaWQgMDtpZigoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHM/XCJ1bmRlZmluZWRcIjpsKHMpKT09PWguc3RyRnVuY3Rpb24pe2lmKHg9cyh3LHtjdXJyZW50Q2FyZXRQb3NpdGlvbjpfLHByZXZpb3VzQ29uZm9ybWVkVmFsdWU6TSxwbGFjZWhvbGRlckNoYXI6Z30pLHg9PT0hMSlyZXR1cm47dmFyIEU9KDAsZC5wcm9jZXNzQ2FyZXRUcmFwcykoeCksUj1FLm1hc2tXaXRob3V0Q2FyZXRUcmFwcyxWPUUuaW5kZXhlczt4PVIsaj1WLFA9KDAsZC5jb252ZXJ0TWFza1RvUGxhY2Vob2xkZXIpKHgsZyl9ZWxzZSB4PXM7dmFyIEE9e3ByZXZpb3VzQ29uZm9ybWVkVmFsdWU6TSxndWlkZTpjLHBsYWNlaG9sZGVyQ2hhcjpnLHBpcGU6eSxwbGFjZWhvbGRlcjpQLGN1cnJlbnRDYXJldFBvc2l0aW9uOl8sa2VlcENoYXJQb3NpdGlvbnM6Q30sTj0oMCxwLmRlZmF1bHQpKHcseCxBKSxCPU4uY29uZm9ybWVkVmFsdWUsST0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHk/XCJ1bmRlZmluZWRcIjpsKHkpKT09PWguc3RyRnVuY3Rpb24sRj17fTtJJiYoRj15KEIsdSh7cmF3VmFsdWU6d30sQSkpLEY9PT0hMT9GPXt2YWx1ZTpNLHJlamVjdGVkOiEwfTooMCxkLmlzU3RyaW5nKShGKSYmKEY9e3ZhbHVlOkZ9KSk7dmFyIHE9ST9GLnZhbHVlOkIsRD0oMCxmLmRlZmF1bHQpKHtwcmV2aW91c0NvbmZvcm1lZFZhbHVlOk0scHJldmlvdXNQbGFjZWhvbGRlcjpTLGNvbmZvcm1lZFZhbHVlOnEscGxhY2Vob2xkZXI6UCxyYXdWYWx1ZTp3LGN1cnJlbnRDYXJldFBvc2l0aW9uOl8scGxhY2Vob2xkZXJDaGFyOmcsaW5kZXhlc09mUGlwZWRDaGFyczpGLmluZGV4ZXNPZlBpcGVkQ2hhcnMsY2FyZXRUcmFwSW5kZXhlczpqfSksTD1xPT09UCYmMD09PUQsVz1UP1A6dixKPUw/VzpxO3QucHJldmlvdXNDb25mb3JtZWRWYWx1ZT1KLHQucHJldmlvdXNQbGFjZWhvbGRlcj1QLG8udmFsdWUhPT1KJiYoby52YWx1ZT1KLGkobyxEKSl9fX19fWZ1bmN0aW9uIGkoZSx0KXtkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZSYmKGI/ZyhmdW5jdGlvbigpe3JldHVybiBlLnNldFNlbGVjdGlvblJhbmdlKHQsdCx5KX0sMCk6ZS5zZXRTZWxlY3Rpb25SYW5nZSh0LHQseSkpfWZ1bmN0aW9uIGEoZSl7aWYoKDAsZC5pc1N0cmluZykoZSkpcmV0dXJuIGU7aWYoKDAsZC5pc051bWJlcikoZSkpcmV0dXJuIFN0cmluZyhlKTtpZih2b2lkIDA9PT1lfHxudWxsPT09ZSlyZXR1cm4gdjt0aHJvdyBuZXcgRXJyb3IoXCJUaGUgJ3ZhbHVlJyBwcm92aWRlZCB0byBUZXh0IE1hc2sgbmVlZHMgdG8gYmUgYSBzdHJpbmcgb3IgYSBudW1iZXIuIFRoZSB2YWx1ZSByZWNlaXZlZCB3YXM6XFxuXFxuIFwiK0pTT04uc3RyaW5naWZ5KGUpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1vO3ZhciBzPXIoNCksZj1uKHMpLGM9cigyKSxwPW4oYyksZD1yKDMpLGg9cigxKSx2PVwiXCIseT1cIm5vbmVcIixtPVwib2JqZWN0XCIsYj1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvQW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZz1cInVuZGVmaW5lZFwiIT10eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lP3JlcXVlc3RBbmltYXRpb25GcmFtZTpzZXRUaW1lb3V0fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fXZhciBuPWZ1bmN0aW9uKCl7fTtuLnRoYXRSZXR1cm5zPXIsbi50aGF0UmV0dXJuc0ZhbHNlPXIoITEpLG4udGhhdFJldHVybnNUcnVlPXIoITApLG4udGhhdFJldHVybnNOdWxsPXIobnVsbCksbi50aGF0UmV0dXJuc1RoaXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbi50aGF0UmV0dXJuc0FyZ3VtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlfSxlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LHIsbixpLGEsdSxsKXtpZihvKHQpLCFlKXt2YXIgcztpZih2b2lkIDA9PT10KXM9bmV3IEVycm9yKFwiTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7ZWxzZXt2YXIgZj1bcixuLGksYSx1LGxdLGM9MDtzPW5ldyBFcnJvcih0LnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gZltjKytdfSkpLHMubmFtZT1cIkludmFyaWFudCBWaW9sYXRpb25cIn10aHJvdyBzLmZyYW1lc1RvUG9wPTEsc319dmFyIG89ZnVuY3Rpb24oZSl7fTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoNiksbz1yKDcpLGk9cigxMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixuLGEsdSl7dSE9PWkmJm8oITEsXCJDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiBVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiBSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzXCIpfWZ1bmN0aW9uIHQoKXtyZXR1cm4gZX1lLmlzUmVxdWlyZWQ9ZTt2YXIgcj17YXJyYXk6ZSxib29sOmUsZnVuYzplLG51bWJlcjplLG9iamVjdDplLHN0cmluZzplLHN5bWJvbDplLGFueTplLGFycmF5T2Y6dCxlbGVtZW50OmUsaW5zdGFuY2VPZjp0LG5vZGU6ZSxvYmplY3RPZjp0LG9uZU9mOnQsb25lT2ZUeXBlOnQsc2hhcGU6dCxleGFjdDp0fTtyZXR1cm4gci5jaGVja1Byb3BUeXBlcz1uLHIuUHJvcFR5cGVzPXIscn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxlLmV4cG9ydHM9cig4KSgpfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciByPVwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIjtlLmV4cG9ydHM9cn0sZnVuY3Rpb24odCxyKXt0LmV4cG9ydHM9ZX1dKX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRleHQtbWFzay9kaXN0L3JlYWN0VGV4dE1hc2suanNcbi8vIG1vZHVsZSBpZCA9IDYwOTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vQ1NTVHJhbnNpdGlvblwiKSk7XG5cbnZhciBfUmVwbGFjZVRyYW5zaXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1JlcGxhY2VUcmFuc2l0aW9uXCIpKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1RyYW5zaXRpb25Hcm91cFwiKSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvblwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUcmFuc2l0aW9uOiBfVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBUcmFuc2l0aW9uR3JvdXA6IF9UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdCxcbiAgUmVwbGFjZVRyYW5zaXRpb246IF9SZXBsYWNlVHJhbnNpdGlvbi5kZWZhdWx0LFxuICBDU1NUcmFuc2l0aW9uOiBfQ1NTVHJhbnNpdGlvbi5kZWZhdWx0XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDYwOTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBQcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfYWRkQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9jbGFzcy9hZGRDbGFzc1wiKSk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfVHJhbnNpdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvblwiKSk7XG5cbnZhciBfUHJvcFR5cGVzID0gcmVxdWlyZShcIi4vdXRpbHMvUHJvcFR5cGVzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG52YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbiBhZGRDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9hZGRDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc2VzKSB7XG4gIHJldHVybiBub2RlICYmIGNsYXNzZXMgJiYgY2xhc3Nlcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gKDAsIF9yZW1vdmVDbGFzcy5kZWZhdWx0KShub2RlLCBjKTtcbiAgfSk7XG59O1xuXG52YXIgcHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gX2V4dGVuZHMoe30sIF9UcmFuc2l0aW9uLmRlZmF1bHQucHJvcFR5cGVzLCB7XG4gIC8qKlxuICAgKiBUaGUgYW5pbWF0aW9uIGNsYXNzTmFtZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50IGFzIGl0IGVudGVycywgZXhpdHMgb3IgaGFzIGZpbmlzaGVkIHRoZSB0cmFuc2l0aW9uLlxuICAgKiBBIHNpbmdsZSBuYW1lIGNhbiBiZSBwcm92aWRlZCBhbmQgaXQgd2lsbCBiZSBzdWZmaXhlZCBmb3IgZWFjaCBzdGFnZTogZS5nLlxuICAgKlxuICAgKiBgY2xhc3NOYW1lcz1cImZhZGVcImAgYXBwbGllcyBgZmFkZS1lbnRlcmAsIGBmYWRlLWVudGVyLWFjdGl2ZWAsIGBmYWRlLWVudGVyLWRvbmVgLFxuICAgKiBgZmFkZS1leGl0YCwgYGZhZGUtZXhpdC1hY3RpdmVgLCBgZmFkZS1leGl0LWRvbmVgLCBgZmFkZS1hcHBlYXJgLCBhbmQgYGZhZGUtYXBwZWFyLWFjdGl2ZWAuXG4gICAqIEVhY2ggaW5kaXZpZHVhbCBjbGFzc05hbWVzIGNhbiBhbHNvIGJlIHNwZWNpZmllZCBpbmRlcGVuZGVudGx5IGxpa2U6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3tcbiAgICogIGFwcGVhcjogJ215LWFwcGVhcicsXG4gICAqICBhcHBlYXJBY3RpdmU6ICdteS1hY3RpdmUtYXBwZWFyJyxcbiAgICogIGVudGVyOiAnbXktZW50ZXInLFxuICAgKiAgZW50ZXJBY3RpdmU6ICdteS1hY3RpdmUtZW50ZXInLFxuICAgKiAgZW50ZXJEb25lOiAnbXktZG9uZS1lbnRlcicsXG4gICAqICBleGl0OiAnbXktZXhpdCcsXG4gICAqICBleGl0QWN0aXZlOiAnbXktYWN0aXZlLWV4aXQnLFxuICAgKiAgZXhpdERvbmU6ICdteS1kb25lLWV4aXQnLFxuICAgKiB9fVxuICAgKiBgYGBcbiAgICpcbiAgICogSWYgeW91IHdhbnQgdG8gc2V0IHRoZXNlIGNsYXNzZXMgdXNpbmcgQ1NTIE1vZHVsZXM6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuY3NzJztcbiAgICogYGBgXG4gICAqXG4gICAqIHlvdSBtaWdodCB3YW50IHRvIHVzZSBjYW1lbENhc2UgaW4geW91ciBDU1MgZmlsZSwgdGhhdCB3YXkgY291bGQgc2ltcGx5IHNwcmVhZFxuICAgKiB0aGVtIGluc3RlYWQgb2YgbGlzdGluZyB0aGVtIG9uZSBieSBvbmU6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNsYXNzTmFtZXM9e3sgLi4uc3R5bGVzIH19XG4gICAqIGBgYFxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nIHwge1xuICAgKiAgYXBwZWFyPzogc3RyaW5nLFxuICAgKiAgYXBwZWFyQWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZW50ZXI/OiBzdHJpbmcsXG4gICAqICBlbnRlckFjdGl2ZT86IHN0cmluZyxcbiAgICogIGVudGVyRG9uZT86IHN0cmluZyxcbiAgICogIGV4aXQ/OiBzdHJpbmcsXG4gICAqICBleGl0QWN0aXZlPzogc3RyaW5nLFxuICAgKiAgZXhpdERvbmU/OiBzdHJpbmcsXG4gICAqIH19XG4gICAqL1xuICBjbGFzc05hbWVzOiBfUHJvcFR5cGVzLmNsYXNzTmFtZXNTaGFwZSxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyJyBvciAnYXBwZWFyJyBjbGFzcyBpc1xuICAgKiBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2VudGVyLWFjdGl2ZScgb3JcbiAgICogJ2FwcGVhci1hY3RpdmUnIGNsYXNzIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbClcbiAgICovXG4gIG9uRW50ZXJpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBBIGA8VHJhbnNpdGlvbj5gIGNhbGxiYWNrIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSAnZW50ZXInIG9yXG4gICAqICdhcHBlYXInIGNsYXNzZXMgYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGRvbmVgIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBET00gbm9kZS5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzIGlzXG4gICAqIGFwcGxpZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KVxuICAgKi9cbiAgb25FeGl0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQtYWN0aXZlJyBpcyBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudFxuICAgKi9cbiAgb25FeGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQSBgPFRyYW5zaXRpb24+YCBjYWxsYmFjayBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgJ2V4aXQnIGNsYXNzZXNcbiAgICogYXJlICoqcmVtb3ZlZCoqIGFuZCB0aGUgYGV4aXQtZG9uZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIERPTSBub2RlLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudClcbiAgICovXG4gIG9uRXhpdGVkOiBQcm9wVHlwZXMuZnVuY1xufSkgOiB7fTs7XG4vKipcbiAqIEEgYFRyYW5zaXRpb25gIGNvbXBvbmVudCB1c2luZyBDU1MgdHJhbnNpdGlvbnMgYW5kIGFuaW1hdGlvbnMuXG4gKiBJdCdzIGluc3BpcmVkIGJ5IHRoZSBleGNlbGxlbnQgW25nLWFuaW1hdGVdKGh0dHA6Ly93d3cubmdhbmltYXRlLm9yZy8pIGxpYnJhcnkuXG4gKlxuICogYENTU1RyYW5zaXRpb25gIGFwcGxpZXMgYSBwYWlyIG9mIGNsYXNzIG5hbWVzIGR1cmluZyB0aGUgYGFwcGVhcmAsIGBlbnRlcmAsXG4gKiBhbmQgYGV4aXRgIHN0YWdlcyBvZiB0aGUgdHJhbnNpdGlvbi4gVGhlIGZpcnN0IGNsYXNzIGlzIGFwcGxpZWQgYW5kIHRoZW4gYVxuICogc2Vjb25kIFwiYWN0aXZlXCIgY2xhc3MgaW4gb3JkZXIgdG8gYWN0aXZhdGUgdGhlIGNzcyBhbmltYXRpb24uIEFmdGVyIHRoZSBhbmltYXRpb24sXG4gKiBtYXRjaGluZyBgZG9uZWAgY2xhc3MgbmFtZXMgYXJlIGFwcGxpZWQgdG8gcGVyc2lzdCB0aGUgYW5pbWF0aW9uIHN0YXRlLlxuICpcbiAqIFdoZW4gdGhlIGBpbmAgcHJvcCBpcyB0b2dnbGVkIHRvIGB0cnVlYCB0aGUgQ29tcG9uZW50IHdpbGwgZ2V0XG4gKiB0aGUgYGV4YW1wbGUtZW50ZXJgIENTUyBjbGFzcyBhbmQgdGhlIGBleGFtcGxlLWVudGVyLWFjdGl2ZWAgQ1NTIGNsYXNzXG4gKiBhZGRlZCBpbiB0aGUgbmV4dCB0aWNrLiBUaGlzIGlzIGEgY29udmVudGlvbiBiYXNlZCBvbiB0aGUgYGNsYXNzTmFtZXNgIHByb3AuXG4gKi9cblxudmFyIENTU1RyYW5zaXRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ1NTVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLm9uRW50ZXIgPSBmdW5jdGlvbiAobm9kZSwgYXBwZWFyaW5nKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lcyA9IF90aGlzLmdldENsYXNzTmFtZXMoYXBwZWFyaW5nID8gJ2FwcGVhcicgOiAnZW50ZXInKSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzLmNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZXhpdCcpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FbnRlcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyKG5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkVudGVyaW5nID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMyID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcyhhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpLFxuICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXMyLmFjdGl2ZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJpbmcpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FbnRlcmluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FbnRlcmVkID0gZnVuY3Rpb24gKG5vZGUsIGFwcGVhcmluZykge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXMzID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZW50ZXInKSxcbiAgICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczMuZG9uZUNsYXNzTmFtZTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCBhcHBlYXJpbmcgPyAnYXBwZWFyJyA6ICdlbnRlcicpO1xuXG4gICAgICBhZGRDbGFzcyhub2RlLCBkb25lQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRW50ZXJlZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkVudGVyZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczQgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczQuY2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdhcHBlYXInKTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhub2RlLCAnZW50ZXInKTtcblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRXhpdCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkV4aXQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uRXhpdGluZyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczUgPSBfdGhpcy5nZXRDbGFzc05hbWVzKCdleGl0JyksXG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczUuYWN0aXZlQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZWZsb3dBbmRBZGRDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0aW5nKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uRXhpdGluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25FeGl0ZWQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIF90aGlzJGdldENsYXNzTmFtZXM2ID0gX3RoaXMuZ2V0Q2xhc3NOYW1lcygnZXhpdCcpLFxuICAgICAgICAgIGRvbmVDbGFzc05hbWUgPSBfdGhpcyRnZXRDbGFzc05hbWVzNi5kb25lQ2xhc3NOYW1lO1xuXG4gICAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKG5vZGUsICdleGl0Jyk7XG5cbiAgICAgIGFkZENsYXNzKG5vZGUsIGRvbmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeGl0ZWQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FeGl0ZWQobm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmdldENsYXNzTmFtZXMgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgdmFyIGNsYXNzTmFtZXMgPSBfdGhpcy5wcm9wcy5jbGFzc05hbWVzO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZV0gOiBjbGFzc05hbWVzICsgJy0nICsgdHlwZTtcbiAgICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSB0eXBlb2YgY2xhc3NOYW1lcyAhPT0gJ3N0cmluZycgPyBjbGFzc05hbWVzW3R5cGUgKyAnQWN0aXZlJ10gOiBjbGFzc05hbWUgKyAnLWFjdGl2ZSc7XG4gICAgICB2YXIgZG9uZUNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVzICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZXNbdHlwZSArICdEb25lJ10gOiBjbGFzc05hbWUgKyAnLWRvbmUnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIGFjdGl2ZUNsYXNzTmFtZTogYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lOiBkb25lQ2xhc3NOYW1lXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ1NTVHJhbnNpdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbW92ZUNsYXNzZXMgPSBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKG5vZGUsIHR5cGUpIHtcbiAgICB2YXIgX3RoaXMkZ2V0Q2xhc3NOYW1lczcgPSB0aGlzLmdldENsYXNzTmFtZXModHlwZSksXG4gICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJGdldENsYXNzTmFtZXM3LmNsYXNzTmFtZSxcbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBkb25lQ2xhc3NOYW1lID0gX3RoaXMkZ2V0Q2xhc3NOYW1lczcuZG9uZUNsYXNzTmFtZTtcblxuICAgIGNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuICAgIGFjdGl2ZUNsYXNzTmFtZSAmJiByZW1vdmVDbGFzcyhub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuICAgIGRvbmVDbGFzc05hbWUgJiYgcmVtb3ZlQ2xhc3Mobm9kZSwgZG9uZUNsYXNzTmFtZSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlZmxvd0FuZEFkZENsYXNzID0gZnVuY3Rpb24gcmVmbG93QW5kQWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBmb3IgdG8gZm9yY2UgYSByZXBhaW50LFxuICAgIC8vIHdoaWNoIGlzIG5lY2Vzc2FyeSBpbiBvcmRlciB0byB0cmFuc2l0aW9uIHN0eWxlcyB3aGVuIGFkZGluZyBhIGNsYXNzIG5hbWUuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICBub2RlICYmIG5vZGUuc2Nyb2xsVG9wO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cblxuICAgICAgYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG5cbiAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lcztcbiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIG9uRW50ZXI6IHRoaXMub25FbnRlcixcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5vbkVudGVyZWQsXG4gICAgICBvbkVudGVyaW5nOiB0aGlzLm9uRW50ZXJpbmcsXG4gICAgICBvbkV4aXQ6IHRoaXMub25FeGl0LFxuICAgICAgb25FeGl0aW5nOiB0aGlzLm9uRXhpdGluZyxcbiAgICAgIG9uRXhpdGVkOiB0aGlzLm9uRXhpdGVkXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBDU1NUcmFuc2l0aW9uO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5DU1NUcmFuc2l0aW9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xudmFyIF9kZWZhdWx0ID0gQ1NTVHJhbnNpdGlvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDYwOTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYWRkQ2xhc3M7XG5cbnZhciBfaGFzQ2xhc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2hhc0NsYXNzXCIpKTtcblxuZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7ZWxzZSBpZiAoISgwLCBfaGFzQ2xhc3MuZGVmYXVsdCkoZWxlbWVudCwgY2xhc3NOYW1lKSkgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUgKyAnICcgKyBjbGFzc05hbWU7ZWxzZSBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoZWxlbWVudC5jbGFzc05hbWUgJiYgZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbCB8fCAnJykgKyAnICcgKyBjbGFzc05hbWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzLmpzXG4vLyBtb2R1bGUgaWQgPSA2MDkzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gaGFzQ2xhc3M7XG5cbmZ1bmN0aW9uIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHJldHVybiAhIWNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO2Vsc2UgcmV0dXJuIChcIiBcIiArIChlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8IGVsZW1lbnQuY2xhc3NOYW1lKSArIFwiIFwiKS5pbmRleE9mKFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIpICE9PSAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9oYXNDbGFzcy5qc1xuLy8gbW9kdWxlIGlkID0gNjA5NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHJlcGxhY2VDbGFzc05hbWUob3JpZ0NsYXNzLCBjbGFzc1RvUmVtb3ZlKSB7XG4gIHJldHVybiBvcmlnQ2xhc3MucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgY2xhc3NUb1JlbW92ZSArICcoPzpcXFxcc3wkKScsICdnJyksICckMScpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7ZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSByZXBsYWNlQ2xhc3NOYW1lKGVsZW1lbnQuY2xhc3NOYW1lLCBjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgcmVwbGFjZUNsYXNzTmFtZShlbGVtZW50LmNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsIHx8ICcnLCBjbGFzc05hbWUpKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MuanNcbi8vIG1vZHVsZSBpZCA9IDYwOTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKFwicmVhY3QtZG9tXCIpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vVHJhbnNpdGlvbkdyb3VwXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgaW46IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihwcm9wcywgcHJvcE5hbWUpIHtcbiAgICBpZiAoX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4uY291bnQocHJvcHNbcHJvcE5hbWVdKSAhPT0gMikgcmV0dXJuIG5ldyBFcnJvcihcIlxcXCJcIiArIHByb3BOYW1lICsgXCJcXFwiIG11c3QgYmUgZXhhY3RseSB0d28gdHJhbnNpdGlvbiBjb21wb25lbnRzLlwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSA6IHt9Oztcbi8qKlxuICogVGhlIGA8UmVwbGFjZVRyYW5zaXRpb24+YCBjb21wb25lbnQgaXMgYSBzcGVjaWFsaXplZCBgVHJhbnNpdGlvbmAgY29tcG9uZW50XG4gKiB0aGF0IGFuaW1hdGVzIGJldHdlZW4gdHdvIGNoaWxkcmVuLlxuICpcbiAqIGBgYGpzeFxuICogPFJlcGxhY2VUcmFuc2l0aW9uIGluPlxuICogICA8RmFkZT48ZGl2PkkgYXBwZWFyIGZpcnN0PC9kaXY+PC9GYWRlPlxuICogICA8RmFkZT48ZGl2PkkgcmVwbGFjZSB0aGUgYWJvdmU8L2Rpdj48L0ZhZGU+XG4gKiA8L1JlcGxhY2VUcmFuc2l0aW9uPlxuICogYGBgXG4gKi9cblxudmFyIFJlcGxhY2VUcmFuc2l0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJlcGxhY2VUcmFuc2l0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSZXBsYWNlVHJhbnNpdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KF9hcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FbnRlcicsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFbnRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXJpbmcnLCAwLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVMaWZlY3ljbGUoJ29uRW50ZXJlZCcsIDAsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVFeGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTVdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0JywgMSwgYXJncyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUV4aXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjYpLCBfa2V5NiA9IDA7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHtcbiAgICAgICAgYXJnc1tfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTGlmZWN5Y2xlKCdvbkV4aXRpbmcnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRXhpdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW43KSwgX2tleTcgPSAwOyBfa2V5NyA8IF9sZW43OyBfa2V5NysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTddID0gYXJndW1lbnRzW19rZXk3XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxpZmVjeWNsZSgnb25FeGl0ZWQnLCAxLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJlcGxhY2VUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uaGFuZGxlTGlmZWN5Y2xlID0gZnVuY3Rpb24gaGFuZGxlTGlmZWN5Y2xlKGhhbmRsZXIsIGlkeCwgb3JpZ2luYWxBcmdzKSB7XG4gICAgdmFyIF9jaGlsZCRwcm9wcztcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICB2YXIgY2hpbGQgPSBfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKVtpZHhdO1xuXG4gICAgaWYgKGNoaWxkLnByb3BzW2hhbmRsZXJdKSAoX2NoaWxkJHByb3BzID0gY2hpbGQucHJvcHMpW2hhbmRsZXJdLmFwcGx5KF9jaGlsZCRwcm9wcywgb3JpZ2luYWxBcmdzKTtcbiAgICBpZiAodGhpcy5wcm9wc1toYW5kbGVyXSkgdGhpcy5wcm9wc1toYW5kbGVyXSgoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzKSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBpblByb3AgPSBfdGhpcyRwcm9wcy5pbixcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wiY2hpbGRyZW5cIiwgXCJpblwiXSk7XG5cbiAgICB2YXIgX1JlYWN0JENoaWxkcmVuJHRvQXJyID0gX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbiksXG4gICAgICAgIGZpcnN0ID0gX1JlYWN0JENoaWxkcmVuJHRvQXJyWzBdLFxuICAgICAgICBzZWNvbmQgPSBfUmVhY3QkQ2hpbGRyZW4kdG9BcnJbMV07XG5cbiAgICBkZWxldGUgcHJvcHMub25FbnRlcjtcbiAgICBkZWxldGUgcHJvcHMub25FbnRlcmluZztcbiAgICBkZWxldGUgcHJvcHMub25FbnRlcmVkO1xuICAgIGRlbGV0ZSBwcm9wcy5vbkV4aXQ7XG4gICAgZGVsZXRlIHByb3BzLm9uRXhpdGluZztcbiAgICBkZWxldGUgcHJvcHMub25FeGl0ZWQ7XG4gICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RyYW5zaXRpb25Hcm91cC5kZWZhdWx0LCBwcm9wcywgaW5Qcm9wID8gX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KGZpcnN0LCB7XG4gICAgICBrZXk6ICdmaXJzdCcsXG4gICAgICBvbkVudGVyOiB0aGlzLmhhbmRsZUVudGVyLFxuICAgICAgb25FbnRlcmluZzogdGhpcy5oYW5kbGVFbnRlcmluZyxcbiAgICAgIG9uRW50ZXJlZDogdGhpcy5oYW5kbGVFbnRlcmVkXG4gICAgfSkgOiBfcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoc2Vjb25kLCB7XG4gICAgICBrZXk6ICdzZWNvbmQnLFxuICAgICAgb25FbnRlcjogdGhpcy5oYW5kbGVFeGl0LFxuICAgICAgb25FbnRlcmluZzogdGhpcy5oYW5kbGVFeGl0aW5nLFxuICAgICAgb25FbnRlcmVkOiB0aGlzLmhhbmRsZUV4aXRlZFxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gUmVwbGFjZVRyYW5zaXRpb247XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cblJlcGxhY2VUcmFuc2l0aW9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xudmFyIF9kZWZhdWx0ID0gUmVwbGFjZVRyYW5zaXRpb247XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9SZXBsYWNlVHJhbnNpdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gNjA5NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMubm9vcCA9IG5vb3A7XG5leHBvcnRzLnJldHVyblRydWUgPSByZXR1cm5UcnVlO1xuZXhwb3J0cy5jaGFySXNOdW1iZXIgPSBjaGFySXNOdW1iZXI7XG5leHBvcnRzLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbmV4cG9ydHMuZ2V0VGhvdXNhbmRzR3JvdXBSZWdleCA9IGdldFRob3VzYW5kc0dyb3VwUmVnZXg7XG5leHBvcnRzLnNwbGl0RGVjaW1hbCA9IHNwbGl0RGVjaW1hbDtcbmV4cG9ydHMuZml4TGVhZGluZ1plcm8gPSBmaXhMZWFkaW5nWmVybztcbmV4cG9ydHMubGltaXRUb1NjYWxlID0gbGltaXRUb1NjYWxlO1xuZXhwb3J0cy5yb3VuZFRvUHJlY2lzaW9uID0gcm91bmRUb1ByZWNpc2lvbjtcbmV4cG9ydHMub21pdCA9IG9taXQ7XG5leHBvcnRzLnNldENhcmV0UG9zaXRpb24gPSBzZXRDYXJldFBvc2l0aW9uO1xuZXhwb3J0cy5maW5kQ2hhbmdlZEluZGV4ID0gZmluZENoYW5nZWRJbmRleDtcbmV4cG9ydHMuY2xhbXAgPSBjbGFtcDtcbmV4cG9ydHMuZ2V0Q3VycmVudENhcmV0UG9zaXRpb24gPSBnZXRDdXJyZW50Q2FyZXRQb3NpdGlvbjtcblxuLy8gYmFzaWMgbm9vcCBmdW5jdGlvblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjaGFySXNOdW1iZXIoY2hhcikge1xuICByZXR1cm4gISEoY2hhciB8fCAnJykubWF0Y2goL1xcZC8pO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvWy1bXFxdL3t9KCkqKz8uXFxcXF4kfF0vZywgXCJcXFxcJCZcIik7XG59XG5cbmZ1bmN0aW9uIGdldFRob3VzYW5kc0dyb3VwUmVnZXgodGhvdXNhbmRzR3JvdXBTdHlsZSkge1xuICBzd2l0Y2ggKHRob3VzYW5kc0dyb3VwU3R5bGUpIHtcbiAgICBjYXNlICdsYWtoJzpcbiAgICAgIHJldHVybiAvKFxcZCs/KSg/PShcXGRcXGQpKyhcXGQpKD8hXFxkKSkoXFwuXFxkKyk/L2c7XG5cbiAgICBjYXNlICd3YW4nOlxuICAgICAgcmV0dXJuIC8oXFxkKSg/PShcXGR7NH0pKyg/IVxcZCkpL2c7XG5cbiAgICBjYXNlICd0aG91c2FuZCc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAvKFxcZCkoPz0oXFxkezN9KSsoPyFcXGQpKS9nO1xuICB9XG59IC8vc3BpbHQgYSBmbG9hdCBudW1iZXIgaW50byBkaWZmZXJlbnQgcGFydHMgYmVmb3JlRGVjaW1hbCwgYWZ0ZXJEZWNpbWFsLCBhbmQgbmVnYXRpb25cblxuXG5mdW5jdGlvbiBzcGxpdERlY2ltYWwobnVtU3RyKSB7XG4gIHZhciBhbGxvd05lZ2F0aXZlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuICB2YXIgaGFzTmFnYXRpb24gPSBudW1TdHJbMF0gPT09ICctJztcbiAgdmFyIGFkZE5lZ2F0aW9uID0gaGFzTmFnYXRpb24gJiYgYWxsb3dOZWdhdGl2ZTtcbiAgbnVtU3RyID0gbnVtU3RyLnJlcGxhY2UoJy0nLCAnJyk7XG4gIHZhciBwYXJ0cyA9IG51bVN0ci5zcGxpdCgnLicpO1xuICB2YXIgYmVmb3JlRGVjaW1hbCA9IHBhcnRzWzBdO1xuICB2YXIgYWZ0ZXJEZWNpbWFsID0gcGFydHNbMV0gfHwgJyc7XG4gIHJldHVybiB7XG4gICAgYmVmb3JlRGVjaW1hbDogYmVmb3JlRGVjaW1hbCxcbiAgICBhZnRlckRlY2ltYWw6IGFmdGVyRGVjaW1hbCxcbiAgICBoYXNOYWdhdGlvbjogaGFzTmFnYXRpb24sXG4gICAgYWRkTmVnYXRpb246IGFkZE5lZ2F0aW9uXG4gIH07XG59XG5cbmZ1bmN0aW9uIGZpeExlYWRpbmdaZXJvKG51bVN0cikge1xuICBpZiAoIW51bVN0cikgcmV0dXJuIG51bVN0cjtcbiAgdmFyIGlzTmVnYXRpdmUgPSBudW1TdHJbMF0gPT09ICctJztcbiAgaWYgKGlzTmVnYXRpdmUpIG51bVN0ciA9IG51bVN0ci5zdWJzdHJpbmcoMSwgbnVtU3RyLmxlbmd0aCk7XG4gIHZhciBwYXJ0cyA9IG51bVN0ci5zcGxpdCgnLicpO1xuICB2YXIgYmVmb3JlRGVjaW1hbCA9IHBhcnRzWzBdLnJlcGxhY2UoL14wKy8sICcnKSB8fCAnMCc7XG4gIHZhciBhZnRlckRlY2ltYWwgPSBwYXJ0c1sxXSB8fCAnJztcbiAgcmV0dXJuIFwiXCIuY29uY2F0KGlzTmVnYXRpdmUgPyAnLScgOiAnJykuY29uY2F0KGJlZm9yZURlY2ltYWwpLmNvbmNhdChhZnRlckRlY2ltYWwgPyBcIi5cIi5jb25jYXQoYWZ0ZXJEZWNpbWFsKSA6ICcnKTtcbn1cbi8qKlxuICogbGltaXQgZGVjaW1hbCBudW1iZXJzIHRvIGdpdmVuIHNjYWxlXG4gKiBOb3QgdXNlZCAuZml4ZWRUbyBiZWNhdXNlIHRoYXQgd2lsbCBicmVhayB3aXRoIGJpZyBudW1iZXJzXG4gKi9cblxuXG5mdW5jdGlvbiBsaW1pdFRvU2NhbGUobnVtU3RyLCBzY2FsZSwgZml4ZWREZWNpbWFsU2NhbGUpIHtcbiAgdmFyIHN0ciA9ICcnO1xuICB2YXIgZmlsbGVyID0gZml4ZWREZWNpbWFsU2NhbGUgPyAnMCcgOiAnJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8PSBzY2FsZSAtIDE7IGkrKykge1xuICAgIHN0ciArPSBudW1TdHJbaV0gfHwgZmlsbGVyO1xuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn1cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgcmVxdWlyZWQgdG8gcm91bmQgcHJvcCB2YWx1ZSB0byBnaXZlbiBzY2FsZS5cbiAqIE5vdCB1c2VkIC5yb3VuZCBvciAuZml4ZWRUbyBiZWNhdXNlIHRoYXQgd2lsbCBicmVhayB3aXRoIGJpZyBudW1iZXJzXG4gKi9cblxuXG5mdW5jdGlvbiByb3VuZFRvUHJlY2lzaW9uKG51bVN0ciwgc2NhbGUsIGZpeGVkRGVjaW1hbFNjYWxlKSB7XG4gIC8vaWYgbnVtYmVyIGlzIGVtcHR5IGRvbid0IGRvIGFueXRoaW5nIHJldHVybiBlbXB0eSBzdHJpbmdcbiAgaWYgKFsnJywgJy0nXS5pbmRleE9mKG51bVN0cikgIT09IC0xKSByZXR1cm4gbnVtU3RyO1xuICB2YXIgc2hvdWRIYXZlRGVjaW1hbFNlcGFyYXRvciA9IG51bVN0ci5pbmRleE9mKCcuJykgIT09IC0xICYmIHNjYWxlO1xuXG4gIHZhciBfc3BsaXREZWNpbWFsID0gc3BsaXREZWNpbWFsKG51bVN0ciksXG4gICAgICBiZWZvcmVEZWNpbWFsID0gX3NwbGl0RGVjaW1hbC5iZWZvcmVEZWNpbWFsLFxuICAgICAgYWZ0ZXJEZWNpbWFsID0gX3NwbGl0RGVjaW1hbC5hZnRlckRlY2ltYWwsXG4gICAgICBoYXNOYWdhdGlvbiA9IF9zcGxpdERlY2ltYWwuaGFzTmFnYXRpb247XG5cbiAgdmFyIHJvdW5kZWREZWNpbWFsUGFydHMgPSBwYXJzZUZsb2F0KFwiMC5cIi5jb25jYXQoYWZ0ZXJEZWNpbWFsIHx8ICcwJykpLnRvRml4ZWQoc2NhbGUpLnNwbGl0KCcuJyk7XG4gIHZhciBpbnRQYXJ0ID0gYmVmb3JlRGVjaW1hbC5zcGxpdCgnJykucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAocm91bmRlZFN0ciwgY3VycmVudCwgaWR4KSB7XG4gICAgaWYgKHJvdW5kZWRTdHIubGVuZ3RoID4gaWR4KSB7XG4gICAgICByZXR1cm4gKE51bWJlcihyb3VuZGVkU3RyWzBdKSArIE51bWJlcihjdXJyZW50KSkudG9TdHJpbmcoKSArIHJvdW5kZWRTdHIuc3Vic3RyaW5nKDEsIHJvdW5kZWRTdHIubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudCArIHJvdW5kZWRTdHI7XG4gIH0sIHJvdW5kZWREZWNpbWFsUGFydHNbMF0pO1xuICB2YXIgZGVjaW1hbFBhcnQgPSBsaW1pdFRvU2NhbGUocm91bmRlZERlY2ltYWxQYXJ0c1sxXSB8fCAnJywgTWF0aC5taW4oc2NhbGUsIGFmdGVyRGVjaW1hbC5sZW5ndGgpLCBmaXhlZERlY2ltYWxTY2FsZSk7XG4gIHZhciBuZWdhdGlvbiA9IGhhc05hZ2F0aW9uID8gJy0nIDogJyc7XG4gIHZhciBkZWNpbWFsU2VwYXJhdG9yID0gc2hvdWRIYXZlRGVjaW1hbFNlcGFyYXRvciA/ICcuJyA6ICcnO1xuICByZXR1cm4gXCJcIi5jb25jYXQobmVnYXRpb24pLmNvbmNhdChpbnRQYXJ0KS5jb25jYXQoZGVjaW1hbFNlcGFyYXRvcikuY29uY2F0KGRlY2ltYWxQYXJ0KTtcbn1cblxuZnVuY3Rpb24gb21pdChvYmosIGtleU1hcHMpIHtcbiAgdmFyIGZpbHRlcmVkT2JqID0ge307XG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFrZXlNYXBzW2tleV0pIGZpbHRlcmVkT2JqW2tleV0gPSBvYmpba2V5XTtcbiAgfSk7XG4gIHJldHVybiBmaWx0ZXJlZE9iajtcbn1cbi8qKiBzZXQgdGhlIGNhcmV0IHBvc2l0b24gaW4gYW4gaW5wdXQgZmllbGQgKiovXG5cblxuZnVuY3Rpb24gc2V0Q2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3MpIHtcbiAgZWwudmFsdWUgPSBlbC52YWx1ZTsgLy8gXiB0aGlzIGlzIHVzZWQgdG8gbm90IG9ubHkgZ2V0IFwiZm9jdXNcIiwgYnV0XG4gIC8vIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIGl0IGV2ZXJ5dGhpbmcgLXNlbGVjdGVkLVxuICAvLyAoaXQgY2F1c2VzIGFuIGlzc3VlIGluIGNocm9tZSwgYW5kIGhhdmluZyBpdCBkb2Vzbid0IGh1cnQgYW55IG90aGVyIGJyb3dzZXIpXG5cbiAgaWYgKGVsICE9PSBudWxsKSB7XG4gICAgaWYgKGVsLmNyZWF0ZVRleHRSYW5nZSkge1xuICAgICAgdmFyIHJhbmdlID0gZWwuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICByYW5nZS5tb3ZlKCdjaGFyYWN0ZXInLCBjYXJldFBvcyk7XG4gICAgICByYW5nZS5zZWxlY3QoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gKGVsLnNlbGVjdGlvblN0YXJ0ID09PSAwIGFkZGVkIGZvciBGaXJlZm94IGJ1ZylcblxuXG4gICAgaWYgKGVsLnNlbGVjdGlvblN0YXJ0IHx8IGVsLnNlbGVjdGlvblN0YXJ0ID09PSAwKSB7XG4gICAgICBlbC5mb2N1cygpO1xuICAgICAgZWwuc2V0U2VsZWN0aW9uUmFuZ2UoY2FyZXRQb3MsIGNhcmV0UG9zKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gZmFpbCBjaXR5LCBmb3J0dW5hdGVseSB0aGlzIG5ldmVyIGhhcHBlbnMgKGFzIGZhciBhcyBJJ3ZlIHRlc3RlZCkgOilcblxuXG4gICAgZWwuZm9jdXMoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbi8qKlxuICBHaXZlbiBwcmV2aW91cyB2YWx1ZSBhbmQgbmV3VmFsdWUgaXQgcmV0dXJucyB0aGUgaW5kZXhcbiAgc3RhcnQgLSBlbmQgdG8gd2hpY2ggdmFsdWVzIGhhdmUgY2hhbmdlZC5cbiAgVGhpcyBmdW5jdGlvbiBtYWtlcyBhc3N1bXB0aW9uIGFib3V0IG9ubHkgY29uc2VjdXRpdmVcbiAgY2hhcmFjdGVycyBhcmUgY2hhbmdlZCB3aGljaCBpcyBjb3JyZWN0IGFzc3VtcHRpb24gZm9yIGNhcmV0IGlucHV0LlxuKi9cblxuXG5mdW5jdGlvbiBmaW5kQ2hhbmdlZEluZGV4KHByZXZWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgdmFyIGkgPSAwLFxuICAgICAgaiA9IDA7XG4gIHZhciBwcmV2TGVuZ3RoID0gcHJldlZhbHVlLmxlbmd0aDtcbiAgdmFyIG5ld0xlbmd0aCA9IG5ld1ZhbHVlLmxlbmd0aDtcblxuICB3aGlsZSAocHJldlZhbHVlW2ldID09PSBuZXdWYWx1ZVtpXSAmJiBpIDwgcHJldkxlbmd0aCkge1xuICAgIGkrKztcbiAgfSAvL2NoZWNrIHdoYXQgaGFzIGJlZW4gY2hhbmdlZCBmcm9tIGxhc3RcblxuXG4gIHdoaWxlIChwcmV2VmFsdWVbcHJldkxlbmd0aCAtIDEgLSBqXSA9PT0gbmV3VmFsdWVbbmV3TGVuZ3RoIC0gMSAtIGpdICYmIG5ld0xlbmd0aCAtIGogPiBpICYmIHByZXZMZW5ndGggLSBqID4gaSkge1xuICAgIGorKztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IGksXG4gICAgZW5kOiBwcmV2TGVuZ3RoIC0galxuICB9O1xufVxuLypcbiAgUmV0dXJucyBhIG51bWJlciB3aG9zZSB2YWx1ZSBpcyBsaW1pdGVkIHRvIHRoZSBnaXZlbiByYW5nZVxuKi9cblxuXG5mdW5jdGlvbiBjbGFtcChudW0sIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChudW0sIG1pbiksIG1heCk7XG59XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRDYXJldFBvc2l0aW9uKGVsKSB7XG4gIC8qTWF4IG9mIHNlbGVjdGlvblN0YXJ0IGFuZCBzZWxlY3Rpb25FbmQgaXMgdGFrZW4gZm9yIHRoZSBwYXRjaCBvZiBwaXhlbCBhbmQgb3RoZXIgbW9iaWxlIGRldmljZSBjYXJldCBidWcqL1xuICByZXR1cm4gTWF0aC5tYXgoZWwuc2VsZWN0aW9uU3RhcnQsIGVsLnNlbGVjdGlvbkVuZCk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtbnVtYmVyLWZvcm1hdC9saWIvdXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDYwOTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IHsgRG9uZSwgSGlnaGxpZ2h0T2ZmLCBDaGVja0NpcmNsZU91dGxpbmUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMnO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IERpYWxvZyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2cnO1xyXG5pbXBvcnQgRGlhbG9nQWN0aW9ucyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dBY3Rpb25zJztcclxuaW1wb3J0IERpYWxvZ1RpdGxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ1RpdGxlJztcclxuaW1wb3J0IEVycm9yIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FcnJvcic7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBTZWxlY3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU2VsZWN0JztcclxuaW1wb3J0IE1lbnVJdGVtIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL01lbnVJdGVtJztcclxuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGQnO1xyXG5pbXBvcnQgQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaXJjdWxhclByb2dyZXNzJztcclxuaW1wb3J0IEN1c3RvbURpYWxvZyBmcm9tICcuL0N1c3RvbURpYWxvZydcclxuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSBcImRhdGUtZm5zXCI7XHJcbmltcG9ydCB7IGVtcHR5RnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCBjb21iaW5lU3R5bGVzIGZyb20gJy4uL3V0aWxzL2NvbWJpbmVTdHlsZXMnO1xyXG5pbXBvcnQgYmFzZVN0eWxlIGZyb20gICcuLi91dGlscy9iYXNlU3R5bGUnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIHN1bW1hcnk6IHtcclxuICAgICAgICBzdW1tYXJ5OiBcIlwiLFxyXG4gICAgfSxcclxuICAgIHJlYXNvbkNvZGVMaXN0OiBcIlwiLFxyXG4gICAgY29ycmVjdEludm9pY2VzOiBcIlwiLFxyXG4gICAgaW5jb3JyZWN0RmxhZzogXCJcIixcclxuICAgIHRvZ2dsZUV4cGFuZDogXCJcIlxyXG4gIH07XHJcblxyXG4vL2NvbnN0YW50c1xyXG4vLyBjb25zdCBEaXNwdXRlUmVnZXggPSAvKERpc3B1dGUgZm9yIFxcZCopfChbMC05XXs0fVstXVswLTldezJ9Wy1dWzAtOV17Mn0pfChcXGQqIGludm9pY2UpL2c7XHJcbmNvbnN0IGRpc3B1dGVSZWdleCA9IC8oXFxkKiBpbnZvaWNlKXwoYmVjYXVzZSBvZiAuKikvZztcclxuY29uc3QgZGlzY2FyZE1lc3NhZ2UgPSBcIlRoaXMgd2lsbCBiZSByZW1vdmVkIHBlcm1hbmVudGx5IGZyb20gdGhlIHN1Z2dlc3RlZCBhY3Rpb25zLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLlwiO1xyXG5jb25zdCByZXNvbHZlTWVzc2FnZSA9IFwiIFVuYWJsZSB0byBjb21wbGV0ZSB0aGUgYWN0aW9uLiBQbGVhc2UgcmVzb2x2ZSB0aGUgZXJyb3JzIHRvIGFwcHJvdmUuXCI7XHJcbmNvbnN0IG5vUmVhc29uTWVzc2FnZSA9IFwiUGxlYXNlIHNlbGVjdCBhcHByb3ByaWF0ZSBkaXNwdXRlIHJlYXNvbi5cIjtcclxuY29uc3Qgbm9JbnZvaWNlTWVzc2FnZSA9IFwiTm8gaW52b2ljZSBzZWxlY3RlZC4gUGxlYXNlIGFkZCBhdCBsZWFzdCBhbiBpbnZvaWNlIHRvIHNhdmUgdGhlIGRpc3B1dGUuXCI7XHJcbmNvbnN0IERJU1BVVEVfVEVNUExBVEUgPSBcIkRpc3B1dGUgcmFpc2VkIGZvciA8SW52b2ljZXM+IGJlY2F1c2Ugb2YgOiA8RElTUFVURS1SRUFTT04+XCI7XHJcbmNvbnN0IERJU1BVVEVfT1JJR19URU1QTEFURSA9IFwiQ3JlYXRlIERpc3B1dGUgZm9yIDxJbnZvaWNlcz4gYmVjYXVzZSBvZiA8UmVhc29uQ29kZT5cIjtcclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuXHJcbiAgICBzZWxlY3RNZW51Q2xhc3M6IHtcclxuICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgICAgb3BhY2l0eSA6IDAuNjUsXHJcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIG1lbnVJdGVtUm9vdDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArIFwiICFpbXBvcnRhbnRcIlxyXG4gICAgfSxcclxuICAgIG1lbnVQYXBlcjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBoZWlnaHQ6IFwiMjByZW0gIWltcG9ydGFudFwiLFxyXG4gICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCB3aGl0ZVwiXHJcbiAgICAgfSxcclxuICAgIHRlc3Q6IHtcclxuICAgICAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgICAgIHBhZGRpbmc6ICcwcHgnLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHk6IDAuNlxyXG4gICAgfSxcclxuICAgIGFjdGlvblByb2dyZXNzQmFyOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiMS41cmVtICFpbXBvcnRhbnRcIixcclxuICAgICAgICBwYWRkaW5nTGVmdCA6IFwiMC41cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0IDogXCIwLjVyZW1cIixcclxuICAgICAgICBoZWlnaHQ6IFwiMS41cmVtICFpbXBvcnRhbnRcIixcclxuICAgICAgXHJcbiAgICB9LFxyXG5cclxuICAgIHRleHRGaWVsZDoge1xyXG4gICAgICAgIG1hcmdpbjogXCIwcHhcIixcclxuICAgICAgICAvLyB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgICAgICAvLyBwYWRkaW5nOiBcIjBweFwiLFxyXG4gICAgICAgIC8vIG1heFdpZHRoOiBcIjEyMHB4XCIsXHJcbiAgICAgICAgLy8gd2hpdGVTcGFjZTogJ25vd3JhcCcsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgICB9LFxyXG4gICAgICAgdGVzdEluaXRpYWw6IHtcclxuICAgICAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgICAgIHBhZGRpbmc6ICcwcHgnLFxyXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiAwLjYsXHJcblxyXG4gICAgICAgIFwiJjpiZWZvcmVcIjoge1xyXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNmZjQ1NDNcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiJjphZnRlclwiOiB7XHJcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBcclxuICAgIGNhcmRDb250ZW50IDoge1xyXG4gICAgICAgIGNvbG9yIDogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgb3BhY2l0eSA6IDAuNjVcclxuICAgIH0sXHJcbiAgICBhY3Rpb25JY29uOiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBlcnJvckZsYWc6IHtcclxuICAgICAgICBjb2xvcjogXCIjRkY0NDQ0XCIsXHJcbiAgICAgICAgbWFyZ2luTGVmdDogXCIuNXJlbVwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0SWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgfSxcclxuICAgIGRpc2FibGVEb25lQnRuOiB7XHJcbiAgICAgICAgb3BhY2l0eTogMC40LFxyXG4gICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIHRlc3Q6IHtcclxuICAgIC8vICAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgLy8gICAgIHBhZGRpbmc6ICcwcHgnLFxyXG4gICAgLy8gICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgIC8vICAgICBmb250U2l6ZTogXCIwLjg3NXJlbVwiLFxyXG4gICAgLy8gICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIC8vICAgICBvcGFjaXR5OiAwLjYsXHJcblxyXG4gICAgLy8gICAgIFwiJjpiZWZvcmVcIjoge1xyXG4gICAgLy8gICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICM1REFBRTBcIixcclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIFwiJjphZnRlclwiOiB7XHJcbiAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgIzVEQUFFMFwiLFxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcbiAgICAvLyB0ZXN0SW5pdGlhbDoge1xyXG4gICAgLy8gICAgIHdpZHRoOiAnYXV0bycsXHJcbiAgICAvLyAgICAgcGFkZGluZzogJzBweCcsXHJcbiAgICAvLyAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgLy8gICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICAvLyAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgLy8gICAgIG9wYWNpdHk6IDAuNixcclxuXHJcbiAgICAvLyAgICAgXCImOmJlZm9yZVwiOiB7XHJcbiAgICAvLyAgICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgI2ZmNDU0M1wiLFxyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgICAgXCImOmFmdGVyXCI6IHtcclxuICAgIC8vICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCIsXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuXHJcbn0pO1xyXG5cclxuY2xhc3MgRGlzcHV0ZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICBsZXQgZXh0cmFjdGVkRGF0YSA9ICh0aGlzLnByb3BzLnN1bW1hcnkgJiYgdGhpcy5wcm9wcy5zdW1tYXJ5LnN1bW1hcnkpP3RoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKGRpc3B1dGVSZWdleCk6XCJcIjtcclxuICAgICAgICAvLyBsZXQgZXh0cmFjdGVkQW1vdW50ID0gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9Lyk7XHJcbiAgICAgICAgLy8gaWYgKCFleHRyYWN0ZWRBbW91bnQpIGV4dHJhY3RlZEFtb3VudCA9IDA7ICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gbGV0IG5vT2ZJbnZvaWNlcyA9IGV4dHJhY3RlZERhdGFbMF0gPyBleHRyYWN0ZWREYXRhWzBdLm1hdGNoKC9bMC05XXsxLH0vKSA6IDA7XHJcblxyXG4gICAgICAgIC8vIGlmICghbm9PZkludm9pY2VzKSB7XHJcbiAgICAgICAgLy8gICAgIG5vT2ZJbnZvaWNlcyA9IDA7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBsZXQgcmVhc29uQ29kZSA9IGV4dHJhY3RlZERhdGFbMV0gPyBleHRyYWN0ZWREYXRhWzFdLnN1YnN0cmluZygxMSkgOiBcIlwiO1xyXG4gICAgICAgIGxldCByZWFzb25Db2RlcyA9IHRoaXMucHJvcHMucmVhc29uQ29kZUxpc3Q7XHJcblxyXG5cclxuICAgICAgICBpZiAocmVhc29uQ29kZXMuaW5kZXhPZihyZWFzb25Db2RlKSA8IDApIHtcclxuICAgICAgICAgICAgcmVhc29uQ29kZSA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHJlYXNvbkNvZGU6IHJlYXNvbkNvZGUsXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogdGhpcy5wcm9wcy5pbnZvaWNlQ291bnQsXHJcbiAgICAgICAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlLFxyXG4gICAgICAgICAgICBvcGVuTm9SZWFzb25EaWFsb2c6IGZhbHNlLFxyXG4gICAgICAgICAgICBvcGVuTm9JbnZvaWNlRGlhbG9nOiBmYWxzZSxcclxuICAgICAgICAgICAgb3BlblByb2dyZXNzQmFyOiB0cnVlLFxyXG4gICAgICAgICAgICBhY3Rpb25JZDogdGhpcy5wcm9wcy5zdW1tYXJ5LmlkLFxyXG4gICAgICAgICAgICBpc0RvbmU6IHRoaXMucHJvcHMuc3VtbWFyeS5zYXZlLFxyXG4gICAgICAgICAgICAvLyBpc0RvbmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBmaW5hbFNlbGVjdGVkRGF0ZTogXCJcIixcclxuICAgICAgICAgICAgLy8gcmVhc29uQ29kZVRleHRGaWVsZFdpZHRoOiByZWFzb25Db2RlID8gKFwiXCIgKyByZWFzb25Db2RlKS5sZW5ndGggKiAxMiA6IDUwLFxyXG4gICAgICAgICAgICBjaGFuZ2U6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpbmNvcnJlY3RGbGFnOiBuZXh0UHJvcHMuaW5jb3JyZWN0RmxhZyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKG5leHRQcm9wcy5pbnZvaWNlQ291bnQgPj0gMCAmJiBuZXh0UHJvcHMuaW52b2ljZUNvdW50ICE9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlQ291bnQ6IG5leHRQcm9wcy5pbnZvaWNlQ291bnQgfVxyXG4gICAgICAgICAgICAgICAgLCAoKSA9PiB7IHRoaXMudXBkYXRlU3VtbWFyeSgpIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8qY2hhbmdlKiBib3R0b24gMyBmdW5jdGlvbnNcclxuICAgIHNhdmVEaXNwdXRlID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBpbnZvaWNlcyA9IHRoaXMucHJvcHMuY29ycmVjdEludm9pY2VzLm1hcChpbnZvaWNlID0+IHtcclxuICAgICAgICAgICAgbGV0IGludm9pY2VPYmogPSB7fVxyXG4gICAgICAgICAgICBpbnZvaWNlT2JqLmNtc0RvY0hlYWRlcklkID0gaW52b2ljZS5pZFxyXG4gICAgICAgICAgICByZXR1cm4gaW52b2ljZU9iajtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5jb3JyZWN0RmxhZykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5yZWFzb25Db2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9SZWFzb25EaWFsb2c6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmludm9pY2VDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuTm9JbnZvaWNlRGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBsZXQgcmVxT2JqID0ge1xyXG4gICAgICAgICAgICAvLyBhY3R1YWxEaXNwdXRlQW1vdW50OiB0aGlzLnN0YXRlLmFtb3VudCxcclxuICAgICAgICAgICAgcmVhc29uQ29kZTogdGhpcy5zdGF0ZS5yZWFzb25Db2RlLFxyXG4gICAgICAgICAgICBjdXN0b21lcklkOiB0aGlzLnByb3BzLmN1c3RvbWVyLmlkLFxyXG4gICAgICAgICAgICBkaXNwdXRlSXRlbXM6IGludm9pY2VzLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF4aW9zLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vY3VzdG9tZXIvJHt0aGlzLnByb3BzLmN1c3RvbWVyLmlkfS9kaXNwdXRlYCwgcmVxT2JqKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TbmFja0JhcldpdGhNZXNzYWdlKFwiU1VDQ0VTU1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNEb25lOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vdXBkYXRlIGZsYWcgaW4gYWN0aW9ucyB8IHBvc3QgY2FsbCBcclxuICAgICAgICAgICAgICAgIGxldCBzdW1tYXJ5VG9TYXZlID0gdGhpcy5nZW5lcmF0ZUFjdGlvblN1bW1hcnkoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25Db21wbGV0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uQWN0aW9uSXRlbUNvbmZpcm0oc3VtbWFyeVRvU2F2ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3Rpb25TYXZlUHJvZ3Jlc3NCYXI6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUFjdGlvblN1bW1hcnkgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGludm9pY2VDb3VudCA9IHRoaXMuc3RhdGUuaW52b2ljZUNvdW50O1xyXG5cclxuICAgICAgICBsZXQgZ2VuZXJhdGVkU3VtbWFyeSA9IERJU1BVVEVfVEVNUExBVEUucmVwbGFjZShcIjxESVNQVVRFLVJFQVNPTj5cIiwgdGhpcy5zdGF0ZS5yZWFzb25Db2RlKVxyXG4gICAgICAgICAgICAucmVwbGFjZShcIjxJbnZvaWNlcz5cIiwgKGludm9pY2VDb3VudCA9PSAxKSA/IGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkU3VtbWFyeTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdW1tYXJ5ID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBsZXQgaW52b2ljZUNvdW50ID0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQ7XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXQobmV3IERhdGUodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUpLCBcInl5eXktTU0tZGRcIik7XHJcbiAgICAgICAgbGV0IHVwZGF0ZWRTdW1tYXJ5ID0gRElTUFVURV9PUklHX1RFTVBMQVRFLnJlcGxhY2UoXCI8SW52b2ljZXM+XCIsIChpbnZvaWNlQ291bnQgPT09IDApID8gXCI8WCBpbnZvaWNlcz5cIiA6IGludm9pY2VDb3VudCA9PT0gMSA/IGludm9pY2VDb3VudCArIFwiIGludm9pY2VcIiA6IGludm9pY2VDb3VudCArIFwiIGludm9pY2VzXCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiPFJlYXNvbkNvZGU+XCIsIHRoaXMuc3RhdGUucmVhc29uQ29kZSk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vcGVuU25hY2tiYXJPbkFjdGlvbihtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuQWN0aW9uRGlzY2FyZERpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IHRydWUgfSlcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZUFjdGlvbkRpc2NhcmREaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZUFuZERpc2NhcmREaWFsb2cgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWN0aW9uU2F2ZTogZmFsc2UgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmRlbGV0ZUFjdGlvbih0aGlzLnN0YXRlLmFjdGlvbklkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VXYXJuaW5nRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuV2FybmluZ0RpYWxvZzogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VOb1JlYXNvbkRpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbk5vUmVhc29uRGlhbG9nOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZU5vSW52b2ljZURpYWxvZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbk5vSW52b2ljZURpYWxvZzogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUmVhc29uQ29kZUNoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY2hhbmdlOiB0cnVlLFxyXG4gICAgICAgICAgICByZWFzb25Db2RlOiBldmVudC50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgIC8vIHJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aDogZXZlbnQudGFyZ2V0LnZhbHVlID8gKFwiXCIgKyBldmVudC50YXJnZXQudmFsdWUubGVuZ3RoKSAqIDEyIDogNTBcclxuICAgICAgICB9LCAoKSA9PiB7IHRoaXMudXBkYXRlU3VtbWFyeSgpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBnZXRSZWFzb25Db2RlID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCByZWFzb25Db2RlcyA9IHRoaXMucHJvcHMucmVhc29uQ29kZUxpc3Q7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucmVhc29uQ29kZSAmJiByZWFzb25Db2Rlcy5pbmRleE9mKHRoaXMuc3RhdGUucmVhc29uQ29kZSkgPj0gMCkge1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gXCJTZWxlY3RcIjtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUucmVhc29uQ29kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiU2VsZWN0XCI7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCB7IHN1bW1hcnkgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBmdWxsU2NyZWVuIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICBsZXQgcmVhc29uQ29kZXMgPSB0aGlzLnByb3BzLnJlYXNvbkNvZGVMaXN0O1xyXG4gICAgICAgIGxldCBvcHRpb25JdGVtcyA9IHJlYXNvbkNvZGVzICYmIHJlYXNvbkNvZGVzLm1hcCgocmVhc29uQ29kZSwgaWQpID0+XHJcbiAgICAgICAgICAgIDxNZW51SXRlbSBrZXk9e2lkfSBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19IHZhbHVlPXtyZWFzb25Db2RlfT57cmVhc29uQ29kZX08L01lbnVJdGVtPlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZVNhbXBsZX0+XHJcbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxMH0gbWQ9ezEwfSBsZz17MTB9IGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeT1cImZsZXgtc3RhcnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjNyZW1cIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3Rpb25TYXZlUHJvZ3Jlc3NCYXIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjdWxhclByb2dyZXNzIGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb25Qcm9ncmVzc0Jhcn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmlzRG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERvbmUgc3R5bGU9e3sgY29sb3I6IFwiIzVGQzMyQ1wiICwgcGFkZGluZ0xlZnQgOiBcIjAuNXJlbVwiLCBwYWRkaW5nUmlnaHQgOiBcIjAuNXJlbVwiLCBoZWlnaHQgOiBcIjEuNXJlbVwiLCB3aWR0aCA6IFwiMS41cmVtXCIgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzRG9uZSAmJiA8VHlwb2dyYXBoeSAgc3R5bGU9e3sgIG9wYWNpdHkgOiAxLCAgfX0gY2xhc3NOYW1lID0ge2NsYXNzZXMuY2FyZENvbnRlbnR9ID5DcmVhdGVkICZuYnNwOzwvVHlwb2dyYXBoeT59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5pc0RvbmUgJiYgPFR5cG9ncmFwaHkgc3R5bGU9e3sgIG9wYWNpdHkgOiAxLCAgfX0gY2xhc3NOYW1lID0ge2NsYXNzZXMuY2FyZENvbnRlbnR9PkNyZWF0ZSAmbmJzcDs8L1R5cG9ncmFwaHk+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250V2VpZ2h0OiBcImJvbGRcIiwgb3BhY2l0eSA6IDEsIH19IGNsYXNzTmFtZSA9IHtjbGFzc2VzLmNhcmRDb250ZW50fT5ESVNQVVRFICZuYnNwOzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW52b2ljZUNvdW50ICE9PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBkaXNwbGF5OiBcImZsZXhcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBtYXJnaW46IFwiMCA4cHggMCA2cHhcIiB9fSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9PmZvcjwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fSBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZUV4cGFuZH0+e3RoaXMuc3RhdGUuaW52b2ljZUNvdW50ICsgXCIgSW52b2ljZVwiICsgKHRoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMSA/IFwic1wiIDogXCJcIil9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmluY29ycmVjdEZsYWcgJiYgPEVycm9yIGNsYXNzTmFtZT17Y2xhc3Nlcy5lcnJvckZsYWd9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH0+Jm5ic3A7IHdpdGggcmVhc29uIGNvZGUgb2YgJm5ic3A7PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLnJlYXNvbkNvZGVUZXh0RmllbGRXaWR0aCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW49e3RoaXMuc3RhdGUuaXNEb25lfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJyZWFzb24tY29kZS1maWVsZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5nZXRSZWFzb25Db2RlKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVSZWFzb25Db2RlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLnJlYXNvbkNvZGUgPyAoY2xhc3Nlcy50ZXN0KSA6IChjbGFzc2VzLnRlc3RJbml0aWFsKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgc2VsZWN0TWVudTogY2xhc3Nlcy5zZWxlY3RNZW51Q2xhc3MsIGljb246IGNsYXNzZXMuc2VsZWN0SWNvbiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVudVByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fSB2YWx1ZT1cIlNlbGVjdFwiIGRpc2FibGVkID5TZWxlY3Q8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge29wdGlvbkl0ZW1zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHlsZT17eyB3aWR0aDogdGhpcy5zdGF0ZS5yZWFzb25Db2RlVGV4dEZpZWxkV2lkdGggfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuPXshdGhpcy5zdGF0ZS5pc0RvbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17XCJyZWFzb24tY29kZS1maWVsZC1cIiArIHRoaXMuc3RhdGUuYWN0aW9uSWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuc2VsZWN0ZWRSZWFzb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5yZWFzb25Db2RlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW52b2ljZUN1cnJlbmN5Q2hhbmdlKFwiYW1vdW50XCIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luPVwibm9ybWFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9XCJub3JtYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVVbmRlcmxpbmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5wdXRDb21wb25lbnQ6IE51bWJlckZvcm1hdEN1c3RvbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e3RoaXMuc3RhdGUucmVhc29uQ29kZT8oY2xhc3Nlcy5zZWxlY3RlZFJlYXNvbik6KGNsYXNzZXMuZW1wdHlSZWFzb24pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPnt0aGlzLnN0YXRlLnJlYXNvbkNvZGV9PC9UeXBvZ3JhcGh5PiAqL31cclxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICAgICAgICB7LyogPERpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuQWN0aW9uU2F2ZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGlkPVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIj57ZGlzY2FyZE1lc3NhZ2V9PC9EaWFsb2dUaXRsZT5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZ30gY29sb3I9XCJzZWNvbmRhcnlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc2FncmVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tRGlhbG9nIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuQWN0aW9uU2F2ZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZ30gdGl0bGU9e2Rpc2NhcmRNZXNzYWdlfSBhY3Rpb25zPXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFs8QnV0dG9uIGtleT17XCJDdXN0b21EaWFsb2dcIiswfSBvbkNsaWNrPXt0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZ30gY29sb3I9XCJzZWNvbmRhcnlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc2FncmVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPixcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZUFuZERpc2NhcmREaWFsb2d9IGNvbG9yPVwicHJpbWFyeVwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFncmVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPl1cclxuICAgICAgICAgICAgICAgICAgICB9IC8+XHJcblxyXG4gICAgICAgICAgICAgICAgey8qICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbldhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e3Jlc29sdmVNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPiAqL31cclxuICAgICAgICAgICAgICAgIDxDdXN0b21EaWFsb2cgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLm9wZW5XYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfSB0aXRsZT17cmVzb2x2ZU1lc3NhZ2V9IGFjdGlvbnM9e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgWzxCdXR0b24gIGtleT17XCJDdXN0b21EaWFsb2dcIiswfSBvbkNsaWNrPXt0aGlzLmNsb3NlV2FybmluZ0RpYWxvZ30gY29sb3I9XCJwcmltYXJ5XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5dXHJcbiAgICAgICAgICAgICAgICAgICAgfSAvPlxyXG4gICAgICAgICAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbk5vUmVhc29uRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VOb1JlYXNvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGlkPVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIj57bm9SZWFzb25NZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZU5vUmVhc29uRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tRGlhbG9nIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuTm9SZWFzb25EaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU5vUmVhc29uRGlhbG9nfSB0aXRsZT17bm9SZWFzb25NZXNzYWdlfSBhY3Rpb25zPXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFs8QnV0dG9uIGtleT17XCJDdXN0b21EaWFsb2dcIiswfSBvbkNsaWNrPXt0aGlzLmNsb3NlTm9SZWFzb25EaWFsb2d9IGNvbG9yPVwic2Vjb25kYXJ5XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5dXHJcbiAgICAgICAgICAgICAgICAgICAgfSAvPlxyXG4gICAgICAgICAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbk5vSW52b2ljZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlTm9JbnZvaWNlRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgaWQ9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiPntub0ludm9pY2VNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZ30gY29sb3I9XCJkZWZhdWx0XCIgYXV0b0ZvY3VzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dBY3Rpb25zPlxyXG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+ICovfVxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbURpYWxvZyBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbk5vSW52b2ljZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlTm9JbnZvaWNlRGlhbG9nfSB0aXRsZT17bm9JbnZvaWNlTWVzc2FnZX0gYWN0aW9ucz17XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbPEJ1dHRvbiBrZXk9e1wiQ3VzdG9tRGlhbG9nXCIrMH0gb25DbGljaz17dGhpcy5jbG9zZU5vSW52b2ljZURpYWxvZ30gY29sb3I9XCJzZWNvbmRhcnlcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPl1cclxuICAgICAgICAgICAgICAgICAgICB9IC8+XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezJ9IG1kPXsyfSBsZz17Mn0+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0RvbmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIaWdobGlnaHRPZmYgc3R5bGU9e3sgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIgfX0gb25DbGljaz17dGhpcy5vcGVuQWN0aW9uRGlzY2FyZERpYWxvZ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZU91dGxpbmUgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwiIzVGQzMyQ1wiIH19IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5yZWFzb25Db2RlID8gXCJcIiA6IGNsYXNzZXMuZGlzYWJsZURvbmVCdG59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zdGF0ZS5yZWFzb25Db2RlID8gdGhpcy5zYXZlRGlzcHV0ZSA6IGVtcHR5RnVuY3Rpb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5EaXNwdXRlLnByb3BUeXBlcyA9IHtcclxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxufTtcclxuXHJcbkRpc3B1dGUuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xyXG5cclxuY29uc3QgY29tYmluZWRTdHlsZSA9IGNvbWJpbmVTdHlsZXMoc3R5bGVzLGJhc2VTdHlsZSlcclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhjb21iaW5lZFN0eWxlLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShEaXNwdXRlKVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0Rpc3B1dGUuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0J1dHRvbic7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQge1xyXG4gIERvbmUsXHJcbiAgSGlnaGxpZ2h0T2ZmLFxyXG4gIERhdGVSYW5nZSxcclxuICBDaGVja0NpcmNsZU91dGxpbmVcclxufSBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zXCI7XHJcbmltcG9ydCBEYXRlRm5zVXRpbHMgZnJvbSAnQGRhdGUtaW8vZGF0ZS1mbnMnO1xyXG5pbXBvcnQgeyBNdWlQaWNrZXJzVXRpbHNQcm92aWRlciB9IGZyb20gJ21hdGVyaWFsLXVpLXBpY2tlcnMnO1xyXG5pbXBvcnQgeyBEYXRlUGlja2VyIH0gZnJvbSAnbWF0ZXJpYWwtdWktcGlja2Vycyc7XHJcbmltcG9ydCB7IE11aVRoZW1lUHJvdmlkZXIsIGNyZWF0ZU11aVRoZW1lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgYmx1ZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMvYmx1ZSc7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RleHRGaWVsZCc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuaW1wb3J0IE51bWJlckZvcm1hdCBmcm9tICdyZWFjdC1udW1iZXItZm9ybWF0JztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBTZWxlY3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU2VsZWN0JztcclxuaW1wb3J0IE1lbnVJdGVtIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL01lbnVJdGVtJztcclxuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XHJcbmltcG9ydCBDdXN0b21EaWFsb2cgZnJvbSAnLi9DdXN0b21EaWFsb2cnO1xyXG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7XHJcbmltcG9ydCB7IGVtcHR5RnVuY3Rpb24gfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBpc1ZhbGlkRGF0ZSB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcic7XHJcbmltcG9ydCBjb21iaW5lU3R5bGVzIGZyb20gJy4uL3V0aWxzL2NvbWJpbmVTdHlsZXMnO1xyXG5pbXBvcnQgYmFzZVN0eWxlIGZyb20gJy4uL3V0aWxzL2Jhc2VTdHlsZSc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5cclxuLy9jb25zdGFudHNcclxuY29uc3QgZm9sbG93dXBSZWdleCA9IC8oXFxkezR9LVxcZHsyfS1cXGR7Mn1UW1xcZHsyfTpdKi5cXGR7M31bLXwrXVxcZHsyfTpcXGR7Mn0pfChyZWFzb246IC4qKS9nO1xyXG5jb25zdCBkaXNjYXJkTWVzc2FnZSA9XHJcbiAgXCJUaGlzIHdpbGwgYmUgcmVtb3ZlZCBwZXJtYW5lbnRseSBmcm9tIHRoZSBzdWdnZXN0ZWQgYWN0aW9ucy4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS5cIjtcclxuY29uc3QgcmVzb2x2ZU1lc3NhZ2UgPVxyXG4gIFwiIFVuYWJsZSB0byBjb21wbGV0ZSB0aGUgYWN0aW9uLiBQbGVhc2UgcmVzb2x2ZSB0aGUgZXJyb3JzIHRvIGFwcHJvdmUuXCI7XHJcbmNvbnN0IG5vVGV4dE1lc3NhZ2UgPSBcIlBsZWFzZSBzZWxlY3QgYXBwcm9wcmlhdGUgZm9sbG93dXAgcmVhc29uLlwiO1xyXG5jb25zdCBpbnZhbGlkRGF0ZU1lc3NhZ2UgPVxyXG4gIFwiRm91bmQgaW52YWxpZCBkYXRlLiBQbGVhc2UgY29ycmVjdCB0aGUgZGF0ZSB0byBwcm9jZWVkLlwiO1xyXG5jb25zdCBGT0xMT1dVUF9URU1QTEFURSA9XHJcbiAgXCJGb2xsb3cgdXAgIDxDb250YWN0IE5hbWU+IDxGb2xsb3d1cCBEYXRlPiA8Rm9sbG93dXAgVGV4dD5cIjtcclxuY29uc3QgRk9MTE9XVVBfT1JJR19URU1QTEFURSA9XHJcbiAgXCJDcmVhdGUgRm9sbG93dXAgZXZlbnQgZm9yIDxGb2xsb3d1cCBEYXRlPiByZWFzb246IDxGb2xsb3d1cCBUZXh0PlwiO1xyXG5jb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gIHNlbGVjdE1lbnVDbGFzczoge1xyXG4gICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgIG9wYWNpdHkgOiAwLjY1LFxyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXHJcbiAgfSxcclxuICBtZW51SXRlbVJvb3Q6IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gIH0sXHJcbiAgbWVudVBhcGVyOiB7XHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICBoZWlnaHQ6IFwiMjByZW0gIWltcG9ydGFudFwiLFxyXG4gICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcclxuICAgIGJvcmRlcjogXCIycHggc29saWQgd2hpdGVcIlxyXG4gIH0sXHJcbiAgdGVzdDoge1xyXG4gICAgd2lkdGg6IFwiYXV0b1wiLFxyXG4gICAgcGFkZGluZzogXCIwcHhcIixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIG9wYWNpdHk6IDAuNixcclxuICAgIGZvbnRTaXplOiBcIjAuODc1cmVtXCIsXHJcbiAgICBcIiY6YmVmb3JlXCI6IHtcclxuICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjZmY0NTQzXCIsXHJcbiAgICB9LFxyXG4gICAgXCImOmFmdGVyXCI6IHtcclxuICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCIsXHJcbiAgICB9XHJcbiAgfSxcclxuICB0ZXN0SW5pdGlhbDoge1xyXG4gICAgd2lkdGg6ICdhdXRvJyxcclxuICAgIHBhZGRpbmc6ICcwcHgnLFxyXG4gICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgIG9wYWNpdHk6IDAuNixcclxuXHJcbiAgICBcIiY6YmVmb3JlXCI6IHtcclxuICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjZmY0NTQzXCIsXHJcbiAgICB9LFxyXG4gICAgXCImOmFmdGVyXCI6IHtcclxuICAgICAgYm9yZGVyQm90dG9tOiBcIjJweCBzb2xpZCAjZmY0NTQzXCIsXHJcbiAgICB9XHJcbiAgfSxcclxuICBhY3Rpb25Qcm9ncmVzc0Jhcjoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgIHdpZHRoOiBcIjEuNXJlbSAhaW1wb3J0YW50XCIsXHJcbiAgICBwYWRkaW5nTGVmdDogXCIwLjVyZW1cIixcclxuICAgIHBhZGRpbmdSaWdodDogXCIwLjVyZW1cIixcclxuICAgIGhlaWdodDogXCIxLjVyZW0gIWltcG9ydGFudFwiXHJcbiAgfSxcclxuICBjYXJkQ29udGVudDoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgb3BhY2l0eTogMC42NVxyXG4gIH0sXHJcbiAgYWN0aW9uSWNvbjoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICB9LFxyXG4gIHNlbGVjdEljb246IHtcclxuICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluXHJcbiAgfSxcclxuICBkaXNhYmxlRG9uZUJ0bjoge1xyXG4gICAgb3BhY2l0eTogMC40LFxyXG4gICAgY3Vyc29yOiBcImRlZmF1bHRcIlxyXG4gIH1cclxufSk7XHJcblxyXG5jb25zdCBtYXRlcmlhbFRoZW1lID0gY3JlYXRlTXVpVGhlbWUoe1xyXG4gIG92ZXJyaWRlczoge1xyXG4gICAgTXVpUGlja2Vyc1Rvb2xiYXI6IHtcclxuICAgICAgdG9vbGJhcjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogYmx1ZS5BMjAwLFxyXG4gICAgICAgIGhlaWdodDogXCIxM3ZoXCJcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE11aVBpY2tlcnNDYWxlbmRhckhlYWRlcjoge1xyXG4gICAgICBzd2l0Y2hIZWFkZXI6IHtcclxuICAgICAgICAvLyBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Qmx1ZS5BMjAwLFxyXG4gICAgICAgIC8vIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTXVpUGlja2Vyc0RheToge1xyXG4gICAgICBkYXk6IHtcclxuICAgICAgICBjb2xvcjogYmx1ZS5BNzAwXHJcbiAgICAgIH0sXHJcbiAgICAgIHNlbGVjdGVkOiB7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBibHVlW1wiNDAwXCJdXHJcbiAgICAgIH0sXHJcbiAgICAgIGN1cnJlbnQ6IHtcclxuICAgICAgICBjb2xvcjogYmx1ZVtcIjkwMFwiXVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTXVpRm9ybUhlbHBlclRleHQ6IHtcclxuICAgICAgZXJyb3I6IHtcclxuICAgICAgICBjb2xvcjogXCIjRkY4ODg4ICFpbXBvcnRhbnRcIlxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTXVpUGlja2Vyc01vZGFsOiB7XHJcbiAgICAgIGRpYWxvZ0FjdGlvbjoge1xyXG4gICAgICAgIGNvbG9yOiBibHVlW1wiNDAwXCJdXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxuY2xhc3MgRm9sbG93dXAgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICBsZXQgZXh0cmFjdGVkRGF0YSA9IHRoaXMucHJvcHMuc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKGZvbGxvd3VwUmVnZXgpO1xyXG4gICAgbGV0IHNlbGVjdGVkRGF0ZSA9IFwiXCI7XHJcbiAgICBsZXQgZm9sbG93dXBUZXh0ID0gXCJcIjtcclxuICAgIGlmIChleHRyYWN0ZWREYXRhICYmIGV4dHJhY3RlZERhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICBzZWxlY3RlZERhdGUgPSBuZXcgRGF0ZShleHRyYWN0ZWREYXRhWzBdKTtcclxuICAgICAgZm9sbG93dXBUZXh0ID0gZXh0cmFjdGVkRGF0YVsxXSA/IGV4dHJhY3RlZERhdGFbMV0uc3Vic3RyaW5nKDgpIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZm9sbG93dXBUZXh0cyA9IHRoaXMucHJvcHMuZm9sbG93dXBUZXh0TGlzdDtcclxuXHJcbiAgICBpZiAoZm9sbG93dXBUZXh0cy5pbmRleE9mKGZvbGxvd3VwVGV4dCkgPCAwKSB7XHJcbiAgICAgIGZvbGxvd3VwVGV4dCA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgcmVhZE9ubHk6IHRydWUsXHJcbiAgICAgIGlzRWRpdGluZzogZmFsc2UsXHJcbiAgICAgIGZvbGxvd3VwVGV4dDogZm9sbG93dXBUZXh0LFxyXG4gICAgICBzZWxlY3RlZERhdGU6IG5ldyBEYXRlKHNlbGVjdGVkRGF0ZSksXHJcbiAgICAgIG9wZW5BY3Rpb25TYXZlOiBmYWxzZSxcclxuICAgICAgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlLFxyXG4gICAgICBvcGVuSW52YWxpZERhdGVEaWFsb2c6IGZhbHNlLFxyXG4gICAgICBvcGVuUHJvZ3Jlc3NCYXI6IHRydWUsXHJcbiAgICAgIGFjdGlvbklkOiB0aGlzLnByb3BzLnN1bW1hcnkuaWQsXHJcbiAgICAgIGlzRG9uZTogdGhpcy5wcm9wcy5zdW1tYXJ5LnNhdmUsXHJcbiAgICAgIGZpbmFsU2VsZWN0ZWREYXRlOiB0aGlzLnByb3BzLnN1bW1hcnkuc2F2ZVxyXG4gICAgICAgID8gZm9ybWF0KG5ldyBEYXRlKGV4dHJhY3RlZERhdGFbMF0pLCBcIk1NTSBkZCwgeXl5eVwiKVxyXG4gICAgICAgIDogXCJcIixcclxuICAgICAgLy8gZm9sbG93dXBUZXh0RmllbGRXaWR0aDogZm9sbG93dXBUZXh0ID8gKFwiXCIgKyBmb2xsb3d1cFRleHQpLmxlbmd0aCAqIDEyIDogNTAsXHJcbiAgICAgIGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UsXHJcbiAgICAgIGluY29ycmVjdEZsYWc6IG51bGxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGluY29ycmVjdEZsYWc6IG5leHRQcm9wcy5pbmNvcnJlY3RGbGFnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHZhbGlkYXRlRm9sbG93dXBEYXRhID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuaW5jb3JyZWN0RmxhZykge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IHRydWUgfSk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzVmFsaWREYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlKSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkludmFsaWREYXRlRGlhbG9nOiB0cnVlIH0pO1xyXG4gICAgICAvLyB0aGlzLm9wZW5EYXRhSW52YWxpZERpYWxvZyhcIlBsZWFzZSBjb3JyZWN0IGRhdGUgZmlyc3QuXCIpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgc2F2ZUZvbGxvd3VwID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLnZhbGlkYXRlRm9sbG93dXBEYXRhKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5Ob1RleHREaWFsb2c6IHRydWUgfSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiB0cnVlIH0pO1xyXG4gICAgbGV0IGZvbGxvd0RhdGUgPSBuZXcgRGF0ZSh0aGlzLnN0YXRlLnNlbGVjdGVkRGF0ZSk7XHJcbiAgICBsZXQgZm9sbG93Rm9ybWF0RGF0ZSA9IGZvcm1hdChmb2xsb3dEYXRlLCBcInl5eXktTU0tZGRcIik7XHJcblxyXG4gICAgbGV0IHJlcU9iaiA9IHtcclxuICAgICAgZHVlRGF0ZTogZm9sbG93Rm9ybWF0RGF0ZSxcclxuICAgICAgcmVtaW5kZXJEYXRlOiBmb2xsb3dGb3JtYXREYXRlLFxyXG4gICAgICBzdWJqZWN0OiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dFxyXG4gICAgICAvLyBhc3NpZ25lZFRvVXNlcjogdGhpcy5wcm9wcy5jdXN0b21lci5pZCxcclxuICAgIH07XHJcblxyXG4gICAgYXhpb3NcclxuICAgICAgLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0vY3VzdG9tZXIvJHt0aGlzLnByb3BzLmN1c3RvbWVyLmlkfS90YXNrYCwgcmVxT2JqKVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlNVQ0NFU1NcIik7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZpbmFsU2VsZWN0ZWREYXRlOiB0aGlzLmdldERhdGVGaWVsZFZhbHVlKCkgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGlvblNhdmVQcm9ncmVzc0JhcjogZmFsc2UgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNEb25lOiB0cnVlIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy91cGRhdGUgZmxhZyBpbiBhY3Rpb25zIHwgcG9zdCBjYWxsXHJcbiAgICAgICAgbGV0IHN1bW1hcnlUb1NhdmUgPSB0aGlzLmdlbmVyYXRlQWN0aW9uU3VtbWFyeSgpO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25Db21wbGV0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkFjdGlvbkl0ZW1Db25maXJtKHN1bW1hcnlUb1NhdmUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU3VtbWFyeSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIHRoaXMub3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UoXCJFUlJPUlwiKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aW9uU2F2ZVByb2dyZXNzQmFyOiBmYWxzZSB9KTtcclxuICAgICAgfSk7XHJcbiAgfTtcclxuICBnZW5lcmF0ZUFjdGlvblN1bW1hcnkgPSAoKSA9PiB7XHJcbiAgICBsZXQgaW52b2ljZUNvdW50ID0gdGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQ7XHJcbiAgICBsZXQgY29udGFjdE51bWJlciA9IHRoaXMucHJvcHMuY2FsbGVkVG9OdW1iZXI7XHJcbiAgICAvLyBsZXQgc2VsZWN0ZWRmb3JtYXR0ZWREYXRlID0gKGRhdGUuZ2V0TW9udGgoKSArIDEpICsgJy0nICsgZGF0ZS5nZXREYXRlKCkgKyAnLScgKyBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICBsZXQgY29udGFjdE5hbWUgPVxyXG4gICAgICAodGhpcy5wcm9wcy5jYWxsVG9OYW1lID09IFwiVW5rbm93biBcIiB8fFxyXG4gICAgICAgIHRoaXMucHJvcHMuY2FsbFRvTmFtZSA9PSBcIlVubmFtZWQgVW5uYW1lZFwiKSAmJlxyXG4gICAgICAgIGNvbnRhY3ROdW1iZXJcclxuICAgICAgICA/IGNvbnRhY3ROdW1iZXJcclxuICAgICAgICA6IHRoaXMucHJvcHMuY2FsbFRvTmFtZTtcclxuICAgIGxldCBnZW5lcmF0ZWRTdW1tYXJ5ID0gRk9MTE9XVVBfVEVNUExBVEUucmVwbGFjZShcclxuICAgICAgXCI8Q29udGFjdCBOYW1lPlwiLFxyXG4gICAgICBjb250YWN0TmFtZVxyXG4gICAgKVxyXG4gICAgICAucmVwbGFjZShcclxuICAgICAgICBcIjxGb2xsb3d1cCBEYXRlPlwiLFxyXG4gICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlXHJcbiAgICAgICAgICA/IFwib24gXCIgKyBmb3JtYXQodGhpcy5zdGF0ZS5zZWxlY3RlZERhdGUsIFwiTU0tZGQteXl5eVwiKVxyXG4gICAgICAgICAgOiBcIlwiXHJcbiAgICAgIClcclxuICAgICAgLnJlcGxhY2UoXHJcbiAgICAgICAgXCI8Rm9sbG93dXAgVGV4dD5cIixcclxuICAgICAgICB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IFwiZm9yIFwiICsgdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgOiBcIlwiXHJcbiAgICAgICk7XHJcblxyXG4gICAgcmV0dXJuIGdlbmVyYXRlZFN1bW1hcnk7XHJcbiAgfTtcclxuXHJcbiAgb3BlblNuYWNrQmFyV2l0aE1lc3NhZ2UgPSBtZXNzYWdlID0+IHtcclxuICAgIHRoaXMucHJvcHMub3BlblNuYWNrYmFyT25BY3Rpb24obWVzc2FnZSk7XHJcbiAgfTtcclxuXHJcbiAgb3BlbkFjdGlvbkRpc2NhcmREaWFsb2cgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IHRydWUgfSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2VBY3Rpb25EaXNjYXJkRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5BY3Rpb25TYXZlOiBmYWxzZSB9KTtcclxuICB9O1xyXG5cclxuICBjbG9zZUFuZERpc2NhcmREaWFsb2cgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFjdGlvblNhdmU6IGZhbHNlIH0sICgpID0+IHtcclxuICAgICAgdGhpcy5wcm9wcy5kZWxldGVBY3Rpb24odGhpcy5zdGF0ZS5hY3Rpb25JZCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjbG9zZVdhcm5pbmdEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3Blbldhcm5pbmdEaWFsb2c6IGZhbHNlIH0pO1xyXG4gIH07XHJcblxyXG4gIGNsb3NlTm9UZXh0RGlhbG9nID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW5Ob1RleHREaWFsb2c6IGZhbHNlIH0pO1xyXG4gIH07XHJcblxyXG4gIGNsb3NlSW52YWxpZERhdGVEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkludmFsaWREYXRlRGlhbG9nOiBmYWxzZSB9KTtcclxuICB9O1xyXG5cclxuICB0b2dnbGVFZGl0aW5nID0gZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgcmVhZE9ubHk6IGZhbHNlLCBpc0VkaXRpbmc6IHRydWUgfSwgKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcImludm9pY2UtYW1vdW50LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZClcclxuICAgICAgICAuZm9jdXMoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZURhdGVDaGFuZ2UgPSBkYXRlID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZERhdGU6IGRhdGUgfSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGdldERhdGVGaWVsZFZhbHVlID0gKCkgPT4ge1xyXG4gICAgbGV0IGlkID0gXCJkYXRlLWlucHV0LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZDtcclxuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWU7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlRm9sbG93dXBUZXh0Q2hhbmdlID0gZXZlbnQgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAge1xyXG4gICAgICAgIGNoYW5nZTogdHJ1ZSxcclxuICAgICAgICBmb2xsb3d1cFRleHQ6IGV2ZW50LnRhcmdldC52YWx1ZVxyXG4gICAgICAgIC8vIGZvbGxvd3VwVGV4dEZpZWxkV2lkdGg6IGV2ZW50LnRhcmdldC52YWx1ZSA/IChcIlwiICsgZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCkgKiAxMiA6IDUwXHJcbiAgICAgIH0sXHJcbiAgICAgICgpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBnZXRGb2xsb3d1cFRleHQgPSAoKSA9PiB7XHJcbiAgICBsZXQgZm9sbG93dXBUZXh0cyA9IHRoaXMucHJvcHMuZm9sbG93dXBUZXh0TGlzdDtcclxuICAgIGlmIChcclxuICAgICAgdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgJiZcclxuICAgICAgZm9sbG93dXBUZXh0cy5pbmRleE9mKHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0KSA+PSAwXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFwiU2VsZWN0XCI7XHJcbiAgfTtcclxuXHJcbiAgdXBkYXRlU3VtbWFyeSA9ICgpID0+IHtcclxuICAgIGxldCBpbnZvaWNlQ291bnQgPSB0aGlzLnN0YXRlLmludm9pY2VDb3VudDtcclxuICAgIGxldCBmb3JtYXR0ZWREYXRlID0gZm9ybWF0KG5ldyBEYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlKSwgXCJ5eXl5LU1NLWRkXCIpO1xyXG4gICAgbGV0IHVwZGF0ZWRTdW1tYXJ5ID0gRk9MTE9XVVBfT1JJR19URU1QTEFURS5yZXBsYWNlKFxyXG4gICAgICBcIjxGb2xsb3d1cCBEYXRlPlwiLFxyXG4gICAgICBmb3JtYXR0ZWREYXRlXHJcbiAgICApLnJlcGxhY2UoXHJcbiAgICAgIFwiPEZvbGxvd3VwIFRleHQ+XCIsXHJcbiAgICAgIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0ID8gdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHQgOiBcIlwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5wcm9wcy51cGRhdGVTdW1tYXJ5SW5QYXJlbnQodXBkYXRlZFN1bW1hcnkpO1xyXG4gIH07XHJcblxyXG4gIG9wZW5QaWNrZXIgPSBlID0+IHtcclxuICAgIHRoaXMucGlja2VyLm9wZW4oZSk7XHJcbiAgfTtcclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgY29uc3QgeyBzdW1tYXJ5LCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IHsgZnVsbFNjcmVlbiB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBsZXQgZm9sbG93dXBUZXh0cyA9IHRoaXMucHJvcHMuZm9sbG93dXBUZXh0TGlzdDtcclxuICAgIGxldCBvcHRpb25JdGVtcyA9IGZvbGxvd3VwVGV4dHMubWFwKChmb2xsb3d1cFRleHQsIGlkKSA9PiAoXHJcbiAgICAgIDxNZW51SXRlbVxyXG4gICAgICAgIGtleT17XCJmb2xsb3d1cFRleHRcIiArIGlkfVxyXG4gICAgICAgIHZhbHVlPXtmb2xsb3d1cFRleHR9XHJcbiAgICAgICAgY2xhc3Nlcz17eyByb290OiBjbGFzc2VzLm1lbnVJdGVtUm9vdCB9fVxyXG4gICAgICA+XHJcbiAgICAgICAge2ZvbGxvd3VwVGV4dH1cclxuICAgICAgPC9NZW51SXRlbT5cclxuICAgICkpO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxHcmlkIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZVNhbXBsZX0+XHJcbiAgICAgICAgPEdyaWRcclxuICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgIHhzPXsxMH1cclxuICAgICAgICAgIG1kPXsxMH1cclxuICAgICAgICAgIGxnPXsxMH1cclxuICAgICAgICAgIGNvbnRhaW5lclxyXG4gICAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXHJcbiAgICAgICAgICBqdXN0aWZ5PVwiZmxleC1zdGFydFwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogXCIzcmVtXCIgfX0+XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLmFjdGlvblNhdmVQcm9ncmVzc0JhciAmJiAoXHJcbiAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgY2xhc3NOYW1lPXtjbGFzc2VzLmFjdGlvblByb2dyZXNzQmFyfSAvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0RvbmUgJiYgKFxyXG4gICAgICAgICAgICAgIDxEb25lXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCIjNUZDMzJDXCIsXHJcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjAuNXJlbVwiLFxyXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMC41cmVtXCIsXHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxLjVyZW1cIixcclxuICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMS41cmVtXCJcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNEb25lICYmIChcclxuICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgb3BhY2l0eTogMSB9fVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIENyZWF0ZWQgJm5ic3A7XHJcbiAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgeyF0aGlzLnN0YXRlLmlzRG9uZSAmJiAoXHJcbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG9wYWNpdHk6IDEgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jYXJkQ29udGVudH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBDcmVhdGUgJm5ic3A7XHJcbiAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgb3BhY2l0eTogMSB9fSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZENvbnRlbnR9PlxyXG4gICAgICAgICAgICAgIEZPTExPVy1VUCAmbmJzcDtcclxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fT5cclxuICAgICAgICAgICAgICBldmVudCBmb3IgJm5ic3A7XHJcbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgIHtcIiBcIn1cclxuICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNEb25lICYmIChcclxuICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5maW5hbFNlbGVjdGVkRGF0ZX1cclxuICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNEb25lICYmIChcclxuICAgICAgICAgICAgICA8TXVpUGlja2Vyc1V0aWxzUHJvdmlkZXIgdXRpbHM9e0RhdGVGbnNVdGlsc30+XHJcbiAgICAgICAgICAgICAgICA8TXVpVGhlbWVQcm92aWRlciB0aGVtZT17bWF0ZXJpYWxUaGVtZX0+XHJcbiAgICAgICAgICAgICAgICAgIDxEYXRlUGlja2VyXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWF4V2lkdGg6IFwiNS4zNXJlbVwiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dLZXlib2FyZENvbnRyb2w9e0Jvb2xlYW4oZmFsc2UpfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdD1cIk1NTSBkZCwgeXl5eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgbWluRGF0ZU1lc3NhZ2U9XCJQcmV2aW91cyBkYXRlIG5vdCBhY2NlcHRhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICBJbnB1dFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogXCJkYXRlLWlucHV0LWZpZWxkLVwiICsgdGhpcy5zdGF0ZS5hY3Rpb25JZCxcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IEJvb2xlYW4odHJ1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiBCb29sZWFuKHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICByZWY9e25vZGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2VsZWN0ZWREYXRlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZURhdGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb25DbGljaz17ZSA9PiBlLnByZXZlbnREZWZhdWx0fVxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGVZZWFyU2Nyb2xsaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBtaW5EYXRlPXtuZXcgRGF0ZSgpfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8RGF0ZVJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmFjdGlvbkljb259XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vcGVuUGlja2VyfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9NdWlUaGVtZVByb3ZpZGVyPlxyXG4gICAgICAgICAgICAgIDwvTXVpUGlja2Vyc1V0aWxzUHJvdmlkZXI+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZCBpdGVtIGhpZGRlbj17dGhpcy5zdGF0ZS5pc0RvbmUgJiYgIXRoaXMuc3RhdGUuZm9sbG93dXBUZXh0fT5cclxuICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmNhcmRDb250ZW50fT5cclxuICAgICAgICAgICAgICAmbmJzcDsgZm9yICZuYnNwO1xyXG4gICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgICA8R3JpZFxyXG4gICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgIC8vIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dEZpZWxkV2lkdGggfX1cclxuICAgICAgICAgICAgaGlkZGVuPXt0aGlzLnN0YXRlLmlzRG9uZX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICAgIGlkPVwiZm9sbG93dXAtdGV4dC1maWVsZFwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuZ2V0Rm9sbG93dXBUZXh0KCl9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRm9sbG93dXBUZXh0Q2hhbmdlfVxyXG4gICAgICAgICAgICAgIGNsYXNzZXM9e3tcclxuICAgICAgICAgICAgICAgIHNlbGVjdE1lbnU6IGNsYXNzZXMuc2VsZWN0TWVudUNsYXNzLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogY2xhc3Nlcy5zZWxlY3RJY29uXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5mb2xsb3d1cFRleHRcclxuICAgICAgICAgICAgICAgICAgPyBjbGFzc2VzLnRlc3RcclxuICAgICAgICAgICAgICAgICAgOiBjbGFzc2VzLnRlc3RJbml0aWFsXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIE1lbnVQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgY2xhc3Nlczoge1xyXG4gICAgICAgICAgICAgICAgICBwYXBlcjogY2xhc3Nlcy5tZW51UGFwZXJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IHJvb3Q6IGNsYXNzZXMubWVudUl0ZW1Sb290IH19XHJcbiAgICAgICAgICAgICAgICB2YWx1ZT1cIlNlbGVjdFwiXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIFNlbGVjdFxyXG4gICAgICAgICAgICAgIDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAge29wdGlvbkl0ZW1zfVxyXG4gICAgICAgICAgICA8L1NlbGVjdD5cclxuICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgIDxHcmlkXHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgLy8gc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0RmllbGRXaWR0aCB9fVxyXG4gICAgICAgICAgICBoaWRkZW49eyF0aGlzLnN0YXRlLmlzRG9uZX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5zZWxlY3RNZW51Q2xhc3N9Pnt0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dH08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICA8L0dyaWQ+XHJcbiAgICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgICA8Q3VzdG9tRGlhbG9nXHJcbiAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuTm9UZXh0RGlhbG9nfVxyXG4gICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU5vVGV4dERpYWxvZ31cclxuICAgICAgICAgIHRpdGxlPXtub1RleHRNZXNzYWdlfVxyXG4gICAgICAgICAgYWN0aW9ucz17W1xyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZU5vVGV4dERpYWxvZ31cclxuICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXHJcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIF19XHJcbiAgICAgICAgLz5cclxuICAgICAgICB7LyogPERpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxTY3JlZW49e2Z1bGxTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuQWN0aW9uU2F2ZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGlkPVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIj57ZGlzY2FyZE1lc3NhZ2V9PC9EaWFsb2dUaXRsZT5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZ30gY29sb3I9XCJzZWNvbmRhcnlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc2FncmVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xvc2VBbmREaXNjYXJkRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZ3JlZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgPEN1c3RvbURpYWxvZ1xyXG4gICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFjdGlvblNhdmV9XHJcbiAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlQWN0aW9uU2F2ZURpYWxvZ31cclxuICAgICAgICAgIHRpdGxlPXtkaXNjYXJkTWVzc2FnZX1cclxuICAgICAgICAgIGFjdGlvbnM9e1tcclxuICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlQWN0aW9uRGlzY2FyZERpYWxvZ30gY29sb3I9XCJzZWNvbmRhcnlcIj5cclxuICAgICAgICAgICAgICBEaXNhZ3JlZVxyXG4gICAgICAgICAgICA8L0J1dHRvbj4sXHJcbiAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlQW5kRGlzY2FyZERpYWxvZ31cclxuICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgQWdyZWVcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICBdfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbldhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCI+e3Jlc29sdmVNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9IGNvbG9yPVwiZGVmYXVsdFwiIGF1dG9Gb2N1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPiAqL31cclxuICAgICAgICA8Q3VzdG9tRGlhbG9nXHJcbiAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5vcGVuV2FybmluZ0RpYWxvZ31cclxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VXYXJuaW5nRGlhbG9nfVxyXG4gICAgICAgICAgdGl0bGU9e3Jlc29sdmVNZXNzYWdlfVxyXG4gICAgICAgICAgYWN0aW9ucz17W1xyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVdhcm5pbmdEaWFsb2d9XHJcbiAgICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxyXG4gICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICBdfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgey8qIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuPXtmdWxsU2NyZWVufVxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkludmFsaWREYXRlRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGlkPVwicmVzcG9uc2l2ZS1kaWFsb2ctdGl0bGVcIj57aW52YWxpZERhdGVNZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jbG9zZUludmFsaWREYXRlRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIiBhdXRvRm9jdXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZz4gKi99XHJcbiAgICAgICAgPEN1c3RvbURpYWxvZ1xyXG4gICAgICAgICAgZnVsbFNjcmVlbj17ZnVsbFNjcmVlbn1cclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkludmFsaWREYXRlRGlhbG9nfVxyXG4gICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUludmFsaWREYXRlRGlhbG9nfVxyXG4gICAgICAgICAgdGl0bGU9e2ludmFsaWREYXRlTWVzc2FnZX1cclxuICAgICAgICAgIGFjdGlvbnM9e1tcclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VJbnZhbGlkRGF0ZURpYWxvZ31cclxuICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXHJcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIF19XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8R3JpZCBpdGVtIHhzPXsyfSBtZD17Mn0gbGc9ezJ9PlxyXG4gICAgICAgICAgeyF0aGlzLnN0YXRlLmlzRG9uZSAmJiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPEhpZ2hsaWdodE9mZlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwiI0ZGODg4OFwiLCBwYWRkaW5nOiBcIjAgMS4zcmVtIDAgMC44cmVtXCIgfX1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub3BlbkFjdGlvbkRpc2NhcmREaWFsb2d9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGVPdXRsaW5lXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogXCIjNUZDMzJDXCIgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZm9sbG93dXBUZXh0ID8gXCJcIiA6IGNsYXNzZXMuZGlzYWJsZURvbmVCdG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZvbGxvd3VwVGV4dCA/IHRoaXMuc2F2ZUZvbGxvd3VwIDogZW1wdHlGdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L0dyaWQ+XHJcbiAgICAgIDwvR3JpZD5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOdW1iZXJGb3JtYXRDdXN0b20ocHJvcHMpIHtcclxuICBjb25zdCB7IGlucHV0UmVmLCBvbkNoYW5nZSwgLi4ub3RoZXIgfSA9IHByb3BzO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPE51bWJlckZvcm1hdFxyXG4gICAgICB7Li4ub3RoZXJ9XHJcbiAgICAgIGdldElucHV0UmVmPXtpbnB1dFJlZn1cclxuICAgICAgb25WYWx1ZUNoYW5nZT17dmFsdWVzID0+IHtcclxuICAgICAgICBvbkNoYW5nZSh7XHJcbiAgICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlcy52YWx1ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9fVxyXG4gICAgICB0aG91c2FuZFNlcGFyYXRvclxyXG4gICAgICBwcmVmaXg9XCIkXCJcclxuICAgIC8+XHJcbiAgKTtcclxufVxyXG5cclxuTnVtYmVyRm9ybWF0Q3VzdG9tLnByb3BUeXBlcyA9IHtcclxuICBpbnB1dFJlZjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxyXG59O1xyXG5cclxuRm9sbG93dXAucHJvcFR5cGVzID0ge1xyXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxyXG59O1xyXG5cclxuY29uc3QgY29tYmluZWRTdHlsZSA9IGNvbWJpbmVTdHlsZXMoc3R5bGVzLCBiYXNlU3R5bGUpXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoRm9sbG93dXApO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9Gb2xsb3d1cC5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgR3JpZExpc3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3QnO1xyXG5pbXBvcnQgR3JpZExpc3RUaWxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWRMaXN0VGlsZSc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaGVja2JveCc7XHJcbmltcG9ydCBDaGVja0NpcmNsZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0NoZWNrQ2lyY2xlJztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCBSYWRpb0J1dHRvblVuY2hlY2tlZEljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL1JhZGlvQnV0dG9uVW5jaGVja2VkJztcclxuaW1wb3J0IEFkZCBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQWRkJztcclxuaW1wb3J0IFJlbW92ZUNpcmNsZU91dGxpbmUgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL1JlbW92ZUNpcmNsZU91dGxpbmUnO1xyXG5pbXBvcnQgQ2xvc2UgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xyXG5pbXBvcnQgRmFiIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ZhYic7XHJcbmltcG9ydCBDYXJkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NhcmQnO1xyXG5pbXBvcnQgQ2FyZENvbnRlbnQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2FyZENvbnRlbnQnO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IEVycm9yIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FcnJvcic7XHJcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nJztcclxuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQWN0aW9ucyc7XHJcbmltcG9ydCBEaWFsb2dUaXRsZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dUaXRsZSc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Nb2RhbCc7XHJcbmltcG9ydCBEdWVEZXRhaWwgZnJvbSAnLi9EdWVEZXRhaWwnO1xyXG5pbXBvcnQgQ2xlYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0NsZWFyJztcclxuaW1wb3J0IHsgZm9ybWF0dGVyIH0gZnJvbSAnLi4vdXRpbHMvZm9ybWF0dGVyJztcclxuaW1wb3J0IHsgZm9ybWF0Q3VycmVuY3lUb1VTRm9ybWF0IH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJztcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcbmltcG9ydCBMaXN0T2ZUaWxlIGZyb20gJy4vTGlzdE9mVGlsZSc7XHJcblxyXG5cclxuY29uc3QgUDJQUmVnZXggPSAvKFByb21pc2UgdG8gcGF5IGZvciBcXGQqKXwoWzAtOV17NH1bLV1bMC05XXsyfVstXVswLTldezJ9KXwoXFxkKiBpbnZvaWNlKS9nO1xyXG5jb25zdCBtZXNzYWdlID0gXCJQbGVhc2Ugc2VsZWN0IHNvbWUgaW52b2ljZXMuXCI7XHJcbmNvbnN0IGRpc3B1dGVSZWdleCA9IC8oXFxkKiBpbnZvaWNlKXwoYmVjYXVzZSBvZiAuKikvZztcclxuXHJcbmZ1bmN0aW9uIHJhbmQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjApIC0gMTA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1vZGFsU3R5bGUodGhlbWUpIHtcclxuICAgIGNvbnN0IHRvcCA9IDUwO1xyXG4gICAgY29uc3QgbGVmdCA9IDUwO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9wOiBgJHt0b3B9JWAsXHJcbiAgICAgICAgbGVmdDogYCR7bGVmdH0lYCxcclxuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoLSR7dG9wfSUsIC0ke2xlZnR9JSlgLFxyXG4gICAgICAgIHdpZHRoOiBcIjczdndcIixcclxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgMnB4IHNvbGlkXCIsXHJcbiAgICB9O1xyXG59XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG5cclxuICAgIGludm9pY2VIZWFkZXI6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNi40ODE0ODE0ODE0OHZoXCIsXHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBib3JkZXJCb3R0b206IFwiIzM5NUM3MyBzb2xpZCAxcHhcIixcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIzcmVtXCJcclxuICAgICAgICAvLyBib3JkZXJUb3A6IFwic29saWQgYmxhY2sgMXB4XCJcclxuICAgIH0sXHJcbiAgICBjaGVja2VkSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIHpJbmRleDogXCIzXCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcImNhbGMoMS4ydmggKyAxLjJ2dylcIixcclxuICAgICAgICB3aWR0aDogXCJjYWxjKDEuMnZoICsgMS4ydncpXCJcclxuICAgIH0sXHJcbiAgICBpbnZvaWNlTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcImF1dG9cIixcclxuICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxyXG4gICAgICAgIG1hcmdpblRvcDogXCIxcmVtXCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuOXJlbVwiLFxyXG4gICAgICAgIC8vIGZsZXhXcmFwOiAnd3JhcCcsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1hcm91bmQnLFxyXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIzcmVtXCJcclxuICAgIH0sXHJcbiAgICBjb3JyZWN0aW9uOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICB9LFxyXG4gICAgY29ycmVjdGlvbkFsZXJ0OiB7XHJcbiAgICAgICAgY29sb3I6IFwiI0ZGODg4OFwiLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLjVyZW1cIlxyXG4gICAgfSxcclxuICAgIGVycm9yRmxhZzoge1xyXG4gICAgICAgIGNvbG9yOiBcIiNGRjQ0NDRcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIi41cmVtXCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogJzEwcHggMHB4IC0ycHggLS40cmVtICFpbXBvcnRhbnQnLFxyXG4gICAgfSxcclxuICAgIGdyaWRMaXN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIHdpZHRoOiBcIjE1LjQxdndcIixcclxuICAgICAgICBoZWlnaHQ6IFwiNy40MHZoXCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBib3JkZXI6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gKyBcIiBzb2xpZCAxcHhcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXHJcbiAgICB9LFxyXG4gICAgaW5jb3JyZWN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGJvcmRlcjogXCIjRkY4ODg4IGRhc2hlZCAxcHhcIixcclxuICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuICAgIH0sXHJcbiAgICBwYXBlcjoge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHdpZHRoOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAxMDAsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgIGJveFNoYWRvdzogdGhlbWUuc2hhZG93c1s1XSxcclxuICAgICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nLnVuaXQgKiAxLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiAwLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogMFxyXG4gICAgfSxcclxuICAgIGJ1dHRvbjoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIyZW1cIixcclxuICAgICAgICBmb250U2l6ZTogXCIwLjg4OHJlbVwiXHJcbiAgICB9LFxyXG4gICAgYWRkSWNvbjoge1xyXG4gICAgICAgIHdpZHRoOiAnY2FsYygxLjF2aCArIDEuMXZ3KScsXHJcbiAgICAgICAgaGVpZ2h0OiAnY2FsYygxLjF2aCArIDEuMXZ3KScsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cclxuICAgIH0sXHJcbiAgICBwcmltYXJ5VGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxufSk7XHJcblxyXG5jbGFzcyBBY3Rpb25EZXRhaWxzIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIGxldCBzdW1tYXJ5ID0gdGhpcy5wcm9wcy5zdW07XHJcbiAgICAgICAgbGV0IGludGVudFR5cGUgPSB0aGlzLnByb3BzLmludGVudFR5cGU7XHJcbiAgICAgICAgbGV0IGV4dHJhY3RlZEFtb3VudDtcclxuICAgICAgICAvLyBsZXQgbm9PZkludm9pY2VzID0gMDtcclxuICAgICAgICBpZiAoaW50ZW50VHlwZSA9PSBcIlAyUFwiKSB7XHJcbiAgICAgICAgICAgIGxldCBleHRyYWN0ZWREYXRhID0gc3VtbWFyeS5zdW1tYXJ5Lm1hdGNoKFAyUFJlZ2V4KTtcclxuICAgICAgICAgICAgZXh0cmFjdGVkQW1vdW50ID0gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9LylcclxuXHJcbiAgICAgICAgICAgIGlmICghZXh0cmFjdGVkQW1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRBbW91bnQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vT2ZJbnZvaWNlcyA9IGV4dHJhY3RlZERhdGFbMl0gPyBleHRyYWN0ZWREYXRhWzJdLm1hdGNoKC9bMC05XXsxLH0vKSA6IDA7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAoIW5vT2ZJbnZvaWNlcykge1xyXG4gICAgICAgICAgICAvLyAgICAgbm9PZkludm9pY2VzID0gMDtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VDaGVja3NNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5wcm9wcy5jb3JyZWN0SW52b2ljZXM7XHJcbiAgICAgICAgaWYgKGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW52b2ljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnZvaWNlID0gaW52b2ljZXNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgaW52b2ljZUNoZWNrc01hcC5zZXQoaW52b2ljZS5pZC50b1N0cmluZygpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAoaW50ZW50VHlwZSA9PSBcIkRpc3B1dGVcIikge1xyXG4gICAgICAgICAgICBsZXQgZXh0cmFjdGVkRGF0YSA9IHN1bW1hcnkuc3VtbWFyeS5tYXRjaChkaXNwdXRlUmVnZXgpO1xyXG4gICAgICAgICAgICAvLyBub09mSW52b2ljZXMgPSBleHRyYWN0ZWREYXRhWzBdID8gZXh0cmFjdGVkRGF0YVswXS5tYXRjaCgvWzAtOV17MSx9LykgOiAwO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKCFub09mSW52b2ljZXMpIHtcclxuICAgICAgICAgICAgLy8gICAgIG5vT2ZJbnZvaWNlcyA9IDA7XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIGxldCByZWFzb25Db2RlID0gZXh0cmFjdGVkRGF0YVsxXSA/IGV4dHJhY3RlZERhdGFbMV0uc3Vic3RyaW5nKDExKSA6IFwiR2VuZXJhbCBEaXNwdXRlXCI7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXJlYXNvbkNvZGUpIHtcclxuICAgICAgICAgICAgICAgIHJlYXNvbkNvZGUgPSBcIkdlbmVyYWwgRGlzcHV0ZVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBhbGxJbnZvaWNlc1NlbGVjdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogaW52b2ljZUNoZWNrc01hcCxcclxuICAgICAgICAgICAgdG90YWxBbW91bnQ6IGV4dHJhY3RlZEFtb3VudCxcclxuICAgICAgICAgICAgaW52b2ljZUNvdW50OiB0aGlzLnByb3BzLmludm9pY2VDb3VudCxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlcyxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW5jb3JyZWN0RmxhZzogdGhpcy5wcm9wcy5pbmNvcnJlY3RGbGFnLFxyXG4gICAgICAgICAgICBpc01lc3NhZ2VEaWFsb2dPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIGludm9pY2VzOiB0aGlzLnByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBhbGxJbnZvaWNlczogdGhpcy5wcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgZXhlY3V0ZUFwcGVuZEludm9pY2U6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIC8vICAgICAvLyB0aGlzLnNldFN0YXRlKHtjb3JyZWN0SW52b2ljZXM6IG5leHRQcm9wcy5jb3JyZWN0SW52b2ljZXN9KTtcclxuICAgIC8vICAgICAvLyAgdGhpcy5zZXRTdGF0ZSh7Y29ycmVjdEludm9pY2VzOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzLGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcH0pXHJcblxyXG4gICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoe2NvcnJlY3RJbnZvaWNlczogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlcywgY29ycmVjdEludm9pY2VzTWFwOiBuZXh0UHJvcHMuY29ycmVjdEludm9pY2VzTWFwfSk7XHJcbiAgICAvLyB9XHJcbiAgICBzZXRTZWxlY3RlZEludm9pY2VzID0gKGludm9pY2VzKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkSW52b2ljZXM6IGludm9pY2VzIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0ZWRJbnZvaWNlc0xlbmd0aCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcztcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID0gMFxyXG4gICAgICAgIGZvciAobGV0IGkgaW4gc2VsZWN0ZWRJbnZvaWNlcykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc1tpXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEludm9pY2VzQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZWN0ZWRJbnZvaWNlc0NvdW50ID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJygnICsgc2VsZWN0ZWRJbnZvaWNlc0NvdW50ICsgJyknO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbHRlckludm9pY2VzID0gKGludm9pY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcyB9KTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcclxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkSW52b2ljZXMgPSBbXVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEFycmF5ID0gW11cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJEaXNwdXRlXCIgJiYgaW52b2ljZXNbaV1bal0uZGlzcHV0ZVN0YXR1cyAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlByZWRpY3RlZCBEZWxpbnF1ZW50XCIgJiYgaW52b2ljZXNbaV1bal0ucDJwRGVsaW5xdWVudCA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlVwY29taW5nIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycFVwY29taW5nID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGludm9pY2VUeXBlID09IFwiQnJva2VuIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycEJyb2tlbiA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkSW52b2ljZXMucHVzaCh0ZW1wQXJyYXkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVDaGVja2JveCA9IGlkID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGNoZWNrZWQgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGlkKTtcclxuICAgICAgICBsZXQgdXBkYXRlZENoZWNrYm94TWFwID0gdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xyXG4gICAgICAgIHVwZGF0ZWRDaGVja2JveE1hcC5zZXQoaWQsICFjaGVja2VkKTtcclxuICAgICAgICBsZXQgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzQ2hlY2tib3hNYXA6IHVwZGF0ZWRDaGVja2JveE1hcCB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGludm9pY2VLZXkgb2YgdXBkYXRlZENoZWNrYm94TWFwLmtleXMoKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlZENoZWNrYm94TWFwLmdldChpbnZvaWNlS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFsbEludm9pY2VzU2VsZWN0ZWQ6IGZsYWcgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUludm9pY2UgPSBpbnZvaWNlTnVtYmVyID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHRlbXAgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRlbXApIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PSBpbnZvaWNlTnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGVtcFtrZXldO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjaGVja2JveE1hcCA9IHRoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcDtcclxuICAgICAgICBjaGVja2JveE1hcC5kZWxldGUoaW52b2ljZU51bWJlcik7XHJcbiAgICAgICAgLy8gZm9yIChsZXQga2V5IG9mIGNoZWNrYm94TWFwKSB7XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAoa2V5ID09IE51bWJlcihpbnZvaWNlTnVtYmVyKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coa2V5KTtcclxuICAgICAgICAvLyAgICAgICAgIGNoZWNrYm94TWFwLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBjaGVja2JveE1hcCxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzOiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoaW52b2ljZSA9PiBpbnZvaWNlLmlkICE9IGludm9pY2VOdW1iZXIpLFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IHRlbXBcclxuICAgICAgICB9LFxyXG4gICAgICAgICAgICAoKSA9PiB7IHRoaXMudXBkYXRlSW52b2ljZXNUaGluZ3MoaW52b2ljZU51bWJlcik7IHRoaXMucHJvcHMudXBkYXRlSW52b2ljZXModGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMsIHRlbXApIH1cclxuICAgICAgICApXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVBbGxTZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGludm9pY2VNYXAgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XHJcbiAgICAgICAgICAgIGFsbEludm9pY2VzU2VsZWN0ZWQ6ICFwcmV2U3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZFxyXG4gICAgICAgIH0pLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGludm9pY2VLZXkgb2YgaW52b2ljZU1hcC5rZXlzKCkpIHtcclxuICAgICAgICAgICAgICAgIGludm9pY2VNYXAuc2V0KGludm9pY2VLZXksIHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlQ2hlY2tzTWFwOiBpbnZvaWNlTWFwIH0pO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUFsbFNlbGVjdGlvbiA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHRvRGVsZXRlSW52b2ljZXMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5maWx0ZXIoaW52b2ljZSA9PlxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGludm9pY2UuaWQudG9TdHJpbmcoKSkgPT0gdHJ1ZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICh0b0RlbGV0ZUludm9pY2VzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc01lc3NhZ2VEaWFsb2dPcGVuOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdXBkYXRlZEludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuZmlsdGVyKGludm9pY2UgPT5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpID09IGZhbHNlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VzQ2hlY2tib3hNYXAgPSB0aGlzLnN0YXRlLmludm9pY2VzQ2hlY2tib3hNYXA7XHJcbiAgICAgICAgbGV0IGludm9pY2VNYXAgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcclxuICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBpbnZvaWNlTGVuZ3RoID0gdXBkYXRlZEludm9pY2VzLmxlbmd0aDtcclxuICAgICAgICBsZXQgYWxsU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdG9EZWxldGVJbnZvaWNlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IGtleSA9IHRvRGVsZXRlSW52b2ljZXNbaV0uaWQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcC5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgZGVsZXRlIGludm9pY2VNYXBba2V5XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXM6IHVwZGF0ZWRJbnZvaWNlcyxcclxuICAgICAgICAgICAgLy8gaW52b2ljZUNvdW50OiB1cGRhdGVkSW52b2ljZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBpbnZvaWNlc0NoZWNrYm94TWFwOiBpbnZvaWNlc0NoZWNrYm94TWFwLFxyXG4gICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA6IGludm9pY2VNYXAsXHJcbiAgICAgICAgICAgIGludm9pY2VDb3VudDogaW52b2ljZUxlbmd0aCxcclxuICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW52b2ljZUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW52b2ljZSA9IHVwZGF0ZWRJbnZvaWNlc1tpXTtcclxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBpbnZvaWNlLmlkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gaW52b2ljZU1hcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnZvaWNlTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnZvaWNlID0gdXBkYXRlZEludm9pY2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IGludm9pY2UuaWQudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludm9pY2VzQ2hlY2tib3hNYXAuZ2V0KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmxhZywgYWxsSW52b2ljZXNTZWxlY3RlZDogYWxsU2VsZWN0ZWQgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZsYWcsIGludm9pY2VMZW5ndGgpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZUludm9pY2VzKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLCB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVNZXNzYWdlRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XHJcbiAgICAgICAgICAgIGlzTWVzc2FnZURpYWxvZ09wZW46ICFwcmV2U3RhdGUuaXNNZXNzYWdlRGlhbG9nT3BlbixcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICBvcGVuQWRkSW52b2ljZU1vZGFsID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWRkSW52b2ljZU1vZGFsOiB0cnVlIH0pXHJcbiAgICB9XHJcbiAgICBjbG9zZUFkZEludm9pY2VNb2RhbCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbkFkZEludm9pY2VNb2RhbDogZmFsc2UgfSlcclxuICAgIH1cclxuICAgIGFwcGVuZEludm9pY2VzID0gaW52b2ljZXMgPT4ge1xyXG4gICAgICAgIHZhciB0ZW1wTWFwID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXBcclxuICAgICAgICB2YXIgdGVtcEludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMuc2xpY2UoMClcclxuICAgICAgICB2YXIgdGVtcENoZWNrYm94SW52b2ljZU1hcCA9IHRoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwW3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzW2ldLmlkXSkge1xyXG4gICAgICAgICAgICAgICAgdGVtcEludm9pY2VzLnNwbGljZSh0ZW1wSW52b2ljZXMuaW5kZXhPZih0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXSksIDEpXHJcbiAgICAgICAgICAgICAgICB0ZW1wQ2hlY2tib3hJbnZvaWNlTWFwLmRlbGV0ZSh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc1tpXS5pZC50b1N0cmluZygpKVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29ycmVjdEludm9pY2VzOiB0ZW1wSW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDoge30sIGludm9pY2VzQ2hlY2tib3hNYXA6IHRlbXBDaGVja2JveEludm9pY2VNYXAgfSlcclxuICAgICAgICB0ZW1wTWFwID0ge31cclxuXHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnZvaWNlc1trZXldID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHRoaXMucHJvcHMuaW52b2ljZXMubGVuZ3RoOyBwKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcSA9IDA7IHEgPCB0aGlzLnByb3BzLmludm9pY2VzW3BdLmxlbmd0aDsgcSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmludm9pY2VzW3BdW3FdLmlkID09IGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEludm9pY2VzLnB1c2godGhpcy5wcm9wcy5pbnZvaWNlc1twXVtxXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0ZW1wTWFwW2tleV0gPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgIGxldCBpbnZvaWNlc0NoZWNrYm94TWFwID0gdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGludm9pY2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW52b2ljZXNba2V5XSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcC5zZXQoa2V5LnRvU3RyaW5nKCksIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzQ2hlY2tib3hNYXA6IGludm9pY2VzQ2hlY2tib3hNYXAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29ycmVjdEludm9pY2VzOiB0ZW1wSW52b2ljZXMsIGNvcnJlY3RJbnZvaWNlc01hcDogdGVtcE1hcCwgaW52b2ljZUNvdW50OiB0ZW1wSW52b2ljZXMubGVuZ3RoIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVJbnZvaWNlcyh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcywgdGVtcE1hcCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLnByb3BzLm9uVXBkYXRlSW52b2ljZSh0aGlzLnN0YXRlLmluY29ycmVjdEZsYWcsIHRlbXBJbnZvaWNlcy5sZW5ndGgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuQWRkSW52b2ljZU1vZGFsOiBmYWxzZSB9KVxyXG5cclxuICAgIH1cclxuICAgIHVwZGF0ZUludm9pY2VzVGhpbmdzID0gKGludm9pY2VOdW1iZXIpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGludm9pY2VNYXAgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcDtcclxuICAgICAgICAvLyBsZXQgYWxsSW52b2ljZXNMaXN0ID0gdGhpcy5wcm9wcy5hbGxJbnZvaWNlc0xpc3Q7XHJcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcclxuICAgICAgICBsZXQgaW52b2ljZXMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcztcclxuICAgICAgICBsZXQgaW52b2ljZUxlbmd0aCA9IGludm9pY2VzLmxlbmd0aDtcclxuICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtpbnZvaWNlTnVtYmVyXTtcclxuXHJcbiAgICAgICAgaWYgKGludm9pY2VMZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW5jb3JyZWN0RmxhZzogZmFsc2UsIGludm9pY2VDb3VudDogMCB9KTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZUludm9pY2UoZmFsc2UsIDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZWxldGUgaW52b2ljZU1hcFtpbnZvaWNlTnVtYmVyXTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvcnJlY3RJbnZvaWNlc01hcDogaW52b2ljZU1hcCB9LCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludm9pY2VMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGludm9pY2UgPSBpbnZvaWNlc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIShpbnZvaWNlLmlkIGluIGludm9pY2VNYXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbmNvcnJlY3RGbGFnOiBmbGFnLCBpbnZvaWNlQ291bnQ6IGludm9pY2VMZW5ndGggfSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25VcGRhdGVJbnZvaWNlKGZsYWcsIGludm9pY2VMZW5ndGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGF0ZUFtb3VudCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgYW1vdW50ID0gMDtcclxuICAgICAgICBsZXQgY29ycmVjdEludm9pY2VzID0gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXM7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBjb3JyZWN0SW52b2ljZXMpIHtcclxuICAgICAgICAgICAgYW1vdW50ICs9IChjb3JyZWN0SW52b2ljZXNbaV0uaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApID8gY29ycmVjdEludm9pY2VzW2ldLmN1cnJlbnRPcGVuQW1vdW50IDogMFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW1vdW50ID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXRDdXJyZW5jeVRvVVNGb3JtYXQoYW1vdW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuXHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj48TW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwic2ltcGxlLW1vZGFsLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cInNpbXBsZS1tb2RhbC1kZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3BlbkFkZEludm9pY2VNb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUFkZEludm9pY2VNb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e2dldE1vZGFsU3R5bGUodGhlbWUpfSBjbGFzc05hbWU9e2NsYXNzZXMucGFwZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW06IFwiY2VudGVyXCIsIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgICMzOTVDNzMgXCIsIHBhZGRpbmc6IFwiLjJyZW0gMCAuNnJlbSAwXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgbWFyZ2luTGVmdDogXCIxcmVtXCIsIGZvbnRTaXplOiBcIjEuM3JlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNjUgfX0+U2VsZWN0IGFuZCBBZGQgSW52b2ljZXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsZWFyIG9uQ2xpY2s9e3RoaXMuY2xvc2VBZGRJbnZvaWNlTW9kYWx9IHN0eWxlPXt7IHBvc2l0aW9uOiBcImZpeGVkXCIsIHJpZ2h0OiBcIjUlXCIsIG9wYWNpdHk6IDAuNjUsIGN1cnNvcjogXCJwb2ludGVyXCIsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RHVlRGV0YWlsIHNldFNlbGVjdGVkSW52b2ljZXM9e3RoaXMuc2V0U2VsZWN0ZWRJbnZvaWNlc30gcG9zdENhbGw9e3RydWV9IGFwcGVuZEludm9pY2VzPXt0aGlzLmFwcGVuZEludm9pY2VzfSBmaWx0ZXJJbnZvaWNlcz17dGhpcy5maWx0ZXJJbnZvaWNlc30gYnVja2V0TmFtZXM9e3RoaXMucHJvcHMuYnVja2V0TmFtZXN9IGludm9pY2VzPXt0aGlzLnN0YXRlLmludm9pY2VzfSBjb3JyZWN0SW52b2ljZXNNYXA9e3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwfT48L0R1ZURldGFpbD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgeHM9ezEyfSBqdXN0aWZ5PVwiZmxleC1lbmRcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgc3R5bGU9e3sgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCAjMzk1QzczXCIsIHBhZGRpbmdUb3A6IFwiLjZyZW1cIiB9fT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiY29udGFpbmVkXCIgY29sb3I9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9e2NsYXNzZXMuYnV0dG9ufSBvbkNsaWNrPXsoKSA9PiB0aGlzLmFwcGVuZEludm9pY2VzKHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlcyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTYXZlIHt0aGlzLnNlbGVjdGVkSW52b2ljZXNMZW5ndGgoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUhlYWRlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIHBhZGRpbmdUb3A6IFwiMC41cmVtXCIsIHBhZGRpbmdCb3R0b206IFwiMC41cmVtXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW52b2ljZUNvdW50ID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLCBwYWRkaW5nUmlnaHQ6IFwiMS41NnZ3XCIgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IHBhZGRpbmc6ICcwcHgnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy91bmNoZWNrZWRfaWNvbi5zdmcnfSAvPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5zdGF0ZS5hbGxJbnZvaWNlc1NlbGVjdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQWxsU2VsZWN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMucHJpbWFyeVRleHR9PiZuYnNwO1NlbGVjdCBhbGw8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lZFwiIGNvbG9yPVwic2Vjb25kYXJ5XCIgc2l6ZT0nc21hbGwnIHN0eWxlPXt7IGhlaWdodDogXCI0LjQ0dmhcIiwgcGFkZGluZ0xlZnQ6IFwiMC42NjZyZW1cIiwgcGFkZGluZ1JpZ2h0OiBcIjAuNjY2cmVtXCIgfX0gb25DbGljaz17dGhpcy5vcGVuQWRkSW52b2ljZU1vZGFsfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8QWRkIGNsYXNzTmFtZT17Y2xhc3Nlcy5hZGRJY29ufSAvPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICc0cHgnLCBtYXJnaW5SaWdodDogJzRweCcsIGZvbnRTaXplOiAnLjg5cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4gfX0+U2VsZWN0IEludm9pY2VzPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPEZhYiB2YXJpYW50PVwiY29udGFpbmVkXCIgc2l6ZT0nc21hbGwnIHN0eWxlPXt7IHdpZHRoOiBcIjM2cHhcIiwgaGVpZ2h0OiBcIjM2cHhcIiwgbWFyZ2luTGVmdDogXCIxMHB4XCIgfX0gb25DbGljaz17dGhpcy5kZWxldGVBbGxTZWxlY3Rpb259PjxSZW1vdmVDaXJjbGVPdXRsaW5lIHN0eWxlPXt7IHdpZHRoOiBcIjEuMGVtXCIsIGNvbG9yOiBcImdyYXlcIiB9fSAvPjwvRmFiPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lZFwiIGNvbG9yPVwic2Vjb25kYXJ5XCIgc2l6ZT0nc21hbGwnIHN0eWxlPXt7IGhlaWdodDogXCI0LjQ0dmhcIiwgbWFyZ2luTGVmdDogXCIxcmVtXCIsIHBhZGRpbmc6IFwiMCAwLjY2NnJlbVwiIH19IG9uQ2xpY2s9e3RoaXMuZGVsZXRlQWxsU2VsZWN0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZSBjbGFzc05hbWU9e2NsYXNzZXMuYWRkSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICc0cHgnLCBmb250U2l6ZTogJy44OXJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluIH19PlJlbW92ZTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUxpc3R9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb3JyZWN0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5wcmltYXJ5VGV4dH0+e3RoaXMuc3RhdGUuaW52b2ljZUNvdW50fSB7dGhpcy5zdGF0ZS5pbnZvaWNlQ291bnQgPiAxID8gXCJJbnZvaWNlcyBcIiA6IFwiSW52b2ljZSBcIn08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMuaW50ZW50VHlwZSA9PSBcIlAyUFwiIHx8IHRoaXMucHJvcHMuaW50ZW50VHlwZSA9PSBcIkRpc3B1dGVcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBvcGFjaXR5OiAwLjUgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLnByaW1hcnlUZXh0fT4mbmJzcDsoJHt0aGlzLmNhbGN1bGF0ZUFtb3VudCgpfSk8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pbmNvcnJlY3RGbGFnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgbWFyZ2luTGVmdDogXCIuNXJlbVwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXJyb3IgY2xhc3NOYW1lPXtjbGFzc2VzLmVycm9yRmxhZ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmNvcnJlY3Rpb25BbGVydH0+Q29ycmVjdGlvbiBSZXF1aXJlZCh7dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubGVuZ3RoIC0gT2JqZWN0LmtleXModGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApLmxlbmd0aH0pPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxMaXN0T2ZUaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlcz17dGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW52b2ljZXNNYXA9e3RoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcD17dGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU9e3RoaXMucHJvcHMuZG9uZX0vPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0IGNlbGxIZWlnaHQ9e1wiYXV0b1wifSBjbGFzc05hbWU9e2NsYXNzZXMuZ3JpZExpc3R9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzLm1hcChpbnZvaWNlID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGlzdFRpbGUgY29scz17MX0ga2V5PXtpbnZvaWNlLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogJ2F1dG8nLHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuNHJlbScgfX0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsoaW52b2ljZS5pZCBpbiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCkgPyAodGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IHRoaXMuc3RhdGUuYWxsSW52b2ljZXNTZWxlY3RlZCA/IGNsYXNzTmFtZXMoY2xhc3Nlcy5zZWxlY3RlZEdyaWRMaXN0RGl2LGNsYXNzZXMuZ3JpZExpc3REaXYpIDogY2xhc3Nlcy5ncmlkTGlzdERpdikgOiBjbGFzc2VzLmluY29ycmVjdERpdn0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggc3R5bGU9e3sgIHBhZGRpbmc6ICcycHgnLCBsZWZ0ICA6XCIzJVwiLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSWNvbj17PGltZyBjbGFzc05hbWU9e2NsYXNzZXMuY2hlY2tlZEljb259IHNyYz17Jy90b3ZvL3N0YXRpYy9jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IShpbnZvaWNlLmlkIGluIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRvZ2dsZUNoZWNrYm94KGludm9pY2UuaWQudG9TdHJpbmcoKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsanVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMC41LCBsaW5lSGVpZ2h0OiBcIjEuN3JlbVwiIH19PntpbnZvaWNlLmRvY3VtZW50TnVtYmVyfTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IHBhZGRpbmc6IFwiMFwiLCBmb250U2l6ZTogJzEuMTU2cmVtJywgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLGxpbmVIZWlnaHQ6IFwiMS43cmVtXCIgfX0+JHtpbnZvaWNlLmlkIGluIHRoaXMuc3RhdGUuY29ycmVjdEludm9pY2VzTWFwID8gZm9ybWF0dGVyKGludm9pY2UuY3VycmVudE9wZW5BbW91bnQpIDogXCItLS0tXCJ9PC9UeXBvZ3JhcGh5PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5kb25lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8RmFiIHZhcmlhbnQ9XCJjb250YWluZWRcIiBzaXplPSdzbWFsbCcgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZSBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLHdpZHRoOiBcImNhbGMoLjh2aCArIC44dncpXCIsIGhlaWdodDogXCJjYWxjKC44dmggKyAuOHZ3KVwiIH19IGNsYXNzTmFtZT17Y2xhc3Nlcy5hZGRJY29ufSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuZGVsZXRlSW52b2ljZShpbnZvaWNlLmlkKSB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC9GYWI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0VGlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGlzdD48L2Rpdj5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDxEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLmlzTWVzc2FnZURpYWxvZ09wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc3BvbnNpdmUtZGlhbG9nLXRpdGxlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgaWQ9XCJyZXNwb25zaXZlLWRpYWxvZy10aXRsZVwiPnttZXNzYWdlfTwvRGlhbG9nVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0FjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5oYW5kbGVNZXNzYWdlRGlhbG9nfSBjb2xvcj1cImRlZmF1bHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9LXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuQWN0aW9uRGV0YWlscy5wcm9wVHlwZXMgPSB7XHJcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG4vLyBleHBvcnQgZnVuY3Rpb24gZ2V0SW52b2ljZXMoKSB7XHJcblxyXG4vLyAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMpO1xyXG5cclxuLy8gICAgIGxldCBkb2N1bWVudE51bWJlcnMgPSB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlcy5tYXAoaW52b2ljZSA9PiB7XHJcbi8vICAgICAgICAgcmV0dXJuIGludm9pY2UuZG9jdW1lbnROdW1iZXI7XHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICBjb25zb2xlLmxvZyhcIkRPQ1VcIiwgZG9jdW1lbnROdW1iZXJzKTtcclxuXHJcbi8vICAgICByZXR1cm4gZG9jdW1lbnROdW1iZXJzO1xyXG4vLyB9XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkoQWN0aW9uRGV0YWlscylcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9BY3Rpb25EZXRhaWxzLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XHJcbmltcG9ydCB7IGZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2hlY2tib3gnO1xyXG5pbXBvcnQgR3JpZExpc3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3QnO1xyXG5pbXBvcnQgR3JpZExpc3RUaWxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWRMaXN0VGlsZSc7XHJcblxyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuXHJcbiAgICBncmlkTGlzdDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogJzAgLTJweCAtMnB4IC0ycHggIWltcG9ydGFudCcsXHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuICAgIH0sXHJcbiAgICBncmlkTGlzdERpdjoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICB3aWR0aDogXCIxNS40MXZ3XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjcuNDB2aFwiLFxyXG4gICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDFweFwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0ZWRHcmlkTGlzdERpdjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzk1ODZGXCIsXHJcbiAgICB9LFxyXG4gICAgZ3JpZExpc3RUaWxlOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcImF1dG8gIWltcG9ydGFudFwiXHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGludm9pY2VzQ2hlY2tib3hNYXA6IG5ldyBNYXAoKSxcclxuICAgIGNvcnJlY3RJbnZvaWNlc01hcDoge30sXHJcbiAgICBzZWxlY3RlZEludm9pY2VzOiBbXSxcclxuICAgIGludm9pY2VzOiBbXSxcclxuICAgIGRvbmU6IHRydWUsXHJcbiAgICBpbkludm9pY2VUYWJsZTogZmFsc2VcclxufTtcclxuXHJcbmNsYXNzIExpc3RPZlRpbGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaW52b2ljZXM6IHRoaXMucHJvcHMuaW52b2ljZXMsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkSW52b2ljZXM6IHRoaXMucHJvcHMuc2VsZWN0ZWRJbnZvaWNlcyxcclxuICAgICAgICAgICAgY29ycmVjdEludm9pY2VzTWFwOiB0aGlzLnByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogdGhpcy5wcm9wcy5pbnZvaWNlc0NoZWNrYm94TWFwXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbiAgICBhZGRJbnZvaWNlID0gKGlkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5hZGRJbnZvaWNlKGlkKVxyXG4gICAgfVxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaW52b2ljZXM6IG5leHRQcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgc2VsZWN0ZWRJbnZvaWNlczogbmV4dFByb3BzLnNlbGVjdGVkSW52b2ljZXMsXHJcbiAgICAgICAgICAgIGNvcnJlY3RJbnZvaWNlc01hcDogbmV4dFByb3BzLmNvcnJlY3RJbnZvaWNlc01hcCxcclxuICAgICAgICAgICAgaW52b2ljZXNDaGVja2JveE1hcDogbmV4dFByb3BzLmludm9pY2VzQ2hlY2tib3hNYXBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZSA9IChjb3JyZWN0SW52b2ljZXNNYXAsIGludm9pY2VzQ2hlY2tib3hNYXAsIGlkLCBzZWxlY3RlZEludm9pY2VzKSA9PiB7XHJcbiAgICAgICAgaWYgKCEoaW52b2ljZS5pZCBpbiB0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCkpXHJcbiAgICAgICAgICAgIHJldHVybiBjbGFzc2VzLmluY29ycmVjdERpdlxyXG4gICAgICAgIGlmIChpbnZvaWNlc0NoZWNrYm94TWFwLmdldChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpIHx8IHRoaXMuc3RhdGUuc2VsZWN0ZWRJbnZvaWNlc1tpbnZvaWNlLmlkXSlcclxuICAgICAgICAgICAgcmV0dXJuIGNsYXNzZXMuc2VsZWN0ZWRHcmlkTGlzdERpdlxyXG4gICAgICAgIHJldHVybiBjbGFzc2VzLmdyaWRMaXN0RGl2XHJcbiAgICB9XHJcbiAgICAvL1JlbmRlciBmdW5jdGlvbiBcclxuICAgIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8R3JpZExpc3QgY2VsbEhlaWdodD17XCJhdXRvXCJ9IGNsYXNzTmFtZT17Y2xhc3Nlcy5ncmlkTGlzdH0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXMubWFwKGludm9pY2UgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0VGlsZSBjb2xzPXsxfSBrZXk9e2ludm9pY2UuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTZ2dycsIG1hcmdpbjogJzAuNHJlbScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NPZkdyaWRMaXN0VGlsZSh0aGlzLnN0YXRlLmNvcnJlY3RJbnZvaWNlc01hcCwgdGhpcy5zdGF0ZS5pbnZvaWNlc0NoZWNrYm94TWFwLCBpbnZvaWNlLmlkLCB0aGlzLnN0YXRlLnNlbGVjdGVkSW52b2ljZXMpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghdGhpcy5wcm9wcy5kb25lKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IHN0eWxlPXt7IHBhZGRpbmc6ICcycHgnLCBsZWZ0OiBcIjMlXCIsIGFsaWduSXRlbXM6ICdjZW50ZXInLCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvdW5jaGVja2VkX2ljb24uc3ZnJ30gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEljb249ezxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmNoZWNrZWRJY29ufSBzcmM9eycvdG92by9zdGF0aWMvY2hlY2tlZF9pY29uLnN2Zyd9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshKGludm9pY2UuaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUuaW52b2ljZXNDaGVja2JveE1hcC5nZXQoaW52b2ljZS5pZC50b1N0cmluZygpKSB8fCB0aGlzLnN0YXRlLmFsbEludm9pY2VzU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy50b2dnbGVDaGVja2JveChpbnZvaWNlLmlkLnRvU3RyaW5nKCkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIG1hcmdpbkxlZnQ6ICcxdncnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogXCIwXCIsIGZvbnRTaXplOiBcIi44OXJlbVwiLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIG9wYWNpdHk6IDAuNSwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9fT57aW52b2ljZS5kb2N1bWVudE51bWJlcn08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiBcIjBcIiwgZm9udFNpemU6ICcxLjE1NnJlbScsIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgbGluZUhlaWdodDogXCIxLjdyZW1cIiB9fT4ke2ludm9pY2UuaWQgaW4gdGhpcy5zdGF0ZS5jb3JyZWN0SW52b2ljZXNNYXAgPyBmb3JtYXR0ZXIoaW52b2ljZS5jdXJyZW50T3BlbkFtb3VudCkgOiBcIi0tLS1cIn08L1R5cG9ncmFwaHk+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0aGlzLnByb3BzLmluSW52b2ljZVRhYmxlIHx8IHRoaXMucHJvcHMuZG9uZSApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8RmFiIHZhcmlhbnQ9XCJjb250YWluZWRcIiBzaXplPSdzbWFsbCcgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZSBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogXCIxMCVcIiwgdG9wOiBcIjI3JVwiLCB3aWR0aDogXCJjYWxjKC44dmggKyAuOHZ3KVwiLCBoZWlnaHQ6IFwiY2FsYyguOHZoICsgLjh2dylcIiB9fSBjbGFzc05hbWU9e2NsYXNzZXMuYWRkSWNvbn0gb25DbGljaz17KCkgPT4geyB0aGlzLmRlbGV0ZUludm9pY2UoaW52b2ljZS5pZCkgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwvRmFiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMaXN0VGlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9HcmlkTGlzdD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5MaXN0T2ZUaWxlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShMaXN0T2ZUaWxlKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvTGlzdE9mVGlsZS5qcyIsIi8qXHJcbioqXHJcbiogQ2xhc3MgTmFtZSBUQkRcclxuKiBUZW1wb3JhcnkgcGFya2luZyBhcyBGaW5hbC5qc1xyXG4qL1xyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XHJcbmltcG9ydCB7IFR5cG9ncmFwaHkgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XHJcbmltcG9ydCBJbmZvIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9JbmZvJztcclxuaW1wb3J0IEVtYWlsQm94IGZyb20gJy4uL2NvbXBvbmVudHMvRW1haWxCb3gnO1xyXG5pbXBvcnQgY29tYmluZVN0eWxlcyBmcm9tICcuLi91dGlscy9jb21iaW5lU3R5bGVzJztcclxuaW1wb3J0IGJhc2VTdHlsZSBmcm9tICcuLi91dGlscy9iYXNlU3R5bGUnO1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcblxyXG4gICAgc3VtbWFyeU5vdGVzQm94OiB7XHJcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjkwdmhcIixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICB9LFxyXG4gICAgc3VtbWFyeU5vdGVpdGVtczoge1xyXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiMWVtXCIsXHJcbiAgICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcclxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxyXG4gICAgICAgIG1heEhlaWdodDogXCI3NS41dmhcIixcclxuICAgIH0sXHJcbiAgICBzdW1tYXJ5Tm90ZXNIZWFkZXI6XHJcbiAgICB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiMS4wNjY2cmVtXCIsXHJcbiAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcclxuICAgICAgICBwYWRkaW5nVG9wOiBcIjIuMjJ2aFwiLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjEuMDI2dndcIixcclxuICAgICAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBvcGFjaXR5OiAwLjY1XHJcbiAgICB9LFxyXG4gICAgbm90ZXNMaXN0OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjBcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjEuN3JlbVwiXHJcbiAgICB9LFxyXG4gICAgZW1wdHlTdW1tYXJ5VGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGVtcHR5U3VtbWFyeUdyaWQ6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiMTV2aFwiLFxyXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcclxuICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxyXG4gICAgfSxcclxuICAgIHdhcm5pbmdMaW5lOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBmb250V2VpZ2h0OiA1MDAsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi44ZW1cIixcclxuICAgICAgICBvcGFjaXR5OiBcIjAuNjVcIixcclxuICAgIH0sXHJcbiAgICBpY29uOiB7XHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiLjV2d1wiXHJcbiAgICB9LFxyXG4gICAgaGlkZU92ZXJmbG93OiB7XHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBjb250YWN0SW5kZXggOiBudWxsLFxyXG4gICAgY3VzdG9tZXIgOiB7fSxcclxuICAgIGludm9pY2VMaXN0IDogW10sXHJcbiAgICBzdW1tYXJ5Tm90ZXMgOiBcIlwiLFxyXG4gICAgbmV4dEN1c3RvbWVyVXJsIDogbnVsbCxcclxuICAgIHRvQ2FsbEN1c3RvbWVycyA6IG51bGwsXHJcbiAgICBjb2xsZWN0b3IgOiB7fSxcclxuICAgIG5vbkFjdGlvbkluY2x1ZGVkIDogZmFsc2UsXHJcbn1cclxuXHJcbmNvbnN0IHByb3BUeXBlcyA9IHtcclxuICAgIGNvbnRhY3RJbmRleCA6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgICBjdXN0b21lciA6IFByb3BUeXBlcy5vYmplY3QsXHJcbiAgICBpbnZvaWNlTGlzdCA6IFByb3BUeXBlcy5hcnJheSxcclxuICAgIHN1bW1hcnlOb3RlcyA6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBuZXh0Q3VzdG9tZXJVcmwgOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgdG9DYWxsQ3VzdG9tZXJzIDogUHJvcFR5cGVzLm51bWJlcixcclxuICAgIGNvbGxlY3RvciA6IFByb3BUeXBlcy5vYmplY3QsXHJcbiAgICBjbGFzc2VzIDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICAgbm9uQWN0aW9uSW5jbHVkZWQgOiBQcm9wVHlwZXMuYm9vbFxyXG59XHJcblxyXG5cclxuY2xhc3MgRmluYWwgZXh0ZW5kcyBDb21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIC8vIGxvYWRpbmc6IHRydWUsICAgICAgICAgXHJcbiAgICAgICAgICAgIGVtYWlsSWRDaGlwczogW10sXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvL3VuY29tbWVudCB3aGVuIHlvdSByZXF1aXJlIGVtYWlsIHRlbXBsYXRlc1xyXG4gICAgICAgIC8vZ2V0IGVtYWlsIFRlbXBsYXRlc1xyXG4gICAgICAgIC8vIGNvcnJlc3BvbmRlbmNlU2VydmljZS5nZXRFbWFpbFRlbXBsYXRlcygpXHJcbiAgICAgICAgLy8gICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAvLyAgICAgICAgIHZhciBhcnIgPSBbXTtcclxuICAgICAgICAvLyAgICAgICAgIGFyciA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZXM6IGFyciB9LCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZU5hbWU6IGFyclswXS5uYW1lIH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IGFyclswXS5zdWJqZWN0IH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxUZW1wbGF0ZUJvZHk6IGFyclswXS5ib2R5IH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdGVtcGxhdGVJZDogYXJyWzBdLmlkIH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSlcclxuICAgICAgICAvLyAgICAgICAgIH0pXHJcbiAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgLy8gICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGluIGZldGNoaW5nIHRlbXBsYXRlc1wiKTtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlczogW10gfSwgKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KVxyXG4gICAgICAgIC8vICAgICAgICAgfSlcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlTmFtZTogXCJObyBUZW1wbGF0ZXMhXCIgfSk7XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdEVtYWlsSWRDaGlwcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERlZmF1bHRFbWFpbElkQ2hpcHMgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGNvbnRhY3RJbmRleCA9IHRoaXMucHJvcHMuY29udGFjdEluZGV4O1xyXG4gICAgICAgIGxldCBjb250YWN0cyA9IFtdO1xyXG4gICAgICAgIGlmIChjb250YWN0SW5kZXggIT0gbnVsbCAmJiB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0uZmlyc3ROYW1lICE9PSBcIlVubmFtZWRcIiAmJiB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0ubGFzdE5hbWUgIT09IFwiVW5uYW1lZFwiKSB7XHJcbiAgICAgICAgICAgIGxldCBmdWxsTmFtZSA9IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5maXJzdE5hbWUgK1xyXG4gICAgICAgICAgICAgICAgXCIgXCIgKyB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzW2NvbnRhY3RJbmRleF0ubGFzdE5hbWU7XHJcblxyXG4gICAgICAgICAgICBjb250YWN0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGtleTogMCxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBmdWxsTmFtZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsSWQ6IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbY29udGFjdEluZGV4XS5lbWFpbCxcclxuICAgICAgICAgICAgICAgIGlzVmFsaWRFbWFpbDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzRWRpdGluZyA6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsSWRDaGlwczogY29udGFjdHMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICBjb25zdCB7IGN1c3RvbWVyLCBjbGFzc2VzLCBzdW1tYXJ5Tm90ZXMsIHRoZW1lIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHJldHVybiAoXHJcblxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiB9fT5cclxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEyfSBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHBhZGRpbmc6IFwiMHB4IDhweCA4cHggOHB4XCIsXHJcbiAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs1fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezEyfSBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeU5vdGVzQm94fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlOb3Rlc0hlYWRlcn0+U1VNTUFSWSBOT1RFUzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW1zIGlkPVwic3VtbWFyeU5vdGVpdGVtc1wiIGNsYXNzTmFtZT17KCFzdW1tYXJ5Tm90ZXMgfHwgc3VtbWFyeU5vdGVzLmxlbmd0aCA9PSAwKSA/IGNsYXNzTmFtZXMoY2xhc3Nlcy5lbXB0eVN1bW1hcnlHcmlkLCBjbGFzc2VzLmNlbnRlckZsZXhCb3gpIDogY2xhc3Nlcy5zdW1tYXJ5Tm90ZWl0ZW1zfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghc3VtbWFyeU5vdGVzIHx8IHN1bW1hcnlOb3Rlcy5sZW5ndGggPT0gMCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMud2FybmluZ0xpbmV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluZm8gY2xhc3NOYW1lPXtjbGFzc2VzLmljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMuZW1wdHlTdW1tYXJ5VGV4dH0+VGhlcmUgaXMgbm8gc3VtbWFyeSBub3RlcyA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHN1bW1hcnlOb3RlcyAmJiAhc3VtbWFyeU5vdGVzLmxlbmd0aCA9PSAwKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPXtjbGFzc2VzLm5vdGVzTGlzdH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzLm1hcChub3RlID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgb3BhY2l0eTogMSwgZm9udFNpemU6IFwiMC44ODg4ODg4ODg4OHJlbVwiLCBtYXJnaW5Cb3R0b206IFwiMC44ODhyZW1cIiB9fT57bm90ZX08L1R5cG9ncmFwaHk+PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXs3fSBzdHlsZT17eyBwYWRkaW5nTGVmdDogXCIxLjA0MXZ3XCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxFbWFpbEJveFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeU5vdGVzID0ge3N1bW1hcnlOb3Rlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rvcj17dGhpcy5wcm9wcy5jb2xsZWN0b3J9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25BY3Rpb25JbmNsdWRlZD17dGhpcy5wcm9wcy5ub25BY3Rpb25JbmNsdWRlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsSWRDaGlwcz17dGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcj17dGhpcy5wcm9wcy5jdXN0b21lcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsQXR0YWNoZW1lbnRzPXt0aGlzLnByb3BzLmludm9pY2VMaXN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cclxuXHJcbiAgICAgICAgICAgICAgICA8L0dyaWQ+XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkZpbmFsLnByb3BUeXBlcyA9IHByb3BUeXBlc1xyXG5GaW5hbC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHNcclxuXHJcbmNvbnN0IGNvbWJpbmVkU3R5bGUgPSBjb21iaW5lU3R5bGVzKHN0eWxlcywgYmFzZVN0eWxlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoY29tYmluZWRTdHlsZSwgeyB3aXRoVGhlbWU6IHRydWUgfSkoRmluYWwpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92aWV3cy9GaW5hbC5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgeyBUeXBvZ3JhcGh5LCBUZXh0RmllbGQsIEJ1dHRvbiwgU2VsZWN0LCBNZW51SXRlbSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IElucHV0IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0lucHV0JztcclxuaW1wb3J0IHsgY29ycmVzcG9uZGVuY2VTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29ycmVzcG9uZGVuY2VTZXJ2aWNlJztcclxuaW1wb3J0IENsb3NlIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XHJcbmltcG9ydCBHcmlkTGlzdCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkTGlzdCc7XHJcbmltcG9ydCBHcmlkTGlzdFRpbGUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZExpc3RUaWxlJztcclxuaW1wb3J0IENoaXAgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2hpcCc7XHJcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbmFja2Jhcic7XHJcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b24nO1xyXG5pbXBvcnQgeyB2YWxpZGF0ZUVtYWlsIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVycy9lbWFpbEhlbHBlcic7XHJcbmltcG9ydCBDbG9zZUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Nsb3NlJztcclxuaW1wb3J0IHsgUEZBTWVzc2FnZSwgZGVmYXVsdEVtYWlsU3ViamVjdCB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgICBzdW1tYXJ5RW1haWxIZWFkZXI6IHtcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbDoge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxyXG4gICAgICAgIG1hcmdpblRvcDogXCIuMTI1cmVtXCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEuM3JlbVwiLFxyXG4gICAgICAgIGhlaWdodDogXCI3OXZoXCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbEZvcm06IHtcclxuICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbSAwLjVyZW0gMCAwLjVyZW1cIixcclxuICAgIH0sXHJcbiAgICBlbWFpbElkQ2hpcHNJbnB1dDoge1xyXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIwLjA2MjVyZW0gc29saWQgcmdiYSg5MywgMTcwLCAyMjQsIDAuNSlcIixcclxuICAgIH0sXHJcbiAgICBlbWFpbEFkZExhYmVsOiB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcclxuICAgICAgICBtYXJnaW5SaWdodDogXCIwLjNlbVwiLFxyXG4gICAgICAgIG9wYWNpdHk6IDAuNSxcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxyXG4gICAgfSxcclxuICAgIGVtYWlsSWRDaGlwczoge1xyXG4gICAgICAgIGhlaWdodDogXCIxLjRlbVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMC4xNzc3cmVtXCIsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjAuMTc3N3JlbVwiLFxyXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuMmVtXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICBcIiY+IHNwYW5cIjoge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcclxuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4zcmVtXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnJjpob3ZlciwgJjpmb2N1cyc6IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJyY6YWN0aXZlJzoge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkRW1haWxJZENoaXBzOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjEuNGVtXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44ODhyZW1cIixcclxuICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjE3NzdyZW1cIixcclxuICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMC4xNzc3cmVtXCIsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4yZW1cIixcclxuICAgICAgICBcIiY+IHNwYW5cIjoge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjlyZW1cIixcclxuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMC4zcmVtXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmNDQ0NFwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcclxuICAgICAgICAnJjpob3ZlciwgJjpmb2N1cyc6IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNzM4MzhcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgICcmOmFjdGl2ZSc6IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNzM4MzhcIixcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIHJlbW92ZUVtYWlsSWQ6IHtcclxuICAgICAgICBmb250U2l6ZTogXCIwLjhlbVwiLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGVtYWlsSWRJbnB1dDoge1xyXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjAuMzEyNXJlbVwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjk1JVwiLFxyXG4gICAgICAgIHJlc2l6ZTogXCJob3Jpem9udGFsXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOXJlbVwiXHJcbiAgICB9LFxyXG4gICAgZW1haWxTdWJqZWN0OiB7XHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjAuMDYyNXJlbSBzb2xpZCByZ2JhKDkzLCAxNzAsIDIyNCwgMC41KVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgICcmOjpwbGFjZWhvbGRlcic6IHtcclxuICAgICAgICAgICAgY29sb3I6ICcjYTdhN2E3J1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkaXNhYmxlZFN1YmplY3RJbnB1dDoge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuODg4cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbEJvZHk6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiNjB2aFwiLFxyXG4gICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXHJcbiAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxyXG4gICAgfSxcclxuICAgIGVtYWlsQm9keVRleHQ6IHtcclxuICAgICAgICBtYXJnaW5Ub3A6IFwiMC45cmVtXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluICsgXCIgIWltcG9ydGFudFwiXHJcbiAgICB9LFxyXG4gICAgaW52b2ljZUNvdW50OiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuOHJlbVwiLFxyXG4gICAgfSxcclxuICAgIGludm9pY2VBdHRhY2hlbWVudHM6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiMTB2aFwiLFxyXG4gICAgfSxcclxuICAgIGdyaWRMaXN0RGl2OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGJvcmRlcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiArIFwiIHNvbGlkIDAuMDYyNXJlbVwiLFxyXG4gICAgICAgIHBhZGRpbmc6ICcwLjI1cmVtJyxcclxuICAgICAgICBib3JkZXJSYWRpdXM6ICcwLjI1cmVtJ1xyXG4gICAgfSxcclxuICAgIHN1bW1hcnlFbWFpbEZvb3Rlcjoge1xyXG4gICAgICAgIGhlaWdodDogXCI3LjR2aFwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvdy1yZXZlcnNlXCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiICMyYzQxNGY7XCJcclxuICAgIH0sXHJcbiAgICBzZW5kU3VtbWFyeUVtYWlsQnRuOiB7XHJcbiAgICAgICAgaGVpZ2h0OiAnMmVtJyxcclxuICAgICAgICB3aWR0aDogJzZlbScsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMS4ycmVtXCIsXHJcbiAgICAgICAgZm9udFNpemU6ICdzbWFsbGVyJyxcclxuICAgICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGRpc2FibGVJY29uOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJub25lXCIsXHJcbiAgICB9LFxyXG4gICAgbm90ZXNMaXN0OiB7XHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjBcIixcclxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjEuN3JlbVwiXHJcbiAgICB9LFxyXG4gICAgZW1wdHlTdW1tYXJ5VGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGVtcHR5U3VtbWFyeUdyaWQ6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiMTV2aFwiLFxyXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcclxuICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxyXG4gICAgfSxcclxuICAgIHdhcm5pbmdMaW5lOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBmb250V2VpZ2h0OiA1MDAsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIi44ZW1cIixcclxuICAgICAgICBvcGFjaXR5OiBcIjAuNjVcIixcclxuICAgIH0sXHJcbiAgICBpY29uOiB7XHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiLjV2d1wiXHJcbiAgICB9LFxyXG4gICAgaGlkZU92ZXJmbG93OiB7XHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBzdW1tYXJ5Tm90ZXM6IFwiXCIsXHJcbiAgICBjb2xsZWN0b3I6IHt9LFxyXG4gICAgbm9uQWN0aW9uSW5jbHVkZWQ6IGZhbHNlLFxyXG4gICAgZW1haWxJZENoaXBzOiBbXSxcclxuICAgIGN1c3RvbWVyOiB7fSxcclxuICAgIGVtYWlsQXR0YWNoZW1lbnRzOiBbXVxyXG59XHJcblxyXG5jb25zdCBwcm9wVHlwZXMgPSB7XHJcbiAgICBzdW1tYXJ5Tm90ZXM6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBjb2xsZWN0b3I6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIG5vbkFjdGlvbkluY2x1ZGVkOiBQcm9wVHlwZXMuYm9vbCxcclxuICAgIGVtYWlsSWRDaGlwczogUHJvcFR5cGVzLmFycmF5LFxyXG4gICAgY3VzdG9tZXI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgIGVtYWlsQXR0YWNoZW1lbnRzOiBQcm9wVHlwZXMuYXJyYXksXHJcbn07XHJcblxyXG5cclxuY2xhc3MgRW1haWxCb3ggZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5lbWFpbEFkZCA9IFJlYWN0LmNyZWF0ZVJlZigpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGVtYWlsSWRDaGlwczogdGhpcy5wcm9wcy5lbWFpbElkQ2hpcHMsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlSWQ6IC0xLFxyXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlU3ViamVjdDogZGVmYXVsdEVtYWlsU3ViamVjdCxcclxuICAgICAgICAgICAgZW1haWxTZW50OiBmYWxzZSxcclxuICAgICAgICAgICAgZW1haWxCb2R5SGVpZ2h0OiAxMixcclxuICAgICAgICAgICAgZW1haWxBdHRhY2hlbWVudHM6IHRoaXMucHJvcHMuZW1haWxBdHRhY2hlbWVudHMsXHJcbiAgICAgICAgICAgIHNuYWNrQmFyT3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNuYWNrQmFyTWVzc2FnZTogXCJcIixcclxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZU5hbWU6IFwiXCIsXHJcbiAgICAgICAgICAgIGVtYWlsVGVtcGxhdGVCb2R5OiBcIlwiLFxyXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlczogW10sXHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdEJvZHkoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2VtYWlsSWRDaGlwcyA6IG5leHRQcm9wcy5lbWFpbElkQ2hpcHN9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsZSBmdW5jdGlvbiBmb3IgY2hhbmdlIGluIHRlbXBsYXRlIHNlbGVjdGlvblxyXG4gICAgaGFuZGxlVGVtcGxhdGVDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsVGVtcGxhdGVOYW1lOiBldmVudC50YXJnZXQudmFsdWUgfSk7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZXM7XHJcblxyXG4gICAgICAgIC8vY2hlY2sgaWYgbm8gdGVtcGxhdGUgaXMgc2VsZWN0ZWRcclxuXHJcbiAgICAgICAgLy90aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVzLmZvckVhY2goZnVuY3Rpb24gKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wbGF0ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGVtcGxhdGVbaV0ubmFtZSA9PSBldmVudC50YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlU3ViamVjdDogdGVtcGxhdGVbaV0uc3ViamVjdCB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlQm9keTogdGVtcGxhdGVbaV0uYm9keSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0ZW1wbGF0ZUlkOiB0ZW1wbGF0ZVtpXS5pZCB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIG9uIHByZXNzaW5nIGVudGVyIGtleSBhZnRlciBlbWFpbCBpZCBhZGRpdGlvblxyXG4gICAgaGFuZGxlRW1haWxFbnRlciA9IGV2ZW50ID0+IHtcclxuICAgICAgICBpZiAoKGV2ZW50LnR5cGUgPT09ICdibHVyJyB8fCBldmVudC5rZXkgPT09ICdFbnRlcicpICYmIGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCkpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vcmVndWxhciBleHByZXNzaW9uIC0gdG8gY2hlY2sgQGhvc3QuZG9tYWluXHJcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy92YWxpZGF0ZSB0aGUgZW50ZXJlZCBlbWFpbCBpZFxyXG4gICAgICAgICAgICBsZXQgaXNWYWxpZEVtYWlsID0gdmFsaWRhdGVFbWFpbChldmVudC50YXJnZXQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVtYWlsQXJyID0gdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHM7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBrZXk6IGVtYWlsQXJyLmxlbmd0aCwgbGFiZWw6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsSWQ6IGV2ZW50LnRhcmdldC52YWx1ZSwgaXNWYWxpZEVtYWlsOiBpc1ZhbGlkRW1haWwsXHJcbiAgICAgICAgICAgICAgICBpc0VkaXRpbmcgOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBlbWFpbEFyci5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0b0FkZHI6IGVtYWlsQXJyIH0pO1xyXG4gICAgICAgICAgICBldmVudC50YXJnZXQudmFsdWUgPSBcIlwiO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvL2hhbmRsZSBmdW5jdGlvbiB3aGVuIGVtYWlsSWQgY2hpcCBpcyByZW1vdmVkXHJcbiAgICBoYW5kbGVFbWFpbElkRGVsZXRlID0gZGF0YSA9PiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5lbWFpbEFkZC5jdXJyZW50LmZvY3VzKCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVtYWlsSWRDaGlwcyA9IFsuLi5zdGF0ZS5lbWFpbElkQ2hpcHNdO1xyXG4gICAgICAgICAgICBjb25zdCBjaGlwVG9EZWxldGUgPSBlbWFpbElkQ2hpcHMuaW5kZXhPZihkYXRhKTtcclxuICAgICAgICAgICAgZW1haWxJZENoaXBzLnNwbGljZShjaGlwVG9EZWxldGUsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4geyBlbWFpbElkQ2hpcHMgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgc3ViamVjdFxyXG4gICAgaGFuZGxlU3ViamVjdENoYW5nZSA9IGV2ZW50ID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZW1haWxUZW1wbGF0ZVN1YmplY3Q6IGV2ZW50LnRhcmdldC52YWx1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvbiBjaGFuZ2UgaW4gZW1haWwgYm9keVxyXG4gICAgaGFuZGxlRW1haWxCb2R5Q2hhbmdlID0gZXZlbnQgPT4ge1xyXG4gICAgICAgIGxldCBuZXdNYXhIZWlnaHQgPSBNYXRoLnJvdW5kKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbEJvZHknKS5zY3JvbGxIZWlnaHQpO1xyXG4gICAgICAgIGlmIChuZXdNYXhIZWlnaHQgPD0gMTIpIHtcclxuICAgICAgICAgICAgbmV3TWF4SGVpZ2h0ID0gMTI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBlbWFpbFRlbXBsYXRlQm9keTogZXZlbnQudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICBlbWFpbEJvZHlIZWlnaHQ6IG5ld01heEhlaWdodFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlbW92ZSBhdHRhY2hlbWVudCBmcm9tIGVtYWlsXHJcbiAgICByZW1vdmVBdHRhY2hlbWVudCA9IGRvY3VtZW50TnVtYmVyID0+IHtcclxuICAgICAgICB2YXIgY3VyckF0dGFjaGVtZW50cyA9IHRoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHM7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyQXR0YWNoZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyQXR0YWNoZW1lbnRzW2ldLmlkID09IGRvY3VtZW50TnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyQXR0YWNoZW1lbnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbEF0dGFjaGVtZW50czogY3VyckF0dGFjaGVtZW50cyB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVRvRWRpdCA9IChpbmRleCkgPT4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0ZW1wRW1haWxJZGNoaXBzID0gdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHNcclxuICAgICAgICB0ZW1wRW1haWxJZGNoaXBzW2luZGV4XS5pc0VkaXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2VtYWlsSWRDaGlwcyA6IHRlbXBFbWFpbElkY2hpcHN9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVFZGl0RW1haWwgPSAoaW5kZXgsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKChldmVudC50eXBlID09PSAnYmx1cicgfHwgZXZlbnQua2V5ID09PSAnRW50ZXInKSAmJiBldmVudC50YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgLy9yZWd1bGFyIGV4cHJlc3Npb24gLSB0byBjaGVjayBAaG9zdC5kb21haW5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3ZhbGlkYXRlIHRoZSBlbnRlcmVkIGVtYWlsIGlkXHJcbiAgICAgICAgICAgIGxldCBpc1ZhbGlkRW1haWwgPSB2YWxpZGF0ZUVtYWlsKGV2ZW50LnRhcmdldC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdGVtcEVtYWlsSWRDaGlwcyA9IHRoaXMuc3RhdGUuZW1haWxJZENoaXBzO1xyXG4gICAgICAgICAgICB0ZW1wRW1haWxJZENoaXBzW2luZGV4XS52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICAgICAgdGVtcEVtYWlsSWRDaGlwc1tpbmRleF0uaXNWYWxpZEVtYWlsID0gaXNWYWxpZEVtYWlsXHJcbiAgICAgICAgICAgIHRlbXBFbWFpbElkQ2hpcHNbaW5kZXhdLmlzRWRpdGluZyA9IGZhbHNlXHJcblxyXG4gICAgICAgICAgICAvLyB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAvLyAgICAga2V5OiBlbWFpbEFyci5sZW5ndGgsIGxhYmVsOiBldmVudC50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgIC8vICAgICBlbWFpbElkOiBldmVudC50YXJnZXQudmFsdWUsIGlzVmFsaWRFbWFpbDogaXNWYWxpZEVtYWlsLFxyXG4gICAgICAgICAgICAvLyAgICAgaXNFZGl0aW5nIDogZmFsc2VcclxuICAgICAgICAgICAgLy8gfTtcclxuICAgICAgICAgICAgLy8gZW1haWxBcnIucHVzaChvYmopO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG9BZGRyOiB0ZW1wRW1haWxJZENoaXBzIH0pO1xyXG4gICAgICAgICAgICAvLyBldmVudC50YXJnZXQudmFsdWUgPSBcIlwiO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9IFxyXG5cclxuICAgIGhhbmRsZUNoYW5nZSA9IChpbmRleCxldmVudCkgPT4ge1xyXG4gICAgICAgIGxldCB0ZW1wRW1haWxJZENoaXBzID0gdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHM7XHJcbiAgICAgICAgdGVtcEVtYWlsSWRDaGlwc1tpbmRleF0udmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZW1haWxJZENoaXBzIDogdGVtcEVtYWlsSWRDaGlwc30pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlbmQgcG9zdCBjYWxsIHN1bW1hcnkgZW1haWxcclxuICAgIHNlbmRTdW1tYXJ5RW1haWwgPSAoKSA9PiB7XHJcbiAgICAgICAgLy9JbnZvaWNlIGRvY3VtZW50IGlkcyBcclxuICAgICAgICB2YXIgZG9jdW1lbnRJRHMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZG9jdW1lbnRJRHMucHVzaCh0aGlzLnN0YXRlLmVtYWlsQXR0YWNoZW1lbnRzW2ldLmlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9pZiBubyB0b0FkZHIgaXMgcHJlc2VudCwgc2hvdyBpbiBzbmFjayBiYXJcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIlBsZWFzZSBzcGVjaWZ5IGF0IGxlYXN0IG9uZSByZWNpcGllbnQuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vdG8gZW1haWwgYWRkcmVzc2VzIFxyXG4gICAgICAgIHZhciB0b0FkZHIgPSBcIlwiO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuZW1haWxJZENoaXBzW2ldLmlzVmFsaWRFbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgdG9BZGRyICs9IHRoaXMuc3RhdGUuZW1haWxJZENoaXBzW2ldLmVtYWlsSWQgKyBcIixcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL3JlbW92ZSBsYXN0IGNvbW1hXHJcbiAgICAgICAgdmFyIHBvcyA9IHRvQWRkci5sYXN0SW5kZXhPZihcIixcIik7XHJcbiAgICAgICAgdG9BZGRyID0gdG9BZGRyLnNsaWNlKDAsIHBvcyk7XHJcbiAgICAgICAgbGV0IGVtYWlsQm9keSA9IHRoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZUJvZHk7XHJcbiAgICAgICAgZW1haWxCb2R5ID0gZW1haWxCb2R5LnJlcGxhY2UoL1xcbi9nLCAnPGJyIC8+Jyk7XHJcbiAgICAgICAgLy8gQ3JlYXRpbmcgcmVxdWVzdCBlbWFpbCBvYmplY3RcclxuICAgICAgICBsZXQgZW1haWxPYmogPSB7XHJcbiAgICAgICAgICAgIGJvZHk6IGVtYWlsQm9keSxcclxuICAgICAgICAgICAgc3ViamVjdDogdGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlU3ViamVjdCxcclxuICAgICAgICAgICAgLy8gY29yclR5cGVJZDogdGhpcy5zdGF0ZS50ZW1wbGF0ZUlkLCAgICAvLyB3aGF0ICBpZiB0ZW1wbGF0ZXMgYXJlIG5vdCBmZXRjaGVkLiBcclxuICAgICAgICAgICAgY3VzdG9tZXJJZDogdGhpcy5wcm9wcy5jdXN0b21lci5pZCxcclxuICAgICAgICAgICAgZG9jdW1lbnRJZHM6IGRvY3VtZW50SURzLFxyXG4gICAgICAgICAgICBmcm9tOiB0aGlzLnByb3BzLmNvbGxlY3Rvci5lbWFpbElkLCAgLy9nZXQgZnJvbSBjb2xsZWN0b3IgcHJvZmlsZVxyXG4gICAgICAgICAgICB0bzogdG9BZGRyLCAgLy9nZXQgZnJvbSBDb250YWN0IG9iamVjdC5cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIE1ha2luZyBhIHBvc3QgY2FsbCBmb3Igc2VuZGluZyBlbWFpbHNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiB0cnVlIH0pXHJcbiAgICAgICAgY29ycmVzcG9uZGVuY2VTZXJ2aWNlLnNlbmRDYWxsU3VtbWFyeShlbWFpbE9iailcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVtYWlsIHNlbnRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9kaXNhYmxlIHRvIHRoZSBjb21wb25lbnQgdG8gcmVhZCBvbmx5IG1vZGUuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1haWxTZW50OiBmYWxzZSB9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tCYXJXaXRoTWVzc2FnZShcIkVycm9yIGluIHNlbmRpbmcgZW1haWxcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBPcGVuIHNuYWNrIGJhciB3aXRoIG1lc3NhZ2VcclxuICAgIG9wZW5TbmFja0JhcldpdGhNZXNzYWdlID0gbWVzc2FnZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyTWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc25hY2tCYXJPcGVuOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsb3NlIHNuYWNrIGJhciB1c2luZyBjcm9zcyBidXR0b25cclxuICAgIGNsb3NlU25hY2tiYXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrQmFyT3BlbjogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGVmYXVsdEJvZHkgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBjb2xsZWN0b3IsIHN1bW1hcnlOb3Rlcywgbm9uQWN0aW9uSW5jbHVkZWQgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgbGV0IGludm9pY2VTdHJpbmcgPSAodGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGggPiAwKSA/IHsgUEZBTWVzc2FnZSB9IDogXCJcIjtcclxuICAgICAgICBsZXQgc3VtbWFyeVN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgbGV0IGZpcnN0TmFtZSA9IGNvbGxlY3Rvci5maXJzdE5hbWUgPyB0aGlzLnByb3BzLmNvbGxlY3Rvci5maXJzdE5hbWUgOiBcIlwiXHJcbiAgICAgICAgbGV0IGxhc3ROYW1lID0gY29sbGVjdG9yLmxhc3ROYW1lID8gdGhpcy5wcm9wcy5jb2xsZWN0b3IubGFzdE5hbWUgOiBcIlwiXHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzdW1tYXJ5Tm90ZXMpIHtcclxuICAgICAgICAgICAgaWYgKChpID09IHN1bW1hcnlOb3Rlcy5sZW5ndGggLSAxKSAmJiBub25BY3Rpb25JbmNsdWRlZCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3VtbWFyeVN0cmluZyArPSAoc3VtbWFyeU5vdGVzW2ldLnRyaW0oKSkgPyBcIlxcblxcdTIwMjIgXCIgKyBzdW1tYXJ5Tm90ZXNbaV0gOiBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdW1tYXJ5U3RyaW5nID0gKHN1bW1hcnlTdHJpbmcpID8gYFxcblBsZWFzZSBmaW5kIGJlbG93IHRoZSBzdW1tYXJ5IG9mIG91ciBjb252ZXJzYXRpb246XFxuJHtzdW1tYXJ5U3RyaW5nfVxcblxcbiR7aW52b2ljZVN0cmluZ31cXG5gIDogXCJcIjtcclxuICAgICAgICBsZXQgZW1haWxCb2R5ID0gKHN1bW1hcnlTdHJpbmcpID8gYEdyZWV0aW5ncyxcXG4ke3N1bW1hcnlTdHJpbmd9XFxuUmVnYXJkcyxcXG4ke2ZpcnN0TmFtZSArIFwiIFwiICsgbGFzdE5hbWV9YCA6IFwiXCI7XHJcbiAgICAgICAgbGV0IG5ld0xpbmVDb3VudCA9IChlbWFpbEJvZHkubWF0Y2goL1xcbi9nKSB8fCBbXSkubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbWFpbFRlbXBsYXRlQm9keTogZW1haWxCb2R5LCBlbWFpbEJvZHlIZWlnaHQ6IG5ld0xpbmVDb3VudCArIDEgfSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeUVtYWlsSGVhZGVyfT5cclxuICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBmb250U2l6ZTogXCIxLjA2NjY2cmVtXCIsIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsIGNvbG9yOiBcIiNmZmZmZmZcIiwgb3BhY2l0eTogMC42NSwgcGFkZGluZ0JvdHRvbTogXCIwLjJlbVwiLCB9fT5TRU5EIFNVTU1BUlkgTUFJTDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICB7LyogVW5jb21tZW50IHRoaXMgdG8gZ2V0IHRlbXBsYXRlIHNlbGVjdG9yIGRyb3AgZG93biAqL31cclxuICAgICAgICAgICAgICAgICAgICB7LyogPFR5cG9ncmFwaHkgc3R5bGU9e3sgZm9udFNpemU6IFwiMC42ZW1cIiwgZm9udFdlaWdodDogXCJub3JtYWxcIiwgY29sb3I6IFwiI2ZmZmZmZlwiIH19PlN1bW1hcnkgVGVtcGxhdGUgMTwvVHlwb2dyYXBoeT4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgey8qIDxTZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbFRlbXBsYXRlTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVUZW1wbGF0ZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuZW1haWxUZW1wbGF0ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdlbWFpbFRlbXBsYXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRlbXBsYXRlU2VsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5lbWFpbFNlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJY29uQ29tcG9uZW50PXtBcnJvd0Ryb3BEb3dufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPiovfVxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiA8TWVudUl0ZW0gdmFsdWU9XCJcIj5ObyBUZW1wbGF0ZXMhPC9NZW51SXRlbT4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgey8qIHt0aGlzLnN0YXRlLmVtYWlsVGVtcGxhdGVzLm1hcCh0ZW1wbGF0ZXMgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0ZW1wbGF0ZXMubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RlbXBsYXRlcy5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+ICovfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdW1tYXJ5RW1haWx9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnN1bW1hcnlFbWFpbEZvcm19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogPEZvcm1Db250cm9sIGZ1bGxXaWR0aCBjbGFzc05hbWU9e2NsYXNzZXMubWFyZ2lufT4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsSWRDaGlwc0lucHV0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5lbWFpbEFkZExhYmVsfT5UbyA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lbWFpbElkQ2hpcHMubWFwKChlbWFpbCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsLmlzRWRpdGluZyA/XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbktleVByZXNzPXsgKGUpID0+ICB0aGlzLmhhbmRsZUVkaXRFbWFpbChpbmRleCwgZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlID0geyhlKSA9PiB7dGhpcy5oYW5kbGVDaGFuZ2UoaW5kZXgsZSl9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHtlbWFpbC5sYWJlbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gdGhpcy5oYW5kbGVFZGl0RW1haWwoaW5kZXgsIGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuZW1haWxJZElucHV0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hpcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2VtYWlsLmtleX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2VtYWlsLmxhYmVsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2VtYWlsLmlzVmFsaWRFbWFpbCA/IGNsYXNzZXMuZW1haWxJZENoaXBzIDogY2xhc3Nlcy5pbnZhbGlkRW1haWxJZENoaXBzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVJY29uPXs8Q2xvc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17IXRoaXMuc3RhdGUuZW1haWxTZW50ID8gY2xhc3Nlcy5yZW1vdmVFbWFpbElkIDogY2xhc3Nlcy5kaXNhYmxlSWNvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9kbyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xpY2thYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uQ2xpY2s9IHsgKGUpID0+ICB0aGlzLnRvZ2dsZVRvRWRpdChpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlPXt0aGlzLmhhbmRsZUVtYWlsSWREZWxldGUoZW1haWwpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IGNsaWNrYWJsZTogZW1haWwuaXNWYWxpZEVtYWlsID8gY2xhc3Nlcy5lbWFpbElkQ2hpcHMgOiBjbGFzc2VzLmludmFsaWRFbWFpbElkQ2hpcHMgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleVByZXNzPXt0aGlzLmhhbmRsZUVtYWlsRW50ZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyPXt0aGlzLmhhbmRsZUVtYWlsRW50ZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5lbWFpbElkSW5wdXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZT17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5lbWFpbFNlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRSZWY9e3RoaXMuZW1haWxBZGR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGg9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiMSVcIiwgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU3ViamVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IGRpc2FibGVkOiBjbGFzc2VzLmRpc2FibGVkU3ViamVjdElucHV0IH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuZW1haWxTdWJqZWN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZVN1YmplY3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVTdWJqZWN0Q2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZT17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmVtYWlsU2VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeUVtYWlsQm9keX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJlbWFpbEJvZHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aWxpbmU9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWxUZW1wbGF0ZUJvZHl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRW1haWxCb2R5Q2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezEyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIndoaXRlXCIsIG92ZXJmbG93OiBcImhpZGRlblwiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c01heD17dGhpcy5zdGF0ZS5lbWFpbEJvZHlIZWlnaHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmVtYWlsQm9keVRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17e319XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRQcm9wcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5kZXJsaW5lOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCJ3aGl0ZVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHsgaW5wdXQ6IGNsYXNzZXMuaGlkZU92ZXJmbG93IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmVtYWlsU2VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlQXR0YWNoZW1lbnRzfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGggPiAwICYmXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5pbnZvaWNlQ291bnR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgY29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sIGZvbnRTaXplOiBcIjAuOTc3N1wiIH19Pkludm9pY2UgQXR0YWNoZW1lbnRzICh7dGhpcy5zdGF0ZS5lbWFpbEF0dGFjaGVtZW50cy5sZW5ndGh9KTwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGlzdCBjZWxsSGVpZ2h0PXtcImF1dG9cIn0gY2xhc3NOYW1lPXtjbGFzc2VzLmdyaWRMaXN0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZW1haWxBdHRhY2hlbWVudHMubWFwKGludm9pY2UgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMaXN0VGlsZSBjb2xzPXsxfSBrZXk9e2ludm9pY2UuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnYXV0bycsIHdpZHRoOiAnMTIuNXJlbScsIHBhZGRpbmc6ICcwLjI1cmVtJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5ncmlkTGlzdERpdn0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIG1hcmdpbkxlZnQ6ICcwLjM3NXJlbScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBwYWRkaW5nOiAnMC4yNXJlbScsIGZvbnRTaXplOiAnMC44ODhyZW0nLCBvcGFjaXR5OiAwLjY1LCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gfX0+e2ludm9pY2UuZG9jdW1lbnROdW1iZXJ9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgcGFkZGluZzogJzAuMjVyZW0nLCBmb250U2l6ZTogJzFyZW0nLCBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gfX0+JCB7aW52b2ljZS5jdXJyZW50T3BlbkFtb3VudH08L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGlzdFRpbGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExpc3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuc3VtbWFyeUVtYWlsRm9vdGVyfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qVW5jb21tZW50IHRoaXMgdG8gYWRkIGludm9pY2VzIGluIHRoaXMgc2NyZWVuICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuYXR0YWNoSW52b2ljZXNCdG59PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuYXR0YWNoSW52b2ljZUxhYmVsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5hZGRJbnZvaWNlQXR0YWNoZW1lbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF0dGFjaCBJbnZvaWNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5zZW5kU3VtbWFyeUVtYWlsQnRufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZW5kU3VtbWFyeUVtYWlsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuZW1haWxTZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTRU5EXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgey8qIDwvRm9ybUNvbnRyb2w+ICovfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8U25hY2tiYXJcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3JPcmlnaW49e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLnNuYWNrQmFyT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uPXsyMDAwfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgICAgICAgICAgICBDb250ZW50UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbWVzc2FnZS1pZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXs8c3BhbiBpZD1cIm1lc3NhZ2UtaWRcIj57dGhpcy5zdGF0ZS5zbmFja0Jhck1lc3NhZ2V9PC9zcGFuPn1cclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb249e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cImNsb3NlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cImluaGVyaXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNsb3NlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuRW1haWxCb3guZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzXHJcbkVtYWlsQm94LnByb3BUeXBlcyA9IHByb3BUeXBlc1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEVtYWlsQm94KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvRW1haWxCb3guanMiLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCB7aGFuZGxlQXBpUmVzcG9uc2V9IGZyb20gJy4uL3V0aWxzL25ldHdvcmtVdGlscyc7XHJcblxyXG5cclxuY29uc3QgQkFTRV9VUkwgPSBcIi9jb3JyZXNwb25kZW5jZVwiOyBcclxuXHJcbmZ1bmN0aW9uIGdldEVtYWlsVGVtcGxhdGVzICgpIHtcclxuICAgIHJldHVybiBheGlvc1xyXG4gICAgLnBvc3QoYCR7Y29uZmlnLmFwaVVybH0ke0JBU0VfVVJMfS9lbWFpbHRlbXBsYXRlc2ApICAgICBcclxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVBcGlSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVBcGlSZXNwb25zZShlcnJvcik7XHJcbiAgICB9KTtcclxuICAgIFxyXG59XHJcblxyXG5mdW5jdGlvbiBzZW5kQ2FsbFN1bW1hcnkocmVxT2JqKSB7XHJcbiAgICByZXR1cm4gYXhpb3NcclxuICAgIC5wb3N0KGAke2NvbmZpZy5hcGlVcmx9JHtCQVNFX1VSTH0vY2FsbHN1bW1hcnlgLHJlcU9iailcclxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVBcGlSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVBcGlSZXNwb25zZShlcnJvcik7XHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY29ycmVzcG9uZGVuY2VTZXJ2aWNlID0ge2dldEVtYWlsVGVtcGxhdGVzIDogZ2V0RW1haWxUZW1wbGF0ZXMsIHNlbmRDYWxsU3VtbWFyeSA6IHNlbmRDYWxsU3VtbWFyeX07XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmljZXMvY29ycmVzcG9uZGVuY2VTZXJ2aWNlLmpzIiwiZXhwb3J0IGNvbnN0IHZhbGlkYXRlRW1haWwgPSBlbWFpbCA9PiB7XHJcbiAgICBjb25zdCByZSA9IC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xyXG4gICAgcmV0dXJuIHJlLnRlc3QoZW1haWwpXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL2hlbHBlcnMvZW1haWxIZWxwZXIuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IExpc3QgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTGlzdCc7XHJcbmltcG9ydCBMaXN0SXRlbSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9MaXN0SXRlbSc7XHJcbmltcG9ydCBMaXN0SXRlbVRleHQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTGlzdEl0ZW1UZXh0JztcclxuaW1wb3J0IERpYWxvZ1RpdGxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ1RpdGxlJztcclxuaW1wb3J0IERpYWxvZyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2cnO1xyXG5pbXBvcnQgeyBBQ1RJT05fVFlQRVMsIGVtcHR5RnVuY3Rpb24gfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICAgIGRpYWxvZ1BhcGVyOiB7XHJcbiAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHdoaXRlJyxcclxuICAgICAgICB3aWR0aDogJzE5LjUzdncnXHJcbiAgICB9LFxyXG4gICAgZGlhbG9nOiB7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpblxyXG4gICAgfSxcclxuICAgIGNyZWF0ZU5ld0FjdGlvbkRpYWxvZ0hlYWRlcjoge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zb2xpZEJhY2tncm91bmQubWFpbixcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyAnICFpbXBvcnRhbnQnLFxyXG4gICAgICAgIGZvbnRTaXplOiAnMS4yNDQ0NHJlbSdcclxuICAgIH0sXHJcbiAgICBjcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zOiB7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNvbGlkQmFja2dyb3VuZC5tYWluLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiArICcgIWltcG9ydGFudCcsXHJcbiAgICAgICAgZm9udFNpemU6ICcwLjk3NzdyZW0nLFxyXG4gICAgICAgIHBvaW50ZXI6ICdjdXJzb3InXHJcbiAgICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHByb3BUeXBlcyA9IHtcclxuICAgIG9wZW46IFByb3BUeXBlcy5ib29sLFxyXG4gICAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgICBvbkFjdGlvbkl0ZW1DbGljazogUHJvcFR5cGVzLmZ1bmNcclxufTtcclxuXHJcbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIG9wZW46IGZhbHNlLFxyXG4gICAgb25DbG9zZTogZW1wdHlGdW5jdGlvbixcclxuICAgIG9uQWN0aW9uSXRlbUNsaWNrOiBlbXB0eUZ1bmN0aW9uXHJcbn1cclxuXHJcbmNsYXNzIEFjdGlvbkNyZWF0b3JEaWFsb2cgZXh0ZW5kcyBDb21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xyXG4gICAgICAgIGlmIChuZXh0UHJvcHMub3BlbiAhPT0gdGhpcy5wcm9wcy5vcGVuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgY29uc3QgeyBvcGVuLCBjbGFzc2VzLCBvbkNsb3NlIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8RGlhbG9nXHJcbiAgICAgICAgICAgICAgICBvbkNsb3NlPXtvbkNsb3NlfVxyXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PSduZXctYWN0aW9uLWRpYWxvZy10aXRsZSdcclxuICAgICAgICAgICAgICAgIG9wZW49e29wZW59XHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzPXt7IHBhcGVyU2Nyb2xsUGFwZXI6IGNsYXNzZXMuZGlhbG9nUGFwZXIgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9J25ldy1hY3Rpb24tZGlhbG9nLXRpdGxlJ1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5kaWFsb2d9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNyZWF0ZU5ld0FjdGlvbkRpYWxvZ0hlYWRlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBOZXcgQWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L0RpYWxvZ1RpdGxlPlxyXG4gICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICAgIDxMaXN0IGNsYXNzTmFtZT17Y2xhc3Nlcy5jcmVhdGVOZXdBY3Rpb25EaWFsb2dPcHRpb25zfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoQUNUSU9OX1RZUEVTKS5tYXAoYWN0aW9uVHlwZUtleSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpc3RJdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMucHJvcHMub25BY3Rpb25JdGVtQ2xpY2soQUNUSU9OX1RZUEVTW2FjdGlvblR5cGVLZXldKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXthY3Rpb25UeXBlS2V5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpc3RJdGVtVGV4dD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNyZWF0ZU5ld0FjdGlvbkRpYWxvZ09wdGlvbnN9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgQ3JlYXRlICR7QUNUSU9OX1RZUEVTW2FjdGlvblR5cGVLZXldfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaXN0SXRlbVRleHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaXN0SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L0xpc3Q+XHJcbiAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICA8L0RpYWxvZz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG4vL3JlbW92ZSBwcm9wVHlwZXMgaW4gcHJvZHVjdGlvblxyXG5BY3Rpb25DcmVhdG9yRGlhbG9nLnByb3BUeXBlcyA9IHByb3BUeXBlcztcclxuQWN0aW9uQ3JlYXRvckRpYWxvZy5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCAod2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKShBY3Rpb25DcmVhdG9yRGlhbG9nKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9BY3Rpb25DcmVhdG9yRGlhbG9nLmpzIiwiLyoqXHJcbiAqIEBhdXRob3IgQmFscmFqIFNpbmdoIDxiYWxyYWpzaW5naC5zQGhpZ2hyYWRpdXMuY29tPlxyXG4gKi9cclxuXHJcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgR3JvdyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Hcm93JztcclxuaW1wb3J0IHsgVHlwb2dyYXBoeSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IEhpZ2hsaWdodGVyIGZyb20gJ3JlYWN0LWhpZ2hsaWdodC13b3Jkcyc7XHJcbmltcG9ydCB7IEhJR0hMSUdIVEVSX1JFR0VYIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgY2FsbGJhY2tpZnkgfSBmcm9tICd1dGlsJztcclxuaW1wb3J0IEdpZlBsYXllciBmcm9tICdyZWFjdC1naWYtcGxheWVyJztcclxuaW1wb3J0IFJpcHBsZUdpZiBmcm9tICcuLi9hc3NldHMvUmlwcGxlLmdpZic7XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG5cclxuICAgIGNoYXRCdWJibGU6IHtcclxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImZsZXgtc3RhcnRcIixcclxuICAgICAgICBwYWRkaW5nOiBcIjRweFwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgICAgICBtaW5XaWR0aDogXCJjYWxjKDEwMCUgLSAycmVtKVwiLFxyXG4gICAgICAgIHdpZHRoOiBcImNhbGMoMTAwJSAtIDJyZW0pXCIsXHJcbiAgICAgICAgbWluSGVpZ2h0OiBcIjFyZW1cIixcclxuICAgICAgICBtYXJnaW5Cb3R0b206IFwiNHB4XCIsXHJcbiAgICB9LFxyXG4gICAgcmlnaHRCdWJibGU6IHtcclxuICAgICAgICBvcGFjaXR5OiBcIjAuNjUgIWltcG9ydGFudFwiLFxyXG4gICAgICAgIGFsaWduU2VsZjogXCJmbGV4LWVuZFwiLFxyXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93LXJldmVyc2VcIixcclxuICAgIH0sXHJcbiAgICBtZXNzYWdlOiB7XHJcbiAgICAgICAgZm9udFNpemU6IFwiMXJlbVwiLFxyXG4gICAgICAgIGNvbG9yOiBcIiNmZmZcIixcclxuICAgIH0sXHJcbiAgICBoaWdobGlnaHRNZXNzYWdlOiB7XHJcbiAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDkzLCAxNzAsIDIyNCwgMC4zKVwiLFxyXG4gICAgfSxcclxuICAgIGNpcmNsZWRUZXh0OiB7XHJcbiAgICAgICAgbWluV2lkdGg6IFwiMnJlbVwiLFxyXG4gICAgICAgIG1pbkhlaWdodDogXCIycmVtXCIsXHJcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjJyZW1cIixcclxuICAgICAgICBtYXhXaWR0aDogXCIycmVtXCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOHJlbVwiLFxyXG4gICAgICAgIGNvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICBsaW5lSGVpZ2h0OiBcIjJyZW1cIixcclxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZDogXCIjNURBQUUwXCIsXHJcbiAgICB9LFxyXG4gICAgZ2lmQW5pbWF0b3I6IHtcclxuXHJcbiAgICB9LFxyXG4gICAgZGV0ZWN0b3I6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCIsXHJcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjNURBQUUwXCIsXHJcbiAgICB9LFxyXG4gICAgaGlnaGxpZ2h0ZXJGb3JMZWZ0OiB7XHJcbiAgICAgICAgYWxpZ25TZWxmOiBcImNlbnRlclwiLFxyXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiMTBweFwiLFxyXG4gICAgfSxcclxuICAgIGhpZ2hsaWdodGVyRm9yUmlnaHQ6IHtcclxuICAgICAgICB0ZXh0QWxpZ246IFwicmlnaHRcIixcclxuICAgICAgICBhbGlnblNlbGY6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMTBweFwiLFxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNsYXNzIENoYXRCb3ggZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xyXG4gICAgICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcclxuICAgICAgICBpc0NvbGxlY3RvcjogUHJvcFR5cGVzLmJvb2wsXHJcbiAgICAgICAgbWVzc2FnZTogUHJvcFR5cGVzLnN0cmluZyxcclxuICAgICAgICBpc0RldGVjdGluZzogUHJvcFR5cGVzLmJvb2wsXHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICAgICAgaXNDb2xsZWN0b3I6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgaXNEZXRlY3Rpbmc6IGZhbHNlLFxyXG4gICAgfTtcclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBpc0NvbGxlY3RvciwgbWVzc2FnZSwgY2xhc3NlcywgaXNEZXRlY3RpbmcgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIC8vY29tbWVudCA8R3Jvdz4gYW5kIDwvR3Jvdz4gZm9sbG93aW5nIGZvciBydW5uaW5nIHRlc3RzIHN1aXRlXHJcbiAgICAgICAgICAgIC8vY2Fubm90IHNldCB0cmFuc2l0aW9ucyBpbiBub2RlIGVudlxyXG4gICAgICAgICAgICA8R3JvdyBpbj17dHJ1ZX0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jaGF0QnViYmxlICsgXCIgXCIgKyAoaXNDb2xsZWN0b3IgPyBjbGFzc2VzLnJpZ2h0QnViYmxlIDogXCJcIil9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzRGV0ZWN0aW5nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2lyY2xlZFRleHQgKyBcIiBcIiArIChpc0RldGVjdGluZyA/IGNsYXNzZXMuZGV0ZWN0b3IgOiBcIlwiKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW5pdGlhbHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RldGVjdGluZyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IFwiMi41cmVtXCIsIHdpZHRoOiBcIjIuNXJlbVwiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzcmM9e1wiL3Rvdm8vc3RhdGljL1JpcHBsZS5naWZcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17UmlwcGxlR2lmfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiRGV0ZWN0aW5nIFNwZWFrZXJzIEFuaW1hdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDxIaWdobGlnaHRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2lzQ29sbGVjdG9yID8gY2xhc3Nlcy5oaWdobGlnaHRlckZvclJpZ2h0IDogY2xhc3Nlcy5oaWdobGlnaHRlckZvckxlZnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaGlnaGxpZ2h0Q2xhc3NOYW1lPXtjbGFzc2VzLm1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodENsYXNzTmFtZT17Y2xhc3Nlcy5oaWdobGlnaHRNZXNzYWdlICsgXCIgXCIgKyBjbGFzc2VzLm1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFdvcmRzPXtISUdITElHSFRFUl9SRUdFWH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFRvSGlnaGxpZ2h0PXttZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9Hcm93PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0ICh3aXRoU3R5bGVzKHN0eWxlcywgeyB3aXRoVGhlbWU6IHRydWUgfSkpKENoYXRCb3gpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0NoYXRCb3guanMiLCJtb2R1bGUuZXhwb3J0cyA9XG4vKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9IaWdobGlnaHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX0hpZ2hsaWdodGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hpZ2hsaWdodGVyKTtcblxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBfSGlnaGxpZ2h0ZXIyWydkZWZhdWx0J107XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IEhpZ2hsaWdodGVyO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9oaWdobGlnaHRXb3Jkc0NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9tZW1vaXplT25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX21lbW9pemVPbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWVtb2l6ZU9uZSk7XG5cdFxuXHRIaWdobGlnaHRlci5wcm9wVHlwZXMgPSB7XG5cdCAgYWN0aXZlQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcblx0ICBhY3RpdmVJbmRleDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5udW1iZXIsXG5cdCAgYWN0aXZlU3R5bGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0LFxuXHQgIGF1dG9Fc2NhcGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcblx0ICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXHQgIGZpbmRDaHVua3M6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblx0ICBoaWdobGlnaHRDbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdCwgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmddKSxcblx0ICBoaWdobGlnaHRTdHlsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3QsXG5cdCAgaGlnaGxpZ2h0VGFnOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9uZU9mVHlwZShbX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nXSksXG5cdCAgc2FuaXRpemU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblx0ICBzZWFyY2hXb3JkczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5hcnJheU9mKF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZywgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5pbnN0YW5jZU9mKFJlZ0V4cCldKSkuaXNSZXF1aXJlZCxcblx0ICB0ZXh0VG9IaWdobGlnaHQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAgdW5oaWdobGlnaHRDbGFzc05hbWU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXHQgIHVuaGlnaGxpZ2h0U3R5bGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0XG5cdH07XG5cdFxuXHQvKipcblx0ICogSGlnaGxpZ2h0cyBhbGwgb2NjdXJyZW5jZXMgb2Ygc2VhcmNoIHRlcm1zIChzZWFyY2hUZXh0KSB3aXRoaW4gYSBzdHJpbmcgKHRleHRUb0hpZ2hsaWdodCkuXG5cdCAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbiBhcnJheSBvZiBzdHJpbmdzIGFuZCA8c3Bhbj5zICh3cmFwcGluZyBoaWdobGlnaHRlZCB3b3JkcykuXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gSGlnaGxpZ2h0ZXIoX3JlZikge1xuXHQgIHZhciBfcmVmJGFjdGl2ZUNsYXNzTmFtZSA9IF9yZWYuYWN0aXZlQ2xhc3NOYW1lO1xuXHQgIHZhciBhY3RpdmVDbGFzc05hbWUgPSBfcmVmJGFjdGl2ZUNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJGFjdGl2ZUNsYXNzTmFtZTtcblx0ICB2YXIgX3JlZiRhY3RpdmVJbmRleCA9IF9yZWYuYWN0aXZlSW5kZXg7XG5cdCAgdmFyIGFjdGl2ZUluZGV4ID0gX3JlZiRhY3RpdmVJbmRleCA9PT0gdW5kZWZpbmVkID8gLTEgOiBfcmVmJGFjdGl2ZUluZGV4O1xuXHQgIHZhciBhY3RpdmVTdHlsZSA9IF9yZWYuYWN0aXZlU3R5bGU7XG5cdCAgdmFyIGF1dG9Fc2NhcGUgPSBfcmVmLmF1dG9Fc2NhcGU7XG5cdCAgdmFyIF9yZWYkY2FzZVNlbnNpdGl2ZSA9IF9yZWYuY2FzZVNlbnNpdGl2ZTtcblx0ICB2YXIgY2FzZVNlbnNpdGl2ZSA9IF9yZWYkY2FzZVNlbnNpdGl2ZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGNhc2VTZW5zaXRpdmU7XG5cdCAgdmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lO1xuXHQgIHZhciBmaW5kQ2h1bmtzID0gX3JlZi5maW5kQ2h1bmtzO1xuXHQgIHZhciBfcmVmJGhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYuaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciBoaWdobGlnaHRDbGFzc05hbWUgPSBfcmVmJGhpZ2hsaWdodENsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJGhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICB2YXIgX3JlZiRoaWdobGlnaHRTdHlsZSA9IF9yZWYuaGlnaGxpZ2h0U3R5bGU7XG5cdCAgdmFyIGhpZ2hsaWdodFN0eWxlID0gX3JlZiRoaWdobGlnaHRTdHlsZSA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGhpZ2hsaWdodFN0eWxlO1xuXHQgIHZhciBfcmVmJGhpZ2hsaWdodFRhZyA9IF9yZWYuaGlnaGxpZ2h0VGFnO1xuXHQgIHZhciBoaWdobGlnaHRUYWcgPSBfcmVmJGhpZ2hsaWdodFRhZyA9PT0gdW5kZWZpbmVkID8gJ21hcmsnIDogX3JlZiRoaWdobGlnaHRUYWc7XG5cdCAgdmFyIHNhbml0aXplID0gX3JlZi5zYW5pdGl6ZTtcblx0ICB2YXIgc2VhcmNoV29yZHMgPSBfcmVmLnNlYXJjaFdvcmRzO1xuXHQgIHZhciB0ZXh0VG9IaWdobGlnaHQgPSBfcmVmLnRleHRUb0hpZ2hsaWdodDtcblx0ICB2YXIgX3JlZiR1bmhpZ2hsaWdodENsYXNzTmFtZSA9IF9yZWYudW5oaWdobGlnaHRDbGFzc05hbWU7XG5cdCAgdmFyIHVuaGlnaGxpZ2h0Q2xhc3NOYW1lID0gX3JlZiR1bmhpZ2hsaWdodENsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJHVuaGlnaGxpZ2h0Q2xhc3NOYW1lO1xuXHQgIHZhciB1bmhpZ2hsaWdodFN0eWxlID0gX3JlZi51bmhpZ2hsaWdodFN0eWxlO1xuXHRcblx0ICB2YXIgY2h1bmtzID0gKDAsIF9oaWdobGlnaHRXb3Jkc0NvcmUuZmluZEFsbCkoe1xuXHQgICAgYXV0b0VzY2FwZTogYXV0b0VzY2FwZSxcblx0ICAgIGNhc2VTZW5zaXRpdmU6IGNhc2VTZW5zaXRpdmUsXG5cdCAgICBmaW5kQ2h1bmtzOiBmaW5kQ2h1bmtzLFxuXHQgICAgc2FuaXRpemU6IHNhbml0aXplLFxuXHQgICAgc2VhcmNoV29yZHM6IHNlYXJjaFdvcmRzLFxuXHQgICAgdGV4dFRvSGlnaGxpZ2h0OiB0ZXh0VG9IaWdobGlnaHRcblx0ICB9KTtcblx0ICB2YXIgSGlnaGxpZ2h0VGFnID0gaGlnaGxpZ2h0VGFnO1xuXHQgIHZhciBoaWdobGlnaHRDb3VudCA9IC0xO1xuXHQgIHZhciBoaWdobGlnaHRDbGFzc05hbWVzID0gJyc7XG5cdCAgdmFyIGhpZ2hsaWdodFN0eWxlcyA9IHVuZGVmaW5lZDtcblx0XG5cdCAgdmFyIGxvd2VyY2FzZVByb3BzID0gZnVuY3Rpb24gbG93ZXJjYXNlUHJvcHMob2JqZWN0KSB7XG5cdCAgICB2YXIgbWFwcGVkID0ge307XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG5cdCAgICAgIG1hcHBlZFtrZXkudG9Mb3dlckNhc2UoKV0gPSBvYmplY3Rba2V5XTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBtYXBwZWQ7XG5cdCAgfTtcblx0ICB2YXIgbWVtb2l6ZWRMb3dlcmNhc2VQcm9wcyA9ICgwLCBfbWVtb2l6ZU9uZTJbJ2RlZmF1bHQnXSkobG93ZXJjYXNlUHJvcHMpO1xuXHRcblx0ICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAnc3BhbicsXG5cdCAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sXG5cdCAgICBjaHVua3MubWFwKGZ1bmN0aW9uIChjaHVuaywgaW5kZXgpIHtcblx0ICAgICAgdmFyIHRleHQgPSB0ZXh0VG9IaWdobGlnaHQuc3Vic3RyKGNodW5rLnN0YXJ0LCBjaHVuay5lbmQgLSBjaHVuay5zdGFydCk7XG5cdFxuXHQgICAgICBpZiAoY2h1bmsuaGlnaGxpZ2h0KSB7XG5cdCAgICAgICAgaGlnaGxpZ2h0Q291bnQrKztcblx0XG5cdCAgICAgICAgdmFyIGhpZ2hsaWdodENsYXNzID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIGlmICh0eXBlb2YgaGlnaGxpZ2h0Q2xhc3NOYW1lID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgaWYgKCFjYXNlU2Vuc2l0aXZlKSB7XG5cdCAgICAgICAgICAgIGhpZ2hsaWdodENsYXNzTmFtZSA9IG1lbW9pemVkTG93ZXJjYXNlUHJvcHMoaGlnaGxpZ2h0Q2xhc3NOYW1lKTtcblx0ICAgICAgICAgICAgaGlnaGxpZ2h0Q2xhc3MgPSBoaWdobGlnaHRDbGFzc05hbWVbdGV4dC50b0xvd2VyQ2FzZSgpXTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGhpZ2hsaWdodENsYXNzID0gaGlnaGxpZ2h0Q2xhc3NOYW1lW3RleHRdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBoaWdobGlnaHRDbGFzcyA9IGhpZ2hsaWdodENsYXNzTmFtZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBpc0FjdGl2ZSA9IGhpZ2hsaWdodENvdW50ID09PSArYWN0aXZlSW5kZXg7XG5cdFxuXHQgICAgICAgIGhpZ2hsaWdodENsYXNzTmFtZXMgPSBoaWdobGlnaHRDbGFzcyArICcgJyArIChpc0FjdGl2ZSA/IGFjdGl2ZUNsYXNzTmFtZSA6ICcnKTtcblx0ICAgICAgICBoaWdobGlnaHRTdHlsZXMgPSBpc0FjdGl2ZSA9PT0gdHJ1ZSAmJiBhY3RpdmVTdHlsZSAhPSBudWxsID8gT2JqZWN0LmFzc2lnbih7fSwgaGlnaGxpZ2h0U3R5bGUsIGFjdGl2ZVN0eWxlKSA6IGhpZ2hsaWdodFN0eWxlO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBIaWdobGlnaHRUYWcsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogaGlnaGxpZ2h0Q2xhc3NOYW1lcyxcblx0ICAgICAgICAgICAga2V5OiBpbmRleCxcblx0ICAgICAgICAgICAgc3R5bGU6IGhpZ2hsaWdodFN0eWxlc1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHRleHRcblx0ICAgICAgICApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiB1bmhpZ2hsaWdodENsYXNzTmFtZSxcblx0ICAgICAgICAgICAga2V5OiBpbmRleCxcblx0ICAgICAgICAgICAgc3R5bGU6IHVuaGlnaGxpZ2h0U3R5bGVcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICB0ZXh0XG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICApO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPVxuXHQvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG5cdC8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuXHQvKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cblx0LyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0LyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuXHQvKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdC8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG5cdC8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuXHQvKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG5cdC8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcblx0LyoqKioqKi8gXHRcdH07XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0LyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHQvKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHQvKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuXHQvKioqKioqLyBcdH1cblx0LyoqKioqKi9cblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuXHQvKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcblx0LyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG5cdC8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcblx0LyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblx0LyoqKioqKi8gfSlcblx0LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblx0LyoqKioqKi8gKFtcblx0LyogMCAqL1xuXHQvKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cdFxuXHRcdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdFxuXHQvKioqLyB9KSxcblx0LyogMSAqL1xuXHQvKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cdFxuXHRcdCd1c2Ugc3RyaWN0Jztcblx0XHRcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHQgIHZhbHVlOiB0cnVlXG5cdFx0fSk7XG5cdFx0XG5cdFx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFx0XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjb21iaW5lQ2h1bmtzJywge1xuXHRcdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0XHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdCAgICByZXR1cm4gX3V0aWxzLmNvbWJpbmVDaHVua3M7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaWxsSW5DaHVua3MnLCB7XG5cdFx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFx0ICAgIHJldHVybiBfdXRpbHMuZmlsbEluQ2h1bmtzO1xuXHRcdCAgfVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZmluZEFsbCcsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5maW5kQWxsO1xuXHRcdCAgfVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZmluZENodW5rcycsIHtcblx0XHQgIGVudW1lcmFibGU6IHRydWUsXG5cdFx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHQgICAgcmV0dXJuIF91dGlscy5maW5kQ2h1bmtzO1xuXHRcdCAgfVxuXHRcdH0pO1xuXHRcblx0LyoqKi8gfSksXG5cdC8qIDIgKi9cblx0LyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXHRcblx0XHQndXNlIHN0cmljdCc7XG5cdFx0XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0ICB2YWx1ZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgY2h1bmsgb2JqZWN0cyByZXByZXNlbnRpbmcgYm90aCBoaWdsaWdodGFibGUgYW5kIG5vbiBoaWdobGlnaHRhYmxlIHBpZWNlcyBvZiB0ZXh0IHRoYXQgbWF0Y2ggZWFjaCBzZWFyY2ggd29yZC5cblx0XHQgKiBAcmV0dXJuIEFycmF5IG9mIFwiY2h1bmtzXCIgKHdoZXJlIGEgQ2h1bmsgaXMgeyBzdGFydDpudW1iZXIsIGVuZDpudW1iZXIsIGhpZ2hsaWdodDpib29sZWFuIH0pXG5cdFx0ICovXG5cdFx0dmFyIGZpbmRBbGwgPSBleHBvcnRzLmZpbmRBbGwgPSBmdW5jdGlvbiBmaW5kQWxsKF9yZWYpIHtcblx0XHQgIHZhciBhdXRvRXNjYXBlID0gX3JlZi5hdXRvRXNjYXBlLFxuXHRcdCAgICAgIF9yZWYkY2FzZVNlbnNpdGl2ZSA9IF9yZWYuY2FzZVNlbnNpdGl2ZSxcblx0XHQgICAgICBjYXNlU2Vuc2l0aXZlID0gX3JlZiRjYXNlU2Vuc2l0aXZlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkY2FzZVNlbnNpdGl2ZSxcblx0XHQgICAgICBfcmVmJGZpbmRDaHVua3MgPSBfcmVmLmZpbmRDaHVua3MsXG5cdFx0ICAgICAgZmluZENodW5rcyA9IF9yZWYkZmluZENodW5rcyA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEZpbmRDaHVua3MgOiBfcmVmJGZpbmRDaHVua3MsXG5cdFx0ICAgICAgc2FuaXRpemUgPSBfcmVmLnNhbml0aXplLFxuXHRcdCAgICAgIHNlYXJjaFdvcmRzID0gX3JlZi5zZWFyY2hXb3Jkcyxcblx0XHQgICAgICB0ZXh0VG9IaWdobGlnaHQgPSBfcmVmLnRleHRUb0hpZ2hsaWdodDtcblx0XHQgIHJldHVybiBmaWxsSW5DaHVua3Moe1xuXHRcdCAgICBjaHVua3NUb0hpZ2hsaWdodDogY29tYmluZUNodW5rcyh7XG5cdFx0ICAgICAgY2h1bmtzOiBmaW5kQ2h1bmtzKHtcblx0XHQgICAgICAgIGF1dG9Fc2NhcGU6IGF1dG9Fc2NhcGUsXG5cdFx0ICAgICAgICBjYXNlU2Vuc2l0aXZlOiBjYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgICAgc2FuaXRpemU6IHNhbml0aXplLFxuXHRcdCAgICAgICAgc2VhcmNoV29yZHM6IHNlYXJjaFdvcmRzLFxuXHRcdCAgICAgICAgdGV4dFRvSGlnaGxpZ2h0OiB0ZXh0VG9IaWdobGlnaHRcblx0XHQgICAgICB9KVxuXHRcdCAgICB9KSxcblx0XHQgICAgdG90YWxMZW5ndGg6IHRleHRUb0hpZ2hsaWdodCA/IHRleHRUb0hpZ2hsaWdodC5sZW5ndGggOiAwXG5cdFx0ICB9KTtcblx0XHR9O1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIFRha2VzIGFuIGFycmF5IG9mIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9IG9iamVjdHMgYW5kIGNvbWJpbmVzIGNodW5rcyB0aGF0IG92ZXJsYXAgaW50byBzaW5nbGUgY2h1bmtzLlxuXHRcdCAqIEByZXR1cm4ge3N0YXJ0Om51bWJlciwgZW5kOm51bWJlcn1bXVxuXHRcdCAqL1xuXHRcdHZhciBjb21iaW5lQ2h1bmtzID0gZXhwb3J0cy5jb21iaW5lQ2h1bmtzID0gZnVuY3Rpb24gY29tYmluZUNodW5rcyhfcmVmMikge1xuXHRcdCAgdmFyIGNodW5rcyA9IF9yZWYyLmNodW5rcztcblx0XHRcblx0XHQgIGNodW5rcyA9IGNodW5rcy5zb3J0KGZ1bmN0aW9uIChmaXJzdCwgc2Vjb25kKSB7XG5cdFx0ICAgIHJldHVybiBmaXJzdC5zdGFydCAtIHNlY29uZC5zdGFydDtcblx0XHQgIH0pLnJlZHVjZShmdW5jdGlvbiAocHJvY2Vzc2VkQ2h1bmtzLCBuZXh0Q2h1bmspIHtcblx0XHQgICAgLy8gRmlyc3QgY2h1bmsganVzdCBnb2VzIHN0cmFpZ2h0IGluIHRoZSBhcnJheS4uLlxuXHRcdCAgICBpZiAocHJvY2Vzc2VkQ2h1bmtzLmxlbmd0aCA9PT0gMCkge1xuXHRcdCAgICAgIHJldHVybiBbbmV4dENodW5rXTtcblx0XHQgICAgfSBlbHNlIHtcblx0XHQgICAgICAvLyAuLi4gc3Vic2VxdWVudCBjaHVua3MgZ2V0IGNoZWNrZWQgdG8gc2VlIGlmIHRoZXkgb3ZlcmxhcC4uLlxuXHRcdCAgICAgIHZhciBwcmV2Q2h1bmsgPSBwcm9jZXNzZWRDaHVua3MucG9wKCk7XG5cdFx0ICAgICAgaWYgKG5leHRDaHVuay5zdGFydCA8PSBwcmV2Q2h1bmsuZW5kKSB7XG5cdFx0ICAgICAgICAvLyBJdCBtYXkgYmUgdGhlIGNhc2UgdGhhdCBwcmV2Q2h1bmsgY29tcGxldGVseSBzdXJyb3VuZHMgbmV4dENodW5rLCBzbyB0YWtlIHRoZVxuXHRcdCAgICAgICAgLy8gbGFyZ2VzdCBvZiB0aGUgZW5kIGluZGVjZXMuXG5cdFx0ICAgICAgICB2YXIgZW5kSW5kZXggPSBNYXRoLm1heChwcmV2Q2h1bmsuZW5kLCBuZXh0Q2h1bmsuZW5kKTtcblx0XHQgICAgICAgIHByb2Nlc3NlZENodW5rcy5wdXNoKHsgc3RhcnQ6IHByZXZDaHVuay5zdGFydCwgZW5kOiBlbmRJbmRleCB9KTtcblx0XHQgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgcHJvY2Vzc2VkQ2h1bmtzLnB1c2gocHJldkNodW5rLCBuZXh0Q2h1bmspO1xuXHRcdCAgICAgIH1cblx0XHQgICAgICByZXR1cm4gcHJvY2Vzc2VkQ2h1bmtzO1xuXHRcdCAgICB9XG5cdFx0ICB9LCBbXSk7XG5cdFx0XG5cdFx0ICByZXR1cm4gY2h1bmtzO1xuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogRXhhbWluZSB0ZXh0IGZvciBhbnkgbWF0Y2hlcy5cblx0XHQgKiBJZiB3ZSBmaW5kIG1hdGNoZXMsIGFkZCB0aGVtIHRvIHRoZSByZXR1cm5lZCBhcnJheSBhcyBhIFwiY2h1bmtcIiBvYmplY3QgKHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9KS5cblx0XHQgKiBAcmV0dXJuIHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9W11cblx0XHQgKi9cblx0XHR2YXIgZGVmYXVsdEZpbmRDaHVua3MgPSBmdW5jdGlvbiBkZWZhdWx0RmluZENodW5rcyhfcmVmMykge1xuXHRcdCAgdmFyIGF1dG9Fc2NhcGUgPSBfcmVmMy5hdXRvRXNjYXBlLFxuXHRcdCAgICAgIGNhc2VTZW5zaXRpdmUgPSBfcmVmMy5jYXNlU2Vuc2l0aXZlLFxuXHRcdCAgICAgIF9yZWYzJHNhbml0aXplID0gX3JlZjMuc2FuaXRpemUsXG5cdFx0ICAgICAgc2FuaXRpemUgPSBfcmVmMyRzYW5pdGl6ZSA9PT0gdW5kZWZpbmVkID8gaWRlbnRpdHkgOiBfcmVmMyRzYW5pdGl6ZSxcblx0XHQgICAgICBzZWFyY2hXb3JkcyA9IF9yZWYzLnNlYXJjaFdvcmRzLFxuXHRcdCAgICAgIHRleHRUb0hpZ2hsaWdodCA9IF9yZWYzLnRleHRUb0hpZ2hsaWdodDtcblx0XHRcblx0XHQgIHRleHRUb0hpZ2hsaWdodCA9IHNhbml0aXplKHRleHRUb0hpZ2hsaWdodCk7XG5cdFx0XG5cdFx0ICByZXR1cm4gc2VhcmNoV29yZHMuZmlsdGVyKGZ1bmN0aW9uIChzZWFyY2hXb3JkKSB7XG5cdFx0ICAgIHJldHVybiBzZWFyY2hXb3JkO1xuXHRcdCAgfSkgLy8gUmVtb3ZlIGVtcHR5IHdvcmRzXG5cdFx0ICAucmVkdWNlKGZ1bmN0aW9uIChjaHVua3MsIHNlYXJjaFdvcmQpIHtcblx0XHQgICAgc2VhcmNoV29yZCA9IHNhbml0aXplKHNlYXJjaFdvcmQpO1xuXHRcdFxuXHRcdCAgICBpZiAoYXV0b0VzY2FwZSkge1xuXHRcdCAgICAgIHNlYXJjaFdvcmQgPSBlc2NhcGVSZWdFeHBGbihzZWFyY2hXb3JkKTtcblx0XHQgICAgfVxuXHRcdFxuXHRcdCAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHNlYXJjaFdvcmQsIGNhc2VTZW5zaXRpdmUgPyAnZycgOiAnZ2knKTtcblx0XHRcblx0XHQgICAgdmFyIG1hdGNoID0gdm9pZCAwO1xuXHRcdCAgICB3aGlsZSAobWF0Y2ggPSByZWdleC5leGVjKHRleHRUb0hpZ2hsaWdodCkpIHtcblx0XHQgICAgICB2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDtcblx0XHQgICAgICB2YXIgZW5kID0gcmVnZXgubGFzdEluZGV4O1xuXHRcdCAgICAgIC8vIFdlIGRvIG5vdCByZXR1cm4gemVyby1sZW5ndGggbWF0Y2hlc1xuXHRcdCAgICAgIGlmIChlbmQgPiBzdGFydCkge1xuXHRcdCAgICAgICAgY2h1bmtzLnB1c2goeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pO1xuXHRcdCAgICAgIH1cblx0XHRcblx0XHQgICAgICAvLyBQcmV2ZW50IGJyb3dzZXJzIGxpa2UgRmlyZWZveCBmcm9tIGdldHRpbmcgc3R1Y2sgaW4gYW4gaW5maW5pdGUgbG9vcFxuXHRcdCAgICAgIC8vIFNlZSBodHRwOi8vd3d3LnJlZ2V4Z3VydS5jb20vMjAwOC8wNC93YXRjaC1vdXQtZm9yLXplcm8tbGVuZ3RoLW1hdGNoZXMvXG5cdFx0ICAgICAgaWYgKG1hdGNoLmluZGV4ID09IHJlZ2V4Lmxhc3RJbmRleCkge1xuXHRcdCAgICAgICAgcmVnZXgubGFzdEluZGV4Kys7XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIHJldHVybiBjaHVua3M7XG5cdFx0ICB9LCBbXSk7XG5cdFx0fTtcblx0XHQvLyBBbGxvdyB0aGUgZmluZENodW5rcyB0byBiZSBvdmVycmlkZGVuIGluIGZpbmRBbGwsXG5cdFx0Ly8gYnV0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3ZSBleHBvcnQgYXMgdGhlIG9sZCBuYW1lXG5cdFx0ZXhwb3J0cy5maW5kQ2h1bmtzID0gZGVmYXVsdEZpbmRDaHVua3M7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogR2l2ZW4gYSBzZXQgb2YgY2h1bmtzIHRvIGhpZ2hsaWdodCwgY3JlYXRlIGFuIGFkZGl0aW9uYWwgc2V0IG9mIGNodW5rc1xuXHRcdCAqIHRvIHJlcHJlc2VudCB0aGUgYml0cyBvZiB0ZXh0IGJldHdlZW4gdGhlIGhpZ2hsaWdodGVkIHRleHQuXG5cdFx0ICogQHBhcmFtIGNodW5rc1RvSGlnaGxpZ2h0IHtzdGFydDpudW1iZXIsIGVuZDpudW1iZXJ9W11cblx0XHQgKiBAcGFyYW0gdG90YWxMZW5ndGggbnVtYmVyXG5cdFx0ICogQHJldHVybiB7c3RhcnQ6bnVtYmVyLCBlbmQ6bnVtYmVyLCBoaWdobGlnaHQ6Ym9vbGVhbn1bXVxuXHRcdCAqL1xuXHRcdFxuXHRcdHZhciBmaWxsSW5DaHVua3MgPSBleHBvcnRzLmZpbGxJbkNodW5rcyA9IGZ1bmN0aW9uIGZpbGxJbkNodW5rcyhfcmVmNCkge1xuXHRcdCAgdmFyIGNodW5rc1RvSGlnaGxpZ2h0ID0gX3JlZjQuY2h1bmtzVG9IaWdobGlnaHQsXG5cdFx0ICAgICAgdG90YWxMZW5ndGggPSBfcmVmNC50b3RhbExlbmd0aDtcblx0XHRcblx0XHQgIHZhciBhbGxDaHVua3MgPSBbXTtcblx0XHQgIHZhciBhcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoc3RhcnQsIGVuZCwgaGlnaGxpZ2h0KSB7XG5cdFx0ICAgIGlmIChlbmQgLSBzdGFydCA+IDApIHtcblx0XHQgICAgICBhbGxDaHVua3MucHVzaCh7XG5cdFx0ICAgICAgICBzdGFydDogc3RhcnQsXG5cdFx0ICAgICAgICBlbmQ6IGVuZCxcblx0XHQgICAgICAgIGhpZ2hsaWdodDogaGlnaGxpZ2h0XG5cdFx0ICAgICAgfSk7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFx0XG5cdFx0ICBpZiAoY2h1bmtzVG9IaWdobGlnaHQubGVuZ3RoID09PSAwKSB7XG5cdFx0ICAgIGFwcGVuZCgwLCB0b3RhbExlbmd0aCwgZmFsc2UpO1xuXHRcdCAgfSBlbHNlIHtcblx0XHQgICAgdmFyIGxhc3RJbmRleCA9IDA7XG5cdFx0ICAgIGNodW5rc1RvSGlnaGxpZ2h0LmZvckVhY2goZnVuY3Rpb24gKGNodW5rKSB7XG5cdFx0ICAgICAgYXBwZW5kKGxhc3RJbmRleCwgY2h1bmsuc3RhcnQsIGZhbHNlKTtcblx0XHQgICAgICBhcHBlbmQoY2h1bmsuc3RhcnQsIGNodW5rLmVuZCwgdHJ1ZSk7XG5cdFx0ICAgICAgbGFzdEluZGV4ID0gY2h1bmsuZW5kO1xuXHRcdCAgICB9KTtcblx0XHQgICAgYXBwZW5kKGxhc3RJbmRleCwgdG90YWxMZW5ndGgsIGZhbHNlKTtcblx0XHQgIH1cblx0XHQgIHJldHVybiBhbGxDaHVua3M7XG5cdFx0fTtcblx0XHRcblx0XHRmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuXHRcdCAgcmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0XHRcblx0XHRmdW5jdGlvbiBlc2NhcGVSZWdFeHBGbihzdHIpIHtcblx0XHQgIHJldHVybiBzdHIucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csICdcXFxcJCYnKTtcblx0XHR9XG5cdFxuXHQvKioqLyB9KVxuXHQvKioqKioqLyBdKTtcblx0Ly8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG5cdCAgICBTeW1ib2wuZm9yICYmXG5cdCAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG5cdCAgICAweGVhYzc7XG5cdFxuXHQgIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG5cdCAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuXHQgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcblx0ICB9O1xuXHRcblx0ICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cblx0ICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG5cdCAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuXHQgIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG5cdH0gZWxzZSB7XG5cdCAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cblx0ICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSgpO1xuXHR9XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHR2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdFxuXHQvLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcblx0Ly8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG5cdC8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcblx0Ly8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblx0XG5cdHZhciBjYWNoZWRTZXRUaW1lb3V0O1xuXHR2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdGZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgIH1cblx0fSAoKSlcblx0ZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcblx0ICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcblx0ICAgICAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdH1cblx0ZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuXHQgICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG5cdCAgICAgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuXHQgICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHRcblx0fVxuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlKGxlbikge1xuXHQgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuXHQgICAgICAgIHF1ZXVlID0gW107XG5cdCAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHR9XG5cdFxuXHRwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcblx0ICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG5cdCAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblx0ZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG5cdCAgICB0aGlzLmZ1biA9IGZ1bjtcblx0ICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcblx0fTtcblx0cHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcblx0cHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcblx0cHJvY2Vzcy5lbnYgPSB7fTtcblx0cHJvY2Vzcy5hcmd2ID0gW107XG5cdHByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXHRwcm9jZXNzLnZlcnNpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHByb2Nlc3Mub24gPSBub29wO1xuXHRwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5vbmNlID0gbm9vcDtcblx0cHJvY2Vzcy5vZmYgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuXHRwcm9jZXNzLmVtaXQgPSBub29wO1xuXHRwcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cdFxuXHRwcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cdFxuXHRwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0dmFyIHdhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHR2YXIgYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0dmFyIGNoZWNrUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG5cdCAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuXHQgIHZhciBJVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcblx0ICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblx0XG5cdCAgLyoqXG5cdCAgICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuXHQgICAqXG5cdCAgICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG5cdCAgICpcblx0ICAgKiAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG15SXRlcmFibGUpO1xuXHQgICAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuXHQgICAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcblx0ICAgKiAgICAgICAuLi5cblx0ICAgKiAgICAgfVxuXHQgICAqXG5cdCAgICogQHBhcmFtIHs/b2JqZWN0fSBtYXliZUl0ZXJhYmxlXG5cdCAgICogQHJldHVybiB7P2Z1bmN0aW9ufVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuXHQgICAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcblx0ICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICByZXR1cm4gaXRlcmF0b3JGbjtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyB0aGF0IGFsbG93IGRlY2xhcmF0aW9uIGFuZCB2YWxpZGF0aW9uIG9mIHByb3BzIHRoYXQgYXJlXG5cdCAgICogc3VwcGxpZWQgdG8gUmVhY3QgY29tcG9uZW50cy4gRXhhbXBsZSB1c2FnZTpcblx0ICAgKlxuXHQgICAqICAgdmFyIFByb3BzID0gcmVxdWlyZSgnUmVhY3RQcm9wVHlwZXMnKTtcblx0ICAgKiAgIHZhciBNeUFydGljbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdCAgICogICAgIHByb3BUeXBlczoge1xuXHQgICAqICAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBwcm9wIG5hbWVkIFwiZGVzY3JpcHRpb25cIi5cblx0ICAgKiAgICAgICBkZXNjcmlwdGlvbjogUHJvcHMuc3RyaW5nLFxuXHQgICAqXG5cdCAgICogICAgICAgLy8gQSByZXF1aXJlZCBlbnVtIHByb3AgbmFtZWQgXCJjYXRlZ29yeVwiLlxuXHQgICAqICAgICAgIGNhdGVnb3J5OiBQcm9wcy5vbmVPZihbJ05ld3MnLCdQaG90b3MnXSkuaXNSZXF1aXJlZCxcblx0ICAgKlxuXHQgICAqICAgICAgIC8vIEEgcHJvcCBuYW1lZCBcImRpYWxvZ1wiIHRoYXQgcmVxdWlyZXMgYW4gaW5zdGFuY2Ugb2YgRGlhbG9nLlxuXHQgICAqICAgICAgIGRpYWxvZzogUHJvcHMuaW5zdGFuY2VPZihEaWFsb2cpLmlzUmVxdWlyZWRcblx0ICAgKiAgICAgfSxcblx0ICAgKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHsgLi4uIH1cblx0ICAgKiAgIH0pO1xuXHQgICAqXG5cdCAgICogQSBtb3JlIGZvcm1hbCBzcGVjaWZpY2F0aW9uIG9mIGhvdyB0aGVzZSBtZXRob2RzIGFyZSB1c2VkOlxuXHQgICAqXG5cdCAgICogICB0eXBlIDo9IGFycmF5fGJvb2x8ZnVuY3xvYmplY3R8bnVtYmVyfHN0cmluZ3xvbmVPZihbLi4uXSl8aW5zdGFuY2VPZiguLi4pXG5cdCAgICogICBkZWNsIDo9IFJlYWN0UHJvcFR5cGVzLnt0eXBlfSguaXNSZXF1aXJlZCk/XG5cdCAgICpcblx0ICAgKiBFYWNoIGFuZCBldmVyeSBkZWNsYXJhdGlvbiBwcm9kdWNlcyBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgc2lnbmF0dXJlLiBUaGlzXG5cdCAgICogYWxsb3dzIHRoZSBjcmVhdGlvbiBvZiBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbnMuIEZvciBleGFtcGxlOlxuXHQgICAqXG5cdCAgICogIHZhciBNeUxpbmsgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdCAgICogICAgcHJvcFR5cGVzOiB7XG5cdCAgICogICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgb3IgVVJJIHByb3AgbmFtZWQgXCJocmVmXCIuXG5cdCAgICogICAgICBocmVmOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcblx0ICAgKiAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgKiAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wVmFsdWUgIT09ICdzdHJpbmcnICYmXG5cdCAgICogICAgICAgICAgICAhKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFVSSSkpIHtcblx0ICAgKiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFxuXHQgICAqICAgICAgICAgICAgJ0V4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIFVSSSBmb3IgJyArIHByb3BOYW1lICsgJyBpbiAnICtcblx0ICAgKiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcblx0ICAgKiAgICAgICAgICApO1xuXHQgICAqICAgICAgICB9XG5cdCAgICogICAgICB9XG5cdCAgICogICAgfSxcblx0ICAgKiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgey4uLn1cblx0ICAgKiAgfSk7XG5cdCAgICpcblx0ICAgKiBAaW50ZXJuYWxcblx0ICAgKi9cblx0XG5cdCAgdmFyIEFOT05ZTU9VUyA9ICc8PGFub255bW91cz4+Jztcblx0XG5cdCAgLy8gSW1wb3J0YW50IVxuXHQgIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzYC5cblx0ICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG5cdCAgICBhcnJheTogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2FycmF5JyksXG5cdCAgICBib29sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYm9vbGVhbicpLFxuXHQgICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG5cdCAgICBudW1iZXI6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdudW1iZXInKSxcblx0ICAgIG9iamVjdDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ29iamVjdCcpLFxuXHQgICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG5cdCAgICBzeW1ib2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzeW1ib2wnKSxcblx0XG5cdCAgICBhbnk6IGNyZWF0ZUFueVR5cGVDaGVja2VyKCksXG5cdCAgICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG5cdCAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcblx0ICAgIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXG5cdCAgICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuXHQgICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXG5cdCAgICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxuXHQgICAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuXHQgICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIsXG5cdCAgICBleGFjdDogY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcixcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG5cdCAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG5cdCAgICovXG5cdCAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXHQgIGZ1bmN0aW9uIGlzKHgsIHkpIHtcblx0ICAgIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cblx0ICAgIGlmICh4ID09PSB5KSB7XG5cdCAgICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuXHQgICAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuXHQgICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBTdGVwIDYuYTogTmFOID09IE5hTlxuXHQgICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuXHQgICAgfVxuXHQgIH1cblx0ICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cblx0XG5cdCAgLyoqXG5cdCAgICogV2UgdXNlIGFuIEVycm9yLWxpa2Ugb2JqZWN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFzIHBlb3BsZSBtYXkgY2FsbFxuXHQgICAqIFByb3BUeXBlcyBkaXJlY3RseSBhbmQgaW5zcGVjdCB0aGVpciBvdXRwdXQuIEhvd2V2ZXIsIHdlIGRvbid0IHVzZSByZWFsXG5cdCAgICogRXJyb3JzIGFueW1vcmUuIFdlIGRvbid0IGluc3BlY3QgdGhlaXIgc3RhY2sgYW55d2F5LCBhbmQgY3JlYXRpbmcgdGhlbVxuXHQgICAqIGlzIHByb2hpYml0aXZlbHkgZXhwZW5zaXZlIGlmIHRoZXkgYXJlIGNyZWF0ZWQgdG9vIG9mdGVuLCBzdWNoIGFzIHdoYXRcblx0ICAgKiBoYXBwZW5zIGluIG9uZU9mVHlwZSgpIGZvciBhbnkgdHlwZSBiZWZvcmUgdGhlIG9uZSB0aGF0IG1hdGNoZWQuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlKSB7XG5cdCAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHQgICAgdGhpcy5zdGFjayA9ICcnO1xuXHQgIH1cblx0ICAvLyBNYWtlIGBpbnN0YW5jZW9mIEVycm9yYCBzdGlsbCB3b3JrIGZvciByZXR1cm5lZCBlcnJvcnMuXG5cdCAgUHJvcFR5cGVFcnJvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICB2YXIgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGUgPSB7fTtcblx0ICAgICAgdmFyIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50ID0gMDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuXHQgICAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBBTk9OWU1PVVM7XG5cdCAgICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcblx0XG5cdCAgICAgIGlmIChzZWNyZXQgIT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG5cdCAgICAgICAgaWYgKHRocm93T25EaXJlY3RBY2Nlc3MpIHtcblx0ICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxuXHQgICAgICAgICAgaW52YXJpYW50KFxuXHQgICAgICAgICAgICBmYWxzZSxcblx0ICAgICAgICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuXHQgICAgICAgICAgICAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICtcblx0ICAgICAgICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgIC8vIE9sZCBiZWhhdmlvciBmb3IgcGVvcGxlIHVzaW5nIFJlYWN0LlByb3BUeXBlc1xuXHQgICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuXHQgICAgICAgICAgaWYgKFxuXHQgICAgICAgICAgICAhbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldICYmXG5cdCAgICAgICAgICAgIC8vIEF2b2lkIHNwYW1taW5nIHRoZSBjb25zb2xlIGJlY2F1c2UgdGhleSBhcmUgb2Z0ZW4gbm90IGFjdGlvbmFibGUgZXhjZXB0IGZvciBsaWIgYXV0aG9yc1xuXHQgICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA8IDNcblx0ICAgICAgICAgICkge1xuXHQgICAgICAgICAgICB3YXJuaW5nKFxuXHQgICAgICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgICAgICdZb3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgYSBSZWFjdC5Qcm9wVHlwZXMgdmFsaWRhdGlvbiAnICtcblx0ICAgICAgICAgICAgICAnZnVuY3Rpb24gZm9yIHRoZSBgJXNgIHByb3Agb24gYCVzYC4gVGhpcyBpcyBkZXByZWNhdGVkICcgK1xuXHQgICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICAgICAgICAgJ1lvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8gYSB0aGlyZC1wYXJ0eSBQcm9wVHlwZXMgJyArXG5cdCAgICAgICAgICAgICAgJ2xpYnJhcnkuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmctZG9udC1jYWxsLXByb3B0eXBlcyAnICsgJ2ZvciBkZXRhaWxzLicsXG5cdCAgICAgICAgICAgICAgcHJvcEZ1bGxOYW1lLFxuXHQgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldID0gdHJ1ZTtcblx0ICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQrKztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG5cdCAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcblx0ICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgdW5kZWZpbmVkYC4nKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG5cdCAgICBjaGFpbmVkQ2hlY2tUeXBlLmlzUmVxdWlyZWQgPSBjaGVja1R5cGUuYmluZChudWxsLCB0cnVlKTtcblx0XG5cdCAgICByZXR1cm4gY2hhaW5lZENoZWNrVHlwZTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcblx0ICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcblx0ICAgICAgICAvLyBjaGVjaywgYnV0IHdlIGNhbiBvZmZlciBhIG1vcmUgcHJlY2lzZSBlcnJvciBtZXNzYWdlIGhlcmUgcmF0aGVyIHRoYW5cblx0ICAgICAgICAvLyAnb2YgdHlwZSBgb2JqZWN0YCcuXG5cdCAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBhcnJheS4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnWycgKyBpICsgJ10nLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuXHQgICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50LicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuXHQgICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG5cdCAgICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIGFjdHVhbENsYXNzTmFtZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnaW5zdGFuY2Ugb2YgYCcgKyBleHBlY3RlZENsYXNzTmFtZSArICdgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcblx0ICAgIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mLCBleHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBhcnJheS4nKSA6IHZvaWQgMDtcblx0ICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XG5cdCAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG5cdCAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdmFsdWUgYCcgKyBwcm9wVmFsdWUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgb25lIG9mICcgKyB2YWx1ZXNTdHJpbmcgKyAnLicpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cdCAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wVmFsdWUpIHtcblx0ICAgICAgICBpZiAocHJvcFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0ICAgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5T2ZUeXBlQ2hlY2tlcnMpKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuXHQgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcblx0ICAgICAgaWYgKHR5cGVvZiBjaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgd2FybmluZyhcblx0ICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2ZUeXBlLiBFeHBlY3RlZCBhbiBhcnJheSBvZiBjaGVjayBmdW5jdGlvbnMsIGJ1dCAnICtcblx0ICAgICAgICAgICdyZWNlaXZlZCAlcyBhdCBpbmRleCAlcy4nLFxuXHQgICAgICAgICAgZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKGNoZWNrZXIpLFxuXHQgICAgICAgICAgaVxuXHQgICAgICAgICk7XG5cdCAgICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcblx0ICAgICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KSA9PSBudWxsKSB7XG5cdCAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIFJlYWN0Tm9kZS4nKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuXHQgICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuXHQgICAgICAgIGlmICghY2hlY2tlcikge1xuXHQgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGFsbCBrZXlzIGluIGNhc2Ugc29tZSBhcmUgcmVxdWlyZWQgYnV0IG1pc3NpbmcgZnJvbVxuXHQgICAgICAvLyBwcm9wcy5cblx0ICAgICAgdmFyIGFsbEtleXMgPSBhc3NpZ24oe30sIHByb3BzW3Byb3BOYW1lXSwgc2hhcGVUeXBlcyk7XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBhbGxLZXlzKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cdCAgICAgICAgaWYgKCFjaGVja2VyKSB7XG5cdCAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXG5cdCAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcblx0ICAgICAgICAgICAgJ1xcbkJhZCBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShwcm9wc1twcm9wTmFtZV0sIG51bGwsICcgICcpICtcblx0ICAgICAgICAgICAgJ1xcblZhbGlkIGtleXM6ICcgKyAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoc2hhcGVUeXBlcyksIG51bGwsICcgICcpXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG5cdCAgICAgICAgaWYgKGVycm9yKSB7XG5cdCAgICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG5cdCAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wVmFsdWUpIHtcblx0ICAgICAgY2FzZSAnbnVtYmVyJzpcblx0ICAgICAgY2FzZSAnc3RyaW5nJzpcblx0ICAgICAgY2FzZSAndW5kZWZpbmVkJzpcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgY2FzZSAnYm9vbGVhbic6XG5cdCAgICAgICAgcmV0dXJuICFwcm9wVmFsdWU7XG5cdCAgICAgIGNhc2UgJ29iamVjdCc6XG5cdCAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IGlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcblx0ICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuXHQgICAgICAgICAgdmFyIHN0ZXA7XG5cdCAgICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gcHJvcFZhbHVlLmVudHJpZXMpIHtcblx0ICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHQgICAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAvLyBJdGVyYXRvciB3aWxsIHByb3ZpZGUgZW50cnkgW2ssdl0gdHVwbGVzIHJhdGhlciB0aGFuIHZhbHVlcy5cblx0ICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHQgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG5cdCAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSB7XG5cdCAgICAvLyBOYXRpdmUgU3ltYm9sLlxuXHQgICAgaWYgKHByb3BUeXBlID09PSAnc3ltYm9sJykge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddID09PSAnU3ltYm9sJ1xuXHQgICAgaWYgKHByb3BWYWx1ZVsnQEB0b1N0cmluZ1RhZyddID09PSAnU3ltYm9sJykge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBGYWxsYmFjayBmb3Igbm9uLXNwZWMgY29tcGxpYW50IFN5bWJvbHMgd2hpY2ggYXJlIHBvbHlmaWxsZWQuXG5cdCAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wVmFsdWUgaW5zdGFuY2VvZiBTeW1ib2wpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgLy8gRXF1aXZhbGVudCBvZiBgdHlwZW9mYCBidXQgd2l0aCBzcGVjaWFsIGhhbmRsaW5nIGZvciBhcnJheSBhbmQgcmVnZXhwLlxuXHQgIGZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuXHQgICAgdmFyIHByb3BUeXBlID0gdHlwZW9mIHByb3BWYWx1ZTtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgcmV0dXJuICdhcnJheSc7XG5cdCAgICB9XG5cdCAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG5cdCAgICAgIC8vIE9sZCB3ZWJraXRzIChhdCBsZWFzdCB1bnRpbCBBbmRyb2lkIDQuMCkgcmV0dXJuICdmdW5jdGlvbicgcmF0aGVyIHRoYW5cblx0ICAgICAgLy8gJ29iamVjdCcgZm9yIHR5cGVvZiBhIFJlZ0V4cC4gV2UnbGwgbm9ybWFsaXplIHRoaXMgaGVyZSBzbyB0aGF0IC9ibGEvXG5cdCAgICAgIC8vIHBhc3NlcyBQcm9wVHlwZXMub2JqZWN0LlxuXHQgICAgICByZXR1cm4gJ29iamVjdCc7XG5cdCAgICB9XG5cdCAgICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcblx0ICAgICAgcmV0dXJuICdzeW1ib2wnO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHByb3BUeXBlO1xuXHQgIH1cblx0XG5cdCAgLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuXHQgIC8vIFNlZSBgY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXJgLlxuXHQgIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuXHQgICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BWYWx1ZSA9PT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gJycgKyBwcm9wVmFsdWU7XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuXHQgICAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuXHQgICAgICAgIHJldHVybiAnZGF0ZSc7XG5cdCAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG5cdCAgICAgICAgcmV0dXJuICdyZWdleHAnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcHJvcFR5cGU7XG5cdCAgfVxuXHRcblx0ICAvLyBSZXR1cm5zIGEgc3RyaW5nIHRoYXQgaXMgcG9zdGZpeGVkIHRvIGEgd2FybmluZyBhYm91dCBhbiBpbnZhbGlkIHR5cGUuXG5cdCAgLy8gRm9yIGV4YW1wbGUsIFwidW5kZWZpbmVkXCIgb3IgXCJvZiB0eXBlIGFycmF5XCJcblx0ICBmdW5jdGlvbiBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcodmFsdWUpIHtcblx0ICAgIHZhciB0eXBlID0gZ2V0UHJlY2lzZVR5cGUodmFsdWUpO1xuXHQgICAgc3dpdGNoICh0eXBlKSB7XG5cdCAgICAgIGNhc2UgJ2FycmF5Jzpcblx0ICAgICAgY2FzZSAnb2JqZWN0Jzpcblx0ICAgICAgICByZXR1cm4gJ2FuICcgKyB0eXBlO1xuXHQgICAgICBjYXNlICdib29sZWFuJzpcblx0ICAgICAgY2FzZSAnZGF0ZSc6XG5cdCAgICAgIGNhc2UgJ3JlZ2V4cCc6XG5cdCAgICAgICAgcmV0dXJuICdhICcgKyB0eXBlO1xuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJldHVybiB0eXBlO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLy8gUmV0dXJucyBjbGFzcyBuYW1lIG9mIHRoZSBvYmplY3QsIGlmIGFueS5cblx0ICBmdW5jdGlvbiBnZXRDbGFzc05hbWUocHJvcFZhbHVlKSB7XG5cdCAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcblx0ICAgICAgcmV0dXJuIEFOT05ZTU9VUztcblx0ICAgIH1cblx0ICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcblx0ICB9XG5cdFxuXHQgIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gY2hlY2tQcm9wVHlwZXM7XG5cdCAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cdFxuXHQgIHJldHVybiBSZWFjdFByb3BUeXBlcztcblx0fTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHQvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqXG5cdCAqIFxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZykge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gYXJnO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuXHQgKiBwcmltYXJpbHkgdXNlZnVsIGlkaW9tYXRpY2FsbHkgZm9yIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGVuZHBvaW50cyB3aGljaFxuXHQgKiBhbHdheXMgbmVlZCB0byBiZSBjYWxsYWJsZSwgc2luY2UgSlMgbGFja3MgYSBudWxsLWNhbGwgaWRpb20gYWxhIENvY29hLlxuXHQgKi9cblx0dmFyIGVtcHR5RnVuY3Rpb24gPSBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge307XG5cdFxuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWUgPSBtYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcblx0ICByZXR1cm4gYXJnO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBlbXB0eUZ1bmN0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICpcblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuXHQgKlxuXHQgKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuXHQgKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcblx0ICogZXhwZWN0aW5nLlxuXHQgKlxuXHQgKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuXHQgKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG5cdCAqL1xuXHRcblx0dmFyIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7fTtcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG5cdCAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblx0XG5cdCAgaWYgKCFjb25kaXRpb24pIHtcblx0ICAgIHZhciBlcnJvcjtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG5cdCAgICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdCAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG5cdCAgICAgIH0pKTtcblx0ICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcblx0ICAgIH1cblx0XG5cdCAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG5cdCAgICB0aHJvdyBlcnJvcjtcblx0ICB9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlbXB0eUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdC8qKlxuXHQgKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG5cdCAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcblx0ICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcblx0ICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG5cdCAqL1xuXHRcblx0dmFyIHdhcm5pbmcgPSBlbXB0eUZ1bmN0aW9uO1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB2YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGZvcm1hdCkge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdCAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG5cdCAgICB9KTtcblx0ICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cblx0ICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG5cdCAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdCAgICB9IGNhdGNoICh4KSB7fVxuXHQgIH07XG5cdFxuXHQgIHdhcm5pbmcgPSBmdW5jdGlvbiB3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZm9ybWF0LmluZGV4T2YoJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICcpID09PSAwKSB7XG5cdCAgICAgIHJldHVybjsgLy8gSWdub3JlIENvbXBvc2l0ZUNvbXBvbmVudCBwcm9wdHlwZSBjaGVjay5cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWNvbmRpdGlvbikge1xuXHQgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHdhcm5pbmc7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qXG5cdG9iamVjdC1hc3NpZ25cblx0KGMpIFNpbmRyZSBTb3JodXNcblx0QGxpY2Vuc2UgTUlUXG5cdCovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cdHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXHR2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXHR2YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cdFxuXHRmdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0XHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIE9iamVjdCh2YWwpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXHRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdFx0dmFyIHRlc3QyID0ge307XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0XHR9KTtcblx0XHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdFx0dmFyIGZyb207XG5cdFx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0XHR2YXIgc3ltYm9scztcblx0XG5cdFx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblx0XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHRvO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgdmFyIGludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdCAgdmFyIHdhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHQgIHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHQgIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEFzc2VydCB0aGF0IHRoZSB2YWx1ZXMgbWF0Y2ggd2l0aCB0aGUgdHlwZSBzcGVjcy5cblx0ICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSB0eXBlU3BlY3MgTWFwIG9mIG5hbWUgdG8gYSBSZWFjdFByb3BUeXBlXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb24gZS5nLiBcInByb3BcIiwgXCJjb250ZXh0XCIsIFwiY2hpbGQgY29udGV4dFwiXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudCBmb3IgZXJyb3IgbWVzc2FnZXMuXG5cdCAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcblx0ICAgICAgaWYgKHR5cGVTcGVjcy5oYXNPd25Qcm9wZXJ0eSh0eXBlU3BlY05hbWUpKSB7XG5cdCAgICAgICAgdmFyIGVycm9yO1xuXHQgICAgICAgIC8vIFByb3AgdHlwZSB2YWxpZGF0aW9uIG1heSB0aHJvdy4gSW4gY2FzZSB0aGV5IGRvLCB3ZSBkb24ndCB3YW50IHRvXG5cdCAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuXHQgICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG5cdCAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG5cdCAgICAgICAgICBpbnZhcmlhbnQodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdID09PSAnZnVuY3Rpb24nLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSAnICsgJ3RoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAlc2AuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBsb2NhdGlvbiwgdHlwZVNwZWNOYW1lLCB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0pO1xuXHQgICAgICAgICAgZXJyb3IgPSB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSh2YWx1ZXMsIHR5cGVTcGVjTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblx0ICAgICAgICB9IGNhdGNoIChleCkge1xuXHQgICAgICAgICAgZXJyb3IgPSBleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgd2FybmluZyghZXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciwgJyVzOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJXMgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIGVycm9yKTtcblx0ICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuXHQgICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG5cdCAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuXHQgICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblx0XG5cdCAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkICVzIHR5cGU6ICVzJXMnLCBsb2NhdGlvbiwgZXJyb3IubWVzc2FnZSwgc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJycpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBpbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuXHQgICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcblx0ICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpbnZhcmlhbnQoXG5cdCAgICAgIGZhbHNlLFxuXHQgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcblx0ICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG5cdCAgICApO1xuXHQgIH07XG5cdCAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcblx0ICBmdW5jdGlvbiBnZXRTaGltKCkge1xuXHQgICAgcmV0dXJuIHNoaW07XG5cdCAgfTtcblx0ICAvLyBJbXBvcnRhbnQhXG5cdCAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG5cdCAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuXHQgICAgYXJyYXk6IHNoaW0sXG5cdCAgICBib29sOiBzaGltLFxuXHQgICAgZnVuYzogc2hpbSxcblx0ICAgIG51bWJlcjogc2hpbSxcblx0ICAgIG9iamVjdDogc2hpbSxcblx0ICAgIHN0cmluZzogc2hpbSxcblx0ICAgIHN5bWJvbDogc2hpbSxcblx0XG5cdCAgICBhbnk6IHNoaW0sXG5cdCAgICBhcnJheU9mOiBnZXRTaGltLFxuXHQgICAgZWxlbWVudDogc2hpbSxcblx0ICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG5cdCAgICBub2RlOiBzaGltLFxuXHQgICAgb2JqZWN0T2Y6IGdldFNoaW0sXG5cdCAgICBvbmVPZjogZ2V0U2hpbSxcblx0ICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcblx0ICAgIHNoYXBlOiBnZXRTaGltLFxuXHQgICAgZXhhY3Q6IGdldFNoaW1cblx0ICB9O1xuXHRcblx0ICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247XG5cdCAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cdFxuXHQgIHJldHVybiBSZWFjdFByb3BUeXBlcztcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgc2ltcGxlSXNFcXVhbCA9IGZ1bmN0aW9uIHNpbXBsZUlzRXF1YWwoYSwgYikge1xuXHQgIHJldHVybiBhID09PSBiO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gaW5kZXggKHJlc3VsdEZuKSB7XG5cdCAgdmFyIGlzRXF1YWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHNpbXBsZUlzRXF1YWw7XG5cdFxuXHQgIHZhciBsYXN0VGhpcyA9IHZvaWQgMDtcblx0ICB2YXIgbGFzdEFyZ3MgPSBbXTtcblx0ICB2YXIgbGFzdFJlc3VsdCA9IHZvaWQgMDtcblx0ICB2YXIgY2FsbGVkT25jZSA9IGZhbHNlO1xuXHRcblx0ICB2YXIgaXNOZXdBcmdFcXVhbFRvTGFzdCA9IGZ1bmN0aW9uIGlzTmV3QXJnRXF1YWxUb0xhc3QobmV3QXJnLCBpbmRleCkge1xuXHQgICAgcmV0dXJuIGlzRXF1YWwobmV3QXJnLCBsYXN0QXJnc1tpbmRleF0pO1xuXHQgIH07XG5cdFxuXHQgIHZhciByZXN1bHQgPSBmdW5jdGlvbiByZXN1bHQoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbmV3QXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBuZXdBcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjYWxsZWRPbmNlICYmIGxhc3RUaGlzID09PSB0aGlzICYmIG5ld0FyZ3MubGVuZ3RoID09PSBsYXN0QXJncy5sZW5ndGggJiYgbmV3QXJncy5ldmVyeShpc05ld0FyZ0VxdWFsVG9MYXN0KSkge1xuXHQgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICBjYWxsZWRPbmNlID0gdHJ1ZTtcblx0ICAgIGxhc3RUaGlzID0gdGhpcztcblx0ICAgIGxhc3RBcmdzID0gbmV3QXJncztcblx0ICAgIGxhc3RSZXN1bHQgPSByZXN1bHRGbi5hcHBseSh0aGlzLCBuZXdBcmdzKTtcblx0ICAgIHJldHVybiBsYXN0UmVzdWx0O1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaW5kZXg7XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbi5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1oaWdobGlnaHQtd29yZHMvZGlzdC9tYWluLmpzXG4vLyBtb2R1bGUgaWQgPSA2MTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICBpZiAocHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3V0aWwvdXRpbC5qc1xuLy8gbW9kdWxlIGlkID0gNjEwOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gNjExMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDYxMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMzE3ZGYwYjcxOTQ0YjIwMGNiMGEyMzI5ZTdhZWJjMGIuZ2lmXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXNzZXRzL1JpcHBsZS5naWZcbi8vIG1vZHVsZSBpZCA9IDYxMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXHJcbiAqIEBhdXRob3IgQmFscmFqIFNpbmdoIDxiYWxyYWpzaW5naC5zQGhpZ2hyYWRpdXMuY29tPlxyXG4gKi9cclxuXHJcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQge1xyXG4gICAgQm9yZGVyQ29sb3IsXHJcbiAgICBIaWdobGlnaHRPZmYsXHJcbiAgICBDaGVja0NpcmNsZU91dGxpbmVcclxufSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvJztcclxuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGQnO1xyXG5cclxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcclxuICAgIG5vbkFjdGlvbk5vdGVzRWRpdGluZzoge1xyXG4gICAgICAgIGJveFNoYWRvdzogXCIgMCA0cHggOHB4IDAgcmdiYSgwLDAsMCwwLjIpXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIwLjhyZW1cIixcclxuICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkICNGRkZcIixcclxuICAgIH0sXHJcbiAgICB0ZXN0OiB7XHJcbiAgICAgICAgd2lkdGg6ICdhdXRvJyxcclxuICAgICAgICBoZWlnaHQ6ICcxMHZoJyxcclxuICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcclxuICAgICAgICBwYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICBkaXNwbGF5OiAnYmxvY2sgIWltcG9ydGFudCcsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIHdoaXRlU3BhY2U6ICdwcmUtbGluZScsXHJcbiAgICB9LFxyXG4gICAgbm9uQWN0aW9uTm90ZXNUaXRsZToge1xyXG4gICAgICAgIGZvbnRTaXplOiBcIjFyZW1cIixcclxuICAgICAgICBsaW5lSGVpZ2h0OiBcIjEuNXJlbVwiLFxyXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxyXG4gICAgICAgIG9wYWNpdHk6IDAuNjVcclxuICAgIH0sXHJcbiAgICBub3Rlc0VkaXRvcjoge1xyXG4gICAgICAgIHdpZHRoOiAnLXdlYmtpdC1maWxsLWF2YWlsYWJsZSdcclxuICAgIH0sXHJcbiAgICBub25BY3Rpb25Ob3Rlc05vdEVkaXRpbmc6IHtcclxuXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY2xhc3MgTm90ZXNFZGl0b3IgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGlzRWRpdGluZ09uOiBmYWxzZSxcclxuICAgICAgICAgICAgbm9uQWN0aW9uTm90ZXM6IHRoaXMucHJvcHMuaW5pdGlhbE5vdGVzLFxyXG4gICAgICAgICAgICBwcmV2Tm9uQWN0aW9uTm90ZXM6IHRoaXMucHJvcHMuaW5pdGlhbE5vdGVzLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XHJcbiAgICAgICAgaWYgKG5leHRQcm9wcy5pbml0aWFsTm90ZXMgIT09IHRoaXMuc3RhdGUubm9uQWN0aW9uTm90ZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobmV4dFN0YXRlLmlzRWRpdGluZ09uICE9PSB0aGlzLnN0YXRlLmlzRWRpdGluZ09uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZU5vdGVzVGV4dEZpZWxkQ2hhbmdlID0gZSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG5vbkFjdGlvbk5vdGVzOiBlLnRhcmdldC52YWx1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBlZGl0Tm9uQWN0aW9uTm90ZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzRWRpdGluZ09uOiB0cnVlIH0sICgpID0+IHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGV4dEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vbi1hY3Rpb24tbm90ZXMtZWRpdC1maWVsZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRleHRGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRGaWVsZC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU29tZXRoaW5nIGhhcHBlbmVkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDIwMClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNjYXJkTm90ZXNDaGFuZ2VzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0VkaXRpbmdPbjogZmFsc2UsXHJcbiAgICAgICAgICAgIG5vbkFjdGlvbk5vdGVzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wcmV2Tm9uQWN0aW9uTm90ZXNcclxuICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYmx1ck5vbkFjdGlvbk5vdGVzQm94KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZU5vdGVzQ2hhbmdlcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNFZGl0aW5nT246IGZhbHNlLFxyXG4gICAgICAgICAgICBwcmV2Tm9uQWN0aW9uTm90ZXM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzXHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJsdXJOb25BY3Rpb25Ob3Rlc0JveCgpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uTm90ZXNDaGFuZ2UodGhpcy5zdGF0ZS5ub25BY3Rpb25Ob3Rlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYmx1ck5vbkFjdGlvbk5vdGVzQm94ID0gKCkgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgdGV4dEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub24tYWN0aW9uLW5vdGVzLWVkaXQtZmllbGRcIik7XHJcbiAgICAgICAgICAgIGlmICh0ZXh0RmllbGQpIHtcclxuICAgICAgICAgICAgICAgIHRleHRGaWVsZC5ibHVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDApXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLm5vbkFjdGlvbk5vdGVzVGl0bGV9Pk5PTiBBQ1RJT04gTk9URVM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Qm9yZGVyQ29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM1REFBRTAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdDogJ3JpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZWRpdE5vbkFjdGlvbk5vdGVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNFZGl0aW5nT24gJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmbG9hdDogJ3JpZ2h0JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0T2ZmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAnMC40cmVtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI0ZGODg4OCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMCAxLjNyZW0gMCAwLjhyZW0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5kaXNjYXJkTm90ZXNDaGFuZ2VzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlT3V0bGluZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjNUZDMzJDJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2F2ZU5vdGVzQ2hhbmdlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICBpZD0nbm9uLWFjdGlvbi1ub3Rlcy1lZGl0LWZpZWxkJ1xyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm5vbkFjdGlvbk5vdGVzfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5oYW5kbGVOb3Rlc1RleHRGaWVsZENoYW5nZShlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2xhc3Nlcy5ub3Rlc0VkaXRvciArICcgJykgKyAodGhpcy5zdGF0ZS5pc0VkaXRpbmdPbiA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzLm5vbkFjdGlvbk5vdGVzRWRpdGluZyA6IGNsYXNzZXMubm9uQWN0aW9uTm90ZXNOb3RFZGl0aW5nKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW49XCJub3JtYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBCb29sZWFuKCF0aGlzLnN0YXRlLmlzRWRpdGluZ09uKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuZGVybGluZTogQm9vbGVhbih0cnVlKSxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKE5vdGVzRWRpdG9yKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9Ob3Rlc0VkaXRvci5qcyIsImltcG9ydCB7IGlzQWN0aW9uSW50ZW50IH0gZnJvbSAnLi4vaGVscGVyJztcclxuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZU5vdGVzQXNTdHJpbmcgPSAobm90ZXMpID0+IHtcclxuICAgIGxldCBub3Rlc1N0cmluZyA9ICcnO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm90ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBub3Rlc1N0cmluZyArPSBpID09PSBub3Rlcy5sZW5ndGggLSAxID8gbm90ZXNbaV0udHJpbSgpIDogYCR7bm90ZXNbaV0udHJpbSgpfS9uYDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbm90ZXNTdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlU3VtbWFyeUNvbXBsZXRpb25NYXAgPSAoc3VtbWFyeSkgPT4ge1xyXG4gICAgbGV0IG1hcCA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBzdW1tYXJ5ICYmIHN1bW1hcnkubWFwKHN1bW1hcnkgPT4gKFxyXG4gICAgICAgIChpc0FjdGlvbkludGVudChzdW1tYXJ5LmludGVudCkpICYmXHJcbiAgICAgICAgKG1hcC5zZXQoc3VtbWFyeS5pZCwgZmFsc2UpKVxyXG4gICAgKSk7XHJcblxyXG4gICAgcmV0dXJuIG1hcDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhcHBlbmRJZHNUb1N1bW1hcnkgPSAoc3VtbWFyeSkgPT4ge1xyXG4gICAgLy9hcHBlbmQgaWRzIHRvIHN1bW1hcnlcclxuICAgIGlmIChzdW1tYXJ5KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBpIGluIHN1bW1hcnkpIHtcclxuICAgICAgICAgICAgc3VtbWFyeVtpXVsnaWQnXSA9IGkgKyAxO1xyXG4gICAgICAgICAgICBzdW1tYXJ5W2ldWydzYXZlJ10gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN1bW1hcnk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlSW5pdGlhbE5vbkFjdGlvblN1bW1hcnlOb3RlcyA9IChzdW1tYXJ5LCB2b2ljZW1haWxNZXNzYWdlID0gJycpID0+IHtcclxuICAgIGxldCBpbml0aWFsTm90ZXNTdHJpbmcgPSAnJztcclxuXHJcbiAgICBpZiAodm9pY2VtYWlsTWVzc2FnZSkge1xyXG4gICAgICAgIGluaXRpYWxOb3Rlc1N0cmluZyArPSB2b2ljZW1haWxNZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoY29uc3QgaSBpbiBzdW1tYXJ5KSB7XHJcbiAgICAgICAgaWYgKCFpc0FjdGlvbkludGVudChzdW1tYXJ5W2ldLmludGVudCkpIHtcclxuICAgICAgICAgICAgaW5pdGlhbE5vdGVzU3RyaW5nICs9IHN1bW1hcnlbaV0uc3VtbWFyeTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGluaXRpYWxOb3Rlc1N0cmluZztcclxufTtcclxuXHJcbi8vY2hlY2tzIGlmIHRoZSBtYXAgY29udGFpbnMgYW55IGZhbHNlIHZhbHVlXHJcbi8vcmV0dXJuIHRydWUgaWYgaXQgZG9lc1xyXG5leHBvcnQgY29uc3QgY2hlY2tTdW1tYXJ5Q29tcGxldGVNYXAgPSAoc3VtbWFyeUNvbXBsZXRpb25NYXApID0+IHtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHZhbCBvZiBzdW1tYXJ5Q29tcGxldGlvbk1hcC52YWx1ZXMoKSkge1xyXG4gICAgICAgIGlmICh2YWwgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL2hlbHBlcnMvcG9zdENhbGxIZWxwZXIuanMiLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCB7IGhhbmRsZUFwaVJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbHMvbmV0d29ya1V0aWxzJztcclxuXHJcbi8vY29tbWVudCBvdXQgZm9sbG93aW5nIGJlZm9yZSBwdXNoIHRvIGdpdFxyXG5cclxuLy9mb3IgbG9jYWxob3N0LCBjb21tZW50IGZvbGxvd2luZyBiZWZvcmUgcHVzaCB0byBnaXRcclxuLy8gY29uc3QgQkFTRV9FTkRQT0lOVCA9ICcvY29tbW9uJztcclxuY29uc3QgQkFTRV9FTkRQT0lOVCA9ICcnOy8vbW9ja1xyXG5cclxuY29uc3QgRElTUFVURV9FTkRQT0lOVCA9ICcvZGlzcHV0ZWNvZGVzJztcclxuY29uc3QgRk9MTE9XX1VQX0VORFBPSU5UID0gJy90YXNrdHlwZXMnO1xyXG5cclxuY29uc3QgZ2V0RGlzcHV0ZUNvZGVzID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIGF4aW9zXHJcbiAgICAgICAgLmdldChgJHtjb25maWcuYXBpVXJsfSR7QkFTRV9FTkRQT0lOVH0ke0RJU1BVVEVfRU5EUE9JTlR9YClcclxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKGVycm9yKTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGdldFRhc2tUeXBlcyA9ICgpID0+IHtcclxuICAgIHJldHVybiBheGlvc1xyXG4gICAgICAgIC5nZXQoYCR7Y29uZmlnLmFwaVVybH0ke0JBU0VfRU5EUE9JTlR9JHtGT0xMT1dfVVBfRU5EUE9JTlR9YClcclxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFwaVJlc3BvbnNlKGVycm9yKTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb21tb25TZXJ2aWNlID0geyBnZXREaXNwdXRlQ29kZXMsICBnZXRUYXNrVHlwZXMgfTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmljZXMvY29tbW9uU2VydmljZS5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgVGFicyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UYWJzJztcclxuaW1wb3J0IFRhYiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UYWInO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IER1ZURldGFpbCBmcm9tICcuL0R1ZURldGFpbCc7XHJcbmltcG9ydCB7IFBhcGVyIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaXJjdWxhclByb2dyZXNzJztcclxuaW1wb3J0IEludm9pY2VUYWJsZSBmcm9tICcuL0ludm9pY2VUYWJsZSc7XHJcbmltcG9ydCB7IGZvcm1hdHRlciB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHRlcic7XHJcblxyXG5mdW5jdGlvbiBUYWJDb250YWluZXIocHJvcHMsIHRoZW1lKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxUeXBvZ3JhcGh5IGNvbXBvbmVudD1cImRpdlwiIHN0eWxlPXt7IHBhZGRpbmdUb3A6IFwiMS44NXZoXCIsIH19PlxyXG4gICAgICAgICAgICA8UGFwZXIgZWxldmF0aW9uPXsxfSBzdHlsZT17e292ZXJmbG93WTogXCJhdXRvXCIsIGhlaWdodDogXCI3OC41dmhcIiwgYm9yZGVyUmFkaXVzIDogXCI0cHhcIixib3hTaGFkb3c6IFwibm9uZVwiLGJhY2tncm91bmQ6IHByb3BzLnRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQubWFpbiB9fT5cclxuICAgICAgICAgICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgPC9QYXBlcj5cclxuICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICApO1xyXG59XHJcblxyXG5UYWJDb250YWluZXIucHJvcFR5cGVzID0ge1xyXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xyXG4gICAgcm9vdDoge1xyXG4gICAgICAvLyAgd2lkdGg6IFwiNjEuNDg5dndcIlxyXG4gICAgfSxcclxuICAgIHByb2dyZXNzOiB7XHJcbiAgICAgICAgbWFyZ2luOiBcIjdyZW0gMCAwIDIwcmVtXCJcclxuICAgIH0sXHJcbiAgICBjb250YWluZXI6IHtcclxuICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCJcclxuICAgIH0sXHJcbiAgICBzY3JvbGxCdXR0b25zOiB7XHJcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICBmbGV4OiBcIjAgIWltcG9ydGFudFwiXHJcbiAgICB9LFxyXG4gICAgaW5kaWNhdG9yOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjJweFwiLFxyXG4gICAgICAgIHRvcDogXCI1Ljd2aCAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICB0YWJTZWxlY3RlZDoge1xyXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gKyBcIiAhaW1wb3J0YW50XCJcclxuICAgIH0sXHJcbiAgICB0YWJSb290OiB7XHJcbiAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcclxuICAgICAgIHdpZHRoOiBcImNhbGMoNS42NjZ2aCArIDUuNjY2dncpXCIsXHJcbiAgICAgICBtaW5IZWlnaHQ6IFwiNi4zdmhcIixcclxuICAgICAgIG1heEhlaWdodDogXCI2LjN2aFwiXHJcbiAgICB9LFxyXG4gICAgdGFiV3JhcHBlcjoge1xyXG4gICAgICBtYXJnaW5Cb3R0b206IFwiLjR2d1wiLFxyXG4gICAgICAgd2lkdGg6IFwiY2FsYyg1LjY2NnZoICsgNS42NjZ2dylcIixcclxuICAgIH0sXHJcbiAgICB0YWJzRmxleENvbnRhaW5lcjogeyAgXHJcbiAgICAgICAgaGVpZ2h0OiBcIjYuM3ZoXCJcclxuICAgIH0sXHJcbiAgICB0YWJzUm9vdDoge1xyXG4gICAgICAgIG1pbkhlaWdodDogXCI2LjN2aFwiLFxyXG4gICAgICAgIG1heEhlaWdodDogXCI2LjN2aFwiXHJcbiAgICB9LFxyXG4gICAgdGFic1Njcm9sbGVyOiB7XHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIi0xMHZoICFpbXBvcnRhbnRcIlxyXG4gICAgfSxcclxuICAgIGludm9pY2VDb3VudFRleHQ6IHtcclxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXHJcbiAgICAgICAgZm9udFNpemU6IFwiLjhyZW1cIiwgXHJcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gICAgYnVja2V0TmFtZXM6IFtdLFxyXG4gICAgaW52b2ljZXM6IFtdXHJcbiAgfTsgXHJcblxyXG5jbGFzcyBJbkNhbGxEZXRhaWxzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIGxldCBkYXlzID0gdGhpcy5wcm9wcy5idWNrZXROYW1lcy5yZXZlcnNlKClcclxuICAgICAgICBkYXlzLnVuc2hpZnQoXCJDdXJyZW50IER1ZVwiKVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGludm9pY2VzOiBwcm9wcy5pbnZvaWNlcyxcclxuICAgICAgICAgICAgYWxsSW52b2ljZXM6IHByb3BzLmludm9pY2VzLFxyXG4gICAgICAgICAgICBkYXlzIDogZGF5c1xyXG4gICAgICAgICAgICAvLyBhbGxJbnZvaWNlczogdGhpcy5wcm9wcy5pbnZvaWNlcyxcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgIFxyXG5cclxuICAgICAgICAvLyBmaWx0ZXJJbnZvaWNlcyA9IGZpbHRlckludm9pY2VzLmJpbmQodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGxldCB1cmwgPSBgJHtjb25maWcuYXBpVXJsfS9pbnZvaWNlc2BcclxuICAgICAgICAvLyBheGlvcy5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiByZXNwb25zZS5kYXRhIH0pXHJcbiAgICAgICAgLy8gICAgIHRoaXMuc2V0U3RhdGUoeyBhbGxJbnZvaWNlczogcmVzcG9uc2UuZGF0YSB9KVxyXG4gICAgICAgIC8vICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSlcclxuICAgICAgICAvLyB9KVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9GaWx0ZXIgaW52b2ljZSBiYXNlZCBvbiBidWNrZXRcclxuICAgIGZpbHRlckludm9pY2VzID0gKGludm9pY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgaWYgKGludm9pY2VUeXBlID09IFwiQWxsXCIpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZvaWNlczogdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcyB9KTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGludm9pY2VzID0gdGhpcy5zdGF0ZS5hbGxJbnZvaWNlcztcclxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkSW52b2ljZXMgPSBbXVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEFycmF5ID0gW11cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2ljZVR5cGUgPT0gXCJEaXNwdXRlXCIgJiYgaW52b2ljZXNbaV1bal0uZGlzcHV0ZVN0YXR1cyAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlByZWRpY3RlZCBEZWxpbnF1ZW50XCIgJiYgaW52b2ljZXNbaV1bal0ucDJwRGVsaW5xdWVudCA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvaWNlVHlwZSA9PSBcIlVwY29taW5nIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycFVwY29taW5nID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBBcnJheS5wdXNoKGludm9pY2VzW2ldW2pdKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGludm9pY2VUeXBlID09IFwiQnJva2VuIFAyUFwiICYmIGludm9pY2VzW2ldW2pdLnAycEJyb2tlbiA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyYXkucHVzaChpbnZvaWNlc1tpXVtqXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkSW52b2ljZXMucHVzaCh0ZW1wQXJyYXkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludm9pY2VzOiBmaWx0ZXJlZEludm9pY2VzIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAgICAgaGFuZGxlQ2hhbmdlID0gKGV2ZW50LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWUgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaWYgcHJpbWFyeSBlbWFpbCBJRCBpcyBwcmVzZW50IGluIGN1c3RvbWVyIGNvbnRhY3RzLlxyXG4gICAgICAgIC8vIGNoZWNrRW1haWxJRCA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnByb3BzLmN1c3RvbWVyID09IHVuZGVmaW5lZCB8fCB0aGlzLnByb3BzLmN1c3RvbWVyLmNvbnRhY3RzLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jdXN0b21lci5jb250YWN0c1tpXS5wcmltYXJ5ID09PSB0cnVlICYmIHRoaXMucHJvcHMuY3VzdG9tZXIuY29udGFjdHNbaV0uZW1haWwpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vICAgICB9XHJcblxyXG4gICAgICAgIC8vIH07XHJcblxyXG4gICAgICAgIC8vICBmaW5kVHlwZSA9IChpbnZvaWNlKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgIHN3aXRjaChpbnZvaWNlKVxyXG4gICAgICAgIC8vICAgICAgICB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICBjYXNlIGludm9pY2UucDJwRGVsaW5xdWVudCA9PSB0cnVlIDpcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICByZXR1cm4gXCJQcmVkaWN0ZWQgRGVsaW5xbWVudFwiXHJcbiAgICAgICAgLy8gICAgICAgICAgICBjYXNlIGludm9pY2UucDJwVXBjb21pbmcgPT0gdHJ1ZSA6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIFwiVXBjb21pbmcgUDJQXCJcclxuICAgICAgICAvLyAgICAgICAgICAgICBjYXNlIGludm9pY2UucDJwQnJva2VuID09IHRydWUgOlxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIkJyb2tlbiBQMlBcIlxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIFwiRGlzcHV0ZVwiXHJcbiAgICAgICAgLy8gICAgICAgIH1cclxuICAgICAgICAvLyAgfVxyXG4gICAgICAgIHJlbmRlcigpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBjbGFzc2VzLCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBkYXlzID0gZGF5cy51bnNoaWZ0KFwiQ3VycmUgICBudCBEdWVcIilcclxuICAgICAgICAgICAgdmFyIGludm9pY2VDb3VudCA9IFtdXHJcbiAgICAgICAgICAgIHZhciBpbnZvaWNlVG90YWxBbW91bnQgPSBbXVxyXG4gICAgICAgICAgICB2YXIgdG90YWxJbnZvaWNlQ291bnQgPSAwO1xyXG4gICAgICAgICAgICB2YXIgd2hvbGVBbW91bnQgPSAwXHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5zdGF0ZS5kYXlzLmxlbmd0aDtpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGludm9pY2VUb3RhbEFtb3VudC5wdXNoKDApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmludm9pY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZvaWNlQ291bnQucHVzaCh0aGlzLnN0YXRlLmludm9pY2VzW2ldLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHZhciBzdW0gPSAwXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuc3RhdGUuaW52b2ljZXNbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdW0gPSBzdW0gKyB0aGlzLnN0YXRlLmludm9pY2VzW2ldW2pdLmN1cnJlbnRPcGVuQW1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxJbnZvaWNlQ291bnQgPSB0b3RhbEludm9pY2VDb3VudCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hvbGVBbW91bnQgPSB3aG9sZUFtb3VudCArIHRoaXMuc3RhdGUuaW52b2ljZXNbaV1bal0uY3VycmVudE9wZW5BbW91bnRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGludm9pY2VUb3RhbEFtb3VudFtpXSA9IHN1bVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnJvb3R9PlxyXG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubG9hZGluZyA9PT0gZmFsc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYnMgdmFsdWU9e3ZhbHVlfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JDb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyaWFudD1cInNjcm9sbGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQnV0dG9ucz1cImF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyA9IHt7IHNjcm9sbEJ1dHRvbnM6IGNsYXNzZXMuc2Nyb2xsQnV0dG9ucywgZmxleENvbnRhaW5lcjogY2xhc3Nlcy50YWJzRmxleENvbnRhaW5lciwgcm9vdDogY2xhc3Nlcy50YWJzUm9vdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlcjogY2xhc3Nlcy50YWJzU2Nyb2xsZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWJJbmRpY2F0b3JQcm9wcyA9IHt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiBjbGFzc2VzPXt7IHNlbGVjdGVkOiBjbGFzc2VzLnRhYlNlbGVjdGVkLHJvb3Q6IGNsYXNzZXMudGFiUm9vdCwgd3JhcHBlcjogY2xhc3Nlcy50YWJXcmFwcGVyfX0gaWNvbj17PGRpdj48c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUNvdW50VGV4dH0+e3RvdGFsSW52b2ljZUNvdW50fSAoJHtmb3JtYXR0ZXIod2hvbGVBbW91bnQpfSk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IFwiLjhyZW1cIiB9fT5BbGwgSW52b2ljZXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj59IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5kYXlzLm1hcCgoZGF5LCBpZCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGNsYXNzZXM9e3sgc2VsZWN0ZWQ6IGNsYXNzZXMudGFiU2VsZWN0ZWQscm9vdDogY2xhc3Nlcy50YWJSb290fX0gaWNvbj17PGRpdj48c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMuaW52b2ljZUNvdW50VGV4dH0+e2ludm9pY2VDb3VudFtpZF19ICgke2Zvcm1hdHRlcihpbnZvaWNlVG90YWxBbW91bnRbaWRdKX0pPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IFwiLjhyZW1cIiB9fT57ZGF5fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dmFsdWUgPT09IDAgJiYgPFRhYkNvbnRhaW5lciB0aGVtZSA9IHt0aGVtZX0+PER1ZURldGFpbCBlbWFpbE9mQ2FsbGVkPXt0aGlzLnByb3BzLmVtYWlsT2ZDYWxsZWR9IGNvbGxlY3Rvcj17dGhpcy5wcm9wcy5jb2xsZWN0b3J9IGN1c3RvbWVyPXt0aGlzLnByb3BzLmN1c3RvbWVyfSBmaWx0ZXJJbnZvaWNlcz17dGhpcy5maWx0ZXJJbnZvaWNlc30gYnVja2V0TmFtZXM9e3RoaXMuc3RhdGUuZGF5c30gaW52b2ljZXM9e3RoaXMuc3RhdGUuaW52b2ljZXN9PjwvRHVlRGV0YWlsPjwvVGFiQ29udGFpbmVyPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaW52b2ljZXMubWFwKChidWNrZXRJbnZvaWNlcywgaWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gaWQgKyAxICYmIDxUYWJDb250YWluZXIgdGhlbWUgPSB7dGhlbWV9IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb250YWluZXJ9PjxJbnZvaWNlVGFibGUgZW1haWxPZkNhbGxlZD17dGhpcy5wcm9wcy5lbWFpbE9mQ2FsbGVkfSBjb2xsZWN0b3I9e3RoaXMucHJvcHMuY29sbGVjdG9yfSBjdXN0b21lcj17dGhpcy5wcm9wcy5jdXN0b21lcn0gZmlsdGVySW52b2ljZXM9e3RoaXMuZmlsdGVySW52b2ljZXN9IGluZGl2aWR1YWw9e3RydWV9IGRheXM9e3RoaXMuc3RhdGUuZGF5c1tpZF19IGludm9pY2VzPXtidWNrZXRJbnZvaWNlc30+PC9JbnZvaWNlVGFibGU+PC9UYWJDb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmxvYWRpbmcgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGljYXRvckNvbG9yPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInNjcm9sbGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEJ1dHRvbnM9XCJhdXRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzID0ge3sgc2Nyb2xsQnV0dG9uczogY2xhc3Nlcy5zY3JvbGxCdXR0b25zfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIHN0eWxlPXt7IGNvbG9yOiBcIndoaXRlXCIgfX0gbGFiZWw9XCJBbGwgSW52b2ljZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZGF5cy5tYXAoKGRheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiBzdHlsZT17eyBjb2xvcjogXCJ3aGl0ZVwiIH19IGxhYmVsPXtkYXkgKyBcImRheXMgcGFzdCBkdWVcIn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBhcGVyIHN0eWxlPXt7IGhlaWdodDogXCIyNHJlbVwiLCBtYXJnaW5Ub3A6IFwiMnJlbVwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjdWxhclByb2dyZXNzIGNsYXNzTmFtZT17Y2xhc3Nlcy5wcm9ncmVzc30gc2l6ZT17MTAwfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9QYXBlcj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgSW5DYWxsRGV0YWlscy5wcm9wVHlwZXMgPSB7XHJcbiAgICAgICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgSW5DYWxsRGV0YWlscy5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XHJcblxyXG4gICAgZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHsgd2l0aFRoZW1lOiB0cnVlIH0pKEluQ2FsbERldGFpbHMpO1xyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvSW5DYWxsRGV0YWlscy5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQb3BvdmVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1BvcG92ZXInO1xyXG5pbXBvcnQgeyB3aXRoU3R5bGVzLCBUeXBvZ3JhcGh5LCBJY29uQnV0dG9uIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xyXG5pbXBvcnQgQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaXJjdWxhclByb2dyZXNzJztcclxuaW1wb3J0IHsgY2hhbmdlQ2FsbGVyIH0gZnJvbSAnLi4vYWN0aW9ucy9hY3Rpb25zJztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHsgVm9pY2VtYWlsLCBNb3JlVmVydCwgRG9uZSwgQ2xvc2UgfSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvJztcclxuaW1wb3J0IHsgc2lwU2VuZERUTUYsIHNpcFRvZ2dsZU11dGUgfSBmcm9tICcuLi91dGlscy9zaXBVdGlscyc7XHJcbmltcG9ydCB7IGVtcHR5RnVuY3Rpb24sIFZPSUNFTUFJTF9BVVRPX0NMT1NFX1RJTUVNT1VUIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IFNuYWNrYmFyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1NuYWNrYmFyJztcclxuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xvc2UnO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5cclxuXHJcbmNvbnN0IHN0eWxlcyA9IHRoZW1lID0+ICh7XHJcbiAgQXBwOiB7XHJcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgfSxcclxuICBwb3BPdmVyOiB7XHJcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvcixcclxuICAgIHdpZHRoOiBcIjIwZW1cIlxyXG4gIH0sXHJcbiAgaGVhZDoge1xyXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsXHJcbiAgICBmb250U2l6ZTogXCIxZW1cIixcclxuICAgIG9wYWNpdHk6IDAuNjUsXHJcbiAgfSxcclxuICBpY29uOiB7XHJcbiAgICBoZWlnaHQ6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxyXG4gICAgbWluV2lkdGg6IFwiY2FsYygxLjZ2aCArIDEuNnZ3KVwiLFxyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICB9LFxyXG4gIHZvaWNlTWFpbEljb246IHtcclxuICAgIGJhY2tncm91bmQ6IFwiIzVEQUFFMFwiLFxyXG4gICAgcGFkZGluZzogXCIxcHhcIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbFNlbnRJY29uOiB7XHJcbiAgICBib3JkZXI6IFwiMnB4IHNvbGlkICM1REFBRTBcIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbFByb2dyZXNzUGFyZW50OiB7XHJcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gIH0sXHJcbiAgdm9pY2VtYWlsQm94OiB7XHJcbiAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxyXG4gICAgYm9yZGVyQm90dG9tOiBcIjAuNXB4IHNvbGlkIHJnYig5MywxNzAsMjI0KVwiLFxyXG4gICAgYm9yZGVyQm90dG9tOiBcIjAuNXB4IHNvbGlkIHJnYmEoOTMsMTcwLDIyNCwwLjY1KVwiLFxyXG4gICAgcGFkZGluZzogXCIxMnB4IDEycHggMjBweCAxMnB4XCIsXHJcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgIG1hcmdpbkJvdHRvbTogXCIyMHB4XCIsXHJcbiAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gIH0sXHJcbiAgZGlzYWJsZWRWb2ljZW1haWxCb3g6IHtcclxuICAgIGN1cnNvcjogXCJkZWZhdWx0ICFpbXBvcnRhbnRcIixcclxuICAgIG9wYWNpdHk6IFwiMC42NVwiLFxyXG4gIH0sXHJcbiAgdm9pY2VtYWlsVGV4dDoge1xyXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxyXG4gICAgbWFyZ2luTGVmdDogXCIxLjJyZW1cIixcclxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgfSxcclxuICB2b2ljZW1haWxQcm9ncmVzczoge1xyXG4gICAgd2lkdGg6IFwiaW5oZXJpdCAhaW1wb3J0YW50XCIsXHJcbiAgICBoZWlnaHQ6IFwiaW5oZXJpdCAhaW1wb3J0YW50XCIsXHJcbiAgICBmaWxsOiBcIiM1REFBRTBcIixcclxuICB9LFxyXG4gIGNsb3NlSWNvbjoge1xyXG4gICAgZmlsbDogXCJsaWdodGJsdWVcIixcclxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICByaWdodDogXCIzJVwiLFxyXG4gICAgZm9udFNpemU6IFwiMnJlbVwiLFxyXG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICB9LFxyXG4gIHZvaWNlbWFpbEJ0bjoge1xyXG4gICAgY29sb3I6IFwiI0ZGRlwiLFxyXG4gICAgZm9udFNpemU6IFwiMS43cmVtXCIsXHJcbiAgICBwYWRkaW5nOiBcIjEwJVwiLFxyXG4gIH0sXHJcbiAgdm9pY2VtYWlsU2VudEJ0bjoge1xyXG4gICAgZm9udFNpemU6IFwiMS41cmVtICFpbXBvcnRhbnRcIixcclxuICB9LFxyXG4gIGRpc2FibGVCdG46IHtcclxuICAgIG9wYWNpdHk6IDAuNCxcclxuICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5jbGFzcyBLZXlQYWQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgb3BlbjogZmFsc2UsXHJcbiAgICAgIHBob25lTnVtYmVyOiBcIlwiLFxyXG4gICAgICBkaXNwbGF5TnVtYmVyOiBcIlwiLFxyXG4gICAgICBkaWFsbGVkOiBmYWxzZSxcclxuICAgICAgZm9jdXM6IHRydWUsXHJcbiAgICAgIGlzVm9pY2VtYWlsRW5hYmxlZDogdHJ1ZSxcclxuICAgICAgaXNWb2ljZW1haWxDbGlja2VkOiBmYWxzZSxcclxuICAgICAgdm9pY2VtYWlsQ2xpY2tNYXA6IG5ldyBNYXAoKSxcclxuICAgICAgdm9pY2VtYWlsU2VudE1hcDogbmV3IE1hcCgpLFxyXG4gICAgICB2b2ljZW1haWxUZW1wbGF0ZXM6IFtdLFxyXG4gICAgICBzbmFja09wZW46IGZhbHNlLFxyXG4gICAgICBkaXNhYmxlVm9pY2VtYWlsQ2xpY2s6IGZhbHNlLFxyXG4gICAgfTtcclxuXHJcbiAgICBheGlvcy5nZXQoYCR7Y29uZmlnLmFwaVVybH0vdm9pY2V0ZW1wbGF0ZWApXHJcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlZvaWNlbWFpbCBGZXRjaGVkXCIsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZvaWNlbWFpbERhdGEocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gZmV0Y2ggdm9pY2VtYWlsc1wiLCBlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZVZvaWNlbWFpbERhdGEgPSAodm9pY2VtYWlsVGVtcGxhdGVzKSA9PiB7XHJcbiAgICBsZXQgdm9pY2VtYWlsQ2xpY2tNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICBsZXQgdm9pY2VtYWlsU2VudE1hcCA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZvaWNlbWFpbFRlbXBsYXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2b2ljZW1haWxDbGlja01hcC5zZXQodm9pY2VtYWlsVGVtcGxhdGVzW2ldLmlkLCBmYWxzZSk7XHJcbiAgICAgIHZvaWNlbWFpbFNlbnRNYXAuc2V0KHZvaWNlbWFpbFRlbXBsYXRlc1tpXS5pZCwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICB2b2ljZW1haWxUZW1wbGF0ZXMsXHJcbiAgICAgIHZvaWNlbWFpbENsaWNrTWFwLFxyXG4gICAgICB2b2ljZW1haWxTZW50TWFwLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlT3BlbiA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuOiB0cnVlIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUNoYW5nZSA9IGUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHBob25lTnVtYmVyOiBlLnRhcmdldC52YWx1ZSB9KTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVDbG9zZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuOiBmYWxzZSwgZGlzYWJsZVZvaWNlbWFpbENsaWNrOiAhdGhpcy5zdGF0ZS5pc1ZvaWNlbWFpbEVuYWJsZWQsIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZVZvaWNlbWFpbENsaWNrID0gdm9pY2VtYWlsVGVtcGxhdGUgPT4ge1xyXG5cclxuICAgIGlmICh0aGlzLnN0YXRlLmRpc2FibGVWb2ljZW1haWxDbGljaykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaWQgPSB2b2ljZW1haWxUZW1wbGF0ZS5pZDtcclxuICAgIGxldCB2b2ljZW1haWxDbGlja01hcCA9IHRoaXMuc3RhdGUudm9pY2VtYWlsQ2xpY2tNYXA7XHJcbiAgICB2b2ljZW1haWxDbGlja01hcC5zZXQoaWQsIHRydWUpO1xyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoeyB2b2ljZW1haWxDbGlja01hcCwgZGlzYWJsZVZvaWNlbWFpbENsaWNrOiB0cnVlIH0sICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2codm9pY2VtYWlsVGVtcGxhdGUudGVtcGxhdGVOYW1lLCB0aGlzLnN0YXRlLmlkKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IFtpZF06IHRydWUgfSk7XHJcbiAgICAgIGlmIChzaXBUb2dnbGVNdXRlKCkgPT09IFwiT0tcIikge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja09wZW46IHRydWUsIHNuYWNrTWVzc2FnZTogXCJNaWMgYXV0byBtdXRlZFwiIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzbmFja09wZW46IHRydWUsIHNuYWNrTWVzc2FnZTogXCJGYWlsZWQgdG8gYXV0byBtdXRlIG1pYyFcIiB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlkID09PSAwKSB7XHJcbiAgICAgICAgc2lwU2VuZERUTUYoJyMnKTtcclxuICAgICAgICBzaXBTZW5kRFRNRignNCcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiMXN0IFRlbXBsYXRlXCIpO1xyXG4gICAgICB9IGVsc2UgaWYgKGlkID09PSAxKSB7XHJcbiAgICAgICAgc2lwU2VuZERUTUYoJyMnKTtcclxuICAgICAgICBzaXBTZW5kRFRNRignNScpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiMm5kIFRlbXBsYXRlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNpcFNlbmREVE1GKCcjJyk7XHJcbiAgICAgICAgc2lwU2VuZERUTUYoJzYnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkxhc3QgdGVtcGxhdGVcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMucHJvcHMub25Wb2ljZW1haWxDbGljaygpO1xyXG4gICAgfSk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgbGV0IHZvaWNlbWFpbFNlbnRNYXAgPSB0aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXA7XHJcbiAgICAgIHZvaWNlbWFpbFNlbnRNYXAuc2V0KGlkLCB0cnVlKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZvaWNlbWFpbFNlbnRNYXAsIGlzVm9pY2VtYWlsRW5hYmxlZDogZmFsc2UgfSk7XHJcbiAgICB9LCAyMDAwKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5oYW5kbGVDbG9zZSgpLCBWT0lDRU1BSUxfQVVUT19DTE9TRV9USU1FTU9VVCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVNuYWNrYmFyID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNuYWNrT3BlbjogZmFsc2UgfSk7XHJcbiAgfVxyXG5cclxuICBpc1ZvaWNlbWFpbEF2YWlsYWJsZSA9ICgpID0+IHtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAodGhpcy5wcm9wcy5jYWxsU3RhdGUuc3RhdHVzID09PSBcIkNvbm5lY3RlZCB0b1wiKSAmJlxyXG4gICAgICAodGhpcy5zdGF0ZS52b2ljZW1haWxUZW1wbGF0ZXMgJiYgdGhpcy5zdGF0ZS52b2ljZW1haWxUZW1wbGF0ZXMubGVuZ3RoID4gMCkgJiZcclxuICAgICAgKHRoaXMuc3RhdGUuaXNWb2ljZW1haWxFbmFibGVkKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgY2xhc3NlcywgdGhlbWUgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuQXBwfT5cclxuICAgICAgICA8Vm9pY2VtYWlsXHJcbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuaXNWb2ljZW1haWxBdmFpbGFibGUoKSA/IGNsYXNzZXMudm9pY2VtYWlsQnRuIDogY2xhc3Nlcy52b2ljZW1haWxCdG4gKyBcIiBcIiArIGNsYXNzZXMuZGlzYWJsZUJ0bn1cclxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaXNWb2ljZW1haWxBdmFpbGFibGUoKSA/IHRoaXMuaGFuZGxlT3BlbiA6IGVtcHR5RnVuY3Rpb259XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8UG9wb3ZlclxyXG4gICAgICAgICAgaWQ9XCJzaW1wbGUtcG9wcGVyXCJcclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbn1cclxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuaGFuZGxlQ2xvc2V9XHJcbiAgICAgICAgICBhbmNob3JSZWZlcmVuY2U9XCJhbmNob3JQb3NpdGlvblwiXHJcbiAgICAgICAgICBhbmNob3JQb3NpdGlvbj17eyB0b3A6IDgwIH19XHJcbiAgICAgICAgICBQYXBlclByb3BzPXt7XHJcbiAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiM2VtXCIsXHJcbiAgICAgICAgICAgICAgcmlnaHQ6IFwiMFwiLFxyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnBhbGV0dGUuc29saWRCYWNrZ3JvdW5kLm1haW4sXHJcbiAgICAgICAgICAgICAgYm9yZGVyTGVmdDogXCIycHggc29saWQgI0ZGRlwiLFxyXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgYW5jaG9yT3JpZ2luPXt7XHJcbiAgICAgICAgICAgIHZlcnRpY2FsOiAyMCxcclxuICAgICAgICAgICAgaG9yaXpvbnRhbDogMjBcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW49e3tcclxuICAgICAgICAgICAgdmVydGljYWw6IDIwLFxyXG4gICAgICAgICAgICBob3Jpem9udGFsOiAyMFxyXG4gICAgICAgICAgfX0+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMucG9wT3Zlcn0+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIHBhZGRpbmdMZWZ0OiBcIjQlXCIsIG1hcmdpblRvcDogXCI1JVwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH19PlxyXG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy5oZWFkfT5WT0lDRU1BSUw8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgPENsb3NlIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xvc2V9IGNsYXNzTmFtZT17Y2xhc3Nlcy5jbG9zZUljb259IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS52b2ljZW1haWxUZW1wbGF0ZXMubWFwKHZvaWNlbWFpbFRlbXBsYXRlID0+IChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLmRpc2FibGVWb2ljZW1haWxDbGljayA/IGNsYXNzTmFtZXMoY2xhc3Nlcy5kaXNhYmxlZFZvaWNlbWFpbEJveCxjbGFzc2VzLnZvaWNlbWFpbEJveCkgOiBjbGFzc2VzLnZvaWNlbWFpbEJveH0ga2V5PXt2b2ljZW1haWxUZW1wbGF0ZS5pZH0+XHJcbiAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy52b2ljZU1haWxJY29uLGNsYXNzZXMuaWNvbil9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFZvaWNlbWFpbCBjbGFzc05hbWU9e2NsYXNzZXMudm9pY2VtYWlsQnRufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS52b2ljZW1haWxTZW50TWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnZvaWNlbWFpbFByb2dyZXNzUGFyZW50LGNsYXNzZXMuYmFzZUljb25TaXplKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyBjbGFzc05hbWU9e2NsYXNzZXMudm9pY2VtYWlsUHJvZ3Jlc3N9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudm9pY2VtYWlsQ2xpY2tNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudm9pY2VtYWlsU2VudE1hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3Nlcy52b2ljZW1haWxTZW50SWNvbixjbGFzc2VzLmljb24pfT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxEb25lIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLnZvaWNlbWFpbFNlbnRCdG4sY2xhc3Nlcy52b2ljZW1haWxCdG4pfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnZvaWNlbWFpbFRleHR9IG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlVm9pY2VtYWlsQ2xpY2sodm9pY2VtYWlsVGVtcGxhdGUpfT5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBzdHlsZT17eyBjb2xvcjogdGhlbWUucGFsZXR0ZS5jYXJkQmFja2dyb3VuZC5jb2xvciwgb3BhY2l0eTogMC42NSB9fT5TZW5kPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbENsaWNrTWFwLmdldCh2b2ljZW1haWxUZW1wbGF0ZS5pZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgY29sb3I6IHRoZW1lLnBhbGV0dGUuY2FyZEJhY2tncm91bmQuY29sb3IsIG9wYWNpdHk6IDAuNjUgfX0+U2VuZGluZzwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b2ljZW1haWxDbGlja01hcC5nZXQodm9pY2VtYWlsVGVtcGxhdGUuaWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvaWNlbWFpbFNlbnRNYXAuZ2V0KHZvaWNlbWFpbFRlbXBsYXRlLmlkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgY29sb3I6IFwiIzVEQUFFMFwiLCBvcGFjaXR5OiAwLjY1IH19PlNlbnQ8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHN0eWxlPXt7IGNvbG9yOiB0aGVtZS5wYWxldHRlLmNhcmRCYWNrZ3JvdW5kLmNvbG9yIH19Pnt2b2ljZW1haWxUZW1wbGF0ZS50ZW1wbGF0ZU5hbWV9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPE1vcmVWZXJ0IHN0eWxlPXt7IHJpZ2h0OiBcIjMlXCIsIHBvc2l0aW9uOiBcImZpeGVkXCIsIH19IC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L1BvcG92ZXI+XHJcbiAgICAgICAgPFNuYWNrYmFyXHJcbiAgICAgICAgICBhbmNob3JPcmlnaW49e3tcclxuICAgICAgICAgICAgdmVydGljYWw6ICdib3R0b20nLFxyXG4gICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCcsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAga2V5PXt0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZX1cclxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc25hY2tPcGVufVxyXG4gICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbj17MjAwMH1cclxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VTbmFja2Jhcn1cclxuICAgICAgICAgIENvbnRlbnRQcm9wcz17e1xyXG4gICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdtZXNzYWdlLWlkJyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBtZXNzYWdlPXs8c3BhbiBpZD17dGhpcy5zdGF0ZS5zbmFja01lc3NhZ2V9Pnt0aGlzLnN0YXRlLnNuYWNrTWVzc2FnZX08L3NwYW4+fVxyXG4gICAgICAgICAgYWN0aW9uPXtbXHJcbiAgICAgICAgICAgIDxJY29uQnV0dG9uXHJcbiAgICAgICAgICAgICAga2V5PVwiY2xvc2VcIlxyXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXHJcbiAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuY2xvc2V9XHJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZVNuYWNrYmFyfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPENsb3NlSWNvbiAvPlxyXG4gICAgICAgICAgICA8L0ljb25CdXR0b24+LFxyXG4gICAgICAgICAgXX1cclxuICAgICAgICAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBWb2ljZW1haWxXcmFwcGVyID0gd2l0aFN0eWxlcyhzdHlsZXMpKEtleVBhZCk7XHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+ICh7XHJcblxyXG4gIGNhbGxTdGF0ZTogc3RhdGUuY2FsbFN0YXRlXHJcbn0pXHJcblxyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSBkaXNwYXRjaCA9PiAoe1xyXG4gIC8vIGNoYW5nZUNhbGxTdGF0ZTogZGF0YSA9PiAoZGlzcGF0Y2goY2hhbmdlQ2FsbFN0YXRlKGRhdGEpKSlcclxuICBjaGFuZ2VDYWxsZXI6IGRhdGEgPT4gKGRpc3BhdGNoKGNoYW5nZUNhbGxlcihkYXRhKSkpXHJcbn0pXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcclxuICBtYXBTdGF0ZVRvUHJvcHMsXHJcbiAgbWFwRGlzcGF0Y2hUb1Byb3BzLFxyXG4pKHdpdGhTdHlsZXMoc3R5bGVzLCB7IHdpdGhUaGVtZTogdHJ1ZSB9KShWb2ljZW1haWxXcmFwcGVyKSlcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvVm9pY2VtYWlsV3JhcHBlci5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQVlBQUFCWHVTczNBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFCbDVKUkVGVWFJSEZtbDlzVTljZHh6Ky82eHU3T0k3eUY1clEwdGpBSnA3VzBDR3hmMktHN24wZ0RaQmFXTDFObXNRVDJSNm1TYVVTRTNUZEhxYkN3NlE5VENJdDJjUFNoNlRhdzU1RzNIL3FXbFNSZEJJYjBsckhMQ01lQkloSjRzVDI5ZjN0d1grSTdlcy8xdzd3ZmJvKzkvenUrWnpmL1oxemZ2Y2NDMjBxTWhucnNTM1BkMjEwQk5Xd0tFR0VZRmtsWlU2Rk9VU2lCakpqbUxuM3hvNkVsdHBwVjFvMWZQblA4VmNFUFN6QzRWYnNWWmxTWk9wUHg0ZmZhc1hlRlhoa010WmpXY1pwc1RWUzVkVldwY3lwSVdPbWFWOTA4eGFhQmoveFRpd3N0bHphTk9CS0tYTnE2SS9HajRhaXpWUnZDQjZaalBYa3NzYWJvSkgyNlpxUXlvWEx4NGQvMXFoYVhmRElaS3pIeXNxMHdNam1rVFdXd296Wm9RZnJoWTVSNjhaTEU3R1JKd0VOSURCaVpXWDZwWWxZemJZZFBmNmtQRjJwZXA0M0t3dmFoUjd1OFhKeWJ4OWZHZkFod0h3eXkxLytsZVRqbTZ1dW4xWDBQTEMzOGw1VnFPU3l4cHRPMFAxK0R3UCtxbjZXYVhlL2oxY1BEdkxWQWpUQXM5MGRuTm8vd0E5ZjZITU5Yb1EvTVJHN1VCZjh4RHV4c05QczBlLzNjT2JnRUdjT0RkSzd4ZVBZZ0duQXo3K3pqYWRNNS9IK3ZWMWRmT3U1emhiaDVYU2V6UUU4TWhuckVWc3VPUm1lMnIrVmZyK0h2aTBlWGpzMDVBaS9kN3VmZ0xmbVdBY2d2TE9ySlhBQXNlVlNaRExXVXdWdVpSaXR0Ymo4NFpORjdxM2xBQmp3TzhQdjZQWTJiUHpaN280V3NRRWhhR1VZTGY0c2dZdkk2Vm8yaXltTDgxY1NkZUhmajYyUVhNL1ZiZHMwV2s2TjhveklLOFZyQStEa1JDd0M5TlMwb0RIOFlzcmkzSFNpSVh4YkVvSUYxcExIbThyd0dzSGZYbmtNOEFWV3llY2ljdCtONVlEZjVNeWhRZnBLM3M1eDdzb0M5d3NkMmhZd2VlM2dJTjFQbFkrRGRVdjU2ZVROdHNrOUhkcHJXQm5DamF1VzYwbDczc29RTm1oeGhXd1cva0hhM2pUZ0RSb3hSTng3dktoYThNVVF1YjFpOGZvamdCY2hiS0F5M001RG5PRFBiSWp2aGVYc3BzTXIwbTFzeGhmTllzcmlnN21WMHUrbkE2WXovQ2JGdk1CSS9hekpRVC9lMTg5Z29JUGtlbzdmLy8xT3FUeWIwN0o2UmZqemhVRzZzSnpsdCsvL3I2ek9OM1owY21oWFBnMTQrOXBkNXBQWnBqbnFKeGNPR3ZDYjdObnFZOTh6L3JMeS96Nm9iclRTODNkV3JiTDdPL3U4N05ucVk4OVduMXNNOStCRlFJK1J6NzJMdW5ZcnhVcW1PbzRyNFRkcVoxOGVPS2R3eTZIajlXUW9HbmRqY08xV3FuUjlJQlFvWGRzS3YvdmdOdXVXVnRrNHdSc0NRMTM1cE9zZmlUWHNhck9hVXRWWlEyRE9EZmoxMitzbHI3KzRxNHRnNzBPdmYzRXZ6YS8rdHNDVkw1YXhOZCtaNGx1b2hMY1Zmdk5lZ2xSV2lYNjVVdDFRSFltdzVQbmFEMGFESXVKcUxuK1F6ckYvUnljaThQeVFudy9uVnNnVUJ1ZHkybVptWVkycDYwbW1yaWY1ZEQ3Rk41OEw0RE9GZ05mZzY4LzQrWFErUmRwU0hxUnRaaFpTM0ZoTXV3Slg1UzBEbUhGbEJWeWRUL0ZSUFA4TjJiZkZ3OWtYaHhqc2NwNmc3cXhhL0hvNjcxbDQ2UGt1WDM1NHVabEpObWpHODhMTG93bTE1WmR1TFQ5UHJMRzd6OGUyZ0VtbjF5QWM2cUxUYTVCY3o1SEsybVV4MitFUk9uMGVRb1d3Q25nTjltNzM4OGwvVmt0dnlvMU1MNmNFNE9SRWJBcmsrMjRmSUFJLzJkZlBnV0Nnck54V1dGeTFXTTNhRFBqTmtuY3JkYXV3TUMyN1dsWDEzY3ZIUW9lTFQ1eHlDdzJnQ24rOGVwZXh6KzZ4bG4zb09VUHlxVzJvMTFzR25jNHBIOFlmZW5sN1Z3ZXZiZ2liSmpVRkd6YUVUa3pFNW9UVzg1WU9qL0R0NFU1Q3ZUNTI5L3ZZVWZpK1hNc3FIOFZYK09lZGRUNVBySkcybE4zOVBuNXg0T25TamtDem5sYzBQbjRzRklTTkM1QXkxaW8wNUpmODZKY3JYUHJzTG4rOWtTeVZMeXhuZWZ2YVBhNFdaaEtBZjk5TjgwWTBVWnJ6bS9XOENLWDlsVkpOMDhzRnQ0dFJPNHJkei9CR05GRUtzVWJ3aXNZdkh3MVZnNDhkQ1MwaFBKNnQ1SUppOXpPODNpeDhCVnRaamZHam9haXF0blMwMGFwdUx1WGhWd3NyckNCb3hReXA2TVhLRGYrcXJwbGVSbFYxOWhHeVZ1bm1Vb2J6MHdsdUxLWTVkMldoTEZsVDFkbnhZNkhSU3B2YTI4d1pvaUx5L0NQa2JTaFZuVFc5aEoyMm1SMUh3dGlSMEpJdFJCNjM1emRLVldkdElWTHJWS0x4VWNvVDhIdzlUeGZWMU9HVmxlV3NVSHR2Y1RPbDZFV25tSzZVcStOQ2xMRjJWdGQ2VWpTT0VObTA0OEtOS29UT0tFSmtzenFnYUJ4bGJQeDQ2S3didTViM2ZRdTdwb2RieVNyejBuZUJxY3ZIUWkybEd1MXRXRk42QzJGZ1JJU3dRckR5YmFqcXJBaExxa1NCR2ROTHROMC9JZndmMGhzREpyOHltOWNBQUFBQVNVVk9SSzVDWUlJPVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXNzZXRzL21pY19vZmYucG5nXG4vLyBtb2R1bGUgaWQgPSA2MTE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQVlBQUFCWHVTczNBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFCSzFKUkVGVWFJSE5tVzJJVkZVWXgzL1BuZGxWUzVDZE9kZTNRRlFTTFd3eEJVUE16VFFRVXdQeFplbWpsaEQwSmZSRFVHWnZSUGpKaU1nUEZTclJGNVdDa0xLb1ZKS0Z0QXhwVXpGY1g2QzIzWHRuZDFhM25NMlorL1RoN3VxNk8zZnVtZG1kSGY5d3VUUG5QTTk1Zm5QbTNIUE9QWTh3Q2xMWG5VTVFMTVZ4RnFMNkNQQUFNQldSZWxTN2dDNmdFL2lSSURoS1Y5ZFBBc0ZJWWtyRnNNYk1CWjRIMWlFeXR6eG43UWFPRUFTZjB0WDFmU1Uvb214d05XWXRzQjJSSjh2MWpkRGZCTUhIWkRMdkNPUnNuYXpCdGFHaGtVVGlmVVNlcUl3dkxvRCtnVWl6ZU42dk51Wk9iSHVRVU5mZFNTTHhTOVdnQVVUbW9IcEswK21YMWFKRFN4cW82MDRFdmdZZUh5MCtLNmtld2ZlYkJmNk5Nb2tFVjdnUFkzNUE1TEhxME1WSTlRejUvRXJKWnJQRnFvc09GWVY2WFBmYm1rRURpQ3drbWZ4R1lYeXg2bUhnQ2c3R0hBS1dWaDB1VGlLTGNkM1BpNDM1NFQyZVRyK0p5RE5qQW1hbjFSanordERDdTM1Si82TFNpa2h5ekxCc3BLckFDdkg5NHdORmQvZTR5TDU3RGhwQVJCRDVTQ0V4VUhRYlhGMTNDN0NrSm1CMmVwQjArb1dCTHdLZ0lManVKV0JXemJCc3BIb04zNThwb0dHUEcvTTA5em8wZ01nTVVxbFZjR2VvdkZSRG5QTGtPRnNBUkdFOHh2eURTT3krSlZLelo4TzhlVEI1TWt5WkV0Nm5Ub1ZjRHRyYTdsem56c0dOR3lNRFYrM0I5OU5KakZsU0ViUXhzR2tUYk5nQWpZMzJmaDBkY1BvMEhEZ0FKMDZVSFJhUlNSaXpUTlIxZHdKdld6czJOc0syYmJCK1BkVFhseDk0c0M1ZWhMMTc0ZUJCdUhXckhNOVhSWTM1RXBGMXNhWjFkYkJuRDJ6ZVhERm5wTnJhd25hdlhiUDFPT1FBMDZ4TXQyNnREalNFejhpdVhlVjRQSlFFWEN2VDV1Ym91dFpXMkw4ZlRwNkVLMWNnR1BJS2FRek1udytMRnNHT0haQXNzaml2WGgyVzUvTTJOSk5GWGJjWHVMK2syYmh4Y1BVcU9FV2U0Vnd1N0RHN2dIRDRNRFExRmE5cmFvSUxGK0xiVUEwY0lINXZrazRYaHdibzdMU0hCbWh2ajY1cmFMQnV4Z0dLdm1IY3BWSmdkWFhXd1FDWU1DRzZUcXpmM1RzY1ZET3hacGtNcUJhdk02YWNnT0VDRmFXYk4yMWJhVThpY2c1NHVLUlpvUkNPOFprekladUZTNWZDcTYwdHZDZVQ5dlB3eG8wd2ZUcE1teGJlQjMrMm53N2JSWTE1RFpHM1lrMW56UXFodTd0dEc2K21kaWRSYmJINnF5OWZyajZPclFxRlk2S1F3SFY3aUpzUzd4V3A1dkg5aVk1QUFmaXExanhscUVXZ0w1eWNDNFZQYWd4akw1RVBZZkNybXpGWEVKbFJXNm9ZcWY2Sjc4OFFDQndBQVVYa2pWcHpXZWk5Z2JQMG9lY3FaeEI1dERaTU1WSTlqKzh2RVBnUGhwK3JQSWZxaUZJY1ZaRnFRRDcvN0FBMERBSHZQMVNQWDR6R1dxcnZTalo3ZG5EUnNKV24vOUR6T0NMTHhvNnNwSTdpZVd1RzVvbUc3Vlg3RGRhZyt2dVlvVVZKOVdjOGIzMng1RmJSVGJiNC9nMXl1UlZBYTlYaG92VWJoY0pUVVFtdHlHTUo2ZTN0QkphZ1dvdFY5U3g5ZmN1bHU3c255cURrZVlwNFhpKyt2eGJWSFVEZnFPTVYxd2Q0M21LNWZyMnJKSnR0YXpwcDBtenE2dlpYN2FGVlBRKzhLTDUvek1hOC9BUnRLclVSeDNsbDFCYXFNTCs1RzgvYlYwNkdlU1FwOGVYQWRtQVZJdVVkYWFuMklQSUZRZkNaWkRMZlZSSy9ZdkRiREdGYWNTV3dCbGdBcEJCSm9ab2k3TUVPNEMvZ0luQUdrVk40WGt2L2RycGkvUSswWDM5Y1hJVjZEd0FBQUFCSlJVNUVya0pnZ2c9PVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXNzZXRzL2hhbmctdXAucG5nXG4vLyBtb2R1bGUgaWQgPSA2MTE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=